From lists at remoteinformation.com.au  Thu Apr  1 01:34:48 2010
From: lists at remoteinformation.com.au (Ben Madin)
Date: Thu, 1 Apr 2010 07:34:48 +0800
Subject: [R-SIG-Mac] feature request: paste and match style / open help
	files in external browser (R.app)
In-Reply-To: <4D2F9E30-F9AE-4F52-B8E0-9A0DEB18C0C1@googlemail.com>
References: <4D2F9E30-F9AE-4F52-B8E0-9A0DEB18C0C1@googlemail.com>
Message-ID: <15BD87CB-11F1-46BC-80F2-8A6E161A0421@remoteinformation.com.au>

G'day Simon et al,

On 31/03/2010, at 23:17 , Martin Batholdy wrote:

> I use the help-functions a lot to look up all the different arguments of a function.
> What I would love is if it would be possible to open help-files in a different program (like Safari).
> So that when I type ?par (or help("par")) my default web browser pops up and shows me the help-file.
> That would give me the opportunity to easily search the help-file via CMD+F and to quickly switch between a help-file and a script.

An alternative feature option I often wished for when learning a new package would be the ability to select the text in the help window, and use the Command-Return key combination (as for the script window) to execute it (ie for the example text) instead of the copy - change window - paste - return combination... thus making stepping through example scripts much easier... but I suspect this to have hidden complexities!

cheers

Ben


From peter.dixon at ualberta.ca  Thu Apr  1 04:15:53 2010
From: peter.dixon at ualberta.ca (Peter Dixon)
Date: Wed, 31 Mar 2010 20:15:53 -0600
Subject: [R-SIG-Mac] feature request: paste and match style / open help
	files in external browser (R.app)
In-Reply-To: <15BD87CB-11F1-46BC-80F2-8A6E161A0421@remoteinformation.com.au>
References: <4D2F9E30-F9AE-4F52-B8E0-9A0DEB18C0C1@googlemail.com>
	<15BD87CB-11F1-46BC-80F2-8A6E161A0421@remoteinformation.com.au>
Message-ID: <1380F844-ADE4-424E-9BBC-3CE3B9884305@ualberta.ca>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100331/ea064bca/attachment.pl>

From mailinglist.honeypot at gmail.com  Thu Apr  1 05:20:35 2010
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Wed, 31 Mar 2010 23:20:35 -0400
Subject: [R-SIG-Mac] feature request: paste and match style / open help
	files in external browser (R.app)
In-Reply-To: <15BD87CB-11F1-46BC-80F2-8A6E161A0421@remoteinformation.com.au>
References: <4D2F9E30-F9AE-4F52-B8E0-9A0DEB18C0C1@googlemail.com>
	<15BD87CB-11F1-46BC-80F2-8A6E161A0421@remoteinformation.com.au>
Message-ID: <t2ybbdc7ed01003312020r8b6bda52y910275ce321396ef@mail.gmail.com>

Hi Ben,

On Wed, Mar 31, 2010 at 7:34 PM, Ben Madin
<lists at remoteinformation.com.au> wrote:
> G'day Simon et al,
>
> On 31/03/2010, at 23:17 , Martin Batholdy wrote:
>
>> I use the help-functions a lot to look up all the different arguments of a function.
>> What I would love is if it would be possible to open help-files in a different program (like Safari).
>> So that when I type ?par (or help("par")) my default web browser pops up and shows me the help-file.
>> That would give me the opportunity to easily search the help-file via CMD+F and to quickly switch between a help-file and a script.
>
> An alternative feature option I often wished for when learning a new package would be the ability to select the text in the help window, and use the Command-Return key combination (as for the script window) to execute it (ie for the example text) instead of the copy - change window - paste - return combination... thus making stepping through example scripts much easier... but I suspect this to have hidden complexities!

While this isn't exactly what you're asking for, I'm curious if you
knew that typing, say:

R> example(lm)

at the R prompt would run the code in the example section of the lm
documentation?

No copy-switch-paste necessary :-)

-- 
Steve Lianoglou
Graduate Student: Computational Systems Biology
 | Memorial Sloan-Kettering Cancer Center
 | Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From lists at remoteinformation.com.au  Thu Apr  1 06:02:31 2010
From: lists at remoteinformation.com.au (Ben Madin)
Date: Thu, 1 Apr 2010 12:02:31 +0800
Subject: [R-SIG-Mac] feature request: paste and match style / open help
	files in external browser (R.app)
In-Reply-To: <t2ybbdc7ed01003312020r8b6bda52y910275ce321396ef@mail.gmail.com>
References: <4D2F9E30-F9AE-4F52-B8E0-9A0DEB18C0C1@googlemail.com>
	<15BD87CB-11F1-46BC-80F2-8A6E161A0421@remoteinformation.com.au>
	<t2ybbdc7ed01003312020r8b6bda52y910275ce321396ef@mail.gmail.com>
Message-ID: <3312218C-0C04-4C9F-9E3D-09B566C2AA47@remoteinformation.com.au>

Thanks Steve,

On 01/04/2010, at 11:20 , Steve Lianoglou wrote:

> Hi Ben,
> 
> On Wed, Mar 31, 2010 at 7:34 PM, Ben Madin
> <lists at remoteinformation.com.au> wrote:
>> G'day Simon et al,
>> 
>> On 31/03/2010, at 23:17 , Martin Batholdy wrote:
>> 
>>> I use the help-functions a lot to look up all the different arguments of a function.
>>> What I would love is if it would be possible to open help-files in a different program (like Safari).
>>> So that when I type ?par (or help("par")) my default web browser pops up and shows me the help-file.
>>> That would give me the opportunity to easily search the help-file via CMD+F and to quickly switch between a help-file and a script.
>> 
>> An alternative feature option I often wished for when learning a new package would be the ability to select the text in the help window, and use the Command-Return key combination (as for the script window) to execute it (ie for the example text) instead of the copy - change window - paste - return combination... thus making stepping through example scripts much easier... but I suspect this to have hidden complexities!
> 
> While this isn't exactly what you're asking for, I'm curious if you
> knew that typing, say:
> 
> R> example(lm)
> 
> at the R prompt would run the code in the example section of the lm
> documentation?

I was aware, but often found myself wanting to run just snippets etc.

cheers

Ben


From j.w.dietrich at medizinische-kybernetik.de  Sat Apr  3 22:31:35 2010
From: j.w.dietrich at medizinische-kybernetik.de (Johannes W. Dietrich)
Date: Sat, 3 Apr 2010 22:31:35 +0200
Subject: [R-SIG-Mac] Read.table for MAC
In-Reply-To: <a06240800c7ade0688c20@[192.168.178.20]>
References: <a06240800c7ade0688c20@[192.168.178.20]>
Message-ID: <a06240800c7dd559b4dad@[192.168.178.20]>

At 21:32 Uhr +0100 26.02.2010, Johannes W. Dietrich wrote:
>A simple method to obtain the path to a file is to open the terminal 
>and to drag the file to the shell's window. Then the terminal 
>displays the full path that can be copied to the R console (or to 
>your script etc.).

I just found an even simpler method: Simply drag a file or folder to 
an open R console or skript window, and the path will be inserted 
automatically.

-- 
-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
-- Dr. Johannes W. Dietrich, M.D.
-- Laboratory XU 44, Endocrine Research
-- Medical Hospital I, Bergmannsheil University Hospitals
-- Ruhr University of Bochum
-- Buerkle-de-la-Camp-Platz 1, D-44789 Bochum, NRW, Germany
-- Phone: +49:234:302-6400, Fax: +49:234:302-6403
-- eMail: "j.w.dietrich at medical-cybernetics.de"
-- WWW: http://medical-cybernetics.de
-- WWW: http://www.bergmannsheil.de
-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --


From ivan.calandra at uni-hamburg.de  Tue Apr  6 09:42:38 2010
From: ivan.calandra at uni-hamburg.de (Ivan Calandra)
Date: Tue, 06 Apr 2010 09:42:38 +0200
Subject: [R-SIG-Mac] Read.table for MAC
In-Reply-To: <a06240800c7dd559b4dad@[192.168.178.20]>
References: <a06240800c7ade0688c20@[192.168.178.20]>
	<a06240800c7dd559b4dad@[192.168.178.20]>
Message-ID: <4BBAE5EE.3020905@uni-hamburg.de>

Hi,
A bit late for my answer, but I find the file.choose() function really 
useful. Moreover, it also works on Windows (and I would guess on Linux 
too, but I don't know for sure).
Ivan

Le 4/3/2010 22:31, Johannes W. Dietrich a ?crit :
> At 21:32 Uhr +0100 26.02.2010, Johannes W. Dietrich wrote:
>> A simple method to obtain the path to a file is to open the terminal 
>> and to drag the file to the shell's window. Then the terminal 
>> displays the full path that can be copied to the R console (or to 
>> your script etc.).
>
> I just found an even simpler method: Simply drag a file or folder to 
> an open R console or skript window, and the path will be inserted 
> automatically.
>

-- 
Ivan CALANDRA
PhD Student
University of Hamburg
Biozentrum Grindel und Zoologisches Museum
Abt. S?ugetiere
Martin-Luther-King-Platz 3
D-20146 Hamburg, GERMANY
+49(0)40 42838 6231
ivan.calandra at uni-hamburg.de

**********
http://www.for771.uni-bonn.de
http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php


From laubrock at uni-potsdam.de  Tue Apr  6 12:04:20 2010
From: laubrock at uni-potsdam.de (Jochen Laubrock)
Date: Tue, 6 Apr 2010 12:04:20 +0200
Subject: [R-SIG-Mac] wish: faster resizing of R console window in R.app
Message-ID: <68CB5336-55E5-4665-8D12-D996CA9C3895@uni-potsdam.de>

Dear Simon et al.,

in longer sessions with real data, the console window often fills up with output. If it is then resized, R becomes unresponsive and the OS X beach ball of death is often seen, with some delay, for an extended period. The following example illustrates this effect (if not, increase the numbers):

omp <- getOption("max.print")
options(max.print=2*1e6)
print(data.frame(matrix(nrow=1e5, ncol=20)))
options(max.print=omp)

This is probably nontrivial, but it would be nice if calculation of the resized window could be faster. Maybe, only refresh the visible portion of the console could be redrawn immediately, and the remainder be recomputed in the background?

Best, Jochen


R version 2.10.1 (2009-12-14) 
i386-apple-darwin9.8.0 

locale:
[1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets 
[6] methods   base     


From j.van_den_hoff at fzd.de  Wed Apr  7 18:01:35 2010
From: j.van_den_hoff at fzd.de (joerg van den hoff)
Date: Wed, 07 Apr 2010 18:01:35 +0200
Subject: [R-SIG-Mac] manpage problem
Message-ID: <op.vasusx1f5cnj9i@marco.fz-rossendorf.de>

not sure whether this is MAC specific:

I use \itemize or \enumerate in some manpages. it worked previously, but  
I'm not sure up till when...
now (with 2.10.1) I see the following:

-- using the R-GUI manpages are displayed correctly
-- in the Terminal.app (or xterm) only the bullet points (or enumerating  
numbers) are displayed, but the actual description
    for the item is missing.

any ideas?

thanks

joerg

ps: macos 10.5.8 ppc
pps: in case, the problem is my manpage, the source code of this  
(rudimentary) manpage is:

\name{metacor}
\alias{metacor}
\title{
Perform metabolite correction
}
\description{
Computes metabolite corrected input function from whole blood data plus
time dependent metabolite fraction
}
\usage{
metacor(input, metfrac = 0)
}
\arguments{
   \item{input}{
   measured input function (class \code{Roidata})
}
   \item{metfrac}{
   metabolite fraction
}
}
\details{
The metabolite fraction has to be in one of the following formats.

    \enumerate{
       \item{a single number}
       \item{a vector of metabolite fractions corresponding one-to-one to  
the
          time points in input}
       \item{a two column matrix (time vs. metab. fraction) where time units
          have to be the same as those used in input}
       \item{a Roidata object including timing information}
    }
}
\value{
metabolite corrected input function (\code{Roidata} object)
}
\author{
vdh
}
\seealso{
\code{readroi}
}
\keyword{ utilities }


From moshersteven at gmail.com  Wed Apr  7 21:26:03 2010
From: moshersteven at gmail.com (steven mosher)
Date: Wed, 7 Apr 2010 12:26:03 -0700
Subject: [R-SIG-Mac] Problems with Mac and X11.
Message-ID: <v2ya6cb15901004071226i8d7e9562z2a7d2bb1e446829@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100407/e748db01/attachment.pl>

From mailinglist.honeypot at gmail.com  Wed Apr  7 22:20:29 2010
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Wed, 7 Apr 2010 16:20:29 -0400
Subject: [R-SIG-Mac] Problems with Mac and X11.
In-Reply-To: <v2ya6cb15901004071226i8d7e9562z2a7d2bb1e446829@mail.gmail.com>
References: <v2ya6cb15901004071226i8d7e9562z2a7d2bb1e446829@mail.gmail.com>
Message-ID: <p2kbbdc7ed01004071320s66128581t85e2a5ad34f69e82@mail.gmail.com>

Hi,

On Wed, Apr 7, 2010 at 3:26 PM, steven mosher <moshersteven at gmail.com> wrote:
> I just downloaded the latest version of R for the MAC ( I have 10.5 )
> and when I call pot routines I get errors on X11 libs.
>
> Any clue

Not without any more details.

Can you be more specific about the code you're trying, and the exact
errors you're getting?

For instance, this works fine for me:

R> X11()
R> plot(1:10)

-- 
Steve Lianoglou
Graduate Student: Computational Systems Biology
 | Memorial Sloan-Kettering Cancer Center
 | Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From david.b.a.epstein at googlemail.com  Thu Apr  8 10:56:14 2010
From: david.b.a.epstein at googlemail.com (David)
Date: Thu, 8 Apr 2010 01:56:14 -0700 (PDT)
Subject: [R-SIG-Mac] getting history() to work
Message-ID: <b1f6a0ec-d24d-4a20-9a45-94ac9866a4db@s9g2000yqa.googlegroups.com>

When I type history() to the R console, I get a new window that is
always blank. How can I get history() working?

Here are the details of my set-up. In the plist, a number of keys were
listed that looked like passwords. Because I didn't understand the
security implications (almost certainly non-existent), I mangled
these.

Mac Os X 10.4.11 (upgrading to Leopard as soon as I get some free
time)
PowerPC G4

response to typing 'version' to R console
platform       powerpc-apple-darwin8.11.1
arch           powerpc
os             darwin8.11.1
system         powerpc, darwin8.11.1
status
major          2
minor          8.0
year           2008
month          10
day            20
svn rev        46754
language       R
version.string R version 2.8.0 (2008-10-20)

About R:
R.app GUI 1.26 (5256), S.Urbanek & S.M.Iacus, ? R Foundation for
Statistical Computing, 2008

Open R. getwd(). Close R. Remove .Rhistory, using shell command. Open
R. Type a few commands. Close R. No file called .Rhistory.

Response to Sys.getenv()
 AWK
                                                           "awk"
                                                         CVS_RSH
                                                           "ssh"
                                                         DISPLAY
                                                            ":0"
                                                          EDITOR
                                                            "vi"
                                                           EGREP
                                              "/usr/bin/grep -E"
                                                            HOME
                                                   "/Users/dbae"
                                                            LANG
                                                   "en_GB.UTF-8"
                                                            LN_S
                                                         "ln -s"
                                                            MAKE
                                                          "make"
                                                              MY
                                 "/Users/dbae/Documents/_MyData"
                                                           PAGER
                                                 "/usr/bin/less"
                                                            PATH
                  "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"
                                                            PERL
                                                 "/usr/bin/perl"
                                                          R_ARCH
                                                          "/ppc"
                                                       R_BROWSER
                                                 "/usr/bin/open"
                                                       R_DOC_DIR
    "/Library/Frameworks/R.framework/Versions/2.8/Resources/doc"
                                                      R_DVIPSCMD
                                                         "false"
                                              R_GUI_APP_REVISION
                                                          "5256"
                                               R_GUI_APP_VERSION
                                                          "1.26"
                                                      R_HISTFILE
                                               "$HOME/.Rhistory"
                                                      R_HISTSIZE
                                                          "1000"
                                                          R_HOME
        "/Library/Frameworks/R.framework/Versions/2.8/Resources"
                                                   R_INCLUDE_DIR
"/Library/Frameworks/R.framework/Versions/2.8/Resources/include"
                                                      R_LATEXCMD
                                                         "false"
                                                          R_LIBS
                          "$HOME/lib/R:/usr/local/lib/R-contrib"
                                                     R_LIBS_SITE
                                                              ""
                                                     R_LIBS_USER
                                       "~/Library/R/2.8/library"
                                                  R_MAKEINDEXCMD
                                                         "false"
                                                     R_PAPERSIZE
                                                            "a4"
                                                     R_PDFVIEWER
                                                 "/usr/bin/open"
                                                      R_PLATFORM
                                    "powerpc-apple-darwin8.11.1"
                                                      R_PRINTCMD
                                                           "lpr"
                                                        R_RD4DVI
                                                            "ae"
                                                        R_RD4PDF
                                                   "times,hyper"
                                                R_SESSION_TMPDIR
                                               "/tmp/RtmpudXUd0"
                                                     R_SHARE_DIR
  "/Library/Frameworks/R.framework/Versions/2.8/Resources/share"
                                                      R_UNZIPCMD
                                                "/usr/bin/unzip"
                                              R_USE_AQUA_SUBDIRS
                                                           "yes"
                                                        R_ZIPCMD
                                                  "/usr/bin/zip"
                                               SECURITYSESSIONID
                                                        "a0da50"
                                                             SED
                                                  "/usr/bin/sed"
                                                           SHELL
                                                     "/bin/tcsh"
                                                   SSH_AUTH_SOCK
                                   "/tmp/502/SSHKeychain.socket"
                                                             TAR
                                                           "tar"
                                                            USER
                                                          "dbae"
                   _GOOGLE_GILD_RUNTIME_FRAMEWORK_ABSOLUTE_PATH_
                     "/Library/Google/Frameworks/Gild.framework"
                                         __CF_USER_TEXT_ENCODING
                                                     "0x1F6:0:0"
>




Property List Dump
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://
www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>Append RAqua libs to R_LIBS</key>
	<string>NO</string>
	<key>Background Color</key>
	<data>
	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMDhAJm
	ZgEBhg==
	</data>
	<key>Cleanup history entries</key>
	<string>YES</string>
	<key>Disable R signal handlers</key>
	<string>NO</string>
	<key>DocHelpSearch</key>
	<array>
		<string>gantt</string>
	</array>
	<key>Edit or source in file</key>
	<string>YES</string>
	<key>Enable line wrapping if TRUE</key>
	<string>YES</string>
	<key>Enforce initial wd on startup</key>
	<string>NO</string>
	<key>External Editor Name</key>
	<string>TextEdit</string>
	<key>Highlight interval</key>
	<string>0.30</string>
	<key>History file path used for R type history files</key>
	<string>.Rhistory</string>
	<key>Import history file on startup if TRUE</key>
	<string>YES</string>
	<key>Input Color</key>
	<data>
	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMBhARm
	ZmZmAAABAYY=
	</data>
	<key>Is it a .app or a command</key>
	<string>YES</string>
	<key>Line fragment padding in editor</key>
	<string>6.0</string>
	<key>Line number gutter width</key>
	<string>16.0</string>
	<key>Max number of history entries</key>
	<string>250</string>
	<key>NSNavBrowserPreferedColumnContentWidth</key>
	<real>186</real>
	<key>NSNavLastCurrentDirectory</key>
	<string>~/Documents/_MyData/bio/OurGroup/Luxian/
comparisonComputerHuman</string>
	<key>NSNavLastRootDirectory</key>
	<string>~/Documents/_MyData</string>
	<key>NSNavPanelExpandedSizeForOpenMode</key>
	<string>{520, 401}</string>
	<key>NSNavPanelExpandedSizeForSaveMode</key>
	<string>{519, 401}</string>
	<key>NSNavPanelExpandedStateForSaveMode</key>
	<true/>
	<key>NSRecentDocumentRecords</key>
	<array>
		<dict>
			<key>_NSLocator</key>
			<dict>
				<key>_NSAlias</key>
				<data>
				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
				YzA2ZGFjOAAAEwABLwD//wAA
				</data>
			</dict>
		</dict>
		<dict>
			<key>_NSLocator</key>
			<dict>
				<key>_NSAlias</key>
				<data>
				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
				MGI3YWNkOQAAEwABLwD//wAA
				</data>
			</dict>
		</dict>
		<dict>
			<key>_NSLocator</key>
			<dict>
				<key>_NSAlias</key>
				<data>
				AAAAAAE8AAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
				aEZRLzQxYTcAABMAAS8A//8AAA==
				</data>
			</dict>
		</dict>
		<dict>
			<key>_NSLocator</key>
			<dict>
				<key>_NSAlias</key>
				<data>
				AAAAAAF4AAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
				NDkyABMAAS8A//8AAA==
				</data>
			</dict>
		</dict>
		<dict>
			<key>_NSLocator</key>
			<dict>
				<key>_NSAlias</key>
				<data>
				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
				MGI3YWNkOQAAEwABLwD//wAA
				</data>
			</dict>
		</dict>
		<dict>
			<key>_NSLocator</key>
			<dict>
				<key>_NSAlias</key>
				<data>
				AAAAAAF4AAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
				NzgyABMAAS8A//8AAA==
				</data>
			</dict>
		</dict>
		<dict>
			<key>_NSLocator</key>
			<dict>
				<key>_NSAlias</key>
				<data>
				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
				MGI3YWNkOQAAEwABLwD//wAA
				</data>
			</dict>
		</dict>
		<dict>
			<key>_NSLocator</key>
			<dict>
				<key>_NSAlias</key>
				<data>
				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
				NDMxYjc4MgAAEwABLwD//wAA
				</data>
			</dict>
		</dict>
		<dict>
			<key>_NSLocator</key>
			<dict>
				<key>_NSAlias</key>
				<data>
				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
				MGI3YWNkOQAAEwABLwD//wAA
				</data>
			</dict>
		</dict>
		<dict>
			<key>_NSLocator</key>
			<dict>
				<key>_NSAlias</key>
				<data>
				AAAAAAF8AAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
				YjUwYzJhAAATAAEvAP//AAA=
				</data>
			</dict>
		</dict>
	</array>
	<key>NSTableView Columns NSNavOutlineColumnSettings.v1</key>
	<array>
		<data>
		BAt0eXBlZHN0cmVhbYED6IQBQISEhAhOU1N0cmluZwGEhAhOU09iamVjdACF
		hAErHE5TTmF2RGlzcGxheU5hbWVGaWxlUHJvcGVydHmG
		</data>
		<string>225</string>
		<data>
		BAt0eXBlZHN0cmVhbYED6IQBQISEhAhOU1N0cmluZwGEhAhOU09iamVjdACF
		hAErGE5TTmF2TW9kRGF0ZUZpbGVQcm9wZXJ0eYY=
		</data>
		<string>119</string>
	</array>
	<key>NSTableView Columns select list</key>
	<array>
		<data>
		BAt0eXBlZHN0cmVhbYED6IQBQISEhAhOU1N0cmluZwGEhAhOU09iamVjdACF
		hAErBGl0ZW2G
		</data>
		<string>271</string>
	</array>
	<key>NSTableView Sort Ordering NSNavOutlineColumnSettings.v1</key>
	<array>
		<data>
		BAt0eXBlZHN0cmVhbYED6IQBQISEhAhOU1N0cmluZwGEhAhOU09iamVjdACF
		hAErGE5TTmF2TW9kRGF0ZUZpbGVQcm9wZXJ0eYY=
		</data>
		<false/>
	</array>
	<key>NSTableView Sort Ordering select list</key>
	<array/>
	<key>NSToolbar Configuration R Toolbar Identifier</key>
	<dict>
		<key>TB Display Mode</key>
		<integer>1</integer>
		<key>TB Icon Size Mode</key>
		<integer>1</integer>
		<key>TB Is Shown</key>
		<integer>1</integer>
		<key>TB Item Identifiers</key>
		<array>
			<string>Interrupt Computation Item Identifier</string>
			<string>Source/Load R Code Identifier</string>
			<string>New Quartz Device Item Identifier</string>
			<string>X11 Item Identifier</string>
			<string>NSToolbarSeparatorItem</string>
			<string>Authentication Item Identifier</string>
			<string>Show History Item Identifier</string>
			<string>SetColors Item Identifier</string>
			<string>NSToolbarSeparatorItem</string>
			<string>Load File in Editor Item Identifier</string>
			<string>New Edit Window Item Identifier</string>
			<string>NSToolbarPrintItem</string>
			<string>NSToolbarSeparatorItem</string>
			<string>NSToolbarFlexibleSpaceItem</string>
			<string>Quit R Item Identifier</string>
		</array>
		<key>TB Size Mode</key>
		<integer>1</integer>
		<key>TB Visibility Priority Values</key>
		<dict/>
	</dict>
	<key>NSWindow Frame Help Search Topics Window</key>
	<string>200 27 1148 767 0 0 1680 1028 </string>
	<key>NSWindow Frame PreferencesWindow</key>
	<string>717 652 200 122 0 0 1680 1028 </string>
	<key>NSWindow Frame R Console Output.txt</key>
	<string>653 243 562 632 0 0 1680 1028 </string>
	<key>NSWindow Frame R Data Editor Window</key>
	<string>239 425 480 382 0 0 1680 1028 </string>
	<key>NSWindow Frame R Help Window</key>
	<string>127 160 1116 708 0 0 1680 1028 </string>
	<key>NSWindow Frame R Workspace Browser Window</key>
	<string>95 306 480 425 0 0 1680 1028 </string>
	<key>NSWindow Frame SelectListWindow</key>
	<string>233 281 302 466 0 0 1680 1028 </string>
	<key>Output Color</key>
	<data>
	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMDhAJm
	ZgABhg==
	</data>
	<key>Prompt Color</key>
	<data>
	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMBhARm
	ZmZmgz8AAAAAgz8AAAABhg==
	</data>
	<key>QuartzPrefPane DPI</key>
	<string></string>
	<key>QuartzPrefPane height</key>
	<string>5</string>
	<key>QuartzPrefPane location</key>
	<string>Top Left</string>
	<key>QuartzPrefPane width</key>
	<string>5</string>
	<key>Remove duplicate history entries</key>
	<string>NO</string>
	<key>Root Color</key>
	<data>
	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMBhARm
	ZmZmgz8AAAAAgz8AAAABhg==
	</data>
	<key>Show brace highlighting</key>
	<string>YES</string>
	<key>Show function args hints</key>
	<string>YES</string>
	<key>Show line numbers</key>
	<string>YES</string>
	<key>Show syntax coloring</key>
	<string>YES</string>
	<key>Stderr Color</key>
	<data>
	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMBhARm
	ZmZmAQAAAYY=
	</data>
	<key>Stdout Color</key>
	<data>
	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMDhAJm
	ZoM/AAAAAYY=
	</data>
	<key>Strip comment history entries</key>
	<string>NO</string>
	<key>Use Internal Editor</key>
	<string>YES</string>
	<key>Use QuartzPrefPane values</key>
	<string>NO</string>
	<key>Working directory</key>
	<string>~</string>
	<key>auto.close.parens</key>
	<string>YES</string>
	<key>default.CRAN.mirror.URL</key>
	<string></string>
	<key>helpBrowserSearchHistory</key>
	<array>
		<string>latex.table</string>
	</array>
	<key>pkgInstaller.customURL</key>
	<string>http://R.research.att.com/</string>
	<key>save.on.exit</key>
	<string>ask</string>
	<key>saveOnExit</key>
	<string>ask</string>
</dict>
</plist>


From dwinsemius at comcast.net  Thu Apr  8 14:32:14 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 8 Apr 2010 08:32:14 -0400
Subject: [R-SIG-Mac] getting history() to work
In-Reply-To: <b1f6a0ec-d24d-4a20-9a45-94ac9866a4db@s9g2000yqa.googlegroups.com>
References: <b1f6a0ec-d24d-4a20-9a45-94ac9866a4db@s9g2000yqa.googlegroups.com>
Message-ID: <7F25580E-B981-4936-914E-2A1031E95E18@comcast.net>


On Apr 8, 2010, at 4:56 AM, David wrote:

> When I type history() to the R console, I get a new window that is
> always blank. How can I get history() working?
>
> Here are the details of my set-up. In the plist, a number of keys were
> listed that looked like passwords. Because I didn't understand the
> security implications (almost certainly non-existent), I mangled
> these.
>

It's been a whiles since I used R 2.8 but perhaps the current behavior  
is similar. What happens when you:

A) Open the Preferences dialog in the RGUI and look at your history  
settings (which in the current GUI are in the Startup panel.)

B) Open a Terminal.app window and type in:
  locate .Rhistory

(I get 4 different locations as a result of saving various copies.)

-- 
David.

> Mac Os X 10.4.11 (upgrading to Leopard as soon as I get some free
> time)
> PowerPC G4
>
> response to typing 'version' to R console
> platform       powerpc-apple-darwin8.11.1
> arch           powerpc
> os             darwin8.11.1
> system         powerpc, darwin8.11.1
> status
> major          2
> minor          8.0
> year           2008
> month          10
> day            20
> svn rev        46754
> language       R
> version.string R version 2.8.0 (2008-10-20)
>
> About R:
> R.app GUI 1.26 (5256), S.Urbanek & S.M.Iacus, ? R Foundation for
> Statistical Computing, 2008
>
> Open R. getwd(). Close R. Remove .Rhistory, using shell command. Open
> R. Type a few commands. Close R. No file called .Rhistory.
>
> Response to Sys.getenv()
> AWK
>                                                           "awk"
>                                                         CVS_RSH
>                                                           "ssh"
>                                                         DISPLAY
>                                                            ":0"
>                                                          EDITOR
>                                                            "vi"
>                                                           EGREP
>                                              "/usr/bin/grep -E"
>                                                            HOME
>                                                   "/Users/dbae"
>                                                            LANG
>                                                   "en_GB.UTF-8"
>                                                            LN_S
>                                                         "ln -s"
>                                                            MAKE
>                                                          "make"
>                                                              MY
>                                 "/Users/dbae/Documents/_MyData"
>                                                           PAGER
>                                                 "/usr/bin/less"
>                                                            PATH
>                  "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"
>                                                            PERL
>                                                 "/usr/bin/perl"
>                                                          R_ARCH
>                                                          "/ppc"
>                                                       R_BROWSER
>                                                 "/usr/bin/open"
>                                                       R_DOC_DIR
>    "/Library/Frameworks/R.framework/Versions/2.8/Resources/doc"
>                                                      R_DVIPSCMD
>                                                         "false"
>                                              R_GUI_APP_REVISION
>                                                          "5256"
>                                               R_GUI_APP_VERSION
>                                                          "1.26"
>                                                      R_HISTFILE
>                                               "$HOME/.Rhistory"
>                                                      R_HISTSIZE
>                                                          "1000"
>                                                          R_HOME
>        "/Library/Frameworks/R.framework/Versions/2.8/Resources"
>                                                   R_INCLUDE_DIR
> "/Library/Frameworks/R.framework/Versions/2.8/Resources/include"
>                                                      R_LATEXCMD
>                                                         "false"
>                                                          R_LIBS
>                          "$HOME/lib/R:/usr/local/lib/R-contrib"
>                                                     R_LIBS_SITE
>                                                              ""
>                                                     R_LIBS_USER
>                                       "~/Library/R/2.8/library"
>                                                  R_MAKEINDEXCMD
>                                                         "false"
>                                                     R_PAPERSIZE
>                                                            "a4"
>                                                     R_PDFVIEWER
>                                                 "/usr/bin/open"
>                                                      R_PLATFORM
>                                    "powerpc-apple-darwin8.11.1"
>                                                      R_PRINTCMD
>                                                           "lpr"
>                                                        R_RD4DVI
>                                                            "ae"
>                                                        R_RD4PDF
>                                                   "times,hyper"
>                                                R_SESSION_TMPDIR
>                                               "/tmp/RtmpudXUd0"
>                                                     R_SHARE_DIR
>  "/Library/Frameworks/R.framework/Versions/2.8/Resources/share"
>                                                      R_UNZIPCMD
>                                                "/usr/bin/unzip"
>                                              R_USE_AQUA_SUBDIRS
>                                                           "yes"
>                                                        R_ZIPCMD
>                                                  "/usr/bin/zip"
>                                               SECURITYSESSIONID
>                                                        "a0da50"
>                                                             SED
>                                                  "/usr/bin/sed"
>                                                           SHELL
>                                                     "/bin/tcsh"
>                                                   SSH_AUTH_SOCK
>                                   "/tmp/502/SSHKeychain.socket"
>                                                             TAR
>                                                           "tar"
>                                                            USER
>                                                          "dbae"
>                   _GOOGLE_GILD_RUNTIME_FRAMEWORK_ABSOLUTE_PATH_
>                     "/Library/Google/Frameworks/Gild.framework"
>                                         __CF_USER_TEXT_ENCODING
>                                                     "0x1F6:0:0"
>>
>
>
>
>
> Property List Dump
> <?xml version="1.0" encoding="UTF-8"?>
> <!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://
> www.apple.com/DTDs/PropertyList-1.0.dtd">
> <plist version="1.0">
> <dict>
> 	<key>Append RAqua libs to R_LIBS</key>
> 	<string>NO</string>
> 	<key>Background Color</key>
> 	<data>
> 	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMDhAJm
> 	ZgEBhg==
> 	</data>
> 	<key>Cleanup history entries</key>
> 	<string>YES</string>
> 	<key>Disable R signal handlers</key>
> 	<string>NO</string>
> 	<key>DocHelpSearch</key>
> 	<array>
> 		<string>gantt</string>
> 	</array>
> 	<key>Edit or source in file</key>
> 	<string>YES</string>
> 	<key>Enable line wrapping if TRUE</key>
> 	<string>YES</string>
> 	<key>Enforce initial wd on startup</key>
> 	<string>NO</string>
> 	<key>External Editor Name</key>
> 	<string>TextEdit</string>
> 	<key>Highlight interval</key>
> 	<string>0.30</string>
> 	<key>History file path used for R type history files</key>
> 	<string>.Rhistory</string>
> 	<key>Import history file on startup if TRUE</key>
> 	<string>YES</string>
> 	<key>Input Color</key>
> 	<data>
> 	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMBhARm
> 	ZmZmAAABAYY=
> 	</data>
> 	<key>Is it a .app or a command</key>
> 	<string>YES</string>
> 	<key>Line fragment padding in editor</key>
> 	<string>6.0</string>
> 	<key>Line number gutter width</key>
> 	<string>16.0</string>
> 	<key>Max number of history entries</key>
> 	<string>250</string>
> 	<key>NSNavBrowserPreferedColumnContentWidth</key>
> 	<real>186</real>
> 	<key>NSNavLastCurrentDirectory</key>
> 	<string>~/Documents/_MyData/bio/OurGroup/Luxian/
> comparisonComputerHuman</string>
> 	<key>NSNavLastRootDirectory</key>
> 	<string>~/Documents/_MyData</string>
> 	<key>NSNavPanelExpandedSizeForOpenMode</key>
> 	<string>{520, 401}</string>
> 	<key>NSNavPanelExpandedSizeForSaveMode</key>
> 	<string>{519, 401}</string>
> 	<key>NSNavPanelExpandedStateForSaveMode</key>
> 	<true/>
> 	<key>NSRecentDocumentRecords</key>
> 	<array>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				YzA2ZGFjOAAAEwABLwD//wAA
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				MGI3YWNkOQAAEwABLwD//wAA
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAE8AAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				aEZRLzQxYTcAABMAAS8A//8AAA==
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAF4AAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				NDkyABMAAS8A//8AAA==
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				MGI3YWNkOQAAEwABLwD//wAA
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAF4AAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				NzgyABMAAS8A//8AAA==
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				MGI3YWNkOQAAEwABLwD//wAA
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				NDMxYjc4MgAAEwABLwD//wAA
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				MGI3YWNkOQAAEwABLwD//wAA
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAF8AAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				YjUwYzJhAAATAAEvAP//AAA=
> 				</data>
> 			</dict>
> 		</dict>
> 	</array>
> 	<key>NSTableView Columns NSNavOutlineColumnSettings.v1</key>
> 	<array>
> 		<data>
> 		BAt0eXBlZHN0cmVhbYED6IQBQISEhAhOU1N0cmluZwGEhAhOU09iamVjdACF
> 		hAErHE5TTmF2RGlzcGxheU5hbWVGaWxlUHJvcGVydHmG
> 		</data>
> 		<string>225</string>
> 		<data>
> 		BAt0eXBlZHN0cmVhbYED6IQBQISEhAhOU1N0cmluZwGEhAhOU09iamVjdACF
> 		hAErGE5TTmF2TW9kRGF0ZUZpbGVQcm9wZXJ0eYY=
> 		</data>
> 		<string>119</string>
> 	</array>
> 	<key>NSTableView Columns select list</key>
> 	<array>
> 		<data>
> 		BAt0eXBlZHN0cmVhbYED6IQBQISEhAhOU1N0cmluZwGEhAhOU09iamVjdACF
> 		hAErBGl0ZW2G
> 		</data>
> 		<string>271</string>
> 	</array>
> 	<key>NSTableView Sort Ordering NSNavOutlineColumnSettings.v1</key>
> 	<array>
> 		<data>
> 		BAt0eXBlZHN0cmVhbYED6IQBQISEhAhOU1N0cmluZwGEhAhOU09iamVjdACF
> 		hAErGE5TTmF2TW9kRGF0ZUZpbGVQcm9wZXJ0eYY=
> 		</data>
> 		<false/>
> 	</array>
> 	<key>NSTableView Sort Ordering select list</key>
> 	<array/>
> 	<key>NSToolbar Configuration R Toolbar Identifier</key>
> 	<dict>
> 		<key>TB Display Mode</key>
> 		<integer>1</integer>
> 		<key>TB Icon Size Mode</key>
> 		<integer>1</integer>
> 		<key>TB Is Shown</key>
> 		<integer>1</integer>
> 		<key>TB Item Identifiers</key>
> 		<array>
> 			<string>Interrupt Computation Item Identifier</string>
> 			<string>Source/Load R Code Identifier</string>
> 			<string>New Quartz Device Item Identifier</string>
> 			<string>X11 Item Identifier</string>
> 			<string>NSToolbarSeparatorItem</string>
> 			<string>Authentication Item Identifier</string>
> 			<string>Show History Item Identifier</string>
> 			<string>SetColors Item Identifier</string>
> 			<string>NSToolbarSeparatorItem</string>
> 			<string>Load File in Editor Item Identifier</string>
> 			<string>New Edit Window Item Identifier</string>
> 			<string>NSToolbarPrintItem</string>
> 			<string>NSToolbarSeparatorItem</string>
> 			<string>NSToolbarFlexibleSpaceItem</string>
> 			<string>Quit R Item Identifier</string>
> 		</array>
> 		<key>TB Size Mode</key>
> 		<integer>1</integer>
> 		<key>TB Visibility Priority Values</key>
> 		<dict/>
> 	</dict>
> 	<key>NSWindow Frame Help Search Topics Window</key>
> 	<string>200 27 1148 767 0 0 1680 1028 </string>
> 	<key>NSWindow Frame PreferencesWindow</key>
> 	<string>717 652 200 122 0 0 1680 1028 </string>
> 	<key>NSWindow Frame R Console Output.txt</key>
> 	<string>653 243 562 632 0 0 1680 1028 </string>
> 	<key>NSWindow Frame R Data Editor Window</key>
> 	<string>239 425 480 382 0 0 1680 1028 </string>
> 	<key>NSWindow Frame R Help Window</key>
> 	<string>127 160 1116 708 0 0 1680 1028 </string>
> 	<key>NSWindow Frame R Workspace Browser Window</key>
> 	<string>95 306 480 425 0 0 1680 1028 </string>
> 	<key>NSWindow Frame SelectListWindow</key>
> 	<string>233 281 302 466 0 0 1680 1028 </string>
> 	<key>Output Color</key>
> 	<data>
> 	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMDhAJm
> 	ZgABhg==
> 	</data>
> 	<key>Prompt Color</key>
> 	<data>
> 	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMBhARm
> 	ZmZmgz8AAAAAgz8AAAABhg==
> 	</data>
> 	<key>QuartzPrefPane DPI</key>
> 	<string></string>
> 	<key>QuartzPrefPane height</key>
> 	<string>5</string>
> 	<key>QuartzPrefPane location</key>
> 	<string>Top Left</string>
> 	<key>QuartzPrefPane width</key>
> 	<string>5</string>
> 	<key>Remove duplicate history entries</key>
> 	<string>NO</string>
> 	<key>Root Color</key>
> 	<data>
> 	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMBhARm
> 	ZmZmgz8AAAAAgz8AAAABhg==
> 	</data>
> 	<key>Show brace highlighting</key>
> 	<string>YES</string>
> 	<key>Show function args hints</key>
> 	<string>YES</string>
> 	<key>Show line numbers</key>
> 	<string>YES</string>
> 	<key>Show syntax coloring</key>
> 	<string>YES</string>
> 	<key>Stderr Color</key>
> 	<data>
> 	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMBhARm
> 	ZmZmAQAAAYY=
> 	</data>
> 	<key>Stdout Color</key>
> 	<data>
> 	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMDhAJm
> 	ZoM/AAAAAYY=
> 	</data>
> 	<key>Strip comment history entries</key>
> 	<string>NO</string>
> 	<key>Use Internal Editor</key>
> 	<string>YES</string>
> 	<key>Use QuartzPrefPane values</key>
> 	<string>NO</string>
> 	<key>Working directory</key>
> 	<string>~</string>
> 	<key>auto.close.parens</key>
> 	<string>YES</string>
> 	<key>default.CRAN.mirror.URL</key>
> 	<string></string>
> 	<key>helpBrowserSearchHistory</key>
> 	<array>
> 		<string>latex.table</string>
> 	</array>
> 	<key>pkgInstaller.customURL</key>
> 	<string>http://R.research.att.com/</string>
> 	<key>save.on.exit</key>
> 	<string>ask</string>
> 	<key>saveOnExit</key>
> 	<string>ask</string>
> </dict>
> </plist>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
West Hartford, CT


From ripley at stats.ox.ac.uk  Fri Apr  9 07:49:05 2010
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 9 Apr 2010 06:49:05 +0100 (BST)
Subject: [R-SIG-Mac] manpage problem
In-Reply-To: <op.vasusx1f5cnj9i@marco.fz-rossendorf.de>
References: <op.vasusx1f5cnj9i@marco.fz-rossendorf.de>
Message-ID: <alpine.LFD.2.00.1004090643590.13790@gannet.stats.ox.ac.uk>

On Wed, 7 Apr 2010, joerg van den hoff wrote:

> not sure whether this is MAC specific:

Why do you suppose it would be?

> I use \itemize or \enumerate in some manpages. it worked previously, but I'm 
> not sure up till when...
> now (with 2.10.1) I see the following:
>
> -- using the R-GUI manpages are displayed correctly

with HTML help, the default, I guess.

> -- in the Terminal.app (or xterm) only the bullet points (or enumerating 
> numbers) are displayed, but the actual description
>  for the item is missing.

with text help (the default), I guess.

> any ideas?

RTFM time: your help (sic) pages are incorrect.  That is not how \item 
works in those environments, and the braces are incorrect.
For an example of the correct layout, see src/library/base/man/dcf.Rd 
in the R sources.

>
> thanks
>
> joerg
>
> ps: macos 10.5.8 ppc
> pps: in case, the problem is my manpage, the source code of this 
> (rudimentary) manpage is:
>
> \name{metacor}
> \alias{metacor}
> \title{
> Perform metabolite correction
> }
> \description{
> Computes metabolite corrected input function from whole blood data plus
> time dependent metabolite fraction
> }
> \usage{
> metacor(input, metfrac = 0)
> }
> \arguments{
> \item{input}{
> measured input function (class \code{Roidata})
> }
> \item{metfrac}{
> metabolite fraction
> }
> }
> \details{
> The metabolite fraction has to be in one of the following formats.
>
>  \enumerate{
>     \item{a single number}
>     \item{a vector of metabolite fractions corresponding one-to-one to the
>        time points in input}
>     \item{a two column matrix (time vs. metab. fraction) where time units
>        have to be the same as those used in input}
>     \item{a Roidata object including timing information}
>  }
> }
> \value{
> metabolite corrected input function (\code{Roidata} object)
> }
> \author{
> vdh
> }
> \seealso{
> \code{readroi}
> }
> \keyword{ utilities }
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From j.van_den_hoff at fzd.de  Fri Apr  9 10:24:33 2010
From: j.van_den_hoff at fzd.de (joerg van den hoff)
Date: Fri, 09 Apr 2010 10:24:33 +0200
Subject: [R-SIG-Mac] manpage problem
In-Reply-To: <alpine.LFD.2.00.1004090643590.13790@gannet.stats.ox.ac.uk>
References: <op.vasusx1f5cnj9i@marco.fz-rossendorf.de>
	<alpine.LFD.2.00.1004090643590.13790@gannet.stats.ox.ac.uk>
Message-ID: <op.vavyy7qa5cnj9i@moppel>

thanks for replying.

On Fri, 09 Apr 2010 07:49:05 +0200, Prof Brian Ripley  
<ripley at stats.ox.ac.uk> wrote:

> On Wed, 7 Apr 2010, joerg van den hoff wrote:
>
>> not sure whether this is MAC specific:
>
> Why do you suppose it would be?
>
>> I use \itemize or \enumerate in some manpages. it worked previously,  
>> but I'm not sure up till when...
>> now (with 2.10.1) I see the following:
>>
>> -- using the R-GUI manpages are displayed correctly
>
> with HTML help, the default, I guess.
>
>> -- in the Terminal.app (or xterm) only the bullet points (or  
>> enumerating numbers) are displayed, but the actual description
>>  for the item is missing.
>
> with text help (the default), I guess.
>
>> any ideas?
>
> RTFM time: your help (sic) pages are incorrect.  That is not how \item  
> works in those environments, and the braces are incorrect.
> For an example of the correct layout, see src/library/base/man/dcf.Rd in  
> the R sources.

that (the RTFM part) I did (before mailing, btw). RTFSC on the other hand  
would be a bit
of a tough advice -- at least as a default strategy.

AFAICS the correct \item syntax is not explained in the corresponding
section 2.4 (or any other) of the 'writing r extensions' manual. in  
retrospect one could possibly _guess_  that 'the text following
each \item is formatted...' implies that there should be no braces. so I  
wrongly assumed from the common usage of \item
(in \arguments) that braces are needed.

I would say this lack of specificity is a shortcoming of the manual which  
would profit from changing this section accordingly.

last remark: the parsers/converters to html and txt behave differently. in  
my view, the behaviour of the html converter (ignoring
the redundant/wrong braces) is more desirable. in any case they should not  
have different opinions how to interpret the help page
(your usage of `(sic)' is wrong/non-standard, btw...) source. (and the  
behaviour has changed from 2.9.x to 2.10.1: previously
the text output preserved the braced \item arguments, also the formatting  
is messed up (as I just checked on a linux machine)).

regards,

j. van den hoff

>
>>
>> thanks
>>
>> joerg
>>
>> ps: macos 10.5.8 ppc
>> pps: in case, the problem is my manpage, the source code of this  
>> (rudimentary) manpage is:
>>
>> \name{metacor}
>> \alias{metacor}
>> \title{
>> Perform metabolite correction
>> }
>> \description{
>> Computes metabolite corrected input function from whole blood data plus
>> time dependent metabolite fraction
>> }
>> \usage{
>> metacor(input, metfrac = 0)
>> }
>> \arguments{
>> \item{input}{
>> measured input function (class \code{Roidata})
>> }
>> \item{metfrac}{
>> metabolite fraction
>> }
>> }
>> \details{
>> The metabolite fraction has to be in one of the following formats.
>>
>>  \enumerate{
>>     \item{a single number}
>>     \item{a vector of metabolite fractions corresponding one-to-one to  
>> the
>>        time points in input}
>>     \item{a two column matrix (time vs. metab. fraction) where time  
>> units
>>        have to be the same as those used in input}
>>     \item{a Roidata object including timing information}
>>  }
>> }
>> \value{
>> metabolite corrected input function (\code{Roidata} object)
>> }
>> \author{
>> vdh
>> }
>> \seealso{
>> \code{readroi}
>> }
>> \keyword{ utilities }
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From robjgoedman at me.com  Sun Apr 11 23:13:47 2010
From: robjgoedman at me.com (Rob Goedman)
Date: Sun, 11 Apr 2010 14:13:47 -0700
Subject: [R-SIG-Mac] getting history() to work
In-Reply-To: <b1f6a0ec-d24d-4a20-9a45-94ac9866a4db@s9g2000yqa.googlegroups.com>
References: <b1f6a0ec-d24d-4a20-9a45-94ac9866a4db@s9g2000yqa.googlegroups.com>
Message-ID: <8A635CF3-6AA4-46B7-9F66-E9311C573E6F@me.com>

David,

From R.app you can't. History is kept in a separate file as specified by the Startup preferences.

In your case I don't think RHOME is defined, try '~/Rhistory' or '~/.Rosxhistory' in the Startup preferences, enter a few commands and quit R.app ( e.g.Apple/Command-Q, little red button or from the menu, NOT q() ) and restart R.app to see if the commands are in the history list.

Rob

On Apr 8, 2010, at 1:56 AM, David wrote:

> When I type history() to the R console, I get a new window that is
> always blank. How can I get history() working?
> 
> Here are the details of my set-up. In the plist, a number of keys were
> listed that looked like passwords. Because I didn't understand the
> security implications (almost certainly non-existent), I mangled
> these.
> 
> Mac Os X 10.4.11 (upgrading to Leopard as soon as I get some free
> time)
> PowerPC G4
> 
> response to typing 'version' to R console
> platform       powerpc-apple-darwin8.11.1
> arch           powerpc
> os             darwin8.11.1
> system         powerpc, darwin8.11.1
> status
> major          2
> minor          8.0
> year           2008
> month          10
> day            20
> svn rev        46754
> language       R
> version.string R version 2.8.0 (2008-10-20)
> 
> About R:
> R.app GUI 1.26 (5256), S.Urbanek & S.M.Iacus, ? R Foundation for
> Statistical Computing, 2008
> 
> Open R. getwd(). Close R. Remove .Rhistory, using shell command. Open
> R. Type a few commands. Close R. No file called .Rhistory.
> 
> Response to Sys.getenv()
> AWK
>                                                           "awk"
>                                                         CVS_RSH
>                                                           "ssh"
>                                                         DISPLAY
>                                                            ":0"
>                                                          EDITOR
>                                                            "vi"
>                                                           EGREP
>                                              "/usr/bin/grep -E"
>                                                            HOME
>                                                   "/Users/dbae"
>                                                            LANG
>                                                   "en_GB.UTF-8"
>                                                            LN_S
>                                                         "ln -s"
>                                                            MAKE
>                                                          "make"
>                                                              MY
>                                 "/Users/dbae/Documents/_MyData"
>                                                           PAGER
>                                                 "/usr/bin/less"
>                                                            PATH
>                  "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"
>                                                            PERL
>                                                 "/usr/bin/perl"
>                                                          R_ARCH
>                                                          "/ppc"
>                                                       R_BROWSER
>                                                 "/usr/bin/open"
>                                                       R_DOC_DIR
>    "/Library/Frameworks/R.framework/Versions/2.8/Resources/doc"
>                                                      R_DVIPSCMD
>                                                         "false"
>                                              R_GUI_APP_REVISION
>                                                          "5256"
>                                               R_GUI_APP_VERSION
>                                                          "1.26"
>                                                      R_HISTFILE
>                                               "$HOME/.Rhistory"
>                                                      R_HISTSIZE
>                                                          "1000"
>                                                          R_HOME
>        "/Library/Frameworks/R.framework/Versions/2.8/Resources"
>                                                   R_INCLUDE_DIR
> "/Library/Frameworks/R.framework/Versions/2.8/Resources/include"
>                                                      R_LATEXCMD
>                                                         "false"
>                                                          R_LIBS
>                          "$HOME/lib/R:/usr/local/lib/R-contrib"
>                                                     R_LIBS_SITE
>                                                              ""
>                                                     R_LIBS_USER
>                                       "~/Library/R/2.8/library"
>                                                  R_MAKEINDEXCMD
>                                                         "false"
>                                                     R_PAPERSIZE
>                                                            "a4"
>                                                     R_PDFVIEWER
>                                                 "/usr/bin/open"
>                                                      R_PLATFORM
>                                    "powerpc-apple-darwin8.11.1"
>                                                      R_PRINTCMD
>                                                           "lpr"
>                                                        R_RD4DVI
>                                                            "ae"
>                                                        R_RD4PDF
>                                                   "times,hyper"
>                                                R_SESSION_TMPDIR
>                                               "/tmp/RtmpudXUd0"
>                                                     R_SHARE_DIR
>  "/Library/Frameworks/R.framework/Versions/2.8/Resources/share"
>                                                      R_UNZIPCMD
>                                                "/usr/bin/unzip"
>                                              R_USE_AQUA_SUBDIRS
>                                                           "yes"
>                                                        R_ZIPCMD
>                                                  "/usr/bin/zip"
>                                               SECURITYSESSIONID
>                                                        "a0da50"
>                                                             SED
>                                                  "/usr/bin/sed"
>                                                           SHELL
>                                                     "/bin/tcsh"
>                                                   SSH_AUTH_SOCK
>                                   "/tmp/502/SSHKeychain.socket"
>                                                             TAR
>                                                           "tar"
>                                                            USER
>                                                          "dbae"
>                   _GOOGLE_GILD_RUNTIME_FRAMEWORK_ABSOLUTE_PATH_
>                     "/Library/Google/Frameworks/Gild.framework"
>                                         __CF_USER_TEXT_ENCODING
>                                                     "0x1F6:0:0"
>> 
> 
> 
> 
> 
> Property List Dump
> <?xml version="1.0" encoding="UTF-8"?>
> <!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://
> www.apple.com/DTDs/PropertyList-1.0.dtd">
> <plist version="1.0">
> <dict>
> 	<key>Append RAqua libs to R_LIBS</key>
> 	<string>NO</string>
> 	<key>Background Color</key>
> 	<data>
> 	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMDhAJm
> 	ZgEBhg==
> 	</data>
> 	<key>Cleanup history entries</key>
> 	<string>YES</string>
> 	<key>Disable R signal handlers</key>
> 	<string>NO</string>
> 	<key>DocHelpSearch</key>
> 	<array>
> 		<string>gantt</string>
> 	</array>
> 	<key>Edit or source in file</key>
> 	<string>YES</string>
> 	<key>Enable line wrapping if TRUE</key>
> 	<string>YES</string>
> 	<key>Enforce initial wd on startup</key>
> 	<string>NO</string>
> 	<key>External Editor Name</key>
> 	<string>TextEdit</string>
> 	<key>Highlight interval</key>
> 	<string>0.30</string>
> 	<key>History file path used for R type history files</key>
> 	<string>.Rhistory</string>
> 	<key>Import history file on startup if TRUE</key>
> 	<string>YES</string>
> 	<key>Input Color</key>
> 	<data>
> 	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMBhARm
> 	ZmZmAAABAYY=
> 	</data>
> 	<key>Is it a .app or a command</key>
> 	<string>YES</string>
> 	<key>Line fragment padding in editor</key>
> 	<string>6.0</string>
> 	<key>Line number gutter width</key>
> 	<string>16.0</string>
> 	<key>Max number of history entries</key>
> 	<string>250</string>
> 	<key>NSNavBrowserPreferedColumnContentWidth</key>
> 	<real>186</real>
> 	<key>NSNavLastCurrentDirectory</key>
> 	<string>~/Documents/_MyData/bio/OurGroup/Luxian/
> comparisonComputerHuman</string>
> 	<key>NSNavLastRootDirectory</key>
> 	<string>~/Documents/_MyData</string>
> 	<key>NSNavPanelExpandedSizeForOpenMode</key>
> 	<string>{520, 401}</string>
> 	<key>NSNavPanelExpandedSizeForSaveMode</key>
> 	<string>{519, 401}</string>
> 	<key>NSNavPanelExpandedStateForSaveMode</key>
> 	<true/>
> 	<key>NSRecentDocumentRecords</key>
> 	<array>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				YzA2ZGFjOAAAEwABLwD//wAA
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				MGI3YWNkOQAAEwABLwD//wAA
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAE8AAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				aEZRLzQxYTcAABMAAS8A//8AAA==
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAF4AAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				NDkyABMAAS8A//8AAA==
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				MGI3YWNkOQAAEwABLwD//wAA
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAF4AAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				NzgyABMAAS8A//8AAA==
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				MGI3YWNkOQAAEwABLwD//wAA
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				NDMxYjc4MgAAEwABLwD//wAA
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAFcAAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				MGI3YWNkOQAAEwABLwD//wAA
> 				</data>
> 			</dict>
> 		</dict>
> 		<dict>
> 			<key>_NSLocator</key>
> 			<dict>
> 				<key>_NSAlias</key>
> 				<data>
> 				AAAAAAF8AAIAAAZUb3R0aWUAAAAAAAAAAAAAAAAAAAAA
> 				YjUwYzJhAAATAAEvAP//AAA=
> 				</data>
> 			</dict>
> 		</dict>
> 	</array>
> 	<key>NSTableView Columns NSNavOutlineColumnSettings.v1</key>
> 	<array>
> 		<data>
> 		BAt0eXBlZHN0cmVhbYED6IQBQISEhAhOU1N0cmluZwGEhAhOU09iamVjdACF
> 		hAErHE5TTmF2RGlzcGxheU5hbWVGaWxlUHJvcGVydHmG
> 		</data>
> 		<string>225</string>
> 		<data>
> 		BAt0eXBlZHN0cmVhbYED6IQBQISEhAhOU1N0cmluZwGEhAhOU09iamVjdACF
> 		hAErGE5TTmF2TW9kRGF0ZUZpbGVQcm9wZXJ0eYY=
> 		</data>
> 		<string>119</string>
> 	</array>
> 	<key>NSTableView Columns select list</key>
> 	<array>
> 		<data>
> 		BAt0eXBlZHN0cmVhbYED6IQBQISEhAhOU1N0cmluZwGEhAhOU09iamVjdACF
> 		hAErBGl0ZW2G
> 		</data>
> 		<string>271</string>
> 	</array>
> 	<key>NSTableView Sort Ordering NSNavOutlineColumnSettings.v1</key>
> 	<array>
> 		<data>
> 		BAt0eXBlZHN0cmVhbYED6IQBQISEhAhOU1N0cmluZwGEhAhOU09iamVjdACF
> 		hAErGE5TTmF2TW9kRGF0ZUZpbGVQcm9wZXJ0eYY=
> 		</data>
> 		<false/>
> 	</array>
> 	<key>NSTableView Sort Ordering select list</key>
> 	<array/>
> 	<key>NSToolbar Configuration R Toolbar Identifier</key>
> 	<dict>
> 		<key>TB Display Mode</key>
> 		<integer>1</integer>
> 		<key>TB Icon Size Mode</key>
> 		<integer>1</integer>
> 		<key>TB Is Shown</key>
> 		<integer>1</integer>
> 		<key>TB Item Identifiers</key>
> 		<array>
> 			<string>Interrupt Computation Item Identifier</string>
> 			<string>Source/Load R Code Identifier</string>
> 			<string>New Quartz Device Item Identifier</string>
> 			<string>X11 Item Identifier</string>
> 			<string>NSToolbarSeparatorItem</string>
> 			<string>Authentication Item Identifier</string>
> 			<string>Show History Item Identifier</string>
> 			<string>SetColors Item Identifier</string>
> 			<string>NSToolbarSeparatorItem</string>
> 			<string>Load File in Editor Item Identifier</string>
> 			<string>New Edit Window Item Identifier</string>
> 			<string>NSToolbarPrintItem</string>
> 			<string>NSToolbarSeparatorItem</string>
> 			<string>NSToolbarFlexibleSpaceItem</string>
> 			<string>Quit R Item Identifier</string>
> 		</array>
> 		<key>TB Size Mode</key>
> 		<integer>1</integer>
> 		<key>TB Visibility Priority Values</key>
> 		<dict/>
> 	</dict>
> 	<key>NSWindow Frame Help Search Topics Window</key>
> 	<string>200 27 1148 767 0 0 1680 1028 </string>
> 	<key>NSWindow Frame PreferencesWindow</key>
> 	<string>717 652 200 122 0 0 1680 1028 </string>
> 	<key>NSWindow Frame R Console Output.txt</key>
> 	<string>653 243 562 632 0 0 1680 1028 </string>
> 	<key>NSWindow Frame R Data Editor Window</key>
> 	<string>239 425 480 382 0 0 1680 1028 </string>
> 	<key>NSWindow Frame R Help Window</key>
> 	<string>127 160 1116 708 0 0 1680 1028 </string>
> 	<key>NSWindow Frame R Workspace Browser Window</key>
> 	<string>95 306 480 425 0 0 1680 1028 </string>
> 	<key>NSWindow Frame SelectListWindow</key>
> 	<string>233 281 302 466 0 0 1680 1028 </string>
> 	<key>Output Color</key>
> 	<data>
> 	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMDhAJm
> 	ZgABhg==
> 	</data>
> 	<key>Prompt Color</key>
> 	<data>
> 	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMBhARm
> 	ZmZmgz8AAAAAgz8AAAABhg==
> 	</data>
> 	<key>QuartzPrefPane DPI</key>
> 	<string></string>
> 	<key>QuartzPrefPane height</key>
> 	<string>5</string>
> 	<key>QuartzPrefPane location</key>
> 	<string>Top Left</string>
> 	<key>QuartzPrefPane width</key>
> 	<string>5</string>
> 	<key>Remove duplicate history entries</key>
> 	<string>NO</string>
> 	<key>Root Color</key>
> 	<data>
> 	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMBhARm
> 	ZmZmgz8AAAAAgz8AAAABhg==
> 	</data>
> 	<key>Show brace highlighting</key>
> 	<string>YES</string>
> 	<key>Show function args hints</key>
> 	<string>YES</string>
> 	<key>Show line numbers</key>
> 	<string>YES</string>
> 	<key>Show syntax coloring</key>
> 	<string>YES</string>
> 	<key>Stderr Color</key>
> 	<data>
> 	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMBhARm
> 	ZmZmAQAAAYY=
> 	</data>
> 	<key>Stdout Color</key>
> 	<data>
> 	BAt0eXBlZHN0cmVhbYED6IQBQISEhAdOU0NvbG9yAISECE5TT2JqZWN0AIWEAWMDhAJm
> 	ZoM/AAAAAYY=
> 	</data>
> 	<key>Strip comment history entries</key>
> 	<string>NO</string>
> 	<key>Use Internal Editor</key>
> 	<string>YES</string>
> 	<key>Use QuartzPrefPane values</key>
> 	<string>NO</string>
> 	<key>Working directory</key>
> 	<string>~</string>
> 	<key>auto.close.parens</key>
> 	<string>YES</string>
> 	<key>default.CRAN.mirror.URL</key>
> 	<string></string>
> 	<key>helpBrowserSearchHistory</key>
> 	<array>
> 		<string>latex.table</string>
> 	</array>
> 	<key>pkgInstaller.customURL</key>
> 	<string>http://R.research.att.com/</string>
> 	<key>save.on.exit</key>
> 	<string>ask</string>
> 	<key>saveOnExit</key>
> 	<string>ask</string>
> </dict>
> </plist>
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From david.b.a.epstein at googlemail.com  Thu Apr  8 18:45:37 2010
From: david.b.a.epstein at googlemail.com (David)
Date: Thu, 8 Apr 2010 09:45:37 -0700 (PDT)
Subject: [R-SIG-Mac] getting history() to work
In-Reply-To: <7F25580E-B981-4936-914E-2A1031E95E18@comcast.net>
References: <b1f6a0ec-d24d-4a20-9a45-94ac9866a4db@s9g2000yqa.googlegroups.com>
	<7F25580E-B981-4936-914E-2A1031E95E18@comcast.net>
Message-ID: <a0baf50e-7c1c-4dbd-9371-c3b6202b2325@u31g2000yqb.googlegroups.com>



On 8 Apr, 13:32, David Winsemius <dwinsem... at comcast.net> wrote:
> On Apr 8, 2010, at 4:56 AM, David wrote:
>
> > When I type history() to the R console, I get a new window that is
> > always blank. How can I get history() working?

...[snip]...

> It's been a whiles since I used R 2.8 but perhaps the current behavior ?
> is similar. What happens when you:
>
> A) Open the Preferences dialog in the RGUI and look at your history ?
> settings (which in the current GUI are in the Startup panel.)
Looks normal to me. Setting relating to history seem OK. Should I send
you personally a screen shot? I don't think I can attach an image for
the whole forum. In Preferences, the history file was listed as
.Rhistory. I tried to change this to ~/.Rhistory, but when I closed R
and reopened it, it reverted to .Rhistory.

> B) Open a Terminal.app window and type in:
> ? locate .Rhistory
I got a large number of hits. I recognized all the directories as
directories which had been, at one time or another, possibly with a
different version of R, the working directory for some R program. I
deleted all these hits as confusing the issue. I found one .Rhistory
in the working directory, containing a single command that I almost
certainly gave some time today. At some point today I deleted this
file and it has been re-created with this single command in it.
Nevertheless, history() continues to give me a blank screen. If things
were operating as I wish, there would have been many commands
in .Rhistory, since I have typed many commands to the R console today.
...[snip]...

David


From dwinsemius at comcast.net  Mon Apr 12 10:36:15 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 12 Apr 2010 03:36:15 -0500
Subject: [R-SIG-Mac] getting history() to work
In-Reply-To: <a0baf50e-7c1c-4dbd-9371-c3b6202b2325@u31g2000yqb.googlegroups.com>
References: <b1f6a0ec-d24d-4a20-9a45-94ac9866a4db@s9g2000yqa.googlegroups.com>
	<7F25580E-B981-4936-914E-2A1031E95E18@comcast.net>
	<a0baf50e-7c1c-4dbd-9371-c3b6202b2325@u31g2000yqb.googlegroups.com>
Message-ID: <B9FA4E3D-08E9-4B3E-9998-C206120DF227@comcast.net>


On Apr 8, 2010, at 11:45 AM, David wrote:

>
>
> On 8 Apr, 13:32, David Winsemius <dwinsem... at comcast.net> wrote:
>> On Apr 8, 2010, at 4:56 AM, David wrote:
>>
>>> When I type history() to the R console, I get a new window that is
>>> always blank. How can I get history() working?
>
> ...[snip]...
>
>> It's been a whiles since I used R 2.8 but perhaps the current  
>> behavior
>> is similar. What happens when you:
>>
>> A) Open the Preferences dialog in the RGUI and look at your history
>> settings (which in the current GUI are in the Startup panel.)
> Looks normal to me. Setting relating to history seem OK. Should I send
> you personally a screen shot? I don't think I can attach an image for
> the whole forum. In Preferences, the history file was listed as
> .Rhistory. I tried to change this to ~/.Rhistory, but when I closed R
> and reopened it, it reverted to .Rhistory.

(I use the GUI, so this may or may not parallel your experience.) When  
I execute history() from the GUI console, a file opens up with about  
20 commands that I have not used recently. When I choose "Save as" it  
offers the name "hist496ef7b9" and the location is a temp directory  
fairly deep in the /private/var/... directories. It looks like I was  
wrong about thinking that such files would always be given  
an .Rhistory name. I get the recent historical entries in the GUI by  
clicking the Show/Hide History icon. I suspect that the history()  
function is more useful in the command line initiated sessions of R  
but not normally used in the GUI sessions.

-- 
David.

>
>> B) Open a Terminal.app window and type in:
>>   locate .Rhistory
> I got a large number of hits. I recognized all the directories as
> directories which had been, at one time or another, possibly with a
> different version of R, the working directory for some R program. I
> deleted all these hits as confusing the issue. I found one .Rhistory
> in the working directory, containing a single command that I almost
> certainly gave some time today. At some point today I deleted this
> file and it has been re-created with this single command in it.
> Nevertheless, history() continues to give me a blank screen. If things
> were operating as I wish, there would have been many commands
> in .Rhistory, since I have typed many commands to the R console today.
> ...[snip]...
>
> David
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Mon Apr 12 16:41:23 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 12 Apr 2010 10:41:23 -0400
Subject: [R-SIG-Mac] getting history() to work
In-Reply-To: <B9FA4E3D-08E9-4B3E-9998-C206120DF227@comcast.net>
References: <b1f6a0ec-d24d-4a20-9a45-94ac9866a4db@s9g2000yqa.googlegroups.com>
	<7F25580E-B981-4936-914E-2A1031E95E18@comcast.net>
	<a0baf50e-7c1c-4dbd-9371-c3b6202b2325@u31g2000yqb.googlegroups.com>
	<B9FA4E3D-08E9-4B3E-9998-C206120DF227@comcast.net>
Message-ID: <A1D433F9-677C-4B8C-A0BE-6A0C7C085489@r-project.org>


On Apr 12, 2010, at 4:36 , David Winsemius wrote:

>
> On Apr 8, 2010, at 11:45 AM, David wrote:
>
>>
>>
>> On 8 Apr, 13:32, David Winsemius <dwinsem... at comcast.net> wrote:
>>> On Apr 8, 2010, at 4:56 AM, David wrote:
>>>
>>>> When I type history() to the R console, I get a new window that is
>>>> always blank. How can I get history() working?
>>
>> ...[snip]...
>>
>>> It's been a whiles since I used R 2.8 but perhaps the current  
>>> behavior
>>> is similar. What happens when you:
>>>
>>> A) Open the Preferences dialog in the RGUI and look at your history
>>> settings (which in the current GUI are in the Startup panel.)
>> Looks normal to me. Setting relating to history seem OK. Should I  
>> send
>> you personally a screen shot? I don't think I can attach an image for
>> the whole forum. In Preferences, the history file was listed as
>> .Rhistory. I tried to change this to ~/.Rhistory, but when I closed R
>> and reopened it, it reverted to .Rhistory.
>
> (I use the GUI, so this may or may not parallel your experience.)  
> When I execute history() from the GUI console, a file opens up with  
> about 20 commands that I have not used recently. When I choose "Save  
> as" it offers the name "hist496ef7b9" and the location is a temp  
> directory fairly deep in the /private/var/... directories. It looks  
> like I was wrong about thinking that such files would always be  
> given an .Rhistory name. I get the recent historical entries in the  
> GUI by clicking the Show/Hide History icon. I suspect that the  
> history() function is more useful in the command line initiated  
> sessions of R but not normally used in the GUI sessions.
>

In the GUI the current history is accessed on the console (arrow keys)  
or via the history panel (Show/Hide History in the toolbar). That is  
the only supported way to interact with the current history.

The history() command only shows the last saved history as a file -  
i.e. essentially the history file in the preferences. The history is  
not saved until you close the console window or use the R -> Quit menu  
item. ( A side note: R.app does NOT support the q() or quit()  
functions since they save neither history nor open files).

Cheers,
Simon



>>
>>> B) Open a Terminal.app window and type in:
>>>  locate .Rhistory
>> I got a large number of hits. I recognized all the directories as
>> directories which had been, at one time or another, possibly with a
>> different version of R, the working directory for some R program. I
>> deleted all these hits as confusing the issue. I found one .Rhistory
>> in the working directory, containing a single command that I almost
>> certainly gave some time today. At some point today I deleted this
>> file and it has been re-created with this single command in it.
>> Nevertheless, history() continues to give me a blank screen. If  
>> things
>> were operating as I wish, there would have been many commands
>> in .Rhistory, since I have typed many commands to the R console  
>> today.
>> ...[snip]...
>>
>> David
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From lists at remoteinformation.com.au  Mon Apr 12 17:15:28 2010
From: lists at remoteinformation.com.au (Ben Madin)
Date: Mon, 12 Apr 2010 23:15:28 +0800
Subject: [R-SIG-Mac] getting history() to work
In-Reply-To: <A1D433F9-677C-4B8C-A0BE-6A0C7C085489@r-project.org>
References: <b1f6a0ec-d24d-4a20-9a45-94ac9866a4db@s9g2000yqa.googlegroups.com>
	<7F25580E-B981-4936-914E-2A1031E95E18@comcast.net>
	<a0baf50e-7c1c-4dbd-9371-c3b6202b2325@u31g2000yqb.googlegroups.com>
	<B9FA4E3D-08E9-4B3E-9998-C206120DF227@comcast.net>
	<A1D433F9-677C-4B8C-A0BE-6A0C7C085489@r-project.org>
Message-ID: <5F194591-FED1-4172-B443-D32F771316A6@remoteinformation.com.au>

Simon et al,

On 12/04/2010, at 22:41 , Simon Urbanek wrote:

> A side note: R.app does NOT support the q() or quit() functions since they save neither history nor open files

I was totally unaware of this being the case (as one still gets the "Save workspace image? [y/n/c]: " message), and as this would probably have saved me lots of grief in the past - I gave up using the history and work from scripts always - maybe it could be a little more clearly noted somewhere else. 

My request / suggestion would be a warning every time the GUI opens that this is the case until the user checks the box that says "OK, I'll remember that for the future"

cheers

Ben


From simon.urbanek at r-project.org  Mon Apr 12 17:24:53 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 12 Apr 2010 11:24:53 -0400
Subject: [R-SIG-Mac] getting history() to work
In-Reply-To: <5F194591-FED1-4172-B443-D32F771316A6@remoteinformation.com.au>
References: <b1f6a0ec-d24d-4a20-9a45-94ac9866a4db@s9g2000yqa.googlegroups.com>
	<7F25580E-B981-4936-914E-2A1031E95E18@comcast.net>
	<a0baf50e-7c1c-4dbd-9371-c3b6202b2325@u31g2000yqb.googlegroups.com>
	<B9FA4E3D-08E9-4B3E-9998-C206120DF227@comcast.net>
	<A1D433F9-677C-4B8C-A0BE-6A0C7C085489@r-project.org>
	<5F194591-FED1-4172-B443-D32F771316A6@remoteinformation.com.au>
Message-ID: <19693FCD-7631-411D-A77A-C2E44FB402E0@r-project.org>


On Apr 12, 2010, at 11:15 , Ben Madin wrote:

> Simon et al,
>
> On 12/04/2010, at 22:41 , Simon Urbanek wrote:
>
>> A side note: R.app does NOT support the q() or quit() functions  
>> since they save neither history nor open files
>
> I was totally unaware of this being the case (as one still gets the  
> "Save workspace image? [y/n/c]: " message), and as this would  
> probably have saved me lots of grief in the past - I gave up using  
> the history and work from scripts always - maybe it could be a  
> little more clearly noted somewhere else.
>
> My request / suggestion would be a warning every time the GUI opens  
> that this is the case until the user checks the box that says "OK,  
> I'll remember that for the future"
>

I have added a warning if you use q/quit in the GUI - that should be  
more clear.

Thanks,
Simon


From david.b.a.epstein at googlemail.com  Tue Apr 13 12:13:01 2010
From: david.b.a.epstein at googlemail.com (David)
Date: Tue, 13 Apr 2010 03:13:01 -0700 (PDT)
Subject: [R-SIG-Mac] getting history() to work
In-Reply-To: <19693FCD-7631-411D-A77A-C2E44FB402E0@r-project.org>
References: <b1f6a0ec-d24d-4a20-9a45-94ac9866a4db@s9g2000yqa.googlegroups.com>
	<7F25580E-B981-4936-914E-2A1031E95E18@comcast.net>
	<a0baf50e-7c1c-4dbd-9371-c3b6202b2325@u31g2000yqb.googlegroups.com>
	<B9FA4E3D-08E9-4B3E-9998-C206120DF227@comcast.net>
	<A1D433F9-677C-4B8C-A0BE-6A0C7C085489@r-project.org> 
	<5F194591-FED1-4172-B443-D32F771316A6@remoteinformation.com.au> 
	<19693FCD-7631-411D-A77A-C2E44FB402E0@r-project.org>
Message-ID: <ef1706f0-2d74-48ad-900f-63f985ef80b9@z3g2000yqz.googlegroups.com>

OK, I finally (think I) understand how the history mechanism interacts
or fails to interact with R.app, as a result of Simon's postings---
clarity at last! R.app still seems to be behaving strangely on my
system---for example, I was unable to implement Rob Goedman's
suggestions. So I proceeded as follows.

1. Use shell command to delete my plist file in ~/Library/Preferences.
2. Look through ~/.Rprofile to make sure there is no interaction with
history mechanism.
3. Delete all other files beginning with .R in my home directory.
4. Upload dmg with the latest version (2.10.1) of R.app that works on
Tiger. (Note to myself: must upgrade to Leopard.). Install 2.10.1.
5. If I now open R.app and then do R>Preferences>StartUp>change name
of history file to .Rapphistory
then close R.app using any of the R.app methods (NOT q()), then open
R.app again, I find the SAME default entry for my history file,
namely .Rhistory.

I haven't tried direct editing of the plist file while R is closed.

Further information: While closing R.app, I kept on looking at the
plist contents. Following on 1. above, the plist file did not exist.
The preferences menu still showed my new name, namely .Rapphistory. I
closed the preferences window, opened it again: still .Rapphistory. I
pressed the quit light switch on the GUI. The plist file appeared for
the first time in ~/Library/Preferences, with
<key>History file path used for R type history files</key>
        <string>.Rhistory</string>
I still had not finally quit from R.app. When asked whether I wanted
to save or cancel or not save, I clicked on cancel. Then I went again
to
R>Preferences>StartUp and the name of the history file in the
Preferences menu had reverted to .Rhistory.

Can anyone think of a reason why R.app is insisting on using the
default .Rhistory, and does not accept my attempts to change it? Are
there any more diagnostic features I can try? Does anyone else,
working under Tiger, find the same behaviour with 2.10.1?

Thanks for any help
David
R 2.10.1 GUI 1.31-np Tiger build 32-bit (5538)
MacOsX 10.4.11 running on PowerPC G4


From simon.urbanek at r-project.org  Tue Apr 13 16:19:19 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 13 Apr 2010 10:19:19 -0400
Subject: [R-SIG-Mac] getting history() to work
In-Reply-To: <ef1706f0-2d74-48ad-900f-63f985ef80b9@z3g2000yqz.googlegroups.com>
References: <b1f6a0ec-d24d-4a20-9a45-94ac9866a4db@s9g2000yqa.googlegroups.com>
	<7F25580E-B981-4936-914E-2A1031E95E18@comcast.net>
	<a0baf50e-7c1c-4dbd-9371-c3b6202b2325@u31g2000yqb.googlegroups.com>
	<B9FA4E3D-08E9-4B3E-9998-C206120DF227@comcast.net>
	<A1D433F9-677C-4B8C-A0BE-6A0C7C085489@r-project.org>
	<5F194591-FED1-4172-B443-D32F771316A6@remoteinformation.com.au>
	<19693FCD-7631-411D-A77A-C2E44FB402E0@r-project.org>
	<ef1706f0-2d74-48ad-900f-63f985ef80b9@z3g2000yqz.googlegroups.com>
Message-ID: <96D76869-6537-44C8-8B91-8A5036D0E50C@r-project.org>

David,

I think I can help you with that one -- I assume you did not hit  
<Enter>, < Tab> or any other key to commit the filename so it was  
never stored. When you're typing the file name it is not stored until  
you're finished with that field (i.e. when you close R before doing so  
it is taken as canceling the change).

I agree that it can be a source of frustration - I'll see if we can  
change the behavior to auto-commit the change when the preference pane  
is closed (it's a little tricky because the pane is sort of  
independent of the window).

Cheers,
Simon


On Apr 13, 2010, at 6:13 , David wrote:

> OK, I finally (think I) understand how the history mechanism interacts
> or fails to interact with R.app, as a result of Simon's postings---
> clarity at last! R.app still seems to be behaving strangely on my
> system---for example, I was unable to implement Rob Goedman's
> suggestions. So I proceeded as follows.
>
> 1. Use shell command to delete my plist file in ~/Library/Preferences.
> 2. Look through ~/.Rprofile to make sure there is no interaction with
> history mechanism.
> 3. Delete all other files beginning with .R in my home directory.
> 4. Upload dmg with the latest version (2.10.1) of R.app that works on
> Tiger. (Note to myself: must upgrade to Leopard.). Install 2.10.1.
> 5. If I now open R.app and then do R>Preferences>StartUp>change name
> of history file to .Rapphistory
> then close R.app using any of the R.app methods (NOT q()), then open
> R.app again, I find the SAME default entry for my history file,
> namely .Rhistory.
>
> I haven't tried direct editing of the plist file while R is closed.
>
> Further information: While closing R.app, I kept on looking at the
> plist contents. Following on 1. above, the plist file did not exist.
> The preferences menu still showed my new name, namely .Rapphistory. I
> closed the preferences window, opened it again: still .Rapphistory. I
> pressed the quit light switch on the GUI. The plist file appeared for
> the first time in ~/Library/Preferences, with
> <key>History file path used for R type history files</key>
>        <string>.Rhistory</string>
> I still had not finally quit from R.app. When asked whether I wanted
> to save or cancel or not save, I clicked on cancel. Then I went again
> to
> R>Preferences>StartUp and the name of the history file in the
> Preferences menu had reverted to .Rhistory.
>
> Can anyone think of a reason why R.app is insisting on using the
> default .Rhistory, and does not accept my attempts to change it? Are
> there any more diagnostic features I can try? Does anyone else,
> working under Tiger, find the same behaviour with 2.10.1?
>
> Thanks for any help
> David
> R 2.10.1 GUI 1.31-np Tiger build 32-bit (5538)
> MacOsX 10.4.11 running on PowerPC G4
>
>


From david.b.a.epstein at googlemail.com  Tue Apr 13 17:34:45 2010
From: david.b.a.epstein at googlemail.com (David)
Date: Tue, 13 Apr 2010 08:34:45 -0700 (PDT)
Subject: [R-SIG-Mac] getting history() to work
In-Reply-To: <96D76869-6537-44C8-8B91-8A5036D0E50C@r-project.org>
References: <b1f6a0ec-d24d-4a20-9a45-94ac9866a4db@s9g2000yqa.googlegroups.com>
	<7F25580E-B981-4936-914E-2A1031E95E18@comcast.net>
	<a0baf50e-7c1c-4dbd-9371-c3b6202b2325@u31g2000yqb.googlegroups.com>
	<B9FA4E3D-08E9-4B3E-9998-C206120DF227@comcast.net>
	<A1D433F9-677C-4B8C-A0BE-6A0C7C085489@r-project.org> 
	<5F194591-FED1-4172-B443-D32F771316A6@remoteinformation.com.au> 
	<19693FCD-7631-411D-A77A-C2E44FB402E0@r-project.org>
	<ef1706f0-2d74-48ad-900f-63f985ef80b9@z3g2000yqz.googlegroups.com>
	<96D76869-6537-44C8-8B91-8A5036D0E50C@r-project.org>
Message-ID: <6ee75494-716f-40d8-8d00-2a54056fbf62@w17g2000yqj.googlegroups.com>

On 13 Apr, 15:19, Simon Urbanek <simon.urba... at r-project.org> wrote:
> David,
>
> I think I can help you with that one -- I assume you did not hit ?
> <Enter>, < Tab> or any other key to commit the filename so it was ?
> never stored. When you're typing the file name it is not stored until ?
> you're finished with that field (i.e. when you close R before doing so ?
> it is taken as canceling the change).
>
> I agree that it can be a source of frustration - I'll see if we can ?
> change the behavior to auto-commit the change when the preference pane ?
> is closed (it's a little tricky because the pane is sort of ?
> independent of the window).
>
> Cheers,
> Simon

Magic! After a couple of weeks of frustration, it finally works the
way it's supposed to.
Enhancement request:
Please add to the note about ~/.Rhistory.
"Terminate any new filename with 'Enter' '
or something along those lines.

I think this would be almost as effective as trying to make it auto-
commit on closing the preferences window, and much less effort.
Thanks for the help.
David


From brownjp23 at hotmail.com  Thu Apr 15 03:57:59 2010
From: brownjp23 at hotmail.com (Jason Brown)
Date: Wed, 14 Apr 2010 21:57:59 -0400
Subject: [R-SIG-Mac] TinnR for Mac
Message-ID: <BLU0-SMTP64FB0F5BCD499A480D2E77B20F0@phx.gbl>

Hello.  From what I can tell TinnR is only available for Windows.  What is the editor of choice for Mac users?

Thanks!

From kent.manley at att.net  Thu Apr 15 04:43:33 2010
From: kent.manley at att.net (Kent Manley)
Date: Wed, 14 Apr 2010 22:43:33 -0400
Subject: [R-SIG-Mac] TinnR for Mac
In-Reply-To: <BLU0-SMTP64FB0F5BCD499A480D2E77B20F0@phx.gbl>
References: <BLU0-SMTP64FB0F5BCD499A480D2E77B20F0@phx.gbl>
Message-ID: <8BC1E597-256C-439E-AA0B-926F64DE577C@att.net>

I haven't found an ideal answer to that.  I'm not an Emacs user (I  
prefer vim but not for R - don't even know if it's possible).

I've been using TeXShop with the Sweave interface.  It took minor  
tweaks to get it running, and in some senses, it helps to have the  
commands I want to run stored in a text document - and learning LaTeX  
was pretty quick for the simple documents I produce.

Some of the capabilities I see written about in books like http://www.amazon.com/Beginners-Guide-Use-Alain-Zuur/dp/0387938362/ref=sr_1_1?ie=UTF8&s=books&qid=1271299327&sr=1-1 
  this one *almost* make me want to use Windows *shudders*.

There are many more experienced voices on this list than mine, though.

Kent

On Apr 14, 2010, at 9:57 PM, Jason Brown wrote:

> Hello.  From what I can tell TinnR is only available for Windows.   
> What is the editor of choice for Mac users?
>
> Thanks!
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ripley at stats.ox.ac.uk  Thu Apr 15 07:09:22 2010
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 15 Apr 2010 06:09:22 +0100 (BST)
Subject: [R-SIG-Mac] TinnR for Mac
In-Reply-To: <8BC1E597-256C-439E-AA0B-926F64DE577C@att.net>
References: <BLU0-SMTP64FB0F5BCD499A480D2E77B20F0@phx.gbl>
	<8BC1E597-256C-439E-AA0B-926F64DE577C@att.net>
Message-ID: <alpine.LFD.2.00.1004150607490.615@gannet.stats.ox.ac.uk>

On Wed, 14 Apr 2010, Kent Manley wrote:

> I haven't found an ideal answer to that.  I'm not an Emacs user (I prefer vim 
> but not for R - don't even know if it's possible).

It certainly is.

> I've been using TeXShop with the Sweave interface.  It took minor tweaks to 
> get it running, and in some senses, it helps to have the commands I want to 
> run stored in a text document - and learning LaTeX was pretty quick for the 
> simple documents I produce.
>
> Some of the capabilities I see written about in books like 
> http://www.amazon.com/Beginners-Guide-Use-Alain-Zuur/dp/0387938362/ref=sr_1_1?ie=UTF8&s=books&qid=1271299327&sr=1-1 
> this one *almost* make me want to use Windows *shudders*.
>
> There are many more experienced voices on this list than mine, though.

And lots of past contributions: did either of you look in the list 
archives as suggested in the posting guide?

> Kent
>
> On Apr 14, 2010, at 9:57 PM, Jason Brown wrote:
>
>> Hello.  From what I can tell TinnR is only available for Windows.  What is 
>> the editor of choice for Mac users?
>> 
>> Thanks!
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From Markus.Gesmann at lloyds.com  Thu Apr 15 09:37:02 2010
From: Markus.Gesmann at lloyds.com (Gesmann, Markus)
Date: Thu, 15 Apr 2010 08:37:02 +0100
Subject: [R-SIG-Mac] TinnR for Mac
In-Reply-To: <alpine.LFD.2.00.1004150607490.615@gannet.stats.ox.ac.uk>
References: <BLU0-SMTP64FB0F5BCD499A480D2E77B20F0@phx.gbl><8BC1E597-256C-439E-AA0B-926F64DE577C@att.net>
	<alpine.LFD.2.00.1004150607490.615@gannet.stats.ox.ac.uk>
Message-ID: <661D2293D2AC9B4AA3833585D9A7D4E801A25016@GBVMAIL01.corp.lloydsnet>

Just to add to this, as I came across this yesterday evening. 
In the past Smultron was quite often recommend as an editor.
However the author of Smultron, Peter Borg, has stopped the development,
but a fork of it named 'Fraise' has continued the project.
You can get Fraise from http://mac-free.com/download/Fraise.html

Regards

Markus

-----Original Message-----
From: r-sig-mac-bounces at stat.math.ethz.ch
[mailto:r-sig-mac-bounces at stat.math.ethz.ch] On Behalf Of Prof Brian
Ripley
Sent: 15 April 2010 06:09
To: Kent Manley
Cc: Jason Brown; r-sig-mac at stat.math.ethz.ch
Subject: Re: [R-SIG-Mac] TinnR for Mac

On Wed, 14 Apr 2010, Kent Manley wrote:

> I haven't found an ideal answer to that.  I'm not an Emacs user (I 
> prefer vim but not for R - don't even know if it's possible).

It certainly is.

> I've been using TeXShop with the Sweave interface.  It took minor 
> tweaks to get it running, and in some senses, it helps to have the 
> commands I want to run stored in a text document - and learning LaTeX 
> was pretty quick for the simple documents I produce.
>
> Some of the capabilities I see written about in books like
> http://www.amazon.com/Beginners-Guide-Use-Alain-Zuur/dp/0387938362/ref
> =sr_1_1?ie=UTF8&s=books&qid=1271299327&sr=1-1
> this one *almost* make me want to use Windows *shudders*.
>
> There are many more experienced voices on this list than mine, though.

And lots of past contributions: did either of you look in the list
archives as suggested in the posting guide?

> Kent
>
> On Apr 14, 2010, at 9:57 PM, Jason Brown wrote:
>
>> Hello.  From what I can tell TinnR is only available for Windows.  
>> What is the editor of choice for Mac users?
>> 
>> Thanks!
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at stat.math.ethz.ch
https://stat.ethz.ch/mailman/listinfo/r-sig-mac
**********************************************************************
The information in this E-Mail and in any attachments is...{{dropped:27}}


From phgrosjean at sciviews.org  Thu Apr 15 10:05:58 2010
From: phgrosjean at sciviews.org (phgrosjean at sciviews.org)
Date: Thu, 15 Apr 2010 10:05:58 +0200
Subject: [R-SIG-Mac] TinnR for Mac
Message-ID: <14e29f07662528e0936aee54a8d4fe5a.squirrel@squirrelmail2.trusttelecom.fr>

In complement to Prof. Ripley's answer, here are a few tracks:

- Emacs/ESS, of course, and AquaMacs/ESS,
- JGR has a decent but simple R code editor; same for the default
R.app/R64.app,
- Eclipse/StatEt is and IDE (thus a little bit more complex than a simple
code editor),
- SciViews-K is another IDE compatible with Mac. It can also be used as a
code editor and it is very close to Tinn-R in term of functionnalities,
- TextWrangler (free) and BBEdit can be tweeked to syntax highlight R code
and submit code to R using AppleScript,
- TextMate has now a large palette of R-specific tools, thanks to active
contributors,
- jEdit; look for the Orchestra project for an impressive suite of R-aware
additions to jEdit,

There are certainly a couple of other options around, but you may be happy
with one of these.
Best,

Philippe Grosjean


From lists at remoteinformation.com.au  Thu Apr 15 15:32:46 2010
From: lists at remoteinformation.com.au (Ben Madin)
Date: Thu, 15 Apr 2010 21:32:46 +0800
Subject: [R-SIG-Mac] TinnR for Mac
In-Reply-To: <BLU0-SMTP64FB0F5BCD499A480D2E77B20F0@phx.gbl>
References: <BLU0-SMTP64FB0F5BCD499A480D2E77B20F0@phx.gbl>
Message-ID: <30B30C3E-C238-44C9-9B9A-BC56A626DDE1@remoteinformation.com.au>

Jason,

For speed and ease,  the built in one that comes with the Mac GUI works pretty well, and is worth getting a bit of experience with. It has some limitations, but the integration with the Console (ie Command-Enter execution) is really nice and just works!

cheers

Ben


On 15/04/2010, at 9:57 , Jason Brown wrote:

> Hello.  From what I can tell TinnR is only available for Windows.  What is the editor of choice for Mac users?
> 
> Thanks!
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From kasperdanielhansen at gmail.com  Thu Apr 15 15:37:13 2010
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Thu, 15 Apr 2010 09:37:13 -0400
Subject: [R-SIG-Mac] TinnR for Mac
In-Reply-To: <BLU0-SMTP64FB0F5BCD499A480D2E77B20F0@phx.gbl>
References: <BLU0-SMTP64FB0F5BCD499A480D2E77B20F0@phx.gbl>
Message-ID: <n2pe780c0971004150637w39f14ad5y6c25fa1ee8cc1a3a@mail.gmail.com>

You will find people use an array of tools.  Some find the built in
editor great.  A mac-only text editor that is pretty amazing (but
non-free) is Textmate, used by quite a few power users.  You might
want to spend some time looking into that one.  I use Emacs myself
(which exists in a more Mac-like incarnation as Aquamacs, which I
don't use).  Besides the fact the Emacs is amazing, if you are doing a
lot of development on multiple platforms you might consider switching
to a cross-platform solution.  Finally, I guess you could run tinnR in
a virtual machine.

Kasper

On Wed, Apr 14, 2010 at 9:57 PM, Jason Brown <brownjp23 at hotmail.com> wrote:
> Hello. ?From what I can tell TinnR is only available for Windows. ?What is the editor of choice for Mac users?
>
> Thanks!
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From stu.andrews at gmail.com  Fri Apr 16 00:54:22 2010
From: stu.andrews at gmail.com (Stuart Andrews)
Date: Thu, 15 Apr 2010 18:54:22 -0400
Subject: [R-SIG-Mac] snow package and architecture
Message-ID: <3B4DEBA1-1C7A-44FC-A46A-2D61C98DECAB@gmail.com>


Hi,

I have been mostly successful using the snow package to take advantage  
of multiples cores on a MacPro running Leopard OS X 10.5.8, as follows.

 > cl <- makeSOCKcluster(rep("mac133990", 3))

One difficulty, however, was that the slave nodes are starting up in  
32-bit mode despite the fact that the master is running in 64-bit  
mode.  Note that when I start the cluster manually  
(setDefaultClusterOptions(manual=TRUE)), I get a 64-bit cluster!    
However, I cannot get this to work otherwise.

I  suspect the environment variable R_ARCH, from my .bash_profile, is  
not being passed to the child processes.  These are spawned from the  
snow function newSOCKnode() via a system command, prefixed with "ssh - 
l USER MACHINE ..."

How can I get the snow cluster to recognize my R_ARCH without starting  
it up manually every time?

I've tried ...

(1) adding R_ARCH to my .Renviron file
(2) changing the defaultClusterOptions variable:  rshcmd="R_ARCH=/ 
x86_64; ssh"
(3) changing the defaultClusterOptions variable:  rshcmd="R_ARCH=/ 
x86_64; export R_ARCH; ssh"
(4) adding R_ARCH to my ~/.ssh/environment

But each time, I end up with a 32-bit cluster!

Thanks
- Stu



mac133990 ~/Data/methyl-091005/R -> Rmac

R version 2.11.0 Under development (unstable) (2010-01-14 r50976)
Copyright (C) 2010 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

   Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

PWD->[ /Volumes/ScratchDisk/Data/methyl-091005/R ]


 > .Machine$sizeof.pointer
[1] 8

 > library(snow)

 > setDefaultClusterOptions(manual=F)

 > cl=makeSOCKcluster(rep("mac133990",3))
Warning: No xauth data; using fake authentication data for X11  
forwarding.
PWD->[ /Users/stu ]
Warning: No xauth data; using fake authentication data for X11  
forwarding.
PWD->[ /Users/stu ]
Warning: No xauth data; using fake authentication data for X11  
forwarding.
PWD->[ /Users/stu ]


 > clusterEvalQ(cl, .Machine$sizeof.pointer)
[[1]]
[1] 4

[[2]]
[1] 4

[[3]]
[1] 4

 > stopCluster(cl)



 > setDefaultClusterOptions(manual=T)

 > cl=makeSOCKcluster(rep("mac133990",2))
Manually start worker on mac133990 with
      /Library/Frameworks/R.framework/Resources/bin/Rscript /Users/stu/ 
Research/Tools/R_library_version.2.11.0_arch.x86_64/snow/RSOCKnode.R  
MASTER=mac133990.med.cornell.edu PORT=10187 OUT=/dev/null SNOWLIB=/ 
Users/stu/Research/Tools/R_library_version.2.11.0_arch.x86_64
Manually start worker on mac133990 with
      /Library/Frameworks/R.framework/Resources/bin/Rscript /Users/stu/ 
Research/Tools/R_library_version.2.11.0_arch.x86_64/snow/RSOCKnode.R  
MASTER=mac133990.med.cornell.edu PORT=10187 OUT=/dev/null SNOWLIB=/ 
Users/stu/Research/Tools/R_library_version.2.11.0_arch.x86_64


 > clusterEvalQ(cl, .Machine$sizeof.pointer)
[[1]]
[1] 8

[[2]]
[1] 8

 > sessionInfo()
R version 2.11.0 Under development (unstable) (2010-01-14 r50976)
x86_64-apple-darwin9.8.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] snow_0.3-3  gdata_2.6.1

loaded via a namespace (and not attached):
[1] gtools_2.6.1


From smckinney at bccrc.ca  Tue Apr 20 02:58:04 2010
From: smckinney at bccrc.ca (Steven McKinney)
Date: Mon, 19 Apr 2010 17:58:04 -0700
Subject: [R-SIG-Mac] Failed tar extract due to symlinks put in place by
	Rswitch
Message-ID: <DCE81E14EB74504B971DAD4D2DB0356B061605920C@crcmail4.BCCRC.CA>

Hi all,

I am attempting to install macosx tools to a new Mac Pro.
When I attempt to install the devpack
   sudo tar fvxz /Users/stevenmckinney/Software/R/R-2.10.1/devpack4-darwin8-bin4.tar.gz  -C /
the tar extract fails due to symlink issues, related to symlinks
set up by Rswitch.

Has anyone else encountered this issue, and know of a fix?

This is the output from the tar extract command:

[momac13:/ stevenmckinney]
$ sudo tar fvxz /Users/stevenmckinney/Software/R/R-2.10.1/devpack4-darwin8-bin4.tar.gz  -C /
x usr/
x usr/local/
x usr/local/bin/
x usr/local/bin/fc-cache
x usr/local/bin/fc-cat
x usr/local/bin/fc-list
.
.
.
x usr/local/share/man/man5/png.5
x Library/
x Library/Frameworks/
x Library/Frameworks/R.framework/
x Library/Frameworks/R.framework/Resources/
x Library/Frameworks/R.framework/Resources/fontconfig/: Cannot extract through symlink Library/Frameworks/R.framework/Resources
x Library/Frameworks/R.framework/Resources/fontconfig/cache/: Cannot extract through symlink Library/Frameworks/R.framework/Resources
x Library/Frameworks/R.framework/Resources/fontconfig/fonts/: Cannot extract through symlink Library/Frameworks/R.framework/Resources
x Library/Frameworks/R.framework/Resources/fontconfig/fonts/conf.avail/: Cannot extract through symlink Library/Frameworks/R.framework/Resources
x Library/Frameworks/R.framework/Resources/fontconfig/fonts/conf.avail/10-autohint.conf: Cannot extract through symlink Library/Frameworks/R.framework/Resources
.
.
.
x Library/Frameworks/R.framework/Resources/fontconfig/fonts/fonts.conf: Cannot extract through symlink Library/Frameworks/R.framework/Resources
x Library/Frameworks/R.framework/Resources/fontconfig/fonts/fonts.dtd: Cannot extract through symlink Library/Frameworks/R.framework/Resources
tar: Error exit delayed from previous errors.
[momac13:/ stevenmckinney]


I see the following symlinks set up in /Library/Frameworks/R.framework

[momac13:/Library/Frameworks/R.framework stevenmckinney]
$ ls -alF
total 40
drwxrwxr-x@  8 root  admin  272 21 Oct  2008 ./
drwxrwxr-x@ 12 root  admin  408 21 Oct  2008 ../
lrwxr-xr-x   1 root  admin   24 19 Apr 14:57 Headers@ -> Versions/Current/Headers
lrwxr-xr-x   1 root  admin   30 19 Apr 14:57 Libraries@ -> Versions/Current/Resources/lib
lrwxr-xr-x   1 root  admin   31 19 Apr 14:57 PrivateHeaders@ -> Versions/Current/PrivateHeaders
lrwxr-xr-x   1 root  admin   18 19 Apr 14:57 R@ -> Versions/Current/R
lrwxr-xr-x   1 root  admin   26 21 Oct  2008 Resources@ -> Versions/Current/Resources
drwxrwxr-x   7 root  admin  238 19 Apr 14:57 Versions/


> sessionInfo()
R version 2.10.1 Patched (2010-04-07 r51689) 
x86_64-apple-darwin9.8.0 

locale:
[1] en_CA.UTF-8/en_CA.UTF-8/C/C/en_CA.UTF-8/en_CA.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     
> 




Steven McKinney

Statistician
Molecular Oncology and Breast Cancer Program
British Columbia Cancer Research Centre

email: smckinney +at+ bccrc +dot+ ca

tel: 604-675-8000 x7561

BCCRC
Molecular Oncology
675 West 10th Ave, Floor 4
Vancouver B.C.
V5Z 1L3
Canada


From simon.urbanek at r-project.org  Tue Apr 20 03:26:05 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 19 Apr 2010 21:26:05 -0400
Subject: [R-SIG-Mac] Failed tar extract due to symlinks put in place by
	Rswitch
In-Reply-To: <DCE81E14EB74504B971DAD4D2DB0356B061605920C@crcmail4.BCCRC.CA>
References: <DCE81E14EB74504B971DAD4D2DB0356B061605920C@crcmail4.BCCRC.CA>
Message-ID: <7A1748A8-E657-434B-B5FD-9E9866256C35@r-project.org>


On Apr 19, 2010, at 8:58 PM, Steven McKinney wrote:

> Hi all,
> 
> I am attempting to install macosx tools to a new Mac Pro.
> When I attempt to install the devpack
>   sudo tar fvxz /Users/stevenmckinney/Software/R/R-2.10.1/devpack4-darwin8-bin4.tar.gz  -C /
> the tar extract fails due to symlink issues, related to symlinks
> set up by Rswitch.
> 

Rswitch does not setup any such symlinks. However, if you used Rswitch to switch to a broken version of R that would do the job.


> Has anyone else encountered this issue, and know of a fix?
> 

It seems as if you don't have a valid R installation -- please make sure you install R before unpacking the dev pack. If in doubt nuke /Library/Frameworks/R.framework and re-install R from CRAN.

Cheers,
Simon


> This is the output from the tar extract command:
> 
> [momac13:/ stevenmckinney]
> $ sudo tar fvxz /Users/stevenmckinney/Software/R/R-2.10.1/devpack4-darwin8-bin4.tar.gz  -C /
> x usr/
> x usr/local/
> x usr/local/bin/
> x usr/local/bin/fc-cache
> x usr/local/bin/fc-cat
> x usr/local/bin/fc-list
> .
> .
> .
> x usr/local/share/man/man5/png.5
> x Library/
> x Library/Frameworks/
> x Library/Frameworks/R.framework/
> x Library/Frameworks/R.framework/Resources/
> x Library/Frameworks/R.framework/Resources/fontconfig/: Cannot extract through symlink Library/Frameworks/R.framework/Resources
> x Library/Frameworks/R.framework/Resources/fontconfig/cache/: Cannot extract through symlink Library/Frameworks/R.framework/Resources
> x Library/Frameworks/R.framework/Resources/fontconfig/fonts/: Cannot extract through symlink Library/Frameworks/R.framework/Resources
> x Library/Frameworks/R.framework/Resources/fontconfig/fonts/conf.avail/: Cannot extract through symlink Library/Frameworks/R.framework/Resources
> x Library/Frameworks/R.framework/Resources/fontconfig/fonts/conf.avail/10-autohint.conf: Cannot extract through symlink Library/Frameworks/R.framework/Resources
> .
> .
> .
> x Library/Frameworks/R.framework/Resources/fontconfig/fonts/fonts.conf: Cannot extract through symlink Library/Frameworks/R.framework/Resources
> x Library/Frameworks/R.framework/Resources/fontconfig/fonts/fonts.dtd: Cannot extract through symlink Library/Frameworks/R.framework/Resources
> tar: Error exit delayed from previous errors.
> [momac13:/ stevenmckinney]
> 
> 
> I see the following symlinks set up in /Library/Frameworks/R.framework
> 
> [momac13:/Library/Frameworks/R.framework stevenmckinney]
> $ ls -alF
> total 40
> drwxrwxr-x@  8 root  admin  272 21 Oct  2008 ./
> drwxrwxr-x@ 12 root  admin  408 21 Oct  2008 ../
> lrwxr-xr-x   1 root  admin   24 19 Apr 14:57 Headers@ -> Versions/Current/Headers
> lrwxr-xr-x   1 root  admin   30 19 Apr 14:57 Libraries@ -> Versions/Current/Resources/lib
> lrwxr-xr-x   1 root  admin   31 19 Apr 14:57 PrivateHeaders@ -> Versions/Current/PrivateHeaders
> lrwxr-xr-x   1 root  admin   18 19 Apr 14:57 R@ -> Versions/Current/R
> lrwxr-xr-x   1 root  admin   26 21 Oct  2008 Resources@ -> Versions/Current/Resources
> drwxrwxr-x   7 root  admin  238 19 Apr 14:57 Versions/
> 
> 
>> sessionInfo()
> R version 2.10.1 Patched (2010-04-07 r51689) 
> x86_64-apple-darwin9.8.0 
> 
> locale:
> [1] en_CA.UTF-8/en_CA.UTF-8/C/C/en_CA.UTF-8/en_CA.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
>> 
> 
> 
> 
> 
> Steven McKinney
> 
> Statistician
> Molecular Oncology and Breast Cancer Program
> British Columbia Cancer Research Centre
> 
> email: smckinney +at+ bccrc +dot+ ca
> 
> tel: 604-675-8000 x7561
> 
> BCCRC
> Molecular Oncology
> 675 West 10th Ave, Floor 4
> Vancouver B.C.
> V5Z 1L3
> Canada
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From smckinney at bccrc.ca  Tue Apr 20 03:45:54 2010
From: smckinney at bccrc.ca (Steven McKinney)
Date: Mon, 19 Apr 2010 18:45:54 -0700
Subject: [R-SIG-Mac] Failed tar extract due to symlinks put in place by
 Rswitch
In-Reply-To: <7A1748A8-E657-434B-B5FD-9E9866256C35@r-project.org>
References: <DCE81E14EB74504B971DAD4D2DB0356B061605920C@crcmail4.BCCRC.CA>,
	<7A1748A8-E657-434B-B5FD-9E9866256C35@r-project.org>
Message-ID: <DCE81E14EB74504B971DAD4D2DB0356B061605920D@crcmail4.BCCRC.CA>

Thanks for the information Simon.

My apologies on the Rswitch misinformation.

I nuked /Library/Frameworks/R.framework
and reinstalled from
   http://r.research.att.com/
using the R-2.10-branch-leopard.pkg installer.
The install yields the symlinks I saw previously (shown below).

I still get the same error message on attempting to install the devpack.

I'll try installing from CRAN as well.




[momac13:/Library/Frameworks stevenmckinney]
$ cd R.framework/
[momac13:/Library/Frameworks/R.framework stevenmckinney]
$ ls -alF
total 40
drwxrwxr-x@  8 root  admin  272 21 Oct  2008 ./
drwxrwxr-x@ 12 root  admin  408 21 Oct  2008 ../
lrwxr-xr-x   1 root  admin   24 19 Apr 18:33 Headers@ -> Versions/Current/Headers
lrwxr-xr-x   1 root  admin   30 19 Apr 18:33 Libraries@ -> Versions/Current/Resources/lib
lrwxr-xr-x   1 root  admin   31 19 Apr 18:33 PrivateHeaders@ -> Versions/Current/PrivateHeaders
lrwxr-xr-x   1 root  admin   18 19 Apr 18:33 R@ -> Versions/Current/R
lrwxr-xr-x   1 root  admin   26 21 Oct  2008 Resources@ -> Versions/Current/Resources
drwxrwxr-x   4 root  admin  136 19 Apr 18:33 Versions/
[momac13:/Library/Frameworks/R.framework stevenmckinney]
$ cd Versions/
[momac13:/Library/Frameworks/R.framework/Versions stevenmckinney]
$ ls -alF
total 8
drwxrwxr-x  4 root  admin  136 19 Apr 18:33 ./
drwxrwxr-x@ 8 root  admin  272 21 Oct  2008 ../
drwxrwxr-x  6 root  admin  204 19 Apr 18:33 2.10/
lrwxr-xr-x  1 root  admin    4 19 Apr 18:33 Current@ -> 2.10
[momac13:/Library/Frameworks/R.framework/Versions stevenmckinney]
$ 

Steve McKinney
________________________________________
From: Simon Urbanek [simon.urbanek at r-project.org]
Sent: April 19, 2010 6:26 PM
To: Steven McKinney
Cc: R-SIG-Mac at stat.math.ethz.ch
Subject: Re: [R-SIG-Mac] Failed tar extract due to symlinks put in place by Rswitch

On Apr 19, 2010, at 8:58 PM, Steven McKinney wrote:

> Hi all,
>
> I am attempting to install macosx tools to a new Mac Pro.
> When I attempt to install the devpack
>   sudo tar fvxz /Users/stevenmckinney/Software/R/R-2.10.1/devpack4-darwin8-bin4.tar.gz  -C /
> the tar extract fails due to symlink issues, related to symlinks
> set up by Rswitch.
>

Rswitch does not setup any such symlinks. However, if you used Rswitch to switch to a broken version of R that would do the job.


> Has anyone else encountered this issue, and know of a fix?
>

It seems as if you don't have a valid R installation -- please make sure you install R before unpacking the dev pack. If in doubt nuke /Library/Frameworks/R.framework and re-install R from CRAN.

Cheers,
Simon


> This is the output from the tar extract command:
>
> [momac13:/ stevenmckinney]
> $ sudo tar fvxz /Users/stevenmckinney/Software/R/R-2.10.1/devpack4-darwin8-bin4.tar.gz  -C /
> x usr/
> x usr/local/
> x usr/local/bin/
> x usr/local/bin/fc-cache
> x usr/local/bin/fc-cat
> x usr/local/bin/fc-list
> .
> .
> .
> x usr/local/share/man/man5/png.5
> x Library/
> x Library/Frameworks/
> x Library/Frameworks/R.framework/
> x Library/Frameworks/R.framework/Resources/
> x Library/Frameworks/R.framework/Resources/fontconfig/: Cannot extract through symlink Library/Frameworks/R.framework/Resources
> x Library/Frameworks/R.framework/Resources/fontconfig/cache/: Cannot extract through symlink Library/Frameworks/R.framework/Resources
> x Library/Frameworks/R.framework/Resources/fontconfig/fonts/: Cannot extract through symlink Library/Frameworks/R.framework/Resources
> x Library/Frameworks/R.framework/Resources/fontconfig/fonts/conf.avail/: Cannot extract through symlink Library/Frameworks/R.framework/Resources
> x Library/Frameworks/R.framework/Resources/fontconfig/fonts/conf.avail/10-autohint.conf: Cannot extract through symlink Library/Frameworks/R.framework/Resources
> .
> .
> .
> x Library/Frameworks/R.framework/Resources/fontconfig/fonts/fonts.conf: Cannot extract through symlink Library/Frameworks/R.framework/Resources
> x Library/Frameworks/R.framework/Resources/fontconfig/fonts/fonts.dtd: Cannot extract through symlink Library/Frameworks/R.framework/Resources
> tar: Error exit delayed from previous errors.
> [momac13:/ stevenmckinney]
>
>
> I see the following symlinks set up in /Library/Frameworks/R.framework
>
> [momac13:/Library/Frameworks/R.framework stevenmckinney]
> $ ls -alF
> total 40
> drwxrwxr-x@  8 root  admin  272 21 Oct  2008 ./
> drwxrwxr-x@ 12 root  admin  408 21 Oct  2008 ../
> lrwxr-xr-x   1 root  admin   24 19 Apr 14:57 Headers@ -> Versions/Current/Headers
> lrwxr-xr-x   1 root  admin   30 19 Apr 14:57 Libraries@ -> Versions/Current/Resources/lib
> lrwxr-xr-x   1 root  admin   31 19 Apr 14:57 PrivateHeaders@ -> Versions/Current/PrivateHeaders
> lrwxr-xr-x   1 root  admin   18 19 Apr 14:57 R@ -> Versions/Current/R
> lrwxr-xr-x   1 root  admin   26 21 Oct  2008 Resources@ -> Versions/Current/Resources
> drwxrwxr-x   7 root  admin  238 19 Apr 14:57 Versions/
>
>
>> sessionInfo()
> R version 2.10.1 Patched (2010-04-07 r51689)
> x86_64-apple-darwin9.8.0
>
> locale:
> [1] en_CA.UTF-8/en_CA.UTF-8/C/C/en_CA.UTF-8/en_CA.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>
>
>
>
> Steven McKinney
>
> Statistician
> Molecular Oncology and Breast Cancer Program
> British Columbia Cancer Research Centre
>
> email: smckinney +at+ bccrc +dot+ ca
>
> tel: 604-675-8000 x7561
>
> BCCRC
> Molecular Oncology
> 675 West 10th Ave, Floor 4
> Vancouver B.C.
> V5Z 1L3
> Canada
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From smckinney at bccrc.ca  Tue Apr 20 04:42:14 2010
From: smckinney at bccrc.ca (Steven McKinney)
Date: Mon, 19 Apr 2010 19:42:14 -0700
Subject: [R-SIG-Mac] Failed tar extract
In-Reply-To: <28783_1271727972_1271727972_DCE81E14EB74504B971DAD4D2DB0356B061605920D@crcmail4.BCCRC.CA>
References: <DCE81E14EB74504B971DAD4D2DB0356B061605920C@crcmail4.BCCRC.CA>,
	<7A1748A8-E657-434B-B5FD-9E9866256C35@r-project.org>
	<28783_1271727972_1271727972_DCE81E14EB74504B971DAD4D2DB0356B061605920D@crcmail4.BCCRC.CA>
Message-ID: <DCE81E14EB74504B971DAD4D2DB0356B0615DE27D7@crcmail4.BCCRC.CA>


After nuking /Library/Frameworks/R.framework
and installing the CRAN version the same
devpack error messages are produced.

Since I often have to install packages from
source, I'd like the proper compile environment
on my Mac.  

Is the issue with the devpack tar extraction
a problem in this regard?  It appears that
devpack materials are properly extracted to 
/usr/local... directories, but not to
/Library/Frameworks/R.framework directories.

Any info appreciated.

Steve McKinney



> -----Original Message-----
> From: r-sig-mac-bounces at stat.math.ethz.ch [mailto:r-sig-mac-
> bounces at stat.math.ethz.ch] On Behalf Of Steven McKinney
> Sent: Monday, April 19, 2010 6:46 PM
> To: Simon Urbanek
> Cc: R-SIG-Mac at stat.math.ethz.ch
> Subject: Re: [R-SIG-Mac] Failed tar extract due to symlinks put in
> place by Rswitch
> 
> Thanks for the information Simon.
> 
> My apologies on the Rswitch misinformation.
> 
> I nuked /Library/Frameworks/R.framework
> and reinstalled from
>    http://r.research.att.com/
> using the R-2.10-branch-leopard.pkg installer.
> The install yields the symlinks I saw previously (shown below).
> 
> I still get the same error message on attempting to install the
> devpack.
> 
> I'll try installing from CRAN as well.
> 
> 
> 
> 
> [momac13:/Library/Frameworks stevenmckinney]
> $ cd R.framework/
> [momac13:/Library/Frameworks/R.framework stevenmckinney]
> $ ls -alF
> total 40
> drwxrwxr-x@  8 root  admin  272 21 Oct  2008 ./
> drwxrwxr-x@ 12 root  admin  408 21 Oct  2008 ../
> lrwxr-xr-x   1 root  admin   24 19 Apr 18:33 Headers@ ->
> Versions/Current/Headers
> lrwxr-xr-x   1 root  admin   30 19 Apr 18:33 Libraries@ ->
> Versions/Current/Resources/lib
> lrwxr-xr-x   1 root  admin   31 19 Apr 18:33 PrivateHeaders@ ->
> Versions/Current/PrivateHeaders
> lrwxr-xr-x   1 root  admin   18 19 Apr 18:33 R@ -> Versions/Current/R
> lrwxr-xr-x   1 root  admin   26 21 Oct  2008 Resources@ ->
> Versions/Current/Resources
> drwxrwxr-x   4 root  admin  136 19 Apr 18:33 Versions/
> [momac13:/Library/Frameworks/R.framework stevenmckinney]
> $ cd Versions/
> [momac13:/Library/Frameworks/R.framework/Versions stevenmckinney]
> $ ls -alF
> total 8
> drwxrwxr-x  4 root  admin  136 19 Apr 18:33 ./
> drwxrwxr-x@ 8 root  admin  272 21 Oct  2008 ../
> drwxrwxr-x  6 root  admin  204 19 Apr 18:33 2.10/
> lrwxr-xr-x  1 root  admin    4 19 Apr 18:33 Current@ -> 2.10
> [momac13:/Library/Frameworks/R.framework/Versions stevenmckinney]
> $
> 
> Steve McKinney
> ________________________________________
> From: Simon Urbanek [simon.urbanek at r-project.org]
> Sent: April 19, 2010 6:26 PM
> To: Steven McKinney
> Cc: R-SIG-Mac at stat.math.ethz.ch
> Subject: Re: [R-SIG-Mac] Failed tar extract due to symlinks put in
> place by Rswitch
> 
> On Apr 19, 2010, at 8:58 PM, Steven McKinney wrote:
> 
> > Hi all,
> >
> > I am attempting to install macosx tools to a new Mac Pro.
> > When I attempt to install the devpack
> >   sudo tar fvxz /Users/stevenmckinney/Software/R/R-2.10.1/devpack4-
> darwin8-bin4.tar.gz  -C /
> > the tar extract fails due to symlink issues, related to symlinks
> > set up by Rswitch.
> >
> 
> Rswitch does not setup any such symlinks. However, if you used Rswitch
> to switch to a broken version of R that would do the job.
> 
> 
> > Has anyone else encountered this issue, and know of a fix?
> >
> 
> It seems as if you don't have a valid R installation -- please make
> sure you install R before unpacking the dev pack. If in doubt nuke
> /Library/Frameworks/R.framework and re-install R from CRAN.
> 
> Cheers,
> Simon
> 
> 
> > This is the output from the tar extract command:
> >
> > [momac13:/ stevenmckinney]
> > $ sudo tar fvxz /Users/stevenmckinney/Software/R/R-2.10.1/devpack4-
> darwin8-bin4.tar.gz  -C /
> > x usr/
> > x usr/local/
> > x usr/local/bin/
> > x usr/local/bin/fc-cache
> > x usr/local/bin/fc-cat
> > x usr/local/bin/fc-list
> > .
> > .
> > .
> > x usr/local/share/man/man5/png.5
> > x Library/
> > x Library/Frameworks/
> > x Library/Frameworks/R.framework/
> > x Library/Frameworks/R.framework/Resources/
> > x Library/Frameworks/R.framework/Resources/fontconfig/: Cannot
> extract through symlink Library/Frameworks/R.framework/Resources
> > x Library/Frameworks/R.framework/Resources/fontconfig/cache/: Cannot
> extract through symlink Library/Frameworks/R.framework/Resources
> > x Library/Frameworks/R.framework/Resources/fontconfig/fonts/: Cannot
> extract through symlink Library/Frameworks/R.framework/Resources
> > x
> Library/Frameworks/R.framework/Resources/fontconfig/fonts/conf.avail/:
> Cannot extract through symlink Library/Frameworks/R.framework/Resources
> > x
> Library/Frameworks/R.framework/Resources/fontconfig/fonts/conf.avail/10
> -autohint.conf: Cannot extract through symlink
> Library/Frameworks/R.framework/Resources
> > .
> > .
> > .
> > x
> Library/Frameworks/R.framework/Resources/fontconfig/fonts/fonts.conf:
> Cannot extract through symlink Library/Frameworks/R.framework/Resources
> > x
> Library/Frameworks/R.framework/Resources/fontconfig/fonts/fonts.dtd:
> Cannot extract through symlink Library/Frameworks/R.framework/Resources
> > tar: Error exit delayed from previous errors.
> > [momac13:/ stevenmckinney]
> >
> >
> > I see the following symlinks set up in
> /Library/Frameworks/R.framework
> >
> > [momac13:/Library/Frameworks/R.framework stevenmckinney]
> > $ ls -alF
> > total 40
> > drwxrwxr-x@  8 root  admin  272 21 Oct  2008 ./
> > drwxrwxr-x@ 12 root  admin  408 21 Oct  2008 ../
> > lrwxr-xr-x   1 root  admin   24 19 Apr 14:57 Headers@ ->
> Versions/Current/Headers
> > lrwxr-xr-x   1 root  admin   30 19 Apr 14:57 Libraries@ ->
> Versions/Current/Resources/lib
> > lrwxr-xr-x   1 root  admin   31 19 Apr 14:57 PrivateHeaders@ ->
> Versions/Current/PrivateHeaders
> > lrwxr-xr-x   1 root  admin   18 19 Apr 14:57 R@ -> Versions/Current/R
> > lrwxr-xr-x   1 root  admin   26 21 Oct  2008 Resources@ ->
> Versions/Current/Resources
> > drwxrwxr-x   7 root  admin  238 19 Apr 14:57 Versions/
> >
> >
> >> sessionInfo()
> > R version 2.10.1 Patched (2010-04-07 r51689)
> > x86_64-apple-darwin9.8.0
> >
> > locale:
> > [1] en_CA.UTF-8/en_CA.UTF-8/C/C/en_CA.UTF-8/en_CA.UTF-8
> >
> > attached base packages:
> > [1] stats     graphics  grDevices utils     datasets  methods   base
> >>
> >
> >
> >
> >
> > Steven McKinney
> >
> > Statistician
> > Molecular Oncology and Breast Cancer Program
> > British Columbia Cancer Research Centre
> >
> > email: smckinney +at+ bccrc +dot+ ca
> >
> > tel: 604-675-8000 x7561
> >
> > BCCRC
> > Molecular Oncology
> > 675 West 10th Ave, Floor 4
> > Vancouver B.C.
> > V5Z 1L3
> > Canada
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at stat.math.ethz.ch
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
> >
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From amerinoviteri at gmail.com  Tue Apr 20 13:31:03 2010
From: amerinoviteri at gmail.com (Andres Merino-Viteri)
Date: Tue, 20 Apr 2010 21:31:03 +1000
Subject: [R-SIG-Mac] problem launching R in the administrator user account
Message-ID: <l2jcbe9c73d1004200431y2b24dd4et55dd7861ecd4fd2a@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100420/91b91a94/attachment.pl>

From simon.urbanek at r-project.org  Tue Apr 20 15:50:42 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 20 Apr 2010 09:50:42 -0400
Subject: [R-SIG-Mac] Failed tar extract
In-Reply-To: <DCE81E14EB74504B971DAD4D2DB0356B0615DE27D7@crcmail4.BCCRC.CA>
References: <DCE81E14EB74504B971DAD4D2DB0356B061605920C@crcmail4.BCCRC.CA>,
	<7A1748A8-E657-434B-B5FD-9E9866256C35@r-project.org>
	<28783_1271727972_1271727972_DCE81E14EB74504B971DAD4D2DB0356B061605920D@crcmail4.BCCRC.CA>
	<DCE81E14EB74504B971DAD4D2DB0356B0615DE27D7@crcmail4.BCCRC.CA>
Message-ID: <A29E2AF7-51AD-4DBD-8D37-E18B75FC8EBF@r-project.org>


On Apr 19, 2010, at 10:42 PM, Steven McKinney wrote:

> 
> After nuking /Library/Frameworks/R.framework
> and installing the CRAN version the same
> devpack error messages are produced.
> 
> Since I often have to install packages from
> source, I'd like the proper compile environment
> on my Mac.  
> 
> Is the issue with the devpack tar extraction
> a problem in this regard?  It appears that
> devpack materials are properly extracted to 
> /usr/local... directories, but not to
> /Library/Frameworks/R.framework directories.
> 

It doesn't really matter because the devpack simply contains files that are otherwise shipped with R. I didn't get to see why it's not following the symlinks but if you install R form CRAN (or the nightly builds) you get those files anyway so you should be fine.

BTW: in addition to the devpack there are many other libraries in
http://r.research.att.com/libs/

which can be useful depending on the type of packages you're compiling from source.

Thanks,
Simon


> 
> 
>> -----Original Message-----
>> From: r-sig-mac-bounces at stat.math.ethz.ch [mailto:r-sig-mac-
>> bounces at stat.math.ethz.ch] On Behalf Of Steven McKinney
>> Sent: Monday, April 19, 2010 6:46 PM
>> To: Simon Urbanek
>> Cc: R-SIG-Mac at stat.math.ethz.ch
>> Subject: Re: [R-SIG-Mac] Failed tar extract due to symlinks put in
>> place by Rswitch
>> 
>> Thanks for the information Simon.
>> 
>> My apologies on the Rswitch misinformation.
>> 
>> I nuked /Library/Frameworks/R.framework
>> and reinstalled from
>>   http://r.research.att.com/
>> using the R-2.10-branch-leopard.pkg installer.
>> The install yields the symlinks I saw previously (shown below).
>> 
>> I still get the same error message on attempting to install the
>> devpack.
>> 
>> I'll try installing from CRAN as well.
>> 
>> 
>> 
>> 
>> [momac13:/Library/Frameworks stevenmckinney]
>> $ cd R.framework/
>> [momac13:/Library/Frameworks/R.framework stevenmckinney]
>> $ ls -alF
>> total 40
>> drwxrwxr-x@  8 root  admin  272 21 Oct  2008 ./
>> drwxrwxr-x@ 12 root  admin  408 21 Oct  2008 ../
>> lrwxr-xr-x   1 root  admin   24 19 Apr 18:33 Headers@ ->
>> Versions/Current/Headers
>> lrwxr-xr-x   1 root  admin   30 19 Apr 18:33 Libraries@ ->
>> Versions/Current/Resources/lib
>> lrwxr-xr-x   1 root  admin   31 19 Apr 18:33 PrivateHeaders@ ->
>> Versions/Current/PrivateHeaders
>> lrwxr-xr-x   1 root  admin   18 19 Apr 18:33 R@ -> Versions/Current/R
>> lrwxr-xr-x   1 root  admin   26 21 Oct  2008 Resources@ ->
>> Versions/Current/Resources
>> drwxrwxr-x   4 root  admin  136 19 Apr 18:33 Versions/
>> [momac13:/Library/Frameworks/R.framework stevenmckinney]
>> $ cd Versions/
>> [momac13:/Library/Frameworks/R.framework/Versions stevenmckinney]
>> $ ls -alF
>> total 8
>> drwxrwxr-x  4 root  admin  136 19 Apr 18:33 ./
>> drwxrwxr-x@ 8 root  admin  272 21 Oct  2008 ../
>> drwxrwxr-x  6 root  admin  204 19 Apr 18:33 2.10/
>> lrwxr-xr-x  1 root  admin    4 19 Apr 18:33 Current@ -> 2.10
>> [momac13:/Library/Frameworks/R.framework/Versions stevenmckinney]
>> $
>> 
>> Steve McKinney
>> ________________________________________
>> From: Simon Urbanek [simon.urbanek at r-project.org]
>> Sent: April 19, 2010 6:26 PM
>> To: Steven McKinney
>> Cc: R-SIG-Mac at stat.math.ethz.ch
>> Subject: Re: [R-SIG-Mac] Failed tar extract due to symlinks put in
>> place by Rswitch
>> 
>> On Apr 19, 2010, at 8:58 PM, Steven McKinney wrote:
>> 
>>> Hi all,
>>> 
>>> I am attempting to install macosx tools to a new Mac Pro.
>>> When I attempt to install the devpack
>>>  sudo tar fvxz /Users/stevenmckinney/Software/R/R-2.10.1/devpack4-
>> darwin8-bin4.tar.gz  -C /
>>> the tar extract fails due to symlink issues, related to symlinks
>>> set up by Rswitch.
>>> 
>> 
>> Rswitch does not setup any such symlinks. However, if you used Rswitch
>> to switch to a broken version of R that would do the job.
>> 
>> 
>>> Has anyone else encountered this issue, and know of a fix?
>>> 
>> 
>> It seems as if you don't have a valid R installation -- please make
>> sure you install R before unpacking the dev pack. If in doubt nuke
>> /Library/Frameworks/R.framework and re-install R from CRAN.
>> 
>> Cheers,
>> Simon
>> 
>> 
>>> This is the output from the tar extract command:
>>> 
>>> [momac13:/ stevenmckinney]
>>> $ sudo tar fvxz /Users/stevenmckinney/Software/R/R-2.10.1/devpack4-
>> darwin8-bin4.tar.gz  -C /
>>> x usr/
>>> x usr/local/
>>> x usr/local/bin/
>>> x usr/local/bin/fc-cache
>>> x usr/local/bin/fc-cat
>>> x usr/local/bin/fc-list
>>> .
>>> .
>>> .
>>> x usr/local/share/man/man5/png.5
>>> x Library/
>>> x Library/Frameworks/
>>> x Library/Frameworks/R.framework/
>>> x Library/Frameworks/R.framework/Resources/
>>> x Library/Frameworks/R.framework/Resources/fontconfig/: Cannot
>> extract through symlink Library/Frameworks/R.framework/Resources
>>> x Library/Frameworks/R.framework/Resources/fontconfig/cache/: Cannot
>> extract through symlink Library/Frameworks/R.framework/Resources
>>> x Library/Frameworks/R.framework/Resources/fontconfig/fonts/: Cannot
>> extract through symlink Library/Frameworks/R.framework/Resources
>>> x
>> Library/Frameworks/R.framework/Resources/fontconfig/fonts/conf.avail/:
>> Cannot extract through symlink Library/Frameworks/R.framework/Resources
>>> x
>> Library/Frameworks/R.framework/Resources/fontconfig/fonts/conf.avail/10
>> -autohint.conf: Cannot extract through symlink
>> Library/Frameworks/R.framework/Resources
>>> .
>>> .
>>> .
>>> x
>> Library/Frameworks/R.framework/Resources/fontconfig/fonts/fonts.conf:
>> Cannot extract through symlink Library/Frameworks/R.framework/Resources
>>> x
>> Library/Frameworks/R.framework/Resources/fontconfig/fonts/fonts.dtd:
>> Cannot extract through symlink Library/Frameworks/R.framework/Resources
>>> tar: Error exit delayed from previous errors.
>>> [momac13:/ stevenmckinney]
>>> 
>>> 
>>> I see the following symlinks set up in
>> /Library/Frameworks/R.framework
>>> 
>>> [momac13:/Library/Frameworks/R.framework stevenmckinney]
>>> $ ls -alF
>>> total 40
>>> drwxrwxr-x@  8 root  admin  272 21 Oct  2008 ./
>>> drwxrwxr-x@ 12 root  admin  408 21 Oct  2008 ../
>>> lrwxr-xr-x   1 root  admin   24 19 Apr 14:57 Headers@ ->
>> Versions/Current/Headers
>>> lrwxr-xr-x   1 root  admin   30 19 Apr 14:57 Libraries@ ->
>> Versions/Current/Resources/lib
>>> lrwxr-xr-x   1 root  admin   31 19 Apr 14:57 PrivateHeaders@ ->
>> Versions/Current/PrivateHeaders
>>> lrwxr-xr-x   1 root  admin   18 19 Apr 14:57 R@ -> Versions/Current/R
>>> lrwxr-xr-x   1 root  admin   26 21 Oct  2008 Resources@ ->
>> Versions/Current/Resources
>>> drwxrwxr-x   7 root  admin  238 19 Apr 14:57 Versions/
>>> 
>>> 
>>>> sessionInfo()
>>> R version 2.10.1 Patched (2010-04-07 r51689)
>>> x86_64-apple-darwin9.8.0
>>> 
>>> locale:
>>> [1] en_CA.UTF-8/en_CA.UTF-8/C/C/en_CA.UTF-8/en_CA.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>> 
>>> 
>>> 
>>> 
>>> 
>>> Steven McKinney
>>> 
>>> Statistician
>>> Molecular Oncology and Breast Cancer Program
>>> British Columbia Cancer Research Centre
>>> 
>>> email: smckinney +at+ bccrc +dot+ ca
>>> 
>>> tel: 604-675-8000 x7561
>>> 
>>> BCCRC
>>> Molecular Oncology
>>> 675 West 10th Ave, Floor 4
>>> Vancouver B.C.
>>> V5Z 1L3
>>> Canada
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From simon.urbanek at r-project.org  Tue Apr 20 16:20:36 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 20 Apr 2010 10:20:36 -0400
Subject: [R-SIG-Mac] problem launching R in the administrator user
	account
In-Reply-To: <l2jcbe9c73d1004200431y2b24dd4et55dd7861ecd4fd2a@mail.gmail.com>
References: <l2jcbe9c73d1004200431y2b24dd4et55dd7861ecd4fd2a@mail.gmail.com>
Message-ID: <DAC93C7B-9975-4A00-9EC2-8ABDF7FFF508@r-project.org>

As per FAQ 12.16 remove ~/.Rhistory and you should be fine.

Cheers,
Simon

On Apr 20, 2010, at 7:31 AM, Andres Merino-Viteri wrote:

> I am new in the list, so I am sorry if this problem was previously
> discussed.
> 
> Unexpectedly, I started to have problems launching R in the administrator
> user session in my Mac laptop. The macbook takes a long time trying to
> launch R, but at the end R does not open at all. The problem report is
> copied below.
> 
> When I open the software in a different user account there is not any
> problem at all.
> 
> I have uninstalled R and removed R related files (/Applications/R.app,
> /Library/Frameworks/R.framework, ~/Library/R/) then I have installed R again
> but the problem continues only in that specific user account.
> 
> Any help to solve this problem will be very appreciated. Thanks.
> 
> 
> 
> Process:         R [713]
> Path:            /Applications/R.app/Contents/MacOS/R
> Identifier:      org.R-project.R
> Version:         R 2.10.1 GUI 1.31 Leopard build 32-bit (5537)
> Code Type:       X86 (Native)
> Parent Process:  launchd [652]
> 
> Date/Time:       2010-04-20 20:14:52.657 +1000
> OS Version:      Mac OS X 10.6.3 (10D573)
> Report Version:  6
> 
> Interval Since Last Report:          43579 sec
> Crashes Since Last Report:           4
> Per-App Interval Since Last Report:  659 sec
> Per-App Crashes Since Last Report:   4
> Anonymous UUID:                      554DD4DD-D253-4312-A227-42639D009A66
> 
> Exception Type:  EXC_BAD_ACCESS (SIGBUS)
> Exception Codes: KERN_PROTECTION_FAILURE at 0x0000000000000000
> Crashed Thread:  0  Dispatch queue: com.apple.main-thread
> 
> Thread 0 Crashed:  Dispatch queue: com.apple.main-thread
> 0   libSystem.B.dylib             0xffff132f __longcopy + 303
> 1   libSystem.B.dylib             0xffff0876 __memcpy + 214
> 2   com.apple.CoreFoundation       0x970225bc _CFStringCheckAndGetCharacters
> + 236
> 3   com.apple.Foundation           0x9880ba78 -[NSCFString
> getCharacters:range:] + 67
> 4   com.apple.Foundation           0x98839378 _NSNewStringByAppendingStrings
> + 915
> 5   com.apple.Foundation           0x98838fca -[NSString
> stringByAppendingString:] + 254
> 6   org.R-project.R               0x000098d8 -[RController doLoadHistory:] +
> 808
> 7   org.R-project.R               0x000072cf -[RController awakeFromNib] +
> 2319
> 8   com.apple.CoreFoundation       0x97041584 -[NSSet
> makeObjectsPerformSelector:] + 196
> 9   com.apple.AppKit               0x917a2bc8 -[NSIBObjectData
> nibInstantiateWithOwner:topLevelObjects:] + 1566
> 10  com.apple.AppKit               0x917a0ba0 loadNib + 257
> 11  com.apple.AppKit               0x917a01f4 +[NSBundle(NSNibLoading)
> _loadNibFile:nameTable:withZone:ownerBundle:] + 831
> 12  com.apple.AppKit               0x9179feaa +[NSBundle(NSNibLoading)
> loadNibFile:externalNameTable:withZone:] + 158
> 13  com.apple.AppKit               0x9179fdf5 +[NSBundle(NSNibLoading)
> loadNibNamed:owner:] + 383
> 14  org.R-project.R               0x00002128 main + 296
> 15  org.R-project.R               0x00001fc6 start + 54
> 
> Thread 1:  Dispatch queue: com.apple.libdispatch-manager
> 0   libSystem.B.dylib             0x98c07b42 kevent + 10
> 1   libSystem.B.dylib             0x98c0825c _dispatch_mgr_invoke + 215
> 2   libSystem.B.dylib             0x98c07719 _dispatch_queue_invoke + 163
> 3   libSystem.B.dylib             0x98c074be _dispatch_worker_thread2 + 240
> 4   libSystem.B.dylib             0x98c06f41 _pthread_wqthread + 390
> 5   libSystem.B.dylib             0x98c06d86 start_wqthread + 30
> 
> Thread 2:  JavaScriptCore: FastMalloc scavenger
> 0   libSystem.B.dylib             0x98c0f262 __semwait_signal + 10
> 1   libSystem.B.dylib             0x98c0ef1e _pthread_cond_wait + 1191
> 2   libSystem.B.dylib             0x98c10bb8 pthread_cond_wait$UNIX2003 + 73
> 3   com.apple.JavaScriptCore       0x9160d276
> WTF::TCMalloc_PageHeap::scavengerThread() + 614
> 4   libSystem.B.dylib             0x98c0e89e thread_start + 34
> 
> Thread 3:
> 0   libSystem.B.dylib             0x98be12fa mach_msg_trap + 10
> 1   libSystem.B.dylib             0x98be1a67 mach_msg + 68
> 2   com.apple.CoreFoundation       0x9701200f __CFRunLoopRun + 2079
> 3   com.apple.CoreFoundation       0x970110f4 CFRunLoopRunSpecific + 452
> 4   com.apple.CoreFoundation       0x97010f21 CFRunLoopRunInMode + 97
> 5   com.apple.Foundation           0x9887684a -[NSConnection
> sendInvocation:internal:] + 2587
> 6   com.apple.Foundation           0x98875ca9 -[NSDistantObject
> forwardInvocation:] + 411
> 7   com.apple.CoreFoundation       0x9704f8a4 ___forwarding___ + 1108
> 8   com.apple.CoreFoundation       0x9704f3d2 _CF_forwarding_prep_0 + 50
> 9   org.R-project.R               0x0000d655 -[RController readThread:] +
> 245
> 10  com.apple.Foundation           0x9881d8dc -[NSThread main] + 45
> 11  com.apple.Foundation           0x9881d88c __NSThread__main__ + 1499
> 12  libSystem.B.dylib             0x98c0ea19 _pthread_start + 345
> 13  libSystem.B.dylib             0x98c0e89e thread_start + 34
> 
> Thread 4:
> 0   libSystem.B.dylib             0x98c06bd2 __workq_kernreturn + 10
> 1   libSystem.B.dylib             0x98c07168 _pthread_wqthread + 941
> 2   libSystem.B.dylib             0x98c06d86 start_wqthread + 30
> 
> Thread 0 crashed with X86 Thread State (32-bit):
> eax: 0x00040000  ebx: 0x0000002e  ecx: 0x00064a74  edx: 0xfffc0000
> edi: 0x00040000  esi: 0xffd31000  ebp: 0xbfffec3c  esp: 0xbfffec30
>  ss: 0x0000001f  efl: 0x00010246  eip: 0xffff132f   cs: 0x00000017
>  ds: 0x0000001f   es: 0x0000001f   fs: 0x00000000   gs: 0x00000037
> cr2: 0x00000000
> 
> Binary Images:
>   0x1000 -    0x3effb +org.R-project.R R 2.10.1 GUI 1.31 Leopard build
> 32-bit (5537) <AF29A0C1-54B6-E63B-B84D-F377412CEE94>
> /Applications/R.app/Contents/MacOS/R
>  0x6d000 -   0x2dbffb +libR.dylib 2.10.1 (compatibility 2.10.0)
> <4F7D4AC2-23E9-BD47-89C9-9D18837B0950>
> /Library/Frameworks/R.framework/Versions/2.10/Resources/lib/libR.dylib
> 0x3ad000 -   0x3ae108 +libRblas.dylib ??? (???)
> /Library/Frameworks/R.framework/Versions/2.10/Resources/lib/libRblas.dylib
> 0x3b2000 -   0x43dfff +libgfortran.2.dylib 3.0.0 (compatibility 3.0.0)
> /Library/Frameworks/R.framework/Versions/2.10/Resources/lib/libgfortran.2.dylib
> 0x5b2000 -   0x5d7ff3 +libreadline.5.2.dylib 5.2.0 (compatibility 5.0.0)
> /Library/Frameworks/R.framework/Versions/2.10/Resources/lib/libreadline.5.2.dylib
> 0x8fe00000 - 0x8fe4162b  dyld 132.1 (???)
> <211AF0DD-42D9-79C8-BB6A-1F4BEEF4B4AB> /usr/lib/dyld
> 0x90006000 - 0x90049ff7  libGLU.dylib ??? (???)
> <CE02968E-930D-E63B-7B21-B87205F8B19A>
> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.dylib
> 0x90241000 - 0x90245ff7  libGIF.dylib ??? (???)
> <03880BA1-7A86-0F2B-617A-C66B1D05DD70>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libGIF.dylib
> 0x9028f000 - 0x9029dfe7  libz.1.dylib 1.2.3 (compatibility 1.0.0)
> <82B2C254-6F8D-7BEA-4C18-038E90CAE19B> /usr/lib/libz.1.dylib
> 0x902c8000 - 0x903f6fe7  com.apple.CoreData 102.1 (251)
> <E6A457F0-A0A3-32CD-6C69-6286E7C0F063>
> /System/Library/Frameworks/CoreData.framework/Versions/A/CoreData
> 0x903f7000 - 0x9075eff7  com.apple.QuartzCore 1.6.1 (227.18)
> <8A65F233-4C77-BA7C-5DDA-2423F5C1B7A1>
> /System/Library/Frameworks/QuartzCore.framework/Versions/A/QuartzCore
> 0x9075f000 - 0x90769fe7  com.apple.audio.SoundManager 3.9.3 (3.9.3)
> <5F494955-7290-2D91-DA94-44B590191771>
> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CarbonSound.framework/Versions/A/CarbonSound
> 0x9076a000 - 0x90a8efef  com.apple.HIToolbox 1.6.2 (???)
> <F5F99E78-5377-DD54-6138-9FC84467F938>
> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox
> 0x90a8f000 - 0x90aadff7  com.apple.CoreVideo 1.6.1 (45.4)
> <E0DF044D-BF31-42CE-B690-FD1FCE07E64A>
> /System/Library/Frameworks/CoreVideo.framework/Versions/A/CoreVideo
> 0x90aae000 - 0x9129d537  com.apple.CoreGraphics 1.543.33 (???)
> <C57E2964-80AF-6346-6D3E-23AED9D26977>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics
> 0x912e5000 - 0x91467fe7  libicucore.A.dylib 40.0.0 (compatibility 1.0.0)
> <96A45E03-2B29-83EB-0FC6-2C932E398722> /usr/lib/libicucore.A.dylib
> 0x914eb000 - 0x91688fef  com.apple.JavaScriptCore 6531.21 (6531.21.9)
> <26FC8DBB-56BA-AAD4-9913-C1550B9223D5>
> /System/Library/Frameworks/JavaScriptCore.framework/Versions/A/JavaScriptCore
> 0x91695000 - 0x916d6ff7  libRIP.A.dylib 543.33.0 (compatibility 64.0.0)
> <C6E50C7E-EBEE-32AF-FF07-8E325E21A838>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib
> 0x916d7000 - 0x916d9ff7  libRadiance.dylib ??? (???)
> <9358E1EF-F802-B76E-8E23-2D0695787CFB>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libRadiance.dylib
> 0x916da000 - 0x91775ff7  com.apple.ApplicationServices.ATS 4.2 (???)
> <3BEB7210-4C85-7309-B22D-695765526524>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/ATS
> 0x91776000 - 0x9179aff7  libJPEG.dylib ??? (???)
> <EDA86712-F49C-760C-BE55-9B899A4A5D1B>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib
> 0x9179b000 - 0x9207aff7  com.apple.AppKit 6.6.5 (1038.29)
> <E76A05A6-27C6-DA02-0961-5C8EEDC5F0A7>
> /System/Library/Frameworks/AppKit.framework/Versions/C/AppKit
> 0x9207b000 - 0x9209dfef  com.apple.DirectoryService.Framework 3.6 (621.3)
> <05FFDBDB-F16B-8AC0-DB42-986965FCBD95>
> /System/Library/Frameworks/DirectoryService.framework/Versions/A/DirectoryService
> 0x920a6000 - 0x9215cfff  libFontParser.dylib ??? (???)
> <5935E105-1E45-886C-6420-C1CCA886C375>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libFontParser.dylib
> 0x9215d000 - 0x92479fe7  com.apple.RawCamera.bundle 2.3.2 (516)
> <9C1C6ED1-C392-6779-0D34-47E62EAF93BA>
> /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera
> 0x9247a000 - 0x92484ffb  com.apple.speech.recognition.framework 3.11.1
> (3.11.1) <EC0E69C8-A121-70E8-43CF-E6FC4C7779EC>
> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SpeechRecognition.framework/Versions/A/SpeechRecognition
> 0x92485000 - 0x92488ff7  libCGXType.A.dylib 543.33.0 (compatibility 64.0.0)
> <69BE578C-A364-A150-35E3-53EE00F56F05>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXType.A.dylib
> 0x92580000 - 0x925efff7  libvMisc.dylib 268.0.1 (compatibility 1.0.0)
> <2FC2178F-FEF9-6E3F-3289-A6307B1A154C>
> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvMisc.dylib
> 0x925f2000 - 0x926e4ff7  libcrypto.0.9.8.dylib 0.9.8 (compatibility 0.9.8)
> <7482933B-4AF6-ED55-AD72-4FBD1E134958> /usr/lib/libcrypto.0.9.8.dylib
> 0x927fa000 - 0x9282dff7  com.apple.AE 496.4 (496.4)
> <7F34EC47-8429-3077-8158-54F5EA908C66>
> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/AE.framework/Versions/A/AE
> 0x92a08000 - 0x92a72fe7  libstdc++.6.dylib 7.9.0 (compatibility 7.0.0)
> <411D87F4-B7E1-44EB-F201-F8B4F9227213> /usr/lib/libstdc++.6.dylib
> 0x92e5d000 - 0x92e64ff3  com.apple.print.framework.Print 6.1 (237.1)
> <97AB70B6-C653-212F-CFD3-E3816D0F5C22>
> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.framework/Versions/A/Print
> 0x92e65000 - 0x92e65ff7  com.apple.Accelerate 1.6 (Accelerate 1.6)
> <BC501C9F-7C20-961A-B135-0A457667D03C>
> /System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate
> 0x92e66000 - 0x92e78ff7  com.apple.MultitouchSupport.framework 204.12.1
> (204.12.1) <6BB58E90-21FA-C491-F0E4-54B69CCDBBC0>
> /System/Library/PrivateFrameworks/MultitouchSupport.framework/Versions/A/MultitouchSupport
> 0x92edb000 - 0x92edbff7  com.apple.CoreServices 44 (44)
> <AC35D112-5FB9-9C8C-6189-5F5945072375>
> /System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices
> 0x92edc000 - 0x92f1fff7  com.apple.NavigationServices 3.5.4 (182)
> <753B8906-06C0-3AE0-3D6A-8FF5AC18ED12>
> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/NavigationServices.framework/Versions/A/NavigationServices
> 0x92f20000 - 0x92f31ff7  com.apple.LangAnalysis 1.6.6 (1.6.6)
> <7A3862F7-3730-8F6E-A5DE-8E2CCEA979EF>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/LangAnalysis.framework/Versions/A/LangAnalysis
> 0x92f40000 - 0x92f55fff  com.apple.ImageCapture 6.0 (6.0)
> <3F31833A-38A9-444E-02B7-17619CA6F2A0>
> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ImageCapture.framework/Versions/A/ImageCapture
> 0x93032000 - 0x93103fe3  ColorSyncDeprecated.dylib 4.6.0 (compatibility
> 1.0.0) <0A608513-31AD-D533-8386-10245FD62057>
> /System/Library/Frameworks/ApplicationServices.framework/Frameworks/ColorSync.framework/Versions/A/Resources/ColorSyncDeprecated.dylib
> 0x93104000 - 0x93146ff7  libvDSP.dylib 268.0.1 (compatibility 1.0.0)
> <3F0ED200-741B-4E27-B89F-634B131F5E9E>
> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvDSP.dylib
> 0x9317c000 - 0x93225ff7  com.apple.CFNetwork 454.9.4 (454.9.4)
> <2F8B5BA5-099F-6CDA-F500-4CA188BBCDBC>
> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CFNetwork.framework/Versions/A/CFNetwork
> 0x9327d000 - 0x9335aff7  com.apple.vImage 4.0 (4.0)
> <64597E4B-F144-DBB3-F428-0EC3D9A1219E>
> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vImage.framework/Versions/A/vImage
> 0x9335b000 - 0x9335effb  com.apple.help 1.3.1 (41)
> <67F1F424-3983-7A2A-EC21-867BE838E90B>
> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Help.framework/Versions/A/Help
> 0x9335f000 - 0x9336aff7  libGL.dylib ??? (???)
> <EAD85409-9036-831B-C378-E50780305DA6>
> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
> 0x9336b000 - 0x9341bff3  com.apple.ColorSync 4.6.3 (4.6.3)
> <68B6A1B9-86CF-0C5A-7D63-56ED4BB2EB5B>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ColorSync.framework/Versions/A/ColorSync
> 0x9341c000 - 0x93460ff3  com.apple.coreui 2 (114)
> <29F8F1A4-1C96-6A0F-4CC2-9B85CF83209F>
> /System/Library/PrivateFrameworks/CoreUI.framework/Versions/A/CoreUI
> 0x9348b000 - 0x9349bff7  libsasl2.2.dylib 3.15.0 (compatibility 3.0.0)
> <C8744EA3-0AB7-CD03-E639-C4F2B910BE5D> /usr/lib/libsasl2.2.dylib
> 0x9349c000 - 0x938d1ff7  libLAPACK.dylib 219.0.0 (compatibility 1.0.0)
> <5E2D2283-57DE-9A49-1DB0-CD027FEFA6C2>
> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib
> 0x938da000 - 0x9390bff7  libGLImage.dylib ??? (???)
> <AF110892-B10A-5B61-F898-21FB2BCE63BF>
> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.dylib
> 0x9390c000 - 0x93959feb  com.apple.DirectoryService.PasswordServerFramework
> 6.0 (6.0) <BF66BA5D-BBC8-78A5-DBE2-F9DE3DD1D775>
> /System/Library/PrivateFrameworks/PasswordServer.framework/Versions/A/PasswordServer
> 0x9395a000 - 0x939aaff7  com.apple.framework.familycontrols 2.0.1 (2010)
> <50E74916-19A5-F2FC-AB57-76F2C8DDF0A7>
> /System/Library/PrivateFrameworks/FamilyControls.framework/Versions/A/FamilyControls
> 0x93ab2000 - 0x93ab3ff7  com.apple.audio.units.AudioUnit 1.6.3 (1.6.3)
> <959DFFAE-A06B-7FF6-B713-B2076893EBBD>
> /System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
> 0x93ac6000 - 0x93ac6ff7  com.apple.Cocoa 6.6 (???)
> <EA27B428-5904-B00B-397A-185588698BCC>
> /System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa
> 0x93afa000 - 0x93afaff7  com.apple.vecLib 3.6 (vecLib 3.6)
> <7362077A-890F-3AEF-A8AB-22247B10E106>
> /System/Library/Frameworks/vecLib.framework/Versions/A/vecLib
> 0x93afb000 - 0x93b56ff7  com.apple.framework.IOKit 2.0 (???)
> <69E4FE93-376C-565E-650F-04FAD213AA24>
> /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
> 0x93b57000 - 0x93b58ff7  com.apple.TrustEvaluationAgent 1.1 (1)
> <6C04C4C5-667E-2EBE-EB96-5B67BD4B2185>
> /System/Library/PrivateFrameworks/TrustEvaluationAgent.framework/Versions/A/TrustEvaluationAgent
> 0x93b59000 - 0x93bebfe3  com.apple.print.framework.PrintCore 6.2 (312.5)
> <7729B4D7-D661-D669-FA7E-510F93F685A6>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore
> 0x93bec000 - 0x93c32ff7  libauto.dylib ??? (???)
> <85670A64-3B67-8162-D441-D8E0BE15CA94> /usr/lib/libauto.dylib
> 0x93c33000 - 0x93e95ff3  com.apple.security 6.1.1 (37594)
> <1AC07F75-7E27-9662-21DA-B05DFF047B26>
> /System/Library/Frameworks/Security.framework/Versions/A/Security
> 0x93e96000 - 0x93f97fe7  libxml2.2.dylib 10.3.0 (compatibility 10.0.0)
> <B4C5CD68-405D-0F1B-59CA-5193D463D0EF> /usr/lib/libxml2.2.dylib
> 0x93f98000 - 0x93fe9ff7  com.apple.HIServices 1.8.0 (???)
> <10C85B88-C6AF-91DB-2546-34661BA35AC5>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/HIServices.framework/Versions/A/HIServices
> 0x93fea000 - 0x93feaff7  liblangid.dylib ??? (???)
> <B99607FC-5646-32C8-2C16-AFB5EA9097C2> /usr/lib/liblangid.dylib
> 0x94095000 - 0x940bdff7  libxslt.1.dylib 3.24.0 (compatibility 3.0.0)
> <769EF4B2-C1AD-73D5-AAAD-1564DAEA77AF> /usr/lib/libxslt.1.dylib
> 0x940be000 - 0x948e8fe7  com.apple.WebCore 6531.21 (6531.21.8)
> <E6ABFBC6-CCBD-4A16-7DAE-B3E15E523D84>
> /System/Library/Frameworks/WebKit.framework/Versions/A/Frameworks/WebCore.framework/Versions/A/WebCore
> 0x948e9000 - 0x948ecff7  libCoreVMClient.dylib ??? (???)
> <98CB96B1-85FE-25AF-AB19-ED061912FC3E>
> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCoreVMClient.dylib
> 0x948ed000 - 0x9499bff3  com.apple.ink.framework 1.3.3 (107)
> <57B54F6F-CE35-D546-C7EC-DBC5FDC79938>
> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Ink.framework/Versions/A/Ink
> 0x949fe000 - 0x94a7efeb  com.apple.SearchKit 1.3.0 (1.3.0)
> <9E18AEA5-F4B4-8BE5-EEA9-818FC4F46FD9>
> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit
> 0x94a7f000 - 0x94aa5fff  com.apple.DictionaryServices 1.1.1 (1.1.1)
> <02709230-9B37-C743-6E27-3FCFD18211F8>
> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/DictionaryServices.framework/Versions/A/DictionaryServices
> 0x94aa6000 - 0x94aa6ff7  com.apple.ApplicationServices 38 (38)
> <8012B504-3D83-BFBB-DA65-065E061CFE03>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/ApplicationServices
> 0x94aa7000 - 0x94b0bffb  com.apple.htmlrendering 72 (1.1.4)
> <4D451A35-FAB6-1288-71F6-F24A4B6E2371>
> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HTMLRendering.framework/Versions/A/HTMLRendering
> 0x94c0f000 - 0x94c2aff7  libPng.dylib ??? (???)
> <929FE8EE-277D-F6EB-D672-E6F4CEBF1504>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libPng.dylib
> 0x94c2b000 - 0x94c6ffe7  com.apple.Metadata 10.6.3 (507.8)
> <53BB360A-1813-170D-827F-C1863EF15537>
> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Metadata.framework/Versions/A/Metadata
> 0x94cef000 - 0x94dfbff7  libGLProgrammability.dylib ??? (???)
> <CA0A975B-2BEE-44E7-CFA6-8105CFE6FE00>
> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLProgrammability.dylib
> 0x94e31000 - 0x94eeafe7  libsqlite3.dylib 9.6.0 (compatibility 9.0.0)
> <16CEF8E8-8C9A-94CD-EF5D-05477844C005> /usr/lib/libsqlite3.dylib
> 0x94f44000 - 0x94fa5fe7  com.apple.CoreText 3.1.0 (???)
> <1372DABE-F183-DD03-03C2-64B2464A4FD5>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreText.framework/Versions/A/CoreText
> 0x94fa6000 - 0x94fc2fe3  com.apple.openscripting 1.3.1 (???)
> <DA16DE48-59F4-C94B-EBE3-7FAF772211A2>
> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/OpenScripting.framework/Versions/A/OpenScripting
> 0x9502f000 - 0x9506cff7  com.apple.SystemConfiguration 1.10.2 (1.10.2)
> <830FED9E-3E24-004C-35D5-2C1273F79734>
> /System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration
> 0x9506d000 - 0x950efffb  SecurityFoundation 36840.0.0 (compatibility 1.0.0)
> <29C27E0E-B2B3-BF6B-B1F8-5783B8B01535>
> /System/Library/Frameworks/SecurityFoundation.framework/Versions/A/SecurityFoundation
> 0x9516a000 - 0x9519dff7  libncurses.5.4.dylib 5.4.0 (compatibility 5.4.0)
> <4014E921-F04E-09BB-4CDA-1527B1C850AB> /usr/lib/libncurses.5.4.dylib
> 0x9538e000 - 0x95436ffb  com.apple.QD 3.35 (???)
> <B80B64BC-958B-DA9E-50F9-D7E8333CC5A2>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/QD.framework/Versions/A/QD
> 0x95437000 - 0x95445ff7  com.apple.opengl 1.6.7 (1.6.7)
> <3C529790-DEE9-AC27-A879-806E4C23323C>
> /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL
> 0x95446000 - 0x95521fe7  com.apple.DesktopServices 1.5.5 (1.5.5)
> <ECEDFDF2-C40E-8DF0-F8FC-249CCA762E62>
> /System/Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/DesktopServicesPriv
> 0x95522000 - 0x95525fe7  libmathCommon.A.dylib 315.0.0 (compatibility 1.0.0)
> <1622A54F-1A98-2CBE-B6A4-2122981A500E> /usr/lib/system/libmathCommon.A.dylib
> 0x95526000 - 0x9561aff7  libiconv.2.dylib 7.0.0 (compatibility 7.0.0)
> <9EC28185-D26F-533F-90C4-FBAA13A15947> /usr/lib/libiconv.2.dylib
> 0x95732000 - 0x957dffe7  libobjc.A.dylib 227.0.0 (compatibility 1.0.0)
> <DF8E4CFA-3719-3415-0BF1-E8C5E561C3B1> /usr/lib/libobjc.A.dylib
> 0x957e0000 - 0x95801fe7  com.apple.opencl 12.1 (12.1)
> <1BCA4F60-E612-5C1B-EF50-A810D70CDF05>
> /System/Library/Frameworks/OpenCL.framework/Versions/A/OpenCL
> 0x95802000 - 0x9580dff7  libCSync.A.dylib 543.33.0 (compatibility 64.0.0)
> <F914F427-98EA-98BC-923D-47274A90D441>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib
> 0x9580e000 - 0x95810fe7  com.apple.ExceptionHandling 1.5 (10)
> <21F37A49-E63B-121E-D406-1BBC94BEC762>
> /System/Library/Frameworks/ExceptionHandling.framework/Versions/A/ExceptionHandling
> 0x9589c000 - 0x958e5fe7  libTIFF.dylib ??? (???)
> <E45B169E-253E-E865-1501-97777D2702F2>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libTIFF.dylib
> 0x9595c000 - 0x95960ff7  IOSurface ??? (???)
> <4B825ADA-8DBE-6BA2-1AB3-307D2C3AFCA8>
> /System/Library/Frameworks/IOSurface.framework/Versions/A/IOSurface
> 0x9598d000 - 0x959adfe7  libresolv.9.dylib 40.0.0 (compatibility 1.0.0)
> <03019DD7-993D-AC88-6636-179F92F315C4> /usr/lib/libresolv.9.dylib
> 0x95b70000 - 0x95c54ff7  com.apple.WebKit 6531.21 (6531.21.11)
> <01C5DC64-B762-22C2-7A0E-913340562CE1>
> /System/Library/Frameworks/WebKit.framework/Versions/A/WebKit
> 0x95fc2000 - 0x95fceff7  libkxld.dylib ??? (???)
> <13F26BB6-C2F7-9D74-933E-09AD8B509ECD> /usr/lib/system/libkxld.dylib
> 0x95fcf000 - 0x962effeb  com.apple.CoreServices.CarbonCore 861.6 (861.6)
> <D3D5D9F1-01ED-DCAD-6AA9-4ABE60C7A112>
> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore
> 0x9635f000 - 0x9639afeb  libFontRegistry.dylib ??? (???)
> <F50A60E1-3757-D007-A20D-A5504C17334C>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libFontRegistry.dylib
> 0x96a31000 - 0x96a45ffb  com.apple.speech.synthesis.framework 3.10.35
> (3.10.35) <57DD5458-4F24-DA7D-0927-C3321A65D743>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis
> 0x96a46000 - 0x96b10fef  com.apple.CoreServices.OSServices 357 (357)
> <764872C3-AE30-7F54-494D-4BA3CE4F4DFB>
> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/OSServices.framework/Versions/A/OSServices
> 0x96fd5000 - 0x9714effb  com.apple.CoreFoundation 6.6.1 (550.19)
> <1E97FB1E-9E42-B8EB-E463-5C75315FDA31>
> /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation
> 0x980eb000 - 0x98183fe7  edu.mit.Kerberos 6.5.9 (6.5.9)
> <73EC847F-FF44-D542-2AD5-97F6C8D48F0B>
> /System/Library/Frameworks/Kerberos.framework/Versions/A/Kerberos
> 0x98184000 - 0x98340ff3  com.apple.ImageIO.framework 3.0.2 (3.0.1)
> <CB39B067-58B8-70DB-3E40-160604664A6D>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/ImageIO
> 0x98341000 - 0x98355fe7  libbsm.0.dylib ??? (???)
> <14CB053A-7C47-96DA-E415-0906BA1B78C9> /usr/lib/libbsm.0.dylib
> 0x98411000 - 0x9853dfff  com.apple.audio.toolbox.AudioToolbox 1.6.3 (1.6.3)
> <F0D7256E-0914-8E77-E37B-9720430422AB>
> /System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox
> 0x9859d000 - 0x985a2ff7  com.apple.OpenDirectory 10.6 (10.6)
> <92582807-E8F3-3DD9-EB42-4195CFB754A1>
> /System/Library/Frameworks/OpenDirectory.framework/Versions/A/OpenDirectory
> 0x985a3000 - 0x98640fe3  com.apple.LaunchServices 362.1 (362.1)
> <885D8567-9E40-0105-20BC-42C7FF657583>
> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/LaunchServices
> 0x98807000 - 0x98a77ffb  com.apple.Foundation 6.6.2 (751.21)
> <DA7A173A-4435-ECD6-F4AF-977D722FD2F7>
> /System/Library/Frameworks/Foundation.framework/Versions/C/Foundation
> 0x98ad3000 - 0x98ad5ff7  com.apple.securityhi 4.0 (36638)
> <962C66FB-5BE9-634E-0810-036CB340C059>
> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SecurityHI.framework/Versions/A/SecurityHI
> 0x98bd1000 - 0x98bdaff7  com.apple.DiskArbitration 2.3 (2.3)
> <E9C40767-DA6A-6CCB-8B00-2D5706753000>
> /System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration
> 0x98bdb000 - 0x98bdfff7  libGFXShared.dylib ??? (???)
> <286F466C-2856-B579-B87F-4E9A35C80263>
> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGFXShared.dylib
> 0x98be0000 - 0x98d85feb  libSystem.B.dylib 125.0.1 (compatibility 1.0.0)
> <06A5336A-A6F6-4E62-F55F-4909A64631C2> /usr/lib/libSystem.B.dylib
> 0x98d86000 - 0x98db7ff3  libTrueTypeScaler.dylib ??? (???)
> <F6A32C01-CD82-54F6-218E-0406D40D1D9A>
> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libTrueTypeScaler.dylib
> 0x98db8000 - 0x98db8ff7  com.apple.Carbon 150 (152)
> <608A04AB-F35D-D2EB-6629-16B88FB32074>
> /System/Library/Frameworks/Carbon.framework/Versions/A/Carbon
> 0x98db9000 - 0x991cfff7  libBLAS.dylib 219.0.0 (compatibility 1.0.0)
> <C4FB303A-DB4D-F9E8-181C-129585E59603>
> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib
> 0x99296000 - 0x992a3ff7  com.apple.NetFS 3.2.1 (3.2.1)
> <5E61A00B-FA16-9D99-A064-47BDC5BC9A2B>
> /System/Library/Frameworks/NetFS.framework/Versions/A/NetFS
> 0x992a4000 - 0x992a4ff7  com.apple.Accelerate.vecLib 3.6 (vecLib 3.6)
> <1DEC639C-173D-F808-DE0D-4070CC6F5BC7>
> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/vecLib
> 0x992a5000 - 0x9931ffef  com.apple.audio.CoreAudio 3.2.2 (3.2.2)
> <1F97B48A-327B-89CC-7C01-3865179716E0>
> /System/Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio
> 0x99320000 - 0x99355ff7  libcups.2.dylib 2.8.0 (compatibility 2.0.0)
> <458E819A-4E3F-333E-28CE-671281B318D3> /usr/lib/libcups.2.dylib
> 0x99664000 - 0x9967cff7  com.apple.CFOpenDirectory 10.6 (10.6)
> <1537FB4F-C112-5D12-1E5D-3B1002A4038F>
> /System/Library/Frameworks/OpenDirectory.framework/Versions/A/Frameworks/CFOpenDirectory.framework/Versions/A/CFOpenDirectory
> 0x9967d000 - 0x99683fff  com.apple.CommonPanels 1.2.4 (91)
> <2438AF5D-067B-B9FD-1248-2C9987F360BA>
> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CommonPanels.framework/Versions/A/CommonPanels
> 0xffff0000 - 0xffff1fff  libSystem.B.dylib ??? (???)
> <06A5336A-A6F6-4E62-F55F-4909A64631C2> /usr/lib/libSystem.B.dylib
> 
> Model: MacBook5,1, BootROM MB51.007D.B03, 2 processors, Intel Core 2 Duo, 2
> GHz, 2 GB, SMC 1.32f8
> Graphics: NVIDIA GeForce 9400M, NVIDIA GeForce 9400M, PCI, 256 MB
> Memory Module: global_name
> AirPort: spairport_wireless_card_type_airport_extreme (0x14E4, 0x8D),
> Broadcom BCM43xx 1.0 (5.10.91.27)
> Bluetooth: Version 2.3.1f4, 2 service, 2 devices, 1 incoming serial ports
> Network Service: AirPort, AirPort, en1
> Serial ATA Device: FUJITSU MHZ2160BH FFS G1, 149.05 GB
> Serial ATA Device: HL-DT-ST DVDRW  GS21N
> USB Device: Cruzer Micro, 0x0781  (SanDisk Corporation), 0x5151, 0x24100000
> USB Device: Built-in iSight, 0x05ac  (Apple Inc.), 0x8507, 0x24400000
> USB Device: Apple Internal Keyboard / Trackpad, 0x05ac  (Apple Inc.),
> 0x0236, 0x04600000
> USB Device: IR Receiver, 0x05ac  (Apple Inc.), 0x8242, 0x04500000
> USB Device: BRCM2046 Hub, 0x0a5c  (Broadcom Corp.), 0x4500, 0x06100000
> USB Device: Bluetooth USB Host Controller, 0x05ac  (Apple Inc.), 0x8213,
> 0x06110000
> 
> 
> 
> _____________________________________
> 
> Andres Merino-Viteri
> Centre for Tropical Biodiversity and Climate Change Research
> School of Marine and Tropical Biology
> James Cook University
> Townsville, QLD 4811
> Australia
> 
> E-mail: andres.merinoviteri at jcu.edu.au
>           amerinoviteri at gmail.com
> 
> www.jcu.edu.au/ctbcc
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From erich.studerus at bli.uzh.ch  Thu Apr 22 17:43:05 2010
From: erich.studerus at bli.uzh.ch (Erich Studerus)
Date: Thu, 22 Apr 2010 17:43:05 +0200
Subject: [R-SIG-Mac] Problems with read.xls on Mac OS X 10.6.3
Message-ID: <web-23268570@idmailbe2b.unizh.ch>

Hello

I'm trying to read an Excel-File with the read.xls function from gdata 
(Version 2.7.1) on Mac with OS X 10.6.3, but get the following error 
message:
Can't load 
'/Users/.../Library/R/2.10/library/gdata/perl/darwin-thread-multi-2level/auto/Compress/Raw/Zlib/Zlib.bundle' 
for module Compress::Raw::Zlib: 
/Users/.../Library/R/2.10/library/gdata/perl/darwin-thread-multi-2level/auto/Compress/Raw/Zlib/Zlib.bundle: 
no appropriate 64-bit architecture (see "man perl" for running in 32-bit 
mode) at 
/System/Library/Perl/5.10.0/darwin-thread-multi-2level/DynaLoader.pm line 
207.
  at /Users/.../Library/R/2.10/library/gdata/perl/Archive/Zip.pm line 12
Compilation failed in require at 
/Users/.../Library/R/2.10/library/gdata/perl/Archive/Zip.pm line 12.

I did not have this problem on a Mac with OX X 10.5.8. It seems that perl 
must be running in 32bit mode, but is running in 64bit mode by default on my 
system. The same problem has been discussed on R mailing list, but nobody 
has provided a solution as far as I can see:
http://r.789695.n4.nabble.com/gdata-td1477079.html

I tried to change the default perl to version 5.8 by following the 
instructions under "man perl" but still get the same error message. Can 
anybody help me out?

Regards,
Erich


From simon.urbanek at r-project.org  Thu Apr 22 21:09:59 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 22 Apr 2010 15:09:59 -0400
Subject: [R-SIG-Mac] Problems with read.xls on Mac OS X 10.6.3
In-Reply-To: <web-23268570@idmailbe2b.unizh.ch>
References: <web-23268570@idmailbe2b.unizh.ch>
Message-ID: <ABA707EF-4C19-462E-AB17-506C3D393E3C@r-project.org>

Erich,

On Apr 22, 2010, at 11:43 AM, Erich Studerus wrote:

> Hello
> 
> I'm trying to read an Excel-File with the read.xls function from gdata (Version 2.7.1) on Mac with OS X 10.6.3, but get the following error message:
> Can't load '/Users/.../Library/R/2.10/library/gdata/perl/darwin-thread-multi-2level/auto/Compress/Raw/Zlib/Zlib.bundle' for module Compress::Raw::Zlib: /Users/.../Library/R/2.10/library/gdata/perl/darwin-thread-multi-2level/auto/Compress/Raw/Zlib/Zlib.bundle: no appropriate 64-bit architecture (see "man perl" for running in 32-bit mode) at /System/Library/Perl/5.10.0/darwin-thread-multi-2level/DynaLoader.pm line 207.
> at /Users/.../Library/R/2.10/library/gdata/perl/Archive/Zip.pm line 12
> Compilation failed in require at /Users/.../Library/R/2.10/library/gdata/perl/Archive/Zip.pm line 12.
> 
> I did not have this problem on a Mac with OX X 10.5.8. It seems that perl must be running in 32bit mode, but is running in 64bit mode by default on my system. The same problem has been discussed on R mailing list, but nobody has provided a solution as far as I can see:
> http://r.789695.n4.nabble.com/gdata-td1477079.html
> 

Yes, there is a fundamental problem - gdata compiles a Perl module which is incompatible across systems since each system has different version of Perl. Currently the only safe solution is to install gdata from sources on OS X 10.6:

install.packages('gdata', type='source')

However, you'll need to install Xcode (shipped on the Snow Leopard DVD) before you do the above.

gdata would need to be modified in order to fix the problem (or not embed perl modules into the package).

Cheers,
Simon


From Mike.Lawrence at dal.ca  Fri Apr 23 22:24:43 2010
From: Mike.Lawrence at dal.ca (Mike Lawrence)
Date: Fri, 23 Apr 2010 17:24:43 -0300
Subject: [R-SIG-Mac] Permanently change default console font
Message-ID: <i2l37fda5351004231324sef2f6248g800df30e113bb02d@mail.gmail.com>

Hi folks,

Sorry if this has been asked already, but I couldn't find any
references to it in the list archives. Is there any way to change the
default font of the mac GUI? If I open the app I can change the size
of the font and this change persists even if I close and re-open the
app, but changes in the font itself do not persist. I've played around
with the source code, but can't seem to find what I'd need to modify
to set a new default font (14pt Menlo, for example).

Cheers,

Mike

-- 
Mike Lawrence
Graduate Student
Department of Psychology
Dalhousie University

Looking to arrange a meeting? Check my public calendar:
http://tr.im/mikes_public_calendar

~ Certainty is folly... I think. ~


From simon.urbanek at r-project.org  Sat Apr 24 02:00:29 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 23 Apr 2010 20:00:29 -0400
Subject: [R-SIG-Mac] Permanently change default console font
In-Reply-To: <i2l37fda5351004231324sef2f6248g800df30e113bb02d@mail.gmail.com>
References: <i2l37fda5351004231324sef2f6248g800df30e113bb02d@mail.gmail.com>
Message-ID: <CFD7A647-32E9-4D5B-ABED-B9F0507DB9EA@r-project.org>


On Apr 23, 2010, at 4:24 PM, Mike Lawrence wrote:

> Hi folks,
> 
> Sorry if this has been asked already, but I couldn't find any references to it in the list archives. Is there any way to change the default font of the mac GUI? If I open the app I can change the size of the font and this change persists even if I close and re-open the app, but changes in the font itself do not persist. I've played around with the source code, but can't seem to find what I'd need to modify to set a new default font (14pt Menlo, for example).
> 

Currently there is no way to change the font family - it is always left to the system to specify the font, GUI is just asking for fixed-width font. It is the default font for a given user so in theory by changing the default fixed width font for your account you will also change it in the GUI. You could add it to the wish list, though.

Cheers,
Simon


From Mike.Lawrence at dal.ca  Sat Apr 24 02:11:08 2010
From: Mike.Lawrence at dal.ca (Mike Lawrence)
Date: Fri, 23 Apr 2010 21:11:08 -0300
Subject: [R-SIG-Mac] Permanently change default console font
In-Reply-To: <CFD7A647-32E9-4D5B-ABED-B9F0507DB9EA@r-project.org>
References: <i2l37fda5351004231324sef2f6248g800df30e113bb02d@mail.gmail.com> 
	<CFD7A647-32E9-4D5B-ABED-B9F0507DB9EA@r-project.org>
Message-ID: <m2l37fda5351004231711y3a99082bsaa88d2fe3f021cac@mail.gmail.com>

Hi Simon,

Thanks for the reply. Indeed, I had already noticed in the source that
the app was simply asking the system for its default fixed width font.
I've searched for how to change this default but come up with nothing
(searched system preferences, fontbook, google, etc). Any suggestions?

Mike

On Fri, Apr 23, 2010 at 9:00 PM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> On Apr 23, 2010, at 4:24 PM, Mike Lawrence wrote:
>
>> Hi folks,
>>
>> Sorry if this has been asked already, but I couldn't find any references to it in the list archives. Is there any way to change the default font of the mac GUI? If I open the app I can change the size of the font and this change persists even if I close and re-open the app, but changes in the font itself do not persist. I've played around with the source code, but can't seem to find what I'd need to modify to set a new default font (14pt Menlo, for example).
>>
>
> Currently there is no way to change the font family - it is always left to the system to specify the font, GUI is just asking for fixed-width font. It is the default font for a given user so in theory by changing the default fixed width font for your account you will also change it in the GUI. You could add it to the wish list, though.
>
> Cheers,
> Simon
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>



-- 
Mike Lawrence
Graduate Student
Department of Psychology
Dalhousie University

Looking to arrange a meeting? Check my public calendar:
http://tr.im/mikes_public_calendar

~ Certainty is folly... I think. ~


From Mike.Lawrence at dal.ca  Sat Apr 24 03:59:34 2010
From: Mike.Lawrence at dal.ca (Mike Lawrence)
Date: Fri, 23 Apr 2010 22:59:34 -0300
Subject: [R-SIG-Mac] Permanently change default console font
In-Reply-To: <m2l37fda5351004231711y3a99082bsaa88d2fe3f021cac@mail.gmail.com>
References: <i2l37fda5351004231324sef2f6248g800df30e113bb02d@mail.gmail.com> 
	<CFD7A647-32E9-4D5B-ABED-B9F0507DB9EA@r-project.org>
	<m2l37fda5351004231711y3a99082bsaa88d2fe3f021cac@mail.gmail.com>
Message-ID: <r2j37fda5351004231859oc81c5055wd30e14ff9b26a183@mail.gmail.com>

I tried poking at the source code again and I guess I didn't try hard
enough the first time because this time I found that changing the
default font is trivial:

In files "RConsoleController.m" & "RController.m", change all instances of
NSFont userFixedPitchFontOfSize:currentFontSize
to
NSFont fontWithName:@"Menlo-Regular" size:currentFontSize

Mike

On Fri, Apr 23, 2010 at 9:11 PM, Mike Lawrence <Mike.Lawrence at dal.ca> wrote:
> Hi Simon,
>
> Thanks for the reply. Indeed, I had already noticed in the source that
> the app was simply asking the system for its default fixed width font.
> I've searched for how to change this default but come up with nothing
> (searched system preferences, fontbook, google, etc). Any suggestions?
>
> Mike
>
> On Fri, Apr 23, 2010 at 9:00 PM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>>
>> On Apr 23, 2010, at 4:24 PM, Mike Lawrence wrote:
>>
>>> Hi folks,
>>>
>>> Sorry if this has been asked already, but I couldn't find any references to it in the list archives. Is there any way to change the default font of the mac GUI? If I open the app I can change the size of the font and this change persists even if I close and re-open the app, but changes in the font itself do not persist. I've played around with the source code, but can't seem to find what I'd need to modify to set a new default font (14pt Menlo, for example).
>>>
>>
>> Currently there is no way to change the font family - it is always left to the system to specify the font, GUI is just asking for fixed-width font. It is the default font for a given user so in theory by changing the default fixed width font for your account you will also change it in the GUI. You could add it to the wish list, though.
>>
>> Cheers,
>> Simon
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
>
>
> --
> Mike Lawrence
> Graduate Student
> Department of Psychology
> Dalhousie University
>
> Looking to arrange a meeting? Check my public calendar:
> http://tr.im/mikes_public_calendar
>
> ~ Certainty is folly... I think. ~
>



-- 
Mike Lawrence
Graduate Student
Department of Psychology
Dalhousie University

Looking to arrange a meeting? Check my public calendar:
http://tr.im/mikes_public_calendar

~ Certainty is folly... I think. ~


From bhh at xs4all.nl  Sat Apr 24 09:14:58 2010
From: bhh at xs4all.nl (Berend Hasselman)
Date: Sat, 24 Apr 2010 09:14:58 +0200
Subject: [R-SIG-Mac] Permanently change default console font
In-Reply-To: <r2j37fda5351004231859oc81c5055wd30e14ff9b26a183@mail.gmail.com>
References: <i2l37fda5351004231324sef2f6248g800df30e113bb02d@mail.gmail.com>
	<CFD7A647-32E9-4D5B-ABED-B9F0507DB9EA@r-project.org>
	<m2l37fda5351004231711y3a99082bsaa88d2fe3f021cac@mail.gmail.com>
	<r2j37fda5351004231859oc81c5055wd30e14ff9b26a183@mail.gmail.com>
Message-ID: <B0792AAD-C4CA-41FB-A4F2-BA43D3FA72E6@xs4all.nl>


On 24-04-2010, at 03:59, Mike Lawrence wrote:

> I tried poking at the source code again and I guess I didn't try hard
> enough the first time because this time I found that changing the
> default font is trivial:
> 
> In files "RConsoleController.m" & "RController.m", change all instances of
> NSFont userFixedPitchFontOfSize:currentFontSize
> to
> NSFont fontWithName:@"Menlo-Regular" size:currentFontSize

You could also have a look at the free TinkerTool, which lets you set several fonts for the system.
Amongst others the fixed width font.
You can find it here:  www.bresink.com  (goto Products, TinkerTool  (not the system variation).

Berend

From simon.urbanek at r-project.org  Sat Apr 24 15:29:03 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 24 Apr 2010 09:29:03 -0400
Subject: [R-SIG-Mac] Permanently change default console font
In-Reply-To: <r2j37fda5351004231859oc81c5055wd30e14ff9b26a183@mail.gmail.com>
References: <i2l37fda5351004231324sef2f6248g800df30e113bb02d@mail.gmail.com>
	<CFD7A647-32E9-4D5B-ABED-B9F0507DB9EA@r-project.org>
	<m2l37fda5351004231711y3a99082bsaa88d2fe3f021cac@mail.gmail.com>
	<r2j37fda5351004231859oc81c5055wd30e14ff9b26a183@mail.gmail.com>
Message-ID: <C56FB176-D4C3-46C0-BE29-79E78CBBDABC@r-project.org>


On Apr 23, 2010, at 9:59 PM, Mike Lawrence wrote:

> I tried poking at the source code again and I guess I didn't try hard
> enough the first time because this time I found that changing the
> default font is trivial:
> 
> In files "RConsoleController.m" & "RController.m", change all instances of
> NSFont userFixedPitchFontOfSize:currentFontSize
> to
> NSFont fontWithName:@"Menlo-Regular" size:currentFontSize
> 

If you want to mess with the sources it's much easier - just add

[NSFont setUserFixedPitchFont: [NSFont fontWithName:@"Menlo-Regular" size:12]];

anywhere in the startup - you don't need to change the font retrieval at all since it is already defined such that it gets your current default font.

Cheers,
Simon



> Mike
> 
> On Fri, Apr 23, 2010 at 9:11 PM, Mike Lawrence <Mike.Lawrence at dal.ca> wrote:
>> Hi Simon,
>> 
>> Thanks for the reply. Indeed, I had already noticed in the source that
>> the app was simply asking the system for its default fixed width font.
>> I've searched for how to change this default but come up with nothing
>> (searched system preferences, fontbook, google, etc). Any suggestions?
>> 
>> Mike
>> 
>> On Fri, Apr 23, 2010 at 9:00 PM, Simon Urbanek
>> <simon.urbanek at r-project.org> wrote:
>>> 
>>> On Apr 23, 2010, at 4:24 PM, Mike Lawrence wrote:
>>> 
>>>> Hi folks,
>>>> 
>>>> Sorry if this has been asked already, but I couldn't find any references to it in the list archives. Is there any way to change the default font of the mac GUI? If I open the app I can change the size of the font and this change persists even if I close and re-open the app, but changes in the font itself do not persist. I've played around with the source code, but can't seem to find what I'd need to modify to set a new default font (14pt Menlo, for example).
>>>> 
>>> 
>>> Currently there is no way to change the font family - it is always left to the system to specify the font, GUI is just asking for fixed-width font. It is the default font for a given user so in theory by changing the default fixed width font for your account you will also change it in the GUI. You could add it to the wish list, though.
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> 
>> 
>> --
>> Mike Lawrence
>> Graduate Student
>> Department of Psychology
>> Dalhousie University
>> 
>> Looking to arrange a meeting? Check my public calendar:
>> http://tr.im/mikes_public_calendar
>> 
>> ~ Certainty is folly... I think. ~
>> 
> 
> 
> 
> -- 
> Mike Lawrence
> Graduate Student
> Department of Psychology
> Dalhousie University
> 
> Looking to arrange a meeting? Check my public calendar:
> http://tr.im/mikes_public_calendar
> 
> ~ Certainty is folly... I think. ~
> 
> 


From cstrato at aon.at  Sun Apr 25 20:57:17 2010
From: cstrato at aon.at (cstrato)
Date: Sun, 25 Apr 2010 20:57:17 +0200
Subject: [R-SIG-Mac] Which gfortran for Snow Leopard?
Message-ID: <4BD4908D.6060106@aon.at>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100425/77b55664/attachment.pl>

From andreas.noack.jensen at econ.ku.dk  Sun Apr 25 22:22:57 2010
From: andreas.noack.jensen at econ.ku.dk (Andreas Noack Jensen)
Date: Sun, 25 Apr 2010 16:22:57 -0400
Subject: [R-SIG-Mac] gfortran bug?
Message-ID: <C7FA1CE1.694%andreas.noack.jensen@econ.ku.dk>

Dear list members

I have organised some code in a package including a Fortran subroutine for a
multivariate recursive filter to simulate VAR-porcesses. I have worked with
R for some time, but I am new to writing packages and coding Fortran so
first I thought I had made some mistakes in the Fortran code but I have now
tested the package on Ubuntu 10.4 and Windows XP and the problem is only
present on Mac.

On Mac I quite randomly get very weird results from the subroutine. It is
like the initial values explodes to fx 2e+290 even for identical calls
without random number generation. Most results are identical to results I
get from a pure R code but at some calls they explode in a non systematic
fashion.

I would have tried to use the gfortran 4.2.4 from r.research.att.com, to
isolate the error (right now I use their 4.2.3), but it seems like it
installs 4.2.1 instead and I get the same error still. I have tried to build
gfortran myself but was unsuccessful in doing so.

I cannot produce a small example you can run but as an example watch this:

> for(i in 1:500){
+     cat(i)
+     tmp <- I1(civecm:::simulate.I1(fit.postWW2, res =
fit.postWW2$residuals), 2, 'drift')
+ }
1234567891011121314Error in svd(X) : infinite or missing values in 'x'
> for(i in 1:500){
+     cat(i)
+     tmp <- I1(civecm:::simulate.I1(fit.postWW2, res =
fit.postWW2$residuals), 2, 'drift')
+ }
1234Error in svd(X) : infinite or missing values in 'x'

which is weird because there is no random number generation in play.
Completely identical calls every time. The error comes from the weird data
generated in the Fortran subroutine.

Some information about my system:
R version 2.11.0 (2010-04-22)
x86_64-apple-darwin9.8.0

locale:
[1] da_DK.UTF-8/da_DK.UTF-8/C/C/da_DK.UTF-8/da_DK.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] civecm_0.1-1   timsac_1.2.1   MASS_7.3-5     foreign_0.8-40

I use the latest prebuild version of R from r.research.att.com.

Finally the Fortran and R code for the subroute is:

      subroutine rmfilter(x, nl, coef, ndim, init)

      implicit none
      integer, intent(in) :: nl(2), ndim(3)
      double precision, intent(inout) :: x(nl(1),nl(2))
      double precision, intent(in) :: coef(ndim(1),ndim(2),ndim(3)),
     &init(ndim(3),ndim(nl(2)))
      double precision :: y(nl(1),nl(2))
      integer :: i, j

      y = 0.0d+0   
      
      do i = 1, nl(1), 1
       do j = 1, ndim(3), 1
        if ( i <= j ) then
         call dgemm('N', 'T', 1, ndim(1), nl(2), 1.0d+0,
     &init(ndim(3)-j+1,:), 1, coef(:,:,j), ndim(1), 1.0d+0, y(i,:), 1)
        else
         call dgemm('N', 'T', 1, ndim(1), nl(2), 1.0d+0, y(i-j,:), 1,
     &coef(:,:,j), ndim(1), 1.0d+0, y(i,:), 1)
        end if
       end do
       y(i,:) = y(i,:) + x(i,:)
      end do
      x = y
      return
      end subroutine rmfilter

and


rmfilter    <- function(x, coef, init)
{
    if(any(is.na(x))) stop('Series includes NAs')
    if(any(is.na(coef))) stop('Coefficients includes NAs')
    if(is.null(dim(x))) stop('Input series has no dimensions')
    nl        <- dim(x)
    if(!is.array(coef)) stop('coef must be an array')
    cdim    <- dim(coef)
    if(nl[2] != cdim[2] | cdim[1] != cdim[2]) stop('coef has wrong
dimensions')
    if(missing(init)) init <- matrix(0, cdim[3], nl[2])
    else if(any(is.na(init))) stop('Initial values includes NAs')
    else if(any(dim(init) != c(cdim[3], nl[2]))) stop('init matrix has wrong
dimensions')
    ans    <- .Fortran('rmfilter', as.double(x), as.integer(nl),
as.double(coef), as.integer(cdim), as.double(init))[[1]]
    dim(ans)    <- dim(x)
    dimnames(ans)<- dimnames(x)
    tsp(ans)    <- tsp(hasTsp(x))
    class(ans)    <- class(x)
    return(ans)
}

Best
Andreas
-- 

Andreas Noack Jensen        ?ster Farimagsgade 5, bygning 26
Ph.d.-stipendiat            1353 K?benhavn K
?konomisk Institut          Danmark
K?benhavns Universitet      Tel. (+1)646-643-0985


From doug.ybarbo at mac.com  Mon Apr 26 09:47:23 2010
From: doug.ybarbo at mac.com (Doug Y'barbo)
Date: Mon, 26 Apr 2010 00:47:23 -0700
Subject: [R-SIG-Mac] R install/update on mac os x snow leopard: where does r
 put files during installation?
Message-ID: <9974E7F4-5BBA-47D1-9732-374667A9A994@mac.com>

Greetings:

In sum, there's a stray preference-like file or two (probably just one) somewhere in my file structure  that i just  can't find.

Here's the story:

I recently attempted to update my R install from 2.10 to 2.11. As i have done before, i installed from source. I know that all of the dependencies are correctly installed and made available to R, because my prior install worked fine. (In fact, i've probably installed from source about a half dozen times since about 2.7/OS X 10.4). After  i upgraded to 2.11, i was unable to install packages (no exception thrown, it just doesn't appear to complete the install and is unresponsive so i have to quit + restart R, also).

Given i installed from source, there are any number of points in the process that i could have messed up--i'll sort that out by myself.

What i need to do now is "start over" which requires that i clear out my my prior install; however, I am having trouble doing that. 

There is still at least one preference file or something like that i can't find and one of these is causing the problem, so i need to find it and terminate it with extreme prejudice before i do a fresh install. Although i set a number of flags during the install, i have never opted out of the default install locations during the config step.

There has to be one or more preference files still in my file structure (and that's also accessible to the new install of R) because after i follow all of the steps below, then do a fresh install, when i start R for the first time, some of my preferences have persisted (e.g., quartz settings, GUI background color, editor selection, etc.). Again, the problem is that i just cannot locate those files. Finally, the problem can't be that during my last install from source, i inadvertently caused a preference file to be sent to an off-spec location--because again, a fresh R install (whether from source or from the OS X binaries) is finding those files


Here's what i've done prior to attempting a clean install of R:

Removed files from these locations:

~/.RData ~/.RHistory /Applications/R64.app /Applications/R.app /Library/Frameworks/R.framework (i also removed all symlinks from these)

Cleared all RAM and disk caches, in particular the directory where i know R caches: ~/Library/Caches/R* (in fact i've cleared this entire directory)

Checked for all 'hidden' files in the OS X directories where login/startup files are often placed: /etc/ ~/

In addition, i've checked R-help, and i've also read through the relevant portions of 'R Installation and Administration'--no luck.

I've also searched searched my file structure using the various bash utilities, which nearly always solves problems of this sort quite easily, but in this case obviously searching by name or even pattern is more problematic.

And finally, i've looked through what i believe to be the relevant files in the source--config.site, README, and INSTALL--again, no luck. 

Grateful for any assistance.


From ken at kjbeath.com.au  Mon Apr 26 10:25:33 2010
From: ken at kjbeath.com.au (Ken Beath)
Date: Mon, 26 Apr 2010 18:25:33 +1000
Subject: [R-SIG-Mac] R install/update on mac os x snow leopard: where
	does r put files during installation?
In-Reply-To: <9974E7F4-5BBA-47D1-9732-374667A9A994@mac.com>
References: <9974E7F4-5BBA-47D1-9732-374667A9A994@mac.com>
Message-ID: <8508D226-A72C-4CA5-9E53-92E95861BF21@kjbeath.com.au>

On 26/04/2010, at 5:47 PM, Doug Y'barbo wrote:

> Greetings:
> 
> In sum, there's a stray preference-like file or two (probably just one) somewhere in my file structure  that i just  can't find.
> 
> Here's the story:
> 
> I recently attempted to update my R install from 2.10 to 2.11. As i have done before, i installed from source. I know that all of the dependencies are correctly installed and made available to R, because my prior install worked fine. (In fact, i've probably installed from source about a half dozen times since about 2.7/OS X 10.4). After  i upgraded to 2.11, i was unable to install packages (no exception thrown, it just doesn't appear to complete the install and is unresponsive so i have to quit + restart R, also).
> 
> Given i installed from source, there are any number of points in the process that i could have messed up--i'll sort that out by myself.
> 
> What i need to do now is "start over" which requires that i clear out my my prior install; however, I am having trouble doing that. 
> 
> There is still at least one preference file or something like that i can't find and one of these is causing the problem, so i need to find it and terminate it with extreme prejudice before i do a fresh install. Although i set a number of flags during the install, i have never opted out of the default install locations during the config step.
> 
> There has to be one or more preference files still in my file structure (and that's also accessible to the new install of R) because after i follow all of the steps below, then do a fresh install, when i start R for the first time, some of my preferences have persisted (e.g., quartz settings, GUI background color, editor selection, etc.). Again, the problem is that i just cannot locate those files. Finally, the problem can't be that during my last install from source, i inadvertently caused a preference file to be sent to an off-spec location--because again, a fresh R install (whether from source or from the OS X binaries) is finding those files
> 

Preferences for the R GUI seem to be in the standard MacOS place, /Library/Preferences/org.R-project.R.plist and org.R-project.R.LSSharedFileList.plist of the home directory.

Ken

 
> 
> Here's what i've done prior to attempting a clean install of R:
> 
> Removed files from these locations:
> 
> ~/.RData ~/.RHistory /Applications/R64.app /Applications/R.app /Library/Frameworks/R.framework (i also removed all symlinks from these)
> 
> Cleared all RAM and disk caches, in particular the directory where i know R caches: ~/Library/Caches/R* (in fact i've cleared this entire directory)
> 
> Checked for all 'hidden' files in the OS X directories where login/startup files are often placed: /etc/ ~/
> 
> In addition, i've checked R-help, and i've also read through the relevant portions of 'R Installation and Administration'--no luck.
> 
> I've also searched searched my file structure using the various bash utilities, which nearly always solves problems of this sort quite easily, but in this case obviously searching by name or even pattern is more problematic.
> 
> And finally, i've looked through what i believe to be the relevant files in the source--config.site, README, and INSTALL--again, no luck. 
> 
> Grateful for any assistance.
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From simon.urbanek at r-project.org  Mon Apr 26 16:57:23 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 26 Apr 2010 10:57:23 -0400
Subject: [R-SIG-Mac] Which gfortran for Snow Leopard?
In-Reply-To: <4BD4908D.6060106@aon.at>
References: <4BD4908D.6060106@aon.at>
Message-ID: <4F5FDE74-6A34-457C-A6DF-A758AD5D99BB@r-project.org>


On Apr 25, 2010, at 2:57 PM, cstrato wrote:

> Dear Simon,
> 
> Since R-2.11.0 does no longer support Tiger I have just installed on my 
> MacBook Pro Snow Leopard 10.6.3 and downloaded from Apple Xcode 3.2.2. 
> Since there is still no gfortran I have installed your 
> "gfortran-42-5646.pkg".
> 
> Now I wanted to compile ROOT for my BioC package xps and got the 
> following error:
> g++ -dynamiclib -single_module -undefined dynamic_lookup -install_name 
> @rpath/libminicern.so -O2 -o lib/libminicern.so 
> misc/minicern/src/cernlib.o -ldl misc/minicern/src/hbook.o 
> misc/minicern/src/kernlib.o misc/minicern/src/zebra.o libgfortran.dylib 
> /usr/lib/gcc/i686-apple-darwin10/4.2.1/x86_64/libgfortranbegin.a
> i686-apple-darwin10-g++-4.2.1: libgfortran.dylib: No such file or directory
> 
> If this sounds familiar to you, you remember correctly, see:
> https://stat.ethz.ch/pipermail/r-sig-mac/2010-January/007048.html
> 
> Thus my obvious questions are:
> Is there a problem with gfortran-42-5646.pkg?

Not really. 


> Which gfortran should I use for Xcode 3.2.2?
> 

Apple has not released sources for Xcode 3.2.2 so there is no Fortran (if you're picky).

Cheers,
Simon



> Best regards
> Christian
> _._._._._._._._._._._._._._._._._._
> C.h.r.i.s.t.i.a.n   S.t.r.a.t.o.w.a
> V.i.e.n.n.a           A.u.s.t.r.i.a
> e.m.a.i.l:        cstrato at aon.at
> _._._._._._._._._._._._._._._._._._
> 
> 
> 	[[alternative HTML version deleted]]
> 

Please do respect the posting guide - you are ignoring it quite stubbornly and it's starting to have an effect on the answers you get.


From cstrato at aon.at  Mon Apr 26 18:59:30 2010
From: cstrato at aon.at (cstrato)
Date: Mon, 26 Apr 2010 18:59:30 +0200
Subject: [R-SIG-Mac] Which gfortran for Snow Leopard?
In-Reply-To: <4F5FDE74-6A34-457C-A6DF-A758AD5D99BB@r-project.org>
References: <4BD4908D.6060106@aon.at>
	<4F5FDE74-6A34-457C-A6DF-A758AD5D99BB@r-project.org>
Message-ID: <4BD5C672.4080909@aon.at>

Dear Simon,

Sadly, this time your answer is not really helpful for me.

I have checked after installing gfortran-42-5646.pkg whether there is a 
libgfortran.dylib file and could not find one. Are dylib files no longer 
necessary for Snow Leopard?

Looking once again at http://r.research.att.com/tools/ I just realized 
that there is a dynamic libgfortran: libgfortran-4.2.4-5646.tar.gz.
Since I have already installed gfortran-42-5646.pkg can I simply install 
the tar file, too, or do I need to deinstall the pkg file first?

Best regards
Christian


On 4/26/10 4:57 PM, Simon Urbanek wrote:
>
> On Apr 25, 2010, at 2:57 PM, cstrato wrote:
>
>> Dear Simon,
>>
>> Since R-2.11.0 does no longer support Tiger I have just installed on my
>> MacBook Pro Snow Leopard 10.6.3 and downloaded from Apple Xcode 3.2.2.
>> Since there is still no gfortran I have installed your
>> "gfortran-42-5646.pkg".
>>
>> Now I wanted to compile ROOT for my BioC package xps and got the
>> following error:
>> g++ -dynamiclib -single_module -undefined dynamic_lookup -install_name
>> @rpath/libminicern.so -O2 -o lib/libminicern.so
>> misc/minicern/src/cernlib.o -ldl misc/minicern/src/hbook.o
>> misc/minicern/src/kernlib.o misc/minicern/src/zebra.o libgfortran.dylib
>> /usr/lib/gcc/i686-apple-darwin10/4.2.1/x86_64/libgfortranbegin.a
>> i686-apple-darwin10-g++-4.2.1: libgfortran.dylib: No such file or directory
>>
>> If this sounds familiar to you, you remember correctly, see:
>> https://stat.ethz.ch/pipermail/r-sig-mac/2010-January/007048.html
>>
>> Thus my obvious questions are:
>> Is there a problem with gfortran-42-5646.pkg?
>
> Not really.
>
>
>> Which gfortran should I use for Xcode 3.2.2?
>>
>
> Apple has not released sources for Xcode 3.2.2 so there is no Fortran (if you're picky).
>
> Cheers,
> Simon
>
>
>
>> Best regards
>> Christian
>> _._._._._._._._._._._._._._._._._._
>> C.h.r.i.s.t.i.a.n   S.t.r.a.t.o.w.a
>> V.i.e.n.n.a           A.u.s.t.r.i.a
>> e.m.a.i.l:        cstrato at aon.at
>> _._._._._._._._._._._._._._._._._._
>>
>>
>> 	[[alternative HTML version deleted]]
>>
>
> Please do respect the posting guide - you are ignoring it quite stubbornly and it's starting to have an effect on the answers you get.
>
>
>


From simon.urbanek at r-project.org  Mon Apr 26 19:12:04 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 26 Apr 2010 13:12:04 -0400
Subject: [R-SIG-Mac] Which gfortran for Snow Leopard?
In-Reply-To: <4BD5C672.4080909@aon.at>
References: <4BD4908D.6060106@aon.at>
	<4F5FDE74-6A34-457C-A6DF-A758AD5D99BB@r-project.org>
	<4BD5C672.4080909@aon.at>
Message-ID: <E1A913DA-B993-4506-B5FB-7926EFF28D10@r-project.org>


On Apr 26, 2010, at 12:59 PM, cstrato wrote:

> Dear Simon,
> 
> Sadly, this time your answer is not really helpful for me.
> 

The helpfulness of an answer depends directly on the question asked. That's why it is really pays off to think before posting and make yourself clear on what you really want.


> I have checked after installing gfortran-42-5646.pkg whether there is a libgfortran.dylib file and could not find one. Are dylib files no longer necessary for Snow Leopard?
> 

No - they never were.


> Looking once again at http://r.research.att.com/tools/ I just realized that there is a dynamic libgfortran: libgfortran-4.2.4-5646.tar.gz.
> Since I have already installed gfortran-42-5646.pkg can I simply install the tar file, too, or do I need to deinstall the pkg file first?
> 

If you need dynamic gfortran library for some particular reason you can use that tar ball - it contains just the gfortran library (as the name implies). And as the accompanying text says you better know what the implications are.

Cheers,
Simon



> 
> On 4/26/10 4:57 PM, Simon Urbanek wrote:
>> 
>> On Apr 25, 2010, at 2:57 PM, cstrato wrote:
>> 
>>> Dear Simon,
>>> 
>>> Since R-2.11.0 does no longer support Tiger I have just installed on my
>>> MacBook Pro Snow Leopard 10.6.3 and downloaded from Apple Xcode 3.2.2.
>>> Since there is still no gfortran I have installed your
>>> "gfortran-42-5646.pkg".
>>> 
>>> Now I wanted to compile ROOT for my BioC package xps and got the
>>> following error:
>>> g++ -dynamiclib -single_module -undefined dynamic_lookup -install_name
>>> @rpath/libminicern.so -O2 -o lib/libminicern.so
>>> misc/minicern/src/cernlib.o -ldl misc/minicern/src/hbook.o
>>> misc/minicern/src/kernlib.o misc/minicern/src/zebra.o libgfortran.dylib
>>> /usr/lib/gcc/i686-apple-darwin10/4.2.1/x86_64/libgfortranbegin.a
>>> i686-apple-darwin10-g++-4.2.1: libgfortran.dylib: No such file or directory
>>> 
>>> If this sounds familiar to you, you remember correctly, see:
>>> https://stat.ethz.ch/pipermail/r-sig-mac/2010-January/007048.html
>>> 
>>> Thus my obvious questions are:
>>> Is there a problem with gfortran-42-5646.pkg?
>> 
>> Not really.
>> 
>> 
>>> Which gfortran should I use for Xcode 3.2.2?
>>> 
>> 
>> Apple has not released sources for Xcode 3.2.2 so there is no Fortran (if you're picky).
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>> Best regards
>>> Christian
>>> _._._._._._._._._._._._._._._._._._
>>> C.h.r.i.s.t.i.a.n   S.t.r.a.t.o.w.a
>>> V.i.e.n.n.a           A.u.s.t.r.i.a
>>> e.m.a.i.l:        cstrato at aon.at
>>> _._._._._._._._._._._._._._._._._._
>>> 
>>> 
>>> 	[[alternative HTML version deleted]]
>>> 
>> 
>> Please do respect the posting guide - you are ignoring it quite stubbornly and it's starting to have an effect on the answers you get.
>> 
>> 
>> 
> 
> 


From cstrato at aon.at  Mon Apr 26 21:16:36 2010
From: cstrato at aon.at (cstrato)
Date: Mon, 26 Apr 2010 21:16:36 +0200
Subject: [R-SIG-Mac] Which gfortran for Snow Leopard?
In-Reply-To: <E1A913DA-B993-4506-B5FB-7926EFF28D10@r-project.org>
References: <4BD4908D.6060106@aon.at>
	<4F5FDE74-6A34-457C-A6DF-A758AD5D99BB@r-project.org>
	<4BD5C672.4080909@aon.at>
	<E1A913DA-B993-4506-B5FB-7926EFF28D10@r-project.org>
Message-ID: <4BD5E694.4020800@aon.at>

Dear Simon,

Thank you, installing the dynamic gfortran library allowed me to compile 
ROOT.

Best regards
Christian


On 4/26/10 7:12 PM, Simon Urbanek wrote:
>
> On Apr 26, 2010, at 12:59 PM, cstrato wrote:
>
>> Dear Simon,
>>
>> Sadly, this time your answer is not really helpful for me.
>>
>
> The helpfulness of an answer depends directly on the question asked. That's why it is really pays off to think before posting and make yourself clear on what you really want.
>
>
>> I have checked after installing gfortran-42-5646.pkg whether there is a libgfortran.dylib file and could not find one. Are dylib files no longer necessary for Snow Leopard?
>>
>
> No - they never were.
>
>
>> Looking once again at http://r.research.att.com/tools/ I just realized that there is a dynamic libgfortran: libgfortran-4.2.4-5646.tar.gz.
>> Since I have already installed gfortran-42-5646.pkg can I simply install the tar file, too, or do I need to deinstall the pkg file first?
>>
>
> If you need dynamic gfortran library for some particular reason you can use that tar ball - it contains just the gfortran library (as the name implies). And as the accompanying text says you better know what the implications are.
>
> Cheers,
> Simon
>
>
>
>>
>> On 4/26/10 4:57 PM, Simon Urbanek wrote:
>>>
>>> On Apr 25, 2010, at 2:57 PM, cstrato wrote:
>>>
>>>> Dear Simon,
>>>>
>>>> Since R-2.11.0 does no longer support Tiger I have just installed on my
>>>> MacBook Pro Snow Leopard 10.6.3 and downloaded from Apple Xcode 3.2.2.
>>>> Since there is still no gfortran I have installed your
>>>> "gfortran-42-5646.pkg".
>>>>
>>>> Now I wanted to compile ROOT for my BioC package xps and got the
>>>> following error:
>>>> g++ -dynamiclib -single_module -undefined dynamic_lookup -install_name
>>>> @rpath/libminicern.so -O2 -o lib/libminicern.so
>>>> misc/minicern/src/cernlib.o -ldl misc/minicern/src/hbook.o
>>>> misc/minicern/src/kernlib.o misc/minicern/src/zebra.o libgfortran.dylib
>>>> /usr/lib/gcc/i686-apple-darwin10/4.2.1/x86_64/libgfortranbegin.a
>>>> i686-apple-darwin10-g++-4.2.1: libgfortran.dylib: No such file or directory
>>>>
>>>> If this sounds familiar to you, you remember correctly, see:
>>>> https://stat.ethz.ch/pipermail/r-sig-mac/2010-January/007048.html
>>>>
>>>> Thus my obvious questions are:
>>>> Is there a problem with gfortran-42-5646.pkg?
>>>
>>> Not really.
>>>
>>>
>>>> Which gfortran should I use for Xcode 3.2.2?
>>>>
>>>
>>> Apple has not released sources for Xcode 3.2.2 so there is no Fortran (if you're picky).
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>
>>>> Best regards
>>>> Christian
>>>> _._._._._._._._._._._._._._._._._._
>>>> C.h.r.i.s.t.i.a.n   S.t.r.a.t.o.w.a
>>>> V.i.e.n.n.a           A.u.s.t.r.i.a
>>>> e.m.a.i.l:        cstrato at aon.at
>>>> _._._._._._._._._._._._._._._._._._
>>>>
>>>>
>>>> 	[[alternative HTML version deleted]]
>>>>
>>>
>>> Please do respect the posting guide - you are ignoring it quite stubbornly and it's starting to have an effect on the answers you get.
>>>
>>>
>>>
>>
>>
>
>


From engrav at u.washington.edu  Tue Apr 27 00:43:28 2010
From: engrav at u.washington.edu (Loren Engrav)
Date: Mon, 26 Apr 2010 15:43:28 -0700
Subject: [R-SIG-Mac] R.app on CommandQ asks but does not save
Message-ID: <C7FB6520.1E580%engrav@u.washington.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100426/419e066a/attachment.pl>

From fwang at phsa.ca  Tue Apr 27 00:57:20 2010
From: fwang at phsa.ca (Wang, Fei)
Date: Mon, 26 Apr 2010 15:57:20 -0700
Subject: [R-SIG-Mac] R graphs question
Message-ID: <1485FEFE40C14F44AA48DF3A7B48F4DDD7FCB635EE@VEXCCR03.phsabc.ehcnet.ca>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100426/20170445/attachment.pl>

From simon.urbanek at r-project.org  Tue Apr 27 00:57:29 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 26 Apr 2010 18:57:29 -0400
Subject: [R-SIG-Mac] R.app on CommandQ asks but does not save
In-Reply-To: <C7FB6520.1E580%engrav@u.washington.edu>
References: <C7FB6520.1E580%engrav@u.washington.edu>
Message-ID: <7D67D780-91E9-41D2-9C34-1FEFB70972CF@r-project.org>

Thanks, Loren, that is a rather grave oversight in the R.app GUI, indeed. It is fixed now and I'll probably create an updated R installer package tomorrow since the bug has a rather nasty result.
Thanks,
Simon


On Apr 26, 2010, at 6:43 PM, Loren Engrav wrote:

>> sessionInfo()
> R version 2.11.0 (2010-04-22)
> x86_64-apple-darwin9.8.0
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> [R.app GUI 1.32 (5573) x86_64-apple-darwin9.8.0]
> 
> I installed 2.11 and all went well
> But now on Command-Q then choosing Save, it just quits, no save
> 
> Did my install go bad?
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From adik at ilovebacon.org  Tue Apr 27 01:22:27 2010
From: adik at ilovebacon.org (Adam D. I. Kramer)
Date: Mon, 26 Apr 2010 16:22:27 -0700 (PDT)
Subject: [R-SIG-Mac] R graphs question
In-Reply-To: <1485FEFE40C14F44AA48DF3A7B48F4DDD7FCB635EE@VEXCCR03.phsabc.ehcnet.ca>
References: <1485FEFE40C14F44AA48DF3A7B48F4DDD7FCB635EE@VEXCCR03.phsabc.ehcnet.ca>
Message-ID: <Pine.LNX.4.64.1004261621550.23911@ilovebacon.org>

See the graph in R, hit command-C to copy, go into powerpoint, hit command-V
to paste?

I don't think PowerPoint has any mass-import feature.

--Adam

On Mon, 26 Apr 2010, Wang, Fei wrote:

> Hey all,
>
> I am a newbie for R software. Recently I met a problem when I'm attempting
> to export R graphs to PowerPoint directly.  Since we generate hundreds of
> graphs and want to export them to PPT at one time, is there any good
> solution to this?
>
> Thank you in advance for your help!
>
> Best,
>
> Fei
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From Mike.Lawrence at dal.ca  Tue Apr 27 02:28:56 2010
From: Mike.Lawrence at dal.ca (Mike Lawrence)
Date: Mon, 26 Apr 2010 21:28:56 -0300
Subject: [R-SIG-Mac] R graphs question
In-Reply-To: <1485FEFE40C14F44AA48DF3A7B48F4DDD7FCB635EE@VEXCCR03.phsabc.ehcnet.ca>
References: <1485FEFE40C14F44AA48DF3A7B48F4DDD7FCB635EE@VEXCCR03.phsabc.ehcnet.ca>
Message-ID: <m2m37fda5351004261728n3d6f72aez82f154e34bb26199@mail.gmail.com>

Not sure about powerpoint, but if it's anything like keynote you
should be able to save your graphs as pdfs then simply drag them into
the thumbnail view of the slideshow to have each added as its own
slide.

On Mon, Apr 26, 2010 at 7:57 PM, Wang, Fei <fwang at phsa.ca> wrote:
> Hey all,
>
> I am a newbie for R software. Recently I met a problem when I'm attempting to export R graphs to PowerPoint directly. Since we generate hundreds of graphs and want to export them to PPT at one time, is there any good solution to this?
>
> Thank you in advance for your help!
>
> Best,
>
> Fei
>
> ? ? ? ?[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>



-- 
Mike Lawrence
Graduate Student
Department of Psychology
Dalhousie University

Looking to arrange a meeting? Check my public calendar:
http://tr.im/mikes_public_calendar

~ Certainty is folly... I think. ~


From lists at remoteinformation.com.au  Tue Apr 27 03:43:21 2010
From: lists at remoteinformation.com.au (Ben Madin)
Date: Tue, 27 Apr 2010 09:43:21 +0800
Subject: [R-SIG-Mac] R graphs question
In-Reply-To: <1485FEFE40C14F44AA48DF3A7B48F4DDD7FCB635EE@VEXCCR03.phsabc.ehcnet.ca>
References: <1485FEFE40C14F44AA48DF3A7B48F4DDD7FCB635EE@VEXCCR03.phsabc.ehcnet.ca>
Message-ID: <8B0E505A-01C2-485F-82DA-E328E3E8C82F@remoteinformation.com.au>

Fei,

On 27/04/2010, at 6:57 , Wang, Fei wrote:

> I am a newbie for R software. Recently I met a problem when I'm attempting to export R graphs to PowerPoint directly. Since we generate hundreds of graphs and want to export them to PPT at one time, is there any good solution to this?

png(height=768, width=1024) may be your friend here, as there are sometimes issues with pdf's inserted into Microsoft Powerpoint for Mac and then viewed in Microsoft Powerpoint for Windows, due to windows not handling the embedded pdf well or something. Similarly, I have had problems before with transparancy in Windows.

This will save multiple plots in the form Rplotxxx.png, or if you are looping then change the name in your loop and put it into the png call. 

dev.off() is the command you need to close the png device and save the plot.

cheers

Ben


From andreas.noack.jensen at econ.ku.dk  Tue Apr 27 14:42:06 2010
From: andreas.noack.jensen at econ.ku.dk (Andreas Noack Jensen)
Date: Tue, 27 Apr 2010 08:42:06 -0400
Subject: [R-SIG-Mac] gfortran bug?
In-Reply-To: <C7FA1CE1.694%andreas.noack.jensen@econ.ku.dk>
Message-ID: <C7FC53DE.6BB%andreas.noack.jensen@econ.ku.dk>

I have been able to make an example that shows the weird behaviour. For the
Fortran code in last post run

rmfilter    <- function(x, coef)
{
    dyn.load('~/rmfilter.so')
    nl    <- dim(x)
    cdim    <- dim(coef)
    init    <- matrix(0, cdim[3], nl[2])
    ans    <- .Fortran('rmfilter', as.double(x), as.integer(nl),
as.double(coef), as.integer(cdim), as.double(init))[[1]]
    dim(ans)    <- dim(x)
    return(ans)
}

eps <- matrix(rnorm(300), ncol = 3)
tmp <- lapply(seq(5000), function(x) rmfilter(eps, array(diag(3)*0.5,
c(3,3,2))))
sum(!sapply(2:5000, function(x) all.equal(tmp[[1]], tmp[[x]])) == 'TRUE')

The three last runs I have done give

tmp <- lapply(seq(5000), function(x) rmfilter(eps, array(diag(3)*0.5,
c(3,3,2))))
> sum(!sapply(2:5000, function(x) all.equal(tmp[[1]], tmp[[x]])) == 'TRUE')
[1] 639
> tmp <- lapply(seq(5000), function(x) rmfilter(eps, array(diag(3)*0.5,
c(3,3,2))))
> sum(!sapply(2:5000, function(x) all.equal(tmp[[1]], tmp[[x]])) == 'TRUE')
[1] 0
> tmp <- lapply(seq(5000), function(x) rmfilter(eps, array(diag(3)*0.5,
c(3,3,2))))
> sum(!sapply(2:5000, function(x) all.equal(tmp[[1]], tmp[[x]])) == 'TRUE')
[1] 29

I hope you have some ideas.

Best
Andreas


Den 25/04/10 16.22 skrev "Andreas Noack Jensen"
<andreas.noack.jensen at econ.ku.dk> f?lgende:

> Dear list members
> 
> I have organised some code in a package including a Fortran subroutine for a
> multivariate recursive filter to simulate VAR-porcesses. I have worked with
> R for some time, but I am new to writing packages and coding Fortran so
> first I thought I had made some mistakes in the Fortran code but I have now
> tested the package on Ubuntu 10.4 and Windows XP and the problem is only
> present on Mac.
> 
> On Mac I quite randomly get very weird results from the subroutine. It is
> like the initial values explodes to fx 2e+290 even for identical calls
> without random number generation. Most results are identical to results I
> get from a pure R code but at some calls they explode in a non systematic
> fashion.
> 
> I would have tried to use the gfortran 4.2.4 from r.research.att.com, to
> isolate the error (right now I use their 4.2.3), but it seems like it
> installs 4.2.1 instead and I get the same error still. I have tried to build
> gfortran myself but was unsuccessful in doing so.
> 
> I cannot produce a small example you can run but as an example watch this:
> 
>> for(i in 1:500){
> +     cat(i)
> +     tmp <- I1(civecm:::simulate.I1(fit.postWW2, res =
> fit.postWW2$residuals), 2, 'drift')
> + }
> 1234567891011121314Error in svd(X) : infinite or missing values in 'x'
>> for(i in 1:500){
> +     cat(i)
> +     tmp <- I1(civecm:::simulate.I1(fit.postWW2, res =
> fit.postWW2$residuals), 2, 'drift')
> + }
> 1234Error in svd(X) : infinite or missing values in 'x'
> 
> which is weird because there is no random number generation in play.
> Completely identical calls every time. The error comes from the weird data
> generated in the Fortran subroutine.
> 
> Some information about my system:
> R version 2.11.0 (2010-04-22)
> x86_64-apple-darwin9.8.0
> 
> locale:
> [1] da_DK.UTF-8/da_DK.UTF-8/C/C/da_DK.UTF-8/da_DK.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> other attached packages:
> [1] civecm_0.1-1   timsac_1.2.1   MASS_7.3-5     foreign_0.8-40
> 
> I use the latest prebuild version of R from r.research.att.com.
> 
> Finally the Fortran and R code for the subroute is:
> 
>       subroutine rmfilter(x, nl, coef, ndim, init)
> 
>       implicit none
>       integer, intent(in) :: nl(2), ndim(3)
>       double precision, intent(inout) :: x(nl(1),nl(2))
>       double precision, intent(in) :: coef(ndim(1),ndim(2),ndim(3)),
>      &init(ndim(3),ndim(nl(2)))
>       double precision :: y(nl(1),nl(2))
>       integer :: i, j
> 
>       y = 0.0d+0 
>       
>       do i = 1, nl(1), 1
>        do j = 1, ndim(3), 1
>         if ( i <= j ) then
>          call dgemm('N', 'T', 1, ndim(1), nl(2), 1.0d+0,
>      &init(ndim(3)-j+1,:), 1, coef(:,:,j), ndim(1), 1.0d+0, y(i,:), 1)
>         else
>          call dgemm('N', 'T', 1, ndim(1), nl(2), 1.0d+0, y(i-j,:), 1,
>      &coef(:,:,j), ndim(1), 1.0d+0, y(i,:), 1)
>         end if
>        end do
>        y(i,:) = y(i,:) + x(i,:)
>       end do
>       x = y
>       return
>       end subroutine rmfilter
> 
> and
> 
> 
> rmfilter    <- function(x, coef, init)
> {
>     if(any(is.na(x))) stop('Series includes NAs')
>     if(any(is.na(coef))) stop('Coefficients includes NAs')
>     if(is.null(dim(x))) stop('Input series has no dimensions')
>     nl        <- dim(x)
>     if(!is.array(coef)) stop('coef must be an array')
>     cdim    <- dim(coef)
>     if(nl[2] != cdim[2] | cdim[1] != cdim[2]) stop('coef has wrong
> dimensions')
>     if(missing(init)) init <- matrix(0, cdim[3], nl[2])
>     else if(any(is.na(init))) stop('Initial values includes NAs')
>     else if(any(dim(init) != c(cdim[3], nl[2]))) stop('init matrix has wrong
> dimensions')
>     ans    <- .Fortran('rmfilter', as.double(x), as.integer(nl),
> as.double(coef), as.integer(cdim), as.double(init))[[1]]
>     dim(ans)    <- dim(x)
>     dimnames(ans)<- dimnames(x)
>     tsp(ans)    <- tsp(hasTsp(x))
>     class(ans)    <- class(x)
>     return(ans)
> }
> 
> Best
> Andreas


From simon.urbanek at r-project.org  Tue Apr 27 15:41:14 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 27 Apr 2010 09:41:14 -0400
Subject: [R-SIG-Mac] gfortran bug?
In-Reply-To: <C7FC53DE.6BB%andreas.noack.jensen@econ.ku.dk>
References: <C7FC53DE.6BB%andreas.noack.jensen@econ.ku.dk>
Message-ID: <E8DB2EC8-A806-4BEC-A179-8BFC5AA41406@r-project.org>

Andreas,

I can't even get your code to compile - can you send the actual files, please? Also you may want to ask on R-devel since I'm not sure there are many Fortran specialists reading this mailing list... (Although there is a possibility of miscompilations in majority the cases the cause is user code. The fact that it works on another platform is not necessarily a proof that it is not a bug in the code - it is often a coincidence).

Cheers,
Simon

PS: GNU Fortran 4.2.4 is really 4.2.4 - even if it is used in gcc 4.2.1 Xcode - that's what you see on the command line.

On Apr 27, 2010, at 8:42 AM, Andreas Noack Jensen wrote:

> I have been able to make an example that shows the weird behaviour. For the
> Fortran code in last post run
> 
> rmfilter    <- function(x, coef)
> {
>    dyn.load('~/rmfilter.so')
>    nl    <- dim(x)
>    cdim    <- dim(coef)
>    init    <- matrix(0, cdim[3], nl[2])
>    ans    <- .Fortran('rmfilter', as.double(x), as.integer(nl),
> as.double(coef), as.integer(cdim), as.double(init))[[1]]
>    dim(ans)    <- dim(x)
>    return(ans)
> }
> 
> eps <- matrix(rnorm(300), ncol = 3)
> tmp <- lapply(seq(5000), function(x) rmfilter(eps, array(diag(3)*0.5,
> c(3,3,2))))
> sum(!sapply(2:5000, function(x) all.equal(tmp[[1]], tmp[[x]])) == 'TRUE')
> 
> The three last runs I have done give
> 
> tmp <- lapply(seq(5000), function(x) rmfilter(eps, array(diag(3)*0.5,
> c(3,3,2))))
>> sum(!sapply(2:5000, function(x) all.equal(tmp[[1]], tmp[[x]])) == 'TRUE')
> [1] 639
>> tmp <- lapply(seq(5000), function(x) rmfilter(eps, array(diag(3)*0.5,
> c(3,3,2))))
>> sum(!sapply(2:5000, function(x) all.equal(tmp[[1]], tmp[[x]])) == 'TRUE')
> [1] 0
>> tmp <- lapply(seq(5000), function(x) rmfilter(eps, array(diag(3)*0.5,
> c(3,3,2))))
>> sum(!sapply(2:5000, function(x) all.equal(tmp[[1]], tmp[[x]])) == 'TRUE')
> [1] 29
> 
> I hope you have some ideas.
> 
> Best
> Andreas
> 
> 
> Den 25/04/10 16.22 skrev "Andreas Noack Jensen"
> <andreas.noack.jensen at econ.ku.dk> f?lgende:
> 
>> Dear list members
>> 
>> I have organised some code in a package including a Fortran subroutine for a
>> multivariate recursive filter to simulate VAR-porcesses. I have worked with
>> R for some time, but I am new to writing packages and coding Fortran so
>> first I thought I had made some mistakes in the Fortran code but I have now
>> tested the package on Ubuntu 10.4 and Windows XP and the problem is only
>> present on Mac.
>> 
>> On Mac I quite randomly get very weird results from the subroutine. It is
>> like the initial values explodes to fx 2e+290 even for identical calls
>> without random number generation. Most results are identical to results I
>> get from a pure R code but at some calls they explode in a non systematic
>> fashion.
>> 
>> I would have tried to use the gfortran 4.2.4 from r.research.att.com, to
>> isolate the error (right now I use their 4.2.3), but it seems like it
>> installs 4.2.1 instead and I get the same error still. I have tried to build
>> gfortran myself but was unsuccessful in doing so.
>> 
>> I cannot produce a small example you can run but as an example watch this:
>> 
>>> for(i in 1:500){
>> +     cat(i)
>> +     tmp <- I1(civecm:::simulate.I1(fit.postWW2, res =
>> fit.postWW2$residuals), 2, 'drift')
>> + }
>> 1234567891011121314Error in svd(X) : infinite or missing values in 'x'
>>> for(i in 1:500){
>> +     cat(i)
>> +     tmp <- I1(civecm:::simulate.I1(fit.postWW2, res =
>> fit.postWW2$residuals), 2, 'drift')
>> + }
>> 1234Error in svd(X) : infinite or missing values in 'x'
>> 
>> which is weird because there is no random number generation in play.
>> Completely identical calls every time. The error comes from the weird data
>> generated in the Fortran subroutine.
>> 
>> Some information about my system:
>> R version 2.11.0 (2010-04-22)
>> x86_64-apple-darwin9.8.0
>> 
>> locale:
>> [1] da_DK.UTF-8/da_DK.UTF-8/C/C/da_DK.UTF-8/da_DK.UTF-8
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>> 
>> other attached packages:
>> [1] civecm_0.1-1   timsac_1.2.1   MASS_7.3-5     foreign_0.8-40
>> 
>> I use the latest prebuild version of R from r.research.att.com.
>> 
>> Finally the Fortran and R code for the subroute is:
>> 
>>      subroutine rmfilter(x, nl, coef, ndim, init)
>> 
>>      implicit none
>>      integer, intent(in) :: nl(2), ndim(3)
>>      double precision, intent(inout) :: x(nl(1),nl(2))
>>      double precision, intent(in) :: coef(ndim(1),ndim(2),ndim(3)),
>>     &init(ndim(3),ndim(nl(2)))
>>      double precision :: y(nl(1),nl(2))
>>      integer :: i, j
>> 
>>      y = 0.0d+0 
>> 
>>      do i = 1, nl(1), 1
>>       do j = 1, ndim(3), 1
>>        if ( i <= j ) then
>>         call dgemm('N', 'T', 1, ndim(1), nl(2), 1.0d+0,
>>     &init(ndim(3)-j+1,:), 1, coef(:,:,j), ndim(1), 1.0d+0, y(i,:), 1)
>>        else
>>         call dgemm('N', 'T', 1, ndim(1), nl(2), 1.0d+0, y(i-j,:), 1,
>>     &coef(:,:,j), ndim(1), 1.0d+0, y(i,:), 1)
>>        end if
>>       end do
>>       y(i,:) = y(i,:) + x(i,:)
>>      end do
>>      x = y
>>      return
>>      end subroutine rmfilter
>> 
>> and
>> 
>> 
>> rmfilter    <- function(x, coef, init)
>> {
>>    if(any(is.na(x))) stop('Series includes NAs')
>>    if(any(is.na(coef))) stop('Coefficients includes NAs')
>>    if(is.null(dim(x))) stop('Input series has no dimensions')
>>    nl        <- dim(x)
>>    if(!is.array(coef)) stop('coef must be an array')
>>    cdim    <- dim(coef)
>>    if(nl[2] != cdim[2] | cdim[1] != cdim[2]) stop('coef has wrong
>> dimensions')
>>    if(missing(init)) init <- matrix(0, cdim[3], nl[2])
>>    else if(any(is.na(init))) stop('Initial values includes NAs')
>>    else if(any(dim(init) != c(cdim[3], nl[2]))) stop('init matrix has wrong
>> dimensions')
>>    ans    <- .Fortran('rmfilter', as.double(x), as.integer(nl),
>> as.double(coef), as.integer(cdim), as.double(init))[[1]]
>>    dim(ans)    <- dim(x)
>>    dimnames(ans)<- dimnames(x)
>>    tsp(ans)    <- tsp(hasTsp(x))
>>    class(ans)    <- class(x)
>>    return(ans)
>> }
>> 
>> Best
>> Andreas
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From bhh at xs4all.nl  Tue Apr 27 18:52:40 2010
From: bhh at xs4all.nl (Berend Hasselman)
Date: Tue, 27 Apr 2010 18:52:40 +0200
Subject: [R-SIG-Mac] gfortran bug?
In-Reply-To: <C7FA1CE1.694%andreas.noack.jensen@econ.ku.dk>
References: <C7FA1CE1.694%andreas.noack.jensen@econ.ku.dk>
Message-ID: <B9B7F0D3-EA75-4F13-AEF4-CDCEBEA722A6@xs4all.nl>



On 25-04-2010, at 22:22, Andreas Noack Jensen wrote:

> Dear list members
> 
> I have organised some code in a package including a Fortran subroutine for a
> multivariate recursive filter to simulate VAR-porcesses. I have worked with
> R for some time, but I am new to writing packages and coding Fortran so
> first I thought I had made some mistakes in the Fortran code but I have now
> tested the package on Ubuntu 10.4 and Windows XP and the problem is only
> present on Mac.
> 
> On Mac I quite randomly get very weird results from the subroutine. It is
> like the initial values explodes to fx 2e+290 even for identical calls
> without random number generation. Most results are identical to results I
> get from a pure R code but at some calls they explode in a non systematic
> fashion.
> 
> I would have tried to use the gfortran 4.2.4 from r.research.att.com, to
> isolate the error (right now I use their 4.2.3), but it seems like it
> installs 4.2.1 instead and I get the same error still. I have tried to build
> gfortran myself but was unsuccessful in doing so.

As far as I can tell, your fortran code is in fixed format which is not immediately obvious.
I have put the code in free format and  have reformatted the code with more indentation (1 space of indent is really not enough).
See below after my signature.
It  now compiles with no errors.

I don't see anything immediately wrong.
It would be nice to have a small test program in fortran to check the code.

Berend

     subroutine rmfilter(x, nl, coef, ndim, init)

     implicit none
     integer, intent(in) :: nl(2), ndim(3)
     double precision, intent(inout) :: x(nl(1),nl(2))
     double precision, intent(in) :: coef(ndim(1),ndim(2),ndim(3)),   init(ndim(3),ndim(nl(2)))
     double precision :: y(nl(1),nl(2))
     integer :: i, j

     y = 0.0d+0   
         
     do i = 1, nl(1), 1
         do j = 1, ndim(3), 1
             if ( i <= j ) then
                 call dgemm('N', 'T', 1, ndim(1), nl(2), 1.0d+0,    &
                        init(ndim(3)-j+1,:), 1, coef(:,:,j), ndim(1), 1.0d+0, y(i,:), 1)
             else
                 call dgemm('N', 'T', 1, ndim(1), nl(2), 1.0d+0,    &
                        y(i-j,:), 1, coef(:,:,j), ndim(1), 1.0d+0, y(i,:), 1)
             end if
         end do
         y(i,:) = y(i,:) + x(i,:)
     end do
     x = y
     return
     end subroutine rmfilter

BTW. in       do i = 1, nl(1), 1  and    do j = 1, ndim(3), 1
the steps 1 are not necessary: 1 is the default

From bhh at xs4all.nl  Tue Apr 27 19:34:20 2010
From: bhh at xs4all.nl (Berend Hasselman)
Date: Tue, 27 Apr 2010 19:34:20 +0200
Subject: [R-SIG-Mac] gfortran bug?
In-Reply-To: <C7FA1CE1.694%andreas.noack.jensen@econ.ku.dk>
References: <C7FA1CE1.694%andreas.noack.jensen@econ.ku.dk>
Message-ID: <B18A2688-FBC4-458D-B75F-4D24513705A0@xs4all.nl>


On 25-04-2010, at 22:22, Andreas Noack Jensen wrote:

...
> On Mac I quite randomly get very weird results from the subroutine. It is
> like the initial values explodes to fx 2e+290 even for identical calls
> without random number generation. Most results are identical to results I
> get from a pure R code but at some calls they explode in a non systematic
> fashion.
...

I have experimented with your stuff.
Find attached the R files needed to run my test.
Below is what I have done together with the R output.
As you can see the third column of the result matrix is weird.
This result is independent from setting the seed.
Some sort of initialisation issue?
Since I haven't got a clue what rmfilter does and my memory needs some refreshing wrt dgemm,
I can't pinpoint the problem.

Berend


I am (still)  using the gfortran from gfortran-4.2.3.dmg
------------------------------------------------------------------   
I made the rmfilter.so with

MAKEFLAGS="FCFLAGS=-O2" R CMD SHLIB rmfilter.f90

NB. had to do it since this gfortran doesn't accept the -mtune=core2 option!!
----------------------------------------------------------------------
sessionInfo()

R version 2.10.1 Patched (2010-04-07 r51689) 
x86_64-apple-darwin9.8.0 

locale:
[1] en_GB/en_GB/C/C/en_GB/en_GB

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

------------------------------------------------------------------
Mac OS X 10.6.3 Intel

------------------------------------------------------------------

I ran this test job


dyn.load('rmfilter.so')
source("rmfilter.R")   

set.seed(407)

eps <- matrix(rnorm(30), ncol = 3)
eps

z <-  rmfilter(eps, array(diag(3)*0.5, c(3,3,2)))
z


with this as output

> 
> dyn.load('rmfilter.so')
> source("rmfilter.R")   
> 
> set.seed(407)
> 
> eps <- matrix(rnorm(30), ncol = 3)
> eps
              [,1]       [,2]       [,3]
 [1,]  0.841081288  1.7100891  0.9161884
 [2,]  1.072881139  1.1351244 -0.4314795
 [3,] -0.543593265 -1.0828613 -0.6333517
 [4,]  0.441951763 -1.0539372 -1.8468529
 [5,]  0.004920633 -0.9635668  0.6060301
 [6,] -0.731256023  0.4951620 -1.9168646
 [7,] -1.216400546 -1.5097126  1.1407077
 [8,] -0.210674189 -1.1110270 -0.3563495
 [9,] -0.378021236 -1.5624664 -2.5094364
[10,] -0.939183015 -0.2886860  2.1596868
> 
> z <-  rmfilter(eps, array(diag(3)*0.5, c(3,3,2)))
> z
            [,1]       [,2]          [,3]
 [1,]  0.8410813  1.7100891 1.018209e+277
 [2,]  1.4934218  1.9901689 1.018209e+277
 [3,]  0.6236583  0.7672677 1.018209e+277
 [4,]  1.5004918  0.3247811 1.018209e+277
 [5,]  1.0669957 -0.4175424 1.018209e+277
 [6,]  0.5524877  0.4487814 1.018209e+277
 [7,] -0.4066589 -1.4940931 1.018209e+277
 [8,] -0.1377598 -1.6336829 1.018209e+277
 [9,] -0.6502306 -3.1263543 1.018209e+277
[10,] -1.3331782 -2.6687046 1.018209e+277
attr(,"tsp")
[1]  1 10  1




-------------- next part --------------
A non-text attachment was scrubbed...
Name: rmfilter.R
Type: application/octet-stream
Size: 878 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100427/152ffbdd/attachment.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test1.R
Type: application/octet-stream
Size: 157 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100427/152ffbdd/attachment-0001.obj>

From abbhirami at gmail.com  Tue Apr 27 19:35:25 2010
From: abbhirami at gmail.com (Abbhirami Rajagopal)
Date: Tue, 27 Apr 2010 13:35:25 -0400
Subject: [R-SIG-Mac] iFlow error on MAC
Message-ID: <k2j92bff5de1004271035rc7bda350l58dcd8461206028a@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100427/080eca1a/attachment.pl>

From andreas.noack.jensen at econ.ku.dk  Tue Apr 27 20:28:59 2010
From: andreas.noack.jensen at econ.ku.dk (Andreas Noack Jensen)
Date: Tue, 27 Apr 2010 14:28:59 -0400
Subject: [R-SIG-Mac] gfortran bug?
In-Reply-To: <B18A2688-FBC4-458D-B75F-4D24513705A0@xs4all.nl>
Message-ID: <C7FCA52B.6CE%andreas.noack.jensen@econ.ku.dk>

Thank you so much for looking at it. Initially my code was in the "free"
F95 format but partly because of the error and partly because of portability
concerns I chose to translate it to strict F77 even thought it is ugly and
annoying with the line width limit.

The subroutine is thought as a multivariate version of filter(..., method =
'recursive') and I use it to simulate VAR processes. dgemm is the double
precision BLAS subroutine for

C = alpha*A*B + beta*C

for general matrices A, B, C and scalars alpha and beta.

Indeed I think something is going wrong with the initial values but I cannot
figure out why. Maybe because of missing Fortran skills but I am puzzled
because the code works fine on Windows and Linux.

I think the "-mtune=core2" problem has disappeared in the latest 4.2.3
gfortran at r.research because I had the error in the beginning but after
reinstall of gfortran it was gone (right now, however,  I am on gfortran
4.2.4 aka gcc 4.2.1).

Thank you once again and hope some new ideas to isolate the problem will
appear.

Best
Andreas

Den 27/04/10 13.34 skrev "Berend Hasselman" <bhh at xs4all.nl> f?lgende:

> 
> On 25-04-2010, at 22:22, Andreas Noack Jensen wrote:
> 
> ...
>> On Mac I quite randomly get very weird results from the subroutine. It is
>> like the initial values explodes to fx 2e+290 even for identical calls
>> without random number generation. Most results are identical to results I
>> get from a pure R code but at some calls they explode in a non systematic
>> fashion.
> ...
> 
> I have experimented with your stuff.
> Find attached the R files needed to run my test.
> Below is what I have done together with the R output.
> As you can see the third column of the result matrix is weird.
> This result is independent from setting the seed.
> Some sort of initialisation issue?
> Since I haven't got a clue what rmfilter does and my memory needs some
> refreshing wrt dgemm,
> I can't pinpoint the problem.
> 
> Berend
> 
> 
> I am (still)  using the gfortran from gfortran-4.2.3.dmg
> ------------------------------------------------------------------
> I made the rmfilter.so with
> 
> MAKEFLAGS="FCFLAGS=-O2" R CMD SHLIB rmfilter.f90
> 
> NB. had to do it since this gfortran doesn't accept the -mtune=core2 option!!
> ----------------------------------------------------------------------
> sessionInfo()
> 
> R version 2.10.1 Patched (2010-04-07 r51689)
> x86_64-apple-darwin9.8.0
> 
> locale:
> [1] en_GB/en_GB/C/C/en_GB/en_GB
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> ------------------------------------------------------------------
> Mac OS X 10.6.3 Intel
> 
> ------------------------------------------------------------------
> 
> I ran this test job
> 
> 
> dyn.load('rmfilter.so')
> source("rmfilter.R")
> 
> set.seed(407)
> 
> eps <- matrix(rnorm(30), ncol = 3)
> eps
> 
> z <-  rmfilter(eps, array(diag(3)*0.5, c(3,3,2)))
> z
> 
> 
> with this as output
> 
>> 
>> dyn.load('rmfilter.so')
>> source("rmfilter.R")
>> 
>> set.seed(407)
>> 
>> eps <- matrix(rnorm(30), ncol = 3)
>> eps
>               [,1]       [,2]       [,3]
>  [1,]  0.841081288  1.7100891  0.9161884
>  [2,]  1.072881139  1.1351244 -0.4314795
>  [3,] -0.543593265 -1.0828613 -0.6333517
>  [4,]  0.441951763 -1.0539372 -1.8468529
>  [5,]  0.004920633 -0.9635668  0.6060301
>  [6,] -0.731256023  0.4951620 -1.9168646
>  [7,] -1.216400546 -1.5097126  1.1407077
>  [8,] -0.210674189 -1.1110270 -0.3563495
>  [9,] -0.378021236 -1.5624664 -2.5094364
> [10,] -0.939183015 -0.2886860  2.1596868
>> 
>> z <-  rmfilter(eps, array(diag(3)*0.5, c(3,3,2)))
>> z
>             [,1]       [,2]          [,3]
>  [1,]  0.8410813  1.7100891 1.018209e+277
>  [2,]  1.4934218  1.9901689 1.018209e+277
>  [3,]  0.6236583  0.7672677 1.018209e+277
>  [4,]  1.5004918  0.3247811 1.018209e+277
>  [5,]  1.0669957 -0.4175424 1.018209e+277
>  [6,]  0.5524877  0.4487814 1.018209e+277
>  [7,] -0.4066589 -1.4940931 1.018209e+277
>  [8,] -0.1377598 -1.6336829 1.018209e+277
>  [9,] -0.6502306 -3.1263543 1.018209e+277
> [10,] -1.3331782 -2.6687046 1.018209e+277
> attr(,"tsp")
> [1]  1 10  1
> 
> 
> 
> 


From bhh at xs4all.nl  Tue Apr 27 20:43:47 2010
From: bhh at xs4all.nl (Berend Hasselman)
Date: Tue, 27 Apr 2010 20:43:47 +0200
Subject: [R-SIG-Mac] gfortran bug?
In-Reply-To: <C7FCA52B.6CE%andreas.noack.jensen@econ.ku.dk>
References: <C7FCA52B.6CE%andreas.noack.jensen@econ.ku.dk>
Message-ID: <515656E4-3E16-479E-918C-B15AA2C689B6@xs4all.nl>


On 27-04-2010, at 20:28, Andreas Noack Jensen wrote:

> Thank you so much for looking at it. Initially my code was in the "free"
> F95 format but partly because of the error and partly because of portability
> concerns I chose to translate it to strict F77 even thought it is ugly and
> annoying with the line width limit.
> 
> Indeed I think something is going wrong with the initial values but I cannot
> figure out why. Maybe because of missing Fortran skills but I am puzzled
> because the code works fine on Windows and Linux.
> 

Indeed, that is what I have found. See below.

> I think the "-mtune=core2" problem has disappeared in the latest 4.2.3
> gfortran at r.research because I had the error in the beginning but after
> reinstall of gfortran it was gone (right now, however,  I am on gfortran
> 4.2.4 aka gcc 4.2.1).
> 
> Thank you once again and hope some new ideas to isolate the problem will
> appear.


The error is in the fortran line

     double precision, intent(in) :: coef(ndim(1),ndim(2),ndim(3)),   init(ndim(3),ndim(nl(2)))

The dimensions of init are wrong.
The line should read:

     double precision, intent(in) :: coef(ndim(1),ndim(2),ndim(3)),   init(ndim(3),nl(2))

I have attached the corrected rmfilter.f90, a slightly modified rmfilter.R that I used to print various stuff
the test1.R and the output.

In the test case your code declares init(2,2)
In the corrected code it is declared as init(2,3)
The actual dimension is init(2,3)

Berend


-------------- next part --------------
A non-text attachment was scrubbed...
Name: rmfilter.f90
Type: application/octet-stream
Size: 994 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100427/8b2bf75f/attachment.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: test1.R
Type: application/octet-stream
Size: 157 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100427/8b2bf75f/attachment-0001.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rmfilter.R
Type: application/octet-stream
Size: 984 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100427/8b2bf75f/attachment-0002.obj>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: test1.Rout.txt
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100427/8b2bf75f/attachment.txt>
-------------- next part --------------



From andreas.noack.jensen at econ.ku.dk  Tue Apr 27 21:14:47 2010
From: andreas.noack.jensen at econ.ku.dk (Andreas Noack Jensen)
Date: Tue, 27 Apr 2010 15:14:47 -0400
Subject: [R-SIG-Mac] gfortran bug?
In-Reply-To: <515656E4-3E16-479E-918C-B15AA2C689B6@xs4all.nl>
Message-ID: <C7FCAFE7.6D3%andreas.noack.jensen@econ.ku.dk>

Great. There it was. Thank you so much for helping the Fortran amateur.

Andreas


Den 27/04/10 14.43 skrev "Berend Hasselman" <bhh at xs4all.nl> f?lgende:

> 
> On 27-04-2010, at 20:28, Andreas Noack Jensen wrote:
> 
>> Thank you so much for looking at it. Initially my code was in the "free"
>> F95 format but partly because of the error and partly because of portability
>> concerns I chose to translate it to strict F77 even thought it is ugly and
>> annoying with the line width limit.
>> 
>> Indeed I think something is going wrong with the initial values but I cannot
>> figure out why. Maybe because of missing Fortran skills but I am puzzled
>> because the code works fine on Windows and Linux.
>> 
> 
> Indeed, that is what I have found. See below.
> 
>> I think the "-mtune=core2" problem has disappeared in the latest 4.2.3
>> gfortran at r.research because I had the error in the beginning but after
>> reinstall of gfortran it was gone (right now, however,  I am on gfortran
>> 4.2.4 aka gcc 4.2.1).
>> 
>> Thank you once again and hope some new ideas to isolate the problem will
>> appear.
> 
> 
> The error is in the fortran line
> 
>      double precision, intent(in) :: coef(ndim(1),ndim(2),ndim(3)),
> init(ndim(3),ndim(nl(2)))
> 
> The dimensions of init are wrong.
> The line should read:
> 
>      double precision, intent(in) :: coef(ndim(1),ndim(2),ndim(3)),
> init(ndim(3),nl(2))
> 
> I have attached the corrected rmfilter.f90, a slightly modified rmfilter.R
> that I used to print various stuff
> the test1.R and the output.
> 
> In the test case your code declares init(2,2)
> In the corrected code it is declared as init(2,3)
> The actual dimension is init(2,3)
> 
> Berend
> 
> 
> 
> 


From zhouyan1014 at gmail.com  Wed Apr 28 22:26:03 2010
From: zhouyan1014 at gmail.com (Yan Zhou)
Date: Wed, 28 Apr 2010 21:26:03 +0100
Subject: [R-SIG-Mac] Which Fortran Compiler is usable
Message-ID: <F0234457-6469-4FD0-947E-B29B6A8BC671@gmail.com>

I have a some sort silly question. Which fortran compiler is usable with R, e.g., building package from source.

I intended to install the gfortran from CRAN. But noticed that it will install cc1 and the text in installer stated that it is not recommended to install it with Xcode later than 3.2. I have 3.2.2 installed right now.

Besides I find on the website that gfortran from HPC will not work.

So my question is that, what is the problem with the HPC version of gfortran. What is the criteria for a fortran compiler to be usable with R. I have intel fortran compiler installed. I managed to use it to compile a usable R-devel build from source. However, successful compiling doesn't imply that the generated code has no problem.

Many thanks in advance.

From Roy.Mendelssohn at noaa.gov  Wed Apr 28 22:35:12 2010
From: Roy.Mendelssohn at noaa.gov (Roy Mendelssohn)
Date: Wed, 28 Apr 2010 13:35:12 -0700
Subject: [R-SIG-Mac] Which Fortran Compiler is usable
In-Reply-To: <F0234457-6469-4FD0-947E-B29B6A8BC671@gmail.com>
References: <F0234457-6469-4FD0-947E-B29B6A8BC671@gmail.com>
Message-ID: <3CED31A3-A1BE-4DAA-9B87-042F188AB318@noaa.gov>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100428/b4d11aa5/attachment.pl>

From zhouyan1014 at gmail.com  Wed Apr 28 22:46:23 2010
From: zhouyan1014 at gmail.com (Yan Zhou)
Date: Wed, 28 Apr 2010 21:46:23 +0100
Subject: [R-SIG-Mac] Which Fortran Compiler is usable
In-Reply-To: <3CED31A3-A1BE-4DAA-9B87-042F188AB318@noaa.gov>
References: <F0234457-6469-4FD0-947E-B29B6A8BC671@gmail.com>
	<3CED31A3-A1BE-4DAA-9B87-042F188AB318@noaa.gov>
Message-ID: <A43C7368-0DFB-4F9D-A96B-66CE92315C9D@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100428/e8f1107f/attachment.pl>

From cstrato at aon.at  Wed Apr 28 23:22:42 2010
From: cstrato at aon.at (cstrato)
Date: Wed, 28 Apr 2010 23:22:42 +0200
Subject: [R-SIG-Mac] R CMD check fails on Snow Leopard
Message-ID: <4BD8A722.2070206@aon.at>

Dear all,

Last week I have installed on my MacBook Pro Snow Leopard 10.6.3 and 
downloaded from Apple Xcode 3.2.2. Then I have installed R-2.11.0.pkg 
for Mac OS X 10.5 (Leopard) and higher.

Now I wanted to run R CMD check for my BioC package which contains C++ 
code but got the following error:

installing to /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386
** R
** inst
** preparing package for lazy loading
** help
*** installing help indices
** building package indices ...
** testing if installed package can be loaded
Error in dyn.load(file, DLLpath = DLLpath, ...) :
   unable to load shared library 
'/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so':
   dlopen(/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so, 6): no 
suitable image found.  Did find:
	/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so: mach-o, but 
wrong architecture
ERROR: loading failed
* removing '/Volumes/CoreData/CRAN/xps.Rcheck/xps'

Do you have any hint what might be the reason for this error?
As far as I understand this message means that Snow Leopard is the wrong 
architecture, why?

Best regards
Christian
_._._._._._._._._._._._._._._._._._
C.h.r.i.s.t.i.a.n   S.t.r.a.t.o.w.a
V.i.e.n.n.a           A.u.s.t.r.i.a
e.m.a.i.l:        cstrato at aon.at
_._._._._._._._._._._._._._._._._._


From simon.urbanek at r-project.org  Wed Apr 28 23:38:07 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 28 Apr 2010 17:38:07 -0400
Subject: [R-SIG-Mac] R CMD check fails on Snow Leopard
In-Reply-To: <4BD8A722.2070206@aon.at>
References: <4BD8A722.2070206@aon.at>
Message-ID: <D7B25F47-C62F-4A3E-93BC-8AD93F7A9173@r-project.org>


On Apr 28, 2010, at 5:22 PM, cstrato wrote:

> Dear all,
> 
> Last week I have installed on my MacBook Pro Snow Leopard 10.6.3 and downloaded from Apple Xcode 3.2.2. Then I have installed R-2.11.0.pkg for Mac OS X 10.5 (Leopard) and higher.
> 
> Now I wanted to run R CMD check for my BioC package which contains C++ code but got the following error:
> 
> installing to /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386
> ** R
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices ...
> ** testing if installed package can be loaded
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  unable to load shared library '/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so':
>  dlopen(/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so, 6): no suitable image found.  Did find:
> 	/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so: mach-o, but wrong architecture
> ERROR: loading failed
> * removing '/Volumes/CoreData/CRAN/xps.Rcheck/xps'
> 
> Do you have any hint what might be the reason for this error?

Apparently the R and your package have different architectures. The reason is most likely your package - often badly written Makevars or Makefile if some dependencies are used, or stale object files in the sources (failure to clean up) etc. You'd have to show us the package and exactly how you're trying to instal it if we are to help you further.


> As far as I understand this message means that Snow Leopard is the wrong architecture, why?
> 

You understand the message incorrectly - it tells you the R (which is the one loading the package) cannot find binary of the same architecture in the package, but it can find another, different, architecture instead. "Snow Leopard" is not an architecture it's an operating system.

Cheers,
Simon


From simon.urbanek at r-project.org  Wed Apr 28 23:39:26 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 28 Apr 2010 17:39:26 -0400
Subject: [R-SIG-Mac] Which Fortran Compiler is usable
In-Reply-To: <F0234457-6469-4FD0-947E-B29B6A8BC671@gmail.com>
References: <F0234457-6469-4FD0-947E-B29B6A8BC671@gmail.com>
Message-ID: <BF8A1C44-FF94-4F91-AEDD-D764D2F81712@r-project.org>


On Apr 28, 2010, at 4:26 PM, Yan Zhou wrote:

> I have a some sort silly question. Which fortran compiler is usable with R, e.g., building package from source.
> 
> I intended to install the gfortran from CRAN. But noticed that it will install cc1 and the text in installer stated that it is not recommended to install it with Xcode later than 3.2. I have 3.2.2 installed right now.
> 

Apple has not released Xcode 3.2.2 sources yet so we cannot build the corresponding version. What you can do (if you want) is to save the cc1 from Xcode and install the Fortran anyway.

That said, you don't have to. You can equally well use the separate Fortran from CRAN
http://cran.us.r-project.org/bin/macosx/tools/
if you want. (It's not how we build R anymore but it also works - at least with R 2.11.0)


> Besides I find on the website that gfortran from HPC will not work.
> 
> So my question is that, what is the problem with the HPC version of gfortran. What is the criteria for a fortran compiler to be usable with R.

It must support Apple driver's driver (for things like -arch ppc -arch i386 etc.) and have the corresponding cross-compilers included so you can build universal binaries. The HPC fortran is typically a single-host same-target compiler so it won't be able to do that (and has no Apple driver). In addition HPC compilers used to be a mess - they mostly didn't work at all due to library issues and cross-OS pollution, but I didn't test them lately, so may be things have improved in the meantime.


> I have intel fortran compiler installed. I managed to use it to compile a usable R-devel build from source. However, successful compiling doesn't imply that the generated code has no problem.
> 

If you build R from scratch from sources, there is no issue - you can use almost anything. What we are talking about is CRAN R binary - and by definition you can only use compilers that are compatible to the compilers used to compile that binary. That's what the recommended compilers are about. If you build your own R, you can use whatever flags you wish, so you can get different compilers to work -- but you won't be able to install package binaries from CRAN (in general).

I hope it helps.

Cheers,
Simon


From zhouyan1014 at gmail.com  Wed Apr 28 23:47:58 2010
From: zhouyan1014 at gmail.com (Yan Zhou)
Date: Wed, 28 Apr 2010 22:47:58 +0100
Subject: [R-SIG-Mac] Which Fortran Compiler is usable
In-Reply-To: <BF8A1C44-FF94-4F91-AEDD-D764D2F81712@r-project.org>
References: <F0234457-6469-4FD0-947E-B29B6A8BC671@gmail.com>
	<BF8A1C44-FF94-4F91-AEDD-D764D2F81712@r-project.org>
Message-ID: <BF46EB3A-0843-4EF6-BB6C-FC283033EF03@gmail.com>

Thank you for clarify all this for me. 

If I understand correctly. I can build R from scratch with any compilers support  required language features (like F95 or partial C99). And use those compilers to install packages from source. In this way I can take any advantaged may provid by those compilers or library like MKL. 

However, if I want to use the distributed binary version of R, I have to use the same compiler configuration to build package or use the binary version package distributed from CRAN.

Hope I get the right idea.


On 28 Apr 2010, at 22:39, Simon Urbanek wrote:

> 
> On Apr 28, 2010, at 4:26 PM, Yan Zhou wrote:
> 
>> I have a some sort silly question. Which fortran compiler is usable with R, e.g., building package from source.
>> 
>> I intended to install the gfortran from CRAN. But noticed that it will install cc1 and the text in installer stated that it is not recommended to install it with Xcode later than 3.2. I have 3.2.2 installed right now.
>> 
> 
> Apple has not released Xcode 3.2.2 sources yet so we cannot build the corresponding version. What you can do (if you want) is to save the cc1 from Xcode and install the Fortran anyway.
> 
> That said, you don't have to. You can equally well use the separate Fortran from CRAN
> http://cran.us.r-project.org/bin/macosx/tools/
> if you want. (It's not how we build R anymore but it also works - at least with R 2.11.0)
> 
> 
>> Besides I find on the website that gfortran from HPC will not work.
>> 
>> So my question is that, what is the problem with the HPC version of gfortran. What is the criteria for a fortran compiler to be usable with R.
> 
> It must support Apple driver's driver (for things like -arch ppc -arch i386 etc.) and have the corresponding cross-compilers included so you can build universal binaries. The HPC fortran is typically a single-host same-target compiler so it won't be able to do that (and has no Apple driver). In addition HPC compilers used to be a mess - they mostly didn't work at all due to library issues and cross-OS pollution, but I didn't test them lately, so may be things have improved in the meantime.
> 
> 
>> I have intel fortran compiler installed. I managed to use it to compile a usable R-devel build from source. However, successful compiling doesn't imply that the generated code has no problem.
>> 
> 
> If you build R from scratch from sources, there is no issue - you can use almost anything. What we are talking about is CRAN R binary - and by definition you can only use compilers that are compatible to the compilers used to compile that binary. That's what the recommended compilers are about. If you build your own R, you can use whatever flags you wish, so you can get different compilers to work -- but you won't be able to install package binaries from CRAN (in general).

> I hope it helps.
> 
> Cheers,
> Simon
> 


From cstrato at aon.at  Wed Apr 28 23:54:36 2010
From: cstrato at aon.at (cstrato)
Date: Wed, 28 Apr 2010 23:54:36 +0200
Subject: [R-SIG-Mac] R CMD check fails on Snow Leopard
In-Reply-To: <D7B25F47-C62F-4A3E-93BC-8AD93F7A9173@r-project.org>
References: <4BD8A722.2070206@aon.at>
	<D7B25F47-C62F-4A3E-93BC-8AD93F7A9173@r-project.org>
Message-ID: <4BD8AE9C.1070700@aon.at>

Dear Simon,

My package is "xps" which has always worked on Tiger and also on 
Leopard, thus I am shocked that it does not work on Snow Leopard. The 
problem is not only that I cannot do "R32 CMD check xps-1.9.0.tar.gz" 
which results in the error message mentioned, but that the binary which 
I have downloaded using "biocLite("xps")" gives me the same error message.

When I start "R32" which I need to do since I have compiled the ROOT 
framework for 32 bit, I get:

 > library(xps)
Error in dyn.load(file, DLLpath = DLLpath, ...) :
   unable to load shared library 
'/Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so':
   dlopen(/Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so, 
6): Library not loaded: @rpath/libCore.so
   Referenced from: 
/Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so
   Reason: no suitable image found.  Did find:
         /Volumes/CoreData/ROOT/root/lib/libCore.so: mach-o, but wrong 
architecture
         /Volumes/CoreData/ROOT/root/lib/libCore.so: mach-o, but wrong 
architecture
Error: package/namespace load failed for 'xps'

At the moment I have no idea what might be the reason for this:-(

Best regards
Christian


On 4/28/10 11:38 PM, Simon Urbanek wrote:
>
> On Apr 28, 2010, at 5:22 PM, cstrato wrote:
>
>> Dear all,
>>
>> Last week I have installed on my MacBook Pro Snow Leopard 10.6.3 and downloaded from Apple Xcode 3.2.2. Then I have installed R-2.11.0.pkg for Mac OS X 10.5 (Leopard) and higher.
>>
>> Now I wanted to run R CMD check for my BioC package which contains C++ code but got the following error:
>>
>> installing to /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386
>> ** R
>> ** inst
>> ** preparing package for lazy loading
>> ** help
>> *** installing help indices
>> ** building package indices ...
>> ** testing if installed package can be loaded
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>   unable to load shared library '/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so':
>>   dlopen(/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so, 6): no suitable image found.  Did find:
>> 	/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so: mach-o, but wrong architecture
>> ERROR: loading failed
>> * removing '/Volumes/CoreData/CRAN/xps.Rcheck/xps'
>>
>> Do you have any hint what might be the reason for this error?
>
> Apparently the R and your package have different architectures. The reason is most likely your package - often badly written Makevars or Makefile if some dependencies are used, or stale object files in the sources (failure to clean up) etc. You'd have to show us the package and exactly how you're trying to instal it if we are to help you further.
>
>
>> As far as I understand this message means that Snow Leopard is the wrong architecture, why?
>>
>
> You understand the message incorrectly - it tells you the R (which is the one loading the package) cannot find binary of the same architecture in the package, but it can find another, different, architecture instead. "Snow Leopard" is not an architecture it's an operating system.
>
> Cheers,
> Simon
>
>


From carl at witthoft.com  Thu Apr 29 00:25:22 2010
From: carl at witthoft.com (Carl Witthoft)
Date: Wed, 28 Apr 2010 18:25:22 -0400
Subject: [R-SIG-Mac] any advice on libtiff? (and rtiff)
Message-ID: <4BD8B5D2.9080808@witthoft.com>

Hi, I know rtiff does not compile 'cause it can't find libtiff (per cran 
check logs).

I'm just wondering if anyone has successfully installed libtiff, either 
from source or via MacPorts?  And if so,  is it then possible to build 
rtiff from the source and have everything work?

So far I've (naively) tried building libtiff3.9.2 from sources, but even 
though "make" seems to happily complete its job,  nothing seems to be 
installed anywhere useful.

Or should I just bite the bullet and install the Gtk tiff tools and that 
big graphics package (something-BE, I forget the name just now)?


thanks
Carl


From simon.urbanek at r-project.org  Thu Apr 29 01:41:43 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 28 Apr 2010 19:41:43 -0400
Subject: [R-SIG-Mac] Which Fortran Compiler is usable
In-Reply-To: <BF46EB3A-0843-4EF6-BB6C-FC283033EF03@gmail.com>
References: <F0234457-6469-4FD0-947E-B29B6A8BC671@gmail.com>
	<BF8A1C44-FF94-4F91-AEDD-D764D2F81712@r-project.org>
	<BF46EB3A-0843-4EF6-BB6C-FC283033EF03@gmail.com>
Message-ID: <A6B03CCA-0D22-4EB8-96FD-F4C9D5402897@r-project.org>


On Apr 28, 2010, at 5:47 PM, Yan Zhou wrote:

> Thank you for clarify all this for me. 
> 
> If I understand correctly. I can build R from scratch with any compilers support  required language features (like F95 or partial C99). And use those compilers to install packages from source. In this way I can take any advantaged may provid by those compilers or library like MKL. 
> 
> However, if I want to use the distributed binary version of R, I have to use the same compiler configuration to build package or use the binary version package distributed from CRAN.
> 
> Hope I get the right idea.
> 

Yes, exactly.

(Just FWIW regarding MKL: our binary uses vecLib/Accelerate which is quite well optimized by Apple and was the most efficient one when I tested it against MKL and others).

Cheers,
Simon


> 
> On 28 Apr 2010, at 22:39, Simon Urbanek wrote:
> 
>> 
>> On Apr 28, 2010, at 4:26 PM, Yan Zhou wrote:
>> 
>>> I have a some sort silly question. Which fortran compiler is usable with R, e.g., building package from source.
>>> 
>>> I intended to install the gfortran from CRAN. But noticed that it will install cc1 and the text in installer stated that it is not recommended to install it with Xcode later than 3.2. I have 3.2.2 installed right now.
>>> 
>> 
>> Apple has not released Xcode 3.2.2 sources yet so we cannot build the corresponding version. What you can do (if you want) is to save the cc1 from Xcode and install the Fortran anyway.
>> 
>> That said, you don't have to. You can equally well use the separate Fortran from CRAN
>> http://cran.us.r-project.org/bin/macosx/tools/
>> if you want. (It's not how we build R anymore but it also works - at least with R 2.11.0)
>> 
>> 
>>> Besides I find on the website that gfortran from HPC will not work.
>>> 
>>> So my question is that, what is the problem with the HPC version of gfortran. What is the criteria for a fortran compiler to be usable with R.
>> 
>> It must support Apple driver's driver (for things like -arch ppc -arch i386 etc.) and have the corresponding cross-compilers included so you can build universal binaries. The HPC fortran is typically a single-host same-target compiler so it won't be able to do that (and has no Apple driver). In addition HPC compilers used to be a mess - they mostly didn't work at all due to library issues and cross-OS pollution, but I didn't test them lately, so may be things have improved in the meantime.
>> 
>> 
>>> I have intel fortran compiler installed. I managed to use it to compile a usable R-devel build from source. However, successful compiling doesn't imply that the generated code has no problem.
>>> 
>> 
>> If you build R from scratch from sources, there is no issue - you can use almost anything. What we are talking about is CRAN R binary - and by definition you can only use compilers that are compatible to the compilers used to compile that binary. That's what the recommended compilers are about. If you build your own R, you can use whatever flags you wish, so you can get different compilers to work -- but you won't be able to install package binaries from CRAN (in general).
> 
>> I hope it helps.
>> 
>> Cheers,
>> Simon
>> 
> 
> 


From zhouyan1014 at gmail.com  Thu Apr 29 02:45:56 2010
From: zhouyan1014 at gmail.com (Yan Zhou)
Date: Thu, 29 Apr 2010 01:45:56 +0100
Subject: [R-SIG-Mac] Which Fortran Compiler is usable
In-Reply-To: <A6B03CCA-0D22-4EB8-96FD-F4C9D5402897@r-project.org>
References: <F0234457-6469-4FD0-947E-B29B6A8BC671@gmail.com>
	<BF8A1C44-FF94-4F91-AEDD-D764D2F81712@r-project.org>
	<BF46EB3A-0843-4EF6-BB6C-FC283033EF03@gmail.com>
	<A6B03CCA-0D22-4EB8-96FD-F4C9D5402897@r-project.org>
Message-ID: <37591B3B-7EEE-4FA8-8F1F-076606A114CD@gmail.com>


On 29 Apr 2010, at 00:41, Simon Urbanek wrote:

> 
> On Apr 28, 2010, at 5:47 PM, Yan Zhou wrote:
> 
>> Thank you for clarify all this for me. 
>> 
>> If I understand correctly. I can build R from scratch with any compilers support  required language features (like F95 or partial C99). And use those compilers to install packages from source. In this way I can take any advantaged may provid by those compilers or library like MKL. 
>> 
>> However, if I want to use the distributed binary version of R, I have to use the same compiler configuration to build package or use the binary version package distributed from CRAN.
>> 
>> Hope I get the right idea.
>> 
> 
> Yes, exactly.
> 
> (Just FWIW regarding MKL: our binary uses vecLib/Accelerate which is quite well optimized by Apple and was the most efficient one when I tested it against MKL and others).
> 

Thanks for pointing out that. After compiled with linking to MKL this afternoon, I did some benchmarking tests. I also found out that vecLib is more efficient than MKL. I got access to MKL through my department recently, so I gave it a try. However, I think I will still stick to the vecLib version.

> Cheers,
> Simon
> 
> 
>> 
>> On 28 Apr 2010, at 22:39, Simon Urbanek wrote:
>> 
>>> 
>>> On Apr 28, 2010, at 4:26 PM, Yan Zhou wrote:
>>> 
>>>> I have a some sort silly question. Which fortran compiler is usable with R, e.g., building package from source.
>>>> 
>>>> I intended to install the gfortran from CRAN. But noticed that it will install cc1 and the text in installer stated that it is not recommended to install it with Xcode later than 3.2. I have 3.2.2 installed right now.
>>>> 
>>> 
>>> Apple has not released Xcode 3.2.2 sources yet so we cannot build the corresponding version. What you can do (if you want) is to save the cc1 from Xcode and install the Fortran anyway.
>>> 
>>> That said, you don't have to. You can equally well use the separate Fortran from CRAN
>>> http://cran.us.r-project.org/bin/macosx/tools/
>>> if you want. (It's not how we build R anymore but it also works - at least with R 2.11.0)
>>> 
>>> 
>>>> Besides I find on the website that gfortran from HPC will not work.
>>>> 
>>>> So my question is that, what is the problem with the HPC version of gfortran. What is the criteria for a fortran compiler to be usable with R.
>>> 
>>> It must support Apple driver's driver (for things like -arch ppc -arch i386 etc.) and have the corresponding cross-compilers included so you can build universal binaries. The HPC fortran is typically a single-host same-target compiler so it won't be able to do that (and has no Apple driver). In addition HPC compilers used to be a mess - they mostly didn't work at all due to library issues and cross-OS pollution, but I didn't test them lately, so may be things have improved in the meantime.
>>> 
>>> 
>>>> I have intel fortran compiler installed. I managed to use it to compile a usable R-devel build from source. However, successful compiling doesn't imply that the generated code has no problem.
>>>> 
>>> 
>>> If you build R from scratch from sources, there is no issue - you can use almost anything. What we are talking about is CRAN R binary - and by definition you can only use compilers that are compatible to the compilers used to compile that binary. That's what the recommended compilers are about. If you build your own R, you can use whatever flags you wish, so you can get different compilers to work -- but you won't be able to install package binaries from CRAN (in general).
>> 
>>> I hope it helps.
>>> 
>>> Cheers,
>>> Simon
>>> 
>> 
>> 
> 


From kasperdanielhansen at gmail.com  Thu Apr 29 05:25:49 2010
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Wed, 28 Apr 2010 23:25:49 -0400
Subject: [R-SIG-Mac] R CMD check fails on Snow Leopard
In-Reply-To: <4BD8AE9C.1070700@aon.at>
References: <4BD8A722.2070206@aon.at>
	<D7B25F47-C62F-4A3E-93BC-8AD93F7A9173@r-project.org>
	<4BD8AE9C.1070700@aon.at>
Message-ID: <v2qe780c0971004282025z3c43cc0ci1c07c24a04def3c8@mail.gmail.com>

You can have a look at the library by doing file (otool is also nice
to know btw), I get

# file affxparser.so
affxparser.so: Mach-O 64-bit dynamically linked shared library x86_64

You do this on both the ROOT library and the xps.so library to see
what the architectures are.  Based on the error message, they are
different.  Why, is something I think you will have to track down
yourself, because that depends on how you compiled R/ROOT.

Kasper

On Wed, Apr 28, 2010 at 5:54 PM, cstrato <cstrato at aon.at> wrote:
> Dear Simon,
>
> My package is "xps" which has always worked on Tiger and also on Leopard,
> thus I am shocked that it does not work on Snow Leopard. The problem is not
> only that I cannot do "R32 CMD check xps-1.9.0.tar.gz" which results in the
> error message mentioned, but that the binary which I have downloaded using
> "biocLite("xps")" gives me the same error message.
>
> When I start "R32" which I need to do since I have compiled the ROOT
> framework for 32 bit, I get:
>
>> library(xps)
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
> ?unable to load shared library
> '/Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so':
> ?dlopen(/Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so, 6):
> Library not loaded: @rpath/libCore.so
> ?Referenced from:
> /Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so
> ?Reason: no suitable image found. ?Did find:
> ? ? ? ?/Volumes/CoreData/ROOT/root/lib/libCore.so: mach-o, but wrong
> architecture
> ? ? ? ?/Volumes/CoreData/ROOT/root/lib/libCore.so: mach-o, but wrong
> architecture
> Error: package/namespace load failed for 'xps'
>
> At the moment I have no idea what might be the reason for this:-(
>
> Best regards
> Christian
>
>
> On 4/28/10 11:38 PM, Simon Urbanek wrote:
>>
>> On Apr 28, 2010, at 5:22 PM, cstrato wrote:
>>
>>> Dear all,
>>>
>>> Last week I have installed on my MacBook Pro Snow Leopard 10.6.3 and
>>> downloaded from Apple Xcode 3.2.2. Then I have installed R-2.11.0.pkg for
>>> Mac OS X 10.5 (Leopard) and higher.
>>>
>>> Now I wanted to run R CMD check for my BioC package which contains C++
>>> code but got the following error:
>>>
>>> installing to /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386
>>> ** R
>>> ** inst
>>> ** preparing package for lazy loading
>>> ** help
>>> *** installing help indices
>>> ** building package indices ...
>>> ** testing if installed package can be loaded
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>> ?unable to load shared library
>>> '/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so':
>>> ?dlopen(/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so, 6): no
>>> suitable image found. ?Did find:
>>> ? ? ? ?/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so: mach-o,
>>> but wrong architecture
>>> ERROR: loading failed
>>> * removing '/Volumes/CoreData/CRAN/xps.Rcheck/xps'
>>>
>>> Do you have any hint what might be the reason for this error?
>>
>> Apparently the R and your package have different architectures. The reason
>> is most likely your package - often badly written Makevars or Makefile if
>> some dependencies are used, or stale object files in the sources (failure to
>> clean up) etc. You'd have to show us the package and exactly how you're
>> trying to instal it if we are to help you further.
>>
>>
>>> As far as I understand this message means that Snow Leopard is the wrong
>>> architecture, why?
>>>
>>
>> You understand the message incorrectly - it tells you the R (which is the
>> one loading the package) cannot find binary of the same architecture in the
>> package, but it can find another, different, architecture instead. "Snow
>> Leopard" is not an architecture it's an operating system.
>>
>> Cheers,
>> Simon
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From ripley at stats.ox.ac.uk  Thu Apr 29 07:52:15 2010
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 29 Apr 2010 06:52:15 +0100 (BST)
Subject: [R-SIG-Mac] any advice on libtiff? (and rtiff)
In-Reply-To: <4BD8B5D2.9080808@witthoft.com>
References: <4BD8B5D2.9080808@witthoft.com>
Message-ID: <alpine.LFD.2.00.1004290639150.32549@gannet.stats.ox.ac.uk>

On Wed, 28 Apr 2010, Carl Witthoft wrote:

> Hi, I know rtiff does not compile 'cause it can't find libtiff (per cran 
> check logs).
>
> I'm just wondering if anyone has successfully installed libtiff, either from 
> source or via MacPorts?  And if so,  is it then possible to build rtiff from 
> the source and have everything work?

Yes, yes.  Simon and I have (separately) installed libtiff from the 
sources and the static-library build is what is used for the CRAN R 
distribution (at my behest).

When I tried rtiff it simply worked:

tystie% R CMD INSTALL rtiff_1.4.1.tar.gz
* installing to library ?/Users/ripley/R/Library?
* installing *source* package ?rtiff? ...
checking for gcc... gcc
...
** testing if installed package can be loaded

* DONE (rtiff)

One arch only, as the package has a configure script.  Add others with
e.g.

tystie% R --arch=x86_64 CMD INSTALL --libs-only rtiff_1.4.1.tar.gz


> So far I've (naively) tried building libtiff3.9.2 from sources, but even 
> though "make" seems to happily complete its job,  nothing seems to be 
> installed anywhere useful.

Well, the latter is what 'make install' does, just like just about all 
other Open Source packages.

But see http://r.research.att.com/libs/ for Simon's build.

> Or should I just bite the bullet and install the Gtk tiff tools and that big 
> graphics package (something-BE, I forget the name just now)?
>
>
> thanks
> Carl

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From cgw at witthoft.com  Thu Apr 29 16:39:50 2010
From: cgw at witthoft.com (cgw at witthoft.com)
Date: Thu, 29 Apr 2010 14:39:50 +0000 (GMT)
Subject: [R-SIG-Mac] any advice on libtiff? (and rtiff)
References: <4BD8B5D2.9080808@witthoft.com><alpine.LFD.2.00.1004290639150.32549@gannet.stats.ox.ac.uk>
Message-ID: <1437526548.314104.1272551990170.JavaMail.mail@webmail10>

OK, I've got libtiff installed -- the libraries are sitting in /usr/local/lib .  Do I need to copy them somewhere else for R to be able to find them?

Or (I'm trying this under OS X 10.4.11,  i686-apple-darwin8-gcc-4.0.1 ) do I have incompatible support tools?

Thanks for your help

Here's the error message I get after %R CMD INSTALL rtiff.... :

* installing to library '/Library/Frameworks/R.framework/Resources/library'
* installing *source* package 'rtiff' ...
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
checking for TIFFOpen in -ltiff... yes
configure: creating ./config.status
config.status: creating src/Makevars
** libs
** arch - i386
gcc -arch i386 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/i386  -I/usr/local/include    -fPIC  -g -O2 -c rtiff.c -o rtiff.o
gcc -arch i386 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names -mmacosx-version-min=10.4 -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -o rtiff.so rtiff.o -ltiff -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
/usr/bin/libtool: for architecture cputype (16777223) cpusubtype (3) object: /usr/local/lib/libgcc_s.10.4.dylib malformed object (unknown load command 4)
make: *** [rtiff.so] Error 1
ERROR: compilation failed for package 'rtiff'
* removing '/Library/Frameworks/R.framework/Resources/library/rtiff'
Apr 29, 2010 01:52:21 AM, ripley at stats.ox.ac.uk wrote:

===========================================

On Wed, 28 Apr 2010, Carl Witthoft wrote:

> Hi, I know rtiff does not compile 'cause it can't find libtiff (per cran 
> check logs).
>
> I'm just wondering if anyone has successfully installed libtiff, either from 
> source or via MacPorts?  And if so,  is it then possible to build rtiff from 
> the source and have everything work?

Yes, yes.  Simon and I have (separately) installed libtiff from the 
sources and the static-library build is what is used for the CRAN R 
distribution (at my behest).

When I tried rtiff it simply worked:

tystie% R CMD INSTALL rtiff_1.4.1.tar.gz
* installing to library ?/Users/ripley/R/Library?
* installing *source* package ?rtiff? ...
checking for gcc... gcc
...
** testing if installed package can be loaded

* DONE (rtiff)

One arch only, as the package has a configure script.  Add others with
e.g.

tystie% R --arch=x86_64 CMD INSTALL --libs-only rtiff_1.4.1.tar.gz


> So far I've (naively) tried building libtiff3.9.2 from sources, but even 
> though "make" seems to happily complete its job,  nothing seems to be 
> installed anywhere useful.

Well, the latter is what 'make install' does, just like just about all 
other Open Source packages.

But see http://r.research.att.com/libs/ for Simon's build.

> Or should I just bite the bullet and install the Gtk tiff tools and that big 
> graphics package (something-BE, I forget the name just now)?
>
>
> thanks
> Carl

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Thu Apr 29 17:56:18 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 29 Apr 2010 11:56:18 -0400
Subject: [R-SIG-Mac] any advice on libtiff? (and rtiff)
In-Reply-To: <1437526548.314104.1272551990170.JavaMail.mail@webmail10>
References: <4BD8B5D2.9080808@witthoft.com><alpine.LFD.2.00.1004290639150.32549@gannet.stats.ox.ac.uk>
	<1437526548.314104.1272551990170.JavaMail.mail@webmail10>
Message-ID: <6B8537D0-959D-4E07-AD04-9BCDFB3B63A2@r-project.org>


On Apr 29, 2010, at 10:39 AM, cgw at witthoft.com wrote:

> OK, I've got libtiff installed -- the libraries are sitting in /usr/local/lib .  Do I need to copy them somewhere else for R to be able to find them?
> 
> Or (I'm trying this under OS X 10.4.11,  i686-apple-darwin8-gcc-4.0.1 ) do I have incompatible support tools?
> 

Likely the latter - your Xcode is too old. Current Xcode for 10.4 is Xcode 2.5 and the last releases of R for 10.4 required at least Xcode 2.4.1.

Cheers,
Simon



> Thanks for your help
> 
> Here's the error message I get after %R CMD INSTALL rtiff.... :
> 
> * installing to library '/Library/Frameworks/R.framework/Resources/library'
> * installing *source* package 'rtiff' ...
> checking for gcc... gcc
> checking for C compiler default output file name... a.out
> checking whether the C compiler works... yes
> checking whether we are cross compiling... no
> checking for suffix of executables... 
> checking for suffix of object files... o
> checking whether we are using the GNU C compiler... yes
> checking whether gcc accepts -g... yes
> checking for gcc option to accept ANSI C... none needed
> checking for TIFFOpen in -ltiff... yes
> configure: creating ./config.status
> config.status: creating src/Makevars
> ** libs
> ** arch - i386
> gcc -arch i386 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/i386  -I/usr/local/include    -fPIC  -g -O2 -c rtiff.c -o rtiff.o
> gcc -arch i386 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names -mmacosx-version-min=10.4 -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -o rtiff.so rtiff.o -ltiff -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
> /usr/bin/libtool: for architecture cputype (16777223) cpusubtype (3) object: /usr/local/lib/libgcc_s.10.4.dylib malformed object (unknown load command 4)
> make: *** [rtiff.so] Error 1
> ERROR: compilation failed for package 'rtiff'
> * removing '/Library/Frameworks/R.framework/Resources/library/rtiff'
> Apr 29, 2010 01:52:21 AM, ripley at stats.ox.ac.uk wrote:
> 
> ===========================================
> 
> On Wed, 28 Apr 2010, Carl Witthoft wrote:
> 
>> Hi, I know rtiff does not compile 'cause it can't find libtiff (per cran 
>> check logs).
>> 
>> I'm just wondering if anyone has successfully installed libtiff, either from 
>> source or via MacPorts?  And if so,  is it then possible to build rtiff from 
>> the source and have everything work?
> 
> Yes, yes.  Simon and I have (separately) installed libtiff from the 
> sources and the static-library build is what is used for the CRAN R 
> distribution (at my behest).
> 
> When I tried rtiff it simply worked:
> 
> tystie% R CMD INSTALL rtiff_1.4.1.tar.gz
> * installing to library ?/Users/ripley/R/Library?
> * installing *source* package ?rtiff? ...
> checking for gcc... gcc
> ...
> ** testing if installed package can be loaded
> 
> * DONE (rtiff)
> 
> One arch only, as the package has a configure script.  Add others with
> e.g.
> 
> tystie% R --arch=x86_64 CMD INSTALL --libs-only rtiff_1.4.1.tar.gz
> 
> 
>> So far I've (naively) tried building libtiff3.9.2 from sources, but even 
>> though "make" seems to happily complete its job,  nothing seems to be 
>> installed anywhere useful.
> 
> Well, the latter is what 'make install' does, just like just about all 
> other Open Source packages.
> 
> But see http://r.research.att.com/libs/ for Simon's build.
> 
>> Or should I just bite the bullet and install the Gtk tiff tools and that big 
>> graphics package (something-BE, I forget the name just now)?
>> 
>> 
>> thanks
>> Carl
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Thu Apr 29 18:19:38 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 29 Apr 2010 12:19:38 -0400
Subject: [R-SIG-Mac] any advice on libtiff? (and rtiff)
In-Reply-To: <4BD8B5D2.9080808@witthoft.com>
References: <4BD8B5D2.9080808@witthoft.com>
Message-ID: <6B93A028-369F-48A3-9570-4D3604D4BBE5@r-project.org>

On Apr 28, 2010, at 6:25 PM, Carl Witthoft wrote:

> Hi, I know rtiff does not compile 'cause it can't find libtiff (per cran check logs).
> 

Unfortunately rtiff forces wrong flags (that it checks with the wrong compilers and flags) and it allows no way around it so the best way forward would be if Eric could address this (details below).

The correct flags for the static build are PKG_LIBS="-ltiff -ljpeg -lz" because libtiff relies on JPEG and libz, but rtiff does not allow that.

I'm CCing Eric in the hope that this can be addressed in the package:

First, configure will check with CPPFLAGS, CFLAGS, LIBS etc. yet those all are ignored since there is
PKG_LIBS="-ltiff"
which is wrong - that's not what configure actually checked at all. AC_CHECK_LIB modifies LIBS to reflect the correct flags so it should be at the very least
PKG_LIBS="$LIBS"

Second, the R compiler settings are ignored so the checks are actually run with the wrong compiler (this is crucial because let's say if you compile for R_ARCH=/x86_64 then the checks will be run with the default architecture of the compiler such as i386 which is completely different).

Also to make it more R friendly it is a good idea to initialize LIBS="$PKG_LIBS" so that the commonly used PKG_LIBS are respected (this is optional). So the configure.in could look something like

AC_PREREQ(2.1)
AC_INIT([rtiff], [1.1], [eric.kort at vai.org])
AC_CONFIG_SRCDIR([src/rtiff.c])

: ${R_HOME=`R RHOME`}
if test -z "${R_HOME}"; then
  echo "could not determine R_HOME"
  exit 1
fi
RBIN="${R_HOME}/bin/R"
CC=`"${RBIN}" CMD config CC`;
CFLAGS=`"${RBIN}" CMD config CFLAGS`
LIBS="${PKG_LIBS}"

# Checks for programs.
AC_PROG_CC

# Checks for libtiff.
AC_CHECK_LIB([tiff], [TIFFOpen], [], [
                echo Error: Could not find libtiff.
                exit -1
                ])

PKG_LIBS="$LIBS"

AC_SUBST(PKG_LIBS)
AC_OUTPUT([src/Makevars])


Thanks,
Simon


> I'm just wondering if anyone has successfully installed libtiff, either from source or via MacPorts?  And if so,  is it then possible to build rtiff from the source and have everything work?
> 
> So far I've (naively) tried building libtiff3.9.2 from sources, but even though "make" seems to happily complete its job,  nothing seems to be installed anywhere useful.
> 
> Or should I just bite the bullet and install the Gtk tiff tools and that big graphics package (something-BE, I forget the name just now)?
> 
> 
> thanks
> Carl
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From mike at mikearthur.co.uk  Thu Apr 29 20:47:15 2010
From: mike at mikearthur.co.uk (Mike Arthur)
Date: Thu, 29 Apr 2010 19:47:15 +0100
Subject: [R-SIG-Mac] OSX gFortran
Message-ID: <52DB8589-0C36-43E6-ABA0-152A254288F2@mikearthur.co.uk>

Hi guys,

Thanks for your great work on the gfortran version for OSX from these sites:
http://r.research.att.com/tools/
http://cran.r-project.org/bin/macosx/tools/

I'm doing some work for the Mac Homebrew package manager and I'm wanting to try and allow the building of gfortran. Could you advise me on who built the binaries on the above sites and give me their contact details? I'd really like to try and have reproducible build instructions to build a formula for Homebrew so our users can have gfortran. I'd love to know where you get your sources from (I presume here: http://www.opensource.apple.com/) and what patches and configure lines you use to build the binaries?

Thanks already for your work and I'm sorry to intrude on this mailing list!

Have a good day.

--
Cheers,
Mike Arthur
http://mikearthur.co.uk


From cstrato at aon.at  Thu Apr 29 22:22:29 2010
From: cstrato at aon.at (cstrato)
Date: Thu, 29 Apr 2010 22:22:29 +0200
Subject: [R-SIG-Mac] R CMD check fails on Snow Leopard
In-Reply-To: <v2qe780c0971004282025z3c43cc0ci1c07c24a04def3c8@mail.gmail.com>
References: <4BD8A722.2070206@aon.at>	
	<D7B25F47-C62F-4A3E-93BC-8AD93F7A9173@r-project.org>	
	<4BD8AE9C.1070700@aon.at>
	<v2qe780c0971004282025z3c43cc0ci1c07c24a04def3c8@mail.gmail.com>
Message-ID: <4BD9EA85.6000702@aon.at>

Dear Kasper,

Thank you for this suggestion which was very helpful.

As it turns out, at the moment I am not able to compile ROOT for 32 bit 
on Snow Leopard. I have already contacted the ROOT developers.

Best regards
Christian

On 4/29/10 5:25 AM, Kasper Daniel Hansen wrote:
> You can have a look at the library by doing file (otool is also nice
> to know btw), I get
>
> # file affxparser.so
> affxparser.so: Mach-O 64-bit dynamically linked shared library x86_64
>
> You do this on both the ROOT library and the xps.so library to see
> what the architectures are.  Based on the error message, they are
> different.  Why, is something I think you will have to track down
> yourself, because that depends on how you compiled R/ROOT.
>
> Kasper
>
> On Wed, Apr 28, 2010 at 5:54 PM, cstrato<cstrato at aon.at>  wrote:
>> Dear Simon,
>>
>> My package is "xps" which has always worked on Tiger and also on Leopard,
>> thus I am shocked that it does not work on Snow Leopard. The problem is not
>> only that I cannot do "R32 CMD check xps-1.9.0.tar.gz" which results in the
>> error message mentioned, but that the binary which I have downloaded using
>> "biocLite("xps")" gives me the same error message.
>>
>> When I start "R32" which I need to do since I have compiled the ROOT
>> framework for 32 bit, I get:
>>
>>> library(xps)
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>   unable to load shared library
>> '/Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so':
>>   dlopen(/Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so, 6):
>> Library not loaded: @rpath/libCore.so
>>   Referenced from:
>> /Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so
>>   Reason: no suitable image found.  Did find:
>>         /Volumes/CoreData/ROOT/root/lib/libCore.so: mach-o, but wrong
>> architecture
>>         /Volumes/CoreData/ROOT/root/lib/libCore.so: mach-o, but wrong
>> architecture
>> Error: package/namespace load failed for 'xps'
>>
>> At the moment I have no idea what might be the reason for this:-(
>>
>> Best regards
>> Christian
>>
>>
>> On 4/28/10 11:38 PM, Simon Urbanek wrote:
>>>
>>> On Apr 28, 2010, at 5:22 PM, cstrato wrote:
>>>
>>>> Dear all,
>>>>
>>>> Last week I have installed on my MacBook Pro Snow Leopard 10.6.3 and
>>>> downloaded from Apple Xcode 3.2.2. Then I have installed R-2.11.0.pkg for
>>>> Mac OS X 10.5 (Leopard) and higher.
>>>>
>>>> Now I wanted to run R CMD check for my BioC package which contains C++
>>>> code but got the following error:
>>>>
>>>> installing to /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386
>>>> ** R
>>>> ** inst
>>>> ** preparing package for lazy loading
>>>> ** help
>>>> *** installing help indices
>>>> ** building package indices ...
>>>> ** testing if installed package can be loaded
>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>   unable to load shared library
>>>> '/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so':
>>>>   dlopen(/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so, 6): no
>>>> suitable image found.  Did find:
>>>>         /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so: mach-o,
>>>> but wrong architecture
>>>> ERROR: loading failed
>>>> * removing '/Volumes/CoreData/CRAN/xps.Rcheck/xps'
>>>>
>>>> Do you have any hint what might be the reason for this error?
>>>
>>> Apparently the R and your package have different architectures. The reason
>>> is most likely your package - often badly written Makevars or Makefile if
>>> some dependencies are used, or stale object files in the sources (failure to
>>> clean up) etc. You'd have to show us the package and exactly how you're
>>> trying to instal it if we are to help you further.
>>>
>>>
>>>> As far as I understand this message means that Snow Leopard is the wrong
>>>> architecture, why?
>>>>
>>>
>>> You understand the message incorrectly - it tells you the R (which is the
>>> one loading the package) cannot find binary of the same architecture in the
>>> package, but it can find another, different, architecture instead. "Snow
>>> Leopard" is not an architecture it's an operating system.
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>


From simon.urbanek at r-project.org  Thu Apr 29 22:35:41 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 29 Apr 2010 16:35:41 -0400
Subject: [R-SIG-Mac] OSX gFortran
In-Reply-To: <52DB8589-0C36-43E6-ABA0-152A254288F2@mikearthur.co.uk>
References: <52DB8589-0C36-43E6-ABA0-152A254288F2@mikearthur.co.uk>
Message-ID: <E98537D4-06DF-4929-A668-58026926D817@r-project.org>

Mike,

On Apr 29, 2010, at 2:47 PM, Mike Arthur wrote:

> Hi guys,
> 
> Thanks for your great work on the gfortran version for OSX from these sites:
> http://r.research.att.com/tools/
> http://cran.r-project.org/bin/macosx/tools/
> 
> I'm doing some work for the Mac Homebrew package manager and I'm wanting to try and allow the building of gfortran. Could you advise me on who built the binaries on the above sites and give me their contact details?

I am building all Mac gfortran binaries. The detailed instructions are on the same page where you got the fortran from:
http://r.research.att.com/tools/

The Xcode builds are using Apple's Xcode sources + libfortran + gcc/fortran from gcc-4.2.4 sources + diff is on the tools page. The build is done the same way Apple Xcode is compiled.

The alternative GNU build is done from the GNU release sources and is described on the page as well.


> I'd really like to try and have reproducible build instructions to build a formula for Homebrew so our users can have gfortran. I'd love to know where you get your sources from (I presume here: http://www.opensource.apple.com/) and what patches and configure lines you use to build the binaries?
> 
> Thanks already for your work and I'm sorry to intrude on this mailing list!
> 

Sure, not problem. Please feel free to contact me if you have any questions. (I think I was talking to Max a while ago about improvements to Homebrew ;) - I like the idea)

Cheers,
Simon


From thatsanicehatyouhave at mac.com  Thu Apr 29 23:17:27 2010
From: thatsanicehatyouhave at mac.com (thatsanicehatyouhave at mac.com)
Date: Thu, 29 Apr 2010 17:17:27 -0400
Subject: [R-SIG-Mac] R graphs question
In-Reply-To: <1485FEFE40C14F44AA48DF3A7B48F4DDD7FCB635EE@VEXCCR03.phsabc.ehcnet.ca>
References: <1485FEFE40C14F44AA48DF3A7B48F4DDD7FCB635EE@VEXCCR03.phsabc.ehcnet.ca>
Message-ID: <0400DA5B-0458-4CB0-8837-380499E24EFD@mac.com>

Hi,

On Apr 26, 2010, at 6:57 PM, Wang, Fei wrote:

> I am a newbie for R software. Recently I met a problem when I'm attempting to export R graphs to PowerPoint directly. Since we generate hundreds of graphs and want to export them to PPT at one time, is there any good solution to this?

Depends on how motivated you are. Here's one solution. It will take some effort to get going and requires a few programming skills, but once set up you can repeat the process painlessly.

First, you need to use Apple's Keynote. The Keynote file format is a regular zipped directory containing an XML file and the various media (e.g. pdfs, pngs). The XML format is documented here:

http://developer.apple.com/appleapplications/keynote-apxl.html

Given that and some trial and error, one can write a python script (or similar) to take a folder of graphs that you output from R and convert them into a Keynote presentation.

If you don't want to use Keynote as your final format, you can export the file into a huge PDF or a PowerPoint file.

And if you get something working and are willing to share, I'm sure several people on the list would be interested in seeing a working script!


How you intend to keep your audience awake for a presentation of hundreds of graphs is another problem entirely. :)


Cheers,
Demitri

_________________________________________
Demitri Muna

Center for Cosmology and Particle Physics
New York University


From carl at witthoft.com  Fri Apr 30 00:47:22 2010
From: carl at witthoft.com (Carl Witthoft)
Date: Thu, 29 Apr 2010 18:47:22 -0400
Subject: [R-SIG-Mac] any advice on libtiff? (and rtiff)
In-Reply-To: <6B8537D0-959D-4E07-AD04-9BCDFB3B63A2@r-project.org>
References: <4BD8B5D2.9080808@witthoft.com><alpine.LFD.2.00.1004290639150.32549@gannet.stats.ox.ac.uk>
	<1437526548.314104.1272551990170.JavaMail.mail@webmail10>
	<6B8537D0-959D-4E07-AD04-9BCDFB3B63A2@r-project.org>
Message-ID: <4BDA0C7A.2060504@witthoft.com>

Thank you, Simon.  You were exactly right. I installed Xcode 2.5,
cleaned everything out & re-built libtiff and rtiff, and all works
perfectly.

Now I feel better :-)

Carl

On 4/29/10 11:56 AM, Simon Urbanek wrote:
>
> On Apr 29, 2010, at 10:39 AM, cgw at witthoft.com wrote:
>
>> OK, I've got libtiff installed -- the libraries are sitting in
>> /usr/local/lib .  Do I need to copy them somewhere else for R to be
>> able to find them?
>>
>> Or (I'm trying this under OS X 10.4.11,
>> i686-apple-darwin8-gcc-4.0.1 ) do I have incompatible support
>> tools?
>>
>
> Likely the latter - your Xcode is too old. Current Xcode for 10.4 is
> Xcode 2.5 and the last releases of R for 10.4 required at least Xcode
> 2.4.1.
>
> Cheers, Simon
>


From cstrato at aon.at  Fri Apr 30 22:55:54 2010
From: cstrato at aon.at (cstrato)
Date: Fri, 30 Apr 2010 22:55:54 +0200
Subject: [R-SIG-Mac] R CMD check fails on Snow Leopard
In-Reply-To: <v2qe780c0971004282025z3c43cc0ci1c07c24a04def3c8@mail.gmail.com>
References: <4BD8A722.2070206@aon.at>	
	<D7B25F47-C62F-4A3E-93BC-8AD93F7A9173@r-project.org>	
	<4BD8AE9C.1070700@aon.at>
	<v2qe780c0971004282025z3c43cc0ci1c07c24a04def3c8@mail.gmail.com>
Message-ID: <4BDB43DA.1030009@aon.at>

Dear Simon, dear Kasper,

While I could solve the problem with wrong architecture, R CMD check now 
results in the following error:

installing to /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/x86_64
** R
** inst
** preparing package for lazy loading
** help
*** installing help indices
** building package indices ...
** testing if installed package can be loaded
Error in dyn.load(file, DLLpath = DLLpath, ...) :
   unable to load shared library 
'/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/x86_64/xps.so':
   dlopen(/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/x86_64/xps.so, 6): 
Symbol not found: __ZN10TCanvasImp11ShowMembersER16TMemberInspectorPc
   Referenced from: /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/x86_64/xps.so
   Expected in: flat namespace
  in /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/x86_64/xps.so
ERROR: loading failed
* removing '/Volumes/CoreData/CRAN/xps.Rcheck/xps'


This time I get this error both on Leopard for "i386" and on Snow 
Leopard for "x86_64" while the Bioconductor server does not have this 
problem (to my great relieve), see:
http://bioconductor.org/checkResults/2.6/bioc-LATEST/xps/pelham-checksrc.html

Do you have any idea what might be the reason for this problem?

Best regards
Christian


On 4/29/10 5:25 AM, Kasper Daniel Hansen wrote:
> You can have a look at the library by doing file (otool is also nice
> to know btw), I get
>
> # file affxparser.so
> affxparser.so: Mach-O 64-bit dynamically linked shared library x86_64
>
> You do this on both the ROOT library and the xps.so library to see
> what the architectures are.  Based on the error message, they are
> different.  Why, is something I think you will have to track down
> yourself, because that depends on how you compiled R/ROOT.
>
> Kasper
>
> On Wed, Apr 28, 2010 at 5:54 PM, cstrato<cstrato at aon.at>  wrote:
>> Dear Simon,
>>
>> My package is "xps" which has always worked on Tiger and also on Leopard,
>> thus I am shocked that it does not work on Snow Leopard. The problem is not
>> only that I cannot do "R32 CMD check xps-1.9.0.tar.gz" which results in the
>> error message mentioned, but that the binary which I have downloaded using
>> "biocLite("xps")" gives me the same error message.
>>
>> When I start "R32" which I need to do since I have compiled the ROOT
>> framework for 32 bit, I get:
>>
>>> library(xps)
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>   unable to load shared library
>> '/Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so':
>>   dlopen(/Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so, 6):
>> Library not loaded: @rpath/libCore.so
>>   Referenced from:
>> /Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so
>>   Reason: no suitable image found.  Did find:
>>         /Volumes/CoreData/ROOT/root/lib/libCore.so: mach-o, but wrong
>> architecture
>>         /Volumes/CoreData/ROOT/root/lib/libCore.so: mach-o, but wrong
>> architecture
>> Error: package/namespace load failed for 'xps'
>>
>> At the moment I have no idea what might be the reason for this:-(
>>
>> Best regards
>> Christian
>>
>>
>> On 4/28/10 11:38 PM, Simon Urbanek wrote:
>>>
>>> On Apr 28, 2010, at 5:22 PM, cstrato wrote:
>>>
>>>> Dear all,
>>>>
>>>> Last week I have installed on my MacBook Pro Snow Leopard 10.6.3 and
>>>> downloaded from Apple Xcode 3.2.2. Then I have installed R-2.11.0.pkg for
>>>> Mac OS X 10.5 (Leopard) and higher.
>>>>
>>>> Now I wanted to run R CMD check for my BioC package which contains C++
>>>> code but got the following error:
>>>>
>>>> installing to /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386
>>>> ** R
>>>> ** inst
>>>> ** preparing package for lazy loading
>>>> ** help
>>>> *** installing help indices
>>>> ** building package indices ...
>>>> ** testing if installed package can be loaded
>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>   unable to load shared library
>>>> '/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so':
>>>>   dlopen(/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so, 6): no
>>>> suitable image found.  Did find:
>>>>         /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so: mach-o,
>>>> but wrong architecture
>>>> ERROR: loading failed
>>>> * removing '/Volumes/CoreData/CRAN/xps.Rcheck/xps'
>>>>
>>>> Do you have any hint what might be the reason for this error?
>>>
>>> Apparently the R and your package have different architectures. The reason
>>> is most likely your package - often badly written Makevars or Makefile if
>>> some dependencies are used, or stale object files in the sources (failure to
>>> clean up) etc. You'd have to show us the package and exactly how you're
>>> trying to instal it if we are to help you further.
>>>
>>>
>>>> As far as I understand this message means that Snow Leopard is the wrong
>>>> architecture, why?
>>>>
>>>
>>> You understand the message incorrectly - it tells you the R (which is the
>>> one loading the package) cannot find binary of the same architecture in the
>>> package, but it can find another, different, architecture instead. "Snow
>>> Leopard" is not an architecture it's an operating system.
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>


From simon.urbanek at r-project.org  Fri Apr 30 23:00:29 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 30 Apr 2010 17:00:29 -0400
Subject: [R-SIG-Mac] R CMD check fails on Snow Leopard
In-Reply-To: <4BDB43DA.1030009@aon.at>
References: <4BD8A722.2070206@aon.at>	
	<D7B25F47-C62F-4A3E-93BC-8AD93F7A9173@r-project.org>	
	<4BD8AE9C.1070700@aon.at>
	<v2qe780c0971004282025z3c43cc0ci1c07c24a04def3c8@mail.gmail.com>
	<4BDB43DA.1030009@aon.at>
Message-ID: <FD004950-2198-43CE-9764-1E158444B36C@r-project.org>


On Apr 30, 2010, at 4:55 PM, cstrato wrote:

> Dear Simon, dear Kasper,
> 
> While I could solve the problem with wrong architecture, R CMD check now results in the following error:
> 
> installing to /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/x86_64
> ** R
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices ...
> ** testing if installed package can be loaded
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  unable to load shared library '/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/x86_64/xps.so':
>  dlopen(/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/x86_64/xps.so, 6): Symbol not found: __ZN10TCanvasImp11ShowMembersER16TMemberInspectorPc
>  Referenced from: /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/x86_64/xps.so
>  Expected in: flat namespace
> in /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/x86_64/xps.so
> ERROR: loading failed
> * removing '/Volumes/CoreData/CRAN/xps.Rcheck/xps'
> 
> 
> This time I get this error both on Leopard for "i386" and on Snow Leopard for "x86_64" while the Bioconductor server does not have this problem (to my great relieve), see:
> http://bioconductor.org/checkResults/2.6/bioc-LATEST/xps/pelham-checksrc.html
> 
> Do you have any idea what might be the reason for this problem?
> 

Likely xps was not linked against all necessary libraries. Since it is sinked as dynamic library bugs like that are only visible at run-time not at link-time.

Cheers,
Simon

> 
> On 4/29/10 5:25 AM, Kasper Daniel Hansen wrote:
>> You can have a look at the library by doing file (otool is also nice
>> to know btw), I get
>> 
>> # file affxparser.so
>> affxparser.so: Mach-O 64-bit dynamically linked shared library x86_64
>> 
>> You do this on both the ROOT library and the xps.so library to see
>> what the architectures are.  Based on the error message, they are
>> different.  Why, is something I think you will have to track down
>> yourself, because that depends on how you compiled R/ROOT.
>> 
>> Kasper
>> 
>> On Wed, Apr 28, 2010 at 5:54 PM, cstrato<cstrato at aon.at>  wrote:
>>> Dear Simon,
>>> 
>>> My package is "xps" which has always worked on Tiger and also on Leopard,
>>> thus I am shocked that it does not work on Snow Leopard. The problem is not
>>> only that I cannot do "R32 CMD check xps-1.9.0.tar.gz" which results in the
>>> error message mentioned, but that the binary which I have downloaded using
>>> "biocLite("xps")" gives me the same error message.
>>> 
>>> When I start "R32" which I need to do since I have compiled the ROOT
>>> framework for 32 bit, I get:
>>> 
>>>> library(xps)
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>  unable to load shared library
>>> '/Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so':
>>>  dlopen(/Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so, 6):
>>> Library not loaded: @rpath/libCore.so
>>>  Referenced from:
>>> /Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so
>>>  Reason: no suitable image found.  Did find:
>>>        /Volumes/CoreData/ROOT/root/lib/libCore.so: mach-o, but wrong
>>> architecture
>>>        /Volumes/CoreData/ROOT/root/lib/libCore.so: mach-o, but wrong
>>> architecture
>>> Error: package/namespace load failed for 'xps'
>>> 
>>> At the moment I have no idea what might be the reason for this:-(
>>> 
>>> Best regards
>>> Christian
>>> 
>>> 
>>> On 4/28/10 11:38 PM, Simon Urbanek wrote:
>>>> 
>>>> On Apr 28, 2010, at 5:22 PM, cstrato wrote:
>>>> 
>>>>> Dear all,
>>>>> 
>>>>> Last week I have installed on my MacBook Pro Snow Leopard 10.6.3 and
>>>>> downloaded from Apple Xcode 3.2.2. Then I have installed R-2.11.0.pkg for
>>>>> Mac OS X 10.5 (Leopard) and higher.
>>>>> 
>>>>> Now I wanted to run R CMD check for my BioC package which contains C++
>>>>> code but got the following error:
>>>>> 
>>>>> installing to /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386
>>>>> ** R
>>>>> ** inst
>>>>> ** preparing package for lazy loading
>>>>> ** help
>>>>> *** installing help indices
>>>>> ** building package indices ...
>>>>> ** testing if installed package can be loaded
>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>  unable to load shared library
>>>>> '/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so':
>>>>>  dlopen(/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so, 6): no
>>>>> suitable image found.  Did find:
>>>>>        /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so: mach-o,
>>>>> but wrong architecture
>>>>> ERROR: loading failed
>>>>> * removing '/Volumes/CoreData/CRAN/xps.Rcheck/xps'
>>>>> 
>>>>> Do you have any hint what might be the reason for this error?
>>>> 
>>>> Apparently the R and your package have different architectures. The reason
>>>> is most likely your package - often badly written Makevars or Makefile if
>>>> some dependencies are used, or stale object files in the sources (failure to
>>>> clean up) etc. You'd have to show us the package and exactly how you're
>>>> trying to instal it if we are to help you further.
>>>> 
>>>> 
>>>>> As far as I understand this message means that Snow Leopard is the wrong
>>>>> architecture, why?
>>>>> 
>>>> 
>>>> You understand the message incorrectly - it tells you the R (which is the
>>>> one loading the package) cannot find binary of the same architecture in the
>>>> package, but it can find another, different, architecture instead. "Snow
>>>> Leopard" is not an architecture it's an operating system.
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
> 
> 


From cstrato at aon.at  Fri Apr 30 23:30:28 2010
From: cstrato at aon.at (cstrato)
Date: Fri, 30 Apr 2010 23:30:28 +0200
Subject: [R-SIG-Mac] R CMD check fails on Snow Leopard
In-Reply-To: <FD004950-2198-43CE-9764-1E158444B36C@r-project.org>
References: <4BD8A722.2070206@aon.at>	
	<D7B25F47-C62F-4A3E-93BC-8AD93F7A9173@r-project.org>	
	<4BD8AE9C.1070700@aon.at>
	<v2qe780c0971004282025z3c43cc0ci1c07c24a04def3c8@mail.gmail.com>
	<4BDB43DA.1030009@aon.at>
	<FD004950-2198-43CE-9764-1E158444B36C@r-project.org>
Message-ID: <4BDB4BF4.4050005@aon.at>

Dear Simon,

Thank you for your reply. The difference between the code uploaded to 
BioC and my new code is the "Makefile.arch".

I have just run R CMD check using the uploaded "Makefile.arch" where the 
relevant part is:

ifeq ($(ARCH),macosx)
# MacOS X with cc (GNU cc 2.95.2 and gcc 3.3)
MACOSX_MINOR := $(shell sw_vers | sed -n 's/ProductVersion://p' | cut -d 
. -f 2)
MACOSXTARGET := MACOSX_DEPLOYMENT_TARGET=10.$(MACOSX_MINOR)
ifeq ($(MACOSX_MINOR),5)
MACOSX_MINOR  = 4
endif
CXX           = c++
CXXFLAGS      = $(OPT2) -pipe -Wall -W -Woverloaded-virtual
LD            = $(MACOSXTARGET) c++
LDFLAGS       = $(OPT2) -bind_at_load
# The SOFLAGS will be used to create the .dylib,
# the .so will be created separately
DllSuf        = dylib
UNDEFOPT      = dynamic_lookup
ifneq ($(MACOSX_MINOR),4)
ifneq ($(MACOSX_MINOR),3)
UNDEFOPT      = suppress
LD            = c++
endif
endif
SOFLAGS       = -dynamiclib -single_module -undefined $(UNDEFOPT)
endif

Using this code I can once again run R CMD check w/o problems, however, 
since this code does not work on Snow Leopard, I have replaced it with 
the following code which causes the reported error:

ifeq ($(ARCH),macosx)
# MacOS X with cc (GNU cc 2.95.2 and gcc 3.3)
MACOSX_MINOR := $(shell sw_vers | sed -n 's/ProductVersion://p' | cut -d 
. -f 2)
ifeq ($(MACOSX_DEPLOYMENT_TARGET),)
MACOSXTARGET := MACOSX_DEPLOYMENT_TARGET=10.$(MACOSX_MINOR)
else
MACOSXTARGET := MACOSX_DEPLOYMENT_TARGET=$(MACOSX_DEPLOYMENT_TARGET)
endif
CXX           = g++
CXXFLAGS      = $(OPT2) -pipe -Wall -W -Woverloaded-virtual
LD            = $(MACOSXTARGET) g++
LDFLAGS       = $(OPT2)
# The SOFLAGS will be used to create the .dylib,
# the .so will be created separately
ifeq ($(subst $(MACOSX_MINOR),,1234),1234)
DllSuf        = so
else
DllSuf        = dylib
endif
UNDEFOPT      = dynamic_lookup
ifneq ($(subst $(MACOSX_MINOR),,12),12)
UNDEFOPT      = suppress
LD            = g++
endif
SOFLAGS       = -dynamiclib -single_module -undefined $(UNDEFOPT) 
-install_name $(CURDIR)/
endif

Do you have any hint why this code does not work?

Best regards
Christian


On 4/30/10 11:00 PM, Simon Urbanek wrote:
>
> On Apr 30, 2010, at 4:55 PM, cstrato wrote:
>
>> Dear Simon, dear Kasper,
>>
>> While I could solve the problem with wrong architecture, R CMD check now results in the following error:
>>
>> installing to /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/x86_64
>> ** R
>> ** inst
>> ** preparing package for lazy loading
>> ** help
>> *** installing help indices
>> ** building package indices ...
>> ** testing if installed package can be loaded
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>   unable to load shared library '/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/x86_64/xps.so':
>>   dlopen(/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/x86_64/xps.so, 6): Symbol not found: __ZN10TCanvasImp11ShowMembersER16TMemberInspectorPc
>>   Referenced from: /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/x86_64/xps.so
>>   Expected in: flat namespace
>> in /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/x86_64/xps.so
>> ERROR: loading failed
>> * removing '/Volumes/CoreData/CRAN/xps.Rcheck/xps'
>>
>>
>> This time I get this error both on Leopard for "i386" and on Snow Leopard for "x86_64" while the Bioconductor server does not have this problem (to my great relieve), see:
>> http://bioconductor.org/checkResults/2.6/bioc-LATEST/xps/pelham-checksrc.html
>>
>> Do you have any idea what might be the reason for this problem?
>>
>
> Likely xps was not linked against all necessary libraries. Since it is sinked as dynamic library bugs like that are only visible at run-time not at link-time.
>
> Cheers,
> Simon
>
>>
>> On 4/29/10 5:25 AM, Kasper Daniel Hansen wrote:
>>> You can have a look at the library by doing file (otool is also nice
>>> to know btw), I get
>>>
>>> # file affxparser.so
>>> affxparser.so: Mach-O 64-bit dynamically linked shared library x86_64
>>>
>>> You do this on both the ROOT library and the xps.so library to see
>>> what the architectures are.  Based on the error message, they are
>>> different.  Why, is something I think you will have to track down
>>> yourself, because that depends on how you compiled R/ROOT.
>>>
>>> Kasper
>>>
>>> On Wed, Apr 28, 2010 at 5:54 PM, cstrato<cstrato at aon.at>   wrote:
>>>> Dear Simon,
>>>>
>>>> My package is "xps" which has always worked on Tiger and also on Leopard,
>>>> thus I am shocked that it does not work on Snow Leopard. The problem is not
>>>> only that I cannot do "R32 CMD check xps-1.9.0.tar.gz" which results in the
>>>> error message mentioned, but that the binary which I have downloaded using
>>>> "biocLite("xps")" gives me the same error message.
>>>>
>>>> When I start "R32" which I need to do since I have compiled the ROOT
>>>> framework for 32 bit, I get:
>>>>
>>>>> library(xps)
>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>   unable to load shared library
>>>> '/Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so':
>>>>   dlopen(/Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so, 6):
>>>> Library not loaded: @rpath/libCore.so
>>>>   Referenced from:
>>>> /Users/rabbitus/Library/R/2.11/library/xps/libs/i386/xps.so
>>>>   Reason: no suitable image found.  Did find:
>>>>         /Volumes/CoreData/ROOT/root/lib/libCore.so: mach-o, but wrong
>>>> architecture
>>>>         /Volumes/CoreData/ROOT/root/lib/libCore.so: mach-o, but wrong
>>>> architecture
>>>> Error: package/namespace load failed for 'xps'
>>>>
>>>> At the moment I have no idea what might be the reason for this:-(
>>>>
>>>> Best regards
>>>> Christian
>>>>
>>>>
>>>> On 4/28/10 11:38 PM, Simon Urbanek wrote:
>>>>>
>>>>> On Apr 28, 2010, at 5:22 PM, cstrato wrote:
>>>>>
>>>>>> Dear all,
>>>>>>
>>>>>> Last week I have installed on my MacBook Pro Snow Leopard 10.6.3 and
>>>>>> downloaded from Apple Xcode 3.2.2. Then I have installed R-2.11.0.pkg for
>>>>>> Mac OS X 10.5 (Leopard) and higher.
>>>>>>
>>>>>> Now I wanted to run R CMD check for my BioC package which contains C++
>>>>>> code but got the following error:
>>>>>>
>>>>>> installing to /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386
>>>>>> ** R
>>>>>> ** inst
>>>>>> ** preparing package for lazy loading
>>>>>> ** help
>>>>>> *** installing help indices
>>>>>> ** building package indices ...
>>>>>> ** testing if installed package can be loaded
>>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>>   unable to load shared library
>>>>>> '/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so':
>>>>>>   dlopen(/Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so, 6): no
>>>>>> suitable image found.  Did find:
>>>>>>         /Volumes/CoreData/CRAN/xps.Rcheck/xps/libs/i386/xps.so: mach-o,
>>>>>> but wrong architecture
>>>>>> ERROR: loading failed
>>>>>> * removing '/Volumes/CoreData/CRAN/xps.Rcheck/xps'
>>>>>>
>>>>>> Do you have any hint what might be the reason for this error?
>>>>>
>>>>> Apparently the R and your package have different architectures. The reason
>>>>> is most likely your package - often badly written Makevars or Makefile if
>>>>> some dependencies are used, or stale object files in the sources (failure to
>>>>> clean up) etc. You'd have to show us the package and exactly how you're
>>>>> trying to instal it if we are to help you further.
>>>>>
>>>>>
>>>>>> As far as I understand this message means that Snow Leopard is the wrong
>>>>>> architecture, why?
>>>>>>
>>>>>
>>>>> You understand the message incorrectly - it tells you the R (which is the
>>>>> one loading the package) cannot find binary of the same architecture in the
>>>>> package, but it can find another, different, architecture instead. "Snow
>>>>> Leopard" is not an architecture it's an operating system.
>>>>>
>>>>> Cheers,
>>>>> Simon
>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>
>>
>
>


From scschommer at gmail.com  Thu Apr 29 23:59:22 2010
From: scschommer at gmail.com (Seth Schommer)
Date: Thu, 29 Apr 2010 16:59:22 -0500
Subject: [R-SIG-Mac] problems with X11 in R 2.11.0
Message-ID: <q2l7892e1651004291459u88d74ed3x9d149c636053a04@mail.gmail.com>

I installed R 2.11.0 today and immediately came across an issue I did
not experience using version 2.10.1.  For some reason, I can not use
X11 in R.  Here's a simple example:


> X11()
Error in X11() : X11 module cannot be loaded
In addition: Warning message:
In X11() :
  unable to load shared library
'/Library/Frameworks/R.framework/Resources/modules/i386/R_X11.so':
  dlopen(/Library/Frameworks/R.framework/Resources/modules/i386/R_X11.so,
6): Library not loaded: /usr/X11/lib/libpng12.0.dylib
  Referenced from:
/Library/Frameworks/R.framework/Resources/modules/i386/R_X11.so
  Reason: Incompatible library version: R_X11.so requires version
42.0.0 or later, but libpng12.0.dylib provides version 36.0.0
> sessionInfo()
R version 2.11.0 (2010-04-22)
i386-apple-darwin9.8.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base


I'm running Mac OS X 10.5.8.  This error occurs when running R.app and
while running R from the terminal.  After experience this I
reinstalled 2.10.1 and tried the same command and had no problems.
Just to make sure, I installed 2.11.0 again, and sure enough, I got
the same error.  Is this a bug, or have I done something wrong?

Thanks,

Seth


From baptiste.auguie at googlemail.com  Fri Apr 30 07:41:21 2010
From: baptiste.auguie at googlemail.com (baptiste auguie)
Date: Fri, 30 Apr 2010 07:41:21 +0200
Subject: [R-SIG-Mac] R graphs question
In-Reply-To: <0400DA5B-0458-4CB0-8837-380499E24EFD@mac.com>
References: <1485FEFE40C14F44AA48DF3A7B48F4DDD7FCB635EE@VEXCCR03.phsabc.ehcnet.ca>
	<0400DA5B-0458-4CB0-8837-380499E24EFD@mac.com>
Message-ID: <u2ode4e29f51004292241ud36a9146n8a64f4a350adaaf1@mail.gmail.com>

Hi,

If you're willing to drop powerpoint for a more versatile alternative,
the most obvious route might be Sweave + the beamer package.

On 29 April 2010 23:17,  <thatsanicehatyouhave at mac.com> wrote:
> Hi,
>
> On Apr 26, 2010, at 6:57 PM, Wang, Fei wrote:
>
>> I am a newbie for R software. Recently I met a problem when I'm attempting to export R graphs to PowerPoint directly. Since we generate hundreds of graphs and want to export them to PPT at one time, is there any good solution to this?
>
> Depends on how motivated you are. Here's one solution. It will take some effort to get going and requires a few programming skills, but once set up you can repeat the process painlessly.
>
> First, you need to use Apple's Keynote. The Keynote file format is a regular zipped directory containing an XML file and the various media (e.g. pdfs, pngs). The XML format is documented here:
>
> http://developer.apple.com/appleapplications/keynote-apxl.html
>
> Given that and some trial and error, one can write a python script (or similar) to take a folder of graphs that you output from R and convert them into a Keynote presentation.
>
> If you don't want to use Keynote as your final format, you can export the file into a huge PDF or a PowerPoint file.
>
> And if you get something working and are willing to share, I'm sure several people on the list would be interested in seeing a working script!
>
>
> How you intend to keep your audience awake for a presentation of hundreds of graphs is another problem entirely. :)
>

Perhaps inserting a Audience.sleep(1) every now and then during page
transitions?

baptiste


