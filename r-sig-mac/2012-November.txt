From tyler.j.frazier at tu-berlin.de  Thu Nov  1 17:57:56 2012
From: tyler.j.frazier at tu-berlin.de (Frazier, Tyler James)
Date: Thu, 1 Nov 2012 16:57:56 +0000
Subject: [R-SIG-Mac] homebrew r mac osx lion?
Message-ID: <9659839B4C1FD4498B496BCEFF047B6F9E1516BB@EX-MB2.tubit.win.tu-berlin.de>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121101/8b7a48b7/attachment.pl>

From stefan at drees.name  Fri Nov  2 08:18:23 2012
From: stefan at drees.name (Stefan Drees)
Date: Fri, 02 Nov 2012 08:18:23 +0100
Subject: [R-SIG-Mac] homebrew r mac osx lion?
In-Reply-To: <9659839B4C1FD4498B496BCEFF047B6F9E1516BB@EX-MB2.tubit.win.tu-berlin.de>
References: <9659839B4C1FD4498B496BCEFF047B6F9E1516BB@EX-MB2.tubit.win.tu-berlin.de>
Message-ID: <509373BF.1050305@drees.name>

Am 01.11.12 17:57, schrieb Frazier, Tyler James:
> ... is there a homebrew for r?  maybe its just "brew install r"
> ...

what about "brew info r" before asking the list?

and then, yes "brew install r"

All the best,
Stefan.



-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2392 bytes
Desc: S/MIME Kryptografische Unterschrift
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121102/cd3f8405/attachment.bin>

From pdf8z at virginia.edu  Mon Nov  5 02:33:40 2012
From: pdf8z at virginia.edu (Peter Fields)
Date: Sun, 4 Nov 2012 20:33:40 -0500
Subject: [R-SIG-Mac] building rgl on mac os 10.8
Message-ID: <80B6DD88326C4B1CA438D1D9CE3438D1@virginia.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121104/f5d8f2e5/attachment.pl>

From simon.urbanek at r-project.org  Mon Nov  5 04:27:35 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 4 Nov 2012 22:27:35 -0500
Subject: [R-SIG-Mac] building rgl on mac os 10.8
In-Reply-To: <80B6DD88326C4B1CA438D1D9CE3438D1@virginia.edu>
References: <80B6DD88326C4B1CA438D1D9CE3438D1@virginia.edu>
Message-ID: <00CD6A2C-FE79-4C58-97A1-53C7B11C3B62@r-project.org>


On Nov 4, 2012, at 8:33 PM, Peter Fields wrote:

> I've been working to build a set of R functions that require rgl, specifically phytools. I'm using R v. 2.15.2 (built using homebrew; I've already run this particular issue through the homebrew group and so I can at least exclude that particular source of error) on a mac machine running os 10.8. The error arises with the new os as far as I can tell. There have been some significant changes with the new os, eg the X11/xquartz changes. I've made sure that the build environment includes the requisite components without success. I was wondering if you have any suggestions on how might make a successful install of rgl on my system?  
> 
> I have attempted a previously used fix for lion. Specifically, I pulled down the binary package from cran and deleted aglrgl.so and then attempted an install. When I make the modification to the package and retry the install, the install seems successful. However, when I try to call the library, get the following error:
> 
>> library(rgl)
> Error: package ?rgl? was built for universal-apple-darwin9.8.0
> 
> 

You can't use CRAN binaries with homebrew. If you use homebrew, you're entirely on your own and you have to build everything from sources.

Cheers,
Simon




> Is there a way of modifying the source package to deal with the aglrgl problem (that way the source might be built for my particular architecture)?
> 
> Thanks in advance for any advice you might provide, and please let me know if further information about my machine would be useful.
> 
> Cheers
> Peter
> 
> 
> --  
> ******************************** Peter Fields Graduate Student 059 Gilmer Hall University of Virginia Charlottesville, VA. 22904 pdf8z at virginia.edu (mailto:pdf8z at virginia.edu)<mailto:pdf8z at virginia.edu> (mailto:pdf8z at virginia.edu) http://people.virginia.edu/~pdf8z/ ********************************
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ken.knoblauch at inserm.fr  Tue Nov  6 15:05:26 2012
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Tue, 06 Nov 2012 15:05:26 +0100
Subject: [R-SIG-Mac] drag & drop on R icon not changing directory
Message-ID: <20121106150526.1xabdxs78ks408so@imp.inserm.fr>

Hi,

just noticed this in R version 2.15.2 Patched (2012-11-04 r61084),
that dragging a file onto the R icon when starting a session is not
changing to the directory of the file.

sessionInfo()
R version 2.15.2 Patched (2012-11-04 r61084)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

Thanks.

best,

Ken

-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From dwinsemius at comcast.net  Tue Nov  6 18:30:55 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 6 Nov 2012 09:30:55 -0800
Subject: [R-SIG-Mac] drag & drop on R icon not changing directory
In-Reply-To: <20121106150526.1xabdxs78ks408so@imp.inserm.fr>
References: <20121106150526.1xabdxs78ks408so@imp.inserm.fr>
Message-ID: <D0FD3365-2A3A-4E04-853E-729CDF2B81F0@comcast.net>


On Nov 6, 2012, at 6:05 AM, Ken Knoblauch wrote:

> Hi,
> 
> just noticed this in R version 2.15.2 Patched (2012-11-04 r61084),
> that dragging a file onto the R icon when starting a session is not
> changing to the directory of the file.
> 
> sessionInfo()
> R version 2.15.2 Patched (2012-11-04 r61084)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> Thanks.

I'm a bit puzzled by this. I never in the past expected that the working directory would be changed when doing this. Are you saying I should have expected the working directory to change when a file icon was dragged on top of the R-dock icon? What should I be reading that I missed?

-- 

David Winsemius, MD
Alameda, CA, USA


From dwinsemius at comcast.net  Tue Nov  6 18:37:05 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 6 Nov 2012 09:37:05 -0800
Subject: [R-SIG-Mac] drag & drop on R icon not changing directory
In-Reply-To: <D0FD3365-2A3A-4E04-853E-729CDF2B81F0@comcast.net>
References: <20121106150526.1xabdxs78ks408so@imp.inserm.fr>
	<D0FD3365-2A3A-4E04-853E-729CDF2B81F0@comcast.net>
Message-ID: <42F8B9C7-1C4D-4AB5-A815-45947532CEF9@comcast.net>


On Nov 6, 2012, at 9:30 AM, David Winsemius wrote:

> 
> On Nov 6, 2012, at 6:05 AM, Ken Knoblauch wrote:
> 
>> Hi,
>> 
>> just noticed this in R version 2.15.2 Patched (2012-11-04 r61084),
>> that dragging a file onto the R icon when starting a session is not
>> changing to the directory of the file.
>> 
>> sessionInfo()
>> R version 2.15.2 Patched (2012-11-04 r61084)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> 
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>> 
>> Thanks.
> 
> I'm a bit puzzled by this. I never in the past expected that the working directory would be changed when doing this. Are you saying I should have expected the working directory to change when a file icon was dragged on top of the R-dock icon? What should I be reading that I missed?

This may relate to the fact that I have never changed the default settings in my Preferences:

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Snapz Pro XScreenSnapz009.png
Type: image/png
Size: 18297 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121106/1ce2e2d0/attachment-0001.png>
-------------- next part --------------



> 
> -- 
> 
> David Winsemius, MD
> Alameda, CA, USA
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Alameda, CA, USA


From ripley at stats.ox.ac.uk  Tue Nov  6 18:48:10 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 06 Nov 2012 17:48:10 +0000
Subject: [R-SIG-Mac] drag & drop on R icon not changing directory
In-Reply-To: <D0FD3365-2A3A-4E04-853E-729CDF2B81F0@comcast.net>
References: <20121106150526.1xabdxs78ks408so@imp.inserm.fr>
	<D0FD3365-2A3A-4E04-853E-729CDF2B81F0@comcast.net>
Message-ID: <50994D5A.2040209@stats.ox.ac.uk>

On 06/11/2012 17:30, David Winsemius wrote:
>
> On Nov 6, 2012, at 6:05 AM, Ken Knoblauch wrote:
>
>> Hi,
>>
>> just noticed this in R version 2.15.2 Patched (2012-11-04 r61084),
>> that dragging a file onto the R icon when starting a session is not
>> changing to the directory of the file.
>>
>> sessionInfo()
>> R version 2.15.2 Patched (2012-11-04 r61084)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> Thanks.
>
> I'm a bit puzzled by this. I never in the past expected that the working directory would be changed when doing this. Are you saying I should have expected the working directory to change when a file icon was dragged on top of the R-dock icon? What should I be reading that I missed?

The MacOSX FAQ?  But that is not a very reliable document (less 
unreliable in 2.15.2 than in the recent past).

http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#Drag-_0026-drop

seems to say the directory is changed if a directory is dropped, but not 
say so for other types of files (and it may depend on the type of file).

Works as documented for directories, at least.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From dwinsemius at comcast.net  Tue Nov  6 19:45:23 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 6 Nov 2012 10:45:23 -0800
Subject: [R-SIG-Mac] drag & drop on R icon not changing directory
In-Reply-To: <50994D5A.2040209@stats.ox.ac.uk>
References: <20121106150526.1xabdxs78ks408so@imp.inserm.fr>
	<D0FD3365-2A3A-4E04-853E-729CDF2B81F0@comcast.net>
	<50994D5A.2040209@stats.ox.ac.uk>
Message-ID: <9CF738E9-76D9-4B75-8CBB-22E622D7ABA7@comcast.net>


On Nov 6, 2012, at 9:48 AM, Prof Brian Ripley wrote:

> On 06/11/2012 17:30, David Winsemius wrote:
>> 
>> On Nov 6, 2012, at 6:05 AM, Ken Knoblauch wrote:
>> 
>>> Hi,
>>> 
>>> just noticed this in R version 2.15.2 Patched (2012-11-04 r61084),
>>> that dragging a file onto the R icon when starting a session is not
>>> changing to the directory of the file.
>>> 
>>> sessionInfo()
>>> R version 2.15.2 Patched (2012-11-04 r61084)
>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>> 
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> 
>>> Thanks.
>> 
>> I'm a bit puzzled by this. I never in the past expected that the working directory would be changed when doing this. Are you saying I should have expected the working directory to change when a file icon was dragged on top of the R-dock icon? What should I be reading that I missed?
> 
> The MacOSX FAQ?  But that is not a very reliable document (less unreliable in 2.15.2 than in the recent past).
> 
> http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#Drag-_0026-drop
> 
> seems to say the directory is changed if a directory is dropped, but not say so for other types of files (and it may depend on the type of file).
> 
> Works as documented for directories, at least.
> 

That's what I see for for directories. The other behavior (in the GUI) I see:

After dragging an R-source file  to the R64 dock icon from the directory: "/Users/davidwinsemius/Documents/R-code"
>  getwd()
[1] "/Users/davidwinsemius"

So no change in the working directory. The GUI displays the code in an editing window. (That second behavior for GUI can be specified in Preferences settings.) Described in R for MacOSX FAQ 4.6.0.1 Startup: http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#Startup

> load("/Users/davidwinsemius/Documents/MASS/data/abbey.rda")
> getwd()
[1] "/Users/davidwinsemius"

So no change in the directory with drag-dropping an .rda file. Described in 6.3 Finder actions: http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#Finder-actions

Then drag-dropping a directory (after what seemed like an unexpected amount of rainbow-spinnner activity)

> setwd("/Users/davidwinsemius/Documents/R-code")
[Workspace restored from /Users/davidwinsemius/Documents/R-code/.RData]

So not only is the working directory changed, but a .RData file was sought out and "restored". Described in MacOSX FAQ 4.4.8 "Drag & drop". Apparently the data-objects are loaded along side the current workspace objects. There is a line that says: "Whether the file is opened or sourced is specified by a Preference setting in the StartUp Preference Pane."

So the Startup Preference checkbox setting "always apply" for Initial Working Directory can be set to override this behavior. I was not able to produce behavior that were not described once I did a "search-scan" through the FAQ with the term "drag"


-- 
David Winsemius, MD
Alameda, CA, USA


From ken.knoblauch at inserm.fr  Tue Nov  6 19:46:13 2012
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Tue, 06 Nov 2012 19:46:13 +0100
Subject: [R-SIG-Mac] drag & drop on R icon not changing directory
In-Reply-To: <42F8B9C7-1C4D-4AB5-A815-45947532CEF9@comcast.net>
References: <20121106150526.1xabdxs78ks408so@imp.inserm.fr>
	<D0FD3365-2A3A-4E04-853E-729CDF2B81F0@comcast.net>
	<42F8B9C7-1C4D-4AB5-A815-45947532CEF9@comcast.net>
Message-ID: <20121106194613.7j4zhyzl8gwkgcgk@imp.inserm.fr>

I did try it with the box checked and unchecked (restarting each time so
that it took effect) with no difference in behavior.  Thanks.


Quoting David Winsemius <dwinsemius at comcast.net>:

>
> On Nov 6, 2012, at 9:30 AM, David Winsemius wrote:
>
>>
>> On Nov 6, 2012, at 6:05 AM, Ken Knoblauch wrote:
>>
>>> Hi,
>>>
>>> just noticed this in R version 2.15.2 Patched (2012-11-04 r61084),
>>> that dragging a file onto the R icon when starting a session is not
>>> changing to the directory of the file.
>>>
>>> sessionInfo()
>>> R version 2.15.2 Patched (2012-11-04 r61084)
>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>>
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>
>>> Thanks.
>>
>> I'm a bit puzzled by this. I never in the past expected that the   
>> working directory would be changed when doing this. Are you saying   
>> I should have expected the working directory to change when a file   
>> icon was dragged on top of the R-dock icon? What should I be   
>> reading that I missed?
>
> This may relate to the fact that I have never changed the default   
> settings in my Preferences:
>
>



-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From ken.knoblauch at inserm.fr  Tue Nov  6 19:53:52 2012
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Tue, 06 Nov 2012 19:53:52 +0100
Subject: [R-SIG-Mac] drag & drop on R icon not changing directory
In-Reply-To: <50994D5A.2040209@stats.ox.ac.uk>
References: <20121106150526.1xabdxs78ks408so@imp.inserm.fr>
	<D0FD3365-2A3A-4E04-853E-729CDF2B81F0@comcast.net>
	<50994D5A.2040209@stats.ox.ac.uk>
Message-ID: <20121106195352.g1vnmnkvi8884ocg@imp.inserm.fr>

I confirm that it does work on my systems with directories and gives the new
behavior of printing out the setwd() command that was executed.
It used to work with text files (mostly .R scripts), but it no longer
does.  I don't remember if it was undocumented, but I did get
into the habit of doing this and will have to break the habit if it
is gone for good.

Dragging a text file on Rstudio works in opening and setting the  
directory, but that's for another list, I guess.

Thank you.

best,

Ken

Quoting Prof Brian Ripley <ripley at stats.ox.ac.uk>:

> On 06/11/2012 17:30, David Winsemius wrote:
>>
>> On Nov 6, 2012, at 6:05 AM, Ken Knoblauch wrote:
>>
>>> Hi,
>>>
>>> just noticed this in R version 2.15.2 Patched (2012-11-04 r61084),
>>> that dragging a file onto the R icon when starting a session is not
>>> changing to the directory of the file.
>>>
>>> sessionInfo()
>>> R version 2.15.2 Patched (2012-11-04 r61084)
>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>>
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>
>>> Thanks.
>>
>> I'm a bit puzzled by this. I never in the past expected that the   
>> working directory would be changed when doing this. Are you saying   
>> I should have expected the working directory to change when a file   
>> icon was dragged on top of the R-dock icon? What should I be   
>> reading that I missed?
>
> The MacOSX FAQ?  But that is not a very reliable document (less
> unreliable in 2.15.2 than in the recent past).
>
> http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#Drag-_0026-drop
>
> seems to say the directory is changed if a directory is dropped, but
> not say so for other types of files (and it may depend on the type of
> file).
>
> Works as documented for directories, at least.
>
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595



-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From simon.urbanek at r-project.org  Tue Nov  6 21:04:52 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 6 Nov 2012 15:04:52 -0500
Subject: [R-SIG-Mac] drag & drop on R icon not changing directory
In-Reply-To: <20121106150526.1xabdxs78ks408so@imp.inserm.fr>
References: <20121106150526.1xabdxs78ks408so@imp.inserm.fr>
Message-ID: <CE969ED2-2035-4367-B994-C8907FCE00C9@r-project.org>

I suspect this is an unintended side effect of some performance improvement in r6244 - unfortunately no one seems to have noticed it in the beta phase. I don't have any strong opinions on this - I certainly want the directory to change for RData files, but I don't have any opinion on source files. Certainly, it did break the documented behavior since 2.15.1 because I happened to specifically write down the current behavior in the NEWS entry for 2.15.1 and it no longer behaves that way. I think it may be worth just reverting the changes since I suspect this was not intended (but Hans-Joerg would be the person to ask if this was intended).

Thanks,
Simon


On Nov 6, 2012, at 9:05 AM, Ken Knoblauch wrote:

> Hi,
> 
> just noticed this in R version 2.15.2 Patched (2012-11-04 r61084),
> that dragging a file onto the R icon when starting a session is not
> changing to the directory of the file.
> 
> sessionInfo()
> R version 2.15.2 Patched (2012-11-04 r61084)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> Thanks.
> 
> best,
> 
> Ken
> 
> -- 
> Ken Knoblauch
> Inserm U846
> Stem-cell and Brain Research Institute
> Department of Integrative Neurosciences
> 18 avenue du Doyen L?pine
> 69500 Bron
> France
> tel: +33 (0)4 72 91 34 77
> fax: +33 (0)4 72 91 34 61
> portable: +33 (0)6 84 10 64 10
> http://www.sbri.fr/members/kenneth-knoblauch.html
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dpeeter1 at ulb.ac.be  Wed Nov  7 12:08:03 2012
From: dpeeter1 at ulb.ac.be (didier peeters)
Date: Wed, 7 Nov 2012 12:08:03 +0100
Subject: [R-SIG-Mac] R script in batch mode on Mac
Message-ID: <A40F761B-A532-4F54-B543-C0147727BB5C@ulb.ac.be>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121107/1c0075d9/attachment.pl>

From pdalgd at gmail.com  Wed Nov  7 12:57:41 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Wed, 7 Nov 2012 12:57:41 +0100
Subject: [R-SIG-Mac] R script in batch mode on Mac
In-Reply-To: <A40F761B-A532-4F54-B543-C0147727BB5C@ulb.ac.be>
References: <A40F761B-A532-4F54-B543-C0147727BB5C@ulb.ac.be>
Message-ID: <B07BFEB1-FACE-4D10-9A9C-D9884ECDCD2F@gmail.com>


On Nov 7, 2012, at 12:08 , didier peeters wrote:

> Hi list,
> 
> I would like the run a R script in a batch mode.  So i use a command line like this :
> 
> for i in *.xlsx; do cat $i | echo 'argv <- $i; source("path/to/script.R")' | R --vanilla --slave ; done
> 
> which gives the error " Erreur : '$' inattendu(e) dans "argv <- $" "
> 
> i've also tried  :
> 
> for i in *.xlsx; do cat $i | R CMD BATCH --args $i "path/to/script.R" ; done
> 
> which gives me nothing.  
> 
> The idea is to read dozens of similar excel files in a folder with gdata package and to write their content in another single file.  
> My script works fine with a read.xls when i specify a file name, but and here I get the name of the file with :
> argv <- commandArgs(TRUE)
> 
> This is all I've been able to find from various docs and I'm not familiar with the command line.  
> What am I doing wrong ?
> Could anyone help me ?

You need to read up on shell command syntax. In particular, the "cat $i | command" bit would pipe the content of the file $i into the command, which makes no sense when the command is "echo" or "R". Also check up on the use of single and double quotes.


> 
> Didier
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From bhh at xs4all.nl  Wed Nov  7 13:11:21 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Wed, 7 Nov 2012 13:11:21 +0100
Subject: [R-SIG-Mac] R script in batch mode on Mac
In-Reply-To: <A40F761B-A532-4F54-B543-C0147727BB5C@ulb.ac.be>
References: <A40F761B-A532-4F54-B543-C0147727BB5C@ulb.ac.be>
Message-ID: <C41049D9-74B2-4C57-B4C6-CCBAB06116CD@xs4all.nl>


On 07-11-2012, at 12:08, didier peeters wrote:

> Hi list,
> 
> I would like the run a R script in a batch mode.  So i use a command line like this :
> 
> for i in *.xlsx; do cat $i | echo 'argv <- $i; source("path/to/script.R")' | R --vanilla --slave ; done
> 
> which gives the error " Erreur : '$' inattendu(e) dans "argv <- $" "
> 
> i've also tried  :
> 
> for i in *.xlsx; do cat $i | R CMD BATCH --args $i "path/to/script.R" ; done
> 
> which gives me nothing.  
> 
> The idea is to read dozens of similar excel files in a folder with gdata package and to write their content in another single file.  
> My script works fine with a read.xls when i specify a file name, but and here I get the name of the file with :
> argv <- commandArgs(TRUE)
> 
> This is all I've been able to find from various docs and I'm not familiar with the command line.  
> What am I doing wrong ?
> Could anyone help me ?


Try Rscript like this

for k in *.R; do
    Rscript -e "source('path/to/script.R')" $k
done

and get the name of the file to process from commandArgs()

or

Rscript -e "source('path/to/script.R')" *.xlsx

and loop over the elements of commandArgs() in the script.

or

use list.files() -- something like list.files(pattern="^.*\\.xlsx") -- in the script then you don't need to loop in the shell script.

Berend


From dpeeter1 at ulb.ac.be  Wed Nov  7 15:13:56 2012
From: dpeeter1 at ulb.ac.be (didier peeters)
Date: Wed, 7 Nov 2012 15:13:56 +0100
Subject: [R-SIG-Mac]  R script in batch mode on Mac
References: <1C77BFD6-C4D3-4D92-B8B3-E06BFA2C4378@gmail.com>
Message-ID: <53D05895-D25B-44E7-BB96-9799158C0515@ulb.ac.be>

Thank you very much Berend !

I haven't tried them all but your third proposition suits me perfectly, it's much simpler that way.  

Didier


Le 7 nov. 2012 ? 13:11, Berend Hasselman <bhh at xs4all.nl> a ?crit :

> 
> On 07-11-2012, at 12:08, didier peeters wrote:
> 
>> Hi list,
>> 
>> I would like the run a R script in a batch mode.  So i use a command line like this :
>> 
>> for i in *.xlsx; do cat $i | echo 'argv <- $i; source("path/to/script.R")' | R --vanilla --slave ; done
>> 
>> which gives the error " Erreur : '$' inattendu(e) dans "argv <- $" "
>> 
>> i've also tried  :
>> 
>> for i in *.xlsx; do cat $i | R CMD BATCH --args $i "path/to/script.R" ; done
>> 
>> which gives me nothing.  
>> 
>> The idea is to read dozens of similar excel files in a folder with gdata package and to write their content in another single file.  
>> My script works fine with a read.xls when i specify a file name, but and here I get the name of the file with :
>> argv <- commandArgs(TRUE)
>> 
>> This is all I've been able to find from various docs and I'm not familiar with the command line.  
>> What am I doing wrong ?
>> Could anyone help me ?
> 
> 
> Try Rscript like this
> 
> for k in *.R; do
>   Rscript -e "source('path/to/script.R')" $k
> done
> 
> and get the name of the file to process from commandArgs()
> 
> or
> 
> Rscript -e "source('path/to/script.R')" *.xlsx
> 
> and loop over the elements of commandArgs() in the script.
> 
> or
> 
> use list.files() -- something like list.files(pattern="^.*\\.xlsx") -- in the script then you don't need to loop in the shell script.
> 
> Berend
> 
> 


From yee at post.harvard.edu  Thu Nov  8 13:24:47 2012
From: yee at post.harvard.edu (Andrew Yee)
Date: Thu, 8 Nov 2012 07:24:47 -0500
Subject: [R-SIG-Mac] R.app and launchpad and 32 bit
Message-ID: <CANfh=nkQTqYji-QrY53ftR3p=1R2iLSYFwkCUjkU4rkqaTTkfw@mail.gmail.com>

Hi, I'm new to Mac and when i installed the R.app, I noticed that it
put the 32 bit version of R onto the Launchpad instead of the 64 bit
version.  Is this by design?

Thanks,
Andrew


From ripley at stats.ox.ac.uk  Thu Nov  8 13:44:54 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 08 Nov 2012 12:44:54 +0000
Subject: [R-SIG-Mac] R.app and launchpad and 32 bit
In-Reply-To: <CANfh=nkQTqYji-QrY53ftR3p=1R2iLSYFwkCUjkU4rkqaTTkfw@mail.gmail.com>
References: <CANfh=nkQTqYji-QrY53ftR3p=1R2iLSYFwkCUjkU4rkqaTTkfw@mail.gmail.com>
Message-ID: <509BA946.9080300@stats>

On 08/11/12 12:24, Andrew Yee wrote:
> Hi, I'm new to Mac and when i installed the R.app, I noticed that it
> put the 32 bit version of R onto the Launchpad instead of the 64 bit
> version.  Is this by design?

The R installer put both R,app and R64.app there for me.  What exactly 
did you do (you can select either or both during installation)?

Similarly, r.research.att.com has separate downloads for each (-Leopard 
and -Leopard64).

>
> Thanks,
> Andrew
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From bhh at xs4all.nl  Thu Nov  8 13:51:27 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Thu, 8 Nov 2012 13:51:27 +0100
Subject: [R-SIG-Mac] R.app and launchpad and 32 bit
In-Reply-To: <CANfh=nkQTqYji-QrY53ftR3p=1R2iLSYFwkCUjkU4rkqaTTkfw@mail.gmail.com>
References: <CANfh=nkQTqYji-QrY53ftR3p=1R2iLSYFwkCUjkU4rkqaTTkfw@mail.gmail.com>
Message-ID: <943217C5-7724-46DF-92A9-EB6F417AC6FF@xs4all.nl>


On 08-11-2012, at 13:24, Andrew Yee wrote:

> Hi, I'm new to Mac and when i installed the R.app, I noticed that it
> put the 32 bit version of R onto the Launchpad instead of the 64 bit
> version.  Is this by design?

Both R.app and R64.app are installed in /Applications as long as you haven't customized the install.

OS X then updates the LaunchPad database (see below for its location).
And somehow only enters R.app in the database.
I have found that by deleting the database and killing Dock.app regenerates the database and then only R64.app is in the database.
Then you can launch R64 by typing R6 in the LaunchPad search field.
Since LaunchPad has very definite ideas how to sort applications starting with the letter R, you can only reach R.app by typing R and then using the arrow keys several times.

The mysterious ways of Apple and OS X.

I now have a shell script to reset all the silliness Mountain Lion seems to want.
I run it after an install.

The script is

===============================================
# unhide Library
chflags nohidden ~/Library

# reset launchpad database to avoid silliness with R.app and R64.app
# either one of these disappears
# removing database and killing Dock makes R64 reappear, which I want as default.
             
rm "${HOME}/Library/Application Support/Dock"/*.db
killall Dock 

# disable smooth scrolling
# no longer in system preferences
# needed to make TextMate react sensibly to PgUp/PgDn keys
# http://hints.macworld.com/article.php?story=20120726122633912
# http://www.maclife.com/article/columns/terminal_101_5_mountain_lion_ui_tricks

defaults write -g NSScrollAnimationEnabled -bool NO
===============================================

Berend


From yee at post.harvard.edu  Thu Nov  8 14:21:42 2012
From: yee at post.harvard.edu (Andrew Yee)
Date: Thu, 8 Nov 2012 08:21:42 -0500
Subject: [R-SIG-Mac] R.app and launchpad and 32 bit
In-Reply-To: <943217C5-7724-46DF-92A9-EB6F417AC6FF@xs4all.nl>
References: <CANfh=nkQTqYji-QrY53ftR3p=1R2iLSYFwkCUjkU4rkqaTTkfw@mail.gmail.com>
	<943217C5-7724-46DF-92A9-EB6F417AC6FF@xs4all.nl>
Message-ID: <CANfh=n==uUWoUmaPGrSGthNcaj0ChjUpVcEps_XaGOJ0kcx4mg@mail.gmail.com>

Thanks for the explanation.  Will need to take a look at your script.

Thanks,
Andrew

On Thu, Nov 8, 2012 at 7:51 AM, Berend Hasselman <bhh at xs4all.nl> wrote:
>
> On 08-11-2012, at 13:24, Andrew Yee wrote:
>
>> Hi, I'm new to Mac and when i installed the R.app, I noticed that it
>> put the 32 bit version of R onto the Launchpad instead of the 64 bit
>> version.  Is this by design?
>
> Both R.app and R64.app are installed in /Applications as long as you haven't customized the install.
>
> OS X then updates the LaunchPad database (see below for its location).
> And somehow only enters R.app in the database.
> I have found that by deleting the database and killing Dock.app regenerates the database and then only R64.app is in the database.
> Then you can launch R64 by typing R6 in the LaunchPad search field.
> Since LaunchPad has very definite ideas how to sort applications starting with the letter R, you can only reach R.app by typing R and then using the arrow keys several times.
>
> The mysterious ways of Apple and OS X.
>
> I now have a shell script to reset all the silliness Mountain Lion seems to want.
> I run it after an install.
>
> The script is
>
> ===============================================
> # unhide Library
> chflags nohidden ~/Library
>
> # reset launchpad database to avoid silliness with R.app and R64.app
> # either one of these disappears
> # removing database and killing Dock makes R64 reappear, which I want as default.
>
> rm "${HOME}/Library/Application Support/Dock"/*.db
> killall Dock
>
> # disable smooth scrolling
> # no longer in system preferences
> # needed to make TextMate react sensibly to PgUp/PgDn keys
> # http://hints.macworld.com/article.php?story=20120726122633912
> # http://www.maclife.com/article/columns/terminal_101_5_mountain_lion_ui_tricks
>
> defaults write -g NSScrollAnimationEnabled -bool NO
> ===============================================
>
> Berend
>


From marc_schwartz at me.com  Tue Nov 13 20:06:41 2012
From: marc_schwartz at me.com (Marc Schwartz)
Date: Tue, 13 Nov 2012 13:06:41 -0600
Subject: [R-SIG-Mac] R 32-bit suddenly the default on Mountain Lion 10.8.2?
Message-ID: <DE8F9528-0009-447C-B346-57A70A5BCC9C@me.com>

Hi All,

I am on a fully updated MacBook Pro, running 10.8.2. I get:

uname -m
x86_64

from the terminal, as would be expected.

I have been using the CRAN OSX binaries for some time now, rather than building from source, which I had been doing previously.

Somewhere along the way in the past few weeks, apparently since I installed R 2.15.2, the default architecture under which R is running is now 32 bit, not 64 bit, which was the case previously. I just noted this today due to some funny encoding issues that I had not seen before and have spent the past few hours trying to figure out what changed.

I initially thought something was amiss with the latest 2.15.2 release .pkg file. I completely removed R (Framework and symlinks to the startup scripts, etc.) and re-installed. Same thing. 32 bit R was the default link from 'R'.

So I removed R again and re-installed 2.15.1 (getting the older binary from CRAN), since that was the last version of R that I had installed which defaulted to 64 bit.

Funny, same thing, it defaulted to 32 bit R.

Then I wondered if there was something related to some anti-virus software (Avast) that I had recently installed due to some events that had occurred recently. I completely removed the AV software, rebooted, removed R and then re-installed R. Same thing, 32 bit R as the default.

What am I missing here? What is the installation program and/or the R startup script itself looking for that determines whether 64 or 32 bit R should the default when one simply uses 'R' to start it up? A read of the R startup script suggests that the output (as above) of 'uname -m' being 'x86_64' may be all that is needed, but perhaps I am missing something else.

I am also attaching the full installation log file here (for 2.15.2). I did not see anything there obvious to my eyes.

I can't recall the timeline well enough right now to consider whether some OSX update changed something, or if there is something strictly unique to my MBP that is causing this problem. 

Thanks for any insights.

Regards,

Marc

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Installer Log 13-Nov-2012.txt
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121113/35f79c2a/attachment.txt>
-------------- next part --------------



From f.calboli at imperial.ac.uk  Tue Nov 13 20:46:51 2012
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Tue, 13 Nov 2012 19:46:51 +0000
Subject: [R-SIG-Mac] R 32-bit suddenly the default on Mountain Lion
	10.8.2?
In-Reply-To: <DE8F9528-0009-447C-B346-57A70A5BCC9C@me.com>
References: <DE8F9528-0009-447C-B346-57A70A5BCC9C@me.com>
Message-ID: <61590788-2555-48CC-B739-C61D45001547@imperial.ac.uk>

On 13 Nov 2012, at 19:06, Marc Schwartz <marc_schwartz at me.com> wrote:

> Hi All,
> 
> I am on a fully updated MacBook Pro, running 10.8.2. I get:
> 
> uname -m
> x86_64
> 
> from the terminal, as would be expected.
> 
> I have been using the CRAN OSX binaries for some time now, rather than building from source, which I had been doing previously.
> 
> Somewhere along the way in the past few weeks, apparently since I installed R 2.15.2, the default architecture under which R is running is now 32 bit, not 64 bit, which was the case previously. I just noted this today due to some funny encoding issues that I had not seen before and have spent the past few hours trying to figure out what changed.

Same here, OS 10.8.2, R 2.15.2, R defaults to 32 bit.

BW

F







> 
> I initially thought something was amiss with the latest 2.15.2 release .pkg file. I completely removed R (Framework and symlinks to the startup scripts, etc.) and re-installed. Same thing. 32 bit R was the default link from 'R'.
> 
> So I removed R again and re-installed 2.15.1 (getting the older binary from CRAN), since that was the last version of R that I had installed which defaulted to 64 bit.
> 
> Funny, same thing, it defaulted to 32 bit R.
> 
> Then I wondered if there was something related to some anti-virus software (Avast) that I had recently installed due to some events that had occurred recently. I completely removed the AV software, rebooted, removed R and then re-installed R. Same thing, 32 bit R as the default.
> 
> What am I missing here? What is the installation program and/or the R startup script itself looking for that determines whether 64 or 32 bit R should the default when one simply uses 'R' to start it up? A read of the R startup script suggests that the output (as above) of 'uname -m' being 'x86_64' may be all that is needed, but perhaps I am missing something else.
> 
> I am also attaching the full installation log file here (for 2.15.2). I did not see anything there obvious to my eyes.
> 
> I can't recall the timeline well enough right now to consider whether some OSX update changed something, or if there is something strictly unique to my MBP that is causing this problem. 
> 
> Thanks for any insights.
> 
> Regards,
> 
> Marc
> 
> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> <Installer Log 13-Nov-2012.txt>


--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From ripley at stats.ox.ac.uk  Tue Nov 13 20:59:13 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Nov 2012 19:59:13 +0000
Subject: [R-SIG-Mac] R 32-bit suddenly the default on Mountain Lion
	10.8.2?
In-Reply-To: <DE8F9528-0009-447C-B346-57A70A5BCC9C@me.com>
References: <DE8F9528-0009-447C-B346-57A70A5BCC9C@me.com>
Message-ID: <50A2A691.80703@stats.ox.ac.uk>

Marc,

Start with 'which R', or run /usr/bin/R explicitly.  That should be a 
symlink to

/Library/Frameworks/R.framework/Resources/bin/R

and that should be a symlink,  If it is not like

lrwxr-xr-x  1 root  admin  3 28 Oct 08:03 
/Library/Frameworks/R.framework/Resources/bin/R@ -> R64

or is linked to R32, change it to point to R64.

It is the installer which determines what it links to.  Specifically 
https://svn.r-project.org/R-dev-web/trunk/CRAN/QA/Simon/R-build/packaging/leopard/scripts/postflight 
.

If running /Library/Frameworks/R.framework/Resources/bin/R64 is not 
x86_64, come back to us.

Brian

On 13/11/2012 19:06, Marc Schwartz wrote:
> Hi All,
>
> I am on a fully updated MacBook Pro, running 10.8.2. I get:
>
> uname -m x86_64
>
> from the terminal, as would be expected.
>
> I have been using the CRAN OSX binaries for some time now, rather
> than building from source, which I had been doing previously.
>
> Somewhere along the way in the past few weeks, apparently since I
> installed R 2.15.2, the default architecture under which R is running
> is now 32 bit, not 64 bit, which was the case previously. I just
> noted this today due to some funny encoding issues that I had not
> seen before and have spent the past few hours trying to figure out
> what changed.
>
> I initially thought something was amiss with the latest 2.15.2
> release .pkg file. I completely removed R (Framework and symlinks to
> the startup scripts, etc.) and re-installed. Same thing. 32 bit R was
> the default link from 'R'.
>
> So I removed R again and re-installed 2.15.1 (getting the older
> binary from CRAN), since that was the last version of R that I had
> installed which defaulted to 64 bit.
>
> Funny, same thing, it defaulted to 32 bit R.
>
> Then I wondered if there was something related to some anti-virus
> software (Avast) that I had recently installed due to some events
> that had occurred recently. I completely removed the AV software,
> rebooted, removed R and then re-installed R. Same thing, 32 bit R as
> the default.
>
> What am I missing here? What is the installation program and/or the R
> startup script itself looking for that determines whether 64 or 32
> bit R should the default when one simply uses 'R' to start it up? A
> read of the R startup script suggests that the output (as above) of
> 'uname -m' being 'x86_64' may be all that is needed, but perhaps I am
> missing something else.
>
> I am also attaching the full installation log file here (for 2.15.2).
> I did not see anything there obvious to my eyes.
>
> I can't recall the timeline well enough right now to consider whether
> some OSX update changed something, or if there is something strictly
> unique to my MBP that is causing this problem.
>
> Thanks for any insights.
>
> Regards,
>
> Marc
>
>
>
>
>
>
>
> _______________________________________________ R-SIG-Mac mailing
> list R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From f.calboli at imperial.ac.uk  Tue Nov 13 21:07:24 2012
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Tue, 13 Nov 2012 20:07:24 +0000
Subject: [R-SIG-Mac] R 32-bit suddenly the default on Mountain Lion
	10.8.2?
In-Reply-To: <50A2A691.80703@stats.ox.ac.uk>
References: <DE8F9528-0009-447C-B346-57A70A5BCC9C@me.com>
	<50A2A691.80703@stats.ox.ac.uk>
Message-ID: <3F4863DD-F2C5-4313-8895-387344044DC7@imperial.ac.uk>

On 13 Nov 2012, at 19:59, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:

> Marc,
> 
> Start with 'which R', or run /usr/bin/R explicitly.

$ which R
/usr/bin/R


>  That should be a symlink to
> 
> /Library/Frameworks/R.framework/Resources/bin/R

it does:

$ ls -l /usr/bin/R
lrwxr-xr-x  1 root  wheel  47 28 Oct 10:47 /usr/bin/R@ -> /Library/Frameworks/R.framework/Resources/bin/R

> 
> and that should be a symlink,

it's not:

$ ls -l /Library/Frameworks/R.framework/Resources/bin/R
-rwxrwxr-x  1 root  admin  8775 26 Oct 17:22 /Library/Frameworks/R.framework/Resources/bin/R*

$ ls /Library/Frameworks/R.framework/Resources/bin/R*
/Library/Frameworks/R.framework/Resources/bin/R*       /Library/Frameworks/R.framework/Resources/bin/Rd2pdf*
/Library/Frameworks/R.framework/Resources/bin/R32*     /Library/Frameworks/R.framework/Resources/bin/Rdconv*
/Library/Frameworks/R.framework/Resources/bin/R64*     /Library/Frameworks/R.framework/Resources/bin/Rdiff*
/Library/Frameworks/R.framework/Resources/bin/REMOVE*  /Library/Frameworks/R.framework/Resources/bin/Rprof*
/Library/Frameworks/R.framework/Resources/bin/Rcmd*    /Library/Frameworks/R.framework/Resources/bin/Rscript*


BW

F


>  If it is not like
> 
> lrwxr-xr-x  1 root  admin  3 28 Oct 08:03 /Library/Frameworks/R.framework/Resources/bin/R@ -> R64
> 
> or is linked to R32, change it to point to R64.
> 
> It is the installer which determines what it links to.  Specifically https://svn.r-project.org/R-dev-web/trunk/CRAN/QA/Simon/R-build/packaging/leopard/scripts/postflight .
> 
> If running /Library/Frameworks/R.framework/Resources/bin/R64 is not x86_64, come back to us.
> 
> Brian
> 
> On 13/11/2012 19:06, Marc Schwartz wrote:
>> Hi All,
>> 
>> I am on a fully updated MacBook Pro, running 10.8.2. I get:
>> 
>> uname -m x86_64
>> 
>> from the terminal, as would be expected.
>> 
>> I have been using the CRAN OSX binaries for some time now, rather
>> than building from source, which I had been doing previously.
>> 
>> Somewhere along the way in the past few weeks, apparently since I
>> installed R 2.15.2, the default architecture under which R is running
>> is now 32 bit, not 64 bit, which was the case previously. I just
>> noted this today due to some funny encoding issues that I had not
>> seen before and have spent the past few hours trying to figure out
>> what changed.
>> 
>> I initially thought something was amiss with the latest 2.15.2
>> release .pkg file. I completely removed R (Framework and symlinks to
>> the startup scripts, etc.) and re-installed. Same thing. 32 bit R was
>> the default link from 'R'.
>> 
>> So I removed R again and re-installed 2.15.1 (getting the older
>> binary from CRAN), since that was the last version of R that I had
>> installed which defaulted to 64 bit.
>> 
>> Funny, same thing, it defaulted to 32 bit R.
>> 
>> Then I wondered if there was something related to some anti-virus
>> software (Avast) that I had recently installed due to some events
>> that had occurred recently. I completely removed the AV software,
>> rebooted, removed R and then re-installed R. Same thing, 32 bit R as
>> the default.
>> 
>> What am I missing here? What is the installation program and/or the R
>> startup script itself looking for that determines whether 64 or 32
>> bit R should the default when one simply uses 'R' to start it up? A
>> read of the R startup script suggests that the output (as above) of
>> 'uname -m' being 'x86_64' may be all that is needed, but perhaps I am
>> missing something else.
>> 
>> I am also attaching the full installation log file here (for 2.15.2).
>> I did not see anything there obvious to my eyes.
>> 
>> I can't recall the timeline well enough right now to consider whether
>> some OSX update changed something, or if there is something strictly
>> unique to my MBP that is causing this problem.
>> 
>> Thanks for any insights.
>> 
>> Regards,
>> 
>> Marc
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> _______________________________________________ R-SIG-Mac mailing
>> list R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From marc_schwartz at me.com  Tue Nov 13 21:28:00 2012
From: marc_schwartz at me.com (Marc Schwartz)
Date: Tue, 13 Nov 2012 14:28:00 -0600
Subject: [R-SIG-Mac] R 32-bit suddenly the default on Mountain
	Lion	10.8.2?
In-Reply-To: <50A2A691.80703@stats.ox.ac.uk>
References: <DE8F9528-0009-447C-B346-57A70A5BCC9C@me.com>
	<50A2A691.80703@stats.ox.ac.uk>
Message-ID: <7C77E2A0-62AB-4C9C-B9D9-FDDF0C7CD3C3@me.com>

On Nov 13, 2012, at 1:59 PM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:

> Marc,
> 
> Start with 'which R', or run /usr/bin/R explicitly.  


Hi Prof Ripley,

Thanks.


~  which R
/usr/bin/R


/usr/bin/R called directly launches 32 bit R.


R64 launches 64 bit R as one might expect:

~  ls -l /usr/bin/R64
lrwxr-xr-x  1 root  wheel  49 Nov 13 12:15 /usr/bin/R64 -> /Library/Frameworks/R.framework/Resources/bin/R64


> That should be a symlink to
> 
> /Library/Frameworks/R.framework/Resources/bin/R
> 

~  ls -l /usr/bin/R
lrwxr-xr-x  1 root  wheel  47 Nov 13 12:14 /usr/bin/R -> /Library/Frameworks/R.framework/Resources/bin/R


> and that should be a symlink,  If it is not like
> 
> lrwxr-xr-x  1 root  admin  3 28 Oct 08:03 /Library/Frameworks/R.framework/Resources/bin/R@ -> R64
> 
> or is linked to R32, change it to point to R64.


~  ls -l /Library/Frameworks/R.framework/Resources/bin/R
-rwxrwxr-x  1 root  admin  8775 Oct 26 11:22 /Library/Frameworks/R.framework/Resources/bin/R


> 
> It is the installer which determines what it links to.  Specifically https://svn.r-project.org/R-dev-web/trunk/CRAN/QA/Simon/R-build/packaging/leopard/scripts/postflight .
> 
> If running /Library/Frameworks/R.framework/Resources/bin/R64 is not x86_64, come back to us.


That does run 64 bit R, as expected.

Looks like a key flag in the shell script in SVN is:

~  /usr/sbin/sysctl hw.cpu64bit_capable
hw.cpu64bit_capable: 1


Going to try to work my way through the shell script a bit more, but wanted to get back with this information.

Thanks,

Marc


> 
> Brian
> 
> On 13/11/2012 19:06, Marc Schwartz wrote:
>> Hi All,
>> 
>> I am on a fully updated MacBook Pro, running 10.8.2. I get:
>> 
>> uname -m x86_64
>> 
>> from the terminal, as would be expected.
>> 
>> I have been using the CRAN OSX binaries for some time now, rather
>> than building from source, which I had been doing previously.
>> 
>> Somewhere along the way in the past few weeks, apparently since I
>> installed R 2.15.2, the default architecture under which R is running
>> is now 32 bit, not 64 bit, which was the case previously. I just
>> noted this today due to some funny encoding issues that I had not
>> seen before and have spent the past few hours trying to figure out
>> what changed.
>> 
>> I initially thought something was amiss with the latest 2.15.2
>> release .pkg file. I completely removed R (Framework and symlinks to
>> the startup scripts, etc.) and re-installed. Same thing. 32 bit R was
>> the default link from 'R'.
>> 
>> So I removed R again and re-installed 2.15.1 (getting the older
>> binary from CRAN), since that was the last version of R that I had
>> installed which defaulted to 64 bit.
>> 
>> Funny, same thing, it defaulted to 32 bit R.
>> 
>> Then I wondered if there was something related to some anti-virus
>> software (Avast) that I had recently installed due to some events
>> that had occurred recently. I completely removed the AV software,
>> rebooted, removed R and then re-installed R. Same thing, 32 bit R as
>> the default.
>> 
>> What am I missing here? What is the installation program and/or the R
>> startup script itself looking for that determines whether 64 or 32
>> bit R should the default when one simply uses 'R' to start it up? A
>> read of the R startup script suggests that the output (as above) of
>> 'uname -m' being 'x86_64' may be all that is needed, but perhaps I am
>> missing something else.
>> 
>> I am also attaching the full installation log file here (for 2.15.2).
>> I did not see anything there obvious to my eyes.
>> 
>> I can't recall the timeline well enough right now to consider whether
>> some OSX update changed something, or if there is something strictly
>> unique to my MBP that is causing this problem.
>> 
>> Thanks for any insights.
>> 
>> Regards,
>> 
>> Marc


From bhh at xs4all.nl  Tue Nov 13 21:30:28 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Tue, 13 Nov 2012 21:30:28 +0100
Subject: [R-SIG-Mac] R 32-bit suddenly the default on Mountain Lion
	10.8.2?
In-Reply-To: <3F4863DD-F2C5-4313-8895-387344044DC7@imperial.ac.uk>
References: <DE8F9528-0009-447C-B346-57A70A5BCC9C@me.com>
	<50A2A691.80703@stats.ox.ac.uk>
	<3F4863DD-F2C5-4313-8895-387344044DC7@imperial.ac.uk>
Message-ID: <D97D1D9E-E13A-489E-AA8A-2E8FCAD3F11D@xs4all.nl>


On 13-11-2012, at 21:07, Federico Calboli <f.calboli at imperial.ac.uk> wrote:

> On 13 Nov 2012, at 19:59, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> 
>> Marc,
>> 
>> Start with 'which R', or run /usr/bin/R explicitly.
> 
> $ which R
> /usr/bin/R
> 
> 
>> That should be a symlink to
>> 
>> /Library/Frameworks/R.framework/Resources/bin/R
> 
> it does:
> 
> $ ls -l /usr/bin/R
> lrwxr-xr-x  1 root  wheel  47 28 Oct 10:47 /usr/bin/R@ -> /Library/Frameworks/R.framework/Resources/bin/R
> 
>> 
>> and that should be a symlink,
> 
> it's not:
> 
> $ ls -l /Library/Frameworks/R.framework/Resources/bin/R
> -rwxrwxr-x  1 root  admin  8775 26 Oct 17:22 /Library/Frameworks/R.framework/Resources/bin/R*
> 
> $ ls /Library/Frameworks/R.framework/Resources/bin/R*
> /Library/Frameworks/R.framework/Resources/bin/R*       /Library/Frameworks/R.framework/Resources/bin/Rd2pdf*
> /Library/Frameworks/R.framework/Resources/bin/R32*     /Library/Frameworks/R.framework/Resources/bin/Rdconv*
> /Library/Frameworks/R.framework/Resources/bin/R64*     /Library/Frameworks/R.framework/Resources/bin/Rdiff*
> /Library/Frameworks/R.framework/Resources/bin/REMOVE*  /Library/Frameworks/R.framework/Resources/bin/Rprof*
> /Library/Frameworks/R.framework/Resources/bin/Rcmd*    /Library/Frameworks/R.framework/Resources/bin/Rscript*
> 
> 
> BW
> 
> F

The postflight script tests for 10.6 and 10.7 but not for 10.8.
The relevant  lines are

# some jobs needed specifically on Mac OS X 10.6 (Snow Leopard) and 10.7 (Lion)
if uname -r | grep ^1[01] >/dev/null; then

On 10.8.2 uname -r returns 12.2.0 and that doesn't match the grep test.
It would seem that the test should be grep ^1[012] or grep ^1[0-2] .

Berend


From marc_schwartz at me.com  Tue Nov 13 21:58:52 2012
From: marc_schwartz at me.com (Marc Schwartz)
Date: Tue, 13 Nov 2012 14:58:52 -0600
Subject: [R-SIG-Mac] R 32-bit suddenly the default on Mountain Lion
	10.8.2?
In-Reply-To: <D97D1D9E-E13A-489E-AA8A-2E8FCAD3F11D@xs4all.nl>
References: <DE8F9528-0009-447C-B346-57A70A5BCC9C@me.com>
	<50A2A691.80703@stats.ox.ac.uk>
	<3F4863DD-F2C5-4313-8895-387344044DC7@imperial.ac.uk>
	<D97D1D9E-E13A-489E-AA8A-2E8FCAD3F11D@xs4all.nl>
Message-ID: <B341B5B3-B1FF-4901-8DCE-A20BABF4E36E@me.com>


On Nov 13, 2012, at 2:30 PM, Berend Hasselman <bhh at xs4all.nl> wrote:

> 
> On 13-11-2012, at 21:07, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
> 
>> On 13 Nov 2012, at 19:59, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>> 
>>> Marc,
>>> 
>>> Start with 'which R', or run /usr/bin/R explicitly.
>> 
>> $ which R
>> /usr/bin/R
>> 
>> 
>>> That should be a symlink to
>>> 
>>> /Library/Frameworks/R.framework/Resources/bin/R
>> 
>> it does:
>> 
>> $ ls -l /usr/bin/R
>> lrwxr-xr-x  1 root  wheel  47 28 Oct 10:47 /usr/bin/R@ -> /Library/Frameworks/R.framework/Resources/bin/R
>> 
>>> 
>>> and that should be a symlink,
>> 
>> it's not:
>> 
>> $ ls -l /Library/Frameworks/R.framework/Resources/bin/R
>> -rwxrwxr-x  1 root  admin  8775 26 Oct 17:22 /Library/Frameworks/R.framework/Resources/bin/R*
>> 
>> $ ls /Library/Frameworks/R.framework/Resources/bin/R*
>> /Library/Frameworks/R.framework/Resources/bin/R*       /Library/Frameworks/R.framework/Resources/bin/Rd2pdf*
>> /Library/Frameworks/R.framework/Resources/bin/R32*     /Library/Frameworks/R.framework/Resources/bin/Rdconv*
>> /Library/Frameworks/R.framework/Resources/bin/R64*     /Library/Frameworks/R.framework/Resources/bin/Rdiff*
>> /Library/Frameworks/R.framework/Resources/bin/REMOVE*  /Library/Frameworks/R.framework/Resources/bin/Rprof*
>> /Library/Frameworks/R.framework/Resources/bin/Rcmd*    /Library/Frameworks/R.framework/Resources/bin/Rscript*
>> 
>> 
>> BW
>> 
>> F
> 
> The postflight script tests for 10.6 and 10.7 but not for 10.8.
> The relevant  lines are
> 
> # some jobs needed specifically on Mac OS X 10.6 (Snow Leopard) and 10.7 (Lion)
> if uname -r | grep ^1[01] >/dev/null; then
> 
> On 10.8.2 uname -r returns 12.2.0 and that doesn't match the grep test.
> It would seem that the test should be grep ^1[012] or grep ^1[0-2] .
> 
> Berend


I was just getting around to that section of the script.

I suspect that this is correct and the timing would make sense with my observations here.

Mountain Lion was released on July 25 and I updated shortly thereafter. 

The R 2.15.1 OSX binary is dated June 22, before ML was available, so I would have had that installed under Lion, since I would have updated from 2.15.0 soon after the R OSX binary became available. Thus, 64 bit R would have been the default at that time.

R 2.15.2 was of course released after ML, so that is when the change occurred to 32 bit R. 


Under ML as Berend notes above:

~  uname -r
12.2.0

~  uname -r | grep ^1[012] 
12.2.0


I had sent an initial e-mail to Simon with the information, but he replied from his iPhone that he is away for a couple of weeks sans computer.

In the mean time, I will get in the habit of using 'R64' from the CLI and in ESS.

If there is anything else that is needed, let me know.

Thanks all!

Regards,

Marc


From ripley at stats.ox.ac.uk  Tue Nov 13 22:15:44 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Nov 2012 21:15:44 +0000
Subject: [R-SIG-Mac] R 32-bit suddenly the default on Mountain Lion
	10.8.2?
In-Reply-To: <B341B5B3-B1FF-4901-8DCE-A20BABF4E36E@me.com>
References: <DE8F9528-0009-447C-B346-57A70A5BCC9C@me.com>
	<50A2A691.80703@stats.ox.ac.uk>
	<3F4863DD-F2C5-4313-8895-387344044DC7@imperial.ac.uk>
	<D97D1D9E-E13A-489E-AA8A-2E8FCAD3F11D@xs4all.nl>
	<B341B5B3-B1FF-4901-8DCE-A20BABF4E36E@me.com>
Message-ID: <50A2B880.9020200@stats.ox.ac.uk>

Simon is pretty much off-line, which is why I replied.

I would simply set the R->R64 symlink as the installer would have done 
in SL and Lion.  The things will work as you expected.

Because I have so many flavours of R installed, I make my own links (in 
~/bin, which is on my path).

On 13/11/2012 20:58, Marc Schwartz wrote:
>
> On Nov 13, 2012, at 2:30 PM, Berend Hasselman <bhh at xs4all.nl> wrote:
>
>>
>> On 13-11-2012, at 21:07, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>>
>>> On 13 Nov 2012, at 19:59, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>>
>>>> Marc,
>>>>
>>>> Start with 'which R', or run /usr/bin/R explicitly.
>>>
>>> $ which R
>>> /usr/bin/R
>>>
>>>
>>>> That should be a symlink to
>>>>
>>>> /Library/Frameworks/R.framework/Resources/bin/R
>>>
>>> it does:
>>>
>>> $ ls -l /usr/bin/R
>>> lrwxr-xr-x  1 root  wheel  47 28 Oct 10:47 /usr/bin/R@ -> /Library/Frameworks/R.framework/Resources/bin/R
>>>
>>>>
>>>> and that should be a symlink,
>>>
>>> it's not:
>>>
>>> $ ls -l /Library/Frameworks/R.framework/Resources/bin/R
>>> -rwxrwxr-x  1 root  admin  8775 26 Oct 17:22 /Library/Frameworks/R.framework/Resources/bin/R*
>>>
>>> $ ls /Library/Frameworks/R.framework/Resources/bin/R*
>>> /Library/Frameworks/R.framework/Resources/bin/R*       /Library/Frameworks/R.framework/Resources/bin/Rd2pdf*
>>> /Library/Frameworks/R.framework/Resources/bin/R32*     /Library/Frameworks/R.framework/Resources/bin/Rdconv*
>>> /Library/Frameworks/R.framework/Resources/bin/R64*     /Library/Frameworks/R.framework/Resources/bin/Rdiff*
>>> /Library/Frameworks/R.framework/Resources/bin/REMOVE*  /Library/Frameworks/R.framework/Resources/bin/Rprof*
>>> /Library/Frameworks/R.framework/Resources/bin/Rcmd*    /Library/Frameworks/R.framework/Resources/bin/Rscript*
>>>
>>>
>>> BW
>>>
>>> F
>>
>> The postflight script tests for 10.6 and 10.7 but not for 10.8.
>> The relevant  lines are
>>
>> # some jobs needed specifically on Mac OS X 10.6 (Snow Leopard) and 10.7 (Lion)
>> if uname -r | grep ^1[01] >/dev/null; then
>>
>> On 10.8.2 uname -r returns 12.2.0 and that doesn't match the grep test.
>> It would seem that the test should be grep ^1[012] or grep ^1[0-2] .

Actually, I think it needs to be future-proofed.

>>
>> Berend
>
>
> I was just getting around to that section of the script.
>
> I suspect that this is correct and the timing would make sense with my observations here.
>
> Mountain Lion was released on July 25 and I updated shortly thereafter.
>
> The R 2.15.1 OSX binary is dated June 22, before ML was available, so I would have had that installed under Lion, since I would have updated from 2.15.0 soon after the R OSX binary became available. Thus, 64 bit R would have been the default at that time.
>
> R 2.15.2 was of course released after ML, so that is when the change occurred to 32 bit R.
>
>
> Under ML as Berend notes above:
>
> ~  uname -r
> 12.2.0
>
> ~  uname -r | grep ^1[012]
> 12.2.0
>
>
> I had sent an initial e-mail to Simon with the information, but he replied from his iPhone that he is away for a couple of weeks sans computer.
>
> In the mean time, I will get in the habit of using 'R64' from the CLI and in ESS.
>
> If there is anything else that is needed, let me know.
>
> Thanks all!
>
> Regards,
>
> Marc
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From marc_schwartz at me.com  Tue Nov 13 22:27:04 2012
From: marc_schwartz at me.com (Marc Schwartz)
Date: Tue, 13 Nov 2012 15:27:04 -0600
Subject: [R-SIG-Mac] R 32-bit suddenly the default on Mountain
	Lion	10.8.2?
In-Reply-To: <50A2B880.9020200@stats.ox.ac.uk>
References: <DE8F9528-0009-447C-B346-57A70A5BCC9C@me.com>
	<50A2A691.80703@stats.ox.ac.uk>
	<3F4863DD-F2C5-4313-8895-387344044DC7@imperial.ac.uk>
	<D97D1D9E-E13A-489E-AA8A-2E8FCAD3F11D@xs4all.nl>
	<B341B5B3-B1FF-4901-8DCE-A20BABF4E36E@me.com>
	<50A2B880.9020200@stats.ox.ac.uk>
Message-ID: <BA11BDFE-DFA5-45E1-9FF1-50F71C408CD6@me.com>


On Nov 13, 2012, at 3:15 PM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:

> Simon is pretty much off-line, which is why I replied.


Thank you for doing so.


> I would simply set the R->R64 symlink as the installer would have done in SL and Lion.  The things will work as you expected.


Yeah, that's probably a good idea. Murphy's Law would kick in at some point and I would forget to use 'R64'. :-)

Thanks again,

Marc


> Because I have so many flavours of R installed, I make my own links (in ~/bin, which is on my path).
> 
> On 13/11/2012 20:58, Marc Schwartz wrote:
>> 
>> On Nov 13, 2012, at 2:30 PM, Berend Hasselman <bhh at xs4all.nl> wrote:
>> 
>>> 
>>> On 13-11-2012, at 21:07, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>>> 
>>>> On 13 Nov 2012, at 19:59, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>>> 
>>>>> Marc,
>>>>> 
>>>>> Start with 'which R', or run /usr/bin/R explicitly.
>>>> 
>>>> $ which R
>>>> /usr/bin/R
>>>> 
>>>> 
>>>>> That should be a symlink to
>>>>> 
>>>>> /Library/Frameworks/R.framework/Resources/bin/R
>>>> 
>>>> it does:
>>>> 
>>>> $ ls -l /usr/bin/R
>>>> lrwxr-xr-x  1 root  wheel  47 28 Oct 10:47 /usr/bin/R@ -> /Library/Frameworks/R.framework/Resources/bin/R
>>>> 
>>>>> 
>>>>> and that should be a symlink,
>>>> 
>>>> it's not:
>>>> 
>>>> $ ls -l /Library/Frameworks/R.framework/Resources/bin/R
>>>> -rwxrwxr-x  1 root  admin  8775 26 Oct 17:22 /Library/Frameworks/R.framework/Resources/bin/R*
>>>> 
>>>> $ ls /Library/Frameworks/R.framework/Resources/bin/R*
>>>> /Library/Frameworks/R.framework/Resources/bin/R*       /Library/Frameworks/R.framework/Resources/bin/Rd2pdf*
>>>> /Library/Frameworks/R.framework/Resources/bin/R32*     /Library/Frameworks/R.framework/Resources/bin/Rdconv*
>>>> /Library/Frameworks/R.framework/Resources/bin/R64*     /Library/Frameworks/R.framework/Resources/bin/Rdiff*
>>>> /Library/Frameworks/R.framework/Resources/bin/REMOVE*  /Library/Frameworks/R.framework/Resources/bin/Rprof*
>>>> /Library/Frameworks/R.framework/Resources/bin/Rcmd*    /Library/Frameworks/R.framework/Resources/bin/Rscript*
>>>> 
>>>> 
>>>> BW
>>>> 
>>>> F
>>> 
>>> The postflight script tests for 10.6 and 10.7 but not for 10.8.
>>> The relevant  lines are
>>> 
>>> # some jobs needed specifically on Mac OS X 10.6 (Snow Leopard) and 10.7 (Lion)
>>> if uname -r | grep ^1[01] >/dev/null; then
>>> 
>>> On 10.8.2 uname -r returns 12.2.0 and that doesn't match the grep test.
>>> It would seem that the test should be grep ^1[012] or grep ^1[0-2] .
> 
> Actually, I think it needs to be future-proofed.
> 
>>> 
>>> Berend
>> 
>> 
>> I was just getting around to that section of the script.
>> 
>> I suspect that this is correct and the timing would make sense with my observations here.
>> 
>> Mountain Lion was released on July 25 and I updated shortly thereafter.
>> 
>> The R 2.15.1 OSX binary is dated June 22, before ML was available, so I would have had that installed under Lion, since I would have updated from 2.15.0 soon after the R OSX binary became available. Thus, 64 bit R would have been the default at that time.
>> 
>> R 2.15.2 was of course released after ML, so that is when the change occurred to 32 bit R.
>> 
>> 
>> Under ML as Berend notes above:
>> 
>> ~  uname -r
>> 12.2.0
>> 
>> ~  uname -r | grep ^1[012]
>> 12.2.0
>> 
>> 
>> I had sent an initial e-mail to Simon with the information, but he replied from his iPhone that he is away for a couple of weeks sans computer.
>> 
>> In the mean time, I will get in the habit of using 'R64' from the CLI and in ESS.
>> 
>> If there is anything else that is needed, let me know.
>> 
>> Thanks all!
>> 
>> Regards,
>> 
>> Marc


From friedman at cancercenter.columbia.edu  Wed Nov 14 21:26:47 2012
From: friedman at cancercenter.columbia.edu (Richard Friedman)
Date: Wed, 14 Nov 2012 15:26:47 -0500
Subject: [R-SIG-Mac] switching between 2 versions of R in the GUI
Message-ID: <230EF35D-5A82-464E-9B2E-71437419F555@cancercenter.columbia.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121114/2c227f9e/attachment.pl>

From ripley at stats.ox.ac.uk  Wed Nov 14 22:49:57 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 14 Nov 2012 21:49:57 +0000
Subject: [R-SIG-Mac] switching between 2 versions of R in the GUI
In-Reply-To: <230EF35D-5A82-464E-9B2E-71437419F555@cancercenter.columbia.edu>
References: <230EF35D-5A82-464E-9B2E-71437419F555@cancercenter.columbia.edu>
Message-ID: <50A41205.4030705@stats.ox.ac.uk>

On 14/11/2012 20:26, Richard Friedman wrote:
> Dear R-Sig-mac,
>
> 	I have both the development version of R 2.16
> and R2.15.2 on my Mac (OS 10.7.5). I only have one
> GUI (for R2.16). I can start R windows for the 2
> versions from the command lines. I used to be able to switch with Rswitch
> but i don;t think that works any more. Is there a way I can get separate RGUIs
> for the stable and development versions?

When all else fails, read the FAQ:

'There is even a small GUI utility RSwitch available from the R for Mac 
devel page that allows you to select the desired version. In addition, 
any application embedding R (such as the R GUI) can choose to use a 
specific R version (in most cases) or any version. Note that R.app is 
compiled against a particular version of R and it may crash if RSwitch 
is used to change the version of R in use.'

If just using RSwitch (sic) worked for you for different minor versions 
of R, you were lucky.  It often has not.

You can of course do what you ask by installing (or building) separate 
R.app's (if that is what you mean by 'RGUI') compiled against different 
versions of R and running the appropriate one.  The developers do that 
to test changes to the R.app sources.


>
> Thanks and best wishes,
> Rich
> Richard A. Friedman, PhD
> Associate Research Scientist,
> Biomedical Informatics Shared Resource
> Herbert Irving Comprehensive Cancer Center (HICCC)
> Lecturer,
> Department of Biomedical Informatics (DBMI)
> Educational Coordinator,
> Center for Computational Biology and Bioinformatics (C2B2)/
> National Center for Multiscale Analysis of Genomic Networks (MAGNet)
> Room 824
> Irving Cancer Research Center
> Columbia University
> 1130 St. Nicholas Ave
> New York, NY 10032
> (212)851-4765 (voice)
> friedman at cancercenter.columbia.edu
> http://cancercenter.columbia.edu/~friedman/
>
> In memoriam, Ray Bradbury
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From friedman at cancercenter.columbia.edu  Wed Nov 14 22:58:54 2012
From: friedman at cancercenter.columbia.edu (Richard Friedman)
Date: Wed, 14 Nov 2012 16:58:54 -0500
Subject: [R-SIG-Mac] switching between 2 versions of R in the GUI
In-Reply-To: <50A41205.4030705@stats.ox.ac.uk>
References: <230EF35D-5A82-464E-9B2E-71437419F555@cancercenter.columbia.edu>
	<50A41205.4030705@stats.ox.ac.uk>
Message-ID: <5B2E32D3-F694-4381-9763-7EDA17228C19@cancercenter.columbia.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121114/2c684da5/attachment.pl>

From friedman at cancercenter.columbia.edu  Wed Nov 14 23:37:51 2012
From: friedman at cancercenter.columbia.edu (Richard Friedman)
Date: Wed, 14 Nov 2012 17:37:51 -0500
Subject: [R-SIG-Mac] [Bioc-devel] error message upon installing
	easyRNASeq PLUS OTHER QUESTION
In-Reply-To: <CAHA9McNWEMvAvCMfWENSQ9MsK84ozx2CuzN0xqsU6xENpTVWAw@mail.gmail.com>
References: <8ED75643-4DAA-41A5-80F2-A303E0C7A6DD@cancercenter.columbia.edu>
	<CAHA9McPyv4B+df06nUEmLZjs7Loz_wYjSHkwbe0a4gLdh9K3FQ@mail.gmail.com>
	<174ED691-7559-4685-BAD0-9CE59D0D6974@cancercenter.columbia.edu>
	<CAHA9McOLOCBF0Qk5o7V-Mi3RdoOEJF1sYD=AN_y+8pjpwTi3ow@mail.gmail.com>
	<84849065-3EA2-4283-A974-2E36FBC72A3D@cancercenter.columbia.edu>
	<CAF42j23Kig5M84qvyGAvQiE57_s5bwz2X5ES5Z7OqndVfj0CzA@mail.gmail.com>
	<CAHA9McNWEMvAvCMfWENSQ9MsK84ozx2CuzN0xqsU6xENpTVWAw@mail.gmail.com>
Message-ID: <579523AA-3592-4ABF-A718-FC326D685539@cancercenter.columbia.edu>


On Nov 14, 2012, at 5:18 PM, Steve Lianoglou wrote:

> =
> I think Simon's server recently had a run in with a bad HD and lots of
> link are dead -- it seems RSwitch is broken there.
> 
> I zipped RSwitch.app and put it here:
> http://cbio.mskcc.org/~lianos/files/bioc/RSwitch.app.zip
> 
> So you can try that if you like -- I'm going to take that down by,
> say, some time tomorrow, though.

Steve,

	Thanks. It worked. I am writing both bioc-devel and R-sig -mac
to bring closure.

Best wishes,
Rich


From paul.hewson at plymouth.ac.uk  Thu Nov 15 12:12:29 2012
From: paul.hewson at plymouth.ac.uk (Paul Hewson)
Date: Thu, 15 Nov 2012 11:12:29 +0000
Subject: [R-SIG-Mac] Naive question about permissions
In-Reply-To: <B391E6E5-9703-451A-A2FE-8AF56D0973D4@r-project.org>
References: <330A89F6-F0A8-4E60-9181-004477083BF3@plymouth.ac.uk>
	<DE6BDDA9-1A80-4609-8BF1-C92D445FE442@r-project.org>
	<E3EBEF8C-EA6A-4DD0-B94A-86643372160A@plymouth.ac.uk>,
	<50820F00.1010602@stat.ubc.ca>
	<D316C48934DDC340AEC96EF223BC53C984E13E8B95@ILS130.uopnet.plymouth.ac.uk>
	<B391E6E5-9703-451A-A2FE-8AF56D0973D4@r-project.org>
Message-ID: <50A4CE1D.6070501@plymouth.ac.uk>

Dear All,
Sorry for cluttering up the list and whatnot, and thanks for the
support.   As noted, the clue was in the PopUp menu telling me I
couldn't use R.

On the offchance someone in the future hits this email trail, I've been
told by the sysadmin who fixed this:

"I simply allowed the frameworks and commands to be able to run as they
are not in the normal path.  The /usr/bin/R  is alias to inside the
frameworks folder in /Library, and not /usr/bin on /Volumes/System/"

Best

Paul

On 20/10/12 13:34, Simon Urbanek wrote:
> 
> On Oct 20, 2012, at 1:40 AM, Paul Hewson wrote:
> 
>> Thanks very much all, I'm still sure this is mac naivety on my part,
> but I'm still curious how I've managed to foul up what seems like such a
> simple procedure.
>>
>>
>> John's longer point - I'm going to check out removing and
> re-installing.   I had to enter a system password and checkbox that I
> wanted all users to be able to use R.   I can certainly use R GUI as
> myself so don't entirely understand how I gave R gui different
> ownerships/permissions that R console.
>>
>> Regarding the other questions (my naive and presumably wrong thought
> was that I need to put myself as a user in group admin, but I'm not sure
> that's entirely correct).
>>
>>
>> John's question
>> R.home() gives
>> "/Library/Frameworks/R.framework/Resources"
>> Checking permissions gives
>> pm6-0068:~ phewson$ ls -l /Library/Frameworks/R.framework
>> total 40
>> lrwxr-xr-x  1 root  admin   24 18 Oct 11:16 Headers ->
> Versions/Current/Headers
>> lrwxr-xr-x  1 root  admin   30 18 Oct 11:16 Libraries ->
> Versions/Current/Resources/lib
>> lrwxr-xr-x  1 root  admin   31 18 Oct 11:16 PrivateHeaders ->
> Versions/Current/PrivateHeaders
>> lrwxr-xr-x  1 root  admin   18 18 Oct 11:16 R -> Versions/Current/R
>> lrwxr-xr-x  1 root  admin   26 18 Oct 11:16 Resources ->
> Versions/Current/Resources
>> drwxrwxr-x  5 root  admin  170 18 Oct 21:22 Versions
>>
>>
>> Simon's question, yes typing R in the console gives me a the dialog
> box, but the console does also gives me the following:
>> /usr/bin/R: line 259:
> /Library/Frameworks/R.framework/Resources/bin/exec/x86_64/R: Permission
> denied
>> /usr/bin/R: line 259:
> /Library/Frameworks/R.framework/Resources/bin/exec/x86_64/R: Undefined
> error:
>> (same for R vanilla)
>>
> 
> Are you running any anti-virus software or other haxxies? The thing is
> that R will not show any dialog box since it is a console tool, so the
> dialog box has to come from some other software that may be causing the
> issue in the first place ...
> 
> 
>> Davor's question yields:
>> phewson$ ls -l /Library/Frameworks/R.framework/Resources/bin
>> total 10176
>> -rwxrwxr-x  1 root  admin     1828 22 Jun 20:16 BATCH
>> -rwxrwxr-x  1 root  admin     2112 22 Jun 20:16 COMPILE
>> -rwxrwxr-x  1 root  admin      823 22 Jun 20:16 INSTALL
>> -rwxrwxr-x  1 root  admin     1579 22 Jun 20:16 LINK
>> lrwxr-xr-x  1 root  admin        3 18 Oct 11:18 R -> R64
>> -rwxrwxr-x  1 root  admin     8773 18 Oct 11:18 R32
>> -rwxrwxrwx  1 root  admin     8775 18 Oct 11:18 R64
>> -rwxrwxr-x  1 root  admin      158 22 Jun 20:16 REMOVE
>> -rwxrwxr-x  1 root  admin     1374 22 Jun 20:16 Rcmd
>> -rwxrwxr-x  1 root  admin      312 22 Jun 20:16 Rd2pdf
>> -rwxrwxr-x  1 root  admin      359 22 Jun 20:16 Rdconv
>> -rwxrwxr-x  1 root  admin      258 22 Jun 20:16 Rdiff
>> -rwxrwxr-x  1 root  admin      310 22 Jun 20:16 Rprof
>> -rwxrwxr-x  1 root  admin    37992 22 Jun 20:18 Rscript
>> -rwxrwxr-x  1 root  admin      155 22 Jun 20:16 SHLIB
>> -rwxrwxr-x  1 root  admin      318 22 Jun 20:16 Stangle
>> -rwxrwxr-x  1 root  admin      316 22 Jun 20:16 Sweave
>> -rwxrwxr-x  1 root  admin    41048  5 Nov  2011 arch
>> -rwxrwxr-x  1 root  admin      317 22 Jun 20:16 build
>> -rwxrwxr-x  1 root  admin      317 22 Jun 20:16 check
>> -rwxrwxr-x  1 root  admin     7486 22 Jun 20:16 config
>> drwxrwxr-x  4 root  admin      136 22 Jun 20:16 exec
>> -rwxrwxr-x  1 root  admin     3600 22 Jun 20:16 f77_f2c
>> -rwxrwxr-x  1 root  admin  2326336 22 Jun 20:18 fc-cache
>> -rwxrwxr-x  1 root  admin    13760 22 Jun 20:16 javareconf
>> -rwxrwxr-x  1 root  admin   274347 22 Jun 20:16 libtool
>> -rwxrwxr-x  1 root  admin     3494 22 Jun 20:16 mkinstalldirs
>> -rwxrwxr-x  1 root  admin      413 22 Jun 20:16 pager
>> -rwxrwxr-x  1 root  admin  2385276 22 Jun 20:18 qpdf
>> -rwxrwxr-x  1 root  admin     4121 22 Jun 20:16 rtags
>>
>> Best
>> paul
>> -=-=-=-=-=-=-=-=-=-=-=-=
>> Dr. Paul Hewson
>> Editor, Teaching Statistics (www.teachingstatistics.co.uk)
>> Associate Professor (Senior Lecturer) in Statistics
>> School of Computing and Mathematics
>> University of Plymouth
>> Drake Circus
>> Plymouth PL4 8AA
>>
>> tel (01752) 586870
>> fax (01752) 586900
>> VoIP: sip:pjhewson at ekiga.net
>>
>> email: paul.hewson at plymouth.ac.uk
>> web: http://www.plymouth.ac.uk/staff/phewson
>> -=-=-=-=-=-=-=-=-=-=-=-=
>> ________________________________________
>> From: Davor Cubranic [cubranic at stat.ubc.ca]
>> Sent: 20 October 2012 03:40
>> To: Paul Hewson
>> Cc: r-sig-mac at r-project.org
>> Subject: Re: [R-SIG-Mac] Naive question about permissions
>>
>> On 12-10-19 02:28 PM, Paul Hewson wrote:
>>> As I say, I think I've tracked the symlink itself as well as the
>>> files it links to /usr/bin/R is itself a symlink to R64.    All three
>>> users have an x when you do ls -l , they don't all have r and w.
>>
>> Can you show us the output of running:
>> ls -l /Library/Frameworks/R.framework/Resources/bin
>>
>> Davor
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
> 

-- 
=+=+=+=+=+=+=+=+=+=+=+=
Dr Paul Hewson
Editor, Teaching Statistics (www.teachingstatistics.co.uk)
Associate Professor (SL) Statistics
School of Computing & Maths
Plymouth University
Drake Circus
Plymouth PL4 8AA
++44 (0)1752 586870


From pjpuglia at earthlink.net  Fri Nov 16 05:57:53 2012
From: pjpuglia at earthlink.net (Paul Puglia)
Date: Thu, 15 Nov 2012 23:57:53 -0500
Subject: [R-SIG-Mac] What's up with RSwitch
Message-ID: <007d01cdc3b6$efd91d20$cf8b5760$@earthlink.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121115/4ad419e4/attachment.pl>

From murdoch.duncan at gmail.com  Fri Nov 16 13:40:48 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Fri, 16 Nov 2012 07:40:48 -0500
Subject: [R-SIG-Mac] What's up with RSwitch
In-Reply-To: <007d01cdc3b6$efd91d20$cf8b5760$@earthlink.net>
References: <007d01cdc3b6$efd91d20$cf8b5760$@earthlink.net>
Message-ID: <50A63450.7060409@gmail.com>

On 12-11-15 11:57 PM, Paul Puglia wrote:
> As anybody successfully downloaded the RSwitch gui at r.research.att.com
> recently?   I've tried to download both the .dmg and source files for the
> last week, and I all I get is a "Not Found" message.   Does anybody know how
> to contact RSwitch's maintainers?

I think Simon Urbanek wrote that, and he is offline for a couple of 
weeks.  You might be lucky and still be able to get a copy from here, 
though:

>
> On Nov 14, 2012, at 5:18 PM, Steve Lianoglou wrote:
>
>> > =
>> > I think Simon's server recently had a run in with a bad HD and lots of
>> > link are dead -- it seems RSwitch is broken there.
>> >
>> > I zipped RSwitch.app and put it here:
>> > http://cbio.mskcc.org/~lianos/files/bioc/RSwitch.app.zip
>> >
>> > So you can try that if you like -- I'm going to take that down by,
>> > say, some time tomorrow, though.


or you could check archive.org.

Duncan Murdoch


From ripley at stats.ox.ac.uk  Fri Nov 16 14:39:15 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 16 Nov 2012 13:39:15 +0000
Subject: [R-SIG-Mac] What's up with RSwitch
In-Reply-To: <50A63450.7060409@gmail.com>
References: <007d01cdc3b6$efd91d20$cf8b5760$@earthlink.net>
	<50A63450.7060409@gmail.com>
Message-ID: <50A64203.1040308@stats.ox.ac.uk>

On 16/11/2012 12:40, Duncan Murdoch wrote:
> On 12-11-15 11:57 PM, Paul Puglia wrote:
>> As anybody successfully downloaded the RSwitch gui at r.research.att.com
>> recently?   I've tried to download both the .dmg and source files for the
>> last week, and I all I get is a "Not Found" message.   Does anybody
>> know how
>> to contact RSwitch's maintainers?
>
> I think Simon Urbanek wrote that, and he is offline for a couple of
> weeks.  You might be lucky and still be able to get a copy from here,
> though:

It is probably worse that that: a lot of the contents of 
r.research.att.com got lost and in some cases Simon does not have 
copies.  I've put my copy of the .dmg at 
http://www.stats.ox.ac.uk/pub/R/: there are a couple of other files 
there which were recently missing from r.research.att.com.

>
>>
>> On Nov 14, 2012, at 5:18 PM, Steve Lianoglou wrote:
>>
>>> > =
>>> > I think Simon's server recently had a run in with a bad HD and lots of
>>> > link are dead -- it seems RSwitch is broken there.
>>> >
>>> > I zipped RSwitch.app and put it here:
>>> > http://cbio.mskcc.org/~lianos/files/bioc/RSwitch.app.zip
>>> >
>>> > So you can try that if you like -- I'm going to take that down by,
>>> > say, some time tomorrow, though.
>
>
> or you could check archive.org.
>
> Duncan Murdoch
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From pjpuglia at earthlink.net  Sat Nov 17 00:09:40 2012
From: pjpuglia at earthlink.net (Paul Puglia)
Date: Fri, 16 Nov 2012 18:09:40 -0500
Subject: [R-SIG-Mac] What's up with RSwitch
In-Reply-To: <50A64203.1040308@stats.ox.ac.uk>
References: <007d01cdc3b6$efd91d20$cf8b5760$@earthlink.net>
	<50A63450.7060409@gmail.com> <50A64203.1040308@stats.ox.ac.uk>
Message-ID: <00f501cdc44f$75644b20$602ce160$@earthlink.net>

Brian/Duncan,

Thanks for the replies and the copies of RSwitch.app!

Paul

-----Original Message-----
From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk] 
Sent: Friday, November 16, 2012 8:39 AM
To: Duncan Murdoch
Cc: Paul Puglia; r-sig-mac at r-project.org
Subject: Re: [R-SIG-Mac] What's up with RSwitch

On 16/11/2012 12:40, Duncan Murdoch wrote:
> On 12-11-15 11:57 PM, Paul Puglia wrote:
>> As anybody successfully downloaded the RSwitch gui at r.research.att.com
>> recently?   I've tried to download both the .dmg and source files for the
>> last week, and I all I get is a "Not Found" message.   Does anybody
>> know how
>> to contact RSwitch's maintainers?
>
> I think Simon Urbanek wrote that, and he is offline for a couple of 
> weeks.  You might be lucky and still be able to get a copy from here,
> though:

It is probably worse that that: a lot of the contents of r.research.att.com
got lost and in some cases Simon does not have copies.  I've put my copy of
the .dmg at
http://www.stats.ox.ac.uk/pub/R/: there are a couple of other files there
which were recently missing from r.research.att.com.

>
>>
>> On Nov 14, 2012, at 5:18 PM, Steve Lianoglou wrote:
>>
>>> > =
>>> > I think Simon's server recently had a run in with a bad HD and 
>>> > lots of link are dead -- it seems RSwitch is broken there.
>>> >
>>> > I zipped RSwitch.app and put it here:
>>> > http://cbio.mskcc.org/~lianos/files/bioc/RSwitch.app.zip
>>> >
>>> > So you can try that if you like -- I'm going to take that down by, 
>>> > say, some time tomorrow, though.
>
>
> or you could check archive.org.
>
> Duncan Murdoch
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From solis.sm at gmail.com  Mon Nov 19 18:19:14 2012
From: solis.sm at gmail.com (Silvia SM)
Date: Mon, 19 Nov 2012 11:19:14 -0600
Subject: [R-SIG-Mac] Problem loading tcltk interface
Message-ID: <E6FFEA4E-FC55-463A-8D5C-140FE5A6C1C2@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121119/4c3f3c9b/attachment.pl>

From rayd at liondatasystems.com  Mon Nov 19 18:39:49 2012
From: rayd at liondatasystems.com (Ray DiGiacomo, Jr.)
Date: Mon, 19 Nov 2012 09:39:49 -0800
Subject: [R-SIG-Mac] Problem loading tcltk interface
In-Reply-To: <E6FFEA4E-FC55-463A-8D5C-140FE5A6C1C2@gmail.com>
References: <E6FFEA4E-FC55-463A-8D5C-140FE5A6C1C2@gmail.com>
Message-ID: <CACT39Na9F63C-5Ka5hxNYq-3HZBNUF3VgUEOMYYJFpggZYmrtQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121119/08f1914d/attachment.pl>

From solis.sm at gmail.com  Sun Nov 18 21:19:17 2012
From: solis.sm at gmail.com (Silvia SM)
Date: Sun, 18 Nov 2012 14:19:17 -0600
Subject: [R-SIG-Mac] Problem loading tcl/tk interface on R for Mac
Message-ID: <36233FC4-BB75-4F71-BCAF-5CAF45CFDB8C@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121118/d7b2afe0/attachment.pl>

From drabosky at umich.edu  Thu Nov 15 13:53:11 2012
From: drabosky at umich.edu (Dan Rabosky)
Date: Thu, 15 Nov 2012 07:53:11 -0500
Subject: [R-SIG-Mac] phantom text in console with R 2.15.2
Message-ID: <EEEA5974-7964-4B54-8A2E-0BF241319C45@umich.edu>


Hi All-

I have noticed a curious phenomenon since upgrading to R 2.15.2. I can't even consistently replicate the problem, but I will describe it as best as possible. I get "ghost text" in my R console echoing the names of variables that I am returning from functions. This occurs even when I am not calling the function but is observed simply after loading the functions into my workspace via source(....). Suppose I have a file "myFunctions.R", with a function like this:

myFunction <- function(){
	obj <- doSomething()
	class(obj) <- 'SomeClass'
	return(obj)
}

Upon sourcing the file (with source(...)), and sometimes upon executing the function itself, I sometimes (but not consistently) observe background gray text in console like this:

>source('myFunctions.R')
obj  > 

where "obj" is printed in gray (but this color is presumably dependent on R preferences...in any event, it is clearly distinct from font colors associated with printed return values, command line input, and error/warning messages). And sometimes when I execute the function (in a simulation or otherwise), I can get long streams of this that appear to be echoing the local (within-function) name of the returned variable, e.g.:

> source('mySimulationScript.R') # run a script file that iteratively calls myFunction(..)
obj 
obj
obj
obj
obj
obj
obj
obj
obj
obj  > ## the next R prompt: note displacement to right of phantom "obj" text

This looks identical to the screen text you can observe in an R console when running system commands with system(...), e.g., echoing terminal output to R console. 

Again, I can't even consistently replicate this. But I only observe the issue with R 2.15.2 (running the same code on R 2.15.1 does not lead to this behavior). I'm running R 2.15.2 on OSX 10.7.5:

> sessionInfo()
R version 2.15.2 (2012-10-26)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

loaded via a namespace (and not attached):
[1] tools_2.15.2

~Dan Rabosky

_____________________
Dan Rabosky
Assistant Professor
Dept of Ecology and Evolutionary Biology
& Museum of Zoology
University of Michigan


From silvia at elremanso.com  Mon Nov 19 20:53:19 2012
From: silvia at elremanso.com (Silvia Solis)
Date: Mon, 19 Nov 2012 13:53:19 -0600
Subject: [R-SIG-Mac] Problem loading tcltk interface
In-Reply-To: <CACT39Na9F63C-5Ka5hxNYq-3HZBNUF3VgUEOMYYJFpggZYmrtQ@mail.gmail.com>
References: <E6FFEA4E-FC55-463A-8D5C-140FE5A6C1C2@gmail.com>
	<CACT39Na9F63C-5Ka5hxNYq-3HZBNUF3VgUEOMYYJFpggZYmrtQ@mail.gmail.com>
Message-ID: <884DEE6A-178F-4870-955D-C17F1E41DBF9@elremanso.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121119/fe7ee9b4/attachment.pl>

From dwinsemius at comcast.net  Mon Nov 19 21:20:41 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 19 Nov 2012 12:20:41 -0800
Subject: [R-SIG-Mac] Problem loading tcltk interface
In-Reply-To: <884DEE6A-178F-4870-955D-C17F1E41DBF9@elremanso.com>
References: <E6FFEA4E-FC55-463A-8D5C-140FE5A6C1C2@gmail.com>
	<CACT39Na9F63C-5Ka5hxNYq-3HZBNUF3VgUEOMYYJFpggZYmrtQ@mail.gmail.com>
	<884DEE6A-178F-4870-955D-C17F1E41DBF9@elremanso.com>
Message-ID: <D289A076-054F-47D2-8905-B4FF4E08075A@comcast.net>


On Nov 19, 2012, at 11:53 AM, Silvia Solis wrote:

> Hello Ray,
>
> Thanks a lot! it work perfectly.  In the R FAQ for Mac is not well  
> explain, or couldn't understand. I also download the XQuarts 2.7.4  
> (xorg-server 1.13.0), I need it to use the quarts devices when  
> plotting?

The quartz device (which is the default)  should come as part of the  
Mac grDevices package and needs no extra effort at installation.  
XQuartz package is the support for the X11 output which is called as a  
device with x11().

-- 
David.


>
> Thanks again,
>
> Silvia
>
>
> El 19/11/2012, a las 11:39, "Ray DiGiacomo, Jr." <rayd at liondatasystems.com 
> > escribi?:
>
>> Hi Silvia,
>>
>> You may need to install this app first:
>>
>> http://socserv.mcmaster.ca/jfox/Courses/soc3h6/tcltk-8.5.5-x11.dmg
>>
>> Best Regards,
>>
>> Ray DiGiacomo, Jr.
>> Healthcare Predictive Analytics Specialist
>> Master R Trainer
>> President, Lion Data Systems LLC
>> President, The Orange County R User Group
>> Board Member, TDWI
>> rayd at liondatasystems.com
>> (m) 408-425-7851
>> San Juan Capistrano, California USA
>> twitter.com/liondatasystems
>> linkedin.com/in/raydigiacomojr
>> youtube.com/user/liondatasystems/videos
>>
>> Check out my one-on-one web-based R Training Courses at  
>> liondatasystems.com/courses
>>
>>
>>
>>
>>
>>
>>
>> On Mon, Nov 19, 2012 at 9:19 AM, Silvia SM <solis.sm at gmail.com>  
>> wrote:
>> Hello,
>>
>> Maybe someone can help me, I just switch to Mac (from PC) and now  
>> I'm trying to run all the packages that I used on my prior  
>> computer.  I've been trying to load the tcl/tk interface to run  
>> tkplots but every time I try I get the message below, and  
>> instructions to close or abort R.
>>
>> I'm sending also info might be useful about the session.
>>
>>> sessionInfo()
>> R version 2.15.2 (2012-10-26)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets
>> [6] methods   base
>>
>> other attached packages:
>> [1] igraph_0.6-3
>>
>> MacOS 10.8
>>
>> And I couldn't find the gcc version.
>>
>>
>>> library(tcltk)
>> Loading Tcl/Tk interface ...
>> *** caught segfault ***
>> address 0x20044, cause 'memory not mapped'
>>
>> Traceback:
>> 1: sys.nframe()
>> 2: dynGet("__NameSpacesLoading__", NULL)
>> 3: loadNamespace(package, c(which.lib.loc, lib.loc))
>> 4: doTryCatch(return(expr), name, parentenv, handler)
>> 5: tryCatchOne(expr, names, parentenv, handlers[[1L]])
>> 6: tryCatchList(expr, classes, parentenv, handlers)
>> 7: tryCatch(expr, error = function(e) {    call <-  
>> conditionCall(e)    if (!is.null(call)) {        if  
>> (identical(call[[1L]], quote(doTryCatch)))             call <-  
>> sys.call(-4L)        dcall <- deparse(call)[1L]        prefix <-  
>> paste("Error in", dcall, ": ")        LONG <- 75L        msg <-  
>> conditionMessage(e)        sm <- strsplit(msg, "\n")[[1L]]        w  
>> <- 14L + nchar(dcall, type = "w") + nchar(sm[1L], type =  
>> "w")        if (is.na(w))             w <- 14L + nchar(dcall, type  
>> = "b") + nchar(sm[1L],                 type = "b")        if (w >  
>> LONG)             prefix <- paste0(prefix, "\n  ")    }    else  
>> prefix <- "Error : "    msg <- paste0(prefix, conditionMessage(e),  
>> "\n")    .Internal(seterrmessage(msg[1L]))    if (!silent &&  
>> identical(getOption("show.error.messages"),         TRUE))  
>> {        cat(msg, file =  
>> stderr())        .Internal(printDeferredWarnings())    }     
>> invisible(structure(msg, class = "try-error", condition = e))})
>> 8: try({    ns <- loadNamespace(package, c(which.lib.loc,  
>> lib.loc))    dataPath <- file.path(which.lib.loc, package,  
>> "data")    env <- attachNamespace(ns, pos = pos, dataPath =  
>> dataPath,         deps)})
>> 9: library(igraph)
>>
>> Possible actions:
>> 1: abort (with core dump, if enabled)
>> 2: normal R exit
>> 3: exit R without saving workspace
>> 4: exit R saving workspace
>>
>>>
>> Selection:
>>
>>
>> Best,
>>
>> Silvia
>>        [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Alameda, CA, USA


From rayd at liondatasystems.com  Mon Nov 19 21:48:41 2012
From: rayd at liondatasystems.com (Ray DiGiacomo, Jr.)
Date: Mon, 19 Nov 2012 12:48:41 -0800
Subject: [R-SIG-Mac] Problem loading tcltk interface
In-Reply-To: <D289A076-054F-47D2-8905-B4FF4E08075A@comcast.net>
References: <E6FFEA4E-FC55-463A-8D5C-140FE5A6C1C2@gmail.com>
	<CACT39Na9F63C-5Ka5hxNYq-3HZBNUF3VgUEOMYYJFpggZYmrtQ@mail.gmail.com>
	<884DEE6A-178F-4870-955D-C17F1E41DBF9@elremanso.com>
	<D289A076-054F-47D2-8905-B4FF4E08075A@comcast.net>
Message-ID: <CACT39NZZxr2qpHCyQricDg9SAGfHE7m4KO9s_fUh7dLF+zNT8w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121119/8feb025a/attachment.pl>

From alexandra_rao at uqar.ca  Mon Nov 19 22:08:42 2012
From: alexandra_rao at uqar.ca (Alexandra Rao)
Date: Mon, 19 Nov 2012 16:08:42 -0500
Subject: [R-SIG-Mac] Quartz device options
Message-ID: <50AA9FDA.6010705@uqar.ca>

Hi,

I've been trying to modify the font used in Quartz devices, from the 
default setting Helvetica to Times New Roman, using

 > quartz.options(family="Times")

While the option appears to have been changed to Times, plots still show 
up with the Default font settings. Any suggestions?

Cheers,
Alex Rao

-- 
Assistant Professor in Chemical Oceanography
Universit? du Qu?bec ? Rimouski (UQAR)
Institut des sciences de la mer (ISMER)
310 all?e des Ursulines. C.P. 3300
Rimouski, Qc, Canada, G5L 3A1

Tel : 418.723.1986 Poste 1488
Fax : 418.724.1842


From dwinsemius at comcast.net  Mon Nov 19 22:51:09 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 19 Nov 2012 13:51:09 -0800
Subject: [R-SIG-Mac] Quartz device options
In-Reply-To: <50AA9FDA.6010705@uqar.ca>
References: <50AA9FDA.6010705@uqar.ca>
Message-ID: <04987CD1-2797-4255-9CB3-D4DBD59487B5@comcast.net>


On Nov 19, 2012, at 1:08 PM, Alexandra Rao wrote:

> Hi,
> 
> I've been trying to modify the font used in Quartz devices, from the default setting Helvetica to Times New Roman, using
> 
> > quartz.options(family="Times")
> 
> While the option appears to have been changed to Times, plots still show up with the Default font settings. Any suggestions?

Shouldn't you be trying to emulate the examples in:

?quartzFonts

-- 

David Winsemius, MD
Alameda, CA, USA


From rmh at temple.edu  Fri Nov 23 23:23:44 2012
From: rmh at temple.edu (Richard M. Heiberger)
Date: Fri, 23 Nov 2012 17:23:44 -0500
Subject: [R-SIG-Mac] problem in quartz with emacs/ESS
Message-ID: <CAGx1TMD+QY=HX98CCLhWnUGjD6p6ahAomtE9q+oeimsDpP6MQw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121123/1cb2147e/attachment.pl>

From erich.neuwirth at univie.ac.at  Sat Nov 24 00:17:23 2012
From: erich.neuwirth at univie.ac.at (Neuwirth Erich)
Date: Sat, 24 Nov 2012 00:17:23 +0100
Subject: [R-SIG-Mac] problem in quartz with emacs/ESS
In-Reply-To: <CAGx1TMD+QY=HX98CCLhWnUGjD6p6ahAomtE9q+oeimsDpP6MQw@mail.gmail.com>
References: <CAGx1TMD+QY=HX98CCLhWnUGjD6p6ahAomtE9q+oeimsDpP6MQw@mail.gmail.com>
Message-ID: <488EA79F-F889-4154-8057-485A5A6F2A76@univie.ac.at>

The example prints without anyt problems on my HP Color LaserJet CP2025n

Perhaps it is a problem with your printer driver.

On Nov 23, 2012, at 11:23 PM, "Richard M. Heiberger" <rmh at temple.edu> wrote:

> I think this is a quartz problem interacting with emacs/ESS.  When I run the
> following lines in the *R* buffer,
> 
> ## ----------
> library(grid)
> library(lattice)
> library(png)
> 
> Rlogo.png  <-
> readPNG("/Library/Frameworks/R.framework/Versions/2.15/Resources/library/png/img/Rlogo.png",
> TRUE)
> 
> Rlogo.grob <- rasterGrob(Rlogo.png, width=unit(.64,"in"), y=unit(0,"npc"))
> Rlogo.legend <- list(left=list(fun=Rlogo.grob))
> 
> ## example
> xyplot(1:10 ~ 1:10, legend=Rlogo.legend)
> ## ----------
> 
> 
> the plot shows up on the quartz device ok.  When I print from the quartz
> device, the sample image
> in the print window has two superimposed graphs.  One is the actual image.
> The other is
> an upside down mirror image about twice as big.  The printed page shows the
> doubled image.
> 
> When I print directly to the pdf() device on the Mac, it behaves normally.
> When I run the same lines above on the windows() device in Windows, it also
> behaves ok.
> When I run the same lines from the R gui on the Mac, it behaves normally.
> 
> I saw this first with R version 2.15.2 RC (2012-10-18 r60960) and
> then when I updated a few minutes ago to
> R version 2.15.2 (2012-10-26) -- "Trick or Treat", I still see it.
> 
> Sometimes, when I attempt to print from the quartz device while running
> under ESS,
> I get the pinwheel and this message in the *R* buffer.
>> Error: REAL() can only be applied to a 'numeric', not a 'NULL'
> 
> Killing R is the only recourse at this point.
> 
> Rich
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From erich.neuwirth at univie.ac.at  Sat Nov 24 13:47:23 2012
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Sat, 24 Nov 2012 13:47:23 +0100
Subject: [R-SIG-Mac] problem in quartz with emacs/ESS
In-Reply-To: <CAGx1TMAOGjb5ys8+W6cAOA6cyrzZ5b_tM7Ge0vhK2-62nop+Gg@mail.gmail.com>
References: <CAGx1TMD+QY=HX98CCLhWnUGjD6p6ahAomtE9q+oeimsDpP6MQw@mail.gmail.com>
	<488EA79F-F889-4154-8057-485A5A6F2A76@univie.ac.at>
	<CAGx1TMAOGjb5ys8+W6cAOA6cyrzZ5b_tM7Ge0vhK2-62nop+Gg@mail.gmail.com>
Message-ID: <58171F1C-A004-43E2-9F59-C6BDFF25053D@univie.ac.at>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121124/e68d0c2b/attachment.pl>

From erich.neuwirth at univie.ac.at  Sat Nov 24 13:53:39 2012
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Sat, 24 Nov 2012 13:53:39 +0100
Subject: [R-SIG-Mac] problem in quartz with emacs/ESS
In-Reply-To: <CAGx1TMD+QY=HX98CCLhWnUGjD6p6ahAomtE9q+oeimsDpP6MQw@mail.gmail.com>
References: <CAGx1TMD+QY=HX98CCLhWnUGjD6p6ahAomtE9q+oeimsDpP6MQw@mail.gmail.com>
Message-ID: <0D7AE10C-0FCE-47C6-92C5-A790D411E9D0@univie.ac.at>

From Emacs, I did see the problem.
But switching printer drivers back and forth on the print dialog made the spurious image disappear.


On Nov 23, 2012, at 11:23 PM, Richard M. Heiberger <rmh at temple.edu> wrote:

> I think this is a quartz problem interacting with emacs/ESS.  When I run the
> following lines in the *R* buffer,
> 
> ## ----------
> library(grid)
> library(lattice)
> library(png)
> 
> Rlogo.png  <-
> readPNG("/Library/Frameworks/R.framework/Versions/2.15/Resources/library/png/img/Rlogo.png",
> TRUE)
> 
> Rlogo.grob <- rasterGrob(Rlogo.png, width=unit(.64,"in"), y=unit(0,"npc"))
> Rlogo.legend <- list(left=list(fun=Rlogo.grob))
> 
> ## example
> xyplot(1:10 ~ 1:10, legend=Rlogo.legend)
> ## ----------
> 
> 
> the plot shows up on the quartz device ok.  When I print from the quartz
> device, the sample image
> in the print window has two superimposed graphs.  One is the actual image.
> The other is
> an upside down mirror image about twice as big.  The printed page shows the
> doubled image.
> 
> When I print directly to the pdf() device on the Mac, it behaves normally.
> When I run the same lines above on the windows() device in Windows, it also
> behaves ok.
> When I run the same lines from the R gui on the Mac, it behaves normally.
> 
> I saw this first with R version 2.15.2 RC (2012-10-18 r60960) and
> then when I updated a few minutes ago to
> R version 2.15.2 (2012-10-26) -- "Trick or Treat", I still see it.
> 
> Sometimes, when I attempt to print from the quartz device while running
> under ESS,
> I get the pinwheel and this message in the *R* buffer.
>> Error: REAL() can only be applied to a 'numeric', not a 'NULL'
> 
> Killing R is the only recourse at this point.
> 
> Rich
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From faradj.g at gmail.com  Sun Nov 25 23:01:33 2012
From: faradj.g at gmail.com (Faradj Koliev)
Date: Sun, 25 Nov 2012 23:01:33 +0100
Subject: =?iso-8859-1?q?_=5BR-SIG-Mac=5D_How_can_i_solve_the_Error=3A_une?=
	=?iso-8859-1?q?xpected_input_in_=22A=3Dlm=28_=22GandW=22_=7E_Autho?=
	=?iso-8859-1?q?cracy=2CData=29=11=22?=
Message-ID: <678AE43F-8DBD-473E-A1DB-29F588F94A42@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121125/2cc37669/attachment.pl>

From rayd at liondatasystems.com  Sun Nov 25 23:05:40 2012
From: rayd at liondatasystems.com (Ray DiGiacomo, Jr.)
Date: Sun, 25 Nov 2012 14:05:40 -0800
Subject: [R-SIG-Mac] How can i solve the Error: unexpected input in
 "A=lm( "GandW" ~ Authocracy, Data) "
In-Reply-To: <678AE43F-8DBD-473E-A1DB-29F588F94A42@gmail.com>
References: <678AE43F-8DBD-473E-A1DB-29F588F94A42@gmail.com>
Message-ID: <CACT39NagT9t==Cmk+bavBGtLRuvvxqFfa00jVdhPbTEK4+_p4g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121125/5fbd7c23/attachment.pl>

From dwinsemius at comcast.net  Mon Nov 26 01:53:11 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Sun, 25 Nov 2012 16:53:11 -0800
Subject: =?iso-8859-1?q?Re=3A_=5BR-SIG-Mac=5D_How_can_i_solve_the_Error?=
	=?iso-8859-1?q?=3A_unexpected_input_in_=22A=3Dlm=28_=22GandW=22_?=
	=?iso-8859-1?q?=7E_Authocracy=2CData=29=11=22?=
In-Reply-To: <678AE43F-8DBD-473E-A1DB-29F588F94A42@gmail.com>
References: <678AE43F-8DBD-473E-A1DB-29F588F94A42@gmail.com>
Message-ID: <1D863BE1-8582-4F95-9EDB-6FEEB569A1C3@comcast.net>


On Nov 25, 2012, at 2:01 PM, Faradj Koliev wrote:

> When try ti run lm() I get this error message: Error: unexpected  
> input in "A=lm( "GandW" ~ Authocracy,Data)"
>
> What is it that Iam doing wrong?

I believe this problem is already identified (after some gratuitous  
and inaccurate Mac bashing) on R-help. Non-ASCII characters were being  
input at the end of that command and Bill Dunlap showed you how that  
also happens with those characters entered there in a Linux session.  
What was not ever explained is how you were getting these junk  
characters in your input.

My browser displays the Nabble accessible version of this as four  
small boxes with numbers in them, while Mail.app refuses to display  
them and using the view source option on the Nabble page shows them as  
four empty boxes.

http://r.789695.n4.nabble.com/Why-do-i-get-quot-Error-unexpected-input-in-quot-A-lt-lm-GandW-Authocracy-Data-quot-td4650559.html

If you have an R source file that you want to process, I suggested  
using TextWrangler.app to "Zap Gremlins ..."

--

David Winsemius, MD
Alameda, CA, USA


From massimodisasha at gmail.com  Mon Nov 26 15:08:47 2012
From: massimodisasha at gmail.com (epi)
Date: Mon, 26 Nov 2012 09:08:47 -0500
Subject: [R-SIG-Mac] R+GFortran - build Rgdal on osx 10.8 - homebrew
Message-ID: <9EC65297-7EB5-45AE-9185-1F4DF95A05A3@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121126/73d94779/attachment.pl>

From Jean-Paul.Vallee at unige.ch  Tue Nov 27 11:06:07 2012
From: Jean-Paul.Vallee at unige.ch (=?iso-8859-1?Q?Jean-Paul_Marcel_Vall=E9e?=)
Date: Tue, 27 Nov 2012 10:06:07 +0000
Subject: [R-SIG-Mac] pb with the quartz graphics in Mac OS 10.6.8
Message-ID: <BBEEA7372A3CDB4F91C63BA29C3D0C8B41028A@hotel.isis.unige.ch>

Dear R users,

When I draw a circle with R on my Mac, the line is not smooth at 0 and 180 degree even when I am using a high number of point. Is there a way to improve this rendering in the quartz window?

Thank's

JPV



f2 <- function(x){
(1-x^2)^.5
}

x1min=-100000;
x1max=100000;
sf=100000;

plot(f2, (x1min:x1max)/sf, col="blue", ylim=range(-1,1))
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121127/af24a6ad/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Rplot-circle.pdf
Type: application/pdf
Size: 76727 bytes
Desc: Rplot-circle.pdf
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121127/af24a6ad/attachment-0001.pdf>

From pdalgd at gmail.com  Tue Nov 27 14:45:20 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 27 Nov 2012 14:45:20 +0100
Subject: [R-SIG-Mac] pb with the quartz graphics in Mac OS 10.6.8
In-Reply-To: <BBEEA7372A3CDB4F91C63BA29C3D0C8B41028A@hotel.isis.unige.ch>
References: <BBEEA7372A3CDB4F91C63BA29C3D0C8B41028A@hotel.isis.unige.ch>
Message-ID: <96081EB5-E94E-4A1D-9BD7-3B2033674898@gmail.com>


On Nov 27, 2012, at 11:06 , Jean-Paul Marcel Vall?e wrote:

> Dear R users,
> 
> When I draw a circle with R on my Mac, the line is not smooth at 0 and 180 degree even when I am using a high number of point. Is there a way to improve this rendering in the quartz window?
> 
> Thank's
> 
> JPV
> 
> 
> 
> f2 <- function(x){
> (1-x^2)^.5
> }
> 
> x1min=-100000;
> x1max=100000;
> sf=100000;
> 
> plot(f2, (x1min:x1max)/sf, col="blue", ylim=range(-1,1))

Read the help page for plot.function (again?) and notice that its second argument does not do what I think you think it does. Increasing the value of n= might be more fruitful.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From a.beckerman at sheffield.ac.uk  Tue Nov 27 18:47:03 2012
From: a.beckerman at sheffield.ac.uk (Andrew Beckerman)
Date: Tue, 27 Nov 2012 17:47:03 +0000
Subject: [R-SIG-Mac] phantom text in console with R 2.15.2
Message-ID: <A1C43CD5DD424851AE8437592EB8321F@sheffield.ac.uk>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121127/c72fa49d/attachment.pl>

From Jean-Paul.Vallee at unige.ch  Wed Nov 28 17:05:28 2012
From: Jean-Paul.Vallee at unige.ch (=?iso-8859-1?Q?Jean-Paul_Marcel_Vall=E9e?=)
Date: Wed, 28 Nov 2012 16:05:28 +0000
Subject: [R-SIG-Mac] pb with the quartz graphics in Mac OS 10.6.8
In-Reply-To: <96081EB5-E94E-4A1D-9BD7-3B2033674898@gmail.com>
References: <BBEEA7372A3CDB4F91C63BA29C3D0C8B41028A@hotel.isis.unige.ch>
	<96081EB5-E94E-4A1D-9BD7-3B2033674898@gmail.com>
Message-ID: <BBEEA7372A3CDB4F91C63BA29C3D0C8B414D4B@hotel.isis.unige.ch>

Thank's!

Using plot correctly solve the pb.


Le 27 nov. 2012 ? 14:45, peter dalgaard a ?crit :

> 
> On Nov 27, 2012, at 11:06 , Jean-Paul Marcel Vall?e wrote:
> 
>> Dear R users,
>> 
>> When I draw a circle with R on my Mac, the line is not smooth at 0 and 180 degree even when I am using a high number of point. Is there a way to improve this rendering in the quartz window?
>> 
>> Thank's
>> 
>> JPV
>> 
>> 
>> 
>> f2 <- function(x){
>> (1-x^2)^.5
>> }
>> 
>> x1min=-100000;
>> x1max=100000;
>> sf=100000;
>> 
>> plot(f2, (x1min:x1max)/sf, col="blue", ylim=range(-1,1))
> 
> Read the help page for plot.function (again?) and notice that its second argument does not do what I think you think it does. Increasing the value of n= might be more fruitful.
> 
> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 


From jalvesaq at gmail.com  Thu Nov 29 01:38:31 2012
From: jalvesaq at gmail.com (Jakson Alves de Aquino)
Date: Wed, 28 Nov 2012 21:38:31 -0300
Subject: [R-SIG-Mac] library not found for -lX11
Message-ID: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>

Hi,

I submitted a package to CRAN:
http://cran.r-project.org/web/packages/vimcom/index.html

It builds on Linux without warnings, but there is the following error
on Mac OS X:

    ld: library not found for -lX11
    collect2: ld returned 1 exit status
    make: *** [vimcom.so] Error 1
    ERROR: compilation failed for package 'vimcom'

The complete log is here:
http://www.r-project.org/nosvn/R.check/r-release-macosx-ix86/vimcom-00install.html

I know that I have to edit the src/Makevars file, but I don't know
what I should put there and I don't have access to any machine running
Mac OS X to make tests. Any help will be appreciated.

Thanks,

-- 
Jakson Alves de Aquino
Federal University of Cear?
Social Sciences Department
www.lepem.ufc.br/aquino.php


From ivan.calandra at u-bourgogne.fr  Thu Nov 29 09:37:45 2012
From: ivan.calandra at u-bourgogne.fr (Ivan Calandra)
Date: Thu, 29 Nov 2012 09:37:45 +0100
Subject: [R-SIG-Mac] equivalent of choose.dir()
Message-ID: <50B71ED9.2080507@u-bourgogne.fr>

Dear Mac-users,

I have asked on the R list already, but this Mac-list might be more 
appropriate.
I am looking for a function that can choose folders interactively, like 
choose.dir() on Windows, or like file.choose() does for files.

I have found tcltk::tk_choose.dir() but R hangs when I try to do 
anything and I have to force exit.

Jim Holtman proposed to choose a file with file.choose() and then get 
the path from it using dirname(). This approach would work, but it would 
be even better if I could choose a folder directly.

Duncan Murdoch told me that I could write the equivalent of choose.dir() 
for MacOS, but it is beyond my reach.

Can someone help me on this?

Thanks in advance,
Ivan


sessionInfo()
R version 2.15.2 (2012-10-26)
Platform: i386-apple-darwin9.8.0/i386 (32-bit)
locale:
[1] fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8
attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods base

-- 
Ivan CALANDRA
Universit? de Bourgogne
UMR CNRS/uB 6282 Biog?osciences
6 Boulevard Gabriel
21000 Dijon, FRANCE
+33(0)3.80.39.63.06
ivan.calandra at u-bourgogne.fr
http://biogeosciences.u-bourgogne.fr/calandra


From ivan.calandra at u-bourgogne.fr  Thu Nov 29 10:23:12 2012
From: ivan.calandra at u-bourgogne.fr (Ivan Calandra)
Date: Thu, 29 Nov 2012 10:23:12 +0100
Subject: [R-SIG-Mac] help with Tcl/Tk
Message-ID: <50B72980.60807@u-bourgogne.fr>

Dear users,

In trying to use tcltk::tk_choose.dir() and svDialogs::dlgDir() I have 
encountered an error that seems to stem from package Tcl/Tk.

I can load tcltk, everything looks fine, but if I try ?tk_choose.dir or 
whatever, then R hangs and I have to force exit.

I have tried with svDialogs as well and here is what happens:

 > sessionInfo()
R version 2.15.2 (2012-10-26)
Platform: i386-apple-darwin9.8.0/i386 (32-bit)
locale:
[1] fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8
attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

 > library(svDialogs)
Le chargement a n?cessit? le package : svGUI
Le chargement a n?cessit? le package : svMisc
Le chargement a n?cessit? le package : tcltk
Chargement de Tcl/Tk...
  *** caught bus error ***
address 0x1, cause 'non-existent physical address'

Traceback:
  1: sys.parent()
  2: sys.function(sys.parent())
  3: formals(sys.function(sys.parent()))
  4: match.arg(encoding)
  5: match(match.arg(encoding), c("", "bytes", "UTF-8"))
  6: textConnection("rval", "w", local = TRUE)
  7: capture.output(print(args(dlgDir)))
  8: paste(capture.output(print(args(dlgDir))), collapse = "")
  9: gsub("\\s+", " ", paste(capture.output(print(args(dlgDir))), 
collapse = ""))
10: doTryCatch(return(expr), name, parentenv, handler)
11: tryCatchOne(expr, names, parentenv, handlers[[1L]])
12: tryCatchList(expr, classes, parentenv, handlers)
13: tryCatch(expr, error = function(e) {    call <- conditionCall(e)    
if (!is.null(call)) {        if (identical(call[[1L]], 
quote(doTryCatch)))             call <- sys.call(-4L)        dcall <- 
deparse(call)[1L]        prefix <- paste("Error in", dcall, ": ")        
LONG <- 75L msg <- conditionMessage(e)        sm <- strsplit(msg, 
"\n")[[1L]]        w <- 14L + nchar(dcall, type = "w") + nchar(sm[1L], 
type = "w")        if (is.na(w))             w <- 14L + nchar(dcall, 
type = "b") + nchar(sm[1L],                 type = "b")        if (w > 
LONG)             prefix <- paste0(prefix, "\n  ")    }    else prefix 
<- "Error : "    msg <- paste0(prefix, conditionMessage(e), "\n") 
.Internal(seterrmessage(msg[1L]))    if (!silent && 
identical(getOption("show.error.messages"),         TRUE)) { cat(msg, 
file = stderr()) .Internal(printDeferredWarnings())    }    
invisible(structure(msg, class = "try-error", condition = e))})
14: try(gsub("\\s+", " ", paste(capture.output(print(args(dlgDir))),     
collapse = "")), silent = TRUE)

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace

 > mydir <- dlgDir()

Everything from ***caught bus error*** appears only when I type the last 
line (mydir <- dlgDir()).

Can anyone help me?

Ivan

-- 
Ivan CALANDRA
Universit? de Bourgogne
UMR CNRS/uB 6282 Biog?osciences
6 Boulevard Gabriel
21000 Dijon, FRANCE
+33(0)3.80.39.63.06
ivan.calandra at u-bourgogne.fr
http://biogeosciences.u-bourgogne.fr/calandra


From bibiko at eva.mpg.de  Thu Nov 29 11:06:22 2012
From: bibiko at eva.mpg.de (=?iso-8859-1?Q?Hans-J=F6rg_Bibiko?=)
Date: Thu, 29 Nov 2012 11:06:22 +0100
Subject: [R-SIG-Mac] equivalent of choose.dir()
In-Reply-To: <50B71ED9.2080507@u-bourgogne.fr>
References: <50B71ED9.2080507@u-bourgogne.fr>
Message-ID: <FF600791-0B56-499F-B1EC-D0CC078CEE6C@eva.mpg.de>


On Nov 29, 2012, at 9:37 AM, Ivan Calandra wrote:

> I have asked on the R list already, but this Mac-list might be more appropriate.
> I am looking for a function that can choose folders interactively, like choose.dir() on Windows, or like file.choose() does for files.
> 
> I have found tcltk::tk_choose.dir() but R hangs when I try to do anything and I have to force exit.
> 
> Jim Holtman proposed to choose a file with file.choose() and then get the path from it using dirname(). This approach would work, but it would be even better if I could choose a folder directly.
> 
> Duncan Murdoch told me that I could write the equivalent of choose.dir() for MacOS, but it is beyond my reach.
> 
> Can someone help me on this?

Hi,

for the time being until it will implemented here a quick and 'dirty' function:

---------
choose.dir <- function() {
	system("osascript -e 'tell app \"R\" to POSIX path of (choose folder with prompt \"Choose Folder:\")' > /tmp/R_folder", 
			intern = FALSE, ignore.stderr = TRUE)
	p <- system("cat /tmp/R_folder && rm -f /tmp/R_folder", intern = TRUE)
	return(ifelse(length(p), p, NA))
}

a <- choose.dir()

if(is.na(a)) stop("No folder", call. = F)

print(a)
---------

AppleScript displays a "choose folder" GUI; then the chosen path will be stored temporarily in the file /tmp/R_folder (since R's system command can't run with option 'intern=T' - R will hang); the file content will be outputted and stored in the R var "p"; that's it.

Salut,
--Hans


From ivan.calandra at u-bourgogne.fr  Thu Nov 29 11:26:12 2012
From: ivan.calandra at u-bourgogne.fr (Ivan Calandra)
Date: Thu, 29 Nov 2012 11:26:12 +0100
Subject: [R-SIG-Mac] Fwd: Re: [R] choose folder interactively
In-Reply-To: <50B721A8.6040506@umons.ac.be>
References: <50B721A8.6040506@umons.ac.be>
Message-ID: <50B73844.2050804@u-bourgogne.fr>

Thanks Philippe for your answer!
It doesn't work for me, but I guess I have something wrong with Tcl/Tk.

Ivan

--
Ivan CALANDRA
Universit? de Bourgogne
UMR CNRS/uB 6282 Biog?osciences
6 Boulevard Gabriel
21000 Dijon, FRANCE
+33(0)3.80.39.63.06
ivan.calandra at u-bourgogne.fr
http://biogeosciences.u-bourgogne.fr/calandra



-------- Message original --------
Sujet: 	Re: [R] choose folder interactively
Date : 	Thu, 29 Nov 2012 09:49:44 +0100
De : 	Philippe Grosjean <Philippe.Grosjean at umons.ac.be>
R?pondre ? : 	<Philippe.Grosjean at umons.ac.be>
Organisation : 	UMONS - EcoNum
Pour : 	<ivan.calandra at u-bourgogne.fr>



Dear Ivan,

I cannot post to R-help currently. This is something interesting for
you. Could you echo to R-Help and R-SIG-Mac too, please?

You will find a native Mac OS X directory selection dialog box in
svDialogs. Install the package (you also need to install svGUI) and see
?dlgDir.

It works both in R.app and in R run in the terminal. There is just a
little time lag when you call of of svDialogs's dialog boxes the first time.

It works the same on Windows and even on Linux/Unix, providing you have
installed zenity there (search Goggle, installed bty default on Ubuntu,
for instance).
In case the required GUI elements are not found on a particular system,
the function falls back automatically on a textual version at the
terminal. So, it should work everytime!

Don't forget to extract the result from the 'res' element... Something like:

mydir <- dlgDir()$res

Best,

Philippe Grosjean

..............................................<?}))><........
  ) ) ) ) )
( ( ( ( (    Prof. Philippe Grosjean
  ) ) ) ) )
( ( ( ( (    Numerical Ecology of Aquatic Systems
  ) ) ) ) )   Mons University, Belgium
( ( ( ( (
..............................................................

On 28/11/12 13:39, Ivan Calandra wrote:
> Dear users,
>
> I am looking for a function to choose a folder interactively, just like
> file.choose() but for a folder.
>
> I have found tcltk::tk_choose.dir() but R hangs when I try to do
> anything and I have to force exit.
> I've tried to reinstall tcltk with install.packages(), but "package
> ?tcltk? is not available (for R version 2.15.2)" even though it's
> already installed on my computer (it comes with 'base', doesn't it?).
>
>  From a Google Search, I have also found choose.dir(), but it looks like
> this function doesn't exist anymore since ages.
>
> Any idea?
>
> Thanks in advance,
> Ivan
>
> sessionInfo()
> R version 2.15.2 (2012-10-26)
> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
> locale:
> [1] fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8
> attached base packages:
> [1] stats graphics grDevices utils datasets methods base
>
>


From ivan.calandra at u-bourgogne.fr  Thu Nov 29 11:41:14 2012
From: ivan.calandra at u-bourgogne.fr (Ivan Calandra)
Date: Thu, 29 Nov 2012 11:41:14 +0100
Subject: [R-SIG-Mac] equivalent of choose.dir()
In-Reply-To: <FF600791-0B56-499F-B1EC-D0CC078CEE6C@eva.mpg.de>
References: <50B71ED9.2080507@u-bourgogne.fr>
	<FF600791-0B56-499F-B1EC-D0CC078CEE6C@eva.mpg.de>
Message-ID: <50B73BCA.9090507@u-bourgogne.fr>

Thanks Hans, it works like a charm!

Ivan

--
Ivan CALANDRA
Universit? de Bourgogne
UMR CNRS/uB 6282 Biog?osciences
6 Boulevard Gabriel
21000 Dijon, FRANCE
+33(0)3.80.39.63.06
ivan.calandra at u-bourgogne.fr
http://biogeosciences.u-bourgogne.fr/calandra


On Nov 29, 2012, at 9:37 AM, Ivan Calandra wrote:

> I have asked on the R list already, but this Mac-list might be more appropriate.
> I am looking for a function that can choose folders interactively, like choose.dir() on Windows, or like file.choose() does for files.
>
> I have found tcltk::tk_choose.dir() but R hangs when I try to do anything and I have to force exit.
>
> Jim Holtman proposed to choose a file with file.choose() and then get the path from it using dirname(). This approach would work, but it would be even better if I could choose a folder directly.
>
> Duncan Murdoch told me that I could write the equivalent of choose.dir() for MacOS, but it is beyond my reach.
>
> Can someone help me on this?

Hi,

for the time being until it will implemented here a quick and 'dirty' function:

---------
choose.dir <- function() {
	system("osascript -e 'tell app \"R\" to POSIX path of (choose folder with prompt \"Choose Folder:\")' > /tmp/R_folder",
			intern = FALSE, ignore.stderr = TRUE)
	p <- system("cat /tmp/R_folder && rm -f /tmp/R_folder", intern = TRUE)
	return(ifelse(length(p), p, NA))
}

a <- choose.dir()

if(is.na(a)) stop("No folder", call. = F)

print(a)
---------

AppleScript displays a "choose folder" GUI; then the chosen path will be stored temporarily in the file /tmp/R_folder (since R's system command can't run with option 'intern=T' - R will hang); the file content will be outputted and stored in the R var "p"; that's it.

Salut,
--Hans


From jalvesaq at gmail.com  Thu Nov 29 12:18:27 2012
From: jalvesaq at gmail.com (Jakson Alves de Aquino)
Date: Thu, 29 Nov 2012 08:18:27 -0300
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
Message-ID: <CAGBu4CN_-HB17s9LoJDHfaAH5gs9_=7_5XrtOvv8t1vWe=Z76A@mail.gmail.com>

On Wed, Nov 28, 2012 at 9:38 PM, Jakson Alves de Aquino
<jalvesaq at gmail.com> wrote:
> I submitted a package to CRAN:
> http://cran.r-project.org/web/packages/vimcom/index.html
>
> It builds on Linux without warnings, but there is the following error
> on Mac OS X:
>
>     ld: library not found for -lX11
>     collect2: ld returned 1 exit status
>     make: *** [vimcom.so] Error 1
>     ERROR: compilation failed for package 'vimcom'
>
> The complete log is here:
> http://www.r-project.org/nosvn/R.check/r-release-macosx-ix86/vimcom-00install.html
>
> I know that I have to edit the src/Makevars file, but I don't know
> what I should put there and I don't have access to any machine running
> Mac OS X to make tests. Any help will be appreciated.

I've found this:
http://stackoverflow.com/questions/5841008/problem-in-linking-x11-in-mac-os-x

So, it seems that a Makevars file with the following content would
solve the problem:

PKG_LIBS=-L/usr/X11/lib -lX11

I would be grateful if someone could try to build the package with the
above change in the src/Makevars since, as I have said, I can't make
tests.

Thanks,

-- 
Jakson Alves de Aquino
Federal University of Cear?
Social Sciences Department
www.lepem.ufc.br/aquino.php


From jochen.laubrock at gmail.com  Thu Nov 29 12:43:41 2012
From: jochen.laubrock at gmail.com (jochen laubrock)
Date: Thu, 29 Nov 2012 12:43:41 +0100
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <CAGBu4CN_-HB17s9LoJDHfaAH5gs9_=7_5XrtOvv8t1vWe=Z76A@mail.gmail.com>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<CAGBu4CN_-HB17s9LoJDHfaAH5gs9_=7_5XrtOvv8t1vWe=Z76A@mail.gmail.com>
Message-ID: <ECF94B6F-BBFB-4D01-8613-0D638F81DD7A@gmail.com>

Works for me after additionally setting PKG_CPPFLAGS to point to the headers in Makevars

PKG_LIBS=-L/usr/X11/lib -lX11 
PKG_CPPFLAGS=-I/usr/X11/include


On Nov 29, 2012, at 12:18 , Jakson Alves de Aquino <jalvesaq at gmail.com> wrote:

> On Wed, Nov 28, 2012 at 9:38 PM, Jakson Alves de Aquino
> <jalvesaq at gmail.com> wrote:
>> I submitted a package to CRAN:
>> http://cran.r-project.org/web/packages/vimcom/index.html
>> 
>> It builds on Linux without warnings, but there is the following error
>> on Mac OS X:
>> 
>>    ld: library not found for -lX11
>>    collect2: ld returned 1 exit status
>>    make: *** [vimcom.so] Error 1
>>    ERROR: compilation failed for package 'vimcom'
>> 
>> The complete log is here:
>> http://www.r-project.org/nosvn/R.check/r-release-macosx-ix86/vimcom-00install.html
>> 
>> I know that I have to edit the src/Makevars file, but I don't know
>> what I should put there and I don't have access to any machine running
>> Mac OS X to make tests. Any help will be appreciated.
> 
> I've found this:
> http://stackoverflow.com/questions/5841008/problem-in-linking-x11-in-mac-os-x
> 
> So, it seems that a Makevars file with the following content would
> solve the problem:
> 
> PKG_LIBS=-L/usr/X11/lib -lX11
> 
> I would be grateful if someone could try to build the package with the
> above change in the src/Makevars since, as I have said, I can't make
> tests.
> 
> Thanks,
> 
> -- 
> Jakson Alves de Aquino
> Federal University of Cear?
> Social Sciences Department
> www.lepem.ufc.br/aquino.php
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jalvesaq at gmail.com  Thu Nov 29 13:39:32 2012
From: jalvesaq at gmail.com (Jakson Alves de Aquino)
Date: Thu, 29 Nov 2012 09:39:32 -0300
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <ECF94B6F-BBFB-4D01-8613-0D638F81DD7A@gmail.com>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<CAGBu4CN_-HB17s9LoJDHfaAH5gs9_=7_5XrtOvv8t1vWe=Z76A@mail.gmail.com>
	<ECF94B6F-BBFB-4D01-8613-0D638F81DD7A@gmail.com>
Message-ID: <CAGBu4CO+-YEbiUo=yY5+eM7GOL2U9u7AH+qvUy_jZivK9wZreg@mail.gmail.com>

On Thu, Nov 29, 2012 at 8:43 AM, jochen laubrock
<jochen.laubrock at gmail.com> wrote:
> Works for me after additionally setting PKG_CPPFLAGS to point to the headers in Makevars
>
> PKG_LIBS=-L/usr/X11/lib -lX11
> PKG_CPPFLAGS=-I/usr/X11/include
>
>
> On Nov 29, 2012, at 12:18 , Jakson Alves de Aquino <jalvesaq at gmail.com> wrote:
>
>> On Wed, Nov 28, 2012 at 9:38 PM, Jakson Alves de Aquino
>> <jalvesaq at gmail.com> wrote:
>>> I submitted a package to CRAN:
>>> http://cran.r-project.org/web/packages/vimcom/index.html
>>>
>>> It builds on Linux without warnings, but there is the following error
>>> on Mac OS X:
>>>
>>>    ld: library not found for -lX11
>>>    collect2: ld returned 1 exit status
>>>    make: *** [vimcom.so] Error 1
>>>    ERROR: compilation failed for package 'vimcom'
>>>
>>> The complete log is here:
>>> http://www.r-project.org/nosvn/R.check/r-release-macosx-ix86/vimcom-00install.html
>>>
>>> I know that I have to edit the src/Makevars file, but I don't know
>>> what I should put there and I don't have access to any machine running
>>> Mac OS X to make tests. Any help will be appreciated.
>>
>> I've found this:
>> http://stackoverflow.com/questions/5841008/problem-in-linking-x11-in-mac-os-x
>>
>> So, it seems that a Makevars file with the following content would
>> solve the problem:
>>
>> PKG_LIBS=-L/usr/X11/lib -lX11
>>
>> I would be grateful if someone could try to build the package with the
>> above change in the src/Makevars since, as I have said, I can't make
>> tests.

I added PKG_CFLAGS because the code is in C.

I'm grateful to Jochen Laubrock for finding the solution and for
Federico Calboli for doing additional tests. The updated code is
available at:

https://github.com/jalvesaq/VimCom

Best regards,

-- 
Jakson Alves de Aquino
Federal University of Cear?
Social Sciences Department
www.lepem.ufc.br/aquino.php


From ripley at stats.ox.ac.uk  Thu Nov 29 14:05:25 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 29 Nov 2012 13:05:25 +0000
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <CAGBu4CO+-YEbiUo=yY5+eM7GOL2U9u7AH+qvUy_jZivK9wZreg@mail.gmail.com>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<CAGBu4CN_-HB17s9LoJDHfaAH5gs9_=7_5XrtOvv8t1vWe=Z76A@mail.gmail.com>
	<ECF94B6F-BBFB-4D01-8613-0D638F81DD7A@gmail.com>
	<CAGBu4CO+-YEbiUo=yY5+eM7GOL2U9u7AH+qvUy_jZivK9wZreg@mail.gmail.com>
Message-ID: <50B75D95.6050200@stats.ox.ac.uk>

But those paths should not be used unconditionally (as you have).  They 
are not right for most x86_64 Linux, Solaris, ... and they might not 
even be right on Mac OS X (depending on the X installation).

And PKG_CPPFLAGS was correct: that means flags for cpp, the C 
pre-processor, not for C++ (which is macro PKG_CXXFLAGS).  See 'Writing 
R Extensions'.

On 29/11/2012 12:39, Jakson Alves de Aquino wrote:
> On Thu, Nov 29, 2012 at 8:43 AM, jochen laubrock
> <jochen.laubrock at gmail.com> wrote:
>> Works for me after additionally setting PKG_CPPFLAGS to point to the headers in Makevars
>>
>> PKG_LIBS=-L/usr/X11/lib -lX11
>> PKG_CPPFLAGS=-I/usr/X11/include
>>
>>
>> On Nov 29, 2012, at 12:18 , Jakson Alves de Aquino <jalvesaq at gmail.com> wrote:
>>
>>> On Wed, Nov 28, 2012 at 9:38 PM, Jakson Alves de Aquino
>>> <jalvesaq at gmail.com> wrote:
>>>> I submitted a package to CRAN:
>>>> http://cran.r-project.org/web/packages/vimcom/index.html
>>>>
>>>> It builds on Linux without warnings, but there is the following error
>>>> on Mac OS X:
>>>>
>>>>     ld: library not found for -lX11
>>>>     collect2: ld returned 1 exit status
>>>>     make: *** [vimcom.so] Error 1
>>>>     ERROR: compilation failed for package 'vimcom'
>>>>
>>>> The complete log is here:
>>>> http://www.r-project.org/nosvn/R.check/r-release-macosx-ix86/vimcom-00install.html
>>>>
>>>> I know that I have to edit the src/Makevars file, but I don't know
>>>> what I should put there and I don't have access to any machine running
>>>> Mac OS X to make tests. Any help will be appreciated.
>>>
>>> I've found this:
>>> http://stackoverflow.com/questions/5841008/problem-in-linking-x11-in-mac-os-x
>>>
>>> So, it seems that a Makevars file with the following content would
>>> solve the problem:
>>>
>>> PKG_LIBS=-L/usr/X11/lib -lX11
>>>
>>> I would be grateful if someone could try to build the package with the
>>> above change in the src/Makevars since, as I have said, I can't make
>>> tests.
>
> I added PKG_CFLAGS because the code is in C.
>
> I'm grateful to Jochen Laubrock for finding the solution and for
> Federico Calboli for doing additional tests. The updated code is
> available at:
>
> https://github.com/jalvesaq/VimCom
>
> Best regards,
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From jalvesaq at gmail.com  Thu Nov 29 14:23:57 2012
From: jalvesaq at gmail.com (Jakson Alves de Aquino)
Date: Thu, 29 Nov 2012 10:23:57 -0300
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <50B75D95.6050200@stats.ox.ac.uk>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<CAGBu4CN_-HB17s9LoJDHfaAH5gs9_=7_5XrtOvv8t1vWe=Z76A@mail.gmail.com>
	<ECF94B6F-BBFB-4D01-8613-0D638F81DD7A@gmail.com>
	<CAGBu4CO+-YEbiUo=yY5+eM7GOL2U9u7AH+qvUy_jZivK9wZreg@mail.gmail.com>
	<50B75D95.6050200@stats.ox.ac.uk>
Message-ID: <CAGBu4CMmwtc6AxFXs4p9HuScML05gROs5R2se30Mp6ZPQLXePw@mail.gmail.com>

On Thu, Nov 29, 2012 at 10:05 AM, Prof Brian Ripley
<ripley at stats.ox.ac.uk> wrote:
> But those paths should not be used unconditionally (as you have).  They are
> not right for most x86_64 Linux, Solaris, ... and they might not even be
> right on Mac OS X (depending on the X installation).

Sorry, but I don't known how to find the correct path at compile time.

> And PKG_CPPFLAGS was correct: that means flags for cpp, the C pre-processor,
> not for C++ (which is macro PKG_CXXFLAGS).  See 'Writing R Extensions'.

Thanks for the information. I'll fix it.

-- 
Jakson Alves de Aquino
Federal University of Cear?
Social Sciences Department
www.lepem.ufc.br/aquino.php


From ripley at stats.ox.ac.uk  Thu Nov 29 14:26:56 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 29 Nov 2012 13:26:56 +0000
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <CAGBu4CMmwtc6AxFXs4p9HuScML05gROs5R2se30Mp6ZPQLXePw@mail.gmail.com>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<CAGBu4CN_-HB17s9LoJDHfaAH5gs9_=7_5XrtOvv8t1vWe=Z76A@mail.gmail.com>
	<ECF94B6F-BBFB-4D01-8613-0D638F81DD7A@gmail.com>
	<CAGBu4CO+-YEbiUo=yY5+eM7GOL2U9u7AH+qvUy_jZivK9wZreg@mail.gmail.com>
	<50B75D95.6050200@stats.ox.ac.uk>
	<CAGBu4CMmwtc6AxFXs4p9HuScML05gROs5R2se30Mp6ZPQLXePw@mail.gmail.com>
Message-ID: <50B762A0.3010902@stats.ox.ac.uk>

On 29/11/2012 13:23, Jakson Alves de Aquino wrote:
> On Thu, Nov 29, 2012 at 10:05 AM, Prof Brian Ripley
> <ripley at stats.ox.ac.uk> wrote:
>> But those paths should not be used unconditionally (as you have).  They are
>> not right for most x86_64 Linux, Solaris, ... and they might not even be
>> right on Mac OS X (depending on the X installation).
>
> Sorry, but I don't known how to find the correct path at compile time.

Use a configure script: see 'Writing R Extensions' (and see how R itself 
does it).

>
>> And PKG_CPPFLAGS was correct: that means flags for cpp, the C pre-processor,
>> not for C++ (which is macro PKG_CXXFLAGS).  See 'Writing R Extensions'.
>
> Thanks for the information. I'll fix it.
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From jalvesaq at gmail.com  Thu Nov 29 17:16:56 2012
From: jalvesaq at gmail.com (Jakson Alves de Aquino)
Date: Thu, 29 Nov 2012 13:16:56 -0300
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <50B762A0.3010902@stats.ox.ac.uk>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<CAGBu4CN_-HB17s9LoJDHfaAH5gs9_=7_5XrtOvv8t1vWe=Z76A@mail.gmail.com>
	<ECF94B6F-BBFB-4D01-8613-0D638F81DD7A@gmail.com>
	<CAGBu4CO+-YEbiUo=yY5+eM7GOL2U9u7AH+qvUy_jZivK9wZreg@mail.gmail.com>
	<50B75D95.6050200@stats.ox.ac.uk>
	<CAGBu4CMmwtc6AxFXs4p9HuScML05gROs5R2se30Mp6ZPQLXePw@mail.gmail.com>
	<50B762A0.3010902@stats.ox.ac.uk>
Message-ID: <CAGBu4CPNNZ-_f6zWom5L1b8L5JzkOfX1f=Z8ED9o=ncR0cmOrA@mail.gmail.com>

On Thu, Nov 29, 2012 at 10:26 AM, Prof Brian Ripley
<ripley at stats.ox.ac.uk> wrote:
>> On Thu, Nov 29, 2012 at 10:05 AM, Prof Brian Ripley
>> <ripley at stats.ox.ac.uk> wrote:
>>>
>>> But those paths should not be used unconditionally (as you have).
>>> They are not right for most x86_64 Linux, Solaris, ... and they
>>> might not even be right on Mac OS X (depending on the X
>>> installation).
>>
>> Sorry, but I don't known how to find the correct path at compile
>> time.
>
> Use a configure script: see 'Writing R Extensions' (and see how R
> itself does it).

Thanks for the suggestion! I adapted the code from cairoDevice
package. It was just a matter of replacing gtk with x11 and I hope
that now it will build on any unix that have X installed.

    https://github.com/jalvesaq/VimCom/

Best regards,

-- 
Jakson Alves de Aquino
Federal University of Cear?
Social Sciences Department
www.lepem.ufc.br/aquino.php


From bhh at xs4all.nl  Thu Nov 29 17:49:53 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Thu, 29 Nov 2012 17:49:53 +0100
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <CAGBu4CPNNZ-_f6zWom5L1b8L5JzkOfX1f=Z8ED9o=ncR0cmOrA@mail.gmail.com>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<CAGBu4CN_-HB17s9LoJDHfaAH5gs9_=7_5XrtOvv8t1vWe=Z76A@mail.gmail.com>
	<ECF94B6F-BBFB-4D01-8613-0D638F81DD7A@gmail.com>
	<CAGBu4CO+-YEbiUo=yY5+eM7GOL2U9u7AH+qvUy_jZivK9wZreg@mail.gmail.com>
	<50B75D95.6050200@stats.ox.ac.uk>
	<CAGBu4CMmwtc6AxFXs4p9HuScML05gROs5R2se30Mp6ZPQLXePw@mail.gmail.com>
	<50B762A0.3010902@stats.ox.ac.uk>
	<CAGBu4CPNNZ-_f6zWom5L1b8L5JzkOfX1f=Z8ED9o=ncR0cmOrA@mail.gmail.com>
Message-ID: <B62F39F2-3DE6-4179-B13D-8831AC3ABDF4@xs4all.nl>


On 29-11-2012, at 17:16, Jakson Alves de Aquino wrote:

> On Thu, Nov 29, 2012 at 10:26 AM, Prof Brian Ripley
> <ripley at stats.ox.ac.uk> wrote:
>>> On Thu, Nov 29, 2012 at 10:05 AM, Prof Brian Ripley
>>> <ripley at stats.ox.ac.uk> wrote:
>>>> 
>>>> But those paths should not be used unconditionally (as you have).
>>>> They are not right for most x86_64 Linux, Solaris, ... and they
>>>> might not even be right on Mac OS X (depending on the X
>>>> installation).
>>> 
>>> Sorry, but I don't known how to find the correct path at compile
>>> time.
>> 
>> Use a configure script: see 'Writing R Extensions' (and see how R
>> itself does it).
> 
> Thanks for the suggestion! I adapted the code from cairoDevice
> package. It was just a matter of replacing gtk with x11 and I hope
> that now it will build on any unix that have X installed.
> 
>    https://github.com/jalvesaq/VimCom/

Using Mac OS X 10.6.8 and R version 2.15.2 (2012-10-26)

Experiment 1
----------------
[.../vimcom]: R CMD check vimcom-master
* using log directory '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck'
* using R version 2.15.2 (2012-10-26)
* using platform: x86_64-apple-darwin9.8.0 (64-bit)
* using session charset: UTF-8
* checking for file 'vimcom-master/DESCRIPTION' ... OK
* this is package 'vimcom' version '0.9-5'
* checking package namespace information ... OK
* checking package dependencies ... ERROR
Package suggested but not available: 'knitr'

The suggested packages are required for a complete check.
Checking can be attempted without them by setting the environment
variable _R_CHECK_FORCE_SUGGESTS_ to a false value.

Experiment 2
----------------
[.../vimcom]: export _R_CHECK_FORCE_SUGGESTS_=0
[.../vimcom]: R CMD check vimcom-master
* using log directory '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck'
* using R version 2.15.2 (2012-10-26)
* using platform: x86_64-apple-darwin9.8.0 (64-bit)
* using session charset: UTF-8
* checking for file 'vimcom-master/DESCRIPTION' ... OK
* this is package 'vimcom' version '0.9-5'
* checking package namespace information ... OK
* checking package dependencies ... NOTE
Package suggested but not available for checking: 'knitr'
* checking if this is a source package ... OK
* checking if there is a namespace ... OK
* checking for executable files ... OK
* checking whether package 'vimcom' can be installed ... ERROR
Installation failed.
See '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck/00install.out' for details.

Contents .../00install.out

* installing *source* package 'vimcom' ...
checking for pkg-config... no
ERROR: Cannot find pkg-config.
ERROR: configuration failed for package 'vimcom'
* removing '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck/vimcom'


Install experiment
-------------------------
[.../vimcom]: R CMD INSTALL vimcom-master
* installing to library '/Users/berendhasselman/Library/R/2.15/library'
* installing *source* package 'vimcom' ...
checking for pkg-config... no
ERROR: Cannot find pkg-config.
ERROR: configuration failed for package 'vimcom'
* removing '/Users/berendhasselman/Library/R/2.15/library/vimcom'

pkg-config is not available standard on Mac OS X.
It is probably available on the Mac binary package machine.

I don't think you may assume that an X11 installation on Mac OS X has been registered with pkg-config or how you call that.

Your method is not foolproof.
Experts will have to enlighten you.

Berend


From Jean-Paul.Vallee at unige.ch  Thu Nov 29 17:53:33 2012
From: Jean-Paul.Vallee at unige.ch (=?iso-8859-1?Q?Jean-Paul_Marcel_Vall=E9e?=)
Date: Thu, 29 Nov 2012 16:53:33 +0000
Subject: [R-SIG-Mac] equivalent of choose.dir()
In-Reply-To: <FF600791-0B56-499F-B1EC-D0CC078CEE6C@eva.mpg.de>
References: <50B71ED9.2080507@u-bourgogne.fr>
	<FF600791-0B56-499F-B1EC-D0CC078CEE6C@eva.mpg.de>
Message-ID: <BBEEA7372A3CDB4F91C63BA29C3D0C8B415C33@hotel.isis.unige.ch>

HI,

when I run the choose.dir function, a second R application is starting and I have finally 2 R icon running on my Mac and I have to quit manually the second R application. Is there a way to quit  the second R application automatically?

Thanks,

JPV


Le 29 nov. 2012 ? 11:06, Hans-J?rg Bibiko a ?crit :

> 
> On Nov 29, 2012, at 9:37 AM, Ivan Calandra wrote:
> 
>> I have asked on the R list already, but this Mac-list might be more appropriate.
>> I am looking for a function that can choose folders interactively, like choose.dir() on Windows, or like file.choose() does for files.
>> 
>> I have found tcltk::tk_choose.dir() but R hangs when I try to do anything and I have to force exit.
>> 
>> Jim Holtman proposed to choose a file with file.choose() and then get the path from it using dirname(). This approach would work, but it would be even better if I could choose a folder directly.
>> 
>> Duncan Murdoch told me that I could write the equivalent of choose.dir() for MacOS, but it is beyond my reach.
>> 
>> Can someone help me on this?
> 
> Hi,
> 
> for the time being until it will implemented here a quick and 'dirty' function:
> 
> ---------
> choose.dir <- function() {
> 	system("osascript -e 'tell app \"R\" to POSIX path of (choose folder with prompt \"Choose Folder:\")' > /tmp/R_folder", 
> 			intern = FALSE, ignore.stderr = TRUE)
> 	p <- system("cat /tmp/R_folder && rm -f /tmp/R_folder", intern = TRUE)
> 	return(ifelse(length(p), p, NA))
> }
> 
> a <- choose.dir()
> 
> if(is.na(a)) stop("No folder", call. = F)
> 
> print(a)
> ---------
> 
> AppleScript displays a "choose folder" GUI; then the chosen path will be stored temporarily in the file /tmp/R_folder (since R's system command can't run with option 'intern=T' - R will hang); the file content will be outputted and stored in the R var "p"; that's it.
> 
> Salut,
> --Hans
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From f.calboli at imperial.ac.uk  Thu Nov 29 18:07:32 2012
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Thu, 29 Nov 2012 17:07:32 +0000
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <B62F39F2-3DE6-4179-B13D-8831AC3ABDF4@xs4all.nl>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<CAGBu4CN_-HB17s9LoJDHfaAH5gs9_=7_5XrtOvv8t1vWe=Z76A@mail.gmail.com>
	<ECF94B6F-BBFB-4D01-8613-0D638F81DD7A@gmail.com>
	<CAGBu4CO+-YEbiUo=yY5+eM7GOL2U9u7AH+qvUy_jZivK9wZreg@mail.gmail.com>
	<50B75D95.6050200@stats.ox.ac.uk>
	<CAGBu4CMmwtc6AxFXs4p9HuScML05gROs5R2se30Mp6ZPQLXePw@mail.gmail.com>
	<50B762A0.3010902@stats.ox.ac.uk>
	<CAGBu4CPNNZ-_f6zWom5L1b8L5JzkOfX1f=Z8ED9o=ncR0cmOrA@mail.gmail.com>
	<B62F39F2-3DE6-4179-B13D-8831AC3ABDF4@xs4all.nl>
Message-ID: <04F68B95-B16F-4894-8C9A-5FF430146A67@imperial.ac.uk>

On 29 Nov 2012, at 16:49, Berend Hasselman <bhh at xs4all.nl> wrote:

> 
> Contents .../00install.out
> 
> * installing *source* package 'vimcom' ...
> checking for pkg-config... no
> ERROR: Cannot find pkg-config.
> ERROR: configuration failed for package 'vimcom'
> * removing '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck/vimcom'
> 
> 
> Install experiment
> -------------------------
> [.../vimcom]: R CMD INSTALL vimcom-master
> * installing to library '/Users/berendhasselman/Library/R/2.15/library'
> * installing *source* package 'vimcom' ...
> checking for pkg-config... no
> ERROR: Cannot find pkg-config.
> ERROR: configuration failed for package 'vimcom'
> * removing '/Users/berendhasselman/Library/R/2.15/library/vimcom'
> 
> pkg-config is not available standard on Mac OS X.
> It is probably available on the Mac binary package machine.

well I do have pkg-config (from MacPorts):

$ which pkg-config
/opt/local/bin/pkg-config

which is in my $PATH

$ echo $PATH
/opt/local/Library/Frameworks/Python.framework/Versions/2.7/bin:/opt/local/bin:/opt/local/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/julia:/usr/local/MacGPG/bin:/usr/texbin

additionally 

$ pkg-config --exists x11

exits without saying/doing anything, which I presume means all is ok, as by Unix tradition.  Unfortunately I do have the same issue:

* installing *source* package ?vimcom? ...
checking for pkg-config... no
ERROR: Cannot find pkg-config.
ERROR: configuration failed for package ?vimcom?

I am not clear why pkg-config should not be successfully called by the build.

BW

F



--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From jalvesaq at gmail.com  Thu Nov 29 18:09:08 2012
From: jalvesaq at gmail.com (Jakson Alves de Aquino)
Date: Thu, 29 Nov 2012 14:09:08 -0300
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <B62F39F2-3DE6-4179-B13D-8831AC3ABDF4@xs4all.nl>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<CAGBu4CN_-HB17s9LoJDHfaAH5gs9_=7_5XrtOvv8t1vWe=Z76A@mail.gmail.com>
	<ECF94B6F-BBFB-4D01-8613-0D638F81DD7A@gmail.com>
	<CAGBu4CO+-YEbiUo=yY5+eM7GOL2U9u7AH+qvUy_jZivK9wZreg@mail.gmail.com>
	<50B75D95.6050200@stats.ox.ac.uk>
	<CAGBu4CMmwtc6AxFXs4p9HuScML05gROs5R2se30Mp6ZPQLXePw@mail.gmail.com>
	<50B762A0.3010902@stats.ox.ac.uk>
	<CAGBu4CPNNZ-_f6zWom5L1b8L5JzkOfX1f=Z8ED9o=ncR0cmOrA@mail.gmail.com>
	<B62F39F2-3DE6-4179-B13D-8831AC3ABDF4@xs4all.nl>
Message-ID: <CAGBu4CNVGNkYDyaRWdc2UBWTeuwGbKRB6dLDCfPkg0w41A9PcQ@mail.gmail.com>

On Thu, Nov 29, 2012 at 1:49 PM, Berend Hasselman <bhh at xs4all.nl> wrote:
> On 29-11-2012, at 17:16, Jakson Alves de Aquino wrote:
>> I adapted the code from cairoDevice package. It was just a matter
>> of replacing gtk with x11 and I hope that now it will build on any
>> unix that have X installed.
>>
>>    https://github.com/jalvesaq/VimCom/
>
> Using Mac OS X 10.6.8 and R version 2.15.2 (2012-10-26)
>
> Experiment 1
> ----------------
> [.../vimcom]: R CMD check vimcom-master
> * using log directory '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck'
> * using R version 2.15.2 (2012-10-26)
> * using platform: x86_64-apple-darwin9.8.0 (64-bit)
> * using session charset: UTF-8
> * checking for file 'vimcom-master/DESCRIPTION' ... OK
> * this is package 'vimcom' version '0.9-5'
> * checking package namespace information ... OK
> * checking package dependencies ... ERROR
> Package suggested but not available: 'knitr'

You can also install the 'knitr' package.

> The suggested packages are required for a complete check.
> Checking can be attempted without them by setting the environment
> variable _R_CHECK_FORCE_SUGGESTS_ to a false value.
>
> Experiment 2
> ----------------
> [.../vimcom]: export _R_CHECK_FORCE_SUGGESTS_=0
> [.../vimcom]: R CMD check vimcom-master
> * using log directory '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck'
> * using R version 2.15.2 (2012-10-26)
> * using platform: x86_64-apple-darwin9.8.0 (64-bit)
> * using session charset: UTF-8
> * checking for file 'vimcom-master/DESCRIPTION' ... OK
> * this is package 'vimcom' version '0.9-5'
> * checking package namespace information ... OK
> * checking package dependencies ... NOTE
> Package suggested but not available for checking: 'knitr'
> * checking if this is a source package ... OK
> * checking if there is a namespace ... OK
> * checking for executable files ... OK
> * checking whether package 'vimcom' can be installed ... ERROR
> Installation failed.
> See '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck/00install.out' for details.
>
> Contents .../00install.out
>
> * installing *source* package 'vimcom' ...
> checking for pkg-config... no
> ERROR: Cannot find pkg-config.
> ERROR: configuration failed for package 'vimcom'

pkg-config is an application that knows what should be the values of
CPPFLAGS and LIBS. Sorry, but I don't know how you can get it
correctly installed on Mac OS X.

> pkg-config is not available standard on Mac OS X.
> It is probably available on the Mac binary package machine.
>
> I don't think you may assume that an X11 installation on Mac OS X
> has been registered with pkg-config or how you call that.
>
> Your method is not foolproof.
> Experts will have to enlighten you.

You are right, and I'm waiting for the experts advice!

Thanks for testing!

-- 
Jakson Alves de Aquino
Federal University of Cear?
Social Sciences Department
www.lepem.ufc.br/aquino.php


From jochen.laubrock at gmail.com  Thu Nov 29 18:29:12 2012
From: jochen.laubrock at gmail.com (Jochen)
Date: Thu, 29 Nov 2012 18:29:12 +0100
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <CAGBu4CNVGNkYDyaRWdc2UBWTeuwGbKRB6dLDCfPkg0w41A9PcQ@mail.gmail.com>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<CAGBu4CN_-HB17s9LoJDHfaAH5gs9_=7_5XrtOvv8t1vWe=Z76A@mail.gmail.com>
	<ECF94B6F-BBFB-4D01-8613-0D638F81DD7A@gmail.com>
	<CAGBu4CO+-YEbiUo=yY5+eM7GOL2U9u7AH+qvUy_jZivK9wZreg@mail.gmail.com>
	<50B75D95.6050200@stats.ox.ac.uk>
	<CAGBu4CMmwtc6AxFXs4p9HuScML05gROs5R2se30Mp6ZPQLXePw@mail.gmail.com>
	<50B762A0.3010902@stats.ox.ac.uk>
	<CAGBu4CPNNZ-_f6zWom5L1b8L5JzkOfX1f=Z8ED9o=ncR0cmOrA@mail.gmail.com>
	<B62F39F2-3DE6-4179-B13D-8831AC3ABDF4@xs4all.nl>
	<CAGBu4CNVGNkYDyaRWdc2UBWTeuwGbKRB6dLDCfPkg0w41A9PcQ@mail.gmail.com>
Message-ID: <C6B1037A-986D-427F-BFF8-506747063FB6@gmail.com>

Just a guess, but maybe XCode and its command line tools need to be installed?


Am 29.11.2012 um 18:09 schrieb Jakson Alves de Aquino <jalvesaq at gmail.com>:

> On Thu, Nov 29, 2012 at 1:49 PM, Berend Hasselman <bhh at xs4all.nl> wrote:
>> On 29-11-2012, at 17:16, Jakson Alves de Aquino wrote:
>>> I adapted the code from cairoDevice package. It was just a matter
>>> of replacing gtk with x11 and I hope that now it will build on any
>>> unix that have X installed.
>>> 
>>>   https://github.com/jalvesaq/VimCom/
>> 
>> Using Mac OS X 10.6.8 and R version 2.15.2 (2012-10-26)
>> 
>> Experiment 1
>> ----------------
>> [.../vimcom]: R CMD check vimcom-master
>> * using log directory '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck'
>> * using R version 2.15.2 (2012-10-26)
>> * using platform: x86_64-apple-darwin9.8.0 (64-bit)
>> * using session charset: UTF-8
>> * checking for file 'vimcom-master/DESCRIPTION' ... OK
>> * this is package 'vimcom' version '0.9-5'
>> * checking package namespace information ... OK
>> * checking package dependencies ... ERROR
>> Package suggested but not available: 'knitr'
> 
> You can also install the 'knitr' package.
> 
>> The suggested packages are required for a complete check.
>> Checking can be attempted without them by setting the environment
>> variable _R_CHECK_FORCE_SUGGESTS_ to a false value.
>> 
>> Experiment 2
>> ----------------
>> [.../vimcom]: export _R_CHECK_FORCE_SUGGESTS_=0
>> [.../vimcom]: R CMD check vimcom-master
>> * using log directory '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck'
>> * using R version 2.15.2 (2012-10-26)
>> * using platform: x86_64-apple-darwin9.8.0 (64-bit)
>> * using session charset: UTF-8
>> * checking for file 'vimcom-master/DESCRIPTION' ... OK
>> * this is package 'vimcom' version '0.9-5'
>> * checking package namespace information ... OK
>> * checking package dependencies ... NOTE
>> Package suggested but not available for checking: 'knitr'
>> * checking if this is a source package ... OK
>> * checking if there is a namespace ... OK
>> * checking for executable files ... OK
>> * checking whether package 'vimcom' can be installed ... ERROR
>> Installation failed.
>> See '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck/00install.out' for details.
>> 
>> Contents .../00install.out
>> 
>> * installing *source* package 'vimcom' ...
>> checking for pkg-config... no
>> ERROR: Cannot find pkg-config.
>> ERROR: configuration failed for package 'vimcom'
> 
> pkg-config is an application that knows what should be the values of
> CPPFLAGS and LIBS. Sorry, but I don't know how you can get it
> correctly installed on Mac OS X.
> 
>> pkg-config is not available standard on Mac OS X.
>> It is probably available on the Mac binary package machine.
>> 
>> I don't think you may assume that an X11 installation on Mac OS X
>> has been registered with pkg-config or how you call that.
>> 
>> Your method is not foolproof.
>> Experts will have to enlighten you.
> 
> You are right, and I'm waiting for the experts advice!
> 
> Thanks for testing!
> 
> -- 
> Jakson Alves de Aquino
> Federal University of Cear?
> Social Sciences Department
> www.lepem.ufc.br/aquino.php
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From f.calboli at imperial.ac.uk  Thu Nov 29 18:37:06 2012
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Thu, 29 Nov 2012 17:37:06 +0000
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <C6B1037A-986D-427F-BFF8-506747063FB6@gmail.com>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<CAGBu4CN_-HB17s9LoJDHfaAH5gs9_=7_5XrtOvv8t1vWe=Z76A@mail.gmail.com>
	<ECF94B6F-BBFB-4D01-8613-0D638F81DD7A@gmail.com>
	<CAGBu4CO+-YEbiUo=yY5+eM7GOL2U9u7AH+qvUy_jZivK9wZreg@mail.gmail.com>
	<50B75D95.6050200@stats.ox.ac.uk>
	<CAGBu4CMmwtc6AxFXs4p9HuScML05gROs5R2se30Mp6ZPQLXePw@mail.gmail.com>
	<50B762A0.3010902@stats.ox.ac.uk>
	<CAGBu4CPNNZ-_f6zWom5L1b8L5JzkOfX1f=Z8ED9o=ncR0cmOrA@mail.gmail.com>
	<B62F39F2-3DE6-4179-B13D-8831AC3ABDF4@xs4all.nl>
	<CAGBu4CNVGNkYDyaRWdc2UBWTeuwGbKRB6dLDCfPkg0w41A9PcQ@mail.gmail.com>
	<C6B1037A-986D-427F-BFF8-506747063FB6@gmail.com>
Message-ID: <F275B464-87B7-47D0-87F5-6E81A6E28AEE@imperial.ac.uk>

On 29 Nov 2012, at 17:29, Jochen <jochen.laubrock at gmail.com> wrote:

> Just a guess, but maybe XCode and its command line tools need to be installed?

I don't know for third parties, but I do have the latest XCode + command line tools installed (and I would need them for MacPorts in the first place).  As by my previous email that's obviously not enough.

BW

F





> 
> 
> Am 29.11.2012 um 18:09 schrieb Jakson Alves de Aquino <jalvesaq at gmail.com>:
> 
>> On Thu, Nov 29, 2012 at 1:49 PM, Berend Hasselman <bhh at xs4all.nl> wrote:
>>> On 29-11-2012, at 17:16, Jakson Alves de Aquino wrote:
>>>> I adapted the code from cairoDevice package. It was just a matter
>>>> of replacing gtk with x11 and I hope that now it will build on any
>>>> unix that have X installed.
>>>> 
>>>>  https://github.com/jalvesaq/VimCom/
>>> 
>>> Using Mac OS X 10.6.8 and R version 2.15.2 (2012-10-26)
>>> 
>>> Experiment 1
>>> ----------------
>>> [.../vimcom]: R CMD check vimcom-master
>>> * using log directory '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck'
>>> * using R version 2.15.2 (2012-10-26)
>>> * using platform: x86_64-apple-darwin9.8.0 (64-bit)
>>> * using session charset: UTF-8
>>> * checking for file 'vimcom-master/DESCRIPTION' ... OK
>>> * this is package 'vimcom' version '0.9-5'
>>> * checking package namespace information ... OK
>>> * checking package dependencies ... ERROR
>>> Package suggested but not available: 'knitr'
>> 
>> You can also install the 'knitr' package.
>> 
>>> The suggested packages are required for a complete check.
>>> Checking can be attempted without them by setting the environment
>>> variable _R_CHECK_FORCE_SUGGESTS_ to a false value.
>>> 
>>> Experiment 2
>>> ----------------
>>> [.../vimcom]: export _R_CHECK_FORCE_SUGGESTS_=0
>>> [.../vimcom]: R CMD check vimcom-master
>>> * using log directory '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck'
>>> * using R version 2.15.2 (2012-10-26)
>>> * using platform: x86_64-apple-darwin9.8.0 (64-bit)
>>> * using session charset: UTF-8
>>> * checking for file 'vimcom-master/DESCRIPTION' ... OK
>>> * this is package 'vimcom' version '0.9-5'
>>> * checking package namespace information ... OK
>>> * checking package dependencies ... NOTE
>>> Package suggested but not available for checking: 'knitr'
>>> * checking if this is a source package ... OK
>>> * checking if there is a namespace ... OK
>>> * checking for executable files ... OK
>>> * checking whether package 'vimcom' can be installed ... ERROR
>>> Installation failed.
>>> See '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck/00install.out' for details.
>>> 
>>> Contents .../00install.out
>>> 
>>> * installing *source* package 'vimcom' ...
>>> checking for pkg-config... no
>>> ERROR: Cannot find pkg-config.
>>> ERROR: configuration failed for package 'vimcom'
>> 
>> pkg-config is an application that knows what should be the values of
>> CPPFLAGS and LIBS. Sorry, but I don't know how you can get it
>> correctly installed on Mac OS X.
>> 
>>> pkg-config is not available standard on Mac OS X.
>>> It is probably available on the Mac binary package machine.
>>> 
>>> I don't think you may assume that an X11 installation on Mac OS X
>>> has been registered with pkg-config or how you call that.
>>> 
>>> Your method is not foolproof.
>>> Experts will have to enlighten you.
>> 
>> You are right, and I'm waiting for the experts advice!
>> 
>> Thanks for testing!
>> 
>> -- 
>> Jakson Alves de Aquino
>> Federal University of Cear?
>> Social Sciences Department
>> www.lepem.ufc.br/aquino.php
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From ripley at stats.ox.ac.uk  Thu Nov 29 18:49:21 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 29 Nov 2012 17:49:21 +0000
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <F275B464-87B7-47D0-87F5-6E81A6E28AEE@imperial.ac.uk>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<CAGBu4CN_-HB17s9LoJDHfaAH5gs9_=7_5XrtOvv8t1vWe=Z76A@mail.gmail.com>
	<ECF94B6F-BBFB-4D01-8613-0D638F81DD7A@gmail.com>
	<CAGBu4CO+-YEbiUo=yY5+eM7GOL2U9u7AH+qvUy_jZivK9wZreg@mail.gmail.com>
	<50B75D95.6050200@stats.ox.ac.uk>
	<CAGBu4CMmwtc6AxFXs4p9HuScML05gROs5R2se30Mp6ZPQLXePw@mail.gmail.com>
	<50B762A0.3010902@stats.ox.ac.uk>
	<CAGBu4CPNNZ-_f6zWom5L1b8L5JzkOfX1f=Z8ED9o=ncR0cmOrA@mail.gmail.com>
	<B62F39F2-3DE6-4179-B13D-8831AC3ABDF4@xs4all.nl>
	<CAGBu4CNVGNkYDyaRWdc2UBWTeuwGbKRB6dLDCfPkg0w41A9PcQ@mail.gmail.com>
	<C6B1037A-986D-427F-BFF8-506747063FB6@gmail.com>
	<F275B464-87B7-47D0-87F5-6E81A6E28AEE@imperial.ac.uk>
Message-ID: <50B7A021.50207@stats.ox.ac.uk>

On 29/11/2012 17:37, Federico Calboli wrote:
> On 29 Nov 2012, at 17:29, Jochen <jochen.laubrock at gmail.com> wrote:
>
>> Just a guess, but maybe XCode and its command line tools need to be installed?
>
> I don't know for third parties, but I do have the latest XCode + command line tools installed (and I would need them for MacPorts in the first place).  As by my previous email that's obviously not enough.

Correct, pkg-config is not part of Xcode.  It is also not a good way to 
find out where X11 is.  I did suggest following R, not a randomly chosen 
package for a different piece of software (GTK+, sic).

As ever, this is covered in the R manuals, which it seems none of you 
have the courtesy to read.  Search for pkg-config in 'Writing R Extensions'.



> BW
>
> F
>
>
>
>
>
>>
>>
>> Am 29.11.2012 um 18:09 schrieb Jakson Alves de Aquino <jalvesaq at gmail.com>:
>>
>>> On Thu, Nov 29, 2012 at 1:49 PM, Berend Hasselman <bhh at xs4all.nl> wrote:
>>>> On 29-11-2012, at 17:16, Jakson Alves de Aquino wrote:
>>>>> I adapted the code from cairoDevice package. It was just a matter
>>>>> of replacing gtk with x11 and I hope that now it will build on any
>>>>> unix that have X installed.
>>>>>
>>>>>   https://github.com/jalvesaq/VimCom/
>>>>
>>>> Using Mac OS X 10.6.8 and R version 2.15.2 (2012-10-26)
>>>>
>>>> Experiment 1
>>>> ----------------
>>>> [.../vimcom]: R CMD check vimcom-master
>>>> * using log directory '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck'
>>>> * using R version 2.15.2 (2012-10-26)
>>>> * using platform: x86_64-apple-darwin9.8.0 (64-bit)
>>>> * using session charset: UTF-8
>>>> * checking for file 'vimcom-master/DESCRIPTION' ... OK
>>>> * this is package 'vimcom' version '0.9-5'
>>>> * checking package namespace information ... OK
>>>> * checking package dependencies ... ERROR
>>>> Package suggested but not available: 'knitr'
>>>
>>> You can also install the 'knitr' package.
>>>
>>>> The suggested packages are required for a complete check.
>>>> Checking can be attempted without them by setting the environment
>>>> variable _R_CHECK_FORCE_SUGGESTS_ to a false value.
>>>>
>>>> Experiment 2
>>>> ----------------
>>>> [.../vimcom]: export _R_CHECK_FORCE_SUGGESTS_=0
>>>> [.../vimcom]: R CMD check vimcom-master
>>>> * using log directory '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck'
>>>> * using R version 2.15.2 (2012-10-26)
>>>> * using platform: x86_64-apple-darwin9.8.0 (64-bit)
>>>> * using session charset: UTF-8
>>>> * checking for file 'vimcom-master/DESCRIPTION' ... OK
>>>> * this is package 'vimcom' version '0.9-5'
>>>> * checking package namespace information ... OK
>>>> * checking package dependencies ... NOTE
>>>> Package suggested but not available for checking: 'knitr'
>>>> * checking if this is a source package ... OK
>>>> * checking if there is a namespace ... OK
>>>> * checking for executable files ... OK
>>>> * checking whether package 'vimcom' can be installed ... ERROR
>>>> Installation failed.
>>>> See '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck/00install.out' for details.
>>>>
>>>> Contents .../00install.out
>>>>
>>>> * installing *source* package 'vimcom' ...
>>>> checking for pkg-config... no
>>>> ERROR: Cannot find pkg-config.
>>>> ERROR: configuration failed for package 'vimcom'
>>>
>>> pkg-config is an application that knows what should be the values of
>>> CPPFLAGS and LIBS. Sorry, but I don't know how you can get it
>>> correctly installed on Mac OS X.
>>>
>>>> pkg-config is not available standard on Mac OS X.
>>>> It is probably available on the Mac binary package machine.
>>>>
>>>> I don't think you may assume that an X11 installation on Mac OS X
>>>> has been registered with pkg-config or how you call that.
>>>>
>>>> Your method is not foolproof.
>>>> Experts will have to enlighten you.
>>>
>>> You are right, and I'm waiting for the experts advice!
>>>
>>> Thanks for testing!
>>>
>>> --
>>> Jakson Alves de Aquino
>>> Federal University of Cear?
>>> Social Sciences Department
>>> www.lepem.ufc.br/aquino.php
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
> --
> Federico C. F. Calboli
> Neuroepidemiology and Ageing Research
> Imperial College, St. Mary's Campus
> Norfolk Place, London W2 1PG
>
> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>
> f.calboli [.a.t] imperial.ac.uk
> f.calboli [.a.t] gmail.com
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From f.calboli at imperial.ac.uk  Thu Nov 29 18:59:16 2012
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Thu, 29 Nov 2012 17:59:16 +0000
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <50B7A021.50207@stats.ox.ac.uk>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<CAGBu4CN_-HB17s9LoJDHfaAH5gs9_=7_5XrtOvv8t1vWe=Z76A@mail.gmail.com>
	<ECF94B6F-BBFB-4D01-8613-0D638F81DD7A@gmail.com>
	<CAGBu4CO+-YEbiUo=yY5+eM7GOL2U9u7AH+qvUy_jZivK9wZreg@mail.gmail.com>
	<50B75D95.6050200@stats.ox.ac.uk>
	<CAGBu4CMmwtc6AxFXs4p9HuScML05gROs5R2se30Mp6ZPQLXePw@mail.gmail.com>
	<50B762A0.3010902@stats.ox.ac.uk>
	<CAGBu4CPNNZ-_f6zWom5L1b8L5JzkOfX1f=Z8ED9o=ncR0cmOrA@mail.gmail.com>
	<B62F39F2-3DE6-4179-B13D-8831AC3ABDF4@xs4all.nl>
	<CAGBu4CNVGNkYDyaRWdc2UBWTeuwGbKRB6dLDCfPkg0w41A9PcQ@mail.gmail.com>
	<C6B1037A-986D-427F-BFF8-506747063FB6@gmail.com>
	<F275B464-87B7-47D0-87F5-6E81A6E28AEE@imperial.ac.uk>
	<50B7A021.50207@stats.ox.ac.uk>
Message-ID: <61E55986-D664-459B-90EB-95B53114D4F0@imperial.ac.uk>

On 29 Nov 2012, at 17:49, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:

> On 29/11/2012 17:37, Federico Calboli wrote:
>> On 29 Nov 2012, at 17:29, Jochen <jochen.laubrock at gmail.com> wrote:
>> 
>>> Just a guess, but maybe XCode and its command line tools need to be installed?
>> 
>> I don't know for third parties, but I do have the latest XCode + command line tools installed (and I would need them for MacPorts in the first place).  As by my previous email that's obviously not enough.
> 
> Correct, pkg-config is not part of Xcode.  It is also not a good way to find out where X11 is.  I did suggest following R, not a randomly chosen package for a different piece of software (GTK+, sic).
> 
> As ever, this is covered in the R manuals, which it seems none of you have the courtesy to read.  Search for pkg-config in 'Writing R Extensions'.

As I am not the package author (I just volunteered to test if it builds on OS X, and in particular on a machine that does have pkg-config installed through MacPorts) I fail to see why *I* should have to courtesy to read the manual.

BW

F



> 
> 
> 
>> BW
>> 
>> F
>> 
>> 
>> 
>> 
>> 
>>> 
>>> 
>>> Am 29.11.2012 um 18:09 schrieb Jakson Alves de Aquino <jalvesaq at gmail.com>:
>>> 
>>>> On Thu, Nov 29, 2012 at 1:49 PM, Berend Hasselman <bhh at xs4all.nl> wrote:
>>>>> On 29-11-2012, at 17:16, Jakson Alves de Aquino wrote:
>>>>>> I adapted the code from cairoDevice package. It was just a matter
>>>>>> of replacing gtk with x11 and I hope that now it will build on any
>>>>>> unix that have X installed.
>>>>>> 
>>>>>>  https://github.com/jalvesaq/VimCom/
>>>>> 
>>>>> Using Mac OS X 10.6.8 and R version 2.15.2 (2012-10-26)
>>>>> 
>>>>> Experiment 1
>>>>> ----------------
>>>>> [.../vimcom]: R CMD check vimcom-master
>>>>> * using log directory '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck'
>>>>> * using R version 2.15.2 (2012-10-26)
>>>>> * using platform: x86_64-apple-darwin9.8.0 (64-bit)
>>>>> * using session charset: UTF-8
>>>>> * checking for file 'vimcom-master/DESCRIPTION' ... OK
>>>>> * this is package 'vimcom' version '0.9-5'
>>>>> * checking package namespace information ... OK
>>>>> * checking package dependencies ... ERROR
>>>>> Package suggested but not available: 'knitr'
>>>> 
>>>> You can also install the 'knitr' package.
>>>> 
>>>>> The suggested packages are required for a complete check.
>>>>> Checking can be attempted without them by setting the environment
>>>>> variable _R_CHECK_FORCE_SUGGESTS_ to a false value.
>>>>> 
>>>>> Experiment 2
>>>>> ----------------
>>>>> [.../vimcom]: export _R_CHECK_FORCE_SUGGESTS_=0
>>>>> [.../vimcom]: R CMD check vimcom-master
>>>>> * using log directory '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck'
>>>>> * using R version 2.15.2 (2012-10-26)
>>>>> * using platform: x86_64-apple-darwin9.8.0 (64-bit)
>>>>> * using session charset: UTF-8
>>>>> * checking for file 'vimcom-master/DESCRIPTION' ... OK
>>>>> * this is package 'vimcom' version '0.9-5'
>>>>> * checking package namespace information ... OK
>>>>> * checking package dependencies ... NOTE
>>>>> Package suggested but not available for checking: 'knitr'
>>>>> * checking if this is a source package ... OK
>>>>> * checking if there is a namespace ... OK
>>>>> * checking for executable files ... OK
>>>>> * checking whether package 'vimcom' can be installed ... ERROR
>>>>> Installation failed.
>>>>> See '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck/00install.out' for details.
>>>>> 
>>>>> Contents .../00install.out
>>>>> 
>>>>> * installing *source* package 'vimcom' ...
>>>>> checking for pkg-config... no
>>>>> ERROR: Cannot find pkg-config.
>>>>> ERROR: configuration failed for package 'vimcom'
>>>> 
>>>> pkg-config is an application that knows what should be the values of
>>>> CPPFLAGS and LIBS. Sorry, but I don't know how you can get it
>>>> correctly installed on Mac OS X.
>>>> 
>>>>> pkg-config is not available standard on Mac OS X.
>>>>> It is probably available on the Mac binary package machine.
>>>>> 
>>>>> I don't think you may assume that an X11 installation on Mac OS X
>>>>> has been registered with pkg-config or how you call that.
>>>>> 
>>>>> Your method is not foolproof.
>>>>> Experts will have to enlighten you.
>>>> 
>>>> You are right, and I'm waiting for the experts advice!
>>>> 
>>>> Thanks for testing!
>>>> 
>>>> --
>>>> Jakson Alves de Aquino
>>>> Federal University of Cear?
>>>> Social Sciences Department
>>>> www.lepem.ufc.br/aquino.php
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
>> --
>> Federico C. F. Calboli
>> Neuroepidemiology and Ageing Research
>> Imperial College, St. Mary's Campus
>> Norfolk Place, London W2 1PG
>> 
>> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>> 
>> f.calboli [.a.t] imperial.ac.uk
>> f.calboli [.a.t] gmail.com
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From bhh at xs4all.nl  Thu Nov 29 19:32:22 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Thu, 29 Nov 2012 19:32:22 +0100
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <50B7A021.50207@stats.ox.ac.uk>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<CAGBu4CN_-HB17s9LoJDHfaAH5gs9_=7_5XrtOvv8t1vWe=Z76A@mail.gmail.com>
	<ECF94B6F-BBFB-4D01-8613-0D638F81DD7A@gmail.com>
	<CAGBu4CO+-YEbiUo=yY5+eM7GOL2U9u7AH+qvUy_jZivK9wZreg@mail.gmail.com>
	<50B75D95.6050200@stats.ox.ac.uk>
	<CAGBu4CMmwtc6AxFXs4p9HuScML05gROs5R2se30Mp6ZPQLXePw@mail.gmail.com>
	<50B762A0.3010902@stats.ox.ac.uk>
	<CAGBu4CPNNZ-_f6zWom5L1b8L5JzkOfX1f=Z8ED9o=ncR0cmOrA@mail.gmail.com>
	<B62F39F2-3DE6-4179-B13D-8831AC3ABDF4@xs4all.nl>
	<CAGBu4CNVGNkYDyaRWdc2UBWTeuwGbKRB6dLDCfPkg0w41A9PcQ@mail.gmail.com>
	<C6B1037A-986D-427F-BFF8-506747063FB6@gmail.com>
	<F275B464-87B7-47D0-87F5-6E81A6E28AEE@imperial.ac.uk>
	<50B7A021.50207@stats.ox.ac.uk>
Message-ID: <A05B460B-4D83-4D72-A084-813B419A8CC5@xs4all.nl>


On 29-11-2012, at 18:49, Prof Brian Ripley wrote:

> On 29/11/2012 17:37, Federico Calboli wrote:
>> On 29 Nov 2012, at 17:29, Jochen <jochen.laubrock at gmail.com> wrote:
>> 
>>> Just a guess, but maybe XCode and its command line tools need to be installed?
>> 
>> I don't know for third parties, but I do have the latest XCode + command line tools installed (and I would need them for MacPorts in the first place).  As by my previous email that's obviously not enough.
> 
> Correct, pkg-config is not part of Xcode.  It is also not a good way to find out where X11 is.  I did suggest following R, not a randomly chosen package for a different piece of software (GTK+, sic).
> 
> As ever, this is covered in the R manuals, which it seems none of you have the courtesy to read.  Search for pkg-config in 'Writing R Extensions'.
> 
> 

I have read the R manuals.
I have looked at R's configure script.
I looked at the source of the cairoDevice package and the vimcom package.
And decided that what the OP had made would not work on Mac OS X.
Which I demonstrated.

The OP will have to look at the relevant sections of R's configure script. Very clever but too difficult for me.
I will happily test for the OP to see if the package will install out of the box.
And not more than that.

Berend

> 
>> BW
>> 
>> F
>> 
>> 
>> 
>> 
>> 
>>> 
>>> 
>>> Am 29.11.2012 um 18:09 schrieb Jakson Alves de Aquino <jalvesaq at gmail.com>:
>>> 
>>>> On Thu, Nov 29, 2012 at 1:49 PM, Berend Hasselman <bhh at xs4all.nl> wrote:
>>>>> On 29-11-2012, at 17:16, Jakson Alves de Aquino wrote:
>>>>>> I adapted the code from cairoDevice package. It was just a matter
>>>>>> of replacing gtk with x11 and I hope that now it will build on any
>>>>>> unix that have X installed.
>>>>>> 
>>>>>>  https://github.com/jalvesaq/VimCom/
>>>>> 
>>>>> Using Mac OS X 10.6.8 and R version 2.15.2 (2012-10-26)
>>>>> 
>>>>> Experiment 1
>>>>> ----------------
>>>>> [.../vimcom]: R CMD check vimcom-master
>>>>> * using log directory '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck'
>>>>> * using R version 2.15.2 (2012-10-26)
>>>>> * using platform: x86_64-apple-darwin9.8.0 (64-bit)
>>>>> * using session charset: UTF-8
>>>>> * checking for file 'vimcom-master/DESCRIPTION' ... OK
>>>>> * this is package 'vimcom' version '0.9-5'
>>>>> * checking package namespace information ... OK
>>>>> * checking package dependencies ... ERROR
>>>>> Package suggested but not available: 'knitr'
>>>> 
>>>> You can also install the 'knitr' package.
>>>> 
>>>>> The suggested packages are required for a complete check.
>>>>> Checking can be attempted without them by setting the environment
>>>>> variable _R_CHECK_FORCE_SUGGESTS_ to a false value.
>>>>> 
>>>>> Experiment 2
>>>>> ----------------
>>>>> [.../vimcom]: export _R_CHECK_FORCE_SUGGESTS_=0
>>>>> [.../vimcom]: R CMD check vimcom-master
>>>>> * using log directory '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck'
>>>>> * using R version 2.15.2 (2012-10-26)
>>>>> * using platform: x86_64-apple-darwin9.8.0 (64-bit)
>>>>> * using session charset: UTF-8
>>>>> * checking for file 'vimcom-master/DESCRIPTION' ... OK
>>>>> * this is package 'vimcom' version '0.9-5'
>>>>> * checking package namespace information ... OK
>>>>> * checking package dependencies ... NOTE
>>>>> Package suggested but not available for checking: 'knitr'
>>>>> * checking if this is a source package ... OK
>>>>> * checking if there is a namespace ... OK
>>>>> * checking for executable files ... OK
>>>>> * checking whether package 'vimcom' can be installed ... ERROR
>>>>> Installation failed.
>>>>> See '/Users/berendhasselman/Documents/Programming/R/pkgsrc/vimcom/vimcom-master.Rcheck/00install.out' for details.
>>>>> 
>>>>> Contents .../00install.out
>>>>> 
>>>>> * installing *source* package 'vimcom' ...
>>>>> checking for pkg-config... no
>>>>> ERROR: Cannot find pkg-config.
>>>>> ERROR: configuration failed for package 'vimcom'
>>>> 
>>>> pkg-config is an application that knows what should be the values of
>>>> CPPFLAGS and LIBS. Sorry, but I don't know how you can get it
>>>> correctly installed on Mac OS X.
>>>> 
>>>>> pkg-config is not available standard on Mac OS X.
>>>>> It is probably available on the Mac binary package machine.
>>>>> 
>>>>> I don't think you may assume that an X11 installation on Mac OS X
>>>>> has been registered with pkg-config or how you call that.
>>>>> 
>>>>> Your method is not foolproof.
>>>>> Experts will have to enlighten you.
>>>> 
>>>> You are right, and I'm waiting for the experts advice!
>>>> 
>>>> Thanks for testing!
>>>> 
>>>> --
>>>> Jakson Alves de Aquino
>>>> Federal University of Cear?
>>>> Social Sciences Department
>>>> www.lepem.ufc.br/aquino.php
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
>> --
>> Federico C. F. Calboli
>> Neuroepidemiology and Ageing Research
>> Imperial College, St. Mary's Campus
>> Norfolk Place, London W2 1PG
>> 
>> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>> 
>> f.calboli [.a.t] imperial.ac.uk
>> f.calboli [.a.t] gmail.com
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Thu Nov 29 21:42:35 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 29 Nov 2012 15:42:35 -0500
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
Message-ID: <AC4AA2FF-600A-4223-B1D2-6F6A82401BE8@r-project.org>

On Nov 28, 2012, at 7:38 PM, Jakson Alves de Aquino wrote:

> Hi,
> 
> I submitted a package to CRAN:
> http://cran.r-project.org/web/packages/vimcom/index.html
> 
> It builds on Linux without warnings, but there is the following error
> on Mac OS X:
> 
>    ld: library not found for -lX11
>    collect2: ld returned 1 exit status
>    make: *** [vimcom.so] Error 1
>    ERROR: compilation failed for package 'vimcom'
> 
> The complete log is here:
> http://www.r-project.org/nosvn/R.check/r-release-macosx-ix86/vimcom-00install.html
> 
> I know that I have to edit the src/Makevars file, but I don't know
> what I should put there and I don't have access to any machine running
> Mac OS X to make tests. Any help will be appreciated.
> 

The issue is not Mac specific at all. A couple points: you cannot assume X11 because R can be built with or without X11 - in fact most recent OS X comes without X11 so requiring it may limit the availability of your package. If you really require X11 you'll have to declare that in your DESCRIPTION file. Furthermore, R doesn't expose X11 flags to packages so you'll have to write a configure test to determine proper X1 flags for your package. Just adding -lX11 to Makevars doesn't work. See the autoconf documentation - there are typically tests for X11 that can be re-used (R uses them, too). This may also require special flags depending on the configuration (autoconf provides --x-libraries and --x-includes for that). I don't know what you really need - ideally, you should make any X11 code conditional on the availability of X11 --  I don't know whether that is a basic requirement for your package or not, so how to proceed from here may depend on that.

Cheers,
Simon


> Thanks,
> 
> -- 
> Jakson Alves de Aquino
> Federal University of Cear?
> Social Sciences Department
> www.lepem.ufc.br/aquino.php
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Thu Nov 29 21:55:33 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 29 Nov 2012 15:55:33 -0500
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <AC4AA2FF-600A-4223-B1D2-6F6A82401BE8@r-project.org>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<AC4AA2FF-600A-4223-B1D2-6F6A82401BE8@r-project.org>
Message-ID: <8FD32CE1-5872-42BB-9114-E22D86F13783@r-project.org>

I wrote this post yesterday but for some reason it did not leave the outbox, so apologies to everyone since a mailer glitch apparently failed to prevent the waste of time of quite a few people. To follow up on the post - the autoconf macros to look for are AC_PATH_X and AC_PATH_XTRA.

Cheers,
Simon

On Nov 29, 2012, at 3:42 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:

> On Nov 28, 2012, at 7:38 PM, Jakson Alves de Aquino wrote:
> 
>> Hi,
>> 
>> I submitted a package to CRAN:
>> http://cran.r-project.org/web/packages/vimcom/index.html
>> 
>> It builds on Linux without warnings, but there is the following error
>> on Mac OS X:
>> 
>>   ld: library not found for -lX11
>>   collect2: ld returned 1 exit status
>>   make: *** [vimcom.so] Error 1
>>   ERROR: compilation failed for package 'vimcom'
>> 
>> The complete log is here:
>> http://www.r-project.org/nosvn/R.check/r-release-macosx-ix86/vimcom-00install.html
>> 
>> I know that I have to edit the src/Makevars file, but I don't know
>> what I should put there and I don't have access to any machine running
>> Mac OS X to make tests. Any help will be appreciated.
>> 
> 
> The issue is not Mac specific at all. A couple points: you cannot assume X11 because R can be built with or without X11 - in fact most recent OS X comes without X11 so requiring it may limit the availability of your package. If you really require X11 you'll have to declare that in your DESCRIPTION file. Furthermore, R doesn't expose X11 flags to packages so you'll have to write a configure test to determine proper X1 flags for your package. Just adding -lX11 to Makevars doesn't work. See the autoconf documentation - there are typically tests for X11 that can be re-used (R uses them, too). This may also require special flags depending on the configuration (autoconf provides --x-libraries and --x-includes for that). I don't know what you really need - ideally, you should make any X11 code conditional on the availability of X11 --  I don't know whether that is a basic requirement for your package or not, so how to proceed from here may depend on that.
> 
> Cheers,
> Simon
> 
> 
>> Thanks,
>> 
>> -- 
>> Jakson Alves de Aquino
>> Federal University of Cear?
>> Social Sciences Department
>> www.lepem.ufc.br/aquino.php
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From jalvesaq at gmail.com  Thu Nov 29 22:49:20 2012
From: jalvesaq at gmail.com (Jakson Alves de Aquino)
Date: Thu, 29 Nov 2012 18:49:20 -0300
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <8FD32CE1-5872-42BB-9114-E22D86F13783@r-project.org>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<AC4AA2FF-600A-4223-B1D2-6F6A82401BE8@r-project.org>
	<8FD32CE1-5872-42BB-9114-E22D86F13783@r-project.org>
Message-ID: <CAGBu4CO4PSiZc70Y-WKht5amq-m31zd2mrCP=HPObka=RkZ7PQ@mail.gmail.com>

On Thu, Nov 29, 2012 at 5:55 PM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
> I wrote this post yesterday but for some reason it did not leave the
> outbox, so apologies to everyone since a mailer glitch apparently
> failed to prevent the waste of time of quite a few people. To follow
> up on the post - the autoconf macros to look for are AC_PATH_X and
> AC_PATH_XTRA.

Thank you! I updated the package using AC_PATH_EXTRA in the
configure.ac. To make it easier for people who are helping testing
the package and who don't use git, I also put the package here:

   http://www.lepem.ufc.br/jaa/vimcom_0.9-5.tar.gz

The vimcom package allows R to send messages to Vim text editor. I
need the messages to automatically update the Object Browser.
On Unix, Vim receives the messages through X11 and it seems that this
feature is available on Mac OS X too:

   http://stackoverflow.com/questions/10231223/compile-vim-7-3-with-clientserver-feature-on-mac-os-x

Best regards,

Jakson


From dwinsemius at comcast.net  Thu Nov 29 23:56:06 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 29 Nov 2012 14:56:06 -0800
Subject: [R-SIG-Mac] phantom text in console with R 2.15.2
In-Reply-To: <A1C43CD5DD424851AE8437592EB8321F@sheffield.ac.uk>
References: <A1C43CD5DD424851AE8437592EB8321F@sheffield.ac.uk>
Message-ID: <F9FAB83A-C6B6-4792-92AD-65E00E0143C0@comcast.net>


On Nov 27, 2012, at 9:47 AM, Andrew Beckerman wrote:

> A few weeks ago, Dan Rabosky posted a query about phantom text. 
> 
> https://stat.ethz.ch/pipermail/r-sig-mac/2012-November/009718.html
> 
> I am having a similar issue - using the cmd-Return key combo from the script to the console often generates grey text BEFORE the prompt. 
> 
> For example, below, the first test<-rnorm(10,0,1) is generated in the console, then printed by typing in the console, three times.  
> 
> The fourth test <- rnorm(10,0,1) is cmd-Returned from a script, generating the new pre-prompt-text.  
> 
> I can generate a variant of this behaviour at start-up of R every time.
> 
> OSX 10.8.2 Macbook OR MacPro both with R 2.15.2 (64 bit) R.app 1.53 (6335).
> 
>> test<-rnorm(10,0,1)
>> test
> [1]  0.25936761  0.04522577 -0.62494471 -0.87426290  1.31470309 -0.37134371 -0.03225490  0.02028375
> [9] -0.50492015 -0.74642678
>> test
> [1]  0.25936761  0.04522577 -0.62494471 -0.87426290  1.31470309 -0.37134371 -0.03225490  0.02028375
> [9] -0.50492015 -0.74642678
>> test
> [1]  0.25936761  0.04522577 -0.62494471 -0.87426290  1.31470309 -0.37134371 -0.03225490  0.02028375
> [9] -0.50492015 -0.74642678
>> test<-rnorm(10,0,1)
> testtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttest> test
> [1]  1.4110371  0.3789288  0.4476112  0.3928953  1.1313824  0.3370125 -0.4822913 -0.4033394 -0.1841501
> [10]  0.4896509

I'm not able to reproduce this in 2.15.2 running R.app GUI 1.53 (6335) in Snow Leopard, but in an earlier session I did observe the ghost-text phenomenon. In my case it was a column of numbers interrupted by the name of a dataframe that did not happen to be loaded at the time, but was referenced in an source document that was being edited using the GUI facilities.

-- 

David Winsemius, MD
Alameda, CA, USA


From davies.trevor at gmail.com  Fri Nov 30 05:01:30 2012
From: davies.trevor at gmail.com (Trevor Davies)
Date: Thu, 29 Nov 2012 20:01:30 -0800
Subject: [R-SIG-Mac] up/down arrow history
Message-ID: <CAJhyqVhXvQL95p=gZi82ObVDw-d4-fYw05kQtZc9Z1_Foiir_Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121129/6957a31e/attachment.pl>

From pdalgd at gmail.com  Fri Nov 30 07:38:25 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Fri, 30 Nov 2012 07:38:25 +0100
Subject: [R-SIG-Mac] up/down arrow history
In-Reply-To: <CAJhyqVhXvQL95p=gZi82ObVDw-d4-fYw05kQtZc9Z1_Foiir_Q@mail.gmail.com>
References: <CAJhyqVhXvQL95p=gZi82ObVDw-d4-fYw05kQtZc9Z1_Foiir_Q@mail.gmail.com>
Message-ID: <F1328CB3-6204-4E97-8CFD-7C659F97405D@gmail.com>


On Nov 30, 2012, at 05:01 , Trevor Davies wrote:

> This must have been asked before but I'm sorry I can't find the solution.
> 
> Is there a way to get the up/arrow down arrow history for R to work (can
> even be M- or C-) so it's consistent with terminal keys? I'm just moving
> from linux and I wouldn't mind a few consistencies with how I had my linux
> set up.
> 
> Thank you very much for the assist.
> Trevor
> 
> I am aware of the M-p and M-n but I was hoping to get the arrows if
> possible.
> 

Er, in which context? Arrow keys work fine for me in R.app, R within a Terminal, and in the Terminal app itself. In an emacs buffer, I need M-p etc., but that's the same way on Linux.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From a.beckerman at sheffield.ac.uk  Fri Nov 30 16:08:20 2012
From: a.beckerman at sheffield.ac.uk (Andrew Beckerman)
Date: Fri, 30 Nov 2012 15:08:20 +0000
Subject: [R-SIG-Mac] phantom text in console with R 2.15.2
In-Reply-To: <F9FAB83A-C6B6-4792-92AD-65E00E0143C0@comcast.net>
References: <A1C43CD5DD424851AE8437592EB8321F@sheffield.ac.uk>
	<F9FAB83A-C6B6-4792-92AD-65E00E0143C0@comcast.net>
Message-ID: <9E3A28C4A2BD4118927DEEDD6B65E85E@sheffield.ac.uk>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121130/d8749048/attachment.pl>

From dwinsemius at comcast.net  Fri Nov 30 21:26:17 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 30 Nov 2012 12:26:17 -0800
Subject: [R-SIG-Mac] up/down arrow history
In-Reply-To: <CAJhyqVhXvQL95p=gZi82ObVDw-d4-fYw05kQtZc9Z1_Foiir_Q@mail.gmail.com>
References: <CAJhyqVhXvQL95p=gZi82ObVDw-d4-fYw05kQtZc9Z1_Foiir_Q@mail.gmail.com>
Message-ID: <4EE5C8EA-6CF8-4266-8C2C-A7B81C159CF7@comcast.net>


On Nov 29, 2012, at 8:01 PM, Trevor Davies wrote:

> This must have been asked before but I'm sorry I can't find the solution.
> 
> Is there a way to get the up/arrow down arrow history for R to work (can
> even be M- or C-) so it's consistent with terminal keys? I'm just moving
> from linux and I wouldn't mind a few consistencies with how I had my linux
> set up.

Peter has answered and he has Linux experience whereas I do not. The one surprise I encounter is that if the cursor on the console session has bee moved off the command line, the up-arrow and down-arrows no linger work. It is easy to fix that in one keystroke by just typing a <space> which repositions the cursor at the command line.
> 
> Thank you very much for the assist.
> Trevor
> 
> I am aware of the M-p and M-n but I was hoping to get the arrows if
> possible.
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Alameda, CA, USA


From davies.trevor at gmail.com  Fri Nov 30 21:30:36 2012
From: davies.trevor at gmail.com (Trevor Davies)
Date: Fri, 30 Nov 2012 12:30:36 -0800
Subject: [R-SIG-Mac] up/down arrow history
In-Reply-To: <4EE5C8EA-6CF8-4266-8C2C-A7B81C159CF7@comcast.net>
References: <CAJhyqVhXvQL95p=gZi82ObVDw-d4-fYw05kQtZc9Z1_Foiir_Q@mail.gmail.com>
	<4EE5C8EA-6CF8-4266-8C2C-A7B81C159CF7@comcast.net>
Message-ID: <CAJhyqVgrv5G0s+ZxCC9zcgHCH0ax=FmM_te4_Kp1FuQ-Ev1NZA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121130/2e6ee95a/attachment.pl>

From massimodisasha at gmail.com  Mon Nov 26 11:53:34 2012
From: massimodisasha at gmail.com (Massimo Di Stefano)
Date: Mon, 26 Nov 2012 05:53:34 -0500
Subject: [R-SIG-Mac] R+GFortran - build Rgdal on osx 10.8 - homebrew
Message-ID: <50B34A2E.5070307@gmail.com>

Hi All,

i'm having trouble trying to build Rgdal from source on mac osx 10.8.x

i have R and gfortran installed using Homebrew.

when i try to build rgdal i got this log :

epi:~ epi$ R CMD INSTALL rgdal_0.7-22.tar.gz
* installing to library
?/usr/local/Cellar/r/2.15.2/R.framework/Versions/2.15/Resources/library?
* installing *source* package ?rgdal? ...
** package ?rgdal? successfully unpacked and MD5 sums checked
configure: gdal-config: gdal-config
checking gdal-config usability... yes
configure: GDAL: 1.9.2
checking GDAL version > 1.5.4... yes
checking for gcc... cc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables...
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether cc accepts -g... yes
checking for cc option to accept ISO C89... none needed
checking how to run the C preprocessor... cc -E
checking for grep that handles long lines and -e... /usr/bin/grep
checking for egrep... /usr/bin/grep -E
checking for ANSI C header files... rm: conftest.dSYM: is a directory
rm: conftest.dSYM: is a directory
yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking gdal.h usability... yes
checking gdal.h presence... yes
checking for gdal.h... yes
checking gdal: linking with --libs only... no
checking gdal: linking with --libs and --dep-libs... no
clang: warning: treating 'c' input as 'c++' when in C++ mode, this
behavior is deprecated
gdal_test.c:5:1: error: C++ requires a type specifier for all declarations
main() {
^~~~
1 error generated.
clang: warning: treating 'c' input as 'c++' when in C++ mode, this
behavior is deprecated
gdal_test.c:5:1: error: C++ requires a type specifier for all declarations
main() {
^~~~
1 error generated.
configure: Install failure: compilation and/or linkage problems.
configure: error: GDALAllRegister not found in libgdal.
ERROR: configuration failed for package ?rgdal?
* removing
?/usr/local/Cellar/r/2.15.2/R.framework/Versions/2.15/Resources/library/rgdal? 

epi:~ epi$


have you any clue about it ?


I tried to untar the rgdal.tar.gz
and rerun the R CMD install command ,

i attached a link to the logs :

http://epi.whoi.edu/esr/errors.txt
http://epi.whoi.edu/esr/configure.ac
http://epi.whoi.edu/config.log


sessionInfo()
R version 2.15.2 (2012-10-26)
Platform: x86_64-apple-darwin12.2.0 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats graphics grDevices utils datasets methods base



###


epi:~ epi$ gfortran -v
Using built-in specs.
COLLECT_GCC=gfortran
COLLECT_LTO_WRAPPER=/usr/local/Cellar/gfortran/4.7.2/gfortran/libexec/gcc/x86_64-apple-darwin12.2.0/4.7.2/lto-wrapper 

Target: x86_64-apple-darwin12.2.0
Configured with: ../configure --enable-languages=fortran
--prefix=/usr/local/Cellar/gfortran/4.7.2/gfortran
--datarootdir=/usr/local/Cellar/gfortran/4.7.2/share
--bindir=/usr/local/Cellar/gfortran/4.7.2/bin --with-system-zlib
--with-gmp=/usr/local/opt/gmp --with-mpfr=/usr/local/opt/mpfr
--with-mpc=/usr/local/opt/libmpc --enable-checking=release
--disable-stage1-checking --disable-build-poststage1-with-cxx
--disable-libstdcxx-pc --disable-nls
Thread model: posix
gcc version 4.7.2 (GCC)
epi:~ epi$


(i'm using homebrew for gfortran ,
the standard R binary for mac was not able to detect the gfortran that 
comes with homebrew
- missed ld -lgfortran)


Thanks!!!

Massimo.


From faradj.g at gmail.com  Sun Nov 25 21:01:28 2012
From: faradj.g at gmail.com (Faradj Koliev)
Date: Sun, 25 Nov 2012 21:01:28 +0100
Subject: =?iso-8859-1?q?_=5BR-SIG-Mac=5D_Why_do_i_get=3A_Error=3A_unexpec?=
	=?iso-8859-1?q?ted_input_in_=22A=3C-lm=28GandW_=7E_Authocracy=2CDa?=
	=?iso-8859-1?q?ta=29=11=22_=3F?=
Message-ID: <C3F60139-ACFA-4843-B9CE-CC2CA4262DE8@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121125/6329836e/attachment.pl>

