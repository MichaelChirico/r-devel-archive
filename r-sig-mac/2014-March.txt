From tmrsg11 at gmail.com  Sat Mar  1 00:45:06 2014
From: tmrsg11 at gmail.com (C W)
Date: Fri, 28 Feb 2014 18:45:06 -0500
Subject: [R-SIG-Mac] R console and R controller error message
Message-ID: <CAE2FW2mWbEsM2O+NBQGNGF4PrCCrrTiuuSPNN=qT9PpJa1zCEw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140228/8497a720/attachment.pl>

From cubranic at stat.ubc.ca  Mon Mar  3 02:11:18 2014
From: cubranic at stat.ubc.ca (Davor Cubranic)
Date: Sun, 2 Mar 2014 17:11:18 -0800
Subject: [R-SIG-Mac] Rmpi package
In-Reply-To: <CAPUB6NC2HauAyNRem1oQNSC6V90PZ5nQVpq0WDDQJHJ6MeBV-w@mail.gmail.com>
References: <CAPUB6NC2HauAyNRem1oQNSC6V90PZ5nQVpq0WDDQJHJ6MeBV-w@mail.gmail.com>
Message-ID: <1E03D045-C530-4501-8557-9A4A3E91D630@stat.ubc.ca>

You didn't provide details of your R installation. Was it also from Homebrew?

Davor

> On Feb 28, 2014, at 9:17 AM, Paul Johnson <paul54729 at gmail.com> wrote:
> 
> I have had success in installing Rmpi on Mavericks, and it may be helpful
> to others:
> 
> I first installed *gfortran* and *open-mpi*:
> brew install gfortran
> brew install open-mpi
> 
> Then in R I installed Rmpi using this command:
> *install.packages("Rmpi", type="source",
> configure.args="with-mpi=/usr/local/opt/open-mpi")*
> 
> (The *configure.args* parameter got around the following error: "Cannot
> find mpi.h header file".)
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From deliverable at gmail.com  Mon Mar  3 06:25:05 2014
From: deliverable at gmail.com (Alexy Khrabrov)
Date: Sun, 2 Mar 2014 21:25:05 -0800
Subject: [R-SIG-Mac] building 32-bit version of R 3.x
In-Reply-To: <530C7A65.3080109@stats.ox.ac.uk>
References: <CADSi6a2RvRmt1rL2xYxf5PAR=isHfd8XDj15O+G=DaeQahtEOw@mail.gmail.com>
	<530C7A65.3080109@stats.ox.ac.uk>
Message-ID: <CADSi6a0niL57sp55jjbMfoscp+M1UpMjnRTabVxcXN5mQfTdgw@mail.gmail.com>

On Tue, Feb 25, 2014 at 3:11 AM, Prof Brian Ripley
<ripley at stats.ox.ac.uk> wrote:

>> Looking at the sources, there's no obvious way to switch to 32-bit.  The
>> gfortran.pkg (4.2.3) seems obsolete; I've configured the default setup
>
> So?  At least it includes a 32-bit compiler (by default if I understand the
> version you are using).
>

Correct -- but with the current Apple gcc and -arch i386, that old
gfortran and C++ disagree on integer and double sizes in configure.

> You need to specify a 32-bit compiler.  AFAIK -arch is specific to Apple
> front-ends, and the value is i386, not x686.
>
> If you build multilib GCC from the sources, the flag needed is -m32.
>
> This *is* all in the relevant manual.

The manual seems rather general there.  I'd like to know whether
someone has done this recently and what the exact steps are to

-- build the gcc and gfortran with both i386 and x86_64 standard libraries
-- compile latest R with it
-- how to install and manage the setup for invoking one or the other,
and linking to one's or the other's .dylib

>>         [[alternative HTML version deleted]]

I'll dare to object to your signature objection here -- the times
moved on, and most web-based email services, such as gmail, use HTML
mail by default.  Even those who used to run mutt and the like are on
gmail, and not always do they bother to set plain text mode.  So I'd
be OK with the line above, but I will set plain text mode to honor the
tradition.

A+


From dwinsemius at comcast.net  Mon Mar  3 10:54:03 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 3 Mar 2014 16:54:03 +0700
Subject: [R-SIG-Mac] building 32-bit version of R 3.x
In-Reply-To: <CADSi6a0niL57sp55jjbMfoscp+M1UpMjnRTabVxcXN5mQfTdgw@mail.gmail.com>
References: <CADSi6a2RvRmt1rL2xYxf5PAR=isHfd8XDj15O+G=DaeQahtEOw@mail.gmail.com>
	<530C7A65.3080109@stats.ox.ac.uk>
	<CADSi6a0niL57sp55jjbMfoscp+M1UpMjnRTabVxcXN5mQfTdgw@mail.gmail.com>
Message-ID: <83D7DC07-A00F-4CF2-B56D-07A220BEB4A6@comcast.net>



Sent from my iPhone

> On Mar 3, 2014, at 12:25 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:
> 
> On Tue, Feb 25, 2014 at 3:11 AM, Prof Brian Ripley
> <ripley at stats.ox.ac.uk> wrote:
> 
> 
>>>        [[alternative HTML version deleted]]
> 
> I'll dare to object to your signature objection here -- the times
> moved on, and most web-based email services, such as gmail, use HTML
> mail by default.  Even those who used to run mutt and the like are on
> gmail, and not always do they bother to set plain text mode.  So I'd
> be OK with the line above, but I will set plain text mode to honor the
> tradition.

You can object all you


> A+
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dwinsemius at comcast.net  Mon Mar  3 11:01:48 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 3 Mar 2014 17:01:48 +0700
Subject: [R-SIG-Mac] building 32-bit version of R 3.x
In-Reply-To: <83D7DC07-A00F-4CF2-B56D-07A220BEB4A6@comcast.net>
References: <CADSi6a2RvRmt1rL2xYxf5PAR=isHfd8XDj15O+G=DaeQahtEOw@mail.gmail.com>
	<530C7A65.3080109@stats.ox.ac.uk>
	<CADSi6a0niL57sp55jjbMfoscp+M1UpMjnRTabVxcXN5mQfTdgw@mail.gmail.com>
	<83D7DC07-A00F-4CF2-B56D-07A220BEB4A6@comcast.net>
Message-ID: <64D02879-5D91-4A32-83EB-B74646222E24@comcast.net>



Sent from my iPhone

> On Mar 3, 2014, at 4:54 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> 
> 
> Sent from my iPhone
> 
>> On Mar 3, 2014, at 12:25 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:
>> 
>> On Tue, Feb 25, 2014 at 3:11 AM, Prof Brian Ripley
>> <ripley at stats.ox.ac.uk> wrote:
>> 
>> 
>>>>       [[alternative HTML version deleted]]
>> 
>> I'll dare to object to your signature objection here -- the times
>> moved on, and most web-based email services, such as gmail, use HTML
>> mail by default.  Even those who used to run mutt and the like are on
>> gmail, and not always do they bother to set plain text mode.  So I'd
>> be OK with the line above, but I will set plain text mode to honor the
>> tradition.

> You can object all you
you like but you should realize that it is a message from the mail server, not from Prof Ripley.

-- 
David 

> 
> 
>> A+
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Mon Mar  3 20:01:48 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Mar 2014 14:01:48 -0500
Subject: [R-SIG-Mac] building 32-bit version of R 3.x
In-Reply-To: <CADSi6a0niL57sp55jjbMfoscp+M1UpMjnRTabVxcXN5mQfTdgw@mail.gmail.com>
References: <CADSi6a2RvRmt1rL2xYxf5PAR=isHfd8XDj15O+G=DaeQahtEOw@mail.gmail.com>
	<530C7A65.3080109@stats.ox.ac.uk>
	<CADSi6a0niL57sp55jjbMfoscp+M1UpMjnRTabVxcXN5mQfTdgw@mail.gmail.com>
Message-ID: <9CECC421-4C78-46DE-BA95-4FE75C1058A1@r-project.org>


On Mar 3, 2014, at 12:25 AM, Alexy Khrabrov <deliverable at gmail.com> wrote:

> On Tue, Feb 25, 2014 at 3:11 AM, Prof Brian Ripley
> <ripley at stats.ox.ac.uk> wrote:
> 
>>> Looking at the sources, there's no obvious way to switch to 32-bit.  The
>>> gfortran.pkg (4.2.3) seems obsolete; I've configured the default setup
>> 
>> So?  At least it includes a 32-bit compiler (by default if I understand the
>> version you are using).
>> 
> 
> Correct -- but with the current Apple gcc and -arch i386, that old gfortran and C++ disagree on integer and double sizes in configure.
> 

I don't think so - those two the same even between 32-bit and 64-bit. I suspect you're misinterpreting the output (which you didn't provide) and if there is indeed some other error you have likely not set the correct flags. I can confirm that

CC='gcc -arch i386' CXX='g++ -arch i386' F77='gfortran -arch i386' FC='gfortran -arch i386' OBJC='gcc -arch i386'

works just fine (assuming your system has both 32-bit and 64-bit libraries).


>> You need to specify a 32-bit compiler.  AFAIK -arch is specific to Apple
>> front-ends, and the value is i386, not x686.
>> 
>> If you build multilib GCC from the sources, the flag needed is -m32.
>> 
>> This *is* all in the relevant manual.
> 
> The manual seems rather general there.  I'd like to know whether
> someone has done this recently and what the exact steps are to
> 
> -- build the gcc and gfortran with both i386 and x86_64 standard libraries
> -- compile latest R with it
> -- how to install and manage the setup for invoking one or the other,
> and linking to one's or the other's .dylib
> 

You cannot link one another's dylibs since they are two entirely different, incompatible architectures.

Building R with the default compilers (Apple + gfortran from CRAN) works out of the box for both in 32-bit and 64-bit. For any other setup, you're entirely on your own. If you want a multi-arch installation of R, you can set r_arch=i386 for the 32-bit build and r_arch=x86_64 for the 64-bin build to build separate architectures. The default install will then create a merged universal framework - see instructions for 2.x series of R that used multi-arch install on OS X. 


>>>        [[alternative HTML version deleted]]
> 
> I'll dare to object to your signature objection here -- the times
> moved on, and most web-based email services, such as gmail, use HTML
> mail by default.  Even those who used to run mutt and the like are on
> gmail, and not always do they bother to set plain text mode.  So I'd
> be OK with the line above, but I will set plain text mode to honor the
> tradition.
> 

As David pointed out you can object all you want, but those are the rules you were asked to abide by. Whether you like them or not is relevant - HTML cause unnecessary problems in e-mails. Unfortunately, bad defaults are ubiquitous (just look at Outlook to see how you can end up with e-mails that have content that doesn't communicate anything - not even the intended message). 

Cheers,
Simon


From deliverable at gmail.com  Mon Mar  3 20:58:22 2014
From: deliverable at gmail.com (Alexy Khrabrov)
Date: Mon, 3 Mar 2014 11:58:22 -0800
Subject: [R-SIG-Mac] building 32-bit version of R 3.x
In-Reply-To: <9CECC421-4C78-46DE-BA95-4FE75C1058A1@r-project.org>
References: <CADSi6a2RvRmt1rL2xYxf5PAR=isHfd8XDj15O+G=DaeQahtEOw@mail.gmail.com>
	<530C7A65.3080109@stats.ox.ac.uk>
	<CADSi6a0niL57sp55jjbMfoscp+M1UpMjnRTabVxcXN5mQfTdgw@mail.gmail.com>
	<9CECC421-4C78-46DE-BA95-4FE75C1058A1@r-project.org>
Message-ID: <CADSi6a3c1cGDRbQwJ+R8q1irgK207cah1vMJMp7K_qegRwZdWQ@mail.gmail.com>

Simon -- thanks, the flags were the issue.  I think the r_arch was not
enough, and Fortran flags had to be supplied separately in addition to
C++ ones.

About HTML and other assumptions, I just think it's good to reexamine
them form time to time and see where the online tech stands...

Obviously I'm not going to link incompatible architectures, so I guess
the management consists of shell and linker paths, etc.  Was wondering
about any other caveats of having both.  I've installed into a
separate prefix for now; how did you manage R32 and R64 before under
R.framework?  E.g. can R32 be installed under R.framework/Versions as
a separate 32-bit version?  I guess not as it's 3.0 too, but am
generally curious about aspects of these two now coexisting.

A+

On Mon, Mar 3, 2014 at 11:01 AM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> On Mar 3, 2014, at 12:25 AM, Alexy Khrabrov <deliverable at gmail.com> wrote:
>
>> On Tue, Feb 25, 2014 at 3:11 AM, Prof Brian Ripley
>> <ripley at stats.ox.ac.uk> wrote:
>>
>>>> Looking at the sources, there's no obvious way to switch to 32-bit.  The
>>>> gfortran.pkg (4.2.3) seems obsolete; I've configured the default setup
>>>
>>> So?  At least it includes a 32-bit compiler (by default if I understand the
>>> version you are using).
>>>
>>
>> Correct -- but with the current Apple gcc and -arch i386, that old gfortran and C++ disagree on integer and double sizes in configure.
>>
>
> I don't think so - those two the same even between 32-bit and 64-bit. I suspect you're misinterpreting the output (which you didn't provide) and if there is indeed some other error you have likely not set the correct flags. I can confirm that
>
> CC='gcc -arch i386' CXX='g++ -arch i386' F77='gfortran -arch i386' FC='gfortran -arch i386' OBJC='gcc -arch i386'
>
> works just fine (assuming your system has both 32-bit and 64-bit libraries).
>
>
>>> You need to specify a 32-bit compiler.  AFAIK -arch is specific to Apple
>>> front-ends, and the value is i386, not x686.
>>>
>>> If you build multilib GCC from the sources, the flag needed is -m32.
>>>
>>> This *is* all in the relevant manual.
>>
>> The manual seems rather general there.  I'd like to know whether
>> someone has done this recently and what the exact steps are to
>>
>> -- build the gcc and gfortran with both i386 and x86_64 standard libraries
>> -- compile latest R with it
>> -- how to install and manage the setup for invoking one or the other,
>> and linking to one's or the other's .dylib
>>
>
> You cannot link one another's dylibs since they are two entirely different, incompatible architectures.
>
> Building R with the default compilers (Apple + gfortran from CRAN) works out of the box for both in 32-bit and 64-bit. For any other setup, you're entirely on your own. If you want a multi-arch installation of R, you can set r_arch=i386 for the 32-bit build and r_arch=x86_64 for the 64-bin build to build separate architectures. The default install will then create a merged universal framework - see instructions for 2.x series of R that used multi-arch install on OS X.
>
>
>>>>        [[alternative HTML version deleted]]
>>
>> I'll dare to object to your signature objection here -- the times
>> moved on, and most web-based email services, such as gmail, use HTML
>> mail by default.  Even those who used to run mutt and the like are on
>> gmail, and not always do they bother to set plain text mode.  So I'd
>> be OK with the line above, but I will set plain text mode to honor the
>> tradition.
>>
>
> As David pointed out you can object all you want, but those are the rules you were asked to abide by. Whether you like them or not is relevant - HTML cause unnecessary problems in e-mails. Unfortunately, bad defaults are ubiquitous (just look at Outlook to see how you can end up with e-mails that have content that doesn't communicate anything - not even the intended message).
>
> Cheers,
> Simon
>
>


From simon.urbanek at r-project.org  Mon Mar  3 21:09:59 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Mar 2014 15:09:59 -0500
Subject: [R-SIG-Mac] building 32-bit version of R 3.x
In-Reply-To: <CADSi6a3c1cGDRbQwJ+R8q1irgK207cah1vMJMp7K_qegRwZdWQ@mail.gmail.com>
References: <CADSi6a2RvRmt1rL2xYxf5PAR=isHfd8XDj15O+G=DaeQahtEOw@mail.gmail.com>
	<530C7A65.3080109@stats.ox.ac.uk>
	<CADSi6a0niL57sp55jjbMfoscp+M1UpMjnRTabVxcXN5mQfTdgw@mail.gmail.com>
	<9CECC421-4C78-46DE-BA95-4FE75C1058A1@r-project.org>
	<CADSi6a3c1cGDRbQwJ+R8q1irgK207cah1vMJMp7K_qegRwZdWQ@mail.gmail.com>
Message-ID: <57876693-3782-494A-85E0-F752D0B15188@r-project.org>

On Mar 3, 2014, at 2:58 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:

> Simon -- thanks, the flags were the issue.  I think the r_arch was not
> enough, and Fortran flags had to be supplied separately in addition to
> C++ ones.
> 

Yes, r_arch is just a label, it doesn't change anything in the compilers.


> About HTML and other assumptions, I just think it's good to reexamine
> them form time to time and see where the online tech stands...
> 
> Obviously I'm not going to link incompatible architectures, so I guess
> the management consists of shell and linker paths, etc.  Was wondering
> about any other caveats of having both.  I've installed into a
> separate prefix for now; how did you manage R32 and R64 before under
> R.framework?  E.g. can R32 be installed under R.framework/Versions as
> a separate 32-bit version?  I guess not as it's 3.0 too, but am
> generally curious about aspects of these two now coexisting.
> 

They are both installed into the same "fat" framework. Everything is shared (i.e. files exist only once) except for the .so objects and some configurations that are in separate subdirectories based on the r_arch setting. OS X supports multiple architectures in one binary, that's why you don't need to modify any paths. OS X was running several architectures in parallel for a long time (first PPC+Intel then ppc+ppc64+i386+x86_64) so it "just works". The only thing to remember is that when you are compiling 3rd party dependencies, you must compile them "fat" for both architectures as well (or use lipo to combine them).

Cheers,
Simon




> A+
> 
> On Mon, Mar 3, 2014 at 11:01 AM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> 
>> On Mar 3, 2014, at 12:25 AM, Alexy Khrabrov <deliverable at gmail.com> wrote:
>> 
>>> On Tue, Feb 25, 2014 at 3:11 AM, Prof Brian Ripley
>>> <ripley at stats.ox.ac.uk> wrote:
>>> 
>>>>> Looking at the sources, there's no obvious way to switch to 32-bit.  The
>>>>> gfortran.pkg (4.2.3) seems obsolete; I've configured the default setup
>>>> 
>>>> So?  At least it includes a 32-bit compiler (by default if I understand the
>>>> version you are using).
>>>> 
>>> 
>>> Correct -- but with the current Apple gcc and -arch i386, that old gfortran and C++ disagree on integer and double sizes in configure.
>>> 
>> 
>> I don't think so - those two the same even between 32-bit and 64-bit. I suspect you're misinterpreting the output (which you didn't provide) and if there is indeed some other error you have likely not set the correct flags. I can confirm that
>> 
>> CC='gcc -arch i386' CXX='g++ -arch i386' F77='gfortran -arch i386' FC='gfortran -arch i386' OBJC='gcc -arch i386'
>> 
>> works just fine (assuming your system has both 32-bit and 64-bit libraries).
>> 
>> 
>>>> You need to specify a 32-bit compiler.  AFAIK -arch is specific to Apple
>>>> front-ends, and the value is i386, not x686.
>>>> 
>>>> If you build multilib GCC from the sources, the flag needed is -m32.
>>>> 
>>>> This *is* all in the relevant manual.
>>> 
>>> The manual seems rather general there.  I'd like to know whether
>>> someone has done this recently and what the exact steps are to
>>> 
>>> -- build the gcc and gfortran with both i386 and x86_64 standard libraries
>>> -- compile latest R with it
>>> -- how to install and manage the setup for invoking one or the other,
>>> and linking to one's or the other's .dylib
>>> 
>> 
>> You cannot link one another's dylibs since they are two entirely different, incompatible architectures.
>> 
>> Building R with the default compilers (Apple + gfortran from CRAN) works out of the box for both in 32-bit and 64-bit. For any other setup, you're entirely on your own. If you want a multi-arch installation of R, you can set r_arch=i386 for the 32-bit build and r_arch=x86_64 for the 64-bin build to build separate architectures. The default install will then create a merged universal framework - see instructions for 2.x series of R that used multi-arch install on OS X.
>> 
>> 
>>>>>       [[alternative HTML version deleted]]
>>> 
>>> I'll dare to object to your signature objection here -- the times
>>> moved on, and most web-based email services, such as gmail, use HTML
>>> mail by default.  Even those who used to run mutt and the like are on
>>> gmail, and not always do they bother to set plain text mode.  So I'd
>>> be OK with the line above, but I will set plain text mode to honor the
>>> tradition.
>>> 
>> 
>> As David pointed out you can object all you want, but those are the rules you were asked to abide by. Whether you like them or not is relevant - HTML cause unnecessary problems in e-mails. Unfortunately, bad defaults are ubiquitous (just look at Outlook to see how you can end up with e-mails that have content that doesn't communicate anything - not even the intended message).
>> 
>> Cheers,
>> Simon
>> 
>> 
> 


From deliverable at gmail.com  Mon Mar  3 21:41:10 2014
From: deliverable at gmail.com (Alexy Khrabrov)
Date: Mon, 3 Mar 2014 12:41:10 -0800
Subject: [R-SIG-Mac] building 32-bit version of R 3.x
In-Reply-To: <57876693-3782-494A-85E0-F752D0B15188@r-project.org>
References: <CADSi6a2RvRmt1rL2xYxf5PAR=isHfd8XDj15O+G=DaeQahtEOw@mail.gmail.com>
	<530C7A65.3080109@stats.ox.ac.uk>
	<CADSi6a0niL57sp55jjbMfoscp+M1UpMjnRTabVxcXN5mQfTdgw@mail.gmail.com>
	<9CECC421-4C78-46DE-BA95-4FE75C1058A1@r-project.org>
	<CADSi6a3c1cGDRbQwJ+R8q1irgK207cah1vMJMp7K_qegRwZdWQ@mail.gmail.com>
	<57876693-3782-494A-85E0-F752D0B15188@r-project.org>
Message-ID: <CADSi6a3W0-5gipEfn2bhPXGmckqEaaVBL_Xj8fH57i4pHymgLw@mail.gmail.com>

> They are both installed into the same "fat" framework. Everything is shared (i.e. files exist only once) except for the .so objects and some configurations that are in separate subdirectories based on the r_arch setting. OS X supports multiple architectures in one binary, that's why you don't need to modify any paths. OS X was running several architectures in parallel for a long time (first PPC+Intel then ppc+ppc64+i386+x86_64) so it "just works". The only thing to remember is that when you are compiling 3rd party dependencies, you must compile them "fat" for both architectures as well (or use lipo to combine them).

Great -- so how should I configure R build to do that?  Obviously the
above builds only one.

A+


From simon.urbanek at r-project.org  Mon Mar  3 21:54:34 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Mar 2014 15:54:34 -0500
Subject: [R-SIG-Mac] building 32-bit version of R 3.x
In-Reply-To: <CADSi6a3W0-5gipEfn2bhPXGmckqEaaVBL_Xj8fH57i4pHymgLw@mail.gmail.com>
References: <CADSi6a2RvRmt1rL2xYxf5PAR=isHfd8XDj15O+G=DaeQahtEOw@mail.gmail.com>
	<530C7A65.3080109@stats.ox.ac.uk>
	<CADSi6a0niL57sp55jjbMfoscp+M1UpMjnRTabVxcXN5mQfTdgw@mail.gmail.com>
	<9CECC421-4C78-46DE-BA95-4FE75C1058A1@r-project.org>
	<CADSi6a3c1cGDRbQwJ+R8q1irgK207cah1vMJMp7K_qegRwZdWQ@mail.gmail.com>
	<57876693-3782-494A-85E0-F752D0B15188@r-project.org>
	<CADSi6a3W0-5gipEfn2bhPXGmckqEaaVBL_Xj8fH57i4pHymgLw@mail.gmail.com>
Message-ID: <41D28C71-BE57-46FC-98DF-2D44F9B44521@r-project.org>

On Mar 3, 2014, at 3:41 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:

>> They are both installed into the same "fat" framework. Everything is shared (i.e. files exist only once) except for the .so objects and some configurations that are in separate subdirectories based on the r_arch setting. OS X supports multiple architectures in one binary, that's why you don't need to modify any paths. OS X was running several architectures in parallel for a long time (first PPC+Intel then ppc+ppc64+i386+x86_64) so it "just works". The only thing to remember is that when you are compiling 3rd party dependencies, you must compile them "fat" for both architectures as well (or use lipo to combine them).
> 
> Great -- so how should I configure R build to do that?  Obviously the
> above builds only one.
> 

You always build one, but they both install into one merged framework. You choose which to invoke by setting the --arch parameter, e.g. R --arch=x86_64 to run the 64-bit version. The default will be whichever you install last.

Cheers,
Simon


From deliverable at gmail.com  Mon Mar  3 22:24:16 2014
From: deliverable at gmail.com (Alexy Khrabrov)
Date: Mon, 3 Mar 2014 13:24:16 -0800
Subject: [R-SIG-Mac] building 32-bit version of R 3.x
In-Reply-To: <41D28C71-BE57-46FC-98DF-2D44F9B44521@r-project.org>
References: <CADSi6a2RvRmt1rL2xYxf5PAR=isHfd8XDj15O+G=DaeQahtEOw@mail.gmail.com>
	<530C7A65.3080109@stats.ox.ac.uk>
	<CADSi6a0niL57sp55jjbMfoscp+M1UpMjnRTabVxcXN5mQfTdgw@mail.gmail.com>
	<9CECC421-4C78-46DE-BA95-4FE75C1058A1@r-project.org>
	<CADSi6a3c1cGDRbQwJ+R8q1irgK207cah1vMJMp7K_qegRwZdWQ@mail.gmail.com>
	<57876693-3782-494A-85E0-F752D0B15188@r-project.org>
	<CADSi6a3W0-5gipEfn2bhPXGmckqEaaVBL_Xj8fH57i4pHymgLw@mail.gmail.com>
	<41D28C71-BE57-46FC-98DF-2D44F9B44521@r-project.org>
Message-ID: <CADSi6a0rDHPvZjKAzK6Zzej8OQmvS=ie3_ohOMtiC0-cSnxF8A@mail.gmail.com>

So in what sense is R on Mac OSX now supported as only 64-bit for 3.0
and after?  BTW, for the freshly built R32, I'm getting

[126] $ /opt/R/R32/R.framework/R
                                  zsh: exec format error:
/opt/R/R32/R.framework/R

setting DYLD_LIBRARY_PATH=/opt/R/R32/R.framework/Libraries doesn't help.

A+

On Mon, Mar 3, 2014 at 12:54 PM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
> On Mar 3, 2014, at 3:41 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:
>
>>> They are both installed into the same "fat" framework. Everything is shared (i.e. files exist only once) except for the .so objects and some configurations that are in separate subdirectories based on the r_arch setting. OS X supports multiple architectures in one binary, that's why you don't need to modify any paths. OS X was running several architectures in parallel for a long time (first PPC+Intel then ppc+ppc64+i386+x86_64) so it "just works". The only thing to remember is that when you are compiling 3rd party dependencies, you must compile them "fat" for both architectures as well (or use lipo to combine them).
>>
>> Great -- so how should I configure R build to do that?  Obviously the
>> above builds only one.
>>
>
> You always build one, but they both install into one merged framework. You choose which to invoke by setting the --arch parameter, e.g. R --arch=x86_64 to run the 64-bit version. The default will be whichever you install last.
>
> Cheers,
> Simon
>


From simon.urbanek at r-project.org  Mon Mar  3 22:32:11 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Mar 2014 16:32:11 -0500
Subject: [R-SIG-Mac] building 32-bit version of R 3.x
In-Reply-To: <CADSi6a0rDHPvZjKAzK6Zzej8OQmvS=ie3_ohOMtiC0-cSnxF8A@mail.gmail.com>
References: <CADSi6a2RvRmt1rL2xYxf5PAR=isHfd8XDj15O+G=DaeQahtEOw@mail.gmail.com>
	<530C7A65.3080109@stats.ox.ac.uk>
	<CADSi6a0niL57sp55jjbMfoscp+M1UpMjnRTabVxcXN5mQfTdgw@mail.gmail.com>
	<9CECC421-4C78-46DE-BA95-4FE75C1058A1@r-project.org>
	<CADSi6a3c1cGDRbQwJ+R8q1irgK207cah1vMJMp7K_qegRwZdWQ@mail.gmail.com>
	<57876693-3782-494A-85E0-F752D0B15188@r-project.org>
	<CADSi6a3W0-5gipEfn2bhPXGmckqEaaVBL_Xj8fH57i4pHymgLw@mail.gmail.com>
	<41D28C71-BE57-46FC-98DF-2D44F9B44521@r-project.org>
	<CADSi6a0rDHPvZjKAzK6Zzej8OQmvS=ie3_ohOMtiC0-cSnxF8A@mail.gmail.com>
Message-ID: <BF7B35BE-89B8-4FB4-A441-CBBF89C18A1D@r-project.org>

On Mar 3, 2014, at 4:24 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:

> So in what sense is R on Mac OSX now supported as only 64-bit for 3.0
> and after?  BTW, for the freshly built R32, I'm getting
> 
> [126] $ /opt/R/R32/R.framework/R
>                                  zsh: exec format error:
> /opt/R/R32/R.framework/R
> 

What is that? That's neither the proper place for a framework nor the correct build. Are you trying to run the framework library as opposed to the R binary?

If you do

make && make install

then the framework will be in 

/Library/Frameworks/R.framework

and the R start script in

/Library/Frameworks/R.framework/Resources/bin/R

You should not need to set anything else.

Cheers,
Simon




> setting DYLD_LIBRARY_PATH=/opt/R/R32/R.framework/Libraries doesn't help.
> 
> A+
> 
> On Mon, Mar 3, 2014 at 12:54 PM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> On Mar 3, 2014, at 3:41 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:
>> 
>>>> They are both installed into the same "fat" framework. Everything is shared (i.e. files exist only once) except for the .so objects and some configurations that are in separate subdirectories based on the r_arch setting. OS X supports multiple architectures in one binary, that's why you don't need to modify any paths. OS X was running several architectures in parallel for a long time (first PPC+Intel then ppc+ppc64+i386+x86_64) so it "just works". The only thing to remember is that when you are compiling 3rd party dependencies, you must compile them "fat" for both architectures as well (or use lipo to combine them).
>>> 
>>> Great -- so how should I configure R build to do that?  Obviously the
>>> above builds only one.
>>> 
>> 
>> You always build one, but they both install into one merged framework. You choose which to invoke by setting the --arch parameter, e.g. R --arch=x86_64 to run the 64-bit version. The default will be whichever you install last.
>> 
>> Cheers,
>> Simon
>> 
> 


From deliverable at gmail.com  Mon Mar  3 22:50:28 2014
From: deliverable at gmail.com (Alexy Khrabrov)
Date: Mon, 3 Mar 2014 13:50:28 -0800
Subject: [R-SIG-Mac] building 32-bit version of R 3.x
In-Reply-To: <BF7B35BE-89B8-4FB4-A441-CBBF89C18A1D@r-project.org>
References: <CADSi6a2RvRmt1rL2xYxf5PAR=isHfd8XDj15O+G=DaeQahtEOw@mail.gmail.com>
	<530C7A65.3080109@stats.ox.ac.uk>
	<CADSi6a0niL57sp55jjbMfoscp+M1UpMjnRTabVxcXN5mQfTdgw@mail.gmail.com>
	<9CECC421-4C78-46DE-BA95-4FE75C1058A1@r-project.org>
	<CADSi6a3c1cGDRbQwJ+R8q1irgK207cah1vMJMp7K_qegRwZdWQ@mail.gmail.com>
	<57876693-3782-494A-85E0-F752D0B15188@r-project.org>
	<CADSi6a3W0-5gipEfn2bhPXGmckqEaaVBL_Xj8fH57i4pHymgLw@mail.gmail.com>
	<41D28C71-BE57-46FC-98DF-2D44F9B44521@r-project.org>
	<CADSi6a0rDHPvZjKAzK6Zzej8OQmvS=ie3_ohOMtiC0-cSnxF8A@mail.gmail.com>
	<BF7B35BE-89B8-4FB4-A441-CBBF89C18A1D@r-project.org>
Message-ID: <CADSi6a3cFzcSst-1qL+Lgey9RK5LcwKZ9ndU2ktLz7hTY5qXyQ@mail.gmail.com>

That's my own prefix gave to configure with your options above.  I've
installed gfortran-4.8.2 via brew, and gfortran symlink is pointing to
it.  For this 32-bit build, I've changed your flags to refer to
gfortran-4.2, which is the one installed from the tools link on CRAN.
Yet I get warnings during build:

ld: warning: ignoring file
/usr/local/Cellar/gfortran/4.8.2/gfortran/lib/libquadmath.dylib, file
was built for x86_64 which is not the architecture being linked
(i386): /usr/local/Cellar/gfortran/4.8.2/gfortran/lib/libquadmath.dylib

ld: warning: ignoring file
/usr/local/Cellar/gfortran/4.8.2/gfortran/lib/gcc/x86_64-apple-darwin13.0.0/4.8.2/libgcc.a,
file was built for archive which is not the architecture being linked
(i386): /usr/local/Cellar/gfortran/4.8.2/gfortran/lib/gcc/x86_64-apple-darwin13.0.0/4.8.2/libgcc.a

-- hence I configured my own --prefix=/opt/R/R32 to first see whether
my build works, and it doesn't run from it.  make check seems to pass.
 Should I just make install and hope R --arch=i386 will work?

A+

On Mon, Mar 3, 2014 at 1:32 PM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
> On Mar 3, 2014, at 4:24 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:
>
>> So in what sense is R on Mac OSX now supported as only 64-bit for 3.0
>> and after?  BTW, for the freshly built R32, I'm getting
>>
>> [126] $ /opt/R/R32/R.framework/R
>>                                  zsh: exec format error:
>> /opt/R/R32/R.framework/R
>>
>
> What is that? That's neither the proper place for a framework nor the correct build. Are you trying to run the framework library as opposed to the R binary?
>
> If you do
>
> make && make install
>
> then the framework will be in
>
> /Library/Frameworks/R.framework
>
> and the R start script in
>
> /Library/Frameworks/R.framework/Resources/bin/R
>
> You should not need to set anything else.
>
> Cheers,
> Simon
>
>
>
>
>> setting DYLD_LIBRARY_PATH=/opt/R/R32/R.framework/Libraries doesn't help.
>>
>> A+
>>
>> On Mon, Mar 3, 2014 at 12:54 PM, Simon Urbanek
>> <simon.urbanek at r-project.org> wrote:
>>> On Mar 3, 2014, at 3:41 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:
>>>
>>>>> They are both installed into the same "fat" framework. Everything is shared (i.e. files exist only once) except for the .so objects and some configurations that are in separate subdirectories based on the r_arch setting. OS X supports multiple architectures in one binary, that's why you don't need to modify any paths. OS X was running several architectures in parallel for a long time (first PPC+Intel then ppc+ppc64+i386+x86_64) so it "just works". The only thing to remember is that when you are compiling 3rd party dependencies, you must compile them "fat" for both architectures as well (or use lipo to combine them).
>>>>
>>>> Great -- so how should I configure R build to do that?  Obviously the
>>>> above builds only one.
>>>>
>>>
>>> You always build one, but they both install into one merged framework. You choose which to invoke by setting the --arch parameter, e.g. R --arch=x86_64 to run the 64-bit version. The default will be whichever you install last.
>>>
>>> Cheers,
>>> Simon
>>>
>>
>


From simon.urbanek at r-project.org  Mon Mar  3 23:17:48 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Mar 2014 17:17:48 -0500
Subject: [R-SIG-Mac] building 32-bit version of R 3.x
In-Reply-To: <CADSi6a3cFzcSst-1qL+Lgey9RK5LcwKZ9ndU2ktLz7hTY5qXyQ@mail.gmail.com>
References: <CADSi6a2RvRmt1rL2xYxf5PAR=isHfd8XDj15O+G=DaeQahtEOw@mail.gmail.com>
	<530C7A65.3080109@stats.ox.ac.uk>
	<CADSi6a0niL57sp55jjbMfoscp+M1UpMjnRTabVxcXN5mQfTdgw@mail.gmail.com>
	<9CECC421-4C78-46DE-BA95-4FE75C1058A1@r-project.org>
	<CADSi6a3c1cGDRbQwJ+R8q1irgK207cah1vMJMp7K_qegRwZdWQ@mail.gmail.com>
	<57876693-3782-494A-85E0-F752D0B15188@r-project.org>
	<CADSi6a3W0-5gipEfn2bhPXGmckqEaaVBL_Xj8fH57i4pHymgLw@mail.gmail.com>
	<41D28C71-BE57-46FC-98DF-2D44F9B44521@r-project.org>
	<CADSi6a0rDHPvZjKAzK6Zzej8OQmvS=ie3_ohOMtiC0-cSnxF8A@mail.gmail.com>
	<BF7B35BE-89B8-4FB4-A441-CBBF89C18A1D@r-project.org>
	<CADSi6a3cFzcSst-1qL+Lgey9RK5LcwKZ9ndU2ktLz7hTY5qXyQ@mail.gmail.com>
Message-ID: <E6356657-03BD-4827-B9E0-B69E8CEE948E@r-project.org>

On Mar 3, 2014, at 4:50 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:

> That's my own prefix gave to configure with your options above.  I've
> installed gfortran-4.8.2 via brew, and gfortran symlink is pointing to
> it.  For this 32-bit build, I've changed your flags to refer to
> gfortran-4.2, which is the one installed from the tools link on CRAN.

Ah, no, you cannot mix homebrew and native builds. As I said, if you use anything other that the native toolchain all bets are off and you'll need to pickup the mess yourself. In particular Homebrew doesn't provide fat binaries so you cannot mix it with 32-bit at all. Remove homebrew (move /usr/local aside), re-install the CRAN compiler and go from there. If you need any dependencies, have a look in
http://r.research.att.com/libs/

Cheers,
Simon



> Yet I get warnings during build:
> 
> ld: warning: ignoring file
> /usr/local/Cellar/gfortran/4.8.2/gfortran/lib/libquadmath.dylib, file
> was built for x86_64 which is not the architecture being linked
> (i386): /usr/local/Cellar/gfortran/4.8.2/gfortran/lib/libquadmath.dylib
> 
> ld: warning: ignoring file
> /usr/local/Cellar/gfortran/4.8.2/gfortran/lib/gcc/x86_64-apple-darwin13.0.0/4.8.2/libgcc.a,
> file was built for archive which is not the architecture being linked
> (i386): /usr/local/Cellar/gfortran/4.8.2/gfortran/lib/gcc/x86_64-apple-darwin13.0.0/4.8.2/libgcc.a
> 
> -- hence I configured my own --prefix=/opt/R/R32 to first see whether
> my build works, and it doesn't run from it.  make check seems to pass.
> Should I just make install and hope R --arch=i386 will work?
> 


> A+
> 
> On Mon, Mar 3, 2014 at 1:32 PM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> On Mar 3, 2014, at 4:24 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:
>> 
>>> So in what sense is R on Mac OSX now supported as only 64-bit for 3.0
>>> and after?  BTW, for the freshly built R32, I'm getting
>>> 
>>> [126] $ /opt/R/R32/R.framework/R
>>>                                 zsh: exec format error:
>>> /opt/R/R32/R.framework/R
>>> 
>> 
>> What is that? That's neither the proper place for a framework nor the correct build. Are you trying to run the framework library as opposed to the R binary?
>> 
>> If you do
>> 
>> make && make install
>> 
>> then the framework will be in
>> 
>> /Library/Frameworks/R.framework
>> 
>> and the R start script in
>> 
>> /Library/Frameworks/R.framework/Resources/bin/R
>> 
>> You should not need to set anything else.
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>> 
>>> setting DYLD_LIBRARY_PATH=/opt/R/R32/R.framework/Libraries doesn't help.
>>> 
>>> A+
>>> 
>>> On Mon, Mar 3, 2014 at 12:54 PM, Simon Urbanek
>>> <simon.urbanek at r-project.org> wrote:
>>>> On Mar 3, 2014, at 3:41 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:
>>>> 
>>>>>> They are both installed into the same "fat" framework. Everything is shared (i.e. files exist only once) except for the .so objects and some configurations that are in separate subdirectories based on the r_arch setting. OS X supports multiple architectures in one binary, that's why you don't need to modify any paths. OS X was running several architectures in parallel for a long time (first PPC+Intel then ppc+ppc64+i386+x86_64) so it "just works". The only thing to remember is that when you are compiling 3rd party dependencies, you must compile them "fat" for both architectures as well (or use lipo to combine them).
>>>>> 
>>>>> Great -- so how should I configure R build to do that?  Obviously the
>>>>> above builds only one.
>>>>> 
>>>> 
>>>> You always build one, but they both install into one merged framework. You choose which to invoke by setting the --arch parameter, e.g. R --arch=x86_64 to run the 64-bit version. The default will be whichever you install last.
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>> 
>> 
> 


From deliverable at gmail.com  Tue Mar  4 19:38:18 2014
From: deliverable at gmail.com (Alexy Khrabrov)
Date: Tue, 4 Mar 2014 10:38:18 -0800
Subject: [R-SIG-Mac] building 32-bit version of R 3.x
In-Reply-To: <E6356657-03BD-4827-B9E0-B69E8CEE948E@r-project.org>
References: <CADSi6a2RvRmt1rL2xYxf5PAR=isHfd8XDj15O+G=DaeQahtEOw@mail.gmail.com>
	<530C7A65.3080109@stats.ox.ac.uk>
	<CADSi6a0niL57sp55jjbMfoscp+M1UpMjnRTabVxcXN5mQfTdgw@mail.gmail.com>
	<9CECC421-4C78-46DE-BA95-4FE75C1058A1@r-project.org>
	<CADSi6a3c1cGDRbQwJ+R8q1irgK207cah1vMJMp7K_qegRwZdWQ@mail.gmail.com>
	<57876693-3782-494A-85E0-F752D0B15188@r-project.org>
	<CADSi6a3W0-5gipEfn2bhPXGmckqEaaVBL_Xj8fH57i4pHymgLw@mail.gmail.com>
	<41D28C71-BE57-46FC-98DF-2D44F9B44521@r-project.org>
	<CADSi6a0rDHPvZjKAzK6Zzej8OQmvS=ie3_ohOMtiC0-cSnxF8A@mail.gmail.com>
	<BF7B35BE-89B8-4FB4-A441-CBBF89C18A1D@r-project.org>
	<CADSi6a3cFzcSst-1qL+Lgey9RK5LcwKZ9ndU2ktLz7hTY5qXyQ@mail.gmail.com>
	<E6356657-03BD-4827-B9E0-B69E8CEE948E@r-project.org>
Message-ID: <CADSi6a1Mv8zek5C7KMQUdKgaSAZyU-b7t3Nxv73wCUuVef_JHQ@mail.gmail.com>

OK, after moving aside brew and building with ATT gfortran-4.3 and
your options above, I've installed over previous binary install of R.
It starts up 32-bit version fine via R, but --arch=x86_64 says
subarchitecture not installed.  Anything else needed to enable it?

A+

On Mon, Mar 3, 2014 at 2:17 PM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
> On Mar 3, 2014, at 4:50 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:
>
>> That's my own prefix gave to configure with your options above.  I've
>> installed gfortran-4.8.2 via brew, and gfortran symlink is pointing to
>> it.  For this 32-bit build, I've changed your flags to refer to
>> gfortran-4.2, which is the one installed from the tools link on CRAN.
>
> Ah, no, you cannot mix homebrew and native builds. As I said, if you use anything other that the native toolchain all bets are off and you'll need to pickup the mess yourself. In particular Homebrew doesn't provide fat binaries so you cannot mix it with 32-bit at all. Remove homebrew (move /usr/local aside), re-install the CRAN compiler and go from there. If you need any dependencies, have a look in
> http://r.research.att.com/libs/
>
> Cheers,
> Simon
>
>
>
>> Yet I get warnings during build:
>>
>> ld: warning: ignoring file
>> /usr/local/Cellar/gfortran/4.8.2/gfortran/lib/libquadmath.dylib, file
>> was built for x86_64 which is not the architecture being linked
>> (i386): /usr/local/Cellar/gfortran/4.8.2/gfortran/lib/libquadmath.dylib
>>
>> ld: warning: ignoring file
>> /usr/local/Cellar/gfortran/4.8.2/gfortran/lib/gcc/x86_64-apple-darwin13.0.0/4.8.2/libgcc.a,
>> file was built for archive which is not the architecture being linked
>> (i386): /usr/local/Cellar/gfortran/4.8.2/gfortran/lib/gcc/x86_64-apple-darwin13.0.0/4.8.2/libgcc.a
>>
>> -- hence I configured my own --prefix=/opt/R/R32 to first see whether
>> my build works, and it doesn't run from it.  make check seems to pass.
>> Should I just make install and hope R --arch=i386 will work?
>>
>
>
>> A+
>>
>> On Mon, Mar 3, 2014 at 1:32 PM, Simon Urbanek
>> <simon.urbanek at r-project.org> wrote:
>>> On Mar 3, 2014, at 4:24 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:
>>>
>>>> So in what sense is R on Mac OSX now supported as only 64-bit for 3.0
>>>> and after?  BTW, for the freshly built R32, I'm getting
>>>>
>>>> [126] $ /opt/R/R32/R.framework/R
>>>>                                 zsh: exec format error:
>>>> /opt/R/R32/R.framework/R
>>>>
>>>
>>> What is that? That's neither the proper place for a framework nor the correct build. Are you trying to run the framework library as opposed to the R binary?
>>>
>>> If you do
>>>
>>> make && make install
>>>
>>> then the framework will be in
>>>
>>> /Library/Frameworks/R.framework
>>>
>>> and the R start script in
>>>
>>> /Library/Frameworks/R.framework/Resources/bin/R
>>>
>>> You should not need to set anything else.
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>
>>>
>>>> setting DYLD_LIBRARY_PATH=/opt/R/R32/R.framework/Libraries doesn't help.
>>>>
>>>> A+
>>>>
>>>> On Mon, Mar 3, 2014 at 12:54 PM, Simon Urbanek
>>>> <simon.urbanek at r-project.org> wrote:
>>>>> On Mar 3, 2014, at 3:41 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:
>>>>>
>>>>>>> They are both installed into the same "fat" framework. Everything is shared (i.e. files exist only once) except for the .so objects and some configurations that are in separate subdirectories based on the r_arch setting. OS X supports multiple architectures in one binary, that's why you don't need to modify any paths. OS X was running several architectures in parallel for a long time (first PPC+Intel then ppc+ppc64+i386+x86_64) so it "just works". The only thing to remember is that when you are compiling 3rd party dependencies, you must compile them "fat" for both architectures as well (or use lipo to combine them).
>>>>>>
>>>>>> Great -- so how should I configure R build to do that?  Obviously the
>>>>>> above builds only one.
>>>>>>
>>>>>
>>>>> You always build one, but they both install into one merged framework. You choose which to invoke by setting the --arch parameter, e.g. R --arch=x86_64 to run the 64-bit version. The default will be whichever you install last.
>>>>>
>>>>> Cheers,
>>>>> Simon
>>>>>
>>>>
>>>
>>
>


From cubranic at stat.ubc.ca  Tue Mar  4 19:41:34 2014
From: cubranic at stat.ubc.ca (Davor Cubranic)
Date: Tue, 4 Mar 2014 10:41:34 -0800
Subject: [R-SIG-Mac] making R.app and home-brew live happily together
In-Reply-To: <7DE2C2A8-A405-48ED-A2D9-8FFCA158D7FC@imperial.ac.uk>
References: <B8813096-DC75-4DB3-8016-3B6AB98A8FD4@imperial.ac.uk>
	<5F23946E-3676-4F36-B850-B2E9DBD29721@r-project.org>
	<7DE2C2A8-A405-48ED-A2D9-8FFCA158D7FC@imperial.ac.uk>
Message-ID: <F5202261-D20E-4BD5-81A0-C988F6D5885A@stat.ubc.ca>

If you don?t care about Tcl/Tk, you could also install R without it. Just choose ?Customize? in the installer and unselect it.

Davor

On Feb 28, 2014, at 9:51 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:

> Simon,
> 
> <snip>
> 
>> Unfortunately HB installs by default in /usr/local and requires full control so you cannot have native libraries and HB in the same place at the same time. So essentially you have to pick one or the other. There are two options:
>> 
>> a) install HB in another place. This allows you to keep native libraries in /usr/local and parallel HB. HB is less tested that way, though, so that's why HB is shy of recommending it.
>> 
>> b) ignore HB's moaning. It should be ok as long as you don't install tcl/tk via HB. It may get complicated if dependencies detect tcl/tk so for safety you could rename the .pc files and the t*Config.sh files if you don't expect to compile R packages that depend on tcl/tk.
> 
> I am ignoring the moanings of brew doctor.  I generally try and avoid compiling R packages if at all possible, and I never used stuff that uses tcl/tk (that I know of).  My main concern is that I want to install SciPy and Python 3 (assuming this can be done in a way that will not get Mavericks throw a fit) and that might ? or not ? get some tcl/tk action in.  If not, R.app and HB can live together for all I care.
> 
> Best
> 
> F
> 
> 
> 
> 
>> 
>> Cheers,
>> Simon
>> 
>> 
>>> BW
>>> 
>>> F
>>> 
>>> 
>>> PS  I also asked on apple stack, but I haven?t go any reasonable answer thus far and I?d rather get going.
>>> 
>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Tue Mar  4 19:44:37 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 4 Mar 2014 13:44:37 -0500
Subject: [R-SIG-Mac] building 32-bit version of R 3.x
In-Reply-To: <CADSi6a1Mv8zek5C7KMQUdKgaSAZyU-b7t3Nxv73wCUuVef_JHQ@mail.gmail.com>
References: <CADSi6a2RvRmt1rL2xYxf5PAR=isHfd8XDj15O+G=DaeQahtEOw@mail.gmail.com>
	<530C7A65.3080109@stats.ox.ac.uk>
	<CADSi6a0niL57sp55jjbMfoscp+M1UpMjnRTabVxcXN5mQfTdgw@mail.gmail.com>
	<9CECC421-4C78-46DE-BA95-4FE75C1058A1@r-project.org>
	<CADSi6a3c1cGDRbQwJ+R8q1irgK207cah1vMJMp7K_qegRwZdWQ@mail.gmail.com>
	<57876693-3782-494A-85E0-F752D0B15188@r-project.org>
	<CADSi6a3W0-5gipEfn2bhPXGmckqEaaVBL_Xj8fH57i4pHymgLw@mail.gmail.com>
	<41D28C71-BE57-46FC-98DF-2D44F9B44521@r-project.org>
	<CADSi6a0rDHPvZjKAzK6Zzej8OQmvS=ie3_ohOMtiC0-cSnxF8A@mail.gmail.com>
	<BF7B35BE-89B8-4FB4-A441-CBBF89C18A1D@r-project.org>
	<CADSi6a3cFzcSst-1qL+Lgey9RK5LcwKZ9ndU2ktLz7hTY5qXyQ@mail.gmail.com>
	<E6356657-03BD-4827-B9E0-B69E8CEE948E@r-project.org>
	<CADSi6a1Mv8zek5C7KMQUdKgaSAZyU-b7t3Nxv73wCUuVef_JHQ@mail.gmail.com>
Message-ID: <B83B185B-D5AD-47CE-B0A0-E1804CCABEA7@r-project.org>


On Mar 4, 2014, at 1:38 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:

> OK, after moving aside brew and building with ATT gfortran-4.3 and
> your options above, I've installed over previous binary install of R.
> It starts up 32-bit version fine via R, but --arch=x86_64 says
> subarchitecture not installed.  Anything else needed to enable it?
> 

Did you build and install the 64-bit version as well? And did you use r_arch=x86_64 in the 64-bit build?

Cheers,
S



> A+
> 
> On Mon, Mar 3, 2014 at 2:17 PM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> On Mar 3, 2014, at 4:50 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:
>> 
>>> That's my own prefix gave to configure with your options above.  I've
>>> installed gfortran-4.8.2 via brew, and gfortran symlink is pointing to
>>> it.  For this 32-bit build, I've changed your flags to refer to
>>> gfortran-4.2, which is the one installed from the tools link on CRAN.
>> 
>> Ah, no, you cannot mix homebrew and native builds. As I said, if you use anything other that the native toolchain all bets are off and you'll need to pickup the mess yourself. In particular Homebrew doesn't provide fat binaries so you cannot mix it with 32-bit at all. Remove homebrew (move /usr/local aside), re-install the CRAN compiler and go from there. If you need any dependencies, have a look in
>> http://r.research.att.com/libs/
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>> Yet I get warnings during build:
>>> 
>>> ld: warning: ignoring file
>>> /usr/local/Cellar/gfortran/4.8.2/gfortran/lib/libquadmath.dylib, file
>>> was built for x86_64 which is not the architecture being linked
>>> (i386): /usr/local/Cellar/gfortran/4.8.2/gfortran/lib/libquadmath.dylib
>>> 
>>> ld: warning: ignoring file
>>> /usr/local/Cellar/gfortran/4.8.2/gfortran/lib/gcc/x86_64-apple-darwin13.0.0/4.8.2/libgcc.a,
>>> file was built for archive which is not the architecture being linked
>>> (i386): /usr/local/Cellar/gfortran/4.8.2/gfortran/lib/gcc/x86_64-apple-darwin13.0.0/4.8.2/libgcc.a
>>> 
>>> -- hence I configured my own --prefix=/opt/R/R32 to first see whether
>>> my build works, and it doesn't run from it.  make check seems to pass.
>>> Should I just make install and hope R --arch=i386 will work?
>>> 
>> 
>> 
>>> A+
>>> 
>>> On Mon, Mar 3, 2014 at 1:32 PM, Simon Urbanek
>>> <simon.urbanek at r-project.org> wrote:
>>>> On Mar 3, 2014, at 4:24 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:
>>>> 
>>>>> So in what sense is R on Mac OSX now supported as only 64-bit for 3.0
>>>>> and after?  BTW, for the freshly built R32, I'm getting
>>>>> 
>>>>> [126] $ /opt/R/R32/R.framework/R
>>>>>                                zsh: exec format error:
>>>>> /opt/R/R32/R.framework/R
>>>>> 
>>>> 
>>>> What is that? That's neither the proper place for a framework nor the correct build. Are you trying to run the framework library as opposed to the R binary?
>>>> 
>>>> If you do
>>>> 
>>>> make && make install
>>>> 
>>>> then the framework will be in
>>>> 
>>>> /Library/Frameworks/R.framework
>>>> 
>>>> and the R start script in
>>>> 
>>>> /Library/Frameworks/R.framework/Resources/bin/R
>>>> 
>>>> You should not need to set anything else.
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>> 
>>>> 
>>>>> setting DYLD_LIBRARY_PATH=/opt/R/R32/R.framework/Libraries doesn't help.
>>>>> 
>>>>> A+
>>>>> 
>>>>> On Mon, Mar 3, 2014 at 12:54 PM, Simon Urbanek
>>>>> <simon.urbanek at r-project.org> wrote:
>>>>>> On Mar 3, 2014, at 3:41 PM, Alexy Khrabrov <deliverable at gmail.com> wrote:
>>>>>> 
>>>>>>>> They are both installed into the same "fat" framework. Everything is shared (i.e. files exist only once) except for the .so objects and some configurations that are in separate subdirectories based on the r_arch setting. OS X supports multiple architectures in one binary, that's why you don't need to modify any paths. OS X was running several architectures in parallel for a long time (first PPC+Intel then ppc+ppc64+i386+x86_64) so it "just works". The only thing to remember is that when you are compiling 3rd party dependencies, you must compile them "fat" for both architectures as well (or use lipo to combine them).
>>>>>>> 
>>>>>>> Great -- so how should I configure R build to do that?  Obviously the
>>>>>>> above builds only one.
>>>>>>> 
>>>>>> 
>>>>>> You always build one, but they both install into one merged framework. You choose which to invoke by setting the --arch parameter, e.g. R --arch=x86_64 to run the 64-bit version. The default will be whichever you install last.
>>>>>> 
>>>>>> Cheers,
>>>>>> Simon
>>>>>> 
>>>>> 
>>>> 
>>> 
>> 
> 


From f.calboli at imperial.ac.uk  Wed Mar  5 14:04:33 2014
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Wed, 5 Mar 2014 13:04:33 +0000
Subject: [R-SIG-Mac] making R.app and home-brew live happily together
In-Reply-To: <F5202261-D20E-4BD5-81A0-C988F6D5885A@stat.ubc.ca>
References: <B8813096-DC75-4DB3-8016-3B6AB98A8FD4@imperial.ac.uk>
	<5F23946E-3676-4F36-B850-B2E9DBD29721@r-project.org>
	<7DE2C2A8-A405-48ED-A2D9-8FFCA158D7FC@imperial.ac.uk>
	<F5202261-D20E-4BD5-81A0-C988F6D5885A@stat.ubc.ca>
Message-ID: <B43F8DC0-9F97-475C-95BA-065CF3B352E6@imperial.ac.uk>

On 4 Mar 2014, at 18:41, Davor Cubranic <cubranic at stat.ubc.ca> wrote:

> If you don?t care about Tcl/Tk, you could also install R without it. Just choose ?Customize? in the installer and unselect it.

isn?t there a different tcl/tk framework that one can use anyway?  I?m referring to the active state one (http://www.activestate.com/activetcl/downloads)

BW

F



> 
> Davor
> 
> On Feb 28, 2014, at 9:51 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
> 
>> Simon,
>> 
>> <snip>
>> 
>>> Unfortunately HB installs by default in /usr/local and requires full control so you cannot have native libraries and HB in the same place at the same time. So essentially you have to pick one or the other. There are two options:
>>> 
>>> a) install HB in another place. This allows you to keep native libraries in /usr/local and parallel HB. HB is less tested that way, though, so that's why HB is shy of recommending it.
>>> 
>>> b) ignore HB's moaning. It should be ok as long as you don't install tcl/tk via HB. It may get complicated if dependencies detect tcl/tk so for safety you could rename the .pc files and the t*Config.sh files if you don't expect to compile R packages that depend on tcl/tk.
>> 
>> I am ignoring the moanings of brew doctor.  I generally try and avoid compiling R packages if at all possible, and I never used stuff that uses tcl/tk (that I know of).  My main concern is that I want to install SciPy and Python 3 (assuming this can be done in a way that will not get Mavericks throw a fit) and that might ? or not ? get some tcl/tk action in.  If not, R.app and HB can live together for all I care.
>> 
>> Best
>> 
>> F
>> 
>> 
>> 
>> 
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>>> BW
>>>> 
>>>> F
>>>> 
>>>> 
>>>> PS  I also asked on apple stack, but I haven?t go any reasonable answer thus far and I?d rather get going.
>>>> 
>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 842 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140305/ff8f193d/attachment.bin>

From ripley at stats.ox.ac.uk  Wed Mar  5 14:12:15 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 05 Mar 2014 13:12:15 +0000
Subject: [R-SIG-Mac] making R.app and home-brew live happily together
In-Reply-To: <B43F8DC0-9F97-475C-95BA-065CF3B352E6@imperial.ac.uk>
References: <B8813096-DC75-4DB3-8016-3B6AB98A8FD4@imperial.ac.uk>	<5F23946E-3676-4F36-B850-B2E9DBD29721@r-project.org>	<7DE2C2A8-A405-48ED-A2D9-8FFCA158D7FC@imperial.ac.uk>	<F5202261-D20E-4BD5-81A0-C988F6D5885A@stat.ubc.ca>
	<B43F8DC0-9F97-475C-95BA-065CF3B352E6@imperial.ac.uk>
Message-ID: <531722AF.5040808@stats.ox.ac.uk>

On 05/03/2014 13:04, Federico Calboli wrote:
> On 4 Mar 2014, at 18:41, Davor Cubranic <cubranic at stat.ubc.ca> wrote:
>
>> If you don?t care about Tcl/Tk, you could also install R without it. Just choose ?Customize? in the installer and unselect it.
>
> isn?t there a different tcl/tk framework that one can use anyway?  I?m referring to the active state one (http://www.activestate.com/activetcl/downloads)

That Tcl/Tk is not a 'framework': there are frameworks you can use, but 
not with the CRAN distribution of R.  See the R-admin manual.


> BW
>
> F
>
>
>
>>
>> Davor
>>
>> On Feb 28, 2014, at 9:51 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>>
>>> Simon,
>>>
>>> <snip>
>>>
>>>> Unfortunately HB installs by default in /usr/local and requires full control so you cannot have native libraries and HB in the same place at the same time. So essentially you have to pick one or the other. There are two options:
>>>>
>>>> a) install HB in another place. This allows you to keep native libraries in /usr/local and parallel HB. HB is less tested that way, though, so that's why HB is shy of recommending it.
>>>>
>>>> b) ignore HB's moaning. It should be ok as long as you don't install tcl/tk via HB. It may get complicated if dependencies detect tcl/tk so for safety you could rename the .pc files and the t*Config.sh files if you don't expect to compile R packages that depend on tcl/tk.
>>>
>>> I am ignoring the moanings of brew doctor.  I generally try and avoid compiling R packages if at all possible, and I never used stuff that uses tcl/tk (that I know of).  My main concern is that I want to install SciPy and Python 3 (assuming this can be done in a way that will not get Mavericks throw a fit) and that might ? or not ? get some tcl/tk action in.  If not, R.app and HB can live together for all I care.
>>>
>>> Best
>>>
>>> F
>>>
>>>
>>>
>>>
>>>>
>>>> Cheers,
>>>> Simon
>>>>
>>>>
>>>>> BW
>>>>>
>>>>> F
>>>>>
>>>>>
>>>>> PS  I also asked on apple stack, but I haven?t go any reasonable answer thus far and I?d rather get going.
>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From f.calboli at imperial.ac.uk  Wed Mar  5 14:15:43 2014
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Wed, 5 Mar 2014 13:15:43 +0000
Subject: [R-SIG-Mac] making R.app and home-brew live happily together
In-Reply-To: <531722AF.5040808@stats.ox.ac.uk>
References: <B8813096-DC75-4DB3-8016-3B6AB98A8FD4@imperial.ac.uk>	<5F23946E-3676-4F36-B850-B2E9DBD29721@r-project.org>	<7DE2C2A8-A405-48ED-A2D9-8FFCA158D7FC@imperial.ac.uk>	<F5202261-D20E-4BD5-81A0-C988F6D5885A@stat.ubc.ca>
	<B43F8DC0-9F97-475C-95BA-065CF3B352E6@imperial.ac.uk>
	<531722AF.5040808@stats.ox.ac.uk>
Message-ID: <3735456A-04EF-4D8D-9D1D-90436E1652BF@imperial.ac.uk>

On 5 Mar 2014, at 13:12, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:

> On 05/03/2014 13:04, Federico Calboli wrote:
>> On 4 Mar 2014, at 18:41, Davor Cubranic <cubranic at stat.ubc.ca> wrote:
>> 
>>> If you don?t care about Tcl/Tk, you could also install R without it. Just choose ?Customize? in the installer and unselect it.
>> 
>> isn?t there a different tcl/tk framework that one can use anyway?  I?m referring to the active state one (http://www.activestate.com/activetcl/downloads)
> 
> That Tcl/Tk is not a 'framework': there are frameworks you can use, but not with the CRAN distribution of R.  See the R-admin manual.

That?s it then ? last time I used X11 on OSX was ~ 3 years ago (i.e. I am not a big tcl/tk user).  I reinstalled R 3.0.3 RC from http://r.research.att.com/, customised the installation omitting tcl/tk, removed the tcl/tk related stuff I had installed before and now both R and HB are happy.

BW

F




> 
> 
>> BW
>> 
>> F
>> 
>> 
>> 
>>> 
>>> Davor
>>> 
>>> On Feb 28, 2014, at 9:51 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>>> 
>>>> Simon,
>>>> 
>>>> <snip>
>>>> 
>>>>> Unfortunately HB installs by default in /usr/local and requires full control so you cannot have native libraries and HB in the same place at the same time. So essentially you have to pick one or the other. There are two options:
>>>>> 
>>>>> a) install HB in another place. This allows you to keep native libraries in /usr/local and parallel HB. HB is less tested that way, though, so that's why HB is shy of recommending it.
>>>>> 
>>>>> b) ignore HB's moaning. It should be ok as long as you don't install tcl/tk via HB. It may get complicated if dependencies detect tcl/tk so for safety you could rename the .pc files and the t*Config.sh files if you don't expect to compile R packages that depend on tcl/tk.
>>>> 
>>>> I am ignoring the moanings of brew doctor.  I generally try and avoid compiling R packages if at all possible, and I never used stuff that uses tcl/tk (that I know of).  My main concern is that I want to install SciPy and Python 3 (assuming this can be done in a way that will not get Mavericks throw a fit) and that might ? or not ? get some tcl/tk action in.  If not, R.app and HB can live together for all I care.
>>>> 
>>>> Best
>>>> 
>>>> F
>>>> 
>>>> 
>>>> 
>>>> 
>>>>> 
>>>>> Cheers,
>>>>> Simon
>>>>> 
>>>>> 
>>>>>> BW
>>>>>> 
>>>>>> F
>>>>>> 
>>>>>> 
>>>>>> PS  I also asked on apple stack, but I haven?t go any reasonable answer thus far and I?d rather get going.
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 842 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140305/e175f4c1/attachment.bin>

From simon.urbanek at r-project.org  Wed Mar  5 15:21:01 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 5 Mar 2014 09:21:01 -0500
Subject: [R-SIG-Mac] making R.app and home-brew live happily together
In-Reply-To: <B43F8DC0-9F97-475C-95BA-065CF3B352E6@imperial.ac.uk>
References: <B8813096-DC75-4DB3-8016-3B6AB98A8FD4@imperial.ac.uk>
	<5F23946E-3676-4F36-B850-B2E9DBD29721@r-project.org>
	<7DE2C2A8-A405-48ED-A2D9-8FFCA158D7FC@imperial.ac.uk>
	<F5202261-D20E-4BD5-81A0-C988F6D5885A@stat.ubc.ca>
	<B43F8DC0-9F97-475C-95BA-065CF3B352E6@imperial.ac.uk>
Message-ID: <991F4F84-F6F8-447E-A6D2-F45389AAB6A7@r-project.org>

On Mar 5, 2014, at 8:04 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:

> On 4 Mar 2014, at 18:41, Davor Cubranic <cubranic at stat.ubc.ca> wrote:
> 
>> If you don?t care about Tcl/Tk, you could also install R without it. Just choose ?Customize? in the installer and unselect it.
> 
> isn?t there a different tcl/tk framework that one can use anyway?  I?m referring to the active state one (http://www.activestate.com/activetcl/downloads)
> 

No, because it doesn't work with R.app since that Tcl/Tk build assumes it's controlling the application and system event loop.

Cheers,
S


> 
> 
>> 
>> Davor
>> 
>> On Feb 28, 2014, at 9:51 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>> 
>>> Simon,
>>> 
>>> <snip>
>>> 
>>>> Unfortunately HB installs by default in /usr/local and requires full control so you cannot have native libraries and HB in the same place at the same time. So essentially you have to pick one or the other. There are two options:
>>>> 
>>>> a) install HB in another place. This allows you to keep native libraries in /usr/local and parallel HB. HB is less tested that way, though, so that's why HB is shy of recommending it.
>>>> 
>>>> b) ignore HB's moaning. It should be ok as long as you don't install tcl/tk via HB. It may get complicated if dependencies detect tcl/tk so for safety you could rename the .pc files and the t*Config.sh files if you don't expect to compile R packages that depend on tcl/tk.
>>> 
>>> I am ignoring the moanings of brew doctor.  I generally try and avoid compiling R packages if at all possible, and I never used stuff that uses tcl/tk (that I know of).  My main concern is that I want to install SciPy and Python 3 (assuming this can be done in a way that will not get Mavericks throw a fit) and that might ? or not ? get some tcl/tk action in.  If not, R.app and HB can live together for all I care.
>>> 
>>> Best
>>> 
>>> F
>>> 
>>> 
>>> 
>>> 
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>>> BW
>>>>> 
>>>>> F
>>>>> 
>>>>> 
>>>>> PS  I also asked on apple stack, but I haven?t go any reasonable answer thus far and I?d rather get going.
>>>>> 
>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 


From csardi.gabor at gmail.com  Wed Mar  5 15:24:48 2014
From: csardi.gabor at gmail.com (=?ISO-8859-1?B?R+Fib3IgQ3PhcmRp?=)
Date: Wed, 5 Mar 2014 09:24:48 -0500
Subject: [R-SIG-Mac] making R.app and home-brew live happily together
In-Reply-To: <991F4F84-F6F8-447E-A6D2-F45389AAB6A7@r-project.org>
References: <B8813096-DC75-4DB3-8016-3B6AB98A8FD4@imperial.ac.uk>
	<5F23946E-3676-4F36-B850-B2E9DBD29721@r-project.org>
	<7DE2C2A8-A405-48ED-A2D9-8FFCA158D7FC@imperial.ac.uk>
	<F5202261-D20E-4BD5-81A0-C988F6D5885A@stat.ubc.ca>
	<B43F8DC0-9F97-475C-95BA-065CF3B352E6@imperial.ac.uk>
	<991F4F84-F6F8-447E-A6D2-F45389AAB6A7@r-project.org>
Message-ID: <CABtg=KnAuK5PsftQPrJUUhkzYfj_atYo=pEZ_vWLLR2k5K=2pg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140305/886c24c9/attachment.pl>

From simon.urbanek at r-project.org  Wed Mar  5 15:53:12 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 5 Mar 2014 09:53:12 -0500
Subject: [R-SIG-Mac] making R.app and home-brew live happily together
In-Reply-To: <CABtg=KnAuK5PsftQPrJUUhkzYfj_atYo=pEZ_vWLLR2k5K=2pg@mail.gmail.com>
References: <B8813096-DC75-4DB3-8016-3B6AB98A8FD4@imperial.ac.uk>
	<5F23946E-3676-4F36-B850-B2E9DBD29721@r-project.org>
	<7DE2C2A8-A405-48ED-A2D9-8FFCA158D7FC@imperial.ac.uk>
	<F5202261-D20E-4BD5-81A0-C988F6D5885A@stat.ubc.ca>
	<B43F8DC0-9F97-475C-95BA-065CF3B352E6@imperial.ac.uk>
	<991F4F84-F6F8-447E-A6D2-F45389AAB6A7@r-project.org>
	<CABtg=KnAuK5PsftQPrJUUhkzYfj_atYo=pEZ_vWLLR2k5K=2pg@mail.gmail.com>
Message-ID: <E415EC59-C517-4F9F-B2CB-B26E33F8E8DE@r-project.org>


On Mar 5, 2014, at 9:24 AM, G?bor Cs?rdi <csardi.gabor at gmail.com> wrote:

> On Wed, Mar 5, 2014 at 9:21 AM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> On Mar 5, 2014, at 8:04 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
> 
> > On 4 Mar 2014, at 18:41, Davor Cubranic <cubranic at stat.ubc.ca> wrote:
> >
> >> If you don?t care about Tcl/Tk, you could also install R without it. Just choose ?Customize? in the installer and unselect it.
> >
> > isn?t there a different tcl/tk framework that one can use anyway?  I?m referring to the active state one (http://www.activestate.com/activetcl/downloads)
> >
> 
> No, because it doesn't work with R.app since that Tcl/Tk build assumes it's controlling the application and system event loop.
> 
> Is this also true the other way? I mean, does the R Tcl/Tk work with other OSX apps that need Tcl/Tk?
> 

AFAIK, yes. It's the native Tcl/Tk port that causes issues. However, for pure Tcl/Tk apps users may prefer the native look to X11.


> Gabor, another person annoyed by R and homebrew not playing well together.....

I just checked, and homebrew proper doesn't even provide Tcl/Tk so it seems like this is not really an issue at all. Even the dupes version installs in a hidden location so it doesn't clash. Homebrew typically tries not to mess up the system so it was historically working along with R very well. So do you have some evidence for them not playing well together? I know MacPorts and Fink were disasters, but Homebrew has so far tried to learn from their mistakes.

Cheers,
Simon




>  
> 
> Cheers,
> S
> 
> 
> >
> >
> >>
> >> Davor
> >>
> >> On Feb 28, 2014, at 9:51 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
> >>
> >>> Simon,
> >>>
> >>> <snip>
> >>>
> >>>> Unfortunately HB installs by default in /usr/local and requires full control so you cannot have native libraries and HB in the same place at the same time. So essentially you have to pick one or the other. There are two options:
> >>>>
> >>>> a) install HB in another place. This allows you to keep native libraries in /usr/local and parallel HB. HB is less tested that way, though, so that's why HB is shy of recommending it.
> >>>>
> >>>> b) ignore HB's moaning. It should be ok as long as you don't install tcl/tk via HB. It may get complicated if dependencies detect tcl/tk so for safety you could rename the .pc files and the t*Config.sh files if you don't expect to compile R packages that depend on tcl/tk.
> >>>
> >>> I am ignoring the moanings of brew doctor.  I generally try and avoid compiling R packages if at all possible, and I never used stuff that uses tcl/tk (that I know of).  My main concern is that I want to install SciPy and Python 3 (assuming this can be done in a way that will not get Mavericks throw a fit) and that might ? or not ? get some tcl/tk action in.  If not, R.app and HB can live together for all I care.
> >>>
> >>> Best
> >>>
> >>> F
> >>>
> >>>
> >>>
> >>>
> >>>>
> >>>> Cheers,
> >>>> Simon
> >>>>
> >>>>
> >>>>> BW
> >>>>>
> >>>>> F
> >>>>>
> >>>>>
> >>>>> PS  I also asked on apple stack, but I haven?t go any reasonable answer thus far and I?d rather get going.
> >>>>>
> >>>>>
> >>>>>
> >>>>> _______________________________________________
> >>>>> R-SIG-Mac mailing list
> >>>>> R-SIG-Mac at r-project.org
> >>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>>
> >>> _______________________________________________
> >>> R-SIG-Mac mailing list
> >>> R-SIG-Mac at r-project.org
> >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>
> >
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From f.calboli at imperial.ac.uk  Wed Mar  5 15:58:40 2014
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Wed, 5 Mar 2014 14:58:40 +0000
Subject: [R-SIG-Mac] making R.app and home-brew live happily together
In-Reply-To: <E415EC59-C517-4F9F-B2CB-B26E33F8E8DE@r-project.org>
References: <B8813096-DC75-4DB3-8016-3B6AB98A8FD4@imperial.ac.uk>
	<5F23946E-3676-4F36-B850-B2E9DBD29721@r-project.org>
	<7DE2C2A8-A405-48ED-A2D9-8FFCA158D7FC@imperial.ac.uk>
	<F5202261-D20E-4BD5-81A0-C988F6D5885A@stat.ubc.ca>
	<B43F8DC0-9F97-475C-95BA-065CF3B352E6@imperial.ac.uk>
	<991F4F84-F6F8-447E-A6D2-F45389AAB6A7@r-project.org>
	<CABtg=KnAuK5PsftQPrJUUhkzYfj_atYo=pEZ_vWLLR2k5K=2pg@mail.gmail.com>
	<E415EC59-C517-4F9F-B2CB-B26E33F8E8DE@r-project.org>
Message-ID: <081CF17A-B0C9-49FD-B076-62F5FE3FA2E8@imperial.ac.uk>

On 5 Mar 2014, at 14:53, Simon Urbanek <simon.urbanek at r-project.org> wrote:

> 
> On Mar 5, 2014, at 9:24 AM, G?bor Cs?rdi <csardi.gabor at gmail.com> wrote:
> 
>> On Wed, Mar 5, 2014 at 9:21 AM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> On Mar 5, 2014, at 8:04 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>> 
>>> On 4 Mar 2014, at 18:41, Davor Cubranic <cubranic at stat.ubc.ca> wrote:
>>> 
>>>> If you don?t care about Tcl/Tk, you could also install R without it. Just choose ?Customize? in the installer and unselect it.
>>> 
>>> isn?t there a different tcl/tk framework that one can use anyway?  I?m referring to the active state one (http://www.activestate.com/activetcl/downloads)
>>> 
>> 
>> No, because it doesn't work with R.app since that Tcl/Tk build assumes it's controlling the application and system event loop.
>> 
>> Is this also true the other way? I mean, does the R Tcl/Tk work with other OSX apps that need Tcl/Tk?
>> 
> 
> AFAIK, yes. It's the native Tcl/Tk port that causes issues. However, for pure Tcl/Tk apps users may prefer the native look to X11.
> 
> 
>> Gabor, another person annoyed by R and homebrew not playing well together.....
> 
> I just checked, and homebrew proper doesn't even provide Tcl/Tk so it seems like this is not really an issue at all. Even the dupes version installs in a hidden location so it doesn't clash. Homebrew typically tries not to mess up the system so it was historically working along with R very well. So do you have some evidence for them not playing well together? I know MacPorts and Fink were disasters, but Homebrew has so far tried to learn from their mistakes.

My original comment comes from ?brew doctor? throwing warnings up.  Having said that, because I do not use Tcl/Tk ever, whether in R or elsewhere, my question was proactive ? 'how can I avoid problems given I?m getting warnings' ? rather than ?something broke?.  Many people I know use HB to get R and have never had any problems, but I like the R.app GUI.

Best

F




> 
> Cheers,
> Simon
> 
> 
> 
> 
>> 
>> 
>> Cheers,
>> S
>> 
>> 
>>> 
>>> 
>>>> 
>>>> Davor
>>>> 
>>>> On Feb 28, 2014, at 9:51 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>>>> 
>>>>> Simon,
>>>>> 
>>>>> <snip>
>>>>> 
>>>>>> Unfortunately HB installs by default in /usr/local and requires full control so you cannot have native libraries and HB in the same place at the same time. So essentially you have to pick one or the other. There are two options:
>>>>>> 
>>>>>> a) install HB in another place. This allows you to keep native libraries in /usr/local and parallel HB. HB is less tested that way, though, so that's why HB is shy of recommending it.
>>>>>> 
>>>>>> b) ignore HB's moaning. It should be ok as long as you don't install tcl/tk via HB. It may get complicated if dependencies detect tcl/tk so for safety you could rename the .pc files and the t*Config.sh files if you don't expect to compile R packages that depend on tcl/tk.
>>>>> 
>>>>> I am ignoring the moanings of brew doctor.  I generally try and avoid compiling R packages if at all possible, and I never used stuff that uses tcl/tk (that I know of).  My main concern is that I want to install SciPy and Python 3 (assuming this can be done in a way that will not get Mavericks throw a fit) and that might ? or not ? get some tcl/tk action in.  If not, R.app and HB can live together for all I care.
>>>>> 
>>>>> Best
>>>>> 
>>>>> F
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>>> 
>>>>>> Cheers,
>>>>>> Simon
>>>>>> 
>>>>>> 
>>>>>>> BW
>>>>>>> 
>>>>>>> F
>>>>>>> 
>>>>>>> 
>>>>>>> PS  I also asked on apple stack, but I haven?t go any reasonable answer thus far and I?d rather get going.
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 842 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140305/f8664fe9/attachment.bin>

From csardi.gabor at gmail.com  Wed Mar  5 16:01:09 2014
From: csardi.gabor at gmail.com (=?ISO-8859-1?B?R+Fib3IgQ3PhcmRp?=)
Date: Wed, 5 Mar 2014 10:01:09 -0500
Subject: [R-SIG-Mac] making R.app and home-brew live happily together
In-Reply-To: <E415EC59-C517-4F9F-B2CB-B26E33F8E8DE@r-project.org>
References: <B8813096-DC75-4DB3-8016-3B6AB98A8FD4@imperial.ac.uk>
	<5F23946E-3676-4F36-B850-B2E9DBD29721@r-project.org>
	<7DE2C2A8-A405-48ED-A2D9-8FFCA158D7FC@imperial.ac.uk>
	<F5202261-D20E-4BD5-81A0-C988F6D5885A@stat.ubc.ca>
	<B43F8DC0-9F97-475C-95BA-065CF3B352E6@imperial.ac.uk>
	<991F4F84-F6F8-447E-A6D2-F45389AAB6A7@r-project.org>
	<CABtg=KnAuK5PsftQPrJUUhkzYfj_atYo=pEZ_vWLLR2k5K=2pg@mail.gmail.com>
	<E415EC59-C517-4F9F-B2CB-B26E33F8E8DE@r-project.org>
Message-ID: <CABtg=KnWq=6c5=Zma3_Ve0=+0pMd6L9=FWECXCWhJA2okgR=Kw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140305/e89b77a7/attachment.pl>

From andy.jacobson at noaa.gov  Thu Mar  6 19:03:23 2014
From: andy.jacobson at noaa.gov (Andy Jacobson)
Date: Thu, 6 Mar 2014 11:03:23 -0700
Subject: [R-SIG-Mac] Trouble compiling packages under Mavericks
Message-ID: <24C63582-A14E-4458-AC14-B4B1831181FD@noaa.gov>

Howdy,

I experienced some hiccups trying to use R CMD INSTALL to compile/install packages, on Mavericks (OS X 10.9.2) with R-3.0.2 from CRAN.  I think I resolved them using a ~/.R/Makevars fix and I thought I'd report on that.

The symptom I would get is complaints about "cc1" not understanding the "-arch" argument, as in:

>  > R CMD INSTALL png_0.1-7.tar.gz 
>    
> * installing to library ?/private/nfs/ct/lib/R-3.0/x86_64-apple-darwin10.8.0?
> * installing *source* package ?png? ...
> ** package ?png? successfully unpacked and MD5 sums checked
> ** libs
> llvm-gcc-4.2 -arch x86_64 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/usr/local/include    `libpng-config --cflags` -fPIC  -mtune=core2 -g -O2  -c read.c -o read.o
> cc1: error: unrecognized command line option "-arch"
> make: *** [read.o] Error 1
> ERROR: compilation failed for package ?png?

llvm-gcc-4.2 is not the up-to-date XCode compiler.  That rather is "Apple LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)".

Section C.3.4 ("Mavericks") of the R-admin guide suggests a "config.site" file with the following:

CC=clang
CXX=clang++
F77="gfortran-4.2 -arch x86_64"
FC=$F77
OBJC=clang

I put these definitions in my ~/.R/Makevars file and all packages compiled correctly after that.  I'm not sure this is correct.

Regards,

Andy


-- 
Andy Jacobson
andy.jacobson at noaa.gov

NOAA Earth System Research Lab
Global Monitoring Division
325 Broadway R/GMD1
Boulder, Colorado 80305

303/578-2237


From simon.urbanek at r-project.org  Thu Mar  6 19:11:40 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 6 Mar 2014 13:11:40 -0500
Subject: [R-SIG-Mac] Trouble compiling packages under Mavericks
In-Reply-To: <24C63582-A14E-4458-AC14-B4B1831181FD@noaa.gov>
References: <24C63582-A14E-4458-AC14-B4B1831181FD@noaa.gov>
Message-ID: <ABB49ADE-7A80-47AC-A023-04EF55D57B10@r-project.org>

On Mar 6, 2014, at 1:03 PM, Andy Jacobson <andy.jacobson at noaa.gov> wrote:

> Howdy,
> 
> I experienced some hiccups trying to use R CMD INSTALL to compile/install packages, on Mavericks (OS X 10.9.2) with R-3.0.2 from CRAN.  I think I resolved them using a ~/.R/Makevars fix and I thought I'd report on that.
> 

Please consider reading the archives before posting - this has been discussed do often that it should be almost a FAQ.
This has been already addressed in recent R builds. The best advice is to update your R.

Cheers,
Simon


> The symptom I would get is complaints about "cc1" not understanding the "-arch" argument, as in:
> 
>>> R CMD INSTALL png_0.1-7.tar.gz 
>> 
>> * installing to library ?/private/nfs/ct/lib/R-3.0/x86_64-apple-darwin10.8.0?
>> * installing *source* package ?png? ...
>> ** package ?png? successfully unpacked and MD5 sums checked
>> ** libs
>> llvm-gcc-4.2 -arch x86_64 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/usr/local/include    `libpng-config --cflags` -fPIC  -mtune=core2 -g -O2  -c read.c -o read.o
>> cc1: error: unrecognized command line option "-arch"
>> make: *** [read.o] Error 1
>> ERROR: compilation failed for package ?png?
> 
> llvm-gcc-4.2 is not the up-to-date XCode compiler.  That rather is "Apple LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)".
> 
> Section C.3.4 ("Mavericks") of the R-admin guide suggests a "config.site" file with the following:
> 
> CC=clang
> CXX=clang++
> F77="gfortran-4.2 -arch x86_64"
> FC=$F77
> OBJC=clang
> 
> I put these definitions in my ~/.R/Makevars file and all packages compiled correctly after that.  I'm not sure this is correct.
> 
> Regards,
> 
> Andy
> 
> 
> -- 
> Andy Jacobson
> andy.jacobson at noaa.gov
> 
> NOAA Earth System Research Lab
> Global Monitoring Division
> 325 Broadway R/GMD1
> Boulder, Colorado 80305
> 
> 303/578-2237
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From andy.jacobson at noaa.gov  Thu Mar  6 19:21:59 2014
From: andy.jacobson at noaa.gov (Andy Jacobson)
Date: Thu, 6 Mar 2014 11:21:59 -0700
Subject: [R-SIG-Mac] Trouble compiling packages under Mavericks
In-Reply-To: <ABB49ADE-7A80-47AC-A023-04EF55D57B10@r-project.org>
References: <24C63582-A14E-4458-AC14-B4B1831181FD@noaa.gov>
	<ABB49ADE-7A80-47AC-A023-04EF55D57B10@r-project.org>
Message-ID: <DF08A68E-52EC-463D-BD80-FD5FB9A3F92D@noaa.gov>

Simon,

Thanks for your reply.  I think this ought to be elevated to a FAQ, or mentioned in the R-admin Mavericks section, because I *still* can't find it in the R-Sig-Mac archives, even after you told me the information is there.  As far as updating R, I have the latest CRAN version...are you suggesting to go with a more recent build?

Thanks,

Andy

On Thu 06 Mar 2014, at 11:11 , Simon Urbanek <simon.urbanek at r-project.org> wrote:

> On Mar 6, 2014, at 1:03 PM, Andy Jacobson <andy.jacobson at noaa.gov> wrote:
> 
>> Howdy,
>> 
>> I experienced some hiccups trying to use R CMD INSTALL to compile/install packages, on Mavericks (OS X 10.9.2) with R-3.0.2 from CRAN.  I think I resolved them using a ~/.R/Makevars fix and I thought I'd report on that.
>> 
> 
> Please consider reading the archives before posting - this has been discussed do often that it should be almost a FAQ.
> This has been already addressed in recent R builds. The best advice is to update your R.
> 
> Cheers,
> Simon
> 
> 
>> The symptom I would get is complaints about "cc1" not understanding the "-arch" argument, as in:
>> 
>>>> R CMD INSTALL png_0.1-7.tar.gz 
>>> 
>>> * installing to library ?/private/nfs/ct/lib/R-3.0/x86_64-apple-darwin10.8.0?
>>> * installing *source* package ?png? ...
>>> ** package ?png? successfully unpacked and MD5 sums checked
>>> ** libs
>>> llvm-gcc-4.2 -arch x86_64 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/usr/local/include    `libpng-config --cflags` -fPIC  -mtune=core2 -g -O2  -c read.c -o read.o
>>> cc1: error: unrecognized command line option "-arch"
>>> make: *** [read.o] Error 1
>>> ERROR: compilation failed for package ?png?
>> 
>> llvm-gcc-4.2 is not the up-to-date XCode compiler.  That rather is "Apple LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)".
>> 
>> Section C.3.4 ("Mavericks") of the R-admin guide suggests a "config.site" file with the following:
>> 
>> CC=clang
>> CXX=clang++
>> F77="gfortran-4.2 -arch x86_64"
>> FC=$F77
>> OBJC=clang
>> 
>> I put these definitions in my ~/.R/Makevars file and all packages compiled correctly after that.  I'm not sure this is correct.
>> 
>> Regards,
>> 
>> Andy
>> 
>> 
>> -- 
>> Andy Jacobson
>> andy.jacobson at noaa.gov
>> 
>> NOAA Earth System Research Lab
>> Global Monitoring Division
>> 325 Broadway R/GMD1
>> Boulder, Colorado 80305
>> 
>> 303/578-2237
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 

-- 
Andy Jacobson
andy.jacobson at noaa.gov

NOAA Earth System Research Lab
Global Monitoring Division
325 Broadway R/GMD1
Boulder, Colorado 80305

303/578-2237


From simon.urbanek at r-project.org  Thu Mar  6 22:13:28 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 6 Mar 2014 16:13:28 -0500
Subject: [R-SIG-Mac] Trouble compiling packages under Mavericks
In-Reply-To: <DF08A68E-52EC-463D-BD80-FD5FB9A3F92D@noaa.gov>
References: <24C63582-A14E-4458-AC14-B4B1831181FD@noaa.gov>
	<ABB49ADE-7A80-47AC-A023-04EF55D57B10@r-project.org>
	<DF08A68E-52EC-463D-BD80-FD5FB9A3F92D@noaa.gov>
Message-ID: <46A253B5-6468-429B-B79E-5A03DE9AE503@r-project.org>

On Mar 6, 2014, at 1:21 PM, Andy Jacobson <Andy.Jacobson at noaa.gov> wrote:

> Simon,
> 
> Thanks for your reply.  I think this ought to be elevated to a FAQ, or mentioned in the R-admin Mavericks section, because I *still* can't find it in the R-Sig-Mac archives, even after you told me the information is there.

https://stat.ethz.ch/pipermail/r-sig-mac/2014-January/010607.html

Admittedly a lot of the various posts on SIG-Mac have different keywords, because this is not  Maverick issue but rather Xcode 5 issue.


>  As far as updating R, I have the latest CRAN version...are you suggesting to go with a more recent build?
> 

Yes, either use the nightly build or R-3.0.3 binary (incidentally released today).

Cheers,
Simon


> Thanks,
> 
> Andy
> 
> On Thu 06 Mar 2014, at 11:11 , Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
>> On Mar 6, 2014, at 1:03 PM, Andy Jacobson <andy.jacobson at noaa.gov> wrote:
>> 
>>> Howdy,
>>> 
>>> I experienced some hiccups trying to use R CMD INSTALL to compile/install packages, on Mavericks (OS X 10.9.2) with R-3.0.2 from CRAN.  I think I resolved them using a ~/.R/Makevars fix and I thought I'd report on that.
>>> 
>> 
>> Please consider reading the archives before posting - this has been discussed do often that it should be almost a FAQ.
>> This has been already addressed in recent R builds. The best advice is to update your R.
>> 
>> Cheers,
>> Simon
>> 
>> 
>>> The symptom I would get is complaints about "cc1" not understanding the "-arch" argument, as in:
>>> 
>>>>> R CMD INSTALL png_0.1-7.tar.gz 
>>>> 
>>>> * installing to library ?/private/nfs/ct/lib/R-3.0/x86_64-apple-darwin10.8.0?
>>>> * installing *source* package ?png? ...
>>>> ** package ?png? successfully unpacked and MD5 sums checked
>>>> ** libs
>>>> llvm-gcc-4.2 -arch x86_64 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/usr/local/include    `libpng-config --cflags` -fPIC  -mtune=core2 -g -O2  -c read.c -o read.o
>>>> cc1: error: unrecognized command line option "-arch"
>>>> make: *** [read.o] Error 1
>>>> ERROR: compilation failed for package ?png?
>>> 
>>> llvm-gcc-4.2 is not the up-to-date XCode compiler.  That rather is "Apple LLVM version 5.0 (clang-500.2.79) (based on LLVM 3.3svn)".
>>> 
>>> Section C.3.4 ("Mavericks") of the R-admin guide suggests a "config.site" file with the following:
>>> 
>>> CC=clang
>>> CXX=clang++
>>> F77="gfortran-4.2 -arch x86_64"
>>> FC=$F77
>>> OBJC=clang
>>> 
>>> I put these definitions in my ~/.R/Makevars file and all packages compiled correctly after that.  I'm not sure this is correct.
>>> 
>>> Regards,
>>> 
>>> Andy
>>> 
>>> 
>>> -- 
>>> Andy Jacobson
>>> andy.jacobson at noaa.gov
>>> 
>>> NOAA Earth System Research Lab
>>> Global Monitoring Division
>>> 325 Broadway R/GMD1
>>> Boulder, Colorado 80305
>>> 
>>> 303/578-2237
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
> 
> -- 
> Andy Jacobson
> andy.jacobson at noaa.gov
> 
> NOAA Earth System Research Lab
> Global Monitoring Division
> 325 Broadway R/GMD1
> Boulder, Colorado 80305
> 
> 303/578-2237
> 
> 
> 
> 
> 
> 


From brenne at gmail.com  Sun Mar  9 00:21:06 2014
From: brenne at gmail.com (Bryan Renne)
Date: Sat, 8 Mar 2014 15:21:06 -0800
Subject: [R-SIG-Mac] R 3.0.2/3.0.3 source install problems on OS X 10.9.2
Message-ID: <CABaPezgLznNDPaFqRiBtGLwh3T_-Kz0XkPxynXJipKq6B8gXUg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140308/5613d9ed/attachment.pl>

From pdalgd at gmail.com  Sun Mar  9 11:31:10 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Sun, 9 Mar 2014 11:31:10 +0100
Subject: [R-SIG-Mac] R 3.0.2/3.0.3 source install problems on OS X 10.9.2
In-Reply-To: <CABaPezgLznNDPaFqRiBtGLwh3T_-Kz0XkPxynXJipKq6B8gXUg@mail.gmail.com>
References: <CABaPezgLznNDPaFqRiBtGLwh3T_-Kz0XkPxynXJipKq6B8gXUg@mail.gmail.com>
Message-ID: <A2559824-7AFD-468B-B916-BF373DD3272A@gmail.com>


On 09 Mar 2014, at 00:21 , Bryan Renne <brenne at gmail.com> wrote:

> Hi there.  I am having compilation problems with R 3.0.2 (and R 3.0.3) on
> OS X 10.9.2.

On homebrew.... (Would have been useful to say up front.)

>  Everything seems to work up to the installation of
> recommended R packages.  At that point, the make fails.  In particular,
> after running "R CMD INSTALL MASS.tgz" (directly or the essentially
> equivalent but multi-optioned version that is run via the Makefile), I end
> up with the following fatal error:
> 
> Warning in read.dcf(fd <- file.path(pkg, "DESCRIPTION")) :
>>  cannot open compressed file
>> './RtmpeHPfcG/R.INSTALLb9055b3c3f45/MASS/DESCRIPTION', probable reason 'No
>> such file or directory'
>> Error: error reading file
>> './RtmpeHPfcG/R.INSTALLb9055b3c3f45/MASS/DESCRIPTION'
> 
> 
> For more detailed output of "configure" and "make" please see the output
> from these failed homebrew installations (which are essentially identical
> with what I get when I try to install from CRAN-provided source):
> 
> for R 3.0.2:  https://gist.github.com/bprenne/8626679
> 
> for R 3.0.3:  https://gist.github.com/bprenne/9405569
> 
> Someone on the homebrew team recommended I contact people via an R list (
> https://github.com/Homebrew/homebrew-science/issues/640), so here I am.
> 
> I also tried setting R_INSTALL_TAR to the system tar or to a
> homebrew-installed gnutar.  Neither helped.
> 
> Any suggestions on how I might proceed?

Hmm, difficult to tell. If push comes to shove, you could try getting more info out of the INSTALL process (inject a debug(tools:::.install_packages), I suppose, but it is a bit beyond me currently). But first, I'd check what Makeconf sets the TAR variable to.

-pd  

> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From brenne at gmail.com  Sun Mar  9 20:59:33 2014
From: brenne at gmail.com (Bryan Renne)
Date: Sun, 9 Mar 2014 12:59:33 -0700
Subject: [R-SIG-Mac] R 3.0.2/3.0.3 source install problems on OS X 10.9.2
In-Reply-To: <A2559824-7AFD-468B-B916-BF373DD3272A@gmail.com>
References: <CABaPezgLznNDPaFqRiBtGLwh3T_-Kz0XkPxynXJipKq6B8gXUg@mail.gmail.com>
	<A2559824-7AFD-468B-B916-BF373DD3272A@gmail.com>
Message-ID: <CABaPezh2NSUTWdk4-B3YnB0iX=WvzBhVvaRXpKioRtZOjBMtGg@mail.gmail.com>

Thank you for your reply, Peter.

On Sun, Mar 9, 2014 at 3:31 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>
> On 09 Mar 2014, at 00:21 , Bryan Renne <brenne at gmail.com> wrote:
>
>> Hi there.  I am having compilation problems with R 3.0.2 (and R 3.0.3) on
>> OS X 10.9.2.
>
> On homebrew.... (Would have been useful to say up front.)

Actually, no.  This is *not* a homebrew specific problem, and so I did
not say that up front, though perhaps I could have been more clear on
this point rather than relegating it to a mention in passing to
"CRAN-provided source."  My apologies.

To clarify:  I have this problem both with CRAN-provided source that I
try to compile directly by hand (with "configure" and "make") and with
the homebrew-driven automatic compilation procedure.  In either case,
the error seems to be the same and to occur in the same place:  R
compiles but once it comes time to install the recommended libraries,
the R binary has some problem reading (or untarring/decompressing?)
the .tgz of various libraries, such as MASS, and this leads the "make"
script to abort.  I provide the links to the homebrew output because
what is seen there in the "configure" and "make" output is essentially
the same as what I see when I try to compile from CRAN-provided source
by hand (and I don't want to cut-and-paste everything here since it is
already available there via the links to the gists below).

Right now I am trying to get the CRAN-provided source to complete its
"make" script before I try and go back to homebrew.  So right now this
really is about R 3.0.2 (or 3.0.3) on OS X 10.9.2.  (Though perhaps
some of the other non-R tools provided by homebrew may be relevant
here.)

>>  Everything seems to work up to the installation of
>> recommended R packages.  At that point, the make fails.  In particular,
>> after running "R CMD INSTALL MASS.tgz" (directly or the essentially
>> equivalent but multi-optioned version that is run via the Makefile), I end
>> up with the following fatal error:
>>
>> Warning in read.dcf(fd <- file.path(pkg, "DESCRIPTION")) :
>>>  cannot open compressed file
>>> './RtmpeHPfcG/R.INSTALLb9055b3c3f45/MASS/DESCRIPTION', probable reason 'No
>>> such file or directory'
>>> Error: error reading file
>>> './RtmpeHPfcG/R.INSTALLb9055b3c3f45/MASS/DESCRIPTION'
>>
>>
>> For more detailed output of "configure" and "make" please see the output
>> from these failed homebrew installations (which are essentially identical
>> with what I get when I try to install from CRAN-provided source):
>>
>> for R 3.0.2:  https://gist.github.com/bprenne/8626679
>>
>> for R 3.0.3:  https://gist.github.com/bprenne/9405569
>>
>> Someone on the homebrew team recommended I contact people via an R list (
>> https://github.com/Homebrew/homebrew-science/issues/640), so here I am.
>>
>> I also tried setting R_INSTALL_TAR to the system tar or to a
>> homebrew-installed gnutar.  Neither helped.
>>
>> Any suggestions on how I might proceed?
>
> Hmm, difficult to tell. If push comes to shove, you could try getting more info out of the INSTALL process (inject a debug(tools:::.install_packages), I suppose, but it is a bit beyond me currently). But first, I'd check what Makeconf sets the TAR variable to.

Thank you for these suggestions.  Makeconf contains this line:

TAR = /usr/local/bin/gtar

This is the homebrew-installed gnutar.  However, is the R binary
(which has properly compiled and is the source of the error in library
installation) reading Makeconf to determine how to untar the library
.tgz?

I tried using the debug command you suggested.  I'm not sure if I am
doing this right (as I am completely new to R, so new I cannot even
get the install to fully complete!), but here is what I did and what I
saw:

$ ../../../bin/R

R version 3.0.2 (2013-09-25) -- "Frisbee Sailing"
Copyright (C) 2013 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin13.1.0 (64-bit)
[[...warranty and initial instructions deleted...]]

> debug(tools:::.install_packages)
> install.packages("MASS.tgz", repos=NULL)

Warning in read.dcf(fd <- file.path(pkg, "DESCRIPTION")) :
  cannot open compressed file
'./Rtmp8WNcfs/R.INSTALLbf2333341aff/MASS/DESCRIPTION', probable reason
'No such file or directory'
Error: error reading file './Rtmp8WNcfs/R.INSTALLbf2333341aff/MASS/DESCRIPTION'
Warning message:
In install.packages("MASS.tgz", repos = NULL) :
  installation of package 'MASS.tgz' had non-zero exit status

This seems to just be a repeat of the error message provided if I use
the command-line version "R INSTALL CMD MASS.tgz".  Doesn't it seem
like something strange is going on with the untar/decompress internals
here?

Other ideas as to how I might proceed?

I hope all is well.


From simon.urbanek at r-project.org  Mon Mar 10 02:41:26 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 9 Mar 2014 21:41:26 -0400
Subject: [R-SIG-Mac] R 3.0.2/3.0.3 source install problems on OS X 10.9.2
In-Reply-To: <CABaPezh2NSUTWdk4-B3YnB0iX=WvzBhVvaRXpKioRtZOjBMtGg@mail.gmail.com>
References: <CABaPezgLznNDPaFqRiBtGLwh3T_-Kz0XkPxynXJipKq6B8gXUg@mail.gmail.com>
	<A2559824-7AFD-468B-B916-BF373DD3272A@gmail.com>
	<CABaPezh2NSUTWdk4-B3YnB0iX=WvzBhVvaRXpKioRtZOjBMtGg@mail.gmail.com>
Message-ID: <832D6119-01CB-44C3-A7E4-5B15FA345A11@r-project.org>

Bryan,

On Mar 9, 2014, at 3:59 PM, Bryan Renne <brenne at gmail.com> wrote:

> Thank you for your reply, Peter.
> 
> On Sun, Mar 9, 2014 at 3:31 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>> 
>> On 09 Mar 2014, at 00:21 , Bryan Renne <brenne at gmail.com> wrote:
>> 
>>> Hi there.  I am having compilation problems with R 3.0.2 (and R 3.0.3) on
>>> OS X 10.9.2.
>> 
>> On homebrew.... (Would have been useful to say up front.)
> 
> Actually, no.  This is *not* a homebrew specific problem,

It *is* as you even point yourself further down. It doesn't occur on a clean OS X system.


> and so I did
> not say that up front, though perhaps I could have been more clear on
> this point rather than relegating it to a mention in passing to
> "CRAN-provided source."  My apologies.
> 
> To clarify:  I have this problem both with CRAN-provided source that I
> try to compile directly by hand (with "configure" and "make") and with
> the homebrew-driven automatic compilation procedure.  In either case,
> the error seems to be the same and to occur in the same place:  R
> compiles but once it comes time to install the recommended libraries,
> the R binary has some problem reading (or untarring/decompressing?)
> the .tgz of various libraries, such as MASS, and this leads the "make"
> script to abort.  I provide the links to the homebrew output because
> what is seen there in the "configure" and "make" output is essentially
> the same as what I see when I try to compile from CRAN-provided source
> by hand (and I don't want to cut-and-paste everything here since it is
> already available there via the links to the gists below).
> 
> Right now I am trying to get the CRAN-provided source to complete its
> "make" script before I try and go back to homebrew.  So right now this
> really is about R 3.0.2 (or 3.0.3) on OS X 10.9.2.  (Though perhaps
> some of the other non-R tools provided by homebrew may be relevant
> here.)
> 
>>> Everything seems to work up to the installation of
>>> recommended R packages.  At that point, the make fails.  In particular,
>>> after running "R CMD INSTALL MASS.tgz" (directly or the essentially
>>> equivalent but multi-optioned version that is run via the Makefile), I end
>>> up with the following fatal error:
>>> 
>>> Warning in read.dcf(fd <- file.path(pkg, "DESCRIPTION")) :
>>>> cannot open compressed file
>>>> './RtmpeHPfcG/R.INSTALLb9055b3c3f45/MASS/DESCRIPTION', probable reason 'No
>>>> such file or directory'
>>>> Error: error reading file
>>>> './RtmpeHPfcG/R.INSTALLb9055b3c3f45/MASS/DESCRIPTION'
>>> 
>>> 
>>> For more detailed output of "configure" and "make" please see the output
>>> from these failed homebrew installations (which are essentially identical
>>> with what I get when I try to install from CRAN-provided source):
>>> 
>>> for R 3.0.2:  https://gist.github.com/bprenne/8626679
>>> 
>>> for R 3.0.3:  https://gist.github.com/bprenne/9405569
>>> 
>>> Someone on the homebrew team recommended I contact people via an R list (
>>> https://github.com/Homebrew/homebrew-science/issues/640), so here I am.
>>> 
>>> I also tried setting R_INSTALL_TAR to the system tar or to a
>>> homebrew-installed gnutar.  Neither helped.
>>> 
>>> Any suggestions on how I might proceed?
>> 
>> Hmm, difficult to tell. If push comes to shove, you could try getting more info out of the INSTALL process (inject a debug(tools:::.install_packages), I suppose, but it is a bit beyond me currently). But first, I'd check what Makeconf sets the TAR variable to.
> 
> Thank you for these suggestions.  Makeconf contains this line:
> 
> TAR = /usr/local/bin/gtar
> 
> This is the homebrew-installed gnutar.  However, is the R binary
> (which has properly compiled and is the source of the error in library
> installation) reading Makeconf to determine how to untar the library
> .tgz?
> 

No, it is set in etc/Renviron which is in turn populated via configure by the value you see in Makeconf.

Try setting

TAR=/usr/bin/tar

since system tar normally works. But that may be only the tip of the iceberg, we can't tell what else you installed that breaks otherwise working system. If in doubt, share the list with us so we can try to replicate it.

Cheers,
Simon


> I tried using the debug command you suggested.  I'm not sure if I am
> doing this right (as I am completely new to R, so new I cannot even
> get the install to fully complete!), but here is what I did and what I
> saw:
> 
> $ ../../../bin/R
> 
> R version 3.0.2 (2013-09-25) -- "Frisbee Sailing"
> Copyright (C) 2013 The R Foundation for Statistical Computing
> Platform: x86_64-apple-darwin13.1.0 (64-bit)
> [[...warranty and initial instructions deleted...]]
> 
>> debug(tools:::.install_packages)
>> install.packages("MASS.tgz", repos=NULL)
> 
> Warning in read.dcf(fd <- file.path(pkg, "DESCRIPTION")) :
>  cannot open compressed file
> './Rtmp8WNcfs/R.INSTALLbf2333341aff/MASS/DESCRIPTION', probable reason
> 'No such file or directory'
> Error: error reading file './Rtmp8WNcfs/R.INSTALLbf2333341aff/MASS/DESCRIPTION'
> Warning message:
> In install.packages("MASS.tgz", repos = NULL) :
>  installation of package 'MASS.tgz' had non-zero exit status
> 
> This seems to just be a repeat of the error message provided if I use
> the command-line version "R INSTALL CMD MASS.tgz".  Doesn't it seem
> like something strange is going on with the untar/decompress internals
> here?
> 
> Other ideas as to how I might proceed?
> 
> I hope all is well.
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From brenne at gmail.com  Mon Mar 10 05:53:41 2014
From: brenne at gmail.com (Bryan Renne)
Date: Sun, 9 Mar 2014 21:53:41 -0700
Subject: [R-SIG-Mac] R 3.0.2/3.0.3 source install problems on OS X 10.9.2
In-Reply-To: <832D6119-01CB-44C3-A7E4-5B15FA345A11@r-project.org>
References: <CABaPezgLznNDPaFqRiBtGLwh3T_-Kz0XkPxynXJipKq6B8gXUg@mail.gmail.com>
	<A2559824-7AFD-468B-B916-BF373DD3272A@gmail.com>
	<CABaPezh2NSUTWdk4-B3YnB0iX=WvzBhVvaRXpKioRtZOjBMtGg@mail.gmail.com>
	<832D6119-01CB-44C3-A7E4-5B15FA345A11@r-project.org>
Message-ID: <CABaPezhj=AVmW-Cn9bbOtmO_H4S-iRiWZsfwx1oBKOhRfMUSjw@mail.gmail.com>

Hi Simon.  Thank you for your reply.

On Sun, Mar 9, 2014 at 6:41 PM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
> Bryan,
>
> On Mar 9, 2014, at 3:59 PM, Bryan Renne <brenne at gmail.com> wrote:
>
>> Thank you for your reply, Peter.
>>
>> On Sun, Mar 9, 2014 at 3:31 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>>>
>>> On 09 Mar 2014, at 00:21 , Bryan Renne <brenne at gmail.com> wrote:
>>>
>>>> Hi there.  I am having compilation problems with R 3.0.2 (and R 3.0.3) on
>>>> OS X 10.9.2.
>>>
>>> On homebrew.... (Would have been useful to say up front.)
>>
>> Actually, no.  This is *not* a homebrew specific problem,
>
> It *is* as you even point yourself further down. It doesn't occur on a clean OS X system.

OK, so to rule out any possible homebrew issues, I used the homebrew
uninstall script to delete homebrew and all homebrew-installed stuff
(https://gist.github.com/mxcl/1173223).  This script wipes the system
clean of homebrew.

I then installed gfortran 4.8.2 binaries using the provided pkg file
for OS X Mavericks (http://gcc.gnu.org/wiki/GFortranBinaries#MacOS).

I then downloaded R-3.0.3.tar.gz from the main page
(http://cran.r-project.org/).  I untarred, configured (with options
"--with-aqua --enable-R-framework --with-lapack") and ran make.  I
received the same error as before.  Here is the tail end of the "make"
output:

begin installing recommended package MASS
Warning in read.dcf(fd <- file.path(pkg, "DESCRIPTION")) :
  cannot open compressed file
'./RtmpwOScIp/R.INSTALL588267e46267/MASS/DESCRIPTION', probable reason
'No such file or directory'
Error: error reading file './RtmpwOScIp/R.INSTALL588267e46267/MASS/DESCRIPTION'
make[2]: *** [MASS.ts] Error 1
make[1]: *** [recommended-packages] Error 2
make: *** [stamp-recommended] Error 2

Please see the following gist for full details of the system
configuration and output of "configure" and "make":

https://gist.github.com/bprenne/9459571

In particular, you'll notice in the section for make the error I
quoted above.  Also, at the very bottom of the gist, I have provided
what I think shows that the error is happening with the "R CMD INSTALL
MASS.tgz" step in the installation of recommended packages (somewhere
deep within the Makefile steps).

>>>> [[...snip...]
>>>> I also tried setting R_INSTALL_TAR to the system tar or to a
>>>> homebrew-installed gnutar.  Neither helped.
>>>>
>>>> Any suggestions on how I might proceed?
>>>
>>> Hmm, difficult to tell. If push comes to shove, you could try getting more info out of the INSTALL process (inject a debug(tools:::.install_packages), I suppose, but it is a bit beyond me currently). But first, I'd check what Makeconf sets the TAR variable to.
>>
>> Thank you for these suggestions.  Makeconf contains this line:
>>
>> TAR = /usr/local/bin/gtar
>>
>> This is the homebrew-installed gnutar.  However, is the R binary
>> (which has properly compiled and is the source of the error in library
>> installation) reading Makeconf to determine how to untar the library
>> .tgz?
>>
>
> No, it is set in etc/Renviron which is in turn populated via configure by the value you see in Makeconf.
>
> Try setting
>
> TAR=/usr/bin/tar
>
> since system tar normally works. But that may be only the tip of the iceberg, we can't tell what else you installed that breaks otherwise working system. If in doubt, share the list with us so we can try to replicate it.
>
> Cheers,
> Simon

Thanks for this suggestion with setting the TAR variable.  As you can
see from the gist (https://gist.github.com/bprenne/9459571), this is
now the default value because homebrew has been wiped from the system.
 However, even with this value, the problem still obtains.

I've tried to provide everything I can think will be useful in the gist.

Is there something more I can provide or some way I can get more
fine-grained debugging information to help in diagnosis?

I appreciate your time and any thoughts you might have that you think
would help.


From pdalgd at gmail.com  Mon Mar 10 11:07:34 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Mon, 10 Mar 2014 11:07:34 +0100
Subject: [R-SIG-Mac] R 3.0.2/3.0.3 source install problems on OS X 10.9.2
In-Reply-To: <CABaPezhj=AVmW-Cn9bbOtmO_H4S-iRiWZsfwx1oBKOhRfMUSjw@mail.gmail.com>
References: <CABaPezgLznNDPaFqRiBtGLwh3T_-Kz0XkPxynXJipKq6B8gXUg@mail.gmail.com>
	<A2559824-7AFD-468B-B916-BF373DD3272A@gmail.com>
	<CABaPezh2NSUTWdk4-B3YnB0iX=WvzBhVvaRXpKioRtZOjBMtGg@mail.gmail.com>
	<832D6119-01CB-44C3-A7E4-5B15FA345A11@r-project.org>
	<CABaPezhj=AVmW-Cn9bbOtmO_H4S-iRiWZsfwx1oBKOhRfMUSjw@mail.gmail.com>
Message-ID: <9A73C167-7617-4028-B6DD-DCF05F63E965@gmail.com>

(oops, forgot to cc: R-Sig-Mac...)

On 10 Mar 2014, at 05:53 , Bryan Renne <brenne at gmail.com> wrote:

> Hi Simon.  Thank you for your reply.
> 
> On Sun, Mar 9, 2014 at 6:41 PM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> Bryan,
>> 
>> On Mar 9, 2014, at 3:59 PM, Bryan Renne <brenne at gmail.com> wrote:
>> 
>>> Thank you for your reply, Peter.
>>> 
>>> On Sun, Mar 9, 2014 at 3:31 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>>>> 
>>>> On 09 Mar 2014, at 00:21 , Bryan Renne <brenne at gmail.com> wrote:
>>>> 
>>>>> Hi there.  I am having compilation problems with R 3.0.2 (and R 3.0.3) on
>>>>> OS X 10.9.2.
>>>> 
>>>> On homebrew.... (Would have been useful to say up front.)
>>> 
>>> Actually, no.  This is *not* a homebrew specific problem,
>> 
>> It *is* as you even point yourself further down. It doesn't occur on a clean OS X system.
> 
> OK, so to rule out any possible homebrew issues, I used the homebrew
> uninstall script to delete homebrew and all homebrew-installed stuff
> (https://gist.github.com/mxcl/1173223).  This script wipes the system
> clean of homebrew.
> 
> I then installed gfortran 4.8.2 binaries using the provided pkg file
> for OS X Mavericks (http://gcc.gnu.org/wiki/GFortranBinaries#MacOS).
> 
> I then downloaded R-3.0.3.tar.gz from the main page
> (http://cran.r-project.org/).  I untarred, configured (with options
> "--with-aqua --enable-R-framework --with-lapack") and ran make.  I
> received the same error as before.  Here is the tail end of the "make"
> output:
> 
> begin installing recommended package MASS
> Warning in read.dcf(fd <- file.path(pkg, "DESCRIPTION")) :
> cannot open compressed file
> './RtmpwOScIp/R.INSTALL588267e46267/MASS/DESCRIPTION', probable reason
> 'No such file or directory'
> Error: error reading file './RtmpwOScIp/R.INSTALL588267e46267/MASS/DESCRIPTION'
> make[2]: *** [MASS.ts] Error 1
> make[1]: *** [recommended-packages] Error 2
> make: *** [stamp-recommended] Error 2
> 
> Please see the following gist for full details of the system
> configuration and output of "configure" and "make":
> 
> https://gist.github.com/bprenne/9459571
> 
> In particular, you'll notice in the section for make the error I
> quoted above.  Also, at the very bottom of the gist, I have provided
> what I think shows that the error is happening with the "R CMD INSTALL
> MASS.tgz" step in the installation of recommended packages (somewhere
> deep within the Makefile steps).
> 
>>>>> [[...snip...]
>>>>> I also tried setting R_INSTALL_TAR to the system tar or to a
>>>>> homebrew-installed gnutar.  Neither helped.
>>>>> 
>>>>> Any suggestions on how I might proceed?
>>>> 
>>>> Hmm, difficult to tell. If push comes to shove, you could try getting more info out of the INSTALL process (inject a debug(tools:::.install_packages), I suppose, but it is a bit beyond me currently). But first, I'd check what Makeconf sets the TAR variable to.
>>> 
>>> Thank you for these suggestions.  Makeconf contains this line:
>>> 
>>> TAR = /usr/local/bin/gtar
>>> 
>>> This is the homebrew-installed gnutar.  However, is the R binary
>>> (which has properly compiled and is the source of the error in library
>>> installation) reading Makeconf to determine how to untar the library
>>> .tgz?
>>> 
>> 
>> No, it is set in etc/Renviron which is in turn populated via configure by the value you see in Makeconf.
>> 
>> Try setting
>> 
>> TAR=/usr/bin/tar
>> 
>> since system tar normally works. But that may be only the tip of the iceberg, we can't tell what else you installed that breaks otherwise working system. If in doubt, share the list with us so we can try to replicate it.
>> 
>> Cheers,
>> Simon
> 
> Thanks for this suggestion with setting the TAR variable.  As you can
> see from the gist (https://gist.github.com/bprenne/9459571), this is
> now the default value because homebrew has been wiped from the system.
> However, even with this value, the problem still obtains.
> 
> I've tried to provide everything I can think will be useful in the gist.
> 
> Is there something more I can provide or some way I can get more
> fine-grained debugging information to help in diagnosis?
> 
> I appreciate your time and any thoughts you might have that you think
> would help.

I see you're building in the source directory.

You might try compiling in a separate directory (tar xvfz R-*.tgz; mkdir BUILD; cp config.site BUILD ; cd BUILD; ../R/configure; ...), that's what all the developers do. 

I haven't got the foggiest why compiling in the source dir might step on the recommended packages, but since it is an option that is rarely taken, various anomalies may happen.
(One guess is that ownership or permissions on the source directory don't allow the creation of ./Rtmp*, umask settings are another common culprit).

What's in your config.site, by the way?

-pd

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From franken_beans2000 at yahoo.com  Mon Mar 10 17:43:03 2014
From: franken_beans2000 at yahoo.com (Nick)
Date: Mon, 10 Mar 2014 09:43:03 -0700 (PDT)
Subject: [R-SIG-Mac] Suggested New Mac for Heavy R Use
Message-ID: <1394469783.60107.YahooMailNeo@web162506.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140310/20830fd7/attachment.pl>

From Rainer at krugs.de  Mon Mar 10 18:09:18 2014
From: Rainer at krugs.de (Rainer M Krug)
Date: Mon, 10 Mar 2014 18:09:18 +0100
Subject: [R-SIG-Mac] Suggested New Mac for Heavy R Use
References: <1394469783.60107.YahooMailNeo@web162506.mail.bf1.yahoo.com>
Message-ID: <m2bnxej801.fsf@krugs.de>

Nick <franken_beans2000 at yahoo.com> writes:

> Good afternoon, I am looking at buying my first Mac and thought i'd
> ask for advice for what I should get. I have it down to the two models
> below (but am open to realistic suggestions).
>
> I will primarily be using R for machine learning packages, and the
> data sets are very large. If any other specs are needed let me know.
>
> Thanks in advance. 

- 13 inch is quite small - I would go for the 15-inch

- 128GB SSD is to small - at least in my experience. I have 256 GB and
this works, but only 35 GB free - so I have a second USB3 HDD for
additional data

- 8GB RAM is fine

I have the MacBookPro 10,1 Retina, 8GB memory and the 256 GB SSD drive -
with Intel Core i7

I really like this machine

The cores do make a difference.

Cheers,

Rainer

>
> 13-inch MacBook Air ($1,349)
> 1.7GHz Dual-Core Intel Core i7, Turbo Boost up to 3.3GHz
> 8GB 1600MHz LPDDR3 SDRAM
> 128GB Flash Storage
>
> 13-inch MacBook Pro with Retina ($1,399.00)
> 2.4GHz Dual-core Intel Core i5, Turbo Boost up to 2.9GHz
> 8GB 1600MHz DDR3L SDRAM
> 128GB PCIe-based Flash Storage
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Rainer M. Krug

email: RMKrug<at>gmail<dot>com
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 494 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140310/286fa3c1/attachment.bin>

From simon.urbanek at r-project.org  Mon Mar 10 19:05:08 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 10 Mar 2014 14:05:08 -0400
Subject: [R-SIG-Mac] Suggested New Mac for Heavy R Use
In-Reply-To: <1394469783.60107.YahooMailNeo@web162506.mail.bf1.yahoo.com>
References: <1394469783.60107.YahooMailNeo@web162506.mail.bf1.yahoo.com>
Message-ID: <63855D00-4C5F-42C6-84A6-BAA8049B66C1@r-project.org>


On Mar 10, 2014, at 12:43 PM, Nick <franken_beans2000 at yahoo.com> wrote:

> Good afternoon, I am looking at buying my first Mac and thought i'd ask for advice for what I should get. I have it down to the two models below (but am open to realistic suggestions).
> 
> I will primarily be using R for machine learning packages, and the data sets are very large. If any other specs are needed let me know. 
> 

"data sets are very large? - well, the machines listed below are certainly not suitable to run anything on large data ;) so you may want to quantify what you mean here. You want as much RAM as possible for large data since that is the single item that will cause huge drop-off in performance when exhausted and R certainly can take quite a bit of memory if this is really your only machine to run computing on. Note that in modern Apple laptops you cannot add more memory later, so this is rather important factor.

Given a choice of the two MacBook Air is not a computing machine - it?s optimized for power consumption, not speed, so the only reason to go for it is if you?re looking for a light notebook and don?t care about the computing speed as much.

Cheers,
Simon



> Thanks in advance.  
> 
> 13-inch MacBook Air ($1,349)
> 1.7GHz Dual-Core Intel Core i7, Turbo Boost up to 3.3GHz
> 8GB 1600MHz LPDDR3 SDRAM
> 128GB Flash Storage
> 
> 13-inch MacBook Pro with Retina ($1,399.00)
> 2.4GHz Dual-core Intel Core i5, Turbo Boost up to 2.9GHz
> 8GB 1600MHz DDR3L SDRAM
> 128GB PCIe-based Flash Storage
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Mon Mar 10 19:23:13 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 10 Mar 2014 14:23:13 -0400
Subject: [R-SIG-Mac] R 3.0.2/3.0.3 source install problems on OS X 10.9.2
In-Reply-To: <CABaPezhj=AVmW-Cn9bbOtmO_H4S-iRiWZsfwx1oBKOhRfMUSjw@mail.gmail.com>
References: <CABaPezgLznNDPaFqRiBtGLwh3T_-Kz0XkPxynXJipKq6B8gXUg@mail.gmail.com>
	<A2559824-7AFD-468B-B916-BF373DD3272A@gmail.com>
	<CABaPezh2NSUTWdk4-B3YnB0iX=WvzBhVvaRXpKioRtZOjBMtGg@mail.gmail.com>
	<832D6119-01CB-44C3-A7E4-5B15FA345A11@r-project.org>
	<CABaPezhj=AVmW-Cn9bbOtmO_H4S-iRiWZsfwx1oBKOhRfMUSjw@mail.gmail.com>
Message-ID: <A6C77EEF-9851-4FFE-AF78-D69D1372A861@r-project.org>

Bryan,

based on the gist output I think I have a candidate - please check that you?re not re-defining TMP or TMPDIR to a relative path - that would break pretty much anything. Check with

set | grep 'T*MP?

This must be either undefined or the paths *must* be absolute, i.e. start with a slash / 

Other replies below, but I think the above may be the main issue.


On Mar 10, 2014, at 12:53 AM, Bryan Renne <brenne at gmail.com> wrote:

> Hi Simon.  Thank you for your reply.
> 
> On Sun, Mar 9, 2014 at 6:41 PM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> Bryan,
>> 
>> On Mar 9, 2014, at 3:59 PM, Bryan Renne <brenne at gmail.com> wrote:
>> 
>>> Thank you for your reply, Peter.
>>> 
>>> On Sun, Mar 9, 2014 at 3:31 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>>>> 
>>>> On 09 Mar 2014, at 00:21 , Bryan Renne <brenne at gmail.com> wrote:
>>>> 
>>>>> Hi there.  I am having compilation problems with R 3.0.2 (and R 3.0.3) on
>>>>> OS X 10.9.2.
>>>> 
>>>> On homebrew.... (Would have been useful to say up front.)
>>> 
>>> Actually, no.  This is *not* a homebrew specific problem,
>> 
>> It *is* as you even point yourself further down. It doesn't occur on a clean OS X system.
> 
> OK, so to rule out any possible homebrew issues, I used the homebrew
> uninstall script to delete homebrew and all homebrew-installed stuff
> (https://gist.github.com/mxcl/1173223).  This script wipes the system
> clean of homebrew.
> 

Thanks, it would be sufficient to just rename /usr/local and re-install the gfortran from CRAN.

I cannot reproduce the issue with exactly your settings on a clean machine, so it must be some custom configuration of yours. I suspect you may have set TMP/TMPDIR to . which is invalid - please check.

Thanks,
Simon




> I then installed gfortran 4.8.2 binaries using the provided pkg file
> for OS X Mavericks (http://gcc.gnu.org/wiki/GFortranBinaries#MacOS).
> 
> I then downloaded R-3.0.3.tar.gz from the main page
> (http://cran.r-project.org/).  I untarred, configured (with options
> "--with-aqua --enable-R-framework --with-lapack") and ran make.  I
> received the same error as before.  Here is the tail end of the "make"
> output:
> 
> begin installing recommended package MASS
> Warning in read.dcf(fd <- file.path(pkg, "DESCRIPTION")) :
>  cannot open compressed file
> './RtmpwOScIp/R.INSTALL588267e46267/MASS/DESCRIPTION', probable reason
> 'No such file or directory'
> Error: error reading file './RtmpwOScIp/R.INSTALL588267e46267/MASS/DESCRIPTION'
> make[2]: *** [MASS.ts] Error 1
> make[1]: *** [recommended-packages] Error 2
> make: *** [stamp-recommended] Error 2
> 
> Please see the following gist for full details of the system
> configuration and output of "configure" and "make":
> 
> https://gist.github.com/bprenne/9459571
> 
> In particular, you'll notice in the section for make the error I
> quoted above.  Also, at the very bottom of the gist, I have provided
> what I think shows that the error is happening with the "R CMD INSTALL
> MASS.tgz" step in the installation of recommended packages (somewhere
> deep within the Makefile steps).
> 
>>>>> [[...snip...]
>>>>> I also tried setting R_INSTALL_TAR to the system tar or to a
>>>>> homebrew-installed gnutar.  Neither helped.
>>>>> 
>>>>> Any suggestions on how I might proceed?
>>>> 
>>>> Hmm, difficult to tell. If push comes to shove, you could try getting more info out of the INSTALL process (inject a debug(tools:::.install_packages), I suppose, but it is a bit beyond me currently). But first, I'd check what Makeconf sets the TAR variable to.
>>> 
>>> Thank you for these suggestions.  Makeconf contains this line:
>>> 
>>> TAR = /usr/local/bin/gtar
>>> 
>>> This is the homebrew-installed gnutar.  However, is the R binary
>>> (which has properly compiled and is the source of the error in library
>>> installation) reading Makeconf to determine how to untar the library
>>> .tgz?
>>> 
>> 
>> No, it is set in etc/Renviron which is in turn populated via configure by the value you see in Makeconf.
>> 
>> Try setting
>> 
>> TAR=/usr/bin/tar
>> 
>> since system tar normally works. But that may be only the tip of the iceberg, we can't tell what else you installed that breaks otherwise working system. If in doubt, share the list with us so we can try to replicate it.
>> 
>> Cheers,
>> Simon
> 
> Thanks for this suggestion with setting the TAR variable.  As you can
> see from the gist (https://gist.github.com/bprenne/9459571), this is
> now the default value because homebrew has been wiped from the system.
> However, even with this value, the problem still obtains.
> 
> I've tried to provide everything I can think will be useful in the gist.
> 
> Is there something more I can provide or some way I can get more
> fine-grained debugging information to help in diagnosis?
> 
> I appreciate your time and any thoughts you might have that you think
> would help.
> 


From brenne at gmail.com  Tue Mar 11 05:32:05 2014
From: brenne at gmail.com (Bryan Renne)
Date: Mon, 10 Mar 2014 21:32:05 -0700
Subject: [R-SIG-Mac] R 3.0.2/3.0.3 source install problems on OS X 10.9.2
In-Reply-To: <A6C77EEF-9851-4FFE-AF78-D69D1372A861@r-project.org>
References: <CABaPezgLznNDPaFqRiBtGLwh3T_-Kz0XkPxynXJipKq6B8gXUg@mail.gmail.com>
	<A2559824-7AFD-468B-B916-BF373DD3272A@gmail.com>
	<CABaPezh2NSUTWdk4-B3YnB0iX=WvzBhVvaRXpKioRtZOjBMtGg@mail.gmail.com>
	<832D6119-01CB-44C3-A7E4-5B15FA345A11@r-project.org>
	<CABaPezhj=AVmW-Cn9bbOtmO_H4S-iRiWZsfwx1oBKOhRfMUSjw@mail.gmail.com>
	<A6C77EEF-9851-4FFE-AF78-D69D1372A861@r-project.org>
Message-ID: <CABaPezhqjZg60oRTCm-S605ow5djmyMTV_RJsnprNraA4mtn2g@mail.gmail.com>

Dear Simon:

On Mon, Mar 10, 2014 at 11:23 AM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
> Bryan,
>
> based on the gist output I think I have a candidate - please check that you're not re-defining TMP or TMPDIR to a relative path - that would break pretty much anything. Check with
>
> set | grep 'T*MP'
>
> This must be either undefined or the paths *must* be absolute, i.e. start with a slash /
>
> Other replies below, but I think the above may be the main issue.

That's it!  I can't believe you noticed that.  Thank you so much for your help.

I had executed "export TEMPDIR=." for some other program (I think
latex2html?) that requires some non-null setting and, after clearing
this setting so that TEMPDIR is unset, the installation of recommended
packages completed and the make script finished without errors.  Looks
like an absolute path should be used as you suggest.

Problem solved.  Thank you so much for your help with this.

>
> On Mar 10, 2014, at 12:53 AM, Bryan Renne <brenne at gmail.com> wrote:
>
>> Hi Simon.  Thank you for your reply.
>>
>> On Sun, Mar 9, 2014 at 6:41 PM, Simon Urbanek
>> <simon.urbanek at r-project.org> wrote:
>>> Bryan,
>>>
>>> On Mar 9, 2014, at 3:59 PM, Bryan Renne <brenne at gmail.com> wrote:
>>>
>>>> Thank you for your reply, Peter.
>>>>
>>>> On Sun, Mar 9, 2014 at 3:31 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>>>>>
>>>>> On 09 Mar 2014, at 00:21 , Bryan Renne <brenne at gmail.com> wrote:
>>>>>
>>>>>> Hi there.  I am having compilation problems with R 3.0.2 (and R 3.0.3) on
>>>>>> OS X 10.9.2.
>>>>>
>>>>> On homebrew.... (Would have been useful to say up front.)
>>>>
>>>> Actually, no.  This is *not* a homebrew specific problem,
>>>
>>> It *is* as you even point yourself further down. It doesn't occur on a clean OS X system.
>>
>> OK, so to rule out any possible homebrew issues, I used the homebrew
>> uninstall script to delete homebrew and all homebrew-installed stuff
>> (https://gist.github.com/mxcl/1173223).  This script wipes the system
>> clean of homebrew.
>>
>
> Thanks, it would be sufficient to just rename /usr/local and re-install the gfortran from CRAN.
>
> I cannot reproduce the issue with exactly your settings on a clean machine, so it must be some custom configuration of yours. I suspect you may have set TMP/TMPDIR to . which is invalid - please check.
>
> Thanks,
> Simon

Acknowledged.  Will take the point about /usr/local under advisement
going forward.

Thank you again for your time.

>
>> I then installed gfortran 4.8.2 binaries using the provided pkg file
>> for OS X Mavericks (http://gcc.gnu.org/wiki/GFortranBinaries#MacOS).
>>
>> I then downloaded R-3.0.3.tar.gz from the main page
>> (http://cran.r-project.org/).  I untarred, configured (with options
>> "--with-aqua --enable-R-framework --with-lapack") and ran make.  I
>> received the same error as before.  Here is the tail end of the "make"
>> output:
>>
>> begin installing recommended package MASS
>> Warning in read.dcf(fd <- file.path(pkg, "DESCRIPTION")) :
>>  cannot open compressed file
>> './RtmpwOScIp/R.INSTALL588267e46267/MASS/DESCRIPTION', probable reason
>> 'No such file or directory'
>> Error: error reading file './RtmpwOScIp/R.INSTALL588267e46267/MASS/DESCRIPTION'
>> make[2]: *** [MASS.ts] Error 1
>> make[1]: *** [recommended-packages] Error 2
>> make: *** [stamp-recommended] Error 2
>>
>> Please see the following gist for full details of the system
>> configuration and output of "configure" and "make":
>>
>> https://gist.github.com/bprenne/9459571
>>
>> In particular, you'll notice in the section for make the error I
>> quoted above.  Also, at the very bottom of the gist, I have provided
>> what I think shows that the error is happening with the "R CMD INSTALL
>> MASS.tgz" step in the installation of recommended packages (somewhere
>> deep within the Makefile steps).
>>
>>>>>> [[...snip...]
>>>>>> I also tried setting R_INSTALL_TAR to the system tar or to a
>>>>>> homebrew-installed gnutar.  Neither helped.
>>>>>>
>>>>>> Any suggestions on how I might proceed?
>>>>>
>>>>> Hmm, difficult to tell. If push comes to shove, you could try getting more info out of the INSTALL process (inject a debug(tools:::.install_packages), I suppose, but it is a bit beyond me currently). But first, I'd check what Makeconf sets the TAR variable to.
>>>>
>>>> Thank you for these suggestions.  Makeconf contains this line:
>>>>
>>>> TAR = /usr/local/bin/gtar
>>>>
>>>> This is the homebrew-installed gnutar.  However, is the R binary
>>>> (which has properly compiled and is the source of the error in library
>>>> installation) reading Makeconf to determine how to untar the library
>>>> .tgz?
>>>>
>>>
>>> No, it is set in etc/Renviron which is in turn populated via configure by the value you see in Makeconf.
>>>
>>> Try setting
>>>
>>> TAR=/usr/bin/tar
>>>
>>> since system tar normally works. But that may be only the tip of the iceberg, we can't tell what else you installed that breaks otherwise working system. If in doubt, share the list with us so we can try to replicate it.
>>>
>>> Cheers,
>>> Simon
>>
>> Thanks for this suggestion with setting the TAR variable.  As you can
>> see from the gist (https://gist.github.com/bprenne/9459571), this is
>> now the default value because homebrew has been wiped from the system.
>> However, even with this value, the problem still obtains.
>>
>> I've tried to provide everything I can think will be useful in the gist.
>>
>> Is there something more I can provide or some way I can get more
>> fine-grained debugging information to help in diagnosis?
>>
>> I appreciate your time and any thoughts you might have that you think
>> would help.
>>
>


From brenne at gmail.com  Tue Mar 11 05:35:12 2014
From: brenne at gmail.com (Bryan Renne)
Date: Mon, 10 Mar 2014 21:35:12 -0700
Subject: [R-SIG-Mac] R 3.0.2/3.0.3 source install problems on OS X 10.9.2
In-Reply-To: <9A73C167-7617-4028-B6DD-DCF05F63E965@gmail.com>
References: <CABaPezgLznNDPaFqRiBtGLwh3T_-Kz0XkPxynXJipKq6B8gXUg@mail.gmail.com>
	<A2559824-7AFD-468B-B916-BF373DD3272A@gmail.com>
	<CABaPezh2NSUTWdk4-B3YnB0iX=WvzBhVvaRXpKioRtZOjBMtGg@mail.gmail.com>
	<832D6119-01CB-44C3-A7E4-5B15FA345A11@r-project.org>
	<CABaPezhj=AVmW-Cn9bbOtmO_H4S-iRiWZsfwx1oBKOhRfMUSjw@mail.gmail.com>
	<9A73C167-7617-4028-B6DD-DCF05F63E965@gmail.com>
Message-ID: <CABaPezjKmwCFWr-5xyC40SEXibTMuPC126FwnhXydQZ2+7QPHw@mail.gmail.com>

Dear Peter:

On Mon, Mar 10, 2014 at 3:07 AM, peter dalgaard <pdalgd at gmail.com> wrote:
> (oops, forgot to cc: R-Sig-Mac...)
>
> On 10 Mar 2014, at 05:53 , Bryan Renne <brenne at gmail.com> wrote:
>
>> Hi Simon.  Thank you for your reply.
>>
>> On Sun, Mar 9, 2014 at 6:41 PM, Simon Urbanek
>> <simon.urbanek at r-project.org> wrote:
>>> Bryan,
>>>
>>> On Mar 9, 2014, at 3:59 PM, Bryan Renne <brenne at gmail.com> wrote:
>>>
>>>> Thank you for your reply, Peter.
>>>>
>>>> On Sun, Mar 9, 2014 at 3:31 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>>>>>
>>>>> On 09 Mar 2014, at 00:21 , Bryan Renne <brenne at gmail.com> wrote:
>>>>>
>>>>>> Hi there.  I am having compilation problems with R 3.0.2 (and R 3.0.3) on
>>>>>> OS X 10.9.2.
>>>>>
>>>>> On homebrew.... (Would have been useful to say up front.)
>>>>
>>>> Actually, no.  This is *not* a homebrew specific problem,
>>>
>>> It *is* as you even point yourself further down. It doesn't occur on a clean OS X system.
>>
>> OK, so to rule out any possible homebrew issues, I used the homebrew
>> uninstall script to delete homebrew and all homebrew-installed stuff
>> (https://gist.github.com/mxcl/1173223).  This script wipes the system
>> clean of homebrew.
>>
>> I then installed gfortran 4.8.2 binaries using the provided pkg file
>> for OS X Mavericks (http://gcc.gnu.org/wiki/GFortranBinaries#MacOS).
>>
>> I then downloaded R-3.0.3.tar.gz from the main page
>> (http://cran.r-project.org/).  I untarred, configured (with options
>> "--with-aqua --enable-R-framework --with-lapack") and ran make.  I
>> received the same error as before.  Here is the tail end of the "make"
>> output:
>>
>> begin installing recommended package MASS
>> Warning in read.dcf(fd <- file.path(pkg, "DESCRIPTION")) :
>> cannot open compressed file
>> './RtmpwOScIp/R.INSTALL588267e46267/MASS/DESCRIPTION', probable reason
>> 'No such file or directory'
>> Error: error reading file './RtmpwOScIp/R.INSTALL588267e46267/MASS/DESCRIPTION'
>> make[2]: *** [MASS.ts] Error 1
>> make[1]: *** [recommended-packages] Error 2
>> make: *** [stamp-recommended] Error 2
>>
>> Please see the following gist for full details of the system
>> configuration and output of "configure" and "make":
>>
>> https://gist.github.com/bprenne/9459571
>>
>> In particular, you'll notice in the section for make the error I
>> quoted above.  Also, at the very bottom of the gist, I have provided
>> what I think shows that the error is happening with the "R CMD INSTALL
>> MASS.tgz" step in the installation of recommended packages (somewhere
>> deep within the Makefile steps).
>>
>>>>>> [[...snip...]
>>>>>> I also tried setting R_INSTALL_TAR to the system tar or to a
>>>>>> homebrew-installed gnutar.  Neither helped.
>>>>>>
>>>>>> Any suggestions on how I might proceed?
>>>>>
>>>>> Hmm, difficult to tell. If push comes to shove, you could try getting more info out of the INSTALL process (inject a debug(tools:::.install_packages), I suppose, but it is a bit beyond me currently). But first, I'd check what Makeconf sets the TAR variable to.
>>>>
>>>> Thank you for these suggestions.  Makeconf contains this line:
>>>>
>>>> TAR = /usr/local/bin/gtar
>>>>
>>>> This is the homebrew-installed gnutar.  However, is the R binary
>>>> (which has properly compiled and is the source of the error in library
>>>> installation) reading Makeconf to determine how to untar the library
>>>> .tgz?
>>>>
>>>
>>> No, it is set in etc/Renviron which is in turn populated via configure by the value you see in Makeconf.
>>>
>>> Try setting
>>>
>>> TAR=/usr/bin/tar
>>>
>>> since system tar normally works. But that may be only the tip of the iceberg, we can't tell what else you installed that breaks otherwise working system. If in doubt, share the list with us so we can try to replicate it.
>>>
>>> Cheers,
>>> Simon
>>
>> Thanks for this suggestion with setting the TAR variable.  As you can
>> see from the gist (https://gist.github.com/bprenne/9459571), this is
>> now the default value because homebrew has been wiped from the system.
>> However, even with this value, the problem still obtains.
>>
>> I've tried to provide everything I can think will be useful in the gist.
>>
>> Is there something more I can provide or some way I can get more
>> fine-grained debugging information to help in diagnosis?
>>
>> I appreciate your time and any thoughts you might have that you think
>> would help.
>
> I see you're building in the source directory.
>
> You might try compiling in a separate directory (tar xvfz R-*.tgz; mkdir BUILD; cp config.site BUILD ; cd BUILD; ../R/configure; ...), that's what all the developers do.
>
> I haven't got the foggiest why compiling in the source dir might step on the recommended packages, but since it is an option that is rarely taken, various anomalies may happen.
> (One guess is that ownership or permissions on the source directory don't allow the creation of ./Rtmp*, umask settings are another common culprit).
>
> What's in your config.site, by the way?
>
> -pd
>
> --
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com

Thanks so much for your time.  As you saw from the message I just
sent, the problem was with the setting of the TEMPDIR environment
variable to ".".  According to Simon, this needs to have an absolute
path.  To get things working, I simply unset the variable and then the
make finished without error.  If I need the value set in the future (I
think for latex2html, but I cannot remember now), then I'll try with
an absolute path.

I'll take your suggestion on separate build directory under advisement
going forward.  I appreciate this tidbit.

Also, I assume your question re config.site is moot, but I'm happy to
send it if you are still interested for some reason.  ;)

Thank you again for your time.  Take care.


From bhh at xs4all.nl  Tue Mar 11 08:40:12 2014
From: bhh at xs4all.nl (Berend Hasselman)
Date: Tue, 11 Mar 2014 08:40:12 +0100
Subject: [R-SIG-Mac] R 3.0.2/3.0.3 source install problems on OS X 10.9.2
In-Reply-To: <CABaPezhqjZg60oRTCm-S605ow5djmyMTV_RJsnprNraA4mtn2g@mail.gmail.com>
References: <CABaPezgLznNDPaFqRiBtGLwh3T_-Kz0XkPxynXJipKq6B8gXUg@mail.gmail.com>
	<A2559824-7AFD-468B-B916-BF373DD3272A@gmail.com>
	<CABaPezh2NSUTWdk4-B3YnB0iX=WvzBhVvaRXpKioRtZOjBMtGg@mail.gmail.com>
	<832D6119-01CB-44C3-A7E4-5B15FA345A11@r-project.org>
	<CABaPezhj=AVmW-Cn9bbOtmO_H4S-iRiWZsfwx1oBKOhRfMUSjw@mail.gmail.com>
	<A6C77EEF-9851-4FFE-AF78-D69D1372A861@r-project.org>
	<CABaPezhqjZg60oRTCm-S605ow5djmyMTV_RJsnprNraA4mtn2g@mail.gmail.com>
Message-ID: <B77A34FD-D47D-4C94-800D-DFC86CB86702@xs4all.nl>


On 11-03-2014, at 05:32, Bryan Renne <brenne at gmail.com> wrote:

> Dear Simon:
> 
> On Mon, Mar 10, 2014 at 11:23 AM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> Bryan,
>> 
>> based on the gist output I think I have a candidate - please check that you're not re-defining TMP or TMPDIR to a relative path - that would break pretty much anything. Check with
>> 
>> set | grep 'T*MP'
>> 
>> This must be either undefined or the paths *must* be absolute, i.e. start with a slash /
>> 
>> Other replies below, but I think the above may be the main issue.
> 
> That's it!  I can't believe you noticed that.  Thank you so much for your help.
> 
> I had executed "export TEMPDIR=." for some other program (I think
> latex2html?) that requires some non-null setting and, after clearing
> this setting so that TEMPDIR is unset, the installation of recommended
> packages completed and the make script finished without errors.  Looks
> like an absolute path should be used as you suggest.
> 

Isn?t TMPDIR set automatically by OS X?
I?ve never seen it to be null on my machines.

Berend

> Problem solved.  Thank you so much for your help with this.
> 
>> 
>> On Mar 10, 2014, at 12:53 AM, Bryan Renne <brenne at gmail.com> wrote:
>> 
>>> Hi Simon.  Thank you for your reply.
>>> 
>>> On Sun, Mar 9, 2014 at 6:41 PM, Simon Urbanek
>>> <simon.urbanek at r-project.org> wrote:
>>>> Bryan,
>>>> 
>>>> On Mar 9, 2014, at 3:59 PM, Bryan Renne <brenne at gmail.com> wrote:
>>>> 
>>>>> Thank you for your reply, Peter.
>>>>> 
>>>>> On Sun, Mar 9, 2014 at 3:31 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>>>>>> 
>>>>>> On 09 Mar 2014, at 00:21 , Bryan Renne <brenne at gmail.com> wrote:
>>>>>> 
>>>>>>> Hi there.  I am having compilation problems with R 3.0.2 (and R 3.0.3) on
>>>>>>> OS X 10.9.2.
>>>>>> 
>>>>>> On homebrew.... (Would have been useful to say up front.)
>>>>> 
>>>>> Actually, no.  This is *not* a homebrew specific problem,
>>>> 
>>>> It *is* as you even point yourself further down. It doesn't occur on a clean OS X system.
>>> 
>>> OK, so to rule out any possible homebrew issues, I used the homebrew
>>> uninstall script to delete homebrew and all homebrew-installed stuff
>>> (https://gist.github.com/mxcl/1173223).  This script wipes the system
>>> clean of homebrew.
>>> 
>> 
>> Thanks, it would be sufficient to just rename /usr/local and re-install the gfortran from CRAN.
>> 
>> I cannot reproduce the issue with exactly your settings on a clean machine, so it must be some custom configuration of yours. I suspect you may have set TMP/TMPDIR to . which is invalid - please check.
>> 
>> Thanks,
>> Simon
> 
> Acknowledged.  Will take the point about /usr/local under advisement
> going forward.
> 
> Thank you again for your time.
> 
>> 
>>> I then installed gfortran 4.8.2 binaries using the provided pkg file
>>> for OS X Mavericks (http://gcc.gnu.org/wiki/GFortranBinaries#MacOS).
>>> 
>>> I then downloaded R-3.0.3.tar.gz from the main page
>>> (http://cran.r-project.org/).  I untarred, configured (with options
>>> "--with-aqua --enable-R-framework --with-lapack") and ran make.  I
>>> received the same error as before.  Here is the tail end of the "make"
>>> output:
>>> 
>>> begin installing recommended package MASS
>>> Warning in read.dcf(fd <- file.path(pkg, "DESCRIPTION")) :
>>> cannot open compressed file
>>> './RtmpwOScIp/R.INSTALL588267e46267/MASS/DESCRIPTION', probable reason
>>> 'No such file or directory'
>>> Error: error reading file './RtmpwOScIp/R.INSTALL588267e46267/MASS/DESCRIPTION'
>>> make[2]: *** [MASS.ts] Error 1
>>> make[1]: *** [recommended-packages] Error 2
>>> make: *** [stamp-recommended] Error 2
>>> 
>>> Please see the following gist for full details of the system
>>> configuration and output of "configure" and "make":
>>> 
>>> https://gist.github.com/bprenne/9459571
>>> 
>>> In particular, you'll notice in the section for make the error I
>>> quoted above.  Also, at the very bottom of the gist, I have provided
>>> what I think shows that the error is happening with the "R CMD INSTALL
>>> MASS.tgz" step in the installation of recommended packages (somewhere
>>> deep within the Makefile steps).
>>> 
>>>>>>> [[...snip...]
>>>>>>> I also tried setting R_INSTALL_TAR to the system tar or to a
>>>>>>> homebrew-installed gnutar.  Neither helped.
>>>>>>> 
>>>>>>> Any suggestions on how I might proceed?
>>>>>> 
>>>>>> Hmm, difficult to tell. If push comes to shove, you could try getting more info out of the INSTALL process (inject a debug(tools:::.install_packages), I suppose, but it is a bit beyond me currently). But first, I'd check what Makeconf sets the TAR variable to.
>>>>> 
>>>>> Thank you for these suggestions.  Makeconf contains this line:
>>>>> 
>>>>> TAR = /usr/local/bin/gtar
>>>>> 
>>>>> This is the homebrew-installed gnutar.  However, is the R binary
>>>>> (which has properly compiled and is the source of the error in library
>>>>> installation) reading Makeconf to determine how to untar the library
>>>>> .tgz?
>>>>> 
>>>> 
>>>> No, it is set in etc/Renviron which is in turn populated via configure by the value you see in Makeconf.
>>>> 
>>>> Try setting
>>>> 
>>>> TAR=/usr/bin/tar
>>>> 
>>>> since system tar normally works. But that may be only the tip of the iceberg, we can't tell what else you installed that breaks otherwise working system. If in doubt, share the list with us so we can try to replicate it.
>>>> 
>>>> Cheers,
>>>> Simon
>>> 
>>> Thanks for this suggestion with setting the TAR variable.  As you can
>>> see from the gist (https://gist.github.com/bprenne/9459571), this is
>>> now the default value because homebrew has been wiped from the system.
>>> However, even with this value, the problem still obtains.
>>> 
>>> I've tried to provide everything I can think will be useful in the gist.
>>> 
>>> Is there something more I can provide or some way I can get more
>>> fine-grained debugging information to help in diagnosis?
>>> 
>>> I appreciate your time and any thoughts you might have that you think
>>> would help.
>>> 
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ripley at stats.ox.ac.uk  Tue Mar 11 09:51:43 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 11 Mar 2014 08:51:43 +0000
Subject: [R-SIG-Mac] R 3.0.2/3.0.3 source install problems on OS X 10.9.2
In-Reply-To: <B77A34FD-D47D-4C94-800D-DFC86CB86702@xs4all.nl>
References: <CABaPezgLznNDPaFqRiBtGLwh3T_-Kz0XkPxynXJipKq6B8gXUg@mail.gmail.com>	<A2559824-7AFD-468B-B916-BF373DD3272A@gmail.com>	<CABaPezh2NSUTWdk4-B3YnB0iX=WvzBhVvaRXpKioRtZOjBMtGg@mail.gmail.com>	<832D6119-01CB-44C3-A7E4-5B15FA345A11@r-project.org>	<CABaPezhj=AVmW-Cn9bbOtmO_H4S-iRiWZsfwx1oBKOhRfMUSjw@mail.gmail.com>	<A6C77EEF-9851-4FFE-AF78-D69D1372A861@r-project.org>	<CABaPezhqjZg60oRTCm-S605ow5djmyMTV_RJsnprNraA4mtn2g@mail.gmail.com>
	<B77A34FD-D47D-4C94-800D-DFC86CB86702@xs4all.nl>
Message-ID: <531ECE9F.20602@stats.ox.ac.uk>

On 11/03/2014 07:40, Berend Hasselman wrote:
>
> On 11-03-2014, at 05:32, Bryan Renne <brenne at gmail.com> wrote:
>
>> Dear Simon:
>>
>> On Mon, Mar 10, 2014 at 11:23 AM, Simon Urbanek
>> <simon.urbanek at r-project.org> wrote:
>>> Bryan,
>>>
>>> based on the gist output I think I have a candidate - please check that you're not re-defining TMP or TMPDIR to a relative path - that would break pretty much anything. Check with
>>>
>>> set | grep 'T*MP'
>>>
>>> This must be either undefined or the paths *must* be absolute, i.e. start with a slash /
>>>
>>> Other replies below, but I think the above may be the main issue.
>>
>> That's it!  I can't believe you noticed that.  Thank you so much for your help.
>>
>> I had executed "export TEMPDIR=." for some other program (I think
>> latex2html?) that requires some non-null setting and, after clearing
>> this setting so that TEMPDIR is unset, the installation of recommended
>> packages completed and the make script finished without errors.  Looks
>> like an absolute path should be used as you suggest.
>>
>
> Isn?t TMPDIR set automatically by OS X?
> I?ve never seen it to be null on my machines.

Yes, but you can reset it (and sometimes it is necessary because of its 
length or the non-alphanumeric characters Apple used to put in it).

What puzzles me is that TEMPDIR (with an E) is ever used: it is not used 
by R.

>
> Berend
>
>> Problem solved.  Thank you so much for your help with this.
>>
>>>
>>> On Mar 10, 2014, at 12:53 AM, Bryan Renne <brenne at gmail.com> wrote:
>>>
>>>> Hi Simon.  Thank you for your reply.
>>>>
>>>> On Sun, Mar 9, 2014 at 6:41 PM, Simon Urbanek
>>>> <simon.urbanek at r-project.org> wrote:
>>>>> Bryan,
>>>>>
>>>>> On Mar 9, 2014, at 3:59 PM, Bryan Renne <brenne at gmail.com> wrote:
>>>>>
>>>>>> Thank you for your reply, Peter.
>>>>>>
>>>>>> On Sun, Mar 9, 2014 at 3:31 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>>>>>>>
>>>>>>> On 09 Mar 2014, at 00:21 , Bryan Renne <brenne at gmail.com> wrote:
>>>>>>>
>>>>>>>> Hi there.  I am having compilation problems with R 3.0.2 (and R 3.0.3) on
>>>>>>>> OS X 10.9.2.
>>>>>>>
>>>>>>> On homebrew.... (Would have been useful to say up front.)
>>>>>>
>>>>>> Actually, no.  This is *not* a homebrew specific problem,
>>>>>
>>>>> It *is* as you even point yourself further down. It doesn't occur on a clean OS X system.
>>>>
>>>> OK, so to rule out any possible homebrew issues, I used the homebrew
>>>> uninstall script to delete homebrew and all homebrew-installed stuff
>>>> (https://gist.github.com/mxcl/1173223).  This script wipes the system
>>>> clean of homebrew.
>>>>
>>>
>>> Thanks, it would be sufficient to just rename /usr/local and re-install the gfortran from CRAN.
>>>
>>> I cannot reproduce the issue with exactly your settings on a clean machine, so it must be some custom configuration of yours. I suspect you may have set TMP/TMPDIR to . which is invalid - please check.
>>>
>>> Thanks,
>>> Simon
>>
>> Acknowledged.  Will take the point about /usr/local under advisement
>> going forward.
>>
>> Thank you again for your time.
>>
>>>
>>>> I then installed gfortran 4.8.2 binaries using the provided pkg file
>>>> for OS X Mavericks (http://gcc.gnu.org/wiki/GFortranBinaries#MacOS).
>>>>
>>>> I then downloaded R-3.0.3.tar.gz from the main page
>>>> (http://cran.r-project.org/).  I untarred, configured (with options
>>>> "--with-aqua --enable-R-framework --with-lapack") and ran make.  I
>>>> received the same error as before.  Here is the tail end of the "make"
>>>> output:
>>>>
>>>> begin installing recommended package MASS
>>>> Warning in read.dcf(fd <- file.path(pkg, "DESCRIPTION")) :
>>>> cannot open compressed file
>>>> './RtmpwOScIp/R.INSTALL588267e46267/MASS/DESCRIPTION', probable reason
>>>> 'No such file or directory'
>>>> Error: error reading file './RtmpwOScIp/R.INSTALL588267e46267/MASS/DESCRIPTION'
>>>> make[2]: *** [MASS.ts] Error 1
>>>> make[1]: *** [recommended-packages] Error 2
>>>> make: *** [stamp-recommended] Error 2
>>>>
>>>> Please see the following gist for full details of the system
>>>> configuration and output of "configure" and "make":
>>>>
>>>> https://gist.github.com/bprenne/9459571
>>>>
>>>> In particular, you'll notice in the section for make the error I
>>>> quoted above.  Also, at the very bottom of the gist, I have provided
>>>> what I think shows that the error is happening with the "R CMD INSTALL
>>>> MASS.tgz" step in the installation of recommended packages (somewhere
>>>> deep within the Makefile steps).
>>>>
>>>>>>>> [[...snip...]
>>>>>>>> I also tried setting R_INSTALL_TAR to the system tar or to a
>>>>>>>> homebrew-installed gnutar.  Neither helped.
>>>>>>>>
>>>>>>>> Any suggestions on how I might proceed?
>>>>>>>
>>>>>>> Hmm, difficult to tell. If push comes to shove, you could try getting more info out of the INSTALL process (inject a debug(tools:::.install_packages), I suppose, but it is a bit beyond me currently). But first, I'd check what Makeconf sets the TAR variable to.
>>>>>>
>>>>>> Thank you for these suggestions.  Makeconf contains this line:
>>>>>>
>>>>>> TAR = /usr/local/bin/gtar
>>>>>>
>>>>>> This is the homebrew-installed gnutar.  However, is the R binary
>>>>>> (which has properly compiled and is the source of the error in library
>>>>>> installation) reading Makeconf to determine how to untar the library
>>>>>> .tgz?
>>>>>>
>>>>>
>>>>> No, it is set in etc/Renviron which is in turn populated via configure by the value you see in Makeconf.
>>>>>
>>>>> Try setting
>>>>>
>>>>> TAR=/usr/bin/tar
>>>>>
>>>>> since system tar normally works. But that may be only the tip of the iceberg, we can't tell what else you installed that breaks otherwise working system. If in doubt, share the list with us so we can try to replicate it.
>>>>>
>>>>> Cheers,
>>>>> Simon
>>>>
>>>> Thanks for this suggestion with setting the TAR variable.  As you can
>>>> see from the gist (https://gist.github.com/bprenne/9459571), this is
>>>> now the default value because homebrew has been wiped from the system.
>>>> However, even with this value, the problem still obtains.
>>>>
>>>> I've tried to provide everything I can think will be useful in the gist.
>>>>
>>>> Is there something more I can provide or some way I can get more
>>>> fine-grained debugging information to help in diagnosis?
>>>>
>>>> I appreciate your time and any thoughts you might have that you think
>>>> would help.
>>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From myrddincox at gmail.com  Tue Mar 11 15:35:47 2014
From: myrddincox at gmail.com (Stephen B. Cox)
Date: Tue, 11 Mar 2014 09:35:47 -0500
Subject: [R-SIG-Mac] Suggested New Mac for Heavy R Use
In-Reply-To: <63855D00-4C5F-42C6-84A6-BAA8049B66C1@r-project.org>
References: <1394469783.60107.YahooMailNeo@web162506.mail.bf1.yahoo.com>
	<63855D00-4C5F-42C6-84A6-BAA8049B66C1@r-project.org>
Message-ID: <CALDXY0ohrgpic+d0waUL=NpvWibcT5WMWPCOmdh_yX4QdyA81Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140311/022528c1/attachment.pl>

From brenne at gmail.com  Tue Mar 11 16:04:24 2014
From: brenne at gmail.com (Bryan Renne)
Date: Tue, 11 Mar 2014 08:04:24 -0700
Subject: [R-SIG-Mac] R 3.0.2/3.0.3 source install problems on OS X 10.9.2
In-Reply-To: <531ECE9F.20602@stats.ox.ac.uk>
References: <CABaPezgLznNDPaFqRiBtGLwh3T_-Kz0XkPxynXJipKq6B8gXUg@mail.gmail.com>
	<A2559824-7AFD-468B-B916-BF373DD3272A@gmail.com>
	<CABaPezh2NSUTWdk4-B3YnB0iX=WvzBhVvaRXpKioRtZOjBMtGg@mail.gmail.com>
	<832D6119-01CB-44C3-A7E4-5B15FA345A11@r-project.org>
	<CABaPezhj=AVmW-Cn9bbOtmO_H4S-iRiWZsfwx1oBKOhRfMUSjw@mail.gmail.com>
	<A6C77EEF-9851-4FFE-AF78-D69D1372A861@r-project.org>
	<CABaPezhqjZg60oRTCm-S605ow5djmyMTV_RJsnprNraA4mtn2g@mail.gmail.com>
	<B77A34FD-D47D-4C94-800D-DFC86CB86702@xs4all.nl>
	<531ECE9F.20602@stats.ox.ac.uk>
Message-ID: <CABaPezgzAMwXWG96WFrMh1pbOre9VFT7pQsmnYOuOJRuDieQNQ@mail.gmail.com>

Dear Brian:

On Tue, Mar 11, 2014 at 1:51 AM, Prof Brian Ripley
<ripley at stats.ox.ac.uk> wrote:
> On 11/03/2014 07:40, Berend Hasselman wrote:
>>
>>
>> On 11-03-2014, at 05:32, Bryan Renne <brenne at gmail.com> wrote:
>>
>>> Dear Simon:
>>>
>>> On Mon, Mar 10, 2014 at 11:23 AM, Simon Urbanek
>>> <simon.urbanek at r-project.org> wrote:
>>>>
>>>> Bryan,
>>>>
>>>> based on the gist output I think I have a candidate - please check that
>>>> you're not re-defining TMP or TMPDIR to a relative path - that would break
>>>> pretty much anything. Check with
>>>>
>>>> set | grep 'T*MP'
>>>>
>>>> This must be either undefined or the paths *must* be absolute, i.e.
>>>> start with a slash /
>>>>
>>>> Other replies below, but I think the above may be the main issue.
>>>
>>>
>>> That's it!  I can't believe you noticed that.  Thank you so much for your
>>> help.
>>>
>>> I had executed "export TEMPDIR=." for some other program (I think
>>> latex2html?) that requires some non-null setting and, after clearing
>>> this setting so that TEMPDIR is unset, the installation of recommended
>>> packages completed and the make script finished without errors.  Looks
>>> like an absolute path should be used as you suggest.
>>>
>>
>> Isn't TMPDIR set automatically by OS X?
>> I've never seen it to be null on my machines.
>
>
> Yes, but you can reset it (and sometimes it is necessary because of its
> length or the non-alphanumeric characters Apple used to put in it).
>
> What puzzles me is that TEMPDIR (with an E) is ever used: it is not used by
> R.


Yes, you're right, it was TMPDIR (without an E) that caused the
problem.  The extra E I entered in the variable name in my previous
message was a typo.

And indeed, I had set TMPDIR in my .profile (for bash) because
latex2html would for some reason not work without me setting a value
for this explicitly.  I think I first chose the value of TMPDIR=.
based on this page (under the section title "Documentation"):

https://www.lri.fr/~filliatr/bibtex2html/

Take care.


>
>>
>> Berend
>>
>>> Problem solved.  Thank you so much for your help with this.
>>>
>>>>
>>>> On Mar 10, 2014, at 12:53 AM, Bryan Renne <brenne at gmail.com> wrote:
>>>>
>>>>> Hi Simon.  Thank you for your reply.
>>>>>
>>>>> On Sun, Mar 9, 2014 at 6:41 PM, Simon Urbanek
>>>>> <simon.urbanek at r-project.org> wrote:
>>>>>>
>>>>>> Bryan,
>>>>>>
>>>>>> On Mar 9, 2014, at 3:59 PM, Bryan Renne <brenne at gmail.com> wrote:
>>>>>>
>>>>>>> Thank you for your reply, Peter.
>>>>>>>
>>>>>>> On Sun, Mar 9, 2014 at 3:31 AM, peter dalgaard <pdalgd at gmail.com>
>>>>>>> wrote:
>>>>>>>>
>>>>>>>>
>>>>>>>> On 09 Mar 2014, at 00:21 , Bryan Renne <brenne at gmail.com> wrote:
>>>>>>>>
>>>>>>>>> Hi there.  I am having compilation problems with R 3.0.2 (and R
>>>>>>>>> 3.0.3) on
>>>>>>>>> OS X 10.9.2.
>>>>>>>>
>>>>>>>>
>>>>>>>> On homebrew.... (Would have been useful to say up front.)
>>>>>>>
>>>>>>>
>>>>>>> Actually, no.  This is *not* a homebrew specific problem,
>>>>>>
>>>>>>
>>>>>> It *is* as you even point yourself further down. It doesn't occur on a
>>>>>> clean OS X system.
>>>>>
>>>>>
>>>>> OK, so to rule out any possible homebrew issues, I used the homebrew
>>>>> uninstall script to delete homebrew and all homebrew-installed stuff
>>>>> (https://gist.github.com/mxcl/1173223).  This script wipes the system
>>>>> clean of homebrew.
>>>>>
>>>>
>>>> Thanks, it would be sufficient to just rename /usr/local and re-install
>>>> the gfortran from CRAN.
>>>>
>>>> I cannot reproduce the issue with exactly your settings on a clean
>>>> machine, so it must be some custom configuration of yours. I suspect you may
>>>> have set TMP/TMPDIR to . which is invalid - please check.
>>>>
>>>> Thanks,
>>>> Simon
>>>
>>>
>>> Acknowledged.  Will take the point about /usr/local under advisement
>>> going forward.
>>>
>>> Thank you again for your time.
>>>
>>>>
>>>>> I then installed gfortran 4.8.2 binaries using the provided pkg file
>>>>> for OS X Mavericks (http://gcc.gnu.org/wiki/GFortranBinaries#MacOS).
>>>>>
>>>>> I then downloaded R-3.0.3.tar.gz from the main page
>>>>> (http://cran.r-project.org/).  I untarred, configured (with options
>>>>> "--with-aqua --enable-R-framework --with-lapack") and ran make.  I
>>>>> received the same error as before.  Here is the tail end of the "make"
>>>>> output:
>>>>>
>>>>> begin installing recommended package MASS
>>>>> Warning in read.dcf(fd <- file.path(pkg, "DESCRIPTION")) :
>>>>> cannot open compressed file
>>>>> './RtmpwOScIp/R.INSTALL588267e46267/MASS/DESCRIPTION', probable reason
>>>>> 'No such file or directory'
>>>>> Error: error reading file
>>>>> './RtmpwOScIp/R.INSTALL588267e46267/MASS/DESCRIPTION'
>>>>> make[2]: *** [MASS.ts] Error 1
>>>>> make[1]: *** [recommended-packages] Error 2
>>>>> make: *** [stamp-recommended] Error 2
>>>>>
>>>>> Please see the following gist for full details of the system
>>>>> configuration and output of "configure" and "make":
>>>>>
>>>>> https://gist.github.com/bprenne/9459571
>>>>>
>>>>> In particular, you'll notice in the section for make the error I
>>>>> quoted above.  Also, at the very bottom of the gist, I have provided
>>>>> what I think shows that the error is happening with the "R CMD INSTALL
>>>>> MASS.tgz" step in the installation of recommended packages (somewhere
>>>>> deep within the Makefile steps).
>>>>>
>>>>>>>>> [[...snip...]
>>>>>>>>> I also tried setting R_INSTALL_TAR to the system tar or to a
>>>>>>>>> homebrew-installed gnutar.  Neither helped.
>>>>>>>>>
>>>>>>>>> Any suggestions on how I might proceed?
>>>>>>>>
>>>>>>>>
>>>>>>>> Hmm, difficult to tell. If push comes to shove, you could try
>>>>>>>> getting more info out of the INSTALL process (inject a
>>>>>>>> debug(tools:::.install_packages), I suppose, but it is a bit beyond me
>>>>>>>> currently). But first, I'd check what Makeconf sets the TAR variable to.
>>>>>>>
>>>>>>>
>>>>>>> Thank you for these suggestions.  Makeconf contains this line:
>>>>>>>
>>>>>>> TAR = /usr/local/bin/gtar
>>>>>>>
>>>>>>> This is the homebrew-installed gnutar.  However, is the R binary
>>>>>>> (which has properly compiled and is the source of the error in
>>>>>>> library
>>>>>>> installation) reading Makeconf to determine how to untar the library
>>>>>>> .tgz?
>>>>>>>
>>>>>>
>>>>>> No, it is set in etc/Renviron which is in turn populated via configure
>>>>>> by the value you see in Makeconf.
>>>>>>
>>>>>> Try setting
>>>>>>
>>>>>> TAR=/usr/bin/tar
>>>>>>
>>>>>> since system tar normally works. But that may be only the tip of the
>>>>>> iceberg, we can't tell what else you installed that breaks otherwise working
>>>>>> system. If in doubt, share the list with us so we can try to replicate it.
>>>>>>
>>>>>> Cheers,
>>>>>> Simon
>>>>>
>>>>>
>>>>> Thanks for this suggestion with setting the TAR variable.  As you can
>>>>> see from the gist (https://gist.github.com/bprenne/9459571), this is
>>>>> now the default value because homebrew has been wiped from the system.
>>>>> However, even with this value, the problem still obtains.
>>>>>
>>>>> I've tried to provide everything I can think will be useful in the
>>>>> gist.
>>>>>
>>>>> Is there something more I can provide or some way I can get more
>>>>> fine-grained debugging information to help in diagnosis?
>>>>>
>>>>> I appreciate your time and any thoughts you might have that you think
>>>>> would help.
>>>>>
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Tue Mar 11 17:40:26 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 11 Mar 2014 12:40:26 -0400
Subject: [R-SIG-Mac] Suggested New Mac for Heavy R Use
In-Reply-To: <CALDXY0ohrgpic+d0waUL=NpvWibcT5WMWPCOmdh_yX4QdyA81Q@mail.gmail.com>
References: <1394469783.60107.YahooMailNeo@web162506.mail.bf1.yahoo.com>
	<63855D00-4C5F-42C6-84A6-BAA8049B66C1@r-project.org>
	<CALDXY0ohrgpic+d0waUL=NpvWibcT5WMWPCOmdh_yX4QdyA81Q@mail.gmail.com>
Message-ID: <8FA5F77D-DBD1-43ED-8FE6-65879C0A1D45@r-project.org>

On Mar 11, 2014, at 10:35 AM, Stephen B. Cox <myrddincox at gmail.com> wrote:

> Anyone had any experience running fairly intensive analysis on a new
> MacPro?  I am looking to upgrade my desktop, and 80% of my time is spent in
> RStudio/Latex/Sweave... working primarily with microbiome analysis (large
> datasets).  Been considering a new MacPro, but I am a little hesitant
> about; a) moving my desktop to Mac,

That is typically a big plus - especially if you use Windows. It is in fact probably the single major reason to pick a MacPro today, although I would probably rather get an iMac in that case.


> and b) whether the MacPro performance will be worth the cost (it almost seems geared more towards graphics than anything else).
> 

I don?t have any hands-on experience with the new MacPro but its specs are underwhelming. It is an experiment - if you can leverage the GPUs for computing, then it may be worth it, but it?s still quite hard to do so. With AMD you?e essentially stuck with OpenCL and other than core support so you can write your own kernels, there is very little else in R to leverage that. Today, you?re much better off getting a server/workstation which you can load with RAM and more cores for computing for the same price (running Linux, obviously, you really don?t want to do computing on Windows with R) - and use your desktop/laptop just to access its computing power.


> For some background - I have worked on Macs for years, but moved my main work desktop to Windows about 2 years ago.  I also do quite a bit of work in QIIME - which can be done on the mac (not the PC) and is both RAM and CPU intensive... so, I can benefit from multiple cores, large RAM, etc.  My 2011 MacBook Pro seems extremely sluggish at this point when running basic tasks (probably need to do a fresh OS install),

If you encounter sluggishness in OS X is pretty much always a disk issue. Wipe the disk or even better put in a SSD - it?s more than worth it - a whole different world.

Cheers,
Simon


> but the Windows machine has
> never slowed down.  This has added to some of my hesitation.
> 
> Anyone have opinions/experience using R on the new MacPro?
> 
> 
> On Mon, Mar 10, 2014 at 1:05 PM, Simon Urbanek
> <simon.urbanek at r-project.org>wrote:
> 
>> 
>> On Mar 10, 2014, at 12:43 PM, Nick <franken_beans2000 at yahoo.com> wrote:
>> 
>>> Good afternoon, I am looking at buying my first Mac and thought i'd ask
>> for advice for what I should get. I have it down to the two models below
>> (but am open to realistic suggestions).
>>> 
>>> I will primarily be using R for machine learning packages, and the data
>> sets are very large. If any other specs are needed let me know.
>>> 
>> 
>> "data sets are very large' - well, the machines listed below are certainly
>> not suitable to run anything on large data ;) so you may want to quantify
>> what you mean here. You want as much RAM as possible for large data since
>> that is the single item that will cause huge drop-off in performance when
>> exhausted and R certainly can take quite a bit of memory if this is really
>> your only machine to run computing on. Note that in modern Apple laptops
>> you cannot add more memory later, so this is rather important factor.
>> 
>> Given a choice of the two MacBook Air is not a computing machine - it's
>> optimized for power consumption, not speed, so the only reason to go for it
>> is if you're looking for a light notebook and don't care about the
>> computing speed as much.
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>> Thanks in advance.
>>> 
>>> 13-inch MacBook Air ($1,349)
>>> 1.7GHz Dual-Core Intel Core i7, Turbo Boost up to 3.3GHz
>>> 8GB 1600MHz LPDDR3 SDRAM
>>> 128GB Flash Storage
>>> 
>>> 13-inch MacBook Pro with Retina ($1,399.00)
>>> 2.4GHz Dual-core Intel Core i5, Turbo Boost up to 2.9GHz
>>> 8GB 1600MHz DDR3L SDRAM
>>> 128GB PCIe-based Flash Storage
>>>      [[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From ripley at stats.ox.ac.uk  Tue Mar 11 18:20:20 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 11 Mar 2014 17:20:20 +0000
Subject: [R-SIG-Mac] Suggested New Mac for Heavy R Use
In-Reply-To: <8FA5F77D-DBD1-43ED-8FE6-65879C0A1D45@r-project.org>
References: <1394469783.60107.YahooMailNeo@web162506.mail.bf1.yahoo.com>	<63855D00-4C5F-42C6-84A6-BAA8049B66C1@r-project.org>	<CALDXY0ohrgpic+d0waUL=NpvWibcT5WMWPCOmdh_yX4QdyA81Q@mail.gmail.com>
	<8FA5F77D-DBD1-43ED-8FE6-65879C0A1D45@r-project.org>
Message-ID: <531F45D4.90107@stats.ox.ac.uk>

On 11/03/2014 16:40, Simon Urbanek wrote:
> On Mar 11, 2014, at 10:35 AM, Stephen B. Cox <myrddincox at gmail.com> wrote:
>
>> Anyone had any experience running fairly intensive analysis on a new
>> MacPro?  I am looking to upgrade my desktop, and 80% of my time is spent in
>> RStudio/Latex/Sweave... working primarily with microbiome analysis (large
>> datasets).  Been considering a new MacPro, but I am a little hesitant
>> about; a) moving my desktop to Mac,

'large datasets' are in the eye of the beholder: you would need to 
quantify that.

> That is typically a big plus - especially if you use Windows. It is in fact probably the single major reason to pick a MacPro today, although I would probably rather get an iMac in that case.
>
>
>> and b) whether the MacPro performance will be worth the cost (it almost seems geared more towards graphics than anything else).
>>
>
> I don?t have any hands-on experience with the new MacPro but its specs are underwhelming. It is an experiment - if you can leverage the GPUs for computing, then it may be worth it, but it?s still quite hard to do so. With AMD you?e essentially stuck with OpenCL and other than core support so you can write your own kernels, there is very little else in R to leverage that. Today, you?re much better off getting a server/workstation which you can load with RAM and more cores for computing for the same price (running Linux, obviously, you really don?t want to do computing on Windows with R) - and use your desktop/laptop just to access its computing power.

>> For some background - I have worked on Macs for years, but moved my main work desktop to Windows about 2 years ago.  I also do quite a bit of work in QIIME - which can be done on the mac (not the PC) and is both RAM and CPU intensive... so, I can benefit from multiple cores, large RAM, etc.  My 2011 MacBook Pro seems extremely sluggish at this point when running basic tasks (probably need to do a fresh OS install),
>
> If you encounter sluggishness in OS X is pretty much always a disk issue. Wipe the disk or even better put in a SSD - it?s more than worth it - a whole different world.

Or a 'fusion' drive in an iMac, which gives you enough SSD advantage 
unless you really use repeatedly a lot of disc space (and works well for 
me).  The MacPro's I/O benchmarks are impressive, but you would need to 
be able to generate data at those speeds to make use of them.


> Cheers,
> Simon
>
>
>> but the Windows machine has
>> never slowed down.  This has added to some of my hesitation.
>>
>> Anyone have opinions/experience using R on the new MacPro?
>>
>>
>> On Mon, Mar 10, 2014 at 1:05 PM, Simon Urbanek
>> <simon.urbanek at r-project.org>wrote:
>>
>>>
>>> On Mar 10, 2014, at 12:43 PM, Nick <franken_beans2000 at yahoo.com> wrote:
>>>
>>>> Good afternoon, I am looking at buying my first Mac and thought i'd ask
>>> for advice for what I should get. I have it down to the two models below
>>> (but am open to realistic suggestions).
>>>>
>>>> I will primarily be using R for machine learning packages, and the data
>>> sets are very large. If any other specs are needed let me know.
>>>>
>>>
>>> "data sets are very large' - well, the machines listed below are certainly
>>> not suitable to run anything on large data ;) so you may want to quantify
>>> what you mean here. You want as much RAM as possible for large data since
>>> that is the single item that will cause huge drop-off in performance when
>>> exhausted and R certainly can take quite a bit of memory if this is really
>>> your only machine to run computing on. Note that in modern Apple laptops
>>> you cannot add more memory later, so this is rather important factor.
>>>
>>> Given a choice of the two MacBook Air is not a computing machine - it's
>>> optimized for power consumption, not speed, so the only reason to go for it
>>> is if you're looking for a light notebook and don't care about the
>>> computing speed as much.
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>
>>>> Thanks in advance.
>>>>
>>>> 13-inch MacBook Air ($1,349)
>>>> 1.7GHz Dual-Core Intel Core i7, Turbo Boost up to 3.3GHz
>>>> 8GB 1600MHz LPDDR3 SDRAM
>>>> 128GB Flash Storage
>>>>
>>>> 13-inch MacBook Pro with Retina ($1,399.00)
>>>> 2.4GHz Dual-core Intel Core i5, Turbo Boost up to 2.9GHz
>>>> 8GB 1600MHz DDR3L SDRAM
>>>> 128GB PCIe-based Flash Storage
>>>>       [[alternative HTML version deleted]]
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Wed Mar 12 16:48:26 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 12 Mar 2014 11:48:26 -0400
Subject: [R-SIG-Mac] Suggested New Mac for Heavy R Use
In-Reply-To: <AA32242A-62E0-401E-B271-529DD3F33CC1@hbs.edu>
References: <1394469783.60107.YahooMailNeo@web162506.mail.bf1.yahoo.com>
	<63855D00-4C5F-42C6-84A6-BAA8049B66C1@r-project.org>
	<CALDXY0ohrgpic+d0waUL=NpvWibcT5WMWPCOmdh_yX4QdyA81Q@mail.gmail.com>
	<8FA5F77D-DBD1-43ED-8FE6-65879C0A1D45@r-project.org>
	<AA32242A-62E0-401E-B271-529DD3F33CC1@hbs.edu>
Message-ID: <18BB02A7-9407-446D-A9F6-C95C345BE9DC@r-project.org>


On Mar 12, 2014, at 10:21 AM, Gow, Ian <igow at hbs.edu> wrote:

> 
> 
> On 2014-03-11, 12:40 PM, "Simon Urbanek" <simon.urbanek at r-project.org>
> wrote:
> 
>>> 
>> Today, you?re much better off getting a server/workstation which you can
>> load with RAM and more cores for computing for the same price (running
>> Linux, obviously, you really don?t want to do computing on
>> Windows with R)
> Running Linux ... or OS X.
> 
>> - and use your desktop/laptop just to access its computing power.
> OP mentioned RStudio. RStudio Server makes this very easy and pleasant to
> do (again this means Linux ... or OS X).
> 

Or RCloud, or OpenCPU, or X11, or VNC, or NX, or ? :) Yes, pick the tool you like the best ? there are many to chose from these days ...


>>> For some background - I have worked on Macs for years, but moved my
>>> main work desktop to Windows about 2 years ago.  I also do quite a bit
>>> of work in QIIME - which can be done on the mac (not the PC) and is both
>>> RAM and CPU intensive... so, I can benefit from multiple cores, large
>>> RAM, etc.  My 2011 MacBook Pro seems extremely sluggish at this point
>>> when running basic tasks (probably need to do a fresh OS install),
>> 
>> If you encounter sluggishness in OS X is pretty much always a disk issue.
>> Wipe the disk or even better put in a SSD - it?s more than worth it - a
>> whole different world.
>> 
>> Cheers,
>> Simon
> -Ian
> 


From massimodisasha at gmail.com  Wed Mar 12 17:03:04 2014
From: massimodisasha at gmail.com (epi)
Date: Wed, 12 Mar 2014 12:03:04 -0400
Subject: [R-SIG-Mac] Suggested New Mac for Heavy R Use
In-Reply-To: <531F45D4.90107@stats.ox.ac.uk>
References: <1394469783.60107.YahooMailNeo@web162506.mail.bf1.yahoo.com>	<63855D00-4C5F-42C6-84A6-BAA8049B66C1@r-project.org>	<CALDXY0ohrgpic+d0waUL=NpvWibcT5WMWPCOmdh_yX4QdyA81Q@mail.gmail.com>
	<8FA5F77D-DBD1-43ED-8FE6-65879C0A1D45@r-project.org>
	<531F45D4.90107@stats.ox.ac.uk>
Message-ID: <BBA384A8-6D7D-4A23-BF52-05C2C6EE2464@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140312/b8e537b2/attachment.pl>

From borzmd at gmail.com  Wed Mar 12 18:40:43 2014
From: borzmd at gmail.com (Debz)
Date: Wed, 12 Mar 2014 07:40:43 -1000
Subject: [R-SIG-Mac] R on Mac OS X Maverick
Message-ID: <CAKo9SYCMqksLGrHCMyLC8hpJo=gLo3LGJ-a7a+L=4P-6xv_yBQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140312/d69871cf/attachment.pl>

From aeroevan at gmail.com  Wed Mar 12 18:50:09 2014
From: aeroevan at gmail.com (Evan McClain)
Date: Wed, 12 Mar 2014 13:50:09 -0400
Subject: [R-SIG-Mac] R on Mac OS X Maverick
In-Reply-To: <CAKo9SYCMqksLGrHCMyLC8hpJo=gLo3LGJ-a7a+L=4P-6xv_yBQ@mail.gmail.com>
References: <CAKo9SYCMqksLGrHCMyLC8hpJo=gLo3LGJ-a7a+L=4P-6xv_yBQ@mail.gmail.com>
Message-ID: <20140312175005.GA78789@gmail.com>

On Wed, Mar 12, 2014 at 07:40:43AM -1000, Debz wrote:
> Hi,
> 
> I've been using R before and there were no problems however, now that I
> have updated my OS to the latest Mac OS X Mavericks, I keep on getting an
> error message where I have to choose to close my R. Is there a way to solve
> this or do I have to bring back my mac to the old version? Thanks.

R works on my machine with 10.9.2, but I didn't upgrade to Mavericks. Have you
tried simply reinstalling R?

-- 
Evan McClain
/* No Comment */
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 860 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140312/780b2aa0/attachment.bin>

From simon.urbanek at r-project.org  Wed Mar 12 18:55:16 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 12 Mar 2014 13:55:16 -0400
Subject: [R-SIG-Mac] R on Mac OS X Maverick
In-Reply-To: <20140312175005.GA78789@gmail.com>
References: <CAKo9SYCMqksLGrHCMyLC8hpJo=gLo3LGJ-a7a+L=4P-6xv_yBQ@mail.gmail.com>
	<20140312175005.GA78789@gmail.com>
Message-ID: <89C5A962-AA4C-42EE-843B-12442280548C@r-project.org>

More precisely re-installing most recent version of R. If you upgrade the OS, you should also upgrade the programs.

Cheers,
S


On Mar 12, 2014, at 1:50 PM, Evan McClain <aeroevan at gmail.com> wrote:

> On Wed, Mar 12, 2014 at 07:40:43AM -1000, Debz wrote:
>> Hi,
>> 
>> I've been using R before and there were no problems however, now that I
>> have updated my OS to the latest Mac OS X Mavericks, I keep on getting an
>> error message where I have to choose to close my R. Is there a way to solve
>> this or do I have to bring back my mac to the old version? Thanks.
> 
> R works on my machine with 10.9.2, but I didn't upgrade to Mavericks. Have you
> tried simply reinstalling R?
> 
> -- 
> Evan McClain
> /* No Comment */
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From igow at hbs.edu  Wed Mar 12 15:21:18 2014
From: igow at hbs.edu (Gow, Ian)
Date: Wed, 12 Mar 2014 10:21:18 -0400
Subject: [R-SIG-Mac] Suggested New Mac for Heavy R Use
In-Reply-To: <8FA5F77D-DBD1-43ED-8FE6-65879C0A1D45@r-project.org>
References: <1394469783.60107.YahooMailNeo@web162506.mail.bf1.yahoo.com>
	<63855D00-4C5F-42C6-84A6-BAA8049B66C1@r-project.org>
	<CALDXY0ohrgpic+d0waUL=NpvWibcT5WMWPCOmdh_yX4QdyA81Q@mail.gmail.com>
	<8FA5F77D-DBD1-43ED-8FE6-65879C0A1D45@r-project.org>
Message-ID: <AA32242A-62E0-401E-B271-529DD3F33CC1@hbs.edu>



On 2014-03-11, 12:40 PM, "Simon Urbanek" <simon.urbanek at r-project.org>
wrote:

>> 
> Today, you?re much better off getting a server/workstation which you can
> load with RAM and more cores for computing for the same price (running
> Linux, obviously, you really don?t want to do computing on
> Windows with R)
Running Linux ... or OS X.

> - and use your desktop/laptop just to access its computing power.
OP mentioned RStudio. RStudio Server makes this very easy and pleasant to
do (again this means Linux ... or OS X).

>> For some background - I have worked on Macs for years, but moved my
>> main work desktop to Windows about 2 years ago.  I also do quite a bit
>> of work in QIIME - which can be done on the mac (not the PC) and is both
>> RAM and CPU intensive... so, I can benefit from multiple cores, large
>> RAM, etc.  My 2011 MacBook Pro seems extremely sluggish at this point
>> when running basic tasks (probably need to do a fresh OS install),
> 
> If you encounter sluggishness in OS X is pretty much always a disk issue.
> Wipe the disk or even better put in a SSD - it?s more than worth it - a
> whole different world.
> 
> Cheers,
> Simon
-Ian


From myrddincox at gmail.com  Fri Mar 14 14:27:49 2014
From: myrddincox at gmail.com (Stephen B. Cox)
Date: Fri, 14 Mar 2014 08:27:49 -0500
Subject: [R-SIG-Mac] Suggested New Mac for Heavy R Use
In-Reply-To: <BBA384A8-6D7D-4A23-BF52-05C2C6EE2464@gmail.com>
References: <1394469783.60107.YahooMailNeo@web162506.mail.bf1.yahoo.com>
	<63855D00-4C5F-42C6-84A6-BAA8049B66C1@r-project.org>
	<CALDXY0ohrgpic+d0waUL=NpvWibcT5WMWPCOmdh_yX4QdyA81Q@mail.gmail.com>
	<8FA5F77D-DBD1-43ED-8FE6-65879C0A1D45@r-project.org>
	<531F45D4.90107@stats.ox.ac.uk>
	<BBA384A8-6D7D-4A23-BF52-05C2C6EE2464@gmail.com>
Message-ID: <CALDXY0qhWbNr79=z35qELZwok=QFS0XoRnWyfF0vRwd05QhnTQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140314/a8983d3e/attachment.pl>

From agustin.diez at uv.es  Wed Mar 19 15:22:17 2014
From: agustin.diez at uv.es (Agustin Angel Diez Castillo)
Date: Wed, 19 Mar 2014 15:22:17 +0100
Subject: [R-SIG-Mac] R stops abruptly applying textures in rgl
Message-ID: <5431-5329a800-7f-33aa0a80@231520261>

Hi,
When applying textures to an rgl object I can do it without problem if the applied texture if the texture file is called in an expand form [1]. However if the same file is called with tilde [2], R will stop abruptly. I've tested it in three different machines, all running 9.2. The same in Unbuntu 13.04 drops a warning message [3] but R continues running.
Agustin
[1] /Users/myuser/myfile.png
[2] ~/myfile.png
[3] In rgl.material(...) :
  RGL: Pixmap load: unable to open file '~/gvSIG-desktop/gvSIG-desktop-2066/theme/splash.png' for reading


From faldo at student.ethz.ch  Tue Mar 18 19:44:20 2014
From: faldo at student.ethz.ch (ETH)
Date: Tue, 18 Mar 2014 14:44:20 -0400
Subject: [R-SIG-Mac] Application Status - (r-sig-mac@stat.math.ethz.ch).
Message-ID: <81d30406-750b-4e5a-be7b-df2ad49cd3e5@CAS12.d.ethz.ch>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140318/49430daf/attachment.pl>

From murdoch.duncan at gmail.com  Wed Mar 19 15:35:01 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Wed, 19 Mar 2014 10:35:01 -0400
Subject: [R-SIG-Mac] R stops abruptly applying textures in rgl
In-Reply-To: <5431-5329a800-7f-33aa0a80@231520261>
References: <5431-5329a800-7f-33aa0a80@231520261>
Message-ID: <5329AB15.4040008@gmail.com>

On 19/03/2014 10:22 AM, Agustin Angel Diez Castillo wrote:
> Hi,
> When applying textures to an rgl object I can do it without problem if the applied texture if the texture file is called in an expand form [1]. However if the same file is called with tilde [2], R will stop abruptly. I've tested it in three different machines, all running 9.2. The same in Unbuntu 13.04 drops a warning message [3] but R continues running.
> Agustin
> [1] /Users/myuser/myfile.png
> [2] ~/myfile.png
> [3] In rgl.material(...) :
>    RGL: Pixmap load: unable to open file '~/gvSIG-desktop/gvSIG-desktop-2066/theme/splash.png' for reading

This looks like an rgl bug on the Mac.  I'll take a look.

Duncan Murdoch


From murdoch.duncan at gmail.com  Thu Mar 20 12:28:43 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Thu, 20 Mar 2014 07:28:43 -0400
Subject: [R-SIG-Mac] R stops abruptly applying textures in rgl
In-Reply-To: <5431-5329a800-7f-33aa0a80@231520261>
References: <5431-5329a800-7f-33aa0a80@231520261>
Message-ID: <532AD0EB.3060408@gmail.com>

On 14-03-19 10:22 AM, Agustin Angel Diez Castillo wrote:
> Hi,
> When applying textures to an rgl object I can do it without problem if the applied texture if the texture file is called in an expand form [1]. However if the same file is called with tilde [2], R will stop abruptly. I've tested it in three different machines, all running 9.2. The same in Unbuntu 13.04 drops a warning message [3] but R continues running.
> Agustin
> [1] /Users/myuser/myfile.png
> [2] ~/myfile.png
> [3] In rgl.material(...) :
>    RGL: Pixmap load: unable to open file '~/gvSIG-desktop/gvSIG-desktop-2066/theme/splash.png' for reading
>

I am unable to reproduce this.  Could you please post a complete script 
that reproducibly causes the crash for you, and post information about 
rgl, R, and MacOS versions?

Duncan Murdoch


From Agustin.Diez at uv.es  Thu Mar 20 13:34:31 2014
From: Agustin.Diez at uv.es (Agustin Diez Castillo)
Date: Thu, 20 Mar 2014 13:34:31 +0100 (CET)
Subject: [R-SIG-Mac] R stops abruptly applying textures in rgl
In-Reply-To: <532AD0EB.3060408@gmail.com>
References: <532AD0EB.3060408@gmail.com>
Message-ID: <2945111618adiez@uv.es>

Duncan,
Find the script [1] , SessionInfo [2]  and the Mac error [3]  in case it helps. Executing R from the terminal R doesn't
freeze and I got the same message that in Ubuntu 13.04 [4] 
# With rgl installed in ~/Library/R/
library(rgl)
# Set directory
setwd("~/")
#Working
rgl.bg(sphere=TRUE, texture=system.file("textures/bump_dust.png", package="rgl"),back="filled")
#Copying the same texture to the working directory
system("cp ~/Library/R/3.0/library/rgl/textures/bump_dust.png bump_dust.png")
# expanded version also works
expanded<-paste(getwd(),"/bump_dust.png",sep="")
# Testing
rgl.bg(sphere=TRUE, texture=expanded,back="filled")
#Hanging R.app
rgl.bg(sphere=TRUE, texture="~/bump_dust.png",back="filled")
-------
[2] R version 3.0.3 (2014-03-06)
Platform: x86_64-apple-darwin10.8.0 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] rgl_0.93.996
----------
[3] http://pastebin.com/tQ8FRFzc

[4] Warning message:
In rgl.material(color = color, back = back, ...) :
  RGL: Pixmap load: unable to open file '~/bump_dust.png' for reading
Agust?n


> On 14-03-19 10:22 AM, Agustin Angel Diez Castillo wrote:
> > Hi,
> > When applying textures to an rgl object I can do it without problem if the applied texture if the texture file is
called in an expand form [1]. However if the same file is called with tilde [2], R will stop abruptly. I've tested it in
three different machines, all running 9.2. The same in Unbuntu 13.04 drops a warning message [3] but R continues running.
> > Agustin
> > [1] /Users/myuser/myfile.png
> > [2] ~/myfile.png
> > [3] In rgl.material(...) :
> >    RGL: Pixmap load: unable to open file '~/gvSIG-desktop/gvSIG-desktop-2066/theme/splash.png' for reading
> >
> 
> I am unable to reproduce this.  Could you please post a complete script 
> that reproducibly causes the crash for you, and post information about 
> rgl, R, and MacOS versions?
> 
> Duncan Murdoch
> 
> 
> 


--
******************************************************
Dr. Agust?n Diez Castillo
Departament de Prehist?ria i Arqueologia
Phone:   +34 963 86 42 42
Avda. Blasco Iba?ez, 28   Fax:      +34 963 86 42 34
Val?ncia 46010


From Rainer at krugs.de  Thu Mar 20 14:26:40 2014
From: Rainer at krugs.de (Rainer M Krug)
Date: Thu, 20 Mar 2014 14:26:40 +0100
Subject: [R-SIG-Mac] R stops abruptly applying textures in rgl
In-Reply-To: <2945111618adiez@uv.es> (Agustin Diez Castillo's message of "Thu, 
	20 Mar 2014 13:34:31 +0100 (CET)")
References: <532AD0EB.3060408@gmail.com> <2945111618adiez@uv.es>
Message-ID: <m2mwgl6lwv.fsf@krugs.de>

"Agustin Diez Castillo"<Agustin.Diez at uv.es> writes:

> Duncan,
> Find the script [1] , SessionInfo [2]  and the Mac error [3]  in case it helps. Executing R from the terminal R doesn't
> freeze and I got the same message that in Ubuntu 13.04 [4] 
> # With rgl installed in ~/Library/R/
> library(rgl)
> # Set directory
> setwd("~/")
> #Working
> rgl.bg(sphere=TRUE, texture=system.file("textures/bump_dust.png", package="rgl"),back="filled")
> #Copying the same texture to the working directory
> system("cp ~/Library/R/3.0/library/rgl/textures/bump_dust.png bump_dust.png")
> # expanded version also works
> expanded<-paste(getwd(),"/bump_dust.png",sep="")
> # Testing
> rgl.bg(sphere=TRUE, texture=expanded,back="filled")
> #Hanging R.app
> rgl.bg(sphere=TRUE, texture="~/bump_dust.png",back="filled")

Confirmed as described - works in terminal, crashes R gui
Additionally: works in RStudio with the following error:

,----
| > rgl.bg(sphere=TRUE, texture="~/bump_dust.png",back="filled")
| Warning message:
| In rgl.material(color = color, back = back, ...) :
|   RGL: Pixmap load: unable to open file '~/bump_dust.png' for reading
`----

,----
| > version
|                _
| platform       x86_64-apple-darwin10.8.0
| arch           x86_64
| os             darwin10.8.0
| system         x86_64, darwin10.8.0
| status         Patched
| major          3
| minor          0.3
| year           2014
| month          03
| day            06
| svn rev        65134
| language       R
| version.string R version 3.0.3 Patched (2014-03-06 r65134)
| nickname       Warm Puppy
| > library(rgl)
| > sessionInfo()
| R version 3.0.3 Patched (2014-03-06 r65134)
| Platform: x86_64-apple-darwin10.8.0 (64-bit)
| 
| locale:
| [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
| 
| attached base packages:
| [1] stats     graphics  grDevices utils     datasets  methods   base
| 
| other attached packages:
| [1] rgl_0.93.996
| > 
`----

Cheers,

Rainer


> -------
> [2] R version 3.0.3 (2014-03-06)
> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
>
> other attached packages:
> [1] rgl_0.93.996
> ----------
> [3] http://pastebin.com/tQ8FRFzc
>
> [4] Warning message:
> In rgl.material(color = color, back = back, ...) :
>   RGL: Pixmap load: unable to open file '~/bump_dust.png' for reading
> Agust?n
>
>
>> On 14-03-19 10:22 AM, Agustin Angel Diez Castillo wrote:
>> > Hi,
>> > When applying textures to an rgl object I can do it without problem if the applied texture if the texture file is
> called in an expand form [1]. However if the same file is called with tilde [2], R will stop abruptly. I've tested it in
> three different machines, all running 9.2. The same in Unbuntu 13.04
> drops a warning message [3] but R continues running.
>> > Agustin
>> > [1] /Users/myuser/myfile.png
>> > [2] ~/myfile.png
>> > [3] In rgl.material(...) :
>> >    RGL: Pixmap load: unable to open file '~/gvSIG-desktop/gvSIG-desktop-2066/theme/splash.png' for reading
>> >
>> 
>> I am unable to reproduce this.  Could you please post a complete script 
>> that reproducibly causes the crash for you, and post information about 
>> rgl, R, and MacOS versions?
>> 
>> Duncan Murdoch
>> 
>> 
>> 
>
>
> --
> ******************************************************
> Dr. Agust?n Diez Castillo
> Departament de Prehist?ria i Arqueologia
> Phone:   +34 963 86 42 42
> Avda. Blasco Iba?ez, 28   Fax:      +34 963 86 42 34
> Val?ncia 46010
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Rainer M. Krug
email: Rainer<at>krugs<dot>de
PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 494 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140320/a0dd9a63/attachment.bin>

From murdoch.duncan at gmail.com  Thu Mar 20 14:53:14 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Thu, 20 Mar 2014 09:53:14 -0400
Subject: [R-SIG-Mac] R stops abruptly applying textures in rgl
In-Reply-To: <m2mwgl6lwv.fsf@krugs.de>
References: <532AD0EB.3060408@gmail.com> <2945111618adiez@uv.es>
	<m2mwgl6lwv.fsf@krugs.de>
Message-ID: <532AF2CA.4000902@gmail.com>

On 20/03/2014 9:26 AM, Rainer M Krug wrote:
> "Agustin Diez Castillo"<Agustin.Diez at uv.es> writes:
>
> > Duncan,
> > Find the script [1] , SessionInfo [2]  and the Mac error [3]  in case it helps. Executing R from the terminal R doesn't
> > freeze and I got the same message that in Ubuntu 13.04 [4]
> > # With rgl installed in ~/Library/R/
> > library(rgl)
> > # Set directory
> > setwd("~/")
> > #Working
> > rgl.bg(sphere=TRUE, texture=system.file("textures/bump_dust.png", package="rgl"),back="filled")
> > #Copying the same texture to the working directory
> > system("cp ~/Library/R/3.0/library/rgl/textures/bump_dust.png bump_dust.png")
> > # expanded version also works
> > expanded<-paste(getwd(),"/bump_dust.png",sep="")
> > # Testing
> > rgl.bg(sphere=TRUE, texture=expanded,back="filled")
> > #Hanging R.app
> > rgl.bg(sphere=TRUE, texture="~/bump_dust.png",back="filled")
>
> Confirmed as described - works in terminal, crashes R gui
> Additionally: works in RStudio with the following error:
>
> ,----
> | > rgl.bg(sphere=TRUE, texture="~/bump_dust.png",back="filled")
> | Warning message:
> | In rgl.material(color = color, back = back, ...) :
> |   RGL: Pixmap load: unable to open file '~/bump_dust.png' for reading

Thanks.  I imagine what is happening is that rgl tries to generate an 
error when it fails to open the non-existent file, but something goes 
wrong, and it doesn't end up being handled properly by R.app. (I would 
guess a workaround is to call normalizePath() to expand the tilde; rgl 
should probably be doing that, but currently doesn't.)

I'll see if the extra info lets me reproduce it.

Duncan Murdoch
> `----
>
> ,----
> | > version
> |                _
> | platform       x86_64-apple-darwin10.8.0
> | arch           x86_64
> | os             darwin10.8.0
> | system         x86_64, darwin10.8.0
> | status         Patched
> | major          3
> | minor          0.3
> | year           2014
> | month          03
> | day            06
> | svn rev        65134
> | language       R
> | version.string R version 3.0.3 Patched (2014-03-06 r65134)
> | nickname       Warm Puppy
> | > library(rgl)
> | > sessionInfo()
> | R version 3.0.3 Patched (2014-03-06 r65134)
> | Platform: x86_64-apple-darwin10.8.0 (64-bit)
> |
> | locale:
> | [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> |
> | attached base packages:
> | [1] stats     graphics  grDevices utils     datasets  methods   base
> |
> | other attached packages:
> | [1] rgl_0.93.996
> | >
> `----
>
> Cheers,
>
> Rainer
>
>
> > -------
> > [2] R version 3.0.3 (2014-03-06)
> > Platform: x86_64-apple-darwin10.8.0 (64-bit)
> >
> > locale:
> > [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >
> > attached base packages:
> > [1] stats     graphics  grDevices utils     datasets  methods   base
> >
> > other attached packages:
> > [1] rgl_0.93.996
> > ----------
> > [3] http://pastebin.com/tQ8FRFzc
> >
> > [4] Warning message:
> > In rgl.material(color = color, back = back, ...) :
> >   RGL: Pixmap load: unable to open file '~/bump_dust.png' for reading
> > Agust?n
> >
> >
> >> On 14-03-19 10:22 AM, Agustin Angel Diez Castillo wrote:
> >> > Hi,
> >> > When applying textures to an rgl object I can do it without problem if the applied texture if the texture file is
> > called in an expand form [1]. However if the same file is called with tilde [2], R will stop abruptly. I've tested it in
> > three different machines, all running 9.2. The same in Unbuntu 13.04
> > drops a warning message [3] but R continues running.
> >> > Agustin
> >> > [1] /Users/myuser/myfile.png
> >> > [2] ~/myfile.png
> >> > [3] In rgl.material(...) :
> >> >    RGL: Pixmap load: unable to open file '~/gvSIG-desktop/gvSIG-desktop-2066/theme/splash.png' for reading
> >> >
> >>
> >> I am unable to reproduce this.  Could you please post a complete script
> >> that reproducibly causes the crash for you, and post information about
> >> rgl, R, and MacOS versions?
> >>
> >> Duncan Murdoch
> >>
> >>
> >>
> >
> >
> > --
> > ******************************************************
> > Dr. Agust?n Diez Castillo
> > Departament de Prehist?ria i Arqueologia
> > Phone:   +34 963 86 42 42
> > Avda. Blasco Iba?ez, 28   Fax:      +34 963 86 42 34
> > Val?ncia 46010
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From rvaldezr at gmail.com  Fri Mar 21 00:56:14 2014
From: rvaldezr at gmail.com (Rolando Valdez)
Date: Thu, 20 Mar 2014 17:56:14 -0600
Subject: [R-SIG-Mac] Dramatically slow map plotting
Message-ID: <B17531CD-6BD2-457B-8E03-94386718813B@gmail.com>

Hello, 

Recently, I acquired a MacBook Pro, Core i7, 8 GB ram. I Installed the newest R version, 3.0.3 from the web page. The problem is when I?m plotting maps, because is going very, very slow, about 3 or 4 minutes just for a single map, while I?ve done this in a few seconds in Windows with Core i5 and 4 GB ram.

This is what I have:

R version 3.0.3 (2014-03-06) -- "Warm Puppy"
Copyright (C) 2014 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin10.8.0 (64-bit)

[R.app GUI 1.63 (6660) x86_64-apple-darwin10.8.0]

I found a reproducible example in web and I took time with proc.time()

ptm <- proc.time()
library(sp)
library(lattice) # required for trellis.par.set():
trellis.par.set(sp.theme()) # sets color ramp to bpy.colors()

# prepare nc sids data set:
library(maptools)
nc <- readShapePoly(system.file("shapes/sids.shp", package="maptools")[1], proj4string=CRS("+proj=longlat +datum=NAD27"))
arrow = list("SpatialPolygonsRescale", layout.north.arrow(),
offset = c(-76,34), scale = 0.5, which = 2)
#scale = list("SpatialPolygonsRescale", layout.scale.bar(),
#    offset = c(-77.5,34), scale = 1, fill=c("transparent","black"), which = 2)
#text1 = list("sp.text", c(-77.5,34.15), "0", which = 2)
#text2 = list("sp.text", c(-76.5,34.15), "1 degree", which = 2)
## multi-panel plot with filled polygons: North Carolina SIDS
spplot(nc, c("SID74", "SID79"), names.attr = c("1974","1979"),
colorkey=list(space="bottom"), scales = list(draw = TRUE),
main = "SIDS (sudden infant death syndrome) in North Carolina",
sp.layout = list(arrow), as.table = TRUE)

#    sp.layout = list(arrow, scale, text1, text2), as.table = TRUE)
proc.time() - ptm

user  system elapsed 
2.408   0.064   2.616

It was quick.

Then I did a single plot with my shape:

mapa <- readShapePoly(?Entidades_2013.shp?)
ptm <- proc.time()
spplot(mapa[1]); proc.time() - ptm

user  system elapsed 
87.575   0.786  88.068

Why it take a lot of time? I worked with same shapes in Windows and never took that time.

Hope you can help me,

Regards,
Rolando Valdez


From dwinsemius at comcast.net  Fri Mar 21 08:15:29 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 21 Mar 2014 00:15:29 -0700
Subject: [R-SIG-Mac] Dramatically slow map plotting
In-Reply-To: <B17531CD-6BD2-457B-8E03-94386718813B@gmail.com>
References: <B17531CD-6BD2-457B-8E03-94386718813B@gmail.com>
Message-ID: <40D80A26-291A-47F3-8A6A-148DAFD144BE@comcast.net>


On Mar 20, 2014, at 4:56 PM, Rolando Valdez wrote:

> Hello, 
> 
> Recently, I acquired a MacBook Pro, Core i7, 8 GB ram.


> I Installed the newest R version, 3.0.3 from the web page. The problem is when I?m plotting maps, because is going very, very slow, about 3 or 4 minutes just for a single map, while I?ve done this in a few seconds in Windows with Core i5 and 4 GB ram.
> 
> This is what I have:
> 
> R version 3.0.3 (2014-03-06) -- "Warm Puppy"
> Copyright (C) 2014 The R Foundation for Statistical Computing
> Platform: x86_64-apple-darwin10.8.0 (64-bit)
> 
> [R.app GUI 1.63 (6660) x86_64-apple-darwin10.8.0]
> 
> I found a reproducible example in web and I took time with proc.time()
> 
> ptm <- proc.time()

Most people use system.time and not proc.time.

When you execute proc.time you get something like:

> proc.time()
     user    system   elapsed 
   75.736    33.765 97374.066 

Is that meaningful to you? (It's not to me.)

When I wrap system.time around that set of expressions (inside RStudio on a 6 year-old MacPro) I get:

   user  system elapsed 
  0.065   0.001   0.066 

-- 
David.

> library(sp)
> library(lattice) # required for trellis.par.set():
> trellis.par.set(sp.theme()) # sets color ramp to bpy.colors()
> 
> # prepare nc sids data set:
> library(maptools)
> nc <- readShapePoly(system.file("shapes/sids.shp", package="maptools")[1], proj4string=CRS("+proj=longlat +datum=NAD27"))
> arrow = list("SpatialPolygonsRescale", layout.north.arrow(),
> offset = c(-76,34), scale = 0.5, which = 2)
> #scale = list("SpatialPolygonsRescale", layout.scale.bar(),
> #    offset = c(-77.5,34), scale = 1, fill=c("transparent","black"), which = 2)
> #text1 = list("sp.text", c(-77.5,34.15), "0", which = 2)
> #text2 = list("sp.text", c(-76.5,34.15), "1 degree", which = 2)
> ## multi-panel plot with filled polygons: North Carolina SIDS
> spplot(nc, c("SID74", "SID79"), names.attr = c("1974","1979"),
> colorkey=list(space="bottom"), scales = list(draw = TRUE),
> main = "SIDS (sudden infant death syndrome) in North Carolina",
> sp.layout = list(arrow), as.table = TRUE)
> 
> #    sp.layout = list(arrow, scale, text1, text2), as.table = TRUE)
> proc.time() - ptm
> 
> user  system elapsed 
> 2.408   0.064   2.616
> 
> It was quick.
> 
> Then I did a single plot with my shape:
> 
> mapa <- readShapePoly(?Entidades_2013.shp?)
> ptm <- proc.time()
> spplot(mapa[1]); proc.time() - ptm
> 
> user  system elapsed 
> 87.575   0.786  88.068
> 
> Why it take a lot of time? I worked with same shapes in Windows and never took that time.
> 
> Hope you can help me,
> 
> Regards,
> Rolando Valdez
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From pdalgd at gmail.com  Fri Mar 21 13:04:48 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Fri, 21 Mar 2014 13:04:48 +0100
Subject: [R-SIG-Mac] Dramatically slow map plotting
In-Reply-To: <40D80A26-291A-47F3-8A6A-148DAFD144BE@comcast.net>
References: <B17531CD-6BD2-457B-8E03-94386718813B@gmail.com>
	<40D80A26-291A-47F3-8A6A-148DAFD144BE@comcast.net>
Message-ID: <8972B997-B641-474A-8A76-576904242DBD@gmail.com>


On 21 Mar 2014, at 08:15 , David Winsemius <dwinsemius at comcast.net> wrote:

> 
> On Mar 20, 2014, at 4:56 PM, Rolando Valdez wrote:
> 
>> Hello, 
>> 
>> Recently, I acquired a MacBook Pro, Core i7, 8 GB ram.
> 
> 
>> I Installed the newest R version, 3.0.3 from the web page. The problem is when I?m plotting maps, because is going very, very slow, about 3 or 4 minutes just for a single map, while I?ve done this in a few seconds in Windows with Core i5 and 4 GB ram.
>> 
>> This is what I have:
>> 
>> R version 3.0.3 (2014-03-06) -- "Warm Puppy"
>> Copyright (C) 2014 The R Foundation for Statistical Computing
>> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>> 
>> [R.app GUI 1.63 (6660) x86_64-apple-darwin10.8.0]
>> 
>> I found a reproducible example in web and I took time with proc.time()
>> 
>> ptm <- proc.time()
> 
> Most people use system.time and not proc.time.
> 
> When you execute proc.time you get something like:
> 
>> proc.time()
>     user    system   elapsed 
>   75.736    33.765 97374.066 
> 
> Is that meaningful to you? (It's not to me.)
> 
> When I wrap system.time around that set of expressions (inside RStudio on a 6 year-old MacPro) I get:
> 
>   user  system elapsed 
>  0.065   0.001   0.066 

That'll be because you didn't print() the lattice plots, David. That saves a bundle on graphics I/O...

I get:

> system.time({
+ ptm <- proc.time()
+ library(sp)
+ library(lattice) # required for trellis.par.set():
+ trellis.par.set(sp.theme()) # sets color ramp to bpy.colors()
+ 
+ # prepare nc sids data set:
+ library(maptools)
+ 
+ nc <- readShapePoly(system.file("shapes/sids.shp", package="maptools")[1], proj4string=CRS("+proj=longlat +datum=NAD27"))
+ arrow = list("SpatialPolygonsRescale", layout.north.arrow(),
+              offset = c(-76,34), scale = 0.5, which = 2)
+ #scale = list("SpatialPolygonsRescale", layout.scale.bar(),
+ #    offset = c(-77.5,34), scale = 1, fill=c("transparent","black"), which = 2)
+ #text1 = list("sp.text", c(-77.5,34.15), "0", which = 2)
+ #text2 = list("sp.text", c(-76.5,34.15), "1 degree", which = 2)
+ ## multi-panel plot with filled polygons: North Carolina SIDS
+ print(spplot(nc, c("SID74", "SID79"), names.attr = c("1974","1979"),
+        colorkey=list(space="bottom"), scales = list(draw = TRUE),
+        main = "SIDS (sudden infant death syndrome) in North Carolina",
+        sp.layout = list(arrow), as.table = TRUE))
+ 
+ #    sp.layout = list(arrow, scale, text1, text2), as.table = TRUE)
+ print(proc.time() - ptm)
+ })
   user  system elapsed 
  3.906   0.118   4.166 
   user  system elapsed 
  3.906   0.118   4.167 
> 

However, the thing that is slow for Ronaldo is not reproducible for us since we don't have
?Entidades_2013.shp?.

Peter D.

> 
> -- 
> David.
> 
>> library(sp)
>> library(lattice) # required for trellis.par.set():
>> trellis.par.set(sp.theme()) # sets color ramp to bpy.colors()
>> 
>> # prepare nc sids data set:
>> library(maptools)
>> nc <- readShapePoly(system.file("shapes/sids.shp", package="maptools")[1], proj4string=CRS("+proj=longlat +datum=NAD27"))
>> arrow = list("SpatialPolygonsRescale", layout.north.arrow(),
>> offset = c(-76,34), scale = 0.5, which = 2)
>> #scale = list("SpatialPolygonsRescale", layout.scale.bar(),
>> #    offset = c(-77.5,34), scale = 1, fill=c("transparent","black"), which = 2)
>> #text1 = list("sp.text", c(-77.5,34.15), "0", which = 2)
>> #text2 = list("sp.text", c(-76.5,34.15), "1 degree", which = 2)
>> ## multi-panel plot with filled polygons: North Carolina SIDS
>> spplot(nc, c("SID74", "SID79"), names.attr = c("1974","1979"),
>> colorkey=list(space="bottom"), scales = list(draw = TRUE),
>> main = "SIDS (sudden infant death syndrome) in North Carolina",
>> sp.layout = list(arrow), as.table = TRUE)
>> 
>> #    sp.layout = list(arrow, scale, text1, text2), as.table = TRUE)
>> proc.time() - ptm
>> 
>> user  system elapsed 
>> 2.408   0.064   2.616
>> 
>> It was quick.
>> 
>> Then I did a single plot with my shape:
>> 
>> mapa <- readShapePoly(?Entidades_2013.shp?)
>> ptm <- proc.time()
>> spplot(mapa[1]); proc.time() - ptm
>> 
>> user  system elapsed 
>> 87.575   0.786  88.068
>> 
>> Why it take a lot of time? I worked with same shapes in Windows and never took that time.
>> 
>> Hope you can help me,
>> 
>> Regards,
>> Rolando Valdez
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> David Winsemius
> Alameda, CA, USA
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From rvaldezr at gmail.com  Sun Mar 23 00:11:38 2014
From: rvaldezr at gmail.com (Rolando Valdez)
Date: Sat, 22 Mar 2014 17:11:38 -0600
Subject: [R-SIG-Mac] Dramatically slow map plotting
In-Reply-To: <40D80A26-291A-47F3-8A6A-148DAFD144BE@comcast.net>
References: <B17531CD-6BD2-457B-8E03-94386718813B@gmail.com>
	<40D80A26-291A-47F3-8A6A-148DAFD144BE@comcast.net>
Message-ID: <8E01AD50-16A7-453D-B06D-172A2557880F@gmail.com>


El 21/03/2014, a las 01:15, David Winsemius <dwinsemius at comcast.net> escribi?:

> 
> On Mar 20, 2014, at 4:56 PM, Rolando Valdez wrote:
> 
>> Hello, 
>> 
>> Recently, I acquired a MacBook Pro, Core i7, 8 GB ram.
> 
> 
>> I Installed the newest R version, 3.0.3 from the web page. The problem is when I?m plotting maps, because is going very, very slow, about 3 or 4 minutes just for a single map, while I?ve done this in a few seconds in Windows with Core i5 and 4 GB ram.
>> 
>> This is what I have:
>> 
>> R version 3.0.3 (2014-03-06) -- "Warm Puppy"
>> Copyright (C) 2014 The R Foundation for Statistical Computing
>> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>> 
>> [R.app GUI 1.63 (6660) x86_64-apple-darwin10.8.0]
>> 
>> I found a reproducible example in web and I took time with proc.time()
>> 
>> ptm <- proc.time()
> 
> Most people use system.time and not proc.time.

Most people use Microsoft Windows, so? Is that a reasonable argument to use it?

> When you execute proc.time you get something like:
> 
>> proc.time()
>     user    system   elapsed 
>   75.736    33.765 97374.066 
> 

> Is that meaningful to you? (It's not to me.)

Of course is meaningful to me, It would be meaningful for anybody that have read what means those results.

help(proc.time)

Description

proc.time determines how much real and CPU time (in seconds) the currently running R process has already taken.

Details

proc.time returns five elements for backwards compatibility, but its print method prints a named vector of length 3. The first two entries are the total user and system CPU times of the current Rprocess and any child processes on which it has waited, and the third entry is the ?real? elapsed time since the process was started.

> When I wrap system.time around that set of expressions (inside RStudio on a 6 year-old MacPro) I get:
> 
>   user  system elapsed 
>  0.065   0.001   0.066 
> 
> -- 
> David.
> 
>> library(sp)
>> library(lattice) # required for trellis.par.set():
>> trellis.par.set(sp.theme()) # sets color ramp to bpy.colors()
>> 
>> # prepare nc sids data set:
>> library(maptools)
>> nc <- readShapePoly(system.file("shapes/sids.shp", package="maptools")[1], proj4string=CRS("+proj=longlat +datum=NAD27"))
>> arrow = list("SpatialPolygonsRescale", layout.north.arrow(),
>> offset = c(-76,34), scale = 0.5, which = 2)
>> #scale = list("SpatialPolygonsRescale", layout.scale.bar(),
>> #    offset = c(-77.5,34), scale = 1, fill=c("transparent","black"), which = 2)
>> #text1 = list("sp.text", c(-77.5,34.15), "0", which = 2)
>> #text2 = list("sp.text", c(-76.5,34.15), "1 degree", which = 2)
>> ## multi-panel plot with filled polygons: North Carolina SIDS
>> spplot(nc, c("SID74", "SID79"), names.attr = c("1974","1979"),
>> colorkey=list(space="bottom"), scales = list(draw = TRUE),
>> main = "SIDS (sudden infant death syndrome) in North Carolina",
>> sp.layout = list(arrow), as.table = TRUE)
>> 
>> #    sp.layout = list(arrow, scale, text1, text2), as.table = TRUE)
>> proc.time() - ptm
>> 
>> user  system elapsed 
>> 2.408   0.064   2.616
>> 
>> It was quick.
>> 
>> Then I did a single plot with my shape:
>> 
>> mapa <- readShapePoly(?Entidades_2013.shp?)
>> ptm <- proc.time()
>> spplot(mapa[1]); proc.time() - ptm
>> 
>> user  system elapsed 
>> 87.575   0.786  88.068
>> 
>> Why it take a lot of time? I worked with same shapes in Windows and never took that time.
>> 
>> Hope you can help me,
>> 
>> Regards,
>> Rolando Valdez
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> David Winsemius
> Alameda, CA, USA
> 

Rolando Valdez


From rvaldezr at gmail.com  Sun Mar 23 00:21:19 2014
From: rvaldezr at gmail.com (Rolando Valdez)
Date: Sat, 22 Mar 2014 17:21:19 -0600
Subject: [R-SIG-Mac] Dramatically slow map plotting
In-Reply-To: <8972B997-B641-474A-8A76-576904242DBD@gmail.com>
References: <B17531CD-6BD2-457B-8E03-94386718813B@gmail.com>
	<40D80A26-291A-47F3-8A6A-148DAFD144BE@comcast.net>
	<8972B997-B641-474A-8A76-576904242DBD@gmail.com>
Message-ID: <2A769EF7-95BF-4AFD-8E7C-840D375248C4@gmail.com>

I found a partial solution, I tried with X11(type=?cairo?) and reduced substantially the time plotting

> ptm <- proc.time()
> spplot(map[1]); proc.time() - ptm
   user  system elapsed 
  2.166   0.510   3.604

From 88.08 to 3.6 seconds, but, I got a low quality plot.

I think the Quartz plotting device gives a high quality plots, and that?s why it takes a lot of time.

El 21/03/2014, a las 06:04, peter dalgaard <pdalgd at gmail.com> escribi?:

> 
> On 21 Mar 2014, at 08:15 , David Winsemius <dwinsemius at comcast.net> wrote:
> 
>> 
>> On Mar 20, 2014, at 4:56 PM, Rolando Valdez wrote:
>> 
>>> Hello, 
>>> 
>>> Recently, I acquired a MacBook Pro, Core i7, 8 GB ram.
>> 
>> 
>>> I Installed the newest R version, 3.0.3 from the web page. The problem is when I?m plotting maps, because is going very, very slow, about 3 or 4 minutes just for a single map, while I?ve done this in a few seconds in Windows with Core i5 and 4 GB ram.
>>> 
>>> This is what I have:
>>> 
>>> R version 3.0.3 (2014-03-06) -- "Warm Puppy"
>>> Copyright (C) 2014 The R Foundation for Statistical Computing
>>> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>>> 
>>> [R.app GUI 1.63 (6660) x86_64-apple-darwin10.8.0]
>>> 
>>> I found a reproducible example in web and I took time with proc.time()
>>> 
>>> ptm <- proc.time()
>> 
>> Most people use system.time and not proc.time.
>> 
>> When you execute proc.time you get something like:
>> 
>>> proc.time()
>>    user    system   elapsed 
>>  75.736    33.765 97374.066 
>> 
>> Is that meaningful to you? (It's not to me.)
>> 
>> When I wrap system.time around that set of expressions (inside RStudio on a 6 year-old MacPro) I get:
>> 
>>  user  system elapsed 
>> 0.065   0.001   0.066 
> 
> That'll be because you didn't print() the lattice plots, David. That saves a bundle on graphics I/O...
> 
> I get:
> 
>> system.time({
> + ptm <- proc.time()
> + library(sp)
> + library(lattice) # required for trellis.par.set():
> + trellis.par.set(sp.theme()) # sets color ramp to bpy.colors()
> + 
> + # prepare nc sids data set:
> + library(maptools)
> + 
> + nc <- readShapePoly(system.file("shapes/sids.shp", package="maptools")[1], proj4string=CRS("+proj=longlat +datum=NAD27"))
> + arrow = list("SpatialPolygonsRescale", layout.north.arrow(),
> +              offset = c(-76,34), scale = 0.5, which = 2)
> + #scale = list("SpatialPolygonsRescale", layout.scale.bar(),
> + #    offset = c(-77.5,34), scale = 1, fill=c("transparent","black"), which = 2)
> + #text1 = list("sp.text", c(-77.5,34.15), "0", which = 2)
> + #text2 = list("sp.text", c(-76.5,34.15), "1 degree", which = 2)
> + ## multi-panel plot with filled polygons: North Carolina SIDS
> + print(spplot(nc, c("SID74", "SID79"), names.attr = c("1974","1979"),
> +        colorkey=list(space="bottom"), scales = list(draw = TRUE),
> +        main = "SIDS (sudden infant death syndrome) in North Carolina",
> +        sp.layout = list(arrow), as.table = TRUE))
> + 
> + #    sp.layout = list(arrow, scale, text1, text2), as.table = TRUE)
> + print(proc.time() - ptm)
> + })
>   user  system elapsed 
>  3.906   0.118   4.166 
>   user  system elapsed 
>  3.906   0.118   4.167 
>> 
> 
> However, the thing that is slow for Ronaldo is not reproducible for us since we don't have
> ?Entidades_2013.shp?.
> 
> Peter D.
> 
>> 
>> -- 
>> David.
>> 
>>> library(sp)
>>> library(lattice) # required for trellis.par.set():
>>> trellis.par.set(sp.theme()) # sets color ramp to bpy.colors()
>>> 
>>> # prepare nc sids data set:
>>> library(maptools)
>>> nc <- readShapePoly(system.file("shapes/sids.shp", package="maptools")[1], proj4string=CRS("+proj=longlat +datum=NAD27"))
>>> arrow = list("SpatialPolygonsRescale", layout.north.arrow(),
>>> offset = c(-76,34), scale = 0.5, which = 2)
>>> #scale = list("SpatialPolygonsRescale", layout.scale.bar(),
>>> #    offset = c(-77.5,34), scale = 1, fill=c("transparent","black"), which = 2)
>>> #text1 = list("sp.text", c(-77.5,34.15), "0", which = 2)
>>> #text2 = list("sp.text", c(-76.5,34.15), "1 degree", which = 2)
>>> ## multi-panel plot with filled polygons: North Carolina SIDS
>>> spplot(nc, c("SID74", "SID79"), names.attr = c("1974","1979"),
>>> colorkey=list(space="bottom"), scales = list(draw = TRUE),
>>> main = "SIDS (sudden infant death syndrome) in North Carolina",
>>> sp.layout = list(arrow), as.table = TRUE)
>>> 
>>> #    sp.layout = list(arrow, scale, text1, text2), as.table = TRUE)
>>> proc.time() - ptm
>>> 
>>> user  system elapsed 
>>> 2.408   0.064   2.616
>>> 
>>> It was quick.
>>> 
>>> Then I did a single plot with my shape:
>>> 
>>> mapa <- readShapePoly(?Entidades_2013.shp?)
>>> ptm <- proc.time()
>>> spplot(mapa[1]); proc.time() - ptm
>>> 
>>> user  system elapsed 
>>> 87.575   0.786  88.068
>>> 
>>> Why it take a lot of time? I worked with same shapes in Windows and never took that time.
>>> 
>>> Hope you can help me,
>>> 
>>> Regards,
>>> Rolando Valdez
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> David Winsemius
>> Alameda, CA, USA
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> -- 
> Peter Dalgaard, Professor
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 

Rolando Valdez


From dmck at u.washington.edu  Mon Mar 24 20:35:38 2014
From: dmck at u.washington.edu (Don McKenzie)
Date: Mon, 24 Mar 2014 12:35:38 -0700
Subject: [R-SIG-Mac] [R-sig-mac] Hmisc installed but won't load
Message-ID: <0A56765C-DD83-4F19-95CE-CFC24EE95478@u.washington.edu>

My apologies if this has been addressed recently. Searching the archive and google brought me only to older posts.

I?m not understanding the error message below when I try to load Hmisc. I reinstalled it using the syntax suggested by Simon in an earlier post. I am using the vanilla R GUI ("R 3.0.3 GUI 1.63 Snow Leopard build (6660)?) on OSX 10.9.2.

Thanks in advance.


> install.packages("Hmisc",,"http://cran.r-project.org")
trying URL 'http://cran.r-project.org/bin/macosx/contrib/3.0/Hmisc_3.14-3.tgz'
Content type 'application/x-gzip' length 1555868 bytes (1.5 Mb)
opened URL
==================================================
downloaded 1.5 Mb

The downloaded binary packages are in
	/var/folders/d1/r1hsc_s91pg18v_t23bq27tw0000gn/T//RtmpIPxtRG/downloaded_packages



> library("Hmisc")
Error in gzfile(file, "rb") : cannot open the connection     *****************
In addition: Warning message:
In gzfile(file, "rb") :
  cannot open compressed file '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/latticeExtra/data/Rdata.rdx', probable reason 'No such file or directory'
Error: package or namespace load failed for ?Hmisc?



> installed.packages()
.
.
.
Hmisc         "Hmisc"         "/Library/Frameworks/R.framework/Versions/3.0/Resources/library" "3.14-3?     NA
.
.
.


> sessionInfo()
R version 3.0.3 (2014-03-06)
Platform: x86_64-apple-darwin10.8.0 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] splines   grid      stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] Formula_1.1-1   survival_2.37-7 lattice_0.20-27 lavaan_0.5-15   MASS_7.3-29     plspm_0.4.1     turner_0.1.7    tester_0.1.7    diagram_1.6.2   shape_1.4.1     amap_0.8-12    

loaded via a namespace (and not attached):
[1] mnormt_1.4-7       pbivnorm_0.5-1     quadprog_1.5-5     RColorBrewer_1.0-5 stats4_3.0.3       tools_3.0.3 




Don McKenzie
Research Ecologist
Pacific Wildland Fire Sciences Lab
US Forest Service

Affiliate Professor
School of Environmental and Forest Sciences
University of Washington
dmck at uw.edu


From smckinney at bccrc.ca  Mon Mar 24 21:13:16 2014
From: smckinney at bccrc.ca (Steven McKinney)
Date: Mon, 24 Mar 2014 13:13:16 -0700
Subject: [R-SIG-Mac] [R-sig-mac] Hmisc installed but won't load
In-Reply-To: <0A56765C-DD83-4F19-95CE-CFC24EE95478@u.washington.edu>
References: <0A56765C-DD83-4F19-95CE-CFC24EE95478@u.washington.edu>
Message-ID: <DCE81E14EB74504B971DAD4D2DB0356B0CB926E33F@crcmail4.BCCRC.CA>

The complaint is about a component in package latticeExtra.

Do you have this package installed?

(latticExtra does not show as required when I load Hmisc

> require("Hmisc")
Loading required package: Hmisc
Loading required package: grid
Loading required package: lattice
Loading required package: survival
Loading required package: splines
Loading required package: Formula

but I do see latticeExtra in my installed library directory

  /Library/Frameworks/R.framework/Versions/Current/Resources/library )




Steven McKinney

Statistician
Molecular Oncology and Breast Cancer Program
British Columbia Cancer Research Centre

________________________________________
From: r-sig-mac-bounces at r-project.org [r-sig-mac-bounces at r-project.org] On Behalf Of Don McKenzie [dmck at u.washington.edu]
Sent: March 24, 2014 12:35 PM
To: r-sig-mac at r-project.org
Subject: [R-SIG-Mac] [R-sig-mac] Hmisc installed but won't load

My apologies if this has been addressed recently. Searching the archive and google brought me only to older posts.

I?m not understanding the error message below when I try to load Hmisc. I reinstalled it using the syntax suggested by Simon in an earlier post. I am using the vanilla R GUI ("R 3.0.3 GUI 1.63 Snow Leopard build (6660)?) on OSX 10.9.2.

Thanks in advance.


> install.packages("Hmisc",,"http://cran.r-project.org")
trying URL 'http://cran.r-project.org/bin/macosx/contrib/3.0/Hmisc_3.14-3.tgz'
Content type 'application/x-gzip' length 1555868 bytes (1.5 Mb)
opened URL
==================================================
downloaded 1.5 Mb

The downloaded binary packages are in
        /var/folders/d1/r1hsc_s91pg18v_t23bq27tw0000gn/T//RtmpIPxtRG/downloaded_packages



> library("Hmisc")
Error in gzfile(file, "rb") : cannot open the connection     *****************
In addition: Warning message:
In gzfile(file, "rb") :
  cannot open compressed file '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/latticeExtra/data/Rdata.rdx', probable reason 'No such file or directory'
Error: package or namespace load failed for ?Hmisc?



> installed.packages()
.
.
.
Hmisc         "Hmisc"         "/Library/Frameworks/R.framework/Versions/3.0/Resources/library" "3.14-3?     NA
.
.
.


> sessionInfo()
R version 3.0.3 (2014-03-06)
Platform: x86_64-apple-darwin10.8.0 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] splines   grid      stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
 [1] Formula_1.1-1   survival_2.37-7 lattice_0.20-27 lavaan_0.5-15   MASS_7.3-29     plspm_0.4.1     turner_0.1.7    tester_0.1.7    diagram_1.6.2   shape_1.4.1     amap_0.8-12

loaded via a namespace (and not attached):
[1] mnormt_1.4-7       pbivnorm_0.5-1     quadprog_1.5-5     RColorBrewer_1.0-5 stats4_3.0.3       tools_3.0.3




Don McKenzie
Research Ecologist
Pacific Wildland Fire Sciences Lab
US Forest Service

Affiliate Professor
School of Environmental and Forest Sciences
University of Washington
dmck at uw.edu

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dmck at u.washington.edu  Mon Mar 24 21:23:02 2014
From: dmck at u.washington.edu (Don McKenzie)
Date: Mon, 24 Mar 2014 13:23:02 -0700
Subject: [R-SIG-Mac] [R-sig-mac] Hmisc installed but won't load
In-Reply-To: <DCE81E14EB74504B971DAD4D2DB0356B0CB926E33F@crcmail4.BCCRC.CA>
References: <0A56765C-DD83-4F19-95CE-CFC24EE95478@u.washington.edu>
	<DCE81E14EB74504B971DAD4D2DB0356B0CB926E33F@crcmail4.BCCRC.CA>
Message-ID: <E5D68A65-2687-4A11-8E8B-B6965859D02F@u.washington.edu>

The plot thickens. I do indeed have latticeExtra installed, but observe. Is it turtles on down?? (and yes I have lattice installed too)

> library("latticeExtra")
Loading required package: RColorBrewer
Loading required package: lattice
Error in gzfile(file, "rb") : cannot open the connection
In addition: Warning messages:
1: '.find.package' is deprecated.
Use 'find.package' instead.
See help("Deprecated") 
2: In gzfile(file, "rb") :
  cannot open compressed file '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/latticeExtra/data/Rdata.rdx', probable reason 'No such file or directory'
Error: package or namespace load failed for ?latticeExtra?

Thanks for your response Steve.  Ideas?

Don


On Mar 24, 2014, at 1:13 PM, Steven McKinney <smckinney at bccrc.ca> wrote:

> The complaint is about a component in package latticeExtra.
> 
> Do you have this package installed?
> 
> (latticExtra does not show as required when I load Hmisc
> 
>> require("Hmisc")
> Loading required package: Hmisc
> Loading required package: grid
> Loading required package: lattice
> Loading required package: survival
> Loading required package: splines
> Loading required package: Formula
> 
> but I do see latticeExtra in my installed library directory
> 
>  /Library/Frameworks/R.framework/Versions/Current/Resources/library )
> 
> 
> 
> 
> Steven McKinney
> 
> Statistician
> Molecular Oncology and Breast Cancer Program
> British Columbia Cancer Research Centre
> 
> ________________________________________
> From: r-sig-mac-bounces at r-project.org [r-sig-mac-bounces at r-project.org] On Behalf Of Don McKenzie [dmck at u.washington.edu]
> Sent: March 24, 2014 12:35 PM
> To: r-sig-mac at r-project.org
> Subject: [R-SIG-Mac] [R-sig-mac] Hmisc installed but won't load
> 
> My apologies if this has been addressed recently. Searching the archive and google brought me only to older posts.
> 
> I?m not understanding the error message below when I try to load Hmisc. I reinstalled it using the syntax suggested by Simon in an earlier post. I am using the vanilla R GUI ("R 3.0.3 GUI 1.63 Snow Leopard build (6660)?) on OSX 10.9.2.
> 
> Thanks in advance.
> 
> 
>> install.packages("Hmisc",,"http://cran.r-project.org")
> trying URL 'http://cran.r-project.org/bin/macosx/contrib/3.0/Hmisc_3.14-3.tgz'
> Content type 'application/x-gzip' length 1555868 bytes (1.5 Mb)
> opened URL
> ==================================================
> downloaded 1.5 Mb
> 
> The downloaded binary packages are in
>        /var/folders/d1/r1hsc_s91pg18v_t23bq27tw0000gn/T//RtmpIPxtRG/downloaded_packages
> 
> 
> 
>> library("Hmisc")
> Error in gzfile(file, "rb") : cannot open the connection     *****************
> In addition: Warning message:
> In gzfile(file, "rb") :
>  cannot open compressed file '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/latticeExtra/data/Rdata.rdx', probable reason 'No such file or directory'
> Error: package or namespace load failed for ?Hmisc?
> 
> 
> 
>> installed.packages()
> .
> .
> .
> Hmisc         "Hmisc"         "/Library/Frameworks/R.framework/Versions/3.0/Resources/library" "3.14-3?     NA
> .
> .
> .
> 
> 
>> sessionInfo()
> R version 3.0.3 (2014-03-06)
> Platform: x86_64-apple-darwin10.8.0 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] splines   grid      stats     graphics  grDevices utils     datasets  methods   base
> 
> other attached packages:
> [1] Formula_1.1-1   survival_2.37-7 lattice_0.20-27 lavaan_0.5-15   MASS_7.3-29     plspm_0.4.1     turner_0.1.7    tester_0.1.7    diagram_1.6.2   shape_1.4.1     amap_0.8-12
> 
> loaded via a namespace (and not attached):
> [1] mnormt_1.4-7       pbivnorm_0.5-1     quadprog_1.5-5     RColorBrewer_1.0-5 stats4_3.0.3       tools_3.0.3
> 
> 
> 
> 
> Don McKenzie
> Research Ecologist
> Pacific Wildland Fire Sciences Lab
> US Forest Service
> 
> Affiliate Professor
> School of Environmental and Forest Sciences
> University of Washington
> dmck at uw.edu
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

Don McKenzie
Research Ecologist
Pacific Wildland Fire Sciences Lab
US Forest Service

Affiliate Professor
School of Environmental and Forest Sciences
University of Washington
dmck at uw.edu


From bhh at xs4all.nl  Mon Mar 24 21:42:07 2014
From: bhh at xs4all.nl (Berend Hasselman)
Date: Mon, 24 Mar 2014 21:42:07 +0100
Subject: [R-SIG-Mac] [R-sig-mac] Hmisc installed but won't load
In-Reply-To: <E5D68A65-2687-4A11-8E8B-B6965859D02F@u.washington.edu>
References: <0A56765C-DD83-4F19-95CE-CFC24EE95478@u.washington.edu>
	<DCE81E14EB74504B971DAD4D2DB0356B0CB926E33F@crcmail4.BCCRC.CA>
	<E5D68A65-2687-4A11-8E8B-B6965859D02F@u.washington.edu>
Message-ID: <BD05EA5A-6C05-4160-B6F0-582D8640FF6B@xs4all.nl>


On 24-03-2014, at 21:23, Don McKenzie <dmck at u.washington.edu> wrote:

> The plot thickens. I do indeed have latticeExtra installed, but observe. Is it turtles on down?? (and yes I have lattice installed too)
> 
>> library("latticeExtra")
> Loading required package: RColorBrewer
> Loading required package: lattice
> Error in gzfile(file, "rb") : cannot open the connection
> In addition: Warning messages:
> 1: '.find.package' is deprecated.
> Use 'find.package' instead.
> See help("Deprecated") 
> 2: In gzfile(file, "rb") :
>  cannot open compressed file '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/latticeExtra/data/Rdata.rdx', probable reason 'No such file or directory'
> Error: package or namespace load failed for ?latticeExtra?
> 
> Thanks for your response Steve.  Ideas?
> 

Possible an outdated version of latticeExtra and/or lattice?
Maybe do an update.packages?

I just tried library(latticeExtra) with R-3.0.3 on OS X 1.9.2 in R.app and it loaded without any warning messages.

Berend

From smckinney at bccrc.ca  Mon Mar 24 21:49:13 2014
From: smckinney at bccrc.ca (Steven McKinney)
Date: Mon, 24 Mar 2014 13:49:13 -0700
Subject: [R-SIG-Mac] [R-sig-mac] Hmisc installed but won't load
In-Reply-To: <BD05EA5A-6C05-4160-B6F0-582D8640FF6B@xs4all.nl>
References: <0A56765C-DD83-4F19-95CE-CFC24EE95478@u.washington.edu>
	<DCE81E14EB74504B971DAD4D2DB0356B0CB926E33F@crcmail4.BCCRC.CA>
	<E5D68A65-2687-4A11-8E8B-B6965859D02F@u.washington.edu>,
	<BD05EA5A-6C05-4160-B6F0-582D8640FF6B@xs4all.nl>
Message-ID: <DCE81E14EB74504B971DAD4D2DB0356B0CB926E342@crcmail4.BCCRC.CA>


I'm showing latticeExtra 0.6-26

You could check in "Package Manager" or "Package Installer" if you have 
the R.app GUI available, to see what version you have, or look in
the DESCRIPTION file in 

   /Library/Frameworks/R.framework/Versions/Current/Resources/library/latticeExtra

and update as Berend suggests if you have older.


> require("latticeExtra")
Loading required package: latticeExtra
Loading required package: RColorBrewer
> sessionInfo()
R version 3.0.3 (2014-03-06)
Platform: x86_64-apple-darwin10.8.0 (64-bit)

locale:
[1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8

attached base packages:
[1] splines   grid      stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] latticeExtra_0.6-26 RColorBrewer_1.0-5  Hmisc_3.14-3        Formula_1.1-1      
[5] survival_2.37-7     lattice_0.20-27     MOutils_1.5        

loaded via a namespace (and not attached):
[1] cluster_1.15.0 tools_3.0.3   
> 

Steven McKinney


________________________________________
From: r-sig-mac-bounces at r-project.org [r-sig-mac-bounces at r-project.org] On Behalf Of Berend Hasselman [bhh at xs4all.nl]
Sent: March 24, 2014 1:42 PM
To: Don McKenzie
Cc: r-sig-mac at r-project.org
Subject: Re: [R-SIG-Mac] [R-sig-mac] Hmisc installed but won't load

On 24-03-2014, at 21:23, Don McKenzie <dmck at u.washington.edu> wrote:

> The plot thickens. I do indeed have latticeExtra installed, but observe. Is it turtles on down?? (and yes I have lattice installed too)
>
>> library("latticeExtra")
> Loading required package: RColorBrewer
> Loading required package: lattice
> Error in gzfile(file, "rb") : cannot open the connection
> In addition: Warning messages:
> 1: '.find.package' is deprecated.
> Use 'find.package' instead.
> See help("Deprecated")
> 2: In gzfile(file, "rb") :
>  cannot open compressed file '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/latticeExtra/data/Rdata.rdx', probable reason 'No such file or directory'
> Error: package or namespace load failed for ?latticeExtra?
>
> Thanks for your response Steve.  Ideas?
>

Possible an outdated version of latticeExtra and/or lattice?
Maybe do an update.packages?

I just tried library(latticeExtra) with R-3.0.3 on OS X 1.9.2 in R.app and it loaded without any warning messages.

Berend
_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dwinsemius at comcast.net  Mon Mar 24 21:58:28 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 24 Mar 2014 13:58:28 -0700
Subject: [R-SIG-Mac] [R-sig-mac] Hmisc installed but won't load
In-Reply-To: <E5D68A65-2687-4A11-8E8B-B6965859D02F@u.washington.edu>
References: <0A56765C-DD83-4F19-95CE-CFC24EE95478@u.washington.edu>
	<DCE81E14EB74504B971DAD4D2DB0356B0CB926E33F@crcmail4.BCCRC.CA>
	<E5D68A65-2687-4A11-8E8B-B6965859D02F@u.washington.edu>
Message-ID: <726C9097-F593-48C5-8B27-C9E0EAF66C0A@comcast.net>


On Mar 24, 2014, at 1:23 PM, Don McKenzie wrote:

> The plot thickens. I do indeed have latticeExtra installed, but observe. Is it turtles on down?? (and yes I have lattice installed too)
> 
>> library("latticeExtra")
> Loading required package: RColorBrewer
> Loading required package: lattice
> Error in gzfile(file, "rb") : cannot open the connection
> In addition: Warning messages:
> 1: '.find.package' is deprecated.
> Use 'find.package' instead.
> See help("Deprecated") 
> 2: In gzfile(file, "rb") :
>  cannot open compressed file '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/latticeExtra/data/Rdata.rdx', probable reason 'No such file or directory'
> Error: package or namespace load failed for ?latticeExtra?
> 
> Thanks for your response Steve.  Ideas?

I would trash your .Rdata image, restart R, and try again.

 (I just updated to that version of Hmisc  and also updated rms, lattice and latticeExtra and I'm having no trouble loading rms and Hmisc, which I load in my .Rprofile at startup.)

You should post output from sessionInfo() and .libPaths(). My prior problems with keeping all packages up to date has lead me to use only one library directory.

-- 
David.
> 
> Don
> 
> 
> On Mar 24, 2014, at 1:13 PM, Steven McKinney <smckinney at bccrc.ca> wrote:
> 
>> The complaint is about a component in package latticeExtra.
>> 
>> Do you have this package installed?
>> 
>> (latticExtra does not show as required when I load Hmisc
>> 
>>> require("Hmisc")
>> Loading required package: Hmisc
>> Loading required package: grid
>> Loading required package: lattice
>> Loading required package: survival
>> Loading required package: splines
>> Loading required package: Formula
>> 
>> but I do see latticeExtra in my installed library directory
>> 
>> /Library/Frameworks/R.framework/Versions/Current/Resources/library )
>> 
>> 
>> 
>> 
>> Steven McKinney
>> 
>> Statistician
>> Molecular Oncology and Breast Cancer Program
>> British Columbia Cancer Research Centre
>> 
>> ________________________________________
>> From: r-sig-mac-bounces at r-project.org [r-sig-mac-bounces at r-project.org] On Behalf Of Don McKenzie [dmck at u.washington.edu]
>> Sent: March 24, 2014 12:35 PM
>> To: r-sig-mac at r-project.org
>> Subject: [R-SIG-Mac] [R-sig-mac] Hmisc installed but won't load
>> 
>> My apologies if this has been addressed recently. Searching the archive and google brought me only to older posts.
>> 
>> I?m not understanding the error message below when I try to load Hmisc. I reinstalled it using the syntax suggested by Simon in an earlier post. I am using the vanilla R GUI ("R 3.0.3 GUI 1.63 Snow Leopard build (6660)?) on OSX 10.9.2.
>> 
>> Thanks in advance.
>> 
>> 
>>> install.packages("Hmisc",,"http://cran.r-project.org")
>> trying URL 'http://cran.r-project.org/bin/macosx/contrib/3.0/Hmisc_3.14-3.tgz'
>> Content type 'application/x-gzip' length 1555868 bytes (1.5 Mb)
>> opened URL
>> ==================================================
>> downloaded 1.5 Mb
>> 
>> The downloaded binary packages are in
>>       /var/folders/d1/r1hsc_s91pg18v_t23bq27tw0000gn/T//RtmpIPxtRG/downloaded_packages
>> 
>> 
>> 
>>> library("Hmisc")
>> Error in gzfile(file, "rb") : cannot open the connection     *****************
>> In addition: Warning message:
>> In gzfile(file, "rb") :
>> cannot open compressed file '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/latticeExtra/data/Rdata.rdx', probable reason 'No such file or directory'
>> Error: package or namespace load failed for ?Hmisc?
>> 
>> 
>> 
>>> installed.packages()
>> .
>> .
>> .
>> Hmisc         "Hmisc"         "/Library/Frameworks/R.framework/Versions/3.0/Resources/library" "3.14-3?     NA
>> .
>> .
>> .
>> 
>> 
>>> sessionInfo()
>> R version 3.0.3 (2014-03-06)
>> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>> 
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] splines   grid      stats     graphics  grDevices utils     datasets  methods   base
>> 
>> other attached packages:
>> [1] Formula_1.1-1   survival_2.37-7 lattice_0.20-27 lavaan_0.5-15   MASS_7.3-29     plspm_0.4.1     turner_0.1.7    tester_0.1.7    diagram_1.6.2   shape_1.4.1     amap_0.8-12
>> 
>> loaded via a namespace (and not attached):
>> [1] mnormt_1.4-7       pbivnorm_0.5-1     quadprog_1.5-5     RColorBrewer_1.0-5 stats4_3.0.3       tools_3.0.3
>> 
>> 
>> 
>> 
>> Don McKenzie
>> Research Ecologist
>> Pacific Wildland Fire Sciences Lab
>> US Forest Service
>> 
>> Affiliate Professor
>> School of Environmental and Forest Sciences
>> University of Washington
>> dmck at uw.edu
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> Don McKenzie
> Research Ecologist
> Pacific Wildland Fire Sciences Lab
> US Forest Service
> 
> Affiliate Professor
> School of Environmental and Forest Sciences
> University of Washington
> dmck at uw.edu
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From dmck at u.washington.edu  Mon Mar 24 23:18:56 2014
From: dmck at u.washington.edu (Don McKenzie)
Date: Mon, 24 Mar 2014 15:18:56 -0700
Subject: [R-SIG-Mac] [R-sig-mac] Hmisc installed but won't load
In-Reply-To: <726C9097-F593-48C5-8B27-C9E0EAF66C0A@comcast.net>
References: <0A56765C-DD83-4F19-95CE-CFC24EE95478@u.washington.edu>
	<DCE81E14EB74504B971DAD4D2DB0356B0CB926E33F@crcmail4.BCCRC.CA>
	<E5D68A65-2687-4A11-8E8B-B6965859D02F@u.washington.edu>
	<726C9097-F593-48C5-8B27-C9E0EAF66C0A@comcast.net>
Message-ID: <4BF86563-137E-4637-B278-25E067ED43C3@u.washington.edu>

Thanks David, Steven, and Berend.  Good things to try.

Don

On Mar 24, 2014, at 1:58 PM, David Winsemius <dwinsemius at comcast.net> wrote:

> 
> On Mar 24, 2014, at 1:23 PM, Don McKenzie wrote:
> 
>> The plot thickens. I do indeed have latticeExtra installed, but observe. Is it turtles on down?? (and yes I have lattice installed too)
>> 
>>> library("latticeExtra")
>> Loading required package: RColorBrewer
>> Loading required package: lattice
>> Error in gzfile(file, "rb") : cannot open the connection
>> In addition: Warning messages:
>> 1: '.find.package' is deprecated.
>> Use 'find.package' instead.
>> See help("Deprecated") 
>> 2: In gzfile(file, "rb") :
>> cannot open compressed file '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/latticeExtra/data/Rdata.rdx', probable reason 'No such file or directory'
>> Error: package or namespace load failed for ?latticeExtra?
>> 
>> Thanks for your response Steve.  Ideas?
> 
> I would trash your .Rdata image, restart R, and try again.
> 
> (I just updated to that version of Hmisc  and also updated rms, lattice and latticeExtra and I'm having no trouble loading rms and Hmisc, which I load in my .Rprofile at startup.)
> 
> You should post output from sessionInfo() and .libPaths(). My prior problems with keeping all packages up to date has lead me to use only one library directory.
> 
> -- 
> David.
>> 
>> Don
>> 
>> 
>> On Mar 24, 2014, at 1:13 PM, Steven McKinney <smckinney at bccrc.ca> wrote:
>> 
>>> The complaint is about a component in package latticeExtra.
>>> 
>>> Do you have this package installed?
>>> 
>>> (latticExtra does not show as required when I load Hmisc
>>> 
>>>> require("Hmisc")
>>> Loading required package: Hmisc
>>> Loading required package: grid
>>> Loading required package: lattice
>>> Loading required package: survival
>>> Loading required package: splines
>>> Loading required package: Formula
>>> 
>>> but I do see latticeExtra in my installed library directory
>>> 
>>> /Library/Frameworks/R.framework/Versions/Current/Resources/library )
>>> 
>>> 
>>> 
>>> 
>>> Steven McKinney
>>> 
>>> Statistician
>>> Molecular Oncology and Breast Cancer Program
>>> British Columbia Cancer Research Centre
>>> 
>>> ________________________________________
>>> From: r-sig-mac-bounces at r-project.org [r-sig-mac-bounces at r-project.org] On Behalf Of Don McKenzie [dmck at u.washington.edu]
>>> Sent: March 24, 2014 12:35 PM
>>> To: r-sig-mac at r-project.org
>>> Subject: [R-SIG-Mac] [R-sig-mac] Hmisc installed but won't load
>>> 
>>> My apologies if this has been addressed recently. Searching the archive and google brought me only to older posts.
>>> 
>>> I?m not understanding the error message below when I try to load Hmisc. I reinstalled it using the syntax suggested by Simon in an earlier post. I am using the vanilla R GUI ("R 3.0.3 GUI 1.63 Snow Leopard build (6660)?) on OSX 10.9.2.
>>> 
>>> Thanks in advance.
>>> 
>>> 
>>>> install.packages("Hmisc",,"http://cran.r-project.org")
>>> trying URL 'http://cran.r-project.org/bin/macosx/contrib/3.0/Hmisc_3.14-3.tgz'
>>> Content type 'application/x-gzip' length 1555868 bytes (1.5 Mb)
>>> opened URL
>>> ==================================================
>>> downloaded 1.5 Mb
>>> 
>>> The downloaded binary packages are in
>>>      /var/folders/d1/r1hsc_s91pg18v_t23bq27tw0000gn/T//RtmpIPxtRG/downloaded_packages
>>> 
>>> 
>>> 
>>>> library("Hmisc")
>>> Error in gzfile(file, "rb") : cannot open the connection     *****************
>>> In addition: Warning message:
>>> In gzfile(file, "rb") :
>>> cannot open compressed file '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/latticeExtra/data/Rdata.rdx', probable reason 'No such file or directory'
>>> Error: package or namespace load failed for ?Hmisc?
>>> 
>>> 
>>> 
>>>> installed.packages()
>>> .
>>> .
>>> .
>>> Hmisc         "Hmisc"         "/Library/Frameworks/R.framework/Versions/3.0/Resources/library" "3.14-3?     NA
>>> .
>>> .
>>> .
>>> 
>>> 
>>>> sessionInfo()
>>> R version 3.0.3 (2014-03-06)
>>> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>>> 
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>> 
>>> attached base packages:
>>> [1] splines   grid      stats     graphics  grDevices utils     datasets  methods   base
>>> 
>>> other attached packages:
>>> [1] Formula_1.1-1   survival_2.37-7 lattice_0.20-27 lavaan_0.5-15   MASS_7.3-29     plspm_0.4.1     turner_0.1.7    tester_0.1.7    diagram_1.6.2   shape_1.4.1     amap_0.8-12
>>> 
>>> loaded via a namespace (and not attached):
>>> [1] mnormt_1.4-7       pbivnorm_0.5-1     quadprog_1.5-5     RColorBrewer_1.0-5 stats4_3.0.3       tools_3.0.3
>>> 
>>> 
>>> 
>>> 
>>> Don McKenzie
>>> Research Ecologist
>>> Pacific Wildland Fire Sciences Lab
>>> US Forest Service
>>> 
>>> Affiliate Professor
>>> School of Environmental and Forest Sciences
>>> University of Washington
>>> dmck at uw.edu
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> Don McKenzie
>> Research Ecologist
>> Pacific Wildland Fire Sciences Lab
>> US Forest Service
>> 
>> Affiliate Professor
>> School of Environmental and Forest Sciences
>> University of Washington
>> dmck at uw.edu
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> David Winsemius
> Alameda, CA, USA
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

Don McKenzie
Research Ecologist
Pacific Wildland Fire Sciences Lab
US Forest Service

Affiliate Professor 
School of Environmental and Forest Sciences 
University of Washington 
 
dmck at uw.edu


From rmh at temple.edu  Fri Mar 28 15:54:11 2014
From: rmh at temple.edu (Richard M. Heiberger)
Date: Fri, 28 Mar 2014 10:54:11 -0400
Subject: [R-SIG-Mac] upgrade to Mavericks
Message-ID: <CAGx1TMBfeW+QswMcADb2yUhH9hkZCi1xVNJ6iDskHqZt27gwsA@mail.gmail.com>

Apple has been popping an offer for a free upgrade to Mavericks.
(I currently have OS X Lion10.7.5 on an 8GB MacBook Air).
Other than this offer from Apple, I have no dissatisfaction with the Mac
for my use pattern.

There has been much comment on this list about the difficulties of
compiling R with Mac.
I am not planning to compile R.

Are there any remaining issues with using R on the Mac that should make
we want to not upgrade?  Or is Mavericks now stable enough that upgrading
would make sense.

Thanks
Rich


From jfox at mcmaster.ca  Fri Mar 28 16:45:22 2014
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 28 Mar 2014 11:45:22 -0400
Subject: [R-SIG-Mac] upgrade to Mavericks
In-Reply-To: <CAGx1TMBfeW+QswMcADb2yUhH9hkZCi1xVNJ6iDskHqZt27gwsA@mail.gmail.com>
References: <CAGx1TMBfeW+QswMcADb2yUhH9hkZCi1xVNJ6iDskHqZt27gwsA@mail.gmail.com>
Message-ID: <002601cf4a9c$bb372260$31a56720$@mcmaster.ca>

Dear Rich,

Unless there's been some change, there is a potential issue using tcltk
because of Mavericks's more aggressive power-saving, which may cause your
Mac to go into "nap" mode when the R.app window isn't visible. There are a
couple of ways to get around this problem -- see the Rcmdr installation
notes for Mac OS X at
<http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation-notes.html>
-- and it shouldn't prevent you from using Mavericks.

I hope this helps,
 John

> -----Original Message-----
> From: r-sig-mac-bounces at r-project.org [mailto:r-sig-mac-bounces at r-
> project.org] On Behalf Of Richard M. Heiberger
> Sent: Friday, March 28, 2014 10:54 AM
> To: r-sig-mac at r-project.org
> Subject: [R-SIG-Mac] upgrade to Mavericks
> 
> Apple has been popping an offer for a free upgrade to Mavericks.
> (I currently have OS X Lion10.7.5 on an 8GB MacBook Air).
> Other than this offer from Apple, I have no dissatisfaction with the
> Mac
> for my use pattern.
> 
> There has been much comment on this list about the difficulties of
> compiling R with Mac.
> I am not planning to compile R.
> 
> Are there any remaining issues with using R on the Mac that should make
> we want to not upgrade?  Or is Mavericks now stable enough that
> upgrading
> would make sense.
> 
> Thanks
> Rich
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From tomhopper at gmail.com  Fri Mar 28 17:06:02 2014
From: tomhopper at gmail.com (Tom Hopper)
Date: Fri, 28 Mar 2014 17:06:02 +0100
Subject: [R-SIG-Mac] upgrade to Mavericks
In-Reply-To: <CAGx1TMBfeW+QswMcADb2yUhH9hkZCi1xVNJ6iDskHqZt27gwsA@mail.gmail.com>
References: <CAGx1TMBfeW+QswMcADb2yUhH9hkZCi1xVNJ6iDskHqZt27gwsA@mail.gmail.com>
Message-ID: <CAJ_8u++T=hWmN6izAEMHwCPqbFWMtuf2ibV3rsViZQ4v_8mfUA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140328/4cdd8573/attachment.pl>

From pdalgd at gmail.com  Fri Mar 28 17:17:21 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Fri, 28 Mar 2014 17:17:21 +0100
Subject: [R-SIG-Mac] upgrade to Mavericks
In-Reply-To: <CAGx1TMBfeW+QswMcADb2yUhH9hkZCi1xVNJ6iDskHqZt27gwsA@mail.gmail.com>
References: <CAGx1TMBfeW+QswMcADb2yUhH9hkZCi1xVNJ6iDskHqZt27gwsA@mail.gmail.com>
Message-ID: <C64C651D-856A-48E1-AEDA-808E852D4B68@gmail.com>


On 28 Mar 2014, at 15:54 , Richard M. Heiberger <rmh at temple.edu> wrote:

> Apple has been popping an offer for a free upgrade to Mavericks.
> (I currently have OS X Lion10.7.5 on an 8GB MacBook Air).
> Other than this offer from Apple, I have no dissatisfaction with the Mac
> for my use pattern.
> 
> There has been much comment on this list about the difficulties of
> compiling R with Mac.
> I am not planning to compile R.
> 
> Are there any remaining issues with using R on the Mac that should make
> we want to not upgrade?  Or is Mavericks now stable enough that upgrading
> would make sense.

If I hadn't already done it, I'd wait until they get the Mail app sorted out. There are issues that are quite annoying if you're dealing with Exchange and Gmail backends. There's said to be improvements in 10.9.3, which has been right around the corner for more than a month. (Before that, it was in 10.9.2 beta with a release right around the corner, but then there was the emergency security fix.)

-- 
Peter Dalgaard, Professor
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


