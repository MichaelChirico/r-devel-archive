From chabotd at globetrotter.net  Tue May  1 22:04:27 2007
From: chabotd at globetrotter.net (Chabot Denis)
Date: Tue, 01 May 2007 16:04:27 -0400
Subject: [R-SIG-Mac] quartz.save and tilde
In-Reply-To: <mailman.21.1177668009.20473.r-sig-mac@stat.math.ethz.ch>
References: <mailman.21.1177668009.20473.r-sig-mac@stat.math.ethz.ch>
Message-ID: <4104F9F4-9A20-4346-AEB3-0858FE3D467A@globetrotter.net>

Hi,

Until now, I've been able to use the tilde to replace "/Users/ 
chabotd" in all my R scripts, be it directly or with the use of "paste".

I am experimenting with quartz.save to produce png files to save the  
step of producing pdf and transforming them into png later. I need  
png to reduce file size for a series plots with thousands of points,  
even though I prefer vector drawings for most situations.

I have not been able to find any documentation on quartz.save, but if  
I include the tilde in the file name, something that works with pdf  
or png devices, it does not work (for me) with quartz.save. I need to  
give the unabridged path.

Is there a reason for this?

Also, what are the options in quartz.save? I've only managed to use  
file="path and file"  and type="png" or type="pdf". I've tried to  
control resolution (res=300) but it had no effect, so for now I  
change the size of the quartz graphics when I call quartz (which  
forces me to change pointsize as well to keep proportions of text  
relative to drawing size the same.

Thanks in advance,

Denis


From simon.urbanek at r-project.org  Tue May  1 23:12:26 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 1 May 2007 17:12:26 -0400
Subject: [R-SIG-Mac] quartz.save and tilde
In-Reply-To: <4104F9F4-9A20-4346-AEB3-0858FE3D467A@globetrotter.net>
References: <mailman.21.1177668009.20473.r-sig-mac@stat.math.ethz.ch>
	<4104F9F4-9A20-4346-AEB3-0858FE3D467A@globetrotter.net>
Message-ID: <57C3612D-CD6A-4299-8E72-E434147B68AE@r-project.org>

DEnis,


On May 1, 2007, at 4:04 PM, Chabot Denis wrote:

> Until now, I've been able to use the tilde to replace "/Users/ 
> chabotd" in all my R scripts, be it directly or with the use of  
> "paste".
>
> I am experimenting with quartz.save to produce png files to save  
> the step of producing pdf and transforming them into png later. I  
> need png to reduce file size for a series plots with thousands of  
> points, even though I prefer vector drawings for most situations.
>
> I have not been able to find any documentation on quartz.save, but  
> if I include the tilde in the file name, something that works with  
> pdf or png devices, it does not work (for me) with quartz.save. I  
> need to give the unabridged path.
>
> Is there a reason for this?
>

Yes, the tilde is not expanded. Why is it not expanded? Because the  
author didn't think of it ;). It's fixed now.


> Also, what are the options in quartz.save? I've only managed to use  
> file="path and file"  and type="png" or type="pdf". I've tried to  
> control resolution (res=300) but it had no effect, so for now I  
> change the size of the quartz graphics when I call quartz (which  
> forces me to change pointsize as well to keep proportions of text  
> relative to drawing size the same.
>

file, type and device are the only options of quartz.save and the  
purpose is to save the image "as-is", directly from the Quartz  
window, so res doesn't make sense here (it would no longer be a  
direct snapshot of the window). I guess it would be possible to do  
what you described, though (Quartz->PDF->PNG of any resolution). I'll  
see if there is an easy way to do that ...

Cheers,
Simon


From chabotd at globetrotter.net  Tue May  1 23:57:51 2007
From: chabotd at globetrotter.net (Chabot Denis)
Date: Tue, 01 May 2007 17:57:51 -0400
Subject: [R-SIG-Mac] quartz.save and tilde
In-Reply-To: <57C3612D-CD6A-4299-8E72-E434147B68AE@r-project.org>
References: <mailman.21.1177668009.20473.r-sig-mac@stat.math.ethz.ch>
	<4104F9F4-9A20-4346-AEB3-0858FE3D467A@globetrotter.net>
	<57C3612D-CD6A-4299-8E72-E434147B68AE@r-project.org>
Message-ID: <399AAAE7-2911-4552-8966-91426D9B1FDD@globetrotter.net>

Hi Simon,

Thanks for the answer and the fix for the tilde. I did not realize it  
was up to you, I thought if R understood tilde, everything else  
having to do with R would. I was wrong.

As for the res question, actually increasing the size of the quartz  
window and controlling pointsize accordingly has proven a good enough  
solution. Certainly it is much easier than to take a quartz plot and  
try to imitate it in all details using the png device.

Denis
Le 07-05-01 ? 17:12, Simon Urbanek a ?crit :

> DEnis,
>
>
> On May 1, 2007, at 4:04 PM, Chabot Denis wrote:
>
>> Until now, I've been able to use the tilde to replace "/Users/ 
>> chabotd" in all my R scripts, be it directly or with the use of  
>> "paste".
>>
>> I am experimenting with quartz.save to produce png files to save  
>> the step of producing pdf and transforming them into png later. I  
>> need png to reduce file size for a series plots with thousands of  
>> points, even though I prefer vector drawings for most situations.
>>
>> I have not been able to find any documentation on quartz.save, but  
>> if I include the tilde in the file name, something that works with  
>> pdf or png devices, it does not work (for me) with quartz.save. I  
>> need to give the unabridged path.
>>
>> Is there a reason for this?
>>
>
> Yes, the tilde is not expanded. Why is it not expanded? Because the  
> author didn't think of it ;). It's fixed now.
>
>
>> Also, what are the options in quartz.save? I've only managed to  
>> use file="path and file"  and type="png" or type="pdf". I've tried  
>> to control resolution (res=300) but it had no effect, so for now I  
>> change the size of the quartz graphics when I call quartz (which  
>> forces me to change pointsize as well to keep proportions of text  
>> relative to drawing size the same.
>>
>
> file, type and device are the only options of quartz.save and the  
> purpose is to save the image "as-is", directly from the Quartz  
> window, so res doesn't make sense here (it would no longer be a  
> direct snapshot of the window). I guess it would be possible to do  
> what you described, though (Quartz->PDF->PNG of any resolution).  
> I'll see if there is an easy way to do that ...
>
> Cheers,
> Simon
>
>


From h.wickham at gmail.com  Wed May  2 08:37:03 2007
From: h.wickham at gmail.com (hadley wickham)
Date: Wed, 2 May 2007 08:37:03 +0200
Subject: [R-SIG-Mac] quartz.save and tilde
In-Reply-To: <57C3612D-CD6A-4299-8E72-E434147B68AE@r-project.org>
References: <mailman.21.1177668009.20473.r-sig-mac@stat.math.ethz.ch>
	<4104F9F4-9A20-4346-AEB3-0858FE3D467A@globetrotter.net>
	<57C3612D-CD6A-4299-8E72-E434147B68AE@r-project.org>
Message-ID: <f8e6ff050705012337p3baf4947k64369045ba816554@mail.gmail.com>

On 5/1/07, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> DEnis,
>
>
> On May 1, 2007, at 4:04 PM, Chabot Denis wrote:
>
> > Until now, I've been able to use the tilde to replace "/Users/
> > chabotd" in all my R scripts, be it directly or with the use of
> > "paste".
> >
> > I am experimenting with quartz.save to produce png files to save
> > the step of producing pdf and transforming them into png later. I
> > need png to reduce file size for a series plots with thousands of
> > points, even though I prefer vector drawings for most situations.
> >
> > I have not been able to find any documentation on quartz.save, but
> > if I include the tilde in the file name, something that works with
> > pdf or png devices, it does not work (for me) with quartz.save. I
> > need to give the unabridged path.
> >
> > Is there a reason for this?
> >
>
> Yes, the tilde is not expanded. Why is it not expanded? Because the
> author didn't think of it ;). It's fixed now.
>
>
> > Also, what are the options in quartz.save? I've only managed to use
> > file="path and file"  and type="png" or type="pdf". I've tried to
> > control resolution (res=300) but it had no effect, so for now I
> > change the size of the quartz graphics when I call quartz (which
> > forces me to change pointsize as well to keep proportions of text
> > relative to drawing size the same.
> >
>
> file, type and device are the only options of quartz.save and the
> purpose is to save the image "as-is", directly from the Quartz
> window, so res doesn't make sense here (it would no longer be a
> direct snapshot of the window). I guess it would be possible to do
> what you described, though (Quartz->PDF->PNG of any resolution). I'll
> see if there is an easy way to do that ...

http://216.239.59.104/search?q=cache:v4LvusDGdqQJ:www.pycs.net/bbum/2005/3/4/+pdf2png&hl=en&ct=clnk&cd=3&client=safari

might give you some ideas - having a native quartz png output device
would be fantastic.

Hadley


From simon.urbanek at r-project.org  Wed May  2 15:56:04 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 2 May 2007 09:56:04 -0400
Subject: [R-SIG-Mac] quartz.save and tilde
In-Reply-To: <f8e6ff050705012337p3baf4947k64369045ba816554@mail.gmail.com>
References: <mailman.21.1177668009.20473.r-sig-mac@stat.math.ethz.ch>
	<4104F9F4-9A20-4346-AEB3-0858FE3D467A@globetrotter.net>
	<57C3612D-CD6A-4299-8E72-E434147B68AE@r-project.org>
	<f8e6ff050705012337p3baf4947k64369045ba816554@mail.gmail.com>
Message-ID: <B303CFA7-41B7-41F6-8544-003DF845E899@r-project.org>


On May 2, 2007, at 2:37 AM, hadley wickham wrote:

> On 5/1/07, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> DEnis,
>>
>>
>> On May 1, 2007, at 4:04 PM, Chabot Denis wrote:
>>
>> > Until now, I've been able to use the tilde to replace "/Users/
>> > chabotd" in all my R scripts, be it directly or with the use of
>> > "paste".
>> >
>> > I am experimenting with quartz.save to produce png files to save
>> > the step of producing pdf and transforming them into png later. I
>> > need png to reduce file size for a series plots with thousands of
>> > points, even though I prefer vector drawings for most situations.
>> >
>> > I have not been able to find any documentation on quartz.save, but
>> > if I include the tilde in the file name, something that works with
>> > pdf or png devices, it does not work (for me) with quartz.save. I
>> > need to give the unabridged path.
>> >
>> > Is there a reason for this?
>> >
>>
>> Yes, the tilde is not expanded. Why is it not expanded? Because the
>> author didn't think of it ;). It's fixed now.
>>
>>
>> > Also, what are the options in quartz.save? I've only managed to use
>> > file="path and file"  and type="png" or type="pdf". I've tried to
>> > control resolution (res=300) but it had no effect, so for now I
>> > change the size of the quartz graphics when I call quartz (which
>> > forces me to change pointsize as well to keep proportions of text
>> > relative to drawing size the same.
>> >
>>
>> file, type and device are the only options of quartz.save and the
>> purpose is to save the image "as-is", directly from the Quartz
>> window, so res doesn't make sense here (it would no longer be a
>> direct snapshot of the window). I guess it would be possible to do
>> what you described, though (Quartz->PDF->PNG of any resolution). I'll
>> see if there is an easy way to do that ...
>
> http://216.239.59.104/search?q=cache:v4LvusDGdqQJ:www.pycs.net/bbum/ 
> 2005/3/4/+pdf2png&hl=en&ct=clnk&cd=3&client=safari
>
> might give you some ideas

It does basically the same as quartz.save(type="png") - you get a 1:1  
result with the screen resolution. What Denis suggested is a control  
over the dpi of the png so that you can create a png that is actually  
far bigger than the window itself and yet WYSIWYG. This is not as  
easy, because the Quartz PNG dump works by using the screen  
resolution, so we need some off-screen PDF rendering to an  
arbitrarily sized PNG ...

> - having a native quartz png output device would be fantastic.
>

We have that already ;).

Cheers,
Simon


From smckinney at bccrc.ca  Thu May  3 02:41:47 2007
From: smckinney at bccrc.ca (Steven McKinney)
Date: Wed, 2 May 2007 17:41:47 -0700
Subject: [R-SIG-Mac] focus lost after install.packages()
Message-ID: <0BE438149FF2254DB4199E2682C8DFEB0235FC02@crcmail1.BCCRC.CA>


> install.packages()

works beautifully from the R.app GUI,
popping up a menu list of packages
to install.  After installing, 
focus does not return to the R prompt.

Could this be modified to return focus to the
R.app prompt after package installation?

(Many thanks to Simon Urbanek and all for
 making R 2.5.0 and Bioconductor materials
 available for the Mac so quickly.)


> sessionInfo()
R version 2.5.0 (2007-04-23) 
powerpc-apple-darwin8.9.1 

locale:
en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8

attached base packages:
[1] "tools"     "stats"     "graphics"  "grDevices" "utils"     "datasets"  "methods"   "base"     

other attached packages:
    affy   affyio  Biobase 
"1.14.0"  "1.4.0" "1.14.0" 



Best

Steven McKinney

Statistician
Molecular Oncology and Breast Cancer Program
British Columbia Cancer Research Centre

email: smckinney at bccrc.ca

tel: 604-675-8000 x7561

BCCRC
Molecular Oncology
675 West 10th Ave, Floor 4
Vancouver B.C. 
V5Z 1L3
Canada


From chabotd at globetrotter.net  Fri May  4 00:49:27 2007
From: chabotd at globetrotter.net (Chabot Denis)
Date: Thu, 03 May 2007 18:49:27 -0400
Subject: [R-SIG-Mac] new quartz windows show up when R.app in background
In-Reply-To: <mailman.21.1177668009.20473.r-sig-mac@stat.math.ethz.ch>
References: <mailman.21.1177668009.20473.r-sig-mac@stat.math.ethz.ch>
Message-ID: <6B60740B-93C9-476B-BD5A-0B7C1F39F4F7@globetrotter.net>

Hi,

I sometimes use Sweave to combine analyses and a large number of  
plots into a document. Executing the Sweave job sometimes take a  
while and I switch to another app and keep working.

Usually my many plots are done with pdf device and all is well. But  
for this particular one, I'm making them with quartz and quartz.save  
to get png files.

However each time R reaches a part of my script where a quartz  
graphic is created, the quartz window comes on top of the application  
I'm using (say Mail) and then goes behind.

I never had the occasion of getting new windows created by a  
background application other than R, so maybe this is absolutely  
normal behavior, but I'm asking in case something can be done to stop  
it: is it absolutely necessary for new quartz windows to pop up  
disturbingly in front of active apps if R is not the active application?

Maybe I could avoid this behavior by not creating a new quartz window  
each time, but my plots are not all of the same size so it is easier  
to start each one in a new window.

Cheers,

Denis


From fn211 at cam.ac.uk  Fri May  4 14:46:02 2007
From: fn211 at cam.ac.uk (Florian Nigsch)
Date: Fri, 4 May 2007 13:46:02 +0100
Subject: [R-SIG-Mac] NSLayoutManager Exception
Message-ID: <013279EF-09EF-4582-ADC5-9528CC7160A4@cam.ac.uk>

Hi,

I repeatedly come across this problem on my machine (iMac G5, 1GB  
memory, Mac OS X 10.4.9), R 2.5.0, RGUI 1.10 build 4308:

When editing a script in the editor, after hitting the "Enter" key  
the editor does not respond to any changes made to the script.  
Anything typed in is still in the script, but the screen is not  
updated any more, so one can't see what one types. Minimising and re- 
maximising the window doesn't help either - that's how I worked  
around that bug in an earlier version of the GUI.

The main window reports the following:

2007-05-04 13:28:20.107 R[3841] Exception raised during posting of  
notification.  Ignored.  exception: -[NSLayoutManager  
_fillGlyphHoleAtIndex:desiredNumberOfCharacters:] *** attempted glyph  
generation while textStorage is editing.  It is not valid to cause  
the layoutManager to do glyph generation while the textStorage is  
editing (ie the textStorage has been sent a beginEditing message  
without a matching endEditing.)

Hope this is of any use,

Best,

Florian


From fn211 at cam.ac.uk  Fri May  4 14:51:35 2007
From: fn211 at cam.ac.uk (Florian Nigsch)
Date: Fri, 4 May 2007 13:51:35 +0100
Subject: [R-SIG-Mac] NSLayoutManager Exception (more info)
Message-ID: <0015242D-49EB-49FE-9037-6372CDCC9499@cam.ac.uk>

Hi,

I repeatedly come across this problem on my machine (iMac G5, 1GB  
memory, Mac OS X 10.4.9), R 2.5.0, RGUI 1.10 build 4308:

Just found out that it's very easy to reproduce that problem:

1) Open the editor to write a new script.
2) Type an opening curly brace { (the closing one should be  
automatically inserted).
3) Hit Enter.
4) Open another curly brace. -> Error.

2007-05-04 13:50:48.854 R[3841] Exception raised during posting of  
notification.  Ignored.  exception: -[NSLayoutManager  
_fillGlyphHoleAtIndex:desiredNumberOfCharacters:] *** attempted glyph  
generation while textStorage is editing.  It is not valid to cause  
the layoutManager to do glyph generation while the textStorage is  
editing (ie the textStorage has been sent a beginEditing message  
without a matching endEditing.)

Best,

Florian


From laura.tim at gmail.com  Fri May  4 20:27:04 2007
From: laura.tim at gmail.com (Laura Tim)
Date: Fri, 4 May 2007 20:27:04 +0200
Subject: [R-SIG-Mac] Package load problems Mac
Message-ID: <8b8f3caa0705041127k3f9895dek53afb717ecebc320@mail.gmail.com>

Good day

I seem to be having the same problem as others regarding the package
load problem on Mac. I tried the quick fix of installing the gcc4.0.3
but that didn't work.

I tried to connect to the R.research.att.com site using the package
installer in the gui but I get an error

Warning: unable to access index for repository
http://R.research.att.com/bin/macosx/universal/contrib/2.4

I have been unable to load the quadprog package, and can't get hold of
a newer version. Are there any suggestions?

Regards
Laura


From smckinney at bccrc.ca  Sat May  5 04:02:09 2007
From: smckinney at bccrc.ca (Steven McKinney)
Date: Fri, 4 May 2007 19:02:09 -0700
Subject: [R-SIG-Mac] Determine GUI status
Message-ID: <0BE438149FF2254DB4199E2682C8DFEB0235FC12@crcmail1.BCCRC.CA>


Is there a way to programatically
check whether the R session is
running with R.app (versus, say
running in Emacs ESS mode in an
Emacs buffer)?

I'd like to programatically decide on
appropriate plot devices etc.

I've checked Sys.info() and related functions
but I'm not noticing R.app info in
any returned fields.  Either I missed
something or I haven't found the right
function call yet. 

Any info appreciated.


Best

Steven McKinney

Statistician
Molecular Oncology and Breast Cancer Program
British Columbia Cancer Research Centre

email: smckinney at bccrc.ca

tel: 604-675-8000 x7561

BCCRC
Molecular Oncology
675 West 10th Ave, Floor 4
Vancouver B.C. 
V5Z 1L3
Canada


From byron.ellis at gmail.com  Sat May  5 08:05:05 2007
From: byron.ellis at gmail.com (Byron Ellis)
Date: Fri, 4 May 2007 23:05:05 -0700
Subject: [R-SIG-Mac] Determine GUI status
In-Reply-To: <0BE438149FF2254DB4199E2682C8DFEB0235FC12@crcmail1.BCCRC.CA>
References: <0BE438149FF2254DB4199E2682C8DFEB0235FC12@crcmail1.BCCRC.CA>
Message-ID: <7098abec0705042305o55f94727x397d1a83ea378b23@mail.gmail.com>

Yes. When you're running R as an Emacs slave process (via ESS for
example), Emacs will set an environment variable EMACS=t that you can
test with Sys.getenv(). To detect a Terminal versus R.app, the
Terminal application will generally set the TERM and TERM_PROGRAM
environment variables, which are generally not set under R.app. This
breaks down if the user starts the R GUI from the command line, but
there (at least under Tiger+) you'll find that an environment variable
"_" has been set that is not present in either the normal Terminal
startup or the normal R.app startup.

On 5/4/07, Steven McKinney <smckinney at bccrc.ca> wrote:
>
> Is there a way to programatically
> check whether the R session is
> running with R.app (versus, say
> running in Emacs ESS mode in an
> Emacs buffer)?
>
> I'd like to programatically decide on
> appropriate plot devices etc.
>
> I've checked Sys.info() and related functions
> but I'm not noticing R.app info in
> any returned fields.  Either I missed
> something or I haven't found the right
> function call yet.
>
> Any info appreciated.
>
>
> Best
>
> Steven McKinney
>
> Statistician
> Molecular Oncology and Breast Cancer Program
> British Columbia Cancer Research Centre
>
> email: smckinney at bccrc.ca
>
> tel: 604-675-8000 x7561
>
> BCCRC
> Molecular Oncology
> 675 West 10th Ave, Floor 4
> Vancouver B.C.
> V5Z 1L3
> Canada
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Byron Ellis (byron.ellis at gmail.com)
"Oook" -- The Librarian


From stefano.iacus at unimi.it  Sat May  5 09:41:29 2007
From: stefano.iacus at unimi.it (stefano iacus)
Date: Sat, 05 May 2007 09:41:29 +0200
Subject: [R-SIG-Mac] Determine GUI status
In-Reply-To: <0BE438149FF2254DB4199E2682C8DFEB0235FC12@crcmail1.BCCRC.CA>
References: <0BE438149FF2254DB4199E2682C8DFEB0235FC12@crcmail1.BCCRC.CA>
Message-ID: <8266C2C8-9BFC-429F-A7D2-C87BF467A37F@unimi.it>

check for .Platform$GUI=="AQUA"

stefano

On 05/mag/07, at 04:02, Steven McKinney wrote:

>
> Is there a way to programatically
> check whether the R session is
> running with R.app (versus, say
> running in Emacs ESS mode in an
> Emacs buffer)?
>
> I'd like to programatically decide on
> appropriate plot devices etc.
>
> I've checked Sys.info() and related functions
> but I'm not noticing R.app info in
> any returned fields.  Either I missed
> something or I haven't found the right
> function call yet.
>
> Any info appreciated.
>
>
> Best
>
> Steven McKinney
>
> Statistician
> Molecular Oncology and Breast Cancer Program
> British Columbia Cancer Research Centre
>
> email: smckinney at bccrc.ca
>
> tel: 604-675-8000 x7561
>
> BCCRC
> Molecular Oncology
> 675 West 10th Ave, Floor 4
> Vancouver B.C.
> V5Z 1L3
> Canada
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From kknoblauch at free.fr  Sat May  5 11:42:49 2007
From: kknoblauch at free.fr (Ken Knoblauch)
Date: Sat, 5 May 2007 11:42:49 +0200
Subject: [R-SIG-Mac] install packages problem
Message-ID: <02719268-894F-4803-829B-1AAE7FAE62C6@free.fr>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070505/0cfc3476/attachment.pl 

From karl.goiser at anu.edu.au  Sun May  6 09:31:37 2007
From: karl.goiser at anu.edu.au (Karl Goiser)
Date: Sun, 6 May 2007 17:31:37 +1000
Subject: [R-SIG-Mac] YA Mac 64 bit Question
Message-ID: <DCA486C3-8E2E-4075-B27E-733D4AE234DC@anu.edu.au>

Hello,

I am trying to get a 64 version of R running on my Mac Pro (like  
several others, it seems).  It seems there are two options, 10.4 and  
10.5:

http://r.research.att.com/exp/ says to install Xcode [tick] and GNU  
Fortran [tick], get the R source (from CRAN, I assume, e.g. http:// 
cran.au.r-project.org/src/base/R-2/R-2.5.0.tar.gz) [tick], and  
configure with a suggested command line:

./configure CC='gcc -arch x86_64' CXX='g++ -arch x86_64'  
F77='gfortran -arch x86_64' FC='gfortran -arch x86_64' --with-blas='- 
framework vecLib' --with-lapack --without-x --with-system-zlib -- 
build=x86_64-apple-darwin8.8.1 --without-readline


Tiger:

When I run it (without r_arch=x86_64) I get an error:
configure: error: --with-iconv=yes (default) and suitable iconv is  
not available

What is this and how do I address it?


Leopard:
When I run the same configure as per the web site, I get a different  
error:

./configure: line 61328: test: =: unary operator expected

If I then go on to 'make', I get the following:
ld64: warning: option -headerpad_max_install_names is obsolete and  
being ignored
ld64-72 failed: duplicate symbol _Rf_mkChar in CommandLineArgs.o and  
CConverters.o


So, no luck with either version of the OS.


Could somebody assist me with these problems?  I am sorry in that I  
am not knowledgeable with all this installation of packages and the  
like..


Thanks in advance,

Karl


From byron.ellis at gmail.com  Sun May  6 09:45:51 2007
From: byron.ellis at gmail.com (Byron Ellis)
Date: Sun, 6 May 2007 00:45:51 -0700
Subject: [R-SIG-Mac] YA Mac 64 bit Question
In-Reply-To: <DCA486C3-8E2E-4075-B27E-733D4AE234DC@anu.edu.au>
References: <DCA486C3-8E2E-4075-B27E-733D4AE234DC@anu.edu.au>
Message-ID: <7098abec0705060045p2e0e119dtab2a80ee0bf2a4e0@mail.gmail.com>

The second problem is due to a problem with inline functions--Simon
probably knows how to get the right thing to happen, but I usually
just take the brute force method of deactivating inline functions by
hand.

On 5/6/07, Karl Goiser <karl.goiser at anu.edu.au> wrote:
> Hello,
>
> I am trying to get a 64 version of R running on my Mac Pro (like
> several others, it seems).  It seems there are two options, 10.4 and
> 10.5:
>
> http://r.research.att.com/exp/ says to install Xcode [tick] and GNU
> Fortran [tick], get the R source (from CRAN, I assume, e.g. http://
> cran.au.r-project.org/src/base/R-2/R-2.5.0.tar.gz) [tick], and
> configure with a suggested command line:
>
> ./configure CC='gcc -arch x86_64' CXX='g++ -arch x86_64'
> F77='gfortran -arch x86_64' FC='gfortran -arch x86_64' --with-blas='-
> framework vecLib' --with-lapack --without-x --with-system-zlib --
> build=x86_64-apple-darwin8.8.1 --without-readline
>
>
> Tiger:
>
> When I run it (without r_arch=x86_64) I get an error:
> configure: error: --with-iconv=yes (default) and suitable iconv is
> not available
>
> What is this and how do I address it?
>
>
> Leopard:
> When I run the same configure as per the web site, I get a different
> error:
>
> ./configure: line 61328: test: =: unary operator expected
>
> If I then go on to 'make', I get the following:
> ld64: warning: option -headerpad_max_install_names is obsolete and
> being ignored
> ld64-72 failed: duplicate symbol _Rf_mkChar in CommandLineArgs.o and
> CConverters.o
>
>
> So, no luck with either version of the OS.
>
>
> Could somebody assist me with these problems?  I am sorry in that I
> am not knowledgeable with all this installation of packages and the
> like..
>
>
> Thanks in advance,
>
> Karl
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Byron Ellis (byron.ellis at gmail.com)
"Oook" -- The Librarian


From simon.urbanek at r-project.org  Sun May  6 16:51:32 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 6 May 2007 10:51:32 -0400
Subject: [R-SIG-Mac] Determine GUI status
In-Reply-To: <0BE438149FF2254DB4199E2682C8DFEB0235FC12@crcmail1.BCCRC.CA>
References: <0BE438149FF2254DB4199E2682C8DFEB0235FC12@crcmail1.BCCRC.CA>
Message-ID: <989B269F-FAE9-478A-858B-99B347590432@r-project.org>


On May 4, 2007, at 10:02 PM, Steven McKinney wrote:

>
> Is there a way to programatically
> check whether the R session is
> running with R.app (versus, say
> running in Emacs ESS mode in an
> Emacs buffer)?
>

try
if (nchar(Sys.getenv("R_GUI_APP_VERSION")))

R.app will always set R_GUI_APP_VERSION to the version of the GUI.



> I'd like to programatically decide on
> appropriate plot devices etc.
>
> I've checked Sys.info() and related functions
> but I'm not noticing R.app info in
> any returned fields.

R.app is just an application embedding R, but Sys.info comes from R  
itself, so it cannot reflect the status of the R.app.


>   Either I missed something or I haven't found the right function  
> call yet.
>

There is currently no documented function for this, but I'll add  
something ... (BTW an indirect check is also "tools:RGUI" %in% search 
() but that is not guaranteed to not go away)

Cheers,
Simon

PS: .Platform$GUI=="AQUA" is not limited to R.app, it includes other  
Mac GUIs as well, but is also a good estimate

> Any info appreciated.
>
>
> Best
>
> Steven McKinney
>
> Statistician
> Molecular Oncology and Breast Cancer Program
> British Columbia Cancer Research Centre
>
> email: smckinney at bccrc.ca
>
> tel: 604-675-8000 x7561
>
> BCCRC
> Molecular Oncology
> 675 West 10th Ave, Floor 4
> Vancouver B.C.
> V5Z 1L3
> Canada
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Sun May  6 18:35:28 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 6 May 2007 12:35:28 -0400
Subject: [R-SIG-Mac] YA Mac 64 bit Question
In-Reply-To: <DCA486C3-8E2E-4075-B27E-733D4AE234DC@anu.edu.au>
References: <DCA486C3-8E2E-4075-B27E-733D4AE234DC@anu.edu.au>
Message-ID: <BC84A043-8F6B-4A6C-AC37-F859BEDC828B@r-project.org>

Karl,

On May 6, 2007, at 3:31 AM, Karl Goiser wrote:

> Hello,
>
> I am trying to get a 64 version of R running on my Mac Pro (like
> several others, it seems).  I

You can try this:

curl http://r.research.att.com/R-25-br-quad.tar.gz -O
tar fvxz R-25-br-quad.tar.gz -C /

It is a quad-arch framework (including 64-bit x86). To run the 64-bit  
version, use
/Library/Frameworks/R.framework/Resources/bin/R64

If you want to use X11, you'll need 64-bit client in /usr/local/X11R7  
(I used Xorg).


> t seems there are two options, 10.4 and
> 10.5:
>
> http://r.research.att.com/exp/ says to install Xcode [tick] and GNU
> Fortran [tick], get the R source (from CRAN, I assume, e.g. http://
> cran.au.r-project.org/src/base/R-2/R-2.5.0.tar.gz) [tick], and
> configure with a suggested command line:
>
> ./configure CC='gcc -arch x86_64' CXX='g++ -arch x86_64'
> F77='gfortran -arch x86_64' FC='gfortran -arch x86_64' --with-blas='-
> framework vecLib' --with-lapack --without-x --with-system-zlib --
> build=x86_64-apple-darwin8.8.1 --without-readline
>
>
> Tiger:
>
> When I run it (without r_arch=x86_64) I get an error:
> configure: error: --with-iconv=yes (default) and suitable iconv is
> not available
>
> What is this and how do I address it?
>

There are two possibilities:
1) use --without-iconv (untested)
2) get 64-bit iconv:
   a) compile it from Apple's sources
     or
   b)
curl http://r.research.att.com/libiconv.2.dylib -o /tmp/libiconv. 
2.dylib \
&& sudo cp /tmp/libiconv.2.dylib /usr/lib/libiconv.2.dylib

It is strange, because Xcode SDK contains 64-bit stub for iconv, but  
the system library is 32-bit only.

>
> Leopard:
> When I run the same configure as per the web site, I get a different
> error:
>
> ./configure: line 61328: test: =: unary operator expected
>
> If I then go on to 'make', I get the following:
> ld64: warning: option -headerpad_max_install_names is obsolete and
> being ignored
> ld64-72 failed: duplicate symbol _Rf_mkChar in CommandLineArgs.o and
> CConverters.o
>

I'm not sure I can comment on this using a public mailing list, so  
all I'll say is that the hot fix is to apply this patch to src/ 
include/Rinternals.h:

Index: Rinternals.h
===================================================================
--- Rinternals.h        (revision 41454)
+++ Rinternals.h        (working copy)
@@ -926,7 +926,7 @@
#define warningcall_immediate  Rf_warningcall_immediate
#endif
-#if defined(CALLED_FROM_DEFN_H) && !defined(__MAIN__) && (defined 
(COMPILING_R) || ( __GNUC__ && !defined(__INTEL_COMPILER) ))
+#if defined(CALLED_FROM_DEFN_H) && !defined(__MAIN__) && (defined 
(COMPILING_R) || ( __GNUC__ && !defined(__INTEL_COMPILER) &&  
(__APPLE_CC__ < 5400) ))
#include "Rinlinedfuns.h"
#else
/* need remapped names here for use with R_NO_REMAP */

I didn't test this in 2.5 yet, but I think you get the idea.

Cheers,
Simon


From karl.goiser at anu.edu.au  Mon May  7 14:27:44 2007
From: karl.goiser at anu.edu.au (Karl Goiser)
Date: Mon, 7 May 2007 22:27:44 +1000
Subject: [R-SIG-Mac] YA Mac 64 bit Question
In-Reply-To: <BC84A043-8F6B-4A6C-AC37-F859BEDC828B@r-project.org>
References: <DCA486C3-8E2E-4075-B27E-733D4AE234DC@anu.edu.au>
	<BC84A043-8F6B-4A6C-AC37-F859BEDC828B@r-project.org>
Message-ID: <6EECF09B-EDD8-4AB0-9E9E-B98D19FE6544@anu.edu.au>

Thank you Simon.

I'll give your suggestions a go!

Karl


On 07/05/2007, at 2:35 AM, Simon Urbanek wrote:

> Karl,
>
> On May 6, 2007, at 3:31 AM, Karl Goiser wrote:
>
>> Hello,
>>
>> I am trying to get a 64 version of R running on my Mac Pro (like
>> several others, it seems).  I
>
> You can try this:
>
> curl http://r.research.att.com/R-25-br-quad.tar.gz -O
> tar fvxz R-25-br-quad.tar.gz -C /
>
> It is a quad-arch framework (including 64-bit x86). To run the 64- 
> bit version, use
> /Library/Frameworks/R.framework/Resources/bin/R64
>
> If you want to use X11, you'll need 64-bit client in /usr/local/ 
> X11R7 (I used Xorg).
>
>
>> t seems there are two options, 10.4 and
>> 10.5:
>>
>> http://r.research.att.com/exp/ says to install Xcode [tick] and GNU
>> Fortran [tick], get the R source (from CRAN, I assume, e.g. http://
>> cran.au.r-project.org/src/base/R-2/R-2.5.0.tar.gz) [tick], and
>> configure with a suggested command line:
>>
>> ./configure CC='gcc -arch x86_64' CXX='g++ -arch x86_64'
>> F77='gfortran -arch x86_64' FC='gfortran -arch x86_64' --with-blas='-
>> framework vecLib' --with-lapack --without-x --with-system-zlib --
>> build=x86_64-apple-darwin8.8.1 --without-readline
>>
>>
>> Tiger:
>>
>> When I run it (without r_arch=x86_64) I get an error:
>> configure: error: --with-iconv=yes (default) and suitable iconv is
>> not available
>>
>> What is this and how do I address it?
>>
>
> There are two possibilities:
> 1) use --without-iconv (untested)
> 2) get 64-bit iconv:
>   a) compile it from Apple's sources
>     or
>   b)
> curl http://r.research.att.com/libiconv.2.dylib -o /tmp/libiconv. 
> 2.dylib \
> && sudo cp /tmp/libiconv.2.dylib /usr/lib/libiconv.2.dylib
>
> It is strange, because Xcode SDK contains 64-bit stub for iconv,  
> but the system library is 32-bit only.
>
>>
>> Leopard:
>> When I run the same configure as per the web site, I get a different
>> error:
>>
>> ./configure: line 61328: test: =: unary operator expected
>>
>> If I then go on to 'make', I get the following:
>> ld64: warning: option -headerpad_max_install_names is obsolete and
>> being ignored
>> ld64-72 failed: duplicate symbol _Rf_mkChar in CommandLineArgs.o and
>> CConverters.o
>>
>
> I'm not sure I can comment on this using a public mailing list, so  
> all I'll say is that the hot fix is to apply this patch to src/ 
> include/Rinternals.h:
>
> Index: Rinternals.h
> ===================================================================
> --- Rinternals.h        (revision 41454)
> +++ Rinternals.h        (working copy)
> @@ -926,7 +926,7 @@
> #define warningcall_immediate  Rf_warningcall_immediate
> #endif
> -#if defined(CALLED_FROM_DEFN_H) && !defined(__MAIN__) && (defined 
> (COMPILING_R) || ( __GNUC__ && !defined(__INTEL_COMPILER) ))
> +#if defined(CALLED_FROM_DEFN_H) && !defined(__MAIN__) && (defined 
> (COMPILING_R) || ( __GNUC__ && !defined(__INTEL_COMPILER) &&  
> (__APPLE_CC__ < 5400) ))
> #include "Rinlinedfuns.h"
> #else
> /* need remapped names here for use with R_NO_REMAP */
>
> I didn't test this in 2.5 yet, but I think you get the idea.
>
> Cheers,
> Simon
>
>


From goedman at mac.com  Tue May  8 16:51:35 2007
From: goedman at mac.com (Rob J Goedman)
Date: Tue, 8 May 2007 07:51:35 -0700
Subject: [R-SIG-Mac] focus lost after install.packages()
In-Reply-To: <0BE438149FF2254DB4199E2682C8DFEB0235FC02@crcmail1.BCCRC.CA>
References: <0BE438149FF2254DB4199E2682C8DFEB0235FC02@crcmail1.BCCRC.CA>
Message-ID: <13F7F5C9-2C43-4F3E-9FF3-252456E0472F@mac.com>

Hi,

Version 4330 of the GUI at http://r.research.att.com/ contains some  
fixes for below kind of issues:

>> install.packages()
>
> After installing, focus does not return to the R prompt.

>>> 1) If I type e.g. '?mean' the help window appears. Fine. I type  
>>> APPLE
>>> +W to close it (or with the mouse). It closes.
>>> But: If I want to type my next command, I cannot because the  
>>> focus is
>>> not set to the R.app console. (Maybe this could be implemented?)

>> Although I can't reproduce it now, I have often seen this dialog  
>> reappear

> The strange behavior of older versions or R.app where windows that
> have been closed and therefore should no longer be listed in the
> Windows menu but somehow sometimes remain listed, is still there.

***Not*** solved:

> A short addition:
> If you search for 'Hurz' by using the R console's help input box
> (upper right one), you get the dialog. If you press ENTER for
> accepting 'NO' the focus is somewhere. Now you can press APPLE+1,
> APPLE+2, APPLE+3, APPLE+<  ... nothing happens. You have to press TAB
> for going back to the console. (!?)

Haven't figured out what's happening here. Even if it finds help, say  
for mean, focus is lost. For now TAB will have to do.

If you don't use svn + Xcode, you can either download the GUI for  
2.6.0 (if that's the R version you're using) or R-2.5-branch- 
xxxxx.dmg from Simon's page above to get an updated version of R.app.

Regards,
Rob


From sebastiendurand at videotron.ca  Wed May  9 21:42:37 2007
From: sebastiendurand at videotron.ca (Sebastien Durand)
Date: Wed, 09 May 2007 15:42:37 -0400
Subject: [R-SIG-Mac] Building packages 4 Windows with macbook pro
Message-ID: <p06230902c267cde4b60c@[192.168.2.3]>

Hello to all,

I am a package developper and I would like to 
know what is the best way to build package 
binaries for both Windows and Mac installation of 
R, using a macbook pro?

The command I am presently using to create and build my packages binaries is :

"R CMD BUILD ~/foo"  -> This produce foo.tar.gz 
which cannot be used in a windows installation of 
R.

I would be very pleased if you could enligthen me

Sebastien
-- 
Dans le Ssu Ma Fa on lit: "Celui qui place la vie 
au dessus de toute chose sera paralys? par 
l'irr?solution"


From simon.urbanek at r-project.org  Wed May  9 22:44:51 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 9 May 2007 16:44:51 -0400
Subject: [R-SIG-Mac] RGUI 1.19: closing help window problem;
	Auto-Pair, auto-completion suggestions
In-Reply-To: <79EE675D-8D5A-4AF6-A7F3-DF4EC7497B6E@eva.mpg.de>
References: <79EE675D-8D5A-4AF6-A7F3-DF4EC7497B6E@eva.mpg.de>
Message-ID: <319FF0A1-36E1-481A-A4F6-7CB14E8D86EC@r-project.org>


On Apr 27, 2007, at 4:01 AM, Hans-Joerg Bibiko wrote:

> I just installed RGUI 1.19. It is really well done! Thanks a lot!
>
> I have three tiny things:
>
> 1) If I type e.g. '?mean' the help window appears. Fine. I type APPLE
> +W to close it (or with the mouse). It closes.
> But: If I want to type my next command, I cannot because the focus is
> not set to the R.app console. (Maybe this could be implemented?)
> OK. I press APPLE+` to select the R.app console BUT now the help
> window appears again!
> If I use the mouse clicking into the console it works well. But I'm
> usually a keyboard user.
>
> I'm using R 2.5.0 (2007-04-23) GUI 1.19 (4308) on Mac G5 10.4.9 PPC
>

There is a general problem involving closing windows. We can't find  
the underlying problem (somewhere deep in Cocoa's document management  
infrastructure), so we have a few hacks in place, but they only  
curing the symptoms and not all possible variations. The GUI 2.0 will  
hopefully provide a solution ...


> 2) Auto-Pair: I mean if I type 'matrix(' RGUI adds the closing  
> parathesis automatically. This is very helpful. It also works for  
> '[', '{'.
> My suggestion is to add this functionality also to ' and ". It is  
> often the case that I forget a closing ' in commands like source  
> ('file, chdir=T).
>

It is not as easy. With brackets they have distinct beginning and  
ending symbol: "(" vs ")". For strings there is no such thing as "'"  
can be both the beginning and the end. Therefore it is hard to deicde  
whether your typed "'" is a) beginning of a string, b) just a random  
apostrophe (like in "don't") c) end of a string. Therefore the  
defensive view is to not try to read user's mind (which usually  
doesn't work ;)).


> 3) Auto-Completion
> This is also very helpful! But there are some tiny things to mention:
> If I type 'matri' and I press TAB or CTRL+. it suggests 'matrix('.
> Fine, but if I press ENTER it inserts a new line as well. OK I can
> use ARROWRIGHT, but I think pressing ENTER is more common.

We are use Cocoa's default facilities here and there are not  
configurable (AFAIK). We used to have custom completion some time  
ago, but then we didn't have the list of options. I guess the real  
way forward is to stop using Cocoa's default and write an own  
implementation including the list of choices ... I didn't have time  
to do that yet, but if someone volunteers, it would be great, because  
I agree that the status-quo is not perfect.


> The next is that if I press ARROWRIGHT it inserts 'matrix(' not  
> 'matrix(|)' [| indicates the cursor]. I believe this would be more  
> straightforward to do so.
>

Unfortunately not the way it works now - the auto-closing is  
triggered by typing "(", but in the case of auto-completion the "("  
is not typed but inserted by the system, so we need to work around  
that ... Again, if we had custom auto-completion we'd have more  
control over this ...


> A future topic could be to implement a context specific auto- 
> completion of parameters for a given command Example: I type 'matrix 
> (data, by' and press TAB to auto-complete 'by' to 'byrow='
> [Maybe 'byrow=' plus a pull-down menu with TRUE, FALSE if the  
> parameter is boolean ;) ]
>

True, good idea. Currently the syntax-completion is context- 
independent, so it doesn't know that it is in a function call. But  
that could be implemented ...



> Furthermore a pull-down menu of all available parameters used in a  
> function would be great.
>

That is equal to typing foo( and pressing tab twice if we have the  
above.

Cheers,
Simon


From hpages at fhcrc.org  Thu May 10 00:56:09 2007
From: hpages at fhcrc.org (Herve Pages)
Date: Wed, 09 May 2007 15:56:09 -0700
Subject: [R-SIG-Mac] Building packages 4 Windows with macbook pro
In-Reply-To: <p06230902c267cde4b60c@[192.168.2.3]>
References: <p06230902c267cde4b60c@[192.168.2.3]>
Message-ID: <46425189.90108@fhcrc.org>

Hi Sebastien,

Sebastien Durand wrote:
> Hello to all,
> 
> I am a package developper and I would like to 
> know what is the best way to build package 
> binaries for both Windows and Mac installation of 
> R, using a macbook pro?
> 
> The command I am presently using to create and build my packages binaries is :
> 
> "R CMD BUILD ~/foo"  -> This produce foo.tar.gz 

You probably mean you are using 'R CMD build' ("BUILD" in upper case doesn't work
on my system) don't you?

I can only give a partial answer...

'R CMD build' by default is not intended to build a binary package but a source
package (yes, having called this "build" doesn't help but you will get used to it ;-)).

As you've found out, 'R CMD build ~/foo' produces something like foo_0.9.5.tar.gz
which is a _source_ package (source packages are always suffixed with _X.Y.Z.tar.gz).
This command ('R CMD build') is platform independent: it will produced the same tarball
(except maybe for the vignette, more on this below) on Unix/Linux, Windows and Mac OS X.
But in order to use 'R CMD build' you need to have the R development tools on your system
(compilers, make, Perl, etc...). Note that the exact requirements _are_ platform dependent
(they can be tricky to install on Windows).

So now you might wonder why those development tools are required if the resulting tarball
(foo_0.9.5.tar.gz) is more or less the result of packaging the source directory with 'tar zcf'.
Strangely, and as you might have already noticed, for some packages, it seems that 'R CMD build'
is invoking the C, C++ or Fortran compilers! This happens when a package contains a Sweave
vignette (.Rnw file): in order to create the PDF version of the vignette (so it can be included
in the packaging), 'R CMD build' needs to temporarily install the package. Hence the compilation
when the package contains native code.

Binary packages are of course platform dependent. They have the .zip suffix on Windows and
the .tgz suffix on Mac OS X. Note that Unix/Linux users are always expected to install a
package from source (from the source tarball) so you only need to get into the trouble of
building binary packages if you want to make your packages available to the Mac OS X and
Windows users that don't have the R development tools installed (those who have them can
always install from source with R CMD INSTALL foo_0.9.5.tar.gz).

There are different methods to build them:

  (1) Recommended on Windows: 'R CMD INSTALL --build foo_0.9.5.tar.gz' will
      produce foo_0.9.5.zip on Windows

  (2) 'R CMD INSTALL --library=LIB foo_0.9.5.tar.gz', then manually zip (on Windows)
      or tar the LIB/foo directory. When you use this method, it is your responsability
      to properly name the resulting file.

  (3) R CMD build --binary ~/foo

See
  o R CMD build --help
  o R CMD INSTALL --help
  o "Checking and building packages" in the "Writing R Extensions" manual
    http://cran.r-project.org/doc/manuals/R-exts.html#Checking-and-building-packages
for more information.

Also, it's a good practice to always 'R CMD check' (see R CMD check --help) your packages
before building and distributing the binary versions.

Hopefully someone on this list will be able to tell you what's the recommended way to build
binary packages on Mac OS X (they use some modify version of (2) AFAIK).

Cheers,
H.


> which cannot be used in a windows installation of 
> R.
> 
> I would be very pleased if you could enligthen me
> 
> Sebastien


From jtnews1 at biomserv.univ-lyon1.fr  Fri May 11 15:57:36 2007
From: jtnews1 at biomserv.univ-lyon1.fr (Jean Thioulouse)
Date: Fri, 11 May 2007 15:57:36 +0200
Subject: [R-SIG-Mac] Building packages 4 Windows with macbook pro
In-Reply-To: <p06230902c267cde4b60c@[192.168.2.3]>
References: <p06230902c267cde4b60c@[192.168.2.3]>
Message-ID: <p06240801c26a1edc3e74@[134.214.34.24]>

At 15:42 -0400 9/05/07, Sebastien Durand wrote:
>Hello to all,
>
>I am a package developper and I would like to 
>know what is the best way to build package 
>binaries for both Windows and Mac installation of 
>R, using a macbook pro?
>
>The command I am presently using to create and build my packages binaries is :
>
>"R CMD BUILD ~/foo"  -> This produce foo.tar.gz 
>which cannot be used in a windows installation of R.

I use the "R CMD build --binary" command under Windows in Parallels
Desktop for Mac. It works quite well on my macbook with 2Gb RAM. See http://www.parallels.com/

You might want to check VirtualBox too : http://www.virtualbox.org/
which is now free (GNU licence).

Of course, you must have the complete R development tools setup under
the guest Windows OS, which is even trickier than on MacOS (as opposed
to Linux).

I also have a Linux Debian installed in Parallels Desktop and R CMD
build --binary works well too.

Jean
-- 
Jean Thioulouse - Labo Biometrie et Biologie Evolutive,  UMR CNRS 5558
Universite Lyon 1, Batiment Mendel,   43 Boulevard du 11 Novembre 1918
69622 Villeurbanne Cedex - France    http://pbil.univ-lyon1.fr/JTHome/
Tel : (33) 4 72 43 27 56                      Fax : (33) 4 72 43 13 88
# msn: thioulouse at hotmail.com  #  jabber: jt69 #  .mac: j.thioulouse #


From simon.urbanek at r-project.org  Fri May 11 16:24:28 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 11 May 2007 10:24:28 -0400
Subject: [R-SIG-Mac] Building packages 4 Windows with macbook pro
In-Reply-To: <p06240801c26a1edc3e74@[134.214.34.24]>
References: <p06230902c267cde4b60c@[192.168.2.3]>
	<p06240801c26a1edc3e74@[134.214.34.24]>
Message-ID: <61895296-5C38-4187-8D88-9D65E8E1FF1E@r-project.org>

FWIW: you can cross-compile Windows packages on a Mac fairly easily.  
All you need is current MinGW, everything else is already in the  
Xcode tools. The only drawback is that you won't get CHM help by  
default - if you want it, you have to use hhc which is a Windows  
program, but you can run it in Wine thus you don't need Windows at all.

Cheers,
Simon


On May 11, 2007, at 9:57 AM, Jean Thioulouse wrote:

> At 15:42 -0400 9/05/07, Sebastien Durand wrote:
>> Hello to all,
>>
>> I am a package developper and I would like to
>> know what is the best way to build package
>> binaries for both Windows and Mac installation of
>> R, using a macbook pro?
>>
>> The command I am presently using to create and build my packages  
>> binaries is :
>>
>> "R CMD BUILD ~/foo"  -> This produce foo.tar.gz
>> which cannot be used in a windows installation of R.
>
> I use the "R CMD build --binary" command under Windows in Parallels
> Desktop for Mac. It works quite well on my macbook with 2Gb RAM.  
> See http://www.parallels.com/
>
> You might want to check VirtualBox too : http://www.virtualbox.org/
> which is now free (GNU licence).
>
> Of course, you must have the complete R development tools setup under
> the guest Windows OS, which is even trickier than on MacOS (as opposed
> to Linux).
>
> I also have a Linux Debian installed in Parallels Desktop and R CMD
> build --binary works well too.
>
> Jean
> -- 
> Jean Thioulouse - Labo Biometrie et Biologie Evolutive,  UMR CNRS 5558
> Universite Lyon 1, Batiment Mendel,   43 Boulevard du 11 Novembre 1918
> 69622 Villeurbanne Cedex - France    http://pbil.univ-lyon1.fr/JTHome/
> Tel : (33) 4 72 43 27 56                      Fax : (33) 4 72 43 13 88
> # msn: thioulouse at hotmail.com  #  jabber: jt69 #  .mac: j.thioulouse #
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From kthul at mac.com  Sat May 12 14:24:30 2007
From: kthul at mac.com (Klaus Thul)
Date: Sat, 12 May 2007 20:24:30 +0800
Subject: [R-SIG-Mac] Building packages 4 Windows with macbook pro
In-Reply-To: <mailman.17.1178964007.18030.r-sig-mac@stat.math.ethz.ch>
References: <mailman.17.1178964007.18030.r-sig-mac@stat.math.ethz.ch>
Message-ID: <7C758D9C-7FA7-4EB9-890E-DD478E44CA75@mac.com>

Hello, Jean,

I found the following page quite useful (following the instructions  
for building packages on LINUX for WINDOWS):
http://www.maths.bris.ac.uk/~maman/computerstuff/Rhelp/Rpackages.html

If there is no compiled code (C, FORTRAN) in your package you can do  
the following:

	R CMD BUILD ~/foo
	mkdir temp
	R CMD INSTALL -l temp foo
	cd temp
	zip -r ../foo-1.0.zip foo

The resulting file foo-1.0.zip can be installed as binary package on  
Windows.

Best regards,
Klaus


> At 15:42 -0400 9/05/07, Sebastien Durand wrote:
>> Hello to all,
>>
>> I am a package developper and I would like to
>> know what is the best way to build package
>> binaries for both Windows and Mac installation of
>> R, using a macbook pro?
>>
>> The command I am presently using to create and build my packages  
>> binaries is :
>>
>> "R CMD BUILD ~/foo"  -> This produce foo.tar.gz
>> which cannot be used in a windows installation of R.
>
> I use the "R CMD build --binary" command under Windows in Parallels
> Desktop for Mac. It works quite well on my macbook with 2Gb RAM.  
> See http://www.parallels.com/
>
> You might want to check VirtualBox too : http://www.virtualbox.org/
> which is now free (GNU licence).
>
> Of course, you must have the complete R development tools setup under
> the guest Windows OS, which is even trickier than on MacOS (as opposed
> to Linux).
>
> I also have a Linux Debian installed in Parallels Desktop and R CMD
> build --binary works well too.
>
> Jean
> -- 
> Jean Thioulouse - Labo Biometrie et Biologie Evolutive,  UMR CNRS 5558
> Universite Lyon 1, Batiment Mendel,   43 Boulevard du 11 Novembre 1918
> 69622 Villeurbanne Cedex - France    http://pbil.univ-lyon1.fr/JTHome/
> Tel : (33) 4 72 43 27 56                      Fax : (33) 4 72 43 13 88
> # msn: thioulouse at hotmail.com  #  jabber: jt69 #  .mac: j.thioulouse #
>


From simon.urbanek at r-project.org  Sat May 12 16:01:01 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 12 May 2007 10:01:01 -0400
Subject: [R-SIG-Mac] Building packages 4 Windows with macbook pro
In-Reply-To: <7C758D9C-7FA7-4EB9-890E-DD478E44CA75@mac.com>
References: <mailman.17.1178964007.18030.r-sig-mac@stat.math.ethz.ch>
	<7C758D9C-7FA7-4EB9-890E-DD478E44CA75@mac.com>
Message-ID: <A86974E7-FD44-4921-8B40-96515139FF02@r-project.org>


On May 12, 2007, at 8:24 AM, Klaus Thul wrote:

> Hello, Jean,
>
> I found the following page quite useful (following the instructions
> for building packages on LINUX for WINDOWS):
> http://www.maths.bris.ac.uk/~maman/computerstuff/Rhelp/Rpackages.html
>
> If there is no compiled code (C, FORTRAN) in your package you can do
> the following:
>
> 	R CMD BUILD ~/foo
> 	mkdir temp
> 	R CMD INSTALL -l temp foo
> 	cd temp
> 	zip -r ../foo-1.0.zip foo
>
> The resulting file foo-1.0.zip can be installed as binary package on
> Windows.
>

... but it won't contain CHM help which is now the default on Windows  
(unfortunately IMHO, but that's another topic ...).

Cheers,
Simon


>
>
>> At 15:42 -0400 9/05/07, Sebastien Durand wrote:
>>> Hello to all,
>>>
>>> I am a package developper and I would like to
>>> know what is the best way to build package
>>> binaries for both Windows and Mac installation of
>>> R, using a macbook pro?
>>>
>>> The command I am presently using to create and build my packages
>>> binaries is :
>>>
>>> "R CMD BUILD ~/foo"  -> This produce foo.tar.gz
>>> which cannot be used in a windows installation of R.
>>
>> I use the "R CMD build --binary" command under Windows in Parallels
>> Desktop for Mac. It works quite well on my macbook with 2Gb RAM.
>> See http://www.parallels.com/
>>
>> You might want to check VirtualBox too : http://www.virtualbox.org/
>> which is now free (GNU licence).
>>
>> Of course, you must have the complete R development tools setup under
>> the guest Windows OS, which is even trickier than on MacOS (as  
>> opposed
>> to Linux).
>>
>> I also have a Linux Debian installed in Parallels Desktop and R CMD
>> build --binary works well too.
>>
>> Jean
>> -- 
>> Jean Thioulouse - Labo Biometrie et Biologie Evolutive,  UMR CNRS  
>> 5558
>> Universite Lyon 1, Batiment Mendel,   43 Boulevard du 11 Novembre  
>> 1918
>> 69622 Villeurbanne Cedex - France    http://pbil.univ-lyon1.fr/ 
>> JTHome/
>> Tel : (33) 4 72 43 27 56                      Fax : (33) 4 72 43  
>> 13 88
>> # msn: thioulouse at hotmail.com  #  jabber: jt69 #  .mac:  
>> j.thioulouse #
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From khansen at stat.Berkeley.EDU  Sat May 12 19:53:30 2007
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Sat, 12 May 2007 10:53:30 -0700
Subject: [R-SIG-Mac] Building packages 4 Windows with macbook pro
In-Reply-To: <A86974E7-FD44-4921-8B40-96515139FF02@r-project.org>
References: <mailman.17.1178964007.18030.r-sig-mac@stat.math.ethz.ch>
	<7C758D9C-7FA7-4EB9-890E-DD478E44CA75@mac.com>
	<A86974E7-FD44-4921-8B40-96515139FF02@r-project.org>
Message-ID: <4461A09F-6015-46A7-AFDD-9EE739BECAD7@stat.berkeley.edu>

Also, if the aim is just to provide an R package for collaborators or  
such, you can use

http://129.217.207.166/index.htm

Read the disclaimer though, in case your package contains sensitive  
data.

Kasper


On May 12, 2007, at 7:01 AM, Simon Urbanek wrote:

>
> On May 12, 2007, at 8:24 AM, Klaus Thul wrote:
>
>> Hello, Jean,
>>
>> I found the following page quite useful (following the instructions
>> for building packages on LINUX for WINDOWS):
>> http://www.maths.bris.ac.uk/~maman/computerstuff/Rhelp/Rpackages.html
>>
>> If there is no compiled code (C, FORTRAN) in your package you can do
>> the following:
>>
>> 	R CMD BUILD ~/foo
>> 	mkdir temp
>> 	R CMD INSTALL -l temp foo
>> 	cd temp
>> 	zip -r ../foo-1.0.zip foo
>>
>> The resulting file foo-1.0.zip can be installed as binary package on
>> Windows.
>>
>
> ... but it won't contain CHM help which is now the default on Windows
> (unfortunately IMHO, but that's another topic ...).
>
> Cheers,
> Simon
>
>
>>
>>
>>> At 15:42 -0400 9/05/07, Sebastien Durand wrote:
>>>> Hello to all,
>>>>
>>>> I am a package developper and I would like to
>>>> know what is the best way to build package
>>>> binaries for both Windows and Mac installation of
>>>> R, using a macbook pro?
>>>>
>>>> The command I am presently using to create and build my packages
>>>> binaries is :
>>>>
>>>> "R CMD BUILD ~/foo"  -> This produce foo.tar.gz
>>>> which cannot be used in a windows installation of R.
>>>
>>> I use the "R CMD build --binary" command under Windows in Parallels
>>> Desktop for Mac. It works quite well on my macbook with 2Gb RAM.
>>> See http://www.parallels.com/
>>>
>>> You might want to check VirtualBox too : http://www.virtualbox.org/
>>> which is now free (GNU licence).
>>>
>>> Of course, you must have the complete R development tools setup  
>>> under
>>> the guest Windows OS, which is even trickier than on MacOS (as
>>> opposed
>>> to Linux).
>>>
>>> I also have a Linux Debian installed in Parallels Desktop and R CMD
>>> build --binary works well too.
>>>
>>> Jean
>>> -- 
>>> Jean Thioulouse - Labo Biometrie et Biologie Evolutive,  UMR CNRS
>>> 5558
>>> Universite Lyon 1, Batiment Mendel,   43 Boulevard du 11 Novembre
>>> 1918
>>> 69622 Villeurbanne Cedex - France    http://pbil.univ-lyon1.fr/
>>> JTHome/
>>> Tel : (33) 4 72 43 27 56                      Fax : (33) 4 72 43
>>> 13 88
>>> # msn: thioulouse at hotmail.com  #  jabber: jt69 #  .mac:
>>> j.thioulouse #
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From cstrato at aon.at  Sat May 12 21:43:41 2007
From: cstrato at aon.at (cstrato)
Date: Sat, 12 May 2007 21:43:41 +0200
Subject: [R-SIG-Mac] How to find system directory to shared library?
Message-ID: <464618ED.6030604@aon.at>

Dear all

In my package I need to get the path to the shared library "mypackage.so".
Currently, I use the following code:

   mydir <- system.file(package="mypackage")
   mylib <- paste(mydir, "/libs/mypackage.so", sep="")

This did work with FC4 running R-2.4.1 and on my Intel-Mac running the
development version of R-2.5.0, which I did compile from source.

However, now I have downloaded and installed R-2.5.0.dmg and get an
error since the shared library is now located in: "/libs/i386/mypackage.so"
So I changed the code to:

   mydir <- paste(system.file(package="mypackage"),  "libs", sep="/");
   if (list.files(mydir) == "mypackage.so") {
      mylib  <- paste(mydir, "mypackage.so", sep="/");
   } else {
      mylib  <- paste(mydir, list.files(mydir), "mypackage.so", sep="/");
   }

This works since there is only one subdirectory "i386", but not if there
are "i386" and "ppc" subdirectories.

Sorrowly, the following does not work:
   system.file("mypackage.so", package = "mypackage")

My question is, is there a better way to find the path to the shared 
library?

Best regards
Christian
_._._._._._._._._._._._._._._._
C.h.i.s.t.i.a.n S.t.r.a.t.o.w.a
V.i.e.n.n.a       A.u.s.t.r.i.a
_._._._._._._._._._._._._._._._


From khansen at stat.Berkeley.EDU  Sun May 13 00:55:40 2007
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Sat, 12 May 2007 15:55:40 -0700
Subject: [R-SIG-Mac] How to find system directory to shared library?
In-Reply-To: <464618ED.6030604@aon.at>
References: <464618ED.6030604@aon.at>
Message-ID: <13F084E7-C17A-4109-885E-8DB9017E9008@stat.berkeley.edu>

On May 12, 2007, at 12:43 PM, cstrato wrote:

> Dear all
>
> In my package I need to get the path to the shared library  
> "mypackage.so".

Eh, why do you need to do so? I am not saying there could not be use  
cases, but most standard uses should not need to do this.

Kasper



> Currently, I use the following code:
>
>    mydir <- system.file(package="mypackage")
>    mylib <- paste(mydir, "/libs/mypackage.so", sep="")
>
> This did work with FC4 running R-2.4.1 and on my Intel-Mac running the
> development version of R-2.5.0, which I did compile from source.
>
> However, now I have downloaded and installed R-2.5.0.dmg and get an
> error since the shared library is now located in: "/libs/i386/ 
> mypackage.so"
> So I changed the code to:
>
>    mydir <- paste(system.file(package="mypackage"),  "libs", sep="/");
>    if (list.files(mydir) == "mypackage.so") {
>       mylib  <- paste(mydir, "mypackage.so", sep="/");
>    } else {
>       mylib  <- paste(mydir, list.files(mydir), "mypackage.so",  
> sep="/");
>    }
>
> This works since there is only one subdirectory "i386", but not if  
> there
> are "i386" and "ppc" subdirectories.
>
> Sorrowly, the following does not work:
>    system.file("mypackage.so", package = "mypackage")
>
> My question is, is there a better way to find the path to the shared
> library?
>
> Best regards
> Christian
> _._._._._._._._._._._._._._._._
> C.h.i.s.t.i.a.n S.t.r.a.t.o.w.a
> V.i.e.n.n.a       A.u.s.t.r.i.a
> _._._._._._._._._._._._._._._._
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Sun May 13 01:25:52 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 12 May 2007 19:25:52 -0400
Subject: [R-SIG-Mac] How to find system directory to shared library?
In-Reply-To: <464618ED.6030604@aon.at>
References: <464618ED.6030604@aon.at>
Message-ID: <B84502E2-3D39-44C8-8DA3-ACB8BFA70C3F@r-project.org>


On May 12, 2007, at 3:43 PM, cstrato wrote:

> Dear all
>
> In my package I need to get the path to the shared library  
> "mypackage.so".
> Currently, I use the following code:
>
>    mydir <- system.file(package="mypackage")
>    mylib <- paste(mydir, "/libs/mypackage.so", sep="")
>

This won't work on any multi-arch R (like any Mac version on CRAN)  
and neither on Windows. In most case you shouldn't be accessing it  
directly anyway (use library.dynam if you want to load it). If you  
really want the path to another package's dylib, you can use  
something like

pkg = "mypackage"
mylib = system.file("libs", .Platform$r_arch, paste(pkg, .Platform 
$dynlib.ext, sep=''), package=pkg)

Cheers,
Simon


> This did work with FC4 running R-2.4.1 and on my Intel-Mac running the
> development version of R-2.5.0, which I did compile from source.
>
> However, now I have downloaded and installed R-2.5.0.dmg and get an
> error since the shared library is now located in: "/libs/i386/ 
> mypackage.so"
> So I changed the code to:
>
>    mydir <- paste(system.file(package="mypackage"),  "libs", sep="/");
>    if (list.files(mydir) == "mypackage.so") {
>       mylib  <- paste(mydir, "mypackage.so", sep="/");
>    } else {
>       mylib  <- paste(mydir, list.files(mydir), "mypackage.so",  
> sep="/");
>    }
>
> This works since there is only one subdirectory "i386", but not if  
> there
> are "i386" and "ppc" subdirectories.
>
> Sorrowly, the following does not work:
>    system.file("mypackage.so", package = "mypackage")
>
> My question is, is there a better way to find the path to the shared
> library?
>
> Best regards
> Christian
> _._._._._._._._._._._._._._._._
> C.h.i.s.t.i.a.n S.t.r.a.t.o.w.a
> V.i.e.n.n.a       A.u.s.t.r.i.a
> _._._._._._._._._._._._._._._._
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From cstrato at aon.at  Sun May 13 12:19:51 2007
From: cstrato at aon.at (cstrato)
Date: Sun, 13 May 2007 12:19:51 +0200
Subject: [R-SIG-Mac] How to find system directory to shared library?
In-Reply-To: <B84502E2-3D39-44C8-8DA3-ACB8BFA70C3F@r-project.org>
References: <464618ED.6030604@aon.at>
	<B84502E2-3D39-44C8-8DA3-ACB8BFA70C3F@r-project.org>
Message-ID: <4646E647.9050801@aon.at>

Dear Simon

Thank you very much, this is exactly what I needed, great.

Best regards
Christian

Simon Urbanek wrote:
>
> On May 12, 2007, at 3:43 PM, cstrato wrote:
>
>> Dear all
>>
>> In my package I need to get the path to the shared library 
>> "mypackage.so".
>> Currently, I use the following code:
>>
>>    mydir <- system.file(package="mypackage")
>>    mylib <- paste(mydir, "/libs/mypackage.so", sep="")
>>
>
> This won't work on any multi-arch R (like any Mac version on CRAN) and 
> neither on Windows. In most case you shouldn't be accessing it 
> directly anyway (use library.dynam if you want to load it). If you 
> really want the path to another package's dylib, you can use something 
> like
>
> pkg = "mypackage"
> mylib = system.file("libs", .Platform$r_arch, paste(pkg, 
> .Platform$dynlib.ext, sep=''), package=pkg)
>
> Cheers,
> Simon
>
>
>> This did work with FC4 running R-2.4.1 and on my Intel-Mac running the
>> development version of R-2.5.0, which I did compile from source.
>>
>> However, now I have downloaded and installed R-2.5.0.dmg and get an
>> error since the shared library is now located in: 
>> "/libs/i386/mypackage.so"
>> So I changed the code to:
>>
>>    mydir <- paste(system.file(package="mypackage"),  "libs", sep="/");
>>    if (list.files(mydir) == "mypackage.so") {
>>       mylib  <- paste(mydir, "mypackage.so", sep="/");
>>    } else {
>>       mylib  <- paste(mydir, list.files(mydir), "mypackage.so", 
>> sep="/");
>>    }
>>
>> This works since there is only one subdirectory "i386", but not if there
>> are "i386" and "ppc" subdirectories.
>>
>> Sorrowly, the following does not work:
>>    system.file("mypackage.so", package = "mypackage")
>>
>> My question is, is there a better way to find the path to the shared
>> library?
>>
>> Best regards
>> Christian
>> _._._._._._._._._._._._._._._._
>> C.h.i.s.t.i.a.n S.t.r.a.t.o.w.a
>> V.i.e.n.n.a       A.u.s.t.r.i.a
>> _._._._._._._._._._._._._._._._
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
>
>


From cstrato at aon.at  Sun May 13 12:21:36 2007
From: cstrato at aon.at (cstrato)
Date: Sun, 13 May 2007 12:21:36 +0200
Subject: [R-SIG-Mac] How to find system directory to shared library?
In-Reply-To: <13F084E7-C17A-4109-885E-8DB9017E9008@stat.berkeley.edu>
References: <464618ED.6030604@aon.at>
	<13F084E7-C17A-4109-885E-8DB9017E9008@stat.berkeley.edu>
Message-ID: <4646E6B0.1070501@aon.at>

Kasper Daniel Hansen wrote:
> On May 12, 2007, at 12:43 PM, cstrato wrote:
>
>> Dear all
>>
>> In my package I need to get the path to the shared library 
>> "mypackage.so".
>
> Eh, why do you need to do so? I am not saying there could not be use 
> cases, but most standard uses should not need to do this.
Since I am calling another program from within R which needs to know the 
path to my shared lib.
Christian
>
> Kasper
>
>


From bibiko at eva.mpg.de  Tue May 15 09:24:26 2007
From: bibiko at eva.mpg.de (Hans-Joerg Bibiko)
Date: Tue, 15 May 2007 09:24:26 +0200
Subject: [R-SIG-Mac] Mac GUI development
Message-ID: <1474D530-1EBF-4C93-AAAE-98567216C0B6@eva.mpg.de>

Hi,

a short question:
Is there a special mailing list for Mac-GUI developers?

Thanks

Hans


From ralf.schaefer at ufz.de  Mon May 14 17:24:08 2007
From: ralf.schaefer at ufz.de (=?ISO-8859-1?Q?Ralf_Sch=E4fer?=)
Date: Mon, 14 May 2007 17:24:08 +0200
Subject: [R-SIG-Mac] R crashes when copying code
Message-ID: <0C535DB5-BB05-458C-BD13-D12D91D196D7@ufz.de>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070514/b3042e31/attachment.pl 

From goedman at mac.com  Tue May 15 16:33:24 2007
From: goedman at mac.com (Rob J Goedman)
Date: Tue, 15 May 2007 07:33:24 -0700
Subject: [R-SIG-Mac] R crashes when copying code
In-Reply-To: <0C535DB5-BB05-458C-BD13-D12D91D196D7@ufz.de>
References: <0C535DB5-BB05-458C-BD13-D12D91D196D7@ufz.de>
Message-ID: <A5B59B39-0B65-488A-AE32-3D857B1A5DC4@mac.com>

Ralf,

Trying to reconstruct your problem.

I used the Edit icon in the R Console toolbar to open 2 different  
edit windows for existing files and
copied stuff from 1 window to the other and vice versa a couple of  
times. Is that what you're doing?

Rob

On May 14, 2007, at 8:24 AM, Ralf Sch?fer wrote:

> Hello,
>
> I updated to R 2.5.0 recently and now encountered a bug:
>
> R crashes when I open 2 R source code files (I tried it with
> different ones).
> Either I get the following message in the console:
> 2007-05-14 17:15:04.310 R[412] *** -[NSEvent set]: selector not
> recognized [self = 0xd8cbce0]
> 2007-05-14 17:15:04.311 R[412] *** -[NSEvent set]: selector not
> recognized [self = 0xd8cbce0]
> 2007-05-14 17:15:05.974 R[412] *** -[NSCFDictionary set]: selector
> not recognized [self = 0xd8ec120]
> 2007-05-14 17:15:05.974 R[412] *** -[NSCFDictionary set]: selector
> not recognized [self = 0xd8ec120]
> 2007-05-14 17:15:07.094 R[412] *** -[NSCFDictionary set]: selector
> not recognized [self = 0xd8ec120]
>
> or
>
> *** caught bus error ***
> address 0x985, cause 'non-existent physical address'
>
> For the Apple error report see below
>
> This is also not fixed when using the nightly build patch which I
> just installed.
>
> However, when entering two new editor windows copying is possible.
>


From HStevens at MUOhio.edu  Tue May 15 16:33:48 2007
From: HStevens at MUOhio.edu (Martin Henry H. Stevens)
Date: Tue, 15 May 2007 10:33:48 -0400
Subject: [R-SIG-Mac] Sweave, LaTeX, and ... quartz?
Message-ID: <56F4B447-A981-44EE-9B2A-F57B8AA29F83@MUOhio.edu>

Hi Folks,

I was wondering how others generate on-screen graphics and graphics  
files when they want to use Sweave to generate Latex documents.

I am using Aquamacs
( GNU Emacs 22.0.97.1 (powerpc-apple-darwin7.9.0, Carbon Version  
1.6.0)  of 2007-04-15 on rodrigues.inf.ed.ac.uk - Aquamacs  
Distribution 1.0rc3 )

I have been using x11(), but I would prefer to use a quartz device,  
simply because the on-screen quality is much better, and I imagine  
there are other advantages as well?

Is CarbonEL still recommended? An older hack seems unavailable.
 > install.packages("CarbonEL",,"http://rforge.net/")
Warning message:
package 'CarbonEL' is not available


Thank you for your solutions.

Hank


Dr. Hank Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.cas.muohio.edu/~stevenmh/
http://www.muohio.edu/ecology/
http://www.muohio.edu/botany/

"E Pluribus Unum"


From simon.urbanek at r-project.org  Tue May 15 18:12:59 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 15 May 2007 12:12:59 -0400
Subject: [R-SIG-Mac] Mac GUI development
In-Reply-To: <1474D530-1EBF-4C93-AAAE-98567216C0B6@eva.mpg.de>
References: <1474D530-1EBF-4C93-AAAE-98567216C0B6@eva.mpg.de>
Message-ID: <320EDECF-E90C-4732-AEA8-0A16C53B2CF6@r-project.org>


On May 15, 2007, at 3:24 AM, Hans-Joerg Bibiko wrote:

> Hi,
>
> a short question:
> Is there a special mailing list for Mac-GUI developers?
>

It depends on your definition of 'special' - is R-SIG-Mac special  
enough? ;) If so then the answer is yes, otherwise no.

Cheers,
Simon


From simon.urbanek at r-project.org  Tue May 15 18:15:45 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 15 May 2007 12:15:45 -0400
Subject: [R-SIG-Mac] Sweave, LaTeX, and ... quartz?
In-Reply-To: <56F4B447-A981-44EE-9B2A-F57B8AA29F83@MUOhio.edu>
References: <56F4B447-A981-44EE-9B2A-F57B8AA29F83@MUOhio.edu>
Message-ID: <530DE3B7-00B5-4AFB-AD87-12EB1D6AF0F9@r-project.org>


On May 15, 2007, at 10:33 AM, Martin Henry H. Stevens wrote:

> Hi Folks,
>
> I was wondering how others generate on-screen graphics and graphics
> files when they want to use Sweave to generate Latex documents.
>
> I am using Aquamacs
> ( GNU Emacs 22.0.97.1 (powerpc-apple-darwin7.9.0, Carbon Version
> 1.6.0)  of 2007-04-15 on rodrigues.inf.ed.ac.uk - Aquamacs
> Distribution 1.0rc3 )
>
> I have been using x11(), but I would prefer to use a quartz device,
> simply because the on-screen quality is much better, and I imagine
> there are other advantages as well?
>
> Is CarbonEL still recommended? An older hack seems unavailable.
>> install.packages("CarbonEL",,"http://rforge.net/")
> Warning message:
> package 'CarbonEL' is not available
>

install.packages("CarbonEL",,"http://rforge.net/",type='source')

should work regardless of the R version...

Cheers,
Simon


From bibiko at eva.mpg.de  Tue May 15 19:20:58 2007
From: bibiko at eva.mpg.de (=?ISO-8859-1?Q?Hans-J=F6rg_Bibiko?=)
Date: Tue, 15 May 2007 19:20:58 +0200
Subject: [R-SIG-Mac] Mac GUI development
In-Reply-To: <320EDECF-E90C-4732-AEA8-0A16C53B2CF6@r-project.org>
References: <1474D530-1EBF-4C93-AAAE-98567216C0B6@eva.mpg.de>
	<320EDECF-E90C-4732-AEA8-0A16C53B2CF6@r-project.org>
Message-ID: <5AA7514A-7715-4317-BFE8-11EE0FC113FA@eva.mpg.de>

Hi Simon,

On 15.05.2007, at 18:12, Simon Urbanek wrote:
> On May 15, 2007, at 3:24 AM, Hans-Joerg Bibiko wrote:
>> Is there a special mailing list for Mac-GUI developers?
>
> It depends on your definition of 'special' - is R-SIG-Mac special  
> enough? ;) If so then the answer is yes, otherwise no.

I meant with 'special' whether there is a list discussing  
enhancements of the Mac-GUI source code.
Or in other words, can I post source code snippets or changes to this  
list in order to discuss about it?
The point is that I'm very interested to contribute my humble stuff  
to that project.
Or would it better to send it to you, Simon, directly (which I  
already did ;) )?

I only want to avoid to post things in that list which maybe bother  
many readers because it is Cocoa-Object-C stuff not R stuff.

Cheers,

Hans


From simon.urbanek at r-project.org  Tue May 15 20:01:43 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 15 May 2007 14:01:43 -0400
Subject: [R-SIG-Mac] Mac GUI development
In-Reply-To: <5AA7514A-7715-4317-BFE8-11EE0FC113FA@eva.mpg.de>
References: <1474D530-1EBF-4C93-AAAE-98567216C0B6@eva.mpg.de>
	<320EDECF-E90C-4732-AEA8-0A16C53B2CF6@r-project.org>
	<5AA7514A-7715-4317-BFE8-11EE0FC113FA@eva.mpg.de>
Message-ID: <9D90063C-DBF8-48F8-A6CE-AC43ED3441CF@r-project.org>

Hans,

On May 15, 2007, at 1:20 PM, Hans-J?rg Bibiko wrote:

> On 15.05.2007, at 18:12, Simon Urbanek wrote:
>> On May 15, 2007, at 3:24 AM, Hans-Joerg Bibiko wrote:
>>> Is there a special mailing list for Mac-GUI developers?
>>
>> It depends on your definition of 'special' - is R-SIG-Mac special
>> enough? ;) If so then the answer is yes, otherwise no.
>
> I meant with 'special' whether there is a list discussing  
> enhancements of the Mac-GUI source code.
> Or in other words, can I post source code snippets or changes to  
> this list in order to discuss about it?

Good question. In general the answer is yes, unless you have really  
extensive changes. This list is a good place for such discussions.


> The point is that I'm very interested to contribute my humble stuff  
> to that project. Or would it better to send it to you, Simon,  
> directly (which I already did ;) )?
>

If you have multiple patches and/or want to discuss technicalities,  
yes, feel free to send them directly to me. But please, test them first.


> I only want to avoid to post things in that list which maybe bother  
> many readers because it is Cocoa-Object-C stuff not R stuff.
>

This list is about R for Mac, so that does include Cocoa ;)

Cheers,
Simon

BTW: I have added a page to the wiki that we can use to keep track of  
discussed issues:

http://wiki.r-project.org/rwiki/doku.php?id=misc:wishlist-mac


From bibiko at eva.mpg.de  Tue May 15 20:14:30 2007
From: bibiko at eva.mpg.de (=?ISO-8859-1?Q?Hans-J=F6rg_Bibiko?=)
Date: Tue, 15 May 2007 20:14:30 +0200
Subject: [R-SIG-Mac] Mac GUI development
In-Reply-To: <9D90063C-DBF8-48F8-A6CE-AC43ED3441CF@r-project.org>
References: <1474D530-1EBF-4C93-AAAE-98567216C0B6@eva.mpg.de>
	<320EDECF-E90C-4732-AEA8-0A16C53B2CF6@r-project.org>
	<5AA7514A-7715-4317-BFE8-11EE0FC113FA@eva.mpg.de>
	<9D90063C-DBF8-48F8-A6CE-AC43ED3441CF@r-project.org>
Message-ID: <7DCAC5F5-149B-426B-A615-D101F89B5C48@eva.mpg.de>

Simon,

OK, I understood ;)

But I have a humble question. Two days ago, I sent you some code  
snippets for
- auto-pair "" and ''
- a fix for the file completion bug: '/Users/' and press TAB

Did you get them? I sent them to simon.urbanek at r-project.org

Hans


From HStevens at muohio.edu  Tue May 15 20:20:52 2007
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Tue, 15 May 2007 14:20:52 -0400
Subject: [R-SIG-Mac] Sweave, LaTeX, and ... quartz?
In-Reply-To: <530DE3B7-00B5-4AFB-AD87-12EB1D6AF0F9@r-project.org>
References: <56F4B447-A981-44EE-9B2A-F57B8AA29F83@MUOhio.edu>
	<530DE3B7-00B5-4AFB-AD87-12EB1D6AF0F9@r-project.org>
Message-ID: <F7BEED9E-754C-43DB-BD89-8B9AEFC23644@muohio.edu>

Hi Simon,
Thank you kindly.
I am using R 2.5.0 on a PowerPC with OS 10.4.9

That failed (output below), and I am not sure where to go from here.
Any input would be great.
Hank

 > install.packages("CarbonEL",,"http://rforge.net/",type='source')
trying URL 'http://rforge.net/src/contrib/CarbonEL_0.1-3.tar.gz'
Content type 'application/x-tar' length 2893 bytes
opened URL
==================================================
downloaded 2893 bytes

* Installing *source* package 'CarbonEL' ...
** libs
** arch - i386
gcc-4.0 -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -no-cpp- 
precomp -I/Library/Frameworks/R.framework/Resources/include -I/ 
Library/Frameworks/R.framework/Resources/include/i386  -msse3  - 
D__NO_MATH_INLINES  -fPIC  -g -O2 -std=gnu99 -march=nocona -c ael.c - 
o ael.o
make: gcc-4.0: Command not found
make: *** [ael.o] Error 127
chmod: /Library/Frameworks/R.framework/Versions/2.5/Resources/library/ 
CarbonEL/libs/i386/*: No such file or directory
** arch - ppc
gcc-4.0 -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk - 
std=gnu99 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include -I/Library/Frameworks/R.framework/Resources/include/ppc  -I/ 
usr/local/include    -fPIC  -g -O2 -c ael.c -o ael.o
make: gcc-4.0: Command not found
make: *** [ael.o] Error 127
chmod: /Library/Frameworks/R.framework/Versions/2.5/Resources/library/ 
CarbonEL/libs/ppc/*: No such file or directory
ERROR: compilation failed for package 'CarbonEL'
** Removing '/Library/Frameworks/R.framework/Versions/2.5/Resources/ 
library/CarbonEL'

The downloaded packages are in
	/private/tmp/Rtmp0zpsEt/downloaded_packages
Warning message:
installation of package 'CarbonEL' had non-zero exit status in:  
install.packages("CarbonEL", , "http://rforge.net/", type = "source")
 >

On May 15, 2007, at 12:15 PM, Simon Urbanek wrote:

>
> On May 15, 2007, at 10:33 AM, Martin Henry H. Stevens wrote:
>
>> Hi Folks,
>>
>> I was wondering how others generate on-screen graphics and graphics
>> files when they want to use Sweave to generate Latex documents.
>>
>> I am using Aquamacs
>> ( GNU Emacs 22.0.97.1 (powerpc-apple-darwin7.9.0, Carbon Version
>> 1.6.0)  of 2007-04-15 on rodrigues.inf.ed.ac.uk - Aquamacs
>> Distribution 1.0rc3 )
>>
>> I have been using x11(), but I would prefer to use a quartz device,
>> simply because the on-screen quality is much better, and I imagine
>> there are other advantages as well?
>>
>> Is CarbonEL still recommended? An older hack seems unavailable.
>>> install.packages("CarbonEL",,"http://rforge.net/")
>> Warning message:
>> package 'CarbonEL' is not available
>>
>
> install.packages("CarbonEL",,"http://rforge.net/",type='source')
>
> should work regardless of the R version...
>
> Cheers,
> Simon
>
>
>
>



Dr. Hank Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.cas.muohio.edu/~stevenmh/
http://www.muohio.edu/ecology/
http://www.muohio.edu/botany/

"E Pluribus Unum"


From simon.urbanek at r-project.org  Tue May 15 20:38:38 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 15 May 2007 14:38:38 -0400
Subject: [R-SIG-Mac] Sweave, LaTeX, and ... quartz?
In-Reply-To: <F7BEED9E-754C-43DB-BD89-8B9AEFC23644@muohio.edu>
References: <56F4B447-A981-44EE-9B2A-F57B8AA29F83@MUOhio.edu>
	<530DE3B7-00B5-4AFB-AD87-12EB1D6AF0F9@r-project.org>
	<F7BEED9E-754C-43DB-BD89-8B9AEFC23644@muohio.edu>
Message-ID: <78BE9FA1-4841-40B7-9563-54F63ECB8ACD@r-project.org>


On May 15, 2007, at 2:20 PM, Martin Henry H. Stevens wrote:

> Hi Simon,
> Thank you kindly.
> I am using R 2.5.0 on a PowerPC with OS 10.4.9
>

I have posted CarbonEL for R 2.5.0, so it should now work even  
without type='source'.


> That failed (output below), and I am not sure where to go from here.
> Any input would be great.

Please make sure you have Xcode 2.4.1 installed. It appears as if  
you're missing the gcc compiler. In case you're running the old gcc  
3.3, try
sudo gcc_select 4.0
before installing CarbonEL.

Cheers,
Simon


> Hank
>
> > install.packages("CarbonEL",,"http://rforge.net/",type='source')
> trying URL 'http://rforge.net/src/contrib/CarbonEL_0.1-3.tar.gz'
> Content type 'application/x-tar' length 2893 bytes
> opened URL
> ==================================================
> downloaded 2893 bytes
>
> * Installing *source* package 'CarbonEL' ...
> ** libs
> ** arch - i386
> gcc-4.0 -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -no- 
> cpp-precomp -I/Library/Frameworks/R.framework/Resources/include -I/ 
> Library/Frameworks/R.framework/Resources/include/i386  -msse3  - 
> D__NO_MATH_INLINES  -fPIC  -g -O2 -std=gnu99 -march=nocona -c ael.c  
> -o ael.o
> make: gcc-4.0: Command not found
> make: *** [ael.o] Error 127
> chmod: /Library/Frameworks/R.framework/Versions/2.5/Resources/ 
> library/CarbonEL/libs/i386/*: No such file or directory
> ** arch - ppc
> gcc-4.0 -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk - 
> std=gnu99 -no-cpp-precomp -I/Library/Frameworks/R.framework/ 
> Resources/include -I/Library/Frameworks/R.framework/Resources/ 
> include/ppc  -I/usr/local/include    -fPIC  -g -O2 -c ael.c -o ael.o
> make: gcc-4.0: Command not found
> make: *** [ael.o] Error 127
> chmod: /Library/Frameworks/R.framework/Versions/2.5/Resources/ 
> library/CarbonEL/libs/ppc/*: No such file or directory
> ERROR: compilation failed for package 'CarbonEL'
> ** Removing '/Library/Frameworks/R.framework/Versions/2.5/Resources/ 
> library/CarbonEL'
>
> The downloaded packages are in
> 	/private/tmp/Rtmp0zpsEt/downloaded_packages
> Warning message:
> installation of package 'CarbonEL' had non-zero exit status in:  
> install.packages("CarbonEL", , "http://rforge.net/", type = "source")
> >
>
> On May 15, 2007, at 12:15 PM, Simon Urbanek wrote:
>
>>
>> On May 15, 2007, at 10:33 AM, Martin Henry H. Stevens wrote:
>>
>>> Hi Folks,
>>>
>>> I was wondering how others generate on-screen graphics and graphics
>>> files when they want to use Sweave to generate Latex documents.
>>>
>>> I am using Aquamacs
>>> ( GNU Emacs 22.0.97.1 (powerpc-apple-darwin7.9.0, Carbon Version
>>> 1.6.0)  of 2007-04-15 on rodrigues.inf.ed.ac.uk - Aquamacs
>>> Distribution 1.0rc3 )
>>>
>>> I have been using x11(), but I would prefer to use a quartz device,
>>> simply because the on-screen quality is much better, and I imagine
>>> there are other advantages as well?
>>>
>>> Is CarbonEL still recommended? An older hack seems unavailable.
>>>> install.packages("CarbonEL",,"http://rforge.net/")
>>> Warning message:
>>> package 'CarbonEL' is not available
>>>
>>
>> install.packages("CarbonEL",,"http://rforge.net/",type='source')
>>
>> should work regardless of the R version...
>>
>> Cheers,
>> Simon
>>
>>
>>
>>
>
>
>
> Dr. Hank Stevens, Assistant Professor
> 338 Pearson Hall
> Botany Department
> Miami University
> Oxford, OH 45056
>
> Office: (513) 529-4206
> Lab: (513) 529-4262
> FAX: (513) 529-4243
> http://www.cas.muohio.edu/~stevenmh/
> http://www.muohio.edu/ecology/
> http://www.muohio.edu/botany/
>
> "E Pluribus Unum"
>
>
>
>
>
>


From sebastiendurand at videotron.ca  Tue May 15 20:55:10 2007
From: sebastiendurand at videotron.ca (Sebastien Durand)
Date: Tue, 15 May 2007 14:55:10 -0400
Subject: [R-SIG-Mac] Building packages 4 Windows with macbook pro
In-Reply-To: <61895296-5C38-4187-8D88-9D65E8E1FF1E@r-project.org>
References: <p06230902c267cde4b60c@[192.168.2.3]>
	<p06240801c26a1edc3e74@[134.214.34.24]>
	<61895296-5C38-4187-8D88-9D65E8E1FF1E@r-project.org>
Message-ID: <p0623093ac26fb248db53@[192.168.2.3]>

Thank you all for your great replies.

Cheers
-- 
Dans le Ssu Ma Fa on lit: "Celui qui place la vie 
au dessus de toute chose sera paralys? par 
l'irr?solution"


From simon.urbanek at r-project.org  Tue May 15 21:56:50 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 15 May 2007 15:56:50 -0400
Subject: [R-SIG-Mac] Mac GUI development
In-Reply-To: <7DCAC5F5-149B-426B-A615-D101F89B5C48@eva.mpg.de>
References: <1474D530-1EBF-4C93-AAAE-98567216C0B6@eva.mpg.de>
	<320EDECF-E90C-4732-AEA8-0A16C53B2CF6@r-project.org>
	<5AA7514A-7715-4317-BFE8-11EE0FC113FA@eva.mpg.de>
	<9D90063C-DBF8-48F8-A6CE-AC43ED3441CF@r-project.org>
	<7DCAC5F5-149B-426B-A615-D101F89B5C48@eva.mpg.de>
Message-ID: <05BF68D5-C118-4AF2-94C6-D184F64ADF54@r-project.org>

Hans,

this is exactly the kind of e-mail you shoudl *not* send to R-SIG- 
Mac. Please use common sense when deciding what to post where...

On May 15, 2007, at 2:14 PM, Hans-J?rg Bibiko wrote:

> Simon,
>
> OK, I understood ;)
>
> But I have a humble question. Two days ago, I sent you some code
> snippets for
> - auto-pair "" and ''
> - a fix for the file completion bug: '/Users/' and press TAB
>
> Did you get them? I sent them to simon.urbanek at r-project.org
>

Yes. However, it is quite hard to piece together your e-mails as they  
don't contain patches. Please use the svn sources, then you can  
create a patch simply with
svn diff
Then it's much easier to actually look at what you changed.

Cheers,
Simon


From simon.urbanek at r-project.org  Tue May 15 22:07:17 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 15 May 2007 16:07:17 -0400
Subject: [R-SIG-Mac] Mac GUI development
In-Reply-To: <05BF68D5-C118-4AF2-94C6-D184F64ADF54@r-project.org>
References: <1474D530-1EBF-4C93-AAAE-98567216C0B6@eva.mpg.de>
	<320EDECF-E90C-4732-AEA8-0A16C53B2CF6@r-project.org>
	<5AA7514A-7715-4317-BFE8-11EE0FC113FA@eva.mpg.de>
	<9D90063C-DBF8-48F8-A6CE-AC43ED3441CF@r-project.org>
	<7DCAC5F5-149B-426B-A615-D101F89B5C48@eva.mpg.de>
	<05BF68D5-C118-4AF2-94C6-D184F64ADF54@r-project.org>
Message-ID: <00007EBF-A07A-4988-B476-73CA9D760557@r-project.org>

... oops - the last e-mail was actually not meant to go to the list -  
mea culpa, sorry about the noise.

I'll just reiterate - patches are highly welcome, but please use
svn diff
in the root of the project (R or the Mac GUI) when sending them (or  
use diff -ru manually). Piecing them together from in-lined code in e- 
mails is very cumbersome and thus increases the probability of a  
swift rejection.

Thanks,
Simon


On May 15, 2007, at 3:56 PM, Simon Urbanek wrote:

> Hans,
>
> this is exactly the kind of e-mail you shoudl *not* send to R-SIG- 
> Mac. Please use common sense when deciding what to post where...
>
> On May 15, 2007, at 2:14 PM, Hans-J?rg Bibiko wrote:
>
>> Simon,
>>
>> OK, I understood ;)
>>
>> But I have a humble question. Two days ago, I sent you some code
>> snippets for
>> - auto-pair "" and ''
>> - a fix for the file completion bug: '/Users/' and press TAB
>>
>> Did you get them? I sent them to simon.urbanek at r-project.org
>>
>
> Yes. However, it is quite hard to piece together your e-mails as  
> they don't contain patches. Please use the svn sources, then you  
> can create a patch simply with
> svn diff
> Then it's much easier to actually look at what you changed.
>
> Cheers,
> Simon
>
>


From vincent.goulet at act.ulaval.ca  Tue May 15 23:52:26 2007
From: vincent.goulet at act.ulaval.ca (Vincent Goulet)
Date: Tue, 15 May 2007 17:52:26 -0400
Subject: [R-SIG-Mac] Mac GUI development
In-Reply-To: <00007EBF-A07A-4988-B476-73CA9D760557@r-project.org>
References: <1474D530-1EBF-4C93-AAAE-98567216C0B6@eva.mpg.de>
	<320EDECF-E90C-4732-AEA8-0A16C53B2CF6@r-project.org>
	<5AA7514A-7715-4317-BFE8-11EE0FC113FA@eva.mpg.de>
	<9D90063C-DBF8-48F8-A6CE-AC43ED3441CF@r-project.org>
	<7DCAC5F5-149B-426B-A615-D101F89B5C48@eva.mpg.de>
	<05BF68D5-C118-4AF2-94C6-D184F64ADF54@r-project.org>
	<00007EBF-A07A-4988-B476-73CA9D760557@r-project.org>
Message-ID: <8BB9312D-F6CE-44E7-B52A-CAC69AAE902F@act.ulaval.ca>

I think giving the link to this page will be appropriate here:

	http://wiki.r-project.org/rwiki/doku.php?id=misc:rpatch

Le 07-05-15 ? 16:07, Simon Urbanek a ?crit :

> ... oops - the last e-mail was actually not meant to go to the list -
> mea culpa, sorry about the noise.
>
> I'll just reiterate - patches are highly welcome, but please use
> svn diff
> in the root of the project (R or the Mac GUI) when sending them (or
> use diff -ru manually). Piecing them together from in-lined code in e-
> mails is very cumbersome and thus increases the probability of a
> swift rejection.
>
> Thanks,
> Simon
>
>
> On May 15, 2007, at 3:56 PM, Simon Urbanek wrote:
>
>> Hans,
>>
>> this is exactly the kind of e-mail you shoudl *not* send to R-SIG-
>> Mac. Please use common sense when deciding what to post where...
>>
>> On May 15, 2007, at 2:14 PM, Hans-J?rg Bibiko wrote:
>>
>>> Simon,
>>>
>>> OK, I understood ;)
>>>
>>> But I have a humble question. Two days ago, I sent you some code
>>> snippets for
>>> - auto-pair "" and ''
>>> - a fix for the file completion bug: '/Users/' and press TAB
>>>
>>> Did you get them? I sent them to simon.urbanek at r-project.org
>>>
>>
>> Yes. However, it is quite hard to piece together your e-mails as
>> they don't contain patches. Please use the svn sources, then you
>> can create a patch simply with
>> svn diff
>> Then it's much easier to actually look at what you changed.
>>
>> Cheers,
>> Simon
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac



---
   Vincent Goulet, Associate Professor
   ?cole d'actuariat
   Universit? Laval, Qu?bec
   Vincent.Goulet at act.ulaval.ca   http://vgoulet.act.ulaval.ca


From ralf.schaefer at ufz.de  Tue May 15 18:58:07 2007
From: ralf.schaefer at ufz.de (=?ISO-8859-1?Q?Ralf_Sch=E4fer?=)
Date: Tue, 15 May 2007 18:58:07 +0200
Subject: [R-SIG-Mac] R crashes when copying code
In-Reply-To: <A5B59B39-0B65-488A-AE32-3D857B1A5DC4@mac.com>
References: <0C535DB5-BB05-458C-BD13-D12D91D196D7@ufz.de>
	<A5B59B39-0B65-488A-AE32-3D857B1A5DC4@mac.com>
Message-ID: <E17CE563-BAFD-4F4B-9AB6-A834A79B4896@ufz.de>

Hi Rob,

thanks a lot!!!

I can specify the problem now:

No problem opening two files when using the R console toolbar to open  
existing files. Copying works - no problem.

But when opening 2 files from a folder directly (by double-clicking)  
copying code from one editor window to the other causes a crash or  
malfunctions. This did not appear before update to version 2.5, hence  
I think it is either a bug or some problem with the version on my OS.

Best regards and thanks a lot,

Ralf

Am 15.05.2007 um 16:33 schrieb Rob J Goedman:

> Ralf,
>
> Trying to reconstruct your problem.
>
> I used the Edit icon in the R Console toolbar to open 2 different  
> edit windows for existing files and
> copied stuff from 1 window to the other and vice versa a couple of  
> times. Is that what you're doing?
>
> Rob
>
> On May 14, 2007, at 8:24 AM, Ralf Sch?fer wrote:
>
>> Hello,
>>
>> I updated to R 2.5.0 re


From vze3q3vp at verizon.net  Tue May 15 21:56:25 2007
From: vze3q3vp at verizon.net (vze3q3vp at verizon.net)
Date: Tue, 15 May 2007 14:56:25 -0500 (CDT)
Subject: [R-SIG-Mac] libg2c.0.dylib
Message-ID: <31669131.1214421179258985241.JavaMail.root@vms075.mailsrvcs.net>

Sir,

Do you have any idea where I can find libg2c.0.dylib ?

I need it to run open source applications on a MacPro, and I cannot find it 
anywhere.


From blopes at email.unc.edu  Tue May 15 23:50:28 2007
From: blopes at email.unc.edu (Brian J. Lopes)
Date: Tue, 15 May 2007 17:50:28 -0400
Subject: [R-SIG-Mac] Using Makefile in my package?
Message-ID: <464A2B24.6020308@email.unc.edu>

I am trying to create a Makefile for my C source code in my library. 
Yet, whenever I try to build the package I get:

$ R CMD build spatrr
* checking for file 'spatrr/DESCRIPTION' ... OK
* preparing 'spatrr':
* checking DESCRIPTION meta-information ... OK
* cleaning src
make: /Library/Frameworks/R.framework/Resources/etc/Makeconf: No such 
file or directory
make: *** No rule to make target 
`/Library/Frameworks/R.framework/Resources/etc/Makeconf'.  Stop.
* removing junk files
* checking for LF line-endings in source files
* checking for empty or unneeded directories
* building 'spatrr_1.0.tar.gz'

I've noticed some older posts pointing out that references to Makeconf 
should be $(R_HOME)/etc${R_ARCH}/Makeconf, but everywhere I look this 
seems to be setup correctly.

I am using the standard binary download of R 2.5.0 on OS X 10.4.  Please 
CC me on responses, as I am not subscribed to the list.

Thanks in advance for any help!


-- 
To know that we know what we know, and that we do not know what we do
not know, that is true knowledge --Henry David Thoreau (quoting
Confucius): Walden


From tim.bates at ed.ac.uk  Wed May 16 10:07:47 2007
From: tim.bates at ed.ac.uk (Timothy Bates)
Date: Wed, 16 May 2007 09:07:47 +0100
Subject: [R-SIG-Mac] Clipboard
Message-ID: <C2707A63.539CB%tim.bates@ed.ac.uk>

Hi there, 

This command  to use the clipboard as a data source used (pre 2.4?)
to work on OS X:

 my.data <- read.table(file("clipboard"),header=TRUE)
> OR JUST
 my.data <- read.table("clipboard", header=TRUE)

Now (2.5) the above forms generate an error

> Error in open.connection(file, "r") : unable to open connection
> In addition: Warning message:
> Clipboard cannot be opened or contains no text


And instead we have to do:

my.data <- read.table(pipe("pbpaste"), header=TRUE)


I wonder as this is quite a nice feature, and widely used, if the PC version
should not be emulated on the mac (i.e., both the os x terminology "pbpaste"
and the generic and user friendly "clipboard" work?

It would seem especially valuable as it will help scripts stay
cross-platform. The only drawback i can see if that you couldn't access
files called "clipboard" stored in the target directory, but that seems no
practical loss.

Tim


From knoblauch at lyon.inserm.fr  Wed May 16 13:20:06 2007
From: knoblauch at lyon.inserm.fr (ken knoblauch)
Date: Wed, 16 May 2007 13:20:06 +0200
Subject: [R-SIG-Mac] R-SIG-Mac] Clipboard
Message-ID: <c47db1248ff4d2ec4fb58fb5c9c8d56a@lyon.inserm.fr>

read.table("clipboard") still works on my R 2.4.1 if you have x11 open, 
but not
if you don't.

 From a thread that appeared on the r-devel list that I can't locate 
just now,
it's apparently not that obvious how to extend this generally to the 
Mac although that
might chance in the future.


> Hi there,
>
> This command  to use the clipboard as a data source used (pre 2.4?)
> to work on OS X:
>
>  my.data <- read.table(file("clipboard"),header=TRUE)
> > OR JUST
>  my.data <- read.table("clipboard", header=TRUE)
>
> Now (2.5) the above forms generate an error
>
> > Error in open.connection(file, "r") : unable to open connection
> > In addition: Warning message:
> > Clipboard cannot be opened or contains no text
>
>
> And instead we have to do:
>
> my.data <- read.table(pipe("pbpaste"), header=TRUE)
>
>
> I wonder as this is quite a nice feature, and widely used, if the PC 
> version
> should not be emulated on the mac (i.e., both the os x terminology 
> "pbpaste"
> and the generic and user friendly "clipboard" work?
>
> It would seem especially valuable as it will help scripts stay
> cross-platform. The only drawback i can see if that you couldn't access
> files called "clipboard" stored in the target directory, but that 
> seems no
> practical loss.
>
> Tim


From simon.urbanek at r-project.org  Wed May 16 15:45:57 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 16 May 2007 09:45:57 -0400
Subject: [R-SIG-Mac] libg2c.0.dylib
In-Reply-To: <31669131.1214421179258985241.JavaMail.root@vms075.mailsrvcs.net>
References: <31669131.1214421179258985241.JavaMail.root@vms075.mailsrvcs.net>
Message-ID: <72AA7F97-E458-4C0C-8A88-C3F6512E1081@r-project.org>

This list is called R-SIG-Mac, not SIG-Mac ;).

On May 15, 2007, at 3:56 PM, <vze3q3vp at verizon.net> wrote:

> Do you have any idea where I can find libg2c.0.dylib ?
>
> I need it to run open source applications on a MacPro, and I cannot  
> find it
> anywhere.

If they are open-source, then get the source and compile it. That  
should solve the problem. g2c is compiler-specific, so it likely  
comes with the compiler (modern Fortran compilers don't use it). If  
you don't have a Fortran compiler, you can get GNU Fortran 4.2 from  
http://r.research.att.com/tools/

Cheers,
Simon


From simon.urbanek at r-project.org  Wed May 16 16:43:17 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 16 May 2007 10:43:17 -0400
Subject: [R-SIG-Mac] Clipboard
In-Reply-To: <C2707A63.539CB%tim.bates@ed.ac.uk>
References: <C2707A63.539CB%tim.bates@ed.ac.uk>
Message-ID: <0876A949-C61D-4FDF-8B4F-BECD0697B5D9@r-project.org>


On May 16, 2007, at 4:07 AM, Timothy Bates wrote:

> Hi there,
>
> This command  to use the clipboard as a data source used (pre 2.4?)
> to work on OS X:
>
>  my.data <- read.table(file("clipboard"),header=TRUE)
>> OR JUST
>  my.data <- read.table("clipboard", header=TRUE)
>
> Now (2.5) the above forms generate an error
>

Nothing really changed, it still works even in R 2.5.0 if you use X11  
(as Ken pointed out).


> And instead we have to do:
>
> my.data <- read.table(pipe("pbpaste"), header=TRUE)
>

That works with any Mac pasteboard.


> I wonder as this is quite a nice feature, and widely used, if the  
> PC version should not be emulated on the mac (i.e., both the os x  
> terminology "pbpaste" and the generic and user friendly "clipboard"  
> work?
>

It is not trivial, because a file and a pipe are different connection  
types and when you use file("clipboard"), it could mean either pipe 
("pbpaste") or pipe("pbcopy","w"), so the purpose it not clear until  
you actually open the connection.

IMHO a more clean solution would be to provide a dedicated clipboard 
() function which would create a clipboard connection, regardless of  
the platform.

Cheers,
Simon


From bibiko at eva.mpg.de  Wed May 16 16:57:22 2007
From: bibiko at eva.mpg.de (Hans-Joerg Bibiko)
Date: Wed, 16 May 2007 16:57:22 +0200
Subject: [R-SIG-Mac] R-SIG-Mac] Clipboard
In-Reply-To: <c47db1248ff4d2ec4fb58fb5c9c8d56a@lyon.inserm.fr>
References: <c47db1248ff4d2ec4fb58fb5c9c8d56a@lyon.inserm.fr>
Message-ID: <F3A3C6D0-527F-48EE-A60F-4D618F224BCE@eva.mpg.de>

Hi,

some time ago I had the same problem. Unless it isn't solved natively  
I use this hack:

I overwrote the file function in R's start script:

file<-function(description = "", open = "", blocking = TRUE, encoding  
= getOption("encoding")){
if(description=="clipboard")
	pipe("pbpaste")
else
	.Internal(file(description, open, blocking, encoding))
}

By doing so you stay cross-platform. But note it is not UTF-8  
compatible. If one need utf-8 support one could write a bash script  
which writes the clipboard content to a file. Then one could replace  
pipe("clipboard") by system("THEBASH");file("/tmp/foo").

Of course, I know this is really a quirky hack but for me it works  
ALMOST quite well, and I can work with the same scripts on a Mac  
(without X11) or on Linux.
If there are unexpected problems you can easily write: rm(file).

Hans


>> Hi there,
>>
>> This command  to use the clipboard as a data source used (pre 2.4?)
>> to work on OS X:
>>
>>  my.data <- read.table(file("clipboard"),header=TRUE)
>>> OR JUST
>>  my.data <- read.table("clipboard", header=TRUE)
>>
>> Now (2.5) the above forms generate an error
>>
>>> Error in open.connection(file, "r") : unable to open connection
>>> In addition: Warning message:
>>> Clipboard cannot be opened or contains no text
>>
>>
>> And instead we have to do:
>>
>> my.data <- read.table(pipe("pbpaste"), header=TRUE)
>>
>>
>> I wonder as this is quite a nice feature, and widely used, if the PC
>> version
>> should not be emulated on the mac (i.e., both the os x terminology
>> "pbpaste"
>> and the generic and user friendly "clipboard" work?
>>
>> It would seem especially valuable as it will help scripts stay
>> cross-platform. The only drawback i can see if that you couldn't  
>> access
>> files called "clipboard" stored in the target directory, but that
>> seems no
>> practical loss.
>>
>> Tim


From seppo.nyrkko at helsinki.fi  Wed May 16 17:39:10 2007
From: seppo.nyrkko at helsinki.fi (=?ISO-8859-1?Q?Seppo_Nyrkk=F6?=)
Date: Wed, 16 May 2007 18:39:10 +0300
Subject: [R-SIG-Mac] Reading in a table originally with ISO-latin1
	encoding (in Linux)
In-Reply-To: <Pine.LNX.4.62.0606221935470.8497@venus.ling.helsinki.fi>
References: <mailman.17.1150106404.10250.r-sig-mac@stat.math.ethz.ch>
	<Pine.LNX.4.62.0606221935470.8497@venus.ling.helsinki.fi>
Message-ID: <fa27d9b367f3cabf06e8f27355e6193e@helsinki.fi>

Dear mac & R users,

Returning to this issue, I and Antti found out this certain problem 
with R.app and Scandinavian characters was triggered by the Mac OS X's 
system-wide language locale set to "C" (POSIX) in the OS X installation 
phase.

(details follow)


On June 22, 2006 at 19:43, Antti Arppe wrote:

  Dear colleagues,
>
> With the help of a colleague of mine here in Helsinki (Seppo Nyrkk?) 
> who looked at the innards of the R source code for Mac it turned out 
> that this was in the end indeed an issue concerning the Mac locale and 
> its settings and not R.
>
> Though we had tried this earlier by changing the LANG variable to 
> 'fi_FI', we hadn't looked hard enough in the available encodings (with 
> locale -a) to select the exactly correct value, being:
>
> LANG=fi_FI.IS08859-1; export LANG;
>
> With this configuration R was able to happily read in my original 
> table with the Scandinavian characters in the header, without no fuss.
>
> Thanks for your advice, and wishing all a good Midsummer,
>
>         -Antti Arppe
>


At the startup, R checks whether it is running in an international 
character set locale or not. The locale information is inherited from 
the parent process, i.e. the os x window server, which reads locale 
settings from the system-wide settings. This information describes 
which characters are printable, and which should be displayed as 
substituted characters during the whole R session. The POSIX C locale 
allows only displaying 7-bit ASCII characters, and disables any 
printing of the scandinavian characters (?,?,?) in R.app.

First step of recovery is to change the system from the C locale to an 
international locale which allows utf-8 character sequences (can be 
done through System Preferences). This enables proper output of unicode 
characters in the R.app terminal.

Then, to read and write files in the latin-1 (iso-8859-1) character set 
(note that the system does utf-8 by default now), one should change the 
default encoding for file operations by commanding
   'options(encoding="iso-8859-1")'
at the command prompt. It is also possible to add this setting in the 
startup file ".Rprofile" in the project startup directory.

Changing the locale in the command-line shell session (either by hand 
or in the shell profile script) might not be the best solution here, 
since other locale-aware OS X applications, launched from the window 
manager, would remain in the C locale.

with best regards,
   Seppo


From Roland.Kaiser at sbg.ac.at  Wed May 16 18:12:59 2007
From: Roland.Kaiser at sbg.ac.at (Roland Kaiser)
Date: Wed, 16 May 2007 18:12:59 +0200
Subject: [R-SIG-Mac] create path/folder
Message-ID: <E68690D9-4B7C-4E6B-BA7F-C8B031FCF17F@sbg.ac.at>

Hi UseRs!

Is it possible to to create a folder
in the system directory from inside R?

setwd(tempdir())
folder.name <- letters[1:5]
...?

Can somebody give me a hint?

Cheers	Roland


From simon.urbanek at r-project.org  Wed May 16 18:18:53 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 16 May 2007 12:18:53 -0400
Subject: [R-SIG-Mac] Reading in a table originally with ISO-latin1
	encoding (in Linux)
In-Reply-To: <fa27d9b367f3cabf06e8f27355e6193e@helsinki.fi>
References: <mailman.17.1150106404.10250.r-sig-mac@stat.math.ethz.ch>
	<Pine.LNX.4.62.0606221935470.8497@venus.ling.helsinki.fi>
	<fa27d9b367f3cabf06e8f27355e6193e@helsinki.fi>
Message-ID: <1D29B776-B207-4DE6-8422-D17F5ADF8317@r-project.org>

Seppo,

On May 16, 2007, at 11:39 AM, Seppo Nyrkk? wrote:

> Dear mac & R users,
>
> Returning to this issue, I and Antti found out this certain problem  
> with R.app and Scandinavian characters was triggered by the Mac OS  
> X's system-wide language locale set to "C" (POSIX) in the OS X  
> installation phase.
>

Did you even have a look? If you did, you'd see that pretty much  
nothing of what you (or Antti) said is true. For example in the US  
locale you get:

 > Sys.getlocale()
[1] "en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8"

Please read the documentation, especially R for Mac OS X FAQ: "9  
Internationalization of the R.app". The R.app sets the locale  
according to user's preferences. For proper operation you *must* use  
UTF-8 locale, because that is what all system calls expect. You can  
run R in C locale if you insist, but then you lose the ability to  
display non-ASCII character.

This has nothing to do with reading and writing files - note the  
"encoding" option in all read/write functions that allows you to read/ 
write files in various encodings. Please read R documentation on  
encodings.

Cheers,
Simon




> (details follow)
>
>
> On June 22, 2006 at 19:43, Antti Arppe wrote:
>
>   Dear colleagues,
>>
>> With the help of a colleague of mine here in Helsinki (Seppo Nyrkk?)
>> who looked at the innards of the R source code for Mac it turned out
>> that this was in the end indeed an issue concerning the Mac locale  
>> and
>> its settings and not R.
>>
>> Though we had tried this earlier by changing the LANG variable to
>> 'fi_FI', we hadn't looked hard enough in the available encodings  
>> (with
>> locale -a) to select the exactly correct value, being:
>>
>> LANG=fi_FI.IS08859-1; export LANG;
>>
>> With this configuration R was able to happily read in my original
>> table with the Scandinavian characters in the header, without no  
>> fuss.
>>
>> Thanks for your advice, and wishing all a good Midsummer,
>>
>>         -Antti Arppe
>>
>
>
> At the startup, R checks whether it is running in an international
> character set locale or not. The locale information is inherited from
> the parent process, i.e. the os x window server, which reads locale
> settings from the system-wide settings. This information describes
> which characters are printable, and which should be displayed as
> substituted characters during the whole R session. The POSIX C locale
> allows only displaying 7-bit ASCII characters, and disables any
> printing of the scandinavian characters (?,?,?) in R.app.
>
> First step of recovery is to change the system from the C locale to an
> international locale which allows utf-8 character sequences (can be
> done through System Preferences). This enables proper output of  
> unicode
> characters in the R.app terminal.
>
> Then, to read and write files in the latin-1 (iso-8859-1) character  
> set
> (note that the system does utf-8 by default now), one should change  
> the
> default encoding for file operations by commanding
>    'options(encoding="iso-8859-1")'
> at the command prompt. It is also possible to add this setting in the
> startup file ".Rprofile" in the project startup directory.
>
> Changing the locale in the command-line shell session (either by hand
> or in the shell profile script) might not be the best solution here,
> since other locale-aware OS X applications, launched from the window
> manager, would remain in the C locale.
>
> with best regards,
>    Seppo
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From bibiko at eva.mpg.de  Wed May 16 18:57:24 2007
From: bibiko at eva.mpg.de (=?ISO-8859-1?Q?Hans-J=F6rg_Bibiko?=)
Date: Wed, 16 May 2007 18:57:24 +0200
Subject: [R-SIG-Mac] create path/folder
In-Reply-To: <E68690D9-4B7C-4E6B-BA7F-C8B031FCF17F@sbg.ac.at>
References: <E68690D9-4B7C-4E6B-BA7F-C8B031FCF17F@sbg.ac.at>
Message-ID: <DE108814-18A7-4AA8-9565-61ABF7DCB92B@eva.mpg.de>


On 16.05.2007, at 18:12, Roland Kaiser wrote:

> Hi UseRs!
>
> Is it possible to to create a folder
> in the system directory from inside R?
>
> setwd(tempdir())
> folder.name <- letters[1:5]
> ...?
>
> Can somebody give me a hint?
>

Do you mean something like that:

setwd(tempdir())
a<-"a_name"
system(paste("mkdir",a))

?

Hans


From statmobile at gmail.com  Wed May 16 19:02:15 2007
From: statmobile at gmail.com (statmobile at gmail.com)
Date: Wed, 16 May 2007 13:02:15 -0400
Subject: [R-SIG-Mac] Using Makefile in my package
Message-ID: <20070516170215.GA16396@bjl>

I am trying to create a Makefile for my C source code in my library.
Yet, whenever I try to build the package I get:

$ R CMD build spatrr
* checking for file 'spatrr/DESCRIPTION' ... OK
* preparing 'spatrr':
* checking DESCRIPTION meta-information ... OK
* cleaning src
make: /Library/Frameworks/R.framework/Resources/etc/Makeconf: No such
file or directory
make: *** No rule to make target
`/Library/Frameworks/R.framework/Resources/etc/Makeconf'.  Stop.
* removing junk files
* checking for LF line-endings in source files
* checking for empty or unneeded directories
* building 'spatrr_1.0.tar.gz'

I've noticed some older posts pointing out that references to Makeconf
should be $(R_HOME)/etc${R_ARCH}/Makeconf, but everywhere I look this
seems to be setup correctly.

I am using the standard binary download of R 2.5.0 on OS X 10.4.

Thanks in advance for any help!

-- 
To know that we know what we know, and that we do not know what we do
not know, that is true knowledge --Henry David Thoreau (quoting
Confucius): Walden


From bcarvalh at jhsph.edu  Wed May 16 19:41:52 2007
From: bcarvalh at jhsph.edu (Benilton Carvalho)
Date: Wed, 16 May 2007 13:41:52 -0400
Subject: [R-SIG-Mac] create path/folder
In-Reply-To: <E68690D9-4B7C-4E6B-BA7F-C8B031FCF17F@sbg.ac.at>
References: <E68690D9-4B7C-4E6B-BA7F-C8B031FCF17F@sbg.ac.at>
Message-ID: <138AF80F-6A59-4FD8-B3E5-2DEB4FD71D72@jhsph.edu>

help("dir.create")

b

On May 16, 2007, at 12:12 PM, Roland Kaiser wrote:

> Hi UseRs!
>
> Is it possible to to create a folder
> in the system directory from inside R?
>
> setwd(tempdir())
> folder.name <- letters[1:5]
> ...?
>
> Can somebody give me a hint?
>
> Cheers	Roland
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac



--
Benilton Carvalho
PhD Candidate
Department of Biostatistics
Bloomberg School of Public Health
Johns Hopkins University
bcarvalh at jhsph.edu


From simon.urbanek at r-project.org  Wed May 16 19:42:38 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 16 May 2007 13:42:38 -0400
Subject: [R-SIG-Mac] Using Makefile in my package
In-Reply-To: <20070516170215.GA16396@bjl>
References: <20070516170215.GA16396@bjl>
Message-ID: <0EB1793B-1690-402B-BD18-998320D13AE5@r-project.org>

Statmobile,

you should consider using Makevars instead, because creating a  
Makefile highly increases the risk of your package breaking on  
various systems. In addition, changes in R will likely break your  
Makefile if you rely on some internals of R. That is precisely why it  
is strongly recommended to use Makevars.

Also you didn't send us your Makefile, so we cannot tell you what you  
did wrong in your setup.

Cheers,
Simon

On May 16, 2007, at 1:02 PM, statmobile at gmail.com wrote:

> I am trying to create a Makefile for my C source code in my library.
> Yet, whenever I try to build the package I get:
>
> $ R CMD build spatrr
> * checking for file 'spatrr/DESCRIPTION' ... OK
> * preparing 'spatrr':
> * checking DESCRIPTION meta-information ... OK
> * cleaning src
> make: /Library/Frameworks/R.framework/Resources/etc/Makeconf: No such
> file or directory
> make: *** No rule to make target
> `/Library/Frameworks/R.framework/Resources/etc/Makeconf'.  Stop.
> * removing junk files
> * checking for LF line-endings in source files
> * checking for empty or unneeded directories
> * building 'spatrr_1.0.tar.gz'
>
> I've noticed some older posts pointing out that references to Makeconf
> should be $(R_HOME)/etc${R_ARCH}/Makeconf, but everywhere I look this
> seems to be setup correctly.
>
> I am using the standard binary download of R 2.5.0 on OS X 10.4.
>
> Thanks in advance for any help!
>
> -- 
> To know that we know what we know, and that we do not know what we do
> not know, that is true knowledge --Henry David Thoreau (quoting
> Confucius): Walden
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From roebuck at mdanderson.org  Wed May 16 20:13:41 2007
From: roebuck at mdanderson.org (Paul Roebuck)
Date: Wed, 16 May 2007 13:13:41 -0500 (CDT)
Subject: [R-SIG-Mac] create path/folder
In-Reply-To: <DE108814-18A7-4AA8-9565-61ABF7DCB92B@eva.mpg.de>
References: <E68690D9-4B7C-4E6B-BA7F-C8B031FCF17F@sbg.ac.at>
	<DE108814-18A7-4AA8-9565-61ABF7DCB92B@eva.mpg.de>
Message-ID: <Pine.OSF.4.58.0705161311150.113262@wotan.mdacc.tmc.edu>

On Wed, 16 May 2007, [ISO-8859-1] Hans-J?rg Bibiko wrote:

> On 16.05.2007, at 18:12, Roland Kaiser wrote:
>
> > Is it possible to to create a folder
> > in the system directory from inside R?
> >
> > setwd(tempdir())
> > folder.name <- letters[1:5]
> > ...?
> >
> > Can somebody give me a hint?
>
> Do you mean something like that:
>
> setwd(tempdir())
> a<-"a_name"
> system(paste("mkdir",a))

?dir.create

although this is really an R-Help topic...

----------------------------------------------------------
SIGSIG -- signature too long (core dumped)


From timothy.c.bates at gmail.com  Wed May 16 19:17:48 2007
From: timothy.c.bates at gmail.com (Timothy Bates)
Date: Wed, 16 May 2007 18:17:48 +0100
Subject: [R-SIG-Mac] R-SIG-Mac] Clipboard
In-Reply-To: <c47db1248ff4d2ec4fb58fb5c9c8d56a@lyon.inserm.fr>
Message-ID: <C270FB4C.53A1A%timothy.c.bates@gmail.com>


> read.table("clipboard") still works on my R 2.4.1 if you have x11 open,
> but not if you don't.

That's an anomaly then: I have X11 open and it doesn't work for me.

version.string R version 2.5.0 (2007-04-23)
X11 1.1.3 - XFree86 4.4.0
OS X 10.4.9 (8P135)


From jtnews1 at biomserv.univ-lyon1.fr  Thu May 17 11:44:53 2007
From: jtnews1 at biomserv.univ-lyon1.fr (Jean Thioulouse)
Date: Thu, 17 May 2007 11:44:53 +0200
Subject: [R-SIG-Mac] R-SIG-Mac] Clipboard
In-Reply-To: <C270FB4C.53A1A%timothy.c.bates@gmail.com>
References: <C270FB4C.53A1A%timothy.c.bates@gmail.com>
Message-ID: <p06240800c271d35931f5@[192.168.0.1]>

>> read.table("clipboard") still works on my R 2.4.1 if you have x11 open,
>> but not if you don't.
>
>That's an anomaly then: I have X11 open and it doesn't work for me.
>

It is a little bit more complicated... It works, even with R 2.5.0, but
you must have opened an X11 window and this window must have been brought
to front (at least this is how it works for me).

Jean
-- 
Jean Thioulouse - Labo Biometrie et Biologie Evolutive, UMR CNRS 5558
Universite Lyon 1,  43 Boulevard du 11 Novembre 1918,  Bat. G. Mendel
69622 Villeurbanne Cedex,  France.       Tel/Fax : (33) 4 72 43 27 56                       
               http://pbil.univ-lyon1.fr/JTHome.html


From roland.kaiser at sbg.ac.at  Thu May 17 12:03:04 2007
From: roland.kaiser at sbg.ac.at (Roland Kaiser)
Date: Thu, 17 May 2007 12:03:04 +0200
Subject: [R-SIG-Mac] create path/folder
In-Reply-To: <Pine.OSF.4.58.0705161311150.113262@wotan.mdacc.tmc.edu>
References: <E68690D9-4B7C-4E6B-BA7F-C8B031FCF17F@sbg.ac.at>
	<DE108814-18A7-4AA8-9565-61ABF7DCB92B@eva.mpg.de>
	<Pine.OSF.4.58.0705161311150.113262@wotan.mdacc.tmc.edu>
Message-ID: <C7B40266-59E3-486E-87C2-852583CBCE88@sbg.ac.at>


Am 16.05.2007 um 20:13 schrieb Paul Roebuck:

> On Wed, 16 May 2007, [ISO-8859-1] Hans-J?rg Bibiko wrote:
>
>> On 16.05.2007, at 18:12, Roland Kaiser wrote:
>>
>>> Is it possible to to create a folder
>>> in the system directory from inside R?
>>>
>>> setwd(tempdir())
>>> folder.name <- letters[1:5]
>>> ...?
>>>
>>> Can somebody give me a hint?
>>
>> Do you mean something like that:
>>
>> setwd(tempdir())
>> a<-"a_name"
>> system(paste("mkdir",a))
>
> ?dir.create
>
> although this is really an R-Help topic...
>
> ----------------------------------------------------------
> SIGSIG -- signature too long (core dumped)
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

Thanks to a all!

Yes Paul this is better posted at R-Help.
I picked my mistake the wrong address.


From simon.urbanek at r-project.org  Thu May 17 14:46:47 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 17 May 2007 08:46:47 -0400
Subject: [R-SIG-Mac] R-SIG-Mac] Clipboard
In-Reply-To: <C270FB4C.53A1A%timothy.c.bates@gmail.com>
References: <C270FB4C.53A1A%timothy.c.bates@gmail.com>
Message-ID: <E10D0514-DF6B-47B9-BCA6-0F9AA133875C@r-project.org>


On May 16, 2007, at 1:17 PM, Timothy Bates wrote:

>
>> read.table("clipboard") still works on my R 2.4.1 if you have x11  
>> open,
>> but not if you don't.
>
> That's an anomaly then: I have X11 open and it doesn't work for me.
>

Did you set DISPLAY accordingly? R.app does that for you, but vanilla  
R doesn't.

Cheers,
Simon


> version.string R version 2.5.0 (2007-04-23)
> X11 1.1.3 - XFree86 4.4.0
> OS X 10.4.9 (8P135)
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Thu May 17 14:47:38 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 17 May 2007 08:47:38 -0400
Subject: [R-SIG-Mac] R-SIG-Mac] Clipboard
In-Reply-To: <p06240800c271d35931f5@[192.168.0.1]>
References: <C270FB4C.53A1A%timothy.c.bates@gmail.com>
	<p06240800c271d35931f5@[192.168.0.1]>
Message-ID: <EE7EB4F0-19C2-48A6-99E0-53BCEE123373@r-project.org>


On May 17, 2007, at 5:44 AM, Jean Thioulouse wrote:

>>> read.table("clipboard") still works on my R 2.4.1 if you have x11  
>>> open,
>>> but not if you don't.
>>
>> That's an anomaly then: I have X11 open and it doesn't work for me.
>>
>
> It is a little bit more complicated... It works, even with R 2.5.0,  
> but
> you must have opened an X11 window and this window must have been  
> brought
> to front (at least this is how it works for me).
>

It works for me even if I have no X11 window open at all....

Cheers,
Simon


From a.beckerman at sheffield.ac.uk  Fri May 18 13:06:38 2007
From: a.beckerman at sheffield.ac.uk (Andrew Beckerman)
Date: Fri, 18 May 2007 12:06:38 +0100
Subject: [R-SIG-Mac] Strange Error...
Message-ID: <EAF7A816-E458-4B2E-BF99-42500EDCE30D@sheffield.ac.uk>

OSX 10.4.9
R 2.5.0

While editing a script, the following error occured - I was adding  
specification for the x variable in the akima function interp, if  
that helps.  I type xo, the ( and the editor finished the ) and the  
hiccup happend.  The editor is now locked.  Console works fine.  I  
don't really understand.... but perhaps its interesting?

2007-05-18 12:02:30.950 R[545] Exception raised during posting of  
notification.  Ignored.  exception: -[NSLayoutManager  
_fillGlyphHoleAtIndex:desiredNumberOfCharacters:] *** attempted glyph  
generation while textStorage is editing.  It is not valid to cause  
the layoutManager to do glyph generation while the textStorage is  
editing (ie the textStorage has been sent a beginEditing message  
without a matching endEditing.)

a

------------------------------------------------------------------------ 
---------
Dr. Andrew Beckerman
Department of Animal and Plant Sciences, University of Sheffield,
Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
http://www.beckslab.staff.shef.ac.uk/
------------------------------------------------------------------------ 
----------


From david.airey at Vanderbilt.Edu  Tue May 22 05:37:31 2007
From: david.airey at Vanderbilt.Edu (David Airey)
Date: Mon, 21 May 2007 22:37:31 -0500
Subject: [R-SIG-Mac] mini installed v.2.5 update packages question
Message-ID: <6D5ABC7B-FC2D-4E89-9344-1C82BECAE529@vanderbilt.edu>

When I update all using the package installer, I get:

-snip-

trying URL 'http://rh-mirror.linux.iastate.edu/CRAN/bin/macosx/ 
universal/contrib/2.5/VR_7.2-34.tgz'
Content type 'application/x-gzip' length 994879 bytes
opened URL
==================================================
downloaded 971Kb

trying URL 'http://rh-mirror.linux.iastate.edu/CRAN/bin/macosx/ 
universal/contrib/2.5/cluster_1.11.6.tgz'
Content type 'application/x-gzip' length 370568 bytes
opened URL
==================================================
downloaded 361Kb

trying URL 'http://rh-mirror.linux.iastate.edu/CRAN/bin/macosx/ 
universal/contrib/2.5/lattice_0.15-5.tgz'
Content type 'application/x-gzip' length 533552 bytes
opened URL
==================================================
downloaded 521Kb

trying URL 'http://rh-mirror.linux.iastate.edu/CRAN/bin/macosx/ 
universal/contrib/2.5/mgcv_1.3-24.tgz'
Content type 'application/x-gzip' length 771616 bytes
opened URL
==================================================
downloaded 753Kb

trying URL 'http://rh-mirror.linux.iastate.edu/CRAN/bin/macosx/ 
universal/contrib/2.5/nlme_3.1-81.tgz'
Content type 'application/x-gzip' length 1283253 bytes
opened URL
==================================================
downloaded 1253Kb

trying URL 'http://rh-mirror.linux.iastate.edu/CRAN/bin/macosx/ 
universal/contrib/2.5/rcompgen_0.1-12.tgz'
Content type 'application/x-gzip' length 41968 bytes
opened URL
==================================================
downloaded 40Kb


The downloaded packages are in
	/tmp/RtmpG3GkSW/downloaded_packages
 >
-snip-

I seem to remember having this issue with an earlier version. The  
package gets downloaded but not installed or updated.

--
David C. Airey, Ph.D.
Research Assistant Professor

Department of Pharmacology
School of Medicine
Vanderbilt University
8148-A Medical Research Building 3
465 21st Avenue South
Nashville, TN 37232-8548

TEL   (615) 936-1510
FAX   (615) 936-3747
EMAIL david.airey at vanderbilt.edu
URL   http://people.vanderbilt.edu/~david.c.airey/dca_cv.pdf
URL   http://www.vanderbilt.edu/pharmacology


From david.airey at Vanderbilt.Edu  Tue May 22 05:43:10 2007
From: david.airey at Vanderbilt.Edu (David Airey)
Date: Mon, 21 May 2007 22:43:10 -0500
Subject: [R-SIG-Mac] mini installed v.2.5 update packages question
Message-ID: <372CA51B-CFFA-4873-B256-260D8AB16C51@vanderbilt.edu>

... but then I quit R. Fixed permissions. Restarted R and the Package  
installer registers all packages are updated. Sorry about that.

-Dave

--
David C. Airey, Ph.D.
Research Assistant Professor

Department of Pharmacology
School of Medicine
Vanderbilt University
8148-A Medical Research Building 3
465 21st Avenue South
Nashville, TN 37232-8548

TEL   (615) 936-1510
FAX   (615) 936-3747
EMAIL david.airey at vanderbilt.edu
URL   http://people.vanderbilt.edu/~david.c.airey/dca_cv.pdf
URL   http://www.vanderbilt.edu/pharmacology


From david.airey at Vanderbilt.Edu  Tue May 22 05:48:47 2007
From: david.airey at Vanderbilt.Edu (David Airey)
Date: Mon, 21 May 2007 22:48:47 -0500
Subject: [R-SIG-Mac] mini installed v.2.5 update packages question
Message-ID: <03C28315-A3E3-4CA5-82A5-9F975F803AA1@vanderbilt.edu>

... well, it does seem I have to quit and restart R for the package  
installer to register the installation of a new package or the update  
of an existing package. That was not the case in older versions,  
which before giving the prompt back, updated the package installer  
window (I think). Or maybe this lovely bottle of wine is the problem...

-Dave

--
David C. Airey, Ph.D.
Research Assistant Professor

Department of Pharmacology
School of Medicine
Vanderbilt University
8148-A Medical Research Building 3
465 21st Avenue South
Nashville, TN 37232-8548

TEL   (615) 936-1510
FAX   (615) 936-3747
EMAIL david.airey at vanderbilt.edu
URL   http://people.vanderbilt.edu/~david.c.airey/dca_cv.pdf
URL   http://www.vanderbilt.edu/pharmacology


From knoblauch at lyon.inserm.fr  Tue May 22 10:50:42 2007
From: knoblauch at lyon.inserm.fr (ken knoblauch)
Date: Tue, 22 May 2007 10:50:42 +0200
Subject: [R-SIG-Mac] mini installed v.2.5 update packages question
Message-ID: <b03cc20f31b9097a513f7b5a862c6a61@lyon.inserm.fr>

Hi,

This sounds similar to the problem that I described here for my powerpc 
Mac mini.

https://stat.ethz.ch/pipermail/r-sig-mac/2007-May/003826.html

I thought that this was perhaps a problem with permissions but fixing 
them
did not fix the problem.  I wonder if anyone else is experiencing this 
and
whether or not they are, whether anyone can suggest what might be going
on and how to fix it?

> When I update all using the package installer, I get:
....
> I seem to remember having this issue with an earlier version. The
> package gets downloaded but not installed or updated.

Thanks, in advance.


ken

-- 
Ken Knoblauch
Inserm U846
Institut Cellule Souche et Cerveau
D?partement Neurosciences Int?gratives
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.pizzerialesgemeaux.com/u846/


From murdoch at stats.uwo.ca  Tue May 22 12:53:40 2007
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 22 May 2007 06:53:40 -0400
Subject: [R-SIG-Mac] [R] quartz() on MAC OSX
In-Reply-To: <f8e6ff050705212238u10a6b354haa0e3d167f6978b7@mail.gmail.com>
References: <C278706B.163%r.turner@auckland.ac.nz>	<46522A0A.5080206@stats.uwo.ca>
	<f8e6ff050705212238u10a6b354haa0e3d167f6978b7@mail.gmail.com>
Message-ID: <4652CBB4.6060702@stats.uwo.ca>

hadley wickham wrote:
> On 5/22/07, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>   
>> On 21/05/2007 6:03 PM, Rolf Turner wrote:
>>     
>>> On 22/5/07 6:48 AM, "hadley wickham" <h.wickham at gmail.com> wrote:
>>>
>>>       
>>>> Hi Rolf,
>>>>
>>>> Two possible solutions:
>>>>
>>>>  * DISPLAY=0.0.0.0:0 R - and then X11() should work without having to use
>>>> xterm
>>>>
>>>>  * install.packages("CarbonEL"); library(CarbonEL); quartz()
>>>>         
>>> It is clear that life is determined to frustrate me.  I had a look at CRAN
>>> just now and could find no sign of a package called "CarbonEL".  The list
>>> jumps from "car" to "cat" --- no "Carbon" of any flavour.  What gives?
>>>       
>> I think the Mac page on CRAN points to something obsolete.  From the R
>> GUI, CarbonEL is visible.  You can also find the source on SourceForge
>> using Google.
>>
>> However, it didn't work for me:  I still get the "interactivity reduced"
>> message, and when I try to plot something, just an error
>> "CGGSStackRestore:  gstack underflow."
>>     
>
> I get those messages too, but the plot actually works for me.  Does
> the quartz window open for you?  Can you interact with it?  (move it,
> change the size etc).
>   
(Moved from R-help.)

I took a closer look:  I actually did get the window (hidden under my 
terminal window), and
interactivity worked partially:  I could use identify, for example.  But 
when I clicked on the red close
button on the graphics window, it kicked me right out of R:

 > library(CarbonEL)
 > plot(1:10,1:10)
 > quartz()
Warning message:
quartz() device interactivity reduced without an event loop manager in: 
quartz()
 > plot(1:10,1:10)
CGGStackRestore: gstack underflow.
 > identify(1:10,1:10)

[Worked fine, then I clicked on the red button...]

 *** caught segfault ***
address 0xff020000, cause 'memory not mapped'

Traceback:
 1: identify.default(1:10, 1:10)
 2: identify(1:10, 1:10)

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace
Selection:


Duncan Murdoch


From simon.urbanek at r-project.org  Tue May 22 16:10:49 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 22 May 2007 10:10:49 -0400
Subject: [R-SIG-Mac] [R] quartz() on MAC OSX
In-Reply-To: <4652CBB4.6060702@stats.uwo.ca>
References: <C278706B.163%r.turner@auckland.ac.nz>	<46522A0A.5080206@stats.uwo.ca>
	<f8e6ff050705212238u10a6b354haa0e3d167f6978b7@mail.gmail.com>
	<4652CBB4.6060702@stats.uwo.ca>
Message-ID: <20E8570F-6B44-4F32-B34A-A6A9FA4525C7@r-project.org>


On May 22, 2007, at 6:53 AM, Duncan Murdoch wrote:

> hadley wickham wrote:
>> On 5/22/07, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>>
>>> On 21/05/2007 6:03 PM, Rolf Turner wrote:
>>>
>>>> On 22/5/07 6:48 AM, "hadley wickham" <h.wickham at gmail.com> wrote:
>>>>
>>>>
>>>>> Hi Rolf,
>>>>>
>>>>> Two possible solutions:
>>>>>
>>>>>  * DISPLAY=0.0.0.0:0 R - and then X11() should work without  
>>>>> having to use
>>>>> xterm
>>>>>
>>>>>  * install.packages("CarbonEL"); library(CarbonEL); quartz()
>>>>>
>>>> It is clear that life is determined to frustrate me.  I had a  
>>>> look at CRAN
>>>> just now and could find no sign of a package called "CarbonEL".   
>>>> The list
>>>> jumps from "car" to "cat" --- no "Carbon" of any flavour.  What  
>>>> gives?
>>>>
>>> I think the Mac page on CRAN points to something obsolete.  From  
>>> the R
>>> GUI, CarbonEL is visible.  You can also find the source on  
>>> SourceForge
>>> using Google.
>>>
>>> However, it didn't work for me:  I still get the "interactivity  
>>> reduced"
>>> message, and when I try to plot something, just an error
>>> "CGGSStackRestore:  gstack underflow."
>>>
>>
>> I get those messages too, but the plot actually works for me.  Does
>> the quartz window open for you?  Can you interact with it?  (move it,
>> change the size etc).
>>
> (Moved from R-help.)
>
> I took a closer look:  I actually did get the window (hidden under my
> terminal window), and
> interactivity worked partially:  I could use identify, for  
> example.  But
> when I clicked on the red close
> button on the graphics window, it kicked me right out of R:
>
>> library(CarbonEL)
>> plot(1:10,1:10)
>> quartz()
> Warning message:
> quartz() device interactivity reduced without an event loop manager  
> in:
> quartz()
>> plot(1:10,1:10)
> CGGStackRestore: gstack underflow.
>> identify(1:10,1:10)
>
> [Worked fine, then I clicked on the red button...]
>

Not a good idea ;) The window closes and the poor locator has no  
window to wait for clicks so it feels lonely and crashes R out of  
boredom... ;)
Should be fixed now.

FWIW: to get CarbonEL, run
install.packages("CarbonEL",,"http://www.rforge.net")

Cheers,
Simon


From h.wickham at gmail.com  Tue May 22 16:53:59 2007
From: h.wickham at gmail.com (hadley wickham)
Date: Tue, 22 May 2007 16:53:59 +0200
Subject: [R-SIG-Mac] [R] quartz() on MAC OSX
In-Reply-To: <20E8570F-6B44-4F32-B34A-A6A9FA4525C7@r-project.org>
References: <C278706B.163%r.turner@auckland.ac.nz>
	<46522A0A.5080206@stats.uwo.ca>
	<f8e6ff050705212238u10a6b354haa0e3d167f6978b7@mail.gmail.com>
	<4652CBB4.6060702@stats.uwo.ca>
	<20E8570F-6B44-4F32-B34A-A6A9FA4525C7@r-project.org>
Message-ID: <f8e6ff050705220753n1f5f0c01pa77a522940f647c9@mail.gmail.com>

On 5/22/07, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>
> On May 22, 2007, at 6:53 AM, Duncan Murdoch wrote:
>
> > hadley wickham wrote:
> >> On 5/22/07, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> >>
> >>> On 21/05/2007 6:03 PM, Rolf Turner wrote:
> >>>
> >>>> On 22/5/07 6:48 AM, "hadley wickham" <h.wickham at gmail.com> wrote:
> >>>>
> >>>>
> >>>>> Hi Rolf,
> >>>>>
> >>>>> Two possible solutions:
> >>>>>
> >>>>>  * DISPLAY=0.0.0.0:0 R - and then X11() should work without
> >>>>> having to use
> >>>>> xterm
> >>>>>
> >>>>>  * install.packages("CarbonEL"); library(CarbonEL); quartz()
> >>>>>
> >>>> It is clear that life is determined to frustrate me.  I had a
> >>>> look at CRAN
> >>>> just now and could find no sign of a package called "CarbonEL".
> >>>> The list
> >>>> jumps from "car" to "cat" --- no "Carbon" of any flavour.  What
> >>>> gives?
> >>>>
> >>> I think the Mac page on CRAN points to something obsolete.  From
> >>> the R
> >>> GUI, CarbonEL is visible.  You can also find the source on
> >>> SourceForge
> >>> using Google.
> >>>
> >>> However, it didn't work for me:  I still get the "interactivity
> >>> reduced"
> >>> message, and when I try to plot something, just an error
> >>> "CGGSStackRestore:  gstack underflow."
> >>>
> >>
> >> I get those messages too, but the plot actually works for me.  Does
> >> the quartz window open for you?  Can you interact with it?  (move it,
> >> change the size etc).
> >>
> > (Moved from R-help.)
> >
> > I took a closer look:  I actually did get the window (hidden under my
> > terminal window), and
> > interactivity worked partially:  I could use identify, for
> > example.  But
> > when I clicked on the red close
> > button on the graphics window, it kicked me right out of R:
> >
> >> library(CarbonEL)
> >> plot(1:10,1:10)
> >> quartz()
> > Warning message:
> > quartz() device interactivity reduced without an event loop manager
> > in:
> > quartz()
> >> plot(1:10,1:10)
> > CGGStackRestore: gstack underflow.
> >> identify(1:10,1:10)
> >
> > [Worked fine, then I clicked on the red button...]
> >
>
> Not a good idea ;) The window closes and the poor locator has no
> window to wait for clicks so it feels lonely and crashes R out of
> boredom... ;)
> Should be fixed now.

Thanks Simon - I still get

> plot(1:10)
CGGStackRestore: gstack underflow.

whenever I plot anything.

Hadley


From simon.urbanek at r-project.org  Tue May 22 16:58:30 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 22 May 2007 10:58:30 -0400
Subject: [R-SIG-Mac] [R] quartz() on MAC OSX
In-Reply-To: <f8e6ff050705220753n1f5f0c01pa77a522940f647c9@mail.gmail.com>
References: <C278706B.163%r.turner@auckland.ac.nz>
	<46522A0A.5080206@stats.uwo.ca>
	<f8e6ff050705212238u10a6b354haa0e3d167f6978b7@mail.gmail.com>
	<4652CBB4.6060702@stats.uwo.ca>
	<20E8570F-6B44-4F32-B34A-A6A9FA4525C7@r-project.org>
	<f8e6ff050705220753n1f5f0c01pa77a522940f647c9@mail.gmail.com>
Message-ID: <84DC0A0C-9EBB-4908-B905-24C9C42C52EC@r-project.org>


On May 22, 2007, at 10:53 AM, hadley wickham wrote:

> On 5/22/07, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>
>> On May 22, 2007, at 6:53 AM, Duncan Murdoch wrote:
>>
>> > hadley wickham wrote:
>> >> On 5/22/07, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
>> >>
>> >>> On 21/05/2007 6:03 PM, Rolf Turner wrote:
>> >>>
>> >>>> On 22/5/07 6:48 AM, "hadley wickham" <h.wickham at gmail.com>  
>> wrote:
>> >>>>
>> >>>>
>> >>>>> Hi Rolf,
>> >>>>>
>> >>>>> Two possible solutions:
>> >>>>>
>> >>>>>  * DISPLAY=0.0.0.0:0 R - and then X11() should work without
>> >>>>> having to use
>> >>>>> xterm
>> >>>>>
>> >>>>>  * install.packages("CarbonEL"); library(CarbonEL); quartz()
>> >>>>>
>> >>>> It is clear that life is determined to frustrate me.  I had a
>> >>>> look at CRAN
>> >>>> just now and could find no sign of a package called "CarbonEL".
>> >>>> The list
>> >>>> jumps from "car" to "cat" --- no "Carbon" of any flavour.  What
>> >>>> gives?
>> >>>>
>> >>> I think the Mac page on CRAN points to something obsolete.  From
>> >>> the R
>> >>> GUI, CarbonEL is visible.  You can also find the source on
>> >>> SourceForge
>> >>> using Google.
>> >>>
>> >>> However, it didn't work for me:  I still get the "interactivity
>> >>> reduced"
>> >>> message, and when I try to plot something, just an error
>> >>> "CGGSStackRestore:  gstack underflow."
>> >>>
>> >>
>> >> I get those messages too, but the plot actually works for me.   
>> Does
>> >> the quartz window open for you?  Can you interact with it?   
>> (move it,
>> >> change the size etc).
>> >>
>> > (Moved from R-help.)
>> >
>> > I took a closer look:  I actually did get the window (hidden  
>> under my
>> > terminal window), and
>> > interactivity worked partially:  I could use identify, for
>> > example.  But
>> > when I clicked on the red close
>> > button on the graphics window, it kicked me right out of R:
>> >
>> >> library(CarbonEL)
>> >> plot(1:10,1:10)
>> >> quartz()
>> > Warning message:
>> > quartz() device interactivity reduced without an event loop manager
>> > in:
>> > quartz()
>> >> plot(1:10,1:10)
>> > CGGStackRestore: gstack underflow.
>> >> identify(1:10,1:10)
>> >
>> > [Worked fine, then I clicked on the red button...]
>> >
>>
>> Not a good idea ;) The window closes and the poor locator has no
>> window to wait for clicks so it feels lonely and crashes R out of
>> boredom... ;)
>> Should be fixed now.
>
> Thanks Simon - I still get
>
>> plot(1:10)
> CGGStackRestore: gstack underflow.
>
> whenever I plot anything.
>

Which version do you use? It's fixed in 41666.

Cheers,
Simon


From bibiko at eva.mpg.de  Tue May 22 17:58:47 2007
From: bibiko at eva.mpg.de (=?ISO-8859-1?Q?Hans-J=F6rg_Bibiko?=)
Date: Tue, 22 May 2007 17:58:47 +0200
Subject: [R-SIG-Mac] Get a list of valid parameter arguments for given
	function
Message-ID: <8F1DADB1-04F8-40C5-AEFF-27F9D1CBC370@eva.mpg.de>

Hi,

is there a built-in way to get a list of valid parameter arguments  
for a given function?

Examples:

for the function 'dist' > parameter 'method':
"euclidean", "maximum", "manhattan", "canberra", "binary", or  
"minkowski"

for the function 'format' > parameter 'justify':
"left", "right", "centre", or "none"

Thanks for any hint,

Hans


From bibiko at eva.mpg.de  Wed May 23 14:20:18 2007
From: bibiko at eva.mpg.de (Hans-Joerg Bibiko)
Date: Wed, 23 May 2007 14:20:18 +0200
Subject: [R-SIG-Mac] Enhanced Code Completion Suggestion
Message-ID: <923951A9-8A78-40DA-A361-1147F9262FB6@eva.mpg.de>

Dear all,

I just wrote a code snippet to enhance R's code completion. Now it  
also includes completion for arguments (which contain '=') of the  
current function. Furthermore it toggles FALSE into TRUE and visa  
versa to avoid typing it ;)

My first scratch is the following:
note: [ '|' is indicating the cursor]
##
if you type:
dist(a, m|)

and then I press TAB it gives you now the following
method=
machine()
mad()
mahalanobis()
...

##
if you type:
dist(a, |)

and then I press TAB it gives you now all arguments containing '='
method=
diag=TRUE   toggled!
upper=TRUE  toggled!
p=

##
if you type:
matrix(c(1:3,|))

and then I press TAB it completes it at once to
matrix(c(1:3,recursive=TRUE))

##
if you type:
matrix(c(1:3,recursive=TRUE),b|)

and then I press TAB it gives you now the following
byrow=TRUE
backsolve()
balanceMethodsList()
...

because the cursor is located within the matrix function

####

I just tried it out some while and it turned out that by using the  
enhanced code completion you can save much more time and you decrease  
typos ;)

Is this something useful for other users as well?
Are there any comments?
Would it be better to separate the argument completion from the code  
completion by, e.g., pressing SHIFT+TAB?
...?

Cheers,

Hans


From eric.blanc at kcl.ac.uk  Wed May 23 17:15:56 2007
From: eric.blanc at kcl.ac.uk (Eric Blanc)
Date: Wed, 23 May 2007 16:15:56 +0100
Subject: [R-SIG-Mac] Problems with big objects in R-2.5 x86_64
Message-ID: <2A48327B-373E-47FB-90EF-28167E74A98F@kcl.ac.uk>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070523/19dff5da/attachment.pl 

From jthioulo at biomserv.univ-lyon1.fr  Mon May 21 10:04:13 2007
From: jthioulo at biomserv.univ-lyon1.fr (Jean Thioulouse)
Date: Mon, 21 May 2007 10:04:13 +0200
Subject: [R-SIG-Mac] R-SIG-Mac] Clipboard
In-Reply-To: <EE7EB4F0-19C2-48A6-99E0-53BCEE123373@r-project.org>
References: <C270FB4C.53A1A%timothy.c.bates@gmail.com>
	<p06240800c271d35931f5@[192.168.0.1]>
	<EE7EB4F0-19C2-48A6-99E0-53BCEE123373@r-project.org>
Message-ID: <p06240801c27701e03c71@[134.214.34.24]>

At 8:47 AM -0400 5/17/07, Simon Urbanek wrote:
>On May 17, 2007, at 5:44 AM, Jean Thioulouse wrote:
>
>>>> read.table("clipboard") still works on my R 2.4.1 if you have x11 open,
>>>> but not if you don't.
>>>
>>> That's an anomaly then: I have X11 open and it doesn't work for me.
>>>
>>
>> It is a little bit more complicated... It works, even with R 2.5.0, but
>> you must have opened an X11 window and this window must have been brought
>> to front (at least this is how it works for me).
>>
>
>It works for me even if I have no X11 window open at all....

For me too, but only if one has been opened and brought to front before.
It may be closed after, and i can even quit R and relaunch it, it will
still work.

It stops working only if i launch R with no active X11 connection.

Jean
-- 
Jean Thioulouse - Labo Biometrie et Biologie Evolutive,  UMR CNRS 5558
Universite Lyon 1, Batiment Mendel,   43 Boulevard du 11 Novembre 1918
69622 Villeurbanne Cedex - France    http://pbil.univ-lyon1.fr/JTHome/
Tel : (33) 4 72 43 27 56                      Fax : (33) 4 72 43 13 88
# msn: thioulouse at hotmail.com  #  jabber: jt69 #  .mac: j.thioulouse #


From simon.urbanek at r-project.org  Wed May 23 19:03:12 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 23 May 2007 13:03:12 -0400
Subject: [R-SIG-Mac] Problems with big objects in R-2.5 x86_64
In-Reply-To: <2A48327B-373E-47FB-90EF-28167E74A98F@kcl.ac.uk>
References: <2A48327B-373E-47FB-90EF-28167E74A98F@kcl.ac.uk>
Message-ID: <2B60821C-B4B7-4810-A2D4-A70E635D9AB2@r-project.org>

Eric,

unless you tell us more precisely what you do and what machine you  
have we can't really help you. If you don't have enough RAM (>4GB) 64- 
bit R won't really help you as it ends up swapping all the time  
anyway (just look at the resource usage).

Cheers,
Simon


On May 23, 2007, at 11:15 AM, Eric Blanc wrote:

> Hi,
>
> I encountered problems in using the experimental build R 2.5 for
> x86_64 architecture. I have downloaded the framework from
>
> http://r.research.att.com/R-25-br-quad.tar.gz
>
> I tried to load large objects, (about 2GB each), but it hangs at
> random points, apparently always after the 4GB mark (i.e. while
> loading the 3rd object). I am monitoring the resources usage from
> another terminal window (top), and the R process never completes
> loading the 3rd object, the memory usage stops increasing before
> reaching 6GB, even though the CPU usage by R is 100%. The time
> required to load the 1st and 2nd objects are about 1 minute each,
> while I stopped R after 30 minutes (without completing loading the
> 3rd object). I had similar problems last december, when I tried to
> compile R 2.4 from scratch using the instructions in
>
> https://stat.ethz.ch/pipermail/r-sig-mac/2006-November/003384.html
>
> Here is the sessionInfo():
>
> R version 2.5.0 Patched (2007-05-02 r41420)
> x86_64-apple-darwin8.9.1
>
> locale:
> C
>
> attached base packages:
> [1] "stats"     "graphics"  "grDevices" "utils"     "datasets"
> "methods"
> [7] "base"
>
> Has anybody tried to use large amounts of memory with R 2.5 x86_64 ?
> I must add that I tried to load the same objects, on the same
> machine, but using Ubuntu 7.4 x86_64, and it works on Ubuntu. It
> seems to be a OS X problem (I am using 10.4.9).
>
> Thanks,
> Eric
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From dbernard at noos.fr  Wed May 23 19:19:46 2007
From: dbernard at noos.fr (Simon de Bernard)
Date: Wed, 23 May 2007 19:19:46 +0200
Subject: [R-SIG-Mac] Problems with big objects in R-2.5 x86_64
In-Reply-To: <2B60821C-B4B7-4810-A2D4-A70E635D9AB2@r-project.org>
References: <2A48327B-373E-47FB-90EF-28167E74A98F@kcl.ac.uk>
	<2B60821C-B4B7-4810-A2D4-A70E635D9AB2@r-project.org>
Message-ID: <7932DDDC-30FF-4B5F-8F2A-0D5060D35C18@noos.fr>

Based on what Eric says (symptoms and the fact that it works on the  
SAME machine under ubuntu), it looks a lot like what I reported on  
april the 7th...

Best,

Simon de Bernard.

Le 23 mai 07 ? 19:03, Simon Urbanek a ?crit :

> Eric,
>
> unless you tell us more precisely what you do and what machine you
> have we can't really help you. If you don't have enough RAM (>4GB) 64-
> bit R won't really help you as it ends up swapping all the time
> anyway (just look at the resource usage).
>
> Cheers,
> Simon
>
>
> On May 23, 2007, at 11:15 AM, Eric Blanc wrote:
>
>> Hi,
>>
>> I encountered problems in using the experimental build R 2.5 for
>> x86_64 architecture. I have downloaded the framework from
>>
>> http://r.research.att.com/R-25-br-quad.tar.gz
>>
>> I tried to load large objects, (about 2GB each), but it hangs at
>> random points, apparently always after the 4GB mark (i.e. while
>> loading the 3rd object). I am monitoring the resources usage from
>> another terminal window (top), and the R process never completes
>> loading the 3rd object, the memory usage stops increasing before
>> reaching 6GB, even though the CPU usage by R is 100%. The time
>> required to load the 1st and 2nd objects are about 1 minute each,
>> while I stopped R after 30 minutes (without completing loading the
>> 3rd object). I had similar problems last december, when I tried to
>> compile R 2.4 from scratch using the instructions in
>>
>> https://stat.ethz.ch/pipermail/r-sig-mac/2006-November/003384.html
>>
>> Here is the sessionInfo():
>>
>> R version 2.5.0 Patched (2007-05-02 r41420)
>> x86_64-apple-darwin8.9.1
>>
>> locale:
>> C
>>
>> attached base packages:
>> [1] "stats"     "graphics"  "grDevices" "utils"     "datasets"
>> "methods"
>> [7] "base"
>>
>> Has anybody tried to use large amounts of memory with R 2.5 x86_64 ?
>> I must add that I tried to load the same objects, on the same
>> machine, but using Ubuntu 7.4 x86_64, and it works on Ubuntu. It
>> seems to be a OS X problem (I am using 10.4.9).
>>
>> Thanks,
>> Eric
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Wed May 23 19:56:28 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 23 May 2007 13:56:28 -0400
Subject: [R-SIG-Mac] Problems with big objects in R-2.5 x86_64
In-Reply-To: <7932DDDC-30FF-4B5F-8F2A-0D5060D35C18@noos.fr>
References: <2A48327B-373E-47FB-90EF-28167E74A98F@kcl.ac.uk>
	<2B60821C-B4B7-4810-A2D4-A70E635D9AB2@r-project.org>
	<7932DDDC-30FF-4B5F-8F2A-0D5060D35C18@noos.fr>
Message-ID: <E3D69B95-C730-4ECF-A367-5FF35550C900@r-project.org>


On May 23, 2007, at 1:19 PM, Simon de Bernard wrote:

> Based on what Eric says (symptoms and the fact that it works on the  
> SAME machine under ubuntu), it looks a lot like what I reported on  
> april the 7th...
>

What you reported was a crash, what he reports is ... I don't know  
what ;). And that's why I need more info ...

Cheers,
Simon


>
> Le 23 mai 07 ? 19:03, Simon Urbanek a ?crit :
>
>> Eric,
>>
>> unless you tell us more precisely what you do and what machine you
>> have we can't really help you. If you don't have enough RAM (>4GB)  
>> 64-
>> bit R won't really help you as it ends up swapping all the time
>> anyway (just look at the resource usage).
>>
>> Cheers,
>> Simon
>>
>>
>> On May 23, 2007, at 11:15 AM, Eric Blanc wrote:
>>
>>> Hi,
>>>
>>> I encountered problems in using the experimental build R 2.5 for
>>> x86_64 architecture. I have downloaded the framework from
>>>
>>> http://r.research.att.com/R-25-br-quad.tar.gz
>>>
>>> I tried to load large objects, (about 2GB each), but it hangs at
>>> random points, apparently always after the 4GB mark (i.e. while
>>> loading the 3rd object). I am monitoring the resources usage from
>>> another terminal window (top), and the R process never completes
>>> loading the 3rd object, the memory usage stops increasing before
>>> reaching 6GB, even though the CPU usage by R is 100%. The time
>>> required to load the 1st and 2nd objects are about 1 minute each,
>>> while I stopped R after 30 minutes (without completing loading the
>>> 3rd object). I had similar problems last december, when I tried to
>>> compile R 2.4 from scratch using the instructions in
>>>
>>> https://stat.ethz.ch/pipermail/r-sig-mac/2006-November/003384.html
>>>
>>> Here is the sessionInfo():
>>>
>>> R version 2.5.0 Patched (2007-05-02 r41420)
>>> x86_64-apple-darwin8.9.1
>>>
>>> locale:
>>> C
>>>
>>> attached base packages:
>>> [1] "stats"     "graphics"  "grDevices" "utils"     "datasets"
>>> "methods"
>>> [7] "base"
>>>
>>> Has anybody tried to use large amounts of memory with R 2.5 x86_64 ?
>>> I must add that I tried to load the same objects, on the same
>>> machine, but using Ubuntu 7.4 x86_64, and it works on Ubuntu. It
>>> seems to be a OS X problem (I am using 10.4.9).
>>>
>>> Thanks,
>>> Eric
>>> 	[[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
>


From dbernard at noos.fr  Wed May 23 20:08:42 2007
From: dbernard at noos.fr (Simon de Bernard)
Date: Wed, 23 May 2007 20:08:42 +0200
Subject: [R-SIG-Mac] Problems with big objects in R-2.5 x86_64
In-Reply-To: <E3D69B95-C730-4ECF-A367-5FF35550C900@r-project.org>
References: <2A48327B-373E-47FB-90EF-28167E74A98F@kcl.ac.uk>
	<2B60821C-B4B7-4810-A2D4-A70E635D9AB2@r-project.org>
	<7932DDDC-30FF-4B5F-8F2A-0D5060D35C18@noos.fr>
	<E3D69B95-C730-4ECF-A367-5FF35550C900@r-project.org>
Message-ID: <A3ACD986-04B5-4DCF-94CF-ACF1B1599B02@noos.fr>

Actually, I reported an example that consistently crashes but it is  
pretty easy to construct one that gets into an infinite loop:

 > l<-list(1)
 > while(1) { print(object.size(l)/1024/1024); l<-c(l,l) }

(Just duplicate the list instead of triplicating it)

That's why I think we are facing the same ugly bug :-(

Best,

Simon.

Le 23 mai 07 ? 19:56, Simon Urbanek a ?crit :

>
> On May 23, 2007, at 1:19 PM, Simon de Bernard wrote:
>
>> Based on what Eric says (symptoms and the fact that it works on  
>> the SAME machine under ubuntu), it looks a lot like what I  
>> reported on april the 7th...
>>
>
> What you reported was a crash, what he reports is ... I don't know  
> what ;). And that's why I need more info ...
>
> Cheers,
> Simon
>
>
>>
>> Le 23 mai 07 ? 19:03, Simon Urbanek a ?crit :
>>
>>> Eric,
>>>
>>> unless you tell us more precisely what you do and what machine you
>>> have we can't really help you. If you don't have enough RAM  
>>> (>4GB) 64-
>>> bit R won't really help you as it ends up swapping all the time
>>> anyway (just look at the resource usage).
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>> On May 23, 2007, at 11:15 AM, Eric Blanc wrote:
>>>
>>>> Hi,
>>>>
>>>> I encountered problems in using the experimental build R 2.5 for
>>>> x86_64 architecture. I have downloaded the framework from
>>>>
>>>> http://r.research.att.com/R-25-br-quad.tar.gz
>>>>
>>>> I tried to load large objects, (about 2GB each), but it hangs at
>>>> random points, apparently always after the 4GB mark (i.e. while
>>>> loading the 3rd object). I am monitoring the resources usage from
>>>> another terminal window (top), and the R process never completes
>>>> loading the 3rd object, the memory usage stops increasing before
>>>> reaching 6GB, even though the CPU usage by R is 100%. The time
>>>> required to load the 1st and 2nd objects are about 1 minute each,
>>>> while I stopped R after 30 minutes (without completing loading the
>>>> 3rd object). I had similar problems last december, when I tried to
>>>> compile R 2.4 from scratch using the instructions in
>>>>
>>>> https://stat.ethz.ch/pipermail/r-sig-mac/2006-November/003384.html
>>>>
>>>> Here is the sessionInfo():
>>>>
>>>> R version 2.5.0 Patched (2007-05-02 r41420)
>>>> x86_64-apple-darwin8.9.1
>>>>
>>>> locale:
>>>> C
>>>>
>>>> attached base packages:
>>>> [1] "stats"     "graphics"  "grDevices" "utils"     "datasets"
>>>> "methods"
>>>> [7] "base"
>>>>
>>>> Has anybody tried to use large amounts of memory with R 2.5  
>>>> x86_64 ?
>>>> I must add that I tried to load the same objects, on the same
>>>> machine, but using Ubuntu 7.4 x86_64, and it works on Ubuntu. It
>>>> seems to be a OS X problem (I am using 10.4.9).
>>>>
>>>> Thanks,
>>>> Eric
>>>> 	[[alternative HTML version deleted]]
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>>
>


From roboso at gmail.com  Wed May 23 21:55:31 2007
From: roboso at gmail.com (Roberto Osorio)
Date: Wed, 23 May 2007 15:55:31 -0400
Subject: [R-SIG-Mac] Can I disable brace completion in console?
Message-ID: <7fc59970705231255m6842eddemab5e3bda1b666cdd@mail.gmail.com>

I can't find a preference to disable brace completion in the console
in R 2.5.0 GUI 1.19. More precisely, I'm referring to the new feature
that automatically adds the right brace (or bracket or parenthesis)
when the left one is typed. Nice when you type from left to right, but
inconvenient when you edit the same or previous lines. At least using
something like "Cmd - {" to override it would be nice.

Thanks,

Roberto Osorio


From simon.urbanek at r-project.org  Wed May 23 22:29:37 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 23 May 2007 16:29:37 -0400
Subject: [R-SIG-Mac] Can I disable brace completion in console?
In-Reply-To: <7fc59970705231255m6842eddemab5e3bda1b666cdd@mail.gmail.com>
References: <7fc59970705231255m6842eddemab5e3bda1b666cdd@mail.gmail.com>
Message-ID: <6712621C-26D4-4A88-A7BA-D0058C2C8578@r-project.org>


On May 23, 2007, at 3:55 PM, Roberto Osorio wrote:

> I can't find a preference to disable brace completion in the  
> console in R 2.5.0 GUI 1.19.

Unfortunately it didn't make it to the Preferences UI, so you have to  
paste this in Terminal:

defaults write org.R-project.R auto.close.parens NO

If you want to revert back to the default you can use:

defaults delete org.R-project.R auto.close.parens


> More precisely, I'm referring to the new feature that automatically  
> adds the right brace (or bracket or parenthesis) when the left one  
> is typed. Nice when you type from left to right, but inconvenient  
> when you edit the same or previous lines. At least using something  
> like "Cmd - {" to override it would be nice.
>

Sounds reasonable. I'll see if we can add that...

BTW: would it be helpful to have the ability to enable/disable brace  
completion separately for the console and the editor?

Thanks,
Simon


From roboso at gmail.com  Thu May 24 04:01:52 2007
From: roboso at gmail.com (Roberto Osorio)
Date: Wed, 23 May 2007 22:01:52 -0400
Subject: [R-SIG-Mac] Can I disable brace completion in console?
In-Reply-To: <6712621C-26D4-4A88-A7BA-D0058C2C8578@r-project.org>
References: <7fc59970705231255m6842eddemab5e3bda1b666cdd@mail.gmail.com>
	<6712621C-26D4-4A88-A7BA-D0058C2C8578@r-project.org>
Message-ID: <54D4011B-62CA-4C62-A94E-45C31070B356@gmail.com>

I'll let others vote about enabling/disabling brace completion (auto- 
closing) for the editor. The internal editor is fine, but I prefer to  
use Smultron as an external editor, mainly for the multi-file single- 
window capability, which allows quick jumping between different R  
scripts or functions. Smultron supports R syntax. It does not have  
brace auto-closing, but it has brace matching (i.e., highlights left  
brace after right one is typed), which I find way more useful and  
less distracting.

By the way, I send highlighted text from Smultron to the console  
through an Applescript, which I assigned to "Cmd - R" using  
FastScripts Lite. This way it integrates nicely with the console,  
similarly to the internal editor.

Thanks,

Roberto

On May 23, 2007, at 4:29 PM, Simon Urbanek wrote:

On May 23, 2007, at 3:55 PM, Roberto Osorio wrote:

> I can't find a preference to disable brace completion in the  
> console in R 2.5.0 GUI 1.19.

Unfortunately it didn't make it to the Preferences UI, so you have to  
paste this in Terminal:

defaults write org.R-project.R auto.close.parens NO

If you want to revert back to the default you can use:

defaults delete org.R-project.R auto.close.parens

> More precisely, I'm referring to the new feature that automatically  
> adds the right brace (or bracket or parenthesis) when the left one  
> is typed. Nice when you type from left to right, but inconvenient  
> when you edit the same or previous lines. At least using something  
> like "Cmd - {" to override it would be nice.
>

Sounds reasonable. I'll see if we can add that...

BTW: would it be helpful to have the ability to enable/disable brace  
completion separately for the console and the editor?


From bibiko at eva.mpg.de  Thu May 24 09:30:31 2007
From: bibiko at eva.mpg.de (Hans-Joerg Bibiko)
Date: Thu, 24 May 2007 09:30:31 +0200
Subject: [R-SIG-Mac] Can I disable brace completion in console?
In-Reply-To: <6712621C-26D4-4A88-A7BA-D0058C2C8578@r-project.org>
References: <7fc59970705231255m6842eddemab5e3bda1b666cdd@mail.gmail.com>
	<6712621C-26D4-4A88-A7BA-D0058C2C8578@r-project.org>
Message-ID: <633E1CA3-2695-4F02-B11F-B807901424D3@eva.mpg.de>

>> More precisely, I'm referring to the new feature that automatically
>> adds the right brace (or bracket or parenthesis) when the left one
>> is typed. Nice when you type from left to right, but inconvenient
>> when you edit the same or previous lines. At least using something
>> like "Cmd - {" to override it would be nice.
>>
>
> Sounds reasonable. I'll see if we can add that...

Cmd-{ is not so practical regarding to non-US keyboard users, but  
maybe Cmd-B

Cmd-B could simply toggle the boolean RTextView_autoCloseBrackets or  
could disable the auto-pair function for the next keydown event.(?)



On the other hand one could improve the auto-pair behaviour

-by checking the character right from the cursor (if there's one)
Example in RTextView.m > method keyDown:
...
[super keyDown:theEvent];
{
	r = [self selectedRange];
	NSTextStorage *ts = [self textStorage];
	BOOL flag = YES;
	if([ts length] > r.location){
		unichar c = [[ts string] characterAtIndex:r.location];
		flag=(c==' ' || c==',' || c==';' || c==']' || c==')' || c=='}')? 
YES:NO;
	}
	if (r.location != NSNotFound && flag) {
		// NSAttributedString *as = [[NSAttributedString alloc]  
initWithString:complement attributes:
		// [NSDictionary dictionaryWithObject:TAVal forKey:kTALinked]];
		NSTextStorage *ts = [self textStorage];
		[self replaceCharactersInRange:r withString:complement];
		r.length=1;
		[ts addAttribute:kTALinked value:TAVal range:r];
		r.length=0;
		[self setSelectedRange:r];
	}
	return;
}
...

-by adding the possibility to select something in the command line  
and press (,[,{,", or ' to wrap the selection.
Example:  123456  you select 34 and press (  =  12(34)56

I use this very often for editing the command line ;)

Best,

Hans


From chabotd at globetrotter.net  Thu May 24 16:59:23 2007
From: chabotd at globetrotter.net (Chabot Denis)
Date: Thu, 24 May 2007 10:59:23 -0400
Subject: [R-SIG-Mac] Reducing the size of pdf graphics files produced
	with R
In-Reply-To: <95223.78368@email.esm.psu.edu>
References: <95223.78368@email.esm.psu.edu>
Message-ID: <6B6BEBC7-309E-4FD7-B591-15C345D38A49@globetrotter.net>

Hi again,

Many of you have suggested other means than pdf device and/or  
conversion/compression of pdf outside of R.

I ran some tests on a small, a medium-size and a large figure. Here I  
summarize the results, which depend very much on the original  
graphics file. Please note that I wish to retain a vector-based  
graphic file.

You'll find at the end of this message the R program used to produce  
the graphics files.

Starting with a small size graphic file: in order, these were  
produced by

1) postscript device
2) pdf device
3) bitmap device (pdf output)
4) dev2bitmap, pdf output, from a quartz window
5) quartz device saved to pdf via command quarts.save
6) quartz device saved to pdf via save menu in R gui

-rw-r--r--   1 chabotd  chabotd    243446 May 23 21:00 test_ps_from_R.ps
-rw-r--r--   1 chabotd  chabotd    572513 May 23 21:00  
test_pdf_from_R.pdf
-rw-r--r--   1 chabotd  chabotd    600106 May 24 09:21  
test_pdf_bitmapR.pdf
-rw-r--r--   1 chabotd  chabotd    600050 May 24 09:22  
test_dev2bitmap.pdf
-rw-r--r--   1 chabotd  chabotd   1657446 May 23 21:00  
test_pdf_from_quartz.save.pdf
-rw-r--r--   1 chabotd  chabotd    572634 May 23 21:01  
test_pdf_from_quartz.menu.pdf

These show how "test_pdf_from_R.pdf" can be shrunk outside of R
1) the command pdftk
2) opening the pdf in any Mac OS X pdf viewer and doing "print to  
compressed pdf"

-rw-r--r--   1 chabotd  chabotd     68742 May 24 09:25  
test_pdf_pdftk.pdf
-rw-r--r--   1 chabotd  chabotd    100660 May 23 21:16  
test_pdf_print_to_comppdf.pdf

Finally, these show 3 conversions from postscript to pdf outside of R
1) command ps2pdf
2) command epstopdf
3) command pstopdf

-rw-r--r--   1 chabotd  chabotd    566626 May 23 21:12  
test_ps_ps2pdf.pdf
-rw-r--r--   1 chabotd  chabotd    566587 May 24 10:21  
test_ps_epstopdf.pdf
-rw-r--r--   1 chabotd  chabotd   1939788 May 24 10:20  
test_ps_pstopdf.pdf

For this first example, all pdf produced directly within R were of  
similar size, except one (quartz.save) that was 3x larger. Producing  
a postscript file and transforming it into pdf resulted in no  
significant saving. However pdf output from R can be shrunk (here to  
12% of original size) with pdftk. So far I found no adverse effect of  
this shrinking.

I did the same with a larger graphic, this example came from Dave  
Watson. Using the same blocks as above:

Produced with R:
-rw-r--r--   1 chabotd  chabotd    854320 May 24 09:08  
mauna_ps_from_R.eps
-rw-r--r--   1 chabotd  chabotd   1000504 May 24 09:08  
mauna_pdf_from_R.pdf
-rw-r--r--   1 chabotd  chabotd     96737 May 24 09:08  
mauna_pdf_bitmapR.pdf
-rw-r--r--   1 chabotd  chabotd     97236 May 24 09:17  
mauna_dev2bitmap.pdf
-rw-r--r--   1 chabotd  chabotd    468195 May 24 09:08  
mauna_pdf_from_quartz.save.pdf
-rw-r--r--   1 chabotd  chabotd    999853 May 24 09:09  
mauna_pdf_from_quartz.menu.pdf

PS to pdf outside of R
-rw-r--r--   1 chabotd  chabotd     95024 May 24 09:11  
mauna_ps_ps2pdf.pdf
-rw-r--r--   1 chabotd  chabotd    603021 May 24 10:40  
mauna_ps_pstopdf.pdf
-rw-r--r--   1 chabotd  chabotd     95015 May 24 10:40  
mauna_ps_epstopdf.pdf

pdf transformation outside of R
-rw-r--r--   1 chabotd  chabotd    104487 May 24 09:12  
mauna_pdf_pdftk.pdf
-rw-r--r--   1 chabotd  chabotd    134663 May 24 09:23  
mauna_print_to_comppdf.pdf

For this example, different methods of producing pdf within R had  
very different file sizes. The two methods based on quartz performed  
in reverse order compare to the previous example. Overall, using  
bitmap device or postscript-transformed-to-pdf outside of R produced  
files about 10% the size of the file produced by pdf device. But the  
latter could be shrunk almost as much using pdftk.

Finally, a larger-size example:
Produced with R:
-rw-r--r--   1 chabotd  chabotd   1426330 May 23 20:54 fig_ps_from_R.ps
-rw-r--r--   1 chabotd  chabotd   3384788 May 23 20:54  
fig_pdf_from_R.pdf
-rw-r--r--   1 chabotd  chabotd   3494689 May 24 09:03  
fig_pdf_bitmapR.pdf
-rw-r--r--   1 chabotd  chabotd   3494689 May 24 10:46  
fig_dev2bitmap.pdf
-rw-r--r--   1 chabotd  chabotd   3384832 May 23 20:54  
fig_pdf_from_quartz.menu.pdf
-rw-r--r--   1 chabotd  chabotd   9583552 May 23 20:52  
fig_pdf_from_quartz.save.pdf

PS to pdf outside of R
-rw-r--r--   1 chabotd  chabotd   3356223 May 23 21:12 fig_ps_ps2pdf.pdf
-rw-r--r--   1 chabotd  chabotd  11397461 May 23 23:51  
fig_ps_pstopdf.pdf
-rw-r--r--   1 chabotd  chabotd   3354762 May 23 23:55  
fig_ps_epstopdf.pdf

pdf transformation outside of R
-rw-r--r--   1 chabotd  chabotd    379307 May 23 22:31  
fig_pdf_comptk.pdf
-rw-r--r--   1 chabotd  chabotd    520509 May 24 00:19  
fig_pdf_print_to_comppdf.pdf

This time, as in the first example, there was little benefit going  
the bitmap device or ps to pdf route. Only shrinking the pdf with  
pdftk was effective. So examples with a lot of objects on the plot do  
not seem to benefit from postscript use, but one example with few  
objects (but objects that were "filled, don't know if it matters) did.

I have never done this in R, but could the pdftk command be run from  
within a R script? This would allow one to compress automatically  
when needed.

Thank you all for the suggestions,

Denis

##############  R program that produced the above files  
#################
# example 1, small
pdf(file="test_pdf_from_R.pdf", w=5, h=5, version="1.4",  
bg="transparent")
plot(rnorm(10000), rnorm(10000))
dev.off()

postscript(file="test_ps_from_R.ps", width=5, height=5, paper="special")
plot(rnorm(10000), rnorm(10000))
dev.off()

bitmap(file = "test_pdf_bitmapR.pdf", width=5, height=5, type =  
"pdfwrite")
plot(rnorm(10000), rnorm(10000))
dev.off()

plot(rnorm(10000), rnorm(10000))
quartz.save(file="test_pdf_from_quartz.save.pdf", type="pdf")
dev2bitmap(file="test_dev2bitmap.pdf", width=5, height=5,  
type="pdfwrite")
# here I also manually saved the quartz graphics and called it  
"test_pdf_from_quartz.menu.pdf"


# Example from Dave Watson


postscript(file = "mauna_ps_from_R.eps", width=5, height=5,  
horizontal=FALSE, paper="special", onefile=FALSE)
filled.contour(volcano, color=terrain.colors, asp=1)
title(main="volcano data: filled contour map")
dev.off()

pdf(file = "mauna_pdf_from_R.pdf", width=5, height=5)
filled.contour(volcano, color=terrain.colors, asp=1)
title(main="volcano data: filled contour map")
dev.off()

bitmap(file = "mauna_pdf_bitmapR.pdf", width=5, height=5, type =  
"pdfwrite")
filled.contour(volcano, color=terrain.colors, asp=1)
title(main="volcano data: filled contour map")
dev.off()

# on mac os x only
quartz(w=5, h=5)
filled.contour(volcano, color=terrain.colors, asp=1)
title(main="volcano data: filled contour map")
dev2bitmap(file="mauna_dev2bitmap.pdf", width=5, height=5,  
type="pdfwrite")
quartz.save(file="mauna_pdf_from_quartz.save.pdf", type="pdf")
# here I also manually saved the quartz graphics and called it  
"mauna_pdf_from_quartz.menu.pdf"



# example 3, large

x <- rep(1:99, 20)

c <- 0
for (a in 1:3) {
   for (b in c(0.7, 0.9) ) {
   c<-c+1
   nam <- paste("Y", c, sep="")
   assign(nam, a + b*x + rnorm(length(x),20,10))
   }
   }
the.data <- data.frame(Y1, Y2, Y3, Y4, Y5, Y6)
rm(Y1, Y2, Y3, Y4, Y5, Y6)


pdf(file="fig_pdf_from_R.pdf", w=8, h=8, version="1.4",  
bg="transparent")
pairs(the.data)
dev.off()

postscript(file="fig_ps_from_R.ps", width=8, height=8, paper="special")
pairs(the.data)
dev.off()

bitmap(file = "fig_pdf_bitmapR.pdf", width=8, height=8, type =  
"pdfwrite")
pairs(the.data)
dev.off()

# on mac os x only
quartz(w=8, h=8)
pairs(the.data)
dev2bitmap(file="fig_dev2bitmap.pdf", width=8, height=8,  
type="pdfwrite")
quartz.save(file="fig_pdf_from_quartz.savev2.pdf", type="pdf")
# here I also manually saved the quartz graphics and called it  
"fig_pdf_from_quartz.menu.pdf"


From eric.blanc at kcl.ac.uk  Thu May 24 10:15:31 2007
From: eric.blanc at kcl.ac.uk (Eric Blanc)
Date: Thu, 24 May 2007 09:15:31 +0100
Subject: [R-SIG-Mac] Problems with big objects in R-2.5 x86_64
In-Reply-To: <2B60821C-B4B7-4810-A2D4-A70E635D9AB2@r-project.org>
References: <2A48327B-373E-47FB-90EF-28167E74A98F@kcl.ac.uk>
	<2B60821C-B4B7-4810-A2D4-A70E635D9AB2@r-project.org>
Message-ID: <0E3B0548-3DD3-4480-B151-A3BA809D62EE@kcl.ac.uk>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070524/ef8040df/attachment.pl 

From reymonnn at gmail.com  Wed May 30 11:30:41 2007
From: reymonnn at gmail.com (jane janes)
Date: Wed, 30 May 2007 18:30:41 +0900
Subject: [R-SIG-Mac] tkrplot installation problem
Message-ID: <a9a127570705300230k65303dc2y710b0479ee8a3e47@mail.gmail.com>

Dear List,

I have been trying to install tkrplot using R Package Installer on Mac
OS 10.4.9
R version 2.5.0 (ActiveTcl and Bioconductor installed) and I have been
receiving this report:

trying URL 'ftp://ftp.ecc.u-tokyo.ac.jp/CRAN/bin/macosx/universal/contrib/2.5/tkrplot_0.0-16.tgz'
ftp data connection made, file length 16272 bytes
opened URL
===================================
downloaded 11Kb


gzip: Error in sprintf(gettext(fmt, domain = domain), ...) :
	argument is missing, with no default
In addition: Warning message:
downloaded length 11584 != reported length 16272
stdin: unexpected end of file
tar: Read 3487 bytes from /tmp/Rtmp29JBU2/downloaded_packages/tkrplot_0.0-16.tgz
tar: Unexpected EOF in archive
tar: Unexpected EOF in archive
tar: Error is not recoverable: exiting now


Could you please help me solve the problem.

Thank you very much in advance.

Best regards,

Vassil


From simon.urbanek at r-project.org  Wed May 30 17:39:31 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 30 May 2007 11:39:31 -0400
Subject: [R-SIG-Mac] [Rd] R 2.5.0 MAC OS X version
In-Reply-To: <465D8DE5.8040104@schoolph.umass.edu>
References: <465D854D.6060501@schoolph.umass.edu>
	<E72C4C2A-748F-4ED2-BCB6-51001EF22BC8@noaa.gov>
	<Pine.LNX.4.64.0705301535420.25280@gannet.stats.ox.ac.uk>
	<465D8DE5.8040104@schoolph.umass.edu>
Message-ID: <30FD3ED8-E7E9-47F1-90E8-7F5D2CB4B784@r-project.org>

On May 30, 2007, at 10:44 AM, Recai Yucel wrote:

> Right. I thought the problems might be obvious enough for MAC  
> users, probably not!

How can "the problems" be obvious when most Mac users don't have  
any? ;) If it was that obvious, why would you ask? The answer would  
be on the list already...


> I was mistaken with the GNU Fortran version, it is 4.0 as seen below.

Not really, run gfortran --version to find out.


> A  specific example where I had problems is given below:
>
> When I try to install a package called lmm (which was installed  
> with no problem with the previous versions of R), I get the  
> following messages, specifically on the make, chmod, etc.
>

Just out of curiosity, why don't you just install it from CRAN in  
binary form as suggested? Just type in R: install.packages("lmm")  
That works without problems and saves you all the hassle...

If you really insist on re-compiling the package yourself (you didn't  
even tell us what you are really doing), make sure you have all the  
necessary tools (Xcode 2.4.1 and GNU Fortran from the R distribution  
- see also http://r.research.att.com/tools/ ). From the output it  
appears as if your Fortran installation is broken.

Cheers,
Simon


> *************************************
> trying URL 'http://cran.us.r-project.org/src/contrib/lmm_0.3-4.tar.gz'
> Content type 'application/x-tar' length 31471 bytes
> opened URL
> ==================================================
> downloaded 30Kb
>
> WARNING: ignoring environment value of R_HOME
> tar: Read 4096 bytes from -
> * Installing *source* package 'lmm' ...
> ** libs
> ** arch - i386
> gfortran-4.0 -arch i386  -isysroot /Developer/SDKs/MacOSX10.4u.sdk
> -fPIC  -g -O2 -march=nocona -c lmm.f -o lmm.o
> gcc-4.0 -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk - 
> dynamiclib
> -Wl,-macosx_version_min -Wl,10.3 -undefined dynamic_lookup
> -single_module -multiply_defined suppress -L/usr/local/lib -o lmm.so
> lmm.o  -L/usr/local/lib/gcc/i686-apple-darwin8/4.2.0 -lgfortran
> -lgcc_s.10.4 -F/Library/Frameworks/R.framework/.. -framework R
> /usr/bin/libtool: for architecture cputype (16777223) cpusubtype (3)
> object: /usr/local/lib/libgfortran.dylib malformed object (unknown  
> load
> command 4)
> /usr/bin/libtool: for architecture cputype (16777223) cpusubtype (3)
> object: /usr/local/lib/libgcc_s.10.4.dylib malformed object (unknown
> load command 4)
> ** arch - ppc
> gfortran-4.0 -arch ppc  -isysroot /Developer/SDKs/MacOSX10.4u.sdk
> -fPIC  -g -O2 -c lmm.f -o lmm.o
> make: *** [lmm.so] Error 1
> chmod:
> /Library/Frameworks/R.framework/Versions/2.5/Resources/library/lmm/ 
> libs/i386/*:
> No such file or directory
> gcc-4.0 -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -std=gnu99
> -dynamiclib -Wl,-macosx_version_min -Wl,10.3 -undefined dynamic_lookup
> -single_module -multiply_defined suppress -L/usr/local/lib -o lmm.so
> lmm.o  -L/usr/local/lib/gcc/powerpc-apple-darwin8/4.2.0 -lgfortran
> -lgcc_s.10.4 -lSystemStubs -F/Library/Frameworks/R.framework/..
> -framework R
>
> The downloaded packages are in
>    /private/tmp/Rtmpe4c9Of/downloaded_packages
> ** Removing
> '/Library/Frameworks/R.framework/Versions/2.5/Resources/library/lmm'
> ** Restoring previous
> '/Library/Frameworks/R.framework/Versions/2.5/Resources/library/lmm'
> /usr/bin/libtool: for architecture cputype (16777223) cpusubtype (3)
> object: /usr/local/lib/libgfortran.dylib malformed object (unknown  
> load
> command 4)
> /usr/bin/libtool: for architecture cputype (16777223) cpusubtype (3)
> object: /usr/local/lib/libgcc_s.10.4.dylib malformed object (unknown
> load command 4)
> make: *** [lmm.so] Error 1
> chmod:
> /Library/Frameworks/R.framework/Versions/2.5/Resources/library/lmm/ 
> libs/ppc/*:
> No such file or directory
> ERROR: compilation failed for package 'lmm'
> *************************************
>
>
>
> Prof Brian Ripley wrote:
>> And beyond that good advice, the mailing list for MacOS issues is
>> R-sig-mac.
>>
>> Are you really using 'GNU Fortran 4.2.0' (which was released well
>> after R 2.5.0), or some pre-release of it?  Such details do matter.
>>
>>
>> On Wed, 30 May 2007, Roy Mendelssohn wrote:
>>
>>> Hi Recal:
>>>
>>> To save you from some possible flames, it would probably help if you
>>> describe what the problems are, with specific examples and some of
>>> the relevant error messages. It would be difficult to for someone to
>>> know if they are seeing similar problems without knowing what the
>>> problems are.
>>>
>>> I believe such information is in the posting guides, which do  
>>> contain
>>> good information on how to frame a question to the mail list that
>>> will elicit useful responses.
>>>
>>> -Roy
>>>
>>>
>>>
>>>
>>> On May 30, 2007, at 7:08 AM, Recai Yucel wrote:
>>>
>>>> Please accept my apologies if this was addressed before, I could  
>>>> not
>>>> find any solution so I am posting my question here.
>>>>
>>>> I am having a lot of difficulties with installing and developing R
>>>> packages with the latest version of R 2.5.0. I am using a MacBook
>>>> Pro. I
>>>> never had these problems with the previous versions of R. I  
>>>> think part
>>>> of the problem is caused by the GNU Fortran 4.2.0 or my lack of
>>>> knowledge...
>>>>
>>>> If anybody else had similar problems and found the solution, please
>>>> let
>>>> me know.
>>>>
>>>> Best.
>>>>
>>>> -- 
>>>> Recai Yucel, Ph.D.
>>>> Assistant Professor of Biostatistics
>>>> Biostatistics and Epidemiology
>>>> UMASS-Amherst
>>
>
> -- 
> Recai Yucel, Ph.D.
> Assistant Professor of Biostatistics
> Biostatistics and Epidemiology
> UMASS-Amherst
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From guangjie.chen at mail.mcgill.ca  Wed May 30 18:00:26 2007
From: guangjie.chen at mail.mcgill.ca (Guangjie Chen)
Date: Wed, 30 May 2007 12:00:26 -0400
Subject: [R-SIG-Mac] Plot format
Message-ID: <DEAB27CC-3DEF-4A8C-864F-0E6564CC7073@mail.mcgill.ca>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070530/be6d64d5/attachment.pl 

From simon.urbanek at r-project.org  Wed May 30 18:31:50 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 30 May 2007 12:31:50 -0400
Subject: [R-SIG-Mac] Plot format
In-Reply-To: <DEAB27CC-3DEF-4A8C-864F-0E6564CC7073@mail.mcgill.ca>
References: <DEAB27CC-3DEF-4A8C-864F-0E6564CC7073@mail.mcgill.ca>
Message-ID: <65B8D8DF-2E7D-4B30-ADB7-3CF91463AB2E@r-project.org>

Guangjie,

On May 30, 2007, at 12:00 PM, Guangjie Chen wrote:

> I have been using R for Windows for a while, but i want to change  
> to R for Mac. The only problem is that the image quality of plots  
> saved in R for Mac (e.g. pdf) seems not have to good enough quality  
> for publications or presentation.

In fact plots saved as PDF have higher quality than the EMF format as  
PDF is the publishing standard, whereas EMF is restricted by the  
Windows GDI and its (im)precision. PDFs created by either the PDF  
device or the Quartz device in R are both precise vector formats  
without any loss of quality.

Anyway, this is not about the format, but probably about the tools  
you use. Note that MS tools cannot handle PDF well (they convert it  
to low-quality bitmaps), but then I hope would not use such tools for  
publication or presentation... (especially not on a Mac ;)).

Cheers,
Simon


From HStevens at MUOhio.edu  Wed May 30 21:14:45 2007
From: HStevens at MUOhio.edu (Martin Henry H. Stevens)
Date: Wed, 30 May 2007 15:14:45 -0400
Subject: [R-SIG-Mac] Plot format
In-Reply-To: <DEAB27CC-3DEF-4A8C-864F-0E6564CC7073@mail.mcgill.ca>
References: <DEAB27CC-3DEF-4A8C-864F-0E6564CC7073@mail.mcgill.ca>
Message-ID: <A583F21D-82D8-4571-8D5D-9FA50D06E5DE@MUOhio.edu>

Please see this wiki page for more info on graphics, especially with  
respect to MS Word.

http://wiki.r-project.org/rwiki/doku.php?id=tips:using- 
platform:macosx-graphics

Cheers,
Hank

On May 30, 2007, at 12:00 PM, Guangjie Chen wrote:

> Dear all,
>
> I have been using R for Windows for a while, but i want to change to
> R for Mac. The only problem is that the image quality of plots saved
> in R for Mac (e.g. pdf) seems not have to good enough quality for
> publications or presentation. In R for Windows, plots are often saved
> as .emf format. Just wonder which format you use for plots in high
> quality similar to .emf.
>
> Thanks!
>
> Guangjie
>
>
> *********************************************************
> Guangjie Chen, Postdoc Fellow
>
> Department of Biology
> McGill University
> Stewart Biology Building
> 1205 Docteur Penfield, Room: W6/5
> Montreal, Quebec H3A 1B1
> Canada
>
> Tel: +1(514) 398-4117
> Fax: +1(514)-398-5069
>
> *********************************************************
>
>
>
>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac



Dr. Hank Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.cas.muohio.edu/~stevenmh/
http://www.muohio.edu/ecology/
http://www.muohio.edu/botany/

"E Pluribus Unum"


From macq at llnl.gov  Thu May 31 02:13:04 2007
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 30 May 2007 17:13:04 -0700
Subject: [R-SIG-Mac] Plot format
In-Reply-To: <65B8D8DF-2E7D-4B30-ADB7-3CF91463AB2E@r-project.org>
References: <DEAB27CC-3DEF-4A8C-864F-0E6564CC7073@mail.mcgill.ca>
	<65B8D8DF-2E7D-4B30-ADB7-3CF91463AB2E@r-project.org>
Message-ID: <p06230907c283792d71f2@[128.115.153.6]>

I have found graphics saved with the png() driver to be of sufficient 
quality to place in PowerPoint on the Mac, and use for presentations.

png() does require a running X windows server (which I don't consider 
to be a problem, but many Mac users do), but I would expect the GDD() 
driver to generate good quality as well.

-Don

At 12:31 PM -0400 5/30/07, Simon Urbanek wrote:
>Guangjie,
>
>On May 30, 2007, at 12:00 PM, Guangjie Chen wrote:
>
>>  I have been using R for Windows for a while, but i want to change 
>>  to R for Mac. The only problem is that the image quality of plots 
>>  saved in R for Mac (e.g. pdf) seems not have to good enough quality 
>>  for publications or presentation.
>
>In fact plots saved as PDF have higher quality than the EMF format as 
>PDF is the publishing standard, whereas EMF is restricted by the 
>Windows GDI and its (im)precision. PDFs created by either the PDF 
>device or the Quartz device in R are both precise vector formats 
>without any loss of quality.
>
>Anyway, this is not about the format, but probably about the tools 
>you use. Note that MS tools cannot handle PDF well (they convert it 
>to low-quality bitmaps), but then I hope would not use such tools for 
>publication or presentation... (especially not on a Mac ;)).
>
>Cheers,
>Simon
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA


From yucel at schoolph.umass.edu  Wed May 30 17:29:14 2007
From: yucel at schoolph.umass.edu (Recai Yucel)
Date: Wed, 30 May 2007 11:29:14 -0400
Subject: [R-SIG-Mac] [Fwd: Re: [Rd] R 2.5.0 MAC OS X version]
Message-ID: <465D984A.3050506@schoolph.umass.edu>

Dear All,

I, unkowingly, posted the following message to R-devel mailing list. 
Please let me know if there is any quick solution to the following.

I just installed the latest version of R 2.5.0 on my mac book pro. I am 
having a lot of difficulty with installing R packages.  Below I provide 
a specific example and the error messages I get from R.

*************

When I try to install a package called lmm (which was installed with no 
problem with the previous versions of R), I get the following messages, 
specifically on the make, chmod, etc.

*************************************
trying URL 'http://cran.us.r-project.org/src/contrib/lmm_0.3-4.tar.gz'
Content type 'application/x-tar' length 31471 bytes
opened URL
==================================================
downloaded 30Kb

WARNING: ignoring environment value of R_HOME
tar: Read 4096 bytes from -
* Installing *source* package 'lmm' ...
** libs
** arch - i386
gfortran-4.0 -arch i386  -isysroot /Developer/SDKs/MacOSX10.4u.sdk   
-fPIC  -g -O2 -march=nocona -c lmm.f -o lmm.o
gcc-4.0 -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -dynamiclib 
-Wl,-macosx_version_min -Wl,10.3 -undefined dynamic_lookup 
-single_module -multiply_defined suppress -L/usr/local/lib -o lmm.so 
lmm.o  -L/usr/local/lib/gcc/i686-apple-darwin8/4.2.0 -lgfortran 
-lgcc_s.10.4 -F/Library/Frameworks/R.framework/.. -framework R
/usr/bin/libtool: for architecture cputype (16777223) cpusubtype (3) 
object: /usr/local/lib/libgfortran.dylib malformed object (unknown load 
command 4)
/usr/bin/libtool: for architecture cputype (16777223) cpusubtype (3) 
object: /usr/local/lib/libgcc_s.10.4.dylib malformed object (unknown 
load command 4)
** arch - ppc
gfortran-4.0 -arch ppc  -isysroot /Developer/SDKs/MacOSX10.4u.sdk   
-fPIC  -g -O2 -c lmm.f -o lmm.o
make: *** [lmm.so] Error 1
chmod: 
/Library/Frameworks/R.framework/Versions/2.5/Resources/library/lmm/libs/i386/*: 
No such file or directory
gcc-4.0 -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -std=gnu99 
-dynamiclib -Wl,-macosx_version_min -Wl,10.3 -undefined dynamic_lookup 
-single_module -multiply_defined suppress -L/usr/local/lib -o lmm.so 
lmm.o  -L/usr/local/lib/gcc/powerpc-apple-darwin8/4.2.0 -lgfortran 
-lgcc_s.10.4 -lSystemStubs -F/Library/Frameworks/R.framework/.. 
-framework R

The downloaded packages are in
   /private/tmp/Rtmpe4c9Of/downloaded_packages
** Removing 
'/Library/Frameworks/R.framework/Versions/2.5/Resources/library/lmm'
** Restoring previous 
'/Library/Frameworks/R.framework/Versions/2.5/Resources/library/lmm'
/usr/bin/libtool: for architecture cputype (16777223) cpusubtype (3) 
object: /usr/local/lib/libgfortran.dylib malformed object (unknown load 
command 4)
/usr/bin/libtool: for architecture cputype (16777223) cpusubtype (3) 
object: /usr/local/lib/libgcc_s.10.4.dylib malformed object (unknown 
load command 4)
make: *** [lmm.so] Error 1
chmod: 
/Library/Frameworks/R.framework/Versions/2.5/Resources/library/lmm/libs/ppc/*: 
No such file or directory
ERROR: compilation failed for package 'lmm'
*************************************





-------------- next part --------------
An embedded message was scrubbed...
From: Recai Yucel <yucel at schoolph.umass.edu>
Subject: Re: [Rd] R 2.5.0 MAC OS X version
Date: Wed, 30 May 2007 10:44:53 -0400
Size: 7741
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070530/1bccd794/attachment-0001.mht 

From wuolong at gmail.com  Thu May 31 23:49:33 2007
From: wuolong at gmail.com (Michael)
Date: Thu, 31 May 2007 16:49:33 -0500
Subject: [R-SIG-Mac] R GUI and CamiScript
Message-ID: <wjvee8br4i.fsf@gmail.com>


Hi, I got this error message when running the latest GUI (4404 for R 2.5):

2007-05-31 16:46:10.102 R[12349] *** -[NSBundle load]: Error loading code /Users/nali/Library/InputManagers/CamiScript/CamiScript.bundle/Contents/MacOS/CamiScript for bundle /Users/nali/Library/InputManagers/CamiScript/CamiScript.bundle, error code 2 (link edit error code 0, error number 0 ())

It is pretty harmless and doesn't seem to affect anything.  I wonder why R
wants to load the plug-in for Camino browser.

Michael


From SahaRinku at uams.edu  Thu May 31 19:01:07 2007
From: SahaRinku at uams.edu (Saha, Rinku)
Date: Thu, 31 May 2007 12:01:07 -0500
Subject: [R-SIG-Mac]  grDevices won't load
Message-ID: <EB40E3517225534C97A03CBCB98DD80703C165A2@MAIL4.ad.uams.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070531/a39b13c4/attachment.pl 

From SahaRinku at uams.edu  Thu May 31 21:30:27 2007
From: SahaRinku at uams.edu (Saha, Rinku)
Date: Thu, 31 May 2007 14:30:27 -0500
Subject: [R-SIG-Mac] FW:  grDevices won't load help requested ASAP
Message-ID: <EB40E3517225534C97A03CBCB98DD80703C16682@MAIL4.ad.uams.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070531/a0b6c727/attachment.pl 

