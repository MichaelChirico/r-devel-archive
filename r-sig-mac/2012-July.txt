From friedman at cancercenter.columbia.edu  Tue Jul  3 23:01:03 2012
From: friedman at cancercenter.columbia.edu (Richard Friedman)
Date: Tue, 3 Jul 2012 17:01:03 -0400
Subject: [R-SIG-Mac] problem with lack of BWidget in TCL/TK 8.6
Message-ID: <1262364C-7902-4F80-855B-77CCEEDC2A5C@cancercenter.columbia.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120703/6b8122c5/attachment.pl>

From pdalgd at gmail.com  Wed Jul  4 02:16:33 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Wed, 4 Jul 2012 02:16:33 +0200
Subject: [R-SIG-Mac] problem with lack of BWidget in TCL/TK 8.6
In-Reply-To: <1262364C-7902-4F80-855B-77CCEEDC2A5C@cancercenter.columbia.edu>
References: <1262364C-7902-4F80-855B-77CCEEDC2A5C@cancercenter.columbia.edu>
Message-ID: <652B0953-9EDB-48EA-8CE6-7493DD865762@gmail.com>


On Jul 3, 2012, at 23:01 , Richard Friedman wrote:

> I cannot find BWidget anywhere in /usr/local/lib or its subdirectories, although Tktable is there:

So it isn't installed. Install it, then.

Get

http://sourceforge.net/projects/tcllib/files/BWidget/1.9.5/bwidget-1.9.5.tar.gz

unpack the tar file into /usr/local/lib:

cd /usr/local/lib
sudo tar xvf ~pd/Downloads/bwidget-1.9.5.tar 

(replacing ~pd if you're not me, of course)

Done. Verify by starting R and

> library(tcltk)
Loading Tcl/Tk interface ... done
> tclRequire("BWidget")
<Tcl> 1.9.5 


-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From braunm at mit.edu  Wed Jul  4 03:12:07 2012
From: braunm at mit.edu (Michael Braun)
Date: Wed, 4 Jul 2012 01:12:07 +0000
Subject: [R-SIG-Mac] Segfault with rWishart in R 2.15.1
Message-ID: <9D1BD943-1825-4789-B511-AE403215DFA4@mit.edu>

I just upgraded to R 2.15.1, and I am getting a segmentation fault when using the rWishart function (from the stats package) to sample moderately-size matrices.

Here is the output when I run R within gdb.  720 appears to be the dimensionality cut-off.  Anything smaller works fine.  Anything larger crashes.

> x=rWishart(1,700,diag(700)) // this works
> x=rWishart(1,720,diag(720))
Error: C stack usage is too close to the limit
> x=rWishart(1,722,diag(722))

Program received signal EXC_BAD_ACCESS, Could not access memory.
Reason: KERN_PROTECTION_FAILURE at address: 0x00007fff5f3fff88
0x00007fff88b9c68b in __vfprintf ()
(gdb) bt
#0  0x00007fff88b9c68b in __vfprintf ()
#1  0x00007fff88b9c18e in vfprintf_l ()
#2  0x00007fff88ba52d0 in printf ()
#3  0x0000000100198619 in Rstd_WriteConsoleEx (
    buf=<value temporarily unavailable, due to optimizations>, 
    len=<value temporarily unavailable, due to optimizations>, 
    otype=<value temporarily unavailable, due to optimizations>)
    at ../../../../R-2.15.1/src/unix/sys-std.c:963
#4  0x00000001001497b7 in REvprintf (format=0x100253820 "%s", 
    arg=0x7fff5f4029f0) at ../../../../R-2.15.1/src/main/printutils.c:813
#5  0x0000000100149a02 in REprintf (
    format=<value temporarily unavailable, due to optimizations>)
    at ../../../../R-2.15.1/src/main/printutils.c:698
#6  0x0000000100099e45 in verrorcall_dflt (call=0x10080db78, 
    format=0x10025b9d8 "C stack usage is too close to the limit", 
    ap=0x7fff5f408cc0) at ../../../../R-2.15.1/src/main/errors.c:656
#7  0x000000010009a86e in Rf_errorcall (call=0x10080db78, 
    format=0x10025b9d8 "C stack usage is too close to the limit")
    at ../../../../R-2.15.1/src/main/errors.c:698
#8  0x000000010009c95c in R_CheckStack ()
    at ../../../../R-2.15.1/src/main/errors.c:93
#9  0x0000000102704e80 in R_rWishart ()
#10 0x000000010007af0c in do_dotcall (call=0x102f63710, 
---Type <return> to continue, or q <return> to quit---
    op=<value temporarily unavailable, due to optimizations>, 
    args=<value temporarily unavailable, due to optimizations>, 
    env=<value temporarily unavailable, due to optimizations>)
    at ../../../../R-2.15.1/src/main/dotcode.c:543
#11 0x00000001000a128f in bcEval (
    body=<value temporarily unavailable, due to optimizations>, 
    rho=0x103df1140, 
    useCache=<value temporarily unavailable, due to optimizations>)
    at ../../../../R-2.15.1/src/main/eval.c:4442
#12 0x00000001000aa1f5 in Rf_eval (e=0x102f63748, rho=0x103df1140)
    at ../../../../R-2.15.1/src/main/eval.c:397
#13 0x00000001000af5d1 in Rf_applyClosure (call=0x103df0b58, op=0x102f62470, 
    arglist=0x103df0df8, rho=0x10085b6a8, suppliedenv=0x10085b6e0)
    at ../../../../R-2.15.1/src/main/eval.c:859
#14 0x00000001000aa402 in Rf_eval (e=0x103df0b58, rho=0x10085b6a8)
    at ../../../../R-2.15.1/src/main/eval.c:510
#15 0x00000001000ad705 in do_set (call=0x103df0c38, op=0x100832030, 
    args=0x103df0c00, rho=0x10085b6a8)
    at ../../../../R-2.15.1/src/main/eval.c:1715
#16 0x00000001000aa4ec in Rf_eval (e=0x103df0c38, rho=0x10085b6a8)
    at ../../../../R-2.15.1/src/main/eval.c:466
#17 0x00000001000e3822 in Rf_ReplIteration (rho=0x10085b6a8, savestack=0, 
    browselevel=<value temporarily unavailable, due to optimizations>, 
---Type <return> to continue, or q <return> to quit---
    state=0x7fff5fbfe7d0) at ../../../../R-2.15.1/src/main/main.c:256
#18 0x00000001000e3b11 in R_ReplConsole (rho=0x10085b6a8, savestack=0, 
    browselevel=0) at ../../../../R-2.15.1/src/main/main.c:305
#19 0x00000001000e4020 in run_Rmainloop ()
    at ../../../../R-2.15.1/src/main/main.c:987
#20 0x0000000100000eeb in main ()

Here is my sessionInfo() output.  I am running R on a brand new (as in, yesterday) Macbook Pro.  This is the CRAN binary version.  I did not link to an optimized BLAS on this computer (yet).  However, I did try this on my office computer (Mac Pro) that I compiled from source, linking to Intel MKL, and that also crashes around k=722.  

> sessionInfo()
R version 2.15.1 (2012-06-22)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     
> 

Anyway, since R is segfaulting on a brand new computer, I thought you would like to know.

Michael
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 1579 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120704/88a80332/attachment.bin>

From pdalgd at gmail.com  Wed Jul  4 09:35:44 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Wed, 4 Jul 2012 09:35:44 +0200
Subject: [R-SIG-Mac] Segfault with rWishart in R 2.15.1
In-Reply-To: <9D1BD943-1825-4789-B511-AE403215DFA4@mit.edu>
References: <9D1BD943-1825-4789-B511-AE403215DFA4@mit.edu>
Message-ID: <A4860A73-F6F1-4F48-9AE3-97424EA9ADF5@gmail.com>


On Jul 4, 2012, at 03:12 , Michael Braun wrote:

> I just upgraded to R 2.15.1, and I am getting a segmentation fault when using the rWishart function (from the stats package) to sample moderately-size matrices.
> 
> Here is the output when I run R within gdb.  720 appears to be the dimensionality cut-off.  Anything smaller works fine.  Anything larger crashes.
> 
>> x=rWishart(1,700,diag(700)) // this works
>> x=rWishart(1,720,diag(720))
> Error: C stack usage is too close to the limit
>> x=rWishart(1,722,diag(722))
> 

That'll be due to allocating memory off the C stack with alloca(). Please file a bug report on this (nothing to do with Mac, much less with the age of your computer).

In a tight spot, you can run R from the terminal after raising the C stack limit with, say, "ulimit -s 32768", but of course the trouble returns at twice the matrix size. 

Notice that there are really two issues here. One is that the R_CheckStack() safeguards are failing. The other is why we're using stack allocation in the first place.  

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From ripley at stats.ox.ac.uk  Wed Jul  4 10:05:59 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 04 Jul 2012 09:05:59 +0100
Subject: [R-SIG-Mac] Segfault with rWishart in R 2.15.1
In-Reply-To: <9D1BD943-1825-4789-B511-AE403215DFA4@mit.edu>
References: <9D1BD943-1825-4789-B511-AE403215DFA4@mit.edu>
Message-ID: <4FF3F967.4020209@stats.ox.ac.uk>

It's not a Mac issue (except perhaps the crash).

The author of rWishart used alloca() without checking if there is space 
available on the stack.  For large enough arrays that blows the stack 
and although R can tell you that has happened, the damage has been done.

We'll fix that shortly, so take a look at a nightly build of R-patched 
in a couple of days.

On 04/07/2012 02:12, Michael Braun wrote:
> I just upgraded to R 2.15.1, and I am getting a segmentation fault when using the rWishart function (from the stats package) to sample moderately-size matrices.
>
> Here is the output when I run R within gdb.  720 appears to be the dimensionality cut-off.  Anything smaller works fine.  Anything larger crashes.
>
>> x=rWishart(1,700,diag(700)) // this works
>> x=rWishart(1,720,diag(720))
> Error: C stack usage is too close to the limit
>> x=rWishart(1,722,diag(722))
>
> Program received signal EXC_BAD_ACCESS, Could not access memory.
> Reason: KERN_PROTECTION_FAILURE at address: 0x00007fff5f3fff88
> 0x00007fff88b9c68b in __vfprintf ()
> (gdb) bt
> #0  0x00007fff88b9c68b in __vfprintf ()
> #1  0x00007fff88b9c18e in vfprintf_l ()
> #2  0x00007fff88ba52d0 in printf ()
> #3  0x0000000100198619 in Rstd_WriteConsoleEx (
>      buf=<value temporarily unavailable, due to optimizations>,
>      len=<value temporarily unavailable, due to optimizations>,
>      otype=<value temporarily unavailable, due to optimizations>)
>      at ../../../../R-2.15.1/src/unix/sys-std.c:963
> #4  0x00000001001497b7 in REvprintf (format=0x100253820 "%s",
>      arg=0x7fff5f4029f0) at ../../../../R-2.15.1/src/main/printutils.c:813
> #5  0x0000000100149a02 in REprintf (
>      format=<value temporarily unavailable, due to optimizations>)
>      at ../../../../R-2.15.1/src/main/printutils.c:698
> #6  0x0000000100099e45 in verrorcall_dflt (call=0x10080db78,
>      format=0x10025b9d8 "C stack usage is too close to the limit",
>      ap=0x7fff5f408cc0) at ../../../../R-2.15.1/src/main/errors.c:656
> #7  0x000000010009a86e in Rf_errorcall (call=0x10080db78,
>      format=0x10025b9d8 "C stack usage is too close to the limit")
>      at ../../../../R-2.15.1/src/main/errors.c:698
> #8  0x000000010009c95c in R_CheckStack ()
>      at ../../../../R-2.15.1/src/main/errors.c:93
> #9  0x0000000102704e80 in R_rWishart ()
> #10 0x000000010007af0c in do_dotcall (call=0x102f63710,
> ---Type <return> to continue, or q <return> to quit---
>      op=<value temporarily unavailable, due to optimizations>,
>      args=<value temporarily unavailable, due to optimizations>,
>      env=<value temporarily unavailable, due to optimizations>)
>      at ../../../../R-2.15.1/src/main/dotcode.c:543
> #11 0x00000001000a128f in bcEval (
>      body=<value temporarily unavailable, due to optimizations>,
>      rho=0x103df1140,
>      useCache=<value temporarily unavailable, due to optimizations>)
>      at ../../../../R-2.15.1/src/main/eval.c:4442
> #12 0x00000001000aa1f5 in Rf_eval (e=0x102f63748, rho=0x103df1140)
>      at ../../../../R-2.15.1/src/main/eval.c:397
> #13 0x00000001000af5d1 in Rf_applyClosure (call=0x103df0b58, op=0x102f62470,
>      arglist=0x103df0df8, rho=0x10085b6a8, suppliedenv=0x10085b6e0)
>      at ../../../../R-2.15.1/src/main/eval.c:859
> #14 0x00000001000aa402 in Rf_eval (e=0x103df0b58, rho=0x10085b6a8)
>      at ../../../../R-2.15.1/src/main/eval.c:510
> #15 0x00000001000ad705 in do_set (call=0x103df0c38, op=0x100832030,
>      args=0x103df0c00, rho=0x10085b6a8)
>      at ../../../../R-2.15.1/src/main/eval.c:1715
> #16 0x00000001000aa4ec in Rf_eval (e=0x103df0c38, rho=0x10085b6a8)
>      at ../../../../R-2.15.1/src/main/eval.c:466
> #17 0x00000001000e3822 in Rf_ReplIteration (rho=0x10085b6a8, savestack=0,
>      browselevel=<value temporarily unavailable, due to optimizations>,
> ---Type <return> to continue, or q <return> to quit---
>      state=0x7fff5fbfe7d0) at ../../../../R-2.15.1/src/main/main.c:256
> #18 0x00000001000e3b11 in R_ReplConsole (rho=0x10085b6a8, savestack=0,
>      browselevel=0) at ../../../../R-2.15.1/src/main/main.c:305
> #19 0x00000001000e4020 in run_Rmainloop ()
>      at ../../../../R-2.15.1/src/main/main.c:987
> #20 0x0000000100000eeb in main ()
>
> Here is my sessionInfo() output.  I am running R on a brand new (as in, yesterday) Macbook Pro.  This is the CRAN binary version.  I did not link to an optimized BLAS on this computer (yet).  However, I did try this on my office computer (Mac Pro) that I compiled from source, linking to Intel MKL, and that also crashes around k=722.
>
>> sessionInfo()
> R version 2.15.1 (2012-06-22)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>
> Anyway, since R is segfaulting on a brand new computer, I thought you would like to know.
>
> Michael=
>
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ripley at stats.ox.ac.uk  Wed Jul  4 14:59:09 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 04 Jul 2012 13:59:09 +0100
Subject: [R-SIG-Mac] Segfault with rWishart in R 2.15.1
In-Reply-To: <A4860A73-F6F1-4F48-9AE3-97424EA9ADF5@gmail.com>
References: <9D1BD943-1825-4789-B511-AE403215DFA4@mit.edu>
	<A4860A73-F6F1-4F48-9AE3-97424EA9ADF5@gmail.com>
Message-ID: <4FF43E1D.8020703@stats.ox.ac.uk>

On 04/07/2012 08:35, peter dalgaard wrote:
>
> On Jul 4, 2012, at 03:12 , Michael Braun wrote:
>
>> I just upgraded to R 2.15.1, and I am getting a segmentation fault
>> when using the rWishart function (from the stats package) to sample
>> moderately-size matrices.
>>
>> Here is the output when I run R within gdb.  720 appears to be the
>> dimensionality cut-off.  Anything smaller works fine.  Anything
>> larger crashes.
>>
>>> x=rWishart(1,700,diag(700)) // this works
>>> x=rWishart(1,720,diag(720))
>> Error: C stack usage is too close to the limit
>>> x=rWishart(1,722,diag(722))
>>
>
> That'll be due to allocating memory off the C stack with alloca().
> Please file a bug report on this (nothing to do with Mac, much less
> with the age of your computer).
>
> In a tight spot, you can run R from the terminal after raising the C
> stack limit with, say, "ulimit -s 32768", but of course the trouble
> returns at twice the matrix size.
>
> Notice that there are really two issues here. One is that the
> R_CheckStack() safeguards are failing. The other is why we're using
> stack allocation in the first place.

They are related: the R_CheckStack() safeguards were being used 
incorrectly.  alloca() is important for frequent small allocations (not 
the case here): the safeguards are only designed to work for repeated 
small allocations (< 100kB, well under 5% of the stack).

I have experimented with a pre-alloca check in the past, and it seems 
this would be a better protection against misuse, and I'll trial that in 
R-devel.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From rmh at temple.edu  Thu Jul  5 05:12:22 2012
From: rmh at temple.edu (Richard M. Heiberger)
Date: Wed, 4 Jul 2012 23:12:22 -0400
Subject: [R-SIG-Mac] graphics device with record=TRUE
Message-ID: <CAGx1TMCpQ+gt6aRGjShguU+EMEwTpcLtq14PqrL1i_np2b_jFA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120704/283d05dd/attachment.pl>

From dwinsemius at comcast.net  Thu Jul  5 05:35:47 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 4 Jul 2012 23:35:47 -0400
Subject: [R-SIG-Mac] graphics device with record=TRUE
In-Reply-To: <CAGx1TMCpQ+gt6aRGjShguU+EMEwTpcLtq14PqrL1i_np2b_jFA@mail.gmail.com>
References: <CAGx1TMCpQ+gt6aRGjShguU+EMEwTpcLtq14PqrL1i_np2b_jFA@mail.gmail.com>
Message-ID: <539D5371-A1AF-47FA-9B44-1367FC1DB3AB@comcast.net>


On Jul 4, 2012, at 11:12 PM, Richard M. Heiberger wrote:

> The windows feature I miss most on the Mac is a graphics device that
> remembers the previous graphs,
> specifically
> windows.options(record=TRUE)  ## R for Windows
>
> Is there a similar feature available on the macintosh?

There is a graphics stack, whose default depth is 10, and you can  
scroll backward with cmd-<left-arrow>  ... at least in the R64.app and  
r.app GUI's.

-- 
David Winsemius, MD
West Hartford, CT


From rmh at temple.edu  Thu Jul  5 05:47:48 2012
From: rmh at temple.edu (Richard M. Heiberger)
Date: Wed, 4 Jul 2012 23:47:48 -0400
Subject: [R-SIG-Mac] graphics device with record=TRUE
In-Reply-To: <539D5371-A1AF-47FA-9B44-1367FC1DB3AB@comcast.net>
References: <CAGx1TMCpQ+gt6aRGjShguU+EMEwTpcLtq14PqrL1i_np2b_jFA@mail.gmail.com>
	<539D5371-A1AF-47FA-9B44-1367FC1DB3AB@comcast.net>
Message-ID: <CAGx1TMDm69GcHN4NRPLG_iQoa=uCWEGx4ZUfgntTwWEyavU4RA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120704/7a0f27f9/attachment.pl>

From dwinsemius at comcast.net  Thu Jul  5 15:42:47 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 5 Jul 2012 09:42:47 -0400
Subject: [R-SIG-Mac] graphics device with record=TRUE
In-Reply-To: <CAGx1TMDm69GcHN4NRPLG_iQoa=uCWEGx4ZUfgntTwWEyavU4RA@mail.gmail.com>
References: <CAGx1TMCpQ+gt6aRGjShguU+EMEwTpcLtq14PqrL1i_np2b_jFA@mail.gmail.com>
	<539D5371-A1AF-47FA-9B44-1367FC1DB3AB@comcast.net>
	<CAGx1TMDm69GcHN4NRPLG_iQoa=uCWEGx4ZUfgntTwWEyavU4RA@mail.gmail.com>
Message-ID: <628F3793-CD22-454C-A234-02CB9C797870@comcast.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120705/09d7df28/attachment.pl>

From kasperdanielhansen at gmail.com  Thu Jul  5 15:56:36 2012
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Thu, 5 Jul 2012 09:56:36 -0400
Subject: [R-SIG-Mac] graphics device with record=TRUE
In-Reply-To: <628F3793-CD22-454C-A234-02CB9C797870@comcast.net>
References: <CAGx1TMCpQ+gt6aRGjShguU+EMEwTpcLtq14PqrL1i_np2b_jFA@mail.gmail.com>
	<539D5371-A1AF-47FA-9B44-1367FC1DB3AB@comcast.net>
	<CAGx1TMDm69GcHN4NRPLG_iQoa=uCWEGx4ZUfgntTwWEyavU4RA@mail.gmail.com>
	<628F3793-CD22-454C-A234-02CB9C797870@comcast.net>
Message-ID: <CAC2h7uu4gd_qwv8E-zv26OTKJeGGQq+b5ZDUQX2VYvpFw3_GRg@mail.gmail.com>

On Thu, Jul 5, 2012 at 9:42 AM, David Winsemius <dwinsemius at comcast.net> wrote:
>
> On Jul 4, 2012, at 11:47 PM, Richard M. Heiberger wrote:
>
>> David,
>>
>> thank you.  it works.
>>
>> Where is it documented?
>
> The first place I find written documentation of the cmd-arrow
> functions  is in the R MacOSX FAQ:
> 12.8 Why are Quartz plots much bigger than they used to be?
> (Second paragraph)
>
> (I may have read about the stack depth in one of the postings from
> Simon in this venue. The figure of ten is a rough guess. The true
> value is somewhere  in the range of 8 to 15.)
>
>>  I want to set the depth to something much larger than 10.
>
> I have not found a place for users to change this. May be that a
> compile time change is needed. (Simon will hopefully correct me if
> this is wrong.)
>
> I tried searching MarkMail's archive with a couple of strategies, ...
> the last unsuccessful one was:
>
> http://markmail.org/search/?q=simon+urbanek+list%3Aorg.r-project.r-sig-mac+graphics+increase#query
> :simon%20urbanek%20list%3Aorg.r-project.r-sig-mac%20graphics%20increase
> +page:2+mid:ykmzj6mwesj3wywu+state:results
>
> (I don't know if that will be paste-worthy or click-worthy.)
>
>
>> I don't see anything about the stack on the ?quartz page
>> and there appears not to be any control option on the quartz menu
>> item on the device
>> itself.
>
> If the Quartz window is the focus, the Quartz menu options will become
> active  and even if not the focus the menu will also tell you the
> keyboard equivalents (standard Mac behavior). I think that is where I
> learned it.

When the quartz window is in focus I get (this is R compiled myself
and started from Terminal.  The same from within emacs):

On the menu bar I get headings
...
R
Edit
Quartz
Window

Edit has submenus copy and paste which are very nice if you want to
save the plot
Quartz has submenus Back and Forward bound to Apple + Left/Right arrow


>
>
>>
>> Rich
>>
>> On Wed, Jul 4, 2012 at 11:35 PM, David Winsemius <dwinsemius at comcast.net
>> > wrote:
>>
>> On Jul 4, 2012, at 11:12 PM, Richard M. Heiberger wrote:
>>
>> The windows feature I miss most on the Mac is a graphics device that
>> remembers the previous graphs,
>> specifically
>> windows.options(record=TRUE)  ## R for Windows
>>
>> Is there a similar feature available on the macintosh?
>>
>> There is a graphics stack, whose default depth is 10, and you can
>> scroll backward with cmd-<left-arrow>  ... at least in the R64.app
>> and r.app GUI's.
>>
>> --
>> David Winsemius, MD
>> West Hartford, CT
>>
>>
>
> David Winsemius, MD
> West Hartford, CT
>
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Thu Jul  5 16:01:58 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 5 Jul 2012 10:01:58 -0400
Subject: [R-SIG-Mac] graphics device with record=TRUE
In-Reply-To: <628F3793-CD22-454C-A234-02CB9C797870@comcast.net>
References: <CAGx1TMCpQ+gt6aRGjShguU+EMEwTpcLtq14PqrL1i_np2b_jFA@mail.gmail.com>
	<539D5371-A1AF-47FA-9B44-1367FC1DB3AB@comcast.net>
	<CAGx1TMDm69GcHN4NRPLG_iQoa=uCWEGx4ZUfgntTwWEyavU4RA@mail.gmail.com>
	<628F3793-CD22-454C-A234-02CB9C797870@comcast.net>
Message-ID: <3AF2FC2D-0E58-4FC0-8826-8123F215C508@r-project.org>


On Jul 5, 2012, at 9:42 AM, David Winsemius wrote:

> 
> On Jul 4, 2012, at 11:47 PM, Richard M. Heiberger wrote:
> 
>> David,
>> 
>> thank you.  it works.
>> 
>> Where is it documented?
> 
> The first place I find written documentation of the cmd-arrow  
> functions  is in the R MacOSX FAQ:
> 12.8 Why are Quartz plots much bigger than they used to be?
> (Second paragraph)
> 
> (I may have read about the stack depth in one of the postings from  
> Simon in this venue. The figure of ten is a rough guess. The true  
> value is somewhere  in the range of 8 to 15.)
> 
>> I want to set the depth to something much larger than 10.
> 
> I have not found a place for users to change this. May be that a  
> compile time change is needed. (Simon will hopefully correct me if  
> this is wrong.)
> 

R-devel/src/library/grDevices/src/qdCocoa.m at 37:

#define histsize 16

so, yes, it is hard-coded in R.

It is not part of the R.app GUI but actually of the Quartz device in R itself so it is not configurable.

It simply saves display lists and replays them as you go back - you can do that with any device that has display lists enabled (see dev.control). I'm not sure what Rich is up to but you can always save and restore plots with GEcreateSnapshot and GEplayDisplayList regardless of the device and the display list is just an R object. Keeping more than 16 plots seems a little tedious to go through ...

Cheers,
Simon



> I tried searching MarkMail's archive with a couple of strategies, ...  
> the last unsuccessful one was:
> 
> http://markmail.org/search/?q=simon+urbanek+list%3Aorg.r-project.r-sig-mac+graphics+increase#query 
> :simon%20urbanek%20list%3Aorg.r-project.r-sig-mac%20graphics%20increase 
> +page:2+mid:ykmzj6mwesj3wywu+state:results
> 
> (I don't know if that will be paste-worthy or click-worthy.)
> 
> 
>> I don't see anything about the stack on the ?quartz page
>> and there appears not to be any control option on the quartz menu  
>> item on the device
>> itself.
> 
> If the Quartz window is the focus, the Quartz menu options will become  
> active  and even if not the focus the menu will also tell you the  
> keyboard equivalents (standard Mac behavior). I think that is where I  
> learned it.
> 
> 
>> 
>> Rich
>> 
>> On Wed, Jul 4, 2012 at 11:35 PM, David Winsemius <dwinsemius at comcast.net 
>>> wrote:
>> 
>> On Jul 4, 2012, at 11:12 PM, Richard M. Heiberger wrote:
>> 
>> The windows feature I miss most on the Mac is a graphics device that
>> remembers the previous graphs,
>> specifically
>> windows.options(record=TRUE)  ## R for Windows
>> 
>> Is there a similar feature available on the macintosh?
>> 
>> There is a graphics stack, whose default depth is 10, and you can  
>> scroll backward with cmd-<left-arrow>  ... at least in the R64.app  
>> and r.app GUI's.
>> 
>> -- 
>> David Winsemius, MD
>> West Hartford, CT
>> 
>> 
> 
> David Winsemius, MD
> West Hartford, CT
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From rmh at temple.edu  Thu Jul  5 16:58:58 2012
From: rmh at temple.edu (Richard M. Heiberger)
Date: Thu, 5 Jul 2012 10:58:58 -0400
Subject: [R-SIG-Mac] graphics device with record=TRUE
In-Reply-To: <3AF2FC2D-0E58-4FC0-8826-8123F215C508@r-project.org>
References: <CAGx1TMCpQ+gt6aRGjShguU+EMEwTpcLtq14PqrL1i_np2b_jFA@mail.gmail.com>
	<539D5371-A1AF-47FA-9B44-1367FC1DB3AB@comcast.net>
	<CAGx1TMDm69GcHN4NRPLG_iQoa=uCWEGx4ZUfgntTwWEyavU4RA@mail.gmail.com>
	<628F3793-CD22-454C-A234-02CB9C797870@comcast.net>
	<3AF2FC2D-0E58-4FC0-8826-8123F215C508@r-project.org>
Message-ID: <CAGx1TMBvqT+Le0k540Bka=9M1-J2SdxeoCVDzHUSeb_CokyNgw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120705/0b05ae8f/attachment.pl>

From dwinsemius at comcast.net  Thu Jul  5 17:59:10 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 5 Jul 2012 11:59:10 -0400
Subject: [R-SIG-Mac] graphics device with record=TRUE
In-Reply-To: <CAGx1TMBvqT+Le0k540Bka=9M1-J2SdxeoCVDzHUSeb_CokyNgw@mail.gmail.com>
References: <CAGx1TMCpQ+gt6aRGjShguU+EMEwTpcLtq14PqrL1i_np2b_jFA@mail.gmail.com>
	<539D5371-A1AF-47FA-9B44-1367FC1DB3AB@comcast.net>
	<CAGx1TMDm69GcHN4NRPLG_iQoa=uCWEGx4ZUfgntTwWEyavU4RA@mail.gmail.com>
	<628F3793-CD22-454C-A234-02CB9C797870@comcast.net>
	<3AF2FC2D-0E58-4FC0-8826-8123F215C508@r-project.org>
	<CAGx1TMBvqT+Le0k540Bka=9M1-J2SdxeoCVDzHUSeb_CokyNgw@mail.gmail.com>
Message-ID: <24C61B31-D295-4FA4-A8E4-164443F4905B@comcast.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120705/803808f2/attachment.pl>

From rmh at temple.edu  Thu Jul  5 19:44:11 2012
From: rmh at temple.edu (Richard M. Heiberger)
Date: Thu, 5 Jul 2012 13:44:11 -0400
Subject: [R-SIG-Mac] graphics device with record=TRUE
In-Reply-To: <24C61B31-D295-4FA4-A8E4-164443F4905B@comcast.net>
References: <CAGx1TMCpQ+gt6aRGjShguU+EMEwTpcLtq14PqrL1i_np2b_jFA@mail.gmail.com>
	<539D5371-A1AF-47FA-9B44-1367FC1DB3AB@comcast.net>
	<CAGx1TMDm69GcHN4NRPLG_iQoa=uCWEGx4ZUfgntTwWEyavU4RA@mail.gmail.com>
	<628F3793-CD22-454C-A234-02CB9C797870@comcast.net>
	<3AF2FC2D-0E58-4FC0-8826-8123F215C508@r-project.org>
	<CAGx1TMBvqT+Le0k540Bka=9M1-J2SdxeoCVDzHUSeb_CokyNgw@mail.gmail.com>
	<24C61B31-D295-4FA4-A8E4-164443F4905B@comcast.net>
Message-ID: <CAGx1TMCfUxNAwLyevufsHoB+4JmhhwfVG-XAUb7E_57gBLBrsA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120705/40ec44f7/attachment.pl>

From friedman at cancercenter.columbia.edu  Thu Jul  5 20:45:45 2012
From: friedman at cancercenter.columbia.edu (Richard Friedman)
Date: Thu, 5 Jul 2012 14:45:45 -0400
Subject: [R-SIG-Mac] problem with lack of BWidget in TCL/TK 8.6
In-Reply-To: <652B0953-9EDB-48EA-8CE6-7493DD865762@gmail.com>
References: <1262364C-7902-4F80-855B-77CCEEDC2A5C@cancercenter.columbia.edu>
	<652B0953-9EDB-48EA-8CE6-7493DD865762@gmail.com>
Message-ID: <E800EE7D-D9CE-455A-8FF5-09A05A56955F@cancercenter.columbia.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120705/650a1839/attachment.pl>

From simon.urbanek at r-project.org  Thu Jul  5 23:08:58 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 5 Jul 2012 17:08:58 -0400
Subject: [R-SIG-Mac] graphics device with record=TRUE
In-Reply-To: <CAGx1TMCfUxNAwLyevufsHoB+4JmhhwfVG-XAUb7E_57gBLBrsA@mail.gmail.com>
References: <CAGx1TMCpQ+gt6aRGjShguU+EMEwTpcLtq14PqrL1i_np2b_jFA@mail.gmail.com>
	<539D5371-A1AF-47FA-9B44-1367FC1DB3AB@comcast.net>
	<CAGx1TMDm69GcHN4NRPLG_iQoa=uCWEGx4ZUfgntTwWEyavU4RA@mail.gmail.com>
	<628F3793-CD22-454C-A234-02CB9C797870@comcast.net>
	<3AF2FC2D-0E58-4FC0-8826-8123F215C508@r-project.org>
	<CAGx1TMBvqT+Le0k540Bka=9M1-J2SdxeoCVDzHUSeb_CokyNgw@mail.gmail.com>
	<24C61B31-D295-4FA4-A8E4-164443F4905B@comcast.net>
	<CAGx1TMCfUxNAwLyevufsHoB+4JmhhwfVG-XAUb7E_57gBLBrsA@mail.gmail.com>
Message-ID: <EAC3C502-08F2-4FC2-9181-F9D14B3C75C4@r-project.org>


On Jul 5, 2012, at 1:44 PM, Richard M. Heiberger wrote:

> thank you again.
> 
> I have a request for Simon.
> 
> On the windows machines, the R and Windows FAQ are both in
> c:/Program Files/R/R-2.15.1/doc
> Hence I looked for the Mac FAQ in the same place as the R FAQ on Mac.
> 
> On windows, searchpaths() gives a list of items like
> "c:/Program Files/R/R-2.15.1/library/base"
> which gives a starting directory in which to look.
> 
> On the Mac, search paths() gives
> "/Library/Frameworks/R.framework/Resources/library/base"
> which in this case was not helpful for finding the Mac FAQ.
> 
> Can you set up a symbolic link from
> /Library/Frameworks/R.framework/Versions/2.15/Resources/doc
> to point to /Applications/R.app/Contents/Resources?

No, because it is not fixed. The FAQ is part of the GUI and thus in the GUI bundle. It has nothing to do with R and R can exist (and does) without the GUI so you can't link to it from R. It is trivially accessible directly form the Help menu - I don't see how it can be more obvious=.


> That will make it easier for the next person converting from windows to mac.
> 

Well, it certainly doesn't make sense to introduce Windows idiosyncrasies to Mac - if you convert to Mac you will need to buy into the "just-works" philosophy. If you are trying to recreate your Windows environment, you have already failed and should go back :).

Cheers,
Simon


> On Thu, Jul 5, 2012 at 11:59 AM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> On Jul 5, 2012, at 10:58 AM, Richard M. Heiberger wrote:
> 
>> It is interesting to compare working styles.  I am not "up to" anything.  I am trying
>> to recreate in Mac the standard working style I use in R on windows and also in S-Plus on windows.  I just keep the complete graph history until it complains about lack of memory.
>> In S-Plus, it is possible to delete individual plots.  In R on windows I haven't found an easy
>> way to do that, so I just delete the R object containing the entire history.  When I adjust
>> arguments to xyplot or plot it is very helpful to be able to back up and see what the previous
>> incarnation of the graph looked like.
>> 
>> Where is "R MacOSX FAQ"?  I don't see it on my computer inside /Library/Frameworks/R.framework/
>> I am using R-2.15.1 from CRAN.
> 
> I use the Help menu in the GUI when I want to look at it. It will also be the first google hit on search using " r mac faq".
> 
> A bit of messing around with links in the displayed copy shows that I am looking at:
> 
> file:///Applications/R64.app/Contents/Resources/RMacOSX-FAQ.html
> 
> 
>> 
>> What is GEcreateSnapshot?  I tried ?, emacs apropos, and man with no success.
>> 
>> Where is the display list kept on the mac?  ls(all=TRUE) isn't showing it.
>> On windows, it is 
>> > ls(all=TRUE)
>> [1] ".SavedPlots"
>> 
>> When I do find the display list on the mac, how can I index into it farther back than 16?
>> 
>> What I would like are two features that I have become accustomed to.
>> From either R on windows or S-Plus, click graphs forward or backward in sequence as far back as memory supports.
>> From S-Plus on windows, click on a tab to get to a specific graph, or click on a tab and delete
>> a specific graph.
>> 
>> On Thu, Jul 5, 2012 at 10:01 AM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> 
>> On Jul 5, 2012, at 9:42 AM, David Winsemius wrote:
>> 
>> >
>> > On Jul 4, 2012, at 11:47 PM, Richard M. Heiberger wrote:
>> >
>> >> David,
>> >>
>> >> thank you.  it works.
>> >>
>> >> Where is it documented?
>> >
>> > The first place I find written documentation of the cmd-arrow
>> > functions  is in the R MacOSX FAQ:
>> > 12.8 Why are Quartz plots much bigger than they used to be?
>> > (Second paragraph)
>> >
>> > (I may have read about the stack depth in one of the postings from
>> > Simon in this venue. The figure of ten is a rough guess. The true
>> > value is somewhere  in the range of 8 to 15.)
>> >
>> >> I want to set the depth to something much larger than 10.
>> >
>> > I have not found a place for users to change this. May be that a
>> > compile time change is needed. (Simon will hopefully correct me if
>> > this is wrong.)
>> >
>> 
>> R-devel/src/library/grDevices/src/qdCocoa.m at 37:
>> 
>> #define histsize 16
>> 
>> so, yes, it is hard-coded in R.
>> 
>> It is not part of the R.app GUI but actually of the Quartz device in R itself so it is not configurable.
>> 
>> It simply saves display lists and replays them as you go back - you can do that with any device that has display lists enabled (see dev.control). I'm not sure what Rich is up to but you can always save and restore plots with GEcreateSnapshot and GEplayDisplayList regardless of the device and the display list is just an R object. Keeping more than 16 plots seems a little tedious to go through ...
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>> > I tried searching MarkMail's archive with a couple of strategies, ...
>> > the last unsuccessful one was:
>> >
>> > http://markmail.org/search/?q=simon+urbanek+list%3Aorg.r-project.r-sig-mac+graphics+increase#query
>> > :simon%20urbanek%20list%3Aorg.r-project.r-sig-mac%20graphics%20increase
>> > +page:2+mid:ykmzj6mwesj3wywu+state:results
>> >
>> > (I don't know if that will be paste-worthy or click-worthy.)
>> >
>> >
>> >> I don't see anything about the stack on the ?quartz page
>> >> and there appears not to be any control option on the quartz menu
>> >> item on the device
>> >> itself.
>> >
>> > If the Quartz window is the focus, the Quartz menu options will become
>> > active  and even if not the focus the menu will also tell you the
>> > keyboard equivalents (standard Mac behavior). I think that is where I
>> > learned it.
>> >
>> >
>> >>
>> >> Rich
>> >>
>> >> On Wed, Jul 4, 2012 at 11:35 PM, David Winsemius <dwinsemius at comcast.net
>> >>> wrote:
>> >>
>> >> On Jul 4, 2012, at 11:12 PM, Richard M. Heiberger wrote:
>> >>
>> >> The windows feature I miss most on the Mac is a graphics device that
>> >> remembers the previous graphs,
>> >> specifically
>> >> windows.options(record=TRUE)  ## R for Windows
>> >>
>> >> Is there a similar feature available on the macintosh?
>> >>
>> >> There is a graphics stack, whose default depth is 10, and you can
>> >> scroll backward with cmd-<left-arrow>  ... at least in the R64.app
>> >> and r.app GUI's.
>> >>
>> >> --
>> >> David Winsemius, MD
>> >> West Hartford, CT
>> >>
>> >>
>> >
>> > David Winsemius, MD
>> > West Hartford, CT
>> >
>> >
>> >       [[alternative HTML version deleted]]
>> >
>> > _______________________________________________
>> > R-SIG-Mac mailing list
>> > R-SIG-Mac at r-project.org
>> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> >
>> >
>> 
>> 
> 
> David Winsemius, MD
> West Hartford, CT
> 
> 


From Marko.Nagode at fs.uni-lj.si  Mon Jul  2 12:38:23 2012
From: Marko.Nagode at fs.uni-lj.si (Nagode, Marko)
Date: Mon, 2 Jul 2012 10:38:23 +0000
Subject: [R-SIG-Mac] Question!
Message-ID: <A4BB54CA2997A144A51A5AD1F868C85701E17A@MAIL-FS.fs1.uni-lj.si>

Dear Sir,

One of the rebmix package users informed me about an error occurring when the rebmix runs from R console on mac:

[cid:image001.png at 01CD584F.37694940]

I assume that the problem is caused by:

Rprintf("%sTime left %2.1f sec", CL, TimeLeft);
R_FlushConsole();
R_ProcessEvents();

in my C code, where:

#ifndef CL
#define CL "\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b"
#endif

As you can see I try to inform the user of the rebmix about the time needed to finish the calculation. Consequently I first clean the line by calling backshlash several times as the exact length of the string is supposed not to be known. Next TileLeft is written. On R console one should, e.g., observe Time left = 0.3 sec.
[cid:image002.png at 01CD584F.37694940]
[cid:image005.jpg at 01CD584F.91DFDB00]

On other platforms my code runs error free. On CRAN checks: rebmix results the status of all checks is OK.

I assume that \b causes troubles. Could you please give me some idea on how to avoid the problem.

Thank you in advance.

Best regards,

Marko Nagode

---------------------------------------------
prof. Marko Nagode, Ph.D.
University of Ljubljana
Faculty of Mechanical Engineering
A?ker?eva 6
1000 Ljubljana
Slovenia
Phone: +386 1 4771 507
Fax: +386 1 4214 074
E-mail: marko.nagode at fs.uni-lj.si

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120702/ace1f32d/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 34486 bytes
Desc: image001.png
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120702/ace1f32d/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image002.png
Type: image/png
Size: 23699 bytes
Desc: image002.png
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120702/ace1f32d/attachment-0003.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image005.jpg
Type: image/jpeg
Size: 22866 bytes
Desc: image005.jpg
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120702/ace1f32d/attachment-0001.jpg>

From simon.urbanek at r-project.org  Wed Jul 11 13:39:24 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 11 Jul 2012 07:39:24 -0400
Subject: [R-SIG-Mac] Question!
In-Reply-To: <A4BB54CA2997A144A51A5AD1F868C85701E17A@MAIL-FS.fs1.uni-lj.si>
References: <A4BB54CA2997A144A51A5AD1F868C85701E17A@MAIL-FS.fs1.uni-lj.si>
Message-ID: <02FE3008-3E05-4397-A403-CB69B589E1B0@r-project.org>


On Jul 2, 2012, at 6:38 AM, Nagode, Marko wrote:

> Dear Sir,
>  
> One of the rebmix package users informed me about an error occurring when the rebmix runs from R console on mac:
>  
> <image001.png>
>  
> I assume that the problem is caused by:
>  
> Rprintf("%sTime left %2.1f sec", CL, TimeLeft);
> R_FlushConsole();
> R_ProcessEvents();
>  
> in my C code, where:
>  
> #ifndef CL
> #define CL"\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b\b"
> #endif
>  
> As you can see I try to inform the user of the rebmix about the time needed to finish the calculation. Consequently I first clean the line by calling backshlash several times as the exact length of the string is supposed not to be known. Next TileLeft is written. On R console one should, e.g., observe Time left = 0.3 sec.
> <image002.png>
> <image005.jpg>
>  
> On other platforms my code runs error free. On CRAN checks: rebmix results the status of all checks is OK.
>  
> I assume that \b causes troubles. Could you please give me some idea on how to avoid the problem.
>  

Is there any reason you're not simply using \r ? The Mac GUI takes \b literally, supports full-document editing and you're simply backspacing beyond what you wrote.

Cheers,
Simon



> Thank you in advance.
>  
> Best regards,
>  
> Marko Nagode
>  
> ---------------------------------------------
> prof. Marko Nagode, Ph.D.
> University of Ljubljana
> Faculty of Mechanical Engineering
> A?ker?eva 6
> 1000 Ljubljana
> Slovenia
> Phone: +386 1 4771 507
> Fax: +386 1 4214 074
> E-mail: marko.nagode at fs.uni-lj.si
>  
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From pdalgd at gmail.com  Thu Jul 12 15:36:50 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Thu, 12 Jul 2012 15:36:50 +0200
Subject: [R-SIG-Mac] rgl broken with  2.15.1?
In-Reply-To: <87AA4947-F0A0-448F-9FA4-C56477F25582@virginia.edu>
References: <87AA4947-F0A0-448F-9FA4-C56477F25582@virginia.edu>
Message-ID: <A54019B7-B2F1-4CDE-89D0-A3CAB65EE06A@gmail.com>

(Why do we get an identical post 2 weeks later??)

I see slightly different trouble:

> library(rgl)
Error : .onLoad failed in loadNamespace() for 'rgl', details:
  call: dyn.load(file, DLLpath = DLLpath, ...)
  error: unable to load shared object '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/rgl/libs/x86_64/aglrgl.so':
  dlopen(/Library/Frameworks/R.framework/Versions/2.15/Resources/library/rgl/libs/x86_64/aglrgl.so, 6): Symbol not found: __ZN3gui13OSXGUIFactory12hasEventLoopEv
  Referenced from: /Library/Frameworks/R.framework/Versions/2.15/Resources/library/rgl/libs/x86_64/aglrgl.so
  Expected in: dynamic lookup

Error: package/namespace load failed for ?rgl?
-------------

The odd thing is, it happens only in R.app 64 bit, not in 32 bit and not in R64 in Terminal.app.  Same pattern was present in 2.15.0.




On Jun 29, 2012, at 18:39 , Michael Kubovy wrote:

>> sessionInfo()
> R version 2.15.1 (2012-06-22)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] datasets  splines   utils     stats     graphics  grDevices methods   base     
> 
> other attached packages:
> [1] DiceEval_1.1        DiceKriging_1.3.3   BiocInstaller_1.4.7 ctv_0.7-4           sos_1.3-4           brew_1.0-6          Hmisc_3.9-3         survival_2.36-14   
> [9] MASS_7.3-19        
> 
> loaded via a namespace (and not attached):
> [1] cluster_1.14.2 grid_2.15.1    lattice_0.20-6 tools_2.15.1  
> ############## FROM BINARY #############
>> install.packages('rgl')
> trying URL 'http://lib.stat.cmu.edu/R/CRAN/bin/macosx/leopard/contrib/2.15/rgl_0.92.880.tgz'
> Content type 'application/x-gzip' length 10757858 bytes (10.3 Mb)
> opened URL
> ==================================================
> downloaded 10.3 Mb
> 
> 
> The downloaded binary packages are in
> 	/var/folders/gm/j372x16n747504v9j8nvwryr0000gn/T//RtmpxtW0O1/downloaded_packages
>> library(rgl)
> Error in get(Info[i, 1], envir = env) : 
>  internal error -3 in R_decompress1
> Error: package/namespace load failed for ?rgl?
> ############## FROM SOURCE #############
>> install.packages('rgl', type = 'source' )
> trying URL 'http://lib.stat.cmu.edu/R/CRAN/src/contrib/rgl_0.92.880.tar.gz'
> Content type 'application/x-gzip' length 1742168 bytes (1.7 Mb)
> opened URL
> ==================================================
> downloaded 1.7 Mb
> ######### ... ##############
> * installing *source* package ?rgl? ...
> ** package ?rgl? successfully unpacked and MD5 sums checked
> checking for gcc... gcc -arch x86_64 -std=gnu99
> checking whether the C compiler works... yes
> checking for C compiler default output file name... a.out
> checking for suffix of executables... checking whether we are cross compiling... no
> checking for suffix of object files... o
> checking whether we are using the GNU C compiler... yes
> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
> checking whether we are using the GNU C compiler... (cached) yes
> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
> checking for libpng-config... yes
> configure: using libpng-config
> configure: using libpng dynamic linkage
> checking for X... libraries /usr/X11/lib, headers 
> checking for glEnd in -lGL... yes
> checking for gluProject in -lGLU... yes
> checking for freetype-config... yes
> configure: using Freetype and FTGL
> configure: creating ./config.status
> config.status: creating src/Makevars
> ** libs
> *** arch - x86_64
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c ABCLineSet.cpp -o ABCLineSet.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c BBoxDeco.cpp -o BBoxDeco.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Background.cpp -o Background.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Color.cpp -o Color.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Disposable.cpp -o Disposable.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Light.cpp -o Light.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c LineSet.cpp -o LineSet.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c LineStripSet.cpp -o LineStripSet.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Material.cpp -o Material.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c PlaneSet.cpp -o PlaneSet.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c PointSet.cpp -o PointSet.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c PrimitiveSet.cpp -o PrimitiveSet.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c QuadSet.cpp -o QuadSet.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c RenderContext.cpp -o RenderContext.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Shape.cpp -o Shape.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c SphereMesh.cpp -o SphereMesh.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c SphereSet.cpp -o SphereSet.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c SpriteSet.cpp -o SpriteSet.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c String.cpp -o String.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Surface.cpp -o Surface.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c TextSet.cpp -o TextSet.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Texture.cpp -o Texture.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Viewpoint.cpp -o Viewpoint.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c api.cpp -o api.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c assert.cpp -o assert.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c callbacks.cpp -o callbacks.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c device.cpp -o device.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c devicemanager.cpp -o devicemanager.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c fps.cpp -o fps.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c ftgl.cpp -o ftgl.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c geom.cpp -o geom.o
> gcc -arch x86_64 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include    -fPIC  -g -O2  -c gl2ps.c -o gl2ps.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c glErrors.cpp -o glErrors.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c glgui.cpp -o glgui.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c gui.cpp -o gui.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c init.cpp -o init.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c par3d.cpp -o par3d.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c pixmap.cpp -o pixmap.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c render.cpp -o render.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c rglmath.cpp -o rglmath.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c rglview.cpp -o rglview.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c scene.cpp -o scene.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c select.cpp -o select.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c win32gui.cpp -o win32gui.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c win32lib.cpp -o win32lib.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c x11gui.cpp -o x11gui.o
> x11gui.cpp: In constructor ?gui::X11GUIFactory::X11GUIFactory(const char*)?:
> x11gui.cpp:468: warning: deprecated conversion from string constant to ?char*?
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c x11lib.cpp -o x11lib.o
> g++ -arch x86_64 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -o rgl.so ABCLineSet.o BBoxDeco.o Background.o Color.o Disposable.o Light.o LineSet.o LineStripSet.o Material.o PlaneSet.o PointSet.o PrimitiveSet.o QuadSet.o RenderContext.o Shape.o SphereMesh.o SphereSet.o SpriteSet.o String.o Surface.o TextSet.o Texture.o Viewpoint.o api.o assert.o callbacks.o device.o devicemanager.o fps.o ftgl.o geom.o gl2ps.o glErrors.o glgui.o gui.o init.o par3d.o pixmap.o render.o rglmath.o rglview.o scene.o select.o win32gui.o win32lib.o x11gui.o x11lib.o -lGLU -lGL -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib -L/usr/local/lib -lpng14 -L/usr/X11/lib -lX11 -L/usr/local/lib -lfreetype -lz -lbz2 -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
> mkdir Temp
> mv x11*.o Temp
> mkdir -p AGL
> mv AGL/* .
> MAKINGAGL=TRUE /Library/Frameworks/R.framework/Resources/bin/R CMD SHLIB  -o aglrgl.so *.cpp *.c \
> 		osx/*.mm osx/*.cpp
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -DHAVE_PNG_H -I/usr/local/include/libpng14 -DRGL_USE_COCOA -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c x11gui.cpp -o x11gui.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -DHAVE_PNG_H -I/usr/local/include/libpng14 -DRGL_USE_COCOA -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c x11lib.cpp -o x11lib.o
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -DHAVE_PNG_H -I/usr/local/include/libpng14 -DRGL_USE_COCOA -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c osx/osxlib.cpp -o osx/osxlib.o
> g++ -arch x86_64 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -o aglrgl.so ABCLineSet.o BBoxDeco.o Background.o Color.o Disposable.o Light.o LineSet.o LineStripSet.o Material.o PlaneSet.o PointSet.o PrimitiveSet.o QuadSet.o RenderContext.o Shape.o SphereMesh.o SphereSet.o SpriteSet.o String.o Surface.o TextSet.o Texture.o Viewpoint.o api.o assert.o callbacks.o device.o devicemanager.o fps.o ftgl.o geom.o glErrors.o glgui.o gui.o init.o par3d.o pixmap.o render.o rglmath.o rglview.o scene.o select.o win32gui.o win32lib.o x11gui.o x11lib.o gl2ps.o osx/osxgui.o osx/osxlib.o -L/usr/local/lib -lpng14 -framework Cocoa -L/usr/local/lib -lfreetype -lz -lbz2 -lobjc -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
> ld: warning: ignoring file osx/osxgui.o, file was built for i386 which is not the architecture being linked (x86_64)
> mv x11*.o AGL
> mv Temp/* .
> rm -rf Temp
> installing to /Library/Frameworks/R.framework/Versions/2.15/Resources/library/rgl/libs/x86_64
> ** R
> ** demo
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> ######### ... ##############
> * DONE (rgl)
> 
> The downloaded source packages are in
> 	?/private/var/folders/gm/j372x16n747504v9j8nvwryr0000gn/T/RtmpxtW0O1/downloaded_packages?
>> library(rgl)
> Error in get(Info[i, 1], envir = env) : 
>  internal error -3 in R_decompress1
> Error: package/namespace load failed for ?rgl?
> 
> 
> ______________________________________________
> Professor Michael Kubovy
> University of Virginia
> Department of Psychology
> for mail add:						for FedEx or UPS add: 
> P.O.Box 400400					Gilmer Hall, Room 102
> Charlottesville, VA 22904-4400	485 McCormick Road
> USA							Charlottesville, VA 22903
> 		room	phone
> Office:    B011	+1-434-982-4729
> Lab:        B019	+1-434-982-4751
> WWW:    http://www.people.virginia.edu/~mk9y/
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From murdoch.duncan at gmail.com  Thu Jul 12 15:47:08 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Thu, 12 Jul 2012 09:47:08 -0400
Subject: [R-SIG-Mac] rgl broken with  2.15.1?
In-Reply-To: <A54019B7-B2F1-4CDE-89D0-A3CAB65EE06A@gmail.com>
References: <87AA4947-F0A0-448F-9FA4-C56477F25582@virginia.edu>
	<A54019B7-B2F1-4CDE-89D0-A3CAB65EE06A@gmail.com>
Message-ID: <4FFED55C.2070808@gmail.com>

On 12/07/2012 9:36 AM, peter dalgaard wrote:
> (Why do we get an identical post 2 weeks later??)
>
> I see slightly different trouble:
>
> > library(rgl)
> Error : .onLoad failed in loadNamespace() for 'rgl', details:
>    call: dyn.load(file, DLLpath = DLLpath, ...)
>    error: unable to load shared object '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/rgl/libs/x86_64/aglrgl.so':
>    dlopen(/Library/Frameworks/R.framework/Versions/2.15/Resources/library/rgl/libs/x86_64/aglrgl.so, 6): Symbol not found: __ZN3gui13OSXGUIFactory12hasEventLoopEv
>    Referenced from: /Library/Frameworks/R.framework/Versions/2.15/Resources/library/rgl/libs/x86_64/aglrgl.so
>    Expected in: dynamic lookup
>
> Error: package/namespace load failed for ?rgl?
> -------------
>
> The odd thing is, it happens only in R.app 64 bit, not in 32 bit and not in R64 in Terminal.app.  Same pattern was present in 2.15.0.

The workaround for the problem you're seeing is just to delete the 
aglrgl.so library.  It doesn't work on the latest OSX release in 64 
bits.  (I suspect that's caused by rgl using an API that Apple no longer 
offers, but I don't know a fix.)  The command line version uses the X11 
driver, and R.app 64 bit will fall back to that if aglrgl.so is not found.

I don't know what's causing Michael's problem and doubt if the same 
workaround would help, but it probably wouldn't hurt.

Duncan Murdoch
>
>
>
>
> On Jun 29, 2012, at 18:39 , Michael Kubovy wrote:
>
> >> sessionInfo()
> > R version 2.15.1 (2012-06-22)
> > Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> >
> > locale:
> > [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >
> > attached base packages:
> > [1] datasets  splines   utils     stats     graphics  grDevices methods   base
> >
> > other attached packages:
> > [1] DiceEval_1.1        DiceKriging_1.3.3   BiocInstaller_1.4.7 ctv_0.7-4           sos_1.3-4           brew_1.0-6          Hmisc_3.9-3         survival_2.36-14
> > [9] MASS_7.3-19
> >
> > loaded via a namespace (and not attached):
> > [1] cluster_1.14.2 grid_2.15.1    lattice_0.20-6 tools_2.15.1
> > ############## FROM BINARY #############
> >> install.packages('rgl')
> > trying URL 'http://lib.stat.cmu.edu/R/CRAN/bin/macosx/leopard/contrib/2.15/rgl_0.92.880.tgz'
> > Content type 'application/x-gzip' length 10757858 bytes (10.3 Mb)
> > opened URL
> > ==================================================
> > downloaded 10.3 Mb
> >
> >
> > The downloaded binary packages are in
> > 	/var/folders/gm/j372x16n747504v9j8nvwryr0000gn/T//RtmpxtW0O1/downloaded_packages
> >> library(rgl)
> > Error in get(Info[i, 1], envir = env) :
> >  internal error -3 in R_decompress1
> > Error: package/namespace load failed for ?rgl?
> > ############## FROM SOURCE #############
> >> install.packages('rgl', type = 'source' )
> > trying URL 'http://lib.stat.cmu.edu/R/CRAN/src/contrib/rgl_0.92.880.tar.gz'
> > Content type 'application/x-gzip' length 1742168 bytes (1.7 Mb)
> > opened URL
> > ==================================================
> > downloaded 1.7 Mb
> > ######### ... ##############
> > * installing *source* package ?rgl? ...
> > ** package ?rgl? successfully unpacked and MD5 sums checked
> > checking for gcc... gcc -arch x86_64 -std=gnu99
> > checking whether the C compiler works... yes
> > checking for C compiler default output file name... a.out
> > checking for suffix of executables... checking whether we are cross compiling... no
> > checking for suffix of object files... o
> > checking whether we are using the GNU C compiler... yes
> > checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
> > checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
> > checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
> > checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
> > checking whether we are using the GNU C compiler... (cached) yes
> > checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes

> > checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
> > checking for libpng-config... yes
> > configure: using libpng-config
> > configure: using libpng dynamic linkage
> > checking for X... libraries /usr/X11/lib, headers
> > checking for glEnd in -lGL... yes
> > checking for gluProject in -lGLU... yes
> > checking for freetype-config... yes
> > configure: using Freetype and FTGL
> > configure: creating ./config.status
> > config.status: creating src/Makevars
> > ** libs
> > *** arch - x86_64
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c ABCLineSet.cpp -o ABCLineSet.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c BBoxDeco.cpp -o BBoxDeco.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Background.cpp -o Background.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Color.cpp -o Color.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Disposable.cpp -o Disposable.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Light.cpp -o Light.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c LineSet.cpp -o LineSet.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c LineStripSet.cpp -o LineStripSet.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Material.cpp -o Material.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c PlaneSet.cpp -o PlaneSet.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c PointSet.cpp -o PointSet.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c PrimitiveSet.cpp -o PrimitiveSet.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c QuadSet.cpp -o QuadSet.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c RenderContext.cpp -o RenderContext.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Shape.cpp -o Shape.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c SphereMesh.cpp -o SphereMesh.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c SphereSet.cpp -o SphereSet.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c SpriteSet.cpp -o SpriteSet.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c String.cpp -o String.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Surface.cpp -o Surface.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c TextSet.cpp -o TextSet.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Texture.cpp -o Texture.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c Viewpoint.cpp -o Viewpoint.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c api.cpp -o api.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c assert.cpp -o assert.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c callbacks.cpp -o callbacks.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c device.cpp -o device.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c devicemanager.cpp -o devicemanager.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c fps.cpp -o fps.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c ftgl.cpp -o ftgl.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c geom.cpp -o geom.o
> > gcc -arch x86_64 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include    -fPIC  -g -O2  -c gl2ps.c -o gl2ps.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c glErrors.cpp -o glErrors.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c glgui.cpp -o glgui.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c gui.cpp -o gui.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c init.cpp -o init.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c par3d.cpp -o par3d.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c pixmap.cpp -o pixmap.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c render.cpp -o render.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c rglmath.cpp -o rglmath.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c rglview.cpp -o rglview.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c scene.cpp -o scene.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c select.cpp -o select.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c win32gui.cpp -o win32gui.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c win32lib.cpp -o win32lib.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c x11gui.cpp -o x11gui.o
> > x11gui.cpp: In constructor ?gui::X11GUIFactory::X11GUIFactory(const char*)?:
> > x11gui.cpp:468: warning: deprecated conversion from string constant to ?char*?
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c x11lib.cpp -o x11lib.o
> > g++ -arch x86_64 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -o rgl.so ABCLineSet.o BBoxDeco.o Background.o Color.o Disposable.o Light.o LineSet.o LineStripSet.o Material.o PlaneSet.o PointSet.o PrimitiveSet.o QuadSet.o RenderContext.o Shape.o SphereMesh.o SphereSet.o SpriteSet.o String.o Surface.o TextSet.o Texture.o Viewpoint.o api.o assert.o callbacks.o device.o devicemanager.o fps.o ftgl.o geom.o gl2ps.o glErrors.o glgui.o gui.o init.o par3d.o pixmap.o render.o rglmath.o rglview.o scene.o select.o win32gui.o win32lib.o x11gui.o x11lib.o -lGLU -lGL -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib -L/usr/local/lib -lpng14 -L/usr/X11/lib -lX11 -L/usr/local/lib -lfreetype -lz -lbz2 -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
> > mkdir Temp
> > mv x11*.o Temp
> > mkdir -p AGL
> > mv AGL/* .
> > MAKINGAGL=TRUE /Library/Frameworks/R.framework/Resources/bin/R CMD SHLIB  -o aglrgl.so *.cpp *.c \
> > 		osx/*.mm osx/*.cpp
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -DHAVE_PNG_H -I/usr/local/include/libpng14 -DRGL_USE_COCOA -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c x11gui.cpp -o x11gui.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -DHAVE_PNG_H -I/usr/local/include/libpng14 -DRGL_USE_COCOA -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c x11lib.cpp -o x11lib.o
> > g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -DNDEBUG -DHAVE_PNG_H -I/usr/local/include/libpng14 -DRGL_USE_COCOA -DHAVE_FREETYPE -Iext/ftgl -I/usr/local/include/freetype2 -I/usr/local/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2  -c osx/osxlib.cpp -o osx/osxlib.o
> > g++ -arch x86_64 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -o aglrgl.so ABCLineSet.o BBoxDeco.o Background.o Color.o Disposable.o Light.o LineSet.o LineStripSet.o Material.o PlaneSet.o PointSet.o PrimitiveSet.o QuadSet.o RenderContext.o Shape.o SphereMesh.o SphereSet.o SpriteSet.o String.o Surface.o TextSet.o Texture.o Viewpoint.o api.o assert.o callbacks.o device.o devicemanager.o fps.o ftgl.o geom.o glErrors.o glgui.o gui.o init.o par3d.o pixmap.o render.o rglmath.o rglview.o scene.o select.o win32gui.o win32lib.o x11gui.o x11lib.o gl2ps.o osx/osxgui.o osx/osxlib.o -L/usr/local/lib -lpng14 -framework Cocoa -L/usr/local/lib -lfreetype -lz -lbz2 -lobjc -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
> > ld: warning: ignoring file osx/osxgui.o, file was built for i386 which is not the architecture being linked (x86_64)
> > mv x11*.o AGL
> > mv Temp/* .
> > rm -rf Temp
> > installing to /Library/Frameworks/R.framework/Versions/2.15/Resources/library/rgl/libs/x86_64
> > ** R
> > ** demo
> > ** inst
> > ** preparing package for lazy loading
> > ** help
> > *** installing help indices
> > ** building package indices
> > ** testing if installed package can be loaded
> > ######### ... ##############
> > * DONE (rgl)
> >
> > The downloaded source packages are in
> > 	?/private/var/folders/gm/j372x16n747504v9j8nvwryr0000gn/T/RtmpxtW0O1/downloaded_packages?
> >> library(rgl)
> > Error in get(Info[i, 1], envir = env) :
> >  internal error -3 in R_decompress1
> > Error: package/namespace load failed for ?rgl?
> >
> >
> > ______________________________________________
> > Professor Michael Kubovy
> > University of Virginia
> > Department of Psychology
> > for mail add:						for FedEx or UPS add:
> > P.O.Box 400400					Gilmer Hall, Room 102
> > Charlottesville, VA 22904-4400	485 McCormick Road
> > USA							Charlottesville, VA 22903
> > 		room	phone
> > Office:    B011	+1-434-982-4729
> > Lab:        B019	+1-434-982-4751
> > WWW:    http://www.people.virginia.edu/~mk9y/
> >
> >
> > 	[[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From trey.causey at gmail.com  Fri Jul 13 20:18:35 2012
From: trey.causey at gmail.com (Trey Causey)
Date: Fri, 13 Jul 2012 11:18:35 -0700
Subject: [R-SIG-Mac] Tab completion and help
Message-ID: <CADatoyVDq6G0gZaUjPuhZxKQpOXPE7DueninexA=fBJX43723w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120713/5d7baa7b/attachment.pl>

From Ricardo.Julio.Rodriguez.Fernandez at sergas.es  Sat Jul 14 18:15:18 2012
From: Ricardo.Julio.Rodriguez.Fernandez at sergas.es (Ricardo.Julio.Rodriguez.Fernandez at sergas.es)
Date: Sat, 14 Jul 2012 18:15:18 +0200
Subject: [R-SIG-Mac] installXLSXsupport() error
Message-ID: <244BFA3AE9F83C4A8261E2718970723701049FBF4FDB@ASSCCEVS03.sergas.local>

Hi!

Until now I've survive exporting my spreadsheets to CSV files, but this process is a error-prone as it is by no means easy to keep track of updated releases. Some weeks ago a new thread here talked about reading XLSX files by using gdata(): it would be really great to be able to get this working here, but I'm running into some trouble. Gdata works fine to read XLS format, but I'm not able to get XLSX support. Please, check this outputs. First of all: sessionInfo()...

*****
> sessionInfo()
R version 2.15.1 (2012-06-22)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8

attached base packages:
[1] graphics  grDevices utils     datasets  stats     methods   base

other attached packages:
[1] gdata_2.11.0   foreign_0.8-50

loaded via a namespace (and not attached):
[1] gtools_2.7.0
>
> library(gdata)
gdata: read.xls support for 'XLS' (Excel 97-2004) files ENABLED.

gdata: Unable to load perl libaries needed by read.xls()
gdata: to support 'XLSX' (Excel 2007+) files.

gdata: Run the function 'installXLSXsupport()'
gdata: to automatically download and install the perl
gdata: libaries needed to support Excel XLS and XLSX formats.

Attaching package: ?gdata?

The following object(s) are masked from ?package:utils?:

    object.size

The following object(s) are masked from ?package:stats?:

    nobs

> xlsFormats()
[1] "XLS"
> installXLSXsupport(verbose=TRUE)
Using perl at /usr/bin/perl

Attempting to automaticall install Perl libraries to support XLSX (Excel 2007+) file format...

Results:
Using perl at /usr/bin/perl

Determining supported formats...

Results:  Supported formats: XLS
Error in installXLSXsupport(verbose = TRUE) :
Unable to install Perl XLSX support libraries.

In addition: Warning message:
running command ''/usr/bin/perl' '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/install_modules.pl'' had status 22
Can't locate object method "load" via package "CPAN::HandleConfig" (perhaps you forgot to load "CPAN::HandleConfig"?) at /Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/module_tools.pl line 89.
>


Error in installXLSXsupport(verbose = TRUE) :
Unable to install Perl XLSX support libraries.

In addition: Warning message:
running command ''/usr/bin/perl' '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/install_modules.pl'' had status 22
Can't locate object method "load" via package "CPAN::HandleConfig" (perhaps you forgot to load "CPAN::HandleConfig"?) at /Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/module_tools.pl line 89.
*****

I've read ?installXLSXsupport and I think I've correctly installed Compress::Raw::Zlib and Spreadsheet::XLSX from terminal (by using sudo perl -MCPAN -e 'install Bundle::Name'). I've even tried with a different Perl flavour, ActivePerl, but got a different set of errors. I'm afraid I'll make my installation an awfull mess if I keep trying to get an answer on my own! Please, could you help me? Do you know where am I wrong? How could I get XLSX support working in my MacBook Pro running Mac OS X 10.5.8?

Thank you so much for your help,

Ricardo

--
Ricardo Rodr?guez
Research Management and Promotion Technician
Technical Secretariat
Health Research Institute of Santiago de Compostela (IDIS)
http://www.idisantiago.es

Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.

Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm


From ian.fellows at stat.ucla.edu  Sat Jul 14 19:21:01 2012
From: ian.fellows at stat.ucla.edu (Ian Fellows)
Date: Sat, 14 Jul 2012 10:21:01 -0700
Subject: [R-SIG-Mac] installXLSXsupport() error
In-Reply-To: <244BFA3AE9F83C4A8261E2718970723701049FBF4FDB@ASSCCEVS03.sergas.local>
References: <244BFA3AE9F83C4A8261E2718970723701049FBF4FDB@ASSCCEVS03.sergas.local>
Message-ID: <A85CD2D2-46E6-417A-82B9-C70CEEA8FC31@stat.ucla.edu>

much better support for Excel is available via the XLConnect and xlsx packages. I would recommend that you give them a try.

ian

On Jul 14, 2012, at 9:15 AM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:

> Hi!
> 
> Until now I've survive exporting my spreadsheets to CSV files, but this process is a error-prone as it is by no means easy to keep track of updated releases. Some weeks ago a new thread here talked about reading XLSX files by using gdata(): it would be really great to be able to get this working here, but I'm running into some trouble. Gdata works fine to read XLS format, but I'm not able to get XLSX support. Please, check this outputs. First of all: sessionInfo()...
> 
> *****
>> sessionInfo()
> R version 2.15.1 (2012-06-22)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
> 
> attached base packages:
> [1] graphics  grDevices utils     datasets  stats     methods   base
> 
> other attached packages:
> [1] gdata_2.11.0   foreign_0.8-50
> 
> loaded via a namespace (and not attached):
> [1] gtools_2.7.0
>> 
>> library(gdata)
> gdata: read.xls support for 'XLS' (Excel 97-2004) files ENABLED.
> 
> gdata: Unable to load perl libaries needed by read.xls()
> gdata: to support 'XLSX' (Excel 2007+) files.
> 
> gdata: Run the function 'installXLSXsupport()'
> gdata: to automatically download and install the perl
> gdata: libaries needed to support Excel XLS and XLSX formats.
> 
> Attaching package: ?gdata?
> 
> The following object(s) are masked from ?package:utils?:
> 
>    object.size
> 
> The following object(s) are masked from ?package:stats?:
> 
>    nobs
> 
>> xlsFormats()
> [1] "XLS"
>> installXLSXsupport(verbose=TRUE)
> Using perl at /usr/bin/perl
> 
> Attempting to automaticall install Perl libraries to support XLSX (Excel 2007+) file format...
> 
> Results:
> Using perl at /usr/bin/perl
> 
> Determining supported formats...
> 
> Results:  Supported formats: XLS
> Error in installXLSXsupport(verbose = TRUE) :
> Unable to install Perl XLSX support libraries.
> 
> In addition: Warning message:
> running command ''/usr/bin/perl' '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/install_modules.pl'' had status 22
> Can't locate object method "load" via package "CPAN::HandleConfig" (perhaps you forgot to load "CPAN::HandleConfig"?) at /Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/module_tools.pl line 89.
>> 
> 
> 
> Error in installXLSXsupport(verbose = TRUE) :
> Unable to install Perl XLSX support libraries.
> 
> In addition: Warning message:
> running command ''/usr/bin/perl' '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/install_modules.pl'' had status 22
> Can't locate object method "load" via package "CPAN::HandleConfig" (perhaps you forgot to load "CPAN::HandleConfig"?) at /Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/module_tools.pl line 89.
> *****
> 
> I've read ?installXLSXsupport and I think I've correctly installed Compress::Raw::Zlib and Spreadsheet::XLSX from terminal (by using sudo perl -MCPAN -e 'install Bundle::Name'). I've even tried with a different Perl flavour, ActivePerl, but got a different set of errors. I'm afraid I'll make my installation an awfull mess if I keep trying to get an answer on my own! Please, could you help me? Do you know where am I wrong? How could I get XLSX support working in my MacBook Pro running Mac OS X 10.5.8?
> 
> Thank you so much for your help,
> 
> Ricardo
> 
> --
> Ricardo Rodr?guez
> Research Management and Promotion Technician
> Technical Secretariat
> Health Research Institute of Santiago de Compostela (IDIS)
> http://www.idisantiago.es
> 
> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
> 
> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
> 
> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From Ricardo.Julio.Rodriguez.Fernandez at sergas.es  Sat Jul 14 19:59:17 2012
From: Ricardo.Julio.Rodriguez.Fernandez at sergas.es (Ricardo.Julio.Rodriguez.Fernandez at sergas.es)
Date: Sat, 14 Jul 2012 19:59:17 +0200
Subject: [R-SIG-Mac] installXLSXsupport() error
In-Reply-To: <A85CD2D2-46E6-417A-82B9-C70CEEA8FC31@stat.ucla.edu>
References: <244BFA3AE9F83C4A8261E2718970723701049FBF4FDB@ASSCCEVS03.sergas.local>,
	<A85CD2D2-46E6-417A-82B9-C70CEEA8FC31@stat.ucla.edu>
Message-ID: <244BFA3AE9F83C4A8261E2718970723701049FBF4FDE@ASSCCEVS03.sergas.local>

Thanks, Ian! It seems like an impressive improvement providing a comprehensive set of functions to interact with XLSX spreadsheets!

But I'm afraid I'm missing something. Please, check this...

*****
> sessionInfo()
R version 2.15.1 (2012-06-22)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8

attached base packages:
[1] graphics  grDevices utils     datasets  stats     methods   base

other attached packages:
[1] XLConnectJars_0.1-4 rJava_0.9-3         foreign_0.8-50

loaded via a namespace (and not attached):
[1] tools_2.15.1
> wb <- loadWorkbook("XLConnect.xlsx", create = TRUE)
Error: could not find function "loadWorkbook"
>
*****

Please, do you know why am I not able to use loadWorkbook function? Other functions like existsSheet() or extractSheetName(). Always same error: Error: could not find function "concerned function".

Thanks for your help!

Ricardo

________________________________________
From: Ian Fellows [ian.fellows at stat.ucla.edu]
Sent: 14 July 2012 19:21
To: Rodriguez Fernandez, Ricardo Julio
Cc: r-sig-mac at r-project.org
Subject: Re: [R-SIG-Mac] installXLSXsupport() error

much better support for Excel is available via the XLConnect and xlsx packages. I would recommend that you give them a try.

ian

On Jul 14, 2012, at 9:15 AM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:

> Hi!
>
> Until now I've survive exporting my spreadsheets to CSV files, but this process is a error-prone as it is by no means easy to keep track of updated releases. Some weeks ago a new thread here talked about reading XLSX files by using gdata(): it would be really great to be able to get this working here, but I'm running into some trouble. Gdata works fine to read XLS format, but I'm not able to get XLSX support. Please, check this outputs. First of all: sessionInfo()...
>
> *****
>> sessionInfo()
> R version 2.15.1 (2012-06-22)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
>
> attached base packages:
> [1] graphics  grDevices utils     datasets  stats     methods   base
>
> other attached packages:
> [1] gdata_2.11.0   foreign_0.8-50
>
> loaded via a namespace (and not attached):
> [1] gtools_2.7.0
>>
>> library(gdata)
> gdata: read.xls support for 'XLS' (Excel 97-2004) files ENABLED.
>
> gdata: Unable to load perl libaries needed by read.xls()
> gdata: to support 'XLSX' (Excel 2007+) files.
>
> gdata: Run the function 'installXLSXsupport()'
> gdata: to automatically download and install the perl
> gdata: libaries needed to support Excel XLS and XLSX formats.
>
> Attaching package: ?gdata?
>
> The following object(s) are masked from ?package:utils?:
>
>    object.size
>
> The following object(s) are masked from ?package:stats?:
>
>    nobs
>
>> xlsFormats()
> [1] "XLS"
>> installXLSXsupport(verbose=TRUE)
> Using perl at /usr/bin/perl
>
> Attempting to automaticall install Perl libraries to support XLSX (Excel 2007+) file format...
>
> Results:
> Using perl at /usr/bin/perl
>
> Determining supported formats...
>
> Results:  Supported formats: XLS
> Error in installXLSXsupport(verbose = TRUE) :
> Unable to install Perl XLSX support libraries.
>
> In addition: Warning message:
> running command ''/usr/bin/perl' '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/install_modules.pl'' had status 22
> Can't locate object method "load" via package "CPAN::HandleConfig" (perhaps you forgot to load "CPAN::HandleConfig"?) at /Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/module_tools.pl line 89.
>>
>
>
> Error in installXLSXsupport(verbose = TRUE) :
> Unable to install Perl XLSX support libraries.
>
> In addition: Warning message:
> running command ''/usr/bin/perl' '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/install_modules.pl'' had status 22
> Can't locate object method "load" via package "CPAN::HandleConfig" (perhaps you forgot to load "CPAN::HandleConfig"?) at /Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/module_tools.pl line 89.
> *****
>
> I've read ?installXLSXsupport and I think I've correctly installed Compress::Raw::Zlib and Spreadsheet::XLSX from terminal (by using sudo perl -MCPAN -e 'install Bundle::Name'). I've even tried with a different Perl flavour, ActivePerl, but got a different set of errors. I'm afraid I'll make my installation an awfull mess if I keep trying to get an answer on my own! Please, could you help me? Do you know where am I wrong? How could I get XLSX support working in my MacBook Pro running Mac OS X 10.5.8?
>
> Thank you so much for your help,
>
> Ricardo
>
> --
> Ricardo Rodr?guez
> Research Management and Promotion Technician
> Technical Secretariat
> Health Research Institute of Santiago de Compostela (IDIS)
> http://www.idisantiago.es
>
> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
>
> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
>
> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.

Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm


From ian.fellows at stat.ucla.edu  Sat Jul 14 20:04:27 2012
From: ian.fellows at stat.ucla.edu (Ian Fellows)
Date: Sat, 14 Jul 2012 11:04:27 -0700
Subject: [R-SIG-Mac] installXLSXsupport() error
In-Reply-To: <244BFA3AE9F83C4A8261E2718970723701049FBF4FDE@ASSCCEVS03.sergas.local>
References: <244BFA3AE9F83C4A8261E2718970723701049FBF4FDB@ASSCCEVS03.sergas.local>,
	<A85CD2D2-46E6-417A-82B9-C70CEEA8FC31@stat.ucla.edu>
	<244BFA3AE9F83C4A8261E2718970723701049FBF4FDE@ASSCCEVS03.sergas.local>
Message-ID: <7F0295F0-596B-4B1A-845C-51041E558CB4@stat.ucla.edu>

You only loaded the JAR package, not the actual XLConnect package.

install.packages("XLConnect")
library(XLConnect)


On Jul 14, 2012, at 10:59 AM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:

> Thanks, Ian! It seems like an impressive improvement providing a comprehensive set of functions to interact with XLSX spreadsheets!
> 
> But I'm afraid I'm missing something. Please, check this...
> 
> *****
>> sessionInfo()
> R version 2.15.1 (2012-06-22)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
> 
> attached base packages:
> [1] graphics  grDevices utils     datasets  stats     methods   base
> 
> other attached packages:
> [1] XLConnectJars_0.1-4 rJava_0.9-3         foreign_0.8-50
> 
> loaded via a namespace (and not attached):
> [1] tools_2.15.1
>> wb <- loadWorkbook("XLConnect.xlsx", create = TRUE)
> Error: could not find function "loadWorkbook"
>> 
> *****
> 
> Please, do you know why am I not able to use loadWorkbook function? Other functions like existsSheet() or extractSheetName(). Always same error: Error: could not find function "concerned function".
> 
> Thanks for your help!
> 
> Ricardo
> 
> ________________________________________
> From: Ian Fellows [ian.fellows at stat.ucla.edu]
> Sent: 14 July 2012 19:21
> To: Rodriguez Fernandez, Ricardo Julio
> Cc: r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] installXLSXsupport() error
> 
> much better support for Excel is available via the XLConnect and xlsx packages. I would recommend that you give them a try.
> 
> ian
> 
> On Jul 14, 2012, at 9:15 AM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:
> 
>> Hi!
>> 
>> Until now I've survive exporting my spreadsheets to CSV files, but this process is a error-prone as it is by no means easy to keep track of updated releases. Some weeks ago a new thread here talked about reading XLSX files by using gdata(): it would be really great to be able to get this working here, but I'm running into some trouble. Gdata works fine to read XLS format, but I'm not able to get XLSX support. Please, check this outputs. First of all: sessionInfo()...
>> 
>> *****
>>> sessionInfo()
>> R version 2.15.1 (2012-06-22)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> 
>> locale:
>> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
>> 
>> attached base packages:
>> [1] graphics  grDevices utils     datasets  stats     methods   base
>> 
>> other attached packages:
>> [1] gdata_2.11.0   foreign_0.8-50
>> 
>> loaded via a namespace (and not attached):
>> [1] gtools_2.7.0
>>> 
>>> library(gdata)
>> gdata: read.xls support for 'XLS' (Excel 97-2004) files ENABLED.
>> 
>> gdata: Unable to load perl libaries needed by read.xls()
>> gdata: to support 'XLSX' (Excel 2007+) files.
>> 
>> gdata: Run the function 'installXLSXsupport()'
>> gdata: to automatically download and install the perl
>> gdata: libaries needed to support Excel XLS and XLSX formats.
>> 
>> Attaching package: ?gdata?
>> 
>> The following object(s) are masked from ?package:utils?:
>> 
>>   object.size
>> 
>> The following object(s) are masked from ?package:stats?:
>> 
>>   nobs
>> 
>>> xlsFormats()
>> [1] "XLS"
>>> installXLSXsupport(verbose=TRUE)
>> Using perl at /usr/bin/perl
>> 
>> Attempting to automaticall install Perl libraries to support XLSX (Excel 2007+) file format...
>> 
>> Results:
>> Using perl at /usr/bin/perl
>> 
>> Determining supported formats...
>> 
>> Results:  Supported formats: XLS
>> Error in installXLSXsupport(verbose = TRUE) :
>> Unable to install Perl XLSX support libraries.
>> 
>> In addition: Warning message:
>> running command ''/usr/bin/perl' '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/install_modules.pl'' had status 22
>> Can't locate object method "load" via package "CPAN::HandleConfig" (perhaps you forgot to load "CPAN::HandleConfig"?) at /Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/module_tools.pl line 89.
>>> 
>> 
>> 
>> Error in installXLSXsupport(verbose = TRUE) :
>> Unable to install Perl XLSX support libraries.
>> 
>> In addition: Warning message:
>> running command ''/usr/bin/perl' '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/install_modules.pl'' had status 22
>> Can't locate object method "load" via package "CPAN::HandleConfig" (perhaps you forgot to load "CPAN::HandleConfig"?) at /Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/module_tools.pl line 89.
>> *****
>> 
>> I've read ?installXLSXsupport and I think I've correctly installed Compress::Raw::Zlib and Spreadsheet::XLSX from terminal (by using sudo perl -MCPAN -e 'install Bundle::Name'). I've even tried with a different Perl flavour, ActivePerl, but got a different set of errors. I'm afraid I'll make my installation an awfull mess if I keep trying to get an answer on my own! Please, could you help me? Do you know where am I wrong? How could I get XLSX support working in my MacBook Pro running Mac OS X 10.5.8?
>> 
>> Thank you so much for your help,
>> 
>> Ricardo
>> 
>> --
>> Ricardo Rodr?guez
>> Research Management and Promotion Technician
>> Technical Secretariat
>> Health Research Institute of Santiago de Compostela (IDIS)
>> http://www.idisantiago.es
>> 
>> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
>> 
>> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
>> 
>> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 
> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
> 
> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
> 
> See more languages: http://www.sergas.es/aviso_confidencialidad.htm


From michael.weylandt at gmail.com  Sat Jul 14 20:07:16 2012
From: michael.weylandt at gmail.com (R. Michael Weylandt <michael.weylandt@gmail.com>)
Date: Sat, 14 Jul 2012 13:07:16 -0500
Subject: [R-SIG-Mac] installXLSXsupport() error
In-Reply-To: <244BFA3AE9F83C4A8261E2718970723701049FBF4FDE@ASSCCEVS03.sergas.local>
References: <244BFA3AE9F83C4A8261E2718970723701049FBF4FDB@ASSCCEVS03.sergas.local>
	<A85CD2D2-46E6-417A-82B9-C70CEEA8FC31@stat.ucla.edu>
	<244BFA3AE9F83C4A8261E2718970723701049FBF4FDE@ASSCCEVS03.sergas.local>
Message-ID: <51CCE1B3-3F7B-4968-8287-55275A8057B2@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120714/31a06e6f/attachment.pl>

From Ricardo.Julio.Rodriguez.Fernandez at sergas.es  Sat Jul 14 20:30:02 2012
From: Ricardo.Julio.Rodriguez.Fernandez at sergas.es (Ricardo.Julio.Rodriguez.Fernandez at sergas.es)
Date: Sat, 14 Jul 2012 20:30:02 +0200
Subject: [R-SIG-Mac] installXLSXsupport() error
In-Reply-To: <7F0295F0-596B-4B1A-845C-51041E558CB4@stat.ucla.edu>
References: <244BFA3AE9F83C4A8261E2718970723701049FBF4FDB@ASSCCEVS03.sergas.local>,
	<A85CD2D2-46E6-417A-82B9-C70CEEA8FC31@stat.ucla.edu>
	<244BFA3AE9F83C4A8261E2718970723701049FBF4FDE@ASSCCEVS03.sergas.local>,
	<7F0295F0-596B-4B1A-845C-51041E558CB4@stat.ucla.edu>
Message-ID: <244BFA3AE9F83C4A8261E2718970723701049FBF4FE0@ASSCCEVS03.sergas.local>

Thanks, Ian,

I looked for XLConnect with the package installer in CRAN binaries (R 2.15.1 GUI 1.52) and found nothing. Here what I get from the R prompt...

> install.packages("XLConnect")
Installing package(s) into ?/Users/rrodriguez/Library/R/2.15/library?
(as ?lib? is unspecified)
Warning message:
package ?XLConnect? is not available (for R version 2.15.1)
>

I've installed it from CRAN sources and all seems to work fine now! Thanks for your help!

Once again, I'm impressed and happy to keep trying to understand this great environment and, perhaps some day, contribute to the community.

Cheers,

Ricardo

________________________________________
From: Ian Fellows [ian.fellows at stat.ucla.edu]
Sent: 14 July 2012 20:04
To: Rodriguez Fernandez, Ricardo Julio
Cc: r-sig-mac at r-project.org
Subject: Re: [R-SIG-Mac] installXLSXsupport() error

You only loaded the JAR package, not the actual XLConnect package.

install.packages("XLConnect")
library(XLConnect)


On Jul 14, 2012, at 10:59 AM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:

> Thanks, Ian! It seems like an impressive improvement providing a comprehensive set of functions to interact with XLSX spreadsheets!
>
> But I'm afraid I'm missing something. Please, check this...
>
> *****
>> sessionInfo()
> R version 2.15.1 (2012-06-22)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
>
> attached base packages:
> [1] graphics  grDevices utils     datasets  stats     methods   base
>
> other attached packages:
> [1] XLConnectJars_0.1-4 rJava_0.9-3         foreign_0.8-50
>
> loaded via a namespace (and not attached):
> [1] tools_2.15.1
>> wb <- loadWorkbook("XLConnect.xlsx", create = TRUE)
> Error: could not find function "loadWorkbook"
>>
> *****
>
> Please, do you know why am I not able to use loadWorkbook function? Other functions like existsSheet() or extractSheetName(). Always same error: Error: could not find function "concerned function".
>
> Thanks for your help!
>
> Ricardo
>
> ________________________________________
> From: Ian Fellows [ian.fellows at stat.ucla.edu]
> Sent: 14 July 2012 19:21
> To: Rodriguez Fernandez, Ricardo Julio
> Cc: r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] installXLSXsupport() error
>
> much better support for Excel is available via the XLConnect and xlsx packages. I would recommend that you give them a try.
>
> ian
>
> On Jul 14, 2012, at 9:15 AM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:
>
>> Hi!
>>
>> Until now I've survive exporting my spreadsheets to CSV files, but this process is a error-prone as it is by no means easy to keep track of updated releases. Some weeks ago a new thread here talked about reading XLSX files by using gdata(): it would be really great to be able to get this working here, but I'm running into some trouble. Gdata works fine to read XLS format, but I'm not able to get XLSX support. Please, check this outputs. First of all: sessionInfo()...
>>
>> *****
>>> sessionInfo()
>> R version 2.15.1 (2012-06-22)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>
>> locale:
>> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
>>
>> attached base packages:
>> [1] graphics  grDevices utils     datasets  stats     methods   base
>>
>> other attached packages:
>> [1] gdata_2.11.0   foreign_0.8-50
>>
>> loaded via a namespace (and not attached):
>> [1] gtools_2.7.0
>>>
>>> library(gdata)
>> gdata: read.xls support for 'XLS' (Excel 97-2004) files ENABLED.
>>
>> gdata: Unable to load perl libaries needed by read.xls()
>> gdata: to support 'XLSX' (Excel 2007+) files.
>>
>> gdata: Run the function 'installXLSXsupport()'
>> gdata: to automatically download and install the perl
>> gdata: libaries needed to support Excel XLS and XLSX formats.
>>
>> Attaching package: ?gdata?
>>
>> The following object(s) are masked from ?package:utils?:
>>
>>   object.size
>>
>> The following object(s) are masked from ?package:stats?:
>>
>>   nobs
>>
>>> xlsFormats()
>> [1] "XLS"
>>> installXLSXsupport(verbose=TRUE)
>> Using perl at /usr/bin/perl
>>
>> Attempting to automaticall install Perl libraries to support XLSX (Excel 2007+) file format...
>>
>> Results:
>> Using perl at /usr/bin/perl
>>
>> Determining supported formats...
>>
>> Results:  Supported formats: XLS
>> Error in installXLSXsupport(verbose = TRUE) :
>> Unable to install Perl XLSX support libraries.
>>
>> In addition: Warning message:
>> running command ''/usr/bin/perl' '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/install_modules.pl'' had status 22
>> Can't locate object method "load" via package "CPAN::HandleConfig" (perhaps you forgot to load "CPAN::HandleConfig"?) at /Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/module_tools.pl line 89.
>>>
>>
>>
>> Error in installXLSXsupport(verbose = TRUE) :
>> Unable to install Perl XLSX support libraries.
>>
>> In addition: Warning message:
>> running command ''/usr/bin/perl' '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/install_modules.pl'' had status 22
>> Can't locate object method "load" via package "CPAN::HandleConfig" (perhaps you forgot to load "CPAN::HandleConfig"?) at /Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/module_tools.pl line 89.
>> *****
>>
>> I've read ?installXLSXsupport and I think I've correctly installed Compress::Raw::Zlib and Spreadsheet::XLSX from terminal (by using sudo perl -MCPAN -e 'install Bundle::Name'). I've even tried with a different Perl flavour, ActivePerl, but got a different set of errors. I'm afraid I'll make my installation an awfull mess if I keep trying to get an answer on my own! Please, could you help me? Do you know where am I wrong? How could I get XLSX support working in my MacBook Pro running Mac OS X 10.5.8?
>>
>> Thank you so much for your help,
>>
>> Ricardo
>>
>> --
>> Ricardo Rodr?guez
>> Research Management and Promotion Technician
>> Technical Secretariat
>> Health Research Institute of Santiago de Compostela (IDIS)
>> http://www.idisantiago.es
>>
>> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
>>
>> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
>>
>> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
>
> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
>
> See more languages: http://www.sergas.es/aviso_confidencialidad.htm


Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.

Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm


From cubranic at stat.ubc.ca  Mon Jul 16 18:17:55 2012
From: cubranic at stat.ubc.ca (Davor Cubranic)
Date: Mon, 16 Jul 2012 09:17:55 -0700
Subject: [R-SIG-Mac] installXLSXsupport() error
In-Reply-To: <244BFA3AE9F83C4A8261E2718970723701049FBF4FE0@ASSCCEVS03.sergas.local>
References: <244BFA3AE9F83C4A8261E2718970723701049FBF4FDB@ASSCCEVS03.sergas.local>,
	<A85CD2D2-46E6-417A-82B9-C70CEEA8FC31@stat.ucla.edu>
	<244BFA3AE9F83C4A8261E2718970723701049FBF4FDE@ASSCCEVS03.sergas.local>,
	<7F0295F0-596B-4B1A-845C-51041E558CB4@stat.ucla.edu>
	<244BFA3AE9F83C4A8261E2718970723701049FBF4FE0@ASSCCEVS03.sergas.local>
Message-ID: <C58B8587-1A21-459A-ACF9-0647CC640CB5@stat.ubc.ca>

You didn't have to go through the command line. In the R GUI's package installer, if you switched package repository to "CRAN (sources)", you would have found XLConnect there too.

You don't mention the version of OS X you're running, but for me with Lion and R 2.15.1, I have the same problem. Most binary packages on CRAN will not be found, and so I always choose to install from source.

Davor


On 2012-07-14, at 11:30 AM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:

> Thanks, Ian,
> 
> I looked for XLConnect with the package installer in CRAN binaries (R 2.15.1 GUI 1.52) and found nothing. Here what I get from the R prompt...
> 
>> install.packages("XLConnect")
> Installing package(s) into ?/Users/rrodriguez/Library/R/2.15/library?
> (as ?lib? is unspecified)
> Warning message:
> package ?XLConnect? is not available (for R version 2.15.1)
>> 
> 
> I've installed it from CRAN sources and all seems to work fine now! Thanks for your help!
> 
> Once again, I'm impressed and happy to keep trying to understand this great environment and, perhaps some day, contribute to the community.
> 
> Cheers,
> 
> Ricardo
> 
> ________________________________________
> From: Ian Fellows [ian.fellows at stat.ucla.edu]
> Sent: 14 July 2012 20:04
> To: Rodriguez Fernandez, Ricardo Julio
> Cc: r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] installXLSXsupport() error
> 
> You only loaded the JAR package, not the actual XLConnect package.
> 
> install.packages("XLConnect")
> library(XLConnect)
> 
> 
> On Jul 14, 2012, at 10:59 AM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:
> 
>> Thanks, Ian! It seems like an impressive improvement providing a comprehensive set of functions to interact with XLSX spreadsheets!
>> 
>> But I'm afraid I'm missing something. Please, check this...
>> 
>> *****
>>> sessionInfo()
>> R version 2.15.1 (2012-06-22)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> 
>> locale:
>> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
>> 
>> attached base packages:
>> [1] graphics  grDevices utils     datasets  stats     methods   base
>> 
>> other attached packages:
>> [1] XLConnectJars_0.1-4 rJava_0.9-3         foreign_0.8-50
>> 
>> loaded via a namespace (and not attached):
>> [1] tools_2.15.1
>>> wb <- loadWorkbook("XLConnect.xlsx", create = TRUE)
>> Error: could not find function "loadWorkbook"
>>> 
>> *****
>> 
>> Please, do you know why am I not able to use loadWorkbook function? Other functions like existsSheet() or extractSheetName(). Always same error: Error: could not find function "concerned function".
>> 
>> Thanks for your help!
>> 
>> Ricardo
>> 
>> ________________________________________
>> From: Ian Fellows [ian.fellows at stat.ucla.edu]
>> Sent: 14 July 2012 19:21
>> To: Rodriguez Fernandez, Ricardo Julio
>> Cc: r-sig-mac at r-project.org
>> Subject: Re: [R-SIG-Mac] installXLSXsupport() error
>> 
>> much better support for Excel is available via the XLConnect and xlsx packages. I would recommend that you give them a try.
>> 
>> ian
>> 
>> On Jul 14, 2012, at 9:15 AM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:
>> 
>>> Hi!
>>> 
>>> Until now I've survive exporting my spreadsheets to CSV files, but this process is a error-prone as it is by no means easy to keep track of updated releases. Some weeks ago a new thread here talked about reading XLSX files by using gdata(): it would be really great to be able to get this working here, but I'm running into some trouble. Gdata works fine to read XLS format, but I'm not able to get XLSX support. Please, check this outputs. First of all: sessionInfo()...
>>> 
>>> *****
>>>> sessionInfo()
>>> R version 2.15.1 (2012-06-22)
>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>> 
>>> locale:
>>> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
>>> 
>>> attached base packages:
>>> [1] graphics  grDevices utils     datasets  stats     methods   base
>>> 
>>> other attached packages:
>>> [1] gdata_2.11.0   foreign_0.8-50
>>> 
>>> loaded via a namespace (and not attached):
>>> [1] gtools_2.7.0
>>>> 
>>>> library(gdata)
>>> gdata: read.xls support for 'XLS' (Excel 97-2004) files ENABLED.
>>> 
>>> gdata: Unable to load perl libaries needed by read.xls()
>>> gdata: to support 'XLSX' (Excel 2007+) files.
>>> 
>>> gdata: Run the function 'installXLSXsupport()'
>>> gdata: to automatically download and install the perl
>>> gdata: libaries needed to support Excel XLS and XLSX formats.
>>> 
>>> Attaching package: ?gdata?
>>> 
>>> The following object(s) are masked from ?package:utils?:
>>> 
>>>  object.size
>>> 
>>> The following object(s) are masked from ?package:stats?:
>>> 
>>>  nobs
>>> 
>>>> xlsFormats()
>>> [1] "XLS"
>>>> installXLSXsupport(verbose=TRUE)
>>> Using perl at /usr/bin/perl
>>> 
>>> Attempting to automaticall install Perl libraries to support XLSX (Excel 2007+) file format...
>>> 
>>> Results:
>>> Using perl at /usr/bin/perl
>>> 
>>> Determining supported formats...
>>> 
>>> Results:  Supported formats: XLS
>>> Error in installXLSXsupport(verbose = TRUE) :
>>> Unable to install Perl XLSX support libraries.
>>> 
>>> In addition: Warning message:
>>> running command ''/usr/bin/perl' '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/install_modules.pl'' had status 22
>>> Can't locate object method "load" via package "CPAN::HandleConfig" (perhaps you forgot to load "CPAN::HandleConfig"?) at /Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/module_tools.pl line 89.
>>>> 
>>> 
>>> 
>>> Error in installXLSXsupport(verbose = TRUE) :
>>> Unable to install Perl XLSX support libraries.
>>> 
>>> In addition: Warning message:
>>> running command ''/usr/bin/perl' '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/install_modules.pl'' had status 22
>>> Can't locate object method "load" via package "CPAN::HandleConfig" (perhaps you forgot to load "CPAN::HandleConfig"?) at /Library/Frameworks/R.framework/Versions/2.15/Resources/library/gdata/perl/module_tools.pl line 89.
>>> *****
>>> 
>>> I've read ?installXLSXsupport and I think I've correctly installed Compress::Raw::Zlib and Spreadsheet::XLSX from terminal (by using sudo perl -MCPAN -e 'install Bundle::Name'). I've even tried with a different Perl flavour, ActivePerl, but got a different set of errors. I'm afraid I'll make my installation an awfull mess if I keep trying to get an answer on my own! Please, could you help me? Do you know where am I wrong? How could I get XLSX support working in my MacBook Pro running Mac OS X 10.5.8?
>>> 
>>> Thank you so much for your help,
>>> 
>>> Ricardo
>>> 
>>> --
>>> Ricardo Rodr?guez
>>> Research Management and Promotion Technician
>>> Technical Secretariat
>>> Health Research Institute of Santiago de Compostela (IDIS)
>>> http://www.idisantiago.es
>>> 
>>> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
>>> 
>>> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
>>> 
>>> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
>> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
>> 
>> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
>> 
>> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
> 
> 
> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
> 
> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
> 
> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ripley at stats.ox.ac.uk  Mon Jul 16 18:43:26 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 16 Jul 2012 17:43:26 +0100
Subject: [R-SIG-Mac] installXLSXsupport() error
In-Reply-To: <C58B8587-1A21-459A-ACF9-0647CC640CB5@stat.ubc.ca>
References: <244BFA3AE9F83C4A8261E2718970723701049FBF4FDB@ASSCCEVS03.sergas.local>,
	<A85CD2D2-46E6-417A-82B9-C70CEEA8FC31@stat.ucla.edu>
	<244BFA3AE9F83C4A8261E2718970723701049FBF4FDE@ASSCCEVS03.sergas.local>,
	<7F0295F0-596B-4B1A-845C-51041E558CB4@stat.ucla.edu>
	<244BFA3AE9F83C4A8261E2718970723701049FBF4FE0@ASSCCEVS03.sergas.local>
	<C58B8587-1A21-459A-ACF9-0647CC640CB5@stat.ubc.ca>
Message-ID: <500444AE.5030604@stats.ox.ac.uk>

On 16/07/2012 17:17, Davor Cubranic wrote:
> You didn't have to go through the command line. In the R GUI's
> package installer, if you switched package repository to "CRAN
> (sources)", you would have found XLConnect there too.
>
> You don't mention the version of OS X you're running, but for me with
> Lion and R 2.15.1, I have the same problem. Most binary packages on
> CRAN will not be found, and so I always choose to install from
> source.

That's not true for me.  Currently 3808 binary packages are available 
out of 3912 source packages, and all the *binary* packages should be 
found (but XLConnect is not one of those).  If you are seeing something 
different, do

(a) try the CRAN master
(b) report if R.app is not seeing all the packages there.

The errors can be seen at 
http://cran.r-project.org/web/checks/check_results_XLConnect.html: it 
seems the CRAN Mac build machine does have problems with several 
packages using rJava.  Since the latter is Simon's package, he is 
probably well aware of it.

It is worth pointing out that Java on OS X is something of a security 
nightmare, and maybe especially on Leopard (which the build machine 
perforce runs).  A couple of my students have found (the hard way) that 
Macs are not immune to malware.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From cubranic at stat.ubc.ca  Mon Jul 16 18:58:22 2012
From: cubranic at stat.ubc.ca (Davor Cubranic)
Date: Mon, 16 Jul 2012 09:58:22 -0700
Subject: [R-SIG-Mac] installXLSXsupport() error
In-Reply-To: <500444AE.5030604@stats.ox.ac.uk>
References: <244BFA3AE9F83C4A8261E2718970723701049FBF4FDB@ASSCCEVS03.sergas.local>,
	<A85CD2D2-46E6-417A-82B9-C70CEEA8FC31@stat.ucla.edu>
	<244BFA3AE9F83C4A8261E2718970723701049FBF4FDE@ASSCCEVS03.sergas.local>,
	<7F0295F0-596B-4B1A-845C-51041E558CB4@stat.ucla.edu>
	<244BFA3AE9F83C4A8261E2718970723701049FBF4FE0@ASSCCEVS03.sergas.local>
	<C58B8587-1A21-459A-ACF9-0647CC640CB5@stat.ubc.ca>
	<500444AE.5030604@stats.ox.ac.uk>
Message-ID: <4FB6CF41-C7C5-477C-9706-FD281F2D55A5@stat.ubc.ca>

I ran into this some months ago with Rcpp or RcppArmadillo. Switching to source let me install them, but I see that whatever the problem was at the time, has been fixed since because their binaries do now appear in the package installer GUI. I'll check the "check_results" page the next time this happens, thanks for reminding me.

Davor

On 2012-07-16, at 9:43 AM, Prof Brian Ripley wrote:

> On 16/07/2012 17:17, Davor Cubranic wrote:
>> You didn't have to go through the command line. In the R GUI's
>> package installer, if you switched package repository to "CRAN
>> (sources)", you would have found XLConnect there too.
>> 
>> You don't mention the version of OS X you're running, but for me with
>> Lion and R 2.15.1, I have the same problem. Most binary packages on
>> CRAN will not be found, and so I always choose to install from
>> source.
> 
> That's not true for me.  Currently 3808 binary packages are available out of 3912 source packages, and all the *binary* packages should be found (but XLConnect is not one of those).  If you are seeing something different, do
> 
> (a) try the CRAN master
> (b) report if R.app is not seeing all the packages there.
> 
> The errors can be seen at http://cran.r-project.org/web/checks/check_results_XLConnect.html: it seems the CRAN Mac build machine does have problems with several packages using rJava.  Since the latter is Simon's package, he is probably well aware of it.
> 
> It is worth pointing out that Java on OS X is something of a security nightmare, and maybe especially on Leopard (which the build machine perforce runs).  A couple of my students have found (the hard way) that Macs are not immune to malware.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 


From simon.urbanek at r-project.org  Mon Jul 16 19:21:02 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 16 Jul 2012 13:21:02 -0400
Subject: [R-SIG-Mac] installXLSXsupport() error
In-Reply-To: <500444AE.5030604@stats.ox.ac.uk>
References: <244BFA3AE9F83C4A8261E2718970723701049FBF4FDB@ASSCCEVS03.sergas.local>,
	<A85CD2D2-46E6-417A-82B9-C70CEEA8FC31@stat.ucla.edu>
	<244BFA3AE9F83C4A8261E2718970723701049FBF4FDE@ASSCCEVS03.sergas.local>,
	<7F0295F0-596B-4B1A-845C-51041E558CB4@stat.ucla.edu>
	<244BFA3AE9F83C4A8261E2718970723701049FBF4FE0@ASSCCEVS03.sergas.local>
	<C58B8587-1A21-459A-ACF9-0647CC640CB5@stat.ubc.ca>
	<500444AE.5030604@stats.ox.ac.uk>
Message-ID: <5892976C-C4E8-423B-8591-DC965B2BAEC4@r-project.org>


On Jul 16, 2012, at 12:43 PM, Prof Brian Ripley wrote:

> On 16/07/2012 17:17, Davor Cubranic wrote:
>> You didn't have to go through the command line. In the R GUI's
>> package installer, if you switched package repository to "CRAN
>> (sources)", you would have found XLConnect there too.
>> 
>> You don't mention the version of OS X you're running, but for me with
>> Lion and R 2.15.1, I have the same problem. Most binary packages on
>> CRAN will not be found, and so I always choose to install from
>> source.
> 
> That's not true for me.  Currently 3808 binary packages are available out of 3912 source packages, and all the *binary* packages should be found (but XLConnect is not one of those).  If you are seeing something different, do
> 
> (a) try the CRAN master
> (b) report if R.app is not seeing all the packages there.
> 
> The errors can be seen at http://cran.r-project.org/web/checks/check_results_XLConnect.html: it seems the CRAN Mac build machine does have problems with several packages using rJava.  Since the latter is Simon's package, he is probably well aware of it.
> 

No, it's a problem (or feature) in XLConnect using Java 1.6 classes which are unsupported on OS X (only Java 1.5 or lower is supported in 32 and 64-bit).
 

> It is worth pointing out that Java on OS X is something of a security nightmare, and maybe especially on Leopard (which the build machine perforce runs).  A couple of my students have found (the hard way) that Macs are not immune to malware.
> 

Apple has abandoned Java few years ago, so it's just lingering there (all new installations come without Java) - yes, it's not a good situation. Oracle has promised taking over but it's still a mess.

Cheers,
Simon


From cubranic at stat.ubc.ca  Tue Jul 17 01:29:17 2012
From: cubranic at stat.ubc.ca (Davor Cubranic)
Date: Mon, 16 Jul 2012 16:29:17 -0700
Subject: [R-SIG-Mac] rgl configure error: "missing required library GL"
Message-ID: <578B8E97-0593-4CB6-A333-AA710161C3C7@stat.ubc.ca>

I see the following error when installing rgl from CRAN source:

> install.packages('rgl')
trying URL 'http://cran.stat.sfu.ca/src/contrib/rgl_0.92.880.tar.gz'
Content type 'application/x-gzip' length 1742168 bytes (1.7 Mb)
opened URL
==================================================
downloaded 1.7 Mb

* installing *source* package 'rgl' ...
** package 'rgl' successfully unpacked and MD5 sums checked
checking for gcc... gcc -arch x86_64 -std=gnu99
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
checking whether we are using the GNU C compiler... (cached) yes
checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
checking for libpng-config... yes
configure: using libpng-config
configure: using libpng dynamic linkage
checking for X... libraries , headers 
checking for glEnd in -lGL... no
configure: error: missing required library GL
ERROR: configuration failed for package 'rgl'
* removing '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/rgl'

But I do have libGL in a number of locations, for instance:

/Developer/SDKs/MacOSX10.7.sdk/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
/Developer/SDKs/MacOSX10.7.sdk/usr/X11/lib/libGL.1.2.dylib
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
/usr/X11/lib/libGL.dylib

I'm running R 2.15.0 on OSX 10.7.4. GCC is: i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2336.1.00). Is there something wrong with OpenGL on Lion or is this a bug in the configure script?

Davor


From murdoch.duncan at gmail.com  Tue Jul 17 03:02:28 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Mon, 16 Jul 2012 21:02:28 -0400
Subject: [R-SIG-Mac] rgl configure error: "missing required library GL"
In-Reply-To: <578B8E97-0593-4CB6-A333-AA710161C3C7@stat.ubc.ca>
References: <578B8E97-0593-4CB6-A333-AA710161C3C7@stat.ubc.ca>
Message-ID: <5004B9A4.9050404@gmail.com>

On 12-07-16 7:29 PM, Davor Cubranic wrote:
> I see the following error when installing rgl from CRAN source:
>
>> install.packages('rgl')
> trying URL 'http://cran.stat.sfu.ca/src/contrib/rgl_0.92.880.tar.gz'
> Content type 'application/x-gzip' length 1742168 bytes (1.7 Mb)
> opened URL
> ==================================================
> downloaded 1.7 Mb
>
> * installing *source* package 'rgl' ...
> ** package 'rgl' successfully unpacked and MD5 sums checked
> checking for gcc... gcc -arch x86_64 -std=gnu99
> checking whether the C compiler works... yes
> checking for C compiler default output file name... a.out
> checking for suffix of executables...
> checking whether we are cross compiling... no
> checking for suffix of object files... o
> checking whether we are using the GNU C compiler... yes
> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
> checking whether we are using the GNU C compiler... (cached) yes
> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
> checking for libpng-config... yes
> configure: using libpng-config
> configure: using libpng dynamic linkage
> checking for X... libraries , headers
> checking for glEnd in -lGL... no
> configure: error: missing required library GL
> ERROR: configuration failed for package 'rgl'
> * removing '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/rgl'
>
> But I do have libGL in a number of locations, for instance:
>
> /Developer/SDKs/MacOSX10.7.sdk/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
> /Developer/SDKs/MacOSX10.7.sdk/usr/X11/lib/libGL.1.2.dylib
> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
> /usr/X11/lib/libGL.dylib

It also needs the headers, not just the library.  If you have them and 
it's not finding them, you can give hints to the configure script; after 
unpacking the source, run ./configure --help to see what's possible.

Duncan Murdoch

>
> I'm running R 2.15.0 on OSX 10.7.4. GCC is: i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2336.1.00). Is there something wrong with OpenGL on Lion or is this a bug in the configure script?
>
> Davor
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From pdalgd at gmail.com  Tue Jul 17 12:35:40 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 17 Jul 2012 12:35:40 +0200
Subject: [R-SIG-Mac] rgl configure error: "missing required library GL"
In-Reply-To: <5004B9A4.9050404@gmail.com>
References: <578B8E97-0593-4CB6-A333-AA710161C3C7@stat.ubc.ca>
	<5004B9A4.9050404@gmail.com>
Message-ID: <E5A579AC-06A7-4E31-A9CE-1B3C51A4ECD4@gmail.com>


On Jul 17, 2012, at 03:02 , Duncan Murdoch wrote:

> It also needs the headers, not just the library.  If you have them and it's not finding them, you can give hints to the configure script; after unpacking the source, run ./configure --help to see what's possible.

Red herring... It really is the library that goes AWOL. I'm not sure why, but the magical incantation on OSX (Snow Leopard at least) seems to be 

install.packages("rgl", configure.args="--with-gl-libs=/usr/X11/lib")

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From pdalgd at gmail.com  Tue Jul 17 12:46:10 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 17 Jul 2012 12:46:10 +0200
Subject: [R-SIG-Mac] rgl configure error: "missing required library GL"
In-Reply-To: <E5A579AC-06A7-4E31-A9CE-1B3C51A4ECD4@gmail.com>
References: <578B8E97-0593-4CB6-A333-AA710161C3C7@stat.ubc.ca>
	<5004B9A4.9050404@gmail.com>
	<E5A579AC-06A7-4E31-A9CE-1B3C51A4ECD4@gmail.com>
Message-ID: <E5AFCBC1-41C4-43B9-BDE7-07FD899E3867@gmail.com>


On Jul 17, 2012, at 12:35 , peter dalgaard wrote:

> 
> On Jul 17, 2012, at 03:02 , Duncan Murdoch wrote:
> 
>> It also needs the headers, not just the library.  If you have them and it's not finding them, you can give hints to the configure script; after unpacking the source, run ./configure --help to see what's possible.
> 
> Red herring... It really is the library that goes AWOL. I'm not sure why, but the magical incantation on OSX (Snow Leopard at least) seems to be 
> 
> install.packages("rgl", configure.args="--with-gl-libs=/usr/X11/lib")

If anyone cares to dig deeper, the dying words from configure (without the extra arg) are

configure:4270: checking for glEnd in -lGL
configure:4295: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/opt/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include  conftest.c -lGL  -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/opt/local/lib -lpng14 -lX11 >&5
ld: library not found for -lGL
collect2: ld returned 1 exit status
configure:4295: $? = 1
configure: failed program was:
| /* confdefs.h */
...etc...

whereas the successful configure has

configure:4270: checking for glEnd in -lGL
configure:4295: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/opt/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include  -L/usr/X11/lib conftest.c -lGL  -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/opt/local/lib -lpng14 -lX11 >&5
configure:4295: $? = 0
configure:4305: result: yes

The odd bit is that configure apparently does know about OpenGl.framework and the .dylibs inside of it; it just doesn't seem to know how to tell -lGL about it.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From cubranic at stat.ubc.ca  Tue Jul 17 18:51:18 2012
From: cubranic at stat.ubc.ca (Davor Cubranic)
Date: Tue, 17 Jul 2012 09:51:18 -0700
Subject: [R-SIG-Mac] rgl configure error: "missing required library GL"
In-Reply-To: <E5A579AC-06A7-4E31-A9CE-1B3C51A4ECD4@gmail.com>
References: <578B8E97-0593-4CB6-A333-AA710161C3C7@stat.ubc.ca>
	<5004B9A4.9050404@gmail.com>
	<E5A579AC-06A7-4E31-A9CE-1B3C51A4ECD4@gmail.com>
Message-ID: <73282C26-F804-4281-ACA3-3302E9B4974F@stat.ubc.ca>

Thank you, that fixes it. 

I also noticed the following warning when installing 64-bit version of the package (the default, on OS X):

g++ -arch x86_64 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -o aglrgl.so ABCLineSet.o BBoxDeco.o Background.o Color.o Disposable.o Light.o LineSet.o LineStripSet.o Material.o PlaneSet.o PointSet.o PrimitiveSet.o QuadSet.o RenderContext.o Shape.o SphereMesh.o SphereSet.o SpriteSet.o String.o Surface.o TextSet.o Texture.o Viewpoint.o api.o assert.o callbacks.o device.o devicemanager.o fps.o ftgl.o geom.o glErrors.o glgui.o gui.o init.o par3d.o pixmap.o render.o rglmath.o rglview.o scene.o select.o win32gui.o win32lib.o x11gui.o x11lib.o gl2ps.o osx/osxgui.o osx/osxlib.o -L/opt/local/lib -lpng14 -framework Cocoa -L/opt/local/lib -lfreetype -lz -lbz2 -lobjc -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
ld: warning: ignoring file osx/osxgui.o, file was built for i386 which is not the architecture being linked (x86_64)

Sure enough, osx/osxgui.o is the only object file built for the 32-bit architecture:

$ find  -name \*.o |xargs file
rgl/src/ABCLineSet.o:    Mach-O 64-bit object x86_64
rgl/src/AGL/x11gui.o:    Mach-O 64-bit object x86_64
rgl/src/AGL/x11lib.o:    Mach-O 64-bit object x86_64
rgl/src/api.o:           Mach-O 64-bit object x86_64
rgl/src/assert.o:        Mach-O 64-bit object x86_64
rgl/src/Background.o:    Mach-O 64-bit object x86_64
rgl/src/BBoxDeco.o:      Mach-O 64-bit object x86_64
rgl/src/callbacks.o:     Mach-O 64-bit object x86_64
rgl/src/Color.o:         Mach-O 64-bit object x86_64
rgl/src/device.o:        Mach-O 64-bit object x86_64
rgl/src/devicemanager.o: Mach-O 64-bit object x86_64
rgl/src/Disposable.o:    Mach-O 64-bit object x86_64
rgl/src/fps.o:           Mach-O 64-bit object x86_64
rgl/src/ftgl.o:          Mach-O 64-bit object x86_64
rgl/src/geom.o:          Mach-O 64-bit object x86_64
rgl/src/gl2ps.o:         Mach-O 64-bit object x86_64
rgl/src/glErrors.o:      Mach-O 64-bit object x86_64
rgl/src/glgui.o:         Mach-O 64-bit object x86_64
rgl/src/gui.o:           Mach-O 64-bit object x86_64
rgl/src/init.o:          Mach-O 64-bit object x86_64
rgl/src/Light.o:         Mach-O 64-bit object x86_64
rgl/src/LineSet.o:       Mach-O 64-bit object x86_64
rgl/src/LineStripSet.o:  Mach-O 64-bit object x86_64
rgl/src/Material.o:      Mach-O 64-bit object x86_64
rgl/src/osx/osxgui.o:    Mach-O object i386
rgl/src/osx/osxlib.o:    Mach-O 64-bit object x86_64
rgl/src/par3d.o:         Mach-O 64-bit object x86_64
rgl/src/pixmap.o:        Mach-O 64-bit object x86_64
rgl/src/PlaneSet.o:      Mach-O 64-bit object x86_64
rgl/src/PointSet.o:      Mach-O 64-bit object x86_64
rgl/src/PrimitiveSet.o:  Mach-O 64-bit object x86_64
rgl/src/QuadSet.o:       Mach-O 64-bit object x86_64
rgl/src/render.o:        Mach-O 64-bit object x86_64
rgl/src/RenderContext.o: Mach-O 64-bit object x86_64
rgl/src/rglmath.o:       Mach-O 64-bit object x86_64
rgl/src/rglview.o:       Mach-O 64-bit object x86_64
rgl/src/scene.o:         Mach-O 64-bit object x86_64
rgl/src/select.o:        Mach-O 64-bit object x86_64
rgl/src/Shape.o:         Mach-O 64-bit object x86_64
rgl/src/SphereMesh.o:    Mach-O 64-bit object x86_64
rgl/src/SphereSet.o:     Mach-O 64-bit object x86_64
rgl/src/SpriteSet.o:     Mach-O 64-bit object x86_64
rgl/src/String.o:        Mach-O 64-bit object x86_64
rgl/src/Surface.o:       Mach-O 64-bit object x86_64
rgl/src/TextSet.o:       Mach-O 64-bit object x86_64
rgl/src/Texture.o:       Mach-O 64-bit object x86_64
rgl/src/Viewpoint.o:     Mach-O 64-bit object x86_64
rgl/src/win32gui.o:      Mach-O 64-bit object x86_64
rgl/src/win32lib.o:      Mach-O 64-bit object x86_64
rgl/src/x11gui.o:        Mach-O 64-bit object x86_64
rgl/src/x11lib.o:        Mach-O 64-bit object x86_64

I'm attaching the full log of configuring and building the package. I don't see osx/osxgui.o it being explicilty built, unlike the others.

Davor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: rgl.out
Type: application/octet-stream
Size: 25664 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120717/9c705880/attachment-0001.obj>
-------------- next part --------------



On 2012-07-17, at 3:35 AM, peter dalgaard wrote:

> 
> On Jul 17, 2012, at 03:02 , Duncan Murdoch wrote:
> 
>> It also needs the headers, not just the library.  If you have them and it's not finding them, you can give hints to the configure script; after unpacking the source, run ./configure --help to see what's possible.
> 
> Red herring... It really is the library that goes AWOL. I'm not sure why, but the magical incantation on OSX (Snow Leopard at least) seems to be 
> 
> install.packages("rgl", configure.args="--with-gl-libs=/usr/X11/lib")
> 
> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 


From murdoch.duncan at gmail.com  Tue Jul 17 19:05:51 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 17 Jul 2012 13:05:51 -0400
Subject: [R-SIG-Mac] rgl configure error: "missing required library GL"
In-Reply-To: <73282C26-F804-4281-ACA3-3302E9B4974F@stat.ubc.ca>
References: <578B8E97-0593-4CB6-A333-AA710161C3C7@stat.ubc.ca>
	<5004B9A4.9050404@gmail.com>
	<E5A579AC-06A7-4E31-A9CE-1B3C51A4ECD4@gmail.com>
	<73282C26-F804-4281-ACA3-3302E9B4974F@stat.ubc.ca>
Message-ID: <50059B6F.5060208@gmail.com>

On 17/07/2012 12:51 PM, Davor Cubranic wrote:
> Thank you, that fixes it.
>
> I also noticed the following warning when installing 64-bit version of the package (the default, on OS X):
>
> g++ -arch x86_64 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -o aglrgl.so ABCLineSet.o BBoxDeco.o Background.o Color.o Disposable.o Light.o LineSet.o LineStripSet.o Material.o PlaneSet.o PointSet.o PrimitiveSet.o QuadSet.o RenderContext.o Shape.o SphereMesh.o SphereSet.o SpriteSet.o String.o Surface.o TextSet.o Texture.o Viewpoint.o api.o assert.o callbacks.o device.o devicemanager.o fps.o ftgl.o geom.o glErrors.o glgui.o gui.o init.o par3d.o pixmap.o render.o rglmath.o rglview.o scene.o select.o win32gui.o win32lib.o x11gui.o x11lib.o gl2ps.o osx/osxgui.o osx/osxlib.o -L/opt/local/lib -lpng14 -framework Cocoa -L/opt/local/lib -lfreetype -lz -lbz2 -lobjc -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
> ld: warning: ignoring file osx/osxgui.o, file was built for i386 which is not the architecture being linked (x86_64)
>
> Sure enough, osx/osxgui.o is the only object file built for the 32-bit architecture:

There is one other problem I've heard of for 64 bit versions of OSX, 
which Peter reported as follows:

> > >library(rgl)

>Error : .onLoad failed in loadNamespace() for 'rgl', details:
>    call: dyn.load(file, DLLpath = DLLpath, ...)
>    error: unable to load shared object '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/rgl/libs/x86_64/aglrgl.so':
>    dlopen(/Library/Frameworks/R.framework/Versions/2.15/Resources/library/rgl/libs/x86_64/aglrgl.so, 6): Symbol not found: __ZN3gui13OSXGUIFactory12hasEventLoopEv
>    Referenced from: /Library/Frameworks/R.framework/Versions/2.15/Resources/library/rgl/libs/x86_64/aglrgl.so
>    Expected in: dynamic lookup
>
>Error: package/namespace load failed for ?rgl?

The aglrgl.so library is built from osxgui.mm and osxlib.cpp.  I'd been assuming the problem was an API change in recent OSX 64 bit, but maybe it's a problem with the makefiles or the compiler.  If you can suggest any fixes for this, I'd appreciate it.  (The newest OSX that I have is 10.6.8.)

Duncan Murdoch


>
> $ find  -name \*.o |xargs file
> rgl/src/ABCLineSet.o:    Mach-O 64-bit object x86_64
> rgl/src/AGL/x11gui.o:    Mach-O 64-bit object x86_64
> rgl/src/AGL/x11lib.o:    Mach-O 64-bit object x86_64
> rgl/src/api.o:           Mach-O 64-bit object x86_64
> rgl/src/assert.o:        Mach-O 64-bit object x86_64
> rgl/src/Background.o:    Mach-O 64-bit object x86_64
> rgl/src/BBoxDeco.o:      Mach-O 64-bit object x86_64
> rgl/src/callbacks.o:     Mach-O 64-bit object x86_64
> rgl/src/Color.o:         Mach-O 64-bit object x86_64
> rgl/src/device.o:        Mach-O 64-bit object x86_64
> rgl/src/devicemanager.o: Mach-O 64-bit object x86_64
> rgl/src/Disposable.o:    Mach-O 64-bit object x86_64
> rgl/src/fps.o:           Mach-O 64-bit object x86_64
> rgl/src/ftgl.o:          Mach-O 64-bit object x86_64
> rgl/src/geom.o:          Mach-O 64-bit object x86_64
> rgl/src/gl2ps.o:         Mach-O 64-bit object x86_64
> rgl/src/glErrors.o:      Mach-O 64-bit object x86_64
> rgl/src/glgui.o:         Mach-O 64-bit object x86_64
> rgl/src/gui.o:           Mach-O 64-bit object x86_64
> rgl/src/init.o:          Mach-O 64-bit object x86_64
> rgl/src/Light.o:         Mach-O 64-bit object x86_64
> rgl/src/LineSet.o:       Mach-O 64-bit object x86_64
> rgl/src/LineStripSet.o:  Mach-O 64-bit object x86_64
> rgl/src/Material.o:      Mach-O 64-bit object x86_64
> rgl/src/osx/osxgui.o:    Mach-O object i386
> rgl/src/osx/osxlib.o:    Mach-O 64-bit object x86_64
> rgl/src/par3d.o:         Mach-O 64-bit object x86_64
> rgl/src/pixmap.o:        Mach-O 64-bit object x86_64
> rgl/src/PlaneSet.o:      Mach-O 64-bit object x86_64
> rgl/src/PointSet.o:      Mach-O 64-bit object x86_64
> rgl/src/PrimitiveSet.o:  Mach-O 64-bit object x86_64
> rgl/src/QuadSet.o:       Mach-O 64-bit object x86_64
> rgl/src/render.o:        Mach-O 64-bit object x86_64
> rgl/src/RenderContext.o: Mach-O 64-bit object x86_64
> rgl/src/rglmath.o:       Mach-O 64-bit object x86_64
> rgl/src/rglview.o:       Mach-O 64-bit object x86_64
> rgl/src/scene.o:         Mach-O 64-bit object x86_64
> rgl/src/select.o:        Mach-O 64-bit object x86_64
> rgl/src/Shape.o:         Mach-O 64-bit object x86_64
> rgl/src/SphereMesh.o:    Mach-O 64-bit object x86_64
> rgl/src/SphereSet.o:     Mach-O 64-bit object x86_64
> rgl/src/SpriteSet.o:     Mach-O 64-bit object x86_64
> rgl/src/String.o:        Mach-O 64-bit object x86_64
> rgl/src/Surface.o:       Mach-O 64-bit object x86_64
> rgl/src/TextSet.o:       Mach-O 64-bit object x86_64
> rgl/src/Texture.o:       Mach-O 64-bit object x86_64
> rgl/src/Viewpoint.o:     Mach-O 64-bit object x86_64
> rgl/src/win32gui.o:      Mach-O 64-bit object x86_64
> rgl/src/win32lib.o:      Mach-O 64-bit object x86_64
> rgl/src/x11gui.o:        Mach-O 64-bit object x86_64
> rgl/src/x11lib.o:        Mach-O 64-bit object x86_64
>
> I'm attaching the full log of configuring and building the package. I don't see osx/osxgui.o it being explicilty built, unlike the others.
>
> Davor
>
>
>
>
>
> On 2012-07-17, at 3:35 AM, peter dalgaard wrote:
>
> >
> > On Jul 17, 2012, at 03:02 , Duncan Murdoch wrote:
> >
> >> It also needs the headers, not just the library.  If you have them and it's not finding them, you can give hints to the configure script; after unpacking the source, run ./configure --help to see what's possible.
> >
> > Red herring... It really is the library that goes AWOL. I'm not sure why, but the magical incantation on OSX (Snow Leopard at least) seems to be
> >
> > install.packages("rgl", configure.args="--with-gl-libs=/usr/X11/lib")
> >
> > --
> > Peter Dalgaard, Professor,
> > Center for Statistics, Copenhagen Business School
> > Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> > Phone: (+45)38153501
> > Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> >
> >
> >
> >
> >
> >
> >
> >
>


From cubranic at stat.ubc.ca  Tue Jul 17 19:31:41 2012
From: cubranic at stat.ubc.ca (Davor Cubranic)
Date: Tue, 17 Jul 2012 10:31:41 -0700
Subject: [R-SIG-Mac] rgl configure error: "missing required library GL"
In-Reply-To: <50059B6F.5060208@gmail.com>
References: <578B8E97-0593-4CB6-A333-AA710161C3C7@stat.ubc.ca>
	<5004B9A4.9050404@gmail.com>
	<E5A579AC-06A7-4E31-A9CE-1B3C51A4ECD4@gmail.com>
	<73282C26-F804-4281-ACA3-3302E9B4974F@stat.ubc.ca>
	<50059B6F.5060208@gmail.com>
Message-ID: <70376642-2BB8-4B0C-BFFA-8D186FFAE4AC@stat.ubc.ca>

On 2012-07-17, at 10:05 AM, Duncan Murdoch wrote:

> The aglrgl.so library is built from osxgui.mm and osxlib.cpp.  I'd been assuming the problem was an API change in recent OSX 64 bit, but maybe it's a problem with the makefiles or the compiler.  If you can suggest any fixes for this, I'd appreciate it.  (The newest OSX that I have is 10.6.8.)

BTW, I see osxgui.o being of wrong architecture during an install on 10.6.8 as well...

But I think this is caused by object files being left in the tar.gz:

$ tar xzf rgl_0.92.880.tar.gz
$ find rgl -name \*.o |xargs file
rgl/src/AGL/x11gui.o: Mach-O object i386
rgl/src/AGL/x11lib.o: Mach-O object i386
rgl/src/osx/osxgui.o: Mach-O object i386
rgl/src/osx/osxlib.o: Mach-O object i386

Davor

From pdalgd at gmail.com  Tue Jul 17 20:33:17 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 17 Jul 2012 20:33:17 +0200
Subject: [R-SIG-Mac] rgl configure error: "missing required library GL"
In-Reply-To: <70376642-2BB8-4B0C-BFFA-8D186FFAE4AC@stat.ubc.ca>
References: <578B8E97-0593-4CB6-A333-AA710161C3C7@stat.ubc.ca>
	<5004B9A4.9050404@gmail.com>
	<E5A579AC-06A7-4E31-A9CE-1B3C51A4ECD4@gmail.com>
	<73282C26-F804-4281-ACA3-3302E9B4974F@stat.ubc.ca>
	<50059B6F.5060208@gmail.com>
	<70376642-2BB8-4B0C-BFFA-8D186FFAE4AC@stat.ubc.ca>
Message-ID: <AAAF6448-4B79-47BE-90F2-CD8E3368586A@gmail.com>


On Jul 17, 2012, at 19:31 , Davor Cubranic wrote:

> On 2012-07-17, at 10:05 AM, Duncan Murdoch wrote:
> 
>> The aglrgl.so library is built from osxgui.mm and osxlib.cpp.  I'd been assuming the problem was an API change in recent OSX 64 bit, but maybe it's a problem with the makefiles or the compiler.  If you can suggest any fixes for this, I'd appreciate it.  (The newest OSX that I have is 10.6.8.)
> 
> BTW, I see osxgui.o being of wrong architecture during an install on 10.6.8 as well...
> 
> But I think this is caused by object files being left in the tar.gz:
> 
> $ tar xzf rgl_0.92.880.tar.gz
> $ find rgl -name \*.o |xargs file
> rgl/src/AGL/x11gui.o: Mach-O object i386
> rgl/src/AGL/x11lib.o: Mach-O object i386
> rgl/src/osx/osxgui.o: Mach-O object i386
> rgl/src/osx/osxlib.o: Mach-O object i386
> 
> Davor

Yay, nice catch! 

This allows me to build an rgl that loads in R.app:

tar xvfz rgl_0.92.880.tar.gz 
rm `find rgl -name \*.o`
R64 CMD INSTALL --configure-args=--with-gl-libs=/usr/X11/lib rgl

I still have some issues with the 32 bit version, but I believe those are unrelated. (MacPorts seems to be interfering....)

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From murdoch.duncan at gmail.com  Tue Jul 17 21:25:57 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 17 Jul 2012 15:25:57 -0400
Subject: [R-SIG-Mac] rgl configure error: "missing required library GL"
In-Reply-To: <AAAF6448-4B79-47BE-90F2-CD8E3368586A@gmail.com>
References: <578B8E97-0593-4CB6-A333-AA710161C3C7@stat.ubc.ca>
	<5004B9A4.9050404@gmail.com>
	<E5A579AC-06A7-4E31-A9CE-1B3C51A4ECD4@gmail.com>
	<73282C26-F804-4281-ACA3-3302E9B4974F@stat.ubc.ca>
	<50059B6F.5060208@gmail.com>
	<70376642-2BB8-4B0C-BFFA-8D186FFAE4AC@stat.ubc.ca>
	<AAAF6448-4B79-47BE-90F2-CD8E3368586A@gmail.com>
Message-ID: <5005BC45.2020507@gmail.com>

On 17/07/2012 2:33 PM, peter dalgaard wrote:
> On Jul 17, 2012, at 19:31 , Davor Cubranic wrote:
>
> > On 2012-07-17, at 10:05 AM, Duncan Murdoch wrote:
> >
> >> The aglrgl.so library is built from osxgui.mm and osxlib.cpp.  I'd been assuming the problem was an API change in recent OSX 64 bit, but maybe it's a problem with the makefiles or the compiler.  If you can suggest any fixes for this, I'd appreciate it.  (The newest OSX that I have is 10.6.8.)
> >
> > BTW, I see osxgui.o being of wrong architecture during an install on 10.6.8 as well...
> >
> > But I think this is caused by object files being left in the tar.gz:
> >
> > $ tar xzf rgl_0.92.880.tar.gz
> > $ find rgl -name \*.o |xargs file
> > rgl/src/AGL/x11gui.o: Mach-O object i386
> > rgl/src/AGL/x11lib.o: Mach-O object i386
> > rgl/src/osx/osxgui.o: Mach-O object i386
> > rgl/src/osx/osxlib.o: Mach-O object i386
> >
> > Davor
>
> Yay, nice catch!
>
> This allows me to build an rgl that loads in R.app:
>
> tar xvfz rgl_0.92.880.tar.gz
> rm `find rgl -name \*.o`
> R64 CMD INSTALL --configure-args=--with-gl-libs=/usr/X11/lib rgl
>
> I still have some issues with the 32 bit version, but I believe those are unrelated. (MacPorts seems to be interfering....)
>

Yes, nice catch indeed.   If you get the tarball from R-forge, you'll 
get a slightly newer version, and no *.o files included. I'll send that 
one to CRAN.

Duncan Murdoch


From bibiko at eva.mpg.de  Thu Jul 19 18:14:30 2012
From: bibiko at eva.mpg.de (=?iso-8859-1?Q?Hans-J=F6rg_Bibiko?=)
Date: Thu, 19 Jul 2012 18:14:30 +0200
Subject: [R-SIG-Mac] Question on warnings like "wchar_t is Unicode on this
	platform"
Message-ID: <E49C025F-EEE2-4665-9684-5F275D1A9458@eva.mpg.de>

Hi,

[Since I have not a Windows machine at hand - I cannot say if it's a general R issue.]

I'm dealing with some texts written in languages which are using e.g. this character:

? U+0241 LATIN CAPITAL LETTER GLOTTAL STOP   UTF-8: C9 81

An na?ve example:

print("?")

and I get:

[1] "\u0241"
Warning message:
In print.default("\u0241") :
  it is not known that wchar_t is Unicode on this platform


utf8ToInt("?") will be processed correctly.

If I do something like:

print(intToUtf8(32:5000))

I see lots of \u.... 


Ok, I could use "cat()" to print such characters but ...

As far as I can see in e.g. "printutils.c" the decision is made due to the returned value of "iswprint()". "iswprint()" depends on locale's setting and I set locale to en_US.UTF-8.

Would it be possible to "update" the code to be able to print normal Unicode characters?
This issue also arises if I try to name e.g. rows and/or columns of R-objects.



Kind regards,
--Hans


--------
Mac OS 10.7.4

R version 2.14.2 (2012-02-29)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

loaded via a namespace (and not attached):
[1] tools_2.14.2


From ripley at stats.ox.ac.uk  Thu Jul 19 18:44:00 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 19 Jul 2012 17:44:00 +0100
Subject: [R-SIG-Mac] Question on warnings like "wchar_t is Unicode on
 this platform"
In-Reply-To: <E49C025F-EEE2-4665-9684-5F275D1A9458@eva.mpg.de>
References: <E49C025F-EEE2-4665-9684-5F275D1A9458@eva.mpg.de>
Message-ID: <50083950.8030500@stats.ox.ac.uk>

On 19/07/2012 17:14, Hans-J?rg Bibiko wrote:
> Hi,
>
> [Since I have not a Windows machine at hand - I cannot say if it's a general R issue.]

It's nothing to do with Windows, and everything to do with Apple's 
contempt for standards conformance (which these days vies with Microsoft's).

> I'm dealing with some texts written in languages which are using e.g. this character:
>
> ? U+0241 LATIN CAPITAL LETTER GLOTTAL STOP   UTF-8: C9 81
>
> An na?ve example:
>
> print("?")
>
> and I get:
>
> [1] "\u0241"
> Warning message:
> In print.default("\u0241") :
>    it is not known that wchar_t is Unicode on this platform
>
>
> utf8ToInt("?") will be processed correctly.
>
> If I do something like:
>
> print(intToUtf8(32:5000))
>
> I see lots of \u....

That's a different issue. Quite a lot of those are not printable Unicode 
points (some are not even valid ones).

> Ok, I could use "cat()" to print such characters but ...
>
> As far as I can see in e.g. "printutils.c" the decision is made due to the returned value of "iswprint()". "iswprint()" depends on locale's setting and I set locale to en_US.UTF-8.
>
> Would it be possible to "update" the code to be able to print normal Unicode characters?
> This issue also arises if I try to name e.g. rows and/or columns of R-objects.

You need to correct the information given by the OS.  If it doesn't know 
if its wide characters are Unicode, there is no portable way in C99 to 
convert Unicode points to glyphs.

Define __STDC_ISO_10646__ if you know better than your OS headers.

Unicode does publish tables to determine if Unicode points are 
printable.  Does Apple use them?  Given how much of its OS is based on 
pre-internationalized FreeBSD, I doubt it.  (I am talking here about ISO 
C99 functions, not Apple's own API.)

>
>
> Kind regards,
> --Hans
>
>
> --------
> Mac OS 10.7.4
>
> R version 2.14.2 (2012-02-29)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_2.14.2
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From HodgessE at uhd.edu  Fri Jul 20 03:34:44 2012
From: HodgessE at uhd.edu (Hodgess, Erin)
Date: Thu, 19 Jul 2012 20:34:44 -0500
Subject: [R-SIG-Mac] Problem installing Rmpi on Mac version 10.7.4
Message-ID: <586A4828D7AAA04CA9B258C50A28DA200BF594D5@BALI.uhd.campus>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120719/ae4a2bf7/attachment.pl>

From simon.urbanek at r-project.org  Fri Jul 20 14:17:36 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 20 Jul 2012 08:17:36 -0400
Subject: [R-SIG-Mac] Problem installing Rmpi on Mac version 10.7.4
In-Reply-To: <586A4828D7AAA04CA9B258C50A28DA200BF594D5@BALI.uhd.campus>
References: <586A4828D7AAA04CA9B258C50A28DA200BF594D5@BALI.uhd.campus>
Message-ID: <002FFE76-E5F2-477D-A475-F40ACA6BEDED@r-project.org>


On Jul 19, 2012, at 9:34 PM, Hodgess, Erin wrote:

> Hello!
> 
> I'm trying to install Rmpi on my Mac.  I have installed openmpi.
> 
> Here are my issues:
> 
> E-M-Hodgesss-MacBook-Air:~ hodgesse$ sudo R CMD INSTALL --configure-args="--with-Rmpi-include=/opt/local/include/openmpi --with-Rmpi-libpath=/opt/local/lib --with-Rmpi-type=OPENMPI" Rmpi_0.5-9.tar.gz
> * installing to library ?/Library/Frameworks/R.framework/Versions/2.15/Resources/library?
> * installing *binary* package ?Rmpi? ...
> 
> * DONE (Rmpi)
> E-M-Hodgesss-MacBook-Air:~ hodgesse$ R
> 
> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
> Copyright (C) 2012 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
> 
>  Natural language support but running in an English locale
> 
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
> 
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
> 
> [Previously saved workspace restored]
> 
>> library(Rmpi)
> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>  unable to load shared object '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/Rmpi/libs/x86_64/Rmpi.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/2.15/Resources/library/Rmpi/libs/x86_64/Rmpi.so, 6): Library not loaded: /usr//lib/libmpi.0.dylib
>  Referenced from: /Library/Frameworks/R.framework/Versions/2.15/Resources/library/Rmpi/libs/x86_64/Rmpi.so
>  Reason: no suitable image found.  Did find:
> 	/usr/local/lib/libmpi.0.dylib: no matching architecture in universal wrapper
> Error: package/namespace load failed for ?Rmpi?
>> 
> 
> Does this look familiar, please?
> 

It seems that you are picking up the wrong MPI. Essentially the above tells you that you are using 64-bit R but only 32-bit (or other incompatible MPI) was found in /usr/local/lib. However, you were using /opt/... in the configuration so you should remove whatever MPI remains you have in /usr/local or use /usr/local for the MPI to start with.

Cheers,
Simon


> Thanks,
> Erin
> 
> Erin M. Hodgess, PhD
> Associate Professor
> Department of Computer and Mathematical Sciences
> University of Houston - Downtown
> mailto: hodgesse at uhd.edu
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From Mark.Grimes at mso.umt.edu  Mon Jul 23 18:55:15 2012
From: Mark.Grimes at mso.umt.edu (Grimes Mark)
Date: Mon, 23 Jul 2012 10:55:15 -0600
Subject: [R-SIG-Mac] rgl configure error: "missing required library GL"
In-Reply-To: <5005BC45.2020507@gmail.com>
References: <578B8E97-0593-4CB6-A333-AA710161C3C7@stat.ubc.ca>
	<5004B9A4.9050404@gmail.com>
	<E5A579AC-06A7-4E31-A9CE-1B3C51A4ECD4@gmail.com>
	<73282C26-F804-4281-ACA3-3302E9B4974F@stat.ubc.ca>
	<50059B6F.5060208@gmail.com>
	<70376642-2BB8-4B0C-BFFA-8D186FFAE4AC@stat.ubc.ca>
	<AAAF6448-4B79-47BE-90F2-CD8E3368586A@gmail.com>
	<5005BC45.2020507@gmail.com>
Message-ID: <9D3EECC3-FCE9-4C1E-9C78-56282B0045D3@mso.umt.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120723/d81ff2bf/attachment.pl>

From murdoch.duncan at gmail.com  Mon Jul 23 19:13:23 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Mon, 23 Jul 2012 13:13:23 -0400
Subject: [R-SIG-Mac] rgl configure error: "missing required library GL"
In-Reply-To: <9D3EECC3-FCE9-4C1E-9C78-56282B0045D3@mso.umt.edu>
References: <578B8E97-0593-4CB6-A333-AA710161C3C7@stat.ubc.ca>
	<5004B9A4.9050404@gmail.com>
	<E5A579AC-06A7-4E31-A9CE-1B3C51A4ECD4@gmail.com>
	<73282C26-F804-4281-ACA3-3302E9B4974F@stat.ubc.ca>
	<50059B6F.5060208@gmail.com>
	<70376642-2BB8-4B0C-BFFA-8D186FFAE4AC@stat.ubc.ca>
	<AAAF6448-4B79-47BE-90F2-CD8E3368586A@gmail.com>
	<5005BC45.2020507@gmail.com>
	<9D3EECC3-FCE9-4C1E-9C78-56282B0045D3@mso.umt.edu>
Message-ID: <500D8633.8030708@gmail.com>

On 23/07/2012 12:55 PM, Grimes Mark wrote:
> I wonder if this is related.  Package 'rgl' failed to load in an error
> similar to one I've had previously.  It was working for a while and
> now it is not working again.  R output attached

I think that's a different problem.  The original one in this thread 
(which should now be fixed) caused R to fail to build.  This one causes 
it to fail to run on some newer MacOSX systems.  (Newer than what I 
have, anyway.)  This is probably caused by Apple changing their API; I 
don't know a fix, but a workaround is to delete the aglrgl.so library 
mentioned in the error message.  rgl will fall back to the X11 library, 
which still works.

Duncan Murdoch

>
> Mark Grimes
>
>   > library (rgl)
> Error : .onLoad failed in loadNamespace() for 'rgl', details:
>     call: dyn.load(file, DLLpath = DLLpath, ...)
>     error: unable to load shared object '/Library/Frameworks/
> R.framework/Versions/2.15/Resources/library/rgl/libs/x86_64/aglrgl.so':
>     dlopen(/Library/Frameworks/R.framework/Versions/2.15/Resources/
> library/rgl/libs/x86_64/aglrgl.so, 6): Symbol not found:
> __ZN3gui13OSXGUIFactory12hasEventLoopEv
>     Referenced from: /Library/Frameworks/R.framework/Versions/2.15/
> Resources/library/rgl/libs/x86_64/aglrgl.so
>     Expected in: dynamic lookup
>
> Error: package/namespace load failed for ?rgl?
>   > install.packages("rgl")
> --- Please select a CRAN mirror for use in this session ---
> trying URL 'http://cran.stat.sfu.ca/bin/macosx/leopard/contrib/2.15/rgl_0.92.892.tgz'
> Content type 'application/x-gzip' length 7774197 bytes (7.4 Mb)
> opened URL
> ==================================================
> downloaded 7.4 Mb
>
>
> The downloaded binary packages are in
> 	/var/folders/p3/vs342gm97msfg0y_fsx79x880000gn/T//RtmpYZqfh1/
> downloaded_packages
>   > library(rgl)
> Error in get(Info[i, 1], envir = env) :
>     internal error -3 in R_decompress1
> Error: package/namespace load failed for ?rgl?
>   > library("rgl")
> Error in get(Info[i, 1], envir = env) :
>     internal error -3 in R_decompress1
> Error: package/namespace load failed for ?rgl?
>   > sessionInfo()
> R version 2.15.1 (2012-06-22)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] grid      splines   stats     graphics  grDevices utils
> datasets  methods   base
>
> other attached packages:
>    [1] gplots_2.11.0        KernSmooth_2.23-8    caTools_1.13
> bitops_1.0-4.1       gdata_2.11.0         gtools_2.7.0
> tsne_0.1-2           vegan_2.0-4          permute_0.7-0
> RUnit_0.4.26         bio3d_1.1-3
> [12] RCytoscape_1.6.5     XMLRPC_0.2-4         graph_1.34.0
> org.Hs.eg.db_2.7.1   RSQLite_0.11.1       DBI_0.2-5
> AnnotationDbi_1.18.1 Biobase_2.16.0       BiocGenerics_0.2.0
> adegenet_1.3-4       ade4_1.4-17
> [23] MASS_7.3-19          cluster_1.14.2       Hmisc_3.9-3
> survival_2.36-14     plyr_1.7.1
>
> loaded via a namespace (and not attached):
> [1] IRanges_1.14.4 lattice_0.20-6 RCurl_1.91-1   stats4_2.15.1
> tools_2.15.1   XML_3.9-4
>   >
>
> On Jul 17, 2012, at 1:25 PM, Duncan Murdoch wrote:
>
> > On 17/07/2012 2:33 PM, peter dalgaard wrote:
> >> On Jul 17, 2012, at 19:31 , Davor Cubranic wrote:
> >>
> >> > On 2012-07-17, at 10:05 AM, Duncan Murdoch wrote:
> >> >
> >> >> The aglrgl.so library is built from osxgui.mm and osxlib.cpp.
> >> I'd been assuming the problem was an API change in recent OSX 64
> >> bit, but maybe it's a problem with the makefiles or the compiler.
> >> If you can suggest any fixes for this, I'd appreciate it.  (The
> >> newest OSX that I have is 10.6.8.)
> >> >
> >> > BTW, I see osxgui.o being of wrong architecture during an install
> >> on 10.6.8 as well...
> >> >
> >> > But I think this is caused by object files being left in the
> >> tar.gz:
> >> >
> >> > $ tar xzf rgl_0.92.880.tar.gz
> >> > $ find rgl -name \*.o |xargs file
> >> > rgl/src/AGL/x11gui.o: Mach-O object i386
> >> > rgl/src/AGL/x11lib.o: Mach-O object i386
> >> > rgl/src/osx/osxgui.o: Mach-O object i386
> >> > rgl/src/osx/osxlib.o: Mach-O object i386
> >> >
> >> > Davor
> >>
> >> Yay, nice catch!
> >>
> >> This allows me to build an rgl that loads in R.app:
> >>
> >> tar xvfz rgl_0.92.880.tar.gz
> >> rm `find rgl -name \*.o`
> >> R64 CMD INSTALL --configure-args=--with-gl-libs=/usr/X11/lib rgl
> >>
> >> I still have some issues with the 32 bit version, but I believe
> >> those are unrelated. (MacPorts seems to be interfering....)
> >>
> >
> > Yes, nice catch indeed.   If you get the tarball from R-forge,
> > you'll get a slightly newer version, and no *.o files included. I'll
> > send that one to CRAN.
> >
> > Duncan Murdoch
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From pdalgd at gmail.com  Mon Jul 23 20:31:47 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Mon, 23 Jul 2012 20:31:47 +0200
Subject: [R-SIG-Mac] rgl configure error: "missing required library GL"
In-Reply-To: <500D8633.8030708@gmail.com>
References: <578B8E97-0593-4CB6-A333-AA710161C3C7@stat.ubc.ca>
	<5004B9A4.9050404@gmail.com>
	<E5A579AC-06A7-4E31-A9CE-1B3C51A4ECD4@gmail.com>
	<73282C26-F804-4281-ACA3-3302E9B4974F@stat.ubc.ca>
	<50059B6F.5060208@gmail.com>
	<70376642-2BB8-4B0C-BFFA-8D186FFAE4AC@stat.ubc.ca>
	<AAAF6448-4B79-47BE-90F2-CD8E3368586A@gmail.com>
	<5005BC45.2020507@gmail.com>
	<9D3EECC3-FCE9-4C1E-9C78-56282B0045D3@mso.umt.edu>
	<500D8633.8030708@gmail.com>
Message-ID: <5CC3B4A5-CD23-4730-88E5-5553580E46E6@gmail.com>


On Jul 23, 2012, at 19:13 , Duncan Murdoch wrote:

> On 23/07/2012 12:55 PM, Grimes Mark wrote:
>> I wonder if this is related.  Package 'rgl' failed to load in an error
>> similar to one I've had previously.  It was working for a while and
>> now it is not working again.  R output attached
> 
> I think that's a different problem.  The original one in this thread (which should now be fixed) caused R to fail to build.  This one causes it to fail to run on some newer MacOSX systems.  (Newer than what I have, anyway.)  This is probably caused by Apple changing their API; I don't know a fix, but a workaround is to delete the aglrgl.so library mentioned in the error message.  rgl will fall back to the X11 library, which still works.
> 

I think they are somewhat related. I managed to build an rgl package that loaded neatly into R.app and ran without requiring X (somewhat smoother than the X version, I might add). However, some attempts along the way gave symptoms with missing symbols. The generic issue seems to be that when you build the binary package, there may be warnings about missing support libraries but aglrgl.so is still created. The final step of the package build is to test whether the package can be loaded, but since the build is from the command line, the X11 route is taken, and that may well work in spite of a broken aglrgl.so. 

In my note from July 17, I mentioned that I had trouble on 32 bit, and that was exactly because some of my libs were 64 bit only. Those were MacPort builds, but I don't think it actually matters. Simon does things slightly differently, but I would conjecture that there might be a lib that is found in 32 bit only on the build machine.

- Peter

> Duncan Murdoch
> 
>> 
>> Mark Grimes
>> 
>>  > library (rgl)
>> Error : .onLoad failed in loadNamespace() for 'rgl', details:
>>    call: dyn.load(file, DLLpath = DLLpath, ...)
>>    error: unable to load shared object '/Library/Frameworks/
>> R.framework/Versions/2.15/Resources/library/rgl/libs/x86_64/aglrgl.so':
>>    dlopen(/Library/Frameworks/R.framework/Versions/2.15/Resources/
>> library/rgl/libs/x86_64/aglrgl.so, 6): Symbol not found:
>> __ZN3gui13OSXGUIFactory12hasEventLoopEv
>>    Referenced from: /Library/Frameworks/R.framework/Versions/2.15/
>> Resources/library/rgl/libs/x86_64/aglrgl.so
>>    Expected in: dynamic lookup
>> 
>> Error: package/namespace load failed for ?rgl?
>>  > install.packages("rgl")
>> --- Please select a CRAN mirror for use in this session ---
>> trying URL 'http://cran.stat.sfu.ca/bin/macosx/leopard/contrib/2.15/rgl_0.92.892.tgz'
>> Content type 'application/x-gzip' length 7774197 bytes (7.4 Mb)
>> opened URL
>> ==================================================
>> downloaded 7.4 Mb
>> 
>> 
>> The downloaded binary packages are in
>> 	/var/folders/p3/vs342gm97msfg0y_fsx79x880000gn/T//RtmpYZqfh1/
>> downloaded_packages
>>  > library(rgl)
>> Error in get(Info[i, 1], envir = env) :
>>    internal error -3 in R_decompress1
>> Error: package/namespace load failed for ?rgl?
>>  > library("rgl")
>> Error in get(Info[i, 1], envir = env) :
>>    internal error -3 in R_decompress1
>> Error: package/namespace load failed for ?rgl?
>>  > sessionInfo()
>> R version 2.15.1 (2012-06-22)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> 
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] grid      splines   stats     graphics  grDevices utils
>> datasets  methods   base
>> 
>> other attached packages:
>>   [1] gplots_2.11.0        KernSmooth_2.23-8    caTools_1.13
>> bitops_1.0-4.1       gdata_2.11.0         gtools_2.7.0
>> tsne_0.1-2           vegan_2.0-4          permute_0.7-0
>> RUnit_0.4.26         bio3d_1.1-3
>> [12] RCytoscape_1.6.5     XMLRPC_0.2-4         graph_1.34.0
>> org.Hs.eg.db_2.7.1   RSQLite_0.11.1       DBI_0.2-5
>> AnnotationDbi_1.18.1 Biobase_2.16.0       BiocGenerics_0.2.0
>> adegenet_1.3-4       ade4_1.4-17
>> [23] MASS_7.3-19          cluster_1.14.2       Hmisc_3.9-3
>> survival_2.36-14     plyr_1.7.1
>> 
>> loaded via a namespace (and not attached):
>> [1] IRanges_1.14.4 lattice_0.20-6 RCurl_1.91-1   stats4_2.15.1
>> tools_2.15.1   XML_3.9-4
>>  >
>> 
>> On Jul 17, 2012, at 1:25 PM, Duncan Murdoch wrote:
>> 
>> > On 17/07/2012 2:33 PM, peter dalgaard wrote:
>> >> On Jul 17, 2012, at 19:31 , Davor Cubranic wrote:
>> >>
>> >> > On 2012-07-17, at 10:05 AM, Duncan Murdoch wrote:
>> >> >
>> >> >> The aglrgl.so library is built from osxgui.mm and osxlib.cpp.
>> >> I'd been assuming the problem was an API change in recent OSX 64
>> >> bit, but maybe it's a problem with the makefiles or the compiler.
>> >> If you can suggest any fixes for this, I'd appreciate it.  (The
>> >> newest OSX that I have is 10.6.8.)
>> >> >
>> >> > BTW, I see osxgui.o being of wrong architecture during an install
>> >> on 10.6.8 as well...
>> >> >
>> >> > But I think this is caused by object files being left in the
>> >> tar.gz:
>> >> >
>> >> > $ tar xzf rgl_0.92.880.tar.gz
>> >> > $ find rgl -name \*.o |xargs file
>> >> > rgl/src/AGL/x11gui.o: Mach-O object i386
>> >> > rgl/src/AGL/x11lib.o: Mach-O object i386
>> >> > rgl/src/osx/osxgui.o: Mach-O object i386
>> >> > rgl/src/osx/osxlib.o: Mach-O object i386
>> >> >
>> >> > Davor
>> >>
>> >> Yay, nice catch!
>> >>
>> >> This allows me to build an rgl that loads in R.app:
>> >>
>> >> tar xvfz rgl_0.92.880.tar.gz
>> >> rm `find rgl -name \*.o`
>> >> R64 CMD INSTALL --configure-args=--with-gl-libs=/usr/X11/lib rgl
>> >>
>> >> I still have some issues with the 32 bit version, but I believe
>> >> those are unrelated. (MacPorts seems to be interfering....)
>> >>
>> >
>> > Yes, nice catch indeed.   If you get the tarball from R-forge,
>> > you'll get a slightly newer version, and no *.o files included. I'll
>> > send that one to CRAN.
>> >
>> > Duncan Murdoch
>> >
>> > _______________________________________________
>> > R-SIG-Mac mailing list
>> > R-SIG-Mac at r-project.org
>> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From murdoch.duncan at gmail.com  Mon Jul 23 20:49:15 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Mon, 23 Jul 2012 14:49:15 -0400
Subject: [R-SIG-Mac] rgl configure error: "missing required library GL"
In-Reply-To: <5CC3B4A5-CD23-4730-88E5-5553580E46E6@gmail.com>
References: <578B8E97-0593-4CB6-A333-AA710161C3C7@stat.ubc.ca>
	<5004B9A4.9050404@gmail.com>
	<E5A579AC-06A7-4E31-A9CE-1B3C51A4ECD4@gmail.com>
	<73282C26-F804-4281-ACA3-3302E9B4974F@stat.ubc.ca>
	<50059B6F.5060208@gmail.com>
	<70376642-2BB8-4B0C-BFFA-8D186FFAE4AC@stat.ubc.ca>
	<AAAF6448-4B79-47BE-90F2-CD8E3368586A@gmail.com>
	<5005BC45.2020507@gmail.com>
	<9D3EECC3-FCE9-4C1E-9C78-56282B0045D3@mso.umt.edu>
	<500D8633.8030708@gmail.com>
	<5CC3B4A5-CD23-4730-88E5-5553580E46E6@gmail.com>
Message-ID: <500D9CAB.2030705@gmail.com>

On 23/07/2012 2:31 PM, peter dalgaard wrote:
> On Jul 23, 2012, at 19:13 , Duncan Murdoch wrote:
>
> > On 23/07/2012 12:55 PM, Grimes Mark wrote:
> >> I wonder if this is related.  Package 'rgl' failed to load in an error
> >> similar to one I've had previously.  It was working for a while and
> >> now it is not working again.  R output attached
> >
> > I think that's a different problem.  The original one in this thread (which should now be fixed) caused R

That should have been "rgl to fail to build", of course...

> to fail to build.  This one causes it to fail to run on some newer MacOSX systems.  (Newer than what I have, anyway.)  This is probably caused by Apple changing their API; I don't know a fix, but a workaround is to delete the aglrgl.so library mentioned in the error message.  rgl will fall back to the X11 library, which still works.
> >
>
> I think they are somewhat related. I managed to build an rgl package that loaded neatly into R.app and ran without requiring X (somewhat smoother than the X version, I might add). However, some attempts along the way gave symptoms with missing symbols. The generic issue seems to be that when you build the binary package, there may be warnings about missing support libraries but aglrgl.so is still created. The final step of the package build is to test whether the package can be loaded, but since the build is from the command line, the X11 route is taken, and that may well work in spite of a broken aglrgl.so.
>
> In my note from July 17, I mentioned that I had trouble on 32 bit, and that was exactly because some of my libs were 64 bit only. Those were MacPort builds, but I don't think it actually matters. Simon does things slightly differently, but I would conjecture that there might be a lib that is found in 32 bit only on the build machine.

That's encouraging.  If anyone spots a change I can make to the rgl 
sources to help, please let me know.

Duncan Murdoch

>
> - Peter
>
> > Duncan Murdoch
> >
> >>
> >> Mark Grimes
> >>
> >>  > library (rgl)
> >> Error : .onLoad failed in loadNamespace() for 'rgl', details:
> >>    call: dyn.load(file, DLLpath = DLLpath, ...)
> >>    error: unable to load shared object '/Library/Frameworks/
> >> R.framework/Versions/2.15/Resources/library/rgl/libs/x86_64/aglrgl.so':
> >>    dlopen(/Library/Frameworks/R.framework/Versions/2.15/Resources/
> >> library/rgl/libs/x86_64/aglrgl.so, 6): Symbol not found:
> >> __ZN3gui13OSXGUIFactory12hasEventLoopEv
> >>    Referenced from: /Library/Frameworks/R.framework/Versions/2.15/
> >> Resources/library/rgl/libs/x86_64/aglrgl.so
> >>    Expected in: dynamic lookup
> >>
> >> Error: package/namespace load failed for ?rgl?
> >>  > install.packages("rgl")
> >> --- Please select a CRAN mirror for use in this session ---
> >> trying URL 'http://cran.stat.sfu.ca/bin/macosx/leopard/contrib/2.15/rgl_0.92.892.tgz'
> >> Content type 'application/x-gzip' length 7774197 bytes (7.4 Mb)
> >> opened URL
> >> ==================================================
> >> downloaded 7.4 Mb
> >>
> >>
> >> The downloaded binary packages are in
> >> 	/var/folders/p3/vs342gm97msfg0y_fsx79x880000gn/T//RtmpYZqfh1/
> >> downloaded_packages
> >>  > library(rgl)
> >> Error in get(Info[i, 1], envir = env) :
> >>    internal error -3 in R_decompress1
> >> Error: package/namespace load failed for ?rgl?
> >>  > library("rgl")
> >> Error in get(Info[i, 1], envir = env) :
> >>    internal error -3 in R_decompress1
> >> Error: package/namespace load failed for ?rgl?
> >>  > sessionInfo()
> >> R version 2.15.1 (2012-06-22)
> >> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> >>
> >> locale:
> >> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >>
> >> attached base packages:
> >> [1] grid      splines   stats     graphics  grDevices utils
> >> datasets  methods   base
> >>
> >> other attached packages:
> >>   [1] gplots_2.11.0        KernSmooth_2.23-8    caTools_1.13
> >> bitops_1.0-4.1       gdata_2.11.0         gtools_2.7.0
> >> tsne_0.1-2           vegan_2.0-4          permute_0.7-0
> >> RUnit_0.4.26         bio3d_1.1-3
> >> [12] RCytoscape_1.6.5     XMLRPC_0.2-4         graph_1.34.0
> >> org.Hs.eg.db_2.7.1   RSQLite_0.11.1       DBI_0.2-5
> >> AnnotationDbi_1.18.1 Biobase_2.16.0       BiocGenerics_0.2.0
> >> adegenet_1.3-4       ade4_1.4-17
> >> [23] MASS_7.3-19          cluster_1.14.2       Hmisc_3.9-3
> >> survival_2.36-14     plyr_1.7.1
> >>
> >> loaded via a namespace (and not attached):
> >> [1] IRanges_1.14.4 lattice_0.20-6 RCurl_1.91-1   stats4_2.15.1
> >> tools_2.15.1   XML_3.9-4
> >>  >
> >>
> >> On Jul 17, 2012, at 1:25 PM, Duncan Murdoch wrote:
> >>
> >> > On 17/07/2012 2:33 PM, peter dalgaard wrote:
> >> >> On Jul 17, 2012, at 19:31 , Davor Cubranic wrote:
> >> >>
> >> >> > On 2012-07-17, at 10:05 AM, Duncan Murdoch wrote:
> >> >> >
> >> >> >> The aglrgl.so library is built from osxgui.mm and osxlib.cpp.
> >> >> I'd been assuming the problem was an API change in recent OSX 64
> >> >> bit, but maybe it's a problem with the makefiles or the compiler.
> >> >> If you can suggest any fixes for this, I'd appreciate it.  (The
> >> >> newest OSX that I have is 10.6.8.)
> >> >> >
> >> >> > BTW, I see osxgui.o being of wrong architecture during an install
> >> >> on 10.6.8 as well...
> >> >> >
> >> >> > But I think this is caused by object files being left in the
> >> >> tar.gz:
> >> >> >
> >> >> > $ tar xzf rgl_0.92.880.tar.gz
> >> >> > $ find rgl -name \*.o |xargs file
> >> >> > rgl/src/AGL/x11gui.o: Mach-O object i386
> >> >> > rgl/src/AGL/x11lib.o: Mach-O object i386
> >> >> > rgl/src/osx/osxgui.o: Mach-O object i386
> >> >> > rgl/src/osx/osxlib.o: Mach-O object i386
> >> >> >
> >> >> > Davor
> >> >>
> >> >> Yay, nice catch!
> >> >>
> >> >> This allows me to build an rgl that loads in R.app:
> >> >>
> >> >> tar xvfz rgl_0.92.880.tar.gz
> >> >> rm `find rgl -name \*.o`
> >> >> R64 CMD INSTALL --configure-args=--with-gl-libs=/usr/X11/lib rgl
> >> >>
> >> >> I still have some issues with the 32 bit version, but I believe
> >> >> those are unrelated. (MacPorts seems to be interfering....)
> >> >>
> >> >
> >> > Yes, nice catch indeed.   If you get the tarball from R-forge,
> >> > you'll get a slightly newer version, and no *.o files included. I'll
> >> > send that one to CRAN.
> >> >
> >> > Duncan Murdoch
> >> >
> >> > _______________________________________________
> >> > R-SIG-Mac mailing list
> >> > R-SIG-Mac at r-project.org
> >> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>
> >>
> >
>


From pdalgd at gmail.com  Tue Jul 24 11:08:06 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 24 Jul 2012 11:08:06 +0200
Subject: [R-SIG-Mac] rgl configure error: "missing required library GL"
In-Reply-To: <500D9CAB.2030705@gmail.com>
References: <578B8E97-0593-4CB6-A333-AA710161C3C7@stat.ubc.ca>
	<5004B9A4.9050404@gmail.com>
	<E5A579AC-06A7-4E31-A9CE-1B3C51A4ECD4@gmail.com>
	<73282C26-F804-4281-ACA3-3302E9B4974F@stat.ubc.ca>
	<50059B6F.5060208@gmail.com>
	<70376642-2BB8-4B0C-BFFA-8D186FFAE4AC@stat.ubc.ca>
	<AAAF6448-4B79-47BE-90F2-CD8E3368586A@gmail.com>
	<5005BC45.2020507@gmail.com>
	<9D3EECC3-FCE9-4C1E-9C78-56282B0045D3@mso.umt.edu>
	<500D8633.8030708@gmail.com>
	<5CC3B4A5-CD23-4730-88E5-5553580E46E6@gmail.com>
	<500D9CAB.2030705@gmail.com>
Message-ID: <EB70B1E9-0D5D-45F7-A91E-3549B8A6A9C1@gmail.com>


On Jul 23, 2012, at 20:49 , Duncan Murdoch wrote:

> On 23/07/2012 2:31 PM, peter dalgaard wrote:
>> On Jul 23, 2012, at 19:13 , Duncan Murdoch wrote:
>> 
>> > On 23/07/2012 12:55 PM, Grimes Mark wrote:
>> >> I wonder if this is related.  Package 'rgl' failed to load in an error
>> >> similar to one I've had previously.  It was working for a while and
>> >> now it is not working again.  R output attached
>> >
>> > I think that's a different problem.  The original one in this thread (which should now be fixed) caused R
> 
> That should have been "rgl to fail to build", of course...
> 
>> to fail to build.  This one causes it to fail to run on some newer MacOSX systems.  (Newer than what I have, anyway.)  This is probably caused by Apple changing their API; I don't know a fix, but a workaround is to delete the aglrgl.so library mentioned in the error message.  rgl will fall back to the X11 library, which still works.
>> >
>> 
>> I think they are somewhat related. I managed to build an rgl package that loaded neatly into R.app and ran without requiring X (somewhat smoother than the X version, I might add). However, some attempts along the way gave symptoms with missing symbols. The generic issue seems to be that when you build the binary package, there may be warnings about missing support libraries but aglrgl.so is still created. The final step of the package build is to test whether the package can be loaded, but since the build is from the command line, the X11 route is taken, and that may well work in spite of a broken aglrgl.so.
>> 
>> In my note from July 17, I mentioned that I had trouble on 32 bit, and that was exactly because some of my libs were 64 bit only. Those were MacPort builds, but I don't think it actually matters. Simon does things slightly differently, but I would conjecture that there might be a lib that is found in 32 bit only on the build machine.
> 
> That's encouraging.  If anyone spots a change I can make to the rgl sources to help, please let me know.
> 

Digging a little deeper, the missing __ZN.*hasEventLoopEv symbol is supposed to be defined in osxgui.o, so when it is undefined in the installed aglrgl.so on one architecture, it is likely that R CMD SHLIB got confused by a pre-existing osxgui.o of another architecture. I.e., this symptom is probably caused exactly by the packaging issue that Davor caught, and might well have disappeared all by itself by now, as the binary package has been rebuilt from a cleaned tarball. 

The issue with support libs is still there, the symptoms are similar, but the missing symbol will be different. I've seen that with freetype. The root cause of it all is that aglrgl.so is never test-loaded (because command-line R has .Platform$GUI=="X11"), but I'm at a loss as to how you can stage that.


>> >> __ZN3gui13OSXGUIFactory12hasEventLoopEv
>> >>    Referenced from: /Library/Frameworks/R.framework/Versions/2.15/

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From bibiko at eva.mpg.de  Tue Jul 31 14:41:20 2012
From: bibiko at eva.mpg.de (=?iso-8859-1?Q?Hans-J=F6rg_Bibiko?=)
Date: Tue, 31 Jul 2012 14:41:20 +0200
Subject: [R-SIG-Mac] block selection
In-Reply-To: <474C6C48-5F5D-461F-AFA7-DE7C36B03AB5@comcast.net>
References: <CAKv7XV4w0wDkzjCCoag6-hOXg6iXSc=R_XF+f3iop_6SL1BjTQ@mail.gmail.com>
	<474C6C48-5F5D-461F-AFA7-DE7C36B03AB5@comcast.net>
Message-ID: <F33142F1-3868-48F6-AC5A-C60700BCEBBC@eva.mpg.de>

Hi,

this 'tricky bug' was fixed and will be part of the next release. (Of course it's already available at the nightly built).

Cheers,
--Hans

From kubovy at virginia.edu  Fri Jul 13 10:29:27 2012
From: kubovy at virginia.edu (Michael Kubovy)
Date: Fri, 13 Jul 2012 08:29:27 -0000
Subject: [R-SIG-Mac] rgl broken with  2.15.1?
In-Reply-To: <A54019B7-B2F1-4CDE-89D0-A3CAB65EE06A@gmail.com>
References: <87AA4947-F0A0-448F-9FA4-C56477F25582@virginia.edu>
	<A54019B7-B2F1-4CDE-89D0-A3CAB65EE06A@gmail.com>
Message-ID: <45678308-86DB-4977-B04C-A77C5FDB16C5@virginia.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120713/dc621219/attachment.pl>

From ychandra.logic at gmail.com  Fri Jul 13 23:08:46 2012
From: ychandra.logic at gmail.com (Yanto Chandra)
Date: Fri, 13 Jul 2012 21:08:46 -0000
Subject: [R-SIG-Mac] Need help urgently
Message-ID: <CAHEFVNxKz3-gNP0ioQF7UMs5X-t0gRpSmgZzvZxuhv5nA+DC0w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120713/5cdef1b9/attachment.pl>

