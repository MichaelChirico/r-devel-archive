From jodonnellbio at gmail.com  Tue Apr  1 03:47:26 2014
From: jodonnellbio at gmail.com (Jimmy O'Donnell)
Date: Mon, 31 Mar 2014 18:47:26 -0700
Subject: [R-SIG-Mac] =?iso-8859-1?q?Strange_behavior_of_R_window_when_swit?=
	=?iso-8859-1?q?ching_using_Mission_Control_/_Expos=E9?=
Message-ID: <CADZ-pxyoRqZ6qfSweuMGr23tKSrCKLuaxordxeOjMsou-Zwnjw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140331/a41df76e/attachment.pl>

From bhive01 at gmail.com  Tue Apr  1 07:11:46 2014
From: bhive01 at gmail.com (Brandon Hurr)
Date: Tue, 1 Apr 2014 06:11:46 +0100
Subject: [R-SIG-Mac]
	=?iso-8859-1?q?Strange_behavior_of_R_window_when_swit?=
	=?iso-8859-1?q?ching_using_Mission_Control_/_Expos=E9?=
In-Reply-To: <CADZ-pxyoRqZ6qfSweuMGr23tKSrCKLuaxordxeOjMsou-Zwnjw@mail.gmail.com>
References: <CADZ-pxyoRqZ6qfSweuMGr23tKSrCKLuaxordxeOjMsou-Zwnjw@mail.gmail.com>
Message-ID: <CAG2OMvsyQmAHJJTzibRuYebhjDzCV0rVGEKK-Knpz7ebOu5hVw@mail.gmail.com>

I can confirm this behavior on my mac since at least R 2.11.0, OS X
10.6.8 to 10.9.2. It's been driving me nuts. The window is actually in
the front and you can type in it, but you can't see it until you do
expose a second time or click on the window.

On Tue, Apr 1, 2014 at 2:47 AM, Jimmy O'Donnell <jodonnellbio at gmail.com> wrote:
> Hi all,
>
> When I have another application window active (say Chrome), and then use
> Mission Control/Expos? to show all windows, then click on any R window, the
> R window comes to the front for half of a second and then goes behind other
> application windows. This has plagued me across updates of both R and MacOS
> for years. I am currently running Mavericks (10.9.2) on a 2012 MacBook Pro,
> but experienced the same issue since I started using R on a Leopard and
> then Snow Leopard (10.6.8) based 2008 Macbook. Over the last few years I
> have searched many times for a solution, but the best I could do was find
> someone else who had the same problem:
> http://grokbase.com/t/r/r-sig-mac/108fez79s0/window-prioritization-after-using-expos%C3%A9
>
> I uploaded a video of the (mostly) reproducible behavior in case my
> description is ambiguous. Here:
> https://www.youtube.com/watch?v=O46LiTniq8Q&feature=youtu.be
>
> Has anyone else experienced or resolved this issue? Any helpful clues would
> be much appreciated.
>
> Thanks!
>
> Jimmy
>
>         [[alternative HTML version deleted]]
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From Carl.Witthoft at utas.utc.com  Tue Apr  1 13:20:55 2014
From: Carl.Witthoft at utas.utc.com (Witthoft, Carl G UTAS)
Date: Tue, 1 Apr 2014 11:20:55 +0000
Subject: [R-SIG-Mac] [External] R-SIG-Mac Digest, Vol 134, Issue 1
In-Reply-To: <mailman.21.1396346408.18901.r-sig-mac@r-project.org>
References: <mailman.21.1396346408.18901.r-sig-mac@r-project.org>
Message-ID: <2DBCC16CE4CA8C468AAEF0DF346612381E2D169C@NHC0EX59.goodrich.root.local>

I've seen this happen with arbitrary windows belonging to arbitrary apps,  so it may not be an R.app-specific bug.   In the grand scheme of things (i.e., 'hey, at least it's not Windows8!!),  I view this as a minor annoyance.

______________________________________
Carl Witthoft, Systems Engineer
ISR Systems / United Technologies Aerospace Systems
 Westford MA
  978.490.2853   


-----Original Message-----

   1.  Strange behavior of R window when switching using Mission
      Control / Expos? (Jimmy O'Donnell)
Date: Mon, 31 Mar 2014 18:47:26 -0700
From: "Jimmy O'Donnell" <jodonnellbio at gmail.com>
To: r-sig-mac at r-project.org
Subject: [R-SIG-Mac] Strange behavior of R window when switching using
	Mission Control / Expos?
Message-ID:
	<CADZ-pxyoRqZ6qfSweuMGr23tKSrCKLuaxordxeOjMsou-Zwnjw at mail.gmail.com>
Content-Type: text/plain

Hi all,

When I have another application window active (say Chrome), and then use Mission Control/Expos? to show all windows, then click on any R window, the R window comes to the front for half of a second and then goes behind other application windows. This has plagued me across updates of both R and MacOS for years. I am currently running Mavericks (10.9.2) on a 2012 MacBook Pro, but experienced the same issue since I started using R on a Leopard and then Snow Leopard (10.6.8) based 2008 Macbook. Over the last few years I have searched many times for a solution, but the best I could do was find someone else who had the same problem:
http://grokbase.com/t/r/r-sig-mac/108fez79s0/window-prioritization-after-using-expos%C3%A9

I uploaded a video of the (mostly) reproducible behavior in case my description is ambiguous. Here:
https://www.youtube.com/watch?v=O46LiTniq8Q&feature=youtu.be

Has anyone else experienced or resolved this issue? Any helpful clues would be much appreciated.

Thanks!

Jimmy


From dmck at u.washington.edu  Thu Apr  3 02:48:29 2014
From: dmck at u.washington.edu (Don McKenzie)
Date: Wed, 2 Apr 2014 17:48:29 -0700
Subject: [R-SIG-Mac] [R-sig-mac] trouble with point in polyhedron computation
Message-ID: <B322950D-2A9A-4A2A-8F74-7FD562547299@u.washington.edu>

I have a 3D ordination with two groups, and want to identify the points in one group that lie within the 3D convex hull of the other. I would appreciate any enlightenment about why the command at the end (below in a toy example) crashes R when I try to ID the points in the hull using pip3d(), from package ptinpoly. convhulln() is from package geometry.  Have I not supplied the right ?Faces? argument to pip3d()?

The objects are not large and are reproduced at the bottom of this message.

Thanks

------------------------
> sessionInfo()
R version 3.0.3 (2014-03-06)
Platform: x86_64-apple-darwin10.8.0 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] ptinpoly_2.0   misc3d_0.8-4   geometry_0.3-4 magic_1.5-6    abind_1.4-0   

loaded via a namespace (and not attached):
[1] tools_3.0.3

??

> set1 <- matrix(rnorm(99),ncol=3)
> ch1 <- convhulln(set1)

Output completed.  Verifying that all points are below outer planes of
all facets.  Will make 594 distance computations.

> set2 <- matrix(rnorm(33)/2,ncol=3)

> temp.out <- pip3d(set1,ch1,set2)

R CRASHES HERE

----------------------------------


Don McKenzie
Research Ecologist
Pacific Wildland Fire Sciences Lab
US Forest Service

Affiliate Professor
School of Environmental and Forest Sciences
University of Washington
dmck at uw.edu



????????????????

set1
             [,1]        [,2]        [,3]
 [1,] -0.36381788  0.96624676 -1.09251167
 [2,] -1.09242946 -0.82002293  0.42005666
 [3,]  0.93852498  1.18059117 -0.34816811
 [4,] -0.77413132  1.06018374 -0.37589340
 [5,] -1.67759103 -1.52469985  0.85310979
 [6,]  0.81729494 -0.18900503  0.83172169
 [7,]  0.30546957  0.97549183 -1.30815121
 [8,]  0.22201517 -0.38260850 -0.05412764
 [9,]  0.48817331  1.30314678  0.19143994
[10,]  1.89836307 -0.34575059  0.55599170
[11,]  0.20776401  0.04977816 -0.78034565
[12,] -0.76819740  0.24554574  0.40398017
[13,]  0.38369531  1.07688341 -0.22686023
[14,]  0.31806928  1.15482656 -0.99259846
[15,]  1.07142182 -1.03495199 -0.15650968
[16,] -1.24667302 -0.35217160  0.71090188
[17,] -0.92079326 -1.44075490 -0.42838857
[18,]  0.16907840  0.37587569  1.34994069
[19,]  0.50947015  1.81852997 -1.83315646
[20,]  0.52015187  1.56904146  0.90679914
[21,] -0.04261864 -1.22145642  0.51953397
[22,] -0.86611946 -1.21106313 -0.86571463
[23,] -0.13147715  0.07893287  0.83513033
[24,] -0.63488792 -0.89396994  0.70103420
[25,] -0.11370015  2.00351619 -0.17652412
[26,] -1.04527261 -0.14570830  1.64893662
[27,]  0.46238598 -0.07990767  0.16431874
[28,] -0.72396505  1.45081393 -0.91068823
[29,] -0.48892499 -1.05289633  1.36531224
[30,]  1.83781721  1.50964339  1.85100986
[31,]  1.00023790 -0.92779325 -2.16783507
[32,] -0.51429532 -1.44766548 -1.41456589
[33,] -0.93249545 -0.21845332  0.75023990

> ch1
      [,1] [,2] [,3]
 [1,]   15   31   10
 [2,]   29   30   10
 [3,]   29   15   10
 [4,]   26   28   25
 [5,]   26   29    5
 [6,]   26   29   30
 [7,]   32   15   31
 [8,]   19   28   25
 [9,]   19   32   31
[10,]   19   32   28
[11,]   19   30   25
[12,]   19   31   10
[13,]   19   30   10
[14,]   21   29    5
[15,]   21   29   15
[16,]   21   32    5
[17,]   21   32   15
[18,]   20   30   25
[19,]   20   26   25
[20,]   20   26   30
[21,]   16   28    5
[22,]   16   26    5
[23,]   16   26   28
[24,]   22   28    5
[25,]   22   32    5
[26,]   22   32   28

> set2
              [,1]         [,2]        [,3]
 [1,]  0.061298933  0.561676607 -0.29029312
 [2,] -0.227292687  0.980185118  0.21751216
 [3,]  0.182482967  0.913803801 -0.08308208
 [4,] -0.143596376 -0.007469921 -0.33050543
 [5,] -0.354096826  0.023132113  0.45463150
 [6,]  0.006247011  0.183155253  0.97496500
 [7,]  0.128600720 -0.249603537 -0.24710206
 [8,] -0.418782299 -0.325201099  0.28908138
 [9,]  0.231829464  0.343250895  0.65134735
[10,] -0.392597726  0.126741875  0.21411363
[11,] -0.051290704 -1.007826669  0.92808143


From ripley at stats.ox.ac.uk  Thu Apr  3 06:11:05 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 03 Apr 2014 05:11:05 +0100
Subject: [R-SIG-Mac] [R-sig-mac] trouble with point in polyhedron
	computation
In-Reply-To: <B322950D-2A9A-4A2A-8F74-7FD562547299@u.washington.edu>
References: <B322950D-2A9A-4A2A-8F74-7FD562547299@u.washington.edu>
Message-ID: <533CDF59.3080807@stats.ox.ac.uk>

Package ptinpoly has generated hangs/segfaults in its checks for years, 
across platforms.  That is why there are all the exclusions at 
http://cran.r-project.org/web/checks/check_results_ptinpoly.html .

On 03/04/2014 01:48, Don McKenzie wrote:
> I have a 3D ordination with two groups, and want to identify the points in one group that lie within the 3D convex hull of the other. I would appreciate any enlightenment about why the command at the end (below in a toy example) crashes R when I try to ID the points in the hull using pip3d(), from package ptinpoly. convhulln() is from package geometry.  Have I not supplied the right ?Faces? argument to pip3d()?
>
> The objects are not large and are reproduced at the bottom of this message.
>
> Thanks
>
> ------------------------
>> sessionInfo()
> R version 3.0.3 (2014-03-06)
> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] ptinpoly_2.0   misc3d_0.8-4   geometry_0.3-4 magic_1.5-6    abind_1.4-0
>
> loaded via a namespace (and not attached):
> [1] tools_3.0.3
>
> ??
>
>> set1 <- matrix(rnorm(99),ncol=3)
>> ch1 <- convhulln(set1)
>
> Output completed.  Verifying that all points are below outer planes of
> all facets.  Will make 594 distance computations.
>
>> set2 <- matrix(rnorm(33)/2,ncol=3)
>
>> temp.out <- pip3d(set1,ch1,set2)
>
> R CRASHES HERE
>
> ----------------------------------
>
>
> Don McKenzie
> Research Ecologist
> Pacific Wildland Fire Sciences Lab
> US Forest Service
>
> Affiliate Professor
> School of Environmental and Forest Sciences
> University of Washington
> dmck at uw.edu
>
>
>
> ????????????????
>
> set1
>               [,1]        [,2]        [,3]
>   [1,] -0.36381788  0.96624676 -1.09251167
>   [2,] -1.09242946 -0.82002293  0.42005666
>   [3,]  0.93852498  1.18059117 -0.34816811
>   [4,] -0.77413132  1.06018374 -0.37589340
>   [5,] -1.67759103 -1.52469985  0.85310979
>   [6,]  0.81729494 -0.18900503  0.83172169
>   [7,]  0.30546957  0.97549183 -1.30815121
>   [8,]  0.22201517 -0.38260850 -0.05412764
>   [9,]  0.48817331  1.30314678  0.19143994
> [10,]  1.89836307 -0.34575059  0.55599170
> [11,]  0.20776401  0.04977816 -0.78034565
> [12,] -0.76819740  0.24554574  0.40398017
> [13,]  0.38369531  1.07688341 -0.22686023
> [14,]  0.31806928  1.15482656 -0.99259846
> [15,]  1.07142182 -1.03495199 -0.15650968
> [16,] -1.24667302 -0.35217160  0.71090188
> [17,] -0.92079326 -1.44075490 -0.42838857
> [18,]  0.16907840  0.37587569  1.34994069
> [19,]  0.50947015  1.81852997 -1.83315646
> [20,]  0.52015187  1.56904146  0.90679914
> [21,] -0.04261864 -1.22145642  0.51953397
> [22,] -0.86611946 -1.21106313 -0.86571463
> [23,] -0.13147715  0.07893287  0.83513033
> [24,] -0.63488792 -0.89396994  0.70103420
> [25,] -0.11370015  2.00351619 -0.17652412
> [26,] -1.04527261 -0.14570830  1.64893662
> [27,]  0.46238598 -0.07990767  0.16431874
> [28,] -0.72396505  1.45081393 -0.91068823
> [29,] -0.48892499 -1.05289633  1.36531224
> [30,]  1.83781721  1.50964339  1.85100986
> [31,]  1.00023790 -0.92779325 -2.16783507
> [32,] -0.51429532 -1.44766548 -1.41456589
> [33,] -0.93249545 -0.21845332  0.75023990
>
>> ch1
>        [,1] [,2] [,3]
>   [1,]   15   31   10
>   [2,]   29   30   10
>   [3,]   29   15   10
>   [4,]   26   28   25
>   [5,]   26   29    5
>   [6,]   26   29   30
>   [7,]   32   15   31
>   [8,]   19   28   25
>   [9,]   19   32   31
> [10,]   19   32   28
> [11,]   19   30   25
> [12,]   19   31   10
> [13,]   19   30   10
> [14,]   21   29    5
> [15,]   21   29   15
> [16,]   21   32    5
> [17,]   21   32   15
> [18,]   20   30   25
> [19,]   20   26   25
> [20,]   20   26   30
> [21,]   16   28    5
> [22,]   16   26    5
> [23,]   16   26   28
> [24,]   22   28    5
> [25,]   22   32    5
> [26,]   22   32   28
>
>> set2
>                [,1]         [,2]        [,3]
>   [1,]  0.061298933  0.561676607 -0.29029312
>   [2,] -0.227292687  0.980185118  0.21751216
>   [3,]  0.182482967  0.913803801 -0.08308208
>   [4,] -0.143596376 -0.007469921 -0.33050543
>   [5,] -0.354096826  0.023132113  0.45463150
>   [6,]  0.006247011  0.183155253  0.97496500
>   [7,]  0.128600720 -0.249603537 -0.24710206
>   [8,] -0.418782299 -0.325201099  0.28908138
>   [9,]  0.231829464  0.343250895  0.65134735
> [10,] -0.392597726  0.126741875  0.21411363
> [11,] -0.051290704 -1.007826669  0.92808143
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From dmck at u.washington.edu  Thu Apr  3 07:38:16 2014
From: dmck at u.washington.edu (Don McKenzie)
Date: Wed, 2 Apr 2014 22:38:16 -0700
Subject: [R-SIG-Mac] [R-sig-mac] trouble with point in polyhedron
	computation
In-Reply-To: <533CDF59.3080807@stats.ox.ac.uk>
References: <B322950D-2A9A-4A2A-8F74-7FD562547299@u.washington.edu>
	<533CDF59.3080807@stats.ox.ac.uk>
Message-ID: <670D7A1F-D441-4F2A-A482-665454CA358E@u.washington.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140402/ef3de7b2/attachment.pl>

From agustin.diez at uv.es  Thu Apr  3 11:25:58 2014
From: agustin.diez at uv.es (Agustin Angel Diez Castillo)
Date: Thu, 03 Apr 2014 11:25:58 +0200
Subject: [R-SIG-Mac]
	=?utf-8?q?=5BR-sig-mac=5D_trouble_with_point_in_polyh?=
	=?utf-8?q?edron=09computation?=
In-Reply-To: <670D7A1F-D441-4F2A-A482-665454CA358E@u.washington.edu>
Message-ID: <972-533d2900-9-7971fe80@205000877>

Hi,
If i got it right, the original question can be addressed somewhat with inashape3d (alphashape3d package), something like:
library(alphashape3d)
set1 <- matrix(rnorm(333)/2,ncol=3)
plot3d(set1)
ashape3d.obj <- ashape3d(set1, alpha = 2)
set2 <- matrix(rnorm(33)/2,ncol=3)
in3d <- inashape3d(ashape3d.obj, points = set2)
plot(ashape3d.obj, transparency = 0.2)
rgl.points(points[in3d,], col ="blue")

On Thursday, April 3, 2014 07:38 CEST, Don McKenzie <dmck at u.washington.edu> wrote: 
 
> Thank you for the pointer.  That?s quite a list, and I expect I will have to concede defeat, lacking the skill set to adapt my use of the package.
> 
> On Apr 2, 2014, at 9:11 PM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> 
> > Package ptinpoly has generated hangs/segfaults in its checks for years, across platforms.  That is why there are all the exclusions at http://cran.r-project.org/web/checks/check_results_ptinpoly.html .
> > 
> > On 03/04/2014 01:48, Don McKenzie wrote:
> >> I have a 3D ordination with two groups, and want to identify the points in one group that lie within the 3D convex hull of the other. I would appreciate any enlightenment about why the command at the end (below in a toy example) crashes R when I try to ID the points in the hull using pip3d(), from package ptinpoly. convhulln() is from package geometry.  Have I not supplied the right ?Faces? argument to pip3d()?
> >> 
> >> The objects are not large and are reproduced at the bottom of this message.
> >> 
> >> Thanks
> >> 
> >> ------------------------
> >>> sessionInfo()
> >> R version 3.0.3 (2014-03-06)
> >> Platform: x86_64-apple-darwin10.8.0 (64-bit)
> >> 
> >> locale:
> >> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >> 
> >> attached base packages:
> >> [1] stats     graphics  grDevices utils     datasets  methods   base
> >> 
> >> other attached packages:
> >> [1] ptinpoly_2.0   misc3d_0.8-4   geometry_0.3-4 magic_1.5-6    abind_1.4-0
> >> 
> >> loaded via a namespace (and not attached):
> >> [1] tools_3.0.3
> >> 
> >> ??
> >> 
> >>> set1 <- matrix(rnorm(99),ncol=3)
> >>> ch1 <- convhulln(set1)
> >> 
> >> Output completed.  Verifying that all points are below outer planes of
> >> all facets.  Will make 594 distance computations.
> >> 
> >>> set2 <- matrix(rnorm(33)/2,ncol=3)
> >> 
> >>> temp.out <- pip3d(set1,ch1,set2)
> >> 
> >> R CRASHES HERE
> >> 
> >> ----------------------------------
> >> 
> >> 
> >> Don McKenzie
> >> Research Ecologist
> >> Pacific Wildland Fire Sciences Lab
> >> US Forest Service
> >> 
> >> Affiliate Professor
> >> School of Environmental and Forest Sciences
> >> University of Washington
> >> dmck at uw.edu
> >> 
> >> 
> >> 
> >> ????????????????
> >> 
> >> set1
> >>              [,1]        [,2]        [,3]
> >>  [1,] -0.36381788  0.96624676 -1.09251167
> >>  [2,] -1.09242946 -0.82002293  0.42005666
> >>  [3,]  0.93852498  1.18059117 -0.34816811
> >>  [4,] -0.77413132  1.06018374 -0.37589340
> >>  [5,] -1.67759103 -1.52469985  0.85310979
> >>  [6,]  0.81729494 -0.18900503  0.83172169
> >>  [7,]  0.30546957  0.97549183 -1.30815121
> >>  [8,]  0.22201517 -0.38260850 -0.05412764
> >>  [9,]  0.48817331  1.30314678  0.19143994
> >> [10,]  1.89836307 -0.34575059  0.55599170
> >> [11,]  0.20776401  0.04977816 -0.78034565
> >> [12,] -0.76819740  0.24554574  0.40398017
> >> [13,]  0.38369531  1.07688341 -0.22686023
> >> [14,]  0.31806928  1.15482656 -0.99259846
> >> [15,]  1.07142182 -1.03495199 -0.15650968
> >> [16,] -1.24667302 -0.35217160  0.71090188
> >> [17,] -0.92079326 -1.44075490 -0.42838857
> >> [18,]  0.16907840  0.37587569  1.34994069
> >> [19,]  0.50947015  1.81852997 -1.83315646
> >> [20,]  0.52015187  1.56904146  0.90679914
> >> [21,] -0.04261864 -1.22145642  0.51953397
> >> [22,] -0.86611946 -1.21106313 -0.86571463
> >> [23,] -0.13147715  0.07893287  0.83513033
> >> [24,] -0.63488792 -0.89396994  0.70103420
> >> [25,] -0.11370015  2.00351619 -0.17652412
> >> [26,] -1.04527261 -0.14570830  1.64893662
> >> [27,]  0.46238598 -0.07990767  0.16431874
> >> [28,] -0.72396505  1.45081393 -0.91068823
> >> [29,] -0.48892499 -1.05289633  1.36531224
> >> [30,]  1.83781721  1.50964339  1.85100986
> >> [31,]  1.00023790 -0.92779325 -2.16783507
> >> [32,] -0.51429532 -1.44766548 -1.41456589
> >> [33,] -0.93249545 -0.21845332  0.75023990
> >> 
> >>> ch1
> >>       [,1] [,2] [,3]
> >>  [1,]   15   31   10
> >>  [2,]   29   30   10
> >>  [3,]   29   15   10
> >>  [4,]   26   28   25
> >>  [5,]   26   29    5
> >>  [6,]   26   29   30
> >>  [7,]   32   15   31
> >>  [8,]   19   28   25
> >>  [9,]   19   32   31
> >> [10,]   19   32   28
> >> [11,]   19   30   25
> >> [12,]   19   31   10
> >> [13,]   19   30   10
> >> [14,]   21   29    5
> >> [15,]   21   29   15
> >> [16,]   21   32    5
> >> [17,]   21   32   15
> >> [18,]   20   30   25
> >> [19,]   20   26   25
> >> [20,]   20   26   30
> >> [21,]   16   28    5
> >> [22,]   16   26    5
> >> [23,]   16   26   28
> >> [24,]   22   28    5
> >> [25,]   22   32    5
> >> [26,]   22   32   28
> >> 
> >>> set2
> >>               [,1]         [,2]        [,3]
> >>  [1,]  0.061298933  0.561676607 -0.29029312
> >>  [2,] -0.227292687  0.980185118  0.21751216
> >>  [3,]  0.182482967  0.913803801 -0.08308208
> >>  [4,] -0.143596376 -0.007469921 -0.33050543
> >>  [5,] -0.354096826  0.023132113  0.45463150
> >>  [6,]  0.006247011  0.183155253  0.97496500
> >>  [7,]  0.128600720 -0.249603537 -0.24710206
> >>  [8,] -0.418782299 -0.325201099  0.28908138
> >>  [9,]  0.231829464  0.343250895  0.65134735
> >> [10,] -0.392597726  0.126741875  0.21411363
> >> [11,] -0.051290704 -1.007826669  0.92808143
> >> 
> >> _______________________________________________
> >> R-SIG-Mac mailing list
> >> R-SIG-Mac at r-project.org
> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >> 
> > 
> > 
> > -- 
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> > University of Oxford,             Tel:  +44 1865 272861 (self)
> > 1 South Parks Road,                     +44 1865 272866 (PA)
> > Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> Don McKenzie
> Research Ecologist
> Pacific Wildland Fire Sciences Lab
> US Forest Service
> 
> Affiliate Professor
> School of Environmental and Forest Sciences
> University of Washington
> dmck at uw.edu
> 
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
>


From dmck at u.washington.edu  Thu Apr  3 15:54:39 2014
From: dmck at u.washington.edu (Don McKenzie)
Date: Thu, 3 Apr 2014 06:54:39 -0700
Subject: [R-SIG-Mac] [R-sig-mac] trouble with point in
	polyhedron	computation
In-Reply-To: <972-533d2900-9-7971fe80@205000877>
References: <972-533d2900-9-7971fe80@205000877>
Message-ID: <C81F1731-60C4-4BE7-A5D7-AF61C7B3E9FB@u.washington.edu>

Thanks Augustin.  I will give that a try.

Don

On Apr 3, 2014, at 2:25 AM, Agustin Angel Diez Castillo <agustin.diez at uv.es> wrote:

> Hi,
> If i got it right, the original question can be addressed somewhat with inashape3d (alphashape3d package), something like:
> library(alphashape3d)
> set1 <- matrix(rnorm(333)/2,ncol=3)
> plot3d(set1)
> ashape3d.obj <- ashape3d(set1, alpha = 2)
> set2 <- matrix(rnorm(33)/2,ncol=3)
> in3d <- inashape3d(ashape3d.obj, points = set2)
> plot(ashape3d.obj, transparency = 0.2)
> rgl.points(points[in3d,], col ="blue")
> 
> On Thursday, April 3, 2014 07:38 CEST, Don McKenzie <dmck at u.washington.edu> wrote: 
> 
>> Thank you for the pointer.  That?s quite a list, and I expect I will have to concede defeat, lacking the skill set to adapt my use of the package.
>> 
>> On Apr 2, 2014, at 9:11 PM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>> 
>>> Package ptinpoly has generated hangs/segfaults in its checks for years, across platforms.  That is why there are all the exclusions at http://cran.r-project.org/web/checks/check_results_ptinpoly.html .
>>> 
>>> On 03/04/2014 01:48, Don McKenzie wrote:
>>>> I have a 3D ordination with two groups, and want to identify the points in one group that lie within the 3D convex hull of the other. I would appreciate any enlightenment about why the command at the end (below in a toy example) crashes R when I try to ID the points in the hull using pip3d(), from package ptinpoly. convhulln() is from package geometry.  Have I not supplied the right ?Faces? argument to pip3d()?
>>>> 
>>>> The objects are not large and are reproduced at the bottom of this message.
>>>> 
>>>> Thanks
>>>> 
>>>> ------------------------
>>>>> sessionInfo()
>>>> R version 3.0.3 (2014-03-06)
>>>> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>>>> 
>>>> locale:
>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>> 
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>> 
>>>> other attached packages:
>>>> [1] ptinpoly_2.0   misc3d_0.8-4   geometry_0.3-4 magic_1.5-6    abind_1.4-0
>>>> 
>>>> loaded via a namespace (and not attached):
>>>> [1] tools_3.0.3
>>>> 
>>>> ??
>>>> 
>>>>> set1 <- matrix(rnorm(99),ncol=3)
>>>>> ch1 <- convhulln(set1)
>>>> 
>>>> Output completed.  Verifying that all points are below outer planes of
>>>> all facets.  Will make 594 distance computations.
>>>> 
>>>>> set2 <- matrix(rnorm(33)/2,ncol=3)
>>>> 
>>>>> temp.out <- pip3d(set1,ch1,set2)
>>>> 
>>>> R CRASHES HERE
>>>> 
>>>> ----------------------------------
>>>> 
>>>> 
>>>> Don McKenzie
>>>> Research Ecologist
>>>> Pacific Wildland Fire Sciences Lab
>>>> US Forest Service
>>>> 
>>>> Affiliate Professor
>>>> School of Environmental and Forest Sciences
>>>> University of Washington
>>>> dmck at uw.edu
>>>> 
>>>> 
>>>> 
>>>> ????????????????
>>>> 
>>>> set1
>>>>             [,1]        [,2]        [,3]
>>>> [1,] -0.36381788  0.96624676 -1.09251167
>>>> [2,] -1.09242946 -0.82002293  0.42005666
>>>> [3,]  0.93852498  1.18059117 -0.34816811
>>>> [4,] -0.77413132  1.06018374 -0.37589340
>>>> [5,] -1.67759103 -1.52469985  0.85310979
>>>> [6,]  0.81729494 -0.18900503  0.83172169
>>>> [7,]  0.30546957  0.97549183 -1.30815121
>>>> [8,]  0.22201517 -0.38260850 -0.05412764
>>>> [9,]  0.48817331  1.30314678  0.19143994
>>>> [10,]  1.89836307 -0.34575059  0.55599170
>>>> [11,]  0.20776401  0.04977816 -0.78034565
>>>> [12,] -0.76819740  0.24554574  0.40398017
>>>> [13,]  0.38369531  1.07688341 -0.22686023
>>>> [14,]  0.31806928  1.15482656 -0.99259846
>>>> [15,]  1.07142182 -1.03495199 -0.15650968
>>>> [16,] -1.24667302 -0.35217160  0.71090188
>>>> [17,] -0.92079326 -1.44075490 -0.42838857
>>>> [18,]  0.16907840  0.37587569  1.34994069
>>>> [19,]  0.50947015  1.81852997 -1.83315646
>>>> [20,]  0.52015187  1.56904146  0.90679914
>>>> [21,] -0.04261864 -1.22145642  0.51953397
>>>> [22,] -0.86611946 -1.21106313 -0.86571463
>>>> [23,] -0.13147715  0.07893287  0.83513033
>>>> [24,] -0.63488792 -0.89396994  0.70103420
>>>> [25,] -0.11370015  2.00351619 -0.17652412
>>>> [26,] -1.04527261 -0.14570830  1.64893662
>>>> [27,]  0.46238598 -0.07990767  0.16431874
>>>> [28,] -0.72396505  1.45081393 -0.91068823
>>>> [29,] -0.48892499 -1.05289633  1.36531224
>>>> [30,]  1.83781721  1.50964339  1.85100986
>>>> [31,]  1.00023790 -0.92779325 -2.16783507
>>>> [32,] -0.51429532 -1.44766548 -1.41456589
>>>> [33,] -0.93249545 -0.21845332  0.75023990
>>>> 
>>>>> ch1
>>>>      [,1] [,2] [,3]
>>>> [1,]   15   31   10
>>>> [2,]   29   30   10
>>>> [3,]   29   15   10
>>>> [4,]   26   28   25
>>>> [5,]   26   29    5
>>>> [6,]   26   29   30
>>>> [7,]   32   15   31
>>>> [8,]   19   28   25
>>>> [9,]   19   32   31
>>>> [10,]   19   32   28
>>>> [11,]   19   30   25
>>>> [12,]   19   31   10
>>>> [13,]   19   30   10
>>>> [14,]   21   29    5
>>>> [15,]   21   29   15
>>>> [16,]   21   32    5
>>>> [17,]   21   32   15
>>>> [18,]   20   30   25
>>>> [19,]   20   26   25
>>>> [20,]   20   26   30
>>>> [21,]   16   28    5
>>>> [22,]   16   26    5
>>>> [23,]   16   26   28
>>>> [24,]   22   28    5
>>>> [25,]   22   32    5
>>>> [26,]   22   32   28
>>>> 
>>>>> set2
>>>>              [,1]         [,2]        [,3]
>>>> [1,]  0.061298933  0.561676607 -0.29029312
>>>> [2,] -0.227292687  0.980185118  0.21751216
>>>> [3,]  0.182482967  0.913803801 -0.08308208
>>>> [4,] -0.143596376 -0.007469921 -0.33050543
>>>> [5,] -0.354096826  0.023132113  0.45463150
>>>> [6,]  0.006247011  0.183155253  0.97496500
>>>> [7,]  0.128600720 -0.249603537 -0.24710206
>>>> [8,] -0.418782299 -0.325201099  0.28908138
>>>> [9,]  0.231829464  0.343250895  0.65134735
>>>> [10,] -0.392597726  0.126741875  0.21411363
>>>> [11,] -0.051290704 -1.007826669  0.92808143
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>>> 
>>> -- 
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>> 
>> Don McKenzie
>> Research Ecologist
>> Pacific Wildland Fire Sciences Lab
>> US Forest Service
>> 
>> Affiliate Professor
>> School of Environmental and Forest Sciences
>> University of Washington
>> dmck at uw.edu
>> 
>> 
>> 
>> 
>> 
>> 	[[alternative HTML version deleted]]
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

Don McKenzie
Research Ecologist
Pacific Wildland Fire Sciences Lab
US Forest Service

Affiliate Professor 
School of Environmental and Forest Sciences 
University of Washington 
 
dmck at uw.edu


From dmck at u.washington.edu  Thu Apr  3 16:29:03 2014
From: dmck at u.washington.edu (Don McKenzie)
Date: Thu, 3 Apr 2014 07:29:03 -0700
Subject: [R-SIG-Mac] [R-sig-mac] trouble with point in
	polyhedron	computation
In-Reply-To: <972-533d2900-9-7971fe80@205000877>
References: <972-533d2900-9-7971fe80@205000877>
Message-ID: <667A81C6-A23D-425B-B060-2FD3379CFB73@u.washington.edu>

Just to complicate things   :-(

If I load alphashape3d, I get a crash with the following error

?To open ?R?, you need to install X11. Would you like to install X11 now??    

I have been running R 3.0.3. in a vanilla quartz window in Mavericks (OSX 10.9) on an iMac.

> sessionInfo()
R version 3.0.2 (2013-09-25)
Platform: x86_64-apple-darwin10.8.0 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

> library("alphashape3d?)

CRASH AND ERROR POPUP




On Apr 3, 2014, at 2:25 AM, Agustin Angel Diez Castillo <agustin.diez at uv.es> wrote:

> Hi,
> If i got it right, the original question can be addressed somewhat with inashape3d (alphashape3d package), something like:
> library(alphashape3d)
> set1 <- matrix(rnorm(333)/2,ncol=3)
> plot3d(set1)
> ashape3d.obj <- ashape3d(set1, alpha = 2)
> set2 <- matrix(rnorm(33)/2,ncol=3)
> in3d <- inashape3d(ashape3d.obj, points = set2)
> plot(ashape3d.obj, transparency = 0.2)
> rgl.points(points[in3d,], col ="blue")
> 
> On Thursday, April 3, 2014 07:38 CEST, Don McKenzie <dmck at u.washington.edu> wrote: 
> 
>> Thank you for the pointer.  That?s quite a list, and I expect I will have to concede defeat, lacking the skill set to adapt my use of the package.
>> 
>> On Apr 2, 2014, at 9:11 PM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>> 
>>> Package ptinpoly has generated hangs/segfaults in its checks for years, across platforms.  That is why there are all the exclusions at http://cran.r-project.org/web/checks/check_results_ptinpoly.html .
>>> 
>>> On 03/04/2014 01:48, Don McKenzie wrote:
>>>> I have a 3D ordination with two groups, and want to identify the points in one group that lie within the 3D convex hull of the other. I would appreciate any enlightenment about why the command at the end (below in a toy example) crashes R when I try to ID the points in the hull using pip3d(), from package ptinpoly. convhulln() is from package geometry.  Have I not supplied the right ?Faces? argument to pip3d()?
>>>> 
>>>> The objects are not large and are reproduced at the bottom of this message.
>>>> 
>>>> Thanks
>>>> 
>>>> ------------------------
>>>>> sessionInfo()
>>>> R version 3.0.3 (2014-03-06)
>>>> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>>>> 
>>>> locale:
>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>> 
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>> 
>>>> other attached packages:
>>>> [1] ptinpoly_2.0   misc3d_0.8-4   geometry_0.3-4 magic_1.5-6    abind_1.4-0
>>>> 
>>>> loaded via a namespace (and not attached):
>>>> [1] tools_3.0.3
>>>> 
>>>> ??
>>>> 
>>>>> set1 <- matrix(rnorm(99),ncol=3)
>>>>> ch1 <- convhulln(set1)
>>>> 
>>>> Output completed.  Verifying that all points are below outer planes of
>>>> all facets.  Will make 594 distance computations.
>>>> 
>>>>> set2 <- matrix(rnorm(33)/2,ncol=3)
>>>> 
>>>>> temp.out <- pip3d(set1,ch1,set2)
>>>> 
>>>> R CRASHES HERE
>>>> 
>>>> ----------------------------------
>>>> 
>>>> 
>>>> Don McKenzie
>>>> Research Ecologist
>>>> Pacific Wildland Fire Sciences Lab
>>>> US Forest Service
>>>> 
>>>> Affiliate Professor
>>>> School of Environmental and Forest Sciences
>>>> University of Washington
>>>> dmck at uw.edu
>>>> 
>>>> 
>>>> 
>>>> ????????????????
>>>> 
>>>> set1
>>>>             [,1]        [,2]        [,3]
>>>> [1,] -0.36381788  0.96624676 -1.09251167
>>>> [2,] -1.09242946 -0.82002293  0.42005666
>>>> [3,]  0.93852498  1.18059117 -0.34816811
>>>> [4,] -0.77413132  1.06018374 -0.37589340
>>>> [5,] -1.67759103 -1.52469985  0.85310979
>>>> [6,]  0.81729494 -0.18900503  0.83172169
>>>> [7,]  0.30546957  0.97549183 -1.30815121
>>>> [8,]  0.22201517 -0.38260850 -0.05412764
>>>> [9,]  0.48817331  1.30314678  0.19143994
>>>> [10,]  1.89836307 -0.34575059  0.55599170
>>>> [11,]  0.20776401  0.04977816 -0.78034565
>>>> [12,] -0.76819740  0.24554574  0.40398017
>>>> [13,]  0.38369531  1.07688341 -0.22686023
>>>> [14,]  0.31806928  1.15482656 -0.99259846
>>>> [15,]  1.07142182 -1.03495199 -0.15650968
>>>> [16,] -1.24667302 -0.35217160  0.71090188
>>>> [17,] -0.92079326 -1.44075490 -0.42838857
>>>> [18,]  0.16907840  0.37587569  1.34994069
>>>> [19,]  0.50947015  1.81852997 -1.83315646
>>>> [20,]  0.52015187  1.56904146  0.90679914
>>>> [21,] -0.04261864 -1.22145642  0.51953397
>>>> [22,] -0.86611946 -1.21106313 -0.86571463
>>>> [23,] -0.13147715  0.07893287  0.83513033
>>>> [24,] -0.63488792 -0.89396994  0.70103420
>>>> [25,] -0.11370015  2.00351619 -0.17652412
>>>> [26,] -1.04527261 -0.14570830  1.64893662
>>>> [27,]  0.46238598 -0.07990767  0.16431874
>>>> [28,] -0.72396505  1.45081393 -0.91068823
>>>> [29,] -0.48892499 -1.05289633  1.36531224
>>>> [30,]  1.83781721  1.50964339  1.85100986
>>>> [31,]  1.00023790 -0.92779325 -2.16783507
>>>> [32,] -0.51429532 -1.44766548 -1.41456589
>>>> [33,] -0.93249545 -0.21845332  0.75023990
>>>> 
>>>>> ch1
>>>>      [,1] [,2] [,3]
>>>> [1,]   15   31   10
>>>> [2,]   29   30   10
>>>> [3,]   29   15   10
>>>> [4,]   26   28   25
>>>> [5,]   26   29    5
>>>> [6,]   26   29   30
>>>> [7,]   32   15   31
>>>> [8,]   19   28   25
>>>> [9,]   19   32   31
>>>> [10,]   19   32   28
>>>> [11,]   19   30   25
>>>> [12,]   19   31   10
>>>> [13,]   19   30   10
>>>> [14,]   21   29    5
>>>> [15,]   21   29   15
>>>> [16,]   21   32    5
>>>> [17,]   21   32   15
>>>> [18,]   20   30   25
>>>> [19,]   20   26   25
>>>> [20,]   20   26   30
>>>> [21,]   16   28    5
>>>> [22,]   16   26    5
>>>> [23,]   16   26   28
>>>> [24,]   22   28    5
>>>> [25,]   22   32    5
>>>> [26,]   22   32   28
>>>> 
>>>>> set2
>>>>              [,1]         [,2]        [,3]
>>>> [1,]  0.061298933  0.561676607 -0.29029312
>>>> [2,] -0.227292687  0.980185118  0.21751216
>>>> [3,]  0.182482967  0.913803801 -0.08308208
>>>> [4,] -0.143596376 -0.007469921 -0.33050543
>>>> [5,] -0.354096826  0.023132113  0.45463150
>>>> [6,]  0.006247011  0.183155253  0.97496500
>>>> [7,]  0.128600720 -0.249603537 -0.24710206
>>>> [8,] -0.418782299 -0.325201099  0.28908138
>>>> [9,]  0.231829464  0.343250895  0.65134735
>>>> [10,] -0.392597726  0.126741875  0.21411363
>>>> [11,] -0.051290704 -1.007826669  0.92808143
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>>> 
>>> -- 
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>> 
>> Don McKenzie
>> Research Ecologist
>> Pacific Wildland Fire Sciences Lab
>> US Forest Service
>> 
>> Affiliate Professor
>> School of Environmental and Forest Sciences
>> University of Washington
>> dmck at uw.edu
>> 
>> 
>> 
>> 
>> 
>> 	[[alternative HTML version deleted]]
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

Don McKenzie
Research Ecologist
Pacific Wildland Fire Sciences Lab
US Forest Service

Affiliate Professor 
School of Environmental and Forest Sciences 
University of Washington 
 
dmck at uw.edu


From dwinsemius at comcast.net  Sun Apr  6 18:50:04 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Sun, 6 Apr 2014 09:50:04 -0700
Subject: [R-SIG-Mac] [R-sig-mac] trouble with point in
	polyhedron	computation
In-Reply-To: <667A81C6-A23D-425B-B060-2FD3379CFB73@u.washington.edu>
References: <972-533d2900-9-7971fe80@205000877>
	<667A81C6-A23D-425B-B060-2FD3379CFB73@u.washington.edu>
Message-ID: <9BBDD3F2-A65C-47E2-9E6E-87534A7DA39D@comcast.net>


On Apr 3, 2014, at 7:29 AM, Don McKenzie wrote:

> Just to complicate things   :-(
>
> If I load alphashape3d, I get a crash with the following error
>
> ?To open ?R?, you need to install X11. Would you like to install X11  
> now??
>
> I have been running R 3.0.3. in a vanilla quartz window in Mavericks  
> (OSX 10.9) on an iMac.
>
>> sessionInfo()
> R version 3.0.2 (2013-09-25)
> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
>> library("alphashape3d?)
>
> CRASH AND ERROR POPUP

That didn't look like an error message but rather an opportunity. Do  
you have XQuartz installed in your Mac? (I haven't upgraded to  
Mavericks so do not know if XQuartz ships with that version.)

https://xquartz.macosforge.org/landing/

-- 
David.

> On Apr 3, 2014, at 2:25 AM, Agustin Angel Diez Castillo <agustin.diez at uv.es 
> > wrote:
>
>> Hi,
>> If i got it right, the original question can be addressed somewhat  
>> with inashape3d (alphashape3d package), something like:
>> library(alphashape3d)
>> set1 <- matrix(rnorm(333)/2,ncol=3)
>> plot3d(set1)
>> ashape3d.obj <- ashape3d(set1, alpha = 2)
>> set2 <- matrix(rnorm(33)/2,ncol=3)
>> in3d <- inashape3d(ashape3d.obj, points = set2)
>> plot(ashape3d.obj, transparency = 0.2)
>> rgl.points(points[in3d,], col ="blue")
>>
>> On Thursday, April 3, 2014 07:38 CEST, Don McKenzie <dmck at u.washington.edu 
>> > wrote:
>>
>>> Thank you for the pointer.  That?s quite a list, and I expect I  
>>> will have to concede defeat, lacking the skill set to adapt my use  
>>> of the package.
>>>
>>> On Apr 2, 2014, at 9:11 PM, Prof Brian Ripley  
>>> <ripley at stats.ox.ac.uk> wrote:
>>>
>>>> Package ptinpoly has generated hangs/segfaults in its checks for  
>>>> years, across platforms.  That is why there are all the  
>>>> exclusions at http://cran.r-project.org/web/checks/check_results_ptinpoly.html 
>>>>  .
>>>>
>>>> On 03/04/2014 01:48, Don McKenzie wrote:
>>>>> I have a 3D ordination with two groups, and want to identify the  
>>>>> points in one group that lie within the 3D convex hull of the  
>>>>> other. I would appreciate any enlightenment about why the  
>>>>> command at the end (below in a toy example) crashes R when I try  
>>>>> to ID the points in the hull using pip3d(), from package  
>>>>> ptinpoly. convhulln() is from package geometry.  Have I not  
>>>>> supplied the right ?Faces? argument to pip3d()?
>>>>>
>>>>> The objects are not large and are reproduced at the bottom of  
>>>>> this message.
>>>>>
>>>>> Thanks
>>>>>
>>>>> ------------------------
>>>>>> sessionInfo()
>>>>> R version 3.0.3 (2014-03-06)
>>>>> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>>>>>
>>>>> locale:
>>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>
>>>>> attached base packages:
>>>>> [1] stats     graphics  grDevices utils     datasets  methods    
>>>>> base
>>>>>
>>>>> other attached packages:
>>>>> [1] ptinpoly_2.0   misc3d_0.8-4   geometry_0.3-4 magic_1.5-6     
>>>>> abind_1.4-0
>>>>>
>>>>> loaded via a namespace (and not attached):
>>>>> [1] tools_3.0.3
>>>>>
>>>>> ??
>>>>>
>>>>>> set1 <- matrix(rnorm(99),ncol=3)
>>>>>> ch1 <- convhulln(set1)
>>>>>
>>>>> Output completed.  Verifying that all points are below outer  
>>>>> planes of
>>>>> all facets.  Will make 594 distance computations.
>>>>>
>>>>>> set2 <- matrix(rnorm(33)/2,ncol=3)
>>>>>
>>>>>> temp.out <- pip3d(set1,ch1,set2)
>>>>>
>>>>> R CRASHES HERE
>>>>>
>>>>> ----------------------------------
>>>>>
>>>>>
>>>>> Don McKenzie
>>>>> Research Ecologist
>>>>> Pacific Wildland Fire Sciences Lab
>>>>> US Forest Service
>>>>>
>>>>> Affiliate Professor
>>>>> School of Environmental and Forest Sciences
>>>>> University of Washington
>>>>> dmck at uw.edu
>>>>>
>>>>>
>>>>>
>>>>> ????????????????
>>>>>
>>>>> set1
>>>>>            [,1]        [,2]        [,3]
>>>>> [1,] -0.36381788  0.96624676 -1.09251167
>>>>> [2,] -1.09242946 -0.82002293  0.42005666
>>>>> [3,]  0.93852498  1.18059117 -0.34816811
>>>>> [4,] -0.77413132  1.06018374 -0.37589340
>>>>> [5,] -1.67759103 -1.52469985  0.85310979
>>>>> [6,]  0.81729494 -0.18900503  0.83172169
>>>>> [7,]  0.30546957  0.97549183 -1.30815121
>>>>> [8,]  0.22201517 -0.38260850 -0.05412764
>>>>> [9,]  0.48817331  1.30314678  0.19143994
>>>>> [10,]  1.89836307 -0.34575059  0.55599170
>>>>> [11,]  0.20776401  0.04977816 -0.78034565
>>>>> [12,] -0.76819740  0.24554574  0.40398017
>>>>> [13,]  0.38369531  1.07688341 -0.22686023
>>>>> [14,]  0.31806928  1.15482656 -0.99259846
>>>>> [15,]  1.07142182 -1.03495199 -0.15650968
>>>>> [16,] -1.24667302 -0.35217160  0.71090188
>>>>> [17,] -0.92079326 -1.44075490 -0.42838857
>>>>> [18,]  0.16907840  0.37587569  1.34994069
>>>>> [19,]  0.50947015  1.81852997 -1.83315646
>>>>> [20,]  0.52015187  1.56904146  0.90679914
>>>>> [21,] -0.04261864 -1.22145642  0.51953397
>>>>> [22,] -0.86611946 -1.21106313 -0.86571463
>>>>> [23,] -0.13147715  0.07893287  0.83513033
>>>>> [24,] -0.63488792 -0.89396994  0.70103420
>>>>> [25,] -0.11370015  2.00351619 -0.17652412
>>>>> [26,] -1.04527261 -0.14570830  1.64893662
>>>>> [27,]  0.46238598 -0.07990767  0.16431874
>>>>> [28,] -0.72396505  1.45081393 -0.91068823
>>>>> [29,] -0.48892499 -1.05289633  1.36531224
>>>>> [30,]  1.83781721  1.50964339  1.85100986
>>>>> [31,]  1.00023790 -0.92779325 -2.16783507
>>>>> [32,] -0.51429532 -1.44766548 -1.41456589
>>>>> [33,] -0.93249545 -0.21845332  0.75023990
>>>>>
>>>>>> ch1
>>>>>     [,1] [,2] [,3]
>>>>> [1,]   15   31   10
>>>>> [2,]   29   30   10
>>>>> [3,]   29   15   10
>>>>> [4,]   26   28   25
>>>>> [5,]   26   29    5
>>>>> [6,]   26   29   30
>>>>> [7,]   32   15   31
>>>>> [8,]   19   28   25
>>>>> [9,]   19   32   31
>>>>> [10,]   19   32   28
>>>>> [11,]   19   30   25
>>>>> [12,]   19   31   10
>>>>> [13,]   19   30   10
>>>>> [14,]   21   29    5
>>>>> [15,]   21   29   15
>>>>> [16,]   21   32    5
>>>>> [17,]   21   32   15
>>>>> [18,]   20   30   25
>>>>> [19,]   20   26   25
>>>>> [20,]   20   26   30
>>>>> [21,]   16   28    5
>>>>> [22,]   16   26    5
>>>>> [23,]   16   26   28
>>>>> [24,]   22   28    5
>>>>> [25,]   22   32    5
>>>>> [26,]   22   32   28
>>>>>
>>>>>> set2
>>>>>             [,1]         [,2]        [,3]
>>>>> [1,]  0.061298933  0.561676607 -0.29029312
>>>>> [2,] -0.227292687  0.980185118  0.21751216
>>>>> [3,]  0.182482967  0.913803801 -0.08308208
>>>>> [4,] -0.143596376 -0.007469921 -0.33050543
>>>>> [5,] -0.354096826  0.023132113  0.45463150
>>>>> [6,]  0.006247011  0.183155253  0.97496500
>>>>> [7,]  0.128600720 -0.249603537 -0.24710206
>>>>> [8,] -0.418782299 -0.325201099  0.28908138
>>>>> [9,]  0.231829464  0.343250895  0.65134735
>>>>> [10,] -0.392597726  0.126741875  0.21411363
>>>>> [11,] -0.051290704 -1.007826669  0.92808143
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>
>>>>
>>>> -- 
>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/ 
>>>> ~ripley/
>>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>>
>>> Don McKenzie
>>> Research Ecologist
>>> Pacific Wildland Fire Sciences Lab
>>> US Forest Service
>>>
>>> Affiliate Professor
>>> School of Environmental and Forest Sciences
>>> University of Washington
>>> dmck at uw.edu
>>>
>>>
>>>
>>>
>>>
>>> 	[[alternative HTML version deleted]]
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> Don McKenzie
> Research Ecologist
> Pacific Wildland Fire Sciences Lab
> US Forest Service
>
> Affiliate Professor
> School of Environmental and Forest Sciences
> University of Washington
>
> dmck at uw.edu
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Alameda, CA, USA


From dmck at u.washington.edu  Sun Apr  6 20:45:48 2014
From: dmck at u.washington.edu (Don McKenzie)
Date: Sun, 6 Apr 2014 11:45:48 -0700
Subject: [R-SIG-Mac] [R-sig-mac] trouble with point in
	polyhedron	computation
In-Reply-To: <9BBDD3F2-A65C-47E2-9E6E-87534A7DA39D@comcast.net>
References: <972-533d2900-9-7971fe80@205000877>
	<667A81C6-A23D-425B-B060-2FD3379CFB73@u.washington.edu>
	<9BBDD3F2-A65C-47E2-9E6E-87534A7DA39D@comcast.net>
Message-ID: <E01EDDF1-EDE8-4884-AA30-3753D07E02C1@u.washington.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140406/2d77f863/attachment.pl>

From sdmorris at u.washington.edu  Mon Apr  7 19:03:36 2014
From: sdmorris at u.washington.edu (Stephanie M. Gogarten)
Date: Mon, 07 Apr 2014 10:03:36 -0700
Subject: [R-SIG-Mac] ESS on Mavericks
Message-ID: <5342DA68.9030605@u.washington.edu>

Hi,

I just upgraded to Mavericks and I'm having trouble with ESS.  I have R 
3.0.3, and I tried both the ESS-included Emacs binary 
(http://vgoulet.act.ulaval.ca/en/emacs/) and the binary without extras 
(http://emacsformacosx.com/) and installing ESS from source.

In both cases, I'm getting really slow response when using the "Execute 
this line" button in Emacs.  The simplest R functions take several 
seconds to process.  Typing directly in the R buffer doesn't have this 
problem.

Has anyone else seen this behavior, or know of a fix?

thanks,
Stephanie


From pdalgd at gmail.com  Mon Apr  7 19:37:24 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Mon, 7 Apr 2014 19:37:24 +0200
Subject: [R-SIG-Mac] ESS on Mavericks
In-Reply-To: <5342DA68.9030605@u.washington.edu>
References: <5342DA68.9030605@u.washington.edu>
Message-ID: <7447E29B-5E35-4EB8-B598-693A41748101@gmail.com>

Hmm,

Tried aquamacs? Hasn't been giving me problems lately. Otherwise, you might check the Activity Monitor and see if any involved processes turns App Nap on.

-pd 


On 07 Apr 2014, at 19:03 , Stephanie M. Gogarten <sdmorris at u.washington.edu> wrote:

> Hi,
> 
> I just upgraded to Mavericks and I'm having trouble with ESS.  I have R 3.0.3, and I tried both the ESS-included Emacs binary (http://vgoulet.act.ulaval.ca/en/emacs/) and the binary without extras (http://emacsformacosx.com/) and installing ESS from source.
> 
> In both cases, I'm getting really slow response when using the "Execute this line" button in Emacs.  The simplest R functions take several seconds to process.  Typing directly in the R buffer doesn't have this problem.
> 
> Has anyone else seen this behavior, or know of a fix?
> 
> thanks,
> Stephanie
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From kasperdanielhansen at gmail.com  Tue Apr  8 10:24:08 2014
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Tue, 8 Apr 2014 04:24:08 -0400
Subject: [R-SIG-Mac] ESS on Mavericks
In-Reply-To: <7447E29B-5E35-4EB8-B598-693A41748101@gmail.com>
References: <5342DA68.9030605@u.washington.edu>
	<7447E29B-5E35-4EB8-B598-693A41748101@gmail.com>
Message-ID: <CAC2h7usbbCRNpi_GUTs8m1WAoaL2cJt8TOwCw5eeT99HSUZORA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140408/d21b6948/attachment.pl>

From dominic at steinitz.org  Tue Apr  8 15:56:59 2014
From: dominic at steinitz.org (Dominic Steinitz)
Date: Tue, 8 Apr 2014 13:56:59 +0000
Subject: [R-SIG-Mac] ESS on Mavericks
References: <5342DA68.9030605@u.washington.edu>
Message-ID: <loom.20140408T151418-666@post.gmane.org>

Stephanie M. Gogarten <sdmorris <at> u.washington.edu> writes:

> 
> Hi,
> 
> I just upgraded to Mavericks and I'm having trouble with ESS.  I have R 
> 3.0.3, and I tried both the ESS-included Emacs binary 
> (http://vgoulet.act.ulaval.ca/en/emacs/) and the binary without extras 
> (http://emacsformacosx.com/) and installing ESS from source.
> 
> In both cases, I'm getting really slow response when using the "Execute 
> this line" button in Emacs.  The simplest R functions take several 
> seconds to process.  Typing directly in the R buffer doesn't have this 
> problem.
> 
> Has anyone else seen this behavior, or know of a fix?
> 
> thanks,
> Stephanie
> 


You don't say which version of emacs you are running. I am on

"GNU Emacs 24.1.1 (x86_64-apple-darwin, NS apple-appkit-1038.36) of
2012-06-10 on bob.porkrind.org"

I have had other issues but not the one you seem to be getting.

I would try using the emacs package manager (although I think ess came
bundled with my current emacs).

Further, I installed a new emacs about 4 weeks ago which I haven't
used much. I just now used the package manager with it to install
ess. The new version looks really good. You probably don't need to
live quite so dangerously though.

"GNU Emacs 24.3.50.1 (x86_64-apple-darwin13.0.0, NS
apple-appkit-1265.00) of 2014-03-02 on Dominics-MacBook-Pro.local"

ess-version: 13.09-2 [elpa: 20140404.1519] (loaded from
/Users/dom/.emacs.d/elpa/ess- 20140404.1519/)


From sdmorris at u.washington.edu  Fri Apr 11 00:28:04 2014
From: sdmorris at u.washington.edu (Stephanie M. Gogarten)
Date: Thu, 10 Apr 2014 15:28:04 -0700
Subject: [R-SIG-Mac] ESS on Mavericks
In-Reply-To: <CAC2h7usbbCRNpi_GUTs8m1WAoaL2cJt8TOwCw5eeT99HSUZORA@mail.gmail.com>
References: <5342DA68.9030605@u.washington.edu>
	<7447E29B-5E35-4EB8-B598-693A41748101@gmail.com>
	<CAC2h7usbbCRNpi_GUTs8m1WAoaL2cJt8TOwCw5eeT99HSUZORA@mail.gmail.com>
Message-ID: <53471AF4.5040209@u.washington.edu>

Thanks for the help.  I couldn't get the binaries listed in my original 
mail to work regardless of my .emacs settings, but Aquamacs 3.0a does 
not seem to have this problem on Mavericks.

Stephanie

On 4/8/14 1:24 AM, Kasper Daniel Hansen wrote:
> Do you use the same .emacs as before?  This sounds like having to do
> with fortification and the R buffer, and might be solvable by using
>    (setq comint-scroll-to-bottom-on-output 'others)
> in your .emacs.
>
> It would be strange if this is the source of your problem unless you're
> using a new .emacs.
>
> Best,
> Kasper
>
>
> On Mon, Apr 7, 2014 at 1:37 PM, peter dalgaard <pdalgd at gmail.com
> <mailto:pdalgd at gmail.com>> wrote:
>
>     Hmm,
>
>     Tried aquamacs? Hasn't been giving me problems lately. Otherwise,
>     you might check the Activity Monitor and see if any involved
>     processes turns App Nap on.
>
>     -pd
>
>
>     On 07 Apr 2014, at 19:03 , Stephanie M. Gogarten
>     <sdmorris at u.washington.edu <mailto:sdmorris at u.washington.edu>> wrote:
>
>      > Hi,
>      >
>      > I just upgraded to Mavericks and I'm having trouble with ESS.  I
>     have R 3.0.3, and I tried both the ESS-included Emacs binary
>     (http://vgoulet.act.ulaval.ca/en/emacs/) and the binary without
>     extras (http://emacsformacosx.com/) and installing ESS from source.
>      >
>      > In both cases, I'm getting really slow response when using the
>     "Execute this line" button in Emacs.  The simplest R functions take
>     several seconds to process.  Typing directly in the R buffer doesn't
>     have this problem.
>      >
>      > Has anyone else seen this behavior, or know of a fix?
>      >
>      > thanks,
>      > Stephanie
>      >
>      > _______________________________________________
>      > R-SIG-Mac mailing list
>      > R-SIG-Mac at r-project.org <mailto:R-SIG-Mac at r-project.org>
>      > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>     --
>     Peter Dalgaard, Professor,
>     Center for Statistics, Copenhagen Business School
>     Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>     Phone: (+45)38153501 <tel:%28%2B45%2938153501>
>     Email: pd.mes at cbs.dk <mailto:pd.mes at cbs.dk>  Priv: PDalgd at gmail.com
>     <mailto:PDalgd at gmail.com>
>
>     _______________________________________________
>     R-SIG-Mac mailing list
>     R-SIG-Mac at r-project.org <mailto:R-SIG-Mac at r-project.org>
>     https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From jeroen.ooms at stat.ucla.edu  Fri Apr 11 06:54:18 2014
From: jeroen.ooms at stat.ucla.edu (Jeroen Ooms)
Date: Thu, 10 Apr 2014 21:54:18 -0700
Subject: [R-SIG-Mac] Missing binary packages for Mavericks
Message-ID: <CABFfbXvEGL_KBonimW-o5PWSuUfYcfSKiQFT-27WFPJnET0qGA@mail.gmail.com>

Running update.packages on R 3.1 for Mavericks complains that some
CRAN packages do not have binary builds available. For example lme4 is
missing from http://cran.r-project.org/bin/macosx/mavericks/contrib/3.1/.

Is there any reason for this, or do I just need some patience? I
installed lme4 from source and it seems to build without problems.


From evilper at gmail.com  Fri Apr 11 10:42:58 2014
From: evilper at gmail.com (Per Nielsen)
Date: Fri, 11 Apr 2014 10:42:58 +0200
Subject: [R-SIG-Mac] Unexpected behavior of R round function on Mac
Message-ID: <CAGtYnKh5LVdG4-W04xMfL4BTEkOFkOuCfS-CJxDns7KqNv=j6Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140411/03e5cd39/attachment.pl>

From PDalgd at gmail.com  Fri Apr 11 11:04:09 2014
From: PDalgd at gmail.com (peter dalgaard)
Date: Fri, 11 Apr 2014 11:04:09 +0200
Subject: [R-SIG-Mac] Unexpected behavior of R round function on Mac
In-Reply-To: <CAGtYnKh5LVdG4-W04xMfL4BTEkOFkOuCfS-CJxDns7KqNv=j6Q@mail.gmail.com>
References: <CAGtYnKh5LVdG4-W04xMfL4BTEkOFkOuCfS-CJxDns7KqNv=j6Q@mail.gmail.com>
Message-ID: <99DF324F-AFFE-41C4-BDFD-ECAA0A71E292@gmail.com>

Google for "round to even", and read the Details section of ?round.


On 11 Apr 2014, at 10:42 , Per Nielsen <evilper at gmail.com> wrote:

> Hi all
> 
> I have encountered some strange/wrong behavior of the round function in R.
> 
> This is the behavior on my mac laptop:
> 
>> R.version
>               _
> platform       x86_64-apple-darwin13.0.2
> arch           x86_64
> os             darwin13.0.2
> system         x86_64, darwin13.0.2
> status
> major          3
> minor          0.2
> year           2013
> month          09
> day            25
> svn rev        63987
> language       R
> version.string R version 3.0.2 (2013-09-25)
> nickname       Frisbee Sailing
>> round(1.5)
> [1] 2
>> round(4.5)
> [1] 4
>> floor(1.5 + 0.5)
> [1] 2
>> floor(4.5 + 0.5)
> [1] 5
> 
> This is the behavior on Ubuntu 12.04 running in a virtual machine on the
> same mac:
> 
>> R.version
>               _
> platform       x86_64-pc-linux-gnu
> arch           x86_64
> os             linux-gnu
> system         x86_64, linux-gnu
> status         beta
> major          3
> minor          1.0
> year           2014
> month          03
> day            28
> svn rev        65330
> language       R
> version.string R version 3.1.0 beta (2014-03-28 r65330)
> nickname       Spring Dance
>> round(1.5)
> [1] 2
>> round(4.5)
> [1] 4
>> floor(1.5 + 0.5)
> [1] 2
>> floor(4.5 + 0.5)
> [1] 5
> 
> I would expect round(x.5) = x+1, which only happens sometimes. My colleague
> using R version 3.1.0 on Linux on a Lenovo laptop gets the expected result
> in all cases.
> 
> Is this a bug or somehow expected behavior? It seems to be related to the
> mac hardware. I can ad hoc fix it using floor, but that is hardly optimal.
> 
> Thanks,
> Per
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From evilper at gmail.com  Fri Apr 11 11:34:51 2014
From: evilper at gmail.com (Per Nielsen)
Date: Fri, 11 Apr 2014 11:34:51 +0200
Subject: [R-SIG-Mac] Unexpected behavior of R round function on Mac
In-Reply-To: <99DF324F-AFFE-41C4-BDFD-ECAA0A71E292@gmail.com>
References: <CAGtYnKh5LVdG4-W04xMfL4BTEkOFkOuCfS-CJxDns7KqNv=j6Q@mail.gmail.com>
	<99DF324F-AFFE-41C4-BDFD-ECAA0A71E292@gmail.com>
Message-ID: <CAGtYnKhNh883Zx5gQCK1BzVAZcgK08myo-1P8c62nEc74z4RBw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140411/0d1cb245/attachment.pl>

From murdoch.duncan at gmail.com  Fri Apr 11 15:42:33 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Fri, 11 Apr 2014 09:42:33 -0400
Subject: [R-SIG-Mac] Unexpected behavior of R round function on Mac
In-Reply-To: <99DF324F-AFFE-41C4-BDFD-ECAA0A71E292@gmail.com>
References: <CAGtYnKh5LVdG4-W04xMfL4BTEkOFkOuCfS-CJxDns7KqNv=j6Q@mail.gmail.com>
	<99DF324F-AFFE-41C4-BDFD-ECAA0A71E292@gmail.com>
Message-ID: <5347F149.2060604@gmail.com>

On 11/04/2014, 5:04 AM, peter dalgaard wrote:
> Google for "round to even", and read the Details section of ?round.

The behaviour on the Linux laptop does sound problematic, if it is 
really giving round(4.5) = 5.  We do have the warning there that it 
depends on OS services, but this could cause other problems.

Duncan Murdoch


>
>
> On 11 Apr 2014, at 10:42 , Per Nielsen <evilper at gmail.com> wrote:
>
>> Hi all
>>
>> I have encountered some strange/wrong behavior of the round function in R.
>>
>> This is the behavior on my mac laptop:
>>
>>> R.version
>>                _
>> platform       x86_64-apple-darwin13.0.2
>> arch           x86_64
>> os             darwin13.0.2
>> system         x86_64, darwin13.0.2
>> status
>> major          3
>> minor          0.2
>> year           2013
>> month          09
>> day            25
>> svn rev        63987
>> language       R
>> version.string R version 3.0.2 (2013-09-25)
>> nickname       Frisbee Sailing
>>> round(1.5)
>> [1] 2
>>> round(4.5)
>> [1] 4
>>> floor(1.5 + 0.5)
>> [1] 2
>>> floor(4.5 + 0.5)
>> [1] 5
>>
>> This is the behavior on Ubuntu 12.04 running in a virtual machine on the
>> same mac:
>>
>>> R.version
>>                _
>> platform       x86_64-pc-linux-gnu
>> arch           x86_64
>> os             linux-gnu
>> system         x86_64, linux-gnu
>> status         beta
>> major          3
>> minor          1.0
>> year           2014
>> month          03
>> day            28
>> svn rev        65330
>> language       R
>> version.string R version 3.1.0 beta (2014-03-28 r65330)
>> nickname       Spring Dance
>>> round(1.5)
>> [1] 2
>>> round(4.5)
>> [1] 4
>>> floor(1.5 + 0.5)
>> [1] 2
>>> floor(4.5 + 0.5)
>> [1] 5
>>
>> I would expect round(x.5) = x+1, which only happens sometimes. My colleague
>> using R version 3.1.0 on Linux on a Lenovo laptop gets the expected result
>> in all cases.
>>
>> Is this a bug or somehow expected behavior? It seems to be related to the
>> mac hardware. I can ad hoc fix it using floor, but that is hardly optimal.
>>
>> Thanks,
>> Per
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From evilper at gmail.com  Fri Apr 11 15:57:05 2014
From: evilper at gmail.com (Per Nielsen)
Date: Fri, 11 Apr 2014 15:57:05 +0200
Subject: [R-SIG-Mac] Unexpected behavior of R round function on Mac
In-Reply-To: <5347F149.2060604@gmail.com>
References: <CAGtYnKh5LVdG4-W04xMfL4BTEkOFkOuCfS-CJxDns7KqNv=j6Q@mail.gmail.com>
	<99DF324F-AFFE-41C4-BDFD-ECAA0A71E292@gmail.com>
	<5347F149.2060604@gmail.com>
Message-ID: <CAGtYnKimQ3teWUmbxhykNkO5uSOxkrAizZoZP-hFHyupGdb4cQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140411/d663f589/attachment.pl>

From simon.urbanek at r-project.org  Fri Apr 11 16:43:31 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 11 Apr 2014 10:43:31 -0400
Subject: [R-SIG-Mac] Missing binary packages for Mavericks (lme4)
In-Reply-To: <CABFfbXvEGL_KBonimW-o5PWSuUfYcfSKiQFT-27WFPJnET0qGA@mail.gmail.com>
References: <CABFfbXvEGL_KBonimW-o5PWSuUfYcfSKiQFT-27WFPJnET0qGA@mail.gmail.com>
Message-ID: <C8FBC4EE-4E90-4B85-9D65-E7730C4E71D9@r-project.org>

On Apr 11, 2014, at 12:54 AM, Jeroen Ooms <jeroen.ooms at stat.ucla.edu> wrote:

> Running update.packages on R 3.1 for Mavericks complains that some
> CRAN packages do not have binary builds available. For example lme4 is
> missing from http://cran.r-project.org/bin/macosx/mavericks/contrib/3.1/.
> 
> Is there any reason for this,

Yes, only packages that pass make check are present.


> or do I just need some patience? I installed lme4 from source and it seems to build without problems.
> 

It fails make check with

* checking for unstated dependencies in tests ... OK
* checking tests ... ERROR
Running the tests in ?tests/priorWeights.R? failed.
Last 13 lines of output:
  > sleepLmer <- lmer(Reaction ~ Days + (Days|Subject),
  +                   sleepstudy, weights = w,
  +                   REML = FALSE)
  > sleepComp <- compFunc(sleepLme, sleepLmer)
  > stopifnot(do.call(all.equal, sleepComp))
  > ## look at relative differences:
  > sleepComp$tolerance <- 0
  > do.call(all.equal, sleepComp)
  [1] "Mean relative difference: 0.000818191"
  > 
  > library(mlmRev)
  Error in library(mlmRev) : there is no package called 'mlmRev'
  Execution halted
* elapsed time (check, wall clock): 7:57
 
However, mlmRev itself depends on lme4, so it's not available. It seems like a bug in the tests which should not fail if mlmRev is not available since it's only suggested, not required.

Cheers,
Simon




> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From mdubin at gmail.com  Fri Apr 11 16:59:25 2014
From: mdubin at gmail.com (Marc Dubin)
Date: Fri, 11 Apr 2014 10:59:25 -0400
Subject: [R-SIG-Mac] request for removal from R-sig
Message-ID: <etPan.5348034d.6b8b4567.52c2@mac157049.local>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140411/e69e9499/attachment.pl>

From bhh at xs4all.nl  Fri Apr 11 17:12:51 2014
From: bhh at xs4all.nl (Berend Hasselman)
Date: Fri, 11 Apr 2014 17:12:51 +0200
Subject: [R-SIG-Mac] request for removal from R-sig
In-Reply-To: <etPan.5348034d.6b8b4567.52c2@mac157049.local>
References: <etPan.5348034d.6b8b4567.52c2@mac157049.local>
Message-ID: <60F01FCE-2A22-45A5-85A6-9D1A65158BD5@xs4all.nl>


On 11-04-2014, at 16:59, Marc Dubin <mdubin at gmail.com> wrote:

> Hello,
> 
> Please remove me from this mailing list. 
> 
> Please confirm that I have been removed.
> 

Go to the link at the bottom of each mail to R-SIG-Mac (https://stat.ethz.ch/mailman/listinfo/r-sig-mac)
You unsubscribe yourself.
Nobody is going to do it for you.

Berend


From steve.walker at utoronto.ca  Fri Apr 11 17:59:22 2014
From: steve.walker at utoronto.ca (Steve Walker)
Date: Fri, 11 Apr 2014 11:59:22 -0400
Subject: [R-SIG-Mac] [Lme4-authors] Missing binary packages for
 Mavericks (lme4)
In-Reply-To: <C8FBC4EE-4E90-4B85-9D65-E7730C4E71D9@r-project.org>
References: <CABFfbXvEGL_KBonimW-o5PWSuUfYcfSKiQFT-27WFPJnET0qGA@mail.gmail.com>
	<C8FBC4EE-4E90-4B85-9D65-E7730C4E71D9@r-project.org>
Message-ID: <5348115A.4030102@utoronto.ca>

Thank you Jeroen for this report.  We (the lme4 authors) apologize for 
this inconvenience.

Thank you Simon.  Your diagnosis is correct.  The test in question 
should only run if mlmRev is available.  This bug is now fixed in the 
development version.

Ben and I just discussed the matter, and we will be submitting a patch 
to cran within 24 hours.  We would also like to include some other back 
compatibility fixes within the patch, but are still deliberating about 
which of these to include.

Steve Walker


On 2014-04-11, 10:43 AM, Simon Urbanek wrote:
> On Apr 11, 2014, at 12:54 AM, Jeroen Ooms <jeroen.ooms at stat.ucla.edu> wrote:
>
>> Running update.packages on R 3.1 for Mavericks complains that some
>> CRAN packages do not have binary builds available. For example lme4 is
>> missing from http://cran.r-project.org/bin/macosx/mavericks/contrib/3.1/.
>>
>> Is there any reason for this,
>
> Yes, only packages that pass make check are present.
>
>
>> or do I just need some patience? I installed lme4 from source and it seems to build without problems.
>>
>
> It fails make check with
>
> * checking for unstated dependencies in tests ... OK
> * checking tests ... ERROR
> Running the tests in ?tests/priorWeights.R? failed.
> Last 13 lines of output:
>    > sleepLmer <- lmer(Reaction ~ Days + (Days|Subject),
>    +                   sleepstudy, weights = w,
>    +                   REML = FALSE)
>    > sleepComp <- compFunc(sleepLme, sleepLmer)
>    > stopifnot(do.call(all.equal, sleepComp))
>    > ## look at relative differences:
>    > sleepComp$tolerance <- 0
>    > do.call(all.equal, sleepComp)
>    [1] "Mean relative difference: 0.000818191"
>    >
>    > library(mlmRev)
>    Error in library(mlmRev) : there is no package called 'mlmRev'
>    Execution halted
> * elapsed time (check, wall clock): 7:57
>
> However, mlmRev itself depends on lme4, so it's not available. It seems like a bug in the tests which should not fail if mlmRev is not available since it's only suggested, not required.
>
> Cheers,
> Simon
>
>
>
>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> _______________________________________________
> Lme4-authors mailing list
> Lme4-authors at lists.r-forge.r-project.org
> https://lists.r-forge.r-project.org/cgi-bin/mailman/listinfo/lme4-authors
>
>


From annoporci at gmail.com  Fri Apr 11 20:58:09 2014
From: annoporci at gmail.com (PatrickT)
Date: Sat, 12 Apr 2014 02:58:09 +0800
Subject: [R-SIG-Mac] Problems with R 1.
Message-ID: <CAJOE-h3U1FEaFCOKq2ZuPLO183EJjN_LGtSL__-MzZaaYkdjaQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140412/bc74ba5b/attachment.pl>

From simon.urbanek at r-project.org  Fri Apr 11 21:28:13 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 11 Apr 2014 15:28:13 -0400
Subject: [R-SIG-Mac] Problems with R 1.
In-Reply-To: <CAJOE-h3U1FEaFCOKq2ZuPLO183EJjN_LGtSL__-MzZaaYkdjaQ@mail.gmail.com>
References: <CAJOE-h3U1FEaFCOKq2ZuPLO183EJjN_LGtSL__-MzZaaYkdjaQ@mail.gmail.com>
Message-ID: <5A220779-6AA6-417E-9659-2DD9C4683505@r-project.org>

Patrick,

could it be that you have older versions of packages installed that were not built for Mavericks? Please check .libPaths() to make sure.

I cannot reproduce the issue, so please provide the output of sessionInfo() and if you have Xcode 5 installed, please run

R -d lldb

then let it crash and type
bt
on the prompt and send us the output.

If you don't have Xcode5 or the above doesn't work, please select option 1 (abort) in the crash menu and check if you find a crash report.

Thanks,
Simon


On Apr 11, 2014, at 2:58 PM, PatrickT <annoporci at gmail.com> wrote:

> First, sorry if this is a repeat: I just joined the list and don't know
> what has been discussed recently. Thanks for listening!
> 
> I just installed the latest version of R (3.1.0).  I also reinstalled the
> ggplot2 package. As soon as I execute library("ggplot2") I get the bomb
> message "R Session Aborted" (in RStudio) or "caught segfault" message (in
> the R Console).
> 
> I'm on Mac OS X Mavericks. I downloaded the Mavericks version, which is
> specifically designed for the new XCode (or something).
> 
> I haven't tried on my Linux because I want to keep at least one working
> version of R/RStudio.
> 
> I tried to look at the log files here:
> Help Menu -> Diagnostics -> Show Log Files
> 
> but they are from last week, which is odd because I use R/RStudio every day.
> 
> In the R Console:
> library("ggplot2")
> 
> *** caught segfault ***
> address 0x18, cause 'memory not mapped'
> 
> Traceback:
> 1: dyn.load(file, DLLpath = DLLpath, ...)
> 2: library.dynam(lib, package, package.lib)
> 3: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck =
> vI[[j]])
> 4: asNamespace(ns)
> 5: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc,
> .libPaths()), versionCheck = vI[[j]]), i[[2L]], from = package)
> 6: loadNamespace(i, c(lib.loc, .libPaths()), versionCheck = vI[[i]])
> 7: namespaceImport(ns, loadNamespace(i, c(lib.loc, .libPaths()),
> versionCheck = vI[[i]]), from = package)
> 8: loadNamespace(package, c(which.lib.loc, lib.loc))
> 9: doTryCatch(return(expr), name, parentenv, handler)
> 10: tryCatchOne(expr, names, parentenv, handlers[[1L]])
> 11: tryCatchList(expr, classes, parentenv, handlers)
> 12: tryCatch(expr, error = function(e) {    call <- conditionCall(e)    if
> (!is.null(call)) {        if (identical(call[[1L]],
> quote(doTryCatch)))             call <- sys.call(-4L)        dcall <-
> deparse(call)[1L]        prefix <- paste("Error in", dcall, ": ")
> LONG <- 75L        msg <- conditionMessage(e)        sm <- strsplit(msg,
> "\n")[[1L]]        w <- 14L + nchar(dcall, type = "w") + nchar(sm[1L], type
> = "w")        if (is.na(w))             w <- 14L + nchar(dcall, type = "b")
> + nchar(sm[1L],                 type = "b")        if (w >
> LONG)             prefix <- paste0(prefix, "\n  ")    }    else prefix <-
> "Error : "    msg <- paste0(prefix, conditionMessage(e), "\n")
> .Internal(seterrmessage(msg[1L]))    if (!silent &&
> identical(getOption("show.error.messages"),         TRUE)) {
> cat(msg, file = stderr())        .Internal(printDeferredWarnings())    }
> invisible(structure(msg, class = "try-error", condition = e))})
> 13: try({    ns <- loadNamespace(package, c(which.lib.loc, lib.loc))    env
> <- attachNamespace(ns, pos = pos, deps)})
> 14: library("ggplot2")
> 
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
> Selection:
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From jfranco at fagro.edu.uy  Sat Apr 12 00:33:44 2014
From: jfranco at fagro.edu.uy (Jorge Franco)
Date: Fri, 11 Apr 2014 19:33:44 -0300
Subject: [R-SIG-Mac] Problems with R 1.
In-Reply-To: <5A220779-6AA6-417E-9659-2DD9C4683505@r-project.org>
References: <CAJOE-h3U1FEaFCOKq2ZuPLO183EJjN_LGtSL__-MzZaaYkdjaQ@mail.gmail.com>
	<5A220779-6AA6-417E-9659-2DD9C4683505@r-project.org>
Message-ID: <CF6DF312.811C%jfranco@fagro.edu.uy>

I am an old R beginner, to day installed R 3.1.0 mavericks and am having
troubles (the R -d lldb example below worked for me).
Do you think we need simply wait for the packages actualization (like
lsmeans, by example)?
Could we do other actions?
Thank you very much
J Franco

Jorge Franco 
Director, Departamento de Biometria y Estad?stica
Facultad de Agronomia
Universidad de la Republica
Est. Exp. EEMAC, Ruta 3, Km 363
Paysandu
Uruguay





On 4/11/14, 4:28 PM, "Simon Urbanek" <simon.urbanek at r-project.org> wrote:

>Patrick,
>
>could it be that you have older versions of packages installed that were
>not built for Mavericks? Please check .libPaths() to make sure.
>
>I cannot reproduce the issue, so please provide the output of
>sessionInfo() and if you have Xcode 5 installed, please run
>
>R -d lldb
>
>then let it crash and type
>bt
>on the prompt and send us the output.
>
>If you don't have Xcode5 or the above doesn't work, please select option
>1 (abort) in the crash menu and check if you find a crash report.
>
>Thanks,
>Simon
>
>
>On Apr 11, 2014, at 2:58 PM, PatrickT <annoporci at gmail.com> wrote:
>
>> First, sorry if this is a repeat: I just joined the list and don't know
>> what has been discussed recently. Thanks for listening!
>> 
>> I just installed the latest version of R (3.1.0).  I also reinstalled
>>the
>> ggplot2 package. As soon as I execute library("ggplot2") I get the bomb
>> message "R Session Aborted" (in RStudio) or "caught segfault" message
>>(in
>> the R Console).
>> 
>> I'm on Mac OS X Mavericks. I downloaded the Mavericks version, which is
>> specifically designed for the new XCode (or something).
>> 
>> I haven't tried on my Linux because I want to keep at least one working
>> version of R/RStudio.
>> 
>> I tried to look at the log files here:
>> Help Menu -> Diagnostics -> Show Log Files
>> 
>> but they are from last week, which is odd because I use R/RStudio every
>>day.
>> 
>> In the R Console:
>> library("ggplot2")
>> 
>> *** caught segfault ***
>> address 0x18, cause 'memory not mapped'
>> 
>> Traceback:
>> 1: dyn.load(file, DLLpath = DLLpath, ...)
>> 2: library.dynam(lib, package, package.lib)
>> 3: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck =
>> vI[[j]])
>> 4: asNamespace(ns)
>> 5: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc,
>> .libPaths()), versionCheck = vI[[j]]), i[[2L]], from = package)
>> 6: loadNamespace(i, c(lib.loc, .libPaths()), versionCheck = vI[[i]])
>> 7: namespaceImport(ns, loadNamespace(i, c(lib.loc, .libPaths()),
>> versionCheck = vI[[i]]), from = package)
>> 8: loadNamespace(package, c(which.lib.loc, lib.loc))
>> 9: doTryCatch(return(expr), name, parentenv, handler)
>> 10: tryCatchOne(expr, names, parentenv, handlers[[1L]])
>> 11: tryCatchList(expr, classes, parentenv, handlers)
>> 12: tryCatch(expr, error = function(e) {    call <- conditionCall(e)
>>if
>> (!is.null(call)) {        if (identical(call[[1L]],
>> quote(doTryCatch)))             call <- sys.call(-4L)        dcall <-
>> deparse(call)[1L]        prefix <- paste("Error in", dcall, ": ")
>> LONG <- 75L        msg <- conditionMessage(e)        sm <- strsplit(msg,
>> "\n")[[1L]]        w <- 14L + nchar(dcall, type = "w") + nchar(sm[1L],
>>type
>> = "w")        if (is.na(w))             w <- 14L + nchar(dcall, type =
>>"b")
>> + nchar(sm[1L],                 type = "b")        if (w >
>> LONG)             prefix <- paste0(prefix, "\n  ")    }    else prefix
>><-
>> "Error : "    msg <- paste0(prefix, conditionMessage(e), "\n")
>> .Internal(seterrmessage(msg[1L]))    if (!silent &&
>> identical(getOption("show.error.messages"),         TRUE)) {
>> cat(msg, file = stderr())        .Internal(printDeferredWarnings())    }
>> invisible(structure(msg, class = "try-error", condition = e))})
>> 13: try({    ns <- loadNamespace(package, c(which.lib.loc, lib.loc))
>>env
>> <- attachNamespace(ns, pos = pos, deps)})
>> 14: library("ggplot2")
>> 
>> Possible actions:
>> 1: abort (with core dump, if enabled)
>> 2: normal R exit
>> 3: exit R without saving workspace
>> 4: exit R saving workspace
>> Selection:
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at r-project.org
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Sat Apr 12 04:34:06 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 11 Apr 2014 22:34:06 -0400
Subject: [R-SIG-Mac] Problems with R 1.
In-Reply-To: <CF6DF312.811C%jfranco@fagro.edu.uy>
References: <CAJOE-h3U1FEaFCOKq2ZuPLO183EJjN_LGtSL__-MzZaaYkdjaQ@mail.gmail.com>
	<5A220779-6AA6-417E-9659-2DD9C4683505@r-project.org>
	<CF6DF312.811C%jfranco@fagro.edu.uy>
Message-ID: <ED9107F2-0193-4ED8-86C7-025135622F34@r-project.org>

On Apr 11, 2014, at 6:33 PM, Jorge Franco <jfranco at fagro.edu.uy> wrote:

> I am an old R beginner, to day installed R 3.1.0 mavericks and am having troubles (the R -d lldb example below worked for me).

Can you send me the output then?


> Do you think we need simply wait for the packages actualization (like
> lsmeans, by example)?
> Could we do other actions?

Well, unless we find out what's going on, updates won't help since there is nothing to change.

Are you saying you hit the same problem as Patrick?

Thanks,
Simon



> Thank you very much
> J Franco
> 
> Jorge Franco 
> Director, Departamento de Biometria y Estad?stica
> Facultad de Agronomia
> Universidad de la Republica
> Est. Exp. EEMAC, Ruta 3, Km 363
> Paysandu
> Uruguay
> 
> 
> 
> 
> 
> On 4/11/14, 4:28 PM, "Simon Urbanek" <simon.urbanek at r-project.org> wrote:
> 
>> Patrick,
>> 
>> could it be that you have older versions of packages installed that were
>> not built for Mavericks? Please check .libPaths() to make sure.
>> 
>> I cannot reproduce the issue, so please provide the output of
>> sessionInfo() and if you have Xcode 5 installed, please run
>> 
>> R -d lldb
>> 
>> then let it crash and type
>> bt
>> on the prompt and send us the output.
>> 
>> If you don't have Xcode5 or the above doesn't work, please select option
>> 1 (abort) in the crash menu and check if you find a crash report.
>> 
>> Thanks,
>> Simon
>> 
>> 
>> On Apr 11, 2014, at 2:58 PM, PatrickT <annoporci at gmail.com> wrote:
>> 
>>> First, sorry if this is a repeat: I just joined the list and don't know
>>> what has been discussed recently. Thanks for listening!
>>> 
>>> I just installed the latest version of R (3.1.0).  I also reinstalled
>>> the
>>> ggplot2 package. As soon as I execute library("ggplot2") I get the bomb
>>> message "R Session Aborted" (in RStudio) or "caught segfault" message
>>> (in
>>> the R Console).
>>> 
>>> I'm on Mac OS X Mavericks. I downloaded the Mavericks version, which is
>>> specifically designed for the new XCode (or something).
>>> 
>>> I haven't tried on my Linux because I want to keep at least one working
>>> version of R/RStudio.
>>> 
>>> I tried to look at the log files here:
>>> Help Menu -> Diagnostics -> Show Log Files
>>> 
>>> but they are from last week, which is odd because I use R/RStudio every
>>> day.
>>> 
>>> In the R Console:
>>> library("ggplot2")
>>> 
>>> *** caught segfault ***
>>> address 0x18, cause 'memory not mapped'
>>> 
>>> Traceback:
>>> 1: dyn.load(file, DLLpath = DLLpath, ...)
>>> 2: library.dynam(lib, package, package.lib)
>>> 3: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck =
>>> vI[[j]])
>>> 4: asNamespace(ns)
>>> 5: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc,
>>> .libPaths()), versionCheck = vI[[j]]), i[[2L]], from = package)
>>> 6: loadNamespace(i, c(lib.loc, .libPaths()), versionCheck = vI[[i]])
>>> 7: namespaceImport(ns, loadNamespace(i, c(lib.loc, .libPaths()),
>>> versionCheck = vI[[i]]), from = package)
>>> 8: loadNamespace(package, c(which.lib.loc, lib.loc))
>>> 9: doTryCatch(return(expr), name, parentenv, handler)
>>> 10: tryCatchOne(expr, names, parentenv, handlers[[1L]])
>>> 11: tryCatchList(expr, classes, parentenv, handlers)
>>> 12: tryCatch(expr, error = function(e) {    call <- conditionCall(e)
>>> if
>>> (!is.null(call)) {        if (identical(call[[1L]],
>>> quote(doTryCatch)))             call <- sys.call(-4L)        dcall <-
>>> deparse(call)[1L]        prefix <- paste("Error in", dcall, ": ")
>>> LONG <- 75L        msg <- conditionMessage(e)        sm <- strsplit(msg,
>>> "\n")[[1L]]        w <- 14L + nchar(dcall, type = "w") + nchar(sm[1L],
>>> type
>>> = "w")        if (is.na(w))             w <- 14L + nchar(dcall, type =
>>> "b")
>>> + nchar(sm[1L],                 type = "b")        if (w >
>>> LONG)             prefix <- paste0(prefix, "\n  ")    }    else prefix
>>> <-
>>> "Error : "    msg <- paste0(prefix, conditionMessage(e), "\n")
>>> .Internal(seterrmessage(msg[1L]))    if (!silent &&
>>> identical(getOption("show.error.messages"),         TRUE)) {
>>> cat(msg, file = stderr())        .Internal(printDeferredWarnings())    }
>>> invisible(structure(msg, class = "try-error", condition = e))})
>>> 13: try({    ns <- loadNamespace(package, c(which.lib.loc, lib.loc))
>>> env
>>> <- attachNamespace(ns, pos = pos, deps)})
>>> 14: library("ggplot2")
>>> 
>>> Possible actions:
>>> 1: abort (with core dump, if enabled)
>>> 2: normal R exit
>>> 3: exit R without saving workspace
>>> 4: exit R saving workspace
>>> Selection:
>>> 
>>> 	[[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From jeroen.ooms at stat.ucla.edu  Sat Apr 12 05:11:52 2014
From: jeroen.ooms at stat.ucla.edu (Jeroen Ooms)
Date: Fri, 11 Apr 2014 20:11:52 -0700
Subject: [R-SIG-Mac] Missing binary packages for Mavericks
In-Reply-To: <CABFfbXvEGL_KBonimW-o5PWSuUfYcfSKiQFT-27WFPJnET0qGA@mail.gmail.com>
References: <CABFfbXvEGL_KBonimW-o5PWSuUfYcfSKiQFT-27WFPJnET0qGA@mail.gmail.com>
Message-ID: <CABFfbXuO6WqHjnQKQwTjDXyypJxPC4bzfu1Bs_8dGWoZ9hF+qg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140411/350e444e/attachment.pl>

From simon.urbanek at r-project.org  Sat Apr 12 05:36:08 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 11 Apr 2014 23:36:08 -0400
Subject: [R-SIG-Mac] Missing binary packages for Mavericks
In-Reply-To: <CABFfbXuO6WqHjnQKQwTjDXyypJxPC4bzfu1Bs_8dGWoZ9hF+qg@mail.gmail.com>
References: <CABFfbXvEGL_KBonimW-o5PWSuUfYcfSKiQFT-27WFPJnET0qGA@mail.gmail.com>
	<CABFfbXuO6WqHjnQKQwTjDXyypJxPC4bzfu1Bs_8dGWoZ9hF+qg@mail.gmail.com>
Message-ID: <EAF95E39-F2AF-418A-9330-2B9A20A758A8@r-project.org>

On Apr 11, 2014, at 11:11 PM, Jeroen Ooms <jeroen.ooms at stat.ucla.edu> wrote:

> There are actually over 500 packages that do not have a mavericks build.

That's only a small fraction, it's not many more than the failures for the regular build.


> Maybe send some auto generated emails to maintainers?
> 

Some 3rd party library dependencies are not currently available on the Mavericks build machine since they need to be rebuilt for 10.9. I'll try to build those in the near future so the number should go down over time. Given the fairly recent introduction of the Mavericks build, there are still things to iron out. People that don't want to be living on the edge can use the regular build instead.

Cheers,
Simon



> mav <- read.dcf(url("
> http://cran.r-project.org/bin/macosx/mavericks/contrib/3.1/PACKAGES"))
> osx <- read.dcf(url("
> http://cran.r-project.org/bin/macosx/contrib/3.1/PACKAGES"))
> mav <- as.data.frame(mav, stringsAsFactors=FALSE)
> osx <- as.data.frame(osx, stringsAsFactors=FALSE)
> mav$Package[!(mav$Package %in% osx$Package)]
> osx$Package[!(osx$Package %in% mav$Package)]
> 

FWIW there's available.packages() that does the job of pulling what you need.


> On Thu, Apr 10, 2014 at 9:54 PM, Jeroen Ooms <jeroen.ooms at stat.ucla.edu>wrote:
> 
>> Running update.packages on R 3.1 for Mavericks complains that some
>> CRAN packages do not have binary builds available. For example lme4 is
>> missing from http://cran.r-project.org/bin/macosx/mavericks/contrib/3.1/.
>> 
>> Is there any reason for this, or do I just need some patience? I
>> installed lme4 from source and it seems to build without problems.
>> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From jfranco at fagro.edu.uy  Sat Apr 12 12:39:37 2014
From: jfranco at fagro.edu.uy (Jorge Franco)
Date: Sat, 12 Apr 2014 07:39:37 -0300
Subject: [R-SIG-Mac] Problems with R 1.
In-Reply-To: <ED9107F2-0193-4ED8-86C7-025135622F34@r-project.org>
References: <CAJOE-h3U1FEaFCOKq2ZuPLO183EJjN_LGtSL__-MzZaaYkdjaQ@mail.gmail.com>
	<5A220779-6AA6-417E-9659-2DD9C4683505@r-project.org>
	<CF6DF312.811C%jfranco@fagro.edu.uy>
	<ED9107F2-0193-4ED8-86C7-025135622F34@r-project.org>
Message-ID: <CF6E9994.8141%jfranco@fagro.edu.uy>

The terminal output is attached (it did not crash).
No, I have different problems (simpler than Patrick problems, surely).
Following your suggestion "there is nothing to change" I did get the
packages I need by downloading the .tar files (from the CRAN-R-project)
and installing them using Rstudio. For now that's working.
Thanks very much,
J Franco



On 4/11/14, 11:34 PM, "Simon Urbanek" <simon.urbanek at r-project.org> wrote:

>On Apr 11, 2014, at 6:33 PM, Jorge Franco <jfranco at fagro.edu.uy> wrote:
>
>> I am an old R beginner, to day installed R 3.1.0 mavericks and am
>>having troubles (the R -d lldb example below worked for me).
>
>Can you send me the output then?
>
>
>> Do you think we need simply wait for the packages actualization (like
>> lsmeans, by example)?
>> Could we do other actions?
>
>Well, unless we find out what's going on, updates won't help since there
>is nothing to change.
>
>Are you saying you hit the same problem as Patrick?
>
>Thanks,
>Simon
>
>
>
>> Thank you very much
>> J Franco
>> 
>> Jorge Franco 
>> Director, Departamento de Biometria y Estad?stica
>> Facultad de Agronomia
>> Universidad de la Republica
>> Est. Exp. EEMAC, Ruta 3, Km 363
>> Paysandu
>> Uruguay
>> 
>> 
>> 
>> 
>> 
>> On 4/11/14, 4:28 PM, "Simon Urbanek" <simon.urbanek at r-project.org>
>>wrote:
>> 
>>> Patrick,
>>> 
>>> could it be that you have older versions of packages installed that
>>>were
>>> not built for Mavericks? Please check .libPaths() to make sure.
>>> 
>>> I cannot reproduce the issue, so please provide the output of
>>> sessionInfo() and if you have Xcode 5 installed, please run

>>>then let it crash and type
>>> bt
>>> on the prompt and send us the output.
>>> 
>>> If you don't have Xcode5 or the above doesn't work, please select
>>>option
>>> 1 (abort) in the crash menu and check if you find a crash report.
>>> 
>>> Thanks,
>>> Simon
>>> 
>>> 
>>> On Apr 11, 2014, at 2:58 PM, PatrickT <annoporci at gmail.com> wrote:
>>> 
>>>> First, sorry if this is a repeat: I just joined the list and don't
>>>>know
>>>> what has been discussed recently. Thanks for listening!
>>>> 
>>>> I just installed the latest version of R (3.1.0).  I also reinstalled
>>>> the
>>>> ggplot2 package. As soon as I execute library("ggplot2") I get the
>>>>bomb
>>>> message "R Session Aborted" (in RStudio) or "caught segfault" message
>>>> (in
>>>> the R Console).
>>>> 
>>>> I'm on Mac OS X Mavericks. I downloaded the Mavericks version, which
>>>>is
>>>> specifically designed for the new XCode (or something).
>>>> 
>>>> I haven't tried on my Linux because I want to keep at least one
>>>>working
>>>> version of R/RStudio.
>>>> 
>>>> I tried to look at the log files here:
>>>> Help Menu -> Diagnostics -> Show Log Files
>>>> 
>>>> but they are from last week, which is odd because I use R/RStudio
>>>>every
>>>> day.
>>>> 
>>>> In the R Console:
>>>> library("ggplot2")
>>>> 
>>>> *** caught segfault ***
>>>> address 0x18, cause 'memory not mapped'
>>>> 
>>>> Traceback:
>>>> 1: dyn.load(file, DLLpath = DLLpath, ...)
>>>> 2: library.dynam(lib, package, package.lib)
>>>> 3: loadNamespace(j <- i[[1L]], c(lib.loc, .libPaths()), versionCheck =
>>>> vI[[j]])
>>>> 4: asNamespace(ns)
>>>> 5: namespaceImportFrom(ns, loadNamespace(j <- i[[1L]], c(lib.loc,
>>>> .libPaths()), versionCheck = vI[[j]]), i[[2L]], from = package)
>>>> 6: loadNamespace(i, c(lib.loc, .libPaths()), versionCheck = vI[[i]])
>>>> 7: namespaceImport(ns, loadNamespace(i, c(lib.loc, .libPaths()),
>>>> versionCheck = vI[[i]]), from = package)
>>>> 8: loadNamespace(package, c(which.lib.loc, lib.loc))
>>>> 9: doTryCatch(return(expr), name, parentenv, handler)
>>>> 10: tryCatchOne(expr, names, parentenv, handlers[[1L]])
>>>> 11: tryCatchList(expr, classes, parentenv, handlers)
>>>> 12: tryCatch(expr, error = function(e) {    call <- conditionCall(e)
>>>> if
>>>> (!is.null(call)) {        if (identical(call[[1L]],
>>>> quote(doTryCatch)))             call <- sys.call(-4L)        dcall <-
>>>> deparse(call)[1L]        prefix <- paste("Error in", dcall, ": ")
>>>> LONG <- 75L        msg <- conditionMessage(e)        sm <-
>>>>strsplit(msg,
>>>> "\n")[[1L]]        w <- 14L + nchar(dcall, type = "w") + nchar(sm[1L],
>>>> type
>>>> = "w")        if (is.na(w))             w <- 14L + nchar(dcall, type =
>>>> "b")
>>>> + nchar(sm[1L],                 type = "b")        if (w >
>>>> LONG)             prefix <- paste0(prefix, "\n  ")    }    else prefix
>>>> <-
>>>> "Error : "    msg <- paste0(prefix, conditionMessage(e), "\n")
>>>> .Internal(seterrmessage(msg[1L]))    if (!silent &&
>>>> identical(getOption("show.error.messages"),         TRUE)) {
>>>> cat(msg, file = stderr())        .Internal(printDeferredWarnings())
>>>> }
>>>> invisible(structure(msg, class = "try-error", condition = e))})
>>>> 13: try({    ns <- loadNamespace(package, c(which.lib.loc, lib.loc))
>>>> env
>>>> <- attachNamespace(ns, pos = pos, deps)})
>>>> 14: library("ggplot2")
>>>> 
>>>> Possible actions:
>>>> 1: abort (with core dump, if enabled)
>>>> 2: normal R exit
>>>> 3: exit R without saving workspace
>>>> 4: exit R saving workspace
>>>> Selection:
>>>> 
>>>> 	[[alternative HTML version deleted]]
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
>

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Terminal Saved Output.txt
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140412/ddaf7001/attachment.txt>

From marc_schwartz at me.com  Sun Apr 13 17:22:55 2014
From: marc_schwartz at me.com (Marc Schwartz)
Date: Sun, 13 Apr 2014 10:22:55 -0500
Subject: [R-SIG-Mac] R 3.1.0: Running 'R CMD Sweave' deletes non tex files
 created upon batch mode exit
Message-ID: <4E473ADD-6080-496D-AF34-15AEDEE52CDB@me.com>

Hi all,

With R version 3.1.0 on OSX, using either the Snow Leopard or the Mavericks binary installation on a Mac with fully updated Mavericks, there has been a change in behavior since 3.0.3.

I have a master .Rnw file which runs a series of outputs from multiple R code files, each called in BATCH mode using system() from within the master .Rnw file. The output of the R code files go to separate text files in order to catch some of the function call output that would not otherwise be included in the resultant .tex file due to output redirection.

Those text files are then included in the resultant .tex file using, for example:

  \lstinputlisting[caption={}]{test.out}

directives which are included in the .Rnw source file.

A simple example to replicate the observed behaviors.

The test.Rnw file content:

%% R CMD Sweave test.Rnw
<<results=tex,echo=false>>=
system("R CMD BATCH test.R test.out")
@ 


The test.R file content:

options(echo = FALSE)
options(useFancyQuotes = FALSE)
installed.packages()


On version 3.0.3, the file test.out is created, along with test.tex. test.out contains the output of installed.packages(). I did not include the aforementioned listing directive in test.Rnw here for simplicity.

On version 3.1.0, the file test.out is created, but when the R CMD Sweave command exits and returns to the CLI in the console, test.out is deleted, presumably as part of a post R batch session clean up process. The file test.tex is retained.

I uninstalled 3.1.0 and reinstalled 3.0.3 and observed the prior behavior. I then tried clean installs of both the Snow Leopard and Mavericks 3.1.0 binaries, with the new behavior observed in both cases.

In reading the NEWS file for 3.1.0, there are multiple references to Sweave, but there is nothing explicit about this new behavior. 

I should note that when the .Rnw file is run from within an R 3.1.0 interactive session using:

  Sweave("test.Rnw")

the test.out file is created and not deleted upon the function exit, or when exiting the R session back to the console. 

Thus, this new behavior seems to be limited to running Sweave from the CLI using R CMD. It is not clear to me if this new behavior is by design or perhaps an unintended consequence of changes elsewhere in Sweave processing or in the handling of R in BATCH mode.

When watching the folder where the file output activity takes place, I note that a file .build.timestamp is created and then deleted, which leads me to believe that the new functions fileSnapshot() and changedFiles() are being used in the course of processing R in BATCH mode. If that is correct and there is a clean up step that is occurring upon BATCH mode exit, which deletes all files and folders other than .tex files, is it possible that this process is being overly aggressive? Or if not, is there a way to not have these files deleted or have a protected folder where these files can be retained?

Thanks for any insights.

Regards,

Marc Schwartz


From bhh at xs4all.nl  Sun Apr 13 17:35:52 2014
From: bhh at xs4all.nl (Berend Hasselman)
Date: Sun, 13 Apr 2014 17:35:52 +0200
Subject: [R-SIG-Mac] Opening NEWS in R.app gives error message
Message-ID: <3374EF92-FE3B-49C9-B017-1455EE6D5BE5@xs4all.nl>



In R.app (version 1.64 (6734)) for R version 3.10 regardless of Snow Leopard or Mavericks 
the menu entry Help, What?s New In This Version shows the R.app NEWS but not the R NEWS.

An error message is issued in the console:

The file /Library/Frameworks/R.framework/Resources/NEWS does not exist.

Accessing NEWS for R via the menu entry R help, ?  does display R NEWS.

Berend

From neilt at neiltiffin.com  Sun Apr 13 21:11:44 2014
From: neilt at neiltiffin.com (Neil Tiffin)
Date: Sun, 13 Apr 2014 14:11:44 -0500
Subject: [R-SIG-Mac] R.app Package Manager Bug?
Message-ID: <80AE0016-A918-4030-A67D-842DAAAB1830@neiltiffin.com>

When I select 'Package Manager' from the 'Packages & Data' menu in R.app nothing happens and I get the following in the R Console window:

Error: '.find.package' is defunct.
Use 'find.package' instead.
See help("Defunct")

Is this a known problem or do I have something messed up?

Thanks,
Neil

Just upgraded to 3.1.0.

> sessionInfo()
R version 3.1.0 (2014-04-10)
Platform: x86_64-apple-darwin10.8.0 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utile     datasets  methods   base     

From maechler at stat.math.ethz.ch  Mon Apr 14 14:28:12 2014
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Mon, 14 Apr 2014 14:28:12 +0200
Subject: [R-SIG-Mac] R 3.1.0: 'R CMD Sweave' deletes non tex files
	created upon batch mode exit
In-Reply-To: <4E473ADD-6080-496D-AF34-15AEDEE52CDB@me.com>
References: <4E473ADD-6080-496D-AF34-15AEDEE52CDB@me.com>
Message-ID: <21323.54364.87334.81949@stat.math.ethz.ch>

>>>>> Marc Schwartz <marc_schwartz at me.com>
>>>>>     on Sun, 13 Apr 2014 10:22:55 -0500 writes:

[on the R-SIG-Mac  mailing list] :	  

    > Hi all,
    > With R version 3.1.0 on OSX, using either the Snow Leopard or the Mavericks binary installation on a Mac with fully updated Mavericks, there has been a change in behavior since 3.0.3.

I've just written to R-core about this:

    R CMD Sweave

has *serious* problems also in the very simple case when it
should produce figures: They are not available after the
completion of R CMD Sweave,
confirming your  'deletes non tex files created upon batch mode exit'

So this is not related to OSX only, but also a big problem 
at least on other *nix descendent platforms, such as Linux.

In short, failure (no graphic produce in the example below) by

   R CMD Sweave foo.Rnw

but all is fine with using Sweave(), as you Marc, noted, and hence with  

   Rscript -e 'Sweave("foo.Rnw")'

... and to answer your question:  
No this was not intended and is probably one of the bigger / 
most embarrassing bugs in a newly released version of R
in my view: 

Basically  'R CMD Sweave' is partly broken in R 3.1.0.
Yes, this should never have happened.

I had to partially revert the R 3.1.0 installation here (our
statistics dept), by making R 3.0.3 the default 'R'
for now, as we are relying on 'R CMD Sweave ..' in many places.

Personally I've never noticed the problem, as I seem to always
Sweave from ESS (Emacs speaks statistics) which calls  Sweave()
in R, and that works fine, also in  R 3.1.0, as you've already
noted 

Martin Maechler, ETH Zurich

%------------------------------------------------------------
\documentclass[12pt]{article}
\usepackage{Sweave}
\begin{document}  Just a simple graphic 

<<qqnorm, fig=TRUE>>= 
qqnorm(rnorm(20))
@ 

and that's all, folks!
\end{document}
%------------------------------------------------------------

    > I have a master .Rnw file which runs a series of outputs from multiple R code files, each called in BATCH mode using system() from within the master .Rnw file. The output of the R code files go to separate text files in order to catch some of the function call output that would not otherwise be included in the resultant .tex file due to output redirection.

    > Those text files are then included in the resultant .tex file using, for example:

    > \lstinputlisting[caption={}]{test.out}

    > directives which are included in the .Rnw source file.

    > A simple example to replicate the observed behaviors.

    > The test.Rnw file content:

    > %% R CMD Sweave test.Rnw
    > <<results=tex,echo=false>>=
    > system("R CMD BATCH test.R test.out")
    > @ 


    > The test.R file content:

    > options(echo = FALSE)
    > options(useFancyQuotes = FALSE)
    > installed.packages()


    > On version 3.0.3, the file test.out is created, along with test.tex. test.out contains the output of installed.packages(). I did not include the aforementioned listing directive in test.Rnw here for simplicity.

    > On version 3.1.0, the file test.out is created, but when the R CMD Sweave command exits and returns to the CLI in the console, test.out is deleted, presumably as part of a post R batch session clean up process. The file test.tex is retained.

    > I uninstalled 3.1.0 and reinstalled 3.0.3 and observed the prior behavior. I then tried clean installs of both the Snow Leopard and Mavericks 3.1.0 binaries, with the new behavior observed in both cases.

    > In reading the NEWS file for 3.1.0, there are multiple references to Sweave, but there is nothing explicit about this new behavior. 

    > I should note that when the .Rnw file is run from within an R 3.1.0 interactive session using:

    > Sweave("test.Rnw")

    > the test.out file is created and not deleted upon the function exit, or when exiting the R session back to the console. 

    > Thus, this new behavior seems to be limited to running Sweave from the CLI using R CMD. It is not clear to me if this new behavior is by design or perhaps an unintended consequence of changes elsewhere in Sweave processing or in the handling of R in BATCH mode.

    > When watching the folder where the file output activity takes place, I note that a file .build.timestamp is created and then deleted, which leads me to believe that the new functions fileSnapshot() and changedFiles() are being used in the course of processing R in BATCH mode. If that is correct and there is a clean up step that is occurring upon BATCH mode exit, which deletes all files and folders other than .tex files, is it possible that this process is being overly aggressive? Or if not, is there a way to not have these files deleted or have a protected folder where these files can be retained?

    > Thanks for any insights.

    > Regards,

    > Marc Schwartz


From marc_schwartz at me.com  Mon Apr 14 16:23:06 2014
From: marc_schwartz at me.com (Marc Schwartz)
Date: Mon, 14 Apr 2014 09:23:06 -0500
Subject: [R-SIG-Mac] [Rd] R 3.1.0: 'R CMD Sweave' deletes non tex files
 created upon batch mode exit
In-Reply-To: <21323.54364.87334.81949@stat.math.ethz.ch>
References: <4E473ADD-6080-496D-AF34-15AEDEE52CDB@me.com>
	<21323.54364.87334.81949@stat.math.ethz.ch>
Message-ID: <CAD32310-9E37-43A0-8CA6-9FF4A01C5324@me.com>

Hi Martin,

Thanks for your confirmation on this.

I normally do not use R CMD Sweave, as I too run under ESS in normal day to day operations. This finding was a quirk of having a particular Rnw document that I occasionally run using R CMD Sweave and I had done so over the weekend, realizing this behavior.

Thanks again.

Regards,

Marc


On Apr 14, 2014, at 7:28 AM, Martin Maechler <maechler at stat.math.ethz.ch> wrote:

>>>>>> Marc Schwartz <marc_schwartz at me.com>
>>>>>>    on Sun, 13 Apr 2014 10:22:55 -0500 writes:
> 
> [on the R-SIG-Mac  mailing list] :	  
> 
>> Hi all,
>> With R version 3.1.0 on OSX, using either the Snow Leopard or the Mavericks binary installation on a Mac with fully updated Mavericks, there has been a change in behavior since 3.0.3.
> 
> I've just written to R-core about this:
> 
>    R CMD Sweave
> 
> has *serious* problems also in the very simple case when it
> should produce figures: They are not available after the
> completion of R CMD Sweave,
> confirming your  'deletes non tex files created upon batch mode exit'
> 
> So this is not related to OSX only, but also a big problem 
> at least on other *nix descendent platforms, such as Linux.
> 
> In short, failure (no graphic produce in the example below) by
> 
>   R CMD Sweave foo.Rnw
> 
> but all is fine with using Sweave(), as you Marc, noted, and hence with  
> 
>   Rscript -e 'Sweave("foo.Rnw")'
> 
> ... and to answer your question:  
> No this was not intended and is probably one of the bigger / 
> most embarrassing bugs in a newly released version of R
> in my view: 
> 
> Basically  'R CMD Sweave' is partly broken in R 3.1.0.
> Yes, this should never have happened.
> 
> I had to partially revert the R 3.1.0 installation here (our
> statistics dept), by making R 3.0.3 the default 'R'
> for now, as we are relying on 'R CMD Sweave ..' in many places.
> 
> Personally I've never noticed the problem, as I seem to always
> Sweave from ESS (Emacs speaks statistics) which calls  Sweave()
> in R, and that works fine, also in  R 3.1.0, as you've already
> noted 
> 
> Martin Maechler, ETH Zurich
> 
> %------------------------------------------------------------
> \documentclass[12pt]{article}
> \usepackage{Sweave}
> \begin{document}  Just a simple graphic 
> 
> <<qqnorm, fig=TRUE>>= 
> qqnorm(rnorm(20))
> @ 
> 
> and that's all, folks!
> \end{document}
> %------------------------------------------------------------
> 
>> I have a master .Rnw file which runs a series of outputs from multiple R code files, each called in BATCH mode using system() from within the master .Rnw file. The output of the R code files go to separate text files in order to catch some of the function call output that would not otherwise be included in the resultant .tex file due to output redirection.
> 
>> Those text files are then included in the resultant .tex file using, for example:
> 
>> \lstinputlisting[caption={}]{test.out}
> 
>> directives which are included in the .Rnw source file.
> 
>> A simple example to replicate the observed behaviors.
> 
>> The test.Rnw file content:
> 
>> %% R CMD Sweave test.Rnw
>> <<results=tex,echo=false>>=
>> system("R CMD BATCH test.R test.out")
>> @ 
> 
> 
>> The test.R file content:
> 
>> options(echo = FALSE)
>> options(useFancyQuotes = FALSE)
>> installed.packages()
> 
> 
>> On version 3.0.3, the file test.out is created, along with test.tex. test.out contains the output of installed.packages(). I did not include the aforementioned listing directive in test.Rnw here for simplicity.
> 
>> On version 3.1.0, the file test.out is created, but when the R CMD Sweave command exits and returns to the CLI in the console, test.out is deleted, presumably as part of a post R batch session clean up process. The file test.tex is retained.
> 
>> I uninstalled 3.1.0 and reinstalled 3.0.3 and observed the prior behavior. I then tried clean installs of both the Snow Leopard and Mavericks 3.1.0 binaries, with the new behavior observed in both cases.
> 
>> In reading the NEWS file for 3.1.0, there are multiple references to Sweave, but there is nothing explicit about this new behavior. 
> 
>> I should note that when the .Rnw file is run from within an R 3.1.0 interactive session using:
> 
>> Sweave("test.Rnw")
> 
>> the test.out file is created and not deleted upon the function exit, or when exiting the R session back to the console. 
> 
>> Thus, this new behavior seems to be limited to running Sweave from the CLI using R CMD. It is not clear to me if this new behavior is by design or perhaps an unintended consequence of changes elsewhere in Sweave processing or in the handling of R in BATCH mode.
> 
>> When watching the folder where the file output activity takes place, I note that a file .build.timestamp is created and then deleted, which leads me to believe that the new functions fileSnapshot() and changedFiles() are being used in the course of processing R in BATCH mode. If that is correct and there is a clean up step that is occurring upon BATCH mode exit, which deletes all files and folders other than .tex files, is it possible that this process is being overly aggressive? Or if not, is there a way to not have these files deleted or have a protected folder where these files can be retained?
> 
>> Thanks for any insights.
> 
>> Regards,
> 
>> Marc Schwartz


From hb at biostat.ucsf.edu  Mon Apr 14 19:00:45 2014
From: hb at biostat.ucsf.edu (Henrik Bengtsson)
Date: Mon, 14 Apr 2014 10:00:45 -0700
Subject: [R-SIG-Mac] [Rd] R 3.1.0: 'R CMD Sweave' deletes non tex files
 created upon batch mode exit
In-Reply-To: <21323.54364.87334.81949@stat.math.ethz.ch>
References: <4E473ADD-6080-496D-AF34-15AEDEE52CDB@me.com>
	<21323.54364.87334.81949@stat.math.ethz.ch>
Message-ID: <CAFDcVCTQdfrN=r5QqYCagfQ4iR+LigwonVOe=417BqLBvagEGg@mail.gmail.com>

Until fixed, one way to fool R here without changing the vignette or
anything else seems to be (verified on Windows):

mkdir figures
set SWEAVE_OPTIONS=prefix.string=figures/fig
R CMD Sweave foo.Rnw

That obviously has some limitations.

/Henrik


On Mon, Apr 14, 2014 at 5:28 AM, Martin Maechler
<maechler at stat.math.ethz.ch> wrote:
>>>>>> Marc Schwartz <marc_schwartz at me.com>
>>>>>>     on Sun, 13 Apr 2014 10:22:55 -0500 writes:
>
> [on the R-SIG-Mac  mailing list] :
>
>     > Hi all,
>     > With R version 3.1.0 on OSX, using either the Snow Leopard or the Mavericks binary installation on a Mac with fully updated Mavericks, there has been a change in behavior since 3.0.3.
>
> I've just written to R-core about this:
>
>     R CMD Sweave
>
> has *serious* problems also in the very simple case when it
> should produce figures: They are not available after the
> completion of R CMD Sweave,
> confirming your  'deletes non tex files created upon batch mode exit'
>
> So this is not related to OSX only, but also a big problem
> at least on other *nix descendent platforms, such as Linux.
>
> In short, failure (no graphic produce in the example below) by
>
>    R CMD Sweave foo.Rnw
>
> but all is fine with using Sweave(), as you Marc, noted, and hence with
>
>    Rscript -e 'Sweave("foo.Rnw")'
>
> ... and to answer your question:
> No this was not intended and is probably one of the bigger /
> most embarrassing bugs in a newly released version of R
> in my view:
>
> Basically  'R CMD Sweave' is partly broken in R 3.1.0.
> Yes, this should never have happened.
>
> I had to partially revert the R 3.1.0 installation here (our
> statistics dept), by making R 3.0.3 the default 'R'
> for now, as we are relying on 'R CMD Sweave ..' in many places.
>
> Personally I've never noticed the problem, as I seem to always
> Sweave from ESS (Emacs speaks statistics) which calls  Sweave()
> in R, and that works fine, also in  R 3.1.0, as you've already
> noted
>
> Martin Maechler, ETH Zurich
>
> %------------------------------------------------------------
> \documentclass[12pt]{article}
> \usepackage{Sweave}
> \begin{document}  Just a simple graphic
>
> <<qqnorm, fig=TRUE>>=
> qqnorm(rnorm(20))
> @
>
> and that's all, folks!
> \end{document}
> %------------------------------------------------------------
>
>     > I have a master .Rnw file which runs a series of outputs from multiple R code files, each called in BATCH mode using system() from within the master .Rnw file. The output of the R code files go to separate text files in order to catch some of the function call output that would not otherwise be included in the resultant .tex file due to output redirection.
>
>     > Those text files are then included in the resultant .tex file using, for example:
>
>     > \lstinputlisting[caption={}]{test.out}
>
>     > directives which are included in the .Rnw source file.
>
>     > A simple example to replicate the observed behaviors.
>
>     > The test.Rnw file content:
>
>     > %% R CMD Sweave test.Rnw
>     > <<results=tex,echo=false>>=
>     > system("R CMD BATCH test.R test.out")
>     > @
>
>
>     > The test.R file content:
>
>     > options(echo = FALSE)
>     > options(useFancyQuotes = FALSE)
>     > installed.packages()
>
>
>     > On version 3.0.3, the file test.out is created, along with test.tex. test.out contains the output of installed.packages(). I did not include the aforementioned listing directive in test.Rnw here for simplicity.
>
>     > On version 3.1.0, the file test.out is created, but when the R CMD Sweave command exits and returns to the CLI in the console, test.out is deleted, presumably as part of a post R batch session clean up process. The file test.tex is retained.
>
>     > I uninstalled 3.1.0 and reinstalled 3.0.3 and observed the prior behavior. I then tried clean installs of both the Snow Leopard and Mavericks 3.1.0 binaries, with the new behavior observed in both cases.
>
>     > In reading the NEWS file for 3.1.0, there are multiple references to Sweave, but there is nothing explicit about this new behavior.
>
>     > I should note that when the .Rnw file is run from within an R 3.1.0 interactive session using:
>
>     > Sweave("test.Rnw")
>
>     > the test.out file is created and not deleted upon the function exit, or when exiting the R session back to the console.
>
>     > Thus, this new behavior seems to be limited to running Sweave from the CLI using R CMD. It is not clear to me if this new behavior is by design or perhaps an unintended consequence of changes elsewhere in Sweave processing or in the handling of R in BATCH mode.
>
>     > When watching the folder where the file output activity takes place, I note that a file .build.timestamp is created and then deleted, which leads me to believe that the new functions fileSnapshot() and changedFiles() are being used in the course of processing R in BATCH mode. If that is correct and there is a clean up step that is occurring upon BATCH mode exit, which deletes all files and folders other than .tex files, is it possible that this process is being overly aggressive? Or if not, is there a way to not have these files deleted or have a protected folder where these files can be retained?
>
>     > Thanks for any insights.
>
>     > Regards,
>
>     > Marc Schwartz
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel


From jeales at gmail.com  Tue Apr 15 13:17:24 2014
From: jeales at gmail.com (James Eales)
Date: Tue, 15 Apr 2014 04:17:24 -0700
Subject: [R-SIG-Mac] R.app Package Manager Bug?
In-Reply-To: <80AE0016-A918-4030-A67D-842DAAAB1830@neiltiffin.com>
References: <80AE0016-A918-4030-A67D-842DAAAB1830@neiltiffin.com>
Message-ID: <d5363dad-c90d-4277-a2de-e20ed2b272e9@googlegroups.com>

+1
I see this too, on both mavericks and ordinary mac build of R.app
Its because R 3.1.0 has made ".find.package" a defunct function
We'll need to wait for the R.app developers to change the code behind the 
package manager to use "find.package" instead of ".find.package"
Hopefully it'll be a simple fix

> sessionInfo()
R version 3.1.0 (2014-04-10)
Platform: x86_64-apple-darwin10.8.0 (64-bit)

locale:
[1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] BiocInstaller_1.15.1

loaded via a namespace (and not attached):
[1] tools_3.1.0


On Sunday, 13 April 2014 20:11:44 UTC+1, Neil Tiffin wrote:
>
> When I select 'Package Manager' from the 'Packages & Data' menu in R.app 
> nothing happens and I get the following in the R Console window: 
>
> Error: '.find.package' is defunct. 
> Use 'find.package' instead. 
> See help("Defunct") 
>
> Is this a known problem or do I have something messed up? 
>
> Thanks, 
> Neil 
>
> Just upgraded to 3.1.0. 
>
> > sessionInfo() 
> R version 3.1.0 (2014-04-10) 
> Platform: x86_64-apple-darwin10.8.0 (64-bit) 
>
> locale: 
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8 
>
> attached base packages: 
> [1] stats     graphics  grDevices utile     datasets  methods   base     
> _______________________________________________ 
> R-SIG-Mac mailing list 
> R-SI... at r-project.org <javascript:> 
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac 
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140415/07067a23/attachment.html>

From jeales at gmail.com  Tue Apr 15 13:17:24 2014
From: jeales at gmail.com (James Eales)
Date: Tue, 15 Apr 2014 04:17:24 -0700 (PDT)
Subject: [R-SIG-Mac] R.app Package Manager Bug?
In-Reply-To: <80AE0016-A918-4030-A67D-842DAAAB1830@neiltiffin.com>
References: <80AE0016-A918-4030-A67D-842DAAAB1830@neiltiffin.com>
Message-ID: <d5363dad-c90d-4277-a2de-e20ed2b272e9@googlegroups.com>

+1
I see this too, on both mavericks and ordinary mac build of R.app
Its because R 3.1.0 has made ".find.package" a defunct function
We'll need to wait for the R.app developers to change the code behind the 
package manager to use "find.package" instead of ".find.package"
Hopefully it'll be a simple fix

> sessionInfo()
R version 3.1.0 (2014-04-10)
Platform: x86_64-apple-darwin10.8.0 (64-bit)

locale:
[1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] BiocInstaller_1.15.1

loaded via a namespace (and not attached):
[1] tools_3.1.0


On Sunday, 13 April 2014 20:11:44 UTC+1, Neil Tiffin wrote:
>
> When I select 'Package Manager' from the 'Packages & Data' menu in R.app 
> nothing happens and I get the following in the R Console window: 
>
> Error: '.find.package' is defunct. 
> Use 'find.package' instead. 
> See help("Defunct") 
>
> Is this a known problem or do I have something messed up? 
>
> Thanks, 
> Neil 
>
> Just upgraded to 3.1.0. 
>
> > sessionInfo() 
> R version 3.1.0 (2014-04-10) 
> Platform: x86_64-apple-darwin10.8.0 (64-bit) 
>
> locale: 
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8 
>
> attached base packages: 
> [1] stats     graphics  grDevices utile     datasets  methods   base     
> _______________________________________________ 
> R-SIG-Mac mailing list 
> R-SI... at r-project.org <javascript:> 
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac 
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140415/07067a23/attachment-0001.html>

From murdoch.duncan at gmail.com  Tue Apr 15 13:14:55 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 15 Apr 2014 07:14:55 -0400
Subject: [R-SIG-Mac] [Rd] R 3.1.0: 'R CMD Sweave' deletes non tex files
 created upon batch mode exit
In-Reply-To: <CAD32310-9E37-43A0-8CA6-9FF4A01C5324@me.com>
References: <4E473ADD-6080-496D-AF34-15AEDEE52CDB@me.com>	<21323.54364.87334.81949@stat.math.ethz.ch>
	<CAD32310-9E37-43A0-8CA6-9FF4A01C5324@me.com>
Message-ID: <534D14AF.8020500@gmail.com>

On 14/04/2014, 10:23 AM, Marc Schwartz wrote:
> Hi Martin,
>
> Thanks for your confirmation on this.
>
> I normally do not use R CMD Sweave, as I too run under ESS in normal day to day operations. This finding was a quirk of having a particular Rnw document that I occasionally run using R CMD Sweave and I had done so over the weekend, realizing this behavior.

This sounds like an argument for dropping R CMD Sweave, rather than 
fixing it.  The bug was introduced in July, 2013, and nobody noticed it 
because so few people use that feature, and apparently nobody who does 
use it bothers to test pre-release versions.

Duncan Murdoch

> Thanks again.
>
> Regards,
>
> Marc
>
>
> On Apr 14, 2014, at 7:28 AM, Martin Maechler <maechler at stat.math.ethz.ch> wrote:
>
>>>>>>> Marc Schwartz <marc_schwartz at me.com>
>>>>>>>     on Sun, 13 Apr 2014 10:22:55 -0500 writes:
>>
>> [on the R-SIG-Mac  mailing list] :	
>>
>>> Hi all,
>>> With R version 3.1.0 on OSX, using either the Snow Leopard or the Mavericks binary installation on a Mac with fully updated Mavericks, there has been a change in behavior since 3.0.3.
>>
>> I've just written to R-core about this:
>>
>>     R CMD Sweave
>>
>> has *serious* problems also in the very simple case when it
>> should produce figures: They are not available after the
>> completion of R CMD Sweave,
>> confirming your  'deletes non tex files created upon batch mode exit'
>>
>> So this is not related to OSX only, but also a big problem
>> at least on other *nix descendent platforms, such as Linux.
>>
>> In short, failure (no graphic produce in the example below) by
>>
>>    R CMD Sweave foo.Rnw
>>
>> but all is fine with using Sweave(), as you Marc, noted, and hence with
>>
>>    Rscript -e 'Sweave("foo.Rnw")'
>>
>> ... and to answer your question:
>> No this was not intended and is probably one of the bigger /
>> most embarrassing bugs in a newly released version of R
>> in my view:
>>
>> Basically  'R CMD Sweave' is partly broken in R 3.1.0.
>> Yes, this should never have happened.
>>
>> I had to partially revert the R 3.1.0 installation here (our
>> statistics dept), by making R 3.0.3 the default 'R'
>> for now, as we are relying on 'R CMD Sweave ..' in many places.
>>
>> Personally I've never noticed the problem, as I seem to always
>> Sweave from ESS (Emacs speaks statistics) which calls  Sweave()
>> in R, and that works fine, also in  R 3.1.0, as you've already
>> noted
>>
>> Martin Maechler, ETH Zurich
>>
>> %------------------------------------------------------------
>> \documentclass[12pt]{article}
>> \usepackage{Sweave}
>> \begin{document}  Just a simple graphic
>>
>> <<qqnorm, fig=TRUE>>=
>> qqnorm(rnorm(20))
>> @
>>
>> and that's all, folks!
>> \end{document}
>> %------------------------------------------------------------
>>
>>> I have a master .Rnw file which runs a series of outputs from multiple R code files, each called in BATCH mode using system() from within the master .Rnw file. The output of the R code files go to separate text files in order to catch some of the function call output that would not otherwise be included in the resultant .tex file due to output redirection.
>>
>>> Those text files are then included in the resultant .tex file using, for example:
>>
>>> \lstinputlisting[caption={}]{test.out}
>>
>>> directives which are included in the .Rnw source file.
>>
>>> A simple example to replicate the observed behaviors.
>>
>>> The test.Rnw file content:
>>
>>> %% R CMD Sweave test.Rnw
>>> <<results=tex,echo=false>>=
>>> system("R CMD BATCH test.R test.out")
>>> @
>>
>>
>>> The test.R file content:
>>
>>> options(echo = FALSE)
>>> options(useFancyQuotes = FALSE)
>>> installed.packages()
>>
>>
>>> On version 3.0.3, the file test.out is created, along with test.tex. test.out contains the output of installed.packages(). I did not include the aforementioned listing directive in test.Rnw here for simplicity.
>>
>>> On version 3.1.0, the file test.out is created, but when the R CMD Sweave command exits and returns to the CLI in the console, test.out is deleted, presumably as part of a post R batch session clean up process. The file test.tex is retained.
>>
>>> I uninstalled 3.1.0 and reinstalled 3.0.3 and observed the prior behavior. I then tried clean installs of both the Snow Leopard and Mavericks 3.1.0 binaries, with the new behavior observed in both cases.
>>
>>> In reading the NEWS file for 3.1.0, there are multiple references to Sweave, but there is nothing explicit about this new behavior.
>>
>>> I should note that when the .Rnw file is run from within an R 3.1.0 interactive session using:
>>
>>> Sweave("test.Rnw")
>>
>>> the test.out file is created and not deleted upon the function exit, or when exiting the R session back to the console.
>>
>>> Thus, this new behavior seems to be limited to running Sweave from the CLI using R CMD. It is not clear to me if this new behavior is by design or perhaps an unintended consequence of changes elsewhere in Sweave processing or in the handling of R in BATCH mode.
>>
>>> When watching the folder where the file output activity takes place, I note that a file .build.timestamp is created and then deleted, which leads me to believe that the new functions fileSnapshot() and changedFiles() are being used in the course of processing R in BATCH mode. If that is correct and there is a clean up step that is occurring upon BATCH mode exit, which deletes all files and folders other than .tex files, is it possible that this process is being overly aggressive? Or if not, is there a way to not have these files deleted or have a protected folder where these files can be retained?
>>
>>> Thanks for any insights.
>>
>>> Regards,
>>
>>> Marc Schwartz
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>


From agustin.diez at uv.es  Tue Apr 15 13:57:04 2014
From: agustin.diez at uv.es (Agustin Angel Diez Castillo)
Date: Tue, 15 Apr 2014 13:57:04 +0200
Subject: [R-SIG-Mac] Problems updating rgdal in 3.1.0 (when building from
	source)
In-Reply-To: <534D14AF.8020500@gmail.com>
Message-ID: <7b0d-534d1e80-9-6b8b4580@8158875>

Hi,
I'm in trouble when trying to update rgdal in 3.1.0 in Mavericks. There is no binary and installing for source claims that I've no libproj in standard or given locations. I do have several libproj both in /usr/local/lib and in /Library/Frameworks/PROJ.framework/Versions/4.8/unix/lib/, how can I to force the build to look to the later that I'm more confident is the wright one?
Any help will be very much appreciated.
Thanks.
A






sessionInfo()
R version 3.1.0 (2014-04-10)
Platform: x86_64-apple-darwin13.1.0 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base 

checking for pj_init_plus in -lproj... no
configure: error: libproj not found in standard or given locations.
ERROR: configuration failed for package ?rgdal?
* removing ?/Users/adiez/Library/R/3.1/library/rgdal?

The downloaded source packages are in
	?/private/var/folders/sm/1djysrdj1clbzvn35gv8vqq40000gn/T/Rtmpl6DW9M/downloaded_packages?* restoring previous ?/Users/adiez/Library/R/3.1/library/rgdal?

Warning message:
In install.packages("rgdal", type = "source") :
  installation of package ?rgdal? had non-zero exit status


install.packages("rgdal")
Installing package into ?/Users/adiez/Library/R/3.1/library?
(as ?lib? is unspecified)

   package ?rgdal? is available as a source package but not as a binary

Warning message:
package ?rgdal? is not available (for R version 3.1.0)


From pdalgd at gmail.com  Tue Apr 15 14:12:31 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 15 Apr 2014 14:12:31 +0200
Subject: [R-SIG-Mac] [Rd] R 3.1.0: 'R CMD Sweave' deletes non tex files
	created upon batch mode exit
In-Reply-To: <534D14AF.8020500@gmail.com>
References: <4E473ADD-6080-496D-AF34-15AEDEE52CDB@me.com>	<21323.54364.87334.81949@stat.math.ethz.ch>
	<CAD32310-9E37-43A0-8CA6-9FF4A01C5324@me.com>
	<534D14AF.8020500@gmail.com>
Message-ID: <2C3A5ADD-8560-448F-8042-74D68EBF922D@gmail.com>


On 15 Apr 2014, at 13:14 , Duncan Murdoch <murdoch.duncan at gmail.com> wrote:

> On 14/04/2014, 10:23 AM, Marc Schwartz wrote:
>> Hi Martin,
>> 
>> Thanks for your confirmation on this.
>> 
>> I normally do not use R CMD Sweave, as I too run under ESS in normal day to day operations. This finding was a quirk of having a particular Rnw document that I occasionally run using R CMD Sweave and I had done so over the weekend, realizing this behavior.
> 
> This sounds like an argument for dropping R CMD Sweave, rather than fixing it.  The bug was introduced in July, 2013, and nobody noticed it because so few people use that feature, and apparently nobody who does use it bothers to test pre-release versions.
> 

I'd say that that cat is out of the bag. There are probably umpteen documents around suggesting "R CMD Sweave". As people use Sweave only sporadically, it could take years before the old usage got stamped out. And anyways, the command format is the obvious way to generate documents in scripts and makefiles, isn't it?

-pd

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From csardi.gabor at gmail.com  Tue Apr 15 14:24:22 2014
From: csardi.gabor at gmail.com (=?UTF-8?B?R8OhYm9yIENzw6FyZGk=?=)
Date: Tue, 15 Apr 2014 08:24:22 -0400
Subject: [R-SIG-Mac] [Rd] R 3.1.0: 'R CMD Sweave' deletes non tex files
 created upon batch mode exit
In-Reply-To: <534D14AF.8020500@gmail.com>
References: <4E473ADD-6080-496D-AF34-15AEDEE52CDB@me.com>
	<21323.54364.87334.81949@stat.math.ethz.ch>
	<CAD32310-9E37-43A0-8CA6-9FF4A01C5324@me.com>
	<534D14AF.8020500@gmail.com>
Message-ID: <CABtg=KmhEf6c+3J47tfAW32rZE+hNiaS3Cwx89n0Ypn+eSN_Ug@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140415/9016db80/attachment.pl>

From jeroen.ooms at stat.ucla.edu  Wed Apr 16 01:55:33 2014
From: jeroen.ooms at stat.ucla.edu (Jeroen Ooms)
Date: Tue, 15 Apr 2014 16:55:33 -0700
Subject: [R-SIG-Mac] Cairo: Fontconfig error: Cannot load default config file
Message-ID: <CABFfbXumM2V24SEb3eyXcwmBS12W58=2q72=w=6E+idE0m0u8Q@mail.gmail.com>

Running on R 3.1 on my Mavericks laptop:

options(bitmapType = "cairo");
svg("cars.svg", width=11.69, height=8.27)
plot(cars)
dev.off()

Gives a message: Fontconfig error: Cannot load default config file.
The text in the svg seems heavily pixelated. The same happens when
using png().

IIRC, this did not happen on R 3.0, although I am now starting to
doubt this. Is there anything on my machine that I try to
update/reinstall to fix this?


From murray at stokely.org  Wed Apr 16 04:03:07 2014
From: murray at stokely.org (Murray Stokely)
Date: Tue, 15 Apr 2014 19:03:07 -0700
Subject: [R-SIG-Mac] Cairo: Fontconfig error: Cannot load default config
	file
In-Reply-To: <CABFfbXumM2V24SEb3eyXcwmBS12W58=2q72=w=6E+idE0m0u8Q@mail.gmail.com>
References: <CABFfbXumM2V24SEb3eyXcwmBS12W58=2q72=w=6E+idE0m0u8Q@mail.gmail.com>
Message-ID: <CAECWzi+8mcA0ZhFm=-BfxrZQm2ie50GZqo5SMYdh48HpAHF+JQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140415/8c9d2817/attachment.pl>

From Carl.Witthoft at utas.utc.com  Tue Apr 15 14:07:55 2014
From: Carl.Witthoft at utas.utc.com (Witthoft, Carl G UTAS)
Date: Tue, 15 Apr 2014 12:07:55 +0000
Subject: [R-SIG-Mac] R.app Package Mgr Bug
Message-ID: <2DBCC16CE4CA8C468AAEF0DF346612381E2D37B9@NHC0EX59.goodrich.root.local>

Just a thought, but what if you overload the defunct function in your .Globalenv ?

.find.package<-function(package, lib.loc = NULL, quiet = FALSE,
             verbose = getOption("verbose") )  find.package(package, lib.loc , quiet,  verbose) 

I don't know whether that workaround will be "recognized" by the package manager.

Message: 1
Date: Tue, 15 Apr 2014 04:17:24 -0700
From: James Eales <jeales at gmail.com>
To: <r-sig-mac at googlegroups.com>
Cc: r-sig-mac at r-project.org
Subject: Re: [R-SIG-Mac] R.app Package Manager Bug?
Message-ID: <d5363dad-c90d-4277-a2de-e20ed2b272e9 at googlegroups.com>
Content-Type: text/plain; charset="utf-8"

+1
I see this too, on both mavericks and ordinary mac build of R.app Its because R 3.1.0 has made ".find.package" a defunct function We'll need to wait for the R.app developers to change the code behind the package manager to use "find.package" instead of ".find.package"
Hopefully it'll be a simple fix


From daveiles at omicsltd.com  Wed Apr 16 11:20:49 2014
From: daveiles at omicsltd.com (David Iles)
Date: Wed, 16 Apr 2014 09:20:49 +0000
Subject: [R-SIG-Mac] OS X R console Package Manager error
Message-ID: <CF7321DC.1159%daveiles@omicsltd.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140416/3fc66e16/attachment.pl>

From jeales at gmail.com  Wed Apr 16 12:06:45 2014
From: jeales at gmail.com (James Eales)
Date: Wed, 16 Apr 2014 03:06:45 -0700
Subject: [R-SIG-Mac] R.app Package Mgr Bug
In-Reply-To: <2DBCC16CE4CA8C468AAEF0DF346612381E2D37B9@NHC0EX59.goodrich.root.local>
References: <2DBCC16CE4CA8C468AAEF0DF346612381E2D37B9@NHC0EX59.goodrich.root.local>
Message-ID: <93a6b68c-419b-42a7-a5be-3ff847bcbe75@googlegroups.com>

Unfortunately that didn't work for me, however I may have been doing it 
wrong, I was using 
assign(".find.package",func,envir=.GlobalEnv)

But I just looked at the R.app source
When we click "Package Manager"
it calls package.manager()
So you can just rewrite that function like this (notice the call to 
.find.package is replaced with find.package)
I might try putting this in my profile

package.manager <- function () 
{
    if (.Platform$GUI != "AQUA") 
        stop("this function is intended to work with the Aqua GUI")
    loaded.pkgs <- .packages()
    x <- library()
    x <- x$results[x$results[, 1] != "base", ]
    pkgs <- x[, 1]
    pkgs.desc <- x[, 3]
    is.loaded <- !is.na(match(pkgs, loaded.pkgs))
    pkgs.status <- character(length(is.loaded))
    pkgs.status[which(is.loaded)] <- "loaded"
    pkgs.status[which(!is.loaded)] <- " "
    pkgs.url <- file.path(find.package(pkgs), "html", "00Index.html")
    load.idx <- .Call("pkgmanager", is.loaded, pkgs, pkgs.desc, 
        pkgs.url)
    toload <- which(load.idx & !is.loaded)
    tounload <- which(is.loaded & !load.idx)
    for (i in tounload) {
        cat("unloading package:", pkgs[i], "\n")
        do.call("detach", list(paste("package", pkgs[i], sep = ":")))
    }
    for (i in toload) {
        cat("loading package:", pkgs[i], "\n")
        library(pkgs[i], character.only = TRUE)
    }
}




On Tuesday, 15 April 2014 13:07:55 UTC+1, Witthoft, Carl G UTAS wrote:
>
> Just a thought, but what if you overload the defunct function in your 
> .Globalenv ? 
>
> .find.package<-function(package, lib.loc = NULL, quiet = FALSE, 
>              verbose = getOption("verbose") )  find.package(package, 
> lib.loc , quiet,  verbose) 
>
> I don't know whether that workaround will be "recognized" by the package 
> manager. 
>
> Message: 1 
> Date: Tue, 15 Apr 2014 04:17:24 -0700 
> From: James Eales <jeales at gmail.com> 
> To: <r-sig-mac at googlegroups.com> 
> Cc: r-sig-mac at r-project.org 
> Subject: Re: [R-SIG-Mac] R.app Package Manager Bug? 
> Message-ID: <d5363dad-c90d-4277-a2de-e20ed2b272e9 at googlegroups.com> 
> Content-Type: text/plain; charset="utf-8" 
>
> +1 
> I see this too, on both mavericks and ordinary mac build of R.app Its 
> because R 3.1.0 has made ".find.package" a defunct function We'll need to 
> wait for the R.app developers to change the code behind the package manager 
> to use "find.package" instead of ".find.package" 
> Hopefully it'll be a simple fix 
>
> _______________________________________________ 
> R-SIG-Mac mailing list 
> R-SIG-Mac at r-project.org 
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac 
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140416/ef54ab7c/attachment.html>

From jeales at gmail.com  Wed Apr 16 12:06:45 2014
From: jeales at gmail.com (James Eales)
Date: Wed, 16 Apr 2014 03:06:45 -0700 (PDT)
Subject: [R-SIG-Mac] R.app Package Mgr Bug
In-Reply-To: <2DBCC16CE4CA8C468AAEF0DF346612381E2D37B9@NHC0EX59.goodrich.root.local>
References: <2DBCC16CE4CA8C468AAEF0DF346612381E2D37B9@NHC0EX59.goodrich.root.local>
Message-ID: <93a6b68c-419b-42a7-a5be-3ff847bcbe75@googlegroups.com>

Unfortunately that didn't work for me, however I may have been doing it 
wrong, I was using 
assign(".find.package",func,envir=.GlobalEnv)

But I just looked at the R.app source
When we click "Package Manager"
it calls package.manager()
So you can just rewrite that function like this (notice the call to 
.find.package is replaced with find.package)
I might try putting this in my profile

package.manager <- function () 
{
    if (.Platform$GUI != "AQUA") 
        stop("this function is intended to work with the Aqua GUI")
    loaded.pkgs <- .packages()
    x <- library()
    x <- x$results[x$results[, 1] != "base", ]
    pkgs <- x[, 1]
    pkgs.desc <- x[, 3]
    is.loaded <- !is.na(match(pkgs, loaded.pkgs))
    pkgs.status <- character(length(is.loaded))
    pkgs.status[which(is.loaded)] <- "loaded"
    pkgs.status[which(!is.loaded)] <- " "
    pkgs.url <- file.path(find.package(pkgs), "html", "00Index.html")
    load.idx <- .Call("pkgmanager", is.loaded, pkgs, pkgs.desc, 
        pkgs.url)
    toload <- which(load.idx & !is.loaded)
    tounload <- which(is.loaded & !load.idx)
    for (i in tounload) {
        cat("unloading package:", pkgs[i], "\n")
        do.call("detach", list(paste("package", pkgs[i], sep = ":")))
    }
    for (i in toload) {
        cat("loading package:", pkgs[i], "\n")
        library(pkgs[i], character.only = TRUE)
    }
}




On Tuesday, 15 April 2014 13:07:55 UTC+1, Witthoft, Carl G UTAS wrote:
>
> Just a thought, but what if you overload the defunct function in your 
> .Globalenv ? 
>
> .find.package<-function(package, lib.loc = NULL, quiet = FALSE, 
>              verbose = getOption("verbose") )  find.package(package, 
> lib.loc , quiet,  verbose) 
>
> I don't know whether that workaround will be "recognized" by the package 
> manager. 
>
> Message: 1 
> Date: Tue, 15 Apr 2014 04:17:24 -0700 
> From: James Eales <jeales at gmail.com> 
> To: <r-sig-mac at googlegroups.com> 
> Cc: r-sig-mac at r-project.org 
> Subject: Re: [R-SIG-Mac] R.app Package Manager Bug? 
> Message-ID: <d5363dad-c90d-4277-a2de-e20ed2b272e9 at googlegroups.com> 
> Content-Type: text/plain; charset="utf-8" 
>
> +1 
> I see this too, on both mavericks and ordinary mac build of R.app Its 
> because R 3.1.0 has made ".find.package" a defunct function We'll need to 
> wait for the R.app developers to change the code behind the package manager 
> to use "find.package" instead of ".find.package" 
> Hopefully it'll be a simple fix 
>
> _______________________________________________ 
> R-SIG-Mac mailing list 
> R-SIG-Mac at r-project.org 
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac 
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140416/ef54ab7c/attachment-0001.html>

From jeales at gmail.com  Wed Apr 16 12:08:35 2014
From: jeales at gmail.com (James Eales)
Date: Wed, 16 Apr 2014 03:08:35 -0700
Subject: [R-SIG-Mac] OS X R console Package Manager error
In-Reply-To: <CF7321DC.1159%daveiles@omicsltd.com>
References: <CF7321DC.1159%daveiles@omicsltd.com>
Message-ID: <87d7c984-82ff-48f8-ace3-dc368168572a@googlegroups.com>

Hello,
I had exactly the same trouble
Try pasting this into the console then click "Package Manager" again

package.manager <- function () 
{
    if (.Platform$GUI != "AQUA") 
        stop("this function is intended to work with the Aqua GUI")
    loaded.pkgs <- .packages()
    x <- library()
    x <- x$results[x$results[, 1] != "base", ]
    pkgs <- x[, 1]
    pkgs.desc <- x[, 3]
    is.loaded <- !is.na(match(pkgs, loaded.pkgs))
    pkgs.status <- character(length(is.loaded))
    pkgs.status[which(is.loaded)] <- "loaded"
    pkgs.status[which(!is.loaded)] <- " "
    pkgs.url <- file.path(find.package(pkgs), "html", "00Index.html")
    load.idx <- .Call("pkgmanager", is.loaded, pkgs, pkgs.desc, 
        pkgs.url)
    toload <- which(load.idx & !is.loaded)
    tounload <- which(is.loaded & !load.idx)
    for (i in tounload) {
        cat("unloading package:", pkgs[i], "\n")
        do.call("detach", list(paste("package", pkgs[i], sep = ":")))
    }
    for (i in toload) {
        cat("loading package:", pkgs[i], "\n")
        library(pkgs[i], character.only = TRUE)
    }
}

On Wednesday, 16 April 2014 10:20:49 UTC+1, David Iles wrote:
>
> Hi Folks, 
>
> I updated my version of R yesterday using the R-3.1.0-snowleopard.pkg 
> downloaded from CRAN. I tried to open Package Manager, but it failed to 
> open, with the following message.... 
>
> Error: '.find.package' is defunct. 
> Use 'find.package' instead. 
> See help("Defunct") 
>
> I deleted R.app and the R frameworks folder, and re-installed R from 
> scratch, but the error persists. Clearly I have missed something from 
> previous installations that is still lurking somewhere on my computer. Can 
> anyone point me to what I need to delete/edit/update to correct this issue? 
>
> Many thanks, 
>
> Dr David Iles 
> Visiting Research Fellow 
> School of Biology 
> University of Leeds 
> Leeds LS2 9JT 
>
> > sessionInfo() 
> R version 3.1.0 (2014-04-10) 
> Platform: x86_64-apple-darwin10.8.0 (64-bit) 
>
> locale: 
> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8 
>
> attached base packages: 
> [1] stats     graphics  grDevices utils     datasets  methods   base 
> > 
>
>         [[alternative HTML version deleted]] 
>
> _______________________________________________ 
> R-SIG-Mac mailing list 
> R-SI... at r-project.org <javascript:> 
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac 
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140416/c878422b/attachment-0001.html>

From jeales at gmail.com  Wed Apr 16 12:08:35 2014
From: jeales at gmail.com (James Eales)
Date: Wed, 16 Apr 2014 03:08:35 -0700 (PDT)
Subject: [R-SIG-Mac] OS X R console Package Manager error
In-Reply-To: <CF7321DC.1159%daveiles@omicsltd.com>
References: <CF7321DC.1159%daveiles@omicsltd.com>
Message-ID: <87d7c984-82ff-48f8-ace3-dc368168572a@googlegroups.com>

Hello,
I had exactly the same trouble
Try pasting this into the console then click "Package Manager" again

package.manager <- function () 
{
    if (.Platform$GUI != "AQUA") 
        stop("this function is intended to work with the Aqua GUI")
    loaded.pkgs <- .packages()
    x <- library()
    x <- x$results[x$results[, 1] != "base", ]
    pkgs <- x[, 1]
    pkgs.desc <- x[, 3]
    is.loaded <- !is.na(match(pkgs, loaded.pkgs))
    pkgs.status <- character(length(is.loaded))
    pkgs.status[which(is.loaded)] <- "loaded"
    pkgs.status[which(!is.loaded)] <- " "
    pkgs.url <- file.path(find.package(pkgs), "html", "00Index.html")
    load.idx <- .Call("pkgmanager", is.loaded, pkgs, pkgs.desc, 
        pkgs.url)
    toload <- which(load.idx & !is.loaded)
    tounload <- which(is.loaded & !load.idx)
    for (i in tounload) {
        cat("unloading package:", pkgs[i], "\n")
        do.call("detach", list(paste("package", pkgs[i], sep = ":")))
    }
    for (i in toload) {
        cat("loading package:", pkgs[i], "\n")
        library(pkgs[i], character.only = TRUE)
    }
}

On Wednesday, 16 April 2014 10:20:49 UTC+1, David Iles wrote:
>
> Hi Folks, 
>
> I updated my version of R yesterday using the R-3.1.0-snowleopard.pkg 
> downloaded from CRAN. I tried to open Package Manager, but it failed to 
> open, with the following message.... 
>
> Error: '.find.package' is defunct. 
> Use 'find.package' instead. 
> See help("Defunct") 
>
> I deleted R.app and the R frameworks folder, and re-installed R from 
> scratch, but the error persists. Clearly I have missed something from 
> previous installations that is still lurking somewhere on my computer. Can 
> anyone point me to what I need to delete/edit/update to correct this issue? 
>
> Many thanks, 
>
> Dr David Iles 
> Visiting Research Fellow 
> School of Biology 
> University of Leeds 
> Leeds LS2 9JT 
>
> > sessionInfo() 
> R version 3.1.0 (2014-04-10) 
> Platform: x86_64-apple-darwin10.8.0 (64-bit) 
>
> locale: 
> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8 
>
> attached base packages: 
> [1] stats     graphics  grDevices utils     datasets  methods   base 
> > 
>
>         [[alternative HTML version deleted]] 
>
> _______________________________________________ 
> R-SIG-Mac mailing list 
> R-SI... at r-project.org <javascript:> 
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac 
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140416/c878422b/attachment-0002.html>

From daveiles at omicsltd.com  Wed Apr 16 12:54:47 2014
From: daveiles at omicsltd.com (David Iles)
Date: Wed, 16 Apr 2014 10:54:47 +0000
Subject: [R-SIG-Mac] OS X R console Package Manager error
In-Reply-To: <87d7c984-82ff-48f8-ace3-dc368168572a@googlegroups.com>
References: <CF7321DC.1159%daveiles@omicsltd.com>
	<87d7c984-82ff-48f8-ace3-dc368168572a@googlegroups.com>
Message-ID: <CF741E35.11B6%daveiles@omicsltd.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140416/2bc485f7/attachment.pl>

From blair.christian at gmail.com  Wed Apr 16 16:21:46 2014
From: blair.christian at gmail.com (Blair Christian)
Date: Wed, 16 Apr 2014 10:21:46 -0400
Subject: [R-SIG-Mac] R-SIG-Mac Digest, Vol 134, Issue 15
In-Reply-To: <mailman.19.1397642408.1400.r-sig-mac@r-project.org>
References: <mailman.19.1397642408.1400.r-sig-mac@r-project.org>
Message-ID: <CAFT9XHyYCc0QnCzsduzD0mqz5fP=+XdEcsDhV5Njrok77Xmbtw@mail.gmail.com>

Hi All,

We use "R CMD Sweave" in our reporting workflow and we also call
"sweave()" interactively or via ESS (depending on who you talk to).  I
didn't notice the bug until we changed a dev machine's ubuntu R
repository from the standard ubuntu repository which provides R (3.0.1
a couple weeks ago?) to the cran repository mirror which upgraded us
to the 3.1 beta.
http://cran.us.r-project.org/bin/linux/ubuntu/

My vote is to keep the R CMD Sweave functionality.

What is considered the appropriate pre-release version to test?
(I think part of this question is answered in section 1.2 of R-admin
documentation, http://cran.r-project.org/doc/manuals/r-release/R-admin.pdf
)  [Actually it is r-devel]

"The alpha, beta and RC versions of an upcoming x.y.0 release are available from
?https://svn.r-project.org/R/branches/R-x-y-branch/? in the four-week
period prior to
the release"
It looks like proposed release dates are on:
http://developer.r-project.org/

However, if we find issues, what is the appropriate way to browse
current dev issues to see if something is reported already?  (A
friendly link to the friendly documentation would be helpful if it's
out there).  One reason I didn't report the issue when I found it was
that it was not 100% clear to me where the appropriate place to report
it was (another was that I didn't have time to create a small, clean
reproducible version of the bug).  I have worked with systems like
JIRA in the past, and the ability to have bug reports with links to
the patched version correcting the bug was really nice.  What is the R
equivalent here to check and see if a bug has been reported, in
progress, or fixed (eg location which shows the R-patched version to
upgrade to)?

The best I can find there is to either look at the RSS feed or look at
the svn log for the last k days, eg
http://developer.r-project.org/RSSfeeds.html
svn log -v -r HEAD:\{`date +%Y-%m-%d -d'k days ago'`\}
https://svn.r-project.org/R
depending on the granularity you want?

Is that about right, or am I totally missing some key pieces of information?

Best,
Blair





>>> Hi Martin,
>>>
>>> Thanks for your confirmation on this.
>>>
>>> I normally do not use R CMD Sweave, as I too run under ESS in normal day to day operations. This finding was a quirk of having a particular Rnw document that I occasionally run using R CMD Sweave and I had done so over the weekend, realizing this behavior.
>>
>> This sounds like an argument for dropping R CMD Sweave, rather than fixing it.  The bug was introduced in July, 2013, and nobody noticed it because so few people use that feature, and apparently nobody who does use it bothers to test pre-release versions.
>>
>
> I'd say that that cat is out of the bag. There are probably umpteen documents around suggesting "R CMD Sweave". As people use Sweave only sporadically, it could take years before the old usage got stamped out. And anyways, the command format is the obvious way to generate documents in scripts and makefiles, isn't it?
>


From simon.urbanek at r-project.org  Wed Apr 16 16:33:45 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 16 Apr 2014 10:33:45 -0400
Subject: [R-SIG-Mac] R-SIG-Mac Digest, Vol 134, Issue 15
In-Reply-To: <CAFT9XHyYCc0QnCzsduzD0mqz5fP=+XdEcsDhV5Njrok77Xmbtw@mail.gmail.com>
References: <mailman.19.1397642408.1400.r-sig-mac@r-project.org>
	<CAFT9XHyYCc0QnCzsduzD0mqz5fP=+XdEcsDhV5Njrok77Xmbtw@mail.gmail.com>
Message-ID: <BD10F033-785C-44B4-B08F-4851E11E5ACB@r-project.org>


On Apr 16, 2014, at 10:21 AM, Blair Christian <blair.christian at gmail.com> wrote:

> Hi All,
> 
> We use "R CMD Sweave" in our reporting workflow and we also call
> "sweave()" interactively or via ESS (depending on who you talk to).  I
> didn't notice the bug until we changed a dev machine's ubuntu R
> repository from the standard ubuntu repository which provides R (3.0.1
> a couple weeks ago?) to the cran repository mirror which upgraded us
> to the 3.1 beta.
> http://cran.us.r-project.org/bin/linux/ubuntu/
> 
> My vote is to keep the R CMD Sweave functionality.
> 
> What is considered the appropriate pre-release version to test?
> (I think part of this question is answered in section 1.2 of R-admin
> documentation, http://cran.r-project.org/doc/manuals/r-release/R-admin.pdf
> )  [Actually it is r-devel]
> 
> "The alpha, beta and RC versions of an upcoming x.y.0 release are available from
> ?https://svn.r-project.org/R/branches/R-x-y-branch/? in the four-week
> period prior to
> the release"
> It looks like proposed release dates are on:
> http://developer.r-project.org/
> 
> However, if we find issues, what is the appropriate way to browse
> current dev issues to see if something is reported already?  (A
> friendly link to the friendly documentation would be helpful if it's
> out there).  One reason I didn't report the issue when I found it was
> that it was not 100% clear to me where the appropriate place to report
> it was (another was that I didn't have time to create a small, clean
> reproducible version of the bug).  I have worked with systems like
> JIRA in the past, and the ability to have bug reports with links to
> the patched version correcting the bug was really nice.  What is the R
> equivalent here to check and see if a bug has been reported, in
> progress, or fixed (eg location which shows the R-patched version to
> upgrade to)?
> 
> The best I can find there is to either look at the RSS feed or look at
> the svn log for the last k days, eg
> http://developer.r-project.org/RSSfeeds.html
> svn log -v -r HEAD:\{`date +%Y-%m-%d -d'k days ago'`\}
> https://svn.r-project.org/R
> depending on the granularity you want?
> 
> Is that about right, or am I totally missing some key pieces of information?
> 

If you found bug, report it on
bugs.r-project.org
It's really that simple, no need to link anything special. If the bug is already reported, you'll also find it there - along with the info whether it has been fixed or not. There is normally no "in progress" sate - it's report -> confirm -> fix or reject and the last two are typically one step - pretty simple no magic.

Cheers,
Simon


> 
> 
> 
> 
>>>> Hi Martin,
>>>> 
>>>> Thanks for your confirmation on this.
>>>> 
>>>> I normally do not use R CMD Sweave, as I too run under ESS in normal day to day operations. This finding was a quirk of having a particular Rnw document that I occasionally run using R CMD Sweave and I had done so over the weekend, realizing this behavior.
>>> 
>>> This sounds like an argument for dropping R CMD Sweave, rather than fixing it.  The bug was introduced in July, 2013, and nobody noticed it because so few people use that feature, and apparently nobody who does use it bothers to test pre-release versions.
>>> 
>> 
>> I'd say that that cat is out of the bag. There are probably umpteen documents around suggesting "R CMD Sweave". As people use Sweave only sporadically, it could take years before the old usage got stamped out. And anyways, the command format is the obvious way to generate documents in scripts and makefiles, isn't it?
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Wed Apr 16 16:50:51 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 16 Apr 2014 10:50:51 -0400
Subject: [R-SIG-Mac] Cairo: Fontconfig error: Cannot load default config
	file
In-Reply-To: <CABFfbXumM2V24SEb3eyXcwmBS12W58=2q72=w=6E+idE0m0u8Q@mail.gmail.com>
References: <CABFfbXumM2V24SEb3eyXcwmBS12W58=2q72=w=6E+idE0m0u8Q@mail.gmail.com>
Message-ID: <B2E00DF1-CD98-4ECE-9F04-913B95A4F6ED@r-project.org>

Thanks, this was an issue in the fontconfig used by 3.1.0, now fixed. You will need to upgrade R and possibly packages that use fontconfig.

Cheers,
Simon


On Apr 15, 2014, at 7:55 PM, Jeroen Ooms <jeroen.ooms at stat.ucla.edu> wrote:

> Running on R 3.1 on my Mavericks laptop:
> 
> options(bitmapType = "cairo");
> svg("cars.svg", width=11.69, height=8.27)
> plot(cars)
> dev.off()
> 
> Gives a message: Fontconfig error: Cannot load default config file.
> The text in the svg seems heavily pixelated. The same happens when
> using png().
> 
> IIRC, this did not happen on R 3.0, although I am now starting to
> doubt this. Is there anything on my machine that I try to
> update/reinstall to fix this?
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From simon.urbanek at r-project.org  Wed Apr 16 19:41:43 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 16 Apr 2014 13:41:43 -0400
Subject: [R-SIG-Mac] R.app Package Manager Bug?
In-Reply-To: <80AE0016-A918-4030-A67D-842DAAAB1830@neiltiffin.com>
References: <80AE0016-A918-4030-A67D-842DAAAB1830@neiltiffin.com>
Message-ID: <052C7AA5-96AA-438A-8AB8-1A429044F958@r-project.org>

Thanks, this is now fixed in the latest GUI that can be downloaded form

http://r.research.att.com

You can simply grab the latest R 3.1.0-patched form there and get other bug fixes as well.

Cheers,
Simon


On Apr 13, 2014, at 3:11 PM, Neil Tiffin <neilt at neiltiffin.com> wrote:

> When I select 'Package Manager' from the 'Packages & Data' menu in R.app nothing happens and I get the following in the R Console window:
> 
> Error: '.find.package' is defunct.
> Use 'find.package' instead.
> See help("Defunct")
> 
> Is this a known problem or do I have something messed up?
> 
> Thanks,
> Neil
> 
> Just upgraded to 3.1.0.
> 
>> sessionInfo()
> R version 3.1.0 (2014-04-10)
> Platform: x86_64-apple-darwin10.8.0 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utile     datasets  methods   base     
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From gorillayue at gmail.com  Fri Apr 18 03:56:48 2014
From: gorillayue at gmail.com (Yue Li)
Date: Thu, 17 Apr 2014 21:56:48 -0400
Subject: [R-SIG-Mac] Cairo: Fontconfig error: Cannot load default config
	file
Message-ID: <848EA7B6-8652-418A-9BC7-B7AF5A8AF254@gmail.com>

Dear Simon,

I saw your post on this thread. I'm experiencing exactly the same issue right now and don't know how it is "now fixed". Could you please enlighten me on that?

Thanks much,
Yue

From simon.urbanek at r-project.org  Fri Apr 18 04:13:27 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 17 Apr 2014 22:13:27 -0400
Subject: [R-SIG-Mac] Cairo: Fontconfig error: Cannot load default config
	file
In-Reply-To: <848EA7B6-8652-418A-9BC7-B7AF5A8AF254@gmail.com>
References: <848EA7B6-8652-418A-9BC7-B7AF5A8AF254@gmail.com>
Message-ID: <10B55AE6-AB90-450F-A7EE-035412B265BB@r-project.org>


On Apr 17, 2014, at 9:56 PM, Yue Li <gorillayue at gmail.com> wrote:

> Dear Simon,
> 
> I saw your post on this thread. I'm experiencing exactly the same issue right now and don't know how it is "now fixed". Could you please enlighten me on that?
> 

Download and install the latest R 3.1.0 Patched from 

http://r.research.att.com/

Cheers,
Simon


From gorillayue at gmail.com  Fri Apr 18 04:20:58 2014
From: gorillayue at gmail.com (Yue Li)
Date: Thu, 17 Apr 2014 22:20:58 -0400
Subject: [R-SIG-Mac] Cairo: Fontconfig error: Cannot load default config
	file
In-Reply-To: <10B55AE6-AB90-450F-A7EE-035412B265BB@r-project.org>
References: <848EA7B6-8652-418A-9BC7-B7AF5A8AF254@gmail.com>
	<10B55AE6-AB90-450F-A7EE-035412B265BB@r-project.org>
Message-ID: <8804128E-B7A4-40DC-8ADE-D19963CB66B5@gmail.com>

Fixed! Thanks a lot!

On Apr 17, 2014, at 10:13 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:

> 
> On Apr 17, 2014, at 9:56 PM, Yue Li <gorillayue at gmail.com> wrote:
> 
>> Dear Simon,
>> 
>> I saw your post on this thread. I'm experiencing exactly the same issue right now and don't know how it is "now fixed". Could you please enlighten me on that?
>> 
> 
> Download and install the latest R 3.1.0 Patched from 
> 
> http://r.research.att.com/
> 
> Cheers,
> Simon
> 
> 


From dmck at u.washington.edu  Fri Apr 18 20:45:41 2014
From: dmck at u.washington.edu (Don McKenzie)
Date: Fri, 18 Apr 2014 11:45:41 -0700
Subject: [R-SIG-Mac] [R] error in Package manager in GUI
Message-ID: <D630F08B-E5FF-46E6-8145-A3A6D3B37547@u.washington.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140418/08ecb6a8/attachment.pl>

From igow at hbs.edu  Fri Apr 18 21:05:50 2014
From: igow at hbs.edu (Gow, Ian)
Date: Fri, 18 Apr 2014 15:05:50 -0400
Subject: [R-SIG-Mac] [R] error in Package manager in GUI
In-Reply-To: <D630F08B-E5FF-46E6-8145-A3A6D3B37547@u.washington.edu>
References: <D630F08B-E5FF-46E6-8145-A3A6D3B37547@u.washington.edu>
Message-ID: <8F233DFC-2F1E-44B3-B667-645A477B0807@hbs.edu>

I think you're not alone. See here for solution: https://stat.ethz.ch/pipermail/r-sig-mac/2014-April/010820.html

On Apr 18, 2014, at 2:45 PM, Don McKenzie <dmck at u.washington.edu> wrote:

> I just installed 3.1.0 (sessionInfo below). Using the dropdown Packages & Data -> Package Manager in the GUI
> throws an error onto the console
> 
> Error: '.find.package' is defunct.
> Use 'find.package' instead.
> See help("Defunct?)
> 
> Is the GUI dropdown calling a defunct function?  I have always found this GUI item to be a handy way to see what I have installed and loaded, so would hate to see it go away. Of course I know I can use the command line to get the same info.
> 
> Thanks
> 
>> sessionInfo()
> R version 3.1.0 (2014-04-10)
> Platform: x86_64-apple-darwin13.1.0 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
> 
> loaded via a namespace (and not attached):
> [1] tools_3.1.0
> 
> 
> 
> Don McKenzie
> Research Ecologist
> Pacific Wildland Fire Sciences Lab
> US Forest Service
> 
> Affiliate Professor
> School of Environmental and Forest Sciences
> University of Washington
> dmck at uw.edu
> 
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> <ATT00001.c>


From dmck at u.washington.edu  Fri Apr 18 21:08:24 2014
From: dmck at u.washington.edu (Don McKenzie)
Date: Fri, 18 Apr 2014 12:08:24 -0700
Subject: [R-SIG-Mac] [R] error in Package manager in GUI
In-Reply-To: <8F233DFC-2F1E-44B3-B667-645A477B0807@hbs.edu>
References: <D630F08B-E5FF-46E6-8145-A3A6D3B37547@u.washington.edu>
	<8F233DFC-2F1E-44B3-B667-645A477B0807@hbs.edu>
Message-ID: <AAB21386-CAF2-41F4-8FBB-F818CB8326D7@u.washington.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140418/bd21ea9d/attachment.pl>

From jeroen.ooms at stat.ucla.edu  Fri Apr 18 22:22:26 2014
From: jeroen.ooms at stat.ucla.edu (Jeroen Ooms)
Date: Fri, 18 Apr 2014 13:22:26 -0700
Subject: [R-SIG-Mac] Cairo: Fontconfig error: Cannot load default config
	file
In-Reply-To: <B2E00DF1-CD98-4ECE-9F04-913B95A4F6ED@r-project.org>
References: <CABFfbXumM2V24SEb3eyXcwmBS12W58=2q72=w=6E+idE0m0u8Q@mail.gmail.com>
	<B2E00DF1-CD98-4ECE-9F04-913B95A4F6ED@r-project.org>
Message-ID: <CABFfbXse0aF=c9=w789DVgCJQ7JPJi6CBegmYBKHug+WQ5gUcQ@mail.gmail.com>

I am also experiencing a performance regression for svg and png after
upgrading to R 3.1 on Linux. Could that be related to this problem, or
was this problem specific to OSX?






On Wed, Apr 16, 2014 at 7:50 AM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
> Thanks, this was an issue in the fontconfig used by 3.1.0, now fixed. You will need to upgrade R and possibly packages that use fontconfig.
>
> Cheers,
> Simon
>
>
> On Apr 15, 2014, at 7:55 PM, Jeroen Ooms <jeroen.ooms at stat.ucla.edu> wrote:
>
>> Running on R 3.1 on my Mavericks laptop:
>>
>> options(bitmapType = "cairo");
>> svg("cars.svg", width=11.69, height=8.27)
>> plot(cars)
>> dev.off()
>>
>> Gives a message: Fontconfig error: Cannot load default config file.
>> The text in the svg seems heavily pixelated. The same happens when
>> using png().
>>
>> IIRC, this did not happen on R 3.0, although I am now starting to
>> doubt this. Is there anything on my machine that I try to
>> update/reinstall to fix this?
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>


From simon.urbanek at r-project.org  Fri Apr 18 22:42:02 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 18 Apr 2014 16:42:02 -0400
Subject: [R-SIG-Mac] Cairo: Fontconfig error: Cannot load default config
	file
In-Reply-To: <CABFfbXse0aF=c9=w789DVgCJQ7JPJi6CBegmYBKHug+WQ5gUcQ@mail.gmail.com>
References: <CABFfbXumM2V24SEb3eyXcwmBS12W58=2q72=w=6E+idE0m0u8Q@mail.gmail.com>
	<B2E00DF1-CD98-4ECE-9F04-913B95A4F6ED@r-project.org>
	<CABFfbXse0aF=c9=w789DVgCJQ7JPJi6CBegmYBKHug+WQ5gUcQ@mail.gmail.com>
Message-ID: <F9CE0396-3AFC-42A5-BE20-CF4D684F55C9@r-project.org>

On Apr 18, 2014, at 4:22 PM, Jeroen Ooms <jeroen.ooms at stat.ucla.edu> wrote:

> I am also experiencing a performance regression for svg and png after
> upgrading to R 3.1 on Linux. Could that be related to this problem, or
> was this problem specific to OSX?
> 

That was specific to the fontconfig binary linked into R for the binary distribution and the config files shipped with it - it had nothing to do with R itself and thus shouldn't really be relevant to other platforms.

Cheers,
Simon



> On Wed, Apr 16, 2014 at 7:50 AM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> Thanks, this was an issue in the fontconfig used by 3.1.0, now fixed. You will need to upgrade R and possibly packages that use fontconfig.
>> 
>> Cheers,
>> Simon
>> 
>> 
>> On Apr 15, 2014, at 7:55 PM, Jeroen Ooms <jeroen.ooms at stat.ucla.edu> wrote:
>> 
>>> Running on R 3.1 on my Mavericks laptop:
>>> 
>>> options(bitmapType = "cairo");
>>> svg("cars.svg", width=11.69, height=8.27)
>>> plot(cars)
>>> dev.off()
>>> 
>>> Gives a message: Fontconfig error: Cannot load default config file.
>>> The text in the svg seems heavily pixelated. The same happens when
>>> using png().
>>> 
>>> IIRC, this did not happen on R 3.0, although I am now starting to
>>> doubt this. Is there anything on my machine that I try to
>>> update/reinstall to fix this?
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
> 


From geoffjentry at hexdump.org  Wed Apr 16 16:23:13 2014
From: geoffjentry at hexdump.org (Geoff Jentry)
Date: Wed, 16 Apr 2014 07:23:13 -0700
Subject: [R-SIG-Mac] [Rd] R 3.1.0: 'R CMD Sweave' deletes non tex files
 created upon batch mode exit
In-Reply-To: <2C3A5ADD-8560-448F-8042-74D68EBF922D@gmail.com>
References: <4E473ADD-6080-496D-AF34-15AEDEE52CDB@me.com>
	<21323.54364.87334.81949@stat.math.ethz.ch>
	<CAD32310-9E37-43A0-8CA6-9FF4A01C5324@me.com>
	<534D14AF.8020500@gmail.com>
	<2C3A5ADD-8560-448F-8042-74D68EBF922D@gmail.com>
Message-ID: <alpine.DEB.2.00.1404160722070.10135@cardinals.dreamhost.com>

On Tue, 15 Apr 2014, peter dalgaard wrote:
> I'd say that that cat is out of the bag. There are probably umpteen 
> documents around suggesting "R CMD Sweave". As people use Sweave only 
> sporadically, it could take years before the old usage got stamped out. 
> And anyways, the command format is the obvious way to generate documents 
> in scripts and makefiles, isn't it?

A majority of my Sweave building is done by R CMD Sweave, I just 
infrequently build Sweave documents. I've started transitioning to RStudio 
for this but only in certain situations.


From jheffner at azavea.com  Wed Apr 16 20:43:26 2014
From: jheffner at azavea.com (jheffner at azavea.com)
Date: Wed, 16 Apr 2014 11:43:26 -0700
Subject: [R-SIG-Mac] Problems updating rgdal in 3.1.0 (when building
 from source)
In-Reply-To: <7b0d-534d1e80-9-6b8b4580@8158875>
References: <534D14AF.8020500@gmail.com>
 <7b0d-534d1e80-9-6b8b4580@8158875>
Message-ID: <569fdfb4-2601-40da-8147-31cc0ae825ff@googlegroups.com>

Hi --

I ran into this issue as well.  I think the issue is that the binaries are 
listed separately for the Mavericks build of R 3.1.  I had success 
installing the binary which is supposed to be for the regular R 3.1 build 
listed here:

http://cran.r-project.org/bin/macosx/contrib/3.1/



On Tuesday, April 15, 2014 7:57:04 AM UTC-4, Agustin Angel Diez Castillo 
wrote:
>
> Hi,
> I'm in trouble when trying to update rgdal in 3.1.0 in Mavericks. There is 
> no binary and installing for source claims that I've no libproj in standard 
> or given locations. I do have several libproj both in /usr/local/lib and in 
> /Library/Frameworks/PROJ.framework/Versions/4.8/unix/lib/, how can I to 
> force the build to look to the later that I'm more confident is the wright 
> one?
> Any help will be very much appreciated.
> Thanks.
> A
>
>
> sessionInfo()
> R version 3.1.0 (2014-04-10)
> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base 
>
> checking for pj_init_plus in -lproj... no
> configure: error: libproj not found in standard or given locations.
> ERROR: configuration failed for package ?rgdal?
> * removing ?/Users/adiez/Library/R/3.1/library/rgdal?
>
> The downloaded source packages are in
>         ?/private/var/folders/sm/1djysrdj1clbzvn35gv8vqq40000gn/T/Rtmpl6DW9M/downloaded_packages?* 
> restoring previous ?/Users/adiez/Library/R/3.1/library/rgdal?
>
> Warning message:
> In install.packages("rgdal", type = "source") :
>   installation of package ?rgdal? had non-zero exit status
>
>
> install.packages("rgdal")
> Installing package into ?/Users/adiez/Library/R/3.1/library?
> (as ?lib? is unspecified)
>
>    package ?rgdal? is available as a source package but not as a binary
>
> Warning message:
> package ?rgdal? is not available (for R version 3.1.0)
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SI... at r-project.org <javascript:>
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140416/0215b1d9/attachment.html>

From jheffner at azavea.com  Wed Apr 16 20:43:26 2014
From: jheffner at azavea.com (jheffner at azavea.com)
Date: Wed, 16 Apr 2014 11:43:26 -0700
Subject: [R-SIG-Mac] Problems updating rgdal in 3.1.0 (when building
 from source)
In-Reply-To: <7b0d-534d1e80-9-6b8b4580@8158875>
References: <534D14AF.8020500@gmail.com>
 <7b0d-534d1e80-9-6b8b4580@8158875>
Message-ID: <569fdfb4-2601-40da-8147-31cc0ae825ff@googlegroups.com>

Hi --

I ran into this issue as well.  I think the issue is that the binaries are 
listed separately for the Mavericks build of R 3.1.  I had success 
installing the binary which is supposed to be for the regular R 3.1 build 
listed here:

http://cran.r-project.org/bin/macosx/contrib/3.1/



On Tuesday, April 15, 2014 7:57:04 AM UTC-4, Agustin Angel Diez Castillo 
wrote:
>
> Hi,
> I'm in trouble when trying to update rgdal in 3.1.0 in Mavericks. There is 
> no binary and installing for source claims that I've no libproj in standard 
> or given locations. I do have several libproj both in /usr/local/lib and in 
> /Library/Frameworks/PROJ.framework/Versions/4.8/unix/lib/, how can I to 
> force the build to look to the later that I'm more confident is the wright 
> one?
> Any help will be very much appreciated.
> Thanks.
> A
>
>
> sessionInfo()
> R version 3.1.0 (2014-04-10)
> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base 
>
> checking for pj_init_plus in -lproj... no
> configure: error: libproj not found in standard or given locations.
> ERROR: configuration failed for package ?rgdal?
> * removing ?/Users/adiez/Library/R/3.1/library/rgdal?
>
> The downloaded source packages are in
>         ?/private/var/folders/sm/1djysrdj1clbzvn35gv8vqq40000gn/T/Rtmpl6DW9M/downloaded_packages?* 
> restoring previous ?/Users/adiez/Library/R/3.1/library/rgdal?
>
> Warning message:
> In install.packages("rgdal", type = "source") :
>   installation of package ?rgdal? had non-zero exit status
>
>
> install.packages("rgdal")
> Installing package into ?/Users/adiez/Library/R/3.1/library?
> (as ?lib? is unspecified)
>
>    package ?rgdal? is available as a source package but not as a binary
>
> Warning message:
> package ?rgdal? is not available (for R version 3.1.0)
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SI... at r-project.org <javascript:>
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140416/0215b1d9/attachment-0001.html>

From cheetah0513 at gmail.com  Mon Apr 21 22:44:04 2014
From: cheetah0513 at gmail.com (Allen Lin)
Date: Mon, 21 Apr 2014 15:44:04 -0500
Subject: [R-SIG-Mac] Package "spdep" Compilation Failed on Mac 10.9, R 3.1.0
Message-ID: <CAM=hxMxpNOEFUHLym6pa6nZ68EPWAPRvv2G=ZLV8HsA0Mg_kPg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140421/cf4beae8/attachment.pl>

From ripley at stats.ox.ac.uk  Mon Apr 21 23:12:16 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 21 Apr 2014 22:12:16 +0100
Subject: [R-SIG-Mac] Package "spdep" Compilation Failed on Mac 10.9,
 R 3.1.0
In-Reply-To: <CAM=hxMxpNOEFUHLym6pa6nZ68EPWAPRvv2G=ZLV8HsA0Mg_kPg@mail.gmail.com>
References: <CAM=hxMxpNOEFUHLym6pa6nZ68EPWAPRvv2G=ZLV8HsA0Mg_kPg@mail.gmail.com>
Message-ID: <535589B0.8070906@stats.ox.ac.uk>

On 21/04/2014 21:44, Allen Lin wrote:
> Hi all,
>
> I am new to this community so sorry if this question has already been
> answered.

Yes, in the R-admin manual.

'The current CRAN ?Mavericks? distribution of R is built using

CC=clang
CXX=clang++
F77=gfortran-4.8
FC=$F77
OBJC=clang

with clang and clang++ from Xcode 5, and the Fortran compiler from 
http://r.research.att.com/libs/gfortran-4.8.2-darwin13.tar.bz2.'

It seems you have not installed that Fortran compiler. (I am guessing: 
you did not tell us how your R was built, or if a binary installation 
from CRAN, which one.)

>
> I was trying to build the spdep package from source. However, I encountered
> error message like the following:
>
> clang -dynamiclib -Wl,-headerpad_max_install_names -undefined
> dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib
> -o spdep.so card.o dfs_ncomp.o dnn.o gabriel.o gearyw.o gsymtest.o init.o
> insiders.o jc.o knn.o lagw.o listw2Matrix.o listw2sn.o ml_sse.o mom_calc.o
> nbdists.o polypoly.o relative.o skater.o soigraph.o symtest.o
> -L/Library/Frameworks/R.framework/Resources/lib -lRlapack
> -L/Library/Frameworks/R.framework/Resources/lib -lRblas
> -L/usr/local/lib/gcc/x86_64-apple-darwin13.0.0/4.8.2 -lgfortran -lquadmath
> -lm -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework
> -Wl,CoreFoundation
>
>
> ld: warning: directory not found for option
> '-L/usr/local/lib/gcc/x86_64-apple-darwin13.0.0/4.8.2'
>
>
> ld: library not found for -lquadmath
>
>
> clang: error: linker command failed with exit code 1 (use -v to see
> invocation)
>
> make: *** [spdep.so] Error 1
>
> ERROR: compilation failed for package ???spdep???
>
> I checked my L/usr/local/lib/gcc/ directory, there is no folder, but there
> are i686-apple-darwin8 powerpc-apple-darwin8. I suspect this is because on
> the native gcc with Xcode command line tool is version 4.2. But when I run
> gcc -v it shows:
>
> Configured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr
> --with-gxx-include-dir=/usr/include/c++/4.2.1
>
> Apple LLVM version 5.1 (clang-503.0.40) (based on LLVM 3.4svn)
>
> Target: x86_64-apple-darwin13.1.0
> Thread model: posix
>
> How could I point it to the correct directory?
> Any thoughts will be greatly appreciated! I am totally lost..
>
> Thanks,
> Allen
>
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From cheetah0513 at gmail.com  Tue Apr 22 03:05:33 2014
From: cheetah0513 at gmail.com (Allen Lin)
Date: Mon, 21 Apr 2014 20:05:33 -0500
Subject: [R-SIG-Mac] Package "spdep" Compilation Failed on Mac 10.9,
	R 3.1.0
In-Reply-To: <535589B0.8070906@stats.ox.ac.uk>
References: <CAM=hxMxpNOEFUHLym6pa6nZ68EPWAPRvv2G=ZLV8HsA0Mg_kPg@mail.gmail.com>
	<535589B0.8070906@stats.ox.ac.uk>
Message-ID: <CAM=hxMxgDOU0OGx9CAdNR17dkpE51J=cw0DwZpAn6uAuJFJ0xQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140421/e0e459f1/attachment.pl>

From ripley at stats.ox.ac.uk  Tue Apr 22 09:04:27 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 22 Apr 2014 08:04:27 +0100
Subject: [R-SIG-Mac] Choosing between Snow Leopard and Mavericks builds
Message-ID: <5356147B.5050000@stats.ox.ac.uk>

I've noticed some confusion about which CRAN installer package to use, 
and even reluctance to update to 3.1.0.  So some pointers for Mavericks 
users

1) AFAIK no users are going to be worse off using the Snow Leopard build 
of 3.1.0 rather than the only (Snow Leopard) build of 3.0.x.

2) The Mavericks build has support for C++11-using packages (there are 
currently less than a handful) and some performance improvements from 
its later compilers (and in rare cases these are large).

3) If you rely on binary packages with are not available for the 
Mavericks build, install the Snow Leopard one.  Currently that includes 
CRAN packages rgdal and rjags and all the BioC packages.

4) If you install packages from source, you will be most likely better 
off with the Mavericks build.

5) The two builds need different Fortran compilers installed: you can 
have both compilers at once.  The details are at 
http://cran.r-project.org/doc/manuals/r-release/R-admin.html#OS-X .  As 
far as I know a Fortran compiler is only needed if you install packages 
from sources.

Some of the Mavericks binary packages are missing for good reason.  The 
C++ binary interface for the Xcode 5.x compilers in Mavericks is 
completely different, so external software has to be compiled with those 
compilers.  This affects CRAN packages

RQuantlib RProtoBuf RVowalWabbit rgdal rjags rzmq

Most of these can be gotten to work (see the results labelled 
r-devel-osx-x86_64-clang at 
http://cran.r-project.org/web/checks/check_summary.html) if compiling 
from sources.  There are packages with badly-written C++ which do not 
compile under Mavericks, but as we have been chasing the CRAN 
maintainers for a few months there are very few left (the main example 
is BioC's package mzR).

We had expected that by this time Mavericks users would be in a 
majority, but it seems the proportion is in the 40s (%).  Thus for R 
3.1.0 most of the effort has gone into the Snow Leopard build: expect 
that to change by R 3.2.0 in a year's time.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From igow at hbs.edu  Wed Apr 23 03:50:39 2014
From: igow at hbs.edu (Gow, Ian)
Date: Tue, 22 Apr 2014 21:50:39 -0400
Subject: [R-SIG-Mac] Choosing between Snow Leopard and Mavericks builds
In-Reply-To: <5356147B.5050000@stats.ox.ac.uk>
References: <5356147B.5050000@stats.ox.ac.uk>
Message-ID: <D744F164-B867-4766-936A-E580FBA9756D@hbs.edu>

Thank you.

In case it helps other users of the Mavericks build: The instructions for installing the gfortran binaries (<http://r.research.att.com/libs/gfortran-4.8.2-darwin13.tar.bz2>) linked to at <http://cran.r-project.org/doc/manuals/r-release/R-admin.html#OS-X> are to be found here <http://r.research.att.com/libs/>. It took me a little digging to find these instructions; I guess I had been spoilt by the gfortran-4.2.3.dmg installer available for the Snow Leopard build.

While I generally install binary packages, I was dabbling with RcppArmadillo and, while the binary version of this package installs fine, it doesn't work without the right build environment.

(Before discovering the instructions at http://r.research.att.com/libs/, I tried using the gfortran-4.8.2 I had obtained from elsewhere, but it was not where R expected to be and I needed to set FLIBS in ~/.R/Makevars to get it to work for me.)

Thanks,

-- 
Ian Gow
Assistant Professor
Harvard Business School
Morgan Hall 379
Boston, MA 02163
Phone: +1-617-495-6530
Email: igow at hbs.edu

On Apr 22, 2014, at 3:04 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:

> I've noticed some confusion about which CRAN installer package to use, 
> and even reluctance to update to 3.1.0.  So some pointers for Mavericks 
> users
> 
> 1) AFAIK no users are going to be worse off using the Snow Leopard build 
> of 3.1.0 rather than the only (Snow Leopard) build of 3.0.x.
> 
> 2) The Mavericks build has support for C++11-using packages (there are 
> currently less than a handful) and some performance improvements from 
> its later compilers (and in rare cases these are large).
> 
> 3) If you rely on binary packages with are not available for the 
> Mavericks build, install the Snow Leopard one.  Currently that includes 
> CRAN packages rgdal and rjags and all the BioC packages.
> 
> 4) If you install packages from source, you will be most likely better 
> off with the Mavericks build.
> 
> 5) The two builds need different Fortran compilers installed: you can 
> have both compilers at once.  The details are at 
> http://cran.r-project.org/doc/manuals/r-release/R-admin.html#OS-X .  As 
> far as I know a Fortran compiler is only needed if you install packages 
> from sources.
> 
> Some of the Mavericks binary packages are missing for good reason.  The 
> C++ binary interface for the Xcode 5.x compilers in Mavericks is 
> completely different, so external software has to be compiled with those 
> compilers.  This affects CRAN packages
> 
> RQuantlib RProtoBuf RVowalWabbit rgdal rjags rzmq
> 
> Most of these can be gotten to work (see the results labelled 
> r-devel-osx-x86_64-clang at 
> http://cran.r-project.org/web/checks/check_summary.html) if compiling 
> from sources.  There are packages with badly-written C++ which do not 
> compile under Mavericks, but as we have been chasing the CRAN 
> maintainers for a few months there are very few left (the main example 
> is BioC's package mzR).
> 
> We had expected that by this time Mavericks users would be in a 
> majority, but it seems the proportion is in the 40s (%).  Thus for R 
> 3.1.0 most of the effort has gone into the Snow Leopard build: expect 
> that to change by R 3.2.0 in a year's time.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Wed Apr 23 04:19:51 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 22 Apr 2014 22:19:51 -0400
Subject: [R-SIG-Mac] Choosing between Snow Leopard and Mavericks builds
In-Reply-To: <D744F164-B867-4766-936A-E580FBA9756D@hbs.edu>
References: <5356147B.5050000@stats.ox.ac.uk>
	<D744F164-B867-4766-936A-E580FBA9756D@hbs.edu>
Message-ID: <2E6293A6-D986-4EA2-812E-71720905023A@r-project.org>

On Apr 22, 2014, at 9:50 PM, Gow, Ian <igow at hbs.edu> wrote:

> Thank you.
> 
> In case it helps other users of the Mavericks build: The instructions for installing the gfortran binaries (<http://r.research.att.com/libs/gfortran-4.8.2-darwin13.tar.bz2>) linked to at <http://cran.r-project.org/doc/manuals/r-release/R-admin.html#OS-X> are to be found here <http://r.research.att.com/libs/>. It took me a little digging to find these instructions; I guess I had been spoilt by the gfortran-4.2.3.dmg installer available for the Snow Leopard build.
> 

Yes, that's my bad. I'll try to create a package that will live also live on CRAN, but I'm still sorting out the kinks of the two parallel builds and packages. Once that's stable I hope to get to the gfortran package.

Cheers,
Simon



> While I generally install binary packages, I was dabbling with RcppArmadillo and, while the binary version of this package installs fine, it doesn't work without the right build environment.
> 
> (Before discovering the instructions at http://r.research.att.com/libs/, I tried using the gfortran-4.8.2 I had obtained from elsewhere, but it was not where R expected to be and I needed to set FLIBS in ~/.R/Makevars to get it to work for me.)
> 
> Thanks,
> 
> -- 
> Ian Gow
> Assistant Professor
> Harvard Business School
> Morgan Hall 379
> Boston, MA 02163
> Phone: +1-617-495-6530
> Email: igow at hbs.edu
> 
> On Apr 22, 2014, at 3:04 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> 
>> I've noticed some confusion about which CRAN installer package to use, 
>> and even reluctance to update to 3.1.0.  So some pointers for Mavericks 
>> users
>> 
>> 1) AFAIK no users are going to be worse off using the Snow Leopard build 
>> of 3.1.0 rather than the only (Snow Leopard) build of 3.0.x.
>> 
>> 2) The Mavericks build has support for C++11-using packages (there are 
>> currently less than a handful) and some performance improvements from 
>> its later compilers (and in rare cases these are large).
>> 
>> 3) If you rely on binary packages with are not available for the 
>> Mavericks build, install the Snow Leopard one.  Currently that includes 
>> CRAN packages rgdal and rjags and all the BioC packages.
>> 
>> 4) If you install packages from source, you will be most likely better 
>> off with the Mavericks build.
>> 
>> 5) The two builds need different Fortran compilers installed: you can 
>> have both compilers at once.  The details are at 
>> http://cran.r-project.org/doc/manuals/r-release/R-admin.html#OS-X .  As 
>> far as I know a Fortran compiler is only needed if you install packages 
>> from sources.
>> 
>> Some of the Mavericks binary packages are missing for good reason.  The 
>> C++ binary interface for the Xcode 5.x compilers in Mavericks is 
>> completely different, so external software has to be compiled with those 
>> compilers.  This affects CRAN packages
>> 
>> RQuantlib RProtoBuf RVowalWabbit rgdal rjags rzmq
>> 
>> Most of these can be gotten to work (see the results labelled 
>> r-devel-osx-x86_64-clang at 
>> http://cran.r-project.org/web/checks/check_summary.html) if compiling 
>> from sources.  There are packages with badly-written C++ which do not 
>> compile under Mavericks, but as we have been chasing the CRAN 
>> maintainers for a few months there are very few left (the main example 
>> is BioC's package mzR).
>> 
>> We had expected that by this time Mavericks users would be in a 
>> majority, but it seems the proportion is in the 40s (%).  Thus for R 
>> 3.1.0 most of the effort has gone into the Snow Leopard build: expect 
>> that to change by R 3.2.0 in a year's time.
>> 
>> -- 
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From dtenenba at fhcrc.org  Wed Apr 23 08:39:05 2014
From: dtenenba at fhcrc.org (Dan Tenenbaum)
Date: Tue, 22 Apr 2014 23:39:05 -0700 (PDT)
Subject: [R-SIG-Mac] Math bug in Mavericks build
In-Reply-To: <1274841821.1734278.1398235042859.JavaMail.root@fhcrc.org>
Message-ID: <709619559.1734280.1398235145034.JavaMail.root@fhcrc.org>

Hello Simon & Co.,

On R-3.1.0, Mavericks build:

> 1980000020L + 222000000L
[1] -2092967276

On R-3.1.0, Snow Leopard build:

> 1980000020L + 222000000L
[1] NA
Warning message:
In 1980000020L + 222000000L : NAs produced by integer overflow

A bug, perhaps?

Mavericks sessionInfo():

R version 3.1.0 (2014-04-10)
Platform: x86_64-apple-darwin13.1.0 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

Snow Leopard sessionInfo():

R version 3.1.0 (2014-04-10)
Platform: x86_64-apple-darwin10.8.0 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

Thanks,
Dan


From jembree at ucla.edu  Wed Apr 23 09:04:44 2014
From: jembree at ucla.edu (Josh EmBree)
Date: Wed, 23 Apr 2014 00:04:44 -0700
Subject: [R-SIG-Mac] Rcpp w/ OS X Mavericks
Message-ID: <1B6FEFED-A013-45A1-8F69-977E633E5E49@ucla.edu>

Hi all, 

I know this issue has come up a lot in the last few months and I?ve searched around for days trying to find a solution. I can?t get my C++ files that use Rcpp to compile in OS X 10.9 (Mavericks). I?ve done the following:

-Downloaded Xcode 5 and installed command line tools, 
-Upgraded to R 3.1 for Mavericks, and
-Installed Rcpp from source. 

After installing Rcpp from source, I can write C++ functions using Inline. For example, 

library(Rcpp)
library(inline)

cppFunction('
double meanC(NumericVector x) {
  int n = x.size();
  double total = 0;

  for(int i = 0; i < n; ++i) {
    total += x[i] / n;
  }
  return total;
}'
            )

works just fine, but the file containing 

#include <Rcpp.h>
using namespace Rcpp;

// [[Rcpp::export]]
double meanC(NumericVector x) {
  int n = x.size();
  double total = 0;

  for(int i = 0; i < n; ++i) {
    total += x[i] / n;
  }
  return total;
}


will not compile. I get the error message:

 $ R CMD SHLIB point_mcmc.cpp
clang++ -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include    -fPIC  -Wall -mtune=core2 -g -O2  -c point_mcmc.cpp -o point_mcmc.o
point_mcmc.cpp:1:10: fatal error: 'Rcpp.h' file not found
#include <Rcpp.h>
         ^
1 error generated.
make: *** [point_mcmc.o] Error 1

The fact that one works and the other does not is incredibly confusing. Thanks in advance for any assistance. 

Best, 
Josh 

From pdalgd at gmail.com  Wed Apr 23 10:51:06 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Wed, 23 Apr 2014 10:51:06 +0200
Subject: [R-SIG-Mac] Math bug in Mavericks build
In-Reply-To: <709619559.1734280.1398235145034.JavaMail.root@fhcrc.org>
References: <709619559.1734280.1398235145034.JavaMail.root@fhcrc.org>
Message-ID: <F1093C5B-44C3-4491-9578-60300CDD0ED2@gmail.com>

Dunno if it helps anyone, but a check of local builds lying around shows the issue in

R version 3.0.2 Patched (2013-11-19 r64260) -- "Frisbee Sailing"

but NOT in

R Under development (unstable) (2013-11-11 r64196) -- "Unsuffered Consequences"

So, it seems that either we introduced a change during that period or the build tools changed. Those builds might not be entirely clean, though.

As for C compiler, my current setup has

Peters-iMac:~ pd$ ls -l `which gcc`
-rwxr-xr-x  1 root  wheel  14224 Oct 29 18:10 /usr/bin/gcc
Peters-iMac:~ pd$ gcc --version
Configured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/usr/include/c++/4.2.1
Apple LLVM version 5.1 (clang-503.0.40) (based on LLVM 3.4svn)
Target: x86_64-apple-darwin13.1.0
Thread model: posix


On 23 Apr 2014, at 08:39 , Dan Tenenbaum <dtenenba at fhcrc.org> wrote:

> Hello Simon & Co.,
> 
> On R-3.1.0, Mavericks build:
> 
>> 1980000020L + 222000000L
> [1] -2092967276
> 
> On R-3.1.0, Snow Leopard build:
> 
>> 1980000020L + 222000000L
> [1] NA
> Warning message:
> In 1980000020L + 222000000L : NAs produced by integer overflow
> 
> A bug, perhaps?
> 
> Mavericks sessionInfo():
> 
> R version 3.1.0 (2014-04-10)
> Platform: x86_64-apple-darwin13.1.0 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
> 
> Snow Leopard sessionInfo():
> 
> R version 3.1.0 (2014-04-10)
> Platform: x86_64-apple-darwin10.8.0 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
> 
> Thanks,
> Dan
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From erich.neuwirth at univie.ac.at  Wed Apr 23 11:10:52 2014
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Wed, 23 Apr 2014 11:10:52 +0200
Subject: [R-SIG-Mac] Math bug in Mavericks build
In-Reply-To: <F1093C5B-44C3-4491-9578-60300CDD0ED2@gmail.com>
References: <709619559.1734280.1398235145034.JavaMail.root@fhcrc.org>
	<F1093C5B-44C3-4491-9578-60300CDD0ED2@gmail.com>
Message-ID: <0B02C79C-07DC-4978-AD29-89C3D9D5516B@univie.ac.at>

Some more strange things:

> 2000000000L+200000000L
[1] -2094967296
> 2000000000L*2L
[1] NA
> 2147483647L+2147483647L
[1] -2

(2147483647 = 2^31-1)

So this looks like an integer overflow is not caught for addition, but it is for multiplication



This is my R version:

> sessionInfo()
R version 3.1.0 (2014-04-10)
Platform: x86_64-apple-darwin13.1.0 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 495 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140423/14c7e7df/attachment-0001.bin>

From igow at hbs.edu  Wed Apr 23 12:57:34 2014
From: igow at hbs.edu (Gow, Ian)
Date: Wed, 23 Apr 2014 06:57:34 -0400
Subject: [R-SIG-Mac] Rcpp w/ OS X Mavericks
In-Reply-To: <1B6FEFED-A013-45A1-8F69-977E633E5E49@ucla.edu>
References: <1B6FEFED-A013-45A1-8F69-977E633E5E49@ucla.edu>
Message-ID: <BFACF1B3-9AB0-4EA0-8156-3A5121FCBB2A@hbs.edu>

Josh:

I see the same issue. But it appears not to be a problem with the point_mcmc.cpp version of the code. If I issue sourceCpp('point_mcmc.cpp') from within R, it works fine. sourceCpp('point_mcmc.cpp', verbose=TRUE) gives further hints (i.e., effect of R CMD SHLIB is different from within R; see below).

A little Googling turns up the following answer to your question:

> You want to set PKG_CXXFLAGS -- see the fine manual's Section 1.2. "Using Makevars" as well as Section 5.5 "Creating shared objects" for details."
Source: Dirk Eddelbuettel, http://stackoverflow.com/questions/12416463/how-to-specify-header-search-path-when-using-r-cmd-shlib-to-compile-a-c-file

This is also helpful:
http://people.math.aau.dk/~sorenh/misc/Rdocs/Rcpp/RcppSHLIB.html

-Ian

>From command line:
$ /Library/Frameworks/R.framework/Resources/bin/R CMD SHLIB -o 'sourceCpp_67823.so' --preclean 'point_mcmc.cpp' 
clang++ -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include    -fPIC  -Wall -mtune=core2 -g -O2  -c point_mcmc.cpp -o point_mcmc.o
point_mcmc.cpp:1:10: fatal error: 'Rcpp.h' file not found
#include <Rcpp.h> // include
         ^
1 error generated.
make: *** [point_mcmc.o] Error 1

>From within R:
/Library/Frameworks/R.framework/Resources/bin/R CMD SHLIB -o 'sourceCpp_67823.so' --preclean 'point_mcmc.cpp' 
clang++ -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include  -I"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/Rcpp/include"    -fPIC  -Wall -mtune=core2 -g -O2  -c point_mcmc.cpp -o point_mcmc.o

On Apr 23, 2014, at 3:04 AM, Josh EmBree <jembree at ucla.edu> wrote:

> Hi all, 
> 
> I know this issue has come up a lot in the last few months and I?ve searched around for days trying to find a solution. I can?t get my C++ files that use Rcpp to compile in OS X 10.9 (Mavericks). I?ve done the following:
> 
> -Downloaded Xcode 5 and installed command line tools, 
> -Upgraded to R 3.1 for Mavericks, and
> -Installed Rcpp from source. 
> 
> After installing Rcpp from source, I can write C++ functions using Inline. For example, 
> 
> library(Rcpp)
> library(inline)
> 
> cppFunction('
> double meanC(NumericVector x) {
>  int n = x.size();
>  double total = 0;
> 
>  for(int i = 0; i < n; ++i) {
>    total += x[i] / n;
>  }
>  return total;
> }'
>            )
> 
> works just fine, but the file containing 
> 
> #include <Rcpp.h>
> using namespace Rcpp;
> 
> // [[Rcpp::export]]
> double meanC(NumericVector x) {
>  int n = x.size();
>  double total = 0;
> 
>  for(int i = 0; i < n; ++i) {
>    total += x[i] / n;
>  }
>  return total;
> }
> 
> 
> will not compile. I get the error message:
> 
> $ R CMD SHLIB point_mcmc.cpp
> clang++ -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include    -fPIC  -Wall -mtune=core2 -g -O2  -c point_mcmc.cpp -o point_mcmc.o
> point_mcmc.cpp:1:10: fatal error: 'Rcpp.h' file not found
> #include <Rcpp.h>
>         ^
> 1 error generated.
> make: *** [point_mcmc.o] Error 1
> 
> The fact that one works and the other does not is incredibly confusing. Thanks in advance for any assistance. 
> 
> Best, 
> Josh 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Wed Apr 23 15:46:13 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 23 Apr 2014 09:46:13 -0400
Subject: [R-SIG-Mac] Rcpp w/ OS X Mavericks
In-Reply-To: <1B6FEFED-A013-45A1-8F69-977E633E5E49@ucla.edu>
References: <1B6FEFED-A013-45A1-8F69-977E633E5E49@ucla.edu>
Message-ID: <FB3FBD18-3045-427E-A371-FEB73B310B55@r-project.org>

On Apr 23, 2014, at 3:04 AM, Josh EmBree <jembree at ucla.edu> wrote:

> Hi all, 
> 
> I know this issue has come up a lot in the last few months and I?ve searched around for days trying to find a solution. I can?t get my C++ files that use Rcpp to compile in OS X 10.9 (Mavericks). I?ve done the following:
> 
> -Downloaded Xcode 5 and installed command line tools, 
> -Upgraded to R 3.1 for Mavericks, and
> -Installed Rcpp from source. 
> 
> After installing Rcpp from source, I can write C++ functions using Inline. For example, 
> 
> library(Rcpp)
> library(inline)
> 
> cppFunction('
> double meanC(NumericVector x) {
>  int n = x.size();
>  double total = 0;
> 
>  for(int i = 0; i < n; ++i) {
>    total += x[i] / n;
>  }
>  return total;
> }'
>            )
> 
> works just fine, but the file containing 
> 
> #include <Rcpp.h>
> using namespace Rcpp;
> 
> // [[Rcpp::export]]
> double meanC(NumericVector x) {
>  int n = x.size();
>  double total = 0;
> 
>  for(int i = 0; i < n; ++i) {
>    total += x[i] / n;
>  }
>  return total;
> }
> 
> 
> will not compile. I get the error message:
> 
> $ R CMD SHLIB point_mcmc.cpp
> clang++ -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include    -fPIC  -Wall -mtune=core2 -g -O2  -c point_mcmc.cpp -o point_mcmc.o
> point_mcmc.cpp:1:10: fatal error: 'Rcpp.h' file not found
> #include <Rcpp.h>
>         ^
> 1 error generated.
> make: *** [point_mcmc.o] Error 1
> 

You cannot run vanilla R CMD SHLIB on Rcpp code since it requires flags to find Rcpp includes and libraries which are not part of R. From Rcpp docs:

? snip ?

** Usage for package building

Rcpp provides a main header file Rcpp.h and a library inside the installed package in the directory lib. From within R, you can compute the directory location via system.file("lib", "Rcpp.h", package="Rcpp")--but both are provided for your use via the functions Rcpp::RcppCxxFlags() andRcpp::RcppLdFlags() functions. So we can just use the following as a file src/Makevars (or src/Makevars.win on Windows)
PKG_CXXFLAGS=`${R_HOME}/bin/Rscript -e "Rcpp:::CxxFlags()"`

PKG_LIBS=`${R_HOME}/bin/Rscript -e "Rcpp:::LdFlags()"`

See the help page for Rcpp-package for details.

? snip ?

Cheers,
Simon


> The fact that one works and the other does not is incredibly confusing. Thanks in advance for any assistance. 
> 
> Best, 
> Josh 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From luke-tierney at uiowa.edu  Wed Apr 23 16:29:48 2014
From: luke-tierney at uiowa.edu (luke-tierney at uiowa.edu)
Date: Wed, 23 Apr 2014 09:29:48 -0500
Subject: [R-SIG-Mac] Math bug in Mavericks build
In-Reply-To: <0B02C79C-07DC-4978-AD29-89C3D9D5516B@univie.ac.at>
References: <709619559.1734280.1398235145034.JavaMail.root@fhcrc.org>
	<F1093C5B-44C3-4491-9578-60300CDD0ED2@gmail.com>
	<0B02C79C-07DC-4978-AD29-89C3D9D5516B@univie.ac.at>
Message-ID: <alpine.LFD.2.10.1404230927010.9356@nokomis.stat.uiowa.edu>

This has the look of an over-zealous optimizer that doesn't understand
how 32-bit integer arithmetic works. It is possible to define a flag
to force using doubles to check for integer addition overflow if that
is needed for the compiler used here.

luke

On Wed, 23 Apr 2014, Erich Neuwirth wrote:

> Some more strange things:
>
>> 2000000000L+200000000L
> [1] -2094967296
>> 2000000000L*2L
> [1] NA
>> 2147483647L+2147483647L
> [1] -2
>
> (2147483647 = 2^31-1)
>
> So this looks like an integer overflow is not caught for addition, but it is for multiplication
>
>
>
> This is my R version:
>
>> sessionInfo()
> R version 3.1.0 (2014-04-10)
> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
>

-- 
Luke Tierney
Chair, Statistics and Actuarial Science
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:   luke-tierney at uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From rmh at temple.edu  Fri Apr 25 05:15:24 2014
From: rmh at temple.edu (Richard M. Heiberger)
Date: Thu, 24 Apr 2014 23:15:24 -0400
Subject: [R-SIG-Mac] upgrade to Mavericks
In-Reply-To: <8c037d4c-15e5-43de-ae19-cc0a3b036878@googlegroups.com>
References: <CAGx1TMBfeW+QswMcADb2yUhH9hkZCi1xVNJ6iDskHqZt27gwsA@mail.gmail.com>
	<8c037d4c-15e5-43de-ae19-cc0a3b036878@googlegroups.com>
Message-ID: <CAGx1TMCjxM=zHZA5PeDAWFL9NmoNfgiqQgo2p0+VyZOPPDU-Tg@mail.gmail.com>

Thank you to all who replied.

I did accept the upgrade to Mavericks last week.  In retrospect I think it
was a mistake for me.  Most of the changes are not relevant to my
workflow.  One was an improvement.  One was a big negative.

The improvement is the handling of a secondary display screen.
The Desktop on that screen is now independent of the Desktops on the main
screen.  The Desktop on the secondary screen is retained when I unplug the
secondary screen and then plug it back in.

There are two big negatives is how Preview handles revision to my
pdflatex documents.

Previously (OS X Lion), when I ran pdflatex, the pdf file was revised with
the display showing the same page and the same positioning on the page.
Now (Mavericks) the display jumps to the top left corner of the current page.
Since I keep the window focussed only on the part of the page with text,
that means the top and left margins dominate the new display.  My
workaround is to construct an if statement that sets the margins to 0
when I am in revision mode and gives them normal values otherwise.

The other negative is that yellow stickies now appear in a Comic font instead
of a sedate font.  Also, the alignment between the left marginal column of
yellow stickies and their location in the body of the document is broken.
clicking on the page number in the marginal listing moves the document
to the right page.  But clicking on the sticky itself does not move the marginal
listing to the matching sticky.

An even more serious problem, and I don't know if this is Mavericks-specific
or more general to OS X, is that several R packages no longer work with
the released R-3.1.0.  As of ":Last updated on 2014-04-25 04:47:05.",
latticeExtra gives an error with r-devel-osx-x86_64-gcc and a warning with
r-release-osx-x86_64-mavericks.

I reverted back to R-3.0.3.  I will try again with the R-patched when CRAN
shows all the packages I use are checking without warnings.

Rich

On Thu, Apr 24, 2014 at 6:27 PM, Dasapta Erwin Irawan
<d.erwin.irawan at gmail.com> wrote:
> Dear Rich,
>
> I have several students that report problem in one of our R package
> installation after upgrading their macs to Mavericks.
>
> One of the package, Hydromad (for hydrological modeling), have to be
> installed, with several terminal script.
>
> Hopefully your upgrade to Mavericks won't trouble you in your R working
> environment.
>
> regards,
> Erwin
>
>
> On Saturday, 29 March 2014 01:54:11 UTC+11, Richard M. Heiberger wrote:
>>
>> Apple has been popping an offer for a free upgrade to Mavericks.
>> (I currently have OS X Lion10.7.5 on an 8GB MacBook Air).
>> Other than this offer from Apple, I have no dissatisfaction with the Mac
>> for my use pattern.
>>
>> There has been much comment on this list about the difficulties of
>> compiling R with Mac.
>> I am not planning to compile R.
>>
>> Are there any remaining issues with using R on the Mac that should make
>> we want to not upgrade?  Or is Mavericks now stable enough that upgrading
>> would make sense.
>>
>> Thanks
>> Rich
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SI... at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From stefanML at collocations.de  Fri Apr 25 09:14:15 2014
From: stefanML at collocations.de (Stefan Evert)
Date: Fri, 25 Apr 2014 09:14:15 +0200
Subject: [R-SIG-Mac] upgrade to Mavericks
In-Reply-To: <CAGx1TMCjxM=zHZA5PeDAWFL9NmoNfgiqQgo2p0+VyZOPPDU-Tg@mail.gmail.com>
References: <CAGx1TMBfeW+QswMcADb2yUhH9hkZCi1xVNJ6iDskHqZt27gwsA@mail.gmail.com>
	<8c037d4c-15e5-43de-ae19-cc0a3b036878@googlegroups.com>
	<CAGx1TMCjxM=zHZA5PeDAWFL9NmoNfgiqQgo2p0+VyZOPPDU-Tg@mail.gmail.com>
Message-ID: <114DB7F0-9F65-4AF8-8566-84497035FA35@collocations.de>


On 25 Apr 2014, at 05:15, Richard M. Heiberger <rmh at temple.edu> wrote:

> There are two big negatives is how Preview handles revision to my
> pdflatex documents.
> 
> Previously (OS X Lion), when I ran pdflatex, the pdf file was revised with
> the display showing the same page and the same positioning on the page.
> Now (Mavericks) the display jumps to the top left corner of the current page.
> Since I keep the window focussed only on the part of the page with text,
> that means the top and left margins dominate the new display.  My
> workaround is to construct an if statement that sets the margins to 0
> when I am in revision mode and gives them normal values otherwise.

Hm, this never worked for me properly with Preview, that's why I use TexShop as a PDF previewer.  You can just open the PDF file in TexShop, and configure the "Preview" settings to use "Automatic Preview Update".

-- Stefan


From tomhopper at gmail.com  Fri Apr 25 09:44:47 2014
From: tomhopper at gmail.com (Tom Hopper)
Date: Fri, 25 Apr 2014 09:44:47 +0200
Subject: [R-SIG-Mac] upgrade to Mavericks
In-Reply-To: <114DB7F0-9F65-4AF8-8566-84497035FA35@collocations.de>
References: <CAGx1TMBfeW+QswMcADb2yUhH9hkZCi1xVNJ6iDskHqZt27gwsA@mail.gmail.com>
	<8c037d4c-15e5-43de-ae19-cc0a3b036878@googlegroups.com>
	<CAGx1TMCjxM=zHZA5PeDAWFL9NmoNfgiqQgo2p0+VyZOPPDU-Tg@mail.gmail.com>
	<114DB7F0-9F65-4AF8-8566-84497035FA35@collocations.de>
Message-ID: <A8790BDC-227C-4F60-9C08-FF97504BFD05@gmail.com>

Skim also works nicely when a PDF is updated by another app.

Regards,

Tom


> On Apr 25, 2014, at 9:14 AM, Stefan Evert <stefanML at collocations.de> wrote:
> 
> 
>> On 25 Apr 2014, at 05:15, Richard M. Heiberger <rmh at temple.edu> wrote:
>> 
>> There are two big negatives is how Preview handles revision to my
>> pdflatex documents.
>> 
>> Previously (OS X Lion), when I ran pdflatex, the pdf file was revised with
>> the display showing the same page and the same positioning on the page.
>> Now (Mavericks) the display jumps to the top left corner of the current page.
>> Since I keep the window focussed only on the part of the page with text,
>> that means the top and left margins dominate the new display.  My
>> workaround is to construct an if statement that sets the margins to 0
>> when I am in revision mode and gives them normal values otherwise.
> 
> Hm, this never worked for me properly with Preview, that's why I use TexShop as a PDF previewer.  You can just open the PDF file in TexShop, and configure the "Preview" settings to use "Automatic Preview Update".
> 
> -- Stefan
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From marc_schwartz at me.com  Fri Apr 25 14:07:40 2014
From: marc_schwartz at me.com (Marc Schwartz)
Date: Fri, 25 Apr 2014 07:07:40 -0500
Subject: [R-SIG-Mac] upgrade to Mavericks
In-Reply-To: <CAGx1TMCjxM=zHZA5PeDAWFL9NmoNfgiqQgo2p0+VyZOPPDU-Tg@mail.gmail.com>
References: <CAGx1TMBfeW+QswMcADb2yUhH9hkZCi1xVNJ6iDskHqZt27gwsA@mail.gmail.com>
	<8c037d4c-15e5-43de-ae19-cc0a3b036878@googlegroups.com>
	<CAGx1TMCjxM=zHZA5PeDAWFL9NmoNfgiqQgo2p0+VyZOPPDU-Tg@mail.gmail.com>
Message-ID: <FD456FD9-EF82-4A20-AB33-7A334E612FC5@me.com>

On Apr 24, 2014, at 10:15 PM, Richard M. Heiberger <rmh at temple.edu> wrote:

> Thank you to all who replied.
> 
> I did accept the upgrade to Mavericks last week.  In retrospect I think it
> was a mistake for me.  Most of the changes are not relevant to my
> workflow.  One was an improvement.  One was a big negative.
> 
> The improvement is the handling of a secondary display screen.
> The Desktop on that screen is now independent of the Desktops on the main
> screen.  The Desktop on the secondary screen is retained when I unplug the
> secondary screen and then plug it back in.
> 
> There are two big negatives is how Preview handles revision to my
> pdflatex documents.
> 
> Previously (OS X Lion), when I ran pdflatex, the pdf file was revised with
> the display showing the same page and the same positioning on the page.
> Now (Mavericks) the display jumps to the top left corner of the current page.
> Since I keep the window focussed only on the part of the page with text,
> that means the top and left margins dominate the new display.  My
> workaround is to construct an if statement that sets the margins to 0
> when I am in revision mode and gives them normal values otherwise.
> 
> The other negative is that yellow stickies now appear in a Comic font instead
> of a sedate font.  Also, the alignment between the left marginal column of
> yellow stickies and their location in the body of the document is broken.
> clicking on the page number in the marginal listing moves the document
> to the right page.  But clicking on the sticky itself does not move the marginal
> listing to the matching sticky.
> 
> An even more serious problem, and I don't know if this is Mavericks-specific
> or more general to OS X, is that several R packages no longer work with
> the released R-3.1.0.  As of ":Last updated on 2014-04-25 04:47:05.",
> latticeExtra gives an error with r-devel-osx-x86_64-gcc and a warning with
> r-release-osx-x86_64-mavericks.


Rich,

On this issue, presumably you installed the Mavericks build of R 3.1.0. 

If you install the Snow Leopard build instead, this will be a non-issue.

There are some CRAN packages that do not yet pass testing using the Mavericks R build and so will be unavailable to install as binaries yet.

This post from Prof Ripley earlier this week may be helpful:

  https://stat.ethz.ch/pipermail/r-sig-mac/2014-April/010835.html

Regards,

Marc Schwartz


> 
> I reverted back to R-3.0.3.  I will try again with the R-patched when CRAN
> shows all the packages I use are checking without warnings.
> 
> Rich
> 

<snip>


From murdoch.duncan at gmail.com  Sat Apr 26 20:50:39 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Sat, 26 Apr 2014 14:50:39 -0400
Subject: [R-SIG-Mac] Compling rgl for Mavericks
Message-ID: <535BFFFF.2020609@gmail.com>

The rgl package compiles and runs on Mavericks, though it only displays 
in X11 currently, and it gets a number of compile-time warnings like

glgui.cpp:50:5: warning: 'gluUnProject' is deprecated: first deprecated 
in OS X 10.9
       - "Use GLKMathUnproject" [-Wdeprecated-declarations]

There are also warnings about gluProject, gluErrorString, and some others.

I can probably write conditional workarounds for each of these, but I 
have a very basic question:  how do I write a conditional to depend on 
an OS X version?  Do I need to write my own autoconf macro, or is there 
one available in the standard collection, or online somewhere?

Duncan Murdoch


From d.erwin.irawan at gmail.com  Fri Apr 25 00:27:36 2014
From: d.erwin.irawan at gmail.com (Dasapta Erwin Irawan)
Date: Thu, 24 Apr 2014 15:27:36 -0700 (PDT)
Subject: [R-SIG-Mac] upgrade to Mavericks
In-Reply-To: <CAGx1TMBfeW+QswMcADb2yUhH9hkZCi1xVNJ6iDskHqZt27gwsA@mail.gmail.com>
References: <CAGx1TMBfeW+QswMcADb2yUhH9hkZCi1xVNJ6iDskHqZt27gwsA@mail.gmail.com>
Message-ID: <8c037d4c-15e5-43de-ae19-cc0a3b036878@googlegroups.com>

Dear Rich,

I have several students that report problem in one of our R package 
installation after upgrading their macs to Mavericks.

One of the package, Hydromad (for hydrological modeling), have to be 
installed, with several terminal script. 

Hopefully your upgrade to Mavericks won't trouble you in your R working 
environment.   

regards,
Erwin


On Saturday, 29 March 2014 01:54:11 UTC+11, Richard M. Heiberger wrote:
>
> Apple has been popping an offer for a free upgrade to Mavericks. 
> (I currently have OS X Lion10.7.5 on an 8GB MacBook Air). 
> Other than this offer from Apple, I have no dissatisfaction with the Mac 
> for my use pattern. 
>
> There has been much comment on this list about the difficulties of 
> compiling R with Mac. 
> I am not planning to compile R. 
>
> Are there any remaining issues with using R on the Mac that should make 
> we want to not upgrade?  Or is Mavericks now stable enough that upgrading 
> would make sense. 
>
> Thanks 
> Rich 
>
> _______________________________________________ 
> R-SIG-Mac mailing list 
> R-SI... at r-project.org <javascript:> 
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac 
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140424/f89e908b/attachment.html>

From d.erwin.irawan at gmail.com  Fri Apr 25 00:27:36 2014
From: d.erwin.irawan at gmail.com (Dasapta Erwin Irawan)
Date: Thu, 24 Apr 2014 15:27:36 -0700
Subject: [R-SIG-Mac] upgrade to Mavericks
In-Reply-To: <CAGx1TMBfeW+QswMcADb2yUhH9hkZCi1xVNJ6iDskHqZt27gwsA@mail.gmail.com>
References: <CAGx1TMBfeW+QswMcADb2yUhH9hkZCi1xVNJ6iDskHqZt27gwsA@mail.gmail.com>
Message-ID: <8c037d4c-15e5-43de-ae19-cc0a3b036878@googlegroups.com>

Dear Rich,

I have several students that report problem in one of our R package 
installation after upgrading their macs to Mavericks.

One of the package, Hydromad (for hydrological modeling), have to be 
installed, with several terminal script. 

Hopefully your upgrade to Mavericks won't trouble you in your R working 
environment.   

regards,
Erwin


On Saturday, 29 March 2014 01:54:11 UTC+11, Richard M. Heiberger wrote:
>
> Apple has been popping an offer for a free upgrade to Mavericks. 
> (I currently have OS X Lion10.7.5 on an 8GB MacBook Air). 
> Other than this offer from Apple, I have no dissatisfaction with the Mac 
> for my use pattern. 
>
> There has been much comment on this list about the difficulties of 
> compiling R with Mac. 
> I am not planning to compile R. 
>
> Are there any remaining issues with using R on the Mac that should make 
> we want to not upgrade?  Or is Mavericks now stable enough that upgrading 
> would make sense. 
>
> Thanks 
> Rich 
>
> _______________________________________________ 
> R-SIG-Mac mailing list 
> R-SI... at r-project.org <javascript:> 
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac 
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140424/f89e908b/attachment-0001.html>

From djsamperi at gmail.com  Mon Apr 28 07:46:14 2014
From: djsamperi at gmail.com (Dominick Samperi)
Date: Mon, 28 Apr 2014 01:46:14 -0400
Subject: [R-SIG-Mac] Compling rgl for Mavericks
In-Reply-To: <535BFFFF.2020609@gmail.com>
References: <535BFFFF.2020609@gmail.com>
Message-ID: <CADUbQ5iT6O=aqN59SXM1Tj=A=GKP9kGw8x7fDGQ6BfvrWUxteA@mail.gmail.com>

The command 'sw_vers' shows the following info on my Mac:

ProductName:    Mac OS X
ProductVersion:    10.9.2
BuildVersion:    13C1021

You can use grep to check the version for configure.


On Sat, Apr 26, 2014 at 2:50 PM, Duncan Murdoch
<murdoch.duncan at gmail.com> wrote:
> The rgl package compiles and runs on Mavericks, though it only displays in
> X11 currently, and it gets a number of compile-time warnings like
>
> glgui.cpp:50:5: warning: 'gluUnProject' is deprecated: first deprecated in
> OS X 10.9
>       - "Use GLKMathUnproject" [-Wdeprecated-declarations]
>
> There are also warnings about gluProject, gluErrorString, and some others.
>
> I can probably write conditional workarounds for each of these, but I have a
> very basic question:  how do I write a conditional to depend on an OS X
> version?  Do I need to write my own autoconf macro, or is there one
> available in the standard collection, or online somewhere?
>
> Duncan Murdoch
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Tue Apr 29 16:50:31 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 29 Apr 2014 10:50:31 -0400
Subject: [R-SIG-Mac] Compling rgl for Mavericks
In-Reply-To: <535BFFFF.2020609@gmail.com>
References: <535BFFFF.2020609@gmail.com>
Message-ID: <6CCE59CB-18D9-4304-9861-15912A5CF822@r-project.org>

On Apr 26, 2014, at 2:50 PM, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:

> The rgl package compiles and runs on Mavericks, though it only displays in X11 currently, and it gets a number of compile-time warnings like
> 
> glgui.cpp:50:5: warning: 'gluUnProject' is deprecated: first deprecated in OS X 10.9
>      - "Use GLKMathUnproject" [-Wdeprecated-declarations]
> 
> There are also warnings about gluProject, gluErrorString, and some others.
> 
> I can probably write conditional workarounds for each of these, but I have a very basic question:  how do I write a conditional to depend on an OS X version?  Do I need to write my own autoconf macro, or is there one available in the standard collection, or online somewhere?
> 

You can simply use conditionals MAC_OS_X_VERSION_MIN_REQUIRED and MAC_OS_X_VERSION_MAX_ALLOWED depending on what you want to achieve (lower bound allows weakly-linked symbols, so you have to check for their availability, upper bound defines what will be a hard error), .e.g to enable AppNap support in Mavericks buils we use

#if MAC_OS_X_VERSION_MAX_ALLOWED >= MAC_OS_X_VERSION_10_9
#define USE_APPNAP_API
@property (strong) id  activity;
#endif

Note, however, that older SDKs don't have version numbers for more recent OS X version, so it's a good idea to provide fallbacks:

#import <Availability.h>
#ifndef MAC_OS_X_VERSION_10_9
#define MAC_OS_X_VERSION_10_9 1090
#endif

Cheers,
Simon


From ian.fellows at stat.ucla.edu  Tue Apr 29 23:08:34 2014
From: ian.fellows at stat.ucla.edu (Ian Fellows)
Date: Tue, 29 Apr 2014 14:08:34 -0700
Subject: [R-SIG-Mac] rgdal on mac os 10.9
Message-ID: <CC228526-4798-4815-AEA6-080E29CF9DAC@stat.ucla.edu>

Hi All,

Does anyone know if there are plans to have rgdal compile correctly on the CRAN Mavericks machine? I?ve really been enjoying the binaries that have been available as building from source is a non-trival hassle.

http://www.r-project.org/nosvn/R.check/r-release-osx-x86_64-mavericks/rgdal-00check.html

Best,
Ian

From simon.urbanek at r-project.org  Wed Apr 30 03:37:34 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 29 Apr 2014 21:37:34 -0400
Subject: [R-SIG-Mac] rgdal on mac os 10.9
In-Reply-To: <CC228526-4798-4815-AEA6-080E29CF9DAC@stat.ucla.edu>
References: <CC228526-4798-4815-AEA6-080E29CF9DAC@stat.ucla.edu>
Message-ID: <5F738041-CBBF-4935-95F4-407313B5C6FF@r-project.org>

On Apr 29, 2014, at 5:08 PM, Ian Fellows <ian.fellows at stat.ucla.edu> wrote:

> Hi All,
> 
> Does anyone know if there are plans to have rgdal compile correctly on the CRAN Mavericks machine? I?ve really been enjoying the binaries that have been available as building from source is a non-trival hassle.
> 

.. and that is also the reason why it's not on or 10.9 just yet. I hope to get to building the necessary dependencies in the next week or so.

Cheers,
Simon



> http://www.r-project.org/nosvn/R.check/r-release-osx-x86_64-mavericks/rgdal-00check.html
> 
> Best,
> Ian
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From ian at fellstat.com  Mon Apr 28 22:34:57 2014
From: ian at fellstat.com (Ian Fellows)
Date: Mon, 28 Apr 2014 13:34:57 -0700
Subject: [R-SIG-Mac] rgdal on mac os 10.9
Message-ID: <0B265DD5-EF97-4E8C-80C7-E9FC2DD27164@fellstat.com>

Hi All,

Does anyone know if there are plans to have rgdal compile correctly on the CRAN Mavericks machine? I?ve really been enjoying the binaries that have been available as building from source is a non-trival hassle.

http://www.r-project.org/nosvn/R.check/r-release-osx-x86_64-mavericks/rgdal-00check.html

Best,
Ian

From babayoshihiko at me.com  Wed Apr 30 04:20:02 2014
From: babayoshihiko at me.com (=?utf-8?B?576O5b2mIOmmrOWgtA==?=)
Date: Wed, 30 Apr 2014 11:20:02 +0900
Subject: [R-SIG-Mac] rgdal on mac os 10.9
In-Reply-To: <CC228526-4798-4815-AEA6-080E29CF9DAC@stat.ucla.edu>
References: <CC228526-4798-4815-AEA6-080E29CF9DAC@stat.ucla.edu>
Message-ID: <A243A0DD-E861-4E3E-83F6-3952C32EFD62@me.com>

Ian,

2014/04/30 6:08?Ian Fellows <ian.fellows at stat.ucla.edu> ?????

> Hi All,
> 
> Does anyone know if there are plans to have rgdal compile correctly on the CRAN Mavericks machine? I?ve really been enjoying the binaries that have been available as building from source is a non-trival hassle.
> 
> http://www.r-project.org/nosvn/R.check/r-release-osx-x86_64-mavericks/rgdal-00check.html

I am using Fink version or R 3.1 and rgdal and so far with no problem.  See my test.

http://www.uclmail.net/users/babayoshihiko/fink/r/cran/cran-rgdal/index.html

?
BABA Yoshihiko
Ritsumeikan University

From mspinola10 at gmail.com  Wed Apr 30 09:20:04 2014
From: mspinola10 at gmail.com (=?UTF-8?Q?Manuel_Sp=C3=ADnola?=)
Date: Wed, 30 Apr 2014 01:20:04 -0600
Subject: [R-SIG-Mac] rgdal on mac os 10.9
In-Reply-To: <CC228526-4798-4815-AEA6-080E29CF9DAC@stat.ucla.edu>
References: <CC228526-4798-4815-AEA6-080E29CF9DAC@stat.ucla.edu>
Message-ID: <CABkCotRXvNVBbcWqCiOMAaKXqLSQxqVUXAg2Yud+PbYTQFDUqQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140430/c728d7bb/attachment.pl>

From Rainer at krugs.de  Wed Apr 30 14:56:45 2014
From: Rainer at krugs.de (Rainer M Krug)
Date: Wed, 30 Apr 2014 14:56:45 +0200
Subject: [R-SIG-Mac] rgdal on mac os 10.9
In-Reply-To: <CC228526-4798-4815-AEA6-080E29CF9DAC@stat.ucla.edu> (Ian
	Fellows's message of "Tue, 29 Apr 2014 14:08:34 -0700")
References: <CC228526-4798-4815-AEA6-080E29CF9DAC@stat.ucla.edu>
Message-ID: <m2vbtr7z76.fsf@krugs.de>

If I remember correctly, the installation from source was quite easy:
apart from the usual compilers, you need gdal installed, which installs
easily via homebrew [1]. After this, installation of rgdal from source
worked without any additional configurations?

Rainer


Ian Fellows <ian.fellows at stat.ucla.edu> writes:

> Hi All,
>
> Does anyone know if there are plans to have rgdal compile correctly on
> the CRAN Mavericks machine? I?ve really been enjoying the binaries
> that have been available as building from source is a non-trival
> hassle.
>
> http://www.r-project.org/nosvn/R.check/r-release-osx-x86_64-mavericks/rgdal-00check.html
>
> Best,
> Ian
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


Footnotes: 
[1]  http://brew.sh/

-- 
Rainer M. Krug, PhD (Conservation Ecology, SUN), MSc (Conservation Biology, UCT), Dipl. Phys. (Germany)

Centre of Excellence for Invasion Biology
Stellenbosch University
South Africa

Tel :       +33 - (0)9 53 10 27 44
Cell:       +33 - (0)6 85 62 59 98
Fax :       +33 - (0)9 58 10 27 44

Fax (D):    +49 - (0)3 21 21 25 22 44

email:      Rainer at krugs.de

Skype:      RMkrug

PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 494 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140430/f602d06f/attachment.bin>

From ripley at stats.ox.ac.uk  Wed Apr 30 17:42:34 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 30 Apr 2014 16:42:34 +0100
Subject: [R-SIG-Mac] rgdal on mac os 10.9
In-Reply-To: <m2vbtr7z76.fsf@krugs.de>
References: <CC228526-4798-4815-AEA6-080E29CF9DAC@stat.ucla.edu>
	<m2vbtr7z76.fsf@krugs.de>
Message-ID: <536119EA.3020904@stats.ox.ac.uk>

On 30/04/2014 13:56, Rainer M Krug wrote:
> If I remember correctly, the installation from source was quite easy:
> apart from the usual compilers, you need gdal installed, which installs
> easily via homebrew [1]. After this, installation of rgdal from source
> worked without any additional configurations?

No, not really.

1) for a portable package you will need static GDAL.

2) GDAL can make use of a wide range of external software to read raster 
files: without quite a lot of the optional ones it is not much use for 
rgdal and other R packages.  Simon needs to build that for Mavericks, 
and statically too.

However, Fellows has ignored all the advice to use the Snow Leopard 
package of R 3.1.0 if he wants rgdal.  That is in the current manual 
(http://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-R-under-OS-X) 
and was posted to this list recently 
(https://stat.ethz.ch/pipermail/r-sig-mac/2014-April/010835.html).  That 
is by far the easiest solution.

>
> Rainer
>
>
> Ian Fellows <ian.fellows at stat.ucla.edu> writes:
>
>> Hi All,
>>
>> Does anyone know if there are plans to have rgdal compile correctly on
>> the CRAN Mavericks machine? I?ve really been enjoying the binaries
>> that have been available as building from source is a non-trival
>> hassle.
>>
>> http://www.r-project.org/nosvn/R.check/r-release-osx-x86_64-mavericks/rgdal-00check.html
>>
>> Best,
>> Ian
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
> Footnotes:
> [1]  http://brew.sh/
>
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From Rainer at krugs.de  Wed Apr 30 18:07:53 2014
From: Rainer at krugs.de (Rainer M Krug)
Date: Wed, 30 Apr 2014 18:07:53 +0200
Subject: [R-SIG-Mac] rgdal on mac os 10.9
In-Reply-To: <536119EA.3020904@stats.ox.ac.uk> (Brian Ripley's message of
	"Wed, 30 Apr 2014 16:42:34 +0100")
References: <CC228526-4798-4815-AEA6-080E29CF9DAC@stat.ucla.edu>
	<m2vbtr7z76.fsf@krugs.de> <536119EA.3020904@stats.ox.ac.uk>
Message-ID: <m2mwf294x2.fsf@krugs.de>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> On 30/04/2014 13:56, Rainer M Krug wrote:
>> If I remember correctly, the installation from source was quite easy:
>> apart from the usual compilers, you need gdal installed, which installs
>> easily via homebrew [1]. After this, installation of rgdal from source
>> worked without any additional configurations?
>
> No, not really.
>
> 1) for a portable package you will need static GDAL.
>
> 2) GDAL can make use of a wide range of external software to read
> raster files: without quite a lot of the optional ones it is not much
> use for rgdal and other R packages.  Simon needs to build that for
> Mavericks, and statically too.

Sorry - I was talking of installing it in R via type="source" not on
CRAN. For CRAN it is definitely a different issue.


Rainer

>
> However, Fellows has ignored all the advice to use the Snow Leopard
> package of R 3.1.0 if he wants rgdal.  That is in the current manual
> (http://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-R-under-OS-X)
> and was posted to this list recently
> (https://stat.ethz.ch/pipermail/r-sig-mac/2014-April/010835.html).
> That is by far the easiest solution.
>
>>
>> Rainer
>>
>>
>> Ian Fellows <ian.fellows at stat.ucla.edu> writes:
>>
>>> Hi All,
>>>
>>> Does anyone know if there are plans to have rgdal compile correctly on
>>> the CRAN Mavericks machine? I?ve really been enjoying the binaries
>>> that have been available as building from source is a non-trival
>>> hassle.
>>>
>>> http://www.r-project.org/nosvn/R.check/r-release-osx-x86_64-mavericks/rgdal-00check.html
>>>
>>> Best,
>>> Ian
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>> Footnotes:
>> [1]  http://brew.sh/
>>
>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>

-- 
Rainer M. Krug, PhD (Conservation Ecology, SUN), MSc (Conservation Biology, UCT), Dipl. Phys. (Germany)

Centre of Excellence for Invasion Biology
Stellenbosch University
South Africa

Tel :       +33 - (0)9 53 10 27 44
Cell:       +33 - (0)6 85 62 59 98
Fax :       +33 - (0)9 58 10 27 44

Fax (D):    +49 - (0)3 21 21 25 22 44

email:      Rainer at krugs.de

Skype:      RMkrug

PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 494 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140430/61b14021/attachment.bin>

From ian.fellows at stat.ucla.edu  Wed Apr 30 18:42:24 2014
From: ian.fellows at stat.ucla.edu (Ian Fellows)
Date: Wed, 30 Apr 2014 09:42:24 -0700
Subject: [R-SIG-Mac] rgdal on mac os 10.9
In-Reply-To: <m2mwf294x2.fsf@krugs.de>
References: <CC228526-4798-4815-AEA6-080E29CF9DAC@stat.ucla.edu>
	<m2vbtr7z76.fsf@krugs.de> <536119EA.3020904@stats.ox.ac.uk>
	<m2mwf294x2.fsf@krugs.de>
Message-ID: <7FE2ACEA-64AB-4668-A74B-F6BB62651284@stat.ucla.edu>

Thanks for the replies everyone,

@Simon: Thank you. That will be most useful, especially for those of us with dependent packages and (shall we say) a less sophisticated user base.

@Brian: Thank you for pointing that out, though I think ?ignored" is a inappropriate word. My main concern is not for myself (I can certainly figure out how to build and install rgdal and its dependancies), but for the users of my packages that depend on rgdal.

It is good to hear that the snow leapord binaries work. I was a little hesitant to use them as your linked e-mail lists rgdal in both the ?it?s okay to use the binaries? category, and the ?it?s missing for good reason? category so I wasn?t entirely sure if a subtle binary incompatibility might crop up.

@BABA and @Rainer: I?ve had (let?s say) mixed success with fink and homebrew. Thanks for sharing your experiences.

Best,
Ian

p.s. For reference, you can install rgdal from the snow leapord repo with:

download.file("http://cran.r-project.org/bin/macosx/contrib/3.1/rgdal_0.8-16.tgz","rgdal_0.8-16.tgz?)
install.packages("sp?)
install.packages("rgdal_0.8-16.tgz",.libPaths()[1],NULL)


On Apr 30, 2014, at 9:07 AM, Rainer M Krug <Rainer at krugs.de> wrote:

> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
> 
>> On 30/04/2014 13:56, Rainer M Krug wrote:
>>> If I remember correctly, the installation from source was quite easy:
>>> apart from the usual compilers, you need gdal installed, which installs
>>> easily via homebrew [1]. After this, installation of rgdal from source
>>> worked without any additional configurations?
>> 
>> No, not really.
>> 
>> 1) for a portable package you will need static GDAL.
>> 
>> 2) GDAL can make use of a wide range of external software to read
>> raster files: without quite a lot of the optional ones it is not much
>> use for rgdal and other R packages.  Simon needs to build that for
>> Mavericks, and statically too.
> 
> Sorry - I was talking of installing it in R via type="source" not on
> CRAN. For CRAN it is definitely a different issue.
> 
> 
> Rainer
> 
>> 
>> However, Fellows has ignored all the advice to use the Snow Leopard
>> package of R 3.1.0 if he wants rgdal.  That is in the current manual
>> (http://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-R-under-OS-X)
>> and was posted to this list recently
>> (https://stat.ethz.ch/pipermail/r-sig-mac/2014-April/010835.html).
>> That is by far the easiest solution.
>> 
>>> 
>>> Rainer
>>> 
>>> 
>>> Ian Fellows <ian.fellows at stat.ucla.edu> writes:
>>> 
>>>> Hi All,
>>>> 
>>>> Does anyone know if there are plans to have rgdal compile correctly on
>>>> the CRAN Mavericks machine? I?ve really been enjoying the binaries
>>>> that have been available as building from source is a non-trival
>>>> hassle.
>>>> 
>>>> http://www.r-project.org/nosvn/R.check/r-release-osx-x86_64-mavericks/rgdal-00check.html
>>>> 
>>>> Best,
>>>> Ian
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>>> Footnotes:
>>> [1]  http://brew.sh/
>>> 
>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
> 
> -- 
> Rainer M. Krug, PhD (Conservation Ecology, SUN), MSc (Conservation Biology, UCT), Dipl. Phys. (Germany)
> 
> Centre of Excellence for Invasion Biology
> Stellenbosch University
> South Africa
> 
> Tel :       +33 - (0)9 53 10 27 44
> Cell:       +33 - (0)6 85 62 59 98
> Fax :       +33 - (0)9 58 10 27 44
> 
> Fax (D):    +49 - (0)3 21 21 25 22 44
> 
> email:      Rainer at krugs.de
> 
> Skype:      RMkrug
> 
> PGP: 0x0F52F982


From simon.urbanek at r-project.org  Wed Apr 30 19:36:10 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 30 Apr 2014 13:36:10 -0400
Subject: [R-SIG-Mac] rgdal on mac os 10.9
In-Reply-To: <7FE2ACEA-64AB-4668-A74B-F6BB62651284@stat.ucla.edu>
References: <CC228526-4798-4815-AEA6-080E29CF9DAC@stat.ucla.edu>
	<m2vbtr7z76.fsf@krugs.de> <536119EA.3020904@stats.ox.ac.uk>
	<m2mwf294x2.fsf@krugs.de>
	<7FE2ACEA-64AB-4668-A74B-F6BB62651284@stat.ucla.edu>
Message-ID: <4DA87197-99A0-4621-B8E1-95F17D4E4B2F@r-project.org>


On Apr 30, 2014, at 12:42 PM, Ian Fellows <ian.fellows at stat.ucla.edu> wrote:

> Thanks for the replies everyone,
> 
> @Simon: Thank you. That will be most useful, especially for those of us with dependent packages and (shall we say) a less sophisticated user base.
> 
> @Brian: Thank you for pointing that out, though I think ?ignored" is a inappropriate word. My main concern is not for myself (I can certainly figure out how to build and install rgdal and its dependancies), but for the users of my packages that depend on rgdal.
> 
> It is good to hear that the snow leapord binaries work. I was a little hesitant to use them as your linked e-mail lists rgdal in both the ?it?s okay to use the binaries? category, and the ?it?s missing for good reason? category so I wasn?t entirely sure if a subtle binary incompatibility might crop up.
> 
> @BABA and @Rainer: I?ve had (let?s say) mixed success with fink and homebrew. Thanks for sharing your experiences.
> 
> Best,
> Ian
> 
> p.s. For reference, you can install rgdal from the snow leapord repo with:
> 
> download.file("http://cran.r-project.org/bin/macosx/contrib/3.1/rgdal_0.8-16.tgz","rgdal_0.8-16.tgz?)
> install.packages("sp?)
> install.packages("rgdal_0.8-16.tgz",.libPaths()[1],NULL)
> 

Maybe more simply

install.packages('rgdal',type='mac.binary')

Use at your own risk, the binary builds use different compilers and ABIs so they are not guaranteed to be compatible. We make an effort to not make them unnecessarily incompatible, but that still doesn't guarantee compatibility.

Cheers,
Simon




> 
> On Apr 30, 2014, at 9:07 AM, Rainer M Krug <Rainer at krugs.de> wrote:
> 
>> Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:
>> 
>>> On 30/04/2014 13:56, Rainer M Krug wrote:
>>>> If I remember correctly, the installation from source was quite easy:
>>>> apart from the usual compilers, you need gdal installed, which installs
>>>> easily via homebrew [1]. After this, installation of rgdal from source
>>>> worked without any additional configurations?
>>> 
>>> No, not really.
>>> 
>>> 1) for a portable package you will need static GDAL.
>>> 
>>> 2) GDAL can make use of a wide range of external software to read
>>> raster files: without quite a lot of the optional ones it is not much
>>> use for rgdal and other R packages.  Simon needs to build that for
>>> Mavericks, and statically too.
>> 
>> Sorry - I was talking of installing it in R via type="source" not on
>> CRAN. For CRAN it is definitely a different issue.
>> 
>> 
>> Rainer
>> 
>>> 
>>> However, Fellows has ignored all the advice to use the Snow Leopard
>>> package of R 3.1.0 if he wants rgdal.  That is in the current manual
>>> (http://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-R-under-OS-X)
>>> and was posted to this list recently
>>> (https://stat.ethz.ch/pipermail/r-sig-mac/2014-April/010835.html).
>>> That is by far the easiest solution.
>>> 
>>>> 
>>>> Rainer
>>>> 
>>>> 
>>>> Ian Fellows <ian.fellows at stat.ucla.edu> writes:
>>>> 
>>>>> Hi All,
>>>>> 
>>>>> Does anyone know if there are plans to have rgdal compile correctly on
>>>>> the CRAN Mavericks machine? I?ve really been enjoying the binaries
>>>>> that have been available as building from source is a non-trival
>>>>> hassle.
>>>>> 
>>>>> http://www.r-project.org/nosvn/R.check/r-release-osx-x86_64-mavericks/rgdal-00check.html
>>>>> 
>>>>> Best,
>>>>> Ian
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> 
>>>> Footnotes:
>>>> [1]  http://brew.sh/
>>>> 
>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>> 
>> -- 
>> Rainer M. Krug, PhD (Conservation Ecology, SUN), MSc (Conservation Biology, UCT), Dipl. Phys. (Germany)
>> 
>> Centre of Excellence for Invasion Biology
>> Stellenbosch University
>> South Africa
>> 
>> Tel :       +33 - (0)9 53 10 27 44
>> Cell:       +33 - (0)6 85 62 59 98
>> Fax :       +33 - (0)9 58 10 27 44
>> 
>> Fax (D):    +49 - (0)3 21 21 25 22 44
>> 
>> email:      Rainer at krugs.de
>> 
>> Skype:      RMkrug
>> 
>> PGP: 0x0F52F982
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


