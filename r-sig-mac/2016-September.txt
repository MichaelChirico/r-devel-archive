From ken at kjbeath.com.au  Thu Sep  1 01:43:20 2016
From: ken at kjbeath.com.au (Ken Beath)
Date: Thu, 1 Sep 2016 09:43:20 +1000
Subject: [R-SIG-Mac] Problems with R CMD config
Message-ID: <CA71CDE6-1CBB-4280-A99B-84B46C9D4C10@kjbeath.com.au>

I?m trying to use STAN which uses R CMD config to check the availability of the compilers.

This works fine on my MacBook but on my iMac I have the documents on a separate hard drive. Within R CMD config it uses the location of the home  folder which because of my choice of name of hard drive has a space in it, and that causes problems with the batch file. In the following the volume should be Ken Main.

Kens-iMac:~ kjbeath1$ R CMD config CXX
make: /Volumes/Ken: No such file or directory
make: *** No rule to make target `/Volumes/Ken'.  Stop.

For those who are wondering why I don?t just change the name, this produces problems with other software.

Any ideas on a solution?


From ripley at stats.ox.ac.uk  Thu Sep  1 09:46:16 2016
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 1 Sep 2016 08:46:16 +0100
Subject: [R-SIG-Mac] Problems with R CMD config
In-Reply-To: <CA71CDE6-1CBB-4280-A99B-84B46C9D4C10@kjbeath.com.au>
References: <CA71CDE6-1CBB-4280-A99B-84B46C9D4C10@kjbeath.com.au>
Message-ID: <899e2fea-540c-fb6d-87d6-7b9e939ceb60@stats.ox.ac.uk>

On 01/09/2016 00:43, Ken Beath wrote:
> I?m trying to use STAN which uses R CMD config to check the availability of the compilers.
>
> This works fine on my MacBook but on my iMac I have the documents on a separate hard drive. Within R CMD config it uses the location of the home  folder which because of my choice of name of hard drive has a space in it, and that causes problems with the batch file. In the following the volume should be Ken Main.
>
> Kens-iMac:~ kjbeath1$ R CMD config CXX
> make: /Volumes/Ken: No such file or directory
> make: *** No rule to make target `/Volumes/Ken'.  Stop.
>
> For those who are wondering why I don?t just change the name, this produces problems with other software.
>
> Any ideas on a solution?

Edit the script config.

We have nothing to reproduce here (what is your home directory?), but I 
am guessing that in

     elif test -f "${HOME}/.R/Makevars-${R_PLATFORM}"; then
       makefiles="${makefiles} -f ${HOME}/.R/Makevars-${R_PLATFORM}"
     elif test -f "${HOME}/.R/Makevars"; then
       makefiles="${makefiles} -f ${HOME}/.R/Makevars"

you need \"${HOME}\" twice.

Or set R_MAKEVARS_USER to a path without spaces.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford


From ken at kjbeath.com.au  Thu Sep  1 10:57:27 2016
From: ken at kjbeath.com.au (Ken Beath)
Date: Thu, 1 Sep 2016 18:57:27 +1000
Subject: [R-SIG-Mac] Problems with R CMD config
In-Reply-To: <899e2fea-540c-fb6d-87d6-7b9e939ceb60@stats.ox.ac.uk>
References: <CA71CDE6-1CBB-4280-A99B-84B46C9D4C10@kjbeath.com.au>
	<899e2fea-540c-fb6d-87d6-7b9e939ceb60@stats.ox.ac.uk>
Message-ID: <DB23D7D6-7DA7-4D3F-9073-C729772F5568@kjbeath.com.au>


> On 1 Sep 2016, at 5:46 PM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> 
> On 01/09/2016 00:43, Ken Beath wrote:
>> I?m trying to use STAN which uses R CMD config to check the availability of the compilers.
>> 
>> This works fine on my MacBook but on my iMac I have the documents on a separate hard drive. Within R CMD config it uses the location of the home  folder which because of my choice of name of hard drive has a space in it, and that causes problems with the batch file. In the following the volume should be Ken Main.
>> 
>> Kens-iMac:~ kjbeath1$ R CMD config CXX
>> make: /Volumes/Ken: No such file or directory
>> make: *** No rule to make target `/Volumes/Ken'.  Stop.
>> 
>> For those who are wondering why I don?t just change the name, this produces problems with other software.
>> 
>> Any ideas on a solution?
> 
> Edit the script config.
> 
> We have nothing to reproduce here (what is your home directory?), but I am guessing that in
> 
>    elif test -f "${HOME}/.R/Makevars-${R_PLATFORM}"; then
>      makefiles="${makefiles} -f ${HOME}/.R/Makevars-${R_PLATFORM}"
>    elif test -f "${HOME}/.R/Makevars"; then
>      makefiles="${makefiles} -f ${HOME}/.R/Makevars"
> 
> you need \"${HOME}\" twice.
> 

Yes, works perfectly.


From dwinsemius at comcast.net  Thu Sep  1 20:58:42 2016
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 1 Sep 2016 11:58:42 -0700
Subject: [R-SIG-Mac] RcppArmadillo errors
In-Reply-To: <BFAEFDD5-AA9C-4995-92A4-2C965233F250@gmail.com>
References: <BFAEFDD5-AA9C-4995-92A4-2C965233F250@gmail.com>
Message-ID: <C9ED8594-9004-489F-88FF-87F073660597@comcast.net>


> On Aug 27, 2016, at 5:35 AM, Oskar Knapik <oknapik at gmail.com> wrote:
> 
> Dear all
> 
> I am having some problems with your package.
> 
> It looks that I can't load it on my Mac computer (OS X El Capitan 10.11.6)
> 
> I got the following errors:
> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
> can't load shared object
> '/Users/oknapik/Library/R/3.3/library/RcppArmadillo/libs/RcppArmadillo.so':
>  dlopen(/Users/oknapik/Library/R/3.3/library/RcppArmadillo/libs/RcppArmadillo.so, 6): Library not loaded: /Library/Frameworks/R.framework/Versions/3.3/Resources/lib/libRlapack.dylib
>  Referenced from: /Users/oknapik/Library/R/3.3/library/RcppArmadillo/libs/RcppArmadillo.so
>  Reason: image not found
> 
> The newest OS X doesn't support X11 (I am not sure if you use it)

XQuartz is the X11 for the Mac:

https://www.xquartz.org/

This error can be found on SO and I think the second answer (to just (re-?) install XQuartz) is the correct one.

http://stackoverflow.com/questions/26489928/cant-load-x11-in-r-after-os-x-yosemite-upgrade

-- 
David.
> 
> I am also trying to install the package on Microsoft R
> https://mran.microsoft.com <https://mran.microsoft.com/>
> 
> 
> Below the errors from the installation:
> 
> install.packages("RcppArmadillo", verbose=T)
> Installing package into ?/Users/oknapik/Library/R/3.3/library?
> (as ?lib? is unspecified)
> system (cmd0): /Library/Frameworks/R.framework/Resources/bin/R CMD INSTALL
> trying URL 'https://mran.revolutionanalytics.com/snapshot/2016-07-01/src/contrib/RcppArmadillo_0.7.100.3.1.tar.gz <https://mran.revolutionanalytics.com/snapshot/2016-07-01/src/contrib/RcppArmadillo_0.7.100.3.1.tar.gz>'
> Content type 'application/octet-stream' length 1055712 bytes (1.0 MB)
> ==================================================
> downloaded 1.0 MB
> 
> foundpkgs: RcppArmadillo, /var/folders/mr/_t437jvd5v5fty4z3pypn_yc0000gn/T//RtmpPj3WB7/downloaded_packages/RcppArmadillo_0.7.100.3.1.tar.gz
> files: /var/folders/mr/_t437jvd5v5fty4z3pypn_yc0000gn/T//RtmpPj3WB7/downloaded_packages/RcppArmadillo_0.7.100.3.1.tar.gz
> Warning
> In command 'doTryCatch(return(expr), name, parentenv, handler)':
>  can't load the shared object  '/Library/Frameworks/R.framework/Resources/modules//R_X11.so':
>  dlopen(/Library/Frameworks/R.framework/Resources/modules//R_X11.so, 6): Symbol not found: _CGBitmapContextCreate
>  Referenced from: /Library/Frameworks/R.framework/Resources/modules//R_X11.so
>  Expected in: flat namespace
> in /Library/Frameworks/R.framework/Resources/modules//R_X11.so
> * installing *source* package ?RcppArmadillo? ...
> ** package ?RcppArmadillo? has been sucessuflly unpacked and  MD5 soms were checked
> checking whether the C++ compiler works... yes
> checking for C++ compiler default output file name... a.out
> checking for suffix of executables... 
> checking whether we are cross compiling... no
> checking for suffix of object files... o
> checking whether we are using the GNU C++ compiler... yes
> checking whether clang++ accepts -g... yes
> checking how to run the C++ preprocessor... clang++ -E
> checking whether we are using the GNU C++ compiler... (cached) yes
> checking whether clang++ accepts -g... (cached) yes
> checking whether g++ version is sufficient... checking LAPACK_LIBS... system LAPACK found
> configure: creating ./config.status
> config.status: creating inst/include/RcppArmadilloLapack.h
> ** libs
> clang++ -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/include -DU_STATIC_IMPLEMENTATION -Wall -mtune=core2 -g -O2 -I/opt/X11/include -I"/Users/oknapik/Library/R/3.3/library/Rcpp/include"  -I../inst/include -fPIC  -I/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/include -DU_STATIC_IMPLEMENTATIN -Wall -mtune=core2 -g -O2 -I/opt/X11/include -framework CoreFoundation -framework CoreGraphics -framework CoreText  -c RcppArmadillo.cpp -o RcppArmadillo.o
> clang: warning: -framework CoreFoundation: 'linker' input unused
> clang: warning: -framework CoreGraphics: 'linker' input unused
> clang: warning: -framework CoreText: 'linker' input unused
> clang++ -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/include -DU_STATIC_IMPLEMENTATION -Wall -mtune=core2 -g -O2 -I/opt/X11/include -I"/Users/oknapik/Library/R/3.3/library/Rcpp/include"  -I../inst/include -fPIC  -I/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/include -DU_STATIC_IMPLEMENTATIN -Wall -mtune=core2 -g -O2 -I/opt/X11/include -framework CoreFoundation -framework CoreGraphics -framework CoreText  -c RcppExports.cpp -o RcppExports.o
> clang: warning: -framework CoreFoundation: 'linker' input unused
> clang: warning: -framework CoreGraphics: 'linker' input unused
> clang: warning: -framework CoreText: 'linker' input unused
> clang++ -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/include -DU_STATIC_IMPLEMENTATION -Wall -mtune=core2 -g -O2 -I/opt/X11/include -I"/Users/oknapik/Library/R/3.3/library/Rcpp/include"  -I../inst/include -fPIC  -I/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/include -DU_STATIC_IMPLEMENTATIN -Wall -mtune=core2 -g -O2 -I/opt/X11/include -framework CoreFoundation -framework CoreGraphics -framework CoreText  -c fastLm.cpp -o fastLm.o
> clang: warning: -framework CoreFoundation: 'linker' input unused
> clang: warning: -framework CoreGraphics: 'linker' input unused
> clang: warning: -framework CoreText: 'linker' input unused
> clang++ -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/lib -o RcppArmadillo.so RcppArmadillo.o RcppExports.o fastLm.o -framework Accelerate -L/usr/local/lib/gcc/i686-apple-darwin8/4.2.3/x86_64 -L/usr/local/lib/x86_64 -L/usr/local/lib/gcc/i686-apple-darwin8/4.2.3 -L/usr/local/lib -lgfortran -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
> ld: warning: directory not found for option '-L/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/lib'
> ld: warning: directory not found for option '-L/usr/local/lib/gcc/i686-apple-darwin8/4.2.3/x86_64'
> ld: warning: directory not found for option '-L/usr/local/lib/x86_64'
> ld: warning: directory not found for option '-L/usr/local/lib/gcc/i686-apple-darwin8/4.2.3'
> ld: library not found for -lgfortran
> clang: error: linker command failed with exit code 1 (use -v to see invocation)
> make: *** [RcppArmadillo.so] Error 1
> ERROR: compilation failed for package ?RcppArmadillo?
> * removing ?/Users/oknapik/Library/R/3.3/library/RcppArmadillo?
> * restoring previous ?/Users/oknapik/Library/R/3.3/library/RcppArmadillo?
> Warning in install.packages :
>  installation of package ?RcppArmadillo? had non-zero exit status
> 
> 
> 
> I would be very grateful for help.
> 
> Best,
> Oskar
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From michael.weylandt at gmail.com  Thu Sep  1 21:26:38 2016
From: michael.weylandt at gmail.com (Michael Weylandt)
Date: Thu, 1 Sep 2016 14:26:38 -0500
Subject: [R-SIG-Mac] RcppArmadillo errors
In-Reply-To: <BFAEFDD5-AA9C-4995-92A4-2C965233F250@gmail.com>
References: <BFAEFDD5-AA9C-4995-92A4-2C965233F250@gmail.com>
Message-ID: <934D49A8-6F8E-4441-AA75-7BAD8034BE0F@gmail.com>



> On Aug 27, 2016, at 7:35 AM, Oskar Knapik <oknapik at gmail.com> wrote:
> 
> Dear all
> 
> I am having some problems with your package.
> 
> It looks that I can't load it on my Mac computer (OS X El Capitan 10.11.6)
> 
> I got the following errors:
> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
> can't load shared object
> '/Users/oknapik/Library/R/3.3/library/RcppArmadillo/libs/RcppArmadillo.so':
>  dlopen(/Users/oknapik/Library/R/3.3/library/RcppArmadillo/libs/RcppArmadillo.so, 6): Library not loaded: /Library/Frameworks/R.framework/Versions/3.3/Resources/lib/libRlapack.dylib
>  Referenced from: /Users/oknapik/Library/R/3.3/library/RcppArmadillo/libs/RcppArmadillo.so
>  Reason: image not found
> 
> The newest OS X doesn't support X11 (I am not sure if you use it)
> 
> I am also trying to install the package on Microsoft R
> https://mran.microsoft.com <https://mran.microsoft.com/>
> 
> 
> Below the errors from the installation:
> 
> install.packages("RcppArmadillo", verbose=T)
> Installing package into ?/Users/oknapik/Library/R/3.3/library?
> (as ?lib? is unspecified)
> system (cmd0): /Library/Frameworks/R.framework/Resources/bin/R CMD INSTALL
> trying URL 'https://mran.revolutionanalytics.com/snapshot/2016-07-01/src/contrib/RcppArmadillo_0.7.100.3.1.tar.gz <https://mran.revolutionanalytics.com/snapshot/2016-07-01/src/contrib/RcppArmadillo_0.7.100.3.1.tar.gz>'
> Content type 'application/octet-stream' length 1055712 bytes (1.0 MB)
> ==================================================
> downloaded 1.0 MB
> 
> foundpkgs: RcppArmadillo, /var/folders/mr/_t437jvd5v5fty4z3pypn_yc0000gn/T//RtmpPj3WB7/downloaded_packages/RcppArmadillo_0.7.100.3.1.tar.gz
> files: /var/folders/mr/_t437jvd5v5fty4z3pypn_yc0000gn/T//RtmpPj3WB7/downloaded_packages/RcppArmadillo_0.7.100.3.1.tar.gz
> Warning
> In command 'doTryCatch(return(expr), name, parentenv, handler)':
>  can't load the shared object  '/Library/Frameworks/R.framework/Resources/modules//R_X11.so':
>  dlopen(/Library/Frameworks/R.framework/Resources/modules//R_X11.so, 6): Symbol not found: _CGBitmapContextCreate
>  Referenced from: /Library/Frameworks/R.framework/Resources/modules//R_X11.so
>  Expected in: flat namespace
> in /Library/Frameworks/R.framework/Resources/modules//R_X11.so
> * installing *source* package ?RcppArmadillo? ...
> ** package ?RcppArmadillo? has been sucessuflly unpacked and  MD5 soms were checked
> checking whether the C++ compiler works... yes
> checking for C++ compiler default output file name... a.out
> checking for suffix of executables... 
> checking whether we are cross compiling... no
> checking for suffix of object files... o
> checking whether we are using the GNU C++ compiler... yes
> checking whether clang++ accepts -g... yes
> checking how to run the C++ preprocessor... clang++ -E
> checking whether we are using the GNU C++ compiler... (cached) yes
> checking whether clang++ accepts -g... (cached) yes
> checking whether g++ version is sufficient... checking LAPACK_LIBS... system LAPACK found
> configure: creating ./config.status
> config.status: creating inst/include/RcppArmadilloLapack.h
> ** libs
> clang++ -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/include -DU_STATIC_IMPLEMENTATION -Wall -mtune=core2 -g -O2 -I/opt/X11/include -I"/Users/oknapik/Library/R/3.3/library/Rcpp/include"  -I../inst/include -fPIC  -I/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/include -DU_STATIC_IMPLEMENTATIN -Wall -mtune=core2 -g -O2 -I/opt/X11/include -framework CoreFoundation -framework CoreGraphics -framework CoreText  -c RcppArmadillo.cpp -o RcppArmadillo.o
> clang: warning: -framework CoreFoundation: 'linker' input unused
> clang: warning: -framework CoreGraphics: 'linker' input unused
> clang: warning: -framework CoreText: 'linker' input unused
> clang++ -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/include -DU_STATIC_IMPLEMENTATION -Wall -mtune=core2 -g -O2 -I/opt/X11/include -I"/Users/oknapik/Library/R/3.3/library/Rcpp/include"  -I../inst/include -fPIC  -I/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/include -DU_STATIC_IMPLEMENTATIN -Wall -mtune=core2 -g -O2 -I/opt/X11/include -framework CoreFoundation -framework CoreGraphics -framework CoreText  -c RcppExports.cpp -o RcppExports.o
> clang: warning: -framework CoreFoundation: 'linker' input unused
> clang: warning: -framework CoreGraphics: 'linker' input unused
> clang: warning: -framework CoreText: 'linker' input unused
> clang++ -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/include -DU_STATIC_IMPLEMENTATION -Wall -mtune=core2 -g -O2 -I/opt/X11/include -I"/Users/oknapik/Library/R/3.3/library/Rcpp/include"  -I../inst/include -fPIC  -I/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/include -DU_STATIC_IMPLEMENTATIN -Wall -mtune=core2 -g -O2 -I/opt/X11/include -framework CoreFoundation -framework CoreGraphics -framework CoreText  -c fastLm.cpp -o fastLm.o
> clang: warning: -framework CoreFoundation: 'linker' input unused
> clang: warning: -framework CoreGraphics: 'linker' input unused
> clang: warning: -framework CoreText: 'linker' input unused
> clang++ -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/lib -o RcppArmadillo.so RcppArmadillo.o RcppExports.o fastLm.o -framework Accelerate -L/usr/local/lib/gcc/i686-apple-darwin8/4.2.3/x86_64 -L/usr/local/lib/x86_64 -L/usr/local/lib/gcc/i686-apple-darwin8/4.2.3 -L/usr/local/lib -lgfortran -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
> ld: warning: directory not found for option '-L/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/lib'
> ld: warning: directory not found for option '-L/usr/local/lib/gcc/i686-apple-darwin8/4.2.3/x86_64'
> ld: warning: directory not found for option '-L/usr/local/lib/x86_64'
> ld: warning: directory not found for option '-L/usr/local/lib/gcc/i686-apple-darwin8/4.2.3'
> ld: library not found for -lgfortran
> clang: error: linker command failed with exit code 1 (use -v to see invocation)

Looks like you need gfortran. 

I believe the instructions at 

http://stackoverflow.com/a/25912049

are still current. 

MW


> make: *** [RcppArmadillo.so] Error 1
> ERROR: compilation failed for package ?RcppArmadillo?
> * removing ?/Users/oknapik/Library/R/3.3/library/RcppArmadillo?
> * restoring previous ?/Users/oknapik/Library/R/3.3/library/RcppArmadillo?
> Warning in install.packages :
>  installation of package ?RcppArmadillo? had non-zero exit status
> 
> 
> 
> I would be very grateful for help.
> 
> Best,
> Oskar
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dwinsemius at comcast.net  Thu Sep  1 21:40:10 2016
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 1 Sep 2016 12:40:10 -0700
Subject: [R-SIG-Mac] RcppArmadillo errors
In-Reply-To: <C9ED8594-9004-489F-88FF-87F073660597@comcast.net>
References: <BFAEFDD5-AA9C-4995-92A4-2C965233F250@gmail.com>
	<C9ED8594-9004-489F-88FF-87F073660597@comcast.net>
Message-ID: <16AA5B35-80FA-4AB0-A42D-6CC3CA743029@comcast.net>


> On Sep 1, 2016, at 11:58 AM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> 
>> On Aug 27, 2016, at 5:35 AM, Oskar Knapik <oknapik at gmail.com> wrote:
>> 
>> Dear all
>> 
>> I am having some problems with your package.
>> 
>> It looks that I can't load it on my Mac computer (OS X El Capitan 10.11.6)
>> 
>> I got the following errors:
>> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>> can't load shared object
>> '/Users/oknapik/Library/R/3.3/library/RcppArmadillo/libs/RcppArmadillo.so':
>> dlopen(/Users/oknapik/Library/R/3.3/library/RcppArmadillo/libs/RcppArmadillo.so, 6): Library not loaded: /Library/Frameworks/R.framework/Versions/3.3/Resources/lib/libRlapack.dylib
>> Referenced from: /Users/oknapik/Library/R/3.3/library/RcppArmadillo/libs/RcppArmadillo.so
>> Reason: image not found
>> 
>> The newest OS X doesn't support X11 (I am not sure if you use it)
> 
> XQuartz is the X11 for the Mac:
> 
> https://www.xquartz.org/
> 
> This error can be found on SO and I think the second answer (to just (re-?) install XQuartz) is the correct one.
> 
> http://stackoverflow.com/questions/26489928/cant-load-x11-in-r-after-os-x-yosemite-upgrade
> 
> -- 
> David.
>> 
>> I am also trying to install the package on Microsoft R
>> https://mran.microsoft.com <https://mran.microsoft.com/>
>> 
>> 
>> Below the errors from the installation:
>> 
>> install.packages("RcppArmadillo", verbose=T)
>> Installing package into ?/Users/oknapik/Library/R/3.3/library?
>> (as ?lib? is unspecified)
>> system (cmd0): /Library/Frameworks/R.framework/Resources/bin/R CMD INSTALL
>> trying URL 'https://mran.revolutionanalytics.com/snapshot/2016-07-01/src/contrib/RcppArmadillo_0.7.100.3.1.tar.gz <https://mran.revolutionanalytics.com/snapshot/2016-07-01/src/contrib/RcppArmadillo_0.7.100.3.1.tar.gz>'
>> Content type 'application/octet-stream' length 1055712 bytes (1.0 MB)
>> ==================================================
>> downloaded 1.0 MB
>> 
>> foundpkgs: RcppArmadillo, /var/folders/mr/_t437jvd5v5fty4z3pypn_yc0000gn/T//RtmpPj3WB7/downloaded_packages/RcppArmadillo_0.7.100.3.1.tar.gz
>> files: /var/folders/mr/_t437jvd5v5fty4z3pypn_yc0000gn/T//RtmpPj3WB7/downloaded_packages/RcppArmadillo_0.7.100.3.1.tar.gz
>> Warning
>> In command 'doTryCatch(return(expr), name, parentenv, handler)':
>> can't load the shared object  '/Library/Frameworks/R.framework/Resources/modules//R_X11.so':

snipped

>> ld: warning: directory not found for option '-L/private/var/root/jenkins/workspace/External-R-3.3.1/vendor/build/lib'
>> ld: warning: directory not found for option '-L/usr/local/lib/gcc/i686-apple-darwin8/4.2.3/x86_64'
>> ld: warning: directory not found for option '-L/usr/local/lib/x86_64'
>> ld: warning: directory not found for option '-L/usr/local/lib/gcc/i686-apple-darwin8/4.2.3'
>> ld: library not found for -lgfortran
>> clang: error: linker command failed with exit code 1 (use -v to see invocation)

Apologies for the noise. 

The XQuartz concern wasn't the actual error. I didn't read down far enough. Appears you do have an earlier version of RcppArmadillo although it's not clear which one it might be. I was able to install both a binary (RcppArmadillo_0.7.400.2.0.tgz) and from source: https://cran.cnr.berkeley.edu/src/contrib/RcppArmadillo_0.7.400.2.0.tar.gz  without difficulty. (No warnings.)  That appears to be the current version that would install from CRAN and it's also the one I see at MRAN: https://mran.microsoft.com/src/contrib/RcppArmadillo_0.7.400.2.0.tar.gz

You are installing a somewhat older version. Using https://mran.microsoft.com made me wonder if you may have an earlier version of R distributed by Microsoft, although your directory naming suggests they have now "caught up". The "standard" version of Fortran for the Mac is at http://r.research.att.com/tools/   The MRAN distribution is not entirely standar. I have not heard of discrepancies with Fortran dependencies in the past.

-- David


>> make: *** [RcppArmadillo.so] Error 1
>> ERROR: compilation failed for package ?RcppArmadillo?
>> * removing ?/Users/oknapik/Library/R/3.3/library/RcppArmadillo?
>> * restoring previous ?/Users/oknapik/Library/R/3.3/library/RcppArmadillo?
>> Warning in install.packages :
>> installation of package ?RcppArmadillo? had non-zero exit status
>> 
>> 
>> 
>> I would be very grateful for help.
>> 
>> Best,
>> Oskar
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> David Winsemius
> Alameda, CA, USA
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From rkoenker at illinois.edu  Tue Sep  6 23:34:44 2016
From: rkoenker at illinois.edu (Roger Koenker)
Date: Tue, 6 Sep 2016 16:34:44 -0500
Subject: [R-SIG-Mac] Lost Library ?
Message-ID: <B2DF09F6-7A68-4CED-864D-188BB52BD9A6@illinois.edu>

This is a question about how to find a lost library needed for the gurobi R package.
Gurobi is a optimization system with various frontends including to R.
Even though I realize that few of you use, or may even know about, gurobi I hope
that there may be  some generic advice ? my first  dubious attempts, contrary to Simon?s
periodic advice that use of DYLD_LIBRARY_PATH is frowned upon,  have proven futile.
Here is the basic story:

I've installed gurobi and its license file and this seems to work on a test problem from the command line,
but I would like to use the R package interface and have installed the R binary package that comes with
the gurobi download on a R 3.3.0 system on an osx 10.11.5 machine,   As far as I can see there is no
source version of the R package available.   The package ?seems to? install, but I now see in R:

> library(gurobi)
Loading required package: gurobi
Loading required package: slam
Error in dyn.load(file, DLLpath = DLLpath, ...) : 
  unable to load shared object '/Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so':
  dlopen(/Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so, 6): Library not loaded: libgurobi65.so
  Referenced from: /Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so
  Reason: image not found

the library libgurobi65.so is sitting in /usr/local/lib so I don't understand why the
R process can't find it -- this is what the R package library thinks:

yzzy: otool -L g*

gurobi.so:
	gurobi.so (compatibility version 0.0.0, current version 0.0.0)
	libgurobi65.so (compatibility version 6.5.0, current version 6.5.2)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)
	/Library/Frameworks/R.framework/Versions/3.2/Resources/lib/libR.dylib (compatibility version 3.2.0, current version 3.2.2)
	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 855.17.0)

Many thanks for your help,
Roger

url:    www.econ.uiuc.edu/~roger            Roger Koenker
email    rkoenker at uiuc.edu            Department of Economics
vox:     217-333-4558                University of Illinois
fax:       217-244-6678                Urbana, IL 61801


From Rainer at krugs.de  Wed Sep  7 09:13:41 2016
From: Rainer at krugs.de (Rainer M Krug)
Date: Wed, 07 Sep 2016 09:13:41 +0200
Subject: [R-SIG-Mac] Lost Library ?
In-Reply-To: <B2DF09F6-7A68-4CED-864D-188BB52BD9A6@illinois.edu> (Roger
	Koenker's message of "Tue, 6 Sep 2016 16:34:44 -0500")
References: <B2DF09F6-7A68-4CED-864D-188BB52BD9A6@illinois.edu>
Message-ID: <m2k2eoqj16.fsf@krugs.de>

Roger Koenker <rkoenker at illinois.edu> writes:

> This is a question about how to find a lost library needed for the gurobi R package.
> Gurobi is a optimization system with various frontends including to R.
> Even though I realize that few of you use, or may even know about, gurobi I hope
> that there may be  some generic advice ? my first  dubious attempts, contrary to Simon?s
> periodic advice that use of DYLD_LIBRARY_PATH is frowned upon,  have proven futile.
> Here is the basic story:
>
> I've installed gurobi and its license file and this seems to work on a test problem from the command line,
> but I would like to use the R package interface and have installed the R binary package that comes with
> the gurobi download on a R 3.3.0 system on an osx 10.11.5 machine,   As far as I can see there is no
> source version of the R package available.   The package ?seems to? install, but I now see in R:
>
>> library(gurobi)
> Loading required package: gurobi
> Loading required package: slam
> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>   unable to load shared object '/Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so':
>   dlopen(/Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so, 6): Library not loaded: libgurobi65.so
>   Referenced from: /Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so
>   Reason: image not found
>
> the library libgurobi65.so is sitting in /usr/local/lib so I don't understand why the
> R process can't find it -- this is what the R package library thinks:

This indicates, that you installed gurobi using homebrew?

How did you install the R package? Did you install it as a binary? If
yes, then install it type="source" so that it is compiled with the
correct library paths.

If both assumptions are wrong: how did you install R, gurobi and the R
packages?

Cheers,

Rainer

>
> yzzy: otool -L g*
>
> gurobi.so:
> 	gurobi.so (compatibility version 0.0.0, current version 0.0.0)
> 	libgurobi65.so (compatibility version 6.5.0, current version 6.5.2)
> 	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)
> 	/Library/Frameworks/R.framework/Versions/3.2/Resources/lib/libR.dylib (compatibility version 3.2.0, current version 3.2.2)
> 	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 855.17.0)
>
> Many thanks for your help,
> Roger
>
> url:    www.econ.uiuc.edu/~roger            Roger Koenker
> email    rkoenker at uiuc.edu            Department of Economics
> vox:     217-333-4558                University of Illinois
> fax:       217-244-6678                Urbana, IL 61801
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Rainer M. Krug
email: Rainer<at>krugs<dot>de
PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 454 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20160907/7c8d33cc/attachment.bin>

From Rainer at krugs.de  Wed Sep  7 09:15:33 2016
From: Rainer at krugs.de (Rainer M Krug)
Date: Wed, 07 Sep 2016 09:15:33 +0200
Subject: [R-SIG-Mac] Lost Library ?
In-Reply-To: <B2DF09F6-7A68-4CED-864D-188BB52BD9A6@illinois.edu> (Roger
	Koenker's message of "Tue, 6 Sep 2016 16:34:44 -0500")
References: <B2DF09F6-7A68-4CED-864D-188BB52BD9A6@illinois.edu>
Message-ID: <m2fupcqiy2.fsf@krugs.de>

Roger Koenker <rkoenker at illinois.edu> writes:

> This is a question about how to find a lost library needed for the gurobi R package.
> Gurobi is a optimization system with various frontends including to R.
> Even though I realize that few of you use, or may even know about, gurobi I hope
> that there may be  some generic advice ? my first  dubious attempts, contrary to Simon?s
> periodic advice that use of DYLD_LIBRARY_PATH is frowned upon,  have proven futile.
> Here is the basic story:

I just saw that gurobi is a commercial package which comes with their
own R interface - I would ask on their mailing list.

Cheers,

Rainer


>
> I've installed gurobi and its license file and this seems to work on a test problem from the command line,
> but I would like to use the R package interface and have installed the R binary package that comes with
> the gurobi download on a R 3.3.0 system on an osx 10.11.5 machine,   As far as I can see there is no
> source version of the R package available.   The package ?seems to? install, but I now see in R:
>
>> library(gurobi)
> Loading required package: gurobi
> Loading required package: slam
> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>   unable to load shared object '/Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so':
>   dlopen(/Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so, 6): Library not loaded: libgurobi65.so
>   Referenced from: /Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so
>   Reason: image not found
>
> the library libgurobi65.so is sitting in /usr/local/lib so I don't understand why the
> R process can't find it -- this is what the R package library thinks:
>
> yzzy: otool -L g*
>
> gurobi.so:
> 	gurobi.so (compatibility version 0.0.0, current version 0.0.0)
> 	libgurobi65.so (compatibility version 6.5.0, current version 6.5.2)
> 	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)
> 	/Library/Frameworks/R.framework/Versions/3.2/Resources/lib/libR.dylib (compatibility version 3.2.0, current version 3.2.2)
> 	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 855.17.0)
>
> Many thanks for your help,
> Roger
>
> url:    www.econ.uiuc.edu/~roger            Roger Koenker
> email    rkoenker at uiuc.edu            Department of Economics
> vox:     217-333-4558                University of Illinois
> fax:       217-244-6678                Urbana, IL 61801
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Rainer M. Krug
email: Rainer<at>krugs<dot>de
PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 454 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20160907/bdb65f91/attachment.bin>

From dominik at beck.net  Wed Sep  7 09:55:03 2016
From: dominik at beck.net (Dominik Beck)
Date: Wed, 7 Sep 2016 09:55:03 +0200
Subject: [R-SIG-Mac] Lost Library ?
In-Reply-To: <m2k2eoqj16.fsf@krugs.de>
References: <B2DF09F6-7A68-4CED-864D-188BB52BD9A6@illinois.edu>
	<m2k2eoqj16.fsf@krugs.de>
Message-ID: <A785EA6C-C496-405B-BCF7-C7523CAB2EEA@beck.net>

Please look here: http://apple.stackexchange.com/questions/208764/cant-write-to-usr-lib

Sounds like a security feature OS X El Capitan.

Best regards,
Dominik

Sent from my iPhone, pls excuse typos and brevity.

> On 07.09.2016, at 09:13, Rainer M Krug <Rainer at krugs.de> wrote:
> 
> Roger Koenker <rkoenker at illinois.edu> writes:
> 
>> This is a question about how to find a lost library needed for the gurobi R package.
>> Gurobi is a optimization system with various frontends including to R.
>> Even though I realize that few of you use, or may even know about, gurobi I hope
>> that there may be  some generic advice ? my first  dubious attempts, contrary to Simon?s
>> periodic advice that use of DYLD_LIBRARY_PATH is frowned upon,  have proven futile.
>> Here is the basic story:
>> 
>> I've installed gurobi and its license file and this seems to work on a test problem from the command line,
>> but I would like to use the R package interface and have installed the R binary package that comes with
>> the gurobi download on a R 3.3.0 system on an osx 10.11.5 machine,   As far as I can see there is no
>> source version of the R package available.   The package ?seems to? install, but I now see in R:
>> 
>>> library(gurobi)
>> Loading required package: gurobi
>> Loading required package: slam
>> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>>  unable to load shared object '/Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so':
>>  dlopen(/Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so, 6): Library not loaded: libgurobi65.so
>>  Referenced from: /Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so
>>  Reason: image not found
>> 
>> the library libgurobi65.so is sitting in /usr/local/lib so I don't understand why the
>> R process can't find it -- this is what the R package library thinks:
> 
> This indicates, that you installed gurobi using homebrew?
> 
> How did you install the R package? Did you install it as a binary? If
> yes, then install it type="source" so that it is compiled with the
> correct library paths.
> 
> If both assumptions are wrong: how did you install R, gurobi and the R
> packages?
> 
> Cheers,
> 
> Rainer
> 
>> 
>> yzzy: otool -L g*
>> 
>> gurobi.so:
>>    gurobi.so (compatibility version 0.0.0, current version 0.0.0)
>>    libgurobi65.so (compatibility version 6.5.0, current version 6.5.2)
>>    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)
>>    /Library/Frameworks/R.framework/Versions/3.2/Resources/lib/libR.dylib (compatibility version 3.2.0, current version 3.2.2)
>>    /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 855.17.0)
>> 
>> Many thanks for your help,
>> Roger
>> 
>> url:    www.econ.uiuc.edu/~roger            Roger Koenker
>> email    rkoenker at uiuc.edu            Department of Economics
>> vox:     217-333-4558                University of Illinois
>> fax:       217-244-6678                Urbana, IL 61801
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> -- 
> Rainer M. Krug
> email: Rainer<at>krugs<dot>de
> PGP: 0x0F52F982
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

	[[alternative HTML version deleted]]


From rkoenker at illinois.edu  Wed Sep  7 14:18:08 2016
From: rkoenker at illinois.edu (Roger Koenker)
Date: Wed, 7 Sep 2016 07:18:08 -0500
Subject: [R-SIG-Mac] Lost Library ?
In-Reply-To: <8f544abd00014b0db8367b51d39e167b@CHIHT1.ad.uillinois.edu>
References: <B2DF09F6-7A68-4CED-864D-188BB52BD9A6@illinois.edu>
	<8f544abd00014b0db8367b51d39e167b@CHIHT1.ad.uillinois.edu>
Message-ID: <D66E3972-382B-415A-BB5F-0D01B7F87445@illinois.edu>



> On Sep 7, 2016, at 2:13 AM, Rainer M Krug <Rainer at krugs.de> wrote:
> 
> Roger Koenker <rkoenker at illinois.edu> writes:
> 
> 
> This indicates, that you installed gurobi using homebrew?

No, I don?t use homebrew,  it was installed from the dmg downloaded
from the gurobi website.
> 
> How did you install the R package? Did you install it as a binary? If
> yes, then install it type="source" so that it is compiled with the
> correct library paths.

The gurobi download includes a mac binary and I installed that ? as
far as I can tell there is no publicly available source version.
> 
> If both assumptions are wrong: how did you install R, gurobi and the R
> packages?
> 
> Cheers,
> 
> Rainer
> 


From marc_schwartz at me.com  Wed Sep  7 15:09:57 2016
From: marc_schwartz at me.com (Marc Schwartz)
Date: Wed, 07 Sep 2016 08:09:57 -0500
Subject: [R-SIG-Mac] Lost Library ?
In-Reply-To: <D66E3972-382B-415A-BB5F-0D01B7F87445@illinois.edu>
References: <B2DF09F6-7A68-4CED-864D-188BB52BD9A6@illinois.edu>
	<8f544abd00014b0db8367b51d39e167b@CHIHT1.ad.uillinois.edu>
	<D66E3972-382B-415A-BB5F-0D01B7F87445@illinois.edu>
Message-ID: <E0E49BFA-8A78-4D3B-9F15-7F18B0A5D43F@me.com>


> On Sep 7, 2016, at 7:18 AM, Roger Koenker <rkoenker at illinois.edu> wrote:
> 
> 
> 
>> On Sep 7, 2016, at 2:13 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>> 
>> Roger Koenker <rkoenker at illinois.edu> writes:
>> 
>> 
>> This indicates, that you installed gurobi using homebrew?
> 
> No, I don?t use homebrew,  it was installed from the dmg downloaded
> from the gurobi website.
>> 
>> How did you install the R package? Did you install it as a binary? If
>> yes, then install it type="source" so that it is compiled with the
>> correct library paths.
> 
> The gurobi download includes a mac binary and I installed that ? as
> far as I can tell there is no publicly available source version.
>> 
>> If both assumptions are wrong: how did you install R, gurobi and the R
>> packages?
>> 
>> Cheers,
>> 
>> Rainer
>> 


Roger,

According to this PDF:

  http://www.gurobi.com/documentation/6.5/quickstart_mac.pdf

there appears to be instructions on page 88 pertaining to R and for installing a source package for Linux in addition to the Mac binary (.tgz). So there does appear to be some availability of a source version.

Since the package appears to be from a third party who is a commercial vendor at some level, as Rainer noted, it may be prudent to contact them directly or via their Google support group.

Regards,

Marc Schwartz


From Rainer at krugs.de  Wed Sep  7 15:13:58 2016
From: Rainer at krugs.de (Rainer M Krug)
Date: Wed, 07 Sep 2016 15:13:58 +0200
Subject: [R-SIG-Mac] Lost Library ?
In-Reply-To: <D66E3972-382B-415A-BB5F-0D01B7F87445@illinois.edu> (Roger
	Koenker's message of "Wed, 7 Sep 2016 07:18:08 -0500")
References: <B2DF09F6-7A68-4CED-864D-188BB52BD9A6@illinois.edu>
	<8f544abd00014b0db8367b51d39e167b@CHIHT1.ad.uillinois.edu>
	<D66E3972-382B-415A-BB5F-0D01B7F87445@illinois.edu>
Message-ID: <m2wpinq2cp.fsf@krugs.de>

Roger Koenker <rkoenker at illinois.edu> writes:

>> On Sep 7, 2016, at 2:13 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>> 
>> Roger Koenker <rkoenker at illinois.edu> writes:
>> 
>> 
>> This indicates, that you installed gurobi using homebrew?
>
> No, I don?t use homebrew,  it was installed from the dmg downloaded
> from the gurobi website.

In that case you should contact their support.

Rainer

>> 
>> How did you install the R package? Did you install it as a binary? If
>> yes, then install it type="source" so that it is compiled with the
>> correct library paths.
>
> The gurobi download includes a mac binary and I installed that ? as
> far as I can tell there is no publicly available source version.
>> 
>> If both assumptions are wrong: how did you install R, gurobi and the R
>> packages?
>> 
>> Cheers,
>> 
>> Rainer
>> 
>

-- 
Rainer M. Krug
email: Rainer<at>krugs<dot>de
PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 454 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20160907/5f937af6/attachment.bin>

From simon.urbanek at r-project.org  Wed Sep  7 17:16:27 2016
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 7 Sep 2016 11:16:27 -0400
Subject: [R-SIG-Mac] Lost Library ?
In-Reply-To: <B2DF09F6-7A68-4CED-864D-188BB52BD9A6@illinois.edu>
References: <B2DF09F6-7A68-4CED-864D-188BB52BD9A6@illinois.edu>
Message-ID: <185C95EF-CD86-45E8-90CF-829FCC21C2BE@r-project.org>


> On Sep 6, 2016, at 5:34 PM, Roger Koenker <rkoenker at illinois.edu> wrote:
> 
> This is a question about how to find a lost library needed for the gurobi R package.
> Gurobi is a optimization system with various frontends including to R.
> Even though I realize that few of you use, or may even know about, gurobi I hope
> that there may be  some generic advice ? my first  dubious attempts, contrary to Simon?s
> periodic advice that use of DYLD_LIBRARY_PATH is frowned upon,  have proven futile.
> Here is the basic story:
> 
> I've installed gurobi and its license file and this seems to work on a test problem from the command line,
> but I would like to use the R package interface and have installed the R binary package that comes with
> the gurobi download on a R 3.3.0 system on an osx 10.11.5 machine,   As far as I can see there is no
> source version of the R package available.   The package ?seems to? install, but I now see in R:
> 
>> library(gurobi)
> Loading required package: gurobi
> Loading required package: slam
> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>  unable to load shared object '/Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so, 6): Library not loaded: libgurobi65.so
>  Referenced from: /Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so
>  Reason: image not found
> 
> the library libgurobi65.so is sitting in /usr/local/lib so I don't understand why the
> R process can't find it


Possibly because gurobi authors have no idea about OS X? The library should include its location in its ID field and also .so is not the correct extension for a OS X library - it's not Linux :). So if you still have some trust in that product, you can try 

sudo install_name_tool -id /usr/local/lib/libgurobi65.so /usr/local/lib/libgurobi65.so

and the re-compile the R package and cross your fingers that it will work. Alternatively, if you can't compile it yourself, you can manually force the correct path in the package via

install_name_tool -change libgurobi65.so /usr/local/lib/libgurobi65.so /Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so

but as other said, you should really ask them to fix their product ;).

Cheers,
Simon


> -- this is what the R package library thinks:
> 
> yzzy: otool -L g*
> 
> gurobi.so:
> 	gurobi.so (compatibility version 0.0.0, current version 0.0.0)
> 	libgurobi65.so (compatibility version 6.5.0, current version 6.5.2)
> 	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)
> 	/Library/Frameworks/R.framework/Versions/3.2/Resources/lib/libR.dylib (compatibility version 3.2.0, current version 3.2.2)
> 	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 855.17.0)
> 
> Many thanks for your help,
> Roger
> 
> url:    www.econ.uiuc.edu/~roger            Roger Koenker
> email    rkoenker at uiuc.edu            Department of Economics
> vox:     217-333-4558                University of Illinois
> fax:       217-244-6678                Urbana, IL 61801
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From rkoenker at illinois.edu  Wed Sep  7 22:20:15 2016
From: rkoenker at illinois.edu (Roger Koenker)
Date: Wed, 7 Sep 2016 15:20:15 -0500
Subject: [R-SIG-Mac] Lost Library ?
In-Reply-To: <df6da8d0a84d4defb20fe1c6b5686c28@CITESHT4.ad.uillinois.edu>
References: <B2DF09F6-7A68-4CED-864D-188BB52BD9A6@illinois.edu>
	<df6da8d0a84d4defb20fe1c6b5686c28@CITESHT4.ad.uillinois.edu>
Message-ID: <CB24D0D0-DB6E-4E28-8AE6-2828BFC19DD2@illinois.edu>

Thanks Simon, your last suggestion resolves the issue nicely for the moment, I am pursuing
it with the gurobi folks,  I thought that this was a reputable outfit, but I?m beginning to have 
doubts.

Roger

url:    www.econ.uiuc.edu/~roger            Roger Koenker
email    rkoenker at uiuc.edu            Department of Economics
vox:     217-333-4558                University of Illinois
fax:       217-244-6678                Urbana, IL 61801

> On Sep 7, 2016, at 10:16 AM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
>> 
>> On Sep 6, 2016, at 5:34 PM, Roger Koenker <rkoenker at illinois.edu> wrote:
>> 
>> This is a question about how to find a lost library needed for the gurobi R package.
>> Gurobi is a optimization system with various frontends including to R.
>> Even though I realize that few of you use, or may even know about, gurobi I hope
>> that there may be  some generic advice ? my first  dubious attempts, contrary to Simon?s
>> periodic advice that use of DYLD_LIBRARY_PATH is frowned upon,  have proven futile.
>> Here is the basic story:
>> 
>> I've installed gurobi and its license file and this seems to work on a test problem from the command line,
>> but I would like to use the R package interface and have installed the R binary package that comes with
>> the gurobi download on a R 3.3.0 system on an osx 10.11.5 machine,   As far as I can see there is no
>> source version of the R package available.   The package ?seems to? install, but I now see in R:
>> 
>>> library(gurobi)
>> Loading required package: gurobi
>> Loading required package: slam
>> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>> unable to load shared object '/Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so':
>> dlopen(/Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so, 6): Library not loaded: libgurobi65.so
>> Referenced from: /Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so
>> Reason: image not found
>> 
>> the library libgurobi65.so is sitting in /usr/local/lib so I don't understand why the
>> R process can't find it
> 
> 
> Possibly because gurobi authors have no idea about OS X? The library should include its location in its ID field and also .so is not the correct extension for a OS X library - it's not Linux :). So if you still have some trust in that product, you can try 
> 
> sudo install_name_tool -id /usr/local/lib/libgurobi65.so /usr/local/lib/libgurobi65.so
> 
> and the re-compile the R package and cross your fingers that it will work. Alternatively, if you can't compile it yourself, you can manually force the correct path in the package via
> 
> install_name_tool -change libgurobi65.so /usr/local/lib/libgurobi65.so /Library/Frameworks/R.framework/Versions/3.3/Resources/library/gurobi/libs/gurobi.so
> 
> but as other said, you should really ask them to fix their product ;).
> 
> Cheers,
> Simon
> 
> 
>> -- this is what the R package library thinks:
>> 
>> yzzy: otool -L g*
>> 
>> gurobi.so:
>> 	gurobi.so (compatibility version 0.0.0, current version 0.0.0)
>> 	libgurobi65.so (compatibility version 6.5.0, current version 6.5.2)
>> 	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1197.1.1)
>> 	/Library/Frameworks/R.framework/Versions/3.2/Resources/lib/libR.dylib (compatibility version 3.2.0, current version 3.2.2)
>> 	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation (compatibility version 150.0.0, current version 855.17.0)
>> 
>> Many thanks for your help,
>> Roger
>> 
>> url:    www.econ.uiuc.edu/~roger            Roger Koenker
>> email    rkoenker at uiuc.edu            Department of Economics
>> vox:     217-333-4558                University of Illinois
>> fax:       217-244-6678                Urbana, IL 61801
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From bob at rud.is  Wed Sep 21 15:19:05 2016
From: bob at rud.is (Bob Rudis)
Date: Wed, 21 Sep 2016 09:19:05 -0400
Subject: [R-SIG-Mac] macOS Sierra
Message-ID: <CAA-FpKXw-pU=GWUqcXGBFVOE+f41KLiAacZjJseyG9__xyxeXw@mail.gmail.com>

As an FYI to those pondering upgrading to Sierra, I've been testing R 3.3.1
in a VM under Sierra since the betas and migrated a few key production
systems over to the GM earlier this week and have been running production
code on them using CRAN 3.3.1 macOS binaries and AT&T macOS R-devel
binaries and haven't seen any issues script-wise or R GUI-wise (I don't use
R GUI that often, though).

I haven't tested Homebrew R yet but that's a plan for the weekend (we have
some endpoint users who prefer Homebrew R installs and I have production
code that needs to run on them as well).

While not R-specific, the preview builds of RStudio are also working fine
apart from some font rendering issues which I believe are due to the way
macOS Sierra webkit handles font ligatures (I use Fira Code for proper
arrows amongst other glyphs).

Since I hadn't seen anything regarding this I figured it might be useful
information for those considering the nascent OS update.

-Bob

	[[alternative HTML version deleted]]


From ripley at stats.ox.ac.uk  Thu Sep 22 08:39:28 2016
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 22 Sep 2016 07:39:28 +0100
Subject: [R-SIG-Mac] Experiences with macOS Sierra
In-Reply-To: <9169747f-9bdb-74d8-d201-5306a2e07049@stats.ox.ac.uk>
References: <9169747f-9bdb-74d8-d201-5306a2e07049@stats.ox.ac.uk>
Message-ID: <e46f88d2-336b-d3d8-1a13-2dc9a2fb0ec7@stats.ox.ac.uk>

So far I have encountered few problems.  R.app runs but I do not 
normally use it so my tests were minimal.

My observations are about installing packages from source.

- It seems Apple has been tidying up, and I had ca 20GB more free space 
after upgrading (which is worthwhile on my MBA with a 128GB SSD).  It 
seems that includes removing some headers, including those for openssl 
(used by packages PKI and RSclient - package opensssl uses its own). 
This is but the latest instance in a long-term trend, e.g. iodbc, pcre 
and liblzma have libraries but no headers.

- Finally the POSIX 2008 function clock_gettime is supported (and will 
be used by R): but package scrypt calls it incorrectly.

Xcode 8 is available for EL Capitan but I would caution against using it 
there (despite it being pushed as an update from the AppStore).  AFAICS 
(and googling will find other reports) it defaults to the macOS 10.12 
SDK and that declares functions such as clock_gettime not available in 
El Capitan.  (I believe that R checks thoroughly enough not to be caught 
by this.)

There is a further problem with Xcode 8, also seen on Sierra.  Packages 
using xml2-config (such as XML) fail to install.  Apple modified 
xml2-config to look on the SDK path, which means packages using it 
attempt to link to .tbd files rather than .dylibs.  Which should be OK 
but the supplied .tbd attempt to link to libraries removed in Sierra and 
so linking fails. (This is not a problem with the version 8 of the 
Command Line Tools, only available for Sierra.)

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford


From rmendelss at gmail.com  Tue Sep 20 20:59:25 2016
From: rmendelss at gmail.com (rmendelss gmail)
Date: Tue, 20 Sep 2016 11:59:25 -0700
Subject: [R-SIG-Mac] MacOS Sierra
Message-ID: <F4CCBEC2-1C68-40E9-8C8B-1D4495A155BA@gmail.com>

Hi All:

Just wanted to double-check, before I even think about an upgrade, if the present version of R works with the new release of MacOS Sierra.

Thanks for any information.

-Roy

From bob at rud.is  Thu Sep 22 13:11:41 2016
From: bob at rud.is (Bob Rudis)
Date: Thu, 22 Sep 2016 07:11:41 -0400
Subject: [R-SIG-Mac] MacOS Sierra
In-Reply-To: <F4CCBEC2-1C68-40E9-8C8B-1D4495A155BA@gmail.com>
References: <F4CCBEC2-1C68-40E9-8C8B-1D4495A155BA@gmail.com>
Message-ID: <CAA-FpKWHs4=gdP+q9kVVPDKcjQfuvvpdO_GQwUBthQ4OO52m0Q@mail.gmail.com>

Hey Roy,

Aye. If you look at recent R-SIG-Mac messages, I gave a report on this
yesterday.

No issues with 3.2, 3.3.1 or R-devel on 10.12 (so far).

-Bob

On Tue, Sep 20, 2016 at 2:59 PM, rmendelss gmail <rmendelss at gmail.com>
wrote:

> Hi All:
>
> Just wanted to double-check, before I even think about an upgrade, if the
> present version of R works with the new release of MacOS Sierra.
>
> Thanks for any information.
>
> -Roy
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From bob at rud.is  Thu Sep 22 13:14:38 2016
From: bob at rud.is (Bob Rudis)
Date: Thu, 22 Sep 2016 07:14:38 -0400
Subject: [R-SIG-Mac] Experiences with macOS Sierra
In-Reply-To: <e46f88d2-336b-d3d8-1a13-2dc9a2fb0ec7@stats.ox.ac.uk>
References: <9169747f-9bdb-74d8-d201-5306a2e07049@stats.ox.ac.uk>
	<e46f88d2-336b-d3d8-1a13-2dc9a2fb0ec7@stats.ox.ac.uk>
Message-ID: <CAA-FpKX3rPNg+4xQ=chkZotDHhQZkZnMbuKq4vjAS346HVSZwA@mail.gmail.com>

The detailed update is very much appreciated Prof Ripley.

Many thanks!

-Bob

On Thu, Sep 22, 2016 at 2:39 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk>
wrote:

> So far I have encountered few problems.  R.app runs but I do not normally
> use it so my tests were minimal.
>
> My observations are about installing packages from source.
>
> - It seems Apple has been tidying up, and I had ca 20GB more free space
> after upgrading (which is worthwhile on my MBA with a 128GB SSD).  It seems
> that includes removing some headers, including those for openssl (used by
> packages PKI and RSclient - package opensssl uses its own). This is but the
> latest instance in a long-term trend, e.g. iodbc, pcre and liblzma have
> libraries but no headers.
>
> - Finally the POSIX 2008 function clock_gettime is supported (and will be
> used by R): but package scrypt calls it incorrectly.
>
> Xcode 8 is available for EL Capitan but I would caution against using it
> there (despite it being pushed as an update from the AppStore).  AFAICS
> (and googling will find other reports) it defaults to the macOS 10.12 SDK
> and that declares functions such as clock_gettime not available in El
> Capitan.  (I believe that R checks thoroughly enough not to be caught by
> this.)
>
> There is a further problem with Xcode 8, also seen on Sierra.  Packages
> using xml2-config (such as XML) fail to install.  Apple modified
> xml2-config to look on the SDK path, which means packages using it attempt
> to link to .tbd files rather than .dylibs.  Which should be OK but the
> supplied .tbd attempt to link to libraries removed in Sierra and so linking
> fails. (This is not a problem with the version 8 of the Command Line Tools,
> only available for Sierra.)
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Emeritus Professor of Applied Statistics, University of Oxford
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From marc_schwartz at me.com  Thu Sep 22 14:38:07 2016
From: marc_schwartz at me.com (Marc Schwartz)
Date: Thu, 22 Sep 2016 07:38:07 -0500
Subject: [R-SIG-Mac] Experiences with macOS Sierra
In-Reply-To: <e46f88d2-336b-d3d8-1a13-2dc9a2fb0ec7@stats.ox.ac.uk>
References: <9169747f-9bdb-74d8-d201-5306a2e07049@stats.ox.ac.uk>
	<e46f88d2-336b-d3d8-1a13-2dc9a2fb0ec7@stats.ox.ac.uk>
Message-ID: <B81D07C1-25FF-4287-8249-761105FB361F@me.com>


> On Sep 22, 2016, at 1:39 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> 
> So far I have encountered few problems.  R.app runs but I do not normally use it so my tests were minimal.
> 
> My observations are about installing packages from source.
> 
> - It seems Apple has been tidying up, and I had ca 20GB more free space after upgrading (which is worthwhile on my MBA with a 128GB SSD).  It seems that includes removing some headers, including those for openssl (used by packages PKI and RSclient - package opensssl uses its own). This is but the latest instance in a long-term trend, e.g. iodbc, pcre and liblzma have libraries but no headers.
> 
> - Finally the POSIX 2008 function clock_gettime is supported (and will be used by R): but package scrypt calls it incorrectly.
> 
> Xcode 8 is available for EL Capitan but I would caution against using it there (despite it being pushed as an update from the AppStore).  AFAICS (and googling will find other reports) it defaults to the macOS 10.12 SDK and that declares functions such as clock_gettime not available in El Capitan.  (I believe that R checks thoroughly enough not to be caught by this.)
> 
> There is a further problem with Xcode 8, also seen on Sierra.  Packages using xml2-config (such as XML) fail to install.  Apple modified xml2-config to look on the SDK path, which means packages using it attempt to link to .tbd files rather than .dylibs.  Which should be OK but the supplied .tbd attempt to link to libraries removed in Sierra and so linking fails. (This is not a problem with the version 8 of the Command Line Tools, only available for Sierra.)
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Emeritus Professor of Applied Statistics, University of Oxford


Thanks Prof. Ripley.

Just to add another voice, I have not had any issues with R under Sierra.

I did a clean install of R 3.3.1, after completely deleting the prior installation. I then re-installed XQuartz and installed a fairly substantial number of CRAN packages, which includes RODBC installed from source.

I do not typically use the default R GUI, but use ESS. In the latter case, I am now using Emacs 25.1 and the only issue that I have had so far, is that vertically scrolling a large file using either the built-in TrackPad on my MacBook Pro or my external TrackPad, results in overly sensitive scrolling. I barely need to move my fingers on the TrackPad and the file buffer scrolls a very large amount rapidly. I tried this using Emacs 24.5 and the behavior is the same, so this is not unique to Emacs 25.1 and seems to be a change under Sierra. 

A Google search, so far, does not reveal any reports on this and I do not have this behavior in any other apps. I have made some temporary changes to my .emacs file relative to scrolling, which helps to slow scrolling, but it is not ideal yet. There are no settings pertaining to the TrackPad in System Preferences that appear to be relevant.

I will keep playing around with this and perhaps post to the Emacs support list, as it is not clear if there is a bug in Sierra causing this, or there is a need for a change in Emacs itself or .emacs settings relative to scrolling to modify this behavior. There are posts on the Emacs list where folks were using Sierra betas, but no mention of this behavior as far as I can see.

Regards,

Marc Schwartz


From kasperdanielhansen at gmail.com  Thu Sep 22 15:01:24 2016
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Thu, 22 Sep 2016 09:01:24 -0400
Subject: [R-SIG-Mac] Experiences with macOS Sierra
In-Reply-To: <e46f88d2-336b-d3d8-1a13-2dc9a2fb0ec7@stats.ox.ac.uk>
References: <9169747f-9bdb-74d8-d201-5306a2e07049@stats.ox.ac.uk>
	<e46f88d2-336b-d3d8-1a13-2dc9a2fb0ec7@stats.ox.ac.uk>
Message-ID: <CAC2h7uuj8N16HbQmOQS3entykrr_xNoV30Qvfx3r8085sgV5aw@mail.gmail.com>

Thanks for the work on this, especially the comment on xml2.  I had noticed
problems with xml2 while compiling Emacs 25.1 using the new Xcode on El
Capitan, but I have not had time to track it down.

Best,
Kasper

On Thu, Sep 22, 2016 at 2:39 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk>
wrote:

> So far I have encountered few problems.  R.app runs but I do not normally
> use it so my tests were minimal.
>
> My observations are about installing packages from source.
>
> - It seems Apple has been tidying up, and I had ca 20GB more free space
> after upgrading (which is worthwhile on my MBA with a 128GB SSD).  It seems
> that includes removing some headers, including those for openssl (used by
> packages PKI and RSclient - package opensssl uses its own). This is but the
> latest instance in a long-term trend, e.g. iodbc, pcre and liblzma have
> libraries but no headers.
>
> - Finally the POSIX 2008 function clock_gettime is supported (and will be
> used by R): but package scrypt calls it incorrectly.
>
> Xcode 8 is available for EL Capitan but I would caution against using it
> there (despite it being pushed as an update from the AppStore).  AFAICS
> (and googling will find other reports) it defaults to the macOS 10.12 SDK
> and that declares functions such as clock_gettime not available in El
> Capitan.  (I believe that R checks thoroughly enough not to be caught by
> this.)
>
> There is a further problem with Xcode 8, also seen on Sierra.  Packages
> using xml2-config (such as XML) fail to install.  Apple modified
> xml2-config to look on the SDK path, which means packages using it attempt
> to link to .tbd files rather than .dylibs.  Which should be OK but the
> supplied .tbd attempt to link to libraries removed in Sierra and so linking
> fails. (This is not a problem with the version 8 of the Command Line Tools,
> only available for Sierra.)
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Emeritus Professor of Applied Statistics, University of Oxford
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From ripley at stats.ox.ac.uk  Fri Sep 23 13:18:29 2016
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 23 Sep 2016 12:18:29 +0100
Subject: [R-SIG-Mac] Experiences with macOS Sierra
In-Reply-To: <CAC2h7uuj8N16HbQmOQS3entykrr_xNoV30Qvfx3r8085sgV5aw@mail.gmail.com>
References: <9169747f-9bdb-74d8-d201-5306a2e07049@stats.ox.ac.uk>
	<e46f88d2-336b-d3d8-1a13-2dc9a2fb0ec7@stats.ox.ac.uk>
	<CAC2h7uuj8N16HbQmOQS3entykrr_xNoV30Qvfx3r8085sgV5aw@mail.gmail.com>
Message-ID: <8e233d0e-c54d-efca-fa50-eca085033109@stats.ox.ac.uk>

On 22/09/2016 14:01, Kasper Daniel Hansen wrote:
> Thanks for the work on this, especially the comment on xml2.  I had
> noticed problems with xml2 while compiling Emacs 25.1 using the new
> Xcode on El Capitan, but I have not had time to track it down.

I had found a workaround for Xcode 8 on El Capitan: copy 
/usr/bin/xml2-config to somewhere earlier on your path (~/bin in my 
case) and edit line 3 from

prefix=$(xcrun -show-sdk-path)/usr

to

prefix=/usr


>
> Best,
> Kasper
>
> On Thu, Sep 22, 2016 at 2:39 AM, Prof Brian Ripley
> <ripley at stats.ox.ac.uk <mailto:ripley at stats.ox.ac.uk>> wrote:
>
>     So far I have encountered few problems.  R.app runs but I do not
>     normally use it so my tests were minimal.
>
>     My observations are about installing packages from source.
>
>     - It seems Apple has been tidying up, and I had ca 20GB more free
>     space after upgrading (which is worthwhile on my MBA with a 128GB
>     SSD).  It seems that includes removing some headers, including those
>     for openssl (used by packages PKI and RSclient - package opensssl
>     uses its own). This is but the latest instance in a long-term trend,
>     e.g. iodbc, pcre and liblzma have libraries but no headers.
>
>     - Finally the POSIX 2008 function clock_gettime is supported (and
>     will be used by R): but package scrypt calls it incorrectly.
>
>     Xcode 8 is available for EL Capitan but I would caution against
>     using it there (despite it being pushed as an update from the
>     AppStore).  AFAICS (and googling will find other reports) it
>     defaults to the macOS 10.12 SDK and that declares functions such as
>     clock_gettime not available in El Capitan.  (I believe that R checks
>     thoroughly enough not to be caught by this.)
>
>     There is a further problem with Xcode 8, also seen on Sierra.
>     Packages using xml2-config (such as XML) fail to install.  Apple
>     modified xml2-config to look on the SDK path, which means packages
>     using it attempt to link to .tbd files rather than .dylibs.  Which
>     should be OK but the supplied .tbd attempt to link to libraries
>     removed in Sierra and so linking fails. (This is not a problem with
>     the version 8 of the Command Line Tools, only available for Sierra.)
>
>     --
>     Brian D. Ripley,                  ripley at stats.ox.ac.uk
>     <mailto:ripley at stats.ox.ac.uk>
>     Emeritus Professor of Applied Statistics, University of Oxford
>
>     _______________________________________________
>     R-SIG-Mac mailing list
>     R-SIG-Mac at r-project.org <mailto:R-SIG-Mac at r-project.org>
>     https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>     <https://stat.ethz.ch/mailman/listinfo/r-sig-mac>
>
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford


From bob at rud.is  Fri Sep 23 16:59:34 2016
From: bob at rud.is (Bob Rudis)
Date: Fri, 23 Sep 2016 10:59:34 -0400
Subject: [R-SIG-Mac] Experiences with macOS Sierra
In-Reply-To: <8e233d0e-c54d-efca-fa50-eca085033109@stats.ox.ac.uk>
References: <9169747f-9bdb-74d8-d201-5306a2e07049@stats.ox.ac.uk>
	<e46f88d2-336b-d3d8-1a13-2dc9a2fb0ec7@stats.ox.ac.uk>
	<CAC2h7uuj8N16HbQmOQS3entykrr_xNoV30Qvfx3r8085sgV5aw@mail.gmail.com>
	<8e233d0e-c54d-efca-fa50-eca085033109@stats.ox.ac.uk>
Message-ID: <CAA-FpKXDeF3rgZyQ7TXHt+rhPaS2McVMAwjmrs4ML=1WFP258A@mail.gmail.com>

I've finally had some time to look at the local build status for some
compiled packages I have locally and also some that are on CRAN after the
Sierra upgrade (and also the 10.12.1 patch which I'm also testing).

This isn't a warning for my own code but from usage of a now deprecated
function in R.framework:

In file included from
/Library/Frameworks/R.framework/Versions/3.3/Resources/library/AsioHeaders/include/asio/detail/fenced_block.hpp:24:
/Library/Frameworks/R.framework/Versions/3.3/Resources/library/AsioHeaders/include/asio/detail/macos_fenced_block.hpp:45:5:
warning: 'OSMemoryBarrier' is deprecated: first deprecated in macOS 10.12 -
Use std::atomic_thread_fence() from <atomic> instead
[-Wdeprecated-declarations]
    OSMemoryBarrier();
    ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.12.sdk/usr/include/libkern/OSAtomicDeprecated.h:749:9:
note: 'OSMemoryBarrier' has been explicitly marked deprecated here
void    OSMemoryBarrier( void );

Passing this on just in case this hasn't come up with CRAN macOS checks for
the R Core team.

-Bob

On Fri, Sep 23, 2016 at 7:18 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk>
wrote:

> On 22/09/2016 14:01, Kasper Daniel Hansen wrote:
>
>> Thanks for the work on this, especially the comment on xml2.  I had
>> noticed problems with xml2 while compiling Emacs 25.1 using the new
>> Xcode on El Capitan, but I have not had time to track it down.
>>
>
> I had found a workaround for Xcode 8 on El Capitan: copy
> /usr/bin/xml2-config to somewhere earlier on your path (~/bin in my case)
> and edit line 3 from
>
> prefix=$(xcrun -show-sdk-path)/usr
>
> to
>
> prefix=/usr
>
>
>
>> Best,
>> Kasper
>>
>> On Thu, Sep 22, 2016 at 2:39 AM, Prof Brian Ripley
>> <ripley at stats.ox.ac.uk <mailto:ripley at stats.ox.ac.uk>> wrote:
>>
>>     So far I have encountered few problems.  R.app runs but I do not
>>     normally use it so my tests were minimal.
>>
>>     My observations are about installing packages from source.
>>
>>     - It seems Apple has been tidying up, and I had ca 20GB more free
>>     space after upgrading (which is worthwhile on my MBA with a 128GB
>>     SSD).  It seems that includes removing some headers, including those
>>     for openssl (used by packages PKI and RSclient - package opensssl
>>     uses its own). This is but the latest instance in a long-term trend,
>>     e.g. iodbc, pcre and liblzma have libraries but no headers.
>>
>>     - Finally the POSIX 2008 function clock_gettime is supported (and
>>     will be used by R): but package scrypt calls it incorrectly.
>>
>>     Xcode 8 is available for EL Capitan but I would caution against
>>     using it there (despite it being pushed as an update from the
>>     AppStore).  AFAICS (and googling will find other reports) it
>>     defaults to the macOS 10.12 SDK and that declares functions such as
>>     clock_gettime not available in El Capitan.  (I believe that R checks
>>     thoroughly enough not to be caught by this.)
>>
>>     There is a further problem with Xcode 8, also seen on Sierra.
>>     Packages using xml2-config (such as XML) fail to install.  Apple
>>     modified xml2-config to look on the SDK path, which means packages
>>     using it attempt to link to .tbd files rather than .dylibs.  Which
>>     should be OK but the supplied .tbd attempt to link to libraries
>>     removed in Sierra and so linking fails. (This is not a problem with
>>     the version 8 of the Command Line Tools, only available for Sierra.)
>>
>>     --
>>     Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>     <mailto:ripley at stats.ox.ac.uk>
>>     Emeritus Professor of Applied Statistics, University of Oxford
>>
>>     _______________________________________________
>>     R-SIG-Mac mailing list
>>     R-SIG-Mac at r-project.org <mailto:R-SIG-Mac at r-project.org>
>>     https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>     <https://stat.ethz.ch/mailman/listinfo/r-sig-mac>
>>
>>
>>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Emeritus Professor of Applied Statistics, University of Oxford
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From marc_schwartz at me.com  Sat Sep 24 05:19:23 2016
From: marc_schwartz at me.com (Marc Schwartz)
Date: Fri, 23 Sep 2016 22:19:23 -0500
Subject: [R-SIG-Mac] Experiences with macOS Sierra
In-Reply-To: <B81D07C1-25FF-4287-8249-761105FB361F@me.com>
References: <9169747f-9bdb-74d8-d201-5306a2e07049@stats.ox.ac.uk>
	<e46f88d2-336b-d3d8-1a13-2dc9a2fb0ec7@stats.ox.ac.uk>
	<B81D07C1-25FF-4287-8249-761105FB361F@me.com>
Message-ID: <AFDEB399-1080-40D0-900F-CBAE32F6829D@me.com>

<snip>

Hi All,

In follow up to my post yesterday and subsequent to an offline exchange with Rodney, I am posting some additional information that I located today.

First, for those who may be having scrolling issues with Logitech mice specifically under Sierra, there are some known issues as reported here:

  http://www.macrumors.com/2016/09/22/wrecked-scrolling-logitech-mice/ <http://www.macrumors.com/2016/09/22/wrecked-scrolling-logitech-mice/>

with an update to the LCC apparently posted by Logitech yesterday here:

  http://support.logitech.com/en_us/software/logitech-control-center-for-macintosh-os-x <http://support.logitech.com/en_us/software/logitech-control-center-for-macintosh-os-x>

That is not relevant to my scrolling issues, as I have Apple TrackPads both internally and externally, but this may be helpful to Logitech users.

That being said, today I found the following posts in the Apple Support Community Forums:

  https://discussions.apple.com/thread/7659385?start=0&tstart=0 <https://discussions.apple.com/thread/7659385?start=0&tstart=0>

and:

  https://discussions.apple.com/thread/7679256?start=0&tstart=0 <https://discussions.apple.com/thread/7679256?start=0&tstart=0>

which would seem to suggest some application specific hypersensitive scrolling and other issues. So the issue with Emacs/ESS that I observe may not be unique given these other reports and may support the notion of a Sierra issue. 

For those using Emacs, I now have the following in my .emacs file:

  (setq mouse-wheel-scroll-amount '(1 ((shift) . 1) ((control) . nil))) ;; one line at a time  
  (setq mouse-wheel-progressive-speed nil) ;; 'nil' for do not accelerate scrolling
  (setq mouse-wheel-follow-mouse 't) ;; scroll window under mouse
  (setq scroll-step 1) ;; keyboard scroll one line at a time

Note that the second line above disables scroll acceleration in Emacs, which is a double-edged sword. It makes scrolling tolerable as compared to having acceleration enabled, however for long source files, it is far too slow.

I also tried adjusting:

  (setq scroll-conservatively 100000)

with acceleration enabled, where larger numbers are supposed to aid in smoothing scrolling, but it has no apparent effect on the behavior I observe.

I am still experimenting with other settings but have not found anything that comes close to desired behavior. One option, with acceleration disabled, is to increase the number of lines scrolled in the first line to something like:

  (setq mouse-wheel-scroll-amount '(3 ((shift) . 1) ((control) . nil))) ;; three lines at a time

but scrolling becomes "jumpier" as that first number increases, so use with caution. The number after '(shift) .' affects the speed of scrolling with the SHIFT key pressed.

Hope that this may be helpful to some.

Regards,

Marc Schwartz
	[[alternative HTML version deleted]]


From bob at rud.is  Wed Sep 28 02:55:25 2016
From: bob at rud.is (Bob Rudis)
Date: Tue, 27 Sep 2016 20:55:25 -0400
Subject: [R-SIG-Mac] APFS report
Message-ID: <CAA-FpKW7qD4=uE1TydGvXBSrvyWcvCs0NxeZDXh8VKM54K0gmg@mail.gmail.com>

I finally had some cycles to format a few spare external drives as APFS
volumes.

I didn't expect R to behave badly and I was proven correct that it works
with directories & files on APFS volumes equally as well as it's HFS+
counterpart.

You have to use command-line tools to format APFS volumes and Apple makes
sure you know that all your data might disappear, so I don't expect folks
will be using it any time soon.

There are many very appealing features of the new filesystem, but for macOS
folk the biggest one is going to be case-sensitivity. Again, thankfully R
operates at a layer that makes this not an issue.

I'll be moving about 4 TB of data to APFS volumes this week and giving it a
good stress test. If there are any issues that aren't Apple's issues, I'll
post an update.

-Bob

	[[alternative HTML version deleted]]


From jkunkel1 at une.edu  Wed Sep 28 23:26:50 2016
From: jkunkel1 at une.edu (Joseph Kunkel)
Date: Wed, 28 Sep 2016 21:26:50 +0000
Subject: [R-SIG-Mac] Problem using the R.app GUI Package Installer
In-Reply-To: <3BE88701-EAE2-48CE-82E0-BF608825DF1E@une.edu>
References: <mailman.3026.1458164019.3865.r-sig-mac@r-project.org>
	<3BE88701-EAE2-48CE-82E0-BF608825DF1E@une.edu>
Message-ID: <F55CF494-FE03-48A8-A1B6-E8FCBFFDE623@une.edu>

I got this error message working under R version 3.3.0  trying to use the Mac [R.app GUI 1.68 (7238) x86_64-apple-darwin13.4.0]  Packages & Data/ Package Installer

R error message:
Warning: unable to access index for repository http://cran.at.r-project.org/bin/macosx/mavericks/contrib/3.3:  cannot open URL 'http://cran.at.r-project.org/bin/macosx/mavericks/contrib/3.3/PACKAGES'

I checked for upgrades and installed R version 3.3.1

I got the same error message once again.

Luckily I remembered that I could install libraries from within R and thus used:

> install.packages('RCurl', dependencies=TRUE, repos='http://cran.rstudio.com/')

But I am wondering if the malfunction of the GUI approach is something I can fix or is temporary?

Joe

-?.  .? ?.  .><((((?>?.  .? ?.  .><((((?>?.  .? ?.  .><((((?> .??.? >=-       =?}}}}}><
Joseph G. Kunkel, Research Professor
112A Marine Science Center
University of New England
Biddeford ME 04005
http://www.bio.umass.edu/biology/kunkel/

This e-mail may contain information that is privileged and confidential. If you suspect that you were not the intended recipient, please delete it and notify the sender as soon as possible.

From murdoch.duncan at gmail.com  Thu Sep 29 00:13:15 2016
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Wed, 28 Sep 2016 18:13:15 -0400
Subject: [R-SIG-Mac] Problem using the R.app GUI Package Installer
In-Reply-To: <F55CF494-FE03-48A8-A1B6-E8FCBFFDE623@une.edu>
References: <mailman.3026.1458164019.3865.r-sig-mac@r-project.org>
	<3BE88701-EAE2-48CE-82E0-BF608825DF1E@une.edu>
	<F55CF494-FE03-48A8-A1B6-E8FCBFFDE623@une.edu>
Message-ID: <d61ed452-444a-5866-b799-b7c81dcd0e5a@gmail.com>

On 28/09/2016 5:26 PM, Joseph Kunkel wrote:
> I got this error message working under R version 3.3.0  trying to use the Mac [R.app GUI 1.68 (7238) x86_64-apple-darwin13.4.0]  Packages & Data/ Package Installer
>
> R error message:
> Warning: unable to access index for repository http://cran.at.r-project.org/bin/macosx/mavericks/contrib/3.3:  cannot open URL 'http://cran.at.r-project.org/bin/macosx/mavericks/contrib/3.3/PACKAGES'
>
> I checked for upgrades and installed R version 3.3.1
>
> I got the same error message once again.
>
> Luckily I remembered that I could install libraries from within R and thus used:
>
>> install.packages('RCurl', dependencies=TRUE, repos='http://cran.rstudio.com/')
>
> But I am wondering if the malfunction of the GUI approach is something I can fix or is temporary?
>

That was probably a temporary problem, or a local network problem for 
you:  I can get the URL to open.

But in general, to change the default mirror in R.app, run 
chooseCRANmirror() in the console.  I forget whether that changes it for 
the session or permanently.

Duncan Murdoch


From ken at kjbeath.com.au  Thu Sep 29 00:32:09 2016
From: ken at kjbeath.com.au (Ken Beath)
Date: Thu, 29 Sep 2016 08:32:09 +1000
Subject: [R-SIG-Mac] Problem using the R.app GUI Package Installer
In-Reply-To: <d61ed452-444a-5866-b799-b7c81dcd0e5a@gmail.com>
References: <mailman.3026.1458164019.3865.r-sig-mac@r-project.org>
	<3BE88701-EAE2-48CE-82E0-BF608825DF1E@une.edu>
	<F55CF494-FE03-48A8-A1B6-E8FCBFFDE623@une.edu>
	<d61ed452-444a-5866-b799-b7c81dcd0e5a@gmail.com>
Message-ID: <094D7079-A843-4E12-90F5-9DEFD4AA682B@kjbeath.com.au>

In the Install Packages dialog there is an Other Repository option and that seems to be permanent.

It can also be changed in the Preferences.

> On 29 Sep. 2016, at 8:13 am, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> 
> On 28/09/2016 5:26 PM, Joseph Kunkel wrote:
>> I got this error message working under R version 3.3.0  trying to use the Mac [R.app GUI 1.68 (7238) x86_64-apple-darwin13.4.0]  Packages & Data/ Package Installer
>> 
>> R error message:
>> Warning: unable to access index for repository http://cran.at.r-project.org/bin/macosx/mavericks/contrib/3.3:  cannot open URL 'http://cran.at.r-project.org/bin/macosx/mavericks/contrib/3.3/PACKAGES'
>> 
>> I checked for upgrades and installed R version 3.3.1
>> 
>> I got the same error message once again.
>> 
>> Luckily I remembered that I could install libraries from within R and thus used:
>> 
>>> install.packages('RCurl', dependencies=TRUE, repos='http://cran.rstudio.com/')
>> 
>> But I am wondering if the malfunction of the GUI approach is something I can fix or is temporary?
>> 
> 
> That was probably a temporary problem, or a local network problem for you:  I can get the URL to open.
> 
> But in general, to change the default mirror in R.app, run chooseCRANmirror() in the console.  I forget whether that changes it for the session or permanently.
> 
> Duncan Murdoch
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From simon.urbanek at r-project.org  Fri Sep 30 02:38:20 2016
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 29 Sep 2016 20:38:20 -0400
Subject: [R-SIG-Mac] [Rd] Web site for MacOSX R-devel precompiled version
In-Reply-To: <3E9938CF-CBCA-4D01-B6DC-63B4616BA36F@r-project.org>
References: <c4292d67-7636-4463-8f4f-d4d9b6bb5878@yahoo.fr>
	<3E9938CF-CBCA-4D01-B6DC-63B4616BA36F@r-project.org>
Message-ID: <E0019891-75A9-46B2-8812-6AADD214F188@r-project.org>

[Moving to R-SIG-Mac where it belongs]

The machine building 10.6 binaries has died and since it was responsible for merging the 10.9 and 10.6 binaries to the website it means neither were published. 10.9 binaries are now up.



> On Sep 29, 2016, at 2:09 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> 
>> On Sep 29, 2016, at 8:42 AM, Marc Girondot via R-devel <r-devel at r-project.org> wrote:
>> 
>> From several years, I used this site http://r.research.att.com to get a precompiled version of macosx R-devol but the most recent version is frozen at the 18/8 build (r 71112).
>> 
>> Is there an alternative (except than compile myself !) ?
>> 
> 
> It is the official build - there may be other alternatives but they are not supported by us. The fact that is didn't update would be best reported so we can look into this. I just checked and the build are still working:
> 
> $ ls -l *.pkg
> -rw-r--r--  1 urbanek  admin  77935686 Sep 28 23:32 R-devel-mavericks.pkg
> 
> but it seems that there is a problem with signing the package. I'll look into it.
> 
> Cheers,
> Simon
> 
> 
>> 
>> Thanks,
>> 
>> Marc
>> 
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>> 
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 


From ken at kjbeath.com.au  Fri Sep 30 10:31:05 2016
From: ken at kjbeath.com.au (Ken Beath)
Date: Fri, 30 Sep 2016 18:31:05 +1000
Subject: [R-SIG-Mac] Fortran on MacOS Sierra
Message-ID: <01F23636-F9DB-4FC9-85BC-FE553BE14E75@kjbeath.com.au>

I tried to build frailtypack from source using R 3.3.1 and it failed with the following message (after a ridiculous amount of warnings)

gfortran-4.8 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o frailtypack.so Adonnees.o AparamMultive.o Aparameters.o aGhermite.o aaOptim.o aaOptimres.o aaUseFunction.o aaUseFunctionG.o aamarq98o.o additive.o afuncpasres.o ahrmsym.o aresidusMartingale.o atestWald.o distance.o epoce.o epoce_log.o epoce_long.o frailtypack.o funcpaG_tps.o funcpaGcpm.o funcpaGcpm_intcens.o funcpaGcpm_log.o funcpaGsplines.o funcpaGsplines_intcens.o funcpaGsplines_log.o funcpaGweib.o funcpaGweib_intcens.o funcpaGweib_log.o funcpaMultivCpm.o funcpaMultivSplines.o funcpaMultivWeib.o funcpaacpm.o funcpaasplines.o funcpaaweib.o funcpaj_tps.o funcpajcpm.o funcpajcpm_log.o funcpajgeneral.o funcpajlongisplines.o funcpajlongiweib.o funcpajsplines.o funcpajsplines_fam.o funcpajsplines_intcens.o funcpajsplines_log.o funcpajweib.o funcpajweib_fam.o funcpajweib_intcens.o funcpajweib_log.o f... <truncated>
gfortran-4.8: warning: couldn?t understand kern.osversion ?16.0.0
ld: library not found for -ldylib1.o
collect2: error: ld returned 1 exit status
make: *** [frailtypack.so] Error 1
ERROR: compilation failed for package ?frailtypack?

I was going to attempt the build with gfortran 4.2 but haven?t been able to revert back from 4.8

So does it happen with 4.2 and if not, how can I revert back?

If not is this an R problem or the package?


From ripley at stats.ox.ac.uk  Fri Sep 30 11:04:34 2016
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 30 Sep 2016 10:04:34 +0100
Subject: [R-SIG-Mac] Fortran on MacOS Sierra
In-Reply-To: <01F23636-F9DB-4FC9-85BC-FE553BE14E75@kjbeath.com.au>
References: <01F23636-F9DB-4FC9-85BC-FE553BE14E75@kjbeath.com.au>
Message-ID: <044019ba-ab67-a7c3-366e-d3f3e01288e5@stats.ox.ac.uk>

This seems to be Sierra, which has 'tidied up' system libraries.

The recommendation for El Capitan at http://coudert.name/software.html 
also works correctly on Sierra. (See the manual, preferably before posting.)

There are good reasons why the posting guide asks for 'at a minimum' the 
output of sessionInfo() ....

On 30/09/2016 09:31, Ken Beath wrote:
> I tried to build frailtypack from source using R 3.3.1 and it failed with the following message (after a ridiculous amount of warnings)
>
> gfortran-4.8 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o frailtypack.so Adonnees.o AparamMultive.o Aparameters.o aGhermite.o aaOptim.o aaOptimres.o aaUseFunction.o aaUseFunctionG.o aamarq98o.o additive.o afuncpasres.o ahrmsym.o aresidusMartingale.o atestWald.o distance.o epoce.o epoce_log.o epoce_long.o frailtypack.o funcpaG_tps.o funcpaGcpm.o funcpaGcpm_intcens.o funcpaGcpm_log.o funcpaGsplines.o funcpaGsplines_intcens.o funcpaGsplines_log.o funcpaGweib.o funcpaGweib_intcens.o funcpaGweib_log.o funcpaMultivCpm.o funcpaMultivSplines.o funcpaMultivWeib.o funcpaacpm.o funcpaasplines.o funcpaaweib.o funcpaj_tps.o funcpajcpm.o funcpajcpm_log.o funcpajgeneral.o funcpajlongisplines.o funcpajlongiweib.o funcpajsplines.o funcpajsplines_fam.o funcpajsplines_intcens.o funcpajsplines_log.o funcpajweib.o funcpajweib_fam.o funcpajweib_intcens.o funcpajweib_log.o f... <truncated>
> gfortran-4.8: warning: couldn?t understand kern.osversion ?16.0.0
> ld: library not found for -ldylib1.o
> collect2: error: ld returned 1 exit status
> make: *** [frailtypack.so] Error 1
> ERROR: compilation failed for package ?frailtypack?
>
> I was going to attempt the build with gfortran 4.2 but haven?t been able to revert back from 4.8
>
> So does it happen with 4.2 and if not, how can I revert back?
>
> If not is this an R problem or the package?

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford

From bob at rud.is  Fri Sep 30 13:26:02 2016
From: bob at rud.is (Bob Rudis)
Date: Fri, 30 Sep 2016 07:26:02 -0400
Subject: [R-SIG-Mac] Fortran on MacOS Sierra
In-Reply-To: <044019ba-ab67-a7c3-366e-d3f3e01288e5@stats.ox.ac.uk>
References: <01F23636-F9DB-4FC9-85BC-FE553BE14E75@kjbeath.com.au>
	<044019ba-ab67-a7c3-366e-d3f3e01288e5@stats.ox.ac.uk>
Message-ID: <CAA-FpKW9k1VvthUmK=Ei4=y3jRv_sgHkC8U296W=xyjXJ0nyQg@mail.gmail.com>

Coudert's packages are unsigned which seems like a significant oversight
and a CRAN manual entry recommending installing unsigned binaries does not
sit well with me and may not work in the next macOS release.

Ken: to avoid you having to dig you need to download <
http://coudert.name/software/gfortran-6.1-ElCapitan.dmg> and install it,
overriding the security warning (ugh).

You then need to add this to your ~/.R/Makevars (or to the site one)

F77 = /usr/local/gfortran/bin/gfortran
FC = /usr/local/gfortran/bin/gfortran
FLIBS = -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0
-L/usr/local/gfortran/lib -lgfortran -lquadmath -lm

You'll still get the massive amount of warnings (they aren't harmful) but
the pkg will compile/install from source.


On Fri, Sep 30, 2016 at 5:04 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk>
wrote:

> This seems to be Sierra, which has 'tidied up' system libraries.
>
> The recommendation for El Capitan at http://coudert.name/software.html
> also works correctly on Sierra. (See the manual, preferably before posting.)
>
> There are good reasons why the posting guide asks for 'at a minimum' the
> output of sessionInfo() ....
>
> On 30/09/2016 09:31, Ken Beath wrote:
>
>> I tried to build frailtypack from source using R 3.3.1 and it failed with
>> the following message (after a ridiculous amount of warnings)
>>
>> gfortran-4.8 -dynamiclib -Wl,-headerpad_max_install_names -undefined
>> dynamic_lookup -single_module -multiply_defined suppress
>> -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o
>> frailtypack.so Adonnees.o AparamMultive.o Aparameters.o aGhermite.o
>> aaOptim.o aaOptimres.o aaUseFunction.o aaUseFunctionG.o aamarq98o.o
>> additive.o afuncpasres.o ahrmsym.o aresidusMartingale.o atestWald.o
>> distance.o epoce.o epoce_log.o epoce_long.o frailtypack.o funcpaG_tps.o
>> funcpaGcpm.o funcpaGcpm_intcens.o funcpaGcpm_log.o funcpaGsplines.o
>> funcpaGsplines_intcens.o funcpaGsplines_log.o funcpaGweib.o
>> funcpaGweib_intcens.o funcpaGweib_log.o funcpaMultivCpm.o
>> funcpaMultivSplines.o funcpaMultivWeib.o funcpaacpm.o funcpaasplines.o
>> funcpaaweib.o funcpaj_tps.o funcpajcpm.o funcpajcpm_log.o funcpajgeneral.o
>> funcpajlongisplines.o funcpajlongiweib.o funcpajsplines.o
>> funcpajsplines_fam.o funcpajsplines_intcens.o funcpajsplines_log.o
>> funcpajweib.o funcpajweib_fam.o funcpajweib_intcens.o funcpajweib_log.o
>> f... <truncated>
>> gfortran-4.8: warning: couldn?t understand kern.osversion ?16.0.0
>> ld: library not found for -ldylib1.o
>> collect2: error: ld returned 1 exit status
>> make: *** [frailtypack.so] Error 1
>> ERROR: compilation failed for package ?frailtypack?
>>
>> I was going to attempt the build with gfortran 4.2 but haven?t been able
>> to revert back from 4.8
>>
>> So does it happen with 4.2 and if not, how can I revert back?
>>
>> If not is this an R problem or the package?
>>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Emeritus Professor of Applied Statistics, University of Oxford
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From ken at kjbeath.com.au  Fri Sep 30 14:26:28 2016
From: ken at kjbeath.com.au (Ken Beath)
Date: Fri, 30 Sep 2016 22:26:28 +1000
Subject: [R-SIG-Mac] Fortran on MacOS Sierra
In-Reply-To: <CAA-FpKW9k1VvthUmK=Ei4=y3jRv_sgHkC8U296W=xyjXJ0nyQg@mail.gmail.com>
References: <01F23636-F9DB-4FC9-85BC-FE553BE14E75@kjbeath.com.au>
	<044019ba-ab67-a7c3-366e-d3f3e01288e5@stats.ox.ac.uk>
	<CAA-FpKW9k1VvthUmK=Ei4=y3jRv_sgHkC8U296W=xyjXJ0nyQg@mail.gmail.com>
Message-ID: <A1EAAAF5-90C2-4016-8C95-8D433EACB86E@kjbeath.com.au>

Thanks, yes I sorted it out. I?d read the bit on Makevars but it just didn?t seem what I wanted.

There are some problems with the 10.12.1 beta which affect built libraries but at the moment I will just hope they go away.

Ken

> On 30 Sep. 2016, at 9:26 pm, Bob Rudis <bob at rud.is> wrote:
> 
> Coudert's packages are unsigned which seems like a significant oversight and a CRAN manual entry recommending installing unsigned binaries does not sit well with me and may not work in the next macOS release.
> 
> Ken: to avoid you having to dig you need to download <http://coudert.name/software/gfortran-6.1-ElCapitan.dmg> and install it, overriding the security warning (ugh).
> 
> You then need to add this to your ~/.R/Makevars (or to the site one)
> 
> F77 = /usr/local/gfortran/bin/gfortran
> FC = /usr/local/gfortran/bin/gfortran
> FLIBS = -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0 -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm
> 
> You'll still get the massive amount of warnings (they aren't harmful) but the pkg will compile/install from source.
> 
> 
> On Fri, Sep 30, 2016 at 5:04 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> This seems to be Sierra, which has 'tidied up' system libraries.
> 
> The recommendation for El Capitan at http://coudert.name/software.html also works correctly on Sierra. (See the manual, preferably before posting.)
> 
> There are good reasons why the posting guide asks for 'at a minimum' the output of sessionInfo() ....
> 
> On 30/09/2016 09:31, Ken Beath wrote:
> I tried to build frailtypack from source using R 3.3.1 and it failed with the following message (after a ridiculous amount of warnings)
> 
> gfortran-4.8 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o frailtypack.so Adonnees.o AparamMultive.o Aparameters.o aGhermite.o aaOptim.o aaOptimres.o aaUseFunction.o aaUseFunctionG.o aamarq98o.o additive.o afuncpasres.o ahrmsym.o aresidusMartingale.o atestWald.o distance.o epoce.o epoce_log.o epoce_long.o frailtypack.o funcpaG_tps.o funcpaGcpm.o funcpaGcpm_intcens.o funcpaGcpm_log.o funcpaGsplines.o funcpaGsplines_intcens.o funcpaGsplines_log.o funcpaGweib.o funcpaGweib_intcens.o funcpaGweib_log.o funcpaMultivCpm.o funcpaMultivSplines.o funcpaMultivWeib.o funcpaacpm.o funcpaasplines.o funcpaaweib.o funcpaj_tps.o funcpajcpm.o funcpajcpm_log.o funcpajgeneral.o funcpajlongisplines.o funcpajlongiweib.o funcpajsplines.o funcpajsplines_fam.o funcpajsplines_intcens.o funcpajsplines_log.o funcpajweib.o funcpajweib_fam.o funcpajweib_intcens.o funcpajweib_log.o f... <truncated>
> gfortran-4.8: warning: couldn?t understand kern.osversion ?16.0.0
> ld: library not found for -ldylib1.o
> collect2: error: ld returned 1 exit status
> make: *** [frailtypack.so] Error 1
> ERROR: compilation failed for package ?frailtypack?
> 
> I was going to attempt the build with gfortran 4.2 but haven?t been able to revert back from 4.8
> 
> So does it happen with 4.2 and if not, how can I revert back?
> 
> If not is this an R problem or the package?
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Emeritus Professor of Applied Statistics, University of Oxford
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From bob at rud.is  Fri Sep 30 14:46:18 2016
From: bob at rud.is (Bob Rudis)
Date: Fri, 30 Sep 2016 08:46:18 -0400
Subject: [R-SIG-Mac] Fortran on MacOS Sierra
In-Reply-To: <A1EAAAF5-90C2-4016-8C95-8D433EACB86E@kjbeath.com.au>
References: <01F23636-F9DB-4FC9-85BC-FE553BE14E75@kjbeath.com.au>
	<044019ba-ab67-a7c3-366e-d3f3e01288e5@stats.ox.ac.uk>
	<CAA-FpKW9k1VvthUmK=Ei4=y3jRv_sgHkC8U296W=xyjXJ0nyQg@mail.gmail.com>
	<A1EAAAF5-90C2-4016-8C95-8D433EACB86E@kjbeath.com.au>
Message-ID: <CAA-FpKXzSv-Xx7pff5uz-cVQEU70WYnK=uCctaSqsrcuRb4A1w@mail.gmail.com>

Glad you're up and running!

?If you have some specific examples I can try to reproduce (and report) as
I load the betas (I'm on beta 2 now).

-Bob

On Fri, Sep 30, 2016 at 8:26 AM, Ken Beath <ken at kjbeath.com.au> wrote:

> Thanks, yes I sorted it out. I?d read the bit on Makevars but it just
> didn?t seem what I wanted.
>
> There are some problems with the 10.12.1 beta which affect built libraries
> but at the moment I will just hope they go away.
>
> Ken
>
> > On 30 Sep. 2016, at 9:26 pm, Bob Rudis <bob at rud.is> wrote:
> >
> > Coudert's packages are unsigned which seems like a significant oversight
> and a CRAN manual entry recommending installing unsigned binaries does not
> sit well with me and may not work in the next macOS release.
> >
> > Ken: to avoid you having to dig you need to download <
> http://coudert.name/software/gfortran-6.1-ElCapitan.dmg> and install it,
> overriding the security warning (ugh).
> >
> > You then need to add this to your ~/.R/Makevars (or to the site one)
> >
> > F77 = /usr/local/gfortran/bin/gfortran
> > FC = /usr/local/gfortran/bin/gfortran
> > FLIBS = -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0
> -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm
> >
> > You'll still get the massive amount of warnings (they aren't harmful)
> but the pkg will compile/install from source.
> >
> >
> > On Fri, Sep 30, 2016 at 5:04 AM, Prof Brian Ripley <
> ripley at stats.ox.ac.uk> wrote:
> > This seems to be Sierra, which has 'tidied up' system libraries.
> >
> > The recommendation for El Capitan at http://coudert.name/software.html
> also works correctly on Sierra. (See the manual, preferably before posting.)
> >
> > There are good reasons why the posting guide asks for 'at a minimum' the
> output of sessionInfo() ....
> >
> > On 30/09/2016 09:31, Ken Beath wrote:
> > I tried to build frailtypack from source using R 3.3.1 and it failed
> with the following message (after a ridiculous amount of warnings)
> >
> > gfortran-4.8 -dynamiclib -Wl,-headerpad_max_install_names -undefined
> dynamic_lookup -single_module -multiply_defined suppress
> -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o
> frailtypack.so Adonnees.o AparamMultive.o Aparameters.o aGhermite.o
> aaOptim.o aaOptimres.o aaUseFunction.o aaUseFunctionG.o aamarq98o.o
> additive.o afuncpasres.o ahrmsym.o aresidusMartingale.o atestWald.o
> distance.o epoce.o epoce_log.o epoce_long.o frailtypack.o funcpaG_tps.o
> funcpaGcpm.o funcpaGcpm_intcens.o funcpaGcpm_log.o funcpaGsplines.o
> funcpaGsplines_intcens.o funcpaGsplines_log.o funcpaGweib.o
> funcpaGweib_intcens.o funcpaGweib_log.o funcpaMultivCpm.o
> funcpaMultivSplines.o funcpaMultivWeib.o funcpaacpm.o funcpaasplines.o
> funcpaaweib.o funcpaj_tps.o funcpajcpm.o funcpajcpm_log.o funcpajgeneral.o
> funcpajlongisplines.o funcpajlongiweib.o funcpajsplines.o
> funcpajsplines_fam.o funcpajsplines_intcens.o funcpajsplines_log.o
> funcpajweib.o funcpajweib_fam.o funcpajweib_intcens.o funcpajweib_log.o
> f... <truncated>
> > gfortran-4.8: warning: couldn?t understand kern.osversion ?16.0.0
> > ld: library not found for -ldylib1.o
> > collect2: error: ld returned 1 exit status
> > make: *** [frailtypack.so] Error 1
> > ERROR: compilation failed for package ?frailtypack?
> >
> > I was going to attempt the build with gfortran 4.2 but haven?t been able
> to revert back from 4.8
> >
> > So does it happen with 4.2 and if not, how can I revert back?
> >
> > If not is this an R problem or the package?
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Emeritus Professor of Applied Statistics, University of Oxford
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
>
>

	[[alternative HTML version deleted]]


From ken at kjbeath.com.au  Fri Sep 30 14:57:47 2016
From: ken at kjbeath.com.au (Ken Beath)
Date: Fri, 30 Sep 2016 22:57:47 +1000
Subject: [R-SIG-Mac] Fortran on MacOS Sierra
In-Reply-To: <CAA-FpKXzSv-Xx7pff5uz-cVQEU70WYnK=uCctaSqsrcuRb4A1w@mail.gmail.com>
References: <01F23636-F9DB-4FC9-85BC-FE553BE14E75@kjbeath.com.au>
	<044019ba-ab67-a7c3-366e-d3f3e01288e5@stats.ox.ac.uk>
	<CAA-FpKW9k1VvthUmK=Ei4=y3jRv_sgHkC8U296W=xyjXJ0nyQg@mail.gmail.com>
	<A1EAAAF5-90C2-4016-8C95-8D433EACB86E@kjbeath.com.au>
	<CAA-FpKXzSv-Xx7pff5uz-cVQEU70WYnK=uCctaSqsrcuRb4A1w@mail.gmail.com>
Message-ID: <0371BCEB-F23F-4C59-ACB0-B2C1648E314B@kjbeath.com.au>

lme4 and fastGHQuad

Ken

> On 30 Sep. 2016, at 10:46 pm, Bob Rudis <bob at rud.is> wrote:
> 
> Glad you're up and running!
> 
> ?If you have some specific examples I can try to reproduce (and report) as I load the betas (I'm on beta 2 now).
> 
> -Bob
> 
> On Fri, Sep 30, 2016 at 8:26 AM, Ken Beath <ken at kjbeath.com.au> wrote:
> Thanks, yes I sorted it out. I?d read the bit on Makevars but it just didn?t seem what I wanted.
> 
> There are some problems with the 10.12.1 beta which affect built libraries but at the moment I will just hope they go away.
> 
> Ken
> 
> > On 30 Sep. 2016, at 9:26 pm, Bob Rudis <bob at rud.is> wrote:
> >
> > Coudert's packages are unsigned which seems like a significant oversight and a CRAN manual entry recommending installing unsigned binaries does not sit well with me and may not work in the next macOS release.
> >
> > Ken: to avoid you having to dig you need to download <http://coudert.name/software/gfortran-6.1-ElCapitan.dmg> and install it, overriding the security warning (ugh).
> >
> > You then need to add this to your ~/.R/Makevars (or to the site one)
> >
> > F77 = /usr/local/gfortran/bin/gfortran
> > FC = /usr/local/gfortran/bin/gfortran
> > FLIBS = -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0 -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm
> >
> > You'll still get the massive amount of warnings (they aren't harmful) but the pkg will compile/install from source.
> >
> >
> > On Fri, Sep 30, 2016 at 5:04 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> > This seems to be Sierra, which has 'tidied up' system libraries.
> >
> > The recommendation for El Capitan at http://coudert.name/software.html also works correctly on Sierra. (See the manual, preferably before posting.)
> >
> > There are good reasons why the posting guide asks for 'at a minimum' the output of sessionInfo() ....
> >
> > On 30/09/2016 09:31, Ken Beath wrote:
> > I tried to build frailtypack from source using R 3.3.1 and it failed with the following message (after a ridiculous amount of warnings)
> >
> > gfortran-4.8 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o frailtypack.so Adonnees.o AparamMultive.o Aparameters.o aGhermite.o aaOptim.o aaOptimres.o aaUseFunction.o aaUseFunctionG.o aamarq98o.o additive.o afuncpasres.o ahrmsym.o aresidusMartingale.o atestWald.o distance.o epoce.o epoce_log.o epoce_long.o frailtypack.o funcpaG_tps.o funcpaGcpm.o funcpaGcpm_intcens.o funcpaGcpm_log.o funcpaGsplines.o funcpaGsplines_intcens.o funcpaGsplines_log.o funcpaGweib.o funcpaGweib_intcens.o funcpaGweib_log.o funcpaMultivCpm.o funcpaMultivSplines.o funcpaMultivWeib.o funcpaacpm.o funcpaasplines.o funcpaaweib.o funcpaj_tps.o funcpajcpm.o funcpajcpm_log.o funcpajgeneral.o funcpajlongisplines.o funcpajlongiweib.o funcpajsplines.o funcpajsplines_fam.o funcpajsplines_intcens.o funcpajsplines_log.o funcpajweib.o funcpajweib_fam.o funcpajweib_intcens.o funcpajweib_log.o f... <truncated>
> > gfortran-4.8: warning: couldn?t understand kern.osversion ?16.0.0
> > ld: library not found for -ldylib1.o
> > collect2: error: ld returned 1 exit status
> > make: *** [frailtypack.so] Error 1
> > ERROR: compilation failed for package ?frailtypack?
> >
> > I was going to attempt the build with gfortran 4.2 but haven?t been able to revert back from 4.8
> >
> > So does it happen with 4.2 and if not, how can I revert back?
> >
> > If not is this an R problem or the package?
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Emeritus Professor of Applied Statistics, University of Oxford
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
> 
> 
> 


