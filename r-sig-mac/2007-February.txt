From Anand.Gavai at wur.nl  Thu Feb  1 22:45:51 2007
From: Anand.Gavai at wur.nl (Gavai, Anand)
Date: Thu, 1 Feb 2007 22:45:51 +0100
Subject: [R-SIG-Mac] Mac os x graphviz-Rgraphviz problem
Message-ID: <00D4D3B5557C7747A8721AA522D6920604710E@scomp0039.wurnet.nl>


Hello everyone,
I am having problems making Rgraphviz working with graphviz.
I installed R from Darwin ports "http://darwinports.opendarwin.org/getdp/"

by
>sudo port install r

I set my environment variables in my .bash_profile e.g export PATH=/opt/local/bin:$PATH

I also installed other packages which are required for Rgraphviz like "graphviz" and "pkgconfig" by

>sudo port install graphviz

>sudo port install pkgconig 

both these commands will also install dependencies which are required. After this

I start up an R session being root and get the latest version of bioconductor packages by sourcing it from bioconductor website

>source("http://www.bioconductor.org/biocLite.R")
>biocLite()

waited for a while and then install

>biocLite("Rgraphviz",depend=TRUE,type="source")


it worked fine when i opened it in a Terminal window, only the loading part but when I run something like this

>library("Rgraphviz")
>a<-c(1,0)
>b<-c(1,1)
>d<-rbind(a,b)
>graphObj = ftM2graphNEL(d)
>plot(graphObj)
it gives me the following error messages

*** caught bus error ***
address 0x40, cause 'non-existent physical address'

Traceback:
 1: .Call("Rgraphviz_doLayout", graph, as.integer(type), PACKAGE = "Rgraphviz")
 2: layoutGraph(g)
 3: agopen(x, name = name, layout = TRUE, layoutType = y, attrs = attrs,     nodeAttrs = nodeAttrs, edgeAttrs = edgeAttrs, subGList = subGList,     recipEdges = recipEdges)
 4: .local(x, y, ...)
 5: plot(graphObj)
 6: plot(graphObj)

Possible actions:
1: abort (with core dump)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace
Selection: 

I cannot put here the sessionInfo() as i need to abort it, the 

the Graphviz version i have is 1.310.  I also tried to install and configure 2.8 previously with no luck.


in  X11
when i load this library("Rgraphviz") in X11 interface it gives following error message

Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library '/Library/Frameworks/R.framework/Resources/library/Rgraphviz/libs/i386/Rgraphviz.so':
  dlopen(/Library/Frameworks/R.framework/Resources/library/Rgraphviz/libs/i386/Rgraphviz.so, 6): Symbol not found: _agfstnode
  Referenced from: /Library/Frameworks/R.framework/Resources/library/Rgraphviz/libs/i386/Rgraphviz.so
  Expected in: dynamic lookup
Error: .onLoad failed in 'loadNamespace' for 'Rgraphviz'
Error: package/namespace load failed for 'Rgraphviz'

the sessionInfo() here is

> sessionInfo()
R version 2.4.1 (2006-12-18) 
i386-apple-darwin8.8.1 

locale:
C

attached base packages:
[1] "tools"     "stats"     "graphics"  "grDevices" "utils"     "datasets" 
[7] "methods"   "base"     

other attached packages:
geneplotter    annotate     Biobase       graph 
   "1.12.0"    "1.12.1"    "1.12.2"    "1.12.0" 

Any help in this regard is appreciated. I had simimar problem in the past with Suse Linux we managed to solve it, and my Windows station is working fine with Graphviz 2.8 and Rgraphviz

only my mac system (intel tiger) is a bit of a problem. I manually tried to install graphviz and Rgraphviz using the source files and setting LD_LIBRARY_PATH and PKG_LIBRARY_PATH but in vain the only way to install them together without errors is through a darwinport.
 

Regards,
Anand


From p_connolly at ihug.co.nz  Thu Feb  1 20:44:05 2007
From: p_connolly at ihug.co.nz (Patrick Connolly)
Date: Fri, 2 Feb 2007 08:44:05 +1300
Subject: [R-SIG-Mac] [R] Wiki for Graphics tips for MacOS X
In-Reply-To: <971536df0701310911g597d73afiede5947437e35498@mail.gmail.com>
References: <E9E8F95E-7610-4D61-ABF5-B8CEA952F1A3@MUOhio.edu>
	<971536df0701310911g597d73afiede5947437e35498@mail.gmail.com>
Message-ID: <20070201194405.GG15607@ihug.co.nz>

On Wed, 31-Jan-2007 at 12:11PM -0500, Gabor Grothendieck wrote:

|> To get the best results you need to transfer it using vector
|> graphics rather than bitmapped graphics:
|> 
|> http://www.stc-saz.org/resources/0203_graphics.pdf
|> 
|> There are a number of variations described here (see
|> entire thread).  Its for UNIX and Windows but I think
|> it would likely work similarly on Mac and Windows:
|> 
|> http://finzi.psych.upenn.edu/R/Rhelp02a/archive/32297.html

I found that interesting, particularly this part:

For example, on Linux do this:

   dev.control(displaylist="enable") # enable display list
   plot(1:10)
   myplot <- recordPlot() # load displaylist into variable
   save(myplot, file="myplot", ascii=TRUE)

Send the ascii file, myplot, to the Windows machine and on Windows do this:

   dev.control(displaylist="enable") # enable display list
   load("myplot")
   myplot # displays the plot
   savePlot("myplot", type="wmf") # saves current plot as wmf 

I tried that, but I was never able to load the myplot in the Windows
R.  I always got a message about a syntax error to do with ' ' but I
was unable to work out what the problem was.  I thought it was because
the transfer to Windows wasn't binary, but that wasn't the problem.

I was unable to get the thread view at that archive to function so I
was unable to see if there were any follow ups which offered an
explanation.

R has changed quite a bit in the years since then, so it might be that
something needs to be done differently with more recent versions.

Has anyone done this recently?

-- 
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.   
   ___    Patrick Connolly   
 {~._.~}          		 Great minds discuss ideas    
 _( Y )_  	  	        Middle minds discuss events 
(:_~*~_:) 	       		 Small minds discuss people  
 (_)-(_)  	                           ..... Anon
	  
~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.


From khansen at stat.Berkeley.EDU  Fri Feb  2 01:00:00 2007
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Thu, 1 Feb 2007 16:00:00 -0800
Subject: [R-SIG-Mac] Mac os x graphviz-Rgraphviz problem
In-Reply-To: <00D4D3B5557C7747A8721AA522D6920604710E@scomp0039.wurnet.nl>
References: <00D4D3B5557C7747A8721AA522D6920604710E@scomp0039.wurnet.nl>
Message-ID: <194B0477-A6F6-4802-B9F7-96FCF76E186C@stat.berkeley.edu>

Your example works fine for me on Mac OS X ppc 10.4.8 with R-2.4.1  
and graphviz 2.12 compiled from source.

You can check your graphviz version from R by doing
R> graphvizVersion()

You have an error in the Graphviz version reported below, I assume  
you are talking about Rgraphviz' version. When you run it in the X11  
xterm (which I assume you are talking about), it seems as if some  
PATH/library settings are messed up. I don't know anything about  
Darwinports configuration, so I am afraid I cannot help much.

Getting Rgraphviz to work requires some connection between graphviz  
and Rgraphviz, and it is important for us to know what you installed,  
and especially how. I assume Darwinports compile from source? Since  
you have installed several different flavours of Graphviz, are you  
certain that you have cleaned up after you? Using the Graphviz binary  
provided by Simon Urbanek should work, but I find it  bit puzzling  
which versions (and how you installed them) you are discussing below.

So, try to reinstall Rgraphviz the way you describe below. Note what  
version of Graphviz R is linking to, both by looking at the compile  
statements when installing the package (which is why you need to  
reinstall) as well as trying
R> graphvizVersion()
and then see if something is not matching.

Btw. you are most certainly not running Graphviz 2.8 under MS  
Windows, unless you have taken major pains to do so.

Personally, Graphviz used to be a pain to install on the Mac, but the  
new version (2.12) compiled easily for me.

Kasper



On Feb 1, 2007, at 1:45 PM, Gavai, Anand wrote:

>
> Hello everyone,
> I am having problems making Rgraphviz working with graphviz.
> I installed R from Darwin ports "http://darwinports.opendarwin.org/ 
> getdp/"
>
> by
>> sudo port install r
>
> I set my environment variables in my .bash_profile e.g export PATH=/ 
> opt/local/bin:$PATH
>
> I also installed other packages which are required for Rgraphviz  
> like "graphviz" and "pkgconfig" by
>
>> sudo port install graphviz
>
>> sudo port install pkgconig
>
> both these commands will also install dependencies which are  
> required. After this
>
> I start up an R session being root and get the latest version of  
> bioconductor packages by sourcing it from bioconductor website
>
>> source("http://www.bioconductor.org/biocLite.R")
>> biocLite()
>
> waited for a while and then install
>
>> biocLite("Rgraphviz",depend=TRUE,type="source")
>
>
> it worked fine when i opened it in a Terminal window, only the  
> loading part but when I run something like this
>
>> library("Rgraphviz")
>> a<-c(1,0)
>> b<-c(1,1)
>> d<-rbind(a,b)
>> graphObj = ftM2graphNEL(d)
>> plot(graphObj)
> it gives me the following error messages
>
> *** caught bus error ***
> address 0x40, cause 'non-existent physical address'
>
> Traceback:
>  1: .Call("Rgraphviz_doLayout", graph, as.integer(type), PACKAGE =  
> "Rgraphviz")
>  2: layoutGraph(g)
>  3: agopen(x, name = name, layout = TRUE, layoutType = y, attrs =  
> attrs,     nodeAttrs = nodeAttrs, edgeAttrs = edgeAttrs, subGList =  
> subGList,     recipEdges = recipEdges)
>  4: .local(x, y, ...)
>  5: plot(graphObj)
>  6: plot(graphObj)
>
> Possible actions:
> 1: abort (with core dump)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
> Selection:
>
> I cannot put here the sessionInfo() as i need to abort it, the
>
> the Graphviz version i have is 1.310.  I also tried to install and  
> configure 2.8 previously with no luck.
>
>
> in  X11
> when i load this library("Rgraphviz") in X11 interface it gives  
> following error message
>
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library '/Library/Frameworks/ 
> R.framework/Resources/library/Rgraphviz/libs/i386/Rgraphviz.so':
>   dlopen(/Library/Frameworks/R.framework/Resources/library/ 
> Rgraphviz/libs/i386/Rgraphviz.so, 6): Symbol not found: _agfstnode
>   Referenced from: /Library/Frameworks/R.framework/Resources/ 
> library/Rgraphviz/libs/i386/Rgraphviz.so
>   Expected in: dynamic lookup
> Error: .onLoad failed in 'loadNamespace' for 'Rgraphviz'
> Error: package/namespace load failed for 'Rgraphviz'
>
> the sessionInfo() here is
>
>> sessionInfo()
> R version 2.4.1 (2006-12-18)
> i386-apple-darwin8.8.1
>
> locale:
> C
>
> attached base packages:
> [1] "tools"     "stats"     "graphics"  "grDevices" "utils"      
> "datasets"
> [7] "methods"   "base"
>
> other attached packages:
> geneplotter    annotate     Biobase       graph
>    "1.12.0"    "1.12.1"    "1.12.2"    "1.12.0"
>
> Any help in this regard is appreciated. I had simimar problem in  
> the past with Suse Linux we managed to solve it, and my Windows  
> station is working fine with Graphviz 2.8 and Rgraphviz
>
> only my mac system (intel tiger) is a bit of a problem. I manually  
> tried to install graphviz and Rgraphviz using the source files and  
> setting LD_LIBRARY_PATH and PKG_LIBRARY_PATH but in vain the only  
> way to install them together without errors is through a darwinport.
>
>
> Regards,
> Anand
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ggrothendieck at gmail.com  Fri Feb  2 01:39:13 2007
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Thu, 1 Feb 2007 19:39:13 -0500
Subject: [R-SIG-Mac] [R] Wiki for Graphics tips for MacOS X
In-Reply-To: <20070201194405.GG15607@ihug.co.nz>
References: <E9E8F95E-7610-4D61-ABF5-B8CEA952F1A3@MUOhio.edu>
	<971536df0701310911g597d73afiede5947437e35498@mail.gmail.com>
	<20070201194405.GG15607@ihug.co.nz>
Message-ID: <971536df0702011639m2e69dcd3u1470d60e88bddecb@mail.gmail.com>

I don't have a Linux system to try it with but
omitting both dev.control statements it worked for me
between two Windows XP sessions on the same
machine using this version of R:

> R.version.string # Windows XP
[1] "R version 2.4.1 Patched (2006-12-30 r40331)"

It also successfully worked with:

> R.version.string # Windows XP
[1] "R version 2.5.0 Under development (unstable) (2007-01-31 r40623)"



On 2/1/07, Patrick Connolly <p_connolly at ihug.co.nz> wrote:
> On Wed, 31-Jan-2007 at 12:11PM -0500, Gabor Grothendieck wrote:
>
> |> To get the best results you need to transfer it using vector
> |> graphics rather than bitmapped graphics:
> |>
> |> http://www.stc-saz.org/resources/0203_graphics.pdf
> |>
> |> There are a number of variations described here (see
> |> entire thread).  Its for UNIX and Windows but I think
> |> it would likely work similarly on Mac and Windows:
> |>
> |> http://finzi.psych.upenn.edu/R/Rhelp02a/archive/32297.html
>
> I found that interesting, particularly this part:
>
> For example, on Linux do this:
>
>   dev.control(displaylist="enable") # enable display list
>   plot(1:10)
>   myplot <- recordPlot() # load displaylist into variable
>   save(myplot, file="myplot", ascii=TRUE)
>
> Send the ascii file, myplot, to the Windows machine and on Windows do this:
>
>   dev.control(displaylist="enable") # enable display list
>   load("myplot")
>   myplot # displays the plot
>   savePlot("myplot", type="wmf") # saves current plot as wmf
>
> I tried that, but I was never able to load the myplot in the Windows
> R.  I always got a message about a syntax error to do with ' ' but I
> was unable to work out what the problem was.  I thought it was because
> the transfer to Windows wasn't binary, but that wasn't the problem.
>
> I was unable to get the thread view at that archive to function so I
> was unable to see if there were any follow ups which offered an
> explanation.
>
> R has changed quite a bit in the years since then, so it might be that
> something needs to be done differently with more recent versions.
>
> Has anyone done this recently?
>
> --
> ~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.
>   ___    Patrick Connolly
>  {~._.~}                         Great minds discuss ideas
>  _( Y )_                        Middle minds discuss events
> (:_~*~_:)                        Small minds discuss people
>  (_)-(_)                                   ..... Anon
>
> ~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.~.
>


From bates at stat.wisc.edu  Fri Feb  2 19:18:36 2007
From: bates at stat.wisc.edu (Douglas Bates)
Date: Fri, 2 Feb 2007 12:18:36 -0600
Subject: [R-SIG-Mac] [R] lmer2 error under Mac OS X on PowerPC G5 but
	not on Dual-Core Intel Xeon
In-Reply-To: <728F9B36-0CC0-4B06-AB17-EDCE6A1D5D0D@jhsph.edu>
References: <7665FCCA-208B-4B07-9A95-A7559D0DD3C4@virginia.edu>
	<82D8B52C-E3EE-4B2F-AFBF-7897E889ECDB@jhsph.edu>
	<2EF22041-6C3E-44DF-ABED-19AA08FA5BC4@virginia.edu>
	<5BB734C9-EBD7-49E7-8CC6-DD55AF76BB1C@jhsph.edu>
	<A0ABAC88-BCDE-40D9-B1E7-001702F32E17@r-project.org>
	<728F9B36-0CC0-4B06-AB17-EDCE6A1D5D0D@jhsph.edu>
Message-ID: <40e66e0b0702021018h18aba91eub6a8e06a399277cc@mail.gmail.com>

There was a bug in lme4_0.9975-11 that I tracked down with help from
Andrew Robinson and this bug caused the reported symptoms.  Please try
again with lme4_0.9975-12


On 1/29/07, Benilton Carvalho <bcarvalh at jhsph.edu> wrote:
> Michael has a PPC G5 with 2GB of RAM and can't get that example to
> run. It can't allocate enough memory (or at least it's what I
> understand from the error he reported).
>
> Given that the example doesn't require much RAM (and I could get it
> to run on a G4, Mac OS X 10.4.8), I failed to have a plausible
> explanation for the problem.
>
> b
>
> On Jan 29, 2007, at 11:28 AM, Simon Urbanek wrote:
>
> > I'm not sure - what is the question here? It works for me on a both
> > PowerPC G5 and Mac Pro (R 2.4.1 CRAN binary):
> >
> > > fm1 <- lmer(Reaction ~ Days + (Days|Subject), sleepstudy)
> > > fm1
> > Linear mixed-effects model fit by REML
> > Formula: Reaction ~ Days + (Days | Subject)
> >    Data: sleepstudy
> >   AIC  BIC logLik MLdeviance REMLdeviance
> > 1754 1770 -871.8       1752         1744
> > Random effects:
> > Groups   Name        Variance Std.Dev. Corr
> > Subject  (Intercept) 610.835  24.7151
> >           Days         35.056   5.9208  0.067
> > Residual             655.066  25.5943
> > number of obs: 180, groups: Subject, 18
> >
> > Fixed effects:
> >             Estimate Std. Error t value
> > (Intercept)  251.405      6.820   36.86
> > Days          10.467      1.546    6.77
> >
> > Correlation of Fixed Effects:
> >      (Intr)
> > Days -0.137
> > > gc()
> >          used (Mb) gc trigger (Mb) max used (Mb)
> > Ncells 966960 25.9    1368491 36.6  1265230 33.8
> > Vcells 523595  4.0    1031040  7.9   755843  5.8
> > > sessionInfo()
> > R version 2.4.1 (2006-12-18)
> > i386-apple-darwin8.8.1
> >
> > locale:
> > C
> >
> > attached base packages:
> > [1] "stats"     "graphics"  "grDevices" "utils"     "datasets"
> > "methods"
> > [7] "base"
> >
> > other attached packages:
> >        lme4      Matrix     lattice
> > "0.9975-11"  "0.9975-8"   "0.14-16"
> >
> > Cheers,
> > Simon
> >
> > On Jan 29, 2007, at 10:40 AM, Benilton Carvalho wrote:
> >
> >> So, I decided to give it a try (and just now noticed that this is the
> >> example in lmer2)
> >>
> >> I just gave it a try on a PPC G4 and it worked as expected. I'm
> >> copying R-sig-mac (sorry for the crosspost) as the experts there
> >> might give you a better suggestion.
> >>
> >>> fm1 <- lmer2(Reaction ~ Days + (Days|Subject), sleepstudy)
> >>> fm1
> >> Linear mixed-effects model fit by REML
> >> Formula: Reaction ~ Days + (Days | Subject)
> >>     Data: sleepstudy
> >>    AIC  BIC logLik MLdeviance REMLdeviance
> >> 1754 1770 -871.8       1752         1744
> >> Random effects:
> >> Groups   Name        Variance Std.Dev. Corr
> >> Subject  (Intercept) 612.128  24.7412
> >>            Days         35.049   5.9202  0.066
> >> Residual             654.970  25.5924
> >> Number of obs: 180, groups: Subject, 18
> >>
> >> Fixed effects:
> >>              Estimate Std. Error t value
> >> (Intercept)  251.405      6.825   36.84
> >> Days          10.467      1.545    6.77
> >>
> >> Correlation of Fixed Effects:
> >>       (Intr)
> >> Days -0.137
> >>> sessionInfo()
> >> R version 2.5.0 Under development (unstable) (2007-01-03 r40349)
> >> powerpc-apple-darwin8.8.0
> >>
> >> locale:
> >> C
> >>
> >> attached base packages:
> >> [1] "stats"     "graphics"  "grDevices" "utils"     "datasets"
> >> "methods"
> >> [7] "base"
> >>
> >> other attached packages:
> >>         lme4      Matrix     lattice
> >> "0.9975-11"  "0.9975-8"   "0.14-16"
> >>
> >>
> >> On Jan 29, 2007, at 7:40 AM, Michael Kubovy wrote:
> >>
> >>> On Jan 28, 2007, at 9:39 PM, Benilton Carvalho wrote:
> >>>
> >>>> This seems to be due to the fact that you didn't have enough
> >>>> memory when running lmer2.
> >>>>
> >>>> I might be wrong, but I think Calloc tries to get contiguous
> >>>> memory, so this might the problem.
> >>>>
> >>>> If you are positive that you have enough memory, a gc() might help.
> >>>
> >>> I have 2 GB memory on this machine. Should be enough, no?
> >>>
> >>>> gc()
> >>>           used (Mb) gc trigger (Mb) max used (Mb)
> >>> Ncells 1008175 27.0    1476915 39.5  1368491 36.6
> >>> Vcells  540055  4.2    1031040  7.9  1031026  7.9
> >>>> (fm1 <- lmer2(Reaction ~ Days + (Days|Subject), sleepstudy))
> >>> Error in as.double(start) : Calloc could not allocate (903190944 of
> >>> 4) memory
> >>>
> >>>
> >>>> On Jan 28, 2007, at 8:35 PM, Michael Kubovy wrote:
> >>>>
> >>>>>> (fm1 <- lmer2(Reaction ~ Days + (Days|Subject), sleepstudy))
> >>>>> Error in as.double(start) : Calloc could not allocate
> >>>>> (888475968 of
> >>>>> 4) memory
> >>>>> *************************
> >>>>>> sessionInfo()
> >>>>> R version 2.4.1 (2006-12-18)
> >>>>> powerpc-apple-darwin8.8.0
> >>>>>
> >>>>> locale:
> >>>>> C
> >>>>>
> >>>>> attached base packages:
> >>>>> [1] "grid"      "datasets"  "stats"     "graphics"  "grDevices"
> >>>>> "utils"     "methods"
> >>>>> [8] "base"
> >>>>>
> >>>>> other attached packages:
> >>>>>          lme4       Matrix       xtable latticeExtra      lattice
> >>>>> gridBase         MASS
> >>>>> "0.9975-11"   "0.9975-8"      "1.4-3"      "0.1-4"    "0.14-16"
> >>>>> "0.4-3"     "7.2-31"
> >>>>>           JGR       iplots       JavaGD        rJava
> >>>>>      "1.4-15"      "1.0-5"      "0.3-5"     "0.4-13"
> >>>>> *************************
> >>>>> lmer runs the example w/o a problem
> >>>>>
> >>>>> I just tried to run it on on Intel-based MacPro, and lmer2 ran
> >>>>> without a hitch.
> >>> _____________________________
> >>> Professor Michael Kubovy
> >>> University of Virginia
> >>> Department of Psychology
> >>> USPS:     P.O.Box 400400    Charlottesville, VA 22904-4400
> >>> Parcels:    Room 102        Gilmer Hall
> >>>         McCormick Road    Charlottesville, VA 22903
> >>> Office:    B011    +1-434-982-4729
> >>> Lab:        B019    +1-434-982-4751
> >>> Fax:        +1-434-982-4766
> >>> WWW:    http://www.people.virginia.edu/~mk9y/
> >>>
> >>
> >> _______________________________________________
> >> R-SIG-Mac mailing list
> >> R-SIG-Mac at stat.math.ethz.ch
> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>
> >>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From frostygoat at gmail.com  Fri Feb  2 23:48:44 2007
From: frostygoat at gmail.com (N W)
Date: Fri, 2 Feb 2007 14:48:44 -0800
Subject: [R-SIG-Mac] integrating curve(function) into a plot
Message-ID: <6cebc0c10702021448kff257a4xc0927d3ee1f1be86@mail.gmail.com>

Hi,

I'm looking for suggestions for putting functions into a regular plot
using curve.  I want to do this so I can adjust plot attributes (e.g.
cex on axis names etc).  I'm dealing with likelihood distributions, so
the (blank?) plots would need a log scale.  Curve alone makes a nice
(small) plot, but doesn't accommodate par commands.  I do not wish to
add the curve to an existing plot distribution other than a blank
plot.   Plot.new makes a blank plot but add=TRUE as a argument to
curve does not incorporate the function, which I believe is due to the
conflict of scale types.

Thanks much, Nik


From vdetours at ulb.ac.be  Mon Feb  5 12:23:34 2007
From: vdetours at ulb.ac.be (Vincent Detours)
Date: Mon, 5 Feb 2007 12:23:34 +0100
Subject: [R-SIG-Mac] ld error while installing odesolve from source
Message-ID: <01DAB3EC-2237-463A-B21C-65975814D9A6@ulb.ac.be>

Hello all,

I run in the following 2 problems intalling odesolve_0.5-16.tar.gz a  
power PC powermac running mac osx 10.4.8.

1-The binary does install but I got

---------------------
R version 2.4.0 (2006-10-03)
Copyright (C) 2006 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

 > options(STERM='iESS', editor='emacsclient')
 > version
                _
platform       powerpc-apple-darwin8.8.0
arch           powerpc
os             darwin8.8.0
system         powerpc, darwin8.8.0
status
major          2
minor          4.0
year           2006
month          10
day            03
svn rev        39566
language       R
version.string R version 2.4.0 (2006-10-03)
 >
 > library(odesolve)
Error: package 'odesolve' was built for universal-apple-darwin8.8.1
In addition: Warning message:
package 'odesolve' was built under R version 2.4.1
 >
----------------------

2-Installing from the source fails with a linker error:

-------------------------------------------------------
% R CMD INSTALL odesolve_0.5-16.tar.gz
* Installing *source* package 'odesolve' ...
** libs
g77   -fPIC  -g -O2 -c bnorm.f -o bnorm.o
gcc -no-cpp-precomp -I/sw/lib/R-2.4.0/include -I/sw/lib/R-2.4.0/ 
include  -I/sw/include -I/usr/local/include    -fPIC  -g -O2 - 
std=gnu99 -c call_lsoda.c -o call_lsoda.o
call_lsoda.c: In function 'call_lsoda':
call_lsoda.c:109: warning: passing argument 1 of 'initializer' from  
incompatible pointer type
g77   -fPIC  -g -O2 -c cfode.f -o cfode.o
g77   -fPIC  -g -O2 -c dgbfa.f -o dgbfa.o
g77   -fPIC  -g -O2 -c dgbsl.f -o dgbsl.o
g77   -fPIC  -g -O2 -c dgefa.f -o dgefa.o
g77   -fPIC  -g -O2 -c dgesl.f -o dgesl.o
g77   -fPIC  -g -O2 -c ewset.f -o ewset.o
g77   -fPIC  -g -O2 -c fdump.f -o fdump.o
g77   -fPIC  -g -O2 -c fnorm.f -o fnorm.o
g77   -fPIC  -g -O2 -c i1mach.f -o i1mach.o
g77   -fPIC  -g -O2 -c intdy.f -o intdy.o
g77   -fPIC  -g -O2 -c j4save.f -o j4save.o
g77   -fPIC  -g -O2 -c lsoda.f -o lsoda.o
gcc -no-cpp-precomp -I/sw/lib/R-2.4.0/include -I/sw/lib/R-2.4.0/ 
include  -I/sw/include -I/usr/local/include    -fPIC  -g -O2 - 
std=gnu99 -c odesolve_utils.c -o odesolve_utils.o
g77   -fPIC  -g -O2 -c prja.f -o prja.o
g77   -fPIC  -g -O2 -c solsy.f -o solsy.o
g77   -fPIC  -g -O2 -c stoda.f -o stoda.o
g77   -fPIC  -g -O2 -c vmnorm.f -o vmnorm.o
gcc -dynamiclib -flat_namespace -undefined suppress -single_module - 
multiply_defined suppress -L/sw/lib -L/usr/local/lib -o odesolve.so  
bnorm.o call_lsoda.o cfode.o dgbfa.o dgbsl.o dgefa.o dgesl.o ewset.o  
fdump.o fnorm.o i1mach.o intdy.o j4save.o lsoda.o odesolve_utils.o  
prja.o solsy.o stoda.o vmnorm.o -framework vecLib -L/sw/lib/gcc/ 
powerpc-apple-darwin8.7.0/3.4.3 -lg2c -lSystemStubs -lSystem -lmx / 
usr/lib/gcc/powerpc-apple-darwin8/4.0.0/libgcc.a -L/sw/lib/gcc/ 
powerpc-apple-darwin8.7.0/3.4.3 -lg2c -lSystemStubs -lSystem -lmx / 
usr/lib/gcc/powerpc-apple-darwin8/4.0.0/libgcc.a -L/sw/lib/R-2.4.0/ 
lib -lR
ld: multiple definitions of symbol _i1mach_
i1mach.o definition of _i1mach_ in section (__TEXT,__text)
/sw/lib/R-2.4.0/lib/libR.dylib(single module) definition of _i1mach_
/usr/bin/libtool: internal link edit command failed
make: *** [odesolve.so] Error 1
ERROR: compilation failed for package 'odesolve'
** Removing '/sw/lib/R-2.4.0/library/odesolve'
** Restoring previous '/sw/lib/R-2.4.0/library/odesolve'
---------------------------------

I have installed dozens other packages (from source) on my system, so
any idea about what is wrong with this one?

Vincent Detours


From Li.Long at isb-sib.ch  Mon Feb  5 10:32:00 2007
From: Li.Long at isb-sib.ch (Li.Long at isb-sib.ch)
Date: Mon, 5 Feb 2007 10:32:00 +0100 (CET)
Subject: [R-SIG-Mac] [BioC]  Mac os x graphviz-Rgraphviz problem
In-Reply-To: <194B0477-A6F6-4802-B9F7-96FCF76E186C@stat.berkeley.edu>
References: <00D4D3B5557C7747A8721AA522D6920604710E@scomp0039.wurnet.nl>
	<194B0477-A6F6-4802-B9F7-96FCF76E186C@stat.berkeley.edu>
Message-ID: <32897.130.223.128.12.1170667920.squirrel@squirrel.isb-sib.ch>


Just add one thing to what Kasper already said: I suspect that the issue
is that the  .so from graphviz are not visible to the loader.  You can fix
up the LD_LIBRARY_PATH in someway: "make install" from graphviz has some
msgs like

=============================================================
PATH="$PATH:/sbin" ldconfig -n /home/vital-it/lilong/bin/graphviz-2.12/lib
----------------------------------------------------------------------
Libraries have been installed in:
   /home/vital-it/lilong/bin/graphviz-2.12/lib
......
==============================================================

that hints how to do it.  I didn't see "ldconfig" quoted in the msg...

Li


> Your example works fine for me on Mac OS X ppc 10.4.8 with R-2.4.1
> and graphviz 2.12 compiled from source.
>
> You can check your graphviz version from R by doing
> R> graphvizVersion()
>
> You have an error in the Graphviz version reported below, I assume
> you are talking about Rgraphviz' version. When you run it in the X11
> xterm (which I assume you are talking about), it seems as if some
> PATH/library settings are messed up. I don't know anything about
> Darwinports configuration, so I am afraid I cannot help much.
>
> Getting Rgraphviz to work requires some connection between graphviz
> and Rgraphviz, and it is important for us to know what you installed,
> and especially how. I assume Darwinports compile from source? Since
> you have installed several different flavours of Graphviz, are you
> certain that you have cleaned up after you? Using the Graphviz binary
> provided by Simon Urbanek should work, but I find it  bit puzzling
> which versions (and how you installed them) you are discussing below.
>
> So, try to reinstall Rgraphviz the way you describe below. Note what
> version of Graphviz R is linking to, both by looking at the compile
> statements when installing the package (which is why you need to
> reinstall) as well as trying
> R> graphvizVersion()
> and then see if something is not matching.
>
> Btw. you are most certainly not running Graphviz 2.8 under MS
> Windows, unless you have taken major pains to do so.
>
> Personally, Graphviz used to be a pain to install on the Mac, but the
> new version (2.12) compiled easily for me.
>
> Kasper
>
>
>
> On Feb 1, 2007, at 1:45 PM, Gavai, Anand wrote:
>
>>
>> Hello everyone,
>> I am having problems making Rgraphviz working with graphviz.
>> I installed R from Darwin ports "http://darwinports.opendarwin.org/
>> getdp/"
>>
>> by
>>> sudo port install r
>>
>> I set my environment variables in my .bash_profile e.g export PATH=/
>> opt/local/bin:$PATH
>>
>> I also installed other packages which are required for Rgraphviz
>> like "graphviz" and "pkgconfig" by
>>
>>> sudo port install graphviz
>>
>>> sudo port install pkgconig
>>
>> both these commands will also install dependencies which are
>> required. After this
>>
>> I start up an R session being root and get the latest version of
>> bioconductor packages by sourcing it from bioconductor website
>>
>>> source("http://www.bioconductor.org/biocLite.R")
>>> biocLite()
>>
>> waited for a while and then install
>>
>>> biocLite("Rgraphviz",depend=TRUE,type="source")
>>
>>
>> it worked fine when i opened it in a Terminal window, only the
>> loading part but when I run something like this
>>
>>> library("Rgraphviz")
>>> a<-c(1,0)
>>> b<-c(1,1)
>>> d<-rbind(a,b)
>>> graphObj = ftM2graphNEL(d)
>>> plot(graphObj)
>> it gives me the following error messages
>>
>> *** caught bus error ***
>> address 0x40, cause 'non-existent physical address'
>>
>> Traceback:
>>  1: .Call("Rgraphviz_doLayout", graph, as.integer(type), PACKAGE =
>> "Rgraphviz")
>>  2: layoutGraph(g)
>>  3: agopen(x, name = name, layout = TRUE, layoutType = y, attrs =
>> attrs,     nodeAttrs = nodeAttrs, edgeAttrs = edgeAttrs, subGList =
>> subGList,     recipEdges = recipEdges)
>>  4: .local(x, y, ...)
>>  5: plot(graphObj)
>>  6: plot(graphObj)
>>
>> Possible actions:
>> 1: abort (with core dump)
>> 2: normal R exit
>> 3: exit R without saving workspace
>> 4: exit R saving workspace
>> Selection:
>>
>> I cannot put here the sessionInfo() as i need to abort it, the
>>
>> the Graphviz version i have is 1.310.  I also tried to install and
>> configure 2.8 previously with no luck.
>>
>>
>> in  X11
>> when i load this library("Rgraphviz") in X11 interface it gives
>> following error message
>>
>> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>>         unable to load shared library '/Library/Frameworks/
>> R.framework/Resources/library/Rgraphviz/libs/i386/Rgraphviz.so':
>>   dlopen(/Library/Frameworks/R.framework/Resources/library/
>> Rgraphviz/libs/i386/Rgraphviz.so, 6): Symbol not found: _agfstnode
>>   Referenced from: /Library/Frameworks/R.framework/Resources/
>> library/Rgraphviz/libs/i386/Rgraphviz.so
>>   Expected in: dynamic lookup
>> Error: .onLoad failed in 'loadNamespace' for 'Rgraphviz'
>> Error: package/namespace load failed for 'Rgraphviz'
>>
>> the sessionInfo() here is
>>
>>> sessionInfo()
>> R version 2.4.1 (2006-12-18)
>> i386-apple-darwin8.8.1
>>
>> locale:
>> C
>>
>> attached base packages:
>> [1] "tools"     "stats"     "graphics"  "grDevices" "utils"
>> "datasets"
>> [7] "methods"   "base"
>>
>> other attached packages:
>> geneplotter    annotate     Biobase       graph
>>    "1.12.0"    "1.12.1"    "1.12.2"    "1.12.0"
>>
>> Any help in this regard is appreciated. I had simimar problem in
>> the past with Suse Linux we managed to solve it, and my Windows
>> station is working fine with Graphviz 2.8 and Rgraphviz
>>
>> only my mac system (intel tiger) is a bit of a problem. I manually
>> tried to install graphviz and Rgraphviz using the source files and
>> setting LD_LIBRARY_PATH and PKG_LIBRARY_PATH but in vain the only
>> way to install them together without errors is through a darwinport.
>>
>>
>> Regards,
>> Anand
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> Bioconductor mailing list
> Bioconductor at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/bioconductor
> Search the archives:
> http://news.gmane.org/gmane.science.biology.informatics.conductor
>


From Li.Long at isb-sib.ch  Mon Feb  5 14:21:09 2007
From: Li.Long at isb-sib.ch (Li.Long at isb-sib.ch)
Date: Mon, 5 Feb 2007 14:21:09 +0100 (CET)
Subject: [R-SIG-Mac] [BioC]  Mac os x graphviz-Rgraphviz problem
Message-ID: <34179.130.223.128.12.1170681669.squirrel@squirrel.isb-sib.ch>


Hi,

A note regarding lib paths for graphviz:  (based on my own installations)

.../graphviz-2.8/lib: /graphviz/{libgvc.so, etc}
                      /pkconfig
.../graphviz-2.12/lib: libgvc.so, etc.
                      /graphviz/{libgvplugin_* , etc)
                      /pkconfig

For 2.8, it's sufficient to have
         .../graphviz-2.8/lib/graphviz
in my LD_LIBRARY_PATH.  While for 2.12, I've got to (manually) add
         .../graphviz-2.12/lib
to my LD_LIBRARY_PATH to make libgvc.so visible to the loader.

This is probably where the path was not set quite right for graphviz 2.12.

Li


> Your example works fine for me on Mac OS X ppc 10.4.8 with R-2.4.1 and
graphviz 2.12 compiled from source.
>
> You can check your graphviz version from R by doing
> R> graphvizVersion()
>
> You have an error in the Graphviz version reported below, I assume you
are talking about Rgraphviz' version. When you run it in the X11 xterm
(which I assume you are talking about), it seems as if some PATH/library
settings are messed up. I don't know anything about Darwinports
configuration, so I am afraid I cannot help much.
>
> Getting Rgraphviz to work requires some connection between graphviz and
Rgraphviz, and it is important for us to know what you installed, and
especially how. I assume Darwinports compile from source? Since you have
installed several different flavours of Graphviz, are you certain that
you have cleaned up after you? Using the Graphviz binary provided by
Simon Urbanek should work, but I find it  bit puzzling which versions
(and how you installed them) you are discussing below.
>
> So, try to reinstall Rgraphviz the way you describe below. Note what
version of Graphviz R is linking to, both by looking at the compile
statements when installing the package (which is why you need to
reinstall) as well as trying
> R> graphvizVersion()
> and then see if something is not matching.
>
> Btw. you are most certainly not running Graphviz 2.8 under MS
> Windows, unless you have taken major pains to do so.
>
> Personally, Graphviz used to be a pain to install on the Mac, but the
new version (2.12) compiled easily for me.
>
> Kasper
>
>
>
> On Feb 1, 2007, at 1:45 PM, Gavai, Anand wrote:
>
>>
>> Hello everyone,
>> I am having problems making Rgraphviz working with graphviz.
>> I installed R from Darwin ports "http://darwinports.opendarwin.org/
getdp/"
>>
>> by
>>> sudo port install r
>>
>> I set my environment variables in my .bash_profile e.g export PATH=/
opt/local/bin:$PATH
>>
>> I also installed other packages which are required for Rgraphviz like
"graphviz" and "pkgconfig" by
>>
>>> sudo port install graphviz
>>
>>> sudo port install pkgconig
>>
>> both these commands will also install dependencies which are
>> required. After this
>>
>> I start up an R session being root and get the latest version of
bioconductor packages by sourcing it from bioconductor website
>>
>>> source("http://www.bioconductor.org/biocLite.R")
>>> biocLite()
>>
>> waited for a while and then install
>>
>>> biocLite("Rgraphviz",depend=TRUE,type="source")
>>
>>
>> it worked fine when i opened it in a Terminal window, only the
>> loading part but when I run something like this
>>
>>> library("Rgraphviz")
>>> a<-c(1,0)
>>> b<-c(1,1)
>>> d<-rbind(a,b)
>>> graphObj = ftM2graphNEL(d)
>>> plot(graphObj)
>> it gives me the following error messages
>>
>> *** caught bus error ***
>> address 0x40, cause 'non-existent physical address'
>>
>> Traceback:
>>  1: .Call("Rgraphviz_doLayout", graph, as.integer(type), PACKAGE =
>> "Rgraphviz")
>>  2: layoutGraph(g)
>>  3: agopen(x, name = name, layout = TRUE, layoutType = y, attrs =
>> attrs,     nodeAttrs = nodeAttrs, edgeAttrs = edgeAttrs, subGList =
subGList,     recipEdges = recipEdges)
>>  4: .local(x, y, ...)
>>  5: plot(graphObj)
>>  6: plot(graphObj)
>>
>> Possible actions:
>> 1: abort (with core dump)
>> 2: normal R exit
>> 3: exit R without saving workspace
>> 4: exit R saving workspace
>> Selection:
>>
>> I cannot put here the sessionInfo() as i need to abort it, the
>>
>> the Graphviz version i have is 1.310.  I also tried to install and
configure 2.8 previously with no luck.
>>
>>
>> in  X11
>> when i load this library("Rgraphviz") in X11 interface it gives
following error message
>>
>> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>>         unable to load shared library '/Library/Frameworks/
>> R.framework/Resources/library/Rgraphviz/libs/i386/Rgraphviz.so':
>>   dlopen(/Library/Frameworks/R.framework/Resources/library/
>> Rgraphviz/libs/i386/Rgraphviz.so, 6): Symbol not found: _agfstnode
>>   Referenced from: /Library/Frameworks/R.framework/Resources/
>> library/Rgraphviz/libs/i386/Rgraphviz.so
>>   Expected in: dynamic lookup
>> Error: .onLoad failed in 'loadNamespace' for 'Rgraphviz'
>> Error: package/namespace load failed for 'Rgraphviz'
>>
>> the sessionInfo() here is
>>
>>> sessionInfo()
>> R version 2.4.1 (2006-12-18)
>> i386-apple-darwin8.8.1
>>
>> locale:
>> C
>>
>> attached base packages:
>> [1] "tools"     "stats"     "graphics"  "grDevices" "utils"
>> "datasets"
>> [7] "methods"   "base"
>>
>> other attached packages:
>> geneplotter    annotate     Biobase       graph
>>    "1.12.0"    "1.12.1"    "1.12.2"    "1.12.0"
>>
>> Any help in this regard is appreciated. I had simimar problem in the
past with Suse Linux we managed to solve it, and my Windows station is
working fine with Graphviz 2.8 and Rgraphviz
>>
>> only my mac system (intel tiger) is a bit of a problem. I manually
tried to install graphviz and Rgraphviz using the source files and
setting LD_LIBRARY_PATH and PKG_LIBRARY_PATH but in vain the only way
to install them together without errors is through a darwinport.
>>
>>
>> Regards,
>> Anand
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> Bioconductor mailing list
> Bioconductor at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/bioconductor
> Search the archives:
> http://news.gmane.org/gmane.science.biology.informatics.conductor
>


From sfalcon at fhcrc.org  Mon Feb  5 17:11:27 2007
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Mon, 05 Feb 2007 08:11:27 -0800
Subject: [R-SIG-Mac] [BioC]  Mac os x graphviz-Rgraphviz problem
In-Reply-To: <34179.130.223.128.12.1170681669.squirrel@squirrel.isb-sib.ch>
	(Li Long's message of "Mon, 5 Feb 2007 14:21:09 +0100 (CET)")
References: <34179.130.223.128.12.1170681669.squirrel@squirrel.isb-sib.ch>
Message-ID: <m21wl44ma8.fsf@ziti.local>

Li.Long at isb-sib.ch writes:

> Hi,
>
> A note regarding lib paths for graphviz:  (based on my own installations)
>
> .../graphviz-2.8/lib: /graphviz/{libgvc.so, etc}
>                       /pkconfig
> .../graphviz-2.12/lib: libgvc.so, etc.
>                       /graphviz/{libgvplugin_* , etc)
>                       /pkconfig
>
> For 2.8, it's sufficient to have
>          .../graphviz-2.8/lib/graphviz
> in my LD_LIBRARY_PATH.  While for 2.12, I've got to (manually) add
>          .../graphviz-2.12/lib
> to my LD_LIBRARY_PATH to make libgvc.so visible to the loader.
>
> This is probably where the path was not set quite right for graphviz
> 2.12.

Just a note regarding the install location change between graphviz 2.8
and 2.12... In the devel version of Rgraphviz, the configure script
has been patched to detect these and do the right thing (worked in my
testing, but confirmation would be great).

Also, for the OS X users, you don't get to set LD_LIBRARY_PATH, but
instead DYLD_LIBRARY_PATH.

+ seth


From macq at llnl.gov  Mon Feb  5 21:37:26 2007
From: macq at llnl.gov (Don MacQueen)
Date: Mon, 5 Feb 2007 12:37:26 -0800
Subject: [R-SIG-Mac] ROracle and R 2.4.1;  require(ROracle) fails
Message-ID: <p06230908c1ed45d7d07a@[128.115.153.6]>

I have so far been unable to successfully install ROracle 0.5-8 with 
R 2.4.1, and would appreciate any suggestions.

ROracle appears to install (using type='source'). That is, 
installation finishes without any fatal errors. There is one warning 
message. Full log is included at the end.

However loading the package fails:

>  require(ROracle)
Loading required package: ROracle
Loading required package: DBI
Error in dyn.load(x, as.logical(local), as.logical(now)) :
         unable to load shared library 
'/Library/Frameworks/R.framework/Resources/library/ROracle/libs/ppc/ROracle.so':
 
dlopen(/Library/Frameworks/R.framework/Resources/library/ROracle/libs/ppc/ROracle.so, 
6): Symbol not found: _sqlcxt
   Referenced from: 
/Library/Frameworks/R.framework/Resources/library/ROracle/libs/ppc/ROracle.so
   Expected in: dynamic lookup
[1] FALSE

R is the binary version, downloaded today from CRAN (from the UCB 
mirror), where it was labeled "latest". I installed all of the 
optional installs, including gcc403.pkg.

I have ROracle 0.5-7 working with R 2.3.1, and in this case both R 
and ROracle were installed from source, using gcc 3.something.

I have checked as many things as I can think of to check...

I have verified that R2.4.1 is actually using gcc4.0.3 while building ROracle.
I have XCode 2.4 installed.
I'm installing on a G5 (ppc) machine.
OS X is 10.4.8
The DBI package was freshly installed today also, and is working 
(based on testing with RMySQL).

I've compared the output of "nm ROracle.so" for versions. Shown here:

###  ROracle 0.5-8 in R 2.4.1
pkgs[19]% nm 
/Library/Frameworks/R.framework/Resources/library/ROracle/libs/ppc/ROracle.so 
| grep cxt
          U _sqlcxt

### ROracle 0.5-7 in R 2.3.1
R-2.3.1[21]% nm builddir/library/ROracle/libs/ROracle.so | grep cxt
          U _sqlcxt

The Oracle itself is Oracle 10.1.0, installed using Oracle's 
installer. This means, probably, that it's a binary install. I don't 
know what compiler version Oracle would have built the libraries 
with, but I would guess that if it's gcc, it's earlier than v4. This 
seems to me to be the most likely cause of the problem; a version 
compatibility problem, but I don't know how to verify that, or if so, 
what to do about it.

------------------- more information -------------------

------------ R session info for the two versions of R, respectively -----------
>  sessionInfo()
R version 2.4.1 (2006-12-18)
powerpc-apple-darwin8.8.0

locale:
C

attached base packages:
[1] "stats"     "graphics"  "grDevices" "utils"     "datasets"  "methods" 
[7] "base"    

other attached packages:
      DBI
"0.1-12"


---------------------------------
>  sessionInfo()
Version 2.3.1 Patched (2006-08-19 r38935)
powerpc-apple-darwin8.7.0

attached base packages:
[1] "methods"   "stats"     "graphics"  "grDevices" "utils" 
"datasets"  "base"

other attached packages:
  ROracle      DBI    rmacq
  "0.5-7" "0.1-10"    "1.0"

---------------------------------------
 From the installation of ROracle 0.5-8:

...
opened URL
==================================================
downloaded 152Kb

* Installing *source* package 'ROracle' ...
checking for gcc... gcc
checking for C compiler default output... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
checking how to run the C preprocessor... gcc -E
configure: creating ./config.status
config.status: creating src/Makevars
config.status: creating src/Makefile
** libs
** arch - ppc
R CMD COMPILE RS-DBI.c
gcc-4.0 -arch ppc -std=gnu99 
-I/Library/Frameworks/R.framework/Resources/include 
-I/Library/Frameworks/R.framework/Resources/include/ppc 
-DRS_ORA_SQLGLS_WORKAROUND -I/usr/local/include    -fPIC  -g -O2 -c
  RS-DBI.c -o RS-DBI.o
proc CODE=ANSI_C MODE=ORACLE 
INCLUDE=/Library/Frameworks/R.framework/Resources/include \
                 PARSE=NONE LINES=false PREFETCH=1 RS-Oracle.pc

Pro*C/C++: Release 10.1.0.3.0 - Production on Mon Feb 5 10:05:22 2007

Copyright (c) 1982, 2004, Oracle.  All rights reserved.

System default option values taken from: 
/Users/oracle/product/10.1.0/db_2/precomp/admin/pcscfg.cfg


R CMD COMPILE RS-Oracle.c
gcc-4.0 -arch ppc -std=gnu99 
-I/Library/Frameworks/R.framework/Resources/include 
-I/Library/Frameworks/R.framework/Resources/include/ppc 
-DRS_ORA_SQLGLS_WORKAROUND -I/usr/local/include    -fPIC  -g -O2 -c 
RS-Oracle.c -o RS-Oracle.o
RS-Oracle.c: In function 'RS_Ora_varCharCpy':
RS-Oracle.c:6387: warning: pointer targets in passing argument 1 of 
'strcpy' differ in signedness
R CMD SHLIB -o ROracle.so RS-DBI.o RS-Oracle.o
gcc-4.0 -arch ppc -std=gnu99 -dynamiclib -Wl,-macosx_version_min 
-Wl,10.3 -undefined dynamic_lookup -single_module -multiply_defined 
suppress -L/usr/local/lib -o ROracle.so RS-DBI.o RS-Oracle.o 
-L/Users/oracle/product/10.1.0/db_2/lib 
-L/Users/oracle/product/10.1.0/db_2/network/lib -lclntst10 -lnbeq10 
-lnhost10 -lnus10 -lnldap10 -lldapclnt10 -lnsslb10 -lntcp10 -lntcps10 
-lnsslb10 -lntcp10 -lntns10 -ldl -lpoll -lm -lpthread 
-L/Users/oracle/product/10.1.0/db_2/lib -lm 
-L/Library/Frameworks/R.framework/Resources/lib/ppc -lR -dylib_file 
libRblas.dylib:/Library/Frameworks/R.framework/Resources/lib/ppc/libRblas.dylib


Thanks!
-Don
-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
--------------------------------------

-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA


From anand.gavai at wur.nl  Mon Feb  5 15:16:58 2007
From: anand.gavai at wur.nl (Anand Gavai)
Date: Mon, 5 Feb 2007 15:16:58 +0100
Subject: [R-SIG-Mac] [BioC]  Mac os x graphviz-Rgraphviz problem
In-Reply-To: <34179.130.223.128.12.1170681669.squirrel@squirrel.isb-sib.ch>
Message-ID: <OPEEIHHGKHNGCODBPPBEEEDCCDAA.anand.gavai@wur.nl>

Fine with me but at 12..?

Regards,
Anand

-----Original Message-----
From: Li.Long at isb-sib.ch [mailto:Li.Long at isb-sib.ch]
Sent: Monday, February 05, 2007 2:21 PM
To: Kasper Daniel Hansen
Cc: Gavai, Anand; bioconductor at stat.math.ethz.ch;
r-sig-mac at stat.math.ethz.ch
Subject: Re: [BioC] [R-SIG-Mac] Mac os x graphviz-Rgraphviz problem



Hi,

A note regarding lib paths for graphviz:  (based on my own installations)

.../graphviz-2.8/lib: /graphviz/{libgvc.so, etc}
                      /pkconfig
.../graphviz-2.12/lib: libgvc.so, etc.
                      /graphviz/{libgvplugin_* , etc)
                      /pkconfig

For 2.8, it's sufficient to have
         .../graphviz-2.8/lib/graphviz
in my LD_LIBRARY_PATH.  While for 2.12, I've got to (manually) add
         .../graphviz-2.12/lib
to my LD_LIBRARY_PATH to make libgvc.so visible to the loader.

This is probably where the path was not set quite right for graphviz 2.12.

Li


> Your example works fine for me on Mac OS X ppc 10.4.8 with R-2.4.1 and
graphviz 2.12 compiled from source.
>
> You can check your graphviz version from R by doing
> R> graphvizVersion()
>
> You have an error in the Graphviz version reported below, I assume you
are talking about Rgraphviz' version. When you run it in the X11 xterm
(which I assume you are talking about), it seems as if some PATH/library
settings are messed up. I don't know anything about Darwinports
configuration, so I am afraid I cannot help much.
>
> Getting Rgraphviz to work requires some connection between graphviz and
Rgraphviz, and it is important for us to know what you installed, and
especially how. I assume Darwinports compile from source? Since you have
installed several different flavours of Graphviz, are you certain that
you have cleaned up after you? Using the Graphviz binary provided by
Simon Urbanek should work, but I find it  bit puzzling which versions
(and how you installed them) you are discussing below.
>
> So, try to reinstall Rgraphviz the way you describe below. Note what
version of Graphviz R is linking to, both by looking at the compile
statements when installing the package (which is why you need to
reinstall) as well as trying
> R> graphvizVersion()
> and then see if something is not matching.
>
> Btw. you are most certainly not running Graphviz 2.8 under MS
> Windows, unless you have taken major pains to do so.
>
> Personally, Graphviz used to be a pain to install on the Mac, but the
new version (2.12) compiled easily for me.
>
> Kasper
>
>
>
> On Feb 1, 2007, at 1:45 PM, Gavai, Anand wrote:
>
>>
>> Hello everyone,
>> I am having problems making Rgraphviz working with graphviz.
>> I installed R from Darwin ports "http://darwinports.opendarwin.org/
getdp/"
>>
>> by
>>> sudo port install r
>>
>> I set my environment variables in my .bash_profile e.g export PATH=/
opt/local/bin:$PATH
>>
>> I also installed other packages which are required for Rgraphviz like
"graphviz" and "pkgconfig" by
>>
>>> sudo port install graphviz
>>
>>> sudo port install pkgconig
>>
>> both these commands will also install dependencies which are
>> required. After this
>>
>> I start up an R session being root and get the latest version of
bioconductor packages by sourcing it from bioconductor website
>>
>>> source("http://www.bioconductor.org/biocLite.R")
>>> biocLite()
>>
>> waited for a while and then install
>>
>>> biocLite("Rgraphviz",depend=TRUE,type="source")
>>
>>
>> it worked fine when i opened it in a Terminal window, only the
>> loading part but when I run something like this
>>
>>> library("Rgraphviz")
>>> a<-c(1,0)
>>> b<-c(1,1)
>>> d<-rbind(a,b)
>>> graphObj = ftM2graphNEL(d)
>>> plot(graphObj)
>> it gives me the following error messages
>>
>> *** caught bus error ***
>> address 0x40, cause 'non-existent physical address'
>>
>> Traceback:
>>  1: .Call("Rgraphviz_doLayout", graph, as.integer(type), PACKAGE =
>> "Rgraphviz")
>>  2: layoutGraph(g)
>>  3: agopen(x, name = name, layout = TRUE, layoutType = y, attrs =
>> attrs,     nodeAttrs = nodeAttrs, edgeAttrs = edgeAttrs, subGList =
subGList,     recipEdges = recipEdges)
>>  4: .local(x, y, ...)
>>  5: plot(graphObj)
>>  6: plot(graphObj)
>>
>> Possible actions:
>> 1: abort (with core dump)
>> 2: normal R exit
>> 3: exit R without saving workspace
>> 4: exit R saving workspace
>> Selection:
>>
>> I cannot put here the sessionInfo() as i need to abort it, the
>>
>> the Graphviz version i have is 1.310.  I also tried to install and
configure 2.8 previously with no luck.
>>
>>
>> in  X11
>> when i load this library("Rgraphviz") in X11 interface it gives
following error message
>>
>> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>>         unable to load shared library '/Library/Frameworks/
>> R.framework/Resources/library/Rgraphviz/libs/i386/Rgraphviz.so':
>>   dlopen(/Library/Frameworks/R.framework/Resources/library/
>> Rgraphviz/libs/i386/Rgraphviz.so, 6): Symbol not found: _agfstnode
>>   Referenced from: /Library/Frameworks/R.framework/Resources/
>> library/Rgraphviz/libs/i386/Rgraphviz.so
>>   Expected in: dynamic lookup
>> Error: .onLoad failed in 'loadNamespace' for 'Rgraphviz'
>> Error: package/namespace load failed for 'Rgraphviz'
>>
>> the sessionInfo() here is
>>
>>> sessionInfo()
>> R version 2.4.1 (2006-12-18)
>> i386-apple-darwin8.8.1
>>
>> locale:
>> C
>>
>> attached base packages:
>> [1] "tools"     "stats"     "graphics"  "grDevices" "utils"
>> "datasets"
>> [7] "methods"   "base"
>>
>> other attached packages:
>> geneplotter    annotate     Biobase       graph
>>    "1.12.0"    "1.12.1"    "1.12.2"    "1.12.0"
>>
>> Any help in this regard is appreciated. I had simimar problem in the
past with Suse Linux we managed to solve it, and my Windows station is
working fine with Graphviz 2.8 and Rgraphviz
>>
>> only my mac system (intel tiger) is a bit of a problem. I manually
tried to install graphviz and Rgraphviz using the source files and
setting LD_LIBRARY_PATH and PKG_LIBRARY_PATH but in vain the only way
to install them together without errors is through a darwinport.
>>
>>
>> Regards,
>> Anand
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> Bioconductor mailing list
> Bioconductor at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/bioconductor
> Search the archives:
> http://news.gmane.org/gmane.science.biology.informatics.conductor
>


From tchiang at fhcrc.org  Tue Feb  6 23:30:12 2007
From: tchiang at fhcrc.org (Tony Chiang)
Date: Tue, 6 Feb 2007 22:30:12 +0000
Subject: [R-SIG-Mac] atlas-lib-i686.tar.gz
Message-ID: <52f663c40702061430t7a6e5f66j53609bb5824d94db@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070206/e1f16518/attachment.pl 

From horacio.samaniego at gmail.com  Wed Feb  7 09:46:12 2007
From: horacio.samaniego at gmail.com (Horacio Samaniego)
Date: Wed, 7 Feb 2007 01:46:12 -0700
Subject: [R-SIG-Mac] facing the bad move: how to retrieve old (sp) data
	after an upgrade...?
Message-ID: <C6669AA1-88DB-4D1C-9668-DA77ED7BAA18@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070207/9d0a16df/attachment.pl 

From vincent.philion at irda.qc.ca  Wed Feb  7 17:38:38 2007
From: vincent.philion at irda.qc.ca (Philion Vincent)
Date: Wed, 7 Feb 2007 11:38:38 -0500
Subject: [R-SIG-Mac] R source file index using OS X Tiger Spotlight
Message-ID: <B4223606-9404-4DDE-B40D-907B3E104A79@irda.qc.ca>

Hello, I recently noticed that "R" source file contents are not  
indexed in Spotlight.

Spotlight will find "Program.R", but not the contents.

I like to use Spotlight, so I thought it would be neat to use it to  
index my R program code.

I don't know if anyone is writing a "plugin" for Spotlight, but I can  
suggest the following "quickfix".

Any files with R extension = (eg Program.R) is recognized with a  
"com.apple.rez-source" UTI.

It seems that the contents of files with this UTI are not indexed by  
Spotlight.

With some googling, I found that it is possible to FORCE Spotlight to  
index a given UTI.

I decided to force Spotlight to consider "R" files as simple TEXT  
files. Not the best method, but it works. A "real" programmer could  
write a proper "plugin" for R files.

Based on this information:

http://earthlingsoft.net/ssp/blog/2005/06/pushing_spotlight

Here is how I successfully forced Spotlight to index R file contents:

1) Open the RichText.mdimporter Info.plist
2) Add "com.apple.rez-source" to the list of text file UTIs handled  
by Spotlight
3) Force Spotlight to reimport the R files with this command in  
Terminal =
mdimport -r /System/Library/Spotlight/RichText.mdimporter


-------------- next part --------------
A non-text attachment was scrubbed...
Name: Image 2.pdf
Type: application/pdf
Size: 400266 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070207/4d1023d0/attachment-0002.pdf 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Image 3.pdf
Type: application/pdf
Size: 344709 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070207/4d1023d0/attachment-0003.pdf 
-------------- next part --------------


I apologize if this topic is already addressed elsewhere.

I hope this is useful or at least inspiring for a real programmer!!!

Best regards,


Vincent Philion, M.Sc. agr.
IRDA
Laboratoire de production fruiti?re int?gr?e
335, Chemin des vingt-cinq Est
Saint-Bruno-de-Montarville
J3V 4P6
t?l?phone: 450-778-6522 poste 233
courriel: vincent.philion at irda.qc.ca





From geniaux at avignon.inra.fr  Tue Feb  6 18:32:27 2007
From: geniaux at avignon.inra.fr (Geniaux Ghislain)
Date: Tue, 06 Feb 2007 18:32:27 +0100
Subject: [R-SIG-Mac]  Problems installing RGDAL pakages
Message-ID: <C1EE7A3B.5E8B%geniaux@avignon.inra.fr>

Hi,
I want to install RGDAL on MacBookPro OS 10.4.8 with R 2.4.1 in order to use
R and GRASS 6.2

I succeed to install RGDAL 0.5.6 from source with the following command
line, (R su mode) :

install.packages('rgdal',
configure.args='--with-gdal-config=/Library/Frameworks/GDAL.framework/Progra
ms/gdal-config 
--with-proj-include=/Library/Frameworks/PROJ.framework/unix/include
-with-proj-lib=/Library/Frameworks/PROJ.framework/unix/lib',dependencies=TRU
E, type="source")

Compilation works but it's impossible to load the library. I've the
following message :

"
Error in dyn.load(x, as.logical(local), as.logical(now)) :
    impossible to load the shared library
'/Library/Frameworks/R.framework/Versions/2.4/Resources/library/rgdal/libs/i
386/rgdal.so':
  
dlopen(/Library/Frameworks/R.framework/Versions/2.4/Resources/library/rgdal/
libs/i386/rgdal.so, 6): Symbol not found: __ZN13OGRLineString8setPointEidd
  Referenced from: 
/Library/Frameworks/R.framework/Versions/2.4/Resources/library/rgdal/libs/i3
86/rgdal.so
  Expected in: dynamic lookup
Erreur : le chargement du package / espace de noms a ?chou? pour 'rgdal'
"

Any ideas ?

Thanks.
Ghislain


From w.northcott at unsw.edu.au  Wed Feb  7 23:40:01 2007
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Thu, 8 Feb 2007 09:40:01 +1100
Subject: [R-SIG-Mac] atlas-lib-i686.tar.gz
In-Reply-To: <mailman.17.1170846009.18836.r-sig-mac@stat.math.ethz.ch>
References: <mailman.17.1170846009.18836.r-sig-mac@stat.math.ethz.ch>
Message-ID: <D647C984-D38E-47C9-BE6F-FD1164E11125@unsw.edu.au>

On 07/02/2007, Tony Chiang wrote:
> I am trying to build R-devel from source, and have been reading the
> literature from the site http://r.research.att.com/ which states  
> that the
> ptATLAS libraries might be needed. I have tried to download the  
> libraries
> from the link on the site, but it is a dead link. Can anyone point  
> me to
> where I might be able to obtain these libraries? I have a new Intel  
> Mac, and
> I have not built R on it before.

For a few months after the first release of Intel Macs the Accelerate  
framework containing BLAS/LAPACK was not optimised.  This was done in  
the 10.4.8 update the MacOS X and there is now no benefit (and much  
pain) using ATLAS or other BLAS versions.  The configure script  
should find the Apple framework without trouble.

Bill Northcott


From tchiang at fhcrc.org  Thu Feb  8 20:46:16 2007
From: tchiang at fhcrc.org (Tony Chiang)
Date: Thu, 8 Feb 2007 19:46:16 +0000
Subject: [R-SIG-Mac] One more Rgraphviz and graphviz error
Message-ID: <52f663c40702081146w42dcdaf6k64d7d7af272a1dd7@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070208/afc95574/attachment.pl 

From sfalcon at fhcrc.org  Thu Feb  8 21:44:42 2007
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Thu, 08 Feb 2007 12:44:42 -0800
Subject: [R-SIG-Mac] One more Rgraphviz and graphviz error
In-Reply-To: <52f663c40702081146w42dcdaf6k64d7d7af272a1dd7@mail.gmail.com>
	(Tony Chiang's message of "Thu, 8 Feb 2007 19:46:16 +0000")
References: <52f663c40702081146w42dcdaf6k64d7d7af272a1dd7@mail.gmail.com>
Message-ID: <m2tzxwfkg5.fsf@ziti.local>

"Tony Chiang" <tchiang at fhcrc.org> writes:

> Hi all,
>
> There seems to be a whole lot of discussion on this topic...and after
> reading the previous post, I can see that this is something that is pretty
> non-trivial.
>
> So here is my not being able to install Rgraphviz problem:
>
> I have installed graphviz 2.8 from the dmg available at
> http://r.research.att.com/ as well as glib/gtk 1.2.10 yesterday, and have
> just build R-2.5 from source...so I am pretty sure that I have all the up to
> date versions of things. biocLite("Rgraphviz", type="source") is able to
> download and install the package, but I cannot seem to use the
> package:

If you have built R from source, then you will probably have the best
luck building graphviz from source as well to ensure that R and
graphviz use the same compilers.  Building graphviz from source may be
non-trivial as it probably requires various non-default devel
tools/libs.

So one thing to try is to build the latest graphviz 2.12 from source.

Or you can download and install the gcc that was (presumably) used to
build the graphviz 2.8 binary package and rebuild R with that.  I
_think_ that would get things going as well.

+ seth


From tchiang at fhcrc.org  Thu Feb  8 22:05:58 2007
From: tchiang at fhcrc.org (Tony Chiang)
Date: Thu, 8 Feb 2007 21:05:58 +0000
Subject: [R-SIG-Mac] One more Rgraphviz and graphviz error
In-Reply-To: <m2tzxwfkg5.fsf@ziti.local>
References: <52f663c40702081146w42dcdaf6k64d7d7af272a1dd7@mail.gmail.com>
	<m2tzxwfkg5.fsf@ziti.local>
Message-ID: <52f663c40702081305q3df368a4ua4c15c0c2dbdc734@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070208/cb63d38a/attachment.pl 

From tchiang at fhcrc.org  Thu Feb  8 22:41:52 2007
From: tchiang at fhcrc.org (Tony Chiang)
Date: Thu, 8 Feb 2007 21:41:52 +0000
Subject: [R-SIG-Mac] One more Rgraphviz and graphviz error
In-Reply-To: <m2tzxwfkg5.fsf@ziti.local>
References: <52f663c40702081146w42dcdaf6k64d7d7af272a1dd7@mail.gmail.com>
	<m2tzxwfkg5.fsf@ziti.local>
Message-ID: <52f663c40702081341t2c3b044duacd11702350f0526@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070208/3ed54c2f/attachment.pl 

From jashonder at yahoo.com  Sun Feb 11 00:25:48 2007
From: jashonder at yahoo.com (John Shonder)
Date: Sat, 10 Feb 2007 15:25:48 -0800 (PST)
Subject: [R-SIG-Mac] Assignment arrow
Message-ID: <340909.73236.qm@web51311.mail.yahoo.com>

To use R on my Mac, I had been running ESS in emacs
under X11. I found R.app, and much prefer it --
especially the quartz graphics -- but there's one
thing I miss about ESS: to get an assignment arrow
"<-" you just type shift underscore. In R.app, you
have to type the less than sign (shift-comma) followed
by the dash. Coming over from ESS, the extra keystroke
bothers me.

Is there an easier way to type an assignment arrow in
R.app? Some way to make a keyboard macro perhaps? I've
looked through the FAQ and can't find anything. I
appreciate any assistance.

John


 
____________________________________________________________________________________
Cheap talk?


From murdoch at stats.uwo.ca  Sun Feb 11 01:24:53 2007
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sat, 10 Feb 2007 19:24:53 -0500
Subject: [R-SIG-Mac] Assignment arrow
In-Reply-To: <340909.73236.qm@web51311.mail.yahoo.com>
References: <340909.73236.qm@web51311.mail.yahoo.com>
Message-ID: <45CE6255.10409@stats.uwo.ca>

On 2/10/2007 6:25 PM, John Shonder wrote:
> To use R on my Mac, I had been running ESS in emacs
> under X11. I found R.app, and much prefer it --
> especially the quartz graphics -- but there's one
> thing I miss about ESS: to get an assignment arrow
> "<-" you just type shift underscore. In R.app, you
> have to type the less than sign (shift-comma) followed
> by the dash. Coming over from ESS, the extra keystroke
> bothers me.
> 
> Is there an easier way to type an assignment arrow in
> R.app? Some way to make a keyboard macro perhaps? I've
> looked through the FAQ and can't find anything. I
> appreciate any assistance.

You could switch to using "=" instead of "<-", but as a non-ESS user, I 
think just typing "<-" ends up being pretty quick after you get used to it.

Duncan Murdoch


From dalfes at itu.edu.tr  Sun Feb 11 02:48:23 2007
From: dalfes at itu.edu.tr (=?UTF-8?B?TsO8emhldCBEYWxmZXM=?=)
Date: Sun, 11 Feb 2007 03:48:23 +0200
Subject: [R-SIG-Mac] An error I don't understand..
In-Reply-To: <mailman.83.1170150818.21949.r-sig-mac@stat.math.ethz.ch>
References: <mailman.83.1170150818.21949.r-sig-mac@stat.math.ethz.ch>
Message-ID: <45CE75E7.5020105@itu.edu.tr>

Hi,

I am new to R, and when I start R (on my MacBook Pro, 10.4.8), I get

2007-02-11 03:44:06.433 R[428] *** -[NSBundle load]: Error loading code 
/Users/dalfes/Library/InputManagers/iPLM/iPLM.bundle/Contents/MacOS/iPLM 
for bundle /Users/dalfes/Library/InputManagers/iPLM/iPLM.bundle, error code 
2 (link edit error code 0, error number 0 ())

in red!

Can someone tell me what's mssing on my system? Is it something bad, or can 
I live with it :)

Thanks,

N?zhet Dalfes
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dalfes.vcf
Type: text/x-vcard
Size: 372 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070211/b729ec91/attachment.vcf 

From dalfes at itu.edu.tr  Sun Feb 11 02:50:10 2007
From: dalfes at itu.edu.tr (=?UTF-8?B?TsO8emhldCBEYWxmZXM=?=)
Date: Sun, 11 Feb 2007 03:50:10 +0200
Subject: [R-SIG-Mac] An error messge I don't understand..
Message-ID: <45CE7652.5020703@itu.edu.tr>

Hi,

I am new to R, and when I start R (on my MacBook Pro, 10.4.8), I get

2007-02-11 03:44:06.433 R[428] *** -[NSBundle load]: Error loading code 
/Users/dalfes/Library/InputManagers/iPLM/iPLM.bundle/Contents/MacOS/iPLM 
for bundle /Users/dalfes/Library/InputManagers/iPLM/iPLM.bundle, error code 
2 (link edit error code 0, error number 0 ())

in red!

Can someone tell me what's mssing on my system? Is it something bad, or can 
I live with it :)

Thanks,

N?zhet Dalfes
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dalfes.vcf
Type: text/x-vcard
Size: 372 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070211/30dad49c/attachment.vcf 

From knussear at usgs.gov  Sun Feb 11 17:27:30 2007
From: knussear at usgs.gov (Ken Nussear)
Date: Sun, 11 Feb 2007 08:27:30 -0800
Subject: [R-SIG-Mac] R-SIG-Mac Digest, Vol 48, Issue 10
In-Reply-To: <mailman.11.1171191605.18751.r-sig-mac@stat.math.ethz.ch>
References: <mailman.11.1171191605.18751.r-sig-mac@stat.math.ethz.ch>
Message-ID: <088D8DF6-84D7-4FB0-84FF-E9357E65AA88@usgs.gov>

Have you tried just using the = sign?


Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

 > x = seq(1,10,1)
 > x
[1]  1  2  3  4  5  6  7  8  9 10
 >


Ken

--
Kenneth E. Nussear, Ph.D.
Research Herpetologist, USGS
(702) 564-4515  Fax  (702) 564-4600
knussear at usgs.gov


On Feb 11, 2007, at 3:00 AM, r-sig-mac-request at stat.math.ethz.ch wrote:

> Send R-SIG-Mac mailing list submissions to
> 	r-sig-mac at stat.math.ethz.ch
>
> To subscribe or unsubscribe via the World Wide Web, visit
> 	https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> or, via email, send a message with subject or body 'help' to
> 	r-sig-mac-request at stat.math.ethz.ch
>
> You can reach the person managing the list at
> 	r-sig-mac-owner at stat.math.ethz.ch
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of R-SIG-Mac digest..."
>
>
> Today's Topics:
>
>    1.  Assignment arrow (John Shonder)
>    2. Re:  Assignment arrow (Duncan Murdoch)
>    3.  An error I don't understand.. (N?zhet Dalfes)
>    4.  An error messge I don't understand.. (N?zhet Dalfes)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Sat, 10 Feb 2007 15:25:48 -0800 (PST)
> From: John Shonder <jashonder at yahoo.com>
> Subject: [R-SIG-Mac] Assignment arrow
> To: r-sig-mac at stat.math.ethz.ch
> Message-ID: <340909.73236.qm at web51311.mail.yahoo.com>
> Content-Type: text/plain; charset=iso-8859-1
>
> To use R on my Mac, I had been running ESS in emacs
> under X11. I found R.app, and much prefer it --
> especially the quartz graphics -- but there's one
> thing I miss about ESS: to get an assignment arrow
> "<-" you just type shift underscore. In R.app, you
> have to type the less than sign (shift-comma) followed
> by the dash. Coming over from ESS, the extra keystroke
> bothers me.
>
> Is there an easier way to type an assignment arrow in
> R.app? Some way to make a keyboard macro perhaps? I've
> looked through the FAQ and can't find anything. I
> appreciate any assistance.
>
> John
>
>
>
> ______________________________________________________________________ 
> ______________
> Cheap talk?
>
>
>
> ------------------------------
>
> Message: 2
> Date: Sat, 10 Feb 2007 19:24:53 -0500
> From: Duncan Murdoch <murdoch at stats.uwo.ca>
> Subject: Re: [R-SIG-Mac] Assignment arrow
> To: John Shonder <jashonder at yahoo.com>
> Cc: r-sig-mac at stat.math.ethz.ch
> Message-ID: <45CE6255.10409 at stats.uwo.ca>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> On 2/10/2007 6:25 PM, John Shonder wrote:
>> To use R on my Mac, I had been running ESS in emacs
>> under X11. I found R.app, and much prefer it --
>> especially the quartz graphics -- but there's one
>> thing I miss about ESS: to get an assignment arrow
>> "<-" you just type shift underscore. In R.app, you
>> have to type the less than sign (shift-comma) followed
>> by the dash. Coming over from ESS, the extra keystroke
>> bothers me.
>>
>> Is there an easier way to type an assignment arrow in
>> R.app? Some way to make a keyboard macro perhaps? I've
>> looked through the FAQ and can't find anything. I
>> appreciate any assistance.
>
> You could switch to using "=" instead of "<-", but as a non-ESS  
> user, I
> think just typing "<-" ends up being pretty quick after you get  
> used to it.
>
> Duncan Murdoch
>
>
>
> ------------------------------
>
> Message: 3
> Date: Sun, 11 Feb 2007 03:48:23 +0200
> From: N?zhet Dalfes <dalfes at itu.edu.tr>
> Subject: [R-SIG-Mac] An error I don't understand..
> To: r-sig-mac at stat.math.ethz.ch
> Message-ID: <45CE75E7.5020105 at itu.edu.tr>
> Content-Type: text/plain; charset="utf-8"
>
> Hi,
>
> I am new to R, and when I start R (on my MacBook Pro, 10.4.8), I get
>
> 2007-02-11 03:44:06.433 R[428] *** -[NSBundle load]: Error loading  
> code
> /Users/dalfes/Library/InputManagers/iPLM/iPLM.bundle/Contents/MacOS/ 
> iPLM
> for bundle /Users/dalfes/Library/InputManagers/iPLM/iPLM.bundle,  
> error code
> 2 (link edit error code 0, error number 0 ())
>
> in red!
>
> Can someone tell me what's mssing on my system? Is it something  
> bad, or can
> I live with it :)
>
> Thanks,
>
> N?zhet Dalfes
> -------------- next part --------------
> A non-text attachment was scrubbed...
> Name: dalfes.vcf
> Type: text/x-vcard
> Size: 372 bytes
> Desc: not available
> Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070211/ 
> b729ec91/attachment-0001.vcf
>
> ------------------------------
>
> Message: 4
> Date: Sun, 11 Feb 2007 03:50:10 +0200
> From: N?zhet Dalfes <dalfes at itu.edu.tr>
> Subject: [R-SIG-Mac] An error messge I don't understand..
> To: r-sig-mac at stat.math.ethz.ch
> Message-ID: <45CE7652.5020703 at itu.edu.tr>
> Content-Type: text/plain; charset="utf-8"
>
> Hi,
>
> I am new to R, and when I start R (on my MacBook Pro, 10.4.8), I get
>
> 2007-02-11 03:44:06.433 R[428] *** -[NSBundle load]: Error loading  
> code
> /Users/dalfes/Library/InputManagers/iPLM/iPLM.bundle/Contents/MacOS/ 
> iPLM
> for bundle /Users/dalfes/Library/InputManagers/iPLM/iPLM.bundle,  
> error code
> 2 (link edit error code 0, error number 0 ())
>
> in red!
>
> Can someone tell me what's mssing on my system? Is it something  
> bad, or can
> I live with it :)
>
> Thanks,
>
> N?zhet Dalfes
> -------------- next part --------------
> A non-text attachment was scrubbed...
> Name: dalfes.vcf
> Type: text/x-vcard
> Size: 372 bytes
> Desc: not available
> Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/ 
> 20070211/30dad49c/attachment-0001.vcf
>
> ------------------------------
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
> End of R-SIG-Mac Digest, Vol 48, Issue 10
> *****************************************


From ririzarr at jhsph.edu  Sun Feb 11 18:02:37 2007
From: ririzarr at jhsph.edu (Rafael Irizarry)
Date: Sun, 11 Feb 2007 12:02:37 -0500
Subject: [R-SIG-Mac] building R from source
Message-ID: <45CF4C2D.5000806@jhsph.edu>

Hi!

I need to build R from source on my intel macbook pro. i am wondering if 
there is a consensus on what gcc and fortan to use.
Ive read the FAQ and various posts but there does not seem to be a 
specific rec.

I am looking for a specific rec because sometime ago I successfully 
installed R by using the gcc and gfortran described here 
http://hpc.sourceforge.net/ but I think this caused problems later. 
After the install, I had various weird issues that  other macbook pro 
users i knew did not have. One of the problems was that ssh seg faulted 
after the 10.4.8. upgrade. The only difference I could find between me 
and others was the aforementioned install. After two days of trying to 
fix the seg fault I gave up and re-installed the operating system. ssh 
is working again after reproducing everything i did before except for 
the gcc/gfortran install.

Any recs will be greatly appreciated.

Best wishes,
Rafael


From murdoch at stats.uwo.ca  Sun Feb 11 19:09:11 2007
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sun, 11 Feb 2007 13:09:11 -0500
Subject: [R-SIG-Mac] building R from source
In-Reply-To: <45CF4C2D.5000806@jhsph.edu>
References: <45CF4C2D.5000806@jhsph.edu>
Message-ID: <45CF5BC7.8000408@stats.uwo.ca>

On 2/11/2007 12:02 PM, Rafael Irizarry wrote:
> Hi!
> 
> I need to build R from source on my intel macbook pro. i am wondering if 
> there is a consensus on what gcc and fortan to use.
> Ive read the FAQ and various posts but there does not seem to be a 
> specific rec.
> 
> I am looking for a specific rec because sometime ago I successfully 
> installed R by using the gcc and gfortran described here 
> http://hpc.sourceforge.net/ but I think this caused problems later. 
> After the install, I had various weird issues that  other macbook pro 
> users i knew did not have. One of the problems was that ssh seg faulted 
> after the 10.4.8. upgrade. The only difference I could find between me 
> and others was the aforementioned install. After two days of trying to 
> fix the seg fault I gave up and re-installed the operating system. ssh 
> is working again after reproducing everything i did before except for 
> the gcc/gfortran install.
> 
> Any recs will be greatly appreciated.

This page

http://r.research.att.com/

gives detailed recommendations.  They worked for me last year.

Duncan Murdoch


From stefano.iacus at unimi.it  Sun Feb 11 21:19:38 2007
From: stefano.iacus at unimi.it (stefano iacus)
Date: Sun, 11 Feb 2007 21:19:38 +0100
Subject: [R-SIG-Mac] building R from source
In-Reply-To: <45CF5BC7.8000408@stats.uwo.ca>
References: <45CF4C2D.5000806@jhsph.edu> <45CF5BC7.8000408@stats.uwo.ca>
Message-ID: <6B040B56-B10C-4EFD-AB68-6521E604354D@unimi.it>

My latest try is to use apple gcc which comes with latest Developer  
Tools and fortran from hpc.sourceforge.net

stefano

On 11/feb/07, at 19:09, Duncan Murdoch wrote:

> On 2/11/2007 12:02 PM, Rafael Irizarry wrote:
>> Hi!
>>
>> I need to build R from source on my intel macbook pro. i am  
>> wondering if
>> there is a consensus on what gcc and fortan to use.
>> Ive read the FAQ and various posts but there does not seem to be a
>> specific rec.
>>
>> I am looking for a specific rec because sometime ago I successfully
>> installed R by using the gcc and gfortran described here
>> http://hpc.sourceforge.net/ but I think this caused problems later.
>> After the install, I had various weird issues that  other macbook pro
>> users i knew did not have. One of the problems was that ssh seg  
>> faulted
>> after the 10.4.8. upgrade. The only difference I could find  
>> between me
>> and others was the aforementioned install. After two days of  
>> trying to
>> fix the seg fault I gave up and re-installed the operating system.  
>> ssh
>> is working again after reproducing everything i did before except for
>> the gcc/gfortran install.
>>
>> Any recs will be greatly appreciated.
>
> This page
>
> http://r.research.att.com/
>
> gives detailed recommendations.  They worked for me last year.
>
> Duncan Murdoch
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ririzarr at jhsph.edu  Tue Feb 13 02:57:33 2007
From: ririzarr at jhsph.edu (Rafael Irizarry)
Date: Mon, 12 Feb 2007 20:57:33 -0500
Subject: [R-SIG-Mac] building R from source
In-Reply-To: <6B040B56-B10C-4EFD-AB68-6521E604354D@unimi.it>
References: <45CF4C2D.5000806@jhsph.edu> <45CF5BC7.8000408@stats.uwo.ca>
	<6B040B56-B10C-4EFD-AB68-6521E604354D@unimi.it>
Message-ID: <45D11B0D.60203@jhsph.edu>

Stefano, This worked. Here is exactly what I did:

1) Upgraded Xcode tools to 2.4.1 from 
http://developer.apple.com/tools/download/

2) Installed the R 2.4.1 binaries from CRAN (i downloaded the dmg) and 
followed the default install.

3) I installed gfortan by downloading this 
http://prdownloads.sourceforge.net/hpc/gfortran-intel-bin.tar.gz?download
and typing this:
sudo tar -xvzf gfortran-intel-bin.tar.gz -C /
as described here:
http://hpc.sourceforge.net/.

4) Downloaded the R 2.4.1 tar.gz file, untared, made a dir to store the 
files, and used this configure and make:

./configure --prefix=/Users/ririzarr/src/R-2.4.1 --with-blas='-framework 
vecLib' CC=/usr/local/gcc4.0/bin/gcc F77=/usr/local/bin/gfortran

make CPPFLAGS=-DNEED_EXTERN_PC

R now works and so does ssh and everything else.

Thank again,
-r




stefano iacus wrote:
> My latest try is to use apple gcc which comes with latest Developer 
> Tools and fortran from hpc.sourceforge.net
> 
> stefano
> 
> On 11/feb/07, at 19:09, Duncan Murdoch wrote:
> 
>> On 2/11/2007 12:02 PM, Rafael Irizarry wrote:
>>> Hi!
>>>
>>> I need to build R from source on my intel macbook pro. i am wondering if
>>> there is a consensus on what gcc and fortan to use.
>>> Ive read the FAQ and various posts but there does not seem to be a
>>> specific rec.
>>>
>>> I am looking for a specific rec because sometime ago I successfully
>>> installed R by using the gcc and gfortran described here
>>> http://hpc.sourceforge.net/ but I think this caused problems later.
>>> After the install, I had various weird issues that  other macbook pro
>>> users i knew did not have. One of the problems was that ssh seg faulted
>>> after the 10.4.8. upgrade. The only difference I could find between me
>>> and others was the aforementioned install. After two days of trying to
>>> fix the seg fault I gave up and re-installed the operating system. ssh
>>> is working again after reproducing everything i did before except for
>>> the gcc/gfortran install.
>>>
>>> Any recs will be greatly appreciated.
>>
>> This page
>>
>> http://r.research.att.com/
>>
>> gives detailed recommendations.  They worked for me last year.
>>
>> Duncan Murdoch
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From w.northcott at unsw.edu.au  Wed Feb 14 04:39:15 2007
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Wed, 14 Feb 2007 14:39:15 +1100
Subject: [R-SIG-Mac] Error in gfortran packaged with R binaries
In-Reply-To: <mailman.19.1171364406.12345.r-sig-mac@stat.math.ethz.ch>
References: <mailman.19.1171364406.12345.r-sig-mac@stat.math.ethz.ch>
Message-ID: <03B70C45-FB56-41AA-B09B-F9BF089D2692@unsw.edu.au>

I am building R from source using Apple's C/C++ compilers from Xcode  
2.4.1 and the gfortran included in recent binary distributions.  The  
host is a Core Duo MacBook Pro.

During the build I get a lot of these:
/usr/local/gcc4.0/bin/gfortran -D__NO_MATH_INLINES -fPIC  -arch i386   
-c ../../../../src/extra/blas/cmplxblas.f -o cmplxblas.o
/var/tmp//ccbSWVl5.s:23289:indirect jmp without `*'
/var/tmp//ccbSWVl5.s:23304:indirect jmp without `*'

which seems to indicate errors in the assembler output by the fortran  
compiler.

This does not happen if I use a recent gfortran from  
hpc.sourceforge.net.  It does not happen with ppc targets using the R  
distributed compiler.  It DOES happen with an i386 target build on a  
ppc host.

Bill Northcott


From w.northcott at unsw.edu.au  Wed Feb 14 07:08:44 2007
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Wed, 14 Feb 2007 17:08:44 +1100
Subject: [R-SIG-Mac] Build error in gfortran compiler packaged in binary
In-Reply-To: <mailman.19.1171364406.12345.r-sig-mac@stat.math.ethz.ch>
References: <mailman.19.1171364406.12345.r-sig-mac@stat.math.ethz.ch>
Message-ID: <9C92D7A0-B1C8-46D9-AB15-D7A5CD39D2DE@unsw.edu.au>

I have been trying to build a ppc64 version of R from source using  
the gfortran compiler included in the CRAN binary distribution.

My build is failing thus:
make[5]: `Makedeps' is up to date.
Error in dyn.load(x, as.logical(local), as.logical(now)) :
         unable to load shared library '/Users/Shared/Public/R/ 
R-2.4.1/build-ppc64/library/tools/libs/ppc64/tools.so':
   dlopen(/Users/Shared/Public/R/R-2.4.1/build-ppc64/library/tools/ 
libs/ppc64/tools.so, 6): Symbol not found: ___mulsc3
   Referenced from: /usr/local/gcc4.0/lib/libgfortran.0.dylib
   Expected in: flat namespace
Execution halted

At this point libR.dylib, libRBlas.dylib etc have been built.

The missing symbol __mulsc3 is supplied by libgcc_s.1.dylib.

The following shows what seems to be the cause of the problem:

[PM-G5BN:R/R-2.4.1/build-ppc64] billn% otool64 -L -arch ppc64 /usr/ 
local/gcc4.0/lib/libgfortran.0.dylib
/usr/local/gcc4.0/lib/libgfortran.0.dylib:
         /usr/local/gcc4.0/lib/libgfortran.0.dylib (compatibility  
version 1.0.0, current version 1.0.0)
         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0,  
current version 88.1.5)
         /usr/lib/libmx.A.dylib (compatibility version 1.0.0, current  
version 92.0.0)
[PM-G5BN:R/R-2.4.1/build-ppc64] billn% otool -L -arch ppc /usr/local/ 
gcc4.0/lib/libgfortran.0.dylib
/usr/local/gcc4.0/lib/libgfortran.0.dylib:
         /usr/local/gcc4.0/lib/libgfortran.0.dylib (compatibility  
version 1.0.0, current version 1.0.0)
         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0,  
current version 88.1.5)
         /usr/local/gcc4.0/lib/libgcc_s.1.0.dylib (compatibility  
version 1.0.0, current version 1.0.0)
         /usr/lib/libmx.A.dylib (compatibility version 1.0.0, current  
version 92.0.0)


that is: within libgfortran.dylib the ppc (and i386) version is  
linked to libgcc_s but for some reason the ppc64 version is not.    
Possibly the compiler was built on an Intel Mac which did not have a  
ppc64 libgcc_s.

Cheers
Bill Northcott

PS  This confuses me completely.

The G5 machine on which I am working has distinct ppc and ppc64  
libraries (libgcc_s.1.dylib and libgcc_s_ppc64.1.dylib).  There seems  
to be second (?identical) versions libgcc_s.1.0.dylib and  
libgcc_s_ppc64.1.0.dylib.  The compiler in the R binary has only one  
library (libgcc_s.1.0.dylib) which is 3 way (i386, ppc, ppc64) fat.

The MacOSX10.4u SDK included in the developer tools has only libgcc_s. 
1.dylib which is 4 way fat and symlinked as libgcc_s_ppc64.1.dylib  
and libgcc_s_x86_64.1.dylib.  Both the installed OS and the SDK have  
libgcc_s.10.4.dylib and libgcc_s.10.5.dylib which are both 4 way  
fat!  My MacBook Pro seems to have the same arrangement installed as  
in the SDK.

If I build a recent Apple compiler from source I get an arrangement  
like the installed one.

Is this stuff documented somewhere?


From stefano.iacus at unimi.it  Wed Feb 14 10:19:13 2007
From: stefano.iacus at unimi.it (stefano iacus)
Date: Wed, 14 Feb 2007 10:19:13 +0100
Subject: [R-SIG-Mac] Error in gfortran packaged with R binaries
In-Reply-To: <03B70C45-FB56-41AA-B09B-F9BF089D2692@unsw.edu.au>
References: <mailman.19.1171364406.12345.r-sig-mac@stat.math.ethz.ch>
	<03B70C45-FB56-41AA-B09B-F9BF089D2692@unsw.edu.au>
Message-ID: <F6CC2D80-9BA5-46A9-BF4C-D685FF3AC8A4@unimi.it>

Bill,
it seems to me that Simon discourage to use fortran from (old) R  
binary and, indeed 2.4.1 boundle does not contain fortran compiler as  
far as I remember (I cannot check right now).
Also, gfortran from hpc.sourge* is the way to go.

Simon is actually in NZ so maybe we need some time to get some answer.
My current setup is Apple Gcc + gfrotran from hpc.*



On 14/feb/07, at 04:39, Bill Northcott wrote:

> I am building R from source using Apple's C/C++ compilers from Xcode
> 2.4.1 and the gfortran included in recent binary distributions.  The
> host is a Core Duo MacBook Pro.
>
> During the build I get a lot of these:
> /usr/local/gcc4.0/bin/gfortran -D__NO_MATH_INLINES -fPIC  -arch i386
> -c ../../../../src/extra/blas/cmplxblas.f -o cmplxblas.o
> /var/tmp//ccbSWVl5.s:23289:indirect jmp without `*'
> /var/tmp//ccbSWVl5.s:23304:indirect jmp without `*'
>
> which seems to indicate errors in the assembler output by the fortran
> compiler.
>
> This does not happen if I use a recent gfortran from
> hpc.sourceforge.net.  It does not happen with ppc targets using the R
> distributed compiler.  It DOES happen with an i386 target build on a
> ppc host.
>
> Bill Northcott
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From thatsanicehatyouhave at mac.com  Wed Feb 14 14:09:00 2007
From: thatsanicehatyouhave at mac.com (thatsanicehatyouhave at mac.com)
Date: Wed, 14 Feb 2007 13:09:00 +0000
Subject: [R-SIG-Mac] Building R GUI
Message-ID: <30760AFB-4CF2-4C46-A5D0-B4C4EB2DF146@mac.com>

Hi,

I am trying to run the R GUI from Xcode and am having a little  
problem with it. I have the current R distribution installed (R 2.4.1  
GUI 1.18 (4038)). I downloaded build 4045 of the Xocde project and am  
able to compile with no problem. R GUI runs, but the first time I  
open a quartz window it crashes.

It's dying in QuartzDevice.m on line 686:

[xd->DevView lockFocus];

What's happening is that xd is nil, the line 676 above is not  
returning a proper QuartzDesc:

QuartzDesc *xd = (QuartzDesc*)dd->deviceSpecific;

I don't see anything unusual on the console. Finally, I'm running  
Xcode 2.4 on OS X 10.4.8 on an Intel Mac mini.

Cheers for any help!

Demitri


From goedman at mac.com  Wed Feb 14 17:13:34 2007
From: goedman at mac.com (Rob J Goedman)
Date: Wed, 14 Feb 2007 08:13:34 -0800
Subject: [R-SIG-Mac] Building R GUI
In-Reply-To: <30760AFB-4CF2-4C46-A5D0-B4C4EB2DF146@mac.com>
References: <30760AFB-4CF2-4C46-A5D0-B4C4EB2DF146@mac.com>
Message-ID: <295E0FA9-2174-4439-9D10-571988700BE1@mac.com>

Hi Demitri,

You can't (easily) mix and match the CRAN version of R with Xcode  
right now.
You will have to build R from source using Apple's gcc etc.

And rebuild all packages you would like to use as well.

Rob


On Feb 14, 2007, at 5:09 AM, thatsanicehatyouhave at mac.com wrote:

> Hi,
>
> I am trying to run the R GUI from Xcode and am having a little
> problem with it. I have the current R distribution installed (R 2.4.1
> GUI 1.18 (4038)). I downloaded build 4045 of the Xocde project and am
> able to compile with no problem. R GUI runs, but the first time I
> open a quartz window it crashes.
>
> It's dying in QuartzDevice.m on line 686:
>
> [xd->DevView lockFocus];
>
> What's happening is that xd is nil, the line 676 above is not
> returning a proper QuartzDesc:
>
> QuartzDesc *xd = (QuartzDesc*)dd->deviceSpecific;
>
> I don't see anything unusual on the console. Finally, I'm running
> Xcode 2.4 on OS X 10.4.8 on an Intel Mac mini.
>
> Cheers for any help!
>
> Demitri
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From khansen at stat.Berkeley.EDU  Wed Feb 14 19:21:38 2007
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Wed, 14 Feb 2007 10:21:38 -0800
Subject: [R-SIG-Mac] Building R GUI
In-Reply-To: <295E0FA9-2174-4439-9D10-571988700BE1@mac.com>
References: <30760AFB-4CF2-4C46-A5D0-B4C4EB2DF146@mac.com>
	<295E0FA9-2174-4439-9D10-571988700BE1@mac.com>
Message-ID: <E9542001-96A4-4BA8-B77B-455F8BF6F57D@stat.berkeley.edu>

And (I think) use Xcode 2.4.1.

Kasper

On Feb 14, 2007, at 8:13 AM, Rob J Goedman wrote:

> Hi Demitri,
>
> You can't (easily) mix and match the CRAN version of R with Xcode
> right now.
> You will have to build R from source using Apple's gcc etc.
>
> And rebuild all packages you would like to use as well.
>
> Rob
>
>
> On Feb 14, 2007, at 5:09 AM, thatsanicehatyouhave at mac.com wrote:
>
>> Hi,
>>
>> I am trying to run the R GUI from Xcode and am having a little
>> problem with it. I have the current R distribution installed (R 2.4.1
>> GUI 1.18 (4038)). I downloaded build 4045 of the Xocde project and am
>> able to compile with no problem. R GUI runs, but the first time I
>> open a quartz window it crashes.
>>
>> It's dying in QuartzDevice.m on line 686:
>>
>> [xd->DevView lockFocus];
>>
>> What's happening is that xd is nil, the line 676 above is not
>> returning a proper QuartzDesc:
>>
>> QuartzDesc *xd = (QuartzDesc*)dd->deviceSpecific;
>>
>> I don't see anything unusual on the console. Finally, I'm running
>> Xcode 2.4 on OS X 10.4.8 on an Intel Mac mini.
>>
>> Cheers for any help!
>>
>> Demitri
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From w.northcott at unsw.edu.au  Wed Feb 14 23:05:12 2007
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Thu, 15 Feb 2007 09:05:12 +1100
Subject: [R-SIG-Mac] Error in gfortran packaged with R binaries
In-Reply-To: <F6CC2D80-9BA5-46A9-BF4C-D685FF3AC8A4@unimi.it>
References: <mailman.19.1171364406.12345.r-sig-mac@stat.math.ethz.ch>
	<03B70C45-FB56-41AA-B09B-F9BF089D2692@unsw.edu.au>
	<F6CC2D80-9BA5-46A9-BF4C-D685FF3AC8A4@unimi.it>
Message-ID: <F6256F13-D817-430A-B852-8D980E57CB8A@unsw.edu.au>

On 14/02/2007, at 8:19 PM, stefano iacus wrote:
> it seems to me that Simon discourage to use fortran from (old) R  
> binary and, indeed 2.4.1 boundle does not contain fortran compiler  
> as far as I remember (I cannot check right now).

It is still there in the binary I pulled off CRAN yesterday.

> Also, gfortran from hpc.sourge* is the way to go.

Is that what is used to build the CRAN binary?  If I use the hpc  
compiler, how do I get a ppc64 or x86_64 build?
>
> Simon is actually in NZ so maybe we need some time to get some answer.

I am just recovering from my own trip to NZ over Christmas - great  
fun, but I needed surgery for the knee damage after tramping the  
Routeburn.

Cheers
Bill


From simon.urbanek at r-project.org  Thu Feb 15 04:56:25 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 15 Feb 2007 16:56:25 +1300
Subject: [R-SIG-Mac] Error in gfortran packaged with R binaries
In-Reply-To: <F6256F13-D817-430A-B852-8D980E57CB8A@unsw.edu.au>
References: <mailman.19.1171364406.12345.r-sig-mac@stat.math.ethz.ch>
	<03B70C45-FB56-41AA-B09B-F9BF089D2692@unsw.edu.au>
	<F6CC2D80-9BA5-46A9-BF4C-D685FF3AC8A4@unimi.it>
	<F6256F13-D817-430A-B852-8D980E57CB8A@unsw.edu.au>
Message-ID: <F397A61D-3B9E-48ED-9EF4-F5D61F0448E3@r-project.org>

Bill,

this is just a quick note from down under ;). If you're building R- 
devel, I'm recommending latest Xcode (2.4.1 or higher) + HPC fortran.

For a joyful 64-bit gfortran experience you'll need Apple's gcc  
driver which I have provided (see my 64-bit Intel announcement e-mail  
on this list earlier - it has the full description, I can't test it  
here) and you also want to lipo usr/local/lib/x86_64/ 
libgfortran.?.?.?.dylib into usr/local/lib, because that's where it  
really belongs. Unfortunately HPC doesn't provide ppc64 target in the  
Intel gfortran which is a real pity, but we'll have to live with  
it... (for now)

Anyway, the above will allow you to do CC='gcc -arch x86_64'  
F77='gfortran -arch x86_64' FC=... etc. And in fact you can run  
CC='gcc -arch i386 -arch x86_64 -arch ppc -arch ppc64' CPP='gcc -E'  
for readline, png, Xorg and friends - great fun.

Cheers,
Simon


On Feb 15, 2007, at 11:05 AM, Bill Northcott wrote:

> On 14/02/2007, at 8:19 PM, stefano iacus wrote:
>> it seems to me that Simon discourage to use fortran from (old) R
>> binary and, indeed 2.4.1 boundle does not contain fortran compiler
>> as far as I remember (I cannot check right now).
>
> It is still there in the binary I pulled off CRAN yesterday.
>
>> Also, gfortran from hpc.sourge* is the way to go.
>
> Is that what is used to build the CRAN binary?  If I use the hpc
> compiler, how do I get a ppc64 or x86_64 build?
>>
>> Simon is actually in NZ so maybe we need some time to get some  
>> answer.
>
> I am just recovering from my own trip to NZ over Christmas - great
> fun, but I needed surgery for the knee damage after tramping the
> Routeburn.
>
> Cheers
> Bill
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From w.northcott at unsw.edu.au  Thu Feb 15 12:32:03 2007
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Thu, 15 Feb 2007 22:32:03 +1100
Subject: [R-SIG-Mac] Error in gfortran packaged with R binaries
In-Reply-To: <F397A61D-3B9E-48ED-9EF4-F5D61F0448E3@r-project.org>
References: <mailman.19.1171364406.12345.r-sig-mac@stat.math.ethz.ch>
	<03B70C45-FB56-41AA-B09B-F9BF089D2692@unsw.edu.au>
	<F6CC2D80-9BA5-46A9-BF4C-D685FF3AC8A4@unimi.it>
	<F6256F13-D817-430A-B852-8D980E57CB8A@unsw.edu.au>
	<F397A61D-3B9E-48ED-9EF4-F5D61F0448E3@r-project.org>
Message-ID: <F37383B4-6837-4576-ADC6-D8A0766DD0B0@unsw.edu.au>

On 15/02/2007, at 2:56 PM, Simon Urbanek wrote:
Thanks for the response.

> this is just a quick note from down under ;). If you're building R- 
> devel, I'm recommending latest Xcode (2.4.1 or higher) + HPC fortran.

That is what I am now trying.
>
> For a joyful 64-bit gfortran experience you'll need Apple's gcc  
> driver which I have provided (see my 64-bit Intel announcement e- 
> mail on this list earlier - it has the full description, I can't  
> test it here) and you also want to lipo usr/local/lib/x86_64/ 
> libgfortran.?.?.?.dylib into usr/local/lib, because that's where it  
> really belongs.

I am trying to build a ppc64 version.  I don't have a Core 2 Duo Mac :-(

> Unfortunately HPC doesn't provide ppc64 target in the Intel  
> gfortran which is a real pity, but we'll have to live with it...  
> (for now)

It seems to have all the bits and will build a fortran hello world in  
ppc64 using -m64.   However, the libraries are in /usr/local/lib/ 
ppc64 which seems to confuse the configure script and causes a  
failure in the attempt to link C and Fortran code.  I will try to  
lipo the ppc64 libraries into the ppc ones in /usr/local/lib.  Is  
that what you meant?

Bill


From thatsanicehatyouhave at mac.com  Thu Feb 15 14:03:57 2007
From: thatsanicehatyouhave at mac.com (thatsanicehatyouhave at mac.com)
Date: Thu, 15 Feb 2007 13:03:57 +0000
Subject: [R-SIG-Mac] Building R GUI
Message-ID: <FE8F8DB0-B15F-469D-A6EA-2CFBC125F1DD@mac.com>

Hi Guys,

Thanks for the tips. I downloaded the R source and built it directly  
(using the HPC gfortran as recently discussed). I had to add -I/sw/ 
include for the system to find /sw/include/libintl.h, but otherwise  
all was fine.

I upgraded to Xcode 2.4.1 - don't know how I missed that.

After cleaning the project, I removed /Library/R.framework from the  
project and added (via absolute path) my newly built R.framework...  
but I still get the same error. Am I missing something else I need to  
change?

Thanks for all the help. There's a bug in the GUI that I'm dying to  
track down and fix once and for all. :)

Cheers,

Demitri


From simon.urbanek at r-project.org  Thu Feb 15 21:36:48 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 16 Feb 2007 09:36:48 +1300
Subject: [R-SIG-Mac] Error in gfortran packaged with R binaries
In-Reply-To: <F37383B4-6837-4576-ADC6-D8A0766DD0B0@unsw.edu.au>
References: <mailman.19.1171364406.12345.r-sig-mac@stat.math.ethz.ch>
	<03B70C45-FB56-41AA-B09B-F9BF089D2692@unsw.edu.au>
	<F6CC2D80-9BA5-46A9-BF4C-D685FF3AC8A4@unimi.it>
	<F6256F13-D817-430A-B852-8D980E57CB8A@unsw.edu.au>
	<F397A61D-3B9E-48ED-9EF4-F5D61F0448E3@r-project.org>
	<F37383B4-6837-4576-ADC6-D8A0766DD0B0@unsw.edu.au>
Message-ID: <61BC1E48-4EAB-4FB4-8DC2-B1E4F326A983@r-project.org>


On Feb 16, 2007, at 12:32 AM, Bill Northcott wrote:

> On 15/02/2007, at 2:56 PM, Simon Urbanek wrote:
> Thanks for the response.
>
>> this is just a quick note from down under ;). If you're building R- 
>> devel, I'm recommending latest Xcode (2.4.1 or higher) + HPC fortran.
>
> That is what I am now trying.
>>
>> For a joyful 64-bit gfortran experience you'll need Apple's gcc  
>> driver which I have provided (see my 64-bit Intel announcement e- 
>> mail on this list earlier - it has the full description, I can't  
>> test it here) and you also want to lipo usr/local/lib/x86_64/ 
>> libgfortran.?.?.?.dylib into usr/local/lib, because that's where  
>> it really belongs.
>
> I am trying to build a ppc64 version.  I don't have a Core 2 Duo  
> Mac :-(
>

Ah, ok, but the same applies - get the Apple gfortran driver (the one  
at r.research.att.com is universal supporting all 4 archs) and lipo  
libgfortran down.


>> Unfortunately HPC doesn't provide ppc64 target in the Intel  
>> gfortran which is a real pity, but we'll have to live with it...  
>> (for now)
>
> It seems to have all the bits and will build a fortran hello world  
> in ppc64 using -m64.   However, the libraries are in /usr/local/lib/ 
> ppc64 which seems to confuse the configure script and causes a  
> failure in the attempt to link C and Fortran code.  I will try to  
> lipo the ppc64 libraries into the ppc ones in /usr/local/lib.  Is  
> that what you meant?
>

Yes, indeed.

Cheers,
Simon


From vincent.philion at irda.qc.ca  Thu Feb 15 20:06:32 2007
From: vincent.philion at irda.qc.ca (Philion Vincent)
Date: Thu, 15 Feb 2007 14:06:32 -0500
Subject: [R-SIG-Mac] R source file Spotlight plugin for file indexing under
	Mac OS X Tiger
Message-ID: <21E3CDE0-F3CB-4A3C-B789-19A74182E132@irda.qc.ca>

Hello to all, very shortly after my post, I received a fully  
functional plugin that was developed by Carlos Ungil which is based  
on a LISP source code plugin for Spotlight originally written by John  
Wiseman.

With this new plugin, "R" source file contents are now perfectly  
indexed in Spotlight.

Spotlight will find "Program.R" file contents based on functions or  
any text in the R file.
Note that files with R extension = (eg Program.R) are recognized with  
a "com.apple.rez-source" UTI, so the programmer made sure his plugin  
would not interfere with the Apple UTI.

The file can be downloaded from:

http://ungil.com/R-Metadata-Importer.zip

1) Copy the R Metadata Importer.mdimporter file into the /Library/ 
Spotlight folder
2) Force Spotlight to reimport (index) the R files with this command  
in Terminal =
mdimport -r /Library/Spotlight/R\ Metadata\ Importer.mdimporter

I tested this on my Mac and it works great!

This is a very useful and fun contribution to "R" for Mac!

I hope this gets integrated in the install package so that all "Mac"  
R users can benefit from it!

Thank you!

Best regards,



Vincent Philion, M.Sc. agr.
IRDA
Laboratoire de production fruiti?re int?gr?e
335, Chemin des vingt-cinq Est
Saint-Bruno-de-Montarville
J3V 4P6
t?l?phone: 450-778-6522 poste 233
courriel: vincent.philion at irda.qc.ca


From deleeuw at stat.ucla.edu  Thu Feb 15 23:01:42 2007
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Thu, 15 Feb 2007 14:01:42 -0800
Subject: [R-SIG-Mac] R source file Spotlight plugin for file indexing
	under Mac OS X Tiger
In-Reply-To: <21E3CDE0-F3CB-4A3C-B789-19A74182E132@irda.qc.ca>
References: <21E3CDE0-F3CB-4A3C-B789-19A74182E132@irda.qc.ca>
Message-ID: <E811B5B1-5DBC-4A80-8A82-8AAD9B510D5E@stat.ucla.edu>

To make sure you have installed the plugin properly
say

mdimport -d1 foo.R

where foo.R is a file with R code. The -d1 flag
will tell you which plugin is used.

==========================================================
Jan de Leeuw, 11667 Steinhoff Rd, Frazier Park, CA 93225
home 661-245-1725 skype 661-347-0667 global 254-381-4905
.mac: jdeleeuw +++  aim: deleeuwjan +++ skype: j_deleeuw
==========================================================
                 Many nights on the road
        and not dead yet ---
                the end of autumn.       (Basho 1644-1694)


From simon.urbanek at r-project.org  Fri Feb 16 04:21:19 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 16 Feb 2007 16:21:19 +1300
Subject: [R-SIG-Mac] Building R GUI
In-Reply-To: <30760AFB-4CF2-4C46-A5D0-B4C4EB2DF146@mac.com>
References: <30760AFB-4CF2-4C46-A5D0-B4C4EB2DF146@mac.com>
Message-ID: <FD3FB1AB-BDF9-495C-B58B-49598245F7C4@r-project.org>


On Feb 15, 2007, at 2:09 AM, thatsanicehatyouhave at mac.com wrote:

> Hi,
>
> I am trying to run the R GUI from Xcode and am having a little
> problem with it. I have the current R distribution installed (R 2.4.1
> GUI 1.18 (4038)). I downloaded build 4045 of the Xocde project and am
> able to compile with no problem. R GUI runs, but the first time I
> open a quartz window it crashes.
>

This is a very strong indicator of a compiler mismatch. Make sure  
your R and the GUI are compiled with the same compiler. For example  
CRAN released R 2.4.1+ R.app compiled using Xcode will crash.


> It's dying in QuartzDevice.m on line 686:
>
> [xd->DevView lockFocus];
>
> What's happening is that xd is nil, the line 676 above is not
> returning a proper QuartzDesc:
>
> QuartzDesc *xd = (QuartzDesc*)dd->deviceSpecific;
>
> I don't see anything unusual on the console. Finally, I'm running
> Xcode 2.4 on OS X 10.4.8 on an Intel Mac mini.
>
> Cheers for any help!
>
> Demitri
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From thatsanicehatyouhave at mac.com  Fri Feb 16 14:47:24 2007
From: thatsanicehatyouhave at mac.com (Demitri Muna)
Date: Fri, 16 Feb 2007 13:47:24 +0000
Subject: [R-SIG-Mac] Building R GUI
In-Reply-To: <FD3FB1AB-BDF9-495C-B58B-49598245F7C4@r-project.org>
References: <30760AFB-4CF2-4C46-A5D0-B4C4EB2DF146@mac.com>
	<FD3FB1AB-BDF9-495C-B58B-49598245F7C4@r-project.org>
Message-ID: <3908C0FA-8938-4B89-A99A-7373B0523EF0@mac.com>


On 16 Feb 2007, at 03:21, Simon Urbanek wrote:

> This is a very strong indicator of a compiler mismatch. Make sure  
> your R and the GUI are compiled with the same compiler. For example  
> CRAN released R 2.4.1+ R.app compiled using Xcode will crash.


That was exactly the problem. Cheers for that.

Demitri


From thatsanicehatyouhave at mac.com  Fri Feb 16 18:28:07 2007
From: thatsanicehatyouhave at mac.com (thatsanicehatyouhave at mac.com)
Date: Fri, 16 Feb 2007 17:28:07 +0000
Subject: [R-SIG-Mac] R GUI copy/save PDF drawing bug
Message-ID: <97442B10-AF1A-4B24-B909-EC4F3F3A330B@mac.com>

Hello,

I have been going through the R GUI code trying to fix a specific  
bug. I reported this a while ago and tried to fix it then but with no  
luck:

https://stat.ethz.ch/pipermail/r-sig-mac/2006-March/002723.html

I've had another stab at it, and this is what I think is going on.  
There is an NSTimer that fires every 0.5 s that calls showWorkingDir:  
in RController.m. My guess is that when copy: is called in RQuartz.m  
and the operation takes more than 0.5 s that the working directory  
text field (WDirView) is being drawn on that view since the focus is  
locked onto it. This depends on the relative positions and sizes of  
the windows as well, which makes sense with the relative coordinate  
systems.

You'll much more likely to see this on plots with a large amount of  
data since they take more time to draw (relatively). This is very  
typical for me so I see the problem all the time.

Here's my solution:

R.Controller.h

add instance:
NSMutableString *currentWorkingDirectory;

RController.m

in init add:
currentWorkingDirectory = [[NSMutableString string] retain];

Replace showWorkingDir with:

- (IBAction) showWorkingDir:(id)sender
{
	NSString *wd = [[NSFileManager defaultManager] currentDirectoryPath];
	if (!wd) wd = NLS(@"<deleted>");
	if (![currentWorkingDirectory isEqualToString:wd]) {
		[WDirView setStringValue: [wd stringByAbbreviatingWithTildeInPath]];
		[currentWorkingDirectory	 setString:wd];
	}
}

...and then to clean up, in dealloc add:
[currentWorkingDirectory release];

Note that it is unnecessary to call setEditable:. This is only used  
to make the text field editable by the user which is never the case.

This function only attempts to update the view if the current  
directory has actually changed which will never happen in the middle  
of a copy/paste/save operation. Well, I suppose it will if the  
working directory is somehow deleted while someone copies or saves,  
but I'm willing to live with that.

Finally, is the timer in place only to see if the folder has been  
removed from underneath R? If so, it might be cleaner to set  
something up to notify us when a particular directory (e.g. the  
current working directory) has been removed. There is a class called  
DRFileNotificationSubscription described here that does exactly that.

http://www.cocoadev.com/index.pl?FileSystemNotifications

If you'd like, I can code it up and test it, but I wanted to ask if  
there was another purpose for the timer before spending the time on it.

Cheers,

Demitri


From stefano.iacus at unimi.it  Fri Feb 16 21:45:40 2007
From: stefano.iacus at unimi.it (stefano iacus)
Date: Fri, 16 Feb 2007 21:45:40 +0100
Subject: [R-SIG-Mac] R GUI copy/save PDF drawing bug
In-Reply-To: <97442B10-AF1A-4B24-B909-EC4F3F3A330B@mac.com>
References: <97442B10-AF1A-4B24-B909-EC4F3F3A330B@mac.com>
Message-ID: <E1851874-B36F-40F7-8D02-07754DE8F6D0@unimi.it>

That timer was set just to show current working directory.
WD can be changed by setwd() or via R.app menus or during/by the  
execution of a script.
If you have some code  which avoids timers, please provide it.
I'm not sure about the class you suggest to use though.

stefano

On 16/feb/07, at 18:28, thatsanicehatyouhave at mac.com wrote:

> Hello,
>
> I have been going through the R GUI code trying to fix a specific
> bug. I reported this a while ago and tried to fix it then but with no
> luck:
>
> https://stat.ethz.ch/pipermail/r-sig-mac/2006-March/002723.html
>
> I've had another stab at it, and this is what I think is going on.
> There is an NSTimer that fires every 0.5 s that calls showWorkingDir:
> in RController.m. My guess is that when copy: is called in RQuartz.m
> and the operation takes more than 0.5 s that the working directory
> text field (WDirView) is being drawn on that view since the focus is
> locked onto it. This depends on the relative positions and sizes of
> the windows as well, which makes sense with the relative coordinate
> systems.
>
> You'll much more likely to see this on plots with a large amount of
> data since they take more time to draw (relatively). This is very
> typical for me so I see the problem all the time.
>
> Here's my solution:
>
> R.Controller.h
>
> add instance:
> NSMutableString *currentWorkingDirectory;
>
> RController.m
>
> in init add:
> currentWorkingDirectory = [[NSMutableString string] retain];
>
> Replace showWorkingDir with:
>
> - (IBAction) showWorkingDir:(id)sender
> {
> 	NSString *wd = [[NSFileManager defaultManager] currentDirectoryPath];
> 	if (!wd) wd = NLS(@"<deleted>");
> 	if (![currentWorkingDirectory isEqualToString:wd]) {
> 		[WDirView setStringValue: [wd stringByAbbreviatingWithTildeInPath]];
> 		[currentWorkingDirectory	 setString:wd];
> 	}
> }
>
> ...and then to clean up, in dealloc add:
> [currentWorkingDirectory release];
>
> Note that it is unnecessary to call setEditable:. This is only used
> to make the text field editable by the user which is never the case.
>
> This function only attempts to update the view if the current
> directory has actually changed which will never happen in the middle
> of a copy/paste/save operation. Well, I suppose it will if the
> working directory is somehow deleted while someone copies or saves,
> but I'm willing to live with that.
>
> Finally, is the timer in place only to see if the folder has been
> removed from underneath R? If so, it might be cleaner to set
> something up to notify us when a particular directory (e.g. the
> current working directory) has been removed. There is a class called
> DRFileNotificationSubscription described here that does exactly that.
>
> http://www.cocoadev.com/index.pl?FileSystemNotifications
>
> If you'd like, I can code it up and test it, but I wanted to ask if
> there was another purpose for the timer before spending the time on  
> it.
>
> Cheers,
>
> Demitri
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From thatsanicehatyouhave at mac.com  Fri Feb 16 22:24:19 2007
From: thatsanicehatyouhave at mac.com (Demitri Muna)
Date: Fri, 16 Feb 2007 21:24:19 +0000
Subject: [R-SIG-Mac] R GUI copy/save PDF drawing bug
In-Reply-To: <E1851874-B36F-40F7-8D02-07754DE8F6D0@unimi.it>
References: <97442B10-AF1A-4B24-B909-EC4F3F3A330B@mac.com>
	<E1851874-B36F-40F7-8D02-07754DE8F6D0@unimi.it>
Message-ID: <35C62853-EA88-4AC7-B6C1-36EDEEC42A04@mac.com>


On 16 Feb 2007, at 20:45, stefano iacus wrote:

> That timer was set just to show current working directory.
> WD can be changed by setwd() or via R.app menus or during/by the  
> execution of a script.

Right - that makes sense. Then no, I don't know of any way to avoid  
the use of a timer. But I'll think about it...

Demitri


From simon.urbanek at r-project.org  Mon Feb 19 03:50:29 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 19 Feb 2007 15:50:29 +1300
Subject: [R-SIG-Mac] R GUI copy/save PDF drawing bug
In-Reply-To: <35C62853-EA88-4AC7-B6C1-36EDEEC42A04@mac.com>
References: <97442B10-AF1A-4B24-B909-EC4F3F3A330B@mac.com>
	<E1851874-B36F-40F7-8D02-07754DE8F6D0@unimi.it>
	<35C62853-EA88-4AC7-B6C1-36EDEEC42A04@mac.com>
Message-ID: <D024F983-0909-4900-9852-8A05CBFDF177@r-project.org>

Actually, that one particular thing is easy to fix - just don't  
update the view if the wd didn't change. I'll make the fix it once I  
get back (in a few days).

However, I'm sure it's not the only problem with the PDF drawing,  
because quartz.save sometimes exhibits the same bug (you notice it  
because the console doesn't update after hitting <Enter>), but  
executing it a second time on the same plot results in the desired  
(uncorrupted) PDF - and that is deterministic.

Cheers,
Simon


On Feb 17, 2007, at 10:24 AM, Demitri Muna wrote:

>
> On 16 Feb 2007, at 20:45, stefano iacus wrote:
>
>> That timer was set just to show current working directory.
>> WD can be changed by setwd() or via R.app menus or during/by the
>> execution of a script.
>
> Right - that makes sense. Then no, I don't know of any way to avoid
> the use of a timer. But I'll think about it...
>
> Demitri
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From michael.hoehle at gmail.com  Mon Feb 19 23:13:07 2007
From: michael.hoehle at gmail.com (=?ISO-8859-1?Q?Michael_H=F6hle?=)
Date: Mon, 19 Feb 2007 23:13:07 +0100
Subject: [R-SIG-Mac] compiling the package timereg on mac os x
Message-ID: <84fc09fb0702191413n325bf86dy328ef3d620c8e0ae@mail.gmail.com>

Dear R-SIG-Mac,

today I spent some time trying to compile the Semi-parametric
Timevarying Regression R-package ?timereg" (by Thomas Scheike) on Mac
OS X. The package is not on CRAN, but available from
http://staff.pubhealth.ku.dk/~ts/timereg.html

Maybe helpful for someone I posted on http://tinyurl.com/26gqmx  what
I did to get it working.

Best regards,

Michael


From zhujack at mail.nih.gov  Tue Feb 20 00:22:53 2007
From: zhujack at mail.nih.gov (Jack Zhu)
Date: Mon, 19 Feb 2007 18:22:53 -0500
Subject: [R-SIG-Mac] unable to load shared library  grDevices.so
Message-ID: <C1FF9B7D.3E1%zhujack@mail.nih.gov>

Hi all,

I tired to run R shell command in an web PHP application.  I always get an
error. I can run the same R command in terminal with no problem:

$ R --vanilla -q < R.cmd 1>R.output 2>R.log &

My system: Intel Dual-core Xeon wit Mac OS X 10.4.8
My R: 2.4.1
XAMPP is used.

This is  the error in R.log file:

**********************
Error in dyn.load(x, as.logical(local), as.logical(now)) :
    unable to load shared library
'/Library/Frameworks/R.framework/Resources/library/grDevices/libs/i386/grDev
ices.so':
  
dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/libs/i386
/grDevices.so, 6): Symbol not found: __cg_jpeg_save_markers
  Referenced from: 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/ImageIO.framework/Versions/A/ImageIO
  Expected in: /Applications/xampp/xamppfiles/lib/libJPEG.dylib
Loading required package: grDevices
Error in dyn.load(x, as.logical(local), as.logical(now)) :
    unable to load shared library
'/Library/Frameworks/R.framework/Resources/library/grDevices/libs/i386/grDev
ices.so':
  
dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/libs/i386
/grDevices.so, 6): Symbol not found: __cg_jpeg_save_markers
  Referenced from: 
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/ImageIO.framework/Versions/A/ImageIO
  Expected in: /Applications/xampp/xamppfiles/lib/libJPEG.dylib
In addition: Warning message:
package grDevices in options("defaultPackages") was not found
Error: package 'grDevices' could not be loaded
Execution halted
*********************

This is the PHP code:

***********************

<?php
    
    

     $rpath = '/Applications/xampp/htdocs/test/';


    $R_output = intval(shell_exec("R --vanilla -q < {$rpath}R.cmd
1>{$rpath}R.output 2>{$rpath}R.log & echo $!"));


    echo "<pre>$R_output</pre>";



?>  

*************************

Your help will be greatly appreciated.

Jack Zhu

E-mail: zhujack at mail.nih.gov


From r.hankin at noc.soton.ac.uk  Thu Feb 22 11:25:46 2007
From: r.hankin at noc.soton.ac.uk (Robin Hankin)
Date: Thu, 22 Feb 2007 10:25:46 +0000
Subject: [R-SIG-Mac] eigen() with complex matrices
Message-ID: <46EC6ACD-003E-4455-83E4-30B39026A7D8@soc.soton.ac.uk>

Hello

I just now get a bus error with R-2.4.1[Universal binary downloaded
from CRAN just now], and also with (recently compiled) R-2.5.0.
I have Xcode 2.4.1.



Under R-2.4.1:


octopus:~/scratch% R --vanilla

R version 2.4.1 (2006-12-18)
Copyright (C) 2006 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

[snip]

'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.


 >
 > A <- matrix(c(1,0.2+0.1i,0.2-0.1i,1),2,2)
 > eigen(A)

*** caught bus error ***
address 0x1, cause 'invalid alignment'

Traceback:
1: .Call("La_rs_cmplx", x, only.values, PACKAGE = "base")
2: eigen(A)

Possible actions:
1: abort (with core dump)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace
Selection:



the same thing happens with R-2.5.0

Anyone?







--
Robin Hankin
Uncertainty Analyst
National Oceanography Centre, Southampton
European Way, Southampton SO14 3ZH, UK
  tel  023-8059-7743


From tchiang at fhcrc.org  Thu Feb 22 13:31:36 2007
From: tchiang at fhcrc.org (Tony Chiang)
Date: Thu, 22 Feb 2007 12:31:36 +0000
Subject: [R-SIG-Mac] eigen() with complex matrices
In-Reply-To: <46EC6ACD-003E-4455-83E4-30B39026A7D8@soc.soton.ac.uk>
References: <46EC6ACD-003E-4455-83E4-30B39026A7D8@soc.soton.ac.uk>
Message-ID: <52f663c40702220431s6b2029e5vb69dd49037385bd5@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070222/0047b86e/attachment.pl 

From lists at revelle.net  Thu Feb 22 15:47:22 2007
From: lists at revelle.net (William Revelle)
Date: Thu, 22 Feb 2007 08:47:22 -0600
Subject: [R-SIG-Mac] eigen() with complex matrices
In-Reply-To: <52f663c40702220431s6b2029e5vb69dd49037385bd5@mail.gmail.com>
References: <46EC6ACD-003E-4455-83E4-30B39026A7D8@soc.soton.ac.uk>
	<52f663c40702220431s6b2029e5vb69dd49037385bd5@mail.gmail.com>
Message-ID: <p0624081ac2035d0928e7@[165.124.166.7]>

Tony and Robin,
   On a macbook pro with R-2.4.1  with R installed from binaries, I do 
not have the problem.
Bill

At 12:31 PM +0000 2/22/07, Tony Chiang wrote:
>Hi Robin,
>
>I have 2.5 (pretty recent) installed my my mac-mini and I don't get the
>error. I do not run R-2.4.1 so I cannot see if I can reproduce your error. I
>build R from source rather than using the universal binary though, so try
>that and see if that helps. Can anyone with R-2.4.1 reproduce this error?
>
>  > A <- matrix(c(1,0.2+0.1i,0.2-0.1i,1),2,2)
>>  A
>          [,1]     [,2]
>[1,] 1.0+0.0i 0.2-0.1i
>[2,] 0.2+0.1i 1.0+0.0i
>  > eigen(A)
>$values
>[1] 1.2236068 0.7763932
>
>$vectors
>                       [,1]                  [,2]
>[1,] -0.7071068+0.0000000i -0.7071068+0.0000000i
>[2,] -0.6324555-0.3162278i  0.6324555+0.3162278i
>
>>  sessionInfo()
>R version 2.5.0 Under development (unstable) (2007-02-08 r40671)
>i386-apple-darwin8.8.1
>
>locale:
>C
>
>attached base packages:
>[1] "stats"     "graphics"  "grDevices" "utils"     "datasets"  "methods"
>[7] "base"
>>
>
>Cheers,
>--Tony
>
>On 2/22/07, Robin Hankin <r.hankin at noc.soton.ac.uk> wrote:
>>
>>  Hello
>>
>>  I just now get a bus error with R-2.4.1[Universal binary downloaded
>>  from CRAN just now], and also with (recently compiled) R-2.5.0.
>>  I have Xcode 2.4.1.
>>
>>
>>
>>  Under R-2.4.1:
>>
>>
>>  octopus:~/scratch% R --vanilla
>>
>>  R version 2.4.1 (2006-12-18)
>>  Copyright (C) 2006 The R Foundation for Statistical Computing
>>  ISBN 3-900051-07-0
>>
>>  [snip]
>>
>>  'help.start()' for an HTML browser interface to help.
>>  Type 'q()' to quit R.
>>
>>
>>  >
>>  > A <- matrix(c(1,0.2+0.1i,0.2-0.1i,1),2,2)
>>  > eigen(A)
>>
>>  *** caught bus error ***
>>  address 0x1, cause 'invalid alignment'
>>
>>  Traceback:
>>  1: .Call("La_rs_cmplx", x, only.values, PACKAGE = "base")
>>  2: eigen(A)
>>
>>  Possible actions:
>>  1: abort (with core dump)
>>  2: normal R exit
>>  3: exit R without saving workspace
>>  4: exit R saving workspace
>>  Selection:
>  >
>>
>>
>>  the same thing happens with R-2.5.0
>>
>>  Anyone?
>>
>>
>>
>>
>>
>>
>>
>>  --
>>  Robin Hankin
>>  Uncertainty Analyst
>>  National Oceanography Centre, Southampton
>>  European Way, Southampton SO14 3ZH, UK
>>    tel  023-8059-7743
>>
>>  _______________________________________________
>>  R-SIG-Mac mailing list
>>  R-SIG-Mac at stat.math.ethz.ch
>>  https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
>	[[alternative HTML version deleted]]
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
William Revelle		http://personality-project.org/revelle.html
Professor			http://personality-project.org/personality.html
Department of Psychology       http://www.wcas.northwestern.edu/psych/
Northwestern University	http://www.northwestern.edu/
Use R for statistics:                 http://personality-project.org/r


From simon.urbanek at r-project.org  Thu Feb 22 22:37:23 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 22 Feb 2007 16:37:23 -0500
Subject: [R-SIG-Mac] eigen() with complex matrices
In-Reply-To: <52f663c40702220431s6b2029e5vb69dd49037385bd5@mail.gmail.com>
References: <46EC6ACD-003E-4455-83E4-30B39026A7D8@soc.soton.ac.uk>
	<52f663c40702220431s6b2029e5vb69dd49037385bd5@mail.gmail.com>
Message-ID: <37328D9D-7A96-4E67-9F49-33DB6E910C82@r-project.org>


On Feb 22, 2007, at 7:31 AM, Tony Chiang wrote:

> Hi Robin,
>
> I have 2.5 (pretty recent) installed my my mac-mini and I don't get  
> the error. I do not run R-2.4.1 so I cannot see if I can reproduce  
> your error. I build R from source rather than using the universal  
> binary though, so try that and see if that helps. Can anyone with  
> R-2.4.1 reproduce this error?
>

Yes, I can reproduce it with R 2.4.1 on G5 when using vecLib BLAS. It  
doesn't crash when using R's BLAS, so that is a work-around. Given  
that the crash occurs in vecLib and works with with R's BLAS, I'm  
inclined to think that it's a bug in vecLib, but it will require some  
more digging to see if that's really the case...

*Please* when reporting problems include exact information on the  
hardware used - there are simply too many different Mac platforms now...

Thanks,
Simon



>> A <- matrix(c(1,0.2+0.1i,0.2-0.1i,1),2,2)
>> A
>          [,1]     [,2]
> [1,] 1.0+0.0i 0.2-0.1i
> [2,] 0.2+0.1i 1.0+0.0i
>> eigen(A)
> $values
> [1] 1.2236068 0.7763932
>
> $vectors
>                       [,1]                  [,2]
> [1,] -0.7071068+0.0000000i -0.7071068+0.0000000i
> [2,] -0.6324555-0.3162278i  0.6324555+0.3162278i
>
>> sessionInfo()
> R version 2.5.0 Under development (unstable) (2007-02-08 r40671)
> i386-apple-darwin8.8.1
>
> locale:
> C
>
> attached base packages:
> [1] "stats"     "graphics"  "grDevices" "utils"     "datasets"   
> "methods"
> [7] "base"
>>
>
> Cheers,
> --Tony
>
> On 2/22/07, Robin Hankin <r.hankin at noc.soton.ac.uk> wrote:
>>
>> Hello
>>
>> I just now get a bus error with R-2.4.1[Universal binary downloaded
>> from CRAN just now], and also with (recently compiled) R-2.5.0.
>> I have Xcode 2.4.1.
>>
>>
>>
>> Under R-2.4.1:
>>
>>
>> octopus:~/scratch% R --vanilla
>>
>> R version 2.4.1 (2006-12-18)
>> Copyright (C) 2006 The R Foundation for Statistical Computing
>> ISBN 3-900051-07-0
>>
>> [snip]
>>
>> 'help.start()' for an HTML browser interface to help.
>> Type 'q()' to quit R.
>>
>>
>>>
>>> A <- matrix(c(1,0.2+0.1i,0.2-0.1i,1),2,2)
>>> eigen(A)
>>
>> *** caught bus error ***
>> address 0x1, cause 'invalid alignment'
>>
>> Traceback:
>> 1: .Call("La_rs_cmplx", x, only.values, PACKAGE = "base")
>> 2: eigen(A)
>>
>> Possible actions:
>> 1: abort (with core dump)
>> 2: normal R exit
>> 3: exit R without saving workspace
>> 4: exit R saving workspace
>> Selection:
>>
>>
>>
>> the same thing happens with R-2.5.0
>>
>> Anyone?
>>
>>
>>
>>
>>
>>
>>
>> --
>> Robin Hankin
>> Uncertainty Analyst
>> National Oceanography Centre, Southampton
>> European Way, Southampton SO14 3ZH, UK
>>   tel  023-8059-7743
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Fri Feb 23 13:21:13 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 23 Feb 2007 07:21:13 -0500
Subject: [R-SIG-Mac] eigen() with complex matrices
In-Reply-To: <71F8877D-B6C5-49C5-B885-7459BE17E44D@soc.soton.ac.uk>
References: <46EC6ACD-003E-4455-83E4-30B39026A7D8@soc.soton.ac.uk>
	<52f663c40702220431s6b2029e5vb69dd49037385bd5@mail.gmail.com>
	<37328D9D-7A96-4E67-9F49-33DB6E910C82@r-project.org>
	<71F8877D-B6C5-49C5-B885-7459BE17E44D@soc.soton.ac.uk>
Message-ID: <6B3BA377-8631-4E92-9DCE-448061A55745@r-project.org>

Robin,

On Feb 23, 2007, at 3:22 AM, Robin Hankin wrote:

> Hello Simon
>
>
> thanks for this.
>
>
> [snip]
>
>> Yes, I can reproduce it with R 2.4.1 on G5 when using vecLib BLAS.  
>> It doesn't crash when using R's BLAS, so that is a work-around.  
>> Given that the crash occurs in vecLib and works with with R's  
>> BLAS, I'm inclined to think that it's a bug in vecLib, but it will  
>> require some more digging to see if that's really the case...
>>
>
>
> How do I force R to use R's BLAS?
>

For the CRAN release of R 2.4.1 it is as simple as

cd /Library/Frameworks/R.framework/Resources/lib
rm libRblas.dylib
ln -s libRblas.0.dylib libRblas.dylib

to switch back to vecLib, replace the last line with
ln -s libRblas.vecLib.dylib libRblas.dylib



>> *Please* when reporting problems include exact information on the  
>> hardware used - there are simply too many different Mac platforms  
>> now...
>>
>
> For future reference, how exactly do I do this?
>
> "about this Mac" says   "Dual 2GHz PowerPC G5, 1.5GB DDR SDRAM"
>
> is that what you need or is there a way to get more detailed info?
>

That is sufficient. Another way is to use sessionInfo() or indeed  
providing both is the best way.

Thanks,
Simon


From chabotd at globetrotter.net  Fri Feb 23 15:25:22 2007
From: chabotd at globetrotter.net (Chabot Denis)
Date: Fri, 23 Feb 2007 09:25:22 -0500
Subject: [R-SIG-Mac] eigen() with complex matrices
In-Reply-To: <mailman.19.1172228407.11456.r-sig-mac@stat.math.ethz.ch>
References: <mailman.19.1172228407.11456.r-sig-mac@stat.math.ethz.ch>
Message-ID: <F4E60B28-B496-4280-8825-4606FAFBEBDC@globetrotter.net>

Hi,

I do get the problem with my PowerBook G4 aluminium 1.6 GHz with 2 GB  
RAM and Mac OS X 10.4.8.

Here is the crash log.

Denis

Host Name:      LAUchabotd-QC-DFO-MPO-GC-CA
Date/Time:      2007-02-23 08:41:41.837 -0500
OS Version:     10.4.8 (Build 8L127)
Report Version: 4

Command: R
Path:    /Applications/Stats/R.app/Contents/MacOS/R
Parent:  WindowServer [55]

Version: R 2.4.1 GUI 1.18 (4038)

PID:    945
Thread: 0

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000000

Thread 0 Crashed:
0   libBLAS.dylib        	0x91f68374 atl_f77wrap_zdotc__ + 80
1   libBLAS.dylib        	0x91f63864 ZDOTC_ + 60
2   libRlapack.dylib     	0x078da530 zhetd2_ + 500 (cmplx.f:8119)
3   libRlapack.dylib     	0x078db22c zhetrd_ + 1744 (cmplx.f:8430)
4   libRlapack.dylib     	0x078da1ec zheev_ + 964 (cmplx.f:7853)
5   lapack.so            	0x06ec065c modLa_rs_cmplx + 384 (Lapack.c:522)
6   libR.dylib           	0x010b073c La_rs_cmplx + 92 (lapack.c:105)
7   libR.dylib           	0x01070944 do_dotcall + 764 (dotcode.c:875)
8   libR.dylib           	0x0109699c Rf_eval + 1508 (eval.c:445)
9   libR.dylib           	0x01096880 Rf_eval + 1224 (eval.c:431)
10  libR.dylib           	0x010989b0 do_set + 728 (eval.c:1373)
11  libR.dylib           	0x01096880 Rf_eval + 1224 (eval.c:431)
12  libR.dylib           	0x01098a70 do_begin + 84 (eval.c:1108)
13  libR.dylib           	0x01096880 Rf_eval + 1224 (eval.c:431)
14  libR.dylib           	0x01096880 Rf_eval + 1224 (eval.c:431)
15  libR.dylib           	0x01098a70 do_begin + 84 (eval.c:1108)
16  libR.dylib           	0x01096880 Rf_eval + 1224 (eval.c:431)
17  libR.dylib           	0x01096880 Rf_eval + 1224 (eval.c:431)
18  libR.dylib           	0x01098a70 do_begin + 84 (eval.c:1108)
19  libR.dylib           	0x01096880 Rf_eval + 1224 (eval.c:431)
20  libR.dylib           	0x01099ecc Rf_applyClosure + 684 (eval.c:614)
21  libR.dylib           	0x0109671c Rf_eval + 868 (eval.c:455)
22  org.R-project.R      	0x00035710 run_REngineRmainloop + 656  
(Rinit.c:429)
23  org.R-project.R      	0x0002d45c -[REngine runREPL] + 76  
(REngine.m:175)
24  org.R-project.R      	0x0001e774 main + 692 (main.m:109)
25  org.R-project.R      	0x000021ec _start + 760
26  org.R-project.R      	0x00001ef0 start + 48

Thread 1:
0   libSystem.B.dylib    	0x9001f08c select + 12
1   org.R-project.R      	0x00009fb4 -[RController readThread:] + 644  
(RController.m:609)
2   com.apple.Foundation 	0x9295f194 forkThreadForFunction + 108
3   libSystem.B.dylib    	0x9002b508 _pthread_body + 96

Thread 2:
0   libSystem.B.dylib    	0x90049ea8 syscall_thread_switch + 8
1   com.apple.Foundation 	0x929775d0 +[NSThread sleepUntilDate:] + 152
2   com.apple.AppKit     	0x93785a10 -[NSUIHeartBeat  
_heartBeatThread:] + 1100
3   com.apple.Foundation 	0x9295f194 forkThreadForFunction + 108
4   libSystem.B.dylib    	0x9002b508 _pthread_body + 96

Thread 0 crashed with PPC Thread State 64:
   srr0: 0x0000000091f68374 srr1:  
0x000000000000f030                        vrsave: 0x0000000000000000
     cr: 0x48002424          xer: 0x0000000020000004   lr:  
0x0000000091f63864  ctr: 0x0000000091f63828
     r0: 0x000000003ffe4f92   r1: 0x00000000bfffce50   r2:  
0x00000000078f5e98   r3: 0x00000000074fbc18
     r4: 0x00000000078f5e98   r5: 0x000000003ff00000   r6:  
0x00000000078f5e98   r7: 0x0000000000000000
     r8: 0x00000000bfffce88   r9: 0x00000000a00060a0  r10:  
0x0000000000000005  r11: 0x00000000078f69c0
    r12: 0x0000000091f63828  r13: 0x0000000000000000  r14:  
0x000000000722e670  r15: 0x00000000bfffcf10
    r16: 0x00000000bfffcf00  r17: 0x0000000000000001  r18:  
0x000000000722e670  r19: 0x00000000bfffd1b9
    r20: 0x00000000bfffd1bc  r21: 0x000000000749bd78  r22:  
0x00000000bfffcefc  r23: 0x00000000bfffd014
    r24: 0x00000000074fbc18  r25: 0x00000000078f5e98  r26:  
0x0000000000000002  r27: 0x0000000001bb6180
    r28: 0x0000000000000001  r29: 0x0000000001bb6190  r30:  
0x00000000bfffcefc  r31: 0x00000000078da344

Binary Images Description:
     0x1000 -    0x41fff org.R-project.R R 2.4.1 GUI 1.18 (4038)	/ 
Applications/Stats/R.app/Contents/MacOS/R
   0x1ae000 -   0x1affff libRblas.dylib 	/Library/Frameworks/ 
R.framework/Versions/2.4/Resources/lib/libRblas.dylib
   0x1b3000 -   0x1befff libgcc_s.1.0.dylib 	/Library/Frameworks/ 
R.framework/Versions/2.4/Resources/lib/libgcc_s.1.0.dylib
   0x305000 -   0x34bfff libgfortran.0.dylib 	/Library/Frameworks/ 
R.framework/Versions/2.4/Resources/lib/libgfortran.0.dylib
   0x41c000 -   0x45afff libreadline.5.1.dylib 	/Library/Frameworks/ 
R.framework/Versions/2.4/Resources/lib/libreadline.5.1.dylib
   0x729000 -   0x72bfff net.sourceforge.bibdesk.inputmanager 1.6.6	/ 
Users/chabotd/Library/InputManagers/BibDeskInputManager/ 
BibDeskInputManager.bundle/Contents/MacOS/BibDeskInputManager
0x1008000 -  0x11f9fff libR.dylib 	/Library/Frameworks/R.framework/ 
Versions/2.4/Resources/lib/libR.dylib
0x530b000 -  0x530cfff com.CircusPonies.CPNoteBook ??? (0.6)	/Users/ 
chabotd/Library/InputManagers/CPNoteBook/CPNoteBook.bundle/Contents/ 
MacOS/CPNoteBook
0x6a6d000 -  0x6a8afff com.lorax.TextExtras 1.8 (200)	/Users/chabotd/ 
Library/InputManagers/TextExtras/TextExtras.bundle/Contents/MacOS/ 
TextExtras
0x6aa7000 -  0x6aaefff com.unsanity.smartcrashreports Smart Crash  
Reports version 1.0.3 (1.0.3b1)	/Users/chabotd/Library/InputManagers/ 
Smart Crash Reports/Smart Crash Reports.bundle/Contents/MacOS/Smart  
Crash Reports
0x6bbe000 -  0x6bc2fff methods.so 	/Library/Frameworks/R.framework/ 
Versions/2.4/Resources/library/methods/libs/ppc/methods.so
0x6c49000 -  0x6c63fff grDevices.so 	/Library/Frameworks/R.framework/ 
Versions/2.4/Resources/library/grDevices/libs/ppc/grDevices.so
0x6d84000 -  0x6dcafff stats.so 	/Library/Frameworks/R.framework/ 
Versions/2.4/Resources/library/stats/libs/ppc/stats.so
0x6ebf000 -  0x6ec3fff lapack.so 	/Library/Frameworks/R.framework/ 
Versions/2.4/Resources/modules/ppc/lapack.so
0x7808000 -  0x78f5fff libRlapack.dylib 	/Library/Frameworks/ 
R.framework/Versions/2.4/Resources/lib/libRlapack.dylib
0x8fe00000 - 0x8fe51fff dyld 45.3	/usr/lib/dyld
0x90000000 - 0x901bcfff libSystem.B.dylib 	/usr/lib/libSystem.B.dylib
0x90214000 - 0x90219fff libmathCommon.A.dylib 	/usr/lib/system/ 
libmathCommon.A.dylib
0x9021b000 - 0x90268fff com.apple.CoreText 1.0.2 (???)	/System/ 
Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/CoreText.framework/Versions/A/CoreText
0x90293000 - 0x90344fff ATS 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/ 
Versions/A/ATS
0x90373000 - 0x9072dfff com.apple.CoreGraphics 1.258.38 (???)	/System/ 
Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics
0x907ba000 - 0x90893fff com.apple.CoreFoundation 6.4.6 (368.27)	/ 
System/Library/Frameworks/CoreFoundation.framework/Versions/A/ 
CoreFoundation
0x908dc000 - 0x908dcfff com.apple.CoreServices 10.4 (???)	/System/ 
Library/Frameworks/CoreServices.framework/Versions/A/CoreServices
0x908de000 - 0x909e0fff libicucore.A.dylib 	/usr/lib/libicucore.A.dylib
0x90a3a000 - 0x90abefff libobjc.A.dylib 	/usr/lib/libobjc.A.dylib
0x90ae8000 - 0x90b5afff com.apple.framework.IOKit 1.4 (???)	/System/ 
Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x90b70000 - 0x90b82fff libauto.dylib 	/usr/lib/libauto.dylib
0x90b89000 - 0x90e60fff com.apple.CoreServices.CarbonCore 681.8	/ 
System/Library/Frameworks/CoreServices.framework/Versions/A/ 
Frameworks/CarbonCore.framework/Versions/A/CarbonCore
0x90ec6000 - 0x90f46fff com.apple.CoreServices.OSServices 4.1	/System/ 
Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/ 
OSServices.framework/Versions/A/OSServices
0x90f90000 - 0x90fd1fff com.apple.CFNetwork 4.0 (129.19)	/System/ 
Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/ 
CFNetwork.framework/Versions/A/CFNetwork
0x90fe6000 - 0x90ffefff com.apple.WebServices 1.1.2 (1.1.0)	/System/ 
Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/ 
WebServicesCore.framework/Versions/A/WebServicesCore
0x9100e000 - 0x9108ffff com.apple.SearchKit 1.0.5	/System/Library/ 
Frameworks/CoreServices.framework/Versions/A/Frameworks/ 
SearchKit.framework/Versions/A/SearchKit
0x910d5000 - 0x910fefff com.apple.Metadata 10.4.4 (121.36)	/System/ 
Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/ 
Metadata.framework/Versions/A/Metadata
0x9110f000 - 0x9111dfff libz.1.dylib 	/usr/lib/libz.1.dylib
0x91120000 - 0x912dbfff com.apple.security 4.6 (29770)	/System/ 
Library/Frameworks/Security.framework/Versions/A/Security
0x913da000 - 0x913e3fff com.apple.DiskArbitration 2.1	/System/Library/ 
Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration
0x913ea000 - 0x91412fff com.apple.SystemConfiguration 1.8.3	/System/ 
Library/Frameworks/SystemConfiguration.framework/Versions/A/ 
SystemConfiguration
0x91425000 - 0x91430fff libgcc_s.1.dylib 	/usr/lib/libgcc_s.1.dylib
0x91435000 - 0x9143dfff libbsm.dylib 	/usr/lib/libbsm.dylib
0x91441000 - 0x914bcfff com.apple.audio.CoreAudio 3.0.4	/System/ 
Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio
0x914f9000 - 0x914f9fff com.apple.ApplicationServices 10.4 (???)	/ 
System/Library/Frameworks/ApplicationServices.framework/Versions/A/ 
ApplicationServices
0x914fb000 - 0x91533fff com.apple.AE 1.5 (297)	/System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
AE.framework/Versions/A/AE
0x9154e000 - 0x9161bfff com.apple.ColorSync 4.4.4	/System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
ColorSync.framework/Versions/A/ColorSync
0x91670000 - 0x91701fff com.apple.print.framework.PrintCore 4.6  
(177.13)	/System/Library/Frameworks/ApplicationServices.framework/ 
Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore
0x91748000 - 0x917fffff com.apple.QD 3.10.21 (???)	/System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
QD.framework/Versions/A/QD
0x9183c000 - 0x9189afff com.apple.HIServices 1.5.3 (???)	/System/ 
Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/HIServices.framework/Versions/A/HIServices
0x918c9000 - 0x918eafff com.apple.LangAnalysis 1.6.1	/System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
LangAnalysis.framework/Versions/A/LangAnalysis
0x918fe000 - 0x91923fff com.apple.FindByContent 1.5	/System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
FindByContent.framework/Versions/A/FindByContent
0x91936000 - 0x91978fff com.apple.LaunchServices 181	/System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
LaunchServices.framework/Versions/A/LaunchServices
0x91994000 - 0x919a8fff com.apple.speech.synthesis.framework 3.3	/ 
System/Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis
0x919b6000 - 0x919f8fff com.apple.ImageIO.framework 1.5.0	/System/ 
Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/ImageIO.framework/Versions/A/ImageIO
0x91a0e000 - 0x91ad5fff libcrypto.0.9.7.dylib 	/usr/lib/libcrypto. 
0.9.7.dylib
0x91b23000 - 0x91b38fff libcups.2.dylib 	/usr/lib/libcups.2.dylib
0x91b3d000 - 0x91b5bfff libJPEG.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libJPEG.dylib
0x91b61000 - 0x91bd0fff libJP2.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libJP2.dylib
0x91be7000 - 0x91bebfff libGIF.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libGIF.dylib
0x91bed000 - 0x91c4cfff libRaw.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libRaw.dylib
0x91c51000 - 0x91c8efff libTIFF.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libTIFF.dylib
0x91c95000 - 0x91caefff libPng.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libPng.dylib
0x91cb3000 - 0x91cb6fff libRadiance.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libRadiance.dylib
0x91cb8000 - 0x91cb8fff com.apple.Accelerate 1.2.2 (Accelerate  
1.2.2)	/System/Library/Frameworks/Accelerate.framework/Versions/A/ 
Accelerate
0x91cba000 - 0x91d9ffff com.apple.vImage 2.4	/System/Library/ 
Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
vImage.framework/Versions/A/vImage
0x91da7000 - 0x91dc6fff com.apple.Accelerate.vecLib 3.2.2 (vecLib  
3.2.2)	/System/Library/Frameworks/Accelerate.framework/Versions/A/ 
Frameworks/vecLib.framework/Versions/A/vecLib
0x91e32000 - 0x91ea0fff libvMisc.dylib 	/System/Library/Frameworks/ 
Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/ 
A/libvMisc.dylib
0x91eab000 - 0x91f40fff libvDSP.dylib 	/System/Library/Frameworks/ 
Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/ 
A/libvDSP.dylib
0x91f5a000 - 0x924e2fff libBLAS.dylib 	/System/Library/Frameworks/ 
Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/ 
A/libBLAS.dylib
0x92515000 - 0x92840fff libLAPACK.dylib 	/System/Library/Frameworks/ 
Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/ 
A/libLAPACK.dylib
0x92870000 - 0x928f8fff com.apple.DesktopServices 1.3.5	/System/ 
Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/ 
DesktopServicesPriv
0x92939000 - 0x92b64fff com.apple.Foundation 6.4.6 (567.27)	/System/ 
Library/Frameworks/Foundation.framework/Versions/C/Foundation
0x92c82000 - 0x92d60fff libxml2.2.dylib 	/usr/lib/libxml2.2.dylib
0x92d80000 - 0x92e6efff libiconv.2.dylib 	/usr/lib/libiconv.2.dylib
0x92e80000 - 0x92e9efff libGL.dylib 	/System/Library/Frameworks/ 
OpenGL.framework/Versions/A/Libraries/libGL.dylib
0x92ea9000 - 0x92f03fff libGLU.dylib 	/System/Library/Frameworks/ 
OpenGL.framework/Versions/A/Libraries/libGLU.dylib
0x92f21000 - 0x92f21fff com.apple.Carbon 10.4 (???)	/System/Library/ 
Frameworks/Carbon.framework/Versions/A/Carbon
0x92f23000 - 0x92f37fff com.apple.ImageCapture 3.0	/System/Library/ 
Frameworks/Carbon.framework/Versions/A/Frameworks/ 
ImageCapture.framework/Versions/A/ImageCapture
0x92f4f000 - 0x92f5ffff com.apple.speech.recognition.framework 3.4	/ 
System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
SpeechRecognition.framework/Versions/A/SpeechRecognition
0x92f6b000 - 0x92f80fff com.apple.securityhi 2.0 (203)	/System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
SecurityHI.framework/Versions/A/SecurityHI
0x92f92000 - 0x93019fff com.apple.ink.framework 101.2 (69)	/System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
Ink.framework/Versions/A/Ink
0x9302d000 - 0x93038fff com.apple.help 1.0.3 (32)	/System/Library/ 
Frameworks/Carbon.framework/Versions/A/Frameworks/Help.framework/ 
Versions/A/Help
0x93042000 - 0x9306ffff com.apple.openscripting 1.2.5 (???)	/System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
OpenScripting.framework/Versions/A/OpenScripting
0x93089000 - 0x93098fff com.apple.print.framework.Print 5.2 (192.4)	/ 
System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
Print.framework/Versions/A/Print
0x930a4000 - 0x9310afff com.apple.htmlrendering 1.1.2	/System/Library/ 
Frameworks/Carbon.framework/Versions/A/Frameworks/ 
HTMLRendering.framework/Versions/A/HTMLRendering
0x9313b000 - 0x9318afff com.apple.NavigationServices 3.4.4 (3.4.3)	/ 
System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
NavigationServices.framework/Versions/A/NavigationServices
0x931b8000 - 0x931d5fff com.apple.audio.SoundManager 3.9	/System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
CarbonSound.framework/Versions/A/CarbonSound
0x931e7000 - 0x931f4fff com.apple.CommonPanels 1.2.2 (73)	/System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
CommonPanels.framework/Versions/A/CommonPanels
0x931fd000 - 0x9350afff com.apple.HIToolbox 1.4.8 (???)	/System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
HIToolbox.framework/Versions/A/HIToolbox
0x93659000 - 0x93665fff com.apple.opengl 1.4.7	/System/Library/ 
Frameworks/OpenGL.framework/Versions/A/OpenGL
0x936de000 - 0x936defff com.apple.Cocoa 6.4 (???)	/System/Library/ 
Frameworks/Cocoa.framework/Versions/A/Cocoa
0x936e0000 - 0x93d13fff com.apple.AppKit 6.4.7 (824.41)	/System/ 
Library/Frameworks/AppKit.framework/Versions/C/AppKit
0x940a0000 - 0x94110fff com.apple.CoreData 80	/System/Library/ 
Frameworks/CoreData.framework/Versions/A/CoreData
0x94149000 - 0x9420cfff com.apple.audio.toolbox.AudioToolbox 1.4.3	/ 
System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox
0x9425e000 - 0x9425efff com.apple.audio.units.AudioUnit 1.4	/System/ 
Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
0x94260000 - 0x94433fff com.apple.QuartzCore 1.4.9	/System/Library/ 
Frameworks/QuartzCore.framework/Versions/A/QuartzCore
0x94489000 - 0x944c6fff libsqlite3.0.dylib 	/usr/lib/libsqlite3.0.dylib
0x944ce000 - 0x9451efff libGLImage.dylib 	/System/Library/Frameworks/ 
OpenGL.framework/Versions/A/Libraries/libGLImage.dylib
0x946c2000 - 0x946d1fff libCGATS.A.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
CoreGraphics.framework/Versions/A/Resources/libCGATS.A.dylib
0x946d9000 - 0x946e6fff libCSync.A.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib
0x9472c000 - 0x94745fff libRIP.A.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib
0x94bc2000 - 0x94be2fff libmx.A.dylib 	/usr/lib/libmx.A.dylib
0x9567e000 - 0x9570cfff com.apple.WebKit 418.9.1	/System/Library/ 
Frameworks/WebKit.framework/Versions/A/WebKit
0x95768000 - 0x957fefff com.apple.JavaScriptCore 418.3	/System/ 
Library/Frameworks/WebKit.framework/Versions/A/Frameworks/ 
JavaScriptCore.framework/Versions/A/JavaScriptCore
0x9583b000 - 0x95b47fff com.apple.WebCore 418.21	/System/Library/ 
Frameworks/WebKit.framework/Versions/A/Frameworks/WebCore.framework/ 
Versions/A/WebCore
0x95cd0000 - 0x95cf9fff libxslt.1.dylib 	/usr/lib/libxslt.1.dylib
0x95f1e000 - 0x95f20fff com.apple.ExceptionHandling 1.2 (???)	/System/ 
Library/Frameworks/ExceptionHandling.framework/Versions/A/ 
ExceptionHandling
0x96ec9000 - 0x96ee8fff com.apple.vecLib 3.2.2 (vecLib 3.2.2)	/System/ 
Library/Frameworks/vecLib.framework/Versions/A/vecLib


Le 07-02-23 ? 06:00, r-sig-mac-request at stat.math.ethz.ch a ?crit :

> Message: 3
> Date: Thu, 22 Feb 2007 16:37:23 -0500
> From: Simon Urbanek <simon.urbanek at r-project.org>
> Subject: Re: [R-SIG-Mac] eigen() with complex matrices
> To: Tony Chiang <tchiang at fhcrc.org>
> Cc: Robin Hankin <r.hankin at noc.soton.ac.uk>,
> 	r-sig-mac at stat.math.ethz.ch
> Message-ID: <37328D9D-7A96-4E67-9F49-33DB6E910C82 at r-project.org>
> Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
>
>
> On Feb 22, 2007, at 7:31 AM, Tony Chiang wrote:
>
>> Hi Robin,
>>
>> I have 2.5 (pretty recent) installed my my mac-mini and I don't get
>> the error. I do not run R-2.4.1 so I cannot see if I can reproduce
>> your error. I build R from source rather than using the universal
>> binary though, so try that and see if that helps. Can anyone with
>> R-2.4.1 reproduce this error?
>>
>
> Yes, I can reproduce it with R 2.4.1 on G5 when using vecLib BLAS. It
> doesn't crash when using R's BLAS, so that is a work-around. Given
> that the crash occurs in vecLib and works with with R's BLAS, I'm
> inclined to think that it's a bug in vecLib, but it will require some
> more digging to see if that's really the case...
>
> *Please* when reporting problems include exact information on the
> hardware used - there are simply too many different Mac platforms  
> now...
>
> Thanks,
> Simon
>
>
>
>>> A <- matrix(c(1,0.2+0.1i,0.2-0.1i,1),2,2)
>>> A
>>          [,1]     [,2]
>> [1,] 1.0+0.0i 0.2-0.1i
>> [2,] 0.2+0.1i 1.0+0.0i
>>> eigen(A)
>> $values
>> [1] 1.2236068 0.7763932
>>
>> $vectors
>>                       [,1]                  [,2]
>> [1,] -0.7071068+0.0000000i -0.7071068+0.0000000i
>> [2,] -0.6324555-0.3162278i  0.6324555+0.3162278i
>>
>>> sessionInfo()
>> R version 2.5.0 Under development (unstable) (2007-02-08 r40671)
>> i386-apple-darwin8.8.1
>>
>> locale:
>> C
>>
>> attached base packages:
>> [1] "stats"     "graphics"  "grDevices" "utils"     "datasets"
>> "methods"
>> [7] "base"
>>>
>>
>> Cheers,
>> --Tony
>>
>> On 2/22/07, Robin Hankin <r.hankin at noc.soton.ac.uk> wrote:
>>>
>>> Hello
>>>
>>> I just now get a bus error with R-2.4.1[Universal binary downloaded
>>> from CRAN just now], and also with (recently compiled) R-2.5.0.
>>> I have Xcode 2.4.1.
>>>
>>>
>>>
>>> Under R-2.4.1:
>>>
>>>
>>> octopus:~/scratch% R --vanilla
>>>
>>> R version 2.4.1 (2006-12-18)
>>> Copyright (C) 2006 The R Foundation for Statistical Computing
>>> ISBN 3-900051-07-0
>>>
>>> [snip]
>>>
>>> 'help.start()' for an HTML browser interface to help.
>>> Type 'q()' to quit R.
>>>
>>>
>>>>
>>>> A <- matrix(c(1,0.2+0.1i,0.2-0.1i,1),2,2)
>>>> eigen(A)
>>>
>>> *** caught bus error ***
>>> address 0x1, cause 'invalid alignment'
>>>
>>> Traceback:
>>> 1: .Call("La_rs_cmplx", x, only.values, PACKAGE = "base")
>>> 2: eigen(A)
>>>
>>> Possible actions:
>>> 1: abort (with core dump)
>>> 2: normal R exit
>>> 3: exit R without saving workspace
>>> 4: exit R saving workspace
>>> Selection:
>>>
>>>
>>>
>>> the same thing happens with R-2.5.0
>>>
>>> Anyone?


From dreiss.isb at gmail.com  Fri Feb 23 23:32:15 2007
From: dreiss.isb at gmail.com (David Reiss)
Date: Fri, 23 Feb 2007 14:32:15 -0800
Subject: [R-SIG-Mac] building R for 64-bit Intel (Mac pro) with working
	readline and X11?
In-Reply-To: <fd913b0d0702231415k6eab6070va09d790071b44149@mail.gmail.com>
References: <fd913b0d0702231415k6eab6070va09d790071b44149@mail.gmail.com>
Message-ID: <fd913b0d0702231432o6c8c85deq9d2d4113e17f1ab5@mail.gmail.com>

Hi,
I have been able to get R to compile for my Mac Pro using the
excellent directions and resources at http://r.research.att.com/exp/.

However, even after downloading and installing the 64-bit version of
the readline libs, if I turn on the readline option, I cannot get the
configure script to detect that readline is installed! This is the
error I keep getting:

checking for readline/readline.h... yes
checking for rl_callback_read_char in -lreadline... no
checking for main in -lncurses... yes
checking for rl_callback_read_char in -lreadline... no
checking for history_truncate_file... no
configure: error: --with-readline=yes (default) and headers/libs are
not available

I am sure that "rl_callback_read_char" exists in the include files.

Another problem is that I downloaded and installed the 64-bit X11
libraries as suggested and compiled fine (without readline) but upon
typing "x11()" in the newly-compiled R, I get this error:

Error in x11() : X11 module cannot be loaded
In addition: Warning message:
unable to load shared library
'/usr/local/lib64/R.framework/Resources/modules/x86_64/R_X11.so':
  dlopen(/usr/local/lib64/R.framework/Resources/modules/x86_64/R_X11.so,
6): Symbol not found: _XtStrings
  Referenced from:
/usr/local/lib64/R.framework/Resources/modules/x86_64/R_X11.so
  Expected in: dynamic lookup

I have made sure that the 64-bit libraries are first in my
LD_LIBRARY_PATH, but this doesnt help.

Here is the configure command I am using:

> ./configure CC='gcc -arch x86_64' CXX='g++ -arch x86_64' F77='gfortran -arch x86_64' FC='gfortran -arch x86_64' --with-blas='-framework vecLib' --with-lapack CPPFLAGS='-I/sw/include -I/sw/include/readline -I/usr/local/include -I/usr/local/include/readline' LDFLAGS='-L/sw/lib -L/usr/local/lib/x86_64 -L/usr/local/lib' r_arch=x86_64 --with-system-zlib --build=x86_64-apple-darwin8.8.1 --prefix=/usr/local/lib64 --with-x --x-includes=/usr/local/lib64/X11/include/ --x-libraries=/usr/local/lib64/X11/lib/ --with-readline

Can anyone help me with either of these 2 issues?
thanks very much.
-David


-- 
David J. Reiss
Senior Research Scientist, Computational Biology
Institute for Systems Biology
dreiss at systemsbiology.org


From jcarew at sph.emory.edu  Thu Feb 22 23:14:46 2007
From: jcarew at sph.emory.edu (John Carew)
Date: Thu, 22 Feb 2007 17:14:46 -0500
Subject: [R-SIG-Mac] make
Message-ID: <B40CE41E-AFD4-4D82-9D2D-61B6589810B7@sph.emory.edu>

Hi,

I'm trying to install an R package from the source.  I get the  
following errors.

 >> R CMD INSTALL /Users/jcarew/Desktop/sspline_0.1-2.tar.gz
* Installing *source* package 'sspline' ...
** libs
** arch - i386
/Library/Frameworks/R.framework/Resources/bin/SHLIB: line 1: make:  
command not found
chmod:

...

ERROR: compilation failed for package 'sspline'

Presumably, this means that I do not have make on my system.  Does  
anyone know where I can obtain it?  I'm running 0SX 10.4.8 on an  
intel core 2 duo processor with R 2.4.0.

Thanks very much,
John


--
John Carew, PhD
Assistant Professor of Biostatistics and Radiology
Emory University
Tel 404-712-8507
Fax 404-727-1370
jcarew at sph.emory.edu


From simon.urbanek at r-project.org  Sat Feb 24 18:08:29 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 24 Feb 2007 12:08:29 -0500
Subject: [R-SIG-Mac] make
In-Reply-To: <B40CE41E-AFD4-4D82-9D2D-61B6589810B7@sph.emory.edu>
References: <B40CE41E-AFD4-4D82-9D2D-61B6589810B7@sph.emory.edu>
Message-ID: <555C7F74-B88C-4E8C-94D4-51EECF5E4DE2@r-project.org>


On Feb 22, 2007, at 5:14 PM, John Carew wrote:

> Hi,
>
> I'm trying to install an R package from the source.  I get the
> following errors.
>
>>> R CMD INSTALL /Users/jcarew/Desktop/sspline_0.1-2.tar.gz
> * Installing *source* package 'sspline' ...
> ** libs
> ** arch - i386
> /Library/Frameworks/R.framework/Resources/bin/SHLIB: line 1: make:
> command not found
> chmod:
>
> ...
>
> ERROR: compilation failed for package 'sspline'
>
> Presumably, this means that I do not have make on my system.  Does  
> anyone know where I can obtain it?  I'm running 0SX 10.4.8 on an  
> intel core 2 duo processor with R 2.4.0.
>

You need Apple's Xcode tools - they are located on the installation DVD.
If you are using R from CRAN, make sure you have installed the full  
version of R and not the mini version. (You may want to install full  
version of R 2.4.1 after you installed Xcode ...).

Cheers,
Simon


From pierre_phanor at yahoo.com  Sat Feb 24 16:17:00 2007
From: pierre_phanor at yahoo.com (Pierre Phanor)
Date: Sat, 24 Feb 2007 07:17:00 -0800 (PST)
Subject: [R-SIG-Mac] R crashes with hexbin library?
Message-ID: <363575.12231.qm@web58102.mail.re3.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070224/218e4b32/attachment.pl 

From w.northcott at unsw.edu.au  Tue Feb 27 03:12:02 2007
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Tue, 27 Feb 2007 13:12:02 +1100
Subject: [R-SIG-Mac] R-2.4.1 built with Apple compiler Xcode 2.4.1 on Intel
	crashes
In-Reply-To: <mailman.1897.1172269947.17937.r-sig-mac@stat.math.ethz.ch>
References: <mailman.1897.1172269947.17937.r-sig-mac@stat.math.ethz.ch>
Message-ID: <435DAA85-4CB6-4F2B-817F-F028B51F5711@unsw.edu.au>

I have found some code which cause R 2.4.1 built with the C and C++  
compilers in Xcode 2.4.1 to crash.  The same code has no problems on  
R-2.4.1 built with the compilers in the R package.  The package built  
with the Apple compilers passes everything in 'make check'.

The code opens a quartz window then accesses some data from a SQLite  
database with RSQLite and plots it in the window.  When run from the  
GUI it puts up the bare window and then crashes.

Logged output from the GUI is:

Traceback:
1: .External("Quartz", display, width, height, pointsize, family,      
antialias, autorefresh, PACKAGE = "grDevices")
2: quartz(width = 6, height = 5)
3: eval.with.vis(expr, envir, enclos)
4: eval.with.vis(ei, envir)
5: source("/Users/billn/Public/Sync This/UNSW/Research/Exper Group/ 
Workarea/Feb07/pricePlot.R")


Running in R from a terminal window works and produces the correct  
plots but with warnings:

 > .Platform$GUI <- "AQUA"
 > source("/Users/billn/Public/Sync\ This/UNSW/Research/Exper\ Group/ 
Workarea/Feb07/pricePlot.R")
CGGStackRestore: gstack underflow.
CGGStackRestore: gstack underflow.
CGGStackRestore: gstack underflow.
CGGStackRestore: gstack underflow.
CGGStackRestore: gstack underflow.
CGGStackRestore: gstack underflow.
CGGStackRestore: gstack underflow.
CGGStackRestore: gstack underflow.
CGGStackRestore: gstack underflow.
CGGStackRestore: gstack underflow.
CGGStackRestore: gstack underflow.
CGGStackRestore: gstack underflow.
Error in sqliteCloseDriver(drv, ...) : RS-DBI driver: (there are  
opened connections -- close them first)
In addition: There were 12 warnings (use warnings() to see them)
 > warnings()
Warning messages:
1: quartz() device interactivity reduced without an event loop  
manager in: quartz(width = 6, height = 5)
2: quartz() device interactivity reduced without an event loop  
manager in: quartz(width = 6, height = 5)
3: quartz() device interactivity reduced without an event loop  
manager in: quartz(width = 6, height = 5)
4: quartz() device interactivity reduced without an event loop  
manager in: quartz(width = 6, height = 5)
5: quartz() device interactivity reduced without an event loop  
manager in: quartz(width = 6, height = 5)
6: quartz() device interactivity reduced without an event loop  
manager in: quartz(width = 6, height = 5)
7: quartz() device interactivity reduced without an event loop  
manager in: quartz(width = 6, height = 5)
8: quartz() device interactivity reduced without an event loop  
manager in: quartz(width = 6, height = 5)
9: quartz() device interactivity reduced without an event loop  
manager in: quartz(width = 6, height = 5)
10: quartz() device interactivity reduced without an event loop  
manager in: quartz(width = 6, height = 5)
11: quartz() device interactivity reduced without an event loop  
manager in: quartz(width = 6, height = 5)
12: quartz() device interactivity reduced without an event loop  
manager in: quartz(width = 6, height = 5)
 >

I would like to pin this down and file a bug with Apple.  They have  
said previously that they will try to fix things that work in FSF  
compilers but not theirs.

I am building a debug version R to run under GDB, but I would be  
grateful for any suggestions about where to look.

Bill Northcott


From w.northcott at unsw.edu.au  Tue Feb 27 05:19:45 2007
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Tue, 27 Feb 2007 15:19:45 +1100
Subject: [R-SIG-Mac] R-2.4.1 built with Apple compiler Xcode 2.4.1 on
	Intel crashes
Message-ID: <C85E97E6-A909-4A59-8FB5-C8E182E02751@unsw.edu.au>

> I have found some code which cause R 2.4.1 built with the C and C++  
> compilers in Xcode 2.4.1 to crash.

Please forget that.  I recompiled RGUI with the same compilers and  
the problem went away!

Bill


From simon.urbanek at r-project.org  Wed Feb 28 18:31:31 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 28 Feb 2007 12:31:31 -0500
Subject: [R-SIG-Mac] An error I don't understand..
In-Reply-To: <45CE75E7.5020105@itu.edu.tr>
References: <mailman.83.1170150818.21949.r-sig-mac@stat.math.ethz.ch>
	<45CE75E7.5020105@itu.edu.tr>
Message-ID: <2A1BD104-60E3-4D49-BE5F-4C16FA08F036@r-project.org>


On Feb 10, 2007, at 8:48 PM, N?zhet Dalfes wrote:

> Hi,
>
> I am new to R, and when I start R (on my MacBook Pro, 10.4.8), I get
>
> 2007-02-11 03:44:06.433 R[428] *** -[NSBundle load]: Error loading  
> code /Users/dalfes/Library/InputManagers/iPLM/iPLM.bundle/Contents/ 
> MacOS/iPLM for bundle /Users/dalfes/Library/InputManagers/iPLM/ 
> iPLM.bundle, error code 2 (link edit error code 0, error number 0 ())
>
> in red!
>
> Can someone tell me what's mssing on my system? Is it something  
> bad, or can I live with it :)
>

I tells you that you are using some broken 3rd party plug-in. Most  
common cause is an upgrade from another machine (e.g. from ppc to  
intel) without removing old stuff. It is usually safe to delete that  
plugin or make sure you get download a more recent version that works  
with your machine.

Cheers,
Simon


From simon.urbanek at r-project.org  Wed Feb 28 19:26:35 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 28 Feb 2007 13:26:35 -0500
Subject: [R-SIG-Mac] Assignment arrow
In-Reply-To: <340909.73236.qm@web51311.mail.yahoo.com>
References: <340909.73236.qm@web51311.mail.yahoo.com>
Message-ID: <5B452233-3CCB-48C4-996B-E1729343FF2E@r-project.org>

John,

On Feb 10, 2007, at 6:25 PM, John Shonder wrote:

> To use R on my Mac, I had been running ESS in emacs under X11. I  
> found R.app, and much prefer it -- especially the quartz graphics  
> -- but there's one thing I miss about ESS: to get an assignment  
> arrow "<-" you just type shift underscore. In R.app, you have to  
> type the less than sign (shift-comma) followed by the dash. Coming  
> over from ESS, the extra keystroke bothers me.
>

To be honest IMHO it's one of the annoying "features" in ESS  
(configurable, though, I presume), because "_" is a valid character  
used in names, so you end up getting broken code like .Platform$r <-  
arch instead of the intended .Platform$r_arch when copy/pasting code.  
In old times it was legal to use _ instead of <-, so ESS was helping  
to make your code more legible without changing the syntax (a_10 was  
the same as a <- 10), but that is not true anymore.


> Is there an easier way to type an assignment arrow in R.app? Some  
> way to make a keyboard macro perhaps? I've looked through the FAQ  
> and can't find anything. I appreciate any assistance.
>

= is probably the best one-key alternative in most cases.

Unfortunately adding a "macro"-type thing is not that easy in the  
current setup (e.g. I could imagine using something like <alt>+<=> or  
possibly better <alt>+<->), but I'll see if it is easier for the  
upcoming version 2 of the GUI.

Cheers,
Simon


From simon.urbanek at r-project.org  Wed Feb 28 19:32:55 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 28 Feb 2007 13:32:55 -0500
Subject: [R-SIG-Mac] building R from source
In-Reply-To: <45D11B0D.60203@jhsph.edu>
References: <45CF4C2D.5000806@jhsph.edu> <45CF5BC7.8000408@stats.uwo.ca>
	<6B040B56-B10C-4EFD-AB68-6521E604354D@unimi.it>
	<45D11B0D.60203@jhsph.edu>
Message-ID: <44FED4E2-0E1A-4F5C-A2B2-D1E101A1BDAB@r-project.org>


On Feb 12, 2007, at 8:57 PM, Rafael Irizarry wrote:

> Stefano, This worked. Here is exactly what I did:
>
> 1) Upgraded Xcode tools to 2.4.1 from
> http://developer.apple.com/tools/download/
>
> 2) Installed the R 2.4.1 binaries from CRAN (i downloaded the dmg) and
> followed the default install.
>
> 3) I installed gfortan by downloading this
> http://prdownloads.sourceforge.net/hpc/gfortran-intel-bin.tar.gz? 
> download
> and typing this:
> sudo tar -xvzf gfortran-intel-bin.tar.gz -C /
> as described here:
> http://hpc.sourceforge.net/.
>
> 4) Downloaded the R 2.4.1 tar.gz file, untared, made a dir to store  
> the
> files, and used this configure and make:
>
> ./configure --prefix=/Users/ririzarr/src/R-2.4.1 --with-blas='- 
> framework
> vecLib' CC=/usr/local/gcc4.0/bin/gcc F77=/usr/local/bin/gfortran
>
> make CPPFLAGS=-DNEED_EXTERN_PC

For the record: ^^^-- this CPPFLAGS setting is needed *only* for the  
compilation of GNU readline, not for R.

>
> R now works and so does ssh and everything else.
>

As of your broken setup before - I do not recommend installing gcc  
from the HPC page, pick the gfortran compiler *only*. Even it has its  
issues, but at least it should not affect other (non-fortran) software.

BTW: as of broken system debugging: try setting  
DYLD_PRINT_LIBRARIES=1 before you start programs to see if they pick  
up libraries from wrong places. Also make sure DYLD_LIBRARY_PATH is  
not set, it causes a lot of headaches as it works in slightly  
unexpected (albeit well documented) ways.

Cheers,
Simon

>
>
> stefano iacus wrote:
>> My latest try is to use apple gcc which comes with latest Developer
>> Tools and fortran from hpc.sourceforge.net
>>
>> stefano
>>
>> On 11/feb/07, at 19:09, Duncan Murdoch wrote:
>>
>>> On 2/11/2007 12:02 PM, Rafael Irizarry wrote:
>>>> Hi!
>>>>
>>>> I need to build R from source on my intel macbook pro. i am  
>>>> wondering if
>>>> there is a consensus on what gcc and fortan to use.
>>>> Ive read the FAQ and various posts but there does not seem to be a
>>>> specific rec.
>>>>
>>>> I am looking for a specific rec because sometime ago I successfully
>>>> installed R by using the gcc and gfortran described here
>>>> http://hpc.sourceforge.net/ but I think this caused problems later.
>>>> After the install, I had various weird issues that  other  
>>>> macbook pro
>>>> users i knew did not have. One of the problems was that ssh seg  
>>>> faulted
>>>> after the 10.4.8. upgrade. The only difference I could find  
>>>> between me
>>>> and others was the aforementioned install. After two days of  
>>>> trying to
>>>> fix the seg fault I gave up and re-installed the operating  
>>>> system. ssh
>>>> is working again after reproducing everything i did before  
>>>> except for
>>>> the gcc/gfortran install.
>>>>
>>>> Any recs will be greatly appreciated.
>>>
>>> This page
>>>
>>> http://r.research.att.com/
>>>
>>> gives detailed recommendations.  They worked for me last year.
>>>
>>> Duncan Murdoch
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From byron.ellis at gmail.com  Wed Feb 28 20:02:21 2007
From: byron.ellis at gmail.com (Byron Ellis)
Date: Wed, 28 Feb 2007 11:02:21 -0800
Subject: [R-SIG-Mac] Assignment arrow
In-Reply-To: <5B452233-3CCB-48C4-996B-E1729343FF2E@r-project.org>
References: <340909.73236.qm@web51311.mail.yahoo.com>
	<5B452233-3CCB-48C4-996B-E1729343FF2E@r-project.org>
Message-ID: <7098abec0702281102n138889d8ia319b4f065ca3d32@mail.gmail.com>

I think adding the hooks shouldn't be too bad in v2. Personally I was
thinking more about TextMate style completions and macros because I'm
not a big fan of the _ "feature" either, though the rcompgen stuff I
added last night maybe makes that redundant.

Of course, v2 can simply be driven from ESS (I changed the detection
routine so it should be able to figure out it's running under Emacs
without any help).


On 2/28/07, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> John,
>
> On Feb 10, 2007, at 6:25 PM, John Shonder wrote:
>
> > To use R on my Mac, I had been running ESS in emacs under X11. I
> > found R.app, and much prefer it -- especially the quartz graphics
> > -- but there's one thing I miss about ESS: to get an assignment
> > arrow "<-" you just type shift underscore. In R.app, you have to
> > type the less than sign (shift-comma) followed by the dash. Coming
> > over from ESS, the extra keystroke bothers me.
> >
>
> To be honest IMHO it's one of the annoying "features" in ESS
> (configurable, though, I presume), because "_" is a valid character
> used in names, so you end up getting broken code like .Platform$r <-
> arch instead of the intended .Platform$r_arch when copy/pasting code.
> In old times it was legal to use _ instead of <-, so ESS was helping
> to make your code more legible without changing the syntax (a_10 was
> the same as a <- 10), but that is not true anymore.
>
>
> > Is there an easier way to type an assignment arrow in R.app? Some
> > way to make a keyboard macro perhaps? I've looked through the FAQ
> > and can't find anything. I appreciate any assistance.
> >
>
> = is probably the best one-key alternative in most cases.
>
> Unfortunately adding a "macro"-type thing is not that easy in the
> current setup (e.g. I could imagine using something like <alt>+<=> or
> possibly better <alt>+<->), but I'll see if it is easier for the
> upcoming version 2 of the GUI.
>
> Cheers,
> Simon
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Byron Ellis (byron.ellis at gmail.com)
"Oook" -- The Librarian


From sfalcon at fhcrc.org  Wed Feb 28 20:16:41 2007
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Wed, 28 Feb 2007 11:16:41 -0800
Subject: [R-SIG-Mac] Assignment arrow
In-Reply-To: <5B452233-3CCB-48C4-996B-E1729343FF2E@r-project.org> (Simon
	Urbanek's message of "Wed, 28 Feb 2007 13:26:35 -0500")
References: <340909.73236.qm@web51311.mail.yahoo.com>
	<5B452233-3CCB-48C4-996B-E1729343FF2E@r-project.org>
Message-ID: <m2irdmf5ye.fsf@ziti.local>

Simon Urbanek <simon.urbanek at r-project.org> writes:

> John,
>
> On Feb 10, 2007, at 6:25 PM, John Shonder wrote:
>
>> To use R on my Mac, I had been running ESS in emacs under X11. I  
>> found R.app, and much prefer it -- especially the quartz graphics  
>> -- but there's one thing I miss about ESS: to get an assignment  
>> arrow "<-" you just type shift underscore. In R.app, you have to  
>> type the less than sign (shift-comma) followed by the dash. Coming  
>> over from ESS, the extra keystroke bothers me.
>>
>
> To be honest IMHO it's one of the annoying "features" in ESS  
> (configurable, though, I presume), because "_" is a valid character  
> used in names, so you end up getting broken code like .Platform$r <-  
> arch instead of the intended .Platform$r_arch when copy/pasting code.  
> In old times it was legal to use _ instead of <-, so ESS was helping  
> to make your code more legible without changing the syntax (a_10 was  
> the same as a <- 10), but that is not true anymore.

I agree about the default setting in ESS being annoying.  I have the
following in my .emacs:

    ;; leave my underscore key alone!
    (ess-toggle-underscore nil)
    (setq ess-S-assign-key [?\C-=])

This way, <_> is itself and <ctrl>+<=> gives <- and <=> gives =.

+ seth


From bates at stat.wisc.edu  Wed Feb 28 22:13:05 2007
From: bates at stat.wisc.edu (Douglas Bates)
Date: Wed, 28 Feb 2007 15:13:05 -0600
Subject: [R-SIG-Mac] Assignment arrow
In-Reply-To: <m2irdmf5ye.fsf@ziti.local>
References: <340909.73236.qm@web51311.mail.yahoo.com>
	<5B452233-3CCB-48C4-996B-E1729343FF2E@r-project.org>
	<m2irdmf5ye.fsf@ziti.local>
Message-ID: <40e66e0b0702281313h78c9b19bp58e5378e4072221f@mail.gmail.com>

On 2/28/07, Seth Falcon <sfalcon at fhcrc.org> wrote:
> Simon Urbanek <simon.urbanek at r-project.org> writes:
>
> > John,
> >
> > On Feb 10, 2007, at 6:25 PM, John Shonder wrote:
> >
> >> To use R on my Mac, I had been running ESS in emacs under X11. I
> >> found R.app, and much prefer it -- especially the quartz graphics
> >> -- but there's one thing I miss about ESS: to get an assignment
> >> arrow "<-" you just type shift underscore. In R.app, you have to
> >> type the less than sign (shift-comma) followed by the dash. Coming
> >> over from ESS, the extra keystroke bothers me.
> >>
> >
> > To be honest IMHO it's one of the annoying "features" in ESS
> > (configurable, though, I presume), because "_" is a valid character
> > used in names, so you end up getting broken code like .Platform$r <-
> > arch instead of the intended .Platform$r_arch when copy/pasting code.
> > In old times it was legal to use _ instead of <-, so ESS was helping
> > to make your code more legible without changing the syntax (a_10 was
> > the same as a <- 10), but that is not true anymore.

This isn't really an ESS discussion but I will point out that if you
want an underscore character in ESS you can get it by typing two
consecutive underscores.  The first one gets changed into ' <- ' and
the second reverts to '_'.


> I agree about the default setting in ESS being annoying.  I have the
> following in my .emacs:
>
>     ;; leave my underscore key alone!
>     (ess-toggle-underscore nil)
>     (setq ess-S-assign-key [?\C-=])
>
> This way, <_> is itself and <ctrl>+<=> gives <- and <=> gives =.
>
> + seth
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


