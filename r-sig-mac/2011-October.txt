From marius.hofert at math.ethz.ch  Sun Oct  2 15:11:46 2011
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Sun, 2 Oct 2011 15:11:46 +0200
Subject: [R-SIG-Mac] Installing R from source: "../i386/ldpaths: No such
	file or directory"
Message-ID: <C32D68EE-198E-44E1-B931-C49EF37D5058@math.ethz.ch>

Hi,

I tried to install R from source on a new MacBook Air running 10.7.1. I followed the steps in the R-Faq and did:

(1) installed Xcode 4.1
(2) installed a *corresponding* Fortran compiler from
http://r.research.att.com/tools -> "Apple Xcode gcc-42 add-ons" [the
correct version for Xcode 4.1 on Lion was gfortran-lion-5666-3.pkg]
(3.1) downloaded and unpacked the latest R sources from CRAN (R-2.13.2.tar.gz)
cd ~/Downloads
(3.2) chose the architecture (x86_64, i386, ppc or ppc64):
arch=x86_64
(3.3) created a build directory 
mkdir build
cd build
(3.4) configured R
../R-2.13.2/configure r_arch=$arch  CC="gcc -arch $arch" \
     CXX="g++ -arch $arch" F77="gfortran -arch $arch" \
     FC="gfortran -arch $arch" OBJC="gcc -arch $arch" \
     --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib \
     --with-blas='-framework vecLib' --enable-BLAS-shlib --with-lapack
(3.5) built R
make -j8
(3.6) installed R in /Library/Frameworks
sudo make install
(4) made R visible from the command line
sudo ln -s /Library/Frameworks/R.framework/Resources/R /usr/local/bin/R 

Executing R in the shell (even after restart) brought:
bash-3.2$ R
/usr/local/bin/R: line 229: /Library/Frameworks/R.framework/Resources/etc/i386/ldpaths: No such file or directory

I found a similar something similar on https://stat.ethz.ch/pipermail/r-help/2007-December/147771.html but it was not answered. 

I check with the installation (from binaries) on another Mac. There the folder /Library/Frameworks/R.framework/Resources/etc contains "i386", "repositories", and "x86_64", but for the new installation, I only found subdirectories "repositories" and "x86_64". 


Cheers,

Marius


From marius.hofert at math.ethz.ch  Sun Oct  2 16:09:08 2011
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Sun, 2 Oct 2011 16:09:08 +0200
Subject: [R-SIG-Mac] Fwd: Installing R from source: "../i386/ldpaths: No
	such file or directory"
References: <C32D68EE-198E-44E1-B931-C49EF37D5058@math.ethz.ch>
Message-ID: <35C8FC17-DC19-4E12-895F-2ED61030F470@math.ethz.ch>

Okay, I found out that I have to start R via "R --arch=x86_64", then I can start R. 
I simply created a shell alias and I can now just use "R". 

See also the full post: http://www.mail-archive.com/r-sig-mac at stat.math.ethz.ch/msg02207.html

Begin forwarded message:

> From: Marius Hofert <marius.hofert at math.ethz.ch>
> Subject: Installing R from source: "../i386/ldpaths: No such file or directory"
> Date: 2011-10-02 15:11 
> To: Help R <r-sig-mac at r-project.org>
> 
> Hi,
> 
> I tried to install R from source on a new MacBook Air running 10.7.1. I followed the steps in the R-Faq and did:
> 
> (1) installed Xcode 4.1
> (2) installed a *corresponding* Fortran compiler from
> http://r.research.att.com/tools -> "Apple Xcode gcc-42 add-ons" [the
> correct version for Xcode 4.1 on Lion was gfortran-lion-5666-3.pkg]
> (3.1) downloaded and unpacked the latest R sources from CRAN (R-2.13.2.tar.gz)
> cd ~/Downloads
> (3.2) chose the architecture (x86_64, i386, ppc or ppc64):
> arch=x86_64
> (3.3) created a build directory 
> mkdir build
> cd build
> (3.4) configured R
> ../R-2.13.2/configure r_arch=$arch  CC="gcc -arch $arch" \
>     CXX="g++ -arch $arch" F77="gfortran -arch $arch" \
>     FC="gfortran -arch $arch" OBJC="gcc -arch $arch" \
>     --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib \
>     --with-blas='-framework vecLib' --enable-BLAS-shlib --with-lapack
> (3.5) built R
> make -j8
> (3.6) installed R in /Library/Frameworks
> sudo make install
> (4) made R visible from the command line
> sudo ln -s /Library/Frameworks/R.framework/Resources/R /usr/local/bin/R 
> 
> Executing R in the shell (even after restart) brought:
> bash-3.2$ R
> /usr/local/bin/R: line 229: /Library/Frameworks/R.framework/Resources/etc/i386/ldpaths: No such file or directory
> 
> I found a similar something similar on https://stat.ethz.ch/pipermail/r-help/2007-December/147771.html but it was not answered. 
> 
> I check with the installation (from binaries) on another Mac. There the folder /Library/Frameworks/R.framework/Resources/etc contains "i386", "repositories", and "x86_64", but for the new installation, I only found subdirectories "repositories" and "x86_64". 
> 
> 
> Cheers,
> 
> Marius
> 


From simon.urbanek at r-project.org  Sun Oct  2 17:12:20 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 2 Oct 2011 11:12:20 -0400
Subject: [R-SIG-Mac] Installing R from source: "../i386/ldpaths: No such
	file or directory"
In-Reply-To: <C32D68EE-198E-44E1-B931-C49EF37D5058@math.ethz.ch>
References: <C32D68EE-198E-44E1-B931-C49EF37D5058@math.ethz.ch>
Message-ID: <BE3683A4-D789-4BD1-892E-AD69C7F1A36A@r-project.org>

Marius,

On Oct 2, 2011, at 9:11 AM, Marius Hofert wrote:

> Hi,
> 
> I tried to install R from source on a new MacBook Air running 10.7.1. I followed the steps in the R-Faq and did:
> 
> (1) installed Xcode 4.1
> (2) installed a *corresponding* Fortran compiler from
> http://r.research.att.com/tools -> "Apple Xcode gcc-42 add-ons" [the
> correct version for Xcode 4.1 on Lion was gfortran-lion-5666-3.pkg]
> (3.1) downloaded and unpacked the latest R sources from CRAN (R-2.13.2.tar.gz)
> cd ~/Downloads
> (3.2) chose the architecture (x86_64, i386, ppc or ppc64):
> arch=x86_64
> (3.3) created a build directory 
> mkdir build
> cd build
> (3.4) configured R
> ../R-2.13.2/configure r_arch=$arch  CC="gcc -arch $arch" \
>     CXX="g++ -arch $arch" F77="gfortran -arch $arch" \
>     FC="gfortran -arch $arch" OBJC="gcc -arch $arch" \
>     --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib \
>     --with-blas='-framework vecLib' --enable-BLAS-shlib --with-lapack
> (3.5) built R
> make -j8
> (3.6) installed R in /Library/Frameworks
> sudo make install

(FWIW: you don't need sudo if you are admin. If you use sudo once, you have to use it always.)


> (4) made R visible from the command line
> sudo ln -s /Library/Frameworks/R.framework/Resources/R /usr/local/bin/R 
> 

(FWIW: the canonical location is /Library/Frameworks/R.framework/Resources/bin/R)


> Executing R in the shell (even after restart) brought:
> bash-3.2$ R
> /usr/local/bin/R: line 229: /Library/Frameworks/R.framework/Resources/etc/i386/ldpaths: No such file or directory
> 

The framework installation uses `arch` to determine the default architecture which in your case is i386 but it is not installed. You can edit

/Library/Frameworks/R.framework/Resources/bin/R

and replace 
: ${R_ARCH=/`arch`}
with
: ${R_ARCH=/x86_64}

The assumption is that if you use a framework the resulting R will be universal, but it your case it's not. I'll see if we can come up with something more robust ...

Cheers,
Simon


> I found a similar something similar on https://stat.ethz.ch/pipermail/r-help/2007-December/147771.html but it was not answered. 
> 

wrong list ;)


> I check with the installation (from binaries) on another Mac. There the folder /Library/Frameworks/R.framework/Resources/etc contains "i386", "repositories", and "x86_64", but for the new installation, I only found subdirectories "repositories" and "x86_64". 
> 
> 
> Cheers,
> 
> Marius
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From charles.sharpsteen at gmail.com  Mon Oct  3 22:12:50 2011
From: charles.sharpsteen at gmail.com (Charlie Sharpsteen)
Date: Mon, 3 Oct 2011 13:12:50 -0700
Subject: [R-SIG-Mac] Installing R from source: "../i386/ldpaths: No such
 file or directory"
In-Reply-To: <BE3683A4-D789-4BD1-892E-AD69C7F1A36A@r-project.org>
References: <C32D68EE-198E-44E1-B931-C49EF37D5058@math.ethz.ch>
	<BE3683A4-D789-4BD1-892E-AD69C7F1A36A@r-project.org>
Message-ID: <2503818.1152.1317672770466.JavaMail.geo-discussion-forums@prfp13>

On Sunday, October 2, 2011 8:12:20 AM UTC-7, Simon Urbanek wrote:
>
> The framework installation uses `arch` to determine the default 
> architecture which in your case is i386 but it is not installed. You can 
> edit
>
> /Library/Frameworks/R.framework/Resources/bin/R
>
> and replace 
> : ${R_ARCH=/`arch`}
> with
> : ${R_ARCH=/x86_64}
>
> The assumption is that if you use a framework the resulting R will be 
> universal, but it your case it's not. I'll see if we can come up with 
> something more robust ...
>
> Cheers,
> Simon
>

I run 10.6.8 with an x86_64 kernel and `arch` still returns i386 which is a 
bit misleading. For the Homebrew package manager, we decide if 64 bit 
binaries are preferred by checking the return value of `/usr/sbin/sysctl -n 
hw.cpu64bit_capable`.

-Charlie 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111003/4ebd70d4/attachment.html>

From charles.sharpsteen at gmail.com  Mon Oct  3 22:12:50 2011
From: charles.sharpsteen at gmail.com (Charlie Sharpsteen)
Date: Mon, 3 Oct 2011 13:12:50 -0700 (PDT)
Subject: [R-SIG-Mac] Installing R from source: "../i386/ldpaths: No such
 file or directory"
In-Reply-To: <BE3683A4-D789-4BD1-892E-AD69C7F1A36A@r-project.org>
References: <C32D68EE-198E-44E1-B931-C49EF37D5058@math.ethz.ch>
	<BE3683A4-D789-4BD1-892E-AD69C7F1A36A@r-project.org>
Message-ID: <2503818.1152.1317672770466.JavaMail.geo-discussion-forums@prfp13>

On Sunday, October 2, 2011 8:12:20 AM UTC-7, Simon Urbanek wrote:
>
> The framework installation uses `arch` to determine the default 
> architecture which in your case is i386 but it is not installed. You can 
> edit
>
> /Library/Frameworks/R.framework/Resources/bin/R
>
> and replace 
> : ${R_ARCH=/`arch`}
> with
> : ${R_ARCH=/x86_64}
>
> The assumption is that if you use a framework the resulting R will be 
> universal, but it your case it's not. I'll see if we can come up with 
> something more robust ...
>
> Cheers,
> Simon
>

I run 10.6.8 with an x86_64 kernel and `arch` still returns i386 which is a 
bit misleading. For the Homebrew package manager, we decide if 64 bit 
binaries are preferred by checking the return value of `/usr/sbin/sysctl -n 
hw.cpu64bit_capable`.

-Charlie 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111003/4ebd70d4/attachment-0001.html>

From simon.urbanek at r-project.org  Mon Oct  3 22:53:45 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Oct 2011 16:53:45 -0400
Subject: [R-SIG-Mac] Installing R from source: "../i386/ldpaths: No such
	file or directory"
In-Reply-To: <2503818.1152.1317672770466.JavaMail.geo-discussion-forums@prfp13>
References: <C32D68EE-198E-44E1-B931-C49EF37D5058@math.ethz.ch>
	<BE3683A4-D789-4BD1-892E-AD69C7F1A36A@r-project.org>
	<2503818.1152.1317672770466.JavaMail.geo-discussion-forums@prfp13>
Message-ID: <9968A269-C748-4055-B4DB-F93BD16C2A02@r-project.org>


On Oct 3, 2011, at 4:12 PM, Charlie Sharpsteen wrote:

> On Sunday, October 2, 2011 8:12:20 AM UTC-7, Simon Urbanek wrote:
> The framework installation uses `arch` to determine the default architecture which in your case is i386 but it is not installed. You can edit
> 
> /Library/Frameworks/R.framework/Resources/bin/R
> 
> and replace 
> : ${R_ARCH=/`arch`}
> with
> : ${R_ARCH=/x86_64}
> 
> The assumption is that if you use a framework the resulting R will be universal, but it your case it's not. I'll see if we can come up with something more robust ...
> 
> Cheers,
> Simon
> 
> 
> I run 10.6.8 with an x86_64 kernel and `arch` still returns i386 which is a bit misleading.

Yes, you can use `uname -m` to get the kernel preference.


> For the Homebrew package manager, we decide if 64 bit binaries are preferred by checking the return value of `/usr/sbin/sysctl -n hw.cpu64bit_capable`.
> 

Well, that is a bit misleading, too, because it assumes that 64-bit capable machines prefer 64-bit binaries, which is not always true (e.g. low-memory machines usually don't want the extra overhead).

The `arch` idiom was designed to tell PowerPC and Intel apart, it was not designed to detect preference between 32 and 64-bit - in fact 32-bit is more safe in that it will work anywhere (so far, I would not surprised if Apple changes that, too ;)).

Cheers,
Simon


From nfaux at unimelb.edu.au  Tue Oct  4 04:41:54 2011
From: nfaux at unimelb.edu.au (Noel Faux)
Date: Tue, 4 Oct 2011 13:41:54 +1100
Subject: [R-SIG-Mac] Unable to load local library via GUI
Message-ID: <B5A132BD-8022-4181-882F-DB1BAA3B3F0A@unimelb.edu.au>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111004/a83c1b42/attachment.pl>

From simon.urbanek at r-project.org  Tue Oct  4 05:05:11 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Oct 2011 23:05:11 -0400
Subject: [R-SIG-Mac] Unable to load local library via GUI
In-Reply-To: <B5A132BD-8022-4181-882F-DB1BAA3B3F0A@unimelb.edu.au>
References: <B5A132BD-8022-4181-882F-DB1BAA3B3F0A@unimelb.edu.au>
Message-ID: <33BB6E79-5410-4333-9BAA-A357EFB1A2BA@r-project.org>

Noel,

the package uses BLAS and your R is setup to build against vecLib BLAS which has bad ID so anything linked against it will have trouble finding libRblas. The simple fix is to switch to R BLAS instead of vecLib BLAS (see R for Mac FAQ 12.5). Alternatively update to R 2.13.2, the issue has been fixed in the CRAN binary distribution of R 2.13.2.

Cheers,
Simon


On Oct 3, 2011, at 10:41 PM, Noel Faux wrote:

> Hi all,
> 
> I have an interesting issue specific to the Mac R.app, but not to the command line R or Rstudio.
> I have looked through the archive, however most of the threads seem to be for std packages, and further, most of what is said is a little beyond me, so any help with the problem below would be really appreciated.
> 
> I have a locally developed library (libmlalgs), which I am able to install via the command line:
> sudo R64 CMD INSTALL libmlalgs
> In the /Library/Frameworks/R.framework/Versions/2.13/Resources/library/libmlalgs there is a .so file
> /Library/Frameworks/R.framework/Versions/2.13/Resources/library/libmlalgs/libs/x86_64/libmlalgs.so
> 
> This runs and installs OK.
> I am able to run R64 in the command line and load the libmlalgs library fine :)
> I am able to use Rstudio and load the libmlalgs library fine.
> 
> However, when using the R64.app and try and load the library within the GUI I am getting the following error:
> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>  unable to load shared object '/Library/Frameworks/R.framework/Versions/2.13/Resources/library/libmlalgs/libs/x86_64/libmlalgs.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/2.13/Resources/library/libmlalgs/libs/x86_64/libmlalgs.so, 6): Library not loaded: libRblas.dylib
>  Referenced from: /Library/Frameworks/R.framework/Versions/2.13/Resources/library/libmlalgs/libs/x86_64/libmlalgs.so
>  Reason: image not found
> Error in library(libmlalgs) : .First.lib failed for 'libmlalgs'
> 
> I know the libmlalgs.so is in the right place and the permissions look OK:
> -rwxr-xr-x  1 root  admin  58384  3 Oct 14:30 libmlalgs.so
> 
> So I am stumped as to why the GUI is unable to read the file.
> 
> Any pointers would very welcome. As I am a textmate user and it passes the code to the R64.app, I currently stuck with either command line or Rstudio (it's nice but is currently missing some key features textmate has)
> 
> Specs:
> Running Mac OSX 10.7.1
> R version 2.13.1 Patched (2011-08-14 r56741)
> Copyright (C) 2011 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> Many thanks,
> Noel Faux
> 
> ---------
> NHMRC Post Doctoral Fellow
> Australian Imaging Biomarker Lifestyle (AIBL) flagship
> Mental Health Research Institute
> ---------
> 155 Oak St, Parkville
> Victoria 3052
> T: +613 9389 2943
> ---------
> The University of Melbourne
> Level 3, Alan Gilbert Building
> 161 Barry Street, Carlton
> Victoria 3010
> T: +613 8344 1944
> ----------------
> This email and any attachments are confidential. They ma...{{dropped:18}}
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From nfaux at unimelb.edu.au  Tue Oct  4 05:44:20 2011
From: nfaux at unimelb.edu.au (Noel Faux)
Date: Tue, 4 Oct 2011 14:44:20 +1100
Subject: [R-SIG-Mac] Unable to load local library via GUI
In-Reply-To: <33BB6E79-5410-4333-9BAA-A357EFB1A2BA@r-project.org>
References: <B5A132BD-8022-4181-882F-DB1BAA3B3F0A@unimelb.edu.au>
	<33BB6E79-5410-4333-9BAA-A357EFB1A2BA@r-project.org>
Message-ID: <A9495C1E-1008-451B-AD89-E24FC1FFD116@unimelb.edu.au>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111004/938f556e/attachment.pl>

From simon.urbanek at r-project.org  Tue Oct  4 18:31:49 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 4 Oct 2011 12:31:49 -0400
Subject: [R-SIG-Mac] Unable to load local library via GUI
In-Reply-To: <A9495C1E-1008-451B-AD89-E24FC1FFD116@unimelb.edu.au>
References: <B5A132BD-8022-4181-882F-DB1BAA3B3F0A@unimelb.edu.au>
	<33BB6E79-5410-4333-9BAA-A357EFB1A2BA@r-project.org>
	<A9495C1E-1008-451B-AD89-E24FC1FFD116@unimelb.edu.au>
Message-ID: <B407D6AE-490B-45C3-A755-6D6D085E3C2E@r-project.org>


On Oct 3, 2011, at 11:44 PM, Noel Faux wrote:

> Hi Simon,
> 
> Thanks for the info. However, following the download links from the R-project home page, the only available binary on the Australian mirrors are R 2.13.1. Should I use http://r.research.att.com/R-2.13-branch-leopard.pkg?
> 

You can, but simply pick a more up-to-date mirror or the main CRAN site. FWIW the master server for Mac releases is 
http://r.research.att.com/bin/macosx

Cheers,
Simon


> Cheers,
> Noel Faux
> ---------
> NHMRC Post Doctoral Fellow
> Australian Imaging Biomarker Lifestyle (AIBL) flagship
> Mental Health Research Institute
> ---------
> 155 Oak St, Parkville
> Victoria 3052
> T: +613 9389 2943
> ---------
> The University of Melbourne
> Level 3, Alan Gilbert Building
> 161 Barry Street, Carlton
> Victoria 3010
> T: +613 8344 1944
> ----------------
> This email and any attachments are confidential. They may contain legally privileged information or copyright material. You should not read, copy, use or disclose them without authorisation. If you are not an intended recipient, please contact us at once by return email and then delete both messages. We do not accept liability in connection with computer virus, data corruption, delay, interruption, unauthorised access or unauthorised amendment. 
> This notice should not be removed.
> 
> 
> 
> 
> 
> 
> 
> On 04/10/2011, at 2:05 PM, Simon Urbanek wrote:
> 
>> Noel,
>> 
>> the package uses BLAS and your R is setup to build against vecLib BLAS which has bad ID so anything linked against it will have trouble finding libRblas. The simple fix is to switch to R BLAS instead of vecLib BLAS (see R for Mac FAQ 12.5). Alternatively update to R 2.13.2, the issue has been fixed in the CRAN binary distribution of R 2.13.2.
>> 
>> Cheers,
>> Simon
>> 
>> 
>> On Oct 3, 2011, at 10:41 PM, Noel Faux wrote:
>> 
>>> Hi all,
>>> 
>>> I have an interesting issue specific to the Mac R.app, but not to the command line R or Rstudio.
>>> I have looked through the archive, however most of the threads seem to be for std packages, and further, most of what is said is a little beyond me, so any help with the problem below would be really appreciated.
>>> 
>>> I have a locally developed library (libmlalgs), which I am able to install via the command line:
>>> sudo R64 CMD INSTALL libmlalgs
>>> In the /Library/Frameworks/R.framework/Versions/2.13/Resources/library/libmlalgs there is a .so file
>>> /Library/Frameworks/R.framework/Versions/2.13/Resources/library/libmlalgs/libs/x86_64/libmlalgs.so
>>> 
>>> This runs and installs OK.
>>> I am able to run R64 in the command line and load the libmlalgs library fine :)
>>> I am able to use Rstudio and load the libmlalgs library fine.
>>> 
>>> However, when using the R64.app and try and load the library within the GUI I am getting the following error:
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>>> unable to load shared object '/Library/Frameworks/R.framework/Versions/2.13/Resources/library/libmlalgs/libs/x86_64/libmlalgs.so':
>>> dlopen(/Library/Frameworks/R.framework/Versions/2.13/Resources/library/libmlalgs/libs/x86_64/libmlalgs.so, 6): Library not loaded: libRblas.dylib
>>> Referenced from: /Library/Frameworks/R.framework/Versions/2.13/Resources/library/libmlalgs/libs/x86_64/libmlalgs.so
>>> Reason: image not found
>>> Error in library(libmlalgs) : .First.lib failed for 'libmlalgs'
>>> 
>>> I know the libmlalgs.so is in the right place and the permissions look OK:
>>> -rwxr-xr-x  1 root  admin  58384  3 Oct 14:30 libmlalgs.so
>>> 
>>> So I am stumped as to why the GUI is unable to read the file.
>>> 
>>> Any pointers would very welcome. As I am a textmate user and it passes the code to the R64.app, I currently stuck with either command line or Rstudio (it's nice but is currently missing some key features textmate has)
>>> 
>>> Specs:
>>> Running Mac OSX 10.7.1
>>> R version 2.13.1 Patched (2011-08-14 r56741)
>>> Copyright (C) 2011 The R Foundation for Statistical Computing
>>> ISBN 3-900051-07-0
>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>> 
>>> Many thanks,
>>> Noel Faux
>>> 
>>> ---------
>>> NHMRC Post Doctoral Fellow
>>> Australian Imaging Biomarker Lifestyle (AIBL) flagship
>>> Mental Health Research Institute
>>> ---------
>>> 155 Oak St, Parkville
>>> Victoria 3052
>>> T: +613 9389 2943
>>> ---------
>>> The University of Melbourne
>>> Level 3, Alan Gilbert Building
>>> 161 Barry Street, Carlton
>>> Victoria 3010
>>> T: +613 8344 1944
>>> ----------------
>>> This email and any attachments are confidential. They ma...{{dropped:18}}
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
> 


From nfaux at unimelb.edu.au  Wed Oct  5 00:15:29 2011
From: nfaux at unimelb.edu.au (Noel Faux)
Date: Wed, 5 Oct 2011 09:15:29 +1100
Subject: [R-SIG-Mac] Unable to load local library via GUI
In-Reply-To: <B407D6AE-490B-45C3-A755-6D6D085E3C2E@r-project.org>
References: <B5A132BD-8022-4181-882F-DB1BAA3B3F0A@unimelb.edu.au>
	<33BB6E79-5410-4333-9BAA-A357EFB1A2BA@r-project.org>
	<A9495C1E-1008-451B-AD89-E24FC1FFD116@unimelb.edu.au>
	<B407D6AE-490B-45C3-A755-6D6D085E3C2E@r-project.org>
Message-ID: <209A48FF-7180-4662-BAD2-C16B22070A9A@unimelb.edu.au>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111005/ec09bc03/attachment.pl>

From chatfield at alumni.rice.edu  Wed Oct  5 21:19:32 2011
From: chatfield at alumni.rice.edu (Robert Chatfield)
Date: Wed, 5 Oct 2011 12:19:32 -0700
Subject: [R-SIG-Mac] RGtk, rattle, and GTK+ on Snow Leopard and Lion
Message-ID: <6E0C43D8-6066-4963-912F-F3222ED1B274@alumni.rice.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111005/de3ad199/attachment.pl>

From simon.urbanek at r-project.org  Wed Oct  5 21:38:28 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 5 Oct 2011 15:38:28 -0400
Subject: [R-SIG-Mac] RGtk, rattle, and GTK+ on Snow Leopard and Lion
In-Reply-To: <6E0C43D8-6066-4963-912F-F3222ED1B274@alumni.rice.edu>
References: <6E0C43D8-6066-4963-912F-F3222ED1B274@alumni.rice.edu>
Message-ID: <40127341-3FDA-402F-ABF7-484A595403E1@r-project.org>


On Oct 5, 2011, at 3:19 PM, Robert Chatfield wrote:

> Do I understand the implications of previous messages about
> rattle correctlly?
> 
> => Do I also need to use homebrew and to a full R install as is implied for Lion?
> 

Just to clarify some misinformation in that thread so far:

The issue has nothing to do with the OS X version, you can happily use RGtk2 and other GTK-based packages with the CRAN setup, regardless is you're on Lion, SL, or Leopard. The problem is that recent rattle requires higher GTK version that what's available, so you're on your own.

Also note that Erich's description was about *native* GTK which is somewhat experimental (use at your own risk!), it is not about the X11 GTK we use in R distribution.

The reference to Homebrew was quite irrelevant for the reasons you noted.

We may consider updating the GTK binary for R 2.14.0, but it's certainly not high on the priority list.

Cheers,
Simon



> Bob  C
> 
> This is what I've read
> R-SIG-Mac Digest, Vol 89, Issue 7   1.  Error messages when starting Rattle (Richard R. Liu)
>> (R:1683): Gtk-WARNING **: Unable to find default local directory monitor type
> 
> =>  I get the same message: (R:1683): Gtk-WARNING **: Unable to find default local directory monitor type
> 
> => I have been able to get Rattle to start, but it will do very little; does not respond to most buttons.
> 
> => 6-core Xeon 2.66 GHz   OS X 10.6.8   R.2.13.2  rattlev 2.6.10
> 
>> I get
>>> library(rattle)
>> Rattle: A free graphical interface for data mining with R.
>> Version 2.6.10 Copyright (c) 2006-2011 Togaware Pty Ltd.
>> Type 'rattle()' to shake, rattle, and roll your data. 
>>> rattle(csvname="organics.csv")
>> Error in rattle(csvname = "organics.csv") : attempt to apply non-function
>> In addition: Warning message:
>> In method(obj, ...) :
>>  /Library/Frameworks/R.framework/Versions/2.13/Resources/library/rattle/etc/rattle.ui: required gtk+ version 2.20, current version is 2.18
>> Rattle timestamp (for the message above): 2011-10-05 12:15:51
>> ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>>> rattle()
>> Error in rattle() : attempt to apply non-function
>> In addition: Warning message:
>> In method(obj, ...) :
>>  /Library/Frameworks/R.framework/Versions/2.13/Resources/library/rattle/etc/rattle.ui: required gtk+ version 2.20, current version is 2.18
>> Rattle timestamp (for the message above): 2011-10-05 12:16:07
>> ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 
> R-SIG-Mac Digest, Vol 97, Issue 11   3. Re:  R editor for Mac (Simon Urbanek)
>> 
>>> 
>>>> Just a tiny, technical side-comment:  it uses a separate process for R which has serious technical implications (you can't use any GUIs, external UI libraries, or even native devices like Quartz for example - it leads to crashes).
>>> 
>>> Can you expand on that, Simon? Crashes when using Quartz would seem like an immediate deal-breaker for Mac OS X users. Does that mean that ordinary plotting calls would cause crashes?
>>> 
>> 
>> They don't use Quartz - they have their own re-implementation of Cairo which creates files which is what gets displayed in the GUI - the GUI doesn't actually use the R device directly. It's entirely different from what you get in regular R. Unfortunately it means you can't use Quartz which is already a deal-breaker for me.
>> 
>> 
>>> I was assuming that users of RStudio would not be also using other GUI's, but I do not know whether I am using "external UI libraries" in my typical R activities using rms/Hmisc/survival. Is this in reference to packages such as rgl that invoke libraries such as GTK? Are Rattle or rggobi precluded as packages?
>>> 
>> 
>> In principle, yes (but I'd think that if you use Rattle it's pointless to have another GUI ;)). The actual interaction depends on the details inside their rsession part - so I can't comment on that and I didn't test the packages you mention. The bottom line is that all packages are run outside the GUI in an R embedding.
>> 
>> If I get a spare minute, I'm actually tempted to hack RStudio to remedy this design problem, because it would allow for example iPlots eXtreme to be used directly in the GUI which the current setup doesn't allow.
>> 
>> Cheers,
>> Simon
> 
> R-SIG-Mac Digest, Vol 103, Issue 24
>  5. Re:  RGtk, rattle, and GTK+ on Lion (Charlie Sharpsteen)
>> ...
>> Message: 5
>> Date: Sun, 25 Sep 2011 21:17:40 -0700
>> From: Charlie Sharpsteen <charles.sharpsteen at gmail.com>
>> To: <r-sig-mac at googlegroups.com>
>> Cc: r-sig-mac at stat.math.ethz.ch
>> Subject: Re: [R-SIG-Mac] RGtk, rattle, and GTK+ on Lion
>> Message-ID:
>> 	<12675195.1573.1317010660824.JavaMail.geo-discussion-forums at prhv38>
>> Content-Type: text/plain; charset="utf-8"
>> 
>> On Sunday, September 25, 2011 6:12:08 AM UTC-7, Erich Neuwirth wrote:
>>> 
>> ....  omitted quote 
>> A package manager could help with this.
>> 
>> For example, install Homebrew:
>> 
>> http://mxcl.github.com/homebrew
>> 
>> Install GFortran and R:
>> 
>> brew install gfortran
>> brew install R
>> 
>> You might be able to skip this step and use the R binaries from CRAN---the 
>> only caveat I can think of is that Homebrew doesn't build a Universal GTK+ 
>> (it gives you x86_64) and CRAN R might want to build both i386 and x86_64 
>> versions of packages.
>> 
>> Install GTK+:
>> 
>> brew install gtk+
>> 
>> Run R and install rattle:
>> 
>> install.packages('rattle')
>> 
>> Hope this helps!
>> 
>> -Charlie
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From marc_schwartz at me.com  Thu Oct  6 02:12:02 2011
From: marc_schwartz at me.com (Marc Schwartz)
Date: Wed, 5 Oct 2011 19:12:02 -0500
Subject: [R-SIG-Mac] OT Sorta - RIP Steve Jobs
Message-ID: <EFA8BAD0-40C8-4297-9E5E-3BD84487F2FA@me.com>

In case you have not heard, Steve Jobs has passed.

  http://www.apple.com/stevejobs/

Marc Schwartz


From john.maindonald at anu.edu.au  Thu Oct  6 03:31:20 2011
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Thu, 6 Oct 2011 12:31:20 +1100
Subject: [R-SIG-Mac] Screen device under macOS X
Message-ID: <D2CBB9B1-BCB6-4D39-B2AE-6E95CBCFA791@anu.edu.au>

When I start up R (or at least 64-bit R) from the command line
or from ESS, and plot a graph without first opening a graphics
screen window, I get an X11 window.  

If I type capabilities(), I get:

> capabilities()
    jpeg      png     tiff    tcltk      X11     aqua http/ftp  sockets 
    TRUE     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE 
  libxml     fifo   cledit    iconv      NLS  profmem    cairo 
    TRUE     TRUE    FALSE     TRUE     TRUE     TRUE     TRUE 

Given that "aqua" is available, why do I not get a quartz window? 
(I can of course open such a window.)

> sessionInfo()
R version 2.13.2 (2011-09-30)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] lattice_0.19-33

loaded via a namespace (and not attached):
[1] grid_2.13.2  tools_2.13.2

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.
http://www.maths.anu.edu.au/~johnm


From kasperdanielhansen at gmail.com  Thu Oct  6 03:42:44 2011
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Wed, 5 Oct 2011 21:42:44 -0400
Subject: [R-SIG-Mac] Screen device under macOS X
In-Reply-To: <D2CBB9B1-BCB6-4D39-B2AE-6E95CBCFA791@anu.edu.au>
References: <D2CBB9B1-BCB6-4D39-B2AE-6E95CBCFA791@anu.edu.au>
Message-ID: <CAC2h7uuN=5uHi01919MqUAGoO_=oZ-HirwGBw3EZzuP=1W7YRQ@mail.gmail.com>

This has everything to do with your configuration.  I don't know why R
does not do this out of the box when build with quartz support, but I
know you can change it by, for example,
   Sys.setenv("R_INTERACTIVE_DEVICE" = "quartz")
in your .Rprofile

Kasper

On Wed, Oct 5, 2011 at 9:31 PM, John Maindonald
<john.maindonald at anu.edu.au> wrote:
> When I start up R (or at least 64-bit R) from the command line
> or from ESS, and plot a graph without first opening a graphics
> screen window, I get an X11 window.
>
> If I type capabilities(), I get:
>
>> capabilities()
> ? ?jpeg ? ? ?png ? ? tiff ? ?tcltk ? ? ?X11 ? ? aqua http/ftp ?sockets
> ? ?TRUE ? ? TRUE ? ? TRUE ? ? TRUE ? ? TRUE ? ? TRUE ? ? TRUE ? ? TRUE
> ?libxml ? ? fifo ? cledit ? ?iconv ? ? ?NLS ?profmem ? ?cairo
> ? ?TRUE ? ? TRUE ? ?FALSE ? ? TRUE ? ? TRUE ? ? TRUE ? ? TRUE
>
> Given that "aqua" is available, why do I not get a quartz window?
> (I can of course open such a window.)
>
>> sessionInfo()
> R version 2.13.2 (2011-09-30)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] C
>
> attached base packages:
> [1] stats ? ? graphics ?grDevices utils ? ? datasets ?methods ? base
>
> other attached packages:
> [1] lattice_0.19-33
>
> loaded via a namespace (and not attached):
> [1] grid_2.13.2 ?tools_2.13.2
>
> John Maindonald ? ? ? ? ? ? email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473 ? ?fax ?: +61 2(6125)5549
> Centre for Mathematics & Its Applications, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
> http://www.maths.anu.edu.au/~johnm
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From ripley at stats.ox.ac.uk  Thu Oct  6 08:05:16 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 6 Oct 2011 07:05:16 +0100
Subject: [R-SIG-Mac] Screen device under macOS X
In-Reply-To: <CAC2h7uuN=5uHi01919MqUAGoO_=oZ-HirwGBw3EZzuP=1W7YRQ@mail.gmail.com>
References: <D2CBB9B1-BCB6-4D39-B2AE-6E95CBCFA791@anu.edu.au>
	<CAC2h7uuN=5uHi01919MqUAGoO_=oZ-HirwGBw3EZzuP=1W7YRQ@mail.gmail.com>
Message-ID: <alpine.LFD.2.02.1110060652460.13094@gannet.stats.ox.ac.uk>

On Wed, 5 Oct 2011, Kasper Daniel Hansen wrote:

> This has everything to do with your configuration.  I don't know why R
> does not do this out of the box when build with quartz support, but I

It does for me, using either the CRAN build or my own build.
See the code in src/library/grDevices/R/zzz.R

My guess is that you have the DISPLAY environment variable set, or set 
incorrectly.

> know you can change it by, for example,
>   Sys.setenv("R_INTERACTIVE_DEVICE" = "quartz")
> in your .Rprofile
>
> Kasper
>
> On Wed, Oct 5, 2011 at 9:31 PM, John Maindonald
> <john.maindonald at anu.edu.au> wrote:
>> When I start up R (or at least 64-bit R) from the command line
>> or from ESS, and plot a graph without first opening a graphics
>> screen window, I get an X11 window.
>>
>> If I type capabilities(), I get:
>>
>>> capabilities()
>> ? ?jpeg ? ? ?png ? ? tiff ? ?tcltk ? ? ?X11 ? ? aqua http/ftp ?sockets
>> ? ?TRUE ? ? TRUE ? ? TRUE ? ? TRUE ? ? TRUE ? ? TRUE ? ? TRUE ? ? TRUE
>> ?libxml ? ? fifo ? cledit ? ?iconv ? ? ?NLS ?profmem ? ?cairo
>> ? ?TRUE ? ? TRUE ? ?FALSE ? ? TRUE ? ? TRUE ? ? TRUE ? ? TRUE
>>
>> Given that "aqua" is available, why do I not get a quartz window?
>> (I can of course open such a window.)
>>
>>> sessionInfo()
>> R version 2.13.2 (2011-09-30)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>
>> locale:
>> [1] C
>>
>> attached base packages:
>> [1] stats ? ? graphics ?grDevices utils ? ? datasets ?methods ? base
>>
>> other attached packages:
>> [1] lattice_0.19-33
>>
>> loaded via a namespace (and not attached):
>> [1] grid_2.13.2 ?tools_2.13.2
>>
>> John Maindonald ? ? ? ? ? ? email: john.maindonald at anu.edu.au
>> phone : +61 2 (6125)3473 ? ?fax ?: +61 2(6125)5549
>> Centre for Mathematics & Its Applications, Room 1194,
>> John Dedman Mathematical Sciences Building (Building 27)
>> Australian National University, Canberra ACT 0200.
>> http://www.maths.anu.edu.au/~johnm
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From simon.urbanek at r-project.org  Thu Oct  6 15:35:02 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 6 Oct 2011 09:35:02 -0400
Subject: [R-SIG-Mac] Screen device under macOS X
In-Reply-To: <D2CBB9B1-BCB6-4D39-B2AE-6E95CBCFA791@anu.edu.au>
References: <D2CBB9B1-BCB6-4D39-B2AE-6E95CBCFA791@anu.edu.au>
Message-ID: <23D8C78F-2985-4602-BE5C-E7313C6DBD3E@r-project.org>

Are you on Lion? (You failed to mention that crucial detail)
If so, R cannot detect window session on Lion (the OS says there is none even if there is one) so it must assume that you are using ssh or other tunneling, so if falls back to whatever other device it can use.

Cheers,
Simon


On Oct 5, 2011, at 9:31 PM, John Maindonald wrote:

> When I start up R (or at least 64-bit R) from the command line
> or from ESS, and plot a graph without first opening a graphics
> screen window, I get an X11 window.  
> 
> If I type capabilities(), I get:
> 
>> capabilities()
>    jpeg      png     tiff    tcltk      X11     aqua http/ftp  sockets 
>    TRUE     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE 
>  libxml     fifo   cledit    iconv      NLS  profmem    cairo 
>    TRUE     TRUE    FALSE     TRUE     TRUE     TRUE     TRUE 
> 
> Given that "aqua" is available, why do I not get a quartz window? 
> (I can of course open such a window.)
> 
>> sessionInfo()
> R version 2.13.2 (2011-09-30)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] C
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
> 
> other attached packages:
> [1] lattice_0.19-33
> 
> loaded via a namespace (and not attached):
> [1] grid_2.13.2  tools_2.13.2
> 
> John Maindonald             email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
> Centre for Mathematics & Its Applications, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
> http://www.maths.anu.edu.au/~johnm
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From kasperdanielhansen at gmail.com  Thu Oct  6 15:51:37 2011
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Thu, 6 Oct 2011 09:51:37 -0400
Subject: [R-SIG-Mac] Screen device under macOS X
In-Reply-To: <23D8C78F-2985-4602-BE5C-E7313C6DBD3E@r-project.org>
References: <D2CBB9B1-BCB6-4D39-B2AE-6E95CBCFA791@anu.edu.au>
	<23D8C78F-2985-4602-BE5C-E7313C6DBD3E@r-project.org>
Message-ID: <CAC2h7uvsxVRutkKr2Wq3+E1ZnZ5fHxCq13pMhdxmigkQj8ND7w@mail.gmail.com>

I am on Snow Leopard.  As Brian mentions, my DISPLAY variable is set
(to echo $DISPLAY
/tmp/launch-SN2m7Z/org.x:0
), but this is not something I do myself.  I have always thought that
on (newer) OS X, DISPLAY got set automatically.  Not too infrequently
do I use X11 on a remote server and I always login with ssh -Y.

Kasper

On Thu, Oct 6, 2011 at 9:35 AM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
> Are you on Lion? (You failed to mention that crucial detail)
> If so, R cannot detect window session on Lion (the OS says there is none even if there is one) so it must assume that you are using ssh or other tunneling, so if falls back to whatever other device it can use.
>
> Cheers,
> Simon
>
>
> On Oct 5, 2011, at 9:31 PM, John Maindonald wrote:
>
>> When I start up R (or at least 64-bit R) from the command line
>> or from ESS, and plot a graph without first opening a graphics
>> screen window, I get an X11 window.
>>
>> If I type capabilities(), I get:
>>
>>> capabilities()
>> ? ?jpeg ? ? ?png ? ? tiff ? ?tcltk ? ? ?X11 ? ? aqua http/ftp ?sockets
>> ? ?TRUE ? ? TRUE ? ? TRUE ? ? TRUE ? ? TRUE ? ? TRUE ? ? TRUE ? ? TRUE
>> ?libxml ? ? fifo ? cledit ? ?iconv ? ? ?NLS ?profmem ? ?cairo
>> ? ?TRUE ? ? TRUE ? ?FALSE ? ? TRUE ? ? TRUE ? ? TRUE ? ? TRUE
>>
>> Given that "aqua" is available, why do I not get a quartz window?
>> (I can of course open such a window.)
>>
>>> sessionInfo()
>> R version 2.13.2 (2011-09-30)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>
>> locale:
>> [1] C
>>
>> attached base packages:
>> [1] stats ? ? graphics ?grDevices utils ? ? datasets ?methods ? base
>>
>> other attached packages:
>> [1] lattice_0.19-33
>>
>> loaded via a namespace (and not attached):
>> [1] grid_2.13.2 ?tools_2.13.2
>>
>> John Maindonald ? ? ? ? ? ? email: john.maindonald at anu.edu.au
>> phone : +61 2 (6125)3473 ? ?fax ?: +61 2(6125)5549
>> Centre for Mathematics & Its Applications, Room 1194,
>> John Dedman Mathematical Sciences Building (Building 27)
>> Australian National University, Canberra ACT 0200.
>> http://www.maths.anu.edu.au/~johnm
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From dwinsemius at comcast.net  Thu Oct  6 19:59:21 2011
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 6 Oct 2011 13:59:21 -0400
Subject: [R-SIG-Mac] RGtk, rattle, and GTK+ on Snow Leopard and Lion
In-Reply-To: <40127341-3FDA-402F-ABF7-484A595403E1@r-project.org>
References: <6E0C43D8-6066-4963-912F-F3222ED1B274@alumni.rice.edu>
	<40127341-3FDA-402F-ABF7-484A595403E1@r-project.org>
Message-ID: <4298DE24-6E0B-4F5F-812C-81AE1F08D027@comcast.net>


On Oct 5, 2011, at 3:38 PM, Simon Urbanek wrote:

>
> On Oct 5, 2011, at 3:19 PM, Robert Chatfield wrote:
>
>> Do I understand the implications of previous messages about
>> rattle correctlly?
>>
>> => Do I also need to use homebrew and to a full R install as is  
>> implied for Lion?
>>
>
> Just to clarify some misinformation in that thread so far:
>
> The issue has nothing to do with the OS X version, you can happily  
> use RGtk2 and other GTK-based packages with the CRAN setup,  
> regardless is you're on Lion, SL, or Leopard. The problem is that  
> recent rattle requires higher GTK version that what's available, so  
> you're on your own.

My understanding is that the higher GTK+ requirement problem has been  
fixed in the current version of rattle with a modification to  
rattle.ui that now specifies greater than GTK+2.16. This requirement  
is satisfied by the binary package installer for GTK+2.18 being  
distributed at   :

http://r.research.att.com/

My thanks again to you, Simon, for creating that 2.18 version of GTK+.  
It has solved several problems for me.


>
> Also note that Erich's description was about *native* GTK which is  
> somewhat experimental (use at your own risk!), it is not about the  
> X11 GTK we use in R distribution.
>
> The reference to Homebrew was quite irrelevant for the reasons you  
> noted.
>
> We may consider updating the GTK binary for R 2.14.0, but it's  
> certainly not high on the priority list.
>
> Cheers,
> Simon
>
>
>
>> Bob  C
>>
>> This is what I've read
>> R-SIG-Mac Digest, Vol 89, Issue 7   1.  Error messages when  
>> starting Rattle (Richard R. Liu)
>>> (R:1683): Gtk-WARNING **: Unable to find default local directory  
>>> monitor type

This doesn't appear to be the same problem as was being described  
originally. That was an error and a failure to even start the rattle  
package.  This problem could plausibly be explained by Simon's "tiny,  
technical side-comment". I have not experienced it when the new  
patched version of rattle is started from the Mac RGUI, however.

-- 
David

>> =>  I get the same message: (R:1683): Gtk-WARNING **: Unable to  
>> find default local directory monitor type
>>
>> => I have been able to get Rattle to start, but it will do very  
>> little; does not respond to most buttons.
>>
>> => 6-core Xeon 2.66 GHz   OS X 10.6.8   R.2.13.2  rattlev 2.6.10
>>
>>> I get
>>>> library(rattle)
>>> Rattle: A free graphical interface for data mining with R.
>>> Version 2.6.10 Copyright (c) 2006-2011 Togaware Pty Ltd.
>>> Type 'rattle()' to shake, rattle, and roll your data.
>>>> rattle(csvname="organics.csv")
>>> Error in rattle(csvname = "organics.csv") : attempt to apply non- 
>>> function
>>> In addition: Warning message:
>>> In method(obj, ...) :
>>> /Library/Frameworks/R.framework/Versions/2.13/Resources/library/ 
>>> rattle/etc/rattle.ui: required gtk+ version 2.20, current version  
>>> is 2.18
>>> Rattle timestamp (for the message above): 2011-10-05 12:15:51
>>> ^ 
>>> ^ 
>>> ^ 
>>> ^ 
>>> ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>>>> rattle()
>>> Error in rattle() : attempt to apply non-function
>>> In addition: Warning message:
>>> In method(obj, ...) :
>>> /Library/Frameworks/R.framework/Versions/2.13/Resources/library/ 
>>> rattle/etc/rattle.ui: required gtk+ version 2.20, current version  
>>> is 2.18
>>> Rattle timestamp (for the message above): 2011-10-05 12:16:07
>>> ^ 
>>> ^ 
>>> ^ 
>>> ^ 
>>> ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
>>
>> R-SIG-Mac Digest, Vol 97, Issue 11   3. Re:  R editor for Mac  
>> (Simon Urbanek)
>>>
>>>>
>>>>> Just a tiny, technical side-comment:  it uses a separate process  
>>>>> for R which has serious technical implications (you can't use  
>>>>> any GUIs, external UI libraries, or even native devices like  
>>>>> Quartz for example - it leads to crashes).
>>>>
>>>> Can you expand on that, Simon? Crashes when using Quartz would  
>>>> seem like an immediate deal-breaker for Mac OS X users. Does that  
>>>> mean that ordinary plotting calls would cause crashes?
>>>>
>>>
>>> They don't use Quartz - they have their own re-implementation of  
>>> Cairo which creates files which is what gets displayed in the GUI  
>>> - the GUI doesn't actually use the R device directly. It's  
>>> entirely different from what you get in regular R. Unfortunately  
>>> it means you can't use Quartz which is already a deal-breaker for  
>>> me.
>>>
>>>
>>>> I was assuming that users of RStudio would not be also using  
>>>> other GUI's, but I do not know whether I am using "external UI  
>>>> libraries" in my typical R activities using rms/Hmisc/survival.  
>>>> Is this in reference to packages such as rgl that invoke  
>>>> libraries such as GTK? Are Rattle or rggobi precluded as packages?
>>>>
>>>
>>> In principle, yes (but I'd think that if you use Rattle it's  
>>> pointless to have another GUI ;)). The actual interaction depends  
>>> on the details inside their rsession part - so I can't comment on  
>>> that and I didn't test the packages you mention. The bottom line  
>>> is that all packages are run outside the GUI in an R embedding.
>>>
>>> If I get a spare minute, I'm actually tempted to hack RStudio to  
>>> remedy this design problem, because it would allow for example  
>>> iPlots eXtreme to be used directly in the GUI which the current  
>>> setup doesn't allow.
>>>
>>> Cheers,
>>> Simon
>>
>> R-SIG-Mac Digest, Vol 103, Issue 24
>> 5. Re:  RGtk, rattle, and GTK+ on Lion (Charlie Sharpsteen)
>>> ...
>>> Message: 5
>>> Date: Sun, 25 Sep 2011 21:17:40 -0700
>>> From: Charlie Sharpsteen <charles.sharpsteen at gmail.com>
>>> To: <r-sig-mac at googlegroups.com>
>>> Cc: r-sig-mac at stat.math.ethz.ch
>>> Subject: Re: [R-SIG-Mac] RGtk, rattle, and GTK+ on Lion
>>> Message-ID:
>>> 	<12675195.1573.1317010660824.JavaMail.geo-discussion-forums at prhv38>
>>> Content-Type: text/plain; charset="utf-8"
>>>
>>> On Sunday, September 25, 2011 6:12:08 AM UTC-7, Erich Neuwirth  
>>> wrote:
>>>>
>>> ....  omitted quote
>>> A package manager could help with this.
>>>
>>> For example, install Homebrew:
>>>
>>> http://mxcl.github.com/homebrew
>>>
>>> Install GFortran and R:
>>>
>>> brew install gfortran
>>> brew install R
>>>
>>> You might be able to skip this step and use the R binaries from  
>>> CRAN---the
>>> only caveat I can think of is that Homebrew doesn't build a  
>>> Universal GTK+
>>> (it gives you x86_64) and CRAN R might want to build both i386 and  
>>> x86_64
>>> versions of packages.
>>>
>>> Install GTK+:
>>>
>>> brew install gtk+
>>>
>>> Run R and install rattle:
>>>
>>> install.packages('rattle')
>>>
>>> Hope this helps!
>>>
>>> -Charlie
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
West Hartford, CT


From john.maindonald at anu.edu.au  Thu Oct  6 23:08:12 2011
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Fri, 7 Oct 2011 08:08:12 +1100
Subject: [R-SIG-Mac] Screen device under macOS X
In-Reply-To: <23D8C78F-2985-4602-BE5C-E7313C6DBD3E@r-project.org>
References: <D2CBB9B1-BCB6-4D39-B2AE-6E95CBCFA791@anu.edu.au>
	<23D8C78F-2985-4602-BE5C-E7313C6DBD3E@r-project.org>
Message-ID: <7EC33599-7E6B-43CB-91D8-85927416E4B0@anu.edu.au>

Yes, I am on Lion.  So that explains what is happening.  Thanks.
John

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.
http://www.maths.anu.edu.au/~johnm

On 07/10/2011, at 12:35 AM, Simon Urbanek wrote:

> Are you on Lion? (You failed to mention that crucial detail)
> If so, R cannot detect window session on Lion (the OS says there is none even if there is one) so it must assume that you are using ssh or other tunneling, so if falls back to whatever other device it can use.
> 
> Cheers,
> Simon
> 
> 
> On Oct 5, 2011, at 9:31 PM, John Maindonald wrote:
> 
>> When I start up R (or at least 64-bit R) from the command line
>> or from ESS, and plot a graph without first opening a graphics
>> screen window, I get an X11 window.  
>> 
>> If I type capabilities(), I get:
>> 
>>> capabilities()
>>  jpeg      png     tiff    tcltk      X11     aqua http/ftp  sockets 
>>  TRUE     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE 
>> libxml     fifo   cledit    iconv      NLS  profmem    cairo 
>>  TRUE     TRUE    FALSE     TRUE     TRUE     TRUE     TRUE 
>> 
>> Given that "aqua" is available, why do I not get a quartz window? 
>> (I can of course open such a window.)
>> 
>>> sessionInfo()
>> R version 2.13.2 (2011-09-30)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> 
>> locale:
>> [1] C
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base     
>> 
>> other attached packages:
>> [1] lattice_0.19-33
>> 
>> loaded via a namespace (and not attached):
>> [1] grid_2.13.2  tools_2.13.2
>> 
>> John Maindonald             email: john.maindonald at anu.edu.au
>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>> Centre for Mathematics & Its Applications, Room 1194,
>> John Dedman Mathematical Sciences Building (Building 27)
>> Australian National University, Canberra ACT 0200.
>> http://www.maths.anu.edu.au/~johnm
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From w.northcott at unsw.edu.au  Mon Oct 10 01:35:58 2011
From: w.northcott at unsw.edu.au (William Northcott)
Date: Mon, 10 Oct 2011 10:35:58 +1100
Subject: [R-SIG-Mac] OSX gFortran for JAGS
In-Reply-To: <mailman.5299.1272573412.4213.r-sig-mac@stat.math.ethz.ch>
References: <mailman.5299.1272573412.4213.r-sig-mac@stat.math.ethz.ch>
Message-ID: <2EA9B9B0-8B82-4221-BA07-5832176BA209@unsw.edu.au>

I am trying to build a 4 way fat binary of JAGS 3.1 so that the CRAN version of rjags can get updated.

The host is running 10.6.8 and it has Xcode 4.1 installed in the default locations and Xcode 3.2 installed under /Developer-3.

Using envars like
export CC=/Developer-3/usr/bin/gcc
export CXX=/Developer-3/usr/bin/gcc
export FC=/usr/local/bin/gfortran
export F77=/usr/local/bin/gfortran
export LD=/Developer-3/usr/bin/gcc
export CFLAGS="-g -Os -mmacosx-version-min=10.5 -isysroot /Developer-3/SDKs/MacOSX10.5.sdk -arch i386 -arch x86_64 -arch ppc -arch ppc64"
export CXXFLAGS="-g -Os -mmacosx-version-min=10.5 -isysroot /Developer-3/SDKs/MacOSX10.5.sdk -arch i386 -arch x86_64 -arch ppc -arch ppc64"
export FFLAGS="-g -Os -mmacosx-version-min=10.5 -isysroot /Developer-3/SDKs/MacOSX10.5.sdk -arch i386 -arch x86_64 -arch ppc -arch ppc64"
export LDFLAGS="-mmacosx-version-min=10.5 -isysroot /Developer-3/SDKs/MacOSX10.5.sdk -arch i386 -arch x86_64 -arch ppc -arch ppc64"

The C and C++ code seems to be building but gfortran is not finding the ppc assemblers under /Developr-3/usr.  Below is part of the config log:

> configure:16476: /usr/local/bin/gfortran --version >&5
> GNU Fortran (GCC) 4.2.3
> Copyright (C) 2007 Free Software Foundation, Inc.
> 
> GNU Fortran comes with NO WARRANTY, to the extent permitted by law.
> You may redistribute copies of GNU Fortran
> under the terms of the GNU General Public License.
> For more information about these matters, see the file named COPYING
> 
> configure:16487: $? = 0
> configure:16476: /usr/local/bin/gfortran -v >&5
> Using built-in specs.
> Target: i686-apple-darwin8
> Configured with: /Builds/unix/gcc/gcc-4.2/configure --prefix=/usr/local --mandir=/share/man --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --build=i686-apple-darwin8 --host=i686-apple-darwin8 --target=i686-apple-darwin8 --enable-languages=fortran
> Thread model: posix
> gcc version 4.2.3
> configure:16487: $? = 0
> configure:16476: /usr/local/bin/gfortran -V >&5
> gfortran: argument to `-V' is missing
> configure:16487: $? = 1
> configure:16476: /usr/local/bin/gfortran -qversion >&5
> i686-apple-darwin8-gfortran-4.2: unrecognized option '-qversion'
> i686-apple-darwin8-gfortran-4.2: no input files
> configure:16487: $? = 1
> configure:16496: checking whether we are using the GNU Fortran 77 compiler
> configure:16509: /usr/local/bin/gfortran -c -g -Os -mmacosx-version-min=10.5 -isysroot /Developer-3/SDKs/MacOSX10.5.sdk -arch i386 -arch x86_64 -arch ppc -arch ppc64 conftest.F >&5
> as: assembler (/usr/bin/../libexec/gcc/darwin/ppc/as or /usr/bin/../local/libexec/gcc/darwin/ppc/as) for architecture ppc not installed

Any inspiration about how to get around this?

Bill Northcott
> 


From charles.sharpsteen at gmail.com  Mon Oct 10 06:39:41 2011
From: charles.sharpsteen at gmail.com (Charlie Sharpsteen)
Date: Sun, 9 Oct 2011 21:39:41 -0700
Subject: [R-SIG-Mac] OSX gFortran for JAGS
In-Reply-To: <2EA9B9B0-8B82-4221-BA07-5832176BA209@unsw.edu.au>
References: <mailman.5299.1272573412.4213.r-sig-mac@stat.math.ethz.ch>
	<2EA9B9B0-8B82-4221-BA07-5832176BA209@unsw.edu.au>
Message-ID: <16007562.1164.1318221581790.JavaMail.geo-discussion-forums@prmr25>

I suspect the XCode 4 assembler is being used. Try putting the XCode 3.2.x 
binaries first in your PATH:

    export PATH=/Developer-3/usr/bin:$PATH

That should help gfortran find the proper assembler.

-Charlie
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111009/8cac52c3/attachment.html>

From marius.hofert at math.ethz.ch  Mon Oct 10 13:07:02 2011
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Mon, 10 Oct 2011 13:07:02 +0200
Subject: [R-SIG-Mac] R_LIBS + .Rprofile: how to get a specific library in
	.libPaths()[1]
Message-ID: <AC46090A-BCBC-411B-859A-3D167CA83953@math.ethz.ch>

Dear all,

I would like to use my own library for packages. It should go in /Library/Frameworks/R.framework.
I therefore created a directory /Library/Frameworks/R.framework/library and now I would like this to appear as .libPaths()[1] (as default directory used by install.packages()). I created an file ~/.Rprofile and put in:
R_LIBS="/Library/Frameworks/R.framework/library"

I first had it without quotation marks, but then R complains about the slash. So at least I know that R finds my .Rprofile file. With quotation marks, no error appears, but when I execute .libPaths()[1], I still get the default-R library:
"/Library/Frameworks/R.framework/Versions/2.13/Resources/library". 
How can I get my own library?

I read http://stat.ethz.ch/R-manual/R-patched/library/base/html/Startup.html and since neither ?R_HOME/etc/Rprofile.site? nor R_PROFILE_USER are specified, I thought I create the file .Rprofile. 
This is on Mac OS X 10.7.1 with R 2.13.

Cheers,

Marius

From ripley at stats.ox.ac.uk  Mon Oct 10 13:27:08 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 10 Oct 2011 12:27:08 +0100 (BST)
Subject: [R-SIG-Mac] R_LIBS + .Rprofile: how to get a specific library
 in .libPaths()[1]
In-Reply-To: <AC46090A-BCBC-411B-859A-3D167CA83953@math.ethz.ch>
References: <AC46090A-BCBC-411B-859A-3D167CA83953@math.ethz.ch>
Message-ID: <alpine.LFD.2.02.1110101226130.23232@gannet.stats.ox.ac.uk>

You are taking the contents of a .Renviron file and putting it in 
.Rprofile.

There is a whole section at the help page you quote about not 
confusing the two ....

On Mon, 10 Oct 2011, Marius Hofert wrote:

> Dear all,
>
> I would like to use my own library for packages. It should go in /Library/Frameworks/R.framework.
> I therefore created a directory /Library/Frameworks/R.framework/library and now I would like this to appear as .libPaths()[1] (as default directory used by install.packages()). I created an file ~/.Rprofile and put in:
> R_LIBS="/Library/Frameworks/R.framework/library"
>
> I first had it without quotation marks, but then R complains about the slash. So at least I know that R finds my .Rprofile file. With quotation marks, no error appears, but when I execute .libPaths()[1], I still get the default-R library:
> "/Library/Frameworks/R.framework/Versions/2.13/Resources/library".
> How can I get my own library?
>
> I read http://stat.ethz.ch/R-manual/R-patched/library/base/html/Startup.html and since neither ?R_HOME/etc/Rprofile.site? nor R_PROFILE_USER are specified, I thought I create the file .Rprofile.
> This is on Mac OS X 10.7.1 with R 2.13.
>
> Cheers,
>
> Marius
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From w.northcott at unsw.edu.au  Tue Oct 11 00:02:25 2011
From: w.northcott at unsw.edu.au (William Northcott)
Date: Tue, 11 Oct 2011 09:02:25 +1100
Subject: [R-SIG-Mac] OSX gFortran for JAGS
In-Reply-To: <mailman.15.1318240804.31762.r-sig-mac@r-project.org>
References: <mailman.15.1318240804.31762.r-sig-mac@r-project.org>
Message-ID: <2CEFD552-CD3C-44D9-B746-7C981A2727E3@unsw.edu.au>

Thanks for the thought.  I did try this but it did not work.

The gfortran compiler has the search path for the assembler hard coded and if it finds an assembler there, it stops searching.  Only later it discovers that the assembler is not the right arch.

In the end, I had to symlink the ppc and ppc64 directories under /usr/libexec/gcc/darwin.  That did the trick.

Bill Northcott


From Marius.Hofert at math.ethz.ch  Tue Oct 11 12:24:13 2011
From: Marius.Hofert at math.ethz.ch (Marius Hofert)
Date: Tue, 11 Oct 2011 12:24:13 +0200
Subject: [R-SIG-Mac] Multiple R versions: set Current via symbolic link:
	permissions?
Message-ID: <5C5E3922-E4AB-4E80-82B7-404718336796@math.ethz.ch>

Hi,

I have multiple R versions installed and would like to switch between them via setting the symblic link "Current". To make this a bit more convenient, I defined two "aliases" in .bashrc:

alias R2.13='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -s $d/2.13 $d/Current'
alias R2.14='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -s $d/2.14 $d/Current'

On executing R2.13 in the terminal, I get:
rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
ln: /Library/Frameworks/R.framework/Versions/Current/2.13: Permission denied

If I chown Current, I still get:
rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied

I (bad) solution is to put in "sudo" in the alias... 

How is it done correctly? 

Cheers,

Marius

PS: I also posted it for future reference, I've only found the idea of using ln -s on the help pages/FAQ, but not how to get around the permission issue.

From martin.ellis at gmail.com  Tue Oct 11 12:43:59 2011
From: martin.ellis at gmail.com (Martin Ellis)
Date: Tue, 11 Oct 2011 11:43:59 +0100
Subject: [R-SIG-Mac] Multiple R versions: set Current via symbolic link:
	permissions?
In-Reply-To: <5C5E3922-E4AB-4E80-82B7-404718336796@math.ethz.ch>
References: <5C5E3922-E4AB-4E80-82B7-404718336796@math.ethz.ch>
Message-ID: <CAPiE_jVOqaFg1T8YfFFV_EWknZMcmYLmoDcaZZ9KDy0MnsY1DQ@mail.gmail.com>

I'm not sure if you're already aware of RSwitch (available at
http://r.research.att.com/), but it seems like it might be useful for
what you're trying to do.

Cheers,
Martin


On 11 October 2011 11:24, Marius Hofert <Marius.Hofert at math.ethz.ch> wrote:
> Hi,
>
> I have multiple R versions installed and would like to switch between them via setting the symblic link "Current". To make this a bit more convenient, I defined two "aliases" in .bashrc:
>
> alias R2.13='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -s $d/2.13 $d/Current'
> alias R2.14='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -s $d/2.14 $d/Current'
>
> On executing R2.13 in the terminal, I get:
> rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
> ln: /Library/Frameworks/R.framework/Versions/Current/2.13: Permission denied
>
> If I chown Current, I still get:
> rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
>
> I (bad) solution is to put in "sudo" in the alias...
>
> How is it done correctly?
>
> Cheers,
>
> Marius
>
> PS: I also posted it for future reference, I've only found the idea of using ln -s on the help pages/FAQ, but not how to get around the permission issue.
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From Marius.Hofert at math.ethz.ch  Tue Oct 11 12:46:03 2011
From: Marius.Hofert at math.ethz.ch (Marius Hofert)
Date: Tue, 11 Oct 2011 12:46:03 +0200
Subject: [R-SIG-Mac] Multiple R versions: set Current via symbolic link:
	permissions?
In-Reply-To: <CAPiE_jVOqaFg1T8YfFFV_EWknZMcmYLmoDcaZZ9KDy0MnsY1DQ@mail.gmail.com>
References: <5C5E3922-E4AB-4E80-82B7-404718336796@math.ethz.ch>
	<CAPiE_jVOqaFg1T8YfFFV_EWknZMcmYLmoDcaZZ9KDy0MnsY1DQ@mail.gmail.com>
Message-ID: <1D0343E3-54F1-49E3-97FB-6E4AEB37FCCE@math.ethz.ch>

Hi Martin,

thanks, but I'm aware of that. I was looking for the command-line approach :-)

Cheers,

Marius


On 2011-10-11, at 12:43 , Martin Ellis wrote:

> I'm not sure if you're already aware of RSwitch (available at
> http://r.research.att.com/), but it seems like it might be useful for
> what you're trying to do.
> 
> Cheers,
> Martin
> 
> 
> On 11 October 2011 11:24, Marius Hofert <Marius.Hofert at math.ethz.ch> wrote:
>> Hi,
>> 
>> I have multiple R versions installed and would like to switch between them via setting the symblic link "Current". To make this a bit more convenient, I defined two "aliases" in .bashrc:
>> 
>> alias R2.13='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -s $d/2.13 $d/Current'
>> alias R2.14='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -s $d/2.14 $d/Current'
>> 
>> On executing R2.13 in the terminal, I get:
>> rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
>> ln: /Library/Frameworks/R.framework/Versions/Current/2.13: Permission denied
>> 
>> If I chown Current, I still get:
>> rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
>> 
>> I (bad) solution is to put in "sudo" in the alias...
>> 
>> How is it done correctly?
>> 
>> Cheers,
>> 
>> Marius
>> 
>> PS: I also posted it for future reference, I've only found the idea of using ln -s on the help pages/FAQ, but not how to get around the permission issue.
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 


From morrifeldman at weizmann.ac.il  Tue Oct 11 12:49:12 2011
From: morrifeldman at weizmann.ac.il (Morri Feldman)
Date: Tue, 11 Oct 2011 12:49:12 +0200
Subject: [R-SIG-Mac] Installing or Compiling EDGE
Message-ID: <CADc5o6xfSMRLmVc33DrWOahF766reSFYtzvY=XvRsCW3RdHfNw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111011/3bb4d0ec/attachment.pl>

From martin.ellis at gmail.com  Tue Oct 11 13:07:02 2011
From: martin.ellis at gmail.com (Martin Ellis)
Date: Tue, 11 Oct 2011 12:07:02 +0100
Subject: [R-SIG-Mac] Multiple R versions: set Current via symbolic link:
	permissions?
In-Reply-To: <1D0343E3-54F1-49E3-97FB-6E4AEB37FCCE@math.ethz.ch>
References: <5C5E3922-E4AB-4E80-82B7-404718336796@math.ethz.ch>
	<CAPiE_jVOqaFg1T8YfFFV_EWknZMcmYLmoDcaZZ9KDy0MnsY1DQ@mail.gmail.com>
	<1D0343E3-54F1-49E3-97FB-6E4AEB37FCCE@math.ethz.ch>
Message-ID: <CAPiE_jXvZiDUXrSEz4WmHCjhV5KfDN_-q6y2+SGckxwCadY_Cg@mail.gmail.com>

Ah, I see.
On my system, I'm able to create a symlink within
/Library/Frameworks/R.framework/Versions -- the directory is owned by
user "root", group "admin", and my user account is also in group
"admin".

Hope that helps...

Cheers,
Martin

On 11 October 2011 11:46, Marius Hofert <Marius.Hofert at math.ethz.ch> wrote:
> Hi Martin,
>
> thanks, but I'm aware of that. I was looking for the command-line approach :-)
>
> Cheers,
>
> Marius
>
>
> On 2011-10-11, at 12:43 , Martin Ellis wrote:
>
>> I'm not sure if you're already aware of RSwitch (available at
>> http://r.research.att.com/), but it seems like it might be useful for
>> what you're trying to do.
>>
>> Cheers,
>> Martin
>>
>>
>> On 11 October 2011 11:24, Marius Hofert <Marius.Hofert at math.ethz.ch> wrote:
>>> Hi,
>>>
>>> I have multiple R versions installed and would like to switch between them via setting the symblic link "Current". To make this a bit more convenient, I defined two "aliases" in .bashrc:
>>>
>>> alias R2.13='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -s $d/2.13 $d/Current'
>>> alias R2.14='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -s $d/2.14 $d/Current'
>>>
>>> On executing R2.13 in the terminal, I get:
>>> rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
>>> ln: /Library/Frameworks/R.framework/Versions/Current/2.13: Permission denied
>>>
>>> If I chown Current, I still get:
>>> rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
>>>
>>> I (bad) solution is to put in "sudo" in the alias...
>>>
>>> How is it done correctly?
>>>
>>> Cheers,
>>>
>>> Marius
>>>
>>> PS: I also posted it for future reference, I've only found the idea of using ln -s on the help pages/FAQ, but not how to get around the permission issue.
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>
>
>


From morrifeldman at weizmann.ac.il  Tue Oct 11 13:14:52 2011
From: morrifeldman at weizmann.ac.il (Morri Feldman)
Date: Tue, 11 Oct 2011 13:14:52 +0200
Subject: [R-SIG-Mac] Installing or Compiling EDGE
Message-ID: <CADc5o6w3w2gbxkoAYtJHfdCcyL4DqWV0BFPrjh714afR-9ZbjA@mail.gmail.com>

Hello,

I hope this is an appropriate mailing list for my question.  If not,
please excuse me and point me towards another forum if possible.
Also, I apologize if this message is a double post, because the first
version I sent was in HTML.

I'm trying to install a microarray analysis software package called
EDGE which relies on R.  The package is available as binaries or
source code from http://www.genomine.org/edge/ .  I'm using R from
R-2.13.2.pkg, and tcltk-8.5.5-x11.dmg.  I am running OSX Lion and when
I tried to install the binaries from edge_intel_1.1.290.tar.tar.gz, I
had several failures.  After working through some trivial problems I
found out that knnimpute.so, one of the two precompiled binaries in
this package, is for PPC not intel.

Next, I decided to try and compile the package myself.  I installed
Xcode Version 4.1 (4B103), MacTeX-2011.mpkg and
gfortran-lion-5666-3.pkg.  After cd to the src/ directory I run make
and get the following error.

**********************************
g++-4.2 -arch x86_64
-I/Library/Frameworks/R.framework/Resources/include
-I/Library/Frameworks/R.framework/Resources/include/x86_64
-I/usr/local/include   -DMAC_OS_X -Dassert\(expr\)= -fPIC
-I/Library/Frameworks/R.framework/Resources -I./threads -I./cluster
-I/Library/Frameworks/R.framework/Resources/include -I.
-DEDGE_LIBRARY_VERSION=\"1.0.\"  -D__STDC_LIMIT_MACROS -Wall -fPIC  -g
-O2 -c Rintf_threads.cpp -o Rintf_threads.o
Rintf_threads.cpp: In function ?SEXPREC* GetProgressValues(SEXPREC*)?:
Rintf_threads.cpp:66: error: cast from ?_opaque_pthread_t*? to ?int?
loses precision
make[2]: *** [Rintf_threads.o] Error 1
build failed
make[1]: *** [edge.so] Error 1
make: *** [all] Error 2
**********************************

The relevant section of code in Rintf_threads.ccp is:

**********************************
    PROTECT(sval=NEW_INTEGER(1));
    INTEGER_POINTER(sval)[0] = (int)ppt->GetThreadId();  // This line
is the problem
    SET_STRING_ELT(snames, i, CREATE_STRING_VECTOR("threadid"));
    SET_VECTOR_ELT(slist, i, sval);
    i++;
**********************************

This same construction, converting THREAD_ID_T to int, is also used at
line 525 of RInterfaces.cpp and line 179 of Rintf_cluster.cpp.

My guess is that the problem is caused by compiling as x86_64, but I
can't figure out how to edit the Makefile to force compilation as
i386.  I've contacted one of the authors of the software, but they
haven't gotten back to me yet.  I will greatly appreciate any help you
can provide.

Best and Thank You,
Morri Feldman


From simon.urbanek at r-project.org  Tue Oct 11 16:19:06 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 11 Oct 2011 10:19:06 -0400
Subject: [R-SIG-Mac] Multiple R versions: set Current via symbolic link:
	permissions?
In-Reply-To: <5C5E3922-E4AB-4E80-82B7-404718336796@math.ethz.ch>
References: <5C5E3922-E4AB-4E80-82B7-404718336796@math.ethz.ch>
Message-ID: <46677FD9-A27B-4D05-BF7C-E3A98B09F8D5@r-project.org>


On Oct 11, 2011, at 6:24 AM, Marius Hofert wrote:

> Hi,
> 
> I have multiple R versions installed and would like to switch between them via setting the symblic link "Current". To make this a bit more convenient, I defined two "aliases" in .bashrc:
> 
> alias R2.13='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -s $d/2.13 $d/Current'
> alias R2.14='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -s $d/2.14 $d/Current'
> 

Try

ln -sfn 2.13 /Library/Frameworks/R.framework/Versions/Current

You'll need to be admin of the computer, otherwise you'll need sudo or change permissions. Note that for symlinks you'll need extra -h in chown otherwise you're changing ownership of the target not the link. If in doubt (ie., you messed with permissions before), run sudo chmod g+w -R /Library/Frameworks/R.framework

Cheers,
Simon


> On executing R2.13 in the terminal, I get:
> rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
> ln: /Library/Frameworks/R.framework/Versions/Current/2.13: Permission denied
> 
> If I chown Current, I still get:
> rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
> 
> I (bad) solution is to put in "sudo" in the alias... 
> 
> How is it done correctly? 
> 
> Cheers,
> 
> Marius
> 
> PS: I also posted it for future reference, I've only found the idea of using ln -s on the help pages/FAQ, but not how to get around the permission issue.
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From kasperdanielhansen at gmail.com  Tue Oct 11 16:34:06 2011
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Tue, 11 Oct 2011 10:34:06 -0400
Subject: [R-SIG-Mac] Multiple R versions: set Current via symbolic link:
	permissions?
In-Reply-To: <46677FD9-A27B-4D05-BF7C-E3A98B09F8D5@r-project.org>
References: <5C5E3922-E4AB-4E80-82B7-404718336796@math.ethz.ch>
	<46677FD9-A27B-4D05-BF7C-E3A98B09F8D5@r-project.org>
Message-ID: <CAC2h7ut2xijkAnXt9-ARp4td3HbCuOPnZjxF34TDvwLKaaYKag@mail.gmail.com>

Marius,

Note that this will _not_ make it possible to run the different R
versions simultaneously.

Kasper

On Tue, Oct 11, 2011 at 10:19 AM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> On Oct 11, 2011, at 6:24 AM, Marius Hofert wrote:
>
>> Hi,
>>
>> I have multiple R versions installed and would like to switch between them via setting the symblic link "Current". To make this a bit more convenient, I defined two "aliases" in .bashrc:
>>
>> alias R2.13='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -s $d/2.13 $d/Current'
>> alias R2.14='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -s $d/2.14 $d/Current'
>>
>
> Try
>
> ln -sfn 2.13 /Library/Frameworks/R.framework/Versions/Current
>
> You'll need to be admin of the computer, otherwise you'll need sudo or change permissions. Note that for symlinks you'll need extra -h in chown otherwise you're changing ownership of the target not the link. If in doubt (ie., you messed with permissions before), run sudo chmod g+w -R /Library/Frameworks/R.framework
>
> Cheers,
> Simon
>
>
>> On executing R2.13 in the terminal, I get:
>> rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
>> ln: /Library/Frameworks/R.framework/Versions/Current/2.13: Permission denied
>>
>> If I chown Current, I still get:
>> rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
>>
>> I (bad) solution is to put in "sudo" in the alias...
>>
>> How is it done correctly?
>>
>> Cheers,
>>
>> Marius
>>
>> PS: I also posted it for future reference, I've only found the idea of using ln -s on the help pages/FAQ, but not how to get around the permission issue.
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From marius.hofert at math.ethz.ch  Tue Oct 11 16:35:44 2011
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Tue, 11 Oct 2011 16:35:44 +0200
Subject: [R-SIG-Mac] Multiple R versions: set Current via symbolic link:
	permissions?
In-Reply-To: <46677FD9-A27B-4D05-BF7C-E3A98B09F8D5@r-project.org>
References: <5C5E3922-E4AB-4E80-82B7-404718336796@math.ethz.ch>
	<46677FD9-A27B-4D05-BF7C-E3A98B09F8D5@r-project.org>
Message-ID: <37DAD782-D2BD-4DA0-A9D1-741D4F3E88C5@math.ethz.ch>


On 2011-10-11, at 16:19 , Simon Urbanek wrote:

> 
> On Oct 11, 2011, at 6:24 AM, Marius Hofert wrote:
> 
>> Hi,
>> 
>> I have multiple R versions installed and would like to switch between them via setting the symblic link "Current". To make this a bit more convenient, I defined two "aliases" in .bashrc:
>> 
>> alias R2.13='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -s $d/2.13 $d/Current'
>> alias R2.14='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -s $d/2.14 $d/Current'
>> 
> 
> Try
> 
> ln -sfn 2.13 /Library/Frameworks/R.framework/Versions/Current
> 

Dear Simon,

thanks, I put it in the alias. It now looks like this:
alias R2.13='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -sfn $d/2.13 $d/Current'
(and similarly for R 2.14)


> You'll need to be admin of the computer, otherwise you'll need sudo

If I execute (in a new shell, as usual) R2.13, I (still) get:

bash-3.2$ R2.13
rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
ln: /Library/Frameworks/R.framework/Versions/Current: Permission denied

So the obvious would be to "sudo R2.13", but I obtain:

bash-3.2$ sudo R2.13
Password:
sudo: R2.13: command not found

> or change permissions. Note that for symlinks you'll need extra -h in chown otherwise you're changing ownership of the target not the link.

This I also realized :-) I tried that:
sudo chown -h myuser /Library/Frameworks/R.framework/Versions/Current

bash-3.2$ ls -al
total 8
drwxrwxr-x  5 root     wheel  170 Oct 11 15:54 .
drwxrwxr-x  9 root     wheel  306 Oct 11 11:38 ..
drwxrwxr-x  8 root     wheel  272 Oct 11 12:16 2.13
drwxrwxr-x  6 root     wheel  204 Oct 11 11:38 2.14
lrwxr-xr-x  1 myuser  wheel   45 Oct 11 15:54 Current -> /Library/Frameworks/R.framework/Versions/2.13
bash-3.2$ 

=> okay, root was changed to myuser, that's good. But again, I get 

bash-3.2$ R2.13
rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
ln: /Library/Frameworks/R.framework/Versions/Current: Permission denied



> If in doubt (ie., you messed with permissions before), run sudo chmod g+w -R /Library/Frameworks/R.framework

okay, thanks a lot, that's good to know.

> 
> Cheers,
> Simon
> 
> 
>> On executing R2.13 in the terminal, I get:
>> rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
>> ln: /Library/Frameworks/R.framework/Versions/Current/2.13: Permission denied
>> 
>> If I chown Current, I still get:
>> rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
>> 
>> I (bad) solution is to put in "sudo" in the alias... 
>> 
>> How is it done correctly? 
>> 
>> Cheers,
>> 
>> Marius
>> 
>> PS: I also posted it for future reference, I've only found the idea of using ln -s on the help pages/FAQ, but not how to get around the permission issue.
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 

ETH Zurich
Dr. Marius Hofert
RiskLab, Department of Mathematics
HG E 65.2
R?mistrasse 101
8092 Zurich
Switzerland

Phone +41 44 632 2423
marius.hofert at math.ethz.ch
http://www.math.ethz.ch/~hofertj


From simon.urbanek at r-project.org  Tue Oct 11 16:38:47 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 11 Oct 2011 10:38:47 -0400
Subject: [R-SIG-Mac] Multiple R versions: set Current via symbolic link:
	permissions?
In-Reply-To: <37DAD782-D2BD-4DA0-A9D1-741D4F3E88C5@math.ethz.ch>
References: <5C5E3922-E4AB-4E80-82B7-404718336796@math.ethz.ch>
	<46677FD9-A27B-4D05-BF7C-E3A98B09F8D5@r-project.org>
	<37DAD782-D2BD-4DA0-A9D1-741D4F3E88C5@math.ethz.ch>
Message-ID: <24CBBF35-48AB-4407-A7BC-CAFD1E864F37@r-project.org>


On Oct 11, 2011, at 10:35 AM, Marius Hofert wrote:

> 
> On 2011-10-11, at 16:19 , Simon Urbanek wrote:
> 
>> 
>> On Oct 11, 2011, at 6:24 AM, Marius Hofert wrote:
>> 
>>> Hi,
>>> 
>>> I have multiple R versions installed and would like to switch between them via setting the symblic link "Current". To make this a bit more convenient, I defined two "aliases" in .bashrc:
>>> 
>>> alias R2.13='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -s $d/2.13 $d/Current'
>>> alias R2.14='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -s $d/2.14 $d/Current'
>>> 
>> 
>> Try
>> 
>> ln -sfn 2.13 /Library/Frameworks/R.framework/Versions/Current
>> 
> 
> Dear Simon,
> 
> thanks, I put it in the alias. It now looks like this:
> alias R2.13='d=/Library/Frameworks/R.framework/Versions; rm $d/Current; ln -sfn $d/2.13 $d/Current'
> (and similarly for R 2.14)
> 
> 
>> You'll need to be admin of the computer, otherwise you'll need sudo
> 
> If I execute (in a new shell, as usual) R2.13, I (still) get:
> 
> bash-3.2$ R2.13
> rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
> ln: /Library/Frameworks/R.framework/Versions/Current: Permission denied
> 
> So the obvious would be to "sudo R2.13", but I obtain:
> 
> bash-3.2$ sudo R2.13
> Password:
> sudo: R2.13: command not found
> 
>> or change permissions. Note that for symlinks you'll need extra -h in chown otherwise you're changing ownership of the target not the link.
> 
> This I also realized :-) I tried that:
> sudo chown -h myuser /Library/Frameworks/R.framework/Versions/Current
> 
> bash-3.2$ ls -al
> total 8
> drwxrwxr-x  5 root     wheel  170 Oct 11 15:54 .
> drwxrwxr-x  9 root     wheel  306 Oct 11 11:38 ..
> drwxrwxr-x  8 root     wheel  272 Oct 11 12:16 2.13
> drwxrwxr-x  6 root     wheel  204 Oct 11 11:38 2.14
> lrwxr-xr-x  1 myuser  wheel   45 Oct 11 15:54 Current -> /Library/Frameworks/R.framework/Versions/2.13
> bash-3.2$ 
> 

You permissions are odd - this is not what installed R looks like, you should see

ginaz:Versions$ ls -l
total 8
drwxrwxr-x  6 root  admin  204 Mar 26  2010 2.12
drwxrwxr-x  6 root  admin  204 Jul 12 15:44 2.13
drwxrwxr-x  6 root  admin  204 Oct  2 11:01 2.14
drwxrwxr-x  6 root  admin  204 Oct  3 12:05 2.15
lrwxr-xr-x  1 root  admin    4 Oct  3 12:05 Current -> 2.15

so run
chown -Rh root:admin  /Library/Frameworks/R.framework/
followed by

to fix that.

Cheers,
Simon



> => okay, root was changed to myuser, that's good. But again, I get 
> 
> bash-3.2$ R2.13
> rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
> ln: /Library/Frameworks/R.framework/Versions/Current: Permission denied
> 
> 
> 
>> If in doubt (ie., you messed with permissions before), run sudo chmod g+w -R /Library/Frameworks/R.framework
> 
> okay, thanks a lot, that's good to know.
> 
>> 
>> Cheers,
>> Simon
>> 
>> 
>>> On executing R2.13 in the terminal, I get:
>>> rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
>>> ln: /Library/Frameworks/R.framework/Versions/Current/2.13: Permission denied
>>> 
>>> If I chown Current, I still get:
>>> rm: /Library/Frameworks/R.framework/Versions/Current: Permission denied
>>> 
>>> I (bad) solution is to put in "sudo" in the alias... 
>>> 
>>> How is it done correctly? 
>>> 
>>> Cheers,
>>> 
>>> Marius
>>> 
>>> PS: I also posted it for future reference, I've only found the idea of using ln -s on the help pages/FAQ, but not how to get around the permission issue.
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
> 
> ETH Zurich
> Dr. Marius Hofert
> RiskLab, Department of Mathematics
> HG E 65.2
> R?mistrasse 101
> 8092 Zurich
> Switzerland
> 
> Phone +41 44 632 2423
> marius.hofert at math.ethz.ch
> http://www.math.ethz.ch/~hofertj
> 
> 


From marius.hofert at math.ethz.ch  Tue Oct 11 16:46:31 2011
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Tue, 11 Oct 2011 16:46:31 +0200
Subject: [R-SIG-Mac] Multiple R versions: set Current via symbolic link:
	permissions?
In-Reply-To: <24CBBF35-48AB-4407-A7BC-CAFD1E864F37@r-project.org>
References: <5C5E3922-E4AB-4E80-82B7-404718336796@math.ethz.ch>
	<46677FD9-A27B-4D05-BF7C-E3A98B09F8D5@r-project.org>
	<37DAD782-D2BD-4DA0-A9D1-741D4F3E88C5@math.ethz.ch>
	<24CBBF35-48AB-4407-A7BC-CAFD1E864F37@r-project.org>
Message-ID: <AA5AC5C1-7A23-4058-BFA7-7A9ACD7229D6@math.ethz.ch>

> You permissions are odd - this is not what installed R looks like, you should see
> 
> ginaz:Versions$ ls -l
> total 8
> drwxrwxr-x  6 root  admin  204 Mar 26  2010 2.12
> drwxrwxr-x  6 root  admin  204 Jul 12 15:44 2.13
> drwxrwxr-x  6 root  admin  204 Oct  2 11:01 2.14
> drwxrwxr-x  6 root  admin  204 Oct  3 12:05 2.15
> lrwxr-xr-x  1 root  admin    4 Oct  3 12:05 Current -> 2.15
> 
> so run
> chown -Rh root:admin  /Library/Frameworks/R.framework/
> followed by
> 
> to fix that.

followed by what? With "chown -Rh root:admin /Library/Frameworks/R.framework/" I get a lot of output of the form: 
...
chown: /Library/Frameworks/R.framework//library/Rcpp/unitTests/runit.Module.client.package.R: Operation not permitted
...

> 
> Cheers,
> Simon
> 
> 


From simon.urbanek at r-project.org  Tue Oct 11 16:47:00 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 11 Oct 2011 10:47:00 -0400
Subject: [R-SIG-Mac] Installing or Compiling EDGE
In-Reply-To: <CADc5o6xfSMRLmVc33DrWOahF766reSFYtzvY=XvRsCW3RdHfNw@mail.gmail.com>
References: <CADc5o6xfSMRLmVc33DrWOahF766reSFYtzvY=XvRsCW3RdHfNw@mail.gmail.com>
Message-ID: <54EF2335-BBA2-4ADF-A12E-2A879E4236B3@r-project.org>


On Oct 11, 2011, at 6:49 AM, Morri Feldman wrote:

> Hello,
> 
> I hope this is an appropriate mailing list for my question.  If not, please
> excuse me and point me towards another forum if possible.
> 
> I'm trying to install a microarray analysis software package called EDGE
> which relies on R.  The package is available as binaries or source code
> from http://www.genomine.org/edge/ .  I'm using R from R-2.13.2.pkg,
> and tcltk-8.5.5-x11.dmg.  I am running OSX Lion and when I tried to install
> the binaries from edge_intel_1.1.290.tar.tar.gz, I had several failures.
> After working through some trivial problems I found out that knnimpute.so,
> one of the two precompiled binaries in this package, is for PPC not intel.
> 
> Next, I decided to try and compile the package myself.  I installed Xcode
> Version 4.1 (4B103), MacTeX-2011.mpkg and gfortran-lion-5666-3.pkg.  After
> cd to the src/ directory I run make and get the following error.
> 
> **********************************
> g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include
> -I/Library/Frameworks/R.framework/Resources/include/x86_64
> -I/usr/local/include   -DMAC_OS_X -Dassert\(expr\)= -fPIC
> -I/Library/Frameworks/R.framework/Resources -I./threads -I./cluster
> -I/Library/Frameworks/R.framework/Resources/include -I.
> -DEDGE_LIBRARY_VERSION=\"1.0.\"  -D__STDC_LIMIT_MACROS -Wall -fPIC  -g -O2
> -c Rintf_threads.cpp -o Rintf_threads.o
> Rintf_threads.cpp: In function ?SEXPREC* GetProgressValues(SEXPREC*)?:
> Rintf_threads.cpp:66: error: cast from ?_opaque_pthread_t*? to ?int? loses
> precision
> make[2]: *** [Rintf_threads.o] Error 1
> build failed
> make[1]: *** [edge.so] Error 1
> make: *** [all] Error 2
> **********************************
> 
> The relevant section of code in Rintf_threads.ccp is:
> 
> **********************************
>    PROTECT(sval=NEW_INTEGER(1));
>    INTEGER_POINTER(sval)[0] = (int)ppt->GetThreadId();  // This line is the
> problem
>    SET_STRING_ELT(snames, i, CREATE_STRING_VECTOR("threadid"));
>    SET_VECTOR_ELT(slist, i, sval);
>    i++;
> **********************************
> 
> This same construction, converting THREAD_ID_T to int, is also used at line
> 525 of RInterfaces.cpp and line 179 of Rintf_cluster.cpp.
> 
> My guess is that the problem is caused by compiling as x86_64,

You, you can't store 64-bit pointer into a 32-bit integer so that code won't work in 64-bit mode. 


> but I can't figure out how to edit the Makefile to force compilation as i386.

The package is a bit of a mess - for several reasons. In has no global CC definition (and always overrides the system one), so you'll need to edit src/Makevars as well as all other Makefiles and add -arch i386 to the compiler lines. Also you'll need to edit src/Makevars and replace the RCMD=R line for Darwin with RCMD=R --arch i386

Once you have done that, you're almost there - you can compile it, but you'll also need to edit edge.r and fix the version check (it is so old that it considers only one digit of the minor number so 2.14 < 2.4 in that logic).

That's it. Below is the diff of all needed changes.

Cheers,
Simon


diff -ru edge_1.1.290/edge.r edge_1.1.290-i386/edge.r
--- edge_1.1.290/edge.r	2007-07-06 15:12:38.000000000 -0400
+++ edge_1.1.290-i386/edge.r	2011-10-11 10:43:40.000000000 -0400
@@ -8,7 +8,7 @@
 ## this or any files in this software package.
 #########################################################
 Rversion <- R.Version()
-if(Rversion$major < "2" || as.numeric(substring(Rversion$minor, 0, 1)) < 4)
+if(Rversion$major < "2" || as.numeric(gsub("\\..*","",Rversion$minor)) < 4)
 {
   stop("R version greater than or equal to 2.4.0 required")
 }
diff -ru edge_1.1.290/src/Makevars edge_1.1.290-i386/src/Makevars
--- edge_1.1.290/src/Makevars	2006-03-07 12:50:29.000000000 -0500
+++ edge_1.1.290-i386/src/Makevars	2011-10-11 10:24:48.000000000 -0400
@@ -28,7 +28,7 @@
 OS_FLAGS=-DMAC_OS_X -Dassert\(expr\)= -fPIC
 PKG_KNNLIBS=-L/sw/lib
 SOEXT=.so
-RCMD=R
+RCMD=R --arch i386
 RCMD_CMD=CMD
 endif

@@ -58,8 +58,8 @@
 PKG_CXXFLAGS=$(OS_FLAGS) $(INCLUDEDIRS) $(EDGELIBVERSION) $(DEBUG) -D__STDC_LIMIT_MACROS -Wall
 PKG_CFLAGS=$(OS_FLAGS) $(INCLUDEDIRS) $(EDGELIBVERSION) $(DEBUG) -D__STDC_LIMIT_MACROS -Wall

-CC=gcc 
+CC=gcc -arch i386
 CCOPTS=-c -g 
-CXX=g++ 
+CXX=g++ -arch i386
 CXXOPTS=-c -g 

diff -ru edge_1.1.290/src/cluster/TestFramework/Makefile edge_1.1.290-i386/src/cluster/TestFramework/Makefile
--- edge_1.1.290/src/cluster/TestFramework/Makefile	2005-09-23 18:22:56.000000000 -0400
+++ edge_1.1.290-i386/src/cluster/TestFramework/Makefile	2011-10-11 10:27:13.000000000 -0400
@@ -1,5 +1,5 @@
 SRCBASE=../..
-CC=g++
+CC=g++ -arch i386
 CCOPTS=-c -g

 LIBOBJECTS=UnitTestRunner.o UnitTestClass.o
diff -ru edge_1.1.290/src/cluster/Tests/Makefile edge_1.1.290-i386/src/cluster/Tests/Makefile
--- edge_1.1.290/src/cluster/Tests/Makefile	2006-03-02 14:50:12.000000000 -0500
+++ edge_1.1.290-i386/src/cluster/Tests/Makefile	2011-10-11 10:26:12.000000000 -0400
@@ -1,7 +1,7 @@
 SRCBASE=../..
 include ../../Makevars

-CC=g++
+CC=g++ -arch i386
 CCOPTS=-I.. -I../TestFramework -I../../threads -D__STDC_LIMIT_MACROS -ftrapv
 LINKOPTS=-L../TestFramework -L.. -L../../threads

diff -ru edge_1.1.290/src/threads/Tests/Makefile edge_1.1.290-i386/src/threads/Tests/Makefile
--- edge_1.1.290/src/threads/Tests/Makefile	2005-09-23 18:22:56.000000000 -0400
+++ edge_1.1.290-i386/src/threads/Tests/Makefile	2011-10-11 10:27:38.000000000 -0400
@@ -1,7 +1,7 @@
 SRCBASE=../..
 include ../../Makevars

-CC=g++
+CC=g++ -arch i386
 CCOPTS=-c -g

 OBJECTS=main.o




> I've
> contacted one of the authors of the software, but they haven't gotten back
> to me yet.  I will greatly appreciate any help you can provide.
> 
> Best and Thank You,
> Morri Feldman
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Tue Oct 11 16:48:09 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 11 Oct 2011 10:48:09 -0400
Subject: [R-SIG-Mac] Multiple R versions: set Current via symbolic link:
	permissions?
In-Reply-To: <AA5AC5C1-7A23-4058-BFA7-7A9ACD7229D6@math.ethz.ch>
References: <5C5E3922-E4AB-4E80-82B7-404718336796@math.ethz.ch>
	<46677FD9-A27B-4D05-BF7C-E3A98B09F8D5@r-project.org>
	<37DAD782-D2BD-4DA0-A9D1-741D4F3E88C5@math.ethz.ch>
	<24CBBF35-48AB-4407-A7BC-CAFD1E864F37@r-project.org>
	<AA5AC5C1-7A23-4058-BFA7-7A9ACD7229D6@math.ethz.ch>
Message-ID: <8DB39168-92EF-452E-B85F-187C62124D44@r-project.org>


On Oct 11, 2011, at 10:46 AM, Marius Hofert wrote:

>> You permissions are odd - this is not what installed R looks like, you should see
>> 
>> ginaz:Versions$ ls -l
>> total 8
>> drwxrwxr-x  6 root  admin  204 Mar 26  2010 2.12
>> drwxrwxr-x  6 root  admin  204 Jul 12 15:44 2.13
>> drwxrwxr-x  6 root  admin  204 Oct  2 11:01 2.14
>> drwxrwxr-x  6 root  admin  204 Oct  3 12:05 2.15
>> lrwxr-xr-x  1 root  admin    4 Oct  3 12:05 Current -> 2.15
>> 
>> so run
>> chown -Rh root:admin  /Library/Frameworks/R.framework/
>> followed by
>> 
>> to fix that.
> 
> followed by what? With "chown -Rh root:admin /Library/Frameworks/R.framework/" I get a lot of output of the form: 
> ...
> chown: /Library/Frameworks/R.framework//library/Rcpp/unitTests/runit.Module.client.package.R: Operation not permitted
> ...
> 

I should have said "run as root" or simply sudo chown ...


>> 
>> Cheers,
>> Simon
>> 
>> 
> 
> 


From martin.ellis at gmail.com  Tue Oct 11 16:51:43 2011
From: martin.ellis at gmail.com (Martin Ellis)
Date: Tue, 11 Oct 2011 15:51:43 +0100
Subject: [R-SIG-Mac] Multiple R versions: set Current via symbolic link:
	permissions?
In-Reply-To: <AA5AC5C1-7A23-4058-BFA7-7A9ACD7229D6@math.ethz.ch>
References: <5C5E3922-E4AB-4E80-82B7-404718336796@math.ethz.ch>
	<46677FD9-A27B-4D05-BF7C-E3A98B09F8D5@r-project.org>
	<37DAD782-D2BD-4DA0-A9D1-741D4F3E88C5@math.ethz.ch>
	<24CBBF35-48AB-4407-A7BC-CAFD1E864F37@r-project.org>
	<AA5AC5C1-7A23-4058-BFA7-7A9ACD7229D6@math.ethz.ch>
Message-ID: <CAPiE_jW_XNTn3w6NcOH-b4-rSH_rsvqdvK92peszJDTEf9pGHA@mail.gmail.com>

You'll need to run the chown command using sudo, if the files are owned by root.

Martin

On 11 October 2011 15:46, Marius Hofert <marius.hofert at math.ethz.ch> wrote:
>> You permissions are odd - this is not what installed R looks like, you should see
>>
>> ginaz:Versions$ ls -l
>> total 8
>> drwxrwxr-x ?6 root ?admin ?204 Mar 26 ?2010 2.12
>> drwxrwxr-x ?6 root ?admin ?204 Jul 12 15:44 2.13
>> drwxrwxr-x ?6 root ?admin ?204 Oct ?2 11:01 2.14
>> drwxrwxr-x ?6 root ?admin ?204 Oct ?3 12:05 2.15
>> lrwxr-xr-x ?1 root ?admin ? ?4 Oct ?3 12:05 Current -> 2.15
>>
>> so run
>> chown -Rh root:admin ?/Library/Frameworks/R.framework/
>> followed by
>>
>> to fix that.
>
> followed by what? With "chown -Rh root:admin /Library/Frameworks/R.framework/" I get a lot of output of the form:
> ...
> chown: /Library/Frameworks/R.framework//library/Rcpp/unitTests/runit.Module.client.package.R: Operation not permitted
> ...
>
>>
>> Cheers,
>> Simon
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From marius.hofert at math.ethz.ch  Tue Oct 11 16:52:46 2011
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Tue, 11 Oct 2011 16:52:46 +0200
Subject: [R-SIG-Mac] Multiple R versions: set Current via symbolic link:
	permissions?
In-Reply-To: <8DB39168-92EF-452E-B85F-187C62124D44@r-project.org>
References: <5C5E3922-E4AB-4E80-82B7-404718336796@math.ethz.ch>
	<46677FD9-A27B-4D05-BF7C-E3A98B09F8D5@r-project.org>
	<37DAD782-D2BD-4DA0-A9D1-741D4F3E88C5@math.ethz.ch>
	<24CBBF35-48AB-4407-A7BC-CAFD1E864F37@r-project.org>
	<AA5AC5C1-7A23-4058-BFA7-7A9ACD7229D6@math.ethz.ch>
	<8DB39168-92EF-452E-B85F-187C62124D44@r-project.org>
Message-ID: <17ED0627-0203-40F9-9DA5-24ED822E1D99@math.ethz.ch>

*thanks* a lot, it now works!

Cheers,

Marius

On 2011-10-11, at 16:48 , Simon Urbanek wrote:

> 
> On Oct 11, 2011, at 10:46 AM, Marius Hofert wrote:
> 
>>> You permissions are odd - this is not what installed R looks like, you should see
>>> 
>>> ginaz:Versions$ ls -l
>>> total 8
>>> drwxrwxr-x  6 root  admin  204 Mar 26  2010 2.12
>>> drwxrwxr-x  6 root  admin  204 Jul 12 15:44 2.13
>>> drwxrwxr-x  6 root  admin  204 Oct  2 11:01 2.14
>>> drwxrwxr-x  6 root  admin  204 Oct  3 12:05 2.15
>>> lrwxr-xr-x  1 root  admin    4 Oct  3 12:05 Current -> 2.15
>>> 
>>> so run
>>> chown -Rh root:admin  /Library/Frameworks/R.framework/
>>> followed by
>>> 
>>> to fix that.
>> 
>> followed by what? With "chown -Rh root:admin /Library/Frameworks/R.framework/" I get a lot of output of the form: 
>> ...
>> chown: /Library/Frameworks/R.framework//library/Rcpp/unitTests/runit.Module.client.package.R: Operation not permitted
>> ...
>> 
> 
> I should have said "run as root" or simply sudo chown ...
> 
> 
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>> 
>> 
> 

ETH Zurich
Dr. Marius Hofert
RiskLab, Department of Mathematics
HG E 65.2
R?mistrasse 101
8092 Zurich
Switzerland

Phone +41 44 632 2423
marius.hofert at math.ethz.ch
http://www.math.ethz.ch/~hofertj


From marius.hofert at math.ethz.ch  Tue Oct 11 22:10:36 2011
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Tue, 11 Oct 2011 22:10:36 +0200
Subject: [R-SIG-Mac] rgl on 10.7: has anyone tried it?
Message-ID: <3D7A8F7D-3070-411C-B495-7FC9323966F6@math.ethz.ch>

Dear all,

I tried to install the package rgl on 10.7. Here's the output:

##############################################################################

> install.packages("rgl", type="source")
install.packages("rgl", type="source")
Installing package(s) into ?/Library/Frameworks/R.framework/library?
(as ?lib? is unspecified)
trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
opened URL
==================================================
downloaded 1.6 Mb

* installing *source* package ?rgl? ...
checking for gcc... gcc -arch x86_64 -std=gnu99
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
checking whether we are using the GNU C compiler... (cached) yes
checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
checking for libpng-config... yes
configure: using libpng-config
configure: using libpng dynamic linkage
checking for X... libraries , headers 
checking for glEnd in -lGL... no
configure: error: missing required library GL
ERROR: configuration failed for package ?rgl?
* removing ?/Library/Frameworks/R.framework/library/rgl?

The downloaded packages are in
	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpQ6nuVK/downloaded_packages?
Warning message:
In install.packages("rgl", type = "source") :
  installation of package 'rgl' had non-zero exit status
> 

##############################################################################

Apparently, I'm missing the "GL" library. But how can I install it? I searched for it on the web and mainly found that the Mac should have Open GL already installed (?).

Cheers,

Marius

From simon.urbanek at r-project.org  Tue Oct 11 23:04:52 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 11 Oct 2011 17:04:52 -0400
Subject: [R-SIG-Mac] rgl on 10.7: has anyone tried it?
In-Reply-To: <3D7A8F7D-3070-411C-B495-7FC9323966F6@math.ethz.ch>
References: <3D7A8F7D-3070-411C-B495-7FC9323966F6@math.ethz.ch>
Message-ID: <2C1156DA-EF1D-465E-97D3-6D7BED034235@r-project.org>


On Oct 11, 2011, at 4:10 PM, Marius Hofert wrote:

> Dear all,
> 
> I tried to install the package rgl on 10.7. Here's the output:
> 
> ##############################################################################
> 
>> install.packages("rgl", type="source")
> install.packages("rgl", type="source")
> Installing package(s) into ?/Library/Frameworks/R.framework/library?
> (as ?lib? is unspecified)
> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
> opened URL
> ==================================================
> downloaded 1.6 Mb
> 
> * installing *source* package ?rgl? ...
> checking for gcc... gcc -arch x86_64 -std=gnu99
> checking for C compiler default output file name... a.out
> checking whether the C compiler works... yes
> checking whether we are cross compiling... no
> checking for suffix of executables... 
> checking for suffix of object files... o
> checking whether we are using the GNU C compiler... yes
> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
> checking whether we are using the GNU C compiler... (cached) yes
> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
> checking for libpng-config... yes
> configure: using libpng-config
> configure: using libpng dynamic linkage
> checking for X... libraries , headers 
> checking for glEnd in -lGL... no
> configure: error: missing required library GL
> ERROR: configuration failed for package ?rgl?
> * removing ?/Library/Frameworks/R.framework/library/rgl?
> 
> The downloaded packages are in
> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpQ6nuVK/downloaded_packages?
> Warning message:
> In install.packages("rgl", type = "source") :
>  installation of package 'rgl' had non-zero exit status
>> 
> 
> ##############################################################################
> 
> Apparently, I'm missing the "GL" library. But how can I install it? I searched for it on the web and mainly found that the Mac should have Open GL already installed (?).
> 

Are you sure you installed X11 and Xcode4?
I have no problem with the *configuration* on vanilla Lion. There is still an issue in the rgl 0.92.798 code (opengl.hpp), though, it's including AGL/* instead of OpenGL/* which fails (hence CC to Duncan), but that's at compilation stage, not configuration.

BTW: why don't you just use
install.packages("rgl")
that works on Lion as well...

Cheers,
Simon


[PS: while at it - I'm a bit confused about the current setup, though, since it uses the (non-X11) OpenGL framework yet links X11;  Also it crashes when GLX is not supported (e.g. ssh tunneling). I remember that at some point in the past it was building native and X11 versions but what is left is some mix of both...]





> Cheers,
> 
> Marius
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From marius.hofert at math.ethz.ch  Tue Oct 11 23:16:35 2011
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Tue, 11 Oct 2011 23:16:35 +0200
Subject: [R-SIG-Mac] rgl on 10.7: has anyone tried it?
In-Reply-To: <2C1156DA-EF1D-465E-97D3-6D7BED034235@r-project.org>
References: <3D7A8F7D-3070-411C-B495-7FC9323966F6@math.ethz.ch>
	<2C1156DA-EF1D-465E-97D3-6D7BED034235@r-project.org>
Message-ID: <260575E9-D4DF-4B84-9FEB-0167DEB63311@math.ethz.ch>


On 2011-10-11, at 23:04 , Simon Urbanek wrote:

> 
> On Oct 11, 2011, at 4:10 PM, Marius Hofert wrote:
> 
>> Dear all,
>> 
>> I tried to install the package rgl on 10.7. Here's the output:
>> 
>> ##############################################################################
>> 
>>> install.packages("rgl", type="source")
>> install.packages("rgl", type="source")
>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>> (as ?lib? is unspecified)
>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>> opened URL
>> ==================================================
>> downloaded 1.6 Mb
>> 
>> * installing *source* package ?rgl? ...
>> checking for gcc... gcc -arch x86_64 -std=gnu99
>> checking for C compiler default output file name... a.out
>> checking whether the C compiler works... yes
>> checking whether we are cross compiling... no
>> checking for suffix of executables... 
>> checking for suffix of object files... o
>> checking whether we are using the GNU C compiler... yes
>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>> checking whether we are using the GNU C compiler... (cached) yes
>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>> checking for libpng-config... yes
>> configure: using libpng-config
>> configure: using libpng dynamic linkage
>> checking for X... libraries , headers 
>> checking for glEnd in -lGL... no
>> configure: error: missing required library GL
>> ERROR: configuration failed for package ?rgl?
>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>> 
>> The downloaded packages are in
>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpQ6nuVK/downloaded_packages?
>> Warning message:
>> In install.packages("rgl", type = "source") :
>> installation of package 'rgl' had non-zero exit status
>>> 
>> 
>> ##############################################################################
>> 
>> Apparently, I'm missing the "GL" library. But how can I install it? I searched for it on the web and mainly found that the Mac should have Open GL already installed (?).
>> 
> 
> Are you sure you installed X11 and Xcode4?

yes, both are installed.

> I have no problem with the *configuration* on vanilla Lion.

I installed about 30 packages today, everything worked fine. Hmmm... seems challenging to detect where the problem is.

> There is still an issue in the rgl 0.92.798 code (opengl.hpp), though, it's including AGL/* instead of OpenGL/* which fails (hence CC to Duncan), but that's at compilation stage, not configuration.
> 
> BTW: why don't you just use
> install.packages("rgl")
> that works on Lion as well...

I installed all packages from source since I installed R from source and I remember reading somewhere that one should do it this way since the binaries are built to work with CRAN's binary installation of R. But if this does not create problems (please let me know), I'll give it a try.

I just remember something: I installed the 64bit R version. Is this a problem for rgl?

Cheers,

Marius


> 
> Cheers,
> Simon
> 
> 
> [PS: while at it - I'm a bit confused about the current setup, though, since it uses the (non-X11) OpenGL framework yet links X11;  Also it crashes when GLX is not supported (e.g. ssh tunneling). I remember that at some point in the past it was building native and X11 versions but what is left is some mix of both...]
> 
> 
> 
> 
> 
>> Cheers,
>> 
>> Marius
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 


From simon.urbanek at r-project.org  Tue Oct 11 23:30:08 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 11 Oct 2011 17:30:08 -0400
Subject: [R-SIG-Mac] rgl on 10.7: has anyone tried it?
In-Reply-To: <260575E9-D4DF-4B84-9FEB-0167DEB63311@math.ethz.ch>
References: <3D7A8F7D-3070-411C-B495-7FC9323966F6@math.ethz.ch>
	<2C1156DA-EF1D-465E-97D3-6D7BED034235@r-project.org>
	<260575E9-D4DF-4B84-9FEB-0167DEB63311@math.ethz.ch>
Message-ID: <85EA7578-1FA4-4434-BB91-6CEADA1EC633@r-project.org>


On Oct 11, 2011, at 5:16 PM, Marius Hofert wrote:

> 
> On 2011-10-11, at 23:04 , Simon Urbanek wrote:
> 
>> 
>> On Oct 11, 2011, at 4:10 PM, Marius Hofert wrote:
>> 
>>> Dear all,
>>> 
>>> I tried to install the package rgl on 10.7. Here's the output:
>>> 
>>> ##############################################################################
>>> 
>>>> install.packages("rgl", type="source")
>>> install.packages("rgl", type="source")
>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>> (as ?lib? is unspecified)
>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>> opened URL
>>> ==================================================
>>> downloaded 1.6 Mb
>>> 
>>> * installing *source* package ?rgl? ...
>>> checking for gcc... gcc -arch x86_64 -std=gnu99
>>> checking for C compiler default output file name... a.out
>>> checking whether the C compiler works... yes
>>> checking whether we are cross compiling... no
>>> checking for suffix of executables... 
>>> checking for suffix of object files... o
>>> checking whether we are using the GNU C compiler... yes
>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>>> checking whether we are using the GNU C compiler... (cached) yes
>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>>> checking for libpng-config... yes
>>> configure: using libpng-config
>>> configure: using libpng dynamic linkage
>>> checking for X... libraries , headers 
>>> checking for glEnd in -lGL... no
>>> configure: error: missing required library GL
>>> ERROR: configuration failed for package ?rgl?
>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>> 
>>> The downloaded packages are in
>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpQ6nuVK/downloaded_packages?
>>> Warning message:
>>> In install.packages("rgl", type = "source") :
>>> installation of package 'rgl' had non-zero exit status
>>>> 
>>> 
>>> ##############################################################################
>>> 
>>> Apparently, I'm missing the "GL" library. But how can I install it? I searched for it on the web and mainly found that the Mac should have Open GL already installed (?).
>>> 
>> 
>> Are you sure you installed X11 and Xcode4?
> 
> yes, both are installed.
> 
>> I have no problem with the *configuration* on vanilla Lion.
> 
> I installed about 30 packages today, everything worked fine. Hmmm... seems challenging to detect where the problem is.
> 

If you want to do that, have a look at rgl/config.log - it will tell you what went wrong.


>> There is still an issue in the rgl 0.92.798 code (opengl.hpp), though, it's including AGL/* instead of OpenGL/* which fails (hence CC to Duncan), but that's at compilation stage, not configuration.
>> 
>> BTW: why don't you just use
>> install.packages("rgl")
>> that works on Lion as well...
> 
> I installed all packages from source since I installed R from source and I remember reading somewhere that one should do it this way since the binaries are built to work with CRAN's binary installation of R. But if this does not create problems (please let me know), I'll give it a try.
> 

As long as your configuration is compatible (essentially you have to set r_arch properly) it works. It's not guaranteed to work if you use different compilers.


> I just remember something: I installed the 64bit R version. Is this a problem for rgl?
> 

No.

Cheers,
Simon


> Cheers,
> 
> Marius
> 
> 
>> 
>> Cheers,
>> Simon
>> 
>> 
>> [PS: while at it - I'm a bit confused about the current setup, though, since it uses the (non-X11) OpenGL framework yet links X11;  Also it crashes when GLX is not supported (e.g. ssh tunneling). I remember that at some point in the past it was building native and X11 versions but what is left is some mix of both...]
>> 
>> 
>> 
>> 
>> 
>>> Cheers,
>>> 
>>> Marius
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
> 
> 
> 


From marius.hofert at math.ethz.ch  Wed Oct 12 00:01:46 2011
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Wed, 12 Oct 2011 00:01:46 +0200
Subject: [R-SIG-Mac] rgl on 10.7: has anyone tried it?
In-Reply-To: <85EA7578-1FA4-4434-BB91-6CEADA1EC633@r-project.org>
References: <3D7A8F7D-3070-411C-B495-7FC9323966F6@math.ethz.ch>
	<2C1156DA-EF1D-465E-97D3-6D7BED034235@r-project.org>
	<260575E9-D4DF-4B84-9FEB-0167DEB63311@math.ethz.ch>
	<85EA7578-1FA4-4434-BB91-6CEADA1EC633@r-project.org>
Message-ID: <FA03479C-9CD8-47C7-9D3E-7D6919789267@math.ethz.ch>


On 2011-10-11, at 23:30 , Simon Urbanek wrote:

> 
> On Oct 11, 2011, at 5:16 PM, Marius Hofert wrote:
> 
>> 
>> On 2011-10-11, at 23:04 , Simon Urbanek wrote:
>> 
>>> 
>>> On Oct 11, 2011, at 4:10 PM, Marius Hofert wrote:
>>> 
>>>> Dear all,
>>>> 
>>>> I tried to install the package rgl on 10.7. Here's the output:
>>>> 
>>>> ##############################################################################
>>>> 
>>>>> install.packages("rgl", type="source")
>>>> install.packages("rgl", type="source")
>>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>>> (as ?lib? is unspecified)
>>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>>> opened URL
>>>> ==================================================
>>>> downloaded 1.6 Mb
>>>> 
>>>> * installing *source* package ?rgl? ...
>>>> checking for gcc... gcc -arch x86_64 -std=gnu99
>>>> checking for C compiler default output file name... a.out
>>>> checking whether the C compiler works... yes
>>>> checking whether we are cross compiling... no
>>>> checking for suffix of executables... 
>>>> checking for suffix of object files... o
>>>> checking whether we are using the GNU C compiler... yes
>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>>>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>>>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>>>> checking whether we are using the GNU C compiler... (cached) yes
>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>>>> checking for libpng-config... yes
>>>> configure: using libpng-config
>>>> configure: using libpng dynamic linkage
>>>> checking for X... libraries , headers 
>>>> checking for glEnd in -lGL... no
>>>> configure: error: missing required library GL
>>>> ERROR: configuration failed for package ?rgl?
>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>> 
>>>> The downloaded packages are in
>>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpQ6nuVK/downloaded_packages?
>>>> Warning message:
>>>> In install.packages("rgl", type = "source") :
>>>> installation of package 'rgl' had non-zero exit status
>>>>> 
>>>> 
>>>> ##############################################################################
>>>> 
>>>> Apparently, I'm missing the "GL" library. But how can I install it? I searched for it on the web and mainly found that the Mac should have Open GL already installed (?).
>>>> 
>>> 
>>> Are you sure you installed X11 and Xcode4?
>> 
>> yes, both are installed.
>> 
>>> I have no problem with the *configuration* on vanilla Lion.
>> 
>> I installed about 30 packages today, everything worked fine. Hmmm... seems challenging to detect where the problem is.
>> 
> 
> If you want to do that, have a look at rgl/config.log - it will tell you what went wrong.
> 

Hi Simon,

do you know the full path of this file? I can't find it.

> 
>>> There is still an issue in the rgl 0.92.798 code (opengl.hpp), though, it's including AGL/* instead of OpenGL/* which fails (hence CC to Duncan), but that's at compilation stage, not configuration.
>>> 
>>> BTW: why don't you just use
>>> install.packages("rgl")
>>> that works on Lion as well...
>> 
>> I installed all packages from source since I installed R from source and I remember reading somewhere that one should do it this way since the binaries are built to work with CRAN's binary installation of R. But if this does not create problems (please let me know), I'll give it a try.
>> 
> 
> As long as your configuration is compatible (essentially you have to set r_arch properly) it works. It's not guaranteed to work if you use different compilers.

I tried:
install.packages("rgl", configure.args="--r_arch=x86_64")

but the outcome was:

> install.packages("rgl", configure.args="--r_arch=x86_64")
install.packages("rgl", configure.args="--r_arch=x86_64")
Installing package(s) into ?/Library/Frameworks/R.framework/library?
(as ?lib? is unspecified)
--- Please select a CRAN mirror for use in this session ---
Loading Tcl/Tk interface ... done
trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
opened URL
==================================================
downloaded 1.6 Mb

* installing *source* package ?rgl? ...
configure: error: unrecognized option: `--r_arch=x86_64'
Try `./configure --help' for more information.
ERROR: configuration failed for package ?rgl?
* removing ?/Library/Frameworks/R.framework/library/rgl?

The downloaded packages are in
	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpzmXkSd/downloaded_packages?
Warning message:
In install.packages("rgl", configure.args = "--r_arch=x86_64") :
  installation of package 'rgl' had non-zero exit status
> 

How/Where should r_arch be specified?

Cheers,

Marius


> 
> 
>> I just remember something: I installed the 64bit R version. Is this a problem for rgl?
>> 
> 
> No.
> 
> Cheers,
> Simon
> 
> 
>> Cheers,
>> 
>> Marius
>> 
>> 
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>> [PS: while at it - I'm a bit confused about the current setup, though, since it uses the (non-X11) OpenGL framework yet links X11;  Also it crashes when GLX is not supported (e.g. ssh tunneling). I remember that at some point in the past it was building native and X11 versions but what is left is some mix of both...]
>>> 
>>> 
>>> 
>>> 
>>> 
>>>> Cheers,
>>>> 
>>>> Marius
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> 
>>> 
>> 
>> 
>> 
> 


From murdoch.duncan at gmail.com  Wed Oct 12 00:07:11 2011
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 11 Oct 2011 18:07:11 -0400
Subject: [R-SIG-Mac] rgl on 10.7: has anyone tried it?
In-Reply-To: <2C1156DA-EF1D-465E-97D3-6D7BED034235@r-project.org>
References: <3D7A8F7D-3070-411C-B495-7FC9323966F6@math.ethz.ch>
	<2C1156DA-EF1D-465E-97D3-6D7BED034235@r-project.org>
Message-ID: <4E94BE0F.6040101@gmail.com>

On 11-10-11 5:04 PM, Simon Urbanek wrote:
>
> On Oct 11, 2011, at 4:10 PM, Marius Hofert wrote:
>
>> Dear all,
>>
>> I tried to install the package rgl on 10.7. Here's the output:
>>
>> ##############################################################################
>>
>>> install.packages("rgl", type="source")
>> install.packages("rgl", type="source")
>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>> (as ?lib? is unspecified)
>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>> opened URL
>> ==================================================
>> downloaded 1.6 Mb
>>
>> * installing *source* package ?rgl? ...
>> checking for gcc... gcc -arch x86_64 -std=gnu99
>> checking for C compiler default output file name... a.out
>> checking whether the C compiler works... yes
>> checking whether we are cross compiling... no
>> checking for suffix of executables...
>> checking for suffix of object files... o
>> checking whether we are using the GNU C compiler... yes
>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>> checking whether we are using the GNU C compiler... (cached) yes
>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>> checking for libpng-config... yes
>> configure: using libpng-config
>> configure: using libpng dynamic linkage
>> checking for X... libraries , headers
>> checking for glEnd in -lGL... no
>> configure: error: missing required library GL
>> ERROR: configuration failed for package ?rgl?
>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>
>> The downloaded packages are in
>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpQ6nuVK/downloaded_packages?
>> Warning message:
>> In install.packages("rgl", type = "source") :
>>   installation of package 'rgl' had non-zero exit status
>>>
>>
>> ##############################################################################
>>
>> Apparently, I'm missing the "GL" library. But how can I install it? I searched for it on the web and mainly found that the Mac should have Open GL already installed (?).
>>
>
> Are you sure you installed X11 and Xcode4?
> I have no problem with the *configuration* on vanilla Lion. There is still an issue in the rgl 0.92.798 code (opengl.hpp), though, it's including AGL/* instead of OpenGL/* which fails (hence CC to Duncan), but that's at compilation stage, not configuration.

I can't build on MacOS these days either.  The history is that at one 
point the R.app GUI worked better with the AGL code, while the command 
line version needed X11.  So it built separate shared libraries to be 
loaded depending on what it saw at package load time (I think rgl.* is 
for X11, aglrgl.* is for AGL).  I haven't kept up with Apple's 
rearrangements, so I don't know what is currently needed, and am 
unlikely to have the time to figure it out.

However, if someone who does know what's going on sends me a patch that 
doesn't obviously break something else, I'd be happy to commit it.

Duncan Murdoch


> BTW: why don't you just use
> install.packages("rgl")
> that works on Lion as well...
>
> Cheers,
> Simon
>
>
> [PS: while at it - I'm a bit confused about the current setup, though, since it uses the (non-X11) OpenGL framework yet links X11;  Also it crashes when GLX is not supported (e.g. ssh tunneling). I remember that at some point in the past it was building native and X11 versions but what is left is some mix of both...]
>
>
>
>
>
>> Cheers,
>>
>> Marius
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>


From simon.urbanek at r-project.org  Wed Oct 12 00:12:55 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 11 Oct 2011 18:12:55 -0400
Subject: [R-SIG-Mac] rgl on 10.7: has anyone tried it?
In-Reply-To: <FA03479C-9CD8-47C7-9D3E-7D6919789267@math.ethz.ch>
References: <3D7A8F7D-3070-411C-B495-7FC9323966F6@math.ethz.ch>
	<2C1156DA-EF1D-465E-97D3-6D7BED034235@r-project.org>
	<260575E9-D4DF-4B84-9FEB-0167DEB63311@math.ethz.ch>
	<85EA7578-1FA4-4434-BB91-6CEADA1EC633@r-project.org>
	<FA03479C-9CD8-47C7-9D3E-7D6919789267@math.ethz.ch>
Message-ID: <EBFB29D6-F75B-4EC9-B752-60D3537FC858@r-project.org>


On Oct 11, 2011, at 6:01 PM, Marius Hofert wrote:

> 
> On 2011-10-11, at 23:30 , Simon Urbanek wrote:
> 
>> 
>> On Oct 11, 2011, at 5:16 PM, Marius Hofert wrote:
>> 
>>> 
>>> On 2011-10-11, at 23:04 , Simon Urbanek wrote:
>>> 
>>>> 
>>>> On Oct 11, 2011, at 4:10 PM, Marius Hofert wrote:
>>>> 
>>>>> Dear all,
>>>>> 
>>>>> I tried to install the package rgl on 10.7. Here's the output:
>>>>> 
>>>>> ##############################################################################
>>>>> 
>>>>>> install.packages("rgl", type="source")
>>>>> install.packages("rgl", type="source")
>>>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>>>> (as ?lib? is unspecified)
>>>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>>>> opened URL
>>>>> ==================================================
>>>>> downloaded 1.6 Mb
>>>>> 
>>>>> * installing *source* package ?rgl? ...
>>>>> checking for gcc... gcc -arch x86_64 -std=gnu99
>>>>> checking for C compiler default output file name... a.out
>>>>> checking whether the C compiler works... yes
>>>>> checking whether we are cross compiling... no
>>>>> checking for suffix of executables... 
>>>>> checking for suffix of object files... o
>>>>> checking whether we are using the GNU C compiler... yes
>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>>>>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>>>>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>>>>> checking whether we are using the GNU C compiler... (cached) yes
>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>>>>> checking for libpng-config... yes
>>>>> configure: using libpng-config
>>>>> configure: using libpng dynamic linkage
>>>>> checking for X... libraries , headers 
>>>>> checking for glEnd in -lGL... no
>>>>> configure: error: missing required library GL
>>>>> ERROR: configuration failed for package ?rgl?
>>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>>> 
>>>>> The downloaded packages are in
>>>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpQ6nuVK/downloaded_packages?
>>>>> Warning message:
>>>>> In install.packages("rgl", type = "source") :
>>>>> installation of package 'rgl' had non-zero exit status
>>>>>> 
>>>>> 
>>>>> ##############################################################################
>>>>> 
>>>>> Apparently, I'm missing the "GL" library. But how can I install it? I searched for it on the web and mainly found that the Mac should have Open GL already installed (?).
>>>>> 
>>>> 
>>>> Are you sure you installed X11 and Xcode4?
>>> 
>>> yes, both are installed.
>>> 
>>>> I have no problem with the *configuration* on vanilla Lion.
>>> 
>>> I installed about 30 packages today, everything worked fine. Hmmm... seems challenging to detect where the problem is.
>>> 
>> 
>> If you want to do that, have a look at rgl/config.log - it will tell you what went wrong.
>> 
> 
> Hi Simon,
> 
> do you know the full path of this file? I can't find it.0
> 

It's in the rgl directory after you run R CMD INSTALL rgl



>> 
>>>> There is still an issue in the rgl 0.92.798 code (opengl.hpp), though, it's including AGL/* instead of OpenGL/* which fails (hence CC to Duncan), but that's at compilation stage, not configuration.
>>>> 
>>>> BTW: why don't you just use
>>>> install.packages("rgl")
>>>> that works on Lion as well...
>>> 
>>> I installed all packages from source since I installed R from source and I remember reading somewhere that one should do it this way since the binaries are built to work with CRAN's binary installation of R. But if this does not create problems (please let me know), I'll give it a try.
>>> 
>> 
>> As long as your configuration is compatible (essentially you have to set r_arch properly) it works. It's not guaranteed to work if you use different compilers.
> 
> I tried:
> install.packages("rgl", configure.args="--r_arch=x86_64")
> 

Naw, you got wrong - I was talking about R configuration. Never mind then (you may want to read up on building R - see the R for Mac FAQ).

Cheers,
Simon



> but the outcome was:
> 
>> install.packages("rgl", configure.args="--r_arch=x86_64")
> install.packages("rgl", configure.args="--r_arch=x86_64")
> Installing package(s) into ?/Library/Frameworks/R.framework/library?
> (as ?lib? is unspecified)
> --- Please select a CRAN mirror for use in this session ---
> Loading Tcl/Tk interface ... done
> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
> opened URL
> ==================================================
> downloaded 1.6 Mb
> 
> * installing *source* package ?rgl? ...
> configure: error: unrecognized option: `--r_arch=x86_64'
> Try `./configure --help' for more information.
> ERROR: configuration failed for package ?rgl?
> * removing ?/Library/Frameworks/R.framework/library/rgl?
> 
> The downloaded packages are in
> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpzmXkSd/downloaded_packages?
> Warning message:
> In install.packages("rgl", configure.args = "--r_arch=x86_64") :
>  installation of package 'rgl' had non-zero exit status
>> 
> 
> How/Where should r_arch be specified?
> 
> Cheers,
> 
> Marius
> 
> 
>> 
>> 
>>> I just remember something: I installed the 64bit R version. Is this a problem for rgl?
>>> 
>> 
>> No.
>> 
>> Cheers,
>> Simon
>> 
>> 
>>> Cheers,
>>> 
>>> Marius
>>> 
>>> 
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>> [PS: while at it - I'm a bit confused about the current setup, though, since it uses the (non-X11) OpenGL framework yet links X11;  Also it crashes when GLX is not supported (e.g. ssh tunneling). I remember that at some point in the past it was building native and X11 versions but what is left is some mix of both...]
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>>> Cheers,
>>>>> 
>>>>> Marius
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> 
>>>> 
>>> 
>>> 
>>> 
>> 
> 
> 
> 


From simon.urbanek at r-project.org  Wed Oct 12 00:33:26 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 11 Oct 2011 18:33:26 -0400
Subject: [R-SIG-Mac] rgl on 10.7: has anyone tried it?
In-Reply-To: <4E94BE0F.6040101@gmail.com>
References: <3D7A8F7D-3070-411C-B495-7FC9323966F6@math.ethz.ch>
	<2C1156DA-EF1D-465E-97D3-6D7BED034235@r-project.org>
	<4E94BE0F.6040101@gmail.com>
Message-ID: <78732670-5E45-4F50-9C44-CC612CA23BBB@r-project.org>


On Oct 11, 2011, at 6:07 PM, Duncan Murdoch wrote:

> On 11-10-11 5:04 PM, Simon Urbanek wrote:
>> 
>> On Oct 11, 2011, at 4:10 PM, Marius Hofert wrote:
>> 
>>> Dear all,
>>> 
>>> I tried to install the package rgl on 10.7. Here's the output:
>>> 
>>> ##############################################################################
>>> 
>>>> install.packages("rgl", type="source")
>>> install.packages("rgl", type="source")
>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>> (as ?lib? is unspecified)
>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>> opened URL
>>> ==================================================
>>> downloaded 1.6 Mb
>>> 
>>> * installing *source* package ?rgl? ...
>>> checking for gcc... gcc -arch x86_64 -std=gnu99
>>> checking for C compiler default output file name... a.out
>>> checking whether the C compiler works... yes
>>> checking whether we are cross compiling... no
>>> checking for suffix of executables...
>>> checking for suffix of object files... o
>>> checking whether we are using the GNU C compiler... yes
>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>>> checking whether we are using the GNU C compiler... (cached) yes
>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>>> checking for libpng-config... yes
>>> configure: using libpng-config
>>> configure: using libpng dynamic linkage
>>> checking for X... libraries , headers
>>> checking for glEnd in -lGL... no
>>> configure: error: missing required library GL
>>> ERROR: configuration failed for package ?rgl?
>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>> 
>>> The downloaded packages are in
>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpQ6nuVK/downloaded_packages?
>>> Warning message:
>>> In install.packages("rgl", type = "source") :
>>>  installation of package 'rgl' had non-zero exit status
>>>> 
>>> 
>>> ##############################################################################
>>> 
>>> Apparently, I'm missing the "GL" library. But how can I install it? I searched for it on the web and mainly found that the Mac should have Open GL already installed (?).
>>> 
>> 
>> Are you sure you installed X11 and Xcode4?
>> I have no problem with the *configuration* on vanilla Lion. There is still an issue in the rgl 0.92.798 code (opengl.hpp), though, it's including AGL/* instead of OpenGL/* which fails (hence CC to Duncan), but that's at compilation stage, not configuration.
> 
> I can't build on MacOS these days either.  The history is that at one point the R.app GUI worked better with the AGL code, while the command line version needed X11.  So it built separate shared libraries to be loaded depending on what it saw at package load time (I think rgl.* is for X11, aglrgl.* is for AGL).

But that is no longer the case, is it? I see only one .so being built (see below).


>  I haven't kept up with Apple's rearrangements, so I don't know what is currently needed, and am unlikely to have the time to figure it out.
> 

Hmm.. I think I'm getting somewhere. There are actually three possible libraries:

a) X11 + GLX: #include <GL/gl.h>
b) OpenGL framework: #include <OpenGL/gl.h>
c) AGL framework (Carbon, this in NOT OpenGL): #include <AGL/agl.h>

The X11 backend (x11gui) should be using a) only. The native backend (osxgui) should be using b) + c).

Right now I see only x11gui and it's adding include path for b) yet attempting to include c) which is wrong under all circumstances. It should really be using a) just like on any unix. The special includes for OSX are only relevant for the osxgui and it should include OpenGL/gl.h anyway, because there is no such thing as AGL/gl.h. The OpenGL framework just so happens to work also with X11 so there is not a big damage done once AGL is out of the picture.


> However, if someone who does know what's going on sends me a patch that doesn't obviously break something else, I'd be happy to commit it.
> 

Well, just
sed 's:AGL:OpenGL:' rgl/src/opengl.hpp
makes it work for the X11 part. But something is not right, because RGL_OSX should not even be defined when building against X11 ... that's why I'm a bit confused about what's actually being built - it's not what rgl used to do ..

Cheers,
Simon




* installing to library '/Library/Frameworks/R.framework/Versions/2.13/Resources/library'
* installing *source* package 'rgl' ...
checking for gcc... gcc-4.2 -arch x86_64 -std=gnu99
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc-4.2 -arch x86_64 -std=gnu99 accepts -g... yes
checking for gcc-4.2 -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
checking how to run the C preprocessor... gcc-4.2 -arch x86_64 -std=gnu99 -E
checking for gcc... (cached) gcc-4.2 -arch x86_64 -std=gnu99
checking whether we are using the GNU C compiler... (cached) yes
checking whether gcc-4.2 -arch x86_64 -std=gnu99 accepts -g... (cached) yes
checking for gcc-4.2 -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
checking for libpng-config... yes
configure: using libpng-config
configure: using libpng dynamic linkage
checking for X... libraries , headers 
checking for glEnd in -lGL... yes
checking for gluProject in -lGLU... yes
checking for freetype-config... yes
configure: using Freetype and FTGL
configure: creating ./config.status
config.status: creating src/Makevars
** libs
*** arch - x86_64
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c BBoxDeco.cpp -o BBoxDeco.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c Background.cpp -o Background.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c Color.cpp -o Color.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c Disposable.cpp -o Disposable.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c Light.cpp -o Light.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c LineSet.cpp -o LineSet.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c LineStripSet.cpp -o LineStripSet.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c Material.cpp -o Material.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c PointSet.cpp -o PointSet.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c PrimitiveSet.cpp -o PrimitiveSet.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c QuadSet.cpp -o QuadSet.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c RenderContext.cpp -o RenderContext.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c Shape.cpp -o Shape.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c SphereMesh.cpp -o SphereMesh.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c SphereSet.cpp -o SphereSet.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c SpriteSet.cpp -o SpriteSet.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c String.cpp -o String.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c Surface.cpp -o Surface.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c TextSet.cpp -o TextSet.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c Texture.cpp -o Texture.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c Viewpoint.cpp -o Viewpoint.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c api.cpp -o api.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c assert.cpp -o assert.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c callbacks.cpp -o callbacks.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c device.cpp -o device.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c devicemanager.cpp -o devicemanager.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c fps.cpp -o fps.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c ftgl.cpp -o ftgl.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c geom.cpp -o geom.o
gcc-4.2 -arch x86_64 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include    -fPIC  -g -O2 -c gl2ps.c -o gl2ps.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c glErrors.cpp -o glErrors.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c glgui.cpp -o glgui.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c gui.cpp -o gui.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c init.cpp -o init.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c osxgui.cpp -o osxgui.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c osxlib.cpp -o osxlib.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c par3d.cpp -o par3d.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c pixmap.cpp -o pixmap.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c render.cpp -o render.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c rglmath.cpp -o rglmath.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c rglview.cpp -o rglview.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c scene.cpp -o scene.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c select.cpp -o select.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c win32gui.cpp -o win32gui.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c win32lib.cpp -o win32lib.o
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c x11gui.cpp -o x11gui.o
x11gui.cpp: In constructor 'gui::X11GUIFactory::X11GUIFactory(const char*)':
x11gui.cpp:459: warning: deprecated conversion from string constant to 'char*'
g++-4.2 -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c x11lib.cpp -o x11lib.o
g++-4.2 -arch x86_64 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -o rgl.so BBoxDeco.o Background.o Color.o Disposable.o Light.o LineSet.o LineStripSet.o Material.o PointSet.o PrimitiveSet.o QuadSet.o RenderContext.o Shape.o SphereMesh.o SphereSet.o SpriteSet.o String.o Surface.o TextSet.o Texture.o Viewpoint.o api.o assert.o callbacks.o device.o devicemanager.o fps.o ftgl.o geom.o gl2ps.o glErrors.o glgui.o gui.o init.o osxgui.o osxlib.o par3d.o pixmap.o render.o rglmath.o rglview.o scene.o select.o win32gui.o win32lib.o x11gui.o x11lib.o -lGLU -lGL -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib -L/usr/X11/lib -lpng15 -lX11 -L/usr/X11/lib -lfreetype -lz -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
installing to /Library/Frameworks/R.framework/Versions/2.13/Resources/library/rgl/libs/x86_64


> Duncan Murdoch
> 
> 
>> BTW: why don't you just use
>> install.packages("rgl")
>> that works on Lion as well...
>> 
>> Cheers,
>> Simon
>> 
>> 
>> [PS: while at it - I'm a bit confused about the current setup, though, since it uses the (non-X11) OpenGL framework yet links X11;  Also it crashes when GLX is not supported (e.g. ssh tunneling). I remember that at some point in the past it was building native and X11 versions but what is left is some mix of both...]
>> 
>> 
>> 
>> 
>> 
>>> Cheers,
>>> 
>>> Marius
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
> 
> 


From marius.hofert at math.ethz.ch  Wed Oct 12 00:33:38 2011
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Wed, 12 Oct 2011 00:33:38 +0200
Subject: [R-SIG-Mac] rgl on 10.7: has anyone tried it?
In-Reply-To: <EBFB29D6-F75B-4EC9-B752-60D3537FC858@r-project.org>
References: <3D7A8F7D-3070-411C-B495-7FC9323966F6@math.ethz.ch>
	<2C1156DA-EF1D-465E-97D3-6D7BED034235@r-project.org>
	<260575E9-D4DF-4B84-9FEB-0167DEB63311@math.ethz.ch>
	<85EA7578-1FA4-4434-BB91-6CEADA1EC633@r-project.org>
	<FA03479C-9CD8-47C7-9D3E-7D6919789267@math.ethz.ch>
	<EBFB29D6-F75B-4EC9-B752-60D3537FC858@r-project.org>
Message-ID: <F063AF2A-0E69-497B-B427-C74E3BBF48FE@math.ethz.ch>


On 2011-10-12, at 00:12 , Simon Urbanek wrote:

> 
> On Oct 11, 2011, at 6:01 PM, Marius Hofert wrote:
> 
>> 
>> On 2011-10-11, at 23:30 , Simon Urbanek wrote:
>> 
>>> 
>>> On Oct 11, 2011, at 5:16 PM, Marius Hofert wrote:
>>> 
>>>> 
>>>> On 2011-10-11, at 23:04 , Simon Urbanek wrote:
>>>> 
>>>>> 
>>>>> On Oct 11, 2011, at 4:10 PM, Marius Hofert wrote:
>>>>> 
>>>>>> Dear all,
>>>>>> 
>>>>>> I tried to install the package rgl on 10.7. Here's the output:
>>>>>> 
>>>>>> ##############################################################################
>>>>>> 
>>>>>>> install.packages("rgl", type="source")
>>>>>> install.packages("rgl", type="source")
>>>>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>>>>> (as ?lib? is unspecified)
>>>>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>>>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>>>>> opened URL
>>>>>> ==================================================
>>>>>> downloaded 1.6 Mb
>>>>>> 
>>>>>> * installing *source* package ?rgl? ...
>>>>>> checking for gcc... gcc -arch x86_64 -std=gnu99
>>>>>> checking for C compiler default output file name... a.out
>>>>>> checking whether the C compiler works... yes
>>>>>> checking whether we are cross compiling... no
>>>>>> checking for suffix of executables... 
>>>>>> checking for suffix of object files... o
>>>>>> checking whether we are using the GNU C compiler... yes
>>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>>>>>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>>>>>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>>>>>> checking whether we are using the GNU C compiler... (cached) yes
>>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>>>>>> checking for libpng-config... yes
>>>>>> configure: using libpng-config
>>>>>> configure: using libpng dynamic linkage
>>>>>> checking for X... libraries , headers 
>>>>>> checking for glEnd in -lGL... no
>>>>>> configure: error: missing required library GL
>>>>>> ERROR: configuration failed for package ?rgl?
>>>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>>>> 
>>>>>> The downloaded packages are in
>>>>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpQ6nuVK/downloaded_packages?
>>>>>> Warning message:
>>>>>> In install.packages("rgl", type = "source") :
>>>>>> installation of package 'rgl' had non-zero exit status
>>>>>>> 
>>>>>> 
>>>>>> ##############################################################################
>>>>>> 
>>>>>> Apparently, I'm missing the "GL" library. But how can I install it? I searched for it on the web and mainly found that the Mac should have Open GL already installed (?).
>>>>>> 
>>>>> 
>>>>> Are you sure you installed X11 and Xcode4?
>>>> 
>>>> yes, both are installed.
>>>> 
>>>>> I have no problem with the *configuration* on vanilla Lion.
>>>> 
>>>> I installed about 30 packages today, everything worked fine. Hmmm... seems challenging to detect where the problem is.
>>>> 
>>> 
>>> If you want to do that, have a look at rgl/config.log - it will tell you what went wrong.
>>> 
>> 
>> Hi Simon,
>> 
>> do you know the full path of this file? I can't find it.0
>> 
> 
> It's in the rgl directory after you run R CMD INSTALL rgl

 that's removed after the configure-trial:

bash-3.2$ R CMD INSTALL rgl_0.92.798.tar.gz 
* installing to library ?/Library/Frameworks/R.framework/library?
* installing *source* package ?rgl? ...
checking for gcc... gcc -arch x86_64 -std=gnu99
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
checking whether we are using the GNU C compiler... (cached) yes
checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
checking for libpng-config... yes
configure: using libpng-config
configure: using libpng dynamic linkage
checking for X... libraries , headers 
checking for glEnd in -lGL... no
configure: error: missing required library GL
ERROR: configuration failed for package ?rgl?
* removing ?/Library/Frameworks/R.framework/library/rgl?
bash-3.2$ 

=> there is no rgl folder (neither in /Library/Frameworks/R.framework/library nor in the folder in which the .tar.gz resides). 

> 
> 
> 
>>> 
>>>>> There is still an issue in the rgl 0.92.798 code (opengl.hpp), though, it's including AGL/* instead of OpenGL/* which fails (hence CC to Duncan), but that's at compilation stage, not configuration.
>>>>> 
>>>>> BTW: why don't you just use
>>>>> install.packages("rgl")
>>>>> that works on Lion as well...
>>>> 
>>>> I installed all packages from source since I installed R from source and I remember reading somewhere that one should do it this way since the binaries are built to work with CRAN's binary installation of R. But if this does not create problems (please let me know), I'll give it a try.
>>>> 
>>> 
>>> As long as your configuration is compatible (essentially you have to set r_arch properly) it works. It's not guaranteed to work if you use different compilers.
>> 
>> I tried:
>> install.packages("rgl", configure.args="--r_arch=x86_64")
>> 
> 
> Naw, you got wrong - I was talking about R configuration. Never mind then (you may want to read up on building R - see the R for Mac FAQ).
> 
> Cheers,
> Simon
> 
> 
> 
>> but the outcome was:
>> 
>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>> install.packages("rgl", configure.args="--r_arch=x86_64")
>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>> (as ?lib? is unspecified)
>> --- Please select a CRAN mirror for use in this session ---
>> Loading Tcl/Tk interface ... done
>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>> opened URL
>> ==================================================
>> downloaded 1.6 Mb
>> 
>> * installing *source* package ?rgl? ...
>> configure: error: unrecognized option: `--r_arch=x86_64'
>> Try `./configure --help' for more information.
>> ERROR: configuration failed for package ?rgl?
>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>> 
>> The downloaded packages are in
>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpzmXkSd/downloaded_packages?
>> Warning message:
>> In install.packages("rgl", configure.args = "--r_arch=x86_64") :
>> installation of package 'rgl' had non-zero exit status
>>> 
>> 
>> How/Where should r_arch be specified?
>> 
>> Cheers,
>> 
>> Marius
>> 
>> 
>>> 
>>> 
>>>> I just remember something: I installed the 64bit R version. Is this a problem for rgl?
>>>> 
>>> 
>>> No.
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>>> Cheers,
>>>> 
>>>> Marius
>>>> 
>>>> 
>>>>> 
>>>>> Cheers,
>>>>> Simon
>>>>> 
>>>>> 
>>>>> [PS: while at it - I'm a bit confused about the current setup, though, since it uses the (non-X11) OpenGL framework yet links X11;  Also it crashes when GLX is not supported (e.g. ssh tunneling). I remember that at some point in the past it was building native and X11 versions but what is left is some mix of both...]
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>>> Cheers,
>>>>>> 
>>>>>> Marius
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>>> 
>>>>> 
>>>> 
>>>> 
>>>> 
>>> 
>> 
>> 
>> 
> 


From simon.urbanek at r-project.org  Wed Oct 12 00:37:33 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 11 Oct 2011 18:37:33 -0400
Subject: [R-SIG-Mac] rgl on 10.7: has anyone tried it?
In-Reply-To: <F063AF2A-0E69-497B-B427-C74E3BBF48FE@math.ethz.ch>
References: <3D7A8F7D-3070-411C-B495-7FC9323966F6@math.ethz.ch>
	<2C1156DA-EF1D-465E-97D3-6D7BED034235@r-project.org>
	<260575E9-D4DF-4B84-9FEB-0167DEB63311@math.ethz.ch>
	<85EA7578-1FA4-4434-BB91-6CEADA1EC633@r-project.org>
	<FA03479C-9CD8-47C7-9D3E-7D6919789267@math.ethz.ch>
	<EBFB29D6-F75B-4EC9-B752-60D3537FC858@r-project.org>
	<F063AF2A-0E69-497B-B427-C74E3BBF48FE@math.ethz.ch>
Message-ID: <1B1F0DA7-6D98-4B49-8AEC-4491938B6146@r-project.org>


On Oct 11, 2011, at 6:33 PM, Marius Hofert wrote:

> 
> On 2011-10-12, at 00:12 , Simon Urbanek wrote:
> 
>> 
>> On Oct 11, 2011, at 6:01 PM, Marius Hofert wrote:
>> 
>>> 
>>> On 2011-10-11, at 23:30 , Simon Urbanek wrote:
>>> 
>>>> 
>>>> On Oct 11, 2011, at 5:16 PM, Marius Hofert wrote:
>>>> 
>>>>> 
>>>>> On 2011-10-11, at 23:04 , Simon Urbanek wrote:
>>>>> 
>>>>>> 
>>>>>> On Oct 11, 2011, at 4:10 PM, Marius Hofert wrote:
>>>>>> 
>>>>>>> Dear all,
>>>>>>> 
>>>>>>> I tried to install the package rgl on 10.7. Here's the output:
>>>>>>> 
>>>>>>> ##############################################################################
>>>>>>> 
>>>>>>>> install.packages("rgl", type="source")
>>>>>>> install.packages("rgl", type="source")
>>>>>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>>>>>> (as ?lib? is unspecified)
>>>>>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>>>>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>>>>>> opened URL
>>>>>>> ==================================================
>>>>>>> downloaded 1.6 Mb
>>>>>>> 
>>>>>>> * installing *source* package ?rgl? ...
>>>>>>> checking for gcc... gcc -arch x86_64 -std=gnu99
>>>>>>> checking for C compiler default output file name... a.out
>>>>>>> checking whether the C compiler works... yes
>>>>>>> checking whether we are cross compiling... no
>>>>>>> checking for suffix of executables... 
>>>>>>> checking for suffix of object files... o
>>>>>>> checking whether we are using the GNU C compiler... yes
>>>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>>>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>>>>>>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>>>>>>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>>>>>>> checking whether we are using the GNU C compiler... (cached) yes
>>>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>>>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>>>>>>> checking for libpng-config... yes
>>>>>>> configure: using libpng-config
>>>>>>> configure: using libpng dynamic linkage
>>>>>>> checking for X... libraries , headers 
>>>>>>> checking for glEnd in -lGL... no
>>>>>>> configure: error: missing required library GL
>>>>>>> ERROR: configuration failed for package ?rgl?
>>>>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>>>>> 
>>>>>>> The downloaded packages are in
>>>>>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpQ6nuVK/downloaded_packages?
>>>>>>> Warning message:
>>>>>>> In install.packages("rgl", type = "source") :
>>>>>>> installation of package 'rgl' had non-zero exit status
>>>>>>>> 
>>>>>>> 
>>>>>>> ##############################################################################
>>>>>>> 
>>>>>>> Apparently, I'm missing the "GL" library. But how can I install it? I searched for it on the web and mainly found that the Mac should have Open GL already installed (?).
>>>>>>> 
>>>>>> 
>>>>>> Are you sure you installed X11 and Xcode4?
>>>>> 
>>>>> yes, both are installed.
>>>>> 
>>>>>> I have no problem with the *configuration* on vanilla Lion.
>>>>> 
>>>>> I installed about 30 packages today, everything worked fine. Hmmm... seems challenging to detect where the problem is.
>>>>> 
>>>> 
>>>> If you want to do that, have a look at rgl/config.log - it will tell you what went wrong.
>>>> 
>>> 
>>> Hi Simon,
>>> 
>>> do you know the full path of this file? I can't find it.0
>>> 
>> 
>> It's in the rgl directory after you run R CMD INSTALL rgl
> 
> that's removed after the configure-trial:
> 
> bash-3.2$ R CMD INSTALL rgl_0.92.798.tar.gz 
> * installing to library ?/Library/Frameworks/R.framework/library?
> * installing *source* package ?rgl? ...
> checking for gcc... gcc -arch x86_64 -std=gnu99
> checking for C compiler default output file name... a.out
> checking whether the C compiler works... yes
> checking whether we are cross compiling... no
> checking for suffix of executables... 
> checking for suffix of object files... o
> checking whether we are using the GNU C compiler... yes
> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
> checking whether we are using the GNU C compiler... (cached) yes
> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
> checking for libpng-config... yes
> configure: using libpng-config
> configure: using libpng dynamic linkage
> checking for X... libraries , headers 
> checking for glEnd in -lGL... no
> configure: error: missing required library GL
> ERROR: configuration failed for package ?rgl?
> * removing ?/Library/Frameworks/R.framework/library/rgl?
> bash-3.2$ 
> 
> => there is no rgl folder (neither in /Library/Frameworks/R.framework/library nor in the folder in which the .tar.gz resides). 
> 

As I said use R CMD INSTALL rgl, not on the tar ball
S


>> 
>> 
>> 
>>>> 
>>>>>> There is still an issue in the rgl 0.92.798 code (opengl.hpp), though, it's including AGL/* instead of OpenGL/* which fails (hence CC to Duncan), but that's at compilation stage, not configuration.
>>>>>> 
>>>>>> BTW: why don't you just use
>>>>>> install.packages("rgl")
>>>>>> that works on Lion as well...
>>>>> 
>>>>> I installed all packages from source since I installed R from source and I remember reading somewhere that one should do it this way since the binaries are built to work with CRAN's binary installation of R. But if this does not create problems (please let me know), I'll give it a try.
>>>>> 
>>>> 
>>>> As long as your configuration is compatible (essentially you have to set r_arch properly) it works. It's not guaranteed to work if you use different compilers.
>>> 
>>> I tried:
>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>> 
>> 
>> Naw, you got wrong - I was talking about R configuration. Never mind then (you may want to read up on building R - see the R for Mac FAQ).
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>> but the outcome was:
>>> 
>>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>> (as ?lib? is unspecified)
>>> --- Please select a CRAN mirror for use in this session ---
>>> Loading Tcl/Tk interface ... done
>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>> opened URL
>>> ==================================================
>>> downloaded 1.6 Mb
>>> 
>>> * installing *source* package ?rgl? ...
>>> configure: error: unrecognized option: `--r_arch=x86_64'
>>> Try `./configure --help' for more information.
>>> ERROR: configuration failed for package ?rgl?
>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>> 
>>> The downloaded packages are in
>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpzmXkSd/downloaded_packages?
>>> Warning message:
>>> In install.packages("rgl", configure.args = "--r_arch=x86_64") :
>>> installation of package 'rgl' had non-zero exit status
>>>> 
>>> 
>>> How/Where should r_arch be specified?
>>> 
>>> Cheers,
>>> 
>>> Marius
>>> 
>>> 
>>>> 
>>>> 
>>>>> I just remember something: I installed the 64bit R version. Is this a problem for rgl?
>>>>> 
>>>> 
>>>> No.
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>>> Cheers,
>>>>> 
>>>>> Marius
>>>>> 
>>>>> 
>>>>>> 
>>>>>> Cheers,
>>>>>> Simon
>>>>>> 
>>>>>> 
>>>>>> [PS: while at it - I'm a bit confused about the current setup, though, since it uses the (non-X11) OpenGL framework yet links X11;  Also it crashes when GLX is not supported (e.g. ssh tunneling). I remember that at some point in the past it was building native and X11 versions but what is left is some mix of both...]
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>>> Cheers,
>>>>>>> 
>>>>>>> Marius
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>> 
>>>>>>> 
>>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>> 
>>> 
>>> 
>>> 
>> 
> 
> 
> 


From marius.hofert at math.ethz.ch  Wed Oct 12 00:44:02 2011
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Wed, 12 Oct 2011 00:44:02 +0200
Subject: [R-SIG-Mac] rgl on 10.7: has anyone tried it?
In-Reply-To: <1B1F0DA7-6D98-4B49-8AEC-4491938B6146@r-project.org>
References: <3D7A8F7D-3070-411C-B495-7FC9323966F6@math.ethz.ch>
	<2C1156DA-EF1D-465E-97D3-6D7BED034235@r-project.org>
	<260575E9-D4DF-4B84-9FEB-0167DEB63311@math.ethz.ch>
	<85EA7578-1FA4-4434-BB91-6CEADA1EC633@r-project.org>
	<FA03479C-9CD8-47C7-9D3E-7D6919789267@math.ethz.ch>
	<EBFB29D6-F75B-4EC9-B752-60D3537FC858@r-project.org>
	<F063AF2A-0E69-497B-B427-C74E3BBF48FE@math.ethz.ch>
	<1B1F0DA7-6D98-4B49-8AEC-4491938B6146@r-project.org>
Message-ID: <040854C0-D8EF-4498-9558-7E5D005198D4@math.ethz.ch>


On 2011-10-12, at 00:37 , Simon Urbanek wrote:

> 
> On Oct 11, 2011, at 6:33 PM, Marius Hofert wrote:
> 
>> 
>> On 2011-10-12, at 00:12 , Simon Urbanek wrote:
>> 
>>> 
>>> On Oct 11, 2011, at 6:01 PM, Marius Hofert wrote:
>>> 
>>>> 
>>>> On 2011-10-11, at 23:30 , Simon Urbanek wrote:
>>>> 
>>>>> 
>>>>> On Oct 11, 2011, at 5:16 PM, Marius Hofert wrote:
>>>>> 
>>>>>> 
>>>>>> On 2011-10-11, at 23:04 , Simon Urbanek wrote:
>>>>>> 
>>>>>>> 
>>>>>>> On Oct 11, 2011, at 4:10 PM, Marius Hofert wrote:
>>>>>>> 
>>>>>>>> Dear all,
>>>>>>>> 
>>>>>>>> I tried to install the package rgl on 10.7. Here's the output:
>>>>>>>> 
>>>>>>>> ##############################################################################
>>>>>>>> 
>>>>>>>>> install.packages("rgl", type="source")
>>>>>>>> install.packages("rgl", type="source")
>>>>>>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>>>>>>> (as ?lib? is unspecified)
>>>>>>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>>>>>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>>>>>>> opened URL
>>>>>>>> ==================================================
>>>>>>>> downloaded 1.6 Mb
>>>>>>>> 
>>>>>>>> * installing *source* package ?rgl? ...
>>>>>>>> checking for gcc... gcc -arch x86_64 -std=gnu99
>>>>>>>> checking for C compiler default output file name... a.out
>>>>>>>> checking whether the C compiler works... yes
>>>>>>>> checking whether we are cross compiling... no
>>>>>>>> checking for suffix of executables... 
>>>>>>>> checking for suffix of object files... o
>>>>>>>> checking whether we are using the GNU C compiler... yes
>>>>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>>>>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>>>>>>>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>>>>>>>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>>>>>>>> checking whether we are using the GNU C compiler... (cached) yes
>>>>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>>>>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>>>>>>>> checking for libpng-config... yes
>>>>>>>> configure: using libpng-config
>>>>>>>> configure: using libpng dynamic linkage
>>>>>>>> checking for X... libraries , headers 
>>>>>>>> checking for glEnd in -lGL... no
>>>>>>>> configure: error: missing required library GL
>>>>>>>> ERROR: configuration failed for package ?rgl?
>>>>>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>>>>>> 
>>>>>>>> The downloaded packages are in
>>>>>>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpQ6nuVK/downloaded_packages?
>>>>>>>> Warning message:
>>>>>>>> In install.packages("rgl", type = "source") :
>>>>>>>> installation of package 'rgl' had non-zero exit status
>>>>>>>>> 
>>>>>>>> 
>>>>>>>> ##############################################################################
>>>>>>>> 
>>>>>>>> Apparently, I'm missing the "GL" library. But how can I install it? I searched for it on the web and mainly found that the Mac should have Open GL already installed (?).
>>>>>>>> 
>>>>>>> 
>>>>>>> Are you sure you installed X11 and Xcode4?
>>>>>> 
>>>>>> yes, both are installed.
>>>>>> 
>>>>>>> I have no problem with the *configuration* on vanilla Lion.
>>>>>> 
>>>>>> I installed about 30 packages today, everything worked fine. Hmmm... seems challenging to detect where the problem is.
>>>>>> 
>>>>> 
>>>>> If you want to do that, have a look at rgl/config.log - it will tell you what went wrong.
>>>>> 
>>>> 
>>>> Hi Simon,
>>>> 
>>>> do you know the full path of this file? I can't find it.0
>>>> 
>>> 
>>> It's in the rgl directory after you run R CMD INSTALL rgl
>> 
>> that's removed after the configure-trial:
>> 
>> bash-3.2$ R CMD INSTALL rgl_0.92.798.tar.gz 
>> * installing to library ?/Library/Frameworks/R.framework/library?
>> * installing *source* package ?rgl? ...
>> checking for gcc... gcc -arch x86_64 -std=gnu99
>> checking for C compiler default output file name... a.out
>> checking whether the C compiler works... yes
>> checking whether we are cross compiling... no
>> checking for suffix of executables... 
>> checking for suffix of object files... o
>> checking whether we are using the GNU C compiler... yes
>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>> checking whether we are using the GNU C compiler... (cached) yes
>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>> checking for libpng-config... yes
>> configure: using libpng-config
>> configure: using libpng dynamic linkage
>> checking for X... libraries , headers 
>> checking for glEnd in -lGL... no
>> configure: error: missing required library GL
>> ERROR: configuration failed for package ?rgl?
>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>> bash-3.2$ 
>> 
>> => there is no rgl folder (neither in /Library/Frameworks/R.framework/library nor in the folder in which the .tar.gz resides). 
>> 
> 
> As I said use R CMD INSTALL rgl, not on the tar ball
> S

Ahh, okay, now I get it :-)
Here's the config.log:

This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by configure, which was
generated by GNU Autoconf 2.64.  Invocation command line was

  $ ./configure 

## --------- ##
## Platform. ##
## --------- ##

hostname = 80-218-246-245.dclient.hispeed.ch
uname -m = x86_64
uname -r = 11.0.1
uname -s = Darwin
uname -v = Darwin Kernel Version 11.0.1: Thu Jul 28 02:01:39 PDT 2011; root:xnu-1699.23.4~1/RELEASE_X86_64

/usr/bin/uname -p = i386
/bin/uname -X     = unknown

/bin/arch              = unknown
/usr/bin/arch -k       = unknown
/usr/convex/getsysinfo = unknown
/usr/bin/hostinfo      = Mach kernel version:
	 Darwin Kernel Version 11.0.1: Thu Jul 28 02:01:39 PDT 2011; root:xnu-1699.23.4~1/RELEASE_X86_64
Kernel configured for up to 4 processors.
2 processors are physically available.
4 processors are logically available.
Processor type: i486 (Intel 80486)
Processors active: 0 1 2 3
Primary memory available: 4.00 gigabytes
Default processor set: 107 tasks, 499 threads, 4 processors
Load average: 0.91, Mach factor: 3.08
/bin/machine           = unknown
/usr/bin/oslevel       = unknown
/bin/universe          = unknown

PATH: /opt/local/bin
PATH: /opt/local/sbin
PATH: /usr/bin
PATH: /bin
PATH: /usr/sbin
PATH: /sbin
PATH: /usr/local/bin
PATH: /usr/X11/bin
PATH: /usr/texbin


## ----------- ##
## Core tests. ##
## ----------- ##

configure:2106: checking for gcc
configure:2133: result: gcc -arch x86_64 -std=gnu99
configure:2362: checking for C compiler version
configure:2371: gcc -arch x86_64 -std=gnu99 --version >&5
i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
Copyright (C) 2007 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

configure:2382: $? = 0
configure:2371: gcc -arch x86_64 -std=gnu99 -v >&5
Using built-in specs.
Target: i686-apple-darwin11
Configured with: /private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/src/configure --disable-checking --enable-werror --prefix=/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1
Thread model: posix
gcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
configure:2382: $? = 0
configure:2371: gcc -arch x86_64 -std=gnu99 -V >&5
llvm-gcc-4.2: argument to `-V' is missing
configure:2382: $? = 1
configure:2371: gcc -arch x86_64 -std=gnu99 -qversion >&5
i686-apple-darwin11-llvm-gcc-4.2: no input files
configure:2382: $? = 1
configure:2404: checking for C compiler default output file name
configure:2426: gcc -arch x86_64 -std=gnu99 -g -O2   conftest.c  >&5
configure:2430: $? = 0
configure:2467: result: a.out
configure:2483: checking whether the C compiler works
configure:2492: ./a.out
configure:2496: $? = 0
configure:2511: result: yes
configure:2518: checking whether we are cross compiling
configure:2520: result: no
configure:2523: checking for suffix of executables
configure:2530: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2   conftest.c  >&5
configure:2534: $? = 0
configure:2556: result: 
configure:2562: checking for suffix of object files
configure:2584: gcc -arch x86_64 -std=gnu99 -c -g -O2  conftest.c >&5
configure:2588: $? = 0
configure:2609: result: o
configure:2613: checking whether we are using the GNU C compiler
configure:2632: gcc -arch x86_64 -std=gnu99 -c -g -O2  conftest.c >&5
configure:2632: $? = 0
configure:2641: result: yes
configure:2650: checking whether gcc -arch x86_64 -std=gnu99 accepts -g
configure:2670: gcc -arch x86_64 -std=gnu99 -c -g  conftest.c >&5
configure:2670: $? = 0
configure:2711: result: yes
configure:2728: checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89
configure:2792: gcc -arch x86_64 -std=gnu99  -c -g -O2  conftest.c >&5
configure:2792: $? = 0
configure:2805: result: none needed
configure:2830: checking how to run the C preprocessor
configure:2900: result: gcc -arch x86_64 -std=gnu99 -E
configure:2920: gcc -arch x86_64 -std=gnu99 -E  conftest.c
configure:2920: $? = 0
configure:2934: gcc -arch x86_64 -std=gnu99 -E  conftest.c
conftest.c:9:28: error: ac_nonexistent.h: No such file or directory
configure:2934: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME ""
| #define PACKAGE_TARNAME ""
| #define PACKAGE_VERSION ""
| #define PACKAGE_STRING ""
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:3010: checking for gcc
configure:3037: result: gcc -arch x86_64 -std=gnu99
configure:3266: checking for C compiler version
configure:3275: gcc -arch x86_64 -std=gnu99 --version >&5
i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
Copyright (C) 2007 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

configure:3286: $? = 0
configure:3275: gcc -arch x86_64 -std=gnu99 -v >&5
Using built-in specs.
Target: i686-apple-darwin11
Configured with: /private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/src/configure --disable-checking --enable-werror --prefix=/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1
Thread model: posix
gcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
configure:3286: $? = 0
configure:3275: gcc -arch x86_64 -std=gnu99 -V >&5
llvm-gcc-4.2: argument to `-V' is missing
configure:3286: $? = 1
configure:3275: gcc -arch x86_64 -std=gnu99 -qversion >&5
i686-apple-darwin11-llvm-gcc-4.2: no input files
configure:3286: $? = 1
configure:3290: checking whether we are using the GNU C compiler
configure:3318: result: yes
configure:3327: checking whether gcc -arch x86_64 -std=gnu99 accepts -g
configure:3388: result: yes
configure:3405: checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89
configure:3482: result: none needed
configure:3545: checking for libpng-config
configure:3561: found /opt/local/bin/libpng-config
configure:3573: result: yes
configure:3584: using libpng-config
configure:3588: using libpng dynamic linkage
configure:3955: checking for X
configure:4063: gcc -arch x86_64 -std=gnu99 -E  -DHAVE_PNG_H -I/opt/local/include/libpng14 conftest.c
configure:4063: $? = 0
configure:4094: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2  -DHAVE_PNG_H -I/opt/local/include/libpng14  conftest.c -lX11  -L/opt/local/lib -lpng14 >&5
configure:4094: $? = 0
configure:4144: result: libraries , headers 
configure:4229: checking for glEnd in -lGL
configure:4254: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/opt/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include  conftest.c -lGL  -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/opt/local/lib -lpng14 -lX11 >&5
ld: library not found for -lGL
collect2: ld returned 1 exit status
configure:4254: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME ""
| #define PACKAGE_TARNAME ""
| #define PACKAGE_VERSION ""
| #define PACKAGE_STRING ""
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| /* end confdefs.h.  */
| 
| /* Override any GCC internal prototype to avoid an error.
|    Use char because int might match the return type of a GCC
|    builtin and then its argument prototype would still apply.  */
| #ifdef __cplusplus
| extern "C"
| #endif
| char glEnd ();
| int
| main ()
| {
| return glEnd ();
|   ;
|   return 0;
| }
configure:4264: result: no
configure:4278: error: missing required library GL

## ---------------- ##
## Cache variables. ##
## ---------------- ##

ac_cv_c_compiler_gnu=yes
ac_cv_env_CC_set=
ac_cv_env_CC_value=
ac_cv_env_CFLAGS_set=
ac_cv_env_CFLAGS_value=
ac_cv_env_CPPFLAGS_set=
ac_cv_env_CPPFLAGS_value=
ac_cv_env_CPP_set=
ac_cv_env_CPP_value=
ac_cv_env_LDFLAGS_set=
ac_cv_env_LDFLAGS_value=
ac_cv_env_LIBS_set=
ac_cv_env_LIBS_value=
ac_cv_env_XMKMF_set=
ac_cv_env_XMKMF_value=
ac_cv_env_build_alias_set=
ac_cv_env_build_alias_value=
ac_cv_env_host_alias_set=
ac_cv_env_host_alias_value=
ac_cv_env_target_alias_set=
ac_cv_env_target_alias_value=
ac_cv_have_x='have_x=yes	ac_x_includes='\'''\''	ac_x_libraries='\'''\'''
ac_cv_lib_GL___glEnd=no
ac_cv_objext=o
ac_cv_prog_CPP='gcc -arch x86_64 -std=gnu99 -E'
ac_cv_prog_HAVE_LIBPNG_CONFIG=yes
ac_cv_prog_ac_ct_CC='gcc -arch x86_64 -std=gnu99'
ac_cv_prog_cc_c89=
ac_cv_prog_cc_g=yes

## ----------------- ##
## Output variables. ##
## ----------------- ##

AGLCPPFLAGS=''
AGLLIBS=''
BUILD_AGL_TRUE='#'
CC='gcc -arch x86_64 -std=gnu99'
CFLAGS='-g -O2'
CPP='gcc -arch x86_64 -std=gnu99 -E'
CPPFLAGS='-I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/opt/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include'
CXXFLAGS='-g -O2'
DEFS=''
ECHO_C='\c'
ECHO_N=''
ECHO_T=''
EGREP=''
EXEEXT=''
GREP=''
HAVE_FREETYPE_CONFIG=''
HAVE_LIBPNG_CONFIG='yes'
LDFLAGS=''
LIBOBJS=''
LIBS='-framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/opt/local/lib -lpng14 -lX11'
LTLIBOBJS=''
OBJEXT='o'
PACKAGE_BUGREPORT=''
PACKAGE_NAME=''
PACKAGE_STRING=''
PACKAGE_TARNAME=''
PACKAGE_URL=''
PACKAGE_VERSION=''
PATH_SEPARATOR=':'
SHELL='/bin/sh'
XMKMF=''
ac_ct_CC='gcc -arch x86_64 -std=gnu99'
bindir='${exec_prefix}/bin'
build_alias=''
datadir='${datarootdir}'
datarootdir='${prefix}/share'
docdir='${datarootdir}/doc/${PACKAGE}'
dvidir='${docdir}'
exec_prefix='NONE'
host_alias=''
htmldir='${docdir}'
includedir='${prefix}/include'
infodir='${datarootdir}/info'
libdir='${exec_prefix}/lib'
libexecdir='${exec_prefix}/libexec'
localedir='${datarootdir}/locale'
localstatedir='${prefix}/var'
mandir='${datarootdir}/man'
oldincludedir='/usr/include'
pdfdir='${docdir}'
prefix='NONE'
program_transform_name='s,x,x,'
psdir='${docdir}'
sbindir='${exec_prefix}/sbin'
sharedstatedir='${prefix}/com'
sysconfdir='${prefix}/etc'
target_alias=''

## ----------- ##
## confdefs.h. ##
## ----------- ##

/* confdefs.h */
#define PACKAGE_NAME ""
#define PACKAGE_TARNAME ""
#define PACKAGE_VERSION ""
#define PACKAGE_STRING ""
#define PACKAGE_BUGREPORT ""
#define PACKAGE_URL ""

configure: exit 1




> 
> 
>>> 
>>> 
>>> 
>>>>> 
>>>>>>> There is still an issue in the rgl 0.92.798 code (opengl.hpp), though, it's including AGL/* instead of OpenGL/* which fails (hence CC to Duncan), but that's at compilation stage, not configuration.
>>>>>>> 
>>>>>>> BTW: why don't you just use
>>>>>>> install.packages("rgl")
>>>>>>> that works on Lion as well...
>>>>>> 
>>>>>> I installed all packages from source since I installed R from source and I remember reading somewhere that one should do it this way since the binaries are built to work with CRAN's binary installation of R. But if this does not create problems (please let me know), I'll give it a try.
>>>>>> 
>>>>> 
>>>>> As long as your configuration is compatible (essentially you have to set r_arch properly) it works. It's not guaranteed to work if you use different compilers.
>>>> 
>>>> I tried:
>>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>>> 
>>> 
>>> Naw, you got wrong - I was talking about R configuration. Never mind then (you may want to read up on building R - see the R for Mac FAQ).
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>> 
>>>> but the outcome was:
>>>> 
>>>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>>> (as ?lib? is unspecified)
>>>> --- Please select a CRAN mirror for use in this session ---
>>>> Loading Tcl/Tk interface ... done
>>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>>> opened URL
>>>> ==================================================
>>>> downloaded 1.6 Mb
>>>> 
>>>> * installing *source* package ?rgl? ...
>>>> configure: error: unrecognized option: `--r_arch=x86_64'
>>>> Try `./configure --help' for more information.
>>>> ERROR: configuration failed for package ?rgl?
>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>> 
>>>> The downloaded packages are in
>>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpzmXkSd/downloaded_packages?
>>>> Warning message:
>>>> In install.packages("rgl", configure.args = "--r_arch=x86_64") :
>>>> installation of package 'rgl' had non-zero exit status
>>>>> 
>>>> 
>>>> How/Where should r_arch be specified?
>>>> 
>>>> Cheers,
>>>> 
>>>> Marius
>>>> 
>>>> 
>>>>> 
>>>>> 
>>>>>> I just remember something: I installed the 64bit R version. Is this a problem for rgl?
>>>>>> 
>>>>> 
>>>>> No.
>>>>> 
>>>>> Cheers,
>>>>> Simon
>>>>> 
>>>>> 
>>>>>> Cheers,
>>>>>> 
>>>>>> Marius
>>>>>> 
>>>>>> 
>>>>>>> 
>>>>>>> Cheers,
>>>>>>> Simon
>>>>>>> 
>>>>>>> 
>>>>>>> [PS: while at it - I'm a bit confused about the current setup, though, since it uses the (non-X11) OpenGL framework yet links X11;  Also it crashes when GLX is not supported (e.g. ssh tunneling). I remember that at some point in the past it was building native and X11 versions but what is left is some mix of both...]
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>>> Cheers,
>>>>>>>> 
>>>>>>>> Marius
>>>>>>>> _______________________________________________
>>>>>>>> R-SIG-Mac mailing list
>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>> 
>>>>>>>> 
>>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>> 
>>>> 
>>>> 
>>>> 
>>> 
>> 
>> 
>> 
> 


From simon.urbanek at r-project.org  Wed Oct 12 00:54:02 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 11 Oct 2011 18:54:02 -0400
Subject: [R-SIG-Mac] rgl on 10.7: has anyone tried it?
In-Reply-To: <040854C0-D8EF-4498-9558-7E5D005198D4@math.ethz.ch>
References: <3D7A8F7D-3070-411C-B495-7FC9323966F6@math.ethz.ch>
	<2C1156DA-EF1D-465E-97D3-6D7BED034235@r-project.org>
	<260575E9-D4DF-4B84-9FEB-0167DEB63311@math.ethz.ch>
	<85EA7578-1FA4-4434-BB91-6CEADA1EC633@r-project.org>
	<FA03479C-9CD8-47C7-9D3E-7D6919789267@math.ethz.ch>
	<EBFB29D6-F75B-4EC9-B752-60D3537FC858@r-project.org>
	<F063AF2A-0E69-497B-B427-C74E3BBF48FE@math.ethz.ch>
	<1B1F0DA7-6D98-4B49-8AEC-4491938B6146@r-project.org>
	<040854C0-D8EF-4498-9558-7E5D005198D4@math.ethz.ch>
Message-ID: <6CE4AD50-B5CA-428B-8C28-FBE78CF88686@r-project.org>

The issue seem in your setup - you should be using libraries from /usr/X11/lib (which is the default) but you are using stuff from /opt/local which is incomplete. Make sure your /opt/.. paths are *last* on your PATH, definitely after /usr/X11/bin.

Cheers,
Simon


On Oct 11, 2011, at 6:44 PM, Marius Hofert wrote:

> 
> On 2011-10-12, at 00:37 , Simon Urbanek wrote:
> 
>> 
>> On Oct 11, 2011, at 6:33 PM, Marius Hofert wrote:
>> 
>>> 
>>> On 2011-10-12, at 00:12 , Simon Urbanek wrote:
>>> 
>>>> 
>>>> On Oct 11, 2011, at 6:01 PM, Marius Hofert wrote:
>>>> 
>>>>> 
>>>>> On 2011-10-11, at 23:30 , Simon Urbanek wrote:
>>>>> 
>>>>>> 
>>>>>> On Oct 11, 2011, at 5:16 PM, Marius Hofert wrote:
>>>>>> 
>>>>>>> 
>>>>>>> On 2011-10-11, at 23:04 , Simon Urbanek wrote:
>>>>>>> 
>>>>>>>> 
>>>>>>>> On Oct 11, 2011, at 4:10 PM, Marius Hofert wrote:
>>>>>>>> 
>>>>>>>>> Dear all,
>>>>>>>>> 
>>>>>>>>> I tried to install the package rgl on 10.7. Here's the output:
>>>>>>>>> 
>>>>>>>>> ##############################################################################
>>>>>>>>> 
>>>>>>>>>> install.packages("rgl", type="source")
>>>>>>>>> install.packages("rgl", type="source")
>>>>>>>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>>>>>>>> (as ?lib? is unspecified)
>>>>>>>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>>>>>>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>>>>>>>> opened URL
>>>>>>>>> ==================================================
>>>>>>>>> downloaded 1.6 Mb
>>>>>>>>> 
>>>>>>>>> * installing *source* package ?rgl? ...
>>>>>>>>> checking for gcc... gcc -arch x86_64 -std=gnu99
>>>>>>>>> checking for C compiler default output file name... a.out
>>>>>>>>> checking whether the C compiler works... yes
>>>>>>>>> checking whether we are cross compiling... no
>>>>>>>>> checking for suffix of executables... 
>>>>>>>>> checking for suffix of object files... o
>>>>>>>>> checking whether we are using the GNU C compiler... yes
>>>>>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>>>>>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>>>>>>>>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>>>>>>>>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>>>>>>>>> checking whether we are using the GNU C compiler... (cached) yes
>>>>>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>>>>>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>>>>>>>>> checking for libpng-config... yes
>>>>>>>>> configure: using libpng-config
>>>>>>>>> configure: using libpng dynamic linkage
>>>>>>>>> checking for X... libraries , headers 
>>>>>>>>> checking for glEnd in -lGL... no
>>>>>>>>> configure: error: missing required library GL
>>>>>>>>> ERROR: configuration failed for package ?rgl?
>>>>>>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>>>>>>> 
>>>>>>>>> The downloaded packages are in
>>>>>>>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpQ6nuVK/downloaded_packages?
>>>>>>>>> Warning message:
>>>>>>>>> In install.packages("rgl", type = "source") :
>>>>>>>>> installation of package 'rgl' had non-zero exit status
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> ##############################################################################
>>>>>>>>> 
>>>>>>>>> Apparently, I'm missing the "GL" library. But how can I install it? I searched for it on the web and mainly found that the Mac should have Open GL already installed (?).
>>>>>>>>> 
>>>>>>>> 
>>>>>>>> Are you sure you installed X11 and Xcode4?
>>>>>>> 
>>>>>>> yes, both are installed.
>>>>>>> 
>>>>>>>> I have no problem with the *configuration* on vanilla Lion.
>>>>>>> 
>>>>>>> I installed about 30 packages today, everything worked fine. Hmmm... seems challenging to detect where the problem is.
>>>>>>> 
>>>>>> 
>>>>>> If you want to do that, have a look at rgl/config.log - it will tell you what went wrong.
>>>>>> 
>>>>> 
>>>>> Hi Simon,
>>>>> 
>>>>> do you know the full path of this file? I can't find it.0
>>>>> 
>>>> 
>>>> It's in the rgl directory after you run R CMD INSTALL rgl
>>> 
>>> that's removed after the configure-trial:
>>> 
>>> bash-3.2$ R CMD INSTALL rgl_0.92.798.tar.gz 
>>> * installing to library ?/Library/Frameworks/R.framework/library?
>>> * installing *source* package ?rgl? ...
>>> checking for gcc... gcc -arch x86_64 -std=gnu99
>>> checking for C compiler default output file name... a.out
>>> checking whether the C compiler works... yes
>>> checking whether we are cross compiling... no
>>> checking for suffix of executables... 
>>> checking for suffix of object files... o
>>> checking whether we are using the GNU C compiler... yes
>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>>> checking whether we are using the GNU C compiler... (cached) yes
>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>>> checking for libpng-config... yes
>>> configure: using libpng-config
>>> configure: using libpng dynamic linkage
>>> checking for X... libraries , headers 
>>> checking for glEnd in -lGL... no
>>> configure: error: missing required library GL
>>> ERROR: configuration failed for package ?rgl?
>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>> bash-3.2$ 
>>> 
>>> => there is no rgl folder (neither in /Library/Frameworks/R.framework/library nor in the folder in which the .tar.gz resides). 
>>> 
>> 
>> As I said use R CMD INSTALL rgl, not on the tar ball
>> S
> 
> Ahh, okay, now I get it :-)
> Here's the config.log:
> 
> This file contains any messages produced by compilers while
> running configure, to aid debugging if configure makes a mistake.
> 
> It was created by configure, which was
> generated by GNU Autoconf 2.64.  Invocation command line was
> 
>  $ ./configure 
> 
> ## --------- ##
> ## Platform. ##
> ## --------- ##
> 
> hostname = 80-218-246-245.dclient.hispeed.ch
> uname -m = x86_64
> uname -r = 11.0.1
> uname -s = Darwin
> uname -v = Darwin Kernel Version 11.0.1: Thu Jul 28 02:01:39 PDT 2011; root:xnu-1699.23.4~1/RELEASE_X86_64
> 
> /usr/bin/uname -p = i386
> /bin/uname -X     = unknown
> 
> /bin/arch              = unknown
> /usr/bin/arch -k       = unknown
> /usr/convex/getsysinfo = unknown
> /usr/bin/hostinfo      = Mach kernel version:
> 	 Darwin Kernel Version 11.0.1: Thu Jul 28 02:01:39 PDT 2011; root:xnu-1699.23.4~1/RELEASE_X86_64
> Kernel configured for up to 4 processors.
> 2 processors are physically available.
> 4 processors are logically available.
> Processor type: i486 (Intel 80486)
> Processors active: 0 1 2 3
> Primary memory available: 4.00 gigabytes
> Default processor set: 107 tasks, 499 threads, 4 processors
> Load average: 0.91, Mach factor: 3.08
> /bin/machine           = unknown
> /usr/bin/oslevel       = unknown
> /bin/universe          = unknown
> 
> PATH: /opt/local/bin
> PATH: /opt/local/sbin
> PATH: /usr/bin
> PATH: /bin
> PATH: /usr/sbin
> PATH: /sbin
> PATH: /usr/local/bin
> PATH: /usr/X11/bin
> PATH: /usr/texbin
> 
> 
> ## ----------- ##
> ## Core tests. ##
> ## ----------- ##
> 
> configure:2106: checking for gcc
> configure:2133: result: gcc -arch x86_64 -std=gnu99
> configure:2362: checking for C compiler version
> configure:2371: gcc -arch x86_64 -std=gnu99 --version >&5
> i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
> Copyright (C) 2007 Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.  There is NO
> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
> 
> configure:2382: $? = 0
> configure:2371: gcc -arch x86_64 -std=gnu99 -v >&5
> Using built-in specs.
> Target: i686-apple-darwin11
> Configured with: /private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/src/configure --disable-checking --enable-werror --prefix=/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1
> Thread model: posix
> gcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
> configure:2382: $? = 0
> configure:2371: gcc -arch x86_64 -std=gnu99 -V >&5
> llvm-gcc-4.2: argument to `-V' is missing
> configure:2382: $? = 1
> configure:2371: gcc -arch x86_64 -std=gnu99 -qversion >&5
> i686-apple-darwin11-llvm-gcc-4.2: no input files
> configure:2382: $? = 1
> configure:2404: checking for C compiler default output file name
> configure:2426: gcc -arch x86_64 -std=gnu99 -g -O2   conftest.c  >&5
> configure:2430: $? = 0
> configure:2467: result: a.out
> configure:2483: checking whether the C compiler works
> configure:2492: ./a.out
> configure:2496: $? = 0
> configure:2511: result: yes
> configure:2518: checking whether we are cross compiling
> configure:2520: result: no
> configure:2523: checking for suffix of executables
> configure:2530: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2   conftest.c  >&5
> configure:2534: $? = 0
> configure:2556: result: 
> configure:2562: checking for suffix of object files
> configure:2584: gcc -arch x86_64 -std=gnu99 -c -g -O2  conftest.c >&5
> configure:2588: $? = 0
> configure:2609: result: o
> configure:2613: checking whether we are using the GNU C compiler
> configure:2632: gcc -arch x86_64 -std=gnu99 -c -g -O2  conftest.c >&5
> configure:2632: $? = 0
> configure:2641: result: yes
> configure:2650: checking whether gcc -arch x86_64 -std=gnu99 accepts -g
> configure:2670: gcc -arch x86_64 -std=gnu99 -c -g  conftest.c >&5
> configure:2670: $? = 0
> configure:2711: result: yes
> configure:2728: checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89
> configure:2792: gcc -arch x86_64 -std=gnu99  -c -g -O2  conftest.c >&5
> configure:2792: $? = 0
> configure:2805: result: none needed
> configure:2830: checking how to run the C preprocessor
> configure:2900: result: gcc -arch x86_64 -std=gnu99 -E
> configure:2920: gcc -arch x86_64 -std=gnu99 -E  conftest.c
> configure:2920: $? = 0
> configure:2934: gcc -arch x86_64 -std=gnu99 -E  conftest.c
> conftest.c:9:28: error: ac_nonexistent.h: No such file or directory
> configure:2934: $? = 1
> configure: failed program was:
> | /* confdefs.h */
> | #define PACKAGE_NAME ""
> | #define PACKAGE_TARNAME ""
> | #define PACKAGE_VERSION ""
> | #define PACKAGE_STRING ""
> | #define PACKAGE_BUGREPORT ""
> | #define PACKAGE_URL ""
> | /* end confdefs.h.  */
> | #include <ac_nonexistent.h>
> configure:3010: checking for gcc
> configure:3037: result: gcc -arch x86_64 -std=gnu99
> configure:3266: checking for C compiler version
> configure:3275: gcc -arch x86_64 -std=gnu99 --version >&5
> i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
> Copyright (C) 2007 Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.  There is NO
> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
> 
> configure:3286: $? = 0
> configure:3275: gcc -arch x86_64 -std=gnu99 -v >&5
> Using built-in specs.
> Target: i686-apple-darwin11
> Configured with: /private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/src/configure --disable-checking --enable-werror --prefix=/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1
> Thread model: posix
> gcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
> configure:3286: $? = 0
> configure:3275: gcc -arch x86_64 -std=gnu99 -V >&5
> llvm-gcc-4.2: argument to `-V' is missing
> configure:3286: $? = 1
> configure:3275: gcc -arch x86_64 -std=gnu99 -qversion >&5
> i686-apple-darwin11-llvm-gcc-4.2: no input files
> configure:3286: $? = 1
> configure:3290: checking whether we are using the GNU C compiler
> configure:3318: result: yes
> configure:3327: checking whether gcc -arch x86_64 -std=gnu99 accepts -g
> configure:3388: result: yes
> configure:3405: checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89
> configure:3482: result: none needed
> configure:3545: checking for libpng-config
> configure:3561: found /opt/local/bin/libpng-config
> configure:3573: result: yes
> configure:3584: using libpng-config
> configure:3588: using libpng dynamic linkage
> configure:3955: checking for X
> configure:4063: gcc -arch x86_64 -std=gnu99 -E  -DHAVE_PNG_H -I/opt/local/include/libpng14 conftest.c
> configure:4063: $? = 0
> configure:4094: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2  -DHAVE_PNG_H -I/opt/local/include/libpng14  conftest.c -lX11  -L/opt/local/lib -lpng14 >&5
> configure:4094: $? = 0
> configure:4144: result: libraries , headers 
> configure:4229: checking for glEnd in -lGL
> configure:4254: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/opt/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include  conftest.c -lGL  -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/opt/local/lib -lpng14 -lX11 >&5
> ld: library not found for -lGL
> collect2: ld returned 1 exit status
> configure:4254: $? = 1
> configure: failed program was:
> | /* confdefs.h */
> | #define PACKAGE_NAME ""
> | #define PACKAGE_TARNAME ""
> | #define PACKAGE_VERSION ""
> | #define PACKAGE_STRING ""
> | #define PACKAGE_BUGREPORT ""
> | #define PACKAGE_URL ""
> | /* end confdefs.h.  */
> | 
> | /* Override any GCC internal prototype to avoid an error.
> |    Use char because int might match the return type of a GCC
> |    builtin and then its argument prototype would still apply.  */
> | #ifdef __cplusplus
> | extern "C"
> | #endif
> | char glEnd ();
> | int
> | main ()
> | {
> | return glEnd ();
> |   ;
> |   return 0;
> | }
> configure:4264: result: no
> configure:4278: error: missing required library GL
> 
> ## ---------------- ##
> ## Cache variables. ##
> ## ---------------- ##
> 
> ac_cv_c_compiler_gnu=yes
> ac_cv_env_CC_set=
> ac_cv_env_CC_value=
> ac_cv_env_CFLAGS_set=
> ac_cv_env_CFLAGS_value=
> ac_cv_env_CPPFLAGS_set=
> ac_cv_env_CPPFLAGS_value=
> ac_cv_env_CPP_set=
> ac_cv_env_CPP_value=
> ac_cv_env_LDFLAGS_set=
> ac_cv_env_LDFLAGS_value=
> ac_cv_env_LIBS_set=
> ac_cv_env_LIBS_value=
> ac_cv_env_XMKMF_set=
> ac_cv_env_XMKMF_value=
> ac_cv_env_build_alias_set=
> ac_cv_env_build_alias_value=
> ac_cv_env_host_alias_set=
> ac_cv_env_host_alias_value=
> ac_cv_env_target_alias_set=
> ac_cv_env_target_alias_value=
> ac_cv_have_x='have_x=yes	ac_x_includes='\'''\''	ac_x_libraries='\'''\'''
> ac_cv_lib_GL___glEnd=no
> ac_cv_objext=o
> ac_cv_prog_CPP='gcc -arch x86_64 -std=gnu99 -E'
> ac_cv_prog_HAVE_LIBPNG_CONFIG=yes
> ac_cv_prog_ac_ct_CC='gcc -arch x86_64 -std=gnu99'
> ac_cv_prog_cc_c89=
> ac_cv_prog_cc_g=yes
> 
> ## ----------------- ##
> ## Output variables. ##
> ## ----------------- ##
> 
> AGLCPPFLAGS=''
> AGLLIBS=''
> BUILD_AGL_TRUE='#'
> CC='gcc -arch x86_64 -std=gnu99'
> CFLAGS='-g -O2'
> CPP='gcc -arch x86_64 -std=gnu99 -E'
> CPPFLAGS='-I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/opt/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include'
> CXXFLAGS='-g -O2'
> DEFS=''
> ECHO_C='\c'
> ECHO_N=''
> ECHO_T=''
> EGREP=''
> EXEEXT=''
> GREP=''
> HAVE_FREETYPE_CONFIG=''
> HAVE_LIBPNG_CONFIG='yes'
> LDFLAGS=''
> LIBOBJS=''
> LIBS='-framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/opt/local/lib -lpng14 -lX11'
> LTLIBOBJS=''
> OBJEXT='o'
> PACKAGE_BUGREPORT=''
> PACKAGE_NAME=''
> PACKAGE_STRING=''
> PACKAGE_TARNAME=''
> PACKAGE_URL=''
> PACKAGE_VERSION=''
> PATH_SEPARATOR=':'
> SHELL='/bin/sh'
> XMKMF=''
> ac_ct_CC='gcc -arch x86_64 -std=gnu99'
> bindir='${exec_prefix}/bin'
> build_alias=''
> datadir='${datarootdir}'
> datarootdir='${prefix}/share'
> docdir='${datarootdir}/doc/${PACKAGE}'
> dvidir='${docdir}'
> exec_prefix='NONE'
> host_alias=''
> htmldir='${docdir}'
> includedir='${prefix}/include'
> infodir='${datarootdir}/info'
> libdir='${exec_prefix}/lib'
> libexecdir='${exec_prefix}/libexec'
> localedir='${datarootdir}/locale'
> localstatedir='${prefix}/var'
> mandir='${datarootdir}/man'
> oldincludedir='/usr/include'
> pdfdir='${docdir}'
> prefix='NONE'
> program_transform_name='s,x,x,'
> psdir='${docdir}'
> sbindir='${exec_prefix}/sbin'
> sharedstatedir='${prefix}/com'
> sysconfdir='${prefix}/etc'
> target_alias=''
> 
> ## ----------- ##
> ## confdefs.h. ##
> ## ----------- ##
> 
> /* confdefs.h */
> #define PACKAGE_NAME ""
> #define PACKAGE_TARNAME ""
> #define PACKAGE_VERSION ""
> #define PACKAGE_STRING ""
> #define PACKAGE_BUGREPORT ""
> #define PACKAGE_URL ""
> 
> configure: exit 1
> 
> 
> 
> 
>> 
>> 
>>>> 
>>>> 
>>>> 
>>>>>> 
>>>>>>>> There is still an issue in the rgl 0.92.798 code (opengl.hpp), though, it's including AGL/* instead of OpenGL/* which fails (hence CC to Duncan), but that's at compilation stage, not configuration.
>>>>>>>> 
>>>>>>>> BTW: why don't you just use
>>>>>>>> install.packages("rgl")
>>>>>>>> that works on Lion as well...
>>>>>>> 
>>>>>>> I installed all packages from source since I installed R from source and I remember reading somewhere that one should do it this way since the binaries are built to work with CRAN's binary installation of R. But if this does not create problems (please let me know), I'll give it a try.
>>>>>>> 
>>>>>> 
>>>>>> As long as your configuration is compatible (essentially you have to set r_arch properly) it works. It's not guaranteed to work if you use different compilers.
>>>>> 
>>>>> I tried:
>>>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>>>> 
>>>> 
>>>> Naw, you got wrong - I was talking about R configuration. Never mind then (you may want to read up on building R - see the R for Mac FAQ).
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>> 
>>>>> but the outcome was:
>>>>> 
>>>>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>>>> (as ?lib? is unspecified)
>>>>> --- Please select a CRAN mirror for use in this session ---
>>>>> Loading Tcl/Tk interface ... done
>>>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>>>> opened URL
>>>>> ==================================================
>>>>> downloaded 1.6 Mb
>>>>> 
>>>>> * installing *source* package ?rgl? ...
>>>>> configure: error: unrecognized option: `--r_arch=x86_64'
>>>>> Try `./configure --help' for more information.
>>>>> ERROR: configuration failed for package ?rgl?
>>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>>> 
>>>>> The downloaded packages are in
>>>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpzmXkSd/downloaded_packages?
>>>>> Warning message:
>>>>> In install.packages("rgl", configure.args = "--r_arch=x86_64") :
>>>>> installation of package 'rgl' had non-zero exit status
>>>>>> 
>>>>> 
>>>>> How/Where should r_arch be specified?
>>>>> 
>>>>> Cheers,
>>>>> 
>>>>> Marius
>>>>> 
>>>>> 
>>>>>> 
>>>>>> 
>>>>>>> I just remember something: I installed the 64bit R version. Is this a problem for rgl?
>>>>>>> 
>>>>>> 
>>>>>> No.
>>>>>> 
>>>>>> Cheers,
>>>>>> Simon
>>>>>> 
>>>>>> 
>>>>>>> Cheers,
>>>>>>> 
>>>>>>> Marius
>>>>>>> 
>>>>>>> 
>>>>>>>> 
>>>>>>>> Cheers,
>>>>>>>> Simon
>>>>>>>> 
>>>>>>>> 
>>>>>>>> [PS: while at it - I'm a bit confused about the current setup, though, since it uses the (non-X11) OpenGL framework yet links X11;  Also it crashes when GLX is not supported (e.g. ssh tunneling). I remember that at some point in the past it was building native and X11 versions but what is left is some mix of both...]
>>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>>>> Cheers,
>>>>>>>>> 
>>>>>>>>> Marius
>>>>>>>>> _______________________________________________
>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>> 
>>> 
>>> 
>>> 
>> 
> 
> 


From marius.hofert at math.ethz.ch  Wed Oct 12 15:17:35 2011
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Wed, 12 Oct 2011 15:17:35 +0200
Subject: [R-SIG-Mac] rgl on 10.7: has anyone tried it?
In-Reply-To: <6CE4AD50-B5CA-428B-8C28-FBE78CF88686@r-project.org>
References: <3D7A8F7D-3070-411C-B495-7FC9323966F6@math.ethz.ch>
	<2C1156DA-EF1D-465E-97D3-6D7BED034235@r-project.org>
	<260575E9-D4DF-4B84-9FEB-0167DEB63311@math.ethz.ch>
	<85EA7578-1FA4-4434-BB91-6CEADA1EC633@r-project.org>
	<FA03479C-9CD8-47C7-9D3E-7D6919789267@math.ethz.ch>
	<EBFB29D6-F75B-4EC9-B752-60D3537FC858@r-project.org>
	<F063AF2A-0E69-497B-B427-C74E3BBF48FE@math.ethz.ch>
	<1B1F0DA7-6D98-4B49-8AEC-4491938B6146@r-project.org>
	<040854C0-D8EF-4498-9558-7E5D005198D4@math.ethz.ch>
	<6CE4AD50-B5CA-428B-8C28-FBE78CF88686@r-project.org>
Message-ID: <A95AB3C6-91B6-4E0B-B6CF-77D0A80A87A5@math.ethz.ch>

Dear Simon,

thanks a lot for helping. Here is what I could figure out:
(1) the installation of macports created the following line in .profile:
export PATH=/opt/local/bin:/opt/local/sbin:$PATH
(2) I'm sure I had other stuff in .profile -- apparently they got overwritten by macports (seems nasty)
(3) (1) caused the opt-paths to appear in PATH
(4) I changed it to 
export PATH=$PATH:/opt/local/bin:/opt/local/sbin
(5) then I executed:
R CMD INSTALL rgl

This gave:

localhost:Downloads mhofert$ R CMD INSTALL rgl
* installing to library ?/Library/Frameworks/R.framework/library?
* installing *source* package ?rgl? ...
checking for gcc... gcc -arch x86_64 -std=gnu99
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables... 
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
checking whether we are using the GNU C compiler... (cached) yes
checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
checking for libpng-config... yes
configure: using libpng-config
configure: using libpng dynamic linkage
checking for X... libraries , headers 
checking for glEnd in -lGL... yes
checking for gluProject in -lGLU... yes
checking for freetype-config... yes
configure: using Freetype and FTGL
configure: creating ./config.status
config.status: creating src/Makevars
** libs
*** arch - x86_64
g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c BBoxDeco.cpp -o BBoxDeco.o
In file included from RenderContext.hpp:9,
                 from BBoxDeco.hpp:14,
                 from BBoxDeco.cpp:1:
opengl.hpp:11:20: error: AGL/gl.h: No such file or directory
opengl.hpp:12:21: error: AGL/glu.h: No such file or directory
make: *** [BBoxDeco.o] Error 1
ERROR: compilation failed for package ?rgl?
* removing ?/Library/Frameworks/R.framework/library/rgl?
localhost:Downloads mhofert$ 

Do you know how to continue?

Cheers,

Marius

Here the config.log:

This file contains any messages produced by compilers while
running configure, to aid debugging if configure makes a mistake.

It was created by configure, which was
generated by GNU Autoconf 2.64.  Invocation command line was

  $ ./configure 

## --------- ##
## Platform. ##
## --------- ##

hostname = localhost
uname -m = x86_64
uname -r = 11.0.1
uname -s = Darwin
uname -v = Darwin Kernel Version 11.0.1: Thu Jul 28 02:01:39 PDT 2011; root:xnu-1699.23.4~1/RELEASE_X86_64

/usr/bin/uname -p = i386
/bin/uname -X     = unknown

/bin/arch              = unknown
/usr/bin/arch -k       = unknown
/usr/convex/getsysinfo = unknown
/usr/bin/hostinfo      = Mach kernel version:
	 Darwin Kernel Version 11.0.1: Thu Jul 28 02:01:39 PDT 2011; root:xnu-1699.23.4~1/RELEASE_X86_64
Kernel configured for up to 4 processors.
2 processors are physically available.
4 processors are logically available.
Processor type: i486 (Intel 80486)
Processors active: 0 1 2 3
Primary memory available: 4.00 gigabytes
Default processor set: 85 tasks, 363 threads, 4 processors
Load average: 0.66, Mach factor: 3.32
/bin/machine           = unknown
/usr/bin/oslevel       = unknown
/bin/universe          = unknown

PATH: /usr/bin
PATH: /bin
PATH: /usr/sbin
PATH: /sbin
PATH: /usr/local/bin
PATH: /usr/X11/bin
PATH: /usr/texbin
PATH: /opt/local/bin
PATH: /opt/local/sbin


## ----------- ##
## Core tests. ##
## ----------- ##

configure:2106: checking for gcc
configure:2133: result: gcc -arch x86_64 -std=gnu99
configure:2362: checking for C compiler version
configure:2371: gcc -arch x86_64 -std=gnu99 --version >&5
i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
Copyright (C) 2007 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

configure:2382: $? = 0
configure:2371: gcc -arch x86_64 -std=gnu99 -v >&5
Using built-in specs.
Target: i686-apple-darwin11
Configured with: /private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/src/configure --disable-checking --enable-werror --prefix=/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1
Thread model: posix
gcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
configure:2382: $? = 0
configure:2371: gcc -arch x86_64 -std=gnu99 -V >&5
llvm-gcc-4.2: argument to `-V' is missing
configure:2382: $? = 1
configure:2371: gcc -arch x86_64 -std=gnu99 -qversion >&5
i686-apple-darwin11-llvm-gcc-4.2: no input files
configure:2382: $? = 1
configure:2404: checking for C compiler default output file name
configure:2426: gcc -arch x86_64 -std=gnu99 -g -O2   conftest.c  >&5
configure:2430: $? = 0
configure:2467: result: a.out
configure:2483: checking whether the C compiler works
configure:2492: ./a.out
configure:2496: $? = 0
configure:2511: result: yes
configure:2518: checking whether we are cross compiling
configure:2520: result: no
configure:2523: checking for suffix of executables
configure:2530: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2   conftest.c  >&5
configure:2534: $? = 0
configure:2556: result: 
configure:2562: checking for suffix of object files
configure:2584: gcc -arch x86_64 -std=gnu99 -c -g -O2  conftest.c >&5
configure:2588: $? = 0
configure:2609: result: o
configure:2613: checking whether we are using the GNU C compiler
configure:2632: gcc -arch x86_64 -std=gnu99 -c -g -O2  conftest.c >&5
configure:2632: $? = 0
configure:2641: result: yes
configure:2650: checking whether gcc -arch x86_64 -std=gnu99 accepts -g
configure:2670: gcc -arch x86_64 -std=gnu99 -c -g  conftest.c >&5
configure:2670: $? = 0
configure:2711: result: yes
configure:2728: checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89
configure:2792: gcc -arch x86_64 -std=gnu99  -c -g -O2  conftest.c >&5
configure:2792: $? = 0
configure:2805: result: none needed
configure:2830: checking how to run the C preprocessor
configure:2900: result: gcc -arch x86_64 -std=gnu99 -E
configure:2920: gcc -arch x86_64 -std=gnu99 -E  conftest.c
configure:2920: $? = 0
configure:2934: gcc -arch x86_64 -std=gnu99 -E  conftest.c
conftest.c:9:28: error: ac_nonexistent.h: No such file or directory
configure:2934: $? = 1
configure: failed program was:
| /* confdefs.h */
| #define PACKAGE_NAME ""
| #define PACKAGE_TARNAME ""
| #define PACKAGE_VERSION ""
| #define PACKAGE_STRING ""
| #define PACKAGE_BUGREPORT ""
| #define PACKAGE_URL ""
| /* end confdefs.h.  */
| #include <ac_nonexistent.h>
configure:3010: checking for gcc
configure:3037: result: gcc -arch x86_64 -std=gnu99
configure:3266: checking for C compiler version
configure:3275: gcc -arch x86_64 -std=gnu99 --version >&5
i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
Copyright (C) 2007 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

configure:3286: $? = 0
configure:3275: gcc -arch x86_64 -std=gnu99 -v >&5
Using built-in specs.
Target: i686-apple-darwin11
Configured with: /private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/src/configure --disable-checking --enable-werror --prefix=/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1
Thread model: posix
gcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
configure:3286: $? = 0
configure:3275: gcc -arch x86_64 -std=gnu99 -V >&5
llvm-gcc-4.2: argument to `-V' is missing
configure:3286: $? = 1
configure:3275: gcc -arch x86_64 -std=gnu99 -qversion >&5
i686-apple-darwin11-llvm-gcc-4.2: no input files
configure:3286: $? = 1
configure:3290: checking whether we are using the GNU C compiler
configure:3318: result: yes
configure:3327: checking whether gcc -arch x86_64 -std=gnu99 accepts -g
configure:3388: result: yes
configure:3405: checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89
configure:3482: result: none needed
configure:3545: checking for libpng-config
configure:3561: found /usr/X11/bin/libpng-config
configure:3573: result: yes
configure:3584: using libpng-config
configure:3588: using libpng dynamic linkage
configure:3955: checking for X
configure:4063: gcc -arch x86_64 -std=gnu99 -E  -DHAVE_PNG_H -I/usr/X11/include/libpng15 conftest.c
configure:4063: $? = 0
configure:4094: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2  -DHAVE_PNG_H -I/usr/X11/include/libpng15  conftest.c -lX11  -L/usr/X11/lib -lpng15 >&5
configure:4094: $? = 0
configure:4144: result: libraries , headers 
configure:4229: checking for glEnd in -lGL
configure:4254: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include  conftest.c -lGL  -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/usr/X11/lib -lpng15 -lX11 >&5
configure:4254: $? = 0
configure:4264: result: yes
configure:4291: checking for gluProject in -lGLU
configure:4316: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include  conftest.c -lGLU  -lGL -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/usr/X11/lib -lpng15 -lX11 >&5
configure:4316: $? = 0
configure:4326: result: yes
configure:4357: checking for freetype-config
configure:4373: found /usr/X11/bin/freetype-config
configure:4385: result: yes
configure:4398: using Freetype and FTGL
configure:4555: creating ./config.status

## ---------------------- ##
## Running config.status. ##
## ---------------------- ##

This file was extended by config.status, which was
generated by GNU Autoconf 2.64.  Invocation command line was

  CONFIG_FILES    = 
  CONFIG_HEADERS  = 
  CONFIG_LINKS    = 
  CONFIG_COMMANDS = 
  $ ./config.status 

on localhost

config.status:730: creating src/Makevars

## ---------------- ##
## Cache variables. ##
## ---------------- ##

ac_cv_c_compiler_gnu=yes
ac_cv_env_CC_set=
ac_cv_env_CC_value=
ac_cv_env_CFLAGS_set=
ac_cv_env_CFLAGS_value=
ac_cv_env_CPPFLAGS_set=
ac_cv_env_CPPFLAGS_value=
ac_cv_env_CPP_set=
ac_cv_env_CPP_value=
ac_cv_env_LDFLAGS_set=
ac_cv_env_LDFLAGS_value=
ac_cv_env_LIBS_set=
ac_cv_env_LIBS_value=
ac_cv_env_XMKMF_set=
ac_cv_env_XMKMF_value=
ac_cv_env_build_alias_set=
ac_cv_env_build_alias_value=
ac_cv_env_host_alias_set=
ac_cv_env_host_alias_value=
ac_cv_env_target_alias_set=
ac_cv_env_target_alias_value=
ac_cv_have_x='have_x=yes	ac_x_includes='\'''\''	ac_x_libraries='\'''\'''
ac_cv_lib_GLU___gluProject=yes
ac_cv_lib_GL___glEnd=yes
ac_cv_objext=o
ac_cv_prog_CPP='gcc -arch x86_64 -std=gnu99 -E'
ac_cv_prog_HAVE_FREETYPE_CONFIG=yes
ac_cv_prog_HAVE_LIBPNG_CONFIG=yes
ac_cv_prog_ac_ct_CC='gcc -arch x86_64 -std=gnu99'
ac_cv_prog_cc_c89=
ac_cv_prog_cc_g=yes

## ----------------- ##
## Output variables. ##
## ----------------- ##

AGLCPPFLAGS=' -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include'
AGLLIBS=' -L/usr/X11/lib -lfreetype -lz'
BUILD_AGL_TRUE='#'
CC='gcc -arch x86_64 -std=gnu99'
CFLAGS='-g -O2'
CPP='gcc -arch x86_64 -std=gnu99 -E'
CPPFLAGS='-I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include'
CXXFLAGS='-g -O2'
DEFS='-DPACKAGE_NAME=\"\" -DPACKAGE_TARNAME=\"\" -DPACKAGE_VERSION=\"\" -DPACKAGE_STRING=\"\" -DPACKAGE_BUGREPORT=\"\" -DPACKAGE_URL=\"\" -DHAVE_LIBGL=1 -DHAVE_LIBGLU=1'
ECHO_C='\c'
ECHO_N=''
ECHO_T=''
EGREP=''
EXEEXT=''
GREP=''
HAVE_FREETYPE_CONFIG='yes'
HAVE_LIBPNG_CONFIG='yes'
LDFLAGS=''
LIBOBJS=''
LIBS='-lGLU -lGL -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/usr/X11/lib -lpng15 -lX11 -L/usr/X11/lib -lfreetype -lz'
LTLIBOBJS=''
OBJEXT='o'
PACKAGE_BUGREPORT=''
PACKAGE_NAME=''
PACKAGE_STRING=''
PACKAGE_TARNAME=''
PACKAGE_URL=''
PACKAGE_VERSION=''
PATH_SEPARATOR=':'
SHELL='/bin/sh'
XMKMF=''
ac_ct_CC='gcc -arch x86_64 -std=gnu99'
bindir='${exec_prefix}/bin'
build_alias=''
datadir='${datarootdir}'
datarootdir='${prefix}/share'
docdir='${datarootdir}/doc/${PACKAGE}'
dvidir='${docdir}'
exec_prefix='${prefix}'
host_alias=''
htmldir='${docdir}'
includedir='${prefix}/include'
infodir='${datarootdir}/info'
libdir='${exec_prefix}/lib'
libexecdir='${exec_prefix}/libexec'
localedir='${datarootdir}/locale'
localstatedir='${prefix}/var'
mandir='${datarootdir}/man'
oldincludedir='/usr/include'
pdfdir='${docdir}'
prefix='/usr/local'
program_transform_name='s,x,x,'
psdir='${docdir}'
sbindir='${exec_prefix}/sbin'
sharedstatedir='${prefix}/com'
sysconfdir='${prefix}/etc'
target_alias=''

## ----------- ##
## confdefs.h. ##
## ----------- ##

/* confdefs.h */
#define PACKAGE_NAME ""
#define PACKAGE_TARNAME ""
#define PACKAGE_VERSION ""
#define PACKAGE_STRING ""
#define PACKAGE_BUGREPORT ""
#define PACKAGE_URL ""
#define HAVE_LIBGL 1
#define HAVE_LIBGLU 1

configure: exit 0
 


On 2011-10-12, at 00:54 , Simon Urbanek wrote:

> The issue seem in your setup - you should be using libraries from /usr/X11/lib (which is the default) but you are using stuff from /opt/local which is incomplete. Make sure your /opt/.. paths are *last* on your PATH, definitely after /usr/X11/bin.
> 
> Cheers,
> Simon
> 
> 
> On Oct 11, 2011, at 6:44 PM, Marius Hofert wrote:
> 
>> 
>> On 2011-10-12, at 00:37 , Simon Urbanek wrote:
>> 
>>> 
>>> On Oct 11, 2011, at 6:33 PM, Marius Hofert wrote:
>>> 
>>>> 
>>>> On 2011-10-12, at 00:12 , Simon Urbanek wrote:
>>>> 
>>>>> 
>>>>> On Oct 11, 2011, at 6:01 PM, Marius Hofert wrote:
>>>>> 
>>>>>> 
>>>>>> On 2011-10-11, at 23:30 , Simon Urbanek wrote:
>>>>>> 
>>>>>>> 
>>>>>>> On Oct 11, 2011, at 5:16 PM, Marius Hofert wrote:
>>>>>>> 
>>>>>>>> 
>>>>>>>> On 2011-10-11, at 23:04 , Simon Urbanek wrote:
>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> On Oct 11, 2011, at 4:10 PM, Marius Hofert wrote:
>>>>>>>>> 
>>>>>>>>>> Dear all,
>>>>>>>>>> 
>>>>>>>>>> I tried to install the package rgl on 10.7. Here's the output:
>>>>>>>>>> 
>>>>>>>>>> ##############################################################################
>>>>>>>>>> 
>>>>>>>>>>> install.packages("rgl", type="source")
>>>>>>>>>> install.packages("rgl", type="source")
>>>>>>>>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>>>>>>>>> (as ?lib? is unspecified)
>>>>>>>>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>>>>>>>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>>>>>>>>> opened URL
>>>>>>>>>> ==================================================
>>>>>>>>>> downloaded 1.6 Mb
>>>>>>>>>> 
>>>>>>>>>> * installing *source* package ?rgl? ...
>>>>>>>>>> checking for gcc... gcc -arch x86_64 -std=gnu99
>>>>>>>>>> checking for C compiler default output file name... a.out
>>>>>>>>>> checking whether the C compiler works... yes
>>>>>>>>>> checking whether we are cross compiling... no
>>>>>>>>>> checking for suffix of executables... 
>>>>>>>>>> checking for suffix of object files... o
>>>>>>>>>> checking whether we are using the GNU C compiler... yes
>>>>>>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>>>>>>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>>>>>>>>>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>>>>>>>>>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>>>>>>>>>> checking whether we are using the GNU C compiler... (cached) yes
>>>>>>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>>>>>>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>>>>>>>>>> checking for libpng-config... yes
>>>>>>>>>> configure: using libpng-config
>>>>>>>>>> configure: using libpng dynamic linkage
>>>>>>>>>> checking for X... libraries , headers 
>>>>>>>>>> checking for glEnd in -lGL... no
>>>>>>>>>> configure: error: missing required library GL
>>>>>>>>>> ERROR: configuration failed for package ?rgl?
>>>>>>>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>>>>>>>> 
>>>>>>>>>> The downloaded packages are in
>>>>>>>>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpQ6nuVK/downloaded_packages?
>>>>>>>>>> Warning message:
>>>>>>>>>> In install.packages("rgl", type = "source") :
>>>>>>>>>> installation of package 'rgl' had non-zero exit status
>>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> ##############################################################################
>>>>>>>>>> 
>>>>>>>>>> Apparently, I'm missing the "GL" library. But how can I install it? I searched for it on the web and mainly found that the Mac should have Open GL already installed (?).
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> Are you sure you installed X11 and Xcode4?
>>>>>>>> 
>>>>>>>> yes, both are installed.
>>>>>>>> 
>>>>>>>>> I have no problem with the *configuration* on vanilla Lion.
>>>>>>>> 
>>>>>>>> I installed about 30 packages today, everything worked fine. Hmmm... seems challenging to detect where the problem is.
>>>>>>>> 
>>>>>>> 
>>>>>>> If you want to do that, have a look at rgl/config.log - it will tell you what went wrong.
>>>>>>> 
>>>>>> 
>>>>>> Hi Simon,
>>>>>> 
>>>>>> do you know the full path of this file? I can't find it.0
>>>>>> 
>>>>> 
>>>>> It's in the rgl directory after you run R CMD INSTALL rgl
>>>> 
>>>> that's removed after the configure-trial:
>>>> 
>>>> bash-3.2$ R CMD INSTALL rgl_0.92.798.tar.gz 
>>>> * installing to library ?/Library/Frameworks/R.framework/library?
>>>> * installing *source* package ?rgl? ...
>>>> checking for gcc... gcc -arch x86_64 -std=gnu99
>>>> checking for C compiler default output file name... a.out
>>>> checking whether the C compiler works... yes
>>>> checking whether we are cross compiling... no
>>>> checking for suffix of executables... 
>>>> checking for suffix of object files... o
>>>> checking whether we are using the GNU C compiler... yes
>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>>>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>>>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>>>> checking whether we are using the GNU C compiler... (cached) yes
>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>>>> checking for libpng-config... yes
>>>> configure: using libpng-config
>>>> configure: using libpng dynamic linkage
>>>> checking for X... libraries , headers 
>>>> checking for glEnd in -lGL... no
>>>> configure: error: missing required library GL
>>>> ERROR: configuration failed for package ?rgl?
>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>> bash-3.2$ 
>>>> 
>>>> => there is no rgl folder (neither in /Library/Frameworks/R.framework/library nor in the folder in which the .tar.gz resides). 
>>>> 
>>> 
>>> As I said use R CMD INSTALL rgl, not on the tar ball
>>> S
>> 
>> Ahh, okay, now I get it :-)
>> Here's the config.log:
>> 
>> This file contains any messages produced by compilers while
>> running configure, to aid debugging if configure makes a mistake.
>> 
>> It was created by configure, which was
>> generated by GNU Autoconf 2.64.  Invocation command line was
>> 
>> $ ./configure 
>> 
>> ## --------- ##
>> ## Platform. ##
>> ## --------- ##
>> 
>> hostname = 80-218-246-245.dclient.hispeed.ch
>> uname -m = x86_64
>> uname -r = 11.0.1
>> uname -s = Darwin
>> uname -v = Darwin Kernel Version 11.0.1: Thu Jul 28 02:01:39 PDT 2011; root:xnu-1699.23.4~1/RELEASE_X86_64
>> 
>> /usr/bin/uname -p = i386
>> /bin/uname -X     = unknown
>> 
>> /bin/arch              = unknown
>> /usr/bin/arch -k       = unknown
>> /usr/convex/getsysinfo = unknown
>> /usr/bin/hostinfo      = Mach kernel version:
>> 	 Darwin Kernel Version 11.0.1: Thu Jul 28 02:01:39 PDT 2011; root:xnu-1699.23.4~1/RELEASE_X86_64
>> Kernel configured for up to 4 processors.
>> 2 processors are physically available.
>> 4 processors are logically available.
>> Processor type: i486 (Intel 80486)
>> Processors active: 0 1 2 3
>> Primary memory available: 4.00 gigabytes
>> Default processor set: 107 tasks, 499 threads, 4 processors
>> Load average: 0.91, Mach factor: 3.08
>> /bin/machine           = unknown
>> /usr/bin/oslevel       = unknown
>> /bin/universe          = unknown
>> 
>> PATH: /opt/local/bin
>> PATH: /opt/local/sbin
>> PATH: /usr/bin
>> PATH: /bin
>> PATH: /usr/sbin
>> PATH: /sbin
>> PATH: /usr/local/bin
>> PATH: /usr/X11/bin
>> PATH: /usr/texbin
>> 
>> 
>> ## ----------- ##
>> ## Core tests. ##
>> ## ----------- ##
>> 
>> configure:2106: checking for gcc
>> configure:2133: result: gcc -arch x86_64 -std=gnu99
>> configure:2362: checking for C compiler version
>> configure:2371: gcc -arch x86_64 -std=gnu99 --version >&5
>> i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
>> Copyright (C) 2007 Free Software Foundation, Inc.
>> This is free software; see the source for copying conditions.  There is NO
>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
>> 
>> configure:2382: $? = 0
>> configure:2371: gcc -arch x86_64 -std=gnu99 -v >&5
>> Using built-in specs.
>> Target: i686-apple-darwin11
>> Configured with: /private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/src/configure --disable-checking --enable-werror --prefix=/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1
>> Thread model: posix
>> gcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
>> configure:2382: $? = 0
>> configure:2371: gcc -arch x86_64 -std=gnu99 -V >&5
>> llvm-gcc-4.2: argument to `-V' is missing
>> configure:2382: $? = 1
>> configure:2371: gcc -arch x86_64 -std=gnu99 -qversion >&5
>> i686-apple-darwin11-llvm-gcc-4.2: no input files
>> configure:2382: $? = 1
>> configure:2404: checking for C compiler default output file name
>> configure:2426: gcc -arch x86_64 -std=gnu99 -g -O2   conftest.c  >&5
>> configure:2430: $? = 0
>> configure:2467: result: a.out
>> configure:2483: checking whether the C compiler works
>> configure:2492: ./a.out
>> configure:2496: $? = 0
>> configure:2511: result: yes
>> configure:2518: checking whether we are cross compiling
>> configure:2520: result: no
>> configure:2523: checking for suffix of executables
>> configure:2530: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2   conftest.c  >&5
>> configure:2534: $? = 0
>> configure:2556: result: 
>> configure:2562: checking for suffix of object files
>> configure:2584: gcc -arch x86_64 -std=gnu99 -c -g -O2  conftest.c >&5
>> configure:2588: $? = 0
>> configure:2609: result: o
>> configure:2613: checking whether we are using the GNU C compiler
>> configure:2632: gcc -arch x86_64 -std=gnu99 -c -g -O2  conftest.c >&5
>> configure:2632: $? = 0
>> configure:2641: result: yes
>> configure:2650: checking whether gcc -arch x86_64 -std=gnu99 accepts -g
>> configure:2670: gcc -arch x86_64 -std=gnu99 -c -g  conftest.c >&5
>> configure:2670: $? = 0
>> configure:2711: result: yes
>> configure:2728: checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89
>> configure:2792: gcc -arch x86_64 -std=gnu99  -c -g -O2  conftest.c >&5
>> configure:2792: $? = 0
>> configure:2805: result: none needed
>> configure:2830: checking how to run the C preprocessor
>> configure:2900: result: gcc -arch x86_64 -std=gnu99 -E
>> configure:2920: gcc -arch x86_64 -std=gnu99 -E  conftest.c
>> configure:2920: $? = 0
>> configure:2934: gcc -arch x86_64 -std=gnu99 -E  conftest.c
>> conftest.c:9:28: error: ac_nonexistent.h: No such file or directory
>> configure:2934: $? = 1
>> configure: failed program was:
>> | /* confdefs.h */
>> | #define PACKAGE_NAME ""
>> | #define PACKAGE_TARNAME ""
>> | #define PACKAGE_VERSION ""
>> | #define PACKAGE_STRING ""
>> | #define PACKAGE_BUGREPORT ""
>> | #define PACKAGE_URL ""
>> | /* end confdefs.h.  */
>> | #include <ac_nonexistent.h>
>> configure:3010: checking for gcc
>> configure:3037: result: gcc -arch x86_64 -std=gnu99
>> configure:3266: checking for C compiler version
>> configure:3275: gcc -arch x86_64 -std=gnu99 --version >&5
>> i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
>> Copyright (C) 2007 Free Software Foundation, Inc.
>> This is free software; see the source for copying conditions.  There is NO
>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
>> 
>> configure:3286: $? = 0
>> configure:3275: gcc -arch x86_64 -std=gnu99 -v >&5
>> Using built-in specs.
>> Target: i686-apple-darwin11
>> Configured with: /private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/src/configure --disable-checking --enable-werror --prefix=/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1
>> Thread model: posix
>> gcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
>> configure:3286: $? = 0
>> configure:3275: gcc -arch x86_64 -std=gnu99 -V >&5
>> llvm-gcc-4.2: argument to `-V' is missing
>> configure:3286: $? = 1
>> configure:3275: gcc -arch x86_64 -std=gnu99 -qversion >&5
>> i686-apple-darwin11-llvm-gcc-4.2: no input files
>> configure:3286: $? = 1
>> configure:3290: checking whether we are using the GNU C compiler
>> configure:3318: result: yes
>> configure:3327: checking whether gcc -arch x86_64 -std=gnu99 accepts -g
>> configure:3388: result: yes
>> configure:3405: checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89
>> configure:3482: result: none needed
>> configure:3545: checking for libpng-config
>> configure:3561: found /opt/local/bin/libpng-config
>> configure:3573: result: yes
>> configure:3584: using libpng-config
>> configure:3588: using libpng dynamic linkage
>> configure:3955: checking for X
>> configure:4063: gcc -arch x86_64 -std=gnu99 -E  -DHAVE_PNG_H -I/opt/local/include/libpng14 conftest.c
>> configure:4063: $? = 0
>> configure:4094: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2  -DHAVE_PNG_H -I/opt/local/include/libpng14  conftest.c -lX11  -L/opt/local/lib -lpng14 >&5
>> configure:4094: $? = 0
>> configure:4144: result: libraries , headers 
>> configure:4229: checking for glEnd in -lGL
>> configure:4254: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/opt/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include  conftest.c -lGL  -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/opt/local/lib -lpng14 -lX11 >&5
>> ld: library not found for -lGL
>> collect2: ld returned 1 exit status
>> configure:4254: $? = 1
>> configure: failed program was:
>> | /* confdefs.h */
>> | #define PACKAGE_NAME ""
>> | #define PACKAGE_TARNAME ""
>> | #define PACKAGE_VERSION ""
>> | #define PACKAGE_STRING ""
>> | #define PACKAGE_BUGREPORT ""
>> | #define PACKAGE_URL ""
>> | /* end confdefs.h.  */
>> | 
>> | /* Override any GCC internal prototype to avoid an error.
>> |    Use char because int might match the return type of a GCC
>> |    builtin and then its argument prototype would still apply.  */
>> | #ifdef __cplusplus
>> | extern "C"
>> | #endif
>> | char glEnd ();
>> | int
>> | main ()
>> | {
>> | return glEnd ();
>> |   ;
>> |   return 0;
>> | }
>> configure:4264: result: no
>> configure:4278: error: missing required library GL
>> 
>> ## ---------------- ##
>> ## Cache variables. ##
>> ## ---------------- ##
>> 
>> ac_cv_c_compiler_gnu=yes
>> ac_cv_env_CC_set=
>> ac_cv_env_CC_value=
>> ac_cv_env_CFLAGS_set=
>> ac_cv_env_CFLAGS_value=
>> ac_cv_env_CPPFLAGS_set=
>> ac_cv_env_CPPFLAGS_value=
>> ac_cv_env_CPP_set=
>> ac_cv_env_CPP_value=
>> ac_cv_env_LDFLAGS_set=
>> ac_cv_env_LDFLAGS_value=
>> ac_cv_env_LIBS_set=
>> ac_cv_env_LIBS_value=
>> ac_cv_env_XMKMF_set=
>> ac_cv_env_XMKMF_value=
>> ac_cv_env_build_alias_set=
>> ac_cv_env_build_alias_value=
>> ac_cv_env_host_alias_set=
>> ac_cv_env_host_alias_value=
>> ac_cv_env_target_alias_set=
>> ac_cv_env_target_alias_value=
>> ac_cv_have_x='have_x=yes	ac_x_includes='\'''\''	ac_x_libraries='\'''\'''
>> ac_cv_lib_GL___glEnd=no
>> ac_cv_objext=o
>> ac_cv_prog_CPP='gcc -arch x86_64 -std=gnu99 -E'
>> ac_cv_prog_HAVE_LIBPNG_CONFIG=yes
>> ac_cv_prog_ac_ct_CC='gcc -arch x86_64 -std=gnu99'
>> ac_cv_prog_cc_c89=
>> ac_cv_prog_cc_g=yes
>> 
>> ## ----------------- ##
>> ## Output variables. ##
>> ## ----------------- ##
>> 
>> AGLCPPFLAGS=''
>> AGLLIBS=''
>> BUILD_AGL_TRUE='#'
>> CC='gcc -arch x86_64 -std=gnu99'
>> CFLAGS='-g -O2'
>> CPP='gcc -arch x86_64 -std=gnu99 -E'
>> CPPFLAGS='-I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/opt/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include'
>> CXXFLAGS='-g -O2'
>> DEFS=''
>> ECHO_C='\c'
>> ECHO_N=''
>> ECHO_T=''
>> EGREP=''
>> EXEEXT=''
>> GREP=''
>> HAVE_FREETYPE_CONFIG=''
>> HAVE_LIBPNG_CONFIG='yes'
>> LDFLAGS=''
>> LIBOBJS=''
>> LIBS='-framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/opt/local/lib -lpng14 -lX11'
>> LTLIBOBJS=''
>> OBJEXT='o'
>> PACKAGE_BUGREPORT=''
>> PACKAGE_NAME=''
>> PACKAGE_STRING=''
>> PACKAGE_TARNAME=''
>> PACKAGE_URL=''
>> PACKAGE_VERSION=''
>> PATH_SEPARATOR=':'
>> SHELL='/bin/sh'
>> XMKMF=''
>> ac_ct_CC='gcc -arch x86_64 -std=gnu99'
>> bindir='${exec_prefix}/bin'
>> build_alias=''
>> datadir='${datarootdir}'
>> datarootdir='${prefix}/share'
>> docdir='${datarootdir}/doc/${PACKAGE}'
>> dvidir='${docdir}'
>> exec_prefix='NONE'
>> host_alias=''
>> htmldir='${docdir}'
>> includedir='${prefix}/include'
>> infodir='${datarootdir}/info'
>> libdir='${exec_prefix}/lib'
>> libexecdir='${exec_prefix}/libexec'
>> localedir='${datarootdir}/locale'
>> localstatedir='${prefix}/var'
>> mandir='${datarootdir}/man'
>> oldincludedir='/usr/include'
>> pdfdir='${docdir}'
>> prefix='NONE'
>> program_transform_name='s,x,x,'
>> psdir='${docdir}'
>> sbindir='${exec_prefix}/sbin'
>> sharedstatedir='${prefix}/com'
>> sysconfdir='${prefix}/etc'
>> target_alias=''
>> 
>> ## ----------- ##
>> ## confdefs.h. ##
>> ## ----------- ##
>> 
>> /* confdefs.h */
>> #define PACKAGE_NAME ""
>> #define PACKAGE_TARNAME ""
>> #define PACKAGE_VERSION ""
>> #define PACKAGE_STRING ""
>> #define PACKAGE_BUGREPORT ""
>> #define PACKAGE_URL ""
>> 
>> configure: exit 1
>> 
>> 
>> 
>> 
>>> 
>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>>>> 
>>>>>>>>> There is still an issue in the rgl 0.92.798 code (opengl.hpp), though, it's including AGL/* instead of OpenGL/* which fails (hence CC to Duncan), but that's at compilation stage, not configuration.
>>>>>>>>> 
>>>>>>>>> BTW: why don't you just use
>>>>>>>>> install.packages("rgl")
>>>>>>>>> that works on Lion as well...
>>>>>>>> 
>>>>>>>> I installed all packages from source since I installed R from source and I remember reading somewhere that one should do it this way since the binaries are built to work with CRAN's binary installation of R. But if this does not create problems (please let me know), I'll give it a try.
>>>>>>>> 
>>>>>>> 
>>>>>>> As long as your configuration is compatible (essentially you have to set r_arch properly) it works. It's not guaranteed to work if you use different compilers.
>>>>>> 
>>>>>> I tried:
>>>>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>>>>> 
>>>>> 
>>>>> Naw, you got wrong - I was talking about R configuration. Never mind then (you may want to read up on building R - see the R for Mac FAQ).
>>>>> 
>>>>> Cheers,
>>>>> Simon
>>>>> 
>>>>> 
>>>>> 
>>>>>> but the outcome was:
>>>>>> 
>>>>>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>>>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>>>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>>>>> (as ?lib? is unspecified)
>>>>>> --- Please select a CRAN mirror for use in this session ---
>>>>>> Loading Tcl/Tk interface ... done
>>>>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>>>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>>>>> opened URL
>>>>>> ==================================================
>>>>>> downloaded 1.6 Mb
>>>>>> 
>>>>>> * installing *source* package ?rgl? ...
>>>>>> configure: error: unrecognized option: `--r_arch=x86_64'
>>>>>> Try `./configure --help' for more information.
>>>>>> ERROR: configuration failed for package ?rgl?
>>>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>>>> 
>>>>>> The downloaded packages are in
>>>>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpzmXkSd/downloaded_packages?
>>>>>> Warning message:
>>>>>> In install.packages("rgl", configure.args = "--r_arch=x86_64") :
>>>>>> installation of package 'rgl' had non-zero exit status
>>>>>>> 
>>>>>> 
>>>>>> How/Where should r_arch be specified?
>>>>>> 
>>>>>> Cheers,
>>>>>> 
>>>>>> Marius
>>>>>> 
>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>>> I just remember something: I installed the 64bit R version. Is this a problem for rgl?
>>>>>>>> 
>>>>>>> 
>>>>>>> No.
>>>>>>> 
>>>>>>> Cheers,
>>>>>>> Simon
>>>>>>> 
>>>>>>> 
>>>>>>>> Cheers,
>>>>>>>> 
>>>>>>>> Marius
>>>>>>>> 
>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> Cheers,
>>>>>>>>> Simon
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> [PS: while at it - I'm a bit confused about the current setup, though, since it uses the (non-X11) OpenGL framework yet links X11;  Also it crashes when GLX is not supported (e.g. ssh tunneling). I remember that at some point in the past it was building native and X11 versions but what is left is some mix of both...]
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>>> Cheers,
>>>>>>>>>> 
>>>>>>>>>> Marius
>>>>>>>>>> _______________________________________________
>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>> 
>>>> 
>>>> 
>>>> 
>>> 
>> 
>> 
> 

ETH Zurich
Dr. Marius Hofert
RiskLab, Department of Mathematics
HG E 65.2
R?mistrasse 101
8092 Zurich
Switzerland

Phone +41 44 632 2423
marius.hofert at math.ethz.ch
http://www.math.ethz.ch/~hofertj


From simon.urbanek at r-project.org  Wed Oct 12 15:36:29 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 12 Oct 2011 09:36:29 -0400
Subject: [R-SIG-Mac] rgl on 10.7: has anyone tried it?
In-Reply-To: <A95AB3C6-91B6-4E0B-B6CF-77D0A80A87A5@math.ethz.ch>
References: <3D7A8F7D-3070-411C-B495-7FC9323966F6@math.ethz.ch>
	<2C1156DA-EF1D-465E-97D3-6D7BED034235@r-project.org>
	<260575E9-D4DF-4B84-9FEB-0167DEB63311@math.ethz.ch>
	<85EA7578-1FA4-4434-BB91-6CEADA1EC633@r-project.org>
	<FA03479C-9CD8-47C7-9D3E-7D6919789267@math.ethz.ch>
	<EBFB29D6-F75B-4EC9-B752-60D3537FC858@r-project.org>
	<F063AF2A-0E69-497B-B427-C74E3BBF48FE@math.ethz.ch>
	<1B1F0DA7-6D98-4B49-8AEC-4491938B6146@r-project.org>
	<040854C0-D8EF-4498-9558-7E5D005198D4@math.ethz.ch>
	<6CE4AD50-B5CA-428B-8C28-FBE78CF88686@r-project.org>
	<A95AB3C6-91B6-4E0B-B6CF-77D0A80A87A5@math.ethz.ch>
Message-ID: <6E552968-F6B6-4076-8C75-BE2D74237D3F@r-project.org>


On Oct 12, 2011, at 9:17 AM, Marius Hofert wrote:

> Dear Simon,
> 
> thanks a lot for helping. Here is what I could figure out:
> (1) the installation of macports created the following line in .profile:
> export PATH=/opt/local/bin:/opt/local/sbin:$PATH
> (2) I'm sure I had other stuff in .profile -- apparently they got overwritten by macports (seems nasty)
> (3) (1) caused the opt-paths to appear in PATH
> (4) I changed it to 
> export PATH=$PATH:/opt/local/bin:/opt/local/sbin
> (5) then I executed:
> R CMD INSTALL rgl
> 
> This gave:
> 
> localhost:Downloads mhofert$ R CMD INSTALL rgl
> * installing to library ?/Library/Frameworks/R.framework/library?
> * installing *source* package ?rgl? ...
> checking for gcc... gcc -arch x86_64 -std=gnu99
> checking for C compiler default output file name... a.out
> checking whether the C compiler works... yes
> checking whether we are cross compiling... no
> checking for suffix of executables... 
> checking for suffix of object files... o
> checking whether we are using the GNU C compiler... yes
> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
> checking whether we are using the GNU C compiler... (cached) yes
> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
> checking for libpng-config... yes
> configure: using libpng-config
> configure: using libpng dynamic linkage
> checking for X... libraries , headers 
> checking for glEnd in -lGL... yes
> checking for gluProject in -lGLU... yes
> checking for freetype-config... yes
> configure: using Freetype and FTGL
> configure: creating ./config.status
> config.status: creating src/Makevars
> ** libs
> *** arch - x86_64
> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c BBoxDeco.cpp -o BBoxDeco.o
> In file included from RenderContext.hpp:9,
>                 from BBoxDeco.hpp:14,
>                 from BBoxDeco.cpp:1:
> opengl.hpp:11:20: error: AGL/gl.h: No such file or directory
> opengl.hpp:12:21: error: AGL/glu.h: No such file or directory
> make: *** [BBoxDeco.o] Error 1
> ERROR: compilation failed for package ?rgl?
> * removing ?/Library/Frameworks/R.framework/library/rgl?
> localhost:Downloads mhofert$ 
> 
> Do you know how to continue?
> 

Yes, almost there :) - back to my first e-mail: you need to replace "AGL" with "OpenGL" in rgl/src/opengl.hpp

Cheers,
Simon


> Cheers,
> 
> Marius
> 
> Here the config.log:
> 
> This file contains any messages produced by compilers while
> running configure, to aid debugging if configure makes a mistake.
> 
> It was created by configure, which was
> generated by GNU Autoconf 2.64.  Invocation command line was
> 
>  $ ./configure 
> 
> ## --------- ##
> ## Platform. ##
> ## --------- ##
> 
> hostname = localhost
> uname -m = x86_64
> uname -r = 11.0.1
> uname -s = Darwin
> uname -v = Darwin Kernel Version 11.0.1: Thu Jul 28 02:01:39 PDT 2011; root:xnu-1699.23.4~1/RELEASE_X86_64
> 
> /usr/bin/uname -p = i386
> /bin/uname -X     = unknown
> 
> /bin/arch              = unknown
> /usr/bin/arch -k       = unknown
> /usr/convex/getsysinfo = unknown
> /usr/bin/hostinfo      = Mach kernel version:
> 	 Darwin Kernel Version 11.0.1: Thu Jul 28 02:01:39 PDT 2011; root:xnu-1699.23.4~1/RELEASE_X86_64
> Kernel configured for up to 4 processors.
> 2 processors are physically available.
> 4 processors are logically available.
> Processor type: i486 (Intel 80486)
> Processors active: 0 1 2 3
> Primary memory available: 4.00 gigabytes
> Default processor set: 85 tasks, 363 threads, 4 processors
> Load average: 0.66, Mach factor: 3.32
> /bin/machine           = unknown
> /usr/bin/oslevel       = unknown
> /bin/universe          = unknown
> 
> PATH: /usr/bin
> PATH: /bin
> PATH: /usr/sbin
> PATH: /sbin
> PATH: /usr/local/bin
> PATH: /usr/X11/bin
> PATH: /usr/texbin
> PATH: /opt/local/bin
> PATH: /opt/local/sbin
> 
> 
> ## ----------- ##
> ## Core tests. ##
> ## ----------- ##
> 
> configure:2106: checking for gcc
> configure:2133: result: gcc -arch x86_64 -std=gnu99
> configure:2362: checking for C compiler version
> configure:2371: gcc -arch x86_64 -std=gnu99 --version >&5
> i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
> Copyright (C) 2007 Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.  There is NO
> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
> 
> configure:2382: $? = 0
> configure:2371: gcc -arch x86_64 -std=gnu99 -v >&5
> Using built-in specs.
> Target: i686-apple-darwin11
> Configured with: /private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/src/configure --disable-checking --enable-werror --prefix=/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1
> Thread model: posix
> gcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
> configure:2382: $? = 0
> configure:2371: gcc -arch x86_64 -std=gnu99 -V >&5
> llvm-gcc-4.2: argument to `-V' is missing
> configure:2382: $? = 1
> configure:2371: gcc -arch x86_64 -std=gnu99 -qversion >&5
> i686-apple-darwin11-llvm-gcc-4.2: no input files
> configure:2382: $? = 1
> configure:2404: checking for C compiler default output file name
> configure:2426: gcc -arch x86_64 -std=gnu99 -g -O2   conftest.c  >&5
> configure:2430: $? = 0
> configure:2467: result: a.out
> configure:2483: checking whether the C compiler works
> configure:2492: ./a.out
> configure:2496: $? = 0
> configure:2511: result: yes
> configure:2518: checking whether we are cross compiling
> configure:2520: result: no
> configure:2523: checking for suffix of executables
> configure:2530: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2   conftest.c  >&5
> configure:2534: $? = 0
> configure:2556: result: 
> configure:2562: checking for suffix of object files
> configure:2584: gcc -arch x86_64 -std=gnu99 -c -g -O2  conftest.c >&5
> configure:2588: $? = 0
> configure:2609: result: o
> configure:2613: checking whether we are using the GNU C compiler
> configure:2632: gcc -arch x86_64 -std=gnu99 -c -g -O2  conftest.c >&5
> configure:2632: $? = 0
> configure:2641: result: yes
> configure:2650: checking whether gcc -arch x86_64 -std=gnu99 accepts -g
> configure:2670: gcc -arch x86_64 -std=gnu99 -c -g  conftest.c >&5
> configure:2670: $? = 0
> configure:2711: result: yes
> configure:2728: checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89
> configure:2792: gcc -arch x86_64 -std=gnu99  -c -g -O2  conftest.c >&5
> configure:2792: $? = 0
> configure:2805: result: none needed
> configure:2830: checking how to run the C preprocessor
> configure:2900: result: gcc -arch x86_64 -std=gnu99 -E
> configure:2920: gcc -arch x86_64 -std=gnu99 -E  conftest.c
> configure:2920: $? = 0
> configure:2934: gcc -arch x86_64 -std=gnu99 -E  conftest.c
> conftest.c:9:28: error: ac_nonexistent.h: No such file or directory
> configure:2934: $? = 1
> configure: failed program was:
> | /* confdefs.h */
> | #define PACKAGE_NAME ""
> | #define PACKAGE_TARNAME ""
> | #define PACKAGE_VERSION ""
> | #define PACKAGE_STRING ""
> | #define PACKAGE_BUGREPORT ""
> | #define PACKAGE_URL ""
> | /* end confdefs.h.  */
> | #include <ac_nonexistent.h>
> configure:3010: checking for gcc
> configure:3037: result: gcc -arch x86_64 -std=gnu99
> configure:3266: checking for C compiler version
> configure:3275: gcc -arch x86_64 -std=gnu99 --version >&5
> i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
> Copyright (C) 2007 Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.  There is NO
> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
> 
> configure:3286: $? = 0
> configure:3275: gcc -arch x86_64 -std=gnu99 -v >&5
> Using built-in specs.
> Target: i686-apple-darwin11
> Configured with: /private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/src/configure --disable-checking --enable-werror --prefix=/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1
> Thread model: posix
> gcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
> configure:3286: $? = 0
> configure:3275: gcc -arch x86_64 -std=gnu99 -V >&5
> llvm-gcc-4.2: argument to `-V' is missing
> configure:3286: $? = 1
> configure:3275: gcc -arch x86_64 -std=gnu99 -qversion >&5
> i686-apple-darwin11-llvm-gcc-4.2: no input files
> configure:3286: $? = 1
> configure:3290: checking whether we are using the GNU C compiler
> configure:3318: result: yes
> configure:3327: checking whether gcc -arch x86_64 -std=gnu99 accepts -g
> configure:3388: result: yes
> configure:3405: checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89
> configure:3482: result: none needed
> configure:3545: checking for libpng-config
> configure:3561: found /usr/X11/bin/libpng-config
> configure:3573: result: yes
> configure:3584: using libpng-config
> configure:3588: using libpng dynamic linkage
> configure:3955: checking for X
> configure:4063: gcc -arch x86_64 -std=gnu99 -E  -DHAVE_PNG_H -I/usr/X11/include/libpng15 conftest.c
> configure:4063: $? = 0
> configure:4094: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2  -DHAVE_PNG_H -I/usr/X11/include/libpng15  conftest.c -lX11  -L/usr/X11/lib -lpng15 >&5
> configure:4094: $? = 0
> configure:4144: result: libraries , headers 
> configure:4229: checking for glEnd in -lGL
> configure:4254: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include  conftest.c -lGL  -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/usr/X11/lib -lpng15 -lX11 >&5
> configure:4254: $? = 0
> configure:4264: result: yes
> configure:4291: checking for gluProject in -lGLU
> configure:4316: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include  conftest.c -lGLU  -lGL -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/usr/X11/lib -lpng15 -lX11 >&5
> configure:4316: $? = 0
> configure:4326: result: yes
> configure:4357: checking for freetype-config
> configure:4373: found /usr/X11/bin/freetype-config
> configure:4385: result: yes
> configure:4398: using Freetype and FTGL
> configure:4555: creating ./config.status
> 
> ## ---------------------- ##
> ## Running config.status. ##
> ## ---------------------- ##
> 
> This file was extended by config.status, which was
> generated by GNU Autoconf 2.64.  Invocation command line was
> 
>  CONFIG_FILES    = 
>  CONFIG_HEADERS  = 
>  CONFIG_LINKS    = 
>  CONFIG_COMMANDS = 
>  $ ./config.status 
> 
> on localhost
> 
> config.status:730: creating src/Makevars
> 
> ## ---------------- ##
> ## Cache variables. ##
> ## ---------------- ##
> 
> ac_cv_c_compiler_gnu=yes
> ac_cv_env_CC_set=
> ac_cv_env_CC_value=
> ac_cv_env_CFLAGS_set=
> ac_cv_env_CFLAGS_value=
> ac_cv_env_CPPFLAGS_set=
> ac_cv_env_CPPFLAGS_value=
> ac_cv_env_CPP_set=
> ac_cv_env_CPP_value=
> ac_cv_env_LDFLAGS_set=
> ac_cv_env_LDFLAGS_value=
> ac_cv_env_LIBS_set=
> ac_cv_env_LIBS_value=
> ac_cv_env_XMKMF_set=
> ac_cv_env_XMKMF_value=
> ac_cv_env_build_alias_set=
> ac_cv_env_build_alias_value=
> ac_cv_env_host_alias_set=
> ac_cv_env_host_alias_value=
> ac_cv_env_target_alias_set=
> ac_cv_env_target_alias_value=
> ac_cv_have_x='have_x=yes	ac_x_includes='\'''\''	ac_x_libraries='\'''\'''
> ac_cv_lib_GLU___gluProject=yes
> ac_cv_lib_GL___glEnd=yes
> ac_cv_objext=o
> ac_cv_prog_CPP='gcc -arch x86_64 -std=gnu99 -E'
> ac_cv_prog_HAVE_FREETYPE_CONFIG=yes
> ac_cv_prog_HAVE_LIBPNG_CONFIG=yes
> ac_cv_prog_ac_ct_CC='gcc -arch x86_64 -std=gnu99'
> ac_cv_prog_cc_c89=
> ac_cv_prog_cc_g=yes
> 
> ## ----------------- ##
> ## Output variables. ##
> ## ----------------- ##
> 
> AGLCPPFLAGS=' -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include'
> AGLLIBS=' -L/usr/X11/lib -lfreetype -lz'
> BUILD_AGL_TRUE='#'
> CC='gcc -arch x86_64 -std=gnu99'
> CFLAGS='-g -O2'
> CPP='gcc -arch x86_64 -std=gnu99 -E'
> CPPFLAGS='-I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include'
> CXXFLAGS='-g -O2'
> DEFS='-DPACKAGE_NAME=\"\" -DPACKAGE_TARNAME=\"\" -DPACKAGE_VERSION=\"\" -DPACKAGE_STRING=\"\" -DPACKAGE_BUGREPORT=\"\" -DPACKAGE_URL=\"\" -DHAVE_LIBGL=1 -DHAVE_LIBGLU=1'
> ECHO_C='\c'
> ECHO_N=''
> ECHO_T=''
> EGREP=''
> EXEEXT=''
> GREP=''
> HAVE_FREETYPE_CONFIG='yes'
> HAVE_LIBPNG_CONFIG='yes'
> LDFLAGS=''
> LIBOBJS=''
> LIBS='-lGLU -lGL -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/usr/X11/lib -lpng15 -lX11 -L/usr/X11/lib -lfreetype -lz'
> LTLIBOBJS=''
> OBJEXT='o'
> PACKAGE_BUGREPORT=''
> PACKAGE_NAME=''
> PACKAGE_STRING=''
> PACKAGE_TARNAME=''
> PACKAGE_URL=''
> PACKAGE_VERSION=''
> PATH_SEPARATOR=':'
> SHELL='/bin/sh'
> XMKMF=''
> ac_ct_CC='gcc -arch x86_64 -std=gnu99'
> bindir='${exec_prefix}/bin'
> build_alias=''
> datadir='${datarootdir}'
> datarootdir='${prefix}/share'
> docdir='${datarootdir}/doc/${PACKAGE}'
> dvidir='${docdir}'
> exec_prefix='${prefix}'
> host_alias=''
> htmldir='${docdir}'
> includedir='${prefix}/include'
> infodir='${datarootdir}/info'
> libdir='${exec_prefix}/lib'
> libexecdir='${exec_prefix}/libexec'
> localedir='${datarootdir}/locale'
> localstatedir='${prefix}/var'
> mandir='${datarootdir}/man'
> oldincludedir='/usr/include'
> pdfdir='${docdir}'
> prefix='/usr/local'
> program_transform_name='s,x,x,'
> psdir='${docdir}'
> sbindir='${exec_prefix}/sbin'
> sharedstatedir='${prefix}/com'
> sysconfdir='${prefix}/etc'
> target_alias=''
> 
> ## ----------- ##
> ## confdefs.h. ##
> ## ----------- ##
> 
> /* confdefs.h */
> #define PACKAGE_NAME ""
> #define PACKAGE_TARNAME ""
> #define PACKAGE_VERSION ""
> #define PACKAGE_STRING ""
> #define PACKAGE_BUGREPORT ""
> #define PACKAGE_URL ""
> #define HAVE_LIBGL 1
> #define HAVE_LIBGLU 1
> 
> configure: exit 0
> 
> 
> 
> On 2011-10-12, at 00:54 , Simon Urbanek wrote:
> 
>> The issue seem in your setup - you should be using libraries from /usr/X11/lib (which is the default) but you are using stuff from /opt/local which is incomplete. Make sure your /opt/.. paths are *last* on your PATH, definitely after /usr/X11/bin.
>> 
>> Cheers,
>> Simon
>> 
>> 
>> On Oct 11, 2011, at 6:44 PM, Marius Hofert wrote:
>> 
>>> 
>>> On 2011-10-12, at 00:37 , Simon Urbanek wrote:
>>> 
>>>> 
>>>> On Oct 11, 2011, at 6:33 PM, Marius Hofert wrote:
>>>> 
>>>>> 
>>>>> On 2011-10-12, at 00:12 , Simon Urbanek wrote:
>>>>> 
>>>>>> 
>>>>>> On Oct 11, 2011, at 6:01 PM, Marius Hofert wrote:
>>>>>> 
>>>>>>> 
>>>>>>> On 2011-10-11, at 23:30 , Simon Urbanek wrote:
>>>>>>> 
>>>>>>>> 
>>>>>>>> On Oct 11, 2011, at 5:16 PM, Marius Hofert wrote:
>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> On 2011-10-11, at 23:04 , Simon Urbanek wrote:
>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> On Oct 11, 2011, at 4:10 PM, Marius Hofert wrote:
>>>>>>>>>> 
>>>>>>>>>>> Dear all,
>>>>>>>>>>> 
>>>>>>>>>>> I tried to install the package rgl on 10.7. Here's the output:
>>>>>>>>>>> 
>>>>>>>>>>> ##############################################################################
>>>>>>>>>>> 
>>>>>>>>>>>> install.packages("rgl", type="source")
>>>>>>>>>>> install.packages("rgl", type="source")
>>>>>>>>>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>>>>>>>>>> (as ?lib? is unspecified)
>>>>>>>>>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>>>>>>>>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>>>>>>>>>> opened URL
>>>>>>>>>>> ==================================================
>>>>>>>>>>> downloaded 1.6 Mb
>>>>>>>>>>> 
>>>>>>>>>>> * installing *source* package ?rgl? ...
>>>>>>>>>>> checking for gcc... gcc -arch x86_64 -std=gnu99
>>>>>>>>>>> checking for C compiler default output file name... a.out
>>>>>>>>>>> checking whether the C compiler works... yes
>>>>>>>>>>> checking whether we are cross compiling... no
>>>>>>>>>>> checking for suffix of executables... 
>>>>>>>>>>> checking for suffix of object files... o
>>>>>>>>>>> checking whether we are using the GNU C compiler... yes
>>>>>>>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>>>>>>>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>>>>>>>>>>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>>>>>>>>>>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>>>>>>>>>>> checking whether we are using the GNU C compiler... (cached) yes
>>>>>>>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>>>>>>>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>>>>>>>>>>> checking for libpng-config... yes
>>>>>>>>>>> configure: using libpng-config
>>>>>>>>>>> configure: using libpng dynamic linkage
>>>>>>>>>>> checking for X... libraries , headers 
>>>>>>>>>>> checking for glEnd in -lGL... no
>>>>>>>>>>> configure: error: missing required library GL
>>>>>>>>>>> ERROR: configuration failed for package ?rgl?
>>>>>>>>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>>>>>>>>> 
>>>>>>>>>>> The downloaded packages are in
>>>>>>>>>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpQ6nuVK/downloaded_packages?
>>>>>>>>>>> Warning message:
>>>>>>>>>>> In install.packages("rgl", type = "source") :
>>>>>>>>>>> installation of package 'rgl' had non-zero exit status
>>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>> ##############################################################################
>>>>>>>>>>> 
>>>>>>>>>>> Apparently, I'm missing the "GL" library. But how can I install it? I searched for it on the web and mainly found that the Mac should have Open GL already installed (?).
>>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> Are you sure you installed X11 and Xcode4?
>>>>>>>>> 
>>>>>>>>> yes, both are installed.
>>>>>>>>> 
>>>>>>>>>> I have no problem with the *configuration* on vanilla Lion.
>>>>>>>>> 
>>>>>>>>> I installed about 30 packages today, everything worked fine. Hmmm... seems challenging to detect where the problem is.
>>>>>>>>> 
>>>>>>>> 
>>>>>>>> If you want to do that, have a look at rgl/config.log - it will tell you what went wrong.
>>>>>>>> 
>>>>>>> 
>>>>>>> Hi Simon,
>>>>>>> 
>>>>>>> do you know the full path of this file? I can't find it.0
>>>>>>> 
>>>>>> 
>>>>>> It's in the rgl directory after you run R CMD INSTALL rgl
>>>>> 
>>>>> that's removed after the configure-trial:
>>>>> 
>>>>> bash-3.2$ R CMD INSTALL rgl_0.92.798.tar.gz 
>>>>> * installing to library ?/Library/Frameworks/R.framework/library?
>>>>> * installing *source* package ?rgl? ...
>>>>> checking for gcc... gcc -arch x86_64 -std=gnu99
>>>>> checking for C compiler default output file name... a.out
>>>>> checking whether the C compiler works... yes
>>>>> checking whether we are cross compiling... no
>>>>> checking for suffix of executables... 
>>>>> checking for suffix of object files... o
>>>>> checking whether we are using the GNU C compiler... yes
>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>>>>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>>>>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>>>>> checking whether we are using the GNU C compiler... (cached) yes
>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>>>>> checking for libpng-config... yes
>>>>> configure: using libpng-config
>>>>> configure: using libpng dynamic linkage
>>>>> checking for X... libraries , headers 
>>>>> checking for glEnd in -lGL... no
>>>>> configure: error: missing required library GL
>>>>> ERROR: configuration failed for package ?rgl?
>>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>>> bash-3.2$ 
>>>>> 
>>>>> => there is no rgl folder (neither in /Library/Frameworks/R.framework/library nor in the folder in which the .tar.gz resides). 
>>>>> 
>>>> 
>>>> As I said use R CMD INSTALL rgl, not on the tar ball
>>>> S
>>> 
>>> Ahh, okay, now I get it :-)
>>> Here's the config.log:
>>> 
>>> This file contains any messages produced by compilers while
>>> running configure, to aid debugging if configure makes a mistake.
>>> 
>>> It was created by configure, which was
>>> generated by GNU Autoconf 2.64.  Invocation command line was
>>> 
>>> $ ./configure 
>>> 
>>> ## --------- ##
>>> ## Platform. ##
>>> ## --------- ##
>>> 
>>> hostname = 80-218-246-245.dclient.hispeed.ch
>>> uname -m = x86_64
>>> uname -r = 11.0.1
>>> uname -s = Darwin
>>> uname -v = Darwin Kernel Version 11.0.1: Thu Jul 28 02:01:39 PDT 2011; root:xnu-1699.23.4~1/RELEASE_X86_64
>>> 
>>> /usr/bin/uname -p = i386
>>> /bin/uname -X     = unknown
>>> 
>>> /bin/arch              = unknown
>>> /usr/bin/arch -k       = unknown
>>> /usr/convex/getsysinfo = unknown
>>> /usr/bin/hostinfo      = Mach kernel version:
>>> 	 Darwin Kernel Version 11.0.1: Thu Jul 28 02:01:39 PDT 2011; root:xnu-1699.23.4~1/RELEASE_X86_64
>>> Kernel configured for up to 4 processors.
>>> 2 processors are physically available.
>>> 4 processors are logically available.
>>> Processor type: i486 (Intel 80486)
>>> Processors active: 0 1 2 3
>>> Primary memory available: 4.00 gigabytes
>>> Default processor set: 107 tasks, 499 threads, 4 processors
>>> Load average: 0.91, Mach factor: 3.08
>>> /bin/machine           = unknown
>>> /usr/bin/oslevel       = unknown
>>> /bin/universe          = unknown
>>> 
>>> PATH: /opt/local/bin
>>> PATH: /opt/local/sbin
>>> PATH: /usr/bin
>>> PATH: /bin
>>> PATH: /usr/sbin
>>> PATH: /sbin
>>> PATH: /usr/local/bin
>>> PATH: /usr/X11/bin
>>> PATH: /usr/texbin
>>> 
>>> 
>>> ## ----------- ##
>>> ## Core tests. ##
>>> ## ----------- ##
>>> 
>>> configure:2106: checking for gcc
>>> configure:2133: result: gcc -arch x86_64 -std=gnu99
>>> configure:2362: checking for C compiler version
>>> configure:2371: gcc -arch x86_64 -std=gnu99 --version >&5
>>> i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>> This is free software; see the source for copying conditions.  There is NO
>>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
>>> 
>>> configure:2382: $? = 0
>>> configure:2371: gcc -arch x86_64 -std=gnu99 -v >&5
>>> Using built-in specs.
>>> Target: i686-apple-darwin11
>>> Configured with: /private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/src/configure --disable-checking --enable-werror --prefix=/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1
>>> Thread model: posix
>>> gcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
>>> configure:2382: $? = 0
>>> configure:2371: gcc -arch x86_64 -std=gnu99 -V >&5
>>> llvm-gcc-4.2: argument to `-V' is missing
>>> configure:2382: $? = 1
>>> configure:2371: gcc -arch x86_64 -std=gnu99 -qversion >&5
>>> i686-apple-darwin11-llvm-gcc-4.2: no input files
>>> configure:2382: $? = 1
>>> configure:2404: checking for C compiler default output file name
>>> configure:2426: gcc -arch x86_64 -std=gnu99 -g -O2   conftest.c  >&5
>>> configure:2430: $? = 0
>>> configure:2467: result: a.out
>>> configure:2483: checking whether the C compiler works
>>> configure:2492: ./a.out
>>> configure:2496: $? = 0
>>> configure:2511: result: yes
>>> configure:2518: checking whether we are cross compiling
>>> configure:2520: result: no
>>> configure:2523: checking for suffix of executables
>>> configure:2530: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2   conftest.c  >&5
>>> configure:2534: $? = 0
>>> configure:2556: result: 
>>> configure:2562: checking for suffix of object files
>>> configure:2584: gcc -arch x86_64 -std=gnu99 -c -g -O2  conftest.c >&5
>>> configure:2588: $? = 0
>>> configure:2609: result: o
>>> configure:2613: checking whether we are using the GNU C compiler
>>> configure:2632: gcc -arch x86_64 -std=gnu99 -c -g -O2  conftest.c >&5
>>> configure:2632: $? = 0
>>> configure:2641: result: yes
>>> configure:2650: checking whether gcc -arch x86_64 -std=gnu99 accepts -g
>>> configure:2670: gcc -arch x86_64 -std=gnu99 -c -g  conftest.c >&5
>>> configure:2670: $? = 0
>>> configure:2711: result: yes
>>> configure:2728: checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89
>>> configure:2792: gcc -arch x86_64 -std=gnu99  -c -g -O2  conftest.c >&5
>>> configure:2792: $? = 0
>>> configure:2805: result: none needed
>>> configure:2830: checking how to run the C preprocessor
>>> configure:2900: result: gcc -arch x86_64 -std=gnu99 -E
>>> configure:2920: gcc -arch x86_64 -std=gnu99 -E  conftest.c
>>> configure:2920: $? = 0
>>> configure:2934: gcc -arch x86_64 -std=gnu99 -E  conftest.c
>>> conftest.c:9:28: error: ac_nonexistent.h: No such file or directory
>>> configure:2934: $? = 1
>>> configure: failed program was:
>>> | /* confdefs.h */
>>> | #define PACKAGE_NAME ""
>>> | #define PACKAGE_TARNAME ""
>>> | #define PACKAGE_VERSION ""
>>> | #define PACKAGE_STRING ""
>>> | #define PACKAGE_BUGREPORT ""
>>> | #define PACKAGE_URL ""
>>> | /* end confdefs.h.  */
>>> | #include <ac_nonexistent.h>
>>> configure:3010: checking for gcc
>>> configure:3037: result: gcc -arch x86_64 -std=gnu99
>>> configure:3266: checking for C compiler version
>>> configure:3275: gcc -arch x86_64 -std=gnu99 --version >&5
>>> i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>> This is free software; see the source for copying conditions.  There is NO
>>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
>>> 
>>> configure:3286: $? = 0
>>> configure:3275: gcc -arch x86_64 -std=gnu99 -v >&5
>>> Using built-in specs.
>>> Target: i686-apple-darwin11
>>> Configured with: /private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/src/configure --disable-checking --enable-werror --prefix=/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1
>>> Thread model: posix
>>> gcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
>>> configure:3286: $? = 0
>>> configure:3275: gcc -arch x86_64 -std=gnu99 -V >&5
>>> llvm-gcc-4.2: argument to `-V' is missing
>>> configure:3286: $? = 1
>>> configure:3275: gcc -arch x86_64 -std=gnu99 -qversion >&5
>>> i686-apple-darwin11-llvm-gcc-4.2: no input files
>>> configure:3286: $? = 1
>>> configure:3290: checking whether we are using the GNU C compiler
>>> configure:3318: result: yes
>>> configure:3327: checking whether gcc -arch x86_64 -std=gnu99 accepts -g
>>> configure:3388: result: yes
>>> configure:3405: checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89
>>> configure:3482: result: none needed
>>> configure:3545: checking for libpng-config
>>> configure:3561: found /opt/local/bin/libpng-config
>>> configure:3573: result: yes
>>> configure:3584: using libpng-config
>>> configure:3588: using libpng dynamic linkage
>>> configure:3955: checking for X
>>> configure:4063: gcc -arch x86_64 -std=gnu99 -E  -DHAVE_PNG_H -I/opt/local/include/libpng14 conftest.c
>>> configure:4063: $? = 0
>>> configure:4094: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2  -DHAVE_PNG_H -I/opt/local/include/libpng14  conftest.c -lX11  -L/opt/local/lib -lpng14 >&5
>>> configure:4094: $? = 0
>>> configure:4144: result: libraries , headers 
>>> configure:4229: checking for glEnd in -lGL
>>> configure:4254: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/opt/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include  conftest.c -lGL  -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/opt/local/lib -lpng14 -lX11 >&5
>>> ld: library not found for -lGL
>>> collect2: ld returned 1 exit status
>>> configure:4254: $? = 1
>>> configure: failed program was:
>>> | /* confdefs.h */
>>> | #define PACKAGE_NAME ""
>>> | #define PACKAGE_TARNAME ""
>>> | #define PACKAGE_VERSION ""
>>> | #define PACKAGE_STRING ""
>>> | #define PACKAGE_BUGREPORT ""
>>> | #define PACKAGE_URL ""
>>> | /* end confdefs.h.  */
>>> | 
>>> | /* Override any GCC internal prototype to avoid an error.
>>> |    Use char because int might match the return type of a GCC
>>> |    builtin and then its argument prototype would still apply.  */
>>> | #ifdef __cplusplus
>>> | extern "C"
>>> | #endif
>>> | char glEnd ();
>>> | int
>>> | main ()
>>> | {
>>> | return glEnd ();
>>> |   ;
>>> |   return 0;
>>> | }
>>> configure:4264: result: no
>>> configure:4278: error: missing required library GL
>>> 
>>> ## ---------------- ##
>>> ## Cache variables. ##
>>> ## ---------------- ##
>>> 
>>> ac_cv_c_compiler_gnu=yes
>>> ac_cv_env_CC_set=
>>> ac_cv_env_CC_value=
>>> ac_cv_env_CFLAGS_set=
>>> ac_cv_env_CFLAGS_value=
>>> ac_cv_env_CPPFLAGS_set=
>>> ac_cv_env_CPPFLAGS_value=
>>> ac_cv_env_CPP_set=
>>> ac_cv_env_CPP_value=
>>> ac_cv_env_LDFLAGS_set=
>>> ac_cv_env_LDFLAGS_value=
>>> ac_cv_env_LIBS_set=
>>> ac_cv_env_LIBS_value=
>>> ac_cv_env_XMKMF_set=
>>> ac_cv_env_XMKMF_value=
>>> ac_cv_env_build_alias_set=
>>> ac_cv_env_build_alias_value=
>>> ac_cv_env_host_alias_set=
>>> ac_cv_env_host_alias_value=
>>> ac_cv_env_target_alias_set=
>>> ac_cv_env_target_alias_value=
>>> ac_cv_have_x='have_x=yes	ac_x_includes='\'''\''	ac_x_libraries='\'''\'''
>>> ac_cv_lib_GL___glEnd=no
>>> ac_cv_objext=o
>>> ac_cv_prog_CPP='gcc -arch x86_64 -std=gnu99 -E'
>>> ac_cv_prog_HAVE_LIBPNG_CONFIG=yes
>>> ac_cv_prog_ac_ct_CC='gcc -arch x86_64 -std=gnu99'
>>> ac_cv_prog_cc_c89=
>>> ac_cv_prog_cc_g=yes
>>> 
>>> ## ----------------- ##
>>> ## Output variables. ##
>>> ## ----------------- ##
>>> 
>>> AGLCPPFLAGS=''
>>> AGLLIBS=''
>>> BUILD_AGL_TRUE='#'
>>> CC='gcc -arch x86_64 -std=gnu99'
>>> CFLAGS='-g -O2'
>>> CPP='gcc -arch x86_64 -std=gnu99 -E'
>>> CPPFLAGS='-I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/opt/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include'
>>> CXXFLAGS='-g -O2'
>>> DEFS=''
>>> ECHO_C='\c'
>>> ECHO_N=''
>>> ECHO_T=''
>>> EGREP=''
>>> EXEEXT=''
>>> GREP=''
>>> HAVE_FREETYPE_CONFIG=''
>>> HAVE_LIBPNG_CONFIG='yes'
>>> LDFLAGS=''
>>> LIBOBJS=''
>>> LIBS='-framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/opt/local/lib -lpng14 -lX11'
>>> LTLIBOBJS=''
>>> OBJEXT='o'
>>> PACKAGE_BUGREPORT=''
>>> PACKAGE_NAME=''
>>> PACKAGE_STRING=''
>>> PACKAGE_TARNAME=''
>>> PACKAGE_URL=''
>>> PACKAGE_VERSION=''
>>> PATH_SEPARATOR=':'
>>> SHELL='/bin/sh'
>>> XMKMF=''
>>> ac_ct_CC='gcc -arch x86_64 -std=gnu99'
>>> bindir='${exec_prefix}/bin'
>>> build_alias=''
>>> datadir='${datarootdir}'
>>> datarootdir='${prefix}/share'
>>> docdir='${datarootdir}/doc/${PACKAGE}'
>>> dvidir='${docdir}'
>>> exec_prefix='NONE'
>>> host_alias=''
>>> htmldir='${docdir}'
>>> includedir='${prefix}/include'
>>> infodir='${datarootdir}/info'
>>> libdir='${exec_prefix}/lib'
>>> libexecdir='${exec_prefix}/libexec'
>>> localedir='${datarootdir}/locale'
>>> localstatedir='${prefix}/var'
>>> mandir='${datarootdir}/man'
>>> oldincludedir='/usr/include'
>>> pdfdir='${docdir}'
>>> prefix='NONE'
>>> program_transform_name='s,x,x,'
>>> psdir='${docdir}'
>>> sbindir='${exec_prefix}/sbin'
>>> sharedstatedir='${prefix}/com'
>>> sysconfdir='${prefix}/etc'
>>> target_alias=''
>>> 
>>> ## ----------- ##
>>> ## confdefs.h. ##
>>> ## ----------- ##
>>> 
>>> /* confdefs.h */
>>> #define PACKAGE_NAME ""
>>> #define PACKAGE_TARNAME ""
>>> #define PACKAGE_VERSION ""
>>> #define PACKAGE_STRING ""
>>> #define PACKAGE_BUGREPORT ""
>>> #define PACKAGE_URL ""
>>> 
>>> configure: exit 1
>>> 
>>> 
>>> 
>>> 
>>>> 
>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>>>> 
>>>>>>>>>> There is still an issue in the rgl 0.92.798 code (opengl.hpp), though, it's including AGL/* instead of OpenGL/* which fails (hence CC to Duncan), but that's at compilation stage, not configuration.
>>>>>>>>>> 
>>>>>>>>>> BTW: why don't you just use
>>>>>>>>>> install.packages("rgl")
>>>>>>>>>> that works on Lion as well...
>>>>>>>>> 
>>>>>>>>> I installed all packages from source since I installed R from source and I remember reading somewhere that one should do it this way since the binaries are built to work with CRAN's binary installation of R. But if this does not create problems (please let me know), I'll give it a try.
>>>>>>>>> 
>>>>>>>> 
>>>>>>>> As long as your configuration is compatible (essentially you have to set r_arch properly) it works. It's not guaranteed to work if you use different compilers.
>>>>>>> 
>>>>>>> I tried:
>>>>>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>>>>>> 
>>>>>> 
>>>>>> Naw, you got wrong - I was talking about R configuration. Never mind then (you may want to read up on building R - see the R for Mac FAQ).
>>>>>> 
>>>>>> Cheers,
>>>>>> Simon
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>>> but the outcome was:
>>>>>>> 
>>>>>>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>>>>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>>>>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>>>>>> (as ?lib? is unspecified)
>>>>>>> --- Please select a CRAN mirror for use in this session ---
>>>>>>> Loading Tcl/Tk interface ... done
>>>>>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>>>>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>>>>>> opened URL
>>>>>>> ==================================================
>>>>>>> downloaded 1.6 Mb
>>>>>>> 
>>>>>>> * installing *source* package ?rgl? ...
>>>>>>> configure: error: unrecognized option: `--r_arch=x86_64'
>>>>>>> Try `./configure --help' for more information.
>>>>>>> ERROR: configuration failed for package ?rgl?
>>>>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>>>>> 
>>>>>>> The downloaded packages are in
>>>>>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpzmXkSd/downloaded_packages?
>>>>>>> Warning message:
>>>>>>> In install.packages("rgl", configure.args = "--r_arch=x86_64") :
>>>>>>> installation of package 'rgl' had non-zero exit status
>>>>>>>> 
>>>>>>> 
>>>>>>> How/Where should r_arch be specified?
>>>>>>> 
>>>>>>> Cheers,
>>>>>>> 
>>>>>>> Marius
>>>>>>> 
>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>>>> I just remember something: I installed the 64bit R version. Is this a problem for rgl?
>>>>>>>>> 
>>>>>>>> 
>>>>>>>> No.
>>>>>>>> 
>>>>>>>> Cheers,
>>>>>>>> Simon
>>>>>>>> 
>>>>>>>> 
>>>>>>>>> Cheers,
>>>>>>>>> 
>>>>>>>>> Marius
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> Cheers,
>>>>>>>>>> Simon
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> [PS: while at it - I'm a bit confused about the current setup, though, since it uses the (non-X11) OpenGL framework yet links X11;  Also it crashes when GLX is not supported (e.g. ssh tunneling). I remember that at some point in the past it was building native and X11 versions but what is left is some mix of both...]
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>>> Cheers,
>>>>>>>>>>> 
>>>>>>>>>>> Marius
>>>>>>>>>>> _______________________________________________
>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>> 
>>> 
>>> 
>> 
> 
> ETH Zurich
> Dr. Marius Hofert
> RiskLab, Department of Mathematics
> HG E 65.2
> R?mistrasse 101
> 8092 Zurich
> Switzerland
> 
> Phone +41 44 632 2423
> marius.hofert at math.ethz.ch
> http://www.math.ethz.ch/~hofertj
> 
> 


From marius.hofert at math.ethz.ch  Wed Oct 12 16:02:21 2011
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Wed, 12 Oct 2011 16:02:21 +0200
Subject: [R-SIG-Mac] rgl on 10.7: has anyone tried it?
In-Reply-To: <6E552968-F6B6-4076-8C75-BE2D74237D3F@r-project.org>
References: <3D7A8F7D-3070-411C-B495-7FC9323966F6@math.ethz.ch>
	<2C1156DA-EF1D-465E-97D3-6D7BED034235@r-project.org>
	<260575E9-D4DF-4B84-9FEB-0167DEB63311@math.ethz.ch>
	<85EA7578-1FA4-4434-BB91-6CEADA1EC633@r-project.org>
	<FA03479C-9CD8-47C7-9D3E-7D6919789267@math.ethz.ch>
	<EBFB29D6-F75B-4EC9-B752-60D3537FC858@r-project.org>
	<F063AF2A-0E69-497B-B427-C74E3BBF48FE@math.ethz.ch>
	<1B1F0DA7-6D98-4B49-8AEC-4491938B6146@r-project.org>
	<040854C0-D8EF-4498-9558-7E5D005198D4@math.ethz.ch>
	<6CE4AD50-B5CA-428B-8C28-FBE78CF88686@r-project.org>
	<A95AB3C6-91B6-4E0B-B6CF-77D0A80A87A5@math.ethz.ch>
	<6E552968-F6B6-4076-8C75-BE2D74237D3F@r-project.org>
Message-ID: <CF608054-6E43-4647-AADF-AA24FD6E0BE8@math.ethz.ch>

*Brilliant*, works!

Thank you very much for your (patience and) help, Simon!

Cheers,

Marius


On 2011-10-12, at 15:36 , Simon Urbanek wrote:

> 
> On Oct 12, 2011, at 9:17 AM, Marius Hofert wrote:
> 
>> Dear Simon,
>> 
>> thanks a lot for helping. Here is what I could figure out:
>> (1) the installation of macports created the following line in .profile:
>> export PATH=/opt/local/bin:/opt/local/sbin:$PATH
>> (2) I'm sure I had other stuff in .profile -- apparently they got overwritten by macports (seems nasty)
>> (3) (1) caused the opt-paths to appear in PATH
>> (4) I changed it to 
>> export PATH=$PATH:/opt/local/bin:/opt/local/sbin
>> (5) then I executed:
>> R CMD INSTALL rgl
>> 
>> This gave:
>> 
>> localhost:Downloads mhofert$ R CMD INSTALL rgl
>> * installing to library ?/Library/Frameworks/R.framework/library?
>> * installing *source* package ?rgl? ...
>> checking for gcc... gcc -arch x86_64 -std=gnu99
>> checking for C compiler default output file name... a.out
>> checking whether the C compiler works... yes
>> checking whether we are cross compiling... no
>> checking for suffix of executables... 
>> checking for suffix of object files... o
>> checking whether we are using the GNU C compiler... yes
>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>> checking whether we are using the GNU C compiler... (cached) yes
>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>> checking for libpng-config... yes
>> configure: using libpng-config
>> configure: using libpng dynamic linkage
>> checking for X... libraries , headers 
>> checking for glEnd in -lGL... yes
>> checking for gluProject in -lGLU... yes
>> checking for freetype-config... yes
>> configure: using Freetype and FTGL
>> configure: creating ./config.status
>> config.status: creating src/Makevars
>> ** libs
>> *** arch - x86_64
>> g++ -arch x86_64 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include -Iext -I/usr/local/include   -g -O2 -fPIC  -g -O2 -c BBoxDeco.cpp -o BBoxDeco.o
>> In file included from RenderContext.hpp:9,
>>                from BBoxDeco.hpp:14,
>>                from BBoxDeco.cpp:1:
>> opengl.hpp:11:20: error: AGL/gl.h: No such file or directory
>> opengl.hpp:12:21: error: AGL/glu.h: No such file or directory
>> make: *** [BBoxDeco.o] Error 1
>> ERROR: compilation failed for package ?rgl?
>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>> localhost:Downloads mhofert$ 
>> 
>> Do you know how to continue?
>> 
> 
> Yes, almost there :) - back to my first e-mail: you need to replace "AGL" with "OpenGL" in rgl/src/opengl.hpp
> 
> Cheers,
> Simon
> 
> 
>> Cheers,
>> 
>> Marius
>> 
>> Here the config.log:
>> 
>> This file contains any messages produced by compilers while
>> running configure, to aid debugging if configure makes a mistake.
>> 
>> It was created by configure, which was
>> generated by GNU Autoconf 2.64.  Invocation command line was
>> 
>> $ ./configure 
>> 
>> ## --------- ##
>> ## Platform. ##
>> ## --------- ##
>> 
>> hostname = localhost
>> uname -m = x86_64
>> uname -r = 11.0.1
>> uname -s = Darwin
>> uname -v = Darwin Kernel Version 11.0.1: Thu Jul 28 02:01:39 PDT 2011; root:xnu-1699.23.4~1/RELEASE_X86_64
>> 
>> /usr/bin/uname -p = i386
>> /bin/uname -X     = unknown
>> 
>> /bin/arch              = unknown
>> /usr/bin/arch -k       = unknown
>> /usr/convex/getsysinfo = unknown
>> /usr/bin/hostinfo      = Mach kernel version:
>> 	 Darwin Kernel Version 11.0.1: Thu Jul 28 02:01:39 PDT 2011; root:xnu-1699.23.4~1/RELEASE_X86_64
>> Kernel configured for up to 4 processors.
>> 2 processors are physically available.
>> 4 processors are logically available.
>> Processor type: i486 (Intel 80486)
>> Processors active: 0 1 2 3
>> Primary memory available: 4.00 gigabytes
>> Default processor set: 85 tasks, 363 threads, 4 processors
>> Load average: 0.66, Mach factor: 3.32
>> /bin/machine           = unknown
>> /usr/bin/oslevel       = unknown
>> /bin/universe          = unknown
>> 
>> PATH: /usr/bin
>> PATH: /bin
>> PATH: /usr/sbin
>> PATH: /sbin
>> PATH: /usr/local/bin
>> PATH: /usr/X11/bin
>> PATH: /usr/texbin
>> PATH: /opt/local/bin
>> PATH: /opt/local/sbin
>> 
>> 
>> ## ----------- ##
>> ## Core tests. ##
>> ## ----------- ##
>> 
>> configure:2106: checking for gcc
>> configure:2133: result: gcc -arch x86_64 -std=gnu99
>> configure:2362: checking for C compiler version
>> configure:2371: gcc -arch x86_64 -std=gnu99 --version >&5
>> i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
>> Copyright (C) 2007 Free Software Foundation, Inc.
>> This is free software; see the source for copying conditions.  There is NO
>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
>> 
>> configure:2382: $? = 0
>> configure:2371: gcc -arch x86_64 -std=gnu99 -v >&5
>> Using built-in specs.
>> Target: i686-apple-darwin11
>> Configured with: /private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/src/configure --disable-checking --enable-werror --prefix=/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1
>> Thread model: posix
>> gcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
>> configure:2382: $? = 0
>> configure:2371: gcc -arch x86_64 -std=gnu99 -V >&5
>> llvm-gcc-4.2: argument to `-V' is missing
>> configure:2382: $? = 1
>> configure:2371: gcc -arch x86_64 -std=gnu99 -qversion >&5
>> i686-apple-darwin11-llvm-gcc-4.2: no input files
>> configure:2382: $? = 1
>> configure:2404: checking for C compiler default output file name
>> configure:2426: gcc -arch x86_64 -std=gnu99 -g -O2   conftest.c  >&5
>> configure:2430: $? = 0
>> configure:2467: result: a.out
>> configure:2483: checking whether the C compiler works
>> configure:2492: ./a.out
>> configure:2496: $? = 0
>> configure:2511: result: yes
>> configure:2518: checking whether we are cross compiling
>> configure:2520: result: no
>> configure:2523: checking for suffix of executables
>> configure:2530: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2   conftest.c  >&5
>> configure:2534: $? = 0
>> configure:2556: result: 
>> configure:2562: checking for suffix of object files
>> configure:2584: gcc -arch x86_64 -std=gnu99 -c -g -O2  conftest.c >&5
>> configure:2588: $? = 0
>> configure:2609: result: o
>> configure:2613: checking whether we are using the GNU C compiler
>> configure:2632: gcc -arch x86_64 -std=gnu99 -c -g -O2  conftest.c >&5
>> configure:2632: $? = 0
>> configure:2641: result: yes
>> configure:2650: checking whether gcc -arch x86_64 -std=gnu99 accepts -g
>> configure:2670: gcc -arch x86_64 -std=gnu99 -c -g  conftest.c >&5
>> configure:2670: $? = 0
>> configure:2711: result: yes
>> configure:2728: checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89
>> configure:2792: gcc -arch x86_64 -std=gnu99  -c -g -O2  conftest.c >&5
>> configure:2792: $? = 0
>> configure:2805: result: none needed
>> configure:2830: checking how to run the C preprocessor
>> configure:2900: result: gcc -arch x86_64 -std=gnu99 -E
>> configure:2920: gcc -arch x86_64 -std=gnu99 -E  conftest.c
>> configure:2920: $? = 0
>> configure:2934: gcc -arch x86_64 -std=gnu99 -E  conftest.c
>> conftest.c:9:28: error: ac_nonexistent.h: No such file or directory
>> configure:2934: $? = 1
>> configure: failed program was:
>> | /* confdefs.h */
>> | #define PACKAGE_NAME ""
>> | #define PACKAGE_TARNAME ""
>> | #define PACKAGE_VERSION ""
>> | #define PACKAGE_STRING ""
>> | #define PACKAGE_BUGREPORT ""
>> | #define PACKAGE_URL ""
>> | /* end confdefs.h.  */
>> | #include <ac_nonexistent.h>
>> configure:3010: checking for gcc
>> configure:3037: result: gcc -arch x86_64 -std=gnu99
>> configure:3266: checking for C compiler version
>> configure:3275: gcc -arch x86_64 -std=gnu99 --version >&5
>> i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
>> Copyright (C) 2007 Free Software Foundation, Inc.
>> This is free software; see the source for copying conditions.  There is NO
>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
>> 
>> configure:3286: $? = 0
>> configure:3275: gcc -arch x86_64 -std=gnu99 -v >&5
>> Using built-in specs.
>> Target: i686-apple-darwin11
>> Configured with: /private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/src/configure --disable-checking --enable-werror --prefix=/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1
>> Thread model: posix
>> gcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
>> configure:3286: $? = 0
>> configure:3275: gcc -arch x86_64 -std=gnu99 -V >&5
>> llvm-gcc-4.2: argument to `-V' is missing
>> configure:3286: $? = 1
>> configure:3275: gcc -arch x86_64 -std=gnu99 -qversion >&5
>> i686-apple-darwin11-llvm-gcc-4.2: no input files
>> configure:3286: $? = 1
>> configure:3290: checking whether we are using the GNU C compiler
>> configure:3318: result: yes
>> configure:3327: checking whether gcc -arch x86_64 -std=gnu99 accepts -g
>> configure:3388: result: yes
>> configure:3405: checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89
>> configure:3482: result: none needed
>> configure:3545: checking for libpng-config
>> configure:3561: found /usr/X11/bin/libpng-config
>> configure:3573: result: yes
>> configure:3584: using libpng-config
>> configure:3588: using libpng dynamic linkage
>> configure:3955: checking for X
>> configure:4063: gcc -arch x86_64 -std=gnu99 -E  -DHAVE_PNG_H -I/usr/X11/include/libpng15 conftest.c
>> configure:4063: $? = 0
>> configure:4094: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2  -DHAVE_PNG_H -I/usr/X11/include/libpng15  conftest.c -lX11  -L/usr/X11/lib -lpng15 >&5
>> configure:4094: $? = 0
>> configure:4144: result: libraries , headers 
>> configure:4229: checking for glEnd in -lGL
>> configure:4254: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include  conftest.c -lGL  -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/usr/X11/lib -lpng15 -lX11 >&5
>> configure:4254: $? = 0
>> configure:4264: result: yes
>> configure:4291: checking for gluProject in -lGLU
>> configure:4316: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include  conftest.c -lGLU  -lGL -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/usr/X11/lib -lpng15 -lX11 >&5
>> configure:4316: $? = 0
>> configure:4326: result: yes
>> configure:4357: checking for freetype-config
>> configure:4373: found /usr/X11/bin/freetype-config
>> configure:4385: result: yes
>> configure:4398: using Freetype and FTGL
>> configure:4555: creating ./config.status
>> 
>> ## ---------------------- ##
>> ## Running config.status. ##
>> ## ---------------------- ##
>> 
>> This file was extended by config.status, which was
>> generated by GNU Autoconf 2.64.  Invocation command line was
>> 
>> CONFIG_FILES    = 
>> CONFIG_HEADERS  = 
>> CONFIG_LINKS    = 
>> CONFIG_COMMANDS = 
>> $ ./config.status 
>> 
>> on localhost
>> 
>> config.status:730: creating src/Makevars
>> 
>> ## ---------------- ##
>> ## Cache variables. ##
>> ## ---------------- ##
>> 
>> ac_cv_c_compiler_gnu=yes
>> ac_cv_env_CC_set=
>> ac_cv_env_CC_value=
>> ac_cv_env_CFLAGS_set=
>> ac_cv_env_CFLAGS_value=
>> ac_cv_env_CPPFLAGS_set=
>> ac_cv_env_CPPFLAGS_value=
>> ac_cv_env_CPP_set=
>> ac_cv_env_CPP_value=
>> ac_cv_env_LDFLAGS_set=
>> ac_cv_env_LDFLAGS_value=
>> ac_cv_env_LIBS_set=
>> ac_cv_env_LIBS_value=
>> ac_cv_env_XMKMF_set=
>> ac_cv_env_XMKMF_value=
>> ac_cv_env_build_alias_set=
>> ac_cv_env_build_alias_value=
>> ac_cv_env_host_alias_set=
>> ac_cv_env_host_alias_value=
>> ac_cv_env_target_alias_set=
>> ac_cv_env_target_alias_value=
>> ac_cv_have_x='have_x=yes	ac_x_includes='\'''\''	ac_x_libraries='\'''\'''
>> ac_cv_lib_GLU___gluProject=yes
>> ac_cv_lib_GL___glEnd=yes
>> ac_cv_objext=o
>> ac_cv_prog_CPP='gcc -arch x86_64 -std=gnu99 -E'
>> ac_cv_prog_HAVE_FREETYPE_CONFIG=yes
>> ac_cv_prog_HAVE_LIBPNG_CONFIG=yes
>> ac_cv_prog_ac_ct_CC='gcc -arch x86_64 -std=gnu99'
>> ac_cv_prog_cc_c89=
>> ac_cv_prog_cc_g=yes
>> 
>> ## ----------------- ##
>> ## Output variables. ##
>> ## ----------------- ##
>> 
>> AGLCPPFLAGS=' -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include'
>> AGLLIBS=' -L/usr/X11/lib -lfreetype -lz'
>> BUILD_AGL_TRUE='#'
>> CC='gcc -arch x86_64 -std=gnu99'
>> CFLAGS='-g -O2'
>> CPP='gcc -arch x86_64 -std=gnu99 -E'
>> CPPFLAGS='-I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/usr/X11/include/libpng15 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include -DHAVE_FREETYPE -Iext/ftgl -I/usr/X11/include/freetype2 -I/usr/X11/include'
>> CXXFLAGS='-g -O2'
>> DEFS='-DPACKAGE_NAME=\"\" -DPACKAGE_TARNAME=\"\" -DPACKAGE_VERSION=\"\" -DPACKAGE_STRING=\"\" -DPACKAGE_BUGREPORT=\"\" -DPACKAGE_URL=\"\" -DHAVE_LIBGL=1 -DHAVE_LIBGLU=1'
>> ECHO_C='\c'
>> ECHO_N=''
>> ECHO_T=''
>> EGREP=''
>> EXEEXT=''
>> GREP=''
>> HAVE_FREETYPE_CONFIG='yes'
>> HAVE_LIBPNG_CONFIG='yes'
>> LDFLAGS=''
>> LIBOBJS=''
>> LIBS='-lGLU -lGL -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/usr/X11/lib -lpng15 -lX11 -L/usr/X11/lib -lfreetype -lz'
>> LTLIBOBJS=''
>> OBJEXT='o'
>> PACKAGE_BUGREPORT=''
>> PACKAGE_NAME=''
>> PACKAGE_STRING=''
>> PACKAGE_TARNAME=''
>> PACKAGE_URL=''
>> PACKAGE_VERSION=''
>> PATH_SEPARATOR=':'
>> SHELL='/bin/sh'
>> XMKMF=''
>> ac_ct_CC='gcc -arch x86_64 -std=gnu99'
>> bindir='${exec_prefix}/bin'
>> build_alias=''
>> datadir='${datarootdir}'
>> datarootdir='${prefix}/share'
>> docdir='${datarootdir}/doc/${PACKAGE}'
>> dvidir='${docdir}'
>> exec_prefix='${prefix}'
>> host_alias=''
>> htmldir='${docdir}'
>> includedir='${prefix}/include'
>> infodir='${datarootdir}/info'
>> libdir='${exec_prefix}/lib'
>> libexecdir='${exec_prefix}/libexec'
>> localedir='${datarootdir}/locale'
>> localstatedir='${prefix}/var'
>> mandir='${datarootdir}/man'
>> oldincludedir='/usr/include'
>> pdfdir='${docdir}'
>> prefix='/usr/local'
>> program_transform_name='s,x,x,'
>> psdir='${docdir}'
>> sbindir='${exec_prefix}/sbin'
>> sharedstatedir='${prefix}/com'
>> sysconfdir='${prefix}/etc'
>> target_alias=''
>> 
>> ## ----------- ##
>> ## confdefs.h. ##
>> ## ----------- ##
>> 
>> /* confdefs.h */
>> #define PACKAGE_NAME ""
>> #define PACKAGE_TARNAME ""
>> #define PACKAGE_VERSION ""
>> #define PACKAGE_STRING ""
>> #define PACKAGE_BUGREPORT ""
>> #define PACKAGE_URL ""
>> #define HAVE_LIBGL 1
>> #define HAVE_LIBGLU 1
>> 
>> configure: exit 0
>> 
>> 
>> 
>> On 2011-10-12, at 00:54 , Simon Urbanek wrote:
>> 
>>> The issue seem in your setup - you should be using libraries from /usr/X11/lib (which is the default) but you are using stuff from /opt/local which is incomplete. Make sure your /opt/.. paths are *last* on your PATH, definitely after /usr/X11/bin.
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>> On Oct 11, 2011, at 6:44 PM, Marius Hofert wrote:
>>> 
>>>> 
>>>> On 2011-10-12, at 00:37 , Simon Urbanek wrote:
>>>> 
>>>>> 
>>>>> On Oct 11, 2011, at 6:33 PM, Marius Hofert wrote:
>>>>> 
>>>>>> 
>>>>>> On 2011-10-12, at 00:12 , Simon Urbanek wrote:
>>>>>> 
>>>>>>> 
>>>>>>> On Oct 11, 2011, at 6:01 PM, Marius Hofert wrote:
>>>>>>> 
>>>>>>>> 
>>>>>>>> On 2011-10-11, at 23:30 , Simon Urbanek wrote:
>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> On Oct 11, 2011, at 5:16 PM, Marius Hofert wrote:
>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> On 2011-10-11, at 23:04 , Simon Urbanek wrote:
>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>> On Oct 11, 2011, at 4:10 PM, Marius Hofert wrote:
>>>>>>>>>>> 
>>>>>>>>>>>> Dear all,
>>>>>>>>>>>> 
>>>>>>>>>>>> I tried to install the package rgl on 10.7. Here's the output:
>>>>>>>>>>>> 
>>>>>>>>>>>> ##############################################################################
>>>>>>>>>>>> 
>>>>>>>>>>>>> install.packages("rgl", type="source")
>>>>>>>>>>>> install.packages("rgl", type="source")
>>>>>>>>>>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>>>>>>>>>>> (as ?lib? is unspecified)
>>>>>>>>>>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>>>>>>>>>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>>>>>>>>>>> opened URL
>>>>>>>>>>>> ==================================================
>>>>>>>>>>>> downloaded 1.6 Mb
>>>>>>>>>>>> 
>>>>>>>>>>>> * installing *source* package ?rgl? ...
>>>>>>>>>>>> checking for gcc... gcc -arch x86_64 -std=gnu99
>>>>>>>>>>>> checking for C compiler default output file name... a.out
>>>>>>>>>>>> checking whether the C compiler works... yes
>>>>>>>>>>>> checking whether we are cross compiling... no
>>>>>>>>>>>> checking for suffix of executables... 
>>>>>>>>>>>> checking for suffix of object files... o
>>>>>>>>>>>> checking whether we are using the GNU C compiler... yes
>>>>>>>>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>>>>>>>>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>>>>>>>>>>>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>>>>>>>>>>>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>>>>>>>>>>>> checking whether we are using the GNU C compiler... (cached) yes
>>>>>>>>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>>>>>>>>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>>>>>>>>>>>> checking for libpng-config... yes
>>>>>>>>>>>> configure: using libpng-config
>>>>>>>>>>>> configure: using libpng dynamic linkage
>>>>>>>>>>>> checking for X... libraries , headers 
>>>>>>>>>>>> checking for glEnd in -lGL... no
>>>>>>>>>>>> configure: error: missing required library GL
>>>>>>>>>>>> ERROR: configuration failed for package ?rgl?
>>>>>>>>>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>>>>>>>>>> 
>>>>>>>>>>>> The downloaded packages are in
>>>>>>>>>>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpQ6nuVK/downloaded_packages?
>>>>>>>>>>>> Warning message:
>>>>>>>>>>>> In install.packages("rgl", type = "source") :
>>>>>>>>>>>> installation of package 'rgl' had non-zero exit status
>>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>>> ##############################################################################
>>>>>>>>>>>> 
>>>>>>>>>>>> Apparently, I'm missing the "GL" library. But how can I install it? I searched for it on the web and mainly found that the Mac should have Open GL already installed (?).
>>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>> Are you sure you installed X11 and Xcode4?
>>>>>>>>>> 
>>>>>>>>>> yes, both are installed.
>>>>>>>>>> 
>>>>>>>>>>> I have no problem with the *configuration* on vanilla Lion.
>>>>>>>>>> 
>>>>>>>>>> I installed about 30 packages today, everything worked fine. Hmmm... seems challenging to detect where the problem is.
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> If you want to do that, have a look at rgl/config.log - it will tell you what went wrong.
>>>>>>>>> 
>>>>>>>> 
>>>>>>>> Hi Simon,
>>>>>>>> 
>>>>>>>> do you know the full path of this file? I can't find it.0
>>>>>>>> 
>>>>>>> 
>>>>>>> It's in the rgl directory after you run R CMD INSTALL rgl
>>>>>> 
>>>>>> that's removed after the configure-trial:
>>>>>> 
>>>>>> bash-3.2$ R CMD INSTALL rgl_0.92.798.tar.gz 
>>>>>> * installing to library ?/Library/Frameworks/R.framework/library?
>>>>>> * installing *source* package ?rgl? ...
>>>>>> checking for gcc... gcc -arch x86_64 -std=gnu99
>>>>>> checking for C compiler default output file name... a.out
>>>>>> checking whether the C compiler works... yes
>>>>>> checking whether we are cross compiling... no
>>>>>> checking for suffix of executables... 
>>>>>> checking for suffix of object files... o
>>>>>> checking whether we are using the GNU C compiler... yes
>>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... yes
>>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... none needed
>>>>>> checking how to run the C preprocessor... gcc -arch x86_64 -std=gnu99 -E
>>>>>> checking for gcc... (cached) gcc -arch x86_64 -std=gnu99
>>>>>> checking whether we are using the GNU C compiler... (cached) yes
>>>>>> checking whether gcc -arch x86_64 -std=gnu99 accepts -g... (cached) yes
>>>>>> checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89... (cached) none needed
>>>>>> checking for libpng-config... yes
>>>>>> configure: using libpng-config
>>>>>> configure: using libpng dynamic linkage
>>>>>> checking for X... libraries , headers 
>>>>>> checking for glEnd in -lGL... no
>>>>>> configure: error: missing required library GL
>>>>>> ERROR: configuration failed for package ?rgl?
>>>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>>>> bash-3.2$ 
>>>>>> 
>>>>>> => there is no rgl folder (neither in /Library/Frameworks/R.framework/library nor in the folder in which the .tar.gz resides). 
>>>>>> 
>>>>> 
>>>>> As I said use R CMD INSTALL rgl, not on the tar ball
>>>>> S
>>>> 
>>>> Ahh, okay, now I get it :-)
>>>> Here's the config.log:
>>>> 
>>>> This file contains any messages produced by compilers while
>>>> running configure, to aid debugging if configure makes a mistake.
>>>> 
>>>> It was created by configure, which was
>>>> generated by GNU Autoconf 2.64.  Invocation command line was
>>>> 
>>>> $ ./configure 
>>>> 
>>>> ## --------- ##
>>>> ## Platform. ##
>>>> ## --------- ##
>>>> 
>>>> hostname = 80-218-246-245.dclient.hispeed.ch
>>>> uname -m = x86_64
>>>> uname -r = 11.0.1
>>>> uname -s = Darwin
>>>> uname -v = Darwin Kernel Version 11.0.1: Thu Jul 28 02:01:39 PDT 2011; root:xnu-1699.23.4~1/RELEASE_X86_64
>>>> 
>>>> /usr/bin/uname -p = i386
>>>> /bin/uname -X     = unknown
>>>> 
>>>> /bin/arch              = unknown
>>>> /usr/bin/arch -k       = unknown
>>>> /usr/convex/getsysinfo = unknown
>>>> /usr/bin/hostinfo      = Mach kernel version:
>>>> 	 Darwin Kernel Version 11.0.1: Thu Jul 28 02:01:39 PDT 2011; root:xnu-1699.23.4~1/RELEASE_X86_64
>>>> Kernel configured for up to 4 processors.
>>>> 2 processors are physically available.
>>>> 4 processors are logically available.
>>>> Processor type: i486 (Intel 80486)
>>>> Processors active: 0 1 2 3
>>>> Primary memory available: 4.00 gigabytes
>>>> Default processor set: 107 tasks, 499 threads, 4 processors
>>>> Load average: 0.91, Mach factor: 3.08
>>>> /bin/machine           = unknown
>>>> /usr/bin/oslevel       = unknown
>>>> /bin/universe          = unknown
>>>> 
>>>> PATH: /opt/local/bin
>>>> PATH: /opt/local/sbin
>>>> PATH: /usr/bin
>>>> PATH: /bin
>>>> PATH: /usr/sbin
>>>> PATH: /sbin
>>>> PATH: /usr/local/bin
>>>> PATH: /usr/X11/bin
>>>> PATH: /usr/texbin
>>>> 
>>>> 
>>>> ## ----------- ##
>>>> ## Core tests. ##
>>>> ## ----------- ##
>>>> 
>>>> configure:2106: checking for gcc
>>>> configure:2133: result: gcc -arch x86_64 -std=gnu99
>>>> configure:2362: checking for C compiler version
>>>> configure:2371: gcc -arch x86_64 -std=gnu99 --version >&5
>>>> i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
>>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>>> This is free software; see the source for copying conditions.  There is NO
>>>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
>>>> 
>>>> configure:2382: $? = 0
>>>> configure:2371: gcc -arch x86_64 -std=gnu99 -v >&5
>>>> Using built-in specs.
>>>> Target: i686-apple-darwin11
>>>> Configured with: /private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/src/configure --disable-checking --enable-werror --prefix=/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1
>>>> Thread model: posix
>>>> gcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
>>>> configure:2382: $? = 0
>>>> configure:2371: gcc -arch x86_64 -std=gnu99 -V >&5
>>>> llvm-gcc-4.2: argument to `-V' is missing
>>>> configure:2382: $? = 1
>>>> configure:2371: gcc -arch x86_64 -std=gnu99 -qversion >&5
>>>> i686-apple-darwin11-llvm-gcc-4.2: no input files
>>>> configure:2382: $? = 1
>>>> configure:2404: checking for C compiler default output file name
>>>> configure:2426: gcc -arch x86_64 -std=gnu99 -g -O2   conftest.c  >&5
>>>> configure:2430: $? = 0
>>>> configure:2467: result: a.out
>>>> configure:2483: checking whether the C compiler works
>>>> configure:2492: ./a.out
>>>> configure:2496: $? = 0
>>>> configure:2511: result: yes
>>>> configure:2518: checking whether we are cross compiling
>>>> configure:2520: result: no
>>>> configure:2523: checking for suffix of executables
>>>> configure:2530: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2   conftest.c  >&5
>>>> configure:2534: $? = 0
>>>> configure:2556: result: 
>>>> configure:2562: checking for suffix of object files
>>>> configure:2584: gcc -arch x86_64 -std=gnu99 -c -g -O2  conftest.c >&5
>>>> configure:2588: $? = 0
>>>> configure:2609: result: o
>>>> configure:2613: checking whether we are using the GNU C compiler
>>>> configure:2632: gcc -arch x86_64 -std=gnu99 -c -g -O2  conftest.c >&5
>>>> configure:2632: $? = 0
>>>> configure:2641: result: yes
>>>> configure:2650: checking whether gcc -arch x86_64 -std=gnu99 accepts -g
>>>> configure:2670: gcc -arch x86_64 -std=gnu99 -c -g  conftest.c >&5
>>>> configure:2670: $? = 0
>>>> configure:2711: result: yes
>>>> configure:2728: checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89
>>>> configure:2792: gcc -arch x86_64 -std=gnu99  -c -g -O2  conftest.c >&5
>>>> configure:2792: $? = 0
>>>> configure:2805: result: none needed
>>>> configure:2830: checking how to run the C preprocessor
>>>> configure:2900: result: gcc -arch x86_64 -std=gnu99 -E
>>>> configure:2920: gcc -arch x86_64 -std=gnu99 -E  conftest.c
>>>> configure:2920: $? = 0
>>>> configure:2934: gcc -arch x86_64 -std=gnu99 -E  conftest.c
>>>> conftest.c:9:28: error: ac_nonexistent.h: No such file or directory
>>>> configure:2934: $? = 1
>>>> configure: failed program was:
>>>> | /* confdefs.h */
>>>> | #define PACKAGE_NAME ""
>>>> | #define PACKAGE_TARNAME ""
>>>> | #define PACKAGE_VERSION ""
>>>> | #define PACKAGE_STRING ""
>>>> | #define PACKAGE_BUGREPORT ""
>>>> | #define PACKAGE_URL ""
>>>> | /* end confdefs.h.  */
>>>> | #include <ac_nonexistent.h>
>>>> configure:3010: checking for gcc
>>>> configure:3037: result: gcc -arch x86_64 -std=gnu99
>>>> configure:3266: checking for C compiler version
>>>> configure:3275: gcc -arch x86_64 -std=gnu99 --version >&5
>>>> i686-apple-darwin11-llvm-gcc-4.2 (GCC) 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
>>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>>> This is free software; see the source for copying conditions.  There is NO
>>>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
>>>> 
>>>> configure:3286: $? = 0
>>>> configure:3275: gcc -arch x86_64 -std=gnu99 -v >&5
>>>> Using built-in specs.
>>>> Target: i686-apple-darwin11
>>>> Configured with: /private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/src/configure --disable-checking --enable-werror --prefix=/Developer/usr/llvm-gcc-4.2 --mandir=/share/man --enable-languages=c,objc,c++,obj-c++ --program-prefix=llvm- --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib --build=i686-apple-darwin11 --enable-llvm=/private/var/tmp/llvmgcc42/llvmgcc42-2335.15~25/dst-llvmCore/Developer/usr/local --program-prefix=i686-apple-darwin11- --host=x86_64-apple-darwin11 --target=i686-apple-darwin11 --with-gxx-include-dir=/usr/include/c++/4.2.1
>>>> Thread model: posix
>>>> gcc version 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00)
>>>> configure:3286: $? = 0
>>>> configure:3275: gcc -arch x86_64 -std=gnu99 -V >&5
>>>> llvm-gcc-4.2: argument to `-V' is missing
>>>> configure:3286: $? = 1
>>>> configure:3275: gcc -arch x86_64 -std=gnu99 -qversion >&5
>>>> i686-apple-darwin11-llvm-gcc-4.2: no input files
>>>> configure:3286: $? = 1
>>>> configure:3290: checking whether we are using the GNU C compiler
>>>> configure:3318: result: yes
>>>> configure:3327: checking whether gcc -arch x86_64 -std=gnu99 accepts -g
>>>> configure:3388: result: yes
>>>> configure:3405: checking for gcc -arch x86_64 -std=gnu99 option to accept ISO C89
>>>> configure:3482: result: none needed
>>>> configure:3545: checking for libpng-config
>>>> configure:3561: found /opt/local/bin/libpng-config
>>>> configure:3573: result: yes
>>>> configure:3584: using libpng-config
>>>> configure:3588: using libpng dynamic linkage
>>>> configure:3955: checking for X
>>>> configure:4063: gcc -arch x86_64 -std=gnu99 -E  -DHAVE_PNG_H -I/opt/local/include/libpng14 conftest.c
>>>> configure:4063: $? = 0
>>>> configure:4094: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2  -DHAVE_PNG_H -I/opt/local/include/libpng14  conftest.c -lX11  -L/opt/local/lib -lpng14 >&5
>>>> configure:4094: $? = 0
>>>> configure:4144: result: libraries , headers 
>>>> configure:4229: checking for glEnd in -lGL
>>>> configure:4254: gcc -arch x86_64 -std=gnu99 -o conftest -g -O2 -I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/opt/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include  conftest.c -lGL  -framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/opt/local/lib -lpng14 -lX11 >&5
>>>> ld: library not found for -lGL
>>>> collect2: ld returned 1 exit status
>>>> configure:4254: $? = 1
>>>> configure: failed program was:
>>>> | /* confdefs.h */
>>>> | #define PACKAGE_NAME ""
>>>> | #define PACKAGE_TARNAME ""
>>>> | #define PACKAGE_VERSION ""
>>>> | #define PACKAGE_STRING ""
>>>> | #define PACKAGE_BUGREPORT ""
>>>> | #define PACKAGE_URL ""
>>>> | /* end confdefs.h.  */
>>>> | 
>>>> | /* Override any GCC internal prototype to avoid an error.
>>>> |    Use char because int might match the return type of a GCC
>>>> |    builtin and then its argument prototype would still apply.  */
>>>> | #ifdef __cplusplus
>>>> | extern "C"
>>>> | #endif
>>>> | char glEnd ();
>>>> | int
>>>> | main ()
>>>> | {
>>>> | return glEnd ();
>>>> |   ;
>>>> |   return 0;
>>>> | }
>>>> configure:4264: result: no
>>>> configure:4278: error: missing required library GL
>>>> 
>>>> ## ---------------- ##
>>>> ## Cache variables. ##
>>>> ## ---------------- ##
>>>> 
>>>> ac_cv_c_compiler_gnu=yes
>>>> ac_cv_env_CC_set=
>>>> ac_cv_env_CC_value=
>>>> ac_cv_env_CFLAGS_set=
>>>> ac_cv_env_CFLAGS_value=
>>>> ac_cv_env_CPPFLAGS_set=
>>>> ac_cv_env_CPPFLAGS_value=
>>>> ac_cv_env_CPP_set=
>>>> ac_cv_env_CPP_value=
>>>> ac_cv_env_LDFLAGS_set=
>>>> ac_cv_env_LDFLAGS_value=
>>>> ac_cv_env_LIBS_set=
>>>> ac_cv_env_LIBS_value=
>>>> ac_cv_env_XMKMF_set=
>>>> ac_cv_env_XMKMF_value=
>>>> ac_cv_env_build_alias_set=
>>>> ac_cv_env_build_alias_value=
>>>> ac_cv_env_host_alias_set=
>>>> ac_cv_env_host_alias_value=
>>>> ac_cv_env_target_alias_set=
>>>> ac_cv_env_target_alias_value=
>>>> ac_cv_have_x='have_x=yes	ac_x_includes='\'''\''	ac_x_libraries='\'''\'''
>>>> ac_cv_lib_GL___glEnd=no
>>>> ac_cv_objext=o
>>>> ac_cv_prog_CPP='gcc -arch x86_64 -std=gnu99 -E'
>>>> ac_cv_prog_HAVE_LIBPNG_CONFIG=yes
>>>> ac_cv_prog_ac_ct_CC='gcc -arch x86_64 -std=gnu99'
>>>> ac_cv_prog_cc_c89=
>>>> ac_cv_prog_cc_g=yes
>>>> 
>>>> ## ----------------- ##
>>>> ## Output variables. ##
>>>> ## ----------------- ##
>>>> 
>>>> AGLCPPFLAGS=''
>>>> AGLLIBS=''
>>>> BUILD_AGL_TRUE='#'
>>>> CC='gcc -arch x86_64 -std=gnu99'
>>>> CFLAGS='-g -O2'
>>>> CPP='gcc -arch x86_64 -std=gnu99 -E'
>>>> CPPFLAGS='-I/System/Library/Frameworks/OpenGL.framework/Headers  -DHAVE_PNG_H -I/opt/local/include/libpng14 -DDarwin -DNO_GL_PREFIX -I/usr/X11R6/include'
>>>> CXXFLAGS='-g -O2'
>>>> DEFS=''
>>>> ECHO_C='\c'
>>>> ECHO_N=''
>>>> ECHO_T=''
>>>> EGREP=''
>>>> EXEEXT=''
>>>> GREP=''
>>>> HAVE_FREETYPE_CONFIG=''
>>>> HAVE_LIBPNG_CONFIG='yes'
>>>> LDFLAGS=''
>>>> LIBOBJS=''
>>>> LIBS='-framework OpenGL -dylib_file /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib:/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib  -L/opt/local/lib -lpng14 -lX11'
>>>> LTLIBOBJS=''
>>>> OBJEXT='o'
>>>> PACKAGE_BUGREPORT=''
>>>> PACKAGE_NAME=''
>>>> PACKAGE_STRING=''
>>>> PACKAGE_TARNAME=''
>>>> PACKAGE_URL=''
>>>> PACKAGE_VERSION=''
>>>> PATH_SEPARATOR=':'
>>>> SHELL='/bin/sh'
>>>> XMKMF=''
>>>> ac_ct_CC='gcc -arch x86_64 -std=gnu99'
>>>> bindir='${exec_prefix}/bin'
>>>> build_alias=''
>>>> datadir='${datarootdir}'
>>>> datarootdir='${prefix}/share'
>>>> docdir='${datarootdir}/doc/${PACKAGE}'
>>>> dvidir='${docdir}'
>>>> exec_prefix='NONE'
>>>> host_alias=''
>>>> htmldir='${docdir}'
>>>> includedir='${prefix}/include'
>>>> infodir='${datarootdir}/info'
>>>> libdir='${exec_prefix}/lib'
>>>> libexecdir='${exec_prefix}/libexec'
>>>> localedir='${datarootdir}/locale'
>>>> localstatedir='${prefix}/var'
>>>> mandir='${datarootdir}/man'
>>>> oldincludedir='/usr/include'
>>>> pdfdir='${docdir}'
>>>> prefix='NONE'
>>>> program_transform_name='s,x,x,'
>>>> psdir='${docdir}'
>>>> sbindir='${exec_prefix}/sbin'
>>>> sharedstatedir='${prefix}/com'
>>>> sysconfdir='${prefix}/etc'
>>>> target_alias=''
>>>> 
>>>> ## ----------- ##
>>>> ## confdefs.h. ##
>>>> ## ----------- ##
>>>> 
>>>> /* confdefs.h */
>>>> #define PACKAGE_NAME ""
>>>> #define PACKAGE_TARNAME ""
>>>> #define PACKAGE_VERSION ""
>>>> #define PACKAGE_STRING ""
>>>> #define PACKAGE_BUGREPORT ""
>>>> #define PACKAGE_URL ""
>>>> 
>>>> configure: exit 1
>>>> 
>>>> 
>>>> 
>>>> 
>>>>> 
>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>>>> 
>>>>>>>>>>> There is still an issue in the rgl 0.92.798 code (opengl.hpp), though, it's including AGL/* instead of OpenGL/* which fails (hence CC to Duncan), but that's at compilation stage, not configuration.
>>>>>>>>>>> 
>>>>>>>>>>> BTW: why don't you just use
>>>>>>>>>>> install.packages("rgl")
>>>>>>>>>>> that works on Lion as well...
>>>>>>>>>> 
>>>>>>>>>> I installed all packages from source since I installed R from source and I remember reading somewhere that one should do it this way since the binaries are built to work with CRAN's binary installation of R. But if this does not create problems (please let me know), I'll give it a try.
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> As long as your configuration is compatible (essentially you have to set r_arch properly) it works. It's not guaranteed to work if you use different compilers.
>>>>>>>> 
>>>>>>>> I tried:
>>>>>>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>>>>>>> 
>>>>>>> 
>>>>>>> Naw, you got wrong - I was talking about R configuration. Never mind then (you may want to read up on building R - see the R for Mac FAQ).
>>>>>>> 
>>>>>>> Cheers,
>>>>>>> Simon
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>>> but the outcome was:
>>>>>>>> 
>>>>>>>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>>>>>>> install.packages("rgl", configure.args="--r_arch=x86_64")
>>>>>>>> Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>>>>>>> (as ?lib? is unspecified)
>>>>>>>> --- Please select a CRAN mirror for use in this session ---
>>>>>>>> Loading Tcl/Tk interface ... done
>>>>>>>> trying URL 'http://stat.ethz.ch/CRAN/src/contrib/rgl_0.92.798.tar.gz'
>>>>>>>> Content type 'application/x-gzip' length 1677772 bytes (1.6 Mb)
>>>>>>>> opened URL
>>>>>>>> ==================================================
>>>>>>>> downloaded 1.6 Mb
>>>>>>>> 
>>>>>>>> * installing *source* package ?rgl? ...
>>>>>>>> configure: error: unrecognized option: `--r_arch=x86_64'
>>>>>>>> Try `./configure --help' for more information.
>>>>>>>> ERROR: configuration failed for package ?rgl?
>>>>>>>> * removing ?/Library/Frameworks/R.framework/library/rgl?
>>>>>>>> 
>>>>>>>> The downloaded packages are in
>>>>>>>> 	?/private/var/folders/5r/fpc7qzk55ll71t9j8l9d1d_00000gn/T/RtmpzmXkSd/downloaded_packages?
>>>>>>>> Warning message:
>>>>>>>> In install.packages("rgl", configure.args = "--r_arch=x86_64") :
>>>>>>>> installation of package 'rgl' had non-zero exit status
>>>>>>>>> 
>>>>>>>> 
>>>>>>>> How/Where should r_arch be specified?
>>>>>>>> 
>>>>>>>> Cheers,
>>>>>>>> 
>>>>>>>> Marius
>>>>>>>> 
>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>>> I just remember something: I installed the 64bit R version. Is this a problem for rgl?
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> No.
>>>>>>>>> 
>>>>>>>>> Cheers,
>>>>>>>>> Simon
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>>> Cheers,
>>>>>>>>>> 
>>>>>>>>>> Marius
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>> Cheers,
>>>>>>>>>>> Simon
>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>> [PS: while at it - I'm a bit confused about the current setup, though, since it uses the (non-X11) OpenGL framework yet links X11;  Also it crashes when GLX is not supported (e.g. ssh tunneling). I remember that at some point in the past it was building native and X11 versions but what is left is some mix of both...]
>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>>> Cheers,
>>>>>>>>>>>> 
>>>>>>>>>>>> Marius
>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>> 
>>>> 
>>>> 
>>> 
>> 
>> ETH Zurich
>> Dr. Marius Hofert
>> RiskLab, Department of Mathematics
>> HG E 65.2
>> R?mistrasse 101
>> 8092 Zurich
>> Switzerland
>> 
>> Phone +41 44 632 2423
>> marius.hofert at math.ethz.ch
>> http://www.math.ethz.ch/~hofertj
>> 
>> 
> 

ETH Zurich
Dr. Marius Hofert
RiskLab, Department of Mathematics
HG E 65.2
R?mistrasse 101
8092 Zurich
Switzerland

Phone +41 44 632 2423
marius.hofert at math.ethz.ch
http://www.math.ethz.ch/~hofertj


From jfox at mcmaster.ca  Wed Oct 12 18:11:26 2011
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 12 Oct 2011 12:11:26 -0400
Subject: [R-SIG-Mac] [R] How to run Rcmdr with OS 10.4?
In-Reply-To: <5cd8c9c3-268f-47b3-8a29-8f19ccc5b63a@zimbra60-e10.priv.proxad.net>
References: <06070454-dfed-4905-8174-b08a2ce8d212@zimbra60-e10.priv.proxad.net>
	<5cd8c9c3-268f-47b3-8a29-8f19ccc5b63a@zimbra60-e10.priv.proxad.net>
Message-ID: <004f01cc88f9$985da550$c918eff0$@mcmaster.ca>

Dear rocher.f,

I'm moving this discussion to the r-sig-mac list, where you're more likely to get an informative response.

The Rcmdr package did work with Mac OS X 10.4 and versions 2.9.2 and 2.10.2 of R, but all of these versions are quite old, and I'm afraid that I no longer have an OS X 10.4 system. Maybe someone else with better memory of Mac OS X versions and older versions of R for the Mac will be able to tell you what to do. I do recall something about starting up X11 directly.

It looks as if the problem lies with Tcl/Tk, and you could check that by loading and testing the tcltk package independently of the Rcmdr, e.g.,

library(tcltk)
example(tkProgressBar)

Best,
 John

--------------------------------
John Fox
Senator William McMaster
  Professor of Social Statistics
Department of Sociology
McMaster University
Hamilton, Ontario, Canada
http://socserv.mcmaster.ca/jfox





> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On
> Behalf Of rocher.f at free.fr
> Sent: October-11-11 6:44 AM
> To: r-help at r-project.org
> Subject: [R] How to run Rcmdr with OS 10.4?
> 
> 
> I've installed Rcmdr package and it doesn't run Here is the error message:
> 
> 
> R version 2.9.2 (2009-08-24)
> [R.app GUI 1.29 (5464) powerpc-apple-darwin8.11.1]
> 
> [Workspace restored from /Users/jfc/Documents/TravauxFR/.RData]
> 
> Le chargement a n?cessit? le package : tcltk Chargement de Tcl/Tk... termin?
> Le chargement a n?cessit? le package : car Error in
> structure(.External("dotTclObjv", objv, PACKAGE = "tcltk"), class = "tclObj")
> :
>   [tcl] invalid command name "font".
> 
> De plus : Warning message:
> In fun(...) : couldn't connect to display ":0"
> Error : .onAttach a ?chou? dans 'attachNamespace'
> Erreur : le chargement du package / espace de noms a ?chou? pour 'Rcmdr'
> 
> 
> I've tried another version 2.10.2 and Rcmdr with its dependences and it
> returns the same warnings!
> I feel that something lacks on my computer. X11 works and I've installed
> TcTlk 8.5.5-x11.
> 
> What else to do?
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From lucam1968 at gmail.com  Thu Oct 13 11:45:41 2011
From: lucam1968 at gmail.com (Luca Meyer)
Date: Thu, 13 Oct 2011 11:45:41 +0200
Subject: [R-SIG-Mac] How to overcome Java error?
In-Reply-To: <mailman.19.1318327205.4063.r-sig-mac@r-project.org>
References: <mailman.19.1318327205.4063.r-sig-mac@r-project.org>
Message-ID: <B384643B-0A4A-4AE7-B840-9DDB3E71BFDD@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111013/10ba4795/attachment.pl>

From simon.urbanek at r-project.org  Thu Oct 13 17:05:14 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 13 Oct 2011 11:05:14 -0400
Subject: [R-SIG-Mac] How to overcome Java error?
In-Reply-To: <B384643B-0A4A-4AE7-B840-9DDB3E71BFDD@gmail.com>
References: <mailman.19.1318327205.4063.r-sig-mac@r-project.org>
	<B384643B-0A4A-4AE7-B840-9DDB3E71BFDD@gmail.com>
Message-ID: <5C7C8A07-1D65-4CED-AE2B-22C2749ECD81@r-project.org>

Luca,

On Oct 13, 2011, at 5:45 AM, Luca Meyer wrote:

> Hi,
> 
> I have to upload data from more than 200 separated excel pages and I am using the read.xlsx function in the xlsx package. Each sheet is an articulated page (made of more than one table plus extra data) and I need to load into a R data frame the different elements I find in each page. This procedure needs to be repeated several times - i.e. on more than one excel file.
> 
> Initially I did not have problems and the script run just fine providing the desired data frame. After running a few hundreds sheets now I get this error after I upload each page:
> 
> Errore in .jcall("RJavaTools", "Ljava/lang/Object;", "invokeMethod", cl,  : 
>  java.lang.OutOfMemoryError: Java heap space
> 
> Has this to do with some sort of cache that is being filled up? Can anyone suggest a solution to this error?
> 

Well, you're running out of memory on the Java side. First, did you run gc()? You should make sure that you don't keep any references around unnecessarily, since memory cannot be released until they are collected.

I did run a quick test with rJava memory profiling enabled and I see no leaks in rJava:

ginaz:~$ R -e 'library(xlsx); d=read.xlsx("/Users/urbanek/Downloads/Acme Coffin Company.xls",1); gc()' | ./mem.match
Loading required package: xlsxjars
Loading required package: rJava

SUM[Leaked objects]: 0
SUM[Used objects]: 253

So if you see any issues even after running gc(), it will be hard to trace. It could be in the Java code used by xlsx (which I don't know how to trace) or in theory some local places in the infrastructure that are not covered by the memory traces (the above counts Java objects referenced from R). You may have some luck using java.lang.management to look into Java usage. Also you can force Java to run its own garbage collector using
.jcall("java/lang/System",,"gc")
but I doubt that it will help, since Java would have run it before running out of memory.

Finally, you could increase the Java heap if you have enough memory - for example to use 2Gb:

library(rJava)
.jinit(parameters="-Xmx2g")

but that's just delaying the problem.

So, again, make sure you run gc() after you're done with each worksheet and see if the problem persists.

Cheers,
Simon


From lucam1968 at gmail.com  Thu Oct 13 21:10:44 2011
From: lucam1968 at gmail.com (Luca Meyer)
Date: Thu, 13 Oct 2011 21:10:44 +0200
Subject: [R-SIG-Mac] How to overcome Java error?
In-Reply-To: <5C7C8A07-1D65-4CED-AE2B-22C2749ECD81@r-project.org>
References: <mailman.19.1318327205.4063.r-sig-mac@r-project.org>
	<B384643B-0A4A-4AE7-B840-9DDB3E71BFDD@gmail.com>
	<5C7C8A07-1D65-4CED-AE2B-22C2749ECD81@r-project.org>
Message-ID: <8E31B4F3-05A0-4BFD-8C25-2B02F6B349ED@gmail.com>

Hello Simon,

The gc() solution after loading each sheet works.

Thanks!
Luca

Il giorno 13/ott/2011, alle ore 17.05, Simon Urbanek ha scritto:

> Luca,
> 
> On Oct 13, 2011, at 5:45 AM, Luca Meyer wrote:
> 
>> Hi,
>> 
>> I have to upload data from more than 200 separated excel pages and I am using the read.xlsx function in the xlsx package. Each sheet is an articulated page (made of more than one table plus extra data) and I need to load into a R data frame the different elements I find in each page. This procedure needs to be repeated several times - i.e. on more than one excel file.
>> 
>> Initially I did not have problems and the script run just fine providing the desired data frame. After running a few hundreds sheets now I get this error after I upload each page:
>> 
>> Errore in .jcall("RJavaTools", "Ljava/lang/Object;", "invokeMethod", cl,  : 
>> java.lang.OutOfMemoryError: Java heap space
>> 
>> Has this to do with some sort of cache that is being filled up? Can anyone suggest a solution to this error?
>> 
> 
> Well, you're running out of memory on the Java side. First, did you run gc()? You should make sure that you don't keep any references around unnecessarily, since memory cannot be released until they are collected.
> 
> I did run a quick test with rJava memory profiling enabled and I see no leaks in rJava:
> 
> ginaz:~$ R -e 'library(xlsx); d=read.xlsx("/Users/urbanek/Downloads/Acme Coffin Company.xls",1); gc()' | ./mem.match
> Loading required package: xlsxjars
> Loading required package: rJava
> 
> SUM[Leaked objects]: 0
> SUM[Used objects]: 253
> 
> So if you see any issues even after running gc(), it will be hard to trace. It could be in the Java code used by xlsx (which I don't know how to trace) or in theory some local places in the infrastructure that are not covered by the memory traces (the above counts Java objects referenced from R). You may have some luck using java.lang.management to look into Java usage. Also you can force Java to run its own garbage collector using
> .jcall("java/lang/System",,"gc")
> but I doubt that it will help, since Java would have run it before running out of memory.
> 
> Finally, you could increase the Java heap if you have enough memory - for example to use 2Gb:
> 
> library(rJava)
> .jinit(parameters="-Xmx2g")
> 
> but that's just delaying the problem.
> 
> So, again, make sure you run gc() after you're done with each worksheet and see if the problem persists.
> 
> Cheers,
> Simon
> 
> 


From stvjc at channing.harvard.edu  Fri Oct 14 12:45:27 2011
From: stvjc at channing.harvard.edu (Vincent Carey)
Date: Fri, 14 Oct 2011 06:45:27 -0400
Subject: [R-SIG-Mac] 2.14.0 alpha hangs after fg after ctrl-Z
Message-ID: <CAANT7+U04r1a0J8gBbjwOvU9GqDNRNxNBk00qKiNY6GLEC5U0g@mail.gmail.com>

i am running R version 2.14.0 alpha (2011-10-03 r57154) in an X11
terminal.  i build from source.
i often use ctrl-Z to pause the session and return to it via fg.  i
find that R hangs upon fg -- it does not
respond to ctrl-C and ctrl-\ takes some time to give a shell back.
Problem is not present in my
linux build of r57208.

> sessionInfo()
R version 2.14.0 alpha (2011-10-03 r57154)
Platform: x86_64-apple-darwin10.8.0/x86_64 (64-bit)

locale:
[1] en_US.US-ASCII/en_US.US-ASCII/en_US.US-ASCII/C/en_US.US-ASCII/en_US.US-ASCII

attached base packages:
[1] stats     graphics  grDevices datasets  utils     tools     methods
[8] base

other attached packages:
[1] BiocInstaller_1.1.28 weaver_1.19.2        codetools_0.2-8
[4] digest_0.5.1


From stvjc at channing.harvard.edu  Sat Oct 15 13:18:28 2011
From: stvjc at channing.harvard.edu (Vincent Carey)
Date: Sat, 15 Oct 2011 07:18:28 -0400
Subject: [R-SIG-Mac] 2.14.0 alpha hangs after fg after ctrl-Z
Message-ID: <CAANT7+UkGGOYdNGztBsu0mPDpFrxFPDBzKM3NvXGJyQ2k3FL2Q@mail.gmail.com>

On Sat, Oct 15, 2011 at 6:00 AM,  <r-sig-mac-request at r-project.org> wrote:
> Send R-SIG-Mac mailing list submissions to
> ? ? ? ?r-sig-mac at r-project.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
> ? ? ? ?https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> or, via email, send a message with subject or body 'help' to
> ? ? ? ?r-sig-mac-request at r-project.org
>
> You can reach the person managing the list at
> ? ? ? ?r-sig-mac-owner at r-project.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of R-SIG-Mac digest..."
>
>
> Today's Topics:
>
> ? 1. ?2.14.0 alpha hangs after fg after ctrl-Z (Vincent Carey)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Fri, 14 Oct 2011 06:45:27 -0400
> From: Vincent Carey <stvjc at channing.harvard.edu>
> To: r-sig-mac at r-project.org
> Subject: [R-SIG-Mac] 2.14.0 alpha hangs after fg after ctrl-Z
> Message-ID:
> ? ? ? ?<CAANT7+U04r1a0J8gBbjwOvU9GqDNRNxNBk00qKiNY6GLEC5U0g at mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> i am running R version 2.14.0 alpha (2011-10-03 r57154) in an X11
> terminal. ?i build from source.
> i often use ctrl-Z to pause the session and return to it via fg. ?i
> find that R hangs upon fg -- it does not
> respond to ctrl-C and ctrl-\ takes some time to give a shell back.
> Problem is not present in my
> linux build of r57208.

Could this be a consequence of the intention of the build on MacOSX to
be run through
the GUI?  I did not see any configure switches that would lead to an
alternative build that would
allow job control through the shell.

>
>> sessionInfo()
> R version 2.14.0 alpha (2011-10-03 r57154)
> Platform: x86_64-apple-darwin10.8.0/x86_64 (64-bit)
>
> locale:
> [1] en_US.US-ASCII/en_US.US-ASCII/en_US.US-ASCII/C/en_US.US-ASCII/en_US.US-ASCII
>
> attached base packages:
> [1] stats ? ? graphics ?grDevices datasets ?utils ? ? tools ? ? methods
> [8] base
>
> other attached packages:
> [1] BiocInstaller_1.1.28 weaver_1.19.2 ? ? ? ?codetools_0.2-8
> [4] digest_0.5.1
>
>
>
> ------------------------------
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
> End of R-SIG-Mac Digest, Vol 104, Issue 20
> ******************************************
>


From simon.urbanek at r-project.org  Sat Oct 15 15:19:52 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 15 Oct 2011 09:19:52 -0400
Subject: [R-SIG-Mac] 2.14.0 alpha hangs after fg after ctrl-Z
In-Reply-To: <CAANT7+U04r1a0J8gBbjwOvU9GqDNRNxNBk00qKiNY6GLEC5U0g@mail.gmail.com>
References: <CAANT7+U04r1a0J8gBbjwOvU9GqDNRNxNBk00qKiNY6GLEC5U0g@mail.gmail.com>
Message-ID: <FD63437E-4E5E-4B74-B624-6C07EA265A04@r-project.org>


On Oct 14, 2011, at 6:45 AM, Vincent Carey wrote:

> i am running R version 2.14.0 alpha (2011-10-03 r57154) in an X11
> terminal.  i build from source.
> i often use ctrl-Z to pause the session and return to it via fg.  i
> find that R hangs upon fg -- it does not
> respond to ctrl-C and ctrl-\ takes some time to give a shell back.
> Problem is not present in my
> linux build of r57208.
> 

I cannot replicate this with the CRAN build of R -- here R version 2.14.0 alpha (2011-10-10 r57211).
Assuming that your reproducible example is
R
<Ctrl><Z>
fg

It works just fine (both xterm and Terminal). So

a) can you, please, check the CRAN build of R and see if you see the same problem?

b) provide exact details about how you compiled R (configure flags) as well as all 3rd part libraries you used so we can try to reproduce it?

Cheers,
Simon


>> sessionInfo()
> R version 2.14.0 alpha (2011-10-03 r57154)
> Platform: x86_64-apple-darwin10.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_US.US-ASCII/en_US.US-ASCII/en_US.US-ASCII/C/en_US.US-ASCII/en_US.US-ASCII
> 
> attached base packages:
> [1] stats     graphics  grDevices datasets  utils     tools     methods
> [8] base
> 
> other attached packages:
> [1] BiocInstaller_1.1.28 weaver_1.19.2        codetools_0.2-8
> [4] digest_0.5.1
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From stvjc at channing.harvard.edu  Sat Oct 15 16:55:41 2011
From: stvjc at channing.harvard.edu (Vincent Carey)
Date: Sat, 15 Oct 2011 10:55:41 -0400
Subject: [R-SIG-Mac] 2.14.0 alpha hangs after fg after ctrl-Z
In-Reply-To: <FD63437E-4E5E-4B74-B624-6C07EA265A04@r-project.org>
References: <CAANT7+U04r1a0J8gBbjwOvU9GqDNRNxNBk00qKiNY6GLEC5U0g@mail.gmail.com>
	<FD63437E-4E5E-4B74-B624-6C07EA265A04@r-project.org>
Message-ID: <CAANT7+V-bigFesCd0R3eZjJMQ6YxZrb-RCgrPoPP-g4pO345+Q@mail.gmail.com>

This is resolved subsequent to a readline upgrade to 6.2.  Thanks for checking.

On Sat, Oct 15, 2011 at 9:19 AM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> On Oct 14, 2011, at 6:45 AM, Vincent Carey wrote:
>
>> i am running R version 2.14.0 alpha (2011-10-03 r57154) in an X11
>> terminal. ?i build from source.
>> i often use ctrl-Z to pause the session and return to it via fg. ?i
>> find that R hangs upon fg -- it does not
>> respond to ctrl-C and ctrl-\ takes some time to give a shell back.
>> Problem is not present in my
>> linux build of r57208.
>>
>
> I cannot replicate this with the CRAN build of R -- here R version 2.14.0 alpha (2011-10-10 r57211).
> Assuming that your reproducible example is
> R
> <Ctrl><Z>
> fg
>
> It works just fine (both xterm and Terminal). So
>
> a) can you, please, check the CRAN build of R and see if you see the same problem?
>
> b) provide exact details about how you compiled R (configure flags) as well as all 3rd part libraries you used so we can try to reproduce it?
>
> Cheers,
> Simon
>
>
>>> sessionInfo()
>> R version 2.14.0 alpha (2011-10-03 r57154)
>> Platform: x86_64-apple-darwin10.8.0/x86_64 (64-bit)
>>
>> locale:
>> [1] en_US.US-ASCII/en_US.US-ASCII/en_US.US-ASCII/C/en_US.US-ASCII/en_US.US-ASCII
>>
>> attached base packages:
>> [1] stats ? ? graphics ?grDevices datasets ?utils ? ? tools ? ? methods
>> [8] base
>>
>> other attached packages:
>> [1] BiocInstaller_1.1.28 weaver_1.19.2 ? ? ? ?codetools_0.2-8
>> [4] digest_0.5.1
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
>


From fongchun at interchange.ubc.ca  Thu Oct 20 02:25:04 2011
From: fongchun at interchange.ubc.ca (Fong Chun Chan)
Date: Wed, 19 Oct 2011 17:25:04 -0700
Subject: [R-SIG-Mac] Font Families and Cairo
Message-ID: <CAB-BZ9J0QUhx-wPFgrz8aL==9JRb1G=eFPexAmgVTeLQLEsB+A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111019/9438c29f/attachment.pl>

From ripley at stats.ox.ac.uk  Thu Oct 20 06:05:47 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 20 Oct 2011 05:05:47 +0100
Subject: [R-SIG-Mac] Font Families and Cairo
In-Reply-To: <CAB-BZ9J0QUhx-wPFgrz8aL==9JRb1G=eFPexAmgVTeLQLEsB+A@mail.gmail.com>
References: <CAB-BZ9J0QUhx-wPFgrz8aL==9JRb1G=eFPexAmgVTeLQLEsB+A@mail.gmail.com>
Message-ID: <alpine.LFD.2.02.1110200457500.12090@gannet.stats.ox.ac.uk>

On Wed, 19 Oct 2011, Fong Chun Chan wrote:

> Hi,
>
> I've been searching around the web and I found this thread which discusses
> exactly the same problem that I am facing when using Cairo on my Mac.  When

Oh you are using a Mac!  You failed to say that in
https://stat.ethz.ch/pipermail/r-help/2011-October/293119.html
(and you are still not giving the 'at a minimum' information required 
in the posting guide).

> I use the following code:
>
> library(Cairo)
> Cairo(file='cairo_created', type='pdf', dpi=100)
> plot(1:10)
> dev.off()
>
> This produces a pdf with the text italicized.  The same code but using pdf()
> as the graphics device:
>
> pdf(file='pdf_created.pdf')
> plot(1:10)
> dev.off()
>
> Creates a text without italics.  According to Simon, a work around could be
> achieved by doing the following:
>
> CairoFonts("Arial:style
> =Regular","Arial:style=Bold","Arial:style=Italic","Helvetica","Symbol")
>
> But from my understanding this just replaces the Helvetica font with the
> Arial font.  Is there a solution that works if I still want to use
> Helvetica?

Well, you already told us one: use pdf().

You could also use R's built-in cairo_pdf() device (which has some bug 
fixes not in the Cairo package).

> Thanks,
>
> Fong
>
> 	[[alternative HTML version deleted]]

It also asked you not to send HTML.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From fongchun at interchange.ubc.ca  Thu Oct 20 06:13:56 2011
From: fongchun at interchange.ubc.ca (Fong Chun Chan)
Date: Wed, 19 Oct 2011 21:13:56 -0700
Subject: [R-SIG-Mac] Font Families and Cairo
In-Reply-To: <alpine.LFD.2.02.1110200457500.12090@gannet.stats.ox.ac.uk>
References: <CAB-BZ9J0QUhx-wPFgrz8aL==9JRb1G=eFPexAmgVTeLQLEsB+A@mail.gmail.com>
	<alpine.LFD.2.02.1110200457500.12090@gannet.stats.ox.ac.uk>
Message-ID: <CAB-BZ9Jxy_-rTmXssBast68cGoYp3iAdVA4kyKDfeg9LoLkBww@mail.gmail.com>

Thanks for the reply. ?My bad on the forgetting to post my OS and
other minimum information. ?I'll make sure to review it before I post
next time.

I've turned it to plain text in my gmail hopefully that circumvents
the html issue.

Fong

On Wed, Oct 19, 2011 at 9:05 PM, Prof Brian Ripley
<ripley at stats.ox.ac.uk> wrote:
>
> On Wed, 19 Oct 2011, Fong Chun Chan wrote:
>
>> Hi,
>>
>> I've been searching around the web and I found this thread which discusses
>> exactly the same problem that I am facing when using Cairo on my Mac. ?When
>
> Oh you are using a Mac! ?You failed to say that in
> https://stat.ethz.ch/pipermail/r-help/2011-October/293119.html
> (and you are still not giving the 'at a minimum' information required in the posting guide).
>
>> I use the following code:
>>
>> library(Cairo)
>> Cairo(file='cairo_created', type='pdf', dpi=100)
>> plot(1:10)
>> dev.off()
>>
>> This produces a pdf with the text italicized. ?The same code but using pdf()
>> as the graphics device:
>>
>> pdf(file='pdf_created.pdf')
>> plot(1:10)
>> dev.off()
>>
>> Creates a text without italics. ?According to Simon, a work around could be
>> achieved by doing the following:
>>
>> CairoFonts("Arial:style
>> =Regular","Arial:style=Bold","Arial:style=Italic","Helvetica","Symbol")
>>
>> But from my understanding this just replaces the Helvetica font with the
>> Arial font. ?Is there a solution that works if I still want to use
>> Helvetica?
>
> Well, you already told us one: use pdf().
>
> You could also use R's built-in cairo_pdf() device (which has some bug fixes not in the Cairo package).
>
>> Thanks,
>>
>> Fong
>>
>> ? ? ? ?[[alternative HTML version deleted]]
>
> It also asked you not to send HTML.
>
> --
> Brian D. Ripley, ? ? ? ? ? ? ? ? ?ripley at stats.ox.ac.uk
> Professor of Applied Statistics, ?http://www.stats.ox.ac.uk/~ripley/
> University of Oxford, ? ? ? ? ? ? Tel: ?+44 1865 272861 (self)
> 1 South Parks Road, ? ? ? ? ? ? ? ? ? ? +44 1865 272866 (PA)
> Oxford OX1 3TG, UK ? ? ? ? ? ? ? ?Fax: ?+44 1865 272595


From f.calboli at imperial.ac.uk  Thu Oct 20 15:49:22 2011
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Thu, 20 Oct 2011 14:49:22 +0100
Subject: [R-SIG-Mac] Java error loading deducer
Message-ID: <1250180D-D94F-4E62-A0BC-0154FC9D191B@imperial.ac.uk>

Hi All,

I would like to try the library 'Deducer' (http://www.deducer.org/pmwiki/pmwiki.php?n=Main.DeducerManual), because I have to introduce my other half to R. I installed JGR and Deducer and all the required libraries, but I get a java error:

[using the R64 Mac GUI]

> library(Deducer)
Loading required package: rJava
Loading required package: ggplot2
Loading required package: reshape
Loading required package: plyr

Attaching package: 'reshape'

The following object(s) are masked from 'package:plyr':

    rename, round_any

Loading required package: grid
Loading required package: proto
Loading required package: JGR
Loading required package: JavaGD
Loading required package: iplots
Note: On Mac OS X we strongly recommend using iplots from within JGR.
Proceed at your own risk as iplots cannot resolve potential ev.loop deadlocks.
'Yes' is assumed for all dialogs as they cannot be shown without a deadlock,
also ievent.wait() is disabled.
Error : .onLoad failed in loadNamespace() for 'iplots', details:
  call: .jnew("org/rosuda/iplots/Framework")
  error: java.lang.InternalError: Can't start the AWT because Java was started on the first thread.  Make sure StartOnFirstThread is not specified in your application's Info.plist or on the command line
Error: package 'iplots' could not be loaded

I am using R version 2.13.2 (2011-09-30), on an intel Mac running OS 10.7.2.

I am not clear which Info.plist I should look at, and I would welcome any suggestion.

Cheers

Federico


--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From MMason at benaroyaresearch.org  Thu Oct 20 17:17:29 2011
From: MMason at benaroyaresearch.org (Michael Mason)
Date: Thu, 20 Oct 2011 15:17:29 +0000
Subject: [R-SIG-Mac] Trouble installing BMA package
Message-ID: <B39DC21A-B8BF-4413-8CC6-6EB71A308EFA@benaroyaresearch.org>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111020/7e2c0370/attachment.pl>

From simon.urbanek at r-project.org  Thu Oct 20 17:19:34 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 20 Oct 2011 11:19:34 -0400
Subject: [R-SIG-Mac] Java error loading deducer
In-Reply-To: <1250180D-D94F-4E62-A0BC-0154FC9D191B@imperial.ac.uk>
References: <1250180D-D94F-4E62-A0BC-0154FC9D191B@imperial.ac.uk>
Message-ID: <67ACD72F-13C2-4ED6-A3D5-92CF977D3607@r-project.org>

Federico,

you have to load Deducer from JGR, you can't load it in a "regular" R session. Download the JGR launcher from the JGR website:
for Mac OS X 10.6 or higher:
http://rforge.net/JGR/web-files/JGR-1.6-SL.dmg
for Mac OS X 10.5:
http://rforge.net/JGR/web-files/JGR.dmg

and then double-click on the JGR icon to start it (typically you can copy it to Applications first, but it's not mandated).

Cheers,
Simon

PS: you can use stats-rosuda-devel mailing list for questions about JGR, Deducer etc.


On Oct 20, 2011, at 9:49 AM, Federico Calboli wrote:

> Hi All,
> 
> I would like to try the library 'Deducer' (http://www.deducer.org/pmwiki/pmwiki.php?n=Main.DeducerManual), because I have to introduce my other half to R. I installed JGR and Deducer and all the required libraries, but I get a java error:
> 
> [using the R64 Mac GUI]
> 
>> library(Deducer)
> Loading required package: rJava
> Loading required package: ggplot2
> Loading required package: reshape
> Loading required package: plyr
> 
> Attaching package: 'reshape'
> 
> The following object(s) are masked from 'package:plyr':
> 
>    rename, round_any
> 
> Loading required package: grid
> Loading required package: proto
> Loading required package: JGR
> Loading required package: JavaGD
> Loading required package: iplots
> Note: On Mac OS X we strongly recommend using iplots from within JGR.
> Proceed at your own risk as iplots cannot resolve potential ev.loop deadlocks.
> 'Yes' is assumed for all dialogs as they cannot be shown without a deadlock,
> also ievent.wait() is disabled.
> Error : .onLoad failed in loadNamespace() for 'iplots', details:
>  call: .jnew("org/rosuda/iplots/Framework")
>  error: java.lang.InternalError: Can't start the AWT because Java was started on the first thread.  Make sure StartOnFirstThread is not specified in your application's Info.plist or on the command line
> Error: package 'iplots' could not be loaded
> 
> I am using R version 2.13.2 (2011-09-30), on an intel Mac running OS 10.7.2.
> 
> I am not clear which Info.plist I should look at, and I would welcome any suggestion.
> 
> Cheers
> 
> Federico
> 
> 
> --
> Federico C. F. Calboli
> Neuroepidemiology and Ageing Research
> Imperial College, St. Mary's Campus
> Norfolk Place, London W2 1PG
> 
> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
> 
> f.calboli [.a.t] imperial.ac.uk
> f.calboli [.a.t] gmail.com
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From simon.urbanek at r-project.org  Thu Oct 20 17:23:09 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 20 Oct 2011 11:23:09 -0400
Subject: [R-SIG-Mac] Trouble installing BMA package
In-Reply-To: <B39DC21A-B8BF-4413-8CC6-6EB71A308EFA@benaroyaresearch.org>
References: <B39DC21A-B8BF-4413-8CC6-6EB71A308EFA@benaroyaresearch.org>
Message-ID: <644A12E9-AB4B-4A42-BA3F-8F7C391A9234@r-project.org>


On Oct 20, 2011, at 11:17 AM, Michael Mason wrote:

> To whom it may concern,
> 
> I am unable to install BMA (not BaM).  am using the MAC OS Lion with R version is R2.13. I am using a Washington state mirror ( 82: USA (WA 1) )
> I have also tried:
> 83: USA (WA 2)
> 70: USA (CA 1)
> 29: Germany (Berlin)
> without any success.
> 

Please use the CRAN master site (cran.r-project.org) to avoid mirror issues. Alternatively you can use the canonical Mac binary source site which is http://r.research.att.com

Cheers,
Simon


> What is interesting to me is that nothing is downloaded when I call install.packages for BMA. Other packages install without a problem. Also, when I try to download the binary or source using a web browser nothing happens and the page just stalls. Below is the call and the error returned.
> 
> Thanks for any help,
> Mike
> 
> 
> install.packages("BMA")
> trying URL 'http://cran.cs.wwu.edu/bin/macosx/leopard/contrib/2.13/BMA_3.14.1.tgz'
> Content type 'application/x-gzip' length 196762 bytes (192 Kb)
> opened URL
> 
> downloaded 0 bytes
> 
> 
> The downloaded packages are in
> /var/folders/0h/tcngk0rn1rvdlg4b68f5ds6c0000gn/T//RtmpN7Imzi/downloaded_packages
> Warning messages:
> 1: In download.file(url, destfile, method, mode = "wb", ...) :
> downloaded length 0 != reported length 196762
> 2: In file.rename(file.path(tmpDir, pkgname), instPath) :
> cannot rename file '/Library/Frameworks/R.framework/Versions/2.13/Resources/library/file6f1e72d/BMA' to '/Library/Frameworks/R.framework/Versions/2.13/Resources/library/BMA', reason 'No such file or directory'
> 3: unable to move temporary installation '/Library/Frameworks/R.framework/Versions/2.13/Resources/library/file6f1e72d/BMA' to '/Library/Frameworks/R.framework/Versions/2.13/Resources/library/BMA'
> 
> 
> 
> ________________________________
> --CONFIDENTIALITY NOTICE--: The information contained in this email is intended for the exclusive use of the addressee and may contain confidential information. If you are not the intended recipient, you are hereby notified that any form of dissemination of this communication is strictly prohibited. www.benaroyaresearch.org
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From f.calboli at imperial.ac.uk  Thu Oct 20 17:27:44 2011
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Thu, 20 Oct 2011 16:27:44 +0100
Subject: [R-SIG-Mac] Java error loading deducer
In-Reply-To: <67ACD72F-13C2-4ED6-A3D5-92CF977D3607@r-project.org>
References: <1250180D-D94F-4E62-A0BC-0154FC9D191B@imperial.ac.uk>
	<67ACD72F-13C2-4ED6-A3D5-92CF977D3607@r-project.org>
Message-ID: <E284C4BE-2E38-40B2-B77C-847928237004@imperial.ac.uk>

On 20 Oct 2011, at 16:19, Simon Urbanek wrote:

> Federico,
> 
> you have to load Deducer from JGR, you can't load it in a "regular" R session. Download the JGR launcher from the JGR website:
> for Mac OS X 10.6 or higher:
> http://rforge.net/JGR/web-files/JGR-1.6-SL.dmg
> for Mac OS X 10.5:
> http://rforge.net/JGR/web-files/JGR.dmg
> 
> and then double-click on the JGR icon to start it (typically you can copy it to Applications first, but it's not mandated).
> 
> Cheers,
> Simon
> 
> PS: you can use stats-rosuda-devel mailing list for questions about JGR, Deducer etc.

Ah ha! Many thanks, it works now. I just want something my wife can use 'with a mouse'. I suspect she is not ready for the CLI?

Best wishes,

Federico


--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From burgette at rand.org  Thu Oct 20 23:54:44 2011
From: burgette at rand.org (Burgette, Lane)
Date: Thu, 20 Oct 2011 21:54:44 +0000
Subject: [R-SIG-Mac] Difficulty installing package that works on Windows
Message-ID: <CAC610E2.1DF1%burgette@rand.org>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111020/f7370dd4/attachment.pl>

From ripley at stats.ox.ac.uk  Fri Oct 21 07:35:09 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 21 Oct 2011 06:35:09 +0100 (BST)
Subject: [R-SIG-Mac] Difficulty installing package that works on Windows
In-Reply-To: <CAC610E2.1DF1%burgette@rand.org>
References: <CAC610E2.1DF1%burgette@rand.org>
Message-ID: <alpine.LFD.2.02.1110210629160.2371@gannet.stats.ox.ac.uk>

On Thu, 20 Oct 2011, Burgette, Lane wrote:

> Hi Everyone,
>
> I'm having problems installing a package locally from source on my 
> Mac.  It was developed on a Windows 7 machine (x86-64) and loads 
> without incident under Windows (both x86-32 and x86-64) and Linux. 
> When I try to install, it steps through a bunch of g++ calls, and 
> then gives the following error message:

The actual command here has been truncated ....

> L/Library/Frameworks/R.framework/Resources/lib/x86_64 -lRblas 
> -lgfortran -F/Library/Frameworks/R.framework/.. -framework R 
> -Wl,-framework -Wl,CoreFoundation 
> /Library/Frameworks/R.framework/Versions/2.13/Resources/library/Rcpp/lib/x86_64/libRcpp.a: 
> line 1: syntax error near unexpected token `newline' 
> /Library/Frameworks/R.framework/Versions/2.13/Resources/library/Rcpp/lib/x86_64/libRcpp.a: 
> line 1: `!<arch>' installing to 
> /Library/Frameworks/R.framework/Versions/2.13/Resources/library/growcurves/libs/x86_64
>
> In the end, it fails to load.  (See below.)  I assume this is due to these errors.  Any thoughts as to what I am doing wrong?

I don't think you are: the problem seems to be in the way Rcpp's 
library is built.  You could try rebuilding it, then ask on Rcpp's 
lists.

>
> Thanks,
>
> Lane
>
>
> ** R
> ** data
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices ...
> ** testing if installed package can be loaded
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  unable to load shared object '/Library/Frameworks/R.framework/Versions/2.13/Resources/library/growcurves/libs/x86_64/growcurves.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/2.13/Resources/library/growcurves/libs/x86_64/growcurves.so, 6): Symbol not found: __ZTIN4Rcpp12not_a_matrixE
>  Referenced from: /Library/Frameworks/R.framework/Versions/2.13/Resources/library/growcurves/libs/x86_64/growcurves.so
>  Expected in: flat namespace
> in /Library/Frameworks/R.framework/Versions/2.13/Resources/library/growcurves/libs/x86_64/growcurves.so
> Error: loading failed
> Execution halted
> ERROR: loading failed
> * removing '/Library/Frameworks/R.framework/Versions/2.13/Resources/library/growcurves'
>
>
>> sessionInfo()
> R version 2.13.2 (2011-09-30)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] grid      stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] ggplot2_0.8.9        proto_0.3-9.2        reshape_0.8.4        plyr_1.6             RcppArmadillo_0.2.29
> [6] Rcpp_0.9.7
>
>
> __________________________________________________________________________
>
> This email message is for the sole use of the intended r...{{dropped:9}}
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From yamamotos2011 at gmail.com  Sun Oct  2 08:49:32 2011
From: yamamotos2011 at gmail.com (S Yamamoto)
Date: Sun, 02 Oct 2011 06:49:32 -0000
Subject: [R-SIG-Mac] R stop responding after print()
Message-ID: <CAO9EqkaePacPy-TPsWvn5GHu5k+rv2AS19RvM5JqnHJ2ykaPwQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111002/2833d94f/attachment.pl>

From rocher.f at free.fr  Wed Oct 12 19:10:32 2011
From: rocher.f at free.fr (rocher.f at free.fr)
Date: Wed, 12 Oct 2011 19:10:32 +0200 (CEST)
Subject: [R-SIG-Mac] [R] How to run Rcmdr with OS 10.4?
In-Reply-To: <004f01cc88f9$985da550$c918eff0$@mcmaster.ca>
Message-ID: <d0c2ee54-7cf2-4a68-a9d4-7a28ae56a691@zimbra60-e10.priv.proxad.net>

Dear Professor,

Thank you for your help.
Yes I daily work with OS X4??and I know how R run better and faster with OS X6 : they're installed on my private computer! Unfortunately, I don't need statistics at home!!

Concerning my problem, I've checked it and you're right : tcltk doesn't work correctly. Here is the warning message :

> library(tcltk)
> example(tkProgressBar)

tkPrgB> ## No test: 
tkPrgB> pb <- tkProgressBar("test progress bar", "Some information in %",
tkPrgB+                     0, 100, 50)
Erreur dans structure(.External("dotTclObjv", objv, PACKAGE = "tcltk"), class = "tclObj") : 
  [tcl] invalid command name "toplevel".


It looks like an environment problem? but I don't understand what.

Best regards,

F. Rocher



----- Mail original -----
De: "John Fox" <jfox at mcmaster.ca>
?: "rocher f" <rocher.f at free.fr>
Cc: r-sig-mac at r-project.org
Envoy?: Mercredi 12 Octobre 2011 18:11:26
Objet: RE: [R] How to run Rcmdr with OS 10.4?

Dear rocher.f,

I'm moving this discussion to the r-sig-mac list, where you're more likely to get an informative response.

The Rcmdr package did work with Mac OS X 10.4 and versions 2.9.2 and 2.10.2 of R, but all of these versions are quite old, and I'm afraid that I no longer have an OS X 10.4 system. Maybe someone else with better memory of Mac OS X versions and older versions of R for the Mac will be able to tell you what to do. I do recall something about starting up X11 directly.

It looks as if the problem lies with Tcl/Tk, and you could check that by loading and testing the tcltk package independently of the Rcmdr, e.g.,

library(tcltk)
example(tkProgressBar)

Best,
 John

--------------------------------
John Fox
Senator William McMaster
  Professor of Social Statistics
Department of Sociology
McMaster University
Hamilton, Ontario, Canada
http://socserv.mcmaster.ca/jfox





> -----Original Message-----
> From: r-help-bounces at r-project.org [mailto:r-help-bounces at r-project.org] On
> Behalf Of rocher.f at free.fr
> Sent: October-11-11 6:44 AM
> To: r-help at r-project.org
> Subject: [R] How to run Rcmdr with OS 10.4?
> 
> 
> I've installed Rcmdr package and it doesn't run Here is the error message:
> 
> 
> R version 2.9.2 (2009-08-24)
> [R.app GUI 1.29 (5464) powerpc-apple-darwin8.11.1]
> 
> [Workspace restored from /Users/jfc/Documents/TravauxFR/.RData]
> 
> Le chargement a n?cessit? le package : tcltk Chargement de Tcl/Tk... termin?
> Le chargement a n?cessit? le package : car Error in
> structure(.External("dotTclObjv", objv, PACKAGE = "tcltk"), class = "tclObj")
> :
>   [tcl] invalid command name "font".
> 
> De plus : Warning message:
> In fun(...) : couldn't connect to display ":0"
> Error : .onAttach a ?chou? dans 'attachNamespace'
> Erreur : le chargement du package / espace de noms a ?chou? pour 'Rcmdr'
> 
> 
> I've tried another version 2.10.2 and Rcmdr with its dependences and it
> returns the same warnings!
> I feel that something lacks on my computer. X11 works and I've installed
> TcTlk 8.5.5-x11.
> 
> What else to do?
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From rhawkin2 at earthlink.net  Fri Oct 14 01:39:03 2011
From: rhawkin2 at earthlink.net (Raymond Hawkins)
Date: Thu, 13 Oct 2011 16:39:03 -0700
Subject: [R-SIG-Mac] Error: could not find function "n.bins"
Message-ID: <33563E41-D13C-4A4F-B28D-0059B5CFC7B1@earthlink.net>

I just upgraded R on my MacBook Pro and seem to have lost the "n.bins" function in the car library. Session appended below; suggestions welcome. Thx. -Ray

----------------------------------------------------------------------------------------

R version 2.13.2 (2011-09-30)
Copyright (C) 2011 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

[R.app GUI 1.42 (5910) x86_64-apple-darwin9.8.0]

> library(car)
Loading required package: MASS
Loading required package: nnet
Loading required package: survival
Loading required package: splines
> data(Prestige)
> attach(Prestige)
The following object(s) are masked from 'package:datasets':

    women
> Prestige[1:5,]
                    education income women prestige census type
gov.administrators      13.11  12351 11.16     68.8   1113 prof
general.managers        12.26  25879  4.02     69.1   1130 prof
accountants             12.77   9271 15.70     63.4   1171 prof
purchasing.officers     11.42   8865  9.11     56.8   1175 prof
chemists                14.62   8403 11.68     73.5   2111 prof
> n.bins(income)
Error: could not find function "n.bins"
>


From sdavis2 at mail.nih.gov  Sat Oct 22 14:53:36 2011
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Sat, 22 Oct 2011 08:53:36 -0400
Subject: [R-SIG-Mac] Error: could not find function "n.bins"
In-Reply-To: <33563E41-D13C-4A4F-B28D-0059B5CFC7B1@earthlink.net>
References: <33563E41-D13C-4A4F-B28D-0059B5CFC7B1@earthlink.net>
Message-ID: <CANeAVBkOu35dZZAy_503JeggjyO9hi5W2AxiAyriz=QSoRU1mg@mail.gmail.com>

This is not a Mac or even R question since it has to do with a
specific package.  That said, I would suggest reading the NEWS file
for the car package:

news(package='car')

If you still have questions after that, consider contacting the package author.

Sean


On Thu, Oct 13, 2011 at 7:39 PM, Raymond Hawkins <rhawkin2 at earthlink.net> wrote:
> I just upgraded R on my MacBook Pro and seem to have lost the "n.bins" function in the car library. Session appended below; suggestions welcome. Thx. -Ray
>
> ----------------------------------------------------------------------------------------
>
> R version 2.13.2 (2011-09-30)
> Copyright (C) 2011 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
>
> ?Natural language support but running in an English locale
>
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
>
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
>
> [R.app GUI 1.42 (5910) x86_64-apple-darwin9.8.0]
>
>> library(car)
> Loading required package: MASS
> Loading required package: nnet
> Loading required package: survival
> Loading required package: splines
>> data(Prestige)
>> attach(Prestige)
> The following object(s) are masked from 'package:datasets':
>
> ? ?women
>> Prestige[1:5,]
> ? ? ? ? ? ? ? ? ? ?education income women prestige census type
> gov.administrators ? ? ?13.11 ?12351 11.16 ? ? 68.8 ? 1113 prof
> general.managers ? ? ? ?12.26 ?25879 ?4.02 ? ? 69.1 ? 1130 prof
> accountants ? ? ? ? ? ? 12.77 ? 9271 15.70 ? ? 63.4 ? 1171 prof
> purchasing.officers ? ? 11.42 ? 8865 ?9.11 ? ? 56.8 ? 1175 prof
> chemists ? ? ? ? ? ? ? ?14.62 ? 8403 11.68 ? ? 73.5 ? 2111 prof
>> n.bins(income)
> Error: could not find function "n.bins"
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From matlabnewsgroup at gmail.com  Mon Oct 24 23:43:19 2011
From: matlabnewsgroup at gmail.com (Kathryn Lan)
Date: Mon, 24 Oct 2011 16:43:19 -0500
Subject: [R-SIG-Mac] problem installing geepack package
Message-ID: <CAJ6CZrn-rwto0OBW=s8vV78njQ6Ux9r=B06atoSSsDRV5qTv1w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111024/bcc37535/attachment.pl>

From ripley at stats.ox.ac.uk  Tue Oct 25 09:23:18 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 25 Oct 2011 08:23:18 +0100 (BST)
Subject: [R-SIG-Mac] problem installing geepack package
In-Reply-To: <CAJ6CZrn-rwto0OBW=s8vV78njQ6Ux9r=B06atoSSsDRV5qTv1w@mail.gmail.com>
References: <CAJ6CZrn-rwto0OBW=s8vV78njQ6Ux9r=B06atoSSsDRV5qTv1w@mail.gmail.com>
Message-ID: <alpine.LFD.2.02.1110250801340.8171@gannet.stats.ox.ac.uk>

This is something you need to take up with the geepack maintainer (who 
is also the doBy maintainer).  I find his misuse of Depends 
ridiculous: we have Suggests and Enhances for such loose dependencies.

You can easily get snow, as a source or a binary package.

Did you update your packages?  Several packages which came with 2.13.2 
have updates available: one is Matrix.

lme4 is tied to a specific version of Matrix, and the Mac binary 
package repository for 2.13.2 has versions of Matrix (0.999375-50) and 
lme4 (0.999375-40) which do not work together for me.  But the current 
Matrix is 1.0-1 and current lme4 is 0.999375-42. So AFAIK the only 
option is to install these packages from their sources.

Simon: the binary repository on the CRAN master for 2.14.0 has not be 
updated for 4 weeks and is rather incomplete, and clearly the 2.13.2 
area needs some updates.  With 2.14.0 less than a week away, this is 
getting urgent.

Brian


On Mon, 24 Oct 2011, Kathryn Lan wrote:

> Hello,
>
> I am a new R-user.  I have a Mac OS.X 10.6.8.  I have downloaded R version
> 2.13.2 (2011-09-30) onto my computer and been able to use basic stats
> function.   Now I want to use the geepack package and when I try to load it
> using library(geepack), it says I have to load these dependencies.
> Apparently, some of these packages successfully loaded but some were not
> (doBy and lme4).  The doBy needs the snow package which R says I don't have,
> and I don't also have lme4 package.   I'm wondering why there's so much
> trouble trying to load this geepack.  What is the primary problem behind
> this?
>
> Thank you for your help.
>
>
>
>
>> library(geepack)
> Loading required package: doBy
> Loading required package: survival
> Loading required package: splines
> Loading required package: R2HTML
> Loading required package: multcomp
> Loading required package: mvtnorm
> Loading required package: lme4
> Loading required package: Matrix
> Loading required package: lattice
>
> Attaching package: 'Matrix'
>
> The following object(s) are masked from 'package:base':
>
>    det
>
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  function 'cholmod_l_start' not provided by package 'Matrix'
> Error: package 'lme4' could not be loaded
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Tue Oct 25 16:30:01 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 25 Oct 2011 10:30:01 -0400
Subject: [R-SIG-Mac] problem installing geepack package
In-Reply-To: <alpine.LFD.2.02.1110250801340.8171@gannet.stats.ox.ac.uk>
References: <CAJ6CZrn-rwto0OBW=s8vV78njQ6Ux9r=B06atoSSsDRV5qTv1w@mail.gmail.com>
	<alpine.LFD.2.02.1110250801340.8171@gannet.stats.ox.ac.uk>
Message-ID: <3DC1C11A-6713-4F24-B540-0B010BE30E86@r-project.org>


On Oct 25, 2011, at 3:23 AM, Prof Brian Ripley wrote:

> This is something you need to take up with the geepack maintainer (who is also the doBy maintainer).  I find his misuse of Depends ridiculous: we have Suggests and Enhances for such loose dependencies.
> 
> You can easily get snow, as a source or a binary package.
> 
> Did you update your packages?  Several packages which came with 2.13.2 have updates available: one is Matrix.
> 
> lme4 is tied to a specific version of Matrix, and the Mac binary package repository for 2.13.2 has versions of Matrix (0.999375-50) and lme4 (0.999375-40) which do not work together for me.  But the current Matrix is 1.0-1 and current lme4 is 0.999375-42. So AFAIK the only option is to install these packages from their sources.
> 
> Simon: the binary repository on the CRAN master for 2.14.0 has not be updated for 4 weeks and is rather incomplete,

Hmm.. something is wrong, indeed. Those binaries are from the bootstrap manual run, not from the automated builds. I'll have to investigate...


> and clearly the 2.13.2 area needs some updates.  

Those seem to be up to date, at least on my server:

hagal:2.13$ ls -lt|head
total 5489384
-rw-r--r--  1 urbanek  admin     22107 Oct 25 05:13 tilting_1.0.tgz
-rw-r--r--  1 urbanek  admin   1167011 Oct 25 05:11 sdcTable_0.9.8.tgz
-rw-r--r--  1 urbanek  admin   1430008 Oct 25 05:08 rococo_1.0.1.tgz
-rw-r--r--  1 urbanek  admin   1923962 Oct 25 05:01 npRmpi_0.40-10.tgz
-rw-r--r--  1 urbanek  admin     87766 Oct 25 04:59 neuRosim_0.2-8.tgz
-rw-r--r--  1 urbanek  admin   1215339 Oct 25 04:58 mritc_0.3-4.tgz
-rw-r--r--  1 urbanek  admin   1914854 Oct 25 04:56 metrumrg_5.3.tgz
-rw-r--r--  1 urbanek  admin   1039445 Oct 25 04:50 frailtypack_2.2-19.tgz
-rw-r--r--  1 urbanek  admin   1109695 Oct 25 04:46 dti_0.9-6.3.tgz


> With 2.14.0 less than a week away, this is getting urgent.
> 

Agreed, my apologies.
Simon


> Brian
> 
> 
> On Mon, 24 Oct 2011, Kathryn Lan wrote:
> 
>> Hello,
>> 
>> I am a new R-user.  I have a Mac OS.X 10.6.8.  I have downloaded R version
>> 2.13.2 (2011-09-30) onto my computer and been able to use basic stats
>> function.   Now I want to use the geepack package and when I try to load it
>> using library(geepack), it says I have to load these dependencies.
>> Apparently, some of these packages successfully loaded but some were not
>> (doBy and lme4).  The doBy needs the snow package which R says I don't have,
>> and I don't also have lme4 package.   I'm wondering why there's so much
>> trouble trying to load this geepack.  What is the primary problem behind
>> this?
>> 
>> Thank you for your help.
>> 
>> 
>> 
>> 
>>> library(geepack)
>> Loading required package: doBy
>> Loading required package: survival
>> Loading required package: splines
>> Loading required package: R2HTML
>> Loading required package: multcomp
>> Loading required package: mvtnorm
>> Loading required package: lme4
>> Loading required package: Matrix
>> Loading required package: lattice
>> 
>> Attaching package: 'Matrix'
>> 
>> The following object(s) are masked from 'package:base':
>> 
>>   det
>> 
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>> function 'cholmod_l_start' not provided by package 'Matrix'
>> Error: package 'lme4' could not be loaded
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From simon.urbanek at r-project.org  Tue Oct 25 16:31:53 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 25 Oct 2011 10:31:53 -0400
Subject: [R-SIG-Mac] problem installing geepack package
In-Reply-To: <alpine.LFD.2.02.1110250801340.8171@gannet.stats.ox.ac.uk>
References: <CAJ6CZrn-rwto0OBW=s8vV78njQ6Ux9r=B06atoSSsDRV5qTv1w@mail.gmail.com>
	<alpine.LFD.2.02.1110250801340.8171@gannet.stats.ox.ac.uk>
Message-ID: <87E491A4-A7BE-424E-8329-8D8C593285E7@r-project.org>


On Oct 25, 2011, at 3:23 AM, Prof Brian Ripley wrote:

> This is something you need to take up with the geepack maintainer (who is also the doBy maintainer).  I find his misuse of Depends ridiculous: we have Suggests and Enhances for such loose dependencies.
> 
> You can easily get snow, as a source or a binary package.
> 
> Did you update your packages?  Several packages which came with 2.13.2 have updates available: one is Matrix.
> 

Matrix fails check, that's why it's not available:
http://www.R-project.org/nosvn/R.check/r-release-macosx-ix86/Matrix-00check.html

It seems like a silly reason to fail, but still, it explains ..

Cheers,
Simon


> lme4 is tied to a specific version of Matrix, and the Mac binary package repository for 2.13.2 has versions of Matrix (0.999375-50) and lme4 (0.999375-40) which do not work together for me.  But the current Matrix is 1.0-1 and current lme4 is 0.999375-42. So AFAIK the only option is to install these packages from their sources.
> 
> Simon: the binary repository on the CRAN master for 2.14.0 has not be updated for 4 weeks and is rather incomplete, and clearly the 2.13.2 area needs some updates.  With 2.14.0 less than a week away, this is getting urgent.
> 
> Brian
> 
> 
> On Mon, 24 Oct 2011, Kathryn Lan wrote:
> 
>> Hello,
>> 
>> I am a new R-user.  I have a Mac OS.X 10.6.8.  I have downloaded R version
>> 2.13.2 (2011-09-30) onto my computer and been able to use basic stats
>> function.   Now I want to use the geepack package and when I try to load it
>> using library(geepack), it says I have to load these dependencies.
>> Apparently, some of these packages successfully loaded but some were not
>> (doBy and lme4).  The doBy needs the snow package which R says I don't have,
>> and I don't also have lme4 package.   I'm wondering why there's so much
>> trouble trying to load this geepack.  What is the primary problem behind
>> this?
>> 
>> Thank you for your help.
>> 
>> 
>> 
>> 
>>> library(geepack)
>> Loading required package: doBy
>> Loading required package: survival
>> Loading required package: splines
>> Loading required package: R2HTML
>> Loading required package: multcomp
>> Loading required package: mvtnorm
>> Loading required package: lme4
>> Loading required package: Matrix
>> Loading required package: lattice
>> 
>> Attaching package: 'Matrix'
>> 
>> The following object(s) are masked from 'package:base':
>> 
>>   det
>> 
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>> function 'cholmod_l_start' not provided by package 'Matrix'
>> Error: package 'lme4' could not be loaded
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From matlabnewsgroup at gmail.com  Wed Oct 26 20:15:36 2011
From: matlabnewsgroup at gmail.com (Kathryn Lan)
Date: Wed, 26 Oct 2011 13:15:36 -0500
Subject: [R-SIG-Mac] problem installing geepack package
In-Reply-To: <87E491A4-A7BE-424E-8329-8D8C593285E7@r-project.org>
References: <CAJ6CZrn-rwto0OBW=s8vV78njQ6Ux9r=B06atoSSsDRV5qTv1w@mail.gmail.com>
	<alpine.LFD.2.02.1110250801340.8171@gannet.stats.ox.ac.uk>
	<87E491A4-A7BE-424E-8329-8D8C593285E7@r-project.org>
Message-ID: <CAJ6CZrn1p9AiCvrn-kHTfpQNnKYRV0qaGGOB+oXh+T4=sGBu1A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111026/26ab9485/attachment.pl>

From john.woodard at wayne.edu  Thu Oct 27 01:31:42 2011
From: john.woodard at wayne.edu (John L. Woodard, Ph.D.)
Date: Wed, 26 Oct 2011 19:31:42 -0400
Subject: [R-SIG-Mac] lme4 installation problems in Lion
Message-ID: <5BBB211D-7CA9-48E0-8768-51436EFE9843@wayne.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111026/d54168b7/attachment.pl>

From simon.urbanek at r-project.org  Thu Oct 27 04:54:18 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 26 Oct 2011 22:54:18 -0400
Subject: [R-SIG-Mac] lme4 installation problems in Lion
In-Reply-To: <5BBB211D-7CA9-48E0-8768-51436EFE9843@wayne.edu>
References: <5BBB211D-7CA9-48E0-8768-51436EFE9843@wayne.edu>
Message-ID: <A0C547E5-CF9F-4E0F-8642-68A5D768E0A8@r-project.org>


On Oct 26, 2011, at 7:31 PM, John L. Woodard, Ph.D. wrote:

> Dear List,
>   I'm trying to install lme4 on a MacBook Air running Lion OSX 10.7.2.  I first used the command:
> install.packages("lme4", repos="http://R-Forge.R-project.org")
> 
> to download lme4.  Then when I tried to load the library, I got the following message:
>> library(lme4)
> Loading required package: Matrix
> Loading required package: lattice
> 
> Attaching package: 'Matrix'
> 
> The following object(s) are masked from 'package:base':
> 
>    det
> 
> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>  unable to load shared object '/Library/Frameworks/R.framework/Versions/2.13/Resources/library/lme4/libs/x86_64/lme4.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/2.13/Resources/library/lme4/libs/x86_64/lme4.so, 6): Library not loaded: /Library/Frameworks/R.framework/Versions/2.15/Resources/lib/libRlapack.dylib
>  Referenced from: /Library/Frameworks/R.framework/Versions/2.13/Resources/library/lme4/libs/x86_64/lme4.so
>  Reason: image not found
> In addition: Warning message:
> package 'lme4' was built under R version 2.15.0 
> Error: package/namespace load failed for 'lme4'
> 

As the message says, you (or R-Forge) have R version mismatch - you're using R 2.13.x with lme4 built for R 2.15.x. (R-devel).


> I did a little more reading in this group and then installed Xcode 4.2 from the App Store and tried to run gfortran-lion-5666-3.pkg.  Unfortunately, this gfortran version seems to want to play only with Xcode 4.1.  Is there an updated gfortran for Xcode 4.2?
> 

No, there is no difference.


> I would be grateful for any other suggestions for getting lme4 up and running.  Many thanks!
> 

Try simply
install.packages(c("lme4","Matrix"))

Cheers,
Simon


> Best regards,
> 
> John
> 
> 
> John L. Woodard, Ph.D.
> Associate Professor of Psychology
> Wayne State University
> 5057 Woodward Ave., 7th Floor
> Detroit, MI  48202
> 
> (313) 577-5838 (voice)
> (313) 577-7636 (fax)
> john.woodard@@wayne.edu
> 
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From dpugmire at gmail.com  Thu Oct 27 05:01:49 2011
From: dpugmire at gmail.com (Dave Pugmire)
Date: Wed, 26 Oct 2011 23:01:49 -0400
Subject: [R-SIG-Mac] Building R on Mac OSX 10.6.8
Message-ID: <CAM6_VwzanZVcmPw1EJUxXu2wOwDzzBNDu1Ev3t9=K8L0WBsvrg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111026/6e656c73/attachment.pl>

From simon.urbanek at r-project.org  Thu Oct 27 05:28:03 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 26 Oct 2011 23:28:03 -0400
Subject: [R-SIG-Mac] Building R on Mac OSX 10.6.8
In-Reply-To: <CAM6_VwzanZVcmPw1EJUxXu2wOwDzzBNDu1Ev3t9=K8L0WBsvrg@mail.gmail.com>
References: <CAM6_VwzanZVcmPw1EJUxXu2wOwDzzBNDu1Ev3t9=K8L0WBsvrg@mail.gmail.com>
Message-ID: <39D09465-C81E-4ED9-BFDD-EBF4C8AAD0D1@r-project.org>


On Oct 26, 2011, at 11:01 PM, Dave Pugmire wrote:

> Hi,
> I'm trying to build 2.13.2 on OSX 10.6.8 as follows:
> 
> ./configure CXX=g++ CC=gcc CFLAGS=-fno-common -fexceptions -O2
> CXXFLAGS=-fno-common -fexceptions -O2 --without-readline --enable-R-shlib
> --without-recommended-packages --prefix=/sw/R
> 

Don't change the default flags unless you know what you're doing. In particular -fno-common won't work.

Cheers,
Simon



> make
> 
> and I get the following error:
> 
> gcc -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names  -undefined
> dynamic_lookup -single_module -multiply_defined suppress -fopenmp
> -L/usr/local/lib -install_name libR.dylib -compatibility_version 2.13.0
> -current_version 2.13.2  -headerpad_max_install_names -o libR.dylib
> CConverters.o CommandLineArgs.o Rdynload.o Renviron.o RNG.o agrep.o apply.o
> arithmetic.o array.o attrib.o base.o bind.o builtin.o character.o coerce.o
> colors.o complex.o connections.o context.o cov.o cum.o dcf.o datetime.o
> debug.o deparse.o deriv.o devices.o dotcode.o dounzip.o dstruct.o
> duplicate.o engine.o envir.o errors.o eval.o format.o fourier.o gevents.o
> gram.o gram-ex.o gramLatex.o gramRd.o graphics.o grep.o identical.o
> inlined.o inspect.o internet.o iosupport.o lapack.o list.o localecharset.o
> logic.o main.o mapply.o match.o memory.o model.o names.o objects.o optim.o
> optimize.o options.o par.o paste.o platform.o plot.o plot3d.o plotmath.o
> print.o printarray.o printvector.o printutils.o qsort.o random.o raw.o
> registration.o relop.o rlocale.o saveload.o scan.o seq.o serialize.o size.o
> sort.o source.o split.o sprintf.o startup.o subassign.o subscript.o subset.o
> summary.o sysutils.o unique.o util.o version.o vfonts.o xxxpr.o
> ../unix/Rembedded.o ../unix/libunix.a ../appl/libappl.a ../nmath/libnmath.a
> ../extra/zlib/libz.a ../extra/bzip2/libbz2.a ../extra/pcre/libpcre.a
> ../extra/tre/libtre.a  ../extra/xz/liblzma.a ../extra/intl/libintl.a
> -L../../lib -lRblas -lgfortran    -Wl,-framework -Wl,CoreFoundation
> -licucore -lm -liconv
> ld: duplicate symbol _Rf_yychar in gramLatex.o and gram.o
> 
> 
> using gcc version 4.2.1
> gcc -v
> Using built-in specs.
> Target: i686-apple-darwin10
> Configured with: /var/tmp/gcc/gcc-5666.3~6/src/configure --disable-checking
> --enable-werror --prefix=/usr --mandir=/share/man
> --enable-languages=c,objc,c++,obj-c++
> --program-transform-name=/^[cg][^.-]*$/s/$/-4.2/ --with-slibdir=/usr/lib
> --build=i686-apple-darwin10 --program-prefix=i686-apple-darwin10-
> --host=x86_64-apple-darwin10 --target=i686-apple-darwin10
> --with-gxx-include-dir=/include/c++/4.2.1
> Thread model: posix
> gcc version 4.2.1 (Apple Inc. build 5666) (dot 3)
> 
> 
> Anyone seen this? Solution?
> 
> Thanks,
> Dave
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From richard.liu at pueo-owl.ch  Mon Oct 31 13:39:44 2011
From: richard.liu at pueo-owl.ch (Richard R. Liu)
Date: Mon, 31 Oct 2011 13:39:44 +0100 (CET)
Subject: [R-SIG-Mac] Compiling CC source:  cc in R 2.12 vs gcc in R 2.13
Message-ID: <19603943.8195.1320064784106.JavaMail.open-xchange@oxde01.ibone.ch>

Hello,
?
I sent the following email to Duncan Temple Lang, who maintains Rlibstemmer, but
I suspect the problem is a general one. ?Perhaps somebody here can tell me what
options have to be set for gcc -- or whether and how I can still use cc with R
2.13 -- in order to get a 32-bit version. ?Thanks.
?
---------- Original email follows ----------
Hello Duncan,

Some time ago I had a problem with RStem which was solved in Rlibstemmer. ?Since
then I have been using the latter, specifically Rlibstemmer_0.1-0.tar.gz. ?Up
until R 2.12 the following recipe has worked for building a 32-/64-bit binary
for OS X:

----------
Download Rlibstemmer_0.1-0.tar.gz from?http://www.omegahat.org/Rlibstemmer.
?Unpack it by double-clicking on it. ?This will produce a folder Rlibstemmer.
?Navigate to Rlibstemmer/inst/libstemmer_c. ?Modify Makefile as follows: ?(1)
delete the line specifying the CFLAGS and (2) add examples/*.o to the files to
be cleaned. ?Save the Makefile.

Now start Terminal and cd to the directory that contains the folder Rlibstemmer.
?Issue the command tar -czf Rlibstemmer.tar.gz Rlibstemmer/* to create a new
source package. ?After that, create and install the 64-bit version of
Rlibstemmer as follows:

export CFLAGS="-arch x86_64 -m64 -Iinclude -fPIC"
export CCFLAGS="-arch x86_64 -m64"
R --arch=x86_64 CMD INSTALL Rlibstemmer.tar.gz

Then create and install the 32-bit version:

export CFLAGS="-arch i386 -m32 -Iinclude -fPIC"
export CCFLAGS="-arch i386 -m32"
R --arch=i386 CMD INSTALL --libs-only Rlibstemmer.tar.gz
----------

However, compiling for R 2.13, 32-bit version, no longer works. ?Here is a log
of the run:

----------
rrl-macbookpro:Downloads sim$ export CFLAGS="-arch i386 -m32 -Iinclude -fPIC"
rrl-macbookpro:Downloads sim$ export CCFLAGS="-arch i386 -m32"
rrl-macbookpro:Downloads sim$ R --arch=i386 CMD INSTALL --libs-only
Rlibstemmer.tar.gz
* installing to library ?/Users/sim/Library/R/2.13/library?
* installing *source* package ?Rlibstemmer? ...
make: Nothing to be done for `all'.
** libs
*** arch - i386
gcc-4.2 -arch i386 -std=gnu99
-I/Library/Frameworks/R.framework/Resources/include
-I/Library/Frameworks/R.framework/Resources/include/i386
-I../inst/libstemmer_c/include -I/usr/local/include -fPIC ?-g -O2 -c
._listAlgorithms.c -o ._listAlgorithms.o
._listAlgorithms.c:1:1: warning: null character(s) ignored
._listAlgorithms.c:1: error: stray ?\5? in program
._listAlgorithms.c:1: error: stray ?\26? in program
._listAlgorithms.c:1: error: stray ?\7? in program
._listAlgorithms.c:1:5: warning: null character(s) ignored
._listAlgorithms.c:1: error: stray ?\2? in program
._listAlgorithms.c:1:7: warning: null character(s) ignored
._listAlgorithms.c:1: error: expected ?=?, ?,?, ?;?, ?asm? or ?__attribute__?
before ?OS?
._listAlgorithms.c:1:17: warning: null character(s) ignored
._listAlgorithms.c:1: error: stray ?\2? in program
._listAlgorithms.c:1:27: warning: null character(s) ignored
._listAlgorithms.c:1:35: warning: null character(s) ignored
._listAlgorithms.c:1: error: stray ?\263? in program
._listAlgorithms.c:1:39: warning: null character(s) ignored
._listAlgorithms.c:1: error: stray ?\2? in program
._listAlgorithms.c:1:43: warning: null character(s) ignored
._listAlgorithms.c:1: error: stray ?\345? in program
._listAlgorithms.c:1:47: warning: null character(s) ignored
._listAlgorithms.c:1:89: warning: null character(s) ignored
._listAlgorithms.c:1: error: stray ?\210? in program
._listAlgorithms.c:1: error: stray ?\241? in program
._listAlgorithms.c:1:92: warning: null character(s) ignored
._listAlgorithms.c:1: error: stray ?\345? in program
._listAlgorithms.c:1:97: warning: null character(s) ignored
._listAlgorithms.c:1: error: stray ?\230? in program
._listAlgorithms.c:1:101: warning: null character(s) ignored
._listAlgorithms.c:1:105: warning: null character(s) ignored
._listAlgorithms.c:1: error: stray ?\1? in program
._listAlgorithms.c:1:121: warning: null character(s) ignored
._listAlgorithms.c:1: error: stray ?\230? in program
._listAlgorithms.c:1:125: warning: null character(s) ignored
._listAlgorithms.c:1:129: warning: null character(s) ignored
._listAlgorithms.c:1: error: stray ?\25? in program
._listAlgorithms.c:1:152: warning: null character(s) ignored
._listAlgorithms.c:1:160: error: invalid suffix "c618132" on integer constant
._listAlgorithms.c:1: error: expected identifier or ?(? before numeric constant
._listAlgorithms.c:1: warning: data definition has no type or storage class
._listAlgorithms.c:1: warning: type defaults to ?int? in declaration of ?Safari?
._listAlgorithms.c:1: error: expected ?=?, ?,?, ?;?, ?asm? or ?__attribute__?
before ?-? token
._listAlgorithms.c:1:190: error: invalid suffix "A61" on integer constant
._listAlgorithms.c:1:200: error: invalid suffix "C52479DCA9" on integer constant
._listAlgorithms.c:1:229: warning: null character(s) ignored
make: *** [._listAlgorithms.o] Error 1
ERROR: compilation failed for package ?Rlibstemmer?
* removing ?/Users/sim/Library/R/2.13/library/Rlibstemmer?
* restoring previous ?/Users/sim/Library/R/2.13/library/Rlibstemmer?
----------

I notice that compiling for 2.12 invokes cc, whereas for 2.13 it is gcc-4.2.
?Can you suggest a fix for this problem?
---------- End of original email ----------


Richard R. Liu
richard.liu at pueo-owl.ch


