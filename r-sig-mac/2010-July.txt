From oraclmaster at gmail.com  Thu Jul  1 18:50:44 2010
From: oraclmaster at gmail.com (Carlo Tambuatco)
Date: Thu, 1 Jul 2010 12:50:44 -0400
Subject: [R-SIG-Mac] [R] Mac OS X R.app has trouble rendering certain fonts.
Message-ID: <AANLkTimt7vyYi5V88X3lYO0UXCBuSI11qzK47eoQwugc@mail.gmail.com>

I noticed this running a few graphics demos the other day.

In particular the plotmath and the persp graphics demos, certain fonts
don't seem to render on the demos.

The plotmath demo displays certain math equations on a quartz window
that don't render properly, and the persp demo displays a 3D model of
a mountain with labels on the graph rendered in a certain font. (None
of the data labels render at all.)

This problem appeared recently, (like last week), and has not happened
before. I'm fairly new to using the R gui and R in general, so I don't
really know where to check if I have the proper true type fonts
available on my computer or if it is a problem within R itself. This
doesn't appear to be a problem with the functioning of R itself, just
an inability for it to render certain fonts on graphical displays. I
just want to fix it now before I use it in a major project that
requires the rendering of fonts onto the screen for presentations
etc...


From marc_schwartz at me.com  Thu Jul  1 19:00:36 2010
From: marc_schwartz at me.com (Marc Schwartz)
Date: Thu, 01 Jul 2010 12:00:36 -0500
Subject: [R-SIG-Mac] [R] Mac OS X R.app has trouble rendering certain
	fonts.
In-Reply-To: <AANLkTimt7vyYi5V88X3lYO0UXCBuSI11qzK47eoQwugc@mail.gmail.com>
References: <AANLkTimt7vyYi5V88X3lYO0UXCBuSI11qzK47eoQwugc@mail.gmail.com>
Message-ID: <61436983-954E-4587-8DDB-CA11D9A4FB0A@me.com>

On Jul 1, 2010, at 11:50 AM, Carlo Tambuatco wrote:

> I noticed this running a few graphics demos the other day.
> 
> In particular the plotmath and the persp graphics demos, certain fonts
> don't seem to render on the demos.
> 
> The plotmath demo displays certain math equations on a quartz window
> that don't render properly, and the persp demo displays a 3D model of
> a mountain with labels on the graph rendered in a certain font. (None
> of the data labels render at all.)
> 
> This problem appeared recently, (like last week), and has not happened
> before. I'm fairly new to using the R gui and R in general, so I don't
> really know where to check if I have the proper true type fonts
> available on my computer or if it is a problem within R itself. This
> doesn't appear to be a problem with the functioning of R itself, just
> an inability for it to render certain fonts on graphical displays. I
> just want to fix it now before I use it in a major project that
> requires the rendering of fonts onto the screen for presentations
> etc...


You might want to review this reply by Simon to a similar post recently:

  https://stat.ethz.ch/pipermail/r-sig-mac/2010-June/007531.html

Another resource that might be relevant:

  http://www.maclife.com/article/news/howto_clear_your_macs_font_cache

HTH,

Marc Schwartz


From oraclmaster at gmail.com  Fri Jul  2 21:43:34 2010
From: oraclmaster at gmail.com (Carlo Tambuatco)
Date: Fri, 2 Jul 2010 15:43:34 -0400
Subject: [R-SIG-Mac] [R] Mac OS X R.app has trouble rendering certain
	fonts.
In-Reply-To: <61436983-954E-4587-8DDB-CA11D9A4FB0A@me.com>
References: <AANLkTimt7vyYi5V88X3lYO0UXCBuSI11qzK47eoQwugc@mail.gmail.com>
	<61436983-954E-4587-8DDB-CA11D9A4FB0A@me.com>
Message-ID: <53D956BA-1D59-4D81-AC82-DBDE15862FB5@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100702/4d5cfc11/attachment.pl>

From kasperdanielhansen at gmail.com  Fri Jul  2 22:05:37 2010
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Fri, 2 Jul 2010 16:05:37 -0400
Subject: [R-SIG-Mac] [R] Mac OS X R.app has trouble rendering certain
	fonts.
In-Reply-To: <53D956BA-1D59-4D81-AC82-DBDE15862FB5@gmail.com>
References: <AANLkTimt7vyYi5V88X3lYO0UXCBuSI11qzK47eoQwugc@mail.gmail.com>
	<61436983-954E-4587-8DDB-CA11D9A4FB0A@me.com>
	<53D956BA-1D59-4D81-AC82-DBDE15862FB5@gmail.com>
Message-ID: <AANLkTimeW4WAtAd_q7Y30DREgaUh_DUdjWK89AcNuu2z@mail.gmail.com>

You can specify this by environment variables.  Note that R.app (as
all OS X apps) does not use values set in .bashrc / .profile, so the
easiest way is to put the following into your ~/.Rprofile file (create
it, if needed);

 Sys.setenv("R_INTERACTIVE_DEVICE" = "x11")
 Sys.setenv("R_DEFAULT_DEVICE" = "pdf")

This will use pdf as the plotting device when you run R CMD BATCH and
it will use X11 as device when you are in an interactive session.

Now, I don't know much about plotmath and the quartz device, but note
that I and many others vastly prefer the quartz device on the Mac, for
its very nice output (and I like its history feature).  But you seem
to have a need for X11....

Kasper

On Fri, Jul 2, 2010 at 3:43 PM, Carlo Tambuatco <oraclmaster at gmail.com> wrote:
> EDIT:
>
> Okay, it seems that X11 renders the fonts etc...okay
>
> Typing in:
>
> X11()
> demo(plotmath)
> dev.off()
>
> seemed to render everything including the fonts fine, so I don't think any of my fonts are corrupted.
>
> But is there a way to configure R to set X11 as the default device for graphics? Right now, it uses quartz as its default device for rendering to the screen. I'm a bit of a newbie here, so could somebody explain how to add to my R config file to have the default device be X11?
>
>
>
> On Jul 1, 2010, at 1:00 PM, Marc Schwartz wrote:
>
>> On Jul 1, 2010, at 11:50 AM, Carlo Tambuatco wrote:
>>
>>> I noticed this running a few graphics demos the other day.
>>>
>>> In particular the plotmath and the persp graphics demos, certain fonts
>>> don't seem to render on the demos.
>>>
>>> The plotmath demo displays certain math equations on a quartz window
>>> that don't render properly, and the persp demo displays a 3D model of
>>> a mountain with labels on the graph rendered in a certain font. (None
>>> of the data labels render at all.)
>>>
>>> This problem appeared recently, (like last week), and has not happened
>>> before. I'm fairly new to using the R gui and R in general, so I don't
>>> really know where to check if I have the proper true type fonts
>>> available on my computer or if it is a problem within R itself. This
>>> doesn't appear to be a problem with the functioning of R itself, just
>>> an inability for it to render certain fonts on graphical displays. I
>>> just want to fix it now before I use it in a major project that
>>> requires the rendering of fonts onto the screen for presentations
>>> etc...
>>
>>
>> You might want to review this reply by Simon to a similar post recently:
>>
>> ?https://stat.ethz.ch/pipermail/r-sig-mac/2010-June/007531.html
>>
>> Another resource that might be relevant:
>>
>> ?http://www.maclife.com/article/news/howto_clear_your_macs_font_cache
>>
>> HTH,
>>
>> Marc Schwartz
>>
>
> For most men life is a search for the proper manila envelope in which to get themselves filed.
> ?- Clifton Fadiman
>
>
> ? ? ? ?[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From sgruber at berkeley.edu  Fri Jul  2 22:10:13 2010
From: sgruber at berkeley.edu (sgruber at berkeley.edu)
Date: Fri, 2 Jul 2010 13:10:13 -0700
Subject: [R-SIG-Mac] [R] Mac OS X R.app has trouble rendering certain
 fonts.
Message-ID: <b829b111583d8465d9476672f01dea51.squirrel@calmail.berkeley.edu>

I  recently experienced  the same problem.  Text  that was missing from
plots in the Quartz window appeared on plots that were sent directly to a 
pdf file. Interestingly,  text that was printed using the expression
function did appear in the quartz window, for example,
ylab=expression(hat(psi))

As Marc wrote, the problem was resolved when I used Fontbook to resolve
duplicated fonts, which for me were Arial and Helvetica stored at both the
System and User level.   Hopefully this will work for you as well.

--Susan

Susan Gruber
UC Berkeley

> EDIT:
>
> Okay, it seems that X11 renders the fonts etc...okay
>
> Typing in:
>
> X11()
> demo(plotmath)
> dev.off()
>
> seemed to render everything including the fonts fine, so I don't think
any
> of my fonts are corrupted.
>
> But is there a way to configure R to set X11 as the default device for
graphics? Right now, it uses quartz as its default device for rendering to
> the screen. I'm a bit of a newbie here, so could somebody explain how to
add to my R config file to have the default device be X11?
>
>
>
> On Jul 1, 2010, at 1:00 PM, Marc Schwartz wrote:
>
>> On Jul 1, 2010, at 11:50 AM, Carlo Tambuatco wrote:
>>> I noticed this running a few graphics demos the other day.
>>> In particular the plotmath and the persp graphics demos, certain fonts
don't seem to render on the demos.
>>> The plotmath demo displays certain math equations on a quartz window
that don't render properly, and the persp demo displays a 3D model of a
mountain with labels on the graph rendered in a certain font. (None of the
data labels render at all.)
>>> This problem appeared recently, (like last week), and has not happened
before. I'm fairly new to using the R gui and R in general, so I don't
really know where to check if I have the proper true type fonts
available on my computer or if it is a problem within R itself. This
doesn't appear to be a problem with the functioning of R itself, just an
inability for it to render certain fonts on graphical displays. I just
want to fix it now before I use it in a major project that
requires the rendering of fonts onto the screen for presentations
etc...
>> You might want to review this reply by Simon to a similar post
recently:
>>  https://stat.ethz.ch/pipermail/r-sig-mac/2010-June/007531.html
>> Another resource that might be relevant:
>>  http://www.maclife.com/article/news/howto_clear_your_macs_font_cache
>> HTH,
>> Marc Schwartz
>
> For most men life is a search for the proper manila envelope in which to
get themselves filed.
>   - Clifton Fadiman
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From eric_ditwiler at hmc.edu  Fri Jul  2 23:21:55 2010
From: eric_ditwiler at hmc.edu (Eric Ditwiler)
Date: Fri, 2 Jul 2010 14:21:55 -0700
Subject: [R-SIG-Mac] How close to the bleeding edge?
In-Reply-To: <b829b111583d8465d9476672f01dea51.squirrel@calmail.berkeley.edu>
References: <b829b111583d8465d9476672f01dea51.squirrel@calmail.berkeley.edu>
Message-ID: <601B7295-01D8-472B-AD7E-5AD4301A9981@mailbox-01.hmc.edu>

I like to do all my upgrades at once and then leave well enough alone for a while.

My hard drive died so I had them put 10.6.4 on my iMac when they resurrected it.

After some finagling my guys were able to get rattle to run with GTK 2.18.5 under R64 2.11.

I was able to get lattistist to run under rattle but not rggobi--though regular GGobi runs.

My guys want me to go back to 32 bit R2.10 but I am inclined to think that this will sort itself out in the next few months.

Does anyone have any insights on how long it takes to make everything play together nicely?


Eric Ditwiler
Director, Academic Operations
Harvey Mudd College
909-607-3134


From oraclmaster at gmail.com  Sat Jul  3 02:48:34 2010
From: oraclmaster at gmail.com (Carlo Tambuatco)
Date: Fri, 2 Jul 2010 20:48:34 -0400
Subject: [R-SIG-Mac] [R] Mac OS X R.app has trouble rendering certain
	fonts.
In-Reply-To: <b829b111583d8465d9476672f01dea51.squirrel@calmail.berkeley.edu>
References: <b829b111583d8465d9476672f01dea51.squirrel@calmail.berkeley.edu>
Message-ID: <AANLkTinxLFnpJ7YIqmorAVoELzDHd8IXaNheWMDURpwV@mail.gmail.com>

On Fri, Jul 2, 2010 at 4:10 PM,  <sgruber at berkeley.edu> wrote:
> I ?recently experienced ?the same problem. ?Text ?that was missing from
> plots in the Quartz window appeared on plots that were sent directly to a
> pdf file. Interestingly, ?text that was printed using the expression
> function did appear in the quartz window, for example,
> ylab=expression(hat(psi))
>
> As Marc wrote, the problem was resolved when I used Fontbook to resolve
> duplicated fonts, which for me were Arial and Helvetica stored at both the
> System and User level. ? Hopefully this will work for you as well.
>
> --Susan
>
> Susan Gruber
> UC Berkeley

I did have some duplicated fonts in my font book. So I resolved the
duplicates but it did not take care of the problem. There are still no
letters or numbers being rendered in quartz. Only in X11. I looked up
the quartzFont() function, to see if it might help, but so far
nothing. Quartz is the graphics engine that renders PDF, so if it
renders in PDF it should render in Quartz and vice versa. But that is
not the case apparently.

I hope that somebody has any additional input as to why this happens.


>
>> EDIT:
>>
>> Okay, it seems that X11 renders the fonts etc...okay
>>
>> Typing in:
>>
>> X11()
>> demo(plotmath)
>> dev.off()
>>
>> seemed to render everything including the fonts fine, so I don't think
> any
>> of my fonts are corrupted.
>>
>> But is there a way to configure R to set X11 as the default device for
> graphics? Right now, it uses quartz as its default device for rendering to
>> the screen. I'm a bit of a newbie here, so could somebody explain how to
> add to my R config file to have the default device be X11?
>>
>>
>>
>> On Jul 1, 2010, at 1:00 PM, Marc Schwartz wrote:
>>
>>> On Jul 1, 2010, at 11:50 AM, Carlo Tambuatco wrote:
>>>> I noticed this running a few graphics demos the other day.
>>>> In particular the plotmath and the persp graphics demos, certain fonts
> don't seem to render on the demos.
>>>> The plotmath demo displays certain math equations on a quartz window
> that don't render properly, and the persp demo displays a 3D model of a
> mountain with labels on the graph rendered in a certain font. (None of the
> data labels render at all.)
>>>> This problem appeared recently, (like last week), and has not happened
> before. I'm fairly new to using the R gui and R in general, so I don't
> really know where to check if I have the proper true type fonts
> available on my computer or if it is a problem within R itself. This
> doesn't appear to be a problem with the functioning of R itself, just an
> inability for it to render certain fonts on graphical displays. I just
> want to fix it now before I use it in a major project that
> requires the rendering of fonts onto the screen for presentations
> etc...
>>> You might want to review this reply by Simon to a similar post
> recently:
>>> ?https://stat.ethz.ch/pipermail/r-sig-mac/2010-June/007531.html
>>> Another resource that might be relevant:
>>> ?http://www.maclife.com/article/news/howto_clear_your_macs_font_cache
>>> HTH,
>>> Marc Schwartz
>>
>> For most men life is a search for the proper manila envelope in which to
> get themselves filed.
>> ? - Clifton Fadiman
>>
>>
>> ? ? ? [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
>
>
>
>
>
>


From dwinsemius at comcast.net  Sat Jul  3 03:37:14 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 2 Jul 2010 21:37:14 -0400
Subject: [R-SIG-Mac] [R] Mac OS X R.app has trouble rendering certain
	fonts.
In-Reply-To: <AANLkTinxLFnpJ7YIqmorAVoELzDHd8IXaNheWMDURpwV@mail.gmail.com>
References: <b829b111583d8465d9476672f01dea51.squirrel@calmail.berkeley.edu>
	<AANLkTinxLFnpJ7YIqmorAVoELzDHd8IXaNheWMDURpwV@mail.gmail.com>
Message-ID: <66CC1F00-5A08-45EC-B1F1-993E0348BCCC@comcast.net>

As far I can remember you have never offered either sessionInfor(),  
nor a sample problem in R code, nor an explicit description of what is  
being produced, nor a pdf file that can be examined. I have run  
demo(plotmath) and it appears not to exercise fonts ot any exceptional  
degree .... no theta's, tau's or gamma's. Do you care to exapnd on  
your difficulties?

-- 
David.


On Jul 2, 2010, at 8:48 PM, Carlo Tambuatco wrote:

> On Fri, Jul 2, 2010 at 4:10 PM,  <sgruber at berkeley.edu> wrote:
>> I  recently experienced  the same problem.  Text  that was missing  
>> from
>> plots in the Quartz window appeared on plots that were sent  
>> directly to a
>> pdf file. Interestingly,  text that was printed using the expression
>> function did appear in the quartz window, for example,
>> ylab=expression(hat(psi))
>>
>> As Marc wrote, the problem was resolved when I used Fontbook to  
>> resolve
>> duplicated fonts, which for me were Arial and Helvetica stored at  
>> both the
>> System and User level.   Hopefully this will work for you as well.
>>
>> --Susan
>>
>> Susan Gruber
>> UC Berkeley
>
> I did have some duplicated fonts in my font book. So I resolved the
> duplicates but it did not take care of the problem. There are still no
> letters or numbers being rendered in quartz. Only in X11. I looked up
> the quartzFont() function, to see if it might help, but so far
> nothing. Quartz is the graphics engine that renders PDF, so if it
> renders in PDF it should render in Quartz and vice versa. But that is
> not the case apparently.
>
> I hope that somebody has any additional input as to why this happens.
>
>
>>
>>> EDIT:
>>>
>>> Okay, it seems that X11 renders the fonts etc...okay
>>>
>>> Typing in:
>>>
>>> X11()
>>> demo(plotmath)
>>> dev.off()
>>>
>>> seemed to render everything including the fonts fine, so I don't  
>>> think
>> any
>>> of my fonts are corrupted.
>>>
>>> But is there a way to configure R to set X11 as the default device  
>>> for
>> graphics? Right now, it uses quartz as its default device for  
>> rendering to
>>> the screen. I'm a bit of a newbie here, so could somebody explain  
>>> how to
>> add to my R config file to have the default device be X11?
>>>
>>>
>>>
>>> On Jul 1, 2010, at 1:00 PM, Marc Schwartz wrote:
>>>
>>>> On Jul 1, 2010, at 11:50 AM, Carlo Tambuatco wrote:
>>>>> I noticed this running a few graphics demos the other day.
>>>>> In particular the plotmath and the persp graphics demos, certain  
>>>>> fonts
>> don't seem to render on the demos.
>>>>> The plotmath demo displays certain math equations on a quartz  
>>>>> window
>> that don't render properly, and the persp demo displays a 3D model  
>> of a
>> mountain with labels on the graph rendered in a certain font. (None  
>> of the
>> data labels render at all.)
>>>>> This problem appeared recently, (like last week), and has not  
>>>>> happened
>> before. I'm fairly new to using the R gui and R in general, so I  
>> don't
>> really know where to check if I have the proper true type fonts
>> available on my computer or if it is a problem within R itself. This
>> doesn't appear to be a problem with the functioning of R itself,  
>> just an
>> inability for it to render certain fonts on graphical displays. I  
>> just
>> want to fix it now before I use it in a major project that
>> requires the rendering of fonts onto the screen for presentations
>> etc...
>>>> You might want to review this reply by Simon to a similar post
>> recently:
>>>>  https://stat.ethz.ch/pipermail/r-sig-mac/2010-June/007531.html
>>>> Another resource that might be relevant:
>>>>  http://www.maclife.com/article/news/howto_clear_your_macs_font_cache
>>>> HTH,
>>>> Marc Schwartz
>>>
>>> For most men life is a search for the proper manila envelope in  
>>> which to
>> get themselves filed.
>>>   - Clifton Fadiman
>>>
>>>
>>>       [[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>>
>>
>>
>>
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
West Hartford, CT


From oraclmaster at gmail.com  Sat Jul  3 07:49:58 2010
From: oraclmaster at gmail.com (Carlo Tambuatco)
Date: Sat, 3 Jul 2010 01:49:58 -0400
Subject: [R-SIG-Mac] [R] Mac OS X R.app has trouble rendering certain
	fonts.
In-Reply-To: <66CC1F00-5A08-45EC-B1F1-993E0348BCCC@comcast.net>
References: <b829b111583d8465d9476672f01dea51.squirrel@calmail.berkeley.edu>
	<AANLkTinxLFnpJ7YIqmorAVoELzDHd8IXaNheWMDURpwV@mail.gmail.com>
	<66CC1F00-5A08-45EC-B1F1-993E0348BCCC@comcast.net>
Message-ID: <34804A14-EDE1-4A91-BD06-19A850A86046@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100703/5550cc6b/attachment.pl>

From hadley at rice.edu  Sat Jul  3 14:13:06 2010
From: hadley at rice.edu (Hadley Wickham)
Date: Sat, 3 Jul 2010 07:13:06 -0500
Subject: [R-SIG-Mac] How close to the bleeding edge?
In-Reply-To: <601B7295-01D8-472B-AD7E-5AD4301A9981@mailbox-01.hmc.edu>
References: <b829b111583d8465d9476672f01dea51.squirrel@calmail.berkeley.edu> 
	<601B7295-01D8-472B-AD7E-5AD4301A9981@mailbox-01.hmc.edu>
Message-ID: <AANLkTin-j7IqdRbNub8kftUS524bBcUJGmgNLcgtVS67@mail.gmail.com>

Hi Eric,

Unfortunately it's unlikely that we're going to have a 64-bit version
of ggobi ready in the near future.  We run it by open R in 32-bit
mode: R --arch=i386.

Hadley

On Fri, Jul 2, 2010 at 4:21 PM, Eric Ditwiler <eric_ditwiler at hmc.edu> wrote:
> I like to do all my upgrades at once and then leave well enough alone for a while.
>
> My hard drive died so I had them put 10.6.4 on my iMac when they resurrected it.
>
> After some finagling my guys were able to get rattle to run with GTK 2.18.5 under R64 2.11.
>
> I was able to get lattistist to run under rattle but not rggobi--though regular GGobi runs.
>
> My guys want me to go back to 32 bit R2.10 but I am inclined to think that this will sort itself out in the next few months.
>
> Does anyone have any insights on how long it takes to make everything play together nicely?
>
>
> Eric Ditwiler
> Director, Academic Operations
> Harvey Mudd College
> 909-607-3134
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>



-- 
Assistant Professor / Dobelman Family Junior Chair
Department of Statistics / Rice University
http://had.co.nz/


From dwinsemius at comcast.net  Sat Jul  3 15:45:50 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 3 Jul 2010 09:45:50 -0400
Subject: [R-SIG-Mac] [R] Mac OS X R.app has trouble rendering certain
	fonts.
In-Reply-To: <34804A14-EDE1-4A91-BD06-19A850A86046@gmail.com>
References: <b829b111583d8465d9476672f01dea51.squirrel@calmail.berkeley.edu>
	<AANLkTinxLFnpJ7YIqmorAVoELzDHd8IXaNheWMDURpwV@mail.gmail.com>
	<66CC1F00-5A08-45EC-B1F1-993E0348BCCC@comcast.net>
	<34804A14-EDE1-4A91-BD06-19A850A86046@gmail.com>
Message-ID: <80015330-FD05-404D-9878-02C783F81344@comcast.net>


On Jul 3, 2010, at 1:49 AM, Carlo Tambuatco wrote:

>
> On Jul 2, 2010, at 9:37 PM, David Winsemius wrote:
>
>> As far I can remember you have never offered either sessionInfor(),  
>> nor a sample problem in R code, nor an explicit description of what  
>> is being produced, nor a pdf file that can be examined. I have run  
>> demo(plotmath) and it appears not to exercise fonts ot any  
>> exceptional degree .... no theta's, tau's or gamma's. Do you care  
>> to exapnd on your difficulties?
>>
>> -- 
>> David.
>
> From sessionInfo()
>
> R version 2.11.1 (2010-05-31)
> i386-apple-darwin9.8.0
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_2.11.1
>
>
> demo(plotmath) produces a table of equations loaded with sigmas and  
> pi's, alphas, omicrons, upsilons, etc...

Yes, I did miss the lower right corner of the second page (out of  
five) where the Greek letters were demonstrated but certainly did  
notice the set relations and arrows section. What I was asking for is  
an explicit expansion on the term you used ..."messed up". Your  
description of problems does not mimic those that I (and others) were  
earlier having,  were solved by removed corrupted versions of the  
Symbol font. In that instance printing to the Quartz device produced  
small empty boxes where Greek letters should have appeared and this  
happened also when pdf or tiff were used as output devices.

>
> I'm not sure what demo you're running quite frankly.
>
> How else do you want me to "expound on my difficulties"?

More specifics, especially in light of your next stated limitations.

> I've said as straightforwardly as I can what is happening. My  
> newsgroup client doesn't allow me to post images to this newsgroup,  
> so it is difficult for me to show you what I mean, so if you've run  
> demo(plotmath) you should know which fonts I am referring to.

It's not actually a newsgroup but rather a plain-text mailing list.

The default output device is set with the options function:

?device

However, when I try that, I still see a Quartz plot with:
 > options(device="X11")
 > plot(1)

What I needed to do to get X11 plotting was:

dev.off() # closing the default Quartz device

Then X11 gets the output. If this is desired for every session then  
put it in .Rprofile or some other startup mechanism ... see the  
Installation and Administration manual and

http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#The-current-and-startup-working-directories

-- 
David.



>
>
>
>>
>>
>> On Jul 2, 2010, at 8:48 PM, Carlo Tambuatco wrote:
>>
>>> On Fri, Jul 2, 2010 at 4:10 PM,  <sgruber at berkeley.edu> wrote:
>>>> I  recently experienced  the same problem.  Text  that was  
>>>> missing from
>>>> plots in the Quartz window appeared on plots that were sent  
>>>> directly to a
>>>> pdf file. Interestingly,  text that was printed using the  
>>>> expression
>>>> function did appear in the quartz window, for example,
>>>> ylab=expression(hat(psi))
>>>>
>>>> As Marc wrote, the problem was resolved when I used Fontbook to  
>>>> resolve
>>>> duplicated fonts, which for me were Arial and Helvetica stored at  
>>>> both the
>>>> System and User level.   Hopefully this will work for you as well.
>>>>
>>>> --Susan
>>>>
>>>> Susan Gruber
>>>> UC Berkeley
>>>
>>> I did have some duplicated fonts in my font book. So I resolved the
>>> duplicates but it did not take care of the problem. There are  
>>> still no
>>> letters or numbers being rendered in quartz. Only in X11. I looked  
>>> up
>>> the quartzFont() function, to see if it might help, but so far
>>> nothing. Quartz is the graphics engine that renders PDF, so if it
>>> renders in PDF it should render in Quartz and vice versa. But that  
>>> is
>>> not the case apparently.
>>>
>>> I hope that somebody has any additional input as to why this  
>>> happens.
>>>
>>>
>>>>
>>>>> EDIT:
>>>>>
>>>>> Okay, it seems that X11 renders the fonts etc...okay
>>>>>
>>>>> Typing in:
>>>>>
>>>>> X11()
>>>>> demo(plotmath)
>>>>> dev.off()
>>>>>
>>>>> seemed to render everything including the fonts fine, so I don't  
>>>>> think
>>>> any
>>>>> of my fonts are corrupted.
>>>>>
>>>>> But is there a way to configure R to set X11 as the default  
>>>>> device for
>>>> graphics? Right now, it uses quartz as its default device for  
>>>> rendering to
>>>>> the screen. I'm a bit of a newbie here, so could somebody  
>>>>> explain how to
>>>> add to my R config file to have the default device be X11?
>>>>>
>>>>>
>>>>>
>>>>> On Jul 1, 2010, at 1:00 PM, Marc Schwartz wrote:
>>>>>
>>>>>> On Jul 1, 2010, at 11:50 AM, Carlo Tambuatco wrote:
>>>>>>> I noticed this running a few graphics demos the other day.
>>>>>>> In particular the plotmath and the persp graphics demos,  
>>>>>>> certain fonts
>>>> don't seem to render on the demos.
>>>>>>> The plotmath demo displays certain math equations on a quartz  
>>>>>>> window
>>>> that don't render properly, and the persp demo displays a 3D  
>>>> model of a
>>>> mountain with labels on the graph rendered in a certain font.  
>>>> (None of the
>>>> data labels render at all.)
>>>>>>> This problem appeared recently, (like last week), and has not  
>>>>>>> happened
>>>> before. I'm fairly new to using the R gui and R in general, so I  
>>>> don't
>>>> really know where to check if I have the proper true type fonts
>>>> available on my computer or if it is a problem within R itself.  
>>>> This
>>>> doesn't appear to be a problem with the functioning of R itself,  
>>>> just an
>>>> inability for it to render certain fonts on graphical displays. I  
>>>> just
>>>> want to fix it now before I use it in a major project that
>>>> requires the rendering of fonts onto the screen for presentations
>>>> etc...
>>>>>> You might want to review this reply by Simon to a similar post
>>>> recently:
>>>>>> https://stat.ethz.ch/pipermail/r-sig-mac/2010-June/007531.html
>>>>>> Another resource that might be relevant:
>>>>>> http://www.maclife.com/article/news/howto_clear_your_macs_font_cache
>>>>>> HTH,
>>>>>> Marc Schwartz
>>>>>
-- 

David Winsemius, MD
West Hartford, CT


From oraclmaster at gmail.com  Sat Jul  3 16:30:17 2010
From: oraclmaster at gmail.com (Carlo Tambuatco)
Date: Sat, 03 Jul 2010 10:30:17 -0400
Subject: [R-SIG-Mac] [R] Mac OS X R.app has trouble rendering certain
 fonts.
In-Reply-To: <80015330-FD05-404D-9878-02C783F81344@comcast.net>
References: <b829b111583d8465d9476672f01dea51.squirrel@calmail.berkeley.edu>
	<AANLkTinxLFnpJ7YIqmorAVoELzDHd8IXaNheWMDURpwV@mail.gmail.com>
	<66CC1F00-5A08-45EC-B1F1-993E0348BCCC@comcast.net>
	<34804A14-EDE1-4A91-BD06-19A850A86046@gmail.com>
	<80015330-FD05-404D-9878-02C783F81344@comcast.net>
Message-ID: <4C2F4979.2010002@gmail.com>

On 07/03/2010 09:45 AM, David Winsemius wrote:
>
> On Jul 3, 2010, at 1:49 AM, Carlo Tambuatco wrote:
>
>>
>> On Jul 2, 2010, at 9:37 PM, David Winsemius wrote:
>>
>>> As far I can remember you have never offered either sessionInfor(), 
>>> nor a sample problem in R code, nor an explicit description of what 
>>> is being produced, nor a pdf file that can be examined. I have run 
>>> demo(plotmath) and it appears not to exercise fonts ot any 
>>> exceptional degree .... no theta's, tau's or gamma's. Do you care to 
>>> exapnd on your difficulties?
>>>
>>> -- 
>>> David.
>>
>> From sessionInfo()
>>
>> R version 2.11.1 (2010-05-31)
>> i386-apple-darwin9.8.0
>>
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> loaded via a namespace (and not attached):
>> [1] tools_2.11.1
>>
>>
>> demo(plotmath) produces a table of equations loaded with sigmas and 
>> pi's, alphas, omicrons, upsilons, etc...
>
> Yes, I did miss the lower right corner of the second page (out of 
> five) where the Greek letters were demonstrated but certainly did 
> notice the set relations and arrows section. What I was asking for is 
> an explicit expansion on the term you used ..."messed up". Your 
> description of problems does not mimic those that I (and others) were 
> earlier having,  were solved by removed corrupted versions of the 
> Symbol font. In that instance printing to the Quartz device produced 
> small empty boxes where Greek letters should have appeared and this 
> happened also when pdf or tiff were used as output devices.
>
>>
>> I'm not sure what demo you're running quite frankly.
>>
>> How else do you want me to "expound on my difficulties"?
>
> More specifics, especially in light of your next stated limitations.
>
>> I've said as straightforwardly as I can what is happening. My 
>> newsgroup client doesn't allow me to post images to this newsgroup, 
>> so it is difficult for me to show you what I mean, so if you've run 
>> demo(plotmath) you should know which fonts I am referring to.
>
> It's not actually a newsgroup but rather a plain-text mailing list.


It's also a plain text newsgroup. According to my newsgroup client.


>
> The default output device is set with the options function:
>
> ?device
>
> However, when I try that, I still see a Quartz plot with:
> > options(device="X11")
> > plot(1)
>
> What I needed to do to get X11 plotting was:
>
> dev.off() # closing the default Quartz device
>
> Then X11 gets the output. If this is desired for every session then 
> put it in .Rprofile or some other startup mechanism ... see the 
> Installation and Administration manual and
>
> http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#The-current-and-startup-working-directories 
>
>


From dwinsemius at comcast.net  Sat Jul  3 20:21:06 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 3 Jul 2010 14:21:06 -0400
Subject: [R-SIG-Mac] [R] Mac OS X R.app has trouble rendering certain
	fonts.
In-Reply-To: <4C2F4979.2010002@gmail.com>
References: <b829b111583d8465d9476672f01dea51.squirrel@calmail.berkeley.edu>
	<AANLkTinxLFnpJ7YIqmorAVoELzDHd8IXaNheWMDURpwV@mail.gmail.com>
	<66CC1F00-5A08-45EC-B1F1-993E0348BCCC@comcast.net>
	<34804A14-EDE1-4A91-BD06-19A850A86046@gmail.com>
	<80015330-FD05-404D-9878-02C783F81344@comcast.net>
	<4C2F4979.2010002@gmail.com>
Message-ID: <083D9957-30D0-4F1C-B571-1B0C27FAC26C@comcast.net>


On Jul 3, 2010, at 10:30 AM, Carlo Tambuatco wrote:

> On 07/03/2010 09:45 AM, David Winsemius wrote:
>>
>> It's not actually a newsgroup but rather a plain-text mailing list.
>
>
> It's also a plain text newsgroup. According to my newsgroup client.
>


A rather non-specific effort at evidence on your part.

http://lmgtfy.com/?q=difference+between+mailing+lists+and+newsgoups

-- 
David.


From simon.urbanek at r-project.org  Sun Jul  4 19:28:41 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 4 Jul 2010 13:28:41 -0400
Subject: [R-SIG-Mac] How close to the bleeding edge?
In-Reply-To: <601B7295-01D8-472B-AD7E-5AD4301A9981@mailbox-01.hmc.edu>
References: <b829b111583d8465d9476672f01dea51.squirrel@calmail.berkeley.edu>
	<601B7295-01D8-472B-AD7E-5AD4301A9981@mailbox-01.hmc.edu>
Message-ID: <D11A2BF4-AB8D-42C6-96E7-C026EFE1203D@r-project.org>

Eric,

On Jul 2, 2010, at 5:21 PM, Eric Ditwiler wrote:

> I like to do all my upgrades at once and then leave well enough alone for a while.
> 
> My hard drive died so I had them put 10.6.4 on my iMac when they resurrected it.
> 
> After some finagling my guys were able to get rattle to run with GTK 2.18.5 under R64 2.11.
> 
> I was able to get lattistist to run under rattle but not rggobi--though regular GGobi runs.
> 
> My guys want me to go back to 32 bit R2.10 but I am inclined to think that this will sort itself out in the next few months.
> 
> Does anyone have any insights on how long it takes to make everything play together nicely?
> 

What makes you think they don't? Can you be more specific, please? To my knowledge rggobi works nicely in 64-bit for years (and is trivial to install for some time, too) so your comments are rather startling ... I don't use rattle nor latticist (assuming that is the package you meant) myself but AFAICS both binaries work in 64-bit just fine and others are using it so I'm not quite sure what distinguishes you from other users that those package should not "play nicely" in your presence ...

Cheers,
Simon


From simon.urbanek at r-project.org  Sun Jul  4 19:29:34 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 4 Jul 2010 13:29:34 -0400
Subject: [R-SIG-Mac] How close to the bleeding edge?
In-Reply-To: <AANLkTin-j7IqdRbNub8kftUS524bBcUJGmgNLcgtVS67@mail.gmail.com>
References: <b829b111583d8465d9476672f01dea51.squirrel@calmail.berkeley.edu>
	<601B7295-01D8-472B-AD7E-5AD4301A9981@mailbox-01.hmc.edu>
	<AANLkTin-j7IqdRbNub8kftUS524bBcUJGmgNLcgtVS67@mail.gmail.com>
Message-ID: <EBBE708D-65AC-4440-9AAD-539C629C54D6@r-project.org>


On Jul 3, 2010, at 8:13 AM, Hadley Wickham wrote:

> Hi Eric,
> 
> Unfortunately it's unlikely that we're going to have a 64-bit version
> of ggobi ready in the near future.  We run it by open R in 32-bit
> mode: R --arch=i386.
> 

Uh, huh?

The official CRAN binary *is* 64-bit:

http://r.research.att.com/libs/ggobi-2.1.8-darwin9-bin3.tar.gz

Cheers,
Simon



> Hadley
> 
> On Fri, Jul 2, 2010 at 4:21 PM, Eric Ditwiler <eric_ditwiler at hmc.edu> wrote:
>> I like to do all my upgrades at once and then leave well enough alone for a while.
>> 
>> My hard drive died so I had them put 10.6.4 on my iMac when they resurrected it.
>> 
>> After some finagling my guys were able to get rattle to run with GTK 2.18.5 under R64 2.11.
>> 
>> I was able to get lattistist to run under rattle but not rggobi--though regular GGobi runs.
>> 
>> My guys want me to go back to 32 bit R2.10 but I am inclined to think that this will sort itself out in the next few months.
>> 
>> Does anyone have any insights on how long it takes to make everything play together nicely?
>> 
>> 
>> Eric Ditwiler
>> Director, Academic Operations
>> Harvey Mudd College
>> 909-607-3134
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 
> 
> -- 
> Assistant Professor / Dobelman Family Junior Chair
> Department of Statistics / Rice University
> http://had.co.nz/
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From hadley at rice.edu  Sun Jul  4 20:26:49 2010
From: hadley at rice.edu (Hadley Wickham)
Date: Sun, 4 Jul 2010 13:26:49 -0500
Subject: [R-SIG-Mac] How close to the bleeding edge?
In-Reply-To: <EBBE708D-65AC-4440-9AAD-539C629C54D6@r-project.org>
References: <b829b111583d8465d9476672f01dea51.squirrel@calmail.berkeley.edu> 
	<601B7295-01D8-472B-AD7E-5AD4301A9981@mailbox-01.hmc.edu> 
	<AANLkTin-j7IqdRbNub8kftUS524bBcUJGmgNLcgtVS67@mail.gmail.com> 
	<EBBE708D-65AC-4440-9AAD-539C629C54D6@r-project.org>
Message-ID: <AANLkTilJAgUZ6fC-93Mh4Y2tYYGU8g0ix-bjTppkuo_Q@mail.gmail.com>

> The official CRAN binary *is* 64-bit:
>
> http://r.research.att.com/libs/ggobi-2.1.8-darwin9-bin3.tar.gz

Oh, wow.  I didn't know about that (or maybe I did know and had
forgotten) - thanks Simon!
Hadley

-- 
Assistant Professor / Dobelman Family Junior Chair
Department of Statistics / Rice University
http://had.co.nz/


From eric_ditwiler at hmc.edu  Mon Jul  5 06:17:10 2010
From: eric_ditwiler at hmc.edu (Eric Ditwiler)
Date: Sun, 4 Jul 2010 21:17:10 -0700 (PDT)
Subject: [R-SIG-Mac] rggobi
In-Reply-To: <EBBE708D-65AC-4440-9AAD-539C629C54D6@r-project.org>
Message-ID: <30453229.21058061278303430392.JavaMail.root@Mailbox-01.HMC.Edu>

Simon:

I can see 2.1.14 at r.research.att.com but I can't see anything if I put the /lib in the path.

Do you know how many bit this version is?

I guess I need to learn how to install packages from a URL rather than just the R Package Installer GUI thing.

Thanks!

--Eric



----- Original Message -----
From: "Simon Urbanek" <simon.urbanek at r-project.org>
To: "Hadley Wickham" <hadley at rice.edu>
Cc: "Eric Ditwiler" <eric_ditwiler at hmc.edu>, r-sig-mac at stat.math.ethz.ch
Sent: Sunday, July 4, 2010 10:29:34 AM GMT -08:00 US/Canada Pacific
Subject: Re: [R-SIG-Mac] How close to the bleeding edge?


On Jul 3, 2010, at 8:13 AM, Hadley Wickham wrote:

> Hi Eric,
> 
> Unfortunately it's unlikely that we're going to have a 64-bit version
> of ggobi ready in the near future.  We run it by open R in 32-bit
> mode: R --arch=i386.
> 

Uh, huh?

The official CRAN binary *is* 64-bit:

http://r.research.att.com/libs/ggobi-2.1.8-darwin9-bin3.tar.gz

Cheers,
Simon



> Hadley
> 
> On Fri, Jul 2, 2010 at 4:21 PM, Eric Ditwiler <eric_ditwiler at hmc.edu> wrote:
>> I like to do all my upgrades at once and then leave well enough alone for a while.
>> 
>> My hard drive died so I had them put 10.6.4 on my iMac when they resurrected it.
>> 
>> After some finagling my guys were able to get rattle to run with GTK 2.18.5 under R64 2.11.
>> 
>> I was able to get lattistist to run under rattle but not rggobi--though regular GGobi runs.
>> 
>> My guys want me to go back to 32 bit R2.10 but I am inclined to think that this will sort itself out in the next few months.
>> 
>> Does anyone have any insights on how long it takes to make everything play together nicely?
>> 
>> 
>> Eric Ditwiler
>> Director, Academic Operations
>> Harvey Mudd College
>> 909-607-3134
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 
> 
> -- 
> Assistant Professor / Dobelman Family Junior Chair
> Department of Statistics / Rice University
> http://had.co.nz/
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
>


From romain.francois at dbmail.com  Mon Jul  5 13:11:51 2010
From: romain.francois at dbmail.com (Romain Francois)
Date: Mon, 05 Jul 2010 13:11:51 +0200
Subject: [R-SIG-Mac] Trouble compiling Rcpp from source
In-Reply-To: <alpine.DEB.2.00.1006291946220.8163@parser.ilovebacon.org>
References: <alpine.DEB.2.00.1006291042060.8163@parser.ilovebacon.org>	<EE9E7FB5-EF93-464E-A3A5-03972DD7324B@r-project.org>
	<alpine.DEB.2.00.1006291946220.8163@parser.ilovebacon.org>
Message-ID: <4C31BDF7.9080603@dbmail.com>


Thanks Simon to pick this up.

Adam, FWIW Rcpp has its own mailing list: 
http://lists.r-forge.r-project.org/mailman/listinfo/rcpp-devel

50% of the development team works on OSX ;-)

Romain

Le 30/06/10 05:05, Adam D. I. Kramer a ?crit :
>
> Simon,
>
> Many thanks, as always! It was actually a bit trickier since I run R
> as root and then install.packages(). So this is what I needed:
>
> sudo PKG_LIBS=-L/sw/lib R
>
> ...and then I could install.packages("Rcpp").
>
> ...I'm sure you knew that, but I'm in favor of posting solutions to mailing
> lists. Additional replies inline.
>
> On Tue, 29 Jun 2010, Simon Urbanek wrote:
>
>> Adam,
>>
>> the correct way to specify custom linking flags is via PKG_LIBS so try
>> that (more comments inline).
>>
>> Cheers,
>> Simon
>>
>>
>> On Jun 29, 2010, at 5:42 PM, Adam D. I. Kramer wrote:
>>
>>> Hi,
>>>
>>> I tried to install the source version of Rcpp under 64-bit R 2.11.1,
>>> which I had compiled myself under OS 10.6.4. The install.packages() run
>>> failed, however, with this error:
>>>
>>> g++ -arch x86_64 -o libRcpp.dylib Date.o DateVector.o Datetime.o
>>> DatetimeVector.o Dimension.o DottedPair.o Environment.o Evaluator.o
>>> Formula.o Function.o Language.o Module.o Pairlist.o Promise.o RObject.o
>>> RcppCommon.o RcppDate.o RcppDateVector.o RcppDatetime.o
>>> RcppDatetimeVector.o
>>> RcppFrame.o RcppFunction.o RcppList.o RcppNumList.o RcppParams.o
>>> RcppResultSet.o RcppStringVector.o RcppStringVectorView.o S4.o Symbol.o
>>> WeakReference.o coerce.o debugging.o exceptions.o posixt.o r_cast.o
>>> -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup
>>> -single_module -multiply_defined suppress -lintl -Wl,-framework
>>> -Wl,CoreFoundation
>>> ld: library not found for -lintl
>>> collect2: ld returned 1 exit status
>>> make: *** [libRcpp] Error 1
>>> ERROR: compilation failed for package 'Rcpp'
>>> * removing '/usr/local/lib/R/library/Rcpp'
>>>
>>> ...libintl could not be found. Well, shoot--I have that. It's in
>>> /sw/lib.
>>> So, I tried setting LDFLAGS, I tried setting
>>> --configure-vars="LDFLAGS=-L/sw/lib", I tried setting configure-args the
>>> same way, I added /sw/lib to my LD_LIBRARY_PATH environment
>>> variable...pretty much everything, but when I install.packages() the
>>> above
>>> command does not change even though it is clearly linking.
>>>
>>
>> That is clear - LD_LIBRARY_PATH has no effect on OS X and the package has
>> no configure script so there is no point in trying to set configure-vars
>> ;).
>
> Yep, this is just an instance of me trying everything I could think of.
>
>>> I would also note that LDFLAGS=-L/sw/lib is actually included in my
>>> call to
>>> ./configure when building R in the first place...
>>
>> Your'e asking for trouble with that. Although it is unrelated to your
>> issue if you have fink setup R's configure will pick it up automatically
>> so better stick to that.
>
> I compile R myself, I don't use fink for it. But yes, my setup is
> nonstandard.
>
>>> so my hand-compiled version of R should well know where to look for
>>> libraries.
>>>
>>> So my question to the list: Is there some specific way to make R pass
>>> the
>>> correct flags to the compiler in this case? I can't figure one out.
>>
>> It is well documented in R-exts section 1.2.1.
>
> To be clear, I'm trying to _install_ an extension, not write one. :)
> That is
> why I could not find this result, most likely.
>
>> Just for completeness (not related to your case), packages with configure
>> scripts should respect the usual autoconf settings such as CFLAGS, LIBS
>> etc. and pass them to Makevars as PKG_LIBS etc., but there are some that
>> are badly written and don't.
>
> Right. Rcpp is using "Makevars" and not a configure script, and is required
> for lme4a, which I'm just dying to try out...that's dying for other
> reasons,
> but I'll probably ask on the R-sig-mixed-effects list before coming back
> here.
>
> Thanks again,
> Adam
>
>>> (I also note that if I download the source, unarchive it, and tweak the
>>> makefile to hard-code -L/sw/lib into the path, the package installs just
>>> fine and works...so the problem is in how install.packages() is
>>> working.)
>>>
>>> So, could someone please explain to me how to get R CMD INSTALL or
>>> install.packages() on OSX to add linker flags that I would like to
>>> specify? Or if this is a problem with R in general, or a problem with
>>> Rcpp in general, please kindly let me know. I doubt that I am the only
>>> person having this trouble.
>>>
>>> Cordially,
>>> Adam Kramer
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://bit.ly/98Uf7u : Rcpp 0.8.1
|- http://bit.ly/c6YnCi : graph gallery collage
`- http://bit.ly/bZ7ltC : inline 0.3.5


From richard.liu at pueo-owl.ch  Wed Jul  7 23:17:30 2010
From: richard.liu at pueo-owl.ch (Richard R. Liu)
Date: Wed, 7 Jul 2010 23:17:30 +0200
Subject: [R-SIG-Mac] Error messages when starting Rattle
In-Reply-To: <mailman.17.1278410406.32015.r-sig-mac@stat.math.ethz.ch>
References: <mailman.17.1278410406.32015.r-sig-mac@stat.math.ethz.ch>
Message-ID: <1E979323-0BCA-46ED-897E-7E4C59B6A34D@pueo-owl.ch>

I forward this message after the maintainer of the package informed me that he has not seen these errors before, but has no Mac:

On 6 July 2010 23:49, Richard R. Liu <richard.liu at pueo-owl.ch> wrote:
> Graham,
> 
> 
> When starting rattle 2.5.35 in R 2.11.1 patched I receive the following error
> messages:
> 
> 
> Tue Jul  6 15:43:26 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextSetFont: invalid context 0x0
> Tue Jul  6 15:43:26 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextSetFontSize: invalid context 0x0
> Tue Jul  6 15:43:26 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextSetTextMatrix: invalid context 0x0
> Tue Jul  6 15:43:26 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextClearRect: invalid context 0x0
> Tue Jul  6 15:43:26 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextSetRGBFillColor: invalid context 0x0
> Tue Jul  6 15:43:26 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextShowGlyphsAtPoint: invalid context 0x0
> Tue Jul  6 15:43:27 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextSetFont: invalid context 0x0
> Tue Jul  6 15:43:27 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextSetFontSize: invalid context 0x0
> Tue Jul  6 15:43:27 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextSetTextMatrix: invalid context 0x0
> Tue Jul  6 15:43:27 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextClearRect: invalid context 0x0
> Tue Jul  6 15:43:27 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextSetRGBFillColor: invalid context 0x0
> Tue Jul  6 15:43:27 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextShowGlyphsAtPoint: invalid context 0x0
> Tue Jul  6 15:43:27 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextSetFont: invalid context 0x0
> Tue Jul  6 15:43:27 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextSetFontSize: invalid context 0x0
> Tue Jul  6 15:43:27 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextSetTextMatrix: invalid context 0x0
> Tue Jul  6 15:43:27 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextClearRect: invalid context 0x0
> Tue Jul  6 15:43:27 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextSetRGBFillColor: invalid context 0x0
> Tue Jul  6 15:43:27 rrl-macbookpro.bas.roche.com R[1683] <Error>:
> CGContextShowGlyphsAtPoint: invalid context 0x0
> 
> 
> Additionally, when the file browser is invoked in the Data tab the following
> errors occur:
> 
> 
> 
> (R:1683): Gtk-WARNING **: Unable to find default local directory monitor type
> (R:1683): Gtk-WARNING **: Unable to find default local directory monitor type

Does any body monitoring this list have any idea what might be the problem?  Rattle requires GTK+ and GGobi, both of which I have installed.  The traceback yields no clues either:

> traceback()
2: stop(txt, domain = NA)
1: library(Rattle)
> 

Thanks,

Richard R. Liu
Dittingerstr. 33
CH-4053 Basel
Switzerland

Tel.:  +41 61 331 10 47
Mobil: +41 79 708 67 66
Email:  richard.liu at pueo-owl.ch
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3686 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100707/dfb9e37d/attachment.bin>

From luca at stat.unipg.it  Thu Jul  8 12:33:11 2010
From: luca at stat.unipg.it (Luca Scrucca)
Date: Thu, 8 Jul 2010 12:33:11 +0200
Subject: [R-SIG-Mac] R GUI issues
Message-ID: <E1A55754-A83C-441F-B5A4-0E19705005FD@stat.unipg.it>

Dear R-Mac users,

I have a couple of problems and I haven't been able to find any useful  
hint in the available documentation or in the archive of this mailing  
list.
1) I set options("width=79") in my ~/.Rprofile file, together with  
other settings. Running the R Gui the latter are set as expected, but  
width is different from the desired 79 value. Starting from terminal  
the width is correctly set at 79. Playing around a little bit I  
realized that if I resize the R Gui and close the application, when I  
restart R Gui the options("width") is different from the previous  
value. It seems it is dynamically set depending on the width of the R  
Gui window. However, this value is always much smaller than the  
potential number of characters in a row.
2) In Preferences I selected to open the quartz device on the top  
left, but any quartz window open at the bottom right. Actually, no  
matter which location I choose the device is always open at the bottom  
right.

Thanks a lot for any hint.

Luca

--------------------------------------------------
Luca Scrucca
Dipartimento di Economia, Finanza e Statistica
Sezione di Statistica
Universit? degli Studi di Perugia
Via A. Pascoli, 20
06123 PERUGIA  (ITALY)
Tel. +39-075-5855233
Fax: +39-075-5855950
E-mail:   luca at stat.unipg.it
Web page: http://www.stat.unipg.it/luca


From etienne.low-decarie at mail.mcgill.ca  Fri Jul  9 22:31:23 2010
From: etienne.low-decarie at mail.mcgill.ca (=?Windows-1252?Q?Etienne_Low-D=E9carie?=)
Date: Fri, 9 Jul 2010 16:31:23 -0400
Subject: [R-SIG-Mac] R mobile: iOS
Message-ID: <49476315-A8B5-4181-B4F2-7431AADBF135@no-domain-set.bellcanada>

Good day,

iOS devices (iPhone,iPod and iPad) can be amazing tools, expanding the realm of R usage (to the field even!), and it is already possible to run R on a host computer through command line (through SSH apps for example, with no script editor or graphical output).  I was wondering if R related software was being developed for this operating system.  I am posting these suggestions to this list, as porting software to iOS is similar to porting software to OS X.

Suggested R related iOS software include:

?Directly ported R-help file
?Library of graph examples

?R script editor
?R mobile app based on similar software available for MatLab (http://www.mathworks.com/mobile/), desired for Mathematica (http://quernstone.com/archives/2008/07/mathematica-for.html)
?R mobile helper app (on host computer)

?native R mobile (a crippled native R, SpaceTime pulls off something similar, http://www.spacetime.us/) ?


Thank you and have an excellent day,




Etienne Low-D?carie
PhD student
Bell Lab and Fussmann Lab
McGill University
http://etienne.webhop.org/


From simon.urbanek at r-project.org  Fri Jul  9 22:48:43 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 9 Jul 2010 16:48:43 -0400
Subject: [R-SIG-Mac] R mobile: iOS
In-Reply-To: <49476315-A8B5-4181-B4F2-7431AADBF135@no-domain-set.bellcanada>
References: <49476315-A8B5-4181-B4F2-7431AADBF135@no-domain-set.bellcanada>
Message-ID: <2D475371-001F-4466-B915-9D9A45C42AC7@r-project.org>


On Jul 9, 2010, at 4:31 PM, Etienne Low-D?carie wrote:

> Good day,
> 
> iOS devices (iPhone,iPod and iPad) can be amazing tools, expanding the realm of R usage (to the field even!), and it is already possible to run R on a host computer through command line (through SSH apps for example, with no script editor or graphical output).  I was wondering if R related software was being developed for this operating system.  I am posting these suggestions to this list, as porting software to iOS is similar to porting software to OS X.
> 

Porting is the least problem since that is done (for R) for quite some time now (as you can read int this list). The main issues concern the Apple restrictions on applications which essentially rule out R to be ever used under those conditions.

That said, there are several remote R GUIs written for OS X so it should not be too hard to revive them and switch from Cocoa to UIKit. There are also web-based approaches for the iOS already although not something I would recommend for several reasons including security and flexibility.

Cheers,
Simon


> Suggested R related iOS software include:
> 
> ?Directly ported R-help file
> ?Library of graph examples
> 
> ?R script editor
> ?R mobile app based on similar software available for MatLab (http://www.mathworks.com/mobile/), desired for Mathematica (http://quernstone.com/archives/2008/07/mathematica-for.html)
> ?R mobile helper app (on host computer)
> 
> ?native R mobile (a crippled native R, SpaceTime pulls off something similar, http://www.spacetime.us/) ?
> 
> 
> Thank you and have an excellent day,
> 
> 
> 
> 
> Etienne Low-D?carie
> PhD student
> Bell Lab and Fussmann Lab
> McGill University
> http://etienne.webhop.org/
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From marc_schwartz at me.com  Fri Jul  9 22:49:36 2010
From: marc_schwartz at me.com (Marc Schwartz)
Date: Fri, 09 Jul 2010 15:49:36 -0500
Subject: [R-SIG-Mac] R mobile: iOS
In-Reply-To: <49476315-A8B5-4181-B4F2-7431AADBF135@no-domain-set.bellcanada>
References: <49476315-A8B5-4181-B4F2-7431AADBF135@no-domain-set.bellcanada>
Message-ID: <6003D6AC-B3B0-462F-A0FE-EC4565F17408@me.com>

On Jul 9, 2010, at 3:31 PM, Etienne Low-D?carie wrote:

> Good day,
> 
> iOS devices (iPhone,iPod and iPad) can be amazing tools, expanding the realm of R usage (to the field even!), and it is already possible to run R on a host computer through command line (through SSH apps for example, with no script editor or graphical output).  I was wondering if R related software was being developed for this operating system.  I am posting these suggestions to this list, as porting software to iOS is similar to porting software to OS X.
> 
> Suggested R related iOS software include:
> 
> ?Directly ported R-help file
> ?Library of graph examples
> 
> ?R script editor
> ?R mobile app based on similar software available for MatLab (http://www.mathworks.com/mobile/), desired for Mathematica (http://quernstone.com/archives/2008/07/mathematica-for.html)
> ?R mobile helper app (on host computer)
> 
> ?native R mobile (a crippled native R, SpaceTime pulls off something similar, http://www.spacetime.us/) ?
> 
> 
> Thank you and have an excellent day,


See these two recent posts:

  https://stat.ethz.ch/pipermail/r-help/2010-May/240669.html

  https://stat.ethz.ch/pipermail/r-help/2010-June/240901.html


Nothing new since then, but the logical model for R would be a client/server approach, along the lines of what you reference for MATLAB or what has been done for Wolfram|Alpha.

I am guessing that SpaceTime gets around the interpreted language limitation by being a special purpose 'enhanced calculator', whereas R is a fully functional programming language. 

HTH,

Marc Schwartz


From source at sharpsteen.net  Sat Jul 10 16:24:36 2010
From: source at sharpsteen.net (Charlie Sharpsteen)
Date: Sat, 10 Jul 2010 07:24:36 -0700
Subject: [R-SIG-Mac] R mobile: iOS
Message-ID: <AANLkTikmfrEQbpDu-EQv3Hk7O-fpAPH-r33Kofq-Igm2@mail.gmail.com>

> See these two recent posts:
>
> https://stat.ethz.ch/pipermail/r-help/2010-May/240669.html
>
> https://stat.ethz.ch/pipermail/r-help/2010-June/240901.html
>
> Nothing new since then, but the logical model for R would be a client/server approach, along the lines of what you reference for MATLAB or what has been done for Wolfram|Alpha.

Indeed.  I love my iPhone, but the restrictions placed on it by Apple
are a shameful waste of a perfectly good UNIX operating system.  Same
for the iPad.

I recently got bitten by the desire to try something completely
different in the area of programming languages and have been learning
Erlang.  After three days of work I have nearly completed a web server
that can accept console input over a HTML 5 WebSocket, pipe the
command to Simon's Rserve and then return the results.

I am especially excited about this side project as the Erlang backbone
should allow the whole system to be scaled across multiple servers to
handle large volumes of demand.

-Charlie


From stack at psu.edu  Sat Jul 10 22:55:20 2010
From: stack at psu.edu (Conrad Stack)
Date: Sat, 10 Jul 2010 16:55:20 -0400
Subject: [R-SIG-Mac] Compiling problem:
Message-ID: <AANLkTingPV6tMLCULD4vsUvbh88vCvPqOT6_a3c-HWre@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100710/8059885d/attachment.pl>

From simon.urbanek at r-project.org  Sun Jul 11 18:56:46 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 11 Jul 2010 12:56:46 -0400
Subject: [R-SIG-Mac] Compiling problem:
In-Reply-To: <AANLkTingPV6tMLCULD4vsUvbh88vCvPqOT6_a3c-HWre@mail.gmail.com>
References: <AANLkTingPV6tMLCULD4vsUvbh88vCvPqOT6_a3c-HWre@mail.gmail.com>
Message-ID: <37894DC2-A76E-429B-A0CC-B15F7E956E9E@r-project.org>


On Jul 10, 2010, at 4:55 PM, Conrad Stack wrote:

> Hello fellows,
> 
> I'm currently developing an R package and having some trouble getting it to
> install on Mac OS (the build process works fine on Windows 7 and Ubuntu 10).
> The little prototype that I'm trying to get working compiles a large amount
> of C++ code which is connected to R via Rcpp (0.8.2).  The C++ is compiled
> using autoconfig scripts into a static library which is used in Makevars (in
> the src directory).  Here is the relevant Makevars line (where libBrownie is
> the static library just compiled):
> 
> PKG_LIBS=-s -L. -L./brownie_src -lBrownie -lR -lgsl -lgslcblas -lm
>> /opt/local/lib/R/library/Rcpp/lib/libRcpp.a
> 

That sounds like a lot of trouble in itself (you should not include any R flags since that can break and -lR is not what's used on OS X; -s it bad as well and static libraries are better linked using their name since they have lower priority in -l). But it could be really anything including bugs in your package, so without the actual package I fear we can't help you much.



> This step seems to work fine and if I run the ./configure script which is generated from the autoconfig file,

More trouble - you should never run configure by hand because it will likely use wrong settings (unless it is written such that it attempts to find R and run it to get flags)  - R CMD INSTALL is what you need to use so the correct architecture, compilers and flags are setup.

Cheers,
Simon



> the library builds properly on Mac OS.
> The problem manifests when installing the package:
> 
> ** testing if installed package can be loaded
> 
> 
>> *** caught bus error ***
> 
> address 0x0, cause 'non-existent physical address'
> 
> 
> Traceback:
> 
> 1: dyn.load(file, DLLpath = DLLpath, ...)
> 
> 2: library.dynam(lib, package, package.lib)
> 
> 3: loadNamespace(package, c(which.lib.loc, lib.loc), keep.source =
> keep.source)
> 
> 4: doTryCatch(return(expr), name, parentenv, handler)
> 
> 5: tryCatchOne(expr, names, parentenv, handlers[[1L]])
> 
> 6: tryCatchList(expr, classes, parentenv, handlers)
> 
> 7: tryCatch(expr, error = function(e) {    call <- conditionCall(e)    if
> (!is.null(call)) {        if (identical(call[[1L]], quote(doTryCatch)))
>        call <- sys.call(-4L)        dcall <- deparse(call)[1L]
> prefix <- paste("Error in", dcall, ": ")        LONG <- 75L        msg <-
> conditionMessage(e)        sm <- strsplit(msg, "\n")[[1L]]        w <- 14L +
> nchar(dcall, type = "w") + nchar(sm[1L], type = "w")        if (is.na(w))
>          w <- 14L + nchar(dcall, type = "b") + nchar(sm[1L],
>  type = "b")        if (w > LONG)             prefix <- paste(prefix, "\n
> ", sep = "")    }    else prefix <- "Error : "    msg <- paste(prefix,
> conditionMessage(e), "\n", sep = "")    .Internal(seterrmessage(msg[1L]))
> if (!silent && identical(getOption("show.error.messages"),         TRUE)) {
>       cat(msg, file = stderr())        .Internal(printDeferredWarnings())
> }    invisible(structure(msg, class = "try-error"))})
> 
> 8: try({    ns <- loadNamespace(package, c(which.lib.loc, lib.loc),
> keep.source = keep.source)    dataPath <- file.path(which.lib.loc, package,
> "data")    env <- attachNamespace(ns, pos = pos, dataPath = dataPath,
>  deps)})
> 
> 9: library(pkg_name, lib.loc = lib, character.only = TRUE, logical.return =
> TRUE)
> 
> 10: withCallingHandlers(expr, packageStartupMessage = function(c)
> invokeRestart("muffleMessage"))
> 
> 11: suppressPackageStartupMessages(library(pkg_name, lib.loc = lib,
> character.only = TRUE, logical.return = TRUE))
> 
> 12: doTryCatch(return(expr), name, parentenv, handler)
> 
> 13: tryCatchOne(expr, names, parentenv, handlers[[1L]])
> 
> 14: tryCatchList(expr, classes, parentenv, handlers)
> 
> 15: tryCatch(expr, error = function(e) {    call <- conditionCall(e)    if
> (!is.null(call)) {        if (identical(call[[1L]], quote(doTryCatch)))
>        call <- sys.call(-4L)        dcall <- deparse(call)[1L]
> prefix <- paste("Error in", dcall, ": ")        LONG <- 75L        msg <-
> conditionMessage(e)        sm <- strsplit(msg, "\n")[[1L]]        w <- 14L +
> nchar(dcall, type = "w") + nchar(sm[1L], type = "w")        if (is.na(w))
>          w <- 14L + nchar(dcall, type = "b") + nchar(sm[1L],
>  type = "b")        if (w > LONG)             prefix <- paste(prefix, "\n
> ", sep = "")    }    else prefix <- "Error : "    msg <- paste(prefix,
> conditionMessage(e), "\n", sep = "")    .Internal(seterrmessage(msg[1L]))
> if (!silent && identical(getOption("show.error.messages"),         TRUE)) {
>       cat(msg, file = stderr())        .Internal(printDeferredWarnings())
> }    invisible(structure(msg, class = "try-error"))})
> 
> 16: try(suppressPackageStartupMessages(library(pkg_name, lib.loc = lib,
> character.only = TRUE, logical.return = TRUE)))
> 
> 17: do_install_source(pkg_name, instdir, pkg, desc)
> 
> 18: do_install(pkg)
> 
> 19: tools:::.install_packages()
> 
> aborting ...
> 
> /opt/local/lib/R/bin/INSTALL: line 34:  1357 Done                    echo
> 'tools:::.install_packages()'
> 
>      1358 Bus error               | R_DEFAULT_PACKAGES= LC_COLLATE=C
> "${R_HOME}/bin/R" $myArgs --slave --args ${args}
> 
> I'm not really familiar with Mac OS at all so any direction would be great.
>  Thanks!
> Conrad
> 
> -- 
> Conrad Stack
> -----------------------
> PSU Department of Biology
> 208 Mueller Lab
> University Park, PA 16802
> cell: 814.409.8310
> email: conrad.stack at gmail.com
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From stack at psu.edu  Mon Jul 12 22:57:48 2010
From: stack at psu.edu (Conrad Stack)
Date: Mon, 12 Jul 2010 16:57:48 -0400
Subject: [R-SIG-Mac]  Compiling problem:
In-Reply-To: <AANLkTim0uWYoWv0dtZ9LWx7zHGKbPjJ4aw_loWPLep_D@mail.gmail.com>
References: <AANLkTingPV6tMLCULD4vsUvbh88vCvPqOT6_a3c-HWre@mail.gmail.com>
	<37894DC2-A76E-429B-A0CC-B15F7E956E9E@r-project.org>
	<AANLkTim0uWYoWv0dtZ9LWx7zHGKbPjJ4aw_loWPLep_D@mail.gmail.com>
Message-ID: <AANLkTinZlWqrVcD00k87wj14TNQDPVIOkvsSbEVN3AUW@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100712/e8a0907d/attachment.pl>

From simon.urbanek at r-project.org  Tue Jul 13 00:58:33 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 12 Jul 2010 18:58:33 -0400
Subject: [R-SIG-Mac] Compiling problem:
In-Reply-To: <AANLkTinZlWqrVcD00k87wj14TNQDPVIOkvsSbEVN3AUW@mail.gmail.com>
References: <AANLkTingPV6tMLCULD4vsUvbh88vCvPqOT6_a3c-HWre@mail.gmail.com>
	<37894DC2-A76E-429B-A0CC-B15F7E956E9E@r-project.org>
	<AANLkTim0uWYoWv0dtZ9LWx7zHGKbPjJ4aw_loWPLep_D@mail.gmail.com>
	<AANLkTinZlWqrVcD00k87wj14TNQDPVIOkvsSbEVN3AUW@mail.gmail.com>
Message-ID: <2ECD232D-9B41-478D-B895-73E28FCB53DE@r-project.org>

Conrad,

On Jul 12, 2010, at 4:57 PM, Conrad Stack wrote:

> On Sun, Jul 11, 2010 at 12:56 PM, Simon Urbanek <simon.urbanek at r-project.org
>> wrote:
> 
>> 
>> On Jul 10, 2010, at 4:55 PM, Conrad Stack wrote:
>> 
>>> Hello fellows,
>>> 
>>> I'm currently developing an R package and having some trouble getting it
>> to
>>> install on Mac OS (the build process works fine on Windows 7 and Ubuntu
>> 10).
>>> The little prototype that I'm trying to get working compiles a large
>> amount
>>> of C++ code which is connected to R via Rcpp (0.8.2).  The C++ is
>> compiled
>>> using autoconfig scripts into a static library which is used in Makevars
>> (in
>>> the src directory).  Here is the relevant Makevars line (where libBrownie
>> is
>>> the static library just compiled):
>>> 
>>> PKG_LIBS=-s -L. -L./brownie_src -lBrownie -lR -lgsl -lgslcblas -lm
>>>> /opt/local/lib/R/library/Rcpp/lib/libRcpp.a
>>> 
>> 
>> That sounds like a lot of trouble in itself (you should not include any R
>> flags since that can break and -lR is not what's used on OS X; -s it bad as
>> well and static libraries are better linked using their name since they have
>> lower priority in -l). But it could be really anything including bugs in
>> your package, so without the actual package I fear we can't help you much.
>> 
>> 
> Thanks Simon, linking the static library using it's name directly and
> removing the -lR and -s flags fixed the bus error.  Unfortunately, I'm now
> getting another error when the package tries to load:
> 
> Error in dyn.load("RBrownie.so") :
> 
>  unable to load shared library
>> '/Users/conrad/brownie/RBrownie/src/RBrownie.so':
> 
>  dlopen(/Users/conrad/brownie/RBrownie/src/RBrownie.so, 6): Symbol not
>> found: __ZTV16NewickTreeWriter
> 
>  Referenced from: /Users/conrad/brownie/RBrownie/src/RBrownie.so
> 
>  Expected in: dynamic lookup
> 
> 
> Where that function is from the static library (libBrownie.a) which was not
> being linked properly from before.  I think this is a fairly standard C++
> error, but any help would be appreciated.   I do know enough to run these
> commands:
> (from the static library)
> nm libBrownie.a | grep __ZTV16NewickTreeWriter:
>               U __ZTV16NewickTreeWriter
> 0000f7a0  S __ZTV16NewickTreeWriter
> 
> (from the shared library which R builds):
> nm libBrownie.a | grep __ZTV16NewickTreeWriter
>               U __ZTV16NewickTreeWriter
> 

Unfortunately http://code.google.com/p/brownie/source/checkout doesn't even compile so I don't think we can help you any further. From experience I would still bet on the package flags being wrong (it's a bit tedious to debug since symbols are only resolved at load time, not at link time) but we can't tell without the package.

Cheers,
Simon


> Thanks!
> 
> 
>>> This step seems to work fine and if I run the ./configure script which is
>> generated from the autoconfig file,
>> 
>> More trouble - you should never run configure by hand because it will
>> likely use wrong settings (unless it is written such that it attempts to
>> find R and run it to get flags)  - R CMD INSTALL is what you need to use so
>> the correct architecture, compilers and flags are setup.
>> 
> 
> Yes, my config script uses R to supply the flags, so running configure seems
> to run okay....
> 
> 
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
> 
> 
>> 
>>> the library builds properly on Mac OS.
>>> The problem manifests when installing the package:
>>> 
>>> ** testing if installed package can be loaded
>>> 
>>> 
>>>> *** caught bus error ***
>>> 
>>> address 0x0, cause 'non-existent physical address'
>>> 
>>> 
>>> Traceback:
>>> 
>>> 1: dyn.load(file, DLLpath = DLLpath, ...)
>>> 
>>> 2: library.dynam(lib, package, package.lib)
>>> 
>>> 3: loadNamespace(package, c(which.lib.loc, lib.loc), keep.source =
>>> keep.source)
>>> 
>>> 4: doTryCatch(return(expr), name, parentenv, handler)
>>> 
>>> 5: tryCatchOne(expr, names, parentenv, handlers[[1L]])
>>> 
>>> 6: tryCatchList(expr, classes, parentenv, handlers)
>>> 
>>> 7: tryCatch(expr, error = function(e) {    call <- conditionCall(e)    if
>>> (!is.null(call)) {        if (identical(call[[1L]], quote(doTryCatch)))
>>>       call <- sys.call(-4L)        dcall <- deparse(call)[1L]
>>> prefix <- paste("Error in", dcall, ": ")        LONG <- 75L        msg <-
>>> conditionMessage(e)        sm <- strsplit(msg, "\n")[[1L]]        w <-
>> 14L +
>>> nchar(dcall, type = "w") + nchar(sm[1L], type = "w")        if (is.na
>> (w))
>>>         w <- 14L + nchar(dcall, type = "b") + nchar(sm[1L],
>>> type = "b")        if (w > LONG)             prefix <- paste(prefix, "\n
>>> ", sep = "")    }    else prefix <- "Error : "    msg <- paste(prefix,
>>> conditionMessage(e), "\n", sep = "")    .Internal(seterrmessage(msg[1L]))
>>> if (!silent && identical(getOption("show.error.messages"),         TRUE))
>> {
>>>      cat(msg, file = stderr())        .Internal(printDeferredWarnings())
>>> }    invisible(structure(msg, class = "try-error"))})
>>> 
>>> 8: try({    ns <- loadNamespace(package, c(which.lib.loc, lib.loc),
>>> keep.source = keep.source)    dataPath <- file.path(which.lib.loc,
>> package,
>>> "data")    env <- attachNamespace(ns, pos = pos, dataPath = dataPath,
>>> deps)})
>>> 
>>> 9: library(pkg_name, lib.loc = lib, character.only = TRUE, logical.return
>> =
>>> TRUE)
>>> 
>>> 10: withCallingHandlers(expr, packageStartupMessage = function(c)
>>> invokeRestart("muffleMessage"))
>>> 
>>> 11: suppressPackageStartupMessages(library(pkg_name, lib.loc = lib,
>>> character.only = TRUE, logical.return = TRUE))
>>> 
>>> 12: doTryCatch(return(expr), name, parentenv, handler)
>>> 
>>> 13: tryCatchOne(expr, names, parentenv, handlers[[1L]])
>>> 
>>> 14: tryCatchList(expr, classes, parentenv, handlers)
>>> 
>>> 15: tryCatch(expr, error = function(e) {    call <- conditionCall(e)
>> if
>>> (!is.null(call)) {        if (identical(call[[1L]], quote(doTryCatch)))
>>>       call <- sys.call(-4L)        dcall <- deparse(call)[1L]
>>> prefix <- paste("Error in", dcall, ": ")        LONG <- 75L        msg <-
>>> conditionMessage(e)        sm <- strsplit(msg, "\n")[[1L]]        w <-
>> 14L +
>>> nchar(dcall, type = "w") + nchar(sm[1L], type = "w")        if (is.na
>> (w))
>>>         w <- 14L + nchar(dcall, type = "b") + nchar(sm[1L],
>>> type = "b")        if (w > LONG)             prefix <- paste(prefix, "\n
>>> ", sep = "")    }    else prefix <- "Error : "    msg <- paste(prefix,
>>> conditionMessage(e), "\n", sep = "")    .Internal(seterrmessage(msg[1L]))
>>> if (!silent && identical(getOption("show.error.messages"),         TRUE))
>> {
>>>      cat(msg, file = stderr())        .Internal(printDeferredWarnings())
>>> }    invisible(structure(msg, class = "try-error"))})
>>> 
>>> 16: try(suppressPackageStartupMessages(library(pkg_name, lib.loc = lib,
>>> character.only = TRUE, logical.return = TRUE)))
>>> 
>>> 17: do_install_source(pkg_name, instdir, pkg, desc)
>>> 
>>> 18: do_install(pkg)
>>> 
>>> 19: tools:::.install_packages()
>>> 
>>> aborting ...
>>> 
>>> /opt/local/lib/R/bin/INSTALL: line 34:  1357 Done                    echo
>>> 'tools:::.install_packages()'
>>> 
>>>     1358 Bus error               | R_DEFAULT_PACKAGES= LC_COLLATE=C
>>> "${R_HOME}/bin/R" $myArgs --slave --args ${args}
>>> 
>>> I'm not really familiar with Mac OS at all so any direction would be
>> great.
>>> Thanks!
>>> Conrad
>>> 
>>> --
>>> Conrad Stack
>>> -----------------------
>>> PSU Department of Biology
>>> 208 Mueller Lab
>>> University Park, PA 16802
>>> cell: 814.409.8310
>>> email: conrad.stack at gmail.com
>>> 
>>>      [[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
>> 
>> 
> 
> 
> -- 
> Conrad Stack
> -----------------------
> PSU Department of Biology
> 208 Mueller Lab
> University Park, PA 16802
> cell: 814.409.8310
> email: conrad.stack at gmail.com
> 
> 
> 
> -- 
> Conrad Stack
> -----------------------
> PSU Department of Biology
> 208 Mueller Lab
> University Park, PA 16802
> cell: 814.409.8310
> email: conrad.stack at gmail.com
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From romain.francois at dbmail.com  Tue Jul 13 14:10:14 2010
From: romain.francois at dbmail.com (Romain Francois)
Date: Tue, 13 Jul 2010 14:10:14 +0200
Subject: [R-SIG-Mac] Rcpp 0.8.3 on Mac OS X 10.5.8
In-Reply-To: <20100713135928.7f883p980g8k8kks@imp.inserm.fr>
References: <20100713133825.wjr0nq2x44480kgo@imp.inserm.fr>	<4C3C5316.20806@r-enthusiasts.com>
	<20100713135928.7f883p980g8k8kks@imp.inserm.fr>
Message-ID: <4C3C57A6.1080500@dbmail.com>


Le 13/07/10 13:59, Ken Knoblauch a ?crit :
> Salut Romain,
>
> Thanks for your rapid response. Toujours pas de chance.
>
> Just for verification, my gcc
>
> [Macintosh-83:~] knoblauch% gcc --version
> i686-apple-darwin9-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5577)
> Copyright (C) 2007 Free Software Foundation, Inc.
> This is free software; see the source for copying conditions. There is NO
> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

IIRC, this is the version (both OS and compiler version) that is used on 
CRAN so there is nothing fundamentally wrong about these.

I'm cc'ing the r-sig-mac mailing list where people might have more 
clues, as I am afraid I'm short :-(

Romain

> [Macintosh-83:~] knoblauch% svn checkout
> svn://svn.r-forge.r-project.org/svnroot/rcpp/pkg
> A pkg/RcppExamples
> ...
>
> [Macintosh-83:~] knoblauch% cd pkg
> [Macintosh-83:~/pkg] knoblauch% R CMD INSTALL -l
> ~/Library/R/2.11/library/ Rcpp
> * installing *source* package ?Rcpp? ...
> ** libs
> *** arch - i386
> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include
> -I/Library/Frameworks/R.framework/Resources/include/i386
> -I../inst/include/ -I/usr/local/include -fPIC -g -O2 -c Date.cpp -o Date.o
> ../inst/include/Rcpp/internal/export.h: In function 'void
> Rcpp::internal::export_range__dispatch(SEXPREC*, InputIterator,
> Rcpp::traits::r_type_primitive_tag)':
> ../inst/include/Rcpp/internal/export.h:56: internal compiler error: Bus
> error
> Please submit a full bug report,
> with preprocessed source if appropriate.
> See <URL:http://developer.apple.com/bugreporter> for instructions.
> make: *** [Date.o] Error 1
> ERROR: compilation failed for package ?Rcpp?
> * removing ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
> * restoring previous ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>
> So, still the same problem. Could this be a Leopard vs Snow Leopard
> problem?
>
> Thanks.
>
> best,
>
> Ken
>
> PS, I'll subscribe shortly, but went ahead and tried your
> suggestion first.
>
>
>
>
> Quoting Romain Francois <romain at r-enthusiasts.com>:
>
>> Bonjour Ken,
>>
>> We usually encourage people to use the mailing list (cc'ed) rather than
>> the maintainer address (you would need to subsribe first)
>> http://lists.r-forge.r-project.org/mailman/listinfo/rcpp-devel
>>
>> I think this was fixed and the version 0.8.4 is on CRAN incoming.
>>
>> Could you try the svn version and let us know if it compiles fine, it
>> certainly does for me on Snow Leopard.
>>
>> $ svn checkout svn://svn.r-forge.r-project.org/svnroot/rcpp/pkg
>> $ R CMD INSTALL Rcpp
>>
>> Thanks for your interest in Rcpp.
>>
>> FWIW, my version of gcc (on snow leopard) is:
>>
>> $ gcc --version
>> i686-apple-darwin10-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5659)
>> Copyright (C) 2007 Free Software Foundation, Inc.
>> This is free software; see the source for copying conditions. There is NO
>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR
>> PURPOSE.
>>
>> ... time passes ...
>>
>> Now this does sound familiar and I think we have seen some similar
>> errors when Rcpp was inadvertently built with gcc 4.0 on CRAN
>>
>> Romain
>>
>> Le 13/07/10 13:38, Ken Knoblauch a ?crit :
>>> Hi,
>>>
>>> I'm wondering if you can provide any suggestions for installing
>>> Rcpp on Mac or whether I should await the appearance of a binary?
>>>
>>> This is the error message that I get:
>>>
>>> R CMD INSTALL --no-multiarch -l ~/Library/R/2.11/library/
>>> Rcpp_0.8.3.tar.gz
>>> * installing *source* package ?Rcpp? ...
>>> ** libs
>>> *** arch - i386
>>> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include
>>> -I/Library/Frameworks/R.framework/Resources/include/i386
>>> -I../inst/include/ -I/usr/local/include -fPIC -g -O2 -c Date.cpp -o
>>> Date.o
>>> ../inst/include/Rcpp/internal/export.h: In function 'void
>>> Rcpp::internal::export_range__dispatch(SEXPREC*, InputIterator,
>>> Rcpp::traits::r_type_primitive_tag)':
>>> ../inst/include/Rcpp/internal/export.h:56: internal compiler error: Bus
>>> error
>>> Please submit a full bug report,
>>> with preprocessed source if appropriate.
>>> See <URL:http://developer.apple.com/bugreporter> for instructions.
>>> make: *** [Date.o] Error 1
>>> ERROR: compilation failed for package ?Rcpp?
>>> * removing ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>> * restoring previous ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>
>>> Is this a question of having the right compiler or ???
>>>
>>> I did this from the command line but my sessionInfo is:
>>> R version 2.11.1 Patched (2010-07-09 r52501)
>>> i386-apple-darwin9.8.0
>>>
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>
>>> attached base packages:
>>> [1] stats graphics grDevices utils datasets methods
>>> [7] base
>>>
>>> I don't have problems compiling any other packages from source except
>>> lme4a, so I would be greatful for any guidance.
>>>
>>> Thanks.
>>>
>>> Best,
>>>
>>> Ken



-- 
Romain Francois
Professional R Enthusiast
+33(0) 6 28 91 30 30
http://romainfrancois.blog.free.fr
|- http://bit.ly/bc8jNi : Rcpp 0.8.4
|- http://bit.ly/dz0RlX : bibtex 0.2-1
`- http://bit.ly/a5CK2h : Les estivales 2010


From ken.knoblauch at inserm.fr  Tue Jul 13 14:13:08 2010
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Tue, 13 Jul 2010 14:13:08 +0200
Subject: [R-SIG-Mac] Rcpp 0.8.3 on Mac OS X 10.5.8
In-Reply-To: <4C3C57A6.1080500@dbmail.com>
References: <20100713133825.wjr0nq2x44480kgo@imp.inserm.fr>
	<4C3C5316.20806@r-enthusiasts.com>
	<20100713135928.7f883p980g8k8kks@imp.inserm.fr>
	<4C3C57A6.1080500@dbmail.com>
Message-ID: <20100713141308.ba7x4cvmyo0g8wwg@imp.inserm.fr>

Thanks.  I'm in mode d'attente...

A+

Quoting Romain Francois <romain.francois at dbmail.com>:

>
> Le 13/07/10 13:59, Ken Knoblauch a ?crit :
>> Salut Romain,
>>
>> Thanks for your rapid response. Toujours pas de chance.
>>
>> Just for verification, my gcc
>>
>> [Macintosh-83:~] knoblauch% gcc --version
>> i686-apple-darwin9-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5577)
>> Copyright (C) 2007 Free Software Foundation, Inc.
>> This is free software; see the source for copying conditions. There is NO
>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
>
> IIRC, this is the version (both OS and compiler version) that is used
> on CRAN so there is nothing fundamentally wrong about these.
>
> I'm cc'ing the r-sig-mac mailing list where people might have more
> clues, as I am afraid I'm short :-(
>
> Romain
>
>> [Macintosh-83:~] knoblauch% svn checkout
>> svn://svn.r-forge.r-project.org/svnroot/rcpp/pkg
>> A pkg/RcppExamples
>> ...
>>
>> [Macintosh-83:~] knoblauch% cd pkg
>> [Macintosh-83:~/pkg] knoblauch% R CMD INSTALL -l
>> ~/Library/R/2.11/library/ Rcpp
>> * installing *source* package ?Rcpp? ...
>> ** libs
>> *** arch - i386
>> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include
>> -I/Library/Frameworks/R.framework/Resources/include/i386
>> -I../inst/include/ -I/usr/local/include -fPIC -g -O2 -c Date.cpp -o Date.o
>> ../inst/include/Rcpp/internal/export.h: In function 'void
>> Rcpp::internal::export_range__dispatch(SEXPREC*, InputIterator,
>> Rcpp::traits::r_type_primitive_tag)':
>> ../inst/include/Rcpp/internal/export.h:56: internal compiler error: Bus
>> error
>> Please submit a full bug report,
>> with preprocessed source if appropriate.
>> See <URL:http://developer.apple.com/bugreporter> for instructions.
>> make: *** [Date.o] Error 1
>> ERROR: compilation failed for package ?Rcpp?
>> * removing ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>> * restoring previous ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>
>> So, still the same problem. Could this be a Leopard vs Snow Leopard
>> problem?
>>
>> Thanks.
>>
>> best,
>>
>> Ken
>>
>> PS, I'll subscribe shortly, but went ahead and tried your
>> suggestion first.
>>
>>
>>
>>
>> Quoting Romain Francois <romain at r-enthusiasts.com>:
>>
>>> Bonjour Ken,
>>>
>>> We usually encourage people to use the mailing list (cc'ed) rather than
>>> the maintainer address (you would need to subsribe first)
>>> http://lists.r-forge.r-project.org/mailman/listinfo/rcpp-devel
>>>
>>> I think this was fixed and the version 0.8.4 is on CRAN incoming.
>>>
>>> Could you try the svn version and let us know if it compiles fine, it
>>> certainly does for me on Snow Leopard.
>>>
>>> $ svn checkout svn://svn.r-forge.r-project.org/svnroot/rcpp/pkg
>>> $ R CMD INSTALL Rcpp
>>>
>>> Thanks for your interest in Rcpp.
>>>
>>> FWIW, my version of gcc (on snow leopard) is:
>>>
>>> $ gcc --version
>>> i686-apple-darwin10-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5659)
>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>> This is free software; see the source for copying conditions. There is NO
>>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR
>>> PURPOSE.
>>>
>>> ... time passes ...
>>>
>>> Now this does sound familiar and I think we have seen some similar
>>> errors when Rcpp was inadvertently built with gcc 4.0 on CRAN
>>>
>>> Romain
>>>
>>> Le 13/07/10 13:38, Ken Knoblauch a ?crit :
>>>> Hi,
>>>>
>>>> I'm wondering if you can provide any suggestions for installing
>>>> Rcpp on Mac or whether I should await the appearance of a binary?
>>>>
>>>> This is the error message that I get:
>>>>
>>>> R CMD INSTALL --no-multiarch -l ~/Library/R/2.11/library/
>>>> Rcpp_0.8.3.tar.gz
>>>> * installing *source* package ?Rcpp? ...
>>>> ** libs
>>>> *** arch - i386
>>>> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include
>>>> -I/Library/Frameworks/R.framework/Resources/include/i386
>>>> -I../inst/include/ -I/usr/local/include -fPIC -g -O2 -c Date.cpp -o
>>>> Date.o
>>>> ../inst/include/Rcpp/internal/export.h: In function 'void
>>>> Rcpp::internal::export_range__dispatch(SEXPREC*, InputIterator,
>>>> Rcpp::traits::r_type_primitive_tag)':
>>>> ../inst/include/Rcpp/internal/export.h:56: internal compiler error: Bus
>>>> error
>>>> Please submit a full bug report,
>>>> with preprocessed source if appropriate.
>>>> See <URL:http://developer.apple.com/bugreporter> for instructions.
>>>> make: *** [Date.o] Error 1
>>>> ERROR: compilation failed for package ?Rcpp?
>>>> * removing ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>> * restoring previous ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>>
>>>> Is this a question of having the right compiler or ???
>>>>
>>>> I did this from the command line but my sessionInfo is:
>>>> R version 2.11.1 Patched (2010-07-09 r52501)
>>>> i386-apple-darwin9.8.0
>>>>
>>>> locale:
>>>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>>
>>>> attached base packages:
>>>> [1] stats graphics grDevices utils datasets methods
>>>> [7] base
>>>>
>>>> I don't have problems compiling any other packages from source except
>>>> lme4a, so I would be greatful for any guidance.
>>>>
>>>> Thanks.
>>>>
>>>> Best,
>>>>
>>>> Ken
>
>
>
> -- 
> Romain Francois
> Professional R Enthusiast
> +33(0) 6 28 91 30 30
> http://romainfrancois.blog.free.fr
> |- http://bit.ly/bc8jNi : Rcpp 0.8.4
> |- http://bit.ly/dz0RlX : bibtex 0.2-1
> `- http://bit.ly/a5CK2h : Les estivales 2010



-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From simon.urbanek at r-project.org  Tue Jul 13 17:57:01 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 13 Jul 2010 11:57:01 -0400
Subject: [R-SIG-Mac] Rcpp 0.8.3 on Mac OS X 10.5.8
In-Reply-To: <20100713141308.ba7x4cvmyo0g8wwg@imp.inserm.fr>
References: <20100713133825.wjr0nq2x44480kgo@imp.inserm.fr>
	<4C3C5316.20806@r-enthusiasts.com>
	<20100713135928.7f883p980g8k8kks@imp.inserm.fr>
	<4C3C57A6.1080500@dbmail.com>
	<20100713141308.ba7x4cvmyo0g8wwg@imp.inserm.fr>
Message-ID: <000E2EFA-C0E7-48D9-B11B-8ED0F5F1FD6E@r-project.org>


On Jul 13, 2010, at 8:13 AM, Ken Knoblauch wrote:

> Thanks.  I'm in mode d'attente...
> 

I did not see the exact OS version mentioned anywhere but as Romain pointed out it's working just fine on OS X 10.5.8 with gcc 5577:

hagal:~$ gcc --version
i686-apple-darwin9-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5577)
Copyright (C) 2007 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

hagal:~$ uname -r
9.8.0


[...]
* installing *source* package 'Rcpp' ...
** libs
*** arch - i386
g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/i386 -I../inst/include/ -I/usr/local/include    -fPIC  -g -O2 -c Date.cpp -o Date.o
g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/i386 -I../inst/include/ -I/usr/local/include    -fPIC  -g -O2 -c DateVector.cpp -o DateVector.o
g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/i386 -I../inst/include/ -I/usr/local/include    -fPIC  -g -O2 -c Datetime.cpp -o Datetime.o
[...]

So my only advice really is to re-install Xcode...

Cheers,
Simon


> 
> Quoting Romain Francois <romain.francois at dbmail.com>:
> 
>> 
>> Le 13/07/10 13:59, Ken Knoblauch a ?crit :
>>> Salut Romain,
>>> 
>>> Thanks for your rapid response. Toujours pas de chance.
>>> 
>>> Just for verification, my gcc
>>> 
>>> [Macintosh-83:~] knoblauch% gcc --version
>>> i686-apple-darwin9-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5577)
>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>> This is free software; see the source for copying conditions. There is NO
>>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
>> 
>> IIRC, this is the version (both OS and compiler version) that is used
>> on CRAN so there is nothing fundamentally wrong about these.
>> 
>> I'm cc'ing the r-sig-mac mailing list where people might have more
>> clues, as I am afraid I'm short :-(
>> 
>> Romain
>> 
>>> [Macintosh-83:~] knoblauch% svn checkout
>>> svn://svn.r-forge.r-project.org/svnroot/rcpp/pkg
>>> A pkg/RcppExamples
>>> ...
>>> 
>>> [Macintosh-83:~] knoblauch% cd pkg
>>> [Macintosh-83:~/pkg] knoblauch% R CMD INSTALL -l
>>> ~/Library/R/2.11/library/ Rcpp
>>> * installing *source* package ?Rcpp? ...
>>> ** libs
>>> *** arch - i386
>>> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include
>>> -I/Library/Frameworks/R.framework/Resources/include/i386
>>> -I../inst/include/ -I/usr/local/include -fPIC -g -O2 -c Date.cpp -o Date.o
>>> ../inst/include/Rcpp/internal/export.h: In function 'void
>>> Rcpp::internal::export_range__dispatch(SEXPREC*, InputIterator,
>>> Rcpp::traits::r_type_primitive_tag)':
>>> ../inst/include/Rcpp/internal/export.h:56: internal compiler error: Bus
>>> error
>>> Please submit a full bug report,
>>> with preprocessed source if appropriate.
>>> See <URL:http://developer.apple.com/bugreporter> for instructions.
>>> make: *** [Date.o] Error 1
>>> ERROR: compilation failed for package ?Rcpp?
>>> * removing ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>> * restoring previous ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>> 
>>> So, still the same problem. Could this be a Leopard vs Snow Leopard
>>> problem?
>>> 
>>> Thanks.
>>> 
>>> best,
>>> 
>>> Ken
>>> 
>>> PS, I'll subscribe shortly, but went ahead and tried your
>>> suggestion first.
>>> 
>>> 
>>> 
>>> 
>>> Quoting Romain Francois <romain at r-enthusiasts.com>:
>>> 
>>>> Bonjour Ken,
>>>> 
>>>> We usually encourage people to use the mailing list (cc'ed) rather than
>>>> the maintainer address (you would need to subsribe first)
>>>> http://lists.r-forge.r-project.org/mailman/listinfo/rcpp-devel
>>>> 
>>>> I think this was fixed and the version 0.8.4 is on CRAN incoming.
>>>> 
>>>> Could you try the svn version and let us know if it compiles fine, it
>>>> certainly does for me on Snow Leopard.
>>>> 
>>>> $ svn checkout svn://svn.r-forge.r-project.org/svnroot/rcpp/pkg
>>>> $ R CMD INSTALL Rcpp
>>>> 
>>>> Thanks for your interest in Rcpp.
>>>> 
>>>> FWIW, my version of gcc (on snow leopard) is:
>>>> 
>>>> $ gcc --version
>>>> i686-apple-darwin10-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5659)
>>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>>> This is free software; see the source for copying conditions. There is NO
>>>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR
>>>> PURPOSE.
>>>> 
>>>> ... time passes ...
>>>> 
>>>> Now this does sound familiar and I think we have seen some similar
>>>> errors when Rcpp was inadvertently built with gcc 4.0 on CRAN
>>>> 
>>>> Romain
>>>> 
>>>> Le 13/07/10 13:38, Ken Knoblauch a ?crit :
>>>>> Hi,
>>>>> 
>>>>> I'm wondering if you can provide any suggestions for installing
>>>>> Rcpp on Mac or whether I should await the appearance of a binary?
>>>>> 
>>>>> This is the error message that I get:
>>>>> 
>>>>> R CMD INSTALL --no-multiarch -l ~/Library/R/2.11/library/
>>>>> Rcpp_0.8.3.tar.gz
>>>>> * installing *source* package ?Rcpp? ...
>>>>> ** libs
>>>>> *** arch - i386
>>>>> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include
>>>>> -I/Library/Frameworks/R.framework/Resources/include/i386
>>>>> -I../inst/include/ -I/usr/local/include -fPIC -g -O2 -c Date.cpp -o
>>>>> Date.o
>>>>> ../inst/include/Rcpp/internal/export.h: In function 'void
>>>>> Rcpp::internal::export_range__dispatch(SEXPREC*, InputIterator,
>>>>> Rcpp::traits::r_type_primitive_tag)':
>>>>> ../inst/include/Rcpp/internal/export.h:56: internal compiler error: Bus
>>>>> error
>>>>> Please submit a full bug report,
>>>>> with preprocessed source if appropriate.
>>>>> See <URL:http://developer.apple.com/bugreporter> for instructions.
>>>>> make: *** [Date.o] Error 1
>>>>> ERROR: compilation failed for package ?Rcpp?
>>>>> * removing ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>>> * restoring previous ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>>> 
>>>>> Is this a question of having the right compiler or ???
>>>>> 
>>>>> I did this from the command line but my sessionInfo is:
>>>>> R version 2.11.1 Patched (2010-07-09 r52501)
>>>>> i386-apple-darwin9.8.0
>>>>> 
>>>>> locale:
>>>>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>>> 
>>>>> attached base packages:
>>>>> [1] stats graphics grDevices utils datasets methods
>>>>> [7] base
>>>>> 
>>>>> I don't have problems compiling any other packages from source except
>>>>> lme4a, so I would be greatful for any guidance.
>>>>> 
>>>>> Thanks.
>>>>> 
>>>>> Best,
>>>>> 
>>>>> Ken
>> 
>> 
>> 
>> -- 
>> Romain Francois
>> Professional R Enthusiast
>> +33(0) 6 28 91 30 30
>> http://romainfrancois.blog.free.fr
>> |- http://bit.ly/bc8jNi : Rcpp 0.8.4
>> |- http://bit.ly/dz0RlX : bibtex 0.2-1
>> `- http://bit.ly/a5CK2h : Les estivales 2010
> 
> 
> 
> -- 
> Ken Knoblauch
> Inserm U846
> Stem-cell and Brain Research Institute
> Department of Integrative Neurosciences
> 18 avenue du Doyen L?pine
> 69500 Bron
> France
> tel: +33 (0)4 72 91 34 77
> fax: +33 (0)4 72 91 34 61
> portable: +33 (0)6 84 10 64 10
> http://www.sbri.fr/members/kenneth-knoblauch.html
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ken.knoblauch at inserm.fr  Tue Jul 13 18:04:36 2010
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Tue, 13 Jul 2010 18:04:36 +0200
Subject: [R-SIG-Mac] Rcpp 0.8.3 on Mac OS X 10.5.8
In-Reply-To: <000E2EFA-C0E7-48D9-B11B-8ED0F5F1FD6E@r-project.org>
References: <20100713133825.wjr0nq2x44480kgo@imp.inserm.fr>
	<4C3C5316.20806@r-enthusiasts.com>
	<20100713135928.7f883p980g8k8kks@imp.inserm.fr>
	<4C3C57A6.1080500@dbmail.com>
	<20100713141308.ba7x4cvmyo0g8wwg@imp.inserm.fr>
	<000E2EFA-C0E7-48D9-B11B-8ED0F5F1FD6E@r-project.org>
Message-ID: <20100713180436.z4h1jhrj4gcgsc08@imp.inserm.fr>

Hi Simon,

The information wasn't in the mail that he forwarded but
I had communicated it in a previous mail. Sorry.

[Macintosh-83:~] knoblauch% gcc --version
i686-apple-darwin9-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5577)

[Macintosh-83:~] knoblauch% uname -r
9.8.0


I'm currently working with Mac OS X 10.5.8 and have Xcode 3.1.4.

Also,

Macintosh-83:~] knoblauch% gfortran --version
GNU Fortran (GCC) 4.2.3
Copyright (C) 2007 Free Software Foundation, Inc.

if that is of use.

I'll give reinstalling Xcode a try.  I hadn't thought of
that.  Thanks.

Ken

Quoting Simon Urbanek <simon.urbanek at r-project.org>:

>
> On Jul 13, 2010, at 8:13 AM, Ken Knoblauch wrote:
>
>> Thanks.  I'm in mode d'attente...
>>
>
> I did not see the exact OS version mentioned anywhere but as Romain   
> pointed out it's working just fine on OS X 10.5.8 with gcc 5577:
>
> hagal:~$ gcc --version
> i686-apple-darwin9-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5577)
> Copyright (C) 2007 Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.  There is NO
> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
>
> hagal:~$ uname -r
> 9.8.0
>
>
> [...]
> * installing *source* package 'Rcpp' ...
> ** libs
> *** arch - i386
> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include   
> -I/Library/Frameworks/R.framework/Resources/include/i386   
> -I../inst/include/ -I/usr/local/include    -fPIC  -g -O2 -c Date.cpp  
>  -o Date.o
> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include   
> -I/Library/Frameworks/R.framework/Resources/include/i386   
> -I../inst/include/ -I/usr/local/include    -fPIC  -g -O2 -c   
> DateVector.cpp -o DateVector.o
> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include   
> -I/Library/Frameworks/R.framework/Resources/include/i386   
> -I../inst/include/ -I/usr/local/include    -fPIC  -g -O2 -c   
> Datetime.cpp -o Datetime.o
> [...]
>
> So my only advice really is to re-install Xcode...
>
> Cheers,
> Simon
>
>
>>
>> Quoting Romain Francois <romain.francois at dbmail.com>:
>>
>>>
>>> Le 13/07/10 13:59, Ken Knoblauch a ?crit :
>>>> Salut Romain,
>>>>
>>>> Thanks for your rapid response. Toujours pas de chance.
>>>>
>>>> Just for verification, my gcc
>>>>
>>>> [Macintosh-83:~] knoblauch% gcc --version
>>>> i686-apple-darwin9-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5577)
>>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>>> This is free software; see the source for copying conditions. There is NO
>>>> warranty; not even for MERCHANTABILITY or FITNESS FOR A   
>>>> PARTICULAR PURPOSE.
>>>
>>> IIRC, this is the version (both OS and compiler version) that is used
>>> on CRAN so there is nothing fundamentally wrong about these.
>>>
>>> I'm cc'ing the r-sig-mac mailing list where people might have more
>>> clues, as I am afraid I'm short :-(
>>>
>>> Romain
>>>
>>>> [Macintosh-83:~] knoblauch% svn checkout
>>>> svn://svn.r-forge.r-project.org/svnroot/rcpp/pkg
>>>> A pkg/RcppExamples
>>>> ...
>>>>
>>>> [Macintosh-83:~] knoblauch% cd pkg
>>>> [Macintosh-83:~/pkg] knoblauch% R CMD INSTALL -l
>>>> ~/Library/R/2.11/library/ Rcpp
>>>> * installing *source* package ?Rcpp? ...
>>>> ** libs
>>>> *** arch - i386
>>>> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include
>>>> -I/Library/Frameworks/R.framework/Resources/include/i386
>>>> -I../inst/include/ -I/usr/local/include -fPIC -g -O2 -c Date.cpp -o Date.o
>>>> ../inst/include/Rcpp/internal/export.h: In function 'void
>>>> Rcpp::internal::export_range__dispatch(SEXPREC*, InputIterator,
>>>> Rcpp::traits::r_type_primitive_tag)':
>>>> ../inst/include/Rcpp/internal/export.h:56: internal compiler error: Bus
>>>> error
>>>> Please submit a full bug report,
>>>> with preprocessed source if appropriate.
>>>> See <URL:http://developer.apple.com/bugreporter> for instructions.
>>>> make: *** [Date.o] Error 1
>>>> ERROR: compilation failed for package ?Rcpp?
>>>> * removing ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>> * restoring previous ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>>
>>>> So, still the same problem. Could this be a Leopard vs Snow Leopard
>>>> problem?
>>>>
>>>> Thanks.
>>>>
>>>> best,
>>>>
>>>> Ken
>>>>
>>>> PS, I'll subscribe shortly, but went ahead and tried your
>>>> suggestion first.
>>>>
>>>>
>>>>
>>>>
>>>> Quoting Romain Francois <romain at r-enthusiasts.com>:
>>>>
>>>>> Bonjour Ken,
>>>>>
>>>>> We usually encourage people to use the mailing list (cc'ed) rather than
>>>>> the maintainer address (you would need to subsribe first)
>>>>> http://lists.r-forge.r-project.org/mailman/listinfo/rcpp-devel
>>>>>
>>>>> I think this was fixed and the version 0.8.4 is on CRAN incoming.
>>>>>
>>>>> Could you try the svn version and let us know if it compiles fine, it
>>>>> certainly does for me on Snow Leopard.
>>>>>
>>>>> $ svn checkout svn://svn.r-forge.r-project.org/svnroot/rcpp/pkg
>>>>> $ R CMD INSTALL Rcpp
>>>>>
>>>>> Thanks for your interest in Rcpp.
>>>>>
>>>>> FWIW, my version of gcc (on snow leopard) is:
>>>>>
>>>>> $ gcc --version
>>>>> i686-apple-darwin10-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5659)
>>>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>>>> This is free software; see the source for copying conditions. There is NO
>>>>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR
>>>>> PURPOSE.
>>>>>
>>>>> ... time passes ...
>>>>>
>>>>> Now this does sound familiar and I think we have seen some similar
>>>>> errors when Rcpp was inadvertently built with gcc 4.0 on CRAN
>>>>>
>>>>> Romain
>>>>>
>>>>> Le 13/07/10 13:38, Ken Knoblauch a ?crit :
>>>>>> Hi,
>>>>>>
>>>>>> I'm wondering if you can provide any suggestions for installing
>>>>>> Rcpp on Mac or whether I should await the appearance of a binary?
>>>>>>
>>>>>> This is the error message that I get:
>>>>>>
>>>>>> R CMD INSTALL --no-multiarch -l ~/Library/R/2.11/library/
>>>>>> Rcpp_0.8.3.tar.gz
>>>>>> * installing *source* package ?Rcpp? ...
>>>>>> ** libs
>>>>>> *** arch - i386
>>>>>> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include
>>>>>> -I/Library/Frameworks/R.framework/Resources/include/i386
>>>>>> -I../inst/include/ -I/usr/local/include -fPIC -g -O2 -c Date.cpp -o
>>>>>> Date.o
>>>>>> ../inst/include/Rcpp/internal/export.h: In function 'void
>>>>>> Rcpp::internal::export_range__dispatch(SEXPREC*, InputIterator,
>>>>>> Rcpp::traits::r_type_primitive_tag)':
>>>>>> ../inst/include/Rcpp/internal/export.h:56: internal compiler error: Bus
>>>>>> error
>>>>>> Please submit a full bug report,
>>>>>> with preprocessed source if appropriate.
>>>>>> See <URL:http://developer.apple.com/bugreporter> for instructions.
>>>>>> make: *** [Date.o] Error 1
>>>>>> ERROR: compilation failed for package ?Rcpp?
>>>>>> * removing ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>>>> * restoring previous ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>>>>
>>>>>> Is this a question of having the right compiler or ???
>>>>>>
>>>>>> I did this from the command line but my sessionInfo is:
>>>>>> R version 2.11.1 Patched (2010-07-09 r52501)
>>>>>> i386-apple-darwin9.8.0
>>>>>>
>>>>>> locale:
>>>>>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>>>>
>>>>>> attached base packages:
>>>>>> [1] stats graphics grDevices utils datasets methods
>>>>>> [7] base
>>>>>>
>>>>>> I don't have problems compiling any other packages from source except
>>>>>> lme4a, so I would be greatful for any guidance.
>>>>>>
>>>>>> Thanks.
>>>>>>
>>>>>> Best,
>>>>>>
>>>>>> Ken
>>>
>>>
>>>
>>> --
>>> Romain Francois
>>> Professional R Enthusiast
>>> +33(0) 6 28 91 30 30
>>> http://romainfrancois.blog.free.fr
>>> |- http://bit.ly/bc8jNi : Rcpp 0.8.4
>>> |- http://bit.ly/dz0RlX : bibtex 0.2-1
>>> `- http://bit.ly/a5CK2h : Les estivales 2010
>>
>>
>>
>> --
>> Ken Knoblauch
>> Inserm U846
>> Stem-cell and Brain Research Institute
>> Department of Integrative Neurosciences
>> 18 avenue du Doyen L?pine
>> 69500 Bron
>> France
>> tel: +33 (0)4 72 91 34 77
>> fax: +33 (0)4 72 91 34 61
>> portable: +33 (0)6 84 10 64 10
>> http://www.sbri.fr/members/kenneth-knoblauch.html
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>



-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From stack at psu.edu  Tue Jul 13 19:31:10 2010
From: stack at psu.edu (Conrad Stack)
Date: Tue, 13 Jul 2010 13:31:10 -0400
Subject: [R-SIG-Mac] Rcpp 0.8.3 on Mac OS X 10.5.8
In-Reply-To: <20100713180436.z4h1jhrj4gcgsc08@imp.inserm.fr>
References: <20100713133825.wjr0nq2x44480kgo@imp.inserm.fr>
	<4C3C5316.20806@r-enthusiasts.com>
	<20100713135928.7f883p980g8k8kks@imp.inserm.fr>
	<4C3C57A6.1080500@dbmail.com>
	<20100713141308.ba7x4cvmyo0g8wwg@imp.inserm.fr>
	<000E2EFA-C0E7-48D9-B11B-8ED0F5F1FD6E@r-project.org>
	<20100713180436.z4h1jhrj4gcgsc08@imp.inserm.fr>
Message-ID: <AANLkTinUARZqtpvx3X11IfTjluVnAEtNwQ9nEoy85M_6@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100713/dde7ca04/attachment.pl>

From ken.knoblauch at inserm.fr  Tue Jul 13 19:32:20 2010
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Tue, 13 Jul 2010 19:32:20 +0200
Subject: [R-SIG-Mac] Rcpp 0.8.3 on Mac OS X 10.5.8
In-Reply-To: <AANLkTinUARZqtpvx3X11IfTjluVnAEtNwQ9nEoy85M_6@mail.gmail.com>
References: <20100713133825.wjr0nq2x44480kgo@imp.inserm.fr>
	<4C3C5316.20806@r-enthusiasts.com>
	<20100713135928.7f883p980g8k8kks@imp.inserm.fr>
	<4C3C57A6.1080500@dbmail.com>
	<20100713141308.ba7x4cvmyo0g8wwg@imp.inserm.fr>
	<000E2EFA-C0E7-48D9-B11B-8ED0F5F1FD6E@r-project.org>
	<20100713180436.z4h1jhrj4gcgsc08@imp.inserm.fr>
	<AANLkTinUARZqtpvx3X11IfTjluVnAEtNwQ9nEoy85M_6@mail.gmail.com>
Message-ID: <20100713193220.z7fg23xvkwg8wog0@imp.inserm.fr>

Thanks.  I don't use macports.

Ken

Quoting Conrad Stack <stack at psu.edu>:

> If it helps at all I had the exact same error installing Rcpp v0.8.1 (the
> package from CRAN).  My setup: gcc 4.3 (g++-mp-4.3 macports version), os
> 10.5.8, using R 2.11 (macports version).  The solution was to reinstall
> macports, use v0.8.3 and everything worked fine.
>
>
>
>
>
> On Tue, Jul 13, 2010 at 12:04 PM, Ken Knoblauch   
> <ken.knoblauch at inserm.fr>wrote:
>
>> Hi Simon,
>>
>> The information wasn't in the mail that he forwarded but
>> I had communicated it in a previous mail. Sorry.
>>
>>
>> [Macintosh-83:~] knoblauch% gcc --version
>> i686-apple-darwin9-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5577)
>>
>> [Macintosh-83:~] knoblauch% uname -r
>> 9.8.0
>>
>>
>> I'm currently working with Mac OS X 10.5.8 and have Xcode 3.1.4.
>>
>> Also,
>>
>> Macintosh-83:~] knoblauch% gfortran --version
>> GNU Fortran (GCC) 4.2.3
>>
>> Copyright (C) 2007 Free Software Foundation, Inc.
>>
>> if that is of use.
>>
>> I'll give reinstalling Xcode a try.  I hadn't thought of
>> that.  Thanks.
>>
>> Ken
>>
>>
>> Quoting Simon Urbanek <simon.urbanek at r-project.org>:
>>
>>
>>> On Jul 13, 2010, at 8:13 AM, Ken Knoblauch wrote:
>>>
>>>  Thanks.  I'm in mode d'attente...
>>>>
>>>>
>>> I did not see the exact OS version mentioned anywhere but as Romain
>>>  pointed out it's working just fine on OS X 10.5.8 with gcc 5577:
>>>
>>> hagal:~$ gcc --version
>>> i686-apple-darwin9-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5577)
>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>> This is free software; see the source for copying conditions.  There is NO
>>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR
>>> PURPOSE.
>>>
>>> hagal:~$ uname -r
>>> 9.8.0
>>>
>>>
>>> [...]
>>> * installing *source* package 'Rcpp' ...
>>> ** libs
>>> *** arch - i386
>>> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include
>>>  -I/Library/Frameworks/R.framework/Resources/include/i386
>>>  -I../inst/include/ -I/usr/local/include    -fPIC  -g -O2 -c Date.cpp  -o
>>> Date.o
>>> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include
>>>  -I/Library/Frameworks/R.framework/Resources/include/i386
>>>  -I../inst/include/ -I/usr/local/include    -fPIC  -g -O2 -c    
>>> DateVector.cpp
>>> -o DateVector.o
>>> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include
>>>  -I/Library/Frameworks/R.framework/Resources/include/i386
>>>  -I../inst/include/ -I/usr/local/include    -fPIC  -g -O2 -c  Datetime.cpp
>>> -o Datetime.o
>>> [...]
>>>
>>> So my only advice really is to re-install Xcode...
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>
>>>> Quoting Romain Francois <romain.francois at dbmail.com>:
>>>>
>>>>
>>>>> Le 13/07/10 13:59, Ken Knoblauch a ?crit :
>>>>>
>>>>>> Salut Romain,
>>>>>>
>>>>>> Thanks for your rapid response. Toujours pas de chance.
>>>>>>
>>>>>> Just for verification, my gcc
>>>>>>
>>>>>> [Macintosh-83:~] knoblauch% gcc --version
>>>>>> i686-apple-darwin9-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5577)
>>>>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>>>>> This is free software; see the source for copying conditions. There is
>>>>>> NO
>>>>>> warranty; not even for MERCHANTABILITY or FITNESS FOR A  PARTICULAR
>>>>>> PURPOSE.
>>>>>>
>>>>>
>>>>> IIRC, this is the version (both OS and compiler version) that is used
>>>>> on CRAN so there is nothing fundamentally wrong about these.
>>>>>
>>>>> I'm cc'ing the r-sig-mac mailing list where people might have more
>>>>> clues, as I am afraid I'm short :-(
>>>>>
>>>>> Romain
>>>>>
>>>>>  [Macintosh-83:~] knoblauch% svn checkout
>>>>>> svn://svn.r-forge.r-project.org/svnroot/rcpp/pkg
>>>>>> A pkg/RcppExamples
>>>>>> ...
>>>>>>
>>>>>> [Macintosh-83:~] knoblauch% cd pkg
>>>>>> [Macintosh-83:~/pkg] knoblauch% R CMD INSTALL -l
>>>>>> ~/Library/R/2.11/library/ Rcpp
>>>>>> * installing *source* package ?Rcpp? ...
>>>>>> ** libs
>>>>>> *** arch - i386
>>>>>> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include
>>>>>> -I/Library/Frameworks/R.framework/Resources/include/i386
>>>>>> -I../inst/include/ -I/usr/local/include -fPIC -g -O2 -c Date.cpp -o
>>>>>> Date.o
>>>>>> ../inst/include/Rcpp/internal/export.h: In function 'void
>>>>>> Rcpp::internal::export_range__dispatch(SEXPREC*, InputIterator,
>>>>>> Rcpp::traits::r_type_primitive_tag)':
>>>>>> ../inst/include/Rcpp/internal/export.h:56: internal compiler error: Bus
>>>>>> error
>>>>>> Please submit a full bug report,
>>>>>> with preprocessed source if appropriate.
>>>>>> See <URL:http://developer.apple.com/bugreporter> for instructions.
>>>>>> make: *** [Date.o] Error 1
>>>>>> ERROR: compilation failed for package ?Rcpp?
>>>>>> * removing ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>>>> * restoring previous ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>>>>
>>>>>> So, still the same problem. Could this be a Leopard vs Snow Leopard
>>>>>> problem?
>>>>>>
>>>>>> Thanks.
>>>>>>
>>>>>> best,
>>>>>>
>>>>>> Ken
>>>>>>
>>>>>> PS, I'll subscribe shortly, but went ahead and tried your
>>>>>> suggestion first.
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>> Quoting Romain Francois <romain at r-enthusiasts.com>:
>>>>>>
>>>>>>  Bonjour Ken,
>>>>>>>
>>>>>>> We usually encourage people to use the mailing list (cc'ed) rather
>>>>>>> than
>>>>>>> the maintainer address (you would need to subsribe first)
>>>>>>> http://lists.r-forge.r-project.org/mailman/listinfo/rcpp-devel
>>>>>>>
>>>>>>> I think this was fixed and the version 0.8.4 is on CRAN incoming.
>>>>>>>
>>>>>>> Could you try the svn version and let us know if it compiles fine, it
>>>>>>> certainly does for me on Snow Leopard.
>>>>>>>
>>>>>>> $ svn checkout svn://svn.r-forge.r-project.org/svnroot/rcpp/pkg
>>>>>>> $ R CMD INSTALL Rcpp
>>>>>>>
>>>>>>> Thanks for your interest in Rcpp.
>>>>>>>
>>>>>>> FWIW, my version of gcc (on snow leopard) is:
>>>>>>>
>>>>>>> $ gcc --version
>>>>>>> i686-apple-darwin10-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5659)
>>>>>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>>>>>> This is free software; see the source for copying conditions. There is
>>>>>>> NO
>>>>>>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR
>>>>>>> PURPOSE.
>>>>>>>
>>>>>>> ... time passes ...
>>>>>>>
>>>>>>> Now this does sound familiar and I think we have seen some similar
>>>>>>> errors when Rcpp was inadvertently built with gcc 4.0 on CRAN
>>>>>>>
>>>>>>> Romain
>>>>>>>
>>>>>>> Le 13/07/10 13:38, Ken Knoblauch a ?crit :
>>>>>>>
>>>>>>>> Hi,
>>>>>>>>
>>>>>>>> I'm wondering if you can provide any suggestions for installing
>>>>>>>> Rcpp on Mac or whether I should await the appearance of a binary?
>>>>>>>>
>>>>>>>> This is the error message that I get:
>>>>>>>>
>>>>>>>> R CMD INSTALL --no-multiarch -l ~/Library/R/2.11/library/
>>>>>>>> Rcpp_0.8.3.tar.gz
>>>>>>>> * installing *source* package ?Rcpp? ...
>>>>>>>> ** libs
>>>>>>>> *** arch - i386
>>>>>>>> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include
>>>>>>>> -I/Library/Frameworks/R.framework/Resources/include/i386
>>>>>>>> -I../inst/include/ -I/usr/local/include -fPIC -g -O2 -c Date.cpp -o
>>>>>>>> Date.o
>>>>>>>> ../inst/include/Rcpp/internal/export.h: In function 'void
>>>>>>>> Rcpp::internal::export_range__dispatch(SEXPREC*, InputIterator,
>>>>>>>> Rcpp::traits::r_type_primitive_tag)':
>>>>>>>> ../inst/include/Rcpp/internal/export.h:56: internal compiler error:
>>>>>>>> Bus
>>>>>>>> error
>>>>>>>> Please submit a full bug report,
>>>>>>>> with preprocessed source if appropriate.
>>>>>>>> See <URL:http://developer.apple.com/bugreporter> for instructions.
>>>>>>>> make: *** [Date.o] Error 1
>>>>>>>> ERROR: compilation failed for package ?Rcpp?
>>>>>>>> * removing ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>>>>>> * restoring previous ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>>>>>>
>>>>>>>> Is this a question of having the right compiler or ???
>>>>>>>>
>>>>>>>> I did this from the command line but my sessionInfo is:
>>>>>>>> R version 2.11.1 Patched (2010-07-09 r52501)
>>>>>>>> i386-apple-darwin9.8.0
>>>>>>>>
>>>>>>>> locale:
>>>>>>>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>>>>>>
>>>>>>>> attached base packages:
>>>>>>>> [1] stats graphics grDevices utils datasets methods
>>>>>>>> [7] base
>>>>>>>>
>>>>>>>> I don't have problems compiling any other packages from source except
>>>>>>>> lme4a, so I would be greatful for any guidance.
>>>>>>>>
>>>>>>>> Thanks.
>>>>>>>>
>>>>>>>> Best,
>>>>>>>>
>>>>>>>> Ken
>>>>>>>>
>>>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Romain Francois
>>>>> Professional R Enthusiast
>>>>> +33(0) 6 28 91 30 30
>>>>> http://romainfrancois.blog.free.fr
>>>>> |- http://bit.ly/bc8jNi : Rcpp 0.8.4
>>>>> |- http://bit.ly/dz0RlX : bibtex 0.2-1
>>>>> `- http://bit.ly/a5CK2h : Les estivales 2010
>>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> Ken Knoblauch
>>>> Inserm U846
>>>> Stem-cell and Brain Research Institute
>>>> Department of Integrative Neurosciences
>>>> 18 avenue du Doyen L?pine
>>>> 69500 Bron
>>>> France
>>>> tel: +33 (0)4 72 91 34 77
>>>> fax: +33 (0)4 72 91 34 61
>>>> portable: +33 (0)6 84 10 64 10
>>>> http://www.sbri.fr/members/kenneth-knoblauch.html
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>>
>>>
>>
>>
>> --
>> Ken Knoblauch
>> Inserm U846
>> Stem-cell and Brain Research Institute
>> Department of Integrative Neurosciences
>> 18 avenue du Doyen L?pine
>> 69500 Bron
>> France
>> tel: +33 (0)4 72 91 34 77
>> fax: +33 (0)4 72 91 34 61
>> portable: +33 (0)6 84 10 64 10
>> http://www.sbri.fr/members/kenneth-knoblauch.html
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
>
>
> --
> Conrad Stack
> -----------------------
> PSU Department of Biology
> 208 Mueller Lab
> University Park, PA 16802
> cell: 814.409.8310
> email: conrad.stack at gmail.com
>



-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From stack at psu.edu  Tue Jul 13 20:05:18 2010
From: stack at psu.edu (Conrad Stack)
Date: Tue, 13 Jul 2010 14:05:18 -0400
Subject: [R-SIG-Mac] Compiling problem:
In-Reply-To: <2ECD232D-9B41-478D-B895-73E28FCB53DE@r-project.org>
References: <AANLkTingPV6tMLCULD4vsUvbh88vCvPqOT6_a3c-HWre@mail.gmail.com>
	<37894DC2-A76E-429B-A0CC-B15F7E956E9E@r-project.org>
	<AANLkTim0uWYoWv0dtZ9LWx7zHGKbPjJ4aw_loWPLep_D@mail.gmail.com>
	<AANLkTinZlWqrVcD00k87wj14TNQDPVIOkvsSbEVN3AUW@mail.gmail.com>
	<2ECD232D-9B41-478D-B895-73E28FCB53DE@r-project.org>
Message-ID: <AANLkTimsxtDrfEH8EM83AjTRaV-3hopYsUxYBYowFQjL@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100713/a127d06e/attachment.pl>

From simon.urbanek at r-project.org  Tue Jul 13 21:01:55 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 13 Jul 2010 15:01:55 -0400
Subject: [R-SIG-Mac] Compiling problem:
In-Reply-To: <AANLkTimsxtDrfEH8EM83AjTRaV-3hopYsUxYBYowFQjL@mail.gmail.com>
References: <AANLkTingPV6tMLCULD4vsUvbh88vCvPqOT6_a3c-HWre@mail.gmail.com>
	<37894DC2-A76E-429B-A0CC-B15F7E956E9E@r-project.org>
	<AANLkTim0uWYoWv0dtZ9LWx7zHGKbPjJ4aw_loWPLep_D@mail.gmail.com>
	<AANLkTinZlWqrVcD00k87wj14TNQDPVIOkvsSbEVN3AUW@mail.gmail.com>
	<2ECD232D-9B41-478D-B895-73E28FCB53DE@r-project.org>
	<AANLkTimsxtDrfEH8EM83AjTRaV-3hopYsUxYBYowFQjL@mail.gmail.com>
Message-ID: <0F90B73D-3619-4576-A8CA-0CA7C2C781FD@r-project.org>

Thanks, Conrad,

finally, I can give you some more targeted suggestions. I'll cover several issues (those will bite you later), not just the one that breaks.

a) configure
You have the order of check switched - you're first checking for the compiler (AC_LANG etc.) and only then setting the right one from R. The order should be reversed since you first need to find the compiler and only then check it.

b) Brownie makefile
The one is really hard-wired so it won't work since you have flags like -m32 in there so you end up with things like g++ -arch x86_64 -m32 .. which cannot work. Also compilation should not include $(LNK_OPTIONS) [you don't need them at all since you're not linking anything anyway]. In fact it would be much better to just take the flags from R since you are also missing PIC flags and they will be needed: although you are compiling a static library it will be linked into a dynamic object so it has to be PIC. 

c) Now, the real meat is in the linker flags in RBrownie - and the compiler actually tells you what the mistake is:

ld: warning: path './brownie_src/libBrownie.a' following -L not a directory

You didn't really mean to sdd the libBrownie.a directory to be the search path - you really meant to use the library so your configure should read

AC_SUBST([LDFLAGS],["brownie_src/libBrownie.a  ${LIBS} ${RCPP_LIB} "])

... and with that it works.

Cheers,
Simon


On Jul 13, 2010, at 2:05 PM, Conrad Stack wrote:

> Ah, sorry about that.  I'm working off of this branch:
> 
> svn checkout http://brownie.googlecode.com/svn/branches/brownie_jcs  brownieTEST
> 
> cd brownieTEST
> chmod +x build_r
> ./build_r 
> 
> That should start the build. 
> 
> Thanks!
> Conrad
> 
> 
> On Mon, Jul 12, 2010 at 3:58 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> Conrad,
> 
> On Jul 12, 2010, at 4:57 PM, Conrad Stack wrote:
> 
> > On Sun, Jul 11, 2010 at 12:56 PM, Simon Urbanek <simon.urbanek at r-project.org
> >> wrote:
> >
> >>
> >> On Jul 10, 2010, at 4:55 PM, Conrad Stack wrote:
> >>
> >>> Hello fellows,
> >>>
> >>> I'm currently developing an R package and having some trouble getting it
> >> to
> >>> install on Mac OS (the build process works fine on Windows 7 and Ubuntu
> >> 10).
> >>> The little prototype that I'm trying to get working compiles a large
> >> amount
> >>> of C++ code which is connected to R via Rcpp (0.8.2).  The C++ is
> >> compiled
> >>> using autoconfig scripts into a static library which is used in Makevars
> >> (in
> >>> the src directory).  Here is the relevant Makevars line (where libBrownie
> >> is
> >>> the static library just compiled):
> >>>
> >>> PKG_LIBS=-s -L. -L./brownie_src -lBrownie -lR -lgsl -lgslcblas -lm
> >>>> /opt/local/lib/R/library/Rcpp/lib/libRcpp.a
> >>>
> >>
> >> That sounds like a lot of trouble in itself (you should not include any R
> >> flags since that can break and -lR is not what's used on OS X; -s it bad as
> >> well and static libraries are better linked using their name since they have
> >> lower priority in -l). But it could be really anything including bugs in
> >> your package, so without the actual package I fear we can't help you much.
> >>
> >>
> > Thanks Simon, linking the static library using it's name directly and
> > removing the -lR and -s flags fixed the bus error.  Unfortunately, I'm now
> > getting another error when the package tries to load:
> >
> > Error in dyn.load("RBrownie.so") :
> >
> >  unable to load shared library
> >> '/Users/conrad/brownie/RBrownie/src/RBrownie.so':
> >
> >  dlopen(/Users/conrad/brownie/RBrownie/src/RBrownie.so, 6): Symbol not
> >> found: __ZTV16NewickTreeWriter
> >
> >  Referenced from: /Users/conrad/brownie/RBrownie/src/RBrownie.so
> >
> >  Expected in: dynamic lookup
> >
> >
> > Where that function is from the static library (libBrownie.a) which was not
> > being linked properly from before.  I think this is a fairly standard C++
> > error, but any help would be appreciated.   I do know enough to run these
> > commands:
> > (from the static library)
> > nm libBrownie.a | grep __ZTV16NewickTreeWriter:
> >               U __ZTV16NewickTreeWriter
> > 0000f7a0  S __ZTV16NewickTreeWriter
> >
> > (from the shared library which R builds):
> > nm libBrownie.a | grep __ZTV16NewickTreeWriter
> >               U __ZTV16NewickTreeWriter
> >
> 
> Unfortunately http://code.google.com/p/brownie/source/checkout doesn't even compile so I don't think we can help you any further. From experience I would still bet on the package flags being wrong (it's a bit tedious to debug since symbols are only resolved at load time, not at link time) but we can't tell without the package.
> 
> Cheers,
> Simon
> 
> 
> > Thanks!
> >
> >
> >>> This step seems to work fine and if I run the ./configure script which is
> >> generated from the autoconfig file,
> >>
> >> More trouble - you should never run configure by hand because it will
> >> likely use wrong settings (unless it is written such that it attempts to
> >> find R and run it to get flags)  - R CMD INSTALL is what you need to use so
> >> the correct architecture, compilers and flags are setup.
> >>
> >
> > Yes, my config script uses R to supply the flags, so running configure seems
> > to run okay....
> >
> >
> >>
> >> Cheers,
> >> Simon
> >>
> >>
> >>
> >
> >
> >>
> >>> the library builds properly on Mac OS.
> >>> The problem manifests when installing the package:
> >>>
> >>> ** testing if installed package can be loaded
> >>>
> >>>
> >>>> *** caught bus error ***
> >>>
> >>> address 0x0, cause 'non-existent physical address'
> >>>
> >>>
> >>> Traceback:
> >>>
> >>> 1: dyn.load(file, DLLpath = DLLpath, ...)
> >>>
> >>> 2: library.dynam(lib, package, package.lib)
> >>>
> >>> 3: loadNamespace(package, c(which.lib.loc, lib.loc), keep.source =
> >>> keep.source)
> >>>
> >>> 4: doTryCatch(return(expr), name, parentenv, handler)
> >>>
> >>> 5: tryCatchOne(expr, names, parentenv, handlers[[1L]])
> >>>
> >>> 6: tryCatchList(expr, classes, parentenv, handlers)
> >>>
> >>> 7: tryCatch(expr, error = function(e) {    call <- conditionCall(e)    if
> >>> (!is.null(call)) {        if (identical(call[[1L]], quote(doTryCatch)))
> >>>       call <- sys.call(-4L)        dcall <- deparse(call)[1L]
> >>> prefix <- paste("Error in", dcall, ": ")        LONG <- 75L        msg <-
> >>> conditionMessage(e)        sm <- strsplit(msg, "\n")[[1L]]        w <-
> >> 14L +
> >>> nchar(dcall, type = "w") + nchar(sm[1L], type = "w")        if (is.na
> >> (w))
> >>>         w <- 14L + nchar(dcall, type = "b") + nchar(sm[1L],
> >>> type = "b")        if (w > LONG)             prefix <- paste(prefix, "\n
> >>> ", sep = "")    }    else prefix <- "Error : "    msg <- paste(prefix,
> >>> conditionMessage(e), "\n", sep = "")    .Internal(seterrmessage(msg[1L]))
> >>> if (!silent && identical(getOption("show.error.messages"),         TRUE))
> >> {
> >>>      cat(msg, file = stderr())        .Internal(printDeferredWarnings())
> >>> }    invisible(structure(msg, class = "try-error"))})
> >>>
> >>> 8: try({    ns <- loadNamespace(package, c(which.lib.loc, lib.loc),
> >>> keep.source = keep.source)    dataPath <- file.path(which.lib.loc,
> >> package,
> >>> "data")    env <- attachNamespace(ns, pos = pos, dataPath = dataPath,
> >>> deps)})
> >>>
> >>> 9: library(pkg_name, lib.loc = lib, character.only = TRUE, logical.return
> >> =
> >>> TRUE)
> >>>
> >>> 10: withCallingHandlers(expr, packageStartupMessage = function(c)
> >>> invokeRestart("muffleMessage"))
> >>>
> >>> 11: suppressPackageStartupMessages(library(pkg_name, lib.loc = lib,
> >>> character.only = TRUE, logical.return = TRUE))
> >>>
> >>> 12: doTryCatch(return(expr), name, parentenv, handler)
> >>>
> >>> 13: tryCatchOne(expr, names, parentenv, handlers[[1L]])
> >>>
> >>> 14: tryCatchList(expr, classes, parentenv, handlers)
> >>>
> >>> 15: tryCatch(expr, error = function(e) {    call <- conditionCall(e)
> >> if
> >>> (!is.null(call)) {        if (identical(call[[1L]], quote(doTryCatch)))
> >>>       call <- sys.call(-4L)        dcall <- deparse(call)[1L]
> >>> prefix <- paste("Error in", dcall, ": ")        LONG <- 75L        msg <-
> >>> conditionMessage(e)        sm <- strsplit(msg, "\n")[[1L]]        w <-
> >> 14L +
> >>> nchar(dcall, type = "w") + nchar(sm[1L], type = "w")        if (is.na
> >> (w))
> >>>         w <- 14L + nchar(dcall, type = "b") + nchar(sm[1L],
> >>> type = "b")        if (w > LONG)             prefix <- paste(prefix, "\n
> >>> ", sep = "")    }    else prefix <- "Error : "    msg <- paste(prefix,
> >>> conditionMessage(e), "\n", sep = "")    .Internal(seterrmessage(msg[1L]))
> >>> if (!silent && identical(getOption("show.error.messages"),         TRUE))
> >> {
> >>>      cat(msg, file = stderr())        .Internal(printDeferredWarnings())
> >>> }    invisible(structure(msg, class = "try-error"))})
> >>>
> >>> 16: try(suppressPackageStartupMessages(library(pkg_name, lib.loc = lib,
> >>> character.only = TRUE, logical.return = TRUE)))
> >>>
> >>> 17: do_install_source(pkg_name, instdir, pkg, desc)
> >>>
> >>> 18: do_install(pkg)
> >>>
> >>> 19: tools:::.install_packages()
> >>>
> >>> aborting ...
> >>>
> >>> /opt/local/lib/R/bin/INSTALL: line 34:  1357 Done                    echo
> >>> 'tools:::.install_packages()'
> >>>
> >>>     1358 Bus error               | R_DEFAULT_PACKAGES= LC_COLLATE=C
> >>> "${R_HOME}/bin/R" $myArgs --slave --args ${args}
> >>>
> >>> I'm not really familiar with Mac OS at all so any direction would be
> >> great.
> >>> Thanks!
> >>> Conrad
> >>>
> >>> --
> >>> Conrad Stack
> >>> -----------------------
> >>> PSU Department of Biology
> >>> 208 Mueller Lab
> >>> University Park, PA 16802
> >>> cell: 814.409.8310
> >>> email: conrad.stack at gmail.com
> >>>
> >>>      [[alternative HTML version deleted]]
> >>>
> >>> _______________________________________________
> >>> R-SIG-Mac mailing list
> >>> R-SIG-Mac at stat.math.ethz.ch
> >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>>
> >>>
> >>
> >>
> >>
> >
> >
> > --
> > Conrad Stack
> > -----------------------
> > PSU Department of Biology
> > 208 Mueller Lab
> > University Park, PA 16802
> > cell: 814.409.8310
> > email: conrad.stack at gmail.com
> >
> >
> >
> > --
> > Conrad Stack
> > -----------------------
> > PSU Department of Biology
> > 208 Mueller Lab
> > University Park, PA 16802
> > cell: 814.409.8310
> > email: conrad.stack at gmail.com
> >
> >       [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at stat.math.ethz.ch
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
> >
> 
> 
> 
> 
> 
> -- 
> Conrad Stack
> -----------------------
> PSU Department of Biology
> 208 Mueller Lab 
> University Park, PA 16802
> cell: 814.409.8310
> email: conrad.stack at gmail.com


From jfox at mcmaster.ca  Wed Jul 14 15:22:40 2010
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 14 Jul 2010 09:22:40 -0400
Subject: [R-SIG-Mac] distributing a customized R to students?
Message-ID: <002701cb2357$a2ac0320$e8040960$@ca>

Dear all,

Could anyone suggest how to prepare a customized R CD to distribute to
students? 

What I do for students using Windows (still the large majority of those in
my class) is to prepare an R-for-Windows installer that installs a
customized R along with the Rcmdr package and all its dependencies. I'd like
to prepare something similar, if possible, for students using Mac OS X.
Along with R, the Rcmdr package has many dependencies and requires that X11
and Tcl/Tk for X Windows are installed.

If it's not possible to create an installer that will install everything
necessary in one step, is there another approach to distributing the
required components on a CD? The object is to make the installation as
simple as possible, since many of my students find software installation
challenging.

Any suggestions would be appreciated.

Thanks,
 John

--------------------------------
John Fox
Senator William McMaster 
  Professor of Social Statistics
Department of Sociology
McMaster University
Hamilton, Ontario, Canada
web: socserv.mcmaster.ca/jfox


From simon.urbanek at r-project.org  Wed Jul 14 17:27:53 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 14 Jul 2010 11:27:53 -0400
Subject: [R-SIG-Mac] distributing a customized R to students?
In-Reply-To: <002701cb2357$a2ac0320$e8040960$@ca>
References: <002701cb2357$a2ac0320$e8040960$@ca>
Message-ID: <A22F4EDF-96B2-4C4D-A755-E869DA82CC84@r-project.org>


On Jul 14, 2010, at 9:22 AM, John Fox wrote:

> Dear all,
> 
> Could anyone suggest how to prepare a customized R CD to distribute to
> students? 
> 
> What I do for students using Windows (still the large majority of those in
> my class) is to prepare an R-for-Windows installer that installs a
> customized R along with the Rcmdr package and all its dependencies. I'd like
> to prepare something similar, if possible, for students using Mac OS X.
> Along with R, the Rcmdr package has many dependencies and requires that X11
> and Tcl/Tk for X Windows are installed.
> 

It's easily possible - you can use Apple's PackageMaker (that is what we use for official R distributions).

Cheers,
Simon


> If it's not possible to create an installer that will install everything
> necessary in one step, is there another approach to distributing the
> required components on a CD? The object is to make the installation as
> simple as possible, since many of my students find software installation
> challenging.
> 
> Any suggestions would be appreciated.
> 
> Thanks,
> John
> 
> --------------------------------
> John Fox
> Senator William McMaster 
>  Professor of Social Statistics
> Department of Sociology
> McMaster University
> Hamilton, Ontario, Canada
> web: socserv.mcmaster.ca/jfox
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From jfox at mcmaster.ca  Wed Jul 14 18:02:29 2010
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 14 Jul 2010 12:02:29 -0400
Subject: [R-SIG-Mac] distributing a customized R to students?
In-Reply-To: <A22F4EDF-96B2-4C4D-A755-E869DA82CC84@r-project.org>
References: <002701cb2357$a2ac0320$e8040960$@ca>
	<A22F4EDF-96B2-4C4D-A755-E869DA82CC84@r-project.org>
Message-ID: <000901cb236d$f642ee20$e2c8ca60$@ca>

Dear Simon,

> -----Original Message-----
> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> Sent: July-14-10 11:28 AM
> To: John Fox
> Cc: r-sig-mac at stat.math.ethz.ch
> Subject: Re: [R-SIG-Mac] distributing a customized R to students?
> 
> 
> On Jul 14, 2010, at 9:22 AM, John Fox wrote:
> 
> > Dear all,
> >
> > Could anyone suggest how to prepare a customized R CD to distribute to
> > students?
> >
> > What I do for students using Windows (still the large majority of those
in
> > my class) is to prepare an R-for-Windows installer that installs a
> > customized R along with the Rcmdr package and all its dependencies. I'd
> like
> > to prepare something similar, if possible, for students using Mac OS X.
> > Along with R, the Rcmdr package has many dependencies and requires that
X11
> > and Tcl/Tk for X Windows are installed.
> >
> 
> It's easily possible - you can use Apple's PackageMaker (that is what we
use
> for official R distributions).

OK -- thanks. I've found the documentation for PakageMaker on Apple's
website.

Best,
 John

> 
> Cheers,
> Simon
> 
> 
> > If it's not possible to create an installer that will install everything
> > necessary in one step, is there another approach to distributing the
> > required components on a CD? The object is to make the installation as
> > simple as possible, since many of my students find software installation
> > challenging.
> >
> > Any suggestions would be appreciated.
> >
> > Thanks,
> > John
> >
> > --------------------------------
> > John Fox
> > Senator William McMaster
> >  Professor of Social Statistics
> > Department of Sociology
> > McMaster University
> > Hamilton, Ontario, Canada
> > web: socserv.mcmaster.ca/jfox
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at stat.math.ethz.ch
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
> >


From ken.knoblauch at inserm.fr  Thu Jul 15 21:49:35 2010
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Thu, 15 Jul 2010 21:49:35 +0200
Subject: [R-SIG-Mac] Rcpp 0.8.3 on Mac OS X 10.5.8
In-Reply-To: <000E2EFA-C0E7-48D9-B11B-8ED0F5F1FD6E@r-project.org>
References: <20100713133825.wjr0nq2x44480kgo@imp.inserm.fr>
	<4C3C5316.20806@r-enthusiasts.com>
	<20100713135928.7f883p980g8k8kks@imp.inserm.fr>
	<4C3C57A6.1080500@dbmail.com>
	<20100713141308.ba7x4cvmyo0g8wwg@imp.inserm.fr>
	<000E2EFA-C0E7-48D9-B11B-8ED0F5F1FD6E@r-project.org>
Message-ID: <20100715214935.sfc4p53ogkg8ckk4@imp.inserm.fr>

Reinstalling Xcode and fixing the symlinks seems to have done
the job.  Thanks for all the suggestions.

best,

Ken

Quoting Simon Urbanek <simon.urbanek at r-project.org>:

>
> On Jul 13, 2010, at 8:13 AM, Ken Knoblauch wrote:
>
>> Thanks.  I'm in mode d'attente...
>>
>
> I did not see the exact OS version mentioned anywhere but as Romain   
> pointed out it's working just fine on OS X 10.5.8 with gcc 5577:
>
> hagal:~$ gcc --version
> i686-apple-darwin9-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5577)
> Copyright (C) 2007 Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.  There is NO
> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
>
> hagal:~$ uname -r
> 9.8.0
>
>
> [...]
> * installing *source* package 'Rcpp' ...
> ** libs
> *** arch - i386
> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include   
> -I/Library/Frameworks/R.framework/Resources/include/i386   
> -I../inst/include/ -I/usr/local/include    -fPIC  -g -O2 -c Date.cpp  
>  -o Date.o
> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include   
> -I/Library/Frameworks/R.framework/Resources/include/i386   
> -I../inst/include/ -I/usr/local/include    -fPIC  -g -O2 -c   
> DateVector.cpp -o DateVector.o
> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include   
> -I/Library/Frameworks/R.framework/Resources/include/i386   
> -I../inst/include/ -I/usr/local/include    -fPIC  -g -O2 -c   
> Datetime.cpp -o Datetime.o
> [...]
>
> So my only advice really is to re-install Xcode...
>
> Cheers,
> Simon
>
>
>>
>> Quoting Romain Francois <romain.francois at dbmail.com>:
>>
>>>
>>> Le 13/07/10 13:59, Ken Knoblauch a ?crit :
>>>> Salut Romain,
>>>>
>>>> Thanks for your rapid response. Toujours pas de chance.
>>>>
>>>> Just for verification, my gcc
>>>>
>>>> [Macintosh-83:~] knoblauch% gcc --version
>>>> i686-apple-darwin9-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5577)
>>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>>> This is free software; see the source for copying conditions. There is NO
>>>> warranty; not even for MERCHANTABILITY or FITNESS FOR A   
>>>> PARTICULAR PURPOSE.
>>>
>>> IIRC, this is the version (both OS and compiler version) that is used
>>> on CRAN so there is nothing fundamentally wrong about these.
>>>
>>> I'm cc'ing the r-sig-mac mailing list where people might have more
>>> clues, as I am afraid I'm short :-(
>>>
>>> Romain
>>>
>>>> [Macintosh-83:~] knoblauch% svn checkout
>>>> svn://svn.r-forge.r-project.org/svnroot/rcpp/pkg
>>>> A pkg/RcppExamples
>>>> ...
>>>>
>>>> [Macintosh-83:~] knoblauch% cd pkg
>>>> [Macintosh-83:~/pkg] knoblauch% R CMD INSTALL -l
>>>> ~/Library/R/2.11/library/ Rcpp
>>>> * installing *source* package ?Rcpp? ...
>>>> ** libs
>>>> *** arch - i386
>>>> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include
>>>> -I/Library/Frameworks/R.framework/Resources/include/i386
>>>> -I../inst/include/ -I/usr/local/include -fPIC -g -O2 -c Date.cpp -o Date.o
>>>> ../inst/include/Rcpp/internal/export.h: In function 'void
>>>> Rcpp::internal::export_range__dispatch(SEXPREC*, InputIterator,
>>>> Rcpp::traits::r_type_primitive_tag)':
>>>> ../inst/include/Rcpp/internal/export.h:56: internal compiler error: Bus
>>>> error
>>>> Please submit a full bug report,
>>>> with preprocessed source if appropriate.
>>>> See <URL:http://developer.apple.com/bugreporter> for instructions.
>>>> make: *** [Date.o] Error 1
>>>> ERROR: compilation failed for package ?Rcpp?
>>>> * removing ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>> * restoring previous ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>>
>>>> So, still the same problem. Could this be a Leopard vs Snow Leopard
>>>> problem?
>>>>
>>>> Thanks.
>>>>
>>>> best,
>>>>
>>>> Ken
>>>>
>>>> PS, I'll subscribe shortly, but went ahead and tried your
>>>> suggestion first.
>>>>
>>>>
>>>>
>>>>
>>>> Quoting Romain Francois <romain at r-enthusiasts.com>:
>>>>
>>>>> Bonjour Ken,
>>>>>
>>>>> We usually encourage people to use the mailing list (cc'ed) rather than
>>>>> the maintainer address (you would need to subsribe first)
>>>>> http://lists.r-forge.r-project.org/mailman/listinfo/rcpp-devel
>>>>>
>>>>> I think this was fixed and the version 0.8.4 is on CRAN incoming.
>>>>>
>>>>> Could you try the svn version and let us know if it compiles fine, it
>>>>> certainly does for me on Snow Leopard.
>>>>>
>>>>> $ svn checkout svn://svn.r-forge.r-project.org/svnroot/rcpp/pkg
>>>>> $ R CMD INSTALL Rcpp
>>>>>
>>>>> Thanks for your interest in Rcpp.
>>>>>
>>>>> FWIW, my version of gcc (on snow leopard) is:
>>>>>
>>>>> $ gcc --version
>>>>> i686-apple-darwin10-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5659)
>>>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>>>> This is free software; see the source for copying conditions. There is NO
>>>>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR
>>>>> PURPOSE.
>>>>>
>>>>> ... time passes ...
>>>>>
>>>>> Now this does sound familiar and I think we have seen some similar
>>>>> errors when Rcpp was inadvertently built with gcc 4.0 on CRAN
>>>>>
>>>>> Romain
>>>>>
>>>>> Le 13/07/10 13:38, Ken Knoblauch a ?crit :
>>>>>> Hi,
>>>>>>
>>>>>> I'm wondering if you can provide any suggestions for installing
>>>>>> Rcpp on Mac or whether I should await the appearance of a binary?
>>>>>>
>>>>>> This is the error message that I get:
>>>>>>
>>>>>> R CMD INSTALL --no-multiarch -l ~/Library/R/2.11/library/
>>>>>> Rcpp_0.8.3.tar.gz
>>>>>> * installing *source* package ?Rcpp? ...
>>>>>> ** libs
>>>>>> *** arch - i386
>>>>>> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include
>>>>>> -I/Library/Frameworks/R.framework/Resources/include/i386
>>>>>> -I../inst/include/ -I/usr/local/include -fPIC -g -O2 -c Date.cpp -o
>>>>>> Date.o
>>>>>> ../inst/include/Rcpp/internal/export.h: In function 'void
>>>>>> Rcpp::internal::export_range__dispatch(SEXPREC*, InputIterator,
>>>>>> Rcpp::traits::r_type_primitive_tag)':
>>>>>> ../inst/include/Rcpp/internal/export.h:56: internal compiler error: Bus
>>>>>> error
>>>>>> Please submit a full bug report,
>>>>>> with preprocessed source if appropriate.
>>>>>> See <URL:http://developer.apple.com/bugreporter> for instructions.
>>>>>> make: *** [Date.o] Error 1
>>>>>> ERROR: compilation failed for package ?Rcpp?
>>>>>> * removing ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>>>> * restoring previous ?/Users/knoblauch/Library/R/2.11/library/Rcpp?
>>>>>>
>>>>>> Is this a question of having the right compiler or ???
>>>>>>
>>>>>> I did this from the command line but my sessionInfo is:
>>>>>> R version 2.11.1 Patched (2010-07-09 r52501)
>>>>>> i386-apple-darwin9.8.0
>>>>>>
>>>>>> locale:
>>>>>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>>>>
>>>>>> attached base packages:
>>>>>> [1] stats graphics grDevices utils datasets methods
>>>>>> [7] base
>>>>>>
>>>>>> I don't have problems compiling any other packages from source except
>>>>>> lme4a, so I would be greatful for any guidance.
>>>>>>
>>>>>> Thanks.
>>>>>>
>>>>>> Best,
>>>>>>
>>>>>> Ken
>>>
>>>
>>>
>>> --
>>> Romain Francois
>>> Professional R Enthusiast
>>> +33(0) 6 28 91 30 30
>>> http://romainfrancois.blog.free.fr
>>> |- http://bit.ly/bc8jNi : Rcpp 0.8.4
>>> |- http://bit.ly/dz0RlX : bibtex 0.2-1
>>> `- http://bit.ly/a5CK2h : Les estivales 2010
>>
>>
>>
>> --
>> Ken Knoblauch
>> Inserm U846
>> Stem-cell and Brain Research Institute
>> Department of Integrative Neurosciences
>> 18 avenue du Doyen L?pine
>> 69500 Bron
>> France
>> tel: +33 (0)4 72 91 34 77
>> fax: +33 (0)4 72 91 34 61
>> portable: +33 (0)6 84 10 64 10
>> http://www.sbri.fr/members/kenneth-knoblauch.html
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>



-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From stack at psu.edu  Fri Jul 16 22:25:06 2010
From: stack at psu.edu (Conrad Stack)
Date: Fri, 16 Jul 2010 16:25:06 -0400
Subject: [R-SIG-Mac] Compiling problem:
In-Reply-To: <0F90B73D-3619-4576-A8CA-0CA7C2C781FD@r-project.org>
References: <AANLkTingPV6tMLCULD4vsUvbh88vCvPqOT6_a3c-HWre@mail.gmail.com>
	<37894DC2-A76E-429B-A0CC-B15F7E956E9E@r-project.org>
	<AANLkTim0uWYoWv0dtZ9LWx7zHGKbPjJ4aw_loWPLep_D@mail.gmail.com>
	<AANLkTinZlWqrVcD00k87wj14TNQDPVIOkvsSbEVN3AUW@mail.gmail.com>
	<2ECD232D-9B41-478D-B895-73E28FCB53DE@r-project.org>
	<AANLkTimsxtDrfEH8EM83AjTRaV-3hopYsUxYBYowFQjL@mail.gmail.com>
	<0F90B73D-3619-4576-A8CA-0CA7C2C781FD@r-project.org>
Message-ID: <AANLkTilNa0eB_8PI9atvHgCsxPBSPTanWXxmi2yxjmIL@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100716/e44dff03/attachment.pl>

From hadley at rice.edu  Mon Jul 19 15:01:35 2010
From: hadley at rice.edu (Hadley Wickham)
Date: Mon, 19 Jul 2010 08:01:35 -0500
Subject: [R-SIG-Mac] JGR and snow leopard
Message-ID: <AANLkTinAPwAWrfVpE_yGyBgxJmML-rVctCe6N3wE9orl@mail.gmail.com>

Hi all,

I just installed JGR (JGR-1.6-SL.dmg).  The first time I ran it it
installed the packages it needed (successfully as far as I can tell),
but when JGR itself opens I get:

Loading required package: JGR
Loading required package: rJava
Loading required package: JavaGD
Error in dyn.load(file, DLLpath = DLLpath, ...) :
  unable to load shared library '/Users/hadley/R/JavaGD/libs/x86_64/JavaGD.so':
  dlopen(/Users/hadley/R/JavaGD/libs/x86_64/JavaGD.so, 6): Library not
loaded: /Library/Frameworks/R.framework/Versions/2.10/Resources/lib/libR.dylib
  Referenced from: /Users/hadley/R/JavaGD/libs/x86_64/JavaGD.so
  Reason: image not found
Error: package 'JavaGD' could not be loaded
Loading required package: JGR
Loading required package: JavaGD
Error in dyn.load(file, DLLpath = DLLpath, ...) :
  unable to load shared library '/Users/hadley/R/JavaGD/libs/x86_64/JavaGD.so':
  dlopen(/Users/hadley/R/JavaGD/libs/x86_64/JavaGD.so, 6): Library not
loaded: /Library/Frameworks/R.framework/Versions/2.10/Resources/lib/libR.dylib
  Referenced from: /Users/hadley/R/JavaGD/libs/x86_64/JavaGD.so
  Reason: image not found
Error: package 'JavaGD' could

Any ideas?

Thanks,

Hadley

-- 
Assistant Professor / Dobelman Family Junior Chair
Department of Statistics / Rice University
http://had.co.nz/


From simon.urbanek at r-project.org  Mon Jul 19 15:25:13 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 19 Jul 2010 09:25:13 -0400
Subject: [R-SIG-Mac] JGR and snow leopard
In-Reply-To: <AANLkTinAPwAWrfVpE_yGyBgxJmML-rVctCe6N3wE9orl@mail.gmail.com>
References: <AANLkTinAPwAWrfVpE_yGyBgxJmML-rVctCe6N3wE9orl@mail.gmail.com>
Message-ID: <EC4C8B56-53F3-4D29-ACCD-9C2D8E9EBF73@r-project.org>


On Jul 19, 2010, at 9:01 AM, Hadley Wickham wrote:

> Hi all,
> 
> I just installed JGR (JGR-1.6-SL.dmg).  The first time I ran it it
> installed the packages it needed (successfully as far as I can tell),
> but when JGR itself opens I get:
> 
> Loading required package: JGR
> Loading required package: rJava
> Loading required package: JavaGD
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  unable to load shared library '/Users/hadley/R/JavaGD/libs/x86_64/JavaGD.so':
>  dlopen(/Users/hadley/R/JavaGD/libs/x86_64/JavaGD.so, 6): Library not
> loaded: /Library/Frameworks/R.framework/Versions/2.10/Resources/lib/libR.dylib
>  Referenced from: /Users/hadley/R/JavaGD/libs/x86_64/JavaGD.so
>  Reason: image not found
> Error: package 'JavaGD' could not be loaded
> Loading required package: JGR
> Loading required package: JavaGD
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  unable to load shared library '/Users/hadley/R/JavaGD/libs/x86_64/JavaGD.so':
>  dlopen(/Users/hadley/R/JavaGD/libs/x86_64/JavaGD.so, 6): Library not
> loaded: /Library/Frameworks/R.framework/Versions/2.10/Resources/lib/libR.dylib
>  Referenced from: /Users/hadley/R/JavaGD/libs/x86_64/JavaGD.so
>  Reason: image not found
> Error: package 'JavaGD' could
> 
> Any ideas?
> 

That looks fishy - JGR installs packages in the system location by default but you're loading some packages from your home - possibly for the wrong R version. I suspect you have some issue with location of packages (R_LIBS) and are updating the wrong ones - note that JGR uses its own launcher so regular rules on overriding R_LIBS don't work unless you do it when you start JGR (custom R_LIBS are then stored it in the preferences and become permanent) -- [to be precise they actually work but you have to understand at which point you're changing things ...].

So you can check your packages and clean them up or just follow this:
1) delete preferences (~/.JGRprefsrc) to make sure you have a clean start
2) delete any old related packages (optional, but helps to debug package location issues)
3) if you want custom R_LIBS, set it and start the launcher on directly the command line, otherwise just leave it alone and start JGR normally without any overrides

Cheers,
Simon


From hadley at rice.edu  Mon Jul 19 15:36:53 2010
From: hadley at rice.edu (Hadley Wickham)
Date: Mon, 19 Jul 2010 08:36:53 -0500
Subject: [R-SIG-Mac] JGR and snow leopard
In-Reply-To: <EC4C8B56-53F3-4D29-ACCD-9C2D8E9EBF73@r-project.org>
References: <AANLkTinAPwAWrfVpE_yGyBgxJmML-rVctCe6N3wE9orl@mail.gmail.com> 
	<EC4C8B56-53F3-4D29-ACCD-9C2D8E9EBF73@r-project.org>
Message-ID: <AANLkTima6R0WDzAAG0GhOeQO5Mceamub3pn6JTTAteqj@mail.gmail.com>

> That looks fishy - JGR installs packages in the system location by default but you're loading some packages from your home - possibly for the wrong R version. I suspect you have some issue with location of packages (R_LIBS) and are updating the wrong ones - note that JGR uses its own launcher so regular rules on overriding R_LIBS don't work unless you do it when you start JGR (custom R_LIBS are then stored it in the preferences and become permanent) -- [to be precise they actually work but you have to understand at which point you're changing things ...].

Got it.  Thanks Simon.
Hadley

-- 
Assistant Professor / Dobelman Family Junior Chair
Department of Statistics / Rice University
http://had.co.nz/


From james-platt at hotmail.co.uk  Mon Jul 19 16:19:37 2010
From: james-platt at hotmail.co.uk (James Platt)
Date: Mon, 19 Jul 2010 15:19:37 +0100
Subject: [R-SIG-Mac] tcl/tk problem.
Message-ID: <BLU0-SMTP7405757FDA7FEB6202FE1B2BF0@phx.gbl>

Hi People,

I am quite new to R and I also apologize if this has come up before:


Trying to load tcl/tk package I get this:

Error: package/namespace load failed for 'tcltk'
Loading Tcl/Tk interface ... Error : .onLoad failed in loadNamespace()  
for 'tcltk', details:
  call: dyn.load(file, DLLpath = DLLpath, ...)
  error: unable to load shared library '/Library/Frameworks/ 
R.framework/Resources/library/tcltk/libs/x86_64/tcltk.so':
  dlopen(/Library/Frameworks/R.framework/Resources/library/tcltk/libs/ 
x86_64/tcltk.so, 10): Library not loaded: /usr/local/lib/libtcl8.5.dylib
  Referenced from: /Library/Frameworks/R.framework/Resources/library/ 
tcltk/libs/x86_64/tcltk.so
  Reason: image not found

 > sessionInfo()
R version 2.11.1 (2010-05-31)
x86_64-apple-darwin9.8.0

locale:
[1] en_GB.UTF-8/en_GB.UTF-8/C/C/en_GB.UTF-8/en_GB.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] TeachingDemos_2.6

loaded via a namespace (and not attached):
[1] tools_2.11.1


How do I resolve this?
Thanks for any help that can be provided,

James


From ripley at stats.ox.ac.uk  Mon Jul 19 16:29:53 2010
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 19 Jul 2010 15:29:53 +0100 (BST)
Subject: [R-SIG-Mac] tcl/tk problem.
In-Reply-To: <BLU0-SMTP7405757FDA7FEB6202FE1B2BF0@phx.gbl>
References: <BLU0-SMTP7405757FDA7FEB6202FE1B2BF0@phx.gbl>
Message-ID: <alpine.LFD.2.00.1007191527110.8442@gannet.stats.ox.ac.uk>

On Mon, 19 Jul 2010, James Platt wrote:

> Hi People,
>
> I am quite new to R and I also apologize if this has come up before:
>

Did you actually read http://cran.r-project.org/bin/macosx/ ?
This para

   This package only contains the R framework, 32-bit GUI (R.app) and
   64-bit GUI (R64.app). For Tcl/Tk libraries (needed if you want to use
   tcltk) and GNU Fortran (needed if you want to compile packages from
   sources that contain FORTRAN code) please see the tools directory.

applies to you.

> Trying to load tcl/tk package I get this:
>
> Error: package/namespace load failed for 'tcltk'
> Loading Tcl/Tk interface ... Error : .onLoad failed in loadNamespace() for 
> 'tcltk', details:
> call: dyn.load(file, DLLpath = DLLpath, ...)
> error: unable to load shared library 
> '/Library/Frameworks/R.framework/Resources/library/tcltk/libs/x86_64/tcltk.so':
> dlopen(/Library/Frameworks/R.framework/Resources/library/tcltk/libs/x86_64/tcltk.so, 
> 10): Library not loaded: /usr/local/lib/libtcl8.5.dylib
> Referenced from: 
> /Library/Frameworks/R.framework/Resources/library/tcltk/libs/x86_64/tcltk.so
> Reason: image not found
>
>> sessionInfo()
> R version 2.11.1 (2010-05-31)
> x86_64-apple-darwin9.8.0
>
> locale:
> [1] en_GB.UTF-8/en_GB.UTF-8/C/C/en_GB.UTF-8/en_GB.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] TeachingDemos_2.6
>
> loaded via a namespace (and not attached):
> [1] tools_2.11.1
>
>
> How do I resolve this?
> Thanks for any help that can be provided,
>
> James
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From james-platt at hotmail.co.uk  Mon Jul 19 16:32:37 2010
From: james-platt at hotmail.co.uk (James Platt)
Date: Mon, 19 Jul 2010 15:32:37 +0100
Subject: [R-SIG-Mac] tcl/tk problem.
In-Reply-To: <alpine.LFD.2.00.1007191527110.8442@gannet.stats.ox.ac.uk>
References: <BLU0-SMTP7405757FDA7FEB6202FE1B2BF0@phx.gbl>
	<alpine.LFD.2.00.1007191527110.8442@gannet.stats.ox.ac.uk>
Message-ID: <BLU0-SMTP321F91BCD3584414065F7CB2BF0@phx.gbl>

Thanks, v.much,

James

On 19 Jul 2010, at 15:29, Prof Brian Ripley wrote:

> On Mon, 19 Jul 2010, James Platt wrote:
>
>> Hi People,
>>
>> I am quite new to R and I also apologize if this has come up before:
>>
>
> Did you actually read http://cran.r-project.org/bin/macosx/ ?
> This para
>
>  This package only contains the R framework, 32-bit GUI (R.app) and
>  64-bit GUI (R64.app). For Tcl/Tk libraries (needed if you want to use
>  tcltk) and GNU Fortran (needed if you want to compile packages from
>  sources that contain FORTRAN code) please see the tools directory.
>
> applies to you.
>
>> Trying to load tcl/tk package I get this:
>>
>> Error: package/namespace load failed for 'tcltk'
>> Loading Tcl/Tk interface ... Error : .onLoad failed in  
>> loadNamespace() for 'tcltk', details:
>> call: dyn.load(file, DLLpath = DLLpath, ...)
>> error: unable to load shared library '/Library/Frameworks/ 
>> R.framework/Resources/library/tcltk/libs/x86_64/tcltk.so':
>> dlopen(/Library/Frameworks/R.framework/Resources/library/tcltk/libs/ 
>> x86_64/tcltk.so, 10): Library not loaded: /usr/local/lib/ 
>> libtcl8.5.dylib
>> Referenced from: /Library/Frameworks/R.framework/Resources/library/ 
>> tcltk/libs/x86_64/tcltk.so
>> Reason: image not found
>>
>>> sessionInfo()
>> R version 2.11.1 (2010-05-31)
>> x86_64-apple-darwin9.8.0
>>
>> locale:
>> [1] en_GB.UTF-8/en_GB.UTF-8/C/C/en_GB.UTF-8/en_GB.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> other attached packages:
>> [1] TeachingDemos_2.6
>>
>> loaded via a namespace (and not attached):
>> [1] tools_2.11.1
>>
>>
>> How do I resolve this?
>> Thanks for any help that can be provided,
>>
>> James
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>


From Irina.Foss at thurso.uhi.ac.uk  Thu Jul 22 01:26:48 2010
From: Irina.Foss at thurso.uhi.ac.uk (Irina Foss)
Date: Thu, 22 Jul 2010 00:26:48 +0100
Subject: [R-SIG-Mac] install daily snapshot R
Message-ID: <4C479048020000AE00011ED1@gwsmtp.uhi.ac.uk>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100722/7ebde7a5/attachment.pl>

From sdavis2 at mail.nih.gov  Thu Jul 22 14:07:49 2010
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Thu, 22 Jul 2010 06:07:49 -0600
Subject: [R-SIG-Mac] install daily snapshot R
In-Reply-To: <4C479048020000AE00011ED1@gwsmtp.uhi.ac.uk>
References: <4C479048020000AE00011ED1@gwsmtp.uhi.ac.uk>
Message-ID: <AANLkTimyF5hlB6ajwGbAW766pnPaTmw4CCWVWdSDypKv@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100722/199f465c/attachment.pl>

From clint.silverman at gmail.com  Sun Jul 25 09:20:52 2010
From: clint.silverman at gmail.com (Clint Silverman)
Date: Sun, 25 Jul 2010 00:20:52 -0700
Subject: [R-SIG-Mac] xcode and Rcpp/RInside
Message-ID: <AANLkTik1e5DvRW2RqZ6VF=O1MLjNEAWoFyOANcMd6mdL@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100725/85a711a8/attachment.pl>

From madzientist at gmail.com  Sun Jul 25 19:52:44 2010
From: madzientist at gmail.com (Suresh Krishna)
Date: Sun, 25 Jul 2010 18:52:44 +0100
Subject: [R-SIG-Mac] Rserve, RJava, RMatlab
In-Reply-To: <op.vgegelgyg6uu7q@osiris.gwdg.de>
References: <op.vgegelgyg6uu7q@osiris.gwdg.de>
Message-ID: <op.vgeul6jfhgmlxk@osiris.gwdg.de>



Hello,

Since I have to switch from Windows to the Mac OS (10.6.4, Intel mac), I
have to find a new solution to call R from Matlab, since the R-(D)Com
solution no longer works. I found Rserve and RJava and successfully
installed them (after some googling to solve minor installation issues).

I am now going through existing Java code projects like RSession and R to
figure out how to issue the calling instructions from Matlab using its
Java interface.

In the meantime, I had 2 questions:

a) I superficially understand the basic difference between Rserve and
RJava (Rserve is a client-server interface while RJava is a JNI based
solution) and that Rserve allows one to maintain multiple R sessions. I
would be grateful if someone could expand on the advantages of JRI (RJava)
over Rserve, if any.

Also, in a single-user, single-computer (multi-core) scenario, is there
any advantage to being able to call multiple R sessions ?

b) I also came across the RMatlab project in OmegaHat. I didn't pursue it
much because the description on the web page, though it appears quite
powerful, also dates from 2004 or so. Also, I am afraid of Matlab MEX-file
compilation issues. Would someone be able to give me a comparison of
features/ease-of-use of RMatlab compared to RJava/Rserve.

Thanks much,

Suresh


From madzientist at gmail.com  Mon Jul 26 00:05:25 2010
From: madzientist at gmail.com (Suresh Krishna)
Date: Sun, 25 Jul 2010 23:05:25 +0100
Subject: [R-SIG-Mac] Compling RMatlab on OS 10.6.4
In-Reply-To: <op.vgeul6jfhgmlxk@osiris.gwdg.de>
References: <op.vgegelgyg6uu7q@osiris.gwdg.de>
	<op.vgeul6jfhgmlxk@osiris.gwdg.de>
Message-ID: <op.vge6bb0whgmlxk@osiris.gwdg.de>


Hello,

I am trying to see if I can get RMatlab from Omegahat  
(http://www.omegahat.org/RMatlab/) working on OS 10.6.4 to be able to call  
R from Matlab.

I am following the instructions at:  
http://www.stanford.edu/~dgleich/notebook/2009/09/rmatlab_using_r_from_matlab.html

I got to the point of running the ./configure script (see below) where the  
script complains that libR.so cannot be found. I searched my Mac for a  
libR.so file, but could not find it. I am using the latest OSX binary from  
CRAN, and I read in the R for Mac OS X FAQ that it is already compiled as  
a shared library.

If there are likely to be non-trivial changes involved in trying to  
compile it for OSX, then probably doing it by myself is beyond my current  
ability, as is also probably already obvious.

Seeking hints/guidance/advice...

Very best and many thanks, Suresh


---------------------------------------------------------------------------------------------
Suresh-iMac:RMatlab suresh$ ./configure
checking for mex... /Applications/MATLAB_R2007B/bin/mex
checking for sed... /usr/bin/sed
There is no R shared library (libR.so), so you cannot run R within Matlab.
You will only be able to start Matlab from within R
If this is not what you want, reinstall R from source with the  
configuration option

   ./configure --enable-R-shlib


  If you have already compiled R as a shared library but this script has  
not been able
  to find it, set the environment variable R_SHARED_LIB_DIR to the name of  
the directory
  in which it is located and re-install this package
Looking for mclmcr.h
checking for gcc... gcc
checking for C compiler default output... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
configure: creating ./config.status
config.status: creating inst/scripts/RMatlab.csh
config.status: creating inst/scripts/RMatlab.sh
config.status: creating src/Makefile
Using the following settings

   Mex compiler:               /Applications/MATLAB_R2007B/bin/mex
   Mex extension:              mexmaci
   Mex linker flags:           -Wl,-flat_namespace -undefined suppress  
-bundle
   R shared library directory:
   Installation directory:


*********************************************************

   To set the environment variables to run R from within Matlab
   or vice versa, source the relevant shell script into your shell
   before running Matlab or R

   Bourne or Bash shell:

      . /scripts/RMatlab.sh

   Csh or Tcsh shell:

      source /scripts/RMatlab.csh

*********************************************************
Suresh-iMac:RMatlab suresh$


From ric.romoli at gmail.com  Sun Jul 25 23:42:44 2010
From: ric.romoli at gmail.com (Riccardo G-Mail)
Date: Sun, 25 Jul 2010 23:42:44 +0200
Subject: [R-SIG-Mac] Question about file.path
Message-ID: <4C4CAFD4.3010508@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100725/d6770627/attachment.pl>

From simon.urbanek at r-project.org  Mon Jul 26 01:59:12 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 25 Jul 2010 19:59:12 -0400
Subject: [R-SIG-Mac] Question about file.path
In-Reply-To: <4C4CAFD4.3010508@gmail.com>
References: <4C4CAFD4.3010508@gmail.com>
Message-ID: <624B8E17-B926-4C21-9990-18AF0AE55487@r-project.org>


On Jul 25, 2010, at 5:42 PM, Riccardo G-Mail wrote:

> Hi, my name is Riccardo, I'm a PhD student in Soil Science in University 
> of Florence (Italy), and I'm beginning to use R.
> I work both in a remote server and my own Mac, and so I use 
> /file.path()/ function according to where I must work:
> 
> /mainDir <-
>     file.path(
> 
> #"/Volumes/comune/RICERCA/Odori/ConfrontoDHS-SPME/AnalisiR") #remote 
> server 1
> 
> #"/Volumes/pesticidi/Ricerca/Odori/ConfrontoDHS-SPME/AnalisiR") #remote 
> server 2
>               "/Users/riccardoromoli/Documents/Universit?/Tesi 
> PhD/ConfrontoDHS-SPME/AnalisiR") my own Mac
> dataDir <-
>     file.path(mainDir, "Dati")
> workDir <-
>     file.path(mainDir, "report")/
> 
> When I use the /read.table/ function I have this error:
> 
> /df.AREE <- read.table(file.path(dataDir, "ORIGINALI", "SPME_H2O", 
> "AREE.txt"),
>                           sep = "\t",
>                           as.is = TRUE, dec=".",
>                           header= TRUE, fill=TRUE)[,-c(2, 5:15, 17:28, 
> 30:31)]
> /
> 
> *Error in file(file, "rt") : cannot open this connection
> In file(file, "rt") :
>   cannot open file '/Users/riccardoromoli/Documents/Universit?/Tesi 
> PhD/ConfrontoDHS-SPME/AnalisiR/Dati/ORIGINALI/SPME_H2O/AREE.txt': No 
> such file or directory*
> 
> Do you have any suggestion?
> 

Well, apparently that directory doesn't exist - that's what R tells you.
a) make sure you're running in the right locale (should be UTF-8 to support non-ASCII characters)
b) make sure the path actually exists (use drag & drop to avoid typing mistakes)

Cheers,
Simon


From maechler at stat.math.ethz.ch  Tue Jul 27 13:57:17 2010
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Tue, 27 Jul 2010 13:57:17 +0200
Subject: [R-SIG-Mac] [R] lme4 + R 2.11.0 + mac unavailable
In-Reply-To: <77EEDB99-E865-4010-8471-5B73AC70E5CE@vanderbilt.edu>
References: <77EEDB99-E865-4010-8471-5B73AC70E5CE@vanderbilt.edu>
Message-ID: <AANLkTiku7n6hW6qw6hcLENe2s8ipJpMAJLkSfQq1CPKg@mail.gmail.com>

Dear Peter,
note that I am CC'ing this reply to the "R - Mac" mailing list, on
which there are knowledgable people for helping you with some of the
Mac specific problems
(more inline below).

On Sun, Jul 25, 2010 at 20:36, Peter Goff <peter.t.goff at vanderbilt.edu> wrote:
> Martin,
>
> I saw your series of posts on this topic, but sadly I am still unable to
> install lme4.
>
> I am in the nascent stages of learning R and, at this point, I cannot even
> load the program "arm" that is key to my program of study (I'm working with
> Gelman & Hill's Data Analysis using Regression and Multilevel/Hierarchical
> Models to get acclimated to R).
>
> Here's my quandary thus far:
>
> (1) I download and install R for Macs (version 2.11.1)
> (2) I try to find lme4 through the "Package Installer" only to find that it
> does not exist.
> (3) I find your string of postings on the web and try to install using:
> install.packages("lme4", type = "source")
> and I get the following error message:
>
> --- Please select a CRAN mirror for use in this session --- (I chose USA,
> MI)

Ok, I assume that's close enough to Vanderbilt ..

> trying URL 'http://cran.mtu.edu/src/contrib/lme4_0.999375-34.tar.gz'
> Content type 'application/x-gzip' length 1028012 bytes (1003 Kb)
> opened URL
> ==================================================
> downloaded 1003 Kb
>
> * installing *source* package ?lme4? ...
> ** libs
> *** arch - i386
> gcc -arch i386 -std=gnu99
> -I/Library/Frameworks/R.framework/Resources/include
> -I/Library/Frameworks/R.framework/Resources/include/i386
> ?-I/usr/local/include
> -I"/Library/Frameworks/R.framework/Versions/2.11/Resources/library/Matrix/include"
> -I"/Library/Frameworks/R.framework/Resources/library/stats/include" ? -fPIC
> ?-g -O2 -c init.c -o init.o
> /bin/sh: gcc: command not found

See, that's a clue:  'gcc' is the GNU C compiler and that (and more)
are absolutely musts for installing many R packages from source.

The readers of R-SIG-Mac will be able to give more exact details,
but in order to get a version of gcc (and other tools) working nicely
with your version of R,
you'll need to install (parts of) the "Xcode" development tools that
Apple provides to you (for free, but you need to "get them").

Best regards,
Martin

> make: *** [init.o] Error 127
> ERROR: compilation failed for package ?lme4?
> * removing
> ?/Library/Frameworks/R.framework/Versions/2.11/Resources/library/lme4?
>
> The downloaded packages are in
>
> ??/private/var/folders/ty/tyL1SdtKGlObzhxQbBUTek+++TI/-Tmp-/Rtmpt4fli2/downloaded_packages?
> Updating HTML index of packages in '.Library'
> Warning message:
> In install.packages("lme4", type = "source") :
> ?installation of package 'lme4' had non-zero exit status
>
>
>
> Days and hours later I am at a loss as to how I should proceed. Any advice
> would be greatly appreciated!
>
> Thanks,
> ~Peter
>
> Peter Trabert Goff
> PhD student
> Department of Leadership, Policy, and Organizations
> Vanderbilt University


From ken at kjbeath.com.au  Tue Jul 27 14:14:59 2010
From: ken at kjbeath.com.au (Ken Beath)
Date: Tue, 27 Jul 2010 22:14:59 +1000
Subject: [R-SIG-Mac] [R] lme4 + R 2.11.0 + mac unavailable
In-Reply-To: <AANLkTiku7n6hW6qw6hcLENe2s8ipJpMAJLkSfQq1CPKg@mail.gmail.com>
References: <77EEDB99-E865-4010-8471-5B73AC70E5CE@vanderbilt.edu>
	<AANLkTiku7n6hW6qw6hcLENe2s8ipJpMAJLkSfQq1CPKg@mail.gmail.com>
Message-ID: <7FA5825B-5FF5-4594-AD74-F57879E14C53@kjbeath.com.au>

On 27/07/2010, at 9:57 PM, Martin Maechler wrote:

> 
> See, that's a clue:  'gcc' is the GNU C compiler and that (and more)
> are absolutely musts for installing many R packages from source.
> 
> The readers of R-SIG-Mac will be able to give more exact details,
> but in order to get a version of gcc (and other tools) working nicely
> with your version of R,
> you'll need to install (parts of) the "Xcode" development tools that
> Apple provides to you (for free, but you need to "get them").
> 
> Best regards,
> Martin

Not that difficult, it is on a DVD that is included with the Mac (I think Extra Installs or similar), or alternatively try http://developer.apple.com/mac/, register and then download.

Ken

From john.maindonald at anu.edu.au  Wed Jul 28 01:07:52 2010
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Wed, 28 Jul 2010 09:07:52 +1000
Subject: [R-SIG-Mac] [R] lme4 + R 2.11.0 + mac unavailable
In-Reply-To: <AANLkTiku7n6hW6qw6hcLENe2s8ipJpMAJLkSfQq1CPKg@mail.gmail.com>
References: <77EEDB99-E865-4010-8471-5B73AC70E5CE@vanderbilt.edu>
	<AANLkTiku7n6hW6qw6hcLENe2s8ipJpMAJLkSfQq1CPKg@mail.gmail.com>
Message-ID: <4FBC65C2-0714-42B0-BC5E-57D9693DDA1E@anu.edu.au>

Binaries for lme4 are not for the time being available either on
CRAN or on r-forge?  

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.
http://www.maths.anu.edu.au/~johnm

On 27/07/2010, at 9:57 PM, Martin Maechler wrote:

> Dear Peter,
> note that I am CC'ing this reply to the "R - Mac" mailing list, on
> which there are knowledgable people for helping you with some of the
> Mac specific problems
> (more inline below).
> 
> On Sun, Jul 25, 2010 at 20:36, Peter Goff <peter.t.goff at vanderbilt.edu> wrote:
>> Martin,
>> 
>> I saw your series of posts on this topic, but sadly I am still unable to
>> install lme4.
>> 
>> I am in the nascent stages of learning R and, at this point, I cannot even
>> load the program "arm" that is key to my program of study (I'm working with
>> Gelman & Hill's Data Analysis using Regression and Multilevel/Hierarchical
>> Models to get acclimated to R).
>> 
>> Here's my quandary thus far:
>> 
>> (1) I download and install R for Macs (version 2.11.1)
>> (2) I try to find lme4 through the "Package Installer" only to find that it
>> does not exist.
>> (3) I find your string of postings on the web and try to install using:
>> install.packages("lme4", type = "source")
>> and I get the following error message:
>> 
>> --- Please select a CRAN mirror for use in this session --- (I chose USA,
>> MI)
> 
> Ok, I assume that's close enough to Vanderbilt ..
> 
>> trying URL 'http://cran.mtu.edu/src/contrib/lme4_0.999375-34.tar.gz'
>> Content type 'application/x-gzip' length 1028012 bytes (1003 Kb)
>> opened URL
>> ==================================================
>> downloaded 1003 Kb
>> 
>> * installing *source* package ?lme4? ...
>> ** libs
>> *** arch - i386
>> gcc -arch i386 -std=gnu99
>> -I/Library/Frameworks/R.framework/Resources/include
>> -I/Library/Frameworks/R.framework/Resources/include/i386
>> -I/usr/local/include
>> -I"/Library/Frameworks/R.framework/Versions/2.11/Resources/library/Matrix/include"
>> -I"/Library/Frameworks/R.framework/Resources/library/stats/include"   -fPIC
>> -g -O2 -c init.c -o init.o
>> /bin/sh: gcc: command not found
> 
> See, that's a clue:  'gcc' is the GNU C compiler and that (and more)
> are absolutely musts for installing many R packages from source.
> 
> The readers of R-SIG-Mac will be able to give more exact details,
> but in order to get a version of gcc (and other tools) working nicely
> with your version of R,
> you'll need to install (parts of) the "Xcode" development tools that
> Apple provides to you (for free, but you need to "get them").
> 
> Best regards,
> Martin
> 
>> make: *** [init.o] Error 127
>> ERROR: compilation failed for package ?lme4?
>> * removing
>> ?/Library/Frameworks/R.framework/Versions/2.11/Resources/library/lme4?
>> 
>> The downloaded packages are in
>> 
>> ?/private/var/folders/ty/tyL1SdtKGlObzhxQbBUTek+++TI/-Tmp-/Rtmpt4fli2/downloaded_packages?
>> Updating HTML index of packages in '.Library'
>> Warning message:
>> In install.packages("lme4", type = "source") :
>> installation of package 'lme4' had non-zero exit status
>> 
>> 
>> 
>> Days and hours later I am at a loss as to how I should proceed. Any advice
>> would be greatly appreciated!
>> 
>> Thanks,
>> ~Peter
>> 
>> Peter Trabert Goff
>> PhD student
>> Department of Leadership, Policy, and Organizations
>> Vanderbilt University
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ken at kjbeath.com.au  Wed Jul 28 03:19:34 2010
From: ken at kjbeath.com.au (Ken Beath)
Date: Wed, 28 Jul 2010 01:19:34 -0000 (GMT)
Subject: [R-SIG-Mac] [R] lme4 + R 2.11.0 + mac unavailable
In-Reply-To: <4FBC65C2-0714-42B0-BC5E-57D9693DDA1E@anu.edu.au>
References: <77EEDB99-E865-4010-8471-5B73AC70E5CE@vanderbilt.edu>
	<AANLkTiku7n6hW6qw6hcLENe2s8ipJpMAJLkSfQq1CPKg@mail.gmail.com>
	<4FBC65C2-0714-42B0-BC5E-57D9693DDA1E@anu.edu.au>
Message-ID: <33327.137.111.13.200.1280279974.squirrel@65.99.229.10>

On Tue, July 27, 2010 11:07 pm, John Maindonald wrote:
> Binaries for lme4 are not for the time being available either on
> CRAN or on r-forge?
>

There was a discussion about this on R-Sig-ME. It fails one of the checks
on the machine used to build the mac packages. It may pass on machines
with a later version of MacOS, but there didn't seem to be a consensus of
whether failing the checks was a problem.

Ken



> John Maindonald             email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
> Centre for Mathematics & Its Applications, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
> http://www.maths.anu.edu.au/~johnm
>
> On 27/07/2010, at 9:57 PM, Martin Maechler wrote:
>
>> Dear Peter,
>> note that I am CC'ing this reply to the "R - Mac" mailing list, on
>> which there are knowledgable people for helping you with some of the
>> Mac specific problems
>> (more inline below).
>>
>> On Sun, Jul 25, 2010 at 20:36, Peter Goff <peter.t.goff at vanderbilt.edu>
>> wrote:
>>> Martin,
>>>
>>> I saw your series of posts on this topic, but sadly I am still unable
>>> to
>>> install lme4.
>>>
>>> I am in the nascent stages of learning R and, at this point, I cannot
>>> even
>>> load the program "arm" that is key to my program of study (I'm working
>>> with
>>> Gelman & Hill's Data Analysis using Regression and
>>> Multilevel/Hierarchical
>>> Models to get acclimated to R).
>>>
>>> Here's my quandary thus far:
>>>
>>> (1) I download and install R for Macs (version 2.11.1)
>>> (2) I try to find lme4 through the "Package Installer" only to find
>>> that it
>>> does not exist.
>>> (3) I find your string of postings on the web and try to install using:
>>> install.packages("lme4", type = "source")
>>> and I get the following error message:
>>>
>>> --- Please select a CRAN mirror for use in this session --- (I chose
>>> USA,
>>> MI)
>>
>> Ok, I assume that's close enough to Vanderbilt ..
>>
>>> trying URL 'http://cran.mtu.edu/src/contrib/lme4_0.999375-34.tar.gz'
>>> Content type 'application/x-gzip' length 1028012 bytes (1003 Kb)
>>> opened URL
>>> ==================================================
>>> downloaded 1003 Kb
>>>
>>> * installing *source* package ?lme4? ...
>>> ** libs
>>> *** arch - i386
>>> gcc -arch i386 -std=gnu99
>>> -I/Library/Frameworks/R.framework/Resources/include
>>> -I/Library/Frameworks/R.framework/Resources/include/i386
>>> -I/usr/local/include
>>> -I"/Library/Frameworks/R.framework/Versions/2.11/Resources/library/Matrix/include"
>>> -I"/Library/Frameworks/R.framework/Resources/library/stats/include"
>>> -fPIC
>>> -g -O2 -c init.c -o init.o
>>> /bin/sh: gcc: command not found
>>
>> See, that's a clue:  'gcc' is the GNU C compiler and that (and more)
>> are absolutely musts for installing many R packages from source.
>>
>> The readers of R-SIG-Mac will be able to give more exact details,
>> but in order to get a version of gcc (and other tools) working nicely
>> with your version of R,
>> you'll need to install (parts of) the "Xcode" development tools that
>> Apple provides to you (for free, but you need to "get them").
>>
>> Best regards,
>> Martin
>>
>>> make: *** [init.o] Error 127
>>> ERROR: compilation failed for package ?lme4?
>>> * removing
>>> ?/Library/Frameworks/R.framework/Versions/2.11/Resources/library/lme4?
>>>
>>> The downloaded packages are in
>>>
>>> ?/private/var/folders/ty/tyL1SdtKGlObzhxQbBUTek+++TI/-Tmp-/Rtmpt4fli2/downloaded_packages?
>>> Updating HTML index of packages in '.Library'
>>> Warning message:
>>> In install.packages("lme4", type = "source") :
>>> installation of package 'lme4' had non-zero exit status
>>>
>>>
>>>
>>> Days and hours later I am at a loss as to how I should proceed. Any
>>> advice
>>> would be greatly appreciated!
>>>
>>> Thanks,
>>> ~Peter
>>>
>>> Peter Trabert Goff
>>> PhD student
>>> Department of Leadership, Policy, and Organizations
>>> Vanderbilt University
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From akelly at tcd.ie  Wed Jul 28 12:34:08 2010
From: akelly at tcd.ie (Alan Kelly)
Date: Wed, 28 Jul 2010 11:34:08 +0100
Subject: [R-SIG-Mac] LME4 not loading
In-Reply-To: <mailman.24.1280311208.16772.r-sig-mac@stat.math.ethz.ch>
References: <mailman.24.1280311208.16772.r-sig-mac@stat.math.ethz.ch>
Message-ID: <1280313248.4c5007a0cb366@mymail.tcd.ie>

Martin, my experience may only add to the confusion.  When I upgraded to 2.11 on
my office Mac I had a similar problem when loading lme4 from CRAN.  However, I
found the package on R-forge and successfully installed it. On trying the same
procedure on my home Mac running 2.11.1, this approach fails with the following
error (this differs from yours):
> library(lme4)
Loading required package: Matrix
Loading required package: lattice

Attaching package: 'Matrix'

The following object(s) are masked from 'package:base':

    det

Error in dyn.load(file, DLLpath = DLLpath, ...) :
  unable to load shared library
'/Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so':
 
dlopen(/Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so,
6): Library not loaded: /usr/local/lib/libgfortran.2.dylib
  Referenced from:
/Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so
  Reason: image not found
Error: package/namespace load failed for 'lme4'

And you will not be able to load "arm" as this depends on "lme4".
Frustrating....
Regards,
Alan

Alan Kelly
Trinity College Dublin

Quoting r-sig-mac-request at stat.math.ethz.ch:

> Send R-SIG-Mac mailing list submissions to
> 	r-sig-mac at stat.math.ethz.ch
>
> To subscribe or unsubscribe via the World Wide Web, visit
> 	https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> or, via email, send a message with subject or body 'help' to
> 	r-sig-mac-request at stat.math.ethz.ch
>
> You can reach the person managing the list at
> 	r-sig-mac-owner at stat.math.ethz.ch
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of R-SIG-Mac digest..."
>


From hbissell at wisc.edu  Wed Jul 28 15:31:42 2010
From: hbissell at wisc.edu (Heidi Bissell)
Date: Wed, 28 Jul 2010 08:31:42 -0500
Subject: [R-SIG-Mac] LME4 not loading
In-Reply-To: <1280313248.4c5007a0cb366@mymail.tcd.ie>
References: <mailman.24.1280311208.16772.r-sig-mac@stat.math.ethz.ch> 
	<1280313248.4c5007a0cb366@mymail.tcd.ie>
Message-ID: <AANLkTi=PBmCqQdqo69xQNyJ4Q9yzooX6yApar+Q0ZhHH@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100728/a555ee6c/attachment.pl>

From simon.urbanek at r-project.org  Wed Jul 28 15:33:51 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 28 Jul 2010 09:33:51 -0400
Subject: [R-SIG-Mac] LME4 not loading
In-Reply-To: <1280313248.4c5007a0cb366@mymail.tcd.ie>
References: <mailman.24.1280311208.16772.r-sig-mac@stat.math.ethz.ch>
	<1280313248.4c5007a0cb366@mymail.tcd.ie>
Message-ID: <276DF6F6-61F2-4E71-BEEF-D0EB746EB3E7@r-project.org>


On Jul 28, 2010, at 6:34 AM, Alan Kelly wrote:

> Martin, my experience may only add to the confusion.  When I upgraded to 2.11 on
> my office Mac I had a similar problem when loading lme4 from CRAN.  However, I
> found the package on R-forge and successfully installed it. On trying the same
> procedure on my home Mac running 2.11.1, this approach fails with the following
> error (this differs from yours):
>> library(lme4)
> Loading required package: Matrix
> Loading required package: lattice
> 
> Attaching package: 'Matrix'
> 
> The following object(s) are masked from 'package:base':
> 
>    det
> 
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  unable to load shared library
> '/Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so':
> 
> dlopen(/Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so,
> 6): Library not loaded: /usr/local/lib/libgfortran.2.dylib
>  Referenced from:
> /Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so
>  Reason: image not found
> Error: package/namespace load failed for 'lme4'
> 

The Rforge is not mapping libgfortran correctly hence the error. You can work around that by installing gfortran from CRAN - but please read on instead.


> And you will not be able to load "arm" as this depends on "lme4".

I have created extra "untested" repository for this, you can now install lme4 (CRAN version but ignoring check failures) using

install.packages("lme4",,"http://r.research.att.com/",type='mac.binary.untested')


Cheers,
Simon



> Frustrating....
> Regards,
> Alan
> 
> Alan Kelly
> Trinity College Dublin
> 
> Quoting r-sig-mac-request at stat.math.ethz.ch:
> 
>> Send R-SIG-Mac mailing list submissions to
>> 	r-sig-mac at stat.math.ethz.ch
>> 
>> To subscribe or unsubscribe via the World Wide Web, visit
>> 	https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> or, via email, send a message with subject or body 'help' to
>> 	r-sig-mac-request at stat.math.ethz.ch
>> 
>> You can reach the person managing the list at
>> 	r-sig-mac-owner at stat.math.ethz.ch
>> 
>> When replying, please edit your Subject line so it is more specific
>> than "Re: Contents of R-SIG-Mac digest..."
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From akelly at tcd.ie  Wed Jul 28 18:05:47 2010
From: akelly at tcd.ie (Alan Kelly)
Date: Wed, 28 Jul 2010 17:05:47 +0100
Subject: [R-SIG-Mac] LME4 not loading
In-Reply-To: <276DF6F6-61F2-4E71-BEEF-D0EB746EB3E7@r-project.org>
References: <mailman.24.1280311208.16772.r-sig-mac@stat.math.ethz.ch>
	<1280313248.4c5007a0cb366@mymail.tcd.ie>
	<276DF6F6-61F2-4E71-BEEF-D0EB746EB3E7@r-project.org>
Message-ID: <1280333147.4c50555b55662@mymail.tcd.ie>

Simon's solution worked perfectly.
Many thanks for assistance Simon.
Alan

Dr. Alan Kelly
Senior Lecturer in Biostatistics
Director of the Small Area Health Research Unit (SAHRU)
Department of Public Health & Primary Care
Trinity College Centre for Health Sciences
Adelaide & Meath Hospital
Tallaght
Dublin 24



Quoting Simon Urbanek <simon.urbanek at r-project.org>:

>
> On Jul 28, 2010, at 6:34 AM, Alan Kelly wrote:
>
> > Martin, my experience may only add to the confusion.  When I upgraded to
> 2.11 on
> > my office Mac I had a similar problem when loading lme4 from CRAN.
> However, I
> > found the package on R-forge and successfully installed it. On trying the
> same
> > procedure on my home Mac running 2.11.1, this approach fails with the
> following
> > error (this differs from yours):
> >> library(lme4)
> > Loading required package: Matrix
> > Loading required package: lattice
> >
> > Attaching package: 'Matrix'
> >
> > The following object(s) are masked from 'package:base':
> >
> >    det
> >
> > Error in dyn.load(file, DLLpath = DLLpath, ...) :
> >  unable to load shared library
> > '/Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so':
> >
> >
>
dlopen(/Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so,
> > 6): Library not loaded: /usr/local/lib/libgfortran.2.dylib
> >  Referenced from:
> > /Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so
> >  Reason: image not found
> > Error: package/namespace load failed for 'lme4'
> >
>
> The Rforge is not mapping libgfortran correctly hence the error. You can work
> around that by installing gfortran from CRAN - but please read on instead.
>
>
> > And you will not be able to load "arm" as this depends on "lme4".
>
> I have created extra "untested" repository for this, you can now install lme4
> (CRAN version but ignoring check failures) using
>
>
install.packages("lme4",,"http://r.research.att.com/",type='mac.binary.untested')
>
>
> Cheers,
> Simon
>
>
>
> > Frustrating....
> > Regards,
> > Alan
> >
> > Alan Kelly
> > Trinity College Dublin
> >
> > Quoting r-sig-mac-request at stat.math.ethz.ch:
> >
> >> Send R-SIG-Mac mailing list submissions to
> >> 	r-sig-mac at stat.math.ethz.ch
> >>
> >> To subscribe or unsubscribe via the World Wide Web, visit
> >> 	https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >> or, via email, send a message with subject or body 'help' to
> >> 	r-sig-mac-request at stat.math.ethz.ch
> >>
> >> You can reach the person managing the list at
> >> 	r-sig-mac-owner at stat.math.ethz.ch
> >>
> >> When replying, please edit your Subject line so it is more specific
> >> than "Re: Contents of R-SIG-Mac digest..."
> >>
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at stat.math.ethz.ch
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
> >
>
>
>


--


From maechler at stat.math.ethz.ch  Fri Jul 30 01:51:30 2010
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 30 Jul 2010 01:51:30 +0200
Subject: [R-SIG-Mac] [R] lme4 + R 2.11.0 + mac unavailable
In-Reply-To: <33327.137.111.13.200.1280279974.squirrel@65.99.229.10>
References: <77EEDB99-E865-4010-8471-5B73AC70E5CE@vanderbilt.edu>
	<AANLkTiku7n6hW6qw6hcLENe2s8ipJpMAJLkSfQq1CPKg@mail.gmail.com>
	<4FBC65C2-0714-42B0-BC5E-57D9693DDA1E@anu.edu.au>
	<33327.137.111.13.200.1280279974.squirrel@65.99.229.10>
Message-ID: <19538.5122.519147.693997@cmath-5.math.ethz.ch>

>>>>> "KB" == Ken Beath <ken at kjbeath.com.au>
>>>>>     on Wed, 28 Jul 2010 01:19:34 -0000 (GMT) writes:

    KB> On Tue, July 27, 2010 11:07 pm, John Maindonald wrote:
    >> Binaries for lme4 are not for the time being available either on
    >> CRAN or on r-forge?
    >> 

    KB> There was a discussion about this on R-Sig-ME. It fails one of the checks
    KB> on the machine used to build the mac packages. It may pass on machines
    KB> with a later version of MacOS, but there didn't seem to be a consensus of
    KB> whether failing the checks was a problem.

The underlyign issue seems to remain unresolved.
My best guess is still to low-level bugs somewhere in the libraries
used.

However, to help users,
I'm willing to *not* run those tests when *running* on the Mac.

What does  
     Sys.info()[["sysname"]]

return on the Mac, i.e., different versions of R running on the
Mac?
>From grepping around I'd expect it give  "Darwin"  in all cases.
Is that true?

Regards,
Martin Maechler



    >> John Maindonald             email: john.maindonald at anu.edu.au
    >> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
    >> Centre for Mathematics & Its Applications, Room 1194,
    >> John Dedman Mathematical Sciences Building (Building 27)
    >> Australian National University, Canberra ACT 0200.
    >> http://www.maths.anu.edu.au/~johnm
    >> 
    >> On 27/07/2010, at 9:57 PM, Martin Maechler wrote:
    >> 
    >>> Dear Peter,
    >>> note that I am CC'ing this reply to the "R - Mac" mailing list, on
    >>> which there are knowledgable people for helping you with some of the
    >>> Mac specific problems
    >>> (more inline below).
    >>> 
    >>> On Sun, Jul 25, 2010 at 20:36, Peter Goff <peter.t.goff at vanderbilt.edu>
    >>> wrote:
    >>>> Martin,
    >>>> 
    >>>> I saw your series of posts on this topic, but sadly I am still unable
    >>>> to
    >>>> install lme4.
    >>>> 
    >>>> I am in the nascent stages of learning R and, at this point, I cannot
    >>>> even
    >>>> load the program "arm" that is key to my program of study (I'm working
    >>>> with
    >>>> Gelman & Hill's Data Analysis using Regression and
    >>>> Multilevel/Hierarchical
    >>>> Models to get acclimated to R).
    >>>> 
    >>>> Here's my quandary thus far:
    >>>> 
    >>>> (1) I download and install R for Macs (version 2.11.1)
    >>>> (2) I try to find lme4 through the "Package Installer" only to find
    >>>> that it
    >>>> does not exist.
    >>>> (3) I find your string of postings on the web and try to install using:
    >>>> install.packages("lme4", type = "source")
    >>>> and I get the following error message:
    >>>> 
    >>>> --- Please select a CRAN mirror for use in this session --- (I chose
    >>>> USA,
    >>>> MI)
    >>> 
    >>> Ok, I assume that's close enough to Vanderbilt ..
    >>> 
    >>>> trying URL 'http://cran.mtu.edu/src/contrib/lme4_0.999375-34.tar.gz'
    >>>> Content type 'application/x-gzip' length 1028012 bytes (1003 Kb)
    >>>> opened URL
    >>>> ==================================================
    >>>> downloaded 1003 Kb
    >>>> 
    >>>> * installing *source* package ?lme4? ...
    >>>> ** libs
    >>>> *** arch - i386
    >>>> gcc -arch i386 -std=gnu99
    >>>> -I/Library/Frameworks/R.framework/Resources/include
    >>>> -I/Library/Frameworks/R.framework/Resources/include/i386
    >>>> -I/usr/local/include
    >>>> -I"/Library/Frameworks/R.framework/Versions/2.11/Resources/library/Matrix/include"
    >>>> -I"/Library/Frameworks/R.framework/Resources/library/stats/include"
    >>>> -fPIC
    >>>> -g -O2 -c init.c -o init.o
    >>>> /bin/sh: gcc: command not found
    >>> 
    >>> See, that's a clue:  'gcc' is the GNU C compiler and that (and more)
    >>> are absolutely musts for installing many R packages from source.
    >>> 
    >>> The readers of R-SIG-Mac will be able to give more exact details,
    >>> but in order to get a version of gcc (and other tools) working nicely
    >>> with your version of R,
    >>> you'll need to install (parts of) the "Xcode" development tools that
    >>> Apple provides to you (for free, but you need to "get them").
    >>> 
    >>> Best regards,
    >>> Martin
    >>> 
    >>>> make: *** [init.o] Error 127
    >>>> ERROR: compilation failed for package ?lme4?
    >>>> * removing
    >>>> ?/Library/Frameworks/R.framework/Versions/2.11/Resources/library/lme4?
    >>>> 
    >>>> The downloaded packages are in
    >>>> 
    >>>> ?/private/var/folders/ty/tyL1SdtKGlObzhxQbBUTek+++TI/-Tmp-/Rtmpt4fli2/downloaded_packages?
    >>>> Updating HTML index of packages in '.Library'
    >>>> Warning message:
    >>>> In install.packages("lme4", type = "source") :
    >>>> installation of package 'lme4' had non-zero exit status
    >>>> 
    >>>> 
    >>>> 
    >>>> Days and hours later I am at a loss as to how I should proceed. Any
    >>>> advice
    >>>> would be greatly appreciated!
    >>>> 
    >>>> Thanks,
    >>>> ~Peter
    >>>> 
    >>>> Peter Trabert Goff
    >>>> PhD student
    >>>> Department of Leadership, Policy, and Organizations
    >>>> Vanderbilt University
    >>> 
    >>> _______________________________________________
    >>> R-SIG-Mac mailing list
    >>> R-SIG-Mac at stat.math.ethz.ch
    >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
    >> 
    >> _______________________________________________
    >> R-SIG-Mac mailing list
    >> R-SIG-Mac at stat.math.ethz.ch
    >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
    >>


From john.maindonald at anu.edu.au  Fri Jul 30 04:40:52 2010
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Fri, 30 Jul 2010 12:40:52 +1000
Subject: [R-SIG-Mac] [R] lme4 + R 2.11.0 + mac unavailable
In-Reply-To: <19538.5122.519147.693997@cmath-5.math.ethz.ch>
References: <77EEDB99-E865-4010-8471-5B73AC70E5CE@vanderbilt.edu>
	<AANLkTiku7n6hW6qw6hcLENe2s8ipJpMAJLkSfQq1CPKg@mail.gmail.com>
	<4FBC65C2-0714-42B0-BC5E-57D9693DDA1E@anu.edu.au>
	<33327.137.111.13.200.1280279974.squirrel@65.99.229.10>
	<19538.5122.519147.693997@cmath-5.math.ethz.ch>
Message-ID: <1EFCADA9-6AEB-4B69-AE8F-344F43BB6CC6@anu.edu.au>

It gives "Darwin" on my machine.

This is an issue (binaries unavailable) of a type that is likely to
recur from time to time, and not just for OSX implementations.  
At the very least, ready access to reasonably complete information 
on the status of packages, both on r-forge and on CRAN and
brought together in one place, is surely desirable for widely
used packages.   The packages check summary will seem a
forbidding place fro relative novices.

Thanks to those who are cogitating about how to handle such
issues, and trying to smooth the way ahead.

There might be a link on the relevant CRAN binaries page:
"The binary for the package that you want is not available.  Click 
here for details of the current status, and for a note on your options
for gaining access to it."

While compiling from source is a suitable recourse for those
who are accustomed to compile packages, encouraging
novice to compile from source seems in general a bad idea.

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.
http://www.maths.anu.edu.au/~johnm

On 30/07/2010, at 9:51 AM, Martin Maechler wrote:

>>>>>> "KB" == Ken Beath <ken at kjbeath.com.au>
>>>>>>    on Wed, 28 Jul 2010 01:19:34 -0000 (GMT) writes:
> 
>    KB> On Tue, July 27, 2010 11:07 pm, John Maindonald wrote:
>>> Binaries for lme4 are not for the time being available either on
>>> CRAN or on r-forge?
>>> 
> 
>    KB> There was a discussion about this on R-Sig-ME. It fails one of the checks
>    KB> on the machine used to build the mac packages. It may pass on machines
>    KB> with a later version of MacOS, but there didn't seem to be a consensus of
>    KB> whether failing the checks was a problem.
> 
> The underlyign issue seems to remain unresolved.
> My best guess is still to low-level bugs somewhere in the libraries
> used.
> 
> However, to help users,
> I'm willing to *not* run those tests when *running* on the Mac.
> 
> What does  
>     Sys.info()[["sysname"]]
> 
> return on the Mac, i.e., different versions of R running on the
> Mac?
> From grepping around I'd expect it give  "Darwin"  in all cases.
> Is that true?
> 
> Regards,
> Martin Maechler
> 
> 
> 
>>> John Maindonald             email: john.maindonald at anu.edu.au
>>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>>> Centre for Mathematics & Its Applications, Room 1194,
>>> John Dedman Mathematical Sciences Building (Building 27)
>>> Australian National University, Canberra ACT 0200.
>>> http://www.maths.anu.edu.au/~johnm
>>> 
>>> On 27/07/2010, at 9:57 PM, Martin Maechler wrote:
>>> 
>>>> Dear Peter,
>>>> note that I am CC'ing this reply to the "R - Mac" mailing list, on
>>>> which there are knowledgable people for helping you with some of the
>>>> Mac specific problems
>>>> (more inline below).
>>>> 
>>>> On Sun, Jul 25, 2010 at 20:36, Peter Goff <peter.t.goff at vanderbilt.edu>
>>>> wrote:
>>>>> Martin,
>>>>> 
>>>>> I saw your series of posts on this topic, but sadly I am still unable
>>>>> to
>>>>> install lme4.
>>>>> 
>>>>> I am in the nascent stages of learning R and, at this point, I cannot
>>>>> even
>>>>> load the program "arm" that is key to my program of study (I'm working
>>>>> with
>>>>> Gelman & Hill's Data Analysis using Regression and
>>>>> Multilevel/Hierarchical
>>>>> Models to get acclimated to R).
>>>>> 
>>>>> Here's my quandary thus far:
>>>>> 
>>>>> (1) I download and install R for Macs (version 2.11.1)
>>>>> (2) I try to find lme4 through the "Package Installer" only to find
>>>>> that it
>>>>> does not exist.
>>>>> (3) I find your string of postings on the web and try to install using:
>>>>> install.packages("lme4", type = "source")
>>>>> and I get the following error message:
>>>>> 
>>>>> --- Please select a CRAN mirror for use in this session --- (I chose
>>>>> USA,
>>>>> MI)
>>>> 
>>>> Ok, I assume that's close enough to Vanderbilt ..
>>>> 
>>>>> trying URL 'http://cran.mtu.edu/src/contrib/lme4_0.999375-34.tar.gz'
>>>>> Content type 'application/x-gzip' length 1028012 bytes (1003 Kb)
>>>>> opened URL
>>>>> ==================================================
>>>>> downloaded 1003 Kb
>>>>> 
>>>>> * installing *source* package ?lme4? ...
>>>>> ** libs
>>>>> *** arch - i386
>>>>> gcc -arch i386 -std=gnu99
>>>>> -I/Library/Frameworks/R.framework/Resources/include
>>>>> -I/Library/Frameworks/R.framework/Resources/include/i386
>>>>> -I/usr/local/include
>>>>> -I"/Library/Frameworks/R.framework/Versions/2.11/Resources/library/Matrix/include"
>>>>> -I"/Library/Frameworks/R.framework/Resources/library/stats/include"
>>>>> -fPIC
>>>>> -g -O2 -c init.c -o init.o
>>>>> /bin/sh: gcc: command not found
>>>> 
>>>> See, that's a clue:  'gcc' is the GNU C compiler and that (and more)
>>>> are absolutely musts for installing many R packages from source.
>>>> 
>>>> The readers of R-SIG-Mac will be able to give more exact details,
>>>> but in order to get a version of gcc (and other tools) working nicely
>>>> with your version of R,
>>>> you'll need to install (parts of) the "Xcode" development tools that
>>>> Apple provides to you (for free, but you need to "get them").
>>>> 
>>>> Best regards,
>>>> Martin
>>>> 
>>>>> make: *** [init.o] Error 127
>>>>> ERROR: compilation failed for package ?lme4?
>>>>> * removing
>>>>> ?/Library/Frameworks/R.framework/Versions/2.11/Resources/library/lme4?
>>>>> 
>>>>> The downloaded packages are in
>>>>> 
>>>>> ?/private/var/folders/ty/tyL1SdtKGlObzhxQbBUTek+++TI/-Tmp-/Rtmpt4fli2/downloaded_packages?
>>>>> Updating HTML index of packages in '.Library'
>>>>> Warning message:
>>>>> In install.packages("lme4", type = "source") :
>>>>> installation of package 'lme4' had non-zero exit status
>>>>> 
>>>>> 
>>>>> 
>>>>> Days and hours later I am at a loss as to how I should proceed. Any
>>>>> advice
>>>>> would be greatly appreciated!
>>>>> 
>>>>> Thanks,
>>>>> ~Peter
>>>>> 
>>>>> Peter Trabert Goff
>>>>> PhD student
>>>>> Department of Leadership, Policy, and Organizations
>>>>> Vanderbilt University
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Fri Jul 30 17:29:33 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 30 Jul 2010 11:29:33 -0400
Subject: [R-SIG-Mac] [R] lme4 + R 2.11.0 + mac unavailable
In-Reply-To: <19538.5122.519147.693997@cmath-5.math.ethz.ch>
References: <77EEDB99-E865-4010-8471-5B73AC70E5CE@vanderbilt.edu>
	<AANLkTiku7n6hW6qw6hcLENe2s8ipJpMAJLkSfQq1CPKg@mail.gmail.com>
	<4FBC65C2-0714-42B0-BC5E-57D9693DDA1E@anu.edu.au>
	<33327.137.111.13.200.1280279974.squirrel@65.99.229.10>
	<19538.5122.519147.693997@cmath-5.math.ethz.ch>
Message-ID: <7449E7C9-646C-421D-8682-508ED47B4075@r-project.org>


On Jul 29, 2010, at 7:51 PM, Martin Maechler wrote:

>>>>>> "KB" == Ken Beath <ken at kjbeath.com.au>
>>>>>>    on Wed, 28 Jul 2010 01:19:34 -0000 (GMT) writes:
> 
>    KB> On Tue, July 27, 2010 11:07 pm, John Maindonald wrote:
>>> Binaries for lme4 are not for the time being available either on
>>> CRAN or on r-forge?
>>> 
> 
>    KB> There was a discussion about this on R-Sig-ME. It fails one of the checks
>    KB> on the machine used to build the mac packages. It may pass on machines
>    KB> with a later version of MacOS, but there didn't seem to be a consensus of
>    KB> whether failing the checks was a problem.
> 
> The underlyign issue seems to remain unresolved.
> My best guess is still to low-level bugs somewhere in the libraries
> used.
> 
> However, to help users,
> I'm willing to *not* run those tests when *running* on the Mac.
> 
> What does  
>     Sys.info()[["sysname"]]
> 
> return on the Mac, i.e., different versions of R running on the
> Mac?
> From grepping around I'd expect it give  "Darwin"  in all cases.
> Is that true?
> 

... why don't you just compare the values with tolerance? That seems to make more sense that to disable the test altogether ...

Cheers,
Simon


> Regards,
> Martin Maechler
> 
> 
> 
>>> John Maindonald             email: john.maindonald at anu.edu.au
>>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>>> Centre for Mathematics & Its Applications, Room 1194,
>>> John Dedman Mathematical Sciences Building (Building 27)
>>> Australian National University, Canberra ACT 0200.
>>> http://www.maths.anu.edu.au/~johnm
>>> 
>>> On 27/07/2010, at 9:57 PM, Martin Maechler wrote:
>>> 
>>>> Dear Peter,
>>>> note that I am CC'ing this reply to the "R - Mac" mailing list, on
>>>> which there are knowledgable people for helping you with some of the
>>>> Mac specific problems
>>>> (more inline below).
>>>> 
>>>> On Sun, Jul 25, 2010 at 20:36, Peter Goff <peter.t.goff at vanderbilt.edu>
>>>> wrote:
>>>>> Martin,
>>>>> 
>>>>> I saw your series of posts on this topic, but sadly I am still unable
>>>>> to
>>>>> install lme4.
>>>>> 
>>>>> I am in the nascent stages of learning R and, at this point, I cannot
>>>>> even
>>>>> load the program "arm" that is key to my program of study (I'm working
>>>>> with
>>>>> Gelman & Hill's Data Analysis using Regression and
>>>>> Multilevel/Hierarchical
>>>>> Models to get acclimated to R).
>>>>> 
>>>>> Here's my quandary thus far:
>>>>> 
>>>>> (1) I download and install R for Macs (version 2.11.1)
>>>>> (2) I try to find lme4 through the "Package Installer" only to find
>>>>> that it
>>>>> does not exist.
>>>>> (3) I find your string of postings on the web and try to install using:
>>>>> install.packages("lme4", type = "source")
>>>>> and I get the following error message:
>>>>> 
>>>>> --- Please select a CRAN mirror for use in this session --- (I chose
>>>>> USA,
>>>>> MI)
>>>> 
>>>> Ok, I assume that's close enough to Vanderbilt ..
>>>> 
>>>>> trying URL 'http://cran.mtu.edu/src/contrib/lme4_0.999375-34.tar.gz'
>>>>> Content type 'application/x-gzip' length 1028012 bytes (1003 Kb)
>>>>> opened URL
>>>>> ==================================================
>>>>> downloaded 1003 Kb
>>>>> 
>>>>> * installing *source* package ?lme4? ...
>>>>> ** libs
>>>>> *** arch - i386
>>>>> gcc -arch i386 -std=gnu99
>>>>> -I/Library/Frameworks/R.framework/Resources/include
>>>>> -I/Library/Frameworks/R.framework/Resources/include/i386
>>>>> -I/usr/local/include
>>>>> -I"/Library/Frameworks/R.framework/Versions/2.11/Resources/library/Matrix/include"
>>>>> -I"/Library/Frameworks/R.framework/Resources/library/stats/include"
>>>>> -fPIC
>>>>> -g -O2 -c init.c -o init.o
>>>>> /bin/sh: gcc: command not found
>>>> 
>>>> See, that's a clue:  'gcc' is the GNU C compiler and that (and more)
>>>> are absolutely musts for installing many R packages from source.
>>>> 
>>>> The readers of R-SIG-Mac will be able to give more exact details,
>>>> but in order to get a version of gcc (and other tools) working nicely
>>>> with your version of R,
>>>> you'll need to install (parts of) the "Xcode" development tools that
>>>> Apple provides to you (for free, but you need to "get them").
>>>> 
>>>> Best regards,
>>>> Martin
>>>> 
>>>>> make: *** [init.o] Error 127
>>>>> ERROR: compilation failed for package ?lme4?
>>>>> * removing
>>>>> ?/Library/Frameworks/R.framework/Versions/2.11/Resources/library/lme4?
>>>>> 
>>>>> The downloaded packages are in
>>>>> 
>>>>> ?/private/var/folders/ty/tyL1SdtKGlObzhxQbBUTek+++TI/-Tmp-/Rtmpt4fli2/downloaded_packages?
>>>>> Updating HTML index of packages in '.Library'
>>>>> Warning message:
>>>>> In install.packages("lme4", type = "source") :
>>>>> installation of package 'lme4' had non-zero exit status
>>>>> 
>>>>> 
>>>>> 
>>>>> Days and hours later I am at a loss as to how I should proceed. Any
>>>>> advice
>>>>> would be greatly appreciated!
>>>>> 
>>>>> Thanks,
>>>>> ~Peter
>>>>> 
>>>>> Peter Trabert Goff
>>>>> PhD student
>>>>> Department of Leadership, Policy, and Organizations
>>>>> Vanderbilt University
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From maechler at stat.math.ethz.ch  Fri Jul 30 21:09:31 2010
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Fri, 30 Jul 2010 21:09:31 +0200
Subject: [R-SIG-Mac] [R] lme4 + R 2.11.0 + mac unavailable
In-Reply-To: <7449E7C9-646C-421D-8682-508ED47B4075@r-project.org>
References: <77EEDB99-E865-4010-8471-5B73AC70E5CE@vanderbilt.edu>
	<AANLkTiku7n6hW6qw6hcLENe2s8ipJpMAJLkSfQq1CPKg@mail.gmail.com>
	<4FBC65C2-0714-42B0-BC5E-57D9693DDA1E@anu.edu.au>
	<33327.137.111.13.200.1280279974.squirrel@65.99.229.10>
	<19538.5122.519147.693997@cmath-5.math.ethz.ch>
	<7449E7C9-646C-421D-8682-508ED47B4075@r-project.org>
Message-ID: <AANLkTim+w6RZeCbOGdAi9DuLasVbYTwup_ethyvAMwL=@mail.gmail.com>

On Fri, Jul 30, 2010 at 17:29, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> On Jul 29, 2010, at 7:51 PM, Martin Maechler wrote:
>
>>>>>>> "KB" == Ken Beath <ken at kjbeath.com.au>
>>>>>>> ? ?on Wed, 28 Jul 2010 01:19:34 -0000 (GMT) writes:
>>
>> ? ?KB> On Tue, July 27, 2010 11:07 pm, John Maindonald wrote:
>>>> Binaries for lme4 are not for the time being available either on
>>>> CRAN or on r-forge?
>>>>
>>
>> ? ?KB> There was a discussion about this on R-Sig-ME. It fails one of the checks
>> ? ?KB> on the machine used to build the mac packages. It may pass on machines
>> ? ?KB> with a later version of MacOS, but there didn't seem to be a consensus of
>> ? ?KB> whether failing the checks was a problem.
>>
>> The underlyign issue seems to remain unresolved.
>> My best guess is still to low-level bugs somewhere in the libraries
>> used.
>>
>> However, to help users,
>> I'm willing to *not* run those tests when *running* on the Mac.
>>
>> What does
>> ? ? Sys.info()[["sysname"]]
>>
>> return on the Mac, i.e., different versions of R running on the
>> Mac?
>> From grepping around I'd expect it give ?"Darwin" ?in all cases.
>> Is that true?
>>
>
> ... why don't you just compare the values with tolerance? That seems to make more sense that to disable the test altogether ...
>

Doug and I have explained in several occasions (but maybe not on R-SIG-Mac)
that this is *NOT* the point here.
It's not about "basically the same computations" it's about
identical computations, i.e. from identical numerical matrices and so
the use of identical() has been very much on purpose, and is different
from the well justified typical use of
all.equal() which we use in many other places.

And what people where reporting *is* a bit disturbing: The same
computations giving different answers for *exactly* the same
computation, e.g., depending if they had used
library(lme4)  or  require(lme4)  to load the package ...
and the difference was not just the last significant bit, but changes
at about the 7-th significant digit.

Martin


> Cheers,
> Simon
>


From john.maindonald at anu.edu.au  Sat Jul 31 04:25:05 2010
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Sat, 31 Jul 2010 12:25:05 +1000
Subject: [R-SIG-Mac] [R] lme4 + R 2.11.0 + mac unavailable
In-Reply-To: <AANLkTim+w6RZeCbOGdAi9DuLasVbYTwup_ethyvAMwL=@mail.gmail.com>
References: <77EEDB99-E865-4010-8471-5B73AC70E5CE@vanderbilt.edu>
	<AANLkTiku7n6hW6qw6hcLENe2s8ipJpMAJLkSfQq1CPKg@mail.gmail.com>
	<4FBC65C2-0714-42B0-BC5E-57D9693DDA1E@anu.edu.au>
	<33327.137.111.13.200.1280279974.squirrel@65.99.229.10>
	<19538.5122.519147.693997@cmath-5.math.ethz.ch>
	<7449E7C9-646C-421D-8682-508ED47B4075@r-project.org>
	<AANLkTim+w6RZeCbOGdAi9DuLasVbYTwup_ethyvAMwL=@mail.gmail.com>
Message-ID: <89C72C5E-C22E-43F8-B2EB-EE2008372F4B@anu.edu.au>

Is optimisation of code a possibility, i.e., the same algebraic calculations 
done  in a slightly different way depending on the state of various registers?
E.g., (ab)c vs a(bc), but it would almost certainly be more subtle than that.  
That seems to me the sort of thing that is likely to be Mac-specific.

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.
http://www.maths.anu.edu.au/~johnm

On 31/07/2010, at 5:09 AM, Martin Maechler wrote:

> On Fri, Jul 30, 2010 at 17:29, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> 
>> On Jul 29, 2010, at 7:51 PM, Martin Maechler wrote:
>> 
>>>>>>>> "KB" == Ken Beath <ken at kjbeath.com.au>
>>>>>>>>   on Wed, 28 Jul 2010 01:19:34 -0000 (GMT) writes:
>>> 
>>>   KB> On Tue, July 27, 2010 11:07 pm, John Maindonald wrote:
>>>>> Binaries for lme4 are not for the time being available either on
>>>>> CRAN or on r-forge?
>>>>> 
>>> 
>>>   KB> There was a discussion about this on R-Sig-ME. It fails one of the checks
>>>   KB> on the machine used to build the mac packages. It may pass on machines
>>>   KB> with a later version of MacOS, but there didn't seem to be a consensus of
>>>   KB> whether failing the checks was a problem.
>>> 
>>> The underlyign issue seems to remain unresolved.
>>> My best guess is still to low-level bugs somewhere in the libraries
>>> used.
>>> 
>>> However, to help users,
>>> I'm willing to *not* run those tests when *running* on the Mac.
>>> 
>>> What does
>>>    Sys.info()[["sysname"]]
>>> 
>>> return on the Mac, i.e., different versions of R running on the
>>> Mac?
>>> From grepping around I'd expect it give  "Darwin"  in all cases.
>>> Is that true?
>>> 
>> 
>> ... why don't you just compare the values with tolerance? That seems to make more sense that to disable the test altogether ...
>> 
> 
> Doug and I have explained in several occasions (but maybe not on R-SIG-Mac)
> that this is *NOT* the point here.
> It's not about "basically the same computations" it's about
> identical computations, i.e. from identical numerical matrices and so
> the use of identical() has been very much on purpose, and is different
> from the well justified typical use of
> all.equal() which we use in many other places.
> 
> And what people where reporting *is* a bit disturbing: The same
> computations giving different answers for *exactly* the same
> computation, e.g., depending if they had used
> library(lme4)  or  require(lme4)  to load the package ...
> and the difference was not just the last significant bit, but changes
> at about the 7-th significant digit.
> 
> Martin
> 
> 
>> Cheers,
>> Simon
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ripley at stats.ox.ac.uk  Sat Jul 31 13:24:39 2010
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 31 Jul 2010 12:24:39 +0100 (BST)
Subject: [R-SIG-Mac] [R] lme4 + R 2.11.0 + mac unavailable
In-Reply-To: <89C72C5E-C22E-43F8-B2EB-EE2008372F4B@anu.edu.au>
References: <77EEDB99-E865-4010-8471-5B73AC70E5CE@vanderbilt.edu>
	<AANLkTiku7n6hW6qw6hcLENe2s8ipJpMAJLkSfQq1CPKg@mail.gmail.com>
	<4FBC65C2-0714-42B0-BC5E-57D9693DDA1E@anu.edu.au>
	<33327.137.111.13.200.1280279974.squirrel@65.99.229.10>
	<19538.5122.519147.693997@cmath-5.math.ethz.ch>
	<7449E7C9-646C-421D-8682-508ED47B4075@r-project.org>
	<AANLkTim+w6RZeCbOGdAi9DuLasVbYTwup_ethyvAMwL=@mail.gmail.com>
	<89C72C5E-C22E-43F8-B2EB-EE2008372F4B@anu.edu.au>
Message-ID: <alpine.LFD.2.00.1007311116530.3954@gannet.stats.ox.ac.uk>

Let us be clear about what the issue seems to be.  On i386 Mac (and 
not on x86_64 Mac)

library(lme4)
y <- (1:20)*pi; x <- (1:20)^2;group <- gl(2,10)
M2. <- lmer (y ~ 1 + x + (1 + x | group))
M2 <- lmer (y ~ x + ( x | group))
identical(fixef(M2), fixef(M2.))

usually fails the first time but if you run it again it is usually 
true, e.g. following on gave

> fixef(M2); fixef(M2.)
(Intercept)           x
  15.2354383   0.1855865
(Intercept)           x
  15.2354486   0.1855864
> M2. <- lmer (y ~ 1 + x + (1 + x | group))
> fixef(M2.)
(Intercept)           x
  15.2354383   0.1855865

I think 'later version of MacOS' is most likely someone not 
understanding that x86_64 is the default for 'R' on Snow Leopard. 
I've just checked this on Leopard and Snow Leopard.  *But* it is not 
repeatable, as sometimes I get TRUE the first run in a session -- and 
once that happens it seems to keep happening until a reboot or I 
reinstall lme4.

I ran this under valgrind (on Leopard: there is now experimental 
valgrind support for SL, but I've not installed it as yet) and saw no 
reports of problems.  However, on one of the times I tried it under 
valgrind  the result was further away:
> fixef(M2.)
(Intercept)           x
  15.2381811   0.1856179
and persistent.

For completeness, I also saw this using R's reference BLAS rather than 
the (default on a CRAN build) Apple 'veclib' BLAS.

So the issue appears to be one of repeating the calculation and 
getting different answers.  That does look like a i386-Mac-specific 
bug, but whether this is worth not distributing a binary for is 
something for the lme4 authors to judge -- if not then a 
platform-specific test opt-out seems the best way forward.


On Sat, 31 Jul 2010, John Maindonald wrote:

> Is optimisation of code a possibility, i.e., the same algebraic 
> calculations done in a slightly different way depending on the state 
> of various registers? E.g., (ab)c vs a(bc), but it would almost 
> certainly be more subtle than that. That seems to me the sort of 
> thing that is likely to be Mac-specific.

But the Mac shares a compiler with lots of other platforms, and the 
gcc optimizer for i386 is pretty much shared across platforms (albeit 
the Mac gcc is now rather old, but is of similar vintage to that used 
on Windows for R 2.11.x).  In any case, this is not (in my 
experiments) an issue of numerical accuracy but of repeatability,

>
> John Maindonald             email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
> Centre for Mathematics & Its Applications, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
> http://www.maths.anu.edu.au/~johnm
>
> On 31/07/2010, at 5:09 AM, Martin Maechler wrote:
>
>> On Fri, Jul 30, 2010 at 17:29, Simon Urbanek
>> <simon.urbanek at r-project.org> wrote:
>>>
>>> On Jul 29, 2010, at 7:51 PM, Martin Maechler wrote:
>>>
>>>>>>>>> "KB" == Ken Beath <ken at kjbeath.com.au>
>>>>>>>>>   on Wed, 28 Jul 2010 01:19:34 -0000 (GMT) writes:
>>>>
>>>>   KB> On Tue, July 27, 2010 11:07 pm, John Maindonald wrote:
>>>>>> Binaries for lme4 are not for the time being available either on
>>>>>> CRAN or on r-forge?
>>>>>>
>>>>
>>>>   KB> There was a discussion about this on R-Sig-ME. It fails one of the checks
>>>>   KB> on the machine used to build the mac packages. It may pass on machines
>>>>   KB> with a later version of MacOS, but there didn't seem to be a consensus of
>>>>   KB> whether failing the checks was a problem.
>>>>
>>>> The underlyign issue seems to remain unresolved.
>>>> My best guess is still to low-level bugs somewhere in the libraries
>>>> used.
>>>>
>>>> However, to help users,
>>>> I'm willing to *not* run those tests when *running* on the Mac.
>>>>
>>>> What does
>>>>    Sys.info()[["sysname"]]
>>>>
>>>> return on the Mac, i.e., different versions of R running on the
>>>> Mac?
>>>> From grepping around I'd expect it give  "Darwin"  in all cases.
>>>> Is that true?
>>>>
>>>
>>> ... why don't you just compare the values with tolerance? That 
>>> seems to make more sense that to disable the test altogether ...
>>>
>>
>> Doug and I have explained in several occasions (but maybe not on R-SIG-Mac)
>> that this is *NOT* the point here.
>> It's not about "basically the same computations" it's about
>> identical computations, i.e. from identical numerical matrices and so
>> the use of identical() has been very much on purpose, and is different
>> from the well justified typical use of
>> all.equal() which we use in many other places.
>>
>> And what people where reporting *is* a bit disturbing: The same
>> computations giving different answers for *exactly* the same
>> computation, e.g., depending if they had used
>> library(lme4)  or  require(lme4)  to load the package ...
>> and the difference was not just the last significant bit, but changes
>> at about the 7-th significant digit.
>>
>> Martin
>>
>>
>>> Cheers,
>>> Simon
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From maechler at stat.math.ethz.ch  Sat Jul 31 14:07:56 2010
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 31 Jul 2010 14:07:56 +0200
Subject: [R-SIG-Mac] [R] lme4 + R 2.11.0 + mac unavailable
In-Reply-To: <89C72C5E-C22E-43F8-B2EB-EE2008372F4B@anu.edu.au>
References: <77EEDB99-E865-4010-8471-5B73AC70E5CE@vanderbilt.edu>
	<AANLkTiku7n6hW6qw6hcLENe2s8ipJpMAJLkSfQq1CPKg@mail.gmail.com>
	<4FBC65C2-0714-42B0-BC5E-57D9693DDA1E@anu.edu.au>
	<33327.137.111.13.200.1280279974.squirrel@65.99.229.10>
	<19538.5122.519147.693997@cmath-5.math.ethz.ch>
	<7449E7C9-646C-421D-8682-508ED47B4075@r-project.org>
	<AANLkTim+w6RZeCbOGdAi9DuLasVbYTwup_ethyvAMwL=@mail.gmail.com>
	<89C72C5E-C22E-43F8-B2EB-EE2008372F4B@anu.edu.au>
Message-ID: <AANLkTi=1-NW=OVbZc3AtATntXb1pR6yJVh9UMeNP4WNH@mail.gmail.com>

On Sat, Jul 31, 2010 at 04:25, John Maindonald
<john.maindonald at anu.edu.au> wrote:
> Is optimisation of code a possibility, i.e., the same algebraic calculations
> done ?in a slightly different way depending on the state of various registers?

I'm really not a Mac specialist and neither one in those low level
system / CPU computations,  but indeed, exactly something like that
has been my current guess about what's happening...

> E.g., (ab)c vs a(bc), but it would almost certainly be more subtle than that.
yes, more subtle ( I hope).  We know that computer arithmetic does
*not*  fulfill most of these basic arithmetic laws, but remember that
here, we cannot imagine how the numeric matrices that are used in the
computations could *start*  differently, and then I'd wonder how
differences came about...
and recall that the differences we've seen where not just in the last
few significant bits

> That seems to me the sort of thing that is likely to be Mac-specific.

interesting...  so you have seen other evidence of such behavior?

>
> John Maindonald ? ? ? ? ? ? email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473 ? ?fax ?: +61 2(6125)5549
> Centre for Mathematics & Its Applications, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
> http://www.maths.anu.edu.au/~johnm
>
> On 31/07/2010, at 5:09 AM, Martin Maechler wrote:
>
>> On Fri, Jul 30, 2010 at 17:29, Simon Urbanek
>> <simon.urbanek at r-project.org> wrote:
>>>
>>> On Jul 29, 2010, at 7:51 PM, Martin Maechler wrote:
>>>
>>>>>>>>> "KB" == Ken Beath <ken at kjbeath.com.au>
>>>>>>>>> ? on Wed, 28 Jul 2010 01:19:34 -0000 (GMT) writes:
>>>>
>>>> ? KB> On Tue, July 27, 2010 11:07 pm, John Maindonald wrote:
>>>>>> Binaries for lme4 are not for the time being available either on
>>>>>> CRAN or on r-forge?
>>>>>>
>>>>
>>>> ? KB> There was a discussion about this on R-Sig-ME. It fails one of the checks
>>>> ? KB> on the machine used to build the mac packages. It may pass on machines
>>>> ? KB> with a later version of MacOS, but there didn't seem to be a consensus of
>>>> ? KB> whether failing the checks was a problem.
>>>>
>>>> The underlyign issue seems to remain unresolved.
>>>> My best guess is still to low-level bugs somewhere in the libraries
>>>> used.
>>>>
>>>> However, to help users,
>>>> I'm willing to *not* run those tests when *running* on the Mac.
>>>>
>>>> What does
>>>> ? ?Sys.info()[["sysname"]]
>>>>
>>>> return on the Mac, i.e., different versions of R running on the
>>>> Mac?
>>>> From grepping around I'd expect it give ?"Darwin" ?in all cases.
>>>> Is that true?
>>>>
>>>
>>> ... why don't you just compare the values with tolerance? That seems to make more sense that to disable the test altogether ...
>>>
>>
>> Doug and I have explained in several occasions (but maybe not on R-SIG-Mac)
>> that this is *NOT* the point here.
>> It's not about "basically the same computations" it's about
>> identical computations, i.e. from identical numerical matrices and so
>> the use of identical() has been very much on purpose, and is different
>> from the well justified typical use of
>> all.equal() which we use in many other places.
>>
>> And what people where reporting *is* a bit disturbing: The same
>> computations giving different answers for *exactly* the same
>> computation, e.g., depending if they had used
>> library(lme4) ?or ?require(lme4) ?to load the package ...
>> and the difference was not just the last significant bit, but changes
>> at about the 7-th significant digit.
>>
>> Martin
>>
>>
>>> Cheers,
>>> Simon
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From maechler at stat.math.ethz.ch  Sat Jul 31 14:22:53 2010
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat, 31 Jul 2010 14:22:53 +0200
Subject: [R-SIG-Mac] [R] lme4 + R 2.11.0 + mac unavailable
In-Reply-To: <alpine.LFD.2.00.1007311116530.3954@gannet.stats.ox.ac.uk>
References: <77EEDB99-E865-4010-8471-5B73AC70E5CE@vanderbilt.edu>
	<AANLkTiku7n6hW6qw6hcLENe2s8ipJpMAJLkSfQq1CPKg@mail.gmail.com>
	<4FBC65C2-0714-42B0-BC5E-57D9693DDA1E@anu.edu.au>
	<33327.137.111.13.200.1280279974.squirrel@65.99.229.10>
	<19538.5122.519147.693997@cmath-5.math.ethz.ch>
	<7449E7C9-646C-421D-8682-508ED47B4075@r-project.org>
	<AANLkTim+w6RZeCbOGdAi9DuLasVbYTwup_ethyvAMwL=@mail.gmail.com>
	<89C72C5E-C22E-43F8-B2EB-EE2008372F4B@anu.edu.au>
	<alpine.LFD.2.00.1007311116530.3954@gannet.stats.ox.ac.uk>
Message-ID: <AANLkTikA+_12OHu=xJ_N=y8u3vTw50ThKvmWFP1Aq-66@mail.gmail.com>

On Sat, Jul 31, 2010 at 13:24, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> Let us be clear about what the issue seems to be. ?On i386 Mac (and not on
> x86_64 Mac)
>
> library(lme4)
> y <- (1:20)*pi; x <- (1:20)^2;group <- gl(2,10)
> M2. <- lmer (y ~ 1 + x + (1 + x | group))
> M2 <- lmer (y ~ x + ( x | group))
> identical(fixef(M2), fixef(M2.))
>
> usually fails the first time but if you run it again it is usually true,
> e.g. following on gave
>
>> fixef(M2); fixef(M2.)
>
> (Intercept) ? ? ? ? ? x
> ?15.2354383 ? 0.1855865
> (Intercept) ? ? ? ? ? x
> ?15.2354486 ? 0.1855864
>>
>> M2. <- lmer (y ~ 1 + x + (1 + x | group))
>> fixef(M2.)
>
> (Intercept) ? ? ? ? ? x
> ?15.2354383 ? 0.1855865
>
> I think 'later version of MacOS' is most likely someone not understanding
> that x86_64 is the default for 'R' on Snow Leopard. I've just checked this
> on Leopard and Snow Leopard. ?*But* it is not repeatable, as sometimes I get
> TRUE the first run in a session -- and once that happens it seems to keep
> happening until a reboot or I reinstall lme4.
>
> I ran this under valgrind (on Leopard: there is now experimental valgrind
> support for SL, but I've not installed it as yet) and saw no reports of
> problems. ?However, on one of the times I tried it under valgrind ?the
> result was further away:
>>
>> fixef(M2.)
>
> (Intercept) ? ? ? ? ? x
> ?15.2381811 ? 0.1856179
> and persistent.
>
> For completeness, I also saw this using R's reference BLAS rather than the
> (default on a CRAN build) Apple 'veclib' BLAS.
>
> So the issue appears to be one of repeating the calculation and getting
> different answers. ?That does look like a i386-Mac-specific bug, but whether
> this is worth not distributing a binary for is something for the lme4
> authors to judge -- if not then a platform-specific test opt-out seems the
> best way forward.

Thank you very much, Brian, for your experiments and concluding thoughts.
At the moment (since about yesterday), the R-forge version of lme4 has a test

  if(Sys.info()[["sysname"]] != "Darwin")

before two of the stopifnot(identical(..), identical(..))  checks.
Now if I understood correctly, I could constrain the if(..) close even
further by
requiring both "Darwin" and "i386"  for "not checking".
So, I'd use

    Sys.info()[c("sysname","machine")] == c("Darwin", "i386")

or would you recommend something better?

Thanks again,
Martin

>
> On Sat, 31 Jul 2010, John Maindonald wrote:
>
>> Is optimisation of code a possibility, i.e., the same algebraic
>> calculations done in a slightly different way depending on the state of
>> various registers? E.g., (ab)c vs a(bc), but it would almost certainly be
>> more subtle than that. That seems to me the sort of thing that is likely to
>> be Mac-specific.
>
> But the Mac shares a compiler with lots of other platforms, and the gcc
> optimizer for i386 is pretty much shared across platforms (albeit the Mac
> gcc is now rather old, but is of similar vintage to that used on Windows for
> R 2.11.x). ?In any case, this is not (in my experiments) an issue of
> numerical accuracy but of repeatability,
>
>>
>> John Maindonald ? ? ? ? ? ? email: john.maindonald at anu.edu.au
>> phone : +61 2 (6125)3473 ? ?fax ?: +61 2(6125)5549
>> Centre for Mathematics & Its Applications, Room 1194,
>> John Dedman Mathematical Sciences Building (Building 27)
>> Australian National University, Canberra ACT 0200.
>> http://www.maths.anu.edu.au/~johnm
>>
>> On 31/07/2010, at 5:09 AM, Martin Maechler wrote:
>>
>>> On Fri, Jul 30, 2010 at 17:29, Simon Urbanek
>>> <simon.urbanek at r-project.org> wrote:
>>>>
>>>> On Jul 29, 2010, at 7:51 PM, Martin Maechler wrote:
>>>>
>>>>>>>>>> "KB" == Ken Beath <ken at kjbeath.com.au>
>>>>>>>>>> ?on Wed, 28 Jul 2010 01:19:34 -0000 (GMT) writes:
>>>>>
>>>>> ?KB> On Tue, July 27, 2010 11:07 pm, John Maindonald wrote:
>>>>>>>
>>>>>>> Binaries for lme4 are not for the time being available either on
>>>>>>> CRAN or on r-forge?
>>>>>>>
>>>>>
>>>>> ?KB> There was a discussion about this on R-Sig-ME. It fails one of the
>>>>> checks
>>>>> ?KB> on the machine used to build the mac packages. It may pass on
>>>>> machines
>>>>> ?KB> with a later version of MacOS, but there didn't seem to be a
>>>>> consensus of
>>>>> ?KB> whether failing the checks was a problem.
>>>>>
>>>>> The underlyign issue seems to remain unresolved.
>>>>> My best guess is still to low-level bugs somewhere in the libraries
>>>>> used.
>>>>>
>>>>> However, to help users,
>>>>> I'm willing to *not* run those tests when *running* on the Mac.
>>>>>
>>>>> What does
>>>>> ? Sys.info()[["sysname"]]
>>>>>
>>>>> return on the Mac, i.e., different versions of R running on the
>>>>> Mac?
>>>>> From grepping around I'd expect it give ?"Darwin" ?in all cases.
>>>>> Is that true?
>>>>>
>>>>
>>>> ... why don't you just compare the values with tolerance? That seems to
>>>> make more sense that to disable the test altogether ...
>>>>
>>>
>>> Doug and I have explained in several occasions (but maybe not on
>>> R-SIG-Mac)
>>> that this is *NOT* the point here.
>>> It's not about "basically the same computations" it's about
>>> identical computations, i.e. from identical numerical matrices and so
>>> the use of identical() has been very much on purpose, and is different
>>> from the well justified typical use of
>>> all.equal() which we use in many other places.
>>>
>>> And what people where reporting *is* a bit disturbing: The same
>>> computations giving different answers for *exactly* the same
>>> computation, e.g., depending if they had used
>>> library(lme4) ?or ?require(lme4) ?to load the package ...
>>> and the difference was not just the last significant bit, but changes
>>> at about the 7-th significant digit.
>>>
>>> Martin
>>>
>>>
>>>> Cheers,
>>>> Simon
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> --
> Brian D. Ripley, ? ? ? ? ? ? ? ? ?ripley at stats.ox.ac.uk
> Professor of Applied Statistics, ?http://www.stats.ox.ac.uk/~ripley/
> University of Oxford, ? ? ? ? ? ? Tel: ?+44 1865 272861 (self)
> 1 South Parks Road, ? ? ? ? ? ? ? ? ? ? +44 1865 272866 (PA)
> Oxford OX1 3TG, UK ? ? ? ? ? ? ? ?Fax: ?+44 1865 272595
>
>


From Irina.Foss at thurso.uhi.ac.uk  Thu Jul 29 19:47:58 2010
From: Irina.Foss at thurso.uhi.ac.uk (Irina Foss)
Date: Thu, 29 Jul 2010 18:47:58 +0100
Subject: [R-SIG-Mac] install two versions of R on a Mac
Message-ID: <4C51CCDE020000AE000120CB@gwsmtp.uhi.ac.uk>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100729/fdd5e451/attachment.pl>

From jap226 at cornell.edu  Fri Jul 30 20:15:14 2010
From: jap226 at cornell.edu (Jesse Poland)
Date: Fri, 30 Jul 2010 14:15:14 -0400
Subject: [R-SIG-Mac] R on Mac 10.6 freezing
Message-ID: <4C5316B2.5030505@cornell.edu>



I am running R and R64 on a MacBook Pro (2.66GHz, 8GB, OS X 10.6) andit keeps freezing up on me (i.e. have to force quit or kill).  Sameproblem with both R and R64.  I am not doing heavy computation, mostlyjust editing some scripts in the GUI.  Also the computer is plenty fastwith sufficient memory.  I looked around but haven't seen anything onthis problem.  Have also tried reinstalling R.

Thanks!

-- 
Jesse Poland
Research Geneticist
USDA-ARS
Cornell University
c: 607-339-7771


