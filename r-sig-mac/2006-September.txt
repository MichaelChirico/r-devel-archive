From simon.urbanek at r-project.org  Sat Sep  2 00:33:22 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 1 Sep 2006 18:33:22 -0400
Subject: [R-SIG-Mac] how can i install: glib/gtk 1.2.10
In-Reply-To: <26E6E717-8441-4FD2-A20F-72356E52CEFC@yahoo.it>
References: <26E6E717-8441-4FD2-A20F-72356E52CEFC@yahoo.it>
Message-ID: <63BDA1E4-85DE-43A3-B0D1-0A319772D5C3@r-project.org>


On Aug 31, 2006, at 11:50 AM, massimodisasha wrote:

> hi,
> at :
> http://r.research.att.com/
>   i've download :
>
> glib/gtk 1.2.10 (w/patches)
> glibgtk-1.2.10-univ.tar.gz
>
>
> but i do not know how can i install it :-(


I have updated the page with explicit installation instructions. I  
have also updated the package itself to contain pkg-config and libpng  
for convenience, so please re-visit
http://r.research.att.com/
and let me know if everything works as advertized.

Let me repeat that you need the above only if you plan to compile Gtk- 
based things from sources - you do *not* need it if you are just  
using Gtk-based R packages.

In response to the other follow-ups: the above tar-ball is the  
*binary* so you don't need to compile it from sources - that's the  
whole point. It is non-trivial to compile glib/gtk, because the  
official sources are way old and contain several bugs that have only  
been fixed in patches that float around the web. The above binary  
contains the patches (mostly the same as in darwinports) in addition  
to modifications that allow universal compilation. Also it was  
compiled using the gcc 4.0.3 compiler that is used by R as opposed to  
using Apple's gcc.

I'm still waiting for someone to provide a similar package for glib2 ;).

Cheers,
Simon


From simon.urbanek at r-project.org  Sat Sep  2 00:40:20 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 1 Sep 2006 18:40:20 -0400
Subject: [R-SIG-Mac] Setting ulimit in R.app (GUI)
In-Reply-To: <13933254-0416-4C12-A8A8-2ABAA694DB3E@mac.com>
References: <13933254-0416-4C12-A8A8-2ABAA694DB3E@mac.com>
Message-ID: <4BB129B8-18F9-45F5-942C-A1A8C88D5F47@r-project.org>


On Aug 26, 2006, at 10:15 AM, Klaus Thul wrote:

> Dear all,
>
> my R-program which does a lot of object allocation / de-allocation.
>
> To be able to run it without running into excessive swapping, I have
> to set an limit on the maximum memory used by R.
>
> Within terminal, this can be done easily:
>
> 	ulimit -m 1000000
> 	R
> 	> source("myprogram.R")
>
> I can then observe nicely in ActivityMonitor that the amount of
> memory used by R growth upto 1GB (my machine has 1.5GB installed) and
> is then reduced drastically by the garbage collector.
>
> But I would prefer to work in the GUI (R.app). Is there a way to set
> such an limit for the R-process started within the GUI?
>

Other than using a shell-wrapper to start the GUI (that same way you  
start R above), I don't think so. I guess it could be added as a  
configurable option e.g. via defaults if desired. There is another  
theoretical alternative - setting the default limit for LS which will  
then be inherited by the GUI, but that would also limit other  
applications started via LS.

Cheers,
Simon


From rennerm at u.washington.edu  Sat Sep  2 12:34:21 2006
From: rennerm at u.washington.edu (Martin Renner)
Date: Sat, 2 Sep 2006 02:34:21 -0800
Subject: [R-SIG-Mac] snow cluster - unable to open connection
Message-ID: <8D4A6E5B-19BB-40C6-8188-B200EBC30904@u.washington.edu>

I'm trying to build a sock cluster using snow but have difficulties  
to include more than one machine. In the terminal, password-less ssh  
is working on all machines and each machine can talk to itself (cl <-  
makeSOCKcluster ("localhost") works). Trying to cluster more than one  
machine, I get:

Error in socketConnection (port = port, server = TRUE, blocking =  
TRUE,  :
	unable to open connection
In addition: warning message:
port 600011 cannot be opened

I've tried to disable the firewalls as well as including "port = 22":
cl <- makeSOCKcluster (c("localhost", "localhost", "machine2.local",  
"machine2.local"), port = 22)
but this fails just as well.

My set-up is as follows:
R version: 2.3.1
Mac OS versions: 10.3.9 (on dual G4 and G5 iMac), 10.4.7 (MacBook Pro)

Has anybody else encountered this problem? I've searched the usual  
sites with no luck. Any pointers would be much appreciated.

Thank you,
Martin



Martin Renner
Postdoctoral Fellow
University of Washington
School of Aquatic and Fishery Sciences
PO Box 355020
Seattle, WA 98195-5020, USA

current address:
Alaska Maritime NWR               907-235 6546 (work)
95 Sterling Highway, Suite 1      907-235-7783 (fax)
Homer, AK 99603, USA


From sdavis2 at mail.nih.gov  Tue Sep  5 01:31:10 2006
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Mon, 04 Sep 2006 19:31:10 -0400
Subject: [R-SIG-Mac] snow cluster - unable to open connection
In-Reply-To: <8D4A6E5B-19BB-40C6-8188-B200EBC30904@u.washington.edu>
References: <8D4A6E5B-19BB-40C6-8188-B200EBC30904@u.washington.edu>
Message-ID: <44FCB73E.2020707@mail.nih.gov>

Martin Renner wrote:
> I'm trying to build a sock cluster using snow but have difficulties  
> to include more than one machine. In the terminal, password-less ssh  
> is working on all machines and each machine can talk to itself (cl <-  
> makeSOCKcluster ("localhost") works). Trying to cluster more than one  
> machine, I get:
>
> Error in socketConnection (port = port, server = TRUE, blocking =  
> TRUE,  :
> 	unable to open connection
> In addition: warning message:
> port 600011 cannot be opened
>
> I've tried to disable the firewalls as well as including "port = 22":
> cl <- makeSOCKcluster (c("localhost", "localhost", "machine2.local",  
> "machine2.local"), port = 22)
> but this fails just as well.
>
> My set-up is as follows:
> R version: 2.3.1
> Mac OS versions: 10.3.9 (on dual G4 and G5 iMac), 10.4.7 (MacBook Pro)
>
> Has anybody else encountered this problem? I've searched the usual  
> sites with no luck. Any pointers would be much appreciated.
>   
I haven't tried to make a socket-based cluster, but I have successfully 
made a lam-mpi-based cluster.  I ended up having to TURN OFF the 
firewall, as at least for MPI, the ports are assigned randomly, so 
knowing which is going to be assigned is not possible, I don't think, 
and I think that each process gets a separate port, if I remember 
correctly (but I could definitely be wrong).  In any case, lam-mpi 
installed "out-of-the-box" on my Mac Pro as well as on a G5 and an 
Xserver with XTools installed, so you could give that a try, as well.

As for the more immediate problem, does running with just one machine in 
the cluster work?  If so, does using multiple "machines" on localhost 
work?  How about turning off the firewalls to the two machines--does 
that make a difference (don't do this if you don't think it is safe, 
but....)? 

Sean


From Beyerj at students.uni-marburg.de  Mon Sep  4 14:43:01 2006
From: Beyerj at students.uni-marburg.de (J=?ISO-8859-1?B?9g==?=rg Beyer)
Date: Mon, 04 Sep 2006 14:43:01 +0200
Subject: [R-SIG-Mac] Omegahat's Package XML -- validating with a DTD can
	freeze R.app
Message-ID: <C121EBF5.1A38%Beyerj@students.uni-marburg.de>

Hello.

No question, no problem; I just like to inform you about the following
issue. It affects R.app, but not R from the terminal (see specs below for
details about my environment).

I managed to freeze R.app. Several times. But I could track down the
specific circumstances in this special case, and here is what happened.

I have an XML-file with an internal DTD.
During the development I made some changes to the XML data part as well as
to the DTD, and reading and validating it with the XML package and R.app
*worked well* (means: errors were detected and displayed as one would
expect) -- please keep that in mind!

Then I made a certain change, produced a validity problem without noticing
it, saved the XML file without validating it again, and the next day all
went wrong right from the start.

In detail, I made the following (see the XML snippets below): I defined an
empty DTD element "normKey", with two attributes, "key" and "val". While
developing an appropriate S4-'container', I decided that the "val"-attribute
would be better named "value". I changed all XML data elements of my file
accordingly -- but forgot to change the attribute name in the DTD, too,
which remained "val".
My next attempt(s) to parse the file with validation turned on (2 versions
of the critical syntax below) ended with immediately freezing R.app
(Activity Monitor said, R.app didn't answer any more, and I had to force
quit it). 

After tracking down the problem and setting the attribute name "val" in the
DTD to "value", everything was back to normal. Testing the same scenario
with R in the terminal DID NOT freeze R (or the terminal), but resulted in
"50 or more warnings" because of the DTD-violation -- that's the expected
and correct behavior of a validator.


## XML-file (** excerpt **)
## DTD-part (internal DTD, by the way)
<!ELEMENT normKey   EMPTY>
<!ATTLIST normKey   key     ID    #REQUIRED
                    val     IDREF #REQUIRED>
## XML data-part 
<normKey  key="iqa"         value="IQ.Adult" />



## R-code for parsing (v1)
xmlfile <- "/My/Not/So/Clever/Datafile.xml";
objectAsXML <- xmlRoot( xmlTreeParse( xmlfile, validate=TRUE ));

## R-code for parsing (v2)
xmlfile <- "/My/Not/So/Clever/Datafile.xml";
objectAsXML <- xmlTreeParse( xmlfile, validate=TRUE );



I don't have the time to try to track down the underlying problem -- I have
a workaround, and I have been warned, that's enough for the moment.
If you're concerned, you should check if this issue can be reproduced with
newer builds of R and R.app. Depending on what your results are, it may be
best either to do all XML validation outside R.app, or to validate your
XML's in R.app only with the necessary precautions.

Other than that, the XML package is highly recommended -- fantastic tool.

Best 

Joerg


Environment: 
------------
Mac OS X 10.4.6
R 2.2.1 ... via R.app *or* the terminal
(BTW, for me R 2.3.1 is a no-op at the moment)
Package XML 0.99-8, compiled with gcc_3.3


From luke at stat.uiowa.edu  Mon Sep  4 16:25:00 2006
From: luke at stat.uiowa.edu (Luke Tierney)
Date: Mon, 4 Sep 2006 09:25:00 -0500 (CDT)
Subject: [R-SIG-Mac] snow cluster - unable to open connection
In-Reply-To: <44FCB73E.2020707@mail.nih.gov>
References: <8D4A6E5B-19BB-40C6-8188-B200EBC30904@u.washington.edu>
	<44FCB73E.2020707@mail.nih.gov>
Message-ID: <Pine.LNX.4.64.0609040920340.18291@itasca2.wildberry.org>


I don't see this on my Mac OS X setup (10.3.something).  I'm not at
the console so can't easily check my firewall settings.

The symptom suggests that a previous attempt to open a server socket
on port 600011 has not been cleanly completed.  You might check with
netstat whether there is any information on this. As long as the
processes are no longer around this usually clears itself within a few
minutes.

I would follow Sean's suggestions on isolating this; also try your
initial machine both as localhost and by its IP address or name to try
to get it through the network interface.

Best,

luke

On Mon, 4 Sep 2006, Sean Davis wrote:

> Martin Renner wrote:
>> I'm trying to build a sock cluster using snow but have difficulties
>> to include more than one machine. In the terminal, password-less ssh
>> is working on all machines and each machine can talk to itself (cl <-
>> makeSOCKcluster ("localhost") works). Trying to cluster more than one
>> machine, I get:
>>
>> Error in socketConnection (port = port, server = TRUE, blocking =
>> TRUE,  :
>> 	unable to open connection
>> In addition: warning message:
>> port 600011 cannot be opened
>>
>> I've tried to disable the firewalls as well as including "port = 22":
>> cl <- makeSOCKcluster (c("localhost", "localhost", "machine2.local",
>> "machine2.local"), port = 22)
>> but this fails just as well.
>>
>> My set-up is as follows:
>> R version: 2.3.1
>> Mac OS versions: 10.3.9 (on dual G4 and G5 iMac), 10.4.7 (MacBook Pro)
>>
>> Has anybody else encountered this problem? I've searched the usual
>> sites with no luck. Any pointers would be much appreciated.
>>
> I haven't tried to make a socket-based cluster, but I have successfully
> made a lam-mpi-based cluster.  I ended up having to TURN OFF the
> firewall, as at least for MPI, the ports are assigned randomly, so
> knowing which is going to be assigned is not possible, I don't think,
> and I think that each process gets a separate port, if I remember
> correctly (but I could definitely be wrong).  In any case, lam-mpi
> installed "out-of-the-box" on my Mac Pro as well as on a G5 and an
> Xserver with XTools installed, so you could give that a try, as well.
>
> As for the more immediate problem, does running with just one machine in
> the cluster work?  If so, does using multiple "machines" on localhost
> work?  How about turning off the firewalls to the two machines--does
> that make a difference (don't do this if you don't think it is safe,
> but....)?
>
> Sean
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Luke Tierney
Chair, Statistics and Actuarial Science
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:      luke at stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From jo.irisson at gmail.com  Tue Sep  5 09:57:09 2006
From: jo.irisson at gmail.com (jiho)
Date: Tue, 5 Sep 2006 09:57:09 +0200
Subject: [R-SIG-Mac] "Update All" not working from interface
Message-ID: <17B2E849-58C8-4BF0-9AA1-409C34BB0009@gmail.com>

Hi all,

thanks for the great work in R for Mac OS X, the interface is just  
plain great. One caveat nevertheless:
The command update all from the Package installer does not work  
because it returns the command:

	update.packages(lib = ""/Library/Frameworks/R.framework/Resources/ 
library/"",)

because the path is double quoted, R looks for objects named / 
Library, /Frameworks and so on. But:

	update.packages(lib = "/Library/Frameworks/R.framework/Resources/ 
library/")

works. Could someone correct this?

Thanks in advance.

JiHO
---
http://jo.irisson.free.fr/


From jo.irisson at gmail.com  Tue Sep  5 10:42:54 2006
From: jo.irisson at gmail.com (jiho)
Date: Tue, 5 Sep 2006 10:42:54 +0200
Subject: [R-SIG-Mac] R CMD INSTALL cannot find netcdf library
Message-ID: <76115AC7-91F7-4F63-84BA-913CF5331656@gmail.com>

Hi,

I tried to install RNetCDF binary package but when I try to load it  
after installation, it gives this message

	> library("RNetCDF")
	Error in dyn.load(x, as.logical(local), as.logical(now)) :
		unable to load shared library '/Library/Frameworks/R.framework/ 
Versions/2.3/Resources/library/RNetCDF/libs/ppc/RNetCDF.so':
	dlopen(/Library/Frameworks/R.framework/Versions/2.3/Resources/ 
library/RNetCDF/libs/ppc/RNetCDF.so, 6): Symbol not found: _nc_inq_dimid
	  Referenced from: /Library/Frameworks/R.framework/Versions/2.3/ 
Resources/library/RNetCDF/libs/ppc/RNetCDF.so
	  Expected in: flat namespace
	Error in library("RNetCDF") : .First.lib failed for 'RNetCDF'


So I tried to install it from source, through the interface (i.e.  
with default parameters). It issues the command:

	install.packages(c("RNetCDF"),lib="/Library/Frameworks/Resources/ 
library/",contriburl=contrib.url(getOption 
("repos"),"source"),type='source',dependencies=FALSE)

and the compilation stops because it cannot find netcdf libraries.  
These libraries are installed through fink and hence are in /sw/lib/  
and the headers in /sw/include/:

	jiho at ibook:RNetCDF$ ll /sw/lib/libnetcdf*
	lrwxr-xr-x   1 root  admin       29 Jul 18 14:59 /sw/lib/libnetcdf. 
3.5.0.dylib -> /sw/lib/libnetcdf.3.6.1.dylib
	-rwxr-xr-x   1 root  admin  1152056 Jul 18 14:59 /sw/lib/libnetcdf. 
3.6.1.dylib
	lrwxr-xr-x   1 root  admin       29 Jul 18 14:59 /sw/lib/libnetcdf. 
3.dylib -> /sw/lib/libnetcdf.3.6.1.dylib
	-rwxr-xr-x   1 root  admin   779952 Jul 18 14:59 /sw/lib/libnetcdf.a
	lrwxr-xr-x   1 root  admin       25 Jul 18 14:59 /sw/lib/ 
libnetcdf.dylib -> /sw/lib/libnetcdf.3.dylib
	-rw-r--r--   1 root  admin   131532 Jul 18 14:59 /sw/lib/libnetcdf_c+ 
+.3.6.1.dylib
	lrwxr-xr-x   1 root  admin       33 Jul 18 14:59 /sw/lib/libnetcdf_c+ 
+.3.dylib -> /sw/lib/libnetcdf_c++.3.6.1.dylib
	-rwxr-xr-x   1 root  admin   169032 Jul 18 14:59 /sw/lib/libnetcdf_c+ 
+.a
	lrwxr-xr-x   1 root  admin       29 Jul 18 14:59 /sw/lib/libnetcdf_c+ 
+.dylib -> /sw/lib/libnetcdf_c++.3.dylib

	jiho at ibook:RNetCDF$ ll /sw/include/netcdf*
	-rwxr-xr-x   1 root  admin   31574 Jul 18 14:59 /sw/include/netcdf.h
	-rwxr-xr-x   1 root  admin      23 Jul 18 14:59 /sw/include/netcdf.hh
	-rwxr-xr-x   1 root  admin   49501 Jul 18 14:59 /sw/include/netcdf.inc
	-rwxr-xr-x   1 root  admin  166532 Jul 18 14:59 /sw/include/netcdf.mod
	-rwxr-xr-x   1 root  admin   18793 Jul 18 14:59 /sw/include/netcdfcpp.h

But these are non-standard paths. So I looked at ./configure --help  
which gives me the options to set:

	  --with-netcdf-include=INCLUDE_PATH
	                          the location of netcdf header files
	  --with-netcdf-lib=LIB_PATH
	                          the location of netcdf libraries

Therefore I tried the command:

	install.packages(c("RNetCDF"),lib="/Library/Frameworks/Resources/ 
library/",contriburl=contrib.url(getOption 
("repos"),"source"),type='source',dependencies=FALSE,configure.args="--w 
ith-netcdf-include=/sw/include/ --with-netcdf-lib=/sw/lib/")

but to no avail, I still get the same error message:

	checking for main in -lnetcdf...
	The downloaded packages are in
		/private/tmp/RtmpakpDoj/downloaded_packages
	no
	configure: error: netcdf library not found
	ERROR: configuration failed for package 'RNetCDF'
	** Removing '/Library/Frameworks/Resources/library/RNetCDF'
	Warning message:
	installation of package 'RNetCDF' had non-zero exit status in:  
install.packages(c("RNetCDF"), lib = "/Library/Frameworks/Resources/ 
library/",


Does somebody know what I am doing wrong and what could be the  
solution (apart from installing netcdf libraries in classic system  
directories: I prefer them to be managed by Fink)? Thanks in advance.

JiHO
---
http://jo.irisson.free.fr/


From simon.urbanek at r-project.org  Tue Sep  5 14:58:48 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 5 Sep 2006 08:58:48 -0400
Subject: [R-SIG-Mac] "Update All" not working from interface
In-Reply-To: <17B2E849-58C8-4BF0-9AA1-409C34BB0009@gmail.com>
References: <17B2E849-58C8-4BF0-9AA1-409C34BB0009@gmail.com>
Message-ID: <EE3427D3-D984-4B48-B20E-5BA6DB6EC9D2@r-project.org>


On Sep 5, 2006, at 3:57 AM, jiho wrote:

> Hi all,
>
> thanks for the great work in R for Mac OS X, the interface is just
> plain great. One caveat nevertheless:
> The command update all from the Package installer does not work
> because it returns the command:
>
> 	update.packages(lib = ""/Library/Frameworks/R.framework/Resources/
> library/"",)
>
> because the path is double quoted, R looks for objects named /
> Library, /Frameworks and so on. But:
>
> 	update.packages(lib = "/Library/Frameworks/R.framework/Resources/
> library/")
>
> works. Could someone correct this?
>

This has been corrected a while ago:

Last-update: 2006-06-17 [SU]
*       Fixed broken "update all" in package installer

Please use more recent R.app (see http://r.research.att.com )

Cheers,
Simon


From jo.irisson at gmail.com  Tue Sep  5 15:26:22 2006
From: jo.irisson at gmail.com (jiho)
Date: Tue, 5 Sep 2006 15:26:22 +0200
Subject: [R-SIG-Mac] R CMD INSTALL cannot find netcdf library
In-Reply-To: <76115AC7-91F7-4F63-84BA-913CF5331656@gmail.com>
References: <76115AC7-91F7-4F63-84BA-913CF5331656@gmail.com>
Message-ID: <F6C179C1-E986-49A0-BC53-ADC14A186F0D@gmail.com>

Following up on my own e-mail:

there are in fact 2 problems with netcdf (and udunits by the way)  
librairies in /sw/

1/ compilation of source package: configure.args seems to be wrongly  
transferred to R CMD INSTALL from install.packages. Indeed:

	R CMD INSTALL --configure-args="--with-netcdf-include='/sw/inc' -- 
with-netcdf-lib='/sw/lib' --with-udunits-lib='/sw/lib/' --with- 
udunits-include='/sw/include'" RNetCDF_1.2-1.tar.gz

works from the command line while

	install.packages(c("RNetCDF"), lib = "/Library/Frameworks/ 
R.framework/Resources/library/", contriburl=contrib.url(getOption 
("repos"),"source"), type="source", dependencies=FALSE,  
configure.args=c("--with-netcdf-include='/sw/inc'","--with-netcdf- 
lib='/sw/lib'","--with-udunits-lib='/sw/lib/'","--with-udunits- 
include='/sw/include'"))

does not work from inside R shell.

2/ use of binary packages: the binary packages cannot find netcdf  
library and send an error messa	ge about Symbols not found.


Is there something I do wrong for 1? can I test something else to see  
if this is really a bug?
Concerning 2, is there a way to include Fink's path in R at startup?

Thanks in advance.

JiHO
---
http://jo.irisson.free.fr/


From simon.urbanek at r-project.org  Tue Sep  5 20:47:54 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 5 Sep 2006 14:47:54 -0400
Subject: [R-SIG-Mac] R CMD INSTALL cannot find netcdf library
In-Reply-To: <76115AC7-91F7-4F63-84BA-913CF5331656@gmail.com>
References: <76115AC7-91F7-4F63-84BA-913CF5331656@gmail.com>
Message-ID: <56C4CA5E-4EE9-4801-A479-023203786912@r-project.org>

JiHO,

On Sep 5, 2006, at 4:42 AM, jiho wrote:

> Hi,
>
> I tried to install RNetCDF binary package but when I try to load it
> after installation, it gives this message
>
> 	> library("RNetCDF")
> 	Error in dyn.load(x, as.logical(local), as.logical(now)) :
> 		unable to load shared library '/Library/Frameworks/R.framework/
> Versions/2.3/Resources/library/RNetCDF/libs/ppc/RNetCDF.so':
> 	dlopen(/Library/Frameworks/R.framework/Versions/2.3/Resources/
> library/RNetCDF/libs/ppc/RNetCDF.so, 6): Symbol not found:  
> _nc_inq_dimid
> 	  Referenced from: /Library/Frameworks/R.framework/Versions/2.3/
> Resources/library/RNetCDF/libs/ppc/RNetCDF.so
> 	  Expected in: flat namespace
> 	Error in library("RNetCDF") : .First.lib failed for 'RNetCDF'
>

Thanks, I have fixed that now - the binary contained only i386  
version of netcdf. The mirrors should be updated soon, for the moment  
you can install it via

install.packages("RNetCDF",,"http://r.research.att.com")

(Note: you still need /usr/local/etc/udunits.dat same as with udunits  
package).


> [...]
> Therefore I tried the command:
>
> 	install.packages(c("RNetCDF"),lib="/Library/Frameworks/Resources/
> library/",contriburl=contrib.url(getOption
> ("repos"),"source"),type='source',dependencies=FALSE,configure.args="- 
> -w
> ith-netcdf-include=/sw/include/ --with-netcdf-lib=/sw/lib/")
>
> but to no avail, I still get the same error message:
>

You actually discovered a bug in install.packages - unnamed configure  
arguments were not passed on. Thanks, this is now fixed in 2.4.0  
alpha and R-devel.

Cheers,
Simon


From kevin.hendricks at sympatico.ca  Tue Sep  5 23:48:24 2006
From: kevin.hendricks at sympatico.ca (Kevin B. Hendricks)
Date: Tue, 5 Sep 2006 17:48:24 -0400
Subject: [R-SIG-Mac] missing symbols in build of Mac-GUI?
Message-ID: <BD666DAF-50CE-4C13-A082-311F1BAA1568@sympatico.ca>

Hi,

I used svn to check out today's r-devel tree (2.5.0 unstable) and  
then the following command to get the latest Mac-GUI  based on a  
response in the archives for this list.

svn co https://svn.r-project.org/R-packages/trunk/Mac-GUI

I was able to configure and build R properly (following along from  
the MacOSX FAQ on www.r-project.org.

I then tried to build Mac-GUI and found that I was missing 2 symbols:

_R_addCallRoutine
_getBaseDllInfo

I tracked these down to Rdynload.c in src/main but saw that  
R_addCallRoutine was defined as static (and so was not exported) and  
getBaseDllInfo was protected by an ifdef UNUSED

So I assume the version of Mac-GUI I checked out via svn today was  
too old to work with todays r-devel checkout.

Is there a newer version of Mac-GUI source that will build with  
today's svn checkout of r-devel/R?

If so, what svn command would I use to get it.

Thanks!

Kevin


From simon.urbanek at r-project.org  Wed Sep  6 00:53:55 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 5 Sep 2006 18:53:55 -0400
Subject: [R-SIG-Mac] missing symbols in build of Mac-GUI?
In-Reply-To: <BD666DAF-50CE-4C13-A082-311F1BAA1568@sympatico.ca>
References: <BD666DAF-50CE-4C13-A082-311F1BAA1568@sympatico.ca>
Message-ID: <60687895-503B-4969-932E-25B0FC72C9D4@r-project.org>


On Sep 5, 2006, at 5:48 PM, Kevin B. Hendricks wrote:

> I used svn to check out today's r-devel tree (2.5.0 unstable) and  
> then the following command to get the latest Mac-GUI  based on a  
> response in the archives for this list.
>
> svn co https://svn.r-project.org/R-packages/trunk/Mac-GUI
>
> I was able to configure and build R properly (following along from  
> the MacOSX FAQ on www.r-project.org.
>
> I then tried to build Mac-GUI and found that I was missing 2 symbols:
>
> _R_addCallRoutine
> _getBaseDllInfo
>
> I tracked these down to Rdynload.c in src/main but saw that  
> R_addCallRoutine was defined as static (and so was not exported)  
> and getBaseDllInfo was protected by an ifdef UNUSED
>
> So I assume the version of Mac-GUI I checked out via svn today was  
> too old to work with todays r-devel checkout.
>
> Is there a newer version of Mac-GUI source that will build with  
> today's svn checkout of r-devel/R?
>

Yes - Mac-GUI rev. 3699 now works with the current R-devel.


> If so, what svn command would I use to get it.
>

Just run svn update in the Mac-GUI directory.

Cheers,
Simon

PS: Thanks to all those who reported this.


From jo.irisson at gmail.com  Wed Sep  6 09:23:40 2006
From: jo.irisson at gmail.com (jiho)
Date: Wed, 6 Sep 2006 09:23:40 +0200
Subject: [R-SIG-Mac] R CMD INSTALL cannot find netcdf library
In-Reply-To: <56C4CA5E-4EE9-4801-A479-023203786912@r-project.org>
References: <76115AC7-91F7-4F63-84BA-913CF5331656@gmail.com>
	<56C4CA5E-4EE9-4801-A479-023203786912@r-project.org>
Message-ID: <A82EB94E-48E8-4F47-8213-209FD6B0C942@gmail.com>


On 05 Sep 2006, at 20:47 , Simon Urbanek wrote:
> On Sep 5, 2006, at 4:42 AM, jiho wrote:
>> I tried to install RNetCDF binary package but when I try to load it
>> after installation, it gives this message
> [...]
> Thanks, I have fixed that now - the binary contained only i386  
> version of netcdf. The mirrors should be updated soon, for the  
> moment you can install it via
>
> install.packages("RNetCDF",,"http://r.research.att.com")
>
> (Note: you still need /usr/local/etc/udunits.dat same as with  
> udunits package).

Thanks for this. Actually I got ncdf and RNetCDF to compile by using  
directly R CMD INSTALL so I finally got the functionality I wanted  
(and managed to output some very nice graphics actually... ahhhh I  
love R plotting functions! ;-) )


>> [...]
>> Therefore I tried the command:
>>
>> 	install.packages(c("RNetCDF"),lib="/Library/Frameworks/Resources/
>> library/",contriburl=contrib.url(getOption
>> ("repos"),"source"),type='source',dependencies=FALSE,configure.args=" 
>> --w
>> ith-netcdf-include=/sw/include/ --with-netcdf-lib=/sw/lib/")
>>
>> but to no avail, I still get the same error message:
>
> You actually discovered a bug in install.packages - unnamed  
> configure arguments were not passed on. Thanks, this is now fixed  
> in 2.4.0 alpha and R-devel.

So it seems, because it worked from R CMD INSTALL. Thank you for  
fixing this so fast.

Cheers,

JiHO
---
http://jo.irisson.free.fr/


From sdavis2 at mail.nih.gov  Wed Sep  6 18:36:09 2006
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Wed, 6 Sep 2006 12:36:09 -0400
Subject: [R-SIG-Mac] snow cluster - unable to open connection
In-Reply-To: <D4B94A2E-5917-4DE9-B2D2-E2AA0A693C55@u.washington.edu>
References: <8D4A6E5B-19BB-40C6-8188-B200EBC30904@u.washington.edu>
	<Pine.LNX.4.64.0609040920340.18291@itasca2.wildberry.org>
	<D4B94A2E-5917-4DE9-B2D2-E2AA0A693C55@u.washington.edu>
Message-ID: <200609061236.09362.sdavis2@mail.nih.gov>

On Wednesday 06 September 2006 12:28, Martin Renner wrote:
> Thank you for the replies, Luke and Sean!
>
> turning off the firewall on each and every machine did finally allow
> me to start the cluster across all my machines. Keeping the firewall
> on would be desirable, however. Using tcp wrappers I can restrict
> access to local IPs - although I loose the bonjour-names
> (machineA.local, etc - need to use IP numbers instead). When the
> firewall is turned on, the console.log records "Firewall Tool: Error,
> Start Port (600011) invalid!" when trying to start the cluster. I've
> tried to open tcp port 600011, but that didn't help. If someone
> figures out how to work snow with the firewall left intact, please
> let me know.  Nevertheless, my snow cluster is working now - big
> thank-you to Luke Tierney et al. for snow!

Great to hear that it is working for you.

I should leave this to Luke and others with more experience to answer, but a 
cheap and easy solution if the machines are physically close to each other 
might be to put all your machines behind a hardware firewall (router).  Then 
you can be somewhat more comfortable about turning off the actual machine 
firewalls.  I don't have any other suggestions.  

You might also want to check on the MPICH or lam-mpi sites and email lists 
(even if you aren't using those softwares, as I think they have the same 
issues to deal with as far as firewalls).

Sean


From dmm229 at cornell.edu  Thu Sep  7 01:07:37 2006
From: dmm229 at cornell.edu (Daniel Merl)
Date: Wed, 06 Sep 2006 19:07:37 -0400
Subject: [R-SIG-Mac] linking problems, solutions, and an R.app question
Message-ID: <44FF54B9.9010806@cornell.edu>


I pulled the latest binaries of R 2.4 (*R24-branch) *and R.app (Mac OS X
GUI rev. 3700 for R 2.4.xDeployment) off of http://r.research.att.com/
today (Sept 6).  Everything is fine if I use R.app to interface with R,
but if I run R from the command line I get the following undefined
symbol errors, which have been reported elsewhere:


Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library
'/Library/Frameworks/R.framework/Resources/library/grDevices/libs/ppc/grDevices.so':
 
dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/libs/ppc/grDevices.so,
6): Symbol not found: ___mulsc3
  Referenced from:
/Library/Frameworks/R.framework/Versions/2.4/Resources/lib/libgfortran.0.dylib
  Expected in: flat namespace
Loading required package: grDevices
Error in dyn.load(x, as.logical(local), as.logical(now)) :
        unable to load shared library
'/Library/Frameworks/R.framework/Resources/library/grDevices/libs/ppc/grDevices.so':
 
dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/libs/ppc/grDevices.so,
6): Symbol not found: ___mulsc3
  Referenced from:
/Library/Frameworks/R.framework/Versions/2.4/Resources/lib/libgfortran.0.dylib
  Expected in: flat namespace
In addition: Warning message:
package grDevices in options("defaultPackages") was not found
Error: package 'grDevices' could not be loaded


I assume this is some problem with the the libgfortran.0.dylib library
that is included with R?  It doesn't seem to be fatal, and everything
seems to work fine through R.app, but it bugged me.  So I pulled the 2.4
source code from CRAN
(http://cran.r-project.org/src/base-prerelease/R-latest.tar.gz).  I
compiled it using the latest gcc and gfortran 4.2 compilers from HPC,
and voila.  It compiled fine, and I installed the newly built version
over the downloaded version, and now R seems to launch without error
from both the command line and R.app.

My question is, why would this linking problem exist on the comand line
and not in the GUI?  Does the GUI specify certain environment variables
that override those present when you run the command line, or better
yet,  in what way is the GUI linked to a particular R executable?  Was
there a shorter solution to this, such as sym-linking to
/usr/local/gcc4.0/lib/libgfortran.0.dylib?

many thanks.
-dan

-- 
Daniel Merl
Dept of Mathematics           
Cornell University


From kevin.hendricks at sympatico.ca  Thu Sep  7 01:59:28 2006
From: kevin.hendricks at sympatico.ca (Kevin B. Hendricks)
Date: Wed, 6 Sep 2006 19:59:28 -0400
Subject: [R-SIG-Mac] missing symbols in build of Mac-GUI?
In-Reply-To: <60687895-503B-4969-932E-25B0FC72C9D4@r-project.org>
References: <BD666DAF-50CE-4C13-A082-311F1BAA1568@sympatico.ca>
	<60687895-503B-4969-932E-25B0FC72C9D4@r-project.org>
Message-ID: <3BB11645-03AD-42CE-B6AE-4B456FB33720@sympatico.ca>

Hi,

> Yes - Mac-GUI rev. 3699 now works with the current R-devel.

Thanks.  That fixed my problem.

BTW: I personally don't like the idea of universal binaries  
especially for things I build from svn checkout myself (such as R on  
a daily basis). I simply can not see the benefit of having a ppc set  
of *.dylib on an i386 machine and visa-versa.  So I hack modified the  
Makefile and the R.dep file and the xproject pieces in Mac-GUI to  
build an i386 only version of R.app.  It is possible that otheres  
feel as I do about universal binaries.

So would you be interested in any patches to build Mac-GUI for only  
one platform (selectable of course) instead of just the universal  
version?  If so, I will clean up my nasty hacks and get you something  
that will build either for just ppc, or just i386 or universal if  
that would be of interest.

Thanks again for your help.

Kevin


From jago at mclink.it  Thu Sep  7 02:33:44 2006
From: jago at mclink.it (stefano iacus)
Date: Thu, 7 Sep 2006 09:33:44 +0900
Subject: [R-SIG-Mac] missing symbols in build of Mac-GUI?
In-Reply-To: <3BB11645-03AD-42CE-B6AE-4B456FB33720@sympatico.ca>
References: <BD666DAF-50CE-4C13-A082-311F1BAA1568@sympatico.ca>
	<60687895-503B-4969-932E-25B0FC72C9D4@r-project.org>
	<3BB11645-03AD-42CE-B6AE-4B456FB33720@sympatico.ca>
Message-ID: <ACEDFECE-0F4B-42AB-8FB0-9DD9C97C476E@mclink.it>

Kevin,
did you try to set the r_arch switch at configure time?
See sec. 2.5 of R for OS X faq.
stefano

On 07/set/06, at 08:59, Kevin B. Hendricks wrote:

> Hi,
>
>> Yes - Mac-GUI rev. 3699 now works with the current R-devel.
>
> Thanks.  That fixed my problem.
>
> BTW: I personally don't like the idea of universal binaries
> especially for things I build from svn checkout myself (such as R on
> a daily basis). I simply can not see the benefit of having a ppc set
> of *.dylib on an i386 machine and visa-versa.  So I hack modified the
> Makefile and the R.dep file and the xproject pieces in Mac-GUI to
> build an i386 only version of R.app.  It is possible that otheres
> feel as I do about universal binaries.
>
> So would you be interested in any patches to build Mac-GUI for only
> one platform (selectable of course) instead of just the universal
> version?  If so, I will clean up my nasty hacks and get you something
> that will build either for just ppc, or just i386 or universal if
> that would be of interest.
>
> Thanks again for your help.
>
> Kevin
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Thu Sep  7 14:57:08 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 7 Sep 2006 08:57:08 -0400
Subject: [R-SIG-Mac] missing symbols in build of Mac-GUI?
In-Reply-To: <3BB11645-03AD-42CE-B6AE-4B456FB33720@sympatico.ca>
References: <BD666DAF-50CE-4C13-A082-311F1BAA1568@sympatico.ca>
	<60687895-503B-4969-932E-25B0FC72C9D4@r-project.org>
	<3BB11645-03AD-42CE-B6AE-4B456FB33720@sympatico.ca>
Message-ID: <78DB505F-BF34-4F85-8964-15575B3519E1@r-project.org>

Kevin,

On Sep 6, 2006, at 7:59 PM, Kevin B. Hendricks wrote:

> Hi,
>
>> Yes - Mac-GUI rev. 3699 now works with the current R-devel.
>
> Thanks.  That fixed my problem.
>
> BTW: I personally don't like the idea of universal binaries  
> especially for things I build from svn checkout myself (such as R  
> on a daily basis). I simply can not see the benefit of having a ppc  
> set of *.dylib on an i386 machine and visa-versa.  So I hack  
> modified the Makefile and the R.dep file and the xproject pieces in  
> Mac-GUI to build an i386 only version of R.app.  It is possible  
> that otheres feel as I do about universal binaries.
>
> So would you be interested in any patches to build Mac-GUI for only  
> one platform (selectable of course) instead of just the universal  
> version?

I'm not quite sure what you mean - selecting "Development" target for  
example builds current architecture only. Setting the architectures  
is as easy as checking the target architecture checkbox in Xcode, so  
I'm not sure what you had to patch ... The project itself can be  
built either way without modification.

Cheers,
Simon


From simon.urbanek at r-project.org  Thu Sep  7 15:07:44 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 7 Sep 2006 09:07:44 -0400
Subject: [R-SIG-Mac] linking problems, solutions, and an R.app question
In-Reply-To: <44FF54B9.9010806@cornell.edu>
References: <44FF54B9.9010806@cornell.edu>
Message-ID: <5AF707D6-2DB2-4B6C-8FA5-A47408542994@r-project.org>

Daniel,

I cannot reproduce the problem. However, this looks as if you have  
some weird system setup that loads wrong libraries (e.g. something on  
DYLD_LIBRARY_PATH or your other gfortran).

Can you, please, start your R from the command line with

DYLD_PRINT_LIBRARIES=1 R

and send me the output?

Thanks,
Simon


On Sep 6, 2006, at 7:07 PM, Daniel Merl wrote:

>
> I pulled the latest binaries of R 2.4 (*R24-branch) *and R.app (Mac  
> OS X
> GUI rev. 3700 for R 2.4.xDeployment) off of http://r.research.att.com/
> today (Sept 6).  Everything is fine if I use R.app to interface  
> with R,
> but if I run R from the command line I get the following undefined
> symbol errors, which have been reported elsewhere:
>
>
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> '/Library/Frameworks/R.framework/Resources/library/grDevices/libs/ 
> ppc/grDevices.so':
>
> dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/ 
> libs/ppc/grDevices.so,
> 6): Symbol not found: ___mulsc3
>   Referenced from:
> /Library/Frameworks/R.framework/Versions/2.4/Resources/lib/ 
> libgfortran.0.dylib
>   Expected in: flat namespace
> Loading required package: grDevices
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library
> '/Library/Frameworks/R.framework/Resources/library/grDevices/libs/ 
> ppc/grDevices.so':
>
> dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/ 
> libs/ppc/grDevices.so,
> 6): Symbol not found: ___mulsc3
>   Referenced from:
> /Library/Frameworks/R.framework/Versions/2.4/Resources/lib/ 
> libgfortran.0.dylib
>   Expected in: flat namespace
> In addition: Warning message:
> package grDevices in options("defaultPackages") was not found
> Error: package 'grDevices' could not be loaded
>
>
> I assume this is some problem with the the libgfortran.0.dylib library
> that is included with R?  It doesn't seem to be fatal, and everything
> seems to work fine through R.app, but it bugged me.  So I pulled  
> the 2.4
> source code from CRAN
> (http://cran.r-project.org/src/base-prerelease/R-latest.tar.gz).  I
> compiled it using the latest gcc and gfortran 4.2 compilers from HPC,
> and voila.  It compiled fine, and I installed the newly built version
> over the downloaded version, and now R seems to launch without error
> from both the command line and R.app.
>
> My question is, why would this linking problem exist on the comand  
> line
> and not in the GUI?  Does the GUI specify certain environment  
> variables
> that override those present when you run the command line, or better
> yet,  in what way is the GUI linked to a particular R executable?  Was
> there a shorter solution to this, such as sym-linking to
> /usr/local/gcc4.0/lib/libgfortran.0.dylib?
>
> many thanks.
> -dan
>
> -- 
> Daniel Merl
> Dept of Mathematics
> Cornell University
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From deleeuw at stat.ucla.edu  Thu Sep  7 20:54:44 2006
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Thu, 7 Sep 2006 11:54:44 -0700
Subject: [R-SIG-Mac] timer (for those who like that sort of thing)
Message-ID: <F420F831-D24A-48D6-93A5-7233D76692D4@stat.ucla.edu>

This gives timer.R, as well as results for

-- a quad G5 with 4GB RAM and R-devel compiled with vecLib and gcc-3.x
-- a quad MacPro with 5GB RAM and R-devel compiled with vecLib and  
gcc-4.2.0

You'll see the MacPro/G5 time ratio is about 0.60, almost twice
as fast, for the hilbert and sort tasks. For loess the MacPro is  
slower (!!),
but that probably is a function of the two different versions of vecLib.

I'll try the Intel compilers and the appropriate ATLAS (or Intel MKL/IPP
frameworks) later.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: timings_MP.R
Type: application/octet-stream
Size: 851 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060907/3ba4310c/attachment.obj 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: timings_G5.R
Type: application/octet-stream
Size: 741 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060907/3ba4310c/attachment-0001.obj 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: timer.R
Type: application/octet-stream
Size: 839 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060907/3ba4310c/attachment-0002.obj 
-------------- next part --------------
===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8125 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
.mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
homepages: http://gifi.stat.ucla.edu ++++++ http://www.cuddyvalley.org
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
-------------------------




From deleeuw at cuddyvalley.org  Thu Sep  7 21:41:23 2006
From: deleeuw at cuddyvalley.org (Jan de Leeuw)
Date: Thu, 7 Sep 2006 12:41:23 -0700
Subject: [R-SIG-Mac] timer (for those who like that sort of thing)
In-Reply-To: <F420F831-D24A-48D6-93A5-7233D76692D4@stat.ucla.edu>
References: <F420F831-D24A-48D6-93A5-7233D76692D4@stat.ucla.edu>
Message-ID: <E108EB52-D41C-40B7-A40C-B237CF4BF08E@cuddyvalley.org>

Just for completeness, here are the MacPro timings using the R-devel
nightly from Simon's website. Hilbert is slower than with my version
of R-devel, and loess is faster (though still slower than on the G5).

-------------- next part --------------
A non-text attachment was scrubbed...
Name: timings_SU.R
Type: application/octet-stream
Size: 851 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060907/1923773c/attachment.obj 
-------------- next part --------------

On Sep 7, 2006, at 11:54 , Jan de Leeuw wrote:

> This gives timer.R, as well as results for
>
> -- a quad G5 with 4GB RAM and R-devel compiled with vecLib and gcc-3.x
> -- a quad MacPro with 5GB RAM and R-devel compiled with vecLib and  
> gcc-4.2.0
>
> You'll see the MacPro/G5 time ratio is about 0.60, almost twice
> as fast, for the hilbert and sort tasks. For loess the MacPro is  
> slower (!!),
> but that probably is a function of the two different versions of  
> vecLib.
>
> I'll try the Intel compilers and the appropriate ATLAS (or Intel  
> MKL/IPP
> frameworks) later.
>
> <timings_MP.R>
> <timings_G5.R>
> <timer.R>
> ===
> Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
> Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 8125 Math Sciences Bldg, Box 951554, Los Angeles, CA  
> 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email:  
> deleeuw at stat.ucla.edu
> .mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
> homepages: http://gifi.stat.ucla.edu ++++++ http://www.cuddyvalley.org
>   
> ---------------------------------------------------------------------- 
> ---------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>   
> ---------------------------------------------------------------------- 
> ---------------------------
>
>
>

==========================================================
Jan de Leeuw, 11667 Steinhoff Rd, Frazier Park, CA 93225
home phone 661-245-1725 ++++++ SkypeIn 661-347-0667
.mac: jdeleeuw +++  aim: deleeuwjan +++ skype: j_deleeuw
==========================================================
                Many nights on the road
       and not dead yet ---
                the end of autumn.       (Basho 1644-1694)



From kevin.hendricks at sympatico.ca  Fri Sep  8 01:49:56 2006
From: kevin.hendricks at sympatico.ca (Kevin B. Hendricks)
Date: Thu, 7 Sep 2006 19:49:56 -0400
Subject: [R-SIG-Mac] missing symbols in build of Mac-GUI?
In-Reply-To: <78DB505F-BF34-4F85-8964-15575B3519E1@r-project.org>
References: <BD666DAF-50CE-4C13-A082-311F1BAA1568@sympatico.ca>
	<60687895-503B-4969-932E-25B0FC72C9D4@r-project.org>
	<3BB11645-03AD-42CE-B6AE-4B456FB33720@sympatico.ca>
	<78DB505F-BF34-4F85-8964-15575B3519E1@r-project.org>
Message-ID: <035AF7F7-E708-40C9-B25F-924DD8800CC4@sympatico.ca>

Hi,

It must be my mistake then.  I was following the INSTALL file found  
in Mac-GUI and it said that on Mac Intel I was supposed to use the  
Makefile to insure that the correct version of gcc (ie. /usr/local/ 
gcc4.0/bin/*) version was used.

That Makefile seems to be hard coded to make a universal version of  
R.app.

I was offering patches to that Makefile and other pieces to allow it  
to create R.app that is not universal.

I am a really an old linux/unix programmer and really have never  
worked with xcodebuilder to any real extent and was actually happier  
with the "make" approach.

Sorry for the noise.

Kevin

On Sep 7, 2006, at 8:57 AM, Simon Urbanek wrote:

> Kevin,
>
> On Sep 6, 2006, at 7:59 PM, Kevin B. Hendricks wrote:
>
>> Hi,
>>
>>> Yes - Mac-GUI rev. 3699 now works with the current R-devel.
>>
>> Thanks.  That fixed my problem.
>>
>> BTW: I personally don't like the idea of universal binaries  
>> especially for things I build from svn checkout myself (such as R  
>> on a daily basis). I simply can not see the benefit of having a  
>> ppc set of *.dylib on an i386 machine and visa-versa.  So I hack  
>> modified the Makefile and the R.dep file and the xproject pieces  
>> in Mac-GUI to build an i386 only version of R.app.  It is possible  
>> that otheres feel as I do about universal binaries.
>>
>> So would you be interested in any patches to build Mac-GUI for  
>> only one platform (selectable of course) instead of just the  
>> universal version?
>
> I'm not quite sure what you mean - selecting "Development" target  
> for example builds current architecture only. Setting the  
> architectures is as easy as checking the target architecture  
> checkbox in Xcode, so I'm not sure what you had to patch ... The  
> project itself can be built either way without modification.
>
> Cheers,
> Simon


From ellis at stat.harvard.edu  Fri Sep  8 23:20:07 2006
From: ellis at stat.harvard.edu (Byron Ellis)
Date: Fri, 8 Sep 2006 14:20:07 -0700
Subject: [R-SIG-Mac] Sweave Bundle for TextMate
Message-ID: <7098abec0609081420r4f416ab3ndba067b5033e069c@mail.gmail.com>

http://www.schussman.com/article/1280/jumping-ship-moving-from-emacs-to-textmate

For those interested in using Sweave and TextMate together, there is a bundle.

-- 
Byron Ellis (byron.ellis at gmail.com)
"Oook" -- The Librarian


From david.airey at vanderbilt.edu  Sat Sep  9 01:54:12 2006
From: david.airey at vanderbilt.edu (David Airey)
Date: Fri, 8 Sep 2006 18:54:12 -0500
Subject: [R-SIG-Mac] broken pipe?
Message-ID: <C751EFF9-AD6C-42B3-B0BC-A2958B6557E6@vanderbilt.edu>

I think this came up recently, but I've deleted my email.

I cannot install compiled packages. I get this error using R Version  
1.16 (3198):

trying URL 'http://www.biometrics.mtu.edu/CRAN/bin/macosx/powerpc/ 
contrib/2.3/qtl_1.03-14.tgz'
Content type 'application/x-gzip' length 864112 bytes
opened URL
==================================================
downloaded 843Kb

Error in sprintf(gettext(fmt, domain = domain), ...) :
	argument is missing, with no default
tar: ~/Library/R/library/file4431b782: Cannot chdir: No such file or  
directory
tar: Error is not recoverable: exiting now

gzip: stdout: Broken pipe
 >

--
David C. Airey, Ph.D.
Research Assistant Professor

Department of Pharmacology
School of Medicine
Vanderbilt University
8148-A Medical Research Building 3
465 21st Avenue South
Nashville, TN 37232-8548

TEL   (615) 936-1510
FAX   (615) 936-3747
EMAIL david.airey at vanderbilt.edu
URL   http://people.vanderbilt.edu/~david.c.airey/dca_cv.pdf
URL   http://www.vanderbilt.edu/pharmacology


From rennerm at u.washington.edu  Wed Sep  6 18:28:17 2006
From: rennerm at u.washington.edu (Martin Renner)
Date: Wed, 6 Sep 2006 08:28:17 -0800
Subject: [R-SIG-Mac] snow cluster - unable to open connection
In-Reply-To: <Pine.LNX.4.64.0609040920340.18291@itasca2.wildberry.org>
References: <8D4A6E5B-19BB-40C6-8188-B200EBC30904@u.washington.edu>
	<44FCB73E.2020707@mail.nih.gov>
	<Pine.LNX.4.64.0609040920340.18291@itasca2.wildberry.org>
Message-ID: <D4B94A2E-5917-4DE9-B2D2-E2AA0A693C55@u.washington.edu>

Thank you for the replies, Luke and Sean!

turning off the firewall on each and every machine did finally allow  
me to start the cluster across all my machines. Keeping the firewall  
on would be desirable, however. Using tcp wrappers I can restrict  
access to local IPs - although I loose the bonjour-names  
(machineA.local, etc - need to use IP numbers instead). When the  
firewall is turned on, the console.log records "Firewall Tool: Error,  
Start Port (600011) invalid!" when trying to start the cluster. I've  
tried to open tcp port 600011, but that didn't help. If someone  
figures out how to work snow with the firewall left intact, please  
let me know.  Nevertheless, my snow cluster is working now - big  
thank-you to Luke Tierney et al. for snow!

Cheers,
Martin



Martin Renner
Postdoctoral Fellow
University of Washington
School of Aquatic and Fishery Sciences
PO Box 355020
Seattle, WA 98195-5020, USA

current address:
Alaska Maritime NWR               907-235 6546 (work)
95 Sterling Highway, Suite 1      907-235-7783 (fax)
Homer, AK 99603, USA


From simon.urbanek at r-project.org  Sat Sep  9 17:31:54 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 9 Sep 2006 11:31:54 -0400
Subject: [R-SIG-Mac] snow cluster - unable to open connection
In-Reply-To: <D4B94A2E-5917-4DE9-B2D2-E2AA0A693C55@u.washington.edu>
References: <8D4A6E5B-19BB-40C6-8188-B200EBC30904@u.washington.edu>
	<44FCB73E.2020707@mail.nih.gov>
	<Pine.LNX.4.64.0609040920340.18291@itasca2.wildberry.org>
	<D4B94A2E-5917-4DE9-B2D2-E2AA0A693C55@u.washington.edu>
Message-ID: <D33A57C8-C53D-409B-9A99-200841E3E134@r-project.org>


On Sep 6, 2006, at 12:28 PM, Martin Renner wrote:

> Thank you for the replies, Luke and Sean!
>
> turning off the firewall on each and every machine did finally  
> allow me to start the cluster across all my machines. Keeping the  
> firewall on would be desirable, however. Using tcp wrappers I can  
> restrict access to local IPs - although I loose the bonjour-names  
> (machineA.local, etc - need to use IP numbers instead). When the  
> firewall is turned on, the console.log records "Firewall Tool:  
> Error, Start Port (600011) invalid!"

^^ that's of course nonsense - TCP ports are 16-bit, so there is no  
such thing as port 600011 as the firewall software correctly tells  
you. If you take it modulo 2^32, you'll get port 10187 which is what  
SOCK in snow uses by default (FWIW: it is use-configurable, so you  
can use any port you want). This can be easily verified when you look  
at the existing connections (e.g. local one):
iX:urbanek$ lsof|grep ^R|grep TCP
R         8842 urbanek    4u    IPv4 0x03a7b3f0        0t0      TCP  
192.168.1.102:10187->192.168.1.102:59314 (ESTABLISHED)
R         8855 urbanek    3u    IPv4 0x025c2e10        0t0      TCP  
192.168.1.102:59314->192.168.1.102:10187 (ESTABLISHED)
So opening port 10187 may possibly do the trick. You still need to  
make sure that the firewall allows the inverse  - connect to an  
outgoing port - many do so for UDP, but I suspect only few do so for  
TCP by default.

Cheers,
Simon


From simon.urbanek at r-project.org  Sat Sep  9 17:42:25 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 9 Sep 2006 11:42:25 -0400
Subject: [R-SIG-Mac] snow cluster - unable to open connection
In-Reply-To: <D33A57C8-C53D-409B-9A99-200841E3E134@r-project.org>
References: <8D4A6E5B-19BB-40C6-8188-B200EBC30904@u.washington.edu>
	<44FCB73E.2020707@mail.nih.gov>
	<Pine.LNX.4.64.0609040920340.18291@itasca2.wildberry.org>
	<D4B94A2E-5917-4DE9-B2D2-E2AA0A693C55@u.washington.edu>
	<D33A57C8-C53D-409B-9A99-200841E3E134@r-project.org>
Message-ID: <79639DB1-429E-40DA-BD4B-599F67FAAF0F@r-project.org>


On Sep 9, 2006, at 11:31 AM, Simon Urbanek wrote:

> [...] TCP ports are 16-bit, so there is no such thing as port  
> 600011 as the firewall software correctly tells you. If you take it  
> modulo 2^32, you'll get port 10187

^^ that should've read 2^16 of course. Nowadays, in the world of 32- 
bit and 64-bit machines, you hardly get to type 2^16 anymore ;).

BTW: Given that OS X boxes come by default with almost no listening  
ports at all (unlike other OSes), I'm not too worried about running  
them without local firewalls as long as there is a university/ 
corporate firewall between the box and the internet. Of course this  
is only true as long as you don't enable any file sharing software ;).

Cheers,
Simon


From jgreenberg at arc.nasa.gov  Sun Sep 10 02:34:35 2006
From: jgreenberg at arc.nasa.gov (Jonathan Greenberg)
Date: Sat, 09 Sep 2006 17:34:35 -0700
Subject: [R-SIG-Mac] Problems installing rgdal from source
Message-ID: <C128ABAB.BFC0%jgreenberg@arc.nasa.gov>

I am going through some similar problems getting rgdal running on macos x:

sudo ./usr/local/bin/R64 CMD INSTALL
--configure-args='--with-proj-include=/usr/local/include
--with-proj-lib=/usr/local/lib' rgdal

...
checking proj_api.h usability... yes
checking proj_api.h presence... yes
checking for proj_api.h... yes
checking for pj_init_plus in -lproj... no
libproj.a and/or proj_api.h not found.
If the PROJ.4 library is installed in a non-standard location,
use --configure-args='--with-proj-include=/opt/local/include
--with-proj-lib=/opt/local/lib' for example, replacing /opt/local/*
with appropriate values for your installation.
If PROJ.4 is not installed, install it.
ERROR: configuration failed for package 'rgdal'
** Removing '/usr/local/lib64/R/library/rgdal'
** Restoring previous '/usr/local/lib64/R/library/rgdal'

Response from ls /usr/local/lib/libproj*:

/usr/local/lib/libproj.0.5.0.dylib      /usr/local/lib/libproj.dylib
/usr/local/lib/libproj.0.dylib          /usr/local/lib/libproj.la
/usr/local/lib/libproj.a

***

I did a standard ./configure, make, sudo make install for proj-4.4.9 (after
going through the same fink issue as the previous poster).  Any suggestions?
You'll note the only real difference (I can't imagine why this would matter)
is that I'm running the 64 bit version of R found at
http://r.research.att.com/

--j


-- 
Jonathan A. Greenberg, PhD
NRC Research Associate
NASA Ames Research Center
MS 242-4
Moffett Field, CA 94035-1000
Office: 650-604-5896
Cell: 415-794-5043
AIM: jgrn307
MSN: jgrn307 at hotmail.com


From david.airey at vanderbilt.edu  Sun Sep 10 17:22:07 2006
From: david.airey at vanderbilt.edu (David Airey)
Date: Sun, 10 Sep 2006 10:22:07 -0500
Subject: [R-SIG-Mac] GUI package installer has bug since install.packages
	works
Message-ID: <7B8C738D-6384-4C60-B1E7-D956FB35336A@vanderbilt.edu>

A few days ago I sent an email in which I said I could not install or  
update binary packages using the R.app GUI. While this remains true,  
I can install packages in R.app using the command "install.packages 
("my_package_name")".

So there seems to be a bug in the latest version of R.app for the  
package installer GUI.

Using a completely new installation of R does not fix this issue.

I'm using the latest OS X install.

-Dave



> I think this came up recently, but I've deleted my email.
>
> I cannot install compiled packages. I get this error using R  
> Version 1.16 (3198):
>
> trying URL 'http://www.biometrics.mtu.edu/CRAN/bin/macosx/powerpc/ 
> contrib/2.3/qtl_1.03-14.tgz'
> Content type 'application/x-gzip' length 864112 bytes
> opened URL
> ==================================================
> downloaded 843Kb
>
> Error in sprintf(gettext(fmt, domain = domain), ...) :
> 	argument is missing, with no default
> tar: ~/Library/R/library/file4431b782: Cannot chdir: No such file  
> or directory
> tar: Error is not recoverable: exiting now
>
> gzip: stdout: Broken pipe
> >

--
David C. Airey, Ph.D.
Research Assistant Professor

Department of Pharmacology
School of Medicine
Vanderbilt University
8148-A Medical Research Building 3
465 21st Avenue South
Nashville, TN 37232-8548

TEL   (615) 936-1510
FAX   (615) 936-3747
EMAIL david.airey at vanderbilt.edu
URL   http://people.vanderbilt.edu/~david.c.airey/dca_cv.pdf
URL   http://www.vanderbilt.edu/pharmacology


From massimodisasha at yahoo.it  Sun Sep 10 17:17:26 2006
From: massimodisasha at yahoo.it (massimodisasha)
Date: Sun, 10 Sep 2006 17:17:26 +0200
Subject: [R-SIG-Mac] Problems installing rgdal from source
In-Reply-To: <mailman.13.1157882405.15598.r-sig-mac@stat.math.ethz.ch>
References: <mailman.13.1157882405.15598.r-sig-mac@stat.math.ethz.ch>
Message-ID: <28E89156-FDA7-4FEE-A9AC-184A3B1133CC@yahoo.it>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060910/18f4c926/attachment.pl 

From Roger.Bivand at nhh.no  Sun Sep 10 16:11:29 2006
From: Roger.Bivand at nhh.no (Roger Bivand)
Date: Sun, 10 Sep 2006 16:11:29 +0200 (CEST)
Subject: [R-SIG-Mac] [R-sig-Geo]  Problems installing rgdal from source
In-Reply-To: <C128ABAB.BFC0%jgreenberg@arc.nasa.gov>
Message-ID: <Pine.LNX.4.44.0609101607550.4678-100000@reclus.nhh.no>

On Sat, 9 Sep 2006, Jonathan Greenberg wrote:

> I am going through some similar problems getting rgdal running on macos x:
> 
> sudo ./usr/local/bin/R64 CMD INSTALL
> --configure-args='--with-proj-include=/usr/local/include
> --with-proj-lib=/usr/local/lib' rgdal
> 
> ...
> checking proj_api.h usability... yes
> checking proj_api.h presence... yes
> checking for proj_api.h... yes
> checking for pj_init_plus in -lproj... no
> libproj.a and/or proj_api.h not found.
> If the PROJ.4 library is installed in a non-standard location,
> use --configure-args='--with-proj-include=/opt/local/include
> --with-proj-lib=/opt/local/lib' for example, replacing /opt/local/*
> with appropriate values for your installation.
> If PROJ.4 is not installed, install it.
> ERROR: configuration failed for package 'rgdal'
> ** Removing '/usr/local/lib64/R/library/rgdal'
> ** Restoring previous '/usr/local/lib64/R/library/rgdal'


Is there any possibility that pj_init_plus is being hidden? Is this maybe 
a symptom of the buggy gcc (gcc not running correctly in configure)? With 
two people with the same problem (configure not finding a function in 
libproj.a that has to be there, and when libproj.a is in a very standard 
place), it must be possible to establish what they share. What is the gcc 
version?

Roger

> 
> Response from ls /usr/local/lib/libproj*:
> 
> /usr/local/lib/libproj.0.5.0.dylib      /usr/local/lib/libproj.dylib
> /usr/local/lib/libproj.0.dylib          /usr/local/lib/libproj.la
> /usr/local/lib/libproj.a
> 
> ***
> 
> I did a standard ./configure, make, sudo make install for proj-4.4.9 (after
> going through the same fink issue as the previous poster).  Any suggestions?
> You'll note the only real difference (I can't imagine why this would matter)
> is that I'm running the 64 bit version of R found at
> http://r.research.att.com/
> 
> --j
> 
> 
> 

-- 
Roger Bivand
Economic Geography Section, Department of Economics, Norwegian School of
Economics and Business Administration, Helleveien 30, N-5045 Bergen,
Norway. voice: +47 55 95 93 55; fax +47 55 95 95 43
e-mail: Roger.Bivand at nhh.no


From simon.urbanek at r-project.org  Mon Sep 11 17:17:08 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 11 Sep 2006 11:17:08 -0400
Subject: [R-SIG-Mac] [R-sig-Geo]  Problems installing rgdal from source
In-Reply-To: <Pine.LNX.4.44.0609101607550.4678-100000@reclus.nhh.no>
References: <Pine.LNX.4.44.0609101607550.4678-100000@reclus.nhh.no>
Message-ID: <4CF0DDA4-1E1A-43C2-9086-1D40522DE609@r-project.org>


On Sep 10, 2006, at 10:11 AM, Roger Bivand wrote:

> On Sat, 9 Sep 2006, Jonathan Greenberg wrote:
>
>> I am going through some similar problems getting rgdal running on  
>> macos x:
>>
>> sudo ./usr/local/bin/R64 CMD INSTALL
^^^
  +--- are you sure you have 64-bit version of libproj? Apparently  
you're using 64-bit R, so 32-bit libraries won't work.

A common mistake is to have a library for one architecture (ppc and  
ppc64 in this case, but commonly also ppc and i686), which then  
passes a linker test, but doesn't contain any relevant symbols,  
because they belong to another architecture. Just an idea ...

Cheers,
Simon



>> --configure-args='--with-proj-include=/usr/local/include
>> --with-proj-lib=/usr/local/lib' rgdal
>>
>> ...
>> checking proj_api.h usability... yes
>> checking proj_api.h presence... yes
>> checking for proj_api.h... yes
>> checking for pj_init_plus in -lproj... no
>> libproj.a and/or proj_api.h not found.
>> If the PROJ.4 library is installed in a non-standard location,
>> use --configure-args='--with-proj-include=/opt/local/include
>> --with-proj-lib=/opt/local/lib' for example, replacing /opt/local/*
>> with appropriate values for your installation.
>> If PROJ.4 is not installed, install it.
>> ERROR: configuration failed for package 'rgdal'
>> ** Removing '/usr/local/lib64/R/library/rgdal'
>> ** Restoring previous '/usr/local/lib64/R/library/rgdal'
>
>
> Is there any possibility that pj_init_plus is being hidden? Is this  
> maybe
> a symptom of the buggy gcc (gcc not running correctly in  
> configure)? With
> two people with the same problem (configure not finding a function in
> libproj.a that has to be there, and when libproj.a is in a very  
> standard
> place), it must be possible to establish what they share. What is  
> the gcc
> version?
>
> Roger
>
>>
>> Response from ls /usr/local/lib/libproj*:
>>
>> /usr/local/lib/libproj.0.5.0.dylib      /usr/local/lib/libproj.dylib
>> /usr/local/lib/libproj.0.dylib          /usr/local/lib/libproj.la
>> /usr/local/lib/libproj.a
>>
>> ***
>>
>> I did a standard ./configure, make, sudo make install for  
>> proj-4.4.9 (after
>> going through the same fink issue as the previous poster).  Any  
>> suggestions?
>> You'll note the only real difference (I can't imagine why this  
>> would matter)
>> is that I'm running the 64 bit version of R found at
>> http://r.research.att.com/
>>
>> --j
>>
>>
>>
>
> -- 
> Roger Bivand
> Economic Geography Section, Department of Economics, Norwegian  
> School of
> Economics and Business Administration, Helleveien 30, N-5045 Bergen,
> Norway. voice: +47 55 95 93 55; fax +47 55 95 95 43
> e-mail: Roger.Bivand at nhh.no
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From timothy.c.bates at gmail.com  Tue Sep 12 16:09:38 2006
From: timothy.c.bates at gmail.com (Timothy Bates)
Date: Tue, 12 Sep 2006 15:09:38 +0100
Subject: [R-SIG-Mac] Crash on delete column in edit()
Message-ID: <C12C7E33.423B7%timothy.c.bates@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060912/bb1ab630/attachment.pl 

From simon.urbanek at r-project.org  Wed Sep 13 16:42:09 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 13 Sep 2006 10:42:09 -0400
Subject: [R-SIG-Mac] GUI package installer has bug since
	install.packages works
In-Reply-To: <7B8C738D-6384-4C60-B1E7-D956FB35336A@vanderbilt.edu>
References: <7B8C738D-6384-4C60-B1E7-D956FB35336A@vanderbilt.edu>
Message-ID: <2A133B32-4B50-46B0-B5E7-264953F56F02@r-project.org>


On Sep 10, 2006, at 11:22 AM, David Airey wrote:

> A few days ago I sent an email in which I said I could not install  
> or update binary packages using the R.app GUI. While this remains  
> true, I can install packages in R.app using the command  
> "install.packages ("my_package_name")".
>
> So there seems to be a bug in the latest version of R.app for the  
> package installer GUI.
>

Since you seem to be the only one having this problem (I cannot  
reproduce it, either), I would be inclined to think that this is  
rather a problem either with the mirror you use or your system. Try  
changing the mirror first.

Cheers,
Simon



> Using a completely new installation of R does not fix this issue.
>
> I'm using the latest OS X install.
>
> -Dave
>
>
>
>> I think this came up recently, but I've deleted my email.
>>
>> I cannot install compiled packages. I get this error using R
>> Version 1.16 (3198):
>>
>> trying URL 'http://www.biometrics.mtu.edu/CRAN/bin/macosx/powerpc/
>> contrib/2.3/qtl_1.03-14.tgz'
>> Content type 'application/x-gzip' length 864112 bytes
>> opened URL
>> ==================================================
>> downloaded 843Kb
>>
>> Error in sprintf(gettext(fmt, domain = domain), ...) :
>> 	argument is missing, with no default
>> tar: ~/Library/R/library/file4431b782: Cannot chdir: No such file
>> or directory
>> tar: Error is not recoverable: exiting now
>>
>> gzip: stdout: Broken pipe
>>>
>
> --
> David C. Airey, Ph.D.
> Research Assistant Professor
>
> Department of Pharmacology
> School of Medicine
> Vanderbilt University
> 8148-A Medical Research Building 3
> 465 21st Avenue South
> Nashville, TN 37232-8548
>
> TEL   (615) 936-1510
> FAX   (615) 936-3747
> EMAIL david.airey at vanderbilt.edu
> URL   http://people.vanderbilt.edu/~david.c.airey/dca_cv.pdf
> URL   http://www.vanderbilt.edu/pharmacology
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Wed Sep 13 17:04:29 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 13 Sep 2006 11:04:29 -0400
Subject: [R-SIG-Mac] RSwitch - making it easier to test pre-release versions
	of R
Message-ID: <CD81BD69-1B17-4738-918A-DC4CD37CECBA@r-project.org>

In case you didn't know it is possible to have multiple R versions  
installed on your Mac. The R framework uses a versioning system that  
can keep multiple R versions in parallel at /Library/Frameworks/ 
R.framework/Versions
You can change the current version by setting the "Current" symlink  
there. For those as lazy as me there is now a small GUI tool now  
available at
http://r.research.att.com/
(on the bottom) which I call RSwitch and it allows you to change the  
current R version in one click. Since we are getting close to the  
beta stage of the next release, the best use of it is once you  
install the current alpha/beta version of R to switch between the pre- 
release and your old R version as necessary.

Note: even if you switch the current R version, you will still need  
to use the corresponding version of the GUI as well, otherwise  
strange things will happen. Switching versions while R is running can  
also have undesirable effects if you try to load packages after the  
change as they will be loaded from the wrong version of R, so use  
with care.

Cheers,
Simon


From stefano.iacus at unimi.it  Wed Sep 13 17:25:14 2006
From: stefano.iacus at unimi.it (stefano iacus)
Date: Thu, 14 Sep 2006 00:25:14 +0900
Subject: [R-SIG-Mac] RSwitch - making it easier to test pre-release
 versions	of R
In-Reply-To: <CD81BD69-1B17-4738-918A-DC4CD37CECBA@r-project.org>
References: <CD81BD69-1B17-4738-918A-DC4CD37CECBA@r-project.org>
Message-ID: <A9D56F60-E2A0-4003-9F5F-08FB8E0E3858@unimi.it>

We discussed this in the past and now you remind me the point with  
the announcement of this nice utility.
I know it can be for this release (I'm just writing it here as a  
memo) but this might be considered as a feature request:

it would be nice to include RSwitch inside R.app with a panel showing  
which versions of the Framework are compatible with the particular  
version of R.app currently running (probably not too much variability  
though). The selected version would be used at next start of R.app  
(like when you choose OS X system disk for next boot) and of course a  
"restart now" button would be nice as well.

The restart button is something I really miss in daily use,  
independently from the above feature request.


stefano

On 14/set/06, at 00:04, Simon Urbanek wrote:

> In case you didn't know it is possible to have multiple R versions
> installed on your Mac. The R framework uses a versioning system that
> can keep multiple R versions in parallel at /Library/Frameworks/
> R.framework/Versions
> You can change the current version by setting the "Current" symlink
> there. For those as lazy as me there is now a small GUI tool now
> available at
> http://r.research.att.com/
> (on the bottom) which I call RSwitch and it allows you to change the
> current R version in one click. Since we are getting close to the
> beta stage of the next release, the best use of it is once you
> install the current alpha/beta version of R to switch between the pre-
> release and your old R version as necessary.
>
> Note: even if you switch the current R version, you will still need
> to use the corresponding version of the GUI as well, otherwise
> strange things will happen. Switching versions while R is running can
> also have undesirable effects if you try to load packages after the
> change as they will be loaded from the wrong version of R, so use
> with care.
>
> Cheers,
> Simon
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From goedman at mac.com  Wed Sep 13 20:00:12 2006
From: goedman at mac.com (Rob J Goedman)
Date: Wed, 13 Sep 2006 11:00:12 -0700
Subject: [R-SIG-Mac] Minor updates to R.app
Message-ID: <5609EF31-D73D-4DE2-9E95-C3CB7635D9D4@mac.com>

Hi,

About a week ago a couple of updates have been committed for R.app  
(rev 3698):

*	The save.On.Exit  setting is now in the startup preference panel.  
Some very
	minor localization still needs to be finished
*	If save.On.Exit is set to 'NO' or NO is answered after asking,  
history is still saved
*	Prevent loading of .RData from user home dir if working dir is set  
differently
*	Show which .RData is loaded.

Note that .RData is **never** read if you start R through drag&drop  
of a file
or directory on the R icon or by using 'open -a R.app dir_or_file'.

Today's nightly build (rev 3770) will contain a few more changes:

*	R.app now recognizes an image file when started by drag&drop
*	Fixed a bunch of cases where I saw old popup windows popup
	again (and hang around!) if a cmd was executed through AppleScript,
	e.g. from an external editor such as TextMate.

Please let me know which popup window pops up if you notice other cases.

Thanks,
Rob


From simon.urbanek at r-project.org  Wed Sep 13 22:37:06 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 13 Sep 2006 16:37:06 -0400
Subject: [R-SIG-Mac] RSwitch - making it easier to test pre-release
	versions	of R
In-Reply-To: <A9D56F60-E2A0-4003-9F5F-08FB8E0E3858@unimi.it>
References: <CD81BD69-1B17-4738-918A-DC4CD37CECBA@r-project.org>
	<A9D56F60-E2A0-4003-9F5F-08FB8E0E3858@unimi.it>
Message-ID: <0FCC9030-E409-4759-B261-438B12165B6F@r-project.org>


On Sep 13, 2006, at 11:25 AM, stefano iacus wrote:

> We discussed this in the past and now you remind me the point with  
> the announcement of this nice utility.
> I know it can be for this release (I'm just writing it here as a  
> memo) but this might be considered as a feature request:
>
> it would be nice to include RSwitch inside R.app with a panel  
> showing which versions of the Framework are compatible with the  
> particular version of R.app currently running (probably not too  
> much variability though).

Technically, none. A R.app is always linked to a specific version of  
the framework, so it won't work with any other version. In practice,  
it might if the R API didn't change too much, but that is not  
guaranteed. (Framework version = X.Y part of the X.Y.Z R version, so  
patch releases are compatible, but they are installed in the same  
location, so you cannot have multiple patch-revisions of R in  
Versions unless you do that manually).

Actually, for R 2.4 and higher started through the R.app GUI, it's  
not really an issue, because the GUI now automatically sets version- 
specific R_HOME, so you can have two R.apps - one to start R 2.4 and  
one to start R 2.5 and they both ignore the currently set version  
(and can run in parallel). The "Current" symlink applies mainly to R  
started from the command line and pre-2.4 versions of R.


> The selected version would be used at next start of R.app (like  
> when you choose OS X system disk for next boot) and of course a  
> "restart now" button would be nice as well.
>

The only way (I can think of) to provide a solution would be to put  
the actual R.app binary inside the R framework and let the user- 
visible R.app be just a wrapper that launches the correct R.app from  
a framework. However, this doesn't sound quite right, because it  
would involve two R.apps launching each other and what the user sees  
is not what s/he gets ....


> The restart button is something I really miss in daily use,  
> independently from the above feature request.
>

That is not trivial (short of writing a wrapper), because R  
termination is handled by libR itself and not the R.app. We may want  
to dig into that, though, because currently q("yes") will close R.app  
without saving any open editor windows, because R.app doesn't even  
get the message that R is closing, so it doesn't have the chance to  
save anything - and we should definitely fix that ...

Cheers,
Simon


> On 14/set/06, at 00:04, Simon Urbanek wrote:
>
>> In case you didn't know it is possible to have multiple R versions
>> installed on your Mac. The R framework uses a versioning system that
>> can keep multiple R versions in parallel at /Library/Frameworks/
>> R.framework/Versions
>> You can change the current version by setting the "Current" symlink
>> there. For those as lazy as me there is now a small GUI tool now
>> available at
>> http://r.research.att.com/
>> (on the bottom) which I call RSwitch and it allows you to change the
>> current R version in one click. Since we are getting close to the
>> beta stage of the next release, the best use of it is once you
>> install the current alpha/beta version of R to switch between the  
>> pre-
>> release and your old R version as necessary.
>>
>> Note: even if you switch the current R version, you will still need
>> to use the corresponding version of the GUI as well, otherwise
>> strange things will happen. Switching versions while R is running can
>> also have undesirable effects if you try to load packages after the
>> change as they will be loaded from the wrong version of R, so use
>> with care.
>>
>> Cheers,
>> Simon
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From smckinney at bccrc.ca  Thu Sep 14 21:23:46 2006
From: smckinney at bccrc.ca (Steven McKinney)
Date: Thu, 14 Sep 2006 12:23:46 -0700
Subject: [R-SIG-Mac] splots -- new package announcement
References: <4508167F.9070804@ebi.ac.uk>
	<0BE438149FF2254DB4199E2682C8DFEB01D55562@crcmail1.BCCRC.CA>
Message-ID: <0BE438149FF2254DB4199E2682C8DFEB01D5556C@crcmail1.BCCRC.CA>


Forwarding to r-sig-mac

Anyone else have problems with
the Quartz graphics display generated
from R.app, running the example from
new package 'splots' ?

Details below.



-----Original Message-----
From: bioc-devel-bounces at stat.math.ethz.ch on behalf of Steven McKinney
Sent: Wed 9/13/2006 12:21 PM
To: Oleg Sklyar; bioc-devel at stat.math.ethz.ch
Subject: Re: [Bioc-devel] splots -- new package announcement
 
Hi Oleg,

As I have some 96 well plate data to look at
right now, I downloaded your package.

Unfortunately I am having trouble on 
Mac OS X 10.4.7 and Rapp 2.3.1

If I run your example,

> data(splots.screen)
> plotScreen(screen, 3)

I get a Quartz screen with 12 grey
rectangles, subtitled 'datasetnn', 
(nn = 1, 2, ... 12)
all white otherwise.

If I resize the screen, I briefly see coloured
rectangles within the grey borders, but then white
returns and all is blank.

I also tried printing to a PDF file, which worked
properly, so I can at least do that.

Anyone have similar problems with other plots?
Is this an Rapp/Quartz issue only?  Have I set up
something inappropriately?

Any insights appreciated.






> version
               _                         
platform       powerpc-apple-darwin8.6.0 
arch           powerpc                   
os             darwin8.6.0               
system         powerpc, darwin8.6.0      
status                                   
major          2                         
minor          3.1                       
year           2006                      
month          06                        
day            01                        
svn rev        38247                     
language       R                         
version.string Version 2.3.1 (2006-06-01)







Steven McKinney

Statistician
Molecular Oncology and Breast Cancer Program
British Columbia Cancer Research Centre

email: smckinney at bccrc.ca

tel: 604-675-8000 x7561

BCCRC
Molecular Oncology
675 West 10th Ave, Floor 4
Vancouver B.C. 
V5Z 1L3
Canada




-----Original Message-----
From: bioc-devel-bounces at stat.math.ethz.ch on behalf of Oleg Sklyar
Sent: Wed 9/13/2006 7:32 AM
To: bioc-devel at stat.math.ethz.ch
Subject: [Bioc-devel] splots -- new package announcement
 
Hi all,

a couple of weeks ago I submitted a yet tiny new package, splots, that 
aims to deliver different plotting routines for high-throughput screens 
independently of analysis packages. The idea is too have a separate 
plotting package with a minimum dependencies that would allow for nice 
plots of screen-like data (what is currently done by parts of cellHTS, 
prada etc).

The package has now passed through build/check and therefore I am 
announcing it.

At the moment, the package contains one single function, plotScreen, 
which is a grid-graphics implementation of a similar function from 
cellHTS (credit to Ligia Breas for the idea!), and it stays this way for 
the release. However I will add a couple of functions in the later devel 
version as time allows.

I would be really happy if the package attract not only users but 
developers as well. Feel free to participate in package development, 
adding new functions, or simply using it.

Best,
Oleg

-- 
Dr. Oleg Sklyar | EBI, Cambridge CB10 1SD, England | +44-1223-494466

_______________________________________________
Bioc-devel at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/bioc-devel

_______________________________________________
Bioc-devel at stat.math.ethz.ch mailing list
https://stat.ethz.ch/mailman/listinfo/bioc-devel


From simon.urbanek at r-project.org  Thu Sep 14 22:20:37 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 14 Sep 2006 16:20:37 -0400
Subject: [R-SIG-Mac] splots -- new package announcement
In-Reply-To: <0BE438149FF2254DB4199E2682C8DFEB01D5556C@crcmail1.BCCRC.CA>
References: <4508167F.9070804@ebi.ac.uk>
	<0BE438149FF2254DB4199E2682C8DFEB01D55562@crcmail1.BCCRC.CA>
	<0BE438149FF2254DB4199E2682C8DFEB01D5556C@crcmail1.BCCRC.CA>
Message-ID: <A26E677C-E525-4E4F-9796-97D78746AFF6@r-project.org>


On Sep 14, 2006, at 3:23 PM, Steven McKinney wrote:

>
> Forwarding to r-sig-mac
>
> Anyone else have problems with the Quartz graphics display  
> generated from R.app, running the example from new package 'splots' ?
>

IMHO it's a bug in splots:

grid.rect(0.5, 0.5, 1, 1, gp = gpar(col = abris))
^-- this will fill the whole area with the default fill color which  
is white:
 > get.gpar()$fill
[1] "white"

I guess it should read
grid.rect(0.5, 0.5, 1, 1, gp = gpar(col = abris, fill=NULL))

Cheers,
Simon


> -----Original Message-----
> From: bioc-devel-bounces at stat.math.ethz.ch on behalf of Steven  
> McKinney
> Sent: Wed 9/13/2006 12:21 PM
> To: Oleg Sklyar; bioc-devel at stat.math.ethz.ch
> Subject: Re: [Bioc-devel] splots -- new package announcement
>
> Hi Oleg,
>
> As I have some 96 well plate data to look at
> right now, I downloaded your package.
>
> Unfortunately I am having trouble on
> Mac OS X 10.4.7 and Rapp 2.3.1
>
> If I run your example,
>
>> data(splots.screen)
>> plotScreen(screen, 3)
>
> I get a Quartz screen with 12 grey
> rectangles, subtitled 'datasetnn',
> (nn = 1, 2, ... 12)
> all white otherwise.
>
> If I resize the screen, I briefly see coloured
> rectangles within the grey borders, but then white
> returns and all is blank.
>
> I also tried printing to a PDF file, which worked
> properly, so I can at least do that.
>
> Anyone have similar problems with other plots?
> Is this an Rapp/Quartz issue only?  Have I set up
> something inappropriately?
>
> Any insights appreciated.
>
>
>
>
>
>
>> version
>                _
> platform       powerpc-apple-darwin8.6.0
> arch           powerpc
> os             darwin8.6.0
> system         powerpc, darwin8.6.0
> status
> major          2
> minor          3.1
> year           2006
> month          06
> day            01
> svn rev        38247
> language       R
> version.string Version 2.3.1 (2006-06-01)
>
>
>
>
>
>
>
> Steven McKinney
>
> Statistician
> Molecular Oncology and Breast Cancer Program
> British Columbia Cancer Research Centre
>
> email: smckinney at bccrc.ca
>
> tel: 604-675-8000 x7561
>
> BCCRC
> Molecular Oncology
> 675 West 10th Ave, Floor 4
> Vancouver B.C.
> V5Z 1L3
> Canada
>
>
>
>
> -----Original Message-----
> From: bioc-devel-bounces at stat.math.ethz.ch on behalf of Oleg Sklyar
> Sent: Wed 9/13/2006 7:32 AM
> To: bioc-devel at stat.math.ethz.ch
> Subject: [Bioc-devel] splots -- new package announcement
>
> Hi all,
>
> a couple of weeks ago I submitted a yet tiny new package, splots, that
> aims to deliver different plotting routines for high-throughput  
> screens
> independently of analysis packages. The idea is too have a separate
> plotting package with a minimum dependencies that would allow for nice
> plots of screen-like data (what is currently done by parts of cellHTS,
> prada etc).
>
> The package has now passed through build/check and therefore I am
> announcing it.
>
> At the moment, the package contains one single function, plotScreen,
> which is a grid-graphics implementation of a similar function from
> cellHTS (credit to Ligia Breas for the idea!), and it stays this  
> way for
> the release. However I will add a couple of functions in the later  
> devel
> version as time allows.
>
> I would be really happy if the package attract not only users but
> developers as well. Feel free to participate in package development,
> adding new functions, or simply using it.
>
> Best,
> Oleg
>
> -- 
> Dr. Oleg Sklyar | EBI, Cambridge CB10 1SD, England | +44-1223-494466
>
> _______________________________________________
> Bioc-devel at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/bioc-devel
>
> _______________________________________________
> Bioc-devel at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/bioc-devel
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Thu Sep 14 22:31:33 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 14 Sep 2006 16:31:33 -0400
Subject: [R-SIG-Mac] splots -- new package announcement
In-Reply-To: <A26E677C-E525-4E4F-9796-97D78746AFF6@r-project.org>
References: <4508167F.9070804@ebi.ac.uk>
	<0BE438149FF2254DB4199E2682C8DFEB01D55562@crcmail1.BCCRC.CA>
	<0BE438149FF2254DB4199E2682C8DFEB01D5556C@crcmail1.BCCRC.CA>
	<A26E677C-E525-4E4F-9796-97D78746AFF6@r-project.org>
Message-ID: <45F1475C-1EBD-4D31-8EF9-6045103B45DF@r-project.org>


On Sep 14, 2006, at 4:20 PM, Simon Urbanek wrote:

>
> On Sep 14, 2006, at 3:23 PM, Steven McKinney wrote:
>
>>
>> Forwarding to r-sig-mac
>>
>> Anyone else have problems with the Quartz graphics display
>> generated from R.app, running the example from new package 'splots' ?
>>
>
> IMHO it's a bug in splots:
>
> grid.rect(0.5, 0.5, 1, 1, gp = gpar(col = abris))
> ^-- this will fill the whole area with the default fill color which
> is white:
>> get.gpar()$fill
> [1] "white"
>
> I guess it should read
> grid.rect(0.5, 0.5, 1, 1, gp = gpar(col = abris, fill=NULL))
>

Actually it should be fill="transparent" I presume [gpar(fill=NULL)  
returns an empty list despite the docs indicating otherwise .. hmm...  
an issue with grid as well?].

Cheers,
Simon

>> -----Original Message-----
>> From: bioc-devel-bounces at stat.math.ethz.ch on behalf of Steven
>> McKinney
>> Sent: Wed 9/13/2006 12:21 PM
>> To: Oleg Sklyar; bioc-devel at stat.math.ethz.ch
>> Subject: Re: [Bioc-devel] splots -- new package announcement
>>
>> Hi Oleg,
>>
>> As I have some 96 well plate data to look at
>> right now, I downloaded your package.
>>
>> Unfortunately I am having trouble on
>> Mac OS X 10.4.7 and Rapp 2.3.1
>>
>> If I run your example,
>>
>>> data(splots.screen)
>>> plotScreen(screen, 3)
>>
>> I get a Quartz screen with 12 grey
>> rectangles, subtitled 'datasetnn',
>> (nn = 1, 2, ... 12)
>> all white otherwise.
>>
>> If I resize the screen, I briefly see coloured
>> rectangles within the grey borders, but then white
>> returns and all is blank.
>>
>> I also tried printing to a PDF file, which worked
>> properly, so I can at least do that.
>>
>> Anyone have similar problems with other plots?
>> Is this an Rapp/Quartz issue only?  Have I set up
>> something inappropriately?
>>
>> Any insights appreciated.
>>
>>
>>
>>
>>
>>
>>> version
>>                _
>> platform       powerpc-apple-darwin8.6.0
>> arch           powerpc
>> os             darwin8.6.0
>> system         powerpc, darwin8.6.0
>> status
>> major          2
>> minor          3.1
>> year           2006
>> month          06
>> day            01
>> svn rev        38247
>> language       R
>> version.string Version 2.3.1 (2006-06-01)
>>
>>
>>
>>
>>
>>
>>
>> Steven McKinney
>>
>> Statistician
>> Molecular Oncology and Breast Cancer Program
>> British Columbia Cancer Research Centre
>>
>> email: smckinney at bccrc.ca
>>
>> tel: 604-675-8000 x7561
>>
>> BCCRC
>> Molecular Oncology
>> 675 West 10th Ave, Floor 4
>> Vancouver B.C.
>> V5Z 1L3
>> Canada
>>
>>
>>
>>
>> -----Original Message-----
>> From: bioc-devel-bounces at stat.math.ethz.ch on behalf of Oleg Sklyar
>> Sent: Wed 9/13/2006 7:32 AM
>> To: bioc-devel at stat.math.ethz.ch
>> Subject: [Bioc-devel] splots -- new package announcement
>>
>> Hi all,
>>
>> a couple of weeks ago I submitted a yet tiny new package, splots,  
>> that
>> aims to deliver different plotting routines for high-throughput
>> screens
>> independently of analysis packages. The idea is too have a separate
>> plotting package with a minimum dependencies that would allow for  
>> nice
>> plots of screen-like data (what is currently done by parts of  
>> cellHTS,
>> prada etc).
>>
>> The package has now passed through build/check and therefore I am
>> announcing it.
>>
>> At the moment, the package contains one single function, plotScreen,
>> which is a grid-graphics implementation of a similar function from
>> cellHTS (credit to Ligia Breas for the idea!), and it stays this
>> way for
>> the release. However I will add a couple of functions in the later
>> devel
>> version as time allows.
>>
>> I would be really happy if the package attract not only users but
>> developers as well. Feel free to participate in package development,
>> adding new functions, or simply using it.
>>
>> Best,
>> Oleg
>>
>> -- 
>> Dr. Oleg Sklyar | EBI, Cambridge CB10 1SD, England | +44-1223-494466
>>
>> _______________________________________________
>> Bioc-devel at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/bioc-devel
>>
>> _______________________________________________
>> Bioc-devel at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/bioc-devel
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From smckinney at bccrc.ca  Fri Sep 15 00:38:40 2006
From: smckinney at bccrc.ca (Steven McKinney)
Date: Thu, 14 Sep 2006 15:38:40 -0700
Subject: [R-SIG-Mac] splots -- new package announcement
References: <4508167F.9070804@ebi.ac.uk>
	<0BE438149FF2254DB4199E2682C8DFEB01D55562@crcmail1.BCCRC.CA>
	<0BE438149FF2254DB4199E2682C8DFEB01D5556C@crcmail1.BCCRC.CA>
	<A26E677C-E525-4E4F-9796-97D78746AFF6@r-project.org>
	<45F1475C-1EBD-4D31-8EF9-6045103B45DF@r-project.org>
Message-ID: <0BE438149FF2254DB4199E2682C8DFEB01D55576@crcmail1.BCCRC.CA>

Thanks very much Simon,

Your suggested fix works for my situation.

After changing

grid.rect(0.5, 0.5, 1, 1, gp = gpar(col = abris))

to

grid.rect(0.5, 0.5, 1, 1, gp = gpar(col = abris, fill="transparent"))

in plotScreen(), I get a proper rendering of the
demo graphic in the Quartz window using R.app.



Best regards

Steven McKinney

Statistician
Molecular Oncology and Breast Cancer Program
British Columbia Cancer Research Centre

email: smckinney at bccrc.ca

tel: 604-675-8000 x7561

BCCRC
Molecular Oncology
675 West 10th Ave, Floor 4
Vancouver B.C. 
V5Z 1L3
Canada




-----Original Message-----
From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
Sent: Thu 9/14/2006 1:31 PM
To: Steven McKinney; Paul Murrell
Cc: Bioc-devel at stat.math.ethz.ch; R SIG Mac List
Subject: Re: [R-SIG-Mac] splots -- new package announcement
 

On Sep 14, 2006, at 4:20 PM, Simon Urbanek wrote:

>
> On Sep 14, 2006, at 3:23 PM, Steven McKinney wrote:
>
>>
>> Forwarding to r-sig-mac
>>
>> Anyone else have problems with the Quartz graphics display
>> generated from R.app, running the example from new package 'splots' ?
>>
>
> IMHO it's a bug in splots:
>
> grid.rect(0.5, 0.5, 1, 1, gp = gpar(col = abris))
> ^-- this will fill the whole area with the default fill color which
> is white:
>> get.gpar()$fill
> [1] "white"
>
> I guess it should read
> grid.rect(0.5, 0.5, 1, 1, gp = gpar(col = abris, fill=NULL))
>

Actually it should be fill="transparent" I presume [gpar(fill=NULL)  
returns an empty list despite the docs indicating otherwise .. hmm...  
an issue with grid as well?].

Cheers,
Simon

>> -----Original Message-----
>> From: bioc-devel-bounces at stat.math.ethz.ch on behalf of Steven
>> McKinney
>> Sent: Wed 9/13/2006 12:21 PM
>> To: Oleg Sklyar; bioc-devel at stat.math.ethz.ch
>> Subject: Re: [Bioc-devel] splots -- new package announcement
>>
>> Hi Oleg,
>>
>> As I have some 96 well plate data to look at
>> right now, I downloaded your package.
>>
>> Unfortunately I am having trouble on
>> Mac OS X 10.4.7 and Rapp 2.3.1
>>
>> If I run your example,
>>
>>> data(splots.screen)
>>> plotScreen(screen, 3)
>>
>> I get a Quartz screen with 12 grey
>> rectangles, subtitled 'datasetnn',
>> (nn = 1, 2, ... 12)
>> all white otherwise.
>>
>> If I resize the screen, I briefly see coloured
>> rectangles within the grey borders, but then white
>> returns and all is blank.
>>
>> I also tried printing to a PDF file, which worked
>> properly, so I can at least do that.
>>
>> Anyone have similar problems with other plots?
>> Is this an Rapp/Quartz issue only?  Have I set up
>> something inappropriately?
>>
>> Any insights appreciated.
>>
>>
>>
>>
>>
>>
>>> version
>>                _
>> platform       powerpc-apple-darwin8.6.0
>> arch           powerpc
>> os             darwin8.6.0
>> system         powerpc, darwin8.6.0
>> status
>> major          2
>> minor          3.1
>> year           2006
>> month          06
>> day            01
>> svn rev        38247
>> language       R
>> version.string Version 2.3.1 (2006-06-01)
>>
>>
>>
>>
>>
>>
>>
>> Steven McKinney
>>
>> Statistician
>> Molecular Oncology and Breast Cancer Program
>> British Columbia Cancer Research Centre
>>
>> email: smckinney at bccrc.ca
>>
>> tel: 604-675-8000 x7561
>>
>> BCCRC
>> Molecular Oncology
>> 675 West 10th Ave, Floor 4
>> Vancouver B.C.
>> V5Z 1L3
>> Canada
>>
>>
>>
>>
>> -----Original Message-----
>> From: bioc-devel-bounces at stat.math.ethz.ch on behalf of Oleg Sklyar
>> Sent: Wed 9/13/2006 7:32 AM
>> To: bioc-devel at stat.math.ethz.ch
>> Subject: [Bioc-devel] splots -- new package announcement
>>
>> Hi all,
>>
>> a couple of weeks ago I submitted a yet tiny new package, splots,  
>> that
>> aims to deliver different plotting routines for high-throughput
>> screens
>> independently of analysis packages. The idea is too have a separate
>> plotting package with a minimum dependencies that would allow for  
>> nice
>> plots of screen-like data (what is currently done by parts of  
>> cellHTS,
>> prada etc).
>>
>> The package has now passed through build/check and therefore I am
>> announcing it.
>>
>> At the moment, the package contains one single function, plotScreen,
>> which is a grid-graphics implementation of a similar function from
>> cellHTS (credit to Ligia Breas for the idea!), and it stays this
>> way for
>> the release. However I will add a couple of functions in the later
>> devel
>> version as time allows.
>>
>> I would be really happy if the package attract not only users but
>> developers as well. Feel free to participate in package development,
>> adding new functions, or simply using it.
>>
>> Best,
>> Oleg
>>
>> -- 
>> Dr. Oleg Sklyar | EBI, Cambridge CB10 1SD, England | +44-1223-494466
>>
>> _______________________________________________
>> Bioc-devel at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/bioc-devel
>>
>> _______________________________________________
>> Bioc-devel at stat.math.ethz.ch mailing list
>> https://stat.ethz.ch/mailman/listinfo/bioc-devel
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From hpages at fhcrc.org  Fri Sep 15 01:32:03 2006
From: hpages at fhcrc.org (Herve Pages)
Date: Thu, 14 Sep 2006 16:32:03 -0700
Subject: [R-SIG-Mac] [Bioc-devel] splots -- svn commit plotScreen.R -
 CORRECTED
In-Reply-To: <4509E10D.7080204@ebi.ac.uk>
References: <4508167F.9070804@ebi.ac.uk>	<0BE438149FF2254DB4199E2682C8DFEB01D55562@crcmail1.BCCRC.CA>	<0BE438149FF2254DB4199E2682C8DFEB01D5556C@crcmail1.BCCRC.CA>	<A26E677C-E525-4E4F-9796-97D78746AFF6@r-project.org>	<45F1475C-1EBD-4D31-8EF9-6045103B45DF@r-project.org>	<0BE438149FF2254DB4199E2682C8DFEB01D55576@crcmail1.BCCRC.CA>
	<4509E10D.7080204@ebi.ac.uk>
Message-ID: <4509E673.5070104@fhcrc.org>

Oleg Sklyar wrote:
> The following modification has been introduced. The code committed to 
> BioC svn as revision 19830, please update. The tarball will take several 
> days until the build system runs through.
2 days!
splots 0.9.2 should be here
  http://bioconductor.org/packages/1.9/bioc/html/splots.html
on Saturday morning around 10am.

Best,
H.


From chabotd at globetrotter.net  Fri Sep 15 05:02:21 2006
From: chabotd at globetrotter.net (Denis Chabot)
Date: Thu, 14 Sep 2006 23:02:21 -0400
Subject: [R-SIG-Mac] windows that cannot be killed with R gui
Message-ID: <C98667C3-D47E-4899-AEE0-A30042C95A6D@globetrotter.net>

Hi,

Many weeks ago (months in fact) I reported that during sessions where  
I created many graphics windows, some of them eventually became  
"immortal": clicking the red button or doing command-W removes the  
windows from view they remain in the Windows menu.

I am not producing many graphics these days, so I can't say if this  
is still happening. However I have right now a session open in which  
a help window, a help topics window and the workspace manager window  
are impossible to remove from the Windows'menu, even though I did a  
command-w on each of them.

This is with version 3765 of the R gui.

Denis


From goedman at mac.com  Fri Sep 15 06:56:04 2006
From: goedman at mac.com (Rob J Goedman)
Date: Thu, 14 Sep 2006 21:56:04 -0700
Subject: [R-SIG-Mac] windows that cannot be killed with R gui
In-Reply-To: <C98667C3-D47E-4899-AEE0-A30042C95A6D@globetrotter.net>
References: <C98667C3-D47E-4899-AEE0-A30042C95A6D@globetrotter.net>
Message-ID: <14BC9CA9-ED07-4005-B776-160B02E5E48B@mac.com>

Denis,

This might be an example of the dangling windows I mentioned yesterday.
Although I have never seen multiple windows popup at the same time.  
But if
left on the screen, I have seen multiple accumulate.

Can you see any of those windows in the window list. Can you select the
window (click in the window list) and then try to close it?

Do you remember when you first noticed these windows? Did you use
help or the workspace manager earlier and then closed them? Did they  
popup
a bit later - in my case often when I use AppleScript to make R  
execute a
command?

I know, lots of questions, sorry about that.

If so, version 3774 should fix several of these.

Regards,
Rob


On Sep 14, 2006, at 8:02 PM, Denis Chabot wrote:

> Hi,
>
> Many weeks ago (months in fact) I reported that during sessions where
> I created many graphics windows, some of them eventually became
> "immortal": clicking the red button or doing command-W removes the
> windows from view they remain in the Windows menu.
>
> I am not producing many graphics these days, so I can't say if this
> is still happening. However I have right now a session open in which
> a help window, a help topics window and the workspace manager window
> are impossible to remove from the Windows'menu, even though I did a
> command-w on each of them.
>
> This is with version 3765 of the R gui.
>
> Denis
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From chabotd at globetrotter.net  Fri Sep 15 12:08:20 2006
From: chabotd at globetrotter.net (Denis Chabot)
Date: Fri, 15 Sep 2006 06:08:20 -0400
Subject: [R-SIG-Mac] windows that cannot be killed with R gui
In-Reply-To: <14BC9CA9-ED07-4005-B776-160B02E5E48B@mac.com>
References: <C98667C3-D47E-4899-AEE0-A30042C95A6D@globetrotter.net>
	<14BC9CA9-ED07-4005-B776-160B02E5E48B@mac.com>
Message-ID: <8191071A-F018-4C71-A37E-25DBF10B446D@globetrotter.net>

Hi Rob
Le 06-09-15 ? 00:56, Rob J Goedman a ?crit :

> Denis,
>
> This might be an example of the dangling windows I mentioned  
> yesterday.
> Although I have never seen multiple windows popup at the same time.  
> But if
> left on the screen, I have seen multiple accumulate.

There seems to be a difference between what happens to us. First,  
Applescripting is not involved in my case. Second, these windows  
never pop up in my case. I did create this windows earlier in my  
session. But I closed them (either with the red button at the upper  
left or by doing command-w) when I wanted to dismiss them. With mac  
applications, including R gui in the past (I don't know how far in  
the past, because I did not write down when I first had these  
problems, which is at least many months ago), a window dismissed in  
either of these manners also disappears from the Windows menu. You  
need to minimize a window for it to stay in the menu.

However some (not all) of the windows I dismiss remain in the Windows  
menu. They do disappear the moment I dismiss them, but they remain in  
the Windows menu. Hence if I select them in that menu, they reappear  
on my screen. Dismissing them again does not remove them from the  
Windows menu.

Not a major problem, but my Windows menu becomes messier than I'd like.
>
> Can you see any of those windows in the window list. Can you select  
> the
> window (click in the window list) and then try to close it?
See above, but in brief, yes, yes, yes to the 3 questions, but after  
doing so the window is still listed (and available) in the Windows  
menu (list).
>
> Do you remember when you first noticed these windows? Did you use
> help or the workspace manager earlier and then closed them? Did  
> they popup
> a bit later - in my case often when I use AppleScript to make R  
> execute a
> command?
Ah, our problems may be more related than I thought. They do not pop  
up in my case, possibly because I do not use Applescript with R. But  
yes, I definitely created these windows earlier in my session.
>
> I know, lots of questions, sorry about that.
>
> If so, version 3774 should fix several of these.
>
> Regards,
> Rob
>
I'll get this. I get a new nightly every week or two hoping this  
problem has been elucidated, but not so far. I'm anxious to try 3774  
now that you give me reasons to think this was addressed.

Bye,

Denis
>
> On Sep 14, 2006, at 8:02 PM, Denis Chabot wrote:
>
>> Hi,
>>
>> Many weeks ago (months in fact) I reported that during sessions where
>> I created many graphics windows, some of them eventually became
>> "immortal": clicking the red button or doing command-W removes the
>> windows from view they remain in the Windows menu.
>>
>> I am not producing many graphics these days, so I can't say if this
>> is still happening. However I have right now a session open in which
>> a help window, a help topics window and the workspace manager window
>> are impossible to remove from the Windows'menu, even though I did a
>> command-w on each of them.
>>
>> This is with version 3765 of the R gui.
>>
>> Denis
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From terhorab at mac.com  Fri Sep 15 13:21:12 2006
From: terhorab at mac.com (Gerald Jurasinski)
Date: Fri, 15 Sep 2006 13:21:12 +0200
Subject: [R-SIG-Mac] windows that cannot be killed with R gui
In-Reply-To: <8191071A-F018-4C71-A37E-25DBF10B446D@globetrotter.net>
References: <C98667C3-D47E-4899-AEE0-A30042C95A6D@globetrotter.net>
	<14BC9CA9-ED07-4005-B776-160B02E5E48B@mac.com>
	<8191071A-F018-4C71-A37E-25DBF10B446D@globetrotter.net>
Message-ID: <9264275.1158319272917.JavaMail.terhorab@mac.com>

Hi All,

I experienced exactly the same behaviour as Denis reports about. I often renewed my version of the R.gui but the problem did not disappear. However, as it is not stopping my workflow i didn't report about it. Its iust just a bit nagging, when you have a lot of windows created and they won't disappear...

Gerald


From goedman at mac.com  Fri Sep 15 16:59:04 2006
From: goedman at mac.com (Rob J Goedman)
Date: Fri, 15 Sep 2006 07:59:04 -0700
Subject: [R-SIG-Mac] windows that cannot be killed with R gui
In-Reply-To: <8191071A-F018-4C71-A37E-25DBF10B446D@globetrotter.net>
References: <C98667C3-D47E-4899-AEE0-A30042C95A6D@globetrotter.net>
	<14BC9CA9-ED07-4005-B776-160B02E5E48B@mac.com>
	<8191071A-F018-4C71-A37E-25DBF10B446D@globetrotter.net>
Message-ID: <9A85E320-A724-4E7B-B8F6-5B43F8B695FC@mac.com>

Hi Denis,

Thanks for the response. This helps a lot.

AppleScript is just a sure way to trigger this behavior as we force- 
create an event. But I know there are other operations that trigger  
the reappearing of windows in a similar way. Most of these windows  
show up in the window list and at least those you can reselect and  
then close (but will stay in the list unfortunately). Furthermore,  
some windows don't show up in the list at all and can never be closed.

We do have an idea why the list gets corrupted (since Mac OS 10.4)  
but haven't figured out how to fix this the right way. As you  
mentioned, it is addressed right now which should minimize the  
annoyance, but by merely plugging hopefully most of the holes. Being  
an ex-Dutch boy, how many thumps does one have to plug all these  
holes ...

Hence my earlier question, please let me know if you see windows  
reappearing after installing version 3770 of R.app.

Regards,
Rob

On Sep 15, 2006, at 3:08 AM, Denis Chabot wrote:

> Hi Rob
> Le 06-09-15 ? 00:56, Rob J Goedman a ?crit :
>
>> Denis,
>>
>> This might be an example of the dangling windows I mentioned  
>> yesterday.
>> Although I have never seen multiple windows popup at the same  
>> time. But if
>> left on the screen, I have seen multiple accumulate.
>
> There seems to be a difference between what happens to us. First,  
> Applescripting is not involved in my case. Second, these windows  
> never pop up in my case. I did create this windows earlier in my  
> session. But I closed them (either with the red button at the upper  
> left or by doing command-w) when I wanted to dismiss them. With mac  
> applications, including R gui in the past (I don't know how far in  
> the past, because I did not write down when I first had these  
> problems, which is at least many months ago), a window dismissed in  
> either of these manners also disappears from the Windows menu. You  
> need to minimize a window for it to stay in the menu.
>
> However some (not all) of the windows I dismiss remain in the  
> Windows menu. They do disappear the moment I dismiss them, but they  
> remain in the Windows menu. Hence if I select them in that menu,  
> they reappear on my screen. Dismissing them again does not remove  
> them from the Windows menu.
>
> Not a major problem, but my Windows menu becomes messier than I'd  
> like.
>>
>> Can you see any of those windows in the window list. Can you  
>> select the
>> window (click in the window list) and then try to close it?
> See above, but in brief, yes, yes, yes to the 3 questions, but  
> after doing so the window is still listed (and available) in the  
> Windows menu (list).
>>
>> Do you remember when you first noticed these windows? Did you use
>> help or the workspace manager earlier and then closed them? Did  
>> they popup
>> a bit later - in my case often when I use AppleScript to make R  
>> execute a
>> command?
> Ah, our problems may be more related than I thought. They do not  
> pop up in my case, possibly because I do not use Applescript with  
> R. But yes, I definitely created these windows earlier in my session.
>>
>> I know, lots of questions, sorry about that.
>>
>> If so, version 3774 should fix several of these.
>>
>> Regards,
>> Rob
>>
> I'll get this. I get a new nightly every week or two hoping this  
> problem has been elucidated, but not so far. I'm anxious to try  
> 3774 now that you give me reasons to think this was addressed.
>
> Bye,
>
> Denis
>>
>> On Sep 14, 2006, at 8:02 PM, Denis Chabot wrote:
>>
>>> Hi,
>>>
>>> Many weeks ago (months in fact) I reported that during sessions  
>>> where
>>> I created many graphics windows, some of them eventually became
>>> "immortal": clicking the red button or doing command-W removes the
>>> windows from view they remain in the Windows menu.
>>>
>>> I am not producing many graphics these days, so I can't say if this
>>> is still happening. However I have right now a session open in which
>>> a help window, a help topics window and the workspace manager window
>>> are impossible to remove from the Windows'menu, even though I did a
>>> command-w on each of them.
>>>
>>> This is with version 3765 of the R gui.
>>>
>>> Denis
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>


From chabotd at globetrotter.net  Fri Sep 15 17:32:41 2006
From: chabotd at globetrotter.net (Denis Chabot)
Date: Fri, 15 Sep 2006 11:32:41 -0400
Subject: [R-SIG-Mac] windows that cannot be killed with R gui
In-Reply-To: <9A85E320-A724-4E7B-B8F6-5B43F8B695FC@mac.com>
References: <C98667C3-D47E-4899-AEE0-A30042C95A6D@globetrotter.net>
	<14BC9CA9-ED07-4005-B776-160B02E5E48B@mac.com>
	<8191071A-F018-4C71-A37E-25DBF10B446D@globetrotter.net>
	<9A85E320-A724-4E7B-B8F6-5B43F8B695FC@mac.com>
Message-ID: <A06A6623-5044-4C24-8AE2-0AFA729BFDD8@globetrotter.net>

Hi again Rob,
Le 06-09-15 ? 10:59, Rob J Goedman a ?crit :

> Hence my earlier question, please let me know if you see windows  
> reappearing after installing version 3770 of R.app.

Just started using v3779. Fresh session, opened Preferences and  
closed it, opened Workspace Explorer and closed it, created 4 quartz  
windows and closed them all.

The quartz windows were erased from the Windows menu, but the  
Preferences and Workspace Explorer windows are still listed,  
unfortunately.

Denis


From goedman at mac.com  Fri Sep 15 17:54:51 2006
From: goedman at mac.com (Rob J Goedman)
Date: Fri, 15 Sep 2006 08:54:51 -0700
Subject: [R-SIG-Mac] windows that cannot be killed with R gui
In-Reply-To: <A06A6623-5044-4C24-8AE2-0AFA729BFDD8@globetrotter.net>
References: <C98667C3-D47E-4899-AEE0-A30042C95A6D@globetrotter.net>
	<14BC9CA9-ED07-4005-B776-160B02E5E48B@mac.com>
	<8191071A-F018-4C71-A37E-25DBF10B446D@globetrotter.net>
	<9A85E320-A724-4E7B-B8F6-5B43F8B695FC@mac.com>
	<A06A6623-5044-4C24-8AE2-0AFA729BFDD8@globetrotter.net>
Message-ID: <58B2BDC3-CB6F-4BA0-905F-645006138134@mac.com>

Thanks Denis,

Yes they will stay in the list, but should not magically open up again.

Rob


On Sep 15, 2006, at 8:32 AM, Denis Chabot wrote:

> Hi again Rob,
> Le 06-09-15 ? 10:59, Rob J Goedman a ?crit :
>
>> Hence my earlier question, please let me know if you see windows  
>> reappearing after installing version 3770 of R.app.
>
> Just started using v3779. Fresh session, opened Preferences and  
> closed it, opened Workspace Explorer and closed it, created 4  
> quartz windows and closed them all.
>
> The quartz windows were erased from the Windows menu, but the  
> Preferences and Workspace Explorer windows are still listed,  
> unfortunately.
>
> Denis


From murdoch at stats.uwo.ca  Fri Sep 15 20:47:34 2006
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Fri, 15 Sep 2006 14:47:34 -0400
Subject: [R-SIG-Mac] Fonts in the GUI
Message-ID: <450AF546.1020603@stats.uwo.ca>

When using R in a classroom, I'd like to increase the font size to 18 pt 
or larger so that it's easily readable on the screen.  When in the 
console, the menu item Format | Font | Bigger causes the font to shrink, 
not grow.  Hitting the shortcut key works, and after that the menu item 
works, but only in the console, not in a script edit window.

I might have my R and R.app out of sync:  I'm using R-alpha r39158 from 
last week, and R.app r3717, not sure of the date.

Duncan Murdoch


From pdmmac at mcmaster.ca  Fri Sep 15 21:01:20 2006
From: pdmmac at mcmaster.ca (Peter Macdonald)
Date: Fri, 15 Sep 2006 15:01:20 -0400
Subject: [R-SIG-Mac] Fonts in the GUI
In-Reply-To: <450AF546.1020603@stats.uwo.ca>
Message-ID: <C13070C0.AB7A%pdmmac@mcmaster.ca>

It shrinks at first, then grows on subsequent hits. It gave my large class a
good laugh the first time I tried it. The setting is saved so it re-opens in
the new size. This was with R 2.3.1 on Mac OS X.

on 2006-09-15 2:47 PM, Duncan Murdoch at murdoch at stats.uwo.ca wrote:

> When using R in a classroom, I'd like to increase the font size to 18 pt
> or larger so that it's easily readable on the screen.  When in the
> console, the menu item Format | Font | Bigger causes the font to shrink,
> not grow.  Hitting the shortcut key works, and after that the menu item
> works, but only in the console, not in a script edit window.
> 
> I might have my R and R.app out of sync:  I'm using R-alpha r39158 from
> last week, and R.app r3717, not sure of the date.
> 
> Duncan Murdoch
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
 Peter D.M. Macdonald, D.Phil., P.Stat.
 Professor of Math & Statistics
 McMaster University
 Hamilton, ON, Canada L8S 4K1


From stefano.iacus at unimi.it  Sat Sep 16 02:28:32 2006
From: stefano.iacus at unimi.it (stefano iacus)
Date: Sat, 16 Sep 2006 09:28:32 +0900
Subject: [R-SIG-Mac] Fonts in the GUI
In-Reply-To: <450AF546.1020603@stats.uwo.ca>
References: <450AF546.1020603@stats.uwo.ca>
Message-ID: <6C71F522-E3A0-4AC5-945A-78B2E5E0EEF0@unimi.it>


On 16/set/06, at 03:47, Duncan Murdoch wrote:

> When using R in a classroom, I'd like to increase the font size to  
> 18 pt
> or larger so that it's easily readable on the screen.  When in the
> console, the menu item Format | Font | Bigger causes the font to  
> shrink,
> not grow.

yes this is a bug, "bigger" first set the font size to its minimum,  
than subsequent  "apple" button and "+" cause font size to increase.


>   Hitting the shortcut key works, and after that the menu item
> works, but only in the console, not in a script edit window.

font size is fixed in the editor.
I just realized  that we don't have prefs for the font size and font  
family in R.app.
We just have the standard "Format" menu.
stefano


>
> I might have my R and R.app out of sync:  I'm using R-alpha r39158  
> from
> last week, and R.app r3717, not sure of the date.
>
> Duncan Murdoch
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From fparlamis at mac.com  Sat Sep 16 02:53:50 2006
From: fparlamis at mac.com (Parlamis Franklin)
Date: Fri, 15 Sep 2006 14:53:50 -1000
Subject: [R-SIG-Mac] built-in editor underlining
Message-ID: <0C3B3CC1-E6E8-4C75-922C-53B6A7C38626@mac.com>

if i open a blank document in the built-in editor and enter the  
following text:

Help

Help

and then underline the first "Help" (by highlighting it, and using  
either Meta-U  or Format>Font>Underline), the underlining will show  
up in my current session.  but if i save the document and reopen it,  
the underlining will be gone.  what is more, if i then open the  
document in another text editor (try TextEdit), highlight the first  
help and try to underline it, everything in the document will be  
underlined, including the second "Help"

i've been using 2.4.0 alpha (about a week old) and the R.app  
deployment build (Version 1.17-pre (3779)) for R 2.4.x from http:// 
cran.cnr.berkeley.edu/

franklin parlamis

 > version
                _
platform       powerpc-apple-darwin8.7.0
arch           powerpc
os             darwin8.7.0
system         powerpc, darwin8.7.0
status         alpha
major          2
minor          4.0
year           2006
month          09
day            06
svn rev        39158
language       R
version.string R version 2.4.0 alpha (2006-09-06 r39158)


From osklyar at ebi.ac.uk  Fri Sep 15 01:09:01 2006
From: osklyar at ebi.ac.uk (Oleg Sklyar)
Date: Fri, 15 Sep 2006 00:09:01 +0100
Subject: [R-SIG-Mac] splots -- svn commit plotScreen.R - CORRECTED
In-Reply-To: <0BE438149FF2254DB4199E2682C8DFEB01D55576@crcmail1.BCCRC.CA>
References: <4508167F.9070804@ebi.ac.uk>
	<0BE438149FF2254DB4199E2682C8DFEB01D55562@crcmail1.BCCRC.CA>
	<0BE438149FF2254DB4199E2682C8DFEB01D5556C@crcmail1.BCCRC.CA>
	<A26E677C-E525-4E4F-9796-97D78746AFF6@r-project.org>
	<45F1475C-1EBD-4D31-8EF9-6045103B45DF@r-project.org>
	<0BE438149FF2254DB4199E2682C8DFEB01D55576@crcmail1.BCCRC.CA>
Message-ID: <4509E10D.7080204@ebi.ac.uk>

The following modification has been introduced. The code committed to 
BioC svn as revision 19830, please update. The tarball will take several 
days until the build system runs through. Thanks all for pointing out to 
the solution:

80: grid.rect(0.5, 0.5, 1, 1, gp = gpar(col = abris, fill = "transparent"))

Best,
Oleg

Steven McKinney wrote:
> Thanks very much Simon,
> 
> Your suggested fix works for my situation.
> 
> After changing
> 
> grid.rect(0.5, 0.5, 1, 1, gp = gpar(col = abris))
> 
> to
> 
> grid.rect(0.5, 0.5, 1, 1, gp = gpar(col = abris, fill="transparent"))
> 
> in plotScreen(), I get a proper rendering of the
> demo graphic in the Quartz window using R.app.
> 
> 
> 
> Best regards
> 
> Steven McKinney
> 
> Statistician
> Molecular Oncology and Breast Cancer Program
> British Columbia Cancer Research Centre
> 
> email: smckinney at bccrc.ca
> 
> tel: 604-675-8000 x7561
> 
> BCCRC
> Molecular Oncology
> 675 West 10th Ave, Floor 4
> Vancouver B.C. 
> V5Z 1L3
> Canada
> 
> 
> 
> 
> -----Original Message-----
> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> Sent: Thu 9/14/2006 1:31 PM
> To: Steven McKinney; Paul Murrell
> Cc: Bioc-devel at stat.math.ethz.ch; R SIG Mac List
> Subject: Re: [R-SIG-Mac] splots -- new package announcement
>  
> 
> On Sep 14, 2006, at 4:20 PM, Simon Urbanek wrote:
> 
>> On Sep 14, 2006, at 3:23 PM, Steven McKinney wrote:
>>
>>> Forwarding to r-sig-mac
>>>
>>> Anyone else have problems with the Quartz graphics display
>>> generated from R.app, running the example from new package 'splots' ?
>>>
>> IMHO it's a bug in splots:
>>
>> grid.rect(0.5, 0.5, 1, 1, gp = gpar(col = abris))
>> ^-- this will fill the whole area with the default fill color which
>> is white:
>>> get.gpar()$fill
>> [1] "white"
>>
>> I guess it should read
>> grid.rect(0.5, 0.5, 1, 1, gp = gpar(col = abris, fill=NULL))
>>
> 
> Actually it should be fill="transparent" I presume [gpar(fill=NULL)  
> returns an empty list despite the docs indicating otherwise .. hmm...  
> an issue with grid as well?].
> 
> Cheers,
> Simon
> 
>>> -----Original Message-----
>>> From: bioc-devel-bounces at stat.math.ethz.ch on behalf of Steven
>>> McKinney
>>> Sent: Wed 9/13/2006 12:21 PM
>>> To: Oleg Sklyar; bioc-devel at stat.math.ethz.ch
>>> Subject: Re: [Bioc-devel] splots -- new package announcement
>>>
>>> Hi Oleg,
>>>
>>> As I have some 96 well plate data to look at
>>> right now, I downloaded your package.
>>>
>>> Unfortunately I am having trouble on
>>> Mac OS X 10.4.7 and Rapp 2.3.1
>>>
>>> If I run your example,
>>>
>>>> data(splots.screen)
>>>> plotScreen(screen, 3)
>>> I get a Quartz screen with 12 grey
>>> rectangles, subtitled 'datasetnn',
>>> (nn = 1, 2, ... 12)
>>> all white otherwise.
>>>
>>> If I resize the screen, I briefly see coloured
>>> rectangles within the grey borders, but then white
>>> returns and all is blank.
>>>
>>> I also tried printing to a PDF file, which worked
>>> properly, so I can at least do that.
>>>
>>> Anyone have similar problems with other plots?
>>> Is this an Rapp/Quartz issue only?  Have I set up
>>> something inappropriately?
>>>
>>> Any insights appreciated.
>>>
>>>
>>>
>>>
>>>
>>>
>>>> version
>>>                _
>>> platform       powerpc-apple-darwin8.6.0
>>> arch           powerpc
>>> os             darwin8.6.0
>>> system         powerpc, darwin8.6.0
>>> status
>>> major          2
>>> minor          3.1
>>> year           2006
>>> month          06
>>> day            01
>>> svn rev        38247
>>> language       R
>>> version.string Version 2.3.1 (2006-06-01)
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>> Steven McKinney
>>>
>>> Statistician
>>> Molecular Oncology and Breast Cancer Program
>>> British Columbia Cancer Research Centre
>>>
>>> email: smckinney at bccrc.ca
>>>
>>> tel: 604-675-8000 x7561
>>>
>>> BCCRC
>>> Molecular Oncology
>>> 675 West 10th Ave, Floor 4
>>> Vancouver B.C.
>>> V5Z 1L3
>>> Canada
>>>
>>>
>>>
>>>
>>> -----Original Message-----
>>> From: bioc-devel-bounces at stat.math.ethz.ch on behalf of Oleg Sklyar
>>> Sent: Wed 9/13/2006 7:32 AM
>>> To: bioc-devel at stat.math.ethz.ch
>>> Subject: [Bioc-devel] splots -- new package announcement
>>>
>>> Hi all,
>>>
>>> a couple of weeks ago I submitted a yet tiny new package, splots,  
>>> that
>>> aims to deliver different plotting routines for high-throughput
>>> screens
>>> independently of analysis packages. The idea is too have a separate
>>> plotting package with a minimum dependencies that would allow for  
>>> nice
>>> plots of screen-like data (what is currently done by parts of  
>>> cellHTS,
>>> prada etc).
>>>
>>> The package has now passed through build/check and therefore I am
>>> announcing it.
>>>
>>> At the moment, the package contains one single function, plotScreen,
>>> which is a grid-graphics implementation of a similar function from
>>> cellHTS (credit to Ligia Breas for the idea!), and it stays this
>>> way for
>>> the release. However I will add a couple of functions in the later
>>> devel
>>> version as time allows.
>>>
>>> I would be really happy if the package attract not only users but
>>> developers as well. Feel free to participate in package development,
>>> adding new functions, or simply using it.
>>>
>>> Best,
>>> Oleg
>>>
>>> -- 
>>> Dr. Oleg Sklyar | EBI, Cambridge CB10 1SD, England | +44-1223-494466
>>>
>>> _______________________________________________
>>> Bioc-devel at stat.math.ethz.ch mailing list
>>> https://stat.ethz.ch/mailman/listinfo/bioc-devel
>>>
>>> _______________________________________________
>>> Bioc-devel at stat.math.ethz.ch mailing list
>>> https://stat.ethz.ch/mailman/listinfo/bioc-devel
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
> 
> 
> 

-- 
Dr. Oleg Sklyar
European Bioinformatics Institute
Wellcome Trust Genome Campus
Hinxton
Cambridge CB10 1SD
England

Tel   +44-1223-494466
Fax   +44-1223-494468
email osklyar at ebi.ac.uk


From simon.urbanek at r-project.org  Sun Sep 17 04:52:16 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 16 Sep 2006 22:52:16 -0400
Subject: [R-SIG-Mac] built-in editor underlining
In-Reply-To: <0C3B3CC1-E6E8-4C75-922C-53B6A7C38626@mac.com>
References: <0C3B3CC1-E6E8-4C75-922C-53B6A7C38626@mac.com>
Message-ID: <8B1A1148-FF02-4CB2-95D9-E144799AEB9B@r-project.org>

The build-in editor doesn't store any text attribute changes as the  
output is plain text. It does, however, allow text attribute changes,  
because they are used e.g. for syntax highlighting. Strictly speaking  
the bug is that you can use the <Cmd><U> command at all.

Another approach would be to enhance the editor to support RTF format  
(internally it actually does allow it) which would allow you to use  
formatted text and store it. The drawback is that such a text is no  
longer executable directly in R, so you couldn't "source" it. I not  
quite sure what is more useful - I'm almost inclined to think that  
banning text format changes makes more sense, but I'm open to other  
suggestions...

Cheers,
Simon

On Sep 15, 2006, at 8:53 PM, Parlamis Franklin wrote:

> if i open a blank document in the built-in editor and enter the
> following text:
>
> Help
>
> Help
>
> and then underline the first "Help" (by highlighting it, and using
> either Meta-U  or Format>Font>Underline), the underlining will show
> up in my current session.  but if i save the document and reopen it,
> the underlining will be gone.  what is more, if i then open the
> document in another text editor (try TextEdit), highlight the first
> help and try to underline it, everything in the document will be
> underlined, including the second "Help"
>
> i've been using 2.4.0 alpha (about a week old) and the R.app
> deployment build (Version 1.17-pre (3779)) for R 2.4.x from http://
> cran.cnr.berkeley.edu/
>
> franklin parlamis
>
>> version
>                 _
> platform       powerpc-apple-darwin8.7.0
> arch           powerpc
> os             darwin8.7.0
> system         powerpc, darwin8.7.0
> status         alpha
> major          2
> minor          4.0
> year           2006
> month          09
> day            06
> svn rev        39158
> language       R
> version.string R version 2.4.0 alpha (2006-09-06 r39158)
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From fparlamis at mac.com  Sun Sep 17 09:05:53 2006
From: fparlamis at mac.com (Parlamis Franklin)
Date: Sat, 16 Sep 2006 21:05:53 -1000
Subject: [R-SIG-Mac] built-in editor underlining
In-Reply-To: <8B1A1148-FF02-4CB2-95D9-E144799AEB9B@r-project.org>
References: <0C3B3CC1-E6E8-4C75-922C-53B6A7C38626@mac.com>
	<8B1A1148-FF02-4CB2-95D9-E144799AEB9B@r-project.org>
Message-ID: <6E926DBF-1079-4C1F-AA5F-CC5FDE2B4241@mac.com>

Thanks, Simon.  Of course I don't think you should do anything that  
would prohibit sourcing the file (and I guess most would agree).

Re: syntax coloring.  I've turned it off because, when editing the  
beginning of a long file, I would get a long delay (multiple seconds)  
after I entered an open quotes (") as the rest of the document  
changed color because all quotes were now matched differently.  Not  
sure whether this is a slow implementation of that functionality, or  
what is to done about it, but for this user at least, the delay issue  
outweighs any benefit that I could get from syntax coloring.

Franklin

On Sep 16, 2006, at 4:52 PM, Simon Urbanek wrote:

> The build-in editor doesn't store any text attribute changes as the  
> output is plain text. It does, however, allow text attribute  
> changes, because they are used e.g. for syntax highlighting.  
> Strictly speaking the bug is that you can use the <Cmd><U> command  
> at all.
>
> Another approach would be to enhance the editor to support RTF  
> format (internally it actually does allow it) which would allow you  
> to use formatted text and store it. The drawback is that such a  
> text is no longer executable directly in R, so you couldn't  
> "source" it. I not quite sure what is more useful - I'm almost  
> inclined to think that banning text format changes makes more  
> sense, but I'm open to other suggestions...
>
> Cheers,
> Simon
>
> On Sep 15, 2006, at 8:53 PM, Parlamis Franklin wrote:
>
>> if i open a blank document in the built-in editor and enter the
>> following text:
>>
>> Help
>>
>> Help
>>
>> and then underline the first "Help" (by highlighting it, and using
>> either Meta-U  or Format>Font>Underline), the underlining will show
>> up in my current session.  but if i save the document and reopen it,
>> the underlining will be gone.  what is more, if i then open the
>> document in another text editor (try TextEdit), highlight the first
>> help and try to underline it, everything in the document will be
>> underlined, including the second "Help"
>>
>> i've been using 2.4.0 alpha (about a week old) and the R.app
>> deployment build (Version 1.17-pre (3779)) for R 2.4.x from http://
>> cran.cnr.berkeley.edu/
>>
>> franklin parlamis
>>
>>> version
>>                 _
>> platform       powerpc-apple-darwin8.7.0
>> arch           powerpc
>> os             darwin8.7.0
>> system         powerpc, darwin8.7.0
>> status         alpha
>> major          2
>> minor          4.0
>> year           2006
>> month          09
>> day            06
>> svn rev        39158
>> language       R
>> version.string R version 2.4.0 alpha (2006-09-06 r39158)
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>


From Beyerj at students.uni-marburg.de  Sun Sep 17 14:53:37 2006
From: Beyerj at students.uni-marburg.de (J=?ISO-8859-1?B?9g==?=rg Beyer)
Date: Sun, 17 Sep 2006 14:53:37 +0200
Subject: [R-SIG-Mac]  built-in editor underlining
Message-ID: <C13311F1.1AE9%Beyerj@students.uni-marburg.de>

Hello Parlamis, 

a tip regarding syntax highlighting you may (or may not ;-) find useful:
I'm using BBEdit 7.1 to edit my R-files. Of course, as a specialized tool,
it is far superior compared with R.app's built-in editor (no insult
intended). My workflow of editing-sourcing-editing is quite comfortable --
whether you switch to an internal or an external editor window makes no
difference. 

I set the syntax coloring to Tcl, which gives a quite reasonable
highlighting of R/S code. And hopefully someone comes up with a special
language module in the future. The current version of BBEdit is 8.5, and if
you don't need all its refinements, you can use their free TextWrangler,
which has pretty much the same basic functionality.

Hope that helps
(not sure, though :-)

J?rg


On Sep 17, 2006, at 9:05 PM, Parlamis Franklin wrote:

> Thanks, Simon.  Of course I don't think you should do anything that
> would prohibit sourcing the file (and I guess most would agree).
> 
> Re: syntax coloring.  I've turned it off because, when editing the
> beginning of a long file, I would get a long delay (multiple seconds)
> after I entered an open quotes (") as the rest of the document
> changed color because all quotes were now matched differently.  Not
> sure whether this is a slow implementation of that functionality, or
> what is to done about it, but for this user at least, the delay issue
> outweighs any benefit that I could get from syntax coloring.
> 
> Franklin
> 
> On Sep 16, 2006, at 4:52 PM, Simon Urbanek wrote:
> 
>> The build-in editor doesn't store any text attribute changes as the
>> output is plain text. It does, however, allow text attribute
>> changes, because they are used e.g. for syntax highlighting.
>> Strictly speaking the bug is that you can use the <Cmd><U> command
>> at all.
>> 
>> Another approach would be to enhance the editor to support RTF
>> format (internally it actually does allow it) which would allow you
>> to use formatted text and store it. The drawback is that such a
>> text is no longer executable directly in R, so you couldn't
>> "source" it. I not quite sure what is more useful - I'm almost
>> inclined to think that banning text format changes makes more
>> sense, but I'm open to other suggestions...
>> 
>> Cheers,
>> Simon
>> 
>> On Sep 15, 2006, at 8:53 PM, Parlamis Franklin wrote:
>> 
>>> if i open a blank document in the built-in editor and enter the
>>> following text:
>>> 
>>> Help
>>> 
>>> Help
>>> 
>>> and then underline the first "Help" (by highlighting it, and using
>>> either Meta-U  or Format>Font>Underline), the underlining will show
>>> up in my current session.  but if i save the document and reopen it,
>>> the underlining will be gone.  what is more, if i then open the
>>> document in another text editor (try TextEdit), highlight the first
>>> help and try to underline it, everything in the document will be
>>> underlined, including the second "Help"
>>> 
>>> i've been using 2.4.0 alpha (about a week old) and the R.app
>>> deployment build (Version 1.17-pre (3779)) for R 2.4.x from http://
>>> cran.cnr.berkeley.edu/
>>> 
>>> franklin parlamis
>>> 
>>>> version
>>>                 _
>>> platform       powerpc-apple-darwin8.7.0
>>> arch           powerpc
>>> os             darwin8.7.0
>>> system         powerpc, darwin8.7.0
>>> status         alpha
>>> major          2
>>> minor          4.0
>>> year           2006
>>> month          09
>>> day            06
>>> svn rev        39158
>>> language       R
>>> version.string R version 2.4.0 alpha (2006-09-06 r39158)
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>>


From sunyata at uvic.ca  Sun Sep 17 16:29:52 2006
From: sunyata at uvic.ca (Graham Watt-Gremm)
Date: Sun, 17 Sep 2006 07:29:52 -0700
Subject: [R-SIG-Mac] built-in editor underlining
In-Reply-To: <C13311F1.1AE9%Beyerj@students.uni-marburg.de>
References: <C13311F1.1AE9%Beyerj@students.uni-marburg.de>
Message-ID: <2F9E1659-DCDA-483B-B385-E91490D39E22@uvic.ca>

Hi there,
I agree with J?rg's approach of using a highly capable external  
editor. For longer scripts I also found the R editor to be quite slow  
to catch up sometimes. I use jedit to manage my source files for each  
of my projects (beautifully handles syntax for all my shell scripts,  
sql, latex and R/S code, among many other languages). I also keep an  
annotated ``transcript'' of when I am working interactively, for  
which chunks of code can be passed from jedit to R. jedit also has a  
beautiful project management approach, where you can collect your  
different source files into organized sidebars, create a hyperlinked  
search result sidebar from a search across all of your source files  
in the project or directory, etc. And for those who have called it a  
memory hog, it works equally fast on my ti-12in powerbook (640 mb  
ram) and my dual G5 (4gb ram). Plus it's free and open source, like R.

cheers
Graham

On 17-Sep-06, at 5:53 AM, J?rg Beyer wrote:

> Hello Parlamis,
>
> a tip regarding syntax highlighting you may (or may not ;-) find  
> useful:
> I'm using BBEdit 7.1 to edit my R-files. Of course, as a  
> specialized tool,
> it is far superior compared with R.app's built-in editor (no insult
> intended). My workflow of editing-sourcing-editing is quite  
> comfortable --
> whether you switch to an internal or an external editor window  
> makes no
> difference.
>
> I set the syntax coloring to Tcl, which gives a quite reasonable
> highlighting of R/S code. And hopefully someone comes up with a  
> special
> language module in the future. The current version of BBEdit is  
> 8.5, and if
> you don't need all its refinements, you can use their free  
> TextWrangler,
> which has pretty much the same basic functionality.
>
> Hope that helps
> (not sure, though :-)
>
> J?rg
>
>
> On Sep 17, 2006, at 9:05 PM, Parlamis Franklin wrote:
>
>> Thanks, Simon.  Of course I don't think you should do anything that
>> would prohibit sourcing the file (and I guess most would agree).
>>
>> Re: syntax coloring.  I've turned it off because, when editing the
>> beginning of a long file, I would get a long delay (multiple seconds)
>> after I entered an open quotes (") as the rest of the document
>> changed color because all quotes were now matched differently.  Not
>> sure whether this is a slow implementation of that functionality, or
>> what is to done about it, but for this user at least, the delay issue
>> outweighs any benefit that I could get from syntax coloring.
>>
>> Franklin
>>
>> On Sep 16, 2006, at 4:52 PM, Simon Urbanek wrote:
>>
>>> The build-in editor doesn't store any text attribute changes as the
>>> output is plain text. It does, however, allow text attribute
>>> changes, because they are used e.g. for syntax highlighting.
>>> Strictly speaking the bug is that you can use the <Cmd><U> command
>>> at all.
>>>
>>> Another approach would be to enhance the editor to support RTF
>>> format (internally it actually does allow it) which would allow you
>>> to use formatted text and store it. The drawback is that such a
>>> text is no longer executable directly in R, so you couldn't
>>> "source" it. I not quite sure what is more useful - I'm almost
>>> inclined to think that banning text format changes makes more
>>> sense, but I'm open to other suggestions...
>>>
>>> Cheers,
>>> Simon
>>>
>>> On Sep 15, 2006, at 8:53 PM, Parlamis Franklin wrote:
>>>
>>>> if i open a blank document in the built-in editor and enter the
>>>> following text:
>>>>
>>>> Help
>>>>
>>>> Help
>>>>
>>>> and then underline the first "Help" (by highlighting it, and using
>>>> either Meta-U  or Format>Font>Underline), the underlining will show
>>>> up in my current session.  but if i save the document and reopen  
>>>> it,
>>>> the underlining will be gone.  what is more, if i then open the
>>>> document in another text editor (try TextEdit), highlight the first
>>>> help and try to underline it, everything in the document will be
>>>> underlined, including the second "Help"
>>>>
>>>> i've been using 2.4.0 alpha (about a week old) and the R.app
>>>> deployment build (Version 1.17-pre (3779)) for R 2.4.x from http://
>>>> cran.cnr.berkeley.edu/
>>>>
>>>> franklin parlamis
>>>>
>>>>> version
>>>>                 _
>>>> platform       powerpc-apple-darwin8.7.0
>>>> arch           powerpc
>>>> os             darwin8.7.0
>>>> system         powerpc, darwin8.7.0
>>>> status         alpha
>>>> major          2
>>>> minor          4.0
>>>> year           2006
>>>> month          09
>>>> day            06
>>>> svn rev        39158
>>>> language       R
>>>> version.string R version 2.4.0 alpha (2006-09-06 r39158)
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Sun Sep 17 16:42:35 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 17 Sep 2006 10:42:35 -0400
Subject: [R-SIG-Mac] built-in editor underlining
In-Reply-To: <C13311F1.1AE9%Beyerj@students.uni-marburg.de>
References: <C13311F1.1AE9%Beyerj@students.uni-marburg.de>
Message-ID: <17E91310-0496-40BE-923F-1BC36E49B5F3@r-project.org>

J?rg,

On Sep 17, 2006, at 8:53 AM, J?rg Beyer wrote:

> Hello Parlamis,
>
> a tip regarding syntax highlighting you may (or may not ;-) find  
> useful: I'm using BBEdit 7.1 to edit my R-files. Of course, as a  
> specialized tool, it is far superior compared with R.app's built-in  
> editor

Could you, please, elaborate more on that? I'm sure BBedit doesn't  
have argument hints, auto-completion etc. (features I like - but then  
that's why implemented them ;)), so I'm really curious what it can  
offer that R.app doesn't (I'm a bit surprised to hear such comparison  
with BBedit, because there are much better editors out there - but  
editors are always a matter of taste ;)). R.app *is* intended to be  
"a specialized tool" exactly for that purpose - working with R  
scripts. The only way we can figure out what users want is when they  
tell us (as every one has different workflow habits), so please share  
your thoughts with us. Even if the improvements won't necessarily  
make you switch, they can be valuable for other users.

Thanks,
Simon


> (no insult
> intended). My workflow of editing-sourcing-editing is quite  
> comfortable --
> whether you switch to an internal or an external editor window  
> makes no
> difference.
>
> I set the syntax coloring to Tcl, which gives a quite reasonable
> highlighting of R/S code. And hopefully someone comes up with a  
> special
> language module in the future. The current version of BBEdit is  
> 8.5, and if
> you don't need all its refinements, you can use their free  
> TextWrangler,
> which has pretty much the same basic functionality.
>
> Hope that helps
> (not sure, though :-)
>
> J?rg
>
>
> On Sep 17, 2006, at 9:05 PM, Parlamis Franklin wrote:
>
>> Thanks, Simon.  Of course I don't think you should do anything that
>> would prohibit sourcing the file (and I guess most would agree).
>>
>> Re: syntax coloring.  I've turned it off because, when editing the
>> beginning of a long file, I would get a long delay (multiple seconds)
>> after I entered an open quotes (") as the rest of the document
>> changed color because all quotes were now matched differently.  Not
>> sure whether this is a slow implementation of that functionality, or
>> what is to done about it, but for this user at least, the delay issue
>> outweighs any benefit that I could get from syntax coloring.
>>
>> Franklin
>>
>> On Sep 16, 2006, at 4:52 PM, Simon Urbanek wrote:
>>
>>> The build-in editor doesn't store any text attribute changes as the
>>> output is plain text. It does, however, allow text attribute
>>> changes, because they are used e.g. for syntax highlighting.
>>> Strictly speaking the bug is that you can use the <Cmd><U> command
>>> at all.
>>>
>>> Another approach would be to enhance the editor to support RTF
>>> format (internally it actually does allow it) which would allow you
>>> to use formatted text and store it. The drawback is that such a
>>> text is no longer executable directly in R, so you couldn't
>>> "source" it. I not quite sure what is more useful - I'm almost
>>> inclined to think that banning text format changes makes more
>>> sense, but I'm open to other suggestions...
>>>
>>> Cheers,
>>> Simon
>>>
>>> On Sep 15, 2006, at 8:53 PM, Parlamis Franklin wrote:
>>>
>>>> if i open a blank document in the built-in editor and enter the
>>>> following text:
>>>>
>>>> Help
>>>>
>>>> Help
>>>>
>>>> and then underline the first "Help" (by highlighting it, and using
>>>> either Meta-U  or Format>Font>Underline), the underlining will show
>>>> up in my current session.  but if i save the document and reopen  
>>>> it,
>>>> the underlining will be gone.  what is more, if i then open the
>>>> document in another text editor (try TextEdit), highlight the first
>>>> help and try to underline it, everything in the document will be
>>>> underlined, including the second "Help"
>>>>
>>>> i've been using 2.4.0 alpha (about a week old) and the R.app
>>>> deployment build (Version 1.17-pre (3779)) for R 2.4.x from http://
>>>> cran.cnr.berkeley.edu/
>>>>
>>>> franklin parlamis
>>>>
>>>>> version
>>>>                 _
>>>> platform       powerpc-apple-darwin8.7.0
>>>> arch           powerpc
>>>> os             darwin8.7.0
>>>> system         powerpc, darwin8.7.0
>>>> status         alpha
>>>> major          2
>>>> minor          4.0
>>>> year           2006
>>>> month          09
>>>> day            06
>>>> svn rev        39158
>>>> language       R
>>>> version.string R version 2.4.0 alpha (2006-09-06 r39158)
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Sun Sep 17 16:49:16 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 17 Sep 2006 10:49:16 -0400
Subject: [R-SIG-Mac] built-in editor underlining
In-Reply-To: <6E926DBF-1079-4C1F-AA5F-CC5FDE2B4241@mac.com>
References: <0C3B3CC1-E6E8-4C75-922C-53B6A7C38626@mac.com>
	<8B1A1148-FF02-4CB2-95D9-E144799AEB9B@r-project.org>
	<6E926DBF-1079-4C1F-AA5F-CC5FDE2B4241@mac.com>
Message-ID: <E50B09F5-CF46-4CC0-A430-6AEB7605D225@r-project.org>

Parlamis,

On Sep 17, 2006, at 3:05 AM, Parlamis Franklin wrote:

> Thanks, Simon.  Of course I don't think you should do anything that  
> would prohibit sourcing the file (and I guess most would agree).
>
> Re: syntax coloring.  I've turned it off because, when editing the  
> beginning of a long file, I would get a long delay (multiple  
> seconds) after I entered an open quotes (") as the rest of the  
> document changed color because all quotes were now matched  
> differently.

Ok, I see - this is definitely something we can work on. I tend to  
split long scripts, because they are easier to manage, so I didn't  
see that behavior. Currently R.app does full highlighting for the  
entire file each time you change something. I guess a better approach  
would be to do the immediate highlighting only for a few dozen lines  
and update it asynchronously later (or on-demand). This shouldn't be  
too hard to do, I'll see if I can implement that it in the next few  
days..

Thanks,
Simon



> Not sure whether this is a slow implementation of that  
> functionality, or what is to done about it, but for this user at  
> least, the delay issue outweighs any benefit that I could get from  
> syntax coloring.
>
> Franklin
>
> On Sep 16, 2006, at 4:52 PM, Simon Urbanek wrote:
>
>> The build-in editor doesn't store any text attribute changes as  
>> the output is plain text. It does, however, allow text attribute  
>> changes, because they are used e.g. for syntax highlighting.  
>> Strictly speaking the bug is that you can use the <Cmd><U> command  
>> at all.
>>
>> Another approach would be to enhance the editor to support RTF  
>> format (internally it actually does allow it) which would allow  
>> you to use formatted text and store it. The drawback is that such  
>> a text is no longer executable directly in R, so you couldn't  
>> "source" it. I not quite sure what is more useful - I'm almost  
>> inclined to think that banning text format changes makes more  
>> sense, but I'm open to other suggestions...
>>
>> Cheers,
>> Simon
>>
>> On Sep 15, 2006, at 8:53 PM, Parlamis Franklin wrote:
>>
>>> if i open a blank document in the built-in editor and enter the
>>> following text:
>>>
>>> Help
>>>
>>> Help
>>>
>>> and then underline the first "Help" (by highlighting it, and using
>>> either Meta-U  or Format>Font>Underline), the underlining will show
>>> up in my current session.  but if i save the document and reopen it,
>>> the underlining will be gone.  what is more, if i then open the
>>> document in another text editor (try TextEdit), highlight the first
>>> help and try to underline it, everything in the document will be
>>> underlined, including the second "Help"
>>>
>>> i've been using 2.4.0 alpha (about a week old) and the R.app
>>> deployment build (Version 1.17-pre (3779)) for R 2.4.x from http://
>>> cran.cnr.berkeley.edu/
>>>
>>> franklin parlamis
>>>
>>>> version
>>>                 _
>>> platform       powerpc-apple-darwin8.7.0
>>> arch           powerpc
>>> os             darwin8.7.0
>>> system         powerpc, darwin8.7.0
>>> status         alpha
>>> major          2
>>> minor          4.0
>>> year           2006
>>> month          09
>>> day            06
>>> svn rev        39158
>>> language       R
>>> version.string R version 2.4.0 alpha (2006-09-06 r39158)
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>
>


From Beyerj at students.uni-marburg.de  Sun Sep 17 20:28:58 2006
From: Beyerj at students.uni-marburg.de (J=?ISO-8859-1?B?9g==?=rg Beyer)
Date: Sun, 17 Sep 2006 20:28:58 +0200
Subject: [R-SIG-Mac]  built-in editor underlining
Message-ID: <C133608A.1B02%Beyerj@students.uni-marburg.de>

Dear Simon, 

allow me to drop parts of the thread from this message, it's probably easier
to read. 
Your reply lets me fear I stepped onto your feet, which was not my
intention, as I already said. And as you already said, much is a question of
taste, and therefore it's quite difficult to "discuss" this or that point,
but sharing some thoughts is ok, and curiosity is a real gift ;-)

> Could you, please, elaborate more on that? I'm sure BBedit doesn't
> have argument hints, auto-completion etc. (features I like - but then
> that's why implemented them ;)), so I'm really curious what it can

Did I refer to auto-completion? I can't find that in my original message.


> offer that R.app doesn't (I'm a bit surprised to hear such comparison
> with BBedit, because there are much better editors out there - but
> editors are always a matter of taste ;)).  ...

Did I compare BBEdit with R.app? No...
In fact, I compared it with certain aspects of R.app's built-in editor.
Apologies if I'm the only one who sees the difference.

To be more precise, I referred to syntax highlighting between R.app's
built-in and other editors in the first place. So, "better" relates to the
context of my message. I didn't mention or mean "better in code completion"
or "best of all text editors".
But you are right, I could have been more specific which other aspects I
find "more specialized" beyond syntax highlighting. I tend to use various
tools at the same time, if one can't do it all. I use R.app and BBEdit in
parallel, and that's a quite powerful combination. In my opinion.

Which means that I edit my R code with BBEdit, because it offers
-- speedy syntax highlighting
-- powerful RegEx search and replace, per file/folder/project
-- easier navigation through the code (in my opinion; I tend to use
   relatively large files, and have more than only a few open -- just
   another question of taste)
-- productive automation features (well, that may sound a bit off-topic, but
   is part of my personal coding and code organizing style ... again,
   only IMHO) 
-- a working clipping system (which could be better ;)
-- direct access to UNIX scripts and "filters", which I make heavy use of to
   "reengineer" or "refactor" code, or for the simple reoccurring things
   that can make life easy.
-- syntax folding, which is said to be a nice feature, but I don't have that
   new version, and so I don't have an own opinion.

That's rather specialized, isn't it?
... while BBEdit on the other hand doesn't have code completion, of course
(one of the most criticized aspects). But, you know, I don't profit that
much from code completion at the moment. As a relative beginner, I prefer to
have the help pages open in R.app and look up what I need. Gives me a better
illusion of control ;-) Hopefully that will change, and then in turn may (or
may not) change my working style.

You can, of course, replace the product name BBEdit with any of the
alternatives YOU prefer, I'm not that picky.

A bit philosophy comes in, too. Why should I expect any developer to
reinvent certain specialized functionalities, when other tools already offer
them, and at the same time integrate seamlessly with R.app? Isn't that just
what we want? To encourage different working habits, and profit from already
existing tools? I'm a fan of collaboration, and that applies to software,
too. 
I don't like to discuss what "specialized" means, in absolute terms.
Specialized is what one needs to get his/her work done. Easily. Faithfully.
It's just that simple.

So can we meet in the middle? R.app is more than its editor, and it is
rather good at what it does, and makes our life easier (in my opinion), I
use it heavily; while other *editors* may have some advantages and may be
used to *assist* R.app's built-in tools. We're dealing with code/simple
text, not any proprietary (read: obscure) data format, we're free to decide
as often as we like.

Regarding some improvements in R.app in general -- you certainly remember
that we had some short correspondence, some month ago. Good things take
time. 

As always: just my two cents.
Thanks for your interest.

J?rg

P.S.: And some day I will certainly find out how to make my messages appear
in the thread, not elsewhere ... Sorry ;)
(Curious if it works *this* time)


> ... R.app *is* intended to be
> "a specialized tool" exactly for that purpose - working with R
> scripts. The only way we can figure out what users want is when they
> tell us (as every one has different workflow habits), so please share
> your thoughts with us. Even if the improvements won't necessarily
> make you switch, they can be valuable for other users.
> 
> Thanks,
> Simon


From jo.irisson at gmail.com  Mon Sep 18 15:28:52 2006
From: jo.irisson at gmail.com (jiho)
Date: Mon, 18 Sep 2006 15:28:52 +0200
Subject: [R-SIG-Mac] built-in editor underlining
In-Reply-To: <8B1A1148-FF02-4CB2-95D9-E144799AEB9B@r-project.org>
References: <0C3B3CC1-E6E8-4C75-922C-53B6A7C38626@mac.com>
	<8B1A1148-FF02-4CB2-95D9-E144799AEB9B@r-project.org>
Message-ID: <6A7884BC-8CEB-4B89-9B42-A0DAF93670D9@gmail.com>

Hello all,

I am adding some thoughts to this thread as I've been wanting to  
write about these matters for a while. First of all: I mostly use  
R.app and R.app built in editor on mac OS X 10.4 and find my workflow  
very productive this way so thank you for this great interface (which  
surpasses any of it's windows of linux counterparts IMHO).  
Nevertheless, things can always be better :-)

On 17 Sep 2006, at 04:52 , Simon Urbanek wrote:
> The build-in editor doesn't store any text attribute changes as the
> output is plain text. It does, however, allow text attribute changes,
> because they are used e.g. for syntax highlighting. Strictly speaking
> the bug is that you can use the <Cmd><U> command at all.
>
> Another approach would be to enhance the editor to support RTF format
> (internally it actually does allow it) which would allow you to use
> formatted text and store it. The drawback is that such a text is no
> longer executable directly in R, so you couldn't "source" it. I not
> quite sure what is more useful - I'm almost inclined to think that
> banning text format changes makes more sense, but I'm open to other
> suggestions...

everything in R (R files but console output also) being only text, I  
think it should be treated as such: i.e. no text attributes changes  
_by the user_ should be allowed.
In fact I personally find it annoying to see fonts faces and sizes  
conserved when I copy-paste code from a web page to the editor for  
example. Another "buggy" behavior: hitting CMD+I in R console by  
mistake, after a long time of work, causes a very long delay to  
format all console text in italics and the same delay is necessary to  
put everything back as it was in the first place.

IMHO a "better" behavior would be:
- to remove Format menu or restrict it to "Bigger" and "Smaller"  
given that this changes the size of all the text in the focused  
window (i.e. it is not possible to select text and make only this  
text bigger: this has no meaning for a text file)
- to set font and font size for console and editor in their  
respective tabs (syntax and console), for those (like me) who do not  
like system defaults

In the long run, if people absolutely want to have italics or  
underline text, more advanced syntax highlighting where fonts, font  
decorations, colors, etc. can be changed for each code category, can  
be a solution. (cf. as Xcode advanced syntax highlighting)


> From: Simon Urbanek <simon.urbanek at r-project.org>
> On Sep 17, 2006, at 3:05 AM, Parlamis Franklin wrote:
>> Re: syntax coloring.  I've turned it off because, when editing the
>> beginning of a long file, I would get a long delay (multiple
>> seconds) after I entered an open quotes (") as the rest of the
>> document changed color because all quotes were now matched
>> differently.
>
> Ok, I see - this is definitely something we can work on. I tend to
> split long scripts, because they are easier to manage, so I didn't
> see that behavior. Currently R.app does full highlighting for the
> entire file each time you change something. I guess a better approach
> would be to do the immediate highlighting only for a few dozen lines
> and update it asynchronously later (or on-demand). This shouldn't be
> too hard to do, I'll see if I can implement that it in the next few
> days..

I remarked this also. The solution many editors adopt is to colour  
until the end of the line only. For example in smultron, there is a  
check box in the preferences which says:
"Only colour till the end of the line if it can't find closing tag"

> From: J?rg Beyer <Beyerj at students.uni-marburg.de>
> a tip regarding syntax highlighting you may (or may not ;-) find  
> useful:
> I'm using BBEdit 7.1 to edit my R-files. Of course, as a  
> specialized tool,
> it is far superior compared with R.app's built-in editor (no insult
> intended). My workflow of editing-sourcing-editing is quite  
> comfortable --
> whether you switch to an internal or an external editor window  
> makes no
> difference.

One thing which make using R.app built in editor very comfortable is  
the ability to send code to R using CMD+E and CMD+ENTER. Do you  
emulate these functions in BBEdit? If yes how? I would really like to  
be able to use an external editor also, just for consistency between  
my different projects. Smultron is my editor of choice and it has R  
syntax highlighting but I don't know how to emulate these functions  
in it.


Once again, I am really happy with R.app as it is now. These are some  
features which could make me (and hopefully other people) even happier:
- multi-document editor window (with tabs or a drawer with documents  
names or...)
- quicker console output. I write this here because it may be related  
to syntax highlighting. when using R from the command line I never  
see any delay between console output (from commands such as cat or  
print) and the execution of R code while delay can be introduced when  
using R.app
- all-in-one-window interface (this has a name in GUI design which I  
cannot remember). if the editor is made multi-document capable,  
having one window with console on the left and editor + help on the  
right would be awesome IMHO. this would avoid having to dig through  
editor windows to find the help file you're looking for.

and last addition (but not really related to all this): if text  
inside help windows could be searchable that would greatly help too.

thanks again.

cheers,

JiHO
---
http://jo.irisson.free.fr/


From simon.urbanek at r-project.org  Mon Sep 18 16:31:03 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 18 Sep 2006 10:31:03 -0400
Subject: [R-SIG-Mac] built-in editor underlining
In-Reply-To: <C133608A.1B02%Beyerj@students.uni-marburg.de>
References: <C133608A.1B02%Beyerj@students.uni-marburg.de>
Message-ID: <C3042E4F-2D91-4AED-B2C1-3AE3E9B720A5@r-project.org>

J?rg,

On Sep 17, 2006, at 2:28 PM, J?rg Beyer wrote:

> Your reply lets me fear I stepped onto your feet, which was not my  
> intention, as I already said.

Not at all - at least to the feet you think ;) - simply I really want  
people to tell us when they think - it's very frustrating when people  
don't tell us when they really think.


> Which means that I edit my R code with BBEdit, because it offers
> -- speedy syntax highlighting
> -- powerful RegEx search and replace, per file/folder/project

This sure sounds like a worthwhile feature

> -- easier navigation through the code (in my opinion; I tend to use  
> relatively large files, and have more than only a few open -- just  
> another question of taste)

Do you have things like "jump to the function definition of the  
function that the cursor is it" is mind, or just shortcuts between  
sections? Again, this could be useful

> -- productive automation features (well, that may sound a bit off- 
> topic, but is part of my personal coding and code organizing  
> style ... again,  only IMHO) 

I'm not quite sure what automation you have in mind... I guess you  
don't mean AT ;)

> -- a working clipping system (which could be better ;)

I'm losing you here - clipping?

> -- direct access to UNIX scripts and "filters", which I make heavy  
> use of to
>    "reengineer" or "refactor" code, or for the simple reoccurring  
> things
>    that can make life easy.

Some thing like "run this file/select through that perl script"?  
Again, easily implemented and it sounds useful.

> -- syntax folding, which is said to be a nice feature, but I don't  
> have that
>    new version, and so I don't have an own opinion.
>
> That's rather specialized, isn't it?

Not really. Sure everyone has his own coding style, so why not  
provide the versatility.

> ... while BBEdit on the other hand doesn't have code completion, of  
> course (one of the most criticized aspects). But, you know, I don't  
> profit that much from code completion at the moment. As a relative  
> beginner, I prefer to have the help pages open in R.app and look up  
> what I need. Gives me a better illusion of control ;-) Hopefully  
> that will change, and then in turn may (or may not) change my  
> working style.
>

Admittedly I couldn't live especially without argument hints as I got  
so used to it. Still, it's interesting, because I would classify many  
of the features you list as "power-features", definitely not for a  
beginner ;).

>
> A bit philosophy comes in, too. Why should I expect any developer to
> reinvent certain specialized functionalities, when other tools  
> already offer
> them, and at the same time integrate seamlessly with R.app? Isn't  
> that just
> what we want?

Depends. If you found your perfect editor and it integrates  
seamlessly, sure there' is no point in using the integrated one.  
However, that doesn't mean that we should keep it as plain and basic  
as possible. Especially with features that leverage R itself it can  
be more useful if it has additional features - and this is harder for  
other editors to do, so we should take advantage of it. We have  
started in that direction with JGR and it turned out to be a really  
good idea, especially for students and beginners. But then, why  
shouldn't power-users benefit, too?

Cheers,
Simon


From simon.urbanek at r-project.org  Mon Sep 18 16:49:20 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 18 Sep 2006 10:49:20 -0400
Subject: [R-SIG-Mac] built-in editor underlining
In-Reply-To: <6A7884BC-8CEB-4B89-9B42-A0DAF93670D9@gmail.com>
References: <0C3B3CC1-E6E8-4C75-922C-53B6A7C38626@mac.com>
	<8B1A1148-FF02-4CB2-95D9-E144799AEB9B@r-project.org>
	<6A7884BC-8CEB-4B89-9B42-A0DAF93670D9@gmail.com>
Message-ID: <3201249A-271C-4F2B-ACFA-54956454779D@r-project.org>

JiHO,

thanks for your comments.

On Sep 18, 2006, at 9:28 AM, jiho wrote:

> everything in R (R files but console output also) being only text, I
> think it should be treated as such: i.e. no text attributes changes
> _by the user_ should be allowed.

Ok, fair enough.


> I remarked this also. The solution many editors adopt is to colour  
> until the end of the line only. For example in smultron, there is  
> a  check box in the preferences which says:
> "Only colour till the end of the line if it can't find closing tag"
>

In R multi-line strings are rather rare, so it may be a way to go...

> emulate these functions in BBEdit? If yes how? I would really like  
> to be able to use an external editor also, just for consistency  
> between my different projects. Smultron is my editor of choice and  
> it has R syntax highlighting but I don't know how to emulate these  
> functions in it.
>

AFAIR you can use AppleScript to do it from Smultron (or any edtior)  
- you may want to look in the FAQ and/or dig in the archives for it...


> Once again, I am really happy with R.app as it is now. These are some
> features which could make me (and hopefully other people) even  
> happier:
> - multi-document editor window (with tabs or a drawer with  
> documents names or...)

We've been toying with this, but it's non-trivial to implement. Maybe  
I shoudl revive that code ...


> - quicker console output. I write this here because it may be  
> related to syntax highlighting. when using R from the command line  
> I never see any delay between console output (from commands such as  
> cat or print) and the execution of R code while delay can be  
> introduced when using R.app

R.app uses caching, so if R doesn't flush the console explicitly, it  
can be delayed. This makes the console much faster, because R writes  
things in very small chunks. However, you can explicitly tell the  
console to flush immediately with flush.console().


> - all-in-one-window interface (this has a name in GUI design which  
> I cannot remember). if the editor is made multi-document capable,  
> having one window with console on the left and editor + help on the  
> right would be awesome IMHO.

Ok, but then we're getting dangerously close to Eclipse ;).


> this would avoid having to dig through editor windows to find the  
> help file you're looking for.
>

.. when you open help from an editor window, it will be attached to  
that window, so that should work already.


> and last addition (but not really related to all this): if text  
> inside help windows could be searchable that would greatly help too.
>

That's definitely a good idea.

Thanks,
Simon


From goedman at mac.com  Mon Sep 18 17:04:58 2006
From: goedman at mac.com (Rob J Goedman)
Date: Mon, 18 Sep 2006 08:04:58 -0700
Subject: [R-SIG-Mac] built-in editor underlining
In-Reply-To: <6A7884BC-8CEB-4B89-9B42-A0DAF93670D9@gmail.com>
References: <0C3B3CC1-E6E8-4C75-922C-53B6A7C38626@mac.com>
	<8B1A1148-FF02-4CB2-95D9-E144799AEB9B@r-project.org>
	<6A7884BC-8CEB-4B89-9B42-A0DAF93670D9@gmail.com>
Message-ID: <3567F0FB-26D9-42EF-80C6-FB1BB0FEF13D@mac.com>

Hi JiHO,

In general there are 3 ways of achieving this 1) part of R.app, as  
the current internal editor, 2) part of an existing editor that  
supports this kind of functionality like BBEdit/TextWrangler and  
TextMate, or 3) editors that do not support executing AppleScript or  
Perl/Bash/Python directly.

For those editors, e.g. Smultron and SubEthaEdit, I have used a  
product like iKey, which allows you to define a global 'hot' key that  
activates AppleScript for you. In those cases it is not good to use  
Command-E for source file as this is used too often. I tend to use  
F12 and Command-Return for source
file and execute selection.

I rarely use the internal editor for the very few cases where R.app  
still crashes (at the moment I see that only with certain Lattice  
graphics when I make them full screen). Unfortunately you then loose  
the function prompt (which I still use on the R Console, but is more  
typing). On the other hand, you do get project file grouping,  
multiple syntax definitions and a recent example Byron Ellis gave for  
TextMate, the ability to build a package from within a project. I  
think that kind of extensibility is extremely useful.

Rob


On Sep 18, 2006, at 6:28 AM, jiho wrote:

> One thing which make using R.app built in editor very comfortable is
> the ability to send code to R using CMD+E and CMD+ENTER. Do you
> emulate these functions in BBEdit? If yes how? I would really like to
> be able to use an external editor also, just for consistency between
> my different projects. Smultron is my editor of choice and it has R
> syntax highlighting but I don't know how to emulate these functions
> in it.


On Sep 18, 2006, at 7:31 AM, Simon Urbanek wrote:

> Depends. If you found your perfect editor and it integrates
> seamlessly, sure there' is no point in using the integrated one.
> However, that doesn't mean that we should keep it as plain and basic
> as possible. Especially with features that leverage R itself it can
> be more useful if it has additional features - and this is harder for
> other editors to do, so we should take advantage of it.


From jo.irisson at gmail.com  Mon Sep 18 17:27:41 2006
From: jo.irisson at gmail.com (jiho)
Date: Mon, 18 Sep 2006 17:27:41 +0200
Subject: [R-SIG-Mac] built-in editor underlining
In-Reply-To: <3201249A-271C-4F2B-ACFA-54956454779D@r-project.org>
References: <0C3B3CC1-E6E8-4C75-922C-53B6A7C38626@mac.com>
	<8B1A1148-FF02-4CB2-95D9-E144799AEB9B@r-project.org>
	<6A7884BC-8CEB-4B89-9B42-A0DAF93670D9@gmail.com>
	<3201249A-271C-4F2B-ACFA-54956454779D@r-project.org>
Message-ID: <F5DC808C-27B2-4569-88F8-9873C31603A1@gmail.com>


On 18 Sep 2006, at 16:49 , Simon Urbanek wrote:
>> emulate these functions in BBEdit? If yes how? I would really like  
>> to be able to use an external editor also, just for consistency  
>> between my different projects. Smultron is my editor of choice and  
>> it has R syntax highlighting but I don't know how to emulate these  
>> functions in it.
>
> AFAIR you can use AppleScript to do it from Smultron (or any  
> edtior) - you may want to look in the FAQ and/or dig in the  
> archives for it...

> From: Rob J Goedman <goedman at mac.com>
> For those editors, e.g. Smultron and SubEthaEdit, I have used a  
> product like iKey, which allows you to define a global 'hot' key  
> that activates AppleScript for you. In those cases it is not good  
> to use Command-E for source file as this is used too often. I tend  
> to use F12 and Command-Return for source
> file and execute selection.
> [...]

> Rob

Thank you very much for your answers. The FAQ just mentions that  
"Using AppleScript it is easy to implement Command-E and Command- 
Return like functionality." I searched a bit around (Google, hoping  
that it indexes the archives of the mailing list also) for  
AppleScripts that would do this, because I don't think I am capable  
of writing one, but to no avail. Does anybody have such an  
AppleScript available? Would it be possible to add it directly to the  
FAQ?
(NB: because the archives are not searchable I did not really dug  
through all of it. If you remember approximately the date of a thread  
about this just give me the date)

Cheers,

JiHO
---
http://jo.irisson.free.fr/


From macq at llnl.gov  Mon Sep 18 19:50:17 2006
From: macq at llnl.gov (Don MacQueen)
Date: Mon, 18 Sep 2006 10:50:17 -0700
Subject: [R-SIG-Mac] built-in editor underlining
In-Reply-To: <3201249A-271C-4F2B-ACFA-54956454779D@r-project.org>
References: <0C3B3CC1-E6E8-4C75-922C-53B6A7C38626@mac.com>
	<8B1A1148-FF02-4CB2-95D9-E144799AEB9B@r-project.org>
	<6A7884BC-8CEB-4B89-9B42-A0DAF93670D9@gmail.com>
	<3201249A-271C-4F2B-ACFA-54956454779D@r-project.org>
Message-ID: <p06230905c1348bdfafd4@[128.115.153.6]>

Simon,

Just one comment:

At 10:49 AM -0400 9/18/06, Simon Urbanek wrote:
>JiHO,
>
>thanks for your comments.
>
>On Sep 18, 2006, at 9:28 AM, jiho wrote:
>
>>  everything in R (R files but console output also) being only text, I
>>  think it should be treated as such: i.e. no text attributes changes
>>  _by the user_ should be allowed.
>
>Ok, fair enough.
>
>
>>  I remarked this also. The solution many editors adopt is to colour 
>>  until the end of the line only. For example in smultron, there is 
>>  a  check box in the preferences which says:
>>  "Only colour till the end of the line if it can't find closing tag"
>>
>
>In R multi-line strings are rather rare, so it may be a way to go...

I use multi-line strings frequently in specifying SQL statements to 
be delivered by the DBI package to an external database (i.e., Oracle 
or MySQL). 10 lines is common, 20 or 30 not unknown. Other than that, 
I definitely avoid multi-line strings.

[-- remainder omitted --]

-Don
-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA


From Beyerj at students.uni-marburg.de  Mon Sep 18 20:32:49 2006
From: Beyerj at students.uni-marburg.de (J=?ISO-8859-1?B?9g==?=rg Beyer)
Date: Mon, 18 Sep 2006 20:32:49 +0200
Subject: [R-SIG-Mac] built-in editor underlining
In-Reply-To: <C3042E4F-2D91-4AED-B2C1-3AE3E9B720A5@r-project.org>
Message-ID: <C134B2F1.1B51%Beyerj@students.uni-marburg.de>

Simon, 

this is getting a more and more interesting thread, isn't it?


Am 18.09.2006 16:31 Uhr schrieb Simon Urbanek
(<simon.urbanek at r-project.org>):

> J?rg,
> 
> On Sep 17, 2006, at 2:28 PM, J?rg Beyer wrote:
> 
>> Your reply lets me fear I stepped onto your feet, which was not my
>> intention, as I already said.
> 
> Not at all - at least to the feet you think ;) - simply I really want
> people to tell us when they think - it's very frustrating when people
> don't tell us when they really think.

Well, this may be partly because people think that you already have enough
work to do...


>> Which means that I edit my R code with BBEdit, because it offers
>> -- speedy syntax highlighting
>> -- powerful RegEx search and replace, per file/folder/project
> 
> This sure sounds like a worthwhile feature

You may consider to try the demo, as a source of inspiration (?).
Try to have a look at these huge text fields BBEdit's/TextWrangler's search
& replace-dialog offers, incl. RegEx highlighting. Did you ever try to enter
a complex RegEx in one of that simple one line search/replace fields?
Horrible. 


>> -- easier navigation through the code (in my opinion; I tend to use
>> relatively large files, and have more than only a few open -- just
>> another question of taste)
> 
> Do you have things like "jump to the function definition of the
> function that the cursor is it" is mind, or just shortcuts between
> sections? Again, this could be useful

Both, and more. Jumping points/marks are useful sometimes. (BTW, BBEdit has
no built-in R-syntax support in the version I use, so it has no "jump to
function xy/next function/etc.", but that can be added with AppleScript. But
then, you still don't have a function popup or something similar for R-code
in v7, but with v8 or v8.5 this should work, I guess).
But back to your question. I can have a windows palette open (since v8 it's
a drawer, I think) and navigate with command-# to window 0-9, or pick the
file I want with a click on its entry. I prefer this to diving into a menu.
Bulk save, bulk close, too.
I can use window splitting -- I'm not the greatest fan of this feature, but
sometimes it helps to be a bit closer to the "big picture". Navigation in
this respect means, having different parts of the relevant code right in
front of you. 
I already mentioned RegEx searching through folders, which enhances
navigation, too, of course. I can pick a document in a search result list.
(Well, that should be enough, I'll stop before I'm getting too verbose
again.) 


>> -- productive automation features (well, that may sound a bit off-
>> topic, but is part of my personal coding and code organizing
>> style ... again,  only IMHO)
> 
> I'm not quite sure what automation you have in mind... I guess you
> don't mean AT ;)

What exactly is AT? Sorry for the dumb question.
Automation is ... well, a lot. Doing [bulk] search-replaces with AppleScript
and/or Automator and/or Perl filters, directly on a whole set of files, or
on selected text. Programmatically restricting such actions to specific
files in specific folders. Setting up new packages or projects, including
customized architectures (read: file- & folder hierarchies).  Controlling
and setting encodings, and syntax highlighting (Tcl for R-syntax; XML, ...).
Looping through open R-scripts and pasting specific code templates; doing
checks similar, but somewhat different to what 'R CMD check' does ... There
are dozens of others possibilities, most of them more complex. AppleScript
isn't that bad, and BBEdit has extensive AS support. AppleScript stands for
application automation *and integration*, and that's the most interesting
part for me. Another Mac user pointed me to sending selected code blocks
from BBEdit to R.app via AppleScript, and let the latter execute that code.
That's great, and somewhat simplifies the cycle of edit-source-edit (e.g.,
no navigation in R.app's command history needed, selectively executing code
snippets, shorter execution times).
You could argue that some of this is a weird way to work (sometimes that's
what *I* think LOL) -- for me it makes sense, and saves time and brain
cells. Or you could argue that there are other ways to accomplish the same.
Yes, without a doubt, but I like it this way. But I'm open to any
improvement, I fear I'm an ecclectic... ;)


>> -- a working clipping system (which could be better ;)
> 
> I'm losing you here - clipping?

Instant text, snippets. "Glossary" in the old version, "Clippings" in the
new. Common German term is "Textbausteine".


>> -- direct access to UNIX scripts and "filters", which I make heavy
>> use of to
>>    "reengineer" or "refactor" code, or for the simple reoccurring
>> things
>>    that can make life easy.
> 
> Some thing like "run this file/select through that perl script"?
> Again, easily implemented and it sounds useful.

It is, absolutely. And BBEdit has a palette for this kind of stuff, too.
Configurable in extenso, script files to feed it are stored in "Application
Support", it can have nested subsections, it's Alias-aware, you can assign
keyboard shortcuts to single scripts, etc.
Sorry that I said that "palette"-word again -- I know, not everyone is a fan
of palettes. For me, often used actions are just a click away, and that's
why I like them in BBEdit.
BTW, what about a configurable palette for R-scripts in R-app? Logic: Set up
your palette (project-wise changing, or for the rest of your days), and
execute your R-scripts with a click. A palette for the command history would
be VERY useful, too. (You see, the horror starts as soon as you ask people
to be creative ;-) 


>> -- syntax folding, which is said to be a nice feature, but I don't
>> have that
>>    new version, and so I don't have an own opinion.
>> 
>> That's rather specialized, isn't it?
> 
> Not really. Sure everyone has his own coding style, so why not
> provide the versatility.

Pleased to hear, though I fear it's a LOT of work.


>> ... while BBEdit on the other hand doesn't have code completion, of
>> course (one of the most criticized aspects). But, you know, I don't
>> profit that much from code completion at the moment. As a relative
>> beginner, I prefer to have the help pages open in R.app and look up
>> what I need. Gives me a better illusion of control ;-) Hopefully
>> that will change, and then in turn may (or may not) change my
>> working style.
>> 
> 
> Admittedly I couldn't live especially without argument hints as I got
> so used to it. Still, it's interesting, because I would classify many
> of the features you list as "power-features", definitely not for a
> beginner ;).

A question of feeling, or self-assessment?
No, seriously, I'm just beginning to learn R and figure out how things work
-- that's the beginner's part. But I know (more or less) what I want to
achieve, I have some experience with Perl and AppleScript, and SQL, a bit
XML/XSLT, and of course an elaborated personal style of working. Take it
with a grain of salt -- my skills are only half-cooked, I'm not a trained
programmer. 
But I made an interesting experience, repeatedly during the years: I try to
use what a program offers. If it has power features, they are there for a
reason, and I try to find out, in which respect this or that could be useful
for my own work, and adopt what I need. Step by step. Power features can
make beginners become power users, if they are available. Makes sense?


>> A bit philosophy comes in, too. Why should I expect any developer to
>> reinvent certain specialized functionalities, when other tools
>> already offer
>> them, and at the same time integrate seamlessly with R.app? Isn't
>> that just
>> what we want?
> 
> Depends. If you found your perfect editor and it integrates
> seamlessly, sure there' is no point in using the integrated one.
> However, that doesn't mean that we should keep it as plain and basic
> as possible. Especially with features that leverage R itself it can
> be more useful if it has additional features - and this is harder for
> other editors to do, so we should take advantage of it. We have
> started in that direction with JGR and it turned out to be a really
> good idea, especially for students and beginners. But then, why
> shouldn't power-users benefit, too?

That's a great attitude, Simon, respect.
The point is, I'm simply looking for the tools to get my work done. If I
find that BBEdit-or-whichever-app falls short, I stop to use it and switch
to the better fitting alternative.

Okay, enough for now. I'm sure that many people here are glad to have R and
R.app for OS X, and will certainly advocate and advertise both whenever they
can. We're here because we *need* this software, and we appreciate your
efforts. 

Sorry for the horrible English. I tend to call it "experimental", from time
to time ;) 

Cheers, 
J?rg


> Cheers,
> Simon
> 
>


From fparlamis at mac.com  Mon Sep 18 22:46:19 2006
From: fparlamis at mac.com (Parlamis Franklin)
Date: Mon, 18 Sep 2006 10:46:19 -1000
Subject: [R-SIG-Mac] R.app editor - Editor Function List
Message-ID: <EA207665-BF9E-4764-979F-841F4711C948@mac.com>

Hi Simon,

	Since we've got some momentum on the R.app discussions, I figured  
I'd throw this in the fray.

	First, though, let me say that I quite like R.app.  I've tried ESS  
mode in Aquamacs EMacs, but (arriving late to the UNIX party) just  
haven't been up to the task of learning all my <Alt>-this and <Meta>- 
thats.  For those who are "into" Macs qua Macs, I think a Cocoa-based  
GUI is a great idea that should meet with increasing use.

	The Editor Function List (EFL) should be made "S4-aware."   The EFL  
only displays entries for validity methods defined in 'setClass'  
calls (and then it only displays the word "validity" in the drop-down  
list (many, many times if many validity methods are defined)).  It  
also doesn't display any information from 'setMethod' and 'setAs'  
calls, which are the primary mechanism for defining functions (the  
latter, coercion functions) in the S4 system.  Even though S4 is  
still being developed, I don't imagine that 'setClass', 'setMethod',  
'setGeneric', 'setAs' and 'setValidity' syntax will be changing, so I  
don't think it would be premature to have the EFL recognize these.

	I am guessing that the EFL is looking for syntax of the form '[name]  
= function(...)' or '[name] <- function(...)'.  I would be happy to  
assist you by listing the new syntax patterns it should look for to  
capture S4 function assignments.  It might be very helpful to have  
methods indexed in the drop-down list by generic and signature.

Franklin


From john.maindonald at anu.edu.au  Tue Sep 19 00:09:43 2006
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Tue, 19 Sep 2006 08:09:43 +1000
Subject: [R-SIG-Mac] built-in editor underlining
In-Reply-To: <C3042E4F-2D91-4AED-B2C1-3AE3E9B720A5@r-project.org>
References: <C133608A.1B02%Beyerj@students.uni-marburg.de>
	<C3042E4F-2D91-4AED-B2C1-3AE3E9B720A5@r-project.org>
Message-ID: <918583D8-6D4E-4B19-ADEB-5E01B631A985@anu.edu.au>

I mostly use emacs and ESS, unless I want to install
packages.  I would use R.app for teaching, but
setting & changing the font size proved too much of
a challenge.  Especially for occasional users of R.app
such as myself, or for novice users, documentation of
such basic (for some users) features as control of font
size, at least to the extent of noting quirks, is more
important than an extensive range of features.

Three further comments:
1) There is virtue, where it is readily doable, in
providing the same range of features, with similar
mechanisms for setting options, as in the Windows
GUI.  This is not because the Windows interface is
an ideal (though it does seem to me commendably
simple and transparent), but because it reduces
surprises for those who move between the two
interfaces.  Of course if it can be done better, as is
the case for managing & installing packages, so
much the better.  One wants good surprises!

2) There is surely virtue in developing an R interface
and an associated editor along parallel tracks, as is
the case for Tinn-R on Windows.  Tinn-R has some
very nice features, but I find it overly feature-rich.  It
seems to me worth looking at for comparison.
Tinn-R's richness of features will become less of a
problem as its features come to be better documented
and users gain better control over what icons appear.

3) It would be useful to add to the R for Mac FAQ,
or place somewhere else that is suitable, a note on
available editor interfaces under OS X.  Perhaps
there is such information somewhere?

I am most impressed with the system you have set
up for testing and for keeping builds up to date.

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.


On 19 Sep 2006, at 12:31 AM, Simon Urbanek wrote:

> J?rg,
>
> On Sep 17, 2006, at 2:28 PM, J?rg Beyer wrote:
>
>> Your reply lets me fear I stepped onto your feet, which was not my
>> intention, as I already said.
>
> Not at all - at least to the feet you think ;) - simply I really want
> people to tell us when they think - it's very frustrating when people
> don't tell us when they really think.
>
>
>> Which means that I edit my R code with BBEdit, because it offers
>> -- speedy syntax highlighting
>> -- powerful RegEx search and replace, per file/folder/project
>
> This sure sounds like a worthwhile feature
>
>> -- easier navigation through the code (in my opinion; I tend to  
>> use  relatively large files, and have more than only a few open --  
>> just
>> another question of taste)
>
> Do you have things like "jump to the function definition of the
> function that the cursor is it" is mind, or just shortcuts between
> sections? Again, this could be useful
>
>> -- productive automation features (well, that may sound a bit off-  
>> topic, but is part of my personal coding and code organizing
>> style ... again,  only IMHO)
>
> I'm not quite sure what automation you have in mind... I guess you
> don't mean AT ;)
>
>> -- a working clipping system (which could be better ;)
>
> I'm losing you here - clipping?
>
>> -- direct access to UNIX scripts and "filters", which I make  
>> heavy  use of to
>>    "reengineer" or "refactor" code, or for the simple reoccurring
>> things
>>    that can make life easy.
>
> Some thing like "run this file/select through that perl script"?
> Again, easily implemented and it sounds useful.
>
>> -- syntax folding, which is said to be a nice feature, but I  
>> don't  have that
>>    new version, and so I don't have an own opinion.
>>
>> That's rather specialized, isn't it?
>
> Not really. Sure everyone has his own coding style, so why not
> provide the versatility.
>
>> ... while BBEdit on the other hand doesn't have code completion, of
>> course (one of the most criticized aspects). But, you know, I don't
>> profit that much from code completion at the moment. As a relative
>> beginner, I prefer to have the help pages open in R.app and look up
>> what I need. Gives me a better illusion of control ;-) Hopefully
>> that will change, and then in turn may (or may not) change my
>> working style.
>>
>
> Admittedly I couldn't live especially without argument hints as I got
> so used to it. Still, it's interesting, because I would classify many
> of the features you list as "power-features", definitely not for a
> beginner ;).
>
>>
>> A bit philosophy comes in, too. Why should I expect any developer to
>> reinvent certain specialized functionalities, when other tools
>> already offer
>> them, and at the same time integrate seamlessly with R.app? Isn't
>> that just
>> what we want?
>
> Depends. If you found your perfect editor and it integrates
> seamlessly, sure there' is no point in using the integrated one.
> However, that doesn't mean that we should keep it as plain and basic
> as possible. Especially with features that leverage R itself it can
> be more useful if it has additional features - and this is harder for
> other editors to do, so we should take advantage of it. We have
> started in that direction with JGR and it turned out to be a really
> good idea, especially for students and beginners. But then, why
> shouldn't power-users benefit, too?
>
> Cheers,
> Simon
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jnmaloof at ucdavis.edu  Tue Sep 19 06:42:48 2006
From: jnmaloof at ucdavis.edu (Julin Maloof)
Date: Mon, 18 Sep 2006 21:42:48 -0700
Subject: [R-SIG-Mac] built-in editor underlining
In-Reply-To: <mailman.197.1158604394.12596.r-sig-mac@stat.math.ethz.ch>
References: <mailman.197.1158604394.12596.r-sig-mac@stat.math.ethz.ch>
Message-ID: <450F7548.3070001@ucdavis.edu>

Simon et al.,

I've really been enjoying the R.app editor and its constant 
improvements, thanks for the great work!    In fact I have mostly 
switched from ESS to the built-in editor.

Since this seems to have turned into a "suggestions for improvement" 
thread, I thought I would add my two cents worth.  Three features from 
ESS that I really miss are 1) the ability to highlight a region of code 
and comment/uncomment all of it with one command; 2) true automatic 
indentation; 3) pretty formatting (indenting/tabbing) of comments.

With regards to other issues that have been brought up, I am strongly in 
favor of the documents remaining text-only, and I also would prefer if 
formatting attributes were not preserved when pasting in formatted text 
from another source.

Please do not take these as complaints, but rather one users suggestions 
for improvements...

Cheers,

Julin

-- 

Julin Maloof

Section of Plant Biology

University of California, Davis

1 Shields Ave

Davis, CA, 95616

Fax: 530 752 5410


From jo.irisson at gmail.com  Tue Sep 19 10:57:56 2006
From: jo.irisson at gmail.com (jiho)
Date: Tue, 19 Sep 2006 10:57:56 +0200
Subject: [R-SIG-Mac] built-in editor underlining
In-Reply-To: <450F7548.3070001@ucdavis.edu>
References: <mailman.197.1158604394.12596.r-sig-mac@stat.math.ethz.ch>
	<450F7548.3070001@ucdavis.edu>
Message-ID: <3EC9BE64-F7B3-42AE-ABFD-8349A21F95B4@gmail.com>

On 19 Sep 2006, at 06:42 , Julin Maloof wrote:
> [...]

> Since this seems to have turned into a "suggestions for improvement"
> thread, I thought I would add my two cents worth.  Three features from
> ESS that I really miss are 1) the ability to highlight a region of  
> code
> and comment/uncomment all of it with one command;

I second this!
And if the shortcut could be something like CMD+/ which is very often  
used in other editors (because of C, C++ comments syntax) it would be  
really nice even if R comments start with #.

> [...]

JiHO
---
http://jo.irisson.free.fr/


From khansen at stat.Berkeley.EDU  Wed Sep 20 00:18:35 2006
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Tue, 19 Sep 2006 15:18:35 -0700
Subject: [R-SIG-Mac] RSwitch - making it easier to test pre-release
	versions	of R
In-Reply-To: <0FCC9030-E409-4759-B261-438B12165B6F@r-project.org>
References: <CD81BD69-1B17-4738-918A-DC4CD37CECBA@r-project.org>
	<A9D56F60-E2A0-4003-9F5F-08FB8E0E3858@unimi.it>
	<0FCC9030-E409-4759-B261-438B12165B6F@r-project.org>
Message-ID: <B7B8498E-C022-4EAC-9C46-D46A26CED61E@stat.berkeley.edu>

I have now played around a little with Rswitch, and I think it is a  
great idea. It makes it very easy to test packages in the devel  
version of R (which I am doing right now :).

It seems to be very close to be extremely useable for us package  
developers, but I have some questions/suggestions below.

Perhaps a use case is in order: generally I am less interested in  
older versions of R (but I applaud you for making it very easy to  
keep those around), I am however interested in having easy access to  
the following
  * The current devel version, since that is almost a requirement to  
be on the bleeding BioC edge
  * The release candidate when the R update time is nearing. In a way  
I guess that is the same as the release candidate, but there seems to  
be a release candidate as well as a devel version on Simon's R page  
(I assume that the devel version there is the stuff that is going to  
be either R-2.4.1 or R.2.5.0)

Now to the comments:

* If I have a running R session, will this session be affected by  
switching the symlink?
* I think it would be quite valuable to have a Versions hierarchy  
inside ~/Library/R
* Would it be easy to have Rswitch report some more specifics on the  
R-version, at least for the "devel" version, right now all I see is  
2.4, whereas R --version reports something like R-2.4.0 alpha (date,  
revision).
* Perhaps it would make sense to have the versions in the R.framework  
be x.y.z instead of now where they are x.y. And perhaps even allow  
for something R-devel, R-alpha, R-patched? I have no idea whether  
that would be easy or feasible.

On a grander scale it might be extremely worthwhile to make this app  
into a menu bar thing, with the ability to pull down the newest devel  
version. That at least would make life even easier for someone like me.

Thanks for the effort, Kasper


On Sep 13, 2006, at 1:37 PM, Simon Urbanek wrote:

>
> On Sep 13, 2006, at 11:25 AM, stefano iacus wrote:
>
>> We discussed this in the past and now you remind me the point with
>> the announcement of this nice utility.
>> I know it can be for this release (I'm just writing it here as a
>> memo) but this might be considered as a feature request:
>>
>> it would be nice to include RSwitch inside R.app with a panel
>> showing which versions of the Framework are compatible with the
>> particular version of R.app currently running (probably not too
>> much variability though).
>
> Technically, none. A R.app is always linked to a specific version of
> the framework, so it won't work with any other version. In practice,
> it might if the R API didn't change too much, but that is not
> guaranteed. (Framework version = X.Y part of the X.Y.Z R version, so
> patch releases are compatible, but they are installed in the same
> location, so you cannot have multiple patch-revisions of R in
> Versions unless you do that manually).
>
> Actually, for R 2.4 and higher started through the R.app GUI, it's
> not really an issue, because the GUI now automatically sets version-
> specific R_HOME, so you can have two R.apps - one to start R 2.4 and
> one to start R 2.5 and they both ignore the currently set version
> (and can run in parallel). The "Current" symlink applies mainly to R
> started from the command line and pre-2.4 versions of R.
>
>
>> The selected version would be used at next start of R.app (like
>> when you choose OS X system disk for next boot) and of course a
>> "restart now" button would be nice as well.
>>
>
> The only way (I can think of) to provide a solution would be to put
> the actual R.app binary inside the R framework and let the user-
> visible R.app be just a wrapper that launches the correct R.app from
> a framework. However, this doesn't sound quite right, because it
> would involve two R.apps launching each other and what the user sees
> is not what s/he gets ....
>
>
>> The restart button is something I really miss in daily use,
>> independently from the above feature request.
>>
>
> That is not trivial (short of writing a wrapper), because R
> termination is handled by libR itself and not the R.app. We may want
> to dig into that, though, because currently q("yes") will close R.app
> without saving any open editor windows, because R.app doesn't even
> get the message that R is closing, so it doesn't have the chance to
> save anything - and we should definitely fix that ...
>
> Cheers,
> Simon
>
>
>> On 14/set/06, at 00:04, Simon Urbanek wrote:
>>
>>> In case you didn't know it is possible to have multiple R versions
>>> installed on your Mac. The R framework uses a versioning system that
>>> can keep multiple R versions in parallel at /Library/Frameworks/
>>> R.framework/Versions
>>> You can change the current version by setting the "Current" symlink
>>> there. For those as lazy as me there is now a small GUI tool now
>>> available at
>>> http://r.research.att.com/
>>> (on the bottom) which I call RSwitch and it allows you to change the
>>> current R version in one click. Since we are getting close to the
>>> beta stage of the next release, the best use of it is once you
>>> install the current alpha/beta version of R to switch between the
>>> pre-
>>> release and your old R version as necessary.
>>>
>>> Note: even if you switch the current R version, you will still need
>>> to use the corresponding version of the GUI as well, otherwise
>>> strange things will happen. Switching versions while R is running  
>>> can
>>> also have undesirable effects if you try to load packages after the
>>> change as they will be loaded from the wrong version of R, so use
>>> with care.
>>>
>>> Cheers,
>>> Simon
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From goedman at mac.com  Wed Sep 20 01:30:03 2006
From: goedman at mac.com (Rob J Goedman)
Date: Tue, 19 Sep 2006 16:30:03 -0700
Subject: [R-SIG-Mac] RSwitch - making it easier to test pre-release
	versions	of R
In-Reply-To: <B7B8498E-C022-4EAC-9C46-D46A26CED61E@stat.berkeley.edu>
References: <CD81BD69-1B17-4738-918A-DC4CD37CECBA@r-project.org>
	<A9D56F60-E2A0-4003-9F5F-08FB8E0E3858@unimi.it>
	<0FCC9030-E409-4759-B261-438B12165B6F@r-project.org>
	<B7B8498E-C022-4EAC-9C46-D46A26CED61E@stat.berkeley.edu>
Message-ID: <187C0366-B8AC-412C-A478-3A142A0B7C91@mac.com>

Simon,

Could another way of using RSwitch be between two identical versions  
of R, i.e. what triggers the list that shows up?

I would love to use it to switch between an R version with many  
(most) packages installed and a version with hardly any additional  
packages installed. Installing a package takes fairly long with many,  
many installed packages  - at least I think that's why the final part  
of R CMD INSTALL takes a long pause after printing 'done(...)' on my  
system.

Updating/developing/testing a package, particularly when several  
other are contributing as well, I tend to build/install over and over.

Thanks,
Rob

On Sep 19, 2006, at 3:18 PM, Kasper Daniel Hansen wrote:

> I have now played around a little with Rswitch, and I think it is a
> great idea. It makes it very easy to test packages in the devel
> version of R (which I am doing right now :).
>
> It seems to be very close to be extremely useable for us package
> developers, but I have some questions/suggestions below.
>
> Perhaps a use case is in order: generally I am less interested in
> older versions of R (but I applaud you for making it very easy to
> keep those around), I am however interested in having easy access to
> the following
>   * The current devel version, since that is almost a requirement to
> be on the bleeding BioC edge
>   * The release candidate when the R update time is nearing. In a way
> I guess that is the same as the release candidate, but there seems to
> be a release candidate as well as a devel version on Simon's R page
> (I assume that the devel version there is the stuff that is going to
> be either R-2.4.1 or R.2.5.0)
>
> Now to the comments:
>
> * If I have a running R session, will this session be affected by
> switching the symlink?
> * I think it would be quite valuable to have a Versions hierarchy
> inside ~/Library/R
> * Would it be easy to have Rswitch report some more specifics on the
> R-version, at least for the "devel" version, right now all I see is
> 2.4, whereas R --version reports something like R-2.4.0 alpha (date,
> revision).
> * Perhaps it would make sense to have the versions in the R.framework
> be x.y.z instead of now where they are x.y. And perhaps even allow
> for something R-devel, R-alpha, R-patched? I have no idea whether
> that would be easy or feasible.
>
> On a grander scale it might be extremely worthwhile to make this app
> into a menu bar thing, with the ability to pull down the newest devel
> version. That at least would make life even easier for someone like  
> me.
>
> Thanks for the effort, Kasper
>
>
> On Sep 13, 2006, at 1:37 PM, Simon Urbanek wrote:
>
>>
>> On Sep 13, 2006, at 11:25 AM, stefano iacus wrote:
>>
>>> We discussed this in the past and now you remind me the point with
>>> the announcement of this nice utility.
>>> I know it can be for this release (I'm just writing it here as a
>>> memo) but this might be considered as a feature request:
>>>
>>> it would be nice to include RSwitch inside R.app with a panel
>>> showing which versions of the Framework are compatible with the
>>> particular version of R.app currently running (probably not too
>>> much variability though).
>>
>> Technically, none. A R.app is always linked to a specific version of
>> the framework, so it won't work with any other version. In practice,
>> it might if the R API didn't change too much, but that is not
>> guaranteed. (Framework version = X.Y part of the X.Y.Z R version, so
>> patch releases are compatible, but they are installed in the same
>> location, so you cannot have multiple patch-revisions of R in
>> Versions unless you do that manually).
>>
>> Actually, for R 2.4 and higher started through the R.app GUI, it's
>> not really an issue, because the GUI now automatically sets version-
>> specific R_HOME, so you can have two R.apps - one to start R 2.4 and
>> one to start R 2.5 and they both ignore the currently set version
>> (and can run in parallel). The "Current" symlink applies mainly to R
>> started from the command line and pre-2.4 versions of R.
>>
>>
>>> The selected version would be used at next start of R.app (like
>>> when you choose OS X system disk for next boot) and of course a
>>> "restart now" button would be nice as well.
>>>
>>
>> The only way (I can think of) to provide a solution would be to put
>> the actual R.app binary inside the R framework and let the user-
>> visible R.app be just a wrapper that launches the correct R.app from
>> a framework. However, this doesn't sound quite right, because it
>> would involve two R.apps launching each other and what the user sees
>> is not what s/he gets ....
>>
>>
>>> The restart button is something I really miss in daily use,
>>> independently from the above feature request.
>>>
>>
>> That is not trivial (short of writing a wrapper), because R
>> termination is handled by libR itself and not the R.app. We may want
>> to dig into that, though, because currently q("yes") will close R.app
>> without saving any open editor windows, because R.app doesn't even
>> get the message that R is closing, so it doesn't have the chance to
>> save anything - and we should definitely fix that ...
>>
>> Cheers,
>> Simon
>>
>>
>>> On 14/set/06, at 00:04, Simon Urbanek wrote:
>>>
>>>> In case you didn't know it is possible to have multiple R versions
>>>> installed on your Mac. The R framework uses a versioning system  
>>>> that
>>>> can keep multiple R versions in parallel at /Library/Frameworks/
>>>> R.framework/Versions
>>>> You can change the current version by setting the "Current" symlink
>>>> there. For those as lazy as me there is now a small GUI tool now
>>>> available at
>>>> http://r.research.att.com/
>>>> (on the bottom) which I call RSwitch and it allows you to change  
>>>> the
>>>> current R version in one click. Since we are getting close to the
>>>> beta stage of the next release, the best use of it is once you
>>>> install the current alpha/beta version of R to switch between the
>>>> pre-
>>>> release and your old R version as necessary.
>>>>
>>>> Note: even if you switch the current R version, you will still need
>>>> to use the corresponding version of the GUI as well, otherwise
>>>> strange things will happen. Switching versions while R is running
>>>> can
>>>> also have undesirable effects if you try to load packages after the
>>>> change as they will be loaded from the wrong version of R, so use
>>>> with care.
>>>>
>>>> Cheers,
>>>> Simon
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Wed Sep 20 01:55:08 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 19 Sep 2006 19:55:08 -0400
Subject: [R-SIG-Mac] RSwitch - making it easier to test pre-release
	versions	of R
In-Reply-To: <B7B8498E-C022-4EAC-9C46-D46A26CED61E@stat.berkeley.edu>
References: <CD81BD69-1B17-4738-918A-DC4CD37CECBA@r-project.org>
	<A9D56F60-E2A0-4003-9F5F-08FB8E0E3858@unimi.it>
	<0FCC9030-E409-4759-B261-438B12165B6F@r-project.org>
	<B7B8498E-C022-4EAC-9C46-D46A26CED61E@stat.berkeley.edu>
Message-ID: <BE650B65-58B5-48CD-8244-E76B1B6B5E0E@r-project.org>


On Sep 19, 2006, at 6:18 PM, Kasper Daniel Hansen wrote:

> [...]
> In a way I guess that is the same as the release candidate, but  
> there seems to be a release candidate as well as a devel version on  
> Simon's R page (I assume that the devel version there is the stuff  
> that is going to be either R-2.4.1 or R.2.5.0)
>

Just for completeness - R-devel = trunk = future 2.5.0, R24-branch =  
future 2.4.0 [alpha now] (once 2.4.0 is out it will be future 2.4.0  
patched, then 2.4.1 etc.).


> * If I have a running R session, will this session be affected by  
> switching the symlink?

It depends on the R_HOME used by the session, but mostly yes -  
whenever R needs to access R_HOME (packages installation for  
example), it will be affected by the switch. By default R uses the  
current version, but that can be changed either by modifying R_HOME  
in the R shell script or by using R.app.


> * I think it would be quite valuable to have a Versions hierarchy  
> inside ~/Library/R

Yes. On one hand, it's entirely up to the user what s/he uses, but  
the R.app GUI could default to ~/Library/R/x.y


> * Would it be easy to have Rswitch report some more specifics on  
> the R-version, at least for the "devel" version, right now all I  
> see is 2.4, whereas R --version reports something like R-2.4.0  
> alpha (date, revision).

Not easily, but possible. Currently it simply shows you the  
directories in R.framework/Versions, so you can name them any way you  
want (in theory, you'll need to re-install the framework).


> * Perhaps it would make sense to have the versions in the  
> R.framework be x.y.z instead of now where they are x.y.

This change (from x.y.z to x.y) is deliberate, because framework  
versions are compatible at patch-level, so in order to allow easy  
upgrade from x.y.0 to x.y.1 we need the same name. However, you can  
create any custom versions you want. It is not documented, but possible.


> And perhaps even allow for something R-devel, R-alpha, R-patched? I  
> have no idea whether that would be easy or feasible.
>

It is just directories, they have no intrinsic meaning, so feel  
free :). Technically, it would be possible to allow non-standard  
installation in make install-R-framework.


> On a grander scale it might be extremely worthwhile to make this  
> app into a menu bar thing, with the ability to pull down the newest  
> devel version. That at least would make life even easier for  
> someone like me.
>

I can post the source, it's really tiny, so if someone has a skeleton  
of a menu-bar app, it should be possible to merge it.


Since we are speaking about different R versions and testing - there  
is one cool trick that allows you to run arbitrary non-installed(!) R  
versions via the R.app GUI. Let's say you have copied the R.app GUI  
to your home directory. First you need to modify it slightly (Xcode  
needed):

install_name_tool -change `otool -L ~/R.app/Contents/MacOS/R|grep  
'libR\.dylib'|sed 's|.\(.\{0,\}\) (comp.\{0,\}|\1|'` libR.dylib ~/ 
R.app/Contents/MacOS/R

then you can use any R to run it like this:

R CMD ~/R.app/Contents/MacOS/R

Of course, if the libR is too different, it may fail, but you can  
test R without "make install" this way (no framework needed). You can  
create a battery of shell scripts for all your favorite R versions  
and run them form Finder...

Cheers,
Simon


From simon.urbanek at r-project.org  Wed Sep 20 01:59:35 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 19 Sep 2006 19:59:35 -0400
Subject: [R-SIG-Mac] RSwitch - making it easier to test pre-release
	versions	of R
In-Reply-To: <187C0366-B8AC-412C-A478-3A142A0B7C91@mac.com>
References: <CD81BD69-1B17-4738-918A-DC4CD37CECBA@r-project.org>
	<A9D56F60-E2A0-4003-9F5F-08FB8E0E3858@unimi.it>
	<0FCC9030-E409-4759-B261-438B12165B6F@r-project.org>
	<B7B8498E-C022-4EAC-9C46-D46A26CED61E@stat.berkeley.edu>
	<187C0366-B8AC-412C-A478-3A142A0B7C91@mac.com>
Message-ID: <E7F58279-7218-4F60-B0E1-A1B1423B5860@r-project.org>

Rob,

On Sep 19, 2006, at 7:30 PM, Rob J Goedman wrote:

> Could another way of using RSwitch be between two identical  
> versions of R, i.e. what triggers the list that shows up?
>

It is simply the list of directories in /Library/R.framework/Versions


> I would love to use it to switch between an R version with many  
> (most) packages installed and a version with hardly any additional  
> packages installed. Installing a package takes fairly long with  
> many, many installed packages  - at least I think that's why the  
> final part of R CMD INSTALL takes a long pause after printing 'done 
> (...)' on my system.
>
> Updating/developing/testing a package, particularly when several  
> other are contributing as well, I tend to build/install over and over.
>

I have just looked at the sources and you can override the version  
name using FW_VERSION when you configure R. I didn't test it, but it  
may work - you can use any name you wish (perhaps no spaces for  
sanity reasons ;)).

Cheers,
Simon


From stefano.iacus at unimi.it  Wed Sep 20 03:49:50 2006
From: stefano.iacus at unimi.it (stefano iacus)
Date: Wed, 20 Sep 2006 10:49:50 +0900
Subject: [R-SIG-Mac] RSwitch - making it easier to test pre-release
 versions	of R
In-Reply-To: <B7B8498E-C022-4EAC-9C46-D46A26CED61E@stat.berkeley.edu>
References: <CD81BD69-1B17-4738-918A-DC4CD37CECBA@r-project.org>
	<A9D56F60-E2A0-4003-9F5F-08FB8E0E3858@unimi.it>
	<0FCC9030-E409-4759-B261-438B12165B6F@r-project.org>
	<B7B8498E-C022-4EAC-9C46-D46A26CED61E@stat.berkeley.edu>
Message-ID: <45E62910-9BE0-4ABE-8A7F-C93EED332D31@unimi.it>


On 20/set/06, at 07:18, Kasper Daniel Hansen wrote:

> I have now played around a little with Rswitch, and I think it is a
> great idea. It makes it very easy to test packages in the devel
> version of R (which I am doing right now :).
>
> It seems to be very close to be extremely useable for us package
> developers, but I have some questions/suggestions below.
>
> Perhaps a use case is in order: generally I am less interested in
> older versions of R (but I applaud you for making it very easy to
> keep those around), I am however interested in having easy access to
> the following
>   * The current devel version, since that is almost a requirement to
> be on the bleeding BioC edge
>   * The release candidate when the R update time is nearing. In a way
> I guess that is the same as the release candidate, but there seems to
> be a release candidate as well as a devel version on Simon's R page
> (I assume that the devel version there is the stuff that is going to
> be either R-2.4.1 or R.2.5.0)
>
> Now to the comments:
>
> * If I have a running R session, will this session be affected by
> switching the symlink?
> * I think it would be quite valuable to have a Versions hierarchy
> inside ~/Library/R
> * Would it be easy to have Rswitch report some more specifics on the
> R-version, at least for the "devel" version, right now all I see is
> 2.4, whereas R --version reports something like R-2.4.0 alpha (date,
> revision).
> * Perhaps it would make sense to have the versions in the R.framework
> be x.y.z instead of now where they are x.y. And perhaps even allow
> for something R-devel, R-alpha, R-patched? I have no idea whether
> that would be easy or feasible.
>
> On a grander scale it might be extremely worthwhile to make this app
> into a menu bar thing, with the ability to pull down the newest devel
> version. That at least would make life even easier for someone like  
> me.

or, given that Simon is also a Java expert, transform it into a nice  
dashboard widget :)

stefano


>
> Thanks for the effort, Kasper
>
>
> On Sep 13, 2006, at 1:37 PM, Simon Urbanek wrote:
>
>>
>> On Sep 13, 2006, at 11:25 AM, stefano iacus wrote:
>>
>>> We discussed this in the past and now you remind me the point with
>>> the announcement of this nice utility.
>>> I know it can be for this release (I'm just writing it here as a
>>> memo) but this might be considered as a feature request:
>>>
>>> it would be nice to include RSwitch inside R.app with a panel
>>> showing which versions of the Framework are compatible with the
>>> particular version of R.app currently running (probably not too
>>> much variability though).
>>
>> Technically, none. A R.app is always linked to a specific version of
>> the framework, so it won't work with any other version. In practice,
>> it might if the R API didn't change too much, but that is not
>> guaranteed. (Framework version = X.Y part of the X.Y.Z R version, so
>> patch releases are compatible, but they are installed in the same
>> location, so you cannot have multiple patch-revisions of R in
>> Versions unless you do that manually).
>>
>> Actually, for R 2.4 and higher started through the R.app GUI, it's
>> not really an issue, because the GUI now automatically sets version-
>> specific R_HOME, so you can have two R.apps - one to start R 2.4 and
>> one to start R 2.5 and they both ignore the currently set version
>> (and can run in parallel). The "Current" symlink applies mainly to R
>> started from the command line and pre-2.4 versions of R.
>>
>>
>>> The selected version would be used at next start of R.app (like
>>> when you choose OS X system disk for next boot) and of course a
>>> "restart now" button would be nice as well.
>>>
>>
>> The only way (I can think of) to provide a solution would be to put
>> the actual R.app binary inside the R framework and let the user-
>> visible R.app be just a wrapper that launches the correct R.app from
>> a framework. However, this doesn't sound quite right, because it
>> would involve two R.apps launching each other and what the user sees
>> is not what s/he gets ....
>>
>>
>>> The restart button is something I really miss in daily use,
>>> independently from the above feature request.
>>>
>>
>> That is not trivial (short of writing a wrapper), because R
>> termination is handled by libR itself and not the R.app. We may want
>> to dig into that, though, because currently q("yes") will close R.app
>> without saving any open editor windows, because R.app doesn't even
>> get the message that R is closing, so it doesn't have the chance to
>> save anything - and we should definitely fix that ...
>>
>> Cheers,
>> Simon
>>
>>
>>> On 14/set/06, at 00:04, Simon Urbanek wrote:
>>>
>>>> In case you didn't know it is possible to have multiple R versions
>>>> installed on your Mac. The R framework uses a versioning system  
>>>> that
>>>> can keep multiple R versions in parallel at /Library/Frameworks/
>>>> R.framework/Versions
>>>> You can change the current version by setting the "Current" symlink
>>>> there. For those as lazy as me there is now a small GUI tool now
>>>> available at
>>>> http://r.research.att.com/
>>>> (on the bottom) which I call RSwitch and it allows you to change  
>>>> the
>>>> current R version in one click. Since we are getting close to the
>>>> beta stage of the next release, the best use of it is once you
>>>> install the current alpha/beta version of R to switch between the
>>>> pre-
>>>> release and your old R version as necessary.
>>>>
>>>> Note: even if you switch the current R version, you will still need
>>>> to use the corresponding version of the GUI as well, otherwise
>>>> strange things will happen. Switching versions while R is running
>>>> can
>>>> also have undesirable effects if you try to load packages after the
>>>> change as they will be loaded from the wrong version of R, so use
>>>> with care.
>>>>
>>>> Cheers,
>>>> Simon
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From goedman at mac.com  Wed Sep 20 16:51:55 2006
From: goedman at mac.com (Rob J Goedman)
Date: Wed, 20 Sep 2006 07:51:55 -0700
Subject: [R-SIG-Mac] RSwitch - making it easier to test pre-release
	versions	of R
In-Reply-To: <E7F58279-7218-4F60-B0E1-A1B1423B5860@r-project.org>
References: <CD81BD69-1B17-4738-918A-DC4CD37CECBA@r-project.org>
	<A9D56F60-E2A0-4003-9F5F-08FB8E0E3858@unimi.it>
	<0FCC9030-E409-4759-B261-438B12165B6F@r-project.org>
	<B7B8498E-C022-4EAC-9C46-D46A26CED61E@stat.berkeley.edu>
	<187C0366-B8AC-412C-A478-3A142A0B7C91@mac.com>
	<E7F58279-7218-4F60-B0E1-A1B1423B5860@r-project.org>
Message-ID: <85C1047D-EDB2-4A50-B2E6-0CFF2D63343B@mac.com>

Thanks Simon,

On Sep 19, 2006, at 4:59 PM, Simon Urbanek wrote:

> Rob,
>
> On Sep 19, 2006, at 7:30 PM, Rob J Goedman wrote:
>
>> Could another way of using RSwitch be between two identical  
>> versions of R, i.e. what triggers the list that shows up?
>>
>
> It is simply the list of directories in /Library/R.framework/Versions

That was the 1st thing I tried, but a newly created, empty directory  
does not do the trick (show up in the list, it wouldn't really work  
of course). Duplicating an existing version branch does work though,  
so in the future I'll create a copy just before populating a newly  
installed version branch.

Thanks again,
Rob


From gene02_rsigmac at smalltime.com  Wed Sep 20 19:15:37 2006
From: gene02_rsigmac at smalltime.com (Gene)
Date: Wed, 20 Sep 2006 10:15:37 -0700
Subject: [R-SIG-Mac] Several R bugs
Message-ID: <71C7B326-CAE8-4428-A86E-A98D7CBC5356@smalltime.com>

I've got two new and one old bug I thought I'd mention.  First, here  
are the versions:

R.version.string =  "Version 2.3.1 (2006-06-01)"
R GUI = Version 1.16 (3198)
OS = 10.4.7
Computer = 2x3GHz Mac Pro


The old bug is in the GUI and has to do with file name tab completion.
If I type:
data <- read.delim("/Users/gene/Bioinformatics/snp project/snp.2

Then hit tab to complete the file name and select the first file in  
the list, "snp.200060403.rdat" and hit tab or right arrow, I end up  
with:

data <- read.delim("/Users/gene/Bioinformatics/snp project/snp.snp. 
20060403.rdat

You can see that the first part of the filename "snp." is  
duplicated.  If I hit tab with only "...snp." already entered rather  
than "...snp.2" entered, the tab completion works properly.


I have just switched to the Mac Pro and the Universal version of R  
and have found two new bugs.  One is with history completion using  
the up arrow.  If I run a command that includes a hash sign, then hit  
the up arrow, the line is truncated at the hash:

 > zz <- "hello#world"
[up arrow]
 > zz <- "hello

The second bug is with plotting. The outline=FALSE option appears to  
be ignored for the boxplot.
This is the specific code I'm using:
boxplot(the.values ~ the.snps.factor[,i], add=TRUE, boxwex=.25,  
outline=FALSE, border="#757575bf")

When I ran this on my PowerMac, this would allow the points from the  
previously drawn stripchart to remain visible, but now the outline=F  
option is ignored and the boxplot obscures the existing points on the  
graph.



Finally, a feature request:  A search field for the history.  It can  
be hard to find things in the history drawer, especially since multi- 
line entries only show their first line in the drawer, so I am forced  
to save the history and open it in a text editor, or search through  
the main console.  And the main point of the history drawer is to not  
have to look through the console window.


Thanks

Gene


From goedman at mac.com  Wed Sep 20 19:39:21 2006
From: goedman at mac.com (Rob J Goedman)
Date: Wed, 20 Sep 2006 10:39:21 -0700
Subject: [R-SIG-Mac] Several R bugs
In-Reply-To: <71C7B326-CAE8-4428-A86E-A98D7CBC5356@smalltime.com>
References: <71C7B326-CAE8-4428-A86E-A98D7CBC5356@smalltime.com>
Message-ID: <F344AA07-EE4C-4359-8B9B-5A16B16F3AAE@mac.com>

Gene,

On Sep 20, 2006, at 10:15 AM, Gene wrote:

> ...

> I have just switched to the Mac Pro and the Universal version of R
> and have found two new bugs.  One is with history completion using
> the up arrow.  If I run a command that includes a hash sign, then hit
> the up arrow, the line is truncated at the hash:
>
>> zz <- "hello#world"
> [up arrow]
>> zz <- "hello

It looks like you have the 'Strip comments in history entries' set in  
your startup preferences which causes this to happen. Could you check  
that? That setting also causes problems if working with hexadecimal  
numbers. I find the setting useful if I have many comment lines in  
multiline history entries.

> ...

> Finally, a feature request:  A search field for the history.  It can
> be hard to find things in the history drawer, especially since multi-
> line entries only show their first line in the drawer, so I am forced
> to save the history and open it in a text editor, or search through
> the main console.  And the main point of the history drawer is to not
> have to look through the console window.

Guess [up arrow] in R Console doesn't work for you?

Rob


From simon.urbanek at r-project.org  Wed Sep 20 20:00:16 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 20 Sep 2006 14:00:16 -0400
Subject: [R-SIG-Mac] RSwitch - making it easier to test pre-release
	versions	of R
In-Reply-To: <85C1047D-EDB2-4A50-B2E6-0CFF2D63343B@mac.com>
References: <CD81BD69-1B17-4738-918A-DC4CD37CECBA@r-project.org>
	<A9D56F60-E2A0-4003-9F5F-08FB8E0E3858@unimi.it>
	<0FCC9030-E409-4759-B261-438B12165B6F@r-project.org>
	<B7B8498E-C022-4EAC-9C46-D46A26CED61E@stat.berkeley.edu>
	<187C0366-B8AC-412C-A478-3A142A0B7C91@mac.com>
	<E7F58279-7218-4F60-B0E1-A1B1423B5860@r-project.org>
	<85C1047D-EDB2-4A50-B2E6-0CFF2D63343B@mac.com>
Message-ID: <38A32C75-EEEA-46E5-AAC7-AC5E4055816A@r-project.org>


On Sep 20, 2006, at 10:51 AM, Rob J Goedman wrote:

> Thanks Simon,
>
> On Sep 19, 2006, at 4:59 PM, Simon Urbanek wrote:
>
>> Rob,
>>
>> On Sep 19, 2006, at 7:30 PM, Rob J Goedman wrote:
>>
>>> Could another way of using RSwitch be between two identical  
>>> versions of R, i.e. what triggers the list that shows up?
>>>
>>
>> It is simply the list of directories in /Library/R.framework/Versions
>
> That was the 1st thing I tried, but a newly created, empty  
> directory does not do the trick (show up in the list, it wouldn't  
> really work of course).

RSwitch is not that dumb ;), it's looking inside for Resources to  
make sure that it's not just a random directory.


> Duplicating an existing version branch does work though, so in the  
> future I'll create a copy just before populating a newly installed  
> version branch.
>

If you want to move a branch, copying is not enough, because all  
library paths are hard-coded in the binaries, so they'll be picking  
up the wrong version. You'll have to use install_name_tool to change  
them for all .so and .dylib. Also, CRAN binaries work only in the  
default location (unless you massage it with install_name_tool again).

I would really use FW_VERSION for custom framework location if you  
plan to use source packages.

Cheers,
Simon


From gene02_rsigmac at smalltime.com  Wed Sep 20 20:02:39 2006
From: gene02_rsigmac at smalltime.com (Gene)
Date: Wed, 20 Sep 2006 11:02:39 -0700
Subject: [R-SIG-Mac] Several R bugs
In-Reply-To: <F344AA07-EE4C-4359-8B9B-5A16B16F3AAE@mac.com>
References: <71C7B326-CAE8-4428-A86E-A98D7CBC5356@smalltime.com>
	<F344AA07-EE4C-4359-8B9B-5A16B16F3AAE@mac.com>
Message-ID: <746D8C3F-C7F4-47ED-9EC3-E81452E5AB49@smalltime.com>


On Sep 20, 2006, at 10:39 AM, Rob J Goedman wrote:

>
> It looks like you have the 'Strip comments in history entries' set  
> in your startup preferences which causes this to happen. Could you  
> check that? That setting also causes problems if working with  
> hexadecimal numbers. I find the setting useful if I have many  
> comment lines in multiline history entries.
>

Yup, that was it.  I guess we need a slightly smarter comment parser.

>
>
>> Finally, a feature request:  A search field for the history.  It can
>> be hard to find things in the history drawer, especially since multi-
>> line entries only show their first line in the drawer, so I am forced
>> to save the history and open it in a text editor, or search through
>> the main console.  And the main point of the history drawer is to not
>> have to look through the console window.
>
> Guess [up arrow] in R Console doesn't work for you?

up arrow does work, it's just a problem when I have to go far back  
through history.  What I miss is a terminal-like control-R search  
back through history feature.


From gene02_rsigmac at smalltime.com  Thu Sep 21 20:28:16 2006
From: gene02_rsigmac at smalltime.com (Gene)
Date: Thu, 21 Sep 2006 11:28:16 -0700
Subject: [R-SIG-Mac] Error loading grDevices.so
Message-ID: <EAFDD935-AEC5-4E3D-8CDD-FCAE5C2CC64F@smalltime.com>

I just tried running R from the command line for the first time with  
my new setup and get this error in trying to load grDevices.so:

Error in dyn.load(x, as.logical(local), as.logical(now)) :
   unable to load shared library '/Library/Frameworks/R.framework/ 
Resources/library/grDevices/libs/ppc/grDevices.so':
dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/ 
libs/ppc/grDevices.so, 6): Symbol not found: ___eprintf
Referenced from: /System/Library/Frameworks/CoreServices.framework/ 
Versions/A/Frameworks/CFNetwork.framework/Versions/A/CFNetwork
Expected in: /Library/Frameworks/R.framework/Resources/lib/libstdc++. 
6.dylib

I could live without quartz() or X11(), but when I get this error on  
library(stats), that really hurts.

Any suggestions?  Here is my system:

R.version.string =  "Version 2.3.1 (2006-06-01)"
R GUI = Version 1.16 (3198)
OS = 10.4.7
Computer = 2x3GHz Mac Pro


From simon.urbanek at r-project.org  Thu Sep 21 23:36:07 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 21 Sep 2006 17:36:07 -0400
Subject: [R-SIG-Mac] Error loading grDevices.so
In-Reply-To: <EAFDD935-AEC5-4E3D-8CDD-FCAE5C2CC64F@smalltime.com>
References: <EAFDD935-AEC5-4E3D-8CDD-FCAE5C2CC64F@smalltime.com>
Message-ID: <E055BA97-3234-42FC-B923-C57AC8A295E5@r-project.org>

Gene,

can you, please, make sure that you don't have any stray  
DYLD_LIBRARY_PATH settings in your environment when you are trying  
this? If you are sure that it's not the case, please send me the full  
output of the following (in Terminal):

set
uname -a
DYLD_PRINT_LIBRARIES=1 R
Sys.getenv("DYLD_LIBRARY_PATH")

Thanks,
Simon


On Sep 21, 2006, at 2:28 PM, Gene wrote:

> I just tried running R from the command line for the first time with
> my new setup and get this error in trying to load grDevices.so:
>
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>    unable to load shared library '/Library/Frameworks/R.framework/
> Resources/library/grDevices/libs/ppc/grDevices.so':
> dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/
> libs/ppc/grDevices.so, 6): Symbol not found: ___eprintf
> Referenced from: /System/Library/Frameworks/CoreServices.framework/
> Versions/A/Frameworks/CFNetwork.framework/Versions/A/CFNetwork
> Expected in: /Library/Frameworks/R.framework/Resources/lib/libstdc++.
> 6.dylib
>
> I could live without quartz() or X11(), but when I get this error on
> library(stats), that really hurts.
>
> Any suggestions?  Here is my system:
>
> R.version.string =  "Version 2.3.1 (2006-06-01)"
> R GUI = Version 1.16 (3198)
> OS = 10.4.7
> Computer = 2x3GHz Mac Pro
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From gene02_rsigmac at smalltime.com  Fri Sep 22 19:52:28 2006
From: gene02_rsigmac at smalltime.com (Gene)
Date: Fri, 22 Sep 2006 10:52:28 -0700
Subject: [R-SIG-Mac] Error loading grDevices.so
In-Reply-To: <E055BA97-3234-42FC-B923-C57AC8A295E5@r-project.org>
References: <EAFDD935-AEC5-4E3D-8CDD-FCAE5C2CC64F@smalltime.com>
	<E055BA97-3234-42FC-B923-C57AC8A295E5@r-project.org>
Message-ID: <B79C5A5D-9220-4DEE-8C33-6928D19D8BA3@smalltime.com>


On Sep 21, 2006, at 2:36 PM, Simon Urbanek wrote:

> Gene,
>
> can you, please, make sure that you don't have any stray  
> DYLD_LIBRARY_PATH settings in your environment when you are trying  
> this? If you are sure that it's not the case, please send me the  
> full output of the following (in Terminal):
>
> set
> uname -a
> DYLD_PRINT_LIBRARIES=1 R
> Sys.getenv("DYLD_LIBRARY_PATH")


Here you go:

 > set
BASH=/bin/bash
BASH_VERSINFO=([0]="2" [1]="05b" [2]="0" [3]="1" [4]="release" [5] 
="powerpc-apple-darwin8.0")
BASH_VERSION='2.05b.0(1)-release'
CFLAGS=' -march=pentium4 -O3 -pipe -fomit-frame-pointer'
COLUMNS=98
CURRDIR=
CXXFLAGS=' -march=pentium4 -O3 -pipe -fomit-frame-pointer'
DIR=/Users/gene
DIRSTACK=()
EDITOR=emacs
FFLAGS=' -O3'
FTP_PASSIVE=1
GROUPS=()
HISTCONTROL=ignoredups
HISTFILESIZE=1000
HISTSIZE=1000
HOSTTYPE=powerpc
IFS=$' \t\n'
LESS=-X
LINES=56
MACHTYPE=powerpc-apple-darwin8.0
MAILCHECK=60
OPTERR=1
OPTIND=1
OSTYPE=darwin8.0
PATH=/usr/local/bin:/usr/local/bin:/bin:/sbin:/usr/bin:/usr/local/ 
bin:/usr/sbin:/usr/local/bin/phylip:/Library/MySQL/bin:/Developer/ 
Tools:/Users/gene/bin:/Users/gene/Bioinformatics/code:.:/opt/local/bin
PIPESTATUS=([0]="0")
PLPLOT_LIB=/usr/local/lib
PPID=1725
PROMPT_COMMAND=prompt_command
PS1='\033[1;33m\u:~ \!> \033[0;0m'
PS2='> '
PS4='+ '
SECURITYSESSIONID=5a3ec0
SHELL=/bin/bash
SHELLOPTS=braceexpand:emacs:hashall:histexpand:history:interactive- 
comments:monitor
SHLVL=1
SSH_AGENT_PID=493
SSH_AUTH_SOCK=/tmp/ssh-kE5GPTtS/agent.490
TERM=xterm-color
TERM_PROGRAM=Apple_Terminal
TERM_PROGRAM_VERSION=133
VISUAL=emacs
_=R
__CF_USER_TEXT_ENCODING=0x1F5:0:0
graphViewer=Preview.app
i='/etc/profile.d/*.sh'
newPWD='~'
pwd_length=30
showViewer=Safari.app
textViewer=BBEdit.app

 > uname -a
Darwin ASF2-261-Gene.local 8.7.2 Darwin Kernel Version 8.7.2: Tue Jul  
25 23:09:54 PDT 2006; root:xnu-792.10.96.obj~3/RELEASE_I386 i386 i386


 > DYLD_PRINT_LIBRARIES=1 R
dyld: loaded: /bin/sh
dyld: loaded: /usr/lib/libncurses.5.4.dylib, cpu-sub-type: 3
dyld: loaded: /usr/lib/libSystem.B.dylib, cpu-sub-type: 3
dyld: loaded: /usr/lib/libgcc_s.1.dylib, cpu-sub-type: 3
dyld: loaded: /usr/lib/system/libmathCommon.A.dylib, cpu-sub-type: 3
dyld: loaded: /Library/Frameworks/R.framework/Versions/2.3/Resources/ 
bin/exec/R
dyld: loaded: /Library/Frameworks/R.framework/Resources/lib/ 
libR.dylib, cpu-sub-type: 0
dyld: loaded: /usr/lib/libmx.A.dylib, cpu-sub-type: 0
dyld: loaded: /usr/lib/libSystem.B.dylib, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/vecLib.framework/Versions/A/ 
vecLib, cpu-sub-type: 0
dyld: loaded: /Library/Frameworks/R.framework/Resources/lib/ 
libgfortran.0.dylib, cpu-sub-type: 0
dyld: loaded: /Library/Frameworks/R.framework/Resources/lib/libgcc_s. 
1.0.dylib, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/CoreFoundation.framework/ 
Versions/A/CoreFoundation, cpu-sub-type: 0
dyld: loaded: /Library/Frameworks/R.framework/Resources/lib/ 
libreadline.5.1.dylib, cpu-sub-type: 0
dyld: loaded: /usr/lib/libiconv.2.dylib, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/Accelerate.framework/ 
Versions/A/Frameworks/vecLib.framework/Versions/A/libvMisc.dylib, cpu- 
sub-type: 0
dyld: loaded: /System/Library/Frameworks/Accelerate.framework/ 
Versions/A/Frameworks/vecLib.framework/Versions/A/libvDSP.dylib, cpu- 
sub-type: 0
dyld: loaded: /System/Library/Frameworks/Accelerate.framework/ 
Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib, cpu- 
sub-type: 0
dyld: loaded: /System/Library/Frameworks/Accelerate.framework/ 
Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib,  
cpu-sub-type: 0
dyld: loaded: /usr/lib/libgcc_s.1.dylib, cpu-sub-type: 0
dyld: loaded: /usr/lib/system/libmathCommon.A.dylib, cpu-sub-type: 0
dyld: loaded: /usr/lib/libicucore.A.dylib, cpu-sub-type: 0
dyld: loaded: /usr/lib/libauto.dylib, cpu-sub-type: 0
dyld: loaded: /usr/lib/libobjc.A.dylib, cpu-sub-type: 0
dyld: loaded: /Library/Frameworks/R.framework/Resources/lib/libstdc++. 
6.dylib, cpu-sub-type: 0

R : Copyright 2006, The R Foundation for Statistical Computing
Version 2.3.1 (2006-06-01)
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

   Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

dyld: loaded: /Library/Frameworks/R.framework/Resources/library/ 
grDevices/libs/ppc/grDevices.so
dyld: loaded: /System/Library/Frameworks/AppKit.framework/Versions/C/ 
AppKit, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/ApplicationServices, cpu-sub- 
type: 0
dyld: loaded: /System/Library/Frameworks/Carbon.framework/Versions/A/ 
Frameworks/HIToolbox.framework/Versions/A/HIToolbox, cpu-sub-type: 0
dyld: loaded: /usr/lib/libz.1.dylib, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/Foundation.framework/ 
Versions/C/Foundation, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/Carbon.framework/Versions/A/ 
Frameworks/SpeechRecognition.framework/Versions/A/SpeechRecognition,  
cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/AudioToolbox.framework/ 
Versions/A/AudioToolbox, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/AudioUnit.framework/Versions/ 
A/AudioUnit, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/Security.framework/Versions/ 
A/Security, cpu-sub-type: 0
dyld: loaded: /System/Library/PrivateFrameworks/ 
DesktopServicesPriv.framework/Versions/A/DesktopServicesPriv, cpu-sub- 
type: 0
dyld: loaded: /System/Library/Frameworks/IOKit.framework/Versions/A/ 
IOKit, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/CoreData.framework/Versions/ 
A/CoreData, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/QuartzCore.framework/ 
Versions/A/QuartzCore, cpu-sub-type: 0
dyld: loaded: /usr/lib/libxml2.2.dylib, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/AE.framework/ 
Versions/A/AE, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/ 
Versions/A/ATS, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
ColorSync.framework/Versions/A/ColorSync, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
CoreGraphics.framework/Versions/A/CoreGraphics, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
CoreText.framework/Versions/A/CoreText, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/CoreServices.framework/ 
Versions/A/CoreServices, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
PrintCore.framework/Versions/A/PrintCore, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/QD.framework/ 
Versions/A/QD, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
HIServices.framework/Versions/A/HIServices, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
LangAnalysis.framework/Versions/A/LangAnalysis, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
FindByContent.framework/Versions/A/FindByContent, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
LaunchServices.framework/Versions/A/LaunchServices, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
SpeechSynthesis.framework/Versions/A/SpeechSynthesis, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/ImageIO, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
SystemConfiguration.framework/Versions/A/SystemConfiguration, cpu-sub- 
type: 0
dyld: loaded: /System/Library/Frameworks/CoreServices.framework/ 
Versions/A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore, cpu- 
sub-type: 0
dyld: loaded: /System/Library/Frameworks/CoreServices.framework/ 
Versions/A/Frameworks/OSServices.framework/Versions/A/OSServices, cpu- 
sub-type: 0
dyld: loaded: /System/Library/Frameworks/CoreServices.framework/ 
Versions/A/Frameworks/CFNetwork.framework/Versions/A/CFNetwork, cpu- 
sub-type: 0
dyld: loaded: /System/Library/Frameworks/CoreServices.framework/ 
Versions/A/Frameworks/WebServicesCore.framework/Versions/A/ 
WebServicesCore, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/CoreServices.framework/ 
Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit, cpu- 
sub-type: 0
dyld: loaded: /System/Library/Frameworks/CoreServices.framework/ 
Versions/A/Frameworks/Metadata.framework/Versions/A/Metadata, cpu-sub- 
type: 0
dyld: loaded: /System/Library/Frameworks/DiskArbitration.framework/ 
Versions/A/DiskArbitration, cpu-sub-type: 0
dyld: loaded: /usr/lib/libbsm.dylib, cpu-sub-type: 0
dyld: loaded: /usr/lib/libcrypto.0.9.7.dylib, cpu-sub-type: 0
dyld: loaded: /usr/lib/libcups.2.dylib, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libJPEG.dylib, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libJP2.dylib, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libGIF.dylib, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libRaw.dylib, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libTIFF.dylib, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libPng.dylib, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libRadiance.dylib, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/Accelerate.framework/ 
Versions/A/Accelerate, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/Accelerate.framework/ 
Versions/A/Frameworks/vImage.framework/Versions/A/vImage, cpu-sub- 
type: 0
dyld: loaded: /System/Library/Frameworks/Accelerate.framework/ 
Versions/A/Frameworks/vecLib.framework/Versions/A/vecLib, cpu-sub- 
type: 0
dyld: loaded: /System/Library/Frameworks/Carbon.framework/Versions/A/ 
Frameworks/CarbonSound.framework/Versions/A/CarbonSound, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/CoreAudio.framework/Versions/ 
A/CoreAudio, cpu-sub-type: 0
dyld: loaded: /usr/lib/libsqlite3.0.dylib, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/OpenGL.framework/Versions/A/ 
OpenGL, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/OpenGL.framework/Versions/A/ 
Libraries/libGLImage.dylib, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/OpenGL.framework/Versions/A/ 
Libraries/libGLU.dylib, cpu-sub-type: 0
dyld: loaded: /System/Library/Frameworks/OpenGL.framework/Versions/A/ 
Libraries/libGL.dylib, cpu-sub-type: 0
Error in dyn.load(x, as.logical(local), as.logical(now)) :
         unable to load shared library '/Library/Frameworks/ 
R.framework/Resources/library/grDevices/libs/ppc/grDevices.so':
   dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/ 
libs/ppc/grDevices.so, 6): Symbol not found: ___eprintf
   Referenced from: /System/Library/Frameworks/CoreServices.framework/ 
Versions/A/Frameworks/CFNetwork.framework/Versions/A/CFNetwork
   Expected in: /Library/Frameworks/R.framework/Resources/lib/libstdc+ 
+.6.dylib
Loading required package: grDevices
dyld: loaded: /Library/Frameworks/R.framework/Resources/library/ 
grDevices/libs/ppc/grDevices.so
Error in dyn.load(x, as.logical(local), as.logical(now)) :
         unable to load shared library '/Library/Frameworks/ 
R.framework/Resources/library/grDevices/libs/ppc/grDevices.so':
   dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/ 
libs/ppc/grDevices.so, 6): Symbol not found: ___eprintf
   Referenced from: /System/Library/Frameworks/CoreServices.framework/ 
Versions/A/Frameworks/CFNetwork.framework/Versions/A/CFNetwork
   Expected in: /Library/Frameworks/R.framework/Resources/lib/libstdc+ 
+.6.dylib
In addition: Warning message:
package grDevices in options("defaultPackages") was not found
Error: package 'grDevices' could not be loaded
 >
 > Sys.getenv("DYLD_LIBRARY_PATH")
                                DYLD_LIBRARY_PATH
"/Library/Frameworks/R.framework/Resources/lib:"


From simon.urbanek at r-project.org  Fri Sep 22 20:15:41 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 22 Sep 2006 14:15:41 -0400
Subject: [R-SIG-Mac] Error loading grDevices.so
In-Reply-To: <B79C5A5D-9220-4DEE-8C33-6928D19D8BA3@smalltime.com>
References: <EAFDD935-AEC5-4E3D-8CDD-FCAE5C2CC64F@smalltime.com>
	<E055BA97-3234-42FC-B923-C57AC8A295E5@r-project.org>
	<B79C5A5D-9220-4DEE-8C33-6928D19D8BA3@smalltime.com>
Message-ID: <B294A729-E1EB-48DD-BAC9-678285E8BDE5@r-project.org>

Gene,

thanks. This is not good, because it appears that Apple ships yet a  
different version of the OS with Mac Pros and that breaks our R  
binary. Unfortunately I don't have an access to a Mac Pro, so I can't  
really help you directly :(.

The crucial line is this:
dyld: loaded: /usr/lib/libobjc.A.dylib, cpu-sub-type: 0
dyld: loaded: /Library/Frameworks/R.framework/Resources/lib/libstdc++. 
6.dylib, cpu-sub-type: 0

libobjc is loading the wrong stdc++ library in your system. On my  
system (8.7.1) get the correct result:

dyld: loaded: /usr/lib/libobjc.A.dylib, cpu-sub-type: 3
dyld: loaded: /usr/lib/libgcc_s.1.dylib, cpu-sub-type: 3
dyld: loaded: /usr/lib/libstdc++.6.dylib, cpu-sub-type: 3

Can you, please, verify which library it is supposed to load on your  
system? This is what I get on mine:
imac86:$ otool -L /usr/lib/libobjc.A.dylib
/usr/lib/libobjc.A.dylib:
         /usr/lib/libobjc.A.dylib (compatibility version 1.0.0,  
current version 227.0.0)
         /usr/lib/libauto.dylib (compatibility version 1.0.0, current  
version 1.0.0)
         /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0,  
current version 1.0.0)
         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0,  
current version 88.1.3)

If you get a different result, it could be possibly a bug in your OS  
X - please let me know.

Thanks,
Simon


On Sep 22, 2006, at 1:52 PM, Gene wrote:

>
> On Sep 21, 2006, at 2:36 PM, Simon Urbanek wrote:
>
>> Gene,
>>
>> can you, please, make sure that you don't have any stray  
>> DYLD_LIBRARY_PATH settings in your environment when you are trying  
>> this? If you are sure that it's not the case, please send me the  
>> full output of the following (in Terminal):
>>
>> set
>> uname -a
>> DYLD_PRINT_LIBRARIES=1 R
>> Sys.getenv("DYLD_LIBRARY_PATH")
>
>
> Here you go:
> [...]


From gene02_rsigmac at smalltime.com  Fri Sep 22 20:17:27 2006
From: gene02_rsigmac at smalltime.com (Gene)
Date: Fri, 22 Sep 2006 11:17:27 -0700
Subject: [R-SIG-Mac] Error loading grDevices.so
In-Reply-To: <B294A729-E1EB-48DD-BAC9-678285E8BDE5@r-project.org>
References: <EAFDD935-AEC5-4E3D-8CDD-FCAE5C2CC64F@smalltime.com>
	<E055BA97-3234-42FC-B923-C57AC8A295E5@r-project.org>
	<B79C5A5D-9220-4DEE-8C33-6928D19D8BA3@smalltime.com>
	<B294A729-E1EB-48DD-BAC9-678285E8BDE5@r-project.org>
Message-ID: <E9C6B0B2-5C1A-48E0-BE94-A577A5D22C71@smalltime.com>


On Sep 22, 2006, at 11:15 AM, Simon Urbanek wrote:

>
> Can you, please, verify which library it is supposed to load on  
> your system? This is what I get on mine:
> imac86:$ otool -L /usr/lib/libobjc.A.dylib
> /usr/lib/libobjc.A.dylib:
>         /usr/lib/libobjc.A.dylib (compatibility version 1.0.0,  
> current version 227.0.0)
>         /usr/lib/libauto.dylib (compatibility version 1.0.0,  
> current version 1.0.0)
>         /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0,  
> current version 1.0.0)
>         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0,  
> current version 88.1.3)
>
> If you get a different result, it could be possibly a bug in your  
> OS X - please let me know.


I get a slightly different version of libSystem.B.dylib:


 > otool -L /usr/lib/libobjc.A.dylib
/usr/lib/libobjc.A.dylib:
         /usr/lib/libobjc.A.dylib (compatibility version 1.0.0,  
current version 227.0.0)
         /usr/lib/libauto.dylib (compatibility version 1.0.0, current  
version 1.0.0)
         /usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0,  
current version 1.0.0)
         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0,  
current version 88.3.3)


From simon.urbanek at r-project.org  Fri Sep 22 22:12:22 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 22 Sep 2006 16:12:22 -0400
Subject: [R-SIG-Mac] Mac Pro fix [Was: Error loading grDevices.so]
In-Reply-To: <EAFDD935-AEC5-4E3D-8CDD-FCAE5C2CC64F@smalltime.com>
References: <EAFDD935-AEC5-4E3D-8CDD-FCAE5C2CC64F@smalltime.com>
Message-ID: <25B1E7A4-1CBE-4882-A0B3-687B00A3C68F@r-project.org>

A follow-up on this (thanks to Gene for his cooperation), a temporary  
fix is to start R using

R_LD_LIBRARY_PATH= R

a more permanent fix (with the same effect) is to uncomment/remove  
the second line in
/Library/Frameworks/R.framework/Resources/etc/i386/ldpaths

Strangely enough Mac OS X 10.4.7 (8.7.2) on Mac Pro seems to behave  
differently from other OS X variants (8.7.0=ppc, 8.7.1=CoreDuo) with  
respect to loading libraries. In general, messing with  
DYLD_LIBRARY_PATH has even more severe consequences, so it should be  
avoided at all costs.

R.app (the GUI) is not affected as it doesn't set DYLD_LIBRARY_PATH.

Cheers,
Simon


On Sep 21, 2006, at 2:28 PM, Gene wrote:

> I just tried running R from the command line for the first time with
> my new setup and get this error in trying to load grDevices.so:
>
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>    unable to load shared library '/Library/Frameworks/R.framework/
> Resources/library/grDevices/libs/ppc/grDevices.so':
> dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/
> libs/ppc/grDevices.so, 6): Symbol not found: ___eprintf
> Referenced from: /System/Library/Frameworks/CoreServices.framework/
> Versions/A/Frameworks/CFNetwork.framework/Versions/A/CFNetwork
> Expected in: /Library/Frameworks/R.framework/Resources/lib/libstdc++.
> 6.dylib
>
> I could live without quartz() or X11(), but when I get this error on
> library(stats), that really hurts.
>
> Any suggestions?  Here is my system:
>
> R.version.string =  "Version 2.3.1 (2006-06-01)"
> R GUI = Version 1.16 (3198)
> OS = 10.4.7
> Computer = 2x3GHz Mac Pro
>


From ellis at stat.harvard.edu  Tue Sep 26 21:41:32 2006
From: ellis at stat.harvard.edu (Byron Ellis)
Date: Tue, 26 Sep 2006 12:41:32 -0700
Subject: [R-SIG-Mac] Starting a TextMate bundle for R package development
Message-ID: <7098abec0609261241mb07ae51ldf56d609212d5c39@mail.gmail.com>

Hi all, I've started putting some of the stuff I've modified in the
standard R bundle into an R Developer's Bundle accessible at

svn co https://biogibbs.stanford.edu/svn/tmbundles/trunk/RDevelEnv.tmbundle

right now the only thing in the repository is my simple build script,
but it saves me a lot of time when building R packages. It does some
basic formatting of the compilation phases (including removing those
pesky indirect jmp warnings) but most importantly, it searches up the
tree for a DESCRIPTION file and starts the package build there so you
don't have to think about it.

I'm also working on getting the runit workflow suggested on the R wiki
working properly along with R CMD check output on different keys so
you can unit test your package quickly and easily. I recommend it in
conjunction with R.tmbundle and SWeave.tmbundle, available from the
TextMate bundle repository. There's definitely a reason Emacs did not
survive the move to my Macbook Pro. :-)

-- 
Byron Ellis (byron.ellis at gmail.com)
"Oook" -- The Librarian


From alpinemappingguild at earthlink.net  Wed Sep 27 04:31:20 2006
From: alpinemappingguild at earthlink.net (alpinemappingguild at earthlink.net)
Date: Tue, 26 Sep 2006 22:31:20 -0400 (GMT-04:00)
Subject: [R-SIG-Mac] R crashes on opening of script
Message-ID: <18075112.1159324281246.JavaMail.root@elwamui-milano.atl.sa.earthlink.net>

Map PowerBook G4
OSX 10.4.7
R Version 2.3.1 (2006-06-01) 3819 

New user here, some positive experience with R in Windows O/S, but so far no luck with Mac version.
Installed R but experiencing persistent and repeated crashes when trying to open script files or creating a new. empty document from the console or using File>new document. Application waits a few seconds, then SBOD, then crash. Not sure how to retrieve crash report but any help would be much appreciated. 

mg


From goedman at mac.com  Wed Sep 27 05:06:00 2006
From: goedman at mac.com (Rob J Goedman)
Date: Tue, 26 Sep 2006 20:06:00 -0700
Subject: [R-SIG-Mac] R crashes on opening of script
In-Reply-To: <18075112.1159324281246.JavaMail.root@elwamui-milano.atl.sa.earthlink.net>
References: <18075112.1159324281246.JavaMail.root@elwamui-milano.atl.sa.earthlink.net>
Message-ID: <44355CA1-9E9B-457C-B8DE-E164B83F123B@mac.com>

Hi,

1) To get to the crash, go to Console.app in /Application/Utilities,  
click on Logs, select ~/Library/Logs
and look under CrashReporter.

2) Could you send me your .plist file (in ~/Library/Preferences/org.R- 
project.R.plist)?

Can you send those to me?

Thanks,
Rob


On Sep 26, 2006, at 7:31 PM, alpinemappingguild at earthlink.net wrote:

> Map PowerBook G4
> OSX 10.4.7
> R Version 2.3.1 (2006-06-01) 3819
>
> New user here, some positive experience with R in Windows O/S, but  
> so far no luck with Mac version.
> Installed R but experiencing persistent and repeated crashes when  
> trying to open script files or creating a new. empty document from  
> the console or using File>new document. Application waits a few  
> seconds, then SBOD, then crash. Not sure how to retrieve crash  
> report but any help would be much appreciated.
>
> mg
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Wed Sep 27 06:22:38 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 27 Sep 2006 00:22:38 -0400
Subject: [R-SIG-Mac] broken pipe?
In-Reply-To: <193D6986-D59F-45D8-A185-119A4C3BA00C@vanderbilt.edu>
References: <CBC132D3-FC5B-4B58-A95C-BBA5D79BEF07@stat.ubc.ca>
	<193D6986-D59F-45D8-A185-119A4C3BA00C@vanderbilt.edu>
Message-ID: <BFD05315-0150-49F2-AB1A-1B869C5612FF@r-project.org>

This should be fixed in R 2.4.0.

I'd like to encourage everyone to test R 2.4.0 beta/rc now so we fix  
can any pending bugs before the release. Visit
http://r.research.att.com/
for details.

Thanks,
Simon

On Sep 26, 2006, at 10:15 PM, David Airey wrote:

> No, but there is a setting combination that works. I'm cc'ing  
> Simon, one of those closer to the development of R.app, just to let  
> him know another soul experienced my problem.
>
> In the R startup preferences make sure the Add $HOME/R/Library is  
> selected.
>
> In the package installer dialog select the last option, As defined  
> by libPaths().
>
> This is weird, but works.
>
> -Dave
>
> On Sep 26, 2006, at 6:20 PM, Jenny Bryan wrote:
>
>> Did you ever get that fixed?  I'm having the same problem.
>>
>> Thanks, Jenny
>>
>>
>> Dr. Jennifer Bryan
>> Assistant Professor
>> Department of Statistics and
>>  the Michael Smith Laboratories
>> University of British Columbia
>> --------------------------------------------
>> 333-6356 Agricultural Road
>> Vancouver, BC Canada
>> V6T 1Z2
>>
>>
>>
>
> --
> David C. Airey, Ph.D.
> Research Assistant Professor
>
> Department of Pharmacology
> School of Medicine
> Vanderbilt University
> 8148-A Medical Research Building 3
> 465 21st Avenue South
> Nashville, TN 37232-8548
>
> TEL   (615) 936-1510
> FAX   (615) 936-3747
> EMAIL david.airey at vanderbilt.edu
> URL   http://people.vanderbilt.edu/~david.c.airey/dca_cv.pdf
> URL   http://www.vanderbilt.edu/pharmacology
>
>
>
>


From fparlamis at mac.com  Thu Sep 28 06:59:16 2006
From: fparlamis at mac.com (Parlamis Franklin)
Date: Wed, 27 Sep 2006 18:59:16 -1000
Subject: [R-SIG-Mac] crash on canceled "Open in Editor" operation
Message-ID: <B1EE3D7E-A1AF-4730-9990-09662448F86C@mac.com>

if i hit the "Open in Editor" toolbar button, but then cancel out of  
the dialog box, R crashes.

franklin parlamis

GUI Version 1.17-pre (3779)

 > version
                _
platform       powerpc-apple-darwin8.7.0
arch           powerpc
os             darwin8.7.0
system         powerpc, darwin8.7.0
status         beta
major          2
minor          4.0
year           2006
month          09
day            22
svn rev        39471
language       R
version.string R version 2.4.0 beta (2006-09-22 r39471)


From simon.urbanek at r-project.org  Thu Sep 28 15:44:00 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 28 Sep 2006 09:44:00 -0400
Subject: [R-SIG-Mac] crash on canceled "Open in Editor" operation
In-Reply-To: <B1EE3D7E-A1AF-4730-9990-09662448F86C@mac.com>
References: <B1EE3D7E-A1AF-4730-9990-09662448F86C@mac.com>
Message-ID: <31D72659-DFC6-4418-8AC4-31F04058CB03@r-project.org>


On Sep 28, 2006, at 12:59 AM, Parlamis Franklin wrote:

> if i hit the "Open in Editor" toolbar button, but then cancel out  
> of  the dialog box, R crashes.
>

Please always include a crash report when R 'crashed' -  we cannot do  
anything without it. I cannot reproduce the problem, either.

Thanks,
Simon


> franklin parlamis
>
> GUI Version 1.17-pre (3779)
>
>> version
>                 _
> platform       powerpc-apple-darwin8.7.0
> arch           powerpc
> os             darwin8.7.0
> system         powerpc, darwin8.7.0
> status         beta
> major          2
> minor          4.0
> year           2006
> month          09
> day            22
> svn rev        39471
> language       R
> version.string R version 2.4.0 beta (2006-09-22 r39471)
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Thu Sep 28 16:02:40 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 28 Sep 2006 10:02:40 -0400
Subject: [R-SIG-Mac] crash on canceled "Open in Editor" operation
In-Reply-To: <B1EE3D7E-A1AF-4730-9990-09662448F86C@mac.com>
References: <B1EE3D7E-A1AF-4730-9990-09662448F86C@mac.com>
Message-ID: <7F26CC73-4615-47F5-8B50-1EA593B4584B@r-project.org>


On Sep 28, 2006, at 12:59 AM, Parlamis Franklin wrote:

> if i hit the "Open in Editor" toolbar button, but then cancel out  
> of   the dialog box, R crashes.
>

I have found a bug that may be related to this - please test  
tonight's release 3825.
Thanks for testing the most recent GUI and R! This bug was introduced  
only recently so without your help we wouldn't spot it until it's too  
late.

Thanks,
Simon


From papucho at mac.com  Thu Sep 28 16:04:28 2006
From: papucho at mac.com (Ivan Alves)
Date: Thu, 28 Sep 2006 16:04:28 +0200
Subject: [R-SIG-Mac] A bug in the Mac GUI and a request
Message-ID: <5C1486EE-9E16-4009-BA7D-4E4B1D7C5895@mac.com>

Dear Simon,

First the bug:
R GUI version 1.17-pre (3821), Mac OS X system 10.4.7 on intel core  
duo.  Whenever (or almost)  I save the content of the quartz device  
(the graphics window) to a file, the window "Save Content of Quartz  
Device to PDF File" remains (or rather comes back) after pressing on  
the save button.  Furthermore this window cannot be closed, except by  
quiting the R GUI.

Now the request:
UTF-8 encoding support.  Since I have started working with csv files  
encoded in UTF-8 (which appears to be the native.enc in OS X) I have  
had quite a headache subsetting dataframes by values of a given  
factor (with text encoded in UTF-8 I pressume).  For instance  
"Compa?ia" appears as "Compa\361ia".  It goes beyond just looks,  
working with an external editor (TextMate), I cannot use "Compa?ia"  
nor "Compa\361ia", but "Compa\\361ia" for instance for subseting on a  
factor with this value.  This is hardly optimal and was wondering  
when the encoding issues are going to be solved on the OS X platform  
this problem does not appear in windows, partly I suppose as the csv  
files come form that platform...

many thanks in advance

Ivan


From simon.urbanek at r-project.org  Thu Sep 28 16:42:13 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 28 Sep 2006 10:42:13 -0400
Subject: [R-SIG-Mac] R crashes on opening of script
In-Reply-To: <18075112.1159324281246.JavaMail.root@elwamui-milano.atl.sa.earthlink.net>
References: <18075112.1159324281246.JavaMail.root@elwamui-milano.atl.sa.earthlink.net>
Message-ID: <6F0C9FA9-7609-4CA4-82D4-8CDA875E8C01@r-project.org>


On Sep 26, 2006, at 10:31 PM, alpinemappingguild at earthlink.net wrote:

> Map PowerBook G4
> OSX 10.4.7
> R Version 2.3.1 (2006-06-01) 3819
>
> New user here, some positive experience with R in Windows O/S, but  
> so far no luck with Mac version.

I'm sorry about that - the GUI version you are using (3819) was  
experimental and has a rather nasty bug in the document handling.  
Although updating the GUI to the latest development version is  
usually recommended as it contains bug fixes, occasionally it can  
happen that we actually introduce one in the process of fixing  
another one.


> Installed R but experiencing persistent and repeated crashes when  
> trying to open script files or creating a new. empty document from  
> the console or using File>new document. Application waits a few  
> seconds, then SBOD, then crash.

Thanks, this should be fixed now in the revision 3825 of the GUI - it  
will be available from the nightly builds website ( http:// 
r.research.att.com ) tonight.


> Not sure how to retrieve crash report but any help would be much  
> appreciated.
>

There are two ways to get a crash report. The first one is simple -  
when an application crashes, OS X asks you whether you want to send a  
report to Apple. Say "yes" and it will show you a window with the  
full report - don't click on "Send to Apple", just copy the text of  
the report and send it to us instead.

If you had a crash and want to see the report later, go to  
Application -> Utilities -> Console. If you don't see a list of logs  
on the left, click on "Logs" in the toolbar. Unfold ~/Library/Logs  
and there CrashReporter and then look for R.crash.log. It will have  
all your crashes, so look for the recent one.

Thanks,
Simon

PS: Please use real name in your posts when possible, anonymous post  
or posts using obscure e-mail names tend to be dismissed or ignored  
more readily.


From simon.urbanek at r-project.org  Thu Sep 28 17:24:37 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 28 Sep 2006 11:24:37 -0400
Subject: [R-SIG-Mac] A bug in the Mac GUI and a request
In-Reply-To: <5C1486EE-9E16-4009-BA7D-4E4B1D7C5895@mac.com>
References: <5C1486EE-9E16-4009-BA7D-4E4B1D7C5895@mac.com>
Message-ID: <5C581272-CFC3-4482-B6FE-1DECEF3D381E@r-project.org>

Ivan,

On Sep 28, 2006, at 10:04 AM, Ivan Alves wrote:

> First the bug:
> R GUI version 1.17-pre (3821), Mac OS X system 10.4.7 on intel core  
> duo.  Whenever (or almost)  I save the content of the quartz device  
> (the graphics window) to a file, the window "Save Content of Quartz  
> Device to PDF File" remains (or rather comes back) after pressing  
> on the save button.  Furthermore this window cannot be closed,  
> except by quiting the R GUI.
>

Ok, we'll have a look. There are issues with Cocoa since 10.4 that  
are still plaguing us ...


> Now the request:
> UTF-8 encoding support.  Since I have started working with csv  
> files encoded in UTF-8 (which appears to be the native.enc in OS X)  
> I have had quite a headache subsetting dataframes by values of a  
> given factor (with text encoded in UTF-8 I pressume).  For instance  
> "Compa?ia" appears as "Compa\361ia".

The problem here is that your are *not* using UTF-8. UTF-8 encoding  
of "?" is (if printed as octal codes) "\303\261". So what you see is  
something that is in a different encoding - AFAIC it is latin1 as you  
can see easily:

In command-line R (without locale):
 > iconv("Compa\361ia","latin1","UTF-8")
[1] "Compa\303\261ia"

In the GUI:
 > iconv("Compa\361ia","latin1","UTF-8")
[1] "Compa?ia"

So when you are loading your table, you should be using something like
read.table(file("my.table",encoding="latin1"))
to get the correct result.

You may want to read Brian Ripley's article about encodings and  
localization in the R News Vol 5/1.

Cheers,
Simon


From wrising at bellarmine.edu  Thu Sep 28 17:54:20 2006
From: wrising at bellarmine.edu (Bill Rising)
Date: Thu, 28 Sep 2006 11:54:20 -0400
Subject: [R-SIG-Mac] A bug in the Mac GUI and a request
In-Reply-To: <5C581272-CFC3-4482-B6FE-1DECEF3D381E@r-project.org>
References: <5C1486EE-9E16-4009-BA7D-4E4B1D7C5895@mac.com>
	<5C581272-CFC3-4482-B6FE-1DECEF3D381E@r-project.org>
Message-ID: <B3423B23-1972-4F4F-BE15-4A241698626E@bellarmine.edu>

On Sep 28, 2006, at 11:24, Simon Urbanek wrote:

> Ivan,
>
> On Sep 28, 2006, at 10:04 AM, Ivan Alves wrote:
>
>> First the bug:
>> R GUI version 1.17-pre (3821), Mac OS X system 10.4.7 on intel core
>> duo.  Whenever (or almost)  I save the content of the quartz device
>> (the graphics window) to a file, the window "Save Content of Quartz
>> Device to PDF File" remains (or rather comes back) after pressing
>> on the save button.  Furthermore this window cannot be closed,
>> except by quiting the R GUI.

This happens in R GUI 1.16 (3198) under Mac OS X 10.4.7 on a PPC  
also. As far as I can remember, this problem is fairly recent. It  
seems to happen when I Save As... and then switch focus away from R  
quickly. If I leave the focus on R for a couple of seconds, there is  
no problem.

Bill
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2427 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060928/603a7dd2/attachment.bin 

From papucho at mac.com  Thu Sep 28 18:47:03 2006
From: papucho at mac.com (Ivan Alves)
Date: Thu, 28 Sep 2006 18:47:03 +0200
Subject: [R-SIG-Mac] Fwd:  A bug in the Mac GUI and a request
References: <850656D0-C432-46CF-A833-56F1428EE0FA@mac.com>
Message-ID: <0B7A79B6-50DF-48E5-B4F9-A5B3CB03BFAA@mac.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060928/da438ec8/attachment.pl 

From sean.wiltshire at gmail.com  Thu Sep 28 18:59:01 2006
From: sean.wiltshire at gmail.com (Sean Wiltshire)
Date: Thu, 28 Sep 2006 12:59:01 -0400
Subject: [R-SIG-Mac] EBImage package from bioconductor
In-Reply-To: <31D72659-DFC6-4418-8AC4-31F04058CB03@r-project.org>
References: <B1EE3D7E-A1AF-4730-9990-09662448F86C@mac.com>
	<31D72659-DFC6-4418-8AC4-31F04058CB03@r-project.org>
Message-ID: <A53C4A32-599F-4CA3-BB9E-3681E08C385B@gmail.com>

Hi all,
I've been having some problems getting the bioconductor library  
'EBImage' installed and running properly. It depends on imagemagick  
and I think I have that installed properly, I used fink  imagemagick- 
dev    6.1.8-3 without any obvious problems. I run 10.4.7, and I was  
using xcode 2.0 with R version 2.4.0 beta (2006-09-24 r39502),  
powerpc-apple-darwin8.7.0

This is the package:
http://www.bioconductor.org/packages/1.9/bioc/html/EBImage.html

Here is what happens when I try to install:

root# R CMD install /Users/swilts/Desktop/EBImage_1.3.105.tar.gz*  
Installing *source* package 'EBImage' ...

[snip]
/usr/bin/libtool: unknown option character `m' in: -macosx_version_min
Usage: /usr/bin/libtool -static [-] file [...] [-filelist listfile 
[,dirname]] [-arch_only arch] [-sacLT]
Usage: /usr/bin/libtool -dynamic [-] file [...] [-filelist listfile 
[,dirname]] [-arch_only arch] [-o output] [-install_name name] [- 
compatibility_version #] [-current_version #] [-seg1addr 0x#] [- 
segs_read_only_addr 0x#] [-segs_read_write_addr 0x#] [-seg_addr_table  
<filename>] [-seg_addr_table_filename <file_system_path>] [-all_load]  
[-noall_load]
make: *** [EBImage.so] Error 1
chmod: /Library/Frameworks/R.framework/Versions/2.4/Resources/library/ 
EBImage/libs/ppc/*: No such file or directory

So, I tried installing glibtool using fink, this didn't seem to fix  
anything, then I heard from a friend that maybe getting xcode 2.4  
would fix libtool, I signed up and downloaded that, tried again.
Now, the package seems to finish compiling but when I try to load it  
into R I get this:

 > library(EBImage)
Error in dyn.load(x, as.logical(local), as.logical(now)) :
         unable to load shared library '/Library/Frameworks/ 
R.framework/Resources/library/EBImage/libs/ppc/EBImage.so':
   dlopen(/Library/Frameworks/R.framework/Resources/library/EBImage/ 
libs/ppc/EBImage.so, 6): Symbol not found: __ZTIN6Magick9ExceptionE
   Referenced from: /Library/Frameworks/R.framework/Resources/library/ 
EBImage/libs/ppc/EBImage.so
   Expected in: dynamic lookup
Error: package/namespace load failed for 'EBImage'
 >

Has anyone else installed this package on a mac successfully? Any  
pointers even if you haven't? Is this still a problem with libtool  
not working properly? One friend suggested I replace libtool with  
glibtool, is that safe?

Best,
Sean


From goedman at mac.com  Thu Sep 28 19:18:52 2006
From: goedman at mac.com (Rob J Goedman)
Date: Thu, 28 Sep 2006 10:18:52 -0700
Subject: [R-SIG-Mac] A bug in the Mac GUI and a request
In-Reply-To: <B3423B23-1972-4F4F-BE15-4A241698626E@bellarmine.edu>
References: <5C1486EE-9E16-4009-BA7D-4E4B1D7C5895@mac.com>
	<5C581272-CFC3-4482-B6FE-1DECEF3D381E@r-project.org>
	<B3423B23-1972-4F4F-BE15-4A241698626E@bellarmine.edu>
Message-ID: <B48B200B-475A-4B91-A9AA-909DFEA29464@mac.com>

Hi Ivan & Bill,

Thanks for spotting another case of a 'dangling' window. Its fixed in  
the source and it should be in tonight's build, available tomorrow  
(3830 or higher) from http://r.research.att.com  .

This window indeed is not added to the window list, hence there is no  
way to make it disappear other
than restarting R.app.

If anyone comes across these windows that magically popup a short  
while after dismissal, please let us know when it happens and which  
window pops up.

Rob


On Sep 28, 2006, at 8:54 AM, Bill Rising wrote:

> On Sep 28, 2006, at 11:24, Simon Urbanek wrote:
>
>> Ivan,
>>
>> On Sep 28, 2006, at 10:04 AM, Ivan Alves wrote:
>>
>>> First the bug:
>>> R GUI version 1.17-pre (3821), Mac OS X system 10.4.7 on intel core
>>> duo.  Whenever (or almost)  I save the content of the quartz device
>>> (the graphics window) to a file, the window "Save Content of Quartz
>>> Device to PDF File" remains (or rather comes back) after pressing
>>> on the save button.  Furthermore this window cannot be closed,
>>> except by quiting the R GUI.
>
> This happens in R GUI 1.16 (3198) under Mac OS X 10.4.7 on a PPC  
> also. As far as I can remember, this problem is fairly recent. It  
> seems to happen when I Save As... and then switch focus away from R  
> quickly. If I leave the focus on R for a couple of seconds, there  
> is no problem.
>
> Bill_______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Thu Sep 28 19:59:52 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 28 Sep 2006 13:59:52 -0400
Subject: [R-SIG-Mac] A bug in the Mac GUI and a request
In-Reply-To: <850656D0-C432-46CF-A833-56F1428EE0FA@mac.com>
References: <5C1486EE-9E16-4009-BA7D-4E4B1D7C5895@mac.com>
	<5C581272-CFC3-4482-B6FE-1DECEF3D381E@r-project.org>
	<850656D0-C432-46CF-A833-56F1428EE0FA@mac.com>
Message-ID: <9E6C1975-72D2-4DF3-B98A-B71D25D53568@r-project.org>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060928/51651605/attachment.pl 

From jtan at stat.wvu.edu  Thu Sep 28 22:20:40 2006
From: jtan at stat.wvu.edu (Jun Tan)
Date: Thu, 28 Sep 2006 16:20:40 -0400
Subject: [R-SIG-Mac] Intel Mac specific bug
Message-ID: <36A563EF-3410-4187-8F07-28CE3B69DA64@stat.wvu.edu>

I had difficulties in using jpeg device under Intel Mac. Is there  
anybody has the solution yet? Here is the code to demo the error:

x <- rnorm(100)
jpeg(file="test.jpg")
hist(x)
dev.off()

And then a pop-up window with the following message show up: JPEG  
parameter struct mismatch: library think the size is 372, caller  
expects 376.

The same code works fine under powerpc based mac.

BTW, the R I used is 2.3.1. I am not sure if this happens on any  
older version of R or not.

Jun


From papucho at mac.com  Thu Sep 28 22:32:12 2006
From: papucho at mac.com (Ivan Alves)
Date: Thu, 28 Sep 2006 22:32:12 +0200
Subject: [R-SIG-Mac] A bug in the Mac GUI and a request
In-Reply-To: <9E6C1975-72D2-4DF3-B98A-B71D25D53568@r-project.org>
References: <5C1486EE-9E16-4009-BA7D-4E4B1D7C5895@mac.com>
	<5C581272-CFC3-4482-B6FE-1DECEF3D381E@r-project.org>
	<850656D0-C432-46CF-A833-56F1428EE0FA@mac.com>
	<9E6C1975-72D2-4DF3-B98A-B71D25D53568@r-project.org>
Message-ID: <4722E2C6-B7C0-4E2D-86A1-26CA27029181@mac.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060928/456e5e3b/attachment.pl 

From simon.urbanek at r-project.org  Thu Sep 28 23:13:10 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 28 Sep 2006 17:13:10 -0400
Subject: [R-SIG-Mac] A bug in the Mac GUI and a request
In-Reply-To: <4722E2C6-B7C0-4E2D-86A1-26CA27029181@mac.com>
References: <5C1486EE-9E16-4009-BA7D-4E4B1D7C5895@mac.com>
	<5C581272-CFC3-4482-B6FE-1DECEF3D381E@r-project.org>
	<850656D0-C432-46CF-A833-56F1428EE0FA@mac.com>
	<9E6C1975-72D2-4DF3-B98A-B71D25D53568@r-project.org>
	<4722E2C6-B7C0-4E2D-86A1-26CA27029181@mac.com>
Message-ID: <8A835F24-8E65-4C72-9C32-19ABB556947B@r-project.org>


On Sep 28, 2006, at 4:32 PM, Ivan Alves wrote:

>> Sys.getenv("LANG") in the GUI, you should get something like:
>> > Sys.getenv("LANG")
>>          LANG
>> "en_US.UTF-8"
>>
> > Sys.getenv("LANG")
>                       LANG
> "en_GB at currency=EUR.UTF-8"
>

Wow, that's weird one. Can you, please, try to run

defaults write org.R-project.R force.LANG en_GB.UTF-8

in the Terminal and run the GUI again? Consequently UTF-8 should be  
working again. Please let me know whether it does and I'll fix the  
GUI to do that automatically. You can revoke the above by running

defaults delete org.R-project.R force.LANG

Thanks,
Simon


From simon.urbanek at r-project.org  Thu Sep 28 23:46:40 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 28 Sep 2006 17:46:40 -0400
Subject: [R-SIG-Mac] Intel Mac specific bug
In-Reply-To: <36A563EF-3410-4187-8F07-28CE3B69DA64@stat.wvu.edu>
References: <36A563EF-3410-4187-8F07-28CE3B69DA64@stat.wvu.edu>
Message-ID: <358972CA-110B-4F5D-9BE9-0C7CC467C119@r-project.org>

On Sep 28, 2006, at 4:20 PM, Jun Tan wrote:

> I had difficulties in using jpeg device under Intel Mac. Is there
> anybody has the solution yet? Here is the code to demo the error:
>
> x <- rnorm(100)
> jpeg(file="test.jpg")
> hist(x)
> dev.off()
>
> And then a pop-up window with the following message show up: JPEG
> parameter struct mismatch: library think the size is 372, caller
> expects 376.
>

This has been discussed and fixed
http://www.mail-archive.com/r-devel at r-project.org/msg05678.html

Cheers,
Simon


> The same code works fine under powerpc based mac.
>
> BTW, the R I used is 2.3.1. I am not sure if this happens on any  
> older version of R or not.


From alpinemappingguild at earthlink.net  Thu Sep 28 17:00:19 2006
From: alpinemappingguild at earthlink.net (Martin Gamache)
Date: Thu, 28 Sep 2006 11:00:19 -0400
Subject: [R-SIG-Mac] R crashes on opening of script
References: <18075112.1159324281246.JavaMail.root@elwamui-milano.atl.sa.earthlink.net>
	<6F0C9FA9-7609-4CA4-82D4-8CDA875E8C01@r-project.org>
Message-ID: <002101c6e30e$d4056b10$380afea9@OldPC>

Simon,

I've tracked down the source of the error by installing versior  2.2.1

It turns out a few days ago I had disabled all my system fonts in order to 
troubleshoot
some font problems. I had not re-activated them. As a result version 3.2.1 
was very
unstable. Version 2.2.1 was more stable and also returned an error message 
about
a missing font. This led me to the problem. V.3.2.1 is now functioning as 
expected
with all system fonts available. I had also installed the new GUI.

Thanks for the response.

Martin Gamache----- Original Message ----- 
From: "Simon Urbanek" <simon.urbanek at r-project.org>
To: <alpinemappingguild at earthlink.net>
Cc: <r-sig-mac at stat.math.ethz.ch>
Sent: Thursday, September 28, 2006 10:42
Subject: Re: [R-SIG-Mac] R crashes on opening of script


>
> On Sep 26, 2006, at 10:31 PM, alpinemappingguild at earthlink.net wrote:
>
>> Map PowerBook G4
>> OSX 10.4.7
>> R Version 2.3.1 (2006-06-01) 3819
>>
>> New user here, some positive experience with R in Windows O/S, but  so 
>> far no luck with Mac version.
>
> I'm sorry about that - the GUI version you are using (3819) was 
> experimental and has a rather nasty bug in the document handling. 
> Although updating the GUI to the latest development version is  usually 
> recommended as it contains bug fixes, occasionally it can  happen that we 
> actually introduce one in the process of fixing  another one.
>
>
>> Installed R but experiencing persistent and repeated crashes when  trying 
>> to open script files or creating a new. empty document from  the console 
>> or using File>new document. Application waits a few  seconds, then SBOD, 
>> then crash.
>
> Thanks, this should be fixed now in the revision 3825 of the GUI - it 
> will be available from the nightly builds website ( http:// 
> r.research.att.com ) tonight.
>
>
>> Not sure how to retrieve crash report but any help would be much 
>> appreciated.
>>
>
> There are two ways to get a crash report. The first one is simple -  when 
> an application crashes, OS X asks you whether you want to send a  report 
> to Apple. Say "yes" and it will show you a window with the  full report - 
> don't click on "Send to Apple", just copy the text of  the report and send 
> it to us instead.
>
> If you had a crash and want to see the report later, go to  Application -> 
> Utilities -> Console. If you don't see a list of logs  on the left, click 
> on "Logs" in the toolbar. Unfold ~/Library/Logs  and there CrashReporter 
> and then look for R.crash.log. It will have  all your crashes, so look for 
> the recent one.
>
> Thanks,
> Simon
>
> PS: Please use real name in your posts when possible, anonymous post  or 
> posts using obscure e-mail names tend to be dismissed or ignored  more 
> readily.
>
>


From rhead.enion at yale.edu  Fri Sep 29 13:52:30 2006
From: rhead.enion at yale.edu (Michael Rhead Enion)
Date: Fri, 29 Sep 2006 07:52:30 -0400
Subject: [R-SIG-Mac] Loading rgdal library
Message-ID: <4C27C7CE-FE32-433A-B213-BF117AC2BDDE@yale.edu>

I am trying to load the rgdal library in Mac OS X 10.4.7 (pismo g3  
500 mhz).

I followed the directions for rgdal at http://www.sal.uiuc.edu/tools/ 
tools-sum/rgeo/rgeo-detail/map-packages-on-cran.
I already loaded sp and compiled rgdal successfully, such that rgdal  
shows up in the package manager GUI.  But when I try to load rgdal, I  
get the following error message:

Error in dyn.load(x, as.logical(local), as.logical(now)) :
	unable to load shared library '/Users/rhead/Library/R/library/rgdal/ 
libs/ppc/rgdal.so':
   dlopen(/Users/rhead/Library/R/library/rgdal/libs/ppc/rgdal.so, 6):  
no suitable image found.  Did find:
	/Users/rhead/Library/R/library/rgdal/libs/ppc/rgdal.so: mach-o, but  
wrong architecture
Error: package/namespace load failed for 'rgdal'

Any help in fixing this problem would be appreciated.

Thanks,

Rhead


From chabotd at globetrotter.net  Fri Sep 29 19:39:35 2006
From: chabotd at globetrotter.net (Denis Chabot)
Date: Fri, 29 Sep 2006 13:39:35 -0400
Subject: [R-SIG-Mac] Tcl/Tk
Message-ID: <DB58E30E-5EB6-4935-8648-420F9BFBEE88@globetrotter.net>

Hi,

I just tried two things that required Tcl/Tk (acronym I've seen a lot  
lately, but that means next to nothing to me): Grass 6 and R packages  
tcltk and PBSmodelling. Grass simple vanished before completing its  
launch, and this is what I got from within R:

 > library(tcltk)
Loading Tcl/Tk interface ... Erreur dans fun(...) : Can't find a  
usable init.tcl in the following directories:
     @TCL_IN_FRAMEWORK@ @TCL_IN_FRAMEWORK@



This probably means that Tcl wasn't installed properly.
Erreur : .onLoad a ?chou? dans 'loadNamespace' pour 'tcltk'
Erreur : le chargement du package / espace de noms a ?chou? pour 'tcltk'
 >


For some reason I thought Tcl/Tk came standard with Tiger. I cannot  
find trace of it on my HD. I've used Spotlight but I think this does  
not search in the invisible folders. I looked manually in /usr and  
did not see it, but I could have missed it.

Was I wrong to assume it came with Tiger? Was it like XWindow, a box  
I had to click to have it included (in which case I'm not sure I  
clicked it). I also remember seeing an option for Tcl/Tk when I  
installed R 2.3, and I thought I selected it.

Anyway, although answers to the above will satisfy my curiosity, my  
main question is: I downloaded TclTkAqua-8.4.10 from
http://sourceforge.net/project/showfiles.php? 
group_id=86100&package_id=89343

Can I do any harm in installing this? Is it a solution to the  
problems above? Is it the solution you'd recomment?

Thanks in advance,

Denis
-----------------------------
Denis Chabot, Ph. D.
Chercheur en bio?nerg?tique, Bioenergetics researcher
T: (418) 775-0624
F: (418) 775-0740
chabotd at dfo-mpo.gc.ca

Institut Maurice-Lamontagne
Minist?re des P?ches et Oc?ans du Canada
Department of Fisheries and Oceans, Canada
850 route de la Mer, CP 1000
Mont-Joli, QC
Canada


From chabotd at globetrotter.net  Fri Sep 29 20:39:16 2006
From: chabotd at globetrotter.net (Denis Chabot)
Date: Fri, 29 Sep 2006 14:39:16 -0400
Subject: [R-SIG-Mac] Tcl/Tk
In-Reply-To: <556AC5B9-759B-4414-88F4-E4DFE757E8A3@sauder.ubc.ca>
References: <DB58E30E-5EB6-4935-8648-420F9BFBEE88@globetrotter.net>
	<556AC5B9-759B-4414-88F4-E4DFE757E8A3@sauder.ubc.ca>
Message-ID: <292F79F3-8AF1-42BC-B1DD-A83D37FB94D6@globetrotter.net>

Hi Dan,

I remember now, I had included Tcl/Tk when I installed last time.  
Still, I grabbed that straw, downloaded the installer and did a  
default install (I checked, it included Tcl/Tk).

However I'm still not out of trouble. I hope I'll find a solution  
less disturbing than reinstalling OS X...

This was after a restart immediately following reinstallation of R  
2.3.1:


R : Copyright 2006, The R Foundation for Statistical Computing
Version 2.3.1 (2006-06-01)
ISBN 3-900051-07-0

R est un logiciel libre livr? sans AUCUNE GARANTIE.
Vous pouvez le redistribuer sous certaines conditions.
Tapez 'license()' ou 'licence()' pour plus de d?tails.

R est un projet collaboratif avec de nombreux contributeurs.
Tapez 'contributors()' pour plus d'information et
'citation()' pour la fa?on de le citer dans les publications.

Tapez 'demo()' pour des d?monstrations, 'help()' pour l'aide
en ligne ou 'help.start()' pour obtenir l'aide au format HTML.
Tapez 'q()' pour quitter R.

[Workspace restored from /Users/dchabot/.RData]

 > library(tcltk)
Loading Tcl/Tk interface ... Erreur dans fun(...) : couldn't connect  
to display ":0"
Erreur : .onLoad a ?chou? dans 'loadNamespace' pour 'tcltk'
Erreur : le chargement du package / espace de noms a ?chou? pour 'tcltk'

 > R.Version()
$platform
[1] "powerpc-apple-darwin8.6.0"

$arch
[1] "powerpc"

$os
[1] "darwin8.6.0"

$system
[1] "powerpc, darwin8.6.0"

$status
[1] ""

$major
[1] "2"

$minor
[1] "3.1"

$year
[1] "2006"

$month
[1] "06"

$day
[1] "01"

$`svn rev`
[1] "38247"

$language
[1] "R"

$version.string
[1] "Version 2.3.1 (2006-06-01)"

 >

Le 06-09-29 ? 14:04, Dan Putler a ?crit :

> Hi Denis,
>
> For reasons dealing with R's event loop, you need to use X11 Tcl/Tk  
> rather than the aqua Tcl/Tk version that comes with OS X 10.4 when  
> using Tcl/Tk with R. The CRAN installer of R comes with X11 Tcl/Tk.  
> In terms of how GRASS will behave with X11 Tcl/Tk, I don't know,  
> but I can imagine bad things if you run both aqua and X11 Tcl/Tk at  
> the same time. The people who most likely will are Lorenzo Moretti  
> (the address of his GRASS on OS X web site is http:// 
> wwwamb.bologna.enea.it/forgrass/) and William Kyngesburye (the  
> address of his GRASS on OS X web site is http://www.kyngchaos.com/ 
> macosx/grassinstall).
>
> Dan
>
> On 29-Sep-06, at 10:39 AM, Denis Chabot wrote:
>
>> Hi,
>>
>> I just tried two things that required Tcl/Tk (acronym I've seen a lot
>> lately, but that means next to nothing to me): Grass 6 and R packages
>> tcltk and PBSmodelling. Grass simple vanished before completing its
>> launch, and this is what I got from within R:
>>
>>> library(tcltk)
>> Loading Tcl/Tk interface ... Erreur dans fun(...) : Can't find a
>> usable init.tcl in the following directories:
>>      @TCL_IN_FRAMEWORK@ @TCL_IN_FRAMEWORK@
>>
>>
>>
>> This probably means that Tcl wasn't installed properly.
>> Erreur : .onLoad a ?chou? dans 'loadNamespace' pour 'tcltk'
>> Erreur : le chargement du package / espace de noms a ?chou? pour  
>> 'tcltk'
>>>
>>
>>
>> For some reason I thought Tcl/Tk came standard with Tiger. I cannot
>> find trace of it on my HD. I've used Spotlight but I think this does
>> not search in the invisible folders. I looked manually in /usr and
>> did not see it, but I could have missed it.
>>
>> Was I wrong to assume it came with Tiger? Was it like XWindow, a box
>> I had to click to have it included (in which case I'm not sure I
>> clicked it). I also remember seeing an option for Tcl/Tk when I
>> installed R 2.3, and I thought I selected it.
>>
>> Anyway, although answers to the above will satisfy my curiosity, my
>> main question is: I downloaded TclTkAqua-8.4.10 from
>> http://sourceforge.net/project/showfiles.php?
>> group_id=86100&package_id=89343
>>
>> Can I do any harm in installing this? Is it a solution to the
>> problems above? Is it the solution you'd recomment?
>>
>> Thanks in advance,
>>
>> Denis
>> -----------------------------
>> Denis Chabot, Ph. D.
>> Chercheur en bio?nerg?tique, Bioenergetics researcher
>> T: (418) 775-0624
>> F: (418) 775-0740
>> chabotd at dfo-mpo.gc.ca
>>
>> Institut Maurice-Lamontagne
>> Minist?re des P?ches et Oc?ans du Canada
>> Department of Fisheries and Oceans, Canada
>> 850 route de la Mer, CP 1000
>> Mont-Joli, QC
>> Canada
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From putler at sauder.ubc.ca  Fri Sep 29 20:58:03 2006
From: putler at sauder.ubc.ca (Dan Putler)
Date: Fri, 29 Sep 2006 11:58:03 -0700
Subject: [R-SIG-Mac] Tcl/Tk
In-Reply-To: <292F79F3-8AF1-42BC-B1DD-A83D37FB94D6@globetrotter.net>
References: <DB58E30E-5EB6-4935-8648-420F9BFBEE88@globetrotter.net>
	<556AC5B9-759B-4414-88F4-E4DFE757E8A3@sauder.ubc.ca>
	<292F79F3-8AF1-42BC-B1DD-A83D37FB94D6@globetrotter.net>
Message-ID: <F0D48A80-2FFF-4B15-8533-D495CCD147EE@sauder.ubc.ca>

Hi Denis,

Was X11 running before you launched R? The error message suggests to  
me it wasn't running.

It is extremely unlikely you will need to re-install OS X. Although,  
I can imagine you needing to build GRASS from source on your machine  
with appropriate configure options to get it to use X11 Tcl/Tk  
instead of using Apple's version.

Dan

On 29-Sep-06, at 11:39 AM, Denis Chabot wrote:

> Hi Dan,
>
> I remember now, I had included Tcl/Tk when I installed last time.  
> Still, I grabbed that straw, downloaded the installer and did a  
> default install (I checked, it included Tcl/Tk).
>
> However I'm still not out of trouble. I hope I'll find a solution  
> less disturbing than reinstalling OS X...
>
> This was after a restart immediately following reinstallation of R  
> 2.3.1:
>
>
> R : Copyright 2006, The R Foundation for Statistical Computing
> Version 2.3.1 (2006-06-01)
> ISBN 3-900051-07-0
>
> R est un logiciel libre livr? sans AUCUNE GARANTIE.
> Vous pouvez le redistribuer sous certaines conditions.
> Tapez 'license()' ou 'licence()' pour plus de d?tails.
>
> R est un projet collaboratif avec de nombreux contributeurs.
> Tapez 'contributors()' pour plus d'information et
> 'citation()' pour la fa?on de le citer dans les publications.
>
> Tapez 'demo()' pour des d?monstrations, 'help()' pour l'aide
> en ligne ou 'help.start()' pour obtenir l'aide au format HTML.
> Tapez 'q()' pour quitter R.
>
> [Workspace restored from /Users/dchabot/.RData]
>
> > library(tcltk)
> Loading Tcl/Tk interface ... Erreur dans fun(...) : couldn't  
> connect to display ":0"
> Erreur : .onLoad a ?chou? dans 'loadNamespace' pour 'tcltk'
> Erreur : le chargement du package / espace de noms a ?chou? pour  
> 'tcltk'
>
> > R.Version()
> $platform
> [1] "powerpc-apple-darwin8.6.0"
>
> $arch
> [1] "powerpc"
>
> $os
> [1] "darwin8.6.0"
>
> $system
> [1] "powerpc, darwin8.6.0"
>
> $status
> [1] ""
>
> $major
> [1] "2"
>
> $minor
> [1] "3.1"
>
> $year
> [1] "2006"
>
> $month
> [1] "06"
>
> $day
> [1] "01"
>
> $`svn rev`
> [1] "38247"
>
> $language
> [1] "R"
>
> $version.string
> [1] "Version 2.3.1 (2006-06-01)"
>
> >
>
> Le 06-09-29 ? 14:04, Dan Putler a ?crit :
>
>> Hi Denis,
>>
>> For reasons dealing with R's event loop, you need to use X11 Tcl/ 
>> Tk rather than the aqua Tcl/Tk version that comes with OS X 10.4  
>> when using Tcl/Tk with R. The CRAN installer of R comes with X11  
>> Tcl/Tk. In terms of how GRASS will behave with X11 Tcl/Tk, I don't  
>> know, but I can imagine bad things if you run both aqua and X11  
>> Tcl/Tk at the same time. The people who most likely will are  
>> Lorenzo Moretti (the address of his GRASS on OS X web site is  
>> http://wwwamb.bologna.enea.it/forgrass/) and William Kyngesburye  
>> (the address of his GRASS on OS X web site is http:// 
>> www.kyngchaos.com/macosx/grassinstall).
>>
>> Dan
>>
>> On 29-Sep-06, at 10:39 AM, Denis Chabot wrote:
>>
>>> Hi,
>>>
>>> I just tried two things that required Tcl/Tk (acronym I've seen a  
>>> lot
>>> lately, but that means next to nothing to me): Grass 6 and R  
>>> packages
>>> tcltk and PBSmodelling. Grass simple vanished before completing its
>>> launch, and this is what I got from within R:
>>>
>>>> library(tcltk)
>>> Loading Tcl/Tk interface ... Erreur dans fun(...) : Can't find a
>>> usable init.tcl in the following directories:
>>>      @TCL_IN_FRAMEWORK@ @TCL_IN_FRAMEWORK@
>>>
>>>
>>>
>>> This probably means that Tcl wasn't installed properly.
>>> Erreur : .onLoad a ?chou? dans 'loadNamespace' pour 'tcltk'
>>> Erreur : le chargement du package / espace de noms a ?chou? pour  
>>> 'tcltk'
>>>>
>>>
>>>
>>> For some reason I thought Tcl/Tk came standard with Tiger. I cannot
>>> find trace of it on my HD. I've used Spotlight but I think this does
>>> not search in the invisible folders. I looked manually in /usr and
>>> did not see it, but I could have missed it.
>>>
>>> Was I wrong to assume it came with Tiger? Was it like XWindow, a box
>>> I had to click to have it included (in which case I'm not sure I
>>> clicked it). I also remember seeing an option for Tcl/Tk when I
>>> installed R 2.3, and I thought I selected it.
>>>
>>> Anyway, although answers to the above will satisfy my curiosity, my
>>> main question is: I downloaded TclTkAqua-8.4.10 from
>>> http://sourceforge.net/project/showfiles.php?
>>> group_id=86100&package_id=89343
>>>
>>> Can I do any harm in installing this? Is it a solution to the
>>> problems above? Is it the solution you'd recomment?
>>>
>>> Thanks in advance,
>>>
>>> Denis
>>> -----------------------------
>>> Denis Chabot, Ph. D.
>>> Chercheur en bio?nerg?tique, Bioenergetics researcher
>>> T: (418) 775-0624
>>> F: (418) 775-0740
>>> chabotd at dfo-mpo.gc.ca
>>>
>>> Institut Maurice-Lamontagne
>>> Minist?re des P?ches et Oc?ans du Canada
>>> Department of Fisheries and Oceans, Canada
>>> 850 route de la Mer, CP 1000
>>> Mont-Joli, QC
>>> Canada
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>


From khansen at stat.Berkeley.EDU  Fri Sep 29 22:04:55 2006
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Fri, 29 Sep 2006 13:04:55 -0700
Subject: [R-SIG-Mac] Tcl/Tk
In-Reply-To: <F0D48A80-2FFF-4B15-8533-D495CCD147EE@sauder.ubc.ca>
References: <DB58E30E-5EB6-4935-8648-420F9BFBEE88@globetrotter.net>
	<556AC5B9-759B-4414-88F4-E4DFE757E8A3@sauder.ubc.ca>
	<292F79F3-8AF1-42BC-B1DD-A83D37FB94D6@globetrotter.net>
	<F0D48A80-2FFF-4B15-8533-D495CCD147EE@sauder.ubc.ca>
Message-ID: <CA09AF5F-8517-435E-B690-9EEF642E00F4@stat.berkeley.edu>

When you install R-2.3.1 click "customize" during the installation  
and choose to install the Tcl/Tk framework.

Kasper

On Sep 29, 2006, at 11:58 AM, Dan Putler wrote:

> Hi Denis,
>
> Was X11 running before you launched R? The error message suggests to
> me it wasn't running.
>
> It is extremely unlikely you will need to re-install OS X. Although,
> I can imagine you needing to build GRASS from source on your machine
> with appropriate configure options to get it to use X11 Tcl/Tk
> instead of using Apple's version.
>
> Dan
>
> On 29-Sep-06, at 11:39 AM, Denis Chabot wrote:
>
>> Hi Dan,
>>
>> I remember now, I had included Tcl/Tk when I installed last time.
>> Still, I grabbed that straw, downloaded the installer and did a
>> default install (I checked, it included Tcl/Tk).
>>
>> However I'm still not out of trouble. I hope I'll find a solution
>> less disturbing than reinstalling OS X...
>>
>> This was after a restart immediately following reinstallation of R
>> 2.3.1:
>>
>>
>> R : Copyright 2006, The R Foundation for Statistical Computing
>> Version 2.3.1 (2006-06-01)
>> ISBN 3-900051-07-0
>>
>> R est un logiciel libre livr? sans AUCUNE GARANTIE.
>> Vous pouvez le redistribuer sous certaines conditions.
>> Tapez 'license()' ou 'licence()' pour plus de d?tails.
>>
>> R est un projet collaboratif avec de nombreux contributeurs.
>> Tapez 'contributors()' pour plus d'information et
>> 'citation()' pour la fa?on de le citer dans les publications.
>>
>> Tapez 'demo()' pour des d?monstrations, 'help()' pour l'aide
>> en ligne ou 'help.start()' pour obtenir l'aide au format HTML.
>> Tapez 'q()' pour quitter R.
>>
>> [Workspace restored from /Users/dchabot/.RData]
>>
>>> library(tcltk)
>> Loading Tcl/Tk interface ... Erreur dans fun(...) : couldn't
>> connect to display ":0"
>> Erreur : .onLoad a ?chou? dans 'loadNamespace' pour 'tcltk'
>> Erreur : le chargement du package / espace de noms a ?chou? pour
>> 'tcltk'
>>
>>> R.Version()
>> $platform
>> [1] "powerpc-apple-darwin8.6.0"
>>
>> $arch
>> [1] "powerpc"
>>
>> $os
>> [1] "darwin8.6.0"
>>
>> $system
>> [1] "powerpc, darwin8.6.0"
>>
>> $status
>> [1] ""
>>
>> $major
>> [1] "2"
>>
>> $minor
>> [1] "3.1"
>>
>> $year
>> [1] "2006"
>>
>> $month
>> [1] "06"
>>
>> $day
>> [1] "01"
>>
>> $`svn rev`
>> [1] "38247"
>>
>> $language
>> [1] "R"
>>
>> $version.string
>> [1] "Version 2.3.1 (2006-06-01)"
>>
>>>
>>
>> Le 06-09-29 ? 14:04, Dan Putler a ?crit :
>>
>>> Hi Denis,
>>>
>>> For reasons dealing with R's event loop, you need to use X11 Tcl/
>>> Tk rather than the aqua Tcl/Tk version that comes with OS X 10.4
>>> when using Tcl/Tk with R. The CRAN installer of R comes with X11
>>> Tcl/Tk. In terms of how GRASS will behave with X11 Tcl/Tk, I don't
>>> know, but I can imagine bad things if you run both aqua and X11
>>> Tcl/Tk at the same time. The people who most likely will are
>>> Lorenzo Moretti (the address of his GRASS on OS X web site is
>>> http://wwwamb.bologna.enea.it/forgrass/) and William Kyngesburye
>>> (the address of his GRASS on OS X web site is http://
>>> www.kyngchaos.com/macosx/grassinstall).
>>>
>>> Dan
>>>
>>> On 29-Sep-06, at 10:39 AM, Denis Chabot wrote:
>>>
>>>> Hi,
>>>>
>>>> I just tried two things that required Tcl/Tk (acronym I've seen a
>>>> lot
>>>> lately, but that means next to nothing to me): Grass 6 and R
>>>> packages
>>>> tcltk and PBSmodelling. Grass simple vanished before completing its
>>>> launch, and this is what I got from within R:
>>>>
>>>>> library(tcltk)
>>>> Loading Tcl/Tk interface ... Erreur dans fun(...) : Can't find a
>>>> usable init.tcl in the following directories:
>>>>      @TCL_IN_FRAMEWORK@ @TCL_IN_FRAMEWORK@
>>>>
>>>>
>>>>
>>>> This probably means that Tcl wasn't installed properly.
>>>> Erreur : .onLoad a ?chou? dans 'loadNamespace' pour 'tcltk'
>>>> Erreur : le chargement du package / espace de noms a ?chou? pour
>>>> 'tcltk'
>>>>>
>>>>
>>>>
>>>> For some reason I thought Tcl/Tk came standard with Tiger. I cannot
>>>> find trace of it on my HD. I've used Spotlight but I think this  
>>>> does
>>>> not search in the invisible folders. I looked manually in /usr and
>>>> did not see it, but I could have missed it.
>>>>
>>>> Was I wrong to assume it came with Tiger? Was it like XWindow, a  
>>>> box
>>>> I had to click to have it included (in which case I'm not sure I
>>>> clicked it). I also remember seeing an option for Tcl/Tk when I
>>>> installed R 2.3, and I thought I selected it.
>>>>
>>>> Anyway, although answers to the above will satisfy my curiosity, my
>>>> main question is: I downloaded TclTkAqua-8.4.10 from
>>>> http://sourceforge.net/project/showfiles.php?
>>>> group_id=86100&package_id=89343
>>>>
>>>> Can I do any harm in installing this? Is it a solution to the
>>>> problems above? Is it the solution you'd recomment?
>>>>
>>>> Thanks in advance,
>>>>
>>>> Denis
>>>> -----------------------------
>>>> Denis Chabot, Ph. D.
>>>> Chercheur en bio?nerg?tique, Bioenergetics researcher
>>>> T: (418) 775-0624
>>>> F: (418) 775-0740
>>>> chabotd at dfo-mpo.gc.ca
>>>>
>>>> Institut Maurice-Lamontagne
>>>> Minist?re des P?ches et Oc?ans du Canada
>>>> Department of Fisheries and Oceans, Canada
>>>> 850 route de la Mer, CP 1000
>>>> Mont-Joli, QC
>>>> Canada
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From macq at llnl.gov  Fri Sep 29 23:43:58 2006
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 29 Sep 2006 14:43:58 -0700
Subject: [R-SIG-Mac] Tcl/Tk
In-Reply-To: <F0D48A80-2FFF-4B15-8533-D495CCD147EE@sauder.ubc.ca>
References: <DB58E30E-5EB6-4935-8648-420F9BFBEE88@globetrotter.net>
	<556AC5B9-759B-4414-88F4-E4DFE757E8A3@sauder.ubc.ca>
	<292F79F3-8AF1-42BC-B1DD-A83D37FB94D6@globetrotter.net>
	<F0D48A80-2FFF-4B15-8533-D495CCD147EE@sauder.ubc.ca>
Message-ID: <p06230918c14343b7872d@[128.115.153.6]>

I'm pretty sure that GRASS, by itself, now uses Apple's Aqua-based Tcl/Tk.
-Don

At 11:58 AM -0700 9/29/06, Dan Putler wrote:
>Hi Denis,
>
>Was X11 running before you launched R? The error message suggests to 
>me it wasn't running.
>
>It is extremely unlikely you will need to re-install OS X. Although, 
>I can imagine you needing to build GRASS from source on your machine 
>with appropriate configure options to get it to use X11 Tcl/Tk 
>instead of using Apple's version.
>
>Dan
>
>On 29-Sep-06, at 11:39 AM, Denis Chabot wrote:
>
>>  Hi Dan,
>>
>>  I remember now, I had included Tcl/Tk when I installed last time. 
>>  Still, I grabbed that straw, downloaded the installer and did a 
>>  default install (I checked, it included Tcl/Tk).
>>
>>  However I'm still not out of trouble. I hope I'll find a solution 
>>  less disturbing than reinstalling OS X...
>>
>>  This was after a restart immediately following reinstallation of R 
>>  2.3.1:
>>
>>
>>  R : Copyright 2006, The R Foundation for Statistical Computing
>>  Version 2.3.1 (2006-06-01)
>>  ISBN 3-900051-07-0
>>
>>  R est un logiciel libre livr? sans AUCUNE GARANTIE.
>>  Vous pouvez le redistribuer sous certaines conditions.
>>  Tapez 'license()' ou 'licence()' pour plus de d?tails.
>>
>>  R est un projet collaboratif avec de nombreux contributeurs.
>>  Tapez 'contributors()' pour plus d'information et
>>  'citation()' pour la fa?on de le citer dans les publications.
>>
>>  Tapez 'demo()' pour des d?monstrations, 'help()' pour l'aide
>>  en ligne ou 'help.start()' pour obtenir l'aide au format HTML.
>>  Tapez 'q()' pour quitter R.
>>
>>  [Workspace restored from /Users/dchabot/.RData]
>>
>>  > library(tcltk)
>>  Loading Tcl/Tk interface ... Erreur dans fun(...) : couldn't 
>>  connect to display ":0"
>>  Erreur : .onLoad a ?chou? dans 'loadNamespace' pour 'tcltk'
>>  Erreur : le chargement du package / espace de noms a ?chou? pour 
>>  'tcltk'
>>
>>  > R.Version()
>>  $platform
>>  [1] "powerpc-apple-darwin8.6.0"
>>
>>  $arch
>>  [1] "powerpc"
>>
>>  $os
>>  [1] "darwin8.6.0"
>>
>>  $system
>>  [1] "powerpc, darwin8.6.0"
>>
>>  $status
>>  [1] ""
>>
>>  $major
>>  [1] "2"
>>
>>  $minor
>>  [1] "3.1"
>>
>>  $year
>>  [1] "2006"
>>
>>  $month
>>  [1] "06"
>>
>>  $day
>>  [1] "01"
>>
>>  $`svn rev`
>>  [1] "38247"
>>
>>  $language
>>  [1] "R"
>>
>>  $version.string
>>  [1] "Version 2.3.1 (2006-06-01)"
>>
>>  >
>>
>>  Le 06-09-29 ? 14:04, Dan Putler a ?crit :
>>
>>>  Hi Denis,
>>>
>>>  For reasons dealing with R's event loop, you need to use X11 Tcl/
>>>  Tk rather than the aqua Tcl/Tk version that comes with OS X 10.4 
>>>  when using Tcl/Tk with R. The CRAN installer of R comes with X11 
>>>  Tcl/Tk. In terms of how GRASS will behave with X11 Tcl/Tk, I don't 
>>>  know, but I can imagine bad things if you run both aqua and X11 
>>>  Tcl/Tk at the same time. The people who most likely will are 
>>>  Lorenzo Moretti (the address of his GRASS on OS X web site is 
>>>  http://wwwamb.bologna.enea.it/forgrass/) and William Kyngesburye 
>>>  (the address of his GRASS on OS X web site is http://
>>>  www.kyngchaos.com/macosx/grassinstall).
>>>
>>>  Dan
>>>
>>>  On 29-Sep-06, at 10:39 AM, Denis Chabot wrote:
>>>
>>>>  Hi,
>>>>
>>>>  I just tried two things that required Tcl/Tk (acronym I've seen a 
>>>>  lot
>>>>  lately, but that means next to nothing to me): Grass 6 and R 
>>>>  packages
>>>>  tcltk and PBSmodelling. Grass simple vanished before completing its
>>>>  launch, and this is what I got from within R:
>>>>
>>>>>  library(tcltk)
>>>>  Loading Tcl/Tk interface ... Erreur dans fun(...) : Can't find a
>>>>  usable init.tcl in the following directories:
>>>>       @TCL_IN_FRAMEWORK@ @TCL_IN_FRAMEWORK@
>>>>
>>>>
>>>>
>>>>  This probably means that Tcl wasn't installed properly.
>>>>  Erreur : .onLoad a ?chou? dans 'loadNamespace' pour 'tcltk'
>>>>  Erreur : le chargement du package / espace de noms a ?chou? pour 
>>>>  'tcltk'
>>>>>
>>>>
>>>>
>>>>  For some reason I thought Tcl/Tk came standard with Tiger. I cannot
>>>>  find trace of it on my HD. I've used Spotlight but I think this does
>>>>  not search in the invisible folders. I looked manually in /usr and
>  >>> did not see it, but I could have missed it.
>>>>
>>>>  Was I wrong to assume it came with Tiger? Was it like XWindow, a box
>>>>  I had to click to have it included (in which case I'm not sure I
>>>>  clicked it). I also remember seeing an option for Tcl/Tk when I
>>>>  installed R 2.3, and I thought I selected it.
>>>>
>>>>  Anyway, although answers to the above will satisfy my curiosity, my
>>>>  main question is: I downloaded TclTkAqua-8.4.10 from
>>>>  http://sourceforge.net/project/showfiles.php?
>>>>  group_id=86100&package_id=89343
>>>>
>>>>  Can I do any harm in installing this? Is it a solution to the
>>>>  problems above? Is it the solution you'd recomment?
>>>>
>>>>  Thanks in advance,
>>>>
>>>>  Denis
>>>>  -----------------------------
>>>>  Denis Chabot, Ph. D.
>>>>  Chercheur en bio?nerg?tique, Bioenergetics researcher
>>>>  T: (418) 775-0624
>>>>  F: (418) 775-0740
>>>>  chabotd at dfo-mpo.gc.ca
>>>>
>>>>  Institut Maurice-Lamontagne
>>>>  Minist?re des P?ches et Oc?ans du Canada
>>>>  Department of Fisheries and Oceans, Canada
>>>>  850 route de la Mer, CP 1000
>>>>  Mont-Joli, QC
>>>>  Canada
>>>>
>>>>  _______________________________________________
>>>>  R-SIG-Mac mailing list
>>>>  R-SIG-Mac at stat.math.ethz.ch
>>>>  https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA


From papucho at mac.com  Fri Sep 29 23:50:19 2006
From: papucho at mac.com (Ivan Alves)
Date: Fri, 29 Sep 2006 23:50:19 +0200
Subject: [R-SIG-Mac] A bug in the Mac GUI and a request
In-Reply-To: <8A835F24-8E65-4C72-9C32-19ABB556947B@r-project.org>
References: <5C1486EE-9E16-4009-BA7D-4E4B1D7C5895@mac.com>
	<5C581272-CFC3-4482-B6FE-1DECEF3D381E@r-project.org>
	<850656D0-C432-46CF-A833-56F1428EE0FA@mac.com>
	<9E6C1975-72D2-4DF3-B98A-B71D25D53568@r-project.org>
	<4722E2C6-B7C0-4E2D-86A1-26CA27029181@mac.com>
	<8A835F24-8E65-4C72-9C32-19ABB556947B@r-project.org>
Message-ID: <1E594F4D-566F-404B-B1E3-2B9F619F6056@mac.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060929/35db65d6/attachment.pl 

From simon.urbanek at r-project.org  Sat Sep 30 02:07:25 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 29 Sep 2006 20:07:25 -0400
Subject: [R-SIG-Mac] A bug in the Mac GUI and a request
In-Reply-To: <1E594F4D-566F-404B-B1E3-2B9F619F6056@mac.com>
References: <5C1486EE-9E16-4009-BA7D-4E4B1D7C5895@mac.com>
	<5C581272-CFC3-4482-B6FE-1DECEF3D381E@r-project.org>
	<850656D0-C432-46CF-A833-56F1428EE0FA@mac.com>
	<9E6C1975-72D2-4DF3-B98A-B71D25D53568@r-project.org>
	<4722E2C6-B7C0-4E2D-86A1-26CA27029181@mac.com>
	<8A835F24-8E65-4C72-9C32-19ABB556947B@r-project.org>
	<1E594F4D-566F-404B-B1E3-2B9F619F6056@mac.com>
Message-ID: <99509F1A-E182-48B9-9B03-F9AEB16204B6@r-project.org>

Ivan,

On Sep 29, 2006, at 5:50 PM, Ivan Alves wrote:

> On 28 Sep 2006, at 23:13, Simon Urbanek wrote:
>
>>
>> defaults write org.R-project.R force.LANG en_GB.UTF-8
>>
> Yep, this does the trick with iconv("Compa 
> \361ia","latin1","UTF-8"), but then something worse happens,  
> instead of (before)
>
> isis.large.IFRS.cons.ea.sample[[17]]
> [1] Mapfre Re Compa\361ia de Reaseguros SA (IFRS)
> 2073 Levels: 'The Ethniki' Hellenic General Insurance Company SA ...
>
> I now get
>
> > iconv("Compa\361ia","latin1","UTF-8")
> [1] "Compa?ia"
> > isis.large.IFRS.cons.ea.sample[[17]]
> [1]Error in print.default(xx, quote = quote, ...) :
> 	invalid multibyte string
>

Of course you do, because you are trying to print a string from a  
different encoding (latin1), so it is invalid in the encoding used by  
R (UTF-8). You should re-load your data in the correct encoding (or  
convert it) - that was the whole point of the exercise. I think you  
should definitely read about localization and encodings as I  
suggested. You cannot mix multiple encodings and magically expect  
correct output - you need to have your strings in the encoding used  
by R, otherwise you're asking for trouble.

Cheers,
Simon


From papucho at mac.com  Sat Sep 30 11:45:16 2006
From: papucho at mac.com (Ivan Alves)
Date: Sat, 30 Sep 2006 11:45:16 +0200
Subject: [R-SIG-Mac] A bug in the Mac GUI and a request
In-Reply-To: <99509F1A-E182-48B9-9B03-F9AEB16204B6@r-project.org>
References: <5C1486EE-9E16-4009-BA7D-4E4B1D7C5895@mac.com>
	<5C581272-CFC3-4482-B6FE-1DECEF3D381E@r-project.org>
	<850656D0-C432-46CF-A833-56F1428EE0FA@mac.com>
	<9E6C1975-72D2-4DF3-B98A-B71D25D53568@r-project.org>
	<4722E2C6-B7C0-4E2D-86A1-26CA27029181@mac.com>
	<8A835F24-8E65-4C72-9C32-19ABB556947B@r-project.org>
	<1E594F4D-566F-404B-B1E3-2B9F619F6056@mac.com>
	<99509F1A-E182-48B9-9B03-F9AEB16204B6@r-project.org>
Message-ID: <5741E93F-25C4-46C9-A0FB-89CE851D1AFB@mac.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060930/4e57fab2/attachment.pl 

From chabotd at globetrotter.net  Sat Sep 30 14:53:47 2006
From: chabotd at globetrotter.net (Denis Chabot)
Date: Sat, 30 Sep 2006 08:53:47 -0400
Subject: [R-SIG-Mac] e:  Tcl/Tk
In-Reply-To: <mailman.13.1159610404.20493.r-sig-mac@stat.math.ethz.ch>
References: <mailman.13.1159610404.20493.r-sig-mac@stat.math.ethz.ch>
Message-ID: <CDFC887C-C592-49F5-98B9-0F5BA7B5382C@globetrotter.net>

Hi,

I wanted to summarize for the list:

I simply did not realize that using Tcl/Tk from within R required X11  
to be running. Don and Dan made me aware of it and all is well.

I still have problems getting Grass to run though, but I won't bother  
people from this list with this.

Thanks again,

Denis


