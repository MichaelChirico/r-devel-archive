From shawn at zamapps.com  Thu Oct  9 00:32:32 2014
From: shawn at zamapps.com (Shawn Zizzo)
Date: Wed, 8 Oct 2014 15:32:32 -0700
Subject: [R-SIG-Mac] Using R in Objective-C
Message-ID: <AF449F16-F71B-48E6-B435-0DE26330B116@zamapps.com>

Hello?

I have successfully executed some R commands via the command line on my Mac.  I?d like to facilitate those same calls within an Objective-C app I?m creating.  I took a look at the source code for the R Mac App to see how I could do something similar.  I?m not that seasoned with Objective-C, so, I don?t have a full understanding off all that is in there.  However, I did try to bring in the R.Framework into my project and do a simple call to one of the R functions to get things going.  

I ran into some issues, that I can?t figure out how to solve.  I?m sure it is something simple, so, apologies ahead of time.

I'm running into an issue with a fatal error:

	/Library/Frameworks/R.framework/Headers/R_ext/Boolean.h:31:16: Redefinition of enumerator 'FALSE'

Here's what I have in my main.m file

	#import <Foundation/Foundation.h>
	#include <R.h>

	int main(int argc, const char * argv[]) {
	
	    @autoreleasepool {
	
        	Rprintf("testing R");
	
	    }
	    return 0;
	}

I suspect it's how I'm including the R.h. I've tried #import as well, but I got the same issue.

This issue is also out on StackOverflow: http://stackoverflow.com/questions/26242020/using-r-framework-in-objective-c

Thanks in advance for your help.

Take care,
Shawn


From wolz1 at illinois.edu  Fri Oct 10 00:06:23 2014
From: wolz1 at illinois.edu (Kevin Wolz)
Date: Thu, 9 Oct 2014 17:06:23 -0500
Subject: [R-SIG-Mac] gstat package on Mavericks
Message-ID: <CAL0dvJ8W09V82yEqZ2GwLL3E2ezrtQANiRk-BuA1AUKskDm7Nw@mail.gmail.com>

Trying to get the "gstat" package installed on R 3.1.0 running on mac OSX
Mavericks, for which a binary has not yet been built. A previous R-SIG-Mac
thread provided a good solution for "rgeos" and "rgdal", but this doesn't
work for "gstat". Any suggestions?

I'm trying to install from source, but R isn't liking the fact that gstat
is from source but the dependencies are in CRAN. Also, I think that one or
more of the dependencies don't have Mavericks binaries yet either!

Thanks,
Kevin

--
Kevin Wolz

PhD Student, DeLucia Lab
University of Illinois at Urbana-Champaign

	[[alternative HTML version deleted]]


From Rainer at krugs.de  Fri Oct 10 10:51:12 2014
From: Rainer at krugs.de (Rainer M Krug)
Date: Fri, 10 Oct 2014 10:51:12 +0200
Subject: [R-SIG-Mac] gstat package on Mavericks
In-Reply-To: <CAL0dvJ8W09V82yEqZ2GwLL3E2ezrtQANiRk-BuA1AUKskDm7Nw@mail.gmail.com>
	(Kevin Wolz's message of "Thu, 9 Oct 2014 17:06:23 -0500")
References: <CAL0dvJ8W09V82yEqZ2GwLL3E2ezrtQANiRk-BuA1AUKskDm7Nw@mail.gmail.com>
Message-ID: <m2y4sos3y7.fsf@krugs.de>

Kevin Wolz <wolz1 at illinois.edu> writes:

> Trying to get the "gstat" package installed on R 3.1.0 running on mac OSX
> Mavericks, for which a binary has not yet been built. A previous R-SIG-Mac
> thread provided a good solution for "rgeos" and "rgdal", but this doesn't
> work for "gstat". Any suggestions?

I just tried it, and it installed flawless.

BUT: I have installed R, fortran, gdal, ... using homebrew. In my
experience, this simplifies the process of compiling, as always the same
compiler is used and everything is installed from source.

I made it a habit of installing *all* packages from source and did not
have any problems so far.

Hope this helps,

Rainer

>
> I'm trying to install from source, but R isn't liking the fact that gstat
> is from source but the dependencies are in CRAN. Also, I think that one or
> more of the dependencies don't have Mavericks binaries yet either!
>
> Thanks,
> Kevin
>
> --
> Kevin Wolz
>
> PhD Student, DeLucia Lab
> University of Illinois at Urbana-Champaign
>
> 	[[alternative HTML version deleted]]

-- 
Rainer M. Krug
email: Rainer<at>krugs<dot>de
PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 494 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20141010/533986e9/attachment.bin>

From ripley at stats.ox.ac.uk  Wed Oct 15 08:20:11 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 15 Oct 2014 07:20:11 +0100
Subject: [R-SIG-Mac] issues running jags
In-Reply-To: <B7C7163E-2C34-4126-AC86-2ECE9A546F83@gmail.com>
References: <B7C7163E-2C34-4126-AC86-2ECE9A546F83@gmail.com>
Message-ID: <543E121B.9010909@stats.ox.ac.uk>

On 23/09/2014 00:03, Joanna Burgar wrote:
> Good day,
>
> I am trying to run R2jags on  R version 3.0.2 (2013-09-25) -- "Frisbee Sailing". I have downloaded jags (JAGS-Mavericks-3.4.0) and successfully installed both rjags and R2jags yet for some reason when I try and load the library(rjags) I receive the following error message:
>
> Error : .onLoad failed in loadNamespace() for 'rjags', details:
>    call: dyn.load(file, DLLpath = DLLpath, ...)
>    error: unable to load shared object '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/rjags/libs/rjags.so':
>    dlopen(/Library/Frameworks/R.framework/Versions/3.0/Resources/library/rjags/libs/rjags.so, 10): Symbol not found: __ZN5RangeC1ERKSt6vectorIiSaIiEES4_
>    Referenced from: /Library/Frameworks/R.framework/Versions/3.0/Resources/library/rjags/libs/rjags.so
>    Expected in: /usr/local/lib/libjags.3.dylib
>   in /Library/Frameworks/R.framework/Versions/3.0/Resources/library/rjags/libs/rjags.so
> Error: package or namespace load failed for ?rjags?
>
>
> Does anyone have any idea why this might be? I have also tried other versions of R and it doesn't seem to be working for them either.

First, as the R posting guide says, we only support current versions of 
R on the mailing lists  It asked you to update *before posting*.

Second, you did not tell us your exact OS.  <= 10.8 and >= 10.9 default 
to different and incompatible C++ compilers: R and JAGS have to be built 
with the same one.  Now, binary distributions of R 3.0.2 were built with 
g++ 4.2.x: 
http://sourceforge.net/projects/mcmc-jags/files/JAGS/3.x/Mac%20OS%20X/ 
shows builds for Mavericks and SnowLeopard, and it is the latter which 
is compatible with the binary R 3.0.2.

> Thanks!
> Joanna
>
> _______________________________________________________
>> install.packages("rjags", dependencies=TRUE)
> also installing the dependency ?coda?
>
> trying URL 'http://cran.ms.unimelb.edu.au/bin/macosx/contrib/3.0/coda_0.16-1.tgz'
> Content type 'application/x-gzip' length 195822 bytes (191 Kb)
> opened URL
> ==================================================
> downloaded 191 Kb
>
> trying URL 'http://cran.ms.unimelb.edu.au/bin/macosx/contrib/3.0/rjags_3-13.tgz'
> Content type 'application/x-gzip' length 155926 bytes (152 Kb)
> opened URL
> ==================================================
> downloaded 152 Kb
>
>
> The downloaded binary packages are in
> 	/var/folders/zl/w_8jclgx3zngdxtn_kmfb79m0000gn/T//RtmpfXMoO5/downloaded_packages
>> install.packages("R2jags", dependencies=TRUE)
> also installing the dependencies ?abind?, ?R2WinBUGS?
>
> trying URL 'http://cran.ms.unimelb.edu.au/bin/macosx/contrib/3.0/abind_1.4-0.tgz'
> Content type 'application/x-gzip' length 32962 bytes (32 Kb)
> opened URL
> ==================================================
> downloaded 32 Kb
>
> trying URL 'http://cran.ms.unimelb.edu.au/bin/macosx/contrib/3.0/R2WinBUGS_2.1-19.tgz'
> Content type 'application/x-gzip' length 777630 bytes (759 Kb)
> opened URL
> ==================================================
> downloaded 759 Kb
>
> trying URL 'http://cran.ms.unimelb.edu.au/bin/macosx/contrib/3.0/R2jags_0.04-03.tgz'
> Content type 'application/x-gzip' length 55203 bytes (53 Kb)
> opened URL
> ==================================================
> downloaded 53 Kb
>
>
> The downloaded binary packages are in
> 	/var/folders/zl/w_8jclgx3zngdxtn_kmfb79m0000gn/T//RtmpfXMoO5/downloaded_packages
>
>
>> library(rjags)
> Loading required package: coda
> Loading required package: lattice
> Error : .onLoad failed in loadNamespace() for 'rjags', details:
>    call: dyn.load(file, DLLpath = DLLpath, ...)
>    error: unable to load shared object '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/rjags/libs/rjags.so':
>    dlopen(/Library/Frameworks/R.framework/Versions/3.0/Resources/library/rjags/libs/rjags.so, 10): Symbol not found: __ZN5RangeC1ERKSt6vectorIiSaIiEES4_
>    Referenced from: /Library/Frameworks/R.framework/Versions/3.0/Resources/library/rjags/libs/rjags.so
>    Expected in: /usr/local/lib/libjags.3.dylib
>   in /Library/Frameworks/R.framework/Versions/3.0/Resources/library/rjags/libs/rjags.so
> Error: package or namespace load failed for ?rjags?
>>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK


From masss at newpaltz.edu  Fri Oct 17 21:17:51 2014
From: masss at newpaltz.edu (Spencer Mass)
Date: Fri, 17 Oct 2014 15:17:51 -0400
Subject: [R-SIG-Mac] Yosemite and R
Message-ID: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>

Has anyone had issues installing/running  R3.1.1 2014-07-11, R.app 1.65 on Yosemite?

Thanks,

- SM

===
Spencer M. Mass, MD
Department of Biology
CSB 149
SUNY New Paltz
1 Hawk Drive
New Paltz, NY 12561

voice: 845-257-3678


	[[alternative HTML version deleted]]


From marc_schwartz at me.com  Fri Oct 17 22:49:23 2014
From: marc_schwartz at me.com (Marc Schwartz)
Date: Fri, 17 Oct 2014 15:49:23 -0500
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
Message-ID: <5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>


> On Oct 17, 2014, at 2:17 PM, Spencer Mass <masss at newpaltz.edu> wrote:
> 
> Has anyone had issues installing/running  R3.1.1 2014-07-11, R.app 1.65 on Yosemite?
> 
> Thanks,
> 
> - SM


I upgraded (over Mavericks) to Yosemite last night. R was already installed and I have had no issues at this point.

I don't normally use R.app and use Emacs with ESS, however, R.app appears to be running without issue with the limited use that I attempted.

Regards,

Marc Schwartz


From gdsawyer at greatergood.com  Fri Oct 17 23:01:28 2014
From: gdsawyer at greatergood.com (Gregory Sawyer)
Date: Fri, 17 Oct 2014 14:01:28 -0700
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
Message-ID: <CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>


> On Oct 17, 2014, at 1:49 PM, Marc Schwartz <marc_schwartz at me.com> wrote:
> 
> 
>> On Oct 17, 2014, at 2:17 PM, Spencer Mass <masss at newpaltz.edu> wrote:
>> 
>> Has anyone had issues installing/running  R3.1.1 2014-07-11, R.app 1.65 on Yosemite?
>> 
>> Thanks,
>> 
>> - SM
> 
> 
> I upgraded (over Mavericks) to Yosemite last night. R was already installed and I have had no issues at this point.
> 
> I don't normally use R.app and use Emacs with ESS, however, R.app appears to be running without issue with the limited use that I attempted.
> 
> Regards,
> 
> Marc Schwartz
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

I upgraded to 10.10 Yosemite this morning; R.app seems to be having some problems launching, but not all the time.  It's crashed twice on startup, but the second attempt (e.g. clicking 'Re-open' on the crash stack trace panel) seems to work.    (running a very recent 27-inch iMac w/ 32Gib core, a 1tb drive, and a second 27-inch Apple LED cinema display, and I suspect it might be that second display that's causing the problems, but that's just speculation right now.)


From simon.urbanek at r-project.org  Fri Oct 17 23:20:32 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 17 Oct 2014 17:20:32 -0400
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
Message-ID: <C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>

On Oct 17, 2014, at 5:01 PM, Gregory Sawyer <gdsawyer at greatergood.com> wrote:

> 
>> On Oct 17, 2014, at 1:49 PM, Marc Schwartz <marc_schwartz at me.com> wrote:
>> 
>> 
>>> On Oct 17, 2014, at 2:17 PM, Spencer Mass <masss at newpaltz.edu> wrote:
>>> 
>>> Has anyone had issues installing/running  R3.1.1 2014-07-11, R.app 1.65 on Yosemite?
>>> 
>>> Thanks,
>>> 
>>> - SM
>> 
>> 
>> I upgraded (over Mavericks) to Yosemite last night. R was already installed and I have had no issues at this point.
>> 
>> I don't normally use R.app and use Emacs with ESS, however, R.app appears to be running without issue with the limited use that I attempted.
>> 
>> Regards,
>> 
>> Marc Schwartz
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> I upgraded to 10.10 Yosemite this morning; R.app seems to be having some problems launching, but not all the time.  It's crashed twice on startup, but the second attempt (e.g. clicking 'Re-open' on the crash stack trace panel) seems to work.    (running a very recent 27-inch iMac w/ 32Gib core, a 1tb drive, and a second 27-inch Apple LED cinema display, and I suspect it might be that second display that's causing the problems, but that's just speculation right now.)


If you have a crash, please send me the crash report. If in doubt, check your preferences and startup files.

I have been running Yosemite for quite a while and didn't see any issues so far. Given how little changed in Yosemite I don't expect any changes to the Mavericks build at this point (i.e. Mavericks will remain the base target for all recent OS X builds).

Cheers,
Simon


From tomhopper at gmail.com  Sat Oct 18 01:50:26 2014
From: tomhopper at gmail.com (Thomas Hopper)
Date: Fri, 17 Oct 2014 19:50:26 -0400
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
Message-ID: <25BA945D-9D76-4076-B843-8DDF80A28CE9@gmail.com>

I just upgraded to Yosemite this morning, and while I haven't used R extensively, yet, 3.1.1 has so far worked just fine.

One thing I did was remove MacTeX before upgrading, and then reinstalled with the addition of the "LocalTeX" preference pane due to reported issues with MacTeX (also reported with RStudio's knit features). http://permalink.gmane.org/gmane.comp.tex.macosx/46292

Regards,

Tom


> On Oct 17, 2014, at 17:20, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
>> On Oct 17, 2014, at 5:01 PM, Gregory Sawyer <gdsawyer at greatergood.com> wrote:
>> 
>> 
>>> On Oct 17, 2014, at 1:49 PM, Marc Schwartz <marc_schwartz at me.com> wrote:
>>> 
>>> 
>>>> On Oct 17, 2014, at 2:17 PM, Spencer Mass <masss at newpaltz.edu> wrote:
>>>> 
>>>> Has anyone had issues installing/running  R3.1.1 2014-07-11, R.app 1.65 on Yosemite?
>>>> 
>>>> Thanks,
>>>> 
>>>> - SM
>>> 
>>> 
>>> I upgraded (over Mavericks) to Yosemite last night. R was already installed and I have had no issues at this point.
>>> 
>>> I don't normally use R.app and use Emacs with ESS, however, R.app appears to be running without issue with the limited use that I attempted.
>>> 
>>> Regards,
>>> 
>>> Marc Schwartz
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> I upgraded to 10.10 Yosemite this morning; R.app seems to be having some problems launching, but not all the time.  It's crashed twice on startup, but the second attempt (e.g. clicking 'Re-open' on the crash stack trace panel) seems to work.    (running a very recent 27-inch iMac w/ 32Gib core, a 1tb drive, and a second 27-inch Apple LED cinema display, and I suspect it might be that second display that's causing the problems, but that's just speculation right now.)
> 
> 
> If you have a crash, please send me the crash report. If in doubt, check your preferences and startup files.
> 
> I have been running Yosemite for quite a while and didn't see any issues so far. Given how little changed in Yosemite I don't expect any changes to the Mavericks build at this point (i.e. Mavericks will remain the base target for all recent OS X builds).
> 
> Cheers,
> Simon
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jfranco at fagro.edu.uy  Sat Oct 18 03:13:38 2014
From: jfranco at fagro.edu.uy (Jorge Franco)
Date: Fri, 17 Oct 2014 23:13:38 -0200
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <25BA945D-9D76-4076-B843-8DDF80A28CE9@gmail.com>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
	<25BA945D-9D76-4076-B843-8DDF80A28CE9@gmail.com>
Message-ID: <353ADDAB-7B5A-481B-ACD2-4CD2ACB9A78E@fagro.edu.uy>

I did not get problems using nlme and other statistical packages after actualizing to yosemite (i am using R 3.1.1, but not Mavericks).

Jorge Franco D.
Director Departamento de Biometria, Estadistica y Computacion
Facultad de Agronomia, UDELAR
Ruta 3, Km. 363, Paysandu
URUGUAY



> On Oct 17, 2014, at 9:50 PM, Thomas Hopper <tomhopper at gmail.com> wrote:
> 
> I just upgraded to Yosemite this morning, and while I haven't used R extensively, yet, 3.1.1 has so far worked just fine.
> 
> One thing I did was remove MacTeX before upgrading, and then reinstalled with the addition of the "LocalTeX" preference pane due to reported issues with MacTeX (also reported with RStudio's knit features). http://permalink.gmane.org/gmane.comp.tex.macosx/46292
> 
> Regards,
> 
> Tom
> 
> 
>> On Oct 17, 2014, at 17:20, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> 
>>> On Oct 17, 2014, at 5:01 PM, Gregory Sawyer <gdsawyer at greatergood.com> wrote:
>>> 
>>> 
>>>> On Oct 17, 2014, at 1:49 PM, Marc Schwartz <marc_schwartz at me.com> wrote:
>>>> 
>>>> 
>>>>> On Oct 17, 2014, at 2:17 PM, Spencer Mass <masss at newpaltz.edu> wrote:
>>>>> 
>>>>> Has anyone had issues installing/running  R3.1.1 2014-07-11, R.app 1.65 on Yosemite?
>>>>> 
>>>>> Thanks,
>>>>> 
>>>>> - SM
>>>> 
>>>> 
>>>> I upgraded (over Mavericks) to Yosemite last night. R was already installed and I have had no issues at this point.
>>>> 
>>>> I don't normally use R.app and use Emacs with ESS, however, R.app appears to be running without issue with the limited use that I attempted.
>>>> 
>>>> Regards,
>>>> 
>>>> Marc Schwartz
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> I upgraded to 10.10 Yosemite this morning; R.app seems to be having some problems launching, but not all the time.  It's crashed twice on startup, but the second attempt (e.g. clicking 'Re-open' on the crash stack trace panel) seems to work.    (running a very recent 27-inch iMac w/ 32Gib core, a 1tb drive, and a second 27-inch Apple LED cinema display, and I suspect it might be that second display that's causing the problems, but that's just speculation right now.)
>> 
>> 
>> If you have a crash, please send me the crash report. If in doubt, check your preferences and startup files.
>> 
>> I have been running Yosemite for quite a while and didn't see any issues so far. Given how little changed in Yosemite I don't expect any changes to the Mavericks build at this point (i.e. Mavericks will remain the base target for all recent OS X builds).
>> 
>> Cheers,
>> Simon
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From pdalgd at gmail.com  Sat Oct 18 14:53:02 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Sat, 18 Oct 2014 14:53:02 +0200
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
Message-ID: <B2FFBF91-0596-411F-BB69-C85240FBC4EF@gmail.com>


> On 17 Oct 2014, at 22:49 , Marc Schwartz <marc_schwartz at me.com> wrote:
> 
> 
>> On Oct 17, 2014, at 2:17 PM, Spencer Mass <masss at newpaltz.edu> wrote:
>> 
>> Has anyone had issues installing/running  R3.1.1 2014-07-11, R.app 1.65 on Yosemite?
>> 
>> Thanks,
>> 
>> - SM
> 
> 
> I upgraded (over Mavericks) to Yosemite last night. R was already installed and I have had no issues at this point.
> 
> I don't normally use R.app and use Emacs with ESS, however, R.app appears to be running without issue with the limited use that I attempted.
> 
> Regards,
> 
> Marc Schwartz
> 

Same here, I notice though that Java and Xquartz need reinstalls. 

-pd

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From marc_schwartz at me.com  Sat Oct 18 16:01:10 2014
From: marc_schwartz at me.com (Marc Schwartz)
Date: Sat, 18 Oct 2014 09:01:10 -0500
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <B2FFBF91-0596-411F-BB69-C85240FBC4EF@gmail.com>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<B2FFBF91-0596-411F-BB69-C85240FBC4EF@gmail.com>
Message-ID: <4DA5226D-B971-4D69-8697-225E5E86CE62@me.com>


> On Oct 18, 2014, at 7:53 AM, peter dalgaard <pdalgd at gmail.com> wrote:
> 
> 
>> On 17 Oct 2014, at 22:49 , Marc Schwartz <marc_schwartz at me.com> wrote:
>> 
>> 
>>> On Oct 17, 2014, at 2:17 PM, Spencer Mass <masss at newpaltz.edu> wrote:
>>> 
>>> Has anyone had issues installing/running  R3.1.1 2014-07-11, R.app 1.65 on Yosemite?
>>> 
>>> Thanks,
>>> 
>>> - SM
>> 
>> 
>> I upgraded (over Mavericks) to Yosemite last night. R was already installed and I have had no issues at this point.
>> 
>> I don't normally use R.app and use Emacs with ESS, however, R.app appears to be running without issue with the limited use that I attempted.
>> 
>> Regards,
>> 
>> Marc Schwartz
>> 
> 
> Same here, I notice though that Java and Xquartz need reinstalls. 
> 
> -pd


Peter,

I had to do the same and my recollection is that the prior upgrade to Mavericks over Mountain Lion also required this.

Regards,

Marc


From ripley at stats.ox.ac.uk  Sat Oct 18 17:23:09 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 18 Oct 2014 16:23:09 +0100
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <4DA5226D-B971-4D69-8697-225E5E86CE62@me.com>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>	<B2FFBF91-0596-411F-BB69-C85240FBC4EF@gmail.com>
	<4DA5226D-B971-4D69-8697-225E5E86CE62@me.com>
Message-ID: <544285DD.8020305@stats.ox.ac.uk>

On 18/10/2014 15:01, Marc Schwartz wrote:
>
>> On Oct 18, 2014, at 7:53 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>>
>>
>>> On 17 Oct 2014, at 22:49 , Marc Schwartz <marc_schwartz at me.com> wrote:
>>>
>>>
>>>> On Oct 17, 2014, at 2:17 PM, Spencer Mass <masss at newpaltz.edu> wrote:
>>>>
>>>> Has anyone had issues installing/running  R3.1.1 2014-07-11, R.app 1.65 on Yosemite?
>>>>
>>>> Thanks,
>>>>
>>>> - SM
>>>
>>>
>>> I upgraded (over Mavericks) to Yosemite last night. R was already installed and I have had no issues at this point.
>>>
>>> I don't normally use R.app and use Emacs with ESS, however, R.app appears to be running without issue with the limited use that I attempted.
>>>
>>> Regards,
>>>
>>> Marc Schwartz
>>>
>>
>> Same here, I notice though that Java and Xquartz need reinstalls.
>>
>> -pd
>
>
> Peter,
>
> I had to do the same and my recollection is that the prior upgrade to Mavericks over Mountain Lion also required this.

As the R-admin manual says, in both cases ....

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK


From amos.elberg at gmail.com  Sat Oct 18 21:58:53 2014
From: amos.elberg at gmail.com (Amos B. Elberg)
Date: Sat, 18 Oct 2014 15:58:53 -0400
Subject: [R-SIG-Mac] Issues Compiling Post-Yosemite
Message-ID: <etPan.5442c6f5.19495cff.e585@macpro.local>

Has anyone else had compilation issues after the yosemite upgrade? ?My already-compiled R is running fine, after reinstalling Xquartz. ?I?m seeing a pair of issues trying to rebuild, though. ?

First, configure is having trouble with external BLASes. ?The check for double complex BLAS returns ?no? with the Apple BLAS, MKL, and openblas. ?I?ve traced the issue to lines 30313-14 (?output=`./conftest${ac_exeext} 2>&5` ) but I can?t seem to get any guiding diagnostic information. ?

Second, with external BLAS disabled, during compilation I get this error, either linking tools.so or immediately after:

?*** caught segfault ***
address 0x53e, cause 'memory not mapped'

Traceback:
?1: sub("[[:blank:]]*([[:alnum:]]+)", "\\1", dp)
?2: eval(expr, envir, enclos)
?3: eval(quote({ ? ?dp <- Sys.getenv("R_DEFAULT_PACKAGES") ? ?if (identical(dp, "")) dp <- c("datasets", "utils", "grDevices", ? ? ? ? "graphics", "stats", "methods") else if (identical(dp, ? ? ? ? "NULL")) dp <- character(0) else dp <- strsplit(dp, ",")[[1]] ? ?dp <- sub("[[:blank:]]*([[:alnum:]]+)", "\\1", dp) ? ?options(defaultPackages = dp)}), new.env())
?4: eval(expr, envir, enclos)
?5: eval(expr, p)
?6: eval.parent(substitute(eval(quote(expr), envir)))
?7: local({ ? ?dp <- Sys.getenv("R_DEFAULT_PACKAGES") ? ?if (identical(dp, "")) ? ? ? ? dp <- c("datasets", "utils", "grDevices", "graphics", ? ? ? ? ? ? "stats", "methods") ? ?else if (identical(dp, "NULL")) ? ? ? ? dp <- character(0) ? ?else dp <- strsplit(dp, ",")[[1]] ? ?dp <- sub("[[:blank:]]*([[:alnum:]]+)", "\\1", dp) ? ?options(defaultPackages = dp)})
aborting ...
/bin/sh: line 1: 71430 Done ? ? ? ? ? ? ? ? ? ?echo "tools:::.install_package_description('.', '"../../../library/tools"')"
? ? ?71431 Segmentation fault: 11 ?| R_DEFAULT_PACKAGES=NULL ../../../bin/R --vanilla --slave > /dev/null
make[3]: *** [all] Error 139
make[2]: *** [R] Error 1
make[1]: *** [R] Error 1
make: *** [R] Error 1

I don?t doubt that at least the second issue has to do with the changed toolchain, but I?m lost as to the first. ?

Can anyone suggest a direction to go in?


--?
Amos Elberg
Sent with Airmail
	[[alternative HTML version deleted]]


From pdalgd at gmail.com  Sat Oct 18 23:09:05 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Sat, 18 Oct 2014 23:09:05 +0200
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <544285DD.8020305@stats.ox.ac.uk>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<B2FFBF91-0596-411F-BB69-C85240FBC4EF@gmail.com>
	<4DA5226D-B971-4D69-8697-225E5E86CE62@me.com>
	<544285DD.8020305@stats.ox.ac.uk>
Message-ID: <16E5949F-001F-4E66-A3C7-E82424BD930C@gmail.com>


> On 18 Oct 2014, at 17:23 , Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> 
> On 18/10/2014 15:01, Marc Schwartz wrote:
>> 
>>> On Oct 18, 2014, at 7:53 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>>> 
>>> 
>>>> On 17 Oct 2014, at 22:49 , Marc Schwartz <marc_schwartz at me.com> wrote:
>>>> 
>>>> 
>>>>> On Oct 17, 2014, at 2:17 PM, Spencer Mass <masss at newpaltz.edu> wrote:
>>>>> 
>>>>> Has anyone had issues installing/running  R3.1.1 2014-07-11, R.app 1.65 on Yosemite?
>>>>> 
>>>>> Thanks,
>>>>> 
>>>>> - SM
>>>> 
>>>> 
>>>> I upgraded (over Mavericks) to Yosemite last night. R was already installed and I have had no issues at this point.
>>>> 
>>>> I don't normally use R.app and use Emacs with ESS, however, R.app appears to be running without issue with the limited use that I attempted.
>>>> 
>>>> Regards,
>>>> 
>>>> Marc Schwartz
>>>> 
>>> 
>>> Same here, I notice though that Java and Xquartz need reinstalls.
>>> 
>>> -pd
>> 
>> 
>> Peter,
>> 
>> I had to do the same and my recollection is that the prior upgrade to Mavericks over Mountain Lion also required this.
> 
> As the R-admin manual says, in both cases ....
> 

.... not too surprisingly, but getting R to work tends to come second to whatever else might go pearshaped in a system upgrade. I did know that it had been tried with no unsolvable issues, I just forgot about the details.

One surprise that probably isn't in R-admin is that the Java plugin apparently no longer works with Firefox but still works with Safari, which is an annoyance since certain websites work with Firefox but not Safari. Oh well, someone will probably notice soon enough. 

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From masss at newpaltz.edu  Sun Oct 19 13:58:07 2014
From: masss at newpaltz.edu (Spencer Mass)
Date: Sun, 19 Oct 2014 07:58:07 -0400
Subject: [R-SIG-Mac] Yosemite
Message-ID: <00FA4596-2077-4985-B050-8B0F65F5BBEE@newpaltz.edu>

I upgraded several machines yesterday that already had R 3.1.1 installed with RStudio.  No problems so far (with limited use).

-SM


From b.y.clark at csuohio.edu  Mon Oct 20 14:50:12 2014
From: b.y.clark at csuohio.edu (Ben Clark)
Date: Mon, 20 Oct 2014 12:50:12 +0000
Subject: [R-SIG-Mac] Yosemite and R
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
Message-ID: <loom.20141020T144733-480@post.gmane.org>

Simon Urbanek <simon.urbanek <at> r-project.org> writes:

> 
> On Oct 17, 2014, at 5:01 PM, Gregory Sawyer <gdsawyer <at> 
greatergood.com> wrote:
> 
> > 
> >> On Oct 17, 2014, at 1:49 PM, Marc Schwartz <marc_schwartz <at> 
me.com> wrote:
> >> 
> >> 
> >>> On Oct 17, 2014, at 2:17 PM, Spencer Mass <masss <at> 
newpaltz.edu> wrote:
> >>> 
> >>> Has anyone had issues installing/running  R3.1.1 2014-07-11, R.app 
1.65 on Yosemite?
> >>> 
> >>> Thanks,
> >>> 
> >>> - SM
> >> 
> >> 
> >> I upgraded (over Mavericks) to Yosemite last night. R was already 
installed and I have had no issues at
> this point.
> >> 
> >> I don't normally use R.app and use Emacs with ESS, however, R.app 
appears to be running without issue with
> the limited use that I attempted.
> >> 
> >> Regards,
> >> 
> >> Marc Schwartz
> >> 
> >> _______________________________________________
> >> R-SIG-Mac mailing list
> >> R-SIG-Mac <at> r-project.org
> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> > 
> > I upgraded to 10.10 Yosemite this morning; R.app seems to be having 
some problems launching, but not all
> the time.  It's crashed twice on startup, but the second attempt (e.g. 
clicking 'Re-open' on the crash
> stack trace panel) seems to work.    (running a very recent 27-inch iMac 
w/ 32Gib core, a 1tb drive, and a
> second 27-inch Apple LED cinema display, and I suspect it might be that 
second display that's causing the
> problems, but that's just speculation right now.)
> 
> If you have a crash, please send me the crash report. If in doubt, check 
your preferences and startup files.
> 
> I have been running Yosemite for quite a while and didn't see any issues 
so far. Given how little changed in
> Yosemite I don't expect any changes to the Mavericks build at this point 
(i.e. Mavericks will remain the
> base target for all recent OS X builds).
> 
> Cheers,
> Simon
> 

I've been having issues getting the 'tcltk' package to run. I had this with 
Mavericks at first as well, but once X11 got updated the issue went away. 
But alas for now X11 is up to date and a number of other other packages 
that require the tcltk won't work. Good fun.
-Ben


From h.wickham at gmail.com  Mon Oct 20 17:21:20 2014
From: h.wickham at gmail.com (Hadley Wickham)
Date: Mon, 20 Oct 2014 10:21:20 -0500
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
Message-ID: <CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>

>
> I have been running Yosemite for quite a while and didn't see any issues so far. Given how little changed in Yosemite I don't expect any changes to the Mavericks build at this point (i.e. Mavericks will remain the base target for all recent OS X builds).

At RStudio, we've seen one problem - the PATH is not passed along to
sub-processes, e.g. these two functions return different values:

Sys.getenv("PATH")
system("echo $PATH")

This breaks Sys.which().

Hadley

-- 
http://had.co.nz/


From pdalgd at gmail.com  Mon Oct 20 19:53:50 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Mon, 20 Oct 2014 19:53:50 +0200
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <loom.20141020T144733-480@post.gmane.org>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
	<loom.20141020T144733-480@post.gmane.org>
Message-ID: <FC45C99D-E16C-4CE2-900C-3B015AFB7270@gmail.com>


> On 20 Oct 2014, at 14:50 , Ben Clark <b.y.clark at csuohio.edu> wrote:
> 
> Simon Urbanek <simon.urbanek <at> r-project.org> writes:
> 
>> 
>> On Oct 17, 2014, at 5:01 PM, Gregory Sawyer <gdsawyer <at> 
> greatergood.com> wrote:
>> 
>>> 
>>>> On Oct 17, 2014, at 1:49 PM, Marc Schwartz <marc_schwartz <at> 
> me.com> wrote:
>>>> 
>>>> 
>>>>> On Oct 17, 2014, at 2:17 PM, Spencer Mass <masss <at> 
> newpaltz.edu> wrote:
>>>>> 
>>>>> Has anyone had issues installing/running  R3.1.1 2014-07-11, R.app 
> 1.65 on Yosemite?
>>>>> 
>>>>> Thanks,
>>>>> 
>>>>> - SM
>>>> 
>>>> 
>>>> I upgraded (over Mavericks) to Yosemite last night. R was already 
> installed and I have had no issues at
>> this point.
>>>> 
>>>> I don't normally use R.app and use Emacs with ESS, however, R.app 
> appears to be running without issue with
>> the limited use that I attempted.
>>>> 
>>>> Regards,
>>>> 
>>>> Marc Schwartz
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac <at> r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> I upgraded to 10.10 Yosemite this morning; R.app seems to be having 
> some problems launching, but not all
>> the time.  It's crashed twice on startup, but the second attempt (e.g. 
> clicking 'Re-open' on the crash
>> stack trace panel) seems to work.    (running a very recent 27-inch iMac 
> w/ 32Gib core, a 1tb drive, and a
>> second 27-inch Apple LED cinema display, and I suspect it might be that 
> second display that's causing the
>> problems, but that's just speculation right now.)
>> 
>> If you have a crash, please send me the crash report. If in doubt, check 
> your preferences and startup files.
>> 
>> I have been running Yosemite for quite a while and didn't see any issues 
> so far. Given how little changed in
>> Yosemite I don't expect any changes to the Mavericks build at this point 
> (i.e. Mavericks will remain the
>> base target for all recent OS X builds).
>> 
>> Cheers,
>> Simon
>> 
> 
> I've been having issues getting the 'tcltk' package to run. I had this with 
> Mavericks at first as well, but once X11 got updated the issue went away. 
> But alas for now X11 is up to date and a number of other other packages 
> that require the tcltk won't work. Good fun.
> -Ben
> 

Yes, things don't seem quite well for me either. With a locally compiled R, I can get three of the four demos to run, but tkdensity dies with a floating point error. With 3.0.2-snowleopard build, all demos work on the command line, but R.app hangs on tkdensity.

-pd

> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From dwinsemius at comcast.net  Mon Oct 20 23:01:17 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 20 Oct 2014 14:01:17 -0700
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
	<CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>
Message-ID: <DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>


On Oct 20, 2014, at 8:21 AM, Hadley Wickham wrote:

>> 
>> I have been running Yosemite for quite a while and didn't see any issues so far. Given how little changed in Yosemite I don't expect any changes to the Mavericks build at this point (i.e. Mavericks will remain the base target for all recent OS X builds).
> 
> At RStudio, we've seen one problem - the PATH is not passed along to
> sub-processes, e.g. these two functions return different values:
> 
> Sys.getenv("PATH")
> system("echo $PATH")

I seem to remember discussions on R-SIG-Mac that system("echo $PATH") gets passed to the bash environment which is not the same as the R environment. It is expected that the $PATH variable is different in the two environments.

From terminal window in Mac 10.7.5 (Lion):

david-winsemiuss-mac-pro:~ davidwinsemius$ /usr/bin/which which
/sw/bin/which

From R (Snow Leopard) on a MacPro:

> Sys.which("which")
          which 
"/sw/bin/which" 


On a laptop running 3.1.1 in Yosemite with the Mavericks build I get instead:

Sys.which("which")
"usr/bin/which"

And from the terminal I see 

/sw/bin/which

> 
> This breaks Sys.which().

Not sure what "breaks" means. I'm not getting an error, and I wasn't necessarily expecting the same result
> 
> Hadley
> 

-- 
David Winsemius
Alameda, CA, USA


From h.wickham at gmail.com  Tue Oct 21 15:39:35 2014
From: h.wickham at gmail.com (Hadley Wickham)
Date: Tue, 21 Oct 2014 08:39:35 -0500
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
	<CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>
	<DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>
Message-ID: <CABdHhvEoojsjLkiwvzq1d8zTfA0nG2sAfTmDS1KZUs=Es1kmvQ@mail.gmail.com>

On Mon, Oct 20, 2014 at 4:01 PM, David Winsemius <dwinsemius at comcast.net> wrote:
>
> On Oct 20, 2014, at 8:21 AM, Hadley Wickham wrote:
>
>>>
>>> I have been running Yosemite for quite a while and didn't see any issues so far. Given how little changed in Yosemite I don't expect any changes to the Mavericks build at this point (i.e. Mavericks will remain the base target for all recent OS X builds).
>>
>> At RStudio, we've seen one problem - the PATH is not passed along to
>> sub-processes, e.g. these two functions return different values:
>>
>> Sys.getenv("PATH")
>> system("echo $PATH")
>
> I seem to remember discussions on R-SIG-Mac that system("echo $PATH") gets passed to the bash environment which is not the same as the R environment. It is expected that the $PATH variable is different in the two environments.

No, it is not.  It is expected that the path in the terminal be
different to the path in R, it is _not_ expected that the path in R be
different to the path in a subprocess started by R.

(Well it is now expected, because this appears to be a new security
feature in Yosemite)

Hadley

-- 
http://had.co.nz/


From h.wickham at gmail.com  Tue Oct 21 16:10:40 2014
From: h.wickham at gmail.com (Hadley Wickham)
Date: Tue, 21 Oct 2014 09:10:40 -0500
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <CABdHhvEoojsjLkiwvzq1d8zTfA0nG2sAfTmDS1KZUs=Es1kmvQ@mail.gmail.com>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
	<CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>
	<DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>
	<CABdHhvEoojsjLkiwvzq1d8zTfA0nG2sAfTmDS1KZUs=Es1kmvQ@mail.gmail.com>
Message-ID: <CABdHhvEG4mPqA3AYME-kkkhS5jGkFT2ABkq_99pMjW=0fLZMkQ@mail.gmail.com>

> No, it is not.  It is expected that the path in the terminal be
> different to the path in R, it is _not_ expected that the path in R be
> different to the path in a subprocess started by R.
>
> (Well it is now expected, because this appears to be a new security
> feature in Yosemite)

The best thread I could find on the problem is here:
https://code.google.com/p/mactlmgr/issues/detail?id=102

-- 
http://had.co.nz/


From amos.elberg at gmail.com  Tue Oct 21 18:39:39 2014
From: amos.elberg at gmail.com (Amos B. Elberg)
Date: Tue, 21 Oct 2014 12:39:39 -0400
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <CABdHhvEG4mPqA3AYME-kkkhS5jGkFT2ABkq_99pMjW=0fLZMkQ@mail.gmail.com>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
	<CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>
	<DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>
	<CABdHhvEoojsjLkiwvzq1d8zTfA0nG2sAfTmDS1KZUs=Es1kmvQ@mail.gmail.com>
	<CABdHhvEG4mPqA3AYME-kkkhS5jGkFT2ABkq_99pMjW=0fLZMkQ@mail.gmail.com>
Message-ID: <etPan.54468cc5.7c3dbd3d.e585@macpro-3.local>

If the full environment isn?t getting passed to R-spawned sub-processes, that might explain an error I?ve been having since the update: ?when R is launched from the command line, calls that should create an X11 window in the background fail unless an X11 window has already been created with the width and height specified:

> plot(rnorm(100))
Error in .External2(C_X11, d$display, d$width, d$height, d$pointsize, ?:?
? invalid 'width' or 'height'
> X11()
Error in .External2(C_X11, d$display, d$width, d$height, d$pointsize, ?:?
? invalid 'width' or 'height'
> X11(width = 5, height = 5)
> plot(rnorm(100))
[now it ?works - and any number of additional windows can be spawned without repeating the error]
[quitting R and reopening, without quitting XQuartz, and I get the same error calling plot() before X11(width = , height = )

This does not happen in RStudio. ?I don?t use the R.app gui; I opened it just now to test and I got a slew of path-related errors, but they?re as likely to have to do with my not-maintained R.app as with anything else. ?

I had not reported this already because I wasn?t confident whether its a yosemite issue, an R-patched issue, or just something odd in the way I built R.

If incomplete-environment-passing is the new normal, is this not going to be a common issue for packages that spawn sub-processes?


From:?Hadley Wickham <h.wickham at gmail.com>
Reply:?Hadley Wickham <h.wickham at gmail.com>>
Date:?October 21, 2014 at 10:12:13 AM
To:?David Winsemius <dwinsemius at comcast.net>>
Cc:?r-sig-mac <r-sig-mac at r-project.org>>, Spencer Mass <masss at newpaltz.edu>>
Subject:? Re: [R-SIG-Mac] Yosemite and R  

> No, it is not. It is expected that the path in the terminal be  
> different to the path in R, it is _not_ expected that the path in R be  
> different to the path in a subprocess started by R.  
>  
> (Well it is now expected, because this appears to be a new security  
> feature in Yosemite)  

The best thread I could find on the problem is here:  
https://code.google.com/p/mactlmgr/issues/detail?id=102  

--  
http://had.co.nz/  

_______________________________________________  
R-SIG-Mac mailing list  
R-SIG-Mac at r-project.org  
https://stat.ethz.ch/mailman/listinfo/r-sig-mac  

	[[alternative HTML version deleted]]


From jfox at mcmaster.ca  Tue Oct 21 22:19:49 2014
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 21 Oct 2014 16:19:49 -0400
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <etPan.54468cc5.7c3dbd3d.e585@macpro-3.local>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>	<CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>	<DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>	<CABdHhvEoojsjLkiwvzq1d8zTfA0nG2sAfTmDS1KZUs=Es1kmvQ@mail.gmail.com>	<CABdHhvEG4mPqA3AYME-kkkhS5jGkFT2ABkq_99pMjW=0fLZMkQ@mail.gmail.com>
	<etPan.54468cc5.7c3dbd3d.e585@macpro-3.local>
Message-ID: <002601cfed6c$5ddc6710$19953530$@mcmaster.ca>

Dear all,

I wonder whether this issue also accounts for the tcltk problems that have been reported. (I haven't yet upgraded to Yosemite myself, hoping to wait for the wrinkles to be ironed out, though I'll likely do so shortly if only to see what happens.)

Best,
 John

> -----Original Message-----
> From: r-sig-mac-bounces at r-project.org [mailto:r-sig-mac-bounces at r-
> project.org] On Behalf Of Amos B. Elberg
> Sent: Tuesday, October 21, 2014 12:40 PM
> To: David Winsemius; Hadley Wickham
> Cc: r-sig-mac; Spencer Mass
> Subject: Re: [R-SIG-Mac] Yosemite and R
> 
> If the full environment isn?t getting passed to R-spawned sub-
> processes, that might explain an error I?ve been having since the
> update:  when R is launched from the command line, calls that should
> create an X11 window in the background fail unless an X11 window has
> already been created with the width and height specified:
> 
> > plot(rnorm(100))
> Error in .External2(C_X11, d$display, d$width, d$height,
> d$pointsize,  :
>   invalid 'width' or 'height'
> > X11()
> Error in .External2(C_X11, d$display, d$width, d$height,
> d$pointsize,  :
>   invalid 'width' or 'height'
> > X11(width = 5, height = 5)
> > plot(rnorm(100))
> [now it  works - and any number of additional windows can be spawned
> without repeating the error]
> [quitting R and reopening, without quitting XQuartz, and I get the same
> error calling plot() before X11(width = , height = )
> 
> This does not happen in RStudio.  I don?t use the R.app gui; I opened
> it just now to test and I got a slew of path-related errors, but
> they?re as likely to have to do with my not-maintained R.app as with
> anything else.
> 
> I had not reported this already because I wasn?t confident whether its
> a yosemite issue, an R-patched issue, or just something odd in the way
> I built R.
> 
> If incomplete-environment-passing is the new normal, is this not going
> to be a common issue for packages that spawn sub-processes?
> 
> 
> From: Hadley Wickham <h.wickham at gmail.com>
> Reply: Hadley Wickham <h.wickham at gmail.com>>
> Date: October 21, 2014 at 10:12:13 AM
> To: David Winsemius <dwinsemius at comcast.net>>
> Cc: r-sig-mac <r-sig-mac at r-project.org>>, Spencer Mass
> <masss at newpaltz.edu>>
> Subject:  Re: [R-SIG-Mac] Yosemite and R
> 
> > No, it is not. It is expected that the path in the terminal be
> > different to the path in R, it is _not_ expected that the path in R
> be
> > different to the path in a subprocess started by R.
> >
> > (Well it is now expected, because this appears to be a new security
> > feature in Yosemite)
> 
> The best thread I could find on the problem is here:
> https://code.google.com/p/mactlmgr/issues/detail?id=102
> 
> --
> http://had.co.nz/
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Tue Oct 21 22:38:23 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 21 Oct 2014 16:38:23 -0400
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <002601cfed6c$5ddc6710$19953530$@mcmaster.ca>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
	<CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>
	<DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>
	<CABdHhvEoojsjLkiwvzq1d8zTfA0nG2sAfTmDS1KZUs=Es1kmvQ@mail.gmail.com>
	<CABdHhvEG4mPqA3AYME-kkkhS5jGkFT2ABkq_99pMjW=0fLZMkQ@mail.gmail.com>
	<etPan.54468cc5.7c3dbd3d.e585@macpro-3.local>
	<002601cfed6c$5ddc6710$19953530$@mcmaster.ca>
Message-ID: <E068556C-45BD-4307-84FD-53F7E0CA527C@r-project.org>

I wasn't able to reproduce but I suspect those are all red herrings - there are really no subprocesses involved at all in either case.

On Oct 21, 2014, at 4:19 PM, John Fox <jfox at mcmaster.ca> wrote:
> 
> Dear all,
> 
> I wonder whether this issue also accounts for the tcltk problems that have been reported. (I haven't yet upgraded to Yosemite myself, hoping to wait for the wrinkles to be ironed out, though I'll likely do so shortly if only to see what happens.)
> 
> Best,
> John
> 
>> -----Original Message-----
>> From: r-sig-mac-bounces at r-project.org [mailto:r-sig-mac-bounces at r-
>> project.org] On Behalf Of Amos B. Elberg
>> Sent: Tuesday, October 21, 2014 12:40 PM
>> To: David Winsemius; Hadley Wickham
>> Cc: r-sig-mac; Spencer Mass
>> Subject: Re: [R-SIG-Mac] Yosemite and R
>> 
>> If the full environment isn?t getting passed to R-spawned sub-
>> processes, that might explain an error I?ve been having since the
>> update:  when R is launched from the command line, calls that should
>> create an X11 window in the background fail unless an X11 window has
>> already been created with the width and height specified:
>> 
>>> plot(rnorm(100))
>> Error in .External2(C_X11, d$display, d$width, d$height,
>> d$pointsize,  :
>>  invalid 'width' or 'height'
>>> X11()
>> Error in .External2(C_X11, d$display, d$width, d$height,
>> d$pointsize,  :
>>  invalid 'width' or 'height'
>>> X11(width = 5, height = 5)
>>> plot(rnorm(100))
>> [now it  works - and any number of additional windows can be spawned
>> without repeating the error]
>> [quitting R and reopening, without quitting XQuartz, and I get the same
>> error calling plot() before X11(width = , height = )
>> 
>> This does not happen in RStudio.  I don?t use the R.app gui; I opened
>> it just now to test and I got a slew of path-related errors, but
>> they?re as likely to have to do with my not-maintained R.app as with
>> anything else.
>> 
>> I had not reported this already because I wasn?t confident whether its
>> a yosemite issue, an R-patched issue, or just something odd in the way
>> I built R.
>> 
>> If incomplete-environment-passing is the new normal, is this not going
>> to be a common issue for packages that spawn sub-processes?
>> 
>> 
>> From: Hadley Wickham <h.wickham at gmail.com>
>> Reply: Hadley Wickham <h.wickham at gmail.com>>
>> Date: October 21, 2014 at 10:12:13 AM
>> To: David Winsemius <dwinsemius at comcast.net>>
>> Cc: r-sig-mac <r-sig-mac at r-project.org>>, Spencer Mass
>> <masss at newpaltz.edu>>
>> Subject:  Re: [R-SIG-Mac] Yosemite and R
>> 
>>> No, it is not. It is expected that the path in the terminal be
>>> different to the path in R, it is _not_ expected that the path in R
>> be
>>> different to the path in a subprocess started by R.
>>> 
>>> (Well it is now expected, because this appears to be a new security
>>> feature in Yosemite)
>> 
>> The best thread I could find on the problem is here:
>> https://code.google.com/p/mactlmgr/issues/detail?id=102
>> 
>> --
>> http://had.co.nz/
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From simon.urbanek at r-project.org  Tue Oct 21 22:44:46 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 21 Oct 2014 16:44:46 -0400
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
Message-ID: <6FD042A4-4841-4693-A1BD-B6D7059A92D1@r-project.org>

There has been quite a bit of wild speculation in this thread, but the only issue I was able to reproduce is the R.app crash on the first startup which seems to happen only if you don't have any preferences stored. Re-starting R.app seems to work since the preferences are created during the first startup so subsequent starts don't crash.

Cheers,
Simon


From gorillayue at gmail.com  Tue Oct 21 23:40:13 2014
From: gorillayue at gmail.com (Yue Li)
Date: Tue, 21 Oct 2014 17:40:13 -0400
Subject: [R-SIG-Mac] cairo_ps stopped working in Yosemite
Message-ID: <2E6C0088-0BD4-4FD0-A516-693B97702662@gmail.com>

Dear List,

I wonder who have encountered and/or solved the following issue where cairo_ps stopped working due to failure to load cairo.so module after installing Yosemite.

Thanks a in advance,
Yue


> cairo_ps("~/Desktop/test.eps")
Warning messages:
1: In cairo_ps("~/Desktop/test.eps") :
  unable to load shared object '/Library/Frameworks/R.framework/Resources/library/grDevices/libs//cairo.so':
  dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/libs//cairo.so, 6): Library not loaded: /usr/X11/lib/libXrender.1.dylib
  Referenced from: /Library/Frameworks/R.framework/Resources/library/grDevices/libs//cairo.so
  Reason: image not found
2: In cairo_ps("~/Desktop/test.eps") : failed to load cairo DLL


From pdalgd at gmail.com  Wed Oct 22 00:10:58 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Wed, 22 Oct 2014 00:10:58 +0200
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <6FD042A4-4841-4693-A1BD-B6D7059A92D1@r-project.org>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<6FD042A4-4841-4693-A1BD-B6D7059A92D1@r-project.org>
Message-ID: <F6A7EE5C-AC7B-4570-8CC5-A3EADB74FA79@gmail.com>


> On 21 Oct 2014, at 22:44 , Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> There has been quite a bit of wild speculation in this thread, but the only issue I was able to reproduce is the R.app crash on the first startup which seems to happen only if you don't have any preferences stored. Re-starting R.app seems to work since the preferences are created during the first startup so subsequent starts don't crash.
> 
> Cheers,
> Simon
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

I have this consistently in Terminal-R:

Peter-Dalgaards-MacBook-Air:BUILD pd$ bin/R

R version 3.1.2 beta (2014-10-21 r66833) -- "Pumpkin Helmet"
Copyright (C) 2014 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin14.0.0/x86_64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> plot(0)
Floating point exception: 8

(The plot window appears and there is a sizeable delay before R gives up the ghost.)

This is when building with XQuartz 2.7.7 and

Peter-Dalgaards-MacBook-Air:BUILD pd$ cat config.site
#CFLAGS="-g -O0"
FFLAGS=-m64
LDFLAGS=-L/usr/X11R6/lib
r_arch=x86_64
with_blas='-framework Accelerate'
with_lapack=yes

(which is likely showing my incompetence)

However, this is clearly  sufficient to explain why the tkdensity demo crashed for me; presumably nothing to do witk tcltk per se.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From simon.urbanek at r-project.org  Wed Oct 22 00:16:00 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 21 Oct 2014 18:16:00 -0400
Subject: [R-SIG-Mac] cairo_ps stopped working in Yosemite
In-Reply-To: <2E6C0088-0BD4-4FD0-A516-693B97702662@gmail.com>
References: <2E6C0088-0BD4-4FD0-A516-693B97702662@gmail.com>
Message-ID: <2EC9B7A4-AA6E-4237-8F87-1E8252E827D5@r-project.org>

On Oct 21, 2014, at 5:40 PM, Yue Li <gorillayue at gmail.com> wrote:
> 
> Dear List,
> 
> I wonder who have encountered and/or solved the following issue where cairo_ps stopped working due to failure to load cairo.so module after installing Yosemite.
> 

You have to re-install XQuartz
http://xquartz.macosforge.org
after upgrading to Yosemite

Cheers,
Simon



> Thanks a in advance,
> Yue
> 
> 
>> cairo_ps("~/Desktop/test.eps")
> Warning messages:
> 1: In cairo_ps("~/Desktop/test.eps") :
>  unable to load shared object '/Library/Frameworks/R.framework/Resources/library/grDevices/libs//cairo.so':
>  dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/libs//cairo.so, 6): Library not loaded: /usr/X11/lib/libXrender.1.dylib
>  Referenced from: /Library/Frameworks/R.framework/Resources/library/grDevices/libs//cairo.so
>  Reason: image not found
> 2: In cairo_ps("~/Desktop/test.eps") : failed to load cairo DLL
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From gorillayue at gmail.com  Wed Oct 22 00:40:37 2014
From: gorillayue at gmail.com (Yue Li)
Date: Tue, 21 Oct 2014 18:40:37 -0400
Subject: [R-SIG-Mac] cairo_ps stopped working in Yosemite
In-Reply-To: <2EC9B7A4-AA6E-4237-8F87-1E8252E827D5@r-project.org>
References: <2E6C0088-0BD4-4FD0-A516-693B97702662@gmail.com>
	<2EC9B7A4-AA6E-4237-8F87-1E8252E827D5@r-project.org>
Message-ID: <6F32B814-B9B6-4372-AB9D-887F0B0D407C@gmail.com>

Thanks Simon. The warning is gone. Instead, it now crashed every time I do this:

cairo_ps("~/Desktop/test.eps?)
plot(1:10,1:10)


I also noticed that the latest XQuartz 2.7.7 (incl. beta) was released in 2014-08-18 before Yosemite?

Thanks again,
Yue



> On Oct 21, 2014, at 6:16 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> On Oct 21, 2014, at 5:40 PM, Yue Li <gorillayue at gmail.com <mailto:gorillayue at gmail.com>> wrote:
>> 
>> Dear List,
>> 
>> I wonder who have encountered and/or solved the following issue where cairo_ps stopped working due to failure to load cairo.so module after installing Yosemite.
>> 
> 
> You have to re-install XQuartz
> http://xquartz.macosforge.org <http://xquartz.macosforge.org/>
> after upgrading to Yosemite
> 
> Cheers,
> Simon
> 
> 
> 
>> Thanks a in advance,
>> Yue
>> 
>> 
>>> cairo_ps("~/Desktop/test.eps")
>> Warning messages:
>> 1: In cairo_ps("~/Desktop/test.eps") :
>> unable to load shared object '/Library/Frameworks/R.framework/Resources/library/grDevices/libs//cairo.so':
>> dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/libs//cairo.so, 6): Library not loaded: /usr/X11/lib/libXrender.1.dylib
>> Referenced from: /Library/Frameworks/R.framework/Resources/library/grDevices/libs//cairo.so
>> Reason: image not found
>> 2: In cairo_ps("~/Desktop/test.eps") : failed to load cairo DLL
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org <mailto:R-SIG-Mac at r-project.org>
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac <https://stat.ethz.ch/mailman/listinfo/r-sig-mac>

	[[alternative HTML version deleted]]


From gorillayue at gmail.com  Wed Oct 22 00:45:09 2014
From: gorillayue at gmail.com (Yue Li)
Date: Tue, 21 Oct 2014 18:45:09 -0400
Subject: [R-SIG-Mac] cairo_ps stopped working in Yosemite
In-Reply-To: <6F32B814-B9B6-4372-AB9D-887F0B0D407C@gmail.com>
References: <2E6C0088-0BD4-4FD0-A516-693B97702662@gmail.com>
	<2EC9B7A4-AA6E-4237-8F87-1E8252E827D5@r-project.org>
	<6F32B814-B9B6-4372-AB9D-887F0B0D407C@gmail.com>
Message-ID: <2ABFA8AF-C14B-4B28-889D-EB0A1CCAC167@gmail.com>

Sorry never mind. Somehow it starts working properly now after a reboot. Thanks!

> On Oct 21, 2014, at 6:40 PM, Yue Li <gorillayue at gmail.com> wrote:
> 
> Thanks Simon. The warning is gone. Instead, it now crashed every time I do this:
> 
> cairo_ps("~/Desktop/test.eps?)
> plot(1:10,1:10)
> 
> 
> I also noticed that the latest XQuartz 2.7.7 (incl. beta) was released in 2014-08-18 before Yosemite?
> 
> Thanks again,
> Yue
> 
> 
> 
>> On Oct 21, 2014, at 6:16 PM, Simon Urbanek <simon.urbanek at r-project.org <mailto:simon.urbanek at r-project.org>> wrote:
>> 
>> On Oct 21, 2014, at 5:40 PM, Yue Li <gorillayue at gmail.com <mailto:gorillayue at gmail.com>> wrote:
>>> 
>>> Dear List,
>>> 
>>> I wonder who have encountered and/or solved the following issue where cairo_ps stopped working due to failure to load cairo.so module after installing Yosemite.
>>> 
>> 
>> You have to re-install XQuartz
>> http://xquartz.macosforge.org <http://xquartz.macosforge.org/>
>> after upgrading to Yosemite
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>> Thanks a in advance,
>>> Yue
>>> 
>>> 
>>>> cairo_ps("~/Desktop/test.eps")
>>> Warning messages:
>>> 1: In cairo_ps("~/Desktop/test.eps") :
>>> unable to load shared object '/Library/Frameworks/R.framework/Resources/library/grDevices/libs//cairo.so':
>>> dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/libs//cairo.so, 6): Library not loaded: /usr/X11/lib/libXrender.1.dylib
>>> Referenced from: /Library/Frameworks/R.framework/Resources/library/grDevices/libs//cairo.so
>>> Reason: image not found
>>> 2: In cairo_ps("~/Desktop/test.eps") : failed to load cairo DLL
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org <mailto:R-SIG-Mac at r-project.org>
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac <https://stat.ethz.ch/mailman/listinfo/r-sig-mac>


	[[alternative HTML version deleted]]


From lampfeli at googlemail.com  Wed Oct 22 15:12:03 2014
From: lampfeli at googlemail.com (Felix Lamp)
Date: Wed, 22 Oct 2014 15:12:03 +0200
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
Message-ID: <CANvgu7hH35EuhZKCF8YeVy4YbCoJkSMsraLtMzG-oa3p+c3fPw@mail.gmail.com>

I am using R.app 1.65 and I have recently upgraded to Yosemite.

I now get these messages: "plugin com.getdropbox.dropbox.garcon
interrupted" in the console.
In addition, R is sometimes unresponsive when I choose File -> Open
Document. I then force R to quit. Unfortunately, for now I am unable to
enumerate the conditions that trigger selecting File -> Open Document to be
unresponsive.

Best,

Felix


R version 3.1.1 (2014-07-10)
Platform: x86_64-apple-darwin13.1.0 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_3.1.1

On Fri, Oct 17, 2014 at 9:17 PM, Spencer Mass <masss at newpaltz.edu> wrote:

> Has anyone had issues installing/running  R3.1.1 2014-07-11, R.app 1.65 on
> Yosemite?
>
> Thanks,
>
> - SM
>
> ===
> Spencer M. Mass, MD
> Department of Biology
> CSB 149
> SUNY New Paltz
> 1 Hawk Drive
> New Paltz, NY 12561
>
> voice: 845-257-3678
>
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From jfox at mcmaster.ca  Thu Oct 23 20:15:10 2014
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 23 Oct 2014 14:15:10 -0400
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <E068556C-45BD-4307-84FD-53F7E0CA527C@r-project.org>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
	<CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>
	<DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>
	<CABdHhvEoojsjLkiwvzq1d8zTfA0nG2sAfTmDS1KZUs=Es1kmvQ@mail.gmail.com>
	<CABdHhvEG4mPqA3AYME-kkkhS5jGkFT2ABkq_99pMjW=0fLZMkQ@mail.gmail.com>
	<etPan.54468cc5.7c3dbd3d.e585@macpro-3.local>
	<002601cfed6c$5ddc6710$19953530$@mcmaster.ca>
	<E068556C-45BD-4307-84FD-53F7E0CA527C@r-project.org>
Message-ID: <005201cfeeed$48e0b6e0$daa224a0$@mcmaster.ca>

Dear Simon,

I installed Yosemite a couple of days ago and everything seems to work fine so far, including the tcltk demo that caused problems for Peter, and the Rcmdr package, which gives Tcl/Tk a pretty good workout. I first reinstalled XQuartz, as suggested, and I also reinstalled R and updated all packages, though the latter two steps probably weren't necessary. I figured that it would help to hear positive experiences as well as problems.

The only issue that I've encountered so far is specific to checking packages under RStudio, which doesn't appear to find pdflatex; OTOH, R CMD check runs fine in a terminal window. I haven't yet tried to resolve this problem.

Best,
 John

> -----Original Message-----
> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> Sent: Tuesday, October 21, 2014 4:38 PM
> To: John Fox
> Cc: Amos B. Elberg; r-sig-mac; Spencer Mass; Ben Clark; peter dalgaard;
> Marc Schwartz; David Winsemius; Hadley Wickham
> Subject: Re: [R-SIG-Mac] Yosemite and R
> 
> I wasn't able to reproduce but I suspect those are all red herrings -
> there are really no subprocesses involved at all in either case.
> 
> On Oct 21, 2014, at 4:19 PM, John Fox <jfox at mcmaster.ca> wrote:
> >
> > Dear all,
> >
> > I wonder whether this issue also accounts for the tcltk problems that
> have been reported. (I haven't yet upgraded to Yosemite myself, hoping
> to wait for the wrinkles to be ironed out, though I'll likely do so
> shortly if only to see what happens.)
> >
> > Best,
> > John
> >
> >> -----Original Message-----
> >> From: r-sig-mac-bounces at r-project.org [mailto:r-sig-mac-bounces at r-
> >> project.org] On Behalf Of Amos B. Elberg
> >> Sent: Tuesday, October 21, 2014 12:40 PM
> >> To: David Winsemius; Hadley Wickham
> >> Cc: r-sig-mac; Spencer Mass
> >> Subject: Re: [R-SIG-Mac] Yosemite and R
> >>
> >> If the full environment isn?t getting passed to R-spawned sub-
> >> processes, that might explain an error I?ve been having since the
> >> update:  when R is launched from the command line, calls that should
> >> create an X11 window in the background fail unless an X11 window has
> >> already been created with the width and height specified:
> >>
> >>> plot(rnorm(100))
> >> Error in .External2(C_X11, d$display, d$width, d$height,
> >> d$pointsize,  :
> >>  invalid 'width' or 'height'
> >>> X11()
> >> Error in .External2(C_X11, d$display, d$width, d$height,
> >> d$pointsize,  :
> >>  invalid 'width' or 'height'
> >>> X11(width = 5, height = 5)
> >>> plot(rnorm(100))
> >> [now it  works - and any number of additional windows can be spawned
> >> without repeating the error]
> >> [quitting R and reopening, without quitting XQuartz, and I get the
> same
> >> error calling plot() before X11(width = , height = )
> >>
> >> This does not happen in RStudio.  I don?t use the R.app gui; I
> opened
> >> it just now to test and I got a slew of path-related errors, but
> >> they?re as likely to have to do with my not-maintained R.app as with
> >> anything else.
> >>
> >> I had not reported this already because I wasn?t confident whether
> its
> >> a yosemite issue, an R-patched issue, or just something odd in the
> way
> >> I built R.
> >>
> >> If incomplete-environment-passing is the new normal, is this not
> going
> >> to be a common issue for packages that spawn sub-processes?
> >>
> >>
> >> From: Hadley Wickham <h.wickham at gmail.com>
> >> Reply: Hadley Wickham <h.wickham at gmail.com>>
> >> Date: October 21, 2014 at 10:12:13 AM
> >> To: David Winsemius <dwinsemius at comcast.net>>
> >> Cc: r-sig-mac <r-sig-mac at r-project.org>>, Spencer Mass
> >> <masss at newpaltz.edu>>
> >> Subject:  Re: [R-SIG-Mac] Yosemite and R
> >>
> >>> No, it is not. It is expected that the path in the terminal be
> >>> different to the path in R, it is _not_ expected that the path in R
> >> be
> >>> different to the path in a subprocess started by R.
> >>>
> >>> (Well it is now expected, because this appears to be a new security
> >>> feature in Yosemite)
> >>
> >> The best thread I could find on the problem is here:
> >> https://code.google.com/p/mactlmgr/issues/detail?id=102
> >>
> >> --
> >> http://had.co.nz/
> >>
> >> _______________________________________________
> >> R-SIG-Mac mailing list
> >> R-SIG-Mac at r-project.org
> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>
> >> 	[[alternative HTML version deleted]]
> >>
> >> _______________________________________________
> >> R-SIG-Mac mailing list
> >> R-SIG-Mac at r-project.org
> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >


From b.y.clark at csuohio.edu  Thu Oct 23 20:18:02 2014
From: b.y.clark at csuohio.edu (Benjamin Y Clark)
Date: Thu, 23 Oct 2014 18:18:02 +0000
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <005201cfeeed$48e0b6e0$daa224a0$@mcmaster.ca>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
	<CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>
	<DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>
	<CABdHhvEoojsjLkiwvzq1d8zTfA0nG2sAfTmDS1KZUs=Es1kmvQ@mail.gmail.com>
	<CABdHhvEG4mPqA3AYME-kkkhS5jGkFT2ABkq_99pMjW=0fLZMkQ@mail.gmail.com>
	<etPan.54468cc5.7c3dbd3d.e585@macpro-3.local>
	<002601cfed6c$5ddc6710$19953530$@mcmaster.ca>
	<E068556C-45BD-4307-84FD-53F7E0CA527C@r-project.org>,
	<005201cfeeed$48e0b6e0$daa224a0$@mcmaster.ca>
Message-ID: <1414088281954.15959@csuohio.edu>

Update on my issue: Upon reinstalling Xquartz, as suggested, all of my previous issues went away.
-Ben

--
Benjamin Y. Clark, PhD
Assistant Professor of Public Administration (Levin College) &
Assistant Professor of Public Health (CEOMPH)
Cleveland State University

Executive Committee Member
Association for Budgeting and Financial Management (ABFM)

b.y.clark[at]csuohio.edu
bit.ly/BenClark


________________________________________
From: John Fox <jfox at mcmaster.ca>
Sent: Thursday, October 23, 2014 2:15 PM
To: 'Simon Urbanek'
Cc: 'Amos B. Elberg'; 'r-sig-mac'; 'Spencer Mass'; Benjamin Y Clark; 'peter dalgaard'; 'Marc Schwartz'; 'David Winsemius'; 'Hadley Wickham'
Subject: RE: [R-SIG-Mac] Yosemite and R

Dear Simon,

I installed Yosemite a couple of days ago and everything seems to work fine so far, including the tcltk demo that caused problems for Peter, and the Rcmdr package, which gives Tcl/Tk a pretty good workout. I first reinstalled XQuartz, as suggested, and I also reinstalled R and updated all packages, though the latter two steps probably weren't necessary. I figured that it would help to hear positive experiences as well as problems.

The only issue that I've encountered so far is specific to checking packages under RStudio, which doesn't appear to find pdflatex; OTOH, R CMD check runs fine in a terminal window. I haven't yet tried to resolve this problem.

Best,
 John

> -----Original Message-----
> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> Sent: Tuesday, October 21, 2014 4:38 PM
> To: John Fox
> Cc: Amos B. Elberg; r-sig-mac; Spencer Mass; Ben Clark; peter dalgaard;
> Marc Schwartz; David Winsemius; Hadley Wickham
> Subject: Re: [R-SIG-Mac] Yosemite and R
>
> I wasn't able to reproduce but I suspect those are all red herrings -
> there are really no subprocesses involved at all in either case.
>
> On Oct 21, 2014, at 4:19 PM, John Fox <jfox at mcmaster.ca> wrote:
> >
> > Dear all,
> >
> > I wonder whether this issue also accounts for the tcltk problems that
> have been reported. (I haven't yet upgraded to Yosemite myself, hoping
> to wait for the wrinkles to be ironed out, though I'll likely do so
> shortly if only to see what happens.)
> >
> > Best,
> > John
> >
> >> -----Original Message-----
> >> From: r-sig-mac-bounces at r-project.org [mailto:r-sig-mac-bounces at r-
> >> project.org] On Behalf Of Amos B. Elberg
> >> Sent: Tuesday, October 21, 2014 12:40 PM
> >> To: David Winsemius; Hadley Wickham
> >> Cc: r-sig-mac; Spencer Mass
> >> Subject: Re: [R-SIG-Mac] Yosemite and R
> >>
> >> If the full environment isn?t getting passed to R-spawned sub-
> >> processes, that might explain an error I?ve been having since the
> >> update:  when R is launched from the command line, calls that should
> >> create an X11 window in the background fail unless an X11 window has
> >> already been created with the width and height specified:
> >>
> >>> plot(rnorm(100))
> >> Error in .External2(C_X11, d$display, d$width, d$height,
> >> d$pointsize,  :
> >>  invalid 'width' or 'height'
> >>> X11()
> >> Error in .External2(C_X11, d$display, d$width, d$height,
> >> d$pointsize,  :
> >>  invalid 'width' or 'height'
> >>> X11(width = 5, height = 5)
> >>> plot(rnorm(100))
> >> [now it  works - and any number of additional windows can be spawned
> >> without repeating the error]
> >> [quitting R and reopening, without quitting XQuartz, and I get the
> same
> >> error calling plot() before X11(width = , height = )
> >>
> >> This does not happen in RStudio.  I don?t use the R.app gui; I
> opened
> >> it just now to test and I got a slew of path-related errors, but
> >> they?re as likely to have to do with my not-maintained R.app as with
> >> anything else.
> >>
> >> I had not reported this already because I wasn?t confident whether
> its
> >> a yosemite issue, an R-patched issue, or just something odd in the
> way
> >> I built R.
> >>
> >> If incomplete-environment-passing is the new normal, is this not
> going
> >> to be a common issue for packages that spawn sub-processes?
> >>
> >>
> >> From: Hadley Wickham <h.wickham at gmail.com>
> >> Reply: Hadley Wickham <h.wickham at gmail.com>>
> >> Date: October 21, 2014 at 10:12:13 AM
> >> To: David Winsemius <dwinsemius at comcast.net>>
> >> Cc: r-sig-mac <r-sig-mac at r-project.org>>, Spencer Mass
> >> <masss at newpaltz.edu>>
> >> Subject:  Re: [R-SIG-Mac] Yosemite and R
> >>
> >>> No, it is not. It is expected that the path in the terminal be
> >>> different to the path in R, it is _not_ expected that the path in R
> >> be
> >>> different to the path in a subprocess started by R.
> >>>
> >>> (Well it is now expected, because this appears to be a new security
> >>> feature in Yosemite)
> >>
> >> The best thread I could find on the problem is here:
> >> https://code.google.com/p/mactlmgr/issues/detail?id=102
> >>
> >> --
> >> http://had.co.nz/
> >>
> >> _______________________________________________
> >> R-SIG-Mac mailing list
> >> R-SIG-Mac at r-project.org
> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>
> >>    [[alternative HTML version deleted]]
> >>
> >> _______________________________________________
> >> R-SIG-Mac mailing list
> >> R-SIG-Mac at r-project.org
> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >



From kevinushey at gmail.com  Thu Oct 23 20:23:28 2014
From: kevinushey at gmail.com (Kevin Ushey)
Date: Thu, 23 Oct 2014 11:23:28 -0700
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <1414088281954.15959@csuohio.edu>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
	<CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>
	<DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>
	<CABdHhvEoojsjLkiwvzq1d8zTfA0nG2sAfTmDS1KZUs=Es1kmvQ@mail.gmail.com>
	<CABdHhvEG4mPqA3AYME-kkkhS5jGkFT2ABkq_99pMjW=0fLZMkQ@mail.gmail.com>
	<etPan.54468cc5.7c3dbd3d.e585@macpro-3.local>
	<002601cfed6c$5ddc6710$19953530$@mcmaster.ca>
	<E068556C-45BD-4307-84FD-53F7E0CA527C@r-project.org>
	<005201cfeeed$48e0b6e0$daa224a0$@mcmaster.ca>
	<1414088281954.15959@csuohio.edu>
Message-ID: <CAJXgQP2BTT-E=TaiAnqeTN-m=VFS0Ud6Ephy=pVJtv4xt9auPw@mail.gmail.com>

Hi John,

Regarding your issue in RStudio and pdflatex -- this is a general
problem with any applications not launched from the terminal;
presumedly it would be seen in R.app as well when not launched from
the terminal (this is related to the forward-PATH-to-subprocesses
problem discussed earlier)

There is a prescription available on StackOverflow:
http://stackoverflow.com/questions/26491934/running-system-command-from-r-console-cannot-locate-installed-programs-since-upg

Cheers,
Kevin

On Thu, Oct 23, 2014 at 11:18 AM, Benjamin Y Clark
<b.y.clark at csuohio.edu> wrote:
> Update on my issue: Upon reinstalling Xquartz, as suggested, all of my previous issues went away.
> -Ben
>
> --
> Benjamin Y. Clark, PhD
> Assistant Professor of Public Administration (Levin College) &
> Assistant Professor of Public Health (CEOMPH)
> Cleveland State University
>
> Executive Committee Member
> Association for Budgeting and Financial Management (ABFM)
>
> b.y.clark[at]csuohio.edu
> bit.ly/BenClark
>
>
> ________________________________________
> From: John Fox <jfox at mcmaster.ca>
> Sent: Thursday, October 23, 2014 2:15 PM
> To: 'Simon Urbanek'
> Cc: 'Amos B. Elberg'; 'r-sig-mac'; 'Spencer Mass'; Benjamin Y Clark; 'peter dalgaard'; 'Marc Schwartz'; 'David Winsemius'; 'Hadley Wickham'
> Subject: RE: [R-SIG-Mac] Yosemite and R
>
> Dear Simon,
>
> I installed Yosemite a couple of days ago and everything seems to work fine so far, including the tcltk demo that caused problems for Peter, and the Rcmdr package, which gives Tcl/Tk a pretty good workout. I first reinstalled XQuartz, as suggested, and I also reinstalled R and updated all packages, though the latter two steps probably weren't necessary. I figured that it would help to hear positive experiences as well as problems.
>
> The only issue that I've encountered so far is specific to checking packages under RStudio, which doesn't appear to find pdflatex; OTOH, R CMD check runs fine in a terminal window. I haven't yet tried to resolve this problem.
>
> Best,
>  John
>
>> -----Original Message-----
>> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
>> Sent: Tuesday, October 21, 2014 4:38 PM
>> To: John Fox
>> Cc: Amos B. Elberg; r-sig-mac; Spencer Mass; Ben Clark; peter dalgaard;
>> Marc Schwartz; David Winsemius; Hadley Wickham
>> Subject: Re: [R-SIG-Mac] Yosemite and R
>>
>> I wasn't able to reproduce but I suspect those are all red herrings -
>> there are really no subprocesses involved at all in either case.
>>
>> On Oct 21, 2014, at 4:19 PM, John Fox <jfox at mcmaster.ca> wrote:
>> >
>> > Dear all,
>> >
>> > I wonder whether this issue also accounts for the tcltk problems that
>> have been reported. (I haven't yet upgraded to Yosemite myself, hoping
>> to wait for the wrinkles to be ironed out, though I'll likely do so
>> shortly if only to see what happens.)
>> >
>> > Best,
>> > John
>> >
>> >> -----Original Message-----
>> >> From: r-sig-mac-bounces at r-project.org [mailto:r-sig-mac-bounces at r-
>> >> project.org] On Behalf Of Amos B. Elberg
>> >> Sent: Tuesday, October 21, 2014 12:40 PM
>> >> To: David Winsemius; Hadley Wickham
>> >> Cc: r-sig-mac; Spencer Mass
>> >> Subject: Re: [R-SIG-Mac] Yosemite and R
>> >>
>> >> If the full environment isn?t getting passed to R-spawned sub-
>> >> processes, that might explain an error I?ve been having since the
>> >> update:  when R is launched from the command line, calls that should
>> >> create an X11 window in the background fail unless an X11 window has
>> >> already been created with the width and height specified:
>> >>
>> >>> plot(rnorm(100))
>> >> Error in .External2(C_X11, d$display, d$width, d$height,
>> >> d$pointsize,  :
>> >>  invalid 'width' or 'height'
>> >>> X11()
>> >> Error in .External2(C_X11, d$display, d$width, d$height,
>> >> d$pointsize,  :
>> >>  invalid 'width' or 'height'
>> >>> X11(width = 5, height = 5)
>> >>> plot(rnorm(100))
>> >> [now it  works - and any number of additional windows can be spawned
>> >> without repeating the error]
>> >> [quitting R and reopening, without quitting XQuartz, and I get the
>> same
>> >> error calling plot() before X11(width = , height = )
>> >>
>> >> This does not happen in RStudio.  I don?t use the R.app gui; I
>> opened
>> >> it just now to test and I got a slew of path-related errors, but
>> >> they?re as likely to have to do with my not-maintained R.app as with
>> >> anything else.
>> >>
>> >> I had not reported this already because I wasn?t confident whether
>> its
>> >> a yosemite issue, an R-patched issue, or just something odd in the
>> way
>> >> I built R.
>> >>
>> >> If incomplete-environment-passing is the new normal, is this not
>> going
>> >> to be a common issue for packages that spawn sub-processes?
>> >>
>> >>
>> >> From: Hadley Wickham <h.wickham at gmail.com>
>> >> Reply: Hadley Wickham <h.wickham at gmail.com>>
>> >> Date: October 21, 2014 at 10:12:13 AM
>> >> To: David Winsemius <dwinsemius at comcast.net>>
>> >> Cc: r-sig-mac <r-sig-mac at r-project.org>>, Spencer Mass
>> >> <masss at newpaltz.edu>>
>> >> Subject:  Re: [R-SIG-Mac] Yosemite and R
>> >>
>> >>> No, it is not. It is expected that the path in the terminal be
>> >>> different to the path in R, it is _not_ expected that the path in R
>> >> be
>> >>> different to the path in a subprocess started by R.
>> >>>
>> >>> (Well it is now expected, because this appears to be a new security
>> >>> feature in Yosemite)
>> >>
>> >> The best thread I could find on the problem is here:
>> >> https://code.google.com/p/mactlmgr/issues/detail?id=102
>> >>
>> >> --
>> >> http://had.co.nz/
>> >>
>> >> _______________________________________________
>> >> R-SIG-Mac mailing list
>> >> R-SIG-Mac at r-project.org
>> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> >>
>> >>    [[alternative HTML version deleted]]
>> >>
>> >> _______________________________________________
>> >> R-SIG-Mac mailing list
>> >> R-SIG-Mac at r-project.org
>> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> >
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jfox at mcmaster.ca  Thu Oct 23 21:12:31 2014
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 23 Oct 2014 15:12:31 -0400
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <CAJXgQP2BTT-E=TaiAnqeTN-m=VFS0Ud6Ephy=pVJtv4xt9auPw@mail.gmail.com>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>	<CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>	<DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>	<CABdHhvEoojsjLkiwvzq1d8zTfA0nG2sAfTmDS1KZUs=Es1kmvQ@mail.gmail.com>	<CABdHhvEG4mPqA3AYME-kkkhS5jGkFT2ABkq_99pMjW=0fLZMkQ@mail.gmail.com>	<etPan.54468cc5.7c3dbd3d.e585@macpro-3.local>	<002601cfed6c$5ddc6710$19953530$@mcmaster.ca>	<E068556C-45BD-4307-84FD-53F7E0CA527C@r-project.org>	<005201cfeeed$48e0b6e0$daa224a0$@mcmaster.ca>	<1414088281954.15959@csuohio.edu>
	<CAJXgQP2BTT-E=TaiAnqeTN-m=VFS0Ud6Ephy=pVJtv4xt9auPw@mail.gmail.com>
Message-ID: <006901cfeef5$4be08fc0$e3a1af40$@mcmaster.ca>

Hi Kevin,

Thank you for this.

As I said, I hadn't gotten around to checking into the problem -- not even looking whether someone else had reported it. I expect that the RStudio folks will address the issue, and it's probably best discussed on their website. 

I don't think that the first solution on StackOverflow is appropriate for checking packages using the RStudio Build tab, since a command like system2("pdflatex", "--help", env=paste0("PATH=", Sys.getenv("PATH"))) (adapting the suggestion on StackOverflow) simply invokes pdflatex from the current session, and doesn't modify the path for the package check. The second solution, opening RStudio from a terminal, does work but is of course awkward.

Best,
 John

> -----Original Message-----
> From: Kevin Ushey [mailto:kevinushey at gmail.com]
> Sent: Thursday, October 23, 2014 2:23 PM
> To: Benjamin Y Clark
> Cc: John Fox; Simon Urbanek; r-sig-mac; Spencer Mass
> Subject: Re: [R-SIG-Mac] Yosemite and R
> 
> Hi John,
> 
> Regarding your issue in RStudio and pdflatex -- this is a general
> problem with any applications not launched from the terminal;
> presumedly it would be seen in R.app as well when not launched from
> the terminal (this is related to the forward-PATH-to-subprocesses
> problem discussed earlier)
> 
> There is a prescription available on StackOverflow:
> http://stackoverflow.com/questions/26491934/running-system-command-
> from-r-console-cannot-locate-installed-programs-since-upg
> 
> Cheers,
> Kevin
> 
> On Thu, Oct 23, 2014 at 11:18 AM, Benjamin Y Clark
> <b.y.clark at csuohio.edu> wrote:
> > Update on my issue: Upon reinstalling Xquartz, as suggested, all of
> my previous issues went away.
> > -Ben
> >
> > --
> > Benjamin Y. Clark, PhD
> > Assistant Professor of Public Administration (Levin College) &
> > Assistant Professor of Public Health (CEOMPH)
> > Cleveland State University
> >
> > Executive Committee Member
> > Association for Budgeting and Financial Management (ABFM)
> >
> > b.y.clark[at]csuohio.edu
> > bit.ly/BenClark
> >
> >
> > ________________________________________
> > From: John Fox <jfox at mcmaster.ca>
> > Sent: Thursday, October 23, 2014 2:15 PM
> > To: 'Simon Urbanek'
> > Cc: 'Amos B. Elberg'; 'r-sig-mac'; 'Spencer Mass'; Benjamin Y Clark;
> 'peter dalgaard'; 'Marc Schwartz'; 'David Winsemius'; 'Hadley Wickham'
> > Subject: RE: [R-SIG-Mac] Yosemite and R
> >
> > Dear Simon,
> >
> > I installed Yosemite a couple of days ago and everything seems to
> work fine so far, including the tcltk demo that caused problems for
> Peter, and the Rcmdr package, which gives Tcl/Tk a pretty good workout.
> I first reinstalled XQuartz, as suggested, and I also reinstalled R and
> updated all packages, though the latter two steps probably weren't
> necessary. I figured that it would help to hear positive experiences as
> well as problems.
> >
> > The only issue that I've encountered so far is specific to checking
> packages under RStudio, which doesn't appear to find pdflatex; OTOH, R
> CMD check runs fine in a terminal window. I haven't yet tried to
> resolve this problem.
> >
> > Best,
> >  John
> >
> >> -----Original Message-----
> >> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> >> Sent: Tuesday, October 21, 2014 4:38 PM
> >> To: John Fox
> >> Cc: Amos B. Elberg; r-sig-mac; Spencer Mass; Ben Clark; peter
> dalgaard;
> >> Marc Schwartz; David Winsemius; Hadley Wickham
> >> Subject: Re: [R-SIG-Mac] Yosemite and R
> >>
> >> I wasn't able to reproduce but I suspect those are all red herrings
> -
> >> there are really no subprocesses involved at all in either case.
> >>
> >> On Oct 21, 2014, at 4:19 PM, John Fox <jfox at mcmaster.ca> wrote:
> >> >
> >> > Dear all,
> >> >
> >> > I wonder whether this issue also accounts for the tcltk problems
> that
> >> have been reported. (I haven't yet upgraded to Yosemite myself,
> hoping
> >> to wait for the wrinkles to be ironed out, though I'll likely do so
> >> shortly if only to see what happens.)
> >> >
> >> > Best,
> >> > John
> >> >
> >> >> -----Original Message-----
> >> >> From: r-sig-mac-bounces at r-project.org [mailto:r-sig-mac-
> bounces at r-
> >> >> project.org] On Behalf Of Amos B. Elberg
> >> >> Sent: Tuesday, October 21, 2014 12:40 PM
> >> >> To: David Winsemius; Hadley Wickham
> >> >> Cc: r-sig-mac; Spencer Mass
> >> >> Subject: Re: [R-SIG-Mac] Yosemite and R
> >> >>
> >> >> If the full environment isn?t getting passed to R-spawned sub-
> >> >> processes, that might explain an error I?ve been having since the
> >> >> update:  when R is launched from the command line, calls that
> should
> >> >> create an X11 window in the background fail unless an X11 window
> has
> >> >> already been created with the width and height specified:
> >> >>
> >> >>> plot(rnorm(100))
> >> >> Error in .External2(C_X11, d$display, d$width, d$height,
> >> >> d$pointsize,  :
> >> >>  invalid 'width' or 'height'
> >> >>> X11()
> >> >> Error in .External2(C_X11, d$display, d$width, d$height,
> >> >> d$pointsize,  :
> >> >>  invalid 'width' or 'height'
> >> >>> X11(width = 5, height = 5)
> >> >>> plot(rnorm(100))
> >> >> [now it  works - and any number of additional windows can be
> spawned
> >> >> without repeating the error]
> >> >> [quitting R and reopening, without quitting XQuartz, and I get
> the
> >> same
> >> >> error calling plot() before X11(width = , height = )
> >> >>
> >> >> This does not happen in RStudio.  I don?t use the R.app gui; I
> >> opened
> >> >> it just now to test and I got a slew of path-related errors, but
> >> >> they?re as likely to have to do with my not-maintained R.app as
> with
> >> >> anything else.
> >> >>
> >> >> I had not reported this already because I wasn?t confident
> whether
> >> its
> >> >> a yosemite issue, an R-patched issue, or just something odd in
> the
> >> way
> >> >> I built R.
> >> >>
> >> >> If incomplete-environment-passing is the new normal, is this not
> >> going
> >> >> to be a common issue for packages that spawn sub-processes?
> >> >>
> >> >>
> >> >> From: Hadley Wickham <h.wickham at gmail.com>
> >> >> Reply: Hadley Wickham <h.wickham at gmail.com>>
> >> >> Date: October 21, 2014 at 10:12:13 AM
> >> >> To: David Winsemius <dwinsemius at comcast.net>>
> >> >> Cc: r-sig-mac <r-sig-mac at r-project.org>>, Spencer Mass
> >> >> <masss at newpaltz.edu>>
> >> >> Subject:  Re: [R-SIG-Mac] Yosemite and R
> >> >>
> >> >>> No, it is not. It is expected that the path in the terminal be
> >> >>> different to the path in R, it is _not_ expected that the path
> in R
> >> >> be
> >> >>> different to the path in a subprocess started by R.
> >> >>>
> >> >>> (Well it is now expected, because this appears to be a new
> security
> >> >>> feature in Yosemite)
> >> >>
> >> >> The best thread I could find on the problem is here:
> >> >> https://code.google.com/p/mactlmgr/issues/detail?id=102
> >> >>
> >> >> --
> >> >> http://had.co.nz/
> >> >>
> >> >> _______________________________________________
> >> >> R-SIG-Mac mailing list
> >> >> R-SIG-Mac at r-project.org
> >> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >> >>
> >> >>    [[alternative HTML version deleted]]
> >> >>
> >> >> _______________________________________________
> >> >> R-SIG-Mac mailing list
> >> >> R-SIG-Mac at r-project.org
> >> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >> >
> >
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From emma.sherratt at gmail.com  Fri Oct 24 06:22:28 2014
From: emma.sherratt at gmail.com (Emma Sherratt)
Date: Fri, 24 Oct 2014 15:22:28 +1100
Subject: [R-SIG-Mac] sh: convert: command not found
Message-ID: <CAF1_pPuiMrC=vRS8HtEqOCrSQjJtmk--qdMZPwxJ9x=PpXGf5g@mail.gmail.com>

Dear Mac R community,

I wonder if anyone else has come across this issue. After installing the
new Mac OS10.10 Yosemite, I am now having a strange problem.

I'm trying to use movie3d and run similar functions based on this I have
written myself.

Specifically, when I run

> system("convert --version")
sh: convert: command not found

yet, it is not a path issue.
> Sys.getenv("PATH")
[1]
"/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/git/bin:
*/opt/ImageMagick/bin*:/usr/texbin"

This shows clearly that the imagemagick path is listed  (and so isn't the
same as the problem in this previous discussion:
http://r.789695.n4.nabble.com/convert-command-not-found-in-movie3d-rgl-package-in-Mac-OS-X-td4320734.html
)

Also, in Terminal,

echo $PATH

/usr/local/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/git/bin:
*/opt/ImageMagick/bin*:/usr/texbin

The only way I have been able to get it to work is:

system("/opt/ImageMagick/bin/convert --version")

[1] "Version: ImageMagick 6.8.9-8 Q16 x86_64 2014-10-08
http://www.imagemagick.org"

[2] "Copyright: Copyright (C) 1999-2014 ImageMagick Studio LLC"


[3] "Features: DPC OpenCL"


[4] "Delegates: bzlib fftw jng jpeg lcms lzma png tiff webp xml zlib"


[5] ""


However, this workaround does not work for me using movie3d{rgl}

Any ideas most appreciated


Emma

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Emma Sherratt, PhD.

Lecturer in Zoology,
Zoology Division, School of Environmental and Rural Science,
Room L118 Bldg C02,
University of New England,
Armidale, NSW, Australia, 2351
Tel: +61 2 6773 5038
email: emma.sherratt at une.edu.au

Caecilians are legless amphibians...

*                      __
    (\   .-.   .-.   /_")
     \\_//^\\_//^\\_//
      `"`   `"`   `"`*

learn more about them here: www.emmasherratt.com/caecilians

	[[alternative HTML version deleted]]


From marc_grt at yahoo.fr  Fri Oct 24 07:10:06 2014
From: marc_grt at yahoo.fr (Marc Girondot)
Date: Fri, 24 Oct 2014 07:10:06 +0200
Subject: [R-SIG-Mac] sh: convert: command not found
In-Reply-To: <CAF1_pPuiMrC=vRS8HtEqOCrSQjJtmk--qdMZPwxJ9x=PpXGf5g@mail.gmail.com>
References: <CAF1_pPuiMrC=vRS8HtEqOCrSQjJtmk--qdMZPwxJ9x=PpXGf5g@mail.gmail.com>
Message-ID: <5449DF2E.4070508@yahoo.fr>

Look at here:
http://max2.ese.u-psud.fr/epc/conservation/Girondot/Publications/Blog_r/Entrees/2014/7/6_Using_system()_in_MacOSX.html

I think it is the solution.

Sincerely,

Marc

Le 24/10/2014 06:22, Emma Sherratt a ?crit :
> Dear Mac R community,
>
> I wonder if anyone else has come across this issue. After installing the
> new Mac OS10.10 Yosemite, I am now having a strange problem.
>
> I'm trying to use movie3d and run similar functions based on this I have
> written myself.
>
> Specifically, when I run
>
>> system("convert --version")
> sh: convert: command not found
>
> yet, it is not a path issue.
>> Sys.getenv("PATH")
> [1]
> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/git/bin:
> */opt/ImageMagick/bin*:/usr/texbin"
>
> This shows clearly that the imagemagick path is listed  (and so isn't the
> same as the problem in this previous discussion:
> http://r.789695.n4.nabble.com/convert-command-not-found-in-movie3d-rgl-package-in-Mac-OS-X-td4320734.html
> )
>
> Also, in Terminal,
>
> echo $PATH
>
> /usr/local/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/git/bin:
> */opt/ImageMagick/bin*:/usr/texbin
>
> The only way I have been able to get it to work is:
>
> system("/opt/ImageMagick/bin/convert --version")
>
> [1] "Version: ImageMagick 6.8.9-8 Q16 x86_64 2014-10-08
> http://www.imagemagick.org"
>
> [2] "Copyright: Copyright (C) 1999-2014 ImageMagick Studio LLC"
>
>
> [3] "Features: DPC OpenCL"
>
>
> [4] "Delegates: bzlib fftw jng jpeg lcms lzma png tiff webp xml zlib"
>
>
> [5] ""
>
>
> However, this workaround does not work for me using movie3d{rgl}
>
> Any ideas most appreciated
>
>
> Emma
>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
> Emma Sherratt, PhD.
>
> Lecturer in Zoology,
> Zoology Division, School of Environmental and Rural Science,
> Room L118 Bldg C02,
> University of New England,
> Armidale, NSW, Australia, 2351
> Tel: +61 2 6773 5038
> email: emma.sherratt at une.edu.au
>
> Caecilians are legless amphibians...
>
> *                      __
>      (\   .-.   .-.   /_")
>       \\_//^\\_//^\\_//
>        `"`   `"`   `"`*
>
> learn more about them here: www.emmasherratt.com/caecilians
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Fri Oct 24 07:37:15 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 24 Oct 2014 01:37:15 -0400
Subject: [R-SIG-Mac] sh: convert: command not found
In-Reply-To: <CAF1_pPuiMrC=vRS8HtEqOCrSQjJtmk--qdMZPwxJ9x=PpXGf5g@mail.gmail.com>
References: <CAF1_pPuiMrC=vRS8HtEqOCrSQjJtmk--qdMZPwxJ9x=PpXGf5g@mail.gmail.com>
Message-ID: <CBBC2C59-D9C6-4DB3-AAF2-D7E1125821BC@r-project.org>


On Oct 24, 2014, at 12:22 AM, Emma Sherratt <emma.sherratt at gmail.com> wrote:

> Dear Mac R community,
> 
> I wonder if anyone else has come across this issue. After installing the
> new Mac OS10.10 Yosemite, I am now having a strange problem.
> 
> I'm trying to use movie3d and run similar functions based on this I have
> written myself.
> 
> Specifically, when I run
> 
>> system("convert --version")
> sh: convert: command not found
> 
> yet, it is not a path issue.
>> Sys.getenv("PATH")
> [1]
> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/git/bin:
> */opt/ImageMagick/bin*:/usr/texbin"
> 

It is, because Yosemite ignores PATH for processes started from a GUI application. You will see if you run
system("echo $PATH")

You have to use full paths in Yosemite for anything that is not on the "sanctioned" PATH -- or use R from the shell.

Cheers,
Simon



> This shows clearly that the imagemagick path is listed  (and so isn't the
> same as the problem in this previous discussion:
> http://r.789695.n4.nabble.com/convert-command-not-found-in-movie3d-rgl-package-in-Mac-OS-X-td4320734.html
> )
> 
> Also, in Terminal,
> 
> echo $PATH
> 
> /usr/local/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/git/bin:
> */opt/ImageMagick/bin*:/usr/texbin
> 
> The only way I have been able to get it to work is:
> 
> system("/opt/ImageMagick/bin/convert --version")
> 
> [1] "Version: ImageMagick 6.8.9-8 Q16 x86_64 2014-10-08
> http://www.imagemagick.org"
> 
> [2] "Copyright: Copyright (C) 1999-2014 ImageMagick Studio LLC"
> 
> 
> [3] "Features: DPC OpenCL"
> 
> 
> [4] "Delegates: bzlib fftw jng jpeg lcms lzma png tiff webp xml zlib"
> 
> 
> [5] ""
> 
> 
> However, this workaround does not work for me using movie3d{rgl}
> 
> Any ideas most appreciated
> 
> 
> Emma
> 
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> 
> Emma Sherratt, PhD.
> 
> Lecturer in Zoology,
> Zoology Division, School of Environmental and Rural Science,
> Room L118 Bldg C02,
> University of New England,
> Armidale, NSW, Australia, 2351
> Tel: +61 2 6773 5038
> email: emma.sherratt at une.edu.au
> 
> Caecilians are legless amphibians...
> 
> *                      __
>    (\   .-.   .-.   /_")
>     \\_//^\\_//^\\_//
>      `"`   `"`   `"`*
> 
> learn more about them here: www.emmasherratt.com/caecilians
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From simon.urbanek at r-project.org  Fri Oct 24 07:40:08 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 24 Oct 2014 01:40:08 -0400
Subject: [R-SIG-Mac] sh: convert: command not found
In-Reply-To: <5449DF2E.4070508@yahoo.fr>
References: <CAF1_pPuiMrC=vRS8HtEqOCrSQjJtmk--qdMZPwxJ9x=PpXGf5g@mail.gmail.com>
	<5449DF2E.4070508@yahoo.fr>
Message-ID: <DB6FADF7-A599-41E3-9353-E256E762BC2B@r-project.org>


On Oct 24, 2014, at 1:10 AM, Marc Girondot <marc_grt at yahoo.fr> wrote:

> Look at here:
> http://max2.ese.u-psud.fr/epc/conservation/Girondot/Publications/Blog_r/Entrees/2014/7/6_Using_system()_in_MacOSX.html
> 
> I think it is the solution.
> 

Nope - that only applies for systems before Yosemite (and the former is in the FAQ - no need to quote a random blog ;)).

Cheers,
S


> Sincerely,
> 
> Marc
> 
> Le 24/10/2014 06:22, Emma Sherratt a ?crit :
>> Dear Mac R community,
>> 
>> I wonder if anyone else has come across this issue. After installing the
>> new Mac OS10.10 Yosemite, I am now having a strange problem.
>> 
>> I'm trying to use movie3d and run similar functions based on this I have
>> written myself.
>> 
>> Specifically, when I run
>> 
>>> system("convert --version")
>> sh: convert: command not found
>> 
>> yet, it is not a path issue.
>>> Sys.getenv("PATH")
>> [1]
>> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/git/bin:
>> */opt/ImageMagick/bin*:/usr/texbin"
>> 
>> This shows clearly that the imagemagick path is listed  (and so isn't the
>> same as the problem in this previous discussion:
>> http://r.789695.n4.nabble.com/convert-command-not-found-in-movie3d-rgl-package-in-Mac-OS-X-td4320734.html
>> )
>> 
>> Also, in Terminal,
>> 
>> echo $PATH
>> 
>> /usr/local/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/git/bin:
>> */opt/ImageMagick/bin*:/usr/texbin
>> 
>> The only way I have been able to get it to work is:
>> 
>> system("/opt/ImageMagick/bin/convert --version")
>> 
>> [1] "Version: ImageMagick 6.8.9-8 Q16 x86_64 2014-10-08
>> http://www.imagemagick.org"
>> 
>> [2] "Copyright: Copyright (C) 1999-2014 ImageMagick Studio LLC"
>> 
>> 
>> [3] "Features: DPC OpenCL"
>> 
>> 
>> [4] "Delegates: bzlib fftw jng jpeg lcms lzma png tiff webp xml zlib"
>> 
>> 
>> [5] ""
>> 
>> 
>> However, this workaround does not work for me using movie3d{rgl}
>> 
>> Any ideas most appreciated
>> 
>> 
>> Emma
>> 
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>> 
>> Emma Sherratt, PhD.
>> 
>> Lecturer in Zoology,
>> Zoology Division, School of Environmental and Rural Science,
>> Room L118 Bldg C02,
>> University of New England,
>> Armidale, NSW, Australia, 2351
>> Tel: +61 2 6773 5038
>> email: emma.sherratt at une.edu.au
>> 
>> Caecilians are legless amphibians...
>> 
>> *                      __
>>     (\   .-.   .-.   /_")
>>      \\_//^\\_//^\\_//
>>       `"`   `"`   `"`*
>> 
>> learn more about them here: www.emmasherratt.com/caecilians
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From murdoch.duncan at gmail.com  Fri Oct 24 12:55:23 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Fri, 24 Oct 2014 06:55:23 -0400
Subject: [R-SIG-Mac] sh: convert: command not found
In-Reply-To: <CBBC2C59-D9C6-4DB3-AAF2-D7E1125821BC@r-project.org>
References: <CAF1_pPuiMrC=vRS8HtEqOCrSQjJtmk--qdMZPwxJ9x=PpXGf5g@mail.gmail.com>
	<CBBC2C59-D9C6-4DB3-AAF2-D7E1125821BC@r-project.org>
Message-ID: <544A301B.1000006@gmail.com>

On 24/10/2014, 1:37 AM, Simon Urbanek wrote:
> 
> On Oct 24, 2014, at 12:22 AM, Emma Sherratt <emma.sherratt at gmail.com> wrote:
> 
>> Dear Mac R community,
>>
>> I wonder if anyone else has come across this issue. After installing the
>> new Mac OS10.10 Yosemite, I am now having a strange problem.
>>
>> I'm trying to use movie3d and run similar functions based on this I have
>> written myself.
>>
>> Specifically, when I run
>>
>>> system("convert --version")
>> sh: convert: command not found
>>
>> yet, it is not a path issue.
>>> Sys.getenv("PATH")
>> [1]
>> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/git/bin:
>> */opt/ImageMagick/bin*:/usr/texbin"
>>
> 
> It is, because Yosemite ignores PATH for processes started from a GUI application. You will see if you run
> system("echo $PATH")
> 
> You have to use full paths in Yosemite for anything that is not on the "sanctioned" PATH -- or use R from the shell.

What is the best way to find the full path to a command there, since
Sys.which() sees the same PATH as system() does?

Alternatively, how do you modify the PATH that system() sees?

Duncan Murdoch


From pdalgd at gmail.com  Fri Oct 24 13:36:25 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Fri, 24 Oct 2014 13:36:25 +0200
Subject: [R-SIG-Mac] sh: convert: command not found
In-Reply-To: <544A301B.1000006@gmail.com>
References: <CAF1_pPuiMrC=vRS8HtEqOCrSQjJtmk--qdMZPwxJ9x=PpXGf5g@mail.gmail.com>
	<CBBC2C59-D9C6-4DB3-AAF2-D7E1125821BC@r-project.org>
	<544A301B.1000006@gmail.com>
Message-ID: <C37EE135-85E5-4F67-AF49-3597A6CA8A9E@gmail.com>


On 24 Oct 2014, at 12:55 , Duncan Murdoch <murdoch.duncan at gmail.com> wrote:

> On 24/10/2014, 1:37 AM, Simon Urbanek wrote:
>> 
>> On Oct 24, 2014, at 12:22 AM, Emma Sherratt <emma.sherratt at gmail.com> wrote:
>> 
>>> Dear Mac R community,
>>> 
>>> I wonder if anyone else has come across this issue. After installing the
>>> new Mac OS10.10 Yosemite, I am now having a strange problem.
>>> 
>>> I'm trying to use movie3d and run similar functions based on this I have
>>> written myself.
>>> 
>>> Specifically, when I run
>>> 
>>>> system("convert --version")
>>> sh: convert: command not found
>>> 
>>> yet, it is not a path issue.
>>>> Sys.getenv("PATH")
>>> [1]
>>> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/git/bin:
>>> */opt/ImageMagick/bin*:/usr/texbin"
>>> 
>> 
>> It is, because Yosemite ignores PATH for processes started from a GUI application. You will see if you run
>> system("echo $PATH")
>> 
>> You have to use full paths in Yosemite for anything that is not on the "sanctioned" PATH -- or use R from the shell.
> 
> What is the best way to find the full path to a command there, since
> Sys.which() sees the same PATH as system() does?
> 
> Alternatively, how do you modify the PATH that system() sees?
> 
> Duncan Murdoch
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


Disclaimer: I'm at the office computer right now, still on Mavericks.

In my limited experimentation, I found that you can pass the PATH explicitly as in 

path <- Sys.getenv("PATH")
cmd <- paste("PATH=", path, "; which pdflatex")
system(cmd)

I don't recall needing to export PATH, and there could be complications with the shell flavour (sh, ash, bash, zsh, ...). Also, I think it wants to be two commands with the intervening semicolon, but it might work without it. Anyways, give it a try.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From md at sund.ku.dk  Fri Oct 24 13:40:44 2014
From: md at sund.ku.dk (Matt Denwood)
Date: Fri, 24 Oct 2014 11:40:44 +0000
Subject: [R-SIG-Mac] sh: convert: command not found
In-Reply-To: <C37EE135-85E5-4F67-AF49-3597A6CA8A9E@gmail.com>
References: <CAF1_pPuiMrC=vRS8HtEqOCrSQjJtmk--qdMZPwxJ9x=PpXGf5g@mail.gmail.com>
	<CBBC2C59-D9C6-4DB3-AAF2-D7E1125821BC@r-project.org>
	<544A301B.1000006@gmail.com>
	<C37EE135-85E5-4F67-AF49-3597A6CA8A9E@gmail.com>
Message-ID: <C4697FD8-4A2A-4DC6-A828-DFC31833E54E@sund.ku.dk>

On 24 Oct 2014, at 13:36, peter dalgaard <pdalgd at gmail.com> wrote:

> 
> On 24 Oct 2014, at 12:55 , Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> 
>> On 24/10/2014, 1:37 AM, Simon Urbanek wrote:
>>> 
>>> On Oct 24, 2014, at 12:22 AM, Emma Sherratt <emma.sherratt at gmail.com> wrote:
>>> 
>>>> Dear Mac R community,
>>>> 
>>>> I wonder if anyone else has come across this issue. After installing the
>>>> new Mac OS10.10 Yosemite, I am now having a strange problem.
>>>> 
>>>> I'm trying to use movie3d and run similar functions based on this I have
>>>> written myself.
>>>> 
>>>> Specifically, when I run
>>>> 
>>>>> system("convert --version")
>>>> sh: convert: command not found
>>>> 
>>>> yet, it is not a path issue.
>>>>> Sys.getenv("PATH")
>>>> [1]
>>>> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/git/bin:
>>>> */opt/ImageMagick/bin*:/usr/texbin"
>>>> 
>>> 
>>> It is, because Yosemite ignores PATH for processes started from a GUI application. You will see if you run
>>> system("echo $PATH")
>>> 
>>> You have to use full paths in Yosemite for anything that is not on the "sanctioned" PATH -- or use R from the shell.
>> 
>> What is the best way to find the full path to a command there, since
>> Sys.which() sees the same PATH as system() does?
>> 
>> Alternatively, how do you modify the PATH that system() sees?
>> 
>> Duncan Murdoch
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 
> Disclaimer: I'm at the office computer right now, still on Mavericks.
> 
> In my limited experimentation, I found that you can pass the PATH explicitly as in 
> 
> path <- Sys.getenv("PATH")
> cmd <- paste("PATH=", path, "; which pdflatex")
> system(cmd)
> 
> I don't recall needing to export PATH, and there could be complications with the shell flavour (sh, ash, bash, zsh, ...). Also, I think it wants to be two commands with the intervening semicolon, but it might work without it. Anyways, give it a try.
> 

Just to confirm it works if you use export in the same shell process, i.e.:

system('echo Old path: $PATH; which jags; export PATH="/usr/local/bin:$PATH"; echo New path: $PATH; which jags?)

Not an ideal solution of course, as every call to system() needs to be modified ? but at least it does work (for me at least).

Matt


Matthew Denwood BVMS PhD FHEA MRCVS
Associate Professor in Quantitative Veterinary Epidemiology and Biostatistics
Department of Large Animal Sciences
Section for Animal Welfare and Disease Control
Faculty of Health and Medical Sciences
University of Copenhagen
Gr?nneg?rdsvej 8
1870 Frederiksberg C
Phone:  +45 35 33 23 07
Email:  md at sund.ku.dk


> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Fri Oct 24 15:03:53 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 24 Oct 2014 09:03:53 -0400
Subject: [R-SIG-Mac] sh: convert: command not found
In-Reply-To: <C37EE135-85E5-4F67-AF49-3597A6CA8A9E@gmail.com>
References: <CAF1_pPuiMrC=vRS8HtEqOCrSQjJtmk--qdMZPwxJ9x=PpXGf5g@mail.gmail.com>
	<CBBC2C59-D9C6-4DB3-AAF2-D7E1125821BC@r-project.org>
	<544A301B.1000006@gmail.com>
	<C37EE135-85E5-4F67-AF49-3597A6CA8A9E@gmail.com>
Message-ID: <2A26A881-C784-4257-8CE8-510A5AB23C4C@r-project.org>


> On Oct 24, 2014, at 7:36 AM, peter dalgaard <pdalgd at gmail.com> wrote:
> 
> 
> On 24 Oct 2014, at 12:55 , Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> 
>> On 24/10/2014, 1:37 AM, Simon Urbanek wrote:
>>> 
>>> On Oct 24, 2014, at 12:22 AM, Emma Sherratt <emma.sherratt at gmail.com> wrote:
>>> 
>>>> Dear Mac R community,
>>>> 
>>>> I wonder if anyone else has come across this issue. After installing the
>>>> new Mac OS10.10 Yosemite, I am now having a strange problem.
>>>> 
>>>> I'm trying to use movie3d and run similar functions based on this I have
>>>> written myself.
>>>> 
>>>> Specifically, when I run
>>>> 
>>>>> system("convert --version")
>>>> sh: convert: command not found
>>>> 
>>>> yet, it is not a path issue.
>>>>> Sys.getenv("PATH")
>>>> [1]
>>>> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/git/bin:
>>>> */opt/ImageMagick/bin*:/usr/texbin"
>>>> 
>>> 
>>> It is, because Yosemite ignores PATH for processes started from a GUI application. You will see if you run
>>> system("echo $PATH")
>>> 
>>> You have to use full paths in Yosemite for anything that is not on the "sanctioned" PATH -- or use R from the shell.
>> 
>> What is the best way to find the full path to a command there, since
>> Sys.which() sees the same PATH as system() does?
>> 
>> Alternatively, how do you modify the PATH that system() sees?
>> 

From what I've read you can't from the parent process. You have to set it in the child process once it's created - that's how some people have worked around it.


>> Duncan Murdoch
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 
> Disclaimer: I'm at the office computer right now, still on Mavericks.
> 
> In my limited experimentation, I found that you can pass the PATH explicitly as in 
> 
> path <- Sys.getenv("PATH")
> cmd <- paste("PATH=", path, "; which pdflatex")
> system(cmd)
> 
> I don't recall needing to export PATH, and there could be complications with the shell flavour (sh, ash, bash, zsh, ...). Also, I think it wants to be two commands with the intervening semicolon, but it might work without it. Anyways, give it a try.
> 

I think it's better without so it is inherited implicitly, i.e.
system(paste0("PATH=",shQuote(Sys.getenv("PATH"))," which pdflatex"))

As said above, it has to happen in the child process, that's why this works.

Since this is a security measure, I'm not sure that we want to work around it in R. Moreover, the PATH in LS apps has always been different, so you had to alway exert some effort to make it match - in that sense it's not new, just more complicated ;) However, I can see that it surprises people, so I'm not sure what to do about it.

Cheers,
Simon




> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 


From pdalgd at gmail.com  Fri Oct 24 16:51:26 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Fri, 24 Oct 2014 16:51:26 +0200
Subject: [R-SIG-Mac] sh: convert: command not found
In-Reply-To: <2A26A881-C784-4257-8CE8-510A5AB23C4C@r-project.org>
References: <CAF1_pPuiMrC=vRS8HtEqOCrSQjJtmk--qdMZPwxJ9x=PpXGf5g@mail.gmail.com>
	<CBBC2C59-D9C6-4DB3-AAF2-D7E1125821BC@r-project.org>
	<544A301B.1000006@gmail.com>
	<C37EE135-85E5-4F67-AF49-3597A6CA8A9E@gmail.com>
	<2A26A881-C784-4257-8CE8-510A5AB23C4C@r-project.org>
Message-ID: <B55DB8DC-4DA3-41D1-83B5-5B6DFBB36CA9@gmail.com>


On 24 Oct 2014, at 15:03 , Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> 
> 
> I think it's better without so it is inherited implicitly, i.e.
> system(paste0("PATH=",shQuote(Sys.getenv("PATH"))," which pdflatex"))

OK, if it works, it works. The thing that worried me slightly is that standard unix logic is that 

	FOO=bar baz

sets FOO in the environment of baz, and it was not obvious to me that setting PATH= affects the _shell_ while it is looking for baz. (This might be documented somewhere in POSIX?).

-pd

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From simon.urbanek at r-project.org  Fri Oct 24 16:54:26 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 24 Oct 2014 10:54:26 -0400
Subject: [R-SIG-Mac] sh: convert: command not found
In-Reply-To: <B55DB8DC-4DA3-41D1-83B5-5B6DFBB36CA9@gmail.com>
References: <CAF1_pPuiMrC=vRS8HtEqOCrSQjJtmk--qdMZPwxJ9x=PpXGf5g@mail.gmail.com>
	<CBBC2C59-D9C6-4DB3-AAF2-D7E1125821BC@r-project.org>
	<544A301B.1000006@gmail.com>
	<C37EE135-85E5-4F67-AF49-3597A6CA8A9E@gmail.com>
	<2A26A881-C784-4257-8CE8-510A5AB23C4C@r-project.org>
	<B55DB8DC-4DA3-41D1-83B5-5B6DFBB36CA9@gmail.com>
Message-ID: <F1C7B917-E242-4376-905E-AA96566937CB@r-project.org>


> On Oct 24, 2014, at 10:51 AM, peter dalgaard <pdalgd at gmail.com> wrote:
> 
> 
> On 24 Oct 2014, at 15:03 , Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>> 
>> 
>> I think it's better without so it is inherited implicitly, i.e.
>> system(paste0("PATH=",shQuote(Sys.getenv("PATH"))," which pdflatex"))
> 
> OK, if it works, it works. The thing that worried me slightly is that standard unix logic is that 
> 
> 	FOO=bar baz
> 
> sets FOO in the environment of baz, and it was not obvious to me that setting PATH= affects the _shell_ while it is looking for baz. (This might be documented somewhere in POSIX?).
> 

Aye - my bad. It works for which because that's where PATH is interpreted, but if you replaced it with PATH=... pdflatex if wouldn't find pdflatex.

Thanks,
S



> -pd
> 
> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 


From dwinsemius at comcast.net  Fri Oct 24 19:12:18 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 24 Oct 2014 10:12:18 -0700
Subject: [R-SIG-Mac] (no subject)
Message-ID: <B0FEE979-DF05-4616-9EE2-C446AEFD74B5@comcast.net>

The Java section of the Admin Guide currently reads:

"Check if a JRE is installed by running java -version in a Terminal window: if Java is not installed this should prompt you to install it.

However, you may want/need to install the latest Java from Oracle (currently Java 7 fromhttp://www.oracle.com/technetwork/java/javase/downloads/index.html); this is for Lion and later."


When I upgraded to Yosemite (from Snow Leopard), I installed the Jave SE development kit from:

http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html

I was informed that Java 7 in Yosemite is not supported and that Java 8 is required. From Terminal session I run:

$ java -version

### I get:

java version "1.8.0_25"
Java(TM) SE Runtime Environment (build 1.8.0_25-b17)
Java HotSpot(TM) 64-Bit Server VM (build 25.25-b02, mixed mode)

### And when I run:
$ /usr/libexec/java_home -V -a x86_64

### Iget

Matching Java Virtual Machines (1):
    1.8.0_25, x86_64:	"Java SE 8"	/Library/Java/JavaVirtualMachines/jdk1.8.0_25.jdk/Contents/Home

/Library/Java/JavaVirtualMachines/jdk1.8.0_25.jdk/Contents/Home

### I then ran:

R CMD javareconf

### and after some compiler messages I eventually see:
?omitting several lines
Java home path   : /Library/Java/JavaVirtualMachines/jdk1.8.0_25.jdk/Contents/Home/jre
?. omitting several more, then...
Updating Java configuration in /Library/Frameworks/R.framework/Resources
Done.

I hope this means I?m "good to go? and that I do not need make further efforts at setting environment variables.

-

David Winsemius, MD
Alameda, CA, USA


From eric.archer at noaa.gov  Fri Oct 24 23:54:51 2014
From: eric.archer at noaa.gov (Eric Archer - NOAA Federal)
Date: Fri, 24 Oct 2014 14:54:51 -0700
Subject: [R-SIG-Mac] "command not found" from system() call in GUI with
	proper PATH
Message-ID: <CAGrYeXi-qiLmEGiv++b27qY5NqmtFMcNyS8c36UvAMSNPJTDXA@mail.gmail.com>

<Apologies for the cross-posting, but I couldn't tell if this was a general
R issue, or Mac-specific>

When running a system file from within R, I have just started to get a
"command not found" error although my PATH seems to be properly set and I
can run the same system file from the terminal. The program I am trying to
run is 'fastsimcoal' and is in /usr/local/bin. I confirm this in the
terminal with

SWC-EARCHER-ML-3:~ eric.archer$ which fastsimcoal
/usr/local/bin/fastsimcoal

In the examples below, Sys.getenv("PATH") shows that /usr/local/bin is in
the PATH. I get the same error for any program in /usr/local/bin. However,
programs in other folders in the path seem to run through system()
properly.

Also, note that the return from Sys.getenv("PATH") is the same for running
in R-Studio vs. R in the terminal, but is truncated in the R GUI. As far as
I can tell I do not have a .Rprofile file in my default working directory,
R_HOME, or R_HOME/etc.

A final piece of information: I have just upgraded to OSX Yosemite v10.10.
This was not happening at some point prior to the upgrade, but it has been
a while since I tried this particular command, so I do not know if it was
working immediately prior to the OS upgrade.

Any help or insight is greatly appreciated.

Cheers,
eric

The examples:

>From within R-Studio v0.98.1079:

> sessionInfo()
R version 3.1.1 (2014-07-10)
Platform: x86_64-apple-darwin13.1.0 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_3.1.1
> getwd()
[1] "/Users/eric.archer"
> Sys.getenv("PATH")
[1]
"/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/git/bin:/usr/texbin"
> system("fastsimcoal")
sh: fastsimcoal: command not found


The same script in the R console through the GUI gives:

> sessionInfo()
R version 3.1.1 (2014-07-10)
Platform: x86_64-apple-darwin13.1.0 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base
> getwd()
[1] "/Users/eric.archer"
> Sys.getenv("PATH")
[1] "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"
> system("fastsimcoal")
>
/bin/sh: fastsimcoal: command not found


Running it through R in a  terminal window, it runs (output of
'fastsimcoal' truncated):

> sessionInfo()
R version 3.1.1 (2014-07-10)
Platform: x86_64-apple-darwin13.1.0 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base
> getwd()
[1] "/Users/eric.archer"
> Sys.getenv("PATH")
[1]
"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/git/bin:/usr/texbin"
> system("fastsimcoal")


fastSimcoal2 (ver 2.1 December 2013)

Usage:

 -h  --help              : prints this help
 -i  --ifile test.par    : name of parameter file
...

----

*Eric Archer, Ph.D.*
Southwest Fisheries Science Center
NMFS, NOAA
8901 La Jolla Shores Drive
La Jolla, CA 92037 USA
858-546-7121 (work)
858-546-7003 (FAX)

Marine Mammal Genetics Group: swfsc.noaa.gov/mmtd-mmgenetics
ETP Cetacean Assessment Program: swfsc.noaa.gov/mmtd-etp

"


*The universe doesn't care what you believe. The wonderful thing about
science is that it   doesn't ask for your faith, it just asks   for your
eyes.*"  - Randall Munroe

"*Lighthouses are more helpful than churches.*"
   - Benjamin Franklin

   "*...but I'll take a GPS over either one.*"
       - John C. "Craig" George

	[[alternative HTML version deleted]]


From emma.sherratt at gmail.com  Sat Oct 25 00:04:44 2014
From: emma.sherratt at gmail.com (Emma Sherratt)
Date: Sat, 25 Oct 2014 09:04:44 +1100
Subject: [R-SIG-Mac] "command not found" from system() call in GUI with
 proper PATH
In-Reply-To: <CAGrYeXi-qiLmEGiv++b27qY5NqmtFMcNyS8c36UvAMSNPJTDXA@mail.gmail.com>
References: <CAGrYeXi-qiLmEGiv++b27qY5NqmtFMcNyS8c36UvAMSNPJTDXA@mail.gmail.com>
Message-ID: <CAF1_pPss_HwvAQoL43wcf06c9b4rVKvTjO_2OBihzQSK0+L8-g@mail.gmail.com>

I had the same problem and Simon Urbanek replied to me with the following:

It is, because Yosemite ignores PATH for processes started from a GUI
application. You will see if you run
system("echo $PATH")

You have to use full paths in Yosemite for anything that is not on the
"sanctioned" PATH -- or use R from the shell.

On Saturday, October 25, 2014, Eric Archer - NOAA Federal <
eric.archer at noaa.gov> wrote:

> <Apologies for the cross-posting, but I couldn't tell if this was a general
> R issue, or Mac-specific>
>
> When running a system file from within R, I have just started to get a
> "command not found" error although my PATH seems to be properly set and I
> can run the same system file from the terminal. The program I am trying to
> run is 'fastsimcoal' and is in /usr/local/bin. I confirm this in the
> terminal with
>
> SWC-EARCHER-ML-3:~ eric.archer$ which fastsimcoal
> /usr/local/bin/fastsimcoal
>
> In the examples below, Sys.getenv("PATH") shows that /usr/local/bin is in
> the PATH. I get the same error for any program in /usr/local/bin. However,
> programs in other folders in the path seem to run through system()
> properly.
>
> Also, note that the return from Sys.getenv("PATH") is the same for running
> in R-Studio vs. R in the terminal, but is truncated in the R GUI. As far as
> I can tell I do not have a .Rprofile file in my default working directory,
> R_HOME, or R_HOME/etc.
>
> A final piece of information: I have just upgraded to OSX Yosemite v10.10.
> This was not happening at some point prior to the upgrade, but it has been
> a while since I tried this particular command, so I do not know if it was
> working immediately prior to the OS upgrade.
>
> Any help or insight is greatly appreciated.
>
> Cheers,
> eric
>
> The examples:
>
> >From within R-Studio v0.98.1079:
>
> > sessionInfo()
> R version 3.1.1 (2014-07-10)
> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_3.1.1
> > getwd()
> [1] "/Users/eric.archer"
> > Sys.getenv("PATH")
> [1]
>
> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/git/bin:/usr/texbin"
> > system("fastsimcoal")
> sh: fastsimcoal: command not found
>
>
> The same script in the R console through the GUI gives:
>
> > sessionInfo()
> R version 3.1.1 (2014-07-10)
> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> > getwd()
> [1] "/Users/eric.archer"
> > Sys.getenv("PATH")
> [1] "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"
> > system("fastsimcoal")
> >
> /bin/sh: fastsimcoal: command not found
>
>
> Running it through R in a  terminal window, it runs (output of
> 'fastsimcoal' truncated):
>
> > sessionInfo()
> R version 3.1.1 (2014-07-10)
> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> > getwd()
> [1] "/Users/eric.archer"
> > Sys.getenv("PATH")
> [1]
>
> "/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/git/bin:/usr/texbin"
> > system("fastsimcoal")
>
>
> fastSimcoal2 (ver 2.1 December 2013)
>
> Usage:
>
>  -h  --help              : prints this help
>  -i  --ifile test.par    : name of parameter file
> ...
>
> ----
>
> *Eric Archer, Ph.D.*
> Southwest Fisheries Science Center
> NMFS, NOAA
> 8901 La Jolla Shores Drive
> La Jolla, CA 92037 USA
> 858-546-7121 (work)
> 858-546-7003 (FAX)
>
> Marine Mammal Genetics Group: swfsc.noaa.gov/mmtd-mmgenetics
> ETP Cetacean Assessment Program: swfsc.noaa.gov/mmtd-etp
>
> "
>
>
> *The universe doesn't care what you believe. The wonderful thing about
> science is that it   doesn't ask for your faith, it just asks   for your
> eyes.*"  - Randall Munroe
>
> "*Lighthouses are more helpful than churches.*"
>    - Benjamin Franklin
>
>    "*...but I'll take a GPS over either one.*"
>        - John C. "Craig" George
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org <javascript:;>
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Emma Sherratt, PhD.

Lecturer in Zoology,
Zoology Division, School of Environmental and Rural Science,
Room L118 Bldg C02,
University of New England,
Armidale, NSW, Australia, 2351
Tel: +61 2 6773 5038
email: emma.sherratt at une.edu.au

Caecilians are legless amphibians...

*                      __
    (\   .-.   .-.   /_")
     \\_//^\\_//^\\_//
      `"`   `"`   `"`*

learn more about them here: www.emmasherratt.com/caecilians

	[[alternative HTML version deleted]]


From roy.mendelssohn at noaa.gov  Sat Oct 25 00:11:05 2014
From: roy.mendelssohn at noaa.gov (Roy Mendelssohn - NOAA Federal)
Date: Fri, 24 Oct 2014 15:11:05 -0700
Subject: [R-SIG-Mac] "command not found" from system() call in GUI with
	proper PATH
In-Reply-To: <CAF1_pPss_HwvAQoL43wcf06c9b4rVKvTjO_2OBihzQSK0+L8-g@mail.gmail.com>
References: <CAGrYeXi-qiLmEGiv++b27qY5NqmtFMcNyS8c36UvAMSNPJTDXA@mail.gmail.com>
	<CAF1_pPss_HwvAQoL43wcf06c9b4rVKvTjO_2OBihzQSK0+L8-g@mail.gmail.com>
Message-ID: <25F3A720-DDEF-4AF1-9CDB-3BEC3EA70A51@noaa.gov>

For other applications it has been found that if you launch the GUI application from the terminal using the open -a command, that then the path does get sent down,

I haven't tried it for R, but it does work for things like TeX.

-Roy

On Oct 24, 2014, at 3:04 PM, Emma Sherratt <emma.sherratt at gmail.com> wrote:

> I had the same problem and Simon Urbanek replied to me with the following:
> 
> It is, because Yosemite ignores PATH for processes started from a GUI
> application. You will see if you run
> system("echo $PATH")
> 
> You have to use full paths in Yosemite for anything that is not on the
> "sanctioned" PATH -- or use R from the shell.
> 
> On Saturday, October 25, 2014, Eric Archer - NOAA Federal <
> eric.archer at noaa.gov> wrote:
> 
>> <Apologies for the cross-posting, but I couldn't tell if this was a general
>> R issue, or Mac-specific>
>> 
>> When running a system file from within R, I have just started to get a
>> "command not found" error although my PATH seems to be properly set and I
>> can run the same system file from the terminal. The program I am trying to
>> run is 'fastsimcoal' and is in /usr/local/bin. I confirm this in the
>> terminal with
>> 
>> SWC-EARCHER-ML-3:~ eric.archer$ which fastsimcoal
>> /usr/local/bin/fastsimcoal
>> 
>> In the examples below, Sys.getenv("PATH") shows that /usr/local/bin is in
>> the PATH. I get the same error for any program in /usr/local/bin. However,
>> programs in other folders in the path seem to run through system()
>> properly.
>> 
>> Also, note that the return from Sys.getenv("PATH") is the same for running
>> in R-Studio vs. R in the terminal, but is truncated in the R GUI. As far as
>> I can tell I do not have a .Rprofile file in my default working directory,
>> R_HOME, or R_HOME/etc.
>> 
>> A final piece of information: I have just upgraded to OSX Yosemite v10.10.
>> This was not happening at some point prior to the upgrade, but it has been
>> a while since I tried this particular command, so I do not know if it was
>> working immediately prior to the OS upgrade.
>> 
>> Any help or insight is greatly appreciated.
>> 
>> Cheers,
>> eric
>> 
>> The examples:
>> 
>>> From within R-Studio v0.98.1079:
>> 
>>> sessionInfo()
>> R version 3.1.1 (2014-07-10)
>> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>> 
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>> 
>> loaded via a namespace (and not attached):
>> [1] tools_3.1.1
>>> getwd()
>> [1] "/Users/eric.archer"
>>> Sys.getenv("PATH")
>> [1]
>> 
>> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/git/bin:/usr/texbin"
>>> system("fastsimcoal")
>> sh: fastsimcoal: command not found
>> 
>> 
>> The same script in the R console through the GUI gives:
>> 
>>> sessionInfo()
>> R version 3.1.1 (2014-07-10)
>> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>> 
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> getwd()
>> [1] "/Users/eric.archer"
>>> Sys.getenv("PATH")
>> [1] "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"
>>> system("fastsimcoal")
>>> 
>> /bin/sh: fastsimcoal: command not found
>> 
>> 
>> Running it through R in a  terminal window, it runs (output of
>> 'fastsimcoal' truncated):
>> 
>>> sessionInfo()
>> R version 3.1.1 (2014-07-10)
>> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>> 
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> getwd()
>> [1] "/Users/eric.archer"
>>> Sys.getenv("PATH")
>> [1]
>> 
>> "/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/git/bin:/usr/texbin"
>>> system("fastsimcoal")
>> 
>> 
>> fastSimcoal2 (ver 2.1 December 2013)
>> 
>> Usage:
>> 
>> -h  --help              : prints this help
>> -i  --ifile test.par    : name of parameter file
>> ...
>> 
>> ----
>> 
>> *Eric Archer, Ph.D.*
>> Southwest Fisheries Science Center
>> NMFS, NOAA
>> 8901 La Jolla Shores Drive
>> La Jolla, CA 92037 USA
>> 858-546-7121 (work)
>> 858-546-7003 (FAX)
>> 
>> Marine Mammal Genetics Group: swfsc.noaa.gov/mmtd-mmgenetics
>> ETP Cetacean Assessment Program: swfsc.noaa.gov/mmtd-etp
>> 
>> "
>> 
>> 
>> *The universe doesn't care what you believe. The wonderful thing about
>> science is that it   doesn't ask for your faith, it just asks   for your
>> eyes.*"  - Randall Munroe
>> 
>> "*Lighthouses are more helpful than churches.*"
>>   - Benjamin Franklin
>> 
>>   "*...but I'll take a GPS over either one.*"
>>       - John C. "Craig" George
>> 
>>        [[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org <javascript:;>
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 
> -- 
> 
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> 
> Emma Sherratt, PhD.
> 
> Lecturer in Zoology,
> Zoology Division, School of Environmental and Rural Science,
> Room L118 Bldg C02,
> University of New England,
> Armidale, NSW, Australia, 2351
> Tel: +61 2 6773 5038
> email: emma.sherratt at une.edu.au
> 
> Caecilians are legless amphibians...
> 
> *                      __
>    (\   .-.   .-.   /_")
>     \\_//^\\_//^\\_//
>      `"`   `"`   `"`*
> 
> learn more about them here: www.emmasherratt.com/caecilians
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new address and phone***
110 Shaffer Road
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From pdalgd at gmail.com  Sat Oct 25 01:46:08 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Sat, 25 Oct 2014 01:46:08 +0200
Subject: [R-SIG-Mac] "command not found" from system() call in GUI with
	proper PATH
In-Reply-To: <25F3A720-DDEF-4AF1-9CDB-3BEC3EA70A51@noaa.gov>
References: <CAGrYeXi-qiLmEGiv++b27qY5NqmtFMcNyS8c36UvAMSNPJTDXA@mail.gmail.com>
	<CAF1_pPss_HwvAQoL43wcf06c9b4rVKvTjO_2OBihzQSK0+L8-g@mail.gmail.com>
	<25F3A720-DDEF-4AF1-9CDB-3BEC3EA70A51@noaa.gov>
Message-ID: <E42CFBE7-A39F-4AAE-A917-283B01C086FF@gmail.com>


> On 25 Oct 2014, at 00:11 , Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
> 
> For other applications it has been found that if you launch the GUI application from the terminal using the open -a command, that then the path does get sent down,
> 
> I haven't tried it for R, but it does work for things like TeX.

For RStudio, I see (after open -a RStudio)

> system("echo $PATH")
/opt/local/bin:/opt/local/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin
> Sys.getenv("PATH")
[1] "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/texbin:/opt/local/bin"

which actually points to two different TeX versions on this computer. The version without /usr/texbin matches the PATH of the terminal. So Rstudio tried to make changes and failed (as it happens, it would have chosen TeX 2009 over TeX 2013, so I'm not complaining.)

-pd

> 
> -Roy
> 
> On Oct 24, 2014, at 3:04 PM, Emma Sherratt <emma.sherratt at gmail.com> wrote:
> 
>> I had the same problem and Simon Urbanek replied to me with the following:
>> 
>> It is, because Yosemite ignores PATH for processes started from a GUI
>> application. You will see if you run
>> system("echo $PATH")
>> 
>> You have to use full paths in Yosemite for anything that is not on the
>> "sanctioned" PATH -- or use R from the shell.
>> 
>> On Saturday, October 25, 2014, Eric Archer - NOAA Federal <
>> eric.archer at noaa.gov> wrote:
>> 
>>> <Apologies for the cross-posting, but I couldn't tell if this was a general
>>> R issue, or Mac-specific>
>>> 
>>> When running a system file from within R, I have just started to get a
>>> "command not found" error although my PATH seems to be properly set and I
>>> can run the same system file from the terminal. The program I am trying to
>>> run is 'fastsimcoal' and is in /usr/local/bin. I confirm this in the
>>> terminal with
>>> 
>>> SWC-EARCHER-ML-3:~ eric.archer$ which fastsimcoal
>>> /usr/local/bin/fastsimcoal
>>> 
>>> In the examples below, Sys.getenv("PATH") shows that /usr/local/bin is in
>>> the PATH. I get the same error for any program in /usr/local/bin. However,
>>> programs in other folders in the path seem to run through system()
>>> properly.
>>> 
>>> Also, note that the return from Sys.getenv("PATH") is the same for running
>>> in R-Studio vs. R in the terminal, but is truncated in the R GUI. As far as
>>> I can tell I do not have a .Rprofile file in my default working directory,
>>> R_HOME, or R_HOME/etc.
>>> 
>>> A final piece of information: I have just upgraded to OSX Yosemite v10.10.
>>> This was not happening at some point prior to the upgrade, but it has been
>>> a while since I tried this particular command, so I do not know if it was
>>> working immediately prior to the OS upgrade.
>>> 
>>> Any help or insight is greatly appreciated.
>>> 
>>> Cheers,
>>> eric
>>> 
>>> The examples:
>>> 
>>>> From within R-Studio v0.98.1079:
>>> 
>>>> sessionInfo()
>>> R version 3.1.1 (2014-07-10)
>>> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>>> 
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> 
>>> loaded via a namespace (and not attached):
>>> [1] tools_3.1.1
>>>> getwd()
>>> [1] "/Users/eric.archer"
>>>> Sys.getenv("PATH")
>>> [1]
>>> 
>>> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/git/bin:/usr/texbin"
>>>> system("fastsimcoal")
>>> sh: fastsimcoal: command not found
>>> 
>>> 
>>> The same script in the R console through the GUI gives:
>>> 
>>>> sessionInfo()
>>> R version 3.1.1 (2014-07-10)
>>> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>>> 
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>> getwd()
>>> [1] "/Users/eric.archer"
>>>> Sys.getenv("PATH")
>>> [1] "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"
>>>> system("fastsimcoal")
>>>> 
>>> /bin/sh: fastsimcoal: command not found
>>> 
>>> 
>>> Running it through R in a  terminal window, it runs (output of
>>> 'fastsimcoal' truncated):
>>> 
>>>> sessionInfo()
>>> R version 3.1.1 (2014-07-10)
>>> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>>> 
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>> getwd()
>>> [1] "/Users/eric.archer"
>>>> Sys.getenv("PATH")
>>> [1]
>>> 
>>> "/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/git/bin:/usr/texbin"
>>>> system("fastsimcoal")
>>> 
>>> 
>>> fastSimcoal2 (ver 2.1 December 2013)
>>> 
>>> Usage:
>>> 
>>> -h  --help              : prints this help
>>> -i  --ifile test.par    : name of parameter file
>>> ...
>>> 
>>> ----
>>> 
>>> *Eric Archer, Ph.D.*
>>> Southwest Fisheries Science Center
>>> NMFS, NOAA
>>> 8901 La Jolla Shores Drive
>>> La Jolla, CA 92037 USA
>>> 858-546-7121 (work)
>>> 858-546-7003 (FAX)
>>> 
>>> Marine Mammal Genetics Group: swfsc.noaa.gov/mmtd-mmgenetics
>>> ETP Cetacean Assessment Program: swfsc.noaa.gov/mmtd-etp
>>> 
>>> "
>>> 
>>> 
>>> *The universe doesn't care what you believe. The wonderful thing about
>>> science is that it   doesn't ask for your faith, it just asks   for your
>>> eyes.*"  - Randall Munroe
>>> 
>>> "*Lighthouses are more helpful than churches.*"
>>>  - Benjamin Franklin
>>> 
>>>  "*...but I'll take a GPS over either one.*"
>>>      - John C. "Craig" George
>>> 
>>>       [[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org <javascript:;>
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> 
>> -- 
>> 
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>> 
>> Emma Sherratt, PhD.
>> 
>> Lecturer in Zoology,
>> Zoology Division, School of Environmental and Rural Science,
>> Room L118 Bldg C02,
>> University of New England,
>> Armidale, NSW, Australia, 2351
>> Tel: +61 2 6773 5038
>> email: emma.sherratt at une.edu.au
>> 
>> Caecilians are legless amphibians...
>> 
>> *                      __
>>   (\   .-.   .-.   /_")
>>    \\_//^\\_//^\\_//
>>     `"`   `"`   `"`*
>> 
>> learn more about them here: www.emmasherratt.com/caecilians
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> **********************
> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
> **********************
> Roy Mendelssohn
> Supervisory Operations Research Analyst
> NOAA/NMFS
> Environmental Research Division
> Southwest Fisheries Science Center
> ***Note new address and phone***
> 110 Shaffer Road
> Santa Cruz, CA 95060
> Phone: (831)-420-3666
> Fax: (831) 420-3980
> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
> 
> "Old age and treachery will overcome youth and skill."
> "From those who have been given much, much will be expected" 
> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From kevinushey at gmail.com  Sat Oct 25 02:12:22 2014
From: kevinushey at gmail.com (Kevin Ushey)
Date: Fri, 24 Oct 2014 17:12:22 -0700
Subject: [R-SIG-Mac] "command not found" from system() call in GUI with
 proper PATH
In-Reply-To: <E42CFBE7-A39F-4AAE-A917-283B01C086FF@gmail.com>
References: <CAGrYeXi-qiLmEGiv++b27qY5NqmtFMcNyS8c36UvAMSNPJTDXA@mail.gmail.com>
	<CAF1_pPss_HwvAQoL43wcf06c9b4rVKvTjO_2OBihzQSK0+L8-g@mail.gmail.com>
	<25F3A720-DDEF-4AF1-9CDB-3BEC3EA70A51@noaa.gov>
	<E42CFBE7-A39F-4AAE-A917-283B01C086FF@gmail.com>
Message-ID: <CAJXgQP3kYT53E3e8GWgVtcS4DoFTTxWvFCc=39n7Z3BCk7_Vbg@mail.gmail.com>

And more bizarrely, if I launch RStudio from the terminal, there are
_two_ PATH variables set:

> Sys.getenv()[names(Sys.getenv()) == "PATH"]
                                                                   PATH
"/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/texbin"
                                                                   PATH
"/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/texbin"

I am curious if the same behaviour is seen in R.app when launched from
the terminal (AFAIK, RStudio does not try to munge the PATH or
anything else on startup)

Kevin

On Fri, Oct 24, 2014 at 4:46 PM, peter dalgaard <pdalgd at gmail.com> wrote:
>
>> On 25 Oct 2014, at 00:11 , Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>
>> For other applications it has been found that if you launch the GUI application from the terminal using the open -a command, that then the path does get sent down,
>>
>> I haven't tried it for R, but it does work for things like TeX.
>
> For RStudio, I see (after open -a RStudio)
>
>> system("echo $PATH")
> /opt/local/bin:/opt/local/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin
>> Sys.getenv("PATH")
> [1] "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/texbin:/opt/local/bin"
>
> which actually points to two different TeX versions on this computer. The version without /usr/texbin matches the PATH of the terminal. So Rstudio tried to make changes and failed (as it happens, it would have chosen TeX 2009 over TeX 2013, so I'm not complaining.)
>
> -pd
>
>>
>> -Roy
>>
>> On Oct 24, 2014, at 3:04 PM, Emma Sherratt <emma.sherratt at gmail.com> wrote:
>>
>>> I had the same problem and Simon Urbanek replied to me with the following:
>>>
>>> It is, because Yosemite ignores PATH for processes started from a GUI
>>> application. You will see if you run
>>> system("echo $PATH")
>>>
>>> You have to use full paths in Yosemite for anything that is not on the
>>> "sanctioned" PATH -- or use R from the shell.
>>>
>>> On Saturday, October 25, 2014, Eric Archer - NOAA Federal <
>>> eric.archer at noaa.gov> wrote:
>>>
>>>> <Apologies for the cross-posting, but I couldn't tell if this was a general
>>>> R issue, or Mac-specific>
>>>>
>>>> When running a system file from within R, I have just started to get a
>>>> "command not found" error although my PATH seems to be properly set and I
>>>> can run the same system file from the terminal. The program I am trying to
>>>> run is 'fastsimcoal' and is in /usr/local/bin. I confirm this in the
>>>> terminal with
>>>>
>>>> SWC-EARCHER-ML-3:~ eric.archer$ which fastsimcoal
>>>> /usr/local/bin/fastsimcoal
>>>>
>>>> In the examples below, Sys.getenv("PATH") shows that /usr/local/bin is in
>>>> the PATH. I get the same error for any program in /usr/local/bin. However,
>>>> programs in other folders in the path seem to run through system()
>>>> properly.
>>>>
>>>> Also, note that the return from Sys.getenv("PATH") is the same for running
>>>> in R-Studio vs. R in the terminal, but is truncated in the R GUI. As far as
>>>> I can tell I do not have a .Rprofile file in my default working directory,
>>>> R_HOME, or R_HOME/etc.
>>>>
>>>> A final piece of information: I have just upgraded to OSX Yosemite v10.10.
>>>> This was not happening at some point prior to the upgrade, but it has been
>>>> a while since I tried this particular command, so I do not know if it was
>>>> working immediately prior to the OS upgrade.
>>>>
>>>> Any help or insight is greatly appreciated.
>>>>
>>>> Cheers,
>>>> eric
>>>>
>>>> The examples:
>>>>
>>>>> From within R-Studio v0.98.1079:
>>>>
>>>>> sessionInfo()
>>>> R version 3.1.1 (2014-07-10)
>>>> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>>>>
>>>> locale:
>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>
>>>> loaded via a namespace (and not attached):
>>>> [1] tools_3.1.1
>>>>> getwd()
>>>> [1] "/Users/eric.archer"
>>>>> Sys.getenv("PATH")
>>>> [1]
>>>>
>>>> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/git/bin:/usr/texbin"
>>>>> system("fastsimcoal")
>>>> sh: fastsimcoal: command not found
>>>>
>>>>
>>>> The same script in the R console through the GUI gives:
>>>>
>>>>> sessionInfo()
>>>> R version 3.1.1 (2014-07-10)
>>>> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>>>>
>>>> locale:
>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>> getwd()
>>>> [1] "/Users/eric.archer"
>>>>> Sys.getenv("PATH")
>>>> [1] "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"
>>>>> system("fastsimcoal")
>>>>>
>>>> /bin/sh: fastsimcoal: command not found
>>>>
>>>>
>>>> Running it through R in a  terminal window, it runs (output of
>>>> 'fastsimcoal' truncated):
>>>>
>>>>> sessionInfo()
>>>> R version 3.1.1 (2014-07-10)
>>>> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>>>>
>>>> locale:
>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>> getwd()
>>>> [1] "/Users/eric.archer"
>>>>> Sys.getenv("PATH")
>>>> [1]
>>>>
>>>> "/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/git/bin:/usr/texbin"
>>>>> system("fastsimcoal")
>>>>
>>>>
>>>> fastSimcoal2 (ver 2.1 December 2013)
>>>>
>>>> Usage:
>>>>
>>>> -h  --help              : prints this help
>>>> -i  --ifile test.par    : name of parameter file
>>>> ...
>>>>
>>>> ----
>>>>
>>>> *Eric Archer, Ph.D.*
>>>> Southwest Fisheries Science Center
>>>> NMFS, NOAA
>>>> 8901 La Jolla Shores Drive
>>>> La Jolla, CA 92037 USA
>>>> 858-546-7121 (work)
>>>> 858-546-7003 (FAX)
>>>>
>>>> Marine Mammal Genetics Group: swfsc.noaa.gov/mmtd-mmgenetics
>>>> ETP Cetacean Assessment Program: swfsc.noaa.gov/mmtd-etp
>>>>
>>>> "
>>>>
>>>>
>>>> *The universe doesn't care what you believe. The wonderful thing about
>>>> science is that it   doesn't ask for your faith, it just asks   for your
>>>> eyes.*"  - Randall Munroe
>>>>
>>>> "*Lighthouses are more helpful than churches.*"
>>>>  - Benjamin Franklin
>>>>
>>>>  "*...but I'll take a GPS over either one.*"
>>>>      - John C. "Craig" George
>>>>
>>>>       [[alternative HTML version deleted]]
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org <javascript:;>
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>>
>>> --
>>>
>>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>>>
>>> Emma Sherratt, PhD.
>>>
>>> Lecturer in Zoology,
>>> Zoology Division, School of Environmental and Rural Science,
>>> Room L118 Bldg C02,
>>> University of New England,
>>> Armidale, NSW, Australia, 2351
>>> Tel: +61 2 6773 5038
>>> email: emma.sherratt at une.edu.au
>>>
>>> Caecilians are legless amphibians...
>>>
>>> *                      __
>>>   (\   .-.   .-.   /_")
>>>    \\_//^\\_//^\\_//
>>>     `"`   `"`   `"`*
>>>
>>> learn more about them here: www.emmasherratt.com/caecilians
>>>
>>>      [[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> **********************
>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>> **********************
>> Roy Mendelssohn
>> Supervisory Operations Research Analyst
>> NOAA/NMFS
>> Environmental Research Division
>> Southwest Fisheries Science Center
>> ***Note new address and phone***
>> 110 Shaffer Road
>> Santa Cruz, CA 95060
>> Phone: (831)-420-3666
>> Fax: (831) 420-3980
>> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>>
>> "Old age and treachery will overcome youth and skill."
>> "From those who have been given much, much will be expected"
>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> --
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From murdoch.duncan at gmail.com  Sat Oct 25 12:01:46 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Sat, 25 Oct 2014 06:01:46 -0400
Subject: [R-SIG-Mac] sh: convert: command not found
In-Reply-To: <2A26A881-C784-4257-8CE8-510A5AB23C4C@r-project.org>
References: <CAF1_pPuiMrC=vRS8HtEqOCrSQjJtmk--qdMZPwxJ9x=PpXGf5g@mail.gmail.com>
	<CBBC2C59-D9C6-4DB3-AAF2-D7E1125821BC@r-project.org>
	<544A301B.1000006@gmail.com>
	<C37EE135-85E5-4F67-AF49-3597A6CA8A9E@gmail.com>
	<2A26A881-C784-4257-8CE8-510A5AB23C4C@r-project.org>
Message-ID: <544B750A.8080504@gmail.com>

On 24/10/2014, 9:03 AM, Simon Urbanek wrote:
> 
>> On Oct 24, 2014, at 7:36 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>>
>>
>> On 24 Oct 2014, at 12:55 , Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>>
>>> On 24/10/2014, 1:37 AM, Simon Urbanek wrote:
>>>>
>>>> On Oct 24, 2014, at 12:22 AM, Emma Sherratt <emma.sherratt at gmail.com> wrote:
>>>>
>>>>> Dear Mac R community,
>>>>>
>>>>> I wonder if anyone else has come across this issue. After installing the
>>>>> new Mac OS10.10 Yosemite, I am now having a strange problem.
>>>>>
>>>>> I'm trying to use movie3d and run similar functions based on this I have
>>>>> written myself.
>>>>>
>>>>> Specifically, when I run
>>>>>
>>>>>> system("convert --version")
>>>>> sh: convert: command not found
>>>>>
>>>>> yet, it is not a path issue.
>>>>>> Sys.getenv("PATH")
>>>>> [1]
>>>>> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/git/bin:
>>>>> */opt/ImageMagick/bin*:/usr/texbin"
>>>>>
>>>>
>>>> It is, because Yosemite ignores PATH for processes started from a GUI application. You will see if you run
>>>> system("echo $PATH")
>>>>
>>>> You have to use full paths in Yosemite for anything that is not on the "sanctioned" PATH -- or use R from the shell.
>>>
>>> What is the best way to find the full path to a command there, since
>>> Sys.which() sees the same PATH as system() does?
>>>
>>> Alternatively, how do you modify the PATH that system() sees?
>>>
> 
> From what I've read you can't from the parent process. You have to set it in the child process once it's created - that's how some people have worked around it.

What about doing it from outside the process?  How would I (running as
superuser) change the path that GUI apps see, so that they can all see
ImageMagick's convert, for example?

Duncan Murdoch

> 
> 
>>> Duncan Murdoch
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>> Disclaimer: I'm at the office computer right now, still on Mavericks.
>>
>> In my limited experimentation, I found that you can pass the PATH explicitly as in 
>>
>> path <- Sys.getenv("PATH")
>> cmd <- paste("PATH=", path, "; which pdflatex")
>> system(cmd)
>>
>> I don't recall needing to export PATH, and there could be complications with the shell flavour (sh, ash, bash, zsh, ...). Also, I think it wants to be two commands with the intervening semicolon, but it might work without it. Anyways, give it a try.
>>
> 
> I think it's better without so it is inherited implicitly, i.e.
> system(paste0("PATH=",shQuote(Sys.getenv("PATH"))," which pdflatex"))
> 
> As said above, it has to happen in the child process, that's why this works.
> 
> Since this is a security measure, I'm not sure that we want to work around it in R. Moreover, the PATH in LS apps has always been different, so you had to alway exert some effort to make it match - in that sense it's not new, just more complicated ;) However, I can see that it surprises people, so I'm not sure what to do about it.
> 
> Cheers,
> Simon
> 
> 
> 
> 
>> -- 
>> Peter Dalgaard, Professor,
>> Center for Statistics, Copenhagen Business School
>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>> Phone: (+45)38153501
>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>>
>>
>>
>>
>>
>>
>>
>>
>


From kevinushey at gmail.com  Sat Oct 25 20:25:28 2014
From: kevinushey at gmail.com (Kevin Ushey)
Date: Sat, 25 Oct 2014 11:25:28 -0700
Subject: [R-SIG-Mac] sh: convert: command not found
In-Reply-To: <544B750A.8080504@gmail.com>
References: <CAF1_pPuiMrC=vRS8HtEqOCrSQjJtmk--qdMZPwxJ9x=PpXGf5g@mail.gmail.com>
	<CBBC2C59-D9C6-4DB3-AAF2-D7E1125821BC@r-project.org>
	<544A301B.1000006@gmail.com>
	<C37EE135-85E5-4F67-AF49-3597A6CA8A9E@gmail.com>
	<2A26A881-C784-4257-8CE8-510A5AB23C4C@r-project.org>
	<544B750A.8080504@gmail.com>
Message-ID: <CAJXgQP3fbrTn4Z8sK7h=Twv8UUc+9Sip0nJTkpgGj+nHc20dGw@mail.gmail.com>

I've noticed that the PATH is actually duplicated in e.g. R.app (when
launched from the dock).

    > env <- Sys.getenv()
    > as.list(env[names(env) == "PATH"])
    $PATH
    [1] "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"

    $PATH
    [1] "/usr/bin:/bin:/usr/sbin:/sbin"

It is the second of these that `system` sees:

    > system("echo $PATH")
    /usr/bin:/bin:/usr/sbin:/sbin

but if we explicitly unset and reset the PATH, we get the (expected?) PATH back:

    > Sys.unsetenv("PATH")
    > Sys.setenv(PATH = "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin")
    > system("echo $PATH")
    /usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin

There are a number of other environment variables that are duplicated
as well, e.g.

    > names(env[duplicated(names(env))])
    [1] "Apple_PubSub_Socket_Render" "DISPLAY"
"HOME"
    [4] "LOGNAME"                    "PATH"
"SHELL"
    [7] "SSH_AUTH_SOCK"              "TMPDIR"                     "USER"

No idea if this is expected or meaningful, but I thought I would post
this for posterity.

Cheers,
Kevin

On Sat, Oct 25, 2014 at 3:01 AM, Duncan Murdoch
<murdoch.duncan at gmail.com> wrote:
> On 24/10/2014, 9:03 AM, Simon Urbanek wrote:
>>
>>> On Oct 24, 2014, at 7:36 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>>>
>>>
>>> On 24 Oct 2014, at 12:55 , Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>>>
>>>> On 24/10/2014, 1:37 AM, Simon Urbanek wrote:
>>>>>
>>>>> On Oct 24, 2014, at 12:22 AM, Emma Sherratt <emma.sherratt at gmail.com> wrote:
>>>>>
>>>>>> Dear Mac R community,
>>>>>>
>>>>>> I wonder if anyone else has come across this issue. After installing the
>>>>>> new Mac OS10.10 Yosemite, I am now having a strange problem.
>>>>>>
>>>>>> I'm trying to use movie3d and run similar functions based on this I have
>>>>>> written myself.
>>>>>>
>>>>>> Specifically, when I run
>>>>>>
>>>>>>> system("convert --version")
>>>>>> sh: convert: command not found
>>>>>>
>>>>>> yet, it is not a path issue.
>>>>>>> Sys.getenv("PATH")
>>>>>> [1]
>>>>>> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/git/bin:
>>>>>> */opt/ImageMagick/bin*:/usr/texbin"
>>>>>>
>>>>>
>>>>> It is, because Yosemite ignores PATH for processes started from a GUI application. You will see if you run
>>>>> system("echo $PATH")
>>>>>
>>>>> You have to use full paths in Yosemite for anything that is not on the "sanctioned" PATH -- or use R from the shell.
>>>>
>>>> What is the best way to find the full path to a command there, since
>>>> Sys.which() sees the same PATH as system() does?
>>>>
>>>> Alternatively, how do you modify the PATH that system() sees?
>>>>
>>
>> From what I've read you can't from the parent process. You have to set it in the child process once it's created - that's how some people have worked around it.
>
> What about doing it from outside the process?  How would I (running as
> superuser) change the path that GUI apps see, so that they can all see
> ImageMagick's convert, for example?
>
> Duncan Murdoch
>
>>
>>
>>>> Duncan Murdoch
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>> Disclaimer: I'm at the office computer right now, still on Mavericks.
>>>
>>> In my limited experimentation, I found that you can pass the PATH explicitly as in
>>>
>>> path <- Sys.getenv("PATH")
>>> cmd <- paste("PATH=", path, "; which pdflatex")
>>> system(cmd)
>>>
>>> I don't recall needing to export PATH, and there could be complications with the shell flavour (sh, ash, bash, zsh, ...). Also, I think it wants to be two commands with the intervening semicolon, but it might work without it. Anyways, give it a try.
>>>
>>
>> I think it's better without so it is inherited implicitly, i.e.
>> system(paste0("PATH=",shQuote(Sys.getenv("PATH"))," which pdflatex"))
>>
>> As said above, it has to happen in the child process, that's why this works.
>>
>> Since this is a security measure, I'm not sure that we want to work around it in R. Moreover, the PATH in LS apps has always been different, so you had to alway exert some effort to make it match - in that sense it's not new, just more complicated ;) However, I can see that it surprises people, so I'm not sure what to do about it.
>>
>> Cheers,
>> Simon
>>
>>
>>
>>
>>> --
>>> Peter Dalgaard, Professor,
>>> Center for Statistics, Copenhagen Business School
>>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>>> Phone: (+45)38153501
>>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From eric.archer at noaa.gov  Sat Oct 25 23:27:19 2014
From: eric.archer at noaa.gov (Eric Archer - NOAA Federal)
Date: Sat, 25 Oct 2014 14:27:19 -0700
Subject: [R-SIG-Mac] "command not found" from system() call in GUI with
 proper PATH
In-Reply-To: <CAJXgQP3kYT53E3e8GWgVtcS4DoFTTxWvFCc=39n7Z3BCk7_Vbg@mail.gmail.com>
References: <CAGrYeXi-qiLmEGiv++b27qY5NqmtFMcNyS8c36UvAMSNPJTDXA@mail.gmail.com>
	<CAF1_pPss_HwvAQoL43wcf06c9b4rVKvTjO_2OBihzQSK0+L8-g@mail.gmail.com>
	<25F3A720-DDEF-4AF1-9CDB-3BEC3EA70A51@noaa.gov>
	<E42CFBE7-A39F-4AAE-A917-283B01C086FF@gmail.com>
	<CAJXgQP3kYT53E3e8GWgVtcS4DoFTTxWvFCc=39n7Z3BCk7_Vbg@mail.gmail.com>
Message-ID: <CAGrYeXghj4nryU2Q7Zt1KFd8FBrR2cHRoF7xKfFcuQr+D1G-=w@mail.gmail.com>

Thanks all for the responses. Running Rstudio from the command line does
seem to work, but is clearly not the ideal solution. Nor is modifying the
path to executable as I have these system calls embedded within a package
which assumes that the user has the executables installed somewhere in
their path. I suppose I could add a reference to a path environmental
variable or function argument that gets pasted in when the system call is
made, but that is also less than ideal. Crossing fingers that a fix is
released.

Cheers,
eric


----

*Eric Archer, Ph.D.*
Southwest Fisheries Science Center
NMFS, NOAA
8901 La Jolla Shores Drive
La Jolla, CA 92037 USA
858-546-7121 (work)
858-546-7003 (FAX)

Marine Mammal Genetics Group: swfsc.noaa.gov/mmtd-mmgenetics
ETP Cetacean Assessment Program: swfsc.noaa.gov/mmtd-etp

"


*The universe doesn't care what you believe. The wonderful thing about
science is that it   doesn't ask for your faith, it just asks   for your
eyes.*"  - Randall Munroe

"*Lighthouses are more helpful than churches.*"
   - Benjamin Franklin

   "*...but I'll take a GPS over either one.*"
       - John C. "Craig" George

On Fri, Oct 24, 2014 at 5:12 PM, Kevin Ushey <kevinushey at gmail.com> wrote:

> And more bizarrely, if I launch RStudio from the terminal, there are
> _two_ PATH variables set:
>
> > Sys.getenv()[names(Sys.getenv()) == "PATH"]
>                                                                    PATH
> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/texbin"
>                                                                    PATH
> "/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/texbin"
>
> I am curious if the same behaviour is seen in R.app when launched from
> the terminal (AFAIK, RStudio does not try to munge the PATH or
> anything else on startup)
>
> Kevin
>
> On Fri, Oct 24, 2014 at 4:46 PM, peter dalgaard <pdalgd at gmail.com> wrote:
> >
> >> On 25 Oct 2014, at 00:11 , Roy Mendelssohn - NOAA Federal <
> roy.mendelssohn at noaa.gov> wrote:
> >>
> >> For other applications it has been found that if you launch the GUI
> application from the terminal using the open -a command, that then the path
> does get sent down,
> >>
> >> I haven't tried it for R, but it does work for things like TeX.
> >
> > For RStudio, I see (after open -a RStudio)
> >
> >> system("echo $PATH")
> >
> /opt/local/bin:/opt/local/sbin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin
> >> Sys.getenv("PATH")
> > [1]
> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/texbin:/opt/local/bin"
> >
> > which actually points to two different TeX versions on this computer.
> The version without /usr/texbin matches the PATH of the terminal. So
> Rstudio tried to make changes and failed (as it happens, it would have
> chosen TeX 2009 over TeX 2013, so I'm not complaining.)
> >
> > -pd
> >
> >>
> >> -Roy
> >>
> >> On Oct 24, 2014, at 3:04 PM, Emma Sherratt <emma.sherratt at gmail.com>
> wrote:
> >>
> >>> I had the same problem and Simon Urbanek replied to me with the
> following:
> >>>
> >>> It is, because Yosemite ignores PATH for processes started from a GUI
> >>> application. You will see if you run
> >>> system("echo $PATH")
> >>>
> >>> You have to use full paths in Yosemite for anything that is not on the
> >>> "sanctioned" PATH -- or use R from the shell.
> >>>
> >>> On Saturday, October 25, 2014, Eric Archer - NOAA Federal <
> >>> eric.archer at noaa.gov> wrote:
> >>>
> >>>> <Apologies for the cross-posting, but I couldn't tell if this was a
> general
> >>>> R issue, or Mac-specific>
> >>>>
> >>>> When running a system file from within R, I have just started to get a
> >>>> "command not found" error although my PATH seems to be properly set
> and I
> >>>> can run the same system file from the terminal. The program I am
> trying to
> >>>> run is 'fastsimcoal' and is in /usr/local/bin. I confirm this in the
> >>>> terminal with
> >>>>
> >>>> SWC-EARCHER-ML-3:~ eric.archer$ which fastsimcoal
> >>>> /usr/local/bin/fastsimcoal
> >>>>
> >>>> In the examples below, Sys.getenv("PATH") shows that /usr/local/bin
> is in
> >>>> the PATH. I get the same error for any program in /usr/local/bin.
> However,
> >>>> programs in other folders in the path seem to run through system()
> >>>> properly.
> >>>>
> >>>> Also, note that the return from Sys.getenv("PATH") is the same for
> running
> >>>> in R-Studio vs. R in the terminal, but is truncated in the R GUI. As
> far as
> >>>> I can tell I do not have a .Rprofile file in my default working
> directory,
> >>>> R_HOME, or R_HOME/etc.
> >>>>
> >>>> A final piece of information: I have just upgraded to OSX Yosemite
> v10.10.
> >>>> This was not happening at some point prior to the upgrade, but it has
> been
> >>>> a while since I tried this particular command, so I do not know if it
> was
> >>>> working immediately prior to the OS upgrade.
> >>>>
> >>>> Any help or insight is greatly appreciated.
> >>>>
> >>>> Cheers,
> >>>> eric
> >>>>
> >>>> The examples:
> >>>>
> >>>>> From within R-Studio v0.98.1079:
> >>>>
> >>>>> sessionInfo()
> >>>> R version 3.1.1 (2014-07-10)
> >>>> Platform: x86_64-apple-darwin13.1.0 (64-bit)
> >>>>
> >>>> locale:
> >>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >>>>
> >>>> attached base packages:
> >>>> [1] stats     graphics  grDevices utils     datasets  methods   base
> >>>>
> >>>> loaded via a namespace (and not attached):
> >>>> [1] tools_3.1.1
> >>>>> getwd()
> >>>> [1] "/Users/eric.archer"
> >>>>> Sys.getenv("PATH")
> >>>> [1]
> >>>>
> >>>>
> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/git/bin:/usr/texbin"
> >>>>> system("fastsimcoal")
> >>>> sh: fastsimcoal: command not found
> >>>>
> >>>>
> >>>> The same script in the R console through the GUI gives:
> >>>>
> >>>>> sessionInfo()
> >>>> R version 3.1.1 (2014-07-10)
> >>>> Platform: x86_64-apple-darwin13.1.0 (64-bit)
> >>>>
> >>>> locale:
> >>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >>>>
> >>>> attached base packages:
> >>>> [1] stats     graphics  grDevices utils     datasets  methods   base
> >>>>> getwd()
> >>>> [1] "/Users/eric.archer"
> >>>>> Sys.getenv("PATH")
> >>>> [1] "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"
> >>>>> system("fastsimcoal")
> >>>>>
> >>>> /bin/sh: fastsimcoal: command not found
> >>>>
> >>>>
> >>>> Running it through R in a  terminal window, it runs (output of
> >>>> 'fastsimcoal' truncated):
> >>>>
> >>>>> sessionInfo()
> >>>> R version 3.1.1 (2014-07-10)
> >>>> Platform: x86_64-apple-darwin13.1.0 (64-bit)
> >>>>
> >>>> locale:
> >>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >>>>
> >>>> attached base packages:
> >>>> [1] stats     graphics  grDevices utils     datasets  methods   base
> >>>>> getwd()
> >>>> [1] "/Users/eric.archer"
> >>>>> Sys.getenv("PATH")
> >>>> [1]
> >>>>
> >>>>
> "/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/git/bin:/usr/texbin"
> >>>>> system("fastsimcoal")
> >>>>
> >>>>
> >>>> fastSimcoal2 (ver 2.1 December 2013)
> >>>>
> >>>> Usage:
> >>>>
> >>>> -h  --help              : prints this help
> >>>> -i  --ifile test.par    : name of parameter file
> >>>> ...
> >>>>
> >>>> ----
> >>>>
> >>>> *Eric Archer, Ph.D.*
> >>>> Southwest Fisheries Science Center
> >>>> NMFS, NOAA
> >>>> 8901 La Jolla Shores Drive
> >>>> La Jolla, CA 92037 USA
> >>>> 858-546-7121 (work)
> >>>> 858-546-7003 (FAX)
> >>>>
> >>>> Marine Mammal Genetics Group: swfsc.noaa.gov/mmtd-mmgenetics
> >>>> ETP Cetacean Assessment Program: swfsc.noaa.gov/mmtd-etp
> >>>>
> >>>> "
> >>>>
> >>>>
> >>>> *The universe doesn't care what you believe. The wonderful thing about
> >>>> science is that it   doesn't ask for your faith, it just asks   for
> your
> >>>> eyes.*"  - Randall Munroe
> >>>>
> >>>> "*Lighthouses are more helpful than churches.*"
> >>>>  - Benjamin Franklin
> >>>>
> >>>>  "*...but I'll take a GPS over either one.*"
> >>>>      - John C. "Craig" George
> >>>>
> >>>>       [[alternative HTML version deleted]]
> >>>>
> >>>> _______________________________________________
> >>>> R-SIG-Mac mailing list
> >>>> R-SIG-Mac at r-project.org <javascript:;>
> >>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>>>
> >>>
> >>>
> >>> --
> >>>
> >>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> >>>
> >>> Emma Sherratt, PhD.
> >>>
> >>> Lecturer in Zoology,
> >>> Zoology Division, School of Environmental and Rural Science,
> >>> Room L118 Bldg C02,
> >>> University of New England,
> >>> Armidale, NSW, Australia, 2351
> >>> Tel: +61 2 6773 5038
> >>> email: emma.sherratt at une.edu.au
> >>>
> >>> Caecilians are legless amphibians...
> >>>
> >>> *                      __
> >>>   (\   .-.   .-.   /_")
> >>>    \\_//^\\_//^\\_//
> >>>     `"`   `"`   `"`*
> >>>
> >>> learn more about them here: www.emmasherratt.com/caecilians
> >>>
> >>>      [[alternative HTML version deleted]]
> >>>
> >>> _______________________________________________
> >>> R-SIG-Mac mailing list
> >>> R-SIG-Mac at r-project.org
> >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>
> >> **********************
> >> "The contents of this message do not reflect any position of the U.S.
> Government or NOAA."
> >> **********************
> >> Roy Mendelssohn
> >> Supervisory Operations Research Analyst
> >> NOAA/NMFS
> >> Environmental Research Division
> >> Southwest Fisheries Science Center
> >> ***Note new address and phone***
> >> 110 Shaffer Road
> >> Santa Cruz, CA 95060
> >> Phone: (831)-420-3666
> >> Fax: (831) 420-3980
> >> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
> >>
> >> "Old age and treachery will overcome youth and skill."
> >> "From those who have been given much, much will be expected"
> >> "the arc of the moral universe is long, but it bends toward justice"
> -MLK Jr.
> >>
> >> _______________________________________________
> >> R-SIG-Mac mailing list
> >> R-SIG-Mac at r-project.org
> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
> > --
> > Peter Dalgaard, Professor,
> > Center for Statistics, Copenhagen Business School
> > Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> > Phone: (+45)38153501
> > Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From dwinsemius at comcast.net  Tue Oct 28 02:55:03 2014
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 27 Oct 2014 18:55:03 -0700
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <006901cfeef5$4be08fc0$e3a1af40$@mcmaster.ca>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>	<CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>	<DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>	<CABdHhvEoojsjLkiwvzq1d8zTfA0nG2sAfTmDS1KZUs=Es1kmvQ@mail.gmail.com>	<CABdHhvEG4mPqA3AYME-kkkhS5jGkFT2ABkq_99pMjW=0fLZMkQ@mail.gmail.com>	<etPan.54468cc5.7c3dbd3d.e585@macpro-3.local>	<002601cfed6c$5ddc6710$19953530$@mcmaster.ca>	<E068556C-45BD-4307-84FD-53F7E0CA527C@r-project.org>	<005201cfeeed$48e0b6e0$daa224a0$@mcmaster.ca>	<1414088281954.15959@csuohio.edu>
	<CAJXgQP2BTT-E=TaiAnqeTN-m=VFS0Ud6Ephy=pVJtv4xt9auPw@mail.gmail.com>
	<006901cfeef5$4be08fc0$e3a1af40$@mcmaster.ca>
Message-ID: <C22394EA-F98C-4EC3-BC43-4E1CC4E8C1E8@comcast.net>


On Oct 23, 2014, at 12:12 PM, John Fox wrote:

> Hi Kevin,
> 
> Thank you for this.
> 
> As I said, I hadn't gotten around to checking into the problem -- not even looking whether someone else had reported it. I expect that the RStudio folks will address the issue, and it's probably best discussed on their website. 
> 
> I don't think that the first solution on StackOverflow is appropriate for checking packages using the RStudio Build tab, since a command like system2("pdflatex", "--help", env=paste0("PATH=", Sys.getenv("PATH"))) (adapting the suggestion on StackOverflow) simply invokes pdflatex from the current session, and doesn't modify the path for the package check. The second solution, opening RStudio from a terminal, does work but is of course awkward.

Here's an alternate discussion and It left me wondering if R.App needed the same workaround that RStudio was proposing.

http://tex.stackexchange.com/questions/208181/why-did-my-tex-related-gui-program-stop-working-in-mac-os-x-yosemite

Best;
David
> 
> Best,
> John
> 
>> -----Original Message-----
>> From: Kevin Ushey [mailto:kevinushey at gmail.com]
>> Sent: Thursday, October 23, 2014 2:23 PM
>> To: Benjamin Y Clark
>> Cc: John Fox; Simon Urbanek; r-sig-mac; Spencer Mass
>> Subject: Re: [R-SIG-Mac] Yosemite and R
>> 
>> Hi John,
>> 
>> Regarding your issue in RStudio and pdflatex -- this is a general
>> problem with any applications not launched from the terminal;
>> presumedly it would be seen in R.app as well when not launched from
>> the terminal (this is related to the forward-PATH-to-subprocesses
>> problem discussed earlier)
>> 
>> There is a prescription available on StackOverflow:
>> http://stackoverflow.com/questions/26491934/running-system-command-
>> from-r-console-cannot-locate-installed-programs-since-upg
>> 
>> Cheers,
>> Kevin
>> 
>> On Thu, Oct 23, 2014 at 11:18 AM, Benjamin Y Clark
>> <b.y.clark at csuohio.edu> wrote:
>>> Update on my issue: Upon reinstalling Xquartz, as suggested, all of
>> my previous issues went away.
>>> -Ben
>>> 
>>> --
>>> Benjamin Y. Clark, PhD
>>> Assistant Professor of Public Administration (Levin College) &
>>> Assistant Professor of Public Health (CEOMPH)
>>> Cleveland State University
>>> 
>>> Executive Committee Member
>>> Association for Budgeting and Financial Management (ABFM)
>>> 
>>> b.y.clark[at]csuohio.edu
>>> bit.ly/BenClark
>>> 
>>> 
>>> ________________________________________
>>> From: John Fox <jfox at mcmaster.ca>
>>> Sent: Thursday, October 23, 2014 2:15 PM
>>> To: 'Simon Urbanek'
>>> Cc: 'Amos B. Elberg'; 'r-sig-mac'; 'Spencer Mass'; Benjamin Y Clark;
>> 'peter dalgaard'; 'Marc Schwartz'; 'David Winsemius'; 'Hadley Wickham'
>>> Subject: RE: [R-SIG-Mac] Yosemite and R
>>> 
>>> Dear Simon,
>>> 
>>> I installed Yosemite a couple of days ago and everything seems to
>> work fine so far, including the tcltk demo that caused problems for
>> Peter, and the Rcmdr package, which gives Tcl/Tk a pretty good workout.
>> I first reinstalled XQuartz, as suggested, and I also reinstalled R and
>> updated all packages, though the latter two steps probably weren't
>> necessary. I figured that it would help to hear positive experiences as
>> well as problems.
>>> 
>>> The only issue that I've encountered so far is specific to checking
>> packages under RStudio, which doesn't appear to find pdflatex; OTOH, R
>> CMD check runs fine in a terminal window. I haven't yet tried to
>> resolve this problem.
>>> 
>>> Best,
>>> John
>>> 
>>>> -----Original Message-----
>>>> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
>>>> Sent: Tuesday, October 21, 2014 4:38 PM
>>>> To: John Fox
>>>> Cc: Amos B. Elberg; r-sig-mac; Spencer Mass; Ben Clark; peter
>> dalgaard;
>>>> Marc Schwartz; David Winsemius; Hadley Wickham
>>>> Subject: Re: [R-SIG-Mac] Yosemite and R
>>>> 
>>>> I wasn't able to reproduce but I suspect those are all red herrings
>> -
>>>> there are really no subprocesses involved at all in either case.
>>>> 
>>>> On Oct 21, 2014, at 4:19 PM, John Fox <jfox at mcmaster.ca> wrote:
>>>>> 
>>>>> Dear all,
>>>>> 
>>>>> I wonder whether this issue also accounts for the tcltk problems
>> that
>>>> have been reported. (I haven't yet upgraded to Yosemite myself,
>> hoping
>>>> to wait for the wrinkles to be ironed out, though I'll likely do so
>>>> shortly if only to see what happens.)
>>>>> 
>>>>> Best,
>>>>> John
>>>>> 
>>>>>> -----Original Message-----
>>>>>> From: r-sig-mac-bounces at r-project.org [mailto:r-sig-mac-
>> bounces at r-
>>>>>> project.org] On Behalf Of Amos B. Elberg
>>>>>> Sent: Tuesday, October 21, 2014 12:40 PM
>>>>>> To: David Winsemius; Hadley Wickham
>>>>>> Cc: r-sig-mac; Spencer Mass
>>>>>> Subject: Re: [R-SIG-Mac] Yosemite and R
>>>>>> 
>>>>>> If the full environment isn?t getting passed to R-spawned sub-
>>>>>> processes, that might explain an error I?ve been having since the
>>>>>> update:  when R is launched from the command line, calls that
>> should
>>>>>> create an X11 window in the background fail unless an X11 window
>> has
>>>>>> already been created with the width and height specified:
>>>>>> 
>>>>>>> plot(rnorm(100))
>>>>>> Error in .External2(C_X11, d$display, d$width, d$height,
>>>>>> d$pointsize,  :
>>>>>> invalid 'width' or 'height'
>>>>>>> X11()
>>>>>> Error in .External2(C_X11, d$display, d$width, d$height,
>>>>>> d$pointsize,  :
>>>>>> invalid 'width' or 'height'
>>>>>>> X11(width = 5, height = 5)
>>>>>>> plot(rnorm(100))
>>>>>> [now it  works - and any number of additional windows can be
>> spawned
>>>>>> without repeating the error]
>>>>>> [quitting R and reopening, without quitting XQuartz, and I get
>> the
>>>> same
>>>>>> error calling plot() before X11(width = , height = )
>>>>>> 
>>>>>> This does not happen in RStudio.  I don?t use the R.app gui; I
>>>> opened
>>>>>> it just now to test and I got a slew of path-related errors, but
>>>>>> they?re as likely to have to do with my not-maintained R.app as
>> with
>>>>>> anything else.
>>>>>> 
>>>>>> I had not reported this already because I wasn?t confident
>> whether
>>>> its
>>>>>> a yosemite issue, an R-patched issue, or just something odd in
>> the
>>>> way
>>>>>> I built R.
>>>>>> 
>>>>>> If incomplete-environment-passing is the new normal, is this not
>>>> going
>>>>>> to be a common issue for packages that spawn sub-processes?
>>>>>> 
>>>>>> 
>>>>>> From: Hadley Wickham <h.wickham at gmail.com>
>>>>>> Reply: Hadley Wickham <h.wickham at gmail.com>>
>>>>>> Date: October 21, 2014 at 10:12:13 AM
>>>>>> To: David Winsemius <dwinsemius at comcast.net>>
>>>>>> Cc: r-sig-mac <r-sig-mac at r-project.org>>, Spencer Mass
>>>>>> <masss at newpaltz.edu>>
>>>>>> Subject:  Re: [R-SIG-Mac] Yosemite and R
>>>>>> 
>>>>>>> No, it is not. It is expected that the path in the terminal be
>>>>>>> different to the path in R, it is _not_ expected that the path
>> in R
>>>>>> be
>>>>>>> different to the path in a subprocess started by R.
>>>>>>> 
>>>>>>> (Well it is now expected, because this appears to be a new
>> security
>>>>>>> feature in Yosemite)
>>>>>> 
>>>>>> The best thread I could find on the problem is here:
>>>>>> https://code.google.com/p/mactlmgr/issues/detail?id=102
>>>>>> 
>>>>>> --
>>>>>> http://had.co.nz/
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>>>   [[alternative HTML version deleted]]
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From rmh at temple.edu  Tue Oct 28 05:03:52 2014
From: rmh at temple.edu (Richard M. Heiberger)
Date: Tue, 28 Oct 2014 00:03:52 -0400
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <005201cfeeed$48e0b6e0$daa224a0$@mcmaster.ca>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
	<CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>
	<DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>
	<CABdHhvEoojsjLkiwvzq1d8zTfA0nG2sAfTmDS1KZUs=Es1kmvQ@mail.gmail.com>
	<CABdHhvEG4mPqA3AYME-kkkhS5jGkFT2ABkq_99pMjW=0fLZMkQ@mail.gmail.com>
	<etPan.54468cc5.7c3dbd3d.e585@macpro-3.local>
	<002601cfed6c$5ddc6710$19953530$@mcmaster.ca>
	<E068556C-45BD-4307-84FD-53F7E0CA527C@r-project.org>
	<005201cfeeed$48e0b6e0$daa224a0$@mcmaster.ca>
Message-ID: <CAGx1TMCSejjGT+AYJwAb-CiAs_-+6vMe56FOsWk=zc2A_k1J+w@mail.gmail.com>

I just did a workshop for new R users.  the only serious installation problem I
saw was Macintosh users and tctlk.  From this discussion, I knew to tell both
people they needed to download quartz.macosforge.org
and indeed that solved it.

Is there a place on the package DESCRIPTION file to state that dependency,
thus triggering the download and installation of quartz?  That would
take the responsibility for discovering this need away from the end user?

Rich


On Thu, Oct 23, 2014 at 2:15 PM, John Fox <jfox at mcmaster.ca> wrote:
> Dear Simon,
>
> I installed Yosemite a couple of days ago and everything seems to work fine so far, including the tcltk demo that caused problems for Peter, and the Rcmdr package, which gives Tcl/Tk a pretty good workout. I first reinstalled XQuartz, as suggested, and I also reinstalled R and updated all packages, though the latter two steps probably weren't necessary. I figured that it would help to hear positive experiences as well as problems.
>
> The only issue that I've encountered so far is specific to checking packages under RStudio, which doesn't appear to find pdflatex; OTOH, R CMD check runs fine in a terminal window. I haven't yet tried to resolve this problem.
>
> Best,
>  John
>
>> -----Original Message-----
>> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
>> Sent: Tuesday, October 21, 2014 4:38 PM
>> To: John Fox
>> Cc: Amos B. Elberg; r-sig-mac; Spencer Mass; Ben Clark; peter dalgaard;
>> Marc Schwartz; David Winsemius; Hadley Wickham
>> Subject: Re: [R-SIG-Mac] Yosemite and R
>>
>> I wasn't able to reproduce but I suspect those are all red herrings -
>> there are really no subprocesses involved at all in either case.
>>
>> On Oct 21, 2014, at 4:19 PM, John Fox <jfox at mcmaster.ca> wrote:
>> >
>> > Dear all,
>> >
>> > I wonder whether this issue also accounts for the tcltk problems that
>> have been reported. (I haven't yet upgraded to Yosemite myself, hoping
>> to wait for the wrinkles to be ironed out, though I'll likely do so
>> shortly if only to see what happens.)
>> >
>> > Best,
>> > John
>> >
>> >> -----Original Message-----
>> >> From: r-sig-mac-bounces at r-project.org [mailto:r-sig-mac-bounces at r-
>> >> project.org] On Behalf Of Amos B. Elberg
>> >> Sent: Tuesday, October 21, 2014 12:40 PM
>> >> To: David Winsemius; Hadley Wickham
>> >> Cc: r-sig-mac; Spencer Mass
>> >> Subject: Re: [R-SIG-Mac] Yosemite and R
>> >>
>> >> If the full environment isn?t getting passed to R-spawned sub-
>> >> processes, that might explain an error I?ve been having since the
>> >> update:  when R is launched from the command line, calls that should
>> >> create an X11 window in the background fail unless an X11 window has
>> >> already been created with the width and height specified:
>> >>
>> >>> plot(rnorm(100))
>> >> Error in .External2(C_X11, d$display, d$width, d$height,
>> >> d$pointsize,  :
>> >>  invalid 'width' or 'height'
>> >>> X11()
>> >> Error in .External2(C_X11, d$display, d$width, d$height,
>> >> d$pointsize,  :
>> >>  invalid 'width' or 'height'
>> >>> X11(width = 5, height = 5)
>> >>> plot(rnorm(100))
>> >> [now it  works - and any number of additional windows can be spawned
>> >> without repeating the error]
>> >> [quitting R and reopening, without quitting XQuartz, and I get the
>> same
>> >> error calling plot() before X11(width = , height = )
>> >>
>> >> This does not happen in RStudio.  I don?t use the R.app gui; I
>> opened
>> >> it just now to test and I got a slew of path-related errors, but
>> >> they?re as likely to have to do with my not-maintained R.app as with
>> >> anything else.
>> >>
>> >> I had not reported this already because I wasn?t confident whether
>> its
>> >> a yosemite issue, an R-patched issue, or just something odd in the
>> way
>> >> I built R.
>> >>
>> >> If incomplete-environment-passing is the new normal, is this not
>> going
>> >> to be a common issue for packages that spawn sub-processes?
>> >>
>> >>
>> >> From: Hadley Wickham <h.wickham at gmail.com>
>> >> Reply: Hadley Wickham <h.wickham at gmail.com>>
>> >> Date: October 21, 2014 at 10:12:13 AM
>> >> To: David Winsemius <dwinsemius at comcast.net>>
>> >> Cc: r-sig-mac <r-sig-mac at r-project.org>>, Spencer Mass
>> >> <masss at newpaltz.edu>>
>> >> Subject:  Re: [R-SIG-Mac] Yosemite and R
>> >>
>> >>> No, it is not. It is expected that the path in the terminal be
>> >>> different to the path in R, it is _not_ expected that the path in R
>> >> be
>> >>> different to the path in a subprocess started by R.
>> >>>
>> >>> (Well it is now expected, because this appears to be a new security
>> >>> feature in Yosemite)
>> >>
>> >> The best thread I could find on the problem is here:
>> >> https://code.google.com/p/mactlmgr/issues/detail?id=102
>> >>
>> >> --
>> >> http://had.co.nz/
>> >>
>> >> _______________________________________________
>> >> R-SIG-Mac mailing list
>> >> R-SIG-Mac at r-project.org
>> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> >>
>> >>    [[alternative HTML version deleted]]
>> >>
>> >> _______________________________________________
>> >> R-SIG-Mac mailing list
>> >> R-SIG-Mac at r-project.org
>> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> >
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From john.maindonald at anu.edu.au  Tue Oct 28 05:21:07 2014
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Tue, 28 Oct 2014 04:21:07 +0000
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <CAGx1TMCSejjGT+AYJwAb-CiAs_-+6vMe56FOsWk=zc2A_k1J+w@mail.gmail.com>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
	<CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>
	<DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>
	<CABdHhvEoojsjLkiwvzq1d8zTfA0nG2sAfTmDS1KZUs=Es1kmvQ@mail.gmail.com>
	<CABdHhvEG4mPqA3AYME-kkkhS5jGkFT2ABkq_99pMjW=0fLZMkQ@mail.gmail.com>
	<etPan.54468cc5.7c3dbd3d.e585@macpro-3.local>
	<002601cfed6c$5ddc6710$19953530$@mcmaster.ca>
	<E068556C-45BD-4307-84FD-53F7E0CA527C@r-project.org>
	<005201cfeeed$48e0b6e0$daa224a0$@mcmaster.ca>
	<CAGx1TMCSejjGT+AYJwAb-CiAs_-+6vMe56FOsWk=zc2A_k1J+w@mail.gmail.com>
Message-ID: <AF57CC15-6F8A-4E10-B119-271118F15625@anu.edu.au>

http://xquartz.macosforge.org/ ?

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.


On 28 Oct 2014, at 15:03, Richard M. Heiberger <rmh at temple.edu> wrote:

> I just did a workshop for new R users.  the only serious installation problem I
> saw was Macintosh users and tctlk.  From this discussion, I knew to tell both
> people they needed to download quartz.macosforge.org
> and indeed that solved it.
> 
> Is there a place on the package DESCRIPTION file to state that dependency,
> thus triggering the download and installation of quartz?  That would
> take the responsibility for discovering this need away from the end user?
> 
> Rich
> 
> 
> On Thu, Oct 23, 2014 at 2:15 PM, John Fox <jfox at mcmaster.ca> wrote:
>> Dear Simon,
>> 
>> I installed Yosemite a couple of days ago and everything seems to work fine so far, including the tcltk demo that caused problems for Peter, and the Rcmdr package, which gives Tcl/Tk a pretty good workout. I first reinstalled XQuartz, as suggested, and I also reinstalled R and updated all packages, though the latter two steps probably weren't necessary. I figured that it would help to hear positive experiences as well as problems.
>> 
>> The only issue that I've encountered so far is specific to checking packages under RStudio, which doesn't appear to find pdflatex; OTOH, R CMD check runs fine in a terminal window. I haven't yet tried to resolve this problem.
>> 
>> Best,
>> John
>> 
>>> -----Original Message-----
>>> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
>>> Sent: Tuesday, October 21, 2014 4:38 PM
>>> To: John Fox
>>> Cc: Amos B. Elberg; r-sig-mac; Spencer Mass; Ben Clark; peter dalgaard;
>>> Marc Schwartz; David Winsemius; Hadley Wickham
>>> Subject: Re: [R-SIG-Mac] Yosemite and R
>>> 
>>> I wasn't able to reproduce but I suspect those are all red herrings -
>>> there are really no subprocesses involved at all in either case.
>>> 
>>> On Oct 21, 2014, at 4:19 PM, John Fox <jfox at mcmaster.ca> wrote:
>>>> 
>>>> Dear all,
>>>> 
>>>> I wonder whether this issue also accounts for the tcltk problems that
>>> have been reported. (I haven't yet upgraded to Yosemite myself, hoping
>>> to wait for the wrinkles to be ironed out, though I'll likely do so
>>> shortly if only to see what happens.)
>>>> 
>>>> Best,
>>>> John
>>>> 
>>>>> -----Original Message-----
>>>>> From: r-sig-mac-bounces at r-project.org [mailto:r-sig-mac-bounces at r-
>>>>> project.org] On Behalf Of Amos B. Elberg
>>>>> Sent: Tuesday, October 21, 2014 12:40 PM
>>>>> To: David Winsemius; Hadley Wickham
>>>>> Cc: r-sig-mac; Spencer Mass
>>>>> Subject: Re: [R-SIG-Mac] Yosemite and R
>>>>> 
>>>>> If the full environment isn?t getting passed to R-spawned sub-
>>>>> processes, that might explain an error I?ve been having since the
>>>>> update:  when R is launched from the command line, calls that should
>>>>> create an X11 window in the background fail unless an X11 window has
>>>>> already been created with the width and height specified:
>>>>> 
>>>>>> plot(rnorm(100))
>>>>> Error in .External2(C_X11, d$display, d$width, d$height,
>>>>> d$pointsize,  :
>>>>> invalid 'width' or 'height'
>>>>>> X11()
>>>>> Error in .External2(C_X11, d$display, d$width, d$height,
>>>>> d$pointsize,  :
>>>>> invalid 'width' or 'height'
>>>>>> X11(width = 5, height = 5)
>>>>>> plot(rnorm(100))
>>>>> [now it  works - and any number of additional windows can be spawned
>>>>> without repeating the error]
>>>>> [quitting R and reopening, without quitting XQuartz, and I get the
>>> same
>>>>> error calling plot() before X11(width = , height = )
>>>>> 
>>>>> This does not happen in RStudio.  I don?t use the R.app gui; I
>>> opened
>>>>> it just now to test and I got a slew of path-related errors, but
>>>>> they?re as likely to have to do with my not-maintained R.app as with
>>>>> anything else.
>>>>> 
>>>>> I had not reported this already because I wasn?t confident whether
>>> its
>>>>> a yosemite issue, an R-patched issue, or just something odd in the
>>> way
>>>>> I built R.
>>>>> 
>>>>> If incomplete-environment-passing is the new normal, is this not
>>> going
>>>>> to be a common issue for packages that spawn sub-processes?
>>>>> 
>>>>> 
>>>>> From: Hadley Wickham <h.wickham at gmail.com>
>>>>> Reply: Hadley Wickham <h.wickham at gmail.com>>
>>>>> Date: October 21, 2014 at 10:12:13 AM
>>>>> To: David Winsemius <dwinsemius at comcast.net>>
>>>>> Cc: r-sig-mac <r-sig-mac at r-project.org>>, Spencer Mass
>>>>> <masss at newpaltz.edu>>
>>>>> Subject:  Re: [R-SIG-Mac] Yosemite and R
>>>>> 
>>>>>> No, it is not. It is expected that the path in the terminal be
>>>>>> different to the path in R, it is _not_ expected that the path in R
>>>>> be
>>>>>> different to the path in a subprocess started by R.
>>>>>> 
>>>>>> (Well it is now expected, because this appears to be a new security
>>>>>> feature in Yosemite)
>>>>> 
>>>>> The best thread I could find on the problem is here:
>>>>> https://code.google.com/p/mactlmgr/issues/detail?id=102
>>>>> 
>>>>> --
>>>>> http://had.co.nz/
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>>   [[alternative HTML version deleted]]
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From rmh at temple.edu  Tue Oct 28 05:36:32 2014
From: rmh at temple.edu (Richard M. Heiberger)
Date: Tue, 28 Oct 2014 00:36:32 -0400
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <AF57CC15-6F8A-4E10-B119-271118F15625@anu.edu.au>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
	<CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>
	<DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>
	<CABdHhvEoojsjLkiwvzq1d8zTfA0nG2sAfTmDS1KZUs=Es1kmvQ@mail.gmail.com>
	<CABdHhvEG4mPqA3AYME-kkkhS5jGkFT2ABkq_99pMjW=0fLZMkQ@mail.gmail.com>
	<etPan.54468cc5.7c3dbd3d.e585@macpro-3.local>
	<002601cfed6c$5ddc6710$19953530$@mcmaster.ca>
	<E068556C-45BD-4307-84FD-53F7E0CA527C@r-project.org>
	<005201cfeeed$48e0b6e0$daa224a0$@mcmaster.ca>
	<CAGx1TMCSejjGT+AYJwAb-CiAs_-+6vMe56FOsWk=zc2A_k1J+w@mail.gmail.com>
	<AF57CC15-6F8A-4E10-B119-271118F15625@anu.edu.au>
Message-ID: <CAGx1TMCEji8F3odzvSwubLsOmPyzx-2Hkquwc4v1+ShOHvzEgQ@mail.gmail.com>

thank you for catching that typo

Rich

On Tue, Oct 28, 2014 at 12:21 AM, John Maindonald
<john.maindonald at anu.edu.au> wrote:
> http://xquartz.macosforge.org/ ?
>
> John Maindonald             email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
> Centre for Mathematics & Its Applications, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
>
>
> On 28 Oct 2014, at 15:03, Richard M. Heiberger <rmh at temple.edu> wrote:
>
>> I just did a workshop for new R users.  the only serious installation problem I
>> saw was Macintosh users and tctlk.  From this discussion, I knew to tell both
>> people they needed to download quartz.macosforge.org
>> and indeed that solved it.
>>
>> Is there a place on the package DESCRIPTION file to state that dependency,
>> thus triggering the download and installation of quartz?  That would
>> take the responsibility for discovering this need away from the end user?
>>
>> Rich
>>
>>
>> On Thu, Oct 23, 2014 at 2:15 PM, John Fox <jfox at mcmaster.ca> wrote:
>>> Dear Simon,
>>>
>>> I installed Yosemite a couple of days ago and everything seems to work fine so far, including the tcltk demo that caused problems for Peter, and the Rcmdr package, which gives Tcl/Tk a pretty good workout. I first reinstalled XQuartz, as suggested, and I also reinstalled R and updated all packages, though the latter two steps probably weren't necessary. I figured that it would help to hear positive experiences as well as problems.
>>>
>>> The only issue that I've encountered so far is specific to checking packages under RStudio, which doesn't appear to find pdflatex; OTOH, R CMD check runs fine in a terminal window. I haven't yet tried to resolve this problem.
>>>
>>> Best,
>>> John
>>>
>>>> -----Original Message-----
>>>> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
>>>> Sent: Tuesday, October 21, 2014 4:38 PM
>>>> To: John Fox
>>>> Cc: Amos B. Elberg; r-sig-mac; Spencer Mass; Ben Clark; peter dalgaard;
>>>> Marc Schwartz; David Winsemius; Hadley Wickham
>>>> Subject: Re: [R-SIG-Mac] Yosemite and R
>>>>
>>>> I wasn't able to reproduce but I suspect those are all red herrings -
>>>> there are really no subprocesses involved at all in either case.
>>>>
>>>> On Oct 21, 2014, at 4:19 PM, John Fox <jfox at mcmaster.ca> wrote:
>>>>>
>>>>> Dear all,
>>>>>
>>>>> I wonder whether this issue also accounts for the tcltk problems that
>>>> have been reported. (I haven't yet upgraded to Yosemite myself, hoping
>>>> to wait for the wrinkles to be ironed out, though I'll likely do so
>>>> shortly if only to see what happens.)
>>>>>
>>>>> Best,
>>>>> John
>>>>>
>>>>>> -----Original Message-----
>>>>>> From: r-sig-mac-bounces at r-project.org [mailto:r-sig-mac-bounces at r-
>>>>>> project.org] On Behalf Of Amos B. Elberg
>>>>>> Sent: Tuesday, October 21, 2014 12:40 PM
>>>>>> To: David Winsemius; Hadley Wickham
>>>>>> Cc: r-sig-mac; Spencer Mass
>>>>>> Subject: Re: [R-SIG-Mac] Yosemite and R
>>>>>>
>>>>>> If the full environment isn?t getting passed to R-spawned sub-
>>>>>> processes, that might explain an error I?ve been having since the
>>>>>> update:  when R is launched from the command line, calls that should
>>>>>> create an X11 window in the background fail unless an X11 window has
>>>>>> already been created with the width and height specified:
>>>>>>
>>>>>>> plot(rnorm(100))
>>>>>> Error in .External2(C_X11, d$display, d$width, d$height,
>>>>>> d$pointsize,  :
>>>>>> invalid 'width' or 'height'
>>>>>>> X11()
>>>>>> Error in .External2(C_X11, d$display, d$width, d$height,
>>>>>> d$pointsize,  :
>>>>>> invalid 'width' or 'height'
>>>>>>> X11(width = 5, height = 5)
>>>>>>> plot(rnorm(100))
>>>>>> [now it  works - and any number of additional windows can be spawned
>>>>>> without repeating the error]
>>>>>> [quitting R and reopening, without quitting XQuartz, and I get the
>>>> same
>>>>>> error calling plot() before X11(width = , height = )
>>>>>>
>>>>>> This does not happen in RStudio.  I don?t use the R.app gui; I
>>>> opened
>>>>>> it just now to test and I got a slew of path-related errors, but
>>>>>> they?re as likely to have to do with my not-maintained R.app as with
>>>>>> anything else.
>>>>>>
>>>>>> I had not reported this already because I wasn?t confident whether
>>>> its
>>>>>> a yosemite issue, an R-patched issue, or just something odd in the
>>>> way
>>>>>> I built R.
>>>>>>
>>>>>> If incomplete-environment-passing is the new normal, is this not
>>>> going
>>>>>> to be a common issue for packages that spawn sub-processes?
>>>>>>
>>>>>>
>>>>>> From: Hadley Wickham <h.wickham at gmail.com>
>>>>>> Reply: Hadley Wickham <h.wickham at gmail.com>>
>>>>>> Date: October 21, 2014 at 10:12:13 AM
>>>>>> To: David Winsemius <dwinsemius at comcast.net>>
>>>>>> Cc: r-sig-mac <r-sig-mac at r-project.org>>, Spencer Mass
>>>>>> <masss at newpaltz.edu>>
>>>>>> Subject:  Re: [R-SIG-Mac] Yosemite and R
>>>>>>
>>>>>>> No, it is not. It is expected that the path in the terminal be
>>>>>>> different to the path in R, it is _not_ expected that the path in R
>>>>>> be
>>>>>>> different to the path in a subprocess started by R.
>>>>>>>
>>>>>>> (Well it is now expected, because this appears to be a new security
>>>>>>> feature in Yosemite)
>>>>>>
>>>>>> The best thread I could find on the problem is here:
>>>>>> https://code.google.com/p/mactlmgr/issues/detail?id=102
>>>>>>
>>>>>> --
>>>>>> http://had.co.nz/
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>>   [[alternative HTML version deleted]]
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From qiong.cai at gmail.com  Tue Oct 28 09:24:24 2014
From: qiong.cai at gmail.com (Qiong Cai)
Date: Tue, 28 Oct 2014 09:24:24 +0100
Subject: [R-SIG-Mac] Fwd: Compiling R-3.1.1 sources under OS X Yosemite
In-Reply-To: <CAOrq85GA7Hy2F0ocfMgs08=XFeqLBgo5TJ6P07FWxtjt4k6ndg@mail.gmail.com>
References: <CAOrq85GA7Hy2F0ocfMgs08=XFeqLBgo5TJ6P07FWxtjt4k6ndg@mail.gmail.com>
Message-ID: <CAOrq85Gc5Rc2a085PNR0xDqqTXYrzOvrz4-Qr-wymCGbSnyjDQ@mail.gmail.com>

Hi,

Has anyone successfully compiled R-3.1.1 sources under OS X Yosemite?  If
so, could you please pass me the right configure options? I got the
following error when I tried to build it.  Is something wrong with my
gfortran compiler?

thanks
Qiong

>gcc --version
Configured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr
--with-gxx-include-dir=/usr/include/c++/4.2.1
Apple LLVM version 6.0 (clang-600.0.54) (based on LLVM 3.5svn)
Target: x86_64-apple-darwin14.0.0
Thread model: posix

>gfortran --version
gfortran: warning: couldn?t understand kern.osversion ?14.0.0
GNU Fortran (GCC) 4.9.1
Copyright (C) 2014 Free Software Foundation, Inc.

> ./configure SHELL='/bin/bash' r_arch=x86_64 CC="gcc -arch x86_64
-std=gnu99" CXX="g++ -arch x86_64" OBJC="gcc -arc x86_64" F77="gfortran
-arch x86_64" FC="gfortran -arch x86_64" --with-system-zlib
--with-blas='-framework vecLib' --with-lapack

// ....

checking for gcc -arch x86_64 -std=gnu99 option to support OpenMP...
unsupported

checking how to get verbose linking output from gfortran -arch x86_64...
configure: WARNING: compilation failed

checking for Fortran 77 libraries of gfortran -arch x86_64... checking how
to get verbose linking output from gcc -arch x86_64 -std=gnu99... -v

checking for C libraries of gcc -arch x86_64 -std=gnu99...
-L/usr/local/lib -lSystem
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../lib/clang/6.0/lib/darwin/libclang_rt.osx.a

checking for dummy main to link with Fortran 77 libraries... none

checking for Fortran 77 name-mangling scheme... configure: error: in
`/Users/qiongcai/Codes/r-projects/R-3.1.1':

configure: error: cannot compile a simple Fortran program

	[[alternative HTML version deleted]]


From amos.elberg at gmail.com  Tue Oct 28 09:32:34 2014
From: amos.elberg at gmail.com (Amos B. Elberg)
Date: Tue, 28 Oct 2014 04:32:34 -0400
Subject: [R-SIG-Mac] Fwd: Compiling R-3.1.1 sources under OS X Yosemite
In-Reply-To: <CAOrq85Gc5Rc2a085PNR0xDqqTXYrzOvrz4-Qr-wymCGbSnyjDQ@mail.gmail.com>
References: <CAOrq85GA7Hy2F0ocfMgs08=XFeqLBgo5TJ6P07FWxtjt4k6ndg@mail.gmail.com>
	<CAOrq85Gc5Rc2a085PNR0xDqqTXYrzOvrz4-Qr-wymCGbSnyjDQ@mail.gmail.com>
Message-ID: <03879616-DEDE-421D-9030-D09C194FE80C@gmail.com>

It looks like you're trying to use Xcode plus the old gfortran to compile it. I've compiled it successfully with gcc 4.9 and llvm 3.5, installed by the homebrew package manager. If you want to use one of those compilers, I can give you configure scripts that will work.

(Also you should change -framework vecLib to -framework Accelerate in Yosemite)


> On Oct 28, 2014, at 4:24 AM, Qiong Cai <qiong.cai at gmail.com> wrote:
> 
> Hi,
> 
> Has anyone successfully compiled R-3.1.1 sources under OS X Yosemite?  If
> so, could you please pass me the right configure options? I got the
> following error when I tried to build it.  Is something wrong with my
> gfortran compiler?
> 
> thanks
> Qiong
> 
>> gcc --version
> Configured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr
> --with-gxx-include-dir=/usr/include/c++/4.2.1
> Apple LLVM version 6.0 (clang-600.0.54) (based on LLVM 3.5svn)
> Target: x86_64-apple-darwin14.0.0
> Thread model: posix
> 
>> gfortran --version
> gfortran: warning: couldn?t understand kern.osversion ?14.0.0
> GNU Fortran (GCC) 4.9.1
> Copyright (C) 2014 Free Software Foundation, Inc.
> 
>> ./configure SHELL='/bin/bash' r_arch=x86_64 CC="gcc -arch x86_64
> -std=gnu99" CXX="g++ -arch x86_64" OBJC="gcc -arc x86_64" F77="gfortran
> -arch x86_64" FC="gfortran -arch x86_64" --with-system-zlib
> --with-blas='-framework vecLib' --with-lapack
> 
> // ....
> 
> checking for gcc -arch x86_64 -std=gnu99 option to support OpenMP...
> unsupported
> 
> checking how to get verbose linking output from gfortran -arch x86_64...
> configure: WARNING: compilation failed
> 
> checking for Fortran 77 libraries of gfortran -arch x86_64... checking how
> to get verbose linking output from gcc -arch x86_64 -std=gnu99... -v
> 
> checking for C libraries of gcc -arch x86_64 -std=gnu99...
> -L/usr/local/lib -lSystem
> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../lib/clang/6.0/lib/darwin/libclang_rt.osx.a
> 
> checking for dummy main to link with Fortran 77 libraries... none
> 
> checking for Fortran 77 name-mangling scheme... configure: error: in
> `/Users/qiongcai/Codes/r-projects/R-3.1.1':
> 
> configure: error: cannot compile a simple Fortran program
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From qiong.cai at gmail.com  Tue Oct 28 09:52:47 2014
From: qiong.cai at gmail.com (Qiong Cai)
Date: Tue, 28 Oct 2014 09:52:47 +0100
Subject: [R-SIG-Mac] Fwd: Compiling R-3.1.1 sources under OS X Yosemite
In-Reply-To: <03879616-DEDE-421D-9030-D09C194FE80C@gmail.com>
References: <CAOrq85GA7Hy2F0ocfMgs08=XFeqLBgo5TJ6P07FWxtjt4k6ndg@mail.gmail.com>
	<CAOrq85Gc5Rc2a085PNR0xDqqTXYrzOvrz4-Qr-wymCGbSnyjDQ@mail.gmail.com>
	<03879616-DEDE-421D-9030-D09C194FE80C@gmail.com>
Message-ID: <CAOrq85GdeQMEyAiNNJP=1ce09j4JizQJEh5oLeLM0T6UjZcQTg@mail.gmail.com>

Hi Amos,

Could you please send me the configure scripts for both gcc and llvm?  I
would like to try both.

Thanks a lot.
Qiong

On Tue, Oct 28, 2014 at 9:32 AM, Amos B. Elberg <amos.elberg at gmail.com>
wrote:

> It looks like you're trying to use Xcode plus the old gfortran to compile
> it. I've compiled it successfully with gcc 4.9 and llvm 3.5, installed by
> the homebrew package manager. If you want to use one of those compilers, I
> can give you configure scripts that will work.
>
> (Also you should change -framework vecLib to -framework Accelerate in
> Yosemite)
>
>
> > On Oct 28, 2014, at 4:24 AM, Qiong Cai <qiong.cai at gmail.com> wrote:
> >
> > Hi,
> >
> > Has anyone successfully compiled R-3.1.1 sources under OS X Yosemite?  If
> > so, could you please pass me the right configure options? I got the
> > following error when I tried to build it.  Is something wrong with my
> > gfortran compiler?
> >
> > thanks
> > Qiong
> >
> >> gcc --version
> > Configured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr
> > --with-gxx-include-dir=/usr/include/c++/4.2.1
> > Apple LLVM version 6.0 (clang-600.0.54) (based on LLVM 3.5svn)
> > Target: x86_64-apple-darwin14.0.0
> > Thread model: posix
> >
> >> gfortran --version
> > gfortran: warning: couldn?t understand kern.osversion ?14.0.0
> > GNU Fortran (GCC) 4.9.1
> > Copyright (C) 2014 Free Software Foundation, Inc.
> >
> >> ./configure SHELL='/bin/bash' r_arch=x86_64 CC="gcc -arch x86_64
> > -std=gnu99" CXX="g++ -arch x86_64" OBJC="gcc -arc x86_64" F77="gfortran
> > -arch x86_64" FC="gfortran -arch x86_64" --with-system-zlib
> > --with-blas='-framework vecLib' --with-lapack
> >
> > // ....
> >
> > checking for gcc -arch x86_64 -std=gnu99 option to support OpenMP...
> > unsupported
> >
> > checking how to get verbose linking output from gfortran -arch x86_64...
> > configure: WARNING: compilation failed
> >
> > checking for Fortran 77 libraries of gfortran -arch x86_64... checking
> how
> > to get verbose linking output from gcc -arch x86_64 -std=gnu99... -v
> >
> > checking for C libraries of gcc -arch x86_64 -std=gnu99...
> > -L/usr/local/lib -lSystem
> >
> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/../lib/clang/6.0/lib/darwin/libclang_rt.osx.a
> >
> > checking for dummy main to link with Fortran 77 libraries... none
> >
> > checking for Fortran 77 name-mangling scheme... configure: error: in
> > `/Users/qiongcai/Codes/r-projects/R-3.1.1':
> >
> > configure: error: cannot compile a simple Fortran program
> >
> >    [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From xwang6 at WPI.EDU  Tue Oct 28 13:57:40 2014
From: xwang6 at WPI.EDU (Wang, Xingrun)
Date: Tue, 28 Oct 2014 12:57:40 +0000
Subject: [R-SIG-Mac] About R
In-Reply-To: <4E20FBD4DD97454F825C27E26E1C024D4FA38F0F@S281.admin.wpi.edu>
References: <4E20FBD4DD97454F825C27E26E1C024D4FA38F0F@S281.admin.wpi.edu>
Message-ID: <33F45F21-C826-45FF-A8F2-C31C026AFF6B@wpi.edu>



Hello!
My name is Sam Wang. I have problems after I updated my MAC to Version 10.10(OS X Yosemite). I cannot open my R software. After I uninstall it and install the newest version of R in your official site, I cannot uncompressing it into the available file. Do you know how to solve this problem? Appreciate your reply.

                                                                                                                                  Sam Wang


From pdalgd at gmail.com  Tue Oct 28 14:35:27 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 28 Oct 2014 14:35:27 +0100
Subject: [R-SIG-Mac] About R
In-Reply-To: <33F45F21-C826-45FF-A8F2-C31C026AFF6B@wpi.edu>
References: <4E20FBD4DD97454F825C27E26E1C024D4FA38F0F@S281.admin.wpi.edu>
	<33F45F21-C826-45FF-A8F2-C31C026AFF6B@wpi.edu>
Message-ID: <98E227E7-515B-450F-8885-EDBC221FC294@gmail.com>

What did you do? R usually comes in .pkg format and shouldn't require explicit uncompression.

-pd

On 28 Oct 2014, at 13:57 , Wang, Xingrun <xwang6 at wpi.edu> wrote:

> 
> 
> Hello!
> My name is Sam Wang. I have problems after I updated my MAC to Version 10.10(OS X Yosemite). I cannot open my R software. After I uninstall it and install the newest version of R in your official site, I cannot uncompressing it into the available file. Do you know how to solve this problem? Appreciate your reply.
> 
>                                                                                                                                  Sam Wang
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From jfox at mcmaster.ca  Tue Oct 28 14:43:53 2014
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 28 Oct 2014 09:43:53 -0400
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <CAGx1TMCSejjGT+AYJwAb-CiAs_-+6vMe56FOsWk=zc2A_k1J+w@mail.gmail.com>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
	<CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>
	<DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>
	<CABdHhvEoojsjLkiwvzq1d8zTfA0nG2sAfTmDS1KZUs=Es1kmvQ@mail.gmail.com>
	<CABdHhvEG4mPqA3AYME-kkkhS5jGkFT2ABkq_99pMjW=0fLZMkQ@mail.gmail.com>
	<etPan.54468cc5.7c3dbd3d.e585@macpro-3.local>
	<002601cfed6c$5ddc6710$19953530$@mcmaster.ca>
	<E068556C-45BD-4307-84FD-53F7E0CA527C@r-project.org>
	<005201cfeeed$48e0b6e0$daa224a0$@mcmaster.ca>
	<CAGx1TMCSejjGT+AYJwAb-CiAs_-+6vMe56FOsWk=zc2A_k1J+w@mail.gmail.com>
Message-ID: <web-533382922@cgpsrv2.cis.mcmaster.ca>

Dear Rich,

I've made a similar suggestions before, I believe. It would even help to have tcltk fail less cryptically if X-Windows is unavailable under Mac OS X, suggesting that XQuartz be installed and pointing to the XQuartz website. And it shouldn't be hard to check capabilities()["X11"] when tcltk loads. 

The large majority of Rcmdr problems about which people write me concern this one issue. There are clear, detailed installation instructions on the Rcmdr website but no way for me to insure that people are aware of them. I spent some time trying to find a way to report the absence of X-Windows at Rcmdr start-up, but the dependency on tcltk causes the Rcmdr to fail to load before an informative message can be printed -- a chicken-and-egg problem. Maybe there's a way to do this that I didn't discover.

The essential problem here is that naive users don't have an obvious way of avoiding the problem. They install the software and expect it to work. There are similar issues with the system path under Yosemite and with app nap. This leads to repetitious emails to package maintainers and to repetitive questions on the various help lists, etc.

That said, I think that there is a good solution for teachers of courses, workshops, etc.: Create -- or point to existing -- clear installation instructions that include installing XQuartz under OS X. The less tractable problem is individual users downloading and installing R from CRAN.

Best,
 John

On Tue, 28 Oct 2014 00:03:52 -0400
 "Richard M. Heiberger" <rmh at temple.edu> wrote:
> I just did a workshop for new R users.  the only serious installation problem I
> saw was Macintosh users and tctlk.  From this discussion, I knew to tell both
> people they needed to download quartz.macosforge.org
> and indeed that solved it.
> 
> Is there a place on the package DESCRIPTION file to state that dependency,
> thus triggering the download and installation of quartz?  That would
> take the responsibility for discovering this need away from the end user?
> 
> Rich
> 
> 
> On Thu, Oct 23, 2014 at 2:15 PM, John Fox <jfox at mcmaster.ca> wrote:
> > Dear Simon,
> >
> > I installed Yosemite a couple of days ago and everything seems to work fine so far, including the tcltk demo that caused problems for Peter, and the Rcmdr package, which gives Tcl/Tk a pretty good workout. I first reinstalled XQuartz, as suggested, and I also reinstalled R and updated all packages, though the latter two steps probably weren't necessary. I figured that it would help to hear positive experiences as well as problems.
> >
> > The only issue that I've encountered so far is specific to checking packages under RStudio, which doesn't appear to find pdflatex; OTOH, R CMD check runs fine in a terminal window. I haven't yet tried to resolve this problem.
> >
> > Best,
> >  John
> >
> >> -----Original Message-----
> >> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> >> Sent: Tuesday, October 21, 2014 4:38 PM
> >> To: John Fox
> >> Cc: Amos B. Elberg; r-sig-mac; Spencer Mass; Ben Clark; peter dalgaard;
> >> Marc Schwartz; David Winsemius; Hadley Wickham
> >> Subject: Re: [R-SIG-Mac] Yosemite and R
> >>
> >> I wasn't able to reproduce but I suspect those are all red herrings -
> >> there are really no subprocesses involved at all in either case.
> >>
> >> On Oct 21, 2014, at 4:19 PM, John Fox <jfox at mcmaster.ca> wrote:
> >> >
> >> > Dear all,
> >> >
> >> > I wonder whether this issue also accounts for the tcltk problems that
> >> have been reported. (I haven't yet upgraded to Yosemite myself, hoping
> >> to wait for the wrinkles to be ironed out, though I'll likely do so
> >> shortly if only to see what happens.)
> >> >
> >> > Best,
> >> > John
> >> >
> >> >> -----Original Message-----
> >> >> From: r-sig-mac-bounces at r-project.org [mailto:r-sig-mac-bounces at r-
> >> >> project.org] On Behalf Of Amos B. Elberg
> >> >> Sent: Tuesday, October 21, 2014 12:40 PM
> >> >> To: David Winsemius; Hadley Wickham
> >> >> Cc: r-sig-mac; Spencer Mass
> >> >> Subject: Re: [R-SIG-Mac] Yosemite and R
> >> >>
> >> >> If the full environment isn?t getting passed to R-spawned sub-
> >> >> processes, that might explain an error I?ve been having since the
> >> >> update:  when R is launched from the command line, calls that should
> >> >> create an X11 window in the background fail unless an X11 window has
> >> >> already been created with the width and height specified:
> >> >>
> >> >>> plot(rnorm(100))
> >> >> Error in .External2(C_X11, d$display, d$width, d$height,
> >> >> d$pointsize,  :
> >> >>  invalid 'width' or 'height'
> >> >>> X11()
> >> >> Error in .External2(C_X11, d$display, d$width, d$height,
> >> >> d$pointsize,  :
> >> >>  invalid 'width' or 'height'
> >> >>> X11(width = 5, height = 5)
> >> >>> plot(rnorm(100))
> >> >> [now it  works - and any number of additional windows can be spawned
> >> >> without repeating the error]
> >> >> [quitting R and reopening, without quitting XQuartz, and I get the
> >> same
> >> >> error calling plot() before X11(width = , height = )
> >> >>
> >> >> This does not happen in RStudio.  I don?t use the R.app gui; I
> >> opened
> >> >> it just now to test and I got a slew of path-related errors, but
> >> >> they?re as likely to have to do with my not-maintained R.app as with
> >> >> anything else.
> >> >>
> >> >> I had not reported this already because I wasn?t confident whether
> >> its
> >> >> a yosemite issue, an R-patched issue, or just something odd in the
> >> way
> >> >> I built R.
> >> >>
> >> >> If incomplete-environment-passing is the new normal, is this not
> >> going
> >> >> to be a common issue for packages that spawn sub-processes?
> >> >>
> >> >>
> >> >> From: Hadley Wickham <h.wickham at gmail.com>
> >> >> Reply: Hadley Wickham <h.wickham at gmail.com>>
> >> >> Date: October 21, 2014 at 10:12:13 AM
> >> >> To: David Winsemius <dwinsemius at comcast.net>>
> >> >> Cc: r-sig-mac <r-sig-mac at r-project.org>>, Spencer Mass
> >> >> <masss at newpaltz.edu>>
> >> >> Subject:  Re: [R-SIG-Mac] Yosemite and R
> >> >>
> >> >>> No, it is not. It is expected that the path in the terminal be
> >> >>> different to the path in R, it is _not_ expected that the path in R
> >> >> be
> >> >>> different to the path in a subprocess started by R.
> >> >>>
> >> >>> (Well it is now expected, because this appears to be a new security
> >> >>> feature in Yosemite)
> >> >>
> >> >> The best thread I could find on the problem is here:
> >> >> https://code.google.com/p/mactlmgr/issues/detail?id=102
> >> >>
> >> >> --
> >> >> http://had.co.nz/
> >> >>
> >> >> _______________________________________________
> >> >> R-SIG-Mac mailing list
> >> >> R-SIG-Mac at r-project.org
> >> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >> >>
> >> >>    [[alternative HTML version deleted]]
> >> >>
> >> >> _______________________________________________
> >> >> R-SIG-Mac mailing list
> >> >> R-SIG-Mac at r-project.org
> >> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >> >
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jfox at mcmaster.ca  Tue Oct 28 15:14:12 2014
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 28 Oct 2014 10:14:12 -0400
Subject: [R-SIG-Mac] Yosemite and R
In-Reply-To: <6176_1414503875_s9SDiXA5010563_web-533382922@cgpsrv2.cis.mcmaster.ca>
References: <F5A977B3-C190-42C5-ADB8-03635A920957@newpaltz.edu>
	<5C0CD591-9DD2-4C5A-96BE-F2F6120409A5@me.com>
	<CB42BB02-D90F-482F-BA28-3B82394DD10B@greatergood.com>
	<C1C417D8-158D-47FD-8DBE-287789616578@r-project.org>
	<CABdHhvH63DR+7Ce9OqONNjg+3ahc7GKC+oYtPZQ57ZcJvx3ZLw@mail.gmail.com>
	<DAF215F4-ADC9-41C9-9C1E-F96355A54FC0@comcast.net>
	<CABdHhvEoojsjLkiwvzq1d8zTfA0nG2sAfTmDS1KZUs=Es1kmvQ@mail.gmail.com>
	<CABdHhvEG4mPqA3AYME-kkkhS5jGkFT2ABkq_99pMjW=0fLZMkQ@mail.gmail.com>
	<etPan.54468cc5.7c3dbd3d.e585@macpro-3.local>
	<002601cfed6c$5ddc6710$19953530$@mcmaster.ca>
	<E068556C-45BD-4307-84FD-53F7E0CA527C@r-project.org>
	<005201cfeeed$48e0b6e0$daa224a0$@mcmaster.ca>
	<CAGx1TMCSejjGT+AYJwAb-CiAs_-+6vMe56FOsWk=zc2A_k1J+w@mail.gmail.com>
	<6176_1414503875_s9SDiXA5010563_web-533382922@cgpsrv2.cis.mcmaster.ca>
Message-ID: <web-533392419@cgpsrv2.cis.mcmaster.ca>

Dear all,

Brian Ripley has brought it my attention that R 3.1.2, due to be released soon, *does* check that X11 is present and prints an informative error message if it isn't. That's a substantial improvement.

Thanks,
 John

On Tue, 28 Oct 2014 09:43:53 -0400
 "John Fox" <jfox at mcmaster.ca> wrote:
> Dear Rich,
> 
> I've made a similar suggestions before, I believe. It would even help to have tcltk fail less cryptically if X-Windows is unavailable under Mac OS X, suggesting that XQuartz be installed and pointing to the XQuartz website. And it shouldn't be hard to check capabilities()["X11"] when tcltk loads. 
> 
> The large majority of Rcmdr problems about which people write me concern this one issue. There are clear, detailed installation instructions on the Rcmdr website but no way for me to insure that people are aware of them. I spent some time trying to find a way to report the absence of X-Windows at Rcmdr start-up, but the dependency on tcltk causes the Rcmdr to fail to load before an informative message can be printed -- a chicken-and-egg problem. Maybe there's a way to do this that I didn't discover.
> 
> The essential problem here is that naive users don't have an obvious way of avoiding the problem. They install the software and expect it to work. There are similar issues with the system path under Yosemite and with app nap. This leads to repetitious emails to package maintainers and to repetitive questions on the various help lists, etc.
> 
> That said, I think that there is a good solution for teachers of courses, workshops, etc.: Create -- or point to existing -- clear installation instructions that include installing XQuartz under OS X. The less tractable problem is individual users downloading and installing R from CRAN.
> 
> Best,
>  John
> 
> On Tue, 28 Oct 2014 00:03:52 -0400
>  "Richard M. Heiberger" <rmh at temple.edu> wrote:
> > I just did a workshop for new R users.  the only serious installation problem I
> > saw was Macintosh users and tctlk.  From this discussion, I knew to tell both
> > people they needed to download quartz.macosforge.org
> > and indeed that solved it.
> > 
> > Is there a place on the package DESCRIPTION file to state that dependency,
> > thus triggering the download and installation of quartz?  That would
> > take the responsibility for discovering this need away from the end user?
> > 
> > Rich
> > 
> > 
> > On Thu, Oct 23, 2014 at 2:15 PM, John Fox <jfox at mcmaster.ca> wrote:
> > > Dear Simon,
> > >
> > > I installed Yosemite a couple of days ago and everything seems to work fine so far, including the tcltk demo that caused problems for Peter, and the Rcmdr package, which gives Tcl/Tk a pretty good workout. I first reinstalled XQuartz, as suggested, and I also reinstalled R and updated all packages, though the latter two steps probably weren't necessary. I figured that it would help to hear positive experiences as well as problems.
> > >
> > > The only issue that I've encountered so far is specific to checking packages under RStudio, which doesn't appear to find pdflatex; OTOH, R CMD check runs fine in a terminal window. I haven't yet tried to resolve this problem.
> > >
> > > Best,
> > >  John
> > >
> > >> -----Original Message-----
> > >> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> > >> Sent: Tuesday, October 21, 2014 4:38 PM
> > >> To: John Fox
> > >> Cc: Amos B. Elberg; r-sig-mac; Spencer Mass; Ben Clark; peter dalgaard;
> > >> Marc Schwartz; David Winsemius; Hadley Wickham
> > >> Subject: Re: [R-SIG-Mac] Yosemite and R
> > >>
> > >> I wasn't able to reproduce but I suspect those are all red herrings -
> > >> there are really no subprocesses involved at all in either case.
> > >>
> > >> On Oct 21, 2014, at 4:19 PM, John Fox <jfox at mcmaster.ca> wrote:
> > >> >
> > >> > Dear all,
> > >> >
> > >> > I wonder whether this issue also accounts for the tcltk problems that
> > >> have been reported. (I haven't yet upgraded to Yosemite myself, hoping
> > >> to wait for the wrinkles to be ironed out, though I'll likely do so
> > >> shortly if only to see what happens.)
> > >> >
> > >> > Best,
> > >> > John
> > >> >
> > >> >> -----Original Message-----
> > >> >> From: r-sig-mac-bounces at r-project.org [mailto:r-sig-mac-bounces at r-
> > >> >> project.org] On Behalf Of Amos B. Elberg
> > >> >> Sent: Tuesday, October 21, 2014 12:40 PM
> > >> >> To: David Winsemius; Hadley Wickham
> > >> >> Cc: r-sig-mac; Spencer Mass
> > >> >> Subject: Re: [R-SIG-Mac] Yosemite and R
> > >> >>
> > >> >> If the full environment isn?t getting passed to R-spawned sub-
> > >> >> processes, that might explain an error I?ve been having since the
> > >> >> update:  when R is launched from the command line, calls that should
> > >> >> create an X11 window in the background fail unless an X11 window has
> > >> >> already been created with the width and height specified:
> > >> >>
> > >> >>> plot(rnorm(100))
> > >> >> Error in .External2(C_X11, d$display, d$width, d$height,
> > >> >> d$pointsize,  :
> > >> >>  invalid 'width' or 'height'
> > >> >>> X11()
> > >> >> Error in .External2(C_X11, d$display, d$width, d$height,
> > >> >> d$pointsize,  :
> > >> >>  invalid 'width' or 'height'
> > >> >>> X11(width = 5, height = 5)
> > >> >>> plot(rnorm(100))
> > >> >> [now it  works - and any number of additional windows can be spawned
> > >> >> without repeating the error]
> > >> >> [quitting R and reopening, without quitting XQuartz, and I get the
> > >> same
> > >> >> error calling plot() before X11(width = , height = )
> > >> >>
> > >> >> This does not happen in RStudio.  I don?t use the R.app gui; I
> > >> opened
> > >> >> it just now to test and I got a slew of path-related errors, but
> > >> >> they?re as likely to have to do with my not-maintained R.app as with
> > >> >> anything else.
> > >> >>
> > >> >> I had not reported this already because I wasn?t confident whether
> > >> its
> > >> >> a yosemite issue, an R-patched issue, or just something odd in the
> > >> way
> > >> >> I built R.
> > >> >>
> > >> >> If incomplete-environment-passing is the new normal, is this not
> > >> going
> > >> >> to be a common issue for packages that spawn sub-processes?
> > >> >>
> > >> >>
> > >> >> From: Hadley Wickham <h.wickham at gmail.com>
> > >> >> Reply: Hadley Wickham <h.wickham at gmail.com>>
> > >> >> Date: October 21, 2014 at 10:12:13 AM
> > >> >> To: David Winsemius <dwinsemius at comcast.net>>
> > >> >> Cc: r-sig-mac <r-sig-mac at r-project.org>>, Spencer Mass
> > >> >> <masss at newpaltz.edu>>
> > >> >> Subject:  Re: [R-SIG-Mac] Yosemite and R
> > >> >>
> > >> >>> No, it is not. It is expected that the path in the terminal be
> > >> >>> different to the path in R, it is _not_ expected that the path in R
> > >> >> be
> > >> >>> different to the path in a subprocess started by R.
> > >> >>>
> > >> >>> (Well it is now expected, because this appears to be a new security
> > >> >>> feature in Yosemite)
> > >> >>
> > >> >> The best thread I could find on the problem is here:
> > >> >> https://code.google.com/p/mactlmgr/issues/detail?id=102
> > >> >>
> > >> >> --
> > >> >> http://had.co.nz/
> > >> >>
> > >> >> _______________________________________________
> > >> >> R-SIG-Mac mailing list
> > >> >> R-SIG-Mac at r-project.org
> > >> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From colin at colinsmith.org  Tue Oct 28 23:33:13 2014
From: colin at colinsmith.org (Colin A. Smith)
Date: Tue, 28 Oct 2014 23:33:13 +0100
Subject: [R-SIG-Mac] Command Line Quartz Device in Yosemite
Message-ID: <AAC0F9A8-B77B-4A3C-9364-20E3AC0E05F3@colinsmith.org>

I?ve been using command line R fairly successfully under Yosemite so far and have only run into a few issues, mostly related to the quartz device.

First, it seems that under Yosemite, the default device is now x11 instead of quartz. I found this with the exact same pkg install of R that I was using in Mavericks, which defaulted to quartz. Installing the latest Mavericks build (3.1.1) results in the same behavior. Even when running "R_DEFAULT_DEVICE=quartz R?, the default device still ends up being x11. The quartz device can still be created manually with a call to quartz(). Does anyone else have this same problem?

Second, the menus for the quartz device created through the command line have gotten even stranger under Yosemite. With the current version there are actually two (!) Apple menus displayed, which looks quite odd:

https://dl.dropboxusercontent.com/u/21171664/R_Two_Apple_Menus.png

About a year ago I submitted a patch with made the command line quartz device act much more like a normal OS X application:

https://bugs.r-project.org/bugzilla3/show_bug.cgi?id=15438#c1

This patch continues to work well under Yosemite, and does not display the double Apple menu problem. However, it seems to have currently fallen off the radar. Given the even stranger behavior of the current code under Yosemite, perhaps evaluation of my patch could be given a higher priority? If it would help I can provide updated files which are drop-in replacements for the current R trunk.

Cheers,

Colin

From Raphael.Viscarra-Rossel at csiro.au  Wed Oct 29 09:31:28 2014
From: Raphael.Viscarra-Rossel at csiro.au (Raphael.Viscarra-Rossel at csiro.au)
Date: Wed, 29 Oct 2014 08:31:28 +0000
Subject: [R-SIG-Mac] problems installing gstat
In-Reply-To: <AAC0F9A8-B77B-4A3C-9364-20E3AC0E05F3@colinsmith.org>
Message-ID: <D076EEFF.4D81%Raphael.Viscarra-Rossel@csiro.au>

Hello

I am wondering if anyone else is having problems installing gstat in R
3.1.1 on yosemite (and also mavericks)?

I looked for similar problems on the web but found very little on this.

sessionInfo and errors below.

Help?. please?

Raphael.


> sessionInfo()
R version 3.1.1 (2014-07-10)
Platform: x86_64-apple-darwin13.1.0 (64-bit)

locale:
[1] en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_3.1.1



> install.packages('gstat',type="source", repos='http://cran.csiro.au/')
Installing package into ?/Users/vis010/Library/R/3.1/library?
(as ?lib? is unspecified)
trying URL 'http://cran.csiro.au/src/contrib/gstat_1.0-19.tar.gz'
Content type 'application/x-gzip' length 2045717 bytes (2.0 Mb)
opened URL
==================================================
downloaded 2.0 Mb

* installing *source* package ?gstat? ...
** package ?gstat? successfully unpacked and MD5 sums checked
creating cache ./config.cache
checking for gcc... gcc
checking whether the C compiler (gcc  ) works... no
configure: error: installation or configuration problem: C compiler cannot
create executables.
ERROR: configuration failed for package ?gstat?
* removing ?/Users/vis010/Library/R/3.1/library/gstat?
* restoring previous ?/Users/vis010/Library/R/3.1/library/gstat?

The downloaded source packages are in
	?/private/var/folders/zk/jzsww5w169g2zbl5hp260575y_7z7l/T/RtmpwsAqM6/downl
oaded_packages?
Warning message:
In install.packages("gstat", type = "source", repos =
"http://cran.csiro.au/") :
  installation of package ?gstat? had non-zero exit status


From Raphael.Viscarra-Rossel at csiro.au  Wed Oct 29 10:12:25 2014
From: Raphael.Viscarra-Rossel at csiro.au (Raphael.Viscarra-Rossel at csiro.au)
Date: Wed, 29 Oct 2014 09:12:25 +0000
Subject: [R-SIG-Mac] problems installing gstat
Message-ID: <D076FA5D.4D97%Raphael.Viscarra-Rossel@csiro.au>

Hello

I am wondering if anyone else is having problems installing gstat in R
3.1.1 on yosemite (and also mavericks)?

I looked for similar problems on the web but found very little on this.

I also installed XCODE and then tried installing form source but then
other errors.

sessionInfo and errors below.

Help?. please?

Raphael.


> sessionInfo()
R version 3.1.1 (2014-07-10)
Platform: x86_64-apple-darwin13.1.0 (64-bit)

locale:
[1] en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_3.1.1


##### BEFORE INSTALLING XCODE

> install.packages('gstat',type="source", repos='http://cran.csiro.au/')
Installing package into ?/Users/vis010/Library/R/3.1/library?
(as ?lib? is unspecified)
trying URL 'http://cran.csiro.au/src/contrib/gstat_1.0-19.tar.gz'
Content type 'application/x-gzip' length 2045717 bytes (2.0 Mb)
opened URL
==================================================
downloaded 2.0 Mb

* installing *source* package ?gstat? ...
** package ?gstat? successfully unpacked and MD5 sums checked
creating cache ./config.cache
checking for gcc... gcc
checking whether the C compiler (gcc  ) works... no
configure: error: installation or configuration problem: C compiler cannot
create executables.
ERROR: configuration failed for package ?gstat?
* removing ?/Users/vis010/Library/R/3.1/library/gstat?
* restoring previous ?/Users/vis010/Library/R/3.1/library/gstat?

The downloaded source packages are in
	?/private/var/folders/zk/jzsww5w169g2zbl5hp260575y_7z7l/T/RtmpwsAqM6/downl
oaded_packages?
Warning message:
In install.packages("gstat", type = "source", repos =
"http://cran.csiro.au/") :
  installation of package ?gstat? had non-zero exit status


###### AFTER INSTALLING XCODE
Installing package into ?/Users/vis010/Library/R/3.1/library?
(as ?lib? is unspecified)
trying URL 'http://cran.csiro.au/src/contrib/gstat_1.0-19.tar.gz'
Content type 'application/x-gzip' length 2045717 bytes (2.0 Mb)
opened URL
==================================================
downloaded 2.0 Mb

* installing *source* package ?gstat? ...
** package ?gstat? successfully unpacked and MD5 sums checked
creating cache ./config.cache
checking for gcc... gcc
checking whether the C compiler (gcc  ) works... yes
checking whether the C compiler (gcc  ) is a cross-compiler... no
checking whether we are using GNU C... yes
checking whether gcc accepts -g... yes
checking how to run the C preprocessor... gcc -E
checking for AIX... no
checking for minix/config.h... no
checking for POSIXized ISC... no
checking for ANSI C header files... yes
checking for working const... yes
checking whether time.h and sys/time.h may both be included... yes
checking for 8-bit clean memcmp... yes
checking for vprintf... yes
checking for strstr... yes
checking for strtod... yes
checking for strtol... yes
checking for drand48... yes
checking for gettimeofday... yes
checking whether byte ordering is bigendian... no
checking for memory.h... yes
checking for ANSI C header files... (cached) yes
checking for gcc option to accept ANSI C...
checking for function prototypes... yes
checking for working const... (cached) yes
checking for complex.h... yes
checking for malloc.h... no
checking for varargs.h... no
checking for size_t... yes
checking for working const... (cached) yes
checking whether byte ordering is bigendian... (cached) no
checking for u_int
computing machine epsilon(s)
gcc -o macheps ./src/meschach/dmacheps.c
./src/meschach/dmacheps.c:36:1: warning: type specifier missing, defaults
to 'int' [-Wimplicit-int]
main()
^~~~
1 warning generated.
gcc -o macheps ./src/meschach/fmacheps.c
./src/meschach/fmacheps.c:36:1: warning: type specifier missing, defaults
to 'int' [-Wimplicit-int]
main()
^~~~
1 warning generated.
computing M_MAX_INT
gcc -o maxint maxint.c
./src/meschach/maxint.c:28:1: warning: type specifier missing, defaults to
'int' [-Wimplicit-int]
main()
^~~~
1 warning generated.
checking char \0 vs. float zeros
checking for bcopy... yes
checking for bzero... yes
checking for function prototypes
checking for function prototypes in structures
updating cache ./config.cache
creating ./config.status
creating makefile
sed: ./makefile.in: No such file or directory
creating src/config.h
creating src/machine.h
** libs
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c block.c -o block.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c chfactor.c -o chfactor.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c copy.c -o copy.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c data.c -o data.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c direct.c -o direct.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c err.c -o err.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c fit.c -o fit.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c gcdist.c -o gcdist.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c getest.c -o getest.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c gls.c -o gls.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c glvars.c -o glvars.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c hsehldr.c -o hsehldr.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c init.c -o init.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c ivecop.c -o ivecop.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c lex.c -o lex.o
lex.l:352:7: warning: 'tmpnam' is deprecated: This function is provided
for compatibility reasons only.  Due to security concerns inherent in the
design of tmpnam(3), it is highly recommended that you use mkstemp(3)
instead. [-Wdeprecated-declarations]
        fn = tmpnam(NULL);
             ^
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Develo
per/SDKs/MacOSX10.10.sdk/usr/include/stdio.h:276:7: note: 'tmpnam' has
been explicitly marked deprecated here
char    *tmpnam(char *);
         ^
1 warning generated.
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c lm.c -o lm.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c lufactor.c -o lufactor.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c machine.c -o machine.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c mapio.c -o mapio.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c matop.c -o matop.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c meminfo.c -o meminfo.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c memory.c -o memory.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c msim.c -o msim.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c norm.c -o norm.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c nsearch.c -o nsearch.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c parse.c -o parse.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c polygon.c -o polygon.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c pqueue.c -o pqueue.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c predict.c -o predict.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c pxop.c -o pxop.o
pxop.c:279:22: warning: passing 'u_int *' (aka 'unsigned int *') to
parameter of type 'int *' converts between pointers to integer types with
different sign [-Wpointer-sign]
        numtransp = myqsort(px2->pe,px2->size);
                            ^~~~~~~
1 warning generated.
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c qrfactor.c -o qrfactor.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c random.c -o random.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c read.c -o read.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c reml.c -o reml.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c s.c -o s.o
s.c:89:19: warning: unused variable 'VarName' [-Wunused-const-variable]
static const char VarName[] = "(R Data)";
                  ^
1 warning generated.
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c select.c -o select.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c sem.c -o sem.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c sim.c -o sim.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c solve.c -o solve.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c sparse.c -o sparse.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c sprow.c -o sprow.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c stat.c -o stat.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c submat.c -o submat.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c userio.c -o userio.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c utils.c -o utils.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c vario.c -o vario.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c vario_fn.c -o vario_fn.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c vario_io.c -o vario_io.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c vecop.c -o vecop.o
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
-I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
-fPIC  -Wall -mtune=core2 -g -O2  -c version.c -o version.o
clang -dynamiclib -Wl,-headerpad_max_install_names -undefined
dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib
-o gstat.so block.o chfactor.o copy.o data.o direct.o err.o fit.o gcdist.o
getest.o gls.o glvars.o hsehldr.o init.o ivecop.o lex.o lm.o lufactor.o
machine.o mapio.o matop.o meminfo.o memory.o msim.o norm.o nsearch.o
parse.o polygon.o pqueue.o predict.o pxop.o qrfactor.o random.o read.o
reml.o s.o select.o sem.o sim.o solve.o sparse.o sprow.o stat.o submat.o
userio.o utils.o vario.o vario_fn.o vario_io.o vecop.o version.o
-F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework
-Wl,CoreFoundation
installing to /Users/vis010/Library/R/3.1/library/gstat/libs
** R
** data
** demo
** inst
** preparing package for lazy loading
Error in dyn.load(file, DLLpath = DLLpath, ...) :
  unable to load shared object
'/Users/vis010/Library/R/3.1/library/xts/libs/xts.so':
  dlopen(/Users/vis010/Library/R/3.1/library/xts/libs/xts.so, 6): Library
not loaded: 
/Library/Frameworks/R.framework/Versions/3.1/Resources/lib/libgfortran.2.dy
lib
  Referenced from: /Users/vis010/Library/R/3.1/library/xts/libs/xts.so
  Reason: image not found
ERROR: lazy loading failed for package ?gstat?
* removing ?/Users/vis010/Library/R/3.1/library/gstat?
* restoring previous ?/Users/vis010/Library/R/3.1/library/gstat?

The downloaded source packages are in
	?/private/var/folders/zk/jzsww5w169g2zbl5hp260575y_7z7l/T/RtmpwsAqM6/downl
oaded_packages?
Warning message:
In install.packages("gstat", type = "source") :
  installation of package ?gstat? had non-zero exit status






From ripley at stats.ox.ac.uk  Wed Oct 29 10:23:14 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 29 Oct 2014 09:23:14 +0000
Subject: [R-SIG-Mac] problems installing gstat
In-Reply-To: <D076EEFF.4D81%Raphael.Viscarra-Rossel@csiro.au>
References: <D076EEFF.4D81%Raphael.Viscarra-Rossel@csiro.au>
Message-ID: <5450B202.9090201@stats.ox.ac.uk>

On 29/10/2014 08:31, Raphael.Viscarra-Rossel at csiro.au wrote:
> Hello
>
> I am wondering if anyone else is having problems installing gstat in R
> 3.1.1 on yosemite (and also mavericks)?
>
> I looked for similar problems on the web but found very little on this.

You need to do this at the OS command line and look at the log, but 
something is wrong with your compiler installation.

If you upgraded to Yosemite, did you re-install the Xcode command-line 
tools (which the upgrade is prone to partially remove)?  See the manual: 
http://cran.r-project.org/doc/manuals/r-patched/R-admin.html#OS-X .

If that has been done, try in a Terminal

curl -O http://cran.csiro.au/src/contrib/gstat_1.0-19.tar.gz
tar xf gstat_1.0-19.tar.gz
R CMD INSTALL gstat

and look at gstat/config.log .  (This assumes you have the dependencies 
installed, but that seems to be the case.)

Note to the gstat maintainer: you should not be checking for gcc.  From 
'Writing R Extensions'

CC=`"${R_HOME}/bin/R" CMD config CC`
CFLAGS=`"${R_HOME}/bin/R" CMD config CFLAGS`
CPPFLAGS=`"${R_HOME}/bin/R" CMD config CPPFLAGS`

should be added early in configure.in .  OS X usually does have a 'gcc' 
command, but it is really clang, and 'gcc' is not correct on other OSes.

>
> sessionInfo and errors below.
>
> Help?. please?
>
> Raphael.
>
>
>> sessionInfo()
> R version 3.1.1 (2014-07-10)
> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>
> locale:
> [1] en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_3.1.1
>
>
>
>> install.packages('gstat',type="source", repos='http://cran.csiro.au/')
> Installing package into ?/Users/vis010/Library/R/3.1/library?
> (as ?lib? is unspecified)
> trying URL 'http://cran.csiro.au/src/contrib/gstat_1.0-19.tar.gz'
> Content type 'application/x-gzip' length 2045717 bytes (2.0 Mb)
> opened URL
> ==================================================
> downloaded 2.0 Mb
>
> * installing *source* package ?gstat? ...
> ** package ?gstat? successfully unpacked and MD5 sums checked
> creating cache ./config.cache
> checking for gcc... gcc
> checking whether the C compiler (gcc  ) works... no
> configure: error: installation or configuration problem: C compiler cannot
> create executables.
> ERROR: configuration failed for package ?gstat?
> * removing ?/Users/vis010/Library/R/3.1/library/gstat?
> * restoring previous ?/Users/vis010/Library/R/3.1/library/gstat?
>
> The downloaded source packages are in
> 	?/private/var/folders/zk/jzsww5w169g2zbl5hp260575y_7z7l/T/RtmpwsAqM6/downl
> oaded_packages?
> Warning message:
> In install.packages("gstat", type = "source", repos =
> "http://cran.csiro.au/") :
>    installation of package ?gstat? had non-zero exit status
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK


From ripley at stats.ox.ac.uk  Wed Oct 29 10:33:23 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 29 Oct 2014 09:33:23 +0000
Subject: [R-SIG-Mac] problems installing gstat
In-Reply-To: <D076FA5D.4D97%Raphael.Viscarra-Rossel@csiro.au>
References: <D076FA5D.4D97%Raphael.Viscarra-Rossel@csiro.au>
Message-ID: <5450B463.5010106@stats.ox.ac.uk>

Come on, that's not the error you posted about a few minutes ago.

This time you are using the wrong build of xts, one built for Snow 
Leopard it seems using an earlier version of gfortran.

You need to use either the Snow Leopard or Mavericks CRAN distribution 
of R, and install all your packages under just that build.  You cannot 
mix-n-match.


On 29/10/2014 09:12, Raphael.Viscarra-Rossel at csiro.au wrote:
> Hello
>
> I am wondering if anyone else is having problems installing gstat in R
> 3.1.1 on yosemite (and also mavericks)?
>
> I looked for similar problems on the web but found very little on this.
>
> I also installed XCODE and then tried installing form source but then
> other errors.
>
> sessionInfo and errors below.
>
> Help?. please?
>
> Raphael.
>
>
>> sessionInfo()
> R version 3.1.1 (2014-07-10)
> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>
> locale:
> [1] en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_3.1.1
>
>
> ##### BEFORE INSTALLING XCODE
>
>> install.packages('gstat',type="source", repos='http://cran.csiro.au/')
> Installing package into ?/Users/vis010/Library/R/3.1/library?
> (as ?lib? is unspecified)
> trying URL 'http://cran.csiro.au/src/contrib/gstat_1.0-19.tar.gz'
> Content type 'application/x-gzip' length 2045717 bytes (2.0 Mb)
> opened URL
> ==================================================
> downloaded 2.0 Mb
>
> * installing *source* package ?gstat? ...
> ** package ?gstat? successfully unpacked and MD5 sums checked
> creating cache ./config.cache
> checking for gcc... gcc
> checking whether the C compiler (gcc  ) works... no
> configure: error: installation or configuration problem: C compiler cannot
> create executables.
> ERROR: configuration failed for package ?gstat?
> * removing ?/Users/vis010/Library/R/3.1/library/gstat?
> * restoring previous ?/Users/vis010/Library/R/3.1/library/gstat?
>
> The downloaded source packages are in
> 	?/private/var/folders/zk/jzsww5w169g2zbl5hp260575y_7z7l/T/RtmpwsAqM6/downl
> oaded_packages?
> Warning message:
> In install.packages("gstat", type = "source", repos =
> "http://cran.csiro.au/") :
>    installation of package ?gstat? had non-zero exit status
>
>
> ###### AFTER INSTALLING XCODE
> Installing package into ?/Users/vis010/Library/R/3.1/library?
> (as ?lib? is unspecified)
> trying URL 'http://cran.csiro.au/src/contrib/gstat_1.0-19.tar.gz'
> Content type 'application/x-gzip' length 2045717 bytes (2.0 Mb)
> opened URL
> ==================================================
> downloaded 2.0 Mb
>
> * installing *source* package ?gstat? ...
> ** package ?gstat? successfully unpacked and MD5 sums checked
> creating cache ./config.cache
> checking for gcc... gcc
> checking whether the C compiler (gcc  ) works... yes
> checking whether the C compiler (gcc  ) is a cross-compiler... no
> checking whether we are using GNU C... yes
> checking whether gcc accepts -g... yes
> checking how to run the C preprocessor... gcc -E
> checking for AIX... no
> checking for minix/config.h... no
> checking for POSIXized ISC... no
> checking for ANSI C header files... yes
> checking for working const... yes
> checking whether time.h and sys/time.h may both be included... yes
> checking for 8-bit clean memcmp... yes
> checking for vprintf... yes
> checking for strstr... yes
> checking for strtod... yes
> checking for strtol... yes
> checking for drand48... yes
> checking for gettimeofday... yes
> checking whether byte ordering is bigendian... no
> checking for memory.h... yes
> checking for ANSI C header files... (cached) yes
> checking for gcc option to accept ANSI C...
> checking for function prototypes... yes
> checking for working const... (cached) yes
> checking for complex.h... yes
> checking for malloc.h... no
> checking for varargs.h... no
> checking for size_t... yes
> checking for working const... (cached) yes
> checking whether byte ordering is bigendian... (cached) no
> checking for u_int
> computing machine epsilon(s)
> gcc -o macheps ./src/meschach/dmacheps.c
> ./src/meschach/dmacheps.c:36:1: warning: type specifier missing, defaults
> to 'int' [-Wimplicit-int]
> main()
> ^~~~
> 1 warning generated.
> gcc -o macheps ./src/meschach/fmacheps.c
> ./src/meschach/fmacheps.c:36:1: warning: type specifier missing, defaults
> to 'int' [-Wimplicit-int]
> main()
> ^~~~
> 1 warning generated.
> computing M_MAX_INT
> gcc -o maxint maxint.c
> ./src/meschach/maxint.c:28:1: warning: type specifier missing, defaults to
> 'int' [-Wimplicit-int]
> main()
> ^~~~
> 1 warning generated.
> checking char \0 vs. float zeros
> checking for bcopy... yes
> checking for bzero... yes
> checking for function prototypes
> checking for function prototypes in structures
> updating cache ./config.cache
> creating ./config.status
> creating makefile
> sed: ./makefile.in: No such file or directory
> creating src/config.h
> creating src/machine.h
> ** libs
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c block.c -o block.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c chfactor.c -o chfactor.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c copy.c -o copy.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c data.c -o data.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c direct.c -o direct.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c err.c -o err.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c fit.c -o fit.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c gcdist.c -o gcdist.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c getest.c -o getest.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c gls.c -o gls.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c glvars.c -o glvars.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c hsehldr.c -o hsehldr.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c init.c -o init.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c ivecop.c -o ivecop.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c lex.c -o lex.o
> lex.l:352:7: warning: 'tmpnam' is deprecated: This function is provided
> for compatibility reasons only.  Due to security concerns inherent in the
> design of tmpnam(3), it is highly recommended that you use mkstemp(3)
> instead. [-Wdeprecated-declarations]
>          fn = tmpnam(NULL);
>               ^
> /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Develo
> per/SDKs/MacOSX10.10.sdk/usr/include/stdio.h:276:7: note: 'tmpnam' has
> been explicitly marked deprecated here
> char    *tmpnam(char *);
>           ^
> 1 warning generated.
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c lm.c -o lm.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c lufactor.c -o lufactor.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c machine.c -o machine.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c mapio.c -o mapio.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c matop.c -o matop.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c meminfo.c -o meminfo.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c memory.c -o memory.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c msim.c -o msim.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c norm.c -o norm.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c nsearch.c -o nsearch.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c parse.c -o parse.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c polygon.c -o polygon.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c pqueue.c -o pqueue.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c predict.c -o predict.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c pxop.c -o pxop.o
> pxop.c:279:22: warning: passing 'u_int *' (aka 'unsigned int *') to
> parameter of type 'int *' converts between pointers to integer types with
> different sign [-Wpointer-sign]
>          numtransp = myqsort(px2->pe,px2->size);
>                              ^~~~~~~
> 1 warning generated.
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c qrfactor.c -o qrfactor.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c random.c -o random.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c read.c -o read.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c reml.c -o reml.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c s.c -o s.o
> s.c:89:19: warning: unused variable 'VarName' [-Wunused-const-variable]
> static const char VarName[] = "(R Data)";
>                    ^
> 1 warning generated.
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c select.c -o select.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c sem.c -o sem.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c sim.c -o sim.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c solve.c -o solve.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c sparse.c -o sparse.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c sprow.c -o sprow.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c stat.c -o stat.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c submat.c -o submat.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c userio.c -o userio.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c utils.c -o utils.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c vario.c -o vario.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c vario_fn.c -o vario_fn.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c vario_io.c -o vario_io.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c vecop.c -o vecop.o
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
> -fPIC  -Wall -mtune=core2 -g -O2  -c version.c -o version.o
> clang -dynamiclib -Wl,-headerpad_max_install_names -undefined
> dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib
> -o gstat.so block.o chfactor.o copy.o data.o direct.o err.o fit.o gcdist.o
> getest.o gls.o glvars.o hsehldr.o init.o ivecop.o lex.o lm.o lufactor.o
> machine.o mapio.o matop.o meminfo.o memory.o msim.o norm.o nsearch.o
> parse.o polygon.o pqueue.o predict.o pxop.o qrfactor.o random.o read.o
> reml.o s.o select.o sem.o sim.o solve.o sparse.o sprow.o stat.o submat.o
> userio.o utils.o vario.o vario_fn.o vario_io.o vecop.o version.o
> -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework
> -Wl,CoreFoundation
> installing to /Users/vis010/Library/R/3.1/library/gstat/libs
> ** R
> ** data
> ** demo
> ** inst
> ** preparing package for lazy loading
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>    unable to load shared object
> '/Users/vis010/Library/R/3.1/library/xts/libs/xts.so':
>    dlopen(/Users/vis010/Library/R/3.1/library/xts/libs/xts.so, 6): Library
> not loaded:
> /Library/Frameworks/R.framework/Versions/3.1/Resources/lib/libgfortran.2.dy
> lib
>    Referenced from: /Users/vis010/Library/R/3.1/library/xts/libs/xts.so
>    Reason: image not found
> ERROR: lazy loading failed for package ?gstat?
> * removing ?/Users/vis010/Library/R/3.1/library/gstat?
> * restoring previous ?/Users/vis010/Library/R/3.1/library/gstat?
>
> The downloaded source packages are in
> 	?/private/var/folders/zk/jzsww5w169g2zbl5hp260575y_7z7l/T/RtmpwsAqM6/downl
> oaded_packages?
> Warning message:
> In install.packages("gstat", type = "source") :
>    installation of package ?gstat? had non-zero exit status
>
>
>
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK


From Raphael.Viscarra-Rossel at csiro.au  Wed Oct 29 10:49:28 2014
From: Raphael.Viscarra-Rossel at csiro.au (Raphael.Viscarra-Rossel at csiro.au)
Date: Wed, 29 Oct 2014 09:49:28 +0000
Subject: [R-SIG-Mac] problems installing gstat
In-Reply-To: <5450B463.5010106@stats.ox.ac.uk>
Message-ID: <D07702F3.4DAD%Raphael.Viscarra-Rossel@csiro.au>

Dear Brian,
I am sorry for the confusion - I was trying everything and so the
mix-nmatch. My bad.

Thank you for your help though. Your suggestion worked and I now have
gstat installed.
Have not used it yet, but at least the library loaded fine.

Cheers!
Raphael.




On 29/10/2014 8:33 pm, "Prof Brian Ripley" <ripley at stats.ox.ac.uk> wrote:

>Come on, that's not the error you posted about a few minutes ago.
>
>This time you are using the wrong build of xts, one built for Snow
>Leopard it seems using an earlier version of gfortran.
>
>You need to use either the Snow Leopard or Mavericks CRAN distribution
>of R, and install all your packages under just that build.  You cannot
>mix-n-match.
>
>
>On 29/10/2014 09:12, Raphael.Viscarra-Rossel at csiro.au wrote:
>> Hello
>>
>> I am wondering if anyone else is having problems installing gstat in R
>> 3.1.1 on yosemite (and also mavericks)?
>>
>> I looked for similar problems on the web but found very little on this.
>>
>> I also installed XCODE and then tried installing form source but then
>> other errors.
>>
>> sessionInfo and errors below.
>>
>> Help?. please?
>>
>> Raphael.
>>
>>
>>> sessionInfo()
>> R version 3.1.1 (2014-07-10)
>> Platform: x86_64-apple-darwin13.1.0 (64-bit)
>>
>> locale:
>> [1] en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> loaded via a namespace (and not attached):
>> [1] tools_3.1.1
>>
>>
>> ##### BEFORE INSTALLING XCODE
>>
>>> install.packages('gstat',type="source", repos='http://cran.csiro.au/')
>> Installing package into ?/Users/vis010/Library/R/3.1/library?
>> (as ?lib? is unspecified)
>> trying URL 'http://cran.csiro.au/src/contrib/gstat_1.0-19.tar.gz'
>> Content type 'application/x-gzip' length 2045717 bytes (2.0 Mb)
>> opened URL
>> ==================================================
>> downloaded 2.0 Mb
>>
>> * installing *source* package ?gstat? ...
>> ** package ?gstat? successfully unpacked and MD5 sums checked
>> creating cache ./config.cache
>> checking for gcc... gcc
>> checking whether the C compiler (gcc  ) works... no
>> configure: error: installation or configuration problem: C compiler
>>cannot
>> create executables.
>> ERROR: configuration failed for package ?gstat?
>> * removing ?/Users/vis010/Library/R/3.1/library/gstat?
>> * restoring previous ?/Users/vis010/Library/R/3.1/library/gstat?
>>
>> The downloaded source packages are in
>> 
>>	?/private/var/folders/zk/jzsww5w169g2zbl5hp260575y_7z7l/T/RtmpwsAqM6/dow
>>nl
>> oaded_packages?
>> Warning message:
>> In install.packages("gstat", type = "source", repos =
>> "http://cran.csiro.au/") :
>>    installation of package ?gstat? had non-zero exit status
>>
>>
>> ###### AFTER INSTALLING XCODE
>> Installing package into ?/Users/vis010/Library/R/3.1/library?
>> (as ?lib? is unspecified)
>> trying URL 'http://cran.csiro.au/src/contrib/gstat_1.0-19.tar.gz'
>> Content type 'application/x-gzip' length 2045717 bytes (2.0 Mb)
>> opened URL
>> ==================================================
>> downloaded 2.0 Mb
>>
>> * installing *source* package ?gstat? ...
>> ** package ?gstat? successfully unpacked and MD5 sums checked
>> creating cache ./config.cache
>> checking for gcc... gcc
>> checking whether the C compiler (gcc  ) works... yes
>> checking whether the C compiler (gcc  ) is a cross-compiler... no
>> checking whether we are using GNU C... yes
>> checking whether gcc accepts -g... yes
>> checking how to run the C preprocessor... gcc -E
>> checking for AIX... no
>> checking for minix/config.h... no
>> checking for POSIXized ISC... no
>> checking for ANSI C header files... yes
>> checking for working const... yes
>> checking whether time.h and sys/time.h may both be included... yes
>> checking for 8-bit clean memcmp... yes
>> checking for vprintf... yes
>> checking for strstr... yes
>> checking for strtod... yes
>> checking for strtol... yes
>> checking for drand48... yes
>> checking for gettimeofday... yes
>> checking whether byte ordering is bigendian... no
>> checking for memory.h... yes
>> checking for ANSI C header files... (cached) yes
>> checking for gcc option to accept ANSI C...
>> checking for function prototypes... yes
>> checking for working const... (cached) yes
>> checking for complex.h... yes
>> checking for malloc.h... no
>> checking for varargs.h... no
>> checking for size_t... yes
>> checking for working const... (cached) yes
>> checking whether byte ordering is bigendian... (cached) no
>> checking for u_int
>> computing machine epsilon(s)
>> gcc -o macheps ./src/meschach/dmacheps.c
>> ./src/meschach/dmacheps.c:36:1: warning: type specifier missing,
>>defaults
>> to 'int' [-Wimplicit-int]
>> main()
>> ^~~~
>> 1 warning generated.
>> gcc -o macheps ./src/meschach/fmacheps.c
>> ./src/meschach/fmacheps.c:36:1: warning: type specifier missing,
>>defaults
>> to 'int' [-Wimplicit-int]
>> main()
>> ^~~~
>> 1 warning generated.
>> computing M_MAX_INT
>> gcc -o maxint maxint.c
>> ./src/meschach/maxint.c:28:1: warning: type specifier missing, defaults
>>to
>> 'int' [-Wimplicit-int]
>> main()
>> ^~~~
>> 1 warning generated.
>> checking char \0 vs. float zeros
>> checking for bcopy... yes
>> checking for bzero... yes
>> checking for function prototypes
>> checking for function prototypes in structures
>> updating cache ./config.cache
>> creating ./config.status
>> creating makefile
>> sed: ./makefile.in: No such file or directory
>> creating src/config.h
>> creating src/machine.h
>> ** libs
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c block.c -o block.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c chfactor.c -o chfactor.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c copy.c -o copy.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c data.c -o data.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c direct.c -o direct.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c err.c -o err.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c fit.c -o fit.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c gcdist.c -o gcdist.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c getest.c -o getest.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c gls.c -o gls.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c glvars.c -o glvars.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c hsehldr.c -o hsehldr.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c init.c -o init.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c ivecop.c -o ivecop.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c lex.c -o lex.o
>> lex.l:352:7: warning: 'tmpnam' is deprecated: This function is provided
>> for compatibility reasons only.  Due to security concerns inherent in
>>the
>> design of tmpnam(3), it is highly recommended that you use mkstemp(3)
>> instead. [-Wdeprecated-declarations]
>>          fn = tmpnam(NULL);
>>               ^
>> 
>>/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Deve
>>lo
>> per/SDKs/MacOSX10.10.sdk/usr/include/stdio.h:276:7: note: 'tmpnam' has
>> been explicitly marked deprecated here
>> char    *tmpnam(char *);
>>           ^
>> 1 warning generated.
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c lm.c -o lm.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c lufactor.c -o lufactor.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c machine.c -o machine.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c mapio.c -o mapio.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c matop.c -o matop.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c meminfo.c -o meminfo.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c memory.c -o memory.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c msim.c -o msim.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c norm.c -o norm.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c nsearch.c -o nsearch.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c parse.c -o parse.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c polygon.c -o polygon.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c pqueue.c -o pqueue.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c predict.c -o predict.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c pxop.c -o pxop.o
>> pxop.c:279:22: warning: passing 'u_int *' (aka 'unsigned int *') to
>> parameter of type 'int *' converts between pointers to integer types
>>with
>> different sign [-Wpointer-sign]
>>          numtransp = myqsort(px2->pe,px2->size);
>>                              ^~~~~~~
>> 1 warning generated.
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c qrfactor.c -o qrfactor.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c random.c -o random.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c read.c -o read.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c reml.c -o reml.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c s.c -o s.o
>> s.c:89:19: warning: unused variable 'VarName' [-Wunused-const-variable]
>> static const char VarName[] = "(R Data)";
>>                    ^
>> 1 warning generated.
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c select.c -o select.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c sem.c -o sem.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c sim.c -o sim.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c solve.c -o solve.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c sparse.c -o sparse.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c sprow.c -o sprow.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c stat.c -o stat.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c submat.c -o submat.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c userio.c -o userio.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c utils.c -o utils.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c vario.c -o vario.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c vario_fn.c -o vario_fn.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c vario_io.c -o vario_io.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c vecop.c -o vecop.o
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG
>> -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include
>> -fPIC  -Wall -mtune=core2 -g -O2  -c version.c -o version.o
>> clang -dynamiclib -Wl,-headerpad_max_install_names -undefined
>> dynamic_lookup -single_module -multiply_defined suppress
>>-L/usr/local/lib
>> -o gstat.so block.o chfactor.o copy.o data.o direct.o err.o fit.o
>>gcdist.o
>> getest.o gls.o glvars.o hsehldr.o init.o ivecop.o lex.o lm.o lufactor.o
>> machine.o mapio.o matop.o meminfo.o memory.o msim.o norm.o nsearch.o
>> parse.o polygon.o pqueue.o predict.o pxop.o qrfactor.o random.o read.o
>> reml.o s.o select.o sem.o sim.o solve.o sparse.o sprow.o stat.o submat.o
>> userio.o utils.o vario.o vario_fn.o vario_io.o vecop.o version.o
>> -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework
>> -Wl,CoreFoundation
>> installing to /Users/vis010/Library/R/3.1/library/gstat/libs
>> ** R
>> ** data
>> ** demo
>> ** inst
>> ** preparing package for lazy loading
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>    unable to load shared object
>> '/Users/vis010/Library/R/3.1/library/xts/libs/xts.so':
>>    dlopen(/Users/vis010/Library/R/3.1/library/xts/libs/xts.so, 6):
>>Library
>> not loaded:
>> 
>>/Library/Frameworks/R.framework/Versions/3.1/Resources/lib/libgfortran.2.
>>dy
>> lib
>>    Referenced from: /Users/vis010/Library/R/3.1/library/xts/libs/xts.so
>>    Reason: image not found
>> ERROR: lazy loading failed for package ?gstat?
>> * removing ?/Users/vis010/Library/R/3.1/library/gstat?
>> * restoring previous ?/Users/vis010/Library/R/3.1/library/gstat?
>>
>> The downloaded source packages are in
>> 
>>	?/private/var/folders/zk/jzsww5w169g2zbl5hp260575y_7z7l/T/RtmpwsAqM6/dow
>>nl
>> oaded_packages?
>> Warning message:
>> In install.packages("gstat", type = "source") :
>>    installation of package ?gstat? had non-zero exit status
>>
>>
>>
>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
>
>-- 
>Brian D. Ripley,                  ripley at stats.ox.ac.uk
>Emeritus Professor of Applied Statistics, University of Oxford
>1 South Parks Road, Oxford OX1 3TG, UK


From gcr at wisdomandwonder.com  Wed Oct 29 14:57:16 2014
From: gcr at wisdomandwonder.com (Grant Rettke)
Date: Wed, 29 Oct 2014 08:57:16 -0500
Subject: [R-SIG-Mac] Command Line Quartz Device in Yosemite
In-Reply-To: <AAC0F9A8-B77B-4A3C-9364-20E3AC0E05F3@colinsmith.org>
References: <AAC0F9A8-B77B-4A3C-9364-20E3AC0E05F3@colinsmith.org>
Message-ID: <CAAjq1mfVtR+PqVZvnQhPjWM6Nu0QX5ZVxiyUoa1xud+ZsmFbVA@mail.gmail.com>

On Tue, Oct 28, 2014 at 5:33 PM, Colin A. Smith <colin at colinsmith.org> wrote:

> First, it seems that under Yosemite, the default device is now x11 instead of quartz.

Just curious, why do you prefer the quartz device over the x11 device on OSX?

Starting out with quartz, I got a lot of crashes with R from homebrew
(15 times in a row using base plotting) and when I switched to x11 the
crashes stopped.


From csardi.gabor at gmail.com  Wed Oct 29 15:10:03 2014
From: csardi.gabor at gmail.com (=?UTF-8?B?R8OhYm9yIENzw6FyZGk=?=)
Date: Wed, 29 Oct 2014 10:10:03 -0400
Subject: [R-SIG-Mac] Command Line Quartz Device in Yosemite
In-Reply-To: <CAAjq1mfVtR+PqVZvnQhPjWM6Nu0QX5ZVxiyUoa1xud+ZsmFbVA@mail.gmail.com>
References: <AAC0F9A8-B77B-4A3C-9364-20E3AC0E05F3@colinsmith.org>
	<CAAjq1mfVtR+PqVZvnQhPjWM6Nu0QX5ZVxiyUoa1xud+ZsmFbVA@mail.gmail.com>
Message-ID: <CABtg=Km8GyxpoP9LK6G1Q9zAZ7S-VjzOW4_c5qBvi6RES47s_Q@mail.gmail.com>

On Wed, Oct 29, 2014 at 9:57 AM, Grant Rettke <gcr at wisdomandwonder.com> wrote:
> On Tue, Oct 28, 2014 at 5:33 PM, Colin A. Smith <colin at colinsmith.org> wrote:
>
>> First, it seems that under Yosemite, the default device is now x11 instead of quartz.
>
> Just curious, why do you prefer the quartz device over the x11 device on OSX?
>
> Starting out with quartz, I got a lot of crashes with R from homebrew
> (15 times in a row using base plotting) and when I switched to x11 the
> crashes stopped.

That's probably just your system or homebrew R. I have been using
quartz as a default device on various machines and OSX versions for
many years now, and never had a single crash.

As for the reason, the quartz device looks *much* nicer  than the x11
device, probably because of the (better) anti-aliasing. Also, you do
not need to run an X server to use it.

Gabor

>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From gcr at wisdomandwonder.com  Wed Oct 29 16:05:10 2014
From: gcr at wisdomandwonder.com (Grant Rettke)
Date: Wed, 29 Oct 2014 10:05:10 -0500
Subject: [R-SIG-Mac] Command Line Quartz Device in Yosemite
In-Reply-To: <CABtg=Km8GyxpoP9LK6G1Q9zAZ7S-VjzOW4_c5qBvi6RES47s_Q@mail.gmail.com>
References: <AAC0F9A8-B77B-4A3C-9364-20E3AC0E05F3@colinsmith.org>
	<CAAjq1mfVtR+PqVZvnQhPjWM6Nu0QX5ZVxiyUoa1xud+ZsmFbVA@mail.gmail.com>
	<CABtg=Km8GyxpoP9LK6G1Q9zAZ7S-VjzOW4_c5qBvi6RES47s_Q@mail.gmail.com>
Message-ID: <CAAjq1mcwcWnSw2ObkUtVSSBzaPD_g+mRDAK12ug3npZrfQO3WQ@mail.gmail.com>

Thanks for the feedback folks.

On Wed, Oct 29, 2014 at 9:10 AM, G?bor Cs?rdi <csardi.gabor at gmail.com> wrote:
> On Wed, Oct 29, 2014 at 9:57 AM, Grant Rettke <gcr at wisdomandwonder.com> wrote:
>> On Tue, Oct 28, 2014 at 5:33 PM, Colin A. Smith <colin at colinsmith.org> wrote:
>>
>>> First, it seems that under Yosemite, the default device is now x11 instead of quartz.
>>
>> Just curious, why do you prefer the quartz device over the x11 device on OSX?
>>
>> Starting out with quartz, I got a lot of crashes with R from homebrew
>> (15 times in a row using base plotting) and when I switched to x11 the
>> crashes stopped.
>
> That's probably just your system or homebrew R. I have been using
> quartz as a default device on various machines and OSX versions for
> many years now, and never had a single crash.
>
> As for the reason, the quartz device looks *much* nicer  than the x11
> device, probably because of the (better) anti-aliasing. Also, you do
> not need to run an X server to use it.
>
> Gabor
>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac



-- 
Grant Rettke
gcr at wisdomandwonder.com | http://www.wisdomandwonder.com/
?Wisdom begins in wonder.? --Socrates
((? (x) (x x)) (? (x) (x x)))
?Life has become immeasurably better since I have been forced to stop
taking it seriously.? --Thompson


From ripley at stats.ox.ac.uk  Wed Oct 29 17:27:06 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 29 Oct 2014 16:27:06 +0000
Subject: [R-SIG-Mac] Command Line Quartz Device in Yosemite
In-Reply-To: <CABtg=Km8GyxpoP9LK6G1Q9zAZ7S-VjzOW4_c5qBvi6RES47s_Q@mail.gmail.com>
References: <AAC0F9A8-B77B-4A3C-9364-20E3AC0E05F3@colinsmith.org>	<CAAjq1mfVtR+PqVZvnQhPjWM6Nu0QX5ZVxiyUoa1xud+ZsmFbVA@mail.gmail.com>
	<CABtg=Km8GyxpoP9LK6G1Q9zAZ7S-VjzOW4_c5qBvi6RES47s_Q@mail.gmail.com>
Message-ID: <5451155A.7000104@stats.ox.ac.uk>

On 29/10/2014 14:10, G?bor Cs?rdi wrote:
> On Wed, Oct 29, 2014 at 9:57 AM, Grant Rettke <gcr at wisdomandwonder.com> wrote:
>> On Tue, Oct 28, 2014 at 5:33 PM, Colin A. Smith <colin at colinsmith.org> wrote:
>>
>>> First, it seems that under Yosemite, the default device is now x11 instead of quartz.
>>
>> Just curious, why do you prefer the quartz device over the x11 device on OSX?
>>
>> Starting out with quartz, I got a lot of crashes with R from homebrew
>> (15 times in a row using base plotting) and when I switched to x11 the
>> crashes stopped.

Note that the quartz device uses Apple technology and expects the Apple 
compilers to be used: 'homebrew' may not do so (we have seen crashes 
from attempting to use other Objective-C compilers).

> That's probably just your system or homebrew R. I have been using
> quartz as a default device on various machines and OSX versions for
> many years now, and never had a single crash.
>
> As for the reason, the quartz device looks *much* nicer  than the x11
> device, probably because of the (better) anti-aliasing. Also, you do
> not need to run an X server to use it.

I think it is more accurate to say that it looks much better than the 
*default* X11 device on OS X.  This is because the nicer device based on 
cairographics (which is the default everywhere else) is not the default 
for a standard build on OS X, and that is turn is because of historical 
problems[*] with fonts in cairographics on OS X.

If you sidestep OS X and install a different implementation of 
cairographics and different font handling libraries (and their fonts) 
you can get better results.

[*] Many still seem to be present: for example font-handling is very 
slow (especially when the device is first used), and font anti-aliasing 
is poor compared to X11() on Linux even from 2007.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK


From edzer.pebesma at uni-muenster.de  Wed Oct 29 13:22:14 2014
From: edzer.pebesma at uni-muenster.de (Edzer Pebesma)
Date: Wed, 29 Oct 2014 13:22:14 +0100
Subject: [R-SIG-Mac] problems installing gstat
In-Reply-To: <5450B202.9090201@stats.ox.ac.uk>
References: <D076EEFF.4D81%Raphael.Viscarra-Rossel@csiro.au>
	<5450B202.9090201@stats.ox.ac.uk>
Message-ID: <5450DBF6.2010903@uni-muenster.de>



On 10/29/2014 10:23 AM, Prof Brian Ripley wrote:
> 
> Note to the gstat maintainer: you should not be checking for gcc.  From
> 'Writing R Extensions'
> 
> CC=`"${R_HOME}/bin/R" CMD config CC`
> CFLAGS=`"${R_HOME}/bin/R" CMD config CFLAGS`
> CPPFLAGS=`"${R_HOME}/bin/R" CMD config CPPFLAGS`

Thanks, I committed this; let me know if there is any urge to submit the
next version to CRAN.
-- 
Edzer Pebesma,  Co-Editor-in-Chief Computers & Geosciences
Institute for Geoinformatics (ifgi), University of M?nster
Heisenbergstra?e 2, 48149 M?nster, Germany. Phone: +49 251
83 33081 http://ifgi.uni-muenster.de GPG key ID 0xAC227795

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 490 bytes
Desc: OpenPGP digital signature
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20141029/03a5a4fd/attachment.bin>

From colin at colinsmith.org  Fri Oct 31 10:24:50 2014
From: colin at colinsmith.org (Colin A. Smith)
Date: Fri, 31 Oct 2014 10:24:50 +0100
Subject: [R-SIG-Mac] Command Line Quartz Device in Yosemite
In-Reply-To: <AAC0F9A8-B77B-4A3C-9364-20E3AC0E05F3@colinsmith.org>
References: <AAC0F9A8-B77B-4A3C-9364-20E3AC0E05F3@colinsmith.org>
Message-ID: <2EA676EB-A049-499F-8E2D-C075B6C893D0@colinsmith.org>

This thread got a bit off the topics I was originally hoping to discuss. Can anyone running Yosemite comment on whether their default graphics device is quartz or x11?

Also, is there any hope that the patch for the quartz command line device might be considered?

Cheers,

Colin

> On Oct 28, 2014, at 23:33, Colin A. Smith <colin at colinsmith.org> wrote:
> 
> I?ve been using command line R fairly successfully under Yosemite so far and have only run into a few issues, mostly related to the quartz device.
> 
> First, it seems that under Yosemite, the default device is now x11 instead of quartz. I found this with the exact same pkg install of R that I was using in Mavericks, which defaulted to quartz. Installing the latest Mavericks build (3.1.1) results in the same behavior. Even when running "R_DEFAULT_DEVICE=quartz R?, the default device still ends up being x11. The quartz device can still be created manually with a call to quartz(). Does anyone else have this same problem?
> 
> Second, the menus for the quartz device created through the command line have gotten even stranger under Yosemite. With the current version there are actually two (!) Apple menus displayed, which looks quite odd:
> 
> https://dl.dropboxusercontent.com/u/21171664/R_Two_Apple_Menus.png
> 
> About a year ago I submitted a patch with made the command line quartz device act much more like a normal OS X application:
> 
> https://bugs.r-project.org/bugzilla3/show_bug.cgi?id=15438#c1
> 
> This patch continues to work well under Yosemite, and does not display the double Apple menu problem. However, it seems to have currently fallen off the radar. Given the even stranger behavior of the current code under Yosemite, perhaps evaluation of my patch could be given a higher priority? If it would help I can provide updated files which are drop-in replacements for the current R trunk.
> 
> Cheers,
> 
> Colin


From pdalgd at gmail.com  Fri Oct 31 11:23:00 2014
From: pdalgd at gmail.com (peter dalgaard)
Date: Fri, 31 Oct 2014 11:23:00 +0100
Subject: [R-SIG-Mac] Command Line Quartz Device in Yosemite
In-Reply-To: <2EA676EB-A049-499F-8E2D-C075B6C893D0@colinsmith.org>
References: <AAC0F9A8-B77B-4A3C-9364-20E3AC0E05F3@colinsmith.org>
	<2EA676EB-A049-499F-8E2D-C075B6C893D0@colinsmith.org>
Message-ID: <1816F17D-FF0D-4F67-A43B-32CC9D00EBE8@gmail.com>


On 31 Oct 2014, at 10:24 , Colin A. Smith <colin at colinsmith.org> wrote:

> This thread got a bit off the topics I was originally hoping to discuss. Can anyone running Yosemite comment on whether their default graphics device is quartz or x11?
> 

Local builds on my laptop switched to quartz yesterday, so there is hope that this will make it to the 3.1.2 binaries. (Good thing, I'm still getting crashes on plot(0) with x11() - a Floating Exception deep inside cairo-something). The big apple / little apple effect is still there though.


> Also, is there any hope that the patch for the quartz command line device might be considered?

Ask Simon... My guess is that he hasn't had the time to look at it properly yet.

-pd


> Cheers,
> 
> Colin
> 
>> On Oct 28, 2014, at 23:33, Colin A. Smith <colin at colinsmith.org> wrote:
>> 
>> I?ve been using command line R fairly successfully under Yosemite so far and have only run into a few issues, mostly related to the quartz device.
>> 
>> First, it seems that under Yosemite, the default device is now x11 instead of quartz. I found this with the exact same pkg install of R that I was using in Mavericks, which defaulted to quartz. Installing the latest Mavericks build (3.1.1) results in the same behavior. Even when running "R_DEFAULT_DEVICE=quartz R?, the default device still ends up being x11. The quartz device can still be created manually with a call to quartz(). Does anyone else have this same problem?
>> 
>> Second, the menus for the quartz device created through the command line have gotten even stranger under Yosemite. With the current version there are actually two (!) Apple menus displayed, which looks quite odd:
>> 
>> https://dl.dropboxusercontent.com/u/21171664/R_Two_Apple_Menus.png
>> 
>> About a year ago I submitted a patch with made the command line quartz device act much more like a normal OS X application:
>> 
>> https://bugs.r-project.org/bugzilla3/show_bug.cgi?id=15438#c1
>> 
>> This patch continues to work well under Yosemite, and does not display the double Apple menu problem. However, it seems to have currently fallen off the radar. Given the even stranger behavior of the current code under Yosemite, perhaps evaluation of my patch could be given a higher priority? If it would help I can provide updated files which are drop-in replacements for the current R trunk.
>> 
>> Cheers,
>> 
>> Colin
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From kasperdanielhansen at gmail.com  Fri Oct 31 14:53:01 2014
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Fri, 31 Oct 2014 09:53:01 -0400
Subject: [R-SIG-Mac] Command Line Quartz Device in Yosemite
In-Reply-To: <1816F17D-FF0D-4F67-A43B-32CC9D00EBE8@gmail.com>
References: <AAC0F9A8-B77B-4A3C-9364-20E3AC0E05F3@colinsmith.org>
	<2EA676EB-A049-499F-8E2D-C075B6C893D0@colinsmith.org>
	<1816F17D-FF0D-4F67-A43B-32CC9D00EBE8@gmail.com>
Message-ID: <CAC2h7uuCu=SFmi2tGBmgxX42ZhCX2qTWDLgeWrBiTSV0nTMOcw@mail.gmail.com>

I am self-compiling on Yosemite using the libraries provided by Simon. I
get quartz.

Best,
Kasper

On Fri, Oct 31, 2014 at 6:23 AM, peter dalgaard <pdalgd at gmail.com> wrote:

>
> On 31 Oct 2014, at 10:24 , Colin A. Smith <colin at colinsmith.org> wrote:
>
> > This thread got a bit off the topics I was originally hoping to discuss.
> Can anyone running Yosemite comment on whether their default graphics
> device is quartz or x11?
> >
>
> Local builds on my laptop switched to quartz yesterday, so there is hope
> that this will make it to the 3.1.2 binaries. (Good thing, I'm still
> getting crashes on plot(0) with x11() - a Floating Exception deep inside
> cairo-something). The big apple / little apple effect is still there though.
>
>
> > Also, is there any hope that the patch for the quartz command line
> device might be considered?
>
> Ask Simon... My guess is that he hasn't had the time to look at it
> properly yet.
>
> -pd
>
>
> > Cheers,
> >
> > Colin
> >
> >> On Oct 28, 2014, at 23:33, Colin A. Smith <colin at colinsmith.org> wrote:
> >>
> >> I?ve been using command line R fairly successfully under Yosemite so
> far and have only run into a few issues, mostly related to the quartz
> device.
> >>
> >> First, it seems that under Yosemite, the default device is now x11
> instead of quartz. I found this with the exact same pkg install of R that I
> was using in Mavericks, which defaulted to quartz. Installing the latest
> Mavericks build (3.1.1) results in the same behavior. Even when running
> "R_DEFAULT_DEVICE=quartz R?, the default device still ends up being x11.
> The quartz device can still be created manually with a call to quartz().
> Does anyone else have this same problem?
> >>
> >> Second, the menus for the quartz device created through the command
> line have gotten even stranger under Yosemite. With the current version
> there are actually two (!) Apple menus displayed, which looks quite odd:
> >>
> >> https://dl.dropboxusercontent.com/u/21171664/R_Two_Apple_Menus.png
> >>
> >> About a year ago I submitted a patch with made the command line quartz
> device act much more like a normal OS X application:
> >>
> >> https://bugs.r-project.org/bugzilla3/show_bug.cgi?id=15438#c1
> >>
> >> This patch continues to work well under Yosemite, and does not display
> the double Apple menu problem. However, it seems to have currently fallen
> off the radar. Given the even stranger behavior of the current code under
> Yosemite, perhaps evaluation of my patch could be given a higher priority?
> If it would help I can provide updated files which are drop-in replacements
> for the current R trunk.
> >>
> >> Cheers,
> >>
> >> Colin
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> --
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From simon.urbanek at r-project.org  Fri Oct 31 16:52:50 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 31 Oct 2014 11:52:50 -0400
Subject: [R-SIG-Mac] Command Line Quartz Device in Yosemite
In-Reply-To: <2EA676EB-A049-499F-8E2D-C075B6C893D0@colinsmith.org>
References: <AAC0F9A8-B77B-4A3C-9364-20E3AC0E05F3@colinsmith.org>
	<2EA676EB-A049-499F-8E2D-C075B6C893D0@colinsmith.org>
Message-ID: <241420EF-7FF0-458A-9489-0A6B505EC3B8@r-project.org>

On Oct 31, 2014, at 5:24 AM, Colin A. Smith <colin at colinsmith.org> wrote:

> This thread got a bit off the topics I was originally hoping to discuss. Can anyone running Yosemite comment on whether their default graphics device is quartz or x11?
> 

The auto-lauch DISPLAY setting has changed in Xquartz so R was assuming you're enforcing X11 by having a custom DISPLAY setting. This should be now fixed to detect the new setting n 3.1.2.


> Also, is there any hope that the patch for the quartz command line device might be considered?
> 

Too late now, but the problem with the original patch is that it used a NIB which we want to avoid as to not have to ship resources. If you know how to fix the *code* then sure, I'll consider it. Feel free to discuss directly with me. (Sorry for not responding earlier, though).

Cheers,
Simon



> Cheers,
> 
> Colin
> 
>> On Oct 28, 2014, at 23:33, Colin A. Smith <colin at colinsmith.org> wrote:
>> 
>> I?ve been using command line R fairly successfully under Yosemite so far and have only run into a few issues, mostly related to the quartz device.
>> 
>> First, it seems that under Yosemite, the default device is now x11 instead of quartz. I found this with the exact same pkg install of R that I was using in Mavericks, which defaulted to quartz. Installing the latest Mavericks build (3.1.1) results in the same behavior. Even when running "R_DEFAULT_DEVICE=quartz R?, the default device still ends up being x11. The quartz device can still be created manually with a call to quartz(). Does anyone else have this same problem?
>> 
>> Second, the menus for the quartz device created through the command line have gotten even stranger under Yosemite. With the current version there are actually two (!) Apple menus displayed, which looks quite odd:
>> 
>> https://dl.dropboxusercontent.com/u/21171664/R_Two_Apple_Menus.png
>> 
>> About a year ago I submitted a patch with made the command line quartz device act much more like a normal OS X application:
>> 
>> https://bugs.r-project.org/bugzilla3/show_bug.cgi?id=15438#c1
>> 
>> This patch continues to work well under Yosemite, and does not display the double Apple menu problem. However, it seems to have currently fallen off the radar. Given the even stranger behavior of the current code under Yosemite, perhaps evaluation of my patch could be given a higher priority? If it would help I can provide updated files which are drop-in replacements for the current R trunk.
>> 
>> Cheers,
>> 
>> Colin
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From bhh at xs4all.nl  Fri Oct 31 17:36:06 2014
From: bhh at xs4all.nl (Berend Hasselman)
Date: Fri, 31 Oct 2014 17:36:06 +0100
Subject: [R-SIG-Mac] sh: convert: command not found
In-Reply-To: <CAJXgQP3fbrTn4Z8sK7h=Twv8UUc+9Sip0nJTkpgGj+nHc20dGw@mail.gmail.com>
References: <CAF1_pPuiMrC=vRS8HtEqOCrSQjJtmk--qdMZPwxJ9x=PpXGf5g@mail.gmail.com>
	<CBBC2C59-D9C6-4DB3-AAF2-D7E1125821BC@r-project.org>
	<544A301B.1000006@gmail.com>
	<C37EE135-85E5-4F67-AF49-3597A6CA8A9E@gmail.com>
	<2A26A881-C784-4257-8CE8-510A5AB23C4C@r-project.org>
	<544B750A.8080504@gmail.com>
	<CAJXgQP3fbrTn4Z8sK7h=Twv8UUc+9Sip0nJTkpgGj+nHc20dGw@mail.gmail.com>
Message-ID: <A1723A11-0FC3-496D-8C30-D5DE4E5C1923@xs4all.nl>


On 25-10-2014, at 20:25, Kevin Ushey <kevinushey at gmail.com> wrote:

> I've noticed that the PATH is actually duplicated in e.g. R.app (when
> launched from the dock).
> 
>> env <- Sys.getenv()
>> as.list(env[names(env) == "PATH"])
>    $PATH
>    [1] "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"
> 
>    $PATH
>    [1] "/usr/bin:/bin:/usr/sbin:/sbin"
> 
> It is the second of these that `system` sees:
> 
>> system("echo $PATH")
>    /usr/bin:/bin:/usr/sbin:/sbin
> 
> but if we explicitly unset and reset the PATH, we get the (expected?) PATH back:
> 
>> Sys.unsetenv("PATH")
>> Sys.setenv(PATH = "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin")
>> system("echo $PATH")
>    /usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin
> 
> There are a number of other environment variables that are duplicated
> as well, e.g.
> 
>> names(env[duplicated(names(env))])
>    [1] "Apple_PubSub_Socket_Render" "DISPLAY"
> "HOME"
>    [4] "LOGNAME"                    "PATH"
> "SHELL"
>    [7] "SSH_AUTH_SOCK"              "TMPDIR"                     ?USER"
> 
> No idea if this is expected or meaningful, but I thought I would post
> this for posterity.
> 

See this discussion of the issue:

http://tex.stackexchange.com/questions/208181/why-did-my-tex-related-gui-program-stop-working-in-mac-os-x-yosemite

Two solutions are offered for the problem: one by Maxwell for C and one by Cheng for C++.


Berend Hasselman


From simon.urbanek at r-project.org  Fri Oct 31 18:34:27 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 31 Oct 2014 13:34:27 -0400
Subject: [R-SIG-Mac] sh: convert: command not found
In-Reply-To: <A1723A11-0FC3-496D-8C30-D5DE4E5C1923@xs4all.nl>
References: <CAF1_pPuiMrC=vRS8HtEqOCrSQjJtmk--qdMZPwxJ9x=PpXGf5g@mail.gmail.com>
	<CBBC2C59-D9C6-4DB3-AAF2-D7E1125821BC@r-project.org>
	<544A301B.1000006@gmail.com>
	<C37EE135-85E5-4F67-AF49-3597A6CA8A9E@gmail.com>
	<2A26A881-C784-4257-8CE8-510A5AB23C4C@r-project.org>
	<544B750A.8080504@gmail.com>
	<CAJXgQP3fbrTn4Z8sK7h=Twv8UUc+9Sip0nJTkpgGj+nHc20dGw@mail.gmail.com>
	<A1723A11-0FC3-496D-8C30-D5DE4E5C1923@xs4all.nl>
Message-ID: <A7995AF3-3541-4040-A1AC-2ED065CE3FD1@r-project.org>

and the third (in R) is in 3.1.2 ...

On Oct 31, 2014, at 12:36 PM, Berend Hasselman <bhh at xs4all.nl> wrote:

> 
> On 25-10-2014, at 20:25, Kevin Ushey <kevinushey at gmail.com> wrote:
> 
>> I've noticed that the PATH is actually duplicated in e.g. R.app (when
>> launched from the dock).
>> 
>>> env <- Sys.getenv()
>>> as.list(env[names(env) == "PATH"])
>>   $PATH
>>   [1] "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"
>> 
>>   $PATH
>>   [1] "/usr/bin:/bin:/usr/sbin:/sbin"
>> 
>> It is the second of these that `system` sees:
>> 
>>> system("echo $PATH")
>>   /usr/bin:/bin:/usr/sbin:/sbin
>> 
>> but if we explicitly unset and reset the PATH, we get the (expected?) PATH back:
>> 
>>> Sys.unsetenv("PATH")
>>> Sys.setenv(PATH = "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin")
>>> system("echo $PATH")
>>   /usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin
>> 
>> There are a number of other environment variables that are duplicated
>> as well, e.g.
>> 
>>> names(env[duplicated(names(env))])
>>   [1] "Apple_PubSub_Socket_Render" "DISPLAY"
>> "HOME"
>>   [4] "LOGNAME"                    "PATH"
>> "SHELL"
>>   [7] "SSH_AUTH_SOCK"              "TMPDIR"                     ?USER"
>> 
>> No idea if this is expected or meaningful, but I thought I would post
>> this for posterity.
>> 
> 
> See this discussion of the issue:
> 
> http://tex.stackexchange.com/questions/208181/why-did-my-tex-related-gui-program-stop-working-in-mac-os-x-yosemite
> 
> Two solutions are offered for the problem: one by Maxwell for C and one by Cheng for C++.
> 
> 
> Berend Hasselman
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From erich.neuwirth at univie.ac.at  Fri Oct 31 18:44:53 2014
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Fri, 31 Oct 2014 18:44:53 +0100
Subject: [R-SIG-Mac] Yosemite toolkit
Message-ID: <6D1ED05D-2C05-4EA5-B358-AF3D49814108@univie.ac.at>

Do we already have recommendations which version of the compilers to install to be able to
compile packages from source under Yosemite?

From ripley at stats.ox.ac.uk  Fri Oct 31 18:50:13 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 31 Oct 2014 17:50:13 +0000
Subject: [R-SIG-Mac] Yosemite toolkit
In-Reply-To: <6D1ED05D-2C05-4EA5-B358-AF3D49814108@univie.ac.at>
References: <6D1ED05D-2C05-4EA5-B358-AF3D49814108@univie.ac.at>
Message-ID: <5453CBD5.5020906@stats.ox.ac.uk>

On 31/10/2014 17:44, Erich Neuwirth wrote:
> Do we already have recommendations which version of the compilers to install to be able to
> compile packages from source under Yosemite?

In the R manuals, where they always are ....  E.g.

http://cran.r-project.org/doc/manuals/r-patched/R-admin.html#OS-X

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK


