From m@cdec @end|ng |rom me@com  Wed Dec  2 10:09:59 2020
From: m@cdec @end|ng |rom me@com (Maria-Angeles Casares-de-Cal)
Date: Wed, 2 Dec 2020 10:09:59 +0100
Subject: [R-SIG-Mac] Problems with R and Big Sur
Message-ID: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>

To those in charge of R for Mac OS X: 

I have installed the new Big Sur operating system and now I always get a warning similar to: 

2020-12-02 09:52:00.647 R[703:11786] Warning: Expected min height of view: (<NSPopoverTouchBarItemButton: 0x7f9c6bb3df50>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.

and the computer becomes very slow. 

Can I do something to fix it, or will we have to wait for an R update?

Thank you very much for your attention.

Sincerely,

Mar?a-?ngeles Casares-de-Cal






	[[alternative HTML version deleted]]


From e| @end|ng |rom ||@@e@NA  Wed Dec  2 12:01:37 2020
From: e| @end|ng |rom ||@@e@NA (Dr Eberhard W Lisse)
Date: Wed, 2 Dec 2020 13:01:37 +0200
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
Message-ID: <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>

I don't get this in 4.0.3 (using the command line version of R) and I
don't get this in RStudio 1.3.1093 either.  I use the homebrew versions
without the R GUI even installed.

I am sure more detail will be helpful to the developers.

el

On 02/12/2020 11:09, Maria-Angeles Casares-de-Cal via R-SIG-Mac wrote:
> To those in charge of R for Mac OS X: 
> 
> I have installed the new Big Sur operating system and now I always get
> a warning similar to:
> 
> 2020-12-02 09:52:00.647 R[703:11786] Warning: Expected min height of
> view: (<NSPopoverTouchBarItemButton: 0x7f9c6bb3df50>) to be less than
> or equal to 30 but got a height of 32.000000.  This error will be
> logged once per view in violation.
> 
> and the computer becomes very slow.
> 
> Can I do something to fix it, or will we have to wait for an R update?
> 
> Thank you very much for your attention.
> 
> Sincerely,
> 
> Mar?a-?ngeles Casares-de-Cal
[...]

-- 
Dr. Eberhard W. Lisse   \         /       Obstetrician & Gynaecologist 
el at lisse.NA             / *      |  Telephone: +264 81 124 6733 (cell)
PO Box 8421 Bachbrecht  \      /  If this email is signed with GPG/PGP
10007, Namibia           ;____/ Sect 20 of Act No. 4 of 2019 may apply


From @pencer@gr@ve@ @end|ng |rom prod@y@e@com  Wed Dec  2 13:53:26 2020
From: @pencer@gr@ve@ @end|ng |rom prod@y@e@com (Spencer Graves)
Date: Wed, 2 Dec 2020 06:53:26 -0600
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
Message-ID: <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>

	  I didn't get this with R 4.0.3 under macOS Big Sur 11.0.1 with "time 
R CMD build" / check.  I have not tried it under RStudio.


	  sg


On 2020-12-02 05:01, Dr Eberhard W Lisse wrote:
> I don't get this in 4.0.3 (using the command line version of R) and I
> don't get this in RStudio 1.3.1093 either.  I use the homebrew versions
> without the R GUI even installed.
> 
> I am sure more detail will be helpful to the developers.
> 
> el
> 
> On 02/12/2020 11:09, Maria-Angeles Casares-de-Cal via R-SIG-Mac wrote:
>> To those in charge of R for Mac OS X:
>>
>> I have installed the new Big Sur operating system and now I always get
>> a warning similar to:
>>
>> 2020-12-02 09:52:00.647 R[703:11786] Warning: Expected min height of
>> view: (<NSPopoverTouchBarItemButton: 0x7f9c6bb3df50>) to be less than
>> or equal to 30 but got a height of 32.000000.  This error will be
>> logged once per view in violation.
>>
>> and the computer becomes very slow.
>>
>> Can I do something to fix it, or will we have to wait for an R update?
>>
>> Thank you very much for your attention.
>>
>> Sincerely,
>>
>> Mar?a-?ngeles Casares-de-Cal
> [...]
>


From bob @end|ng |rom rud@|@  Wed Dec  2 14:15:48 2020
From: bob @end|ng |rom rud@|@ (Bob Rudis)
Date: Wed, 2 Dec 2020 05:15:48 -0800
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
Message-ID: <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>

 After a bit of git and google poking it seems this is happening to users
of MacVim (https://github.com/macvim-dev/macvim/issues/1114) and a few
other FOSS projects.

In various GH issues (like that one) the issue claims to be resolved by
using the latest Xcode & SDK but that?s not likely to be a solution for R
GUI (which I?m assuming you're using and where this error is coming up).

Some of the threads I saw made it seem like it was happening especially on
Touch Bar-equipped MacBook Pros (but that?s not confirmed).

When I try R GUI on Big Sur (on the new M1 Mini) ? either just plain R
scripts or plotting ? I do not see this, nor do I see this on my Intel
MacBook Pro (both are on the latest Big Sur beta and R 4.0.3).

On Dec 2, 2020 at 7:53:26 AM, Spencer Graves <spencer.graves at prodsyse.com>
wrote:

>  I didn't get this with R 4.0.3 under macOS Big Sur 11.0.1 with "time
> R CMD build" / check.  I have not tried it under RStudio.
>
>
>  sg
>
>
> On 2020-12-02 05:01, Dr Eberhard W Lisse wrote:
>
> I don't get this in 4.0.3 (using the command line version of R) and I
>
> don't get this in RStudio 1.3.1093 either.  I use the homebrew versions
>
> without the R GUI even installed.
>
>
> I am sure more detail will be helpful to the developers.
>
>
> el
>
>
> On 02/12/2020 11:09, Maria-Angeles Casares-de-Cal via R-SIG-Mac wrote:
>
> > To those in charge of R for Mac OS X:
>
> >
>
> > I have installed the new Big Sur operating system and now I always get
>
> > a warning similar to:
>
> >
>
> > 2020-12-02 09:52:00.647 R[703:11786] Warning: Expected min height of
>
> > view: (<NSPopoverTouchBarItemButton: 0x7f9c6bb3df50>) to be less than
>
> > or equal to 30 but got a height of 32.000000.  This error will be
>
> > logged once per view in violation.
>
> >
>
> > and the computer becomes very slow.
>
> >
>
> > Can I do something to fix it, or will we have to wait for an R update?
>
> >
>
> > Thank you very much for your attention.
>
> >
>
> > Sincerely,
>
> >
>
> > Mar?a-?ngeles Casares-de-Cal
>
> [...]
>
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From g||berto@c@m@r@@|npe @end|ng |rom gm@||@com  Wed Dec  2 14:36:06 2020
From: g||berto@c@m@r@@|npe @end|ng |rom gm@||@com (GilbertoCamara)
Date: Wed, 2 Dec 2020 14:36:06 +0100
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
 <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
Message-ID: <497D47A8-1AF6-4D3B-AFD1-48A6585263F7@inpe.br>

Dear all,

I am running R 4.0.3 on BigSur without major performance issues. I am using RStudio instead of the R GUI. 

I had to build all spatial packages (rgdal, sf, terra and raster) from source using the Apple clang version 12.0.0 compiler. I also had to build GDAL from scratch, since neither the ?homebrew? version nor the ?kyngchaos? version work well with BigSur. 

If anyone is building packages from source, please make sure to have installed the latest version of Apple?s development environment, including version 12.0 of the compiler as earlier versions do not work well in BigSur.

Best
Gilberto
===========================
Prof Dr Gilberto Camara
Secretariat Director
GEO - Group on Earth Observations

> On 2 Dec 2020, at 14:15, Bob Rudis <bob at rud.is> wrote:
> 
> After a bit of git and google poking it seems this is happening to users
> of MacVim (https://github.com/macvim-dev/macvim/issues/1114) and a few
> other FOSS projects.
> 
> In various GH issues (like that one) the issue claims to be resolved by
> using the latest Xcode & SDK but that?s not likely to be a solution for R
> GUI (which I?m assuming you're using and where this error is coming up).
> 
> Some of the threads I saw made it seem like it was happening especially on
> Touch Bar-equipped MacBook Pros (but that?s not confirmed).
> 
> When I try R GUI on Big Sur (on the new M1 Mini) ? either just plain R
> scripts or plotting ? I do not see this, nor do I see this on my Intel
> MacBook Pro (both are on the latest Big Sur beta and R 4.0.3).
> 
> On Dec 2, 2020 at 7:53:26 AM, Spencer Graves <spencer.graves at prodsyse.com>
> wrote:
> 
>> I didn't get this with R 4.0.3 under macOS Big Sur 11.0.1 with "time
>> R CMD build" / check.  I have not tried it under RStudio.
>> 
>> 
>> sg
>> 
>> 
>> On 2020-12-02 05:01, Dr Eberhard W Lisse wrote:
>> 
>> I don't get this in 4.0.3 (using the command line version of R) and I
>> 
>> don't get this in RStudio 1.3.1093 either.  I use the homebrew versions
>> 
>> without the R GUI even installed.
>> 
>> 
>> I am sure more detail will be helpful to the developers.
>> 
>> 
>> el
>> 
>> 
>> On 02/12/2020 11:09, Maria-Angeles Casares-de-Cal via R-SIG-Mac wrote:
>> 
>>> To those in charge of R for Mac OS X:
>> 
>>> 
>> 
>>> I have installed the new Big Sur operating system and now I always get
>> 
>>> a warning similar to:
>> 
>>> 
>> 
>>> 2020-12-02 09:52:00.647 R[703:11786] Warning: Expected min height of
>> 
>>> view: (<NSPopoverTouchBarItemButton: 0x7f9c6bb3df50>) to be less than
>> 
>>> or equal to 30 but got a height of 32.000000.  This error will be
>> 
>>> logged once per view in violation.
>> 
>>> 
>> 
>>> and the computer becomes very slow.
>> 
>>> 
>> 
>>> Can I do something to fix it, or will we have to wait for an R update?
>> 
>>> 
>> 
>>> Thank you very much for your attention.
>> 
>>> 
>> 
>>> Sincerely,
>> 
>>> 
>> 
>>> Mar?a-?ngeles Casares-de-Cal
>> 
>> [...]
>> 
>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From @pencer@gr@ve@ @end|ng |rom prod@y@e@com  Wed Dec  2 15:15:38 2020
From: @pencer@gr@ve@ @end|ng |rom prod@y@e@com (Spencer Graves)
Date: Wed, 2 Dec 2020 08:15:38 -0600
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <497D47A8-1AF6-4D3B-AFD1-48A6585263F7@inpe.br>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
 <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
 <497D47A8-1AF6-4D3B-AFD1-48A6585263F7@inpe.br>
Message-ID: <4ccdddeb-9c0a-d7e2-e21e-9a402fad6ab9@prodsyse.com>

	  What should I do to "make sure to have installed the latest version 
of Apple's development environment, including version 12.0 of the 
compiler"?


	  Thanks,
	  Spencer Graves


On 2020-12-02 07:36, GilbertoCamara wrote:
> Dear all,
> 
> I am running R 4.0.3 on BigSur without major performance issues. I am using RStudio instead of the R GUI.
> 
> I had to build all spatial packages (rgdal, sf, terra and raster) from source using the Apple clang version 12.0.0 compiler. I also had to build GDAL from scratch, since neither the ?homebrew? version nor the ?kyngchaos? version work well with BigSur.
> 
> If anyone is building packages from source, please make sure to have installed the latest version of Apple?s development environment, including version 12.0 of the compiler as earlier versions do not work well in BigSur.
> 
> Best
> Gilberto
> ===========================
> Prof Dr Gilberto Camara
> Secretariat Director
> GEO - Group on Earth Observations
> 
>> On 2 Dec 2020, at 14:15, Bob Rudis <bob at rud.is> wrote:
>>
>> After a bit of git and google poking it seems this is happening to users
>> of MacVim (https://github.com/macvim-dev/macvim/issues/1114) and a few
>> other FOSS projects.
>>
>> In various GH issues (like that one) the issue claims to be resolved by
>> using the latest Xcode & SDK but that?s not likely to be a solution for R
>> GUI (which I?m assuming you're using and where this error is coming up).
>>
>> Some of the threads I saw made it seem like it was happening especially on
>> Touch Bar-equipped MacBook Pros (but that?s not confirmed).
>>
>> When I try R GUI on Big Sur (on the new M1 Mini) ? either just plain R
>> scripts or plotting ? I do not see this, nor do I see this on my Intel
>> MacBook Pro (both are on the latest Big Sur beta and R 4.0.3).
>>
>> On Dec 2, 2020 at 7:53:26 AM, Spencer Graves <spencer.graves at prodsyse.com>
>> wrote:
>>
>>> I didn't get this with R 4.0.3 under macOS Big Sur 11.0.1 with "time
>>> R CMD build" / check.  I have not tried it under RStudio.
>>>
>>>
>>> sg
>>>
>>>
>>> On 2020-12-02 05:01, Dr Eberhard W Lisse wrote:
>>>
>>> I don't get this in 4.0.3 (using the command line version of R) and I
>>>
>>> don't get this in RStudio 1.3.1093 either.  I use the homebrew versions
>>>
>>> without the R GUI even installed.
>>>
>>>
>>> I am sure more detail will be helpful to the developers.
>>>
>>>
>>> el
>>>
>>>
>>> On 02/12/2020 11:09, Maria-Angeles Casares-de-Cal via R-SIG-Mac wrote:
>>>
>>>> To those in charge of R for Mac OS X:
>>>
>>>>
>>>
>>>> I have installed the new Big Sur operating system and now I always get
>>>
>>>> a warning similar to:
>>>
>>>>
>>>
>>>> 2020-12-02 09:52:00.647 R[703:11786] Warning: Expected min height of
>>>
>>>> view: (<NSPopoverTouchBarItemButton: 0x7f9c6bb3df50>) to be less than
>>>
>>>> or equal to 30 but got a height of 32.000000.  This error will be
>>>
>>>> logged once per view in violation.
>>>
>>>>
>>>
>>>> and the computer becomes very slow.
>>>
>>>>
>>>
>>>> Can I do something to fix it, or will we have to wait for an R update?
>>>
>>>>
>>>
>>>> Thank you very much for your attention.
>>>
>>>>
>>>
>>>> Sincerely,
>>>
>>>>
>>>
>>>> Mar?a-?ngeles Casares-de-Cal
>>>
>>> [...]
>>>
>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 
> 
> 
>


From e| @end|ng |rom ||@@e@NA  Wed Dec  2 15:17:33 2020
From: e| @end|ng |rom ||@@e@NA (Dr Eberhard W Lisse)
Date: Wed, 2 Dec 2020 16:17:33 +0200
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <4ccdddeb-9c0a-d7e2-e21e-9a402fad6ab9@prodsyse.com>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
 <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
 <497D47A8-1AF6-4D3B-AFD1-48A6585263F7@inpe.br>
 <4ccdddeb-9c0a-d7e2-e21e-9a402fad6ab9@prodsyse.com>
Message-ID: <9db0e62b-c835-05fa-3461-d69fa3aaa7b9@lisse.NA>

clang --version

el

On 02/12/2020 16:15, Spencer Graves wrote:
>       What should I do to "make sure to have installed the latest version of Apple's development environment, including version 12.0 of the compiler"?
> 
> 
>       Thanks,
>       Spencer Graves


From pdmm@c @end|ng |rom mcm@@ter@c@  Wed Dec  2 15:17:44 2020
From: pdmm@c @end|ng |rom mcm@@ter@c@ (Macdonald, Peter)
Date: Wed, 2 Dec 2020 14:17:44 +0000
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <12416_1606915028_0B2DH61v002690_CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
 <12416_1606915028_0B2DH61v002690_CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
Message-ID: <8FAEC91A-0CA0-4EA4-B1AD-C545904D2B22@mcmaster.ca>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20201202/7df28468/attachment-0001.html>

From g||berto@c@m@r@@|npe @end|ng |rom gm@||@com  Wed Dec  2 15:18:23 2020
From: g||berto@c@m@r@@|npe @end|ng |rom gm@||@com (Gilberto Camara)
Date: Wed, 2 Dec 2020 15:18:23 +0100
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <4ccdddeb-9c0a-d7e2-e21e-9a402fad6ab9@prodsyse.com>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
 <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
 <497D47A8-1AF6-4D3B-AFD1-48A6585263F7@inpe.br>
 <4ccdddeb-9c0a-d7e2-e21e-9a402fad6ab9@prodsyse.com>
Message-ID: <31FED4CE-800F-438A-9E35-E72B610C80C7@gmail.com>

For me, it worked as follows

sudo rm -rf /Library/Developer/CommandLineTools
sudo xcode-select ?install

Best 
Gilberto


> On 2 Dec 2020, at 15:15, Spencer Graves <spencer.graves at prodsyse.com> wrote:
> 
> 	  What should I do to "make sure to have installed the latest version of Apple's development environment, including version 12.0 of the compiler"?
> 
> 
> 	  Thanks,
> 	  Spencer Graves
> 
> 
> On 2020-12-02 07:36, GilbertoCamara wrote:
>> Dear all,
>> I am running R 4.0.3 on BigSur without major performance issues. I am using RStudio instead of the R GUI.
>> I had to build all spatial packages (rgdal, sf, terra and raster) from source using the Apple clang version 12.0.0 compiler. I also had to build GDAL from scratch, since neither the ?homebrew? version nor the ?kyngchaos? version work well with BigSur.
>> If anyone is building packages from source, please make sure to have installed the latest version of Apple?s development environment, including version 12.0 of the compiler as earlier versions do not work well in BigSur.
>> Best
>> Gilberto
>> ===========================
>> Prof Dr Gilberto Camara
>> Secretariat Director
>> GEO - Group on Earth Observations
>>> On 2 Dec 2020, at 14:15, Bob Rudis <bob at rud.is> wrote:
>>> 
>>> After a bit of git and google poking it seems this is happening to users
>>> of MacVim (https://github.com/macvim-dev/macvim/issues/1114) and a few
>>> other FOSS projects.
>>> 
>>> In various GH issues (like that one) the issue claims to be resolved by
>>> using the latest Xcode & SDK but that?s not likely to be a solution for R
>>> GUI (which I?m assuming you're using and where this error is coming up).
>>> 
>>> Some of the threads I saw made it seem like it was happening especially on
>>> Touch Bar-equipped MacBook Pros (but that?s not confirmed).
>>> 
>>> When I try R GUI on Big Sur (on the new M1 Mini) ? either just plain R
>>> scripts or plotting ? I do not see this, nor do I see this on my Intel
>>> MacBook Pro (both are on the latest Big Sur beta and R 4.0.3).
>>> 
>>> On Dec 2, 2020 at 7:53:26 AM, Spencer Graves <spencer.graves at prodsyse.com>
>>> wrote:
>>> 
>>>> I didn't get this with R 4.0.3 under macOS Big Sur 11.0.1 with "time
>>>> R CMD build" / check.  I have not tried it under RStudio.
>>>> 
>>>> 
>>>> sg
>>>> 
>>>> 
>>>> On 2020-12-02 05:01, Dr Eberhard W Lisse wrote:
>>>> 
>>>> I don't get this in 4.0.3 (using the command line version of R) and I
>>>> 
>>>> don't get this in RStudio 1.3.1093 either.  I use the homebrew versions
>>>> 
>>>> without the R GUI even installed.
>>>> 
>>>> 
>>>> I am sure more detail will be helpful to the developers.
>>>> 
>>>> 
>>>> el
>>>> 
>>>> 
>>>> On 02/12/2020 11:09, Maria-Angeles Casares-de-Cal via R-SIG-Mac wrote:
>>>> 
>>>>> To those in charge of R for Mac OS X:
>>>> 
>>>>> 
>>>> 
>>>>> I have installed the new Big Sur operating system and now I always get
>>>> 
>>>>> a warning similar to:
>>>> 
>>>>> 
>>>> 
>>>>> 2020-12-02 09:52:00.647 R[703:11786] Warning: Expected min height of
>>>> 
>>>>> view: (<NSPopoverTouchBarItemButton: 0x7f9c6bb3df50>) to be less than
>>>> 
>>>>> or equal to 30 but got a height of 32.000000.  This error will be
>>>> 
>>>>> logged once per view in violation.
>>>> 
>>>>> 
>>>> 
>>>>> and the computer becomes very slow.
>>>> 
>>>>> 
>>>> 
>>>>> Can I do something to fix it, or will we have to wait for an R update?
>>>> 
>>>>> 
>>>> 
>>>>> Thank you very much for your attention.
>>>> 
>>>>> 
>>>> 
>>>>> Sincerely,
>>>> 
>>>>> 
>>>> 
>>>>> Mar?a-?ngeles Casares-de-Cal
>>>> 
>>>> [...]
>>>> 
>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>>> 	[[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From @pencer@gr@ve@ @end|ng |rom prod@y@e@com  Wed Dec  2 17:52:46 2020
From: @pencer@gr@ve@ @end|ng |rom prod@y@e@com (Spencer Graves)
Date: Wed, 2 Dec 2020 10:52:46 -0600
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <31FED4CE-800F-438A-9E35-E72B610C80C7@gmail.com>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
 <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
 <497D47A8-1AF6-4D3B-AFD1-48A6585263F7@inpe.br>
 <4ccdddeb-9c0a-d7e2-e21e-9a402fad6ab9@prodsyse.com>
 <31FED4CE-800F-438A-9E35-E72B610C80C7@gmail.com>
Message-ID: <fcb2e4d0-0841-0902-2b77-3bc142ef4131@prodsyse.com>

$ clang --version
Apple clang version 11.0.3 (clang-1103.0.32.59)
Target: x86_64-apple-darwin20.1.0
Thread model: posix
InstalledDir: 
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin


	  ** "sudo rm -rf /Library/Developer/CommandLineTools" deleted 
"CommandLineTools".  Then "sudo xcode-select ?install" gave me "invalid 
argument '?install'".  "sudo xcode-select ?install" gave me the same.


	  ** Fortunately, I was able to update Xcode from App Store.  Now I get:


$ clang --version
Apple clang version 12.0.0 (clang-1200.0.32.27)
Target: x86_64-apple-darwin20.1.0
Thread model: posix
InstalledDir: 
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin


	  If you also have a problem with "sudo xcode-select ?install", you 
might try the App Store.


	  Thanks, Spencer


On 2020-12-02 08:18, Gilberto Camara wrote:
> For me, it worked as follows
> 
> sudo rm -rf /Library/Developer/CommandLineTools
> sudo xcode-select ?install
> 
> Best
> Gilberto
> 
> 
>> On 2 Dec 2020, at 15:15, Spencer Graves <spencer.graves at prodsyse.com> wrote:
>>
>> 	  What should I do to "make sure to have installed the latest version of Apple's development environment, including version 12.0 of the compiler"?
>>
>>
>> 	  Thanks,
>> 	  Spencer Graves
>>
>>
>> On 2020-12-02 07:36, GilbertoCamara wrote:
>>> Dear all,
>>> I am running R 4.0.3 on BigSur without major performance issues. I am using RStudio instead of the R GUI.
>>> I had to build all spatial packages (rgdal, sf, terra and raster) from source using the Apple clang version 12.0.0 compiler. I also had to build GDAL from scratch, since neither the ?homebrew? version nor the ?kyngchaos? version work well with BigSur.
>>> If anyone is building packages from source, please make sure to have installed the latest version of Apple?s development environment, including version 12.0 of the compiler as earlier versions do not work well in BigSur.
>>> Best
>>> Gilberto
>>> ===========================
>>> Prof Dr Gilberto Camara
>>> Secretariat Director
>>> GEO - Group on Earth Observations
>>>> On 2 Dec 2020, at 14:15, Bob Rudis <bob at rud.is> wrote:
>>>>
>>>> After a bit of git and google poking it seems this is happening to users
>>>> of MacVim (https://github.com/macvim-dev/macvim/issues/1114) and a few
>>>> other FOSS projects.
>>>>
>>>> In various GH issues (like that one) the issue claims to be resolved by
>>>> using the latest Xcode & SDK but that?s not likely to be a solution for R
>>>> GUI (which I?m assuming you're using and where this error is coming up).
>>>>
>>>> Some of the threads I saw made it seem like it was happening especially on
>>>> Touch Bar-equipped MacBook Pros (but that?s not confirmed).
>>>>
>>>> When I try R GUI on Big Sur (on the new M1 Mini) ? either just plain R
>>>> scripts or plotting ? I do not see this, nor do I see this on my Intel
>>>> MacBook Pro (both are on the latest Big Sur beta and R 4.0.3).
>>>>
>>>> On Dec 2, 2020 at 7:53:26 AM, Spencer Graves <spencer.graves at prodsyse.com>
>>>> wrote:
>>>>
>>>>> I didn't get this with R 4.0.3 under macOS Big Sur 11.0.1 with "time
>>>>> R CMD build" / check.  I have not tried it under RStudio.
>>>>>
>>>>>
>>>>> sg
>>>>>
>>>>>
>>>>> On 2020-12-02 05:01, Dr Eberhard W Lisse wrote:
>>>>>
>>>>> I don't get this in 4.0.3 (using the command line version of R) and I
>>>>>
>>>>> don't get this in RStudio 1.3.1093 either.  I use the homebrew versions
>>>>>
>>>>> without the R GUI even installed.
>>>>>
>>>>>
>>>>> I am sure more detail will be helpful to the developers.
>>>>>
>>>>>
>>>>> el
>>>>>
>>>>>
>>>>> On 02/12/2020 11:09, Maria-Angeles Casares-de-Cal via R-SIG-Mac wrote:
>>>>>
>>>>>> To those in charge of R for Mac OS X:
>>>>>
>>>>>>
>>>>>
>>>>>> I have installed the new Big Sur operating system and now I always get
>>>>>
>>>>>> a warning similar to:
>>>>>
>>>>>>
>>>>>
>>>>>> 2020-12-02 09:52:00.647 R[703:11786] Warning: Expected min height of
>>>>>
>>>>>> view: (<NSPopoverTouchBarItemButton: 0x7f9c6bb3df50>) to be less than
>>>>>
>>>>>> or equal to 30 but got a height of 32.000000.  This error will be
>>>>>
>>>>>> logged once per view in violation.
>>>>>
>>>>>>
>>>>>
>>>>>> and the computer becomes very slow.
>>>>>
>>>>>>
>>>>>
>>>>>> Can I do something to fix it, or will we have to wait for an R update?
>>>>>
>>>>>>
>>>>>
>>>>>> Thank you very much for your attention.
>>>>>
>>>>>>
>>>>>
>>>>>> Sincerely,
>>>>>
>>>>>>
>>>>>
>>>>>> Mar?a-?ngeles Casares-de-Cal
>>>>>
>>>>> [...]
>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>
>>>> 	[[alternative HTML version deleted]]
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From e| @end|ng |rom ||@@e@NA  Wed Dec  2 18:48:05 2020
From: e| @end|ng |rom ||@@e@NA (Dr Eberhard W Lisse)
Date: Wed, 2 Dec 2020 19:48:05 +0200
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <fcb2e4d0-0841-0902-2b77-3bc142ef4131@prodsyse.com>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
 <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
 <497D47A8-1AF6-4D3B-AFD1-48A6585263F7@inpe.br>
 <4ccdddeb-9c0a-d7e2-e21e-9a402fad6ab9@prodsyse.com>
 <31FED4CE-800F-438A-9E35-E72B610C80C7@gmail.com>
 <fcb2e4d0-0841-0902-2b77-3bc142ef4131@prodsyse.com>
Message-ID: <3347c205-63d5-88c8-960d-4f4622732d53@lisse.NA>

sudo xcode-select --install

el

On 2020-12-02 18:52 , Spencer Graves wrote:
> $ clang --version
> Apple clang version 11.0.3 (clang-1103.0.32.59)
> Target: x86_64-apple-darwin20.1.0
> Thread model: posix
> InstalledDir:
> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
> 
> 
> 
> ????? ** "sudo rm -rf /Library/Developer/CommandLineTools" deleted
> "CommandLineTools".? Then "sudo xcode-select ?install" gave me "invalid
> argument '?install'".? "sudo xcode-select ?install" gave me the same.
> 
> 
> ????? ** Fortunately, I was able to update Xcode from App Store.? Now I
> get:
> 
> 
> $ clang --version
> Apple clang version 12.0.0 (clang-1200.0.32.27)
> Target: x86_64-apple-darwin20.1.0
> Thread model: posix
> InstalledDir:
> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
> 
> 
> 
> ????? If you also have a problem with "sudo xcode-select ?install", you
> might try the App Store.
> 
> 
> ????? Thanks, Spencer
> 
> 
> On 2020-12-02 08:18, Gilberto Camara wrote:
>> For me, it worked as follows
>>
>> sudo rm -rf /Library/Developer/CommandLineTools
>> sudo xcode-select ?install
>>
>> Best
>> Gilberto
>>
>>
>>> On 2 Dec 2020, at 15:15, Spencer Graves <spencer.graves at prodsyse.com>
>>> wrote:
>>>
>>> ????? What should I do to "make sure to have installed the latest
>>> version of Apple's development environment, including version 12.0 of
>>> the compiler"?
>>>
>>>
>>> ????? Thanks,
>>> ????? Spencer Graves
>>>
>>>
>>> On 2020-12-02 07:36, GilbertoCamara wrote:
>>>> Dear all,
>>>> I am running R 4.0.3 on BigSur without major performance issues. I
>>>> am using RStudio instead of the R GUI.
>>>> I had to build all spatial packages (rgdal, sf, terra and raster)
>>>> from source using the Apple clang version 12.0.0 compiler. I also
>>>> had to build GDAL from scratch, since neither the ?homebrew? version
>>>> nor the ?kyngchaos? version work well with BigSur.
>>>> If anyone is building packages from source, please make sure to have
>>>> installed the latest version of Apple?s development environment,
>>>> including version 12.0 of the compiler as earlier versions do not
>>>> work well in BigSur.
>>>> Best
>>>> Gilberto
>>>> ===========================
>>>> Prof Dr Gilberto Camara
>>>> Secretariat Director
>>>> GEO - Group on Earth Observations
>>>>> On 2 Dec 2020, at 14:15, Bob Rudis <bob at rud.is> wrote:
>>>>>
>>>>> After a bit of git and google poking it seems this is happening to
>>>>> users
>>>>> of MacVim (https://github.com/macvim-dev/macvim/issues/1114) and a few
>>>>> other FOSS projects.
>>>>>
>>>>> In various GH issues (like that one) the issue claims to be
>>>>> resolved by
>>>>> using the latest Xcode & SDK but that?s not likely to be a solution
>>>>> for R
>>>>> GUI (which I?m assuming you're using and where this error is coming
>>>>> up).
>>>>>
>>>>> Some of the threads I saw made it seem like it was happening
>>>>> especially on
>>>>> Touch Bar-equipped MacBook Pros (but that?s not confirmed).
>>>>>
>>>>> When I try R GUI on Big Sur (on the new M1 Mini) ? either just plain R
>>>>> scripts or plotting ? I do not see this, nor do I see this on my Intel
>>>>> MacBook Pro (both are on the latest Big Sur beta and R 4.0.3).
>>>>>
>>>>> On Dec 2, 2020 at 7:53:26 AM, Spencer Graves
>>>>> <spencer.graves at prodsyse.com>
>>>>> wrote:
>>>>>
>>>>>> I didn't get this with R 4.0.3 under macOS Big Sur 11.0.1 with "time
>>>>>> R CMD build" / check.? I have not tried it under RStudio.
>>>>>>
>>>>>>
>>>>>> sg
>>>>>>
>>>>>>
>>>>>> On 2020-12-02 05:01, Dr Eberhard W Lisse wrote:
>>>>>>
>>>>>> I don't get this in 4.0.3 (using the command line version of R) and I
>>>>>>
>>>>>> don't get this in RStudio 1.3.1093 either.? I use the homebrew
>>>>>> versions
>>>>>>
>>>>>> without the R GUI even installed.
>>>>>>
>>>>>>
>>>>>> I am sure more detail will be helpful to the developers.
>>>>>>
>>>>>>
>>>>>> el
>>>>>>
>>>>>>
>>>>>> On 02/12/2020 11:09, Maria-Angeles Casares-de-Cal via R-SIG-Mac
>>>>>> wrote:
>>>>>>
>>>>>>> To those in charge of R for Mac OS X:
>>>>>>
>>>>>>>
>>>>>>
>>>>>>> I have installed the new Big Sur operating system and now I
>>>>>>> always get
>>>>>>
>>>>>>> a warning similar to:
>>>>>>
>>>>>>>
>>>>>>
>>>>>>> 2020-12-02 09:52:00.647 R[703:11786] Warning: Expected min height of
>>>>>>
>>>>>>> view: (<NSPopoverTouchBarItemButton: 0x7f9c6bb3df50>) to be less
>>>>>>> than
>>>>>>
>>>>>>> or equal to 30 but got a height of 32.000000.? This error will be
>>>>>>
>>>>>>> logged once per view in violation.
>>>>>>
>>>>>>>
>>>>>>
>>>>>>> and the computer becomes very slow.
>>>>>>
>>>>>>>
>>>>>>
>>>>>>> Can I do something to fix it, or will we have to wait for an R
>>>>>>> update?
>>>>>>
>>>>>>>
>>>>>>
>>>>>>> Thank you very much for your attention.
>>>>>>
>>>>>>>
>>>>>>
>>>>>>> Sincerely,
>>>>>>
>>>>>>>
>>>>>>
>>>>>>> Mar?a-?ngeles Casares-de-Cal
>>>>>>
>>>>>> [...]
>>>>>>
>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>
>>>>> ????[[alternative HTML version deleted]]
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Dr. Eberhard W. Lisse   \         /       Obstetrician & Gynaecologist
el at lisse.NA             / *      |  Telephone: +264 81 124 6733 (cell)
PO Box 8421 Bachbrecht  \      /  If this email is signed with GPG/PGP
10007, Namibia           ;____/ Sect 20 of Act No. 4 of 2019 may apply


From @pencer@gr@ve@ @end|ng |rom prod@y@e@com  Wed Dec  2 18:52:25 2020
From: @pencer@gr@ve@ @end|ng |rom prod@y@e@com (Spencer Graves)
Date: Wed, 2 Dec 2020 11:52:25 -0600
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <3347c205-63d5-88c8-960d-4f4622732d53@lisse.NA>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
 <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
 <497D47A8-1AF6-4D3B-AFD1-48A6585263F7@inpe.br>
 <4ccdddeb-9c0a-d7e2-e21e-9a402fad6ab9@prodsyse.com>
 <31FED4CE-800F-438A-9E35-E72B610C80C7@gmail.com>
 <fcb2e4d0-0841-0902-2b77-3bc142ef4131@prodsyse.com>
 <3347c205-63d5-88c8-960d-4f4622732d53@lisse.NA>
Message-ID: <708b194b-eb1f-1859-4aed-1a3b7c812a81@prodsyse.com>

	  Sorry:  Typo:  I tried "sudo xcode-select --install" and got the same 
error.  This was in Terminal where "The default interactive shell is now 
zsh."  It's not critical, because "I was able to update Xcode from App 
Store."


	  Thanks for the reply.  sg


On 2020-12-02 11:48, Dr Eberhard W Lisse wrote:
> sudo xcode-select --install
> 
> el
> 
> On 2020-12-02 18:52 , Spencer Graves wrote:
>> $ clang --version
>> Apple clang version 11.0.3 (clang-1103.0.32.59)
>> Target: x86_64-apple-darwin20.1.0
>> Thread model: posix
>> InstalledDir:
>> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
>>
>>
>>
>>  ????? ** "sudo rm -rf /Library/Developer/CommandLineTools" deleted
>> "CommandLineTools".? Then "sudo xcode-select ?install" gave me "invalid
>> argument '?install'".? "sudo xcode-select ?install" gave me the same.
>>
>>
>>  ????? ** Fortunately, I was able to update Xcode from App Store.? Now I
>> get:
>>
>>
>> $ clang --version
>> Apple clang version 12.0.0 (clang-1200.0.32.27)
>> Target: x86_64-apple-darwin20.1.0
>> Thread model: posix
>> InstalledDir:
>> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
>>
>>
>>
>>  ????? If you also have a problem with "sudo xcode-select ?install", you
>> might try the App Store.
>>
>>
>>  ????? Thanks, Spencer
>>
>>
>> On 2020-12-02 08:18, Gilberto Camara wrote:
>>> For me, it worked as follows
>>>
>>> sudo rm -rf /Library/Developer/CommandLineTools
>>> sudo xcode-select ?install
>>>
>>> Best
>>> Gilberto
>>>
>>>
>>>> On 2 Dec 2020, at 15:15, Spencer Graves <spencer.graves at prodsyse.com>
>>>> wrote:
>>>>
>>>>  ????? What should I do to "make sure to have installed the latest
>>>> version of Apple's development environment, including version 12.0 of
>>>> the compiler"?
>>>>
>>>>
>>>>  ????? Thanks,
>>>>  ????? Spencer Graves
>>>>
>>>>
>>>> On 2020-12-02 07:36, GilbertoCamara wrote:
>>>>> Dear all,
>>>>> I am running R 4.0.3 on BigSur without major performance issues. I
>>>>> am using RStudio instead of the R GUI.
>>>>> I had to build all spatial packages (rgdal, sf, terra and raster)
>>>>> from source using the Apple clang version 12.0.0 compiler. I also
>>>>> had to build GDAL from scratch, since neither the ?homebrew? version
>>>>> nor the ?kyngchaos? version work well with BigSur.
>>>>> If anyone is building packages from source, please make sure to have
>>>>> installed the latest version of Apple?s development environment,
>>>>> including version 12.0 of the compiler as earlier versions do not
>>>>> work well in BigSur.
>>>>> Best
>>>>> Gilberto
>>>>> ===========================
>>>>> Prof Dr Gilberto Camara
>>>>> Secretariat Director
>>>>> GEO - Group on Earth Observations
>>>>>> On 2 Dec 2020, at 14:15, Bob Rudis <bob at rud.is> wrote:
>>>>>>
>>>>>> After a bit of git and google poking it seems this is happening to
>>>>>> users
>>>>>> of MacVim (https://github.com/macvim-dev/macvim/issues/1114) and a few
>>>>>> other FOSS projects.
>>>>>>
>>>>>> In various GH issues (like that one) the issue claims to be
>>>>>> resolved by
>>>>>> using the latest Xcode & SDK but that?s not likely to be a solution
>>>>>> for R
>>>>>> GUI (which I?m assuming you're using and where this error is coming
>>>>>> up).
>>>>>>
>>>>>> Some of the threads I saw made it seem like it was happening
>>>>>> especially on
>>>>>> Touch Bar-equipped MacBook Pros (but that?s not confirmed).
>>>>>>
>>>>>> When I try R GUI on Big Sur (on the new M1 Mini) ? either just plain R
>>>>>> scripts or plotting ? I do not see this, nor do I see this on my Intel
>>>>>> MacBook Pro (both are on the latest Big Sur beta and R 4.0.3).
>>>>>>
>>>>>> On Dec 2, 2020 at 7:53:26 AM, Spencer Graves
>>>>>> <spencer.graves at prodsyse.com>
>>>>>> wrote:
>>>>>>
>>>>>>> I didn't get this with R 4.0.3 under macOS Big Sur 11.0.1 with "time
>>>>>>> R CMD build" / check.? I have not tried it under RStudio.
>>>>>>>
>>>>>>>
>>>>>>> sg
>>>>>>>
>>>>>>>
>>>>>>> On 2020-12-02 05:01, Dr Eberhard W Lisse wrote:
>>>>>>>
>>>>>>> I don't get this in 4.0.3 (using the command line version of R) and I
>>>>>>>
>>>>>>> don't get this in RStudio 1.3.1093 either.? I use the homebrew
>>>>>>> versions
>>>>>>>
>>>>>>> without the R GUI even installed.
>>>>>>>
>>>>>>>
>>>>>>> I am sure more detail will be helpful to the developers.
>>>>>>>
>>>>>>>
>>>>>>> el
>>>>>>>
>>>>>>>
>>>>>>> On 02/12/2020 11:09, Maria-Angeles Casares-de-Cal via R-SIG-Mac
>>>>>>> wrote:
>>>>>>>
>>>>>>>> To those in charge of R for Mac OS X:
>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>>> I have installed the new Big Sur operating system and now I
>>>>>>>> always get
>>>>>>>
>>>>>>>> a warning similar to:
>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>>> 2020-12-02 09:52:00.647 R[703:11786] Warning: Expected min height of
>>>>>>>
>>>>>>>> view: (<NSPopoverTouchBarItemButton: 0x7f9c6bb3df50>) to be less
>>>>>>>> than
>>>>>>>
>>>>>>>> or equal to 30 but got a height of 32.000000.? This error will be
>>>>>>>
>>>>>>>> logged once per view in violation.
>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>>> and the computer becomes very slow.
>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>>> Can I do something to fix it, or will we have to wait for an R
>>>>>>>> update?
>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>>> Thank you very much for your attention.
>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>>> Sincerely,
>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>>> Mar?a-?ngeles Casares-de-Cal
>>>>>>>
>>>>>>> [...]
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>
>>>>>>
>>>>>>  ????[[alternative HTML version deleted]]
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From @|mon@urb@nek @end|ng |rom R-project@org  Wed Dec  2 22:44:24 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Thu, 3 Dec 2020 10:44:24 +1300
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <708b194b-eb1f-1859-4aed-1a3b7c812a81@prodsyse.com>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
 <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
 <497D47A8-1AF6-4D3B-AFD1-48A6585263F7@inpe.br>
 <4ccdddeb-9c0a-d7e2-e21e-9a402fad6ab9@prodsyse.com>
 <31FED4CE-800F-438A-9E35-E72B610C80C7@gmail.com>
 <fcb2e4d0-0841-0902-2b77-3bc142ef4131@prodsyse.com>
 <3347c205-63d5-88c8-960d-4f4622732d53@lisse.NA>
 <708b194b-eb1f-1859-4aed-1a3b7c812a81@prodsyse.com>
Message-ID: <70529152-2166-4704-861D-25FEF82AE75A@R-project.org>

Are you chasing a red herring here? Switching tools won help you - in fact they cause more issues since you'd need R-devel version of R to avoid breakage with the most recent tools or extra flags. I'm not sure which issue you are trying to solve. For gdal et al - make sure you install the latest version for CRAN - it is compatible with BigSur, older versions (before BigSur) were not.

Please start a new thread about questions unrelated to the original post as it's unclear if there are any open questions in the thread. Also please only answer if your have anything useful to say - if someone asks a question about the GUI it's rather pointless to post when you say you don't use it ... And if you ask a question, please be specific so we can help.

There is a lot of misinformation around, so be careful with random suggestions, they are very often plain wrong.

Cheers,
Simon




> On 3/12/2020, at 6:52 AM, Spencer Graves <spencer.graves at prodsyse.com> wrote:
> 
> 	  Sorry:  Typo:  I tried "sudo xcode-select --install" and got the same error.  This was in Terminal where "The default interactive shell is now zsh."  It's not critical, because "I was able to update Xcode from App Store."
> 
> 
> 	  Thanks for the reply.  sg
> 
> 
> On 2020-12-02 11:48, Dr Eberhard W Lisse wrote:
>> sudo xcode-select --install
>> el
>> On 2020-12-02 18:52 , Spencer Graves wrote:
>>> $ clang --version
>>> Apple clang version 11.0.3 (clang-1103.0.32.59)
>>> Target: x86_64-apple-darwin20.1.0
>>> Thread model: posix
>>> InstalledDir:
>>> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
>>> 
>>> 
>>> 
>>>       ** "sudo rm -rf /Library/Developer/CommandLineTools" deleted
>>> "CommandLineTools".  Then "sudo xcode-select ?install" gave me "invalid
>>> argument '?install'".  "sudo xcode-select ?install" gave me the same.
>>> 
>>> 
>>>       ** Fortunately, I was able to update Xcode from App Store.  Now I
>>> get:
>>> 
>>> 
>>> $ clang --version
>>> Apple clang version 12.0.0 (clang-1200.0.32.27)
>>> Target: x86_64-apple-darwin20.1.0
>>> Thread model: posix
>>> InstalledDir:
>>> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
>>> 
>>> 
>>> 
>>>       If you also have a problem with "sudo xcode-select ?install", you
>>> might try the App Store.
>>> 
>>> 
>>>       Thanks, Spencer
>>> 
>>> 
>>> On 2020-12-02 08:18, Gilberto Camara wrote:
>>>> For me, it worked as follows
>>>> 
>>>> sudo rm -rf /Library/Developer/CommandLineTools
>>>> sudo xcode-select ?install
>>>> 
>>>> Best
>>>> Gilberto
>>>> 
>>>> 
>>>>> On 2 Dec 2020, at 15:15, Spencer Graves <spencer.graves at prodsyse.com>
>>>>> wrote:
>>>>> 
>>>>>       What should I do to "make sure to have installed the latest
>>>>> version of Apple's development environment, including version 12.0 of
>>>>> the compiler"?
>>>>> 
>>>>> 
>>>>>       Thanks,
>>>>>       Spencer Graves
>>>>> 
>>>>> 
>>>>> On 2020-12-02 07:36, GilbertoCamara wrote:
>>>>>> Dear all,
>>>>>> I am running R 4.0.3 on BigSur without major performance issues. I
>>>>>> am using RStudio instead of the R GUI.
>>>>>> I had to build all spatial packages (rgdal, sf, terra and raster)
>>>>>> from source using the Apple clang version 12.0.0 compiler. I also
>>>>>> had to build GDAL from scratch, since neither the ?homebrew? version
>>>>>> nor the ?kyngchaos? version work well with BigSur.
>>>>>> If anyone is building packages from source, please make sure to have
>>>>>> installed the latest version of Apple?s development environment,
>>>>>> including version 12.0 of the compiler as earlier versions do not
>>>>>> work well in BigSur.
>>>>>> Best
>>>>>> Gilberto
>>>>>> ===========================
>>>>>> Prof Dr Gilberto Camara
>>>>>> Secretariat Director
>>>>>> GEO - Group on Earth Observations
>>>>>>> On 2 Dec 2020, at 14:15, Bob Rudis <bob at rud.is> wrote:
>>>>>>> 
>>>>>>> After a bit of git and google poking it seems this is happening to
>>>>>>> users
>>>>>>> of MacVim (https://github.com/macvim-dev/macvim/issues/1114) and a few
>>>>>>> other FOSS projects.
>>>>>>> 
>>>>>>> In various GH issues (like that one) the issue claims to be
>>>>>>> resolved by
>>>>>>> using the latest Xcode & SDK but that?s not likely to be a solution
>>>>>>> for R
>>>>>>> GUI (which I?m assuming you're using and where this error is coming
>>>>>>> up).
>>>>>>> 
>>>>>>> Some of the threads I saw made it seem like it was happening
>>>>>>> especially on
>>>>>>> Touch Bar-equipped MacBook Pros (but that?s not confirmed).
>>>>>>> 
>>>>>>> When I try R GUI on Big Sur (on the new M1 Mini) ? either just plain R
>>>>>>> scripts or plotting ? I do not see this, nor do I see this on my Intel
>>>>>>> MacBook Pro (both are on the latest Big Sur beta and R 4.0.3).
>>>>>>> 
>>>>>>> On Dec 2, 2020 at 7:53:26 AM, Spencer Graves
>>>>>>> <spencer.graves at prodsyse.com>
>>>>>>> wrote:
>>>>>>> 
>>>>>>>> I didn't get this with R 4.0.3 under macOS Big Sur 11.0.1 with "time
>>>>>>>> R CMD build" / check.  I have not tried it under RStudio.
>>>>>>>> 
>>>>>>>> 
>>>>>>>> sg
>>>>>>>> 
>>>>>>>> 
>>>>>>>> On 2020-12-02 05:01, Dr Eberhard W Lisse wrote:
>>>>>>>> 
>>>>>>>> I don't get this in 4.0.3 (using the command line version of R) and I
>>>>>>>> 
>>>>>>>> don't get this in RStudio 1.3.1093 either.  I use the homebrew
>>>>>>>> versions
>>>>>>>> 
>>>>>>>> without the R GUI even installed.
>>>>>>>> 
>>>>>>>> 
>>>>>>>> I am sure more detail will be helpful to the developers.
>>>>>>>> 
>>>>>>>> 
>>>>>>>> el
>>>>>>>> 
>>>>>>>> 
>>>>>>>> On 02/12/2020 11:09, Maria-Angeles Casares-de-Cal via R-SIG-Mac
>>>>>>>> wrote:
>>>>>>>> 
>>>>>>>>> To those in charge of R for Mac OS X:
>>>>>>>> 
>>>>>>>>> 
>>>>>>>> 
>>>>>>>>> I have installed the new Big Sur operating system and now I
>>>>>>>>> always get
>>>>>>>> 
>>>>>>>>> a warning similar to:
>>>>>>>> 
>>>>>>>>> 
>>>>>>>> 
>>>>>>>>> 2020-12-02 09:52:00.647 R[703:11786] Warning: Expected min height of
>>>>>>>> 
>>>>>>>>> view: (<NSPopoverTouchBarItemButton: 0x7f9c6bb3df50>) to be less
>>>>>>>>> than
>>>>>>>> 
>>>>>>>>> or equal to 30 but got a height of 32.000000.  This error will be
>>>>>>>> 
>>>>>>>>> logged once per view in violation.
>>>>>>>> 
>>>>>>>>> 
>>>>>>>> 
>>>>>>>>> and the computer becomes very slow.
>>>>>>>> 
>>>>>>>>> 
>>>>>>>> 
>>>>>>>>> Can I do something to fix it, or will we have to wait for an R
>>>>>>>>> update?
>>>>>>>> 
>>>>>>>>> 
>>>>>>>> 
>>>>>>>>> Thank you very much for your attention.
>>>>>>>> 
>>>>>>>>> 
>>>>>>>> 
>>>>>>>>> Sincerely,
>>>>>>>> 
>>>>>>>>> 
>>>>>>>> 
>>>>>>>>> Mar?a-?ngeles Casares-de-Cal
>>>>>>>> 
>>>>>>>> [...]
>>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>>> _______________________________________________
>>>>>>>> R-SIG-Mac mailing list
>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>> 
>>>>>>> 
>>>>>>>     [[alternative HTML version deleted]]
>>>>>>> 
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From g||berto@c@m@r@@|npe @end|ng |rom gm@||@com  Wed Dec  2 23:11:34 2020
From: g||berto@c@m@r@@|npe @end|ng |rom gm@||@com (GilbertoCamara)
Date: Wed, 2 Dec 2020 23:11:34 +0100
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <70529152-2166-4704-861D-25FEF82AE75A@R-project.org>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
 <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
 <497D47A8-1AF6-4D3B-AFD1-48A6585263F7@inpe.br>
 <4ccdddeb-9c0a-d7e2-e21e-9a402fad6ab9@prodsyse.com>
 <31FED4CE-800F-438A-9E35-E72B610C80C7@gmail.com>
 <fcb2e4d0-0841-0902-2b77-3bc142ef4131@prodsyse.com>
 <3347c205-63d5-88c8-960d-4f4622732d53@lisse.NA>
 <708b194b-eb1f-1859-4aed-1a3b7c812a81@prodsyse.com>
 <70529152-2166-4704-861D-25FEF82AE75A@R-project.org>
Message-ID: <26C860D3-55DE-450E-B4EF-D531F6E866FF@inpe.br>

Dear Simon 

Unfortunately, the problems reported are real. The rgdal version from CRAN fails to recognise images in JPEG2000 format used by Copernicus Sentinel-2 satellite. I have investigated the matter carefully with Roger Bivand. 

I tried many combinations on Mac OS Big Sur: 
(a) rgdal from CRAN (binary) + GDAL from homebrew.
(b) rgdal from CRAN (source) + GDAL from homebrew.
(c) rgdal from CRAN (binary) + GDAL Mac OS Frameworks from https://www.kyngchaos.com/software/frameworks/
(d) rgdal from CRAN (source) + GDAL from kyngchaos. 
(e) rgdal from CRAN (source) + GDAL/GEOS/etc (source) with Apple clang 11.0
(f) rgdal from CRAN (source) + GDAL/GEOS/etc (source) with Apple clang 12.0

Only option (f) works correctly. 

Best regards
Gilberto 

> On 2 Dec 2020, at 22:44, Simon Urbanek <simon.urbanek at R-project.org> wrote:
> 
> Are you chasing a red herring here? Switching tools won help you - in fact they cause more issues since you'd need R-devel version of R to avoid breakage with the most recent tools or extra flags. I'm not sure which issue you are trying to solve. For gdal et al - make sure you install the latest version for CRAN - it is compatible with BigSur, older versions (before BigSur) were not.
> 
> Please start a new thread about questions unrelated to the original post as it's unclear if there are any open questions in the thread. Also please only answer if your have anything useful to say - if someone asks a question about the GUI it's rather pointless to post when you say you don't use it ... And if you ask a question, please be specific so we can help.
> 
> There is a lot of misinformation around, so be careful with random suggestions, they are very often plain wrong.
> 
> Cheers,
> Simon
> 
> 
> 
> 
>> On 3/12/2020, at 6:52 AM, Spencer Graves <spencer.graves at prodsyse.com> wrote:
>> 
>> 	  Sorry:  Typo:  I tried "sudo xcode-select --install" and got the same error.  This was in Terminal where "The default interactive shell is now zsh."  It's not critical, because "I was able to update Xcode from App Store."
>> 
>> 
>> 	  Thanks for the reply.  sg
>> 
>> 
>> On 2020-12-02 11:48, Dr Eberhard W Lisse wrote:
>>> sudo xcode-select --install
>>> el
>>> On 2020-12-02 18:52 , Spencer Graves wrote:
>>>> $ clang --version
>>>> Apple clang version 11.0.3 (clang-1103.0.32.59)
>>>> Target: x86_64-apple-darwin20.1.0
>>>> Thread model: posix
>>>> InstalledDir:
>>>> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
>>>> 
>>>> 
>>>> 
>>>>      ** "sudo rm -rf /Library/Developer/CommandLineTools" deleted
>>>> "CommandLineTools".  Then "sudo xcode-select ?install" gave me "invalid
>>>> argument '?install'".  "sudo xcode-select ?install" gave me the same.
>>>> 
>>>> 
>>>>      ** Fortunately, I was able to update Xcode from App Store.  Now I
>>>> get:
>>>> 
>>>> 
>>>> $ clang --version
>>>> Apple clang version 12.0.0 (clang-1200.0.32.27)
>>>> Target: x86_64-apple-darwin20.1.0
>>>> Thread model: posix
>>>> InstalledDir:
>>>> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
>>>> 
>>>> 
>>>> 
>>>>      If you also have a problem with "sudo xcode-select ?install", you
>>>> might try the App Store.
>>>> 
>>>> 
>>>>      Thanks, Spencer
>>>> 
>>>> 
>>>> On 2020-12-02 08:18, Gilberto Camara wrote:
>>>>> For me, it worked as follows
>>>>> 
>>>>> sudo rm -rf /Library/Developer/CommandLineTools
>>>>> sudo xcode-select ?install
>>>>> 
>>>>> Best
>>>>> Gilberto
>>>>> 
>>>>> 
>>>>>> On 2 Dec 2020, at 15:15, Spencer Graves <spencer.graves at prodsyse.com>
>>>>>> wrote:
>>>>>> 
>>>>>>      What should I do to "make sure to have installed the latest
>>>>>> version of Apple's development environment, including version 12.0 of
>>>>>> the compiler"?
>>>>>> 
>>>>>> 
>>>>>>      Thanks,
>>>>>>      Spencer Graves
>>>>>> 
>>>>>> 
>>>>>> On 2020-12-02 07:36, GilbertoCamara wrote:
>>>>>>> Dear all,
>>>>>>> I am running R 4.0.3 on BigSur without major performance issues. I
>>>>>>> am using RStudio instead of the R GUI.
>>>>>>> I had to build all spatial packages (rgdal, sf, terra and raster)
>>>>>>> from source using the Apple clang version 12.0.0 compiler. I also
>>>>>>> had to build GDAL from scratch, since neither the ?homebrew? version
>>>>>>> nor the ?kyngchaos? version work well with BigSur.
>>>>>>> If anyone is building packages from source, please make sure to have
>>>>>>> installed the latest version of Apple?s development environment,
>>>>>>> including version 12.0 of the compiler as earlier versions do not
>>>>>>> work well in BigSur.
>>>>>>> Best
>>>>>>> Gilberto
>>>>>>> ===========================
>>>>>>> Prof Dr Gilberto Camara
>>>>>>> Secretariat Director
>>>>>>> GEO - Group on Earth Observations
>>>>>>>> On 2 Dec 2020, at 14:15, Bob Rudis <bob at rud.is> wrote:
>>>>>>>> 
>>>>>>>> After a bit of git and google poking it seems this is happening to
>>>>>>>> users
>>>>>>>> of MacVim (https://github.com/macvim-dev/macvim/issues/1114) and a few
>>>>>>>> other FOSS projects.
>>>>>>>> 
>>>>>>>> In various GH issues (like that one) the issue claims to be
>>>>>>>> resolved by
>>>>>>>> using the latest Xcode & SDK but that?s not likely to be a solution
>>>>>>>> for R
>>>>>>>> GUI (which I?m assuming you're using and where this error is coming
>>>>>>>> up).
>>>>>>>> 
>>>>>>>> Some of the threads I saw made it seem like it was happening
>>>>>>>> especially on
>>>>>>>> Touch Bar-equipped MacBook Pros (but that?s not confirmed).
>>>>>>>> 
>>>>>>>> When I try R GUI on Big Sur (on the new M1 Mini) ? either just plain R
>>>>>>>> scripts or plotting ? I do not see this, nor do I see this on my Intel
>>>>>>>> MacBook Pro (both are on the latest Big Sur beta and R 4.0.3).
>>>>>>>> 
>>>>>>>> On Dec 2, 2020 at 7:53:26 AM, Spencer Graves
>>>>>>>> <spencer.graves at prodsyse.com>
>>>>>>>> wrote:
>>>>>>>> 
>>>>>>>>> I didn't get this with R 4.0.3 under macOS Big Sur 11.0.1 with "time
>>>>>>>>> R CMD build" / check.  I have not tried it under RStudio.
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> sg
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> On 2020-12-02 05:01, Dr Eberhard W Lisse wrote:
>>>>>>>>> 
>>>>>>>>> I don't get this in 4.0.3 (using the command line version of R) and I
>>>>>>>>> 
>>>>>>>>> don't get this in RStudio 1.3.1093 either.  I use the homebrew
>>>>>>>>> versions
>>>>>>>>> 
>>>>>>>>> without the R GUI even installed.
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> I am sure more detail will be helpful to the developers.
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> el
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> On 02/12/2020 11:09, Maria-Angeles Casares-de-Cal via R-SIG-Mac
>>>>>>>>> wrote:
>>>>>>>>> 
>>>>>>>>>> To those in charge of R for Mac OS X:
>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>>> I have installed the new Big Sur operating system and now I
>>>>>>>>>> always get
>>>>>>>>> 
>>>>>>>>>> a warning similar to:
>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>>> 2020-12-02 09:52:00.647 R[703:11786] Warning: Expected min height of
>>>>>>>>> 
>>>>>>>>>> view: (<NSPopoverTouchBarItemButton: 0x7f9c6bb3df50>) to be less
>>>>>>>>>> than
>>>>>>>>> 
>>>>>>>>>> or equal to 30 but got a height of 32.000000.  This error will be
>>>>>>>>> 
>>>>>>>>>> logged once per view in violation.
>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>>> and the computer becomes very slow.
>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>>> Can I do something to fix it, or will we have to wait for an R
>>>>>>>>>> update?
>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>>> Thank you very much for your attention.
>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>>> Sincerely,
>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>>> Mar?a-?ngeles Casares-de-Cal
>>>>>>>>> 
>>>>>>>>> [...]
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> _______________________________________________
>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>> 
>>>>>>>> 
>>>>>>>>    [[alternative HTML version deleted]]
>>>>>>>> 
>>>>>>>> _______________________________________________
>>>>>>>> R-SIG-Mac mailing list
>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>> 
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From @|mon@urb@nek @end|ng |rom R-project@org  Thu Dec  3 01:07:35 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Thu, 3 Dec 2020 13:07:35 +1300
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <26C860D3-55DE-450E-B4EF-D531F6E866FF@inpe.br>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
 <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
 <497D47A8-1AF6-4D3B-AFD1-48A6585263F7@inpe.br>
 <4ccdddeb-9c0a-d7e2-e21e-9a402fad6ab9@prodsyse.com>
 <31FED4CE-800F-438A-9E35-E72B610C80C7@gmail.com>
 <fcb2e4d0-0841-0902-2b77-3bc142ef4131@prodsyse.com>
 <3347c205-63d5-88c8-960d-4f4622732d53@lisse.NA>
 <708b194b-eb1f-1859-4aed-1a3b7c812a81@prodsyse.com>
 <70529152-2166-4704-861D-25FEF82AE75A@R-project.org>
 <26C860D3-55DE-450E-B4EF-D531F6E866FF@inpe.br>
Message-ID: <DE7130C1-3F97-4CA6-A300-E562C61D2FE0@R-project.org>

Gilberto,

can you provide details, please? (code, file to test etc.) The claim was that this is specific to BigSur which I doubt from your description. Please start a new thread about that at it seem entirely unrelated to the discussion at hand. There was an incompatibility with BigSur, but that was addressed.

Thanks,
Simon




> On 3/12/2020, at 11:11 AM, GilbertoCamara <gilberto.camara.inpe at gmail.com> wrote:
> 
> Dear Simon 
> 
> Unfortunately, the problems reported are real. The rgdal version from CRAN fails to recognise images in JPEG2000 format used by Copernicus Sentinel-2 satellite. I have investigated the matter carefully with Roger Bivand. 
> 
> I tried many combinations on Mac OS Big Sur: 
> (a) rgdal from CRAN (binary) + GDAL from homebrew.
> (b) rgdal from CRAN (source) + GDAL from homebrew.
> (c) rgdal from CRAN (binary) + GDAL Mac OS Frameworks from https://www.kyngchaos.com/software/frameworks/
> (d) rgdal from CRAN (source) + GDAL from kyngchaos. 
> (e) rgdal from CRAN (source) + GDAL/GEOS/etc (source) with Apple clang 11.0
> (f) rgdal from CRAN (source) + GDAL/GEOS/etc (source) with Apple clang 12.0
> 
> Only option (f) works correctly. 
> 
> Best regards
> Gilberto 
> 
>> On 2 Dec 2020, at 22:44, Simon Urbanek <simon.urbanek at R-project.org> wrote:
>> 
>> Are you chasing a red herring here? Switching tools won help you - in fact they cause more issues since you'd need R-devel version of R to avoid breakage with the most recent tools or extra flags. I'm not sure which issue you are trying to solve. For gdal et al - make sure you install the latest version for CRAN - it is compatible with BigSur, older versions (before BigSur) were not.
>> 
>> Please start a new thread about questions unrelated to the original post as it's unclear if there are any open questions in the thread. Also please only answer if your have anything useful to say - if someone asks a question about the GUI it's rather pointless to post when you say you don't use it ... And if you ask a question, please be specific so we can help.
>> 
>> There is a lot of misinformation around, so be careful with random suggestions, they are very often plain wrong.
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>> 
>>> On 3/12/2020, at 6:52 AM, Spencer Graves <spencer.graves at prodsyse.com> wrote:
>>> 
>>> 	  Sorry:  Typo:  I tried "sudo xcode-select --install" and got the same error.  This was in Terminal where "The default interactive shell is now zsh."  It's not critical, because "I was able to update Xcode from App Store."
>>> 
>>> 
>>> 	  Thanks for the reply.  sg
>>> 
>>> 
>>> On 2020-12-02 11:48, Dr Eberhard W Lisse wrote:
>>>> sudo xcode-select --install
>>>> el
>>>> On 2020-12-02 18:52 , Spencer Graves wrote:
>>>>> $ clang --version
>>>>> Apple clang version 11.0.3 (clang-1103.0.32.59)
>>>>> Target: x86_64-apple-darwin20.1.0
>>>>> Thread model: posix
>>>>> InstalledDir:
>>>>> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
>>>>> 
>>>>> 
>>>>> 
>>>>>     ** "sudo rm -rf /Library/Developer/CommandLineTools" deleted
>>>>> "CommandLineTools".  Then "sudo xcode-select ?install" gave me "invalid
>>>>> argument '?install'".  "sudo xcode-select ?install" gave me the same.
>>>>> 
>>>>> 
>>>>>     ** Fortunately, I was able to update Xcode from App Store.  Now I
>>>>> get:
>>>>> 
>>>>> 
>>>>> $ clang --version
>>>>> Apple clang version 12.0.0 (clang-1200.0.32.27)
>>>>> Target: x86_64-apple-darwin20.1.0
>>>>> Thread model: posix
>>>>> InstalledDir:
>>>>> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
>>>>> 
>>>>> 
>>>>> 
>>>>>     If you also have a problem with "sudo xcode-select ?install", you
>>>>> might try the App Store.
>>>>> 
>>>>> 
>>>>>     Thanks, Spencer
>>>>> 
>>>>> 
>>>>> On 2020-12-02 08:18, Gilberto Camara wrote:
>>>>>> For me, it worked as follows
>>>>>> 
>>>>>> sudo rm -rf /Library/Developer/CommandLineTools
>>>>>> sudo xcode-select ?install
>>>>>> 
>>>>>> Best
>>>>>> Gilberto
>>>>>> 
>>>>>> 
>>>>>>> On 2 Dec 2020, at 15:15, Spencer Graves <spencer.graves at prodsyse.com>
>>>>>>> wrote:
>>>>>>> 
>>>>>>>     What should I do to "make sure to have installed the latest
>>>>>>> version of Apple's development environment, including version 12.0 of
>>>>>>> the compiler"?
>>>>>>> 
>>>>>>> 
>>>>>>>     Thanks,
>>>>>>>     Spencer Graves
>>>>>>> 
>>>>>>> 
>>>>>>> On 2020-12-02 07:36, GilbertoCamara wrote:
>>>>>>>> Dear all,
>>>>>>>> I am running R 4.0.3 on BigSur without major performance issues. I
>>>>>>>> am using RStudio instead of the R GUI.
>>>>>>>> I had to build all spatial packages (rgdal, sf, terra and raster)
>>>>>>>> from source using the Apple clang version 12.0.0 compiler. I also
>>>>>>>> had to build GDAL from scratch, since neither the ?homebrew? version
>>>>>>>> nor the ?kyngchaos? version work well with BigSur.
>>>>>>>> If anyone is building packages from source, please make sure to have
>>>>>>>> installed the latest version of Apple?s development environment,
>>>>>>>> including version 12.0 of the compiler as earlier versions do not
>>>>>>>> work well in BigSur.
>>>>>>>> Best
>>>>>>>> Gilberto
>>>>>>>> ===========================
>>>>>>>> Prof Dr Gilberto Camara
>>>>>>>> Secretariat Director
>>>>>>>> GEO - Group on Earth Observations
>>>>>>>>> On 2 Dec 2020, at 14:15, Bob Rudis <bob at rud.is> wrote:
>>>>>>>>> 
>>>>>>>>> After a bit of git and google poking it seems this is happening to
>>>>>>>>> users
>>>>>>>>> of MacVim (https://github.com/macvim-dev/macvim/issues/1114) and a few
>>>>>>>>> other FOSS projects.
>>>>>>>>> 
>>>>>>>>> In various GH issues (like that one) the issue claims to be
>>>>>>>>> resolved by
>>>>>>>>> using the latest Xcode & SDK but that?s not likely to be a solution
>>>>>>>>> for R
>>>>>>>>> GUI (which I?m assuming you're using and where this error is coming
>>>>>>>>> up).
>>>>>>>>> 
>>>>>>>>> Some of the threads I saw made it seem like it was happening
>>>>>>>>> especially on
>>>>>>>>> Touch Bar-equipped MacBook Pros (but that?s not confirmed).
>>>>>>>>> 
>>>>>>>>> When I try R GUI on Big Sur (on the new M1 Mini) ? either just plain R
>>>>>>>>> scripts or plotting ? I do not see this, nor do I see this on my Intel
>>>>>>>>> MacBook Pro (both are on the latest Big Sur beta and R 4.0.3).
>>>>>>>>> 
>>>>>>>>> On Dec 2, 2020 at 7:53:26 AM, Spencer Graves
>>>>>>>>> <spencer.graves at prodsyse.com>
>>>>>>>>> wrote:
>>>>>>>>> 
>>>>>>>>>> I didn't get this with R 4.0.3 under macOS Big Sur 11.0.1 with "time
>>>>>>>>>> R CMD build" / check.  I have not tried it under RStudio.
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> sg
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> On 2020-12-02 05:01, Dr Eberhard W Lisse wrote:
>>>>>>>>>> 
>>>>>>>>>> I don't get this in 4.0.3 (using the command line version of R) and I
>>>>>>>>>> 
>>>>>>>>>> don't get this in RStudio 1.3.1093 either.  I use the homebrew
>>>>>>>>>> versions
>>>>>>>>>> 
>>>>>>>>>> without the R GUI even installed.
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> I am sure more detail will be helpful to the developers.
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> el
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> On 02/12/2020 11:09, Maria-Angeles Casares-de-Cal via R-SIG-Mac
>>>>>>>>>> wrote:
>>>>>>>>>> 
>>>>>>>>>>> To those in charge of R for Mac OS X:
>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>>> I have installed the new Big Sur operating system and now I
>>>>>>>>>>> always get
>>>>>>>>>> 
>>>>>>>>>>> a warning similar to:
>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>>> 2020-12-02 09:52:00.647 R[703:11786] Warning: Expected min height of
>>>>>>>>>> 
>>>>>>>>>>> view: (<NSPopoverTouchBarItemButton: 0x7f9c6bb3df50>) to be less
>>>>>>>>>>> than
>>>>>>>>>> 
>>>>>>>>>>> or equal to 30 but got a height of 32.000000.  This error will be
>>>>>>>>>> 
>>>>>>>>>>> logged once per view in violation.
>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>>> and the computer becomes very slow.
>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>>> Can I do something to fix it, or will we have to wait for an R
>>>>>>>>>>> update?
>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>>> Thank you very much for your attention.
>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>>> Sincerely,
>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>>> Mar?a-?ngeles Casares-de-Cal
>>>>>>>>>> 
>>>>>>>>>> [...]
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> _______________________________________________
>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>>   [[alternative HTML version deleted]]
>>>>>>>>> 
>>>>>>>>> _______________________________________________
>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>> 
>>>>>>> 
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From g||berto@c@m@r@@|npe @end|ng |rom gm@||@com  Thu Dec  3 09:50:06 2020
From: g||berto@c@m@r@@|npe @end|ng |rom gm@||@com (Gilberto Camara)
Date: Thu, 3 Dec 2020 09:50:06 +0100
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <DE7130C1-3F97-4CA6-A300-E562C61D2FE0@R-project.org>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
 <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
 <497D47A8-1AF6-4D3B-AFD1-48A6585263F7@inpe.br>
 <4ccdddeb-9c0a-d7e2-e21e-9a402fad6ab9@prodsyse.com>
 <31FED4CE-800F-438A-9E35-E72B610C80C7@gmail.com>
 <fcb2e4d0-0841-0902-2b77-3bc142ef4131@prodsyse.com>
 <3347c205-63d5-88c8-960d-4f4622732d53@lisse.NA>
 <708b194b-eb1f-1859-4aed-1a3b7c812a81@prodsyse.com>
 <70529152-2166-4704-861D-25FEF82AE75A@R-project.org>
 <26C860D3-55DE-450E-B4EF-D531F6E866FF@inpe.br>
 <DE7130C1-3F97-4CA6-A300-E562C61D2FE0@R-project.org>
Message-ID: <3C2BD456-977C-4551-A2BE-B7EAAE78DE4F@gmail.com>

Dear Simon, 

To test the error, please do the following on a Mac with Big Sur:

1. Install GDAL
   The available binaries I could find out are Mac OS Frameworks from https://www.kyngchaos.com/software/frameworks/ and ?homebrew?.

2. Install rgdal binary from CRAN
I am using R version 4.0.3 Patched (2020-11-25 r79505) and the rgdal version is 1.5-18 (SVN revision 1082), the latest ones available on CRAN.

3. Do the following R commands:
> drvs <- rgdal::gdalDrivers()$name; drvs[grep("JP2", drvs)]
character(0)

The response indicates that the JPEG2000 driver is not installed.

After installing both GDAL and rgdal from source with Apple clang 12.0, we get

> drvs <- rgdal::gdalDrivers()$name; drvs[grep("JP2", drvs)]
?JP2OpenJPEG"

More details on the rgdal version compiled from source with the new GDAL: 

> library(rgdal)
Loading required package: sp
rgdal: version: 1.5-18, (SVN revision 1082)
Geospatial Data Abstraction Library extensions to R successfully loaded
Loaded GDAL runtime: GDAL 3.2.0, released 2020/10/26
Path to GDAL shared files: /Users/gilbertocamara/Library/R/4.0/library/sf/gdal
GDAL binary built with GEOS: TRUE 
Loaded PROJ runtime: Rel. 7.1.1, September 1st, 2020, [PJ_VERSION: 711]
Path to PROJ shared files: /Users/gilbertocamara/Library/Application Support/proj:/usr/local/share/proj:/usr/local/share/proj
PROJ CDN enabled: FALSE
Linking to sp version:1.4-4

Hope this helps
Gilberto


> On 3 Dec 2020, at 01:07, Simon Urbanek <simon.urbanek at R-project.org> wrote:
> 
> Gilberto,
> 
> can you provide details, please? (code, file to test etc.) The claim was that this is specific to BigSur which I doubt from your description. Please start a new thread about that at it seem entirely unrelated to the discussion at hand. There was an incompatibility with BigSur, but that was addressed.
> 
> Thanks,
> Simon
> 
> 
> 
> 
>> On 3/12/2020, at 11:11 AM, GilbertoCamara <gilberto.camara.inpe at gmail.com> wrote:
>> 
>> Dear Simon 
>> 
>> Unfortunately, the problems reported are real. The rgdal version from CRAN fails to recognise images in JPEG2000 format used by Copernicus Sentinel-2 satellite. I have investigated the matter carefully with Roger Bivand. 
>> 
>> I tried many combinations on Mac OS Big Sur: 
>> (a) rgdal from CRAN (binary) + GDAL from homebrew.
>> (b) rgdal from CRAN (source) + GDAL from homebrew.
>> (c) rgdal from CRAN (binary) + GDAL Mac OS Frameworks from https://www.kyngchaos.com/software/frameworks/
>> (d) rgdal from CRAN (source) + GDAL from kyngchaos. 
>> (e) rgdal from CRAN (source) + GDAL/GEOS/etc (source) with Apple clang 11.0
>> (f) rgdal from CRAN (source) + GDAL/GEOS/etc (source) with Apple clang 12.0
>> 
>> Only option (f) works correctly. 
>> 
>> Best regards
>> Gilberto 
>> 
>>> On 2 Dec 2020, at 22:44, Simon Urbanek <simon.urbanek at R-project.org> wrote:
>>> 
>>> Are you chasing a red herring here? Switching tools won help you - in fact they cause more issues since you'd need R-devel version of R to avoid breakage with the most recent tools or extra flags. I'm not sure which issue you are trying to solve. For gdal et al - make sure you install the latest version for CRAN - it is compatible with BigSur, older versions (before BigSur) were not.
>>> 
>>> Please start a new thread about questions unrelated to the original post as it's unclear if there are any open questions in the thread. Also please only answer if your have anything useful to say - if someone asks a question about the GUI it's rather pointless to post when you say you don't use it ... And if you ask a question, please be specific so we can help.
>>> 
>>> There is a lot of misinformation around, so be careful with random suggestions, they are very often plain wrong.
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>> 
>>> 
>>>> On 3/12/2020, at 6:52 AM, Spencer Graves <spencer.graves at prodsyse.com> wrote:
>>>> 
>>>> 	  Sorry:  Typo:  I tried "sudo xcode-select --install" and got the same error.  This was in Terminal where "The default interactive shell is now zsh."  It's not critical, because "I was able to update Xcode from App Store."
>>>> 
>>>> 
>>>> 	  Thanks for the reply.  sg
>>>> 
>>>> 
>>>> On 2020-12-02 11:48, Dr Eberhard W Lisse wrote:
>>>>> sudo xcode-select --install
>>>>> el
>>>>> On 2020-12-02 18:52 , Spencer Graves wrote:
>>>>>> $ clang --version
>>>>>> Apple clang version 11.0.3 (clang-1103.0.32.59)
>>>>>> Target: x86_64-apple-darwin20.1.0
>>>>>> Thread model: posix
>>>>>> InstalledDir:
>>>>>> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>>    ** "sudo rm -rf /Library/Developer/CommandLineTools" deleted
>>>>>> "CommandLineTools".  Then "sudo xcode-select ?install" gave me "invalid
>>>>>> argument '?install'".  "sudo xcode-select ?install" gave me the same.
>>>>>> 
>>>>>> 
>>>>>>    ** Fortunately, I was able to update Xcode from App Store.  Now I
>>>>>> get:
>>>>>> 
>>>>>> 
>>>>>> $ clang --version
>>>>>> Apple clang version 12.0.0 (clang-1200.0.32.27)
>>>>>> Target: x86_64-apple-darwin20.1.0
>>>>>> Thread model: posix
>>>>>> InstalledDir:
>>>>>> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>>    If you also have a problem with "sudo xcode-select ?install", you
>>>>>> might try the App Store.
>>>>>> 
>>>>>> 
>>>>>>    Thanks, Spencer
>>>>>> 
>>>>>> 
>>>>>> On 2020-12-02 08:18, Gilberto Camara wrote:
>>>>>>> For me, it worked as follows
>>>>>>> 
>>>>>>> sudo rm -rf /Library/Developer/CommandLineTools
>>>>>>> sudo xcode-select ?install
>>>>>>> 
>>>>>>> Best
>>>>>>> Gilberto
>>>>>>> 
>>>>>>> 
>>>>>>>> On 2 Dec 2020, at 15:15, Spencer Graves <spencer.graves at prodsyse.com>
>>>>>>>> wrote:
>>>>>>>> 
>>>>>>>>    What should I do to "make sure to have installed the latest
>>>>>>>> version of Apple's development environment, including version 12.0 of
>>>>>>>> the compiler"?
>>>>>>>> 
>>>>>>>> 
>>>>>>>>    Thanks,
>>>>>>>>    Spencer Graves
>>>>>>>> 
>>>>>>>> 
>>>>>>>> On 2020-12-02 07:36, GilbertoCamara wrote:
>>>>>>>>> Dear all,
>>>>>>>>> I am running R 4.0.3 on BigSur without major performance issues. I
>>>>>>>>> am using RStudio instead of the R GUI.
>>>>>>>>> I had to build all spatial packages (rgdal, sf, terra and raster)
>>>>>>>>> from source using the Apple clang version 12.0.0 compiler. I also
>>>>>>>>> had to build GDAL from scratch, since neither the ?homebrew? version
>>>>>>>>> nor the ?kyngchaos? version work well with BigSur.
>>>>>>>>> If anyone is building packages from source, please make sure to have
>>>>>>>>> installed the latest version of Apple?s development environment,
>>>>>>>>> including version 12.0 of the compiler as earlier versions do not
>>>>>>>>> work well in BigSur.
>>>>>>>>> Best
>>>>>>>>> Gilberto
>>>>>>>>> ===========================
>>>>>>>>> Prof Dr Gilberto Camara
>>>>>>>>> Secretariat Director
>>>>>>>>> GEO - Group on Earth Observations
>>>>>>>>>> On 2 Dec 2020, at 14:15, Bob Rudis <bob at rud.is> wrote:
>>>>>>>>>> 
>>>>>>>>>> After a bit of git and google poking it seems this is happening to
>>>>>>>>>> users
>>>>>>>>>> of MacVim (https://github.com/macvim-dev/macvim/issues/1114) and a few
>>>>>>>>>> other FOSS projects.
>>>>>>>>>> 
>>>>>>>>>> In various GH issues (like that one) the issue claims to be
>>>>>>>>>> resolved by
>>>>>>>>>> using the latest Xcode & SDK but that?s not likely to be a solution
>>>>>>>>>> for R
>>>>>>>>>> GUI (which I?m assuming you're using and where this error is coming
>>>>>>>>>> up).
>>>>>>>>>> 
>>>>>>>>>> Some of the threads I saw made it seem like it was happening
>>>>>>>>>> especially on
>>>>>>>>>> Touch Bar-equipped MacBook Pros (but that?s not confirmed).
>>>>>>>>>> 
>>>>>>>>>> When I try R GUI on Big Sur (on the new M1 Mini) ? either just plain R
>>>>>>>>>> scripts or plotting ? I do not see this, nor do I see this on my Intel
>>>>>>>>>> MacBook Pro (both are on the latest Big Sur beta and R 4.0.3).
>>>>>>>>>> 
>>>>>>>>>> On Dec 2, 2020 at 7:53:26 AM, Spencer Graves
>>>>>>>>>> <spencer.graves at prodsyse.com>
>>>>>>>>>> wrote:
>>>>>>>>>> 
>>>>>>>>>>> I didn't get this with R 4.0.3 under macOS Big Sur 11.0.1 with "time
>>>>>>>>>>> R CMD build" / check.  I have not tried it under RStudio.
>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>> sg
>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>> On 2020-12-02 05:01, Dr Eberhard W Lisse wrote:
>>>>>>>>>>> 
>>>>>>>>>>> I don't get this in 4.0.3 (using the command line version of R) and I
>>>>>>>>>>> 
>>>>>>>>>>> don't get this in RStudio 1.3.1093 either.  I use the homebrew
>>>>>>>>>>> versions
>>>>>>>>>>> 
>>>>>>>>>>> without the R GUI even installed.
>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>> I am sure more detail will be helpful to the developers.
>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>> el
>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>> On 02/12/2020 11:09, Maria-Angeles Casares-de-Cal via R-SIG-Mac
>>>>>>>>>>> wrote:
>>>>>>>>>>> 
>>>>>>>>>>>> To those in charge of R for Mac OS X:
>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>>> I have installed the new Big Sur operating system and now I
>>>>>>>>>>>> always get
>>>>>>>>>>> 
>>>>>>>>>>>> a warning similar to:
>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>>> 2020-12-02 09:52:00.647 R[703:11786] Warning: Expected min height of
>>>>>>>>>>> 
>>>>>>>>>>>> view: (<NSPopoverTouchBarItemButton: 0x7f9c6bb3df50>) to be less
>>>>>>>>>>>> than
>>>>>>>>>>> 
>>>>>>>>>>>> or equal to 30 but got a height of 32.000000.  This error will be
>>>>>>>>>>> 
>>>>>>>>>>>> logged once per view in violation.
>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>>> and the computer becomes very slow.
>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>>> Can I do something to fix it, or will we have to wait for an R
>>>>>>>>>>>> update?
>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>>> Thank you very much for your attention.
>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>>> Sincerely,
>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>>> Mar?a-?ngeles Casares-de-Cal
>>>>>>>>>>> 
>>>>>>>>>>> [...]
>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>> _______________________________________________
>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>>  [[alternative HTML version deleted]]
>>>>>>>>>> 
>>>>>>>>>> _______________________________________________
>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>> 
>>>>>>>> 
>>>>>>>> _______________________________________________
>>>>>>>> R-SIG-Mac mailing list
>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>> 
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From m@cdec @end|ng |rom me@com  Thu Dec  3 12:00:56 2020
From: m@cdec @end|ng |rom me@com (Maria-Angeles Casares-de-Cal)
Date: Thu, 3 Dec 2020 12:00:56 +0100
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <70529152-2166-4704-861D-25FEF82AE75A@R-project.org>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
 <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
 <497D47A8-1AF6-4D3B-AFD1-48A6585263F7@inpe.br>
 <4ccdddeb-9c0a-d7e2-e21e-9a402fad6ab9@prodsyse.com>
 <31FED4CE-800F-438A-9E35-E72B610C80C7@gmail.com>
 <fcb2e4d0-0841-0902-2b77-3bc142ef4131@prodsyse.com>
 <3347c205-63d5-88c8-960d-4f4622732d53@lisse.NA>
 <708b194b-eb1f-1859-4aed-1a3b7c812a81@prodsyse.com>
 <70529152-2166-4704-861D-25FEF82AE75A@R-project.org>
Message-ID: <5D90FBFD-9E0E-4C7A-9C4B-090770FBF346@me.com>

Thank you very much for the interest shown by everyone who has sent their answers.

I think I have not explained well the issue. Now, there it goes (I hope better explained!):

I have a 16-inch MacBook Pro (2019), I have installed the Big Sur 11.0.1 operating system, I have installed the R 4.0.3 and the R GUI 1.73.
The R works fine, I think it is a problem with the R GUI.
When I open a session in R, I get the following warning:

2020-12-03 11: 34: 43.708 R [2479: 145386] Warning: Expected min height of view: (<NSPopoverTouchBarItemButton: 0x7fb0d3e23aa0>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.

And from that moment, the management of the windows in R and the computer slows down.
Also, every time I open a new file in R (in the same session), the warning appears again.

One of the messages I received on this mailing list said that it could be a problem related to the TouchBar of the MacBook Pro.
I have tested the same R and R GUI on a MacBook Air (Retina, 13-inch, 2020) with Big Sur, and, indeed, that problem does not appear.

I know that in Terminal and RStudio there is no problem, but I would like to solve this issue, since I prefer to work with R and the R GUI in a Mac, instead of Terminal or RStudio.

Thank you very much for your attention.

Sincerely,
Mar?a-?ngeles Casares-de-Cal
	[[alternative HTML version deleted]]


From D@n@Ke||ey @end|ng |rom D@|@C@  Thu Dec  3 12:09:56 2020
From: D@n@Ke||ey @end|ng |rom D@|@C@ (Daniel Kelley)
Date: Thu, 3 Dec 2020 11:09:56 +0000
Subject: [R-SIG-Mac] Problems with R and Big Sur
In-Reply-To: <5D90FBFD-9E0E-4C7A-9C4B-090770FBF346@me.com>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
 <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
 <497D47A8-1AF6-4D3B-AFD1-48A6585263F7@inpe.br>
 <4ccdddeb-9c0a-d7e2-e21e-9a402fad6ab9@prodsyse.com>
 <31FED4CE-800F-438A-9E35-E72B610C80C7@gmail.com>
 <fcb2e4d0-0841-0902-2b77-3bc142ef4131@prodsyse.com>
 <3347c205-63d5-88c8-960d-4f4622732d53@lisse.NA>
 <708b194b-eb1f-1859-4aed-1a3b7c812a81@prodsyse.com>
 <70529152-2166-4704-861D-25FEF82AE75A@R-project.org>
 <5D90FBFD-9E0E-4C7A-9C4B-090770FBF346@me.com>
Message-ID: <0E58617C-971C-4234-9CE6-35D4C388ABA0@dal.ca>

I can confirm the warning message on a 2020 macbook-pro-13-inch with Big Sur.

I do not know about slowdowns, because I seldom work in R.app, and when I do, it?s just for a few moments at a time.  I do not see the warning when I run R in a terminal, in vim, or in RStudio, which makes sense because the warning seems to be related to the GUI that R.app is employing.

> On Dec 3, 2020, at 7:00 AM, Maria-Angeles Casares-de-Cal via R-SIG-Mac <r-sig-mac at r-project.org> wrote:
> 
> CAUTION: The Sender of this email is not from within Dalhousie.
> 
> Thank you very much for the interest shown by everyone who has sent their answers.
> 
> I think I have not explained well the issue. Now, there it goes (I hope better explained!):
> 
> I have a 16-inch MacBook Pro (2019), I have installed the Big Sur 11.0.1 operating system, I have installed the R 4.0.3 and the R GUI 1.73.
> The R works fine, I think it is a problem with the R GUI.
> When I open a session in R, I get the following warning:
> 
> 2020-12-03 11: 34: 43.708 R [2479: 145386] Warning: Expected min height of view: (<NSPopoverTouchBarItemButton: 0x7fb0d3e23aa0>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
> 
> And from that moment, the management of the windows in R and the computer slows down.
> Also, every time I open a new file in R (in the same session), the warning appears again.
> 
> One of the messages I received on this mailing list said that it could be a problem related to the TouchBar of the MacBook Pro.
> I have tested the same R and R GUI on a MacBook Air (Retina, 13-inch, 2020) with Big Sur, and, indeed, that problem does not appear.
> 
> I know that in Terminal and RStudio there is no problem, but I would like to solve this issue, since I prefer to work with R and the R GUI in a Mac, instead of Terminal or RStudio.
> 
> Thank you very much for your attention.
> 
> Sincerely,
> Mar?a-?ngeles Casares-de-Cal
>        [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From g|uppy@@nt @end|ng |rom gm@||@com  Thu Dec  3 13:37:29 2020
From: g|uppy@@nt @end|ng |rom gm@||@com (Giuseppe Sant)
Date: Thu, 3 Dec 2020 13:37:29 +0100
Subject: [R-SIG-Mac] INSTALL R 4.0.2
Message-ID: <474AB1A1-DEEB-4FE7-B802-B416C76A787F@gmail.com>

Hi, 
I?m a student and I really need to install version of R 4.0.2 as soon as possible because I have an important exam that could change my career. I?m texting just to have the link to download that version.
Really thankful, 
Giuseppe Santangelo.

From e| @end|ng |rom ||@@e@NA  Thu Dec  3 13:41:06 2020
From: e| @end|ng |rom ||@@e@NA (Dr Eberhard W Lisse)
Date: Thu, 3 Dec 2020 14:41:06 +0200
Subject: [R-SIG-Mac] INSTALL R 4.0.2
In-Reply-To: <474AB1A1-DEEB-4FE7-B802-B416C76A787F@gmail.com>
References: <474AB1A1-DEEB-4FE7-B802-B416C76A787F@gmail.com>
Message-ID: <c3ce0813-50ef-1404-ba39-de61c1743291@lisse.NA>

Guiseppe,

if you can't google, I do not see a bright future for your exam.


el



On 03/12/2020 14:37, Giuseppe Sant wrote:
> Hi, 
> I?m a student and I really need to install version of R 4.0.2 as soon
> as possible because I have an important exam that could change my
> career.  I?m texting just to have the link to download that version.
> Really thankful, 
> Giuseppe Santangelo.
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 

-- 
Dr. Eberhard W. Lisse   \         /       Obstetrician & Gynaecologist 
el at lisse.NA             / *      |  Telephone: +264 81 124 6733 (cell)
PO Box 8421 Bachbrecht  \      /  If this email is signed with GPG/PGP
10007, Namibia           ;____/ Sect 20 of Act No. 4 of 2019 may apply


From g|uppy@@nt @end|ng |rom gm@||@com  Thu Dec  3 13:52:39 2020
From: g|uppy@@nt @end|ng |rom gm@||@com (Giuseppe Sant)
Date: Thu, 3 Dec 2020 13:52:39 +0100
Subject: [R-SIG-Mac] INSTALL R 4.0.2
In-Reply-To: <c3ce0813-50ef-1404-ba39-de61c1743291@lisse.NA>
References: <474AB1A1-DEEB-4FE7-B802-B416C76A787F@gmail.com>
 <c3ce0813-50ef-1404-ba39-de61c1743291@lisse.NA>
Message-ID: <AABC58AA-47B0-4492-863B-2F642B3E6A43@gmail.com>

That?s the right way to motivate me. Will let you know about the results.
Last thing, because of the unkind comment can you help me solving one thing but radiant?
I downloaded the packages thank opened it but in Basics->Prob calculator the layout is incomplete. I can only see the graphic, not the data over it. You know why?

> Il giorno 3 dic 2020, alle ore 13:41, Dr Eberhard W Lisse <el at lisse.NA> ha scritto:
> 
> Guiseppe,
> 
> if you can't google, I do not see a bright future for your exam.
> 
> 
> el
> 
> 
> 
> On 03/12/2020 14:37, Giuseppe Sant wrote:
>> Hi, 
>> I?m a student and I really need to install version of R 4.0.2 as soon
>> as possible because I have an important exam that could change my
>> career.  I?m texting just to have the link to download that version.
>> Really thankful, 
>> Giuseppe Santangelo.
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> -- 
> Dr. Eberhard W. Lisse   \         /       Obstetrician & Gynaecologist 
> el at lisse.NA             / *      |  Telephone: +264 81 124 6733 (cell)
> PO Box 8421 Bachbrecht  \      /  If this email is signed with GPG/PGP
> 10007, Namibia           ;____/ Sect 20 of Act No. 4 of 2019 may apply
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From du@@@@dr|@n @end|ng |rom un|buc@ro  Thu Dec  3 14:07:08 2020
From: du@@@@dr|@n @end|ng |rom un|buc@ro (=?UTF-8?B?QWRyaWFuIER1yJlh?=)
Date: Thu, 3 Dec 2020 15:07:08 +0200
Subject: [R-SIG-Mac] INSTALL R 4.0.2
In-Reply-To: <AABC58AA-47B0-4492-863B-2F642B3E6A43@gmail.com>
References: <474AB1A1-DEEB-4FE7-B802-B416C76A787F@gmail.com>
 <c3ce0813-50ef-1404-ba39-de61c1743291@lisse.NA>
 <AABC58AA-47B0-4492-863B-2F642B3E6A43@gmail.com>
Message-ID: <CAJ=0CtDbbJJcQAO72UjEwdRzwcdVeM8YJm=3J87LOWa2bP8Duw@mail.gmail.com>

Dear Giuseppe,

When asking for help, it is always a good idea to provide enough
information to allow people to help you.
I read you've downloaded the packages, but unclear what is: "thank opened".
Further, what is "Basics / Prob calculator"?, and to what "layout" are you
referring to, and from which "data"?

There are 16000+ packages on CRAN, and it is therefore unreasonable to
expect anyone to be familiar with all functions and datasets from all
packages.
A valuable netiquette rule says you should provide a so-called MRE -
minimal reproducible example. More often than not, compiling such an
example will reveal the solution to a problem even before posting (to
thousands of subscribers) for help.

I hope this helps,
Adrian


On Thu, Dec 3, 2020 at 2:55 PM Giuseppe Sant <giuppysant at gmail.com> wrote:

> That?s the right way to motivate me. Will let you know about the results.
> Last thing, because of the unkind comment can you help me solving one
> thing but radiant?
> I downloaded the packages thank opened it but in Basics->Prob calculator
> the layout is incomplete. I can only see the graphic, not the data over it.
> You know why?
>
> > Il giorno 3 dic 2020, alle ore 13:41, Dr Eberhard W Lisse <el at lisse.NA>
> ha scritto:
> >
> > Guiseppe,
> >
> > if you can't google, I do not see a bright future for your exam.
> >
> >
> > el
> >
> >
> >
> > On 03/12/2020 14:37, Giuseppe Sant wrote:
> >> Hi,
> >> I?m a student and I really need to install version of R 4.0.2 as soon
> >> as possible because I have an important exam that could change my
> >> career.  I?m texting just to have the link to download that version.
> >> Really thankful,
> >> Giuseppe Santangelo.
> >> _______________________________________________
> >> R-SIG-Mac mailing list
> >> R-SIG-Mac at r-project.org
> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>
> >
> > --
> > Dr. Eberhard W. Lisse   \         /       Obstetrician & Gynaecologist
> > el at lisse.NA             / *      |  Telephone: +264 81 124 6733 (cell)
> > PO Box 8421 Bachbrecht  \      /  If this email is signed with GPG/PGP
> > 10007, Namibia           ;____/ Sect 20 of Act No. 4 of 2019 may apply
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Adrian Dusa
University of Bucharest
Romanian Social Data Archive
Soseaua Panduri nr. 90-92
050663 Bucharest sector 5
Romania
https://adriandusa.eu

	[[alternative HTML version deleted]]


From e| @end|ng |rom ||@@e@NA  Thu Dec  3 14:08:32 2020
From: e| @end|ng |rom ||@@e@NA (Dr Eberhard W Lisse)
Date: Thu, 3 Dec 2020 15:08:32 +0200
Subject: [R-SIG-Mac] INSTALL R 4.0.2
In-Reply-To: <AABC58AA-47B0-4492-863B-2F642B3E6A43@gmail.com>
References: <474AB1A1-DEEB-4FE7-B802-B416C76A787F@gmail.com>
 <c3ce0813-50ef-1404-ba39-de61c1743291@lisse.NA>
 <AABC58AA-47B0-4492-863B-2F642B3E6A43@gmail.com>
Message-ID: <4583b38c-0656-1631-e736-8aed8436e551@lisse.NA>

You are most welcome.

The answer to your question lies probably also in Google.

el

On 03/12/2020 14:52, Giuseppe Sant wrote:
> That?s the right way to motivate me.  Will let you know about the
> results.  Last thing, because of the unkind comment can you help me
> solving one thing but radiant?
> I downloaded the packages thank opened it but in Basics->Prob
> calculator the layout is incomplete.  I can only see the graphic, not
> the data over it.  You know why?
> 
>> Il giorno 3 dic 2020, alle ore 13:41, Dr Eberhard W Lisse
<el at lisse.NA> ha scritto:
>>
>> Guiseppe,
>>
>> if you can't google, I do not see a bright future for your exam.
>>
>>
>> el
>>
>>
>>
>> On 03/12/2020 14:37, Giuseppe Sant wrote:
>>> Hi, 
>>> I?m a student and I really need to install version of R 4.0.2 as soon
>>> as possible because I have an important exam that could change my
>>> career.  I?m texting just to have the link to download that version.
>>> Really thankful, 
>>> Giuseppe Santangelo.
[...]

-- 
Dr. Eberhard W. Lisse   \         /       Obstetrician & Gynaecologist 
el at lisse.NA             / *      |  Telephone: +264 81 124 6733 (cell)
PO Box 8421 Bachbrecht  \      /  If this email is signed with GPG/PGP
10007, Namibia           ;____/ Sect 20 of Act No. 4 of 2019 may apply


From @pencer@gr@ve@ @end|ng |rom prod@y@e@com  Thu Dec  3 15:19:12 2020
From: @pencer@gr@ve@ @end|ng |rom prod@y@e@com (Spencer Graves)
Date: Thu, 3 Dec 2020 08:19:12 -0600
Subject: [R-SIG-Mac] INSTALL R 4.0.2
In-Reply-To: <4583b38c-0656-1631-e736-8aed8436e551@lisse.NA>
References: <474AB1A1-DEEB-4FE7-B802-B416C76A787F@gmail.com>
 <c3ce0813-50ef-1404-ba39-de61c1743291@lisse.NA>
 <AABC58AA-47B0-4492-863B-2F642B3E6A43@gmail.com>
 <4583b38c-0656-1631-e736-8aed8436e551@lisse.NA>
Message-ID: <79722406-f15b-ed74-650e-c7513f18343a@prodsyse.com>

	  If R 4.0.3 will do, that's easy to find via Google.


	  If you absolutely need R 4.0.2, that's much less obvious.


	  sg


On 2020-12-03 07:08, Dr Eberhard W Lisse wrote:
> You are most welcome.
> 
> The answer to your question lies probably also in Google.
> 
> el
> 
> On 03/12/2020 14:52, Giuseppe Sant wrote:
>> That?s the right way to motivate me.  Will let you know about the
>> results.  Last thing, because of the unkind comment can you help me
>> solving one thing but radiant?
>> I downloaded the packages thank opened it but in Basics->Prob
>> calculator the layout is incomplete.  I can only see the graphic, not
>> the data over it.  You know why?
>>
>>> Il giorno 3 dic 2020, alle ore 13:41, Dr Eberhard W Lisse
> <el at lisse.NA> ha scritto:
>>>
>>> Guiseppe,
>>>
>>> if you can't google, I do not see a bright future for your exam.
>>>
>>>
>>> el
>>>
>>>
>>>
>>> On 03/12/2020 14:37, Giuseppe Sant wrote:
>>>> Hi,
>>>> I?m a student and I really need to install version of R 4.0.2 as soon
>>>> as possible because I have an important exam that could change my
>>>> career.  I?m texting just to have the link to download that version.
>>>> Really thankful,
>>>> Giuseppe Santangelo.
> [...]
>


From @|mon@urb@nek @end|ng |rom R-project@org  Thu Dec  3 22:59:05 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Fri, 4 Dec 2020 10:59:05 +1300
Subject: [R-SIG-Mac] INSTALL R 4.0.2
In-Reply-To: <79722406-f15b-ed74-650e-c7513f18343a@prodsyse.com>
References: <474AB1A1-DEEB-4FE7-B802-B416C76A787F@gmail.com>
 <c3ce0813-50ef-1404-ba39-de61c1743291@lisse.NA>
 <AABC58AA-47B0-4492-863B-2F642B3E6A43@gmail.com>
 <4583b38c-0656-1631-e736-8aed8436e551@lisse.NA>
 <79722406-f15b-ed74-650e-c7513f18343a@prodsyse.com>
Message-ID: <453D005E-67BD-42CF-AFF8-750AEFD0D477@R-project.org>

R 4.0.2 and 4.0.3 are binary compatible and the latter fixes a rather important segfault on macOS, so I would not recommend anyone using R 4.0.2 on macOS ...



> On 4/12/2020, at 3:19 AM, Spencer Graves <spencer.graves at prodsyse.com> wrote:
> 
> 	  If R 4.0.3 will do, that's easy to find via Google.
> 
> 
> 	  If you absolutely need R 4.0.2, that's much less obvious.
> 
> 
> 	  sg
> 
> 
> On 2020-12-03 07:08, Dr Eberhard W Lisse wrote:
>> You are most welcome.
>> The answer to your question lies probably also in Google.
>> el
>> On 03/12/2020 14:52, Giuseppe Sant wrote:
>>> That?s the right way to motivate me.  Will let you know about the
>>> results.  Last thing, because of the unkind comment can you help me
>>> solving one thing but radiant?
>>> I downloaded the packages thank opened it but in Basics->Prob
>>> calculator the layout is incomplete.  I can only see the graphic, not
>>> the data over it.  You know why?
>>> 
>>>> Il giorno 3 dic 2020, alle ore 13:41, Dr Eberhard W Lisse
>> <el at lisse.NA> ha scritto:
>>>> 
>>>> Guiseppe,
>>>> 
>>>> if you can't google, I do not see a bright future for your exam.
>>>> 
>>>> 
>>>> el
>>>> 
>>>> 
>>>> 
>>>> On 03/12/2020 14:37, Giuseppe Sant wrote:
>>>>> Hi,
>>>>> I?m a student and I really need to install version of R 4.0.2 as soon
>>>>> as possible because I have an important exam that could change my
>>>>> career.  I?m texting just to have the link to download that version.
>>>>> Really thankful,
>>>>> Giuseppe Santangelo.
>> [...]
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From @|mon@urb@nek @end|ng |rom R-project@org  Thu Dec  3 23:05:58 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Fri, 4 Dec 2020 11:05:58 +1300
Subject: [R-SIG-Mac] OpenJPEG in GDAL [Was: Problems with R and Big Sur]
In-Reply-To: <3C2BD456-977C-4551-A2BE-B7EAAE78DE4F@gmail.com>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
 <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
 <497D47A8-1AF6-4D3B-AFD1-48A6585263F7@inpe.br>
 <4ccdddeb-9c0a-d7e2-e21e-9a402fad6ab9@prodsyse.com>
 <31FED4CE-800F-438A-9E35-E72B610C80C7@gmail.com>
 <fcb2e4d0-0841-0902-2b77-3bc142ef4131@prodsyse.com>
 <3347c205-63d5-88c8-960d-4f4622732d53@lisse.NA>
 <708b194b-eb1f-1859-4aed-1a3b7c812a81@prodsyse.com>
 <70529152-2166-4704-861D-25FEF82AE75A@R-project.org>
 <26C860D3-55DE-450E-B4EF-D531F6E866FF@inpe.br>
 <DE7130C1-3F97-4CA6-A300-E562C61D2FE0@R-project.org>
 <3C2BD456-977C-4551-A2BE-B7EAAE78DE4F@gmail.com>
Message-ID: <DC466E0D-B384-48EA-9ADD-7F2929D2C8A1@R-project.org>

Gilberto,

well, that one is easy and has nothing to do with tools nor with BigSur - no one asked for OpenJPEG support so that's why OpenJPEG is not included on the build machine. There are several dozen of optional features in GDAL and I have no idea which are useful, which are not and which are legacy, so it's up to the rgdal maintainers or users to signal if there is anything useful missing. Given the complexity of GDAL dependencies and corresponding continuous build issues I'm relying on them to tell me when it's safe to update/change settings. Simply adding the OpenJPEG library seems sufficient:

> grep("JP2", rgdal::gdalDrivers()$name, value=TRUE)
[1] "JP2OpenJPEG"

so that is now available in the CRAN binary.

Cheers,
Simon



> On 3/12/2020, at 9:50 PM, Gilberto Camara <gilberto.camara.inpe at gmail.com> wrote:
> 
> Dear Simon, 
> 
> To test the error, please do the following on a Mac with Big Sur:
> 
> 1. Install GDAL
>   The available binaries I could find out are Mac OS Frameworks from https://www.kyngchaos.com/software/frameworks/ and ?homebrew?.
> 
> 2. Install rgdal binary from CRAN
> I am using R version 4.0.3 Patched (2020-11-25 r79505) and the rgdal version is 1.5-18 (SVN revision 1082), the latest ones available on CRAN.
> 
> 3. Do the following R commands:
>> drvs <- rgdal::gdalDrivers()$name; drvs[grep("JP2", drvs)]
> character(0)
> 
> The response indicates that the JPEG2000 driver is not installed.
> 
> After installing both GDAL and rgdal from source with Apple clang 12.0, we get
> 
>> drvs <- rgdal::gdalDrivers()$name; drvs[grep("JP2", drvs)]
> ?JP2OpenJPEG"
> 
> More details on the rgdal version compiled from source with the new GDAL: 
> 
>> library(rgdal)
> Loading required package: sp
> rgdal: version: 1.5-18, (SVN revision 1082)
> Geospatial Data Abstraction Library extensions to R successfully loaded
> Loaded GDAL runtime: GDAL 3.2.0, released 2020/10/26
> Path to GDAL shared files: /Users/gilbertocamara/Library/R/4.0/library/sf/gdal
> GDAL binary built with GEOS: TRUE 
> Loaded PROJ runtime: Rel. 7.1.1, September 1st, 2020, [PJ_VERSION: 711]
> Path to PROJ shared files: /Users/gilbertocamara/Library/Application Support/proj:/usr/local/share/proj:/usr/local/share/proj
> PROJ CDN enabled: FALSE
> Linking to sp version:1.4-4
> 
> Hope this helps
> Gilberto
> 
> 
>> On 3 Dec 2020, at 01:07, Simon Urbanek <simon.urbanek at R-project.org> wrote:
>> 
>> Gilberto,
>> 
>> can you provide details, please? (code, file to test etc.) The claim was that this is specific to BigSur which I doubt from your description. Please start a new thread about that at it seem entirely unrelated to the discussion at hand. There was an incompatibility with BigSur, but that was addressed.
>> 
>> Thanks,
>> Simon
>> 
>> 
>> 
>> 
>>> On 3/12/2020, at 11:11 AM, GilbertoCamara <gilberto.camara.inpe at gmail.com> wrote:
>>> 
>>> Dear Simon 
>>> 
>>> Unfortunately, the problems reported are real. The rgdal version from CRAN fails to recognise images in JPEG2000 format used by Copernicus Sentinel-2 satellite. I have investigated the matter carefully with Roger Bivand. 
>>> 
>>> I tried many combinations on Mac OS Big Sur: 
>>> (a) rgdal from CRAN (binary) + GDAL from homebrew.
>>> (b) rgdal from CRAN (source) + GDAL from homebrew.
>>> (c) rgdal from CRAN (binary) + GDAL Mac OS Frameworks from https://www.kyngchaos.com/software/frameworks/
>>> (d) rgdal from CRAN (source) + GDAL from kyngchaos. 
>>> (e) rgdal from CRAN (source) + GDAL/GEOS/etc (source) with Apple clang 11.0
>>> (f) rgdal from CRAN (source) + GDAL/GEOS/etc (source) with Apple clang 12.0
>>> 
>>> Only option (f) works correctly. 
>>> 
>>> Best regards
>>> Gilberto 
>>> 
>>>> On 2 Dec 2020, at 22:44, Simon Urbanek <simon.urbanek at R-project.org> wrote:
>>>> 
>>>> Are you chasing a red herring here? Switching tools won help you - in fact they cause more issues since you'd need R-devel version of R to avoid breakage with the most recent tools or extra flags. I'm not sure which issue you are trying to solve. For gdal et al - make sure you install the latest version for CRAN - it is compatible with BigSur, older versions (before BigSur) were not.
>>>> 
>>>> Please start a new thread about questions unrelated to the original post as it's unclear if there are any open questions in the thread. Also please only answer if your have anything useful to say - if someone asks a question about the GUI it's rather pointless to post when you say you don't use it ... And if you ask a question, please be specific so we can help.
>>>> 
>>>> There is a lot of misinformation around, so be careful with random suggestions, they are very often plain wrong.
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>> 
>>>> 
>>>>> On 3/12/2020, at 6:52 AM, Spencer Graves <spencer.graves at prodsyse.com> wrote:
>>>>> 
>>>>> 	  Sorry:  Typo:  I tried "sudo xcode-select --install" and got the same error.  This was in Terminal where "The default interactive shell is now zsh."  It's not critical, because "I was able to update Xcode from App Store."
>>>>> 
>>>>> 
>>>>> 	  Thanks for the reply.  sg
>>>>> 
>>>>> 
>>>>> On 2020-12-02 11:48, Dr Eberhard W Lisse wrote:
>>>>>> sudo xcode-select --install
>>>>>> el
>>>>>> On 2020-12-02 18:52 , Spencer Graves wrote:
>>>>>>> $ clang --version
>>>>>>> Apple clang version 11.0.3 (clang-1103.0.32.59)
>>>>>>> Target: x86_64-apple-darwin20.1.0
>>>>>>> Thread model: posix
>>>>>>> InstalledDir:
>>>>>>> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>>   ** "sudo rm -rf /Library/Developer/CommandLineTools" deleted
>>>>>>> "CommandLineTools".  Then "sudo xcode-select ?install" gave me "invalid
>>>>>>> argument '?install'".  "sudo xcode-select ?install" gave me the same.
>>>>>>> 
>>>>>>> 
>>>>>>>   ** Fortunately, I was able to update Xcode from App Store.  Now I
>>>>>>> get:
>>>>>>> 
>>>>>>> 
>>>>>>> $ clang --version
>>>>>>> Apple clang version 12.0.0 (clang-1200.0.32.27)
>>>>>>> Target: x86_64-apple-darwin20.1.0
>>>>>>> Thread model: posix
>>>>>>> InstalledDir:
>>>>>>> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>>   If you also have a problem with "sudo xcode-select ?install", you
>>>>>>> might try the App Store.
>>>>>>> 
>>>>>>> 
>>>>>>>   Thanks, Spencer
>>>>>>> 
>>>>>>> 
>>>>>>> On 2020-12-02 08:18, Gilberto Camara wrote:
>>>>>>>> For me, it worked as follows
>>>>>>>> 
>>>>>>>> sudo rm -rf /Library/Developer/CommandLineTools
>>>>>>>> sudo xcode-select ?install
>>>>>>>> 
>>>>>>>> Best
>>>>>>>> Gilberto
>>>>>>>> 
>>>>>>>> 
>>>>>>>>> On 2 Dec 2020, at 15:15, Spencer Graves <spencer.graves at prodsyse.com>
>>>>>>>>> wrote:
>>>>>>>>> 
>>>>>>>>>   What should I do to "make sure to have installed the latest
>>>>>>>>> version of Apple's development environment, including version 12.0 of
>>>>>>>>> the compiler"?
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>>   Thanks,
>>>>>>>>>   Spencer Graves
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> On 2020-12-02 07:36, GilbertoCamara wrote:
>>>>>>>>>> Dear all,
>>>>>>>>>> I am running R 4.0.3 on BigSur without major performance issues. I
>>>>>>>>>> am using RStudio instead of the R GUI.
>>>>>>>>>> I had to build all spatial packages (rgdal, sf, terra and raster)
>>>>>>>>>> from source using the Apple clang version 12.0.0 compiler. I also
>>>>>>>>>> had to build GDAL from scratch, since neither the ?homebrew? version
>>>>>>>>>> nor the ?kyngchaos? version work well with BigSur.
>>>>>>>>>> If anyone is building packages from source, please make sure to have
>>>>>>>>>> installed the latest version of Apple?s development environment,
>>>>>>>>>> including version 12.0 of the compiler as earlier versions do not
>>>>>>>>>> work well in BigSur.
>>>>>>>>>> Best
>>>>>>>>>> Gilberto
>>>>>>>>>> ===========================
>>>>>>>>>> Prof Dr Gilberto Camara
>>>>>>>>>> Secretariat Director
>>>>>>>>>> GEO - Group on Earth Observations
>>>>>>>>>>> On 2 Dec 2020, at 14:15, Bob Rudis <bob at rud.is> wrote:
>>>>>>>>>>> 
>>>>>>>>>>> After a bit of git and google poking it seems this is happening to
>>>>>>>>>>> users
>>>>>>>>>>> of MacVim (https://github.com/macvim-dev/macvim/issues/1114) and a few
>>>>>>>>>>> other FOSS projects.
>>>>>>>>>>> 
>>>>>>>>>>> In various GH issues (like that one) the issue claims to be
>>>>>>>>>>> resolved by
>>>>>>>>>>> using the latest Xcode & SDK but that?s not likely to be a solution
>>>>>>>>>>> for R
>>>>>>>>>>> GUI (which I?m assuming you're using and where this error is coming
>>>>>>>>>>> up).
>>>>>>>>>>> 
>>>>>>>>>>> Some of the threads I saw made it seem like it was happening
>>>>>>>>>>> especially on
>>>>>>>>>>> Touch Bar-equipped MacBook Pros (but that?s not confirmed).
>>>>>>>>>>> 
>>>>>>>>>>> When I try R GUI on Big Sur (on the new M1 Mini) ? either just plain R
>>>>>>>>>>> scripts or plotting ? I do not see this, nor do I see this on my Intel
>>>>>>>>>>> MacBook Pro (both are on the latest Big Sur beta and R 4.0.3).
>>>>>>>>>>> 
>>>>>>>>>>> On Dec 2, 2020 at 7:53:26 AM, Spencer Graves
>>>>>>>>>>> <spencer.graves at prodsyse.com>
>>>>>>>>>>> wrote:
>>>>>>>>>>> 
>>>>>>>>>>>> I didn't get this with R 4.0.3 under macOS Big Sur 11.0.1 with "time
>>>>>>>>>>>> R CMD build" / check.  I have not tried it under RStudio.
>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>>> sg
>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>>> On 2020-12-02 05:01, Dr Eberhard W Lisse wrote:
>>>>>>>>>>>> 
>>>>>>>>>>>> I don't get this in 4.0.3 (using the command line version of R) and I
>>>>>>>>>>>> 
>>>>>>>>>>>> don't get this in RStudio 1.3.1093 either.  I use the homebrew
>>>>>>>>>>>> versions
>>>>>>>>>>>> 
>>>>>>>>>>>> without the R GUI even installed.
>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>>> I am sure more detail will be helpful to the developers.
>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>>> el
>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>>> On 02/12/2020 11:09, Maria-Angeles Casares-de-Cal via R-SIG-Mac
>>>>>>>>>>>> wrote:
>>>>>>>>>>>> 
>>>>>>>>>>>>> To those in charge of R for Mac OS X:
>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>>>> I have installed the new Big Sur operating system and now I
>>>>>>>>>>>>> always get
>>>>>>>>>>>> 
>>>>>>>>>>>>> a warning similar to:
>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>>>> 2020-12-02 09:52:00.647 R[703:11786] Warning: Expected min height of
>>>>>>>>>>>> 
>>>>>>>>>>>>> view: (<NSPopoverTouchBarItemButton: 0x7f9c6bb3df50>) to be less
>>>>>>>>>>>>> than
>>>>>>>>>>>> 
>>>>>>>>>>>>> or equal to 30 but got a height of 32.000000.  This error will be
>>>>>>>>>>>> 
>>>>>>>>>>>>> logged once per view in violation.
>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>>>> and the computer becomes very slow.
>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>>>> Can I do something to fix it, or will we have to wait for an R
>>>>>>>>>>>>> update?
>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>>>> Thank you very much for your attention.
>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>>>> Sincerely,
>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>>>> Mar?a-?ngeles Casares-de-Cal
>>>>>>>>>>>> 
>>>>>>>>>>>> [...]
>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>>>>> 
>>>>>>>>>>> 
>>>>>>>>>>> [[alternative HTML version deleted]]
>>>>>>>>>>> 
>>>>>>>>>>> _______________________________________________
>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> _______________________________________________
>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>> 
>>>>>>> 
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From @pencer@gr@ve@ @end|ng |rom prod@y@e@com  Thu Dec  3 23:39:52 2020
From: @pencer@gr@ve@ @end|ng |rom prod@y@e@com (Spencer Graves)
Date: Thu, 3 Dec 2020 16:39:52 -0600
Subject: [R-SIG-Mac] [BULK] Re:  INSTALL R 4.0.2
In-Reply-To: <453D005E-67BD-42CF-AFF8-750AEFD0D477@R-project.org>
References: <474AB1A1-DEEB-4FE7-B802-B416C76A787F@gmail.com>
 <c3ce0813-50ef-1404-ba39-de61c1743291@lisse.NA>
 <AABC58AA-47B0-4492-863B-2F642B3E6A43@gmail.com>
 <4583b38c-0656-1631-e736-8aed8436e551@lisse.NA>
 <79722406-f15b-ed74-650e-c7513f18343a@prodsyse.com>
 <453D005E-67BD-42CF-AFF8-750AEFD0D477@R-project.org>
Message-ID: <88a8a38a-7fa1-d342-d538-de39496d9c02@prodsyse.com>

unless, of course, the segfault is part of the exam ;-)


On 2020-12-03 15:59, Simon Urbanek wrote:
> R 4.0.2 and 4.0.3 are binary compatible and the latter fixes a rather important segfault on macOS, so I would not recommend anyone using R 4.0.2 on macOS ...
> 
> 
> 
>> On 4/12/2020, at 3:19 AM, Spencer Graves <spencer.graves at prodsyse.com> wrote:
>>
>> 	  If R 4.0.3 will do, that's easy to find via Google.
>>
>>
>> 	  If you absolutely need R 4.0.2, that's much less obvious.
>>
>>
>> 	  sg
>>
>>
>> On 2020-12-03 07:08, Dr Eberhard W Lisse wrote:
>>> You are most welcome.
>>> The answer to your question lies probably also in Google.
>>> el
>>> On 03/12/2020 14:52, Giuseppe Sant wrote:
>>>> That?s the right way to motivate me.  Will let you know about the
>>>> results.  Last thing, because of the unkind comment can you help me
>>>> solving one thing but radiant?
>>>> I downloaded the packages thank opened it but in Basics->Prob
>>>> calculator the layout is incomplete.  I can only see the graphic, not
>>>> the data over it.  You know why?
>>>>
>>>>> Il giorno 3 dic 2020, alle ore 13:41, Dr Eberhard W Lisse
>>> <el at lisse.NA> ha scritto:
>>>>>
>>>>> Guiseppe,
>>>>>
>>>>> if you can't google, I do not see a bright future for your exam.
>>>>>
>>>>>
>>>>> el
>>>>>
>>>>>
>>>>>
>>>>> On 03/12/2020 14:37, Giuseppe Sant wrote:
>>>>>> Hi,
>>>>>> I?m a student and I really need to install version of R 4.0.2 as soon
>>>>>> as possible because I have an important exam that could change my
>>>>>> career.  I?m texting just to have the link to download that version.
>>>>>> Really thankful,
>>>>>> Giuseppe Santangelo.
>>> [...]
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>


From o||v|er @end|ng |rom ce|h@y@net  Mon Dec  7 20:56:39 2020
From: o||v|er @end|ng |rom ce|h@y@net (Olivier)
Date: Mon, 7 Dec 2020 14:56:39 -0500
Subject: [R-SIG-Mac] R-4.0-branch x86_64: make FAILED
Message-ID: <5573C1E2-7A3A-443C-906C-0BEEF764A3AA@celhay.net>

There is an issue with the build usually available at https://mac.r-project.org/high-sierra/R-4.0-branch/x86_64/R-4.0-branch.tar.gz <https://mac.r-project.org/high-sierra/R-4.0-branch/x86_64/R-4.0-branch.tar.gz>

	x86_64: make FAILED

Apologies if it?s not the proper channel to report that.

Regards,
Olivier
	[[alternative HTML version deleted]]


From g||berto@c@m@r@@|npe @end|ng |rom gm@||@com  Tue Dec  8 12:23:22 2020
From: g||berto@c@m@r@@|npe @end|ng |rom gm@||@com (Gilberto Camara)
Date: Tue, 8 Dec 2020 12:23:22 +0100
Subject: [R-SIG-Mac] OpenJPEG in GDAL [Was: Problems with R and Big Sur]
In-Reply-To: <DC466E0D-B384-48EA-9ADD-7F2929D2C8A1@R-project.org>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <465315b3-6b8e-1596-1fdd-17df81613bb7@lisse.NA>
 <ecbb25d1-8232-cd6f-f8c2-05b6384acdc7@prodsyse.com>
 <CAA-FpKV=YXFeXYQSqC1AmvtD0dqXwOQfr4i2OKTkycpVMVpVJw@mail.gmail.com>
 <497D47A8-1AF6-4D3B-AFD1-48A6585263F7@inpe.br>
 <4ccdddeb-9c0a-d7e2-e21e-9a402fad6ab9@prodsyse.com>
 <31FED4CE-800F-438A-9E35-E72B610C80C7@gmail.com>
 <fcb2e4d0-0841-0902-2b77-3bc142ef4131@prodsyse.com>
 <3347c205-63d5-88c8-960d-4f4622732d53@lisse.NA>
 <708b194b-eb1f-1859-4aed-1a3b7c812a81@prodsyse.com>
 <70529152-2166-4704-861D-25FEF82AE75A@R-project.org>
 <26C860D3-55DE-450E-B4EF-D531F6E866FF@inpe.br>
 <DE7130C1-3F97-4CA6-A300-E562C61D2FE0@R-project.org>
 <3C2BD456-977C-4551-A2BE-B7EAAE78DE4F@gmail.com>
 <DC466E0D-B384-48EA-9ADD-7F2929D2C8A1@R-project.org>
Message-ID: <AFDF2C78-C730-4ED5-B533-94F5D5D404DE@gmail.com>

Dear Simon 

Apologies for the late response. Thank you so much for including the OpenJPEG driver in rgdal. For your information, JPEG2000 is the data format chosen by the European Space Agency (ESA) to distribute the images of the Sentinel-2 and Sentinel-2A satellites. Data from these satellites is one of the major source of information about the Earth?s land surfaces.

Thanks and best regards
Gilberto 
 

> On 3 Dec 2020, at 23:05, Simon Urbanek <simon.urbanek at R-project.org> wrote:
> 
> Gilberto,
> 
> well, that one is easy and has nothing to do with tools nor with BigSur - no one asked for OpenJPEG support so that's why OpenJPEG is not included on the build machine. There are several dozen of optional features in GDAL and I have no idea which are useful, which are not and which are legacy, so it's up to the rgdal maintainers or users to signal if there is anything useful missing. Given the complexity of GDAL dependencies and corresponding continuous build issues I'm relying on them to tell me when it's safe to update/change settings. Simply adding the OpenJPEG library seems sufficient:
> 
>> grep("JP2", rgdal::gdalDrivers()$name, value=TRUE)
> [1] "JP2OpenJPEG"
> 
> so that is now available in the CRAN binary.
> 
> Cheers,
> Simon
> 
> 
> 
>> On 3/12/2020, at 9:50 PM, Gilberto Camara <gilberto.camara.inpe at gmail.com> wrote:
>> 
>> Dear Simon, 
>> 
>> To test the error, please do the following on a Mac with Big Sur:
>> 
>> 1. Install GDAL
>>  The available binaries I could find out are Mac OS Frameworks from https://www.kyngchaos.com/software/frameworks/ and ?homebrew?.
>> 
>> 2. Install rgdal binary from CRAN
>> I am using R version 4.0.3 Patched (2020-11-25 r79505) and the rgdal version is 1.5-18 (SVN revision 1082), the latest ones available on CRAN.
>> 
>> 3. Do the following R commands:
>>> drvs <- rgdal::gdalDrivers()$name; drvs[grep("JP2", drvs)]
>> character(0)
>> 
>> The response indicates that the JPEG2000 driver is not installed.
>> 
>> After installing both GDAL and rgdal from source with Apple clang 12.0, we get
>> 
>>> drvs <- rgdal::gdalDrivers()$name; drvs[grep("JP2", drvs)]
>> ?JP2OpenJPEG"
>> 
>> More details on the rgdal version compiled from source with the new GDAL: 
>> 
>>> library(rgdal)
>> Loading required package: sp
>> rgdal: version: 1.5-18, (SVN revision 1082)
>> Geospatial Data Abstraction Library extensions to R successfully loaded
>> Loaded GDAL runtime: GDAL 3.2.0, released 2020/10/26
>> Path to GDAL shared files: /Users/gilbertocamara/Library/R/4.0/library/sf/gdal
>> GDAL binary built with GEOS: TRUE 
>> Loaded PROJ runtime: Rel. 7.1.1, September 1st, 2020, [PJ_VERSION: 711]
>> Path to PROJ shared files: /Users/gilbertocamara/Library/Application Support/proj:/usr/local/share/proj:/usr/local/share/proj
>> PROJ CDN enabled: FALSE
>> Linking to sp version:1.4-4
>> 
>> Hope this helps
>> Gilberto
>> 
>> 
>>> On 3 Dec 2020, at 01:07, Simon Urbanek <simon.urbanek at R-project.org> wrote:
>>> 
>>> Gilberto,
>>> 
>>> can you provide details, please? (code, file to test etc.) The claim was that this is specific to BigSur which I doubt from your description. Please start a new thread about that at it seem entirely unrelated to the discussion at hand. There was an incompatibility with BigSur, but that was addressed.
>>> 
>>> Thanks,
>>> Simon
>>> 
>>> 
>>> 
>>> 
>>>> On 3/12/2020, at 11:11 AM, GilbertoCamara <gilberto.camara.inpe at gmail.com> wrote:
>>>> 
>>>> Dear Simon 
>>>> 
>>>> Unfortunately, the problems reported are real. The rgdal version from CRAN fails to recognise images in JPEG2000 format used by Copernicus Sentinel-2 satellite. I have investigated the matter carefully with Roger Bivand. 
>>>> 
>>>> I tried many combinations on Mac OS Big Sur: 
>>>> (a) rgdal from CRAN (binary) + GDAL from homebrew.
>>>> (b) rgdal from CRAN (source) + GDAL from homebrew.
>>>> (c) rgdal from CRAN (binary) + GDAL Mac OS Frameworks from https://www.kyngchaos.com/software/frameworks/
>>>> (d) rgdal from CRAN (source) + GDAL from kyngchaos. 
>>>> (e) rgdal from CRAN (source) + GDAL/GEOS/etc (source) with Apple clang 11.0
>>>> (f) rgdal from CRAN (source) + GDAL/GEOS/etc (source) with Apple clang 12.0
>>>> 
>>>> Only option (f) works correctly. 
>>>> 
>>>> Best regards
>>>> Gilberto 
>>>> 
>>>>> On 2 Dec 2020, at 22:44, Simon Urbanek <simon.urbanek at R-project.org> wrote:
>>>>> 
>>>>> Are you chasing a red herring here? Switching tools won help you - in fact they cause more issues since you'd need R-devel version of R to avoid breakage with the most recent tools or extra flags. I'm not sure which issue you are trying to solve. For gdal et al - make sure you install the latest version for CRAN - it is compatible with BigSur, older versions (before BigSur) were not.
>>>>> 
>>>>> Please start a new thread about questions unrelated to the original post as it's unclear if there are any open questions in the thread. Also please only answer if your have anything useful to say - if someone asks a question about the GUI it's rather pointless to post when you say you don't use it ... And if you ask a question, please be specific so we can help.
>>>>> 
>>>>> There is a lot of misinformation around, so be careful with random suggestions, they are very often plain wrong.
>>>>> 
>>>>> Cheers,
>>>>> Simon
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>>> On 3/12/2020, at 6:52 AM, Spencer Graves <spencer.graves at prodsyse.com> wrote:
>>>>>> 
>>>>>> 	  Sorry:  Typo:  I tried "sudo xcode-select --install" and got the same error.  This was in Terminal where "The default interactive shell is now zsh."  It's not critical, because "I was able to update Xcode from App Store."
>>>>>> 
>>>>>> 
>>>>>> 	  Thanks for the reply.  sg
>>>>>> 
>>>>>> 
>>>>>> On 2020-12-02 11:48, Dr Eberhard W Lisse wrote:
>>>>>>> sudo xcode-select --install
>>>>>>> el
>>>>>>> On 2020-12-02 18:52 , Spencer Graves wrote:
>>>>>>>> $ clang --version
>>>>>>>> Apple clang version 11.0.3 (clang-1103.0.32.59)
>>>>>>>> Target: x86_64-apple-darwin20.1.0
>>>>>>>> Thread model: posix
>>>>>>>> InstalledDir:
>>>>>>>> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
>>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>>>  ** "sudo rm -rf /Library/Developer/CommandLineTools" deleted
>>>>>>>> "CommandLineTools".  Then "sudo xcode-select ?install" gave me "invalid
>>>>>>>> argument '?install'".  "sudo xcode-select ?install" gave me the same.
>>>>>>>> 
>>>>>>>> 
>>>>>>>>  ** Fortunately, I was able to update Xcode from App Store.  Now I
>>>>>>>> get:
>>>>>>>> 
>>>>>>>> 
>>>>>>>> $ clang --version
>>>>>>>> Apple clang version 12.0.0 (clang-1200.0.32.27)
>>>>>>>> Target: x86_64-apple-darwin20.1.0
>>>>>>>> Thread model: posix
>>>>>>>> InstalledDir:
>>>>>>>> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin
>>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>>>  If you also have a problem with "sudo xcode-select ?install", you
>>>>>>>> might try the App Store.
>>>>>>>> 
>>>>>>>> 
>>>>>>>>  Thanks, Spencer
>>>>>>>> 
>>>>>>>> 
>>>>>>>> On 2020-12-02 08:18, Gilberto Camara wrote:
>>>>>>>>> For me, it worked as follows
>>>>>>>>> 
>>>>>>>>> sudo rm -rf /Library/Developer/CommandLineTools
>>>>>>>>> sudo xcode-select ?install
>>>>>>>>> 
>>>>>>>>> Best
>>>>>>>>> Gilberto
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>>> On 2 Dec 2020, at 15:15, Spencer Graves <spencer.graves at prodsyse.com>
>>>>>>>>>> wrote:
>>>>>>>>>> 
>>>>>>>>>>  What should I do to "make sure to have installed the latest
>>>>>>>>>> version of Apple's development environment, including version 12.0 of
>>>>>>>>>> the compiler"?
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>>  Thanks,
>>>>>>>>>>  Spencer Graves
>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> On 2020-12-02 07:36, GilbertoCamara wrote:
>>>>>>>>>>> Dear all,
>>>>>>>>>>> I am running R 4.0.3 on BigSur without major performance issues. I
>>>>>>>>>>> am using RStudio instead of the R GUI.
>>>>>>>>>>> I had to build all spatial packages (rgdal, sf, terra and raster)
>>>>>>>>>>> from source using the Apple clang version 12.0.0 compiler. I also
>>>>>>>>>>> had to build GDAL from scratch, since neither the ?homebrew? version
>>>>>>>>>>> nor the ?kyngchaos? version work well with BigSur.
>>>>>>>>>>> If anyone is building packages from source, please make sure to have
>>>>>>>>>>> installed the latest version of Apple?s development environment,
>>>>>>>>>>> including version 12.0 of the compiler as earlier versions do not
>>>>>>>>>>> work well in BigSur.
>>>>>>>>>>> Best
>>>>>>>>>>> Gilberto
>>>>>>>>>>> ===========================
>>>>>>>>>>> Prof Dr Gilberto Camara
>>>>>>>>>>> Secretariat Director
>>>>>>>>>>> GEO - Group on Earth Observations
>>>>>>>>>>>> On 2 Dec 2020, at 14:15, Bob Rudis <bob at rud.is> wrote:
>>>>>>>>>>>> 
>>>>>>>>>>>> After a bit of git and google poking it seems this is happening to
>>>>>>>>>>>> users
>>>>>>>>>>>> of MacVim (https://github.com/macvim-dev/macvim/issues/1114) and a few
>>>>>>>>>>>> other FOSS projects.
>>>>>>>>>>>> 
>>>>>>>>>>>> In various GH issues (like that one) the issue claims to be
>>>>>>>>>>>> resolved by
>>>>>>>>>>>> using the latest Xcode & SDK but that?s not likely to be a solution
>>>>>>>>>>>> for R
>>>>>>>>>>>> GUI (which I?m assuming you're using and where this error is coming
>>>>>>>>>>>> up).
>>>>>>>>>>>> 
>>>>>>>>>>>> Some of the threads I saw made it seem like it was happening
>>>>>>>>>>>> especially on
>>>>>>>>>>>> Touch Bar-equipped MacBook Pros (but that?s not confirmed).
>>>>>>>>>>>> 
>>>>>>>>>>>> When I try R GUI on Big Sur (on the new M1 Mini) ? either just plain R
>>>>>>>>>>>> scripts or plotting ? I do not see this, nor do I see this on my Intel
>>>>>>>>>>>> MacBook Pro (both are on the latest Big Sur beta and R 4.0.3).
>>>>>>>>>>>> 
>>>>>>>>>>>> On Dec 2, 2020 at 7:53:26 AM, Spencer Graves
>>>>>>>>>>>> <spencer.graves at prodsyse.com>
>>>>>>>>>>>> wrote:
>>>>>>>>>>>> 
>>>>>>>>>>>>> I didn't get this with R 4.0.3 under macOS Big Sur 11.0.1 with "time
>>>>>>>>>>>>> R CMD build" / check.  I have not tried it under RStudio.
>>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>>> sg
>>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>>> On 2020-12-02 05:01, Dr Eberhard W Lisse wrote:
>>>>>>>>>>>>> 
>>>>>>>>>>>>> I don't get this in 4.0.3 (using the command line version of R) and I
>>>>>>>>>>>>> 
>>>>>>>>>>>>> don't get this in RStudio 1.3.1093 either.  I use the homebrew
>>>>>>>>>>>>> versions
>>>>>>>>>>>>> 
>>>>>>>>>>>>> without the R GUI even installed.
>>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>>> I am sure more detail will be helpful to the developers.
>>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>>> el
>>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>>> On 02/12/2020 11:09, Maria-Angeles Casares-de-Cal via R-SIG-Mac
>>>>>>>>>>>>> wrote:
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> To those in charge of R for Mac OS X:
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> I have installed the new Big Sur operating system and now I
>>>>>>>>>>>>>> always get
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> a warning similar to:
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> 2020-12-02 09:52:00.647 R[703:11786] Warning: Expected min height of
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> view: (<NSPopoverTouchBarItemButton: 0x7f9c6bb3df50>) to be less
>>>>>>>>>>>>>> than
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> or equal to 30 but got a height of 32.000000.  This error will be
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> logged once per view in violation.
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> and the computer becomes very slow.
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> Can I do something to fix it, or will we have to wait for an R
>>>>>>>>>>>>>> update?
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> Thank you very much for your attention.
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> Sincerely,
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>>>> Mar?a-?ngeles Casares-de-Cal
>>>>>>>>>>>>> 
>>>>>>>>>>>>> [...]
>>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>>> 
>>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>>>>>> 
>>>>>>>>>>>> 
>>>>>>>>>>>> [[alternative HTML version deleted]]
>>>>>>>>>>>> 
>>>>>>>>>>>> _______________________________________________
>>>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>>>> 
>>>>>>>>>> 
>>>>>>>>>> _______________________________________________
>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>> 
>>>>>>>> 
>>>>>>>> _______________________________________________
>>>>>>>> R-SIG-Mac mailing list
>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>> 
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 



===========================
Prof Dr Gilberto Camara
Secretariat Director
GEO - Group on Earth Observations
www.earthobservations.org


From @|mon@urb@nek @end|ng |rom R-project@org  Tue Dec  8 23:42:09 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Wed, 9 Dec 2020 11:42:09 +1300
Subject: [R-SIG-Mac] R-4.0-branch x86_64: make FAILED
In-Reply-To: <5573C1E2-7A3A-443C-906C-0BEEF764A3AA@celhay.net>
References: <5573C1E2-7A3A-443C-906C-0BEEF764A3AA@celhay.net>
Message-ID: <BD3A2838-850F-463B-812A-4593119194CF@R-project.org>

Olivier,

thank you for the report. It seems that the following build has succeeded. Since those are nightly builds from "live" branches it quite possible for them to fail - in this case whatever the issue was it got fixed by the next build.

Thanks,
Simon



> On Dec 8, 2020, at 8:56 AM, Olivier <olivier at celhay.net> wrote:
> 
> There is an issue with the build usually available at https://mac.r-project.org/high-sierra/R-4.0-branch/x86_64/R-4.0-branch.tar.gz <https://mac.r-project.org/high-sierra/R-4.0-branch/x86_64/R-4.0-branch.tar.gz>
> 
> 	x86_64: make FAILED
> 
> Apologies if it?s not the proper channel to report that.
> 
> Regards,
> Olivier
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From r|p|ey @end|ng |rom @t@t@@ox@@c@uk  Sun Dec 13 06:45:25 2020
From: r|p|ey @end|ng |rom @t@t@@ox@@c@uk (Prof Brian Ripley)
Date: Sun, 13 Dec 2020 05:45:25 +0000
Subject: [R-SIG-Mac] CRAN package checks on M1 Mac
Message-ID: <efbc7418-edfe-fd24-96cc-acbbf3305f2d@stats.ox.ac.uk>

We have managed a fairly complete check run with natively-compiled R and 
packages, and a full one with x86_64 R and packages running under 
Rosetta (mainly using CRAN binary distributions).

The bottom line is that running under Rosetta works really well. 
Although relative speeds vary widely, using the native build was 
1.3-1.5x faster for the central 50% of the distribution.  And a MacBook 
Air is remarkably capable for a lightweight laptop.


x86_64 tests
------------

I compared the check output to that from my 2012 iMac: typically this 
was 1.7x faster than the iMac (and benchmarks have current iMac/MacMini 
about that much faster than mine).

A couple of packages ran much slower than on the iMac and hit their 
check limits, and one fails because it checks elapsed time (and was 
slower than on the iMac).

10 packages segfaulted in their checks (but most of those are known to 
segfault intermittently on other platforms).

There were issues with packages attempting to work with Python, which 
may be Big Sur differences.

Given that I have 58 packages failing their checks on the iMac under 
High Sierra this was a very small amount of degradation.


native tests
------------

Currently I have 57 CRAN packages failing to install, but 650 others 
require those or BioC packages which fail to install (the most commonly 
required being rgl and V8 [*]).  And ca 120 packages are not using 
conditionally Suggests packages which fail to install.

There are segfaults from ca 150 packages using minpack.lm::nls.lm, 
deSolve::lsoda, rootSolve::stode ... all of which use Fortran.

That platform does not have long doubles nor extended precision but the 
CRAN checking on Linux and Sparc with --disable-long-doubles has paid 
off: only a handful of check results show numerical differences.

Quite a lot of external software and several packages have had to be 
patched, and it is early days for the former (and the Fortran compiler) 
- for example I was able to build v8, but V8 segfaulted in its checks.

Currently ca 400 packages which install fail their checks.


Note that all these checks were done with enough parallelism to have the 
machine 80-90% loaded, which it managed for days at a time without even 
getting warm.  However (not just on this machine) running multiple tasks 
in parallel takes more CPU time for each.  To illustrate that, I re-ran 
the native Matrix check on its own: the CPU time decreased from 185s to 
120s.


[*] But many of the packages requiring them to install do not actually 
use them in their checks so fake installs would do.  The results 
reported here were without fake installs.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford


From pm|||n @end|ng |rom gm@||@com  Sun Dec 13 13:47:02 2020
From: pm|||n @end|ng |rom gm@||@com (Petar Milin)
Date: Sun, 13 Dec 2020 12:47:02 +0000
Subject: [R-SIG-Mac] Follow up on R 4.0.2 GUI does not terminate with Cmd+Q
Message-ID: <98DC8C36-08B1-4457-B4F0-D65D522D0061@gmail.com>

Following on this thread
	https://stat.ethz.ch/pipermail/r-sig-mac/2020-October/013752.html <https://stat.ethz.ch/pipermail/r-sig-mac/2020-October/013752.html>

I did upgrade to 4.0.3, but the same problem persist: occasionally R refuses to terminate and I need to do the Force Quit. This happens only with GUI and not if I use RStudio.

The difference in behaviour between 4.0.2 and 4.0.3 is that the former closed the GUI but R remain to run and started heating the machine. The latter's GUI stays open and just hangs. Activity Monitor shows that this is taking a lot of resources.

Any suggestion?

Many thanks!
Petar
	[[alternative HTML version deleted]]


From @|mon@urb@nek @end|ng |rom R-project@org  Sun Dec 13 21:37:28 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Mon, 14 Dec 2020 09:37:28 +1300
Subject: [R-SIG-Mac] 
 Follow up on R 4.0.2 GUI does not terminate with Cmd+Q
In-Reply-To: <98DC8C36-08B1-4457-B4F0-D65D522D0061@gmail.com>
References: <98DC8C36-08B1-4457-B4F0-D65D522D0061@gmail.com>
Message-ID: <8ACB6B43-5ECF-4E4F-BD69-AA47A7AE87A7@R-project.org>

Petar,

there are two options that would be helpful to us to trace it:

1) use the Debug version of the GUI (from https://mac.R-project.org/ - make sure you pick the one that matches your R version) and check the console when that happens - you should likely see some output there

2) when using the regular version and this happens, please open the Activity Monitor, select the R process, click on the little wheel in the tool bar and select "Sample Process" and send me the resulting file.

Thanks,
Simon



> On 14/12/2020, at 1:47 AM, Petar Milin <pmilin at gmail.com> wrote:
> 
> Following on this thread
> 	https://stat.ethz.ch/pipermail/r-sig-mac/2020-October/013752.html <https://stat.ethz.ch/pipermail/r-sig-mac/2020-October/013752.html>
> 
> I did upgrade to 4.0.3, but the same problem persist: occasionally R refuses to terminate and I need to do the Force Quit. This happens only with GUI and not if I use RStudio.
> 
> The difference in behaviour between 4.0.2 and 4.0.3 is that the former closed the GUI but R remain to run and started heating the machine. The latter's GUI stays open and just hangs. Activity Monitor shows that this is taking a lot of resources.
> 
> Any suggestion?
> 
> Many thanks!
> Petar
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From pm|||n @end|ng |rom gm@||@com  Sun Dec 13 22:21:32 2020
From: pm|||n @end|ng |rom gm@||@com (Petar Milin)
Date: Sun, 13 Dec 2020 21:21:32 +0000
Subject: [R-SIG-Mac] 
 Follow up on R 4.0.2 GUI does not terminate with Cmd+Q
In-Reply-To: <8ACB6B43-5ECF-4E4F-BD69-AA47A7AE87A7@R-project.org>
References: <98DC8C36-08B1-4457-B4F0-D65D522D0061@gmail.com>
 <8ACB6B43-5ECF-4E4F-BD69-AA47A7AE87A7@R-project.org>
Message-ID: <C52A8105-DB15-4D3C-8C63-F760847134AF@gmail.com>

Dear Simon,

Sample Process attached (it was faster)

Regards,
Petar




> On 13 Dec 2020, at 20:37, Simon Urbanek <simon.urbanek at R-project.org> wrote:
> 
> Petar,
> 
> there are two options that would be helpful to us to trace it:
> 
> 1) use the Debug version of the GUI (from https://mac.R-project.org/ <https://mac.r-project.org/> - make sure you pick the one that matches your R version) and check the console when that happens - you should likely see some output there
> 
> 2) when using the regular version and this happens, please open the Activity Monitor, select the R process, click on the little wheel in the tool bar and select "Sample Process" and send me the resulting file.
> 
> Thanks,
> Simon
> 
> 
> 
>> On 14/12/2020, at 1:47 AM, Petar Milin <pmilin at gmail.com <mailto:pmilin at gmail.com>> wrote:
>> 
>> Following on this thread
>> 	https://stat.ethz.ch/pipermail/r-sig-mac/2020-October/013752.html <https://stat.ethz.ch/pipermail/r-sig-mac/2020-October/013752.html> <https://stat.ethz.ch/pipermail/r-sig-mac/2020-October/013752.html <https://stat.ethz.ch/pipermail/r-sig-mac/2020-October/013752.html>>
>> 
>> I did upgrade to 4.0.3, but the same problem persist: occasionally R refuses to terminate and I need to do the Force Quit. This happens only with GUI and not if I use RStudio.
>> 
>> The difference in behaviour between 4.0.2 and 4.0.3 is that the former closed the GUI but R remain to run and started heating the machine. The latter's GUI stays open and just hangs. Activity Monitor shows that this is taking a lot of resources.
>> 
>> Any suggestion?
>> 
>> Many thanks!
>> Petar
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org <mailto:R-SIG-Mac at r-project.org>
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac <https://stat.ethz.ch/mailman/listinfo/r-sig-mac>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20201213/eaf6cb7a/attachment-0002.html>

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Sample_of_R.txt
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20201213/eaf6cb7a/attachment-0001.txt>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20201213/eaf6cb7a/attachment-0003.html>

From @|mon@urb@nek @end|ng |rom R-project@org  Sun Dec 13 23:57:34 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Mon, 14 Dec 2020 11:57:34 +1300
Subject: [R-SIG-Mac] 
 Follow up on R 4.0.2 GUI does not terminate with Cmd+Q
In-Reply-To: <C52A8105-DB15-4D3C-8C63-F760847134AF@gmail.com>
References: <98DC8C36-08B1-4457-B4F0-D65D522D0061@gmail.com>
 <8ACB6B43-5ECF-4E4F-BD69-AA47A7AE87A7@R-project.org>
 <C52A8105-DB15-4D3C-8C63-F760847134AF@gmail.com>
Message-ID: <2577D35E-3AB4-47F1-82BB-6C342B8D9961@R-project.org>

Petar,

thanks, that output helps. As part of the cleanup R executes a system() command which crashes, causing the hang as the GUI tries to recover from the crash, but fails.

I tried to use a different way to issue the system() command, so please try the Mac GUI rev. 7903 or higher from https://mac.R-project.org which should become available after the nightly build in the next 24h (scroll down to Mac OS X GUI and you can run it directly from the downloaded image, you don't have to install it).

Thanks,
Simon



> On 14/12/2020, at 10:21 AM, Petar Milin <pmilin at gmail.com> wrote:
> 
> Dear Simon,
> 
> Sample Process attached (it was faster)
> 
> Regards,
> Petar
> 
> <Sample_of_R.txt>
> 
> 
>> On 13 Dec 2020, at 20:37, Simon Urbanek <simon.urbanek at R-project.org> wrote:
>> 
>> Petar,
>> 
>> there are two options that would be helpful to us to trace it:
>> 
>> 1) use the Debug version of the GUI (from https://mac.R-project.org/ - make sure you pick the one that matches your R version) and check the console when that happens - you should likely see some output there
>> 
>> 2) when using the regular version and this happens, please open the Activity Monitor, select the R process, click on the little wheel in the tool bar and select "Sample Process" and send me the resulting file.
>> 
>> Thanks,
>> Simon
>> 
>> 
>> 
>>> On 14/12/2020, at 1:47 AM, Petar Milin <pmilin at gmail.com> wrote:
>>> 
>>> Following on this thread
>>> 	https://stat.ethz.ch/pipermail/r-sig-mac/2020-October/013752.html <https://stat.ethz.ch/pipermail/r-sig-mac/2020-October/013752.html>
>>> 
>>> I did upgrade to 4.0.3, but the same problem persist: occasionally R refuses to terminate and I need to do the Force Quit. This happens only with GUI and not if I use RStudio.
>>> 
>>> The difference in behaviour between 4.0.2 and 4.0.3 is that the former closed the GUI but R remain to run and started heating the machine. The latter's GUI stays open and just hangs. Activity Monitor shows that this is taking a lot of resources.
>>> 
>>> Any suggestion?
>>> 
>>> Many thanks!
>>> Petar
>>> 	[[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From he||yj @end|ng |rom uc@d@edu  Mon Dec 14 00:31:41 2020
From: he||yj @end|ng |rom uc@d@edu (John Helly)
Date: Sun, 13 Dec 2020 13:31:41 -1000
Subject: [R-SIG-Mac] summary() suddently producing weird NULL: values for
 factors and character attributes
In-Reply-To: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
Message-ID: <91b66a79-dc83-750b-bca3-9c9824286487@ucsd.edu>

Aloha.

For the past few weeks, maybe 6 or more, I've been getting strange 
results from the summary() function for data.frames.? Has anyone else 
noticed something like this?? I don't think I've done anything to cause 
this but cannot find anything to attribute it to.? Example below.? It 
lists every row as a value in the data frame attribute DAUCO.? Similar 
behavior found with other read.table results using syntax below.


PRISM??????? = 
read.table(PRISM_INPUT,header=TRUE,stringsAsFactors=TRUE,sep=',',
colClasses=c('character','numeric','numeric','numeric','numeric','numeric'))

P2 is a subset of PRISM.



J.

-- 

John Helly, University of California, San Diego / San Diego Supercomputer Center / Scripps Institution of Oceanography / 760 840 8660 mobile / http://www.sdsc.edu/~hellyj
ORCID ID: orcid.org/0000-0002-3779-0603


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20201213/4858425d/attachment-0001.html>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: fpnbnlakmnhmpblc.png
Type: image/png
Size: 37168 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20201213/4858425d/attachment-0001.png>

From rmh @end|ng |rom temp|e@edu  Mon Dec 14 05:22:34 2020
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Sun, 13 Dec 2020 23:22:34 -0500
Subject: [R-SIG-Mac] 
 [External] summary() suddently producing weird NULL:
 values for factors and character attributes
In-Reply-To: <91b66a79-dc83-750b-bca3-9c9824286487@ucsd.edu>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <91b66a79-dc83-750b-bca3-9c9824286487@ucsd.edu>
Message-ID: <CAGx1TMBHV-xRV4iF9TZMfBgUMnQzAYPa+2nbjz9L_36eCu6NCA@mail.gmail.com>

please send to the list the output from both:

dput(head(P2))

utils::sessionInfo()

This is the Macintosh list.  Is this specifically a Macintosh problem?



On Sun, Dec 13, 2020 at 6:32 PM John Helly via R-SIG-Mac <
r-sig-mac at r-project.org> wrote:

> Aloha.
>
> For the past few weeks, maybe 6 or more, I've been getting strange results
> from the summary() function for data.frames.  Has anyone else noticed
> something like this?  I don't think I've done anything to cause this but
> cannot find anything to attribute it to.  Example below.  It lists every
> row as a value in the data frame attribute DAUCO.  Similar behavior found
> with other read.table results using syntax below.
>
>
> PRISM        =
> read.table(PRISM_INPUT,header=TRUE,stringsAsFactors=TRUE,sep=',',
>
> colClasses=c('character','numeric','numeric','numeric','numeric','numeric'))
>
> P2 is a subset of PRISM.
>
>
>
> J.
>
> --
>
> John Helly, University of California, San Diego / San Diego Supercomputer Center / Scripps Institution of Oceanography / 760 840 8660 mobile / http://www.sdsc.edu/~hellyj
> ORCID ID: orcid.org/0000-0002-3779-0603
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20201213/b164a3f0/attachment-0001.html>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: fpnbnlakmnhmpblc.png
Type: image/png
Size: 37168 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20201213/b164a3f0/attachment-0001.png>

From m@cdec @end|ng |rom me@com  Mon Dec 14 16:16:09 2020
From: m@cdec @end|ng |rom me@com (Maria-Angeles Casares-de-Cal)
Date: Mon, 14 Dec 2020 16:16:09 +0100
Subject: [R-SIG-Mac] Problems with R GUI and a MacBook Pro with TouchBar
In-Reply-To: <2577D35E-3AB4-47F1-82BB-6C342B8D9961@R-project.org>
References: <98DC8C36-08B1-4457-B4F0-D65D522D0061@gmail.com>
 <8ACB6B43-5ECF-4E4F-BD69-AA47A7AE87A7@R-project.org>
 <C52A8105-DB15-4D3C-8C63-F760847134AF@gmail.com>
 <2577D35E-3AB4-47F1-82BB-6C342B8D9961@R-project.org>
Message-ID: <F133B8F0-E198-4F2D-9508-021D7D3F04B0@me.com>

Thank you very much, Simon, for your information and your work.

Although the message below was not referencing the problem I had, it has been very useful for me.

The Mac R GUI: "R-GUI-7903-4.0-high-sierra-Debug" works fine now.
My problem with the R GUI (with a 16-inch MacBook Pro 2019, Big Sur 11.0.1 operating system and R 4.0.3) has disappeared. Now, I do not have any warnings. 

But, there is only one thing that still does not work correctly: when using Mission Control the scrolling of the windows is slower if the R windows are "on top of the other open windows" and I want to select another window from another application that is "behind" R.

Thanks,
Mar?a-?ngeles Casares-de-Cal

> El 13 dic 2020, a las 23:57, Simon Urbanek <simon.urbanek at R-project.org> escribi?:
> 
> Petar,
> 
> thanks, that output helps. As part of the cleanup R executes a system() command which crashes, causing the hang as the GUI tries to recover from the crash, but fails.
> 
> I tried to use a different way to issue the system() command, so please try the Mac GUI rev. 7903 or higher from https://mac.R-project.org which should become available after the nightly build in the next 24h (scroll down to Mac OS X GUI and you can run it directly from the downloaded image, you don't have to install it).
> 
> Thanks,
> Simon
> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From he||yj @end|ng |rom uc@d@edu  Mon Dec 14 23:07:16 2020
From: he||yj @end|ng |rom uc@d@edu (John Helly)
Date: Mon, 14 Dec 2020 12:07:16 -1000
Subject: [R-SIG-Mac] 
 [External] summary() suddently producing weird NULL:
 values for factors and character attributes
In-Reply-To: <CAGx1TMBHV-xRV4iF9TZMfBgUMnQzAYPa+2nbjz9L_36eCu6NCA@mail.gmail.com>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <91b66a79-dc83-750b-bca3-9c9824286487@ucsd.edu>
 <CAGx1TMBHV-xRV4iF9TZMfBgUMnQzAYPa+2nbjz9L_36eCu6NCA@mail.gmail.com>
Message-ID: <d74dc96e-d082-939e-8b24-a6f829e0a208@ucsd.edu>

Aloha.

Don't know if this is uniquely a Mac issue or not.? I will try to test 
on a Linux distro later today.? \\\

In the meantime, here's the additional info.? Thanks for the responses.? 
I created a test subset of the input data so it is just the first DAUCO 
value subset (i.e., 00125).

In looking at the output of utils, perhaps there is some kind of 
inter-library conflict for summary? ? Don't know how to look for 
multiple function names (yet).

J.


* ====================================== R code and output 
================================

PRISM??????? = read.table(PRISM_INPUT,header=TRUE, sep=',',
colClasses=c('character','numeric','numeric','numeric','numeric','numeric'))
...

 > dput(head(PRISM))
structure(list(DAUCO = c("00125", "00125", "00125", "00125",
"00125", "00125"), Longitude = c(-121.416666667, -121.375, -121.333333333,
-121.291666667, -121.25, -121.208333333), Latitude = c(41.9583333334,
41.9583333334, 41.9583333334, 41.9583333334, 41.9583333334, 41.9583333334
), Precipitation = c(63.1469993591, 63.6969985962, 65.7460021973,
69.4150009155, 74.0780029297, 80.4290008545), Year = c(1895,
1895, 1895, 1895, 1895, 1895), Month = c(1, 1, 1, 1, 1, 1)), row.names = 
c(NA,
6L), class = "data.frame")
 >


 > utils::sessionInfo()
R version 4.0.3 (2020-10-10)
Platform: x86_64-apple-darwin17.0 (64-bit)
Running under: macOS Catalina 10.15.7

Matrix products: default
BLAS: 
/Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
LAPACK: 
/Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats???? graphics? grDevices utils???? datasets? methods base

other attached packages:
[1] reshape_0.8.8 plyr_1.8.6??? ggplot2_3.3.2

loaded via a namespace (and not attached):
 ?[1] Rcpp_1.0.4.6????????? pillar_1.4.4 DEoptimR_1.0-8??????? 
compiler_4.0.3??????? RColorBrewer_1.1-2
 ?[6] iterators_1.0.12????? digest_0.6.25 lifecycle_0.2.0?????? 
tibble_3.0.1????????? gtable_0.3.0
[11] nlme_3.1-149????????? lattice_0.20-41 pkgconfig_2.0.3?????? 
rlang_0.4.6?????????? foreach_1.5.0
[16] Matrix_1.2-18???????? parallel_4.0.3 ergm_3.10.4?????????? 
coda_0.19-3?????????? withr_2.2.0
[21] dplyr_1.0.0?????????? generics_0.0.2 vctrs_0.3.1?????????? 
networkDynamic_0.10.1 trust_0.1-8
[26] grid_4.0.3??????????? tidyselect_1.1.0 deSolve_1.28????????? 
robustbase_0.93-6???? glue_1.4.1
[31] R6_2.4.1????????????? farver_2.0.3 purrr_0.3.4?????????? 
magrittr_1.5????????? codetools_0.2-16
[36] scales_1.1.1????????? ellipsis_0.3.1 MASS_7.3-53?????????? 
lpSolve_5.6.15??????? colorspace_1.4-1
[41] ape_5.4?????????????? labeling_0.3 network_1.16.0??????? 
lazyeval_0.2.2??????? doParallel_1.0.15
[46] EpiModel_1.8.0??????? munsell_0.5.0 tergm_3.6.1?????????? 
statnet.common_4.3.0? crayon_1.3.4
 >

On 12/13/20 18:22, Richard M. Heiberger wrote:
> please send to the list the output from both:
>
> dput(head(P2))
>
> utils::sessionInfo()
>
> This is the Macintosh list.  Is this specifically a Macintosh problem?
>
>
>
> On Sun, Dec 13, 2020 at 6:32 PM John Helly via R-SIG-Mac <
> r-sig-mac at r-project.org> wrote:
>
>> Aloha.
>>
>> For the past few weeks, maybe 6 or more, I've been getting strange results
>> from the summary() function for data.frames.  Has anyone else noticed
>> something like this?  I don't think I've done anything to cause this but
>> cannot find anything to attribute it to.  Example below.  It lists every
>> row as a value in the data frame attribute DAUCO.  Similar behavior found
>> with other read.table results using syntax below.
>>
>>
>> PRISM        =
>> read.table(PRISM_INPUT,header=TRUE,stringsAsFactors=TRUE,sep=',',
>>
>> colClasses=c('character','numeric','numeric','numeric','numeric','numeric'))
>>
>> P2 is a subset of PRISM.
>>
>>
>>
>> J.
>>
>> --
>>
>> John Helly, University of California, San Diego / San Diego Supercomputer Center / Scripps Institution of Oceanography / 760 840 8660 mobile / http://www.sdsc.edu/~hellyj
>> ORCID ID: orcid.org/0000-0002-3779-0603
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!X3ALsWlGCDlXPERM1oTbCaxoruiXl51SE7N2G7ATqb9smiMNQuhwKEoi71_fCU8$
>>

-- 
John Helly, University of California, San Diego / San Diego Supercomputer Center / Scripps Institution of Oceanography / 760 840 8660 mobile / http://www.sdsc.edu/~hellyj
ORCID ID: orcid.org/0000-0002-3779-0603


From pd@|gd @end|ng |rom gm@||@com  Tue Dec 15 00:35:17 2020
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Tue, 15 Dec 2020 00:35:17 +0100
Subject: [R-SIG-Mac] 
 [External] summary() suddently producing weird NULL:
 values for factors and character attributes
In-Reply-To: <d74dc96e-d082-939e-8b24-a6f829e0a208@ucsd.edu>
References: <40522CD2-F54B-4F5D-A0D8-A53924D471AB@me.com>
 <91b66a79-dc83-750b-bca3-9c9824286487@ucsd.edu>
 <CAGx1TMBHV-xRV4iF9TZMfBgUMnQzAYPa+2nbjz9L_36eCu6NCA@mail.gmail.com>
 <d74dc96e-d082-939e-8b24-a6f829e0a208@ucsd.edu>
Message-ID: <3E305129-3218-4363-A8BB-BDAA577CCA93@gmail.com>



> On 14 Dec 2020, at 23:07 , John Helly via R-SIG-Mac <r-sig-mac at r-project.org> wrote:
> 
> Aloha.
> 
> Don't know if this is uniquely a Mac issue or not.  I will try to test on a Linux distro later today.  \\\
> 
> In the meantime, here's the additional info.  Thanks for the responses.  I created a test subset of the input data so it is just the first DAUCO value subset (i.e., 00125).

Not likely Mac at all. In a reasonably clean session (on a Mac), I see

> dd <- structure(list(DAUCO = c("00125", "00125", "00125", "00125",
+ "00125", "00125"), Longitude = c(-121.416666667, -121.375, -121.333333333,
+ -121.291666667, -121.25, -121.208333333), Latitude = c(41.9583333334,
+ 41.9583333334, 41.9583333334, 41.9583333334, 41.9583333334, 41.9583333334
+ ), Precipitation = c(63.1469993591, 63.6969985962, 65.7460021973,
+ 69.4150009155, 74.0780029297, 80.4290008545), Year = c(1895,
+ 1895, 1895, 1895, 1895, 1895), Month = c(1, 1, 1, 1, 1, 1)), row.names = c(NA,
+ 6L), class = "data.frame")
> summary(dd)
    DAUCO             Longitude         Latitude     Precipitation  
 Length:6           Min.   :-121.4   Min.   :41.96   Min.   :63.15  
 Class :character   1st Qu.:-121.4   1st Qu.:41.96   1st Qu.:64.21  
 Mode  :character   Median :-121.3   Median :41.96   Median :67.58  
                    Mean   :-121.3   Mean   :41.96   Mean   :69.42  
                    3rd Qu.:-121.3   3rd Qu.:41.96   3rd Qu.:72.91  
                    Max.   :-121.2   Max.   :41.96   Max.   :80.43  
      Year          Month  
 Min.   :1895   Min.   :1  
 1st Qu.:1895   1st Qu.:1  
 Median :1895   Median :1  
 Mean   :1895   Mean   :1  
 3rd Qu.:1895   3rd Qu.:1  
 Max.   :1895   Max.   :1  

So do check that summary.data.frame in your setup is the original in namespace:base, and also that you don't have something defining a summary method for character vectors e.g. a summary.character function, but I suppose there could be a S4 method as well. 

-pd

> 
> In looking at the output of utils, perhaps there is some kind of inter-library conflict for summary?   Don't know how to look for multiple function names (yet).
> 
> J.
> 
> 
> * ====================================== R code and output ================================
> 
> PRISM        = read.table(PRISM_INPUT,header=TRUE, sep=',',
> colClasses=c('character','numeric','numeric','numeric','numeric','numeric'))
> ...
> 
> > dput(head(PRISM))
> structure(list(DAUCO = c("00125", "00125", "00125", "00125",
> "00125", "00125"), Longitude = c(-121.416666667, -121.375, -121.333333333,
> -121.291666667, -121.25, -121.208333333), Latitude = c(41.9583333334,
> 41.9583333334, 41.9583333334, 41.9583333334, 41.9583333334, 41.9583333334
> ), Precipitation = c(63.1469993591, 63.6969985962, 65.7460021973,
> 69.4150009155, 74.0780029297, 80.4290008545), Year = c(1895,
> 1895, 1895, 1895, 1895, 1895), Month = c(1, 1, 1, 1, 1, 1)), row.names = c(NA,
> 6L), class = "data.frame")
> >
> 
> 
> > utils::sessionInfo()
> R version 4.0.3 (2020-10-10)
> Platform: x86_64-apple-darwin17.0 (64-bit)
> Running under: macOS Catalina 10.15.7
> 
> Matrix products: default
> BLAS: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
> LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods base
> 
> other attached packages:
> [1] reshape_0.8.8 plyr_1.8.6    ggplot2_3.3.2
> 
> loaded via a namespace (and not attached):
>  [1] Rcpp_1.0.4.6          pillar_1.4.4 DEoptimR_1.0-8        compiler_4.0.3        RColorBrewer_1.1-2
>  [6] iterators_1.0.12      digest_0.6.25 lifecycle_0.2.0       tibble_3.0.1          gtable_0.3.0
> [11] nlme_3.1-149          lattice_0.20-41 pkgconfig_2.0.3       rlang_0.4.6           foreach_1.5.0
> [16] Matrix_1.2-18         parallel_4.0.3 ergm_3.10.4           coda_0.19-3           withr_2.2.0
> [21] dplyr_1.0.0           generics_0.0.2 vctrs_0.3.1           networkDynamic_0.10.1 trust_0.1-8
> [26] grid_4.0.3            tidyselect_1.1.0 deSolve_1.28          robustbase_0.93-6     glue_1.4.1
> [31] R6_2.4.1              farver_2.0.3 purrr_0.3.4           magrittr_1.5          codetools_0.2-16
> [36] scales_1.1.1          ellipsis_0.3.1 MASS_7.3-53           lpSolve_5.6.15        colorspace_1.4-1
> [41] ape_5.4               labeling_0.3 network_1.16.0        lazyeval_0.2.2        doParallel_1.0.15
> [46] EpiModel_1.8.0        munsell_0.5.0 tergm_3.6.1           statnet.common_4.3.0  crayon_1.3.4
> >
> 
> On 12/13/20 18:22, Richard M. Heiberger wrote:
>> please send to the list the output from both:
>> 
>> dput(head(P2))
>> 
>> utils::sessionInfo()
>> 
>> This is the Macintosh list.  Is this specifically a Macintosh problem?
>> 
>> 
>> 
>> On Sun, Dec 13, 2020 at 6:32 PM John Helly via R-SIG-Mac <
>> r-sig-mac at r-project.org> wrote:
>> 
>>> Aloha.
>>> 
>>> For the past few weeks, maybe 6 or more, I've been getting strange results
>>> from the summary() function for data.frames.  Has anyone else noticed
>>> something like this?  I don't think I've done anything to cause this but
>>> cannot find anything to attribute it to.  Example below.  It lists every
>>> row as a value in the data frame attribute DAUCO.  Similar behavior found
>>> with other read.table results using syntax below.
>>> 
>>> 
>>> PRISM        =
>>> read.table(PRISM_INPUT,header=TRUE,stringsAsFactors=TRUE,sep=',',
>>> 
>>> colClasses=c('character','numeric','numeric','numeric','numeric','numeric'))
>>> 
>>> P2 is a subset of PRISM.
>>> 
>>> 
>>> 
>>> J.
>>> 
>>> --
>>> 
>>> John Helly, University of California, San Diego / San Diego Supercomputer Center / Scripps Institution of Oceanography / 760 840 8660 mobile / http://www.sdsc.edu/~hellyj
>>> ORCID ID: orcid.org/0000-0002-3779-0603
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://urldefense.com/v3/__https://stat.ethz.ch/mailman/listinfo/r-sig-mac__;!!Mih3wA!X3ALsWlGCDlXPERM1oTbCaxoruiXl51SE7N2G7ATqb9smiMNQuhwKEoi71_fCU8$
>>> 
> 
> -- 
> John Helly, University of California, San Diego / San Diego Supercomputer Center / Scripps Institution of Oceanography / 760 840 8660 mobile / http://www.sdsc.edu/~hellyj
> ORCID ID: orcid.org/0000-0002-3779-0603
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From ch@ckoge @end|ng |rom ||||no|@@edu  Tue Dec 15 00:43:29 2020
From: ch@ckoge @end|ng |rom ||||no|@@edu (Chacko, George)
Date: Mon, 14 Dec 2020 23:43:29 +0000
Subject: [R-SIG-Mac] FW: NSButton Message in R.app
Message-ID: <422487EA-B5E9-4E72-BF79-4B0C38A98CB2@illinois.edu>

Hello all:

My apologies if I?m not providing this information in a useful manner, I?m new to this list. I?d be happy to revise this message for greater clarity with a little advice from the list. After upgrading to Big Sur on a 16 inch Macbook Pro, I?ve noticed an NSButton warning message. Reinstalling R hasn?t helped. Thanks for any advice. George Chacko


  1.  when R.app is started up

2020-12-14 09:24:32.330 R[30638:726731] Warning: Expected min height of view: (<NSPopoverTouchBarItemButton: 0x7f88ada8cb50>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.


  1.  Once R is running, if I use Command-W to exit and then hit cancel, 5 copies of this message are printed on screen.

2020-12-14 09:25:25.900 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88abe4ed20>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
2020-12-14 09:25:25.904 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88abe7f670>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
2020-12-14 09:25:25.904 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88abe60e60>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
2020-12-14 09:25:27.513 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88adb30cd0>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
2020-12-14 09:25:27.516 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88adb74160>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
2020-12-14 09:25:27.517 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88adb73c80>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.




> utils::sessionInfo()
R version 4.0.3 (2020-10-10)
Platform: x86_64-apple-darwin17.0 (64-bit)
Running under: macOS Big Sur 10.16

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] compiler_4.0.3


Model Name:                                  MacBook Pro

  Model Identifier:                           MacBookPro16,1

  Processor Name:                         8-Core Intel Core i9

  Processor Speed:                        2.3 GHz

  Number of Processors:                1

  Total Number of Cores:               8

  L2 Cache (per Core):                    256 KB

  L3 Cache:                                     16 MB

  Hyper-Threading Technology:    Enabled

  Memory:                                        32 GB

  System Firmware Version:          1554.50.3.0.0 (iBridge: 18.16.12561.0.0,0)

  Serial Number (system):              C02DM3MVMD6T

  Hardware UUID:                           4A8B6D86-683A-5ED1-A229-BD6147F02F11

  Provisioning UDID:                       4A8B6D86-683A-5ED1-A229-BD6147F02F11

  Activation Lock Status:                Disabled





	[[alternative HTML version deleted]]


From pdmm@c @end|ng |rom mcm@@ter@c@  Tue Dec 15 01:14:35 2020
From: pdmm@c @end|ng |rom mcm@@ter@c@ (Macdonald, Peter)
Date: Tue, 15 Dec 2020 00:14:35 +0000
Subject: [R-SIG-Mac] NSButton Message in R.app
In-Reply-To: <18841_1607989699_0BENmI4g025716_422487EA-B5E9-4E72-BF79-4B0C38A98CB2@illinois.edu>
References: <18841_1607989699_0BENmI4g025716_422487EA-B5E9-4E72-BF79-4B0C38A98CB2@illinois.edu>
Message-ID: <1D46B766-BB76-4AB7-84C2-323F65102E6E@mcmaster.ca>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20201215/59acf116/attachment-0001.html>

From ch@ckoge @end|ng |rom ||||no|@@edu  Tue Dec 15 01:24:33 2020
From: ch@ckoge @end|ng |rom ||||no|@@edu (Chacko, George)
Date: Tue, 15 Dec 2020 00:24:33 +0000
Subject: [R-SIG-Mac] NSButton Message in R.app
In-Reply-To: <1D46B766-BB76-4AB7-84C2-323F65102E6E@mcmaster.ca>
References: <18841_1607989699_0BENmI4g025716_422487EA-B5E9-4E72-BF79-4B0C38A98CB2@illinois.edu>
 <1D46B766-BB76-4AB7-84C2-323F65102E6E@mcmaster.ca>
Message-ID: <952B519C-F97F-4AC8-86BB-49876C9FA3E1@illinois.edu>

I?m sorry I missed the earlier discussion; I only joined this mailing list on Dec 12. For what it?s worth, I recall observing the same problem on a 15 inch Macbook Pro running Catalina, that I no longer own. However, there were other problems of my own making with that particular machine, so I didn?t bring it up in my message.

Regards GC

From: "Macdonald, Peter" <pdmmac at mcmaster.ca>
Date: Monday, December 14, 2020 at 6:14 PM
To: "Chacko, George" <chackoge at illinois.edu>
Cc: r-sig-mac <r-sig-mac at r-project.org>
Subject: Re: [R-SIG-Mac] NSButton Message in R.app

We discussed this in r-sig-mac a couple of weeks ago but the thread got hijacked by unrelated Big Sur issues and I don?t think this problem was ever resolved.

It seems to be an issue with R GUI and MacBook Pro. It arose with the final versions of Catalina and continued with Big Sur on my 15 inch 2018 MacBook Pro. The error is generated whenever the GUI uses the Touch Bar.

The Touch Bar works correctly despite and I?ve seen no other consequences.

I was going to bring this up again, thanks for saving me the trouble!

Hoping that an R GUI developer can fix it?

Thanks,
Peter

--
Peter D.M. Macdonald, D.Phil., P.Stat.
Professor Emeritus of Math & Statistics
McMaster University
Hamilton, Ontario, Canada L8S 4K1




On Dec 14, 2020, at 6:43 PM, Chacko, George <chackoge at illinois.edu<mailto:chackoge at illinois.edu>> wrote:

Hello all:

My apologies if I?m not providing this information in a useful manner, I?m new to this list. I?d be happy to revise this message for greater clarity with a little advice from the list. After upgrading to Big Sur on a 16 inch Macbook Pro, I?ve noticed an NSButton warning message. Reinstalling R hasn?t helped. Thanks for any advice. George Chacko


 1.  when R.app is started up

2020-12-14 09:24:32.330 R[30638:726731] Warning: Expected min height of view: (<NSPopoverTouchBarItemButton: 0x7f88ada8cb50>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.


 1.  Once R is running, if I use Command-W to exit and then hit cancel, 5 copies of this message are printed on screen.

2020-12-14 09:25:25.900 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88abe4ed20>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
2020-12-14 09:25:25.904 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88abe7f670>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
2020-12-14 09:25:25.904 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88abe60e60>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
2020-12-14 09:25:27.513 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88adb30cd0>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
2020-12-14 09:25:27.516 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88adb74160>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
2020-12-14 09:25:27.517 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88adb73c80>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.





utils::sessionInfo()
R version 4.0.3 (2020-10-10)
Platform: x86_64-apple-darwin17.0 (64-bit)
Running under: macOS Big Sur 10.16

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] compiler_4.0.3


Model Name:                                  MacBook Pro

 Model Identifier:                           MacBookPro16,1

 Processor Name:                         8-Core Intel Core i9

 Processor Speed:                        2.3 GHz

 Number of Processors:                1

 Total Number of Cores:               8

 L2 Cache (per Core):                    256 KB

 L3 Cache:                                     16 MB

 Hyper-Threading Technology:    Enabled

 Memory:                                        32 GB

 System Firmware Version:          1554.50.3.0.0 (iBridge: 18.16.12561.0.0,0)

 Serial Number (system):              C02DM3MVMD6T

 Hardware UUID:                           4A8B6D86-683A-5ED1-A229-BD6147F02F11

 Provisioning UDID:                       4A8B6D86-683A-5ED1-A229-BD6147F02F11

 Activation Lock Status:                Disabled





[[alternative HTML version deleted]]

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at r-project.org<mailto:R-SIG-Mac at r-project.org>
https://stat.ethz.ch/mailman/listinfo/r-sig-mac


	[[alternative HTML version deleted]]


From jpr|t|k|n @end|ng |rom pobox@com  Tue Dec 15 02:02:55 2020
From: jpr|t|k|n @end|ng |rom pobox@com (Joshua N Pritikin)
Date: Mon, 14 Dec 2020 20:02:55 -0500
Subject: [R-SIG-Mac] is there an M1 virtual machine image available for
 linux?
Message-ID: <20201215010255.6egb6gubqpluohfe@cocoa>

Something like https://wiki.debian.org/Arm64Qemu ?


From @|mon@urb@nek @end|ng |rom R-project@org  Tue Dec 15 03:43:29 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Tue, 15 Dec 2020 15:43:29 +1300
Subject: [R-SIG-Mac] NSButton Message in R.app
In-Reply-To: <1D46B766-BB76-4AB7-84C2-323F65102E6E@mcmaster.ca>
References: <18841_1607989699_0BENmI4g025716_422487EA-B5E9-4E72-BF79-4B0C38A98CB2@illinois.edu>
 <1D46B766-BB76-4AB7-84C2-323F65102E6E@mcmaster.ca>
Message-ID: <16A29836-B4E8-437D-9D29-26846EEFEE65@R-project.org>

Unfortunately, I don't have a Mac with a touch bar to replicate it, I'll see if there is any other way to test it. The GUI doesn't actually use the touch bar, so it's not clear where that message comes from. It seems like just a benign output from the system - it doesn't really affect any functionality, but if it annoys you, you can disable it until we find out more - see R for Mac FAQ 10.4.

Cheers,
Simon


> On 15/12/2020, at 1:14 PM, Macdonald, Peter <pdmmac at mcmaster.ca> wrote:
> 
> We discussed this in r-sig-mac a couple of weeks ago but the thread got hijacked by unrelated Big Sur issues and I don?t think this problem was ever resolved.
> 
> It seems to be an issue with R GUI and MacBook Pro. It arose with the final versions of Catalina and continued with Big Sur on my 15 inch 2018 MacBook Pro. The error is generated whenever the GUI uses the Touch Bar.
> 
> The Touch Bar works correctly despite and I?ve seen no other consequences.
> 
> I was going to bring this up again, thanks for saving me the trouble!
> 
> Hoping that an R GUI developer can fix it?
> 
> Thanks,
> Peter 
> 
> --
> Peter D.M. Macdonald, D.Phil., P.Stat.   
> Professor Emeritus of Math & Statistics
> McMaster University
> Hamilton, Ontario, Canada L8S 4K1
> 
> 
> 
> 
>> On Dec 14, 2020, at 6:43 PM, Chacko, George <chackoge at illinois.edu> wrote:
>> 
>> Hello all:
>> 
>> My apologies if I?m not providing this information in a useful manner, I?m new to this list. I?d be happy to revise this message for greater clarity with a little advice from the list. After upgrading to Big Sur on a 16 inch Macbook Pro, I?ve noticed an NSButton warning message. Reinstalling R hasn?t helped. Thanks for any advice. George Chacko
>> 
>> 
>>  1.  when R.app is started up
>> 
>> 2020-12-14 09:24:32.330 R[30638:726731] Warning: Expected min height of view: (<NSPopoverTouchBarItemButton: 0x7f88ada8cb50>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>> 
>> 
>>  1.  Once R is running, if I use Command-W to exit and then hit cancel, 5 copies of this message are printed on screen.
>> 
>> 2020-12-14 09:25:25.900 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88abe4ed20>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>> 2020-12-14 09:25:25.904 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88abe7f670>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>> 2020-12-14 09:25:25.904 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88abe60e60>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>> 2020-12-14 09:25:27.513 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88adb30cd0>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>> 2020-12-14 09:25:27.516 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88adb74160>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>> 2020-12-14 09:25:27.517 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88adb73c80>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>> 
>> 
>> 
>> 
>>> utils::sessionInfo()
>> R version 4.0.3 (2020-10-10)
>> Platform: x86_64-apple-darwin17.0 (64-bit)
>> Running under: macOS Big Sur 10.16
>> 
>> Matrix products: default
>> BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
>> LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
>> 
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>> 
>> loaded via a namespace (and not attached):
>> [1] compiler_4.0.3
>> 
>> 
>> Model Name:                                  MacBook Pro
>> 
>>  Model Identifier:                           MacBookPro16,1
>> 
>>  Processor Name:                         8-Core Intel Core i9
>> 
>>  Processor Speed:                        2.3 GHz
>> 
>>  Number of Processors:                1
>> 
>>  Total Number of Cores:               8
>> 
>>  L2 Cache (per Core):                    256 KB
>> 
>>  L3 Cache:                                     16 MB
>> 
>>  Hyper-Threading Technology:    Enabled
>> 
>>  Memory:                                        32 GB
>> 
>>  System Firmware Version:          1554.50.3.0.0 (iBridge: 18.16.12561.0.0,0)
>> 
>>  Serial Number (system):              C02DM3MVMD6T
>> 
>>  Hardware UUID:                           4A8B6D86-683A-5ED1-A229-BD6147F02F11
>> 
>>  Provisioning UDID:                       4A8B6D86-683A-5ED1-A229-BD6147F02F11
>> 
>>  Activation Lock Status:                Disabled
>> 
>> 
>> 
>> 
>> 
>> [[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From @|mon@urb@nek @end|ng |rom R-project@org  Tue Dec 15 03:54:12 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Tue, 15 Dec 2020 15:54:12 +1300
Subject: [R-SIG-Mac] is there an M1 virtual machine image available for
 linux?
In-Reply-To: <20201215010255.6egb6gubqpluohfe@cocoa>
References: <20201215010255.6egb6gubqpluohfe@cocoa>
Message-ID: <6A6FF779-A569-4976-8064-ADF58DD8B801@R-project.org>

I don't think that is feasible (assuming you mean macOS 11 arm64 system running in a VM). Note that M1 is not just the CPU, there is much tighter integration of all the components so you'd have to emulate a lot more than that and also all the Apple security components etc. in order to be able to boot macOS on an arm emulation. It is possible to run Intel macOS in a VM on an Intel Mac, because there is the pass-through to the underlying hardware for things that cannot be emulated, but I suspect that is not possible for the arm version. You can certainly run Linux in arm emulation, but I don't think you can expect macOS to work that way anytime soon.

Cheers,
Simon




> On 15/12/2020, at 2:02 PM, Joshua N Pritikin <jpritikin at pobox.com> wrote:
> 
> Something like https://wiki.debian.org/Arm64Qemu ?
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jpr|t|k|n @end|ng |rom pobox@com  Tue Dec 15 04:02:55 2020
From: jpr|t|k|n @end|ng |rom pobox@com (Joshua N Pritikin)
Date: Mon, 14 Dec 2020 22:02:55 -0500
Subject: [R-SIG-Mac] is there an M1 virtual machine image available for
 linux?
In-Reply-To: <6A6FF779-A569-4976-8064-ADF58DD8B801@R-project.org>
References: <20201215010255.6egb6gubqpluohfe@cocoa>
 <6A6FF779-A569-4976-8064-ADF58DD8B801@R-project.org>
Message-ID: <20201215030255.wdwpkue5udv5wa4f@cocoa>

On Tue, Dec 15, 2020 at 03:54:12PM +1300, Simon Urbanek wrote:
> I don't think that is feasible (assuming you mean macOS 11 arm64 
> system running in a VM). Note that M1 is not just the CPU, there is 
> much tighter integration of all the components so you'd have to 
> emulate a lot more than that and also all the Apple security 
> components etc. in order to be able to boot macOS on an arm emulation. 

OK, so how do I test my package on M1?

I've been threatened with removal from CRAN if I don't get it working.

Thank you.


From @|mon@urb@nek @end|ng |rom R-project@org  Tue Dec 15 04:26:29 2020
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Tue, 15 Dec 2020 16:26:29 +1300
Subject: [R-SIG-Mac] is there an M1 virtual machine image available for
 linux?
In-Reply-To: <20201215030255.wdwpkue5udv5wa4f@cocoa>
References: <20201215010255.6egb6gubqpluohfe@cocoa>
 <6A6FF779-A569-4976-8064-ADF58DD8B801@R-project.org>
 <20201215030255.wdwpkue5udv5wa4f@cocoa>
Message-ID: <7D9F5187-E508-4AD7-9CC3-BE6186F7B565@R-project.org>

To my best knowledge the only way to test anything on M1 is to buy one. As far as I know there is no virtual solution yet. If you see one, let me know.

As for CRAN there is no official arm64 build yet - the hardware just arrived and I need to setup the nightly builds first before moving to packages. However, Brian Ripley has run a first pass over all packages to give authors chance to look at what breaks on the new architecture - it is listed on the check page in the additional checks section.

From what I can see some of your packages broke on the regular check systems and have not been fixed after several requests which why your packages were under threat to be removed, it has nothing to fo with M1 as far as I can tell.

Cheers,
Simon



> On 15/12/2020, at 4:02 PM, Joshua N Pritikin <jpritikin at pobox.com> wrote:
> 
> On Tue, Dec 15, 2020 at 03:54:12PM +1300, Simon Urbanek wrote:
>> I don't think that is feasible (assuming you mean macOS 11 arm64 
>> system running in a VM). Note that M1 is not just the CPU, there is 
>> much tighter integration of all the components so you'd have to 
>> emulate a lot more than that and also all the Apple security 
>> components etc. in order to be able to boot macOS on an arm emulation. 
> 
> OK, so how do I test my package on M1?
> 
> I've been threatened with removal from CRAN if I don't get it working.
> 
> Thank you.
> 


From pdmm@c @end|ng |rom mcm@@ter@c@  Tue Dec 15 04:28:18 2020
From: pdmm@c @end|ng |rom mcm@@ter@c@ (Macdonald, Peter)
Date: Tue, 15 Dec 2020 03:28:18 +0000
Subject: [R-SIG-Mac] NSButton Message in R.app
In-Reply-To: <26958_1608000236_0BF2huAG013258_16A29836-B4E8-437D-9D29-26846EEFEE65@R-project.org>
References: <18841_1607989699_0BENmI4g025716_422487EA-B5E9-4E72-BF79-4B0C38A98CB2@illinois.edu>
 <1D46B766-BB76-4AB7-84C2-323F65102E6E@mcmaster.ca>
 <26958_1608000236_0BF2huAG013258_16A29836-B4E8-437D-9D29-26846EEFEE65@R-project.org>
Message-ID: <2084775A-00AC-4578-93C4-27D700F51C8D@mcmaster.ca>

Simon, many thanks for your response. The only real danger in leaving it there is that the big red error message will frighten a newbie who will think they have done something very bad!

Peter

> On Dec 14, 2020, at 9:43 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> Unfortunately, I don't have a Mac with a touch bar to replicate it, I'll see if there is any other way to test it. The GUI doesn't actually use the touch bar, so it's not clear where that message comes from. It seems like just a benign output from the system - it doesn't really affect any functionality, but if it annoys you, you can disable it until we find out more - see R for Mac FAQ 10.4.
> 
> Cheers,
> Simon
> 
> 
>> On 15/12/2020, at 1:14 PM, Macdonald, Peter <pdmmac at mcmaster.ca> wrote:
>> 
>> We discussed this in r-sig-mac a couple of weeks ago but the thread got hijacked by unrelated Big Sur issues and I don?t think this problem was ever resolved.
>> 
>> It seems to be an issue with R GUI and MacBook Pro. It arose with the final versions of Catalina and continued with Big Sur on my 15 inch 2018 MacBook Pro. The error is generated whenever the GUI uses the Touch Bar.
>> 
>> The Touch Bar works correctly despite and I?ve seen no other consequences.
>> 
>> I was going to bring this up again, thanks for saving me the trouble!
>> 
>> Hoping that an R GUI developer can fix it?
>> 
>> Thanks,
>> Peter 
>> 
>> --
>> Peter D.M. Macdonald, D.Phil., P.Stat.   
>> Professor Emeritus of Math & Statistics
>> McMaster University
>> Hamilton, Ontario, Canada L8S 4K1
>> 
>> 
>> 
>> 
>>> On Dec 14, 2020, at 6:43 PM, Chacko, George <chackoge at illinois.edu> wrote:
>>> 
>>> Hello all:
>>> 
>>> My apologies if I?m not providing this information in a useful manner, I?m new to this list. I?d be happy to revise this message for greater clarity with a little advice from the list. After upgrading to Big Sur on a 16 inch Macbook Pro, I?ve noticed an NSButton warning message. Reinstalling R hasn?t helped. Thanks for any advice. George Chacko
>>> 
>>> 
>>> 1.  when R.app is started up
>>> 
>>> 2020-12-14 09:24:32.330 R[30638:726731] Warning: Expected min height of view: (<NSPopoverTouchBarItemButton: 0x7f88ada8cb50>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>>> 
>>> 
>>> 1.  Once R is running, if I use Command-W to exit and then hit cancel, 5 copies of this message are printed on screen.
>>> 
>>> 2020-12-14 09:25:25.900 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88abe4ed20>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>>> 2020-12-14 09:25:25.904 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88abe7f670>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>>> 2020-12-14 09:25:25.904 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88abe60e60>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>>> 2020-12-14 09:25:27.513 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88adb30cd0>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>>> 2020-12-14 09:25:27.516 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88adb74160>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>>> 2020-12-14 09:25:27.517 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88adb73c80>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>>> 
>>> 
>>> 
>>> 
>>>> utils::sessionInfo()
>>> R version 4.0.3 (2020-10-10)
>>> Platform: x86_64-apple-darwin17.0 (64-bit)
>>> Running under: macOS Big Sur 10.16
>>> 
>>> Matrix products: default
>>> BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
>>> LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
>>> 
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> 
>>> loaded via a namespace (and not attached):
>>> [1] compiler_4.0.3
>>> 
>>> 
>>> Model Name:                                  MacBook Pro
>>> 
>>> Model Identifier:                           MacBookPro16,1
>>> 
>>> Processor Name:                         8-Core Intel Core i9
>>> 
>>> Processor Speed:                        2.3 GHz
>>> 
>>> Number of Processors:                1
>>> 
>>> Total Number of Cores:               8
>>> 
>>> L2 Cache (per Core):                    256 KB
>>> 
>>> L3 Cache:                                     16 MB
>>> 
>>> Hyper-Threading Technology:    Enabled
>>> 
>>> Memory:                                        32 GB
>>> 
>>> System Firmware Version:          1554.50.3.0.0 (iBridge: 18.16.12561.0.0,0)
>>> 
>>> Serial Number (system):              C02DM3MVMD6T
>>> 
>>> Hardware UUID:                           4A8B6D86-683A-5ED1-A229-BD6147F02F11
>>> 
>>> Provisioning UDID:                       4A8B6D86-683A-5ED1-A229-BD6147F02F11
>>> 
>>> Activation Lock Status:                Disabled
>>> 
>>> 
>>> 
>>> 
>>> 
>>> [[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From r|p|ey @end|ng |rom @t@t@@ox@@c@uk  Tue Dec 15 10:58:43 2020
From: r|p|ey @end|ng |rom @t@t@@ox@@c@uk (Prof Brian Ripley)
Date: Tue, 15 Dec 2020 09:58:43 +0000
Subject: [R-SIG-Mac] is there an M1 virtual machine image available for
 linux?
In-Reply-To: <7D9F5187-E508-4AD7-9CC3-BE6186F7B565@R-project.org>
References: <20201215010255.6egb6gubqpluohfe@cocoa>
 <6A6FF779-A569-4976-8064-ADF58DD8B801@R-project.org>
 <20201215030255.wdwpkue5udv5wa4f@cocoa>
 <7D9F5187-E508-4AD7-9CC3-BE6186F7B565@R-project.org>
Message-ID: <939a072e-89a4-ba92-287e-3bcd80f010ed@stats.ox.ac.uk>

On 15/12/2020 03:26, Simon Urbanek wrote:
> To my best knowledge the only way to test anything on M1 is to buy one. As far as I know there is no virtual solution yet. If you see one, let me know.
> 
> As for CRAN there is no official arm64 build yet - the hardware just arrived and I need to setup the nightly builds first before moving to packages. However, Brian Ripley has run a first pass over all packages to give authors chance to look at what breaks on the new architecture - it is listed on the check page in the additional checks section.

(Listed as of last night European time and still being tweaked.)

>>From what I can see some of your packages broke on the regular check systems and have not been fixed after several requests which why your packages were under threat to be removed, it has nothing to fo with M1 as far as I can tell.

Indeed.  I have only reported as 'additional issues' whose root causes 
are obvious from the logs and in the vast majority of cases could be 
fixed without access to hardware (e.g. by changing a tolerance or using 
a suggested package conditionally).

> 
> Cheers,
> Simon
> 
> 
> 
>> On 15/12/2020, at 4:02 PM, Joshua N Pritikin <jpritikin at pobox.com> wrote:
>>
>> On Tue, Dec 15, 2020 at 03:54:12PM +1300, Simon Urbanek wrote:
>>> I don't think that is feasible (assuming you mean macOS 11 arm64
>>> system running in a VM). Note that M1 is not just the CPU, there is
>>> much tighter integration of all the components so you'd have to
>>> emulate a lot more than that and also all the Apple security
>>> components etc. in order to be able to boot macOS on an arm emulation.
>>
>> OK, so how do I test my package on M1?
>>
>> I've been threatened with removal from CRAN if I don't get it working.
>>
>> Thank you.
>>
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford


From t@r@@@z@kh@rko @end|ng |rom uzh@ch  Wed Dec 16 15:33:29 2020
From: t@r@@@z@kh@rko @end|ng |rom uzh@ch (Taras Zakharko)
Date: Wed, 16 Dec 2020 15:33:29 +0100
Subject: [R-SIG-Mac] NSButton Message in R.app
In-Reply-To: <16A29836-B4E8-437D-9D29-26846EEFEE65@R-project.org>
References: <18841_1607989699_0BENmI4g025716_422487EA-B5E9-4E72-BF79-4B0C38A98CB2@illinois.edu>
 <1D46B766-BB76-4AB7-84C2-323F65102E6E@mcmaster.ca>
 <16A29836-B4E8-437D-9D29-26846EEFEE65@R-project.org>
Message-ID: <AFCDDE05-76C6-4D8C-B400-E44703E2D94A@uzh.ch>

It seems that there are other projects having the same issue, and if I understood correctly the ?fix? would be to build it with latest Xcode 12 


For example:

https://github.com/macvim-dev/macvim/issues/1114 <https://github.com/macvim-dev/macvim/issues/1114>

Best, 

Taras

> On 15 Dec 2020, at 03:43, Simon Urbanek <simon.urbanek at R-project.org> wrote:
> 
> Unfortunately, I don't have a Mac with a touch bar to replicate it, I'll see if there is any other way to test it. The GUI doesn't actually use the touch bar, so it's not clear where that message comes from. It seems like just a benign output from the system - it doesn't really affect any functionality, but if it annoys you, you can disable it until we find out more - see R for Mac FAQ 10.4.
> 
> Cheers,
> Simon
> 
> 
>> On 15/12/2020, at 1:14 PM, Macdonald, Peter <pdmmac at mcmaster.ca> wrote:
>> 
>> We discussed this in r-sig-mac a couple of weeks ago but the thread got hijacked by unrelated Big Sur issues and I don?t think this problem was ever resolved.
>> 
>> It seems to be an issue with R GUI and MacBook Pro. It arose with the final versions of Catalina and continued with Big Sur on my 15 inch 2018 MacBook Pro. The error is generated whenever the GUI uses the Touch Bar.
>> 
>> The Touch Bar works correctly despite and I?ve seen no other consequences.
>> 
>> I was going to bring this up again, thanks for saving me the trouble!
>> 
>> Hoping that an R GUI developer can fix it?
>> 
>> Thanks,
>> Peter 
>> 
>> --
>> Peter D.M. Macdonald, D.Phil., P.Stat.   
>> Professor Emeritus of Math & Statistics
>> McMaster University
>> Hamilton, Ontario, Canada L8S 4K1
>> 
>> 
>> 
>> 
>>> On Dec 14, 2020, at 6:43 PM, Chacko, George <chackoge at illinois.edu> wrote:
>>> 
>>> Hello all:
>>> 
>>> My apologies if I?m not providing this information in a useful manner, I?m new to this list. I?d be happy to revise this message for greater clarity with a little advice from the list. After upgrading to Big Sur on a 16 inch Macbook Pro, I?ve noticed an NSButton warning message. Reinstalling R hasn?t helped. Thanks for any advice. George Chacko
>>> 
>>> 
>>> 1.  when R.app is started up
>>> 
>>> 2020-12-14 09:24:32.330 R[30638:726731] Warning: Expected min height of view: (<NSPopoverTouchBarItemButton: 0x7f88ada8cb50>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>>> 
>>> 
>>> 1.  Once R is running, if I use Command-W to exit and then hit cancel, 5 copies of this message are printed on screen.
>>> 
>>> 2020-12-14 09:25:25.900 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88abe4ed20>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>>> 2020-12-14 09:25:25.904 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88abe7f670>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>>> 2020-12-14 09:25:25.904 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88abe60e60>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>>> 2020-12-14 09:25:27.513 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88adb30cd0>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>>> 2020-12-14 09:25:27.516 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88adb74160>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>>> 2020-12-14 09:25:27.517 R[30638:726731] Warning: Expected min height of view: (<NSButton: 0x7f88adb73c80>) to be less than or equal to 30 but got a height of 32.000000. This error will be logged once per view in violation.
>>> 
>>> 
>>> 
>>> 
>>>> utils::sessionInfo()
>>> R version 4.0.3 (2020-10-10)
>>> Platform: x86_64-apple-darwin17.0 (64-bit)
>>> Running under: macOS Big Sur 10.16
>>> 
>>> Matrix products: default
>>> BLAS:   /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRblas.dylib
>>> LAPACK: /Library/Frameworks/R.framework/Versions/4.0/Resources/lib/libRlapack.dylib
>>> 
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> 
>>> loaded via a namespace (and not attached):
>>> [1] compiler_4.0.3
>>> 
>>> 
>>> Model Name:                                  MacBook Pro
>>> 
>>> Model Identifier:                           MacBookPro16,1
>>> 
>>> Processor Name:                         8-Core Intel Core i9
>>> 
>>> Processor Speed:                        2.3 GHz
>>> 
>>> Number of Processors:                1
>>> 
>>> Total Number of Cores:               8
>>> 
>>> L2 Cache (per Core):                    256 KB
>>> 
>>> L3 Cache:                                     16 MB
>>> 
>>> Hyper-Threading Technology:    Enabled
>>> 
>>> Memory:                                        32 GB
>>> 
>>> System Firmware Version:          1554.50.3.0.0 (iBridge: 18.16.12561.0.0,0)
>>> 
>>> Serial Number (system):              C02DM3MVMD6T
>>> 
>>> Hardware UUID:                           4A8B6D86-683A-5ED1-A229-BD6147F02F11
>>> 
>>> Provisioning UDID:                       4A8B6D86-683A-5ED1-A229-BD6147F02F11
>>> 
>>> Activation Lock Status:                Disabled
>>> 
>>> 
>>> 
>>> 
>>> 
>>> [[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


	[[alternative HTML version deleted]]


From jeroenoom@ @end|ng |rom gm@||@com  Mon Dec 21 15:01:39 2020
From: jeroenoom@ @end|ng |rom gm@||@com (Jeroen Ooms)
Date: Mon, 21 Dec 2020 15:01:39 +0100
Subject: [R-SIG-Mac] CRAN package checks on M1 Mac
In-Reply-To: <efbc7418-edfe-fd24-96cc-acbbf3305f2d@stats.ox.ac.uk>
References: <efbc7418-edfe-fd24-96cc-acbbf3305f2d@stats.ox.ac.uk>
Message-ID: <CABFfbXs9vZbhrSbbYA=VUf=2=OsKnEWQWatQ70ChzShkk=8hvQ@mail.gmail.com>

On Sun, Dec 13, 2020 at 6:45 AM Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>
> We have managed a fairly complete check run with natively-compiled R and
> packages, and a full one with x86_64 R and packages running under
> Rosetta (mainly using CRAN binary distributions).
>
> The bottom line is that running under Rosetta works really well.
> Although relative speeds vary widely, using the native build was
> 1.3-1.5x faster for the central 50% of the distribution.  And a MacBook
> Air is remarkably capable for a lightweight laptop.
>
>
> x86_64 tests
> ------------
>
> I compared the check output to that from my 2012 iMac: typically this
> was 1.7x faster than the iMac (and benchmarks have current iMac/MacMini
> about that much faster than mine).
>
> A couple of packages ran much slower than on the iMac and hit their
> check limits, and one fails because it checks elapsed time (and was
> slower than on the iMac).
>
> 10 packages segfaulted in their checks (but most of those are known to
> segfault intermittently on other platforms).
>
> There were issues with packages attempting to work with Python, which
> may be Big Sur differences.
>
> Given that I have 58 packages failing their checks on the iMac under
> High Sierra this was a very small amount of degradation.
>
>
> native tests
> ------------
>
> Currently I have 57 CRAN packages failing to install, but 650 others
> require those or BioC packages which fail to install (the most commonly
> required being rgl and V8 [*]).  And ca 120 packages are not using
> conditionally Suggests packages which fail to install.
>
> There are segfaults from ca 150 packages using minpack.lm::nls.lm,
> deSolve::lsoda, rootSolve::stode ... all of which use Fortran.
>
> That platform does not have long doubles nor extended precision but the
> CRAN checking on Linux and Sparc with --disable-long-doubles has paid
> off: only a handful of check results show numerical differences.
>
> Quite a lot of external software and several packages have had to be
> patched, and it is early days for the former (and the Fortran compiler)
> - for example I was able to build v8, but V8 segfaulted in its checks.

Thank you for these fantastic efforts. I have added a binary for
libv8, so it works on arm64 now.

Re: the more general problem of external software, are there any
details available on how the external software on your server was
built/configured? For example I don't see libv8 on
https://github.com/R-macos/recipes or
https://mac.r-project.org/libs-arm/ so this makes it difficult for
package authors to debug a problem.

FWIW, Homebrew is quickly catching up on M1 support. Many people are
contributing patches, and Fran?ois-Xavier Coudert (the same person who
is publishing the gfortran binaries) is publishing the homebrew arm64
binaries (aka bottles), hundreds over the past weekend:
https://github.com/Homebrew/homebrew-core/commits?author=fxcoudert

It is recommended to install homebrew on ARM in /opt/homebrew, and not
/usr/local, to prevent binaries from getting mixed up
(https://github.com/mikelxc/Workarounds-for-ARM-mac ). Using these
standard instructions, I was able to check many R packages that are
flagged on CRAN. For example:

    brew install --build-from-source libgit2

Will make it possible to install gert and git2r. And:

    brew install --build-from-source imagemagick at 6

Will work for 'magick' and:

    brew install protobuf

For protolite.

The main bottlenecks are libraries that depend (indirectly) on gcc
(fortran) or rust. FXCoudert is working on gcc, and for Rust, support
for apple-arm is available starting rust 1.49, which will be released
on Jan 1.


From murdoch@dunc@n @end|ng |rom gm@||@com  Mon Dec 21 17:32:20 2020
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Mon, 21 Dec 2020 11:32:20 -0500
Subject: [R-SIG-Mac] CRAN package checks on M1 Mac
In-Reply-To: <CABFfbXs9vZbhrSbbYA=VUf=2=OsKnEWQWatQ70ChzShkk=8hvQ@mail.gmail.com>
References: <efbc7418-edfe-fd24-96cc-acbbf3305f2d@stats.ox.ac.uk>
 <CABFfbXs9vZbhrSbbYA=VUf=2=OsKnEWQWatQ70ChzShkk=8hvQ@mail.gmail.com>
Message-ID: <6bffbd94-1b1b-39b3-0113-73fa7a9d7a81@gmail.com>

Along the same lines:  I have been working with Prof Ripley to get rgl 
to work on M1.  Since OpenGL isn't available, it produces only WebGL 
output (viewable using rglwidget()) and can't do snapshots or Postscript 
output, but it should be enough to let its reverse dependencies install.

Anyone interested in testing it can install from R-forge or Github:

  install.packages("rgl", repos="http://R-Forge.R-project.org", type = 
"source")

or

  remotes::install_github("https://github.com/r-forge/rgl", subdir = 
"pkg/rgl")

To see what it looks like without OpenGL on Windows, try

  Sys.setenv(RGL_NO_OPENGL = TRUE)

before the install, or on a Unix-alike,

  install.packages("rgl", repos="http://R-Forge.R-project.org",
                   INSTALL_opts = '--configure-args="--disable-opengl"',
                   type = "source")

Duncan Murdoch


On 21/12/2020 9:01 a.m., Jeroen Ooms wrote:
> On Sun, Dec 13, 2020 at 6:45 AM Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>
>> We have managed a fairly complete check run with natively-compiled R and
>> packages, and a full one with x86_64 R and packages running under
>> Rosetta (mainly using CRAN binary distributions).
>>
>> The bottom line is that running under Rosetta works really well.
>> Although relative speeds vary widely, using the native build was
>> 1.3-1.5x faster for the central 50% of the distribution.  And a MacBook
>> Air is remarkably capable for a lightweight laptop.
>>
>>
>> x86_64 tests
>> ------------
>>
>> I compared the check output to that from my 2012 iMac: typically this
>> was 1.7x faster than the iMac (and benchmarks have current iMac/MacMini
>> about that much faster than mine).
>>
>> A couple of packages ran much slower than on the iMac and hit their
>> check limits, and one fails because it checks elapsed time (and was
>> slower than on the iMac).
>>
>> 10 packages segfaulted in their checks (but most of those are known to
>> segfault intermittently on other platforms).
>>
>> There were issues with packages attempting to work with Python, which
>> may be Big Sur differences.
>>
>> Given that I have 58 packages failing their checks on the iMac under
>> High Sierra this was a very small amount of degradation.
>>
>>
>> native tests
>> ------------
>>
>> Currently I have 57 CRAN packages failing to install, but 650 others
>> require those or BioC packages which fail to install (the most commonly
>> required being rgl and V8 [*]).  And ca 120 packages are not using
>> conditionally Suggests packages which fail to install.
>>
>> There are segfaults from ca 150 packages using minpack.lm::nls.lm,
>> deSolve::lsoda, rootSolve::stode ... all of which use Fortran.
>>
>> That platform does not have long doubles nor extended precision but the
>> CRAN checking on Linux and Sparc with --disable-long-doubles has paid
>> off: only a handful of check results show numerical differences.
>>
>> Quite a lot of external software and several packages have had to be
>> patched, and it is early days for the former (and the Fortran compiler)
>> - for example I was able to build v8, but V8 segfaulted in its checks.
> 
> Thank you for these fantastic efforts. I have added a binary for
> libv8, so it works on arm64 now.
> 
> Re: the more general problem of external software, are there any
> details available on how the external software on your server was
> built/configured? For example I don't see libv8 on
> https://github.com/R-macos/recipes or
> https://mac.r-project.org/libs-arm/ so this makes it difficult for
> package authors to debug a problem.
> 
> FWIW, Homebrew is quickly catching up on M1 support. Many people are
> contributing patches, and Fran?ois-Xavier Coudert (the same person who
> is publishing the gfortran binaries) is publishing the homebrew arm64
> binaries (aka bottles), hundreds over the past weekend:
> https://github.com/Homebrew/homebrew-core/commits?author=fxcoudert
> 
> It is recommended to install homebrew on ARM in /opt/homebrew, and not
> /usr/local, to prevent binaries from getting mixed up
> (https://github.com/mikelxc/Workarounds-for-ARM-mac ). Using these
> standard instructions, I was able to check many R packages that are
> flagged on CRAN. For example:
> 
>      brew install --build-from-source libgit2
> 
> Will make it possible to install gert and git2r. And:
> 
>      brew install --build-from-source imagemagick at 6
> 
> Will work for 'magick' and:
> 
>      brew install protobuf
> 
> For protolite.
> 
> The main bottlenecks are libraries that depend (indirectly) on gcc
> (fortran) or rust. FXCoudert is working on gcc, and for Rust, support
> for apple-arm is available starting rust 1.49, which will be released
> on Jan 1.
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From t@r@@@z@kh@rko @end|ng |rom uzh@ch  Tue Dec 22 09:45:12 2020
From: t@r@@@z@kh@rko @end|ng |rom uzh@ch (Taras Zakharko)
Date: Tue, 22 Dec 2020 09:45:12 +0100
Subject: [R-SIG-Mac] CRAN package checks on M1 Mac
In-Reply-To: <6bffbd94-1b1b-39b3-0113-73fa7a9d7a81@gmail.com>
References: <efbc7418-edfe-fd24-96cc-acbbf3305f2d@stats.ox.ac.uk>
 <CABFfbXs9vZbhrSbbYA=VUf=2=OsKnEWQWatQ70ChzShkk=8hvQ@mail.gmail.com>
 <6bffbd94-1b1b-39b3-0113-73fa7a9d7a81@gmail.com>
Message-ID: <A803462E-2B5A-4F23-9A7C-CB8785EBABDA@uzh.ch>

Thanks, this is great!

Why do you say that OpenGL is not available though? M1 has a fully working OpenGL framework implemented on top of Metal. Apple might have deprecated OpenGL, but I think it?s unlikely they will drop it any time soon seeing that they went through the effort of updating their OpenGL wrapper to support desktop GL. 

Best, 

Taras


> On 21 Dec 2020, at 17:32, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> 
> Along the same lines:  I have been working with Prof Ripley to get rgl to work on M1.  Since OpenGL isn't available, it produces only WebGL output (viewable using rglwidget()) and can't do snapshots or Postscript output, but it should be enough to let its reverse dependencies install.
> 
> Anyone interested in testing it can install from R-forge or Github:
> 
> install.packages("rgl", repos="http://R-Forge.R-project.org", type = "source")
> 
> or
> 
> remotes::install_github("https://github.com/r-forge/rgl", subdir = "pkg/rgl")
> 
> To see what it looks like without OpenGL on Windows, try
> 
> Sys.setenv(RGL_NO_OPENGL = TRUE)
> 
> before the install, or on a Unix-alike,
> 
> install.packages("rgl", repos="http://R-Forge.R-project.org",
>                  INSTALL_opts = '--configure-args="--disable-opengl"',
>                  type = "source")
> 
> Duncan Murdoch
> 
> 
> On 21/12/2020 9:01 a.m., Jeroen Ooms wrote:
>> On Sun, Dec 13, 2020 at 6:45 AM Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>> 
>>> We have managed a fairly complete check run with natively-compiled R and
>>> packages, and a full one with x86_64 R and packages running under
>>> Rosetta (mainly using CRAN binary distributions).
>>> 
>>> The bottom line is that running under Rosetta works really well.
>>> Although relative speeds vary widely, using the native build was
>>> 1.3-1.5x faster for the central 50% of the distribution.  And a MacBook
>>> Air is remarkably capable for a lightweight laptop.
>>> 
>>> 
>>> x86_64 tests
>>> ------------
>>> 
>>> I compared the check output to that from my 2012 iMac: typically this
>>> was 1.7x faster than the iMac (and benchmarks have current iMac/MacMini
>>> about that much faster than mine).
>>> 
>>> A couple of packages ran much slower than on the iMac and hit their
>>> check limits, and one fails because it checks elapsed time (and was
>>> slower than on the iMac).
>>> 
>>> 10 packages segfaulted in their checks (but most of those are known to
>>> segfault intermittently on other platforms).
>>> 
>>> There were issues with packages attempting to work with Python, which
>>> may be Big Sur differences.
>>> 
>>> Given that I have 58 packages failing their checks on the iMac under
>>> High Sierra this was a very small amount of degradation.
>>> 
>>> 
>>> native tests
>>> ------------
>>> 
>>> Currently I have 57 CRAN packages failing to install, but 650 others
>>> require those or BioC packages which fail to install (the most commonly
>>> required being rgl and V8 [*]).  And ca 120 packages are not using
>>> conditionally Suggests packages which fail to install.
>>> 
>>> There are segfaults from ca 150 packages using minpack.lm::nls.lm,
>>> deSolve::lsoda, rootSolve::stode ... all of which use Fortran.
>>> 
>>> That platform does not have long doubles nor extended precision but the
>>> CRAN checking on Linux and Sparc with --disable-long-doubles has paid
>>> off: only a handful of check results show numerical differences.
>>> 
>>> Quite a lot of external software and several packages have had to be
>>> patched, and it is early days for the former (and the Fortran compiler)
>>> - for example I was able to build v8, but V8 segfaulted in its checks.
>> Thank you for these fantastic efforts. I have added a binary for
>> libv8, so it works on arm64 now.
>> Re: the more general problem of external software, are there any
>> details available on how the external software on your server was
>> built/configured? For example I don't see libv8 on
>> https://github.com/R-macos/recipes or
>> https://mac.r-project.org/libs-arm/ so this makes it difficult for
>> package authors to debug a problem.
>> FWIW, Homebrew is quickly catching up on M1 support. Many people are
>> contributing patches, and Fran?ois-Xavier Coudert (the same person who
>> is publishing the gfortran binaries) is publishing the homebrew arm64
>> binaries (aka bottles), hundreds over the past weekend:
>> https://github.com/Homebrew/homebrew-core/commits?author=fxcoudert
>> It is recommended to install homebrew on ARM in /opt/homebrew, and not
>> /usr/local, to prevent binaries from getting mixed up
>> (https://github.com/mikelxc/Workarounds-for-ARM-mac ). Using these
>> standard instructions, I was able to check many R packages that are
>> flagged on CRAN. For example:
>>     brew install --build-from-source libgit2
>> Will make it possible to install gert and git2r. And:
>>     brew install --build-from-source imagemagick at 6
>> Will work for 'magick' and:
>>     brew install protobuf
>> For protolite.
>> The main bottlenecks are libraries that depend (indirectly) on gcc
>> (fortran) or rust. FXCoudert is working on gcc, and for Rust, support
>> for apple-arm is available starting rust 1.49, which will be released
>> on Jan 1.
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From murdoch@dunc@n @end|ng |rom gm@||@com  Tue Dec 22 10:37:01 2020
From: murdoch@dunc@n @end|ng |rom gm@||@com (Duncan Murdoch)
Date: Tue, 22 Dec 2020 04:37:01 -0500
Subject: [R-SIG-Mac] CRAN package checks on M1 Mac
In-Reply-To: <A803462E-2B5A-4F23-9A7C-CB8785EBABDA@uzh.ch>
References: <efbc7418-edfe-fd24-96cc-acbbf3305f2d@stats.ox.ac.uk>
 <CABFfbXs9vZbhrSbbYA=VUf=2=OsKnEWQWatQ70ChzShkk=8hvQ@mail.gmail.com>
 <6bffbd94-1b1b-39b3-0113-73fa7a9d7a81@gmail.com>
 <A803462E-2B5A-4F23-9A7C-CB8785EBABDA@uzh.ch>
Message-ID: <feb436f8-fd4f-814a-0878-e7db05914e32@gmail.com>

On 22/12/2020 3:45 a.m., Taras Zakharko wrote:
> Thanks, this is great!
> 
> Why do you say that OpenGL is not available though? M1 has a fully working OpenGL framework implemented on top of Metal. Apple might have deprecated OpenGL, but I think it?s unlikely they will drop it any time soon seeing that they went through the effort of updating their OpenGL wrapper to support desktop GL.

rgl uses GLX from XQuartz, and from the rgl install log:

ld: warning: ignoring file /usr/X11/lib/libGL.dylib, missing required 
architecture arm64 in file /usr/X11/lib/libGL.dylib (2 slices)
ld: warning: ignoring file /usr/X11/lib/libGLU.dylib, missing required 
architecture arm64 in file /usr/X11/lib/libGLU.dylib (2 slices)
ld: warning: ignoring file /usr/X11/lib/libX11.dylib, missing required 
architecture arm64 in file /usr/X11/lib/libX11.dylib (2 slices)

and the the dyn.load of rgl.so fails with Symbol not found: 
_XAllocClassHint.

But even if this is eventually fixed, these changes make installing rgl 
a lot easier.

Duncan Murdoch


>  
> Best,X
> 
> Taras
> 
> 
>> On 21 Dec 2020, at 17:32, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>>
>> Along the same lines:  I have been working with Prof Ripley to get rgl to work on M1.  Since OpenGL isn't available, it produces only WebGL output (viewable using rglwidget()) and can't do snapshots or Postscript output, but it should be enough to let its reverse dependencies install.
>>
>> Anyone interested in testing it can install from R-forge or Github:
>>
>> install.packages("rgl", repos="http://R-Forge.R-project.org", type = "source")
>>
>> or
>>
>> remotes::install_github("https://github.com/r-forge/rgl", subdir = "pkg/rgl")
>>
>> To see what it looks like without OpenGL on Windows, try
>>
>> Sys.setenv(RGL_NO_OPENGL = TRUE)
>>
>> before the install, or on a Unix-alike,
>>
>> install.packages("rgl", repos="http://R-Forge.R-project.org",
>>                   INSTALL_opts = '--configure-args="--disable-opengl"',
>>                   type = "source")
>>
>> Duncan Murdoch
>>
>>
>> On 21/12/2020 9:01 a.m., Jeroen Ooms wrote:
>>> On Sun, Dec 13, 2020 at 6:45 AM Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>>>
>>>> We have managed a fairly complete check run with natively-compiled R and
>>>> packages, and a full one with x86_64 R and packages running under
>>>> Rosetta (mainly using CRAN binary distributions).
>>>>
>>>> The bottom line is that running under Rosetta works really well.
>>>> Although relative speeds vary widely, using the native build was
>>>> 1.3-1.5x faster for the central 50% of the distribution.  And a MacBook
>>>> Air is remarkably capable for a lightweight laptop.
>>>>
>>>>
>>>> x86_64 tests
>>>> ------------
>>>>
>>>> I compared the check output to that from my 2012 iMac: typically this
>>>> was 1.7x faster than the iMac (and benchmarks have current iMac/MacMini
>>>> about that much faster than mine).
>>>>
>>>> A couple of packages ran much slower than on the iMac and hit their
>>>> check limits, and one fails because it checks elapsed time (and was
>>>> slower than on the iMac).
>>>>
>>>> 10 packages segfaulted in their checks (but most of those are known to
>>>> segfault intermittently on other platforms).
>>>>
>>>> There were issues with packages attempting to work with Python, which
>>>> may be Big Sur differences.
>>>>
>>>> Given that I have 58 packages failing their checks on the iMac under
>>>> High Sierra this was a very small amount of degradation.
>>>>
>>>>
>>>> native tests
>>>> ------------
>>>>
>>>> Currently I have 57 CRAN packages failing to install, but 650 others
>>>> require those or BioC packages which fail to install (the most commonly
>>>> required being rgl and V8 [*]).  And ca 120 packages are not using
>>>> conditionally Suggests packages which fail to install.
>>>>
>>>> There are segfaults from ca 150 packages using minpack.lm::nls.lm,
>>>> deSolve::lsoda, rootSolve::stode ... all of which use Fortran.
>>>>
>>>> That platform does not have long doubles nor extended precision but the
>>>> CRAN checking on Linux and Sparc with --disable-long-doubles has paid
>>>> off: only a handful of check results show numerical differences.
>>>>
>>>> Quite a lot of external software and several packages have had to be
>>>> patched, and it is early days for the former (and the Fortran compiler)
>>>> - for example I was able to build v8, but V8 segfaulted in its checks.
>>> Thank you for these fantastic efforts. I have added a binary for
>>> libv8, so it works on arm64 now.
>>> Re: the more general problem of external software, are there any
>>> details available on how the external software on your server was
>>> built/configured? For example I don't see libv8 on
>>> https://github.com/R-macos/recipes or
>>> https://mac.r-project.org/libs-arm/ so this makes it difficult for
>>> package authors to debug a problem.
>>> FWIW, Homebrew is quickly catching up on M1 support. Many people are
>>> contributing patches, and Fran?ois-Xavier Coudert (the same person who
>>> is publishing the gfortran binaries) is publishing the homebrew arm64
>>> binaries (aka bottles), hundreds over the past weekend:
>>> https://github.com/Homebrew/homebrew-core/commits?author=fxcoudert
>>> It is recommended to install homebrew on ARM in /opt/homebrew, and not
>>> /usr/local, to prevent binaries from getting mixed up
>>> (https://github.com/mikelxc/Workarounds-for-ARM-mac ). Using these
>>> standard instructions, I was able to check many R packages that are
>>> flagged on CRAN. For example:
>>>      brew install --build-from-source libgit2
>>> Will make it possible to install gert and git2r. And:
>>>      brew install --build-from-source imagemagick at 6
>>> Will work for 'magick' and:
>>>      brew install protobuf
>>> For protolite.
>>> The main bottlenecks are libraries that depend (indirectly) on gcc
>>> (fortran) or rust. FXCoudert is working on gcc, and for Rust, support
>>> for apple-arm is available starting rust 1.49, which will be released
>>> on Jan 1.
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From t@r@@@z@kh@rko @end|ng |rom uzh@ch  Tue Dec 22 10:46:35 2020
From: t@r@@@z@kh@rko @end|ng |rom uzh@ch (Taras Zakharko)
Date: Tue, 22 Dec 2020 10:46:35 +0100
Subject: [R-SIG-Mac] CRAN package checks on M1 Mac
In-Reply-To: <feb436f8-fd4f-814a-0878-e7db05914e32@gmail.com>
References: <efbc7418-edfe-fd24-96cc-acbbf3305f2d@stats.ox.ac.uk>
 <CABFfbXs9vZbhrSbbYA=VUf=2=OsKnEWQWatQ70ChzShkk=8hvQ@mail.gmail.com>
 <6bffbd94-1b1b-39b3-0113-73fa7a9d7a81@gmail.com>
 <A803462E-2B5A-4F23-9A7C-CB8785EBABDA@uzh.ch>
 <feb436f8-fd4f-814a-0878-e7db05914e32@gmail.com>
Message-ID: <165ED00C-A5D3-4DB7-9BC6-1A8D4C08DB7E@uzh.ch>

Ah, I see, so it?s an XQuartz issue? thanks for clarifying! 

> On 22 Dec 2020, at 10:37, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> 
> On 22/12/2020 3:45 a.m., Taras Zakharko wrote:
>> Thanks, this is great!
>> Why do you say that OpenGL is not available though? M1 has a fully working OpenGL framework implemented on top of Metal. Apple might have deprecated OpenGL, but I think it?s unlikely they will drop it any time soon seeing that they went through the effort of updating their OpenGL wrapper to support desktop GL.
> 
> rgl uses GLX from XQuartz, and from the rgl install log:
> 
> ld: warning: ignoring file /usr/X11/lib/libGL.dylib, missing required architecture arm64 in file /usr/X11/lib/libGL.dylib (2 slices)
> ld: warning: ignoring file /usr/X11/lib/libGLU.dylib, missing required architecture arm64 in file /usr/X11/lib/libGLU.dylib (2 slices)
> ld: warning: ignoring file /usr/X11/lib/libX11.dylib, missing required architecture arm64 in file /usr/X11/lib/libX11.dylib (2 slices)
> 
> and the the dyn.load of rgl.so fails with Symbol not found: _XAllocClassHint.
> 
> But even if this is eventually fixed, these changes make installing rgl a lot easier.
> 
> Duncan Murdoch
> 
> 
>> Best,X
>> Taras
>>> On 21 Dec 2020, at 17:32, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>>> 
>>> Along the same lines:  I have been working with Prof Ripley to get rgl to work on M1.  Since OpenGL isn't available, it produces only WebGL output (viewable using rglwidget()) and can't do snapshots or Postscript output, but it should be enough to let its reverse dependencies install.
>>> 
>>> Anyone interested in testing it can install from R-forge or Github:
>>> 
>>> install.packages("rgl", repos="http://R-Forge.R-project.org", type = "source")
>>> 
>>> or
>>> 
>>> remotes::install_github("https://github.com/r-forge/rgl", subdir = "pkg/rgl")
>>> 
>>> To see what it looks like without OpenGL on Windows, try
>>> 
>>> Sys.setenv(RGL_NO_OPENGL = TRUE)
>>> 
>>> before the install, or on a Unix-alike,
>>> 
>>> install.packages("rgl", repos="http://R-Forge.R-project.org",
>>>                  INSTALL_opts = '--configure-args="--disable-opengl"',
>>>                  type = "source")
>>> 
>>> Duncan Murdoch
>>> 
>>> 
>>> On 21/12/2020 9:01 a.m., Jeroen Ooms wrote:
>>>> On Sun, Dec 13, 2020 at 6:45 AM Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>>>> 
>>>>> We have managed a fairly complete check run with natively-compiled R and
>>>>> packages, and a full one with x86_64 R and packages running under
>>>>> Rosetta (mainly using CRAN binary distributions).
>>>>> 
>>>>> The bottom line is that running under Rosetta works really well.
>>>>> Although relative speeds vary widely, using the native build was
>>>>> 1.3-1.5x faster for the central 50% of the distribution.  And a MacBook
>>>>> Air is remarkably capable for a lightweight laptop.
>>>>> 
>>>>> 
>>>>> x86_64 tests
>>>>> ------------
>>>>> 
>>>>> I compared the check output to that from my 2012 iMac: typically this
>>>>> was 1.7x faster than the iMac (and benchmarks have current iMac/MacMini
>>>>> about that much faster than mine).
>>>>> 
>>>>> A couple of packages ran much slower than on the iMac and hit their
>>>>> check limits, and one fails because it checks elapsed time (and was
>>>>> slower than on the iMac).
>>>>> 
>>>>> 10 packages segfaulted in their checks (but most of those are known to
>>>>> segfault intermittently on other platforms).
>>>>> 
>>>>> There were issues with packages attempting to work with Python, which
>>>>> may be Big Sur differences.
>>>>> 
>>>>> Given that I have 58 packages failing their checks on the iMac under
>>>>> High Sierra this was a very small amount of degradation.
>>>>> 
>>>>> 
>>>>> native tests
>>>>> ------------
>>>>> 
>>>>> Currently I have 57 CRAN packages failing to install, but 650 others
>>>>> require those or BioC packages which fail to install (the most commonly
>>>>> required being rgl and V8 [*]).  And ca 120 packages are not using
>>>>> conditionally Suggests packages which fail to install.
>>>>> 
>>>>> There are segfaults from ca 150 packages using minpack.lm::nls.lm,
>>>>> deSolve::lsoda, rootSolve::stode ... all of which use Fortran.
>>>>> 
>>>>> That platform does not have long doubles nor extended precision but the
>>>>> CRAN checking on Linux and Sparc with --disable-long-doubles has paid
>>>>> off: only a handful of check results show numerical differences.
>>>>> 
>>>>> Quite a lot of external software and several packages have had to be
>>>>> patched, and it is early days for the former (and the Fortran compiler)
>>>>> - for example I was able to build v8, but V8 segfaulted in its checks.
>>>> Thank you for these fantastic efforts. I have added a binary for
>>>> libv8, so it works on arm64 now.
>>>> Re: the more general problem of external software, are there any
>>>> details available on how the external software on your server was
>>>> built/configured? For example I don't see libv8 on
>>>> https://github.com/R-macos/recipes or
>>>> https://mac.r-project.org/libs-arm/ so this makes it difficult for
>>>> package authors to debug a problem.
>>>> FWIW, Homebrew is quickly catching up on M1 support. Many people are
>>>> contributing patches, and Fran?ois-Xavier Coudert (the same person who
>>>> is publishing the gfortran binaries) is publishing the homebrew arm64
>>>> binaries (aka bottles), hundreds over the past weekend:
>>>> https://github.com/Homebrew/homebrew-core/commits?author=fxcoudert
>>>> It is recommended to install homebrew on ARM in /opt/homebrew, and not
>>>> /usr/local, to prevent binaries from getting mixed up
>>>> (https://github.com/mikelxc/Workarounds-for-ARM-mac ). Using these
>>>> standard instructions, I was able to check many R packages that are
>>>> flagged on CRAN. For example:
>>>>     brew install --build-from-source libgit2
>>>> Will make it possible to install gert and git2r. And:
>>>>     brew install --build-from-source imagemagick at 6
>>>> Will work for 'magick' and:
>>>>     brew install protobuf
>>>> For protolite.
>>>> The main bottlenecks are libraries that depend (indirectly) on gcc
>>>> (fortran) or rust. FXCoudert is working on gcc, and for Rust, support
>>>> for apple-arm is available starting rust 1.49, which will be released
>>>> on Jan 1.
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org <mailto:R-SIG-Mac at r-project.org>
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac <https://stat.ethz.ch/mailman/listinfo/r-sig-mac>

	[[alternative HTML version deleted]]


From den|@@engem@nn @end|ng |rom gm@||@com  Thu Dec 24 19:31:36 2020
From: den|@@engem@nn @end|ng |rom gm@||@com (Denis-Alexander Engemann)
Date: Thu, 24 Dec 2020 19:31:36 +0100
Subject: [R-SIG-Mac] Apple Silicon aka M1 Macs
In-Reply-To: <FA37BB06-C694-485A-A93F-CF3E1B376ADF@uzh.ch>
References: <28a0c590-3622-d713-644f-1f3181580670@stats.ox.ac.uk>
 <bd508255-9d56-438d-137c-4ea8bcff1c45@stats.ox.ac.uk>
 <FA37BB06-C694-485A-A93F-CF3E1B376ADF@uzh.ch>
Message-ID: <CA+MN3OvJwZ9cYAedaJe+jEOt-e_9JP8UEzNfAXRr+9C7Cu7j6A@mail.gmail.com>

Hi everyone,

I'm finally joining the party here and so far made good progress
following Taras' instructions.

Disclaimer - I'm new to working with R sources.
But would be very happy to help with testing and reporting to
accelerate support native M1 builds.

I am using the R-4.0.3 sources with the latest gfortran release from
Fran?ois-Xavier Coudert:
https://github.com/fxcoudert/gfortran-for-macOS/releases/tag/11-arm-alpha2

Currently I'm facing some issues at step 5.
It seems that for some reasons liblzma cannot be found although it is
well installed via xz at step 3.
I also verified that the liblzma can be easily discovered along the lines of 3.

The lines before ./configure stops are:

```
checking lzma.h usability... no
checking lzma.h presence... no
checking for lzma.h... no
configure: error: "liblzma library and headers are required"
```

As mentioned, all is well installed in the include and lib directories at:
/opt/homebrew/Cellar/xz/5.2.5

Would you have a suggestion where I should link the headers/library to
be picked up by ./configure ?

Best wishes,
Denis

On Wed, Nov 25, 2020 at 10:41 AM Taras Zakharko <taras.zakharko at uzh.ch> wrote:
>
> Creating a native Aarch64 build of R on my M1 machine was surprisingly straightforward. Here is a step-by-step instruction of what I did in case someone wants to replicate it:
>
> 1. Install native homebrew as described in this blog post under ?Multiple Homebrews? (https://soffes.blog/homebrew-on-apple-silicon). You will need to manually chown a bunch of directories, keep an eye on brew output
>
> 2. Install the following brew packages
>
>   brew install jpeg libpng libtiff pcre2 pkg-config tcl-tk xz zlib
>
>   Again, pay attention to brew output, it is possible that you will have to manually reset ownership on some directories
>
> 3. Make sure that zlib can be discovered by pkg-config by making it?s pc file discoverable
>
>      ln -s /opt/homebrew/Cellar/zlib/1.2.11/lib/pkgconfig/zlib.pc /opt/homebrew/lib/pkgconfig/
>
> 4. Install patched gfortran, I used the precompiled package from here:
>
>      https://github.com/fxcoudert/gfortran-for-macOS/releases/tag/11-arm-alpha1
>
> 5. In  config.site, add the paths to homebrew libraries:
>
>      CPPFLAGS=-I/opt/homebrew/include
>      LDFLAGS=-L/opt/homebrew/lib
>
> Note: the R-admin manual tells to set CC, CXX, FC in config.sites, but it?s not strictly necessary, the build will work without them
>
> 5. Run the configure script, I used
>
>       ./configure --enable-R-shlib --without-x  --enable-memory-profiling --with-blas="-framework Accelerate?
>
>   Check that the summary makes sense. If PNG is disabled, it?s probably because you forgot step 3
>
> 6. Build R
>
>       make -j4
>
> 7. Check that everything runs
>
>       bin/R
>
>    You should see something like "Platform: arm-apple-darwin20.2.0 (64-bit)? in the startup message.
>
> All core tests seems to pass and the performance is excellent.
>
> I have tried building tidyverse and it blocked on testthat. It seems that testthat uses a fairly old version of Catch which doesn?t detect platform correctly and tries to use some x86 inline assembly during the arm build?
>
>
> > On 23 Nov 2020, at 11:14, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> >
> > As a follow-up, I now have a preliminary native build of R (using a gfortran compiled from sources forked from GCC and using minor modifications of Tomas Kalibera's instructions).
> >
> > The check timing was 148s, with Aqua (not X11) Tcl/Tk built from the sources and no X11 support, so not quite 100% comparable.
> >
> > Building the compiler took 45m elapsed with 100% CPU most of the time: the machine (which has no fan) remained cool (unlike my MBP which has a fan but rarely runs it and does get warm to the touch).
> >
> > There is a preliminary write-up on 'arm64' Macs in R-devel's R-admin manual (the version on CRAN is as usual a few days behind).
> >
> > On 17/11/2020 14:57, Prof Brian Ripley wrote:
> >> Mine (a 8GB MBA) arrived today, so I have started doing some comparisons.
> >> For the CRAN build of R 4.0.3, ?2.8 of R-admin recommends checking the installation with
> >> pdf("tests.pdf") ## optional, but prevents flashing graphics windows
> >> Sys.setenv(LC_COLLATE = "C", LC_TIME = "C", LANGUAGE = "en")
> >> tools::testInstalledBasic("both")
> >> tools::testInstalledPackages(scope = "base")
> >> tools::testInstalledPackages(scope = "recommended")
> >> That took 454s (using Rosetta) against 895s for my late-2016 MBP (2.9GHz i5): happily nothing untoward was reported (some recommended packages give differences from reference output on both systems).
> >> You need to install XQuartz to provide the X11() devices and support for package Tcl/Tk: everything I tried using that worked as expected.
> >> Having done that post-installation check I would happily use the Intel R on an M1 machine.
> >> We plan to check many of the Intel-compiled packages under Rosetta.
> >> There are many hours of work ahead to build/test a native toolchain: our goal is to have a native distribution for R 4.1.0 ca April 2021.
> >
> >
> > --
> > Brian D. Ripley,                  ripley at stats.ox.ac.uk
> > Emeritus Professor of Applied Statistics, University of Oxford
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jeroenoom@ @end|ng |rom gm@||@com  Thu Dec 24 22:50:19 2020
From: jeroenoom@ @end|ng |rom gm@||@com (Jeroen Ooms)
Date: Thu, 24 Dec 2020 22:50:19 +0100
Subject: [R-SIG-Mac] Apple Silicon aka M1 Macs
In-Reply-To: <CA+MN3OvJwZ9cYAedaJe+jEOt-e_9JP8UEzNfAXRr+9C7Cu7j6A@mail.gmail.com>
References: <28a0c590-3622-d713-644f-1f3181580670@stats.ox.ac.uk>
 <bd508255-9d56-438d-137c-4ea8bcff1c45@stats.ox.ac.uk>
 <FA37BB06-C694-485A-A93F-CF3E1B376ADF@uzh.ch>
 <CA+MN3OvJwZ9cYAedaJe+jEOt-e_9JP8UEzNfAXRr+9C7Cu7j6A@mail.gmail.com>
Message-ID: <CABFfbXsOJnFMGVMKdD7VEy_WgbyRq6Pt9BviBA5aQu77QXFNrw@mail.gmail.com>

On Thu, Dec 24, 2020 at 7:32 PM Denis-Alexander Engemann
<denis.engemann at gmail.com> wrote:
>
> Hi everyone,
>
> I'm finally joining the party here and so far made good progress
> following Taras' instructions.
>
> Disclaimer - I'm new to working with R sources.
> But would be very happy to help with testing and reporting to
> accelerate support native M1 builds.
>
> I am using the R-4.0.3 sources with the latest gfortran release from
> Fran?ois-Xavier Coudert:
> https://github.com/fxcoudert/gfortran-for-macOS/releases/tag/11-arm-alpha2
>
> Currently I'm facing some issues at step 5.
> It seems that for some reasons liblzma cannot be found although it is
> well installed via xz at step 3.
> I also verified that the liblzma can be easily discovered along the lines of 3.
>
> The lines before ./configure stops are:
>
> ```
> checking lzma.h usability... no
> checking lzma.h presence... no
> checking for lzma.h... no
> configure: error: "liblzma library and headers are required"
> ```
>
> As mentioned, all is well installed in the include and lib directories at:
> /opt/homebrew/Cellar/xz/5.2.5
>
> Would you have a suggestion where I should link the headers/library to
> be picked up by ./configure ?

Homebrew now has an arm64 binary for R:
https://github.com/homebrew/homebrew-core/blob/master/Formula/r.rb .
Hence you can simply use: brew install r

To tweak the build, use "brew edit r", save your changes, and then:
brew install r --build-from-source


From den|@@engem@nn @end|ng |rom gm@||@com  Fri Dec 25 19:23:42 2020
From: den|@@engem@nn @end|ng |rom gm@||@com (Denis-Alexander Engemann)
Date: Fri, 25 Dec 2020 19:23:42 +0100
Subject: [R-SIG-Mac] Apple Silicon aka M1 Macs
In-Reply-To: <CABFfbXsOJnFMGVMKdD7VEy_WgbyRq6Pt9BviBA5aQu77QXFNrw@mail.gmail.com>
References: <28a0c590-3622-d713-644f-1f3181580670@stats.ox.ac.uk>
 <bd508255-9d56-438d-137c-4ea8bcff1c45@stats.ox.ac.uk>
 <FA37BB06-C694-485A-A93F-CF3E1B376ADF@uzh.ch>
 <CA+MN3OvJwZ9cYAedaJe+jEOt-e_9JP8UEzNfAXRr+9C7Cu7j6A@mail.gmail.com>
 <CABFfbXsOJnFMGVMKdD7VEy_WgbyRq6Pt9BviBA5aQu77QXFNrw@mail.gmail.com>
Message-ID: <CA+MN3OtD9yk0GRBWxJcS22pCfOwP7FFK256s7cWaJ+QYM63-FQ@mail.gmail.com>

Thank you for the feedback, this is great!

I kept investigating my particular issue and it turned out that I did
not pay sufficient attention.
I actually forgot to comment out the relevant include and lib paths
that I set in the config.site file ? my bad.

As I proceeded, I encountered a few more issues.
It turned out ./configure needed a newer version of curl.
Installing it with brew did the job + linking the lib include and
pkconfig to /opt/homebrew respectively.

Currently my build efforts are stuck as libR.dylib references
_libiconv but cannot find that symbol inside libiconv, which seems to
be an old issue according to a quick google search, e.g
(https://mw.gl/posts/libiconv_mac/).
Installing and linking libiconv via brew did not work so far, I do not
manage to tell the compiler to look up the right libiconv.

On the other hand, the binary provided via brew seems to work fine.
Installing R packages from the sources worked flawlessly and the
packages seem usable.
So far I've checked out tidymodels, readr, ggplot2, ranger, grf,
glmnet (plust the dependencies).
This looks very encouraging!

Best wishes,
Denis

On Thu, Dec 24, 2020 at 10:50 PM Jeroen Ooms <jeroenooms at gmail.com> wrote:
>
> On Thu, Dec 24, 2020 at 7:32 PM Denis-Alexander Engemann
> <denis.engemann at gmail.com> wrote:
> >
> > Hi everyone,
> >
> > I'm finally joining the party here and so far made good progress
> > following Taras' instructions.
> >
> > Disclaimer - I'm new to working with R sources.
> > But would be very happy to help with testing and reporting to
> > accelerate support native M1 builds.
> >
> > I am using the R-4.0.3 sources with the latest gfortran release from
> > Fran?ois-Xavier Coudert:
> > https://github.com/fxcoudert/gfortran-for-macOS/releases/tag/11-arm-alpha2
> >
> > Currently I'm facing some issues at step 5.
> > It seems that for some reasons liblzma cannot be found although it is
> > well installed via xz at step 3.
> > I also verified that the liblzma can be easily discovered along the lines of 3.
> >
> > The lines before ./configure stops are:
> >
> > ```
> > checking lzma.h usability... no
> > checking lzma.h presence... no
> > checking for lzma.h... no
> > configure: error: "liblzma library and headers are required"
> > ```
> >
> > As mentioned, all is well installed in the include and lib directories at:
> > /opt/homebrew/Cellar/xz/5.2.5
> >
> > Would you have a suggestion where I should link the headers/library to
> > be picked up by ./configure ?
>
> Homebrew now has an arm64 binary for R:
> https://github.com/homebrew/homebrew-core/blob/master/Formula/r.rb .
> Hence you can simply use: brew install r
>
> To tweak the build, use "brew edit r", save your changes, and then:
> brew install r --build-from-source


