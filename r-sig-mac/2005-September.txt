From konis at stats.ox.ac.uk  Thu Sep  1 02:11:32 2005
From: konis at stats.ox.ac.uk (Kjell Konis)
Date: Wed, 31 Aug 2005 17:11:32 -0700
Subject: [R-SIG-Mac] vecLib and building R from source
Message-ID: <657C44E9-39E4-41D6-AA9F-0F8637C7EC4B@stats.ox.ac.uk>

I have both the gcc3.4.4 compilers and the gcc4.0.1 compilers.  When  
I use 3.4.4 the configure script does not link against the blas in  
vecLib but it does when I use 4.0.1.  However, I remember seeing an  
email here that said use the 3.4.x compilers unless you have a good  
reason not to (and the good reason was wanting a 64 bit build which I  
don't).  Is this still the prevailing wisdom?  I want a safe, stable,  
useable build.  Is it better to use 3.4.4 w/o vecLib or 4.0.1 w/ vecLib?

Thanks,
Kjell

PS Is it possible to search the r-sig-mac archives?


From khansen at stat.Berkeley.EDU  Thu Sep  1 02:49:38 2005
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Wed, 31 Aug 2005 17:49:38 -0700
Subject: [R-SIG-Mac] vecLib and building R from source
In-Reply-To: <657C44E9-39E4-41D6-AA9F-0F8637C7EC4B@stats.ox.ac.uk>
References: <657C44E9-39E4-41D6-AA9F-0F8637C7EC4B@stats.ox.ac.uk>
Message-ID: <67CFFD21-7DB8-4881-8BCD-D79393358AF1@stat.berkeley.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20050831/e2ab4c31/attachment.pl

From simon.urbanek at r-project.org  Thu Sep  1 03:21:14 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 31 Aug 2005 21:21:14 -0400
Subject: [R-SIG-Mac] vecLib and building R from source
In-Reply-To: <657C44E9-39E4-41D6-AA9F-0F8637C7EC4B@stats.ox.ac.uk>
References: <657C44E9-39E4-41D6-AA9F-0F8637C7EC4B@stats.ox.ac.uk>
Message-ID: <8FD2B3A0-C423-497D-AAAD-6A5A1345905A@r-project.org>

On Aug 31, 2005, at 8:11 PM, Kjell Konis wrote:

> I have both the gcc3.4.4 compilers and the gcc4.0.1 compilers.  When
> I use 3.4.4 the configure script does not link against the blas in
> vecLib but it does when I use 4.0.1.

That is strange - did you use --with-blas='-framework vecLib' --with- 
lapack ? If so, please send me your config.log.
As of R-devel that is the default now, but for R 2.1.1 you need to  
specify it. You may also want to add F77=g77 if you have both  
gfortran and g77 around just to make sure.

> However, I remember seeing an email here that said use the 3.4.x  
> compilers unless you have a good reason not to (and the good reason  
> was wanting a 64 bit build which I  don't).  Is this still the  
> prevailing wisdom?

Yes, there are still problems with 4.x - mainly with gfortran (it  
still segfaults on simple Fortran code and is slower than g77). We  
have worked around some of the show-stoppers in R-devel, but it's  
still not recommended.

>   I want a safe, stable,  useable build.  Is it better to use 3.4.4  
> w/o vecLib or 4.0.1 w/ vecLib?

3.3 with vecLib is the recommended way and that is how the CRAN  
binary is built (and the proper g77 compiler is included in the binary).

Cheers,
Simon


From konis at stats.ox.ac.uk  Thu Sep  1 03:54:34 2005
From: konis at stats.ox.ac.uk (Kjell Konis)
Date: Wed, 31 Aug 2005 18:54:34 -0700
Subject: [R-SIG-Mac] vecLib and building R from source
In-Reply-To: <8FD2B3A0-C423-497D-AAAD-6A5A1345905A@r-project.org>
References: <657C44E9-39E4-41D6-AA9F-0F8637C7EC4B@stats.ox.ac.uk>
	<8FD2B3A0-C423-497D-AAAD-6A5A1345905A@r-project.org>
Message-ID: <C96885E5-377B-49E4-8B59-39EC21CD7142@stats.ox.ac.uk>

On 31 Aug 2005, at 18:21, Simon Urbanek wrote:

> On Aug 31, 2005, at 8:11 PM, Kjell Konis wrote:
>
>
>> I have both the gcc3.4.4 compilers and the gcc4.0.1 compilers.  When
>> I use 3.4.4 the configure script does not link against the blas in
>> vecLib but it does when I use 4.0.1.
>>
>
> That is strange - did you use --with-blas='-framework vecLib' -- 
> with-lapack ? If so, please send me your config.log.
> As of R-devel that is the default now, but for R 2.1.1 you need to  
> specify it. You may also want to add F77=g77 if you have both  
> gfortran and g77 around just to make sure.

Here is my environment:
CPPFLAGS="-I/Volumes/muffin/DarwinPorts/include"
LDFLAGS="-L/Volumes/muffin/DarwinPorts/lib"
F77=g77-dp-3.4
CC=gcc-dp-3.4
CXX=g++-dp-3.4

and my configure command:
./configure --with-blas="-framework vecLib" --with-lapack \
             --with-tcl-config="/Volumes/muffin/DarwinPorts/lib/ 
tclConfig.sh" \
             --with-tk-config="/Volumes/muffin/DarwinPorts/lib/ 
tkConfig.sh" \
             --disable-R-framework

(I still prefer a unixy R)

The output from configure:

R is now configured for powerpc-apple-darwin8.2.0

   Source directory:          .
   Installation directory:    /Volumes/muffin/DarwinPorts

   C compiler:                gcc-dp-3.4  -g -O2
   C++ compiler:              g++-dp-3.4  -g -O2
   Fortran compiler:          g77-dp-3.4  -g -O2

   Interfaces supported:      X11, tcltk
   External libraries:        readline
   Additional capabilities:   PNG, JPEG, iconv, MBCS, NLS
   Options enabled:           R profiling

   Recommended packages:      yes

The attached config.log is for this configuration.  It appears not to  
find sgemm in vecLib so decides not to use it.

If I do the same as above except use gcc-dp-4.0, g++-dp-4.0, and  
gfortran-dp-4.0 (which are all stock gcc4.0.1 compilers but have been  
renamed) then the configure script output is:

R is now configured for powerpc-apple-darwin8.2.0

   Source directory:          .
   Installation directory:    /Volumes/muffin/DarwinPorts

   C compiler:                gcc-dp-4.0  -g -O2
   C++ compiler:              g++-dp-4.0  -g -O2
   Fortran compiler:          gfortran-dp-4.0  -g -O2

   Interfaces supported:      X11, tcltk
   External libraries:        readline, BLAS(generic), LAPACK(in blas)
   Additional capabilities:   PNG, JPEG, iconv, MBCS, NLS
   Options enabled:           R profiling

   Recommended packages:      yes


>> However, I remember seeing an email here that said use the 3.4.x  
>> compilers unless you have a good reason not to (and the good  
>> reason was wanting a 64 bit build which I  don't).  Is this still  
>> the prevailing wisdom?
>>
>
> Yes, there are still problems with 4.x - mainly with gfortran (it  
> still segfaults on simple Fortran code and is slower than g77). We  
> have worked around some of the show-stoppers in R-devel, but it's  
> still not recommended.
>>   I want a safe, stable,  useable build.  Is it better to use  
>> 3.4.4 w/o vecLib or 4.0.1 w/ vecLib?
>>
>
> 3.3 with vecLib is the recommended way and that is how the CRAN  
> binary is built (and the proper g77 compiler is included in the  
> binary).

I guess I still need some more compilers then.

> Cheers,
> Simon

Thanks for your help.

Kjell

-------------- next part --------------
A non-text attachment was scrubbed...
Name: config.log
Type: application/octet-stream
Size: 423967 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20050831/1f7cee91/config-0001.obj
-------------- next part --------------


From w.northcott at unsw.edu.au  Thu Sep  1 13:02:06 2005
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Thu, 1 Sep 2005 21:02:06 +1000
Subject: [R-SIG-Mac] vecLib and building R from source
In-Reply-To: <mailman.70.1125555279.27767.r-sig-mac@stat.math.ethz.ch>
References: <mailman.70.1125555279.27767.r-sig-mac@stat.math.ethz.ch>
Message-ID: <987386ED-3B24-4479-B63D-F792181C0B60@unsw.edu.au>

On 01/09/2005, at 4:14 PM, Kjell Konis wrote:
> Here is my environment:
> CPPFLAGS="-I/Volumes/muffin/DarwinPorts/include"
> LDFLAGS="-L/Volumes/muffin/DarwinPorts/lib"
> F77=g77-dp-3.4
> CC=gcc-dp-3.4
> CXX=g++-dp-3.4

It looks to me as if you building R on 'Darwin Ports' rather than  
MacOS X.  You may find it easier to use MacOS X instead.  All you  
need is a standard Tiger or Panther plus Xcode and the g77 and tcl/tk  
from the R binary distribution.

Forget all your flags bringing in the ports stuff and just follow the  
instructions and it will build.

Bill Northcott


From sstoddar at life.uiuc.edu  Thu Sep  1 17:05:08 2005
From: sstoddar at life.uiuc.edu (Steven T. Stoddard)
Date: Thu, 1 Sep 2005 10:05:08 -0500
Subject: [R-SIG-Mac] working path printed with graphics -- bug?
Message-ID: <BC3D9127-1B63-4536-8E4D-77A87165F560@life.uiuc.edu>

I tried to find reference to this issue, but apologies if this is  
redundant.

When I print from a quartz() device directly, the working path as it  
shows in the R console is printed as well -- as a reverse mirror  
image about half-way down the page.  In fact, it shows up in print  
preview too:

?
 > version
          _
platform powerpc-apple-darwin7.9.0
arch     powerpc
os       darwin7.9.0
system   powerpc, darwin7.9.0
status
major    2
minor    1.1
year     2005
month    06
day      20
language R

--------------------------
Steven T. Stoddard
Program in Ecology and Evolutionary Biology
University of Illinois at Urbana-Champaign

www-u.life.uiuc.edu/~sstoddar
sstoddar at life.uiuc.edu
(217) 333 - 2235



-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20050901/d8cb5ed9/attachment.html
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pastedGraphic.png
Type: image/png
Size: 4728 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20050901/d8cb5ed9/pastedGraphic.png

From konis at stats.ox.ac.uk  Fri Sep  2 01:13:42 2005
From: konis at stats.ox.ac.uk (Kjell Konis)
Date: Thu, 1 Sep 2005 16:13:42 -0700
Subject: [R-SIG-Mac] vecLib and building R from source
In-Reply-To: <2BDFE21D-1A96-4BB3-A295-F8D15EEE652C@r-project.org>
References: <657C44E9-39E4-41D6-AA9F-0F8637C7EC4B@stats.ox.ac.uk>
	<8FD2B3A0-C423-497D-AAAD-6A5A1345905A@r-project.org>
	<C96885E5-377B-49E4-8B59-39EC21CD7142@stats.ox.ac.uk>
	<2BDFE21D-1A96-4BB3-A295-F8D15EEE652C@r-project.org>
Message-ID: <DF7A7FD4-976B-45AF-9AE3-FE6C51100C23@stats.ox.ac.uk>

On 31 Aug 2005, at 20:33, Simon Urbanek wrote:
>
> On Aug 31, 2005, at 9:54 PM, Kjell Konis wrote:
>
>> On 31 Aug 2005, at 18:21, Simon Urbanek wrote:
>>
>> Here is my environment:
>> CPPFLAGS="-I/Volumes/muffin/DarwinPorts/include"
>> LDFLAGS="-L/Volumes/muffin/DarwinPorts/lib"
>> F77=g77-dp-3.4
>> CC=gcc-dp-3.4
>>
>
> What is that?!? That's not an Apple compiler and it's broken as you  
> can see from the config.log:

It's the GNU C compiler version 3.3.4.

> configure:32439: gcc-dp-3.4 -o conftest -g -O2  -I/Volumes/muffin/ 
> DarwinPorts/include -L/Volumes/muffin/DarwinPorts/lib conftest.c - 
> framework vecLib  -lg2c -lgcc_s -lSystemStubs -lSystem -lcc_dynamic  
> -lm  >&5
> gcc-dp-3.4: vecLib: No such file or directory
> cc1: error: unrecognized command line option "-framework"

This just means it doesn't support -framework.  This is actually the  
answer to my original question.  Apparently -framework is supported  
in stock gcc 4.x.

> You should definitely use Apple's compiler, stock GNU gcc is NOT  
> the same as Apple, because there are many features that Apple folks  
> have added. You should check out the Apple branch from GNU.

It might not be such a good idea to be too dependent on Apple's gcc.   
There are compilers from IBM and Intel that people may at some time  
be interested in using.


Kjell


From simon.urbanek at r-project.org  Fri Sep  2 02:07:35 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 1 Sep 2005 20:07:35 -0400
Subject: [R-SIG-Mac] vecLib and building R from source
In-Reply-To: <DF7A7FD4-976B-45AF-9AE3-FE6C51100C23@stats.ox.ac.uk>
References: <657C44E9-39E4-41D6-AA9F-0F8637C7EC4B@stats.ox.ac.uk>
	<8FD2B3A0-C423-497D-AAAD-6A5A1345905A@r-project.org>
	<C96885E5-377B-49E4-8B59-39EC21CD7142@stats.ox.ac.uk>
	<2BDFE21D-1A96-4BB3-A295-F8D15EEE652C@r-project.org>
	<DF7A7FD4-976B-45AF-9AE3-FE6C51100C23@stats.ox.ac.uk>
Message-ID: <CD443625-A245-4690-96F0-B3E433F6A60D@r-project.org>


On Sep 1, 2005, at 7:13 PM, Kjell Konis wrote:

> On 31 Aug 2005, at 20:33, Simon Urbanek wrote:
>
>> You should definitely use Apple's compiler, stock GNU gcc is NOT  
>> the same as Apple, because there are many features that Apple  
>> folks have added. You should check out the Apple branch from GNU.
>>
>
> It might not be such a good idea to be too dependent on Apple's  
> gcc.  There are compilers from IBM and Intel that people may at  
> some time be interested in using.

You're free to, but then you should know what you're doing and find  
out the right flags for your compiler ;).

As of R-devel configure will automatically use vecLib if the compiler  
supports -framework and vecLib is present, so you don't need to  
supply any flags unless you have an esoteric compiler.

Cheers,
Simon


From stefano.iacus at unimi.it  Fri Sep  2 02:35:32 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Fri, 2 Sep 2005 02:35:32 +0200
Subject: [R-SIG-Mac] vecLib and building R from source
In-Reply-To: <DF7A7FD4-976B-45AF-9AE3-FE6C51100C23@stats.ox.ac.uk>
References: <657C44E9-39E4-41D6-AA9F-0F8637C7EC4B@stats.ox.ac.uk>
	<8FD2B3A0-C423-497D-AAAD-6A5A1345905A@r-project.org>
	<C96885E5-377B-49E4-8B59-39EC21CD7142@stats.ox.ac.uk>
	<2BDFE21D-1A96-4BB3-A295-F8D15EEE652C@r-project.org>
	<DF7A7FD4-976B-45AF-9AE3-FE6C51100C23@stats.ox.ac.uk>
Message-ID: <581BBAC6-BDDC-452E-811E-ACDE88137B8E@unimi.it>


On 02/set/05, at 01:13, Kjell Konis wrote:


> On 31 Aug 2005, at 20:33, Simon Urbanek wrote:
>
>
>>
>> On Aug 31, 2005, at 9:54 PM, Kjell Konis wrote:
>>
>>
>>
>>> On 31 Aug 2005, at 18:21, Simon Urbanek wrote:
>>>
>>> Here is my environment:
>>> CPPFLAGS="-I/Volumes/muffin/DarwinPorts/include"
>>> LDFLAGS="-L/Volumes/muffin/DarwinPorts/lib"
>>> F77=g77-dp-3.4
>>> CC=gcc-dp-3.4
>>>
>>>
>>>
>>
>> What is that?!? That's not an Apple compiler and it's broken as you
>> can see from the config.log:
>>
>>
>
> It's the GNU C compiler version 3.3.4.
>
>
>
>> configure:32439: gcc-dp-3.4 -o conftest -g -O2  -I/Volumes/muffin/
>> DarwinPorts/include -L/Volumes/muffin/DarwinPorts/lib conftest.c -
>> framework vecLib  -lg2c -lgcc_s -lSystemStubs -lSystem -lcc_dynamic
>> -lm  >&5
>> gcc-dp-3.4: vecLib: No such file or directory
>> cc1: error: unrecognized command line option "-framework"
>>
>>
>
> This just means it doesn't support -framework.  This is actually the
> answer to my original question.  Apparently -framework is supported
> in stock gcc 4.x.
>

mmh, gcc 3.3.x from Apple supports -framework and it is documented in  
the gcc man pages. (If I remember well, this is also supported on  
some Win32 version of gcc)



>
>
>
>> You should definitely use Apple's compiler, stock GNU gcc is NOT
>> the same as Apple, because there are many features that Apple folks
>> have added. You should check out the Apple branch from GNU.
>>
>>
>
> It might not be such a good idea to be too dependent on Apple's gcc.
> There are compilers from IBM and Intel that people may at some time
> be interested in using.
>

in this case, you need to bypass configure by specifying --with- 
blas=path_to_your_blas_lib
  so gcc won't try to use the -framework flag.
This is of course the same you do on other unices.
You should also want to remove from the configure flags the options  
to build R as a framework and just set --enable-shlib

In the end, given that you are using gcc-dp (darwin ports?) you  
should also run make check after building R to assess the reliability  
of your build.

Please, let us know your progresses here, we can put notes on the R  
for OS X FAQ.
I understand your idea of a "pure" darwin (i.e.not necessarily aqua &  
core foundation based) build, but I strongly believe that a "out-of- 
the-box" configure and build on OS X must rely on apple's tools as  
well on open source tools as much as possible (and IBM compilers  
aren't for free at the moment)

stefano


>
>
> Kjell
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From konis at stats.ox.ac.uk  Fri Sep  2 03:44:14 2005
From: konis at stats.ox.ac.uk (Kjell Konis)
Date: Thu, 1 Sep 2005 18:44:14 -0700
Subject: [R-SIG-Mac] vecLib and building R from source
In-Reply-To: <581BBAC6-BDDC-452E-811E-ACDE88137B8E@unimi.it>
References: <657C44E9-39E4-41D6-AA9F-0F8637C7EC4B@stats.ox.ac.uk>
	<8FD2B3A0-C423-497D-AAAD-6A5A1345905A@r-project.org>
	<C96885E5-377B-49E4-8B59-39EC21CD7142@stats.ox.ac.uk>
	<2BDFE21D-1A96-4BB3-A295-F8D15EEE652C@r-project.org>
	<DF7A7FD4-976B-45AF-9AE3-FE6C51100C23@stats.ox.ac.uk>
	<581BBAC6-BDDC-452E-811E-ACDE88137B8E@unimi.it>
Message-ID: <5E24EF57-EA35-44B4-9BC1-48AF9DD7593E@stats.ox.ac.uk>

> You should also want to remove from the configure flags the options  
> to build R as a framework and just set --enable-shlib

'./configure --help' doesn't mention --enable-shlib.  Did you mean -- 
enable-R-shlib?

> In the end, given that you are using gcc-dp (darwin ports?) you  
> should also run make check after building R to assess the  
> reliability of your build.

Will do.

> Please, let us know your progresses here, we can put notes on the R  
> for OS X FAQ.
> I understand your idea of a "pure" darwin (i.e.not necessarily aqua  
> & core foundation based) build, but I strongly believe that a "out- 
> of-the-box" configure and build on OS X must rely on apple's tools  
> as well on open source tools as much as possible (and IBM compilers  
> aren't for free at the moment)

I just checked and the IBM compilers do support -framework.  It looks  
like the moral is turning out to be if you want to build R on macosx  
you need a compiler that supports -framework.

Kjell


From stefano.iacus at unimi.it  Fri Sep  2 04:07:18 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Fri, 2 Sep 2005 04:07:18 +0200
Subject: [R-SIG-Mac] vecLib and building R from source
In-Reply-To: <5E24EF57-EA35-44B4-9BC1-48AF9DD7593E@stats.ox.ac.uk>
References: <657C44E9-39E4-41D6-AA9F-0F8637C7EC4B@stats.ox.ac.uk>
	<8FD2B3A0-C423-497D-AAAD-6A5A1345905A@r-project.org>
	<C96885E5-377B-49E4-8B59-39EC21CD7142@stats.ox.ac.uk>
	<2BDFE21D-1A96-4BB3-A295-F8D15EEE652C@r-project.org>
	<DF7A7FD4-976B-45AF-9AE3-FE6C51100C23@stats.ox.ac.uk>
	<581BBAC6-BDDC-452E-811E-ACDE88137B8E@unimi.it>
	<5E24EF57-EA35-44B4-9BC1-48AF9DD7593E@stats.ox.ac.uk>
Message-ID: <5D1E3B8D-ADA3-49FA-8449-ED024559BF77@unimi.it>


On 02/set/05, at 03:44, Kjell Konis wrote:

>> You should also want to remove from the configure flags the  
>> options to build R as a framework and just set --enable-shlib
>>
>
> './configure --help' doesn't mention --enable-shlib.  Did you mean  
> --enable-R-shlib?
yes, I apologize

you should specify

--enable-R-framework=no  --enable-R-shlib

>
>
>> In the end, given that you are using gcc-dp (darwin ports?) you  
>> should also run make check after building R to assess the  
>> reliability of your build.
>>
>
> Will do.
>
>
>> Please, let us know your progresses here, we can put notes on the  
>> R for OS X FAQ.
>> I understand your idea of a "pure" darwin (i.e.not necessarily  
>> aqua & core foundation based) build, but I strongly believe that a  
>> "out-of-the-box" configure and build on OS X must rely on apple's  
>> tools as well on open source tools as much as possible (and IBM  
>> compilers aren't for free at the moment)
>>
>
> I just checked and the IBM compilers do support -framework.  It  
> looks like the moral is turning out to be if you want to build R on  
> macosx you need a compiler that supports -framework.

as I said, you can live without the -framework flag but you need to  
specify the path or other flags for your compiler,
see e.g. sec A.2.2 Linear algebra in R admin manual

stefano

>
> Kjell
>


From buddhahead at ranpura.com  Fri Sep  2 18:19:02 2005
From: buddhahead at ranpura.com (Ashish Ranpura)
Date: Fri, 2 Sep 2005 17:19:02 +0100
Subject: [R-SIG-Mac] simple line plots?
Message-ID: <813D606B-06AD-45E9-8C5D-DA0A7BDFB2F6@ranpura.com>


I've spent quite a lot of the day trying to construct a fairly  
standard line plot in R, and I have the feeling there is a simple way  
that I haven't discovered.

I have a large vector of measurements (TIME), and each measurement  
falls into one of three categories (PHASE). For each PHASE value, I  
want a mean of the corresponding TIME measurements plotted as a point  
along with standard error bars. I'd like the three resulting point  
connected with line segments.

I'd like to have two data series like this plotted on the same graph  
-- one in red, one in blue.

Excel, as awful as it is, does this kind of graph quite easily.

After sifting through the scattered documentation, the best I could  
do was to store the mean values of the three points, plot those three  
numbers against the values 1,2, and 3, then use the arrows() function  
to draw error bars on each one. This is a LOT of manual effort, as  
you can imagine (in addition to the means I have to calculate the  
standard errors for each point, and I still don't know how to draw  
each of the three line segments I need).

Any suggestions?

Thanks,

--Ashish.


-----
Ashish Ranpura
Institute of Cognitive Neuroscience
University College London
17 Queen Square
LONDON WC1N 3AR


From macq at llnl.gov  Fri Sep  2 20:59:45 2005
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 2 Sep 2005 11:59:45 -0700
Subject: [R-SIG-Mac] simple line plots?
In-Reply-To: <813D606B-06AD-45E9-8C5D-DA0A7BDFB2F6@ranpura.com>
References: <813D606B-06AD-45E9-8C5D-DA0A7BDFB2F6@ranpura.com>
Message-ID: <p0621020abf3e507bb0b0@[128.115.153.6]>

This is a general R question, not a Mac-specific question, so you'll 
get more suggestions if you post on regular R help.

In the meantime,

>  help.search('error bar')
Help files with alias or concept or title matching 'error bar' using
fuzzy matching:



errbar(Hmisc)           Plot Error Bars
xYplot(Hmisc)           xyplot and dotplot with Matrix Variables to
                         Plot Error Bars and Bands
ncv.test(car)           Score Test for Non-Constant Error Variance
plotCI(gplots)          Plot Error Bars and Confidence Intervals

brings up three possibilities, the functions errbar(), xYplot(), and plotCI().

Keep digging in the documentation. Although I can't tell you exactly 
which one or ones to look in, there is undoubtedly something. If 
nothing else, search the R-help archives.

-Don

At 5:19 PM +0100 9/2/05, Ashish Ranpura wrote:
>I've spent quite a lot of the day trying to construct a fairly 
>standard line plot in R, and I have the feeling there is a simple way 
>that I haven't discovered.
>
>I have a large vector of measurements (TIME), and each measurement 
>falls into one of three categories (PHASE). For each PHASE value, I 
>want a mean of the corresponding TIME measurements plotted as a point 
>along with standard error bars. I'd like the three resulting point 
>connected with line segments.
>
>I'd like to have two data series like this plotted on the same graph 
>-- one in red, one in blue.
>
>Excel, as awful as it is, does this kind of graph quite easily.
>
>After sifting through the scattered documentation, the best I could 
>do was to store the mean values of the three points, plot those three 
>numbers against the values 1,2, and 3, then use the arrows() function 
>to draw error bars on each one. This is a LOT of manual effort, as 
>you can imagine (in addition to the means I have to calculate the 
>standard errors for each point, and I still don't know how to draw 
>each of the three line segments I need).
>
>Any suggestions?
>
>Thanks,
>
>--Ashish.
>
>
>-----
>Ashish Ranpura
>Institute of Cognitive Neuroscience
>University College London
>17 Queen Square
>LONDON WC1N 3AR
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA


From konis at stats.ox.ac.uk  Fri Sep  2 21:44:08 2005
From: konis at stats.ox.ac.uk (Kjell Konis)
Date: Fri, 2 Sep 2005 12:44:08 -0700
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
Message-ID: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>

I just added R 2.1.1 to DarwinPorts.  Presently this is only the  
command line version of R but it does support Aqua tcl/tk (a pleasant  
surprise, I tested it with Rcmdr and rgl) and X11.  DarwinPorts  
supports installing frameworks now and I'm planning on making a port  
for R.framework when 2.2 comes out in October.

If you would like to try it out you will first need to install  
DarwinPorts.  Instructions are available here

http://darwinports.opendarwin.org/getdp/

but it really just boils down to (1) running the installer on this DMG

http://darwinports.opendarwin.org/downloads/DarwinPorts-1.0.dmg

(the rest of the commands should be run in the terminal)

(2) adding DarwinPorts to your path:
   csh, tcsh: setenv PATH /opt/local/bin:${PATH}
   bash: export PATH=/opt/local/bin:${PATH}

(3) updating to the latest version of port (the program that installs  
the DarwinPorts):
   sudo port selfupdate

(4) getting the latest version of the ports:
   sudo port sync

(5) and installing R
   sudo port install R

Installing R will take a long time because it has lots of  
dependencies (fortran compiler, latex, tcl/tk, etc.).

Kjell


From elw at stderr.org  Fri Sep  2 20:25:00 2005
From: elw at stderr.org (elijah wright)
Date: Fri, 2 Sep 2005 13:25:00 -0500 (CDT)
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
Message-ID: <Pine.LNX.4.63.0509021324100.2987@illuminati.stderr.org>



"just", or a couple days ago?  i built something from darwinports for our 
mac lab a couple days back that claimed to be 2.1.1....

good to hear that the aqua tcltk works.  that's very nice.

looking forward to the framework support.  that should be mega-cool.

--elijah


On Fri, 2 Sep 2005, Kjell Konis wrote:

> Date: Fri, 2 Sep 2005 12:44:08 -0700
> From: Kjell Konis <konis at stats.ox.ac.uk>
> To: r-mac <r-sig-mac at stat.math.ethz.ch>
> Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
> 
> I just added R 2.1.1 to DarwinPorts.  Presently this is only the
> command line version of R but it does support Aqua tcl/tk (a pleasant
> surprise, I tested it with Rcmdr and rgl) and X11.  DarwinPorts
> supports installing frameworks now and I'm planning on making a port
> for R.framework when 2.2 comes out in October.
>
> If you would like to try it out you will first need to install
> DarwinPorts.  Instructions are available here
>
> http://darwinports.opendarwin.org/getdp/
>
> but it really just boils down to (1) running the installer on this DMG
>
> http://darwinports.opendarwin.org/downloads/DarwinPorts-1.0.dmg
>
> (the rest of the commands should be run in the terminal)
>
> (2) adding DarwinPorts to your path:
>   csh, tcsh: setenv PATH /opt/local/bin:${PATH}
>   bash: export PATH=/opt/local/bin:${PATH}
>
> (3) updating to the latest version of port (the program that installs
> the DarwinPorts):
>   sudo port selfupdate
>
> (4) getting the latest version of the ports:
>   sudo port sync
>
> (5) and installing R
>   sudo port install R
>
> Installing R will take a long time because it has lots of
> dependencies (fortran compiler, latex, tcl/tk, etc.).
>
> Kjell
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From konis at stats.ox.ac.uk  Fri Sep  2 22:39:35 2005
From: konis at stats.ox.ac.uk (Kjell Konis)
Date: Fri, 2 Sep 2005 13:39:35 -0700
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <Pine.LNX.4.63.0509021324100.2987@illuminati.stderr.org>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<Pine.LNX.4.63.0509021324100.2987@illuminati.stderr.org>
Message-ID: <FA483C3A-DC5F-46F7-80D0-526254C5DE92@stats.ox.ac.uk>

"just" == a couple of hours ago.

This is my second try at R 2.1.1.  The version you have installed  
(try number 1) was probably built with gfortran (in gcc 4.0) which I  
hear is not 100% stable yet - this was the main reason for the  
revision to the port.  Also, the discussion here about path.expand  
made me realize that the port was picking up the wrong version of  
readline so I fixed that as well as a few other minor things.

Good to hear someone is using the port.

Kjell

On 2 Sep 2005, at 11:25, elijah wright wrote:

>
>
> "just", or a couple days ago?  i built something from darwinports  
> for our mac lab a couple days back that claimed to be 2.1.1....
>
> good to hear that the aqua tcltk works.  that's very nice.
>
> looking forward to the framework support.  that should be mega-cool.
>
> --elijah
>
>
> On Fri, 2 Sep 2005, Kjell Konis wrote:
>
>
>> Date: Fri, 2 Sep 2005 12:44:08 -0700
>> From: Kjell Konis <konis at stats.ox.ac.uk>
>> To: r-mac <r-sig-mac at stat.math.ethz.ch>
>> Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
>> I just added R 2.1.1 to DarwinPorts.  Presently this is only the
>> command line version of R but it does support Aqua tcl/tk (a pleasant
>> surprise, I tested it with Rcmdr and rgl) and X11.  DarwinPorts
>> supports installing frameworks now and I'm planning on making a port
>> for R.framework when 2.2 comes out in October.
>>
>> If you would like to try it out you will first need to install
>> DarwinPorts.  Instructions are available here
>>
>> http://darwinports.opendarwin.org/getdp/
>>
>> but it really just boils down to (1) running the installer on this  
>> DMG
>>
>> http://darwinports.opendarwin.org/downloads/DarwinPorts-1.0.dmg
>>
>> (the rest of the commands should be run in the terminal)
>>
>> (2) adding DarwinPorts to your path:
>>   csh, tcsh: setenv PATH /opt/local/bin:${PATH}
>>   bash: export PATH=/opt/local/bin:${PATH}
>>
>> (3) updating to the latest version of port (the program that installs
>> the DarwinPorts):
>>   sudo port selfupdate
>>
>> (4) getting the latest version of the ports:
>>   sudo port sync
>>
>> (5) and installing R
>>   sudo port install R
>>
>> Installing R will take a long time because it has lots of
>> dependencies (fortran compiler, latex, tcl/tk, etc.).
>>
>> Kjell
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>


From elw at stderr.org  Fri Sep  2 23:54:17 2005
From: elw at stderr.org (elijah wright)
Date: Fri, 2 Sep 2005 16:54:17 -0500 (CDT)
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <FA483C3A-DC5F-46F7-80D0-526254C5DE92@stats.ox.ac.uk>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<Pine.LNX.4.63.0509021324100.2987@illuminati.stderr.org>
	<FA483C3A-DC5F-46F7-80D0-526254C5DE92@stats.ox.ac.uk>
Message-ID: <Pine.LNX.4.63.0509021649410.9807@illuminati.stderr.org>


> "just" == a couple of hours ago.
>
> This is my second try at R 2.1.1.  The version you have installed (try 
> number 1) was probably built with gfortran (in gcc 4.0) which I hear is 
> not 100% stable yet - this was the main reason for the revision to the 
> port.  Also, the discussion here about path.expand made me realize that 
> the port was picking up the wrong version of readline so I fixed that as 
> well as a few other minor things.

the new one doesn't seem to build out of the box, at least not here.

haven't had time to debug yet, but the errors from port were not things 
i'd seen before -- something about "bad command bin:latex:teTex"?

i suspect a typo somewhere in the works ;)

--elijah


From konis at stats.ox.ac.uk  Sat Sep  3 02:05:44 2005
From: konis at stats.ox.ac.uk (Kjell Konis)
Date: Fri, 2 Sep 2005 17:05:44 -0700
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <Pine.LNX.4.63.0509021649410.9807@illuminati.stderr.org>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<Pine.LNX.4.63.0509021324100.2987@illuminati.stderr.org>
	<FA483C3A-DC5F-46F7-80D0-526254C5DE92@stats.ox.ac.uk>
	<Pine.LNX.4.63.0509021649410.9807@illuminati.stderr.org>
Message-ID: <7D2DC30C-D1A6-44B6-882E-BA69284D17CA@stats.ox.ac.uk>

Yeah, the version in DP is missing a backslash.  It should be fixed  
shortly - will let you know.

Kjell


On 2 Sep 2005, at 14:54, elijah wright wrote:

>
>
>> "just" == a couple of hours ago.
>>
>> This is my second try at R 2.1.1.  The version you have installed  
>> (try number 1) was probably built with gfortran (in gcc 4.0) which  
>> I hear is not 100% stable yet - this was the main reason for the  
>> revision to the port.  Also, the discussion here about path.expand  
>> made me realize that the port was picking up the wrong version of  
>> readline so I fixed that as well as a few other minor things.
>>
>
> the new one doesn't seem to build out of the box, at least not here.
>
> haven't had time to debug yet, but the errors from port were not  
> things i'd seen before -- something about "bad command  
> bin:latex:teTex"?
>
> i suspect a typo somewhere in the works ;)
>
> --elijah
>
>


From kamakura at indsys.chuo-u.ac.jp  Sat Sep  3 06:48:00 2005
From: kamakura at indsys.chuo-u.ac.jp (kamakura)
Date: Sat, 03 Sep 2005 13:48:00 +0900
Subject: [R-SIG-Mac] Compiling rsprng
Message-ID: <BF3F5A10.18A69%kamakura@indsys.chuo-u.ac.jp>

I try to compile rsprng on the MacOSX (10.3.9).

I got the binary program of libsprng.a from the
http://www.biostat.umn.edu/~nali/SoftwareListing.html, but it did not work
properly. The following error occurred.

ld: table of contents for archive: /usr/local/lib/libsprng.a is out of date;
rerun ranlib(1) (can't load from it)

Does anyone have a libsprng.a or know how to compile the sprng source file
for creating the library?

Toshinari Kamakura


From jago at mclink.it  Sat Sep  3 09:13:13 2005
From: jago at mclink.it (stefano iacus)
Date: Sat, 3 Sep 2005 09:13:13 +0200
Subject: [R-SIG-Mac] Compiling rsprng
In-Reply-To: <BF3F5A10.18A69%kamakura@indsys.chuo-u.ac.jp>
References: <BF3F5A10.18A69%kamakura@indsys.chuo-u.ac.jp>
Message-ID: <6384A4A1-18C9-4769-8BF2-5F2EB496F7CB@mclink.it>


On 03/set/05, at 06:48, kamakura wrote:

> I try to compile rsprng on the MacOSX (10.3.9).
>
> I got the binary program of libsprng.a from the
> http://www.biostat.umn.edu/~nali/SoftwareListing.html, but it did  
> not work
> properly. The following error occurred.
>
> ld: table of contents for archive: /usr/local/lib/libsprng.a is out  
> of date;
> rerun ranlib(1) (can't load from it)
try
sudo ranlib /usr/local/lib/libsprng.a

from your terminal
stefano


>
> Does anyone have a libsprng.a or know how to compile the sprng  
> source file
> for creating the library?
>
> Toshinari Kamakura
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From elw at stderr.org  Sat Sep  3 15:51:14 2005
From: elw at stderr.org (elijah wright)
Date: Sat, 3 Sep 2005 08:51:14 -0500 (CDT)
Subject: [R-SIG-Mac] Compiling rsprng
In-Reply-To: <BF3F5A10.18A69%kamakura@indsys.chuo-u.ac.jp>
References: <BF3F5A10.18A69%kamakura@indsys.chuo-u.ac.jp>
Message-ID: <Pine.LNX.4.63.0509030849240.16175@illuminati.stderr.org>


> I got the binary program of libsprng.a from the 
> http://www.biostat.umn.edu/~nali/SoftwareListing.html, but it did not 
> work properly. The following error occurred.
>
> ld: table of contents for archive: /usr/local/lib/libsprng.a is out of 
> date; rerun ranlib(1) (can't load from it)
>
> Does anyone have a libsprng.a or know how to compile the sprng source 
> file for creating the library?

recompiling libsprng with a modern GCC is 'difficult', because gcc no 
longer allows multiline statements in assembler.  [yes, this is silly.]

at one point i was going to hack together a version that would build with 
gcc 3.3+, but i haven't had time to work on it.

--elijah


From c.prinoth at gmail.com  Sun Sep  4 16:10:14 2005
From: c.prinoth at gmail.com (Christian Prinoth)
Date: Sun, 4 Sep 2005 16:10:14 +0200
Subject: [R-SIG-Mac] R.app crash report
Message-ID: <E3C0108E-824D-4C92-A3B4-D75AB7A1FDBB@gmail.com>

The application crashes following these steps:
- create a quartz output (eg any kind of graph)
- press alt-q
- select cancel when asked to save workspace
- try to create another graph

log below

Host Name:      CPs-imac-g5
Date/Time:      2005-09-04 16:04:31.356 +0200
OS Version:     10.4.2 (Build 8C46)
Report Version: 3

Command: R
Path:    /Applications/R.app/Contents/MacOS/R
Parent:  WindowServer [59]

Version: 1.12 (1622)

PID:    1642
Thread: 0

Exception:  EXC_SOFTWARE (0x0005)
Code[0]:    0x00000001
Code[1]:    0x0d446a00


Thread 0 Crashed:
0   <<00000000>>     0x0d446a00 0 + 222587392
1   libR.dylib                      0x00260eb4 jump_to_top_ex + 608  
(errors.c:682)
2   com.apple.AppKit                0x937f957c -[NSToolbarButton  
sendAction:to:] + 76
3   com.apple.AppKit                0x937f951c -[NSToolbarButton  
sendAction] + 80
4   com.apple.AppKit                0x937f8e74 -[NSToolbarItemViewer  
mouseDown:] + 1568
5   com.apple.AppKit                0x9368d9c8 -[NSWindow sendEvent:]  
+ 4616
6   com.catchysoftware.maximice     0x0100d144 My_SendEvent + 3104
7   com.apple.AppKit                0x93636bfc -[NSApplication  
sendEvent:] + 4172
8   com.apple.AppKit                0x9362e090 -[NSApplication run] +  
508
9   com.apple.AppKit                0x9371e8bc NSApplicationMain + 452
10  org.R-project.R                 0x00002dd0 _start + 392 (crt.c:267)
11  dyld                            0x8fe01048 _dyld_start + 60

Thread 1:
0   libSystem.B.dylib               0x9001efec select + 12
1   org.R-project.R                 0x0000435c -[RController  
readThread:] + 524 (crt.c:300)
2   com.apple.Foundation            0x92882f34 forkThreadForFunction  
+ 108
3   libSystem.B.dylib               0x9002c3d4 _pthread_body + 96

Thread 2:
0   libSystem.B.dylib               0x9004ca38 syscall_thread_switch + 8
1   com.apple.Foundation            0x9289b330 +[NSThread  
sleepUntilDate:] + 152
2   com.apple.AppKit                0x936ceb00 -[NSUIHeartBeat  
_heartBeatThread:] + 1100
3   com.apple.Foundation            0x92882f34 forkThreadForFunction  
+ 108
4   libSystem.B.dylib               0x9002c3d4 _pthread_body + 96

Thread 3:
0   libSystem.B.dylib               0x9000a778 mach_msg_trap + 8
1   libSystem.B.dylib               0x9000a6bc mach_msg + 60
2   com.apple.CoreFoundation        0x9074b338 __CFRunLoopRun + 832
3   com.apple.CoreFoundation        0x9074ac3c CFRunLoopRunSpecific +  
268
4   com.apple.Foundation            0x928aa3e0 +[NSURLConnection 
(NSURLConnectionInternal) _resourceLoadLoop:] + 264
5   com.apple.Foundation            0x92882f34 forkThreadForFunction  
+ 108
6   libSystem.B.dylib               0x9002c3d4 _pthread_body + 96

Thread 4:
0   libSystem.B.dylib               0x9000a778 mach_msg_trap + 8
1   libSystem.B.dylib               0x9000a6bc mach_msg + 60
2   com.apple.CoreFoundation        0x9074b338 __CFRunLoopRun + 832
3   com.apple.CoreFoundation        0x9074ac3c CFRunLoopRunSpecific +  
268
4   com.apple.Foundation            0x928ab520 +[NSURLCache  
_diskCacheSyncLoop:] + 152
5   com.apple.Foundation            0x92882f34 forkThreadForFunction  
+ 108
6   libSystem.B.dylib               0x9002c3d4 _pthread_body + 96

Thread 5:
0   libSystem.B.dylib               0x9000a778 mach_msg_trap + 8
1   libSystem.B.dylib               0x9000a6bc mach_msg + 60
2   com.apple.CoreFoundation        0x9074b338 __CFRunLoopRun + 832
3   com.apple.CoreFoundation        0x9074ac3c CFRunLoopRunSpecific +  
268
4   com.apple.Foundation            0x92891ec4 -[NSRunLoop  
runMode:beforeDate:] + 172
5   com.apple.Foundation            0x92891dfc -[NSRunLoop run] + 76
6   com.apple.WebKit                0x959bedb8 +[WebFileDatabase  
_syncLoop:] + 176
7   com.apple.Foundation            0x92882f34 forkThreadForFunction  
+ 108
8   libSystem.B.dylib               0x9002c3d4 _pthread_body + 96

Thread 0 crashed with PPC Thread State 64:
   srr0: 0x000000000d446a00 srr1:  
0x100000000202f030                        vrsave: 0x0000000000000000
     cr: 0x44004204          xer: 0x0000000000000000   lr:  
0x00000000002381d4  ctr: 0x000000000d446a00
     r0: 0x00000000903e5b18   r1: 0x00000000bfffe930   r2:  
0x0000000000000005   r3: 0x0000000000000060
     r4: 0x00000000018719b0   r5: 0x00000000018719b0   r6:  
0xffffffff80808080   r7: 0x0000000000000000
     r8: 0x0000000000000000   r9: 0x000000000039814c  r10:  
0x0000000000260614  r11: 0x000000000039e890
    r12: 0x000000000d446a00  r13: 0x00000000a365c7c0  r14:  
0x0000000000000100  r15: 0x0000000000000000
    r16: 0x00000000a365c7c0  r17: 0x00000000a366c7c0  r18:  
0x00000000a365c7c0  r19: 0x00000000a365c7c0
    r20: 0x00000000a3668854  r21: 0x000000000d900b20  r22:  
0x0000000000000001  r23: 0x0000000000000000
    r24: 0x0000000000000000  r25: 0x00000000003e8370  r26:  
0x00000000003e8374  r27: 0x00000000003e8000
    r28: 0x00000000003e7f60  r29: 0x00000000003a0c5c  r30:  
0x00000000bfff92b0  r31: 0x000000000023814c

Binary Images Description:
     0x1000 -    0x38fff org.R-project.R 1.12 (1622)    /Applications/ 
R.app/Contents/MacOS/R
    0x52000 -    0x84fff libreadline.5.0.dylib     /Library/ 
Frameworks/R.framework/Resources/lib/libreadline.5.0.dylib
    0x98000 -    0xc3fff libncurses.5.dylib     /usr/lib/libncurses. 
5.dylib
   0x205000 -   0x392fff libR.dylib     /Library/Frameworks/ 
R.framework/Resources/lib/libR.dylib
0x1008000 -  0x1012fff com.catchysoftware.maximice MaxiMice version  
1.0.1 (1.0.1)    /Library/InputManagers/MaxiMice/ 
MaxiMiceClient.bundle/Contents/MacOS/MaxiMiceClient
0x5b37000 -  0x5b4cfff grDevices.so     /Library/Frameworks/ 
R.framework/Resources/library/grDevices/libs/grDevices.so
0x5bf2000 -  0x5c1dfff stats.so     /Library/Frameworks/R.framework/ 
Resources/library/stats/libs/stats.so
0x5d2c000 -  0x5d32fff com.apple.DictionaryServiceComponent 1.0.0    / 
System/Library/Components/DictionaryService.component/Contents/MacOS/ 
DictionaryService
0x5d37000 -  0x5d3afff methods.so     /Library/Frameworks/R.framework/ 
Resources/library/methods/libs/methods.so
0x6b1a000 -  0x6b48fff R_X11.so     /Library/Frameworks/R.framework/ 
Resources/modules/R_X11.so
0x98f6000 -  0x98f7fff tools.so     /Library/Frameworks/R.framework/ 
Resources/library/tools/libs/tools.so
0x8fe00000 - 0x8fe51fff dyld 43.1    /usr/lib/dyld
0x90000000 - 0x901a6fff libSystem.B.dylib     /usr/lib/libSystem.B.dylib
0x901fe000 - 0x90202fff libmathCommon.A.dylib     /usr/lib/system/ 
libmathCommon.A.dylib
0x90204000 - 0x90257fff com.apple.CoreText 1.0.0 (???)    /System/ 
Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/CoreText.framework/Versions/A/CoreText
0x90284000 - 0x90335fff ATS     /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/ 
Versions/A/ATS
0x90364000 - 0x9069dfff com.apple.CoreGraphics 1.256.14 (???)    / 
System/Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics
0x90728000 - 0x90801fff com.apple.CoreFoundation 6.4.3 (368.12)    / 
System/Library/Frameworks/CoreFoundation.framework/Versions/A/ 
CoreFoundation
0x9084a000 - 0x9084afff com.apple.CoreServices 10.4 (???)    /System/ 
Library/Frameworks/CoreServices.framework/Versions/A/CoreServices
0x9084c000 - 0x9094efff libicucore.A.dylib     /usr/lib/ 
libicucore.A.dylib
0x909a8000 - 0x90a2cfff libobjc.A.dylib     /usr/lib/libobjc.A.dylib
0x90a56000 - 0x90acafff com.apple.framework.IOKit 1.4 (???)    / 
System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x90ae4000 - 0x90af6fff libauto.dylib     /usr/lib/libauto.dylib
0x90afd000 - 0x90dc2fff com.apple.CoreServices.CarbonCore 10.4.1  
(611.1)    /System/Library/Frameworks/CoreServices.framework/Versions/ 
A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore
0x90e25000 - 0x90ea5fff com.apple.CoreServices.OSServices 4.0  
(4.0.0)    /System/Library/Frameworks/CoreServices.framework/Versions/ 
A/Frameworks/OSServices.framework/Versions/A/OSServices
0x90eef000 - 0x90f2ffff com.apple.CFNetwork 10.4.2 (80)    /System/ 
Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/ 
CFNetwork.framework/Versions/A/CFNetwork
0x90f44000 - 0x90f5cfff com.apple.WebServices 1.1.2 (1.1.0)    / 
System/Library/Frameworks/CoreServices.framework/Versions/A/ 
Frameworks/WebServicesCore.framework/Versions/A/WebServicesCore
0x90f6c000 - 0x90feafff com.apple.SearchKit 1.0.3    /System/Library/ 
Frameworks/CoreServices.framework/Versions/A/Frameworks/ 
SearchKit.framework/Versions/A/SearchKit
0x9102f000 - 0x91056fff com.apple.Metadata 1.1 (121.6)    /System/ 
Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/ 
Metadata.framework/Versions/A/Metadata
0x91077000 - 0x91239fff com.apple.security 4.0.1 (223)    /System/ 
Library/Frameworks/Security.framework/Versions/A/Security
0x9133b000 - 0x91344fff com.apple.DiskArbitration 2.1    /System/ 
Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration
0x9134b000 - 0x91372fff com.apple.SystemConfiguration 1.8.0    / 
System/Library/Frameworks/SystemConfiguration.framework/Versions/A/ 
SystemConfiguration
0x91385000 - 0x9138dfff libbsm.dylib     /usr/lib/libbsm.dylib
0x91391000 - 0x9140ffff com.apple.audio.CoreAudio 3.0.1    /System/ 
Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio
0x9144d000 - 0x9144dfff com.apple.ApplicationServices 10.4 (???)    / 
System/Library/Frameworks/ApplicationServices.framework/Versions/A/ 
ApplicationServices
0x9144f000 - 0x91487fff com.apple.AE 1.5 (297)    /System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
AE.framework/Versions/A/AE
0x914a2000 - 0x9156dfff com.apple.ColorSync 4.4    /System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
ColorSync.framework/Versions/A/ColorSync
0x915c2000 - 0x91655fff com.apple.print.framework.PrintCore 4.0  
(172.1)    /System/Library/Frameworks/ApplicationServices.framework/ 
Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore
0x9169b000 - 0x91758fff com.apple.QD 3.8.6 (???)    /System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
QD.framework/Versions/A/QD
0x91796000 - 0x917f4fff com.apple.HIServices 1.5.0 (???)    /System/ 
Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/HIServices.framework/Versions/A/HIServices
0x91822000 - 0x91845fff com.apple.LangAnalysis 1.6    /System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
LangAnalysis.framework/Versions/A/LangAnalysis
0x91859000 - 0x9187efff com.apple.FindByContent 1.5    /System/ 
Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/FindByContent.framework/Versions/A/FindByContent
0x91891000 - 0x918d2fff com.apple.LaunchServices 10.4.3 (157)    / 
System/Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/LaunchServices.framework/Versions/A/LaunchServices
0x918ed000 - 0x91901fff com.apple.speech.synthesis.framework 3.3    / 
System/Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis
0x9190f000 - 0x91945fff com.apple.ImageIO.framework 1.0.2    /System/ 
Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/ImageIO.framework/Versions/A/ImageIO
0x91959000 - 0x91a1ffff libcrypto.0.9.7.dylib     /usr/lib/libcrypto. 
0.9.7.dylib
0x91a6c000 - 0x91a81fff libcups.2.dylib     /usr/lib/libcups.2.dylib
0x91a86000 - 0x91aa2fff libJPEG.dylib     /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libJPEG.dylib
0x91aa7000 - 0x91b16fff libJP2.dylib     /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libJP2.dylib
0x91b2d000 - 0x91b31fff libGIF.dylib     /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libGIF.dylib
0x91b33000 - 0x91b4bfff libRaw.dylib     /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libRaw.dylib
0x91b4e000 - 0x91b91fff libTIFF.dylib     /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libTIFF.dylib
0x91b98000 - 0x91bb1fff libPng.dylib     /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libPng.dylib
0x91bb6000 - 0x91bb9fff libRadiance.dylib     /System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
ImageIO.framework/Versions/A/Resources/libRadiance.dylib
0x91bbb000 - 0x91bbbfff com.apple.Accelerate 1.1.1 (Accelerate  
1.1.1)    /System/Library/Frameworks/Accelerate.framework/Versions/A/ 
Accelerate
0x91bbd000 - 0x91ca7fff com.apple.vImage 2.0    /System/Library/ 
Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
vImage.framework/Versions/A/vImage
0x91caf000 - 0x91ccefff com.apple.Accelerate.vecLib 3.1.1 (vecLib  
3.1.1)    /System/Library/Frameworks/Accelerate.framework/Versions/A/ 
Frameworks/vecLib.framework/Versions/A/vecLib
0x91d3a000 - 0x91d5afff libmx.A.dylib     /usr/lib/libmx.A.dylib
0x91d60000 - 0x91dc5fff libvMisc.dylib     /System/Library/Frameworks/ 
Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/ 
A/libvMisc.dylib
0x91dcf000 - 0x91e61fff libvDSP.dylib     /System/Library/Frameworks/ 
Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/ 
A/libvDSP.dylib
0x91e7b000 - 0x9240bfff libBLAS.dylib     /System/Library/Frameworks/ 
Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/ 
A/libBLAS.dylib
0x92453000 - 0x92763fff libLAPACK.dylib     /System/Library/ 
Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
vecLib.framework/Versions/A/libLAPACK.dylib
0x92790000 - 0x9281bfff com.apple.DesktopServices 1.3    /System/ 
Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/ 
DesktopServicesPriv
0x9285d000 - 0x92a86fff com.apple.Foundation 6.4.1 (567.12)    / 
System/Library/Frameworks/Foundation.framework/Versions/C/Foundation
0x92ba4000 - 0x92c82fff libxml2.2.dylib     /usr/lib/libxml2.2.dylib
0x92ca2000 - 0x92d90fff libiconv.2.dylib     /usr/lib/libiconv.2.dylib
0x92da2000 - 0x92dc0fff libGL.dylib     /System/Library/Frameworks/ 
OpenGL.framework/Versions/A/Libraries/libGL.dylib
0x92dcb000 - 0x92e25fff libGLU.dylib     /System/Library/Frameworks/ 
OpenGL.framework/Versions/A/Libraries/libGLU.dylib
0x92e43000 - 0x92e43fff com.apple.Carbon 10.4 (???)    /System/ 
Library/Frameworks/Carbon.framework/Versions/A/Carbon
0x92e45000 - 0x92e59fff com.apple.ImageCapture 3.0    /System/Library/ 
Frameworks/Carbon.framework/Versions/A/Frameworks/ 
ImageCapture.framework/Versions/A/ImageCapture
0x92e71000 - 0x92e81fff com.apple.speech.recognition.framework  
3.4    /System/Library/Frameworks/Carbon.framework/Versions/A/ 
Frameworks/SpeechRecognition.framework/Versions/A/SpeechRecognition
0x92e8d000 - 0x92ea2fff com.apple.securityhi 2.0 (203)    /System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
SecurityHI.framework/Versions/A/SecurityHI
0x92eb4000 - 0x92f3bfff com.apple.ink.framework 101.2 (69)    /System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
Ink.framework/Versions/A/Ink
0x92f4f000 - 0x92f5afff com.apple.help 1.0.3 (32)    /System/Library/ 
Frameworks/Carbon.framework/Versions/A/Frameworks/Help.framework/ 
Versions/A/Help
0x92f64000 - 0x92f91fff com.apple.openscripting 1.2.2 (???)    / 
System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
OpenScripting.framework/Versions/A/OpenScripting
0x92fab000 - 0x92fbbfff com.apple.print.framework.Print 4.0 (187)    / 
System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
Print.framework/Versions/A/Print
0x92fc7000 - 0x9302dfff com.apple.htmlrendering 1.1.2    /System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
HTMLRendering.framework/Versions/A/HTMLRendering
0x9305e000 - 0x930b0fff com.apple.NavigationServices 3.4.1 (3.4)    / 
System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
NavigationServices.framework/Versions/A/NavigationServices
0x930dc000 - 0x930f9fff com.apple.audio.SoundManager 3.9    /System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
CarbonSound.framework/Versions/A/CarbonSound
0x9310b000 - 0x93118fff com.apple.CommonPanels 1.2.2 (73)    /System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
CommonPanels.framework/Versions/A/CommonPanels
0x93121000 - 0x93431fff com.apple.HIToolbox 1.4.3 (???)    /System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
HIToolbox.framework/Versions/A/HIToolbox
0x9357c000 - 0x93588fff com.apple.opengl 1.4.0    /System/Library/ 
Frameworks/OpenGL.framework/Versions/A/OpenGL
0x93628000 - 0x93628fff com.apple.Cocoa 6.4 (???)    /System/Library/ 
Frameworks/Cocoa.framework/Versions/A/Cocoa
0x9362a000 - 0x93c5bfff com.apple.AppKit 6.4.2 (824.11)    /System/ 
Library/Frameworks/AppKit.framework/Versions/C/AppKit
0x93fe7000 - 0x94051fff com.apple.CoreData 1.0 (46)    /System/ 
Library/Frameworks/CoreData.framework/Versions/A/CoreData
0x94089000 - 0x94153fff com.apple.audio.toolbox.AudioToolbox  
1.4.1    /System/Library/Frameworks/AudioToolbox.framework/Versions/A/ 
AudioToolbox
0x941a7000 - 0x941a7fff com.apple.audio.units.AudioUnit 1.4    / 
System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
0x941a9000 - 0x94308fff com.apple.QuartzCore 1.4.1    /System/Library/ 
Frameworks/QuartzCore.framework/Versions/A/QuartzCore
0x94350000 - 0x9438dfff libsqlite3.0.dylib     /usr/lib/ 
libsqlite3.0.dylib
0x94395000 - 0x943e0fff libGLImage.dylib     /System/Library/ 
Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.dylib
0x94581000 - 0x94590fff libCGATS.A.dylib     /System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
CoreGraphics.framework/Versions/A/Resources/libCGATS.A.dylib
0x94598000 - 0x945a4fff libCSync.A.dylib     /System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib
0x945e9000 - 0x945fdfff libRIP.A.dylib     /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib
0x94938000 - 0x94957fff com.apple.vecLib 3.1.1 (vecLib 3.1.1)    / 
System/Library/Frameworks/vecLib.framework/Versions/A/vecLib
0x959bc000 - 0x95a46fff com.apple.WebKit 412.6.2    /System/Library/ 
Frameworks/WebKit.framework/Versions/A/WebKit
0x95aa0000 - 0x95b82fff com.apple.JavaScriptCore 412.3    /System/ 
Library/Frameworks/WebKit.framework/Versions/A/Frameworks/ 
JavaScriptCore.framework/Versions/A/JavaScriptCore
0x95bd6000 - 0x95ec4fff com.apple.WebCore 415.11.1    /System/Library/ 
Frameworks/WebKit.framework/Versions/A/Frameworks/WebCore.framework/ 
Versions/A/WebCore
0x96045000 - 0x9606efff libxslt.1.dylib     /usr/lib/libxslt.1.dylib
0x96392000 - 0x96394fff com.apple.ExceptionHandling 1.2 (???)    / 
System/Library/Frameworks/ExceptionHandling.framework/Versions/A/ 
ExceptionHandling
0x9adac000 - 0x9adbbfff libICE.6.dylib     /usr/X11R6/lib/libICE.6.dylib
0x9adc1000 - 0x9adc6fff libSM.6.dylib     /usr/X11R6/lib/libSM.6.dylib
0x9c906000 - 0x9c9cefff libX11.6.dylib     /usr/X11R6/lib/libX11.6.dylib
0x9cbba000 - 0x9cbc8fff libz.1.dylib     /usr/lib/libz.1.dylib


From jimmcloughlin at earthlink.net  Wed Sep  7 02:57:59 2005
From: jimmcloughlin at earthlink.net (Jim McLoughlin)
Date: Tue, 6 Sep 2005 17:57:59 -0700
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
Message-ID: <FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>

I just tried building from darwin ports today, and got the error  
below while bulding R.  To confirm, this is for darwin ports on  
Tiger, right?  Any help appreciated, looks like there is some kind of  
symbol conflict.

--->  Fetching gcc34
--->  Attempting to fetch gcc-3.4.4.tar.bz2 from ftp://ftp.gnu.org/ 
gnu//gcc/gcc-3.4.4
--->  Verifying checksum(s) for gcc34
--->  Extracting gcc34
--->  Applying patches to gcc34
--->  Configuring gcc34
--->  Building gcc34 with target bootstrap-lean
--->  Staging gcc34 into destroot
--->  Packaging tgz archive for gcc34 3.4.4_0+darwin_8
--->  Installing gcc34 3.4.4_0+darwin_8
--->  Activating gcc34 3.4.4_0+darwin_8
--->  Cleaning gcc34
--->  Fetching gettext
--->  Attempting to fetch gettext-0.14.5.tar.gz from ftp:// 
ftp.gnu.org/gnu/gettext
--->  Verifying checksum(s) for gettext
--->  Extracting gettext
--->  Configuring gettext
--->  Building gettext with target all
--->  Staging gettext into destroot
--->  Packaging tgz archive for gettext 0.14.5_0
--->  Installing gettext 0.14.5_0
--->  Activating gettext 0.14.5_0
--->  Cleaning gettext
--->  Fetching graphviz
--->  Attempting to fetch graphviz-2.2.1.tar.gz from http:// 
www.graphviz.org/pub/graphviz/ARCHIVE/
--->  Verifying checksum(s) for graphviz
--->  Extracting graphviz
--->  Configuring graphviz
--->  Building graphviz with target all
--->  Staging graphviz into destroot
--->  Packaging tgz archive for graphviz 2.2.1_4
--->  Installing graphviz 2.2.1_4
--->  Activating graphviz 2.2.1_4
--->  Cleaning graphviz
--->  Fetching texi2html
--->  Attempting to fetch texi2html-1.76.tar.gz from http:// 
savannah.nongnu.org/download/texi2html
--->  Verifying checksum(s) for texi2html
--->  Extracting texi2html
--->  Configuring texi2html
--->  Building texi2html with target all
--->  Staging texi2html into destroot
--->  Packaging tgz archive for texi2html 1.76_3
--->  Installing texi2html 1.76_3
--->  Activating texi2html 1.76_3
--->  Cleaning texi2html
--->  Fetching texinfo
--->  Attempting to fetch texinfo-4.8.tar.bz2 from ftp://ftp.gnu.org/ 
gnu/texinfo
--->  Verifying checksum(s) for texinfo
--->  Extracting texinfo
--->  Configuring texinfo
--->  Building texinfo with target all
--->  Staging texinfo into destroot
--->  Packaging tgz archive for texinfo 4.8_1
--->  Installing texinfo 4.8_1
--->  Activating texinfo 4.8_1
--->  Cleaning texinfo
--->  Fetching teTeX
--->  Attempting to fetch tetex-src-3.0.tar.gz from ftp:// 
tug.ctan.org/tex-archive/systems/unix/teTeX/current/distrib/
--->  Attempting to fetch tetex-texmf-3.0.tar.gz from ftp:// 
tug.ctan.org/tex-archive/systems/unix/teTeX/current/distrib/
--->  Verifying checksum(s) for teTeX
--->  Extracting teTeX
--->  Configuring teTeX
--->  Building teTeX with target all
--->  Staging teTeX into destroot
--->  Packaging tgz archive for teTeX 3.0_0
--->  Installing teTeX 3.0_0
--->  Activating teTeX 3.0_0
--->  Cleaning teTeX
--->  Fetching R
--->  Attempting to fetch R-2.1.1.tar.gz from http://cran.r- 
project.org/src/base/R-2/
--->  Verifying checksum(s) for R
--->  Extracting R
--->  Configuring R
--->  Building R with target all
Error: Target com.apple.build returned: shell command "cd "/opt/local/ 
var/db/dports/build/ 
file._opt_local_var_db_dports_sources_rsync.rsync.opendarwin.org_dpupdat 
e_dports_math_R/work/R-2.1.1" && make all" returned error 2
Command output: gcc-3.3 -I../../src/extra/zlib -I../../src/extra/ 
bzip2 -I../../src/extra/pcre  -no-cpp-precomp -I. -I../../src/include  
-I../../src/include -I/opt/local/include -DHAVE_CONFIG_H  -fno- 
common  -g -O2 -c startup.c -o startup.lo
gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/ 
extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/ 
include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c  
subassign.c -o subassign.lo
gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/ 
extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/ 
include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c  
subscript.c -o subscript.lo
gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/ 
extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/ 
include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c  
subset.c -o subset.lo
gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/ 
extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/ 
include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c  
summary.c -o summary.lo
gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/ 
extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/ 
include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c  
sysutils.c -o sysutils.lo
gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/ 
extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/ 
include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c  
unique.c -o unique.lo
gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/ 
extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/ 
include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c  
util.c -o util.lo
gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/ 
extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/ 
include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c  
version.c -o version.lo
gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/ 
extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/ 
include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c  
vfonts.c -o vfonts.lo
g77-dp-3.4  -fno-common  -g -O2 -c xxxpr.f -o xxxpr.lo
gcc-3.3 -dynamiclib -L/opt/local/lib -dynamiclib -install_name  
libR.dylib -compatibility_version 2.1.0  -current_version 2.1.1  - 
headerpad_max_install_names -o libR.dylib  Rembedded.lo  
CConverters.lo CommandLineArgs.lo Rdynload.lo Renviron.lo RNG.lo  
apply.lo arithmetic.lo apse.lo array.lo attrib.lo base.lo bind.lo  
builtin.lo character.lo coerce.lo colors.lo complex.lo connections.lo  
context.lo cov.lo cum.lo dcf.lo datetime.lo debug.lo deparse.lo  
deriv.lo dotcode.lo dounzip.lo dstruct.lo duplicate.lo engine.lo  
envir.lo errors.lo eval.lo format.lo fourier.lo gevents.lo gram.lo  
gram-ex.lo graphics.lo identical.lo internet.lo iosupport.lo  
lapack.lo list.lo logic.lo main.lo mapply.lo match.lo memory.lo  
model.lo names.lo objects.lo optim.lo optimize.lo options.lo par.lo  
paste.lo pcre.lo platform.lo plot.lo plot3d.lo plotmath.lo print.lo  
printarray.lo printvector.lo printutils.lo qsort.lo random.lo  
regex.lo registration.lo relop.lo saveload.lo scan.lo seq.lo  
serialize.lo size.lo sort.lo source.lo split.lo sprintf.lo startup.lo  
subassign.lo subscript.lo subset.lo summary.lo sysutils.lo unique.lo  
util.lo version.lo vfonts.lo xxxpr.lo `ls ../appl/*.lo ../nmath/ 
*.lo ../unix/*.lo  2>/dev/null` -framework vecLib -L/opt/local/lib/ 
gcc-3.4/gcc/powerpc-apple-darwin8.2.0/3.4.4 -L/opt/local/lib/gcc-3.4 - 
lg2c -lgcc_s -lSystemStubs -lSystem  ../extra/zlib/libz.a ../extra/ 
bzip2/libbz2.a ../extra/pcre/libpcre.a  -lintl -liconv -lc  - 
lreadline  -lm -liconv
ld: warning prebinding disabled because dependent library: /opt/local/ 
lib/gcc-3.4/libg2c.0.dylib is not prebound
ld: warning multiple definitions of symbol _xerbla_
print.lo definition of _xerbla_ in section (__TEXT,__text)
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
vecLib.framework/Versions/A/libBLAS.dylib(single module) definition  
of _xerbla_
ld: warning multiple definitions of symbol _locale_charset
/opt/local/lib/libiconv.dylib(localcharset.o) definition of  
_locale_charset
/opt/local/lib/libintl.dylib(localcharset.o) definition of  
_locale_charset
ld: warning multiple definitions of symbol _signgam
../nmath/lgamma.lo definition of _signgam in section (__DATA,__common)
/usr/lib/libSystem.dylib(gamma9.o) definition of _signgam
ld: Undefined symbols:
restFP
saveFP
/usr/bin/libtool: internal link edit command failed
make[3]: *** [libR.dylib] Error 1
make[2]: *** [R] Error 2
make[1]: *** [R] Error 1
make: *** [R] Error 1


From elw at stderr.org  Wed Sep  7 01:52:51 2005
From: elw at stderr.org (elijah wright)
Date: Tue, 6 Sep 2005 18:52:51 -0500 (CDT)
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
Message-ID: <Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>


> Subject: Re: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
> 
> I just tried building from darwin ports today, and got the error below 
> while bulding R.  To confirm, this is for darwin ports on Tiger, right? 
> Any help appreciated, looks like there is some kind of symbol conflict.

i got the same error when i tried a build a couple of days ago -- i hadn't 
had time to get back to it yet.  [and i have a radmind overload of 
darwinports that contains a working R (from previous build attempt), so i 
wasn't in a hurry to break it either...]

Kjell, are there things we can do to help you?  Other than to continue 
testing?  :)

--elijah


> --->  Fetching gcc34
> --->  Attempting to fetch gcc-3.4.4.tar.bz2 from ftp://ftp.gnu.org/
> gnu//gcc/gcc-3.4.4
> --->  Verifying checksum(s) for gcc34
> --->  Extracting gcc34
> --->  Applying patches to gcc34
> --->  Configuring gcc34
> --->  Building gcc34 with target bootstrap-lean
> --->  Staging gcc34 into destroot
> --->  Packaging tgz archive for gcc34 3.4.4_0+darwin_8
> --->  Installing gcc34 3.4.4_0+darwin_8
> --->  Activating gcc34 3.4.4_0+darwin_8
> --->  Cleaning gcc34
> --->  Fetching gettext
> --->  Attempting to fetch gettext-0.14.5.tar.gz from ftp://
> ftp.gnu.org/gnu/gettext
> --->  Verifying checksum(s) for gettext
> --->  Extracting gettext
> --->  Configuring gettext
> --->  Building gettext with target all
> --->  Staging gettext into destroot
> --->  Packaging tgz archive for gettext 0.14.5_0
> --->  Installing gettext 0.14.5_0
> --->  Activating gettext 0.14.5_0
> --->  Cleaning gettext
> --->  Fetching graphviz
> --->  Attempting to fetch graphviz-2.2.1.tar.gz from http://
> www.graphviz.org/pub/graphviz/ARCHIVE/
> --->  Verifying checksum(s) for graphviz
> --->  Extracting graphviz
> --->  Configuring graphviz
> --->  Building graphviz with target all
> --->  Staging graphviz into destroot
> --->  Packaging tgz archive for graphviz 2.2.1_4
> --->  Installing graphviz 2.2.1_4
> --->  Activating graphviz 2.2.1_4
> --->  Cleaning graphviz
> --->  Fetching texi2html
> --->  Attempting to fetch texi2html-1.76.tar.gz from http://
> savannah.nongnu.org/download/texi2html
> --->  Verifying checksum(s) for texi2html
> --->  Extracting texi2html
> --->  Configuring texi2html
> --->  Building texi2html with target all
> --->  Staging texi2html into destroot
> --->  Packaging tgz archive for texi2html 1.76_3
> --->  Installing texi2html 1.76_3
> --->  Activating texi2html 1.76_3
> --->  Cleaning texi2html
> --->  Fetching texinfo
> --->  Attempting to fetch texinfo-4.8.tar.bz2 from ftp://ftp.gnu.org/
> gnu/texinfo
> --->  Verifying checksum(s) for texinfo
> --->  Extracting texinfo
> --->  Configuring texinfo
> --->  Building texinfo with target all
> --->  Staging texinfo into destroot
> --->  Packaging tgz archive for texinfo 4.8_1
> --->  Installing texinfo 4.8_1
> --->  Activating texinfo 4.8_1
> --->  Cleaning texinfo
> --->  Fetching teTeX
> --->  Attempting to fetch tetex-src-3.0.tar.gz from ftp://
> tug.ctan.org/tex-archive/systems/unix/teTeX/current/distrib/
> --->  Attempting to fetch tetex-texmf-3.0.tar.gz from ftp://
> tug.ctan.org/tex-archive/systems/unix/teTeX/current/distrib/
> --->  Verifying checksum(s) for teTeX
> --->  Extracting teTeX
> --->  Configuring teTeX
> --->  Building teTeX with target all
> --->  Staging teTeX into destroot
> --->  Packaging tgz archive for teTeX 3.0_0
> --->  Installing teTeX 3.0_0
> --->  Activating teTeX 3.0_0
> --->  Cleaning teTeX
> --->  Fetching R
> --->  Attempting to fetch R-2.1.1.tar.gz from http://cran.r-
> project.org/src/base/R-2/
> --->  Verifying checksum(s) for R
> --->  Extracting R
> --->  Configuring R
> --->  Building R with target all
> Error: Target com.apple.build returned: shell command "cd "/opt/local/
> var/db/dports/build/
> file._opt_local_var_db_dports_sources_rsync.rsync.opendarwin.org_dpupdat
> e_dports_math_R/work/R-2.1.1" && make all" returned error 2
> Command output: gcc-3.3 -I../../src/extra/zlib -I../../src/extra/
> bzip2 -I../../src/extra/pcre  -no-cpp-precomp -I. -I../../src/include
> -I../../src/include -I/opt/local/include -DHAVE_CONFIG_H  -fno-
> common  -g -O2 -c startup.c -o startup.lo
> gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/
> extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/
> include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c
> subassign.c -o subassign.lo
> gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/
> extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/
> include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c
> subscript.c -o subscript.lo
> gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/
> extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/
> include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c
> subset.c -o subset.lo
> gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/
> extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/
> include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c
> summary.c -o summary.lo
> gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/
> extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/
> include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c
> sysutils.c -o sysutils.lo
> gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/
> extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/
> include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c
> unique.c -o unique.lo
> gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/
> extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/
> include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c
> util.c -o util.lo
> gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/
> extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/
> include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c
> version.c -o version.lo
> gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/
> extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/
> include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c
> vfonts.c -o vfonts.lo
> g77-dp-3.4  -fno-common  -g -O2 -c xxxpr.f -o xxxpr.lo
> gcc-3.3 -dynamiclib -L/opt/local/lib -dynamiclib -install_name
> libR.dylib -compatibility_version 2.1.0  -current_version 2.1.1  -
> headerpad_max_install_names -o libR.dylib  Rembedded.lo
> CConverters.lo CommandLineArgs.lo Rdynload.lo Renviron.lo RNG.lo
> apply.lo arithmetic.lo apse.lo array.lo attrib.lo base.lo bind.lo
> builtin.lo character.lo coerce.lo colors.lo complex.lo connections.lo
> context.lo cov.lo cum.lo dcf.lo datetime.lo debug.lo deparse.lo
> deriv.lo dotcode.lo dounzip.lo dstruct.lo duplicate.lo engine.lo
> envir.lo errors.lo eval.lo format.lo fourier.lo gevents.lo gram.lo
> gram-ex.lo graphics.lo identical.lo internet.lo iosupport.lo
> lapack.lo list.lo logic.lo main.lo mapply.lo match.lo memory.lo
> model.lo names.lo objects.lo optim.lo optimize.lo options.lo par.lo
> paste.lo pcre.lo platform.lo plot.lo plot3d.lo plotmath.lo print.lo
> printarray.lo printvector.lo printutils.lo qsort.lo random.lo
> regex.lo registration.lo relop.lo saveload.lo scan.lo seq.lo
> serialize.lo size.lo sort.lo source.lo split.lo sprintf.lo startup.lo
> subassign.lo subscript.lo subset.lo summary.lo sysutils.lo unique.lo
> util.lo version.lo vfonts.lo xxxpr.lo `ls ../appl/*.lo ../nmath/
> *.lo ../unix/*.lo  2>/dev/null` -framework vecLib -L/opt/local/lib/
> gcc-3.4/gcc/powerpc-apple-darwin8.2.0/3.4.4 -L/opt/local/lib/gcc-3.4 -
> lg2c -lgcc_s -lSystemStubs -lSystem  ../extra/zlib/libz.a ../extra/
> bzip2/libbz2.a ../extra/pcre/libpcre.a  -lintl -liconv -lc  -
> lreadline  -lm -liconv
> ld: warning prebinding disabled because dependent library: /opt/local/
> lib/gcc-3.4/libg2c.0.dylib is not prebound
> ld: warning multiple definitions of symbol _xerbla_
> print.lo definition of _xerbla_ in section (__TEXT,__text)
> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/
> vecLib.framework/Versions/A/libBLAS.dylib(single module) definition
> of _xerbla_
> ld: warning multiple definitions of symbol _locale_charset
> /opt/local/lib/libiconv.dylib(localcharset.o) definition of
> _locale_charset
> /opt/local/lib/libintl.dylib(localcharset.o) definition of
> _locale_charset
> ld: warning multiple definitions of symbol _signgam
> ../nmath/lgamma.lo definition of _signgam in section (__DATA,__common)
> /usr/lib/libSystem.dylib(gamma9.o) definition of _signgam
> ld: Undefined symbols:
> restFP
> saveFP
> /usr/bin/libtool: internal link edit command failed
> make[3]: *** [libR.dylib] Error 1
> make[2]: *** [R] Error 2
> make[1]: *** [R] Error 1
> make: *** [R] Error 1
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From jimmcloughlin at earthlink.net  Wed Sep  7 03:46:46 2005
From: jimmcloughlin at earthlink.net (Jim McLoughlin)
Date: Tue, 6 Sep 2005 18:46:46 -0700
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
	<Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>
Message-ID: <15E12B45-427E-4A63-BCE1-C8EC02B09D8D@earthlink.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20050906/98ff3b41/attachment.pl

From simon.urbanek at r-project.org  Wed Sep  7 03:51:18 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 6 Sep 2005 21:51:18 -0400
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
Message-ID: <324C11E3-57F2-4949-9282-093A538D4483@r-project.org>


On Sep 6, 2005, at 8:57 PM, Jim McLoughlin wrote:

> I just tried building from darwin ports today, and got the error
> below while bulding R.  To confirm, this is for darwin ports on
> Tiger, right?  Any help appreciated, looks like there is some kind of
> symbol conflict.

The old one, again - you should add -lcc_dynamic to the linker flags.

Cheers,
Simon


From konis at stats.ox.ac.uk  Wed Sep  7 18:51:17 2005
From: konis at stats.ox.ac.uk (Kjell Konis)
Date: Wed, 7 Sep 2005 09:51:17 -0700
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
	<Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>
Message-ID: <F70049F5-4C0F-4E8A-9063-546637B196C3@stats.ox.ac.uk>

Hi,

First of all, thanks for trying the port.  Do you have the latest  
version of DarwinPorts?  I have

[muffin] kjell> port version
Version: 1.012

If not you need to update it.

[muffin] kjell> sudo port selfupdate

At some point port just started noticing when cc_dynamic is required  
and linking against it.  Until yesterday I thought this was a  
"feature" but maybe it's just a (lucky) misconfiguration somewhere in  
my system.  (For a brief period I was using gcc 4.0 to to compile and  
cc_dynamic was not necessary - when I reverted to 3.3 I didn't put cc- 
dynamic in the Portfile because it was already being found.)

Anyway, let me know if updating solves the problem.

Kjell

On 6 Sep 2005, at 16:52, elijah wright wrote:

>
>
>> Subject: Re: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
>> I just tried building from darwin ports today, and got the error  
>> below while bulding R.  To confirm, this is for darwin ports on  
>> Tiger, right? Any help appreciated, looks like there is some kind  
>> of symbol conflict.
>>
>
> i got the same error when i tried a build a couple of days ago -- i  
> hadn't had time to get back to it yet.  [and i have a radmind  
> overload of darwinports that contains a working R (from previous  
> build attempt), so i wasn't in a hurry to break it either...]
>
> Kjell, are there things we can do to help you?  Other than to  
> continue testing?  :)
>
> --elijah
>
>
>
>> gcc-3.3 -dynamiclib -L/opt/local/lib -dynamiclib -install_name
>> libR.dylib -compatibility_version 2.1.0  -current_version 2.1.1  -
>> headerpad_max_install_names -o libR.dylib  Rembedded.lo
>> CConverters.lo CommandLineArgs.lo Rdynload.lo Renviron.lo RNG.lo
>> apply.lo arithmetic.lo apse.lo array.lo attrib.lo base.lo bind.lo
>> builtin.lo character.lo coerce.lo colors.lo complex.lo connections.lo
>> context.lo cov.lo cum.lo dcf.lo datetime.lo debug.lo deparse.lo
>> deriv.lo dotcode.lo dounzip.lo dstruct.lo duplicate.lo engine.lo
>> envir.lo errors.lo eval.lo format.lo fourier.lo gevents.lo gram.lo
>> gram-ex.lo graphics.lo identical.lo internet.lo iosupport.lo
>> lapack.lo list.lo logic.lo main.lo mapply.lo match.lo memory.lo
>> model.lo names.lo objects.lo optim.lo optimize.lo options.lo par.lo
>> paste.lo pcre.lo platform.lo plot.lo plot3d.lo plotmath.lo print.lo
>> printarray.lo printvector.lo printutils.lo qsort.lo random.lo
>> regex.lo registration.lo relop.lo saveload.lo scan.lo seq.lo
>> serialize.lo size.lo sort.lo source.lo split.lo sprintf.lo startup.lo
>> subassign.lo subscript.lo subset.lo summary.lo sysutils.lo unique.lo
>> util.lo version.lo vfonts.lo xxxpr.lo `ls ../appl/*.lo ../nmath/
>> *.lo ../unix/*.lo  2>/dev/null` -framework vecLib -L/opt/local/lib/
>> gcc-3.4/gcc/powerpc-apple-darwin8.2.0/3.4.4 -L/opt/local/lib/ 
>> gcc-3.4 -
>> lg2c -lgcc_s -lSystemStubs -lSystem  ../extra/zlib/libz.a ../extra/
>> bzip2/libbz2.a ../extra/pcre/libpcre.a  -lintl -liconv -lc  -
>> lreadline  -lm -liconv


Here is cc_dynamic, right between readline and math:

gcc-3.3 -dynamiclib -L/opt/local/lib -dynamiclib -install_name  
libR.dylib -compatibility_version 2.1.0  -current_version 2.1.1  - 
headerpad_max_install_names -o libR.dylib  Rembedded.lo  
CConverters.lo CommandLineArgs.lo Rdynload.lo Renviron.lo RNG.lo  
apply.lo arithmetic.lo apse.lo array.lo attrib.lo base.lo bind.lo  
builtin.lo character.lo coerce.lo colors.lo complex.lo connections.lo  
context.lo cov.lo cum.lo dcf.lo datetime.lo debug.lo deparse.lo  
deriv.lo dotcode.lo dounzip.lo dstruct.lo duplicate.lo engine.lo  
envir.lo errors.lo eval.lo format.lo fourier.lo gevents.lo gram.lo  
gram-ex.lo graphics.lo identical.lo internet.lo iosupport.lo  
lapack.lo list.lo logic.lo main.lo mapply.lo match.lo memory.lo  
model.lo names.lo objects.lo optim.lo optimize.lo options.lo par.lo  
paste.lo pcre.lo platform.lo plot.lo plot3d.lo plotmath.lo print.lo  
printarray.lo printvector.lo printutils.lo qsort.lo random.lo  
regex.lo registration.lo relop.lo saveload.lo scan.lo seq.lo  
serialize.lo size.lo sort.lo source.lo split.lo sprintf.lo startup.lo  
subassign.lo subscript.lo subset.lo summary.lo sysutils.lo unique.lo  
util.lo version.lo vfonts.lo xxxpr.lo `ls ../appl/*.lo ../nmath/ 
*.lo ../unix/*.lo  2>/dev/null` -framework vecLib -L/Volumes/muffin/ 
DarwinPorts/lib/gcc-3.4/gcc/powerpc-apple-darwin8.2.0/3.4.4 -L/ 
Volumes/muffin/DarwinPorts/lib/gcc-3.4/gcc -L/Volumes/muffin/ 
DarwinPorts/lib/gcc-3.4 -lg2c -lgcc_s -lSystemStubs -lSystem  ../ 
extra/zlib/libz.a ../extra/bzip2/libbz2.a ../extra/pcre/libpcre.a  - 
lintl -liconv -lc  -lreadline  -lcc_dynamic -lm -liconv


From elw at stderr.org  Wed Sep  7 19:24:39 2005
From: elw at stderr.org (elijah wright)
Date: Wed, 7 Sep 2005 12:24:39 -0500 (CDT)
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <F70049F5-4C0F-4E8A-9063-546637B196C3@stats.ox.ac.uk>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
	<Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>
	<F70049F5-4C0F-4E8A-9063-546637B196C3@stats.ox.ac.uk>
Message-ID: <Pine.LNX.4.63.0509071222130.15968@illuminati.stderr.org>


> At some point port just started noticing when cc_dynamic is required and 
> linking against it.  Until yesterday I thought this was a "feature" but 
> maybe it's just a (lucky) misconfiguration somewhere in my system. 
> (For a brief period I was using gcc 4.0 to to compile and cc_dynamic was 
> not necessary - when I reverted to 3.3 I didn't put cc-dynamic in the 
> Portfile because it was already being found.)
>
> Anyway, let me know if updating solves the problem.


i'm up to date now.  and i just updated libiconv from 1.09 to 1.10 -- 
which is a little tricky, since you have to deactivate one in order for 
the other to build successfully.  [libiconv port bug?]

here's what happens when i try to do a `port install R` now:

gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 
-I../../src/extra/pcre  -no-cpp-precomp -I. -I../../src/include 
-I../../src/include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g 
-O2 -c vfonts.c -o vfonts.lo
g77-dp-3.4  -fno-common  -g -O2 -c xxxpr.f -o xxxpr.lo
gcc-3.3 -dynamiclib -L/opt/local/lib -dynamiclib -install_name libR.dylib 
-compatibility_version 2.1.0  -current_version 2.1.1 
-headerpad_max_install_names -o libR.dylib  Rembedded.lo CConverters.lo 
CommandLineArgs.lo Rdynload.lo Renviron.lo RNG.lo apply.lo arithmetic.lo 
apse.lo array.lo attrib.lo base.lo bind.lo builtin.lo character.lo 
coerce.lo colors.lo complex.lo connections.lo context.lo cov.lo cum.lo 
dcf.lo datetime.lo debug.lo deparse.lo deriv.lo dotcode.lo dounzip.lo 
dstruct.lo duplicate.lo engine.lo envir.lo errors.lo eval.lo format.lo 
fourier.lo gevents.lo gram.lo gram-ex.lo graphics.lo identical.lo 
internet.lo iosupport.lo lapack.lo list.lo logic.lo main.lo mapply.lo 
match.lo memory.lo model.lo names.lo objects.lo optim.lo optimize.lo 
options.lo par.lo paste.lo pcre.lo platform.lo plot.lo plot3d.lo 
plotmath.lo print.lo printarray.lo printvector.lo printutils.lo qsort.lo 
random.lo regex.lo registration.lo relop.lo saveload.lo scan.lo seq.lo 
serialize.lo size.lo sort.lo source.lo split.lo sprintf.lo startup.lo 
subassign.lo subscript.lo subset.lo summary.lo sysutils.lo unique.lo 
util.lo version.lo vfonts.lo xxxpr.lo `ls ../appl/*.lo ../nmath/*.lo 
../unix/*.lo  2>/dev/null` -framework vecLib 
-L/opt/local/lib/gcc-3.4/gcc/powerpc-apple-darwin8.2.0/3.4.4 
-L/opt/local/lib/gcc-3.4 -lg2c -lgcc_s -lSystemStubs -lSystem 
../extra/zlib/libz.a ../extra/bzip2/libbz2.a ../extra/pcre/libpcre.a 
-lintl -liconv -lc  -lreadline  -lm -liconv
ld: warning prebinding disabled because dependent library: 
/opt/local/lib/gcc-3.4/libg2c.0.dylib is not prebound
ld: warning multiple definitions of symbol _xerbla_
print.lo definition of _xerbla_ in section (__TEXT,__text)
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib(single 
module) definition of _xerbla_
ld: warning multiple definitions of symbol _locale_charset
/opt/local/lib/libiconv.dylib(localcharset.o) definition of 
_locale_charset
/opt/local/lib/libintl.dylib(localcharset.o) definition of _locale_charset
ld: warning multiple definitions of symbol _signgam
../nmath/lgamma.lo definition of _signgam in section (__DATA,__common)
/usr/lib/libSystem.dylib(gamma9.o) definition of _signgam
ld: Undefined symbols:
restFP
saveFP
/usr/bin/libtool: internal link edit command failed
make[3]: *** [libR.dylib] Error 1
make[2]: *** [R] Error 2
make[1]: *** [R] Error 1
make: *** [R] Error 1



i gotta run to class now, but will try to follow up afterwards.

--elijah


>>> Subject: Re: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
>>> I just tried building from darwin ports today, and got the error below 
>>> while bulding R.  To confirm, this is for darwin ports on Tiger, right? 
>>> Any help appreciated, looks like there is some kind of symbol conflict.
>>> 
>> 
>> i got the same error when i tried a build a couple of days ago -- i hadn't 
>> had time to get back to it yet.  [and i have a radmind overload of 
>> darwinports that contains a working R (from previous build attempt), so i 
>> wasn't in a hurry to break it either...]
>> 
>> Kjell, are there things we can do to help you?  Other than to continue 
>> testing?  :)
>> 
>> --elijah
>> 
>> 
>> 
>>> gcc-3.3 -dynamiclib -L/opt/local/lib -dynamiclib -install_name
>>> libR.dylib -compatibility_version 2.1.0  -current_version 2.1.1  -
>>> headerpad_max_install_names -o libR.dylib  Rembedded.lo
>>> CConverters.lo CommandLineArgs.lo Rdynload.lo Renviron.lo RNG.lo
>>> apply.lo arithmetic.lo apse.lo array.lo attrib.lo base.lo bind.lo
>>> builtin.lo character.lo coerce.lo colors.lo complex.lo connections.lo
>>> context.lo cov.lo cum.lo dcf.lo datetime.lo debug.lo deparse.lo
>>> deriv.lo dotcode.lo dounzip.lo dstruct.lo duplicate.lo engine.lo
>>> envir.lo errors.lo eval.lo format.lo fourier.lo gevents.lo gram.lo
>>> gram-ex.lo graphics.lo identical.lo internet.lo iosupport.lo
>>> lapack.lo list.lo logic.lo main.lo mapply.lo match.lo memory.lo
>>> model.lo names.lo objects.lo optim.lo optimize.lo options.lo par.lo
>>> paste.lo pcre.lo platform.lo plot.lo plot3d.lo plotmath.lo print.lo
>>> printarray.lo printvector.lo printutils.lo qsort.lo random.lo
>>> regex.lo registration.lo relop.lo saveload.lo scan.lo seq.lo
>>> serialize.lo size.lo sort.lo source.lo split.lo sprintf.lo startup.lo
>>> subassign.lo subscript.lo subset.lo summary.lo sysutils.lo unique.lo
>>> util.lo version.lo vfonts.lo xxxpr.lo `ls ../appl/*.lo ../nmath/
>>> *.lo ../unix/*.lo  2>/dev/null` -framework vecLib -L/opt/local/lib/
>>> gcc-3.4/gcc/powerpc-apple-darwin8.2.0/3.4.4 -L/opt/local/lib/gcc-3.4 -
>>> lg2c -lgcc_s -lSystemStubs -lSystem  ../extra/zlib/libz.a ../extra/
>>> bzip2/libbz2.a ../extra/pcre/libpcre.a  -lintl -liconv -lc  -
>>> lreadline  -lm -liconv
>
>
> Here is cc_dynamic, right between readline and math:
>
> gcc-3.3 -dynamiclib -L/opt/local/lib -dynamiclib -install_name libR.dylib 
> -compatibility_version 2.1.0  -current_version 2.1.1 
> -headerpad_max_install_names -o libR.dylib  Rembedded.lo CConverters.lo 
> CommandLineArgs.lo Rdynload.lo Renviron.lo RNG.lo apply.lo arithmetic.lo 
> apse.lo array.lo attrib.lo base.lo bind.lo builtin.lo character.lo coerce.lo 
> colors.lo complex.lo connections.lo context.lo cov.lo cum.lo dcf.lo 
> datetime.lo debug.lo deparse.lo deriv.lo dotcode.lo dounzip.lo dstruct.lo 
> duplicate.lo engine.lo envir.lo errors.lo eval.lo format.lo fourier.lo 
> gevents.lo gram.lo gram-ex.lo graphics.lo identical.lo internet.lo 
> iosupport.lo lapack.lo list.lo logic.lo main.lo mapply.lo match.lo memory.lo 
> model.lo names.lo objects.lo optim.lo optimize.lo options.lo par.lo paste.lo 
> pcre.lo platform.lo plot.lo plot3d.lo plotmath.lo print.lo printarray.lo 
> printvector.lo printutils.lo qsort.lo random.lo regex.lo registration.lo 
> relop.lo saveload.lo scan.lo seq.lo serialize.lo size.lo sort.lo source.lo 
> split.lo sprintf.lo startup.lo subassign.lo subscript.lo subset.lo summary.lo 
> sysutils.lo unique.lo util.lo version.lo vfonts.lo xxxpr.lo `ls ../appl/*.lo 
> ../nmath/*.lo ../unix/*.lo  2>/dev/null` -framework vecLib 
> -L/Volumes/muffin/DarwinPorts/lib/gcc-3.4/gcc/powerpc-apple-darwin8.2.0/3.4.4 
> -L/Volumes/muffin/DarwinPorts/lib/gcc-3.4/gcc 
> -L/Volumes/muffin/DarwinPorts/lib/gcc-3.4 -lg2c -lgcc_s -lSystemStubs 
> -lSystem  ../extra/zlib/libz.a ../extra/bzip2/libbz2.a 
> ../extra/pcre/libpcre.a  -lintl -liconv -lc  -lreadline  -lcc_dynamic -lm 
> -liconv


From simon.urbanek at r-project.org  Wed Sep  7 21:25:53 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 7 Sep 2005 15:25:53 -0400
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <Pine.LNX.4.63.0509071222130.15968@illuminati.stderr.org>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
	<Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>
	<F70049F5-4C0F-4E8A-9063-546637B196C3@stats.ox.ac.uk>
	<Pine.LNX.4.63.0509071222130.15968@illuminati.stderr.org>
Message-ID: <B23FE1F4-1DF3-4FBA-AEB5-B83A62EA782F@r-project.org>


On Sep 7, 2005, at 1:24 PM, elijah wright wrote:

>
>
>> At some point port just started noticing when cc_dynamic is  
>> required and
>> linking against it.  Until yesterday I thought this was a  
>> "feature" but
>> maybe it's just a (lucky) misconfiguration somewhere in my system.
>> (For a brief period I was using gcc 4.0 to to compile and  
>> cc_dynamic was
>> not necessary - when I reverted to 3.3 I didn't put cc-dynamic in the
>> Portfile because it was already being found.)
>>
>> Anyway, let me know if updating solves the problem.
>>
>
>
> i'm up to date now.  and i just updated libiconv from 1.09 to 1.10 --
> which is a little tricky, since you have to deactivate one in order  
> for
> the other to build successfully.  [libiconv port bug?]
>
> here's what happens when i try to do a `port install R` now:

-lcc_dynamic is still missing ... it won't work without it, at least  
not in your setup.

Kjell, how are you building the darwinports? I suspect that the  
problem is in your compilers as I was pointing out to you earlier -  
by using different compilers you make it impossible for others to use  
your build unless you put all your compiler in as dependencies,  
because each compiler build uses different flags. For example the  
cc_dynamic is merely Apple's soft-link to libgcc.a so if you don't  
use Apple's gcc, you don't have cc_dynamic. But if you have Apple's  
gcc3 (which most people do as it's part of Darwin), you need it.

Cheers,
Simon

>
> gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2
> -I../../src/extra/pcre  -no-cpp-precomp -I. -I../../src/include
> -I../../src/include -I/opt/local/include -DHAVE_CONFIG_H  -fno- 
> common  -g
> -O2 -c vfonts.c -o vfonts.lo
> g77-dp-3.4  -fno-common  -g -O2 -c xxxpr.f -o xxxpr.lo
> gcc-3.3 -dynamiclib -L/opt/local/lib -dynamiclib -install_name  
> libR.dylib
> -compatibility_version 2.1.0  -current_version 2.1.1
> -headerpad_max_install_names -o libR.dylib  Rembedded.lo  
> CConverters.lo
> CommandLineArgs.lo Rdynload.lo Renviron.lo RNG.lo apply.lo  
> arithmetic.lo
> apse.lo array.lo attrib.lo base.lo bind.lo builtin.lo character.lo
> coerce.lo colors.lo complex.lo connections.lo context.lo cov.lo cum.lo
> dcf.lo datetime.lo debug.lo deparse.lo deriv.lo dotcode.lo dounzip.lo
> dstruct.lo duplicate.lo engine.lo envir.lo errors.lo eval.lo format.lo
> fourier.lo gevents.lo gram.lo gram-ex.lo graphics.lo identical.lo
> internet.lo iosupport.lo lapack.lo list.lo logic.lo main.lo mapply.lo
> match.lo memory.lo model.lo names.lo objects.lo optim.lo optimize.lo
> options.lo par.lo paste.lo pcre.lo platform.lo plot.lo plot3d.lo
> plotmath.lo print.lo printarray.lo printvector.lo printutils.lo  
> qsort.lo
> random.lo regex.lo registration.lo relop.lo saveload.lo scan.lo seq.lo
> serialize.lo size.lo sort.lo source.lo split.lo sprintf.lo startup.lo
> subassign.lo subscript.lo subset.lo summary.lo sysutils.lo unique.lo
> util.lo version.lo vfonts.lo xxxpr.lo `ls ../appl/*.lo ../nmath/*.lo
> ../unix/*.lo  2>/dev/null` -framework vecLib
> -L/opt/local/lib/gcc-3.4/gcc/powerpc-apple-darwin8.2.0/3.4.4
> -L/opt/local/lib/gcc-3.4 -lg2c -lgcc_s -lSystemStubs -lSystem
> ../extra/zlib/libz.a ../extra/bzip2/libbz2.a ../extra/pcre/libpcre.a
> -lintl -liconv -lc  -lreadline  -lm -liconv
> ld: warning prebinding disabled because dependent library:
> /opt/local/lib/gcc-3.4/libg2c.0.dylib is not prebound
> ld: warning multiple definitions of symbol _xerbla_
> print.lo definition of _xerbla_ in section (__TEXT,__text)
> /System/Library/Frameworks/Accelerate.framework/Versions/A/ 
> Frameworks/vecLib.framework/Versions/A/libBLAS.dylib(single
> module) definition of _xerbla_
> ld: warning multiple definitions of symbol _locale_charset
> /opt/local/lib/libiconv.dylib(localcharset.o) definition of
> _locale_charset
> /opt/local/lib/libintl.dylib(localcharset.o) definition of  
> _locale_charset
> ld: warning multiple definitions of symbol _signgam
> ../nmath/lgamma.lo definition of _signgam in section (__DATA,__common)
> /usr/lib/libSystem.dylib(gamma9.o) definition of _signgam
> ld: Undefined symbols:
> restFP
> saveFP
> /usr/bin/libtool: internal link edit command failed
> make[3]: *** [libR.dylib] Error 1
> make[2]: *** [R] Error 2
> make[1]: *** [R] Error 1
> make: *** [R] Error 1
>
>
>
> i gotta run to class now, but will try to follow up afterwards.
>
> --elijah
>
>
>
>>>> Subject: Re: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
>>>> I just tried building from darwin ports today, and got the error  
>>>> below
>>>> while bulding R.  To confirm, this is for darwin ports on Tiger,  
>>>> right?
>>>> Any help appreciated, looks like there is some kind of symbol  
>>>> conflict.
>>>>
>>>>
>>>
>>> i got the same error when i tried a build a couple of days ago --  
>>> i hadn't
>>> had time to get back to it yet.  [and i have a radmind overload of
>>> darwinports that contains a working R (from previous build  
>>> attempt), so i
>>> wasn't in a hurry to break it either...]
>>>
>>> Kjell, are there things we can do to help you?  Other than to  
>>> continue
>>> testing?  :)
>>>
>>> --elijah
>>>
>>>
>>>
>>>
>>>> gcc-3.3 -dynamiclib -L/opt/local/lib -dynamiclib -install_name
>>>> libR.dylib -compatibility_version 2.1.0  -current_version 2.1.1  -
>>>> headerpad_max_install_names -o libR.dylib  Rembedded.lo
>>>> CConverters.lo CommandLineArgs.lo Rdynload.lo Renviron.lo RNG.lo
>>>> apply.lo arithmetic.lo apse.lo array.lo attrib.lo base.lo bind.lo
>>>> builtin.lo character.lo coerce.lo colors.lo complex.lo  
>>>> connections.lo
>>>> context.lo cov.lo cum.lo dcf.lo datetime.lo debug.lo deparse.lo
>>>> deriv.lo dotcode.lo dounzip.lo dstruct.lo duplicate.lo engine.lo
>>>> envir.lo errors.lo eval.lo format.lo fourier.lo gevents.lo gram.lo
>>>> gram-ex.lo graphics.lo identical.lo internet.lo iosupport.lo
>>>> lapack.lo list.lo logic.lo main.lo mapply.lo match.lo memory.lo
>>>> model.lo names.lo objects.lo optim.lo optimize.lo options.lo par.lo
>>>> paste.lo pcre.lo platform.lo plot.lo plot3d.lo plotmath.lo print.lo
>>>> printarray.lo printvector.lo printutils.lo qsort.lo random.lo
>>>> regex.lo registration.lo relop.lo saveload.lo scan.lo seq.lo
>>>> serialize.lo size.lo sort.lo source.lo split.lo sprintf.lo  
>>>> startup.lo
>>>> subassign.lo subscript.lo subset.lo summary.lo sysutils.lo  
>>>> unique.lo
>>>> util.lo version.lo vfonts.lo xxxpr.lo `ls ../appl/*.lo ../nmath/
>>>> *.lo ../unix/*.lo  2>/dev/null` -framework vecLib -L/opt/local/lib/
>>>> gcc-3.4/gcc/powerpc-apple-darwin8.2.0/3.4.4 -L/opt/local/lib/ 
>>>> gcc-3.4 -
>>>> lg2c -lgcc_s -lSystemStubs -lSystem  ../extra/zlib/libz.a ../extra/
>>>> bzip2/libbz2.a ../extra/pcre/libpcre.a  -lintl -liconv -lc  -
>>>> lreadline  -lm -liconv
>>>>
>>
>>
>> Here is cc_dynamic, right between readline and math:
>>
>> gcc-3.3 -dynamiclib -L/opt/local/lib -dynamiclib -install_name  
>> libR.dylib
>> -compatibility_version 2.1.0  -current_version 2.1.1
>> -headerpad_max_install_names -o libR.dylib  Rembedded.lo  
>> CConverters.lo
>> CommandLineArgs.lo Rdynload.lo Renviron.lo RNG.lo apply.lo  
>> arithmetic.lo
>> apse.lo array.lo attrib.lo base.lo bind.lo builtin.lo character.lo  
>> coerce.lo
>> colors.lo complex.lo connections.lo context.lo cov.lo cum.lo dcf.lo
>> datetime.lo debug.lo deparse.lo deriv.lo dotcode.lo dounzip.lo  
>> dstruct.lo
>> duplicate.lo engine.lo envir.lo errors.lo eval.lo format.lo  
>> fourier.lo
>> gevents.lo gram.lo gram-ex.lo graphics.lo identical.lo internet.lo
>> iosupport.lo lapack.lo list.lo logic.lo main.lo mapply.lo match.lo  
>> memory.lo
>> model.lo names.lo objects.lo optim.lo optimize.lo options.lo  
>> par.lo paste.lo
>> pcre.lo platform.lo plot.lo plot3d.lo plotmath.lo print.lo  
>> printarray.lo
>> printvector.lo printutils.lo qsort.lo random.lo regex.lo  
>> registration.lo
>> relop.lo saveload.lo scan.lo seq.lo serialize.lo size.lo sort.lo  
>> source.lo
>> split.lo sprintf.lo startup.lo subassign.lo subscript.lo subset.lo  
>> summary.lo
>> sysutils.lo unique.lo util.lo version.lo vfonts.lo xxxpr.lo `ls ../ 
>> appl/*.lo
>> ../nmath/*.lo ../unix/*.lo  2>/dev/null` -framework vecLib
>> -L/Volumes/muffin/DarwinPorts/lib/gcc-3.4/gcc/powerpc-apple- 
>> darwin8.2.0/3.4.4
>> -L/Volumes/muffin/DarwinPorts/lib/gcc-3.4/gcc
>> -L/Volumes/muffin/DarwinPorts/lib/gcc-3.4 -lg2c -lgcc_s -lSystemStubs
>> -lSystem  ../extra/zlib/libz.a ../extra/bzip2/libbz2.a
>> ../extra/pcre/libpcre.a  -lintl -liconv -lc  -lreadline  - 
>> lcc_dynamic -lm
>> -liconv
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
>


From konis at stats.ox.ac.uk  Wed Sep  7 21:30:31 2005
From: konis at stats.ox.ac.uk (Kjell Konis)
Date: Wed, 7 Sep 2005 12:30:31 -0700
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <Pine.LNX.4.63.0509071222130.15968@illuminati.stderr.org>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
	<Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>
	<F70049F5-4C0F-4E8A-9063-546637B196C3@stats.ox.ac.uk>
	<Pine.LNX.4.63.0509071222130.15968@illuminati.stderr.org>
Message-ID: <7F6EC7C4-C27E-4A76-BB68-C33691BD8F77@stats.ox.ac.uk>

Okay, I think I will just have to add -lcc_dynamic to LDFLAGS.  I'll  
test it here and if it doesn't cause any problems for me then I'll  
check it in to DP.  It would be nice if you could test it to just to  
make sure it resolves the whole problem.  To do so cut and paste this  
into the terminal.  It will create a directory in your home directory  
named R-test and copy the Portfile for R into it.

cd
mkdir R-test
cd R-test/
cp /opt/local/var/db/dports/sources/ 
rsync.rsync.opendarwin.org_dpupdate_dports/math/R/Portfile .

Now open the Portfile in a text editor make the the configure.env  
section look like this

configure.env    CPPFLAGS="-I${prefix}/include" \
                  LDFLAGS="-L${prefix}/lib -lcc_dynamic" \
                  CC=gcc-dp-3.4 \
                  CXX=g++-dp-3.4 \
                  F77=g77-dp-3.4

Basically you're just adding -lcc_dynamic to the LDFLAGS.  Save the  
changes.

Now, in the R-test directory, do the following.  This will clean out  
any clutter left from your previous attempts to build R and attempt a  
build using the local Portfile (notice R is NEVER in any of the port  
commands)

sudo port clean --archive
sudo port clean
sudo port -d -v install

Let me know if it works.
Thanks for your help.

Kjell



On 7 Sep 2005, at 10:24, elijah wright wrote:

>
>
>> At some point port just started noticing when cc_dynamic is  
>> required and linking against it.  Until yesterday I thought this  
>> was a "feature" but maybe it's just a (lucky) misconfiguration  
>> somewhere in my system. (For a brief period I was using gcc 4.0 to  
>> to compile and cc_dynamic was not necessary - when I reverted to  
>> 3.3 I didn't put cc-dynamic in the Portfile because it was already  
>> being found.)
>>
>> Anyway, let me know if updating solves the problem.
>>
>
>
> i'm up to date now.  and i just updated libiconv from 1.09 to 1.10  
> -- which is a little tricky, since you have to deactivate one in  
> order for the other to build successfully.  [libiconv port bug?]
>
> here's what happens when i try to do a `port install R` now:
>
> gcc-3.3 -I../../src/extra/zlib -I../../src/extra/bzip2 -I../../src/ 
> extra/pcre  -no-cpp-precomp -I. -I../../src/include -I../../src/ 
> include -I/opt/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 - 
> c vfonts.c -o vfonts.lo
> g77-dp-3.4  -fno-common  -g -O2 -c xxxpr.f -o xxxpr.lo
> gcc-3.3 -dynamiclib -L/opt/local/lib -dynamiclib -install_name  
> libR.dylib -compatibility_version 2.1.0  -current_version 2.1.1 - 
> headerpad_max_install_names -o libR.dylib  Rembedded.lo  
> CConverters.lo CommandLineArgs.lo Rdynload.lo Renviron.lo RNG.lo  
> apply.lo arithmetic.lo apse.lo array.lo attrib.lo base.lo bind.lo  
> builtin.lo character.lo coerce.lo colors.lo complex.lo  
> connections.lo context.lo cov.lo cum.lo dcf.lo datetime.lo debug.lo  
> deparse.lo deriv.lo dotcode.lo dounzip.lo dstruct.lo duplicate.lo  
> engine.lo envir.lo errors.lo eval.lo format.lo fourier.lo  
> gevents.lo gram.lo gram-ex.lo graphics.lo identical.lo internet.lo  
> iosupport.lo lapack.lo list.lo logic.lo main.lo mapply.lo match.lo  
> memory.lo model.lo names.lo objects.lo optim.lo optimize.lo  
> options.lo par.lo paste.lo pcre.lo platform.lo plot.lo plot3d.lo  
> plotmath.lo print.lo printarray.lo printvector.lo printutils.lo  
> qsort.lo random.lo regex.lo registration.lo relop.lo saveload.lo  
> scan.lo seq.lo serialize.lo size.lo sort.lo source.lo split.lo  
> sprintf.lo startup.lo subassign.lo subscript.lo subset.lo  
> summary.lo sysutils.lo unique.lo util.lo version.lo vfonts.lo  
> xxxpr.lo `ls ../appl/*.lo ../nmath/*.lo ../unix/*.lo  2>/dev/null` - 
> framework vecLib -L/opt/local/lib/gcc-3.4/gcc/powerpc-apple- 
> darwin8.2.0/3.4.4 -L/opt/local/lib/gcc-3.4 -lg2c -lgcc_s - 
> lSystemStubs -lSystem ../extra/zlib/libz.a ../extra/bzip2/ 
> libbz2.a ../extra/pcre/libpcre.a -lintl -liconv -lc  -lreadline  - 
> lm -liconv
> ld: warning prebinding disabled because dependent library: /opt/ 
> local/lib/gcc-3.4/libg2c.0.dylib is not prebound
> ld: warning multiple definitions of symbol _xerbla_
> print.lo definition of _xerbla_ in section (__TEXT,__text)
> /System/Library/Frameworks/Accelerate.framework/Versions/A/ 
> Frameworks/vecLib.framework/Versions/A/libBLAS.dylib(single module)  
> definition of _xerbla_
> ld: warning multiple definitions of symbol _locale_charset
> /opt/local/lib/libiconv.dylib(localcharset.o) definition of  
> _locale_charset
> /opt/local/lib/libintl.dylib(localcharset.o) definition of  
> _locale_charset
> ld: warning multiple definitions of symbol _signgam
> ../nmath/lgamma.lo definition of _signgam in section (__DATA,__common)
> /usr/lib/libSystem.dylib(gamma9.o) definition of _signgam
> ld: Undefined symbols:
> restFP
> saveFP
> /usr/bin/libtool: internal link edit command failed
> make[3]: *** [libR.dylib] Error 1
> make[2]: *** [R] Error 2
> make[1]: *** [R] Error 1
> make: *** [R] Error 1
>
>
>
> i gotta run to class now, but will try to follow up afterwards.
>
> --elijah
>
>
>
>>>> Subject: Re: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
>>>> I just tried building from darwin ports today, and got the error  
>>>> below while bulding R.  To confirm, this is for darwin ports on  
>>>> Tiger, right? Any help appreciated, looks like there is some  
>>>> kind of symbol conflict.
>>>>
>>> i got the same error when i tried a build a couple of days ago --  
>>> i hadn't had time to get back to it yet.  [and i have a radmind  
>>> overload of darwinports that contains a working R (from previous  
>>> build attempt), so i wasn't in a hurry to break it either...]
>>> Kjell, are there things we can do to help you?  Other than to  
>>> continue testing?  :)
>>> --elijah
>>>
>>>> gcc-3.3 -dynamiclib -L/opt/local/lib -dynamiclib -install_name
>>>> libR.dylib -compatibility_version 2.1.0  -current_version 2.1.1  -
>>>> headerpad_max_install_names -o libR.dylib  Rembedded.lo
>>>> CConverters.lo CommandLineArgs.lo Rdynload.lo Renviron.lo RNG.lo
>>>> apply.lo arithmetic.lo apse.lo array.lo attrib.lo base.lo bind.lo
>>>> builtin.lo character.lo coerce.lo colors.lo complex.lo  
>>>> connections.lo
>>>> context.lo cov.lo cum.lo dcf.lo datetime.lo debug.lo deparse.lo
>>>> deriv.lo dotcode.lo dounzip.lo dstruct.lo duplicate.lo engine.lo
>>>> envir.lo errors.lo eval.lo format.lo fourier.lo gevents.lo gram.lo
>>>> gram-ex.lo graphics.lo identical.lo internet.lo iosupport.lo
>>>> lapack.lo list.lo logic.lo main.lo mapply.lo match.lo memory.lo
>>>> model.lo names.lo objects.lo optim.lo optimize.lo options.lo par.lo
>>>> paste.lo pcre.lo platform.lo plot.lo plot3d.lo plotmath.lo print.lo
>>>> printarray.lo printvector.lo printutils.lo qsort.lo random.lo
>>>> regex.lo registration.lo relop.lo saveload.lo scan.lo seq.lo
>>>> serialize.lo size.lo sort.lo source.lo split.lo sprintf.lo  
>>>> startup.lo
>>>> subassign.lo subscript.lo subset.lo summary.lo sysutils.lo  
>>>> unique.lo
>>>> util.lo version.lo vfonts.lo xxxpr.lo `ls ../appl/*.lo ../nmath/
>>>> *.lo ../unix/*.lo  2>/dev/null` -framework vecLib -L/opt/local/lib/
>>>> gcc-3.4/gcc/powerpc-apple-darwin8.2.0/3.4.4 -L/opt/local/lib/ 
>>>> gcc-3.4 -
>>>> lg2c -lgcc_s -lSystemStubs -lSystem  ../extra/zlib/libz.a ../extra/
>>>> bzip2/libbz2.a ../extra/pcre/libpcre.a  -lintl -liconv -lc  -
>>>> lreadline  -lm -liconv
>>>>
>>
>>
>> Here is cc_dynamic, right between readline and math:
>>
>> gcc-3.3 -dynamiclib -L/opt/local/lib -dynamiclib -install_name  
>> libR.dylib -compatibility_version 2.1.0  -current_version 2.1.1 - 
>> headerpad_max_install_names -o libR.dylib  Rembedded.lo  
>> CConverters.lo CommandLineArgs.lo Rdynload.lo Renviron.lo RNG.lo  
>> apply.lo arithmetic.lo apse.lo array.lo attrib.lo base.lo bind.lo  
>> builtin.lo character.lo coerce.lo colors.lo complex.lo  
>> connections.lo context.lo cov.lo cum.lo dcf.lo datetime.lo  
>> debug.lo deparse.lo deriv.lo dotcode.lo dounzip.lo dstruct.lo  
>> duplicate.lo engine.lo envir.lo errors.lo eval.lo format.lo  
>> fourier.lo gevents.lo gram.lo gram-ex.lo graphics.lo identical.lo  
>> internet.lo iosupport.lo lapack.lo list.lo logic.lo main.lo  
>> mapply.lo match.lo memory.lo model.lo names.lo objects.lo optim.lo  
>> optimize.lo options.lo par.lo paste.lo pcre.lo platform.lo plot.lo  
>> plot3d.lo plotmath.lo print.lo printarray.lo printvector.lo  
>> printutils.lo qsort.lo random.lo regex.lo registration.lo relop.lo  
>> saveload.lo scan.lo seq.lo serialize.lo size.lo sort.lo source.lo  
>> split.lo sprintf.lo startup.lo subassign.lo subscript.lo subset.lo  
>> summary.lo sysutils.lo unique.lo util.lo version.lo vfonts.lo  
>> xxxpr.lo `ls ../appl/*.lo ../nmath/*.lo ../unix/*.lo  2>/dev/null`  
>> -framework vecLib -L/Volumes/muffin/DarwinPorts/lib/gcc-3.4/gcc/ 
>> powerpc-apple-darwin8.2.0/3.4.4 -L/Volumes/muffin/DarwinPorts/lib/ 
>> gcc-3.4/gcc -L/Volumes/muffin/DarwinPorts/lib/gcc-3.4 -lg2c - 
>> lgcc_s -lSystemStubs -lSystem  ../extra/zlib/libz.a ../extra/bzip2/ 
>> libbz2.a ../extra/pcre/libpcre.a  -lintl -liconv -lc  -lreadline  - 
>> lcc_dynamic -lm -liconv
>


From konis at stats.ox.ac.uk  Wed Sep  7 21:44:10 2005
From: konis at stats.ox.ac.uk (Kjell Konis)
Date: Wed, 7 Sep 2005 12:44:10 -0700
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <B23FE1F4-1DF3-4FBA-AEB5-B83A62EA782F@r-project.org>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
	<Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>
	<F70049F5-4C0F-4E8A-9063-546637B196C3@stats.ox.ac.uk>
	<Pine.LNX.4.63.0509071222130.15968@illuminati.stderr.org>
	<B23FE1F4-1DF3-4FBA-AEB5-B83A62EA782F@r-project.org>
Message-ID: <FB716540-796D-4496-8290-4419A6B358A0@stats.ox.ac.uk>

Hi Simon,

I actually changed the Portfile so that when the host is running OS X  
the Apple gcc-3.3 and g++-3.3 get used instead of the GNU compilers  
that are installed by DarwinPorts.  For some reason on my computer - 
lcc_dynamic is passed to gcc-3.3 when libR.dylib is created (see  
below) but it looks like this is specific to me.  I am testing a  
Portfile with -lcc_dynamic included in LDFLAGS and it looks like it  
still works for me (but honestly why wouldn't it).  Hopefully it will  
work for Elijah and Jim too.

Kjell

On 7 Sep 2005, at 12:25, Simon Urbanek wrote:

> -lcc_dynamic is still missing ... it won't work without it, at  
> least not in your setup.
>
> Kjell, how are you building the darwinports? I suspect that the  
> problem is in your compilers as I was pointing out to you earlier -  
> by using different compilers you make it impossible for others to  
> use your build unless you put all your compiler in as dependencies,  
> because each compiler build uses different flags. For example the  
> cc_dynamic is merely Apple's soft-link to libgcc.a so if you don't  
> use Apple's gcc, you don't have cc_dynamic. But if you have Apple's  
> gcc3 (which most people do as it's part of Darwin), you need it.
>
> Cheers,
> Simon
>
>>>
>>> Here is cc_dynamic, right between readline and math:
>>>
>>> gcc-3.3 -dynamiclib -L/opt/local/lib -dynamiclib -install_name  
>>> libR.dylib
>>> -compatibility_version 2.1.0  -current_version 2.1.1
>>> -headerpad_max_install_names -o libR.dylib  Rembedded.lo  
>>> CConverters.lo
>>> CommandLineArgs.lo Rdynload.lo Renviron.lo RNG.lo apply.lo  
>>> arithmetic.lo
>>> apse.lo array.lo attrib.lo base.lo bind.lo builtin.lo  
>>> character.lo coerce.lo
>>> colors.lo complex.lo connections.lo context.lo cov.lo cum.lo dcf.lo
>>> datetime.lo debug.lo deparse.lo deriv.lo dotcode.lo dounzip.lo  
>>> dstruct.lo
>>> duplicate.lo engine.lo envir.lo errors.lo eval.lo format.lo  
>>> fourier.lo
>>> gevents.lo gram.lo gram-ex.lo graphics.lo identical.lo internet.lo
>>> iosupport.lo lapack.lo list.lo logic.lo main.lo mapply.lo  
>>> match.lo memory.lo
>>> model.lo names.lo objects.lo optim.lo optimize.lo options.lo  
>>> par.lo paste.lo
>>> pcre.lo platform.lo plot.lo plot3d.lo plotmath.lo print.lo  
>>> printarray.lo
>>> printvector.lo printutils.lo qsort.lo random.lo regex.lo  
>>> registration.lo
>>> relop.lo saveload.lo scan.lo seq.lo serialize.lo size.lo sort.lo  
>>> source.lo
>>> split.lo sprintf.lo startup.lo subassign.lo subscript.lo  
>>> subset.lo summary.lo
>>> sysutils.lo unique.lo util.lo version.lo vfonts.lo xxxpr.lo  
>>> `ls ../appl/*.lo
>>> ../nmath/*.lo ../unix/*.lo  2>/dev/null` -framework vecLib
>>> -L/Volumes/muffin/DarwinPorts/lib/gcc-3.4/gcc/powerpc-apple- 
>>> darwin8.2.0/3.4.4
>>> -L/Volumes/muffin/DarwinPorts/lib/gcc-3.4/gcc
>>> -L/Volumes/muffin/DarwinPorts/lib/gcc-3.4 -lg2c -lgcc_s - 
>>> lSystemStubs
>>> -lSystem  ../extra/zlib/libz.a ../extra/bzip2/libbz2.a
>>> ../extra/pcre/libpcre.a  -lintl -liconv -lc  -lreadline  - 
>>> lcc_dynamic -lm
>>> -liconv
>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>>
>>
>
>


From steve at biostat.ucsf.edu  Wed Sep  7 22:02:56 2005
From: steve at biostat.ucsf.edu (Stephen Shiboski)
Date: Wed, 7 Sep 2005 13:02:56 -0700
Subject: [R-SIG-Mac] history loading issues with R-2.1.1 under OS 10.4 on a
	G5 system
Message-ID: <E26877C7-E2F5-4BDD-8BF6-7ECFC0DBDB5B@biostat.ucsf.edu>

I recently built R 2.1.1 successfully using OS 10.4 and it passes  
"make check".
It runs seemingly without issue on my G4's, but the build on my G5  
won't load
my previous .Rhistory files.

I noticed that it creates new history files with the following symbol in
the first line:   _HiStOrY_V2_  . If I add this to the first line of  
older files,
they load and can be browsed.  I'm probably missing something obvious,
but this didn't happen with my G4s. Is there a fix?

Thanks,

-SS


From jimmcloughlin at earthlink.net  Thu Sep  8 00:00:21 2005
From: jimmcloughlin at earthlink.net (Jim McLoughlin)
Date: Wed, 7 Sep 2005 15:00:21 -0700
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <FB716540-796D-4496-8290-4419A6B358A0@stats.ox.ac.uk>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
	<Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>
	<F70049F5-4C0F-4E8A-9063-546637B196C3@stats.ox.ac.uk>
	<Pine.LNX.4.63.0509071222130.15968@illuminati.stderr.org>
	<B23FE1F4-1DF3-4FBA-AEB5-B83A62EA782F@r-project.org>
	<FB716540-796D-4496-8290-4419A6B358A0@stats.ox.ac.uk>
Message-ID: <85E7A938-0835-4BEC-ABA0-D508FF7F0535@earthlink.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20050907/04a159fe/attachment.pl

From elw at stderr.org  Wed Sep  7 23:07:07 2005
From: elw at stderr.org (elijah wright)
Date: Wed, 7 Sep 2005 16:07:07 -0500 (CDT)
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <85E7A938-0835-4BEC-ABA0-D508FF7F0535@earthlink.net>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
	<Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>
	<F70049F5-4C0F-4E8A-9063-546637B196C3@stats.ox.ac.uk>
	<Pine.LNX.4.63.0509071222130.15968@illuminati.stderr.org>
	<B23FE1F4-1DF3-4FBA-AEB5-B83A62EA782F@r-project.org>
	<FB716540-796D-4496-8290-4419A6B358A0@stats.ox.ac.uk>
	<85E7A938-0835-4BEC-ABA0-D508FF7F0535@earthlink.net>
Message-ID: <Pine.LNX.4.63.0509071556370.26979@illuminati.stderr.org>


> LDFLAGS="-L/opt/local/lib -lcc_dynamic" CC=gcc-dp-3.4 CXX=g++-dp-3.4
> F77=g77-dp-3.4 CC=gcc-3.3 CXX=g++-3.3 ./configure --prefix=/opt/local

> checking for gcc... gcc-3.3

cc_dynamic turns out not to be the problem, it seems.

<tease>

i am building now, will post a full copy of a fixed portfile when it 
finishes.

</tease>

--elijah


From konis at stats.ox.ac.uk  Thu Sep  8 00:45:20 2005
From: konis at stats.ox.ac.uk (Kjell Konis)
Date: Wed, 7 Sep 2005 15:45:20 -0700
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <85E7A938-0835-4BEC-ABA0-D508FF7F0535@earthlink.net>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
	<Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>
	<F70049F5-4C0F-4E8A-9063-546637B196C3@stats.ox.ac.uk>
	<Pine.LNX.4.63.0509071222130.15968@illuminati.stderr.org>
	<B23FE1F4-1DF3-4FBA-AEB5-B83A62EA782F@r-project.org>
	<FB716540-796D-4496-8290-4419A6B358A0@stats.ox.ac.uk>
	<85E7A938-0835-4BEC-ABA0-D508FF7F0535@earthlink.net>
Message-ID: <B49580CC-D357-49B8-B38D-67E4265C20CF@stats.ox.ac.uk>

On 7 Sep 2005, at 15:00, Jim McLoughlin wrote:

> 1. I am up to date with darwin ports:

Okay, so much for the easy fix.

> shiney:~ jim$ port version
> Version: 1.012
>
>> I actually changed the Portfile so that when the host is running OS X
>> the Apple gcc-3.3 and g++-3.3 get used instead of the GNU compilers
>> that are installed by DarwinPorts.  For some reason on my computer -
>> lcc_dynamic is passed to gcc-3.3 when libR.dylib is created (see
>> below) but it looks like this is specific to me.  I am testing a
>> Portfile with -lcc_dynamic included in LDFLAGS and it looks like it
>> still works for me (but honestly why wouldn't it).  Hopefully it will
>> work for Elijah and Jim too.
>
> 2. I noticed that when I first did `sudo install port R` yesterday,  
> it built a version of gcc (gcc-dp-3.4), so it must not be using the  
> osx gcc 3.3 by default.  `port variants R` returns:
>
> darwin_6
> macosx
>
> so it might be that we need to run `sudo port install R +macosx` to  
> force usage of the built in gcc-3.3.  However, When I tried this, I  
> got the same error as in 3 below (for the non-variant port).

The only way to get g77 is to install all of gcc 3.4.4.  On OS X the  
macosx variant is used by default (which uses the gcc-3.3 and g++-3.3  
provided by Apple with the developer tools and the g77-dp-3.4.4  
provided by DarwinPorts).  The darwin_6 variant is there to support  
jaguar.

Can you send me the config.log.  Also what version of OS X do you  
have and do you have any software installed in /usr/local?

Kjell

> 3. I tried adding -lcc_dynamic to the LDFLAGS, but it still did not  
> build.  It now fails with:
>
> --->  Fetching R
> --->  Attempting to fetch R-2.1.1.tar.gz from http://cran.r- 
> project.org/src/base/R-2/
> --->  Verifying checksum(s) for R
> --->  Extracting R
> --->  Configuring R
> Error: Target com.apple.configure returned: configure failure:  
> shell command "cd "/opt/local/var/db/dports/build/ 
> file._opt_local_var_db_dports_sources_rsync.rsync.opendarwin.org_dpupd 
> ate_dports_math_R/work/R-2.1.1" && CPPFLAGS="-I/opt/local/include"  
> LDFLAGS="-L/opt/local/lib -lcc_dynamic" CC=gcc-dp-3.4 CXX=g++- 
> dp-3.4 F77=g77-dp-3.4 CC=gcc-3.3 CXX=g++-3.3 ./configure --prefix=/ 
> opt/local --with-tcl-config="/opt/local/lib/tclConfig.sh" --with-tk- 
> config="/opt/local/lib/tkConfig.sh" --disable-R-framework --enable- 
> R-shlib --with-blas="-framework vecLib" --with-lapack" returned  
> error 77
> Command output: checking for dvips... /opt/local/bin/dvips
> checking for tex... /opt/local/bin/tex
> checking for latex... /opt/local/bin/latex
> checking for makeindex... /opt/local/bin/makeindex
> checking for pdftex... /opt/local/bin/pdftex
> checking for pdflatex... /opt/local/bin/pdflatex
> checking for makeinfo... /opt/local/bin/makeinfo
> checking for unzip... /usr/bin/unzip
> checking for zip... /usr/bin/zip
> checking for gzip... /usr/bin/gzip
> checking for firefox... no
> checking for mozilla... no
> checking for netscape... no
> checking for galeon... no
> checking for kfmclient... no
> checking for opera... no
> checking for gnome-moz-remote... no
> checking for open... /usr/bin/open
> using default browser ... /usr/bin/open
> checking for acroread... no
> checking for acroread4... no
> checking for xpdf... no
> checking for gv... no
> checking for gnome-gv... no
> checking for ggv... no
> checking for kghostview... no
> checking for open... /usr/bin/open
> checking for gcc... gcc-3.3
> checking for C compiler default output file name... configure:  
> error: C compiler cannot create executables
> See `config.log' for more details.
>


From w.northcott at internode.on.net  Thu Sep  8 00:47:51 2005
From: w.northcott at internode.on.net (Bill Northcott)
Date: Thu, 8 Sep 2005 08:47:51 +1000
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <mailman.3.1126087200.10432.r-sig-mac@stat.math.ethz.ch>
References: <mailman.3.1126087200.10432.r-sig-mac@stat.math.ethz.ch>
Message-ID: <13DA52B1-3F97-4D75-8BC1-D94E823700BC@internode.on.net>

On 07/09/2005, at 8:00 PM, Jim McLoughlin wrote:
>
> I just tried building from darwin ports today, and got the error
> below while bulding R.  To confirm, this is for darwin ports on
> Tiger, right?  Any help appreciated, looks like there is some kind of
> symbol conflict.
>
Simon has told you what the problem is.  However, this whole  
discussion belongs on some Darwin ports mail list.
R builds without problems on MacOS X.  So if it has issues on Darwin  
ports, those are Darwin ports issues.

Bill Northcott


From elw at stderr.org  Wed Sep  7 23:38:49 2005
From: elw at stderr.org (elijah wright)
Date: Wed, 7 Sep 2005 16:38:49 -0500 (CDT)
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <Pine.LNX.4.63.0509071556370.26979@illuminati.stderr.org>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
	<Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>
	<F70049F5-4C0F-4E8A-9063-546637B196C3@stats.ox.ac.uk>
	<Pine.LNX.4.63.0509071222130.15968@illuminati.stderr.org>
	<B23FE1F4-1DF3-4FBA-AEB5-B83A62EA782F@r-project.org>
	<FB716540-796D-4496-8290-4419A6B358A0@stats.ox.ac.uk>
	<85E7A938-0835-4BEC-ABA0-D508FF7F0535@earthlink.net>
	<Pine.LNX.4.63.0509071556370.26979@illuminati.stderr.org>
Message-ID: <Pine.LNX.4.63.0509071613430.26979@illuminati.stderr.org>


>> LDFLAGS="-L/opt/local/lib -lcc_dynamic" CC=gcc-dp-3.4 CXX=g++-dp-3.4
>> F77=g77-dp-3.4 CC=gcc-3.3 CXX=g++-3.3 ./configure --prefix=/opt/local
>
>> checking for gcc... gcc-3.3
>
> cc_dynamic turns out not to be the problem, it seems.

i spoke too soon.


ok, if you have cc_dynamic enabled it WILL NOT BUILD with gcc-dp-3.4. 
ugh.  or with gcc-dp-3.3 either.  this is gross gross gross.

mixing (whether apple's gcc-3.3 or DP's) and g77-dp-3.4 also seems to be 
some fairly bad mojo.

lots of errors about a flag -no-cpp-precomp.  seems harmless so far...

the build (with straight-up *-dp-3.3) eventually bombs out, but it is VERY 
late in the build, rather than the 'early death' that we were seeing 
earlier.


anybody seen this error from a build before?  tis a new one for me :)


gcc-dp-3.3 -bundle -flat_namespace -undefined suppress -L/opt/local/lib -o 
R_X11.so  dataentry.lo devX11.lo rotated.lo rbitmap.lo  -lSM -lICE 
-L/usr/X11R6/lib -lX11  -ljpeg -lpng -lz -L../../../lib -lR
gcc-dp-3.3: couldn't run `undle-gcc-3.3.6': No such file or directory


--elijah


From konis at stats.ox.ac.uk  Thu Sep  8 01:38:17 2005
From: konis at stats.ox.ac.uk (Kjell Konis)
Date: Wed, 7 Sep 2005 16:38:17 -0700
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <2CDF0F69-3813-495D-8A09-D2E0F09AE753@earthlink.net>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
	<Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>
	<F70049F5-4C0F-4E8A-9063-546637B196C3@stats.ox.ac.uk>
	<Pine.LNX.4.63.0509071222130.15968@illuminati.stderr.org>
	<B23FE1F4-1DF3-4FBA-AEB5-B83A62EA782F@r-project.org>
	<FB716540-796D-4496-8290-4419A6B358A0@stats.ox.ac.uk>
	<85E7A938-0835-4BEC-ABA0-D508FF7F0535@earthlink.net>
	<B49580CC-D357-49B8-B38D-67E4265C20CF@stats.ox.ac.uk>
	<2CDF0F69-3813-495D-8A09-D2E0F09AE753@earthlink.net>
Message-ID: <6924CD7F-3C01-44FF-8B1C-B9B026074368@stats.ox.ac.uk>

The R configure script checks to make sure that the C compiler works  
by compiling the file conftest.c and its not working on your  
computer.   If you want you can give it a try.  Use this compile command

gcc-3.3  -I/opt/local/include -L/opt/local/lib -lcc_dynamic conftest.c

and this C code:

/* confdefs.h.  */

#define PACKAGE_NAME "R"
#define PACKAGE_TARNAME "R"
#define PACKAGE_VERSION "2.1.1"
#define PACKAGE_STRING "R 2.1.1"
#define PACKAGE_BUGREPORT "r-bugs at R-project.org"
#define PACKAGE "R"
#define VERSION "2.1.1"
#define R_PLATFORM "powerpc-apple-darwin8.2.0"
#define R_CPU "powerpc"
#define R_VENDOR "apple"
#define R_OS "darwin8.2.0"
#define Unix 1
/* end confdefs.h.  */
int main ()

{
   ;
   return 0;
}

It says it can't find /usr/lib/libcc_dynamic.a

Kjell



On 7 Sep 2005, at 16:02, Jim McLoughlin wrote:

>> The only way to get g77 is to install all of gcc 3.4.4.  On OS X  
>> the macosx variant is used by default (which uses the gcc-3.3 and g 
>> ++-3.3 provided by Apple with the developer tools and the g77- 
>> dp-3.4.4 provided by DarwinPorts).  The darwin_6 variant is there  
>> to support jaguar.
>>
>> Can you send me the config.log.  Also what version of OS X do you  
>> have and do you have any software installed in /usr/local?
>
> Hi Kjell
>
> I do have stuff installed in /usr/local - in fact, g77 is installed  
> there from the "high performance computing on mac" site - I was  
> using it to try and build sci-py.  Perhaps that is causing the  
> problem.
>
> Attached is my config.log, thanks for your help (but don't obsess  
> over it on my behalf, I was installing it via DP because I was  
> curious whether it worked).
>
> cheers
>
> Jim
>
> <Rconfig.log>
>
>


From simon.urbanek at r-project.org  Thu Sep  8 02:35:11 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 7 Sep 2005 20:35:11 -0400
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <6924CD7F-3C01-44FF-8B1C-B9B026074368@stats.ox.ac.uk>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
	<Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>
	<F70049F5-4C0F-4E8A-9063-546637B196C3@stats.ox.ac.uk>
	<Pine.LNX.4.63.0509071222130.15968@illuminati.stderr.org>
	<B23FE1F4-1DF3-4FBA-AEB5-B83A62EA782F@r-project.org>
	<FB716540-796D-4496-8290-4419A6B358A0@stats.ox.ac.uk>
	<85E7A938-0835-4BEC-ABA0-D508FF7F0535@earthlink.net>
	<B49580CC-D357-49B8-B38D-67E4265C20CF@stats.ox.ac.uk>
	<2CDF0F69-3813-495D-8A09-D2E0F09AE753@earthlink.net>
	<6924CD7F-3C01-44FF-8B1C-B9B026074368@stats.ox.ac.uk>
Message-ID: <58A09D75-2C42-4DBE-A98A-D58232C708D3@r-project.org>


On Sep 7, 2005, at 7:38 PM, Kjell Konis wrote:

> It says it can't find /usr/lib/libcc_dynamic.a

This will be the case if you default gcc is 4.0. You should run
sudo gcc_select 3.3
then it should be there.

I don't mind how you do it (i.e. which compiler you choose), just  
make sure your users don't get confused as of which compiler to use.  
Any reasonable packaging system should make sure the proper compiler  
is there before installing. The flags differ from compiler to  
compiler, so you cannot build binary R unless you make up your mind  
as of exactly which compiler binary you require. Using any other  
binary simply doesn't work.

Cheers,
Simon


From w.northcott at unsw.edu.au  Thu Sep  8 03:11:52 2005
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Thu, 8 Sep 2005 11:11:52 +1000
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <6E3F7BAC-364B-4006-9709-7BB389D3F1C4@stats.ox.ac.uk>
References: <mailman.3.1126087200.10432.r-sig-mac@stat.math.ethz.ch>
	<13DA52B1-3F97-4D75-8BC1-D94E823700BC@internode.on.net>
	<6E3F7BAC-364B-4006-9709-7BB389D3F1C4@stats.ox.ac.uk>
Message-ID: <124251FF-A91A-4C2A-8E61-5B42F9C40983@unsw.edu.au>

On 08/09/2005, at 9:45 AM, Kjell Konis wrote:
> R-SIG-MAC is an "R Special Interest Group on Macintosh Development  
> and Porting, both for MacOS 8.6 - 9.x and MacOS X"  Why does what  
> we're doing not count?

I don't see either of 'Fink' or 'Darwin Ports' in the list {MacOS  
8.6-9.x, MacOS X}.

Once you install Fink or Darwin Ports, you are no longer doing UNIX  
style builds on MacOS X, because you effectively replace many of the  
system libraries and, so it appears with Darwin Ports, the  
compilers.   You are now building with different UNIX system.

Back in the days of MacOS X 10.0 and 10.1, Fink and Darwin Ports were  
arguably useful.  With Tiger, they just get in the way and create  
trouble like the ones you are experiencing.  Almost all the basic GNU/ 
BSD libraries are available on Tiger.  About the only ones now  
missing will never be there. Apple will not ship GPL licensed  
libraries, because they might accidentally pollute a commercial  
developers code.  That is why there is no GNU readline for instance.

The open source libraries that are not included are now trivial to  
build without needing the wholesale changes of Fink or Darwin Ports.

Some one wrote that one needed to install the whole of FSF gcc to get  
g77.  This is not correct.  Everything needed to build R from source  
on Panther or Tiger is included in the Tcl/Tk and g77 packages of the  
R 2.1.1 binary distribution.

Building gfortran from Apple sources on Tiger is not hard.  However,  
it is necessary to include recent patches from the FSF gfortran  
gcc-4.0.x.  You can find an Apple gcc-4 compiler with gfortran which  
will build R on www.swarm.org.  I hope to build a more recent one as  
soon as the fixes for the equivalence problems in gfortran get  
committed to the cvs.  That should be within a few days.

There are those from the Linux camp who think gcc-4 is not such a  
good compiler as the recent gcc-3.x.  As recent tests published by  
Anandtech show, while this may be the case on x86 Linux, it is simply  
not true on MacOS X.

Bill Northcott


From deleeuw at stat.ucla.edu  Thu Sep  8 06:02:35 2005
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Wed, 7 Sep 2005 21:02:35 -0700
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <124251FF-A91A-4C2A-8E61-5B42F9C40983@unsw.edu.au>
References: <mailman.3.1126087200.10432.r-sig-mac@stat.math.ethz.ch>
	<13DA52B1-3F97-4D75-8BC1-D94E823700BC@internode.on.net>
	<6E3F7BAC-364B-4006-9709-7BB389D3F1C4@stats.ox.ac.uk>
	<124251FF-A91A-4C2A-8E61-5B42F9C40983@unsw.edu.au>
Message-ID: <BE41DA00-7339-4271-8C1A-EBF077AB41A3@stat.ucla.edu>

I assume the fsf gfortran patches do not wind up in the apple
cvs branch, unless apple explicitly puts them there.

I am also interested if the patched gfortran works with vecLib
and supports its complex blas.

On Sep 7, 2005, at 18:11 , Bill Northcott wrote:

> Building gfortran from Apple sources on Tiger is not hard.  However,
> it is necessary to include recent patches from the FSF gfortran
> gcc-4.0.x.  You can find an Apple gcc-4 compiler with gfortran which
> will build R on www.swarm.org.  I hope to build a more recent one as
> soon as the fixes for the equivalence problems in gfortran get
> committed to the cvs.  That should be within a few days.

==========================================================
Jan de Leeuw, 11667 Steinhoff Rd, Frazier Park, CA 93225, 661-245-1725
              http://www.cuddyvalley.org/dunklen.mov
==========================================================
              Und die Einen sind im Dunkeln
              Und die Andern sind im Licht
              Doch man sieht nur die im Lichte
              Die im Dunkeln sieht man nicht       (Brecht)


From jimmcloughlin at earthlink.net  Thu Sep  8 06:18:11 2005
From: jimmcloughlin at earthlink.net (Jim McLoughlin)
Date: Wed, 7 Sep 2005 21:18:11 -0700
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <58A09D75-2C42-4DBE-A98A-D58232C708D3@r-project.org>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
	<Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>
	<F70049F5-4C0F-4E8A-9063-546637B196C3@stats.ox.ac.uk>
	<Pine.LNX.4.63.0509071222130.15968@illuminati.stderr.org>
	<B23FE1F4-1DF3-4FBA-AEB5-B83A62EA782F@r-project.org>
	<FB716540-796D-4496-8290-4419A6B358A0@stats.ox.ac.uk>
	<85E7A938-0835-4BEC-ABA0-D508FF7F0535@earthlink.net>
	<B49580CC-D357-49B8-B38D-67E4265C20CF@stats.ox.ac.uk>
	<2CDF0F69-3813-495D-8A09-D2E0F09AE753@earthlink.net>
	<6924CD7F-3C01-44FF-8B1C-B9B026074368@stats.ox.ac.uk>
	<58A09D75-2C42-4DBE-A98A-D58232C708D3@r-project.org>
Message-ID: <C1823FE8-44E7-4D0D-B0FD-C5210DB4D978@earthlink.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20050907/6e0d0bba/attachment.pl

From w.northcott at unsw.edu.au  Thu Sep  8 08:41:19 2005
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Thu, 8 Sep 2005 16:41:19 +1000
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <BE41DA00-7339-4271-8C1A-EBF077AB41A3@stat.ucla.edu>
References: <mailman.3.1126087200.10432.r-sig-mac@stat.math.ethz.ch>
	<13DA52B1-3F97-4D75-8BC1-D94E823700BC@internode.on.net>
	<6E3F7BAC-364B-4006-9709-7BB389D3F1C4@stats.ox.ac.uk>
	<124251FF-A91A-4C2A-8E61-5B42F9C40983@unsw.edu.au>
	<BE41DA00-7339-4271-8C1A-EBF077AB41A3@stat.ucla.edu>
Message-ID: <A62A94F9-3683-4649-BD30-48B5730C9076@unsw.edu.au>

On 08/09/2005, at 2:02 PM, Jan de Leeuw wrote:
> I assume the fsf gfortran patches do not wind up in the apple
> cvs branch, unless apple explicitly puts them there.

It just gets updated when Apple do their merges with the FSF tree.   
The latest corresponds to the gcc-4.0.1 release.  All I do to get the  
patches is diff four directories (gcc/fortran, gcc/testsuite/ 
gfortran.dg, gcc/testsuite/gfortran.fortran-torture and libgfortran)  
against the current gcc-4_0-branch from the cvs.  The only thing to  
watch is that you don't overwrite the couple of 'APPLE LOCAL'  
modifications.

Then all you have to do to build gfortran on a G5 is to add 'f95' (or  
it may have changed to gfortran) to the list of langauges in  
build_gcc.  Finally when it is all built you need to manually copy  
the fortran runtime library to the distribution tree.   Otherwise  
your code won't run!
>
> I am also interested if the patched gfortran works with vecLib
> and supports its complex blas.

That sounds like a good question, but rather beyond my competence to  
answer.

Bill


From stefano.iacus at unimi.it  Thu Sep  8 10:15:52 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Thu, 08 Sep 2005 10:15:52 +0200
Subject: [R-SIG-Mac] [moderator] Re:  R 2.1.1 available in DarwinPorts
In-Reply-To: <124251FF-A91A-4C2A-8E61-5B42F9C40983@unsw.edu.au>
References: <mailman.3.1126087200.10432.r-sig-mac@stat.math.ethz.ch>
	<13DA52B1-3F97-4D75-8BC1-D94E823700BC@internode.on.net>
	<6E3F7BAC-364B-4006-9709-7BB389D3F1C4@stats.ox.ac.uk>
	<124251FF-A91A-4C2A-8E61-5B42F9C40983@unsw.edu.au>
Message-ID: <8927CE4F-A681-4813-A05C-9E028F53555B@unimi.it>


On 08/set/05, at 03:11, Bill Northcott wrote:

> On 08/09/2005, at 9:45 AM, Kjell Konis wrote:
>
>> R-SIG-MAC is an "R Special Interest Group on Macintosh Development
>> and Porting, both for MacOS 8.6 - 9.x and MacOS X"  Why does what
>> we're doing not count?
>>
>
> I don't see either of 'Fink' or 'Darwin Ports' in the list {MacOS
> 8.6-9.x, MacOS X}.
>

I think that there is no reason why we should not help Kjell to build  
R in his set up provided that we can help and that Kjell follow our  
suggestions (Simon has written several times what's going wrong and  
why... thus why not considering these suggestions?).

As for daily testing of darwinports: r-sig-mac is probably NOT the  
right place, maybe darwinports has it's own list for that purpose. Or  
maybe Kjell can correspond with some testers privately and report  
here success or ask for solutions.

What Simon says about compiler dependencies REALLY matters and it is  
something to take care in particular for binary distributions.

Apple is doing great work in including more and more system  
libraries, and there's no reason why not using these if available.
Apple is also helping other open source project in having their  
products build out-of-the box on OS X for the reason explained by  
Bill in this mail.


stefano


> Once you install Fink or Darwin Ports, you are no longer doing UNIX
> style builds on MacOS X, because you effectively replace many of the
> system libraries and, so it appears with Darwin Ports, the
> compilers.   You are now building with different UNIX system.
>
> Back in the days of MacOS X 10.0 and 10.1, Fink and Darwin Ports were
> arguably useful.  With Tiger, they just get in the way and create
> trouble like the ones you are experiencing.  Almost all the basic GNU/
> BSD libraries are available on Tiger.  About the only ones now
> missing will never be there. Apple will not ship GPL licensed
> libraries, because they might accidentally pollute a commercial
> developers code.  That is why there is no GNU readline for instance.
>
> The open source libraries that are not included are now trivial to
> build without needing the wholesale changes of Fink or Darwin Ports.
>
> Some one wrote that one needed to install the whole of FSF gcc to get
> g77.  This is not correct.  Everything needed to build R from source
> on Panther or Tiger is included in the Tcl/Tk and g77 packages of the
> R 2.1.1 binary distribution.
>
> Building gfortran from Apple sources on Tiger is not hard.  However,
> it is necessary to include recent patches from the FSF gfortran
> gcc-4.0.x.  You can find an Apple gcc-4 compiler with gfortran which
> will build R on www.swarm.org.  I hope to build a more recent one as
> soon as the fixes for the equivalence problems in gfortran get
> committed to the cvs.  That should be within a few days.
>
> There are those from the Linux camp who think gcc-4 is not such a
> good compiler as the recent gcc-3.x.  As recent tests published by
> Anandtech show, while this may be the case on x86 Linux, it is simply
> not true on MacOS X.
>
> Bill Northcott
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Thu Sep  8 15:11:55 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 8 Sep 2005 09:11:55 -0400
Subject: [R-SIG-Mac] R 2.1.1 available in DarwinPorts
In-Reply-To: <BE41DA00-7339-4271-8C1A-EBF077AB41A3@stat.ucla.edu>
References: <mailman.3.1126087200.10432.r-sig-mac@stat.math.ethz.ch>
	<13DA52B1-3F97-4D75-8BC1-D94E823700BC@internode.on.net>
	<6E3F7BAC-364B-4006-9709-7BB389D3F1C4@stats.ox.ac.uk>
	<124251FF-A91A-4C2A-8E61-5B42F9C40983@unsw.edu.au>
	<BE41DA00-7339-4271-8C1A-EBF077AB41A3@stat.ucla.edu>
Message-ID: <F4409BA8-EDA8-475A-B9B7-A0C237CEC937@r-project.org>

On Sep 8, 2005, at 12:02 AM, Jan de Leeuw wrote:

> I assume the fsf gfortran patches do not wind up in the apple
> cvs branch, unless apple explicitly puts them there.
>
> I am also interested if the patched gfortran works with vecLib
> and supports its complex blas.

As of complex blas, there is a work-around now in the most current R- 
devel. The ABI change in fortran was deliberate so I don't think it  
will go away.

Cheers,
Simon


From konis at stats.ox.ac.uk  Thu Sep  8 18:01:52 2005
From: konis at stats.ox.ac.uk (Kjell Konis)
Date: Thu, 8 Sep 2005 09:01:52 -0700
Subject: [R-SIG-Mac] (hopefully last) R 2.1.1 available in DarwinPorts
In-Reply-To: <0BBC2A39-F37D-434D-BFE5-188F73EAAD93@r-project.org>
References: <D11A40F9-D280-499E-8330-30ACC89602BC@stats.ox.ac.uk>
	<FD73534C-6C7A-494C-A67E-10463F45E9F5@earthlink.net>
	<Pine.LNX.4.63.0509061851230.23734@illuminati.stderr.org>
	<F70049F5-4C0F-4E8A-9063-546637B196C3@stats.ox.ac.uk>
	<Pine.LNX.4.63.0509071222130.15968@illuminati.stderr.org>
	<B23FE1F4-1DF3-4FBA-AEB5-B83A62EA782F@r-project.org>
	<FB716540-796D-4496-8290-4419A6B358A0@stats.ox.ac.uk>
	<85E7A938-0835-4BEC-ABA0-D508FF7F0535@earthlink.net>
	<B49580CC-D357-49B8-B38D-67E4265C20CF@stats.ox.ac.uk>
	<2CDF0F69-3813-495D-8A09-D2E0F09AE753@earthlink.net>
	<6924CD7F-3C01-44FF-8B1C-B9B026074368@stats.ox.ac.uk>
	<58A09D75-2C42-4DBE-A98A-D58232C708D3@r-project.org>
	<09262EE2-5D58-4C79-8FBD-99C02603A5BA@stats.ox.ac.uk>
	<7FB349CA-AF49-40F2-9FE3-5D9A01D8F09F@r-project.org>
	<E8294610-06F6-4E45-A7B7-63BD71821999@stats.ox.ac.uk>
	<0BBC2A39-F37D-434D-BFE5-188F73EAAD93@r-project.org>
Message-ID: <42DAF23F-F6B3-488B-A64B-71A2393205C5@stats.ox.ac.uk>

I figured out the problem.  There is a small bug with Apple's default  
installation.  On a clean install of Tiger + Xcode 2.1 you get:

[muffin] kjell> sudo gcc_select
Current default compiler:
gcc version 4.0.0 (Apple Computer, Inc. build 5026)
[muffin] kjell> ls /usr/lib/libcc_dynamic.a
/usr/lib/libcc_dynamic.a

That library should not be there when gcc 4.0 is the default compiler.

After running gcc_select to switch to 3.3 then back to 4.0 you get:

[muffin] kjell> sudo gcc_select 3.3
Default compiler has been set to:
gcc version 3.3 20030304 (Apple Computer, Inc. build 1809)
[muffin] kjell> gcc_select
Current default compiler:
gcc version 3.3 20030304 (Apple Computer, Inc. build 1809)
[muffin] kjell> sudo gcc_select 4.0
Default compiler has been set to:
gcc version 4.0.0 (Apple Computer, Inc. build 5026)
[muffin] kjell> gcc_select
Current default compiler:
gcc version 4.0.0 (Apple Computer, Inc. build 5026)
[muffin] kjell> ls /usr/lib/libcc_dynamic.a
ls: /usr/lib/libcc_dynamic.a: No such file or directory

which is correct.

The result is that if you try to compile R on a virgin OS X + Xcode  
with GCC=gcc-3.3 and GXX=g++-3.3 set in your environment it will  
work.  After you have run gcc_select 4.0 the same build will fail.

Amazing what a good night sleep will do (:

Kjell

On 8 Sep 2005, at 06:19, Simon Urbanek wrote:

> On Sep 8, 2005, at 3:08 AM, Kjell Konis wrote:
>
>
>> Now I'm confused.  My whole idea was to call gcc-3.3 directly thus  
>> avoiding the user having to know which compiler is getting used.   
>> I thought gcc_select just changed what gcc pointed at (and  
>> associated libraries).  Do you know what else gcc_select is doing?
>>
>
> Kjell, I would suggest you should really read this list more often  
> or look at the archives (especially since you try to build binary  
> that you want to made widely available).
>
> gcc_select does much more than changing a softlink of gcc - it also  
> softlinks the proper includes and libraries - and one of the  
> important of them is cc_dynamic.

That's what I meant by 'and associated libraries'.

> Cheers,
> Simon
>
>


From knoblauch at lyon.inserm.fr  Fri Sep  9 15:09:28 2005
From: knoblauch at lyon.inserm.fr (Ken Knoblauch)
Date: Fri, 9 Sep 2005 11:09:28 -0200 (CEST)
Subject: [R-SIG-Mac] extra line-feeds when recalling previous command in Rgui
Message-ID: <49784.194.57.165.22.1126256968.squirrel@webmail.lyon.inserm.fr>

Hi,

I find that everytime I recall a previous command with the up-arrow, it
adds a line-feed
in the Rgui (1805) but not when run from terminal.  I'm using Mac 0S X
10.3.9 and

platform powerpc-apple-darwin7.9.0
arch     powerpc
os       darwin7.9.0
system   powerpc, darwin7.9.0
status
major    2
minor    1.1
year     2005
month    06
day      20
language R

Here is an example in which I recalled the same command 4 times.  Each
time adds a linefeed.
> x<-1:10
> x<-1:10
>
> x<-1:10
>
>
> x<-1:10
>
>
>
> x<-1:10
>
>
>
>


Does anyone else experience this?

-- 
Ken Knoblauch
Inserm U371
Cerveau et Vision
Dept. of Cognitive Neuroscience
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.lyon.inserm.fr/371/


From goedman at mac.com  Fri Sep  9 18:28:34 2005
From: goedman at mac.com (Rob J Goedman)
Date: Fri, 9 Sep 2005 09:28:34 -0700
Subject: [R-SIG-Mac] extra line-feeds when recalling previous command in
	Rgui
In-Reply-To: <49784.194.57.165.22.1126256968.squirrel@webmail.lyon.inserm.fr>
References: <49784.194.57.165.22.1126256968.squirrel@webmail.lyon.inserm.fr>
Message-ID: <45465B93-F748-4830-9906-157668A2F2BE@mac.com>

Hi Ken,

If you select the 2nd entry (Cleanup history entries) in your startup  
preferences
this should go away.

Some folks also mentioned that the load/save history buttons on the  
history sheet
in R GUI for Mac OS X did not work. The latest nightly build of just  
the R GUI
( http://research.att.com/~urbanek/R/ ) should fix that.

Regards,
Rob

On Sep 9, 2005, at 6:09 AM, Ken Knoblauch wrote:

> Hi,
>
> I find that everytime I recall a previous command with the up- 
> arrow, it
> adds a line-feed
> in the Rgui (1805) but not when run from terminal.  I'm using Mac 0S X
> 10.3.9 and
>
> platform powerpc-apple-darwin7.9.0
> arch     powerpc
> os       darwin7.9.0
> system   powerpc, darwin7.9.0
> status
> major    2
> minor    1.1
> year     2005
> month    06
> day      20
> language R
>
> Here is an example in which I recalled the same command 4 times.  Each
> time adds a linefeed.
>
>> x<-1:10
>> x<-1:10
>>
>> x<-1:10
>>
>>
>> x<-1:10
>>
>>
>>
>> x<-1:10
>>
>>
>>
>>
>>
>
>
> Does anyone else experience this?
>
> -- 
> Ken Knoblauch
> Inserm U371
> Cerveau et Vision
> Dept. of Cognitive Neuroscience
> 18 avenue du Doyen L?pine
> 69500 Bron
> France
> tel: +33 (0)4 72 91 34 77
> fax: +33 (0)4 72 91 34 61
> portable: +33 (0)6 84 10 64 10
> http://www.lyon.inserm.fr/371/
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From f.calboli at imperial.ac.uk  Tue Sep 13 14:52:30 2005
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Tue, 13 Sep 2005 13:52:30 +0100
Subject: [R-SIG-Mac] killing a line
Message-ID: <1126615950.2349.28.camel@localhost.localdomain>

Hi everyone,

assuming I want to kill a line on R.app, how I meant to do?

To be more specific, if I am writing a function or a loop on the fly and
realise there is a mistake, so I just want to kill the line and start
with a fresh promp, how od I do it?

for (i in 1:10){ #should be 1:20
x[i] = tan(y[i]+3) # I realise the mistake and I want to kill the
line/process/everything

how? In Debian I'd <Ctrl> C, if that's relevant.

Regards,

Federico

-- 
Federico C. F. Calboli
Department of Epidemiology and Public Health
Imperial College, St Mary's Campus
Norfolk Place, London W2 1PG

Tel  +44 (0)20 7594 1602     Fax (+44) 020 7594 3193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From bolker at zoo.ufl.edu  Tue Sep 13 09:15:55 2005
From: bolker at zoo.ufl.edu (Ben Bolker)
Date: Tue, 13 Sep 2005 09:15:55 +0200
Subject: [R-SIG-Mac] binaries for survival package?
Message-ID: <43267CAB.8010100@zoo.ufl.edu>


   does anyone have a source for a binary
(OS X.4) of the survival package?  (This is
again for the student who I'm trying to convince
that open-source is simple and easy ...)
Otherwise I will try to hack through installing
the stuff needed to compile from source,
but I'm so ignorant of the Mac platform that
these things tend to be harder than they
should be.

   thanks to all for their help with the
last problem -- simply installing the tcltk
libraries bundled with R seemed to do the
trick.

   thanks,
     Ben Bolker


From simon.urbanek at r-project.org  Tue Sep 13 15:35:05 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 13 Sep 2005 09:35:05 -0400
Subject: [R-SIG-Mac] binaries for survival package?
In-Reply-To: <43267CAB.8010100@zoo.ufl.edu>
References: <43267CAB.8010100@zoo.ufl.edu>
Message-ID: <6209EFE2-FF80-4A4D-AC8D-89E98E44DC20@r-project.org>

Ben,

On Sep 13, 2005, at 3:15 AM, Ben Bolker wrote:

>    does anyone have a source for a binary (OS X.4) of the survival  
> package?  (This is again for the student who I'm trying to convince  
> that open-source is simple and easy ...) Otherwise I will try to  
> hack through installing the stuff needed to compile from source,  
> but I'm so ignorant of the Mac platform that these things tend to  
> be harder than they should be.

The survival package is included in the CRAN release of R, because it  
is a recommended package, so it should be installed already.

Cheers,
Simon


From khansen at stat.Berkeley.EDU  Tue Sep 13 18:12:16 2005
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Tue, 13 Sep 2005 09:12:16 -0700
Subject: [R-SIG-Mac] binaries for survival package?
In-Reply-To: <43267CAB.8010100@zoo.ufl.edu>
References: <43267CAB.8010100@zoo.ufl.edu>
Message-ID: <6CE0CCA6-EEC8-4FB7-9432-F1D6323EA59B@stat.berkeley.edu>

See Simon's reply. In addition, if you tell the student to start up  
the GUI and use the built-in functions found in the menubar, s(he)  
will automatically download binaries, so it really is quite simple.

There are binaries for most CRAN/Bioconductor packages (the few which  
are missing are typically missing on windows as well).

Kasper



On Sep 13, 2005, at 12:15 AM, Ben Bolker wrote:

>
>    does anyone have a source for a binary
> (OS X.4) of the survival package?  (This is
> again for the student who I'm trying to convince
> that open-source is simple and easy ...)
> Otherwise I will try to hack through installing
> the stuff needed to compile from source,
> but I'm so ignorant of the Mac platform that
> these things tend to be harder than they
> should be.
>
>    thanks to all for their help with the
> last problem -- simply installing the tcltk
> libraries bundled with R seemed to do the
> trick.
>
>    thanks,
>      Ben Bolker
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From jackman at stanford.edu  Tue Sep 13 23:22:40 2005
From: jackman at stanford.edu (Simon Jackman)
Date: Tue, 13 Sep 2005 14:22:40 -0700
Subject: [R-SIG-Mac] vecLibg95 not found in alpha build
Message-ID: <015FB32A-C128-4193-8843-8CDE8FCDECCF@stanford.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20050913/309ef3e7/attachment.pl

From simon.urbanek at r-project.org  Tue Sep 13 23:44:46 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 13 Sep 2005 17:44:46 -0400
Subject: [R-SIG-Mac] vecLibg95 not found in alpha build
In-Reply-To: <015FB32A-C128-4193-8843-8CDE8FCDECCF@stanford.edu>
References: <015FB32A-C128-4193-8843-8CDE8FCDECCF@stanford.edu>
Message-ID: <06D5B169-6DA9-4C4F-B7A5-63E88521F0C8@r-project.org>

Simon,

thanks for the report.

On Sep 13, 2005, at 5:22 PM, Simon Jackman wrote:

> *** No rule to make target `vecLibg95c.c', needed by `Makefile'.   
> Stop.

It should be fixed in the next day's tar-ball (this affected tar- 
balls only, svn checkout is fine).

Cheers,
Simon


From chabotd at globetrotter.net  Fri Sep 16 15:11:44 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Fri, 16 Sep 2005 09:11:44 -0400
Subject: [R-SIG-Mac] mgcv
Message-ID: <16BF5D41-A476-4552-BAA6-2E2F3BE1FEE9@globetrotter.net>

Hi,

Do you know why package mgcv, installed automatically with R (mgcv  
1.3-1 is installed with R 2.1.1) does not show up at all when looking  
for Mac binaries on CRAN? Shouldn't we see v1.3-1 there, at least?
When looking at sources on CRAN, one sees that 1.3-7 is available.  
Because 1.3-1 was compiled successfully for Mac, I tried to compile  
1.3-7 from within R-gui (1816) and failed. Do you know if a Mac  
binary will be available soon or else how I can fix the errors  
indicated below?

Thanks in advance,

Denis Chabot




essai de l'URL 'http://probability.ca/cran/src/contrib/ 
mgcv_1.3-7.tar.gz'
Content type 'application/x-tar' length 244885 bytes
URL ouverte
==================================================
downloaded 239Kb

* Installing *source* package 'mgcv' ...
** libs
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c gcv.c -o gcv.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c magic.c -o  
magic.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c mat.c -o mat.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c matrix.c -o  
matrix.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c mgcv.c -o mgcv.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c qp.c -o qp.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c tprs.c -o tprs.o
gcc-3.3 -bundle -flat_namespace -undefined suppress -L/usr/local/lib - 
o mgcv.so gcv.o magic.o mat.o matrix.o mgcv.o qp.o tprs.o  -framework  
vecLib -L/usr/local/lib/gcc/powerpc-apple-darwin6.8/3.4.2 -lg2c - 
lSystem  -framework R
ld: warning
The downloaded packages are in
     /private/tmp/Rtmp8owdFh/downloaded_packages
multiple definitions of symbol _xerbla_
/Library/Frameworks/R.framework/R(print.lo) definition of _xerbla_
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
vecLib.framework/Versions/A/libBLAS.dylib(single module) definition  
of _xerbla_
ld: warning multiple definitions of symbol _signgam
/Library/Frameworks/R.framework/R(lgamma.lo) definition of _signgam
/usr/lib/libSystem.dylib(gamma9.o) definition of _signgam
ld: gcv.o has external relocation entries in non-writable section  
(__TEXT,__text) for symbols:
restFP
saveFP
make: *** [mgcv.so] Error 1
ERROR: compilation failed for package 'mgcv'
essai de l'URL 'http://probability.ca/cran/bin/macosx/2.1/PACKAGES'
Content type 'text/plain; charset=iso-8859-1' length 27756 bytes
URL ouverte


From earl at lanl.gov  Mon Sep 19 18:03:37 2005
From: earl at lanl.gov (Earl Lawrence)
Date: Mon, 19 Sep 2005 10:03:37 -0600
Subject: [R-SIG-Mac] R.app crash report
Message-ID: <F3AD7B51-00DC-4210-87AE-606234B8F080@lanl.gov>

Unfortunately, I will not be able to send you the detailed and  
reproducible procedure that lead to the crash.

Basically, if I click on the R.app icon, the program crashes.  If I  
use Terminal and go to /Applications/R.app/Contents/MacOS and run ./ 
R, then everything works OK (as far as I know).  The problem reoccurs  
if I reinstall although sometimes I get a few uses out it first.   
Sorry I couldn't be more helpful.

Earl

-------------- next part --------------
A non-text attachment was scrubbed...
Name: R.crash.log
Type: application/octet-stream
Size: 384991 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20050919/764c329e/R.crash-0001.obj

From ellis at stat.harvard.edu  Tue Sep 20 11:09:56 2005
From: ellis at stat.harvard.edu (Byron Ellis)
Date: Tue, 20 Sep 2005 02:09:56 -0700
Subject: [R-SIG-Mac] R.app crash report
In-Reply-To: <F3AD7B51-00DC-4210-87AE-606234B8F080@lanl.gov>
References: <F3AD7B51-00DC-4210-87AE-606234B8F080@lanl.gov>
Message-ID: <4C3297DD-2AB7-4F2A-A5C7-5916470C1BD5@stat.harvard.edu>

Hi Earl,

I'd guess the problem is your preferences file. Try deleting Library/ 
Preferences/org.R-project.R.plist in your home directory.

On Sep 19, 2005, at 9:03 AM, Earl Lawrence wrote:

> Unfortunately, I will not be able to send you the detailed and  
> reproducible procedure that lead to the crash.
>
> Basically, if I click on the R.app icon, the program crashes.  If I  
> use Terminal and go to /Applications/R.app/Contents/MacOS and run ./ 
> R, then everything works OK (as far as I know).  The problem  
> reoccurs if I reinstall although sometimes I get a few uses out it  
> first.  Sorry I couldn't be more helpful.
>
> Earl
>
>
> <R.crash.log>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

---
Byron Ellis (ellis at stat.harvard.edu)
"Oook" -- The Librarian


From simon.urbanek at r-project.org  Tue Sep 20 15:15:52 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 20 Sep 2005 09:15:52 -0400
Subject: [R-SIG-Mac] R.app crash report
In-Reply-To: <F3AD7B51-00DC-4210-87AE-606234B8F080@lanl.gov>
References: <F3AD7B51-00DC-4210-87AE-606234B8F080@lanl.gov>
Message-ID: <03AC28F3-4044-456D-B546-43E829436452@r-project.org>


On Sep 19, 2005, at 12:03 PM, Earl Lawrence wrote:

> Unfortunately, I will not be able to send you the detailed and  
> reproducible procedure that lead to the crash.

That is a known bug that has been fixed few months ago - you should  
consider updating your R.app ( http://research.att.com/~urbanek/R/ -  
see GUI downloads).

Cheers,
Simon


From joel3000 at gmail.com  Wed Sep 21 22:17:28 2005
From: joel3000 at gmail.com (Joel Bremson)
Date: Wed, 21 Sep 2005 13:17:28 -0700
Subject: [R-SIG-Mac] R 2.1.1 tiger compile problem
Message-ID: <1253d67a0509211317460e8f6c@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20050921/d26881ae/attachment.pl

From deleeuw at stat.ucla.edu  Wed Sep 21 22:24:11 2005
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Wed, 21 Sep 2005 13:24:11 -0700
Subject: [R-SIG-Mac] R 2.1.1 tiger compile problem
In-Reply-To: <1253d67a0509211317460e8f6c@mail.gmail.com>
References: <1253d67a0509211317460e8f6c@mail.gmail.com>
Message-ID: <86CA32CC-EF70-4493-85F7-1EA32E8C6662@stat.ucla.edu>

upgrade R to recent R-devel (2.2.0) or (better) switch back to  
gcc-3.x with
g77

On Sep 21, 2005, at 13:17 , Joel Bremson wrote:

> Hi,
>
> I'm trying to compile R-2.1.1 on a Tiger/G5 - Darwin 8.2.0 - XCode  
> 2.1.
> The gcc is:
> powerpc-apple-darwin8-gcc-4.0.0 (GCC) 4.0.0 (Apple Computer, Inc.  
> build
> 5026)
>
> The gfortran is:
> GNU Fortran 95 (GCC 4.0.0 (Apple Computer, Inc. build 5202))
>
> My configure line is:
> ./configure F77=gfortran FLIBS=/usr/lib/libgfortran.a
>
> The make runs for a long while and then crashes out with this output:
> gfortran -fno-common -g -O2 -c cmplxblas.f -o cmplxblas.lo
> gcc -dynamiclib -L/sw/lib -L/usr/local/lib -install_name
> /Library/Frameworks/R.framework/Version
> s/2.1.1/Resources/lib/libRlapack.dylib -o libRlapack.dylib dlamc.lo
> dlapack0.lo dlapack1.lo dlap
> ack2.lo dlapack3.lo cmplx.lo cmplxblas.lo /usr/lib/libgfortran.a
> ld: Undefined symbols:
> _dasum_
> _daxpy_
> _dcopy_
> ...
> _dsyr_
> _dtbmv_
> _zgemm_
> /usr/bin/libtool: internal link edit command failed
> make[4]: *** [libRlapack.dylib] Error 1
> make[3]: *** [R] Error 2
> make[2]: *** [R] Error 1
> make[1]: *** [R] Error 1
> make: *** [R] Error 1
>
> --EOF--
>
> Any idea how to fix this?
>
> Best,
>
> Joel
>
> --
> Joel Bremson
> Graduate Student
> Institute for Transportation Studies - UC Davis
> http://etrans.blogspot.com
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
.mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
homepages: http://gifi.stat.ucla.edu ++++++ http://www.cuddyvalley.org
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au


From rpiper at med.usyd.edu.au  Thu Sep 22 22:40:50 2005
From: rpiper at med.usyd.edu.au (Richard Piper)
Date: Fri, 23 Sep 2005 06:40:50 +1000
Subject: [R-SIG-Mac] RMySQL with R 2.1.1 and Tiger 10.4
Message-ID: <E681B323-7F89-4A19-98AD-F0765342B884@med.usyd.edu.au>

Has anyone managed to compile RMySQL for 2.11. I had it working for  
the previous version of R.

It compiles with errors, and then when I load the library, it  
complains about shared libraries

Any suggestions would be much appreciated.

Thanks

Richard Piper


** libs
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include -I/usr/local/mysql/include -I/usr/local/include   -fno- 
common  -g -O2 -c RS-DBI.c -o RS-DBI.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include -I/usr/local/mysql/include -I/usr/local/include   -fno- 
common  -g -O2 -c RS-MySQL.c -o RS-MySQL.o
gcc-3.3 -bundle -flat_namespace -undefined suppress -L/usr/local/lib - 
o RMySQL.so RS-DBI.o RS-MySQL.o -L/usr/local/mysql/lib -lmysqlclient - 
lz  -framework R
ld: warning multiple definitions of symbol _compress2
/usr/lib/libz.dylib(compress.o) definition of _compress2
/Library/Frameworks/R.framework/R(compress.lo) definition of _compress2
ld: warning multiple definitions of symbol _compress
/usr/lib/libz.dylib(compress.o) definition of _compress
/Library/Frameworks/R.framework/R(compress.lo) definition of _compress
ld: warning multiple definitions of symbol _compressBound

and then when I load the library, it complains about shared libraries

 > library(RMySQL)
Loading required package: DBI
Error in dyn.load(x, as.logical(local), as.logical(now)) :
     unable to load shared library '/Library/Frameworks/R.framework/ 
Resources/library/RMySQL/libs/RMySQL.so':
   dlopen(/Library/Frameworks/R.framework/Resources/library/RMySQL/ 
libs/RMySQL.so, 6): Symbol not found: _printf$LDBLStub
   Referenced from: /Library/Frameworks/R.framework/Resources/library/ 
RMySQL/libs/RMySQL.so
   Expected in: flat namespace
Error in library(RMySQL) : .First.lib failed for 'RMySQL'


From goedman at mac.com  Fri Sep 23 16:53:29 2005
From: goedman at mac.com (Rob J Goedman)
Date: Fri, 23 Sep 2005 07:53:29 -0700
Subject: [R-SIG-Mac] [R] Installing local packages in R for MacOSX 10.4.2
In-Reply-To: <7315C7E20C5FD41198D700508BAD4C080C3F7410@ntazgas01.azg.nl>
References: <7315C7E20C5FD41198D700508BAD4C080C3F7410@ntazgas01.azg.nl>
Message-ID: <1CF161EF-14D2-4C27-AED9-5A5EAC4D0564@mac.com>

Hi Marije,

When you select the Package Installer, select Local Source Package and
press Install (which is now enabled). This will get you to a Finder  
window
where you can select the source file to install.

Hope this helps,
Rob

PS There is a R-SIG-Mac alias for questions specific to R on Mac OS.


On Sep 23, 2005, at 7:24 AM, Booman, M wrote:

> Dear all,
>
> I have been using R for Windows before but recently switched to  
> Mac. Now I
> am confused about how to install local packages using R 2.1.1. on  
> the Mac.
> I found the menu Packages and Data, and have used it succesfully to  
> install
> CRAN and Bioconductor packages (all binaries) by selecting these
> repositories from the pull-down menu and clicking the Get List button.
> However there is one package from OmegaHat I want to install  
> (Rcurl). Since
> this is not a listed repository in the Install Packages pull-down  
> menu, I
> tried the Other Repository function and entered the URL for the  
> OmegaHat
> page. This doesn't work as R tries to add /PACKAGES to the URL and  
> this is
> apparently not how the OmegaHat site is set up (I tried the same with
> bioconductor's URL and that did work). SO I downloaded the .tar.gz  
> file. I
> remember from my R for Windows there was an option Install Package  
> From
> Local File. But in this version of R for MAC I can't find this. In  
> the R FAQ
> for MAC OSX it says I should choose, in the Install Packages menu, the
> option Local Package from the pull-down menu. But then the Get List  
> button
> is greyed out, and no packages appear in the list. I have tried  
> putting the
> .tar.gz file in several places: in the working directory (/user/ 
> admin in
> this case), in the R-Framework/Resources/Library directory, but  
> never is the
> file listed in the Install Packages menu. I must be doing something  
> wrong
> but don't know what. This is the text from the R FAQ for OSX, which I
> followed:
> "You can also download any other package from the Internet yourself  
> and
> decide to install it from source. In such case select one of the local
> entries in the top left list." (The top left list being the pull- 
> down menu I
> described and the local entries being Local Binary package, Local  
> Source
> Package, and Local Package Directory).
>
>
> Could somebody please help me out?
>
> Best wishes,
> Marije
>
>
> De inhoud van dit bericht is vertrouwelijk en alleen bestemd voor  
> de geadresseerde(n). Anderen dan de geadresseerde mogen geen  
> gebruik maken van dit bericht, het openbaar maken of op enige wijze  
> verspreiden of vermenigvuldigen. Het UMCG kan niet aansprakelijk  
> gesteld worden voor een incomplete aankomst of vertraging van dit  
> verzonden bericht.
>
> The contents of this message are confidential and only intended for  
> the eyes of the addressee(s). Others than the addressee(s) are not  
> allowed to use this message, to make it public or to distribute or  
> multiply this message in any way. The UMCG cannot be held  
> responsible for incomplete reception or delay of this transferred  
> message.
>
>     [[alternative HTML version deleted]]
>
> ______________________________________________
> R-help at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide! http://www.R-project.org/posting- 
> guide.html
>


From w.northcott at unsw.edu.au  Mon Sep 26 14:17:36 2005
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Mon, 26 Sep 2005 22:17:36 +1000
Subject: [R-SIG-Mac] R 2.1.1 tiger compile problem
In-Reply-To: <mailman.1.1127383200.22046.r-sig-mac@stat.math.ethz.ch>
References: <mailman.1.1127383200.22046.r-sig-mac@stat.math.ethz.ch>
Message-ID: <5A442927-AC27-4C6E-9320-748F322A9925@unsw.edu.au>

On 22/09/2005, at 8:00 PM, Joel Bremson wrote:
> I'm trying to compile R-2.1.1 on a Tiger/G5 - Darwin 8.2.0 - XCode  
> 2.1.
> The gcc is:
> powerpc-apple-darwin8-gcc-4.0.0 (GCC) 4.0.0 (Apple Computer, Inc.  
> build
> 5026)
>
> The gfortran is:
> GNU Fortran 95 (GCC 4.0.0 (Apple Computer, Inc. build 5202))
>
> My configure line is:
> ./configure F77=gfortran FLIBS=/usr/lib/libgfortran.a
>
> The make runs for a long while and then crashes out with this output:
> gfortran -fno-common -g -O2 -c cmplxblas.f -o cmplxblas.lo
> gcc -dynamiclib -L/sw/lib -L/usr/local/lib -install_name
> /Library/Frameworks/R.framework/Version

Your problem is not the compiler.  It is the configure command that  
is wrong.  There is no problem building R with gfortran and gcc-4.   
The F77 define is probably necessary, but you should not need to add  
standard Fortran libraries.

The recommended configure command is
./configure --with-blas='-framework vecLib' --with-lapack --with-aqua
see http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html

BLAS and LAPACK are part of the Accelerate framework in MacOS X.   
Because you have omitted the '--with-blas' and '--with-lapack'  
options R is trying to build its own LAPACK which AFAIK is not  
supported on MacOS X.  Hence your problems.

Bill Northcott


From w.northcott at unsw.edu.au  Mon Sep 26 14:24:31 2005
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Mon, 26 Sep 2005 22:24:31 +1000
Subject: [R-SIG-Mac] RMySQL with R 2.1.1 and Tiger 10.4
In-Reply-To: <mailman.1.1127469600.31308.r-sig-mac@stat.math.ethz.ch>
References: <mailman.1.1127469600.31308.r-sig-mac@stat.math.ethz.ch>
Message-ID: <01A4B057-B0A5-4F26-AD3B-B3EBE525C45E@unsw.edu.au>

On 23/09/2005, at 8:00 PM, Richard Piper wrote:
> Loading required package: DBI
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>      unable to load shared library '/Library/Frameworks/R.framework/
> Resources/library/RMySQL/libs/RMySQL.so':
>    dlopen(/Library/Frameworks/R.framework/Resources/library/RMySQL/
> libs/RMySQL.so, 6): Symbol not found: _printf$LDBLStub
>    Referenced from: /Library/Frameworks/R.framework/Resources/library/
> RMySQL/libs/RMySQL.so
>    Expected in: flat namespace
> Error in library(RMySQL) : .First.lib failed for 'RMySQL'

This error is caused by linking together object modules (static  
libraries) compiled with a mixture of gcc-3.x and gcc-4.x.  It is  
quite easy to fall into this trap on Tiger because the default  
compiler is gcc-4 but you might build R code with gcc-3.3 to use g77.

Bill Northcott


From joel3000 at gmail.com  Mon Sep 26 20:56:52 2005
From: joel3000 at gmail.com (Joel Bremson)
Date: Mon, 26 Sep 2005 11:56:52 -0700
Subject: [R-SIG-Mac] R 2.1.1 tiger compile problem
In-Reply-To: <5A442927-AC27-4C6E-9320-748F322A9925@unsw.edu.au>
References: <mailman.1.1127383200.22046.r-sig-mac@stat.math.ethz.ch>
	<5A442927-AC27-4C6E-9320-748F322A9925@unsw.edu.au>
Message-ID: <1253d67a0509261156f6a2db2@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20050926/51b78d0b/attachment.pl

From w.northcott at unsw.edu.au  Tue Sep 27 03:13:40 2005
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Tue, 27 Sep 2005 11:13:40 +1000
Subject: [R-SIG-Mac] R 2.1.1 tiger compile problem
In-Reply-To: <1253d67a0509261156f6a2db2@mail.gmail.com>
References: <mailman.1.1127383200.22046.r-sig-mac@stat.math.ethz.ch>
	<5A442927-AC27-4C6E-9320-748F322A9925@unsw.edu.au>
	<1253d67a0509261156f6a2db2@mail.gmail.com>
Message-ID: <C82D9261-EC3C-44F8-8164-A7D6EF072900@unsw.edu.au>

On 27/09/2005, at 4:56 AM, Joel Bremson wrote:
> I was able to build R-2.1.1 on the Tiger/G5 with configure command you
> gave, adding in F77=gfortran but my package will not build  
> correctly. It dies
> with a namespace load error during the R CMD CHECK. If I ignore the  
> namespace error and just install it the code segfaults.
>
> However, the package does build and run correctly on a Tiger/G4  
> machine. The difference is
> that on the G4 we run gcc-4.0 apple build 4061 and gfortran 4.1.0  
> v20050517.  On the
> G5 we're running gcc-4.0 apple build 5026 and gfortran apple build  
> 5202.
>
> Since the code compiles and runs properly on the G4 I'm assuming the
> code is fine. Now we're thinking of running the same compilers on  
> the G5.

The gfortran code from a few months back had a number of crucial  
bugs, one or more of which is probably your problem.  The gfortran  
code in apple-gcc-5202 is the gcc-4.0.1 release version.  Your  
gfortran 4.1.0v20050517 code would probably have less bugs.

I think you could get even better code by waiting a few days for the  
gcc-4.0.2 release, which will have a lot of important bug fixes, and  
would be much more consistent with the officially released Apple  
gcc-5026.

Bill Northcott


From mendes.richard at gmail.com  Wed Sep 28 18:04:15 2005
From: mendes.richard at gmail.com (richard mendes)
Date: Wed, 28 Sep 2005 18:04:15 +0200
Subject: [R-SIG-Mac] shared library
Message-ID: <5c5fa360509280904fa1cd79@mail.gmail.com>

hello everybody

currently i'm doing an intern ship where my assignment is building a
pipeline between a database and r ,this has to be written in python. I
build R from the source to try and create a shared library so that you
can create an interface using the rpy package from python.

the problem is that when i build R from the source like the readme
tells me it still doesn't create a shared library. this is what the
readme tells me to do

make distclean
./configure --enable-R-shlib
make
make install

put the following line in your .bashrc (or equivalent)
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:RHOME/bin
run 'ldconfig'


can anybody help me with this problem all help is welcome

thanks in advance

richard


From sfalcon at fhcrc.org  Wed Sep 28 18:28:01 2005
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Wed, 28 Sep 2005 09:28:01 -0700
Subject: [R-SIG-Mac] shared library
In-Reply-To: <5c5fa360509280904fa1cd79@mail.gmail.com> (richard mendes's
	message of "Wed, 28 Sep 2005 18:04:15 +0200")
References: <5c5fa360509280904fa1cd79@mail.gmail.com>
Message-ID: <m2d5mtkvhq.fsf@macaroni.local>

On 28 Sep 2005, mendes.richard at gmail.com wrote:

> hello everybody
>
> currently i'm doing an intern ship where my assignment is building a
> pipeline between a database and r ,this has to be written in
> python. I build R from the source to try and create a shared library
> so that you can create an interface using the rpy package from
> python.
>
> the problem is that when i build R from the source like the readme
> tells me it still doesn't create a shared library. this is what the
> readme tells me to do
>
> make distclean
> ./configure --enable-R-shlib
> make
> make install

Things are a bit different on OS X.  I've been running configure like
this:

../../src/R-devel/configure --with-blas="-framework vecLib" \
  --with-lapack --with-aqua

I'm not sure if one still needs to specify all of these with the
latest R-devel.

With this configure I get in my build dir $TOP/lib/libR.dylib and this
may be what you need for rpy (haven't tried, not sure).

> put the following line in your .bashrc (or equivalent)
> export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:RHOME/bin
> run 'ldconfig'

Pretty sure that on OS X what you want is DYLD_LIBRARY_PATH and so
adding the lib dir might be worth a try.

HTH,

+ seth


From simon.urbanek at r-project.org  Wed Sep 28 23:57:21 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 28 Sep 2005 17:57:21 -0400
Subject: [R-SIG-Mac] shared library
In-Reply-To: <5c5fa360509280904fa1cd79@mail.gmail.com>
References: <5c5fa360509280904fa1cd79@mail.gmail.com>
Message-ID: <1F1D9EA4-343D-4CC7-83D4-530F3FF881F9@r-project.org>

Richard,

On Sep 28, 2005, at 12:04 PM, richard mendes wrote:

> currently i'm doing an intern ship where my assignment is building a
> pipeline between a database and r ,this has to be written in python. I
> build R from the source to try and create a shared library

You can ignore both points a) and b) on OS X. The CRAN R release  
comes with R shared library, so there is no need to re-compile R from  
that perspective.

> so that you
> can create an interface using the rpy package from python.
>
> the problem is that when i build R from the source like the readme
> tells me it still doesn't create a shared library.

It does and is called libR.dylib.

> this is what the
> readme tells me to do
>
> make distclean
> ./configure --enable-R-shlib
> make
> make install
>
> put the following line in your .bashrc (or equivalent)
> export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:RHOME/bin

Those instructions are for Linux and other unices, but not for Mac OS  
X. There is no LD_LIBRARY_PATH in OS X and no need for it, either.

Unfortunately RPy is broken for any system that uses external BLAS,  
including OS X. You need to edit "setup.py" and replace
libraries=['R','Rlapack']
with
libraries=['R']
(see diff below).

@Greg: I would recommend using R CMD config to determine LDFLAGS,  
LAPACK_LIBS and friends, because the flags vary from system to system.

Once you do that, it builds and installs out of the box.

Cheers,
Simon

--- setup.py   2005-09-28 17:49:55.000000000 -0400
+++ setup.py.new    2005-09-28 17:50:06.000000000 -0400
@@ -109,7 +109,7 @@
      elif sys.platform=='darwin':
          include_dirs = [ os.path.join(RHOME.strip(), 'include'),
                           'src' ]
-        libraries=['R','Rlapack']
+        libraries=['R']
          library_dirs= r_libs
          runtime_libs = r_libs
          extra_compile_args=[]


From cdamundsen at gmail.com  Thu Sep 29 04:27:51 2005
From: cdamundsen at gmail.com (Craig Amundsen)
Date: Wed, 28 Sep 2005 19:27:51 -0700
Subject: [R-SIG-Mac] Building R with png and jpeg support
Message-ID: <8dc0c28f05092819271f56c01b@mail.gmail.com>

Hi -

I recently built R 2.1.1 on a machine running 10.3.9. After
configuring (based on the suggested line in the R on Mac FAQ I get the
following summary

  Source directory:          .
  Installation directory:    /Library/Frameworks

  C compiler:                gcc  -g -O2
  C++ compiler:              g++  -g -O2
  Fortran compiler:          g77  -g -O2

  Interfaces supported:      X11, aqua
  External libraries:        readline, BLAS(generic)
  Additional capabilities:   PNG, JPEG, iconv, MBCS, NLS
  Options enabled:           framework, R profiling

  Recommended packages:      yes

Which seems to indicate that I am going to get PNG and JPEG
capabilities. But after making and installing, when I run capabilities
I get this result:

amundsen$ echo "capabilities()" | R --slave
    jpeg      png    tcltk      X11 http/ftp  sockets   libxml     fifo
   FALSE    FALSE    FALSE     TRUE     TRUE     TRUE     TRUE     TRUE
  cledit  IEEE754    iconv
   FALSE     TRUE     TRUE

It seems that I don't have PNG and jpeg capabilities. I have libpng
1.2.8 and jpeg 6b installed in /usr/local/lib and what appear to the
proper headers in /usr/local/include. Is there some step I'm missing
in the build process?

TIA for any wisdom anyone can provide
- Craig


From stefano.iacus at unimi.it  Thu Sep 29 09:59:48 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Thu, 29 Sep 2005 09:59:48 +0200
Subject: [R-SIG-Mac] Building R with png and jpeg support
In-Reply-To: <8dc0c28f05092819271f56c01b@mail.gmail.com>
References: <8dc0c28f05092819271f56c01b@mail.gmail.com>
Message-ID: <6C8540FE-8377-4A41-9828-A41FEBFB612A@unimi.it>

both dll rely on  X11, so to enable capabilities you need to first  
run the X11 window server on your mac and the launch R.
stefano

On 29/set/05, at 04:27, Craig Amundsen wrote:


> Hi -
>
> I recently built R 2.1.1 on a machine running 10.3.9. After
> configuring (based on the suggested line in the R on Mac FAQ I get the
> following summary
>
>   Source directory:          .
>   Installation directory:    /Library/Frameworks
>
>   C compiler:                gcc  -g -O2
>   C++ compiler:              g++  -g -O2
>   Fortran compiler:          g77  -g -O2
>
>   Interfaces supported:      X11, aqua
>   External libraries:        readline, BLAS(generic)
>   Additional capabilities:   PNG, JPEG, iconv, MBCS, NLS
>   Options enabled:           framework, R profiling
>
>   Recommended packages:      yes
>
> Which seems to indicate that I am going to get PNG and JPEG
> capabilities. But after making and installing, when I run capabilities
> I get this result:
>
> amundsen$ echo "capabilities()" | R --slave
>     jpeg      png    tcltk      X11 http/ftp  sockets   libxml      
> fifo
>    FALSE    FALSE    FALSE     TRUE     TRUE     TRUE     TRUE      
> TRUE
>   cledit  IEEE754    iconv
>    FALSE     TRUE     TRUE
>
> It seems that I don't have PNG and jpeg capabilities. I have libpng
> 1.2.8 and jpeg 6b installed in /usr/local/lib and what appear to the
> proper headers in /usr/local/include. Is there some step I'm missing
> in the build process?
>
> TIA for any wisdom anyone can provide
> - Craig
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
>


From chabotd at globetrotter.net  Thu Sep 29 14:36:18 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Thu, 29 Sep 2005 08:36:18 -0400
Subject: [R-SIG-Mac] mgcv
References: <16BF5D41-A476-4552-BAA6-2E2F3BE1FEE9@globetrotter.net>
Message-ID: <13265B2B-07CF-4C19-9CDD-841273220CD0@globetrotter.net>

Hi,

I got no reply to my previous message: the latest version of mgcv is  
not available as a Mac binary on CRAN, and I get an error trying to  
compile it myself. Yet this extract from an answer to a question I  
posted on the general r list shows that I need the newest version,  
1.3-7:

...
Which version of mgcv do you use? The confusion probably stems from  
earlier versions of mgcv (< 1.3-5): the summary and anova methods  
used to have a column denoted Chi.sq even when the displayed  
statistic was computed as F. Recent versions of mgcv has
...

Hoping someone can explain the compiling error below,

Denis

D?but du message r?exp?di? :

> De : Denis Chabot <chabotd at globetrotter.net>
> Date : 16 septembre 2005 09:11:44 HAE
> ? : r-sig-mac at stat.math.ethz.ch
> Objet : mgcv
>
>
> Hi,
>
> Do you know why package mgcv, installed automatically with R (mgcv  
> 1.3-1 is installed with R 2.1.1) does not show up at all when  
> looking for Mac binaries on CRAN? Shouldn't we see v1.3-1 there, at  
> least?
> When looking at sources on CRAN, one sees that 1.3-7 is available.  
> Because 1.3-1 was compiled successfully for Mac, I tried to compile  
> 1.3-7 from within R-gui (1816) and failed. Do you know if a Mac  
> binary will be available soon or else how I can fix the errors  
> indicated below?
>
> Thanks in advance,
>
> Denis Chabot
>
>
>
>
> essai de l'URL 'http://probability.ca/cran/src/contrib/ 
> mgcv_1.3-7.tar.gz'
> Content type 'application/x-tar' length 244885 bytes
> URL ouverte
> ==================================================
> downloaded 239Kb
>
> * Installing *source* package 'mgcv' ...
> ** libs
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
> include  -I/usr/local/include   -fno-common  -g -O2 -c gcv.c -o gcv.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
> include  -I/usr/local/include   -fno-common  -g -O2 -c magic.c -o  
> magic.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
> include  -I/usr/local/include   -fno-common  -g -O2 -c mat.c -o mat.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
> include  -I/usr/local/include   -fno-common  -g -O2 -c matrix.c -o  
> matrix.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
> include  -I/usr/local/include   -fno-common  -g -O2 -c mgcv.c -o  
> mgcv.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
> include  -I/usr/local/include   -fno-common  -g -O2 -c qp.c -o qp.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
> include  -I/usr/local/include   -fno-common  -g -O2 -c tprs.c -o  
> tprs.o
> gcc-3.3 -bundle -flat_namespace -undefined suppress -L/usr/local/ 
> lib -o mgcv.so gcv.o magic.o mat.o matrix.o mgcv.o qp.o tprs.o  - 
> framework vecLib -L/usr/local/lib/gcc/powerpc-apple-darwin6.8/3.4.2  
> -lg2c -lSystem  -framework R
> ld: warning
> The downloaded packages are in
>     /private/tmp/Rtmp8owdFh/downloaded_packages
> multiple definitions of symbol _xerbla_
> /Library/Frameworks/R.framework/R(print.lo) definition of _xerbla_
> /System/Library/Frameworks/Accelerate.framework/Versions/A/ 
> Frameworks/vecLib.framework/Versions/A/libBLAS.dylib(single module)  
> definition of _xerbla_
> ld: warning multiple definitions of symbol _signgam
> /Library/Frameworks/R.framework/R(lgamma.lo) definition of _signgam
> /usr/lib/libSystem.dylib(gamma9.o) definition of _signgam
> ld: gcv.o has external relocation entries in non-writable section  
> (__TEXT,__text) for symbols:
> restFP
> saveFP
> make: *** [mgcv.so] Error 1
> ERROR: compilation failed for package 'mgcv'
> essai de l'URL 'http://probability.ca/cran/bin/macosx/2.1/PACKAGES'
> Content type 'text/plain; charset=iso-8859-1' length 27756 bytes
> URL ouverte
>


From simon.urbanek at r-project.org  Thu Sep 29 16:15:45 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 29 Sep 2005 10:15:45 -0400
Subject: [R-SIG-Mac] mgcv
In-Reply-To: <13265B2B-07CF-4C19-9CDD-841273220CD0@globetrotter.net>
References: <16BF5D41-A476-4552-BAA6-2E2F3BE1FEE9@globetrotter.net>
	<13265B2B-07CF-4C19-9CDD-841273220CD0@globetrotter.net>
Message-ID: <9332B32F-A559-440D-A93B-B5A6B209EA5C@r-project.org>

Denis,

On Sep 29, 2005, at 8:36 AM, Denis Chabot wrote:

> I got no reply to my previous message:

Check the archives, this has been discussed here many times - you  
need to add -lcc_dynamic to your LDFLAGS. There is no most recent  
binary, because R 2.2 will be released next week, so we're building  
for 2.2 now.

Cheers,
Simon


From cdamundsen at gmail.com  Thu Sep 29 16:26:09 2005
From: cdamundsen at gmail.com (Craig Amundsen)
Date: Thu, 29 Sep 2005 07:26:09 -0700
Subject: [R-SIG-Mac] Building R with png and jpeg support
In-Reply-To: <6C8540FE-8377-4A41-9828-A41FEBFB612A@unimi.it>
References: <8dc0c28f05092819271f56c01b@mail.gmail.com>
	<6C8540FE-8377-4A41-9828-A41FEBFB612A@unimi.it>
Message-ID: <8dc0c28f05092907266eb3c102@mail.gmail.com>

Hi -

On 9/29/05, stefano iacus <stefano.iacus at unimi.it> wrote:
> both dll rely on  X11, so to enable capabilities you need to first
> run the X11 window server on your mac and the launch R.
> stefano

Thanks for the reply.

I tried it. If I run an xterm and from its prompt execute
     "capabilities()" | R --slave
jpeg and png are true. If I leave X running and then try it from a
terminal.app window they are false. Is there any way to get them to be
true without executing from inside an xterm? I ask because my overall
plan is to run R from Python via the rpy module where it's all
happening in a CGI. In that situation running from inside an xterm
isn't possible.

- Craig


From chabotd at globetrotter.net  Thu Sep 29 16:51:12 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Thu, 29 Sep 2005 10:51:12 -0400
Subject: [R-SIG-Mac] problem with wiki?
Message-ID: <F34FDDF2-798F-4849-88DD-A659B8B2EB8E@globetrotter.net>

Hi,

I tried to find some information to compile a package. I went to the  
wiki page:
http://wiki.urbanek.info/index.cgi?BuildingForMacOSX

But it is unusable. I tried the latest Safari and fairly recent  
copies of Camino and Firefox, and in all cases I saw raw html. Here  
are the first few lines:

<A HREF="http://dmnft.net/27s-playboy.html">27s playboy<A> <A  
HREF="http://dmnft.net/actress-black-porn.html">actress black porn</ 
A> <A HREF="http://dmnft.net/adult-anime-info-porn- 
remember.html">adult anime info porn remember</A> <A HREF="http:// 
dmnft.net/adult-free-gallery-movie-xxx.html">adult free gallery movie  
xxx</A> <A HREF="http://dmnft.net/amateur-home-porn- 
movie.html">amateur home porn movie</A> <A HREF="http://dmnft.net/ 
amateur-home-sex.html">amateur home sex</A> <A HREF="http://dmnft.net/ 
amateur-mature-sex.html">amateur mature sex</A> <A HREF="http:// 
dmnft.net/amateur-milf-porn-saskia.html">amateur milf porn saskia</A>  
<A HREF="http://dmnft.net/amateur-porn-model.html">amateur porn  
model</A> <A HREF="http://dmnft.net/amateur-porn-movie.html">amateur  
porn movie</A> <A HREF="http://dmnft.net/amateur-porn- 
site.html">amateur porn site</A> <A HREF="http://dmnft.net/amateur- 
porn-trailer.html">amateur porn trailer</A> <A HREF="http://dmnft.net/ 
amateur-porn-tryouts.html">amateur porn tryouts</A> <A HREF="http:// 
dmnft.net/amateur-sex-links.html">amateur sex links</A> <A  
HREF="http://dmnft.net/amateur-sex-reference.html">amateur sex  
reference</A> <A HREF="http://dmnft.net/amateur-sex-web- 
site.html">amateur sex web site</A> <A HREF="http://dmnft.net/anal- 
bead-hardcore-porn.html">anal bead hardcore porn</A> <A HREF="http:// 
dmnft.net/anime-free-info-picture-porn-remember.html">anime free info  
picture porn remember</A> <A HREF="http://dmnft.net/anime-free-info- 
porn-remember-video.html">anime free info porn remember video</A> <A  
HREF="http://dmnft.net/anime-gallery-info-porn-remember.html">anime  
gallery info porn remember</A> <A HREF="http://dmnft.net/anime-gratis- 
info-porn-remember.html">anime gratis info porn remember</A> <A  
HREF="http://dmnft.net/anime-porn-site.html">anime porn site</A> <A  
HREF="http://dmnft.net/anime-porn-vids.html">anime porn vids</A> <A  
HREF="http://dmnft.net/asian-movie-xxx.html">asian movie xxx</A> <A  
HREF="http://dmnft.net/asian-porn.html">asian porn</A> <A  
HREF="http://dmnft.net/asian-porn-star-lesbian.html">asian porn star  
lesbian</A> <A HREF="http://dmnft.net/asian-porn-video.html">asian  
porn video</A> <A HREF="http://dmnft.net/http://dmnft.net/atlanta- 
ebony-escort.html">atlanta ebony

Is there a reason for this?

Thanks for any help,

Denis


From simon.urbanek at r-project.org  Thu Sep 29 18:27:31 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 29 Sep 2005 12:27:31 -0400
Subject: [R-SIG-Mac] problem with wiki?
In-Reply-To: <F34FDDF2-798F-4849-88DD-A659B8B2EB8E@globetrotter.net>
References: <F34FDDF2-798F-4849-88DD-A659B8B2EB8E@globetrotter.net>
Message-ID: <038A6355-5320-475A-9D43-7BE80D16294C@r-project.org>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20050929/0bf65cec/attachment.pl

From sfalcon at fhcrc.org  Thu Sep 29 21:14:14 2005
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Thu, 29 Sep 2005 12:14:14 -0700
Subject: [R-SIG-Mac] Building R with png and jpeg support
In-Reply-To: <8dc0c28f05092907266eb3c102@mail.gmail.com> (Craig Amundsen's
	message of "Thu, 29 Sep 2005 07:26:09 -0700")
References: <8dc0c28f05092819271f56c01b@mail.gmail.com>
	<6C8540FE-8377-4A41-9828-A41FEBFB612A@unimi.it>
	<8dc0c28f05092907266eb3c102@mail.gmail.com>
Message-ID: <m2ll1fd6ux.fsf@macaroni.local>

On 29 Sep 2005, cdamundsen at gmail.com wrote:
> I tried it. If I run an xterm and from its prompt execute
> "capabilities()" | R --slave jpeg and png are true. If I leave X
> running and then try it from a terminal.app window they are
> false. Is there any way to get them to be true without executing
> from inside an xterm? I ask because my overall plan is to run R from
> Python via the rpy module where it's all happening in a CGI. In that
> situation running from inside an xterm isn't possible.

Compare the environment you have in terminal.app with what you have in
an X11 xterm.  You can use the env command, for example.  There may be
other pieces, but I think you need /usr/X11R6/bin in your PATH.

+ seth


From cdamundsen at gmail.com  Thu Sep 29 22:16:07 2005
From: cdamundsen at gmail.com (Craig Amundsen)
Date: Thu, 29 Sep 2005 13:16:07 -0700
Subject: [R-SIG-Mac] Building R with png and jpeg support
In-Reply-To: <m2ll1fd6ux.fsf@macaroni.local>
References: <8dc0c28f05092819271f56c01b@mail.gmail.com>
	<6C8540FE-8377-4A41-9828-A41FEBFB612A@unimi.it>
	<8dc0c28f05092907266eb3c102@mail.gmail.com>
	<m2ll1fd6ux.fsf@macaroni.local>
Message-ID: <8dc0c28f05092913161754fe8b@mail.gmail.com>

Hi -

> Compare the environment you have in terminal.app with what you have in
> an X11 xterm.  You can use the env command, for example.  There may be
> other pieces, but I think you need /usr/X11R6/bin in your PATH.

Thanks for the idea.

The terminal.app environment does lack /usr/X11R6/bin in its path. I
tried adding it, but doing so had no effect on the status of jpeg and
png for R.

- Craig


From simon.urbanek at r-project.org  Thu Sep 29 22:55:05 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 29 Sep 2005 16:55:05 -0400
Subject: [R-SIG-Mac] Building R with png and jpeg support
In-Reply-To: <8dc0c28f05092913161754fe8b@mail.gmail.com>
References: <8dc0c28f05092819271f56c01b@mail.gmail.com>
	<6C8540FE-8377-4A41-9828-A41FEBFB612A@unimi.it>
	<8dc0c28f05092907266eb3c102@mail.gmail.com>
	<m2ll1fd6ux.fsf@macaroni.local>
	<8dc0c28f05092913161754fe8b@mail.gmail.com>
Message-ID: <E23E27AA-6A1B-4E30-8482-8D3CD91DBA2F@r-project.org>

On Sep 29, 2005, at 4:16 PM, Craig Amundsen wrote:

>> Compare the environment you have in terminal.app with what you  
>> have in
>> an X11 xterm.  You can use the env command, for example.  There  
>> may be
>> other pieces, but I think you need /usr/X11R6/bin in your PATH.
>>
>
> Thanks for the idea.
>
> The terminal.app environment does lack /usr/X11R6/bin in its path.  
> I tried adding it, but doing so had no effect on the status of jpeg  
> and png for R.

That wasn't the point - it's highly likely that your DISPLAY is not  
set - start your X11 and try
Sys.putenv(DISPLAY=":0.0")
before running capabilities()

FWIW, since you are building a cgi app, you may consider the GDD  
package which allows you to create png, jpeg, gif etc. plots without  
the need of X11.

Cheers,
Simon


From tlumley at u.washington.edu  Thu Sep 29 23:31:58 2005
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 29 Sep 2005 14:31:58 -0700 (PDT)
Subject: [R-SIG-Mac] Building R with png and jpeg support
In-Reply-To: <8dc0c28f05092913161754fe8b@mail.gmail.com>
References: <8dc0c28f05092819271f56c01b@mail.gmail.com>
	<6C8540FE-8377-4A41-9828-A41FEBFB612A@unimi.it>
	<8dc0c28f05092907266eb3c102@mail.gmail.com>
	<m2ll1fd6ux.fsf@macaroni.local>
	<8dc0c28f05092913161754fe8b@mail.gmail.com>
Message-ID: <Pine.LNX.4.63a.0509291431430.26336@homer23.u.washington.edu>

On Thu, 29 Sep 2005, Craig Amundsen wrote:

>
> The terminal.app environment does lack /usr/X11R6/bin in its path. I
> tried adding it, but doing so had no effect on the status of jpeg and
> png for R.
>

How about DISPLAY?

 	-thomas


From hagenman at gmail.com  Fri Sep 30 20:56:57 2005
From: hagenman at gmail.com (Brett Hagen)
Date: Fri, 30 Sep 2005 13:56:57 -0500
Subject: [R-SIG-Mac] move-if-change error
Message-ID: <d9c3b8740509301156y699f9069oac6c5b46113c977e@mail.gmail.com>

Hello Gentlemen.

I am trying to compile either R-devel or R-2.1.1 on a Tiger box, and i
use the confiuration types listed on the FAQ page, but end up with
this uotput upon make.  Can anyone help me?

making g_alab_her.d from g_alab_her.c
making g_cntrlify.d from g_cntrlify.c
making g_fontdb.d from g_fontdb.c
making g_her_glyph.d from g_her_glyph.c
gcc -no-cpp-precomp -I. -I../../../src/include -I../../../src/include
-I/usr/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c
g_alab_her.c -o g_alab_her.lo
gcc -no-cpp-precomp -I. -I../../../src/include -I../../../src/include
-I/usr/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c
g_cntrlify.c -o g_cntrlify.lo
gcc -no-cpp-precomp -I. -I../../../src/include -I../../../src/include
-I/usr/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c
g_fontdb.c -o g_fontdb.lo
gcc -no-cpp-precomp -I. -I../../../src/include -I../../../src/include
-I/usr/local/include -DHAVE_CONFIG_H  -fno-common  -g -O2 -c
g_her_glyph.c -o g_her_glyph.lo
gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o
vfonts.so  g_alab_her.lo g_cntrlify.lo g_fontdb.lo g_her_glyph.lo
-L../../../lib -lR
mkdir ../../library
building system startup profile
mkdir ../../../library/base
mkdir ../../../library/base/R
building package 'base'
../../../tools/move-if-change: line 15: 24662 Bus error              
mv -f "$1" "$2"
make[3]: *** [all] Error 138
make[2]: *** [R] Error 1
make[1]: *** [R] Error 1
make: *** [R] Error 1


Any help would be greatly appreciated.  Once again, many thanks.

Brett Andrew Hagen
Computer Technician
Statistics Department at Iowa State University


