From simon.urbanek at r-project.org  Mon May  1 17:34:21 2017
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 1 May 2017 11:34:21 -0400
Subject: [R-SIG-Mac] R-3.3.3.pkg not archived after R-3.4.0 release
In-Reply-To: <CAD6tx96=tnhe8KLjpknVEObAvJ-EDV=eoYi6GMPDacEQdh+H9Q@mail.gmail.com>
References: <CAD6tx96=tnhe8KLjpknVEObAvJ-EDV=eoYi6GMPDacEQdh+H9Q@mail.gmail.com>
Message-ID: <E7EC62F5-BFF9-46E8-B87F-1A142C96ED0A@r-project.org>


> On Apr 26, 2017, at 12:16 PM, Jim Hester <james.f.hester at gmail.com> wrote:
> 
> Could R-3.3.3.pkg be moved into the `
> https://cloud.r-project.org/bin/macosx/old/` directory with the other past
> releases? We look for the `.pkg` file for past releases there in the travis
> script, and R-3.3.3 has not been copied there yet. (see also
> https://github.com/travis-ci/travis-ci/issues/7665)
> 

Sure, done. Since 3.3.3 is the latest Mavericks build I have not moved it originally, but I'll keep it symlinked for now.

Maybe we should create some official guidelines - so far pretty much only the location of most recent version is well-defined. Everything else is more a convenience rather than a defined location. The intention was originally for manual download, for automated access it would make sense to actually define reliable location. This all also predated different builds, so I'd rather propose a locatio in the build directories for the canonical location - e.g.
/bin/macosx/el-capitan/base/R-3.4.0.pkg
Would that make sense?

Thanks,
Simon


> Thanks,
> 
> Jim
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From roy.mendelssohn at noaa.gov  Mon May  1 18:15:09 2017
From: roy.mendelssohn at noaa.gov (Roy Mendelssohn - NOAA Federal)
Date: Mon, 1 May 2017 09:15:09 -0700
Subject: [R-SIG-Mac] R3.4.0 Upgrade from R3.3.3
In-Reply-To: <72B4C385-5FCF-4065-95F6-57E23E28CE3D@r-project.org>
References: <A7FF97C6-C7CB-4513-9DC0-4AD41C3197BA@noaa.gov>
 <073E7EFC-03D8-4732-8C02-BF7EE1AF65E7@gmail.com>
 <b02367df-bc7b-cff1-2146-b7f0fdf0e1ca@stats.ox.ac.uk>
 <B2BFED6A-A51C-44CC-8F90-11A6CAFD96AE@noaa.gov>
 <72B4C385-5FCF-4065-95F6-57E23E28CE3D@r-project.org>
Message-ID: <7102E777-E393-4FAC-8158-13DCC60C1CCC@noaa.gov>

I am not getting this.   In the drop down box where it usually defaults to CRAN (binaries)  what do I select.  I tried pasting in exactly what u=you said and don't get anything back.

Thanks for any help.

-Roy


> On Apr 23, 2017, at 5:16 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> Note that if you use R.app and standard locations you can simply select "Select packages from R 3.3" in the package installer search box and hit Install Selected.
> 
> Cheers,
> Simon
> 
> 
> 
>> On Apr 23, 2017, at 10:47 AM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>> 
>> Thanks to all, particularly the script to aid in the update.  In the past when I just copied,  I had problems with some packages.
>> 
>> -Roy
>> 
>>> On Apr 23, 2017, at 7:09 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>> 
>>> Note that at the moment there are many missing binary packages for 3.4.0, and BioC will update all their versions when BioC 3.5 is released this coming week.  So I would wait a few days before updating, especially if you prefer to use binary packages.
>>> 
>>>> nrow(available.packages(, type="source"))
>>> [1] 10477
>>>> nrow(available.packages(, type="binary"))
>>> [1] 9779
>>> 
>>> whereas for 3.3.3 10356 are available.
>>> 
>>> On 23/04/2017 09:35, peter dalgaard wrote:
>>>> Yes, especially this time, since the toolchain has been updated.
>>>> My favourite procedure for this goes like
>>>> (pkgs <- .libPaths())
>>>> (pkgs.old <- sub("3.4", "3.3", pkgs, fixed=TRUE))
>>>> (pkgs.new <- setdiff(list.files(pkgs.old), list.files(pkgs)))
>>>> Check for sanity(!), then install.packages(pkgs.new). Things may need modification if yor setup involves personalized libraries, multiple repos, etc.
>>>> Just copying the entire directory followed by update.packages(checkBuilt=TRUE) will overwrite packages from the installation of 3.4 and not all of those are CRAN based.
>>>> [To tell the truth, I don't usually practice what I preach. I just install the missing packages when it turns out that I need them...]
>>>> -pd
>>>>> On 23 Apr 2017, at 05:49 , Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>>>> 
>>>>> I keep forgetting.  So if I jump from R3.3.3 to R3.4.0 is it necessary (or at least advisable) to re-install packages?
>>>>> 
>>>>> Thanks,
>>>>> 
>>>>> -Roy
>>> 
>>> 
>>> -- 
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Emeritus Professor of Applied Statistics, University of Oxford
>> 
>> **********************
>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>> **********************
>> Roy Mendelssohn
>> Supervisory Operations Research Analyst
>> NOAA/NMFS
>> Environmental Research Division
>> Southwest Fisheries Science Center
>> ***Note new street address***
>> 110 McAllister Way
>> Santa Cruz, CA 95060
>> Phone: (831)-420-3666
>> Fax: (831) 420-3980
>> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>> 
>> "Old age and treachery will overcome youth and skill."
>> "From those who have been given much, much will be expected" 
>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new street address***
110 McAllister Way
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From roy.mendelssohn at noaa.gov  Mon May  1 19:51:30 2017
From: roy.mendelssohn at noaa.gov (Roy Mendelssohn - NOAA Federal)
Date: Mon, 1 May 2017 10:51:30 -0700
Subject: [R-SIG-Mac] R3.4.0 Upgrade from R3.3.3
In-Reply-To: <7102E777-E393-4FAC-8158-13DCC60C1CCC@noaa.gov>
References: <A7FF97C6-C7CB-4513-9DC0-4AD41C3197BA@noaa.gov>
 <073E7EFC-03D8-4732-8C02-BF7EE1AF65E7@gmail.com>
 <b02367df-bc7b-cff1-2146-b7f0fdf0e1ca@stats.ox.ac.uk>
 <B2BFED6A-A51C-44CC-8F90-11A6CAFD96AE@noaa.gov>
 <72B4C385-5FCF-4065-95F6-57E23E28CE3D@r-project.org>
 <7102E777-E393-4FAC-8158-13DCC60C1CCC@noaa.gov>
Message-ID: <58CC3BBB-2850-41AD-9EB2-C5FD11378B24@noaa.gov>

Ignore the previous email.  I was having permission problems, got it to work.

-Roy

> On May 1, 2017, at 9:15 AM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
> 
> I am not getting this.   In the drop down box where it usually defaults to CRAN (binaries)  what do I select.  I tried pasting in exactly what u=you said and don't get anything back.
> 
> Thanks for any help.
> 
> -Roy
> 
> 
>> On Apr 23, 2017, at 5:16 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> 
>> Note that if you use R.app and standard locations you can simply select "Select packages from R 3.3" in the package installer search box and hit Install Selected.
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>> On Apr 23, 2017, at 10:47 AM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>> 
>>> Thanks to all, particularly the script to aid in the update.  In the past when I just copied,  I had problems with some packages.
>>> 
>>> -Roy
>>> 
>>>> On Apr 23, 2017, at 7:09 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>>> 
>>>> Note that at the moment there are many missing binary packages for 3.4.0, and BioC will update all their versions when BioC 3.5 is released this coming week.  So I would wait a few days before updating, especially if you prefer to use binary packages.
>>>> 
>>>>> nrow(available.packages(, type="source"))
>>>> [1] 10477
>>>>> nrow(available.packages(, type="binary"))
>>>> [1] 9779
>>>> 
>>>> whereas for 3.3.3 10356 are available.
>>>> 
>>>> On 23/04/2017 09:35, peter dalgaard wrote:
>>>>> Yes, especially this time, since the toolchain has been updated.
>>>>> My favourite procedure for this goes like
>>>>> (pkgs <- .libPaths())
>>>>> (pkgs.old <- sub("3.4", "3.3", pkgs, fixed=TRUE))
>>>>> (pkgs.new <- setdiff(list.files(pkgs.old), list.files(pkgs)))
>>>>> Check for sanity(!), then install.packages(pkgs.new). Things may need modification if yor setup involves personalized libraries, multiple repos, etc.
>>>>> Just copying the entire directory followed by update.packages(checkBuilt=TRUE) will overwrite packages from the installation of 3.4 and not all of those are CRAN based.
>>>>> [To tell the truth, I don't usually practice what I preach. I just install the missing packages when it turns out that I need them...]
>>>>> -pd
>>>>>> On 23 Apr 2017, at 05:49 , Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>>>>> 
>>>>>> I keep forgetting.  So if I jump from R3.3.3 to R3.4.0 is it necessary (or at least advisable) to re-install packages?
>>>>>> 
>>>>>> Thanks,
>>>>>> 
>>>>>> -Roy
>>>> 
>>>> 
>>>> -- 
>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>> Emeritus Professor of Applied Statistics, University of Oxford
>>> 
>>> **********************
>>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>>> **********************
>>> Roy Mendelssohn
>>> Supervisory Operations Research Analyst
>>> NOAA/NMFS
>>> Environmental Research Division
>>> Southwest Fisheries Science Center
>>> ***Note new street address***
>>> 110 McAllister Way
>>> Santa Cruz, CA 95060
>>> Phone: (831)-420-3666
>>> Fax: (831) 420-3980
>>> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>>> 
>>> "Old age and treachery will overcome youth and skill."
>>> "From those who have been given much, much will be expected" 
>>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
> 
> **********************
> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
> **********************
> Roy Mendelssohn
> Supervisory Operations Research Analyst
> NOAA/NMFS
> Environmental Research Division
> Southwest Fisheries Science Center
> ***Note new street address***
> 110 McAllister Way
> Santa Cruz, CA 95060
> Phone: (831)-420-3666
> Fax: (831) 420-3980
> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
> 
> "Old age and treachery will overcome youth and skill."
> "From those who have been given much, much will be expected" 
> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
> 

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new street address***
110 McAllister Way
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From hanson at depauw.edu  Mon May  1 20:19:16 2017
From: hanson at depauw.edu (Bryan Hanson)
Date: Mon, 1 May 2017 14:19:16 -0400
Subject: [R-SIG-Mac] R3.4.0 Upgrade from R3.3.3
In-Reply-To: <58CC3BBB-2850-41AD-9EB2-C5FD11378B24@noaa.gov>
References: <A7FF97C6-C7CB-4513-9DC0-4AD41C3197BA@noaa.gov>
 <073E7EFC-03D8-4732-8C02-BF7EE1AF65E7@gmail.com>
 <b02367df-bc7b-cff1-2146-b7f0fdf0e1ca@stats.ox.ac.uk>
 <B2BFED6A-A51C-44CC-8F90-11A6CAFD96AE@noaa.gov>
 <72B4C385-5FCF-4065-95F6-57E23E28CE3D@r-project.org>
 <7102E777-E393-4FAC-8158-13DCC60C1CCC@noaa.gov>
 <58CC3BBB-2850-41AD-9EB2-C5FD11378B24@noaa.gov>
Message-ID: <AD9A905A-1A2D-40B2-8CA6-5A75C594DF56@depauw.edu>

Roy, I?m interested in how you got it to work.  Can you elaborate? What do you select from where, and how did permissions affect what you see?  Thanks, Bryan


> On May 1, 2017, at 1:51 PM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
> 
> Ignore the previous email.  I was having permission problems, got it to work.
> 
> -Roy
> 
>> On May 1, 2017, at 9:15 AM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>> 
>> I am not getting this.   In the drop down box where it usually defaults to CRAN (binaries)  what do I select.  I tried pasting in exactly what u=you said and don't get anything back.
>> 
>> Thanks for any help.
>> 
>> -Roy
>> 
>> 
>>> On Apr 23, 2017, at 5:16 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>> 
>>> Note that if you use R.app and standard locations you can simply select "Select packages from R 3.3" in the package installer search box and hit Install Selected.
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>> 
>>>> On Apr 23, 2017, at 10:47 AM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>>> 
>>>> Thanks to all, particularly the script to aid in the update.  In the past when I just copied,  I had problems with some packages.
>>>> 
>>>> -Roy
>>>> 
>>>>> On Apr 23, 2017, at 7:09 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>>>> 
>>>>> Note that at the moment there are many missing binary packages for 3.4.0, and BioC will update all their versions when BioC 3.5 is released this coming week.  So I would wait a few days before updating, especially if you prefer to use binary packages.
>>>>> 
>>>>>> nrow(available.packages(, type="source"))
>>>>> [1] 10477
>>>>>> nrow(available.packages(, type="binary"))
>>>>> [1] 9779
>>>>> 
>>>>> whereas for 3.3.3 10356 are available.
>>>>> 
>>>>> On 23/04/2017 09:35, peter dalgaard wrote:
>>>>>> Yes, especially this time, since the toolchain has been updated.
>>>>>> My favourite procedure for this goes like
>>>>>> (pkgs <- .libPaths())
>>>>>> (pkgs.old <- sub("3.4", "3.3", pkgs, fixed=TRUE))
>>>>>> (pkgs.new <- setdiff(list.files(pkgs.old), list.files(pkgs)))
>>>>>> Check for sanity(!), then install.packages(pkgs.new). Things may need modification if yor setup involves personalized libraries, multiple repos, etc.
>>>>>> Just copying the entire directory followed by update.packages(checkBuilt=TRUE) will overwrite packages from the installation of 3.4 and not all of those are CRAN based.
>>>>>> [To tell the truth, I don't usually practice what I preach. I just install the missing packages when it turns out that I need them...]
>>>>>> -pd
>>>>>>> On 23 Apr 2017, at 05:49 , Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>>>>>> 
>>>>>>> I keep forgetting.  So if I jump from R3.3.3 to R3.4.0 is it necessary (or at least advisable) to re-install packages?
>>>>>>> 
>>>>>>> Thanks,
>>>>>>> 
>>>>>>> -Roy
>>>>> 
>>>>> 
>>>>> -- 
>>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>>> Emeritus Professor of Applied Statistics, University of Oxford
>>>> 
>>>> **********************
>>>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>>>> **********************
>>>> Roy Mendelssohn
>>>> Supervisory Operations Research Analyst
>>>> NOAA/NMFS
>>>> Environmental Research Division
>>>> Southwest Fisheries Science Center
>>>> ***Note new street address***
>>>> 110 McAllister Way
>>>> Santa Cruz, CA 95060
>>>> Phone: (831)-420-3666
>>>> Fax: (831) 420-3980
>>>> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>>>> 
>>>> "Old age and treachery will overcome youth and skill."
>>>> "From those who have been given much, much will be expected" 
>>>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>> 
>> **********************
>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>> **********************
>> Roy Mendelssohn
>> Supervisory Operations Research Analyst
>> NOAA/NMFS
>> Environmental Research Division
>> Southwest Fisheries Science Center
>> ***Note new street address***
>> 110 McAllister Way
>> Santa Cruz, CA 95060
>> Phone: (831)-420-3666
>> Fax: (831) 420-3980
>> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>> 
>> "Old age and treachery will overcome youth and skill."
>> "From those who have been given much, much will be expected" 
>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>> 
> 
> **********************
> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
> **********************
> Roy Mendelssohn
> Supervisory Operations Research Analyst
> NOAA/NMFS
> Environmental Research Division
> Southwest Fisheries Science Center
> ***Note new street address***
> 110 McAllister Way
> Santa Cruz, CA 95060
> Phone: (831)-420-3666
> Fax: (831) 420-3980
> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
> 
> "Old age and treachery will overcome youth and skill."
> "From those who have been given much, much will be expected" 
> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From roy.mendelssohn at noaa.gov  Mon May  1 20:31:24 2017
From: roy.mendelssohn at noaa.gov (Roy Mendelssohn - NOAA Federal)
Date: Mon, 1 May 2017 11:31:24 -0700
Subject: [R-SIG-Mac] R3.4.0 Upgrade from R3.3.3
In-Reply-To: <AD9A905A-1A2D-40B2-8CA6-5A75C594DF56@depauw.edu>
References: <A7FF97C6-C7CB-4513-9DC0-4AD41C3197BA@noaa.gov>
 <073E7EFC-03D8-4732-8C02-BF7EE1AF65E7@gmail.com>
 <b02367df-bc7b-cff1-2146-b7f0fdf0e1ca@stats.ox.ac.uk>
 <B2BFED6A-A51C-44CC-8F90-11A6CAFD96AE@noaa.gov>
 <72B4C385-5FCF-4065-95F6-57E23E28CE3D@r-project.org>
 <7102E777-E393-4FAC-8158-13DCC60C1CCC@noaa.gov>
 <58CC3BBB-2850-41AD-9EB2-C5FD11378B24@noaa.gov>
 <AD9A905A-1A2D-40B2-8CA6-5A75C594DF56@depauw.edu>
Message-ID: <B6AA70A9-EB74-4E16-9C0E-1EA3627A4080@noaa.gov>

Hi Bryan:

What you need to do is launch R-app and select the "Package Installer"  GUI.  Let the usual list of CRAN binaries come up.  The search field to the upper right has a drop down menu if you look closely,  and one option is to "Select packages from R 3.3" , chose that.  You think that this will appear in the search box,  instead if you look closely you will see that those packages have indeed been selected in the list of packages.  Then hit "Install Selected" and it will go.

The main problem I had was more and more they are bricking our computers.  I still have R in /LIbrary/Frameworks/R,  and my regular user does not have access to that.  I had to go in as an admin user,  which in my case takes some work  (you don't want  to know),  and then it all worked fine.

HTH,

-Roy



> On May 1, 2017, at 11:19 AM, Bryan Hanson <hanson at depauw.edu> wrote:
> 
> Roy, I?m interested in how you got it to work.  Can you elaborate? What do you select from where, and how did permissions affect what you see?  Thanks, Bryan
> 
> 
>> On May 1, 2017, at 1:51 PM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>> 
>> Ignore the previous email.  I was having permission problems, got it to work.
>> 
>> -Roy
>> 
>>> On May 1, 2017, at 9:15 AM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>> 
>>> I am not getting this.   In the drop down box where it usually defaults to CRAN (binaries)  what do I select.  I tried pasting in exactly what u=you said and don't get anything back.
>>> 
>>> Thanks for any help.
>>> 
>>> -Roy
>>> 
>>> 
>>>> On Apr 23, 2017, at 5:16 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>>> 
>>>> Note that if you use R.app and standard locations you can simply select "Select packages from R 3.3" in the package installer search box and hit Install Selected.
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>> 
>>>>> On Apr 23, 2017, at 10:47 AM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>>>> 
>>>>> Thanks to all, particularly the script to aid in the update.  In the past when I just copied,  I had problems with some packages.
>>>>> 
>>>>> -Roy
>>>>> 
>>>>>> On Apr 23, 2017, at 7:09 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>>>>> 
>>>>>> Note that at the moment there are many missing binary packages for 3.4.0, and BioC will update all their versions when BioC 3.5 is released this coming week.  So I would wait a few days before updating, especially if you prefer to use binary packages.
>>>>>> 
>>>>>>> nrow(available.packages(, type="source"))
>>>>>> [1] 10477
>>>>>>> nrow(available.packages(, type="binary"))
>>>>>> [1] 9779
>>>>>> 
>>>>>> whereas for 3.3.3 10356 are available.
>>>>>> 
>>>>>> On 23/04/2017 09:35, peter dalgaard wrote:
>>>>>>> Yes, especially this time, since the toolchain has been updated.
>>>>>>> My favourite procedure for this goes like
>>>>>>> (pkgs <- .libPaths())
>>>>>>> (pkgs.old <- sub("3.4", "3.3", pkgs, fixed=TRUE))
>>>>>>> (pkgs.new <- setdiff(list.files(pkgs.old), list.files(pkgs)))
>>>>>>> Check for sanity(!), then install.packages(pkgs.new). Things may need modification if yor setup involves personalized libraries, multiple repos, etc.
>>>>>>> Just copying the entire directory followed by update.packages(checkBuilt=TRUE) will overwrite packages from the installation of 3.4 and not all of those are CRAN based.
>>>>>>> [To tell the truth, I don't usually practice what I preach. I just install the missing packages when it turns out that I need them...]
>>>>>>> -pd
>>>>>>>> On 23 Apr 2017, at 05:49 , Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>>>>>>> 
>>>>>>>> I keep forgetting.  So if I jump from R3.3.3 to R3.4.0 is it necessary (or at least advisable) to re-install packages?
>>>>>>>> 
>>>>>>>> Thanks,
>>>>>>>> 
>>>>>>>> -Roy
>>>>>> 
>>>>>> 
>>>>>> -- 
>>>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>>>> Emeritus Professor of Applied Statistics, University of Oxford
>>>>> 
>>>>> **********************
>>>>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>>>>> **********************
>>>>> Roy Mendelssohn
>>>>> Supervisory Operations Research Analyst
>>>>> NOAA/NMFS
>>>>> Environmental Research Division
>>>>> Southwest Fisheries Science Center
>>>>> ***Note new street address***
>>>>> 110 McAllister Way
>>>>> Santa Cruz, CA 95060
>>>>> Phone: (831)-420-3666
>>>>> Fax: (831) 420-3980
>>>>> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>>>>> 
>>>>> "Old age and treachery will overcome youth and skill."
>>>>> "From those who have been given much, much will be expected" 
>>>>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>> 
>>> 
>>> **********************
>>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>>> **********************
>>> Roy Mendelssohn
>>> Supervisory Operations Research Analyst
>>> NOAA/NMFS
>>> Environmental Research Division
>>> Southwest Fisheries Science Center
>>> ***Note new street address***
>>> 110 McAllister Way
>>> Santa Cruz, CA 95060
>>> Phone: (831)-420-3666
>>> Fax: (831) 420-3980
>>> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>>> 
>>> "Old age and treachery will overcome youth and skill."
>>> "From those who have been given much, much will be expected" 
>>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>>> 
>> 
>> **********************
>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>> **********************
>> Roy Mendelssohn
>> Supervisory Operations Research Analyst
>> NOAA/NMFS
>> Environmental Research Division
>> Southwest Fisheries Science Center
>> ***Note new street address***
>> 110 McAllister Way
>> Santa Cruz, CA 95060
>> Phone: (831)-420-3666
>> Fax: (831) 420-3980
>> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>> 
>> "Old age and treachery will overcome youth and skill."
>> "From those who have been given much, much will be expected" 
>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new street address***
110 McAllister Way
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From hanson at depauw.edu  Mon May  1 20:39:02 2017
From: hanson at depauw.edu (Bryan Hanson)
Date: Mon, 1 May 2017 14:39:02 -0400
Subject: [R-SIG-Mac] R3.4.0 Upgrade from R3.3.3
In-Reply-To: <B6AA70A9-EB74-4E16-9C0E-1EA3627A4080@noaa.gov>
References: <A7FF97C6-C7CB-4513-9DC0-4AD41C3197BA@noaa.gov>
 <073E7EFC-03D8-4732-8C02-BF7EE1AF65E7@gmail.com>
 <b02367df-bc7b-cff1-2146-b7f0fdf0e1ca@stats.ox.ac.uk>
 <B2BFED6A-A51C-44CC-8F90-11A6CAFD96AE@noaa.gov>
 <72B4C385-5FCF-4065-95F6-57E23E28CE3D@r-project.org>
 <7102E777-E393-4FAC-8158-13DCC60C1CCC@noaa.gov>
 <58CC3BBB-2850-41AD-9EB2-C5FD11378B24@noaa.gov>
 <AD9A905A-1A2D-40B2-8CA6-5A75C594DF56@depauw.edu>
 <B6AA70A9-EB74-4E16-9C0E-1EA3627A4080@noaa.gov>
Message-ID: <611789AD-47BC-453D-A1AA-3995083D6606@depauw.edu>

Got it ? the search box drop down menu is sort of non-standard I guess, you have to click in just the right place to see it (left edge of box, no up down arrow icon like on the repo selection).  I?ve missed this for nearly 10 years!

Thanks for the details Roy.

Bryan

> On May 1, 2017, at 2:31 PM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
> 
> Hi Bryan:
> 
> What you need to do is launch R-app and select the "Package Installer"  GUI.  Let the usual list of CRAN binaries come up.  The search field to the upper right has a drop down menu if you look closely,  and one option is to "Select packages from R 3.3" , chose that.  You think that this will appear in the search box,  instead if you look closely you will see that those packages have indeed been selected in the list of packages.  Then hit "Install Selected" and it will go.
> 
> The main problem I had was more and more they are bricking our computers.  I still have R in /LIbrary/Frameworks/R,  and my regular user does not have access to that.  I had to go in as an admin user,  which in my case takes some work  (you don't want  to know),  and then it all worked fine.
> 
> HTH,
> 
> -Roy
> 
> 
> 
>> On May 1, 2017, at 11:19 AM, Bryan Hanson <hanson at depauw.edu> wrote:
>> 
>> Roy, I?m interested in how you got it to work.  Can you elaborate? What do you select from where, and how did permissions affect what you see?  Thanks, Bryan
>> 
>> 
>>> On May 1, 2017, at 1:51 PM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>> 
>>> Ignore the previous email.  I was having permission problems, got it to work.
>>> 
>>> -Roy
>>> 
>>>> On May 1, 2017, at 9:15 AM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>>> 
>>>> I am not getting this.   In the drop down box where it usually defaults to CRAN (binaries)  what do I select.  I tried pasting in exactly what u=you said and don't get anything back.
>>>> 
>>>> Thanks for any help.
>>>> 
>>>> -Roy
>>>> 
>>>> 
>>>>> On Apr 23, 2017, at 5:16 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>>>> 
>>>>> Note that if you use R.app and standard locations you can simply select "Select packages from R 3.3" in the package installer search box and hit Install Selected.
>>>>> 
>>>>> Cheers,
>>>>> Simon
>>>>> 
>>>>> 
>>>>> 
>>>>>> On Apr 23, 2017, at 10:47 AM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>>>>> 
>>>>>> Thanks to all, particularly the script to aid in the update.  In the past when I just copied,  I had problems with some packages.
>>>>>> 
>>>>>> -Roy
>>>>>> 
>>>>>>> On Apr 23, 2017, at 7:09 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>>>>>> 
>>>>>>> Note that at the moment there are many missing binary packages for 3.4.0, and BioC will update all their versions when BioC 3.5 is released this coming week.  So I would wait a few days before updating, especially if you prefer to use binary packages.
>>>>>>> 
>>>>>>>> nrow(available.packages(, type="source"))
>>>>>>> [1] 10477
>>>>>>>> nrow(available.packages(, type="binary"))
>>>>>>> [1] 9779
>>>>>>> 
>>>>>>> whereas for 3.3.3 10356 are available.
>>>>>>> 
>>>>>>> On 23/04/2017 09:35, peter dalgaard wrote:
>>>>>>>> Yes, especially this time, since the toolchain has been updated.
>>>>>>>> My favourite procedure for this goes like
>>>>>>>> (pkgs <- .libPaths())
>>>>>>>> (pkgs.old <- sub("3.4", "3.3", pkgs, fixed=TRUE))
>>>>>>>> (pkgs.new <- setdiff(list.files(pkgs.old), list.files(pkgs)))
>>>>>>>> Check for sanity(!), then install.packages(pkgs.new). Things may need modification if yor setup involves personalized libraries, multiple repos, etc.
>>>>>>>> Just copying the entire directory followed by update.packages(checkBuilt=TRUE) will overwrite packages from the installation of 3.4 and not all of those are CRAN based.
>>>>>>>> [To tell the truth, I don't usually practice what I preach. I just install the missing packages when it turns out that I need them...]
>>>>>>>> -pd
>>>>>>>>> On 23 Apr 2017, at 05:49 , Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>>>>>>>> 
>>>>>>>>> I keep forgetting.  So if I jump from R3.3.3 to R3.4.0 is it necessary (or at least advisable) to re-install packages?
>>>>>>>>> 
>>>>>>>>> Thanks,
>>>>>>>>> 
>>>>>>>>> -Roy
>>>>>>> 
>>>>>>> 
>>>>>>> -- 
>>>>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>>>>> Emeritus Professor of Applied Statistics, University of Oxford
>>>>>> 
>>>>>> **********************
>>>>>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>>>>>> **********************
>>>>>> Roy Mendelssohn
>>>>>> Supervisory Operations Research Analyst
>>>>>> NOAA/NMFS
>>>>>> Environmental Research Division
>>>>>> Southwest Fisheries Science Center
>>>>>> ***Note new street address***
>>>>>> 110 McAllister Way
>>>>>> Santa Cruz, CA 95060
>>>>>> Phone: (831)-420-3666
>>>>>> Fax: (831) 420-3980
>>>>>> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>>>>>> 
>>>>>> "Old age and treachery will overcome youth and skill."
>>>>>> "From those who have been given much, much will be expected" 
>>>>>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>> 
>>>> 
>>>> **********************
>>>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>>>> **********************
>>>> Roy Mendelssohn
>>>> Supervisory Operations Research Analyst
>>>> NOAA/NMFS
>>>> Environmental Research Division
>>>> Southwest Fisheries Science Center
>>>> ***Note new street address***
>>>> 110 McAllister Way
>>>> Santa Cruz, CA 95060
>>>> Phone: (831)-420-3666
>>>> Fax: (831) 420-3980
>>>> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>>>> 
>>>> "Old age and treachery will overcome youth and skill."
>>>> "From those who have been given much, much will be expected" 
>>>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>>>> 
>>> 
>>> **********************
>>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>>> **********************
>>> Roy Mendelssohn
>>> Supervisory Operations Research Analyst
>>> NOAA/NMFS
>>> Environmental Research Division
>>> Southwest Fisheries Science Center
>>> ***Note new street address***
>>> 110 McAllister Way
>>> Santa Cruz, CA 95060
>>> Phone: (831)-420-3666
>>> Fax: (831) 420-3980
>>> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>>> 
>>> "Old age and treachery will overcome youth and skill."
>>> "From those who have been given much, much will be expected" 
>>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> **********************
> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
> **********************
> Roy Mendelssohn
> Supervisory Operations Research Analyst
> NOAA/NMFS
> Environmental Research Division
> Southwest Fisheries Science Center
> ***Note new street address***
> 110 McAllister Way
> Santa Cruz, CA 95060
> Phone: (831)-420-3666
> Fax: (831) 420-3980
> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
> 
> "Old age and treachery will overcome youth and skill."
> "From those who have been given much, much will be expected" 
> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
> 


From james.f.hester at gmail.com  Mon May  1 21:27:32 2017
From: james.f.hester at gmail.com (Jim Hester)
Date: Mon, 1 May 2017 15:27:32 -0400
Subject: [R-SIG-Mac] R-3.3.3.pkg not archived after R-3.4.0 release
In-Reply-To: <E7EC62F5-BFF9-46E8-B87F-1A142C96ED0A@r-project.org>
References: <CAD6tx96=tnhe8KLjpknVEObAvJ-EDV=eoYi6GMPDacEQdh+H9Q@mail.gmail.com>
 <E7EC62F5-BFF9-46E8-B87F-1A142C96ED0A@r-project.org>
Message-ID: <CAD6tx95B9mZSVbLmBox43yBrtf=kunRsZcOhinKJBi=Cnn55vQ@mail.gmail.com>

Having a more reliable location for this is would be great, your
proposed location sounds fine to me.

Thanks for looking into this!

Jim

On Mon, May 1, 2017 at 11:34 AM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
>> On Apr 26, 2017, at 12:16 PM, Jim Hester <james.f.hester at gmail.com> wrote:
>>
>> Could R-3.3.3.pkg be moved into the `
>> https://cloud.r-project.org/bin/macosx/old/` directory with the other past
>> releases? We look for the `.pkg` file for past releases there in the travis
>> script, and R-3.3.3 has not been copied there yet. (see also
>> https://github.com/travis-ci/travis-ci/issues/7665)
>>
>
> Sure, done. Since 3.3.3 is the latest Mavericks build I have not moved it originally, but I'll keep it symlinked for now.
>
> Maybe we should create some official guidelines - so far pretty much only the location of most recent version is well-defined. Everything else is more a convenience rather than a defined location. The intention was originally for manual download, for automated access it would make sense to actually define reliable location. This all also predated different builds, so I'd rather propose a locatio in the build directories for the canonical location - e.g.
> /bin/macosx/el-capitan/base/R-3.4.0.pkg
> Would that make sense?
>
> Thanks,
> Simon
>
>
>> Thanks,
>>
>> Jim
>>
>>       [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>


From roy.mendelssohn at noaa.gov  Tue May  2 02:21:30 2017
From: roy.mendelssohn at noaa.gov (Roy Mendelssohn - NOAA Federal)
Date: Mon, 1 May 2017 17:21:30 -0700
Subject: [R-SIG-Mac] RSwitch question
Message-ID: <76C5AB4D-6AEA-4F58-8E9F-1C4F2F705BFE@noaa.gov>

Because of the way my  computer is required to be set up,  RSwitch won't work unless I switch users and switch back.  Is there a way to do this by hand  (i.e. is it doing anything more than redefining where the "Current" pointer points to inside the R.Framework.  Being able to do the same thing by hand or through the terminal  (where I can switch users without logging out) would be great.

Thanks for any help.

-Roy



**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new street address***
110 McAllister Way
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From simon.urbanek at r-project.org  Wed May  3 23:40:59 2017
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 3 May 2017 17:40:59 -0400
Subject: [R-SIG-Mac] RSwitch question
In-Reply-To: <76C5AB4D-6AEA-4F58-8E9F-1C4F2F705BFE@noaa.gov>
References: <76C5AB4D-6AEA-4F58-8E9F-1C4F2F705BFE@noaa.gov>
Message-ID: <7AA80F07-E4F1-4968-AE94-36861F822A08@r-project.org>

No, it's really just modifying the symlink* so 

ln -sfn 3.4 /Library/Frameworks/R.framework/Versions/Current

and replace 3.4 with any other version you have installed.

Cheers,
Simon

* - tableViewSelectionDidChange: in https://svn.rforge.net/osx/trunk/RSwitch/SwitchCtrl.m



> On May 1, 2017, at 8:21 PM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
> 
> Because of the way my  computer is required to be set up,  RSwitch won't work unless I switch users and switch back.  Is there a way to do this by hand  (i.e. is it doing anything more than redefining where the "Current" pointer points to inside the R.Framework.  Being able to do the same thing by hand or through the terminal  (where I can switch users without logging out) would be great.
> 
> Thanks for any help.
> 
> -Roy
> 
> 
> 
> **********************
> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
> **********************
> Roy Mendelssohn
> Supervisory Operations Research Analyst
> NOAA/NMFS
> Environmental Research Division
> Southwest Fisheries Science Center
> ***Note new street address***
> 110 McAllister Way
> Santa Cruz, CA 95060
> Phone: (831)-420-3666
> Fax: (831) 420-3980
> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
> 
> "Old age and treachery will overcome youth and skill."
> "From those who have been given much, much will be expected" 
> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From roy.mendelssohn at noaa.gov  Thu May  4 00:02:10 2017
From: roy.mendelssohn at noaa.gov (Roy Mendelssohn - NOAA Federal)
Date: Wed, 3 May 2017 15:02:10 -0700
Subject: [R-SIG-Mac] RSwitch question
In-Reply-To: <7AA80F07-E4F1-4968-AE94-36861F822A08@r-project.org>
References: <76C5AB4D-6AEA-4F58-8E9F-1C4F2F705BFE@noaa.gov>
 <7AA80F07-E4F1-4968-AE94-36861F822A08@r-project.org>
Message-ID: <E0D026FF-8A48-4A7B-B037-86597A68BFB1@noaa.gov>

thanks.

-roy
> On May 3, 2017, at 2:40 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> No, it's really just modifying the symlink* so 
> 
> ln -sfn 3.4 /Library/Frameworks/R.framework/Versions/Current
> 
> and replace 3.4 with any other version you have installed.
> 
> Cheers,
> Simon
> 
> * - tableViewSelectionDidChange: in https://svn.rforge.net/osx/trunk/RSwitch/SwitchCtrl.m
> 
> 
> 
>> On May 1, 2017, at 8:21 PM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>> 
>> Because of the way my  computer is required to be set up,  RSwitch won't work unless I switch users and switch back.  Is there a way to do this by hand  (i.e. is it doing anything more than redefining where the "Current" pointer points to inside the R.Framework.  Being able to do the same thing by hand or through the terminal  (where I can switch users without logging out) would be great.
>> 
>> Thanks for any help.
>> 
>> -Roy
>> 
>> 
>> 
>> **********************
>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>> **********************
>> Roy Mendelssohn
>> Supervisory Operations Research Analyst
>> NOAA/NMFS
>> Environmental Research Division
>> Southwest Fisheries Science Center
>> ***Note new street address***
>> 110 McAllister Way
>> Santa Cruz, CA 95060
>> Phone: (831)-420-3666
>> Fax: (831) 420-3980
>> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>> 
>> "Old age and treachery will overcome youth and skill."
>> "From those who have been given much, much will be expected" 
>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new street address***
110 McAllister Way
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From dwinsemius at comcast.net  Fri May  5 03:12:34 2017
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 4 May 2017 18:12:34 -0700
Subject: [R-SIG-Mac] missing module when compiling R pkg:rms or external
	package SYMPHONY (in support of Bioc pkg symphony)
Message-ID: <3D589252-6538-4060-9D48-F4B73E708A39@comcast.net>

Failing to get current rms package to compile (and appears that the CRAN build machine fails as well). The penultimate version of rms succeeds.

Both from console and cmd-line I get this response in R 3.4.0 (just installed today) running El Cap 10.11.6 with Xcode Version 8.2.1 (8C1002):

trying URL 'https://cran.cnr.berkeley.edu/src/contrib/rms_5.1-1.tar.gz'
Content type 'application/x-gzip' length 521311 bytes (509 KB)
==================================================
downloaded 509 KB

Loading required package: lattice
Loading required package: sos
Loading required package: brew
Loading required package: rms
Loading required package: Hmisc
Loading required package: survival
Loading required package: Formula
Loading required package: stats
Loading required package: ggplot2

Attaching package: ?Hmisc?

The following objects are masked from ?package:base?:

   format.pval, round.POSIXt, trunc.POSIXt, units

Loading required package: SparseM

Attaching package: ?SparseM?

The following object is masked from ?package:base?:

   backsolve

##------ 2017-05-04 ------##
Loading required package: graphics

Attaching package: ?graphics?

The following object is masked from ?package:SparseM?:

   image

* installing *source* package ?rms? ...
** package ?rms? successfully unpacked and MD5 sums checked
** libs
clang -I/Library/Frameworks/R.framework/Resources/include      -I/usr/local/include   -fPIC  -Wall -g -O2  -c init.c -o init.o
gfortran   -fPIC  -g -O2  -c lrmfit.f -o lrmfit.o
gfortran   -fPIC  -g -O2  -c mlmats.f -o mlmats.o
gfortran   -fPIC  -g -O2  -c ormuv.f -o ormuv.o
gfortran   -fPIC  -g -O2  -c robcovf.f -o robcovf.o
clang -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o rms.so init.o lrmfit.o mlmats.o ormuv.o robcovf.o -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0 -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
installing to /Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs
** R
** demo
** inst
** preparing package for lazy loading
** help
*** installing help indices
** building package indices
** testing if installed package can be loaded
Loading required package: lattice
Loading required package: sos
Loading required package: brew
Loading required package: rms
Loading required package: Hmisc
Loading required package: survival
Loading required package: Formula
Loading required package: stats
Loading required package: ggplot2

Attaching package: ?Hmisc?

The following objects are masked from ?package:base?:

   format.pval, round.POSIXt, trunc.POSIXt, units

Loading required package: SparseM

Attaching package: ?SparseM?

The following object is masked from ?package:base?:

   backsolve

Error: package or namespace load failed for ?rms? in dyn.load(file, DLLpath = DLLpath, ...):
unable to load shared object '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so':
 dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so, 6): Symbol not found: ___addtf3
 Referenced from: /usr/local/lib/libquadmath.0.dylib
 Expected in: /usr/local/lib/libgcc_s.1.dylib
in /usr/local/lib/libquadmath.0.dylib
##------ 2017-05-04 ------##
Loading required package: graphics

Attaching package: ?graphics?

The following object is masked from ?package:SparseM?:

   image

Error: package or namespace load failed for ?rms? in dyn.load(file, DLLpath = DLLpath, ...):
unable to load shared object '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so':
 dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so, 6): Symbol not found: ___addtf3
 Referenced from: /usr/local/lib/libquadmath.0.dylib
 Expected in: /usr/local/lib/libgcc_s.1.dylib
in /usr/local/lib/libquadmath.0.dylib
Error: loading failed
Execution halted

The downloaded source packages are in
	?/private/var/folders/yq/m3j1jqtj6hq6s5mq_v0jn3s80000gn/T/Rtmpplg8Th/downloaded_packages?

(WARNING: partial output only, ask package author to use Rprintf instead!)
ERROR: loading failed
* removing ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms?
* restoring previous ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms?

I get the same result with this (minus the request "to use Rprinf instead!"

$ R CMD INSTALL /Users/davidwinsemius/Downloads/rms_5.1-1.tar.gz 

Reported to Frank but he has seen no problems in his Linux builds.

This page:

https://github.com/JuliaLang/julia/issues/636

...  has a posting that says:

"I found the solution: putting /usr/local/gfortran/lib at the beginning of DYLD_LIBRARY_PATH solved the problem. Previously I had .../gfortran/lib at the end of DYLD_LIBRARY_PATH."

What more do I need to supply?

-- 

David Winsemius
Alameda, CA, USA


> sessionInfo()
R version 3.4.0 (2017-04-21)
Platform: x86_64-apple-darwin15.6.0 (64-bit)
Running under: OS X El Capitan 10.11.6

Matrix products: default
BLAS: /Library/Frameworks/R.framework/Versions/3.4/Resources/lib/libRblas.0.dylib
LAPACK: /Library/Frameworks/R.framework/Versions/3.4/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] grDevices utils     datasets  graphics  stats     methods   base     

other attached packages:
[1] rms_5.1-1       SparseM_1.77    Hmisc_4.0-3     ggplot2_2.2.1  
[5] Formula_1.2-1   survival_2.41-3 sos_1.4-1       brew_1.0-6     
[9] lattice_0.20-35

loaded via a namespace (and not attached):
 [1] Rcpp_0.12.10        compiler_3.4.0      RColorBrewer_1.1-2 
 [4] plyr_1.8.4          base64enc_0.1-3     tools_3.4.0        
 [7] rpart_4.1-11        digest_0.6.12       tibble_1.3.0       
[10] polspline_1.1.12    gtable_0.2.0        checkmate_1.8.2    
[13] htmlTable_1.9       nlme_3.1-131        Matrix_1.2-10      
[16] mvtnorm_1.0-6       gridExtra_2.2.1     stringr_1.2.0      
[19] cluster_2.0.6       knitr_1.15.1        htmlwidgets_0.8    
[22] MatrixModels_0.4-1  grid_3.4.0          nnet_7.3-12        
[25] data.table_1.10.4   foreign_0.8-68      multcomp_1.4-6     
[28] TH.data_1.0-8       latticeExtra_0.6-28 magrittr_1.5       
[31] codetools_0.2-15    MASS_7.3-47         backports_1.0.5    
[34] scales_0.4.1        htmltools_0.3.6     splines_3.4.0      
[37] colorspace_1.3-2    quantreg_5.33       sandwich_2.3-4     
[40] stringi_1.1.5       acepack_1.4.1       lazyeval_0.2.0     
[43] munsell_0.4.3       zoo_1.8-0   


From dwinsemius at comcast.net  Fri May  5 03:26:21 2017
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 4 May 2017 18:26:21 -0700
Subject: [R-SIG-Mac] missing module when compiling R pkg:rms or external
	package SYMPHONY (in support of Bioc pkg symphony)
In-Reply-To: <3D589252-6538-4060-9D48-F4B73E708A39@comcast.net>
References: <3D589252-6538-4060-9D48-F4B73E708A39@comcast.net>
Message-ID: <A8D48C16-DBFE-4C53-9803-2D241D266A25@comcast.net>


> On May 4, 2017, at 6:12 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> Failing to get current rms package to compile (and appears that the CRAN build machine fails as well). The penultimate version of rms succeeds.
> 
> Both from console and cmd-line I get this response in R 3.4.0 (just installed today) running El Cap 10.11.6 with Xcode Version 8.2.1 (8C1002):

Also tried to see which gfortran was retruned along hte R search path:

> system("gfortran -v")
Using built-in specs.
COLLECT_GCC=gfortran
COLLECT_LTO_WRAPPER=/usr/local/gfortran/libexec/gcc/x86_64-apple-darwin15/6.1.0/lto-wrapper
Target: x86_64-apple-darwin15
Configured with: ../gcc-6.1.0/configure --prefix=/usr/local/gfortran --with-gmp=/Users/fx/devel/gcc/deps-static/x86_64 --enable-languages=c,c++,fortran,objc,obj-c++ --build=x86_64-apple-darwin15
Thread model: posix
gcc version 6.1.0 (GCC) 


> 
> trying URL 'https://cran.cnr.berkeley.edu/src/contrib/rms_5.1-1.tar.gz'
> Content type 'application/x-gzip' length 521311 bytes (509 KB)
> ==================================================
> downloaded 509 KB
> 
> Loading required package: lattice
> Loading required package: sos
> Loading required package: brew
> Loading required package: rms
> Loading required package: Hmisc
> Loading required package: survival
> Loading required package: Formula
> Loading required package: stats
> Loading required package: ggplot2
> 
> Attaching package: ?Hmisc?
> 
> The following objects are masked from ?package:base?:
> 
>   format.pval, round.POSIXt, trunc.POSIXt, units
> 
> Loading required package: SparseM
> 
> Attaching package: ?SparseM?
> 
> The following object is masked from ?package:base?:
> 
>   backsolve
> 
> ##------ 2017-05-04 ------##
> Loading required package: graphics
> 
> Attaching package: ?graphics?
> 
> The following object is masked from ?package:SparseM?:
> 
>   image
> 
> * installing *source* package ?rms? ...
> ** package ?rms? successfully unpacked and MD5 sums checked
> ** libs
> clang -I/Library/Frameworks/R.framework/Resources/include      -I/usr/local/include   -fPIC  -Wall -g -O2  -c init.c -o init.o
> gfortran   -fPIC  -g -O2  -c lrmfit.f -o lrmfit.o
> gfortran   -fPIC  -g -O2  -c mlmats.f -o mlmats.o
> gfortran   -fPIC  -g -O2  -c ormuv.f -o ormuv.o
> gfortran   -fPIC  -g -O2  -c robcovf.f -o robcovf.o
> clang -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o rms.so init.o lrmfit.o mlmats.o ormuv.o robcovf.o -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0 -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
> installing to /Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs
> ** R
> ** demo
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> Loading required package: lattice
> Loading required package: sos
> Loading required package: brew
> Loading required package: rms
> Loading required package: Hmisc
> Loading required package: survival
> Loading required package: Formula
> Loading required package: stats
> Loading required package: ggplot2
> 
> Attaching package: ?Hmisc?
> 
> The following objects are masked from ?package:base?:
> 
>   format.pval, round.POSIXt, trunc.POSIXt, units
> 
> Loading required package: SparseM
> 
> Attaching package: ?SparseM?
> 
> The following object is masked from ?package:base?:
> 
>   backsolve
> 
> Error: package or namespace load failed for ?rms? in dyn.load(file, DLLpath = DLLpath, ...):
> unable to load shared object '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so':
> dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so, 6): Symbol not found: ___addtf3
> Referenced from: /usr/local/lib/libquadmath.0.dylib
> Expected in: /usr/local/lib/libgcc_s.1.dylib
> in /usr/local/lib/libquadmath.0.dylib
> ##------ 2017-05-04 ------##
> Loading required package: graphics
> 
> Attaching package: ?graphics?
> 
> The following object is masked from ?package:SparseM?:
> 
>   image
> 
> Error: package or namespace load failed for ?rms? in dyn.load(file, DLLpath = DLLpath, ...):
> unable to load shared object '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so':
> dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so, 6): Symbol not found: ___addtf3
> Referenced from: /usr/local/lib/libquadmath.0.dylib
> Expected in: /usr/local/lib/libgcc_s.1.dylib
> in /usr/local/lib/libquadmath.0.dylib
> Error: loading failed
> Execution halted
> 
> The downloaded source packages are in
> 	?/private/var/folders/yq/m3j1jqtj6hq6s5mq_v0jn3s80000gn/T/Rtmpplg8Th/downloaded_packages?
> 
> (WARNING: partial output only, ask package author to use Rprintf instead!)
> ERROR: loading failed
> * removing ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms?
> * restoring previous ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms?
> 
> I get the same result with this (minus the request "to use Rprinf instead!"
> 
> $ R CMD INSTALL /Users/davidwinsemius/Downloads/rms_5.1-1.tar.gz 
> 
> Reported to Frank but he has seen no problems in his Linux builds.
> 
> This page:
> 
> https://github.com/JuliaLang/julia/issues/636
> 
> ...  has a posting that says:
> 
> "I found the solution: putting /usr/local/gfortran/lib at the beginning of DYLD_LIBRARY_PATH solved the problem. Previously I had .../gfortran/lib at the end of DYLD_LIBRARY_PATH."
> 
> What more do I need to supply?
> 
> -- 
> 
> David Winsemius
> Alameda, CA, USA
> 
> 
>> sessionInfo()
> R version 3.4.0 (2017-04-21)
> Platform: x86_64-apple-darwin15.6.0 (64-bit)
> Running under: OS X El Capitan 10.11.6
> 
> Matrix products: default
> BLAS: /Library/Frameworks/R.framework/Versions/3.4/Resources/lib/libRblas.0.dylib
> LAPACK: /Library/Frameworks/R.framework/Versions/3.4/Resources/lib/libRlapack.dylib
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] grDevices utils     datasets  graphics  stats     methods   base     
> 
> other attached packages:
> [1] rms_5.1-1       SparseM_1.77    Hmisc_4.0-3     ggplot2_2.2.1  
> [5] Formula_1.2-1   survival_2.41-3 sos_1.4-1       brew_1.0-6     
> [9] lattice_0.20-35
> 
> loaded via a namespace (and not attached):
> [1] Rcpp_0.12.10        compiler_3.4.0      RColorBrewer_1.1-2 
> [4] plyr_1.8.4          base64enc_0.1-3     tools_3.4.0        
> [7] rpart_4.1-11        digest_0.6.12       tibble_1.3.0       
> [10] polspline_1.1.12    gtable_0.2.0        checkmate_1.8.2    
> [13] htmlTable_1.9       nlme_3.1-131        Matrix_1.2-10      
> [16] mvtnorm_1.0-6       gridExtra_2.2.1     stringr_1.2.0      
> [19] cluster_2.0.6       knitr_1.15.1        htmlwidgets_0.8    
> [22] MatrixModels_0.4-1  grid_3.4.0          nnet_7.3-12        
> [25] data.table_1.10.4   foreign_0.8-68      multcomp_1.4-6     
> [28] TH.data_1.0-8       latticeExtra_0.6-28 magrittr_1.5       
> [31] codetools_0.2-15    MASS_7.3-47         backports_1.0.5    
> [34] scales_0.4.1        htmltools_0.3.6     splines_3.4.0      
> [37] colorspace_1.3-2    quantreg_5.33       sandwich_2.3-4     
> [40] stringi_1.1.5       acepack_1.4.1       lazyeval_0.2.0     
> [43] munsell_0.4.3       zoo_1.8-0   
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From bhh at xs4all.nl  Fri May  5 09:13:23 2017
From: bhh at xs4all.nl (Berend Hasselman)
Date: Fri, 5 May 2017 09:13:23 +0200
Subject: [R-SIG-Mac] missing module when compiling R pkg:rms or external
	package SYMPHONY (in support of Bioc pkg symphony)
In-Reply-To: <3D589252-6538-4060-9D48-F4B73E708A39@comcast.net>
References: <3D589252-6538-4060-9D48-F4B73E708A39@comcast.net>
Message-ID: <BE77E503-15F2-4951-90E1-E6C9158D3201@xs4all.nl>


> On 5 May 2017, at 03:12, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> Failing to get current rms package to compile (and appears that the CRAN build machine fails as well). The penultimate version of rms succeeds.
> 
> Both from console and cmd-line I get this response in R 3.4.0 (just installed today) running El Cap 10.11.6 with Xcode Version 8.2.1 (8C1002):
> 
> trying URL 'https://cran.cnr.berkeley.edu/src/contrib/rms_5.1-1.tar.gz'
> Content type 'application/x-gzip' length 521311 bytes (509 KB)
> ==================================================
> downloaded 509 KB
> 
> Loading required package: lattice
> Loading required package: sos
> Loading required package: brew
> Loading required package: rms
> Loading required package: Hmisc
> Loading required package: survival
> Loading required package: Formula
> Loading required package: stats
> Loading required package: ggplot2
> 
> Attaching package: ?Hmisc?
> 
> The following objects are masked from ?package:base?:
> 
>   format.pval, round.POSIXt, trunc.POSIXt, units
> 
> Loading required package: SparseM
> 
> Attaching package: ?SparseM?
> 
> The following object is masked from ?package:base?:
> 
>   backsolve
> 
> ##------ 2017-05-04 ------##
> Loading required package: graphics
> 
> Attaching package: ?graphics?
> 
> The following object is masked from ?package:SparseM?:
> 
>   image
> 
> * installing *source* package ?rms? ...
> ** package ?rms? successfully unpacked and MD5 sums checked
> ** libs
> clang -I/Library/Frameworks/R.framework/Resources/include      -I/usr/local/include   -fPIC  -Wall -g -O2  -c init.c -o init.o
> gfortran   -fPIC  -g -O2  -c lrmfit.f -o lrmfit.o
> gfortran   -fPIC  -g -O2  -c mlmats.f -o mlmats.o
> gfortran   -fPIC  -g -O2  -c ormuv.f -o ormuv.o
> gfortran   -fPIC  -g -O2  -c robcovf.f -o robcovf.o
> clang -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o rms.so init.o lrmfit.o mlmats.o ormuv.o robcovf.o -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0 -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
> installing to /Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs
> ** R
> ** demo
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> Loading required package: lattice
> Loading required package: sos
> Loading required package: brew
> Loading required package: rms
> Loading required package: Hmisc
> Loading required package: survival
> Loading required package: Formula
> Loading required package: stats
> Loading required package: ggplot2
> 
> Attaching package: ?Hmisc?
> 
> The following objects are masked from ?package:base?:
> 
>   format.pval, round.POSIXt, trunc.POSIXt, units
> 
> Loading required package: SparseM
> 
> Attaching package: ?SparseM?
> 
> The following object is masked from ?package:base?:
> 
>   backsolve
> 
> Error: package or namespace load failed for ?rms? in dyn.load(file, DLLpath = DLLpath, ...):
> unable to load shared object '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so':
> dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so, 6): Symbol not found: ___addtf3
> Referenced from: /usr/local/lib/libquadmath.0.dylib
> Expected in: /usr/local/lib/libgcc_s.1.dylib
> in /usr/local/lib/libquadmath.0.dylib
> ##------ 2017-05-04 ------##
> Loading required package: graphics
> 
> Attaching package: ?graphics?
> 
> The following object is masked from ?package:SparseM?:
> 
>   image
> 
> Error: package or namespace load failed for ?rms? in dyn.load(file, DLLpath = DLLpath, ...):
> unable to load shared object '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so':
> dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so, 6): Symbol not found: ___addtf3
> Referenced from: /usr/local/lib/libquadmath.0.dylib
> Expected in: /usr/local/lib/libgcc_s.1.dylib
> in /usr/local/lib/libquadmath.0.dylib
> Error: loading failed
> Execution halted
> 
> The downloaded source packages are in
> 	?/private/var/folders/yq/m3j1jqtj6hq6s5mq_v0jn3s80000gn/T/Rtmpplg8Th/downloaded_packages?
> 
> (WARNING: partial output only, ask package author to use Rprintf instead!)
> ERROR: loading failed
> * removing ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms?
> * restoring previous ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms?
> 
> I get the same result with this (minus the request "to use Rprinf instead!"
> 
> $ R CMD INSTALL /Users/davidwinsemius/Downloads/rms_5.1-1.tar.gz 
> 
> Reported to Frank but he has seen no problems in his Linux builds.
> 
> This page:
> 
> https://github.com/JuliaLang/julia/issues/636
> 
> ...  has a posting that says:
> 
> "I found the solution: putting /usr/local/gfortran/lib at the beginning of DYLD_LIBRARY_PATH solved the problem. Previously I had .../gfortran/lib at the end of DYLD_LIBRARY_PATH."
> 
> What more do I need to supply?
> 

A binary version of rms_5.1-1 is available on CRAN (now).

I downloaded the rms source (manually) and ran R CMD check on the source with this: 

  _R_CHECK_FORCE_SUGGESTS_=0 R CMD check rms

and have not encountered any problems.

From the output you provided you appear to be using Apple's clang and not clang4.

I'm using clang4 as indicated on https://cran.r-project.org/bin/macosx/tools/
and have this in my private Makevars:

CC=/usr/local/clang4/bin/clang
CXX=/usr/local/clang4/bin/clang++
LDFLAGS =-L/usr/local/clang4/lib

I also have gfortran 6.1 for El Capitan (same as you).
Maybe not using clang4 is the source of the problem.

Berend Hasselman
> -- 
> 
> David Winsemius
> Alameda, CA, USA
> 
> 
>> sessionInfo()
> R version 3.4.0 (2017-04-21)
> Platform: x86_64-apple-darwin15.6.0 (64-bit)
> Running under: OS X El Capitan 10.11.6
> 
> Matrix products: default
> BLAS: /Library/Frameworks/R.framework/Versions/3.4/Resources/lib/libRblas.0.dylib
> LAPACK: /Library/Frameworks/R.framework/Versions/3.4/Resources/lib/libRlapack.dylib
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] grDevices utils     datasets  graphics  stats     methods   base     
> 
> other attached packages:
> [1] rms_5.1-1       SparseM_1.77    Hmisc_4.0-3     ggplot2_2.2.1  
> [5] Formula_1.2-1   survival_2.41-3 sos_1.4-1       brew_1.0-6     
> [9] lattice_0.20-35
> 
> loaded via a namespace (and not attached):
> [1] Rcpp_0.12.10        compiler_3.4.0      RColorBrewer_1.1-2 
> [4] plyr_1.8.4          base64enc_0.1-3     tools_3.4.0        
> [7] rpart_4.1-11        digest_0.6.12       tibble_1.3.0       
> [10] polspline_1.1.12    gtable_0.2.0        checkmate_1.8.2    
> [13] htmlTable_1.9       nlme_3.1-131        Matrix_1.2-10      
> [16] mvtnorm_1.0-6       gridExtra_2.2.1     stringr_1.2.0      
> [19] cluster_2.0.6       knitr_1.15.1        htmlwidgets_0.8    
> [22] MatrixModels_0.4-1  grid_3.4.0          nnet_7.3-12        
> [25] data.table_1.10.4   foreign_0.8-68      multcomp_1.4-6     
> [28] TH.data_1.0-8       latticeExtra_0.6-28 magrittr_1.5       
> [31] codetools_0.2-15    MASS_7.3-47         backports_1.0.5    
> [34] scales_0.4.1        htmltools_0.3.6     splines_3.4.0      
> [37] colorspace_1.3-2    quantreg_5.33       sandwich_2.3-4     
> [40] stringi_1.1.5       acepack_1.4.1       lazyeval_0.2.0     
> [43] munsell_0.4.3       zoo_1.8-0   
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dwinsemius at comcast.net  Fri May  5 09:44:59 2017
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 5 May 2017 00:44:59 -0700
Subject: [R-SIG-Mac] missing module when compiling R pkg:rms or external
	package SYMPHONY (in support of Bioc pkg symphony)
In-Reply-To: <BE77E503-15F2-4951-90E1-E6C9158D3201@xs4all.nl>
References: <3D589252-6538-4060-9D48-F4B73E708A39@comcast.net>
 <BE77E503-15F2-4951-90E1-E6C9158D3201@xs4all.nl>
Message-ID: <82608FD2-A940-471A-A5B4-EA862D647746@comcast.net>


> On May 5, 2017, at 12:13 AM, Berend Hasselman <bhh at xs4all.nl> wrote:
> 
> 
>> On 5 May 2017, at 03:12, David Winsemius <dwinsemius at comcast.net> wrote:
>> 
>> Failing to get current rms package to compile (and appears that the CRAN build machine fails as well). The penultimate version of rms succeeds.
>> 
>> Both from console and cmd-line I get this response in R 3.4.0 (just installed today) running El Cap 10.11.6 with Xcode Version 8.2.1 (8C1002):
>> 
>> trying URL 'https://cran.cnr.berkeley.edu/src/contrib/rms_5.1-1.tar.gz'
>> Content type 'application/x-gzip' length 521311 bytes (509 KB)
>> ==================================================
>> downloaded 509 KB
>> 
>> Loading required package: lattice
>> Loading required package: sos
>> Loading required package: brew
>> Loading required package: rms
>> Loading required package: Hmisc
>> Loading required package: survival
>> Loading required package: Formula
>> Loading required package: stats
>> Loading required package: ggplot2
>> 
>> Attaching package: ?Hmisc?
>> 
>> The following objects are masked from ?package:base?:
>> 
>>  format.pval, round.POSIXt, trunc.POSIXt, units
>> 
>> Loading required package: SparseM
>> 
>> Attaching package: ?SparseM?
>> 
>> The following object is masked from ?package:base?:
>> 
>>  backsolve
>> 
>> ##------ 2017-05-04 ------##
>> Loading required package: graphics
>> 
>> Attaching package: ?graphics?
>> 
>> The following object is masked from ?package:SparseM?:
>> 
>>  image
>> 
>> * installing *source* package ?rms? ...
>> ** package ?rms? successfully unpacked and MD5 sums checked
>> ** libs
>> clang -I/Library/Frameworks/R.framework/Resources/include      -I/usr/local/include   -fPIC  -Wall -g -O2  -c init.c -o init.o
>> gfortran   -fPIC  -g -O2  -c lrmfit.f -o lrmfit.o
>> gfortran   -fPIC  -g -O2  -c mlmats.f -o mlmats.o
>> gfortran   -fPIC  -g -O2  -c ormuv.f -o ormuv.o
>> gfortran   -fPIC  -g -O2  -c robcovf.f -o robcovf.o
>> clang -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o rms.so init.o lrmfit.o mlmats.o ormuv.o robcovf.o -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0 -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
>> installing to /Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs
>> ** R
>> ** demo
>> ** inst
>> ** preparing package for lazy loading
>> ** help
>> *** installing help indices
>> ** building package indices
>> ** testing if installed package can be loaded
>> Loading required package: lattice
>> Loading required package: sos
>> Loading required package: brew
>> Loading required package: rms
>> Loading required package: Hmisc
>> Loading required package: survival
>> Loading required package: Formula
>> Loading required package: stats
>> Loading required package: ggplot2
>> 
>> Attaching package: ?Hmisc?
>> 
>> The following objects are masked from ?package:base?:
>> 
>>  format.pval, round.POSIXt, trunc.POSIXt, units
>> 
>> Loading required package: SparseM
>> 
>> Attaching package: ?SparseM?
>> 
>> The following object is masked from ?package:base?:
>> 
>>  backsolve
>> 
>> Error: package or namespace load failed for ?rms? in dyn.load(file, DLLpath = DLLpath, ...):
>> unable to load shared object '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so':
>> dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so, 6): Symbol not found: ___addtf3
>> Referenced from: /usr/local/lib/libquadmath.0.dylib
>> Expected in: /usr/local/lib/libgcc_s.1.dylib
>> in /usr/local/lib/libquadmath.0.dylib
>> ##------ 2017-05-04 ------##
>> Loading required package: graphics
>> 
>> Attaching package: ?graphics?
>> 
>> The following object is masked from ?package:SparseM?:
>> 
>>  image
>> 
>> Error: package or namespace load failed for ?rms? in dyn.load(file, DLLpath = DLLpath, ...):
>> unable to load shared object '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so':
>> dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so, 6): Symbol not found: ___addtf3
>> Referenced from: /usr/local/lib/libquadmath.0.dylib
>> Expected in: /usr/local/lib/libgcc_s.1.dylib
>> in /usr/local/lib/libquadmath.0.dylib
>> Error: loading failed
>> Execution halted
>> 
>> The downloaded source packages are in
>> 	?/private/var/folders/yq/m3j1jqtj6hq6s5mq_v0jn3s80000gn/T/Rtmpplg8Th/downloaded_packages?
>> 
>> (WARNING: partial output only, ask package author to use Rprintf instead!)
>> ERROR: loading failed
>> * removing ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms?
>> * restoring previous ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms?
>> 
>> I get the same result with this (minus the request "to use Rprinf instead!"
>> 
>> $ R CMD INSTALL /Users/davidwinsemius/Downloads/rms_5.1-1.tar.gz 
>> 
>> Reported to Frank but he has seen no problems in his Linux builds.
>> 
>> This page:
>> 
>> https://github.com/JuliaLang/julia/issues/636
>> 
>> ...  has a posting that says:
>> 
>> "I found the solution: putting /usr/local/gfortran/lib at the beginning of DYLD_LIBRARY_PATH solved the problem. Previously I had .../gfortran/lib at the end of DYLD_LIBRARY_PATH."
>> 
>> What more do I need to supply?
>> 
> 
> A binary version of rms_5.1-1 is available on CRAN (now).
> 
> I downloaded the rms source (manually) and ran R CMD check on the source with this: 
> 
>  _R_CHECK_FORCE_SUGGESTS_=0 R CMD check rms
> 
> and have not encountered any problems.
> 
> From the output you provided you appear to be using Apple's clang and not clang4.
> 
> I'm using clang4 as indicated on https://cran.r-project.org/bin/macosx/tools/
> and have this in my private Makevars:
> 
> CC=/usr/local/clang4/bin/clang
> CXX=/usr/local/clang4/bin/clang++
> LDFLAGS =-L/usr/local/clang4/lib
> 
> I also have gfortran 6.1 for El Capitan (same as you).
> Maybe not using clang4 is the source of the problem.

Thank you, Berend, for pointing me to the fine manual. After making those changes to my Makevars file, installing clang4, compiling rms 5.1-1 from source, and rebooting R I'm getting no further errors.

-- 
> 
> Berend Hasselman
>> -- 
>> 
>> David Winsemius
>> Alameda, CA, USA
>> 
>> 
>>> sessionInfo()
>> R version 3.4.0 (2017-04-21)
>> Platform: x86_64-apple-darwin15.6.0 (64-bit)
>> Running under: OS X El Capitan 10.11.6
>> 
>> Matrix products: default
>> BLAS: /Library/Frameworks/R.framework/Versions/3.4/Resources/lib/libRblas.0.dylib
>> LAPACK: /Library/Frameworks/R.framework/Versions/3.4/Resources/lib/libRlapack.dylib
>> 
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] grDevices utils     datasets  graphics  stats     methods   base     
>> 
>> other attached packages:
>> [1] rms_5.1-1       SparseM_1.77    Hmisc_4.0-3     ggplot2_2.2.1  
>> [5] Formula_1.2-1   survival_2.41-3 sos_1.4-1       brew_1.0-6     
>> [9] lattice_0.20-35
>> 
>> loaded via a namespace (and not attached):
>> [1] Rcpp_0.12.10        compiler_3.4.0      RColorBrewer_1.1-2 
>> [4] plyr_1.8.4          base64enc_0.1-3     tools_3.4.0        
>> [7] rpart_4.1-11        digest_0.6.12       tibble_1.3.0       
>> [10] polspline_1.1.12    gtable_0.2.0        checkmate_1.8.2    
>> [13] htmlTable_1.9       nlme_3.1-131        Matrix_1.2-10      
>> [16] mvtnorm_1.0-6       gridExtra_2.2.1     stringr_1.2.0      
>> [19] cluster_2.0.6       knitr_1.15.1        htmlwidgets_0.8    
>> [22] MatrixModels_0.4-1  grid_3.4.0          nnet_7.3-12        
>> [25] data.table_1.10.4   foreign_0.8-68      multcomp_1.4-6     
>> [28] TH.data_1.0-8       latticeExtra_0.6-28 magrittr_1.5       
>> [31] codetools_0.2-15    MASS_7.3-47         backports_1.0.5    
>> [34] scales_0.4.1        htmltools_0.3.6     splines_3.4.0      
>> [37] colorspace_1.3-2    quantreg_5.33       sandwich_2.3-4     
>> [40] stringi_1.1.5       acepack_1.4.1       lazyeval_0.2.0     
>> [43] munsell_0.4.3       zoo_1.8-0   
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 

David Winsemius
Alameda, CA, USA


From spencer.graves at prodsyse.com  Fri May  5 14:51:51 2017
From: spencer.graves at prodsyse.com (Spencer Graves)
Date: Fri, 5 May 2017 07:51:51 -0500
Subject: [R-SIG-Mac] how to install RODBC on macOS Sierra 10.12.4?
Message-ID: <746b1aaf-1ef9-b981-18ea-de471e4af8c9@prodsyse.com>

Hello:


       I recently upgraded to R 3.4.0, and I've so far been unable to 
"install.packages('RODBC')" or "R CMD INSTALL RODBC_1.3-15.tar.gz". Both 
end with the following:


configure: error: "ODBC headers sql.h and sqlext.h not found"
ERROR: configuration failed for package ?RODBC?


       I had RODBC installed in R 3.3, but that was before I upgraded to 
macOS Sierra 10.12.4.   I've tried to RTFM, but I don't know which FMTR, 
and I can't decrypt the documentation I've found that seem relevant.  I 
couldn't find the answer in Ripley's "ODBC Connectivity" vignette.


       "iodbc-42.5/iodbc/README.MACOSX" says, "You first need to install 
the latest Mac OS X Developer Packages, which can be found at 
"http://developer.apple.com/tools".  I think I've done that, but I don't 
know how to check it.


       "iodbc-42.5/iodbc/README.MACOSX" continues, "Then, you can open 
the Xcode Project Builder files under mac/iODBCinst, mac/iODBC, 
mac/iODBCtest and mac/iODBCtestw,".  I don't know how find any of 
these.  It further continues, "or execute the following commands from a 
terminal session to build all the frameworks and demo applications:


     $ cd mac
     $ make"


       I just did "$ cd mac" and got, "-bash: cd: mac: No such file or 
directory".  Evidently, I need to substitute something for "mac" here, 
but I don't know what.



       Suggestions?  Thanks,
       Spencer Graves


From marc_schwartz at me.com  Fri May  5 15:38:13 2017
From: marc_schwartz at me.com (Marc Schwartz)
Date: Fri, 05 May 2017 08:38:13 -0500
Subject: [R-SIG-Mac] how to install RODBC on macOS Sierra 10.12.4?
In-Reply-To: <746b1aaf-1ef9-b981-18ea-de471e4af8c9@prodsyse.com>
References: <746b1aaf-1ef9-b981-18ea-de471e4af8c9@prodsyse.com>
Message-ID: <9772449F-DEDF-4337-92E2-CA057AD28F10@me.com>


> On May 5, 2017, at 7:51 AM, Spencer Graves <spencer.graves at prodsyse.com> wrote:
> 
> Hello:
> 
> 
>      I recently upgraded to R 3.4.0, and I've so far been unable to "install.packages('RODBC')" or "R CMD INSTALL RODBC_1.3-15.tar.gz". Both end with the following:
> 
> 
> configure: error: "ODBC headers sql.h and sqlext.h not found"
> ERROR: configuration failed for package ?RODBC?
> 
> 
>      I had RODBC installed in R 3.3, but that was before I upgraded to macOS Sierra 10.12.4.   I've tried to RTFM, but I don't know which FMTR, and I can't decrypt the documentation I've found that seem relevant.  I couldn't find the answer in Ripley's "ODBC Connectivity" vignette.
> 
> 
>      "iodbc-42.5/iodbc/README.MACOSX" says, "You first need to install the latest Mac OS X Developer Packages, which can be found at "http://developer.apple.com/tools".  I think I've done that, but I don't know how to check it.
> 
> 
>      "iodbc-42.5/iodbc/README.MACOSX" continues, "Then, you can open the Xcode Project Builder files under mac/iODBCinst, mac/iODBC, mac/iODBCtest and mac/iODBCtestw,".  I don't know how find any of these.  It further continues, "or execute the following commands from a terminal session to build all the frameworks and demo applications:
> 
> 
>    $ cd mac
>    $ make"
> 
> 
>      I just did "$ cd mac" and got, "-bash: cd: mac: No such file or directory".  Evidently, I need to substitute something for "mac" here, but I don't know what.
> 
> 
> 
>      Suggestions?  Thanks,
>      Spencer Graves


Spencer,

The incantation that I use is:

install.packages("RODBC", type = "source", 
                 configure.args = "--with-odbc-include=/PATH.TO/iODBC/libiodbc-3.52.12/include/")

where the header files are located in the 'include' folder above, which is extracted from the iODBC source tarball available here:

  http://www.iodbc.org/dataspace/doc/iodbc/wiki/iodbcWiki/Downloads#Stable%20Version%203.52.12

There is information in Prof. Ripley's RODBC vignette in Appendix A Installation on page 19.

Regards,

Marc


From spencer.graves at prodsyse.com  Fri May  5 17:32:37 2017
From: spencer.graves at prodsyse.com (Spencer Graves)
Date: Fri, 5 May 2017 10:32:37 -0500
Subject: [R-SIG-Mac] how to install RODBC on macOS Sierra 10.12.4?
In-Reply-To: <9772449F-DEDF-4337-92E2-CA057AD28F10@me.com>
References: <746b1aaf-1ef9-b981-18ea-de471e4af8c9@prodsyse.com>
 <9772449F-DEDF-4337-92E2-CA057AD28F10@me.com>
Message-ID: <d9f880d8-79a5-553f-e0aa-9439f7192496@prodsyse.com>



On 2017-05-05 8:38 AM, Marc Schwartz wrote:
>> On May 5, 2017, at 7:51 AM, Spencer Graves <spencer.graves at prodsyse.com> wrote:
>>
>> Hello:
>>
>>
>>       I recently upgraded to R 3.4.0, and I've so far been unable to "install.packages('RODBC')" or "R CMD INSTALL RODBC_1.3-15.tar.gz". Both end with the following:
>>
>>
>> configure: error: "ODBC headers sql.h and sqlext.h not found"
>> ERROR: configuration failed for package ?RODBC?
>>
>>
>>       I had RODBC installed in R 3.3, but that was before I upgraded to macOS Sierra 10.12.4.   I've tried to RTFM, but I don't know which FMTR, and I can't decrypt the documentation I've found that seem relevant.  I couldn't find the answer in Ripley's "ODBC Connectivity" vignette.
>>
>>
>>       "iodbc-42.5/iodbc/README.MACOSX" says, "You first need to install the latest Mac OS X Developer Packages, which can be found at "http://developer.apple.com/tools".  I think I've done that, but I don't know how to check it.
>>
>>
>>       "iodbc-42.5/iodbc/README.MACOSX" continues, "Then, you can open the Xcode Project Builder files under mac/iODBCinst, mac/iODBC, mac/iODBCtest and mac/iODBCtestw,".  I don't know how find any of these.  It further continues, "or execute the following commands from a terminal session to build all the frameworks and demo applications:
>>
>>
>>     $ cd mac
>>     $ make"
>>
>>
>>       I just did "$ cd mac" and got, "-bash: cd: mac: No such file or directory".  Evidently, I need to substitute something for "mac" here, but I don't know what.
>>
>>
>>
>>       Suggestions?  Thanks,
>>       Spencer Graves
>
> Spencer,
>
> The incantation that I use is:
>
> install.packages("RODBC", type = "source",
>                   configure.args = "--with-odbc-include=/PATH.TO/iODBC/libiodbc-3.52.12/include/")
>
> where the header files are located in the 'include' folder above, which is extracted from the iODBC source tarball available here:
>
>    http://www.iodbc.org/dataspace/doc/iodbc/wiki/iodbcWiki/Downloads#Stable%20Version%203.52.12
>
> There is information in Prof. Ripley's RODBC vignette in Appendix A Installation on page 19.


Hi, Marc:  Thanks.  With your encouragement, I reread p. 19 of Ripley's 
RODBC vignette you mentioned, and got that to work.  (It contains a 
stray quote <'>, which confused me the first few times I read it, 
because I was not familiar with that syntax.  I also posted this 
question and and my answer with your suggestions to StackOverflow 
(http://stackoverflow.com/questions/43804850/how-to-install-rodbc-on-macos-sierra-10-12-4/43808419#43808419). 
Spencer Graves
>
> Regards,
>
> Marc
>
>
>
>
>


From vincent.goulet at me.com  Sat May  6 16:46:20 2017
From: vincent.goulet at me.com (Vincent Goulet)
Date: Sat, 06 May 2017 10:46:20 -0400
Subject: [R-SIG-Mac] LaTeX packages available for CRAN buids
Message-ID: <BB778D0F-D3B6-4E77-98FE-04A20DE6978B@me.com>

Recently I'm getting NOTEs for LaTeX packages not found from CRAN builds of my packages on OS X. Not for anything exotic, really: framed.sty or enumitem.sty that are both part of a standard TeX Live or Mac TeX install.

Are the build machines using a minimal LaTeX install only? Is this documented somewhere?

Thanks!

v.

From dwinsemius at comcast.net  Wed May 10 00:03:55 2017
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 9 May 2017 15:03:55 -0700
Subject: [R-SIG-Mac] [SOLVED] Re:  missing module when compiling R pkg:rms
In-Reply-To: <CAMO-wTZ+3P-ES0j4RiqYqehB_8ZrttX5noauppbhHbY4yss8nA@mail.gmail.com>
References: <3D589252-6538-4060-9D48-F4B73E708A39@comcast.net>
 <BE77E503-15F2-4951-90E1-E6C9158D3201@xs4all.nl>
 <CAMO-wTZ+3P-ES0j4RiqYqehB_8ZrttX5noauppbhHbY4yss8nA@mail.gmail.com>
Message-ID: <D8644336-09DA-4138-96B2-5B2E01A971E7@comcast.net>

No longer failing in efforts to compile rms 5.1-1 from source. Probably related to the change in Makvears that Berend suggested. Appears the CRAN machine is now  also distributing that versions in binary. 

Thanks, Berend.

David.


> On May 5, 2017, at 7:46 AM, Frank Harrell <f.harrell at vanderbilt.edu> wrote:
> 
> Please remove me from the emails and substitute Cole Beck
> Frank
> 
> 
> Frank E Harrell Jr     	Professor and Chairman     	School of Medicine
> 
> Department of Biostatistics     	Vanderbilt University
> 
> On Fri, May 5, 2017 at 2:13 AM, Berend Hasselman <bhh at xs4all.nl> wrote:
> 
> > On 5 May 2017, at 03:12, David Winsemius <dwinsemius at comcast.net> wrote:
> >
> > Failing to get current rms package to compile (and appears that the CRAN build machine fails as well). The penultimate version of rms succeeds.
> >
> > Both from console and cmd-line I get this response in R 3.4.0 (just installed today) running El Cap 10.11.6 with Xcode Version 8.2.1 (8C1002):
> >
> > trying URL 'https://cran.cnr.berkeley.edu/src/contrib/rms_5.1-1.tar.gz'
> > Content type 'application/x-gzip' length 521311 bytes (509 KB)
> > ==================================================
> > downloaded 509 KB
> >
> > Loading required package: lattice
> > Loading required package: sos
> > Loading required package: brew
> > Loading required package: rms
> > Loading required package: Hmisc
> > Loading required package: survival
> > Loading required package: Formula
> > Loading required package: stats
> > Loading required package: ggplot2
> >
> > Attaching package: ?Hmisc?
> >
> > The following objects are masked from ?package:base?:
> >
> >   format.pval, round.POSIXt, trunc.POSIXt, units
> >
> > Loading required package: SparseM
> >
> > Attaching package: ?SparseM?
> >
> > The following object is masked from ?package:base?:
> >
> >   backsolve
> >
> > ##------ 2017-05-04 ------##
> > Loading required package: graphics
> >
> > Attaching package: ?graphics?
> >
> > The following object is masked from ?package:SparseM?:
> >
> >   image
> >
> > * installing *source* package ?rms? ...
> > ** package ?rms? successfully unpacked and MD5 sums checked
> > ** libs
> > clang -I/Library/Frameworks/R.framework/Resources/include      -I/usr/local/include   -fPIC  -Wall -g -O2  -c init.c -o init.o
> > gfortran   -fPIC  -g -O2  -c lrmfit.f -o lrmfit.o
> > gfortran   -fPIC  -g -O2  -c mlmats.f -o mlmats.o
> > gfortran   -fPIC  -g -O2  -c ormuv.f -o ormuv.o
> > gfortran   -fPIC  -g -O2  -c robcovf.f -o robcovf.o
> > clang -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o rms.so init.o lrmfit.o mlmats.o ormuv.o robcovf.o -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0 -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
> > installing to /Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs
> > ** R
> > ** demo
> > ** inst
> > ** preparing package for lazy loading
> > ** help
> > *** installing help indices
> > ** building package indices
> > ** testing if installed package can be loaded
> > Loading required package: lattice
> > Loading required package: sos
> > Loading required package: brew
> > Loading required package: rms
> > Loading required package: Hmisc
> > Loading required package: survival
> > Loading required package: Formula
> > Loading required package: stats
> > Loading required package: ggplot2
> >
> > Attaching package: ?Hmisc?
> >
> > The following objects are masked from ?package:base?:
> >
> >   format.pval, round.POSIXt, trunc.POSIXt, units
> >
> > Loading required package: SparseM
> >
> > Attaching package: ?SparseM?
> >
> > The following object is masked from ?package:base?:
> >
> >   backsolve
> >
> > Error: package or namespace load failed for ?rms? in dyn.load(file, DLLpath = DLLpath, ...):
> > unable to load shared object '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so':
> > dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so, 6): Symbol not found: ___addtf3
> > Referenced from: /usr/local/lib/libquadmath.0.dylib
> > Expected in: /usr/local/lib/libgcc_s.1.dylib
> > in /usr/local/lib/libquadmath.0.dylib
> > ##------ 2017-05-04 ------##
> > Loading required package: graphics
> >
> > Attaching package: ?graphics?
> >
> > The following object is masked from ?package:SparseM?:
> >
> >   image
> >
> > Error: package or namespace load failed for ?rms? in dyn.load(file, DLLpath = DLLpath, ...):
> > unable to load shared object '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so':
> > dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms/libs/rms.so, 6): Symbol not found: ___addtf3
> > Referenced from: /usr/local/lib/libquadmath.0.dylib
> > Expected in: /usr/local/lib/libgcc_s.1.dylib
> > in /usr/local/lib/libquadmath.0.dylib
> > Error: loading failed
> > Execution halted
> >
> > The downloaded source packages are in
> >       ?/private/var/folders/yq/m3j1jqtj6hq6s5mq_v0jn3s80000gn/T/Rtmpplg8Th/downloaded_packages?
> >
> > (WARNING: partial output only, ask package author to use Rprintf instead!)
> > ERROR: loading failed
> > * removing ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms?
> > * restoring previous ?/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rms?
> >
> > I get the same result with this (minus the request "to use Rprinf instead!"
> >
> > $ R CMD INSTALL /Users/davidwinsemius/Downloads/rms_5.1-1.tar.gz
> >
> > Reported to Frank but he has seen no problems in his Linux builds.
> >
> > This page:
> >
> > https://github.com/JuliaLang/julia/issues/636
> >
> > ...  has a posting that says:
> >
> > "I found the solution: putting /usr/local/gfortran/lib at the beginning of DYLD_LIBRARY_PATH solved the problem. Previously I had .../gfortran/lib at the end of DYLD_LIBRARY_PATH."
> >
> > What more do I need to supply?
> >
> 
> A binary version of rms_5.1-1 is available on CRAN (now).
> 
> I downloaded the rms source (manually) and ran R CMD check on the source with this:
> 
>   _R_CHECK_FORCE_SUGGESTS_=0 R CMD check rms
> 
> and have not encountered any problems.
> 
> From the output you provided you appear to be using Apple's clang and not clang4.
> 
> I'm using clang4 as indicated on https://cran.r-project.org/bin/macosx/tools/
> and have this in my private Makevars:
> 
> CC=/usr/local/clang4/bin/clang
> CXX=/usr/local/clang4/bin/clang++
> LDFLAGS =-L/usr/local/clang4/lib
> 
> I also have gfortran 6.1 for El Capitan (same as you).
> Maybe not using clang4 is the source of the problem.
> 
> Berend Hasselman
> > --
> >
> > David Winsemius
> > Alameda, CA, USA
> >
> >
> >> sessionInfo()
> > R version 3.4.0 (2017-04-21)
> > Platform: x86_64-apple-darwin15.6.0 (64-bit)
> > Running under: OS X El Capitan 10.11.6
> >
> > Matrix products: default
> > BLAS: /Library/Frameworks/R.framework/Versions/3.4/Resources/lib/libRblas.0.dylib
> > LAPACK: /Library/Frameworks/R.framework/Versions/3.4/Resources/lib/libRlapack.dylib
> >
> > locale:
> > [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >
> > attached base packages:
> > [1] grDevices utils     datasets  graphics  stats     methods   base
> >
> > other attached packages:
> > [1] rms_5.1-1       SparseM_1.77    Hmisc_4.0-3     ggplot2_2.2.1
> > [5] Formula_1.2-1   survival_2.41-3 sos_1.4-1       brew_1.0-6
> > [9] lattice_0.20-35
> >
> > loaded via a namespace (and not attached):
> > [1] Rcpp_0.12.10        compiler_3.4.0      RColorBrewer_1.1-2
> > [4] plyr_1.8.4          base64enc_0.1-3     tools_3.4.0
> > [7] rpart_4.1-11        digest_0.6.12       tibble_1.3.0
> > [10] polspline_1.1.12    gtable_0.2.0        checkmate_1.8.2
> > [13] htmlTable_1.9       nlme_3.1-131        Matrix_1.2-10
> > [16] mvtnorm_1.0-6       gridExtra_2.2.1     stringr_1.2.0
> > [19] cluster_2.0.6       knitr_1.15.1        htmlwidgets_0.8
> > [22] MatrixModels_0.4-1  grid_3.4.0          nnet_7.3-12
> > [25] data.table_1.10.4   foreign_0.8-68      multcomp_1.4-6
> > [28] TH.data_1.0-8       latticeExtra_0.6-28 magrittr_1.5
> > [31] codetools_0.2-15    MASS_7.3-47         backports_1.0.5
> > [34] scales_0.4.1        htmltools_0.3.6     splines_3.4.0
> > [37] colorspace_1.3-2    quantreg_5.33       sandwich_2.3-4
> > [40] stringi_1.1.5       acepack_1.4.1       lazyeval_0.2.0
> > [43] munsell_0.4.3       zoo_1.8-0
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 

David Winsemius
Alameda, CA, USA


From jose.conde1 at upr.edu  Wed May 10 00:08:54 2017
From: jose.conde1 at upr.edu (Jose G Conde Santiago)
Date: Tue, 9 May 2017 18:08:54 -0400
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
Message-ID: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>

Hello,

I recently upgraded to R 3.4.0, but now I get very poor fonts from Rcmdr 2.3-2 as shown below:



I reloaded the older version of R (3.3.3), ran Rcmdr and the problem disappeared. I downloaded R 3.4.0 again and the problem with Rcmdr reappeared.

I read a previous post on the list regarding an issue with Rcmdr and followed your suggestions to that posting:

1. The following test went well with R 3.4.0:

> > library (tcltk)
> > tk_messageBox(message="test")
> [1] "ok"
> > 


2. Ran R 3.4.0 from the terminal, and then ran R Commander. The problem persists.

I am running XQuartz 2.7.11. My machine is an iMac (27-inch, Late 2012); Processor 3.4 GHz Intel Core i7, with 32 GB RAM. Graphics: NVIDIA GeForce GTX 675MX 1024 MB. OS X Sierra 10.12.4.

I will appreciate any suggestions.

Thanks in advance.

Jos?

Jos? G. Conde, MD, MPH
Professor, School of Medicine
Director, CentIT2
UPR Medical Sciences Campus 

Tel  (787) 763-9401 Fax (787) 758-5206

Email: jose.conde1 at upr.edu

URL: http://rcmi.rcm.upr.edu

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20170509/990da8d8/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Dialog.png
Type: image/png
Size: 88452 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20170509/990da8d8/attachment-0001.png>

From dwinsemius at comcast.net  Wed May 10 00:45:51 2017
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 9 May 2017 15:45:51 -0700
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
Message-ID: <B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>


> On May 9, 2017, at 3:08 PM, Jose G Conde Santiago via R-SIG-Mac <r-sig-mac at r-project.org> wrote:
> 
> Hello,
> 
> I recently upgraded to R 3.4.0, but now I get very poor fonts from Rcmdr 2.3-2 as shown below:
> 
> <Dialog.png>

I'm not an Rcmdr user but I tried bringing a current version up. (I included a request to install Rcmdr with all dependencies but X11 complained that aplpack was missing and that needed to be installed as well.)  Seems you don't like teh proportionally space serif font you are seeing which was different than what I saw. Think you might want to show what this returns for you

names(X11Fonts())
[1] "serif"        "sans"         "mono"         "Times"        "Helvetica"   
[6] "CyrTimes"     "CyrHelvetica" "Arial"        "Mincho"     

> X11Fonts()$serif
[1] "-*-times-%s-%s-*-*-%d-*-*-*-*-*-*-*"

I'm running R 3.4.0, El Cap, XQuartz 2.7.11 (xorg-server 1.18.4)  and that won't change since my box is "end of life" per Apple's inflexible OS support.

I tried running your test code and it seemed to lock up my X11 session as well as my R console (Perhaps this is due to running Rcmder in the R.app GUI?) 

Best;
David.



> I reloaded the older version of R (3.3.3), ran Rcmdr and the problem disappeared. I downloaded R 3.4.0 again and the problem with Rcmdr reappeared.

> 
> I read a previous post on the list regarding an issue with Rcmdr and followed your suggestions to that posting:
> 
> 1. The following test went well with R 3.4.0:
> 
>> > library (tcltk)
>> > tk_messageBox(message="test")
>> [1] "ok"
>> > 
> 
> 2. Ran R 3.4.0 from the terminal, and then ran R Commander. The problem persists.
> 
> I am running XQuartz 2.7.11. My machine is an iMac (27-inch, Late 2012); Processor 3.4 GHz Intel Core i7, with 32 GB RAM. Graphics: NVIDIA GeForce GTX 675MX 1024 MB. OS X Sierra 10.12.4.
> 
> I will appreciate any suggestions.
> 
> Thanks in advance.
> 
> Jos?
> 
> Jos? G. Conde, MD, MPH
> Professor, School of Medicine
> Director, CentIT2
> UPR Medical Sciences Campus 
> 
> Tel  (787) 763-9401 Fax (787) 758-5206
> 
> Email: jose.conde1 at upr.edu
> 
> URL: http://rcmi.rcm.upr.edu
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From jfox at mcmaster.ca  Wed May 10 03:52:57 2017
From: jfox at mcmaster.ca (Fox, John)
Date: Wed, 10 May 2017 01:52:57 +0000
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
Message-ID: <D537E927.72B8%jfox@mcmaster.ca>

Dear David,


Jose and I corresponded earlier today, and I can?t duplicate his problem
on two MacBook Pros, both with apparently the same setup as Jose?s: macOS
Sierra, R 3.4.0, Rcmdr 2.3-2, and XQuartz 2.7.11 (i.e., all current
versions). 

If the problem were with availability of X11 fonts, why would the fonts
appear properly for him with R 3.3.3 but not R 3.4.0?

I thought that someone more familiar with Macs than I am might spot the
cause of the problem from Jose?s screenshot, and so I suggested that he
write to the R-SIG-Mac list.

Best,
 John

-------------------------------------
John Fox, Professor
McMaster University
Hamilton, Ontario, Canada
Web: http://socserv.mcmaster.ca/jfox/



On 2017-05-09, 6:45 PM, "R-SIG-Mac on behalf of David Winsemius"
<r-sig-mac-bounces at r-project.org on behalf of dwinsemius at comcast.net>
wrote:

>
>> On May 9, 2017, at 3:08 PM, Jose G Conde Santiago via R-SIG-Mac
>><r-sig-mac at r-project.org> wrote:
>> 
>> Hello,
>> 
>> I recently upgraded to R 3.4.0, but now I get very poor fonts from
>>Rcmdr 2.3-2 as shown below:
>> 
>> <Dialog.png>
>
>I'm not an Rcmdr user but I tried bringing a current version up. (I
>included a request to install Rcmdr with all dependencies but X11
>complained that aplpack was missing and that needed to be installed as
>well.)  Seems you don't like teh proportionally space serif font you are
>seeing which was different than what I saw. Think you might want to show
>what this returns for you
>
>names(X11Fonts())
>[1] "serif"        "sans"         "mono"         "Times"
>"Helvetica"   
>[6] "CyrTimes"     "CyrHelvetica" "Arial"        "Mincho"
>
>> X11Fonts()$serif
>[1] "-*-times-%s-%s-*-*-%d-*-*-*-*-*-*-*"
>
>I'm running R 3.4.0, El Cap, XQuartz 2.7.11 (xorg-server 1.18.4)  and
>that won't change since my box is "end of life" per Apple's inflexible OS
>support.
>
>I tried running your test code and it seemed to lock up my X11 session as
>well as my R console (Perhaps this is due to running Rcmder in the R.app
>GUI?) 
>
>Best;
>David.
>
>
> 
>> I reloaded the older version of R (3.3.3), ran Rcmdr and the problem
>>disappeared. I downloaded R 3.4.0 again and the problem with Rcmdr
>>reappeared.
>
>> 
>> I read a previous post on the list regarding an issue with Rcmdr and
>>followed your suggestions to that posting:
>> 
>> 1. The following test went well with R 3.4.0:
>> 
>>> > library (tcltk)
>>> > tk_messageBox(message="test")
>>> [1] "ok"
>>> > 
>> 
>> 2. Ran R 3.4.0 from the terminal, and then ran R Commander. The problem
>>persists.
>> 
>> I am running XQuartz 2.7.11. My machine is an iMac (27-inch, Late
>>2012); Processor 3.4 GHz Intel Core i7, with 32 GB RAM. Graphics: NVIDIA
>>GeForce GTX 675MX 1024 MB. OS X Sierra 10.12.4.
>> 
>> I will appreciate any suggestions.
>> 
>> Thanks in advance.
>> 
>> Jos?
>> 
>> Jos? G. Conde, MD, MPH
>> Professor, School of Medicine
>> Director, CentIT2
>> UPR Medical Sciences Campus
>> 
>> Tel  (787) 763-9401 Fax (787) 758-5206
>> 
>> Email: jose.conde1 at upr.edu
>> 
>> URL: http://rcmi.rcm.upr.edu
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>David Winsemius
>Alameda, CA, USA
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at r-project.org
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Fri May 12 20:26:14 2017
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 12 May 2017 14:26:14 -0400
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <D537E927.72B8%jfox@mcmaster.ca>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
Message-ID: <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>

In R versions before 3.4.0 we were shipping our own version of fontconfig which was using the following font directories

--with-default-fonts=/usr/X11R6/lib/X11/fonts --with-add-fonts="/System/Library/Fonts,/Library/Fonts,~/Library/Fonts"

As of R 3.4.0 we are using fontconfig from XQuartz (since they started diverging from our version and thus causing issues) so it's now entirely up to the standard font configuration in XQuartz. So my guess would be that you may have some fonts in your private font library which is not configured - possibly in ~/Library/Fonts. As far as I can tell XQuartz uses all of the above except for ~/Library/Fonts so you may need to either install the fonts your want at system level or change your fontconfig configuration to include your private font library. See fc-list to list all your fonts that fontconfig knows about.

Cheers,
Simon


> On May 9, 2017, at 9:52 PM, Fox, John <jfox at mcmaster.ca> wrote:
> 
> Dear David,
> 
> 
> Jose and I corresponded earlier today, and I can?t duplicate his problem
> on two MacBook Pros, both with apparently the same setup as Jose?s: macOS
> Sierra, R 3.4.0, Rcmdr 2.3-2, and XQuartz 2.7.11 (i.e., all current
> versions). 
> 
> If the problem were with availability of X11 fonts, why would the fonts
> appear properly for him with R 3.3.3 but not R 3.4.0?
> 
> I thought that someone more familiar with Macs than I am might spot the
> cause of the problem from Jose?s screenshot, and so I suggested that he
> write to the R-SIG-Mac list.
> 
> Best,
> John
> 
> -------------------------------------
> John Fox, Professor
> McMaster University
> Hamilton, Ontario, Canada
> Web: http://socserv.mcmaster.ca/jfox/
> 
> 
> 
> On 2017-05-09, 6:45 PM, "R-SIG-Mac on behalf of David Winsemius"
> <r-sig-mac-bounces at r-project.org on behalf of dwinsemius at comcast.net>
> wrote:
> 
>> 
>>> On May 9, 2017, at 3:08 PM, Jose G Conde Santiago via R-SIG-Mac
>>> <r-sig-mac at r-project.org> wrote:
>>> 
>>> Hello,
>>> 
>>> I recently upgraded to R 3.4.0, but now I get very poor fonts from
>>> Rcmdr 2.3-2 as shown below:
>>> 
>>> <Dialog.png>
>> 
>> I'm not an Rcmdr user but I tried bringing a current version up. (I
>> included a request to install Rcmdr with all dependencies but X11
>> complained that aplpack was missing and that needed to be installed as
>> well.)  Seems you don't like teh proportionally space serif font you are
>> seeing which was different than what I saw. Think you might want to show
>> what this returns for you
>> 
>> names(X11Fonts())
>> [1] "serif"        "sans"         "mono"         "Times"
>> "Helvetica"   
>> [6] "CyrTimes"     "CyrHelvetica" "Arial"        "Mincho"
>> 
>>> X11Fonts()$serif
>> [1] "-*-times-%s-%s-*-*-%d-*-*-*-*-*-*-*"
>> 
>> I'm running R 3.4.0, El Cap, XQuartz 2.7.11 (xorg-server 1.18.4)  and
>> that won't change since my box is "end of life" per Apple's inflexible OS
>> support.
>> 
>> I tried running your test code and it seemed to lock up my X11 session as
>> well as my R console (Perhaps this is due to running Rcmder in the R.app
>> GUI?) 
>> 
>> Best;
>> David.
>> 
>> 
>> 
>>> I reloaded the older version of R (3.3.3), ran Rcmdr and the problem
>>> disappeared. I downloaded R 3.4.0 again and the problem with Rcmdr
>>> reappeared.
>> 
>>> 
>>> I read a previous post on the list regarding an issue with Rcmdr and
>>> followed your suggestions to that posting:
>>> 
>>> 1. The following test went well with R 3.4.0:
>>> 
>>>>> library (tcltk)
>>>>> tk_messageBox(message="test")
>>>> [1] "ok"
>>>>> 
>>> 
>>> 2. Ran R 3.4.0 from the terminal, and then ran R Commander. The problem
>>> persists.
>>> 
>>> I am running XQuartz 2.7.11. My machine is an iMac (27-inch, Late
>>> 2012); Processor 3.4 GHz Intel Core i7, with 32 GB RAM. Graphics: NVIDIA
>>> GeForce GTX 675MX 1024 MB. OS X Sierra 10.12.4.
>>> 
>>> I will appreciate any suggestions.
>>> 
>>> Thanks in advance.
>>> 
>>> Jos?
>>> 
>>> Jos? G. Conde, MD, MPH
>>> Professor, School of Medicine
>>> Director, CentIT2
>>> UPR Medical Sciences Campus
>>> 
>>> Tel  (787) 763-9401 Fax (787) 758-5206
>>> 
>>> Email: jose.conde1 at upr.edu
>>> 
>>> URL: http://rcmi.rcm.upr.edu
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> David Winsemius
>> Alameda, CA, USA
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jose.conde1 at upr.edu  Mon May 15 18:02:55 2017
From: jose.conde1 at upr.edu (Jose G Conde Santiago)
Date: Mon, 15 May 2017 12:02:55 -0400
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
Message-ID: <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>

Sorry for the late reply. I was away from the office since Wednesday.

I tested in another machine (a Mac Book Pro) with the same operating system, and had the same results: the fonts for the R Commander interface are not smooth. 

I went to System Preferences -> General and found that in both machines the LCD smoothing box is checked.

However, there is a difference. When I go to Rcmdr and select Tools -> Font, my iMac shows Bitstream Vera Sans on the Dialog Font window, and ?fixed? on the ?Scriipt and output font?. On the MacBook I find ?helvetica? and ?courier? respectively.

When I change the fonts on my iMac to ?helvetica? and ?courier?, the fonts appear on the screen as expected.

It seems the fonts are available. My problem is that (now in two Macs) the native font smoothing feature of OS X does not operate in R Commander.

Jos?

Jos? G. Conde, MD, MPH
Catedr?tico, Escuela de Medicina
Director, CentIT2
Recinto de Ciencias M?dicas, UPR

Tel  (787) 763-9401  Fax (787) 758-5206

Correo electr?nico: jose.conde1 at upr.edu

URL: http://rcmi.rcm.upr.edu

> On May 12, 2017, at 2:26 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> In R versions before 3.4.0 we were shipping our own version of fontconfig which was using the following font directories
> 
> --with-default-fonts=/usr/X11R6/lib/X11/fonts --with-add-fonts="/System/Library/Fonts,/Library/Fonts,~/Library/Fonts"
> 
> As of R 3.4.0 we are using fontconfig from XQuartz (since they started diverging from our version and thus causing issues) so it's now entirely up to the standard font configuration in XQuartz. So my guess would be that you may have some fonts in your private font library which is not configured - possibly in ~/Library/Fonts. As far as I can tell XQuartz uses all of the above except for ~/Library/Fonts so you may need to either install the fonts your want at system level or change your fontconfig configuration to include your private font library. See fc-list to list all your fonts that fontconfig knows about.
> 
> Cheers,
> Simon
> 
> 
>> On May 9, 2017, at 9:52 PM, Fox, John <jfox at mcmaster.ca> wrote:
>> 
>> Dear David,
>> 
>> 
>> Jose and I corresponded earlier today, and I can?t duplicate his problem
>> on two MacBook Pros, both with apparently the same setup as Jose?s: macOS
>> Sierra, R 3.4.0, Rcmdr 2.3-2, and XQuartz 2.7.11 (i.e., all current
>> versions). 
>> 
>> If the problem were with availability of X11 fonts, why would the fonts
>> appear properly for him with R 3.3.3 but not R 3.4.0?
>> 
>> I thought that someone more familiar with Macs than I am might spot the
>> cause of the problem from Jose?s screenshot, and so I suggested that he
>> write to the R-SIG-Mac list.
>> 
>> Best,
>> John
>> 
>> -------------------------------------
>> John Fox, Professor
>> McMaster University
>> Hamilton, Ontario, Canada
>> Web: http://socserv.mcmaster.ca/jfox/
>> 
>> 
>> 
>> On 2017-05-09, 6:45 PM, "R-SIG-Mac on behalf of David Winsemius"
>> <r-sig-mac-bounces at r-project.org on behalf of dwinsemius at comcast.net>
>> wrote:
>> 
>>> 
>>>> On May 9, 2017, at 3:08 PM, Jose G Conde Santiago via R-SIG-Mac
>>>> <r-sig-mac at r-project.org> wrote:
>>>> 
>>>> Hello,
>>>> 
>>>> I recently upgraded to R 3.4.0, but now I get very poor fonts from
>>>> Rcmdr 2.3-2 as shown below:
>>>> 
>>>> <Dialog.png>
>>> 
>>> I'm not an Rcmdr user but I tried bringing a current version up. (I
>>> included a request to install Rcmdr with all dependencies but X11
>>> complained that aplpack was missing and that needed to be installed as
>>> well.)  Seems you don't like teh proportionally space serif font you are
>>> seeing which was different than what I saw. Think you might want to show
>>> what this returns for you
>>> 
>>> names(X11Fonts())
>>> [1] "serif"        "sans"         "mono"         "Times"
>>> "Helvetica"   
>>> [6] "CyrTimes"     "CyrHelvetica" "Arial"        "Mincho"
>>> 
>>>> X11Fonts()$serif
>>> [1] "-*-times-%s-%s-*-*-%d-*-*-*-*-*-*-*"
>>> 
>>> I'm running R 3.4.0, El Cap, XQuartz 2.7.11 (xorg-server 1.18.4)  and
>>> that won't change since my box is "end of life" per Apple's inflexible OS
>>> support.
>>> 
>>> I tried running your test code and it seemed to lock up my X11 session as
>>> well as my R console (Perhaps this is due to running Rcmder in the R.app
>>> GUI?) 
>>> 
>>> Best;
>>> David.
>>> 
>>> 
>>> 
>>>> I reloaded the older version of R (3.3.3), ran Rcmdr and the problem
>>>> disappeared. I downloaded R 3.4.0 again and the problem with Rcmdr
>>>> reappeared.
>>> 
>>>> 
>>>> I read a previous post on the list regarding an issue with Rcmdr and
>>>> followed your suggestions to that posting:
>>>> 
>>>> 1. The following test went well with R 3.4.0:
>>>> 
>>>>>> library (tcltk)
>>>>>> tk_messageBox(message="test")
>>>>> [1] "ok"
>>>>>> 
>>>> 
>>>> 2. Ran R 3.4.0 from the terminal, and then ran R Commander. The problem
>>>> persists.
>>>> 
>>>> I am running XQuartz 2.7.11. My machine is an iMac (27-inch, Late
>>>> 2012); Processor 3.4 GHz Intel Core i7, with 32 GB RAM. Graphics: NVIDIA
>>>> GeForce GTX 675MX 1024 MB. OS X Sierra 10.12.4.
>>>> 
>>>> I will appreciate any suggestions.
>>>> 
>>>> Thanks in advance.
>>>> 
>>>> Jos?
>>>> 
>>>> Jos? G. Conde, MD, MPH
>>>> Professor, School of Medicine
>>>> Director, CentIT2
>>>> UPR Medical Sciences Campus
>>>> 
>>>> Tel  (787) 763-9401 Fax (787) 758-5206
>>>> 
>>>> Email: jose.conde1 at upr.edu
>>>> 
>>>> URL: http://rcmi.rcm.upr.edu
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> David Winsemius
>>> Alameda, CA, USA
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jose.conde1 at upr.edu  Mon May 15 20:14:15 2017
From: jose.conde1 at upr.edu (Jose G Conde Santiago)
Date: Mon, 15 May 2017 14:14:15 -0400
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
Message-ID: <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>

This is the actual resolutions.

Jos? 


Jos? G. Conde, MD, MPH
Professor, School of Medicine
Director, CentIT2
UPR Medical Sciences Campus 

Tel  (787) 763-9401 Fax (787) 758-5206

Email: jose.conde1 at upr.edu

URL: http://rcmi.rcm.upr.edu

> On May 15, 2017, at 12:31 PM, Jose G Conde Santiago <jose.conde1 at upr.edu> wrote:
> 
> <Fonts 20 points.png>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20170515/9dfea399/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Fonts 20 points.png
Type: image/png
Size: 78425 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20170515/9dfea399/attachment-0001.png>

From jose.conde1 at upr.edu  Mon May 15 20:16:30 2017
From: jose.conde1 at upr.edu (Jose G Conde Santiago)
Date: Mon, 15 May 2017 14:16:30 -0400
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
Message-ID: <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>

? and the same I get the same issue with R ?help? screens in my iMac. I cannot reproduce this in the macBook.

Jos?









Jos? G. Conde, MD, MPH
Catedr?tico, Escuela de Medicina
Director, CentIT2
Recinto de Ciencias M?dicas, UPR

Tel  (787) 763-9401  Fax (787) 758-5206

Correo electr?nico: jose.conde1 at upr.edu

URL: http://rcmi.rcm.upr.edu

> On May 15, 2017, at 2:14 PM, Jose G Conde Santiago <jose.conde1 at upr.edu> wrote:
> 
> This is the actual resolutions.
> 
> Jos? 
> 
> <Fonts 20 points.png>
> Jos? G. Conde, MD, MPH
> Professor, School of Medicine
> Director, CentIT2
> UPR Medical Sciences Campus 
> 
> Tel  (787) 763-9401 Fax (787) 758-5206
> 
> Email: jose.conde1 at upr.edu
> 
> URL: http://rcmi.rcm.upr.edu
> 
>> On May 15, 2017, at 12:31 PM, Jose G Conde Santiago <jose.conde1 at upr.edu> wrote:
>> 
>> <Fonts 20 points.png>
> 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20170515/bbdf2ef3/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: R help .png
Type: image/png
Size: 96735 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20170515/bbdf2ef3/attachment-0001.png>

From jose.conde1 at upr.edu  Mon May 15 21:17:31 2017
From: jose.conde1 at upr.edu (Jose G Conde Santiago)
Date: Mon, 15 May 2017 15:17:31 -0400
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
 <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
Message-ID: <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>

When I run R without XQuartz, the text from the help screen renders well. I think the problem seems to be related to XQuartz.

Jos?


Jos? G. Conde, MD, MPH
Professor, School of Medicine
Director, CentIT2
UPR Medical Sciences Campus 

Tel  (787) 763-9401 Fax (787) 758-5206

Email: jose.conde1 at upr.edu

URL: http://rcmi.rcm.upr.edu

> On May 15, 2017, at 2:16 PM, Jose G Conde Santiago <jose.conde1 at upr.edu> wrote:
> 
> ? and the same I get the same issue with R ?help? screens in my iMac. I cannot reproduce this in the macBook.
> 
> Jos?
> 
> 
> 
> 
> <R help .png>
> 
> 
> 
> 
> Jos? G. Conde, MD, MPH
> Catedr?tico, Escuela de Medicina
> Director, CentIT2
> Recinto de Ciencias M?dicas, UPR
> 
> Tel  (787) 763-9401  Fax (787) 758-5206
> 
> Correo electr?nico: jose.conde1 at upr.edu
> 
> URL: http://rcmi.rcm.upr.edu
> 
>> On May 15, 2017, at 2:14 PM, Jose G Conde Santiago <jose.conde1 at upr.edu> wrote:
>> 
>> This is the actual resolutions.
>> 
>> Jos? 
>> 
>> <Fonts 20 points.png>
>> Jos? G. Conde, MD, MPH
>> Professor, School of Medicine
>> Director, CentIT2
>> UPR Medical Sciences Campus 
>> 
>> Tel  (787) 763-9401 Fax (787) 758-5206
>> 
>> Email: jose.conde1 at upr.edu
>> 
>> URL: http://rcmi.rcm.upr.edu
>> 
>>> On May 15, 2017, at 12:31 PM, Jose G Conde Santiago <jose.conde1 at upr.edu> wrote:
>>> 
>>> <Fonts 20 points.png>
>> 
> 


From jfox at mcmaster.ca  Mon May 15 23:17:18 2017
From: jfox at mcmaster.ca (Fox, John)
Date: Mon, 15 May 2017 21:17:18 +0000
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
 <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
 <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>

Dear Jose,

It's a bit difficult to respond to your latest messages because you sent so many of them.

I'm not entirely sure what's producing your font problems -- perhaps Simon will have some additional ideas -- but you should be aware that you can't load the Rcmdr package -- or, more generally, the tcltk package -- without XQuartz (or another X11 system). Normally, XQuartz should start automatically when the Rcmdr (or tcltk) package is loaded. That is, you should not have to start it separately.

It may help to know that the Rcmdr package selects its default dialog font by querying the default Tk font, via the command

	tclvalue(.Tcl("font actual TkDefaultFont -family"))

and sets the font for commands and output by querying the default Tk fixed-width font:

	tclvalue(.Tcl("font actual TkFixedFont -family"))

On my Macs, these are respectively the helvetica and courier fonts.

In any event, I'm glad that you seem to have solved your problem.

John

> -----Original Message-----
> From: Jose G Conde Santiago [mailto:jose.conde1 at upr.edu]
> Sent: Monday, May 15, 2017 3:18 PM
> To: Simon Urbanek <simon.urbanek at r-project.org>; Fox, John
> <jfox at mcmaster.ca>; r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] R commander fonts on R 3.4.0
> 
> When I run R without XQuartz, the text from the help screen renders
> well. I think the problem seems to be related to XQuartz.
> 
> Jos?
> 
> 
> Jos? G. Conde, MD, MPH
> Professor, School of Medicine
> Director, CentIT2
> UPR Medical Sciences Campus
> 
> Tel  (787) 763-9401 Fax (787) 758-5206
> 
> Email: jose.conde1 at upr.edu
> 
> URL: http://rcmi.rcm.upr.edu
> 
> > On May 15, 2017, at 2:16 PM, Jose G Conde Santiago
> <jose.conde1 at upr.edu> wrote:
> >
> > ? and the same I get the same issue with R ?help? screens in my iMac.
> I cannot reproduce this in the macBook.
> >
> > Jos?
> >
> >
> >
> >
> > <R help .png>
> >
> >
> >
> >
> > Jos? G. Conde, MD, MPH
> > Catedr?tico, Escuela de Medicina
> > Director, CentIT2
> > Recinto de Ciencias M?dicas, UPR
> >
> > Tel  (787) 763-9401  Fax (787) 758-5206
> >
> > Correo electr?nico: jose.conde1 at upr.edu
> >
> > URL: http://rcmi.rcm.upr.edu
> >
> >> On May 15, 2017, at 2:14 PM, Jose G Conde Santiago
> <jose.conde1 at upr.edu> wrote:
> >>
> >> This is the actual resolutions.
> >>
> >> Jos?
> >>
> >> <Fonts 20 points.png>
> >> Jos? G. Conde, MD, MPH
> >> Professor, School of Medicine
> >> Director, CentIT2
> >> UPR Medical Sciences Campus
> >>
> >> Tel  (787) 763-9401 Fax (787) 758-5206
> >>
> >> Email: jose.conde1 at upr.edu
> >>
> >> URL: http://rcmi.rcm.upr.edu
> >>
> >>> On May 15, 2017, at 12:31 PM, Jose G Conde Santiago
> <jose.conde1 at upr.edu> wrote:
> >>>
> >>> <Fonts 20 points.png>
> >>
> >


From pdalgd at gmail.com  Tue May 16 13:28:25 2017
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 16 May 2017 13:28:25 +0200
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
 <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
 <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>
 <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>
Message-ID: <2E799797-8456-43C6-B681-BB2465F11A14@gmail.com>

It's a build issue relating to Tcl/Tk, not specifically Rcmdr (Rcmdr does something slightly weird[*] with the fonts too, but this seems to be orthogonal to the ugly-font issue).

To see the issue quickly, try 

library(tcltk)
.Tcl("::tk::pkgconfig get fontsystem")

With CRAN 3.3.3, I get 

<Tcl> xft 

and likewise with a local nightly build of R-devel, but CRAN 3.4.0 says

> .Tcl("::tk::pkgconfig get fontsystem")
Error in .Tcl("::tk::pkgconfig get fontsystem") : 
  could not find function ".Tcl"

as does a local build of R-patched (???!!!). 

This is pretty weird. I'll see if I can dig up some more about where the difference is.

-pd



[*] Try library(tcltk); demo(tkfaq)  then library(Rcmdr) and watch the font change in the tkfaq window.


> On 15 May 2017, at 23:17 , Fox, John <jfox at mcmaster.ca> wrote:
> 
> Dear Jose,
> 
> It's a bit difficult to respond to your latest messages because you sent so many of them.
> 
> I'm not entirely sure what's producing your font problems -- perhaps Simon will have some additional ideas -- but you should be aware that you can't load the Rcmdr package -- or, more generally, the tcltk package -- without XQuartz (or another X11 system). Normally, XQuartz should start automatically when the Rcmdr (or tcltk) package is loaded. That is, you should not have to start it separately.
> 
> It may help to know that the Rcmdr package selects its default dialog font by querying the default Tk font, via the command
> 
> 	tclvalue(.Tcl("font actual TkDefaultFont -family"))
> 
> and sets the font for commands and output by querying the default Tk fixed-width font:
> 
> 	tclvalue(.Tcl("font actual TkFixedFont -family"))
> 
> On my Macs, these are respectively the helvetica and courier fonts.
> 
> In any event, I'm glad that you seem to have solved your problem.
> 
> John
> 
>> -----Original Message-----
>> From: Jose G Conde Santiago [mailto:jose.conde1 at upr.edu]
>> Sent: Monday, May 15, 2017 3:18 PM
>> To: Simon Urbanek <simon.urbanek at r-project.org>; Fox, John
>> <jfox at mcmaster.ca>; r-sig-mac at r-project.org
>> Subject: Re: [R-SIG-Mac] R commander fonts on R 3.4.0
>> 
>> When I run R without XQuartz, the text from the help screen renders
>> well. I think the problem seems to be related to XQuartz.
>> 
>> Jos?
>> 
>> 
>> Jos? G. Conde, MD, MPH
>> Professor, School of Medicine
>> Director, CentIT2
>> UPR Medical Sciences Campus
>> 
>> Tel  (787) 763-9401 Fax (787) 758-5206
>> 
>> Email: jose.conde1 at upr.edu
>> 
>> URL: http://rcmi.rcm.upr.edu
>> 
>>> On May 15, 2017, at 2:16 PM, Jose G Conde Santiago
>> <jose.conde1 at upr.edu> wrote:
>>> 
>>> ? and the same I get the same issue with R ?help? screens in my iMac.
>> I cannot reproduce this in the macBook.
>>> 
>>> Jos?
>>> 
>>> 
>>> 
>>> 
>>> <R help .png>
>>> 
>>> 
>>> 
>>> 
>>> Jos? G. Conde, MD, MPH
>>> Catedr?tico, Escuela de Medicina
>>> Director, CentIT2
>>> Recinto de Ciencias M?dicas, UPR
>>> 
>>> Tel  (787) 763-9401  Fax (787) 758-5206
>>> 
>>> Correo electr?nico: jose.conde1 at upr.edu
>>> 
>>> URL: http://rcmi.rcm.upr.edu
>>> 
>>>> On May 15, 2017, at 2:14 PM, Jose G Conde Santiago
>> <jose.conde1 at upr.edu> wrote:
>>>> 
>>>> This is the actual resolutions.
>>>> 
>>>> Jos?
>>>> 
>>>> <Fonts 20 points.png>
>>>> Jos? G. Conde, MD, MPH
>>>> Professor, School of Medicine
>>>> Director, CentIT2
>>>> UPR Medical Sciences Campus
>>>> 
>>>> Tel  (787) 763-9401 Fax (787) 758-5206
>>>> 
>>>> Email: jose.conde1 at upr.edu
>>>> 
>>>> URL: http://rcmi.rcm.upr.edu
>>>> 
>>>>> On May 15, 2017, at 12:31 PM, Jose G Conde Santiago
>> <jose.conde1 at upr.edu> wrote:
>>>>> 
>>>>> <Fonts 20 points.png>
>>>> 
>>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From pdalgd at gmail.com  Tue May 16 14:55:09 2017
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 16 May 2017 14:55:09 +0200
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <2E799797-8456-43C6-B681-BB2465F11A14@gmail.com>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
 <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
 <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>
 <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>
 <2E799797-8456-43C6-B681-BB2465F11A14@gmail.com>
Message-ID: <57C6706E-6773-47F3-9051-A5FD3097CC07@gmail.com>

Curiouser and curiouser, now my local build of R-devel stopped using xft _without any recompile_ I swear that it worked before I installed R-3.4.0.pkg....

I have both /opt/local/ and /usr/local variants of Tcl/Tk 8.6 and only the former has wish8.6 understanding the tk::pkgconfig stuff, so there is plenty of room for confusion. The latter seems to be from Simon's site; the other one could be a MacPorts relic...

-pd

> On 16 May 2017, at 13:28 , peter dalgaard <pdalgd at gmail.com> wrote:
> 
> It's a build issue relating to Tcl/Tk, not specifically Rcmdr (Rcmdr does something slightly weird[*] with the fonts too, but this seems to be orthogonal to the ugly-font issue).
> 
> To see the issue quickly, try 
> 
> library(tcltk)
> .Tcl("::tk::pkgconfig get fontsystem")
> 
> With CRAN 3.3.3, I get 
> 
> <Tcl> xft 
> 
> and likewise with a local nightly build of R-devel, but CRAN 3.4.0 says
> 
>> .Tcl("::tk::pkgconfig get fontsystem")
> Error in .Tcl("::tk::pkgconfig get fontsystem") : 
>  could not find function ".Tcl"
> 
> as does a local build of R-patched (???!!!). 
> 
> This is pretty weird. I'll see if I can dig up some more about where the difference is.
> 
> -pd
> 
> 
> 
> [*] Try library(tcltk); demo(tkfaq)  then library(Rcmdr) and watch the font change in the tkfaq window.
> 
> 
>> On 15 May 2017, at 23:17 , Fox, John <jfox at mcmaster.ca> wrote:
>> 
>> Dear Jose,
>> 
>> It's a bit difficult to respond to your latest messages because you sent so many of them.
>> 
>> I'm not entirely sure what's producing your font problems -- perhaps Simon will have some additional ideas -- but you should be aware that you can't load the Rcmdr package -- or, more generally, the tcltk package -- without XQuartz (or another X11 system). Normally, XQuartz should start automatically when the Rcmdr (or tcltk) package is loaded. That is, you should not have to start it separately.
>> 
>> It may help to know that the Rcmdr package selects its default dialog font by querying the default Tk font, via the command
>> 
>> 	tclvalue(.Tcl("font actual TkDefaultFont -family"))
>> 
>> and sets the font for commands and output by querying the default Tk fixed-width font:
>> 
>> 	tclvalue(.Tcl("font actual TkFixedFont -family"))
>> 
>> On my Macs, these are respectively the helvetica and courier fonts.
>> 
>> In any event, I'm glad that you seem to have solved your problem.
>> 
>> John
>> 
>>> -----Original Message-----
>>> From: Jose G Conde Santiago [mailto:jose.conde1 at upr.edu]
>>> Sent: Monday, May 15, 2017 3:18 PM
>>> To: Simon Urbanek <simon.urbanek at r-project.org>; Fox, John
>>> <jfox at mcmaster.ca>; r-sig-mac at r-project.org
>>> Subject: Re: [R-SIG-Mac] R commander fonts on R 3.4.0
>>> 
>>> When I run R without XQuartz, the text from the help screen renders
>>> well. I think the problem seems to be related to XQuartz.
>>> 
>>> Jos?
>>> 
>>> 
>>> Jos? G. Conde, MD, MPH
>>> Professor, School of Medicine
>>> Director, CentIT2
>>> UPR Medical Sciences Campus
>>> 
>>> Tel  (787) 763-9401 Fax (787) 758-5206
>>> 
>>> Email: jose.conde1 at upr.edu
>>> 
>>> URL: http://rcmi.rcm.upr.edu
>>> 
>>>> On May 15, 2017, at 2:16 PM, Jose G Conde Santiago
>>> <jose.conde1 at upr.edu> wrote:
>>>> 
>>>> ? and the same I get the same issue with R ?help? screens in my iMac.
>>> I cannot reproduce this in the macBook.
>>>> 
>>>> Jos?
>>>> 
>>>> 
>>>> 
>>>> 
>>>> <R help .png>
>>>> 
>>>> 
>>>> 
>>>> 
>>>> Jos? G. Conde, MD, MPH
>>>> Catedr?tico, Escuela de Medicina
>>>> Director, CentIT2
>>>> Recinto de Ciencias M?dicas, UPR
>>>> 
>>>> Tel  (787) 763-9401  Fax (787) 758-5206
>>>> 
>>>> Correo electr?nico: jose.conde1 at upr.edu
>>>> 
>>>> URL: http://rcmi.rcm.upr.edu
>>>> 
>>>>> On May 15, 2017, at 2:14 PM, Jose G Conde Santiago
>>> <jose.conde1 at upr.edu> wrote:
>>>>> 
>>>>> This is the actual resolutions.
>>>>> 
>>>>> Jos?
>>>>> 
>>>>> <Fonts 20 points.png>
>>>>> Jos? G. Conde, MD, MPH
>>>>> Professor, School of Medicine
>>>>> Director, CentIT2
>>>>> UPR Medical Sciences Campus
>>>>> 
>>>>> Tel  (787) 763-9401 Fax (787) 758-5206
>>>>> 
>>>>> Email: jose.conde1 at upr.edu
>>>>> 
>>>>> URL: http://rcmi.rcm.upr.edu
>>>>> 
>>>>>> On May 15, 2017, at 12:31 PM, Jose G Conde Santiago
>>> <jose.conde1 at upr.edu> wrote:
>>>>>> 
>>>>>> <Fonts 20 points.png>
>>>>> 
>>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 
> 

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From pdalgd at gmail.com  Tue May 16 15:18:37 2017
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 16 May 2017 15:18:37 +0200
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <57C6706E-6773-47F3-9051-A5FD3097CC07@gmail.com>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
 <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
 <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>
 <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>
 <2E799797-8456-43C6-B681-BB2465F11A14@gmail.com>
 <57C6706E-6773-47F3-9051-A5FD3097CC07@gmail.com>
Message-ID: <474B2FF5-5435-4F4D-9F67-BF2027D9E1C8@gmail.com>

Double-checked: Indeed, installing 3.3-branch-mavericks.pkg enables xft on my local builds of R-patched and R-devel. Hmmmm......

-pd 

> On 16 May 2017, at 14:55 , peter dalgaard <pdalgd at gmail.com> wrote:
> 
> Curiouser and curiouser, now my local build of R-devel stopped using xft _without any recompile_ I swear that it worked before I installed R-3.4.0.pkg....
> 
> I have both /opt/local/ and /usr/local variants of Tcl/Tk 8.6 and only the former has wish8.6 understanding the tk::pkgconfig stuff, so there is plenty of room for confusion. The latter seems to be from Simon's site; the other one could be a MacPorts relic...
> 
> -pd
> 
>> On 16 May 2017, at 13:28 , peter dalgaard <pdalgd at gmail.com> wrote:
>> 
>> It's a build issue relating to Tcl/Tk, not specifically Rcmdr (Rcmdr does something slightly weird[*] with the fonts too, but this seems to be orthogonal to the ugly-font issue).
>> 
>> To see the issue quickly, try 
>> 
>> library(tcltk)
>> .Tcl("::tk::pkgconfig get fontsystem")
>> 
>> With CRAN 3.3.3, I get 
>> 
>> <Tcl> xft 
>> 
>> and likewise with a local nightly build of R-devel, but CRAN 3.4.0 says
>> 
>>> .Tcl("::tk::pkgconfig get fontsystem")
>> Error in .Tcl("::tk::pkgconfig get fontsystem") : 
>> could not find function ".Tcl"
>> 
>> as does a local build of R-patched (???!!!). 
>> 
>> This is pretty weird. I'll see if I can dig up some more about where the difference is.
>> 
>> -pd
>> 
>> 
>> 
>> [*] Try library(tcltk); demo(tkfaq)  then library(Rcmdr) and watch the font change in the tkfaq window.
>> 
>> 
>>> On 15 May 2017, at 23:17 , Fox, John <jfox at mcmaster.ca> wrote:
>>> 
>>> Dear Jose,
>>> 
>>> It's a bit difficult to respond to your latest messages because you sent so many of them.
>>> 
>>> I'm not entirely sure what's producing your font problems -- perhaps Simon will have some additional ideas -- but you should be aware that you can't load the Rcmdr package -- or, more generally, the tcltk package -- without XQuartz (or another X11 system). Normally, XQuartz should start automatically when the Rcmdr (or tcltk) package is loaded. That is, you should not have to start it separately.
>>> 
>>> It may help to know that the Rcmdr package selects its default dialog font by querying the default Tk font, via the command
>>> 
>>> 	tclvalue(.Tcl("font actual TkDefaultFont -family"))
>>> 
>>> and sets the font for commands and output by querying the default Tk fixed-width font:
>>> 
>>> 	tclvalue(.Tcl("font actual TkFixedFont -family"))
>>> 
>>> On my Macs, these are respectively the helvetica and courier fonts.
>>> 
>>> In any event, I'm glad that you seem to have solved your problem.
>>> 
>>> John
>>> 
>>>> -----Original Message-----
>>>> From: Jose G Conde Santiago [mailto:jose.conde1 at upr.edu]
>>>> Sent: Monday, May 15, 2017 3:18 PM
>>>> To: Simon Urbanek <simon.urbanek at r-project.org>; Fox, John
>>>> <jfox at mcmaster.ca>; r-sig-mac at r-project.org
>>>> Subject: Re: [R-SIG-Mac] R commander fonts on R 3.4.0
>>>> 
>>>> When I run R without XQuartz, the text from the help screen renders
>>>> well. I think the problem seems to be related to XQuartz.
>>>> 
>>>> Jos?
>>>> 
>>>> 
>>>> Jos? G. Conde, MD, MPH
>>>> Professor, School of Medicine
>>>> Director, CentIT2
>>>> UPR Medical Sciences Campus
>>>> 
>>>> Tel  (787) 763-9401 Fax (787) 758-5206
>>>> 
>>>> Email: jose.conde1 at upr.edu
>>>> 
>>>> URL: http://rcmi.rcm.upr.edu
>>>> 
>>>>> On May 15, 2017, at 2:16 PM, Jose G Conde Santiago
>>>> <jose.conde1 at upr.edu> wrote:
>>>>> 
>>>>> ? and the same I get the same issue with R ?help? screens in my iMac.
>>>> I cannot reproduce this in the macBook.
>>>>> 
>>>>> Jos?
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> <R help .png>
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> Jos? G. Conde, MD, MPH
>>>>> Catedr?tico, Escuela de Medicina
>>>>> Director, CentIT2
>>>>> Recinto de Ciencias M?dicas, UPR
>>>>> 
>>>>> Tel  (787) 763-9401  Fax (787) 758-5206
>>>>> 
>>>>> Correo electr?nico: jose.conde1 at upr.edu
>>>>> 
>>>>> URL: http://rcmi.rcm.upr.edu
>>>>> 
>>>>>> On May 15, 2017, at 2:14 PM, Jose G Conde Santiago
>>>> <jose.conde1 at upr.edu> wrote:
>>>>>> 
>>>>>> This is the actual resolutions.
>>>>>> 
>>>>>> Jos?
>>>>>> 
>>>>>> <Fonts 20 points.png>
>>>>>> Jos? G. Conde, MD, MPH
>>>>>> Professor, School of Medicine
>>>>>> Director, CentIT2
>>>>>> UPR Medical Sciences Campus
>>>>>> 
>>>>>> Tel  (787) 763-9401 Fax (787) 758-5206
>>>>>> 
>>>>>> Email: jose.conde1 at upr.edu
>>>>>> 
>>>>>> URL: http://rcmi.rcm.upr.edu
>>>>>> 
>>>>>>> On May 15, 2017, at 12:31 PM, Jose G Conde Santiago
>>>> <jose.conde1 at upr.edu> wrote:
>>>>>>> 
>>>>>>> <Fonts 20 points.png>
>>>>>> 
>>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> -- 
>> Peter Dalgaard, Professor,
>> Center for Statistics, Copenhagen Business School
>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>> Phone: (+45)38153501
>> Office: A 4.23
>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
> 
> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 
> 

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From f.harrell at vanderbilt.edu  Fri May  5 16:46:40 2017
From: f.harrell at vanderbilt.edu (Frank Harrell)
Date: Fri, 5 May 2017 09:46:40 -0500
Subject: [R-SIG-Mac] missing module when compiling R pkg:rms or external
 package SYMPHONY (in support of Bioc pkg symphony)
In-Reply-To: <BE77E503-15F2-4951-90E1-E6C9158D3201@xs4all.nl>
References: <3D589252-6538-4060-9D48-F4B73E708A39@comcast.net>
 <BE77E503-15F2-4951-90E1-E6C9158D3201@xs4all.nl>
Message-ID: <CAMO-wTZ+3P-ES0j4RiqYqehB_8ZrttX5noauppbhHbY4yss8nA@mail.gmail.com>

Please remove me from the emails and substitute Cole Beck
Frank


------------------------------
Frank E Harrell Jr      Professor and Chairman      School of Medicine

Department of *Biostatistics*      *Vanderbilt University*

On Fri, May 5, 2017 at 2:13 AM, Berend Hasselman <bhh at xs4all.nl> wrote:

>
> > On 5 May 2017, at 03:12, David Winsemius <dwinsemius at comcast.net> wrote:
> >
> > Failing to get current rms package to compile (and appears that the CRAN
> build machine fails as well). The penultimate version of rms succeeds.
> >
> > Both from console and cmd-line I get this response in R 3.4.0 (just
> installed today) running El Cap 10.11.6 with Xcode Version 8.2.1 (8C1002):
> >
> > trying URL 'https://cran.cnr.berkeley.edu/src/contrib/rms_5.1-1.tar.gz'
> > Content type 'application/x-gzip' length 521311 bytes (509 KB)
> > ==================================================
> > downloaded 509 KB
> >
> > Loading required package: lattice
> > Loading required package: sos
> > Loading required package: brew
> > Loading required package: rms
> > Loading required package: Hmisc
> > Loading required package: survival
> > Loading required package: Formula
> > Loading required package: stats
> > Loading required package: ggplot2
> >
> > Attaching package: ?Hmisc?
> >
> > The following objects are masked from ?package:base?:
> >
> >   format.pval, round.POSIXt, trunc.POSIXt, units
> >
> > Loading required package: SparseM
> >
> > Attaching package: ?SparseM?
> >
> > The following object is masked from ?package:base?:
> >
> >   backsolve
> >
> > ##------ 2017-05-04 ------##
> > Loading required package: graphics
> >
> > Attaching package: ?graphics?
> >
> > The following object is masked from ?package:SparseM?:
> >
> >   image
> >
> > * installing *source* package ?rms? ...
> > ** package ?rms? successfully unpacked and MD5 sums checked
> > ** libs
> > clang -I/Library/Frameworks/R.framework/Resources/include
> -I/usr/local/include   -fPIC  -Wall -g -O2  -c init.c -o init.o
> > gfortran   -fPIC  -g -O2  -c lrmfit.f -o lrmfit.o
> > gfortran   -fPIC  -g -O2  -c mlmats.f -o mlmats.o
> > gfortran   -fPIC  -g -O2  -c ormuv.f -o ormuv.o
> > gfortran   -fPIC  -g -O2  -c robcovf.f -o robcovf.o
> > clang -dynamiclib -Wl,-headerpad_max_install_names -undefined
> dynamic_lookup -single_module -multiply_defined suppress
> -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o
> rms.so init.o lrmfit.o mlmats.o ormuv.o robcovf.o
> -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0
> -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm -F/Library/Frameworks/R.framework/..
> -framework R -Wl,-framework -Wl,CoreFoundation
> > installing to /Library/Frameworks/R.framework/Versions/3.4/
> Resources/library/rms/libs
> > ** R
> > ** demo
> > ** inst
> > ** preparing package for lazy loading
> > ** help
> > *** installing help indices
> > ** building package indices
> > ** testing if installed package can be loaded
> > Loading required package: lattice
> > Loading required package: sos
> > Loading required package: brew
> > Loading required package: rms
> > Loading required package: Hmisc
> > Loading required package: survival
> > Loading required package: Formula
> > Loading required package: stats
> > Loading required package: ggplot2
> >
> > Attaching package: ?Hmisc?
> >
> > The following objects are masked from ?package:base?:
> >
> >   format.pval, round.POSIXt, trunc.POSIXt, units
> >
> > Loading required package: SparseM
> >
> > Attaching package: ?SparseM?
> >
> > The following object is masked from ?package:base?:
> >
> >   backsolve
> >
> > Error: package or namespace load failed for ?rms? in dyn.load(file,
> DLLpath = DLLpath, ...):
> > unable to load shared object '/Library/Frameworks/R.
> framework/Versions/3.4/Resources/library/rms/libs/rms.so':
> > dlopen(/Library/Frameworks/R.framework/Versions/3.4/
> Resources/library/rms/libs/rms.so, 6): Symbol not found: ___addtf3
> > Referenced from: /usr/local/lib/libquadmath.0.dylib
> > Expected in: /usr/local/lib/libgcc_s.1.dylib
> > in /usr/local/lib/libquadmath.0.dylib
> > ##------ 2017-05-04 ------##
> > Loading required package: graphics
> >
> > Attaching package: ?graphics?
> >
> > The following object is masked from ?package:SparseM?:
> >
> >   image
> >
> > Error: package or namespace load failed for ?rms? in dyn.load(file,
> DLLpath = DLLpath, ...):
> > unable to load shared object '/Library/Frameworks/R.
> framework/Versions/3.4/Resources/library/rms/libs/rms.so':
> > dlopen(/Library/Frameworks/R.framework/Versions/3.4/
> Resources/library/rms/libs/rms.so, 6): Symbol not found: ___addtf3
> > Referenced from: /usr/local/lib/libquadmath.0.dylib
> > Expected in: /usr/local/lib/libgcc_s.1.dylib
> > in /usr/local/lib/libquadmath.0.dylib
> > Error: loading failed
> > Execution halted
> >
> > The downloaded source packages are in
> >       ?/private/var/folders/yq/m3j1jqtj6hq6s5mq_
> v0jn3s80000gn/T/Rtmpplg8Th/downloaded_packages?
> >
> > (WARNING: partial output only, ask package author to use Rprintf
> instead!)
> > ERROR: loading failed
> > * removing ?/Library/Frameworks/R.framework/Versions/3.4/
> Resources/library/rms?
> > * restoring previous ?/Library/Frameworks/R.framework/Versions/3.4/
> Resources/library/rms?
> >
> > I get the same result with this (minus the request "to use Rprinf
> instead!"
> >
> > $ R CMD INSTALL /Users/davidwinsemius/Downloads/rms_5.1-1.tar.gz
> >
> > Reported to Frank but he has seen no problems in his Linux builds.
> >
> > This page:
> >
> > https://github.com/JuliaLang/julia/issues/636
> >
> > ...  has a posting that says:
> >
> > "I found the solution: putting /usr/local/gfortran/lib at the beginning
> of DYLD_LIBRARY_PATH solved the problem. Previously I had .../gfortran/lib
> at the end of DYLD_LIBRARY_PATH."
> >
> > What more do I need to supply?
> >
>
> A binary version of rms_5.1-1 is available on CRAN (now).
>
> I downloaded the rms source (manually) and ran R CMD check on the source
> with this:
>
>   _R_CHECK_FORCE_SUGGESTS_=0 R CMD check rms
>
> and have not encountered any problems.
>
> From the output you provided you appear to be using Apple's clang and not
> clang4.
>
> I'm using clang4 as indicated on https://cran.r-project.org/
> bin/macosx/tools/
> and have this in my private Makevars:
>
> CC=/usr/local/clang4/bin/clang
> CXX=/usr/local/clang4/bin/clang++
> LDFLAGS =-L/usr/local/clang4/lib
>
> I also have gfortran 6.1 for El Capitan (same as you).
> Maybe not using clang4 is the source of the problem.
>
> Berend Hasselman
> > --
> >
> > David Winsemius
> > Alameda, CA, USA
> >
> >
> >> sessionInfo()
> > R version 3.4.0 (2017-04-21)
> > Platform: x86_64-apple-darwin15.6.0 (64-bit)
> > Running under: OS X El Capitan 10.11.6
> >
> > Matrix products: default
> > BLAS: /Library/Frameworks/R.framework/Versions/3.4/
> Resources/lib/libRblas.0.dylib
> > LAPACK: /Library/Frameworks/R.framework/Versions/3.4/
> Resources/lib/libRlapack.dylib
> >
> > locale:
> > [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >
> > attached base packages:
> > [1] grDevices utils     datasets  graphics  stats     methods   base
> >
> > other attached packages:
> > [1] rms_5.1-1       SparseM_1.77    Hmisc_4.0-3     ggplot2_2.2.1
> > [5] Formula_1.2-1   survival_2.41-3 sos_1.4-1       brew_1.0-6
> > [9] lattice_0.20-35
> >
> > loaded via a namespace (and not attached):
> > [1] Rcpp_0.12.10        compiler_3.4.0      RColorBrewer_1.1-2
> > [4] plyr_1.8.4          base64enc_0.1-3     tools_3.4.0
> > [7] rpart_4.1-11        digest_0.6.12       tibble_1.3.0
> > [10] polspline_1.1.12    gtable_0.2.0        checkmate_1.8.2
> > [13] htmlTable_1.9       nlme_3.1-131        Matrix_1.2-10
> > [16] mvtnorm_1.0-6       gridExtra_2.2.1     stringr_1.2.0
> > [19] cluster_2.0.6       knitr_1.15.1        htmlwidgets_0.8
> > [22] MatrixModels_0.4-1  grid_3.4.0          nnet_7.3-12
> > [25] data.table_1.10.4   foreign_0.8-68      multcomp_1.4-6
> > [28] TH.data_1.0-8       latticeExtra_0.6-28 magrittr_1.5
> > [31] codetools_0.2-15    MASS_7.3-47         backports_1.0.5
> > [34] scales_0.4.1        htmltools_0.3.6     splines_3.4.0
> > [37] colorspace_1.3-2    quantreg_5.33       sandwich_2.3-4
> > [40] stringi_1.1.5       acepack_1.4.1       lazyeval_0.2.0
> > [43] munsell_0.4.3       zoo_1.8-0
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>

	[[alternative HTML version deleted]]


From brandon.hurr at gmail.com  Tue May 16 17:04:19 2017
From: brandon.hurr at gmail.com (Brandon Hurr)
Date: Tue, 16 May 2017 08:04:19 -0700
Subject: [R-SIG-Mac] R 3.4.0 problem
In-Reply-To: <CAEW+BD+YYibt97NEv79yFB3zhg4gzxeHn5LNnPNYoKvBB00cuw@mail.gmail.com>
References: <CAEW+BD+YYibt97NEv79yFB3zhg4gzxeHn5LNnPNYoKvBB00cuw@mail.gmail.com>
Message-ID: <CAG2OMvsk1NO8RK4P1P8w-aJPL4hee5ngnZw2gT_doR9O5_z4Rg@mail.gmail.com>

The key to understanding your current issue is the following lines in
your output.

checking for __gmpz_ui_sub in -lgmp... no
configure: error: GNU MP not found, or not 4.1.4 or up, see
http://gmplib.org

You need to visit that website and install GMP. The R `gmp` package
requires the GMP library to be installed before it can work so it
fails to install.

HTH,
B


On Mon, Apr 24, 2017 at 11:49 PM, catalin roibu <catalinroibu at gmail.com> wrote:
> Dear all,
>
> I have a problem with the newest R version. I'm trying to install a
> specific package dplR who need the gpm package and I have this error on my
> macbook (OS Sierra):
>
>> install.packages("dplR")
> also installing the dependency ?gmp?
>
> Packages which are only available in source form, and may
>   need compilation of C/C++/Fortran: ?gmp? ?dplR?
> Do you want to attempt to install these from sources?
> y/n: y
> installing the source packages ?gmp?, ?dplR?
>
> trying URL 'https://cran.rstudio.com/src/contrib/gmp_0.5-13.1.tar.gz'
> Content type 'application/x-gzip' length 131321 bytes (128 KB)
> ==================================================
> downloaded 128 KB
>
> trying URL 'https://cran.rstudio.com/src/contrib/dplR_1.6.5.tar.gz'
> Content type 'application/x-gzip' length 1672999 bytes (1.6 MB)
> ==================================================
> downloaded 1.6 MB
>
> * installing *source* package ?gmp? ...
> ** package ?gmp? successfully unpacked and MD5 sums checked
> creating cache ./config.cache
> checking for __gmpz_ui_sub in -lgmp... no
> configure: error: GNU MP not found, or not 4.1.4 or up, see
> http://gmplib.org
> ERROR: configuration failed for package ?gmp?
> * removing ?/Library/Frameworks/R.framework/Versions/3.4/
> Resources/library/gmp?
> Warning in install.packages :
>   installation of package ?gmp? had non-zero exit status
> ERROR: dependency ?gmp? is not available for package ?dplR?
> * removing ?/Library/Frameworks/R.framework/Versions/3.4/
> Resources/library/dplR?
> Warning in install.packages :
>   installation of package ?dplR? had non-zero exit status
>
> The downloaded source packages are in
> ?/private/var/folders/c5/6g4vbk5x55586m8ky2v_6pbc0000gn/T/RtmprYzSE8/
> downloaded_packages?
>
>
> All the other packages work in good conditions.
> Please help me to solve this annoying situation.
>
> Best regards!
>
> CR
>
>
> --
>
> -
> -
> Catalin-Constantin ROIBU
>
> Lecturer PhD, Forestry engineer
> Forestry Faculty of Suceava
> Str. Universitatii no. 13, Suceava, 720229, Romania
> office phone      +4 0230 52 29 78, ext. 531
> mobile phone    +4 0745 53 18 01
> FAX:                +4 0230 52 16 64
> silvic.usv.ro <http://www.usv.ro/>
>
>
>
>   <https://mailtrack.io/> Sent with Mailtrack
> <https://mailtrack.io/install?source=signature&lang=en&referral=catalinroibu at gmail.com&idSignature=22>
> <#>
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jose.conde1 at upr.edu  Tue May 16 17:25:50 2017
From: jose.conde1 at upr.edu (Jose G Conde Santiago)
Date: Tue, 16 May 2017 11:25:50 -0400
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
 <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
 <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>
 <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>
Message-ID: <4C311FAC-C9DC-4BAD-B049-EEB34E5C9166@upr.edu>

Hello, John.

Thanks for the information and (all) for your patience. Unfortunately I am not that familiar with the inner workings of R. I just went back to R 3.3.3 for now.

Jos?

Jos? G. Conde, MD, MPH
Catedr?tico, Escuela de Medicina
Director, CentIT2
Recinto de Ciencias M?dicas, UPR

Tel  (787) 763-9401  Fax (787) 758-5206

Correo electr?nico: jose.conde1 at upr.edu

URL: http://rcmi.rcm.upr.edu

> On May 15, 2017, at 5:17 PM, Fox, John <jfox at mcmaster.ca> wrote:
> 
> Dear Jose,
> 
> It's a bit difficult to respond to your latest messages because you sent so many of them.
> 
> I'm not entirely sure what's producing your font problems -- perhaps Simon will have some additional ideas -- but you should be aware that you can't load the Rcmdr package -- or, more generally, the tcltk package -- without XQuartz (or another X11 system). Normally, XQuartz should start automatically when the Rcmdr (or tcltk) package is loaded. That is, you should not have to start it separately.
> 
> It may help to know that the Rcmdr package selects its default dialog font by querying the default Tk font, via the command
> 
> 	tclvalue(.Tcl("font actual TkDefaultFont -family"))
> 
> and sets the font for commands and output by querying the default Tk fixed-width font:
> 
> 	tclvalue(.Tcl("font actual TkFixedFont -family"))
> 
> On my Macs, these are respectively the helvetica and courier fonts.
> 
> In any event, I'm glad that you seem to have solved your problem.
> 
> John
> 
>> -----Original Message-----
>> From: Jose G Conde Santiago [mailto:jose.conde1 at upr.edu]
>> Sent: Monday, May 15, 2017 3:18 PM
>> To: Simon Urbanek <simon.urbanek at r-project.org>; Fox, John
>> <jfox at mcmaster.ca>; r-sig-mac at r-project.org
>> Subject: Re: [R-SIG-Mac] R commander fonts on R 3.4.0
>> 
>> When I run R without XQuartz, the text from the help screen renders
>> well. I think the problem seems to be related to XQuartz.
>> 
>> Jos?
>> 
>> 
>> Jos? G. Conde, MD, MPH
>> Professor, School of Medicine
>> Director, CentIT2
>> UPR Medical Sciences Campus
>> 
>> Tel  (787) 763-9401 Fax (787) 758-5206
>> 
>> Email: jose.conde1 at upr.edu
>> 
>> URL: http://rcmi.rcm.upr.edu
>> 
>>> On May 15, 2017, at 2:16 PM, Jose G Conde Santiago
>> <jose.conde1 at upr.edu> wrote:
>>> 
>>> ? and the same I get the same issue with R ?help? screens in my iMac.
>> I cannot reproduce this in the macBook.
>>> 
>>> Jos?
>>> 
>>> 
>>> 
>>> 
>>> <R help .png>
>>> 
>>> 
>>> 
>>> 
>>> Jos? G. Conde, MD, MPH
>>> Catedr?tico, Escuela de Medicina
>>> Director, CentIT2
>>> Recinto de Ciencias M?dicas, UPR
>>> 
>>> Tel  (787) 763-9401  Fax (787) 758-5206
>>> 
>>> Correo electr?nico: jose.conde1 at upr.edu
>>> 
>>> URL: http://rcmi.rcm.upr.edu
>>> 
>>>> On May 15, 2017, at 2:14 PM, Jose G Conde Santiago
>> <jose.conde1 at upr.edu> wrote:
>>>> 
>>>> This is the actual resolutions.
>>>> 
>>>> Jos?
>>>> 
>>>> <Fonts 20 points.png>
>>>> Jos? G. Conde, MD, MPH
>>>> Professor, School of Medicine
>>>> Director, CentIT2
>>>> UPR Medical Sciences Campus
>>>> 
>>>> Tel  (787) 763-9401 Fax (787) 758-5206
>>>> 
>>>> Email: jose.conde1 at upr.edu
>>>> 
>>>> URL: http://rcmi.rcm.upr.edu
>>>> 
>>>>> On May 15, 2017, at 12:31 PM, Jose G Conde Santiago
>> <jose.conde1 at upr.edu> wrote:
>>>>> 
>>>>> <Fonts 20 points.png>
>>>> 
>>> 
> 


From pdalgd at gmail.com  Tue May 16 18:20:09 2017
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 16 May 2017 18:20:09 +0200
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <474B2FF5-5435-4F4D-9F67-BF2027D9E1C8@gmail.com>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
 <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
 <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>
 <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>
 <2E799797-8456-43C6-B681-BB2465F11A14@gmail.com>
 <57C6706E-6773-47F3-9051-A5FD3097CC07@gmail.com>
 <474B2FF5-5435-4F4D-9F67-BF2027D9E1C8@gmail.com>
Message-ID: <AB3E7E39-449E-4B40-AD4C-7FE55FD44239@gmail.com>

Mystery solved after looking into the actual .pkg files. They simply contain a full Tcl/Tk which installs into /usr/local, which obviously affects anything that links it dynamically. I somehow thought that they would install somewhere separate. (Stop grinning, Simon!)

Anyways, the way forward must be to get Tcl/Tk compiled exactly as they were in 3.3.x.

-pd




> On 16 May 2017, at 15:18 , peter dalgaard <pdalgd at gmail.com> wrote:
> 
> Double-checked: Indeed, installing 3.3-branch-mavericks.pkg enables xft on my local builds of R-patched and R-devel. Hmmmm......
> 
> -pd 
> 
>> On 16 May 2017, at 14:55 , peter dalgaard <pdalgd at gmail.com> wrote:
>> 
>> Curiouser and curiouser, now my local build of R-devel stopped using xft _without any recompile_ I swear that it worked before I installed R-3.4.0.pkg....
>> 
>> I have both /opt/local/ and /usr/local variants of Tcl/Tk 8.6 and only the former has wish8.6 understanding the tk::pkgconfig stuff, so there is plenty of room for confusion. The latter seems to be from Simon's site; the other one could be a MacPorts relic...
>> 
>> -pd
>> 
>>> On 16 May 2017, at 13:28 , peter dalgaard <pdalgd at gmail.com> wrote:
>>> 
>>> It's a build issue relating to Tcl/Tk, not specifically Rcmdr (Rcmdr does something slightly weird[*] with the fonts too, but this seems to be orthogonal to the ugly-font issue).
>>> 
>>> To see the issue quickly, try 
>>> 
>>> library(tcltk)
>>> .Tcl("::tk::pkgconfig get fontsystem")
>>> 
>>> With CRAN 3.3.3, I get 
>>> 
>>> <Tcl> xft 
>>> 
>>> and likewise with a local nightly build of R-devel, but CRAN 3.4.0 says
>>> 
>>>> .Tcl("::tk::pkgconfig get fontsystem")
>>> Error in .Tcl("::tk::pkgconfig get fontsystem") : 
>>> could not find function ".Tcl"
>>> 
>>> as does a local build of R-patched (???!!!). 
>>> 
>>> This is pretty weird. I'll see if I can dig up some more about where the difference is.
>>> 
>>> -pd
>>> 
>>> 
>>> 
>>> [*] Try library(tcltk); demo(tkfaq)  then library(Rcmdr) and watch the font change in the tkfaq window.
>>> 
>>> 
>>>> On 15 May 2017, at 23:17 , Fox, John <jfox at mcmaster.ca> wrote:
>>>> 
>>>> Dear Jose,
>>>> 
>>>> It's a bit difficult to respond to your latest messages because you sent so many of them.
>>>> 
>>>> I'm not entirely sure what's producing your font problems -- perhaps Simon will have some additional ideas -- but you should be aware that you can't load the Rcmdr package -- or, more generally, the tcltk package -- without XQuartz (or another X11 system). Normally, XQuartz should start automatically when the Rcmdr (or tcltk) package is loaded. That is, you should not have to start it separately.
>>>> 
>>>> It may help to know that the Rcmdr package selects its default dialog font by querying the default Tk font, via the command
>>>> 
>>>> 	tclvalue(.Tcl("font actual TkDefaultFont -family"))
>>>> 
>>>> and sets the font for commands and output by querying the default Tk fixed-width font:
>>>> 
>>>> 	tclvalue(.Tcl("font actual TkFixedFont -family"))
>>>> 
>>>> On my Macs, these are respectively the helvetica and courier fonts.
>>>> 
>>>> In any event, I'm glad that you seem to have solved your problem.
>>>> 
>>>> John
>>>> 
>>>>> -----Original Message-----
>>>>> From: Jose G Conde Santiago [mailto:jose.conde1 at upr.edu]
>>>>> Sent: Monday, May 15, 2017 3:18 PM
>>>>> To: Simon Urbanek <simon.urbanek at r-project.org>; Fox, John
>>>>> <jfox at mcmaster.ca>; r-sig-mac at r-project.org
>>>>> Subject: Re: [R-SIG-Mac] R commander fonts on R 3.4.0
>>>>> 
>>>>> When I run R without XQuartz, the text from the help screen renders
>>>>> well. I think the problem seems to be related to XQuartz.
>>>>> 
>>>>> Jos?
>>>>> 
>>>>> 
>>>>> Jos? G. Conde, MD, MPH
>>>>> Professor, School of Medicine
>>>>> Director, CentIT2
>>>>> UPR Medical Sciences Campus
>>>>> 
>>>>> Tel  (787) 763-9401 Fax (787) 758-5206
>>>>> 
>>>>> Email: jose.conde1 at upr.edu
>>>>> 
>>>>> URL: http://rcmi.rcm.upr.edu
>>>>> 
>>>>>> On May 15, 2017, at 2:16 PM, Jose G Conde Santiago
>>>>> <jose.conde1 at upr.edu> wrote:
>>>>>> 
>>>>>> ? and the same I get the same issue with R ?help? screens in my iMac.
>>>>> I cannot reproduce this in the macBook.
>>>>>> 
>>>>>> Jos?
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> <R help .png>
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> Jos? G. Conde, MD, MPH
>>>>>> Catedr?tico, Escuela de Medicina
>>>>>> Director, CentIT2
>>>>>> Recinto de Ciencias M?dicas, UPR
>>>>>> 
>>>>>> Tel  (787) 763-9401  Fax (787) 758-5206
>>>>>> 
>>>>>> Correo electr?nico: jose.conde1 at upr.edu
>>>>>> 
>>>>>> URL: http://rcmi.rcm.upr.edu
>>>>>> 
>>>>>>> On May 15, 2017, at 2:14 PM, Jose G Conde Santiago
>>>>> <jose.conde1 at upr.edu> wrote:
>>>>>>> 
>>>>>>> This is the actual resolutions.
>>>>>>> 
>>>>>>> Jos?
>>>>>>> 
>>>>>>> <Fonts 20 points.png>
>>>>>>> Jos? G. Conde, MD, MPH
>>>>>>> Professor, School of Medicine
>>>>>>> Director, CentIT2
>>>>>>> UPR Medical Sciences Campus
>>>>>>> 
>>>>>>> Tel  (787) 763-9401 Fax (787) 758-5206
>>>>>>> 
>>>>>>> Email: jose.conde1 at upr.edu
>>>>>>> 
>>>>>>> URL: http://rcmi.rcm.upr.edu
>>>>>>> 
>>>>>>>> On May 15, 2017, at 12:31 PM, Jose G Conde Santiago
>>>>> <jose.conde1 at upr.edu> wrote:
>>>>>>>> 
>>>>>>>> <Fonts 20 points.png>
>>>>>>> 
>>>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> -- 
>>> Peter Dalgaard, Professor,
>>> Center for Statistics, Copenhagen Business School
>>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>>> Phone: (+45)38153501
>>> Office: A 4.23
>>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>> 
>> -- 
>> Peter Dalgaard, Professor,
>> Center for Statistics, Copenhagen Business School
>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>> Phone: (+45)38153501
>> Office: A 4.23
>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
> 
> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 
> 

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From simon.urbanek at r-project.org  Tue May 16 19:30:35 2017
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 16 May 2017 13:30:35 -0400
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <AB3E7E39-449E-4B40-AD4C-7FE55FD44239@gmail.com>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
 <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
 <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>
 <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>
 <2E799797-8456-43C6-B681-BB2465F11A14@gmail.com>
 <57C6706E-6773-47F3-9051-A5FD3097CC07@gmail.com>
 <474B2FF5-5435-4F4D-9F67-BF2027D9E1C8@gmail.com>
 <AB3E7E39-449E-4B40-AD4C-7FE55FD44239@gmail.com>
Message-ID: <8AF15F28-9173-459E-82DE-15ED8D2DA102@r-project.org>


> On May 16, 2017, at 12:20 PM, peter dalgaard <pdalgd at gmail.com> wrote:
> 
> Mystery solved after looking into the actual .pkg files. They simply contain a full Tcl/Tk which installs into /usr/local, which obviously affects anything that links it dynamically. I somehow thought that they would install somewhere separate. (Stop grinning, Simon!)
> 

I'm not sure I understand the "they" - is it us? The difference in R 3.4.0 is that we are using everything from the system (and XQuartz) whereas before we were building dependencies ourselves before.


> Anyways, the way forward must be to get Tcl/Tk compiled exactly as they were in 3.3.x.
> 

R before 3.4.0 we used Tcl/Tk 8.6.0 for OS X Mavericks from 2013, for R 3.4.0 we are using Tcl/Tk 8.6.6 for El Capitan.

FWIW the config flags were
--disable-corefoundation --disable-framework --disable-aqua --enable-64bit --with-tcl=/usr/local/lib --with-x --x-includes=/opt/X11/include --x-libraries=/opt/X11/lib CC=clang CXX=clang++

I have no idea what you are talking about here so if anyone has suggestions to test, let me know.

Cheers,
Simon



> -pd
> 
> 
> 
> 
>> On 16 May 2017, at 15:18 , peter dalgaard <pdalgd at gmail.com> wrote:
>> 
>> Double-checked: Indeed, installing 3.3-branch-mavericks.pkg enables xft on my local builds of R-patched and R-devel. Hmmmm......
>> 
>> -pd 
>> 
>>> On 16 May 2017, at 14:55 , peter dalgaard <pdalgd at gmail.com> wrote:
>>> 
>>> Curiouser and curiouser, now my local build of R-devel stopped using xft _without any recompile_ I swear that it worked before I installed R-3.4.0.pkg....
>>> 
>>> I have both /opt/local/ and /usr/local variants of Tcl/Tk 8.6 and only the former has wish8.6 understanding the tk::pkgconfig stuff, so there is plenty of room for confusion. The latter seems to be from Simon's site; the other one could be a MacPorts relic...
>>> 
>>> -pd
>>> 
>>>> On 16 May 2017, at 13:28 , peter dalgaard <pdalgd at gmail.com> wrote:
>>>> 
>>>> It's a build issue relating to Tcl/Tk, not specifically Rcmdr (Rcmdr does something slightly weird[*] with the fonts too, but this seems to be orthogonal to the ugly-font issue).
>>>> 
>>>> To see the issue quickly, try 
>>>> 
>>>> library(tcltk)
>>>> .Tcl("::tk::pkgconfig get fontsystem")
>>>> 
>>>> With CRAN 3.3.3, I get 
>>>> 
>>>> <Tcl> xft 
>>>> 
>>>> and likewise with a local nightly build of R-devel, but CRAN 3.4.0 says
>>>> 
>>>>> .Tcl("::tk::pkgconfig get fontsystem")
>>>> Error in .Tcl("::tk::pkgconfig get fontsystem") : 
>>>> could not find function ".Tcl"
>>>> 
>>>> as does a local build of R-patched (???!!!). 
>>>> 
>>>> This is pretty weird. I'll see if I can dig up some more about where the difference is.
>>>> 
>>>> -pd
>>>> 
>>>> 
>>>> 
>>>> [*] Try library(tcltk); demo(tkfaq)  then library(Rcmdr) and watch the font change in the tkfaq window.
>>>> 
>>>> 
>>>>> On 15 May 2017, at 23:17 , Fox, John <jfox at mcmaster.ca> wrote:
>>>>> 
>>>>> Dear Jose,
>>>>> 
>>>>> It's a bit difficult to respond to your latest messages because you sent so many of them.
>>>>> 
>>>>> I'm not entirely sure what's producing your font problems -- perhaps Simon will have some additional ideas -- but you should be aware that you can't load the Rcmdr package -- or, more generally, the tcltk package -- without XQuartz (or another X11 system). Normally, XQuartz should start automatically when the Rcmdr (or tcltk) package is loaded. That is, you should not have to start it separately.
>>>>> 
>>>>> It may help to know that the Rcmdr package selects its default dialog font by querying the default Tk font, via the command
>>>>> 
>>>>> 	tclvalue(.Tcl("font actual TkDefaultFont -family"))
>>>>> 
>>>>> and sets the font for commands and output by querying the default Tk fixed-width font:
>>>>> 
>>>>> 	tclvalue(.Tcl("font actual TkFixedFont -family"))
>>>>> 
>>>>> On my Macs, these are respectively the helvetica and courier fonts.
>>>>> 
>>>>> In any event, I'm glad that you seem to have solved your problem.
>>>>> 
>>>>> John
>>>>> 
>>>>>> -----Original Message-----
>>>>>> From: Jose G Conde Santiago [mailto:jose.conde1 at upr.edu]
>>>>>> Sent: Monday, May 15, 2017 3:18 PM
>>>>>> To: Simon Urbanek <simon.urbanek at r-project.org>; Fox, John
>>>>>> <jfox at mcmaster.ca>; r-sig-mac at r-project.org
>>>>>> Subject: Re: [R-SIG-Mac] R commander fonts on R 3.4.0
>>>>>> 
>>>>>> When I run R without XQuartz, the text from the help screen renders
>>>>>> well. I think the problem seems to be related to XQuartz.
>>>>>> 
>>>>>> Jos?
>>>>>> 
>>>>>> 
>>>>>> Jos? G. Conde, MD, MPH
>>>>>> Professor, School of Medicine
>>>>>> Director, CentIT2
>>>>>> UPR Medical Sciences Campus
>>>>>> 
>>>>>> Tel  (787) 763-9401 Fax (787) 758-5206
>>>>>> 
>>>>>> Email: jose.conde1 at upr.edu
>>>>>> 
>>>>>> URL: http://rcmi.rcm.upr.edu
>>>>>> 
>>>>>>> On May 15, 2017, at 2:16 PM, Jose G Conde Santiago
>>>>>> <jose.conde1 at upr.edu> wrote:
>>>>>>> 
>>>>>>> ? and the same I get the same issue with R ?help? screens in my iMac.
>>>>>> I cannot reproduce this in the macBook.
>>>>>>> 
>>>>>>> Jos?
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>> <R help .png>
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>> Jos? G. Conde, MD, MPH
>>>>>>> Catedr?tico, Escuela de Medicina
>>>>>>> Director, CentIT2
>>>>>>> Recinto de Ciencias M?dicas, UPR
>>>>>>> 
>>>>>>> Tel  (787) 763-9401  Fax (787) 758-5206
>>>>>>> 
>>>>>>> Correo electr?nico: jose.conde1 at upr.edu
>>>>>>> 
>>>>>>> URL: http://rcmi.rcm.upr.edu
>>>>>>> 
>>>>>>>> On May 15, 2017, at 2:14 PM, Jose G Conde Santiago
>>>>>> <jose.conde1 at upr.edu> wrote:
>>>>>>>> 
>>>>>>>> This is the actual resolutions.
>>>>>>>> 
>>>>>>>> Jos?
>>>>>>>> 
>>>>>>>> <Fonts 20 points.png>
>>>>>>>> Jos? G. Conde, MD, MPH
>>>>>>>> Professor, School of Medicine
>>>>>>>> Director, CentIT2
>>>>>>>> UPR Medical Sciences Campus
>>>>>>>> 
>>>>>>>> Tel  (787) 763-9401 Fax (787) 758-5206
>>>>>>>> 
>>>>>>>> Email: jose.conde1 at upr.edu
>>>>>>>> 
>>>>>>>> URL: http://rcmi.rcm.upr.edu
>>>>>>>> 
>>>>>>>>> On May 15, 2017, at 12:31 PM, Jose G Conde Santiago
>>>>>> <jose.conde1 at upr.edu> wrote:
>>>>>>>>> 
>>>>>>>>> <Fonts 20 points.png>
>>>>>>>> 
>>>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> -- 
>>>> Peter Dalgaard, Professor,
>>>> Center for Statistics, Copenhagen Business School
>>>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>>>> Phone: (+45)38153501
>>>> Office: A 4.23
>>>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>> 
>>> -- 
>>> Peter Dalgaard, Professor,
>>> Center for Statistics, Copenhagen Business School
>>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>>> Phone: (+45)38153501
>>> Office: A 4.23
>>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>> 
>> -- 
>> Peter Dalgaard, Professor,
>> Center for Statistics, Copenhagen Business School
>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>> Phone: (+45)38153501
>> Office: A 4.23
>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
> 
> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 
> 


From jfox at mcmaster.ca  Tue May 16 19:57:46 2017
From: jfox at mcmaster.ca (Fox, John)
Date: Tue, 16 May 2017 17:57:46 +0000
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <8AF15F28-9173-459E-82DE-15ED8D2DA102@r-project.org>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
 <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
 <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>
 <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>
 <2E799797-8456-43C6-B681-BB2465F11A14@gmail.com>
 <57C6706E-6773-47F3-9051-A5FD3097CC07@gmail.com>
 <474B2FF5-5435-4F4D-9F67-BF2027D9E1C8@gmail.com>
 <AB3E7E39-449E-4B40-AD4C-7FE55FD44239@gmail.com>
 <8AF15F28-9173-459E-82DE-15ED8D2DA102@r-project.org>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC836669CE8@FHSDB2D11-2.csu.mcmaster.ca>

Dear Peter and Simon,

I don't fully understand the issues either and, again, haven't observed a problem, but I'm grateful that both of you are taking a look at it.

For what it's worth, here's what the Rcmdr package does with fonts. This code is from the development version of the Rcmdr, where the code is refactored for clarity, but the current CRAN version does the same things.

------------------ snip ----------------

setupFonts <- function(){
    current <- getOption("Rcmdr")
    # set up Rcmdr default and text (log) fonts, Tk scaling factor
    default.font.family.val <- tclvalue(.Tcl("font actual TkDefaultFont -family"))
    default.font.family.val <- gsub("\\{", "", gsub("\\}", "", default.font.family.val))
    default.font.family <- setOption("default.font.family", default.font.family.val)
    if (!("RcmdrDefaultFont" %in% as.character(.Tcl("font names")))){
        .Tcl(paste("font create RcmdrDefaultFont", tclvalue(tkfont.actual("TkDefaultFont"))))
        .Tcl("option add *font RcmdrDefaultFont")
    }
    
    .Tcl(paste("font configure RcmdrDefaultFont -family {", default.font.family, "}", sep=""))
    
    if (!("RcmdrTitleFont" %in% as.character(.Tcl("font names")))){
        .Tcl(paste("font create RcmdrTitleFont", tclvalue(tkfont.actual("TkDefaultFont"))))
    }
    .Tcl(paste("font configure RcmdrTitleFont -family {", default.font.family, "}", sep=""))
    if (!("RcmdrOutputMessagesFont" %in% as.character(.Tcl("font names")))){
        .Tcl(paste("font create RcmdrOutputMessagesFont", tclvalue(tkfont.actual("RcmdrTitleFont"))))
    }
    .Tcl(paste("font configure RcmdrTitleFont -family {", default.font.family, "}", sep=""))
    .Tcl(paste("font configure RcmdrOutputMessagesFont -family {", default.font.family, "}", sep=""))
    
    .Tcl(paste("font configure TkDefaultFont -family {",  default.font.family, "}", sep=""))
    log.font.family.val <- tclvalue(.Tcl("font actual TkFixedFont -family"))
    log.font.family.val <- gsub("\\{", "", gsub("\\}", "", log.font.family.val))
    log.font.family <- setOption("log.font.family", log.font.family.val)
    if (!("RcmdrLogFont" %in% as.character(.Tcl("font names")))){
        .Tcl(paste("font create RcmdrLogFont", tclvalue(tkfont.actual("TkFixedFont"))))
    }
    .Tcl(paste("font configure RcmdrLogFont -family {", log.font.family, "}", sep=""))
    .Tcl(paste("font configure TkFixedFont -family {",  log.font.family, "}", sep=""))
    putRcmdr("logFont", "RcmdrLogFont")    
    scale.factor <- current$scale.factor
    
    if (!is.null(scale.factor)) .Tcl(paste("tk scaling ", scale.factor, sep=""))
    # set various font sizes 
    if (WindowsP()){
        default.font.size.val <- abs(as.numeric(.Tcl("font actual TkDefaultFont -size")))
        if (is.na(default.font.size.val)) default.font.size.val <- 10
    }
    else default.font.size.val <- 10
    default.font.size <- setOption("default.font.size", default.font.size.val)
    tkfont.configure("RcmdrDefaultFont", size=default.font.size)
    tkfont.configure("RcmdrTitleFont", size=default.font.size)
    tkfont.configure("RcmdrOutputMessagesFont", size=default.font.size)
    tkfont.configure("TkDefaultFont", size=default.font.size)
    tkfont.configure("TkTextFont", size=default.font.size)
    tkfont.configure("TkCaptionFont", size=default.font.size)
    log.font.size <- setOption("log.font.size", 10)
    tkfont.configure("RcmdrLogFont", size=log.font.size)
    tkfont.configure("TkFixedFont", size=log.font.size)    
    
    .Tcl("ttk::style configure TButton -font RcmdrDefaultFont")
    .Tcl("ttk::style configure TLabel -font RcmdrDefaultFont")
    .Tcl("ttk::style configure TCheckbutton -font RcmdrDefaultFont")
    .Tcl("ttk::style configure TRadiobutton -font RcmdrDefaultFont")
    
    standard.title.color <- as.character(.Tcl("ttk::style lookup TLabelframe.Label -foreground"))
    title.color <- setOption("title.color", standard.title.color) 
    if (tolower(title.color) == "black" || title.color == "#000000"){
        tkfont.configure("RcmdrTitleFont", weight="bold")
    }
    else tkfont.configure("RcmdrTitleFont", weight="normal")
}

--------------------- snip --------------------------

In this code, setOption() is a macro that uses user-supplied options if these are specified:

setOption <- defmacro(option, default, global=TRUE, expr= {
    opt <- if (is.null(current[option][[1]])) default else current[option][[1]]
    if (global) putRcmdr(option, opt)
    opt
})

Best,
 John

> -----Original Message-----
> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> Sent: Tuesday, May 16, 2017 1:31 PM
> To: peter dalgaard <pdalgd at gmail.com>
> Cc: Fox, John <jfox at mcmaster.ca>; r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] R commander fonts on R 3.4.0
> 
> 
> > On May 16, 2017, at 12:20 PM, peter dalgaard <pdalgd at gmail.com> wrote:
> >
> > Mystery solved after looking into the actual .pkg files. They simply
> > contain a full Tcl/Tk which installs into /usr/local, which obviously
> > affects anything that links it dynamically. I somehow thought that
> > they would install somewhere separate. (Stop grinning, Simon!)
> >
> 
> I'm not sure I understand the "they" - is it us? The difference in R 3.4.0 is that
> we are using everything from the system (and XQuartz) whereas before we
> were building dependencies ourselves before.
> 
> 
> > Anyways, the way forward must be to get Tcl/Tk compiled exactly as they
> were in 3.3.x.
> >
> 
> R before 3.4.0 we used Tcl/Tk 8.6.0 for OS X Mavericks from 2013, for R 3.4.0
> we are using Tcl/Tk 8.6.6 for El Capitan.
> 
> FWIW the config flags were
> --disable-corefoundation --disable-framework --disable-aqua --enable-64bit --
> with-tcl=/usr/local/lib --with-x --x-includes=/opt/X11/include --x-
> libraries=/opt/X11/lib CC=clang CXX=clang++
> 
> I have no idea what you are talking about here so if anyone has suggestions to
> test, let me know.
> 
> Cheers,
> Simon
> 
> 
> 
> > -pd
> >
> >
> >
> >
> >> On 16 May 2017, at 15:18 , peter dalgaard <pdalgd at gmail.com> wrote:
> >>
> >> Double-checked: Indeed, installing 3.3-branch-mavericks.pkg enables xft on
> my local builds of R-patched and R-devel. Hmmmm......
> >>
> >> -pd
> >>
> >>> On 16 May 2017, at 14:55 , peter dalgaard <pdalgd at gmail.com> wrote:
> >>>
> >>> Curiouser and curiouser, now my local build of R-devel stopped using xft
> _without any recompile_ I swear that it worked before I installed R-
> 3.4.0.pkg....
> >>>
> >>> I have both /opt/local/ and /usr/local variants of Tcl/Tk 8.6 and only the
> former has wish8.6 understanding the tk::pkgconfig stuff, so there is plenty of
> room for confusion. The latter seems to be from Simon's site; the other one
> could be a MacPorts relic...
> >>>
> >>> -pd
> >>>
> >>>> On 16 May 2017, at 13:28 , peter dalgaard <pdalgd at gmail.com> wrote:
> >>>>
> >>>> It's a build issue relating to Tcl/Tk, not specifically Rcmdr (Rcmdr does
> something slightly weird[*] with the fonts too, but this seems to be
> orthogonal to the ugly-font issue).
> >>>>
> >>>> To see the issue quickly, try
> >>>>
> >>>> library(tcltk)
> >>>> .Tcl("::tk::pkgconfig get fontsystem")
> >>>>
> >>>> With CRAN 3.3.3, I get
> >>>>
> >>>> <Tcl> xft
> >>>>
> >>>> and likewise with a local nightly build of R-devel, but CRAN 3.4.0
> >>>> says
> >>>>
> >>>>> .Tcl("::tk::pkgconfig get fontsystem")
> >>>> Error in .Tcl("::tk::pkgconfig get fontsystem") :
> >>>> could not find function ".Tcl"
> >>>>
> >>>> as does a local build of R-patched (???!!!).
> >>>>
> >>>> This is pretty weird. I'll see if I can dig up some more about where the
> difference is.
> >>>>
> >>>> -pd
> >>>>
> >>>>
> >>>>
> >>>> [*] Try library(tcltk); demo(tkfaq)  then library(Rcmdr) and watch the font
> change in the tkfaq window.
> >>>>
> >>>>
> >>>>> On 15 May 2017, at 23:17 , Fox, John <jfox at mcmaster.ca> wrote:
> >>>>>
> >>>>> Dear Jose,
> >>>>>
> >>>>> It's a bit difficult to respond to your latest messages because you sent
> so many of them.
> >>>>>
> >>>>> I'm not entirely sure what's producing your font problems -- perhaps
> Simon will have some additional ideas -- but you should be aware that you
> can't load the Rcmdr package -- or, more generally, the tcltk package --
> without XQuartz (or another X11 system). Normally, XQuartz should start
> automatically when the Rcmdr (or tcltk) package is loaded. That is, you should
> not have to start it separately.
> >>>>>
> >>>>> It may help to know that the Rcmdr package selects its default
> >>>>> dialog font by querying the default Tk font, via the command
> >>>>>
> >>>>> 	tclvalue(.Tcl("font actual TkDefaultFont -family"))
> >>>>>
> >>>>> and sets the font for commands and output by querying the default Tk
> fixed-width font:
> >>>>>
> >>>>> 	tclvalue(.Tcl("font actual TkFixedFont -family"))
> >>>>>
> >>>>> On my Macs, these are respectively the helvetica and courier fonts.
> >>>>>
> >>>>> In any event, I'm glad that you seem to have solved your problem.
> >>>>>
> >>>>> John
> >>>>>
> >>>>>> -----Original Message-----
> >>>>>> From: Jose G Conde Santiago [mailto:jose.conde1 at upr.edu]
> >>>>>> Sent: Monday, May 15, 2017 3:18 PM
> >>>>>> To: Simon Urbanek <simon.urbanek at r-project.org>; Fox, John
> >>>>>> <jfox at mcmaster.ca>; r-sig-mac at r-project.org
> >>>>>> Subject: Re: [R-SIG-Mac] R commander fonts on R 3.4.0
> >>>>>>
> >>>>>> When I run R without XQuartz, the text from the help screen
> >>>>>> renders well. I think the problem seems to be related to XQuartz.
> >>>>>>
> >>>>>> Jos?
> >>>>>>
> >>>>>>
> >>>>>> Jos? G. Conde, MD, MPH
> >>>>>> Professor, School of Medicine
> >>>>>> Director, CentIT2
> >>>>>> UPR Medical Sciences Campus
> >>>>>>
> >>>>>> Tel  (787) 763-9401 Fax (787) 758-5206
> >>>>>>
> >>>>>> Email: jose.conde1 at upr.edu
> >>>>>>
> >>>>>> URL: http://rcmi.rcm.upr.edu
> >>>>>>
> >>>>>>> On May 15, 2017, at 2:16 PM, Jose G Conde Santiago
> >>>>>> <jose.conde1 at upr.edu> wrote:
> >>>>>>>
> >>>>>>> ? and the same I get the same issue with R ?help? screens in my
> iMac.
> >>>>>> I cannot reproduce this in the macBook.
> >>>>>>>
> >>>>>>> Jos?
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>> <R help .png>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>>
> >>>>>>> Jos? G. Conde, MD, MPH
> >>>>>>> Catedr?tico, Escuela de Medicina Director, CentIT2 Recinto de
> >>>>>>> Ciencias M?dicas, UPR
> >>>>>>>
> >>>>>>> Tel  (787) 763-9401  Fax (787) 758-5206
> >>>>>>>
> >>>>>>> Correo electr?nico: jose.conde1 at upr.edu
> >>>>>>>
> >>>>>>> URL: http://rcmi.rcm.upr.edu
> >>>>>>>
> >>>>>>>> On May 15, 2017, at 2:14 PM, Jose G Conde Santiago
> >>>>>> <jose.conde1 at upr.edu> wrote:
> >>>>>>>>
> >>>>>>>> This is the actual resolutions.
> >>>>>>>>
> >>>>>>>> Jos?
> >>>>>>>>
> >>>>>>>> <Fonts 20 points.png>
> >>>>>>>> Jos? G. Conde, MD, MPH
> >>>>>>>> Professor, School of Medicine
> >>>>>>>> Director, CentIT2
> >>>>>>>> UPR Medical Sciences Campus
> >>>>>>>>
> >>>>>>>> Tel  (787) 763-9401 Fax (787) 758-5206
> >>>>>>>>
> >>>>>>>> Email: jose.conde1 at upr.edu
> >>>>>>>>
> >>>>>>>> URL: http://rcmi.rcm.upr.edu
> >>>>>>>>
> >>>>>>>>> On May 15, 2017, at 12:31 PM, Jose G Conde Santiago
> >>>>>> <jose.conde1 at upr.edu> wrote:
> >>>>>>>>>
> >>>>>>>>> <Fonts 20 points.png>
> >>>>>>>>
> >>>>>>>
> >>>>>
> >>>>> _______________________________________________
> >>>>> R-SIG-Mac mailing list
> >>>>> R-SIG-Mac at r-project.org
> >>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>>>
> >>>> --
> >>>> Peter Dalgaard, Professor,
> >>>> Center for Statistics, Copenhagen Business School Solbjerg Plads 3,
> >>>> 2000 Frederiksberg, Denmark
> >>>> Phone: (+45)38153501
> >>>> Office: A 4.23
> >>>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>
> >>> --
> >>> Peter Dalgaard, Professor,
> >>> Center for Statistics, Copenhagen Business School Solbjerg Plads 3,
> >>> 2000 Frederiksberg, Denmark
> >>> Phone: (+45)38153501
> >>> Office: A 4.23
> >>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> >>>
> >>>
> >>>
> >>>
> >>>
> >>>
> >>>
> >>>
> >>>
> >>
> >> --
> >> Peter Dalgaard, Professor,
> >> Center for Statistics, Copenhagen Business School Solbjerg Plads 3,
> >> 2000 Frederiksberg, Denmark
> >> Phone: (+45)38153501
> >> Office: A 4.23
> >> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >>
> >
> > --
> > Peter Dalgaard, Professor,
> > Center for Statistics, Copenhagen Business School Solbjerg Plads 3,
> > 2000 Frederiksberg, Denmark
> > Phone: (+45)38153501
> > Office: A 4.23
> > Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> >
> >
> >
> >
> >
> >
> >
> >
> >


From pdalgd at gmail.com  Tue May 16 21:03:51 2017
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 16 May 2017 21:03:51 +0200
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <8AF15F28-9173-459E-82DE-15ED8D2DA102@r-project.org>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
 <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
 <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>
 <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>
 <2E799797-8456-43C6-B681-BB2465F11A14@gmail.com>
 <57C6706E-6773-47F3-9051-A5FD3097CC07@gmail.com>
 <474B2FF5-5435-4F4D-9F67-BF2027D9E1C8@gmail.com>
 <AB3E7E39-449E-4B40-AD4C-7FE55FD44239@gmail.com>
 <8AF15F28-9173-459E-82DE-15ED8D2DA102@r-project.org>
Message-ID: <3828DBAC-5955-474E-A409-6AFAA07797DB@gmail.com>


> On 16 May 2017, at 19:30 , Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> 
>> On May 16, 2017, at 12:20 PM, peter dalgaard <pdalgd at gmail.com> wrote:
>> 
>> Mystery solved after looking into the actual .pkg files. They simply contain a full Tcl/Tk which installs into /usr/local, which obviously affects anything that links it dynamically. I somehow thought that they would install somewhere separate. (Stop grinning, Simon!)
>> 
> 
> I'm not sure I understand the "they" - is it us?

The files/libs...

> The difference in R 3.4.0 is that we are using everything from the system (and XQuartz) whereas before we were building dependencies ourselves before.
> 

Aha.

> 
>> Anyways, the way forward must be to get Tcl/Tk compiled exactly as they were in 3.3.x.
>> 
> 
> R before 3.4.0 we used Tcl/Tk 8.6.0 for OS X Mavericks from 2013, for R 3.4.0 we are using Tcl/Tk 8.6.6 for El Capitan.

From where do we get those? ActiveState?

> FWIW the config flags were
> --disable-corefoundation --disable-framework --disable-aqua --enable-64bit --with-tcl=/usr/local/lib --with-x --x-includes=/opt/X11/include --x-libraries=/opt/X11/lib CC=clang CXX=clang++

I don't think the config flags for R matter in this regard. The behaviour is completely paralleled by wish8.6: 

Peter-Dalgaards-MacBook-Air:~ pd$ /usr/local/bin/wish8.6 
% tk::pkgconfig get fontsystem
invalid command name "tk::pkgconfig"


> I have no idea what you are talking about here so if anyone has suggestions to test, let me know.
> 
> Cheers,
> Simon
> 
> 
> 
>> -pd
>> 
>> 
>> 
>> 
>>> On 16 May 2017, at 15:18 , peter dalgaard <pdalgd at gmail.com> wrote:
>>> 
>>> Double-checked: Indeed, installing 3.3-branch-mavericks.pkg enables xft on my local builds of R-patched and R-devel. Hmmmm......
>>> 
>>> -pd 
>>> 
>>>> On 16 May 2017, at 14:55 , peter dalgaard <pdalgd at gmail.com> wrote:
>>>> 
>>>> Curiouser and curiouser, now my local build of R-devel stopped using xft _without any recompile_ I swear that it worked before I installed R-3.4.0.pkg....
>>>> 
>>>> I have both /opt/local/ and /usr/local variants of Tcl/Tk 8.6 and only the former has wish8.6 understanding the tk::pkgconfig stuff, so there is plenty of room for confusion. The latter seems to be from Simon's site; the other one could be a MacPorts relic...
>>>> 
>>>> -pd
>>>> 
>>>>> On 16 May 2017, at 13:28 , peter dalgaard <pdalgd at gmail.com> wrote:
>>>>> 
>>>>> It's a build issue relating to Tcl/Tk, not specifically Rcmdr (Rcmdr does something slightly weird[*] with the fonts too, but this seems to be orthogonal to the ugly-font issue).
>>>>> 
>>>>> To see the issue quickly, try 
>>>>> 
>>>>> library(tcltk)
>>>>> .Tcl("::tk::pkgconfig get fontsystem")
>>>>> 
>>>>> With CRAN 3.3.3, I get 
>>>>> 
>>>>> <Tcl> xft 
>>>>> 
>>>>> and likewise with a local nightly build of R-devel, but CRAN 3.4.0 says
>>>>> 
>>>>>> .Tcl("::tk::pkgconfig get fontsystem")
>>>>> Error in .Tcl("::tk::pkgconfig get fontsystem") : 
>>>>> could not find function ".Tcl"
>>>>> 
>>>>> as does a local build of R-patched (???!!!). 
>>>>> 
>>>>> This is pretty weird. I'll see if I can dig up some more about where the difference is.
>>>>> 
>>>>> -pd
>>>>> 
>>>>> 
>>>>> 
>>>>> [*] Try library(tcltk); demo(tkfaq)  then library(Rcmdr) and watch the font change in the tkfaq window.
>>>>> 
>>>>> 
>>>>>> On 15 May 2017, at 23:17 , Fox, John <jfox at mcmaster.ca> wrote:
>>>>>> 
>>>>>> Dear Jose,
>>>>>> 
>>>>>> It's a bit difficult to respond to your latest messages because you sent so many of them.
>>>>>> 
>>>>>> I'm not entirely sure what's producing your font problems -- perhaps Simon will have some additional ideas -- but you should be aware that you can't load the Rcmdr package -- or, more generally, the tcltk package -- without XQuartz (or another X11 system). Normally, XQuartz should start automatically when the Rcmdr (or tcltk) package is loaded. That is, you should not have to start it separately.
>>>>>> 
>>>>>> It may help to know that the Rcmdr package selects its default dialog font by querying the default Tk font, via the command
>>>>>> 
>>>>>> 	tclvalue(.Tcl("font actual TkDefaultFont -family"))
>>>>>> 
>>>>>> and sets the font for commands and output by querying the default Tk fixed-width font:
>>>>>> 
>>>>>> 	tclvalue(.Tcl("font actual TkFixedFont -family"))
>>>>>> 
>>>>>> On my Macs, these are respectively the helvetica and courier fonts.
>>>>>> 
>>>>>> In any event, I'm glad that you seem to have solved your problem.
>>>>>> 
>>>>>> John
>>>>>> 
>>>>>>> -----Original Message-----
>>>>>>> From: Jose G Conde Santiago [mailto:jose.conde1 at upr.edu]
>>>>>>> Sent: Monday, May 15, 2017 3:18 PM
>>>>>>> To: Simon Urbanek <simon.urbanek at r-project.org>; Fox, John
>>>>>>> <jfox at mcmaster.ca>; r-sig-mac at r-project.org
>>>>>>> Subject: Re: [R-SIG-Mac] R commander fonts on R 3.4.0
>>>>>>> 
>>>>>>> When I run R without XQuartz, the text from the help screen renders
>>>>>>> well. I think the problem seems to be related to XQuartz.
>>>>>>> 
>>>>>>> Jos?
>>>>>>> 
>>>>>>> 
>>>>>>> Jos? G. Conde, MD, MPH
>>>>>>> Professor, School of Medicine
>>>>>>> Director, CentIT2
>>>>>>> UPR Medical Sciences Campus
>>>>>>> 
>>>>>>> Tel  (787) 763-9401 Fax (787) 758-5206
>>>>>>> 
>>>>>>> Email: jose.conde1 at upr.edu
>>>>>>> 
>>>>>>> URL: http://rcmi.rcm.upr.edu
>>>>>>> 
>>>>>>>> On May 15, 2017, at 2:16 PM, Jose G Conde Santiago
>>>>>>> <jose.conde1 at upr.edu> wrote:
>>>>>>>> 
>>>>>>>> ? and the same I get the same issue with R ?help? screens in my iMac.
>>>>>>> I cannot reproduce this in the macBook.
>>>>>>>> 
>>>>>>>> Jos?
>>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>>> <R help .png>
>>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>>> Jos? G. Conde, MD, MPH
>>>>>>>> Catedr?tico, Escuela de Medicina
>>>>>>>> Director, CentIT2
>>>>>>>> Recinto de Ciencias M?dicas, UPR
>>>>>>>> 
>>>>>>>> Tel  (787) 763-9401  Fax (787) 758-5206
>>>>>>>> 
>>>>>>>> Correo electr?nico: jose.conde1 at upr.edu
>>>>>>>> 
>>>>>>>> URL: http://rcmi.rcm.upr.edu
>>>>>>>> 
>>>>>>>>> On May 15, 2017, at 2:14 PM, Jose G Conde Santiago
>>>>>>> <jose.conde1 at upr.edu> wrote:
>>>>>>>>> 
>>>>>>>>> This is the actual resolutions.
>>>>>>>>> 
>>>>>>>>> Jos?
>>>>>>>>> 
>>>>>>>>> <Fonts 20 points.png>
>>>>>>>>> Jos? G. Conde, MD, MPH
>>>>>>>>> Professor, School of Medicine
>>>>>>>>> Director, CentIT2
>>>>>>>>> UPR Medical Sciences Campus
>>>>>>>>> 
>>>>>>>>> Tel  (787) 763-9401 Fax (787) 758-5206
>>>>>>>>> 
>>>>>>>>> Email: jose.conde1 at upr.edu
>>>>>>>>> 
>>>>>>>>> URL: http://rcmi.rcm.upr.edu
>>>>>>>>> 
>>>>>>>>>> On May 15, 2017, at 12:31 PM, Jose G Conde Santiago
>>>>>>> <jose.conde1 at upr.edu> wrote:
>>>>>>>>>> 
>>>>>>>>>> <Fonts 20 points.png>
>>>>>>>>> 
>>>>>>>> 
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> -- 
>>>>> Peter Dalgaard, Professor,
>>>>> Center for Statistics, Copenhagen Business School
>>>>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>>>>> Phone: (+45)38153501
>>>>> Office: A 4.23
>>>>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>> 
>>>> -- 
>>>> Peter Dalgaard, Professor,
>>>> Center for Statistics, Copenhagen Business School
>>>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>>>> Phone: (+45)38153501
>>>> Office: A 4.23
>>>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>> 
>>> -- 
>>> Peter Dalgaard, Professor,
>>> Center for Statistics, Copenhagen Business School
>>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>>> Phone: (+45)38153501
>>> Office: A 4.23
>>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>> 
>> -- 
>> Peter Dalgaard, Professor,
>> Center for Statistics, Copenhagen Business School
>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>> Phone: (+45)38153501
>> Office: A 4.23
>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
> 

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From dwinsemius at comcast.net  Tue May 16 22:01:12 2017
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 16 May 2017 13:01:12 -0700
Subject: [R-SIG-Mac] R 3.4.0 problem
In-Reply-To: <CAEW+BD+YYibt97NEv79yFB3zhg4gzxeHn5LNnPNYoKvBB00cuw@mail.gmail.com>
References: <CAEW+BD+YYibt97NEv79yFB3zhg4gzxeHn5LNnPNYoKvBB00cuw@mail.gmail.com>
Message-ID: <5F05300E-8F34-492A-AB18-544EDCE113D9@comcast.net>


> On Apr 24, 2017, at 11:49 PM, catalin roibu <catalinroibu at gmail.com> wrote:
> 
> Dear all,
> 
> I have a problem with the newest R version. I'm trying to install a
> specific package dplR who need the gpm package and I have this error on my
> macbook (OS Sierra):

Generally one reads the error messages. Often, and this is one of those cases, the first error message tells what the problem might be. You either do not have the system package GMP or it is installed in a location where the R package 'gmp' cannot find it.

I had difficulties attempting to test the advice I found by (re-)installing the GNU GMP package from CRAN/r.research.att.com:

http://r.research.att.com/libs/gmp-6.0.0-darwin.13-x86_64.tar.gz

I got:
~ davidwinsemius$ sudo tar fvxz ~/gmp-6.0.0-darwin.13-x86_64.tar.gz -C /
x usr/: Can't set user=0/group=0 for usrCan't update time for usr
x usr/local/
x usr/local/include/
x usr/local/lib/
x usr/local/share/
x usr/local/share/info/
x usr/local/share/info/dir
x usr/local/share/info/gmp.info
x usr/local/share/info/gmp.info-1
x usr/local/share/info/gmp.info-2
x usr/local/lib/libgmp.a
x usr/local/lib/libgmp.la
x usr/local/include/gmp.h
tar: Error exit delayed from previous errors.

Search on the "Can't update time for usr"-error brought up a bunch of stuff about 'XSAN' that I didn't really understand fully but did not seem terribly relevant ...

 .... but the package 'gmp-6.1.2.tar.bz2' at gmplib.org expanded and compiled without difficulty usign the switches recommended at the bottom of:

http://r.research.att.com/libs/

davidwinsemius$ sudo tar fvxz /Users/davidwinsemius/Downloads/gmp-6.1.2.tar.bz2 -C /

(I'm not on Sierra, since Apple has classified my MacPro as "obsolete".)

-- 

David
[R.app GUI 1.70 (7338) x86_64-apple-darwin15.6.0]

> 


>> install.packages("dplR")
> also installing the dependency ?gmp?
> 
> Packages which are only available in source form, and may
>  need compilation of C/C++/Fortran: ?gmp? ?dplR?
> Do you want to attempt to install these from sources?
> y/n: y
> installing the source packages ?gmp?, ?dplR?
> 
> trying URL 'https://cran.rstudio.com/src/contrib/gmp_0.5-13.1.tar.gz'
> Content type 'application/x-gzip' length 131321 bytes (128 KB)
> ==================================================
> downloaded 128 KB
> 
> trying URL 'https://cran.rstudio.com/src/contrib/dplR_1.6.5.tar.gz'
> Content type 'application/x-gzip' length 1672999 bytes (1.6 MB)
> ==================================================
> downloaded 1.6 MB
> 
> * installing *source* package ?gmp? ...
> ** package ?gmp? successfully unpacked and MD5 sums checked
> creating cache ./config.cache
> checking for __gmpz_ui_sub in -lgmp... no
> configure: error: GNU MP not found, or not 4.1.4 or up, see
> http://gmplib.org
> ERROR: configuration failed for package ?gmp?
> * removing ?/Library/Frameworks/R.framework/Versions/3.4/
> Resources/library/gmp?
> Warning in install.packages :
>  installation of package ?gmp? had non-zero exit status
> ERROR: dependency ?gmp? is not available for package ?dplR?
> * removing ?/Library/Frameworks/R.framework/Versions/3.4/
> Resources/library/dplR?
> Warning in install.packages :
>  installation of package ?dplR? had non-zero exit status
> 
> The downloaded source packages are in
> ?/private/var/folders/c5/6g4vbk5x55586m8ky2v_6pbc0000gn/T/RtmprYzSE8/
> downloaded_packages?
> 
> 
> All the other packages work in good conditions.
> Please help me to solve this annoying situation.
> 
> Best regards!
> 
> CR
> 
> 
> -- 
> 
> -
> -
> Catalin-Constantin ROIBU
> ?
> Lecturer PhD, Forestry engineer
> Forestry Faculty of Suceava
> Str. Universitatii no. 13, Suceava, 720229, Romania
> office phone      +4 0230 52 29 78, ext. 531
> mobile phone    +4 0745 53 18 01
> FAX:                +4 0230 52 16 64
> silvic.usv.ro <http://www.usv.ro/>
> 
> 
> 
>  <https://mailtrack.io/> Sent with Mailtrack
> <https://mailtrack.io/install?source=signature&lang=en&referral=catalinroibu at gmail.com&idSignature=22>
> <#>
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From pdalgd at gmail.com  Tue May 16 23:52:59 2017
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 16 May 2017 23:52:59 +0200
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <3828DBAC-5955-474E-A409-6AFAA07797DB@gmail.com>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
 <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
 <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>
 <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>
 <2E799797-8456-43C6-B681-BB2465F11A14@gmail.com>
 <57C6706E-6773-47F3-9051-A5FD3097CC07@gmail.com>
 <474B2FF5-5435-4F4D-9F67-BF2027D9E1C8@gmail.com>
 <AB3E7E39-449E-4B40-AD4C-7FE55FD44239@gmail.com>
 <8AF15F28-9173-459E-82DE-15ED8D2DA102@r-project.org>
 <3828DBAC-5955-474E-A409-6AFAA07797DB@gmail.com>
Message-ID: <A590549A-2527-40A1-AB1D-78EC227DF9A1@gmail.com>


> On 16 May 2017, at 21:03 , peter dalgaard <pdalgd at gmail.com> wrote:
> 
> I don't think the config flags for R matter in this regard. The behaviour is completely paralleled by wish8.6: 

Hmmm, not sure the wish ::tk::pkgconfig thing proves anything, after I tried some of the ActiveState installs and a source build. This stuff is making my head spin!

However, I discovered that it is possible to install R-3.4.0.pkg as usual, and then a customized install of (say) R-3.3-branch-mavericks.pkg, omitting everything except the Tcl/Tk stuff. That gives you R 3.4.0 and Rcmdr with antialiased fonts.

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From pdalgd at gmail.com  Wed May 17 20:51:40 2017
From: pdalgd at gmail.com (Peter Dalgaard)
Date: Wed, 17 May 2017 20:51:40 +0200
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <A590549A-2527-40A1-AB1D-78EC227DF9A1@gmail.com>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
 <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
 <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>
 <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>
 <2E799797-8456-43C6-B681-BB2465F11A14@gmail.com>
 <57C6706E-6773-47F3-9051-A5FD3097CC07@gmail.com>
 <474B2FF5-5435-4F4D-9F67-BF2027D9E1C8@gmail.com>
 <AB3E7E39-449E-4B40-AD4C-7FE55FD44239@gmail.com>
 <8AF15F28-9173-459E-82DE-15ED8D2DA102@r-project.org>
 <3828DBAC-5955-474E-A409-6AFAA07797DB@gmail.com>
 <A590549A-2527-40A1-AB1D-78EC227DF9A1@gmail.com>
Message-ID: <86FF1482-3E45-475B-AF67-7F7F69B4A2F9@gmail.com>

A few more data points:

I tried building Tcl/Tk 8.6.6 from the sources from sourceforge. Contrary to what it says on the package, it insists on building Tcl and Tk as frameworks, which in turn requires that R's configure needs special instructions. This works reasonably well for simple tcltk stuff (demos, the CRAN selection menu), but unfortunately, library(Rcmdr) causes an "Abort trap: 6" almost immediately. (I get a sense of deja vu about this... Did Brian try something similar years ago?)

It does actually seem to work to build R against the system-supplied v.8.5 frameworks. However, this is Aqua-based, and the fonts are a bit weird (smooth, but way too small) and the Rcmdr menus get moved to the top bar.

I am pretty sure by now that all this stuff is a generic tcltk build problem and way out of John's domain. (Thanks for posting the font code, John. I hope I can get around to having a closer look at it at some point. Those .Tcl(paste()) constructs make me cringe a bit, but not all are easily eliminated.)

-pd

> On 16 May 2017, at 23:52 , peter dalgaard <pdalgd at gmail.com> wrote:
> 
> 
>> On 16 May 2017, at 21:03 , peter dalgaard <pdalgd at gmail.com> wrote:
>> 
>> I don't think the config flags for R matter in this regard. The behaviour is completely paralleled by wish8.6: 
> 
> Hmmm, not sure the wish ::tk::pkgconfig thing proves anything, after I tried some of the ActiveState installs and a source build. This stuff is making my head spin!
> 
> However, I discovered that it is possible to install R-3.4.0.pkg as usual, and then a customized install of (say) R-3.3-branch-mavericks.pkg, omitting everything except the Tcl/Tk stuff. That gives you R 3.4.0 and Rcmdr with antialiased fonts.
> 
> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 
> 

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From pdalgd at gmail.com  Wed May 17 21:21:51 2017
From: pdalgd at gmail.com (Peter Dalgaard)
Date: Wed, 17 May 2017 21:21:51 +0200
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <86FF1482-3E45-475B-AF67-7F7F69B4A2F9@gmail.com>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
 <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
 <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>
 <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>
 <2E799797-8456-43C6-B681-BB2465F11A14@gmail.com>
 <57C6706E-6773-47F3-9051-A5FD3097CC07@gmail.com>
 <474B2FF5-5435-4F4D-9F67-BF2027D9E1C8@gmail.com>
 <AB3E7E39-449E-4B40-AD4C-7FE55FD44239@gmail.com>
 <8AF15F28-9173-459E-82DE-15ED8D2DA102@r-project.org>
 <3828DBAC-5955-474E-A409-6AFAA07797DB@gmail.com>
 <A590549A-2527-40A1-AB1D-78EC227DF9A1@gmail.com>
 <86FF1482-3E45-475B-AF67-7F7F69B4A2F9@gmail.com>
Message-ID: <40A8019B-5C43-4525-8BC2-43A9E8EF3EE2@gmail.com>

And a bit more. The Rcmdr crash happens here:

debugging in: .Tcl.objv(.Tcl.args.objv(...))
debug: structure(.External(.C_dotTclObjv, objv), class = "tclObj")
Browse[2]> objv
[[1]]
<Tcl> wm 

[[2]]
<Tcl> protocol 

[[3]]
<Tcl> .1 

[[4]]
<Tcl> WM_DELETE_WINDOW 

[[5]]
<Tcl> R_call 0x7fedc1987ff8 

Browse[2]> 
Abort trap: 6

and I can make the same thing happen in wish, so it is Not Our Fault:

Peter-Dalgaards-iMac:BUILD pd$ /usr/local/bin/wish
% toplevel .1
.1
% wm protocol .1 WM_DELETE_WINDOW {puts hi}   
/usr/local/bin/wish: line 2: 32765 Abort trap: 6           "$(dirname $0)/../../../Library/Frameworks/Tk.framework/Versions/8.6/Resources/Wish.app/Contents/MacOS/Wish" "$@"


-pd

> On 17 May 2017, at 20:51 , Peter Dalgaard <pdalgd at gmail.com> wrote:
> 
> A few more data points:
> 
> I tried building Tcl/Tk 8.6.6 from the sources from sourceforge. Contrary to what it says on the package, it insists on building Tcl and Tk as frameworks, which in turn requires that R's configure needs special instructions. This works reasonably well for simple tcltk stuff (demos, the CRAN selection menu), but unfortunately, library(Rcmdr) causes an "Abort trap: 6" almost immediately. (I get a sense of deja vu about this... Did Brian try something similar years ago?)
> 
> It does actually seem to work to build R against the system-supplied v.8.5 frameworks. However, this is Aqua-based, and the fonts are a bit weird (smooth, but way too small) and the Rcmdr menus get moved to the top bar.
> 
> I am pretty sure by now that all this stuff is a generic tcltk build problem and way out of John's domain. (Thanks for posting the font code, John. I hope I can get around to having a closer look at it at some point. Those .Tcl(paste()) constructs make me cringe a bit, but not all are easily eliminated.)
> 
> -pd
> 
>> On 16 May 2017, at 23:52 , peter dalgaard <pdalgd at gmail.com> wrote:
>> 
>> 
>>> On 16 May 2017, at 21:03 , peter dalgaard <pdalgd at gmail.com> wrote:
>>> 
>>> I don't think the config flags for R matter in this regard. The behaviour is completely paralleled by wish8.6: 
>> 
>> Hmmm, not sure the wish ::tk::pkgconfig thing proves anything, after I tried some of the ActiveState installs and a source build. This stuff is making my head spin!
>> 
>> However, I discovered that it is possible to install R-3.4.0.pkg as usual, and then a customized install of (say) R-3.3-branch-mavericks.pkg, omitting everything except the Tcl/Tk stuff. That gives you R 3.4.0 and Rcmdr with antialiased fonts.
>> 
>> -- 
>> Peter Dalgaard, Professor,
>> Center for Statistics, Copenhagen Business School
>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>> Phone: (+45)38153501
>> Office: A 4.23
>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
> 
> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 
> 

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From jfox at mcmaster.ca  Wed May 17 21:28:20 2017
From: jfox at mcmaster.ca (Fox, John)
Date: Wed, 17 May 2017 19:28:20 +0000
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <86FF1482-3E45-475B-AF67-7F7F69B4A2F9@gmail.com>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
 <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
 <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>
 <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>
 <2E799797-8456-43C6-B681-BB2465F11A14@gmail.com>
 <57C6706E-6773-47F3-9051-A5FD3097CC07@gmail.com>
 <474B2FF5-5435-4F4D-9F67-BF2027D9E1C8@gmail.com>
 <AB3E7E39-449E-4B40-AD4C-7FE55FD44239@gmail.com>
 <8AF15F28-9173-459E-82DE-15ED8D2DA102@r-project.org>
 <3828DBAC-5955-474E-A409-6AFAA07797DB@gmail.com>
 <A590549A-2527-40A1-AB1D-78EC227DF9A1@gmail.com>
 <86FF1482-3E45-475B-AF67-7F7F69B4A2F9@gmail.com>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC83666A223@FHSDB2D11-2.csu.mcmaster.ca>

Dear Peter,

First, thank you very much for persisting with this. I greatly appreciate it.

> -----Original Message-----
> From: Peter Dalgaard [mailto:pdalgd at gmail.com]
> Sent: Wednesday, May 17, 2017 2:52 PM
> To: Simon Urbanek <simon.urbanek at r-project.org>
> Cc: Fox, John <jfox at mcmaster.ca>; r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] R commander fonts on R 3.4.0
> 
> A few more data points:
> 
> I tried building Tcl/Tk 8.6.6 from the sources from sourceforge.
> Contrary to what it says on the package, it insists on building Tcl and
> Tk as frameworks, which in turn requires that R's configure needs
> special instructions. This works reasonably well for simple tcltk stuff
> (demos, the CRAN selection menu), but unfortunately, library(Rcmdr)
> causes an "Abort trap: 6" almost immediately. (I get a sense of deja vu
> about this... Did Brian try something similar years ago?)

I believe that Brian mentioned to me years ago that he was able to get R (and the Rcmdr package) to work fine with a native version of Tcl/Tk for Macs. Beyond that, I don't recall.

> 
> It does actually seem to work to build R against the system-supplied
> v.8.5 frameworks. However, this is Aqua-based, and the fonts are a bit
> weird (smooth, but way too small) and the Rcmdr menus get moved to the
> top bar.

Moving the menus to the top bar is desirable, in my opinion, because it's what Mac users expect. If the problem is simply with the font sizes, I should be able to adjust that automatically, as I do now.

> 
> I am pretty sure by now that all this stuff is a generic tcltk build
> problem and way out of John's domain. (Thanks for posting the font code,
> John. I hope I can get around to having a closer look at it at some
> point. Those .Tcl(paste()) constructs make me cringe a bit, but not all
> are easily eliminated.)

If you see a better way to do this, of course I'd appreciate that. It took a fair amount of work to adjust the fonts so that they look right on Windows, macOS, and Linux systems.

Best,
 John

> 
> -pd
> 
> > On 16 May 2017, at 23:52 , peter dalgaard <pdalgd at gmail.com> wrote:
> >
> >
> >> On 16 May 2017, at 21:03 , peter dalgaard <pdalgd at gmail.com> wrote:
> >>
> >> I don't think the config flags for R matter in this regard. The
> behaviour is completely paralleled by wish8.6:
> >
> > Hmmm, not sure the wish ::tk::pkgconfig thing proves anything, after I
> tried some of the ActiveState installs and a source build. This stuff is
> making my head spin!
> >
> > However, I discovered that it is possible to install R-3.4.0.pkg as
> usual, and then a customized install of (say) R-3.3-branch-
> mavericks.pkg, omitting everything except the Tcl/Tk stuff. That gives
> you R 3.4.0 and Rcmdr with antialiased fonts.
> >
> > --
> > Peter Dalgaard, Professor,
> > Center for Statistics, Copenhagen Business School Solbjerg Plads 3,
> > 2000 Frederiksberg, Denmark
> > Phone: (+45)38153501
> > Office: A 4.23
> > Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> >
> >
> >
> >
> >
> >
> >
> >
> >
> 
> --
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School Solbjerg Plads 3, 2000
> Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 


From dwinsemius at comcast.net  Wed May 17 22:40:27 2017
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 17 May 2017 13:40:27 -0700
Subject: [R-SIG-Mac] Please help! Package Installer doesn't work.
In-Reply-To: <F52DCBFF-AC62-4135-B806-DA687DCF4D61@gmx.de>
References: <F52DCBFF-AC62-4135-B806-DA687DCF4D61@gmx.de>
Message-ID: <A1D7C7AD-EAD5-4A97-BF38-FD34B4F44FB1@comcast.net>


> On Apr 26, 2017, at 9:39 AM, Luisa Bahnemann <luisabahnemann at gmx.de> wrote:
> 
> Hello ,
> I?ve only installed R (R 3.4.0 GUI 1.70 El Capitan build (7338))
> a few days ago . Now every time I try to install a package I can?t even see the list of packages and R completely freezes.
> Then it shows this :
> 
> Warnung: unable to access index for repository https://mirrors.cicku.me/CRAN/bin/macosx/el-capitan/contrib/3.4:

In Chrome I get:
#---------
This site can?t be reached

mirrors.cicku.me refused to connect.
#--------


See this list:
https://cran.r-project.org/mirrors.html

I think you need a different CRAN mirror?

-- 
David



>  kann URL 'https://mirrors.cicku.me/CRAN/bin/macosx/el-capitan/contrib/3.4/PACKAGES' nicht ?ffnen
> 
> Could you please help me?
> I already reinstalled but it didn?t help.
> 
> Thankyou !
> Luisa Bahnemann
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From bogaso.christofer at gmail.com  Thu May 18 21:44:21 2017
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Fri, 19 May 2017 01:14:21 +0530
Subject: [R-SIG-Mac] R is taking too long to load
Message-ID: <CA+dpOJ=mqt-4Q1JE6=r4e-=n2LfrQhSrVLXtusDq1ajHreSTNQ@mail.gmail.com>

Hi,

It just started happening recently that R is taking too long to load
and entire system freezes during its loading.

Have anyone experienced something similar? Previously my R was
completely okay, however it just started recently.

Any solution for this? I have reinstalled R and now it is the latest
version 3.4.0. I am using Sierra iOS.

Appreciate for any pointer.

Thanks,


From hpages at fredhutch.org  Thu May 18 23:41:43 2017
From: hpages at fredhutch.org (=?ISO-8859-1?Q?Herv=E9_Pag=E8s?=)
Date: Thu, 18 May 2017 14:41:43 -0700
Subject: [R-SIG-Mac] R is taking too long to load
In-Reply-To: <CA+dpOJ=mqt-4Q1JE6=r4e-=n2LfrQhSrVLXtusDq1ajHreSTNQ@mail.gmail.com>
References: <CA+dpOJ=mqt-4Q1JE6=r4e-=n2LfrQhSrVLXtusDq1ajHreSTNQ@mail.gmail.com>
Message-ID: <591E1517.6010106@fredhutch.org>

Hi,

First thing I would do is make sure you don't have any startup file
or .Rhistory in the way. If starting R with --vanilla is fast, then
that's probably the case.

H.

On 05/18/2017 12:44 PM, Christofer Bogaso wrote:
> Hi,
>
> It just started happening recently that R is taking too long to load
> and entire system freezes during its loading.
>
> Have anyone experienced something similar? Previously my R was
> completely okay, however it just started recently.
>
> Any solution for this? I have reinstalled R and now it is the latest
> version 3.4.0. I am using Sierra iOS.
>
> Appreciate for any pointer.
>
> Thanks,
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dsig-2Dmac&d=DwICAg&c=eRAMFD45gAfqt84VtBcfhQ&r=BK7q3XeAvimeWdGbWY_wJYbW0WYiZvSXAJJKaaPhzWA&m=m7VSPPECqAsFryKwwUO-q8QiizXtbiWc-kj9qtPO2h0&s=cSQVI4BrFUKhUyo5ZPrQMQOwu-ZSCMWpxh5IJ8y9L6s&e=
>

-- 
Herv? Pag?s

Program in Computational Biology
Division of Public Health Sciences
Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N, M1-B514
P.O. Box 19024
Seattle, WA 98109-1024

E-mail: hpages at fredhutch.org
Phone:  (206) 667-5791
Fax:    (206) 667-1319


From pdalgd at gmail.com  Thu May 18 23:48:02 2017
From: pdalgd at gmail.com (peter dalgaard)
Date: Thu, 18 May 2017 23:48:02 +0200
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <40A8019B-5C43-4525-8BC2-43A9E8EF3EE2@gmail.com>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
 <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
 <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>
 <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>
 <2E799797-8456-43C6-B681-BB2465F11A14@gmail.com>
 <57C6706E-6773-47F3-9051-A5FD3097CC07@gmail.com>
 <474B2FF5-5435-4F4D-9F67-BF2027D9E1C8@gmail.com>
 <AB3E7E39-449E-4B40-AD4C-7FE55FD44239@gmail.com>
 <8AF15F28-9173-459E-82DE-15ED8D2DA102@r-project.org>
 <3828DBAC-5955-474E-A409-6AFAA07797DB@gmail.com>
 <A590549A-2527-40A1-AB1D-78EC227DF9A1@gmail.com>
 <86FF1482-3E45-475B-AF67-7F7F69B4A2F9@gmail.com>
 <40A8019B-5C43-4525-8BC2-43A9E8EF3EE2@gmail.com>
Message-ID: <EC9CAB75-E7AD-4DFB-A6D8-138F48403547@gmail.com>

The culprit seems to have been in Xcode 8.3.1, see this Ticket 

http://core.tcl.tk/tk/tktview/3f323bf2b42b668a5678

This was found and fixed little more than a month ago, so I was being unfair to ActiveState in a previous note (which may or may not make its way through moderation).

The Ticket also contains a two-line patch for the Tk sources, so I suppose this provides a way for us to build at least the framework format, with Xft support. 

-pd

> On 17 May 2017, at 21:21 , Peter Dalgaard <pdalgd at gmail.com> wrote:
> 
> And a bit more. The Rcmdr crash happens here:
> 
> debugging in: .Tcl.objv(.Tcl.args.objv(...))
> debug: structure(.External(.C_dotTclObjv, objv), class = "tclObj")
> Browse[2]> objv
> [[1]]
> <Tcl> wm 
> 
> [[2]]
> <Tcl> protocol 
> 
> [[3]]
> <Tcl> .1 
> 
> [[4]]
> <Tcl> WM_DELETE_WINDOW 
> 
> [[5]]
> <Tcl> R_call 0x7fedc1987ff8 
> 
> Browse[2]> 
> Abort trap: 6
> 
> and I can make the same thing happen in wish, so it is Not Our Fault:
> 
> Peter-Dalgaards-iMac:BUILD pd$ /usr/local/bin/wish
> % toplevel .1
> .1
> % wm protocol .1 WM_DELETE_WINDOW {puts hi}   
> /usr/local/bin/wish: line 2: 32765 Abort trap: 6           "$(dirname $0)/../../../Library/Frameworks/Tk.framework/Versions/8.6/Resources/Wish.app/Contents/MacOS/Wish" "$@"
> 
> 
> -pd
> 
>> On 17 May 2017, at 20:51 , Peter Dalgaard <pdalgd at gmail.com> wrote:
>> 
>> A few more data points:
>> 
>> I tried building Tcl/Tk 8.6.6 from the sources from sourceforge. Contrary to what it says on the package, it insists on building Tcl and Tk as frameworks, which in turn requires that R's configure needs special instructions. This works reasonably well for simple tcltk stuff (demos, the CRAN selection menu), but unfortunately, library(Rcmdr) causes an "Abort trap: 6" almost immediately. (I get a sense of deja vu about this... Did Brian try something similar years ago?)
>> 
>> It does actually seem to work to build R against the system-supplied v.8.5 frameworks. However, this is Aqua-based, and the fonts are a bit weird (smooth, but way too small) and the Rcmdr menus get moved to the top bar.
>> 
>> I am pretty sure by now that all this stuff is a generic tcltk build problem and way out of John's domain. (Thanks for posting the font code, John. I hope I can get around to having a closer look at it at some point. Those .Tcl(paste()) constructs make me cringe a bit, but not all are easily eliminated.)
>> 
>> -pd
>> 
>>> On 16 May 2017, at 23:52 , peter dalgaard <pdalgd at gmail.com> wrote:
>>> 
>>> 
>>>> On 16 May 2017, at 21:03 , peter dalgaard <pdalgd at gmail.com> wrote:
>>>> 
>>>> I don't think the config flags for R matter in this regard. The behaviour is completely paralleled by wish8.6: 
>>> 
>>> Hmmm, not sure the wish ::tk::pkgconfig thing proves anything, after I tried some of the ActiveState installs and a source build. This stuff is making my head spin!
>>> 
>>> However, I discovered that it is possible to install R-3.4.0.pkg as usual, and then a customized install of (say) R-3.3-branch-mavericks.pkg, omitting everything except the Tcl/Tk stuff. That gives you R 3.4.0 and Rcmdr with antialiased fonts.
>>> 
>>> -- 
>>> Peter Dalgaard, Professor,
>>> Center for Statistics, Copenhagen Business School
>>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>>> Phone: (+45)38153501
>>> Office: A 4.23
>>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>> 
>> -- 
>> Peter Dalgaard, Professor,
>> Center for Statistics, Copenhagen Business School
>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>> Phone: (+45)38153501
>> Office: A 4.23
>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
> 
> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 
> 

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From bogaso.christofer at gmail.com  Fri May 19 00:58:37 2017
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Fri, 19 May 2017 04:28:37 +0530
Subject: [R-SIG-Mac] R is taking too long to load
In-Reply-To: <591E1517.6010106@fredhutch.org>
References: <CA+dpOJ=mqt-4Q1JE6=r4e-=n2LfrQhSrVLXtusDq1ajHreSTNQ@mail.gmail.com>
 <591E1517.6010106@fredhutch.org>
Message-ID: <CA+dpOJmNpY5iOR30f_R3H1-Kj2fTakVh9iMzTDG1uuxujQramg@mail.gmail.com>

Thanks,

How can I start R with --vanilla in Mac? Sorry if this question is very trivial.

On Fri, May 19, 2017 at 3:11 AM, Herv? Pag?s <hpages at fredhutch.org> wrote:
> Hi,
>
> First thing I would do is make sure you don't have any startup file
> or .Rhistory in the way. If starting R with --vanilla is fast, then
> that's probably the case.
>
> H.
>
>
> On 05/18/2017 12:44 PM, Christofer Bogaso wrote:
>>
>> Hi,
>>
>> It just started happening recently that R is taking too long to load
>> and entire system freezes during its loading.
>>
>> Have anyone experienced something similar? Previously my R was
>> completely okay, however it just started recently.
>>
>> Any solution for this? I have reinstalled R and now it is the latest
>> version 3.4.0. I am using Sierra iOS.
>>
>> Appreciate for any pointer.
>>
>> Thanks,
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>>
>> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dsig-2Dmac&d=DwICAg&c=eRAMFD45gAfqt84VtBcfhQ&r=BK7q3XeAvimeWdGbWY_wJYbW0WYiZvSXAJJKaaPhzWA&m=m7VSPPECqAsFryKwwUO-q8QiizXtbiWc-kj9qtPO2h0&s=cSQVI4BrFUKhUyo5ZPrQMQOwu-ZSCMWpxh5IJ8y9L6s&e=
>>
>
> --
> Herv? Pag?s
>
> Program in Computational Biology
> Division of Public Health Sciences
> Fred Hutchinson Cancer Research Center
> 1100 Fairview Ave. N, M1-B514
> P.O. Box 19024
> Seattle, WA 98109-1024
>
> E-mail: hpages at fredhutch.org
> Phone:  (206) 667-5791
> Fax:    (206) 667-1319


From pdalgd at gmail.com  Fri May 19 01:43:48 2017
From: pdalgd at gmail.com (peter dalgaard)
Date: Fri, 19 May 2017 01:43:48 +0200
Subject: [R-SIG-Mac] R is taking too long to load
In-Reply-To: <CA+dpOJmNpY5iOR30f_R3H1-Kj2fTakVh9iMzTDG1uuxujQramg@mail.gmail.com>
References: <CA+dpOJ=mqt-4Q1JE6=r4e-=n2LfrQhSrVLXtusDq1ajHreSTNQ@mail.gmail.com>
 <591E1517.6010106@fredhutch.org>
 <CA+dpOJmNpY5iOR30f_R3H1-Kj2fTakVh9iMzTDG1uuxujQramg@mail.gmail.com>
Message-ID: <43AE8BCA-CADD-4FBE-BFED-E33E58F07547@gmail.com>

Most easily by typing "R --vanilla" the command line of Terminal.app. Dunno if you can do it with R.app. 

-pd


> On 19 May 2017, at 00:58 , Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
> 
> Thanks,
> 
> How can I start R with --vanilla in Mac? Sorry if this question is very trivial.
> 
> On Fri, May 19, 2017 at 3:11 AM, Herv? Pag?s <hpages at fredhutch.org> wrote:
>> Hi,
>> 
>> First thing I would do is make sure you don't have any startup file
>> or .Rhistory in the way. If starting R with --vanilla is fast, then
>> that's probably the case.
>> 
>> H.
>> 
>> 
>> On 05/18/2017 12:44 PM, Christofer Bogaso wrote:
>>> 
>>> Hi,
>>> 
>>> It just started happening recently that R is taking too long to load
>>> and entire system freezes during its loading.
>>> 
>>> Have anyone experienced something similar? Previously my R was
>>> completely okay, however it just started recently.
>>> 
>>> Any solution for this? I have reinstalled R and now it is the latest
>>> version 3.4.0. I am using Sierra iOS.
>>> 
>>> Appreciate for any pointer.
>>> 
>>> Thanks,
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> 
>>> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dsig-2Dmac&d=DwICAg&c=eRAMFD45gAfqt84VtBcfhQ&r=BK7q3XeAvimeWdGbWY_wJYbW0WYiZvSXAJJKaaPhzWA&m=m7VSPPECqAsFryKwwUO-q8QiizXtbiWc-kj9qtPO2h0&s=cSQVI4BrFUKhUyo5ZPrQMQOwu-ZSCMWpxh5IJ8y9L6s&e=
>>> 
>> 
>> --
>> Herv? Pag?s
>> 
>> Program in Computational Biology
>> Division of Public Health Sciences
>> Fred Hutchinson Cancer Research Center
>> 1100 Fairview Ave. N, M1-B514
>> P.O. Box 19024
>> Seattle, WA 98109-1024
>> 
>> E-mail: hpages at fredhutch.org
>> Phone:  (206) 667-5791
>> Fax:    (206) 667-1319
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From btupper at bigelow.org  Fri May 19 07:50:07 2017
From: btupper at bigelow.org (Ben Tupper)
Date: Fri, 19 May 2017 01:50:07 -0400
Subject: [R-SIG-Mac] R is taking too long to load
In-Reply-To: <43AE8BCA-CADD-4FBE-BFED-E33E58F07547@gmail.com>
References: <CA+dpOJ=mqt-4Q1JE6=r4e-=n2LfrQhSrVLXtusDq1ajHreSTNQ@mail.gmail.com>
 <591E1517.6010106@fredhutch.org>
 <CA+dpOJmNpY5iOR30f_R3H1-Kj2fTakVh9iMzTDG1uuxujQramg@mail.gmail.com>
 <43AE8BCA-CADD-4FBE-BFED-E33E58F07547@gmail.com>
Message-ID: <CALrbzg3xdtd+CrVWf4ZZDzpagGfRnRG8EYY6SCrH-6Q_J-ypZg@mail.gmail.com>

Check out this exchange

https://stat.ethz.ch/pipermail/r-sig-mac/2013-February/009979.html


On Friday, May 19, 2017, peter dalgaard <pdalgd at gmail.com> wrote:

> Most easily by typing "R --vanilla" the command line of Terminal.app.
> Dunno if you can do it with R.app.
>
> -pd
>
>
> > On 19 May 2017, at 00:58 , Christofer Bogaso <
> bogaso.christofer at gmail.com <javascript:;>> wrote:
> >
> > Thanks,
> >
> > How can I start R with --vanilla in Mac? Sorry if this question is very
> trivial.
> >
> > On Fri, May 19, 2017 at 3:11 AM, Herv? Pag?s <hpages at fredhutch.org
> <javascript:;>> wrote:
> >> Hi,
> >>
> >> First thing I would do is make sure you don't have any startup file
> >> or .Rhistory in the way. If starting R with --vanilla is fast, then
> >> that's probably the case.
> >>
> >> H.
> >>
> >>
> >> On 05/18/2017 12:44 PM, Christofer Bogaso wrote:
> >>>
> >>> Hi,
> >>>
> >>> It just started happening recently that R is taking too long to load
> >>> and entire system freezes during its loading.
> >>>
> >>> Have anyone experienced something similar? Previously my R was
> >>> completely okay, however it just started recently.
> >>>
> >>> Any solution for this? I have reinstalled R and now it is the latest
> >>> version 3.4.0. I am using Sierra iOS.
> >>>
> >>> Appreciate for any pointer.
> >>>
> >>> Thanks,
> >>>
> >>> _______________________________________________
> >>> R-SIG-Mac mailing list
> >>> R-SIG-Mac at r-project.org <javascript:;>
> >>>
> >>> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.
> ethz.ch_mailman_listinfo_r-2Dsig-2Dmac&d=DwICAg&c=
> eRAMFD45gAfqt84VtBcfhQ&r=BK7q3XeAvimeWdGbWY_wJYbW0WYiZvSXAJJKaaPhzWA&m=
> m7VSPPECqAsFryKwwUO-q8QiizXtbiWc-kj9qtPO2h0&s=cSQVI4BrFUKhUyo5ZPrQMQOwu-
> ZSCMWpxh5IJ8y9L6s&e=
> >>>
> >>
> >> --
> >> Herv? Pag?s
> >>
> >> Program in Computational Biology
> >> Division of Public Health Sciences
> >> Fred Hutchinson Cancer Research Center
> >> 1100 Fairview Ave. N, M1-B514
> >> P.O. Box 19024
> >> Seattle, WA 98109-1024
> >>
> >> E-mail: hpages at fredhutch.org <javascript:;>
> >> Phone:  (206) 667-5791
> >> Fax:    (206) 667-1319
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org <javascript:;>
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> --
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk <javascript:;>  Priv: PDalgd at gmail.com <javascript:;>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org <javascript:;>
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

	[[alternative HTML version deleted]]


From c.diagne at icloud.com  Sat May 20 20:51:44 2017
From: c.diagne at icloud.com (Dr Cheikh Tidiane DIAGNE)
Date: Sat, 20 May 2017 18:51:44 +0000
Subject: [R-SIG-Mac] R is taking too long to load
In-Reply-To: <CA+dpOJ=mqt-4Q1JE6=r4e-=n2LfrQhSrVLXtusDq1ajHreSTNQ@mail.gmail.com>
References: <CA+dpOJ=mqt-4Q1JE6=r4e-=n2LfrQhSrVLXtusDq1ajHreSTNQ@mail.gmail.com>
Message-ID: <D937E21A-6897-415F-BE15-93D11F60D326@icloud.com>

Hi,
I have experienced something similar since I update R to version 3.3.0.
I am using Sierra on MacBook Pro.
Any help would be much appreciated.
Cheers,

Dr Cheikh Tidiane DIAGNE
Medical Entomologist
Pasteur Institute - Dakar, Senegal
36, Avenue Pasteur, P.O. BOX 220
e-mail : c.diagne at icloud.com <mailto:c.diagne at icloud.com>
Skype: cheikh-tidiane-diagne
ResearchGate : https://www.researchgate.net/profile/Cheikh_Diagne3 <https://www.researchgate.net/profile/Cheikh_Diagne3>


Please consider the environment before printing this e-mail.

> On May 18, 2017, at 19:44, Christofer Bogaso <bogaso.christofer at gmail.com <mailto:bogaso.christofer at gmail.com>> wrote:
> 
> Have anyone experienced something similar




	[[alternative HTML version deleted]]


From bogaso.christofer at gmail.com  Tue May 23 20:48:46 2017
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Wed, 24 May 2017 00:18:46 +0530
Subject: [R-SIG-Mac] rJava stops loading since I upgraded R to 3.4.0
Message-ID: <CA+dpOJmcpUPya2d36vMLsnPPu3KTisv0KFSDa-i0Lc_BBLKnmQ@mail.gmail.com>

Hi again,

After I upgraded R to 3.4.0, I could not load rJava package. Below is
the error :

> library(rJava)

Error: package or namespace load failed for ?rJava?:

 .onLoad failed in loadNamespace() for 'rJava', details:

  call: dyn.load(file, DLLpath = DLLpath, ...)

  error: unable to load shared object
'/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so':

  dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so,
6): Library not loaded: @rpath/libjvm.dylib

  Referenced from:
/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so

  Reason: image not found

I have installed latest version of Java.

R version :

R version 3.4.0 (2017-04-21) -- "You Stupid Darkness"

Copyright (C) 2017 The R Foundation for Statistical Computing

Platform: x86_64-apple-darwin15.6.0 (64-bit)

iOS : Sierra

With previous version of R, rJava was working fine. Could you please
help how to fix it.

Thanks for your time.

Regards,


From murdoch.duncan at gmail.com  Tue May 23 22:05:11 2017
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 23 May 2017 16:05:11 -0400
Subject: [R-SIG-Mac] rJava stops loading since I upgraded R to 3.4.0
In-Reply-To: <CA+dpOJmcpUPya2d36vMLsnPPu3KTisv0KFSDa-i0Lc_BBLKnmQ@mail.gmail.com>
References: <CA+dpOJmcpUPya2d36vMLsnPPu3KTisv0KFSDa-i0Lc_BBLKnmQ@mail.gmail.com>
Message-ID: <3688ec99-76b0-ca0e-b57c-967a0a798e85@gmail.com>

On 23/05/2017 2:48 PM, Christofer Bogaso wrote:
> Hi again,
>
> After I upgraded R to 3.4.0, I could not load rJava package. Below is
> the error :
>
>> library(rJava)
>
> Error: package or namespace load failed for ?rJava?:
>
>  .onLoad failed in loadNamespace() for 'rJava', details:
>
>   call: dyn.load(file, DLLpath = DLLpath, ...)
>
>   error: unable to load shared object
> '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so':
>
>   dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so,
> 6): Library not loaded: @rpath/libjvm.dylib
>
>   Referenced from:
> /Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so
>
>   Reason: image not found
>
> I have installed latest version of Java.

Did you re-install rJava?  Generally speaking you need to re-install all 
packages when switching R versions (except if the only change is in the 
patch level z, where the version number is x.y.z, you can usually use 
the old version).

Duncan Murdoch

>
> R version :
>
> R version 3.4.0 (2017-04-21) -- "You Stupid Darkness"
>
> Copyright (C) 2017 The R Foundation for Statistical Computing
>
> Platform: x86_64-apple-darwin15.6.0 (64-bit)
>
> iOS : Sierra
>
> With previous version of R, rJava was working fine. Could you please
> help how to fix it.
>
> Thanks for your time.
>
> Regards,
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From bogaso.christofer at gmail.com  Tue May 23 22:35:34 2017
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Wed, 24 May 2017 02:05:34 +0530
Subject: [R-SIG-Mac] rJava stops loading since I upgraded R to 3.4.0
In-Reply-To: <3688ec99-76b0-ca0e-b57c-967a0a798e85@gmail.com>
References: <CA+dpOJmcpUPya2d36vMLsnPPu3KTisv0KFSDa-i0Lc_BBLKnmQ@mail.gmail.com>
 <3688ec99-76b0-ca0e-b57c-967a0a798e85@gmail.com>
Message-ID: <CA+dpOJmeMNzqR-UG8WjeLeE5+SREm63DbBqp0i0JYEab3pD2-g@mail.gmail.com>

Hi Duncan, yes I reinstalled again the rJava, but the problem persists.

On Wed, May 24, 2017 at 1:35 AM, Duncan Murdoch
<murdoch.duncan at gmail.com> wrote:
> On 23/05/2017 2:48 PM, Christofer Bogaso wrote:
>>
>> Hi again,
>>
>> After I upgraded R to 3.4.0, I could not load rJava package. Below is
>> the error :
>>
>>> library(rJava)
>>
>>
>> Error: package or namespace load failed for ?rJava?:
>>
>>  .onLoad failed in loadNamespace() for 'rJava', details:
>>
>>   call: dyn.load(file, DLLpath = DLLpath, ...)
>>
>>   error: unable to load shared object
>>
>> '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so':
>>
>>
>> dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so,
>> 6): Library not loaded: @rpath/libjvm.dylib
>>
>>   Referenced from:
>>
>> /Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so
>>
>>   Reason: image not found
>>
>> I have installed latest version of Java.
>
>
> Did you re-install rJava?  Generally speaking you need to re-install all
> packages when switching R versions (except if the only change is in the
> patch level z, where the version number is x.y.z, you can usually use the
> old version).
>
> Duncan Murdoch
>
>>
>> R version :
>>
>> R version 3.4.0 (2017-04-21) -- "You Stupid Darkness"
>>
>> Copyright (C) 2017 The R Foundation for Statistical Computing
>>
>> Platform: x86_64-apple-darwin15.6.0 (64-bit)
>>
>> iOS : Sierra
>>
>> With previous version of R, rJava was working fine. Could you please
>> help how to fix it.
>>
>> Thanks for your time.
>>
>> Regards,
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>


From dwinsemius at comcast.net  Wed May 24 00:18:32 2017
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 23 May 2017 15:18:32 -0700
Subject: [R-SIG-Mac] rJava stops loading since I upgraded R to 3.4.0
In-Reply-To: <3688ec99-76b0-ca0e-b57c-967a0a798e85@gmail.com>
References: <CA+dpOJmcpUPya2d36vMLsnPPu3KTisv0KFSDa-i0Lc_BBLKnmQ@mail.gmail.com>
 <3688ec99-76b0-ca0e-b57c-967a0a798e85@gmail.com>
Message-ID: <35A44D4E-134B-441A-BE5D-1E0A997C5447@comcast.net>


> On May 23, 2017, at 1:05 PM, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> 
> On 23/05/2017 2:48 PM, Christofer Bogaso wrote:
>> Hi again,
>> 
>> After I upgraded R to 3.4.0, I could not load rJava package. Below is
>> the error :
>> 
>>> library(rJava)
>> 
>> Error: package or namespace load failed for ?rJava?:
>> 
>> .onLoad failed in loadNamespace() for 'rJava', details:
>> 
>>  call: dyn.load(file, DLLpath = DLLpath, ...)
>> 
>>  error: unable to load shared object
>> '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so':

To Christofer;

Does '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so' exist?

(You may need to check libPaths() in your new installation. )


>>  dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so,
>> 6): Library not loaded: @rpath/libjvm.dylib
>> 

What version of the Java Runtime Environment is available? What do you get for:

system('javac -version')
#I get:
#javac 1.8.0_65

I think that version was working with rJava, but I followed the "critical" advice on the Java SDK webpage ...

... and after updating I now  get
#javac 1.8.0_131

And rJava still loads without error. I'm not on Sierra, however.

Good luck;
David,



>>  Referenced from:
>> /Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so
>> 
>>  Reason: image not found
>> 
>> I have installed latest version of Java.
> 
> Did you re-install rJava?  Generally speaking you need to re-install all packages when switching R versions (except if the only change is in the patch level z, where the version number is x.y.z, you can usually use the old version).
> 
> Duncan Murdoch
> 
>> 
>> R version :
>> 
>> R version 3.4.0 (2017-04-21) -- "You Stupid Darkness"
>> 
>> Copyright (C) 2017 The R Foundation for Statistical Computing
>> 
>> Platform: x86_64-apple-darwin15.6.0 (64-bit)
>> 
>> iOS : Sierra
>> 
>> With previous version of R, rJava was working fine. Could you please
>> help how to fix it.
>> 
>> Thanks for your time.
>> 
>> Regards,
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From pdalgd at gmail.com  Wed May 24 00:58:07 2017
From: pdalgd at gmail.com (peter dalgaard)
Date: Wed, 24 May 2017 00:58:07 +0200
Subject: [R-SIG-Mac] rJava stops loading since I upgraded R to 3.4.0
In-Reply-To: <35A44D4E-134B-441A-BE5D-1E0A997C5447@comcast.net>
References: <CA+dpOJmcpUPya2d36vMLsnPPu3KTisv0KFSDa-i0Lc_BBLKnmQ@mail.gmail.com>
 <3688ec99-76b0-ca0e-b57c-967a0a798e85@gmail.com>
 <35A44D4E-134B-441A-BE5D-1E0A997C5447@comcast.net>
Message-ID: <EF86D23F-6C6D-4E48-99FF-5BAF3FA65F35@gmail.com>

[Christofer seemed to have fallen off the cc: list, now included]

> On 24 May 2017, at 00:18 , David Winsemius <dwinsemius at comcast.net> wrote:
> 
> What version of the Java Runtime Environment is available? What do you get for:
> 
> system('javac -version')
> #I get:
> #javac 1.8.0_65
> 
> I think that version was working with rJava, but I followed the "critical" advice on the Java SDK webpage ...
> 
> ... and after updating I now  get
> #javac 1.8.0_131
> 
> And rJava still loads without error. I'm not on Sierra, however.
> 

I am, and rJava doesn't load here either. However after

sudo R CMD javareconf

it seems happy as a clam.


> Good luck;
> David,

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From bogaso.christofer at gmail.com  Wed May 24 01:44:58 2017
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Wed, 24 May 2017 05:14:58 +0530
Subject: [R-SIG-Mac] rJava stops loading since I upgraded R to 3.4.0
In-Reply-To: <EF86D23F-6C6D-4E48-99FF-5BAF3FA65F35@gmail.com>
References: <CA+dpOJmcpUPya2d36vMLsnPPu3KTisv0KFSDa-i0Lc_BBLKnmQ@mail.gmail.com>
 <3688ec99-76b0-ca0e-b57c-967a0a798e85@gmail.com>
 <35A44D4E-134B-441A-BE5D-1E0A997C5447@comcast.net>
 <EF86D23F-6C6D-4E48-99FF-5BAF3FA65F35@gmail.com>
Message-ID: <CA+dpOJ=DWABkGUHfZQsNrrNz6a0kCkcCdYe0k--kSmDFMJY6dA@mail.gmail.com>

Hi David,

The file 'rJava.so' exists in my machine :

> file.exists('/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so')

[1] TRUE

Also the Javac version that I have :

> system('javac -version')

javac 1.6.0_65

Looks like mine is older than you. Do I need to download the latest?
In that case, do you suggest any link? As far as I know, javac comes
with Mac installed.

On Peter's suggestion I also did sudo R CMD javareconf. However still
rJava couldnt be loaded.

Any other idea? Thanks,

On Wed, May 24, 2017 at 4:28 AM, peter dalgaard <pdalgd at gmail.com> wrote:
> [Christofer seemed to have fallen off the cc: list, now included]
>
>> On 24 May 2017, at 00:18 , David Winsemius <dwinsemius at comcast.net> wrote:
>>
>> What version of the Java Runtime Environment is available? What do you get for:
>>
>> system('javac -version')
>> #I get:
>> #javac 1.8.0_65
>>
>> I think that version was working with rJava, but I followed the "critical" advice on the Java SDK webpage ...
>>
>> ... and after updating I now  get
>> #javac 1.8.0_131
>>
>> And rJava still loads without error. I'm not on Sierra, however.
>>
>
> I am, and rJava doesn't load here either. However after
>
> sudo R CMD javareconf
>
> it seems happy as a clam.
>
>
>> Good luck;
>> David,
>
> --
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>
>
>
>
>
>
>
>
>


From dwinsemius at comcast.net  Wed May 24 02:24:10 2017
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 23 May 2017 17:24:10 -0700
Subject: [R-SIG-Mac] rJava stops loading since I upgraded R to 3.4.0
In-Reply-To: <35A44D4E-134B-441A-BE5D-1E0A997C5447@comcast.net>
References: <CA+dpOJmcpUPya2d36vMLsnPPu3KTisv0KFSDa-i0Lc_BBLKnmQ@mail.gmail.com>
 <3688ec99-76b0-ca0e-b57c-967a0a798e85@gmail.com>
 <35A44D4E-134B-441A-BE5D-1E0A997C5447@comcast.net>
Message-ID: <73F86DBA-7BA7-4CE7-A178-A3258A711BB0@comcast.net>


> On May 23, 2017, at 3:18 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
>> 
>> On May 23, 2017, at 1:05 PM, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
>> 
>> On 23/05/2017 2:48 PM, Christofer Bogaso wrote:
>>> Hi again,
>>> 
>>> After I upgraded R to 3.4.0, I could not load rJava package. Below is
>>> the error :
>>> 
>>>> library(rJava)
>>> 
>>> Error: package or namespace load failed for ?rJava?:
>>> 
>>> .onLoad failed in loadNamespace() for 'rJava', details:
>>> 
>>> call: dyn.load(file, DLLpath = DLLpath, ...)
>>> 
>>> error: unable to load shared object
>>> '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so':
> 
> To Christofer;
> 
> Does '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so' exist?
> 
> (You may need to check libPaths() in your new installation. )

You might also want to report the value that Sys.getenv() returns for:

DYLD_LIBRARY_PATH  

For me it is now:

       /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/


> 
> 
>>> dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so,
>>> 6): Library not loaded: @rpath/libjvm.dylib
>>> 
> 
> What version of the Java Runtime Environment is available? What do you get for:
> 
> system('javac -version')
> #I get:
> #javac 1.8.0_65
> 
> I think that version was working with rJava, but I followed the "critical" advice on the Java SDK webpage ...
> 
> ... and after updating I now  get
> #javac 1.8.0_131
> 
> And rJava still loads without error. I'm not on Sierra, however.
> 
> Good luck;
> David,
> 
> 
> 
>>> Referenced from:
>>> /Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so
>>> 
>>> Reason: image not found
>>> 
>>> I have installed latest version of Java.
>> 
>> Did you re-install rJava?  Generally speaking you need to re-install all packages when switching R versions (except if the only change is in the patch level z, where the version number is x.y.z, you can usually use the old version).
>> 
>> Duncan Murdoch
>> 
>>> 
>>> R version :
>>> 
>>> R version 3.4.0 (2017-04-21) -- "You Stupid Darkness"
>>> 
>>> Copyright (C) 2017 The R Foundation for Statistical Computing
>>> 
>>> Platform: x86_64-apple-darwin15.6.0 (64-bit)
>>> 
>>> iOS : Sierra
>>> 
>>> With previous version of R, rJava was working fine. Could you please
>>> help how to fix it.
>>> 
>>> Thanks for your time.
>>> 
>>> Regards,
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> David Winsemius
> Alameda, CA, USA
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From dwinsemius at comcast.net  Wed May 24 02:29:19 2017
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 23 May 2017 17:29:19 -0700
Subject: [R-SIG-Mac] rJava stops loading since I upgraded R to 3.4.0
In-Reply-To: <CA+dpOJ=DWABkGUHfZQsNrrNz6a0kCkcCdYe0k--kSmDFMJY6dA@mail.gmail.com>
References: <CA+dpOJmcpUPya2d36vMLsnPPu3KTisv0KFSDa-i0Lc_BBLKnmQ@mail.gmail.com>
 <3688ec99-76b0-ca0e-b57c-967a0a798e85@gmail.com>
 <35A44D4E-134B-441A-BE5D-1E0A997C5447@comcast.net>
 <EF86D23F-6C6D-4E48-99FF-5BAF3FA65F35@gmail.com>
 <CA+dpOJ=DWABkGUHfZQsNrrNz6a0kCkcCdYe0k--kSmDFMJY6dA@mail.gmail.com>
Message-ID: <31F18301-798A-4EA4-ADAD-6E0E3CD5C99F@comcast.net>


> On May 23, 2017, at 4:44 PM, Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
> 
> Hi David,
> 
> The file 'rJava.so' exists in my machine :
> 
>> file.exists('/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so')
> 
> [1] TRUE
> 
> Also the Javac version that I have :
> 
>> system('javac -version')
> 
> javac 1.6.0_65
> 
> Looks like mine is older than you. Do I need to download the latest?
> In that case, do you suggest any link? As far as I know, javac comes
> with Mac installed.

Yes, it does and some people seem to get success with that. I found that installing 1.8 (also confusingly known as "Java 8") resolved my difficulties with loading rJava. I'm not an expert, just reporting my ezxperience
> 
> On Peter's suggestion I also did sudo R CMD javareconf. However still
> rJava couldnt be loaded.

For my machine:

>Sys.getenv()  # returns (among many other values)


DYLD_LIBRARY_PATH        /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/


> 
> Any other idea? Thanks,
> 
> On Wed, May 24, 2017 at 4:28 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>> [Christofer seemed to have fallen off the cc: list, now included]
>> 
>>> On 24 May 2017, at 00:18 , David Winsemius <dwinsemius at comcast.net> wrote:
>>> 
>>> What version of the Java Runtime Environment is available? What do you get for:
>>> 
>>> system('javac -version')
>>> #I get:
>>> #javac 1.8.0_65
>>> 
>>> I think that version was working with rJava, but I followed the "critical" advice on the Java SDK webpage ...
>>> 
>>> ... and after updating I now  get
>>> #javac 1.8.0_131
>>> 
>>> And rJava still loads without error. I'm not on Sierra, however.
>>> 
>> 
>> I am, and rJava doesn't load here either. However after
>> 
>> sudo R CMD javareconf
>> 
>> it seems happy as a clam.
>> 
>> 
>>> Good luck;
>>> David,
>> 
>> --
>> Peter Dalgaard, Professor,
>> Center for Statistics, Copenhagen Business School
>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>> Phone: (+45)38153501
>> Office: A 4.23
>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 

David Winsemius
Alameda, CA, USA


From dwinsemius at comcast.net  Wed May 24 02:34:00 2017
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 23 May 2017 17:34:00 -0700
Subject: [R-SIG-Mac] rJava stops loading since I upgraded R to 3.4.0
In-Reply-To: <31F18301-798A-4EA4-ADAD-6E0E3CD5C99F@comcast.net>
References: <CA+dpOJmcpUPya2d36vMLsnPPu3KTisv0KFSDa-i0Lc_BBLKnmQ@mail.gmail.com>
 <3688ec99-76b0-ca0e-b57c-967a0a798e85@gmail.com>
 <35A44D4E-134B-441A-BE5D-1E0A997C5447@comcast.net>
 <EF86D23F-6C6D-4E48-99FF-5BAF3FA65F35@gmail.com>
 <CA+dpOJ=DWABkGUHfZQsNrrNz6a0kCkcCdYe0k--kSmDFMJY6dA@mail.gmail.com>
 <31F18301-798A-4EA4-ADAD-6E0E3CD5C99F@comcast.net>
Message-ID: <7947A4A1-60A0-4016-9B3F-55658ED51589@comcast.net>


> On May 23, 2017, at 5:29 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> 
>> On May 23, 2017, at 4:44 PM, Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
>> 
>> Hi David,
>> 
>> The file 'rJava.so' exists in my machine :
>> 
>>> file.exists('/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so')
>> 
>> [1] TRUE
>> 
>> Also the Javac version that I have :
>> 
>>> system('javac -version')
>> 
>> javac 1.6.0_65
>> 
>> Looks like mine is older than you. Do I need to download the latest?
>> In that case, do you suggest any link? As far as I know, javac comes
>> with Mac installed.
> 
> Yes, it does and some people seem to get success with that. I found that installing 1.8 (also confusingly known as "Java 8") resolved my difficulties with loading rJava. I'm not an expert, just reporting my ezxperience
>> 
>> On Peter's suggestion I also did sudo R CMD javareconf. However still
>> rJava couldnt be loaded.
> 
> For my machine:
> 
>> Sys.getenv()  # returns (among many other values)
> 
> 
> DYLD_LIBRARY_PATH        /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/

And I just notice another value in the returns from that command:

LD_LIBRARY_PATH           :@JAVA_LD@

-- 
David.
> 
> 
>> 
>> Any other idea? Thanks,
>> 
>> On Wed, May 24, 2017 at 4:28 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>>> [Christofer seemed to have fallen off the cc: list, now included]
>>> 
>>>> On 24 May 2017, at 00:18 , David Winsemius <dwinsemius at comcast.net> wrote:
>>>> 
>>>> What version of the Java Runtime Environment is available? What do you get for:
>>>> 
>>>> system('javac -version')
>>>> #I get:
>>>> #javac 1.8.0_65
>>>> 
>>>> I think that version was working with rJava, but I followed the "critical" advice on the Java SDK webpage ...
>>>> 
>>>> ... and after updating I now  get
>>>> #javac 1.8.0_131
>>>> 
>>>> And rJava still loads without error. I'm not on Sierra, however.
>>>> 
>>> 
>>> I am, and rJava doesn't load here either. However after
>>> 
>>> sudo R CMD javareconf
>>> 
>>> it seems happy as a clam.
>>> 
>>> 
>>>> Good luck;
>>>> David,
>>> 
>>> --
>>> Peter Dalgaard, Professor,
>>> Center for Statistics, Copenhagen Business School
>>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>>> Phone: (+45)38153501
>>> Office: A 4.23
>>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
> 
> David Winsemius
> Alameda, CA, USA
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From simon.urbanek at r-project.org  Wed May 24 06:58:09 2017
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 24 May 2017 00:58:09 -0400
Subject: [R-SIG-Mac] rJava stops loading since I upgraded R to 3.4.0
In-Reply-To: <CA+dpOJ=DWABkGUHfZQsNrrNz6a0kCkcCdYe0k--kSmDFMJY6dA@mail.gmail.com>
References: <CA+dpOJmcpUPya2d36vMLsnPPu3KTisv0KFSDa-i0Lc_BBLKnmQ@mail.gmail.com>
 <3688ec99-76b0-ca0e-b57c-967a0a798e85@gmail.com>
 <35A44D4E-134B-441A-BE5D-1E0A997C5447@comcast.net>
 <EF86D23F-6C6D-4E48-99FF-5BAF3FA65F35@gmail.com>
 <CA+dpOJ=DWABkGUHfZQsNrrNz6a0kCkcCdYe0k--kSmDFMJY6dA@mail.gmail.com>
Message-ID: <47E74B8B-0677-47D3-8374-4508F8DABA7A@r-project.org>

Christofer,

> On May 23, 2017, at 7:44 PM, Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
> 
> Hi David,
> 
> The file 'rJava.so' exists in my machine :
> 
>> file.exists('/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so')
> 
> [1] TRUE
> 
> Also the Javac version that I have :
> 
>> system('javac -version')
> 
> javac 1.6.0_65
> 
> Looks like mine is older than you. Do I need to download the latest?
> In that case, do you suggest any link? As far as I know, javac comes
> with Mac installed.
> 

Apple has dropped Java support many years ago - what you have a is a left-over from a very old OS X version as you likely upgraded your OS X over the years without re-installing.
Since R 3.4.0 the CRAN binary uses Java 1.8, because too many users have complained about incompatibilities with old Java version, so you have two options
1) recompile rJava from sources against your ancient Java
2) install Java 1.8 from Oracle[1], then run R CMD javareconf

[1] http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html

Cheers,
Simon



> On Peter's suggestion I also did sudo R CMD javareconf. However still
> rJava couldnt be loaded.
> 
> Any other idea? Thanks,
> 
> On Wed, May 24, 2017 at 4:28 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>> [Christofer seemed to have fallen off the cc: list, now included]
>> 
>>> On 24 May 2017, at 00:18 , David Winsemius <dwinsemius at comcast.net> wrote:
>>> 
>>> What version of the Java Runtime Environment is available? What do you get for:
>>> 
>>> system('javac -version')
>>> #I get:
>>> #javac 1.8.0_65
>>> 
>>> I think that version was working with rJava, but I followed the "critical" advice on the Java SDK webpage ...
>>> 
>>> ... and after updating I now  get
>>> #javac 1.8.0_131
>>> 
>>> And rJava still loads without error. I'm not on Sierra, however.
>>> 
>> 
>> I am, and rJava doesn't load here either. However after
>> 
>> sudo R CMD javareconf
>> 
>> it seems happy as a clam.
>> 
>> 
>>> Good luck;
>>> David,
>> 
>> --
>> Peter Dalgaard, Professor,
>> Center for Statistics, Copenhagen Business School
>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>> Phone: (+45)38153501
>> Office: A 4.23
>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From bogaso.christofer at gmail.com  Wed May 24 16:40:05 2017
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Wed, 24 May 2017 20:10:05 +0530
Subject: [R-SIG-Mac] rJava stops loading since I upgraded R to 3.4.0
In-Reply-To: <47E74B8B-0677-47D3-8374-4508F8DABA7A@r-project.org>
References: <CA+dpOJmcpUPya2d36vMLsnPPu3KTisv0KFSDa-i0Lc_BBLKnmQ@mail.gmail.com>
 <3688ec99-76b0-ca0e-b57c-967a0a798e85@gmail.com>
 <35A44D4E-134B-441A-BE5D-1E0A997C5447@comcast.net>
 <EF86D23F-6C6D-4E48-99FF-5BAF3FA65F35@gmail.com>
 <CA+dpOJ=DWABkGUHfZQsNrrNz6a0kCkcCdYe0k--kSmDFMJY6dA@mail.gmail.com>
 <47E74B8B-0677-47D3-8374-4508F8DABA7A@r-project.org>
Message-ID: <CA+dpOJmKHq683Bi2wj7yaMq2k_6CHGr1sv05TW7kFH8oHycO4w@mail.gmail.com>

Hi,

I have installed javac to it's latest version, still the problem
persists. Below is the latest result

> library(rJava)

Error: package or namespace load failed for ?rJava?:

 .onLoad failed in loadNamespace() for 'rJava', details:

  call: dyn.load(file, DLLpath = DLLpath, ...)

  error: unable to load shared object
'/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so':

  dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so,
6): Library not loaded: @rpath/libjvm.dylib

  Referenced from:
/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so

  Reason: image not found

> file.exists('/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so')

[1] TRUE

> system('javac -version')

javac 1.8.0_131


Also, when I ran 'sudo R CMD javareconf' in my Terminal, I got below result :

dyld: Library not loaded:
@rpath/DVTFoundation.framework/Versions/A/DVTFoundation

  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild

  Reason: no suitable image found.  Did find:

/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
because Objective-C garbage collection is not supported

xcrun: error: unable to locate xcodebuild, please make sure the path
to the Xcode folder is set correctly!

xcrun: error: You can set the path to the Xcode folder using
/usr/bin/xcode-select -switch

dyld: Library not loaded:
@rpath/DVTFoundation.framework/Versions/A/DVTFoundation

  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild

  Reason: no suitable image found.  Did find:

/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
because Objective-C garbage collection is not supported

xcrun: error: unable to locate xcodebuild, please make sure the path
to the Xcode folder is set correctly!

xcrun: error: You can set the path to the Xcode folder using
/usr/bin/xcode-select -switch

dyld: Library not loaded:
@rpath/DVTFoundation.framework/Versions/A/DVTFoundation

  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild

  Reason: no suitable image found.  Did find:

/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
because Objective-C garbage collection is not supported

xcrun: error: unable to locate xcodebuild, please make sure the path
to the Xcode folder is set correctly!

xcrun: error: You can set the path to the Xcode folder using
/usr/bin/xcode-select -switch

dyld: Library not loaded:
@rpath/DVTFoundation.framework/Versions/A/DVTFoundation

  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild

  Reason: no suitable image found.  Did find:

/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
because Objective-C garbage collection is not supported

xcrun: error: unable to locate xcodebuild, please make sure the path
to the Xcode folder is set correctly!

xcrun: error: You can set the path to the Xcode folder using
/usr/bin/xcode-select -switch

dyld: Library not loaded:
@rpath/DVTFoundation.framework/Versions/A/DVTFoundation

  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild

  Reason: no suitable image found.  Did find:

/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
because Objective-C garbage collection is not supported

xcrun: error: unable to locate xcodebuild, please make sure the path
to the Xcode folder is set correctly!

xcrun: error: You can set the path to the Xcode folder using
/usr/bin/xcode-select -switch

dyld: Library not loaded:
@rpath/DVTFoundation.framework/Versions/A/DVTFoundation

  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild

  Reason: no suitable image found.  Did find:

/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
because Objective-C garbage collection is not supported

xcrun: error: unable to locate xcodebuild, please make sure the path
to the Xcode folder is set correctly!

xcrun: error: You can set the path to the Xcode folder using
/usr/bin/xcode-select -switch

Java interpreter : /usr/bin/java

Java version     : 1.8.0_131

Java home path   :
/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre

Java compiler    : /usr/bin/javac

Java headers gen.: /usr/bin/javah

Java archive tool: /usr/bin/jar

Non-system Java on macOS


trying to compile and link a JNI program

detected JNI cpp flags    : -I$(JAVA_HOME)/../include
-I$(JAVA_HOME)/../include/darwin

detected JNI linker flags : -L/Users/ARRUN/Library/Java/Extensions
-L/Library/Java/Extensions -L/Network/Library/Java/Extensions
-L/System/Library/Java/Extensions -L/usr/lib/java -L. -ljvm

dyld: Library not loaded:
@rpath/DVTFoundation.framework/Versions/A/DVTFoundation

  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild

  Reason: no suitable image found.  Did find:

/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
because Objective-C garbage collection is not supported

xcrun: error: unable to locate xcodebuild, please make sure the path
to the Xcode folder is set correctly!

xcrun: error: You can set the path to the Xcode folder using
/usr/bin/xcode-select -switch

Unable to compile a JNI program



JAVA_HOME        :
/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre

Java library path:

JNI cpp flags    :

JNI linker flags :

Updating Java configuration in /Library/Frameworks/R.framework/Resources

Done.

On Wed, May 24, 2017 at 10:28 AM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
> Christofer,
>
>> On May 23, 2017, at 7:44 PM, Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
>>
>> Hi David,
>>
>> The file 'rJava.so' exists in my machine :
>>
>>> file.exists('/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so')
>>
>> [1] TRUE
>>
>> Also the Javac version that I have :
>>
>>> system('javac -version')
>>
>> javac 1.6.0_65
>>
>> Looks like mine is older than you. Do I need to download the latest?
>> In that case, do you suggest any link? As far as I know, javac comes
>> with Mac installed.
>>
>
> Apple has dropped Java support many years ago - what you have a is a left-over from a very old OS X version as you likely upgraded your OS X over the years without re-installing.
> Since R 3.4.0 the CRAN binary uses Java 1.8, because too many users have complained about incompatibilities with old Java version, so you have two options
> 1) recompile rJava from sources against your ancient Java
> 2) install Java 1.8 from Oracle[1], then run R CMD javareconf
>
> [1] http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html
>
> Cheers,
> Simon
>
>
>
>> On Peter's suggestion I also did sudo R CMD javareconf. However still
>> rJava couldnt be loaded.
>>
>> Any other idea? Thanks,
>>
>> On Wed, May 24, 2017 at 4:28 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>>> [Christofer seemed to have fallen off the cc: list, now included]
>>>
>>>> On 24 May 2017, at 00:18 , David Winsemius <dwinsemius at comcast.net> wrote:
>>>>
>>>> What version of the Java Runtime Environment is available? What do you get for:
>>>>
>>>> system('javac -version')
>>>> #I get:
>>>> #javac 1.8.0_65
>>>>
>>>> I think that version was working with rJava, but I followed the "critical" advice on the Java SDK webpage ...
>>>>
>>>> ... and after updating I now  get
>>>> #javac 1.8.0_131
>>>>
>>>> And rJava still loads without error. I'm not on Sierra, however.
>>>>
>>>
>>> I am, and rJava doesn't load here either. However after
>>>
>>> sudo R CMD javareconf
>>>
>>> it seems happy as a clam.
>>>
>>>
>>>> Good luck;
>>>> David,
>>>
>>> --
>>> Peter Dalgaard, Professor,
>>> Center for Statistics, Copenhagen Business School
>>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>>> Phone: (+45)38153501
>>> Office: A 4.23
>>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>


From dwinsemius at comcast.net  Wed May 24 17:19:57 2017
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 24 May 2017 08:19:57 -0700
Subject: [R-SIG-Mac] rJava stops loading since I upgraded R to 3.4.0
In-Reply-To: <CA+dpOJmKHq683Bi2wj7yaMq2k_6CHGr1sv05TW7kFH8oHycO4w@mail.gmail.com>
References: <CA+dpOJmcpUPya2d36vMLsnPPu3KTisv0KFSDa-i0Lc_BBLKnmQ@mail.gmail.com>
 <3688ec99-76b0-ca0e-b57c-967a0a798e85@gmail.com>
 <35A44D4E-134B-441A-BE5D-1E0A997C5447@comcast.net>
 <EF86D23F-6C6D-4E48-99FF-5BAF3FA65F35@gmail.com>
 <CA+dpOJ=DWABkGUHfZQsNrrNz6a0kCkcCdYe0k--kSmDFMJY6dA@mail.gmail.com>
 <47E74B8B-0677-47D3-8374-4508F8DABA7A@r-project.org>
 <CA+dpOJmKHq683Bi2wj7yaMq2k_6CHGr1sv05TW7kFH8oHycO4w@mail.gmail.com>
Message-ID: <36A6F78C-E32F-4DA6-AE6D-4BB279646500@comcast.net>


> On May 24, 2017, at 7:40 AM, Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
> 
> Hi,
> 
> I have installed javac to it's latest version, still the problem
> persists. Below is the latest result
> 
>> library(rJava)
> 
> Error: package or namespace load failed for ?rJava?:
> 
> .onLoad failed in loadNamespace() for 'rJava', details:
> 
>  call: dyn.load(file, DLLpath = DLLpath, ...)
> 
>  error: unable to load shared object
> '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so':
> 
>  dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so,
> 6): Library not loaded: @rpath/libjvm.dylib
> 
>  Referenced from:
> /Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so
> 
>  Reason: image not found
> 
>> file.exists('/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so')
> 
> [1] TRUE
> 
>> system('javac -version')
> 
> javac 1.8.0_131
> 
> 
> Also, when I ran 'sudo R CMD javareconf' in my Terminal, I got below result :
> 
> dyld: Library not loaded:
> @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
> 
>  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild
> 
>  Reason: no suitable image found.  Did find:
> 
> /Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
> cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
> because Objective-C garbage collection is not supported
> 
> xcrun: error: unable to locate xcodebuild, please make sure the path
> to the Xcode folder is set correctly!
> 
> xcrun: error: You can set the path to the Xcode folder using
> /usr/bin/xcode-select -switch

So did you follow the advice in the error messages? I interpret this to suggest you didn't update Xcode when you updated to Sierra.

-- 
David.


> 
> dyld: Library not loaded:
> @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
> 
>  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild
> 
>  Reason: no suitable image found.  Did find:
> 
> /Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
> cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
> because Objective-C garbage collection is not supported
> 
> xcrun: error: unable to locate xcodebuild, please make sure the path
> to the Xcode folder is set correctly!
> 
> xcrun: error: You can set the path to the Xcode folder using
> /usr/bin/xcode-select -switch
> 
> dyld: Library not loaded:
> @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
> 
>  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild
> 
>  Reason: no suitable image found.  Did find:
> 
> /Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
> cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
> because Objective-C garbage collection is not supported
> 
> xcrun: error: unable to locate xcodebuild, please make sure the path
> to the Xcode folder is set correctly!
> 
> xcrun: error: You can set the path to the Xcode folder using
> /usr/bin/xcode-select -switch
> 
> dyld: Library not loaded:
> @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
> 
>  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild
> 
>  Reason: no suitable image found.  Did find:
> 
> /Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
> cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
> because Objective-C garbage collection is not supported
> 
> xcrun: error: unable to locate xcodebuild, please make sure the path
> to the Xcode folder is set correctly!
> 
> xcrun: error: You can set the path to the Xcode folder using
> /usr/bin/xcode-select -switch
> 
> dyld: Library not loaded:
> @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
> 
>  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild
> 
>  Reason: no suitable image found.  Did find:
> 
> /Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
> cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
> because Objective-C garbage collection is not supported
> 
> xcrun: error: unable to locate xcodebuild, please make sure the path
> to the Xcode folder is set correctly!
> 
> xcrun: error: You can set the path to the Xcode folder using
> /usr/bin/xcode-select -switch
> 
> dyld: Library not loaded:
> @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
> 
>  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild
> 
>  Reason: no suitable image found.  Did find:
> 
> /Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
> cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
> because Objective-C garbage collection is not supported
> 
> xcrun: error: unable to locate xcodebuild, please make sure the path
> to the Xcode folder is set correctly!
> 
> xcrun: error: You can set the path to the Xcode folder using
> /usr/bin/xcode-select -switch
> 
> Java interpreter : /usr/bin/java
> 
> Java version     : 1.8.0_131
> 
> Java home path   :
> /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre
> 
> Java compiler    : /usr/bin/javac
> 
> Java headers gen.: /usr/bin/javah
> 
> Java archive tool: /usr/bin/jar
> 
> Non-system Java on macOS
> 
> 
> trying to compile and link a JNI program
> 
> detected JNI cpp flags    : -I$(JAVA_HOME)/../include
> -I$(JAVA_HOME)/../include/darwin
> 
> detected JNI linker flags : -L/Users/ARRUN/Library/Java/Extensions
> -L/Library/Java/Extensions -L/Network/Library/Java/Extensions
> -L/System/Library/Java/Extensions -L/usr/lib/java -L. -ljvm
> 
> dyld: Library not loaded:
> @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
> 
>  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild
> 
>  Reason: no suitable image found.  Did find:
> 
> /Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
> cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
> because Objective-C garbage collection is not supported
> 
> xcrun: error: unable to locate xcodebuild, please make sure the path
> to the Xcode folder is set correctly!
> 
> xcrun: error: You can set the path to the Xcode folder using
> /usr/bin/xcode-select -switch
> 
> Unable to compile a JNI program
> 
> 
> 
> JAVA_HOME        :
> /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre
> 
> Java library path:
> 
> JNI cpp flags    :
> 
> JNI linker flags :
> 
> Updating Java configuration in /Library/Frameworks/R.framework/Resources
> 
> Done.
> 
> On Wed, May 24, 2017 at 10:28 AM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> Christofer,
>> 
>>> On May 23, 2017, at 7:44 PM, Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
>>> 
>>> Hi David,
>>> 
>>> The file 'rJava.so' exists in my machine :
>>> 
>>>> file.exists('/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so')
>>> 
>>> [1] TRUE
>>> 
>>> Also the Javac version that I have :
>>> 
>>>> system('javac -version')
>>> 
>>> javac 1.6.0_65
>>> 
>>> Looks like mine is older than you. Do I need to download the latest?
>>> In that case, do you suggest any link? As far as I know, javac comes
>>> with Mac installed.
>>> 
>> 
>> Apple has dropped Java support many years ago - what you have a is a left-over from a very old OS X version as you likely upgraded your OS X over the years without re-installing.
>> Since R 3.4.0 the CRAN binary uses Java 1.8, because too many users have complained about incompatibilities with old Java version, so you have two options
>> 1) recompile rJava from sources against your ancient Java
>> 2) install Java 1.8 from Oracle[1], then run R CMD javareconf
>> 
>> [1] http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>> On Peter's suggestion I also did sudo R CMD javareconf. However still
>>> rJava couldnt be loaded.
>>> 
>>> Any other idea? Thanks,
>>> 
>>> On Wed, May 24, 2017 at 4:28 AM, peter dalgaard <pdalgd at gmail.com> wrote:
>>>> [Christofer seemed to have fallen off the cc: list, now included]
>>>> 
>>>>> On 24 May 2017, at 00:18 , David Winsemius <dwinsemius at comcast.net> wrote:
>>>>> 
>>>>> What version of the Java Runtime Environment is available? What do you get for:
>>>>> 
>>>>> system('javac -version')
>>>>> #I get:
>>>>> #javac 1.8.0_65
>>>>> 
>>>>> I think that version was working with rJava, but I followed the "critical" advice on the Java SDK webpage ...
>>>>> 
>>>>> ... and after updating I now  get
>>>>> #javac 1.8.0_131
>>>>> 
>>>>> And rJava still loads without error. I'm not on Sierra, however.
>>>>> 
>>>> 
>>>> I am, and rJava doesn't load here either. However after
>>>> 
>>>> sudo R CMD javareconf
>>>> 
>>>> it seems happy as a clam.
>>>> 
>>>> 
>>>>> Good luck;
>>>>> David,
>>>> 
>>>> --
>>>> Peter Dalgaard, Professor,
>>>> Center for Statistics, Copenhagen Business School
>>>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>>>> Phone: (+45)38153501
>>>> Office: A 4.23
>>>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From brandon.hurr at gmail.com  Wed May 24 17:21:48 2017
From: brandon.hurr at gmail.com (Brandon Hurr)
Date: Wed, 24 May 2017 08:21:48 -0700
Subject: [R-SIG-Mac] rJava stops loading since I upgraded R to 3.4.0
In-Reply-To: <36A6F78C-E32F-4DA6-AE6D-4BB279646500@comcast.net>
References: <CA+dpOJmcpUPya2d36vMLsnPPu3KTisv0KFSDa-i0Lc_BBLKnmQ@mail.gmail.com>
 <3688ec99-76b0-ca0e-b57c-967a0a798e85@gmail.com>
 <35A44D4E-134B-441A-BE5D-1E0A997C5447@comcast.net>
 <EF86D23F-6C6D-4E48-99FF-5BAF3FA65F35@gmail.com>
 <CA+dpOJ=DWABkGUHfZQsNrrNz6a0kCkcCdYe0k--kSmDFMJY6dA@mail.gmail.com>
 <47E74B8B-0677-47D3-8374-4508F8DABA7A@r-project.org>
 <CA+dpOJmKHq683Bi2wj7yaMq2k_6CHGr1sv05TW7kFH8oHycO4w@mail.gmail.com>
 <36A6F78C-E32F-4DA6-AE6D-4BB279646500@comcast.net>
Message-ID: <CAG2OMvt9UsJshku2m2rBpVUW7RigcCj9zBzVkiQ1Nh0kFcE1cg@mail.gmail.com>

xcode-select --install

And see if you have the command line tools installed.

Brandon

On Wed, May 24, 2017 at 8:19 AM, David Winsemius <dwinsemius at comcast.net>
wrote:

>
> > On May 24, 2017, at 7:40 AM, Christofer Bogaso <
> bogaso.christofer at gmail.com> wrote:
> >
> > Hi,
> >
> > I have installed javac to it's latest version, still the problem
> > persists. Below is the latest result
> >
> >> library(rJava)
> >
> > Error: package or namespace load failed for ?rJava?:
> >
> > .onLoad failed in loadNamespace() for 'rJava', details:
> >
> >  call: dyn.load(file, DLLpath = DLLpath, ...)
> >
> >  error: unable to load shared object
> > '/Library/Frameworks/R.framework/Versions/3.4/
> Resources/library/rJava/libs/rJava.so':
> >
> >  dlopen(/Library/Frameworks/R.framework/Versions/3.4/
> Resources/library/rJava/libs/rJava.so,
> > 6): Library not loaded: @rpath/libjvm.dylib
> >
> >  Referenced from:
> > /Library/Frameworks/R.framework/Versions/3.4/
> Resources/library/rJava/libs/rJava.so
> >
> >  Reason: image not found
> >
> >> file.exists('/Library/Frameworks/R.framework/Versions/3.4/Resources/
> library/rJava/libs/rJava.so')
> >
> > [1] TRUE
> >
> >> system('javac -version')
> >
> > javac 1.8.0_131
> >
> >
> > Also, when I ran 'sudo R CMD javareconf' in my Terminal, I got below
> result :
> >
> > dyld: Library not loaded:
> > @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
> >
> >  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/
> xcodebuild
> >
> >  Reason: no suitable image found.  Did find:
> >
> > /Applications/Xcode.app/Contents/Developer/usr/bin/../
> ../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
> > cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../
> ../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
> > because Objective-C garbage collection is not supported
> >
> > xcrun: error: unable to locate xcodebuild, please make sure the path
> > to the Xcode folder is set correctly!
> >
> > xcrun: error: You can set the path to the Xcode folder using
> > /usr/bin/xcode-select -switch
>
> So did you follow the advice in the error messages? I interpret this to
> suggest you didn't update Xcode when you updated to Sierra.
>
> --
> David.
>
>
> >
> > dyld: Library not loaded:
> > @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
> >
> >  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/
> xcodebuild
> >
> >  Reason: no suitable image found.  Did find:
> >
> > /Applications/Xcode.app/Contents/Developer/usr/bin/../
> ../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
> > cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../
> ../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
> > because Objective-C garbage collection is not supported
> >
> > xcrun: error: unable to locate xcodebuild, please make sure the path
> > to the Xcode folder is set correctly!
> >
> > xcrun: error: You can set the path to the Xcode folder using
> > /usr/bin/xcode-select -switch
> >
> > dyld: Library not loaded:
> > @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
> >
> >  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/
> xcodebuild
> >
> >  Reason: no suitable image found.  Did find:
> >
> > /Applications/Xcode.app/Contents/Developer/usr/bin/../
> ../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
> > cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../
> ../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
> > because Objective-C garbage collection is not supported
> >
> > xcrun: error: unable to locate xcodebuild, please make sure the path
> > to the Xcode folder is set correctly!
> >
> > xcrun: error: You can set the path to the Xcode folder using
> > /usr/bin/xcode-select -switch
> >
> > dyld: Library not loaded:
> > @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
> >
> >  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/
> xcodebuild
> >
> >  Reason: no suitable image found.  Did find:
> >
> > /Applications/Xcode.app/Contents/Developer/usr/bin/../
> ../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
> > cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../
> ../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
> > because Objective-C garbage collection is not supported
> >
> > xcrun: error: unable to locate xcodebuild, please make sure the path
> > to the Xcode folder is set correctly!
> >
> > xcrun: error: You can set the path to the Xcode folder using
> > /usr/bin/xcode-select -switch
> >
> > dyld: Library not loaded:
> > @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
> >
> >  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/
> xcodebuild
> >
> >  Reason: no suitable image found.  Did find:
> >
> > /Applications/Xcode.app/Contents/Developer/usr/bin/../
> ../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
> > cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../
> ../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
> > because Objective-C garbage collection is not supported
> >
> > xcrun: error: unable to locate xcodebuild, please make sure the path
> > to the Xcode folder is set correctly!
> >
> > xcrun: error: You can set the path to the Xcode folder using
> > /usr/bin/xcode-select -switch
> >
> > dyld: Library not loaded:
> > @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
> >
> >  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/
> xcodebuild
> >
> >  Reason: no suitable image found.  Did find:
> >
> > /Applications/Xcode.app/Contents/Developer/usr/bin/../
> ../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
> > cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../
> ../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
> > because Objective-C garbage collection is not supported
> >
> > xcrun: error: unable to locate xcodebuild, please make sure the path
> > to the Xcode folder is set correctly!
> >
> > xcrun: error: You can set the path to the Xcode folder using
> > /usr/bin/xcode-select -switch
> >
> > Java interpreter : /usr/bin/java
> >
> > Java version     : 1.8.0_131
> >
> > Java home path   :
> > /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre
> >
> > Java compiler    : /usr/bin/javac
> >
> > Java headers gen.: /usr/bin/javah
> >
> > Java archive tool: /usr/bin/jar
> >
> > Non-system Java on macOS
> >
> >
> > trying to compile and link a JNI program
> >
> > detected JNI cpp flags    : -I$(JAVA_HOME)/../include
> > -I$(JAVA_HOME)/../include/darwin
> >
> > detected JNI linker flags : -L/Users/ARRUN/Library/Java/Extensions
> > -L/Library/Java/Extensions -L/Network/Library/Java/Extensions
> > -L/System/Library/Java/Extensions -L/usr/lib/java -L. -ljvm
> >
> > dyld: Library not loaded:
> > @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
> >
> >  Referenced from: /Applications/Xcode.app/Contents/Developer/usr/bin/
> xcodebuild
> >
> >  Reason: no suitable image found.  Did find:
> >
> > /Applications/Xcode.app/Contents/Developer/usr/bin/../
> ../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
> > cannot load '/Applications/Xcode.app/Contents/Developer/usr/bin/../
> ../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
> > because Objective-C garbage collection is not supported
> >
> > xcrun: error: unable to locate xcodebuild, please make sure the path
> > to the Xcode folder is set correctly!
> >
> > xcrun: error: You can set the path to the Xcode folder using
> > /usr/bin/xcode-select -switch
> >
> > Unable to compile a JNI program
> >
> >
> >
> > JAVA_HOME        :
> > /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre
> >
> > Java library path:
> >
> > JNI cpp flags    :
> >
> > JNI linker flags :
> >
> > Updating Java configuration in /Library/Frameworks/R.framework/Resources
> >
> > Done.
> >
> > On Wed, May 24, 2017 at 10:28 AM, Simon Urbanek
> > <simon.urbanek at r-project.org> wrote:
> >> Christofer,
> >>
> >>> On May 23, 2017, at 7:44 PM, Christofer Bogaso <
> bogaso.christofer at gmail.com> wrote:
> >>>
> >>> Hi David,
> >>>
> >>> The file 'rJava.so' exists in my machine :
> >>>
> >>>> file.exists('/Library/Frameworks/R.framework/Versions/3.4/Resources/
> library/rJava/libs/rJava.so')
> >>>
> >>> [1] TRUE
> >>>
> >>> Also the Javac version that I have :
> >>>
> >>>> system('javac -version')
> >>>
> >>> javac 1.6.0_65
> >>>
> >>> Looks like mine is older than you. Do I need to download the latest?
> >>> In that case, do you suggest any link? As far as I know, javac comes
> >>> with Mac installed.
> >>>
> >>
> >> Apple has dropped Java support many years ago - what you have a is a
> left-over from a very old OS X version as you likely upgraded your OS X
> over the years without re-installing.
> >> Since R 3.4.0 the CRAN binary uses Java 1.8, because too many users
> have complained about incompatibilities with old Java version, so you have
> two options
> >> 1) recompile rJava from sources against your ancient Java
> >> 2) install Java 1.8 from Oracle[1], then run R CMD javareconf
> >>
> >> [1] http://www.oracle.com/technetwork/java/javase/
> downloads/jdk8-downloads-2133151.html
> >>
> >> Cheers,
> >> Simon
> >>
> >>
> >>
> >>> On Peter's suggestion I also did sudo R CMD javareconf. However still
> >>> rJava couldnt be loaded.
> >>>
> >>> Any other idea? Thanks,
> >>>
> >>> On Wed, May 24, 2017 at 4:28 AM, peter dalgaard <pdalgd at gmail.com>
> wrote:
> >>>> [Christofer seemed to have fallen off the cc: list, now included]
> >>>>
> >>>>> On 24 May 2017, at 00:18 , David Winsemius <dwinsemius at comcast.net>
> wrote:
> >>>>>
> >>>>> What version of the Java Runtime Environment is available? What do
> you get for:
> >>>>>
> >>>>> system('javac -version')
> >>>>> #I get:
> >>>>> #javac 1.8.0_65
> >>>>>
> >>>>> I think that version was working with rJava, but I followed the
> "critical" advice on the Java SDK webpage ...
> >>>>>
> >>>>> ... and after updating I now  get
> >>>>> #javac 1.8.0_131
> >>>>>
> >>>>> And rJava still loads without error. I'm not on Sierra, however.
> >>>>>
> >>>>
> >>>> I am, and rJava doesn't load here either. However after
> >>>>
> >>>> sudo R CMD javareconf
> >>>>
> >>>> it seems happy as a clam.
> >>>>
> >>>>
> >>>>> Good luck;
> >>>>> David,
> >>>>
> >>>> --
> >>>> Peter Dalgaard, Professor,
> >>>> Center for Statistics, Copenhagen Business School
> >>>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> >>>> Phone: (+45)38153501
> >>>> Office: A 4.23
> >>>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>
> >>> _______________________________________________
> >>> R-SIG-Mac mailing list
> >>> R-SIG-Mac at r-project.org
> >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>>
> >>
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> David Winsemius
> Alameda, CA, USA
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From bogaso.christofer at gmail.com  Wed May 24 23:42:24 2017
From: bogaso.christofer at gmail.com (Christofer Bogaso)
Date: Thu, 25 May 2017 03:12:24 +0530
Subject: [R-SIG-Mac] rJava stops loading since I upgraded R to 3.4.0
In-Reply-To: <CAG2OMvt9UsJshku2m2rBpVUW7RigcCj9zBzVkiQ1Nh0kFcE1cg@mail.gmail.com>
References: <CA+dpOJmcpUPya2d36vMLsnPPu3KTisv0KFSDa-i0Lc_BBLKnmQ@mail.gmail.com>
 <3688ec99-76b0-ca0e-b57c-967a0a798e85@gmail.com>
 <35A44D4E-134B-441A-BE5D-1E0A997C5447@comcast.net>
 <EF86D23F-6C6D-4E48-99FF-5BAF3FA65F35@gmail.com>
 <CA+dpOJ=DWABkGUHfZQsNrrNz6a0kCkcCdYe0k--kSmDFMJY6dA@mail.gmail.com>
 <47E74B8B-0677-47D3-8374-4508F8DABA7A@r-project.org>
 <CA+dpOJmKHq683Bi2wj7yaMq2k_6CHGr1sv05TW7kFH8oHycO4w@mail.gmail.com>
 <36A6F78C-E32F-4DA6-AE6D-4BB279646500@comcast.net>
 <CAG2OMvt9UsJshku2m2rBpVUW7RigcCj9zBzVkiQ1Nh0kFcE1cg@mail.gmail.com>
Message-ID: <CA+dpOJmfD1NrE1tDDRwQsG_imhE5Qh7Di_=gcYqYE_shBbQq+g@mail.gmail.com>

After performing all your instructions, I am now be able to load
rJava. Thanks all for your support. Regards,

On Wed, May 24, 2017 at 8:51 PM, Brandon Hurr <brandon.hurr at gmail.com> wrote:
> xcode-select --install
>
> And see if you have the command line tools installed.
>
> Brandon
>
> On Wed, May 24, 2017 at 8:19 AM, David Winsemius <dwinsemius at comcast.net>
> wrote:
>>
>>
>> > On May 24, 2017, at 7:40 AM, Christofer Bogaso
>> > <bogaso.christofer at gmail.com> wrote:
>> >
>> > Hi,
>> >
>> > I have installed javac to it's latest version, still the problem
>> > persists. Below is the latest result
>> >
>> >> library(rJava)
>> >
>> > Error: package or namespace load failed for ?rJava?:
>> >
>> > .onLoad failed in loadNamespace() for 'rJava', details:
>> >
>> >  call: dyn.load(file, DLLpath = DLLpath, ...)
>> >
>> >  error: unable to load shared object
>> >
>> > '/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so':
>> >
>> >
>> > dlopen(/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so,
>> > 6): Library not loaded: @rpath/libjvm.dylib
>> >
>> >  Referenced from:
>> >
>> > /Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so
>> >
>> >  Reason: image not found
>> >
>> >>
>> >> file.exists('/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so')
>> >
>> > [1] TRUE
>> >
>> >> system('javac -version')
>> >
>> > javac 1.8.0_131
>> >
>> >
>> > Also, when I ran 'sudo R CMD javareconf' in my Terminal, I got below
>> > result :
>> >
>> > dyld: Library not loaded:
>> > @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
>> >
>> >  Referenced from:
>> > /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild
>> >
>> >  Reason: no suitable image found.  Did find:
>> >
>> >
>> > /Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
>> > cannot load
>> > '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
>> > because Objective-C garbage collection is not supported
>> >
>> > xcrun: error: unable to locate xcodebuild, please make sure the path
>> > to the Xcode folder is set correctly!
>> >
>> > xcrun: error: You can set the path to the Xcode folder using
>> > /usr/bin/xcode-select -switch
>>
>> So did you follow the advice in the error messages? I interpret this to
>> suggest you didn't update Xcode when you updated to Sierra.
>>
>> --
>> David.
>>
>>
>> >
>> > dyld: Library not loaded:
>> > @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
>> >
>> >  Referenced from:
>> > /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild
>> >
>> >  Reason: no suitable image found.  Did find:
>> >
>> >
>> > /Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
>> > cannot load
>> > '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
>> > because Objective-C garbage collection is not supported
>> >
>> > xcrun: error: unable to locate xcodebuild, please make sure the path
>> > to the Xcode folder is set correctly!
>> >
>> > xcrun: error: You can set the path to the Xcode folder using
>> > /usr/bin/xcode-select -switch
>> >
>> > dyld: Library not loaded:
>> > @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
>> >
>> >  Referenced from:
>> > /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild
>> >
>> >  Reason: no suitable image found.  Did find:
>> >
>> >
>> > /Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
>> > cannot load
>> > '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
>> > because Objective-C garbage collection is not supported
>> >
>> > xcrun: error: unable to locate xcodebuild, please make sure the path
>> > to the Xcode folder is set correctly!
>> >
>> > xcrun: error: You can set the path to the Xcode folder using
>> > /usr/bin/xcode-select -switch
>> >
>> > dyld: Library not loaded:
>> > @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
>> >
>> >  Referenced from:
>> > /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild
>> >
>> >  Reason: no suitable image found.  Did find:
>> >
>> >
>> > /Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
>> > cannot load
>> > '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
>> > because Objective-C garbage collection is not supported
>> >
>> > xcrun: error: unable to locate xcodebuild, please make sure the path
>> > to the Xcode folder is set correctly!
>> >
>> > xcrun: error: You can set the path to the Xcode folder using
>> > /usr/bin/xcode-select -switch
>> >
>> > dyld: Library not loaded:
>> > @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
>> >
>> >  Referenced from:
>> > /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild
>> >
>> >  Reason: no suitable image found.  Did find:
>> >
>> >
>> > /Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
>> > cannot load
>> > '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
>> > because Objective-C garbage collection is not supported
>> >
>> > xcrun: error: unable to locate xcodebuild, please make sure the path
>> > to the Xcode folder is set correctly!
>> >
>> > xcrun: error: You can set the path to the Xcode folder using
>> > /usr/bin/xcode-select -switch
>> >
>> > dyld: Library not loaded:
>> > @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
>> >
>> >  Referenced from:
>> > /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild
>> >
>> >  Reason: no suitable image found.  Did find:
>> >
>> >
>> > /Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
>> > cannot load
>> > '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
>> > because Objective-C garbage collection is not supported
>> >
>> > xcrun: error: unable to locate xcodebuild, please make sure the path
>> > to the Xcode folder is set correctly!
>> >
>> > xcrun: error: You can set the path to the Xcode folder using
>> > /usr/bin/xcode-select -switch
>> >
>> > Java interpreter : /usr/bin/java
>> >
>> > Java version     : 1.8.0_131
>> >
>> > Java home path   :
>> > /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre
>> >
>> > Java compiler    : /usr/bin/javac
>> >
>> > Java headers gen.: /usr/bin/javah
>> >
>> > Java archive tool: /usr/bin/jar
>> >
>> > Non-system Java on macOS
>> >
>> >
>> > trying to compile and link a JNI program
>> >
>> > detected JNI cpp flags    : -I$(JAVA_HOME)/../include
>> > -I$(JAVA_HOME)/../include/darwin
>> >
>> > detected JNI linker flags : -L/Users/ARRUN/Library/Java/Extensions
>> > -L/Library/Java/Extensions -L/Network/Library/Java/Extensions
>> > -L/System/Library/Java/Extensions -L/usr/lib/java -L. -ljvm
>> >
>> > dyld: Library not loaded:
>> > @rpath/DVTFoundation.framework/Versions/A/DVTFoundation
>> >
>> >  Referenced from:
>> > /Applications/Xcode.app/Contents/Developer/usr/bin/xcodebuild
>> >
>> >  Reason: no suitable image found.  Did find:
>> >
>> >
>> > /Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation:
>> > cannot load
>> > '/Applications/Xcode.app/Contents/Developer/usr/bin/../../../SharedFrameworks/DVTFoundation.framework/Versions/A/DVTFoundation'
>> > because Objective-C garbage collection is not supported
>> >
>> > xcrun: error: unable to locate xcodebuild, please make sure the path
>> > to the Xcode folder is set correctly!
>> >
>> > xcrun: error: You can set the path to the Xcode folder using
>> > /usr/bin/xcode-select -switch
>> >
>> > Unable to compile a JNI program
>> >
>> >
>> >
>> > JAVA_HOME        :
>> > /Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre
>> >
>> > Java library path:
>> >
>> > JNI cpp flags    :
>> >
>> > JNI linker flags :
>> >
>> > Updating Java configuration in /Library/Frameworks/R.framework/Resources
>> >
>> > Done.
>> >
>> > On Wed, May 24, 2017 at 10:28 AM, Simon Urbanek
>> > <simon.urbanek at r-project.org> wrote:
>> >> Christofer,
>> >>
>> >>> On May 23, 2017, at 7:44 PM, Christofer Bogaso
>> >>> <bogaso.christofer at gmail.com> wrote:
>> >>>
>> >>> Hi David,
>> >>>
>> >>> The file 'rJava.so' exists in my machine :
>> >>>
>> >>>>
>> >>>> file.exists('/Library/Frameworks/R.framework/Versions/3.4/Resources/library/rJava/libs/rJava.so')
>> >>>
>> >>> [1] TRUE
>> >>>
>> >>> Also the Javac version that I have :
>> >>>
>> >>>> system('javac -version')
>> >>>
>> >>> javac 1.6.0_65
>> >>>
>> >>> Looks like mine is older than you. Do I need to download the latest?
>> >>> In that case, do you suggest any link? As far as I know, javac comes
>> >>> with Mac installed.
>> >>>
>> >>
>> >> Apple has dropped Java support many years ago - what you have a is a
>> >> left-over from a very old OS X version as you likely upgraded your OS X over
>> >> the years without re-installing.
>> >> Since R 3.4.0 the CRAN binary uses Java 1.8, because too many users
>> >> have complained about incompatibilities with old Java version, so you have
>> >> two options
>> >> 1) recompile rJava from sources against your ancient Java
>> >> 2) install Java 1.8 from Oracle[1], then run R CMD javareconf
>> >>
>> >> [1]
>> >> http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html
>> >>
>> >> Cheers,
>> >> Simon
>> >>
>> >>
>> >>
>> >>> On Peter's suggestion I also did sudo R CMD javareconf. However still
>> >>> rJava couldnt be loaded.
>> >>>
>> >>> Any other idea? Thanks,
>> >>>
>> >>> On Wed, May 24, 2017 at 4:28 AM, peter dalgaard <pdalgd at gmail.com>
>> >>> wrote:
>> >>>> [Christofer seemed to have fallen off the cc: list, now included]
>> >>>>
>> >>>>> On 24 May 2017, at 00:18 , David Winsemius <dwinsemius at comcast.net>
>> >>>>> wrote:
>> >>>>>
>> >>>>> What version of the Java Runtime Environment is available? What do
>> >>>>> you get for:
>> >>>>>
>> >>>>> system('javac -version')
>> >>>>> #I get:
>> >>>>> #javac 1.8.0_65
>> >>>>>
>> >>>>> I think that version was working with rJava, but I followed the
>> >>>>> "critical" advice on the Java SDK webpage ...
>> >>>>>
>> >>>>> ... and after updating I now  get
>> >>>>> #javac 1.8.0_131
>> >>>>>
>> >>>>> And rJava still loads without error. I'm not on Sierra, however.
>> >>>>>
>> >>>>
>> >>>> I am, and rJava doesn't load here either. However after
>> >>>>
>> >>>> sudo R CMD javareconf
>> >>>>
>> >>>> it seems happy as a clam.
>> >>>>
>> >>>>
>> >>>>> Good luck;
>> >>>>> David,
>> >>>>
>> >>>> --
>> >>>> Peter Dalgaard, Professor,
>> >>>> Center for Statistics, Copenhagen Business School
>> >>>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>> >>>> Phone: (+45)38153501
>> >>>> Office: A 4.23
>> >>>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>> >>>>
>> >>>>
>> >>>>
>> >>>>
>> >>>>
>> >>>>
>> >>>>
>> >>>>
>> >>>>
>> >>>
>> >>> _______________________________________________
>> >>> R-SIG-Mac mailing list
>> >>> R-SIG-Mac at r-project.org
>> >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> >>>
>> >>
>> >
>> > _______________________________________________
>> > R-SIG-Mac mailing list
>> > R-SIG-Mac at r-project.org
>> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> David Winsemius
>> Alameda, CA, USA
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Sat May 27 04:13:55 2017
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 26 May 2017 22:13:55 -0400
Subject: [R-SIG-Mac] R 3.4.0 problem
In-Reply-To: <5F05300E-8F34-492A-AB18-544EDCE113D9@comcast.net>
References: <CAEW+BD+YYibt97NEv79yFB3zhg4gzxeHn5LNnPNYoKvBB00cuw@mail.gmail.com>
 <5F05300E-8F34-492A-AB18-544EDCE113D9@comcast.net>
Message-ID: <3068E63F-183F-46C5-8636-66160E03FDE5@r-project.org>


> On May 16, 2017, at 4:01 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> 
>> On Apr 24, 2017, at 11:49 PM, catalin roibu <catalinroibu at gmail.com> wrote:
>> 
>> Dear all,
>> 
>> I have a problem with the newest R version. I'm trying to install a
>> specific package dplR who need the gpm package and I have this error on my
>> macbook (OS Sierra):
> 
> Generally one reads the error messages. Often, and this is one of those cases, the first error message tells what the problem might be. You either do not have the system package GMP or it is installed in a location where the R package 'gmp' cannot find it.
> 
> I had difficulties attempting to test the advice I found by (re-)installing the GNU GMP package from CRAN/r.research.att.com:
> 
> http://r.research.att.com/libs/gmp-6.0.0-darwin.13-x86_64.tar.gz
> 
> I got:
> ~ davidwinsemius$ sudo tar fvxz ~/gmp-6.0.0-darwin.13-x86_64.tar.gz -C /
> x usr/: Can't set user=0/group=0 for usrCan't update time for usr
> x usr/local/
> x usr/local/include/
> x usr/local/lib/
> x usr/local/share/
> x usr/local/share/info/
> x usr/local/share/info/dir
> x usr/local/share/info/gmp.info
> x usr/local/share/info/gmp.info-1
> x usr/local/share/info/gmp.info-2
> x usr/local/lib/libgmp.a
> x usr/local/lib/libgmp.la
> x usr/local/include/gmp.h
> tar: Error exit delayed from previous errors.
> 
> Search on the "Can't update time for usr"-error brought up a bunch of stuff about 'XSAN' that I didn't really understand fully but did not seem terribly relevant ...
> 

FWIW that simply tells you that macOS is refusing even root to modify permissions and time for /usr which is deliberate by Apple for security reasons. Since El Capitan even root doesn't have privileges to modify /usr and its subdirectories other than /usr/local. So, yes, that error is beign.

Cheers,
Simon


> .... but the package 'gmp-6.1.2.tar.bz2' at gmplib.org expanded and compiled without difficulty usign the switches recommended at the bottom of:
> 
> http://r.research.att.com/libs/
> 
> davidwinsemius$ sudo tar fvxz /Users/davidwinsemius/Downloads/gmp-6.1.2.tar.bz2 -C /
> 
> (I'm not on Sierra, since Apple has classified my MacPro as "obsolete".)
> 
> -- 
> 
> David
> [R.app GUI 1.70 (7338) x86_64-apple-darwin15.6.0]
> 
>> 
> 
> 
>>> install.packages("dplR")
>> also installing the dependency ?gmp?
>> 
>> Packages which are only available in source form, and may
>> need compilation of C/C++/Fortran: ?gmp? ?dplR?
>> Do you want to attempt to install these from sources?
>> y/n: y
>> installing the source packages ?gmp?, ?dplR?
>> 
>> trying URL 'https://cran.rstudio.com/src/contrib/gmp_0.5-13.1.tar.gz'
>> Content type 'application/x-gzip' length 131321 bytes (128 KB)
>> ==================================================
>> downloaded 128 KB
>> 
>> trying URL 'https://cran.rstudio.com/src/contrib/dplR_1.6.5.tar.gz'
>> Content type 'application/x-gzip' length 1672999 bytes (1.6 MB)
>> ==================================================
>> downloaded 1.6 MB
>> 
>> * installing *source* package ?gmp? ...
>> ** package ?gmp? successfully unpacked and MD5 sums checked
>> creating cache ./config.cache
>> checking for __gmpz_ui_sub in -lgmp... no
>> configure: error: GNU MP not found, or not 4.1.4 or up, see
>> http://gmplib.org
>> ERROR: configuration failed for package ?gmp?
>> * removing ?/Library/Frameworks/R.framework/Versions/3.4/
>> Resources/library/gmp?
>> Warning in install.packages :
>> installation of package ?gmp? had non-zero exit status
>> ERROR: dependency ?gmp? is not available for package ?dplR?
>> * removing ?/Library/Frameworks/R.framework/Versions/3.4/
>> Resources/library/dplR?
>> Warning in install.packages :
>> installation of package ?dplR? had non-zero exit status
>> 
>> The downloaded source packages are in
>> ?/private/var/folders/c5/6g4vbk5x55586m8ky2v_6pbc0000gn/T/RtmprYzSE8/
>> downloaded_packages?
>> 
>> 
>> All the other packages work in good conditions.
>> Please help me to solve this annoying situation.
>> 
>> Best regards!
>> 
>> CR
>> 
>> 
>> -- 
>> 
>> -
>> -
>> Catalin-Constantin ROIBU
>> ?
>> Lecturer PhD, Forestry engineer
>> Forestry Faculty of Suceava
>> Str. Universitatii no. 13, Suceava, 720229, Romania
>> office phone      +4 0230 52 29 78, ext. 531
>> mobile phone    +4 0745 53 18 01
>> FAX:                +4 0230 52 16 64
>> silvic.usv.ro <http://www.usv.ro/>
>> 
>> 
>> 
>> <https://mailtrack.io/> Sent with Mailtrack
>> <https://mailtrack.io/install?source=signature&lang=en&referral=catalinroibu at gmail.com&idSignature=22>
>> <#>
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> David Winsemius
> Alameda, CA, USA
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dwinsemius at comcast.net  Sat May 27 05:57:36 2017
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 26 May 2017 20:57:36 -0700
Subject: [R-SIG-Mac] R 3.4.0 problem
In-Reply-To: <3068E63F-183F-46C5-8636-66160E03FDE5@r-project.org>
References: <CAEW+BD+YYibt97NEv79yFB3zhg4gzxeHn5LNnPNYoKvBB00cuw@mail.gmail.com>
 <5F05300E-8F34-492A-AB18-544EDCE113D9@comcast.net>
 <3068E63F-183F-46C5-8636-66160E03FDE5@r-project.org>
Message-ID: <8E95214D-FE31-4A21-9E49-E6B856AD5634@comcast.net>


> On May 26, 2017, at 7:13 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> 
>> On May 16, 2017, at 4:01 PM, David Winsemius <dwinsemius at comcast.net> wrote:
>> 
>> 
>>> On Apr 24, 2017, at 11:49 PM, catalin roibu <catalinroibu at gmail.com> wrote:
>>> 
>>> Dear all,
>>> 
>>> I have a problem with the newest R version. I'm trying to install a
>>> specific package dplR who need the gpm package and I have this error on my
>>> macbook (OS Sierra):
>> 
>> Generally one reads the error messages. Often, and this is one of those cases, the first error message tells what the problem might be. You either do not have the system package GMP or it is installed in a location where the R package 'gmp' cannot find it.
>> 
>> I had difficulties attempting to test the advice I found by (re-)installing the GNU GMP package from CRAN/r.research.att.com:
>> 
>> http://r.research.att.com/libs/gmp-6.0.0-darwin.13-x86_64.tar.gz
>> 
>> I got:
>> ~ davidwinsemius$ sudo tar fvxz ~/gmp-6.0.0-darwin.13-x86_64.tar.gz -C /
>> x usr/: Can't set user=0/group=0 for usrCan't update time for usr
>> x usr/local/
>> x usr/local/include/
>> x usr/local/lib/
>> x usr/local/share/
>> x usr/local/share/info/
>> x usr/local/share/info/dir
>> x usr/local/share/info/gmp.info
>> x usr/local/share/info/gmp.info-1
>> x usr/local/share/info/gmp.info-2
>> x usr/local/lib/libgmp.a
>> x usr/local/lib/libgmp.la
>> x usr/local/include/gmp.h
>> tar: Error exit delayed from previous errors.
>> 
>> Search on the "Can't update time for usr"-error brought up a bunch of stuff about 'XSAN' that I didn't really understand fully but did not seem terribly relevant ...
>> 
> 
> FWIW that simply tells you that macOS is refusing even root to modify permissions and time for /usr which is deliberate by Apple for security reasons. Since El Capitan even root doesn't have privileges to modify /usr and its subdirectories other than /usr/local. So, yes, that error is beign.

I did know that Apple had locked down /usr/ subdirectories. I'm not sure what your conclusion implies, however. I generally assume that an error message implies lack of success.  Was the effort at installation of gmp from gmp-6.0.0-darwin.13-x86_64.tar.gz actually completed? (Which means my subsequent installation using gmp-6.1.2.tar.bz2 was not necessary, but I guessing also not harmful?

Best;
David.

> 
> Cheers,
> Simon
> 
> 
>> .... but the package 'gmp-6.1.2.tar.bz2' at gmplib.org expanded and compiled without difficulty usign the switches recommended at the bottom of:
>> 
>> http://r.research.att.com/libs/
>> 
>> davidwinsemius$ sudo tar fvxz /Users/davidwinsemius/Downloads/gmp-6.1.2.tar.bz2 -C /
>> 
>> (I'm not on Sierra, since Apple has classified my MacPro as "obsolete".)
>> 
>> -- 
>> 
>> David
>> [R.app GUI 1.70 (7338) x86_64-apple-darwin15.6.0]
>> 
>>> 
>> 
>> 
>>>> install.packages("dplR")
>>> also installing the dependency ?gmp?
>>> 
>>> Packages which are only available in source form, and may
>>> need compilation of C/C++/Fortran: ?gmp? ?dplR?
>>> Do you want to attempt to install these from sources?
>>> y/n: y
>>> installing the source packages ?gmp?, ?dplR?
>>> 
>>> trying URL 'https://cran.rstudio.com/src/contrib/gmp_0.5-13.1.tar.gz'
>>> Content type 'application/x-gzip' length 131321 bytes (128 KB)
>>> ==================================================
>>> downloaded 128 KB
>>> 
>>> trying URL 'https://cran.rstudio.com/src/contrib/dplR_1.6.5.tar.gz'
>>> Content type 'application/x-gzip' length 1672999 bytes (1.6 MB)
>>> ==================================================
>>> downloaded 1.6 MB
>>> 
>>> * installing *source* package ?gmp? ...
>>> ** package ?gmp? successfully unpacked and MD5 sums checked
>>> creating cache ./config.cache
>>> checking for __gmpz_ui_sub in -lgmp... no
>>> configure: error: GNU MP not found, or not 4.1.4 or up, see
>>> http://gmplib.org
>>> ERROR: configuration failed for package ?gmp?
>>> * removing ?/Library/Frameworks/R.framework/Versions/3.4/
>>> Resources/library/gmp?
>>> Warning in install.packages :
>>> installation of package ?gmp? had non-zero exit status
>>> ERROR: dependency ?gmp? is not available for package ?dplR?
>>> * removing ?/Library/Frameworks/R.framework/Versions/3.4/
>>> Resources/library/dplR?
>>> Warning in install.packages :
>>> installation of package ?dplR? had non-zero exit status
>>> 
>>> The downloaded source packages are in
>>> ?/private/var/folders/c5/6g4vbk5x55586m8ky2v_6pbc0000gn/T/RtmprYzSE8/
>>> downloaded_packages?
>>> 
>>> 
>>> All the other packages work in good conditions.
>>> Please help me to solve this annoying situation.
>>> 
>>> Best regards!
>>> 
>>> CR
>>> 
>>> 
>>> -- 
>>> 
>>> -
>>> -
>>> Catalin-Constantin ROIBU
>>> ?
>>> Lecturer PhD, Forestry engineer
>>> Forestry Faculty of Suceava
>>> Str. Universitatii no. 13, Suceava, 720229, Romania
>>> office phone      +4 0230 52 29 78, ext. 531
>>> mobile phone    +4 0745 53 18 01
>>> FAX:                +4 0230 52 16 64
>>> silvic.usv.ro <http://www.usv.ro/>
>>> 
>>> 
>>> 
>>> <https://mailtrack.io/> Sent with Mailtrack
>>> <https://mailtrack.io/install?source=signature&lang=en&referral=catalinroibu at gmail.com&idSignature=22>
>>> <#>
>>> 
>>> 	[[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> David Winsemius
>> Alameda, CA, USA
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 

David Winsemius
Alameda, CA, USA


From pdalgd at gmail.com  Sat May 27 12:33:37 2017
From: pdalgd at gmail.com (peter dalgaard)
Date: Sat, 27 May 2017 12:33:37 +0200
Subject: [R-SIG-Mac] R 3.4.0 problem
In-Reply-To: <8E95214D-FE31-4A21-9E49-E6B856AD5634@comcast.net>
References: <CAEW+BD+YYibt97NEv79yFB3zhg4gzxeHn5LNnPNYoKvBB00cuw@mail.gmail.com>
 <5F05300E-8F34-492A-AB18-544EDCE113D9@comcast.net>
 <3068E63F-183F-46C5-8636-66160E03FDE5@r-project.org>
 <8E95214D-FE31-4A21-9E49-E6B856AD5634@comcast.net>
Message-ID: <A2A4213F-25D5-404E-8328-0FB7E6CD84F7@gmail.com>


> On 27 May 2017, at 05:57 , David Winsemius <dwinsemius at comcast.net> wrote:
> 
>> 
>> On May 26, 2017, at 7:13 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> 
>> 
>>> On May 16, 2017, at 4:01 PM, David Winsemius <dwinsemius at comcast.net> wrote:
>>> 
>>> 
>>>> On Apr 24, 2017, at 11:49 PM, catalin roibu <catalinroibu at gmail.com> wrote:
>>>> 
>>>> Dear all,
>>>> 
>>>> I have a problem with the newest R version. I'm trying to install a
>>>> specific package dplR who need the gpm package and I have this error on my
>>>> macbook (OS Sierra):
>>> 
>>> Generally one reads the error messages. Often, and this is one of those cases, the first error message tells what the problem might be. You either do not have the system package GMP or it is installed in a location where the R package 'gmp' cannot find it.
>>> 
>>> I had difficulties attempting to test the advice I found by (re-)installing the GNU GMP package from CRAN/r.research.att.com:
>>> 
>>> http://r.research.att.com/libs/gmp-6.0.0-darwin.13-x86_64.tar.gz
>>> 
>>> I got:
>>> ~ davidwinsemius$ sudo tar fvxz ~/gmp-6.0.0-darwin.13-x86_64.tar.gz -C /
>>> x usr/: Can't set user=0/group=0 for usrCan't update time for usr
>>> x usr/local/
>>> x usr/local/include/
>>> x usr/local/lib/
>>> x usr/local/share/
>>> x usr/local/share/info/
>>> x usr/local/share/info/dir
>>> x usr/local/share/info/gmp.info
>>> x usr/local/share/info/gmp.info-1
>>> x usr/local/share/info/gmp.info-2
>>> x usr/local/lib/libgmp.a
>>> x usr/local/lib/libgmp.la
>>> x usr/local/include/gmp.h
>>> tar: Error exit delayed from previous errors.
>>> 
>>> Search on the "Can't update time for usr"-error brought up a bunch of stuff about 'XSAN' that I didn't really understand fully but did not seem terribly relevant ...
>>> 
>> 
>> FWIW that simply tells you that macOS is refusing even root to modify permissions and time for /usr which is deliberate by Apple for security reasons. Since El Capitan even root doesn't have privileges to modify /usr and its subdirectories other than /usr/local. So, yes, that error is beign.
> 
> I did know that Apple had locked down /usr/ subdirectories. I'm not sure what your conclusion implies, however. I generally assume that an error message implies lack of success.  Was the effort at installation of gmp from gmp-6.0.0-darwin.13-x86_64.tar.gz actually completed? (Which means my subsequent installation using gmp-6.1.2.tar.bz2 was not necessary, but I guessing also not harmful?

The pragmatic way to find out would be to compare "tar tvfz ..." with what actually ended up in /usr/local.  These are just straight unpacks, there is no postprocessing involved.

-pd


> 
> Best;
> David.
> 
>> 
>> Cheers,
>> Simon
>> 
>> 
>>> .... but the package 'gmp-6.1.2.tar.bz2' at gmplib.org expanded and compiled without difficulty usign the switches recommended at the bottom of:
>>> 
>>> http://r.research.att.com/libs/
>>> 
>>> davidwinsemius$ sudo tar fvxz /Users/davidwinsemius/Downloads/gmp-6.1.2.tar.bz2 -C /
>>> 
>>> (I'm not on Sierra, since Apple has classified my MacPro as "obsolete".)
>>> 
>>> -- 
>>> 
>>> David
>>> [R.app GUI 1.70 (7338) x86_64-apple-darwin15.6.0]
>>> 
>>>> 
>>> 
>>> 
>>>>> install.packages("dplR")
>>>> also installing the dependency ?gmp?
>>>> 
>>>> Packages which are only available in source form, and may
>>>> need compilation of C/C++/Fortran: ?gmp? ?dplR?
>>>> Do you want to attempt to install these from sources?
>>>> y/n: y
>>>> installing the source packages ?gmp?, ?dplR?
>>>> 
>>>> trying URL 'https://cran.rstudio.com/src/contrib/gmp_0.5-13.1.tar.gz'
>>>> Content type 'application/x-gzip' length 131321 bytes (128 KB)
>>>> ==================================================
>>>> downloaded 128 KB
>>>> 
>>>> trying URL 'https://cran.rstudio.com/src/contrib/dplR_1.6.5.tar.gz'
>>>> Content type 'application/x-gzip' length 1672999 bytes (1.6 MB)
>>>> ==================================================
>>>> downloaded 1.6 MB
>>>> 
>>>> * installing *source* package ?gmp? ...
>>>> ** package ?gmp? successfully unpacked and MD5 sums checked
>>>> creating cache ./config.cache
>>>> checking for __gmpz_ui_sub in -lgmp... no
>>>> configure: error: GNU MP not found, or not 4.1.4 or up, see
>>>> http://gmplib.org
>>>> ERROR: configuration failed for package ?gmp?
>>>> * removing ?/Library/Frameworks/R.framework/Versions/3.4/
>>>> Resources/library/gmp?
>>>> Warning in install.packages :
>>>> installation of package ?gmp? had non-zero exit status
>>>> ERROR: dependency ?gmp? is not available for package ?dplR?
>>>> * removing ?/Library/Frameworks/R.framework/Versions/3.4/
>>>> Resources/library/dplR?
>>>> Warning in install.packages :
>>>> installation of package ?dplR? had non-zero exit status
>>>> 
>>>> The downloaded source packages are in
>>>> ?/private/var/folders/c5/6g4vbk5x55586m8ky2v_6pbc0000gn/T/RtmprYzSE8/
>>>> downloaded_packages?
>>>> 
>>>> 
>>>> All the other packages work in good conditions.
>>>> Please help me to solve this annoying situation.
>>>> 
>>>> Best regards!
>>>> 
>>>> CR
>>>> 
>>>> 
>>>> -- 
>>>> 
>>>> -
>>>> -
>>>> Catalin-Constantin ROIBU
>>>> ?
>>>> Lecturer PhD, Forestry engineer
>>>> Forestry Faculty of Suceava
>>>> Str. Universitatii no. 13, Suceava, 720229, Romania
>>>> office phone      +4 0230 52 29 78, ext. 531
>>>> mobile phone    +4 0745 53 18 01
>>>> FAX:                +4 0230 52 16 64
>>>> silvic.usv.ro <http://www.usv.ro/>
>>>> 
>>>> 
>>>> 
>>>> <https://mailtrack.io/> Sent with Mailtrack
>>>> <https://mailtrack.io/install?source=signature&lang=en&referral=catalinroibu at gmail.com&idSignature=22>
>>>> <#>
>>>> 
>>>> 	[[alternative HTML version deleted]]
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> David Winsemius
>>> Alameda, CA, USA
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> David Winsemius
> Alameda, CA, USA
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From batholdy at googlemail.com  Sat May 27 12:44:14 2017
From: batholdy at googlemail.com (Martin Batholdy)
Date: Sat, 27 May 2017 12:44:14 +0200
Subject: [R-SIG-Mac] R GUI very slow under mac OS 10.12.5 (Sierra)
Message-ID: <73725543-3B04-49EA-83C1-C777332E20B8@googlemail.com>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20170527/19fb8d3f/attachment.html>

From simon.urbanek at r-project.org  Sat May 27 14:33:37 2017
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 27 May 2017 08:33:37 -0400
Subject: [R-SIG-Mac] R 3.4.0 problem
In-Reply-To: <8E95214D-FE31-4A21-9E49-E6B856AD5634@comcast.net>
References: <CAEW+BD+YYibt97NEv79yFB3zhg4gzxeHn5LNnPNYoKvBB00cuw@mail.gmail.com>
 <5F05300E-8F34-492A-AB18-544EDCE113D9@comcast.net>
 <3068E63F-183F-46C5-8636-66160E03FDE5@r-project.org>
 <8E95214D-FE31-4A21-9E49-E6B856AD5634@comcast.net>
Message-ID: <44910E35-50F6-46E3-82A0-15BD768E2433@r-project.org>


> On May 26, 2017, at 11:57 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> 
>> On May 26, 2017, at 7:13 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> 
>> 
>>> On May 16, 2017, at 4:01 PM, David Winsemius <dwinsemius at comcast.net> wrote:
>>> 
>>> 
>>>> On Apr 24, 2017, at 11:49 PM, catalin roibu <catalinroibu at gmail.com> wrote:
>>>> 
>>>> Dear all,
>>>> 
>>>> I have a problem with the newest R version. I'm trying to install a
>>>> specific package dplR who need the gpm package and I have this error on my
>>>> macbook (OS Sierra):
>>> 
>>> Generally one reads the error messages. Often, and this is one of those cases, the first error message tells what the problem might be. You either do not have the system package GMP or it is installed in a location where the R package 'gmp' cannot find it.
>>> 
>>> I had difficulties attempting to test the advice I found by (re-)installing the GNU GMP package from CRAN/r.research.att.com:
>>> 
>>> http://r.research.att.com/libs/gmp-6.0.0-darwin.13-x86_64.tar.gz
>>> 
>>> I got:
>>> ~ davidwinsemius$ sudo tar fvxz ~/gmp-6.0.0-darwin.13-x86_64.tar.gz -C /
>>> x usr/: Can't set user=0/group=0 for usrCan't update time for usr
>>> x usr/local/
>>> x usr/local/include/
>>> x usr/local/lib/
>>> x usr/local/share/
>>> x usr/local/share/info/
>>> x usr/local/share/info/dir
>>> x usr/local/share/info/gmp.info
>>> x usr/local/share/info/gmp.info-1
>>> x usr/local/share/info/gmp.info-2
>>> x usr/local/lib/libgmp.a
>>> x usr/local/lib/libgmp.la
>>> x usr/local/include/gmp.h
>>> tar: Error exit delayed from previous errors.
>>> 
>>> Search on the "Can't update time for usr"-error brought up a bunch of stuff about 'XSAN' that I didn't really understand fully but did not seem terribly relevant ...
>>> 
>> 
>> FWIW that simply tells you that macOS is refusing even root to modify permissions and time for /usr which is deliberate by Apple for security reasons. Since El Capitan even root doesn't have privileges to modify /usr and its subdirectories other than /usr/local. So, yes, that error is beign.
> 
> I did know that Apple had locked down /usr/ subdirectories. I'm not sure what your conclusion implies, however. I generally assume that an error message implies lack of success.  Was the effort at installation of gmp from gmp-6.0.0-darwin.13-x86_64.tar.gz actually completed? (Which means my subsequent installation using gmp-6.1.2.tar.bz2 was not necessary, but I guessing also not harmful?
> 

Yes, maybe I wasn't clear enough - the error says that the permissions on /usr could not be set - which is to be expected since Apple no longer allows root to change permissions so there is no way to avoid that. There were no other errors so it was as successful as can be on your system - that's what I was trying to convey.

Cheers,
Simon




> Best;
> David.
> 
>> 
>> Cheers,
>> Simon
>> 
>> 
>>> .... but the package 'gmp-6.1.2.tar.bz2' at gmplib.org expanded and compiled without difficulty usign the switches recommended at the bottom of:
>>> 
>>> http://r.research.att.com/libs/
>>> 
>>> davidwinsemius$ sudo tar fvxz /Users/davidwinsemius/Downloads/gmp-6.1.2.tar.bz2 -C /
>>> 
>>> (I'm not on Sierra, since Apple has classified my MacPro as "obsolete".)
>>> 
>>> -- 
>>> 
>>> David
>>> [R.app GUI 1.70 (7338) x86_64-apple-darwin15.6.0]
>>> 
>>>> 
>>> 
>>> 
>>>>> install.packages("dplR")
>>>> also installing the dependency ?gmp?
>>>> 
>>>> Packages which are only available in source form, and may
>>>> need compilation of C/C++/Fortran: ?gmp? ?dplR?
>>>> Do you want to attempt to install these from sources?
>>>> y/n: y
>>>> installing the source packages ?gmp?, ?dplR?
>>>> 
>>>> trying URL 'https://cran.rstudio.com/src/contrib/gmp_0.5-13.1.tar.gz'
>>>> Content type 'application/x-gzip' length 131321 bytes (128 KB)
>>>> ==================================================
>>>> downloaded 128 KB
>>>> 
>>>> trying URL 'https://cran.rstudio.com/src/contrib/dplR_1.6.5.tar.gz'
>>>> Content type 'application/x-gzip' length 1672999 bytes (1.6 MB)
>>>> ==================================================
>>>> downloaded 1.6 MB
>>>> 
>>>> * installing *source* package ?gmp? ...
>>>> ** package ?gmp? successfully unpacked and MD5 sums checked
>>>> creating cache ./config.cache
>>>> checking for __gmpz_ui_sub in -lgmp... no
>>>> configure: error: GNU MP not found, or not 4.1.4 or up, see
>>>> http://gmplib.org
>>>> ERROR: configuration failed for package ?gmp?
>>>> * removing ?/Library/Frameworks/R.framework/Versions/3.4/
>>>> Resources/library/gmp?
>>>> Warning in install.packages :
>>>> installation of package ?gmp? had non-zero exit status
>>>> ERROR: dependency ?gmp? is not available for package ?dplR?
>>>> * removing ?/Library/Frameworks/R.framework/Versions/3.4/
>>>> Resources/library/dplR?
>>>> Warning in install.packages :
>>>> installation of package ?dplR? had non-zero exit status
>>>> 
>>>> The downloaded source packages are in
>>>> ?/private/var/folders/c5/6g4vbk5x55586m8ky2v_6pbc0000gn/T/RtmprYzSE8/
>>>> downloaded_packages?
>>>> 
>>>> 
>>>> All the other packages work in good conditions.
>>>> Please help me to solve this annoying situation.
>>>> 
>>>> Best regards!
>>>> 
>>>> CR
>>>> 
>>>> 
>>>> -- 
>>>> 
>>>> -
>>>> -
>>>> Catalin-Constantin ROIBU
>>>> ?
>>>> Lecturer PhD, Forestry engineer
>>>> Forestry Faculty of Suceava
>>>> Str. Universitatii no. 13, Suceava, 720229, Romania
>>>> office phone      +4 0230 52 29 78, ext. 531
>>>> mobile phone    +4 0745 53 18 01
>>>> FAX:                +4 0230 52 16 64
>>>> silvic.usv.ro <http://www.usv.ro/>
>>>> 
>>>> 
>>>> 
>>>> <https://mailtrack.io/> Sent with Mailtrack
>>>> <https://mailtrack.io/install?source=signature&lang=en&referral=catalinroibu at gmail.com&idSignature=22>
>>>> <#>
>>>> 
>>>> 	[[alternative HTML version deleted]]
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> David Winsemius
>>> Alameda, CA, USA
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> David Winsemius
> Alameda, CA, USA
> 


From dwinsemius at comcast.net  Mon May 29 22:44:24 2017
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 29 May 2017 13:44:24 -0700
Subject: [R-SIG-Mac] R GUI very slow under mac OS 10.12.5 (Sierra)
In-Reply-To: <73725543-3B04-49EA-83C1-C777332E20B8@googlemail.com>
References: <73725543-3B04-49EA-83C1-C777332E20B8@googlemail.com>
Message-ID: <C4A4053C-17FA-442F-9540-B276169D237A@comcast.net>


> On May 27, 2017, at 3:44 AM, Martin Batholdy via R-SIG-Mac <r-sig-mac at r-project.org> wrote:
> 
> Dear all,
> 
> I just switched to a new 2016 Macbook Pro and noticed that R is very slow when used over the R app. Using R via the terminal is significantly faster.
> Especially, drawing figures in quartz is really slow

Not sure what "drawing a figure" actually means. Can you present code?

> and sometimes the following error message is printed ? but this might be unrelated to the speed issue:
> 
> IMKInputSession presentFunctionRowItemTextInputViewWithEndpoint:completionHandler: : [self textInputContext]=0x0 *NO* NSRemoteViewController to client, NSError=Error Domain=NSCocoaErrorDomain Code=4099 "The connection from pid 0 was invalidated from this process." UserInfo={NSDebugDescription=The connection from pid 0 was invalidated from this process.}, com.apple.inputmethod.EmojiFunctionRowItem

This error in Sierra hosted apps has also been reported on other app forums (as well as once before on this mailing list Mon, 19 Dec 2016 by a.beckerman at sheffield.ac.uk but got no response):

https://discuss.atom.io/t/imkinputsession-error/36273

https://github.com/macvim-dev/macvim/issues/422

https://stackoverflow.com/questions/41249603/tkinter-error-in-terminal-possibly-from-my-key-bind


> 
> Is this a known issue related to Sierra and/or the new Macbook Pros? Are there any workarounds or fixes?

I surely don't know about workarounds but this does appear to be specific to Sierra. My MacbookPro is too old to get an update to Sierra. I do wonder if you have an updated (or any) XQuartz and XCode? Generally a complete question will include your versions of all essential system and R packages. 

What does sessionInfo() return?

Try clicking on the system taskbar XQuartz icon and  using `XQuartz/About X11` and copying the version. I get:

XQuartz 2.7.11 (xorg-server 1.18.4)

My XCode version is: Version 8.2.1 (8C1002) but ISTR that Sierra needs a later version.

And you should also probably indicate whether you have used either MacPorts or homebrew.

The other system resource needed in the past was Tcl/Tk although I think that now should get installed and attached by default with any current version of R. The last link of the three above appeared related to the Tk interface which is used by R.app and the tcltk package is part of the base installation, so might be relevant, but this is written at the level of speculation. My other hypothesis is that two different installations of Tcl/Tk might give problems on one machine that were not encountered by others.

-- 
David.

> 
> 
> Thanks for any suggestions!
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From simon.urbanek at r-project.org  Wed May 31 19:15:06 2017
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 31 May 2017 13:15:06 -0400
Subject: [R-SIG-Mac] R GUI very slow under mac OS 10.12.5 (Sierra)
In-Reply-To: <73725543-3B04-49EA-83C1-C777332E20B8@googlemail.com>
References: <73725543-3B04-49EA-83C1-C777332E20B8@googlemail.com>
Message-ID: <5DDB1F69-039B-437F-92ED-4B8D9A2565B8@r-project.org>


> On May 27, 2017, at 6:44 AM, Martin Batholdy via R-SIG-Mac <r-sig-mac at r-project.org> wrote:
> 
> Dear all,
> 
> I just switched to a new 2016 Macbook Pro and noticed that R is very slow when used over the R app. Using R via the terminal is significantly faster.


Can you be more specific as of what is slow and how to reproduce it?

There was a report that the console UI gets slower in Sierra as the length of the output increases - you can clear the console to avoid that, but the cause is so far unknown, likely related to Xcode 8.3 an Sierra interaction since the problem has not appeared in Mavericks builds for R (try using R 3.3.3 to see if you see the same problem). 


> Especially, drawing figures in quartz is really slow and sometimes the following error message is printed ? but this might be unrelated to the speed issue:
> 
> IMKInputSession presentFunctionRowItemTextInputViewWithEndpoint:completionHandler: : [self textInputContext]=0x0 *NO* NSRemoteViewController to client, NSError=Error Domain=NSCocoaErrorDomain Code=4099 "The connection from pid 0 was invalidated from this process." UserInfo={NSDebugDescription=The connection from pid 0 was invalidated from this process.}, com.apple.inputmethod.EmojiFunctionRowItem
> 
> 

I have not seen that error, is it reproducible?

Cheers,
Simon



> Is this a known issue related to Sierra and/or the new Macbook Pros? Are there any workarounds or fixes?
> 
> 
> Thanks for any suggestions!
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From pdalgd at gmail.com  Thu May 18 19:22:18 2017
From: pdalgd at gmail.com (peter dalgaard)
Date: Thu, 18 May 2017 17:22:18 -0000
Subject: [R-SIG-Mac] R commander fonts on R 3.4.0
In-Reply-To: <ACD1644AA6C67E4FBD0C350625508EC83666A223@FHSDB2D11-2.csu.mcmaster.ca>
References: <A7AF5B04-73F7-4C51-9845-A1012B74FB13@upr.edu>
 <25322_1494369971_v49MkAbP032131_B9A2013C-D5EC-46D9-A1C5-CC8EA315539D@comcast.net>
 <D537E927.72B8%jfox@mcmaster.ca>
 <A1EF8067-15B5-4970-B83C-DC632B9E4C49@r-project.org>
 <FE3D31ED-E677-4D53-9E50-CABC328685BE@upr.edu>
 <A0054686-E83D-4C70-AC3B-A42A074F17A4@upr.edu>
 <9B2C2259-32A0-481C-9596-416615E69B1A@upr.edu>
 <FA20D234-368D-4C02-9057-68E9A69EAC1B@upr.edu>
 <8605F648-B967-408A-AF01-9443A2790CF9@upr.edu>
 <ACD1644AA6C67E4FBD0C350625508EC836668824@FHSDB2D11-2.csu.mcmaster.ca>
 <2E799797-8456-43C6-B681-BB2465F11A14@gmail.com>
 <57C6706E-6773-47F3-9051-A5FD3097CC07@gmail.com>
 <474B2FF5-5435-4F4D-9F67-BF2027D9E1C8@gmail.com>
 <AB3E7E39-449E-4B40-AD4C-7FE55FD44239@gmail.com>
 <8AF15F28-9173-459E-82DE-15ED8D2DA102@r-project.org>
 <3828DBAC-5955-474E-A409-6AFAA07797DB@gmail.com>
 <A590549A-2527-40A1-AB1D-78EC227DF9A1@gmail.com>
 <86FF1482-3E45-475B-AF67-7F7F69B4A2F9@gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC83666A223@FHSDB2D11-2.csu.mcmaster.ca>
Message-ID: <C2A8BD7B-A58F-402C-8A37-7B154BA93D29@gmail.com>


> On 17 May 2017, at 21:28 , Fox, John <jfox at mcmaster.ca> wrote:
> 
> Dear Peter,
> 
> First, thank you very much for persisting with this. I greatly appreciate it.
> 
>> -----Original Message-----
>> From: Peter Dalgaard [mailto:pdalgd at gmail.com]
>> Sent: Wednesday, May 17, 2017 2:52 PM
>> To: Simon Urbanek <simon.urbanek at r-project.org>
>> Cc: Fox, John <jfox at mcmaster.ca>; r-sig-mac at r-project.org
>> Subject: Re: [R-SIG-Mac] R commander fonts on R 3.4.0
>> 
>> A few more data points:
>> 
>> I tried building Tcl/Tk 8.6.6 from the sources from sourceforge.
>> Contrary to what it says on the package, it insists on building Tcl and
>> Tk as frameworks, which in turn requires that R's configure needs
>> special instructions. This works reasonably well for simple tcltk stuff
>> (demos, the CRAN selection menu), but unfortunately, library(Rcmdr)
>> causes an "Abort trap: 6" almost immediately. (I get a sense of deja vu
>> about this... Did Brian try something similar years ago?)
> 
> I believe that Brian mentioned to me years ago that he was able to get R (and the Rcmdr package) to work fine with a native version of Tcl/Tk for Macs. Beyond that, I don't recall.

The thing I recall was something like "We tried this approach but it crashed immediately so we gave up", but I may well be mistaken, or it was some other library, or...

> 
>> 
>> It does actually seem to work to build R against the system-supplied
>> v.8.5 frameworks. However, this is Aqua-based, and the fonts are a bit
>> weird (smooth, but way too small) and the Rcmdr menus get moved to the
>> top bar.
> 
> Moving the menus to the top bar is desirable, in my opinion, because it's what Mac users expect. If the problem is simply with the font sizes, I should be able to adjust that automatically, as I do now.

The attached (which at least you and Simon should get, but may get scrubbed for the mailing list)  shows how it looks with Aqua-Tcl/Tk using the ActiveState binaries for 8.6.6, after I increased the font sizes to legibility. Obviously, these do not crash like the source compiles do....better not get started on commenting upon _that_ situation. 

As you see, it is pretty close to usable with a few misfeatures: The background colouring is off in places and the highlighting, counterproductively, comes out black-on-blue rather than white-on-blue. All functionality that I tried appeared to be present, even the data editor.

Incidentally, in the background, you see the regular XQuartz Rcmdr when using the TclTk from the R-3.3 packages (with the smooth fonts). 

> 
>> 
>> I am pretty sure by now that all this stuff is a generic tcltk build
>> problem and way out of John's domain. (Thanks for posting the font code,
>> John. I hope I can get around to having a closer look at it at some
>> point. Those .Tcl(paste()) constructs make me cringe a bit, but not all
>> are easily eliminated.)
> 
> If you see a better way to do this, of course I'd appreciate that. It took a fair amount of work to adjust the fonts so that they look right on Windows, macOS, and Linux systems.

Most of what I see is probably shortcomings of the R/Tcl interface. Ideally, everything should be tcl() calls and tclObj's, but ideas like getting an argument list from tk.actual() and using that in tkfont.create() do not quite fit in with the current toolbox.

-pd 


> 
> Best,
> John
> 
>> 
>> -pd
>> 
>>> On 16 May 2017, at 23:52 , peter dalgaard <pdalgd at gmail.com> wrote:
>>> 
>>> 
>>>> On 16 May 2017, at 21:03 , peter dalgaard <pdalgd at gmail.com> wrote:
>>>> 
>>>> I don't think the config flags for R matter in this regard. The
>> behaviour is completely paralleled by wish8.6:
>>> 
>>> Hmmm, not sure the wish ::tk::pkgconfig thing proves anything, after I
>> tried some of the ActiveState installs and a source build. This stuff is
>> making my head spin!
>>> 
>>> However, I discovered that it is possible to install R-3.4.0.pkg as
>> usual, and then a customized install of (say) R-3.3-branch-
>> mavericks.pkg, omitting everything except the Tcl/Tk stuff. That gives
>> you R 3.4.0 and Rcmdr with antialiased fonts.
>>> 
>>> --
>>> Peter Dalgaard, Professor,
>>> Center for Statistics, Copenhagen Business School Solbjerg Plads 3,
>>> 2000 Frederiksberg, Denmark
>>> Phone: (+45)38153501
>>> Office: A 4.23
>>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>> 
>> --
>> Peter Dalgaard, Professor,
>> Center for Statistics, Copenhagen Business School Solbjerg Plads 3, 2000
>> Frederiksberg, Denmark
>> Phone: (+45)38153501
>> Office: A 4.23
>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com








-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20170518/6f58b717/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PastedGraphic-1.png
Type: image/png
Size: 366375 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20170518/6f58b717/attachment-0001.png>

