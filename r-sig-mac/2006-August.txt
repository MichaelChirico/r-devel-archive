From simon.urbanek at r-project.org  Tue Aug  1 06:27:19 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 1 Aug 2006 00:27:19 -0400
Subject: [R-SIG-Mac] RMySQL won't install
In-Reply-To: <7D6FE118FCA07FEFD0CD613F@theodora.bayswaterfarm.com>
References: <7D6FE118FCA07FEFD0CD613F@theodora.bayswaterfarm.com>
Message-ID: <9EF6D3A3-1AF1-4340-99E8-89D924BA8819@r-project.org>


On Jul 31, 2006, at 2:26 PM, Chris Bunch wrote:

> I am having problems installing the RMySQL binary package [Mac OS X  
> 10.4.7;
> R 2.3.1; R-GUI 1.16 (3198);
> mysql-max-5.0.22-osx10.4-powerpc-64bit (binary)]

  ^^^ --- this is not a good idea - it won't work, because the 64-bit  
MySQL package doesn't contain 32-bit client libraries. You will have  
to get the 32-bit version instead (or use 64-bit version of R  
instead, but then you lose the GUI, Quartz etc.).

In theory 32-bit library could potentially work with 64-bit server as  
they communicate over sockets, but I didn't test it myself, so I  
don't know if that's true in practice.

Cheers,
Simon


From simon.urbanek at r-project.org  Tue Aug  1 06:34:58 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 1 Aug 2006 00:34:58 -0400
Subject: [R-SIG-Mac] Compiling ROracle on OSX 10.4.7/R 2.3.1
In-Reply-To: <D71B607D-FC1D-409E-B05B-1F8568C32094@meb.ki.se>
References: <D71B607D-FC1D-409E-B05B-1F8568C32094@meb.ki.se>
Message-ID: <EBBC14DE-65EB-4A43-BE75-DD822414ADB9@r-project.org>

Alexander,

On Jul 31, 2006, at 1:14 PM, Alexander Ploner wrote:

> I have one or several problems with compiling ROracle under OS X  
> 10.4.7 (ppc) and R 2.3.1, using the Oracle client v. 10g:
>
> 1) The default build process produces an empty dll: When running R  
> CMD INSTALL, for some reason gcc is invoked with -arch i386 for   
> compiling RS-DBI.c and RS-Oracle.c, but with -arch pcc for  
> building  the library. Not surprisingly, the build is not  
> successful, though it  does not crash, but only warns:

Can you send me the full output, please? The tidbit you posted  
doesn't help because it doesn't show how the package is configured.  
You may also want to send me the config.log. If you want to force  
build of a single architecture only, you can use
R_ARCH=/ppc R CMD INSTALL ...


> 2) Fine, so I have hand-compiled by setting -arch ppc and removing   
> the arguments '-march=pentium-m -mtune=prescott',

That doesn't sound good, because you would be still using the i386  
paths, settigns etc. and that is not likely to work.

> The README file suggests to 1) set the LD_LIBRARY_PATH to the  
> Oracle  lib directory

There is no LD_LIBRARY_PATH on OS X and by default full paths to  
dylib are recorded, so it's not needed.

Unfortunately I don't have access to any Oracle DB so I cannot try to  
reproduce it myself.

Cheers,
Simon


From simon.urbanek at r-project.org  Tue Aug  1 06:47:49 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 1 Aug 2006 00:47:49 -0400
Subject: [R-SIG-Mac] Need indexing program for OS-X.4.7
In-Reply-To: <AB9CE83A-BF96-4A3B-90A9-BA7105D5CD44@se.rr.com>
References: <AB9CE83A-BF96-4A3B-90A9-BA7105D5CD44@se.rr.com>
Message-ID: <29F3E84A-9150-48DD-8131-D38A5D7F3113@r-project.org>

Dwight,

can you enlighten us, please, what has your question to do with R?

I wouldn't recommend the use of R for indexing documents, although it  
could be done ;).

Cheers,
Simon


On Jul 27, 2006, at 6:27 PM, Dwight Hines wrote:

> I'm finishing up a long manuscript and I need a good free or cheap  
> indexing program for my Pismo.   The ideal program will allow me to  
> just name the files with the manuscript, and the program will take  
> them and then make a long alphabetical list of words and names,  
> like you find in the back of books, with what page numbers they are  
> on.  It would be wonderful if the program would handle text and pdf  
> but text is the main thing.
>
> I would like to be able to be able to tell the program ahead of  
> time what words NOT to list, like all of the words in this sentence  
> would not be included.  I would need to be able to exclude numbers  
> in the word list but include them in a different list, like dates  
> and amounts.
>
> I have downloaded Wikinotes, Annotape, and MTlibrarian.  Each looks  
> like work to learn to use and I thought that I would avoid the  
> initial comparison of them by asking the list.
>
> I'm running OS-X.4.7 with no problems and have OS-9 available for  
> classic programs.
>


From simon.urbanek at r-project.org  Tue Aug  1 16:39:26 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 1 Aug 2006 10:39:26 -0400
Subject: [R-SIG-Mac] Compiling ROracle on OSX 10.4.7/R 2.3.1
In-Reply-To: <0A48E688-DF1F-4D92-AA0F-BF93755C5B14@meb.ki.se>
References: <D71B607D-FC1D-409E-B05B-1F8568C32094@meb.ki.se>
	<EBBC14DE-65EB-4A43-BE75-DD822414ADB9@r-project.org>
	<0A48E688-DF1F-4D92-AA0F-BF93755C5B14@meb.ki.se>
Message-ID: <0791193F-A6CF-4FEB-BC57-F5169952C266@r-project.org>

Thanks, Alexander.
This seems to be a combination of a bug in R and a bug in ROracle:

On Aug 1, 2006, at 8:50 AM, Alexander Ploner wrote:

> R_ARCH=/ppc R CMD INSTALL --library=~/Library/R/library/  
> ROracle_0.5-7.tar.gz
>
> I get the following:
>
> * Installing *source* package 'ROracle' ...
> checking for gcc... gcc

^^ This is already wrong - I suspect that ROracle configure script  
doesn't respect settings from R. It should read 'gcc-4.0 -arch ppc'  
as it does below. I would suggest contacting the maintainer, because  
the configure script doesn't fetch vital flags like compiler from R  
and yet it attempts to use R CMD, thus entirely different compilers  
may be used at configure and build time.


> R CMD COMPILE RS-DBI.c
> gcc-4.0 -arch i386 -I/Library/Frameworks/R.framework/Resources/ 
> include -I/Library/Frameworks/R.framework/Resources/include/i386

^^ this is a bug in R CMD COMPILE. It is now fixed in R-devel and R- 
patched, but you can fix your installed R simply by editing
/Library/Frameworks/R.framework/Resources/bin/COMPILE
line 31, change
makefiles="-f \"${R_HOME}/etc/Makeconf\""
to
makefiles="-f \"${R_HOME}/etc${R_ARCH}/Makeconf\""

R CMD SHLIB worked, but incidentally ROracle uses R CMD COMPILE -> R  
CMD SHLIB and thus failed.

Cheers,
Simon


From chris at bayswaterfarm.com  Tue Aug  1 23:05:06 2006
From: chris at bayswaterfarm.com (Chris Bunch)
Date: Tue, 01 Aug 2006 22:05:06 +0100
Subject: [R-SIG-Mac] RMySQL won't install
In-Reply-To: <9EF6D3A3-1AF1-4340-99E8-89D924BA8819@r-project.org>
References: <7D6FE118FCA07FEFD0CD613F@theodora.bayswaterfarm.com>
	<9EF6D3A3-1AF1-4340-99E8-89D924BA8819@r-project.org>
Message-ID: <B00A23F55D2B03FC205F1B73@theodora.bayswaterfarm.com>

Thanks Simon -

Unfortunately I have installed the 32 bit (ie non-64 bit) version of MySQL
5.0.22 and get the same error when I try to install RMySQL;

Error in dyn.load(x, as.logical(local), as.logical(now)) : 
	unable to load shared library
'/Library/Frameworks/R.framework/Versions/2.3/Resources/library/RMySQL/libs/ppc/RMySQL.so':

dlopen(/Library/Frameworks/R.framework/Versions/2.3/Resources/library/RMySQL/libs/ppc/RMySQL.so,
6): Symbol not found: _load_defaults
  Referenced from:
/Library/Frameworks/R.framework/Versions/2.3/Resources/library/RMySQL/libs/ppc/RMySQL.so
  Expected in: flat namespace
Error in library(RMySQL) : .First.lib failed for 'RMySQL'


C
__________________________
Dis aliter visum
http://jambalaya.bayswaterfarm.com

--On Tuesday, August 1, 2006 00:27 -0400 Simon Urbanek
<simon.urbanek at r-project.org> wrote:

> 
> On Jul 31, 2006, at 2:26 PM, Chris Bunch wrote:
> 
>> I am having problems installing the RMySQL binary package [Mac OS X  
>> 10.4.7;
>> R 2.3.1; R-GUI 1.16 (3198);
>> mysql-max-5.0.22-osx10.4-powerpc-64bit (binary)]
> 
>   ^^^ --- this is not a good idea - it won't work, because the 64-bit
> MySQL package doesn't contain 32-bit client libraries. You will have  to
> get the 32-bit version instead (or use 64-bit version of R  instead, but
> then you lose the GUI, Quartz etc.).
> 
> In theory 32-bit library could potentially work with 64-bit server as
> they communicate over sockets, but I didn't test it myself, so I  don't
> know if that's true in practice.
> 
> Cheers,
> Simon
>


From ryan.hafen at utah.edu  Thu Aug  3 02:47:10 2006
From: ryan.hafen at utah.edu (Ryan Hafen)
Date: Wed, 2 Aug 2006 18:47:10 -0600
Subject: [R-SIG-Mac] R GUI
Message-ID: <A9B2C298-9A8F-4265-9365-1D95C1563EC0@utah.edu>

Is anyone else having trouble with R's GUI for Mac OS X?  It is hard  
to recreate my problem, but many times when I am using R's editor and  
I try to add comments, it unexpectedly quits.  It doesn't happen all  
the time, but just randomly.  I'm running R 2.3.1 with GUI 1.16  
(3198) on a G5 with OS 10.4.7.  This has been a problem with previous  
versions of R for me too.  I've been subscribed to this newsletter  
for a few months now and I haven't heard anyone else say anything  
about it so I'm wondering if it is not a widespread problem.  I'll  
see if I can do more to find a systematic way to recreate it, but  
like I said, it's just kind of random.


From james.milks at wright.edu  Thu Aug  3 14:01:28 2006
From: james.milks at wright.edu (James R. Milks)
Date: Thu, 03 Aug 2006 08:01:28 -0400
Subject: [R-SIG-Mac] R-SIG-Mac Digest, Vol 42, Issue 3
In-Reply-To: <mailman.19.1154599205.4700.r-sig-mac@stat.math.ethz.ch>
References: <mailman.19.1154599205.4700.r-sig-mac@stat.math.ethz.ch>
Message-ID: <2CF52320-4494-4A20-855A-CEA3F59CCCCA@wright.edu>

Ryan,

Is it possible to give us an example of the code and comments you are  
trying to create?  Also, do you have any packages running (other than  
the default)?  I'm running R 2.3.1 on an Intel MacBook and a G3 iMac  
(both now with OS 10.4.7) and have not encountered that particular  
problem before.

Thanks.

Jim Milks

Graduate Student
Environmental Sciences Ph.D. Program
Wright State University
Dayton, OH 45435

On Aug 3, 2006, at 6:00 AM, r-sig-mac-request at stat.math.ethz.ch wrote:

>
> Message: 1
> Date: Wed, 2 Aug 2006 18:47:10 -0600
> From: Ryan Hafen <ryan.hafen at utah.edu>
> Subject: [R-SIG-Mac] R GUI
> To: r-sig-mac at stat.math.ethz.ch
> Message-ID: <A9B2C298-9A8F-4265-9365-1D95C1563EC0 at utah.edu>
> Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
>
> Is anyone else having trouble with R's GUI for Mac OS X?  It is hard
> to recreate my problem, but many times when I am using R's editor and
> I try to add comments, it unexpectedly quits.  It doesn't happen all
> the time, but just randomly.  I'm running R 2.3.1 with GUI 1.16
> (3198) on a G5 with OS 10.4.7.  This has been a problem with previous
> versions of R for me too.  I've been subscribed to this newsletter
> for a few months now and I haven't heard anyone else say anything
> about it so I'm wondering if it is not a widespread problem.  I'll
> see if I can do more to find a systematic way to recreate it, but
> like I said, it's just kind of random.
>
>
>
> ------------------------------
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
> End of R-SIG-Mac Digest, Vol 42, Issue 3
> ****************************************


From hpages at fhcrc.org  Mon Aug  7 20:33:30 2006
From: hpages at fhcrc.org (Herve Pages)
Date: Mon, 07 Aug 2006 11:33:30 -0700
Subject: [R-SIG-Mac] Pb with contrib.url()
Message-ID: <44D7877A.7090900@fhcrc.org>

Hi lists,


Recently I needed to download a few R packages for Unix, Windows
and Mac OS X. The idea was to put them all together on a USB key
in order to be able to install them on systems without network connection.

It worked fine for the "src" and "win.binary" packages but I had the
following problems with the "mac.binary" packages:

     > download.packages("XML", destdir=".", type="mac.binary")
    Warning: unable to access index for repository
    http://cran.fhcrc.org/bin/macosx/x86_64/contrib/2.3
    Warning in download.packages("XML", destdir = ".", type =
    "mac.binary") :
             no package 'XML' at the repositories
         [,1] [,2]

The pb seems to be in contrib.url():

     > contrib.url(getOption("repos"), "mac.binary")
    [1] "http://cran.fhcrc.org/bin/macosx/x86_64/contrib/2.3"

I'm using R 2.3.1:

     > sessionInfo()
    Version 2.3.1 (2006-06-01)
    x86_64-unknown-linux-gnu
     
    attached base packages:
    [1] "methods"   "stats"     "graphics"  "grDevices" "utils"    
    "datasets"
    [7] "base"

The same pb occurs with R devel (r38641).

Cheers,


H.

-- 
------------------------
Herv? Pag?s
E-mail: hpages at fhcrc.org
Phone: (206) 667-5791
Fax: (206) 667-1319


From Tim.Cole at ich.ucl.ac.uk  Wed Aug  9 14:52:25 2006
From: Tim.Cole at ich.ucl.ac.uk (Tim Cole)
Date: Wed, 9 Aug 2006 13:52:25 +0100
Subject: [R-SIG-Mac] Quartz questions
Message-ID: <p06230903c0ff8ad38c6b@[194.82.246.94]>

I don't think there was a response to my quartz queries of a couple 
of weeks ago.

Tim Cole

At 16:08 +0100 26/7/06, Tim Cole wrote:
>I'm running R 2.3.1 on OS 10.4.7 with R GUI 1.17-pre (3343).
>
>1. args(quartz) says it defaults to 5x5 inches i.e. 360x360 pixels. 
>But I find it gives 6x6 (432x432) instead, and the width and height 
>arguments are ignored.
>
>2. Simon recently added a name to the quartz window as the first 
>argument. How do I make an inactive window called "fred" the active 
>window? If I repeat quartz("fred") it creates another window of the 
>same name.
>
>3. I have two identical G4 setups, at home and at work, but quartz 
>graphics work differently on them. On the work machine graphs look 
>grainy on moderate magnification, whereas the same graphics on the 
>home machine look fine. I can't currently provide chapter and verse 
>for this, but my question is what (if anything) in the R setup on 
>the two machines might explain such a difference in behaviour.
>
>Thanks,
>Tim Cole
-- 
Tim.Cole at ich.ucl.ac.uk Phone +44(0)20 7905 2666 Fax +44(0)20 7905 2381
Paed. Epid. & Biostats, Institute of Child Health, London WC1N 1EH, UK


From goedman at mac.com  Wed Aug  9 18:52:36 2006
From: goedman at mac.com (Rob J Goedman)
Date: Wed, 9 Aug 2006 09:52:36 -0700
Subject: [R-SIG-Mac] Quartz questions
In-Reply-To: <p06230903c0ff8ad38c6b@[194.82.246.94]>
References: <p06230903c0ff8ad38c6b@[194.82.246.94]>
Message-ID: <3D49066A-0061-4397-B918-C897F4E5ACA7@mac.com>

Tim,

1) What are your preference settings for Quartz?

 > quartz(width = 5, height=6)

works on my system (as long as I don't use the override setting in  
the pref pane).

2) Not sure if you can re-activate a previous window

3) Are the screen resolutions of the 2 machines identical?

Rob


On Aug 9, 2006, at 5:52 AM, Tim Cole wrote:

> I don't think there was a response to my quartz queries of a couple
> of weeks ago.
>
> Tim Cole
>
> At 16:08 +0100 26/7/06, Tim Cole wrote:
>> I'm running R 2.3.1 on OS 10.4.7 with R GUI 1.17-pre (3343).
>>
>> 1. args(quartz) says it defaults to 5x5 inches i.e. 360x360 pixels.
>> But I find it gives 6x6 (432x432) instead, and the width and height
>> arguments are ignored.
>>
>> 2. Simon recently added a name to the quartz window as the first
>> argument. How do I make an inactive window called "fred" the active
>> window? If I repeat quartz("fred") it creates another window of the
>> same name.
>>
>> 3. I have two identical G4 setups, at home and at work, but quartz
>> graphics work differently on them. On the work machine graphs look
>> grainy on moderate magnification, whereas the same graphics on the
>> home machine look fine. I can't currently provide chapter and verse
>> for this, but my question is what (if anything) in the R setup on
>> the two machines might explain such a difference in behaviour.
>>
>> Thanks,
>> Tim Cole
> -- 
> Tim.Cole at ich.ucl.ac.uk Phone +44(0)20 7905 2666 Fax +44(0)20 7905 2381
> Paed. Epid. & Biostats, Institute of Child Health, London WC1N 1EH, UK
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Thu Aug 10 08:32:51 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 9 Aug 2006 23:32:51 -0700
Subject: [R-SIG-Mac] Quartz questions
In-Reply-To: <3D49066A-0061-4397-B918-C897F4E5ACA7@mac.com>
References: <p06230903c0ff8ad38c6b@[194.82.246.94]>
	<3D49066A-0061-4397-B918-C897F4E5ACA7@mac.com>
Message-ID: <B1D88E1D-622A-4F19-AFE0-DCDD108046DC@r-project.org>


On Aug 9, 2006, at 9:52 AM, Rob J Goedman wrote:

> 1) What are your preference settings for Quartz?
>
>> quartz(width = 5, height=6)
>
> works on my system (as long as I don't use the override setting in
> the pref pane).
>
> 2) Not sure if you can re-activate a previous window
>

Yes, you can, using dev.set - not by name, though.


> 3) Are the screen resolutions of the 2 machines identical?
>

Tim, you may want to send me screenshots to illustrate what you mean.  
As Rob was saying, make sure you don't override any defaults (safe  
bet is to move away the preferences file).

Cheers,
Simon


> On Aug 9, 2006, at 5:52 AM, Tim Cole wrote:
>
>> I don't think there was a response to my quartz queries of a couple
>> of weeks ago.
>>
>> Tim Cole
>>
>> At 16:08 +0100 26/7/06, Tim Cole wrote:
>>> I'm running R 2.3.1 on OS 10.4.7 with R GUI 1.17-pre (3343).
>>>
>>> 1. args(quartz) says it defaults to 5x5 inches i.e. 360x360 pixels.
>>> But I find it gives 6x6 (432x432) instead, and the width and height
>>> arguments are ignored.
>>>
>>> 2. Simon recently added a name to the quartz window as the first
>>> argument. How do I make an inactive window called "fred" the active
>>> window? If I repeat quartz("fred") it creates another window of the
>>> same name.
>>>
>>> 3. I have two identical G4 setups, at home and at work, but quartz
>>> graphics work differently on them. On the work machine graphs look
>>> grainy on moderate magnification, whereas the same graphics on the
>>> home machine look fine. I can't currently provide chapter and verse
>>> for this, but my question is what (if anything) in the R setup on
>>> the two machines might explain such a difference in behaviour.
>>>
>>> Thanks,
>>> Tim Cole
>> -- 
>> Tim.Cole at ich.ucl.ac.uk Phone +44(0)20 7905 2666 Fax +44(0)20 7905  
>> 2381
>> Paed. Epid. & Biostats, Institute of Child Health, London WC1N  
>> 1EH, UK
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From Tim.Cole at ich.ucl.ac.uk  Thu Aug 10 15:39:39 2006
From: Tim.Cole at ich.ucl.ac.uk (Tim Cole)
Date: Thu, 10 Aug 2006 14:39:39 +0100
Subject: [R-SIG-Mac] Quartz questions
In-Reply-To: <B1D88E1D-622A-4F19-AFE0-DCDD108046DC@r-project.org>
References: <p06230903c0ff8ad38c6b@[194.82.246.94]>
	<3D49066A-0061-4397-B918-C897F4E5ACA7@mac.com>
	<B1D88E1D-622A-4F19-AFE0-DCDD108046DC@r-project.org>
Message-ID: <p06230900c100e4c8a0ed@[194.82.246.94]>

Thanks to Roger, Rob and Simon for their responses. My quartz pref 
pane setting was causing problem 1, as Rob guessed.

This also explains another odd quartz feature I've seen. Go to the R 
quartz pref pane, tick the box to Override R Quartz width/height 
parameters, and set new values for width and height (not 5 and 5). 
Then untick the box, so the setting should be ignored, and exit 
preferences.

Typing quartz() at the prompt now gives a 5x5 window, as it should, 
but selecting New quartz device window from the Window menu gives a 
window of the size specified in the preferences - odd!

Best wishes,
Tim

At 23:32 -0700 9/8/06, Simon Urbanek wrote:
>On Aug 9, 2006, at 9:52 AM, Rob J Goedman wrote:
>
>>1) What are your preference settings for Quartz?
>>
>>>quartz(width = 5, height=6)
>>
>>works on my system (as long as I don't use the override setting in
>>the pref pane).
>>
>>2) Not sure if you can re-activate a previous window
>>
>
>Yes, you can, using dev.set - not by name, though.
>
>>3) Are the screen resolutions of the 2 machines identical?
>>
>
>Tim, you may want to send me screenshots to illustrate what you 
>mean. As Rob was saying, make sure you don't override any defaults 
>(safe bet is to move away the preferences file).
>
>Cheers,
>Simon

-- 
Tim.Cole at ich.ucl.ac.uk Phone +44(0)20 7905 2666 Fax +44(0)20 7905 2381
Paed. Epid. & Biostats, Institute of Child Health, London WC1N 1EH, UK


From goedman at mac.com  Thu Aug 10 15:59:35 2006
From: goedman at mac.com (Rob J Goedman)
Date: Thu, 10 Aug 2006 06:59:35 -0700
Subject: [R-SIG-Mac] Quartz questions
In-Reply-To: <p06230900c100e4c8a0ed@[194.82.246.94]>
References: <p06230903c0ff8ad38c6b@[194.82.246.94]>
	<3D49066A-0061-4397-B918-C897F4E5ACA7@mac.com>
	<B1D88E1D-622A-4F19-AFE0-DCDD108046DC@r-project.org>
	<p06230900c100e4c8a0ed@[194.82.246.94]>
Message-ID: <A5DB2863-3B22-4D41-BC8D-70958009B4D1@mac.com>

Tim,

On Aug 10, 2006, at 6:39 AM, Tim Cole wrote:

> Thanks to Roger, Rob and Simon for their responses. My quartz pref
> pane setting was causing problem 1, as Rob guessed.
>
> This also explains another odd quartz feature I've seen. Go to the R
> quartz pref pane, tick the box to Override R Quartz width/height
> parameters, and set new values for width and height (not 5 and 5).
> Then untick the box, so the setting should be ignored, and exit
> preferences.
>
> Typing quartz() at the prompt now gives a 5x5 window, as it should,
> but selecting New quartz device window from the Window menu gives a
> window of the size specified in the preferences - odd!

More than odd. I'll have a look. Thanks.

>>> 2) Not sure if you can re-activate a previous window
>>
>> Yes, you can, using dev.set - not by name, though.

Thanks Simon. Works indeed!

Rob


From sunyata at uvic.ca  Thu Aug 10 23:06:06 2006
From: sunyata at uvic.ca (Graham Watt-Gremm)
Date: Thu, 10 Aug 2006 14:06:06 -0700
Subject: [R-SIG-Mac] r.app memory segfault crash
Message-ID: <8FBE4F02-F922-4CB3-A42C-402EE4F26EBC@uvic.ca>

Hi there,
Noting an issue with R.app crashing after a save.image() command; has  
been happening now and then lately so I thought I would report it. I  
am working extensively from an edit window, returned to the main  
console, typed save.image() and it gave me the following warning:

*** caught segfault ***
address 0x8050c6b8, cause 'memory not mapped'

Traceback:
1: lazyLoadDBfetch(key, datafile, compressed, envhook)
2: save.image()

it gave me the possible actions for aborting, I pressed 4 for saving  
workspace, and then it gave me the spinning beach ball of death.  
Below is the console output

thanks!

Host Name:      geefive
Date/Time:      2006-08-10 13:53:34.193 -0700
OS Version:     10.4.7 (Build 8J135)
Report Version: 4

Command: R
Path:    /Applications/R.app/Contents/MacOS/R
Parent:  WindowServer [71]

Version: 1.16 (3198)

PID:    12957
Thread: 0

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_INVALID_ADDRESS (0x0001) at 0x8050c6b8

Thread 0 Crashed:
0   <<00000000>> 	0xfffeff30 objc_msgSend_rtp + 48
1   com.apple.CoreFoundation       	0x907bdfa0 _CFArrayReplaceValues  
+ 372
2   com.apple.CoreFoundation       	0x907bde18 CFArrayAppendValue + 200
3   com.apple.AppKit               	0x93bbdc34 -[NSNavOutlineDelegate  
_highlightedNodes] + 160
4   com.apple.AppKit               	0x93bbcc6c -[NSNavOutlineDelegate  
prepareForReloadChildrenForNode:] + 64
5   com.apple.AppKit               	0x9394f20c -[NSNavDataSource  
_handleChildChanged:] + 332
6   com.apple.Foundation           	0x92943ad8 _nsnote_callback + 180
7   com.apple.CoreFoundation       	0x90803010 __CFXNotificationPost  
+ 368
8   com.apple.CoreFoundation       	0x907fb0ec  
_CFXNotificationPostNotification + 684
9   com.apple.AppKit               	0x938bf938 +[NSNavFBENode  
_postNotificationForEvent:notificationName:parent:child:fbeProperty:]  
+ 572
10  com.apple.AppKit               	0x938bf43c +[NSNavFBENode  
_reallyProcessNotifications:] + 552
11  com.apple.Foundation           	0x929c6a6c __NSFirePerformTimer +  
308
12  com.apple.CoreFoundation       	0x907db73c __CFRunLoopDoObservers  
+ 352
13  com.apple.CoreFoundation       	0x907db9dc __CFRunLoopRun + 420
14  com.apple.CoreFoundation       	0x907db47c CFRunLoopRunSpecific +  
268
15  com.apple.HIToolbox            	0x931eb740  
RunCurrentEventLoopInMode + 264
16  com.apple.HIToolbox            	0x931eadd4 ReceiveNextEventCommon  
+ 380
17  com.apple.HIToolbox            	0x931eac40  
BlockUntilNextEventMatchingListInMode + 96
18  com.apple.AppKit               	0x93713ae4 _DPSNextEvent + 384
19  com.apple.AppKit               	0x937137a8 -[NSApplication  
nextEventMatchingMask:untilDate:inMode:dequeue:] + 116
20  org.R-project.R                	0x0000dc80 -[RController  
doProcessEvents:] + 244 (RController.m:1817)
21  org.R-project.R                	0x0002bff0 Re_ProcessEvents + 176  
(Rcallbacks.m:123)
22  libR.dylib                     	0x011afb54 R_ProcessEvents + 120  
(aqua.c:165)
23  libR.dylib                     	0x0109d348 Rf_eval + 344 (eval.c: 
297)
24  libR.dylib                     	0x0109d884 Rf_eval + 1684 (eval.c: 
359)
25  libR.dylib                     	0x0109e9d4 Rf_evalList + 132  
(eval.c:1400)
26  libR.dylib                     	0x0109d73c Rf_eval + 1356 (eval.c: 
408)
27  libR.dylib                     	0x010a0c80 Rf_applyClosure + 684  
(eval.c:588)
28  libR.dylib                     	0x0109d550 Rf_eval + 864 (eval.c: 
429)
29  libR.dylib                     	0x0109d588 Rf_eval + 920 (eval.c: 
372)
30  libR.dylib                     	0x0108b244 Rf_findFun + 332  
(envir.c:1245)
31  libR.dylib                     	0x0109d5e0 Rf_eval + 1008 (eval.c: 
381)
32  libR.dylib                     	0x0109e9d4 Rf_evalList + 132  
(eval.c:1400)
33  libR.dylib                     	0x0109d73c Rf_eval + 1356 (eval.c: 
408)
34  libR.dylib                     	0x010a0378 do_if + 48 (eval.c:868)
35  libR.dylib                     	0x0109d6e4 Rf_eval + 1268 (eval.c: 
398)
36  libR.dylib                     	0x0109d6e4 Rf_eval + 1268 (eval.c: 
398)
37  libR.dylib                     	0x0109f888 do_begin + 84 (eval.c: 
1075)
38  libR.dylib                     	0x0109d6e4 Rf_eval + 1268 (eval.c: 
398)
39  libR.dylib                     	0x010a0c80 Rf_applyClosure + 684  
(eval.c:588)
40  libR.dylib                     	0x0109d550 Rf_eval + 864 (eval.c: 
429)
41  org.R-project.R                	0x00032390 run_REngineRmainloop +  
640 (Rinit.c:391)
42  org.R-project.R                	0x0002aa1c -[REngine runREPL] +  
68 (REngine.m:167)
43  org.R-project.R                	0x0001d340 main + 680 (main.m:101)
44  org.R-project.R                	0x00002e8c _start + 340 (crt.c:272)
45  org.R-project.R                	0x00002d34 start + 60

Thread 1:
0   libSystem.B.dylib              	0x9001f7ac select + 12
1   org.R-project.R                	0x0000a588 -[RController  
readThread:] + 588 (RController.m:553)
2   com.apple.Foundation           	0x92944194 forkThreadForFunction  
+ 108
3   libSystem.B.dylib              	0x9002bc28 _pthread_body + 96

Thread 2:
0   libSystem.B.dylib              	0x9004a568 syscall_thread_switch + 8
1   com.apple.Foundation           	0x9295c5d0 +[NSThread  
sleepUntilDate:] + 152
2   com.apple.AppKit               	0x937b0a10 -[NSUIHeartBeat  
_heartBeatThread:] + 1100
3   com.apple.Foundation           	0x92944194 forkThreadForFunction  
+ 108
4   libSystem.B.dylib              	0x9002bc28 _pthread_body + 96

Thread 3:
0   libSystem.B.dylib              	0x9000b268 mach_msg_trap + 8
1   libSystem.B.dylib              	0x9000b1bc mach_msg + 60
2   com.apple.CoreFoundation       	0x907dbb78 __CFRunLoopRun + 832
3   com.apple.CoreFoundation       	0x907db47c CFRunLoopRunSpecific +  
268
4   com.apple.Foundation           	0x9296b69c +[NSURLConnection 
(NSURLConnectionInternal) _resourceLoadLoop:] + 264
5   com.apple.Foundation           	0x92944194 forkThreadForFunction  
+ 108
6   libSystem.B.dylib              	0x9002bc28 _pthread_body + 96

Thread 4:
0   libSystem.B.dylib              	0x9000b268 mach_msg_trap + 8
1   libSystem.B.dylib              	0x9000b1bc mach_msg + 60
2   com.apple.CoreFoundation       	0x907dbb78 __CFRunLoopRun + 832
3   com.apple.CoreFoundation       	0x907db47c CFRunLoopRunSpecific +  
268
4   com.apple.Foundation           	0x9296c7dc +[NSURLCache  
_diskCacheSyncLoop:] + 152
5   com.apple.Foundation           	0x92944194 forkThreadForFunction  
+ 108
6   libSystem.B.dylib              	0x9002bc28 _pthread_body + 96

Thread 5:
0   libSystem.B.dylib              	0x9000b268 mach_msg_trap + 8
1   libSystem.B.dylib              	0x9000b1bc mach_msg + 60
2   com.apple.CoreFoundation       	0x907dbb78 __CFRunLoopRun + 832
3   com.apple.CoreFoundation       	0x907db47c CFRunLoopRunSpecific +  
268
4   com.apple.Foundation           	0x92953164 -[NSRunLoop  
runMode:beforeDate:] + 172
5   com.apple.Foundation           	0x9295309c -[NSRunLoop run] + 76
6   com.apple.WebKit               	0x95a68f70 +[WebFileDatabase  
_syncLoop:] + 176
7   com.apple.Foundation           	0x92944194 forkThreadForFunction  
+ 108
8   libSystem.B.dylib              	0x9002bc28 _pthread_body + 96

Thread 6:
0   libSystem.B.dylib              	0x9002efac kevent + 12
1   com.apple.DesktopServices      	0x92858250  
TFSNotificationTask::FSNotificationTaskProc(void*) + 56
2   ...ple.CoreServices.CarbonCore 	0x90bc1900 PrivateMPEntryPoint + 76
3   libSystem.B.dylib              	0x9002bc28 _pthread_body + 96

Thread 7:
0   libSystem.B.dylib              	0x9002c2e8  
semaphore_wait_signal_trap + 8
1   libSystem.B.dylib              	0x90030dcc pthread_cond_wait + 480
2   ...ple.CoreServices.CarbonCore 	0x90bc1af0 MPWaitOnQueue + 224
3   com.apple.DesktopServices      	0x928588cc  
TNodeSyncTask::SyncTaskProc(void*) + 116
4   ...ple.CoreServices.CarbonCore 	0x90bc1900 PrivateMPEntryPoint + 76
5   libSystem.B.dylib              	0x9002bc28 _pthread_body + 96

Thread 0 crashed with PPC Thread State 64:
   srr0: 0x00000000fffeff30 srr1:  
0x100000000200f030                        vrsave: 0x0000000000000000
     cr: 0x44002428          xer: 0x0000000000000000   lr:  
0x00000000907bdfa0  ctr: 0xfffffffffffeff00
     r0: 0x0000000000502c98   r1: 0x00000000bfffaac0   r2:  
0x0000000000502c90   r3: 0x0000000015755620
     r4: 0x0000000090aa9aa0   r5: 0x0000000000000000   r6:  
0x00000000bfffaffc   r7: 0x0000000000000001
     r8: 0x0000000000000008   r9: 0x0000000080009a20  r10:  
0x0000000090a3c628  r11: 0x000000008a51bb60
    r12: 0x000000001b9b9480  r13: 0x0000000000000000  r14:  
0x0000000000000001  r15: 0x0000000000000000
    r16: 0x0000000000000000  r17: 0x000000001b9b41a0  r18:  
0x000000001b9b5180  r19: 0x000000001b9b2f70
    r20: 0x00000000a372eef4  r21: 0x00000000bfffaffc  r22:  
0x0000000000000000  r23: 0x0000000000000001
    r24: 0x00000000a07b9150  r25: 0x00000000bfffab00  r26:  
0x000000001b9b9d60  r27: 0x0000000000000001
    r28: 0x00000000bfffab00  r29: 0x00000000a07bb17c  r30:  
0x0000000000000001  r31: 0x00000000907bde44

Binary Images Description:
     0x1000 -    0x3efff org.R-project.R 1.16 (3198)	/Applications/ 
R.app/Contents/MacOS/R
   0x157000 -   0x162fff libgcc_s.1.0.dylib 	/Library/Frameworks/ 
R.framework/Versions/2.3/Resources/lib/libgcc_s.1.0.dylib
   0x305000 -   0x34bfff libgfortran.0.dylib 	/Library/Frameworks/ 
R.framework/Versions/2.3/Resources/lib/libgfortran.0.dylib
   0x41c000 -   0x45afff libreadline.5.1.dylib 	/Library/Frameworks/ 
R.framework/Versions/2.3/Resources/lib/libreadline.5.1.dylib
0x1008000 -  0x1210fff libR.dylib 	/Library/Frameworks/R.framework/ 
Versions/2.3/Resources/lib/libR.dylib
0x15c18000 - 0x15c1bfff methods.so 	/Library/Frameworks/R.framework/ 
Versions/2.3/Resources/library/methods/libs/ppc/methods.so
0x15cfc000 - 0x15d02fff com.apple.DictionaryServiceComponent 1.0.0	/ 
System/Library/Components/DictionaryService.component/Contents/MacOS/ 
DictionaryService
0x15d07000 - 0x15d0afff com.apple.ink.component 1.2 (63)	/System/ 
Library/Components/Ink.component/Contents/MacOS/Ink
0x15df8000 - 0x15e14fff grDevices.so 	/Library/Frameworks/R.framework/ 
Versions/2.3/Resources/library/grDevices/libs/ppc/grDevices.so
0x15ed4000 - 0x15f1afff stats.so 	/Library/Frameworks/R.framework/ 
Versions/2.3/Resources/library/stats/libs/ppc/stats.so
0x17c12000 - 0x17c14fff tools.so 	/Library/Frameworks/R.framework/ 
Versions/2.3/Resources/library/tools/libs/ppc/tools.so
0x8fe00000 - 0x8fe52fff dyld 45.3	/usr/lib/dyld
0x90000000 - 0x901bbfff libSystem.B.dylib 	/usr/lib/libSystem.B.dylib
0x90213000 - 0x90218fff libmathCommon.A.dylib 	/usr/lib/system/ 
libmathCommon.A.dylib
0x9021a000 - 0x90267fff com.apple.CoreText 1.0.2 (???)	/System/ 
Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/CoreText.framework/Versions/A/CoreText
0x90292000 - 0x90343fff ATS 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/ 
Versions/A/ATS
0x90372000 - 0x9072cfff com.apple.CoreGraphics 1.258.33 (???)	/System/ 
Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics
0x907b9000 - 0x90892fff com.apple.CoreFoundation 6.4.6 (368.27)	/ 
System/Library/Frameworks/CoreFoundation.framework/Versions/A/ 
CoreFoundation
0x908db000 - 0x908dbfff com.apple.CoreServices 10.4 (???)	/System/ 
Library/Frameworks/CoreServices.framework/Versions/A/CoreServices
0x908dd000 - 0x909dffff libicucore.A.dylib 	/usr/lib/libicucore.A.dylib
0x90a39000 - 0x90abdfff libobjc.A.dylib 	/usr/lib/libobjc.A.dylib
0x90ae7000 - 0x90b57fff com.apple.framework.IOKit 1.4 (???)	/System/ 
Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x90b6d000 - 0x90b7ffff libauto.dylib 	/usr/lib/libauto.dylib
0x90b86000 - 0x90e5dfff com.apple.CoreServices.CarbonCore 681.4	/ 
System/Library/Frameworks/CoreServices.framework/Versions/A/ 
Frameworks/CarbonCore.framework/Versions/A/CarbonCore
0x90ec3000 - 0x90f43fff com.apple.CoreServices.OSServices 4.1	/System/ 
Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/ 
OSServices.framework/Versions/A/OSServices
0x90f8d000 - 0x90fcefff com.apple.CFNetwork 4.0 (129.16)	/System/ 
Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/ 
CFNetwork.framework/Versions/A/CFNetwork
0x90fe3000 - 0x90ffbfff com.apple.WebServices 1.1.2 (1.1.0)	/System/ 
Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/ 
WebServicesCore.framework/Versions/A/WebServicesCore
0x9100b000 - 0x9108cfff com.apple.SearchKit 1.0.5	/System/Library/ 
Frameworks/CoreServices.framework/Versions/A/Frameworks/ 
SearchKit.framework/Versions/A/SearchKit
0x910d2000 - 0x910fcfff com.apple.Metadata 10.4.4 (121.36)	/System/ 
Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/ 
Metadata.framework/Versions/A/Metadata
0x9110d000 - 0x9111bfff libz.1.dylib 	/usr/lib/libz.1.dylib
0x9111e000 - 0x912d8fff com.apple.security 4.4 (27566)	/System/ 
Library/Frameworks/Security.framework/Versions/A/Security
0x913d6000 - 0x913dffff com.apple.DiskArbitration 2.1	/System/Library/ 
Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration
0x913e6000 - 0x9140efff com.apple.SystemConfiguration 1.8.3	/System/ 
Library/Frameworks/SystemConfiguration.framework/Versions/A/ 
SystemConfiguration
0x91421000 - 0x9142cfff libgcc_s.1.dylib 	/usr/lib/libgcc_s.1.dylib
0x91431000 - 0x91439fff libbsm.dylib 	/usr/lib/libbsm.dylib
0x9143d000 - 0x914b8fff com.apple.audio.CoreAudio 3.0.4	/System/ 
Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio
0x914f5000 - 0x914f5fff com.apple.ApplicationServices 10.4 (???)	/ 
System/Library/Frameworks/ApplicationServices.framework/Versions/A/ 
ApplicationServices
0x914f7000 - 0x9152ffff com.apple.AE 1.5 (297)	/System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
AE.framework/Versions/A/AE
0x9154a000 - 0x91617fff com.apple.ColorSync 4.4.4	/System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
ColorSync.framework/Versions/A/ColorSync
0x9166c000 - 0x916fdfff com.apple.print.framework.PrintCore 4.6  
(177.13)	/System/Library/Frameworks/ApplicationServices.framework/ 
Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore
0x91744000 - 0x917fbfff com.apple.QD 3.10.20 (???)	/System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
QD.framework/Versions/A/QD
0x91838000 - 0x91896fff com.apple.HIServices 1.5.3 (???)	/System/ 
Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/HIServices.framework/Versions/A/HIServices
0x918c5000 - 0x918e9fff com.apple.LangAnalysis 1.6.1	/System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
LangAnalysis.framework/Versions/A/LangAnalysis
0x918fd000 - 0x91922fff com.apple.FindByContent 1.5	/System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
FindByContent.framework/Versions/A/FindByContent
0x91935000 - 0x91977fff com.apple.LaunchServices 181	/System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
LaunchServices.framework/Versions/A/LaunchServices
0x91993000 - 0x919a7fff com.apple.speech.synthesis.framework 3.3	/ 
System/Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis
0x919b5000 - 0x919f5fff com.apple.ImageIO.framework 1.4.8	/System/ 
Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/ImageIO.framework/Versions/A/ImageIO
0x91a0b000 - 0x91ad3fff libcrypto.0.9.7.dylib 	/usr/lib/libcrypto. 
0.9.7.dylib
0x91b21000 - 0x91b36fff libcups.2.dylib 	/usr/lib/libcups.2.dylib
0x91b3b000 - 0x91b58fff libJPEG.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libJPEG.dylib
0x91b5d000 - 0x91bccfff libJP2.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libJP2.dylib
0x91be3000 - 0x91be7fff libGIF.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libGIF.dylib
0x91be9000 - 0x91c31fff libRaw.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libRaw.dylib
0x91c36000 - 0x91c73fff libTIFF.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libTIFF.dylib
0x91c7a000 - 0x91c93fff libPng.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libPng.dylib
0x91c98000 - 0x91c9bfff libRadiance.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libRadiance.dylib
0x91c9d000 - 0x91c9dfff com.apple.Accelerate 1.2.2 (Accelerate  
1.2.2)	/System/Library/Frameworks/Accelerate.framework/Versions/A/ 
Accelerate
0x91c9f000 - 0x91d84fff com.apple.vImage 2.4	/System/Library/ 
Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
vImage.framework/Versions/A/vImage
0x91d8c000 - 0x91dabfff com.apple.Accelerate.vecLib 3.2.2 (vecLib  
3.2.2)	/System/Library/Frameworks/Accelerate.framework/Versions/A/ 
Frameworks/vecLib.framework/Versions/A/vecLib
0x91e17000 - 0x91e85fff libvMisc.dylib 	/System/Library/Frameworks/ 
Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/ 
A/libvMisc.dylib
0x91e90000 - 0x91f25fff libvDSP.dylib 	/System/Library/Frameworks/ 
Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/ 
A/libvDSP.dylib
0x91f3f000 - 0x924c7fff libBLAS.dylib 	/System/Library/Frameworks/ 
Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/ 
A/libBLAS.dylib
0x924fa000 - 0x92825fff libLAPACK.dylib 	/System/Library/Frameworks/ 
Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/ 
A/libLAPACK.dylib
0x92855000 - 0x928ddfff com.apple.DesktopServices 1.3.4	/System/ 
Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/ 
DesktopServicesPriv
0x9291e000 - 0x92b49fff com.apple.Foundation 6.4.6 (567.27)	/System/ 
Library/Frameworks/Foundation.framework/Versions/C/Foundation
0x92c67000 - 0x92d45fff libxml2.2.dylib 	/usr/lib/libxml2.2.dylib
0x92d65000 - 0x92e53fff libiconv.2.dylib 	/usr/lib/libiconv.2.dylib
0x92e65000 - 0x92e83fff libGL.dylib 	/System/Library/Frameworks/ 
OpenGL.framework/Versions/A/Libraries/libGL.dylib
0x92e8e000 - 0x92ee8fff libGLU.dylib 	/System/Library/Frameworks/ 
OpenGL.framework/Versions/A/Libraries/libGLU.dylib
0x92f06000 - 0x92f06fff com.apple.Carbon 10.4 (???)	/System/Library/ 
Frameworks/Carbon.framework/Versions/A/Carbon
0x92f08000 - 0x92f1cfff com.apple.ImageCapture 3.0	/System/Library/ 
Frameworks/Carbon.framework/Versions/A/Frameworks/ 
ImageCapture.framework/Versions/A/ImageCapture
0x92f34000 - 0x92f44fff com.apple.speech.recognition.framework 3.4	/ 
System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
SpeechRecognition.framework/Versions/A/SpeechRecognition
0x92f50000 - 0x92f65fff com.apple.securityhi 2.0 (203)	/System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
SecurityHI.framework/Versions/A/SecurityHI
0x92f77000 - 0x92ffefff com.apple.ink.framework 101.2 (69)	/System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
Ink.framework/Versions/A/Ink
0x93012000 - 0x9301dfff com.apple.help 1.0.3 (32)	/System/Library/ 
Frameworks/Carbon.framework/Versions/A/Frameworks/Help.framework/ 
Versions/A/Help
0x93027000 - 0x93054fff com.apple.openscripting 1.2.5 (???)	/System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
OpenScripting.framework/Versions/A/OpenScripting
0x9306e000 - 0x9307efff com.apple.print.framework.Print 5.0 (190.1)	/ 
System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
Print.framework/Versions/A/Print
0x9308a000 - 0x930f0fff com.apple.htmlrendering 1.1.2	/System/Library/ 
Frameworks/Carbon.framework/Versions/A/Frameworks/ 
HTMLRendering.framework/Versions/A/HTMLRendering
0x93121000 - 0x93170fff com.apple.NavigationServices 3.4.4 (3.4.3)	/ 
System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
NavigationServices.framework/Versions/A/NavigationServices
0x9319e000 - 0x931bbfff com.apple.audio.SoundManager 3.9	/System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
CarbonSound.framework/Versions/A/CarbonSound
0x931cd000 - 0x931dafff com.apple.CommonPanels 1.2.2 (73)	/System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
CommonPanels.framework/Versions/A/CommonPanels
0x931e3000 - 0x934f0fff com.apple.HIToolbox 1.4.8 (???)	/System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
HIToolbox.framework/Versions/A/HIToolbox
0x9363f000 - 0x9364bfff com.apple.opengl 1.4.7	/System/Library/ 
Frameworks/OpenGL.framework/Versions/A/OpenGL
0x936e3000 - 0x93703fff libmx.A.dylib 	/usr/lib/libmx.A.dylib
0x93709000 - 0x93709fff com.apple.Cocoa 6.4 (???)	/System/Library/ 
Frameworks/Cocoa.framework/Versions/A/Cocoa
0x9370b000 - 0x93d3efff com.apple.AppKit 6.4.7 (824.41)	/System/ 
Library/Frameworks/AppKit.framework/Versions/C/AppKit
0x940cb000 - 0x9413bfff com.apple.CoreData 80	/System/Library/ 
Frameworks/CoreData.framework/Versions/A/CoreData
0x94174000 - 0x94237fff com.apple.audio.toolbox.AudioToolbox 1.4.3	/ 
System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox
0x94289000 - 0x94289fff com.apple.audio.units.AudioUnit 1.4	/System/ 
Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
0x9428b000 - 0x9443efff com.apple.QuartzCore 1.4.8	/System/Library/ 
Frameworks/QuartzCore.framework/Versions/A/QuartzCore
0x94491000 - 0x944cefff libsqlite3.0.dylib 	/usr/lib/libsqlite3.0.dylib
0x944d6000 - 0x94526fff libGLImage.dylib 	/System/Library/Frameworks/ 
OpenGL.framework/Versions/A/Libraries/libGLImage.dylib
0x946c9000 - 0x946d8fff libCGATS.A.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
CoreGraphics.framework/Versions/A/Resources/libCGATS.A.dylib
0x946e0000 - 0x946ecfff libCSync.A.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib
0x94732000 - 0x9474afff libRIP.A.dylib 	/System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib
0x95a66000 - 0x95af4fff com.apple.WebKit 418.8	/System/Library/ 
Frameworks/WebKit.framework/Versions/A/WebKit
0x95b50000 - 0x95be6fff com.apple.JavaScriptCore 418.3	/System/ 
Library/Frameworks/WebKit.framework/Versions/A/Frameworks/ 
JavaScriptCore.framework/Versions/A/JavaScriptCore
0x95c23000 - 0x95f2ffff com.apple.WebCore 418.20.1	/System/Library/ 
Frameworks/WebKit.framework/Versions/A/Frameworks/WebCore.framework/ 
Versions/A/WebCore
0x960b8000 - 0x960e1fff libxslt.1.dylib 	/usr/lib/libxslt.1.dylib
0x96422000 - 0x96424fff com.apple.ExceptionHandling 1.2 (???)	/System/ 
Library/Frameworks/ExceptionHandling.framework/Versions/A/ 
ExceptionHandling
0x96471000 - 0x96476fff com.apple.URLMount 2.1.3	/System/Library/ 
PrivateFrameworks/URLMount.framework/URLMount
0x97425000 - 0x97444fff com.apple.vecLib 3.2.2 (vecLib 3.2.2)	/System/ 
Library/Frameworks/vecLib.framework/Versions/A/vecLib


From ovitek at stat.purdue.edu  Fri Aug 11 03:33:40 2006
From: ovitek at stat.purdue.edu (Olga Vitek)
Date: Thu, 10 Aug 2006 21:33:40 -0400 (EDT)
Subject: [R-SIG-Mac] trouble running Bioconductor
In-Reply-To: <mailman.15.1125741602.29571.bioc-devel@stat.math.ethz.ch>
References: <mailman.15.1125741602.29571.bioc-devel@stat.math.ethz.ch>
Message-ID: <Pine.A41.4.58.0608102031210.164084@odds.stat.purdue.edu>

Dear All,

I am having difficulty running Limma: every time I run the code R
crashes, and I can't explain the reason for the problem. Could someone
point me out to where to look for trouble? I attach the code and the error
messages below.

Thanks a lot in advance!
Olga

ERROR MESSAGE:
---------------
 *** caught bus error ***
address 0x2c, cause 'invalid alignment'

Traceback:
 1: sum(out$residuals^2)
 2: lm.series(M, design = design, ndups = ndups, spacing = spacing,
weights = weights)
 3: lmFit(eset, design)
 4: NCOL(fit$coefficients)
 5: contrasts.fit(lmFit(eset, design), contr.matrix)
 6: ebayes(fit = fit, proportion = proportion, stdev.coef.lim =
stdev.coef.lim)
 7: eBayes(contrasts.fit(lmFit(eset, design), contr.matrix))


CODE:
------
makeFit <- function(eset) {
	design <- model.matrix(~0+factor(c(eset$stimulation)))
	dimnames(design)[[2]] <- c("Control", "Insulin")
	contr.matrix <- makeContrasts(Insulin-Control, levels=design)
	eBayes( contrasts.fit( lmFit(eset, design), contr.matrix ) )
}
limmaFit <- makeFit(data$eset)
rm(makeFullFit)

SPECS:
--------
Mac OS X V.10.4.7, 1GHz PowerPC G4, 1.25GB memory
R Version 2.3.1 (2006-06-01)
> package.version("Biobase")
[1] "1.10.1"
> package.version("limma")
[1] "2.7.9"


From khansen at stat.Berkeley.EDU  Fri Aug 11 10:25:39 2006
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Fri, 11 Aug 2006 01:25:39 -0700
Subject: [R-SIG-Mac] trouble running Bioconductor
In-Reply-To: <Pine.A41.4.58.0608102031210.164084@odds.stat.purdue.edu>
References: <mailman.15.1125741602.29571.bioc-devel@stat.math.ethz.ch>
	<Pine.A41.4.58.0608102031210.164084@odds.stat.purdue.edu>
Message-ID: <476575A8-9186-496C-A9C6-25B9A057CC84@stat.berkeley.edu>

Hmm, in case you installed Bioconductor from source, did you remember  
to install the version of GCC that ships with the CRAN version of R?  
That, or some other installation mishap is all I can think of.

Kasper

On Aug 10, 2006, at 6:33 PM, Olga Vitek wrote:

> Dear All,
>
> I am having difficulty running Limma: every time I run the code R
> crashes, and I can't explain the reason for the problem. Could someone
> point me out to where to look for trouble? I attach the code and  
> the error
> messages below.
>
> Thanks a lot in advance!
> Olga
>
> ERROR MESSAGE:
> ---------------
>  *** caught bus error ***
> address 0x2c, cause 'invalid alignment'
>
> Traceback:
>  1: sum(out$residuals^2)
>  2: lm.series(M, design = design, ndups = ndups, spacing = spacing,
> weights = weights)
>  3: lmFit(eset, design)
>  4: NCOL(fit$coefficients)
>  5: contrasts.fit(lmFit(eset, design), contr.matrix)
>  6: ebayes(fit = fit, proportion = proportion, stdev.coef.lim =
> stdev.coef.lim)
>  7: eBayes(contrasts.fit(lmFit(eset, design), contr.matrix))
>
>
> CODE:
> ------
> makeFit <- function(eset) {
> 	design <- model.matrix(~0+factor(c(eset$stimulation)))
> 	dimnames(design)[[2]] <- c("Control", "Insulin")
> 	contr.matrix <- makeContrasts(Insulin-Control, levels=design)
> 	eBayes( contrasts.fit( lmFit(eset, design), contr.matrix ) )
> }
> limmaFit <- makeFit(data$eset)
> rm(makeFullFit)
>
> SPECS:
> --------
> Mac OS X V.10.4.7, 1GHz PowerPC G4, 1.25GB memory
> R Version 2.3.1 (2006-06-01)
>> package.version("Biobase")
> [1] "1.10.1"
>> package.version("limma")
> [1] "2.7.9"
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ovitek at stat.purdue.edu  Fri Aug 11 18:09:43 2006
From: ovitek at stat.purdue.edu (Olga Vitek)
Date: Fri, 11 Aug 2006 12:09:43 -0400 (EDT)
Subject: [R-SIG-Mac] trouble running Bioconductor
In-Reply-To: <476575A8-9186-496C-A9C6-25B9A057CC84@stat.berkeley.edu>
References: <mailman.15.1125741602.29571.bioc-devel@stat.math.ethz.ch>
	<Pine.A41.4.58.0608102031210.164084@odds.stat.purdue.edu>
	<476575A8-9186-496C-A9C6-25B9A057CC84@stat.berkeley.edu>
Message-ID: <Pine.A41.4.58.0608111201290.29186@odds.stat.purdue.edu>

Hi Kasper,

Thanks a lot. I found what it was. The "bus error" apparently occurs when
a program tries to access an invalid memory address, e.g. in case of a
null pointer exception. When I created the eset data stucture, I used a
factor to assign dimnames of exprs(eset), and some <NA> were created. When
I corrected that it worked fine.

Sincerely
Olga


On Fri, 11 Aug 2006, Kasper Daniel Hansen wrote:

> Hmm, in case you installed Bioconductor from source, did you remember
> to install the version of GCC that ships with the CRAN version of R?
> That, or some other installation mishap is all I can think of.
>
> Kasper
>
> On Aug 10, 2006, at 6:33 PM, Olga Vitek wrote:
>
> > Dear All,
> >
> > I am having difficulty running Limma: every time I run the code R
> > crashes, and I can't explain the reason for the problem. Could someone
> > point me out to where to look for trouble? I attach the code and
> > the error
> > messages below.
> >
> > Thanks a lot in advance!
> > Olga
> >
> > ERROR MESSAGE:
> > ---------------
> >  *** caught bus error ***
> > address 0x2c, cause 'invalid alignment'
> >
> > Traceback:
> >  1: sum(out$residuals^2)
> >  2: lm.series(M, design = design, ndups = ndups, spacing = spacing,
> > weights = weights)
> >  3: lmFit(eset, design)
> >  4: NCOL(fit$coefficients)
> >  5: contrasts.fit(lmFit(eset, design), contr.matrix)
> >  6: ebayes(fit = fit, proportion = proportion, stdev.coef.lim =
> > stdev.coef.lim)
> >  7: eBayes(contrasts.fit(lmFit(eset, design), contr.matrix))
> >
> >
> > CODE:
> > ------
> > makeFit <- function(eset) {
> > 	design <- model.matrix(~0+factor(c(eset$stimulation)))
> > 	dimnames(design)[[2]] <- c("Control", "Insulin")
> > 	contr.matrix <- makeContrasts(Insulin-Control, levels=design)
> > 	eBayes( contrasts.fit( lmFit(eset, design), contr.matrix ) )
> > }
> > limmaFit <- makeFit(data$eset)
> > rm(makeFullFit)
> >
> > SPECS:
> > --------
> > Mac OS X V.10.4.7, 1GHz PowerPC G4, 1.25GB memory
> > R Version 2.3.1 (2006-06-01)
> >> package.version("Biobase")
> > [1] "1.10.1"
> >> package.version("limma")
> > [1] "2.7.9"
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at stat.math.ethz.ch
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From ellis at stat.harvard.edu  Sat Aug 12 02:33:36 2006
From: ellis at stat.harvard.edu (Byron Ellis)
Date: Fri, 11 Aug 2006 17:33:36 -0700
Subject: [R-SIG-Mac] Using TextMate to develop R packages
Message-ID: <185DB629-2499-474B-A9F9-6CE701C9216B@stat.harvard.edu>

Lately I've been using TextMate more and more for development so I  
thought I'd share a simple modification I've made to TextMate's R  
Bundle for actually building packages.

The first is the addition of the "Build As Package" command (I bound  
it to Shift-Cmd-B), set to return HTML

cd $TM_DIRECTORY
while [ `pwd` != "/" -a ! -e DESCRIPTION ]; do cd ..; done
if [ -e DESCRIPTION ]; then
export R_PACKAGE=`pwd`
cd ..
R CMD INSTALL $R_PACKAGE 2>&1 | "$TM_BUNDLE_SUPPORT/format_install.pl"
else
echo "<h1>No package to build</h1>"
fi

Basically, it looks at the current file. Searches up the tree until  
it finds the DESCRIPTION file and uses that as the root for the R  
package build.

format_install.pl is just a really really simple script to highlight  
compiler errors and warnings for myself,

#!/usr/bin/perl

my($dir) = $ENV{R_PACKAGE};

my(@dirs) = split(/\//,$dir);
my($package) = pop(@dirs);

print "<html><title>Building $package</title><body><h1>Building  
$package...</h1>";
while(<>) {
	chomp;
	my($color) = "black";
	$color = "goldenrod" if(/warning:/);
	$color = "red" if(/error:/);
	s|^([^:]+):(\d+):(.*)|<a style="color: $color;" href="txmt://open? 
url=file://$dir/src/$1&line=$2">$1:$2: $3</a>|;
	print "<p>$_</p>\n";
}
print"</body></html>"




---
Byron Ellis (ellis at stat.harvard.edu)
"Oook" -- The Librarian


From stvjc at channing.harvard.edu  Sun Aug 13 03:23:43 2006
From: stvjc at channing.harvard.edu (Vincent Carey 525-2265)
Date: Sat, 12 Aug 2006 21:23:43 -0400 (EDT)
Subject: [R-SIG-Mac] libtool issue with shlib for R;
	very latest R-devel on ppc 10.4.7
Message-ID: <Pine.GSO.4.58.0608122120290.12419@capecod.bwh.harvard.edu>



I am trying to build R-devel from source on a mac ppc G4

%vjc> uname -a
Darwin vincent-careys-powerbook-g4-12.local 8.7.0 Darwin Kernel Version 8.7.0: Fri May 26 15:20:53 PDT 2006; root:xnu-792.6.76.obj~1/RELEASE_PPC Power Macintosh powerpc

OSX version is 10.4.7

a previous version built with following sessioninfo

R version 2.4.0 Under development (unstable) (2006-07-16 r38625)
powerpc-apple-darwin8.7.0

locale:
C

now:

%vjc> svn up
At revision 38860.

i do configure --enable-R-shlib --enable-BLAS-shlib=no --with-tcltk

then it fails at


gcc -dynamiclib -Wl,-macosx_version_min -Wl,10.3 -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -install_name libR.dylib -compatibility_version 2.4.0  -current_version 2.4.0  -headerpad_max_install_names -o libR.dylib CConverters.o CommandLineArgs.o Rdynload.o Renviron.o RNG.o apply.o arithmetic.o apse.o array.o attrib.o base.o bind.o builtin.o character.o coerce.o colors.o complex.o connections.o context.o cov.o cum.o dcf.o datetime.o debug.o deparse.o deriv.o dotcode.o dounzip.o dstruct.o duplicate.o engine.o envir.o errors.o eval.o format.o fourier.o gevents.o gram.o gram-ex.o graphics.o identical.o internet.o iosupport.o lapack.o list.o localecharset.o logic.o main.o mapply.o match.o memory.o model.o names.o objects.o optim.o optimize.o options.o par.o paste.o pcre.o platform.o plot.o plot3d.o plotmath.o print.o printarray.o printvector.o printutils.o qsort.o random.o regex.o registration.o relop.o rlocale.o saveload.o scan.o seq.o serialize.o size.o sort.o source.o split.o sprintf.o startup.o subassign.o subscript.o subset.o summary.o sysutils.o unique.o util.o version.o vfonts.o xxxpr.o   `ls ../appl/*.o ../nmath/*.o ../unix/*.o  2>/dev/null|grep -v /ext-`  -L/usr/local/lib/gcc/powerpc-apple-darwin6.8/3.4.2 -lg2c -lSystem  ../extra/zlib/libz.a ../extra/bzip2/libbz2.a ../extra/pcre/libpcre.a  ../extra/intl/libintl.a  -Wl,-framework -Wl,CoreFoundation -lreadline  -lcc_dynamic -lm -liconv
/usr/bin/libtool: unknown option character `m' in: -macosx_version_min
Usage: /usr/bin/libtool -static [-] file [...] [-filelist listfile[,dirname]] [-arch_only arch] [-sacLT]

presumably i can get a build without --enable-R-shlib ...

any suggestions appreciated
vince


From simon.urbanek at r-project.org  Sun Aug 13 17:44:03 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 13 Aug 2006 09:44:03 -0600
Subject: [R-SIG-Mac] libtool issue with shlib for R;
	very latest R-devel on ppc 10.4.7
In-Reply-To: <Pine.GSO.4.58.0608122120290.12419@capecod.bwh.harvard.edu>
References: <Pine.GSO.4.58.0608122120290.12419@capecod.bwh.harvard.edu>
Message-ID: <AE628CE4-DF5B-443B-80B6-722D8FB8E6DA@r-project.org>

Vince,

please update your Xcode - your libtool is too old. The building  
process changed, but it requires more recent tools. I'll add  
corresponding check/warning and FAQ when I have a less flaky internet.

Cheers,
Simon

On Aug 12, 2006, at 7:23 PM, Vincent Carey 525-2265 wrote:

>
>
> I am trying to build R-devel from source on a mac ppc G4
>
> %vjc> uname -a
> Darwin vincent-careys-powerbook-g4-12.local 8.7.0 Darwin Kernel  
> Version 8.7.0: Fri May 26 15:20:53 PDT 2006;  
> root:xnu-792.6.76.obj~1/RELEASE_PPC Power Macintosh powerpc
>
> OSX version is 10.4.7
>
> a previous version built with following sessioninfo
>
> R version 2.4.0 Under development (unstable) (2006-07-16 r38625)
> powerpc-apple-darwin8.7.0
>
> locale:
> C
>
> now:
>
> %vjc> svn up
> At revision 38860.
>
> i do configure --enable-R-shlib --enable-BLAS-shlib=no --with-tcltk
>
> then it fails at
>
>
> gcc -dynamiclib -Wl,-macosx_version_min -Wl,10.3 -undefined  
> dynamic_lookup -single_module -multiply_defined suppress -L/usr/ 
> local/lib -install_name libR.dylib -compatibility_version 2.4.0  - 
> current_version 2.4.0  -headerpad_max_install_names -o libR.dylib  
> CConverters.o CommandLineArgs.o Rdynload.o Renviron.o RNG.o apply.o  
> arithmetic.o apse.o array.o attrib.o base.o bind.o builtin.o  
> character.o coerce.o colors.o complex.o connections.o context.o  
> cov.o cum.o dcf.o datetime.o debug.o deparse.o deriv.o dotcode.o  
> dounzip.o dstruct.o duplicate.o engine.o envir.o errors.o eval.o  
> format.o fourier.o gevents.o gram.o gram-ex.o graphics.o  
> identical.o internet.o iosupport.o lapack.o list.o localecharset.o  
> logic.o main.o mapply.o match.o memory.o model.o names.o objects.o  
> optim.o optimize.o options.o par.o paste.o pcre.o platform.o plot.o  
> plot3d.o plotmath.o print.o printarray.o printvector.o printutils.o  
> qsort.o random.o regex.o registration.o relop.o rlocale.o  
> saveload.o scan.o seq.o s!
>  erialize.o size.o sort.o source.o split.o sprintf.o startup.o  
> subassign.o subscript.o subset.o summary.o sysutils.o unique.o  
> util.o version.o vfonts.o xxxpr.o   `ls ../appl/*.o ../nmath/*.o ../ 
> unix/*.o  2>/dev/null|grep -v /ext-`  -L/usr/local/lib/gcc/powerpc- 
> apple-darwin6.8/3.4.2 -lg2c -lSystem  ../extra/zlib/libz.a ../extra/ 
> bzip2/libbz2.a ../extra/pcre/libpcre.a  ../extra/intl/libintl.a  - 
> Wl,-framework -Wl,CoreFoundation -lreadline  -lcc_dynamic -lm -liconv
> /usr/bin/libtool: unknown option character `m' in: -macosx_version_min
> Usage: /usr/bin/libtool -static [-] file [...] [-filelist listfile 
> [,dirname]] [-arch_only arch] [-sacLT]
>
> presumably i can get a build without --enable-R-shlib ...
>
> any suggestions appreciated
> vince
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From roger at ysidro.econ.uiuc.edu  Sun Aug 13 15:35:22 2006
From: roger at ysidro.econ.uiuc.edu (roger koenker)
Date: Sun, 13 Aug 2006 08:35:22 -0500
Subject: [R-SIG-Mac] libtool issue with shlib for R;
	very latest R-devel on ppc 10.4.7
In-Reply-To: <Pine.GSO.4.58.0608122120290.12419@capecod.bwh.harvard.edu>
References: <Pine.GSO.4.58.0608122120290.12419@capecod.bwh.harvard.edu>
Message-ID: <E684BCF8-619E-4EE4-8467-609A1EF02D85@ysidro.econ.uiuc.edu>

Vince,

I had the same problem yesterday.  After upgrading xcode to v2.4,
as suggested by Brian and Simon on the R-devel group,
the usual ./configure  and make work fine.  For the record I was
v2.0 of xcode prior to the upgrade.


url:    www.econ.uiuc.edu/~roger                Roger Koenker
email   rkoenker at uiuc.edu                       Department of Economics
vox:    217-333-4558                            University of Illinois
fax:    217-244-6678                            Champaign, IL 61820


On Aug 12, 2006, at 8:23 PM, Vincent Carey 525-2265 wrote:

>
>
> I am trying to build R-devel from source on a mac ppc G4
>
> %vjc> uname -a
> Darwin vincent-careys-powerbook-g4-12.local 8.7.0 Darwin Kernel  
> Version 8.7.0: Fri May 26 15:20:53 PDT 2006;  
> root:xnu-792.6.76.obj~1/RELEASE_PPC Power Macintosh powerpc
>
> OSX version is 10.4.7
>
> a previous version built with following sessioninfo
>
> R version 2.4.0 Under development (unstable) (2006-07-16 r38625)
> powerpc-apple-darwin8.7.0
>
> locale:
> C
>
> now:
>
> %vjc> svn up
> At revision 38860.
>
> i do configure --enable-R-shlib --enable-BLAS-shlib=no --with-tcltk
>
> then it fails at
>
>
> gcc -dynamiclib -Wl,-macosx_version_min -Wl,10.3 -undefined  
> dynamic_lookup -single_module -multiply_defined suppress -L/usr/ 
> local/lib -install_name libR.dylib -compatibility_version 2.4.0  - 
> current_version 2.4.0  -headerpad_max_install_names -o libR.dylib  
> CConverters.o CommandLineArgs.o Rdynload.o Renviron.o RNG.o apply.o  
> arithmetic.o apse.o array.o attrib.o base.o bind.o builtin.o  
> character.o coerce.o colors.o complex.o connections.o context.o  
> cov.o cum.o dcf.o datetime.o debug.o deparse.o deriv.o dotcode.o  
> dounzip.o dstruct.o duplicate.o engine.o envir.o errors.o eval.o  
> format.o fourier.o gevents.o gram.o gram-ex.o graphics.o  
> identical.o internet.o iosupport.o lapack.o list.o localecharset.o  
> logic.o main.o mapply.o match.o memory.o model.o names.o objects.o  
> optim.o optimize.o options.o par.o paste.o pcre.o platform.o plot.o  
> plot3d.o plotmath.o print.o printarray.o printvector.o printutils.o  
> qsort.o random.o regex.o registration.o relop.o rlocale.o  
> saveload.o scan.o seq.o s!
>  erialize.o size.o sort.o source.o split.o sprintf.o startup.o  
> subassign.o subscript.o subset.o summary.o sysutils.o unique.o  
> util.o version.o vfonts.o xxxpr.o   `ls ../appl/*.o ../nmath/*.o ../ 
> unix/*.o  2>/dev/null|grep -v /ext-`  -L/usr/local/lib/gcc/powerpc- 
> apple-darwin6.8/3.4.2 -lg2c -lSystem  ../extra/zlib/libz.a ../extra/ 
> bzip2/libbz2.a ../extra/pcre/libpcre.a  ../extra/intl/libintl.a  - 
> Wl,-framework -Wl,CoreFoundation -lreadline  -lcc_dynamic -lm -liconv
> /usr/bin/libtool: unknown option character `m' in: -macosx_version_min
> Usage: /usr/bin/libtool -static [-] file [...] [-filelist listfile 
> [,dirname]] [-arch_only arch] [-sacLT]
>
> presumably i can get a build without --enable-R-shlib ...
>
> any suggestions appreciated
> vince
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From j.ahumada at conservation.org  Sun Aug 13 21:54:41 2006
From: j.ahumada at conservation.org (Jorge A. Ahumada)
Date: Sun, 13 Aug 2006 15:54:41 -0400
Subject: [R-SIG-Mac] Weird problem redirecting lattice graph to a file
Message-ID: <C104FBC1.50CA%jahumada@ci.conservation.org>

Hello,

I am having this weird issue where I cannot send a lattice graph to a device
like pdf() or png(), but this only happens when the statement is inside a
function. For example, this works:

> a <- matrix(0,5,5)
> pdf("test.pdf")
> levelplot(a)
> dev.off()

But now, put the last three statements in a function (F(a)) and the pdf is
not produced. I tried replacing pdf with
trellis.device(device="pdf",file="test.pdf") and it still does not work.

Funny thing is that plot() or image() will work inside a function as
expected when re-directing to other devices, but not any of the lattice
functions.

Any ideas?

Thanks,

Jorge
-- 
Jorge A. Ahumada, Ph.D.
Technical Director, TEAM
Center for Applied Biodiversity Science
Conservation International
1919 M Street, NW Suite 600
Washington, DC 20036-3521
Ph: 202-912-1516

j.ahumada at conservation.org
http://www.teaminitiative.org/


From jago at mclink.it  Mon Aug 14 10:38:32 2006
From: jago at mclink.it (stefano iacus)
Date: Mon, 14 Aug 2006 10:38:32 +0200
Subject: [R-SIG-Mac] libtool issue with shlib for R;
	very latest R-devel on ppc 10.4.7
In-Reply-To: <Pine.GSO.4.58.0608122120290.12419@capecod.bwh.harvard.edu>
References: <Pine.GSO.4.58.0608122120290.12419@capecod.bwh.harvard.edu>
Message-ID: <9E7815A7-49A1-4A33-9435-2A482C1EDFDE@mclink.it>

Hi Vince,
you need latest apple dev tools.
stefano
On 13/ago/06, at 03:23, Vincent Carey 525-2265 wrote:

>
>
> I am trying to build R-devel from source on a mac ppc G4
>
> %vjc> uname -a
> Darwin vincent-careys-powerbook-g4-12.local 8.7.0 Darwin Kernel  
> Version 8.7.0: Fri May 26 15:20:53 PDT 2006;  
> root:xnu-792.6.76.obj~1/RELEASE_PPC Power Macintosh powerpc
>
> OSX version is 10.4.7
>
> a previous version built with following sessioninfo
>
> R version 2.4.0 Under development (unstable) (2006-07-16 r38625)
> powerpc-apple-darwin8.7.0
>
> locale:
> C
>
> now:
>
> %vjc> svn up
> At revision 38860.
>
> i do configure --enable-R-shlib --enable-BLAS-shlib=no --with-tcltk
>
> then it fails at
>
>
> gcc -dynamiclib -Wl,-macosx_version_min -Wl,10.3 -undefined  
> dynamic_lookup -single_module -multiply_defined suppress -L/usr/ 
> local/lib -install_name libR.dylib -compatibility_version 2.4.0  - 
> current_version 2.4.0  -headerpad_max_install_names -o libR.dylib  
> CConverters.o CommandLineArgs.o Rdynload.o Renviron.o RNG.o apply.o  
> arithmetic.o apse.o array.o attrib.o base.o bind.o builtin.o  
> character.o coerce.o colors.o complex.o connections.o context.o  
> cov.o cum.o dcf.o datetime.o debug.o deparse.o deriv.o dotcode.o  
> dounzip.o dstruct.o duplicate.o engine.o envir.o errors.o eval.o  
> format.o fourier.o gevents.o gram.o gram-ex.o graphics.o  
> identical.o internet.o iosupport.o lapack.o list.o localecharset.o  
> logic.o main.o mapply.o match.o memory.o model.o names.o objects.o  
> optim.o optimize.o options.o par.o paste.o pcre.o platform.o plot.o  
> plot3d.o plotmath.o print.o printarray.o printvector.o printutils.o  
> qsort.o random.o regex.o registration.o relop.o rlocale.o  
> saveload.o scan.o seq.o s!
>  erialize.o size.o sort.o source.o split.o sprintf.o startup.o  
> subassign.o subscript.o subset.o summary.o sysutils.o unique.o  
> util.o version.o vfonts.o xxxpr.o   `ls ../appl/*.o ../nmath/*.o ../ 
> unix/*.o  2>/dev/null|grep -v /ext-`  -L/usr/local/lib/gcc/powerpc- 
> apple-darwin6.8/3.4.2 -lg2c -lSystem  ../extra/zlib/libz.a ../extra/ 
> bzip2/libbz2.a ../extra/pcre/libpcre.a  ../extra/intl/libintl.a  - 
> Wl,-framework -Wl,CoreFoundation -lreadline  -lcc_dynamic -lm -liconv
> /usr/bin/libtool: unknown option character `m' in: -macosx_version_min
> Usage: /usr/bin/libtool -static [-] file [...] [-filelist listfile 
> [,dirname]] [-arch_only arch] [-sacLT]
>
> presumably i can get a build without --enable-R-shlib ...
>
> any suggestions appreciated
> vince
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From john.maindonald at anu.edu.au  Mon Aug 14 11:53:24 2006
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Mon, 14 Aug 2006 19:53:24 +1000
Subject: [R-SIG-Mac] Weird problem redirecting lattice graph to a file
In-Reply-To: <C104FBC1.50CA%jahumada@ci.conservation.org>
References: <C104FBC1.50CA%jahumada@ci.conservation.org>
Message-ID: <2D442C76-28A0-4A9D-B288-5107E52B9B36@anu.edu.au>

Replace levelplot(a) by print(levelplot(a)) and you
should be fine.  Lattice functions return a trellis
object which has to be explicitly printed.  If you
type levelplot(a) on the command line, there is
an implicit call to print(), which has the desired
effect.

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.


On 14 Aug 2006, at 5:54 AM, Jorge A. Ahumada wrote:

> Hello,
>
> I am having this weird issue where I cannot send a lattice graph to  
> a device
> like pdf() or png(), but this only happens when the statement is  
> inside a
> function. For example, this works:
>
>> a <- matrix(0,5,5)
>> pdf("test.pdf")
>> levelplot(a)
>> dev.off()
>
> But now, put the last three statements in a function (F(a)) and the  
> pdf is
> not produced. I tried replacing pdf with
> trellis.device(device="pdf",file="test.pdf") and it still does not  
> work.
>
> Funny thing is that plot() or image() will work inside a function as
> expected when re-directing to other devices, but not any of the  
> lattice
> functions.
>
> Any ideas?
>
> Thanks,
>
> Jorge
> -- 
> Jorge A. Ahumada, Ph.D.
> Technical Director, TEAM
> Center for Applied Biodiversity Science
> Conservation International
> 1919 M Street, NW Suite 600
> Washington, DC 20036-3521
> Ph: 202-912-1516
>
> j.ahumada at conservation.org
> http://www.teaminitiative.org/
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From tlumley at u.washington.edu  Mon Aug 14 16:18:07 2006
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 14 Aug 2006 07:18:07 -0700 (PDT)
Subject: [R-SIG-Mac] Weird problem redirecting lattice graph to a file
In-Reply-To: <C104FBC1.50CA%jahumada@ci.conservation.org>
References: <C104FBC1.50CA%jahumada@ci.conservation.org>
Message-ID: <Pine.LNX.4.64.0608140717270.15435@homer23.u.washington.edu>

On Sun, 13 Aug 2006, Jorge A. Ahumada wrote:

> Hello,
>
> I am having this weird issue where I cannot send a lattice graph to a device
> like pdf() or png(), but this only happens when the statement is inside a
> function. For example, this works:

It's a FAQ.

    7.22 Why do lattice/trellis graphics not work?


 	-thomas


>> a <- matrix(0,5,5)
>> pdf("test.pdf")
>> levelplot(a)
>> dev.off()
>
> But now, put the last three statements in a function (F(a)) and the pdf is
> not produced. I tried replacing pdf with
> trellis.device(device="pdf",file="test.pdf") and it still does not work.
>
> Funny thing is that plot() or image() will work inside a function as
> expected when re-directing to other devices, but not any of the lattice
> functions.
>
> Any ideas?
>
> Thanks,
>
> Jorge
> -- 
> Jorge A. Ahumada, Ph.D.
> Technical Director, TEAM
> Center for Applied Biodiversity Science
> Conservation International
> 1919 M Street, NW Suite 600
> Washington, DC 20036-3521
> Ph: 202-912-1516
>
> j.ahumada at conservation.org
> http://www.teaminitiative.org/
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

Thomas Lumley			Assoc. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


From jpu at apple.com  Tue Aug 15 06:51:04 2006
From: jpu at apple.com (Jia Pu)
Date: Mon, 14 Aug 2006 21:51:04 -0700
Subject: [R-SIG-Mac] print panel bug in GUI?
Message-ID: <3898B7B2-8A69-4261-855E-C27B9020BD92@apple.com>

I am using Version 1.16 (3198).

When I click print in "File" menu, a print panel shows up and a  
"Print" item appears in "Windows" menu. Then, when I use either  
"Cancel" or "Print" to close the panel, the "Print" item persists in  
"Windows" menu. So if I print 10 times, there will be 10 "Print" items  
in "Windows" menu.

Now, if I choose one of those bogus "Print" items, an item panel shows  
up. However, none of its buttons responses to my clicking.


From diez at kuicr.kyoto-u.ac.jp  Tue Aug 15 08:21:31 2006
From: diez at kuicr.kyoto-u.ac.jp (Diego Diez)
Date: Tue, 15 Aug 2006 15:21:31 +0900
Subject: [R-SIG-Mac] tkrplot failure to load
Message-ID: <7A225771-B64F-402F-BE22-9CE457116065@kuicr.kyoto-u.ac.jp>

Hello, Im having problems loading the tkrplot package in MacOSX and  
found a workaround, though I dont know how to make a "generic" patch  
for all platforms. Here is some info:

 > library(tkrplot)
Loading required package: tcltk
Loading Tcl/Tk interface ... done
Error in structure(.External("dotTcl", ..., PACKAGE = "tcltk"), class  
= "tclObj") :
	[tcl] image not found
NSCreateObjectFileImageFromFile() error: not a Mach-O MH_BUNDLE file.
Error in library(tkrplot) : .First.lib failed for 'tkrplot'
 > sessionInfo()
Version 2.3.1 (2006-06-01)
powerpc-apple-darwin8.6.0

attached base packages:
[1] "tcltk"     "methods"   "stats"     "graphics"  "grDevices"  
"utils"     "datasets"
[8] "base"


The tkrplot packages is installed in the following directory:

/Library/Frameworks/R.framework/Resources/library/tkrplot

with the relevant files being:

/Library/Frameworks/R.framework/Resources/library/tkrplot/R/tkrplot
/Library/Frameworks/R.framework/Resources/library/tkrplot/libs/ppc/ 
tkrplot.so

in tkrplot file:

.First.lib <- function(lib, pkg) {
     if (! .Tkrplot.loaded) {
         chname<-"tkrplot"
         file.ext <- .Platform$dynlib.ext
         path <- file.path("libs", paste(chname, file.ext, sep = ""))
         file <- system.file(path, package = pkg, lib.loc = lib)[1]
         .Tcl(paste("load", file, "Rplot"))
         .Tkrplot.loaded <<- TRUE
     }
}

it fails because the "file" variable returns "". This is because  
"path" variable is "../libs/tkrplot.so" and it should be "../libs/ppc/ 
tkrplot.so". If I make this change:

chname<-"tkrplot"
-----------------
chname<-"ppc/tkrplot"

then it works fine:

 > library(tkrplot)
Loading required package: tcltk
Loading Tcl/Tk interface ... done


I don't know if the file tkrplot.so should be under "libs" directory  
instead of "ppc/libs" or if the call to .First.lib should take into  
account the architecture.

By the way, this "patch" works.

Best.

Diego.


From bibiko at eva.mpg.de  Tue Aug 15 11:26:09 2006
From: bibiko at eva.mpg.de (Hans-Joerg Bibiko)
Date: Tue, 15 Aug 2006 11:26:09 +0200
Subject: [R-SIG-Mac] Question on .Options$max.print - print/cat extremely
	long strings on a screen
Message-ID: <36424DD5-1282-455C-A0E3-B5BC45D27D46@eva.mpg.de>

Dear list members,



My problem is the following:
(R 2.3.1 on Mac OS X 10.4.7 RAM 1GByte using Mac GUI)

I have a function like this:

foo1 <- function()
{
	out <- NULL
	for(i in 1:10010) out <- paste(out, i, ". line\n", sep="")
	return(out)	
}
a <- foo1()

Now I want to display 'a' on the screen:

cat(a)

This doesn't work. 'a' is displayed only until '830. line'

print(a)

The same, 'a' is displayed only until '\n754. line\n755'.

cat(a, file='test.txt') # OK
works fine. That means, internally 'a' is fine.


Then I tried this way:

foo2 <- function()
{
	out <- NULL
	for(i in 1:10010) out <- c(out, paste(i, ". line", sep=""))
	return(out)	
}
a <- foo2()

With

cat(a,sep="\n")
I see the complete content of 'a'.

paste(a, collapse = "\n")
I only see 'a' until '\n754. line\n755'.

cat(paste(a, collapse ="\n"))
I only see 'a' until '830. line'.

cat(paste(a, collapse ="\n"),file='test.txt')
This is OK.


My question now is whether there is an option to specifiy the maximum  
size of a string which is displayed on the screen (running R in a  
GUI)? Or is this fixed?

I read the help page about '.Options' and I found a variable  
'max.print' with the comment that is not yet used in basic R.
I don't know whether this variable is responsible for that. I  
increased 'max.print' but nothing changed.

##########
If I try this code on a Windows XP machine with 756 MByte RAM R-GUI  
says after executing

foo1 <- function()
{
	out <- NULL
	for(i in 1:10010) out <- paste(out, i, ". line\n", sep="")
	return(out)	
}
a <- foo1()
cat(a)

...
7548. lineWarning message:
printing of extremely long output is truncated

At least Windows writes a warning message.

###########
If I start a R session without the R-GUI via Mac Terminal typing 'R'

a<-foo1()
cat(a)

everything works perfectly!!!


I know the issue of outputting long strings and the way to display  
long strings via foo2() would be ok for me, but I spent some time to  
figure out why my function foo1() didn't work. R, running in GUI on  
Mac, don't give you a warning. Now I know that if I print a long  
string at the Mac-GUI-console the missing final quote character is an  
indicator for a truncated output on a Mac. Maybe it would be nice to  
output a warning(?)

Cheers,

Hans


From luke at stat.uiowa.edu  Tue Aug 15 13:14:56 2006
From: luke at stat.uiowa.edu (Luke Tierney)
Date: Tue, 15 Aug 2006 06:14:56 -0500 (CDT)
Subject: [R-SIG-Mac] tkrplot failure to load
In-Reply-To: <7A225771-B64F-402F-BE22-9CE457116065@kuicr.kyoto-u.ac.jp>
References: <7A225771-B64F-402F-BE22-9CE457116065@kuicr.kyoto-u.ac.jp>
Message-ID: <Pine.LNX.4.64.0608150612470.8125@itasca2.wildberry.org>

Thanks.  A more complete fix, suggested to me off list, is to use
.Platform$r_arch rather than hard-coding ppc.  New version should be
on cran before too long.

Best,

luke

On Tue, 15 Aug 2006, Diego Diez wrote:

> Hello, Im having problems loading the tkrplot package in MacOSX and
> found a workaround, though I dont know how to make a "generic" patch
> for all platforms. Here is some info:
>
> > library(tkrplot)
> Loading required package: tcltk
> Loading Tcl/Tk interface ... done
> Error in structure(.External("dotTcl", ..., PACKAGE = "tcltk"), class
> = "tclObj") :
> 	[tcl] image not found
> NSCreateObjectFileImageFromFile() error: not a Mach-O MH_BUNDLE file.
> Error in library(tkrplot) : .First.lib failed for 'tkrplot'
> > sessionInfo()
> Version 2.3.1 (2006-06-01)
> powerpc-apple-darwin8.6.0
>
> attached base packages:
> [1] "tcltk"     "methods"   "stats"     "graphics"  "grDevices"
> "utils"     "datasets"
> [8] "base"
>
>
> The tkrplot packages is installed in the following directory:
>
> /Library/Frameworks/R.framework/Resources/library/tkrplot
>
> with the relevant files being:
>
> /Library/Frameworks/R.framework/Resources/library/tkrplot/R/tkrplot
> /Library/Frameworks/R.framework/Resources/library/tkrplot/libs/ppc/
> tkrplot.so
>
> in tkrplot file:
>
> .First.lib <- function(lib, pkg) {
>     if (! .Tkrplot.loaded) {
>         chname<-"tkrplot"
>         file.ext <- .Platform$dynlib.ext
>         path <- file.path("libs", paste(chname, file.ext, sep = ""))
>         file <- system.file(path, package = pkg, lib.loc = lib)[1]
>         .Tcl(paste("load", file, "Rplot"))
>         .Tkrplot.loaded <<- TRUE
>     }
> }
>
> it fails because the "file" variable returns "". This is because
> "path" variable is "../libs/tkrplot.so" and it should be "../libs/ppc/
> tkrplot.so". If I make this change:
>
> chname<-"tkrplot"
> -----------------
> chname<-"ppc/tkrplot"
>
> then it works fine:
>
> > library(tkrplot)
> Loading required package: tcltk
> Loading Tcl/Tk interface ... done
>
>
> I don't know if the file tkrplot.so should be under "libs" directory
> instead of "ppc/libs" or if the call to .First.lib should take into
> account the architecture.
>
> By the way, this "patch" works.
>
> Best.
>
> Diego.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Luke Tierney
Chair, Statistics and Actuarial Science
Ralph E. Wareham Professor of Mathematical Sciences
University of Iowa                  Phone:             319-335-3386
Department of Statistics and        Fax:               319-335-3017
    Actuarial Science
241 Schaeffer Hall                  email:      luke at stat.uiowa.edu
Iowa City, IA 52242                 WWW:  http://www.stat.uiowa.edu


From rkoenker at uiuc.edu  Tue Aug 15 15:15:15 2006
From: rkoenker at uiuc.edu (roger koenker)
Date: Tue, 15 Aug 2006 08:15:15 -0500
Subject: [R-SIG-Mac] libtool issue with shlib for R;
	very latest R-devel on ppc 10.4.7
In-Reply-To: <E684BCF8-619E-4EE4-8467-609A1EF02D85@ysidro.econ.uiuc.edu>
References: <Pine.GSO.4.58.0608122120290.12419@capecod.bwh.harvard.edu>
	<E684BCF8-619E-4EE4-8467-609A1EF02D85@ysidro.econ.uiuc.edu>
Message-ID: <92F7C7BA-965F-42DA-A573-96E0734E2BD0@uiuc.edu>

My optimistic take on this now appears somewhat premature.  While it is
true that R-devel built using xcode 2.4 I'm still having trouble making
some packages from source, e.g. Matrix and quantreg,   The former
dies after considerable compilation effort:

ld: warning can't open dynamic library: libR.dylib referenced from: / 
Library/Frameworks/R.framework/Resources/lib/libRlapack.dylib  
(checking for undefined symbols may be affected) (No such file or  
directory, errno = 2)
ld: Undefined symbols:
_xerbla_ referenced from libRlapack expected to be defined in libR.dylib
/usr/bin/libtool: internal link edit command failed
make: *** [Matrix.so] Error 1
ERROR: compilation failed for package 'Matrix'

and the  latter (as reported yesterday on the R-devel group) with
many messages about multiply defined symbols.

Any suggestions would be very welcome.

url:    www.econ.uiuc.edu/~roger            Roger Koenker
email    rkoenker at uiuc.edu            Department of Economics
vox:     217-333-4558                University of Illinois
fax:       217-244-6678                Champaign, IL 61820


On Aug 13, 2006, at 8:35 AM, roger koenker wrote:

> Vince,
>
> I had the same problem yesterday.  After upgrading xcode to v2.4,
> as suggested by Brian and Simon on the R-devel group,
> the usual ./configure  and make work fine.  For the record I was
> v2.0 of xcode prior to the upgrade.
>
>
> url:    www.econ.uiuc.edu/~roger                Roger Koenker
> email   rkoenker at uiuc.edu                       Department of  
> Economics
> vox:    217-333-4558                            University of Illinois
> fax:    217-244-6678                            Champaign, IL 61820
>
>
> On Aug 12, 2006, at 8:23 PM, Vincent Carey 525-2265 wrote:
>
>>
>>
>> I am trying to build R-devel from source on a mac ppc G4
>>
>> %vjc> uname -a
>> Darwin vincent-careys-powerbook-g4-12.local 8.7.0 Darwin Kernel
>> Version 8.7.0: Fri May 26 15:20:53 PDT 2006;
>> root:xnu-792.6.76.obj~1/RELEASE_PPC Power Macintosh powerpc
>>
>> OSX version is 10.4.7
>>
>> a previous version built with following sessioninfo
>>
>> R version 2.4.0 Under development (unstable) (2006-07-16 r38625)
>> powerpc-apple-darwin8.7.0
>>
>> locale:
>> C
>>
>> now:
>>
>> %vjc> svn up
>> At revision 38860.
>>
>> i do configure --enable-R-shlib --enable-BLAS-shlib=no --with-tcltk
>>
>> then it fails at
>>
>>
>> gcc -dynamiclib -Wl,-macosx_version_min -Wl,10.3 -undefined
>> dynamic_lookup -single_module -multiply_defined suppress -L/usr/
>> local/lib -install_name libR.dylib -compatibility_version 2.4.0  -
>> current_version 2.4.0  -headerpad_max_install_names -o libR.dylib
>> CConverters.o CommandLineArgs.o Rdynload.o Renviron.o RNG.o apply.o
>> arithmetic.o apse.o array.o attrib.o base.o bind.o builtin.o
>> character.o coerce.o colors.o complex.o connections.o context.o
>> cov.o cum.o dcf.o datetime.o debug.o deparse.o deriv.o dotcode.o
>> dounzip.o dstruct.o duplicate.o engine.o envir.o errors.o eval.o
>> format.o fourier.o gevents.o gram.o gram-ex.o graphics.o
>> identical.o internet.o iosupport.o lapack.o list.o localecharset.o
>> logic.o main.o mapply.o match.o memory.o model.o names.o objects.o
>> optim.o optimize.o options.o par.o paste.o pcre.o platform.o plot.o
>> plot3d.o plotmath.o print.o printarray.o printvector.o printutils.o
>> qsort.o random.o regex.o registration.o relop.o rlocale.o
>> saveload.o scan.o seq.o s!
>>  erialize.o size.o sort.o source.o split.o sprintf.o startup.o
>> subassign.o subscript.o subset.o summary.o sysutils.o unique.o
>> util.o version.o vfonts.o xxxpr.o   `ls ../appl/*.o ../nmath/*.o ../
>> unix/*.o  2>/dev/null|grep -v /ext-`  -L/usr/local/lib/gcc/powerpc-
>> apple-darwin6.8/3.4.2 -lg2c -lSystem  ../extra/zlib/libz.a ../extra/
>> bzip2/libbz2.a ../extra/pcre/libpcre.a  ../extra/intl/libintl.a  -
>> Wl,-framework -Wl,CoreFoundation -lreadline  -lcc_dynamic -lm -liconv
>> /usr/bin/libtool: unknown option character `m' in: - 
>> macosx_version_min
>> Usage: /usr/bin/libtool -static [-] file [...] [-filelist listfile
>> [,dirname]] [-arch_only arch] [-sacLT]
>>
>> presumably i can get a build without --enable-R-shlib ...
>>
>> any suggestions appreciated
>> vince
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From Alexander.Ploner at meb.ki.se  Tue Aug 15 18:01:23 2006
From: Alexander.Ploner at meb.ki.se (Alexander Ploner)
Date: Tue, 15 Aug 2006 18:01:23 +0200
Subject: [R-SIG-Mac] Summary: Compiling ROracle on OSX 10.4.7/R 2.3.1
Message-ID: <155779D1-5F1C-4910-9573-B55665D0019D@meb.ki.se>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060815/88ab1241/attachment.pl 

From eakasit.pac at biotec.or.th  Wed Aug 16 12:15:38 2006
From: eakasit.pac at biotec.or.th (Eakasit Pacharawongsakda)
Date: Wed, 16 Aug 2006 17:15:38 +0700
Subject: [R-SIG-Mac] Memory error in PowerPC G5
Message-ID: <CB383628F7986345A17A93EA3440F6671330BB@SPMBE01.biotec.or.th>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060816/29d53936/attachment.pl 

From sdavis2 at mail.nih.gov  Wed Aug 16 12:36:25 2006
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Wed, 16 Aug 2006 06:36:25 -0400
Subject: [R-SIG-Mac] Memory error in PowerPC G5
In-Reply-To: <CB383628F7986345A17A93EA3440F6671330BB@SPMBE01.biotec.or.th>
Message-ID: <C1086D69.F779%sdavis2@mail.nih.gov>




On 8/16/06 6:15 AM, "Eakasit Pacharawongsakda" <eakasit.pac at biotec.or.th>
wrote:

>             Dear All,
> When I attempt to run a SVM-RFE with data 1302 x 665 (row x column), I
> get the following
> error message:
>  
>             R(8958) malloc: *** vm_allocate(size=1101824) failed (error
> code=3)
  
> I'm running R Version 2.3.1  (2006-06-01) on a Mac cluster  with Dual
> 2.3GHz PowerPC G5 ,
> 2GB RAM and running MAC OS 10.4.4

This means that you don't have enough memory to complete your task.

Sean


From simon.urbanek at r-project.org  Wed Aug 16 23:28:30 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 16 Aug 2006 17:28:30 -0400
Subject: [R-SIG-Mac] libtool issue with shlib for R;
	very latest R-devel on ppc 10.4.7
In-Reply-To: <92F7C7BA-965F-42DA-A573-96E0734E2BD0@uiuc.edu>
References: <Pine.GSO.4.58.0608122120290.12419@capecod.bwh.harvard.edu>
	<E684BCF8-619E-4EE4-8467-609A1EF02D85@ysidro.econ.uiuc.edu>
	<92F7C7BA-965F-42DA-A573-96E0734E2BD0@uiuc.edu>
Message-ID: <10A2737E-AF1E-4142-AAF3-FD43AF1F8226@r-project.org>


On Aug 15, 2006, at 9:15 AM, roger koenker wrote:

> ld: warning can't open dynamic library: libR.dylib referenced  
> from: /Library/Frameworks/R.framework/Resources/lib/ 
> libRlapack.dylib  (checking for undefined symbols may be affected)  
> (No such file or directory, errno = 2)

Just for completeness this is now fixed in R-devel and I have posted  
the explanation in the R-devel post mentioned below.

Cheers,
Simon


> ld: Undefined symbols:
> _xerbla_ referenced from libRlapack expected to be defined in  
> libR.dylib
> /usr/bin/libtool: internal link edit command failed
> make: *** [Matrix.so] Error 1
> ERROR: compilation failed for package 'Matrix'
>
> and the  latter (as reported yesterday on the R-devel group) with
> many messages about multiply defined symbols.
>
> Any suggestions would be very welcome.
>
> url:    www.econ.uiuc.edu/~roger            Roger Koenker
> email    rkoenker at uiuc.edu            Department of Economics
> vox:     217-333-4558                University of Illinois
> fax:       217-244-6678                Champaign, IL 61820
>
>
> On Aug 13, 2006, at 8:35 AM, roger koenker wrote:
>
>> Vince,
>>
>> I had the same problem yesterday.  After upgrading xcode to v2.4,
>> as suggested by Brian and Simon on the R-devel group,
>> the usual ./configure  and make work fine.  For the record I was
>> v2.0 of xcode prior to the upgrade.
>>
>>
>> url:    www.econ.uiuc.edu/~roger                Roger Koenker
>> email   rkoenker at uiuc.edu                       Department of
>> Economics
>> vox:    217-333-4558                            University of  
>> Illinois
>> fax:    217-244-6678                            Champaign, IL 61820
>>
>>
>> On Aug 12, 2006, at 8:23 PM, Vincent Carey 525-2265 wrote:
>>
>>>
>>>
>>> I am trying to build R-devel from source on a mac ppc G4
>>>
>>> %vjc> uname -a
>>> Darwin vincent-careys-powerbook-g4-12.local 8.7.0 Darwin Kernel
>>> Version 8.7.0: Fri May 26 15:20:53 PDT 2006;
>>> root:xnu-792.6.76.obj~1/RELEASE_PPC Power Macintosh powerpc
>>>
>>> OSX version is 10.4.7
>>>
>>> a previous version built with following sessioninfo
>>>
>>> R version 2.4.0 Under development (unstable) (2006-07-16 r38625)
>>> powerpc-apple-darwin8.7.0
>>>
>>> locale:
>>> C
>>>
>>> now:
>>>
>>> %vjc> svn up
>>> At revision 38860.
>>>
>>> i do configure --enable-R-shlib --enable-BLAS-shlib=no --with-tcltk
>>>
>>> then it fails at
>>>
>>>
>>> gcc -dynamiclib -Wl,-macosx_version_min -Wl,10.3 -undefined
>>> dynamic_lookup -single_module -multiply_defined suppress -L/usr/
>>> local/lib -install_name libR.dylib -compatibility_version 2.4.0  -
>>> current_version 2.4.0  -headerpad_max_install_names -o libR.dylib
>>> CConverters.o CommandLineArgs.o Rdynload.o Renviron.o RNG.o apply.o
>>> arithmetic.o apse.o array.o attrib.o base.o bind.o builtin.o
>>> character.o coerce.o colors.o complex.o connections.o context.o
>>> cov.o cum.o dcf.o datetime.o debug.o deparse.o deriv.o dotcode.o
>>> dounzip.o dstruct.o duplicate.o engine.o envir.o errors.o eval.o
>>> format.o fourier.o gevents.o gram.o gram-ex.o graphics.o
>>> identical.o internet.o iosupport.o lapack.o list.o localecharset.o
>>> logic.o main.o mapply.o match.o memory.o model.o names.o objects.o
>>> optim.o optimize.o options.o par.o paste.o pcre.o platform.o plot.o
>>> plot3d.o plotmath.o print.o printarray.o printvector.o printutils.o
>>> qsort.o random.o regex.o registration.o relop.o rlocale.o
>>> saveload.o scan.o seq.o s!
>>>  erialize.o size.o sort.o source.o split.o sprintf.o startup.o
>>> subassign.o subscript.o subset.o summary.o sysutils.o unique.o
>>> util.o version.o vfonts.o xxxpr.o   `ls ../appl/*.o ../nmath/*.o ../
>>> unix/*.o  2>/dev/null|grep -v /ext-`  -L/usr/local/lib/gcc/powerpc-
>>> apple-darwin6.8/3.4.2 -lg2c -lSystem  ../extra/zlib/libz.a ../extra/
>>> bzip2/libbz2.a ../extra/pcre/libpcre.a  ../extra/intl/libintl.a  -
>>> Wl,-framework -Wl,CoreFoundation -lreadline  -lcc_dynamic -lm - 
>>> liconv
>>> /usr/bin/libtool: unknown option character `m' in: -
>>> macosx_version_min
>>> Usage: /usr/bin/libtool -static [-] file [...] [-filelist listfile
>>> [,dirname]] [-arch_only arch] [-sacLT]
>>>
>>> presumably i can get a build without --enable-R-shlib ...
>>>
>>> any suggestions appreciated
>>> vince
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From mcohen at mail.la.utexas.edu  Fri Aug 18 00:05:29 2006
From: mcohen at mail.la.utexas.edu (mcohen at mail.la.utexas.edu)
Date: Thu, 17 Aug 2006 17:05:29 -0500
Subject: [R-SIG-Mac] Crash when closing R-GUI
Message-ID: <1155852329.44e4e8293b747@webmailapp5.cc.utexas.edu>

When I try to close R and the R-GUI by clicking either the little red Aqua
button on the left or the "light switch" button on the right, R crashes, giving
this message:


 *** caught bus error ***
address 0x0, cause 'invalid alignment'

Possible actions:
1: abort (with core dump)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace

Typing q() causes no problems at all.

This happens with both the R-2.3.1.dmg on CRAN and the newest stable builds of R
and R-GUI at R.research.att.com.

I'm running a iMac G5 with 10.4.7.  I've only noticed this behavior since R
2.3.1.  That said, I only started occasionally using the R-GUI again since
2.3.1.  I'm thinking I must be a problem local to my system, given that no one
else has mentioned it and it seems like something someone would have noticed
were it more widespread.  But I can't figure out what could be wrong with my
system, and I'm not even sure how to begin troubleshooting.  Any suggestions
would be greatly appreciated.


From goedman at mac.com  Fri Aug 18 01:51:58 2006
From: goedman at mac.com (Rob J Goedman)
Date: Thu, 17 Aug 2006 16:51:58 -0700
Subject: [R-SIG-Mac] Crash when closing R-GUI
In-Reply-To: <1155852329.44e4e8293b747@webmailapp5.cc.utexas.edu>
References: <1155852329.44e4e8293b747@webmailapp5.cc.utexas.edu>
Message-ID: <B2DCDF7B-136E-4463-A0E7-C07030860BF3@mac.com>

This did happen on my system a couple of weeks ago. Not sure if it is  
the same issue.
Does it ask you if it should save the workspace?

Would you mind sending me your plist ( i.e. ~/Library/Preferences/ 
org.R-project.R.plist)?
Or you could rename/delete it and see if the crash still happens.

Rob


On Aug 17, 2006, at 3:05 PM, mcohen at mail.la.utexas.edu wrote:

> When I try to close R and the R-GUI by clicking either the little  
> red Aqua
> button on the left or the "light switch" button on the right, R  
> crashes, giving
> this message:
>
>
>  *** caught bus error ***
> address 0x0, cause 'invalid alignment'
>
> Possible actions:
> 1: abort (with core dump)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
>
> Typing q() causes no problems at all.
>
> This happens with both the R-2.3.1.dmg on CRAN and the newest  
> stable builds of R
> and R-GUI at R.research.att.com.
>
> I'm running a iMac G5 with 10.4.7.  I've only noticed this behavior  
> since R
> 2.3.1.  That said, I only started occasionally using the R-GUI  
> again since
> 2.3.1.  I'm thinking I must be a problem local to my system, given  
> that no one
> else has mentioned it and it seems like something someone would  
> have noticed
> were it more widespread.  But I can't figure out what could be  
> wrong with my
> system, and I'm not even sure how to begin troubleshooting.  Any  
> suggestions
> would be greatly appreciated.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From goedman at mac.com  Fri Aug 18 03:13:19 2006
From: goedman at mac.com (Rob J Goedman)
Date: Thu, 17 Aug 2006 18:13:19 -0700
Subject: [R-SIG-Mac] Quartz questions
In-Reply-To: <A5DB2863-3B22-4D41-BC8D-70958009B4D1@mac.com>
References: <p06230903c0ff8ad38c6b@[194.82.246.94]>
	<3D49066A-0061-4397-B918-C897F4E5ACA7@mac.com>
	<B1D88E1D-622A-4F19-AFE0-DCDD108046DC@r-project.org>
	<p06230900c100e4c8a0ed@[194.82.246.94]>
	<A5DB2863-3B22-4D41-BC8D-70958009B4D1@mac.com>
Message-ID: <85F855DF-522B-4247-B958-D0CC01452C54@mac.com>

Tim,

This problem should now be fixed in the nightly builds.

Rob

On Aug 10, 2006, at 6:59 AM, Rob J Goedman wrote:

> Tim,
>
> On Aug 10, 2006, at 6:39 AM, Tim Cole wrote:
>
>> Thanks to Roger, Rob and Simon for their responses. My quartz pref
>> pane setting was causing problem 1, as Rob guessed.
>>
>> This also explains another odd quartz feature I've seen. Go to the R
>> quartz pref pane, tick the box to Override R Quartz width/height
>> parameters, and set new values for width and height (not 5 and 5).
>> Then untick the box, so the setting should be ignored, and exit
>> preferences.
>>
>> Typing quartz() at the prompt now gives a 5x5 window, as it should,
>> but selecting New quartz device window from the Window menu gives a
>> window of the size specified in the preferences - odd!
>
> More than odd. I'll have a look. Thanks.
>
>>>> 2) Not sure if you can re-activate a previous window
>>>
>>> Yes, you can, using dev.set - not by name, though.
>
> Thanks Simon. Works indeed!
>
> Rob


From owlofminerva at mail.utexas.edu  Fri Aug 18 03:28:26 2006
From: owlofminerva at mail.utexas.edu (Matthew Cohen)
Date: Thu, 17 Aug 2006 20:28:26 -0500
Subject: [R-SIG-Mac] Crash when closing R-GUI
In-Reply-To: <B2DCDF7B-136E-4463-A0E7-C07030860BF3@mac.com>
References: <1155852329.44e4e8293b747@webmailapp5.cc.utexas.edu>
	<B2DCDF7B-136E-4463-A0E7-C07030860BF3@mac.com>
Message-ID: <B5C2BDE0-3086-46A8-9FDE-471F8FEBC558@mail.utexas.edu>

I think I've found the cause of the crash.  I had set up my plist so  
that, by defauly, R-GUI would not ask me whether I want to save my  
workspace, but rather would assume I don't want to save.  Following  
Simon's e-mail of 7/17, I typed the following into the terminal window:

defaults write org.R.R-project.R save.on.exit -string no

This is apparently what is causing the crash.  Changing it back to  
"ask" makes it stop crashing.  Is it just me?

Matt

On Aug 17, 2006, at 6:51 PM, Rob J Goedman wrote:

> This did happen on my system a couple of weeks ago. Not sure if it  
> is the same issue.
> Does it ask you if it should save the workspace?
>
> Would you mind sending me your plist ( i.e. ~/Library/Preferences/ 
> org.R-project.R.plist)?
> Or you could rename/delete it and see if the crash still happens.
>
> Rob
>
>
> On Aug 17, 2006, at 3:05 PM, mcohen at mail.la.utexas.edu wrote:
>
>> When I try to close R and the R-GUI by clicking either the little  
>> red Aqua
>> button on the left or the "light switch" button on the right, R  
>> crashes, giving
>> this message:
>>
>>
>>  *** caught bus error ***
>> address 0x0, cause 'invalid alignment'
>>
>> Possible actions:
>> 1: abort (with core dump)
>> 2: normal R exit
>> 3: exit R without saving workspace
>> 4: exit R saving workspace
>>
>> Typing q() causes no problems at all.
>>
>> This happens with both the R-2.3.1.dmg on CRAN and the newest  
>> stable builds of R
>> and R-GUI at R.research.att.com.
>>
>> I'm running a iMac G5 with 10.4.7.  I've only noticed this  
>> behavior since R
>> 2.3.1.  That said, I only started occasionally using the R-GUI  
>> again since
>> 2.3.1.  I'm thinking I must be a problem local to my system, given  
>> that no one
>> else has mentioned it and it seems like something someone would  
>> have noticed
>> were it more widespread.  But I can't figure out what could be  
>> wrong with my
>> system, and I'm not even sure how to begin troubleshooting.  Any  
>> suggestions
>> would be greatly appreciated.
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From goedman at mac.com  Fri Aug 18 03:31:32 2006
From: goedman at mac.com (Rob J Goedman)
Date: Thu, 17 Aug 2006 18:31:32 -0700
Subject: [R-SIG-Mac] Crash when closing R-GUI
In-Reply-To: <B2DCDF7B-136E-4463-A0E7-C07030860BF3@mac.com>
References: <1155852329.44e4e8293b747@webmailapp5.cc.utexas.edu>
	<B2DCDF7B-136E-4463-A0E7-C07030860BF3@mac.com>
Message-ID: <ACA61E02-985D-4B5F-9270-14D11D992EDC@mac.com>

Matt,

Good. In your plist save.on.exit was indeed set to NO which gave some  
problems on
my system as well.

I do have a version with the 'save.on.exit' feature added to the  
startup pref panel. It also
makes sure the history is saved properly if yes or no is selected.

I'll commit it asap (would like to try it on a few other machines).

Rob


On Aug 17, 2006, at 6:05 PM, Matthew Cohen wrote

> ...
> Deleting the plist appears to have fixed the problem.
> ...
> Matt

On Aug 17, 2006, at 4:51 PM, Rob J Goedman wrote:

> This did happen on my system a couple of weeks ago. Not sure if it  
> is the same issue.
> Does it ask you if it should save the workspace?
>
> Would you mind sending me your plist ( i.e. ~/Library/Preferences/ 
> org.R-project.R.plist)?
> Or you could rename/delete it and see if the crash still happens.
>
> Rob
>
>
> On Aug 17, 2006, at 3:05 PM, mcohen at mail.la.utexas.edu wrote:
>
>> When I try to close R and the R-GUI by clicking either the little  
>> red Aqua
>> button on the left or the "light switch" button on the right, R  
>> crashes, giving
>> this message:
>>
>>
>>  *** caught bus error ***
>> address 0x0, cause 'invalid alignment'
>>
>> Possible actions:
>> 1: abort (with core dump)
>> 2: normal R exit
>> 3: exit R without saving workspace
>> 4: exit R saving workspace
>>
>> Typing q() causes no problems at all.
>>
>> This happens with both the R-2.3.1.dmg on CRAN and the newest  
>> stable builds of R
>> and R-GUI at R.research.att.com.
>>
>> I'm running a iMac G5 with 10.4.7.  I've only noticed this  
>> behavior since R
>> 2.3.1.  That said, I only started occasionally using the R-GUI  
>> again since
>> 2.3.1.  I'm thinking I must be a problem local to my system, given  
>> that no one
>> else has mentioned it and it seems like something someone would  
>> have noticed
>> were it more widespread.  But I can't figure out what could be  
>> wrong with my
>> system, and I'm not even sure how to begin troubleshooting.  Any  
>> suggestions
>> would be greatly appreciated.
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From kubovy at virginia.edu  Fri Aug 18 04:19:42 2006
From: kubovy at virginia.edu (Michael Kubovy)
Date: Thu, 17 Aug 2006 22:19:42 -0400
Subject: [R-SIG-Mac] Rgraphviz installation problem
Message-ID: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>

Dear R-sig-mac people,

Following Seth Falconer's advice on this list in March, I tried to  
install with

sudo R CMD INSTALL --configure-args='--with-graphviz=/Applications/ 
\~LocalApps/graphics/Graphviz/Graphviz.app/' Rgraphviz_1.10.0.tar.gz
which I had just downloaded
to which it responded
* Installing *binary* package 'Rgraphviz' ...
* DONE (Rgraphviz)

When I issued library(Rgraphviz)

I got

Loading required package: graph
Loading required package: Ruuid
Error in dyn.load(x, as.logical(local), as.logical(now)) :
	unable to load shared library '/Library/Frameworks/R.framework/ 
Versions/2.3/Resources/library/Rgraphviz/libs/ppc/Rgraphviz.so':
   dlopen(/Library/Frameworks/R.framework/Versions/2.3/Resources/ 
library/Rgraphviz/libs/ppc/Rgraphviz.so, 6): Library not loaded: /usr/ 
local/lib/libpng.3.dylib
   Referenced from: /usr/local/lib/graphviz/libgvc.2.dylib
   Reason: image not found
Error: .onLoad failed in 'loadNamespace' for 'Rgraphviz'
Error: package/namespace load failed for 'Rgraphviz'

Seth's other advice reads: "for the autoconf tools to work, you need  
the pkg-config program installed and PKG_CONFIG_PATH set  
appropriately (/blah/lib/pkgconfig)."

If this is still the best advice, could someone tell me what to do?

I tried
sudo port install pkgconfig
Password:
--->  Unpacking tgz archive for pkgconfig 0.20_0
--->  Cleaning pkgconfig

But although 'locate pkgconfig' gives me a long list of files, 'which  
pkgconfig' says 'pkgconfig: Command not found.'

What next? Seth says to set PKG_CONFIG_PATH to /blah/lib/pkgconfig,  
which I don't know how to do.

BTW, my shell is tcsh, my os is 10.4.7, and R is Version 2.3.1  
(2006-06-01).
_____________________________
Professor Michael Kubovy
University of Virginia
Department of Psychology
USPS:     P.O.Box 400400    Charlottesville, VA 22904-4400
Parcels:    Room 102        Gilmer Hall
         McCormick Road    Charlottesville, VA 22903
Office:    B011    +1-434-982-4729
Lab:        B019    +1-434-982-4751
Fax:        +1-434-982-4766
WWW:    http://www.people.virginia.edu/~mk9y/


From simon.urbanek at r-project.org  Fri Aug 18 16:22:42 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 18 Aug 2006 10:22:42 -0400
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
Message-ID: <7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>

Michael,

first, you may want to use the Rgraphviz binary from Bioconductor as  
it saves you all the hassle (see http://r.research.att.com/ at the  
bottom for the corresponding Graphviz build).

As of your error, it seems that you have a mismatch of various  
graphviz versions on your machine, one of which is not working - the  
one in /usr/local. Building graphviz is not quite painless so I would  
really suggest using the binary above instead.

Cheers,
Simon

On Aug 17, 2006, at 10:19 PM, Michael Kubovy wrote:

> Dear R-sig-mac people,
>
> Following Seth Falconer's advice on this list in March, I tried to
> install with
>
> sudo R CMD INSTALL --configure-args='--with-graphviz=/Applications/
> \~LocalApps/graphics/Graphviz/Graphviz.app/' Rgraphviz_1.10.0.tar.gz
> which I had just downloaded
> to which it responded
> * Installing *binary* package 'Rgraphviz' ...
> * DONE (Rgraphviz)
>
> When I issued library(Rgraphviz)
>
> I got
>
> Loading required package: graph
> Loading required package: Ruuid
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
> 	unable to load shared library '/Library/Frameworks/R.framework/
> Versions/2.3/Resources/library/Rgraphviz/libs/ppc/Rgraphviz.so':
>    dlopen(/Library/Frameworks/R.framework/Versions/2.3/Resources/
> library/Rgraphviz/libs/ppc/Rgraphviz.so, 6): Library not loaded: /usr/
> local/lib/libpng.3.dylib
>    Referenced from: /usr/local/lib/graphviz/libgvc.2.dylib
>    Reason: image not found
> Error: .onLoad failed in 'loadNamespace' for 'Rgraphviz'
> Error: package/namespace load failed for 'Rgraphviz'
>
> Seth's other advice reads: "for the autoconf tools to work, you need
> the pkg-config program installed and PKG_CONFIG_PATH set
> appropriately (/blah/lib/pkgconfig)."
>
> If this is still the best advice, could someone tell me what to do?
>
> I tried
> sudo port install pkgconfig
> Password:
> --->  Unpacking tgz archive for pkgconfig 0.20_0
> --->  Cleaning pkgconfig
>
> But although 'locate pkgconfig' gives me a long list of files, 'which
> pkgconfig' says 'pkgconfig: Command not found.'
>
> What next? Seth says to set PKG_CONFIG_PATH to /blah/lib/pkgconfig,
> which I don't know how to do.
>
> BTW, my shell is tcsh, my os is 10.4.7, and R is Version 2.3.1
> (2006-06-01).
> _____________________________
> Professor Michael Kubovy
> University of Virginia
> Department of Psychology
> USPS:     P.O.Box 400400    Charlottesville, VA 22904-4400
> Parcels:    Room 102        Gilmer Hall
>          McCormick Road    Charlottesville, VA 22903
> Office:    B011    +1-434-982-4729
> Lab:        B019    +1-434-982-4751
> Fax:        +1-434-982-4766
> WWW:    http://www.people.virginia.edu/~mk9y/
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From kubovy at virginia.edu  Fri Aug 18 17:15:55 2006
From: kubovy at virginia.edu (Michael Kubovy)
Date: Fri, 18 Aug 2006 11:15:55 -0400
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
Message-ID: <39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>

Thanks Simon,

On Aug 18, 2006, at 10:22 AM, Simon Urbanek wrote:

> Michael,
>
> first, you may want to use the Rgraphviz binary from Bioconductor  
> as it saves you all the hassle (see http://r.research.att.com/ at  
> the bottom for the corresponding Graphviz build).
>
> As of your error, it seems that you have a mismatch of various  
> graphviz versions on your machine, one of which is not working -  
> the one in /usr/local. Building graphviz is not quite painless so I  
> would really suggest using the binary above instead.
>
> Cheers,
> Simon

So I tried to install Rgraphviz 1.10.0 from BioConductor (binaries)  
using the R Package Installer (authorizing R to run system commands  
as root), and this is what I got on the R Console:

trying URL 'http://www.bioconductor.org/packages/1.8/bioc/bin/macosx/ 
powerpc/contrib/2.3/Rgraphviz_1.10.0.tgz'
Content type 'application/x-gzip' length 568248 bytes
opened URL
==================================================
downloaded 554Kb


The downloaded packages are in
	/tmp/RtmptybY6i/downloaded_packages

Then:

 > library(Rgraphviz)
Loading required package: graph
Loading required package: Ruuid
Error in dyn.load(x, as.logical(local), as.logical(now)) :
	unable to load shared library '/Library/Frameworks/R.framework/ 
Versions/2.3/Resources/library/Rgraphviz/libs/ppc/Rgraphviz.so':
   dlopen(/Library/Frameworks/R.framework/Versions/2.3/Resources/ 
library/Rgraphviz/libs/ppc/Rgraphviz.so, 6): Library not loaded: /usr/ 
local/lib/libpng.3.dylib
   Referenced from: /usr/local/lib/graphviz/libgvc.2.dylib
   Reason: image not found
In addition: Warning messages:
1: number of rows of result
	is not a multiple of vector length (arg 2) in: cbind(1, res0,  
Repository = repos)
2: number of rows of result
	is not a multiple of vector length (arg 2) in: cbind(1, res0,  
Repository = repos)
3: cannot create HTML package index in: make.packages.html()
4: number of rows of result
	is not a multiple of vector length (arg 2) in: cbind(1, res0,  
Repository = repos)
Error: .onLoad failed in 'loadNamespace' for 'Rgraphviz'
Error: package/namespace load failed for 'Rgraphviz'

_____________________________
Professor Michael Kubovy
University of Virginia
Department of Psychology
USPS:     P.O.Box 400400    Charlottesville, VA 22904-4400
Parcels:    Room 102        Gilmer Hall
         McCormick Road    Charlottesville, VA 22903
Office:    B011    +1-434-982-4729
Lab:        B019    +1-434-982-4751
Fax:        +1-434-982-4766
WWW:    http://www.people.virginia.edu/~mk9y/


From simon.urbanek at r-project.org  Fri Aug 18 17:40:20 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 18 Aug 2006 11:40:20 -0400
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
Message-ID: <804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>


On Aug 18, 2006, at 11:15 AM, Michael Kubovy wrote:

> Thanks Simon,
>
> On Aug 18, 2006, at 10:22 AM, Simon Urbanek wrote:
>
>> Michael,
>>
>> first, you may want to use the Rgraphviz binary from Bioconductor  
>> as it saves you all the hassle (see http://r.research.att.com/ at  
>> the bottom for the corresponding Graphviz build).
>>
>> As of your error, it seems that you have a mismatch of various  
>> graphviz versions on your machine, one of which is not working -  
>> the one in /usr/local. Building graphviz is not quite painless so  
>> I would really suggest using the binary above instead.
>>
>> Cheers,
>> Simon
>
> So I tried to install Rgraphviz 1.10.0 from BioConductor (binaries)  
> using the R Package Installer (authorizing R to run system commands  
> as root

BTW: this is only necessary because you used sudo when compiling your  
version

> ), and this is what I got on the R Console:
>
> trying URL 'http://www.bioconductor.org/packages/1.8/bioc/bin/ 
> macosx/powerpc/contrib/2.3/Rgraphviz_1.10.0.tgz'
> Content type 'application/x-gzip' length 568248 bytes
> opened URL
> ==================================================
> downloaded 554Kb
>
>
> The downloaded packages are in
> 	/tmp/RtmptybY6i/downloaded_packages
>
> Then:
>
> > library(Rgraphviz)
> Loading required package: graph
> Loading required package: Ruuid
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
> 	unable to load shared library '/Library/Frameworks/R.framework/ 
> Versions/2.3/Resources/library/Rgraphviz/libs/ppc/Rgraphviz.so':
>   dlopen(/Library/Frameworks/R.framework/Versions/2.3/Resources/ 
> library/Rgraphviz/libs/ppc/Rgraphviz.so, 6): Library not loaded: / 
> usr/local/lib/libpng.3.dylib
>   Referenced from: /usr/local/lib/graphviz/libgvc.2.dylib

^^^ - you didn't install the Graphviz binary that I was pointing you  
to ( http://r.research.att.com at bottom of the page ), you still  
have your old non-working graphviz. Please use the correct binary.

Cheers,
Simon


From sfalcon at fhcrc.org  Fri Aug 18 18:07:22 2006
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Fri, 18 Aug 2006 09:07:22 -0700
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org> (Simon
	Urbanek's message of "Fri, 18 Aug 2006 11:40:20 -0400")
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
Message-ID: <m264gqni2t.fsf@ziti.fhcrc.org>

I'm going to try and summarize, but I can't easily test this, so I
would appreciate it others could confirm, etc.

To install Rgraphviz on OSX when using the binary installation of R
downloaded from CRAN (that is, the R app), do the following:

1. Install the _graphviz_ binary from http://r.research.att.com/.

2. Install the _binary_ version of the BioC Rgraphviz package:

     source("http://bioconductor.org/biocLite.R")
     biocLite("Rgraphviz")


From sunyata at uvic.ca  Fri Aug 18 19:02:33 2006
From: sunyata at uvic.ca (Graham Watt-Gremm)
Date: Fri, 18 Aug 2006 10:02:33 -0700
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <m264gqni2t.fsf@ziti.fhcrc.org>
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
Message-ID: <9E86FCF1-EACD-4507-B11E-0F2E02940F9A@uvic.ca>

Seth,
These instructions worked perfectly for me.
Thanks
graham
On 18-Aug-06, at 9:07 AM, Seth Falcon wrote:

> I'm going to try and summarize, but I can't easily test this, so I
> would appreciate it others could confirm, etc.
>
> To install Rgraphviz on OSX when using the binary installation of R
> downloaded from CRAN (that is, the R app), do the following:
>
> 1. Install the _graphviz_ binary from http://r.research.att.com/.
>
> 2. Install the _binary_ version of the BioC Rgraphviz package:
>
>      source("http://bioconductor.org/biocLite.R")
>      biocLite("Rgraphviz")
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From kubovy at virginia.edu  Fri Aug 18 21:12:04 2006
From: kubovy at virginia.edu (Michael Kubovy)
Date: Fri, 18 Aug 2006 15:12:04 -0400
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <m264gqni2t.fsf@ziti.fhcrc.org>
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
Message-ID: <78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu>

On Aug 18, 2006, at 12:07 PM, Seth Falcon wrote:

> I'm going to try and summarize, but I can't easily test this, so I
> would appreciate it others could confirm, etc.
>
> To install Rgraphviz on OSX when using the binary installation of R
> downloaded from CRAN (that is, the R app), do the following:
>
> 1. Install the _graphviz_ binary from http://r.research.att.com/.
>
> 2. Install the _binary_ version of the BioC Rgraphviz package:
>
>      source("http://bioconductor.org/biocLite.R")
>      biocLite("Rgraphviz")

Works perfectly!

Except:

library(Rgraphviz)
set.seed(123)
V <- letters[1:10]
M <- 1:4
g1 <- randomGraph(V, M, .2)
plot(g1, "neato")

Crashes R:

  *** caught bus error ***
address 0x0, cause 'invalid alignment'

Traceback:
1: .Call("Rgraphviz_doLayout", graph, as.integer(type), PACKAGE =  
"Rgraphviz")
2: layoutGraph(g)
3: agopen(x, name = name, layout = TRUE, layoutType = y, attrs =  
attrs,     nodeAttrs = nodeAttrs, edgeAttrs = edgeAttrs, subGList =  
subGList,     recipEdges = recipEdges)
4: .local(x, y, ...)
5: plot(g1, "neato")
6: plot(g1, "neato")


Possible actions:
1: abort (with core dump)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace

_____________________________
Professor Michael Kubovy
University of Virginia
Department of Psychology
USPS:     P.O.Box 400400    Charlottesville, VA 22904-4400
Parcels:    Room 102        Gilmer Hall
         McCormick Road    Charlottesville, VA 22903
Office:    B011    +1-434-982-4729
Lab:        B019    +1-434-982-4751
Fax:        +1-434-982-4766
WWW:    http://www.people.virginia.edu/~mk9y/


From sfalcon at fhcrc.org  Fri Aug 18 23:59:26 2006
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Fri, 18 Aug 2006 14:59:26 -0700
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu> (Michael
	Kubovy's message of "Fri, 18 Aug 2006 15:12:04 -0400")
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
	<78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu>
Message-ID: <m2u049iu2p.fsf@ziti.fhcrc.org>

Michael Kubovy <kubovy at virginia.edu> writes:
> Works perfectly!
>
> Except:
>
> library(Rgraphviz)
> set.seed(123)
> V <- letters[1:10]
> M <- 1:4
> g1 <- randomGraph(V, M, .2)
> plot(g1, "neato")
>
> Crashes R:
>
>  *** caught bus error ***
> address 0x0, cause 'invalid alignment'

Hmm, I suspect your are getting caught by having more than one version
of graphviz installed on your system.  Here are a few things to try...

In R, do:

rglibs <- system.file("libs/Rgraphviz.so", package="Rgraphviz")
system(paste("otool -L", rglibs))

This will only work, I suspect, if you have the Xcode tools installed
already, but it should tell you which version of graphviz, your
Rgraphviz is linked against.

+ seth


From kubovy at virginia.edu  Sat Aug 19 03:37:12 2006
From: kubovy at virginia.edu (Michael Kubovy)
Date: Fri, 18 Aug 2006 21:37:12 -0400
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <m2u049iu2p.fsf@ziti.fhcrc.org>
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
	<78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu>
	<m2u049iu2p.fsf@ziti.fhcrc.org>
Message-ID: <41427A3B-62E7-4766-A6C3-827FF7DE9BD3@virginia.edu>


On Aug 18, 2006, at 5:59 PM, Seth Falcon wrote:

> Michael Kubovy <kubovy at virginia.edu> writes:
>> Works perfectly!
>>
>> Except:
>>
>> library(Rgraphviz)
>> set.seed(123)
>> V <- letters[1:10]
>> M <- 1:4
>> g1 <- randomGraph(V, M, .2)
>> plot(g1, "neato")
>>
>> Crashes R:
>>
>>  *** caught bus error ***
>> address 0x0, cause 'invalid alignment'
>
> Hmm, I suspect your are getting caught by having more than one version
> of graphviz installed on your system.  Here are a few things to try...
>
> In R, do:
>
> rglibs <- system.file("libs/Rgraphviz.so", package="Rgraphviz")
> system(paste("otool -L", rglibs))
>
> This will only work, I suspect, if you have the Xcode tools installed
> already, but it should tell you which version of graphviz, your
> Rgraphviz is linked against.

No such luck. AFAIK, I have Xcode (I downloaded the latest developer  
tools recently), but:

 > rglibs <- system.file("libs/Rgraphviz.so", package="Rgraphviz")
 > system(paste("otool -L", rglibs))
 > rglibs
[1] ""

The system command returned nothing.

_____________________________
Professor Michael Kubovy
University of Virginia
Department of Psychology
USPS:     P.O.Box 400400    Charlottesville, VA 22904-4400
Parcels:    Room 102        Gilmer Hall
         McCormick Road    Charlottesville, VA 22903
Office:    B011    +1-434-982-4729
Lab:        B019    +1-434-982-4751
Fax:        +1-434-982-4766
WWW:    http://www.people.virginia.edu/~mk9y/


From goedman at mac.com  Sat Aug 19 06:47:14 2006
From: goedman at mac.com (Rob J Goedman)
Date: Fri, 18 Aug 2006 21:47:14 -0700
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <41427A3B-62E7-4766-A6C3-827FF7DE9BD3@virginia.edu>
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
	<78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu>
	<m2u049iu2p.fsf@ziti.fhcrc.org>
	<41427A3B-62E7-4766-A6C3-827FF7DE9BD3@virginia.edu>
Message-ID: <FA4D023F-051E-4277-98B9-698B45712598@mac.com>

I  see the exact same behavior. In this example, plot(g1, "dot")  
works fine, but as soon as "neato"
or "twopi" is selected:

Host Name:      Robs-Laptop
Date/Time:      2006-08-18 21:29:07.564 -0700
OS Version:     10.4.7 (Build 8J135)
Report Version: 4

Command: R
Path:    /Users/rob/Projects/Mac-GUI/build/Development/R.app/Contents/ 
MacOS/R
Parent:  WindowServer [99]

Version: 1.17-pre (3415)

PID:    18865
Thread: 0

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000000

Thread 0 Crashed:
0   libpack.2.dylib                	0x04fb50d4 packGraphs + 240  
(pack.c:778)
1   libpack.2.dylib                	0x04fb5324 packSubgraphs + 32  
(pack.c:827)
2   ...plugin_neato_layout.2.dylib 	0x06b5ad34 twopi_layout + 408  
(twopiinit.c:118)
3   libgvc.2.dylib                 	0x06807510 gvLayoutJobs + 100  
(gvlayout.c:69)
4   libgvc.2.dylib                 	0x0680a604 gvLayout + 64 (gvc.c:71)
5   Rgraphviz.so                   	0x04f3b754 Rgraphviz_doLayout +  
508 (Rgraphviz.c:429)
...

Happens both with the the binaries from Simon's web site + the  
Rgraphiz binary and if I build
them from sources.

Rob


On Aug 18, 2006, at 6:37 PM, Michael Kubovy wrote:

>
> On Aug 18, 2006, at 5:59 PM, Seth Falcon wrote:
>
>> Michael Kubovy <kubovy at virginia.edu> writes:
>>> Works perfectly!
>>>
>>> Except:
>>>
>>> library(Rgraphviz)
>>> set.seed(123)
>>> V <- letters[1:10]
>>> M <- 1:4
>>> g1 <- randomGraph(V, M, .2)
>>> plot(g1, "neato")
>>>
>>> Crashes R:
>>>
>>>  *** caught bus error ***
>>> address 0x0, cause 'invalid alignment'
>>
>> Hmm, I suspect your are getting caught by having more than one  
>> version
>> of graphviz installed on your system.  Here are a few things to  
>> try...
>>
>> In R, do:
>>
>> rglibs <- system.file("libs/Rgraphviz.so", package="Rgraphviz")
>> system(paste("otool -L", rglibs))
>>
>> This will only work, I suspect, if you have the Xcode tools installed
>> already, but it should tell you which version of graphviz, your
>> Rgraphviz is linked against.
>
> No such luck. AFAIK, I have Xcode (I downloaded the latest developer
> tools recently), but:
>
>> rglibs <- system.file("libs/Rgraphviz.so", package="Rgraphviz")
>> system(paste("otool -L", rglibs))
>> rglibs
> [1] ""
>
> The system command returned nothing.
>
> _____________________________
> Professor Michael Kubovy
> University of Virginia
> Department of Psychology
> USPS:     P.O.Box 400400    Charlottesville, VA 22904-4400
> Parcels:    Room 102        Gilmer Hall
>          McCormick Road    Charlottesville, VA 22903
> Office:    B011    +1-434-982-4729
> Lab:        B019    +1-434-982-4751
> Fax:        +1-434-982-4766
> WWW:    http://www.people.virginia.edu/~mk9y/
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From cdunn at hawaii.edu  Mon Aug 21 10:54:33 2006
From: cdunn at hawaii.edu (Casey Dunn)
Date: Sun, 20 Aug 2006 22:54:33 -1000
Subject: [R-SIG-Mac] RMySQL won't install
Message-ID: <ED37551E-0180-4B42-AB4B-A3C98A6F6187@hawaii.edu>

Hi-
	I am also having trouble installing RMySQL (OS X 10.4.7, R2.3.1,  
MySQL 5.0.24, RMySQL 0.5-7, all 32 bit PPC). DBI loads fine, but when  
I try to load RMySQL I get the following:
	
	
Error in dyn.load(x, as.logical(local), as.logical(now)) :
	unable to load shared library '/Library/Frameworks/R.framework/ 
Versions/2.3/Resources/library/RMySQL/libs/ppc/RMySQL.so':
   dlopen(/Library/Frameworks/R.framework/Versions/2.3/Resources/ 
library/RMySQL/libs/ppc/RMySQL.so, 6): Symbol not found: _load_defaults
   Referenced from: /Library/Frameworks/R.framework/Versions/2.3/ 
Resources/library/RMySQL/libs/ppc/RMySQL.so
   Expected in: flat namespace
Error in library(RMySQL) : .First.lib failed for 'RMySQL'



I downloaded the source for RMySQL, compiled it (gcc 4.0.0), and got  
the exact same result. I also tried with MySQL 5.0.20 and MySQL  
4.0.21, and again got the same result.

Was anyone else able to resolve this problem? Are others able to get  
RMySQL running on similar machines without encountering this problem?

A couple possibilities come to mind:

-Something is broken about my system that prevents the linking of all  
the necessary system libraries (eg different versions of gcc were used).
-Something wrong with my mysql installation that is making the  
libraries inaccessible.
-The "TODO" comments in RS-MySQL.c regarding OS X mean that the  
RMySQL implementation on OS X is not complete.

If this is a system libraries issue, I wonder if it's related to the  
libmysqlclient.a problems that were encountered late last year (see  
"RMySQL problem" thread from November 18 2005).

Thanks,
	Casey


-------------------------------------------------------
Dr. Casey Dunn
http://www2.hawaii.edu/~cdunn/
http://www.brown.edu/Departments/EEB/dunn/dunnindex.htm
http://siphonophores.org


From sfalcon at fhcrc.org  Mon Aug 21 16:43:03 2006
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Mon, 21 Aug 2006 07:43:03 -0700
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <41427A3B-62E7-4766-A6C3-827FF7DE9BD3@virginia.edu> (Michael
	Kubovy's message of "Fri, 18 Aug 2006 21:37:12 -0400")
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
	<78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu>
	<m2u049iu2p.fsf@ziti.fhcrc.org>
	<41427A3B-62E7-4766-A6C3-827FF7DE9BD3@virginia.edu>
Message-ID: <m2y7ti9mko.fsf@ziti.fhcrc.org>

Michael Kubovy <kubovy at virginia.edu> writes:
>> In R, do:
>>
>> rglibs <- system.file("libs/Rgraphviz.so", package="Rgraphviz")
>> system(paste("otool -L", rglibs))
>>
>> This will only work, I suspect, if you have the Xcode tools installed
>> already, but it should tell you which version of graphviz, your
>> Rgraphviz is linked against.
>
> No such luck. AFAIK, I have Xcode (I downloaded the latest developer
> tools recently), but:
>
>> rglibs <- system.file("libs/Rgraphviz.so", package="Rgraphviz")
>> system(paste("otool -L", rglibs))
>> rglibs
> [1] ""
>
> The system command returned nothing.

Sorry, looks like the Rgraphviz.so or equivalent is in a different
place in the Rgraphviz binary.  Can you take a look at the installed
package directory ( system.file(package="Rgraphviz") ), find the .so
or .dylib and try the otool thing again (from R).


From sfalcon at fhcrc.org  Mon Aug 21 16:45:18 2006
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Mon, 21 Aug 2006 07:45:18 -0700
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <FA4D023F-051E-4277-98B9-698B45712598@mac.com> (Rob J. Goedman's
	message of "Fri, 18 Aug 2006 21:47:14 -0700")
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
	<78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu>
	<m2u049iu2p.fsf@ziti.fhcrc.org>
	<41427A3B-62E7-4766-A6C3-827FF7DE9BD3@virginia.edu>
	<FA4D023F-051E-4277-98B9-698B45712598@mac.com>
Message-ID: <m2u0469mgx.fsf@ziti.fhcrc.org>

Rob J Goedman <goedman at mac.com> writes:

> I  see the exact same behavior. In this example, plot(g1, "dot")
> works fine, but as soon as "neato"
> or "twopi" is selected:
>
> Host Name:      Robs-Laptop
> Date/Time:      2006-08-18 21:29:07.564 -0700
> OS Version:     10.4.7 (Build 8J135)
> Report Version: 4
>
> Command: R
> Path:    /Users/rob/Projects/Mac-GUI/build/Development/R.app/Contents/
> MacOS/R
> Parent:  WindowServer [99]
>
> Version: 1.17-pre (3415)
>
> PID:    18865
> Thread: 0
>
> Exception:  EXC_BAD_ACCESS (0x0001)
> Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000000
>
> Thread 0 Crashed:
> 0   libpack.2.dylib                	0x04fb50d4 packGraphs + 240
> (pack.c:778)
> 1   libpack.2.dylib                	0x04fb5324 packSubgraphs + 32
> (pack.c:827)
> 2   ...plugin_neato_layout.2.dylib 	0x06b5ad34 twopi_layout + 408
> (twopiinit.c:118)
> 3   libgvc.2.dylib                 	0x06807510 gvLayoutJobs + 100
> (gvlayout.c:69)
> 4   libgvc.2.dylib                 	0x0680a604 gvLayout + 64 (gvc.c:71)
> 5   Rgraphviz.so                   	0x04f3b754 Rgraphviz_doLayout
> +  508 (Rgraphviz.c:429)
> ...
>
> Happens both with the the binaries from Simon's web site + the
> Rgraphiz binary and if I build
> them from sources.

I can't reproduce it on my system where I've built everything from
source.  I'm not convinced the tests you've done are what you think
they are.  R can be very tricky in how it forces certain libs to get
picked up.

Can anyone else reproduce and provide details on versions of graphviz,
Rgraphviz, R...


From simon.urbanek at r-project.org  Mon Aug 21 17:03:40 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 21 Aug 2006 11:03:40 -0400
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <m2u0469mgx.fsf@ziti.fhcrc.org>
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
	<78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu>
	<m2u049iu2p.fsf@ziti.fhcrc.org>
	<41427A3B-62E7-4766-A6C3-827FF7DE9BD3@virginia.edu>
	<FA4D023F-051E-4277-98B9-698B45712598@mac.com>
	<m2u0469mgx.fsf@ziti.fhcrc.org>
Message-ID: <788D20EE-5DB2-4E8D-B02F-1C63E979DF23@r-project.org>

FWIW: if you want to know which dylibs get loaded, start R like this:

DYLD_PRINT_LIBRARIES=1 R

Seth, which architecture are you using (ppc/i386)?

Cheers,
S

On Aug 21, 2006, at 10:45 AM, Seth Falcon wrote:

> Rob J Goedman <goedman at mac.com> writes:
>
>> I  see the exact same behavior. In this example, plot(g1, "dot")
>> works fine, but as soon as "neato"
>> or "twopi" is selected:
>>
>> Host Name:      Robs-Laptop
>> Date/Time:      2006-08-18 21:29:07.564 -0700
>> OS Version:     10.4.7 (Build 8J135)
>> Report Version: 4
>>
>> Command: R
>> Path:    /Users/rob/Projects/Mac-GUI/build/Development/R.app/ 
>> Contents/
>> MacOS/R
>> Parent:  WindowServer [99]
>>
>> Version: 1.17-pre (3415)
>>
>> PID:    18865
>> Thread: 0
>>
>> Exception:  EXC_BAD_ACCESS (0x0001)
>> Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000000
>>
>> Thread 0 Crashed:
>> 0   libpack.2.dylib                	0x04fb50d4 packGraphs + 240
>> (pack.c:778)
>> 1   libpack.2.dylib                	0x04fb5324 packSubgraphs + 32
>> (pack.c:827)
>> 2   ...plugin_neato_layout.2.dylib 	0x06b5ad34 twopi_layout + 408
>> (twopiinit.c:118)
>> 3   libgvc.2.dylib                 	0x06807510 gvLayoutJobs + 100
>> (gvlayout.c:69)
>> 4   libgvc.2.dylib                 	0x0680a604 gvLayout + 64  
>> (gvc.c:71)
>> 5   Rgraphviz.so                   	0x04f3b754 Rgraphviz_doLayout
>> +  508 (Rgraphviz.c:429)
>> ...
>>
>> Happens both with the the binaries from Simon's web site + the
>> Rgraphiz binary and if I build
>> them from sources.
>
> I can't reproduce it on my system where I've built everything from
> source.  I'm not convinced the tests you've done are what you think
> they are.  R can be very tricky in how it forces certain libs to get
> picked up.
>
> Can anyone else reproduce and provide details on versions of graphviz,
> Rgraphviz, R...
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From sfalcon at fhcrc.org  Mon Aug 21 17:17:16 2006
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Mon, 21 Aug 2006 08:17:16 -0700
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <788D20EE-5DB2-4E8D-B02F-1C63E979DF23@r-project.org> (Simon
	Urbanek's message of "Mon, 21 Aug 2006 11:03:40 -0400")
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
	<78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu>
	<m2u049iu2p.fsf@ziti.fhcrc.org>
	<41427A3B-62E7-4766-A6C3-827FF7DE9BD3@virginia.edu>
	<FA4D023F-051E-4277-98B9-698B45712598@mac.com>
	<m2u0469mgx.fsf@ziti.fhcrc.org>
	<788D20EE-5DB2-4E8D-B02F-1C63E979DF23@r-project.org>
Message-ID: <m21wra9kzn.fsf@ziti.fhcrc.org>

Simon Urbanek <simon.urbanek at r-project.org> writes:

> FWIW: if you want to know which dylibs get loaded, start R like this:
>
> DYLD_PRINT_LIBRARIES=1 R
>
> Seth, which architecture are you using (ppc/i386)?

ppc, so perhaps the problem only occurs on i386.  But the discussion
has been sufficiently confused with multiple graphviz versions, etc
that I'm going to wait for more details before investigating further.

+ seth


From goedman at mac.com  Mon Aug 21 17:34:17 2006
From: goedman at mac.com (Rob J Goedman)
Date: Mon, 21 Aug 2006 08:34:17 -0700
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <788D20EE-5DB2-4E8D-B02F-1C63E979DF23@r-project.org>
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
	<78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu>
	<m2u049iu2p.fsf@ziti.fhcrc.org>
	<41427A3B-62E7-4766-A6C3-827FF7DE9BD3@virginia.edu>
	<FA4D023F-051E-4277-98B9-698B45712598@mac.com>
	<m2u0469mgx.fsf@ziti.fhcrc.org>
	<788D20EE-5DB2-4E8D-B02F-1C63E979DF23@r-project.org>
Message-ID: <C378CFD0-5B12-4EDD-8259-C9082CB7C30E@mac.com>

Below (graphviz1.out) the dylibs that get loaded.  And the file I  
sourced in. The plot(g1, "dot")
produced the usual plot (until now I have always been using version  
Graphviz-2.3), the
plot(g1, "neato") causes the bus error/invalid address.


Regards,
Rob


-------------- next part --------------
A non-text attachment was scrubbed...
Name: graphviz.R
Type: application/octet-stream
Size: 1357 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060821/abf13e0e/attachment-0002.obj 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: graphviz1.out
Type: application/octet-stream
Size: 11593 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060821/abf13e0e/attachment-0003.obj 
-------------- next part --------------


On Aug 21, 2006, at 8:03 AM, Simon Urbanek wrote:

> FWIW: if you want to know which dylibs get loaded, start R like this:
>
> DYLD_PRINT_LIBRARIES=1 R
>
> Seth, which architecture are you using (ppc/i386)?
>
> Cheers,
> S
>
> On Aug 21, 2006, at 10:45 AM, Seth Falcon wrote:
>
>> Rob J Goedman <goedman at mac.com> writes:
>>
>>> I  see the exact same behavior. In this example, plot(g1, "dot")
>>> works fine, but as soon as "neato"
>>> or "twopi" is selected:
>>>
>>> Host Name:      Robs-Laptop
>>> Date/Time:      2006-08-18 21:29:07.564 -0700
>>> OS Version:     10.4.7 (Build 8J135)
>>> Report Version: 4
>>>
>>> Command: R
>>> Path:    /Users/rob/Projects/Mac-GUI/build/Development/R.app/ 
>>> Contents/
>>> MacOS/R
>>> Parent:  WindowServer [99]
>>>
>>> Version: 1.17-pre (3415)
>>>
>>> PID:    18865
>>> Thread: 0
>>>
>>> Exception:  EXC_BAD_ACCESS (0x0001)
>>> Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000000
>>>
>>> Thread 0 Crashed:
>>> 0   libpack.2.dylib                	0x04fb50d4 packGraphs + 240
>>> (pack.c:778)
>>> 1   libpack.2.dylib                	0x04fb5324 packSubgraphs + 32
>>> (pack.c:827)
>>> 2   ...plugin_neato_layout.2.dylib 	0x06b5ad34 twopi_layout + 408
>>> (twopiinit.c:118)
>>> 3   libgvc.2.dylib                 	0x06807510 gvLayoutJobs + 100
>>> (gvlayout.c:69)
>>> 4   libgvc.2.dylib                 	0x0680a604 gvLayout + 64  
>>> (gvc.c:71)
>>> 5   Rgraphviz.so                   	0x04f3b754 Rgraphviz_doLayout
>>> +  508 (Rgraphviz.c:429)
>>> ...
>>>
>>> Happens both with the the binaries from Simon's web site + the
>>> Rgraphiz binary and if I build
>>> them from sources.
>>
>> I can't reproduce it on my system where I've built everything from
>> source.  I'm not convinced the tests you've done are what you think
>> they are.  R can be very tricky in how it forces certain libs to get
>> picked up.
>>
>> Can anyone else reproduce and provide details on versions of  
>> graphviz,
>> Rgraphviz, R...
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>


From goedman at mac.com  Mon Aug 21 17:53:58 2006
From: goedman at mac.com (Rob J Goedman)
Date: Mon, 21 Aug 2006 08:53:58 -0700
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <m2wt92858l.fsf@ziti.fhcrc.org>
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
	<78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu>
	<m2u049iu2p.fsf@ziti.fhcrc.org>
	<41427A3B-62E7-4766-A6C3-827FF7DE9BD3@virginia.edu>
	<FA4D023F-051E-4277-98B9-698B45712598@mac.com>
	<m2u0469mgx.fsf@ziti.fhcrc.org>
	<788D20EE-5DB2-4E8D-B02F-1C63E979DF23@r-project.org>
	<C378CFD0-5B12-4EDD-8259-C9082CB7C30E@mac.com>
	<m2wt92858l.fsf@ziti.fhcrc.org>
Message-ID: <2A490F97-6C34-42E2-9029-51334CBD24EB@mac.com>

Hi Seth,

Sorry I did not make myself clear. Until about 2 weeks ago I had been  
using
2.3, which worked well. I tried 2.6 a couple of times, but never  
really got it
to work. When I saw Michael's email last week, I tried 2.8 (and 2.9),  
with similar
results as Michael.

All results I sent were on 2.8 from Simon's site and the Rgraphviz  
binary from
bioconductor.

Rob


On Aug 21, 2006, at 8:42 AM, Seth Falcon wrote:

> Rob J Goedman <goedman at mac.com> writes:
>
>> Below (graphviz1.out) the dylibs that get loaded.  And the file I
>> sourced in. The plot(g1, "dot")
>> produced the usual plot (until now I have always been using version
>> Graphviz-2.3), the
>> plot(g1, "neato") causes the bus error/invalid address.
>
> graphviz 2.3 is rather old.  Can you try upgrading to the latest
> release and see if the problem persists?


From kubovy at virginia.edu  Mon Aug 21 18:16:53 2006
From: kubovy at virginia.edu (Michael Kubovy)
Date: Mon, 21 Aug 2006 12:16:53 -0400
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <m2y7ti9mko.fsf@ziti.fhcrc.org>
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
	<78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu>
	<m2u049iu2p.fsf@ziti.fhcrc.org>
	<41427A3B-62E7-4766-A6C3-827FF7DE9BD3@virginia.edu>
	<m2y7ti9mko.fsf@ziti.fhcrc.org>
Message-ID: <B9D6DDC0-E451-4478-B76A-1DEA987B54BF@virginia.edu>

Hi Seth,

On Aug 21, 2006, at 10:43 AM, Seth Falcon wrote:

> Michael Kubovy <kubovy at virginia.edu> writes:
>>> In R, do:
>>>
>>> rglibs <- system.file("libs/Rgraphviz.so", package="Rgraphviz")
>>> system(paste("otool -L", rglibs))
>>>
>>> This will only work, I suspect, if you have the Xcode tools  
>>> installed
>>> already, but it should tell you which version of graphviz, your
>>> Rgraphviz is linked against.
>>
>> No such luck. AFAIK, I have Xcode (I downloaded the latest developer
>> tools recently), but:
>>
>>> rglibs <- system.file("libs/Rgraphviz.so", package="Rgraphviz")
>>> system(paste("otool -L", rglibs))
>>> rglibs
>> [1] ""
>>
>> The system command returned nothing.
>
> Sorry, looks like the Rgraphviz.so or equivalent is in a different
> place in the Rgraphviz binary.  Can you take a look at the installed
> package directory ( system.file(package="Rgraphviz") ), find the .so
> or .dylib and try the otool thing again (from R).

The problem definitely occurs on PPC.

 > system.file(package="Rgraphviz")
[1] "/Library/Frameworks/R.framework/Resources/library/Rgraphviz"

 > rglibs <- system.file(package="Rgraphviz")
 > system(paste("otool -L", rglibs))
 >

In other words, nothing.

I found Rgraphviz.so here:

/Library/Frameworks/R.framework/Versions/2.3/Resources/library/ 
Rgraphviz/libs/ppc/Rgraphviz.so

There are over 1200 files *.dylib on my disk.
_____________________________
Professor Michael Kubovy
University of Virginia
Department of Psychology
USPS:     P.O.Box 400400    Charlottesville, VA 22904-4400
Parcels:    Room 102        Gilmer Hall
         McCormick Road    Charlottesville, VA 22903
Office:    B011    +1-434-982-4729
Lab:        B019    +1-434-982-4751
Fax:        +1-434-982-4766
WWW:    http://www.people.virginia.edu/~mk9y/


From pshannon at systemsbiology.org  Mon Aug 21 18:17:26 2006
From: pshannon at systemsbiology.org (Paul Shannon)
Date: Mon, 21 Aug 2006 09:17:26 -0700
Subject: [R-SIG-Mac] Rgraphviz alternative (was Re: Rgraphviz installation
	problem)
In-Reply-To: <m264gqni2t.fsf@ziti.fhcrc.org> (message from Seth Falcon on Fri, 
	18 Aug 2006 09:07:22 -0700)
Message-ID: <200608211617.k7LGHQUA027227@atlas.systemsbiology.net>

Some users of Rgraphviz may be interested in the new Bioconductor package "gaggle".

It presents possibly fewer installation problems, and provides access to
interactive graph display and manipulation from R via the Cytoscape program.  

Installation instructions may be found at

  http://gaggle.systemsbiology.org/docs/geese/r/

Click on the 'Mac OSX' link to the left on this page.

The vignette describes how to broadcast a network from R to Cytoscape:

  http://www.bioconductor.org/packages/1.9/bioc/vignettes/gaggle/inst/doc/gaggle.pdf

Feedback welcome.

 - Paul Shannon
   Institute for Systems Biology
   Seattle


From simon.urbanek at r-project.org  Mon Aug 21 19:00:57 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 21 Aug 2006 13:00:57 -0400
Subject: [R-SIG-Mac] RMySQL won't install
In-Reply-To: <ED37551E-0180-4B42-AB4B-A3C98A6F6187@hawaii.edu>
References: <ED37551E-0180-4B42-AB4B-A3C98A6F6187@hawaii.edu>
Message-ID: <5537F035-9C54-42D9-B676-F131804B88AD@r-project.org>


On Aug 21, 2006, at 4:54 AM, Casey Dunn wrote:

> Hi-
> 	I am also having trouble installing RMySQL (OS X 10.4.7, R2.3.1,
> MySQL 5.0.24, RMySQL 0.5-7, all 32 bit PPC). DBI loads fine, but when
> I try to load RMySQL I get the following:
> 	
> 	
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
> 	unable to load shared library '/Library/Frameworks/R.framework/
> Versions/2.3/Resources/library/RMySQL/libs/ppc/RMySQL.so':
>    dlopen(/Library/Frameworks/R.framework/Versions/2.3/Resources/
> library/RMySQL/libs/ppc/RMySQL.so, 6): Symbol not found:  
> _load_defaults
>    Referenced from: /Library/Frameworks/R.framework/Versions/2.3/
> Resources/library/RMySQL/libs/ppc/RMySQL.so
>    Expected in: flat namespace
> Error in library(RMySQL) : .First.lib failed for 'RMySQL'
>
>

I can confirm that. It was a problem on the build machine that didn't  
have mysql for ppc. I have fixed that (by creating an universal mysql  
devel kit) so it should be available on the mirrors shortly. You can  
fetch the correct RMySQL binary right now with

install.packages("RMySQL",,"http://r.research.att.com/")



> I downloaded the source for RMySQL, compiled it (gcc 4.0.0), and  
> got the exact same result. I also tried with MySQL 5.0.20 and MySQL  
> 4.0.21, and again got the same result.
>

My guess would be that you either don't have the correct libraries or  
there is another RMySQL version in your system somewhere. I have no  
problem re-compiling RMySQL from sources. This works for me (mysql  
5.0.24):

PKG_CPPFLAGS=-I/usr/local/mysql/include PKG_LIBS="-L/usr/local/mysql/ 
lib -lmysqlclient" R CMD INSTALL RMySQL_0.5-7.tar.gz

Cheers,
Simon


From sfalcon at fhcrc.org  Mon Aug 21 19:21:18 2006
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Mon, 21 Aug 2006 10:21:18 -0700
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <2A490F97-6C34-42E2-9029-51334CBD24EB@mac.com> (Rob J. Goedman's
	message of "Mon, 21 Aug 2006 08:53:58 -0700")
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
	<78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu>
	<m2u049iu2p.fsf@ziti.fhcrc.org>
	<41427A3B-62E7-4766-A6C3-827FF7DE9BD3@virginia.edu>
	<FA4D023F-051E-4277-98B9-698B45712598@mac.com>
	<m2u0469mgx.fsf@ziti.fhcrc.org>
	<788D20EE-5DB2-4E8D-B02F-1C63E979DF23@r-project.org>
	<C378CFD0-5B12-4EDD-8259-C9082CB7C30E@mac.com>
	<m2wt92858l.fsf@ziti.fhcrc.org>
	<2A490F97-6C34-42E2-9029-51334CBD24EB@mac.com>
Message-ID: <m21wra80oh.fsf@ziti.fhcrc.org>

Rob J Goedman <goedman at mac.com> writes:

> Hi Seth,
>
> Sorry I did not make myself clear. Until about 2 weeks ago I had been
> using
> 2.3, which worked well. I tried 2.6 a couple of times, but never
> really got it
> to work. When I saw Michael's email last week, I tried 2.8 (and 2.9),
> with similar
> results as Michael.
>
> All results I sent were on 2.8 from Simon's site and the Rgraphviz
> binary from
> bioconductor.

I can confirm that using R.app from CRAN, Simon's binary graphviz
install and the binary Rgraphviz, that the crash occurs on ppc.

Simon, any ideas?  Building graphviz, R, Rgraphviz from source, things
have been working fine for me.

+ seth


From sfalcon at fhcrc.org  Mon Aug 21 17:42:50 2006
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Mon, 21 Aug 2006 08:42:50 -0700
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <C378CFD0-5B12-4EDD-8259-C9082CB7C30E@mac.com> (Rob J. Goedman's
	message of "Mon, 21 Aug 2006 08:34:17 -0700")
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
	<78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu>
	<m2u049iu2p.fsf@ziti.fhcrc.org>
	<41427A3B-62E7-4766-A6C3-827FF7DE9BD3@virginia.edu>
	<FA4D023F-051E-4277-98B9-698B45712598@mac.com>
	<m2u0469mgx.fsf@ziti.fhcrc.org>
	<788D20EE-5DB2-4E8D-B02F-1C63E979DF23@r-project.org>
	<C378CFD0-5B12-4EDD-8259-C9082CB7C30E@mac.com>
Message-ID: <m2wt92858l.fsf@ziti.fhcrc.org>

Rob J Goedman <goedman at mac.com> writes:

> Below (graphviz1.out) the dylibs that get loaded.  And the file I
> sourced in. The plot(g1, "dot")
> produced the usual plot (until now I have always been using version
> Graphviz-2.3), the
> plot(g1, "neato") causes the bus error/invalid address.

graphviz 2.3 is rather old.  Can you try upgrading to the latest
release and see if the problem persists?


From lists at revelle.net  Mon Aug 21 21:57:16 2006
From: lists at revelle.net (William Revelle)
Date: Mon, 21 Aug 2006 14:57:16 -0500
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <m2wt92858l.fsf@ziti.fhcrc.org>
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
	<78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu>
	<m2u049iu2p.fsf@ziti.fhcrc.org>
	<41427A3B-62E7-4766-A6C3-827FF7DE9BD3@virginia.edu>
	<FA4D023F-051E-4277-98B9-698B45712598@mac.com>
	<m2u0469mgx.fsf@ziti.fhcrc.org>
	<788D20EE-5DB2-4E8D-B02F-1C63E979DF23@r-project.org>
	<C378CFD0-5B12-4EDD-8259-C9082CB7C30E@mac.com>
	<m2wt92858l.fsf@ziti.fhcrc.org>
Message-ID: <p0623092fc10fbdbe9d32@[192.168.1.102]>

Dear R - mac users

I also have been trying to use Rgraphviz with the same problem.

all "dot" plots seem to work, but any attempt to do a "neato" or 
other type makes R crash:

I am running R Version 2.3.1 (2006-06-01)
on a Power Book  Power PC G4 running  10.4.7

I have been able to run Graphviz version 1.13 as a standalone program 
with dot commands generated by R (following a script based upon John 
Fox's sem graph script) or  can use Rgraphviz to do somewhat simpler 
graphs within R.

Using the example code from ?dot
library(Rgraphviz)
Loading required package: graph
Loading required package: Ruuid
>  ?dot
>  set.seed(123)
>  V <- letters[1:10]
>  M <- 1:4
>  g1 <- randomGraph(V, M, .2)
>  plot(g1)
>  plot(g1,"neato")

  *** caught bus error ***
address 0x0, cause 'invalid alignment'

Traceback:
  1: .Call("Rgraphviz_doLayout", graph, as.integer(type), PACKAGE = "Rgraphviz")
  2: layoutGraph(g)
  3: agopen(x, name = name, layout = TRUE, layoutType = y, attrs = 
attrs,     nodeAttrs = nodeAttrs, edgeAttrs = edgeAttrs, subGList = 
subGList,     recipEdges = recipEdges)
  4: .local(x, y, ...)
  5: plot(g1, "neato")
  6: plot(g1, "neato")


Here is the Mac problem report:

Date/Time:      2006-08-21 14:53:52.784 -0500
OS Version:     10.4.7 (Build 8J135)
Report Version: 4

Command: R
Path:    /Applications/R.app/Contents/MacOS/R
Parent:  WindowServer [65]

Version: 1.16 (3198)

PID:    26700
Thread: 0

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000000

Thread 0 Crashed:
0   libpack.2.dylib               	0x055a20d4 packGraphs + 240 
(pack.c:778)
1   ...plugin_neato_layout.2.dylib	0x07816ff8 neato_layout + 688 
(neatoinit.c:1218)
2   libgvc.2.dylib                	0x0690f510 gvLayoutJobs + 100 
(gvlayout.c:69)
3   libgvc.2.dylib                	0x06912604 gvLayout + 64 (gvc.c:71)
4   Rgraphviz.so                  	0x04aa2754 Rgraphviz_doLayout 
+ 508 (Rgraphviz.c:429)
5   libR.dylib                    	0x01071714 do_dotcall + 764 
(dotcode.c:861)
6   libR.dylib                    	0x0109d818 Rf_eval + 1576 (eval.c:415)
7   libR.dylib                    	0x0109f7c8 do_set + 728 (eval.c:1326)
8   libR.dylib                    	0x0109d6e4 Rf_eval + 1268 (eval.c:398)
9   libR.dylib                    	0x0109f888 do_begin + 84 (eval.c:1075)
10  libR.dylib                    	0x0109d6e4 Rf_eval + 1268 (eval.c:398)
11  libR.dylib                    	0x0109d6e4 Rf_eval + 1268 (eval.c:398)
12  libR.dylib                    	0x0109f888 do_begin + 84 (eval.c:1075)
13  libR.dylib                    	0x0109d6e4 Rf_eval + 1268 (eval.c:398)
14  libR.dylib                    	0x010a0c80 Rf_applyClosure + 
684 (eval.c:588)
15  libR.dylib                    	0x0109d550 Rf_eval + 864 (eval.c:429)
16  libR.dylib                    	0x0109e5f8 
Rf_evalListKeepMissing + 132 (eval.c:1454)
17  libR.dylib                    	0x0109e768 do_return + 48 (eval.c:1091)
18  libR.dylib                    	0x0109d6e4 Rf_eval + 1268 (eval.c:398)
19  libR.dylib                    	0x0109d6e4 Rf_eval + 1268 (eval.c:398)
20  libR.dylib                    	0x0109f888 do_begin + 84 (eval.c:1075)
21  libR.dylib                    	0x0109d6e4 Rf_eval + 1268 (eval.c:398)
22  libR.dylib                    	0x010a0c80 Rf_applyClosure + 
684 (eval.c:588)
23  libR.dylib                    	0x0109d550 Rf_eval + 864 (eval.c:429)
24  libR.dylib                    	0x0109f7c8 do_set + 728 (eval.c:1326)
25  libR.dylib                    	0x0109d6e4 Rf_eval + 1268 (eval.c:398)
26  libR.dylib                    	0x0109f888 do_begin + 84 (eval.c:1075)
27  libR.dylib                    	0x0109d6e4 Rf_eval + 1268 (eval.c:398)
28  libR.dylib                    	0x010a0c80 Rf_applyClosure + 
684 (eval.c:588)
29  libR.dylib                    	0x0109d550 Rf_eval + 864 (eval.c:429)
30  libR.dylib                    	0x0109f888 do_begin + 84 (eval.c:1075)
31  libR.dylib                    	0x0109d6e4 Rf_eval + 1268 (eval.c:398)
32  libR.dylib                    	0x010a0584 R_execClosure + 
276 (eval.c:673)
33  libR.dylib                    	0x010a0910 R_execMethod + 580 
(eval.c:775)
34  methods.so                    	0x04a7623c R_standardGeneric 
+ 1216 (methods_list_dispatch.c:624)
35  libR.dylib                    	0x010d0f64 do_standardGeneric 
+ 176 (objects.c:1012)
36  libR.dylib                    	0x0109d93c Rf_eval + 1868 (eval.c:418)
37  libR.dylib                    	0x010a0c80 Rf_applyClosure + 
684 (eval.c:588)
38  libR.dylib                    	0x0109d550 Rf_eval + 864 (eval.c:429)
39  org.R-project.R               	0x00032390 
run_REngineRmainloop + 640 (Rinit.c:391)
40  org.R-project.R               	0x0002aa1c -[REngine runREPL] 
+ 68 (REngine.m:167)
41  org.R-project.R               	0x0001d340 main + 680 (main.m:101)
42  org.R-project.R               	0x00002e8c _start + 340 (crt.c:272)
43  org.R-project.R               	0x00002d34 start + 60

Thread 1:
0   libSystem.B.dylib             	0x9001f7ac select + 12
1   org.R-project.R               	0x0000a588 -[RController 
readThread:] + 588 (RController.m:553)
2   com.apple.Foundation          	0x92944194 forkThreadForFunction + 108
3   libSystem.B.dylib             	0x9002bc28 _pthread_body + 96

Thread 2:
0   libSystem.B.dylib             	0x9004a568 syscall_thread_switch + 8
1   com.apple.Foundation          	0x9295c5d0 +[NSThread 
sleepUntilDate:] + 152
2   com.apple.AppKit              	0x937b0a10 -[NSUIHeartBeat 
_heartBeatThread:] + 1100
3   com.apple.Foundation          	0x92944194 forkThreadForFunction + 108
4   libSystem.B.dylib             	0x9002bc28 _pthread_body + 96

Thread 3:
0   libSystem.B.dylib             	0x9000b268 mach_msg_trap + 8
1   libSystem.B.dylib             	0x9000b1bc mach_msg + 60
2   com.apple.CoreFoundation      	0x907dbb78 __CFRunLoopRun + 832
3   com.apple.CoreFoundation      	0x907db47c CFRunLoopRunSpecific + 268
4   com.apple.Foundation          	0x9296b69c 
+[NSURLConnection(NSURLConnectionInternal) _resourceLoadLoop:] + 264
5   com.apple.Foundation          	0x92944194 forkThreadForFunction + 108
6   libSystem.B.dylib             	0x9002bc28 _pthread_body + 96

Thread 4:
0   libSystem.B.dylib             	0x9000b268 mach_msg_trap + 8
1   libSystem.B.dylib             	0x9000b1bc mach_msg + 60
2   com.apple.CoreFoundation      	0x907dbb78 __CFRunLoopRun + 832
3   com.apple.CoreFoundation      	0x907db47c CFRunLoopRunSpecific + 268
4   com.apple.Foundation          	0x9296c7dc +[NSURLCache 
_diskCacheSyncLoop:] + 152
5   com.apple.Foundation          	0x92944194 forkThreadForFunction + 108
6   libSystem.B.dylib             	0x9002bc28 _pthread_body + 96

Thread 5:
0   libSystem.B.dylib             	0x9000b268 mach_msg_trap + 8
1   libSystem.B.dylib             	0x9000b1bc mach_msg + 60
2   com.apple.CoreFoundation      	0x907dbb78 __CFRunLoopRun + 832
3   com.apple.CoreFoundation      	0x907db47c CFRunLoopRunSpecific + 268
4   com.apple.Foundation          	0x92953164 -[NSRunLoop 
runMode:beforeDate:] + 172
5   com.apple.Foundation          	0x9295309c -[NSRunLoop run] + 76
6   com.apple.WebKit              	0x95a68f70 +[WebFileDatabase 
_syncLoop:] + 176
7   com.apple.Foundation          	0x92944194 forkThreadForFunction + 108
8   libSystem.B.dylib             	0x9002bc28 _pthread_body + 96

Good luck.

Bill



At 8:42 AM -0700 8/21/06, Seth Falcon wrote:
>Rob J Goedman <goedman at mac.com> writes:
>
>>  Below (graphviz1.out) the dylibs that get loaded.  And the file I
>>  sourced in. The plot(g1, "dot")
>>  produced the usual plot (until now I have always been using version
>>  Graphviz-2.3), the
>>  plot(g1, "neato") causes the bus error/invalid address.
>
>graphviz 2.3 is rather old.  Can you try upgrading to the latest
>release and see if the problem persists?
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
William Revelle		http://pmc.psych.northwestern.edu/revelle.html   
Professor			http://personality-project.org/personality.html
Department of Psychology       http://www.wcas.northwestern.edu/psych/
Northwestern University	http://www.northwestern.edu/


From goedman at mac.com  Tue Aug 22 04:18:16 2006
From: goedman at mac.com (Rob J Goedman)
Date: Mon, 21 Aug 2006 19:18:16 -0700
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <m21wra9kzn.fsf@ziti.fhcrc.org>
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
	<78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu>
	<m2u049iu2p.fsf@ziti.fhcrc.org>
	<41427A3B-62E7-4766-A6C3-827FF7DE9BD3@virginia.edu>
	<FA4D023F-051E-4277-98B9-698B45712598@mac.com>
	<m2u0469mgx.fsf@ziti.fhcrc.org>
	<788D20EE-5DB2-4E8D-B02F-1C63E979DF23@r-project.org>
	<m21wra9kzn.fsf@ziti.fhcrc.org>
Message-ID: <87E997E2-E76B-4F46-BE4B-4D69ADE93B43@mac.com>

Seth,

Quite the contrary, most (all?) of the mails I've seen are on ppc.

Rob


On Aug 21, 2006, at 8:17 AM, Seth Falcon wrote:

> Simon Urbanek <simon.urbanek at r-project.org> writes:
>
>> FWIW: if you want to know which dylibs get loaded, start R like this:
>>
>> DYLD_PRINT_LIBRARIES=1 R
>>
>> Seth, which architecture are you using (ppc/i386)?
>
> ppc, so perhaps the problem only occurs on i386.  But the discussion
> has been sufficiently confused with multiple graphviz versions, etc
> that I'm going to wait for more details before investigating further.
>
> + seth
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From sfalcon at fhcrc.org  Thu Aug 24 19:05:02 2006
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Thu, 24 Aug 2006 10:05:02 -0700
Subject: [R-SIG-Mac] Rgraphviz installation problem
In-Reply-To: <87E997E2-E76B-4F46-BE4B-4D69ADE93B43@mac.com> (Rob J. Goedman's
	message of "Mon, 21 Aug 2006 19:18:16 -0700")
References: <3E6393BD-E42F-40B7-BCC3-195B5964D024@virginia.edu>
	<7A6655A8-FF3D-4624-BB16-178440FF580A@r-project.org>
	<39B1A49B-0EF5-4DEA-9EC0-02FE34D627FB@virginia.edu>
	<804DC610-9F27-4A15-A069-6B1164E09C43@r-project.org>
	<m264gqni2t.fsf@ziti.fhcrc.org>
	<78ED7093-4E61-4BD1-A524-576338F6655E@virginia.edu>
	<m2u049iu2p.fsf@ziti.fhcrc.org>
	<41427A3B-62E7-4766-A6C3-827FF7DE9BD3@virginia.edu>
	<FA4D023F-051E-4277-98B9-698B45712598@mac.com>
	<m2u0469mgx.fsf@ziti.fhcrc.org>
	<788D20EE-5DB2-4E8D-B02F-1C63E979DF23@r-project.org>
	<m21wra9kzn.fsf@ziti.fhcrc.org>
	<87E997E2-E76B-4F46-BE4B-4D69ADE93B43@mac.com>
Message-ID: <m2u042uksh.fsf@ziti.local>

Rob J Goedman <goedman at mac.com> writes:

> Seth,
>
> Quite the contrary, most (all?) of the mails I've seen are on ppc.

Yep, I was completely wrong on that one.

As you demonstrated in a private mail, the issue appears to be with
graphviz 2.8 on OS X (ppc _and_ intel).

I was able to run the test script using Rgraphviz and a 2.7 devel
version of graphviz (not sure how to get a hold of this).

At any rate, we will be communicating with the graphviz team to report
this.  

Sorry for the inconvenience, folks, but if the problem really is in
graphviz itself, there isn't too much we can do...

+ seth


From elmore at stat.colostate.edu  Thu Aug 24 19:59:54 2006
From: elmore at stat.colostate.edu (Ryan Elmore)
Date: Thu, 24 Aug 2006 11:59:54 -0600
Subject: [R-SIG-Mac] previous question
Message-ID: <F9241470-2011-4F24-9B4E-F64DB3AA4E58@stat.colostate.edu>

Hi everybody,

I am having the same problem as reported in Jorge Ahumada's post on  
June 1 (https://stat.ethz.ch/pipermail/r-sig-mac/2006-June/ 
002992.html) and can't find a solution.  Here is the problem in  
Jorge's words:
###
Since upgrading to R 2.3  and R.app 1.16 the workspace in my home  
directory
is always loaded independently of whether I start R.app in the home
directory or not. For example if I type in the terminal:

open -a R.app /someOtherDIrectory/

The ~/.RData file is uploaded when R starts. In the system  
preferences I do
not have checked the 'always apply' in the startup options, but my home
directory is the startup directory..This was not the usual behavior  
before..
I am  using the latest build  (3186) of R.app
###

I am using R 2.3.1 and R.app 1.16 (3198).  I would appreciate the  
gesture if anybody can help me out with this problem.  Thanks in  
advance.

Ryan


From simon.urbanek at r-project.org  Fri Aug 25 10:18:15 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 25 Aug 2006 10:18:15 +0200
Subject: [R-SIG-Mac] previous question
In-Reply-To: <F9241470-2011-4F24-9B4E-F64DB3AA4E58@stat.colostate.edu>
References: <F9241470-2011-4F24-9B4E-F64DB3AA4E58@stat.colostate.edu>
Message-ID: <965247FF-9257-470A-97F9-E34EC1C3C469@r-project.org>

Ryan,

due to internal changes in the way R is started in the GUI, it is no  
longer possible to change the working directory *before* starting R.  
This is also due to a change made by Apple, such that the event  
telling us which directory to load comes too late (basically it's a  
chicken-and-egg problem).

Therefore the GUI starts R (incl. default initialization = loading  
workspace from home), changes the directory as desired and loads the  
workspace from that directory. This implies that the saved workspace  
in your home directory is always loaded, regardless of the desired  
starting directory. Hence it's a good idea to not save a workspace in  
home, unless you want to load some common tools every time the GUI  
gets started.

I agree that it would be possible to at least allow override the  
initial directory in the preferences and update the documentation  
correspondingly - I plan to do so ASAP.

Thanks,
Simon

On Aug 24, 2006, at 7:59 PM, Ryan Elmore wrote:

> Hi everybody,
>
> I am having the same problem as reported in Jorge Ahumada's post on
> June 1 (https://stat.ethz.ch/pipermail/r-sig-mac/2006-June/
> 002992.html) and can't find a solution.  Here is the problem in
> Jorge's words:
> ###
> Since upgrading to R 2.3  and R.app 1.16 the workspace in my home
> directory
> is always loaded independently of whether I start R.app in the home
> directory or not. For example if I type in the terminal:
>
> open -a R.app /someOtherDIrectory/
>
> The ~/.RData file is uploaded when R starts. In the system
> preferences I do
> not have checked the 'always apply' in the startup options, but my  
> home
> directory is the startup directory..This was not the usual behavior
> before..
> I am  using the latest build  (3186) of R.app
> ###
>
> I am using R 2.3.1 and R.app 1.16 (3198).  I would appreciate the
> gesture if anybody can help me out with this problem.  Thanks in
> advance.
>
> Ryan
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From sdavis2 at mail.nih.gov  Fri Aug 25 13:32:22 2006
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Fri, 25 Aug 2006 07:32:22 -0400
Subject: [R-SIG-Mac] 64-bit from source
Message-ID: <C1145806.101D6%sdavis2@mail.nih.gov>

I did a little surfing but did not find a recent answer to how to build
64-bit R from source.  I use ESS/emacs, so I don't want to build the GUI
right now; this is mainly so that I can have a 64-bit devel version of R
running.  I have xcode tools 2.4 and gfortran running and routinely build R
from source, but not 64-bit.

Any suggestions or links that I missed are appreciated.

Thanks,
Sean


From simon.urbanek at r-project.org  Fri Aug 25 14:37:12 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 25 Aug 2006 14:37:12 +0200
Subject: [R-SIG-Mac] 64-bit from source
In-Reply-To: <C1145806.101D6%sdavis2@mail.nih.gov>
References: <C1145806.101D6%sdavis2@mail.nih.gov>
Message-ID: <0581443A-EA79-4A49-B82A-168746353BD4@r-project.org>


On Aug 25, 2006, at 1:32 PM, Sean Davis wrote:

> I did a little surfing but did not find a recent answer to how to  
> build 64-bit R from source.  I use ESS/emacs, so I don't want to  
> build the GUI right now; this is mainly so that I can have a 64-bit  
> devel version of R running.  I have xcode tools 2.4 and gfortran  
> running and routinely build R from source, but not 64-bit.
>

You may want to have a look at
http://r.research.att.com/exp/

it contains the 64-binary, but also the flags used to build it. As of  
tools, just use the tools that come with R 2.3.1.

Cheers,
Simon


From kthul at mac.com  Sat Aug 26 16:15:45 2006
From: kthul at mac.com (Klaus Thul)
Date: Sat, 26 Aug 2006 22:15:45 +0800
Subject: [R-SIG-Mac] Setting ulimit in R.app (GUI)
Message-ID: <13933254-0416-4C12-A8A8-2ABAA694DB3E@mac.com>

Dear all,

my R-program which does a lot of object allocation / de-allocation.

To be able to run it without running into excessive swapping, I have  
to set an limit on the maximum memory used by R.

Within terminal, this can be done easily:

	ulimit -m 1000000
	R
	> source("myprogram.R")

I can then observe nicely in ActivityMonitor that the amount of  
memory used by R growth upto 1GB (my machine has 1.5GB installed) and  
is then reduced drastically by the garbage collector.

But I would prefer to work in the GUI (R.app). Is there a way to set  
such an limit for the R-process started within the GUI?

Thanks in advance for your help,

Best regards,
Klaus


From jenlsmall at verizon.net  Mon Aug 28 17:33:39 2006
From: jenlsmall at verizon.net (Jennifer Small)
Date: Mon, 28 Aug 2006 11:33:39 -0400
Subject: [R-SIG-Mac] quantile() bus error
Message-ID: <6DEB4E5A-BC3A-4BB0-AD79-261444B478E5@verizon.net>

Hello list,

I'm attempting to build R 2.3.1 from source on a Mac Mini intel duo  
core with OS 10.4.7.  There were no errors reported in configure or  
make. However, make check fails immediately on the quantile function.  
The trace is

 > x <- sort(rnorm(100));  cH <- 1.35
 > pmin(cH, quantile(x)) # no names

*** caught bus error ***
address 0x107bcb1, cause 'non-existent physical address'

Traceback:
1: sort(x, partial = unique(c(lo, hi)))
2: quantile.default(x)
3: quantile(x)
4: pmin(cH, quantile(x))
aborting ...

If I open an R command line session and try to call quantile() I get  
the same bus error:

 > quantile(1:10)

*** caught bus error ***
address 0x107bcb1, cause 'non-existent physical address'

Traceback:
1: sort(x, partial = unique(c(lo, hi)))
2: quantile.default(1:10)
3: quantile(1:10)

Possible actions:
1: abort (with core dump)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace
Selection: q
Selection: 1
aborting ...
Bus error

I'm stumped. Any ideas? Thanks in advance.


From gcoppola at ucla.edu  Tue Aug 29 18:51:43 2006
From: gcoppola at ucla.edu (Giovanni Coppola)
Date: Tue, 29 Aug 2006 09:51:43 -0700
Subject: [R-SIG-Mac] X11 window
Message-ID: <2D97E38A-760A-42BA-862F-2F8B50A425A1@ucla.edu>

Hello everybody,
while closing graphic outputs, I sometimes close by mistake the X11 R  
main window with command+w.
Is there a way to resume it?
Thanks
Giovanni


From Beyerj at students.uni-marburg.de  Wed Aug 30 10:48:13 2006
From: Beyerj at students.uni-marburg.de (J=?ISO-8859-1?B?9g==?=rg Beyer)
Date: Wed, 30 Aug 2006 10:48:13 +0200
Subject: [R-SIG-Mac] Weird issue with Omegahat's Sxslt and high ASCII
 characters in XML files
Message-ID: <C11B1D6D.19F0%Beyerj@students.uni-marburg.de>

Hello. 

This is (most probably) not a question, this is a report about an issue with
Omegahat's Xslt 0.5-2 (and back to 0.5-0), or with R, or platform related,
or an arbitrary mixture of all three ... I can't decide that. Despite
various testing and attempts to work around the problem, the result is
always the same. 


Environment: 
------------
Mac OS X 10.4.6
R 2.2.1 ... via R.app *or* the terminal
(BTW, for me R 2.3.1 is a no-op at the moment)
R locale set to "de_DE.UTF-8/...", which is the default
Package XML 0.99-8
Package Sxslt 0.5-2


Task:
-----
I have
-- a XML-file which contains a *valid* XML data-structure (incl. a DTD)
-- a XSLT-file with a *valid* style sheet
... both UTF-8, no BOM, with explicit encoding information in the XML header
(encoding="utf-8").

I want to read the XML-file, and parse the data to a suitable R list
structure with XSLT. All in all, this *does* work as expected, no difference
which of the following three strategies I choose, but alternative (3) below
yields some strange results.


Three alternative attempts/strategies:
--------------------------------------
(1) Reading the XML-file and parsing the XML-tree directly with the methods
from the XML-package (main methods: "xmlTreeParse", "xmlRoot").

> objectAsXML <- xmlRoot( xmlTreeParse( xmlfile, validate=TRUE ));


(2) Reading the XML-file, applying the XSLT style sheet to transform the XML
tree, then writing the result to a [temporary/utility, whatever] file, and
at last sourcing this file in and assigning the result to a R object --
voila, not very elegant, but good for testing whether the transformation
worked (main methods: "xsltApplyStyleSheet", "saveXML").

> xslsheet <- xsltParseStyleSheet( xslfile );
> objectAsS3list <- xsltApplyStyleSheet( xmlfile, xslsheet );
> check <- saveXML( objectAsS3list, xsltparsed.out );
> objectAsS3list <- source( xsltparsed.out )[[ 1 ]];


(3) Identical to (2), but without saving the transformed data to a temporary
file. Instead, I call saveXML without a file name, and assign the
XSLT-transformed XML-tree directly to an R object.

> xslsheet <- xsltParseStyleSheet( xslfile );
> objectAsS3list <- xsltApplyStyleSheet( xmlfile, xslsheet );
> objectAsS3list <- eval( parse( text=saveXML( objectAsS3list )));


Results and problem:
--------------------
... or 'the funny part'. One would think that all three strategies yield
exactly the same results, but that's not what happens. My XML-data contain
German umlauts (in the data parts, not in the tags, of course), e.g.

  <name>J?rg Beyer</name>

With alternatives (1)/package XML, and (2)/Sxslt + temp file,
this example parses and results in R as

  <name>J?rg Beyer</name> # (1), or ...
  "J?rg Beyer" # (2), respectively

which is exactly what I would expect -- *no problems here*. But with method
(3)/Sxslt + direct assignment of the result to a variable, this example
shows in R as 

  "J&#246;rg Beyer" # ugly, isn't it?

It makes no difference whether I store the umlauts as characters or entities
in the XML file, the result is the same (but storing the pure characters is
more convenient). 
Second, it makes no difference whether I set the encoding of the XML file,
say, to "ISO-8859-1" or something other than "utf-8". Again, the encoding
information is an explicit part of the headers of my XML files. Always.
And third, it makes no difference whether I use the terminal or R.app.
And of course, trying to change the char mapping with other R commands
during the whole process doesn't help.

I informed the developer of the packages on 2006-08-02, and on 2006-08-28.
Thanks for your interest.

Joerg


From massimodisasha at yahoo.it  Thu Aug 31 17:50:25 2006
From: massimodisasha at yahoo.it (massimodisasha)
Date: Thu, 31 Aug 2006 17:50:25 +0200
Subject: [R-SIG-Mac] how can i install: glib/gtk 1.2.10
Message-ID: <26E6E717-8441-4FD2-A20F-72356E52CEFC@yahoo.it>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060831/dbea49dc/attachment.pl 

From tchiang at fhcrc.org  Thu Aug 31 18:39:06 2006
From: tchiang at fhcrc.org (Tony Chiang)
Date: Thu, 31 Aug 2006 09:39:06 -0700 (PDT)
Subject: [R-SIG-Mac] how can i install: glib/gtk 1.2.10
In-Reply-To: <26E6E717-8441-4FD2-A20F-72356E52CEFC@yahoo.it>
References: <26E6E717-8441-4FD2-A20F-72356E52CEFC@yahoo.it>
Message-ID: <Pine.LNX.4.61.0608310924180.29205@shrew.fhcrc.org>

Hi Massimo,

If you download the tarball, you will need to unzip and tar the file, and 
then install the software with 

./configure
make 
sudo make install

in the directory where you unpack all the files. This can be rather 
tedious as you might need if there are other dependencies which 
glibgtk-1.2.10-univ is dependent.

I would suggest getting Darwinport. Google darwinport and download the
.dmg file. Install this on your system. You will probably have to 
add the path /opt/local/bin to your profile, otherwise you won't see the
port command. Once you have added the path, you will need to sync with the 
commands

port sync

port selfupdate

then you can download and install the latest available 
glibgtk-* by the command:

sudo port install "whatEverFile"

And that should be all that you need to do...you don't need to search for 
dependencies or such. This is a pretty good way to download and install 
open source software, and I have had some good luck with it.

Cheers,
--Tony


On Thu, 31 Aug 2006, massimodisasha wrote:

> hi,
> at :
> http://r.research.att.com/
>   i've download :
> 
> glib/gtk 1.2.10 (w/patches)
> glibgtk-1.2.10-univ.tar.gz
> 
> 
> but i do not know how can i install it :-(
> it is a folder :
> http://img350.imageshack.us/img350/7388/immagine4by9.png
> 
> sorry for the newbie question
> i hope that you can halpe me,
> thanks.
> Massimo
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From h.wickham at gmail.com  Thu Aug 31 19:31:54 2006
From: h.wickham at gmail.com (hadley wickham)
Date: Thu, 31 Aug 2006 12:31:54 -0500
Subject: [R-SIG-Mac] how can i install: glib/gtk 1.2.10
In-Reply-To: <Pine.LNX.4.61.0608310924180.29205@shrew.fhcrc.org>
References: <26E6E717-8441-4FD2-A20F-72356E52CEFC@yahoo.it>
	<Pine.LNX.4.61.0608310924180.29205@shrew.fhcrc.org>
Message-ID: <f8e6ff050608311031x66f70148lc455b75d74e46ffe@mail.gmail.com>

> I would suggest getting Darwinport. Google darwinport and download the
> .dmg file. Install this on your system. You will probably have to
> add the path /opt/local/bin to your profile, otherwise you won't see the
> port command. Once you have added the path, you will need to sync with the
> commands

I don't think that this works reliably any more because R is now a
universal binary, and darwinports doesn't make universal binaries (we
certainly have problems with rggobi).  Simon will know more about
this.

Hadley


From tchiang at fhcrc.org  Thu Aug 31 19:44:55 2006
From: tchiang at fhcrc.org (Tony Chiang)
Date: Thu, 31 Aug 2006 10:44:55 -0700 (PDT)
Subject: [R-SIG-Mac] how can i install: glib/gtk 1.2.10
In-Reply-To: <921FB12A-F393-455A-8AAD-6702FAEE4A00@yahoo.it>
References: <26E6E717-8441-4FD2-A20F-72356E52CEFC@yahoo.it>
	<Pine.LNX.4.61.0608310924180.29205@shrew.fhcrc.org>
	<921FB12A-F393-455A-8AAD-6702FAEE4A00@yahoo.it>
Message-ID: <Pine.LNX.4.61.0608311044020.29205@shrew.fhcrc.org>

Well I stand corrected! Well I guess you might just build the darn thing 
from source then...

Sorry...

Tony



On Thu, 31 Aug 2006, massimodisasha wrote:

> Hi Tony,
> 
> i've already installed gtk and glib from darwinports,
> but when i try to install
> a R package like :
> gtkDevice
> 
> no
> checking for gtk12-config... no
> ERROR: Cannot find gtk-config.
> ** Removing '/Library/Frameworks/R.framework/Versions/2.2/Resources/
> library/gtkDevice'
> ERROR: configuration failed for package 'gtkDevice'
> 
> my gtk-config is in /sw/bin/gtk-config
> 
> Il giorno 31/ago/06, alle ore 18:39, Tony Chiang ha scritto:
> 
> > Hi Massimo,
> > 
> > If you download the tarball, you will need to unzip and tar the file, and
> > then install the software with
> > 
> > ./configure
> > make
> > sudo make install
> > 
> > in the directory where you unpack all the files. This can be rather
> > tedious as you might need if there are other dependencies which
> > glibgtk-1.2.10-univ is dependent.
> > 
> > I would suggest getting Darwinport. Google darwinport and download the
> > .dmg file. Install this on your system. You will probably have to
> > add the path /opt/local/bin to your profile, otherwise you won't see the
> > port command. Once you have added the path, you will need to sync with
> > the
> > commands
> > 
> > port sync
> > 
> > port selfupdate
> > 
> > then you can download and install the latest available
> > glibgtk-* by the command:
> > 
> > sudo port install "whatEverFile"
> > 
> > And that should be all that you need to do...you don't need to search for
> > dependencies or such. This is a pretty good way to download and install
> > open source software, and I have had some good luck with it.
> > 
> > Cheers,
> > --Tony
> > 
> > 
> > On Thu, 31 Aug 2006, massimodisasha wrote:
> > 
> > > hi,
> > > at :
> > > http://r.research.att.com/
> > > i've download :
> > > 
> > > glib/gtk 1.2.10 (w/patches)
> > > glibgtk-1.2.10-univ.tar.gz
> > > 
> > > 
> > > but i do not know how can i install it :-(
> > > it is a folder :
> > > http://img350.imageshack.us/img350/7388/immagine4by9.png
> > > 
> > > sorry for the newbie question
> > > i hope that you can halpe me,
> > > thanks.
> > > Massimo
> > > 
> > > 
> > > 
> > > [[alternative HTML version deleted]]
> > > 
> > > _______________________________________________
> > > R-SIG-Mac mailing list
> > > R-SIG-Mac at stat.math.ethz.ch
> > > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> > > 
> 
>


From susan at stat.Stanford.EDU  Thu Aug 31 21:27:02 2006
From: susan at stat.Stanford.EDU (Susan Holmes)
Date: Thu, 31 Aug 2006 12:27:02 -0700 (PDT)
Subject: [R-SIG-Mac] how can i install: glib/gtk 1.2.10
In-Reply-To: <f8e6ff050608311031x66f70148lc455b75d74e46ffe@mail.gmail.com>
Message-ID: <Pine.LNX.4.44.0608311225520.4000-100000@miller.Stanford.EDU>


Hadley,
Right now the newer version of glib glib2 doesn't even seem to build
either,
right now I get a problem with iconv() even building from source
(and I am also having this problem because of ggobi)

Susan Holmes
Statistics
Stanford

On Thu, 31 Aug 2006, hadley wickham wrote:

> > I would suggest getting Darwinport. Google darwinport and download the
> > .dmg file. Install this on your system. You will probably have to
> > add the path /opt/local/bin to your profile, otherwise you won't see the
> > port command. Once you have added the path, you will need to sync with the
> > commands
>
> I don't think that this works reliably any more because R is now a
> universal binary, and darwinports doesn't make universal binaries (we
> certainly have problems with rggobi).  Simon will know more about
> this.
>
> Hadley
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From zak4ms at gmail.com  Thu Aug 31 21:47:02 2006
From: zak4ms at gmail.com (Zak James)
Date: Thu, 31 Aug 2006 15:47:02 -0400
Subject: [R-SIG-Mac] how can i install: glib/gtk 1.2.10
In-Reply-To: <26E6E717-8441-4FD2-A20F-72356E52CEFC@yahoo.it>
References: <26E6E717-8441-4FD2-A20F-72356E52CEFC@yahoo.it>
Message-ID: <488dfaa70608311247m5ea00d24w1b9ceead1f7acba0@mail.gmail.com>

Hi,

>From http://www.macgimp.org/staticpages/index.php?page=howto : urls
may no longer work, but the build steps do.

GTK+ (gimp toolkit) library

% setenv CPPFLAGS -no-cpp-precomp
% curl -O ftp://ftp.gtk.org/pub/gtk/v1.2/gtk+-1.2.10.tar.gz
% tar -zxvf gtk+-1.2.10.tar.gz
% cd gtk+-1.2.10
% cp /usr/share/libtool/config.guess .
% cp /usr/share/libtool/config.sub .
% mv ltmain13 ltmain13-backup
% mv ltconfig13 ltconfig13-backup
% curl -O http://www.macgimp.org/ltmain13
% curl -O http://www.macgimp.org/ltconfig13
% ./configure --enable-shared --enable-static
% make
% sudo make install
% echo "Give root password as requested."
% rehash

glib
% curl -O ftp://ftp.gtk.org/pub/gtk/v1.2/glib-1.2.10.tar.gz
% tar -zxvf glib-1.2.10.tar.gz
% cd glib-1.2.10
% cp /usr/share/libtool/config.guess .
% cp /usr/share/libtool/config.sub .
% mv ltmain13 ltmain13-backup
% mv ltconfig13 ltconfig13-backup
% curl -O http://www.macgimp.org/ltmain13
% curl -O http://www.macgimp.org/ltconfig13
% ./configure --enable-shared --enable-static
% make
% sudo make install
% echo "Give root password as requested."
% rehash

On 8/31/06, massimodisasha <massimodisasha at yahoo.it> wrote:
> hi,
> at :
> http://r.research.att.com/
>   i've download :
>
> glib/gtk 1.2.10 (w/patches)
> glibgtk-1.2.10-univ.tar.gz
>
>
> but i do not know how can i install it :-(
> it is a folder :
> http://img350.imageshack.us/img350/7388/immagine4by9.png
>
> sorry for the newbie question
> i hope that you can halpe me,
> thanks.
> Massimo
>
>
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Zak James
Applications and Software Development
DM Solutions Group Inc.
http://www.dmsolutions.ca


From roger at ysidro.econ.uiuc.edu  Sat Aug 26 21:03:38 2006
From: roger at ysidro.econ.uiuc.edu (roger koenker)
Date: Sat, 26 Aug 2006 14:03:38 -0500
Subject: [R-SIG-Mac] _getBaseDllInfo?
In-Reply-To: <A9B16335-3903-4F14-8B52-662F932EF96C@uiuc.edu>
References: <A9B16335-3903-4F14-8B52-662F932EF96C@uiuc.edu>
Message-ID: <80CF6B60-E0FF-4122-8EF1-84CDBC3590B2@ysidro.econ.uiuc.edu>

I've just installed R-devel from http://r.research.att.com/  this  
seems to be
fine in my usual xterm mode, but I thought I'd also install the gui  
too, but
this  fails to launch with problem report:

Symbol not found: _getBaseDllInfo
   Referenced from: /Applications/R.app/Contents/MacOS/R
   Expected in: /Library/Frameworks/R.framework/Resources/lib/libR.dylib

and I see:

rudjer: cd /Library/Frameworks/R.framework/Resources/lib/
rudjer: ls
i386                    libgcc_s.1.0.dylib      libstdc++.6.dylib
libR.dylib              libgfortran.0.dylib     ppc
libRblas.dylib          libreadline.5.1.dylib
libRlapack.dylib        libreadline.dylib

rudjer: otool -Tv libR.dylib |grep Info
single module    _GEMetricInfo
single module    _R_AccuracyInfo
single module    _R_getDllInfo
single module    _R_getSymbolInfo
single module    _Rf_GMetricInfo


Did I miss something in the instructions?

url:    www.econ.uiuc.edu/~roger                Roger Koenker
email   rkoenker at uiuc.edu                       Department of Economics
vox:    217-333-4558                            University of Illinois
fax:    217-244-6678                            Champaign, IL 61820


From urb_r at b-q-c.com  Tue Aug 29 10:45:46 2006
From: urb_r at b-q-c.com (urb_r at b-q-c.com)
Date: Tue, 29 Aug 2006 10:45:46 +0200
Subject: [R-SIG-Mac] quantile() bus error
In-Reply-To: <6DEB4E5A-BC3A-4BB0-AD79-261444B478E5@verizon.net>
References: <6DEB4E5A-BC3A-4BB0-AD79-261444B478E5@verizon.net>
Message-ID: <20060829104546.fgff6s9hsowss4go@b-q-c.com>

Jennifer,

you didn't tell us what tools you use, but my guess would be that  
you're using Apple's gcc which is broken. Although I don't quite see  
the point in building R 2.3.1 from sources on a Mac, you can do so  
using gcc 4.0.3 that comes with the R 2.3.1 binary or is available  
separately from
http://r.research.att.com
Alternatively you should be able to use any recent gcc >= 4.0.3 as  
long as you have a matching gfortran and Apple's gcc driver.

Cheers,
Simon

Quoting Jennifer Small <jenlsmall at verizon.net>:

> Hello list,
>
> I'm attempting to build R 2.3.1 from source on a Mac Mini intel duo
> core with OS 10.4.7.  There were no errors reported in configure or
> make. However, make check fails immediately on the quantile function.
> The trace is
>
>  > x <- sort(rnorm(100));  cH <- 1.35
>  > pmin(cH, quantile(x)) # no names
>
> *** caught bus error ***
> address 0x107bcb1, cause 'non-existent physical address'
>
> Traceback:
> 1: sort(x, partial = unique(c(lo, hi)))
> 2: quantile.default(x)
> 3: quantile(x)
> 4: pmin(cH, quantile(x))
> aborting ...
>
> If I open an R command line session and try to call quantile() I get
> the same bus error:
>
>  > quantile(1:10)
>
> *** caught bus error ***
> address 0x107bcb1, cause 'non-existent physical address'
>
> Traceback:
> 1: sort(x, partial = unique(c(lo, hi)))
> 2: quantile.default(1:10)
> 3: quantile(1:10)
>
> Possible actions:
> 1: abort (with core dump)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
> Selection: q
> Selection: 1
> aborting ...
> Bus error
>
> I'm stumped. Any ideas? Thanks in advance.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
>


