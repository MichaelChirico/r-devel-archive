From aurorasea625 at hotmail.com  Wed Jun  1 13:31:14 2016
From: aurorasea625 at hotmail.com (Candice Chan)
Date: Wed, 1 Jun 2016 11:31:14 +0000
Subject: [R-SIG-Mac] R commander installation problem (Mac OSX Capitan)
Message-ID: <DUB117-W731D21D916C53F66CE3F8693470@phx.gbl>




Hello, I am completely new to using R and I'm trying to install it onto my laptop (Mac Capitan 10.11.5). I have downloaded R commander, and also ensured I installed the latest X Quartz. I then run "library(Rcmdr)", but received the following message: Loading required package: splinesLoading required package: RcmdrMiscLoading required package: carLoading required package: sandwichError : .onLoad failed in loadNamespace() for 'Rcmdr', details:  call: structure(.External(.C_dotTclObjv, objv), class = "tclObj")  error: [tcl] invalid command name "tk_messageBox".Error: package or namespace load failed for ?Rcmdr?I searched for help and some previous posts suggested running X quartz in the background and restarting R, and try again. However that failed to solve the problem. I would really appreciate your help and advice on this. Thank you very much Candice NUS Student 
 		 	   		  
	[[alternative HTML version deleted]]


From pdalgd at gmail.com  Wed Jun  1 14:38:02 2016
From: pdalgd at gmail.com (peter dalgaard)
Date: Wed, 1 Jun 2016 14:38:02 +0200
Subject: [R-SIG-Mac] R commander installation problem (Mac OSX Capitan)
In-Reply-To: <DUB117-W731D21D916C53F66CE3F8693470@phx.gbl>
References: <DUB117-W731D21D916C53F66CE3F8693470@phx.gbl>
Message-ID: <713DFAA0-F3C4-4F56-B6DE-1EE7562382D4@gmail.com>

Please avoid sending in HTML. It comes out barely readable (at best).

I don't see a problem with Rcmdr on Mavericks with R 3.3.0.

The error message points to a problem with the Tcl/Tk installation, probably not Rcmdr per se. 

To isolate the issue, you could try 

library(tcltk)
demo(tkfaq)

(or some of the other demos).

-Peter D

 
On 01 Jun 2016, at 13:31 , Candice Chan <aurorasea625 at hotmail.com> wrote:

> 
> 
> 
> Hello, I am completely new to using R and I'm trying to install it onto my laptop (Mac Capitan 10.11.5). I have downloaded R commander, and also ensured I installed the latest X Quartz. I then run "library(Rcmdr)", but received the following message: Loading required package: splinesLoading required package: RcmdrMiscLoading required package: carLoading required package: sandwichError : .onLoad failed in loadNamespace() for 'Rcmdr', details:  call: structure(.External(.C_dotTclObjv, objv), class = "tclObj")  error: [tcl] invalid command name "tk_messageBox".Error: package or namespace load failed for ?Rcmdr?I searched for help and some previous posts suggested running X quartz in the background and restarting R, and try again. However that failed to solve the problem. I would really appreciate your help and advice on this. Thank you very much Candice NUS Student 
> 		 	   		  
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From jfox at mcmaster.ca  Wed Jun  1 14:41:51 2016
From: jfox at mcmaster.ca (Fox, John)
Date: Wed, 1 Jun 2016 12:41:51 +0000
Subject: [R-SIG-Mac] R commander installation problem (Mac OSX Capitan)
In-Reply-To: <DUB117-W731D21D916C53F66CE3F8693470@phx.gbl>
References: <DUB117-W731D21D916C53F66CE3F8693470@phx.gbl>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC810FA6AAA@FHSDB2D11-2.csu.mcmaster.ca>

Dear Candice,

Your message is a bit hard to read -- R-SIG-Mac list doesn't accept HTML email and reformatted the message. Also, although you don't say so, I assume that you're using the current versions of R and the Rcmdr package. If you haven't already done so, please read the R Commander installation notes at <http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation-notes.html>.

I don't know the source of your problem but it may help to try to isolate it. First, see whether the tcltk package -- a standard part of R -- is working. In a fresh session, type the command library(tcltk) at the > R command prompt and then the command tk_messageBox(message="test") . If that doesn't work, as is likely, you'll know that the problem isn't peculiar to the Rcmdr package.

Second, if you haven't already done so, log out of your account and then back in -- or just reboot your Mac -- and try again. You have to log out after installing XQuartz.

Next, try running R in a Mac terminal window (just type R at the terminal command prompt) rather than using R.app. See whether the tcltk and Rcmdr packages work when you bypass R.app.

Finally, try reinstalling everything -- R, the Rcmdr package, and XQuartz. Reboot and try again.

Let us know what happens.

I hope this helps,
 John

-----------------------------
John Fox, Professor
McMaster University
Hamilton, Ontario
Canada L8S 4M4
Web: socserv.mcmaster.ca/jfox



> -----Original Message-----
> From: R-SIG-Mac [mailto:r-sig-mac-bounces at r-project.org] On Behalf Of
> Candice Chan
> Sent: June 1, 2016 7:31 AM
> To: r-sig-mac at r-project.org
> Subject: [R-SIG-Mac] R commander installation problem (Mac OSX Capitan)
> 
> 
> 
> 
> Hello, I am completely new to using R and I'm trying to install it onto my laptop
> (Mac Capitan 10.11.5). I have downloaded R commander, and also ensured I
> installed the latest X Quartz. I then run "library(Rcmdr)", but received the
> following message: Loading required package: splinesLoading required
> package: RcmdrMiscLoading required package: carLoading required package:
> sandwichError : .onLoad failed in loadNamespace() for 'Rcmdr', details:  call:
> structure(.External(.C_dotTclObjv, objv), class = "tclObj")  error: [tcl] invalid
> command name "tk_messageBox".Error: package or namespace load failed for
> ?Rcmdr?I searched for help and some previous posts suggested running X
> quartz in the background and restarting R, and try again. However that failed
> to solve the problem. I would really appreciate your help and advice on this.
> Thank you very much Candice NUS Student
> 
> 	[[alternative HTML version deleted]]


From chris at ckblack.org  Wed Jun  1 19:17:06 2016
From: chris at ckblack.org (Chris Black)
Date: Wed, 1 Jun 2016 12:17:06 -0500
Subject: [R-SIG-Mac] Intermittent plotting failures on new Quartz window
In-Reply-To: <FA4BE30A-DB30-4154-BE2A-CBB83F2416E2@r-project.org>
References: <3BE45281-70CD-4FDE-8678-06C5BA6A32C0@igb.illinois.edu>
	<FA4BE30A-DB30-4154-BE2A-CBB83F2416E2@r-project.org>
Message-ID: <478B4B81-95DA-41A1-9342-35D043E7FE45@ckblack.org>

Thank you for looking into this. I think you did read it before ? apparently I double-posted and one copy stayed in the moderation queue for a month! Sorry ?bout that.

In any case, plot.new() seems like a reasonable way forward. If it helps anyone else I?m happy to investigate more off-list, but for my purposes I?ll call this fixed.

Thanks,
Chris

> On May 30, 2016, at 3:59 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> I though I read this before - yes, it looks like a timing issue that has to do with OS X providing windows asynchronously, so the drawing space is not ready yet while R is already plotting so the plot is incomplete. R doesn't know that so it doesn't redraw unless you resize the plot or play the history (cmd-left/right) -- the fact that the history shows the full plot proves that this is not something on the R side (since the display list is complete), but rather the initial rendering doesn't have a window to draw into. I didn't find any API for Quartz to know when the window is actually ready. This only affects creating a new window and plotting into it before it's ready. Once the window is shown, everything works as expected - so you're probably better of using plot.new() first before you start creating the grobs.
> 
> Cheers,
> Simon
> 
> 
> On Apr 30, 2016, at 5:21 PM, Chris Black <black11 at igb.illinois.edu> wrote:
> 
>> Hi, all. I?m getting some puzzling, intermittent plot failures that seem to occur only when I?m in an interactive session, arranging plots with very different drawing speeds, and only when Quartz needs to open a new window before plotting. 
>> 
>> I posted a longer version of this at https://gist.github.com/infotroph/c68fc7a3f8594473361f87e2a348ddf9, but here?s a minimal example:
>> 
>> set.seed(34565)
>> library(ggplot2)
>> library(gridExtra)
>> library(grid)
>> 
>> p1 = ggplot(diamonds, aes(x, price))+geom_point() 
>> p2 = ggplot(mtcars, aes(wt, mpg))+geom_point()
>> 
>> graphics.off()
>> pp=arrangeGrob(p1, p2)
>> grid.draw(pp)
>> 
>> Expected result: New graphics window containing a two-panel plot with diamonds on the top and cars on the bottom.
>> Observed result: Usually (~80% of the time?), a new graphics window with the top panel incompletely drawn (usually just axes with no points or panel grid), and the bottom panel as expected. Rarely (~20%?), the complete plot as expected. 
>> 
>> I can modulate the success rate somewhat by putting different lengths of Sys.sleep() in between the arrangeGrob and grid.draw calls, and I can guarantee success by calling dev.new() before arrangeGrob. See the above-linked Gist for details and for session info from a few other folks ? thus far only the Quartz users can reproduce it, hence my starting with this list. 
>> 
>> Session info:
>> 
>> R for 3.2.4 GUI 1.67 Mavericks build (7152)
>> R version 3.2.4 (2016-03-10)
>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>> Running under: OS X 10.11.3 (El Capitan)
>> 
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] grid      stats     graphics  grDevices utils     datasets  methods  
>> [8] base     
>> 
>> other attached packages:
>> [1] gridExtra_2.2.1 ggplot2_2.1.0  
>> 
>> loaded via a namespace (and not attached):
>> [1] labeling_0.3     colorspace_1.2-6 scales_0.4.0     plyr_1.8.3      
>> [5] tools_3.2.4      gtable_0.2.0     Rcpp_0.12.4      munsell_0.4.3   
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jfox at mcmaster.ca  Wed Jun  1 22:41:24 2016
From: jfox at mcmaster.ca (Fox, John)
Date: Wed, 1 Jun 2016 20:41:24 +0000
Subject: [R-SIG-Mac] R commander installation problem (Mac OSX Capitan)
In-Reply-To: <DUB117-W34185449E98A338F116F2A93470@phx.gbl>
References: <DUB117-W731D21D916C53F66CE3F8693470@phx.gbl>,
	<ACD1644AA6C67E4FBD0C350625508EC810FA6AAA@FHSDB2D11-2.csu.mcmaster.ca>
	<DUB117-W34185449E98A338F116F2A93470@phx.gbl>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC810FA6D0F@FHSDB2D11-2.csu.mcmaster.ca>

Dear Candice,

I'm glad that you were able to get everything to work. The message offering to install additional packages on initial Rcmdr start-up is expected, as is mentioned in the R Commander installation notes.

My guess is that you didn't log out or reboot after installing XQuartz, something that the R Commander Mac installation notes tell you to do.

It's a good idea to keep the R-SIG-Mac list in the loop so that others who experience a similar problem will see the solution, so I've cc'ed the list.

Best,
 John

> -----Original Message-----
> From: Candice Chan [mailto:aurorasea625 at hotmail.com]
> Sent: Wednesday, June 1, 2016 11:17 AM
> To: Fox, John <jfox at mcmaster.ca>
> Subject: RE: [R-SIG-Mac] R commander installation problem (Mac OSX
> Capitan)
> 
> Hi John,
> 
> Thank you very much for your detailed explanation. I have already
> checked out that webpage before posting but did not solve my problem.
> Tried the tcltk check and it was not working. So I rebooted the system,
> restarted R, tried to run Rcmdr and it now tells me to install some
> missing softwares. Now, Rcmdr is finally working and thank you very
> much!
> 
> C
> 
> 
> > From: jfox at mcmaster.ca
> > To: aurorasea625 at hotmail.com
> > CC: r-sig-mac at r-project.org
> > Subject: RE: [R-SIG-Mac] R commander installation problem (Mac OSX
> > Capitan)
> > Date: Wed, 1 Jun 2016 12:41:51 +0000
> >
> > Dear Candice,
> >
> > Your message is a bit hard to read -- R-SIG-Mac list doesn't accept
> HTML email and reformatted the message. Also, although you don't say so,
> I assume that you're using the current versions of R and the Rcmdr
> package. If you haven't already done so, please read the R Commander
> installation notes at
> <http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation-
> notes.html>.
> >
> > I don't know the source of your problem but it may help to try to
> isolate it. First, see whether the tcltk package -- a standard part of R
> -- is working. In a fresh session, type the command library(tcltk) at
> the > R command prompt and then the command
> tk_messageBox(message="test") . If that doesn't work, as is likely,
> you'll know that the problem isn't peculiar to the Rcmdr package.
> >
> > Second, if you haven't already done so, log out of your account and
> then back in -- or just reboot your Mac -- and try again. You have to
> log out after installing XQuartz.
> >
> > Next, try running R in a Mac terminal window (just type R at the
> terminal command prompt) rather than using R.app. See whether the tcltk
> and Rcmdr packages work when you bypass R.app.
> >
> > Finally, try reinstalling everything -- R, the Rcmdr package, and
> XQuartz. Reboot and try again.
> >
> > Let us know what happens.
> >
> > I hope this helps,
> > John
> >
> > -----------------------------
> > John Fox, Professor
> > McMaster University
> > Hamilton, Ontario
> > Canada L8S 4M4
> > Web: socserv.mcmaster.ca/jfox
> >
> >
> >
> > > -----Original Message-----
> > > From: R-SIG-Mac [mailto:r-sig-mac-bounces at r-project.org] On Behalf
> > > Of Candice Chan
> > > Sent: June 1, 2016 7:31 AM
> > > To: r-sig-mac at r-project.org
> > > Subject: [R-SIG-Mac] R commander installation problem (Mac OSX
> > > Capitan)
> > >
> > >
> > >
> > >
> > > Hello, I am completely new to using R and I'm trying to install it
> > > onto my laptop (Mac Capitan 10.11.5). I have downloaded R commander,
> > > and also ensured I installed the latest X Quartz. I then run
> > > "library(Rcmdr)", but received the following message: Loading
> > > required package: splinesLoading required
> > > package: RcmdrMiscLoading required package: carLoading required
> package:
> > > sandwichError : .onLoad failed in loadNamespace() for 'Rcmdr',
> details: call:
> > > structure(.External(.C_dotTclObjv, objv), class = "tclObj") error:
> > > [tcl] invalid command name "tk_messageBox".Error: package or
> > > namespace load failed for  Rcmdr I searched for help and some
> > > previous posts suggested running X quartz in the background and
> > > restarting R, and try again. However that failed to solve the
> problem. I would really appreciate your help and advice on this.
> > > Thank you very much Candice NUS Student
> > >
> > > [[alternative HTML version deleted]]
> >


From vwkv13 at mun.ca  Thu Jun 16 22:00:09 2016
From: vwkv13 at mun.ca (Kodalore Vijayan, Vineetha W)
Date: Thu, 16 Jun 2016 14:00:09 -0600
Subject: [R-SIG-Mac] Writing R package that calls Fortran on Mac os X El
	Capitan Error
Message-ID: <CALStW+ovtUNZRJe_vp+CGSbQOYpZyfkfgeAgU3o5cWWkmcNVcA@mail.gmail.com>

I'm trying to write an R package that calls a Fortran subroutine on my  Mac
os x El Capitan with Xcode 7 and gfortran 6.1, R 3.3.0.

I couldn't  build the library with my current namespace commands.
I get the following error:


* installing *source* package ?Nepidemic? ...
** libs
gfortran  -fPIC -Wall -g -O2  -c  randomepi.f95 -o randomepi.o
gfortran -dynamiclib -Wl,-headerpad_max_install_names -undefined
dynamic_lookup -single_module -multiply_defined suppress
-L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o
Nepidemic.so randomepi.o -F/Library/Frameworks/R.framework/.. -framework R
-Wl,-framework -Wl,CoreFoundation
installing to
/Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic/libs
** R
** preparing package for lazy loading
** help
*** installing help indices
** building package indices
** testing if installed package can be loaded
Error in library.dynam(lib, package, package.lib) :
  shared object ?randomepi.so? not found
Error: loading failed
Execution halted
ERROR: loading failed
* removing
?/Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic?


My package name is "NEpidemic" and source code file in src folder is
"randomepi.f95"

Any help would be much appreciated. I'm vey new to both R
and Fortran coding, especially in package building.

Thanks in advance!
Vineetha

	[[alternative HTML version deleted]]


From emammendes at gmail.com  Thu Jun 16 22:28:41 2016
From: emammendes at gmail.com (Eduardo M. A. M.Mendes)
Date: Thu, 16 Jun 2016 17:28:41 -0300
Subject: [R-SIG-Mac] Writing R package that calls Fortran on Mac os X El
	Capitan Error
In-Reply-To: <CALStW+ovtUNZRJe_vp+CGSbQOYpZyfkfgeAgU3o5cWWkmcNVcA@mail.gmail.com>
References: <CALStW+ovtUNZRJe_vp+CGSbQOYpZyfkfgeAgU3o5cWWkmcNVcA@mail.gmail.com>
Message-ID: <52E77A93-1CF6-46A9-BE41-F0FC79F44CD5@gmail.com>

Dear Vennetha

I am running R on a mac too. 

Please see if my comments below helps.


> On Jun 16, 2016, at 5:00 PM, Kodalore Vijayan, Vineetha W <vwkv13 at mun.ca> wrote:
> 
> I'm trying to write an R package that calls a Fortran subroutine on my  Mac
> os x El Capitan with Xcode 7 and gfortran 6.1, R 3.3.0.
> 
> I couldn't  build the library with my current namespace commands.
> I get the following error:
> 
> 
> * installing *source* package ?Nepidemic? ...
> ** libs
> gfortran  -fPIC -Wall -g -O2  -c  randomepi.f95 -o randomepi.o
> gfortran -dynamiclib -Wl,-headerpad_max_install_names -undefined
> dynamic_lookup -single_module -multiply_defined suppress
> -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o
> Nepidemic.so randomepi.o -F/Library/Frameworks/R.framework/.. -framework R
> -Wl,-framework -Wl,CoreFoundation

The name of the library created by r cmd shlib is Nepidemic.so.

> installing to
> /Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic/libs
> ** R
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> Error in library.dynam(lib, package, package.lib) :
>  shared object ?randomepi.so? not found

Note that the r cmd check is looking for randomepi.so so it means that it is calling the wrong library (it should be Nepidemic.so).  Are you sure that the NAMESPACE contains the following lines?

useDynLib(NEpidemic,.registration = TRUE)
export(randomepi)

in all the examples I have those lines would suffice.

> Error: loading failed
> Execution halted
> ERROR: loading failed
> * removing
> ?/Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic?
> 
> 
> My package name is "NEpidemic" and source code file in src folder is
> "randomepi.f95"
> 
> Any help would be much appreciated. I'm vey new to both R
> and Fortran coding, especially in package building.
> 
> Thanks in advance!
> Vineetha
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


	[[alternative HTML version deleted]]


From pdalgd at gmail.com  Thu Jun 16 22:30:30 2016
From: pdalgd at gmail.com (peter dalgaard)
Date: Thu, 16 Jun 2016 22:30:30 +0200
Subject: [R-SIG-Mac] Writing R package that calls Fortran on Mac os X El
	Capitan Error
In-Reply-To: <CALStW+ovtUNZRJe_vp+CGSbQOYpZyfkfgeAgU3o5cWWkmcNVcA@mail.gmail.com>
References: <CALStW+ovtUNZRJe_vp+CGSbQOYpZyfkfgeAgU3o5cWWkmcNVcA@mail.gmail.com>
Message-ID: <C49F3C9A-E0A3-4FDF-BC69-5325A14474EB@gmail.com>

The most obvious thing is that you build Nepidemic.so but the error talks about randomepi.so.  Could it be as simple as putting the wrong thing in useDynLib(...)?

-pd


> On 16 Jun 2016, at 22:00 , Kodalore Vijayan, Vineetha W <vwkv13 at mun.ca> wrote:
> 
> I'm trying to write an R package that calls a Fortran subroutine on my  Mac
> os x El Capitan with Xcode 7 and gfortran 6.1, R 3.3.0.
> 
> I couldn't  build the library with my current namespace commands.
> I get the following error:
> 
> 
> * installing *source* package ?Nepidemic? ...
> ** libs
> gfortran  -fPIC -Wall -g -O2  -c  randomepi.f95 -o randomepi.o
> gfortran -dynamiclib -Wl,-headerpad_max_install_names -undefined
> dynamic_lookup -single_module -multiply_defined suppress
> -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o
> Nepidemic.so randomepi.o -F/Library/Frameworks/R.framework/.. -framework R
> -Wl,-framework -Wl,CoreFoundation
> installing to
> /Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic/libs
> ** R
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> Error in library.dynam(lib, package, package.lib) :
>  shared object ?randomepi.so? not found
> Error: loading failed
> Execution halted
> ERROR: loading failed
> * removing
> ?/Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic?
> 
> 
> My package name is "NEpidemic" and source code file in src folder is
> "randomepi.f95"
> 
> Any help would be much appreciated. I'm vey new to both R
> and Fortran coding, especially in package building.
> 
> Thanks in advance!
> Vineetha
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From vwkv13 at mun.ca  Thu Jun 16 22:40:32 2016
From: vwkv13 at mun.ca (Kodalore Vijayan, Vineetha W)
Date: Thu, 16 Jun 2016 14:40:32 -0600
Subject: [R-SIG-Mac] Writing R package that calls Fortran on Mac os X El
 Capitan Error
In-Reply-To: <52E77A93-1CF6-46A9-BE41-F0FC79F44CD5@gmail.com>
References: <CALStW+ovtUNZRJe_vp+CGSbQOYpZyfkfgeAgU3o5cWWkmcNVcA@mail.gmail.com>
	<52E77A93-1CF6-46A9-BE41-F0FC79F44CD5@gmail.com>
Message-ID: <CALStW+owhuEBa-xEhnsVytzrXPXoqffNHOt7W_Dh1xZkX7tv9g@mail.gmail.com>

 Yes. My package name is "Epidemic" and namespace contains the following:

useDynLib(randomepi)
useDynLib(Nepidemic, .registration = TRUE)

exportPattern("^[[:alpha:]]+")
export(randomepi)
import(graphics,grDevices,stats, utils)


I could see Nepidemic.so and randomepi.o files in the src folder.

-V




On Thu, Jun 16, 2016 at 2:28 PM, Eduardo M. A. M.Mendes <
emammendes at gmail.com> wrote:

> Dear Vennetha
>
> I am running R on a mac too.
>
> Please see if my comments below helps.
>
>
> On Jun 16, 2016, at 5:00 PM, Kodalore Vijayan, Vineetha W <vwkv13 at mun.ca>
> wrote:
>
> I'm trying to write an R package that calls a Fortran subroutine on my  Mac
> os x El Capitan with Xcode 7 and gfortran 6.1, R 3.3.0.
>
> I couldn't  build the library with my current namespace commands.
> I get the following error:
>
>
> * installing *source* package ?Nepidemic? ...
> ** libs
> gfortran  -fPIC -Wall -g -O2  -c  randomepi.f95 -o randomepi.o
> gfortran -dynamiclib -Wl,-headerpad_max_install_names -undefined
> dynamic_lookup -single_module -multiply_defined suppress
> -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o
> Nepidemic.so randomepi.o -F/Library/Frameworks/R.framework/.. -framework R
> -Wl,-framework -Wl,CoreFoundation
>
>
> The name of the library created by r cmd shlib is Nepidemic.so.
>
> installing to
> /Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic/libs
> ** R
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> Error in library.dynam(lib, package, package.lib) :
>  shared object ?randomepi.so? not found
>
>
> Note that the r cmd check is looking for randomepi.so so it means that it
> is calling the wrong library (it should be Nepidemic.so).  Are you sure
> that the NAMESPACE contains the following lines?
>
> useDynLib(NEpidemic,.registration = TRUE)
> export(randomepi)
>
> in all the examples I have those lines would suffice.
>
> Error: loading failed
> Execution halted
> ERROR: loading failed
> * removing
> ?/Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic?
>
>
> My package name is "NEpidemic" and source code file in src folder is
> "randomepi.f95"
>
> Any help would be much appreciated. I'm vey new to both R
> and Fortran coding, especially in package building.
>
> Thanks in advance!
> Vineetha
>
> [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
>

	[[alternative HTML version deleted]]


From vwkv13 at mun.ca  Thu Jun 16 22:42:34 2016
From: vwkv13 at mun.ca (Kodalore Vijayan, Vineetha W)
Date: Thu, 16 Jun 2016 14:42:34 -0600
Subject: [R-SIG-Mac] Writing R package that calls Fortran on Mac os X El
 Capitan Error
In-Reply-To: <C49F3C9A-E0A3-4FDF-BC69-5325A14474EB@gmail.com>
References: <CALStW+ovtUNZRJe_vp+CGSbQOYpZyfkfgeAgU3o5cWWkmcNVcA@mail.gmail.com>
	<C49F3C9A-E0A3-4FDF-BC69-5325A14474EB@gmail.com>
Message-ID: <CALStW+rUN46wH3aO+f+2tZG5BzBv0Q5eZKUyvpWXN4WeVFCacQ@mail.gmail.com>

My namespace contains:

useDynLib(randomepi)
useDynLib(Nepidemic, .registration = TRUE)
exportPattern("^[[:alpha:]]+")
export(randomepi)
import(graphics,grDevices,stats, utils)

Any thoughts?

Thanks,
Vineetha

On Thu, Jun 16, 2016 at 2:30 PM, peter dalgaard <pdalgd at gmail.com> wrote:

> The most obvious thing is that you build Nepidemic.so but the error talks
> about randomepi.so.  Could it be as simple as putting the wrong thing in
> useDynLib(...)?
>
> -pd
>
>
> > On 16 Jun 2016, at 22:00 , Kodalore Vijayan, Vineetha W <vwkv13 at mun.ca>
> wrote:
> >
> > I'm trying to write an R package that calls a Fortran subroutine on my
> Mac
> > os x El Capitan with Xcode 7 and gfortran 6.1, R 3.3.0.
> >
> > I couldn't  build the library with my current namespace commands.
> > I get the following error:
> >
> >
> > * installing *source* package ?Nepidemic? ...
> > ** libs
> > gfortran  -fPIC -Wall -g -O2  -c  randomepi.f95 -o randomepi.o
> > gfortran -dynamiclib -Wl,-headerpad_max_install_names -undefined
> > dynamic_lookup -single_module -multiply_defined suppress
> > -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o
> > Nepidemic.so randomepi.o -F/Library/Frameworks/R.framework/.. -framework
> R
> > -Wl,-framework -Wl,CoreFoundation
> > installing to
> > /Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic/libs
> > ** R
> > ** preparing package for lazy loading
> > ** help
> > *** installing help indices
> > ** building package indices
> > ** testing if installed package can be loaded
> > Error in library.dynam(lib, package, package.lib) :
> >  shared object ?randomepi.so? not found
> > Error: loading failed
> > Execution halted
> > ERROR: loading failed
> > * removing
> > ?/Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic?
> >
> >
> > My package name is "NEpidemic" and source code file in src folder is
> > "randomepi.f95"
> >
> > Any help would be much appreciated. I'm vey new to both R
> > and Fortran coding, especially in package building.
> >
> > Thanks in advance!
> > Vineetha
> >
> >       [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> --
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Office: A 4.23
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>
>
>
>
>
>
>
>
>
>

	[[alternative HTML version deleted]]


From emammendes at gmail.com  Thu Jun 16 22:48:36 2016
From: emammendes at gmail.com (Eduardo M. A. M.Mendes)
Date: Thu, 16 Jun 2016 17:48:36 -0300
Subject: [R-SIG-Mac] Writing R package that calls Fortran on Mac os X El
	Capitan Error
In-Reply-To: <CALStW+owhuEBa-xEhnsVytzrXPXoqffNHOt7W_Dh1xZkX7tv9g@mail.gmail.com>
References: <CALStW+ovtUNZRJe_vp+CGSbQOYpZyfkfgeAgU3o5cWWkmcNVcA@mail.gmail.com>
	<52E77A93-1CF6-46A9-BE41-F0FC79F44CD5@gmail.com>
	<CALStW+owhuEBa-xEhnsVytzrXPXoqffNHOt7W_Dh1xZkX7tv9g@mail.gmail.com>
Message-ID: <3DDC98BB-D6B6-40BA-89CC-549CB1E6A7B1@gmail.com>

Please rename your NAMESPACE to something else and create a new one with

useDynLib(NEpidemic,.registration = TRUE)
export(randomepi)

It is worth a try.

> On Jun 16, 2016, at 5:40 PM, Kodalore Vijayan, Vineetha W <vwkv13 at mun.ca> wrote:
> 
>  Yes. My package name is "Epidemic" and namespace contains the following:
> 
> useDynLib(randomepi)
> useDynLib(Nepidemic, .registration = TRUE)
> 
> exportPattern("^[[:alpha:]]+")
> export(randomepi)
> import(graphics,grDevices,stats, utils)
> 
> 
> I could see Nepidemic.so and randomepi.o files in the src folder.
> 
> -V
> 
> 
> 
> 
> On Thu, Jun 16, 2016 at 2:28 PM, Eduardo M. A. M.Mendes <emammendes at gmail.com <mailto:emammendes at gmail.com>> wrote:
> Dear Vennetha
> 
> I am running R on a mac too. 
> 
> Please see if my comments below helps.
> 
> 
>> On Jun 16, 2016, at 5:00 PM, Kodalore Vijayan, Vineetha W <vwkv13 at mun.ca <mailto:vwkv13 at mun.ca>> wrote:
>> 
>> I'm trying to write an R package that calls a Fortran subroutine on my  Mac
>> os x El Capitan with Xcode 7 and gfortran 6.1, R 3.3.0.
>> 
>> I couldn't  build the library with my current namespace commands.
>> I get the following error:
>> 
>> 
>> * installing *source* package ?Nepidemic? ...
>> ** libs
>> gfortran  -fPIC -Wall -g -O2  -c  randomepi.f95 -o randomepi.o
>> gfortran -dynamiclib -Wl,-headerpad_max_install_names -undefined
>> dynamic_lookup -single_module -multiply_defined suppress
>> -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o
>> Nepidemic.so randomepi.o -F/Library/Frameworks/R.framework/.. -framework R
>> -Wl,-framework -Wl,CoreFoundation
> 
> The name of the library created by r cmd shlib is Nepidemic.so.
> 
>> installing to
>> /Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic/libs
>> ** R
>> ** preparing package for lazy loading
>> ** help
>> *** installing help indices
>> ** building package indices
>> ** testing if installed package can be loaded
>> Error in library.dynam(lib, package, package.lib) :
>>  shared object ?randomepi.so? not found
> 
> Note that the r cmd check is looking for randomepi.so so it means that it is calling the wrong library (it should be Nepidemic.so).  Are you sure that the NAMESPACE contains the following lines?
> 
> useDynLib(NEpidemic,.registration = TRUE)
> export(randomepi)
> 
> in all the examples I have those lines would suffice.
> 
>> Error: loading failed
>> Execution halted
>> ERROR: loading failed
>> * removing
>> ?/Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic?
>> 
>> 
>> My package name is "NEpidemic" and source code file in src folder is
>> "randomepi.f95"
>> 
>> Any help would be much appreciated. I'm vey new to both R
>> and Fortran coding, especially in package building.
>> 
>> Thanks in advance!
>> Vineetha
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org <mailto:R-SIG-Mac at r-project.org>
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac <https://stat.ethz.ch/mailman/listinfo/r-sig-mac>
> 


	[[alternative HTML version deleted]]


From vwkv13 at mun.ca  Thu Jun 16 22:53:36 2016
From: vwkv13 at mun.ca (Kodalore Vijayan, Vineetha W)
Date: Thu, 16 Jun 2016 14:53:36 -0600
Subject: [R-SIG-Mac] Writing R package that calls Fortran on Mac os X El
 Capitan Error
In-Reply-To: <3DDC98BB-D6B6-40BA-89CC-549CB1E6A7B1@gmail.com>
References: <CALStW+ovtUNZRJe_vp+CGSbQOYpZyfkfgeAgU3o5cWWkmcNVcA@mail.gmail.com>
	<52E77A93-1CF6-46A9-BE41-F0FC79F44CD5@gmail.com>
	<CALStW+owhuEBa-xEhnsVytzrXPXoqffNHOt7W_Dh1xZkX7tv9g@mail.gmail.com>
	<3DDC98BB-D6B6-40BA-89CC-549CB1E6A7B1@gmail.com>
Message-ID: <CALStW+r144H3xFX-80X_+TvBVbTR6iL_FebuekfuBNg+6AfY8w@mail.gmail.com>

Perfect! Its working now. Thanks a lot for your patience and help.

Just curious, what did I do wrong in the previous case?

-Vineetha

On Thu, Jun 16, 2016 at 2:48 PM, Eduardo M. A. M.Mendes <
emammendes at gmail.com> wrote:

> Please rename your NAMESPACE to something else and create a new one with
>
> useDynLib(NEpidemic,.registration = TRUE)
> export(randomepi)
>
> It is worth a try.
>
> On Jun 16, 2016, at 5:40 PM, Kodalore Vijayan, Vineetha W <vwkv13 at mun.ca>
> wrote:
>
>  Yes. My package name is "Epidemic" and namespace contains the following:
>
> useDynLib(randomepi)
> useDynLib(Nepidemic, .registration = TRUE)
>
> exportPattern("^[[:alpha:]]+")
> export(randomepi)
> import(graphics,grDevices,stats, utils)
>
>
> I could see Nepidemic.so and randomepi.o files in the src folder.
>
> -V
>
>
>
>
> On Thu, Jun 16, 2016 at 2:28 PM, Eduardo M. A. M.Mendes <
> emammendes at gmail.com> wrote:
>
>> Dear Vennetha
>>
>> I am running R on a mac too.
>>
>> Please see if my comments below helps.
>>
>>
>> On Jun 16, 2016, at 5:00 PM, Kodalore Vijayan, Vineetha W <vwkv13 at mun.ca>
>> wrote:
>>
>> I'm trying to write an R package that calls a Fortran subroutine on my
>>  Mac
>> os x El Capitan with Xcode 7 and gfortran 6.1, R 3.3.0.
>>
>> I couldn't  build the library with my current namespace commands.
>> I get the following error:
>>
>>
>> * installing *source* package ?Nepidemic? ...
>> ** libs
>> gfortran  -fPIC -Wall -g -O2  -c  randomepi.f95 -o randomepi.o
>> gfortran -dynamiclib -Wl,-headerpad_max_install_names -undefined
>> dynamic_lookup -single_module -multiply_defined suppress
>> -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o
>> Nepidemic.so randomepi.o -F/Library/Frameworks/R.framework/.. -framework R
>> -Wl,-framework -Wl,CoreFoundation
>>
>>
>> The name of the library created by r cmd shlib is Nepidemic.so.
>>
>> installing to
>> /Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic/libs
>> ** R
>> ** preparing package for lazy loading
>> ** help
>> *** installing help indices
>> ** building package indices
>> ** testing if installed package can be loaded
>> Error in library.dynam(lib, package, package.lib) :
>>  shared object ?randomepi.so? not found
>>
>>
>> Note that the r cmd check is looking for randomepi.so so it means that it
>> is calling the wrong library (it should be Nepidemic.so).  Are you sure
>> that the NAMESPACE contains the following lines?
>>
>> useDynLib(NEpidemic,.registration = TRUE)
>> export(randomepi)
>>
>> in all the examples I have those lines would suffice.
>>
>> Error: loading failed
>> Execution halted
>> ERROR: loading failed
>> * removing
>> ?/Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic?
>>
>>
>> My package name is "NEpidemic" and source code file in src folder is
>> "randomepi.f95"
>>
>> Any help would be much appreciated. I'm vey new to both R
>> and Fortran coding, especially in package building.
>>
>> Thanks in advance!
>> Vineetha
>>
>> [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>>
>
>

	[[alternative HTML version deleted]]


From emammendes at gmail.com  Thu Jun 16 23:04:08 2016
From: emammendes at gmail.com (Eduardo M. A. M.Mendes)
Date: Thu, 16 Jun 2016 18:04:08 -0300
Subject: [R-SIG-Mac] Writing R package that calls Fortran on Mac os X El
	Capitan Error
In-Reply-To: <CALStW+r144H3xFX-80X_+TvBVbTR6iL_FebuekfuBNg+6AfY8w@mail.gmail.com>
References: <CALStW+ovtUNZRJe_vp+CGSbQOYpZyfkfgeAgU3o5cWWkmcNVcA@mail.gmail.com>
	<52E77A93-1CF6-46A9-BE41-F0FC79F44CD5@gmail.com>
	<CALStW+owhuEBa-xEhnsVytzrXPXoqffNHOt7W_Dh1xZkX7tv9g@mail.gmail.com>
	<3DDC98BB-D6B6-40BA-89CC-549CB1E6A7B1@gmail.com>
	<CALStW+r144H3xFX-80X_+TvBVbTR6iL_FebuekfuBNg+6AfY8w@mail.gmail.com>
Message-ID: <0AFD796B-3418-4541-8354-31B1C5E933DC@gmail.com>

Since I am not an expert on writing R extensions (although I have lots of old and new fortran source codes linked to R), my guess is that R only calls the library named after package.  You have useDynLib twice.

You are welcome.

Please update the thread in R-List in case someone there is interested in the answer.



> On Jun 16, 2016, at 5:53 PM, Kodalore Vijayan, Vineetha W <vwkv13 at mun.ca> wrote:
> 
> Perfect! Its working now. Thanks a lot for your patience and help.
> 
> Just curious, what did I do wrong in the previous case?
> 
> -Vineetha
> 
> On Thu, Jun 16, 2016 at 2:48 PM, Eduardo M. A. M.Mendes <emammendes at gmail.com <mailto:emammendes at gmail.com>> wrote:
> Please rename your NAMESPACE to something else and create a new one with
> 
> useDynLib(NEpidemic,.registration = TRUE)
> export(randomepi)
> 
> It is worth a try.
> 
>> On Jun 16, 2016, at 5:40 PM, Kodalore Vijayan, Vineetha W <vwkv13 at mun.ca <mailto:vwkv13 at mun.ca>> wrote:
>> 
>>  Yes. My package name is "Epidemic" and namespace contains the following:
>> 
>> useDynLib(randomepi)
>> useDynLib(Nepidemic, .registration = TRUE)
>> 
>> exportPattern("^[[:alpha:]]+")
>> export(randomepi)
>> import(graphics,grDevices,stats, utils)
>> 
>> 
>> I could see Nepidemic.so and randomepi.o files in the src folder.
>> 
>> -V
>> 
>> 
>> 
>> 
>> On Thu, Jun 16, 2016 at 2:28 PM, Eduardo M. A. M.Mendes <emammendes at gmail.com <mailto:emammendes at gmail.com>> wrote:
>> Dear Vennetha
>> 
>> I am running R on a mac too. 
>> 
>> Please see if my comments below helps.
>> 
>> 
>>> On Jun 16, 2016, at 5:00 PM, Kodalore Vijayan, Vineetha W <vwkv13 at mun.ca <mailto:vwkv13 at mun.ca>> wrote:
>>> 
>>> I'm trying to write an R package that calls a Fortran subroutine on my  Mac
>>> os x El Capitan with Xcode 7 and gfortran 6.1, R 3.3.0.
>>> 
>>> I couldn't  build the library with my current namespace commands.
>>> I get the following error:
>>> 
>>> 
>>> * installing *source* package ?Nepidemic? ...
>>> ** libs
>>> gfortran  -fPIC -Wall -g -O2  -c  randomepi.f95 -o randomepi.o
>>> gfortran -dynamiclib -Wl,-headerpad_max_install_names -undefined
>>> dynamic_lookup -single_module -multiply_defined suppress
>>> -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o
>>> Nepidemic.so randomepi.o -F/Library/Frameworks/R.framework/.. -framework R
>>> -Wl,-framework -Wl,CoreFoundation
>> 
>> The name of the library created by r cmd shlib is Nepidemic.so.
>> 
>>> installing to
>>> /Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic/libs
>>> ** R
>>> ** preparing package for lazy loading
>>> ** help
>>> *** installing help indices
>>> ** building package indices
>>> ** testing if installed package can be loaded
>>> Error in library.dynam(lib, package, package.lib) :
>>>  shared object ?randomepi.so? not found
>> 
>> Note that the r cmd check is looking for randomepi.so so it means that it is calling the wrong library (it should be Nepidemic.so).  Are you sure that the NAMESPACE contains the following lines?
>> 
>> useDynLib(NEpidemic,.registration = TRUE)
>> export(randomepi)
>> 
>> in all the examples I have those lines would suffice.
>> 
>>> Error: loading failed
>>> Execution halted
>>> ERROR: loading failed
>>> * removing
>>> ?/Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic?
>>> 
>>> 
>>> My package name is "NEpidemic" and source code file in src folder is
>>> "randomepi.f95"
>>> 
>>> Any help would be much appreciated. I'm vey new to both R
>>> and Fortran coding, especially in package building.
>>> 
>>> Thanks in advance!
>>> Vineetha
>>> 
>>> 	[[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org <mailto:R-SIG-Mac at r-project.org>
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac <https://stat.ethz.ch/mailman/listinfo/r-sig-mac>
>> 
> 
> 


	[[alternative HTML version deleted]]


From pdalgd at gmail.com  Thu Jun 16 23:27:04 2016
From: pdalgd at gmail.com (peter dalgaard)
Date: Thu, 16 Jun 2016 23:27:04 +0200
Subject: [R-SIG-Mac] Writing R package that calls Fortran on Mac os X El
	Capitan Error
In-Reply-To: <CALStW+r144H3xFX-80X_+TvBVbTR6iL_FebuekfuBNg+6AfY8w@mail.gmail.com>
References: <CALStW+ovtUNZRJe_vp+CGSbQOYpZyfkfgeAgU3o5cWWkmcNVcA@mail.gmail.com>
	<52E77A93-1CF6-46A9-BE41-F0FC79F44CD5@gmail.com>
	<CALStW+owhuEBa-xEhnsVytzrXPXoqffNHOt7W_Dh1xZkX7tv9g@mail.gmail.com>
	<3DDC98BB-D6B6-40BA-89CC-549CB1E6A7B1@gmail.com>
	<CALStW+r144H3xFX-80X_+TvBVbTR6iL_FebuekfuBNg+6AfY8w@mail.gmail.com>
Message-ID: <38296B2A-16C6-4EE9-82BC-3EA6095ACA8A@gmail.com>


> On 16 Jun 2016, at 22:53 , Kodalore Vijayan, Vineetha W <vwkv13 at mun.ca> wrote:
> 
> Perfect! Its working now. Thanks a lot for your patience and help.
> 
> Just curious, what did I do wrong in the previous case?
> 

Tried to use a dynamic library that wasn't there:

>> useDynLib(randomepi)


but you never built a randomepi.so. You built randomepi.o, but that is an object file not a dynamic library. It was eventually linked into Nepidemic.so, which is the thing that you do want to useDynLib() on.

-pd

(Incidentally, watch your casing, you use "Nepidemic" and "NEpidemic" every other time. Sooner or later you'll find yourself in a situation where the case actually matters and gives you a mysterious malfunction.)

> -Vineetha
> 
> On Thu, Jun 16, 2016 at 2:48 PM, Eduardo M. A. M.Mendes <
> emammendes at gmail.com> wrote:
> 
>> Please rename your NAMESPACE to something else and create a new one with
>> 
>> useDynLib(NEpidemic,.registration = TRUE)
>> export(randomepi)
>> 
>> It is worth a try.
>> 
>> On Jun 16, 2016, at 5:40 PM, Kodalore Vijayan, Vineetha W <vwkv13 at mun.ca>
>> wrote:
>> 
>> Yes. My package name is "Epidemic" and namespace contains the following:
>> 
>> useDynLib(randomepi)
>> useDynLib(Nepidemic, .registration = TRUE)
>> 
>> exportPattern("^[[:alpha:]]+")
>> export(randomepi)
>> import(graphics,grDevices,stats, utils)
>> 
>> 
>> I could see Nepidemic.so and randomepi.o files in the src folder.
>> 
>> -V
>> 
>> 
>> 
>> 
>> On Thu, Jun 16, 2016 at 2:28 PM, Eduardo M. A. M.Mendes <
>> emammendes at gmail.com> wrote:
>> 
>>> Dear Vennetha
>>> 
>>> I am running R on a mac too.
>>> 
>>> Please see if my comments below helps.
>>> 
>>> 
>>> On Jun 16, 2016, at 5:00 PM, Kodalore Vijayan, Vineetha W <vwkv13 at mun.ca>
>>> wrote:
>>> 
>>> I'm trying to write an R package that calls a Fortran subroutine on my
>>> Mac
>>> os x El Capitan with Xcode 7 and gfortran 6.1, R 3.3.0.
>>> 
>>> I couldn't  build the library with my current namespace commands.
>>> I get the following error:
>>> 
>>> 
>>> * installing *source* package ?Nepidemic? ...
>>> ** libs
>>> gfortran  -fPIC -Wall -g -O2  -c  randomepi.f95 -o randomepi.o
>>> gfortran -dynamiclib -Wl,-headerpad_max_install_names -undefined
>>> dynamic_lookup -single_module -multiply_defined suppress
>>> -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o
>>> Nepidemic.so randomepi.o -F/Library/Frameworks/R.framework/.. -framework R
>>> -Wl,-framework -Wl,CoreFoundation
>>> 
>>> 
>>> The name of the library created by r cmd shlib is Nepidemic.so.
>>> 
>>> installing to
>>> /Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic/libs
>>> ** R
>>> ** preparing package for lazy loading
>>> ** help
>>> *** installing help indices
>>> ** building package indices
>>> ** testing if installed package can be loaded
>>> Error in library.dynam(lib, package, package.lib) :
>>> shared object ?randomepi.so? not found
>>> 
>>> 
>>> Note that the r cmd check is looking for randomepi.so so it means that it
>>> is calling the wrong library (it should be Nepidemic.so).  Are you sure
>>> that the NAMESPACE contains the following lines?
>>> 
>>> useDynLib(NEpidemic,.registration = TRUE)
>>> export(randomepi)
>>> 
>>> in all the examples I have those lines would suffice.
>>> 
>>> Error: loading failed
>>> Execution halted
>>> ERROR: loading failed
>>> * removing
>>> ?/Users/Vineetha/myrlibrary/myrpackages/Nepidemic.Rcheck/Nepidemic?
>>> 
>>> 
>>> My package name is "NEpidemic" and source code file in src folder is
>>> "randomepi.f95"
>>> 
>>> Any help would be much appreciated. I'm vey new to both R
>>> and Fortran coding, especially in package building.
>>> 
>>> Thanks in advance!
>>> Vineetha
>>> 
>>> [[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>>> 
>> 
>> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From macqueen1 at llnl.gov  Sat Jun 18 00:28:52 2016
From: macqueen1 at llnl.gov (MacQueen, Don)
Date: Fri, 17 Jun 2016 22:28:52 +0000
Subject: [R-SIG-Mac] Problem with RJDBC in OS X 10.11
Message-ID: <DE41C499-E9D2-4DDD-8408-08D55EAE2E4E@llnl.gov>

I?m not sure the best place to ask about this, so I?ll start here, since the problem appears to be configuring Java on a Mac to support R packages. Unfortunately, my understanding of how to configure and manage Java is essentially non-existent, so any suggestions would be much appreciated. 

I have a script using RJDBC that is working on a Mac running OS X 10.10.5. The same script, with the same JDBC .jar files from Oracle, is not working on an OS X 10.11.4 machine, as shown below. Other packages that depend on Java, such as xlsx, are not working either.

I have run R CMD javareconf to no avail (output below).

The software management system used by our IT department claims that "Oracle Java 1.7 SDK and JRE" are installed.

-Don


> jdbm <- JDBC('oracle.jdbc.OracleDriver', '/opt/ora11g/instantclient_11_2/ojdbc6.jar', "`")
JavaVM: requested Java version ((null)) not available. Using Java at "" instead.
JavaVM: Failed to load JVM: /bundle/Libraries/libserver.dylib
JavaVM FATAL: Failed to load the jvm library.
Error in .jinit(classPath) : JNI_GetCreatedJavaVMs returned -1

> sessionInfo()
R version 3.3.0 (2016-05-03)
Platform: x86_64-apple-darwin13.4.0 (64-bit)
Running under: OS X 10.11.4 (El Capitan)

locale:
[1] C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] RJDBC_0.2-5 rJava_0.9-8 DBI_0.4-1  



[macqueen1-ml:~]% sudo R CMD javareconf

Java interpreter : /usr/bin/java
Java version     : 1.7.0_101
Java home path   : /Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre
Java compiler    : /usr/bin/javac
Java headers gen.: /usr/bin/javah
Java archive tool: /usr/bin/jar
Non-system Java on OS X

trying to compile and link a JNI program 
detected JNI cpp flags    : -I$(JAVA_HOME)/../include -I$(JAVA_HOME)/../include/darwin
detected JNI linker flags : -L$(JAVA_HOME)/lib/server -ljvm
clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre/../include -I/Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre/../include/darwin -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include    -fPIC  -Wall -mtune=core2 -g -O2  -c conftest.c -o conftest.o
clang -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o conftest.so conftest.o -L/Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre/lib/server -ljvm -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation


JAVA_HOME        : /Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre
Java library path: $(JAVA_HOME)/lib/server
JNI cpp flags    : -I$(JAVA_HOME)/../include -I$(JAVA_HOME)/../include/darwin
JNI linker flags : -L$(JAVA_HOME)/lib/server -ljvm
Updating Java configuration in /Library/Frameworks/R.framework/Resources
Done.


Also:
[macqueen1-ml:~]% java -version
java version "1.7.0_101"
Java(TM) SE Runtime Environment (build 1.7.0_101-b14)
Java HotSpot(TM) 64-Bit Server VM (build 24.101-b14, mixed mode)



Don MacQueen
Lawrence Livermore National Laboratory
macqueen1 at llnl.gov
925-423-1062




From bhh at xs4all.nl  Sat Jun 18 09:43:23 2016
From: bhh at xs4all.nl (Berend Hasselman)
Date: Sat, 18 Jun 2016 09:43:23 +0200
Subject: [R-SIG-Mac] Problem with RJDBC in OS X 10.11
In-Reply-To: <DE41C499-E9D2-4DDD-8408-08D55EAE2E4E@llnl.gov>
References: <DE41C499-E9D2-4DDD-8408-08D55EAE2E4E@llnl.gov>
Message-ID: <42C14E39-60FB-4444-9FB9-E49A5FC60F78@xs4all.nl>


> On 18 Jun 2016, at 00:28, MacQueen, Don <macqueen1 at llnl.gov> wrote:
> 
> I?m not sure the best place to ask about this, so I?ll start here, since the problem appears to be configuring Java on a Mac to support R packages. Unfortunately, my understanding of how to configure and manage Java is essentially non-existent, so any suggestions would be much appreciated. 
> 
> I have a script using RJDBC that is working on a Mac running OS X 10.10.5. The same script, with the same JDBC .jar files from Oracle, is not working on an OS X 10.11.4 machine, as shown below. Other packages that depend on Java, such as xlsx, are not working either.
> 
> I have run R CMD javareconf to no avail (output below).
> 
> The software management system used by our IT department claims that "Oracle Java 1.7 SDK and JRE" are installed.
> 

I had similar issues with rJava. See this thread: https://stat.ethz.ch/pipermail/r-sig-mac/2016-February/011836.html

I made a shell script for reinstalling rJava whenever the R version changes.
It runs in the folder where you have the rJava source tarball.

<script>
R -e 'Sys.getenv("DYLD_FALLBACK_LIBRARY_PATH")'
R CMD javareconf
R -e 'Sys.getenv("DYLD_FALLBACK_LIBRARY_PATH")'

RMAINLIB="$(R RHOME)/library"
# install rJava from source in to main library
R CMD INSTALL --library="$RMAINLIB" rJava_0.9-8.tar.gz > install.out
</script>

I've just tested this after removing the installed version of rJava.
I can load things like XLConnect etc. without problems.

Then you can use rJava etc. with R in Terminal. Using rJava doesn't work in/with R GUI.

Berend


> -Don
> 
> 
>> jdbm <- JDBC('oracle.jdbc.OracleDriver', '/opt/ora11g/instantclient_11_2/ojdbc6.jar', "`")
> JavaVM: requested Java version ((null)) not available. Using Java at "" instead.
> JavaVM: Failed to load JVM: /bundle/Libraries/libserver.dylib
> JavaVM FATAL: Failed to load the jvm library.
> Error in .jinit(classPath) : JNI_GetCreatedJavaVMs returned -1
> 
>> sessionInfo()
> R version 3.3.0 (2016-05-03)
> Platform: x86_64-apple-darwin13.4.0 (64-bit)
> Running under: OS X 10.11.4 (El Capitan)
> 
> locale:
> [1] C
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
> 
> other attached packages:
> [1] RJDBC_0.2-5 rJava_0.9-8 DBI_0.4-1  
> 
> 
> 
> [macqueen1-ml:~]% sudo R CMD javareconf
> 
> Java interpreter : /usr/bin/java
> Java version     : 1.7.0_101
> Java home path   : /Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre
> Java compiler    : /usr/bin/javac
> Java headers gen.: /usr/bin/javah
> Java archive tool: /usr/bin/jar
> Non-system Java on OS X
> 
> trying to compile and link a JNI program 
> detected JNI cpp flags    : -I$(JAVA_HOME)/../include -I$(JAVA_HOME)/../include/darwin
> detected JNI linker flags : -L$(JAVA_HOME)/lib/server -ljvm
> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre/../include -I/Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre/../include/darwin -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include    -fPIC  -Wall -mtune=core2 -g -O2  -c conftest.c -o conftest.o
> clang -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o conftest.so conftest.o -L/Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre/lib/server -ljvm -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
> 
> 
> JAVA_HOME        : /Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre
> Java library path: $(JAVA_HOME)/lib/server
> JNI cpp flags    : -I$(JAVA_HOME)/../include -I$(JAVA_HOME)/../include/darwin
> JNI linker flags : -L$(JAVA_HOME)/lib/server -ljvm
> Updating Java configuration in /Library/Frameworks/R.framework/Resources
> Done.
> 
> 
> Also:
> [macqueen1-ml:~]% java -version
> java version "1.7.0_101"
> Java(TM) SE Runtime Environment (build 1.7.0_101-b14)
> Java HotSpot(TM) 64-Bit Server VM (build 24.101-b14, mixed mode)
> 
> 
> 
> Don MacQueen
> Lawrence Livermore National Laboratory
> macqueen1 at llnl.gov
> 925-423-1062
> 
> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From charles.dimaggio at gmail.com  Sat Jun 18 13:32:45 2016
From: charles.dimaggio at gmail.com (Charles DiMaggio)
Date: Sat, 18 Jun 2016 07:32:45 -0400
Subject: [R-SIG-Mac] Problem with RJDBC in OS X 10.11
In-Reply-To: <42C14E39-60FB-4444-9FB9-E49A5FC60F78@xs4all.nl>
References: <DE41C499-E9D2-4DDD-8408-08D55EAE2E4E@llnl.gov>
	<42C14E39-60FB-4444-9FB9-E49A5FC60F78@xs4all.nl>
Message-ID: <59BB5562-7046-434A-AEF2-7E43BA07651F@gmail.com>

Recently came up against the same issue with package ?RNetLogo?, so appears to not be an isolated issue.  Solution for me was to 

(1) ensure latest version of java (type "java -version" without the quotes in your terminal), if less than 1.8, install Java SE Development Kit 8u91 (http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html) and 

(2) run the program through JGR.  I needed to tweak the settings a bit when running JGR:

Sys.setenv(NOAWT=1)
library(JGR)
Sys.unsetenv("NOAWT")
JGR()

Wasn?t entirely happy about having to leave my preferred editor (Textmate), but it worked.

Cheers

Charles
Charles DiMaggio, PhD, MPH
Professor of Surgery and Population Health
Director of Injury Research
Department of Surgery
New York University School of Medicine
462 First Avenue, NBV 15
New York, NY 10016-9196
Charles.Dimaggio at nyumc.org
Office: 212.263.3202
Mobile: 516.308.6426 





On Jun 18, 2016, at 3:43 AM, Berend Hasselman <bhh at xs4all.nl> wrote:

> 
>> On 18 Jun 2016, at 00:28, MacQueen, Don <macqueen1 at llnl.gov> wrote:
>> 
>> I?m not sure the best place to ask about this, so I?ll start here, since the problem appears to be configuring Java on a Mac to support R packages. Unfortunately, my understanding of how to configure and manage Java is essentially non-existent, so any suggestions would be much appreciated. 
>> 
>> I have a script using RJDBC that is working on a Mac running OS X 10.10.5. The same script, with the same JDBC .jar files from Oracle, is not working on an OS X 10.11.4 machine, as shown below. Other packages that depend on Java, such as xlsx, are not working either.
>> 
>> I have run R CMD javareconf to no avail (output below).
>> 
>> The software management system used by our IT department claims that "Oracle Java 1.7 SDK and JRE" are installed.
>> 
> 
> I had similar issues with rJava. See this thread: https://stat.ethz.ch/pipermail/r-sig-mac/2016-February/011836.html
> 
> I made a shell script for reinstalling rJava whenever the R version changes.
> It runs in the folder where you have the rJava source tarball.
> 
> <script>
> R -e 'Sys.getenv("DYLD_FALLBACK_LIBRARY_PATH")'
> R CMD javareconf
> R -e 'Sys.getenv("DYLD_FALLBACK_LIBRARY_PATH")'
> 
> RMAINLIB="$(R RHOME)/library"
> # install rJava from source in to main library
> R CMD INSTALL --library="$RMAINLIB" rJava_0.9-8.tar.gz > install.out
> </script>
> 
> I've just tested this after removing the installed version of rJava.
> I can load things like XLConnect etc. without problems.
> 
> Then you can use rJava etc. with R in Terminal. Using rJava doesn't work in/with R GUI.
> 
> Berend
> 
> 
>> -Don
>> 
>> 
>>> jdbm <- JDBC('oracle.jdbc.OracleDriver', '/opt/ora11g/instantclient_11_2/ojdbc6.jar', "`")
>> JavaVM: requested Java version ((null)) not available. Using Java at "" instead.
>> JavaVM: Failed to load JVM: /bundle/Libraries/libserver.dylib
>> JavaVM FATAL: Failed to load the jvm library.
>> Error in .jinit(classPath) : JNI_GetCreatedJavaVMs returned -1
>> 
>>> sessionInfo()
>> R version 3.3.0 (2016-05-03)
>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>> Running under: OS X 10.11.4 (El Capitan)
>> 
>> locale:
>> [1] C
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base     
>> 
>> other attached packages:
>> [1] RJDBC_0.2-5 rJava_0.9-8 DBI_0.4-1  
>> 
>> 
>> 
>> [macqueen1-ml:~]% sudo R CMD javareconf
>> 
>> Java interpreter : /usr/bin/java
>> Java version     : 1.7.0_101
>> Java home path   : /Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre
>> Java compiler    : /usr/bin/javac
>> Java headers gen.: /usr/bin/javah
>> Java archive tool: /usr/bin/jar
>> Non-system Java on OS X
>> 
>> trying to compile and link a JNI program 
>> detected JNI cpp flags    : -I$(JAVA_HOME)/../include -I$(JAVA_HOME)/../include/darwin
>> detected JNI linker flags : -L$(JAVA_HOME)/lib/server -ljvm
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre/../include -I/Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre/../include/darwin -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include    -fPIC  -Wall -mtune=core2 -g -O2  -c conftest.c -o conftest.o
>> clang -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o conftest.so conftest.o -L/Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre/lib/server -ljvm -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
>> 
>> 
>> JAVA_HOME        : /Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre
>> Java library path: $(JAVA_HOME)/lib/server
>> JNI cpp flags    : -I$(JAVA_HOME)/../include -I$(JAVA_HOME)/../include/darwin
>> JNI linker flags : -L$(JAVA_HOME)/lib/server -ljvm
>> Updating Java configuration in /Library/Frameworks/R.framework/Resources
>> Done.
>> 
>> 
>> Also:
>> [macqueen1-ml:~]% java -version
>> java version "1.7.0_101"
>> Java(TM) SE Runtime Environment (build 1.7.0_101-b14)
>> Java HotSpot(TM) 64-Bit Server VM (build 24.101-b14, mixed mode)
>> 
>> 
>> 
>> Don MacQueen
>> Lawrence Livermore National Laboratory
>> macqueen1 at llnl.gov
>> 925-423-1062
>> 
>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


	[[alternative HTML version deleted]]


From dwinsemius at comcast.net  Sat Jun 18 17:04:23 2016
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 18 Jun 2016 08:04:23 -0700
Subject: [R-SIG-Mac] Problem with RJDBC in OS X 10.11
In-Reply-To: <59BB5562-7046-434A-AEF2-7E43BA07651F@gmail.com>
References: <DE41C499-E9D2-4DDD-8408-08D55EAE2E4E@llnl.gov>
	<42C14E39-60FB-4444-9FB9-E49A5FC60F78@xs4all.nl>
	<59BB5562-7046-434A-AEF2-7E43BA07651F@gmail.com>
Message-ID: <C96B76F9-2F34-4C70-BFDC-24ECBFB029D3@comcast.net>


> On Jun 18, 2016, at 4:32 AM, Charles DiMaggio <charles.dimaggio at gmail.com> wrote:
> 
> Recently came up against the same issue with package ?RNetLogo?, so appears to not be an isolated issue.  Solution for me was to 
> 
> (1) ensure latest version of java (type "java -version" without the quotes in your terminal), if less than 1.8, install Java SE Development Kit 8u91 (http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html) and 
> 
> (2) run the program through JGR.  I needed to tweak the settings a bit when running JGR:
> 
> Sys.setenv(NOAWT=1)
> library(JGR)
> Sys.unsetenv("NOAWT")
> JGR()
> 
> Wasn?t entirely happy about having to leave my preferred editor (Textmate), but it worked.
> 
> Cheers
> 
> Charles
> Charles DiMaggio, PhD, MPH
> Professor of Surgery and Population Health
> 

I recently had failure on an El Capitan machine running R 3.3.0 RC  to load pkg:XLConnect and got identical message attempting to load pkg:xlsx. 

#------------
> library(XLConnect)
Loading required package: XLConnectJars
Error : .onLoad failed in loadNamespace() for 'rJava', details:
  call: dyn.load(file, DLLpath = DLLpath, ...)
  error: unable to load shared object '/Library/Frameworks/R.framework/Versions/3.3/Resources/library/rJava/libs/rJava.so':
  dlopen(/Library/Frameworks/R.framework/Versions/3.3/Resources/library/rJava/libs/rJava.so, 6): Library not loaded: @rpath/libjvm.dylib
  Referenced from: /Library/Frameworks/R.framework/Versions/3.3/Resources/library/rJava/libs/rJava.so
  Reason: image not found
Error: package ?XLConnectJars? could not be loaded
#------------

Searching StackOverflow I found an answer that reported success with this system level incantation:

david-winsemiuss-mac-pro:~ davidwinsemius$ sudo ln -s $(/usr/libexec/java_home)/jre/lib/server/libjvm.dylib /usr/local/lib
Password:

# I (think) this creates a link to the current libjvm in the "newly blessed" OSX library location under the tightened OSX rules of user engagement. Then success with both packages loading. Now get:

$ java -version
java version "1.8.0_65"
Java(TM) SE Runtime Environment (build 1.8.0_65-b17)
Java HotSpot(?) 64-Bit Server VM (build 25.65-b01, mixed mode)

I didn't know if my R sessions would have the same result, since I had both a 1.6 which I thought was the designated Java version for R, and a 1.8 version of the Java RTE, but seems I'm now simply using 1.8.

> system("java -version")
java version "1.8.0_65"
Java(TM) SE Runtime Environment (build 1.8.0_65-b17)
Java HotSpot(?) 64-Bit Server VM (build 25.65-b01, mixed mode)



> 
> On Jun 18, 2016, at 3:43 AM, Berend Hasselman <bhh at xs4all.nl> wrote:
> 
>> 
>>> On 18 Jun 2016, at 00:28, MacQueen, Don <macqueen1 at llnl.gov> wrote:
>>> 
>>> I?m not sure the best place to ask about this, so I?ll start here, since the problem appears to be configuring Java on a Mac to support R packages. Unfortunately, my understanding of how to configure and manage Java is essentially non-existent, so any suggestions would be much appreciated. 
>>> 
>>> I have a script using RJDBC that is working on a Mac running OS X 10.10.5. The same script, with the same JDBC .jar files from Oracle, is not working on an OS X 10.11.4 machine, as shown below. Other packages that depend on Java, such as xlsx, are not working either.
>>> 
>>> I have run R CMD javareconf to no avail (output below).
>>> 
>>> The software management system used by our IT department claims that "Oracle Java 1.7 SDK and JRE" are installed.
>>> 
>> 
>> I had similar issues with rJava. See this thread: https://stat.ethz.ch/pipermail/r-sig-mac/2016-February/011836.html
>> 
>> I made a shell script for reinstalling rJava whenever the R version changes.
>> It runs in the folder where you have the rJava source tarball.
>> 
>> <script>
>> R -e 'Sys.getenv("DYLD_FALLBACK_LIBRARY_PATH")'
>> R CMD javareconf
>> R -e 'Sys.getenv("DYLD_FALLBACK_LIBRARY_PATH")'
>> 
>> RMAINLIB="$(R RHOME)/library"
>> # install rJava from source in to main library
>> R CMD INSTALL --library="$RMAINLIB" rJava_0.9-8.tar.gz > install.out
>> </script>
>> 
>> I've just tested this after removing the installed version of rJava.
>> I can load things like XLConnect etc. without problems.
>> 
>> Then you can use rJava etc. with R in Terminal. Using rJava doesn't work in/with R GUI.
>> 
>> Berend
>> 
>> 
>>> -Don
>>> 
>>> 
>>>> jdbm <- JDBC('oracle.jdbc.OracleDriver', '/opt/ora11g/instantclient_11_2/ojdbc6.jar', "`")
>>> JavaVM: requested Java version ((null)) not available. Using Java at "" instead.
>>> JavaVM: Failed to load JVM: /bundle/Libraries/libserver.dylib
>>> JavaVM FATAL: Failed to load the jvm library.
>>> Error in .jinit(classPath) : JNI_GetCreatedJavaVMs returned -1
>>> 
>>>> sessionInfo()
>>> R version 3.3.0 (2016-05-03)
>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>> Running under: OS X 10.11.4 (El Capitan)
>>> 
>>> locale:
>>> [1] C
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base     
>>> 
>>> other attached packages:
>>> [1] RJDBC_0.2-5 rJava_0.9-8 DBI_0.4-1  
>>> 
>>> 
>>> 
>>> [macqueen1-ml:~]% sudo R CMD javareconf
>>> 
>>> Java interpreter : /usr/bin/java
>>> Java version     : 1.7.0_101
>>> Java home path   : /Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre
>>> Java compiler    : /usr/bin/javac
>>> Java headers gen.: /usr/bin/javah
>>> Java archive tool: /usr/bin/jar
>>> Non-system Java on OS X
>>> 
>>> trying to compile and link a JNI program 
>>> detected JNI cpp flags    : -I$(JAVA_HOME)/../include -I$(JAVA_HOME)/../include/darwin
>>> detected JNI linker flags : -L$(JAVA_HOME)/lib/server -ljvm
>>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre/../include -I/Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre/../include/darwin -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include    -fPIC  -Wall -mtune=core2 -g -O2  -c conftest.c -o conftest.o
>>> clang -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o conftest.so conftest.o -L/Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre/lib/server -ljvm -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
>>> 
>>> 
>>> JAVA_HOME        : /Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre
>>> Java library path: $(JAVA_HOME)/lib/server
>>> JNI cpp flags    : -I$(JAVA_HOME)/../include -I$(JAVA_HOME)/../include/darwin
>>> JNI linker flags : -L$(JAVA_HOME)/lib/server -ljvm
>>> Updating Java configuration in /Library/Frameworks/R.framework/Resources
>>> Done.
>>> 
>>> 
>>> Also:
>>> [macqueen1-ml:~]% java -version
>>> java version "1.7.0_101"
>>> Java(TM) SE Runtime Environment (build 1.7.0_101-b14)
>>> Java HotSpot(TM) 64-Bit Server VM (build 24.101-b14, mixed mode)
>>> 
>>> 
>>> 
>>> Don MacQueen
>>> Lawrence Livermore National Laboratory
>>> macqueen1 at llnl.gov
>>> 925-423-1062
>>> 
>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From macqueen1 at llnl.gov  Mon Jun 20 18:45:29 2016
From: macqueen1 at llnl.gov (MacQueen, Don)
Date: Mon, 20 Jun 2016 16:45:29 +0000
Subject: [R-SIG-Mac] Problem with RJDBC in OS X 10.11
In-Reply-To: <42C14E39-60FB-4444-9FB9-E49A5FC60F78@xs4all.nl>
References: <DE41C499-E9D2-4DDD-8408-08D55EAE2E4E@llnl.gov>
	<42C14E39-60FB-4444-9FB9-E49A5FC60F78@xs4all.nl>
Message-ID: <C2938F74-A863-4387-BB5D-05051AB7957E@llnl.gov>

Berend,

I now have  working packages, thanks!

The key was installing rJava from source rather than binary (binary being the default when using install.packages(); I had already run javareconf so there was no change there).

And apologies to everyone for failing to search hard enough to find the solution that was already available on R-sig-mac. As an aside, yes, my Java is indeed old, but my institution, for whatever reason, is not offering a more recent version in its software deployment system.

-Don

Don MacQueen
Lawrence Livermore National Laboratory
macqueen1 at llnl.gov
925-423-1062



> On Jun 18, 2016, at 12:43 AM, Berend Hasselman <bhh at xs4all.nl> wrote:
> 
> 
>> On 18 Jun 2016, at 00:28, MacQueen, Don <macqueen1 at llnl.gov> wrote:
>> 
>> I?m not sure the best place to ask about this, so I?ll start here, since the problem appears to be configuring Java on a Mac to support R packages. Unfortunately, my understanding of how to configure and manage Java is essentially non-existent, so any suggestions would be much appreciated. 
>> 
>> I have a script using RJDBC that is working on a Mac running OS X 10.10.5. The same script, with the same JDBC .jar files from Oracle, is not working on an OS X 10.11.4 machine, as shown below. Other packages that depend on Java, such as xlsx, are not working either.
>> 
>> I have run R CMD javareconf to no avail (output below).
>> 
>> The software management system used by our IT department claims that "Oracle Java 1.7 SDK and JRE" are installed.
>> 
> 
> I had similar issues with rJava. See this thread: https://stat.ethz.ch/pipermail/r-sig-mac/2016-February/011836.html
> 
> I made a shell script for reinstalling rJava whenever the R version changes.
> It runs in the folder where you have the rJava source tarball.
> 
> <script>
> R -e 'Sys.getenv("DYLD_FALLBACK_LIBRARY_PATH")'
> R CMD javareconf
> R -e 'Sys.getenv("DYLD_FALLBACK_LIBRARY_PATH")'
> 
> RMAINLIB="$(R RHOME)/library"
> # install rJava from source in to main library
> R CMD INSTALL --library="$RMAINLIB" rJava_0.9-8.tar.gz > install.out
> </script>
> 
> I've just tested this after removing the installed version of rJava.
> I can load things like XLConnect etc. without problems.
> 
> Then you can use rJava etc. with R in Terminal. Using rJava doesn't work in/with R GUI.
> 
> Berend
> 
> 
>> -Don
>> 
>> 
>>> jdbm <- JDBC('oracle.jdbc.OracleDriver', '/opt/ora11g/instantclient_11_2/ojdbc6.jar', "`")
>> JavaVM: requested Java version ((null)) not available. Using Java at "" instead.
>> JavaVM: Failed to load JVM: /bundle/Libraries/libserver.dylib
>> JavaVM FATAL: Failed to load the jvm library.
>> Error in .jinit(classPath) : JNI_GetCreatedJavaVMs returned -1
>> 
>>> sessionInfo()
>> R version 3.3.0 (2016-05-03)
>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>> Running under: OS X 10.11.4 (El Capitan)
>> 
>> locale:
>> [1] C
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base     
>> 
>> other attached packages:
>> [1] RJDBC_0.2-5 rJava_0.9-8 DBI_0.4-1  
>> 
>> 
>> 
>> [macqueen1-ml:~]% sudo R CMD javareconf
>> 
>> Java interpreter : /usr/bin/java
>> Java version     : 1.7.0_101
>> Java home path   : /Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre
>> Java compiler    : /usr/bin/javac
>> Java headers gen.: /usr/bin/javah
>> Java archive tool: /usr/bin/jar
>> Non-system Java on OS X
>> 
>> trying to compile and link a JNI program 
>> detected JNI cpp flags    : -I$(JAVA_HOME)/../include -I$(JAVA_HOME)/../include/darwin
>> detected JNI linker flags : -L$(JAVA_HOME)/lib/server -ljvm
>> clang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre/../include -I/Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre/../include/darwin -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include    -fPIC  -Wall -mtune=core2 -g -O2  -c conftest.c -o conftest.o
>> clang -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o conftest.so conftest.o -L/Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre/lib/server -ljvm -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
>> 
>> 
>> JAVA_HOME        : /Library/Java/JavaVirtualMachines/jdk1.7.0_101.jdk/Contents/Home/jre
>> Java library path: $(JAVA_HOME)/lib/server
>> JNI cpp flags    : -I$(JAVA_HOME)/../include -I$(JAVA_HOME)/../include/darwin
>> JNI linker flags : -L$(JAVA_HOME)/lib/server -ljvm
>> Updating Java configuration in /Library/Frameworks/R.framework/Resources
>> Done.
>> 
>> 
>> Also:
>> [macqueen1-ml:~]% java -version
>> java version "1.7.0_101"
>> Java(TM) SE Runtime Environment (build 1.7.0_101-b14)
>> Java HotSpot(TM) 64-Bit Server VM (build 24.101-b14, mixed mode)
>> 
>> 
>> 
>> Don MacQueen
>> Lawrence Livermore National Laboratory
>> macqueen1 at llnl.gov
>> 925-423-1062
>> 
>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From carl at witthoft.com  Mon Jun 27 02:40:16 2016
From: carl at witthoft.com (Carl Witthoft)
Date: Sun, 26 Jun 2016 20:40:16 -0400
Subject: [R-SIG-Mac] R vs. Microsoft R-Open updates?
Message-ID: <851a77e3-a091-ea10-fff8-9384e1c2c24f@witthoft.com>

Hi.
I D/L'd the 3.3.1 version of R for MacOSX and ran the installer. After 
getting some "can't load" error messages, I discovered that the 
installer had updated the MicrosoftROpen.app, not the "vanilla"  R.app . 
Is this expected behavior, or am I making a hash of my apps and 
libraries by trying to keep both R and MRO available on my (Yosemite) 
machine?

-- 
Carl Witthoft
carl at witthoft.com
resume: https://app.box.com/WitthoftResume


From dwinsemius at comcast.net  Mon Jun 27 05:17:58 2016
From: dwinsemius at comcast.net (David Winsemius)
Date: Sun, 26 Jun 2016 20:17:58 -0700
Subject: [R-SIG-Mac] R vs. Microsoft R-Open updates?
In-Reply-To: <851a77e3-a091-ea10-fff8-9384e1c2c24f@witthoft.com>
References: <851a77e3-a091-ea10-fff8-9384e1c2c24f@witthoft.com>
Message-ID: <4048371F-D7F2-4C54-A52C-39CEEA45879E@comcast.net>


> On Jun 26, 2016, at 5:40 PM, Carl Witthoft <carl at witthoft.com> wrote:
> 
> Hi.
> I D/L'd the 3.3.1 version of R for MacOSX and ran the installer. After getting some "can't load" error messages, I discovered that the installer had updated the MicrosoftROpen.app, not the "vanilla"  R.app . Is this expected behavior, or am I making a hash of my apps and libraries by trying to keep both R and MRO available on my (Yosemite) machine?

The MRO website says it's not possible. I have managed to have an R.app/CRAN_R version 3.3.x running alongside MRO version 3.2.x but I have needed to use the R_Switch.app (spelling?) from the r.att.research.com website to go back an forth between them.

> 
> -- 
> Carl Witthoft
> carl at witthoft.com
> resume: https://app.box.com/WitthoftResume
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From dwinsemius at comcast.net  Mon Jun 27 05:20:17 2016
From: dwinsemius at comcast.net (David Winsemius)
Date: Sun, 26 Jun 2016 20:20:17 -0700
Subject: [R-SIG-Mac] R vs. Microsoft R-Open updates?
In-Reply-To: <4048371F-D7F2-4C54-A52C-39CEEA45879E@comcast.net>
References: <851a77e3-a091-ea10-fff8-9384e1c2c24f@witthoft.com>
	<4048371F-D7F2-4C54-A52C-39CEEA45879E@comcast.net>
Message-ID: <BAC3E5EA-2E1B-438D-AEAF-2A0A08FD4E8C@comcast.net>


> On Jun 26, 2016, at 8:17 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> 
>> On Jun 26, 2016, at 5:40 PM, Carl Witthoft <carl at witthoft.com> wrote:
>> 
>> Hi.
>> I D/L'd the 3.3.1 version of R for MacOSX and ran the installer. After getting some "can't load" error messages, I discovered that the installer had updated the MicrosoftROpen.app, not the "vanilla"  R.app . Is this expected behavior, or am I making a hash of my apps and libraries by trying to keep both R and MRO available on my (Yosemite) machine?
> 
> The MRO website says it's not possible. I have managed to have an R.app/CRAN_R version 3.3.x running alongside MRO version 3.2.x but I have needed to use the R_Switch.app (spelling?) from the r.att.research.com website

... make that:

http://r.research.att.com/


> to go back an forth between them.
> 
>> 
>> -- 
>> Carl Witthoft
>> carl at witthoft.com
>> resume: https://app.box.com/WitthoftResume
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> David Winsemius
> Alameda, CA, USA
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From simon.urbanek at r-project.org  Tue Jun 28 01:47:45 2016
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 27 Jun 2016 16:47:45 -0700
Subject: [R-SIG-Mac] R vs. Microsoft R-Open updates?
In-Reply-To: <851a77e3-a091-ea10-fff8-9384e1c2c24f@witthoft.com>
References: <851a77e3-a091-ea10-fff8-9384e1c2c24f@witthoft.com>
Message-ID: <D6A330A3-8226-40AA-BB3B-558DA69C8236@r-project.org>


> On Jun 26, 2016, at 5:40 PM, Carl Witthoft <carl at witthoft.com> wrote:
> 
> Hi.
> I D/L'd the 3.3.1 version of R for MacOSX and ran the installer. After getting some "can't load" error messages, I discovered that the installer had updated the MicrosoftROpen.app, not the "vanilla"  R.app . Is this expected behavior, or am I making a hash of my apps and libraries by trying to keep both R and MRO available on my (Yosemite) machine?
> 

I don't know about MRO (sounds somewhat paradoxical ;)), but Apple Installer simply upgrades the application on your machine no matter where you moved it (whether you like it or not). If it really did upgrade your MRO app then it means Microsoft doesn't even bother changing the ID of the app which means they still claim it's our CRAN R which sounds really wrong given the name...

Cheers,
Simon  


> -- 
> Carl Witthoft
> carl at witthoft.com
> resume: https://app.box.com/WitthoftResume
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From dwinsemius at comcast.net  Tue Jun 28 04:22:24 2016
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 27 Jun 2016 19:22:24 -0700
Subject: [R-SIG-Mac] R vs. Microsoft R-Open updates?
In-Reply-To: <D6A330A3-8226-40AA-BB3B-558DA69C8236@r-project.org>
References: <851a77e3-a091-ea10-fff8-9384e1c2c24f@witthoft.com>
	<D6A330A3-8226-40AA-BB3B-558DA69C8236@r-project.org>
Message-ID: <BEE4AB53-CAFC-4A3E-92D9-0E5DBD391AE7@comcast.net>


> On Jun 27, 2016, at 4:47 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> 
>> On Jun 26, 2016, at 5:40 PM, Carl Witthoft <carl at witthoft.com> wrote:
>> 
>> Hi.
>> I D/L'd the 3.3.1 version of R for MacOSX and ran the installer. After getting some "can't load" error messages, I discovered that the installer had updated the MicrosoftROpen.app, not the "vanilla"  R.app . Is this expected behavior, or am I making a hash of my apps and libraries by trying to keep both R and MRO available on my (Yosemite) machine?
>> 
> 
> I don't know about MRO (sounds somewhat paradoxical ;)), but Apple Installer simply upgrades the application on your machine no matter where you moved it (whether you like it or not). If it really did upgrade your MRO app then it means Microsoft doesn't even bother changing the ID of the app which means they still claim it's our CRAN R which sounds really wrong given the name...

My first reply got held up because the pdf file was too big (< 500 kB). I was showing the package contents of the MRO.app and the R.app in hte Applications directory to show that they were essentially the same except for some icons and the R file they point to:

$ ls -R "/Applications/Microsoft R Open.app/Contents"
Info.plist	MacOS		PkgInfo		Resources

/Applications/Microsoft R Open.app/Contents/MacOS:
Microsoft R Open

/Applications/Microsoft R Open.app/Contents/Resources:
COPYRIGHTS			NewDocumentItemImage.tiff	add_row.tiff			nl.lproj
English.lproj			Prefs.tiff			colors.tiff			objEdit.tiff
Folding Bottom Hoover.png	RInput.png			colorsPP.tiff			objRem.png
Folding Bottom Pressed.png	RLogo.png			de.lproj			quartz.tiff
Folding Bottom.png		RMacOSX-FAQ.html		default.css			quartzPP.tiff
Folding Collapsed Hoover.png	RMacOSX-FAQ.texi		emptyDoc.tiff			quit.png
Folding Collapsed Pressed.png	ReadMe.txt			fr.lproj			refresh.png
Folding Collapsed.png		Revolution R OpenLogo.icns	history.png			rem_col.tiff
Folding Top Hoover.png		Revolution R Opendata.icns	index.html			rem_row.tiff
Folding Top Pressed.png		Revolution R Opendoc.icns	it.lproj			sourceR.tiff
Folding Top.png			Revolution R Openrun.icns	ja.lproj			stop.tiff
GUI-tools.R			SaveDocumentItemImage.tiff	lock-locked.tiff		sush
INSTALL				TODO-LIST			lock-unlocked.tiff
LoadDocumentItemImage.tiff	X11.icns			logs.icns
NEWS				add_col.tiff			miscPP.png

/Applications/Microsoft R Open.app/Contents/Resources/English.lproj:
ColorsPrefPane.nib		Localizable.strings		R.scriptSuite			RQuartz.nib
Credits.rtf			MainMenu.nib			R.scriptTerminology		SelectEncodingsPanel.nib
EditorPrefPane.nib		MiscPrefPane.nib		RConsole.nib			SyntaxColorsPrefPane.nib
EncodingPopupView.nib		QuartzPrefPane.nib		RDocument.nib			Vignettes.nib

/Applications/Microsoft R Open.app/Contents/Resources/de.lproj:
ColorsPrefPane.nib		Localizable.strings		QuartzPrefPane.nib		SyntaxColorsPrefPane.nib
Credits.rtf			MainMenu.nib			RDocument.nib			Vignettes.nib
EditorPrefPane.nib		MiscPrefPane.nib		SelectEncodingsPanel.nib

/Applications/Microsoft R Open.app/Contents/Resources/fr.lproj:
Credits.rtf			MainMenu.nib			RDocument.nib			Vignettes.nib
EditorPrefPane.nib		MiscPrefPane.nib		SelectEncodingsPanel.nib
Localizable.strings		QuartzPrefPane.nib		SyntaxColorsPrefPane.nib

/Applications/Microsoft R Open.app/Contents/Resources/it.lproj:
ColorsPrefPane.nib		Localizable.strings		QuartzPrefPane.nib		SyntaxColorsPrefPane.nib
Credits.rtf			MainMenu.nib			RDocument.nib			Vignettes.nib
EditorPrefPane.nib		MiscPrefPane.nib		SelectEncodingsPanel.nib

/Applications/Microsoft R Open.app/Contents/Resources/ja.lproj:
ColorsPrefPane.nib		Localizable.strings		QuartzPrefPane.nib		SelectEncodingsPanel.nib
Credits.rtf			MainMenu.nib			RConsole.nib			SyntaxColorsPrefPane.nib
EditorPrefPane.nib		MiscPrefPane.nib		RDocument.nib			Vignettes.nib

/Applications/Microsoft R Open.app/Contents/Resources/nl.lproj:
ColorsPrefPane.nib		Localizable.strings		QuartzPrefPane.nib		SelectEncodingsPanel.nib
Credits.rtf			MainMenu.nib			RConsole.nib			SyntaxColorsPrefPane.nib
EditorPrefPane.nib		MiscPrefPane.nib		RDocument.nib			Vignettes.nib

#--- and now the R.app files ---------------------

$ ls -R "/Applications/R.app/Contents"
Info.plist	MacOS		PkgInfo		Resources

/Applications/R.app/Contents/MacOS:
R

/Applications/R.app/Contents/Resources:
COPYRIGHTS			NewDocumentItemImage.tiff	add_row.tiff			nl.lproj
English.lproj			Prefs.tiff			colors.tiff			objEdit.tiff
Folding Bottom Hoover.png	RInput.png			colorsPP.tiff			objRem.png
Folding Bottom Pressed.png	RLogo.icns			de.lproj			quartz.tiff
Folding Bottom.png		RLogo.png			default.css			quartzPP.tiff
Folding Collapsed Hoover.png	RMacOSX-FAQ.html		emptyDoc.tiff			quit.png
Folding Collapsed Pressed.png	RMacOSX-FAQ.texi		fr.lproj			refresh.png
Folding Collapsed.png		Rdata.icns			history.png			rem_col.tiff
Folding Top Hoover.png		Rdoc.icns			index.html			rem_row.tiff
Folding Top Pressed.png		ReadMe.txt			it.lproj			sourceR.tiff
Folding Top.png			Rrun.icns			ja.lproj			stop.tiff
GUI-tools.R			SaveDocumentItemImage.tiff	lock-locked.tiff		sush
INSTALL				TODO-LIST			lock-unlocked.tiff
LoadDocumentItemImage.tiff	X11.icns			logs.icns
NEWS				add_col.tiff			miscPP.png

/Applications/R.app/Contents/Resources/English.lproj:
ColorsPrefPane.nib		Localizable.strings		R.scriptSuite			RQuartz.nib
Credits.rtf			MainMenu.nib			R.scriptTerminology		SelectEncodingsPanel.nib
EditorPrefPane.nib		MiscPrefPane.nib		RConsole.nib			SyntaxColorsPrefPane.nib
EncodingPopupView.nib		QuartzPrefPane.nib		RDocument.nib			Vignettes.nib

/Applications/R.app/Contents/Resources/de.lproj:
ColorsPrefPane.nib		Localizable.strings		QuartzPrefPane.nib		SyntaxColorsPrefPane.nib
Credits.rtf			MainMenu.nib			RDocument.nib			Vignettes.nib
EditorPrefPane.nib		MiscPrefPane.nib		SelectEncodingsPanel.nib

/Applications/R.app/Contents/Resources/fr.lproj:
Credits.rtf			MainMenu.nib			RDocument.nib			Vignettes.nib
EditorPrefPane.nib		MiscPrefPane.nib		SelectEncodingsPanel.nib
Localizable.strings		QuartzPrefPane.nib		SyntaxColorsPrefPane.nib

/Applications/R.app/Contents/Resources/it.lproj:
ColorsPrefPane.nib		Localizable.strings		QuartzPrefPane.nib		SyntaxColorsPrefPane.nib
Credits.rtf			MainMenu.nib			RDocument.nib			Vignettes.nib
EditorPrefPane.nib		MiscPrefPane.nib		SelectEncodingsPanel.nib

/Applications/R.app/Contents/Resources/ja.lproj:
ColorsPrefPane.nib		Localizable.strings		QuartzPrefPane.nib		SelectEncodingsPanel.nib
Credits.rtf			MainMenu.nib			RConsole.nib			SyntaxColorsPrefPane.nib
EditorPrefPane.nib		MiscPrefPane.nib		RDocument.nib			Vignettes.nib

/Applications/R.app/Contents/Resources/nl.lproj:
ColorsPrefPane.nib		Localizable.strings		QuartzPrefPane.nib		SelectEncodingsPanel.nib
Credits.rtf			MainMenu.nib			RConsole.nib			SyntaxColorsPrefPane.nib
EditorPrefPane.nib		MiscPrefPane.nib		RDocument.nib			Vignettes.nib

Best;
David.


> Cheers,
> Simon  
> 
> 
>> -- 
>> Carl Witthoft
>> carl at witthoft.com
>> resume: https://app.box.com/WitthoftResume
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From dwinsemius at comcast.net  Tue Jun 28 03:14:28 2016
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 27 Jun 2016 18:14:28 -0700
Subject: [R-SIG-Mac] R vs. Microsoft R-Open updates?
In-Reply-To: <D6A330A3-8226-40AA-BB3B-558DA69C8236@r-project.org>
References: <851a77e3-a091-ea10-fff8-9384e1c2c24f@witthoft.com>
	<D6A330A3-8226-40AA-BB3B-558DA69C8236@r-project.org>
Message-ID: <FB04034F-807C-497B-96BE-782F6374520B@comcast.net>


> On Jun 27, 2016, at 4:47 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> 
>> On Jun 26, 2016, at 5:40 PM, Carl Witthoft <carl at witthoft.com> wrote:
>> 
>> Hi.
>> I D/L'd the 3.3.1 version of R for MacOSX and ran the installer. After getting some "can't load" error messages, I discovered that the installer had updated the MicrosoftROpen.app, not the "vanilla"  R.app . Is this expected behavior, or am I making a hash of my apps and libraries by trying to keep both R and MRO available on my (Yosemite) machine?
>> 
> 
> I don't know about MRO (sounds somewhat paradoxical ;)), but Apple Installer simply upgrades the application on your machine no matter where you moved it (whether you like it or not). If it really did upgrade your MRO app then it means Microsoft doesn't even bother changing the ID of the app which means they still claim it's our CRAN R which sounds really wrong given the name...

When you look at the MRO installation of R, the MRO.app looks just like your (and Stephan Iacus and the other contributors) R.app at least to my intermediate-level understanding of how to measure similarity. It includes citation of authorship but they did change the names of icons. The TO-DO list is identical. The png ions for history, prefs, quit, the NEWS text file, and many other items in the package contents are the same. This is a side by sided display of the Package Contents (converted to pdf):

-------------- next part --------------
A non-text attachment was scrubbed...
Name: MRO.app and R.app.Package Contents (top).tiff.pdf
Type: application/pdf
Size: 358981 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20160627/5cf646ad/attachment-0001.pdf>
-------------- next part --------------



It would be no surprise if two installations of the same version conflicted since they are using the same names for many modules and because Revo/MS says they will conflict, unless that is ... they were in different directories in the R.Framework tree, which is often the case with the MRO releases, since they generally lag behind by one major version level. My MRO version 3.2.2 has been working well alongside R version 3.3.0 and now 3.3.1. RSwitch.app seems to "switch" everything that is needful. 

-- 
David,

> 
> Cheers,
> Simon  
> 
> 
>> -- 
>> Carl Witthoft
>> carl at witthoft.com
>> resume: https://app.box.com/WitthoftResume
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From cgw at witthoft.com  Wed Jun 29 13:31:42 2016
From: cgw at witthoft.com (cgw at witthoft.com)
Date: Wed, 29 Jun 2016 07:31:42 -0400
Subject: [R-SIG-Mac] R vs. Microsoft R-Open updates?
In-Reply-To: <mailman.5383.1467180807.3828.r-sig-mac@r-project.org>
References: <mailman.5383.1467180807.3828.r-sig-mac@r-project.org>
Message-ID: <c84d97d08e684d02b547e7df7a1bcdf9@witthoft.com>

> On Jun 27, 2016, at 4:47 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
>> On Jun 26, 2016, at 5:40 PM, Carl Witthoft <carl at witthoft.com> wrote:
>> 
>> Hi.
>> I D/L'd the 3.3.1 version of R for MacOSX and ran the installer. After getting some "can't load" error messages, I discovered that the installer had updated the MicrosoftROpen.app, not the "vanilla"  R.app . Is this expected behavior, or am I making a hash of my apps and libraries by trying to keep both R and MRO available on my (Yosemite) machine?
> 
> I don't know about MRO (sounds somewhat paradoxical ;)), but Apple Installer simply upgrades the application on your machine no matter where you moved it (whether you like it or not). If it really did upgrade your MRO app then it means Microsoft doesn't even bother changing the ID of the app which means they still claim it's our CRAN R which sounds really wrong given the name...

When you look at the MRO installation of R, the MRO.app looks just like
your (and Stephan Iacus and the other contributors) R.app at least to my
intermediate-level understanding of how to measure similarity. It
includes citation of authorship but they did change the names of icons.
The TO-DO list is identical. The png ions for history, prefs, quit, the
NEWS text file, and many other items in the package contents are the
same. This is a side by sided display of the Package Contents (converted
to pdf):

It would be no surprise if two installations of the same version
conflicted since they are using the same names for many modules and
because Revo/MS says they will conflict, unless that is ... they were in
different directories in the R.Framework tree, which is often the case
with the MRO releases, since they generally lag behind by one major
version level. My MRO version 3.2.2 has been working well alongside R
version 3.3.0 and now 3.3.1. RSwitch.app seems to "switch" everything
that is needful. 

-- 

The funny thing is that I ran the package installer for R 3.3.1 and it
installed it into the MRO package folder.   If I dbl-click the MRO
package icon, I get, so far as I can tell, the R3.3.1 engine and the
usual packages, but  don't know how to tell whether I've simply
clobbered MRO into nonexistence.
	[[alternative HTML version deleted]]


From simon.urbanek at r-project.org  Wed Jun 29 13:58:09 2016
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 29 Jun 2016 04:58:09 -0700
Subject: [R-SIG-Mac] R vs. Microsoft R-Open updates?
In-Reply-To: <c84d97d08e684d02b547e7df7a1bcdf9@witthoft.com>
References: <mailman.5383.1467180807.3828.r-sig-mac@r-project.org>
	<c84d97d08e684d02b547e7df7a1bcdf9@witthoft.com>
Message-ID: <0C68D929-CD56-4482-8F82-F6D043F8537B@r-project.org>


> On Jun 29, 2016, at 4:31 AM, cgw at witthoft.com wrote:
> 
>> On Jun 27, 2016, at 4:47 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> 
>>> On Jun 26, 2016, at 5:40 PM, Carl Witthoft <carl at witthoft.com> wrote:
>>> 
>>> Hi.
>>> I D/L'd the 3.3.1 version of R for MacOSX and ran the installer. After getting some "can't load" error messages, I discovered that the installer had updated the MicrosoftROpen.app, not the "vanilla"  R.app . Is this expected behavior, or am I making a hash of my apps and libraries by trying to keep both R and MRO available on my (Yosemite) machine?
>> 
>> I don't know about MRO (sounds somewhat paradoxical ;)), but Apple Installer simply upgrades the application on your machine no matter where you moved it (whether you like it or not). If it really did upgrade your MRO app then it means Microsoft doesn't even bother changing the ID of the app which means they still claim it's our CRAN R which sounds really wrong given the name...
> 
> When you look at the MRO installation of R, the MRO.app looks just like
> your (and Stephan Iacus and the other contributors) R.app at least to my
> intermediate-level understanding of how to measure similarity. It
> includes citation of authorship but they did change the names of icons.
> The TO-DO list is identical. The png ions for history, prefs, quit, the
> NEWS text file, and many other items in the package contents are the
> same. This is a side by sided display of the Package Contents (converted
> to pdf):
> 
> It would be no surprise if two installations of the same version
> conflicted since they are using the same names for many modules and
> because Revo/MS says they will conflict, unless that is ... they were in
> different directories in the R.Framework tree, which is often the case
> with the MRO releases, since they generally lag behind by one major
> version level. My MRO version 3.2.2 has been working well alongside R
> version 3.3.0 and now 3.3.1. RSwitch.app seems to "switch" everything
> that is needful. 
> 
> -- 
> 
> The funny thing is that I ran the package installer for R 3.3.1 and it
> installed it into the MRO package folder.   If I dbl-click the MRO
> package icon, I get, so far as I can tell, the R3.3.1 engine and the
> usual packages, but  don't know how to tell whether I've simply
> clobbered MRO into nonexistence.
> 

Yes, Apple Installer will upgrade the app wherever it is. Since MS doesn't change the ID it pretends to be CRAN R.app so as far as OS X goes they are indistinguishable. Only MS can fix that problem by not re-using our ID for their binaries... I suspect that the same may be true for the framework (i.e. they may be using R Foundation ID there as well), but I didn't check.

Cheers,
Simon


From cgw at witthoft.com  Wed Jun 29 17:56:29 2016
From: cgw at witthoft.com (cgw at witthoft.com)
Date: Wed, 29 Jun 2016 11:56:29 -0400
Subject: [R-SIG-Mac] R vs. Microsoft R-Open updates?
In-Reply-To: <mailman.5383.1467180807.3828.r-sig-mac@r-project.org>
References: <mailman.5383.1467180807.3828.r-sig-mac@r-project.org>
Message-ID: <0d2f737faaf57479a29d0a555fc5ee45@witthoft.com>

I posted to the Microsoft forums, and got this reply from David Smith, 
one of the biggies over at RStudio: 

Furthermore, you must *uninstall* MRO if you wish to replace it with
CRAN R, or you'll experience the symptoms you describe (wrong program
icon, etc.). The uninstallation instructions are provided on MRAN,
here:https://mran.microsoft.com/archives/install-doc/mro-3.2.4/#tab-NJeMmo0uxW-1


   cd /Applications
   sudo rm -rf "Microsoft R Open".app
   cd /Library/Frameworks
   sudo rm -rf R.framework
   sudo rm -rf /usr/local/bin/R 
   sudo rm -rf /usr/local/bin/Rscript 

> On Jun 27, 2016, at 4:47 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
>> On Jun 26, 2016, at 5:40 PM, Carl Witthoft <carl at witthoft.com> wrote:
>> 
>> Hi.
>> I D/L'd the 3.3.1 version of R for MacOSX and ran the installer. After getting some "can't load" error messages, I discovered that the installer had updated the MicrosoftROpen.app, not the "vanilla"  R.app . Is this expected behavior, or am I making a hash of my apps and libraries by trying to keep both R and MRO available on my (Yosemite) machine?
> 
> I don't know about MRO (sounds somewhat paradoxical ;)), but Apple Installer simply upgrades the application on your machine no matter where you moved it (whether you like it or not). If it really did upgrade your MRO app then it means Microsoft doesn't even bother changing the ID of the app which means they still claim it's our CRAN R which sounds really wrong given the name...

When you look at the MRO installation of R, the MRO.app looks just like
your (and Stephan Iacus and the other contributors) R.app at least to my
intermediate-level understanding of how to measure similarity. It
includes citation of authorship but they did change the names of icons.
The TO-DO list is identical. The png ions for history, prefs, quit, the
NEWS text file, and many other items in the package contents are the
same. This is a side by sided display of the Package Contents (converted
to pdf):

It would be no surprise if two installations of the same version
conflicted since they are using the same names for many modules and
because Revo/MS says they will conflict, unless that is ... they were in
different directories in the R.Framework tree, which is often the case
with the MRO releases, since they generally lag behind by one major
version level. My MRO version 3.2.2 has been working well alongside R
version 3.3.0 and now 3.3.1. RSwitch.app seems to "switch" everything
that is needful.
	[[alternative HTML version deleted]]


From murdoch.duncan at gmail.com  Wed Jun 29 19:00:53 2016
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Wed, 29 Jun 2016 13:00:53 -0400
Subject: [R-SIG-Mac] R vs. Microsoft R-Open updates?
In-Reply-To: <0d2f737faaf57479a29d0a555fc5ee45@witthoft.com>
References: <mailman.5383.1467180807.3828.r-sig-mac@r-project.org>
	<0d2f737faaf57479a29d0a555fc5ee45@witthoft.com>
Message-ID: <af91fd30-f39f-735c-95d6-694185d38f4c@gmail.com>

On 29/06/2016 11:56 AM, cgw at witthoft.com wrote:
> I posted to the Microsoft forums, and got this reply from David Smith,
> one of the biggies over at RStudio:

No, David isn't at RStudio.  He was at Revolution, but it was bought 
(assimilated?) by Microsoft, so he's there now.

Duncan Murdoch

>
> Furthermore, you must *uninstall* MRO if you wish to replace it with
> CRAN R, or you'll experience the symptoms you describe (wrong program
> icon, etc.). The uninstallation instructions are provided on MRAN,
> here:https://mran.microsoft.com/archives/install-doc/mro-3.2.4/#tab-NJeMmo0uxW-1
>
>
>     cd /Applications
>     sudo rm -rf "Microsoft R Open".app
>     cd /Library/Frameworks
>     sudo rm -rf R.framework
>     sudo rm -rf /usr/local/bin/R
>     sudo rm -rf /usr/local/bin/Rscript
>
> > On Jun 27, 2016, at 4:47 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> >
> >> On Jun 26, 2016, at 5:40 PM, Carl Witthoft <carl at witthoft.com> wrote:
> >>
> >> Hi.
> >> I D/L'd the 3.3.1 version of R for MacOSX and ran the installer. After getting some "can't load" error messages, I discovered that the installer had updated the MicrosoftROpen.app, not the "vanilla"  R.app . Is this expected behavior, or am I making a hash of my apps and libraries by trying to keep both R and MRO available on my (Yosemite) machine?
> >
> > I don't know about MRO (sounds somewhat paradoxical ;)), but Apple Installer simply upgrades the application on your machine no matter where you moved it (whether you like it or not). If it really did upgrade your MRO app then it means Microsoft doesn't even bother changing the ID of the app which means they still claim it's our CRAN R which sounds really wrong given the name...
>
> When you look at the MRO installation of R, the MRO.app looks just like
> your (and Stephan Iacus and the other contributors) R.app at least to my
> intermediate-level understanding of how to measure similarity. It
> includes citation of authorship but they did change the names of icons.
> The TO-DO list is identical. The png ions for history, prefs, quit, the
> NEWS text file, and many other items in the package contents are the
> same. This is a side by sided display of the Package Contents (converted
> to pdf):
>
> It would be no surprise if two installations of the same version
> conflicted since they are using the same names for many modules and
> because Revo/MS says they will conflict, unless that is ... they were in
> different directories in the R.Framework tree, which is often the case
> with the MRO releases, since they generally lag behind by one major
> version level. My MRO version 3.2.2 has been working well alongside R
> version 3.3.0 and now 3.3.1. RSwitch.app seems to "switch" everything
> that is needful.
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


