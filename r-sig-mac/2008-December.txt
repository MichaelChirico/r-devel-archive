From richard.pearson at well.ox.ac.uk  Mon Dec  1 13:25:47 2008
From: richard.pearson at well.ox.ac.uk (Richard Pearson)
Date: Mon, 01 Dec 2008 12:25:47 +0000
Subject: [R-SIG-Mac] Can snow be used to multithread?
Message-ID: <4933D7CB.5030402@well.ox.ac.uk>

Marco

You should be able to use snow with open-mpi on your macpro. You should also be 
able to use snow with the "sockets" method, e.g.

cl <- makeCluster(rep("localhost", 8), type = "SOCK")

Note that there's a separate list, R-sig-hpc, for parallelisation issues.

HTH

Richard


Blanchette, Marco wrote:
 > I am fairly sure that this topic has been covered before. However, I can't 
find answer to my questions in the archive...
 >
 > I have a very embarrassingly parallel computing tasks (we are doing ~13,000 
anovas and ~48,000 t.tests) that could benefits from using the snow packages 
parLapply() function.
 >
 > Does anyone knows whether I could use MPI or PVM to send jobs to the 8 cores 
of my MacPro using snow or MPI/PVM has to be absolutely install and run across 
multiple machine. Is there an alternative that I could use to take advantage of 
my 8 cores with R?
 >
 > Thanks
 >
 > Marco
 > --
 > Marco Blanchette, Ph.D.
 > Assistant Investigator
 > Stowers Institute for Medical Research
 > 1000 East 50th St.
 >
 > Kansas City, MO 64110
 >
 > Tel: 816-926-4071
 > Cell: 816-726-8419
 > Fax: 816-926-2018
 >
 > _______________________________________________
 > R-SIG-Mac mailing list
 > R-SIG-Mac at stat.math.ethz.ch
 > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
 >

-- 
Richard D Pearson                          richard.pearson at well.ox.ac.uk
Wellcome Trust Centre for Human Genetics   http://www.well.ox.ac.uk/~rpearson
University of Oxford                       Tel: +44 (0)1865 287500
Roosevelt Drive                            Mob: +44 (0)7971 221181
Oxford OX3 7BN, UK                         Fax: +44 (0)1865 287501


From ssefick at gmail.com  Mon Dec  1 16:53:44 2008
From: ssefick at gmail.com (stephen sefick)
Date: Mon, 1 Dec 2008 10:53:44 -0500
Subject: [R-SIG-Mac] Running older versions to test package
Message-ID: <c502a9e10812010753j50048dbfg2e97317cd0e0812d@mail.gmail.com>

Version are installed in || ?  I know where the versions are located
but I can not firgure out how to get them to crank up:

/Library/Frameworks/R.Framework/Versions/2.7/Resources/library

My problem is that I am having problems with the StreamMetabolism -
essentially relying on chron to work, and chron is not working as it
has in the past.  This issue has cropped up in the upgrade to 2.8.  It
is taking a much longer time to do things compared to 2.7.2.  2.3-25
chron under R 2.8 and 2.3-24 chron under 2.7.2.  I would like to be
able to run both of these versions side by side to try and find out
what has happened.
thanks for your help,


-- 
Stephen Sefick

Let's not spend our time and resources thinking about things that are
so little or so large that all they really do for us is puff us up and
make us feel like gods.  We are mammals, and have not exhausted the
annoying little problems of being mammals.

								-K. Mullis


From mailinglist.honeypot at gmail.com  Mon Dec  1 17:09:23 2008
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Mon, 1 Dec 2008 11:09:23 -0500
Subject: [R-SIG-Mac] Running older versions to test package
In-Reply-To: <c502a9e10812010753j50048dbfg2e97317cd0e0812d@mail.gmail.com>
References: <c502a9e10812010753j50048dbfg2e97317cd0e0812d@mail.gmail.com>
Message-ID: <938D7B2C-B6FB-4C77-ADAA-C083E9F43D47@gmail.com>

Hi Stephen,

On Dec 1, 2008, at 10:53 AM, stephen sefick wrote:

> Version are installed in || ?  I know where the versions are located
> but I can not firgure out how to get them to crank up:
>
> /Library/Frameworks/R.Framework/Versions/2.7/Resources/library
>
> My problem is that I am having problems with the StreamMetabolism -
> essentially relying on chron to work, and chron is not working as it
> has in the past.  This issue has cropped up in the upgrade to 2.8.  It
> is taking a much longer time to do things compared to 2.7.2.  2.3-25
> chron under R 2.8 and 2.3-24 chron under 2.7.2.  I would like to be
> able to run both of these versions side by side to try and find out
> what has happened.
> thanks for your help,

I think there's some setting of env vars that are necessary to run R  
that are (somehow) automatically taken care of when the /Library/ 
Frameworks/R.framewor/{Headers,Libraries,etc.} link to the appropriate  
Versions/* directory.

If you want to run from the terminal, I think you might be able to  
(easily) do what you're after by using the RSwitch application that  
you can d/l from here:
http://r.research.att.com/

I'd try to launch R (I guess 2.8 will come up first). Once it's up and  
running, use RSwitch to pick version 2.7, then open another terminal  
and launch R again (should be 2.7 now).

Alternatively, if you want to run using R.app (the GUI), I *believe*  
you can download the 2.7 and 2.8 GUIs (from the same r.research page),  
and rename them from R.app, to R27.app/R28.app and launch them that way.

HTH,
-steve

--
Steve Lianoglou
Graduate Student: Physiology, Biophysics and Systems Biology
Weill Medical College of Cornell University

http://cbio.mskcc.org/~lianos


From ssefick at gmail.com  Mon Dec  1 17:29:08 2008
From: ssefick at gmail.com (stephen sefick)
Date: Mon, 1 Dec 2008 11:29:08 -0500
Subject: [R-SIG-Mac] installing multiple versions of R
Message-ID: <c502a9e10812010829r2ed00993k8eafd3e26c96871e@mail.gmail.com>

I would like to install R 2.7.2 in || with R 2.8 to test what is wrong
with a package I am maintaining.  It worked fine with R 2.7.2 chron
2.3-24 and doesn't work with R 2.8 chron 2.3-24 or chron 2.3-25.
thanks

-- 
Stephen Sefick

Let's not spend our time and resources thinking about things that are
so little or so large that all they really do for us is puff us up and
make us feel like gods.  We are mammals, and have not exhausted the
annoying little problems of being mammals.

								-K. Mullis


From mailinglist.honeypot at gmail.com  Mon Dec  1 17:46:49 2008
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Mon, 1 Dec 2008 11:46:49 -0500
Subject: [R-SIG-Mac] installing multiple versions of R
In-Reply-To: <c502a9e10812010829r2ed00993k8eafd3e26c96871e@mail.gmail.com>
References: <c502a9e10812010829r2ed00993k8eafd3e26c96871e@mail.gmail.com>
Message-ID: <52866C67-28E7-4456-89CB-881F8D7F7D30@gmail.com>

Hi Stephen,

On Dec 1, 2008, at 11:29 AM, stephen sefick wrote:

> I would like to install R 2.7.2 in || with R 2.8 to test what is wrong
> with a package I am maintaining.  It worked fine with R 2.7.2 chron
> 2.3-24 and doesn't work with R 2.8 chron 2.3-24 or chron 2.3-25.
> thanks


You can easily do so.

Just download the appropriate installers for each version and install  
them:

2.8.x : http://cran.r-project.org/bin/macosx/R-2.8.0.dmg
2.7.x : http://cran.r-project.org/bin/macosx/old/R-2.7.2.dmg

FYI, they'll install in:
/Library/Frameworks/R.framework/Versions/2.*

You can switch between which version to run "at go time" as I  
described in my previous email:
  (i) either by using the RSwitch application; or
  (ii) by renaming the R.app that's installed to R28.app, and R27.app  
as appropriate.

Both RSwitch and the R guis can be downloaded from:
http://r.research.att.com/

HTH,
-steve

ps - I'm not sure of (ii), since I haven't tested it for R27 vs R28  
(only R in 68bit vs R 32bit, which works), though I believe it works.  
I have tested and previously used (i).

--
Steve Lianoglou
Graduate Student: Physiology, Biophysics and Systems Biology
Weill Medical College of Cornell University

http://cbio.mskcc.org/~lianos


From ssefick at gmail.com  Mon Dec  1 18:04:39 2008
From: ssefick at gmail.com (stephen sefick)
Date: Mon, 1 Dec 2008 12:04:39 -0500
Subject: [R-SIG-Mac] installing multiple versions of R
In-Reply-To: <52866C67-28E7-4456-89CB-881F8D7F7D30@gmail.com>
References: <c502a9e10812010829r2ed00993k8eafd3e26c96871e@mail.gmail.com>
	<52866C67-28E7-4456-89CB-881F8D7F7D30@gmail.com>
Message-ID: <c502a9e10812010904u2a9a685qe2ad08eedf4c666f@mail.gmail.com>

I downloaded the Rswitch application, but the current version and that
is the only version that is available even if I push the rediscover
button.

On Mon, Dec 1, 2008 at 11:46 AM, Steve Lianoglou
<mailinglist.honeypot at gmail.com> wrote:
> Hi Stephen,
>
> On Dec 1, 2008, at 11:29 AM, stephen sefick wrote:
>
>> I would like to install R 2.7.2 in || with R 2.8 to test what is wrong
>> with a package I am maintaining.  It worked fine with R 2.7.2 chron
>> 2.3-24 and doesn't work with R 2.8 chron 2.3-24 or chron 2.3-25.
>> thanks
>
>
> You can easily do so.
>
> Just download the appropriate installers for each version and install them:
>
> 2.8.x : http://cran.r-project.org/bin/macosx/R-2.8.0.dmg
> 2.7.x : http://cran.r-project.org/bin/macosx/old/R-2.7.2.dmg
>
> FYI, they'll install in:
> /Library/Frameworks/R.framework/Versions/2.*
>
> You can switch between which version to run "at go time" as I described in
> my previous email:
>  (i) either by using the RSwitch application; or
>  (ii) by renaming the R.app that's installed to R28.app, and R27.app as
> appropriate.
>
> Both RSwitch and the R guis can be downloaded from:
> http://r.research.att.com/
>
> HTH,
> -steve
>
> ps - I'm not sure of (ii), since I haven't tested it for R27 vs R28 (only R
> in 68bit vs R 32bit, which works), though I believe it works. I have tested
> and previously used (i).
>
> --
> Steve Lianoglou
> Graduate Student: Physiology, Biophysics and Systems Biology
> Weill Medical College of Cornell University
>
> http://cbio.mskcc.org/~lianos
>
>
>
>



-- 
Stephen Sefick

Let's not spend our time and resources thinking about things that are
so little or so large that all they really do for us is puff us up and
make us feel like gods.  We are mammals, and have not exhausted the
annoying little problems of being mammals.

								-K. Mullis


From mailinglist.honeypot at gmail.com  Mon Dec  1 18:15:45 2008
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Mon, 1 Dec 2008 12:15:45 -0500
Subject: [R-SIG-Mac] installing multiple versions of R
In-Reply-To: <c502a9e10812010904u2a9a685qe2ad08eedf4c666f@mail.gmail.com>
References: <c502a9e10812010829r2ed00993k8eafd3e26c96871e@mail.gmail.com>
	<52866C67-28E7-4456-89CB-881F8D7F7D30@gmail.com>
	<c502a9e10812010904u2a9a685qe2ad08eedf4c666f@mail.gmail.com>
Message-ID: <FE9CCAF0-4762-47F3-AB19-04A991897C40@gmail.com>

> I downloaded the Rswitch application, but the current version and that
> is the only version that is available even if I push the rediscover
> button.

Weird ... and you have both versions installed? ie. you have "full"  
install trees under:

/Library/Frameworks/R.framework/Versions/2.7 ; and
/Library/Frameworks/R.framework/Versions/2.8
?

The second approach I outlined (using different versions of R.app)  
won't work either w/o successfully using RSwitch, either (just tried  
it).

Weird ... not sure what to say if both versions of R are installed  
correctly.

I'm just guessing, but if you change the "/Library/Framework/ 
R.framework/Versions/Current" link to point to 2.7 instead of 2.8,  
that might work as well (I feel like that's the only thing that  
RSwitch app does, but I'm not certain).

If all of the above isn't working, I guess we'll have to wait for an R/ 
mac guru to pop in. What version of OS X are you using and are you  
using the appropriate leopard/tiger builds?

-steve

>
>
> On Mon, Dec 1, 2008 at 11:46 AM, Steve Lianoglou
> <mailinglist.honeypot at gmail.com> wrote:
>> Hi Stephen,
>>
>> On Dec 1, 2008, at 11:29 AM, stephen sefick wrote:
>>
>>> I would like to install R 2.7.2 in || with R 2.8 to test what is  
>>> wrong
>>> with a package I am maintaining.  It worked fine with R 2.7.2 chron
>>> 2.3-24 and doesn't work with R 2.8 chron 2.3-24 or chron 2.3-25.
>>> thanks
>>
>>
>> You can easily do so.
>>
>> Just download the appropriate installers for each version and  
>> install them:
>>
>> 2.8.x : http://cran.r-project.org/bin/macosx/R-2.8.0.dmg
>> 2.7.x : http://cran.r-project.org/bin/macosx/old/R-2.7.2.dmg
>>
>> FYI, they'll install in:
>> /Library/Frameworks/R.framework/Versions/2.*
>>
>> You can switch between which version to run "at go time" as I  
>> described in
>> my previous email:
>> (i) either by using the RSwitch application; or
>> (ii) by renaming the R.app that's installed to R28.app, and R27.app  
>> as
>> appropriate.
>>
>> Both RSwitch and the R guis can be downloaded from:
>> http://r.research.att.com/
>>
>> HTH,
>> -steve
>>
>> ps - I'm not sure of (ii), since I haven't tested it for R27 vs R28  
>> (only R
>> in 68bit vs R 32bit, which works), though I believe it works. I  
>> have tested
>> and previously used (i).
>>
>> --
>> Steve Lianoglou
>> Graduate Student: Physiology, Biophysics and Systems Biology
>> Weill Medical College of Cornell University
>>
>> http://cbio.mskcc.org/~lianos
>>
>>
>>
>>
>
>
>
> -- 
> Stephen Sefick
>
> Let's not spend our time and resources thinking about things that are
> so little or so large that all they really do for us is puff us up and
> make us feel like gods.  We are mammals, and have not exhausted the
> annoying little problems of being mammals.
>
> 								-K. Mullis

--
Steve Lianoglou
Graduate Student: Physiology, Biophysics and Systems Biology
Weill Medical College of Cornell University

http://cbio.mskcc.org/~lianos


From ssefick at gmail.com  Mon Dec  1 18:43:05 2008
From: ssefick at gmail.com (stephen sefick)
Date: Mon, 1 Dec 2008 12:43:05 -0500
Subject: [R-SIG-Mac] installing multiple versions of R
In-Reply-To: <FE9CCAF0-4762-47F3-AB19-04A991897C40@gmail.com>
References: <c502a9e10812010829r2ed00993k8eafd3e26c96871e@mail.gmail.com>
	<52866C67-28E7-4456-89CB-881F8D7F7D30@gmail.com>
	<c502a9e10812010904u2a9a685qe2ad08eedf4c666f@mail.gmail.com>
	<FE9CCAF0-4762-47F3-AB19-04A991897C40@gmail.com>
Message-ID: <c502a9e10812010943g452068c7nbd5b371c6ae2539a@mail.gmail.com>

I am just installing the binaries provided without changing anything.
I just downloaded and installed R 2.7.2 and R switch only sees 2.7.2
and not 2.6 or 2.8.

Mac OS X 10.5.5

On Mon, Dec 1, 2008 at 12:15 PM, Steve Lianoglou
<mailinglist.honeypot at gmail.com> wrote:
>> I downloaded the Rswitch application, but the current version and that
>> is the only version that is available even if I push the rediscover
>> button.
>
> Weird ... and you have both versions installed? ie. you have "full" install
> trees under:
>
> /Library/Frameworks/R.framework/Versions/2.7 ; and
> /Library/Frameworks/R.framework/Versions/2.8
> ?
>
> The second approach I outlined (using different versions of R.app) won't
> work either w/o successfully using RSwitch, either (just tried it).
>
> Weird ... not sure what to say if both versions of R are installed
> correctly.
>
> I'm just guessing, but if you change the
> "/Library/Framework/R.framework/Versions/Current" link to point to 2.7
> instead of 2.8, that might work as well (I feel like that's the only thing
> that RSwitch app does, but I'm not certain).
>
> If all of the above isn't working, I guess we'll have to wait for an R/mac
> guru to pop in. What version of OS X are you using and are you using the
> appropriate leopard/tiger builds?
>
> -steve
>
>>
>>
>> On Mon, Dec 1, 2008 at 11:46 AM, Steve Lianoglou
>> <mailinglist.honeypot at gmail.com> wrote:
>>>
>>> Hi Stephen,
>>>
>>> On Dec 1, 2008, at 11:29 AM, stephen sefick wrote:
>>>
>>>> I would like to install R 2.7.2 in || with R 2.8 to test what is wrong
>>>> with a package I am maintaining.  It worked fine with R 2.7.2 chron
>>>> 2.3-24 and doesn't work with R 2.8 chron 2.3-24 or chron 2.3-25.
>>>> thanks
>>>
>>>
>>> You can easily do so.
>>>
>>> Just download the appropriate installers for each version and install
>>> them:
>>>
>>> 2.8.x : http://cran.r-project.org/bin/macosx/R-2.8.0.dmg
>>> 2.7.x : http://cran.r-project.org/bin/macosx/old/R-2.7.2.dmg
>>>
>>> FYI, they'll install in:
>>> /Library/Frameworks/R.framework/Versions/2.*
>>>
>>> You can switch between which version to run "at go time" as I described
>>> in
>>> my previous email:
>>> (i) either by using the RSwitch application; or
>>> (ii) by renaming the R.app that's installed to R28.app, and R27.app as
>>> appropriate.
>>>
>>> Both RSwitch and the R guis can be downloaded from:
>>> http://r.research.att.com/
>>>
>>> HTH,
>>> -steve
>>>
>>> ps - I'm not sure of (ii), since I haven't tested it for R27 vs R28 (only
>>> R
>>> in 68bit vs R 32bit, which works), though I believe it works. I have
>>> tested
>>> and previously used (i).
>>>
>>> --
>>> Steve Lianoglou
>>> Graduate Student: Physiology, Biophysics and Systems Biology
>>> Weill Medical College of Cornell University
>>>
>>> http://cbio.mskcc.org/~lianos
>>>
>>>
>>>
>>>
>>
>>
>>
>> --
>> Stephen Sefick
>>
>> Let's not spend our time and resources thinking about things that are
>> so little or so large that all they really do for us is puff us up and
>> make us feel like gods.  We are mammals, and have not exhausted the
>> annoying little problems of being mammals.
>>
>>                                                                -K. Mullis
>
> --
> Steve Lianoglou
> Graduate Student: Physiology, Biophysics and Systems Biology
> Weill Medical College of Cornell University
>
> http://cbio.mskcc.org/~lianos
>
>
>
>



-- 
Stephen Sefick

Let's not spend our time and resources thinking about things that are
so little or so large that all they really do for us is puff us up and
make us feel like gods.  We are mammals, and have not exhausted the
annoying little problems of being mammals.

								-K. Mullis


From smckinney at bccrc.ca  Mon Dec  1 20:45:00 2008
From: smckinney at bccrc.ca (Steven McKinney)
Date: Mon, 1 Dec 2008 11:45:00 -0800
Subject: [R-SIG-Mac] installing multiple versions of R
References: <c502a9e10812010829r2ed00993k8eafd3e26c96871e@mail.gmail.com><52866C67-28E7-4456-89CB-881F8D7F7D30@gmail.com><c502a9e10812010904u2a9a685qe2ad08eedf4c666f@mail.gmail.com><FE9CCAF0-4762-47F3-AB19-04A991897C40@gmail.com>
	<20724_1228153469_1228153469_c502a9e10812010943g452068c7nbd5b371c6ae2539a@mail.gmail.com>
Message-ID: <0BE438149FF2254DB4199E2682C8DFEB0328A528@crcmail1.BCCRC.CA>

Hi Stephen,

When you are attempting to install the second
version of R, have you been doing the following step?
(This is on the "Read Me" second window of the
Mac installer dialog.)

 Note: By default the installer upgrades previous 
 R version if present. If you want to keep your 
 old R version, remove R-Framework.pkg from 
 /Library/Receipts before proceeding.

So if you install R-2.8 using R-2.8.0.dmg,
then before you install R-2.7.2 using 
R-2.7.2.dmg, navigate to /Library/Receipts
in Finder and drag R-Framework.pkg to the trash.



Best

Steven McKinney

Statistician
Molecular Oncology and Breast Cancer Program
British Columbia Cancer Research Centre

email: smckinney +at+ bccrc +dot+ ca

tel: 604-675-8000 x7561

BCCRC
Molecular Oncology
675 West 10th Ave, Floor 4
Vancouver B.C. 
V5Z 1L3
Canada




-----Original Message-----
From: r-sig-mac-bounces at stat.math.ethz.ch on behalf of stephen sefick
Sent: Mon 12/1/2008 9:43 AM
To: Steve Lianoglou
Cc: R List SIG Mac
Subject: Re: [R-SIG-Mac] installing multiple versions of R
 
I am just installing the binaries provided without changing anything.
I just downloaded and installed R 2.7.2 and R switch only sees 2.7.2
and not 2.6 or 2.8.

Mac OS X 10.5.5

On Mon, Dec 1, 2008 at 12:15 PM, Steve Lianoglou
<mailinglist.honeypot at gmail.com> wrote:
>> I downloaded the Rswitch application, but the current version and that
>> is the only version that is available even if I push the rediscover
>> button.
>
> Weird ... and you have both versions installed? ie. you have "full" install
> trees under:
>
> /Library/Frameworks/R.framework/Versions/2.7 ; and
> /Library/Frameworks/R.framework/Versions/2.8
> ?
>
> The second approach I outlined (using different versions of R.app) won't
> work either w/o successfully using RSwitch, either (just tried it).
>
> Weird ... not sure what to say if both versions of R are installed
> correctly.
>
> I'm just guessing, but if you change the
> "/Library/Framework/R.framework/Versions/Current" link to point to 2.7
> instead of 2.8, that might work as well (I feel like that's the only thing
> that RSwitch app does, but I'm not certain).
>
> If all of the above isn't working, I guess we'll have to wait for an R/mac
> guru to pop in. What version of OS X are you using and are you using the
> appropriate leopard/tiger builds?
>
> -steve
>
>>
>>
>> On Mon, Dec 1, 2008 at 11:46 AM, Steve Lianoglou
>> <mailinglist.honeypot at gmail.com> wrote:
>>>
>>> Hi Stephen,
>>>
>>> On Dec 1, 2008, at 11:29 AM, stephen sefick wrote:
>>>
>>>> I would like to install R 2.7.2 in || with R 2.8 to test what is wrong
>>>> with a package I am maintaining.  It worked fine with R 2.7.2 chron
>>>> 2.3-24 and doesn't work with R 2.8 chron 2.3-24 or chron 2.3-25.
>>>> thanks
>>>
>>>
>>> You can easily do so.
>>>
>>> Just download the appropriate installers for each version and install
>>> them:
>>>
>>> 2.8.x : http://cran.r-project.org/bin/macosx/R-2.8.0.dmg
>>> 2.7.x : http://cran.r-project.org/bin/macosx/old/R-2.7.2.dmg
>>>
>>> FYI, they'll install in:
>>> /Library/Frameworks/R.framework/Versions/2.*
>>>
>>> You can switch between which version to run "at go time" as I described
>>> in
>>> my previous email:
>>> (i) either by using the RSwitch application; or
>>> (ii) by renaming the R.app that's installed to R28.app, and R27.app as
>>> appropriate.
>>>
>>> Both RSwitch and the R guis can be downloaded from:
>>> http://r.research.att.com/
>>>
>>> HTH,
>>> -steve
>>>
>>> ps - I'm not sure of (ii), since I haven't tested it for R27 vs R28 (only
>>> R
>>> in 68bit vs R 32bit, which works), though I believe it works. I have
>>> tested
>>> and previously used (i).
>>>
>>> --
>>> Steve Lianoglou
>>> Graduate Student: Physiology, Biophysics and Systems Biology
>>> Weill Medical College of Cornell University
>>>
>>> http://cbio.mskcc.org/~lianos
>>>
>>>
>>>
>>>
>>
>>
>>
>> --
>> Stephen Sefick
>>
>> Let's not spend our time and resources thinking about things that are
>> so little or so large that all they really do for us is puff us up and
>> make us feel like gods.  We are mammals, and have not exhausted the
>> annoying little problems of being mammals.
>>
>>                                                                -K. Mullis
>
> --
> Steve Lianoglou
> Graduate Student: Physiology, Biophysics and Systems Biology
> Weill Medical College of Cornell University
>
> http://cbio.mskcc.org/~lianos
>
>
>
>



-- 
Stephen Sefick

Let's not spend our time and resources thinking about things that are
so little or so large that all they really do for us is puff us up and
make us feel like gods.  We are mammals, and have not exhausted the
annoying little problems of being mammals.

								-K. Mullis

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at stat.math.ethz.ch
https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From mailinglist.honeypot at gmail.com  Mon Dec  1 21:07:14 2008
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Mon, 1 Dec 2008 15:07:14 -0500
Subject: [R-SIG-Mac] installing multiple versions of R
In-Reply-To: <0BE438149FF2254DB4199E2682C8DFEB0328A528@crcmail1.BCCRC.CA>
References: <c502a9e10812010829r2ed00993k8eafd3e26c96871e@mail.gmail.com><52866C67-28E7-4456-89CB-881F8D7F7D30@gmail.com><c502a9e10812010904u2a9a685qe2ad08eedf4c666f@mail.gmail.com><FE9CCAF0-4762-47F3-AB19-04A991897C40@gmail.com>
	<20724_1228153469_1228153469_c502a9e10812010943g452068c7nbd5b371c6ae2539a@mail.gmail.com>
	<0BE438149FF2254DB4199E2682C8DFEB0328A528@crcmail1.BCCRC.CA>
Message-ID: <FD4D567E-C22B-45BE-BB74-FCEAA5F70138@gmail.com>

Howdy,

On Dec 1, 2008, at 2:45 PM, Steven McKinney wrote:

> Hi Stephen,
>
> When you are attempting to install the second
> version of R, have you been doing the following step?
> (This is on the "Read Me" second window of the
> Mac installer dialog.)
>
> Note: By default the installer upgrades previous
> R version if present. If you want to keep your
> old R version, remove R-Framework.pkg from
> /Library/Receipts before proceeding.
>
> So if you install R-2.8 using R-2.8.0.dmg,
> then before you install R-2.7.2 using
> R-2.7.2.dmg, navigate to /Library/Receipts
> in Finder and drag R-Framework.pkg to the trash.


Aha! Sorry, Stephen: I totally never noticed that little warning when  
I installed R2.8 as I installed the 64bit Leopard version via the  
"curl -s http://..." business as described here:

http://r.research.att.com/

I can see how that warning would be easy to miss. Thanks for setting  
us straight, Steven.

Hmm ... a thread between Steven, Stephen, and Steve. I think we've  
covered all of the bases right there.

-steve

--
Steve Lianoglou
Graduate Student: Physiology, Biophysics and Systems Biology
Weill Medical College of Cornell University

http://cbio.mskcc.org/~lianos


From carl at witthoft.com  Mon Dec  1 23:19:46 2008
From: carl at witthoft.com (Carl Witthoft)
Date: Mon, 01 Dec 2008 17:19:46 -0500
Subject: [R-SIG-Mac] 'buggy' editor
In-Reply-To: <mailman.19.1228129203.21246.r-sig-mac@stat.math.ethz.ch>
References: <mailman.19.1228129203.21246.r-sig-mac@stat.math.ethz.ch>
Message-ID: <49346302.6020809@witthoft.com>

I haven't had any problems w/ the editor, other than some glitchy
redraws of the window every now and then (OS 10.4.11).

But if I were to make requests it would be for the following two items:

1)  Find & Replace options in the Edit menu
2) A better "Undo" function.  I can't quite tell just how much gets 
undone when I hit <CMD>-z .  Ideally a single 'undo' would reverse 
whatever had been typed in one continuous edit, or reverse the last cut, 
paste, etc.   Actually, a multiple-level Undo would be cool if that's 
not already in there.

Carl

>>> From: Jiang Peng <jp021 at sjtu.edu.cn> Date: November 29, 2008
>>> 8:53:34 PM GMT+08:00 To: Mike Lawrence <mike at thatmike.com> 
>>> Subject: Re: [R] editor for MacOS X
>>> 
>>> built-in editor IS QUITE BUGGY ,  sometimes I cannot see the
>>> cursor and sometimes I cannot type .
> 
> 
> Instead of screaming you should provide useful feedback so it can 
> become better. I don't encounter the above problems, so I cannot fix
>  something I cannot see... (and no one else reported this, either).
>


From dwinsemius at comcast.net  Tue Dec  2 18:15:25 2008
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 2 Dec 2008 12:15:25 -0500
Subject: [R-SIG-Mac] Installing multiple architectures for a package
In-Reply-To: <3F3F8D2C-A60E-4AA8-BA88-BAAAF3C106BE@comcast.net>
References: <0BE438149FF2254DB4199E2682C8DFEB0328A51C@crcmail1.BCCRC.CA>
	<CBA6919A-03C5-4804-9AA1-01B35FEB7064@r-project.org>
	<0BE438149FF2254DB4199E2682C8DFEB0328A51D@crcmail1.BCCRC.CA>
	<3F3F8D2C-A60E-4AA8-BA88-BAAAF3C106BE@comcast.net>
Message-ID: <CCA82D93-49A0-4177-9572-C797BEEBAECF@comcast.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20081202/35a3ef24/attachment.pl>

From maechler at stat.math.ethz.ch  Wed Dec  3 10:43:46 2008
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Wed, 3 Dec 2008 10:43:46 +0100
Subject: [R-SIG-Mac] .... Matrix broken on Mac...
In-Reply-To: <49343D66.1080805@fuller.edu>
References: <49342C3D.8040902@fuller.edu>
	<40e66e0b0812011045x34278b0am3250d361d213e0ba@mail.gmail.com>
	<49343D66.1080805@fuller.edu>
Message-ID: <18742.21714.682244.222077@stat.math.ethz.ch>

This was on the wrong mailing list (R-SIG-mixed-models),
but I strongly believe belongs here.

As one of the two maintainers of Matrix,
I'm very interested to here if really there are still/again
problems with the *R-forge* (or CRAN) version of Matrix on the Mac.

We have made several efforts, partially prompted and aided by
Simon Urbanek, to get the issues (mostly related to building a
"fat binary", IIRC) resolved.

Dave, did you install the R-forge version
with
	install.packages("Matrix",repos="http://R-Forge.R-project.org")

{as it is recommended}?

Best regards,
Martin



>>>>> "DA" == Dave Atkins <datkins at fuller.edu>
>>>>>     on Mon, 01 Dec 2008 11:39:18 -0800 writes:

    DA> Douglas Bates wrote:
    >> Does
    >> 
    >> library(Matrix)
    >> 
    >> without any reference to lme4 work for you?

    DA> No, if I start a fresh R session and call Matrix on its
    DA> own, I get:

    >> library(Matrix)
    DA> Loading required package: lattice Error in
    DA> dyn.load(file, DLLpath = DLLpath, ...) : unable to load
    DA> shared library
    DA> '/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so':
 
    DA> dlopen(/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so,
    DA> 6): Library not loaded:
    DA> /usr/local/lib/libgfortran.2.dylib Referenced from:
    DA> /Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so
    DA> Reason: image not found Error: package/namespace load
    DA> failed for 'Matrix'

    >> sessionInfo()
    DA> R version 2.8.0 (2008-10-20) i386-apple-darwin8.11.1

    DA> locale:
    DA> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

    DA> attached base packages: [1] stats graphics grDevices
    DA> utils datasets methods base

    DA> other attached packages: [1] lattice_0.17-17

    DA> loaded via a namespace (and not attached): [1]
    DA> grid_2.8.0
    >> 

Any ideas?  Anything else I can pass along?

    DA> thanks, Dave

    >> 
    >> The other person who was having difficulty loading the
    >> Matrix package on a Mac was able to resolve the problem
    >> although I forget the details of how it was resolved.
    >> 
    >> The messages indicate that the problem is more with
    >> Matrix than with lme4.
    >> 
    >> On Mon, Dec 1, 2008 at 12:26 PM, Dave Atkins
    >> <datkins at fuller.edu> wrote:
    >>> [whoops, first sent this from my current email, which
    >>> the listserv didn't recognize.  apologies if this comes
    >>> through twice.]
    >> 
    >> And it did come through twice.  I read the messages in
    >> the wrong order and authorized the posting from the other
    >> address before reading this message.  Sorry for the extra
    >> noise.
    >> 
    >>> Doug--
    >>> 
    >>> You had inquired whether anyone else was having problems
    >>> with Matrix on a Mac... yep.  I am.  You'll see below
    >>> that I removed both lme4 and Matrix, re-install from
    >>> r-forge, but get an error msg.  sessionInfo() at bottom.
    >>> 
    >>> Could someone point me to an earlier version of Matrix?
    >>> I don't believe I had this problem prior to the most
    >>> recent update.
    >>> 
    >>> cheers, Dave
    >>> 
    >>> Dave Atkins, PhD Research Associate Professor Center for
    >>> the Study of Health and Risk Behaviors Department of
    >>> Psychiatry and Behavioral Science 1100 NE 45th Street,
    >>> Suite 300 Seattle, WA 98105 206-616-3879
    >>> datkins at u.washington.edu
    >>> 
    >>> 
    >>>> remove.packages("Matrix")
    >>> Warning in remove.packages("Matrix") : argument 'lib' is
    >>> missing: using
    >>> /Library/Frameworks/R.framework/Resources/library
    >>>> remove.packages("lme4")
    >>> Warning in remove.packages("lme4") : argument 'lib' is
    >>> missing: using
    >>> /Library/Frameworks/R.framework/Resources/library
    >>>> install.packages("Matrix", repos =
    >>>> "http://r-forge.r-project.org")
    >>> trying URL
    >>> 'http://r-forge.r-project.org/bin/macosx/universal/contrib/2.8/Matrix_0.999375-17.tgz'
    >>> Content type 'application/x-gzip' length 2740286 bytes
    >>> (2.6 Mb) opened URL
    >>> ==================================================
    >>> downloaded 2.6 Mb
    >>> 
    >>> 
    >>> The downloaded packages are in
    >>> 
    >>> /var/folders/eF/eFm91WFiEm8IX1HSzMCn4E+++TI/-Tmp-//RtmpVgGfBC/downloaded_packages
    >>>> install.packages("lme4", repos =
    >>>> "http://r-forge.r-project.org")
    >>> trying URL
    >>> 'http://r-forge.r-project.org/bin/macosx/universal/contrib/2.8/lme4_0.999375-27.tgz'
    >>> Content type 'application/x-gzip' length 913761 bytes
    >>> (892 Kb) opened URL
    >>> ==================================================
    >>> downloaded 892 Kb
    >>> 
    >>> 
    >>> The downloaded packages are in
    >>> 
    >>> /var/folders/eF/eFm91WFiEm8IX1HSzMCn4E+++TI/-Tmp-//RtmpVgGfBC/downloaded_packages
    >>>> library(lme4)
    >>> Loading required package: Matrix Error in dyn.load(file,
    >>> DLLpath = DLLpath, ...) : unable to load shared library
    >>> '/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so':
    >>> 
    >>> dlopen(/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so,
    >>> 6): Library not loaded:
    >>> /usr/local/lib/libgfortran.2.dylib Referenced from:
    >>> /Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so
    >>> Reason: image not found Error: package 'Matrix' could
    >>> not be loaded
    >>>> sessionInfo()
    >>> R version 2.8.0 (2008-10-20) i386-apple-darwin8.11.1
    >>> 
    >>> locale:
    >>> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
    >>> 
    >>> attached base packages: [1] stats graphics grDevices
    >>> utils datasets methods base
    >>> 
    >>> other attached packages: [1] lattice_0.17-17
    >>> 
    >>> loaded via a namespace (and not attached): [1]
    >>> grid_2.8.0 tools_2.8.0
    >>> 
    >>> _______________________________________________
    >>> R-sig-mixed-models at r-project.org mailing list
    >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mixed-models
    >>> 
    >> 

_______________________________________________
    DA> R-sig-mixed-models at r-project.org mailing list
    DA> https://stat.ethz.ch/mailman/listinfo/r-sig-mixed-models


From ripley at stats.ox.ac.uk  Wed Dec  3 11:26:34 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 3 Dec 2008 10:26:34 +0000 (GMT)
Subject: [R-SIG-Mac] .... Matrix broken on Mac...
In-Reply-To: <18742.21714.682244.222077@stat.math.ethz.ch>
References: <49342C3D.8040902@fuller.edu>
	<40e66e0b0812011045x34278b0am3250d361d213e0ba@mail.gmail.com>
	<49343D66.1080805@fuller.edu>
	<18742.21714.682244.222077@stat.math.ethz.ch>
Message-ID: <alpine.LFD.2.00.0812030947150.26351@gannet.stats.ox.ac.uk>

On Wed, 3 Dec 2008, Martin Maechler wrote:

> This was on the wrong mailing list (R-SIG-mixed-models),
> but I strongly believe belongs here.
>
> As one of the two maintainers of Matrix,
> I'm very interested to here if really there are still/again
> problems with the *R-forge* (or CRAN) version of Matrix on the Mac.

We need to be careful here about what R version (source vs binary, CRAN 
build vs others, which sub-architectures?).

That Simon is building R-devel means that the CRAN version of Matrix works 
on the CRAN build of R with all the sub-architectures.

> We have made several efforts, partially prompted and aided by
> Simon Urbanek, to get the issues (mostly related to building a
> "fat binary", IIRC) resolved.
>
> Dave, did you install the R-forge version
> with
> 	install.packages("Matrix",repos="http://R-Forge.R-project.org")
>
> {as it is recommended}?

which with a CRAN build gets a binary.  That binary works for me (Leopard 
i386, 10.5.5), but it only has i386 and ppc binaries.  So I think you 
should be recommending type="source" to Mac users (or at least warn 64-bit 
Mac users about this).

Now the i386 Matrix.so is linked against gfortran:

tystie% otool -L Matrix.so
Matrix.so:
 	Matrix.so (compatibility version 0.0.0, current version 0.0.0)

/Library/Frameworks/R.framework/Versions/2.8/Resources/lib/libRlapack.dylib 
(compatibility version 2.8.0, current version 2.8.0)

/Library/Frameworks/R.framework/Versions/2.8/Resources/lib/libRblas.dylib 
(compatibility version 0.0.0, current version 0.0.0)
 	/usr/local/lib/libgfortran.2.dylib (compatibility version 3.0.0, 
current version 3.0.0)
...

and the error message is about not finding libgfortran.  That suggests a 
problem with the R installation in question, since AFAIK this is normally 
installed with R.  If /usr/local/lib/libgfortran.2.dylib really is 
missing, it can be installed from the tools subdirectory on CRAN (or you 
could try re-installing R).

The CRAN build of Matrix is not linked against libgfortran.  I suspect 
that reflects a difference in how the BLAS has been set up on R-forge and 
on Simon's build machine.  Fortran is needed for the standard R BLAS but 
not for the 'vecLib' BLAS that comes with the OS.

So I think the problem is with one user's R installation, but this was 
triggered by a difference in how the CRAN and R-forge builds of R 2.8.0 
were configured.

>
> Best regards,
> Martin
>
>
>
>>>>>> "DA" == Dave Atkins <datkins at fuller.edu>
>>>>>>     on Mon, 01 Dec 2008 11:39:18 -0800 writes:
>
>    DA> Douglas Bates wrote:
>    >> Does
>    >>
>    >> library(Matrix)
>    >>
>    >> without any reference to lme4 work for you?
>
>    DA> No, if I start a fresh R session and call Matrix on its
>    DA> own, I get:
>
>    >> library(Matrix)
>    DA> Loading required package: lattice Error in
>    DA> dyn.load(file, DLLpath = DLLpath, ...) : unable to load
>    DA> shared library
>    DA> '/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so':
>
>    DA> dlopen(/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so,
>    DA> 6): Library not loaded:
>    DA> /usr/local/lib/libgfortran.2.dylib Referenced from:
>    DA> /Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so
>    DA> Reason: image not found Error: package/namespace load
>    DA> failed for 'Matrix'
>
>    >> sessionInfo()
>    DA> R version 2.8.0 (2008-10-20) i386-apple-darwin8.11.1
>
>    DA> locale:
>    DA> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>
>    DA> attached base packages: [1] stats graphics grDevices
>    DA> utils datasets methods base
>
>    DA> other attached packages: [1] lattice_0.17-17
>
>    DA> loaded via a namespace (and not attached): [1]
>    DA> grid_2.8.0
>    >>
>
> Any ideas?  Anything else I can pass along?
>
>    DA> thanks, Dave
>
>    >>
>    >> The other person who was having difficulty loading the
>    >> Matrix package on a Mac was able to resolve the problem
>    >> although I forget the details of how it was resolved.
>    >>
>    >> The messages indicate that the problem is more with
>    >> Matrix than with lme4.
>    >>
>    >> On Mon, Dec 1, 2008 at 12:26 PM, Dave Atkins
>    >> <datkins at fuller.edu> wrote:
>    >>> [whoops, first sent this from my current email, which
>    >>> the listserv didn't recognize.  apologies if this comes
>    >>> through twice.]
>    >>
>    >> And it did come through twice.  I read the messages in
>    >> the wrong order and authorized the posting from the other
>    >> address before reading this message.  Sorry for the extra
>    >> noise.
>    >>
>    >>> Doug--
>    >>>
>    >>> You had inquired whether anyone else was having problems
>    >>> with Matrix on a Mac... yep.  I am.  You'll see below
>    >>> that I removed both lme4 and Matrix, re-install from
>    >>> r-forge, but get an error msg.  sessionInfo() at bottom.
>    >>>
>    >>> Could someone point me to an earlier version of Matrix?
>    >>> I don't believe I had this problem prior to the most
>    >>> recent update.
>    >>>
>    >>> cheers, Dave
>    >>>
>    >>> Dave Atkins, PhD Research Associate Professor Center for
>    >>> the Study of Health and Risk Behaviors Department of
>    >>> Psychiatry and Behavioral Science 1100 NE 45th Street,
>    >>> Suite 300 Seattle, WA 98105 206-616-3879
>    >>> datkins at u.washington.edu
>    >>>
>    >>>
>    >>>> remove.packages("Matrix")
>    >>> Warning in remove.packages("Matrix") : argument 'lib' is
>    >>> missing: using
>    >>> /Library/Frameworks/R.framework/Resources/library
>    >>>> remove.packages("lme4")
>    >>> Warning in remove.packages("lme4") : argument 'lib' is
>    >>> missing: using
>    >>> /Library/Frameworks/R.framework/Resources/library
>    >>>> install.packages("Matrix", repos =
>    >>>> "http://r-forge.r-project.org")
>    >>> trying URL
>    >>> 'http://r-forge.r-project.org/bin/macosx/universal/contrib/2.8/Matrix_0.999375-17.tgz'
>    >>> Content type 'application/x-gzip' length 2740286 bytes
>    >>> (2.6 Mb) opened URL
>    >>> ==================================================
>    >>> downloaded 2.6 Mb
>    >>>
>    >>>
>    >>> The downloaded packages are in
>    >>>
>    >>> /var/folders/eF/eFm91WFiEm8IX1HSzMCn4E+++TI/-Tmp-//RtmpVgGfBC/downloaded_packages
>    >>>> install.packages("lme4", repos =
>    >>>> "http://r-forge.r-project.org")
>    >>> trying URL
>    >>> 'http://r-forge.r-project.org/bin/macosx/universal/contrib/2.8/lme4_0.999375-27.tgz'
>    >>> Content type 'application/x-gzip' length 913761 bytes
>    >>> (892 Kb) opened URL
>    >>> ==================================================
>    >>> downloaded 892 Kb
>    >>>
>    >>>
>    >>> The downloaded packages are in
>    >>>
>    >>> /var/folders/eF/eFm91WFiEm8IX1HSzMCn4E+++TI/-Tmp-//RtmpVgGfBC/downloaded_packages
>    >>>> library(lme4)
>    >>> Loading required package: Matrix Error in dyn.load(file,
>    >>> DLLpath = DLLpath, ...) : unable to load shared library
>    >>> '/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so':
>    >>>
>    >>> dlopen(/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so,
>    >>> 6): Library not loaded:
>    >>> /usr/local/lib/libgfortran.2.dylib Referenced from:
>    >>> /Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so
>    >>> Reason: image not found Error: package 'Matrix' could
>    >>> not be loaded
>    >>>> sessionInfo()
>    >>> R version 2.8.0 (2008-10-20) i386-apple-darwin8.11.1
>    >>>
>    >>> locale:
>    >>> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>    >>>
>    >>> attached base packages: [1] stats graphics grDevices
>    >>> utils datasets methods base
>    >>>
>    >>> other attached packages: [1] lattice_0.17-17
>    >>>
>    >>> loaded via a namespace (and not attached): [1]
>    >>> grid_2.8.0 tools_2.8.0
>    >>>
>    >>> _______________________________________________
>    >>> R-sig-mixed-models at r-project.org mailing list
>    >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mixed-models
>    >>>
>    >>
>
> _______________________________________________
>    DA> R-sig-mixed-models at r-project.org mailing list
>    DA> https://stat.ethz.ch/mailman/listinfo/r-sig-mixed-models
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Wed Dec  3 13:25:30 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 3 Dec 2008 20:25:30 +0800
Subject: [R-SIG-Mac] .... Matrix broken on Mac...
In-Reply-To: <alpine.LFD.2.00.0812030947150.26351@gannet.stats.ox.ac.uk>
References: <49342C3D.8040902@fuller.edu>
	<40e66e0b0812011045x34278b0am3250d361d213e0ba@mail.gmail.com>
	<49343D66.1080805@fuller.edu>
	<18742.21714.682244.222077@stat.math.ethz.ch>
	<alpine.LFD.2.00.0812030947150.26351@gannet.stats.ox.ac.uk>
Message-ID: <31ABDD41-E6CC-4ECD-9AAA-E6C27F59BD2E@r-project.org>


On Dec 3, 2008, at 6:26 PM, Prof Brian Ripley wrote:

> On Wed, 3 Dec 2008, Martin Maechler wrote:
>
>> This was on the wrong mailing list (R-SIG-mixed-models),
>> but I strongly believe belongs here.
>>
>> As one of the two maintainers of Matrix,
>> I'm very interested to here if really there are still/again
>> problems with the *R-forge* (or CRAN) version of Matrix on the Mac.
>
> We need to be careful here about what R version (source vs binary,  
> CRAN build vs others, which sub-architectures?).
>
> That Simon is building R-devel means that the CRAN version of Matrix  
> works on the CRAN build of R with all the sub-architectures.
>
>> We have made several efforts, partially prompted and aided by
>> Simon Urbanek, to get the issues (mostly related to building a
>> "fat binary", IIRC) resolved.
>>
>> Dave, did you install the R-forge version
>> with
>> 	install.packages("Matrix",repos="http://R-Forge.R-project.org")
>>
>> {as it is recommended}?
>
> which with a CRAN build gets a binary.  That binary works for me  
> (Leopard i386, 10.5.5), but it only has i386 and ppc binaries.

The Tiger build Matrix binary has only 32-bit (i386/ppc) because  
that's the only archs that the Tiger R build contains. The Leopard  
build Matrix binary has all four archs (incl. x86_64 and ppc64).


> So I think you should be recommending type="source" to Mac users (or  
> at least warn 64-bit Mac users about this).
>
> Now the i386 Matrix.so is linked against gfortran:
>
> tystie% otool -L Matrix.so
> Matrix.so:
> 	Matrix.so (compatibility version 0.0.0, current version 0.0.0)
>
> /Library/Frameworks/R.framework/Versions/2.8/Resources/lib/ 
> libRlapack.dylib (compatibility version 2.8.0, current version 2.8.0)
>
> /Library/Frameworks/R.framework/Versions/2.8/Resources/lib/ 
> libRblas.dylib (compatibility version 0.0.0, current version 0.0.0)
> 	/usr/local/lib/libgfortran.2.dylib (compatibility version 3.0.0,  
> current version 3.0.0)
> ...
>
> and the error message is about not finding libgfortran.  That  
> suggests a problem with the R installation in question, since AFAIK  
> this is normally installed with R.  If /usr/local/lib/libgfortran. 
> 2.dylib really is missing, it can be installed from the tools  
> subdirectory on CRAN (or you could try re-installing R).
>
> The CRAN build of Matrix is not linked against libgfortran.  I  
> suspect that reflects a difference in how the BLAS has been set up  
> on R-forge and on Simon's build machine.  Fortran is needed for the  
> standard R BLAS but not for the 'vecLib' BLAS that comes with the OS.
>

It's not really just BLAS but it depends on whether the installed  
gfortran uses static or dynamic libgfortran. It's a long story but  
essentially the current rationale is that if you compile from sources,  
you'll have the dynamic libgfortran (if used), so it is not really  
necessary inside R. Binary providers, however, have to be conscious  
about this and I recommend using static libgfortran so you don't get  
into such problems (but it has other issues...). Originally I had  
planned to keep the old dynamic library in the R distribution, but it  
got omitted inadvertently. Since it is not crucial to R itself and  
CRAN binaries, I didn't think it's import enough to warrant another re- 
packaging.

There are more problems with the R-Forge OS X builds (they don't  
perform clean checkouts so strange files can get caught up etc.), so  
currently I'd strongly recommend using type='source' for R-Forge  
packages.

Cheers,
Simon


> So I think the problem is with one user's R installation, but this  
> was triggered by a difference in how the CRAN and R-forge builds of  
> R 2.8.0 were configured.
>
>>
>> Best regards,
>> Martin
>>
>>
>>
>>>>>>> "DA" == Dave Atkins <datkins at fuller.edu>
>>>>>>>    on Mon, 01 Dec 2008 11:39:18 -0800 writes:
>>
>>   DA> Douglas Bates wrote:
>>   >> Does
>>   >>
>>   >> library(Matrix)
>>   >>
>>   >> without any reference to lme4 work for you?
>>
>>   DA> No, if I start a fresh R session and call Matrix on its
>>   DA> own, I get:
>>
>>   >> library(Matrix)
>>   DA> Loading required package: lattice Error in
>>   DA> dyn.load(file, DLLpath = DLLpath, ...) : unable to load
>>   DA> shared library
>>   DA> '/Library/Frameworks/R.framework/Resources/library/Matrix/ 
>> libs/i386/Matrix.so':
>>
>>   DA> dlopen(/Library/Frameworks/R.framework/Resources/library/ 
>> Matrix/libs/i386/Matrix.so,
>>   DA> 6): Library not loaded:
>>   DA> /usr/local/lib/libgfortran.2.dylib Referenced from:
>>   DA> /Library/Frameworks/R.framework/Resources/library/Matrix/libs/ 
>> i386/Matrix.so
>>   DA> Reason: image not found Error: package/namespace load
>>   DA> failed for 'Matrix'
>>
>>   >> sessionInfo()
>>   DA> R version 2.8.0 (2008-10-20) i386-apple-darwin8.11.1
>>
>>   DA> locale:
>>   DA> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>
>>   DA> attached base packages: [1] stats graphics grDevices
>>   DA> utils datasets methods base
>>
>>   DA> other attached packages: [1] lattice_0.17-17
>>
>>   DA> loaded via a namespace (and not attached): [1]
>>   DA> grid_2.8.0
>>   >>
>>
>> Any ideas?  Anything else I can pass along?
>>
>>   DA> thanks, Dave
>>
>>   >>
>>   >> The other person who was having difficulty loading the
>>   >> Matrix package on a Mac was able to resolve the problem
>>   >> although I forget the details of how it was resolved.
>>   >>
>>   >> The messages indicate that the problem is more with
>>   >> Matrix than with lme4.
>>   >>
>>   >> On Mon, Dec 1, 2008 at 12:26 PM, Dave Atkins
>>   >> <datkins at fuller.edu> wrote:
>>   >>> [whoops, first sent this from my current email, which
>>   >>> the listserv didn't recognize.  apologies if this comes
>>   >>> through twice.]
>>   >>
>>   >> And it did come through twice.  I read the messages in
>>   >> the wrong order and authorized the posting from the other
>>   >> address before reading this message.  Sorry for the extra
>>   >> noise.
>>   >>
>>   >>> Doug--
>>   >>>
>>   >>> You had inquired whether anyone else was having problems
>>   >>> with Matrix on a Mac... yep.  I am.  You'll see below
>>   >>> that I removed both lme4 and Matrix, re-install from
>>   >>> r-forge, but get an error msg.  sessionInfo() at bottom.
>>   >>>
>>   >>> Could someone point me to an earlier version of Matrix?
>>   >>> I don't believe I had this problem prior to the most
>>   >>> recent update.
>>   >>>
>>   >>> cheers, Dave
>>   >>>
>>   >>> Dave Atkins, PhD Research Associate Professor Center for
>>   >>> the Study of Health and Risk Behaviors Department of
>>   >>> Psychiatry and Behavioral Science 1100 NE 45th Street,
>>   >>> Suite 300 Seattle, WA 98105 206-616-3879
>>   >>> datkins at u.washington.edu
>>   >>>
>>   >>>
>>   >>>> remove.packages("Matrix")
>>   >>> Warning in remove.packages("Matrix") : argument 'lib' is
>>   >>> missing: using
>>   >>> /Library/Frameworks/R.framework/Resources/library
>>   >>>> remove.packages("lme4")
>>   >>> Warning in remove.packages("lme4") : argument 'lib' is
>>   >>> missing: using
>>   >>> /Library/Frameworks/R.framework/Resources/library
>>   >>>> install.packages("Matrix", repos =
>>   >>>> "http://r-forge.r-project.org")
>>   >>> trying URL
>>   >>> 'http://r-forge.r-project.org/bin/macosx/universal/contrib/2.8/Matrix_0.999375-17.tgz'
>>   >>> Content type 'application/x-gzip' length 2740286 bytes
>>   >>> (2.6 Mb) opened URL
>>   >>> ==================================================
>>   >>> downloaded 2.6 Mb
>>   >>>
>>   >>>
>>   >>> The downloaded packages are in
>>   >>>
>>   >>> /var/folders/eF/eFm91WFiEm8IX1HSzMCn4E+++TI/-Tmp-//RtmpVgGfBC/ 
>> downloaded_packages
>>   >>>> install.packages("lme4", repos =
>>   >>>> "http://r-forge.r-project.org")
>>   >>> trying URL
>>   >>> 'http://r-forge.r-project.org/bin/macosx/universal/contrib/2.8/lme4_0.999375-27.tgz'
>>   >>> Content type 'application/x-gzip' length 913761 bytes
>>   >>> (892 Kb) opened URL
>>   >>> ==================================================
>>   >>> downloaded 892 Kb
>>   >>>
>>   >>>
>>   >>> The downloaded packages are in
>>   >>>
>>   >>> /var/folders/eF/eFm91WFiEm8IX1HSzMCn4E+++TI/-Tmp-//RtmpVgGfBC/ 
>> downloaded_packages
>>   >>>> library(lme4)
>>   >>> Loading required package: Matrix Error in dyn.load(file,
>>   >>> DLLpath = DLLpath, ...) : unable to load shared library
>>   >>> '/Library/Frameworks/R.framework/Resources/library/Matrix/ 
>> libs/i386/Matrix.so':
>>   >>>
>>   >>> dlopen(/Library/Frameworks/R.framework/Resources/library/ 
>> Matrix/libs/i386/Matrix.so,
>>   >>> 6): Library not loaded:
>>   >>> /usr/local/lib/libgfortran.2.dylib Referenced from:
>>   >>> /Library/Frameworks/R.framework/Resources/library/Matrix/libs/ 
>> i386/Matrix.so
>>   >>> Reason: image not found Error: package 'Matrix' could
>>   >>> not be loaded
>>   >>>> sessionInfo()
>>   >>> R version 2.8.0 (2008-10-20) i386-apple-darwin8.11.1
>>   >>>
>>   >>> locale:
>>   >>> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>   >>>
>>   >>> attached base packages: [1] stats graphics grDevices
>>   >>> utils datasets methods base
>>   >>>
>>   >>> other attached packages: [1] lattice_0.17-17
>>   >>>
>>   >>> loaded via a namespace (and not attached): [1]
>>   >>> grid_2.8.0 tools_2.8.0
>>   >>>
>>   >>> _______________________________________________
>>   >>> R-sig-mixed-models at r-project.org mailing list
>>   >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mixed-models
>>   >>>
>>   >>
>>
>> _______________________________________________
>>   DA> R-sig-mixed-models at r-project.org mailing list
>>   DA> https://stat.ethz.ch/mailman/listinfo/r-sig-mixed-models
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From ripley at stats.ox.ac.uk  Wed Dec  3 13:47:16 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 3 Dec 2008 12:47:16 +0000 (GMT)
Subject: [R-SIG-Mac] .... Matrix broken on Mac...
In-Reply-To: <31ABDD41-E6CC-4ECD-9AAA-E6C27F59BD2E@r-project.org>
References: <49342C3D.8040902@fuller.edu>
	<40e66e0b0812011045x34278b0am3250d361d213e0ba@mail.gmail.com>
	<49343D66.1080805@fuller.edu>
	<18742.21714.682244.222077@stat.math.ethz.ch>
	<alpine.LFD.2.00.0812030947150.26351@gannet.stats.ox.ac.uk>
	<31ABDD41-E6CC-4ECD-9AAA-E6C27F59BD2E@r-project.org>
Message-ID: <alpine.LFD.2.00.0812031238080.29794@gannet.stats.ox.ac.uk>

On Wed, 3 Dec 2008, Simon Urbanek wrote:

>
> On Dec 3, 2008, at 6:26 PM, Prof Brian Ripley wrote:
>
>> On Wed, 3 Dec 2008, Martin Maechler wrote:
>> 
>>> This was on the wrong mailing list (R-SIG-mixed-models),
>>> but I strongly believe belongs here.
>>> 
>>> As one of the two maintainers of Matrix,
>>> I'm very interested to here if really there are still/again
>>> problems with the *R-forge* (or CRAN) version of Matrix on the Mac.
>> 
>> We need to be careful here about what R version (source vs binary, CRAN 
>> build vs others, which sub-architectures?).
>> 
>> That Simon is building R-devel means that the CRAN version of Matrix works 
>> on the CRAN build of R with all the sub-architectures.
>> 
>>> We have made several efforts, partially prompted and aided by
>>> Simon Urbanek, to get the issues (mostly related to building a
>>> "fat binary", IIRC) resolved.

>>> Dave, did you install the R-forge version
>>> with
>>> 	install.packages("Matrix",repos="http://R-Forge.R-project.org")
>>> 
>>> {as it is recommended}?
>> 
>> which with a CRAN build gets a binary.  That binary works for me (Leopard 
>> i386, 10.5.5), but it only has i386 and ppc binaries.
>
> The Tiger build Matrix binary has only 32-bit (i386/ppc) because that's the 
> only archs that the Tiger R build contains. The Leopard build Matrix binary 
> has all four archs (incl. x86_64 and ppc64).

Yes, my point being that the R-forge Matrix binary (which is what that 
command gets) has only two of the archs. whereas the CRAN Leopard R binary 
has four.

>> So I think you should be recommending type="source" to Mac users (or at 
>> least warn 64-bit Mac users about this).
>> 
>> Now the i386 Matrix.so is linked against gfortran:
>> 
>> tystie% otool -L Matrix.so
>> Matrix.so:
>> 	Matrix.so (compatibility version 0.0.0, current version 0.0.0)
>> 
>> /Library/Frameworks/R.framework/Versions/2.8/Resources/lib/libRlapack.dylib 
>> (compatibility version 2.8.0, current version 2.8.0)
>> 
>> /Library/Frameworks/R.framework/Versions/2.8/Resources/lib/libRblas.dylib 
>> (compatibility version 0.0.0, current version 0.0.0)
>> 	/usr/local/lib/libgfortran.2.dylib (compatibility version 3.0.0, 
>> current version 3.0.0)
>> ...
>> 
>> and the error message is about not finding libgfortran.  That suggests a 
>> problem with the R installation in question, since AFAIK this is normally 
>> installed with R.  If /usr/local/lib/libgfortran.2.dylib really is missing, 
>> it can be installed from the tools subdirectory on CRAN (or you could try 
>> re-installing R).
>> 
>> The CRAN build of Matrix is not linked against libgfortran.  I suspect that 
>> reflects a difference in how the BLAS has been set up on R-forge and on 
>> Simon's build machine.  Fortran is needed for the standard R BLAS but not 
>> for the 'vecLib' BLAS that comes with the OS.
>> 
>
> It's not really just BLAS but it depends on whether the installed gfortran 
> uses static or dynamic libgfortran. It's a long story but essentially the 
> current rationale is that if you compile from sources, you'll have the 
> dynamic libgfortran (if used), so it is not really necessary inside R. Binary 
> providers, however, have to be conscious about this and I recommend using 
> static libgfortran so you don't get into such problems (but it has other 
> issues...). Originally I had planned to keep the old dynamic library in the R 
> distribution, but it got omitted inadvertently. Since it is not crucial to R 
> itself and CRAN binaries, I didn't think it's import enough to warrant 
> another re-packaging.

Thanks for the clarification.  I didn't expect static libgfortran to work 
(and e.g. it does not on x86_64 Linux).

> There are more problems with the R-Forge OS X builds (they don't perform 
> clean checkouts so strange files can get caught up etc.), so currently I'd 
> strongly recommend using type='source' for R-Forge packages.

And that will require you to install the gfortran from CRAN as well as 
Xcode.

>
> Cheers,
> Simon
>
>
>> So I think the problem is with one user's R installation, but this was 
>> triggered by a difference in how the CRAN and R-forge builds of R 2.8.0 
>> were configured.
>> 
>>> 
>>> Best regards,
>>> Martin
>>> 
>>> 
>>> 
>>>>>>>> "DA" == Dave Atkins <datkins at fuller.edu>
>>>>>>>>   on Mon, 01 Dec 2008 11:39:18 -0800 writes:
>>>
>>>  DA> Douglas Bates wrote:
>>>  >> Does
>>>  >>
>>>  >> library(Matrix)
>>>  >>
>>>  >> without any reference to lme4 work for you?
>>>
>>>  DA> No, if I start a fresh R session and call Matrix on its
>>>  DA> own, I get:
>>>
>>>  >> library(Matrix)
>>>  DA> Loading required package: lattice Error in
>>>  DA> dyn.load(file, DLLpath = DLLpath, ...) : unable to load
>>>  DA> shared library
>>>  DA> 
>>> '/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so':
>>>
>>>  DA> 
>>> dlopen(/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so,
>>>  DA> 6): Library not loaded:
>>>  DA> /usr/local/lib/libgfortran.2.dylib Referenced from:
>>>  DA> 
>>> /Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so
>>>  DA> Reason: image not found Error: package/namespace load
>>>  DA> failed for 'Matrix'
>>>
>>>  >> sessionInfo()
>>>  DA> R version 2.8.0 (2008-10-20) i386-apple-darwin8.11.1
>>>
>>>  DA> locale:
>>>  DA> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>
>>>  DA> attached base packages: [1] stats graphics grDevices
>>>  DA> utils datasets methods base
>>>
>>>  DA> other attached packages: [1] lattice_0.17-17
>>>
>>>  DA> loaded via a namespace (and not attached): [1]
>>>  DA> grid_2.8.0
>>>  >>
>>> 
>>> Any ideas?  Anything else I can pass along?
>>>
>>>  DA> thanks, Dave
>>>
>>>  >>
>>>  >> The other person who was having difficulty loading the
>>>  >> Matrix package on a Mac was able to resolve the problem
>>>  >> although I forget the details of how it was resolved.
>>>  >>
>>>  >> The messages indicate that the problem is more with
>>>  >> Matrix than with lme4.
>>>  >>
>>>  >> On Mon, Dec 1, 2008 at 12:26 PM, Dave Atkins
>>>  >> <datkins at fuller.edu> wrote:
>>>  >>> [whoops, first sent this from my current email, which
>>>  >>> the listserv didn't recognize.  apologies if this comes
>>>  >>> through twice.]
>>>  >>
>>>  >> And it did come through twice.  I read the messages in
>>>  >> the wrong order and authorized the posting from the other
>>>  >> address before reading this message.  Sorry for the extra
>>>  >> noise.
>>>  >>
>>>  >>> Doug--
>>>  >>>
>>>  >>> You had inquired whether anyone else was having problems
>>>  >>> with Matrix on a Mac... yep.  I am.  You'll see below
>>>  >>> that I removed both lme4 and Matrix, re-install from
>>>  >>> r-forge, but get an error msg.  sessionInfo() at bottom.
>>>  >>>
>>>  >>> Could someone point me to an earlier version of Matrix?
>>>  >>> I don't believe I had this problem prior to the most
>>>  >>> recent update.
>>>  >>>
>>>  >>> cheers, Dave
>>>  >>>
>>>  >>> Dave Atkins, PhD Research Associate Professor Center for
>>>  >>> the Study of Health and Risk Behaviors Department of
>>>  >>> Psychiatry and Behavioral Science 1100 NE 45th Street,
>>>  >>> Suite 300 Seattle, WA 98105 206-616-3879
>>>  >>> datkins at u.washington.edu
>>>  >>>
>>>  >>>
>>>  >>>> remove.packages("Matrix")
>>>  >>> Warning in remove.packages("Matrix") : argument 'lib' is
>>>  >>> missing: using
>>>  >>> /Library/Frameworks/R.framework/Resources/library
>>>  >>>> remove.packages("lme4")
>>>  >>> Warning in remove.packages("lme4") : argument 'lib' is
>>>  >>> missing: using
>>>  >>> /Library/Frameworks/R.framework/Resources/library
>>>  >>>> install.packages("Matrix", repos =
>>>  >>>> "http://r-forge.r-project.org")
>>>  >>> trying URL
>>>  >>> 
>>> 'http://r-forge.r-project.org/bin/macosx/universal/contrib/2.8/Matrix_0.999375-17.tgz'
>>>  >>> Content type 'application/x-gzip' length 2740286 bytes
>>>  >>> (2.6 Mb) opened URL
>>>  >>> ==================================================
>>>  >>> downloaded 2.6 Mb
>>>  >>>
>>>  >>>
>>>  >>> The downloaded packages are in
>>>  >>>
>>>  >>> 
>>> /var/folders/eF/eFm91WFiEm8IX1HSzMCn4E+++TI/-Tmp-//RtmpVgGfBC/downloaded_packages
>>>  >>>> install.packages("lme4", repos =
>>>  >>>> "http://r-forge.r-project.org")
>>>  >>> trying URL
>>>  >>> 
>>> 'http://r-forge.r-project.org/bin/macosx/universal/contrib/2.8/lme4_0.999375-27.tgz'
>>>  >>> Content type 'application/x-gzip' length 913761 bytes
>>>  >>> (892 Kb) opened URL
>>>  >>> ==================================================
>>>  >>> downloaded 892 Kb
>>>  >>>
>>>  >>>
>>>  >>> The downloaded packages are in
>>>  >>>
>>>  >>> 
>>> /var/folders/eF/eFm91WFiEm8IX1HSzMCn4E+++TI/-Tmp-//RtmpVgGfBC/downloaded_packages
>>>  >>>> library(lme4)
>>>  >>> Loading required package: Matrix Error in dyn.load(file,
>>>  >>> DLLpath = DLLpath, ...) : unable to load shared library
>>>  >>> 
>>> '/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so':
>>>  >>>
>>>  >>> 
>>> dlopen(/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so,
>>>  >>> 6): Library not loaded:
>>>  >>> /usr/local/lib/libgfortran.2.dylib Referenced from:
>>>  >>> 
>>> /Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so
>>>  >>> Reason: image not found Error: package 'Matrix' could
>>>  >>> not be loaded
>>>  >>>> sessionInfo()
>>>  >>> R version 2.8.0 (2008-10-20) i386-apple-darwin8.11.1
>>>  >>>
>>>  >>> locale:
>>>  >>> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>  >>>
>>>  >>> attached base packages: [1] stats graphics grDevices
>>>  >>> utils datasets methods base
>>>  >>>
>>>  >>> other attached packages: [1] lattice_0.17-17
>>>  >>>
>>>  >>> loaded via a namespace (and not attached): [1]
>>>  >>> grid_2.8.0 tools_2.8.0
>>>  >>>
>>>  >>> _______________________________________________
>>>  >>> R-sig-mixed-models at r-project.org mailing list
>>>  >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mixed-models
>>>  >>>
>>>  >>
>>> 
>>> _______________________________________________
>>>  DA> R-sig-mixed-models at r-project.org mailing list
>>>  DA> https://stat.ethz.ch/mailman/listinfo/r-sig-mixed-models
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> -- 
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ripley at stats.ox.ac.uk  Wed Dec  3 18:48:00 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 03 Dec 2008 17:48:00 +0000
Subject: [R-SIG-Mac] .... Matrix broken on Mac...
In-Reply-To: <49369EB0.5090606@fuller.edu>
References: <49342C3D.8040902@fuller.edu>
	<40e66e0b0812011045x34278b0am3250d361d213e0ba@mail.gmail.com>
	<49343D66.1080805@fuller.edu>
	<18742.21714.682244.222077@stat.math.ethz.ch>
	<alpine.LFD.2.00.0812030947150.26351@gannet.stats.ox.ac.uk>
	<31ABDD41-E6CC-4ECD-9AAA-E6C27F59BD2E@r-project.org>
	<alpine.LFD.2.00.0812031238080.29794@gannet.stats.ox.ac.uk>
	<49369EB0.5090606@fuller.edu>
Message-ID: <4936C650.6060006@stats.ox.ac.uk>

Users of R on Windows often do not appreciate how smoothly things work 
there, nor how much work went into making it so.  In part this is 
achieved by being very conservative about the OS environment, and we 
still support Windows 2000.

Macs have many more possibilities for things to go wrong (4 
architectures, incompatible changes in the OS service packs, lots more 
use of dynamic loading ...).  So binary distributions are not 
recommended except from a single source (which CRAN provides, and BioC 
is AFAIK essentially the same source).

Dave Atkins wrote:
> 
> Hi all--
> 
> I realize now that Doug and I had a final back-channel exchange, which 
> (of course) wasn't privy to the listserv.  There's a lot in the recent 
> exchange which goes beyond my computer knowledge.
> 
> As suspected below, the CRAN versions work fine for me, and I ran into 
> problems with both lme4 and Matrix when I installed from R-forge (and 
> lme4 from R-forge still had problems after loading Matrix from CRAN).  I 
> recently switched from PC to Mac, and had often installed/updated 
> packages from R-forge on the PC.  Now, I see there are some 
> additional... peculiarities? in doing so with the Mac.  For my own 
> purposes, it should be fine just to stay with CRAN packages, where I 
> don't believe I've hit any problems.
> 
> I have never specified the "type" argument when installing packages.
> 
> Hope this helps.
> 
> cheers, Dave
> 
> 
> Prof Brian Ripley wrote:
>> On Wed, 3 Dec 2008, Simon Urbanek wrote:
>>
>>>
>>> On Dec 3, 2008, at 6:26 PM, Prof Brian Ripley wrote:
>>>
>>>> On Wed, 3 Dec 2008, Martin Maechler wrote:
>>>>
>>>>> This was on the wrong mailing list (R-SIG-mixed-models),
>>>>> but I strongly believe belongs here.
>>>>>
>>>>> As one of the two maintainers of Matrix,
>>>>> I'm very interested to here if really there are still/again
>>>>> problems with the *R-forge* (or CRAN) version of Matrix on the Mac.
>>>>
>>>> We need to be careful here about what R version (source vs binary, 
>>>> CRAN build vs others, which sub-architectures?).
>>>>
>>>> That Simon is building R-devel means that the CRAN version of Matrix 
>>>> works on the CRAN build of R with all the sub-architectures.
>>>>
>>>>> We have made several efforts, partially prompted and aided by
>>>>> Simon Urbanek, to get the issues (mostly related to building a
>>>>> "fat binary", IIRC) resolved.
>>
>>>>> Dave, did you install the R-forge version
>>>>> with
>>>>>     install.packages("Matrix",repos="http://R-Forge.R-project.org")
>>>>>
>>>>> {as it is recommended}?
>>>>
>>>> which with a CRAN build gets a binary.  That binary works for me 
>>>> (Leopard i386, 10.5.5), but it only has i386 and ppc binaries.
>>>
>>> The Tiger build Matrix binary has only 32-bit (i386/ppc) because 
>>> that's the only archs that the Tiger R build contains. The Leopard 
>>> build Matrix binary has all four archs (incl. x86_64 and ppc64).
>>
>> Yes, my point being that the R-forge Matrix binary (which is what that 
>> command gets) has only two of the archs. whereas the CRAN Leopard R 
>> binary has four.
>>
>>>> So I think you should be recommending type="source" to Mac users (or 
>>>> at least warn 64-bit Mac users about this).
>>>>
>>>> Now the i386 Matrix.so is linked against gfortran:
>>>>
>>>> tystie% otool -L Matrix.so
>>>> Matrix.so:
>>>>     Matrix.so (compatibility version 0.0.0, current version 0.0.0)
>>>>
>>>> /Library/Frameworks/R.framework/Versions/2.8/Resources/lib/libRlapack.dylib 
>>>> (compatibility version 2.8.0, current version 2.8.0)
>>>>
>>>> /Library/Frameworks/R.framework/Versions/2.8/Resources/lib/libRblas.dylib 
>>>> (compatibility version 0.0.0, current version 0.0.0)
>>>>     /usr/local/lib/libgfortran.2.dylib (compatibility version 3.0.0, 
>>>> current version 3.0.0)
>>>> ...
>>>>
>>>> and the error message is about not finding libgfortran.  That 
>>>> suggests a problem with the R installation in question, since AFAIK 
>>>> this is normally installed with R.  If 
>>>> /usr/local/lib/libgfortran.2.dylib really is missing, it can be 
>>>> installed from the tools subdirectory on CRAN (or you could try 
>>>> re-installing R).
>>>>
>>>> The CRAN build of Matrix is not linked against libgfortran.  I 
>>>> suspect that reflects a difference in how the BLAS has been set up 
>>>> on R-forge and on Simon's build machine.  Fortran is needed for the 
>>>> standard R BLAS but not for the 'vecLib' BLAS that comes with the OS.
>>>>
>>>
>>> It's not really just BLAS but it depends on whether the installed 
>>> gfortran uses static or dynamic libgfortran. It's a long story but 
>>> essentially the current rationale is that if you compile from 
>>> sources, you'll have the dynamic libgfortran (if used), so it is not 
>>> really necessary inside R. Binary providers, however, have to be 
>>> conscious about this and I recommend using static libgfortran so you 
>>> don't get into such problems (but it has other issues...). Originally 
>>> I had planned to keep the old dynamic library in the R distribution, 
>>> but it got omitted inadvertently. Since it is not crucial to R itself 
>>> and CRAN binaries, I didn't think it's import enough to warrant 
>>> another re-packaging.
>>
>> Thanks for the clarification.  I didn't expect static libgfortran to 
>> work (and e.g. it does not on x86_64 Linux).
>>
>>> There are more problems with the R-Forge OS X builds (they don't 
>>> perform clean checkouts so strange files can get caught up etc.), so 
>>> currently I'd strongly recommend using type='source' for R-Forge 
>>> packages.
>>
>> And that will require you to install the gfortran from CRAN as well as 
>> Xcode.
>>
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>> So I think the problem is with one user's R installation, but this 
>>>> was triggered by a difference in how the CRAN and R-forge builds of 
>>>> R 2.8.0 were configured.
>>>>
>>>>>
>>>>> Best regards,
>>>>> Martin
>>>>>
>>>>>
>>>>>
>>>>>>>>>> "DA" == Dave Atkins <datkins at fuller.edu>
>>>>>>>>>>   on Mon, 01 Dec 2008 11:39:18 -0800 writes:
>>>>>
>>>>>  DA> Douglas Bates wrote:
>>>>>  >> Does
>>>>>  >>
>>>>>  >> library(Matrix)
>>>>>  >>
>>>>>  >> without any reference to lme4 work for you?
>>>>>
>>>>>  DA> No, if I start a fresh R session and call Matrix on its
>>>>>  DA> own, I get:
>>>>>
>>>>>  >> library(Matrix)
>>>>>  DA> Loading required package: lattice Error in
>>>>>  DA> dyn.load(file, DLLpath = DLLpath, ...) : unable to load
>>>>>  DA> shared library
>>>>>  DA> 
>>>>> '/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so': 
>>>>>
>>>>>
>>>>>  DA> 
>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so, 
>>>>>
>>>>>  DA> 6): Library not loaded:
>>>>>  DA> /usr/local/lib/libgfortran.2.dylib Referenced from:
>>>>>  DA> 
>>>>> /Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so 
>>>>>
>>>>>  DA> Reason: image not found Error: package/namespace load
>>>>>  DA> failed for 'Matrix'
>>>>>
>>>>>  >> sessionInfo()
>>>>>  DA> R version 2.8.0 (2008-10-20) i386-apple-darwin8.11.1
>>>>>
>>>>>  DA> locale:
>>>>>  DA> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>>>
>>>>>  DA> attached base packages: [1] stats graphics grDevices
>>>>>  DA> utils datasets methods base
>>>>>
>>>>>  DA> other attached packages: [1] lattice_0.17-17
>>>>>
>>>>>  DA> loaded via a namespace (and not attached): [1]
>>>>>  DA> grid_2.8.0
>>>>>  >>
>>>>>
>>>>> Any ideas?  Anything else I can pass along?
>>>>>
>>>>>  DA> thanks, Dave
>>>>>
>>>>>  >>
>>>>>  >> The other person who was having difficulty loading the
>>>>>  >> Matrix package on a Mac was able to resolve the problem
>>>>>  >> although I forget the details of how it was resolved.
>>>>>  >>
>>>>>  >> The messages indicate that the problem is more with
>>>>>  >> Matrix than with lme4.
>>>>>  >>
>>>>>  >> On Mon, Dec 1, 2008 at 12:26 PM, Dave Atkins
>>>>>  >> <datkins at fuller.edu> wrote:
>>>>>  >>> [whoops, first sent this from my current email, which
>>>>>  >>> the listserv didn't recognize.  apologies if this comes
>>>>>  >>> through twice.]
>>>>>  >>
>>>>>  >> And it did come through twice.  I read the messages in
>>>>>  >> the wrong order and authorized the posting from the other
>>>>>  >> address before reading this message.  Sorry for the extra
>>>>>  >> noise.
>>>>>  >>
>>>>>  >>> Doug--
>>>>>  >>>
>>>>>  >>> You had inquired whether anyone else was having problems
>>>>>  >>> with Matrix on a Mac... yep.  I am.  You'll see below
>>>>>  >>> that I removed both lme4 and Matrix, re-install from
>>>>>  >>> r-forge, but get an error msg.  sessionInfo() at bottom.
>>>>>  >>>
>>>>>  >>> Could someone point me to an earlier version of Matrix?
>>>>>  >>> I don't believe I had this problem prior to the most
>>>>>  >>> recent update.
>>>>>  >>>
>>>>>  >>> cheers, Dave
>>>>>  >>>
>>>>>  >>> Dave Atkins, PhD Research Associate Professor Center for
>>>>>  >>> the Study of Health and Risk Behaviors Department of
>>>>>  >>> Psychiatry and Behavioral Science 1100 NE 45th Street,
>>>>>  >>> Suite 300 Seattle, WA 98105 206-616-3879
>>>>>  >>> datkins at u.washington.edu
>>>>>  >>>
>>>>>  >>>
>>>>>  >>>> remove.packages("Matrix")
>>>>>  >>> Warning in remove.packages("Matrix") : argument 'lib' is
>>>>>  >>> missing: using
>>>>>  >>> /Library/Frameworks/R.framework/Resources/library
>>>>>  >>>> remove.packages("lme4")
>>>>>  >>> Warning in remove.packages("lme4") : argument 'lib' is
>>>>>  >>> missing: using
>>>>>  >>> /Library/Frameworks/R.framework/Resources/library
>>>>>  >>>> install.packages("Matrix", repos =
>>>>>  >>>> "http://r-forge.r-project.org")
>>>>>  >>> trying URL
>>>>>  >>> 
>>>>> 'http://r-forge.r-project.org/bin/macosx/universal/contrib/2.8/Matrix_0.999375-17.tgz' 
>>>>>
>>>>>  >>> Content type 'application/x-gzip' length 2740286 bytes
>>>>>  >>> (2.6 Mb) opened URL
>>>>>  >>> ==================================================
>>>>>  >>> downloaded 2.6 Mb
>>>>>  >>>
>>>>>  >>>
>>>>>  >>> The downloaded packages are in
>>>>>  >>>
>>>>>  >>> 
>>>>> /var/folders/eF/eFm91WFiEm8IX1HSzMCn4E+++TI/-Tmp-//RtmpVgGfBC/downloaded_packages 
>>>>>
>>>>>  >>>> install.packages("lme4", repos =
>>>>>  >>>> "http://r-forge.r-project.org")
>>>>>  >>> trying URL
>>>>>  >>> 
>>>>> 'http://r-forge.r-project.org/bin/macosx/universal/contrib/2.8/lme4_0.999375-27.tgz' 
>>>>>
>>>>>  >>> Content type 'application/x-gzip' length 913761 bytes
>>>>>  >>> (892 Kb) opened URL
>>>>>  >>> ==================================================
>>>>>  >>> downloaded 892 Kb
>>>>>  >>>
>>>>>  >>>
>>>>>  >>> The downloaded packages are in
>>>>>  >>>
>>>>>  >>> 
>>>>> /var/folders/eF/eFm91WFiEm8IX1HSzMCn4E+++TI/-Tmp-//RtmpVgGfBC/downloaded_packages 
>>>>>
>>>>>  >>>> library(lme4)
>>>>>  >>> Loading required package: Matrix Error in dyn.load(file,
>>>>>  >>> DLLpath = DLLpath, ...) : unable to load shared library
>>>>>  >>> 
>>>>> '/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so': 
>>>>>
>>>>>  >>>
>>>>>  >>> 
>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so, 
>>>>>
>>>>>  >>> 6): Library not loaded:
>>>>>  >>> /usr/local/lib/libgfortran.2.dylib Referenced from:
>>>>>  >>> 
>>>>> /Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so 
>>>>>
>>>>>  >>> Reason: image not found Error: package 'Matrix' could
>>>>>  >>> not be loaded
>>>>>  >>>> sessionInfo()
>>>>>  >>> R version 2.8.0 (2008-10-20) i386-apple-darwin8.11.1
>>>>>  >>>
>>>>>  >>> locale:
>>>>>  >>> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>>>  >>>
>>>>>  >>> attached base packages: [1] stats graphics grDevices
>>>>>  >>> utils datasets methods base
>>>>>  >>>
>>>>>  >>> other attached packages: [1] lattice_0.17-17
>>>>>  >>>
>>>>>  >>> loaded via a namespace (and not attached): [1]
>>>>>  >>> grid_2.8.0 tools_2.8.0
>>>>>  >>>
>>>>>  >>> _______________________________________________
>>>>>  >>> R-sig-mixed-models at r-project.org mailing list
>>>>>  >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mixed-models
>>>>>  >>>
>>>>>  >>
>>>>>
>>>>> _______________________________________________
>>>>>  DA> R-sig-mixed-models at r-project.org mailing list
>>>>>  DA> https://stat.ethz.ch/mailman/listinfo/r-sig-mixed-models
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>
>>>> -- 
>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From datkins at fuller.edu  Wed Dec  3 15:58:56 2008
From: datkins at fuller.edu (Dave Atkins)
Date: Wed, 03 Dec 2008 06:58:56 -0800
Subject: [R-SIG-Mac] .... Matrix broken on Mac...
In-Reply-To: <alpine.LFD.2.00.0812031238080.29794@gannet.stats.ox.ac.uk>
References: <49342C3D.8040902@fuller.edu>
	<40e66e0b0812011045x34278b0am3250d361d213e0ba@mail.gmail.com>
	<49343D66.1080805@fuller.edu>
	<18742.21714.682244.222077@stat.math.ethz.ch>
	<alpine.LFD.2.00.0812030947150.26351@gannet.stats.ox.ac.uk>
	<31ABDD41-E6CC-4ECD-9AAA-E6C27F59BD2E@r-project.org>
	<alpine.LFD.2.00.0812031238080.29794@gannet.stats.ox.ac.uk>
Message-ID: <49369EB0.5090606@fuller.edu>


Hi all--

I realize now that Doug and I had a final back-channel exchange, which 
(of course) wasn't privy to the listserv.  There's a lot in the recent 
exchange which goes beyond my computer knowledge.

As suspected below, the CRAN versions work fine for me, and I ran into 
problems with both lme4 and Matrix when I installed from R-forge (and 
lme4 from R-forge still had problems after loading Matrix from CRAN).  I 
recently switched from PC to Mac, and had often installed/updated 
packages from R-forge on the PC.  Now, I see there are some 
additional... peculiarities? in doing so with the Mac.  For my own 
purposes, it should be fine just to stay with CRAN packages, where I 
don't believe I've hit any problems.

I have never specified the "type" argument when installing packages.

Hope this helps.

cheers, Dave


Prof Brian Ripley wrote:
> On Wed, 3 Dec 2008, Simon Urbanek wrote:
> 
>>
>> On Dec 3, 2008, at 6:26 PM, Prof Brian Ripley wrote:
>>
>>> On Wed, 3 Dec 2008, Martin Maechler wrote:
>>>
>>>> This was on the wrong mailing list (R-SIG-mixed-models),
>>>> but I strongly believe belongs here.
>>>>
>>>> As one of the two maintainers of Matrix,
>>>> I'm very interested to here if really there are still/again
>>>> problems with the *R-forge* (or CRAN) version of Matrix on the Mac.
>>>
>>> We need to be careful here about what R version (source vs binary, 
>>> CRAN build vs others, which sub-architectures?).
>>>
>>> That Simon is building R-devel means that the CRAN version of Matrix 
>>> works on the CRAN build of R with all the sub-architectures.
>>>
>>>> We have made several efforts, partially prompted and aided by
>>>> Simon Urbanek, to get the issues (mostly related to building a
>>>> "fat binary", IIRC) resolved.
> 
>>>> Dave, did you install the R-forge version
>>>> with
>>>>     install.packages("Matrix",repos="http://R-Forge.R-project.org")
>>>>
>>>> {as it is recommended}?
>>>
>>> which with a CRAN build gets a binary.  That binary works for me 
>>> (Leopard i386, 10.5.5), but it only has i386 and ppc binaries.
>>
>> The Tiger build Matrix binary has only 32-bit (i386/ppc) because 
>> that's the only archs that the Tiger R build contains. The Leopard 
>> build Matrix binary has all four archs (incl. x86_64 and ppc64).
> 
> Yes, my point being that the R-forge Matrix binary (which is what that 
> command gets) has only two of the archs. whereas the CRAN Leopard R 
> binary has four.
> 
>>> So I think you should be recommending type="source" to Mac users (or 
>>> at least warn 64-bit Mac users about this).
>>>
>>> Now the i386 Matrix.so is linked against gfortran:
>>>
>>> tystie% otool -L Matrix.so
>>> Matrix.so:
>>>     Matrix.so (compatibility version 0.0.0, current version 0.0.0)
>>>
>>> /Library/Frameworks/R.framework/Versions/2.8/Resources/lib/libRlapack.dylib 
>>> (compatibility version 2.8.0, current version 2.8.0)
>>>
>>> /Library/Frameworks/R.framework/Versions/2.8/Resources/lib/libRblas.dylib 
>>> (compatibility version 0.0.0, current version 0.0.0)
>>>     /usr/local/lib/libgfortran.2.dylib (compatibility version 3.0.0, 
>>> current version 3.0.0)
>>> ...
>>>
>>> and the error message is about not finding libgfortran.  That 
>>> suggests a problem with the R installation in question, since AFAIK 
>>> this is normally installed with R.  If 
>>> /usr/local/lib/libgfortran.2.dylib really is missing, it can be 
>>> installed from the tools subdirectory on CRAN (or you could try 
>>> re-installing R).
>>>
>>> The CRAN build of Matrix is not linked against libgfortran.  I 
>>> suspect that reflects a difference in how the BLAS has been set up on 
>>> R-forge and on Simon's build machine.  Fortran is needed for the 
>>> standard R BLAS but not for the 'vecLib' BLAS that comes with the OS.
>>>
>>
>> It's not really just BLAS but it depends on whether the installed 
>> gfortran uses static or dynamic libgfortran. It's a long story but 
>> essentially the current rationale is that if you compile from sources, 
>> you'll have the dynamic libgfortran (if used), so it is not really 
>> necessary inside R. Binary providers, however, have to be conscious 
>> about this and I recommend using static libgfortran so you don't get 
>> into such problems (but it has other issues...). Originally I had 
>> planned to keep the old dynamic library in the R distribution, but it 
>> got omitted inadvertently. Since it is not crucial to R itself and 
>> CRAN binaries, I didn't think it's import enough to warrant another 
>> re-packaging.
> 
> Thanks for the clarification.  I didn't expect static libgfortran to 
> work (and e.g. it does not on x86_64 Linux).
> 
>> There are more problems with the R-Forge OS X builds (they don't 
>> perform clean checkouts so strange files can get caught up etc.), so 
>> currently I'd strongly recommend using type='source' for R-Forge 
>> packages.
> 
> And that will require you to install the gfortran from CRAN as well as 
> Xcode.
> 
>>
>> Cheers,
>> Simon
>>
>>
>>> So I think the problem is with one user's R installation, but this 
>>> was triggered by a difference in how the CRAN and R-forge builds of R 
>>> 2.8.0 were configured.
>>>
>>>>
>>>> Best regards,
>>>> Martin
>>>>
>>>>
>>>>
>>>>>>>>> "DA" == Dave Atkins <datkins at fuller.edu>
>>>>>>>>>   on Mon, 01 Dec 2008 11:39:18 -0800 writes:
>>>>
>>>>  DA> Douglas Bates wrote:
>>>>  >> Does
>>>>  >>
>>>>  >> library(Matrix)
>>>>  >>
>>>>  >> without any reference to lme4 work for you?
>>>>
>>>>  DA> No, if I start a fresh R session and call Matrix on its
>>>>  DA> own, I get:
>>>>
>>>>  >> library(Matrix)
>>>>  DA> Loading required package: lattice Error in
>>>>  DA> dyn.load(file, DLLpath = DLLpath, ...) : unable to load
>>>>  DA> shared library
>>>>  DA> 
>>>> '/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so': 
>>>>
>>>>
>>>>  DA> 
>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so, 
>>>>
>>>>  DA> 6): Library not loaded:
>>>>  DA> /usr/local/lib/libgfortran.2.dylib Referenced from:
>>>>  DA> 
>>>> /Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so 
>>>>
>>>>  DA> Reason: image not found Error: package/namespace load
>>>>  DA> failed for 'Matrix'
>>>>
>>>>  >> sessionInfo()
>>>>  DA> R version 2.8.0 (2008-10-20) i386-apple-darwin8.11.1
>>>>
>>>>  DA> locale:
>>>>  DA> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>>
>>>>  DA> attached base packages: [1] stats graphics grDevices
>>>>  DA> utils datasets methods base
>>>>
>>>>  DA> other attached packages: [1] lattice_0.17-17
>>>>
>>>>  DA> loaded via a namespace (and not attached): [1]
>>>>  DA> grid_2.8.0
>>>>  >>
>>>>
>>>> Any ideas?  Anything else I can pass along?
>>>>
>>>>  DA> thanks, Dave
>>>>
>>>>  >>
>>>>  >> The other person who was having difficulty loading the
>>>>  >> Matrix package on a Mac was able to resolve the problem
>>>>  >> although I forget the details of how it was resolved.
>>>>  >>
>>>>  >> The messages indicate that the problem is more with
>>>>  >> Matrix than with lme4.
>>>>  >>
>>>>  >> On Mon, Dec 1, 2008 at 12:26 PM, Dave Atkins
>>>>  >> <datkins at fuller.edu> wrote:
>>>>  >>> [whoops, first sent this from my current email, which
>>>>  >>> the listserv didn't recognize.  apologies if this comes
>>>>  >>> through twice.]
>>>>  >>
>>>>  >> And it did come through twice.  I read the messages in
>>>>  >> the wrong order and authorized the posting from the other
>>>>  >> address before reading this message.  Sorry for the extra
>>>>  >> noise.
>>>>  >>
>>>>  >>> Doug--
>>>>  >>>
>>>>  >>> You had inquired whether anyone else was having problems
>>>>  >>> with Matrix on a Mac... yep.  I am.  You'll see below
>>>>  >>> that I removed both lme4 and Matrix, re-install from
>>>>  >>> r-forge, but get an error msg.  sessionInfo() at bottom.
>>>>  >>>
>>>>  >>> Could someone point me to an earlier version of Matrix?
>>>>  >>> I don't believe I had this problem prior to the most
>>>>  >>> recent update.
>>>>  >>>
>>>>  >>> cheers, Dave
>>>>  >>>
>>>>  >>> Dave Atkins, PhD Research Associate Professor Center for
>>>>  >>> the Study of Health and Risk Behaviors Department of
>>>>  >>> Psychiatry and Behavioral Science 1100 NE 45th Street,
>>>>  >>> Suite 300 Seattle, WA 98105 206-616-3879
>>>>  >>> datkins at u.washington.edu
>>>>  >>>
>>>>  >>>
>>>>  >>>> remove.packages("Matrix")
>>>>  >>> Warning in remove.packages("Matrix") : argument 'lib' is
>>>>  >>> missing: using
>>>>  >>> /Library/Frameworks/R.framework/Resources/library
>>>>  >>>> remove.packages("lme4")
>>>>  >>> Warning in remove.packages("lme4") : argument 'lib' is
>>>>  >>> missing: using
>>>>  >>> /Library/Frameworks/R.framework/Resources/library
>>>>  >>>> install.packages("Matrix", repos =
>>>>  >>>> "http://r-forge.r-project.org")
>>>>  >>> trying URL
>>>>  >>> 
>>>> 'http://r-forge.r-project.org/bin/macosx/universal/contrib/2.8/Matrix_0.999375-17.tgz' 
>>>>
>>>>  >>> Content type 'application/x-gzip' length 2740286 bytes
>>>>  >>> (2.6 Mb) opened URL
>>>>  >>> ==================================================
>>>>  >>> downloaded 2.6 Mb
>>>>  >>>
>>>>  >>>
>>>>  >>> The downloaded packages are in
>>>>  >>>
>>>>  >>> 
>>>> /var/folders/eF/eFm91WFiEm8IX1HSzMCn4E+++TI/-Tmp-//RtmpVgGfBC/downloaded_packages 
>>>>
>>>>  >>>> install.packages("lme4", repos =
>>>>  >>>> "http://r-forge.r-project.org")
>>>>  >>> trying URL
>>>>  >>> 
>>>> 'http://r-forge.r-project.org/bin/macosx/universal/contrib/2.8/lme4_0.999375-27.tgz' 
>>>>
>>>>  >>> Content type 'application/x-gzip' length 913761 bytes
>>>>  >>> (892 Kb) opened URL
>>>>  >>> ==================================================
>>>>  >>> downloaded 892 Kb
>>>>  >>>
>>>>  >>>
>>>>  >>> The downloaded packages are in
>>>>  >>>
>>>>  >>> 
>>>> /var/folders/eF/eFm91WFiEm8IX1HSzMCn4E+++TI/-Tmp-//RtmpVgGfBC/downloaded_packages 
>>>>
>>>>  >>>> library(lme4)
>>>>  >>> Loading required package: Matrix Error in dyn.load(file,
>>>>  >>> DLLpath = DLLpath, ...) : unable to load shared library
>>>>  >>> 
>>>> '/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so': 
>>>>
>>>>  >>>
>>>>  >>> 
>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so, 
>>>>
>>>>  >>> 6): Library not loaded:
>>>>  >>> /usr/local/lib/libgfortran.2.dylib Referenced from:
>>>>  >>> 
>>>> /Library/Frameworks/R.framework/Resources/library/Matrix/libs/i386/Matrix.so 
>>>>
>>>>  >>> Reason: image not found Error: package 'Matrix' could
>>>>  >>> not be loaded
>>>>  >>>> sessionInfo()
>>>>  >>> R version 2.8.0 (2008-10-20) i386-apple-darwin8.11.1
>>>>  >>>
>>>>  >>> locale:
>>>>  >>> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>>  >>>
>>>>  >>> attached base packages: [1] stats graphics grDevices
>>>>  >>> utils datasets methods base
>>>>  >>>
>>>>  >>> other attached packages: [1] lattice_0.17-17
>>>>  >>>
>>>>  >>> loaded via a namespace (and not attached): [1]
>>>>  >>> grid_2.8.0 tools_2.8.0
>>>>  >>>
>>>>  >>> _______________________________________________
>>>>  >>> R-sig-mixed-models at r-project.org mailing list
>>>>  >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mixed-models
>>>>  >>>
>>>>  >>
>>>>
>>>> _______________________________________________
>>>>  DA> R-sig-mixed-models at r-project.org mailing list
>>>>  DA> https://stat.ethz.ch/mailman/listinfo/r-sig-mixed-models
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>> -- 
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
> 


From chatfield at alumni.rice.edu  Thu Dec  4 23:55:07 2008
From: chatfield at alumni.rice.edu (Robert Chatfield)
Date: Thu, 4 Dec 2008 14:55:07 -0800
Subject: [R-SIG-Mac] 'buggy' editor
Message-ID: <8D0A9A7C-9725-46B1-A9B1-2868279CF829@alumni.rice.edu>

Here are some specific requests (since they were solicited)!

I find the Macintosh R editor rather useful; it lacks certain features
of the emacs environment, but it is more intuitive.

These requests progress from desired bug-fixes (or "feature"  
alternatives) to
more general requests about interaction of the editor and the R  
Console window.
"Delete last output" as in ess would be my greatest desire.

(I am running R 2.7.2 GUI 1.25 (5217) on a Dual-Core Xeon, under  
10.4.11  (and 10.5.x)

(1) Anomalous behavior after locating a cursor for edit.
place the editor cursor at the end of a line, hit "return" and start  
typing.
The editor continues at the end of the line.  To emulate the normal
behavior, hit "return" _twice_    This differs from every other  
editor I know of.

(2) Need to set all fonts to standard.
When copying in code lines from examples, other editors, etc, the  
font of
the original window is retained.  This may be a desirable feature for  
some,
but a "Preference" to adopt the existing font and size should be easy to
implement.  I have no use for alternate fonts.

(3) Line numbers not readable:
On long code scripts, numbers over 999 are not readable (in some cases
 >101 seem a bit hard to read).

(4) "Marks" would be useful
In light of (3), and especially when adding and removing many lines
of code, "marks" a, b, c ... (or whatever) would help a lot.

(5) "Stop on Fail" ... It would be wonderful if the editor could stop
feeding commands after the first error (or, preference-setable, at
first warning).

(6) Evaluate and execute:  It would be wonderful to step through code
easily, line by line.

(7777) "Delete Last Output"
Last but definitely not least (perhaps first!), it would be extremely  
helpful
to remove the last output from the console.  (Becoming frustrated about
details, I just typed
 > names(OH.NO2.byday.gam$smooth)
NULL
 > OH.NO2.byday.gam$smooth

to understand an object (list) produced by mgcv's gam function.
Well, 5500 lines of output later, I regretted my willingness to learn.
Of  course, simple mistakes can also mess up a console log.
Often I keep edited console logs to record free-exploration sessions ...
and free-exploration of alternatives, possibilities, and errors in  
assumptions
is what R is all about, right?

keep up the good work !
regards, Bob Chatfield


From goedman at mac.com  Fri Dec  5 00:28:53 2008
From: goedman at mac.com (Rob Goedman)
Date: Thu, 04 Dec 2008 15:28:53 -0800
Subject: [R-SIG-Mac] 'buggy' editor
In-Reply-To: <8D0A9A7C-9725-46B1-A9B1-2868279CF829@alumni.rice.edu>
References: <8D0A9A7C-9725-46B1-A9B1-2868279CF829@alumni.rice.edu>
Message-ID: <57B11598-B336-4E57-AE3E-A50B8AA26DC4@mac.com>

Bob,

Have you tried to modify the Editor preferences? Maybe to 31.0 margin  
width for very long files?

Rob

On Dec 4, 2008, at 2:55 PM, Robert Chatfield wrote:

> Here are some specific requests (since they were solicited)!
>
> (3) Line numbers not readable:
> On long code scripts, numbers over 999 are not readable (in some cases
> >101 seem a bit hard to read).


From webmaster at xen.net  Mon Dec  8 00:43:36 2008
From: webmaster at xen.net ([Ricardo Rodriguez] Your XEN ICT Team)
Date: Mon, 08 Dec 2008 00:43:36 +0100
Subject: [R-SIG-Mac] [R-sig-Geo] examples
In-Reply-To: <8E3590214E4380489D2F8BF129B939F329D400@amsdc1-s-03371.europe.shell.com>
References: <8E3590214E4380489D2F8BF129B939F329D400@amsdc1-s-03371.europe.shell.com>
Message-ID: <493C5FA8.9080009@xen.net>

Oops! Thanks Wayne! I am afraid I've posted this same link in my 
previous message without realizing you have already done it! Sorry!

Cheers,

Ricardo

Wayne.W.Jones at shell.com wrote:
> Have a look at the CRAN task view for spatial statistics. 
> This gives a very good overview of what pakages are available for spatial statistics.
>
> See: 
> http://cran.r-project.org/web/views/Spatial.html
>
> Regards
>
> Wayne
>
>
> -----Original Message-----
> From: r-sig-geo-bounces at stat.math.ethz.ch
> [mailto:r-sig-geo-bounces at stat.math.ethz.ch]On Behalf Of [Ricardo
> Rodriguez] Your XEN ICT Team
> Sent: 22 November 2008 08:54
> To: r-sig-geo at stat.math.ethz.ch
> Subject: [R-sig-Geo] examples
>
>
> Hi all!
>
> I am just trying to show how R could be also an powerful tool in the
> sig-geo arena.
>
> Please, could anybody be so kind as to pointing to me to any nice free
> example out there? I've been some 3-D rendered surfaces here and there, 
> but I don't know where, if possible, could I find their data and code. 
> Thanks for your help!
>
> All the best,
>
> Ricardo
>
>   


-- 
Ricardo Rodr?guez
Your XEN ICT Team


From webmaster at xen.net  Mon Dec  8 00:44:07 2008
From: webmaster at xen.net ([Ricardo Rodriguez] Your XEN ICT Team)
Date: Mon, 08 Dec 2008 00:44:07 +0100
Subject: [R-SIG-Mac] [R-sig-Geo] examples
In-Reply-To: <4929E017.9060702@geo.uu.nl>
References: <4927C89A.60204@xen.net> <4929E017.9060702@geo.uu.nl>
Message-ID: <493C5FC7.7010700@xen.net>

Thanks Paul,

Paul Hiemstra wrote:
> Hi Ricardo,
>
> The sig-geo arena is quite a broad field, so it would help if you 
> could be more specific. Most packages include datasets that are used 
> in the example for that package. For the gstat package for example the 
> meuse dataset is included and the example code is listed in the 
> documentation of for example krige(). So install some packages (see 
> for example the Spatial Taskview for R) and try the demo command to 
> see what they can do.
>
> cheers,
> Paul
>
Sorry for being so unspecific. I had an opportunity to try to convince
other than R could help us with a number of different problems. Many of
them are right now just simple automatic cartography tasks. But working
in the right environment I am sure a huge amount of synergies could be
identified.

Please, let me post here this link that could be useful also for others
trying to go into R for spatial analysis.

http://cran.r-project.org/web/views/Spatial.html

Thanks for your help!

Ricardo

-- 
Ricardo Rodr?guez
Your XEN ICT Team


From gabraham at csse.unimelb.edu.au  Mon Dec  8 01:57:52 2008
From: gabraham at csse.unimelb.edu.au (Gad Abraham)
Date: Mon, 08 Dec 2008 11:57:52 +1100
Subject: [R-SIG-Mac] Lapack errors on Mac but not on Linux
Message-ID: <493C7110.2010800@csse.unimelb.edu.au>

Hi,

I'm running a regression in R 2.8.0 on some microarray data, and I'm 
getting an error from Lapack on OS X 10.5.5. Strangely, this doesn't 
happen on Ubuntu Intrepid Linux. Output from mac (data is 30MB file):

 > library(penalized)
Loading required package: survival
Loading required package: splines
 > load(url("http://www.csse.unimelb.edu.au/~gabraham/data7390.RData"))
 > y <- as.numeric(grp) - 1
 > p1 <- optL2(y, t(expr), model="logistic", fold=10)
lambda= 1 	cvl= -163.4474
lambda= 10 	cvl= -132.9067
lambda= 100 	cvl= -106.7209
lambda= 1000 	cvl= -89.36501
lambda= 10000 	cvl= -86.67437
lambda= 1e+05 	cvl= -91.18407
lambda= 38814.64 	cvl= -89.47968
lambda= 62185.36 	cvl= -90.40736
lambda= 24370.73 	cvl= -88.4695
lambda= 15443.91 	Error in qr.coef(qr(a, LAPACK = TRUE), b) :
   error code 191 from Lapack routine 'dtrtrs'
Error: Matrix inversion failed. Please increase lambda1 and/or lambda2
 > sessionInfo()
R version 2.8.0 (2008-10-20)
i386-apple-darwin8.11.1

locale:
en_AU.UTF-8/en_AU.UTF-8/C/C/en_AU.UTF-8/en_AU.UTF-8

attached base packages:
[1] splines   stats     graphics  grDevices utils     datasets  methods
[8] base

other attached packages:
[1] penalized_0.9-22 survival_2.34-1


As I said, on Ubuntu Intrepid, the same code works fine, using 
liblapack3gf version 3.1.1-0.4ubuntu1.


Is this an issue with the Apple-supplied Lapack?


Thanks,
Gad

-- 
Gad Abraham
Dept. CSSE and NICTA
The University of Melbourne
Parkville 3010, Victoria, Australia
email: gabraham at csse.unimelb.edu.au
web: http://www.csse.unimelb.edu.au/~gabraham


From ripley at stats.ox.ac.uk  Mon Dec  8 10:18:56 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 8 Dec 2008 09:18:56 +0000 (GMT)
Subject: [R-SIG-Mac] Lapack errors on Mac but not on Linux
In-Reply-To: <493C7110.2010800@csse.unimelb.edu.au>
References: <493C7110.2010800@csse.unimelb.edu.au>
Message-ID: <alpine.LFD.2.00.0812080802220.31865@gannet.stats.ox.ac.uk>

> Is this an issue with the Apple-supplied Lapack?

Or the Apple-supplied BLAS.

You have not told us how R was built on your machine, but if this was the 
CRAN build you have a choice of BLAS.  (See the list archives, but AFAIR, 
you can swap links between libRblas.0dylib and libRblas.veclib.dylib in 
/Library/Frameworks/R.framework/Resources/lib.)  (On that build AFAICS the 
Lapack used is the R one.)

I think your example is actually random (it uses 10-fold CV?) in which 
case that might have been the difference between machines.

With a lot of patience, I got the example to run on my own build which 
uses the recipe in the R-admin manual (veclib for both BLAS and LAPACK). 
With the CRAN build of R using libRblas.0.dylib, it ran for a lot longer 
than with libRblas.veclib.dylib, but eventually gave the same error.

On Mon, 8 Dec 2008, Gad Abraham wrote:

> Hi,
>
> I'm running a regression in R 2.8.0 on some microarray data, and I'm getting 
> an error from Lapack on OS X 10.5.5. Strangely, this doesn't happen on Ubuntu 
> Intrepid Linux. Output from mac (data is 30MB file):
>
>> library(penalized)
> Loading required package: survival
> Loading required package: splines
>> load(url("http://www.csse.unimelb.edu.au/~gabraham/data7390.RData"))

BTW, actually on www.cs.mu.oz.au, and curl (I tried to download on my Mac 
which does not have wget) doesn't follow redirects by default.

>> y <- as.numeric(grp) - 1
>> p1 <- optL2(y, t(expr), model="logistic", fold=10)
> lambda= 1 	cvl= -163.4474
> lambda= 10 	cvl= -132.9067
> lambda= 100 	cvl= -106.7209
> lambda= 1000 	cvl= -89.36501
> lambda= 10000 	cvl= -86.67437
> lambda= 1e+05 	cvl= -91.18407
> lambda= 38814.64 	cvl= -89.47968
> lambda= 62185.36 	cvl= -90.40736
> lambda= 24370.73 	cvl= -88.4695
> lambda= 15443.91 	Error in qr.coef(qr(a, LAPACK = TRUE), b) :
>  error code 191 from Lapack routine 'dtrtrs'
> Error: Matrix inversion failed. Please increase lambda1 and/or lambda2
>> sessionInfo()
> R version 2.8.0 (2008-10-20)
> i386-apple-darwin8.11.1
>
> locale:
> en_AU.UTF-8/en_AU.UTF-8/C/C/en_AU.UTF-8/en_AU.UTF-8
>
> attached base packages:
> [1] splines   stats     graphics  grDevices utils     datasets  methods
> [8] base
>
> other attached packages:
> [1] penalized_0.9-22 survival_2.34-1
>
>
> As I said, on Ubuntu Intrepid, the same code works fine, using liblapack3gf 
> version 3.1.1-0.4ubuntu1.
>
>
> Is this an issue with the Apple-supplied Lapack?
>
>
> Thanks,
> Gad
>
> -- 
> Gad Abraham
> Dept. CSSE and NICTA
> The University of Melbourne
> Parkville 3010, Victoria, Australia
> email: gabraham at csse.unimelb.edu.au
> web: http://www.csse.unimelb.edu.au/~gabraham
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From dwinsemius at comcast.net  Mon Dec  8 21:07:19 2008
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 8 Dec 2008 15:07:19 -0500
Subject: [R-SIG-Mac] Lapack errors on Mac but not on Linux
In-Reply-To: <alpine.LFD.2.00.0812080802220.31865@gannet.stats.ox.ac.uk>
References: <493C7110.2010800@csse.unimelb.edu.au>
	<alpine.LFD.2.00.0812080802220.31865@gannet.stats.ox.ac.uk>
Message-ID: <F812B337-95FB-4099-8BC4-6C3CDD8AB881@comcast.net>


Dear listeRs;

I have been using the CRAN repositories and building new packages from  
source using the GUI Package Installer. No real problems. Sometimes  
the dependencies are not entirely clear but reading the error messages  
has so far allowed me to build everything I have attempted except  
rattle, RGobi, and  Gtk2. Am I supposed to be able to see the binaries  
in the R.research.att.com repository? I get this message when  
attempting to use the "Other repository" choice with the default entry  
offered by the 64 bit R.app.

Warning: unable to access index for repository http://R.research.att.com/bin/macosx/universal/contrib/2.8

 > sessionInfo()
R version 2.8.0 Patched (2008-11-14 r46932)
i386-apple-darwin9.5.0

locale:
en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
  [1] stats4    splines   grid      stats     graphics  grDevices  
utils     datasets  methods   base

other attached packages:
  [1] boot_1.2-34        Design_2.1-2       Hmisc_3.4-4         
coin_1.0-0         vcd_1.2-0          colorspace_1.0-0
  [7] strucchange_1.3-4  sandwich_2.1-0     zoo_1.5-4           
mvtnorm_0.9-2      modeltools_0.2-16  survival_2.34-1
[13] mapproj_1.1-7.2    ggplot2_0.8        RColorBrewer_1.0-2  
proto_0.3-8        reshape_0.8.2      plyr_0.1.3
[19] maps_2.0-40        MASS_7.2-44

loaded via a namespace (and not attached):
[1] cluster_1.11.11 lattice_0.17-15 party_0.9-99    tools_2.8.0

Thank you for your time.

-- 
David Winsemius
Heritage Labs


From dwinsemius at comcast.net  Mon Dec  8 21:24:40 2008
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 8 Dec 2008 15:24:40 -0500
Subject: [R-SIG-Mac] Accessing repository at R.research.att.com (duplicate)
Message-ID: <6A79FC5E-9AB9-4E20-B79C-87E5A5955A6D@comcast.net>

Apologies for sending the earlier message to an existing thread. At  
the very least I should have changed hte subject line. If sending this  
is also the wrong way to correct that error, let me know.
-----------------
Dear listeRs;

I have been using the CRAN repositories and building new packages from  
source using the GUI Package Installer. No real problems. Sometimes  
the dependencies are not entirely clear but reading the error messages  
has so far allowed me to build everything I have attempted except  
rattle, RGobi, and  Gtk2. Am I supposed to be able to see the binaries  
in the R.research.att.com repository? I get this message when  
attempting to use the "Other repository" choice with the default entry  
offered by the 64 bit R.app.

Warning: unable to access index for repository http://R.research.att.com/bin/macosx/universal/contrib/2.8

 > sessionInfo()
R version 2.8.0 Patched (2008-11-14 r46932)
i386-apple-darwin9.5.0

locale:
en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats4    splines   grid      stats     graphics  grDevices  
utils     datasets  methods   base

other attached packages:
[1] boot_1.2-34        Design_2.1-2       Hmisc_3.4-4         
coin_1.0-0         vcd_1.2-0          colorspace_1.0-0
[7] strucchange_1.3-4  sandwich_2.1-0     zoo_1.5-4           
mvtnorm_0.9-2      modeltools_0.2-16 survival_2.34-1
[13] mapproj_1.1-7.2    ggplot2_0.8        RColorBrewer_1.0-2  
proto_0.3-8        reshape_0.8.2      plyr_0.1.3
[19] maps_2.0-40        MASS_7.2-44

loaded via a namespace (and not attached):
[1] cluster_1.11.11 lattice_0.17-15 party_0.9-99    tools_2.8.0

Thank you for your time.

-- 
David Winsemius
Heritage Labs


From khansen at stat.berkeley.edu  Tue Dec  9 03:54:34 2008
From: khansen at stat.berkeley.edu (Kasper Daniel Hansen)
Date: Mon, 8 Dec 2008 18:54:34 -0800
Subject: [R-SIG-Mac] using several versions in Library/Frameworks
	simultanouesly
Message-ID: <37F6D45E-C57E-4CA9-8E83-843A7789234E@stat.berkeley.edu>

I have two version of R installed in
   /Library/Frameworks
version 2.8 patched and version 2.9 (R-devel). I have compiled them  
myself. I know of Rswitch that allows me to switch (system-wide)  
between the two versions. But I want to be able to use the two  
versions at the same time, in different terminals (I am not using R.app)

I thought I could do this by making a symbolic link from my ~/Bin  
folder (I have added this folder to my path), but even though it seems  
to point to the right place (ok, something is wrong, so of course it  
is not "right"), it still picks up the wrong version

kasper-hansens-macbook:~/> which R-devel
/Users/khansen/Bin/R-devel
kasper-hansens-macbook:~/> ls -l Bin/R-devel
lrwxr-xr-x  1 khansen  staff    60B Nov 11 12:02 Bin/R-devel -> / 
Library/Frameworks/R.framework/Versions/2.9/Resources/bin/R
kasper-hansens-macbook:~/> R-devel --version
R version 2.8.0 Patched (2008-12-05 r47091)
Copyright (C) 2008 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

Right now my system wide R, according to Rswitch, is R-2.8.

What am I missing here? I know I can run R-devel if I just run it from  
the directory where I compiled it, so something seems to happen when I  
do make install.

Kasper


From gabraham at csse.unimelb.edu.au  Tue Dec  9 07:41:08 2008
From: gabraham at csse.unimelb.edu.au (Gad Abraham)
Date: Tue, 09 Dec 2008 17:41:08 +1100
Subject: [R-SIG-Mac] Lapack errors on Mac but not on Linux
In-Reply-To: <alpine.LFD.2.00.0812080802220.31865@gannet.stats.ox.ac.uk>
References: <493C7110.2010800@csse.unimelb.edu.au>
	<alpine.LFD.2.00.0812080802220.31865@gannet.stats.ox.ac.uk>
Message-ID: <493E1304.5050202@csse.unimelb.edu.au>

Prof Brian Ripley wrote:
>> Is this an issue with the Apple-supplied Lapack?
> 
> Or the Apple-supplied BLAS.
> 
> You have not told us how R was built on your machine, but if this was 
> the CRAN build you have a choice of BLAS.  (See the list archives, but 
> AFAIR, you can swap links between libRblas.0dylib and 
> libRblas.veclib.dylib in 
> /Library/Frameworks/R.framework/Resources/lib.)  (On that build AFAICS 
> the Lapack used is the R one.)

Both are from CRAN.

> 
> I think your example is actually random (it uses 10-fold CV?) in which 
> case that might have been the difference between machines.

I get consistent failures on Mac, and it works consistently on Linux.

> 
> With a lot of patience, I got the example to run on my own build which 
> uses the recipe in the R-admin manual (veclib for both BLAS and LAPACK). 
> With the CRAN build of R using libRblas.0.dylib, it ran for a lot longer 
> than with libRblas.veclib.dylib, but eventually gave the same error.
> 

For me, switching to libRblas.0.dylib seems to solve the problem, no 
more LAPACK errors. Is this a permanent solution? Will switching BLAS 
break anything in the Accelerate framework?

Thanks,
Gad


-- 
Gad Abraham
Dept. CSSE and NICTA
The University of Melbourne
Parkville 3010, Victoria, Australia
email: gabraham at csse.unimelb.edu.au
web: http://www.csse.unimelb.edu.au/~gabraham


From ripley at stats.ox.ac.uk  Tue Dec  9 08:22:40 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 9 Dec 2008 07:22:40 +0000 (GMT)
Subject: [R-SIG-Mac] Lapack errors on Mac but not on Linux
In-Reply-To: <493E1304.5050202@csse.unimelb.edu.au>
References: <493C7110.2010800@csse.unimelb.edu.au>
	<alpine.LFD.2.00.0812080802220.31865@gannet.stats.ox.ac.uk>
	<493E1304.5050202@csse.unimelb.edu.au>
Message-ID: <alpine.LFD.2.00.0812090720310.16819@gannet.stats.ox.ac.uk>

On Tue, 9 Dec 2008, Gad Abraham wrote:

> Prof Brian Ripley wrote:
>>> Is this an issue with the Apple-supplied Lapack?
>> 
>> Or the Apple-supplied BLAS.
>> 
>> You have not told us how R was built on your machine, but if this was the 
>> CRAN build you have a choice of BLAS.  (See the list archives, but AFAIR, 
>> you can swap links between libRblas.0dylib and libRblas.veclib.dylib in 
>> /Library/Frameworks/R.framework/Resources/lib.)  (On that build AFAICS the 
>> Lapack used is the R one.)
>
> Both are from CRAN.
>
>> 
>> I think your example is actually random (it uses 10-fold CV?) in which case 
>> that might have been the difference between machines.
>
> I get consistent failures on Mac, and it works consistently on Linux.
>
>> 
>> With a lot of patience, I got the example to run on my own build which uses 
>> the recipe in the R-admin manual (veclib for both BLAS and LAPACK). With 
>> the CRAN build of R using libRblas.0.dylib, it ran for a lot longer than 
>> with libRblas.veclib.dylib, but eventually gave the same error.
>> 
>
> For me, switching to libRblas.0.dylib seems to solve the problem, no more 
> LAPACK errors. Is this a permanent solution? Will switching BLAS break 
> anything in the Accelerate framework?

It is permanent.  See
http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#Which-BLAS-is-used-and-how-can-it-be-changed_003f



>
> Thanks,
> Gad
>
>
> -- 
> Gad Abraham
> Dept. CSSE and NICTA
> The University of Melbourne
> Parkville 3010, Victoria, Australia
> email: gabraham at csse.unimelb.edu.au
> web: http://www.csse.unimelb.edu.au/~gabraham
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From paboyoun at fhcrc.org  Tue Dec  9 18:31:43 2008
From: paboyoun at fhcrc.org (Patrick Aboyoun)
Date: Tue, 09 Dec 2008 09:31:43 -0800
Subject: [R-SIG-Mac] using several versions in
	Library/Frameworks	simultanouesly
In-Reply-To: <37F6D45E-C57E-4CA9-8E83-843A7789234E@stat.berkeley.edu>
References: <37F6D45E-C57E-4CA9-8E83-843A7789234E@stat.berkeley.edu>
Message-ID: <493EAB7F.3050400@fhcrc.org>

Kasper,
When I want to have multiple versions of R on my mac, I hand edit the R 
script to explicitly reference the version of R I want to use. My guess 
is that within your 
/Library/Frameworks/R.framework/Versions/2.9/Resources/bin/R file you 
have references to /Library/Frameworks/R.framework/Resources instead of 
/Library/Frameworks/R.framework/Versions/2.9/Resources and 
/Library/Frameworks/R.framework/Resources is a symbolic link to 
/Library/Frameworks/R.framework/Versions/2.8/Resources.


Patrick


Kasper Daniel Hansen wrote:
> I have two version of R installed in
>   /Library/Frameworks
> version 2.8 patched and version 2.9 (R-devel). I have compiled them 
> myself. I know of Rswitch that allows me to switch (system-wide) 
> between the two versions. But I want to be able to use the two 
> versions at the same time, in different terminals (I am not using R.app)
>
> I thought I could do this by making a symbolic link from my ~/Bin 
> folder (I have added this folder to my path), but even though it seems 
> to point to the right place (ok, something is wrong, so of course it 
> is not "right"), it still picks up the wrong version
>
> kasper-hansens-macbook:~/> which R-devel
> /Users/khansen/Bin/R-devel
> kasper-hansens-macbook:~/> ls -l Bin/R-devel
> lrwxr-xr-x  1 khansen  staff    60B Nov 11 12:02 Bin/R-devel -> 
> /Library/Frameworks/R.framework/Versions/2.9/Resources/bin/R
> kasper-hansens-macbook:~/> R-devel --version
> R version 2.8.0 Patched (2008-12-05 r47091)
> Copyright (C) 2008 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
>
> Right now my system wide R, according to Rswitch, is R-2.8.
>
> What am I missing here? I know I can run R-devel if I just run it from 
> the directory where I compiled it, so something seems to happen when I 
> do make install.
>
> Kasper
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From thatsanicehatyouhave at mac.com  Tue Dec  9 22:56:25 2008
From: thatsanicehatyouhave at mac.com (thatsanicehatyouhave at mac.com)
Date: Tue, 09 Dec 2008 16:56:25 -0500
Subject: [R-SIG-Mac] 'buggy' editor
In-Reply-To: <8D0A9A7C-9725-46B1-A9B1-2868279CF829@alumni.rice.edu>
References: <8D0A9A7C-9725-46B1-A9B1-2868279CF829@alumni.rice.edu>
Message-ID: <7586F09E-A97B-4489-80E9-4927883D6F23@mac.com>


On 4 Dec 2008, at 17:55, Robert Chatfield wrote:

> (1) Anomalous behavior after locating a cursor for edit.
> place the editor cursor at the end of a line, hit "return" and start  
> typing.
> The editor continues at the end of the line.  To emulate the normal
> behavior, hit "return" _twice_    This differs from every other  
> editor I know of.

I've not seen this behaviour. I noticed that you are not running the  
latest version of R though - you might try upgrading (R 2.8.0 GUI 1.26  
(5256)).

> (2) Need to set all fonts to standard.
> When copying in code lines from examples, other editors, etc, the  
> font of
> the original window is retained.  This may be a desirable feature  
> for some,
> but a "Preference" to adopt the existing font and size should be  
> easy to
> implement.  I have no use for alternate fonts.

I think the standard Mac way would be to implement "Paste and Match  
Style" in the Edit menu rather than introduce a new preference.

> (3) Line numbers not readable:
> On long code scripts, numbers over 999 are not readable (in some cases
> >101 seem a bit hard to read).

It would be nice if the editor made this adjustment (mentioned by Rob  
Goedman) automatically.

> (4) "Marks" would be useful
> In light of (3), and especially when adding and removing many lines
> of code, "marks" a, b, c ... (or whatever) would help a lot.

Are you sure you don't want to just use something like Aquamacs or  
TextMate as an external editor?

http://aquamacs.org/

> (6) Evaluate and execute:  It would be wonderful to step through code
> easily, line by line.

Do you mean execute lines one at a time? You can hit command-return to  
execute only the line the cursor is on.

> Well, 5500 lines of output later, I regretted my willingness to learn.
> Of  course, simple mistakes can also mess up a console log.

This would be very handy - this happens to me every once in a while  
and it is annoying. Of course it's my fault, but it's annoying  
nonetheless.

Cheers,

Demitri


From gabraham at csse.unimelb.edu.au  Thu Dec 11 00:49:04 2008
From: gabraham at csse.unimelb.edu.au (Gad Abraham)
Date: Thu, 11 Dec 2008 10:49:04 +1100
Subject: [R-SIG-Mac] Lapack errors on Mac but not on Linux
In-Reply-To: <alpine.LFD.2.00.0812090720310.16819@gannet.stats.ox.ac.uk>
References: <493C7110.2010800@csse.unimelb.edu.au>
	<alpine.LFD.2.00.0812080802220.31865@gannet.stats.ox.ac.uk>
	<493E1304.5050202@csse.unimelb.edu.au>
	<alpine.LFD.2.00.0812090720310.16819@gannet.stats.ox.ac.uk>
Message-ID: <49405570.1070409@csse.unimelb.edu.au>

Prof Brian Ripley wrote:
> On Tue, 9 Dec 2008, Gad Abraham wrote:
> 
>> Prof Brian Ripley wrote:
>>>> Is this an issue with the Apple-supplied Lapack?
>>>
>>> Or the Apple-supplied BLAS.
>>>
>>> You have not told us how R was built on your machine, but if this was 
>>> the CRAN build you have a choice of BLAS.  (See the list archives, 
>>> but AFAIR, you can swap links between libRblas.0dylib and 
>>> libRblas.veclib.dylib in 
>>> /Library/Frameworks/R.framework/Resources/lib.)  (On that build 
>>> AFAICS the Lapack used is the R one.)
>>
>> Both are from CRAN.
>>
>>>
>>> I think your example is actually random (it uses 10-fold CV?) in 
>>> which case that might have been the difference between machines.
>>
>> I get consistent failures on Mac, and it works consistently on Linux.
>>
>>>
>>> With a lot of patience, I got the example to run on my own build 
>>> which uses the recipe in the R-admin manual (veclib for both BLAS and 
>>> LAPACK). With the CRAN build of R using libRblas.0.dylib, it ran for 
>>> a lot longer than with libRblas.veclib.dylib, but eventually gave the 
>>> same error.
>>>
>>
>> For me, switching to libRblas.0.dylib seems to solve the problem, no 
>> more LAPACK errors. Is this a permanent solution? Will switching BLAS 
>> break anything in the Accelerate framework?
> 
> It is permanent.  See
> http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#Which-BLAS-is-used-and-how-can-it-be-changed_003f 

Thanks.


-- 
Gad Abraham
Dept. CSSE and NICTA
The University of Melbourne
Parkville 3010, Victoria, Australia
email: gabraham at csse.unimelb.edu.au
web: http://www.csse.unimelb.edu.au/~gabraham


From khansen at stat.berkeley.edu  Thu Dec 11 05:54:34 2008
From: khansen at stat.berkeley.edu (Kasper Daniel Hansen)
Date: Wed, 10 Dec 2008 20:54:34 -0800
Subject: [R-SIG-Mac] using several versions in
	Library/Frameworks	simultanouesly
In-Reply-To: <493EAB7F.3050400@fhcrc.org>
References: <37F6D45E-C57E-4CA9-8E83-843A7789234E@stat.berkeley.edu>
	<493EAB7F.3050400@fhcrc.org>
Message-ID: <C6500A0A-D15F-44F6-9B1A-40F7179886C4@stat.berkeley.edu>

Thanks a lot Patrick, I have now had some time to play with this in  
detail, and have compiled the script I have replicated below. I run  
that script post every make install I do.

I am slightly baffled by why R.framework/Resources is hardcoded into  
the file
    /Library/Frameworks/R.framework/Versions/2.9/Resources/bin/R
and why it is not R.framework/Versions/2.9/Resources

I see no reason not to. The R in /usr/bin links to
ls -l /usr/bin/R
lrwxr-xr-x  1 root  wheel    47B Jul  2 11:13 /usr/bin/R -> /Library/ 
Frameworks/R.framework/Resources/bin/R

but /Library/Frameworks/R.framework/Resources is already a symlink to / 
Library/Frameworks/R.framework/Versions/Current

If this is changes, one should be able to switch between R versions  
just by changing the symlink in Versions/Current as far as I can see  
(but there is probably something I have missed). Something might need  
to be done for Rscript as well.

This would certainly make it easier for me, and also slightly more  
logical as I see it (but I am happy to be educated). Unfortunately I  
don't think I can provide a patch to the configure script

Comments?

Kasper


#!/bin/bash
sudo ln -f -s /Library/Frameworks/R.framework/Versions/2.8/Resources/ 
R /usr/bin/R-2.8
sudo ln -f -s /Library/Frameworks/R.framework/Versions/2.8/Resources/ 
Rscript /usr/bin/Rscript-2.8
sudo ln -f -s /Library/Frameworks/R.framework/Versions/2.9/Resources/ 
R /usr/bin/R-devel
sudo ln -f -s /Library/Frameworks/R.framework/Versions/2.9/Resources/ 
Rscript /usr/bin/Rscript-devel
sudo rm /Library/Frameworks/R.framework/Versions/Current
sudo ln -f -s /Library/Frameworks/R.framework/Versions/2.8 /Library/ 
Frameworks/R.framework/Versions/Current
sudo sed -i tmp "s|R.framework/Resources|R.framework/Versions/2.8/ 
Resources|" /Library/Frameworks/R.framework/Versions/2.8/Resources/bin/R
sudo sed -i tmp "s|R.framework/Resources|R.framework/Versions/2.9/ 
Resources|" /Library/Frameworks/R.framework/Versions/2.9/Resources/bin/R


On Dec 9, 2008, at 9:31 , Patrick Aboyoun wrote:

> Kasper,
> When I want to have multiple versions of R on my mac, I hand edit  
> the R script to explicitly reference the version of R I want to use.  
> My guess is that within your /Library/Frameworks/R.framework/ 
> Versions/2.9/Resources/bin/R file you have references to /Library/ 
> Frameworks/R.framework/Resources instead of /Library/Frameworks/ 
> R.framework/Versions/2.9/Resources and /Library/Frameworks/ 
> R.framework/Resources is a symbolic link to /Library/Frameworks/ 
> R.framework/Versions/2.8/Resources.
>
>
> Patrick
>
>
> Kasper Daniel Hansen wrote:
>> I have two version of R installed in
>>  /Library/Frameworks
>> version 2.8 patched and version 2.9 (R-devel). I have compiled them  
>> myself. I know of Rswitch that allows me to switch (system-wide)  
>> between the two versions. But I want to be able to use the two  
>> versions at the same time, in different terminals (I am not using  
>> R.app)
>>
>> I thought I could do this by making a symbolic link from my ~/Bin  
>> folder (I have added this folder to my path), but even though it  
>> seems to point to the right place (ok, something is wrong, so of  
>> course it is not "right"), it still picks up the wrong version
>>
>> kasper-hansens-macbook:~/> which R-devel
>> /Users/khansen/Bin/R-devel
>> kasper-hansens-macbook:~/> ls -l Bin/R-devel
>> lrwxr-xr-x  1 khansen  staff    60B Nov 11 12:02 Bin/R-devel -> / 
>> Library/Frameworks/R.framework/Versions/2.9/Resources/bin/R
>> kasper-hansens-macbook:~/> R-devel --version
>> R version 2.8.0 Patched (2008-12-05 r47091)
>> Copyright (C) 2008 The R Foundation for Statistical Computing
>> ISBN 3-900051-07-0
>>
>> Right now my system wide R, according to Rswitch, is R-2.8.
>>
>> What am I missing here? I know I can run R-devel if I just run it  
>> from the directory where I compiled it, so something seems to  
>> happen when I do make install.
>>
>> Kasper
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From cddesjardins at gmail.com  Sat Dec 13 16:43:53 2008
From: cddesjardins at gmail.com (Christopher David Desjardins)
Date: Sat, 13 Dec 2008 09:43:53 -0600
Subject: [R-SIG-Mac] lme4 fails to load in R GUI 2.8.0
In-Reply-To: <EC064837-82B3-4FA4-812A-9252D4EDB07C@r-project.org>
References: <98575960-2B5E-49D2-A9B3-88FD4BD431CC@gmail.com>
	<813519C3-9E98-4652-A7F8-B90C45AA9190@r-project.org>
	<2A17E06E-EC2F-4A06-98EA-389604132EE3@gmail.com>
	<41736BB3-9081-47CE-A172-27CE8CFDEEC6@r-project.org>
	<72A6BD3B-F1C4-4E6F-8A36-5AFD2E150917@gmail.com>
	<EC064837-82B3-4FA4-812A-9252D4EDB07C@r-project.org>
Message-ID: <12217A2D-3A8C-4A49-942F-46D297C6A588@gmail.com>

It was suggested to update my lme4 package to the lastest version at  
CRAN.  After installing it I get the following error:

 > library(lme4)
Error in dyn.load(file, DLLpath = DLLpath, ...) :
function 'cholmod_start' not provided by package 'Matrix'
Error: package/namespace load failed for 'lme4'

Searching on the internet it seems someone had the same error and  
downgrade their Matrix from *-17 to *-16 except that I can't find a  
binary for 2.8 for Matrix anywhere.

Thanks,
Chris




On Nov 19, 2008, at 2:28 PM, Simon Urbanek wrote:

>
> On Nov 19, 2008, at 15:07 , Christopher David Desjardins wrote:
>
>> Thanks.  What I am still a bit confused about is why it loads in  
>> Aquamacs and from Terminal but not from R.app GUI.  This still  
>> seems like a bit of a mystery to me.
>>
>
> Because you have set different library paths in each.  
> Check .libPaths() as I was suggesting in the first e-mail.
>
> Cheers
> S
>
>
>>
>> On Nov 19, 2008, at 8:34 AM, Simon Urbanek wrote:
>>
>>>
>>> On Nov 18, 2008, at 22:30 , Christopher David Desjardins wrote:
>>>
>>>> Am I correct in thinking then that's it this old version of lme4  
>>>> that I have installed?  This version is from 14 October 2007 but  
>>>> I need this specific version for a course I'm taking.
>>>
>>> Yes, it appears so. You cannot use such an old version (binary)  
>>> with the current R. For the course it should not matter which  
>>> version you are using.
>>> If you feel brave, you can try to compile the old version from  
>>> sources in the new R (download the source .tar.gz file and use R  
>>> CMD INSTALL to install it). It may not work because old versions  
>>> are not designed to work in new R versions, but you can try your  
>>> luck if you really can't live with the new version.
>>>
>>> Cheers,
>>> S
>>>
>>>
>>>>
>>>> On Nov 18, 2008, at 8:23 PM, Simon Urbanek wrote:
>>>>
>>>>> You are picking up a very ancient binary for R 2.5.0 (as you can  
>>>>> see from the error). Check your .libPath() for old package  
>>>>> binaries and remove/reinstall them.
>>>>>
>>>>> Cheers,
>>>>> S
>>>>>
>>>>> On Nov 18, 2008, at 8:37 PM, Christopher David Desjardins wrote:
>>>>>
>>>>>> When I try to load lme4 on R (2.8.0) in the R GUI for Mac OS X,  
>>>>>> I get the following warnings and errors ...
>>>>>>
>>>>>> > library(lme4)
>>>>>> Loading required package: Matrix
>>>>>> Loading required package: lattice
>>>>>>
>>>>>> Attaching package: 'Matrix'
>>>>>>
>>>>>>
>>>>>> 	The following object(s) are masked from package:stats :
>>>>>>
>>>>>> 	 xtabs
>>>>>>
>>>>>>
>>>>>> 	The following object(s) are masked from package:base :
>>>>>>
>>>>>> 	 colMeans,
>>>>>> 	 colSums,
>>>>>> 	 rcond,
>>>>>> 	 rowMeans,
>>>>>> 	 rowSums
>>>>>>
>>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>> unable to load shared library '/Library/Frameworks/R.framework/ 
>>>>>> Resources/library/lme4/libs/i386/lme4.so':
>>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/lme4/ 
>>>>>> libs/i386/lme4.so, 6): Library not loaded: /Library/Frameworks/ 
>>>>>> R.framework/Versions/2.5/Resources/lib/libRlapack.dylib
>>>>>> Referenced from: /Library/Frameworks/R.framework/Resources/ 
>>>>>> library/lme4/libs/i386/lme4.so
>>>>>> Reason: image not found
>>>>>> In addition: Warning messages:
>>>>>> 1: In namespaceImportFrom(self, asNamespace(ns)) :
>>>>>> replacing previous import: cov2cor
>>>>>> 2: In namespaceImportFrom(self, asNamespace(ns)) :
>>>>>> replacing previous import: update
>>>>>> 3: In namespaceImportFrom(self, asNamespace(ns)) :
>>>>>> replacing previous import: xtabs
>>>>>> Error: package/namespace load failed for 'lme4'
>>>>>>
>>>>>> However, I can properly load lme4 from Aquamacs via ESS and  
>>>>>> from Terminal.  I get the same warnings just not the dyn.load()  
>>>>>> error.
>>>>>>
>>>>>> Does anyone know what I need to do?
>>>>>>
>>>>>> Thanks,
>>>>>> Chris
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>>
>>>>>
>>>>
>>>>
>>>
>>
>>
>


From ripley at stats.ox.ac.uk  Sat Dec 13 17:09:21 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 13 Dec 2008 16:09:21 +0000 (GMT)
Subject: [R-SIG-Mac] lme4 fails to load in R GUI 2.8.0
In-Reply-To: <12217A2D-3A8C-4A49-942F-46D297C6A588@gmail.com>
References: <98575960-2B5E-49D2-A9B3-88FD4BD431CC@gmail.com>
	<813519C3-9E98-4652-A7F8-B90C45AA9190@r-project.org>
	<2A17E06E-EC2F-4A06-98EA-389604132EE3@gmail.com>
	<41736BB3-9081-47CE-A172-27CE8CFDEEC6@r-project.org>
	<72A6BD3B-F1C4-4E6F-8A36-5AFD2E150917@gmail.com>
	<EC064837-82B3-4FA4-812A-9252D4EDB07C@r-project.org>
	<12217A2D-3A8C-4A49-942F-46D297C6A588@gmail.com>
Message-ID: <alpine.LFD.2.00.0812131547370.15227@gannet.stats.ox.ac.uk>

On Sat, 13 Dec 2008, Christopher David Desjardins wrote:

> It was suggested to update my lme4 package to the lastest version at CRAN. 
> After installing it I get the following error:
>
>> library(lme4)
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
> function 'cholmod_start' not provided by package 'Matrix'
> Error: package/namespace load failed for 'lme4'
>
> Searching on the internet it seems someone had the same error

with an unreleased R-forge version, I believe, but it is basic good 
practice to give a URL for such comments.

> and downgrade their Matrix from *-17 to *-16 except that I can't find a 
> binary for 2.8 for Matrix anywhere.

This is a known problem (as of a couple of days ago when -17 was 
released).  The binary of lme4 needs to be rebuilt -- I have already 
suggested that a new version be released urgently so that this happens 
automatically.  AFAIK Simon is in Japan for another week, so most likely 
this will not happen unless the Matrix/lme4 authors do help out.

[More verbosely, the new version of Matrix has changed the C-level 
entrypoint names and requires that lme4 be re-compiled against the new 
version of Matrix.  This was not announced, and apparently unknown to the 
Matrix authors.]

The only option I can offer is to install lme4 from the sources.  Because 
the CRAN R build has special features (static Fortran, particular BLAS 
struture, special location for libgcc_s ...), even if I or someone else 
builds lme4 for you it is unlikely to work on your machine.  (Again, I've 
asked for this to be documented so others can produce distributable 
binary packages.)

To everyone else using binary packages I suggest not updating Matrix until 
you see an lme update offered.

(Copying Uwe Ligges because the same thing will happen on Windows: and 
bumping the lme4 number will be needed to ensure that update.packages() 
gets the new version.)

>
> Thanks,
> Chris
>
>
>
>
> On Nov 19, 2008, at 2:28 PM, Simon Urbanek wrote:
>
>> 
>> On Nov 19, 2008, at 15:07 , Christopher David Desjardins wrote:
>> 
>>> Thanks.  What I am still a bit confused about is why it loads in Aquamacs 
>>> and from Terminal but not from R.app GUI.  This still seems like a bit of 
>>> a mystery to me.
>>> 
>> 
>> Because you have set different library paths in each. Check .libPaths() as 
>> I was suggesting in the first e-mail.
>> 
>> Cheers
>> S
>> 
>> 
>>> 
>>> On Nov 19, 2008, at 8:34 AM, Simon Urbanek wrote:
>>> 
>>>> 
>>>> On Nov 18, 2008, at 22:30 , Christopher David Desjardins wrote:
>>>> 
>>>>> Am I correct in thinking then that's it this old version of lme4 that I 
>>>>> have installed?  This version is from 14 October 2007 but I need this 
>>>>> specific version for a course I'm taking.
>>>> 
>>>> Yes, it appears so. You cannot use such an old version (binary) with the 
>>>> current R. For the course it should not matter which version you are 
>>>> using.
>>>> If you feel brave, you can try to compile the old version from sources in 
>>>> the new R (download the source .tar.gz file and use R CMD INSTALL to 
>>>> install it). It may not work because old versions are not designed to 
>>>> work in new R versions, but you can try your luck if you really can't 
>>>> live with the new version.
>>>> 
>>>> Cheers,
>>>> S
>>>> 
>>>> 
>>>>> 
>>>>> On Nov 18, 2008, at 8:23 PM, Simon Urbanek wrote:
>>>>> 
>>>>>> You are picking up a very ancient binary for R 2.5.0 (as you can see 
>>>>>> from the error). Check your .libPath() for old package binaries and 
>>>>>> remove/reinstall them.
>>>>>> 
>>>>>> Cheers,
>>>>>> S
>>>>>> 
>>>>>> On Nov 18, 2008, at 8:37 PM, Christopher David Desjardins wrote:
>>>>>> 
>>>>>>> When I try to load lme4 on R (2.8.0) in the R GUI for Mac OS X, I get 
>>>>>>> the following warnings and errors ...
>>>>>>> 
>>>>>>>> library(lme4)
>>>>>>> Loading required package: Matrix
>>>>>>> Loading required package: lattice
>>>>>>> 
>>>>>>> Attaching package: 'Matrix'
>>>>>>> 
>>>>>>>
>>>>>>> 	The following object(s) are masked from package:stats :
>>>>>>>
>>>>>>> 	 xtabs
>>>>>>> 
>>>>>>>
>>>>>>> 	The following object(s) are masked from package:base :
>>>>>>>
>>>>>>> 	 colMeans,
>>>>>>> 	 colSums,
>>>>>>> 	 rcond,
>>>>>>> 	 rowMeans,
>>>>>>> 	 rowSums
>>>>>>> 
>>>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>>> unable to load shared library 
>>>>>>> '/Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so':
>>>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so, 
>>>>>>> 6): Library not loaded: 
>>>>>>> /Library/Frameworks/R.framework/Versions/2.5/Resources/lib/libRlapack.dylib
>>>>>>> Referenced from: 
>>>>>>> /Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so
>>>>>>> Reason: image not found
>>>>>>> In addition: Warning messages:
>>>>>>> 1: In namespaceImportFrom(self, asNamespace(ns)) :
>>>>>>> replacing previous import: cov2cor
>>>>>>> 2: In namespaceImportFrom(self, asNamespace(ns)) :
>>>>>>> replacing previous import: update
>>>>>>> 3: In namespaceImportFrom(self, asNamespace(ns)) :
>>>>>>> replacing previous import: xtabs
>>>>>>> Error: package/namespace load failed for 'lme4'
>>>>>>> 
>>>>>>> However, I can properly load lme4 from Aquamacs via ESS and from 
>>>>>>> Terminal.  I get the same warnings just not the dyn.load() error.
>>>>>>> 
>>>>>>> Does anyone know what I need to do?
>>>>>>> 
>>>>>>> Thanks,
>>>>>>> Chris
>>>>>>> 
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>> 
>>>>>>> 
>>>>>> 
>>>>> 
>>>>> 
>>>> 
>>> 
>>> 
>> 
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From cddesjardins at gmail.com  Tue Dec 16 22:30:23 2008
From: cddesjardins at gmail.com (Christopher Desjardins)
Date: Tue, 16 Dec 2008 15:30:23 -0600
Subject: [R-SIG-Mac] lme4 fails to load in R GUI 2.8.0
In-Reply-To: <alpine.LFD.2.00.0812131547370.15227@gannet.stats.ox.ac.uk>
References: <98575960-2B5E-49D2-A9B3-88FD4BD431CC@gmail.com>
	<813519C3-9E98-4652-A7F8-B90C45AA9190@r-project.org>
	<2A17E06E-EC2F-4A06-98EA-389604132EE3@gmail.com>
	<41736BB3-9081-47CE-A172-27CE8CFDEEC6@r-project.org>
	<72A6BD3B-F1C4-4E6F-8A36-5AFD2E150917@gmail.com>
	<EC064837-82B3-4FA4-812A-9252D4EDB07C@r-project.org>
	<12217A2D-3A8C-4A49-942F-46D297C6A588@gmail.com>
	<alpine.LFD.2.00.0812131547370.15227@gannet.stats.ox.ac.uk>
Message-ID: <b968b9650812161330k748569end11167ea4e31cc29@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20081216/474d1b9e/attachment.pl>

From ripley at stats.ox.ac.uk  Wed Dec 17 00:35:37 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 16 Dec 2008 23:35:37 +0000 (GMT)
Subject: [R-SIG-Mac] lme4 fails to load in R GUI 2.8.0
In-Reply-To: <3f1d2410812161335v2ef5b944w42c0759c58d7a32c@mail.gmail.com>
References: <98575960-2B5E-49D2-A9B3-88FD4BD431CC@gmail.com>
	<813519C3-9E98-4652-A7F8-B90C45AA9190@r-project.org>
	<2A17E06E-EC2F-4A06-98EA-389604132EE3@gmail.com>
	<41736BB3-9081-47CE-A172-27CE8CFDEEC6@r-project.org>
	<72A6BD3B-F1C4-4E6F-8A36-5AFD2E150917@gmail.com>
	<EC064837-82B3-4FA4-812A-9252D4EDB07C@r-project.org>
	<12217A2D-3A8C-4A49-942F-46D297C6A588@gmail.com>
	<alpine.LFD.2.00.0812131547370.15227@gannet.stats.ox.ac.uk>
	<b968b9650812161330k748569end11167ea4e31cc29@mail.gmail.com>
	<3f1d2410812161335v2ef5b944w42c0759c58d7a32c@mail.gmail.com>
Message-ID: <alpine.LFD.2.00.0812162304140.31513@gannet.stats.ox.ac.uk>

Unfortunately it looks like the automated build of -28 failed, since 
other updates of the same time period are now on CRAN.  I noticed that -27 
failed on the CRAN daily check page

http://www.r-project.org/nosvn/R.check/r-release-macosx-ix86/lme4-00check.html

and I am seeing the same error with the CRAN binary of 2.8.0 and the CRAN 
build of Matrix when I try R CMD check on the lme4...-28 sources.

If you build from the sources you should get a usable version, even if it 
fails one of the tests.


On Tue, 16 Dec 2008, Martin Maechler wrote:

> Yes, this new lme4 package should solve your problem.
> However, you could have removed lme4 and re-installed it even with the
> previous version  (as Prof. Ripley suggested I think).
>
> Martin
>
> On Tue, Dec 16, 2008 at 22:30, Christopher Desjardins
> <cddesjardins at gmail.com> wrote:
>> It looks like there is a new lme4 package (-28) that was released on the
>> 13th.  When this gets built I'd be happy to test it on R 2.8.0 as the
>> current version is at -27.
>>
>> Thanks!
>> Chris
>>
>> On Sat, Dec 13, 2008 at 10:09 AM, Prof Brian Ripley
>> <ripley at stats.ox.ac.uk>wrote:
>>
>>> On Sat, 13 Dec 2008, Christopher David Desjardins wrote:
>>>
>>>  It was suggested to update my lme4 package to the lastest version at CRAN.
>>>> After installing it I get the following error:
>>>>
>>>>  library(lme4)
>>>>>
>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>> function 'cholmod_start' not provided by package 'Matrix'
>>>> Error: package/namespace load failed for 'lme4'
>>>>
>>>> Searching on the internet it seems someone had the same error
>>>>
>>>
>>> with an unreleased R-forge version, I believe, but it is basic good
>>> practice to give a URL for such comments.
>>>
>>>  and downgrade their Matrix from *-17 to *-16 except that I can't find a
>>>> binary for 2.8 for Matrix anywhere.
>>>>
>>>
>>> This is a known problem (as of a couple of days ago when -17 was released).
>>>  The binary of lme4 needs to be rebuilt -- I have already suggested that a
>>> new version be released urgently so that this happens automatically.  AFAIK
>>> Simon is in Japan for another week, so most likely this will not happen
>>> unless the Matrix/lme4 authors do help out.
>>>
>>> [More verbosely, the new version of Matrix has changed the C-level
>>> entrypoint names and requires that lme4 be re-compiled against the new
>>> version of Matrix.  This was not announced, and apparently unknown to the
>>> Matrix authors.]
>>>
>>> The only option I can offer is to install lme4 from the sources.  Because
>>> the CRAN R build has special features (static Fortran, particular BLAS
>>> struture, special location for libgcc_s ...), even if I or someone else
>>> builds lme4 for you it is unlikely to work on your machine.  (Again, I've
>>> asked for this to be documented so others can produce distributable binary
>>> packages.)
>>>
>>> To everyone else using binary packages I suggest not updating Matrix until
>>> you see an lme update offered.
>>>
>>> (Copying Uwe Ligges because the same thing will happen on Windows: and
>>> bumping the lme4 number will be needed to ensure that update.packages() gets
>>> the new version.)
>>>
>>>
>>>
>>>> Thanks,
>>>> Chris
>>>>
>>>>
>>>>
>>>>
>>>> On Nov 19, 2008, at 2:28 PM, Simon Urbanek wrote:
>>>>
>>>>
>>>>> On Nov 19, 2008, at 15:07 , Christopher David Desjardins wrote:
>>>>>
>>>>>  Thanks.  What I am still a bit confused about is why it loads in
>>>>>> Aquamacs and from Terminal but not from R.app GUI.  This still seems like a
>>>>>> bit of a mystery to me.
>>>>>>
>>>>>>
>>>>> Because you have set different library paths in each. Check .libPaths()
>>>>> as I was suggesting in the first e-mail.
>>>>>
>>>>> Cheers
>>>>> S
>>>>>
>>>>>
>>>>>
>>>>>> On Nov 19, 2008, at 8:34 AM, Simon Urbanek wrote:
>>>>>>
>>>>>>
>>>>>>> On Nov 18, 2008, at 22:30 , Christopher David Desjardins wrote:
>>>>>>>
>>>>>>>  Am I correct in thinking then that's it this old version of lme4 that
>>>>>>>> I have installed?  This version is from 14 October 2007 but I need this
>>>>>>>> specific version for a course I'm taking.
>>>>>>>>
>>>>>>>
>>>>>>> Yes, it appears so. You cannot use such an old version (binary) with
>>>>>>> the current R. For the course it should not matter which version you are
>>>>>>> using.
>>>>>>> If you feel brave, you can try to compile the old version from sources
>>>>>>> in the new R (download the source .tar.gz file and use R CMD INSTALL to
>>>>>>> install it). It may not work because old versions are not designed to work
>>>>>>> in new R versions, but you can try your luck if you really can't live with
>>>>>>> the new version.
>>>>>>>
>>>>>>> Cheers,
>>>>>>> S
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>> On Nov 18, 2008, at 8:23 PM, Simon Urbanek wrote:
>>>>>>>>
>>>>>>>>  You are picking up a very ancient binary for R 2.5.0 (as you can see
>>>>>>>>> from the error). Check your .libPath() for old package binaries and
>>>>>>>>> remove/reinstall them.
>>>>>>>>>
>>>>>>>>> Cheers,
>>>>>>>>> S
>>>>>>>>>
>>>>>>>>> On Nov 18, 2008, at 8:37 PM, Christopher David Desjardins wrote:
>>>>>>>>>
>>>>>>>>>  When I try to load lme4 on R (2.8.0) in the R GUI for Mac OS X, I
>>>>>>>>>> get the following warnings and errors ...
>>>>>>>>>>
>>>>>>>>>>  library(lme4)
>>>>>>>>>>>
>>>>>>>>>> Loading required package: Matrix
>>>>>>>>>> Loading required package: lattice
>>>>>>>>>>
>>>>>>>>>> Attaching package: 'Matrix'
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>        The following object(s) are masked from package:stats :
>>>>>>>>>>
>>>>>>>>>>         xtabs
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>        The following object(s) are masked from package:base :
>>>>>>>>>>
>>>>>>>>>>         colMeans,
>>>>>>>>>>         colSums,
>>>>>>>>>>         rcond,
>>>>>>>>>>         rowMeans,
>>>>>>>>>>         rowSums
>>>>>>>>>>
>>>>>>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>>>>>> unable to load shared library
>>>>>>>>>> '/Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so':
>>>>>>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so,
>>>>>>>>>> 6): Library not loaded:
>>>>>>>>>> /Library/Frameworks/R.framework/Versions/2.5/Resources/lib/libRlapack.dylib
>>>>>>>>>> Referenced from:
>>>>>>>>>> /Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so
>>>>>>>>>> Reason: image not found
>>>>>>>>>> In addition: Warning messages:
>>>>>>>>>> 1: In namespaceImportFrom(self, asNamespace(ns)) :
>>>>>>>>>> replacing previous import: cov2cor
>>>>>>>>>> 2: In namespaceImportFrom(self, asNamespace(ns)) :
>>>>>>>>>> replacing previous import: update
>>>>>>>>>> 3: In namespaceImportFrom(self, asNamespace(ns)) :
>>>>>>>>>> replacing previous import: xtabs
>>>>>>>>>> Error: package/namespace load failed for 'lme4'
>>>>>>>>>>
>>>>>>>>>> However, I can properly load lme4 from Aquamacs via ESS and from
>>>>>>>>>> Terminal.  I get the same warnings just not the dyn.load() error.
>>>>>>>>>>
>>>>>>>>>> Does anyone know what I need to do?
>>>>>>>>>>
>>>>>>>>>> Thanks,
>>>>>>>>>> Chris
>>>>>>>>>>
>>>>>>>>>> _______________________________________________
>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>>
>>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>> --
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/<http://www.stats.ox.ac.uk/%7Eripley/>
>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>>
>>
>>
>>
>> --
>> "There are a host of pirates, but they don't identify themselves with
>> eye-patches and hook hands so it isn't immediately obvious that they are
>> pirates."
>>
>>        [[alternative HTML version deleted]]
>>
>>
>>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From mmaechler at gmail.com  Tue Dec 16 22:35:16 2008
From: mmaechler at gmail.com (Martin Maechler)
Date: Tue, 16 Dec 2008 22:35:16 +0100
Subject: [R-SIG-Mac] lme4 fails to load in R GUI 2.8.0
In-Reply-To: <b968b9650812161330k748569end11167ea4e31cc29@mail.gmail.com>
References: <98575960-2B5E-49D2-A9B3-88FD4BD431CC@gmail.com>
	<813519C3-9E98-4652-A7F8-B90C45AA9190@r-project.org>
	<2A17E06E-EC2F-4A06-98EA-389604132EE3@gmail.com>
	<41736BB3-9081-47CE-A172-27CE8CFDEEC6@r-project.org>
	<72A6BD3B-F1C4-4E6F-8A36-5AFD2E150917@gmail.com>
	<EC064837-82B3-4FA4-812A-9252D4EDB07C@r-project.org>
	<12217A2D-3A8C-4A49-942F-46D297C6A588@gmail.com>
	<alpine.LFD.2.00.0812131547370.15227@gannet.stats.ox.ac.uk>
	<b968b9650812161330k748569end11167ea4e31cc29@mail.gmail.com>
Message-ID: <3f1d2410812161335v2ef5b944w42c0759c58d7a32c@mail.gmail.com>

Yes, this new lme4 package should solve your problem.
However, you could have removed lme4 and re-installed it even with the
previous version  (as Prof. Ripley suggested I think).

Martin

On Tue, Dec 16, 2008 at 22:30, Christopher Desjardins
<cddesjardins at gmail.com> wrote:
> It looks like there is a new lme4 package (-28) that was released on the
> 13th.  When this gets built I'd be happy to test it on R 2.8.0 as the
> current version is at -27.
>
> Thanks!
> Chris
>
> On Sat, Dec 13, 2008 at 10:09 AM, Prof Brian Ripley
> <ripley at stats.ox.ac.uk>wrote:
>
>> On Sat, 13 Dec 2008, Christopher David Desjardins wrote:
>>
>>  It was suggested to update my lme4 package to the lastest version at CRAN.
>>> After installing it I get the following error:
>>>
>>>  library(lme4)
>>>>
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>> function 'cholmod_start' not provided by package 'Matrix'
>>> Error: package/namespace load failed for 'lme4'
>>>
>>> Searching on the internet it seems someone had the same error
>>>
>>
>> with an unreleased R-forge version, I believe, but it is basic good
>> practice to give a URL for such comments.
>>
>>  and downgrade their Matrix from *-17 to *-16 except that I can't find a
>>> binary for 2.8 for Matrix anywhere.
>>>
>>
>> This is a known problem (as of a couple of days ago when -17 was released).
>>  The binary of lme4 needs to be rebuilt -- I have already suggested that a
>> new version be released urgently so that this happens automatically.  AFAIK
>> Simon is in Japan for another week, so most likely this will not happen
>> unless the Matrix/lme4 authors do help out.
>>
>> [More verbosely, the new version of Matrix has changed the C-level
>> entrypoint names and requires that lme4 be re-compiled against the new
>> version of Matrix.  This was not announced, and apparently unknown to the
>> Matrix authors.]
>>
>> The only option I can offer is to install lme4 from the sources.  Because
>> the CRAN R build has special features (static Fortran, particular BLAS
>> struture, special location for libgcc_s ...), even if I or someone else
>> builds lme4 for you it is unlikely to work on your machine.  (Again, I've
>> asked for this to be documented so others can produce distributable binary
>> packages.)
>>
>> To everyone else using binary packages I suggest not updating Matrix until
>> you see an lme update offered.
>>
>> (Copying Uwe Ligges because the same thing will happen on Windows: and
>> bumping the lme4 number will be needed to ensure that update.packages() gets
>> the new version.)
>>
>>
>>
>>> Thanks,
>>> Chris
>>>
>>>
>>>
>>>
>>> On Nov 19, 2008, at 2:28 PM, Simon Urbanek wrote:
>>>
>>>
>>>> On Nov 19, 2008, at 15:07 , Christopher David Desjardins wrote:
>>>>
>>>>  Thanks.  What I am still a bit confused about is why it loads in
>>>>> Aquamacs and from Terminal but not from R.app GUI.  This still seems like a
>>>>> bit of a mystery to me.
>>>>>
>>>>>
>>>> Because you have set different library paths in each. Check .libPaths()
>>>> as I was suggesting in the first e-mail.
>>>>
>>>> Cheers
>>>> S
>>>>
>>>>
>>>>
>>>>> On Nov 19, 2008, at 8:34 AM, Simon Urbanek wrote:
>>>>>
>>>>>
>>>>>> On Nov 18, 2008, at 22:30 , Christopher David Desjardins wrote:
>>>>>>
>>>>>>  Am I correct in thinking then that's it this old version of lme4 that
>>>>>>> I have installed?  This version is from 14 October 2007 but I need this
>>>>>>> specific version for a course I'm taking.
>>>>>>>
>>>>>>
>>>>>> Yes, it appears so. You cannot use such an old version (binary) with
>>>>>> the current R. For the course it should not matter which version you are
>>>>>> using.
>>>>>> If you feel brave, you can try to compile the old version from sources
>>>>>> in the new R (download the source .tar.gz file and use R CMD INSTALL to
>>>>>> install it). It may not work because old versions are not designed to work
>>>>>> in new R versions, but you can try your luck if you really can't live with
>>>>>> the new version.
>>>>>>
>>>>>> Cheers,
>>>>>> S
>>>>>>
>>>>>>
>>>>>>
>>>>>>> On Nov 18, 2008, at 8:23 PM, Simon Urbanek wrote:
>>>>>>>
>>>>>>>  You are picking up a very ancient binary for R 2.5.0 (as you can see
>>>>>>>> from the error). Check your .libPath() for old package binaries and
>>>>>>>> remove/reinstall them.
>>>>>>>>
>>>>>>>> Cheers,
>>>>>>>> S
>>>>>>>>
>>>>>>>> On Nov 18, 2008, at 8:37 PM, Christopher David Desjardins wrote:
>>>>>>>>
>>>>>>>>  When I try to load lme4 on R (2.8.0) in the R GUI for Mac OS X, I
>>>>>>>>> get the following warnings and errors ...
>>>>>>>>>
>>>>>>>>>  library(lme4)
>>>>>>>>>>
>>>>>>>>> Loading required package: Matrix
>>>>>>>>> Loading required package: lattice
>>>>>>>>>
>>>>>>>>> Attaching package: 'Matrix'
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>        The following object(s) are masked from package:stats :
>>>>>>>>>
>>>>>>>>>         xtabs
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>        The following object(s) are masked from package:base :
>>>>>>>>>
>>>>>>>>>         colMeans,
>>>>>>>>>         colSums,
>>>>>>>>>         rcond,
>>>>>>>>>         rowMeans,
>>>>>>>>>         rowSums
>>>>>>>>>
>>>>>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>>>>> unable to load shared library
>>>>>>>>> '/Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so':
>>>>>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so,
>>>>>>>>> 6): Library not loaded:
>>>>>>>>> /Library/Frameworks/R.framework/Versions/2.5/Resources/lib/libRlapack.dylib
>>>>>>>>> Referenced from:
>>>>>>>>> /Library/Frameworks/R.framework/Resources/library/lme4/libs/i386/lme4.so
>>>>>>>>> Reason: image not found
>>>>>>>>> In addition: Warning messages:
>>>>>>>>> 1: In namespaceImportFrom(self, asNamespace(ns)) :
>>>>>>>>> replacing previous import: cov2cor
>>>>>>>>> 2: In namespaceImportFrom(self, asNamespace(ns)) :
>>>>>>>>> replacing previous import: update
>>>>>>>>> 3: In namespaceImportFrom(self, asNamespace(ns)) :
>>>>>>>>> replacing previous import: xtabs
>>>>>>>>> Error: package/namespace load failed for 'lme4'
>>>>>>>>>
>>>>>>>>> However, I can properly load lme4 from Aquamacs via ESS and from
>>>>>>>>> Terminal.  I get the same warnings just not the dyn.load() error.
>>>>>>>>>
>>>>>>>>> Does anyone know what I need to do?
>>>>>>>>>
>>>>>>>>> Thanks,
>>>>>>>>> Chris
>>>>>>>>>
>>>>>>>>> _______________________________________________
>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>
>>>>>
>>>>>
>>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> --
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/<http://www.stats.ox.ac.uk/%7Eripley/>
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>
>
>
>
> --
> "There are a host of pirates, but they don't identify themselves with
> eye-patches and hook hands so it isn't immediately obvious that they are
> pirates."
>
>        [[alternative HTML version deleted]]
>
>
>


From thibault.helleputte at uclouvain.be  Fri Dec 19 11:22:21 2008
From: thibault.helleputte at uclouvain.be (Thibault Helleputte)
Date: Fri, 19 Dec 2008 11:22:21 +0100
Subject: [R-SIG-Mac] problem with SHLIB
Message-ID: <494B75DD.50306@uclouvain.be>

Hello,

I'm using R 2.8.0 on a Macbook Pro running Tiger on it.

I have a simple C file named hello.c and when I try to generate the .so
file like that:

$ R CMD SHLIB hello.c

I get the following output:

gcc -arch i386 -std=gnu99
-I/Library/Frameworks/R.framework/Resources/include
-I/Library/Frameworks/R.framework/Resources/include/i386 
-I/usr/local/include    -fPIC  -g -O2 -c hello.c -o hello.o
gcc -arch i386 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names
-mmacosx-version-min=10.4 -undefined dynamic_lookup -single_module
-multiply_defined suppress -L/usr/local/lib -o hello.so hello.o  
-F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework
-Wl,CoreFoundation
/usr/bin/libtool: for architecture cputype (16777223) cpusubtype (3)
object: /usr/local/lib/libgcc_s.10.4.dylib malformed object (unknown
load command 4)
make: *** [hello.so] Error 1


What is this error? How can I fix it?

Thank you

Thibault
-------------- next part --------------
A non-text attachment was scrubbed...
Name: thibault_helleputte.vcf
Type: text/x-vcard
Size: 420 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20081219/886e3b23/attachment.vcf>

From ripley at stats.ox.ac.uk  Fri Dec 19 15:42:32 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 19 Dec 2008 14:42:32 +0000 (GMT)
Subject: [R-SIG-Mac] problem with SHLIB
In-Reply-To: <494B75DD.50306@uclouvain.be>
References: <494B75DD.50306@uclouvain.be>
Message-ID: <alpine.LFD.2.00.0812191441060.6728@gannet.stats.ox.ac.uk>

I think you need to update your Xcode.  What version is it, and how does 
it compare with the FAQ's prescriptions?

On Fri, 19 Dec 2008, Thibault Helleputte wrote:

> Hello,
>
> I'm using R 2.8.0 on a Macbook Pro running Tiger on it.
>
> I have a simple C file named hello.c and when I try to generate the .so
> file like that:
>
> $ R CMD SHLIB hello.c
>
> I get the following output:
>
> gcc -arch i386 -std=gnu99
> -I/Library/Frameworks/R.framework/Resources/include
> -I/Library/Frameworks/R.framework/Resources/include/i386
> -I/usr/local/include    -fPIC  -g -O2 -c hello.c -o hello.o
> gcc -arch i386 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names
> -mmacosx-version-min=10.4 -undefined dynamic_lookup -single_module
> -multiply_defined suppress -L/usr/local/lib -o hello.so hello.o
> -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework
> -Wl,CoreFoundation
> /usr/bin/libtool: for architecture cputype (16777223) cpusubtype (3)
> object: /usr/local/lib/libgcc_s.10.4.dylib malformed object (unknown
> load command 4)
> make: *** [hello.so] Error 1
>
>
> What is this error? How can I fix it?
>
> Thank you
>
> Thibault
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From carl at witthoft.com  Sat Dec 20 14:51:16 2008
From: carl at witthoft.com (Carl Witthoft)
Date: Sat, 20 Dec 2008 08:51:16 -0500
Subject: [R-SIG-Mac] SHLIB
In-Reply-To: <mailman.11.1229770804.5728.r-sig-mac@stat.math.ethz.ch>
References: <mailman.11.1229770804.5728.r-sig-mac@stat.math.ethz.ch>
Message-ID: <494CF854.2070505@witthoft.com>

Just a dumb question:  can you successfully 'make', and create the 
library using Unix tools directly from a bash window?

> Hello,
> 
> I'm using R 2.8.0 on a Macbook Pro running Tiger on it.
> 
> I have a simple C file named hello.c and when I try to generate the .so
> file like that:
> 
> $ R CMD SHLIB hello.c
> 
> I get the following output:
> 
> gcc -arch i386 -std=gnu99
> -I/Library/Frameworks/R.framework/Resources/include
> -I/Library/Frameworks/R.framework/Resources/include/i386 
> -I/usr/local/include    -fPIC  -g -O2 -c hello.c -o hello.o
> gcc -arch i386 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names
> -mmacosx-version-min=10.4 -undefined dynamic_lookup -single_module
> -multiply_defined suppress -L/usr/local/lib -o hello.so hello.o  
> -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework
> -Wl,CoreFoundation
> /usr/bin/libtool: for architecture cputype (16777223) cpusubtype (3)
> object: /usr/local/lib/libgcc_s.10.4.dylib malformed object (unknown
> load command 4)
> make: *** [hello.so] Error 1
> 
> 
> What is this error? How can I fix it?
> 
> Thank you
> 
> Thibault
> -------------- next part --------------
> A non-text attachment was scrubbed...
> Name: thibault_helleputte.vcf
> Type: text/x-vcard
> Size: 420 bytes
> Desc: not available
> URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20081219/886e3b23/attachment-0001.vcf>
> 
> ------------------------------
> 
> Message: 2
> Date: Fri, 19 Dec 2008 14:42:32 +0000 (GMT)
> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
> Subject: Re: [R-SIG-Mac] problem with SHLIB
> To: Thibault Helleputte <thibault.helleputte at uclouvain.be>
> Cc: r-sig-mac at stat.math.ethz.ch
> Message-ID: <alpine.LFD.2.00.0812191441060.6728 at gannet.stats.ox.ac.uk>
> Content-Type: TEXT/PLAIN; charset=US-ASCII; format=flowed
> 
> I think you need to update your Xcode.  What version is it, and how does 
> it compare with the FAQ's prescriptions?
> 
> On Fri, 19 Dec 2008, Thibault Helleputte wrote:
> 
>> Hello,
>>
>> I'm using R 2.8.0 on a Macbook Pro running Tiger on it.
>>
>> I have a simple C file named hello.c and when I try to generate the .so
>> file like that:
>>
>> $ R CMD SHLIB hello.c
>>
>> I get the following output:
>>
>> gcc -arch i386 -std=gnu99
>> -I/Library/Frameworks/R.framework/Resources/include
>> -I/Library/Frameworks/R.framework/Resources/include/i386
>> -I/usr/local/include    -fPIC  -g -O2 -c hello.c -o hello.o
>> gcc -arch i386 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names
>> -mmacosx-version-min=10.4 -undefined dynamic_lookup -single_module
>> -multiply_defined suppress -L/usr/local/lib -o hello.so hello.o
>> -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework
>> -Wl,CoreFoundation
>> /usr/bin/libtool: for architecture cputype (16777223) cpusubtype (3)
>> object: /usr/local/lib/libgcc_s.10.4.dylib malformed object (unknown
>> load command 4)
>> make: *** [hello.so] Error 1
>>
>>
>> What is this error? How can I fix it?
>>
>> Thank you
>>
>> Thibault
>>
>


From simon.urbanek at r-project.org  Tue Dec 23 09:41:38 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 23 Dec 2008 03:41:38 -0500
Subject: [R-SIG-Mac] R 2.8.1 for Mac OS X released
Message-ID: <5BF6AB3D-8F09-4636-9386-F5BF5A7ACE8C@r-project.org>

R 2.8.1 for Mac OS X 10.4 and higher was released on 12/22 and is  
available from CRAN.

This update is recommended for all users. If you have installed R  
2.8.0 before, you can use the smaller file (R-2.8.1-mini.dmg) to  
upgrade. Users of older versions have to use the large image  
(R-2.8.1.dmg).
Besides issues mentioned in NEWS for R 2.8.1 this update also improves  
the compatibility with 3rd party binary package providers and  
addresses an issue where a few packages did not have a working CRAN  
binary for R 2.8.0.

MD5 checksums for the released files:

MD5 (R-2.8.1.dmg) = c43581d6ebede51fee2da8fb5292b2c7
MD5 (R-2.8.1-mini.dmg) = 4cd1ff20d029a06523d9345a7e1bf582

Cheers,
Simon


From bpfeiffe at biologie.uni-erlangen.de  Wed Dec 24 19:06:01 2008
From: bpfeiffe at biologie.uni-erlangen.de (Burkard Pfeiffer)
Date: Wed, 24 Dec 2008 19:06:01 +0100 (CET)
Subject: [R-SIG-Mac] Smultron as an external editor
Message-ID: <66eafa86c2bc99aa72848b26c9c5085d.squirrel@www.biologie.uni-erlangen.de>

Hi there,

can anyone please help me how to run Smultron as an external editor? I am
fairly new to R and don't know much about apple script either. I tried
some osascript in the Commands-Window of Smultron but it didn't work. I
run Smultron v3.5, R 2.8.1 and OSX Leopard 10.5.5.

I would like to execute script, written in smultron...

Thanks in advance + merry xmas

burkard


From dwinsemius at comcast.net  Thu Dec 25 02:40:57 2008
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 24 Dec 2008 20:40:57 -0500
Subject: [R-SIG-Mac] Smultron as an external editor
In-Reply-To: <66eafa86c2bc99aa72848b26c9c5085d.squirrel@www.biologie.uni-erlangen.de>
References: <66eafa86c2bc99aa72848b26c9c5085d.squirrel@www.biologie.uni-erlangen.de>
Message-ID: <5B1359FA-CCEE-4824-B21B-254D42755EE4@comcast.net>

Have you set the preferences in the R.app GUI to setup Smultron as the  
external editor? (I'm not using Smultron, so this is merely a wild  
guess.)

-- 
David Winsemius

On Dec 24, 2008, at 1:06 PM, Burkard Pfeiffer wrote:

> Hi there,
>
> can anyone please help me how to run Smultron as an external editor?  
> I am
> fairly new to R and don't know much about apple script either. I tried
> some osascript in the Commands-Window of Smultron but it didn't  
> work. I
> run Smultron v3.5, R 2.8.1 and OSX Leopard 10.5.5.
>
> I would like to execute script, written in smultron...
>
> Thanks in advance + merry xmas
>
> burkard
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From goedman at mac.com  Thu Dec 25 16:54:01 2008
From: goedman at mac.com (Rob Goedman)
Date: Thu, 25 Dec 2008 08:54:01 -0700
Subject: [R-SIG-Mac] Smultron as an external editor
In-Reply-To: <66eafa86c2bc99aa72848b26c9c5085d.squirrel@www.biologie.uni-erlangen.de>
References: <66eafa86c2bc99aa72848b26c9c5085d.squirrel@www.biologie.uni-erlangen.de>
Message-ID: <1477C1E9-759F-4995-B0E5-551EB546F600@mac.com>

Burkard,

Something along:


#!/bin/bash
osascript -e 'tell application "R.app" to activate'
osascript -e "tell application \"R.app\" to cmd \"source(file='%%p',  
print.eval=TRUE)\""


works on my system.

Regards,
Rob

On Dec 24, 2008, at 11:06 AM, Burkard Pfeiffer wrote:

> Hi there,
>
> can anyone please help me how to run Smultron as an external editor?  
> I am
> fairly new to R and don't know much about apple script either. I tried
> some osascript in the Commands-Window of Smultron but it didn't  
> work. I
> run Smultron v3.5, R 2.8.1 and OSX Leopard 10.5.5.
>
> I would like to execute script, written in smultron...
>
> Thanks in advance + merry xmas
>
> burkard
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From pibulian at yahoo.it  Fri Dec 26 10:03:03 2008
From: pibulian at yahoo.it (pietro bulian)
Date: Fri, 26 Dec 2008 09:03:03 +0000 (GMT)
Subject: [R-SIG-Mac] bash R: command not found
Message-ID: <56953.80474.qm@web24503.mail.ird.yahoo.com>

Dear all,
I'm a new user of MAC/Unix. I want R on a powerbook MAC with OS 10.3.9. Following instructions I attempted to compile last version of R (2.8). But it was unsuccessful (problems with dlyb). Then I have compiled R 2.6.0, I presume succesfully since with make check all it's OK. Then installed with "sudo make install". Now when I type R in any directory in which an R exist the output is "bash R: command not found". I see R under 
Library/Frameworks/R.framework/Versions/2.6/Resources/bin/exec
Library/Frameworks/R.framework/Versions/2.6/Resources/bin
pietro/Documents/downloads/R.2.6.0/bin/exec
pietro/Documents/downloads/R.2.6.0/bin

is something missing from my PATH?
echo $PATH: sw/bin:/sw/sbin:/bin:/sbin:/usr/bin:/usr/sbin:/usr/X11R6/bin

Thanks

Pietro





From ripley at stats.ox.ac.uk  Fri Dec 26 12:37:24 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 26 Dec 2008 11:37:24 +0000 (GMT)
Subject: [R-SIG-Mac] bash R: command not found
In-Reply-To: <56953.80474.qm@web24503.mail.ird.yahoo.com>
References: <56953.80474.qm@web24503.mail.ird.yahoo.com>
Message-ID: <alpine.LFD.2.00.0812261127040.24673@gannet.stats.ox.ac.uk>

On Fri, 26 Dec 2008, pietro bulian wrote:

> Dear all,

> I'm a new user of MAC/Unix. I want R on a powerbook MAC with OS 10.3.9.

How come a new user has a long-obsolete OS?

> Following instructions I attempted to compile last version of R (2.8). 
> But it was unsuccessful (problems with dlyb).

The list archives show other people's attempts: I do not know if they were 
successful.  But as the posting guide points out, there never was a 'R 
2.8' and the current version is 2.8.1.  People would be interested to know 
the exact issues (and fixes) in the current version even on an ancient OS.

> Then I have compiled R 2.6.0, I presume succesfully since with make 
> check all it's OK. Then installed with "sudo make install". Now when I 
> type R in any directory in which an R exist the output is "bash R: 
> command not found". I see R under

> Library/Frameworks/R.framework/Versions/2.6/Resources/bin/exec
> Library/Frameworks/R.framework/Versions/2.6/Resources/bin
> pietro/Documents/downloads/R.2.6.0/bin/exec
> pietro/Documents/downloads/R.2.6.0/bin
>
> is something missing from my PATH?

Yes.  Recent CRAN build install R at /usr/bin/R (and also installs 
Rscript). If you just want command-line R, I suggest you do not build a 
framework and it will install in /usr/bin etc for you.

> echo $PATH: sw/bin:/sw/sbin:/bin:/sbin:/usr/bin:/usr/sbin:/usr/X11R6/bin

The presence of (presumably) /sw/bin indicates fink, and that can 
interfere with the build of R.

>
> Thanks
>
> Pietro
>
>
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From carl at witthoft.com  Sat Dec 27 16:13:00 2008
From: carl at witthoft.com (Carl Witthoft)
Date: Sat, 27 Dec 2008 10:13:00 -0500
Subject: [R-SIG-Mac] install on 10.3.9
In-Reply-To: <mailman.11.1230375604.19623.r-sig-mac@stat.math.ethz.ch>
References: <mailman.11.1230375604.19623.r-sig-mac@stat.math.ethz.ch>
Message-ID: <495645FC.5010105@witthoft.com>


> 
>> I'm a new user of MAC/Unix. I want R on a powerbook MAC with OS 10.3.9.
> 
> How come a new user has a long-obsolete OS?

So he got a free machine.  I use 10.3.9 at home on my snowball iMac 
because it's solid, stable, and Just Works(tm).  Since the only reason 
to blow a C-note on 10.4 (or 5) would be to let me use various chunks of 
software, I haven't.   I can do far more than I need w/ R-2.2.1 for home 
use.  I do use 2.8.x at work (where, as a cheap old %$@*#^$#, I haven't 
upgraded from 10.4.11 *_*).
My recommendation to the OP would be to use 2.2.1 w/ the install package 
unless there are specific R-packages you cant live without.


From simon.urbanek at r-project.org  Sat Dec 27 20:32:52 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 27 Dec 2008 14:32:52 -0500
Subject: [R-SIG-Mac] install on 10.3.9
In-Reply-To: <495645FC.5010105@witthoft.com>
References: <mailman.11.1230375604.19623.r-sig-mac@stat.math.ethz.ch>
	<495645FC.5010105@witthoft.com>
Message-ID: <CBA69449-CB11-4429-9991-D10F818A268A@r-project.org>


On Dec 27, 2008, at 10:13 AM, Carl Witthoft wrote:

>
>>> I'm a new user of MAC/Unix. I want R on a powerbook MAC with OS  
>>> 10.3.9.
>> How come a new user has a long-obsolete OS?
>
> So he got a free machine.  I use 10.3.9 at home on my snowball iMac  
> because it's solid, stable, and Just Works(tm).  Since the only  
> reason to blow a C-note on 10.4 (or 5) would be to let me use  
> various chunks of software, I haven't.

In fact 10.4 is quite a bit faster than 10.3 on the same (old)  
hardware, which is one of the reasons why 10.3 is so hard to find  
those days. Essentially anyone who keeps running 10.3 isn't really  
doing himself a favor, so it takes a really good reason to keep it ;).


>   I can do far more than I need w/ R-2.2.1 for home use.  I do use  
> 2.8.x at work (where, as a cheap old %$@*#^$#, I haven't upgraded  
> from 10.4.11 *_*).

The 10.4 vs 10.5 question is not that straight forward anymore -  
10.5's "felt" speed on PPC machines is actually slower than 10.4  
(regardless of RAM etc.), so it's all about features there. For Intel,  
there is no question, though ;).

Cheers,
S


>
> My recommendation to the OP would be to use 2.2.1 w/ the install  
> package unless there are specific R-packages you cant live without.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From ripley at stats.ox.ac.uk  Sun Dec 28 08:52:57 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 28 Dec 2008 07:52:57 +0000 (GMT)
Subject: [R-SIG-Mac] Solution to collation problems on Mac OS X
Message-ID: <alpine.LFD.2.00.0812280752380.31548@gannet.stats.ox.ac.uk>

Some of you will be aware that R ignores locale when collating strings on 
Mac OS X: this arises from its inadequate FreeBSD-based wcscoll, whose man 
page says

BUGS
      The current implementation of wcscoll() only works in single-byte
      LC_CTYPE locales, and falls back to using wcscmp() in locales with
      extended character sets.

(and conventional Mac OS X locales are not 'single-byte' but UTF-8).

Apple ships a modified version of ICU (IInternational Components for 
Unicode) for collation in its ObjC classes, and with Simon's help I have 
added code to allow R to use this on Tiger and Leopard.  This is now the 
default in R-devel, and available in R-patched by configuring R with 
--with-ICU.

This originally came up for European Spanish, so in the es_ES locale:

> example(Comparison)
...
mprsn> ## by number
Cmprsn> writeLines(strwrap(paste(x, collapse=" "), width = 60))
! " # $ % & ' ( ) * + , - . / 0 1 2 3 4 5 6 7 8 9 : ; < = >
? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ \
] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z
{ | } ~ ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
? ? ? ? ? ? ? ? ? ?

Cmprsn> ## by locale collation
Cmprsn> writeLines(strwrap(paste(sort(x), collapse=" "), width = 60))
? ` ? ^ ? ? ? _ ? - , ; : ! ? ? ? . ? ' " ? ? ( ) [ ] { } ?
? ? ? @ * / \ & # % ? + ? ? ? < = > ? | ? ~ ? ? $ ? ? 0 1 ?
? ? 2 ? 3 ? ? 4 5 6 7 8 9 a A ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
b B c C ? ? d D ? ? e E ? ? ? ? ? ? ? ? f F g G h H i I ? ?
? ? ? ? ? ? j J k K l L m M n N ? ? o O ? ? ? ? ? ? ? ? ? ?
? ? ? p P q Q r R s S ? t T u U ? ? ? ? ? ? ? ? v V w W x X
y Y ? ? ? z Z ? ? ?


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From webmaster at xen.net  Sun Dec 28 12:26:49 2008
From: webmaster at xen.net ([Ricardo Rodriguez] Your XEN ICT Team)
Date: Sun, 28 Dec 2008 12:26:49 +0100
Subject: [R-SIG-Mac] Solution to collation problems on Mac OS X
In-Reply-To: <alpine.LFD.2.00.0812280752380.31548@gannet.stats.ox.ac.uk>
References: <alpine.LFD.2.00.0812280752380.31548@gannet.stats.ox.ac.uk>
Message-ID: <49576279.5040408@xen.net>

Thanks, Brian and Simon.

Sorry if this question is a too basic: I'm trying to understand how does 
the development cycle or R work. I am running here R 2.8.0 GUI 1.26 
(5256) on Mac OS X 10.5.6. The update to 2.8.1 released on 2008/12/22 is 
a pending task.

When this option/feature will be included in a dmg available at 
http://cran.r-project.org/bin/macosx/?

Thanks you so much for your work,

Ricardo

Prof Brian Ripley wrote:
> Some of you will be aware that R ignores locale when collating strings 
> on Mac OS X: this arises from its inadequate FreeBSD-based wcscoll, 
> whose man page says
>
> BUGS
>      The current implementation of wcscoll() only works in single-byte
>      LC_CTYPE locales, and falls back to using wcscmp() in locales with
>      extended character sets.
>
> (and conventional Mac OS X locales are not 'single-byte' but UTF-8).
>
> Apple ships a modified version of ICU (IInternational Components for 
> Unicode) for collation in its ObjC classes, and with Simon's help I 
> have added code to allow R to use this on Tiger and Leopard.  This is 
> now the default in R-devel, and available in R-patched by configuring 
> R with --with-ICU.
>
> This originally came up for European Spanish, so in the es_ES locale:
>
>> example(Comparison)
> ...
> mprsn> ## by number
> Cmprsn> writeLines(strwrap(paste(x, collapse=" "), width = 60))
> ! " # $ % & ' ( ) * + , - . / 0 1 2 3 4 5 6 7 8 9 : ; < = >
> ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ \
> ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z
> { | } ~   ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
> ? ? ? ? ? ? ? ? ? ?
>
> Cmprsn> ## by locale collation
> Cmprsn> writeLines(strwrap(paste(sort(x), collapse=" "), width = 60))
>   ` ? ^ ? ? ? _ ? - , ; : ! ? ? ? . ? ' " ? ? ( ) [ ] { } ?
> ? ? ? @ * / \ & # % ? + ? ? ? < = > ? | ? ~ ? ? $ ? ? 0 1 ?
> ? ? 2 ? 3 ? ? 4 5 6 7 8 9 a A ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
> b B c C ? ? d D ? ? e E ? ? ? ? ? ? ? ? f F g G h H i I ? ?
> ? ? ? ? ? ? j J k K l L m M n N ? ? o O ? ? ? ? ? ? ? ? ? ?
> ? ? ? p P q Q r R s S ? t T u U ? ? ? ? ? ? ? ? v V w W x X
> y Y ? ? ? z Z ? ? ?
>
>
> ------------------------------------------------------------------------
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>   


-- 
Ricardo Rodr?guez
Your XEN ICT Team


From ripley at stats.ox.ac.uk  Sun Dec 28 12:51:34 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 28 Dec 2008 11:51:34 +0000 (GMT)
Subject: [R-SIG-Mac] Solution to collation problems on Mac OS X
In-Reply-To: <49576279.5040408@xen.net>
References: <alpine.LFD.2.00.0812280752380.31548@gannet.stats.ox.ac.uk>
	<49576279.5040408@xen.net>
Message-ID: <alpine.LFD.2.00.0812281144110.30981@gannet.stats.ox.ac.uk>

On Sun, 28 Dec 2008, [Ricardo Rodriguez] Your XEN ICT Team wrote:

> Thanks, Brian and Simon.
>
> Sorry if this question is a too basic: I'm trying to understand how does the 
> development cycle or R work. I am running here R 2.8.0 GUI 1.26 (5256) on Mac 
> OS X 10.5.6. The update to 2.8.1 released on 2008/12/22 is a pending task.
>
> When this option/feature will be included in a dmg available at 
> http://cran.r-project.org/bin/macosx/?

At R 2.9.0 (scheduled for April 2009), or if Simon so chooses at R 2.8.2 
(if there is such a version).

There is nothing to stop you building R from the sources yourself, and 
there are nightly builds at r.research.att.com (I don't know if 
R-2-8-branch builds will use --with-ICU in future: that's up to Simon).

>
> Thanks you so much for your work,
>
> Ricardo
>
> Prof Brian Ripley wrote:
>> Some of you will be aware that R ignores locale when collating strings on 
>> Mac OS X: this arises from its inadequate FreeBSD-based wcscoll, whose man 
>> page says
>> 
>> BUGS
>>      The current implementation of wcscoll() only works in single-byte
>>      LC_CTYPE locales, and falls back to using wcscmp() in locales with
>>      extended character sets.
>> 
>> (and conventional Mac OS X locales are not 'single-byte' but UTF-8).
>> 
>> Apple ships a modified version of ICU (IInternational Components for 
>> Unicode) for collation in its ObjC classes, and with Simon's help I have 
>> added code to allow R to use this on Tiger and Leopard.  This is now the 
>> default in R-devel, and available in R-patched by configuring R with 
>> --with-ICU.
>> 
>> This originally came up for European Spanish, so in the es_ES locale:
>> 
>>> example(Comparison)
>> ...
>> mprsn> ## by number
>> Cmprsn> writeLines(strwrap(paste(x, collapse=" "), width = 60))
>> ! " # $ % & ' ( ) * + , - . / 0 1 2 3 4 5 6 7 8 9 : ; < = >
>> ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ \
>> ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z
>> { | } ~   ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
>> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
>> ? ? ? ? ? ? ? ? ? ?
>> 
>> Cmprsn> ## by locale collation
>> Cmprsn> writeLines(strwrap(paste(sort(x), collapse=" "), width = 60))
>>   ` ? ^ ? ? ? _ ? - , ; : ! ? ? ? . ? ' " ? ? ( ) [ ] { } ?
>> ? ? ? @ * / \ & # % ? + ? ? ? < = > ? | ? ~ ? ? $ ? ? 0 1 ?
>> ? ? 2 ? 3 ? ? 4 5 6 7 8 9 a A ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
>> b B c C ? ? d D ? ? e E ? ? ? ? ? ? ? ? f F g G h H i I ? ?
>> ? ? ? ? ? ? j J k K l L m M n N ? ? o O ? ? ? ? ? ? ? ? ? ?
>> ? ? ? p P q Q r R s S ? t T u U ? ? ? ? ? ? ? ? v V w W x X
>> y Y ? ? ? z Z ? ? ?
>> 
>> 
>> ------------------------------------------------------------------------
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>
>
> -- 
> Ricardo Rodr?guez
> Your XEN ICT Team
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From carnivorescience at gmail.com  Mon Dec 29 01:46:11 2008
From: carnivorescience at gmail.com (Guillaume Chapron)
Date: Mon, 29 Dec 2008 01:46:11 +0100
Subject: [R-SIG-Mac] Execute code to the GUI R.app from Smultron or BBEdit
Message-ID: <FF8479E5-4D2A-4C70-A2A1-2A3516D3AF0E@gmail.com>

Hello,

I would like to know how (if) I can, with Smultron or BBEdit as  
external editors, execute a line or the whole document into the GUI  
R.app. Ideally, I would type Apple+R and this would go. There is a  
bundle to do this with Textmate, but I have not found anything for  
Smultron or BBEdit. Has anyone been able to do this? Thanks!

Cheers

Guillaume


From mailinglist.honeypot at gmail.com  Mon Dec 29 01:57:11 2008
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Sun, 28 Dec 2008 19:57:11 -0500
Subject: [R-SIG-Mac] Execute code to the GUI R.app from Smultron or
	BBEdit
In-Reply-To: <FF8479E5-4D2A-4C70-A2A1-2A3516D3AF0E@gmail.com>
References: <FF8479E5-4D2A-4C70-A2A1-2A3516D3AF0E@gmail.com>
Message-ID: <31B28524-E39A-45DC-ADA2-9F0DB01D8BFB@gmail.com>

Hi,

On Dec 28, 2008, at 7:46 PM, Guillaume Chapron wrote:

> Hello,
>
> I would like to know how (if) I can, with Smultron or BBEdit as  
> external editors, execute a line or the whole document into the GUI  
> R.app. Ideally, I would type Apple+R and this would go. There is a  
> bundle to do this with Textmate, but I have not found anything for  
> Smultron or BBEdit. Has anyone been able to do this? Thanks!

Check out these recent threads:

TextWrangler:
https://stat.ethz.ch/pipermail/r-sig-mac/2008-November/005534.html

Smultron:
https://stat.ethz.ch/pipermail/r-sig-mac/2008-December/005691.html

-steve

--
Steve Lianoglou
Graduate Student: Physiology, Biophysics and Systems Biology
Weill Medical College of Cornell University

http://cbio.mskcc.org/~lianos


From carnivorescience at gmail.com  Mon Dec 29 02:18:36 2008
From: carnivorescience at gmail.com (Guillaume Chapron)
Date: Mon, 29 Dec 2008 02:18:36 +0100
Subject: [R-SIG-Mac] Execute code to the GUI R.app from Smultron or
	BBEdit
In-Reply-To: <31B28524-E39A-45DC-ADA2-9F0DB01D8BFB@gmail.com>
References: <FF8479E5-4D2A-4C70-A2A1-2A3516D3AF0E@gmail.com>
	<31B28524-E39A-45DC-ADA2-9F0DB01D8BFB@gmail.com>
Message-ID: <EC21E846-7097-47C0-9272-A6D3D3D42D79@gmail.com>


> Hi,
>
> Check out these recent threads:
>
> TextWrangler:
> https://stat.ethz.ch/pipermail/r-sig-mac/2008-November/005534.html
>
> Smultron:
> https://stat.ethz.ch/pipermail/r-sig-mac/2008-December/005691.html
>
> -steve

Hi,

Thanks a lot - apparently I did not search well in the archive. I will  
just post a recap here for BBEdit in case some people want to do it as  
well:

*Open Script Editor (located in Applications/AppleScript)
*File-> new script
*Paste this (modified from Jean Thioulouse code for TextWrangler on  
this list):


tell application "BBEdit"
	set the_selection to (selection of front window as string)
	if (the_selection) is "" then
		set the_selection to line (get startLine of selection) of front  
window as string
	end if
end tell
tell application "R"
	cmd the_selection
end tell


Save this script into this directory
~/Library/Application Support/BBedit/Scripts/

In BBEdit go to the menu Windows -> Palettes->Scripts
Your script should be visible there, and you can set a key to run it.

Thanks again

Guillaume


