From richmond@saintmarys.edu  Mon Nov  5 20:02:27 2001
From: richmond@saintmarys.edu (David A Richmond)
Date: Mon, 5 Nov 2001 15:02:27 -0500 (EST)
Subject: [R-SIG-Mac]R and Altivec
Message-ID: <Pine.GSO.4.20.0111051455460.9243-100000@jade.saintmarys.edu>

Hi,
	Ever since the G4 came out I've been interested in the potential
for number crunching applications to take advantage of altivec, the G4's
parallel processing unit. It seems like altivec should give the G4 a great
advantage for these kinds of applications, but I've heard that it's not
always the case. For instance, I know that Stata isn't altivec optimized
because Stata works with double precision and altivec is only single
precision. So I'm wondering, do either of the mac versions of R use
altivec? 

dave r


+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


From deleeuw@stat.ucla.edu  Mon Nov  5 21:05:12 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Mon, 5 Nov 2001 13:05:12 -0800
Subject: [R-SIG-Mac]R and Altivec
In-Reply-To: <Pine.GSO.4.20.0111051455460.9243-100000@jade.saintmarys.edu>
Message-ID: <CD3E1B0B-D230-11D5-AB01-003065A21C86@stat.ucla.edu>

I don't think so. R does not have single precision either. The Darwin/X11
version (at lest the most recent ones) uses the ATLAS libraries from
fink, which do use Altivec for single precision. It's regrettable, but
I don't think it can be fixed easily (of course one could an altivec
version of the Matrix package, for instance).

Current versions of R do not take much advantage of MP machines
either, but I understand there is some work on threading going on.

On Monday, November 5, 2001, at 12:02 PM, David A Richmond wrote:

> Hi,
> 	Ever since the G4 came out I've been interested in the potential
> for number crunching applications to take advantage of altivec, the G4's
> parallel processing unit. It seems like altivec should give the G4 a 
> great
> advantage for these kinds of applications, but I've heard that it's not
> always the case. For instance, I know that Stata isn't altivec optimized
> because Stata works with double precision and altivec is only single
> precision. So I'm wondering, do either of the mac versions of R use
> altivec?
>
> dave r
>
>
> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
> |David Richmond                It works on a          |
> + Dept. of Sociology          complex scientific      +
> |Saint Mary's College          principle, known as    |
> + Notre Dame, IN 46556               "pot luck."      +
> |219-284-4517                    - The Doctor         |
> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics
US mail: 8142 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
                  www: http://www.stat.ucla.edu/~deleeuw
==========================================================================
==
          Remember, wherever you go, there you are. --- Buckaroo Banzai
==========================================================================
==


From richmond@saintmarys.edu  Thu Nov  8 23:04:02 2001
From: richmond@saintmarys.edu (David A Richmond)
Date: Thu, 8 Nov 2001 18:04:02 -0500 (EST)
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
Message-ID: <Pine.GSO.4.20.0111081758120.1506-100000@jade.saintmarys.edu>

Hi,
	I recently switched to OS 10.1, and R1.3.1, from 8.6/1.3.0, where
I had a .Rprofile file with a .First function:

.First <- function() {
	library(sna)
	etc...
}

This worked in R1.3.0 on 8.6.  Upon downloading 1.3.1 into osX I moved
.Rprofile to the new R folder, but when I run it I get the following error
on startup: 
Error: syntax error: evaluating expression 0 

it doesn't matter what's in the function, if I comment out everything
inside .First I still get the error

what am I doing wrong?

daver

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


From stefano.iacus@unimi.it  Fri Nov  9 09:49:17 2001
From: stefano.iacus@unimi.it (Stefano Iacus)
Date: Fri, 9 Nov 2001 10:49:17 +0100
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
In-Reply-To: <Pine.GSO.4.20.0111081758120.1506-100000@jade.saintmarys.edu>
Message-ID: <200111090949.KAA03269@mailserver.unimi.it>

apparently nothing wrong David,

you probably also converted line-endings that are different from OSX and 
old-MacOS. Can you check in some way, for example by using "less 
filename" from a shell ?

The R-devel version (and so the 1.4 release) should be ok with both 
line-endings.

One question: does the base package work ?

There is a problem with stuffit expander that uses to convert 
line-endings differently if you are using the MacOS or the MacOS X 
version.


Stefano

On Venerdì, novembre 9, 2001, at 12:04 , David A Richmond wrote:

> Hi,
> 	I recently switched to OS 10.1, and R1.3.1, from 8.6/1.3.0, where
> I had a .Rprofile file with a .First function:
>
> ..First <- function() {
> 	library(sna)
> 	etc...
> }
>
> This worked in R1.3.0 on 8.6.  Upon downloading 1.3.1 into osX I moved
> ..Rprofile to the new R folder, but when I run it I get the following 
> error
> on startup:
> Error: syntax error: evaluating expression 0
>
> it doesn't matter what's in the function, if I comment out everything
> inside .First I still get the error
>
> what am I doing wrong?
>
> daver
>
>

From richmond@saintmarys.edu  Fri Nov  9 22:19:53 2001
From: richmond@saintmarys.edu (David A Richmond)
Date: Fri, 9 Nov 2001 17:19:53 -0500 (EST)
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
In-Reply-To: <200111090949.KAA03269@mailserver.unimi.it>
Message-ID: <Pine.GSO.4.20.0111091713220.25007-100000@jade.saintmarys.edu>

Actually, I did notice the line break issue when I copied the files (in
osX all the line breaks from os9 appeared as ^M) so I rewrote
".Rprofile" from scratch to read:

.First <- function() {
        library(sna)
}

(where sna is indeed a package which resides in the "library" folder.)

It still doesn't work. still getting: 
Error: syntax error: evaluating expression 0

the base package works, and if I type "library(sna)" at the prompt it
loads the library and I can use the sna functions fine. 

dave


On Fri, 9 Nov 2001, Stefano Iacus wrote:

> apparently nothing wrong David,
> 
> you probably also converted line-endings that are different from OSX and 
> old-MacOS. Can you check in some way, for example by using "less 
> filename" from a shell ?
> 
> The R-devel version (and so the 1.4 release) should be ok with both 
> line-endings.
> 
> One question: does the base package work ?
> 
> There is a problem with stuffit expander that uses to convert 
> line-endings differently if you are using the MacOS or the MacOS X 
> version.
> 
> 
> Stefano
> 
> On Venerdì, novembre 9, 2001, at 12:04 , David A Richmond wrote:
> 
> > Hi,
> > 	I recently switched to OS 10.1, and R1.3.1, from 8.6/1.3.0, where
> > I had a .Rprofile file with a .First function:
> >
> > ..First <- function() {
> > 	library(sna)
> > 	etc...
> > }
> >
> > This worked in R1.3.0 on 8.6.  Upon downloading 1.3.1 into osX I moved
> > ..Rprofile to the new R folder, but when I run it I get the following 
> > error
> > on startup:
> > Error: syntax error: evaluating expression 0
> >
> > it doesn't matter what's in the function, if I comment out everything
> > inside .First I still get the error
> >
> > what am I doing wrong?
> >
> > daver
> >
> >
> 

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


From richmond@saintmarys.edu  Sun Nov 11 01:12:18 2001
From: richmond@saintmarys.edu (David A Richmond)
Date: Sat, 10 Nov 2001 20:12:18 -0500 (EST)
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
In-Reply-To: <Pine.GSO.4.20.0111091713220.25007-100000@jade.saintmarys.edu>
Message-ID: <Pine.GSO.4.20.0111102002300.12383-100000@jade.saintmarys.edu>

to anyone interested in creating an .Rprofile file in os X:

	After having some problems getting the .Rprofile file to work in
under 10.1 I have discovered the following:

1) OS 10.1 doesn't let you name files that begin with a period '.' in the
Finder, or save them in programs such as BBedit. The only way to create a
file that begins with a period is to use the command line. (i.e. use
Terminal, and use the mv command: "mv filename .filename")

2) R 1.3.1 carbon for mac OS 10/9 requires that the line breaks be
Macintosh line breaks and not Unix line breaks. Thus, a file such as
.Rprofile created and saved using pico will not work, as the line breaks
are unix and not mac.

	Thus, in order to create a working .Rprofile command I had to
first create a file with mac line breaks in BBedit, and save it as
"Rprofile", and then use the Terminal to change the name: 
"mv Rprofile .Rprofile"

hope this helps someone avoid some frustration,
daver


> On Fri, 9 Nov 2001, Stefano Iacus wrote:
> 
> > apparently nothing wrong David,
> > 
> > you probably also converted line-endings that are different from OSX and 
> > old-MacOS. Can you check in some way, for example by using "less 
> > filename" from a shell ?
> > 
> > The R-devel version (and so the 1.4 release) should be ok with both 
> > line-endings.
> > 
> > One question: does the base package work ?
> > 
> > There is a problem with stuffit expander that uses to convert 
> > line-endings differently if you are using the MacOS or the MacOS X 
> > version.
> > 
> > 
> > Stefano
> > 
> > On Venerdì, novembre 9, 2001, at 12:04 , David A Richmond wrote:
> > 
> > > Hi,
> > > 	I recently switched to OS 10.1, and R1.3.1, from 8.6/1.3.0, where
> > > I had a .Rprofile file with a .First function:
> > >
> > > ..First <- function() {
> > > 	library(sna)
> > > 	etc...
> > > }
> > >
> > > This worked in R1.3.0 on 8.6.  Upon downloading 1.3.1 into osX I moved
> > > ..Rprofile to the new R folder, but when I run it I get the following 
> > > error
> > > on startup:
> > > Error: syntax error: evaluating expression 0
> > >
> > > it doesn't matter what's in the function, if I comment out everything
> > > inside .First I still get the error
> > >
> > > what am I doing wrong?
> > >
> > > daver
> > >
> > >
> > 
> 
> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
> |David Richmond                It works on a          |      
> + Dept. of Sociology          complex scientific      + 
> |Saint Mary's College          principle, known as    |  
> + Notre Dame, IN 46556               "pot luck."      +
> |219-284-4517                    - The Doctor         |
> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
> 

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


From jago@mclink.it  Sun Nov 11 11:29:17 2001
From: jago@mclink.it (Stefano Iacus)
Date: Sun, 11 Nov 2001 12:29:17 +0100
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
In-Reply-To: <Pine.GSO.4.20.0111102002300.12383-100000@jade.saintmarys.edu>
Message-ID: <3B54E2A10037B6FC@mail.fastwebnet.it> (added by postmaster@fastwebnet.it)

Thank you David for this note.

Stefano

On Domenica, novembre 11, 2001, at 02:12 , David A Richmond wrote:

> to anyone interested in creating an .Rprofile file in os X:
>
> 	After having some problems getting the .Rprofile file to work in
> under 10.1 I have discovered the following:
>
> 1) OS 10.1 doesn't let you name files that begin with a period '.' in 
> the
> Finder, or save them in programs such as BBedit. The only way to 
> create a
> file that begins with a period is to use the command line. (i.e. use
> Terminal, and use the mv command: "mv filename .filename")
>
> 2) R 1.3.1 carbon for mac OS 10/9 requires that the line breaks be
> Macintosh line breaks and not Unix line breaks. Thus, a file such as
> ..Rprofile created and saved using pico will not work, as the line 
> breaks
> are unix and not mac.
>
> 	Thus, in order to create a working .Rprofile command I had to
> first create a file with mac line breaks in BBedit, and save it as
> "Rprofile", and then use the Terminal to change the name:
> "mv Rprofile .Rprofile"
>
> hope this helps someone avoid some frustration,
> daver
>
>

From MacStats@mac.com  Sun Nov 11 22:06:12 2001
From: MacStats@mac.com (MacStats@mac.com)
Date: Sun, 11 Nov 2001 14:06:12 -0800
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
In-Reply-To: <200111111101.MAA22724@stat.math.ethz.ch>
References: <200111111101.MAA22724@stat.math.ethz.ch>
Message-ID: <p0510030bb814a4c5c758@[10.0.1.17]>

On 10 Nov 2001 20:12:18 -0500, David A Richmond wrote:

>1) OS 10.1 doesn't let you name files that begin with a period '.' in the
>Finder, or save them in programs such as BBedit. The only way to create a
>file that begins with a period is to use the command line. (i.e. use
>Terminal, and use the mv command: "mv filename .filename")

Under Mac OS 1/4/6/7/9, the ".file" form has a special meaning -- it means a device driver.  So a Carbonized program like BBEdit would assume this is a driver.

You should report this to BareBones, it's easy enough to fix if they know where to look.
>
>2) R 1.3.1 carbon for mac OS 10/9 requires that the line breaks be
>Macintosh line breaks and not Unix line breaks. Thus, a file such as
>.Rprofile created and saved using pico will not work, as the line breaks
>are unix and not mac.

This will probably be an issue for both versions of R for Mac OS X. Not that I can volunteer Jan or Stefano's time, but it would be nice if ordinary line input could auto-detect which format the file is in and treat it accordingly
-- 
-----------------------
Joel West
Webmaster, MacStats web site
http://homepage.mac.com/MacStats

From richmond@saintmarys.edu  Mon Nov 12 04:37:36 2001
From: richmond@saintmarys.edu (David A Richmond)
Date: Sun, 11 Nov 2001 23:37:36 -0500 (EST)
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
In-Reply-To: <p0510030bb814a4c5c758@[10.0.1.17]>
Message-ID: <Pine.GSO.4.20.0111112329440.346-100000@jade.saintmarys.edu>

On Sun, 11 Nov 2001 MacStats@mac.com wrote:

> On 10 Nov 2001 20:12:18 -0500, David A Richmond wrote:
> 
> >1) OS 10.1 doesn't let you name files that begin with a period '.' in the
> >Finder, or save them in programs such as BBedit. The only way to create a
> >file that begins with a period is to use the command line. (i.e. use
> >Terminal, and use the mv command: "mv filename .filename")
> 
> Under Mac OS 1/4/6/7/9, the ".file" form has a special meaning -- it
> means a device driver.  So a Carbonized program like BBEdit would
> assume this is a driver.
> 
> You should report this to BareBones, it's easy enough to fix if they
> know where to look. 

It's not just bbedit, it seems to be pervasive; programs like BBedit and
Appleworks will dim and disable the save button when the filename begins
with a '.', TextEdit will let you click "save" but will then inform you
that you can't use the name. The Finder does a similar thing.

To its credit, BBedit will allow you to open a hidden file, it just
can't save as one. I think they are aware of the problem/situation, and
are just following the rules.

> This will probably be an issue for both versions of R for Mac OS X.
> Not that I can volunteer Jan or Stefano's time, but it would be nice
> if ordinary line input could auto-detect which format the file is in
> and treat it accordingly 

yep, it would have saved me a few frustrating hours. OTOH, I'm just glad
that people like Jan and Stefano have made it possible to run R on my mac
in the first place.

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


From jago@mclink.it  Mon Nov 12 12:52:09 2001
From: jago@mclink.it (Stefano Iacus)
Date: Mon, 12 Nov 2001 13:52:09 +0100
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
In-Reply-To: <p0510030bb814a4c5c758@[10.0.1.17]>
Message-ID: <200111121252.fACCq6t26664@mail.mclink.it>


>> 2) R 1.3.1 carbon for mac OS 10/9 requires that the line breaks be
>> Macintosh line breaks and not Unix line breaks. Thus, a file such as
>> .Rprofile created and saved using pico will not work, as the line 
>> breaks
>> are unix and not mac.
>
> This will probably be an issue for both versions of R for Mac OS X. Not 
> that I can volunteer Jan or Stefano's time, but it would be nice if 
> ordinary line input could auto-detect which format the file is in and 
> treat it accordingly
> --

As I said in a previous mail, next release of R will be aware of this 
problem.

Stefano

From tlumley@u.washington.edu  Mon Nov 12 18:09:52 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 12 Nov 2001 10:09:52 -0800 (PST)
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
In-Reply-To: <Pine.GSO.4.20.0111112329440.346-100000@jade.saintmarys.edu>
Message-ID: <Pine.A41.4.33.0111121002290.152720-100000@homer40.u.washington.edu>

On Sun, 11 Nov 2001, David A Richmond wrote:

> On Sun, 11 Nov 2001 MacStats@mac.com wrote:
>
> > On 10 Nov 2001 20:12:18 -0500, David A Richmond wrote:
> >
> > >1) OS 10.1 doesn't let you name files that begin with a period '.' in the
> > >Finder, or save them in programs such as BBedit. The only way to create a
> > >file that begins with a period is to use the command line. (i.e. use
> > >Terminal, and use the mv command: "mv filename .filename")
> >
> > Under Mac OS 1/4/6/7/9, the ".file" form has a special meaning -- it
> > means a device driver.  So a Carbonized program like BBEdit would
> > assume this is a driver.
> >
> > You should report this to BareBones, it's easy enough to fix if they
> > know where to look.
>
> It's not just bbedit, it seems to be pervasive; programs like BBedit and
> Appleworks will dim and disable the save button when the filename begins
> with a '.', TextEdit will let you click "save" but will then inform you
> that you can't use the name. The Finder does a similar thing.

According to an article at ArsTechnica
  http://arstechnica.com/reviews/01q3/metadata/metadata-1.html
Apple is pushing hard for the Windows approach to file extensions -- all
files should have an extension that matches the file type.  This is not
going to coexist happily with Unix hidden files, so I don't know what the
ideal solution is.

Perhaps .Rprofile should be an extension for profiles, giving file names
like my.Rprofile?

	-thomas


From deleeuw@stat.ucla.edu  Mon Nov 12 20:15:58 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Mon, 12 Nov 2001 12:15:58 -0800
Subject: [R-SIG-Mac]R-1.3.1 Darwin/X11 update
Message-ID: <15F6AA1A-D7AA-11D5-835E-00039319314A@stat.ucla.edu>

At http://gifi.stat.ucla.edu/R/builds you will find

-rw-r--r--    1 root     staff     6269465 Nov 12 11:41 
R-1.3.1-MacOSX-base.tar.gz
-rw-r--r--    1 root     staff    26897855 Nov 12 12:04 
R-1.3.1-MacOSX-full.tar.gz
-rw-r--r--    1 root     staff     3056494 Nov 12 11:59 
R-1.3.1-MacOSX-recommended.tar.gz

The "base" file contains the (patched) R-base distribution, unpack in
/usr/local. The "recommended" file contains recommended packages,
unpack in /usr/local/lib/R/library. The "full" file contains up-to-date
versions of 160 packages, also unpack in /usr/local/lib/R/library. I 
think
these files should replace the older ones at CRAN.

This build uses the newest versions of f2c, ATLAS, dlcompat, tcl/tk, 
xfree86, and
so on, all from fink.sourceforge.net. It is suitable for MacOS X 10.1, 
i.e. for
Darwin 5.1.

Also at http://gifi.stat.ucla.edu/R/builds you will find the build 
directories
for R-devel and R-patched, and at http://gifi.stat.ucla.edu/R/dylibs you
can find the missing dylibs R may complain about.  Problems to me.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From deleeuw@stat.ucla.edu  Tue Nov 13 00:51:04 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Mon, 12 Nov 2001 16:51:04 -0800
Subject: [R-SIG-Mac]Re: R-1.3.1-OSX-full installation problem
In-Reply-To: <3BF06848.9020405@bigpace.med.utah.edu>
Message-ID: <83ECB6C3-D7D0-11D5-835E-00039319314A@stat.ucla.edu>

1. download libz.1.1.3.dylib from http://gifi.stat.ucla.edu/R/dylibs 
into /sw/lib
then  try again

2. if that also doesn't work do then
setenv DYLD_LIBRARY_PATH /sw/lib:$DYLD_LIBRARY_PATH
and try again. if that works, put the setenv in your .cshrc.

3. if  that still does not work say

otool -L /usr/local/lib/R/R.bin

and tell me what you see.

--- Jan


On Monday, November 12, 2001, at 04:24 , Nathan Leon Pace, MD, MStat 
wrote:

> Dear Prof Jan de Leeuw:
>
> I have a Dual 800 G4 running MAC OS 10.1 up and going for 3 weeks.
>
> I installed R-1.3.1-OSX-full as directed in /usr/local/bin and 
> /usr/local/lib.
>
> The first time I launched R, the following appeared:
>
> dyld: /usr/local/lib/R/bin/R.bin version mismatch for library: 
> /usr/lib/libz.1.dylib (compatibility version of user: 1.1.3 greater 
> than library's version: 1.0.0)
>
> Suggestions would be appreciated.
>
> Thanks,
>
> Nathan Pace
>
> -- Nathan Leon Pace, MD, MStat  Work:nlpace@bigpace.med.utah.ed
> Department of Anesthesiology Play:nlpaces@home.com
> University of Utah           Work:801.581.6393  Play:801.467.2925
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From deleeuw@stat.ucla.edu  Tue Nov 13 01:42:59 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Mon, 12 Nov 2001 17:42:59 -0800
Subject: [R-SIG-Mac]timing R and R and R and R
Message-ID: <C4DC540D-D7D7-11D5-AA42-00039319314A@stat.ucla.edu>

We have two versions of R-1.3.1. The first one is the Carbon version
of Stefano Iacus. This is a CFM/PEF version, so it can run on OS 9.x
and on OS X 10.x. We can run this version in OS 9.x in two ways: by
booting into OS (.x and by running it in the Classic environment in
OS X.  The second version we use is the Darwin/X11 version,
which only runs on OS X 10.x, because it is a Mach-O program.

We have a single G4 with two 800MHz CPU's. It runs MacOS
9.2.2b7c2 and MacOS X 10.1.2 (5M64).

We have a single test. Define

hilbert<-function(n) 1/(outer(seq(n),seq(n),"+")-1)
system.time(eigen(hilbert(xxx)))

where xxx is either 500 or 1000.

For xxx equal to 500 we need 21 seconds under OS 9, 20 seconds
under OS 10, and 14 seconds under Darwin. It requires 21
seconds under Classic.

For xxx equal to 1000 we need 177 seconds under OS 9, 173
seconds under OS 10, and 126 seconds under Darwin. Classic
uses 176 seconds.

Thus for this particular example Darwin is about 40% faster than
OS 10 Carbon, which may be about 1-2% faster than OS 9 Carbon.
There can be various reasons, of course. The compilers are
different. CFM applications are translated by the OS to
Mach-O applications, which could take some time. It is quite
possible that SMP works better for Mach-O under Darwin
(this is a two-processor machine, after all). In any case, the
speed difference seems significant.

It does not seem to make a difference if we run the Carbon program
natively in OS X, or natively in OS 9, or in Classic in OS X. That's
quite remarkable. Of course if we want to run it natively under OS 9
we have to give R a lot of memory, and both in OS 9 and Classic
the cooperative MP freezes the system during the computations.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From stefano.iacus@unimi.it  Tue Nov 13 13:03:46 2001
From: stefano.iacus@unimi.it (Stefano Iacus)
Date: Tue, 13 Nov 2001 14:03:46 +0100
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <C4DC540D-D7D7-11D5-AA42-00039319314A@stat.ucla.edu>
Message-ID: <3B54E2A10039EB26@mail.fastwebnet.it> (added by postmaster@fastwebnet.it)

Jan, thank you for this test.

What would be nice to do it to integrate the Carbon GUI of R into the 
Darwin Mach-O port.
After R 1.4 will be released I'll be mostly involved in this and I'm not 
sure yet if I'll continue to develop the Carbon version as Apple is 
going to abandon old MacOS as MacOS X is now more than 1 year old. (With 
this I mean that I'll not implement new features for the Carbon version 
but just recompile it for one or two releases after 1.4).
I hope that in the end I can finally attack the quartz device so that 
the darwin version can have its own Aqua-gui and quartz-device.


Probably this list is a good place to put this question:

does it take sense to continue to support old MacOS'es ?

I'm looking forward for comments on this.

Stefano

On Martedì, novembre 13, 2001, at 02:42 , Jan de Leeuw wrote:

> We have two versions of R-1.3.1. The first one is the Carbon version
> of Stefano Iacus. This is a CFM/PEF version, so it can run on OS 9.x
> and on OS X 10.x. We can run this version in OS 9.x in two ways: by
> booting into OS (.x and by running it in the Classic environment in
> OS X.  The second version we use is the Darwin/X11 version,
> which only runs on OS X 10.x, because it is a Mach-O program.
>
> We have a single G4 with two 800MHz CPU's. It runs MacOS
> 9.2.2b7c2 and MacOS X 10.1.2 (5M64).
>
> We have a single test. Define
>
> hilbert<-function(n) 1/(outer(seq(n),seq(n),"+")-1)
> system.time(eigen(hilbert(xxx)))
>
> where xxx is either 500 or 1000.
>
> For xxx equal to 500 we need 21 seconds under OS 9, 20 seconds
> under OS 10, and 14 seconds under Darwin. It requires 21
> seconds under Classic.
>
> For xxx equal to 1000 we need 177 seconds under OS 9, 173
> seconds under OS 10, and 126 seconds under Darwin. Classic
> uses 176 seconds.
>
> Thus for this particular example Darwin is about 40% faster than
> OS 10 Carbon, which may be about 1-2% faster than OS 9 Carbon.
> There can be various reasons, of course. The compilers are
> different. CFM applications are translated by the OS to
> Mach-O applications, which could take some time. It is quite
> possible that SMP works better for Mach-O under Darwin
> (this is a two-processor machine, after all). In any case, the
> speed difference seems significant.
>
> It does not seem to make a difference if we run the Carbon program
> natively in OS X, or natively in OS 9, or in Classic in OS X. That's
> quite remarkable. Of course if we want to run it natively under OS 9
> we have to give R a lot of memory, and both in OS 9 and Classic
> the cooperative MP freezes the system during the computations.
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
> homepage: http://www.stat.ucla.edu/~deleeuw
> ========================================================
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
> ========================================================
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>

From pdmmac@mcmail.cis.mcmaster.ca  Tue Nov 13 13:24:16 2001
From: pdmmac@mcmail.cis.mcmaster.ca (Peter Macdonald)
Date: Tue, 13 Nov 2001 08:24:16 -0500 (EST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <3B54E2A10039EB26@mail.fastwebnet.it> (added by postmaster@fastwebnet.it)
Message-ID: <Pine.SOL.4.33.0111130814540.5022-100000@mcmail.cis.mcmaster.ca>

"does it make sense to continue to support old MacOS'es ?"

In the long run, no... but I am running a 6100 and an 8100, both more than
7 years old, with Sonnet G3 upgrades. They are fast enough for my needs,
very stable, support all my periperals, etc. Im running OS 8.6, I don't
think they would support 9.2 very well. I know I could replace them with
something much better for about $2500 each but that is still a lot of
money when these meet my needs. So I will certainly be appreciative of OS
8.6 support for another year. Beyond that, I won't expect developers to
put in extra hours to save me a few $$ in hardware.

Of course, every year I postpone getting new machines, the better the
machines I will get when I do upgrade!

*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*
 Peter D.M. Macdonald, D.Phil.      McMaster University
 Professor of Math & Statistics     Hamilton, Ontario, Canada L8S 4K1
*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*




From tlumley@u.washington.edu  Tue Nov 13 16:50:31 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Tue, 13 Nov 2001 08:50:31 -0800 (PST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <3B54E2A10039EB26@mail.fastwebnet.it> (added by postmaster@fastwebnet.it)
Message-ID: <Pine.A41.4.33.0111130848220.38952-100000@homer33.u.washington.edu>

On Tue, 13 Nov 2001, Stefano Iacus wrote:
>
> Probably this list is a good place to put this question:
>
> does it take sense to continue to support old MacOS'es ?
>
> I'm looking forward for comments on this.
>

The computing support people here at UW don't support OS X. This doesn't
really affect me, but it would affect some people.

I don't know how widespread this sort of thing is.

	-thomas


From pdmmac@mcmail.cis.mcmaster.ca  Tue Nov 13 17:04:42 2001
From: pdmmac@mcmail.cis.mcmaster.ca (Peter Macdonald)
Date: Tue, 13 Nov 2001 12:04:42 -0500 (EST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <Pine.A41.4.33.0111130848220.38952-100000@homer33.u.washington.edu>
Message-ID: <Pine.SOL.4.33.0111131159340.20612-100000@mcmail.cis.mcmaster.ca>

The majority of people I happen to know with new Macs (not a meaningful
statistical sample, I admit) have switched or are about to switch to OS
10.1 because it is so much more stable than OS 9.2; they were getting
frequent crashes and freezes for no apparent reason but not with OS X.

*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*
 Peter D.M. Macdonald, D.Phil.      McMaster University
 Professor of Math & Statistics     Hamilton, Ontario, Canada L8S 4K1
*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*


On Tue, 13 Nov 2001, Thomas Lumley wrote:

> On Tue, 13 Nov 2001, Stefano Iacus wrote:
> >
> > Probably this list is a good place to put this question:
> >
> > does it take sense to continue to support old MacOS'es ?
> >
> > I'm looking forward for comments on this.
> >
>
> The computing support people here at UW don't support OS X. This doesn't
> really affect me, but it would affect some people.
>
> I don't know how widespread this sort of thing is.
>
> 	-thomas
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From Jean.Thioulouse@biomserv.univ-lyon1.fr  Tue Nov 13 17:53:36 2001
From: Jean.Thioulouse@biomserv.univ-lyon1.fr (Jean Thioulouse)
Date: Tue, 13 Nov 2001 18:53:36 +0100
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <Pine.SOL.4.33.0111131159340.20612-100000@mcmail.cis.mcmaster.ca>
References: <Pine.SOL.4.33.0111131159340.20612-100000@mcmail.cis.mcmaster.ca>
Message-ID: <p04330101b8170667c994@[134.214.32.58]>

None of the people I know at the University of Lyon have switched
to OS X, and none of them will switch in the next few months, even
those buying new Macs.

I think it will take at least one year until a significant part
of them do so. OS X is far from being a final version of Mac OS.
Even in 10.1, there is still many problems in the GUI, and too many
programs are missing an OS X version (other than a beta).

OS X has much higher needs in terms of CPU power and memory, so only
people buying new Macs will have the opportunity to switch. Looking
at the rate of new Macs purchase shows that it will take a long time
before OS X really spreads here.

Jean
-- 
Jean Thioulouse - Equipe "Ecologie  Statistique" - UMR CNRS 5558
Universite Lyon 1, Bat. Mendel, 69622 Villeurbanne Cedex, France
Fax: (33) 4 78 89 27 19                  Tel: (33) 4 72 43 27 56
          http://pbil.univ-lyon1.fr/ADE-4/JTHome.html

From deleeuw@stat.ucla.edu  Tue Nov 13 18:13:15 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Tue, 13 Nov 2001 10:13:15 -0800
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <3B54E2A10039EB26@mail.fastwebnet.it> (added by postmaster@fastwebnet.it)
Message-ID: <1B485189-D862-11D5-A45F-00039319314A@stat.ucla.edu>

I agree that making a single bundle would be a good thing and that
and Quartz device would be very nice too.

My vote would be to freeze the Carbon/CFM version after, say,
1.4 and devote as much energy as possible to Cocoa and Mach-O.
I had to work in 9.2.2 again for a while to do the test, and it was
quite painful (which did surprise me). The (lack of) memory handling and
the "multiprocessing" really get to you, and even the GUI now looks
drab.

We have at least 100 Macs in labs, and in staff and faculty offices. 
They all
run OS X 10.1. If you feel nostalgic, you have Classic (which does not 
seem
to bring much of a performance penalty). As for lack of applications, 
just
install Xfree86 .. you never had it so good. And the command line as 
well.


On Tuesday, November 13, 2001, at 05:03 , Stefano Iacus wrote:

> Jan, thank you for this test.
>
> What would be nice to do it to integrate the Carbon GUI of R into the 
> Darwin Mach-O port.
> After R 1.4 will be released I'll be mostly involved in this and I'm 
> not sure yet if I'll continue to develop the Carbon version as Apple is 
> going to abandon old MacOS as MacOS X is now more than 1 year old. 
> (With this I mean that I'll not implement new features for the Carbon 
> version but just recompile it for one or two releases after 1.4).
> I hope that in the end I can finally attack the quartz device so that 
> the darwin version can have its own Aqua-gui and quartz-device.
>
>
> Probably this list is a good place to put this question:
>
> does it take sense to continue to support old MacOS'es ?
>
> I'm looking forward for comments on this.
>
> Stefano
>
> On Martedì, novembre 13, 2001, at 02:42 , Jan de Leeuw wrote:
>
>> We have two versions of R-1.3.1. The first one is the Carbon version
>> of Stefano Iacus. This is a CFM/PEF version, so it can run on OS 9.x
>> and on OS X 10.x. We can run this version in OS 9.x in two ways: by
>> booting into OS (.x and by running it in the Classic environment in
>> OS X.  The second version we use is the Darwin/X11 version,
>> which only runs on OS X 10.x, because it is a Mach-O program.
>>
>> We have a single G4 with two 800MHz CPU's. It runs MacOS
>> 9.2.2b7c2 and MacOS X 10.1.2 (5M64).
>>
>> We have a single test. Define
>>
>> hilbert<-function(n) 1/(outer(seq(n),seq(n),"+")-1)
>> system.time(eigen(hilbert(xxx)))
>>
>> where xxx is either 500 or 1000.
>>
>> For xxx equal to 500 we need 21 seconds under OS 9, 20 seconds
>> under OS 10, and 14 seconds under Darwin. It requires 21
>> seconds under Classic.
>>
>> For xxx equal to 1000 we need 177 seconds under OS 9, 173
>> seconds under OS 10, and 126 seconds under Darwin. Classic
>> uses 176 seconds.
>>
>> Thus for this particular example Darwin is about 40% faster than
>> OS 10 Carbon, which may be about 1-2% faster than OS 9 Carbon.
>> There can be various reasons, of course. The compilers are
>> different. CFM applications are translated by the OS to
>> Mach-O applications, which could take some time. It is quite
>> possible that SMP works better for Mach-O under Darwin
>> (this is a two-processor machine, after all). In any case, the
>> speed difference seems significant.
>>
>> It does not seem to make a difference if we run the Carbon program
>> natively in OS X, or natively in OS 9, or in Classic in OS X. That's
>> quite remarkable. Of course if we want to run it natively under OS 9
>> we have to give R a lot of memory, and both in OS 9 and Classic
>> the cooperative MP freezes the system during the computations.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>


From tlumley@u.washington.edu  Tue Nov 13 18:21:43 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Tue, 13 Nov 2001 10:21:43 -0800 (PST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <1B485189-D862-11D5-A45F-00039319314A@stat.ucla.edu>
Message-ID: <Pine.A41.4.33.0111131019270.38952-100000@homer33.u.washington.edu>

On Tue, 13 Nov 2001, Jan de Leeuw wrote:

>
> We have at least 100 Macs in labs, and in staff and faculty offices.
> They all
> run OS X 10.1. If you feel nostalgic, you have Classic (which does not
> seem
> to bring much of a performance penalty). As for lack of applications,
> just
> install Xfree86 .. you never had it so good. And the command line as
> well.

yes, but the question isn't whether people *should* switch to OS X but
whether enough of them *have* switched.

We need to know if there are a lot of people who have some sort of
constraint against otherwise rational switching (eg old equipment or
conservative support people).


	-thomas


From richmond@saintmarys.edu  Tue Nov 13 18:57:04 2001
From: richmond@saintmarys.edu (David A Richmond)
Date: Tue, 13 Nov 2001 13:57:04 -0500 (EST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <3B54E2A10039EB26@mail.fastwebnet.it> (added by postmaster@fastwebnet.it)
Message-ID: <Pine.GSO.4.20.0111131333300.18588-100000@jade.saintmarys.edu>

On Tue, 13 Nov 2001, Stefano Iacus wrote:

> Probably this list is a good place to put this question:
> 
> does it take sense to continue to support old MacOS'es ?
> 

2 cents:
	I am moving away from os9 and doing as much as I possibly can in
osX. I am going to abandon 9 completely as soon as it is feasible for me
to do everything I need to do in X. What I would like to see most is a
Cocoa version of R. It is my understanding that Carbon is nice for
cross-OS compatibility, but ultimately Cocoa is the API of choice. Would I
be correct in assuming that performance differences Jan found would also
be seen between a Carbon app and a Cocoa app?
	
dave richmond

(p.s. it probably makes sense to support the classic OS for a while,
though, as many people aren't migrating immediately, due to outmoded
hardware.)

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+




From tlumley@u.washington.edu  Tue Nov 13 19:34:05 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Tue, 13 Nov 2001 11:34:05 -0800 (PST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <Pine.GSO.4.20.0111131333300.18588-100000@jade.saintmarys.edu>
Message-ID: <Pine.A41.4.33.0111131131590.38952-100000@homer33.u.washington.edu>

On Tue, 13 Nov 2001, David A Richmond wrote:

> 	I am moving away from os9 and doing as much as I possibly can in
> osX. I am going to abandon 9 completely as soon as it is feasible for me
> to do everything I need to do in X. What I would like to see most is a
> Cocoa version of R. It is my understanding that Carbon is nice for
> cross-OS compatibility, but ultimately Cocoa is the API of choice. Would I
> be correct in assuming that performance differences Jan found would also
> be seen between a Carbon app and a Cocoa app?

I don't think we know. It's a reasonable guess, but there could be user
interface overhead.

The difference is suprisingly large given that (IIRC) R runs with almost
the same speed under Windows and Linux on the same hardware.


	-thomas


From deleeuw@stat.ucla.edu  Tue Nov 13 20:05:11 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Tue, 13 Nov 2001 12:05:11 -0800
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <Pine.A41.4.33.0111131131590.38952-100000@homer33.u.washington.edu>
Message-ID: <BE2CC3FE-D871-11D5-861B-003065A21C86@stat.ucla.edu>

It may also be ATLAS that causes some of the 40% speed increase.

On Tuesday, November 13, 2001, at 11:34 AM, Thomas Lumley wrote:

> On Tue, 13 Nov 2001, David A Richmond wrote:
>
>> 	I am moving away from os9 and doing as much as I possibly can in
>> osX. I am going to abandon 9 completely as soon as it is feasible for 
>> me
>> to do everything I need to do in X. What I would like to see most is a
>> Cocoa version of R. It is my understanding that Carbon is nice for
>> cross-OS compatibility, but ultimately Cocoa is the API of choice. 
>> Would I
>> be correct in assuming that performance differences Jan found would 
>> also
>> be seen between a Carbon app and a Cocoa app?
>
> I don't think we know. It's a reasonable guess, but there could be user
> interface overhead.
>
> The difference is suprisingly large given that (IIRC) R runs with almost
> the same speed under Windows and Linux on the same hardware.
>
>
> 	-thomas
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics
US mail: 8142 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
                  www: http://www.stat.ucla.edu/~deleeuw
==========================================================================
==
          Remember, wherever you go, there you are. --- Buckaroo Banzai
==========================================================================
==


From tlumley@u.washington.edu  Tue Nov 13 20:17:39 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Tue, 13 Nov 2001 12:17:39 -0800 (PST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <BE2CC3FE-D871-11D5-861B-003065A21C86@stat.ucla.edu>
Message-ID: <Pine.A41.4.33.0111131217110.38952-100000@homer33.u.washington.edu>

On Tue, 13 Nov 2001, Jan de Leeuw wrote:

> It may also be ATLAS that causes some of the 40% speed increase.
>

Ah. Yes. On that benchmark ATLAS would make a huge difference.

	-thomas




From jago@mclink.it  Tue Nov 13 21:42:02 2001
From: jago@mclink.it (Stefano Iacus)
Date: Tue, 13 Nov 2001 22:42:02 +0100 (CET)
Subject: [R-SIG-Mac]timing R and R and R and R
Message-ID: <1.0.2.200111132239.5094@mclink.it>

let me say that the new release of R will be around 10% faster as I changed the compiler from CodeWarrior to Apple MRC.

stefano

> 
> > It may also be ATLAS that causes some of the 40% speed increase.
> >
> 
> Ah. Yes. On that benchmark ATLAS would make a huge difference.
> 
> 	-thomas
> 
> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac



From deleeuw@stat.ucla.edu  Wed Nov 14 04:21:07 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Tue, 13 Nov 2001 20:21:07 -0800
Subject: [R-SIG-Mac]more speeding
Message-ID: <0662220B-D8B7-11D5-B2C5-00039319314A@stat.ucla.edu>

Yesterday I found that that R-1.3.1-Darwin is about 40% faster on the 
eigen/hilbert
benchmark than R-1.3.1-Carbon. This may be due  to the fact that
the Darwin version uses ATLAS. but now let's compare with R-1.4.0 
(devel)  under
Darwin.

n=500    carbon  20    darwin-1.3.1   14     darwin-1.4.0    6
n=1000 carbon 173   darwin-1.3.1 126     darwin 1.4.0  69

Thus we see that the development version of R is about twice as fast
as the 1.3.1 version. The two main differences from the compilation
point of view are that (a) R-devel uses g77 while R-patched uses
f2c, and (b) R-devel uses two-level-namespaces, while R-patched
uses flat-namespaces. Unless there are optimizations in R itself
that explain this huge difference, it must be (a). Both versions use
the same ATLAS, etc.

To compare this with a benchmark that does not use ATLAS or
FORTRAN code (I think), we use system.time(sort(rnorm(n)))
where n is either 10^6 or 10^7. For 10^6 Carbon, Darwin-1.3.1,
and Darwin-1.4.0 use 16, 14, and 15 seconds. For 10^7 this is
241, 210, and 228 seconds. The Darwin versions are 10-15%
faster, with 1.3.1 slightly faster than 1.4.0. With the MrC compiler
under MPW presumably the Carbon version will catch up here,
although it still does not have ATLAS and it still uses f2c, so
it will not do well on the linear algebra.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 14 07:43:47 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 14 Nov 2001 08:43:47 +0100
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <p04330101b8170667c994@[134.214.32.58]>
References: <Pine.SOL.4.33.0111131159340.20612-100000@mcmail.cis.mcmaster.ca>
 <p04330101b8170667c994@[134.214.32.58]>
Message-ID: <15346.8371.690244.386749@gargle.gargle.HOWL>

>>>>> "Jean" == Jean Thioulouse <Jean.Thioulouse@biomserv.univ-lyon1.fr> writes:

    Jean> None of the people I know at the University of Lyon have switched
    Jean> to OS X, and none of them will switch in the next few months, even
    Jean> those buying new Macs.

    Jean> I think it will take at least one year until a significant part
    Jean> of them do so. OS X is far from being a final version of Mac OS.
    Jean> Even in 10.1, there is still many problems in the GUI, and too many
    Jean> programs are missing an OS X version (other than a beta).

    Jean> OS X has much higher needs in terms of CPU power and memory, so only
    Jean> people buying new Macs will have the opportunity to switch. Looking
    Jean> at the rate of new Macs purchase shows that it will take a long time
    Jean> before OS X really spreads here.

I think this applies to "here" (Zurich, Switzerland) as well.
Many people apply
     ``Never change a winning team''
to their computing environment.  Companies and private persons.

The question is what "long time" means. Certainly a bit longer than 1.4
(i.e. I'm voting partly against Jan DeLeeuw's proposal).
I still agree that most part of Stefano's future work should be directed
towards Quartz and OS X.y support.  But OS [89].y support (i.e. ensure that
new R releases work on these) should not be dropped for the next one or two
years I think. 

    Jean> Jean Thioulouse - Equipe "Ecologie  Statistique" - UMR CNRS 5558
    Jean> Universite Lyon 1, Bat. Mendel, 69622 Villeurbanne Cedex, France
    Jean> Fax: (33) 4 78 89 27 19                  Tel: (33) 4 72 43 27 56
    Jean> http://pbil.univ-lyon1.fr/ADE-4/JTHome.html

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

From stefano.iacus@unimi.it  Wed Nov 14 10:45:49 2001
From: stefano.iacus@unimi.it (Stefano Iacus)
Date: Wed, 14 Nov 2001 11:45:49 +0100
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <Pine.A41.4.33.0111131131590.38952-100000@homer33.u.washington.edu>
Message-ID: <C49AD4C0-D8EC-11D5-85C2-003065CC4CB8@unimi.it>

>>  Would I
>> be correct in assuming that performance differences Jan found would 
>> also
>> be seen between a Carbon app and a Cocoa app?
>
> I don't think we know. It's a reasonable guess, but there could be user
> interface overhead.
>

I don't think so, in Jan's test most is due to numerical issues.

As I told in a previous message the new release will be a 10% faster 
when I compile it with Apple MRC compiler instead of using CodeWarrior.



From jago@mclink.it  Wed Nov 14 10:56:53 2001
From: jago@mclink.it (Stefano Iacus)
Date: Wed, 14 Nov 2001 11:56:53 +0100
Subject: [R-SIG-Mac]around old MacOS support
Message-ID: <504F654A-D8EE-11D5-85C2-003065CC4CB8@mclink.it>

Thank you all for your comments. I'll take them into account.

My message was a bit provocative and it reached the target probably :)

The real essential of what I meant was that: probably after 1.4 I'll not 
improve any further the Carbon Gui, I'll just recompile every release of 
R but very few bug fixing at each release. I probably will do that since 
the R kernel will not be substantially changed (release 2.x ? let's see.)

Recompiling packages and R kernel is highly time consuming (trust me) 
and in same sense I enjoy it anyway, but it is a matter of fact that new 
iMacs are shipped since july with the OSX pre-installed. Old MacOS apple 
environments (like MPW for example) have been freezed as apple want 
developers and people to work on OS X.

Probably I'm wrong, but people with old hardware that cannot objectively 
switch to OS X are probably limited in the choice of applications 
available just now. Professionals or university depts have to switch 
sooner or later (I guess sooner) to OS X otherwise they will be obliged 
to work with old releases of applications (and so why not with an old 
release of R ?).


Of course this is my opinion. But let's take open in this SIG this 
topic...

Stefano


From dbraden@rochester.rr.com  Thu Nov 15 08:34:11 2001
From: dbraden@rochester.rr.com (David J. Braden)
Date: Thu, 15 Nov 2001 03:34:11 -0500
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <BE2CC3FE-D871-11D5-861B-003065A21C86@stat.ucla.edu>
Message-ID: <B818E832.C09C%dbraden@rochester.rr.com>

Forgive me, please, for my ignorance, but what is ATLAS?

Also, is there a repository for solid empirics on how our various systems
fare with R?

TIA, big time.
Dave Braden

> It may also be ATLAS that causes some of the 40% speed increase.
> 
> On Tuesday, November 13, 2001, at 11:34 AM, Thomas Lumley wrote:
> 
>> On Tue, 13 Nov 2001, David A Richmond wrote:
>> 
>>> I am moving away from os9 and doing as much as I possibly can in
>>> osX. I am going to abandon 9 completely as soon as it is feasible for
>>> me
>>> to do everything I need to do in X. What I would like to see most is a
>>> Cocoa version of R. It is my understanding that Carbon is nice for
>>> cross-OS compatibility, but ultimately Cocoa is the API of choice.
>>> Would I
>>> be correct in assuming that performance differences Jan found would
>>> also
>>> be seen between a Carbon app and a Cocoa app?
>> 
>> I don't think we know. It's a reasonable guess, but there could be user
>> interface overhead.
>> 
>> The difference is suprisingly large given that (IIRC) R runs with almost
>> the same speed under Windows and Linux on the same hardware.
>> 
>> 
>> -thomas
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics
> US mail: 8142 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
>                 www: http://www.stat.ucla.edu/~deleeuw
> ==========================================================================
> ==
>         Remember, wherever you go, there you are. --- Buckaroo Banzai
> ==========================================================================
> ==
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac

-- 



From deleeuw@stat.ucla.edu  Thu Nov 15 18:10:15 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Thu, 15 Nov 2001 10:10:15 -0800
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <B818E832.C09C%dbraden@rochester.rr.com>
Message-ID: <04BDA73C-D9F4-11D5-949A-00039319314A@stat.ucla.edu>

ATLAS is a portable fast BLAS (basic linear algebra subroutines),
which itself is a library of elementary linear algebra routines.
LAPACK consists of more elaborate linear algebra routines
build on top of the BLAS. It is possible to optimize the BLAS
for the system that it will be running on at compile time. I dont
know the details, but ATLAS does an enormous number of compile
time checks and optimizations, which can result in a major
speed increase in linear algebra computations.

The answer to the second question is probably "no".

On Thursday, November 15, 2001, at 12:34 , David J. Braden wrote:

> Forgive me, please, for my ignorance, but what is ATLAS?
>
> Also, is there a repository for solid empirics on how our various 
> systems
> fare with R?
>
> TIA, big time.
> Dave Braden
>
>> It may also be ATLAS that causes some of the 40% speed increase.
>>
>> On Tuesday, November 13, 2001, at 11:34 AM, Thomas Lumley wrote:
>>
>>> On Tue, 13 Nov 2001, David A Richmond wrote:
>>>
>>>> I am moving away from os9 and doing as much as I possibly can in
>>>> osX. I am going to abandon 9 completely as soon as it is feasible for
>>>> me
>>>> to do everything I need to do in X. What I would like to see most 
>>>> is a
>>>> Cocoa version of R. It is my understanding that Carbon is nice for
>>>> cross-OS compatibility, but ultimately Cocoa is the API of choice.
>>>> Would I
>>>> be correct in assuming that performance differences Jan found would
>>>> also
>>>> be seen between a Carbon app and a Cocoa app?
>>>
>>> I don't think we know. It's a reasonable guess, but there could be 
>>> user
>>> interface overhead.
>>>
>>> The difference is suprisingly large given that (IIRC) R runs with 
>>> almost
>>> the same speed under Windows and Linux on the same hardware.
>>>
>>>
>>> -thomas
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac@stat.math.ethz.ch
>>> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>> ===
>> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics
>> US mail: 8142 Math Sciences Bldg, Box 951554, Los Angeles, CA 
>> 90095-1554
>> phone (310)-825-9550;  fax (310)-206-5658;  email: 
>> deleeuw@stat.ucla.edu
>>                 www: http://www.stat.ucla.edu/~deleeuw
>> ========================================================================
>> ==
>> ==
>>         Remember, wherever you go, there you are. --- Buckaroo Banzai
>> ========================================================================
>> ==
>> ==
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>
> --
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From hxue@student.stat.wvu.edu  Thu Nov 15 20:25:46 2001
From: hxue@student.stat.wvu.edu (Hengyi Xue)
Date: Thu, 15 Nov 2001 15:25:46 -0500
Subject: [R-SIG-Mac]R as a shared library
Message-ID: <003601c16e13$b57c22d0$5a6fb69d@ideal.wvu.edu>

This is a multi-part message in MIME format.

------=_NextPart_000_0033_01C16DE9.CC879650
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

Has anybody compiled R on Mac OS X as a shared library? The RJava =
interface developed by Duncan Temple Lang requires the R shared library =
if R is to be called from within Java, which I want to do.  Any =
information on this will be appreciated.

Hengyi Xue
Research Associate
Dept. of Statistics
West Virginia University

------=_NextPart_000_0033_01C16DE9.CC879650
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dwindows-1252">
<META content=3D"MSHTML 5.50.4134.600" name=3DGENERATOR></HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>Hi,</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Has anybody compiled R on Mac&nbsp;OS =
X&nbsp;as=20
a&nbsp;shared library? The RJava interface developed by Duncan Temple =
Lang=20
requires the R shared library if R is to be called from within Java, =
which I=20
want to do.&nbsp; Any information on this will be =
appreciated.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Hengyi Xue</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>Research Associate</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>Dept. of Statistics</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>West Virginia =
University</FONT></DIV></BODY></HTML>

------=_NextPart_000_0033_01C16DE9.CC879650--


From deleeuw@stat.ucla.edu  Thu Nov 15 20:24:15 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Thu, 15 Nov 2001 12:24:15 -0800
Subject: [R-SIG-Mac]R as a shared library
In-Reply-To: <003601c16e13$b57c22d0$5a6fb69d@ideal.wvu.edu>
Message-ID: <BCE6BD08-DA06-11D5-949A-00039319314A@stat.ucla.edu>

The R-devel at http://gifi.stat.ucla.edu/R/builds has a libR-dylib. Of
course it is the Darwin version, not the Carbon one.

On Thursday, November 15, 2001, at 12:25 , Hengyi Xue wrote:

> Hi,
>  
> Has anybody compiled R on Mac OS X as a shared library? The RJava 
> interface developed by Duncan Temple Lang requires the R shared library 
> if R is to be called from within Java, which I want to do.  Any 
> information on this will be appreciated.
>  
> Hengyi Xue
> Research Associate
> Dept. of Statistics
> West Virginia University
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From deleeuw@stat.ucla.edu  Fri Nov 16 19:26:19 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Fri, 16 Nov 2001 11:26:19 -0800
Subject: [R-SIG-Mac]emacs 21.1
Message-ID: <CF77CC43-DAC7-11D5-9A05-00039319314A@stat.ucla.edu>

There is now a version of emacs 21.1 in fink, with an aqua interface
(fink install emacs-alpha). You just start it by double clicking the
icon in the Applications folder, it then fills the Aqua menubar
with the usual emacs menus, and it pops up the emacs startup
screen with the usual Aqua buttons and bars. It is an alpha, but
it seems to work fine. X11 is not needed.

Installing ESS in this emacs will give you yet another way to use R
in Mac OS X (without graphics, I guess).
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From rossini@u.washington.edu  Fri Nov 16 19:43:03 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 16 Nov 2001 11:43:03 -0800
Subject: [R-SIG-Mac]emacs 21.1
In-Reply-To: <CF77CC43-DAC7-11D5-9A05-00039319314A@stat.ucla.edu>
References: <CF77CC43-DAC7-11D5-9A05-00039319314A@stat.ucla.edu>
Message-ID: <87lmh6h588.fsf@jeeves.blindglobe.net>

>>>>> "JdL" == Jan de Leeuw <deleeuw@stat.ucla.edu> writes:

    JdL> There is now a version of emacs 21.1 in fink, with an aqua
    JdL> interface (fink install emacs-alpha). You just start it by
    JdL> double clicking the icon in the Applications folder, it then
    JdL> fills the Aqua menubar with the usual emacs menus, and it
    JdL> pops up the emacs startup screen with the usual Aqua buttons
    JdL> and bars. It is an alpha, but it seems to work fine. X11 is
    JdL> not needed.

    JdL> Installing ESS in this emacs will give you yet another way to
    JdL> use R in Mac OS X (without graphics, I guess).

If someone tries this and it works (or doesn't), PLEASE let me know!

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.

From deleeuw@stat.ucla.edu  Fri Nov 16 20:47:57 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Fri, 16 Nov 2001 12:47:57 -0800
Subject: [R-SIG-Mac]emacs 21.1
In-Reply-To: <87lmh6h588.fsf@jeeves.blindglobe.net>
Message-ID: <372BC2C4-DAD3-11D5-9A05-00039319314A@stat.ucla.edu>

I am getting older, but I can still take  a hint.  It works, as far as I 
can see
now. Not surprisingly, because it's just a Cocoa wrapper around the
Darwin Emacs, I think.

On Friday, November 16, 2001, at 11:43 , A.J. Rossini wrote:

>
> If someone tries this and it works (or doesn't), PLEASE let me know!
>
> best,
> -tony
>
> --
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From deleeuw@stat.ucla.edu  Fri Nov 16 21:07:19 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Fri, 16 Nov 2001 13:07:19 -0800
Subject: [R-SIG-Mac]Emacs in OS X
Message-ID: <EBAF0EA0-DAD5-11D5-9A05-00039319314A@stat.ucla.edu>

In case people are interested in this:

OS X comes with emacs 20.7.1, which runs in the terminal window (or
in an xterm, if you are so inclined. The emacs you get from Apple does
not have X11 support compiled in.

Fink has emacs 20.7 with X11 support, emacs 21.1 with its
Cocoa wrapper Emacs.app, and xemacs-21.4.3.

I am not sure if all these emacses live together happily, but I do know
that 21.1 Cocoa and 20.7.1 Terminal now both accept M-x R and
allow you to run R and edit R files from their respective windows.

If you want graphics windows, you can have them by running 20.7 X11
or 20.7 Terminal in an Xterm, or Xemacs. I will try some other combos,
maybe.

Of course I do not know if all the other inferior packages that can run
as inferior processes using ESS also work.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From rossini@u.washington.edu  Fri Nov 16 21:21:29 2001
From: rossini@u.washington.edu (Anthony Rossini)
Date: Fri, 16 Nov 2001 13:21:29 -0800 (PST)
Subject: [R-SIG-Mac]Emacs in OS X
In-Reply-To: <ebaf0ea0_dad5_11d5_9a05_00039319314a@stat.ucla.edu>
Message-ID: <Pine.LNX.4.33.0111161321290.21137@hymn09.u.washington.edu>

I suspect that only R will work; this is similar to the situation under Windows, where most software is built with GUI integration rather than GUI on top.

Thanks, Jan; I know some people who are pleased for this information!

best,
-tony



On Fri, 16 Nov 2001, Jan de Leeuw wrote:

> In case people are interested in this:
> 
> OS X comes with emacs 20.7.1, which runs in the terminal window (or
> in an xterm, if you are so inclined. The emacs you get from Apple does
> not have X11 support compiled in.
> 
> Fink has emacs 20.7 with X11 support, emacs 21.1 with its
> Cocoa wrapper Emacs.app, and xemacs-21.4.3.
> 
> I am not sure if all these emacses live together happily, but I do know
> that 21.1 Cocoa and 20.7.1 Terminal now both accept M-x R and
> allow you to run R and edit R files from their respective windows.
> 
> If you want graphics windows, you can have them by running 20.7 X11
> or 20.7 Terminal in an Xterm, or Xemacs. I will try some other combos,
> maybe.
> 
> Of course I do not know if all the other inferior packages that can run
> as inferior processes using ESS also work.
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
> homepage: http://www.stat.ucla.edu/~deleeuw
> ========================================================
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
> ========================================================
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
> 



From tlumley@u.washington.edu  Sat Nov 17 19:27:38 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Sat, 17 Nov 2001 11:27:38 -0800 (PST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <04BDA73C-D9F4-11D5-949A-00039319314A@stat.ucla.edu>
Message-ID: <Pine.A41.4.33.0111171116470.137786-100000@homer34.u.washington.edu>

On Thu, 15 Nov 2001, Jan de Leeuw wrote:

> ATLAS is a portable fast BLAS (basic linear algebra subroutines),
> which itself is a library of elementary linear algebra routines.
> LAPACK consists of more elaborate linear algebra routines
> build on top of the BLAS. It is possible to optimize the BLAS
> for the system that it will be running on at compile time. I dont
> know the details, but ATLAS does an enormous number of compile
> time checks and optimizations, which can result in a major
> speed increase in linear algebra computations.

ATLAS is the Automatically Tuned Linear Algebra Software.  It is a very
clever approach to optimizing the low-level linear algebra operations that
underly things like Jan's eigen() benchmark. The package is at
http://math-atlas.sourceforge.net/

The idea is that the main optimisation method for linear algebra
operations is to tune the loop unrolling in matrix multiplications to
maximise cache use.  This is traditionally done by careful analysis of the
data flow, but ATLAS substitutes brute force -- it tries lots of different
things to find the ones that work best.

It turns out that ATLAS is often comparable to the hand-optimised linear
algebra code produced by workstation vendors, and so for PCs is better
than you are likely to get by any other means.  However, most of the
improvement is specific to a chipset/CPU/clock speed, and ATLAS really
should be recompiled for each different machine.  This might be feasible
for Macs, as there's only a few new Macs each year.


	-thomas



From deleeuw@stat.ucla.edu  Sat Nov 17 19:34:35 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Sat, 17 Nov 2001 11:34:35 -0800
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <Pine.A41.4.33.0111171116470.137786-100000@homer34.u.washington.edu>
Message-ID: <220474AC-DB92-11D5-9343-00039319314A@stat.ucla.edu>

I guess this implies that my ATLAS, which is the one used in the
CRAN Darwin distribution, may not be optimal for your machine.

On Saturday, November 17, 2001, at 11:27 , Thomas Lumley wrote:

> On Thu, 15 Nov 2001, Jan de Leeuw wrote:
>
>> ATLAS is a portable fast BLAS (basic linear algebra subroutines),
>> which itself is a library of elementary linear algebra routines.
>> LAPACK consists of more elaborate linear algebra routines
>> build on top of the BLAS. It is possible to optimize the BLAS
>> for the system that it will be running on at compile time. I dont
>> know the details, but ATLAS does an enormous number of compile
>> time checks and optimizations, which can result in a major
>> speed increase in linear algebra computations.
>
> ATLAS is the Automatically Tuned Linear Algebra Software.  It is a very
> clever approach to optimizing the low-level linear algebra operations 
> that
> underly things like Jan's eigen() benchmark. The package is at
> http://math-atlas.sourceforge.net/
>
> The idea is that the main optimisation method for linear algebra
> operations is to tune the loop unrolling in matrix multiplications to
> maximise cache use.  This is traditionally done by careful analysis of 
> the
> data flow, but ATLAS substitutes brute force -- it tries lots of 
> different
> things to find the ones that work best.
>
> It turns out that ATLAS is often comparable to the hand-optimised linear
> algebra code produced by workstation vendors, and so for PCs is better
> than you are likely to get by any other means.  However, most of the
> improvement is specific to a chipset/CPU/clock speed, and ATLAS really
> should be recompiled for each different machine.  This might be feasible
> for Macs, as there's only a few new Macs each year.
>
>
> 	-thomas
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From tlumley@u.washington.edu  Sat Nov 17 19:42:23 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Sat, 17 Nov 2001 11:42:23 -0800 (PST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <220474AC-DB92-11D5-9343-00039319314A@stat.ucla.edu>
Message-ID: <Pine.A41.4.33.0111171140471.137786-100000@homer34.u.washington.edu>

On Sat, 17 Nov 2001, Jan de Leeuw wrote:

> I guess this implies that my ATLAS, which is the one used in the
> CRAN Darwin distribution, may not be optimal for your machine.
>

Yes. It's going to be better than the default BLAS routines, partly
because any sensible loop unrolling helps and partly because Macs aren't
*that* different, but people who compile their own ATLAS should see even
more improvement on large matrix operations.

	-thomas


From jago@mclink.it  Tue Nov 27 16:33:36 2001
From: jago@mclink.it (Stefano Iacus)
Date: Tue, 27 Nov 2001 17:33:36 +0100
Subject: [R-SIG-Mac]R1.4 test version
Message-ID: <819F45C6-E354-11D5-AE55-003065CC4CB8@mclink.it>

Dear all,

I'm just uploading at

http://www.ci.tuwien.ac.at/~iacus/R/

a test release of R 1.4.0. It would be nice to receive any sort of 
feedback before the end of this week in the hope that I can fix possible 
bugs before we (R-core) freeze the CVS repository. Both MacOSX and MacOS 
8.6 to 9.2 is welcome.

The file is called "R-devel_test.sit" direct access to is at:

http://www.ci.tuwien.ac.at/~iacus/R/R-devel_test.sit

Please the faq page of the html help.

I'm looking further for your comments,

									Stefano



From jago@mclink.it  Wed Nov 28 16:13:13 2001
From: jago@mclink.it (Stefano Iacus)
Date: Wed, 28 Nov 2001 17:13:13 +0100
Subject: [R-SIG-Mac]R devel (test) 1.4 for 8.6 systems
Message-ID: <D2C7427C-E41A-11D5-A2EE-003065CC4CB8@mclink.it>

Thanks to Peter Macdonald,

I fixed a serious bug that crashed the system under MacOS 8.6.

Now it should work, and it is sufficient to replace the R binary with 
the one found at

http://www.ci.tuwien.ac.at/~iacus/R/R_86.hqx

So now people with 8.6 machine should be able to test this version.

Stefano


From sint@oeaw.ac.at  Thu Nov 29 13:03:04 2001
From: sint@oeaw.ac.at (Peter Paul Sint)
Date: Thu, 29 Nov 2001 14:03:04 +0100
Subject: [R-SIG-Mac]R devel (test) 1.4 for 8.6 systems
In-Reply-To: <D2C7427C-E41A-11D5-A2EE-003065CC4CB8@mclink.it>
References: <D2C7427C-E41A-11D5-A2EE-003065CC4CB8@mclink.it>
Message-ID: <p05010401b82be17349c6@[193.170.84.51]>

>Thanks to Peter Macdonald,
>
>I fixed a serious bug that crashed the system under MacOS 8.6.
>
>Now it should work, and it is sufficient to replace the R binary with the one found at
>
>http://www.ci.tuwien.ac.at/~iacus/R/R_86.hqx
>
>So now people with 8.6 machine should be able to test this version.
>Stefano

This is true also for OS 9.04 (G4)
(the previous version worked on my brandnew iBook under 9.2. I did not try it on OSX).



-- 
Peter Sint
sint@oeaw.ac.at

From deleeuw@stat.ucla.edu  Fri Nov 30 21:20:58 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Fri, 30 Nov 2001 13:20:58 -0800
Subject: [R-SIG-Mac]Re: problem installing R for mac OS X
In-Reply-To: <C7F42197-E5D2-11D5-9034-003065B4C4FE@mac.com>
Message-ID: <25AAEF36-E5D8-11D5-80C8-00039319314A@stat.ucla.edu>

Matt

I am forwarding this to r-sig-mac, because I get this question a lot

-  Is the latest version the one from 
http://gifi.stat.ucla.edu/builds/R ?
-- what is your Mac OS X version ?
-- what does "otool -L /usr/local/lib/R/bin/R.bin" say
     for me it says:
         /usr/local/lib/R/bin/R.bin:
         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current 
version 55.0.0)
         /sw/lib/libz.1.dylib (compatibility version 1.1.3, current 
version 1.1.3)
         /sw/lib/libreadline.4.dylib (compatibility version 4.2.0, 
current version 4.2.0)
         /sw/lib/libdl.dylib (compatibility version 0.0.0, current 
version 0.0.0)
         /sw/lib/libncurses.dylib.5 (compatibility version 5.0.0, current 
version 5.2.0)
-- if you do not have those dylibs, download them from 
http://gifi.stat.ucla.edu/builds/dylibs.
    or (better) install them using fink.sourceforge.net
-- make sure /sw/lib is first in your DYLD_LIBRARY_PATH, i.e put in your 
,cshrc

if ( $?DYLD_LIBRARY_PATH ) then
   setenv DYLD_LIBRARY_PATH /sw/lib:$DYLD_LIBRARY_PATH
else
   setenv DYLD_LIBRARY_PATH /sw/lib
endif

--- Jan

On Friday, November 30, 2001, at 12:42 , Matthew Jobin wrote:

> Hi there. I have a mac Dual G4, and I was excited to see your version 
> of R for OSX. Unfortunately, I've had trouble installing the latest 
> version. I have the files installed in the places yu suggested, but 
> when i try to run R, I get the following error message:
>
> dyld: /usr/local/lib/R/bin/R.bin version mismatch for library: 
> /usr/local/lib/libz.1.dylib (compatibility version of user: 1.1.3 
> greater than library's version: 1.0.0)
>
> I have tried moving around and deleting bit the 1.0.0 and 1.1.3 version 
> of libZ, and noticed that the program won't work without 1.0.0 in 
> place, but it still seems to have a conflict with the version numbers, 
> as if it needs to find 1.1.3 but can't (even though it's in the place 
> it's supposed to be).
>
>
> Could you help me to straighten this out? I've been stumped so far.
>
> Thanks,
>
> Matt
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From sint@oeaw.ac.at  Fri Nov 30 23:15:46 2001
From: sint@oeaw.ac.at (Peter Paul Sint)
Date: Sat, 1 Dec 2001 00:15:46 +0100
Subject: [R-SIG-Mac]around old MacOS support
In-Reply-To: <504F654A-D8EE-11D5-85C2-003065CC4CB8@mclink.it>
References: <504F654A-D8EE-11D5-85C2-003065CC4CB8@mclink.it>
Message-ID: <p05010402b82d51f70f21@[193.170.84.51]>

My experience is that older Macs do not disappear. They end up in the hands of persons who cannot afford newer versions. We gave away old machines to Eastern Europe (at a time when they not yet tried to become members of the European Union) and to third world Africa. Some of it may end up with persons interested in statistics (not in our case but I am not in a statistics department). Before leaving the Carbon version I would like to see a detailled description of how to recompile R in MPW C. (If I understand Stefano, I guess to write such descriptions is not something he especially likes). This would show those inheriting (or installing) R on the older Macs how to compile a larger project which may be useful for them even if they will not work on R development any more. On the other hand some may take up  the task to keep Carbon-R alive for a while longer. This might give some feedback to Stefano (and he MIGHT like to give advice to those persons or continue working on it under those circumstances). As some of those will not have easy access to the Internet/Web, downloadable - offline transferable packages may help.

By the way: I used R a lot to produce and develop a large number of reasonably complex graphics (bar chart variety). For this carbonization of R was a big drop in performance. This seemed not to have been Stefanos fault but the use of the much slower carbonized version of the Waste (graphics) engine. I am only now in the process of switching slowly to OS X and did not start up R there at all. Use of more native graphics will probably help.

Peter Sint

At 11:56 Uhr +0100 14.11.2001, Stefano Iacus wrote:
>Thank you all for your comments. I'll take them into account.
>The real essential of what I meant was that: probably after 1.4 I'll not improve any further the Carbon Gui, I'll just recompile every release of R but very few bug fixing at each release. I probably will do that since the R kernel will not be substantially changed (release 2.x ? let's see.)
>
>Recompiling packages and R kernel is highly time consuming (trust me) and in same sense I enjoy it anyway, but it is a matter of fact that new iMacs are shipped since july with the OSX pre-installed. Old MacOS apple environments (like MPW for example) have been freezed as apple want developers and people to work on OS X.
>
>Probably I'm wrong, but people with old hardware that cannot objectively switch to OS X are probably limited in the choice of applications available just now. Professionals or university depts have to switch sooner or later (I guess sooner) to OS X otherwise they will be obliged to work with old releases of applications (and so why not with an old release of R ?).
>
>Stefano
-- 
Peter Paul Sint (sint@oeaw.ac.at, http://www.iwe.oeaw.ac.at/sint )
RU - Institutional Change and European Integration, 
Austrian Academy of Sciences ICE, Baeckerstr.13
A-1010 Wien/Vienna, Austria, EU 
vox +431-51581-445  (fax +431-51581-566)

From richmond@saintmarys.edu  Mon Nov  5 20:02:27 2001
From: richmond@saintmarys.edu (David A Richmond)
Date: Mon, 5 Nov 2001 15:02:27 -0500 (EST)
Subject: [R-SIG-Mac]R and Altivec
Message-ID: <Pine.GSO.4.20.0111051455460.9243-100000@jade.saintmarys.edu>

Hi,
	Ever since the G4 came out I've been interested in the potential
for number crunching applications to take advantage of altivec, the G4's
parallel processing unit. It seems like altivec should give the G4 a great
advantage for these kinds of applications, but I've heard that it's not
always the case. For instance, I know that Stata isn't altivec optimized
because Stata works with double precision and altivec is only single
precision. So I'm wondering, do either of the mac versions of R use
altivec? 

dave r


+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


From deleeuw@stat.ucla.edu  Mon Nov  5 21:05:12 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Mon, 5 Nov 2001 13:05:12 -0800
Subject: [R-SIG-Mac]R and Altivec
In-Reply-To: <Pine.GSO.4.20.0111051455460.9243-100000@jade.saintmarys.edu>
Message-ID: <CD3E1B0B-D230-11D5-AB01-003065A21C86@stat.ucla.edu>

I don't think so. R does not have single precision either. The Darwin/X11
version (at lest the most recent ones) uses the ATLAS libraries from
fink, which do use Altivec for single precision. It's regrettable, but
I don't think it can be fixed easily (of course one could an altivec
version of the Matrix package, for instance).

Current versions of R do not take much advantage of MP machines
either, but I understand there is some work on threading going on.

On Monday, November 5, 2001, at 12:02 PM, David A Richmond wrote:

> Hi,
> 	Ever since the G4 came out I've been interested in the potential
> for number crunching applications to take advantage of altivec, the G4's
> parallel processing unit. It seems like altivec should give the G4 a 
> great
> advantage for these kinds of applications, but I've heard that it's not
> always the case. For instance, I know that Stata isn't altivec optimized
> because Stata works with double precision and altivec is only single
> precision. So I'm wondering, do either of the mac versions of R use
> altivec?
>
> dave r
>
>
> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
> |David Richmond                It works on a          |
> + Dept. of Sociology          complex scientific      +
> |Saint Mary's College          principle, known as    |
> + Notre Dame, IN 46556               "pot luck."      +
> |219-284-4517                    - The Doctor         |
> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics
US mail: 8142 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
                  www: http://www.stat.ucla.edu/~deleeuw
==========================================================================
==
          Remember, wherever you go, there you are. --- Buckaroo Banzai
==========================================================================
==


From richmond@saintmarys.edu  Thu Nov  8 23:04:02 2001
From: richmond@saintmarys.edu (David A Richmond)
Date: Thu, 8 Nov 2001 18:04:02 -0500 (EST)
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
Message-ID: <Pine.GSO.4.20.0111081758120.1506-100000@jade.saintmarys.edu>

Hi,
	I recently switched to OS 10.1, and R1.3.1, from 8.6/1.3.0, where
I had a .Rprofile file with a .First function:

.First <- function() {
	library(sna)
	etc...
}

This worked in R1.3.0 on 8.6.  Upon downloading 1.3.1 into osX I moved
.Rprofile to the new R folder, but when I run it I get the following error
on startup: 
Error: syntax error: evaluating expression 0 

it doesn't matter what's in the function, if I comment out everything
inside .First I still get the error

what am I doing wrong?

daver

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


From stefano.iacus@unimi.it  Fri Nov  9 09:49:17 2001
From: stefano.iacus@unimi.it (Stefano Iacus)
Date: Fri, 9 Nov 2001 10:49:17 +0100
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
In-Reply-To: <Pine.GSO.4.20.0111081758120.1506-100000@jade.saintmarys.edu>
Message-ID: <200111090949.KAA03269@mailserver.unimi.it>

apparently nothing wrong David,

you probably also converted line-endings that are different from OSX and 
old-MacOS. Can you check in some way, for example by using "less 
filename" from a shell ?

The R-devel version (and so the 1.4 release) should be ok with both 
line-endings.

One question: does the base package work ?

There is a problem with stuffit expander that uses to convert 
line-endings differently if you are using the MacOS or the MacOS X 
version.


Stefano

On Venerdì, novembre 9, 2001, at 12:04 , David A Richmond wrote:

> Hi,
> 	I recently switched to OS 10.1, and R1.3.1, from 8.6/1.3.0, where
> I had a .Rprofile file with a .First function:
>
> ..First <- function() {
> 	library(sna)
> 	etc...
> }
>
> This worked in R1.3.0 on 8.6.  Upon downloading 1.3.1 into osX I moved
> ..Rprofile to the new R folder, but when I run it I get the following 
> error
> on startup:
> Error: syntax error: evaluating expression 0
>
> it doesn't matter what's in the function, if I comment out everything
> inside .First I still get the error
>
> what am I doing wrong?
>
> daver
>
>

From richmond@saintmarys.edu  Fri Nov  9 22:19:53 2001
From: richmond@saintmarys.edu (David A Richmond)
Date: Fri, 9 Nov 2001 17:19:53 -0500 (EST)
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
In-Reply-To: <200111090949.KAA03269@mailserver.unimi.it>
Message-ID: <Pine.GSO.4.20.0111091713220.25007-100000@jade.saintmarys.edu>

Actually, I did notice the line break issue when I copied the files (in
osX all the line breaks from os9 appeared as ^M) so I rewrote
".Rprofile" from scratch to read:

.First <- function() {
        library(sna)
}

(where sna is indeed a package which resides in the "library" folder.)

It still doesn't work. still getting: 
Error: syntax error: evaluating expression 0

the base package works, and if I type "library(sna)" at the prompt it
loads the library and I can use the sna functions fine. 

dave


On Fri, 9 Nov 2001, Stefano Iacus wrote:

> apparently nothing wrong David,
> 
> you probably also converted line-endings that are different from OSX and 
> old-MacOS. Can you check in some way, for example by using "less 
> filename" from a shell ?
> 
> The R-devel version (and so the 1.4 release) should be ok with both 
> line-endings.
> 
> One question: does the base package work ?
> 
> There is a problem with stuffit expander that uses to convert 
> line-endings differently if you are using the MacOS or the MacOS X 
> version.
> 
> 
> Stefano
> 
> On Venerdì, novembre 9, 2001, at 12:04 , David A Richmond wrote:
> 
> > Hi,
> > 	I recently switched to OS 10.1, and R1.3.1, from 8.6/1.3.0, where
> > I had a .Rprofile file with a .First function:
> >
> > ..First <- function() {
> > 	library(sna)
> > 	etc...
> > }
> >
> > This worked in R1.3.0 on 8.6.  Upon downloading 1.3.1 into osX I moved
> > ..Rprofile to the new R folder, but when I run it I get the following 
> > error
> > on startup:
> > Error: syntax error: evaluating expression 0
> >
> > it doesn't matter what's in the function, if I comment out everything
> > inside .First I still get the error
> >
> > what am I doing wrong?
> >
> > daver
> >
> >
> 

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


From richmond@saintmarys.edu  Sun Nov 11 01:12:18 2001
From: richmond@saintmarys.edu (David A Richmond)
Date: Sat, 10 Nov 2001 20:12:18 -0500 (EST)
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
In-Reply-To: <Pine.GSO.4.20.0111091713220.25007-100000@jade.saintmarys.edu>
Message-ID: <Pine.GSO.4.20.0111102002300.12383-100000@jade.saintmarys.edu>

to anyone interested in creating an .Rprofile file in os X:

	After having some problems getting the .Rprofile file to work in
under 10.1 I have discovered the following:

1) OS 10.1 doesn't let you name files that begin with a period '.' in the
Finder, or save them in programs such as BBedit. The only way to create a
file that begins with a period is to use the command line. (i.e. use
Terminal, and use the mv command: "mv filename .filename")

2) R 1.3.1 carbon for mac OS 10/9 requires that the line breaks be
Macintosh line breaks and not Unix line breaks. Thus, a file such as
.Rprofile created and saved using pico will not work, as the line breaks
are unix and not mac.

	Thus, in order to create a working .Rprofile command I had to
first create a file with mac line breaks in BBedit, and save it as
"Rprofile", and then use the Terminal to change the name: 
"mv Rprofile .Rprofile"

hope this helps someone avoid some frustration,
daver


> On Fri, 9 Nov 2001, Stefano Iacus wrote:
> 
> > apparently nothing wrong David,
> > 
> > you probably also converted line-endings that are different from OSX and 
> > old-MacOS. Can you check in some way, for example by using "less 
> > filename" from a shell ?
> > 
> > The R-devel version (and so the 1.4 release) should be ok with both 
> > line-endings.
> > 
> > One question: does the base package work ?
> > 
> > There is a problem with stuffit expander that uses to convert 
> > line-endings differently if you are using the MacOS or the MacOS X 
> > version.
> > 
> > 
> > Stefano
> > 
> > On Venerdì, novembre 9, 2001, at 12:04 , David A Richmond wrote:
> > 
> > > Hi,
> > > 	I recently switched to OS 10.1, and R1.3.1, from 8.6/1.3.0, where
> > > I had a .Rprofile file with a .First function:
> > >
> > > ..First <- function() {
> > > 	library(sna)
> > > 	etc...
> > > }
> > >
> > > This worked in R1.3.0 on 8.6.  Upon downloading 1.3.1 into osX I moved
> > > ..Rprofile to the new R folder, but when I run it I get the following 
> > > error
> > > on startup:
> > > Error: syntax error: evaluating expression 0
> > >
> > > it doesn't matter what's in the function, if I comment out everything
> > > inside .First I still get the error
> > >
> > > what am I doing wrong?
> > >
> > > daver
> > >
> > >
> > 
> 
> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
> |David Richmond                It works on a          |      
> + Dept. of Sociology          complex scientific      + 
> |Saint Mary's College          principle, known as    |  
> + Notre Dame, IN 46556               "pot luck."      +
> |219-284-4517                    - The Doctor         |
> +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
> 

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


From jago@mclink.it  Sun Nov 11 11:29:17 2001
From: jago@mclink.it (Stefano Iacus)
Date: Sun, 11 Nov 2001 12:29:17 +0100
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
In-Reply-To: <Pine.GSO.4.20.0111102002300.12383-100000@jade.saintmarys.edu>
Message-ID: <3B54E2A10037B6FC@mail.fastwebnet.it> (added by postmaster@fastwebnet.it)

Thank you David for this note.

Stefano

On Domenica, novembre 11, 2001, at 02:12 , David A Richmond wrote:

> to anyone interested in creating an .Rprofile file in os X:
>
> 	After having some problems getting the .Rprofile file to work in
> under 10.1 I have discovered the following:
>
> 1) OS 10.1 doesn't let you name files that begin with a period '.' in 
> the
> Finder, or save them in programs such as BBedit. The only way to 
> create a
> file that begins with a period is to use the command line. (i.e. use
> Terminal, and use the mv command: "mv filename .filename")
>
> 2) R 1.3.1 carbon for mac OS 10/9 requires that the line breaks be
> Macintosh line breaks and not Unix line breaks. Thus, a file such as
> ..Rprofile created and saved using pico will not work, as the line 
> breaks
> are unix and not mac.
>
> 	Thus, in order to create a working .Rprofile command I had to
> first create a file with mac line breaks in BBedit, and save it as
> "Rprofile", and then use the Terminal to change the name:
> "mv Rprofile .Rprofile"
>
> hope this helps someone avoid some frustration,
> daver
>
>

From MacStats@mac.com  Sun Nov 11 22:06:12 2001
From: MacStats@mac.com (MacStats@mac.com)
Date: Sun, 11 Nov 2001 14:06:12 -0800
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
In-Reply-To: <200111111101.MAA22724@stat.math.ethz.ch>
References: <200111111101.MAA22724@stat.math.ethz.ch>
Message-ID: <p0510030bb814a4c5c758@[10.0.1.17]>

On 10 Nov 2001 20:12:18 -0500, David A Richmond wrote:

>1) OS 10.1 doesn't let you name files that begin with a period '.' in the
>Finder, or save them in programs such as BBedit. The only way to create a
>file that begins with a period is to use the command line. (i.e. use
>Terminal, and use the mv command: "mv filename .filename")

Under Mac OS 1/4/6/7/9, the ".file" form has a special meaning -- it means a device driver.  So a Carbonized program like BBEdit would assume this is a driver.

You should report this to BareBones, it's easy enough to fix if they know where to look.
>
>2) R 1.3.1 carbon for mac OS 10/9 requires that the line breaks be
>Macintosh line breaks and not Unix line breaks. Thus, a file such as
>.Rprofile created and saved using pico will not work, as the line breaks
>are unix and not mac.

This will probably be an issue for both versions of R for Mac OS X. Not that I can volunteer Jan or Stefano's time, but it would be nice if ordinary line input could auto-detect which format the file is in and treat it accordingly
-- 
-----------------------
Joel West
Webmaster, MacStats web site
http://homepage.mac.com/MacStats

From richmond@saintmarys.edu  Mon Nov 12 04:37:36 2001
From: richmond@saintmarys.edu (David A Richmond)
Date: Sun, 11 Nov 2001 23:37:36 -0500 (EST)
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
In-Reply-To: <p0510030bb814a4c5c758@[10.0.1.17]>
Message-ID: <Pine.GSO.4.20.0111112329440.346-100000@jade.saintmarys.edu>

On Sun, 11 Nov 2001 MacStats@mac.com wrote:

> On 10 Nov 2001 20:12:18 -0500, David A Richmond wrote:
> 
> >1) OS 10.1 doesn't let you name files that begin with a period '.' in the
> >Finder, or save them in programs such as BBedit. The only way to create a
> >file that begins with a period is to use the command line. (i.e. use
> >Terminal, and use the mv command: "mv filename .filename")
> 
> Under Mac OS 1/4/6/7/9, the ".file" form has a special meaning -- it
> means a device driver.  So a Carbonized program like BBEdit would
> assume this is a driver.
> 
> You should report this to BareBones, it's easy enough to fix if they
> know where to look. 

It's not just bbedit, it seems to be pervasive; programs like BBedit and
Appleworks will dim and disable the save button when the filename begins
with a '.', TextEdit will let you click "save" but will then inform you
that you can't use the name. The Finder does a similar thing.

To its credit, BBedit will allow you to open a hidden file, it just
can't save as one. I think they are aware of the problem/situation, and
are just following the rules.

> This will probably be an issue for both versions of R for Mac OS X.
> Not that I can volunteer Jan or Stefano's time, but it would be nice
> if ordinary line input could auto-detect which format the file is in
> and treat it accordingly 

yep, it would have saved me a few frustrating hours. OTOH, I'm just glad
that people like Jan and Stefano have made it possible to run R on my mac
in the first place.

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


From jago@mclink.it  Mon Nov 12 12:52:09 2001
From: jago@mclink.it (Stefano Iacus)
Date: Mon, 12 Nov 2001 13:52:09 +0100
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
In-Reply-To: <p0510030bb814a4c5c758@[10.0.1.17]>
Message-ID: <200111121252.fACCq6t26664@mail.mclink.it>


>> 2) R 1.3.1 carbon for mac OS 10/9 requires that the line breaks be
>> Macintosh line breaks and not Unix line breaks. Thus, a file such as
>> .Rprofile created and saved using pico will not work, as the line 
>> breaks
>> are unix and not mac.
>
> This will probably be an issue for both versions of R for Mac OS X. Not 
> that I can volunteer Jan or Stefano's time, but it would be nice if 
> ordinary line input could auto-detect which format the file is in and 
> treat it accordingly
> --

As I said in a previous mail, next release of R will be aware of this 
problem.

Stefano

From tlumley@u.washington.edu  Mon Nov 12 18:09:52 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Mon, 12 Nov 2001 10:09:52 -0800 (PST)
Subject: [R-SIG-Mac].Rprofile in 1.3.1 (os 10.1)
In-Reply-To: <Pine.GSO.4.20.0111112329440.346-100000@jade.saintmarys.edu>
Message-ID: <Pine.A41.4.33.0111121002290.152720-100000@homer40.u.washington.edu>

On Sun, 11 Nov 2001, David A Richmond wrote:

> On Sun, 11 Nov 2001 MacStats@mac.com wrote:
>
> > On 10 Nov 2001 20:12:18 -0500, David A Richmond wrote:
> >
> > >1) OS 10.1 doesn't let you name files that begin with a period '.' in the
> > >Finder, or save them in programs such as BBedit. The only way to create a
> > >file that begins with a period is to use the command line. (i.e. use
> > >Terminal, and use the mv command: "mv filename .filename")
> >
> > Under Mac OS 1/4/6/7/9, the ".file" form has a special meaning -- it
> > means a device driver.  So a Carbonized program like BBEdit would
> > assume this is a driver.
> >
> > You should report this to BareBones, it's easy enough to fix if they
> > know where to look.
>
> It's not just bbedit, it seems to be pervasive; programs like BBedit and
> Appleworks will dim and disable the save button when the filename begins
> with a '.', TextEdit will let you click "save" but will then inform you
> that you can't use the name. The Finder does a similar thing.

According to an article at ArsTechnica
  http://arstechnica.com/reviews/01q3/metadata/metadata-1.html
Apple is pushing hard for the Windows approach to file extensions -- all
files should have an extension that matches the file type.  This is not
going to coexist happily with Unix hidden files, so I don't know what the
ideal solution is.

Perhaps .Rprofile should be an extension for profiles, giving file names
like my.Rprofile?

	-thomas


From deleeuw@stat.ucla.edu  Mon Nov 12 20:15:58 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Mon, 12 Nov 2001 12:15:58 -0800
Subject: [R-SIG-Mac]R-1.3.1 Darwin/X11 update
Message-ID: <15F6AA1A-D7AA-11D5-835E-00039319314A@stat.ucla.edu>

At http://gifi.stat.ucla.edu/R/builds you will find

-rw-r--r--    1 root     staff     6269465 Nov 12 11:41 
R-1.3.1-MacOSX-base.tar.gz
-rw-r--r--    1 root     staff    26897855 Nov 12 12:04 
R-1.3.1-MacOSX-full.tar.gz
-rw-r--r--    1 root     staff     3056494 Nov 12 11:59 
R-1.3.1-MacOSX-recommended.tar.gz

The "base" file contains the (patched) R-base distribution, unpack in
/usr/local. The "recommended" file contains recommended packages,
unpack in /usr/local/lib/R/library. The "full" file contains up-to-date
versions of 160 packages, also unpack in /usr/local/lib/R/library. I 
think
these files should replace the older ones at CRAN.

This build uses the newest versions of f2c, ATLAS, dlcompat, tcl/tk, 
xfree86, and
so on, all from fink.sourceforge.net. It is suitable for MacOS X 10.1, 
i.e. for
Darwin 5.1.

Also at http://gifi.stat.ucla.edu/R/builds you will find the build 
directories
for R-devel and R-patched, and at http://gifi.stat.ucla.edu/R/dylibs you
can find the missing dylibs R may complain about.  Problems to me.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From deleeuw@stat.ucla.edu  Tue Nov 13 00:51:04 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Mon, 12 Nov 2001 16:51:04 -0800
Subject: [R-SIG-Mac]Re: R-1.3.1-OSX-full installation problem
In-Reply-To: <3BF06848.9020405@bigpace.med.utah.edu>
Message-ID: <83ECB6C3-D7D0-11D5-835E-00039319314A@stat.ucla.edu>

1. download libz.1.1.3.dylib from http://gifi.stat.ucla.edu/R/dylibs 
into /sw/lib
then  try again

2. if that also doesn't work do then
setenv DYLD_LIBRARY_PATH /sw/lib:$DYLD_LIBRARY_PATH
and try again. if that works, put the setenv in your .cshrc.

3. if  that still does not work say

otool -L /usr/local/lib/R/R.bin

and tell me what you see.

--- Jan


On Monday, November 12, 2001, at 04:24 , Nathan Leon Pace, MD, MStat 
wrote:

> Dear Prof Jan de Leeuw:
>
> I have a Dual 800 G4 running MAC OS 10.1 up and going for 3 weeks.
>
> I installed R-1.3.1-OSX-full as directed in /usr/local/bin and 
> /usr/local/lib.
>
> The first time I launched R, the following appeared:
>
> dyld: /usr/local/lib/R/bin/R.bin version mismatch for library: 
> /usr/lib/libz.1.dylib (compatibility version of user: 1.1.3 greater 
> than library's version: 1.0.0)
>
> Suggestions would be appreciated.
>
> Thanks,
>
> Nathan Pace
>
> -- Nathan Leon Pace, MD, MStat  Work:nlpace@bigpace.med.utah.ed
> Department of Anesthesiology Play:nlpaces@home.com
> University of Utah           Work:801.581.6393  Play:801.467.2925
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From deleeuw@stat.ucla.edu  Tue Nov 13 01:42:59 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Mon, 12 Nov 2001 17:42:59 -0800
Subject: [R-SIG-Mac]timing R and R and R and R
Message-ID: <C4DC540D-D7D7-11D5-AA42-00039319314A@stat.ucla.edu>

We have two versions of R-1.3.1. The first one is the Carbon version
of Stefano Iacus. This is a CFM/PEF version, so it can run on OS 9.x
and on OS X 10.x. We can run this version in OS 9.x in two ways: by
booting into OS (.x and by running it in the Classic environment in
OS X.  The second version we use is the Darwin/X11 version,
which only runs on OS X 10.x, because it is a Mach-O program.

We have a single G4 with two 800MHz CPU's. It runs MacOS
9.2.2b7c2 and MacOS X 10.1.2 (5M64).

We have a single test. Define

hilbert<-function(n) 1/(outer(seq(n),seq(n),"+")-1)
system.time(eigen(hilbert(xxx)))

where xxx is either 500 or 1000.

For xxx equal to 500 we need 21 seconds under OS 9, 20 seconds
under OS 10, and 14 seconds under Darwin. It requires 21
seconds under Classic.

For xxx equal to 1000 we need 177 seconds under OS 9, 173
seconds under OS 10, and 126 seconds under Darwin. Classic
uses 176 seconds.

Thus for this particular example Darwin is about 40% faster than
OS 10 Carbon, which may be about 1-2% faster than OS 9 Carbon.
There can be various reasons, of course. The compilers are
different. CFM applications are translated by the OS to
Mach-O applications, which could take some time. It is quite
possible that SMP works better for Mach-O under Darwin
(this is a two-processor machine, after all). In any case, the
speed difference seems significant.

It does not seem to make a difference if we run the Carbon program
natively in OS X, or natively in OS 9, or in Classic in OS X. That's
quite remarkable. Of course if we want to run it natively under OS 9
we have to give R a lot of memory, and both in OS 9 and Classic
the cooperative MP freezes the system during the computations.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From stefano.iacus@unimi.it  Tue Nov 13 13:03:46 2001
From: stefano.iacus@unimi.it (Stefano Iacus)
Date: Tue, 13 Nov 2001 14:03:46 +0100
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <C4DC540D-D7D7-11D5-AA42-00039319314A@stat.ucla.edu>
Message-ID: <3B54E2A10039EB26@mail.fastwebnet.it> (added by postmaster@fastwebnet.it)

Jan, thank you for this test.

What would be nice to do it to integrate the Carbon GUI of R into the 
Darwin Mach-O port.
After R 1.4 will be released I'll be mostly involved in this and I'm not 
sure yet if I'll continue to develop the Carbon version as Apple is 
going to abandon old MacOS as MacOS X is now more than 1 year old. (With 
this I mean that I'll not implement new features for the Carbon version 
but just recompile it for one or two releases after 1.4).
I hope that in the end I can finally attack the quartz device so that 
the darwin version can have its own Aqua-gui and quartz-device.


Probably this list is a good place to put this question:

does it take sense to continue to support old MacOS'es ?

I'm looking forward for comments on this.

Stefano

On Martedì, novembre 13, 2001, at 02:42 , Jan de Leeuw wrote:

> We have two versions of R-1.3.1. The first one is the Carbon version
> of Stefano Iacus. This is a CFM/PEF version, so it can run on OS 9.x
> and on OS X 10.x. We can run this version in OS 9.x in two ways: by
> booting into OS (.x and by running it in the Classic environment in
> OS X.  The second version we use is the Darwin/X11 version,
> which only runs on OS X 10.x, because it is a Mach-O program.
>
> We have a single G4 with two 800MHz CPU's. It runs MacOS
> 9.2.2b7c2 and MacOS X 10.1.2 (5M64).
>
> We have a single test. Define
>
> hilbert<-function(n) 1/(outer(seq(n),seq(n),"+")-1)
> system.time(eigen(hilbert(xxx)))
>
> where xxx is either 500 or 1000.
>
> For xxx equal to 500 we need 21 seconds under OS 9, 20 seconds
> under OS 10, and 14 seconds under Darwin. It requires 21
> seconds under Classic.
>
> For xxx equal to 1000 we need 177 seconds under OS 9, 173
> seconds under OS 10, and 126 seconds under Darwin. Classic
> uses 176 seconds.
>
> Thus for this particular example Darwin is about 40% faster than
> OS 10 Carbon, which may be about 1-2% faster than OS 9 Carbon.
> There can be various reasons, of course. The compilers are
> different. CFM applications are translated by the OS to
> Mach-O applications, which could take some time. It is quite
> possible that SMP works better for Mach-O under Darwin
> (this is a two-processor machine, after all). In any case, the
> speed difference seems significant.
>
> It does not seem to make a difference if we run the Carbon program
> natively in OS X, or natively in OS 9, or in Classic in OS X. That's
> quite remarkable. Of course if we want to run it natively under OS 9
> we have to give R a lot of memory, and both in OS 9 and Classic
> the cooperative MP freezes the system during the computations.
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
> homepage: http://www.stat.ucla.edu/~deleeuw
> ========================================================
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
> ========================================================
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>

From pdmmac@mcmail.cis.mcmaster.ca  Tue Nov 13 13:24:16 2001
From: pdmmac@mcmail.cis.mcmaster.ca (Peter Macdonald)
Date: Tue, 13 Nov 2001 08:24:16 -0500 (EST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <3B54E2A10039EB26@mail.fastwebnet.it> (added by postmaster@fastwebnet.it)
Message-ID: <Pine.SOL.4.33.0111130814540.5022-100000@mcmail.cis.mcmaster.ca>

"does it make sense to continue to support old MacOS'es ?"

In the long run, no... but I am running a 6100 and an 8100, both more than
7 years old, with Sonnet G3 upgrades. They are fast enough for my needs,
very stable, support all my periperals, etc. Im running OS 8.6, I don't
think they would support 9.2 very well. I know I could replace them with
something much better for about $2500 each but that is still a lot of
money when these meet my needs. So I will certainly be appreciative of OS
8.6 support for another year. Beyond that, I won't expect developers to
put in extra hours to save me a few $$ in hardware.

Of course, every year I postpone getting new machines, the better the
machines I will get when I do upgrade!

*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*
 Peter D.M. Macdonald, D.Phil.      McMaster University
 Professor of Math & Statistics     Hamilton, Ontario, Canada L8S 4K1
*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*




From tlumley@u.washington.edu  Tue Nov 13 16:50:31 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Tue, 13 Nov 2001 08:50:31 -0800 (PST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <3B54E2A10039EB26@mail.fastwebnet.it> (added by postmaster@fastwebnet.it)
Message-ID: <Pine.A41.4.33.0111130848220.38952-100000@homer33.u.washington.edu>

On Tue, 13 Nov 2001, Stefano Iacus wrote:
>
> Probably this list is a good place to put this question:
>
> does it take sense to continue to support old MacOS'es ?
>
> I'm looking forward for comments on this.
>

The computing support people here at UW don't support OS X. This doesn't
really affect me, but it would affect some people.

I don't know how widespread this sort of thing is.

	-thomas


From pdmmac@mcmail.cis.mcmaster.ca  Tue Nov 13 17:04:42 2001
From: pdmmac@mcmail.cis.mcmaster.ca (Peter Macdonald)
Date: Tue, 13 Nov 2001 12:04:42 -0500 (EST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <Pine.A41.4.33.0111130848220.38952-100000@homer33.u.washington.edu>
Message-ID: <Pine.SOL.4.33.0111131159340.20612-100000@mcmail.cis.mcmaster.ca>

The majority of people I happen to know with new Macs (not a meaningful
statistical sample, I admit) have switched or are about to switch to OS
10.1 because it is so much more stable than OS 9.2; they were getting
frequent crashes and freezes for no apparent reason but not with OS X.

*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*
 Peter D.M. Macdonald, D.Phil.      McMaster University
 Professor of Math & Statistics     Hamilton, Ontario, Canada L8S 4K1
*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*


On Tue, 13 Nov 2001, Thomas Lumley wrote:

> On Tue, 13 Nov 2001, Stefano Iacus wrote:
> >
> > Probably this list is a good place to put this question:
> >
> > does it take sense to continue to support old MacOS'es ?
> >
> > I'm looking forward for comments on this.
> >
>
> The computing support people here at UW don't support OS X. This doesn't
> really affect me, but it would affect some people.
>
> I don't know how widespread this sort of thing is.
>
> 	-thomas
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From Jean.Thioulouse@biomserv.univ-lyon1.fr  Tue Nov 13 17:53:36 2001
From: Jean.Thioulouse@biomserv.univ-lyon1.fr (Jean Thioulouse)
Date: Tue, 13 Nov 2001 18:53:36 +0100
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <Pine.SOL.4.33.0111131159340.20612-100000@mcmail.cis.mcmaster.ca>
References: <Pine.SOL.4.33.0111131159340.20612-100000@mcmail.cis.mcmaster.ca>
Message-ID: <p04330101b8170667c994@[134.214.32.58]>

None of the people I know at the University of Lyon have switched
to OS X, and none of them will switch in the next few months, even
those buying new Macs.

I think it will take at least one year until a significant part
of them do so. OS X is far from being a final version of Mac OS.
Even in 10.1, there is still many problems in the GUI, and too many
programs are missing an OS X version (other than a beta).

OS X has much higher needs in terms of CPU power and memory, so only
people buying new Macs will have the opportunity to switch. Looking
at the rate of new Macs purchase shows that it will take a long time
before OS X really spreads here.

Jean
-- 
Jean Thioulouse - Equipe "Ecologie  Statistique" - UMR CNRS 5558
Universite Lyon 1, Bat. Mendel, 69622 Villeurbanne Cedex, France
Fax: (33) 4 78 89 27 19                  Tel: (33) 4 72 43 27 56
          http://pbil.univ-lyon1.fr/ADE-4/JTHome.html

From deleeuw@stat.ucla.edu  Tue Nov 13 18:13:15 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Tue, 13 Nov 2001 10:13:15 -0800
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <3B54E2A10039EB26@mail.fastwebnet.it> (added by postmaster@fastwebnet.it)
Message-ID: <1B485189-D862-11D5-A45F-00039319314A@stat.ucla.edu>

I agree that making a single bundle would be a good thing and that
and Quartz device would be very nice too.

My vote would be to freeze the Carbon/CFM version after, say,
1.4 and devote as much energy as possible to Cocoa and Mach-O.
I had to work in 9.2.2 again for a while to do the test, and it was
quite painful (which did surprise me). The (lack of) memory handling and
the "multiprocessing" really get to you, and even the GUI now looks
drab.

We have at least 100 Macs in labs, and in staff and faculty offices. 
They all
run OS X 10.1. If you feel nostalgic, you have Classic (which does not 
seem
to bring much of a performance penalty). As for lack of applications, 
just
install Xfree86 .. you never had it so good. And the command line as 
well.


On Tuesday, November 13, 2001, at 05:03 , Stefano Iacus wrote:

> Jan, thank you for this test.
>
> What would be nice to do it to integrate the Carbon GUI of R into the 
> Darwin Mach-O port.
> After R 1.4 will be released I'll be mostly involved in this and I'm 
> not sure yet if I'll continue to develop the Carbon version as Apple is 
> going to abandon old MacOS as MacOS X is now more than 1 year old. 
> (With this I mean that I'll not implement new features for the Carbon 
> version but just recompile it for one or two releases after 1.4).
> I hope that in the end I can finally attack the quartz device so that 
> the darwin version can have its own Aqua-gui and quartz-device.
>
>
> Probably this list is a good place to put this question:
>
> does it take sense to continue to support old MacOS'es ?
>
> I'm looking forward for comments on this.
>
> Stefano
>
> On Martedì, novembre 13, 2001, at 02:42 , Jan de Leeuw wrote:
>
>> We have two versions of R-1.3.1. The first one is the Carbon version
>> of Stefano Iacus. This is a CFM/PEF version, so it can run on OS 9.x
>> and on OS X 10.x. We can run this version in OS 9.x in two ways: by
>> booting into OS (.x and by running it in the Classic environment in
>> OS X.  The second version we use is the Darwin/X11 version,
>> which only runs on OS X 10.x, because it is a Mach-O program.
>>
>> We have a single G4 with two 800MHz CPU's. It runs MacOS
>> 9.2.2b7c2 and MacOS X 10.1.2 (5M64).
>>
>> We have a single test. Define
>>
>> hilbert<-function(n) 1/(outer(seq(n),seq(n),"+")-1)
>> system.time(eigen(hilbert(xxx)))
>>
>> where xxx is either 500 or 1000.
>>
>> For xxx equal to 500 we need 21 seconds under OS 9, 20 seconds
>> under OS 10, and 14 seconds under Darwin. It requires 21
>> seconds under Classic.
>>
>> For xxx equal to 1000 we need 177 seconds under OS 9, 173
>> seconds under OS 10, and 126 seconds under Darwin. Classic
>> uses 176 seconds.
>>
>> Thus for this particular example Darwin is about 40% faster than
>> OS 10 Carbon, which may be about 1-2% faster than OS 9 Carbon.
>> There can be various reasons, of course. The compilers are
>> different. CFM applications are translated by the OS to
>> Mach-O applications, which could take some time. It is quite
>> possible that SMP works better for Mach-O under Darwin
>> (this is a two-processor machine, after all). In any case, the
>> speed difference seems significant.
>>
>> It does not seem to make a difference if we run the Carbon program
>> natively in OS X, or natively in OS 9, or in Classic in OS X. That's
>> quite remarkable. Of course if we want to run it natively under OS 9
>> we have to give R a lot of memory, and both in OS 9 and Classic
>> the cooperative MP freezes the system during the computations.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>


From tlumley@u.washington.edu  Tue Nov 13 18:21:43 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Tue, 13 Nov 2001 10:21:43 -0800 (PST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <1B485189-D862-11D5-A45F-00039319314A@stat.ucla.edu>
Message-ID: <Pine.A41.4.33.0111131019270.38952-100000@homer33.u.washington.edu>

On Tue, 13 Nov 2001, Jan de Leeuw wrote:

>
> We have at least 100 Macs in labs, and in staff and faculty offices.
> They all
> run OS X 10.1. If you feel nostalgic, you have Classic (which does not
> seem
> to bring much of a performance penalty). As for lack of applications,
> just
> install Xfree86 .. you never had it so good. And the command line as
> well.

yes, but the question isn't whether people *should* switch to OS X but
whether enough of them *have* switched.

We need to know if there are a lot of people who have some sort of
constraint against otherwise rational switching (eg old equipment or
conservative support people).


	-thomas


From richmond@saintmarys.edu  Tue Nov 13 18:57:04 2001
From: richmond@saintmarys.edu (David A Richmond)
Date: Tue, 13 Nov 2001 13:57:04 -0500 (EST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <3B54E2A10039EB26@mail.fastwebnet.it> (added by postmaster@fastwebnet.it)
Message-ID: <Pine.GSO.4.20.0111131333300.18588-100000@jade.saintmarys.edu>

On Tue, 13 Nov 2001, Stefano Iacus wrote:

> Probably this list is a good place to put this question:
> 
> does it take sense to continue to support old MacOS'es ?
> 

2 cents:
	I am moving away from os9 and doing as much as I possibly can in
osX. I am going to abandon 9 completely as soon as it is feasible for me
to do everything I need to do in X. What I would like to see most is a
Cocoa version of R. It is my understanding that Carbon is nice for
cross-OS compatibility, but ultimately Cocoa is the API of choice. Would I
be correct in assuming that performance differences Jan found would also
be seen between a Carbon app and a Cocoa app?
	
dave richmond

(p.s. it probably makes sense to support the classic OS for a while,
though, as many people aren't migrating immediately, due to outmoded
hardware.)

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|David Richmond                It works on a          |      
+ Dept. of Sociology          complex scientific      + 
|Saint Mary's College          principle, known as    |  
+ Notre Dame, IN 46556               "pot luck."      +
|219-284-4517                    - The Doctor         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+




From tlumley@u.washington.edu  Tue Nov 13 19:34:05 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Tue, 13 Nov 2001 11:34:05 -0800 (PST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <Pine.GSO.4.20.0111131333300.18588-100000@jade.saintmarys.edu>
Message-ID: <Pine.A41.4.33.0111131131590.38952-100000@homer33.u.washington.edu>

On Tue, 13 Nov 2001, David A Richmond wrote:

> 	I am moving away from os9 and doing as much as I possibly can in
> osX. I am going to abandon 9 completely as soon as it is feasible for me
> to do everything I need to do in X. What I would like to see most is a
> Cocoa version of R. It is my understanding that Carbon is nice for
> cross-OS compatibility, but ultimately Cocoa is the API of choice. Would I
> be correct in assuming that performance differences Jan found would also
> be seen between a Carbon app and a Cocoa app?

I don't think we know. It's a reasonable guess, but there could be user
interface overhead.

The difference is suprisingly large given that (IIRC) R runs with almost
the same speed under Windows and Linux on the same hardware.


	-thomas


From deleeuw@stat.ucla.edu  Tue Nov 13 20:05:11 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Tue, 13 Nov 2001 12:05:11 -0800
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <Pine.A41.4.33.0111131131590.38952-100000@homer33.u.washington.edu>
Message-ID: <BE2CC3FE-D871-11D5-861B-003065A21C86@stat.ucla.edu>

It may also be ATLAS that causes some of the 40% speed increase.

On Tuesday, November 13, 2001, at 11:34 AM, Thomas Lumley wrote:

> On Tue, 13 Nov 2001, David A Richmond wrote:
>
>> 	I am moving away from os9 and doing as much as I possibly can in
>> osX. I am going to abandon 9 completely as soon as it is feasible for 
>> me
>> to do everything I need to do in X. What I would like to see most is a
>> Cocoa version of R. It is my understanding that Carbon is nice for
>> cross-OS compatibility, but ultimately Cocoa is the API of choice. 
>> Would I
>> be correct in assuming that performance differences Jan found would 
>> also
>> be seen between a Carbon app and a Cocoa app?
>
> I don't think we know. It's a reasonable guess, but there could be user
> interface overhead.
>
> The difference is suprisingly large given that (IIRC) R runs with almost
> the same speed under Windows and Linux on the same hardware.
>
>
> 	-thomas
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics
US mail: 8142 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
                  www: http://www.stat.ucla.edu/~deleeuw
==========================================================================
==
          Remember, wherever you go, there you are. --- Buckaroo Banzai
==========================================================================
==


From tlumley@u.washington.edu  Tue Nov 13 20:17:39 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Tue, 13 Nov 2001 12:17:39 -0800 (PST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <BE2CC3FE-D871-11D5-861B-003065A21C86@stat.ucla.edu>
Message-ID: <Pine.A41.4.33.0111131217110.38952-100000@homer33.u.washington.edu>

On Tue, 13 Nov 2001, Jan de Leeuw wrote:

> It may also be ATLAS that causes some of the 40% speed increase.
>

Ah. Yes. On that benchmark ATLAS would make a huge difference.

	-thomas




From jago@mclink.it  Tue Nov 13 21:42:02 2001
From: jago@mclink.it (Stefano Iacus)
Date: Tue, 13 Nov 2001 22:42:02 +0100 (CET)
Subject: [R-SIG-Mac]timing R and R and R and R
Message-ID: <1.0.2.200111132239.5094@mclink.it>

let me say that the new release of R will be around 10% faster as I changed the compiler from CodeWarrior to Apple MRC.

stefano

> 
> > It may also be ATLAS that causes some of the 40% speed increase.
> >
> 
> Ah. Yes. On that benchmark ATLAS would make a huge difference.
> 
> 	-thomas
> 
> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac



From deleeuw@stat.ucla.edu  Wed Nov 14 04:21:07 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Tue, 13 Nov 2001 20:21:07 -0800
Subject: [R-SIG-Mac]more speeding
Message-ID: <0662220B-D8B7-11D5-B2C5-00039319314A@stat.ucla.edu>

Yesterday I found that that R-1.3.1-Darwin is about 40% faster on the 
eigen/hilbert
benchmark than R-1.3.1-Carbon. This may be due  to the fact that
the Darwin version uses ATLAS. but now let's compare with R-1.4.0 
(devel)  under
Darwin.

n=500    carbon  20    darwin-1.3.1   14     darwin-1.4.0    6
n=1000 carbon 173   darwin-1.3.1 126     darwin 1.4.0  69

Thus we see that the development version of R is about twice as fast
as the 1.3.1 version. The two main differences from the compilation
point of view are that (a) R-devel uses g77 while R-patched uses
f2c, and (b) R-devel uses two-level-namespaces, while R-patched
uses flat-namespaces. Unless there are optimizations in R itself
that explain this huge difference, it must be (a). Both versions use
the same ATLAS, etc.

To compare this with a benchmark that does not use ATLAS or
FORTRAN code (I think), we use system.time(sort(rnorm(n)))
where n is either 10^6 or 10^7. For 10^6 Carbon, Darwin-1.3.1,
and Darwin-1.4.0 use 16, 14, and 15 seconds. For 10^7 this is
241, 210, and 228 seconds. The Darwin versions are 10-15%
faster, with 1.3.1 slightly faster than 1.4.0. With the MrC compiler
under MPW presumably the Carbon version will catch up here,
although it still does not have ATLAS and it still uses f2c, so
it will not do well on the linear algebra.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From Martin Maechler <maechler@stat.math.ethz.ch>  Wed Nov 14 07:43:47 2001
From: Martin Maechler <maechler@stat.math.ethz.ch> (Martin Maechler)
Date: Wed, 14 Nov 2001 08:43:47 +0100
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <p04330101b8170667c994@[134.214.32.58]>
References: <Pine.SOL.4.33.0111131159340.20612-100000@mcmail.cis.mcmaster.ca>
 <p04330101b8170667c994@[134.214.32.58]>
Message-ID: <15346.8371.690244.386749@gargle.gargle.HOWL>

>>>>> "Jean" == Jean Thioulouse <Jean.Thioulouse@biomserv.univ-lyon1.fr> writes:

    Jean> None of the people I know at the University of Lyon have switched
    Jean> to OS X, and none of them will switch in the next few months, even
    Jean> those buying new Macs.

    Jean> I think it will take at least one year until a significant part
    Jean> of them do so. OS X is far from being a final version of Mac OS.
    Jean> Even in 10.1, there is still many problems in the GUI, and too many
    Jean> programs are missing an OS X version (other than a beta).

    Jean> OS X has much higher needs in terms of CPU power and memory, so only
    Jean> people buying new Macs will have the opportunity to switch. Looking
    Jean> at the rate of new Macs purchase shows that it will take a long time
    Jean> before OS X really spreads here.

I think this applies to "here" (Zurich, Switzerland) as well.
Many people apply
     ``Never change a winning team''
to their computing environment.  Companies and private persons.

The question is what "long time" means. Certainly a bit longer than 1.4
(i.e. I'm voting partly against Jan DeLeeuw's proposal).
I still agree that most part of Stefano's future work should be directed
towards Quartz and OS X.y support.  But OS [89].y support (i.e. ensure that
new R releases work on these) should not be dropped for the next one or two
years I think. 

    Jean> Jean Thioulouse - Equipe "Ecologie  Statistique" - UMR CNRS 5558
    Jean> Universite Lyon 1, Bat. Mendel, 69622 Villeurbanne Cedex, France
    Jean> Fax: (33) 4 78 89 27 19                  Tel: (33) 4 72 43 27 56
    Jean> http://pbil.univ-lyon1.fr/ADE-4/JTHome.html

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO D10	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

From stefano.iacus@unimi.it  Wed Nov 14 10:45:49 2001
From: stefano.iacus@unimi.it (Stefano Iacus)
Date: Wed, 14 Nov 2001 11:45:49 +0100
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <Pine.A41.4.33.0111131131590.38952-100000@homer33.u.washington.edu>
Message-ID: <C49AD4C0-D8EC-11D5-85C2-003065CC4CB8@unimi.it>

>>  Would I
>> be correct in assuming that performance differences Jan found would 
>> also
>> be seen between a Carbon app and a Cocoa app?
>
> I don't think we know. It's a reasonable guess, but there could be user
> interface overhead.
>

I don't think so, in Jan's test most is due to numerical issues.

As I told in a previous message the new release will be a 10% faster 
when I compile it with Apple MRC compiler instead of using CodeWarrior.



From jago@mclink.it  Wed Nov 14 10:56:53 2001
From: jago@mclink.it (Stefano Iacus)
Date: Wed, 14 Nov 2001 11:56:53 +0100
Subject: [R-SIG-Mac]around old MacOS support
Message-ID: <504F654A-D8EE-11D5-85C2-003065CC4CB8@mclink.it>

Thank you all for your comments. I'll take them into account.

My message was a bit provocative and it reached the target probably :)

The real essential of what I meant was that: probably after 1.4 I'll not 
improve any further the Carbon Gui, I'll just recompile every release of 
R but very few bug fixing at each release. I probably will do that since 
the R kernel will not be substantially changed (release 2.x ? let's see.)

Recompiling packages and R kernel is highly time consuming (trust me) 
and in same sense I enjoy it anyway, but it is a matter of fact that new 
iMacs are shipped since july with the OSX pre-installed. Old MacOS apple 
environments (like MPW for example) have been freezed as apple want 
developers and people to work on OS X.

Probably I'm wrong, but people with old hardware that cannot objectively 
switch to OS X are probably limited in the choice of applications 
available just now. Professionals or university depts have to switch 
sooner or later (I guess sooner) to OS X otherwise they will be obliged 
to work with old releases of applications (and so why not with an old 
release of R ?).


Of course this is my opinion. But let's take open in this SIG this 
topic...

Stefano


From dbraden@rochester.rr.com  Thu Nov 15 08:34:11 2001
From: dbraden@rochester.rr.com (David J. Braden)
Date: Thu, 15 Nov 2001 03:34:11 -0500
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <BE2CC3FE-D871-11D5-861B-003065A21C86@stat.ucla.edu>
Message-ID: <B818E832.C09C%dbraden@rochester.rr.com>

Forgive me, please, for my ignorance, but what is ATLAS?

Also, is there a repository for solid empirics on how our various systems
fare with R?

TIA, big time.
Dave Braden

> It may also be ATLAS that causes some of the 40% speed increase.
> 
> On Tuesday, November 13, 2001, at 11:34 AM, Thomas Lumley wrote:
> 
>> On Tue, 13 Nov 2001, David A Richmond wrote:
>> 
>>> I am moving away from os9 and doing as much as I possibly can in
>>> osX. I am going to abandon 9 completely as soon as it is feasible for
>>> me
>>> to do everything I need to do in X. What I would like to see most is a
>>> Cocoa version of R. It is my understanding that Carbon is nice for
>>> cross-OS compatibility, but ultimately Cocoa is the API of choice.
>>> Would I
>>> be correct in assuming that performance differences Jan found would
>>> also
>>> be seen between a Carbon app and a Cocoa app?
>> 
>> I don't think we know. It's a reasonable guess, but there could be user
>> interface overhead.
>> 
>> The difference is suprisingly large given that (IIRC) R runs with almost
>> the same speed under Windows and Linux on the same hardware.
>> 
>> 
>> -thomas
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics
> US mail: 8142 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
>                 www: http://www.stat.ucla.edu/~deleeuw
> ==========================================================================
> ==
>         Remember, wherever you go, there you are. --- Buckaroo Banzai
> ==========================================================================
> ==
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac

-- 



From deleeuw@stat.ucla.edu  Thu Nov 15 18:10:15 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Thu, 15 Nov 2001 10:10:15 -0800
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <B818E832.C09C%dbraden@rochester.rr.com>
Message-ID: <04BDA73C-D9F4-11D5-949A-00039319314A@stat.ucla.edu>

ATLAS is a portable fast BLAS (basic linear algebra subroutines),
which itself is a library of elementary linear algebra routines.
LAPACK consists of more elaborate linear algebra routines
build on top of the BLAS. It is possible to optimize the BLAS
for the system that it will be running on at compile time. I dont
know the details, but ATLAS does an enormous number of compile
time checks and optimizations, which can result in a major
speed increase in linear algebra computations.

The answer to the second question is probably "no".

On Thursday, November 15, 2001, at 12:34 , David J. Braden wrote:

> Forgive me, please, for my ignorance, but what is ATLAS?
>
> Also, is there a repository for solid empirics on how our various 
> systems
> fare with R?
>
> TIA, big time.
> Dave Braden
>
>> It may also be ATLAS that causes some of the 40% speed increase.
>>
>> On Tuesday, November 13, 2001, at 11:34 AM, Thomas Lumley wrote:
>>
>>> On Tue, 13 Nov 2001, David A Richmond wrote:
>>>
>>>> I am moving away from os9 and doing as much as I possibly can in
>>>> osX. I am going to abandon 9 completely as soon as it is feasible for
>>>> me
>>>> to do everything I need to do in X. What I would like to see most 
>>>> is a
>>>> Cocoa version of R. It is my understanding that Carbon is nice for
>>>> cross-OS compatibility, but ultimately Cocoa is the API of choice.
>>>> Would I
>>>> be correct in assuming that performance differences Jan found would
>>>> also
>>>> be seen between a Carbon app and a Cocoa app?
>>>
>>> I don't think we know. It's a reasonable guess, but there could be 
>>> user
>>> interface overhead.
>>>
>>> The difference is suprisingly large given that (IIRC) R runs with 
>>> almost
>>> the same speed under Windows and Linux on the same hardware.
>>>
>>>
>>> -thomas
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac@stat.math.ethz.ch
>>> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>> ===
>> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics
>> US mail: 8142 Math Sciences Bldg, Box 951554, Los Angeles, CA 
>> 90095-1554
>> phone (310)-825-9550;  fax (310)-206-5658;  email: 
>> deleeuw@stat.ucla.edu
>>                 www: http://www.stat.ucla.edu/~deleeuw
>> ========================================================================
>> ==
>> ==
>>         Remember, wherever you go, there you are. --- Buckaroo Banzai
>> ========================================================================
>> ==
>> ==
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>
> --
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From hxue@student.stat.wvu.edu  Thu Nov 15 20:25:46 2001
From: hxue@student.stat.wvu.edu (Hengyi Xue)
Date: Thu, 15 Nov 2001 15:25:46 -0500
Subject: [R-SIG-Mac]R as a shared library
Message-ID: <003601c16e13$b57c22d0$5a6fb69d@ideal.wvu.edu>

This is a multi-part message in MIME format.

------=_NextPart_000_0033_01C16DE9.CC879650
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hi,

Has anybody compiled R on Mac OS X as a shared library? The RJava =
interface developed by Duncan Temple Lang requires the R shared library =
if R is to be called from within Java, which I want to do.  Any =
information on this will be appreciated.

Hengyi Xue
Research Associate
Dept. of Statistics
West Virginia University

------=_NextPart_000_0033_01C16DE9.CC879650
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Dwindows-1252">
<META content=3D"MSHTML 5.50.4134.600" name=3DGENERATOR></HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>Hi,</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Has anybody compiled R on Mac&nbsp;OS =
X&nbsp;as=20
a&nbsp;shared library? The RJava interface developed by Duncan Temple =
Lang=20
requires the R shared library if R is to be called from within Java, =
which I=20
want to do.&nbsp; Any information on this will be =
appreciated.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial size=3D2>Hengyi Xue</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>Research Associate</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>Dept. of Statistics</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>West Virginia =
University</FONT></DIV></BODY></HTML>

------=_NextPart_000_0033_01C16DE9.CC879650--


From deleeuw@stat.ucla.edu  Thu Nov 15 20:24:15 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Thu, 15 Nov 2001 12:24:15 -0800
Subject: [R-SIG-Mac]R as a shared library
In-Reply-To: <003601c16e13$b57c22d0$5a6fb69d@ideal.wvu.edu>
Message-ID: <BCE6BD08-DA06-11D5-949A-00039319314A@stat.ucla.edu>

The R-devel at http://gifi.stat.ucla.edu/R/builds has a libR-dylib. Of
course it is the Darwin version, not the Carbon one.

On Thursday, November 15, 2001, at 12:25 , Hengyi Xue wrote:

> Hi,
>  
> Has anybody compiled R on Mac OS X as a shared library? The RJava 
> interface developed by Duncan Temple Lang requires the R shared library 
> if R is to be called from within Java, which I want to do.  Any 
> information on this will be appreciated.
>  
> Hengyi Xue
> Research Associate
> Dept. of Statistics
> West Virginia University
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From deleeuw@stat.ucla.edu  Fri Nov 16 19:26:19 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Fri, 16 Nov 2001 11:26:19 -0800
Subject: [R-SIG-Mac]emacs 21.1
Message-ID: <CF77CC43-DAC7-11D5-9A05-00039319314A@stat.ucla.edu>

There is now a version of emacs 21.1 in fink, with an aqua interface
(fink install emacs-alpha). You just start it by double clicking the
icon in the Applications folder, it then fills the Aqua menubar
with the usual emacs menus, and it pops up the emacs startup
screen with the usual Aqua buttons and bars. It is an alpha, but
it seems to work fine. X11 is not needed.

Installing ESS in this emacs will give you yet another way to use R
in Mac OS X (without graphics, I guess).
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From rossini@u.washington.edu  Fri Nov 16 19:43:03 2001
From: rossini@u.washington.edu (A.J. Rossini)
Date: 16 Nov 2001 11:43:03 -0800
Subject: [R-SIG-Mac]emacs 21.1
In-Reply-To: <CF77CC43-DAC7-11D5-9A05-00039319314A@stat.ucla.edu>
References: <CF77CC43-DAC7-11D5-9A05-00039319314A@stat.ucla.edu>
Message-ID: <87lmh6h588.fsf@jeeves.blindglobe.net>

>>>>> "JdL" == Jan de Leeuw <deleeuw@stat.ucla.edu> writes:

    JdL> There is now a version of emacs 21.1 in fink, with an aqua
    JdL> interface (fink install emacs-alpha). You just start it by
    JdL> double clicking the icon in the Applications folder, it then
    JdL> fills the Aqua menubar with the usual emacs menus, and it
    JdL> pops up the emacs startup screen with the usual Aqua buttons
    JdL> and bars. It is an alpha, but it seems to work fine. X11 is
    JdL> not needed.

    JdL> Installing ESS in this emacs will give you yet another way to
    JdL> use R in Mac OS X (without graphics, I guess).

If someone tries this and it works (or doesn't), PLEASE let me know!

best,
-tony

-- 
A.J. Rossini				Rsrch. Asst. Prof. of Biostatistics
U. of Washington Biostatistics		rossini@u.washington.edu	
FHCRC/SCHARP/HIV Vaccine Trials Net	rossini@scharp.org
-------------- http://software.biostat.washington.edu/ --------------
FHCRC: M-W: 206-667-7025 (fax=4812)|Voicemail is pretty sketchy/use Email
UW:   T-Th: 206-543-1044 (fax=3286)|Change last 4 digits of phone to FAX
Rosen: (Mullins' Lab) Fridays, and I'm unreachable except by email.

From deleeuw@stat.ucla.edu  Fri Nov 16 20:47:57 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Fri, 16 Nov 2001 12:47:57 -0800
Subject: [R-SIG-Mac]emacs 21.1
In-Reply-To: <87lmh6h588.fsf@jeeves.blindglobe.net>
Message-ID: <372BC2C4-DAD3-11D5-9A05-00039319314A@stat.ucla.edu>

I am getting older, but I can still take  a hint.  It works, as far as I 
can see
now. Not surprisingly, because it's just a Cocoa wrapper around the
Darwin Emacs, I think.

On Friday, November 16, 2001, at 11:43 , A.J. Rossini wrote:

>
> If someone tries this and it works (or doesn't), PLEASE let me know!
>
> best,
> -tony
>
> --
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From deleeuw@stat.ucla.edu  Fri Nov 16 21:07:19 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Fri, 16 Nov 2001 13:07:19 -0800
Subject: [R-SIG-Mac]Emacs in OS X
Message-ID: <EBAF0EA0-DAD5-11D5-9A05-00039319314A@stat.ucla.edu>

In case people are interested in this:

OS X comes with emacs 20.7.1, which runs in the terminal window (or
in an xterm, if you are so inclined. The emacs you get from Apple does
not have X11 support compiled in.

Fink has emacs 20.7 with X11 support, emacs 21.1 with its
Cocoa wrapper Emacs.app, and xemacs-21.4.3.

I am not sure if all these emacses live together happily, but I do know
that 21.1 Cocoa and 20.7.1 Terminal now both accept M-x R and
allow you to run R and edit R files from their respective windows.

If you want graphics windows, you can have them by running 20.7 X11
or 20.7 Terminal in an Xterm, or Xemacs. I will try some other combos,
maybe.

Of course I do not know if all the other inferior packages that can run
as inferior processes using ESS also work.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From rossini@u.washington.edu  Fri Nov 16 21:21:29 2001
From: rossini@u.washington.edu (Anthony Rossini)
Date: Fri, 16 Nov 2001 13:21:29 -0800 (PST)
Subject: [R-SIG-Mac]Emacs in OS X
In-Reply-To: <ebaf0ea0_dad5_11d5_9a05_00039319314a@stat.ucla.edu>
Message-ID: <Pine.LNX.4.33.0111161321290.21137@hymn09.u.washington.edu>

I suspect that only R will work; this is similar to the situation under Windows, where most software is built with GUI integration rather than GUI on top.

Thanks, Jan; I know some people who are pleased for this information!

best,
-tony



On Fri, 16 Nov 2001, Jan de Leeuw wrote:

> In case people are interested in this:
> 
> OS X comes with emacs 20.7.1, which runs in the terminal window (or
> in an xterm, if you are so inclined. The emacs you get from Apple does
> not have X11 support compiled in.
> 
> Fink has emacs 20.7 with X11 support, emacs 21.1 with its
> Cocoa wrapper Emacs.app, and xemacs-21.4.3.
> 
> I am not sure if all these emacses live together happily, but I do know
> that 21.1 Cocoa and 20.7.1 Terminal now both accept M-x R and
> allow you to run R and edit R files from their respective windows.
> 
> If you want graphics windows, you can have them by running 20.7 X11
> or 20.7 Terminal in an Xterm, or Xemacs. I will try some other combos,
> maybe.
> 
> Of course I do not know if all the other inferior packages that can run
> as inferior processes using ESS also work.
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
> homepage: http://www.stat.ucla.edu/~deleeuw
> ========================================================
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
> ========================================================
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
> 



From tlumley@u.washington.edu  Sat Nov 17 19:27:38 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Sat, 17 Nov 2001 11:27:38 -0800 (PST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <04BDA73C-D9F4-11D5-949A-00039319314A@stat.ucla.edu>
Message-ID: <Pine.A41.4.33.0111171116470.137786-100000@homer34.u.washington.edu>

On Thu, 15 Nov 2001, Jan de Leeuw wrote:

> ATLAS is a portable fast BLAS (basic linear algebra subroutines),
> which itself is a library of elementary linear algebra routines.
> LAPACK consists of more elaborate linear algebra routines
> build on top of the BLAS. It is possible to optimize the BLAS
> for the system that it will be running on at compile time. I dont
> know the details, but ATLAS does an enormous number of compile
> time checks and optimizations, which can result in a major
> speed increase in linear algebra computations.

ATLAS is the Automatically Tuned Linear Algebra Software.  It is a very
clever approach to optimizing the low-level linear algebra operations that
underly things like Jan's eigen() benchmark. The package is at
http://math-atlas.sourceforge.net/

The idea is that the main optimisation method for linear algebra
operations is to tune the loop unrolling in matrix multiplications to
maximise cache use.  This is traditionally done by careful analysis of the
data flow, but ATLAS substitutes brute force -- it tries lots of different
things to find the ones that work best.

It turns out that ATLAS is often comparable to the hand-optimised linear
algebra code produced by workstation vendors, and so for PCs is better
than you are likely to get by any other means.  However, most of the
improvement is specific to a chipset/CPU/clock speed, and ATLAS really
should be recompiled for each different machine.  This might be feasible
for Macs, as there's only a few new Macs each year.


	-thomas



From deleeuw@stat.ucla.edu  Sat Nov 17 19:34:35 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Sat, 17 Nov 2001 11:34:35 -0800
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <Pine.A41.4.33.0111171116470.137786-100000@homer34.u.washington.edu>
Message-ID: <220474AC-DB92-11D5-9343-00039319314A@stat.ucla.edu>

I guess this implies that my ATLAS, which is the one used in the
CRAN Darwin distribution, may not be optimal for your machine.

On Saturday, November 17, 2001, at 11:27 , Thomas Lumley wrote:

> On Thu, 15 Nov 2001, Jan de Leeuw wrote:
>
>> ATLAS is a portable fast BLAS (basic linear algebra subroutines),
>> which itself is a library of elementary linear algebra routines.
>> LAPACK consists of more elaborate linear algebra routines
>> build on top of the BLAS. It is possible to optimize the BLAS
>> for the system that it will be running on at compile time. I dont
>> know the details, but ATLAS does an enormous number of compile
>> time checks and optimizations, which can result in a major
>> speed increase in linear algebra computations.
>
> ATLAS is the Automatically Tuned Linear Algebra Software.  It is a very
> clever approach to optimizing the low-level linear algebra operations 
> that
> underly things like Jan's eigen() benchmark. The package is at
> http://math-atlas.sourceforge.net/
>
> The idea is that the main optimisation method for linear algebra
> operations is to tune the loop unrolling in matrix multiplications to
> maximise cache use.  This is traditionally done by careful analysis of 
> the
> data flow, but ATLAS substitutes brute force -- it tries lots of 
> different
> things to find the ones that work best.
>
> It turns out that ATLAS is often comparable to the hand-optimised linear
> algebra code produced by workstation vendors, and so for PCs is better
> than you are likely to get by any other means.  However, most of the
> improvement is specific to a chipset/CPU/clock speed, and ATLAS really
> should be recompiled for each different machine.  This might be feasible
> for Macs, as there's only a few new Macs each year.
>
>
> 	-thomas
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> http://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From tlumley@u.washington.edu  Sat Nov 17 19:42:23 2001
From: tlumley@u.washington.edu (Thomas Lumley)
Date: Sat, 17 Nov 2001 11:42:23 -0800 (PST)
Subject: [R-SIG-Mac]timing R and R and R and R
In-Reply-To: <220474AC-DB92-11D5-9343-00039319314A@stat.ucla.edu>
Message-ID: <Pine.A41.4.33.0111171140471.137786-100000@homer34.u.washington.edu>

On Sat, 17 Nov 2001, Jan de Leeuw wrote:

> I guess this implies that my ATLAS, which is the one used in the
> CRAN Darwin distribution, may not be optimal for your machine.
>

Yes. It's going to be better than the default BLAS routines, partly
because any sensible loop unrolling helps and partly because Macs aren't
*that* different, but people who compile their own ATLAS should see even
more improvement on large matrix operations.

	-thomas


From jago@mclink.it  Tue Nov 27 16:33:36 2001
From: jago@mclink.it (Stefano Iacus)
Date: Tue, 27 Nov 2001 17:33:36 +0100
Subject: [R-SIG-Mac]R1.4 test version
Message-ID: <819F45C6-E354-11D5-AE55-003065CC4CB8@mclink.it>

Dear all,

I'm just uploading at

http://www.ci.tuwien.ac.at/~iacus/R/

a test release of R 1.4.0. It would be nice to receive any sort of 
feedback before the end of this week in the hope that I can fix possible 
bugs before we (R-core) freeze the CVS repository. Both MacOSX and MacOS 
8.6 to 9.2 is welcome.

The file is called "R-devel_test.sit" direct access to is at:

http://www.ci.tuwien.ac.at/~iacus/R/R-devel_test.sit

Please the faq page of the html help.

I'm looking further for your comments,

									Stefano



From jago@mclink.it  Wed Nov 28 16:13:13 2001
From: jago@mclink.it (Stefano Iacus)
Date: Wed, 28 Nov 2001 17:13:13 +0100
Subject: [R-SIG-Mac]R devel (test) 1.4 for 8.6 systems
Message-ID: <D2C7427C-E41A-11D5-A2EE-003065CC4CB8@mclink.it>

Thanks to Peter Macdonald,

I fixed a serious bug that crashed the system under MacOS 8.6.

Now it should work, and it is sufficient to replace the R binary with 
the one found at

http://www.ci.tuwien.ac.at/~iacus/R/R_86.hqx

So now people with 8.6 machine should be able to test this version.

Stefano


From sint@oeaw.ac.at  Thu Nov 29 13:03:04 2001
From: sint@oeaw.ac.at (Peter Paul Sint)
Date: Thu, 29 Nov 2001 14:03:04 +0100
Subject: [R-SIG-Mac]R devel (test) 1.4 for 8.6 systems
In-Reply-To: <D2C7427C-E41A-11D5-A2EE-003065CC4CB8@mclink.it>
References: <D2C7427C-E41A-11D5-A2EE-003065CC4CB8@mclink.it>
Message-ID: <p05010401b82be17349c6@[193.170.84.51]>

>Thanks to Peter Macdonald,
>
>I fixed a serious bug that crashed the system under MacOS 8.6.
>
>Now it should work, and it is sufficient to replace the R binary with the one found at
>
>http://www.ci.tuwien.ac.at/~iacus/R/R_86.hqx
>
>So now people with 8.6 machine should be able to test this version.
>Stefano

This is true also for OS 9.04 (G4)
(the previous version worked on my brandnew iBook under 9.2. I did not try it on OSX).



-- 
Peter Sint
sint@oeaw.ac.at

From deleeuw@stat.ucla.edu  Fri Nov 30 21:20:58 2001
From: deleeuw@stat.ucla.edu (Jan de Leeuw)
Date: Fri, 30 Nov 2001 13:20:58 -0800
Subject: [R-SIG-Mac]Re: problem installing R for mac OS X
In-Reply-To: <C7F42197-E5D2-11D5-9034-003065B4C4FE@mac.com>
Message-ID: <25AAEF36-E5D8-11D5-80C8-00039319314A@stat.ucla.edu>

Matt

I am forwarding this to r-sig-mac, because I get this question a lot

-  Is the latest version the one from 
http://gifi.stat.ucla.edu/builds/R ?
-- what is your Mac OS X version ?
-- what does "otool -L /usr/local/lib/R/bin/R.bin" say
     for me it says:
         /usr/local/lib/R/bin/R.bin:
         /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current 
version 55.0.0)
         /sw/lib/libz.1.dylib (compatibility version 1.1.3, current 
version 1.1.3)
         /sw/lib/libreadline.4.dylib (compatibility version 4.2.0, 
current version 4.2.0)
         /sw/lib/libdl.dylib (compatibility version 0.0.0, current 
version 0.0.0)
         /sw/lib/libncurses.dylib.5 (compatibility version 5.0.0, current 
version 5.2.0)
-- if you do not have those dylibs, download them from 
http://gifi.stat.ucla.edu/builds/dylibs.
    or (better) install them using fink.sourceforge.net
-- make sure /sw/lib is first in your DYLD_LIBRARY_PATH, i.e put in your 
,cshrc

if ( $?DYLD_LIBRARY_PATH ) then
   setenv DYLD_LIBRARY_PATH /sw/lib:$DYLD_LIBRARY_PATH
else
   setenv DYLD_LIBRARY_PATH /sw/lib
endif

--- Jan

On Friday, November 30, 2001, at 12:42 , Matthew Jobin wrote:

> Hi there. I have a mac Dual G4, and I was excited to see your version 
> of R for OSX. Unfortunately, I've had trouble installing the latest 
> version. I have the files installed in the places yu suggested, but 
> when i try to run R, I get the following error message:
>
> dyld: /usr/local/lib/R/bin/R.bin version mismatch for library: 
> /usr/local/lib/libz.1.dylib (compatibility version of user: 1.1.3 
> greater than library's version: 1.0.0)
>
> I have tried moving around and deleting bit the 1.0.0 and 1.1.3 version 
> of libZ, and noticed that the program won't work without 1.0.0 in 
> place, but it still seems to have a conflict with the version numbers, 
> as if it needs to find 1.1.3 but can't (even though it's in the place 
> it's supposed to be).
>
>
> Could you help me to straighten this out? I've been stumped so far.
>
> Thanks,
>
> Matt
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://www.stat.ucla.edu/~deleeuw
========================================================
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://www.stat.ucla.edu/~deleeuw/sounds/nomatter.au
========================================================


From sint@oeaw.ac.at  Fri Nov 30 23:15:46 2001
From: sint@oeaw.ac.at (Peter Paul Sint)
Date: Sat, 1 Dec 2001 00:15:46 +0100
Subject: [R-SIG-Mac]around old MacOS support
In-Reply-To: <504F654A-D8EE-11D5-85C2-003065CC4CB8@mclink.it>
References: <504F654A-D8EE-11D5-85C2-003065CC4CB8@mclink.it>
Message-ID: <p05010402b82d51f70f21@[193.170.84.51]>

My experience is that older Macs do not disappear. They end up in the hands of persons who cannot afford newer versions. We gave away old machines to Eastern Europe (at a time when they not yet tried to become members of the European Union) and to third world Africa. Some of it may end up with persons interested in statistics (not in our case but I am not in a statistics department). Before leaving the Carbon version I would like to see a detailled description of how to recompile R in MPW C. (If I understand Stefano, I guess to write such descriptions is not something he especially likes). This would show those inheriting (or installing) R on the older Macs how to compile a larger project which may be useful for them even if they will not work on R development any more. On the other hand some may take up  the task to keep Carbon-R alive for a while longer. This might give some feedback to Stefano (and he MIGHT like to give advice to those persons or continue working on it under those circumstances). As some of those will not have easy access to the Internet/Web, downloadable - offline transferable packages may help.

By the way: I used R a lot to produce and develop a large number of reasonably complex graphics (bar chart variety). For this carbonization of R was a big drop in performance. This seemed not to have been Stefanos fault but the use of the much slower carbonized version of the Waste (graphics) engine. I am only now in the process of switching slowly to OS X and did not start up R there at all. Use of more native graphics will probably help.

Peter Sint

At 11:56 Uhr +0100 14.11.2001, Stefano Iacus wrote:
>Thank you all for your comments. I'll take them into account.
>The real essential of what I meant was that: probably after 1.4 I'll not improve any further the Carbon Gui, I'll just recompile every release of R but very few bug fixing at each release. I probably will do that since the R kernel will not be substantially changed (release 2.x ? let's see.)
>
>Recompiling packages and R kernel is highly time consuming (trust me) and in same sense I enjoy it anyway, but it is a matter of fact that new iMacs are shipped since july with the OSX pre-installed. Old MacOS apple environments (like MPW for example) have been freezed as apple want developers and people to work on OS X.
>
>Probably I'm wrong, but people with old hardware that cannot objectively switch to OS X are probably limited in the choice of applications available just now. Professionals or university depts have to switch sooner or later (I guess sooner) to OS X otherwise they will be obliged to work with old releases of applications (and so why not with an old release of R ?).
>
>Stefano
-- 
Peter Paul Sint (sint@oeaw.ac.at, http://www.iwe.oeaw.ac.at/sint )
RU - Institutional Change and European Integration, 
Austrian Academy of Sciences ICE, Baeckerstr.13
A-1010 Wien/Vienna, Austria, EU 
vox +431-51581-445  (fax +431-51581-566)

