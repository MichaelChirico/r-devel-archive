From chatfield at alumni.rice.edu  Thu Aug  2 01:43:01 2012
From: chatfield at alumni.rice.edu (Robert Chatfield)
Date: Wed, 1 Aug 2012 16:43:01 -0700
Subject: [R-SIG-Mac] "Workspace Browser" gives error message, no info
In-Reply-To: <mailman.17.1343815206.20888.r-sig-mac@r-project.org>
References: <mailman.17.1343815206.20888.r-sig-mac@r-project.org>
Message-ID: <3E5F29B1-43E1-4DAD-9E28-9A4CC1EAF766@alumni.rice.edu>

I have been getting this message when trying to use a the Workspace 
Browser  on a previous R Gui install and the current release also. 
I do seem to get a browser when I start up (and it reads the .RData file in the home directory).
and from a smaller save file .RData  



Start R from Vim or from terminal (open -a R64.app or even 

open -a R64.app Figures_for_ARCTAS_fire_Cal.r
from the correct directory, followed by a menu-selected
"Load Default Workspace"



The general description --


(clear workspace via menu,
change working directory via menu,
load default workspace via menu or via command line)

Select workspace browser:
Blank page, message to console is
Error in if (nm[i] == "") nm[i] <- paste0("[[", i, "]]") : 
  missing value where TRUE/FALSE needed
Error in if (nm[i] == "") nm[i] <- paste0("[[", i, "]]") : 
  missing value where TRUE/FALSE needed

ls() gives reasonable results.

The following gives the same error:
open -a R64.app Figures_for_ARCTAS_fire_Cal.r
from the correct directory, followed by a menu-selected
"Load Default Workspace"

The workspace is about 10 Mbytes

Any ideas?

My setup : 

R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
Copyright (C) 2012 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

OS X 10.6.8 on a 2 x  6-core Intel workstation.


From wxiaoaa at stu.ust.hk  Thu Aug  2 10:48:54 2012
From: wxiaoaa at stu.ust.hk (XIAO Wendi)
Date: Thu, 2 Aug 2012 16:48:54 +0800 (HKT)
Subject: [R-SIG-Mac] character encoding problem during startup
Message-ID: <53039.143.89.107.24.1343897334.squirrel@sqmail.ust.hk>

Dear all,
After opening the program there are always warnings about language setting:

During startup - Warning messages:
1: Setting LC_CTYPE failed, using "C"
2: Setting LC_COLLATE failed, using "C"
3: Setting LC_TIME failed, using "C"
4: Setting LC_MESSAGES failed, using "C"
5: Setting LC_PAPER failed, using "C"
[R.app GUI 1.52 (6188) i386-apple-darwin9.8.0]

WARNING: You're using a non-UTF8 locale, therefore only ASCII characters
will work.
Please read R for Mac OS X FAQ (see Help) section 9 and adjust your system
preferences accordingly.

My computer is a Mac OS 10.6.8.
I look forward to your reply.

Best Regards,
Wendy


From simon.urbanek at r-project.org  Thu Aug  2 14:26:11 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 2 Aug 2012 08:26:11 -0400
Subject: [R-SIG-Mac] character encoding problem during startup
In-Reply-To: <53039.143.89.107.24.1343897334.squirrel@sqmail.ust.hk>
References: <53039.143.89.107.24.1343897334.squirrel@sqmail.ust.hk>
Message-ID: <317FD484-F6DF-4211-8E72-964DCD8EE22C@r-project.org>


On Aug 2, 2012, at 4:48 AM, "XIAO Wendi" <wxiaoaa at stu.ust.hk> wrote:

> Dear all,
> After opening the program there are always warnings about language setting:
> 
> During startup - Warning messages:
> 1: Setting LC_CTYPE failed, using "C"
> 2: Setting LC_COLLATE failed, using "C"
> 3: Setting LC_TIME failed, using "C"
> 4: Setting LC_MESSAGES failed, using "C"
> 5: Setting LC_PAPER failed, using "C"
> [R.app GUI 1.52 (6188) i386-apple-darwin9.8.0]
> 
> WARNING: You're using a non-UTF8 locale, therefore only ASCII characters
> will work.
> Please read R for Mac OS X FAQ (see Help) section 9 and adjust your system
> preferences accordingly.
> 
> My computer is a Mac OS 10.6.8.
> I look forward to your reply.
> 

And the question is? Please read the section you are pointed to. If you have any questions, then you'll have to pose them along with the details (such as your language setting).

Cheers,
Simon

> Best Regards,
> Wendy
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From alexandre.courtiol at gmail.com  Mon Aug  6 18:17:09 2012
From: alexandre.courtiol at gmail.com (Alexandre Courtiol)
Date: Mon, 6 Aug 2012 18:17:09 +0200
Subject: [R-SIG-Mac] How to set a non-url based proxy?
Message-ID: <CAERMt4ce_sDDMVKyNuVUUT5g7rBAPTG1hzhpZ0g3VncLrfXJDw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120806/747ba006/attachment.pl>

From simon.urbanek at r-project.org  Mon Aug  6 20:10:14 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 6 Aug 2012 14:10:14 -0400
Subject: [R-SIG-Mac] How to set a non-url based proxy?
In-Reply-To: <CAERMt4ce_sDDMVKyNuVUUT5g7rBAPTG1hzhpZ0g3VncLrfXJDw@mail.gmail.com>
References: <CAERMt4ce_sDDMVKyNuVUUT5g7rBAPTG1hzhpZ0g3VncLrfXJDw@mail.gmail.com>
Message-ID: <1259A289-07A6-4186-BA7C-849CC5955D4F@r-project.org>


On Aug 6, 2012, at 12:17 PM, Alexandre Courtiol wrote:

> I am trying to set R with a proxy server based on ip address (192.168.XX.XX
> with a port number: 3128, no user name, no password) on mac OS. I don't
> manage. I tried to follow forum and FAQ advices but they are all based on
> url proxy not on IP-based proxy and it does not work...
> Any cues?

I'm not sure I understand your concern, but you simply use the IP address instead of the host name in the proxy URL (e.g., "http://192.168.1.4:3128").

Cheers,
Simon


From fisher at plessthan.com  Sat Aug 11 17:32:41 2012
From: fisher at plessthan.com (Dennis Fisher)
Date: Sat, 11 Aug 2012 11:32:41 -0400
Subject: [R-SIG-Mac] dyld: DYLD_ environment variables being ignored because
	main executable (/bin/ps) is setuid or setgid
Message-ID: <CE1A35DC-8B17-4FCF-AE96-47FDA7D23498@plessthan.com>

Colleagues,

I have a large block (26K lines) of R code embedded in a GUI (built in RealBasic).  The code runs fine in OS X (Leopard / Snow Leopard / Lion) and Windows but a user encountered a problem with Mountain Lion (I have not upgraded any of my machines to Mountain Lion yet).  The code appears to run fine, then aborts near the completion of execution.  The R code is written as a series of functions, the final line of code calling those functions.  So, I know that the code has been read in its entirety.  The problem occurs with R 2.15.1.  The machine in question has Xcode 4.4.1 and the latest version of Command Line Tools.  

The GUI works by opening a shell, then sending the code to the shell a line at a time.  When the code aborts, the message:
	dyld: DYLD_ environment variables being ignored because main executable (/bin/ps) is setuid or setgid
appears in a console window.  I have not seen this message before and I don't know if it is the source of the problem.  There are no error messages from R (which there typically would be if there were a problem in the R code).  Instead, the GUI moves to the next step (opening a new shell and executing a new set of R code).

Previously, I encountered a problem in which the quantity of R code overwhelmed the shell (this was a bug in RealBasic).  But, I don't think that this is the problem here since the entirety of code has been read and execution is nearly complete.

I don't know if this is a problem with R or something inherent to Mountain Lion or some bizarre interaction between them (or with Xcode).  If anyone has any thoughts on this, I would be most appreciative.

Dennis


Dennis Fisher MD
P < (The "P Less Than" Company)
Phone: 1-866-PLessThan (1-866-753-7784)
Fax: 1-866-PLessThan (1-866-753-7784)
www.PLessThan.com


From wxiaoaa at stu.ust.hk  Wed Aug  1 03:17:48 2012
From: wxiaoaa at stu.ust.hk (XIAO Wendi)
Date: Wed, 1 Aug 2012 09:17:48 +0800 (HKT)
Subject: [R-SIG-Mac] character encoding problem during startup
Message-ID: <49867.143.89.76.55.1343783868.squirrel@sqmail.ust.hk>

Dear all,
After opening the program there are always warnings about language setting:

During startup - Warning messages:
1: Setting LC_CTYPE failed, using "C"
2: Setting LC_COLLATE failed, using "C"
3: Setting LC_TIME failed, using "C"
4: Setting LC_MESSAGES failed, using "C"
5: Setting LC_PAPER failed, using "C"
[R.app GUI 1.52 (6188) i386-apple-darwin9.8.0]

WARNING: You're using a non-UTF8 locale, therefore only ASCII characters
will work.
Please read R for Mac OS X FAQ (see Help) section 9 and adjust your system
preferences accordingly.

My computer is a Mac OS 10.6. I look forward to your reply.

Best Regards,
Wendy


From pd.mes at cbs.dk  Sat Aug 11 19:18:19 2012
From: pd.mes at cbs.dk (Peter Dalgaard)
Date: Sat, 11 Aug 2012 19:18:19 +0200
Subject: [R-SIG-Mac] error executing code from ISwR
In-Reply-To: <SNT112-W37A3B8F2FDC33AF722173FAB20@phx.gbl>
References: <SNT112-W37A3B8F2FDC33AF722173FAB20@phx.gbl>
Message-ID: <D19F2C92-F9A0-49A1-AD65-9AD41512CE88@cbs.dk>

Hum, yes, that looks like a bug in the Mac GUI app. Doesn't happen if you run R from a terminal. I'm taking the liberty of forwarding to the R-sig-mac list.

A workaround is of course to start with a non-empty data frame, say: 

dd <- data.frame(a=1)
fix(dd)

but I'm not at all sure I understand how it is supposed to work for data entry at all.... (as you may have gathered, this is not something that gets much use in practice.)

-pd


On Aug 11, 2012, at 17:44 , Naresh Gurbuxani wrote:

> Peter,
> 
> I am learning R by reading your book ISwR.  The following commands on page 52 cause R to hang and never come back. 
> 
> dd <- data.frame()
> fix(dd)
> 
> My computer: Mac
> Operating system: Lion (10.7.4)
> R version: 2.13.1
> 
> I like your book very much and plan to read all chapters.  
> 
> Thanks,
> Naresh
> 
> 

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From mailinglist.honeypot at gmail.com  Sun Aug 12 18:19:22 2012
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Sun, 12 Aug 2012 12:19:22 -0400
Subject: [R-SIG-Mac] Need help urgently
In-Reply-To: <CAHEFVNxKz3-gNP0ioQF7UMs5X-t0gRpSmgZzvZxuhv5nA+DC0w@mail.gmail.com>
References: <CAHEFVNxKz3-gNP0ioQF7UMs5X-t0gRpSmgZzvZxuhv5nA+DC0w@mail.gmail.com>
Message-ID: <CAHA9McNj_o5kr9Eh00zfHRZrks9BOgyav9XYYW=PTZMC848KvA@mail.gmail.com>

On Fri, Jul 13, 2012 at 5:08 PM, Yanto Chandra <ychandra.logic at gmail.com> wrote:
> Dear Friends
>
> I am new to R. I just installed the Installer on my Mac OS, and realized
> that the screen is not showing the menu and function (on the top left of
> the screen) as you would normally see it if you had downloaded it using
> Windows. This does not allow me to perform (or execute) commands in the
> command editor.
>
> Did I miss anything here in the installation process? Should I install
> something else on top of this?

For those of us who aren't familiar w/ the windows install of R, it's
hard to follow what the problem is.

Did you install R successfully?
Do you have R.app and R64.app in your /Applications folder?
Do they successfully launch?
Can you type commands into the workspace that's launched?

What "menu and function" are you talking about?
...

?

-steve

-- 
Steve Lianoglou
Graduate Student: Computational Systems Biology
 | Memorial Sloan-Kettering Cancer Center
 | Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From roy.mendelssohn at noaa.gov  Sun Aug 12 18:42:41 2012
From: roy.mendelssohn at noaa.gov (Roy Mendelssohn)
Date: Sun, 12 Aug 2012 09:42:41 -0700
Subject: [R-SIG-Mac] Need help urgently
In-Reply-To: <CAHA9McNj_o5kr9Eh00zfHRZrks9BOgyav9XYYW=PTZMC848KvA@mail.gmail.com>
References: <CAHEFVNxKz3-gNP0ioQF7UMs5X-t0gRpSmgZzvZxuhv5nA+DC0w@mail.gmail.com>
	<CAHA9McNj_o5kr9Eh00zfHRZrks9BOgyav9XYYW=PTZMC848KvA@mail.gmail.com>
Message-ID: <0D77AB3C-8A74-43BB-9048-AF44D5DEE767@noaa.gov>

Hi:

> On Fri, Jul 13, 2012 at 5:08 PM, Yanto Chandra <ychandra.logic at gmail.com> wrote:
>> Dear Friends
>> 
>> I am new to R. I just installed the Installer on my Mac OS, and realized
>> that the screen is not showing the menu and function (on the top left of
>> the screen) as you would normally see it if you had downloaded it using
>> Windows. This does not allow me to perform (or execute) commands in the
>> command editor.
>> 
>> Did I miss anything here in the installation process? Should I install
>> something else on top of this?
> 
> For those of us who aren't familiar w/ the windows install of R, it's
> hard to follow what the problem is.
> 
> Did you install R successfully?
> Do you have R.app and R64.app in your /Applications folder?
> Do they successfully launch?
> Can you type commands into the workspace that's launched?
> 
> What "menu and function" are you talking about?
> ...
> 
> ?
> 

Even  more so, information on:

1.  What version of the operating system

2.  What an how you did the install, and where you got it from.

3. What you launched that is not producing a desired result.

-Roy

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
1352 Lighthouse Avenue
Pacific Grove, CA 93950-2097

e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
voice: (831)-648-9029
fax: (831)-648-8440
www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From simon.urbanek at r-project.org  Sun Aug 12 19:17:26 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 12 Aug 2012 13:17:26 -0400
Subject: [R-SIG-Mac] character encoding problem during startup
In-Reply-To: <49867.143.89.76.55.1343783868.squirrel@sqmail.ust.hk>
References: <49867.143.89.76.55.1343783868.squirrel@sqmail.ust.hk>
Message-ID: <7054E9E4-CBB8-4DB4-8340-368642F8372A@r-project.org>


On Jul 31, 2012, at 9:17 PM, XIAO Wendi wrote:

> Dear all,
> After opening the program there are always warnings about language setting:
> 
> During startup - Warning messages:
> 1: Setting LC_CTYPE failed, using "C"
> 2: Setting LC_COLLATE failed, using "C"
> 3: Setting LC_TIME failed, using "C"
> 4: Setting LC_MESSAGES failed, using "C"
> 5: Setting LC_PAPER failed, using "C"
> [R.app GUI 1.52 (6188) i386-apple-darwin9.8.0]
> 
> WARNING: You're using a non-UTF8 locale, therefore only ASCII characters
> will work.
> Please read R for Mac OS X FAQ (see Help) section 9 and adjust your system
> preferences accordingly.
> 
> My computer is a Mac OS 10.6. I look forward to your reply.
> 

You asked this already and you got an answer which is apparently still did not follow - as the message says follow R for Mac FAQ 9, it tells you what to do.


> Best Regards,
> Wendy
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From erika.cule05 at imperial.ac.uk  Sun Aug 12 20:12:27 2012
From: erika.cule05 at imperial.ac.uk (Cule, Erika)
Date: Sun, 12 Aug 2012 18:12:27 +0000
Subject: [R-SIG-Mac] R and Valgrind hangs on Snow Leopard
Message-ID: <5DAC3CE9-2B04-41CD-9684-4A6E799C37EE@imperial.ac.uk>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120812/01115841/attachment.pl>

From dwinsemius at comcast.net  Sun Aug 12 20:49:56 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Sun, 12 Aug 2012 11:49:56 -0700
Subject: [R-SIG-Mac] Need help urgently
In-Reply-To: <0D77AB3C-8A74-43BB-9048-AF44D5DEE767@noaa.gov>
References: <CAHEFVNxKz3-gNP0ioQF7UMs5X-t0gRpSmgZzvZxuhv5nA+DC0w@mail.gmail.com>
	<CAHA9McNj_o5kr9Eh00zfHRZrks9BOgyav9XYYW=PTZMC848KvA@mail.gmail.com>
	<0D77AB3C-8A74-43BB-9048-AF44D5DEE767@noaa.gov>
Message-ID: <8D77DB56-B0DC-48F1-BFEF-4D1A355854F2@comcast.net>


On Aug 12, 2012, at 9:42 AM, Roy Mendelssohn wrote:

> Hi:
>
>> On Fri, Jul 13, 2012 at 5:08 PM, Yanto Chandra <ychandra.logic at gmail.com 
>> > wrote:
>>> Dear Friends
>>>
>>> I am new to R. I just installed the Installer on my Mac OS, and  
>>> realized
>>> that the screen is not showing the menu and function (on the top  
>>> left of
>>> the screen) as you would normally see it if you had downloaded it  
>>> using
>>> Windows. This does not allow me to perform (or execute) commands  
>>> in the
>>> command editor.
>>>
>>> Did I miss anything here in the installation process? Should I  
>>> install
>>> something else on top of this?
>>
>> For those of us who aren't familiar w/ the windows install of R, it's
>> hard to follow what the problem is.
>>
>> Did you install R successfully?
>> Do you have R.app and R64.app in your /Applications folder?
>> Do they successfully launch?
>> Can you type commands into the workspace that's launched?
>>
>> What "menu and function" are you talking about?
>> ...
>>
>> ?
>>
>
> Even  more so, information on:
>
> 1.  What version of the operating system
>
> 2.  What an how you did the install, and where you got it from.
>
> 3. What you launched that is not producing a desired result.

And to add to that excellent set of questions. Has the OP read through  
the Mac-OS-FAQ?

cran.r-project.org/bin/macosx/RMacOSX-FAQ.html

It has an explanation of the menu system that controls the Mac GUI.

(It should have been part of the initial install, at least it has been  
for many recent versions.)

-- 
David.


David Winsemius, MD
Alameda, CA, USA


From erika.cule05 at imperial.ac.uk  Mon Aug 13 11:42:02 2012
From: erika.cule05 at imperial.ac.uk (Cule, Erika)
Date: Mon, 13 Aug 2012 09:42:02 +0000
Subject: [R-SIG-Mac] R and Valgrind hangs on Snow Leopard
Message-ID: <C1D3BB01-DEAF-46F8-B98C-12089F6F11E3@imperial.ac.uk>

(Reposted in plain text, with apologies)

I am having the problem described in this post:

https://stat.ethz.ch/pipermail/r-sig-mac/2011-November/008848.html

In summary, running Valgrind with R hangs.

As in the linked case above, if a file test.R contains the single command print(seq(10))

Then running the command

R -d "valgrind --tool=memcheck --leak-check=full" --vanilla < test.R

Produces the following output and hangs

==78868== Memcheck, a memory error detector
==78868== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
==78868== Using Valgrind-3.9.0.SVN and LibVEX; rerun with -h for copyright info
==78868== Command: /Library/Frameworks/R.framework/Resources/bin/exec/x86_64/R --vanilla
==78868==
==78868== Warning: ignored attempt to set SIGUSR2 handler in sigaction();
==78868==          the SIGUSR2 signal is used internally by Valgrind

R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
Copyright (C) 2012 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-apple-darwin10.8.0/x86_64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

>
>
>
> print(seq(10))
 [1]  1  2  3  4  5  6  7  8  9 10
>
>
>
>
>
>

I have followed the advice previously posted by Simon, used the SVN build of valgrind and recompiled R from source with --with-valgrind-instrumentation=2

I am running Mac OS X 10.6.8, valgrind-3.9.0.SVN, R version 2.15.1 and Platform: x86_64-apple-darwin10.8.0/x86_64 (64-bit).

As was the case for the previous poster, a command such as

valgrind ls

works as expected. 

I noted that Simon said he had no problem using valgrind from SVN on both Lion and Snow Leopard. Does anyone have any suggestion of what I might be doing differently, or what I could do to fix this problem?

Many thanks in advance

Erika

---

Erika Cule
PhD student
Imperial College London
Department of Epidemiology and Biostatistics
School of Public Health

erika.cule05 at imperial.ac.uk<mailto:erika.cule05 at imperial.ac.uk>


From ripley at stats.ox.ac.uk  Mon Aug 13 14:14:41 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 13 Aug 2012 13:14:41 +0100 (BST)
Subject: [R-SIG-Mac] R and Valgrind hangs on Snow Leopard
In-Reply-To: <C1D3BB01-DEAF-46F8-B98C-12089F6F11E3@imperial.ac.uk>
References: <C1D3BB01-DEAF-46F8-B98C-12089F6F11E3@imperial.ac.uk>
Message-ID: <alpine.LFD.2.02.1208131310160.30152@toucan.stats.ox.ac.uk>

On Mon, 13 Aug 2012, Cule, Erika wrote:

> (Reposted in plain text, with apologies)
>
> I am having the problem described in this post:
>
> https://stat.ethz.ch/pipermail/r-sig-mac/2011-November/008848.html
>
> In summary, running Valgrind with R hangs.
>
> As in the linked case above, if a file test.R contains the single command print(seq(10))
>
> Then running the command
>
> R -d "valgrind --tool=memcheck --leak-check=full" --vanilla < test.R
>
> Produces the following output and hangs
>
> ==78868== Memcheck, a memory error detector
> ==78868== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
> ==78868== Using Valgrind-3.9.0.SVN and LibVEX; rerun with -h for copyright info
> ==78868== Command: /Library/Frameworks/R.framework/Resources/bin/exec/x86_64/R --vanilla
> ==78868==
> ==78868== Warning: ignored attempt to set SIGUSR2 handler in sigaction();
> ==78868==          the SIGUSR2 signal is used internally by Valgrind
>
> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
> Copyright (C) 2012 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
> Platform: x86_64-apple-darwin10.8.0/x86_64 (64-bit)
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
>
>  Natural language support but running in an English locale
>
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
>
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
>
>>
>>
>>
>> print(seq(10))
> [1]  1  2  3  4  5  6  7  8  9 10
>>
>>
>>
>>
>>
>>
>
> I have followed the advice previously posted by Simon, used the SVN build of valgrind and recompiled R from source with --with-valgrind-instrumentation=2
>
> I am running Mac OS X 10.6.8, valgrind-3.9.0.SVN, R version 2.15.1 and Platform: x86_64-apple-darwin10.8.0/x86_64 (64-bit).
>
> As was the case for the previous poster, a command such as
>
> valgrind ls
>
> works as expected.
>
> I noted that Simon said he had no problem using valgrind from SVN on 
> both Lion and Snow Leopard. Does anyone have any suggestion of what 
> I might be doing differently, or what I could do to fix this 
> problem?


Not multiple post ... this is a second copy.

It does not work for me on Lion (I've never tried Snow Leopard).  As 
valgrind does not yet (even in the recent 3.8.0) really support 
Mountain Lion and we will be upgraded shortly (and BTW, Snow Leopard 
is now end-of-life for security patches), I've pretty much given up on 
valgrind on OS X.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From pdalgd at gmail.com  Mon Aug 13 15:10:53 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Mon, 13 Aug 2012 15:10:53 +0200
Subject: [R-SIG-Mac] R and Valgrind hangs on Snow Leopard
In-Reply-To: <alpine.LFD.2.02.1208131310160.30152@toucan.stats.ox.ac.uk>
References: <C1D3BB01-DEAF-46F8-B98C-12089F6F11E3@imperial.ac.uk>
	<alpine.LFD.2.02.1208131310160.30152@toucan.stats.ox.ac.uk>
Message-ID: <DAA0B3CF-F83B-4A2B-9566-DAF0D469F5DC@gmail.com>


On Aug 13, 2012, at 14:14 , Prof Brian Ripley wrote:

> On Mon, 13 Aug 2012, Cule, Erika wrote:
> 
>> (Reposted in plain text, with apologies)
>> 
>> I am having the problem described in this post:
>> 
>> https://stat.ethz.ch/pipermail/r-sig-mac/2011-November/008848.html
>> 
>> In summary, running Valgrind with R hangs.
>> 
>> As in the linked case above, if a file test.R contains the single command print(seq(10))
>> 
>> Then running the command
>> 
>> R -d "valgrind --tool=memcheck --leak-check=full" --vanilla < test.R
>> 
>> Produces the following output and hangs
>> 
>> ==78868== Memcheck, a memory error detector
>> ==78868== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
>> ==78868== Using Valgrind-3.9.0.SVN and LibVEX; rerun with -h for copyright info
>> ==78868== Command: /Library/Frameworks/R.framework/Resources/bin/exec/x86_64/R --vanilla
>> ==78868==
>> ==78868== Warning: ignored attempt to set SIGUSR2 handler in sigaction();
>> ==78868==          the SIGUSR2 signal is used internally by Valgrind
>> 
>> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
>> Copyright (C) 2012 The R Foundation for Statistical Computing
>> ISBN 3-900051-07-0
>> Platform: x86_64-apple-darwin10.8.0/x86_64 (64-bit)
>> 
>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>> You are welcome to redistribute it under certain conditions.
>> Type 'license()' or 'licence()' for distribution details.
>> 
>> Natural language support but running in an English locale
>> 
>> R is a collaborative project with many contributors.
>> Type 'contributors()' for more information and
>> 'citation()' on how to cite R or R packages in publications.
>> 
>> Type 'demo()' for some demos, 'help()' for on-line help, or
>> 'help.start()' for an HTML browser interface to help.
>> Type 'q()' to quit R.
>> 
>>> 
>>> 
>>> 
>>> print(seq(10))
>> [1]  1  2  3  4  5  6  7  8  9 10
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>> 
>> I have followed the advice previously posted by Simon, used the SVN build of valgrind and recompiled R from source with --with-valgrind-instrumentation=2
>> 
>> I am running Mac OS X 10.6.8, valgrind-3.9.0.SVN, R version 2.15.1 and Platform: x86_64-apple-darwin10.8.0/x86_64 (64-bit).
>> 
>> As was the case for the previous poster, a command such as
>> 
>> valgrind ls
>> 
>> works as expected.
>> 
>> I noted that Simon said he had no problem using valgrind from SVN on both Lion and Snow Leopard. Does anyone have any suggestion of what I might be doing differently, or what I could do to fix this problem?
> 
> 
> Not multiple post ... this is a second copy.
> 
> It does not work for me on Lion (I've never tried Snow Leopard).  As valgrind does not yet (even in the recent 3.8.0) really support Mountain Lion and we will be upgraded shortly (and BTW, Snow Leopard is now end-of-life for security patches), I've pretty much given up on valgrind on OS X.

I see the hang on Snow Leopard and Lion too. Something seems to be getting stuck during wrapup.

For whatever it is worth, I can make it snap out of it by attaching gdb to the valgrind process in another window (gdb -p 8228), then type c to continue:


peter-dalgaards-iMac:tmp pd$ R -d "valgrind --tool=memcheck --leak-check=full" --vanilla < test.R
==8228== Memcheck, a memory error detector
==8228== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
==8228== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
==8228== Command: /Library/Frameworks/R.framework/Resources/bin/exec/x86_64/R --vanilla
==8228== 
==8228== Warning: ignored attempt to set SIGUSR2 handler in sigaction();
==8228==          the SIGUSR2 signal is used internally by Valgrind

R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
Copyright (C) 2012 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> print(seq(10))
 [1]  1  2  3  4  5  6  7  8  9 10
> 
--8228:0:gdbsrv   readchar: poll got -1
==8228== 
==8228== HEAP SUMMARY:
==8228==     in use at exit: 29,164,319 bytes in 14,301 blocks
==8228==   total heap usage: 30,708 allocs, 16,407 frees, 48,229,523 bytes allocated
==8228== 
==8228== LEAK SUMMARY:
==8228==    definitely lost: 0 bytes in 0 blocks
==8228==    indirectly lost: 0 bytes in 0 blocks
==8228==      possibly lost: 0 bytes in 0 blocks
==8228==    still reachable: 29,150,957 bytes in 14,232 blocks
==8228==         suppressed: 13,362 bytes in 69 blocks
==8228== Reachable blocks (those to which a pointer was found) are not shown.
==8228== To see them, rerun with: --leak-check=full --show-reachable=yes
==8228== 
==8228== For counts of detected and suppressed errors, rerun with: -v
==8228== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 5 from 5)


-- 
Peter Dalgaard, Professor
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From erika.cule05 at imperial.ac.uk  Tue Aug 14 12:53:47 2012
From: erika.cule05 at imperial.ac.uk (Cule, Erika)
Date: Tue, 14 Aug 2012 10:53:47 +0000
Subject: [R-SIG-Mac] R and Valgrind hangs on Snow Leopard
In-Reply-To: <DAA0B3CF-F83B-4A2B-9566-DAF0D469F5DC@gmail.com>
References: <C1D3BB01-DEAF-46F8-B98C-12089F6F11E3@imperial.ac.uk>
	<alpine.LFD.2.02.1208131310160.30152@toucan.stats.ox.ac.uk>
	<DAA0B3CF-F83B-4A2B-9566-DAF0D469F5DC@gmail.com>
Message-ID: <2402B639CA718D40875055AF9BC9EE1013E4CDCB@icexch-m4.ic.ac.uk>

I have been in contact with the team at valgrind.

It seems the bug is this one:

https://bugs.kde.org/show_bug.cgi?id=301281

If you add your comment to this bug tracker, this will encourage the valgrind developers to fix it.

I will post again to this thread if the bug is fixed in the next release of valgrind.

Erika

On 13 Aug 2012, at 14:10, peter dalgaard wrote:

> 
> On Aug 13, 2012, at 14:14 , Prof Brian Ripley wrote:
> 
>> On Mon, 13 Aug 2012, Cule, Erika wrote:
>> 
>>> (Reposted in plain text, with apologies)
>>> 
>>> I am having the problem described in this post:
>>> 
>>> https://stat.ethz.ch/pipermail/r-sig-mac/2011-November/008848.html
>>> 
>>> In summary, running Valgrind with R hangs.
>>> 
>>> As in the linked case above, if a file test.R contains the single command print(seq(10))
>>> 
>>> Then running the command
>>> 
>>> R -d "valgrind --tool=memcheck --leak-check=full" --vanilla < test.R
>>> 
>>> Produces the following output and hangs
>>> 
>>> ==78868== Memcheck, a memory error detector
>>> ==78868== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
>>> ==78868== Using Valgrind-3.9.0.SVN and LibVEX; rerun with -h for copyright info
>>> ==78868== Command: /Library/Frameworks/R.framework/Resources/bin/exec/x86_64/R --vanilla
>>> ==78868==
>>> ==78868== Warning: ignored attempt to set SIGUSR2 handler in sigaction();
>>> ==78868==          the SIGUSR2 signal is used internally by Valgrind
>>> 
>>> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
>>> Copyright (C) 2012 The R Foundation for Statistical Computing
>>> ISBN 3-900051-07-0
>>> Platform: x86_64-apple-darwin10.8.0/x86_64 (64-bit)
>>> 
>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>> You are welcome to redistribute it under certain conditions.
>>> Type 'license()' or 'licence()' for distribution details.
>>> 
>>> Natural language support but running in an English locale
>>> 
>>> R is a collaborative project with many contributors.
>>> Type 'contributors()' for more information and
>>> 'citation()' on how to cite R or R packages in publications.
>>> 
>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>> 'help.start()' for an HTML browser interface to help.
>>> Type 'q()' to quit R.
>>> 
>>>> 
>>>> 
>>>> 
>>>> print(seq(10))
>>> [1]  1  2  3  4  5  6  7  8  9 10
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>> 
>>> I have followed the advice previously posted by Simon, used the SVN build of valgrind and recompiled R from source with --with-valgrind-instrumentation=2
>>> 
>>> I am running Mac OS X 10.6.8, valgrind-3.9.0.SVN, R version 2.15.1 and Platform: x86_64-apple-darwin10.8.0/x86_64 (64-bit).
>>> 
>>> As was the case for the previous poster, a command such as
>>> 
>>> valgrind ls
>>> 
>>> works as expected.
>>> 
>>> I noted that Simon said he had no problem using valgrind from SVN on both Lion and Snow Leopard. Does anyone have any suggestion of what I might be doing differently, or what I could do to fix this problem?
>> 
>> 
>> Not multiple post ... this is a second copy.
>> 
>> It does not work for me on Lion (I've never tried Snow Leopard).  As valgrind does not yet (even in the recent 3.8.0) really support Mountain Lion and we will be upgraded shortly (and BTW, Snow Leopard is now end-of-life for security patches), I've pretty much given up on valgrind on OS X.
> 
> I see the hang on Snow Leopard and Lion too. Something seems to be getting stuck during wrapup.
> 
> For whatever it is worth, I can make it snap out of it by attaching gdb to the valgrind process in another window (gdb -p 8228), then type c to continue:
> 
> 
> peter-dalgaards-iMac:tmp pd$ R -d "valgrind --tool=memcheck --leak-check=full" --vanilla < test.R
> ==8228== Memcheck, a memory error detector
> ==8228== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
> ==8228== Using Valgrind-3.7.0 and LibVEX; rerun with -h for copyright info
> ==8228== Command: /Library/Frameworks/R.framework/Resources/bin/exec/x86_64/R --vanilla
> ==8228== 
> ==8228== Warning: ignored attempt to set SIGUSR2 handler in sigaction();
> ==8228==          the SIGUSR2 signal is used internally by Valgrind
> 
> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
> Copyright (C) 2012 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
> 
>  Natural language support but running in an English locale
> 
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
> 
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
> 
>> print(seq(10))
> [1]  1  2  3  4  5  6  7  8  9 10
>> 
> --8228:0:gdbsrv   readchar: poll got -1
> ==8228== 
> ==8228== HEAP SUMMARY:
> ==8228==     in use at exit: 29,164,319 bytes in 14,301 blocks
> ==8228==   total heap usage: 30,708 allocs, 16,407 frees, 48,229,523 bytes allocated
> ==8228== 
> ==8228== LEAK SUMMARY:
> ==8228==    definitely lost: 0 bytes in 0 blocks
> ==8228==    indirectly lost: 0 bytes in 0 blocks
> ==8228==      possibly lost: 0 bytes in 0 blocks
> ==8228==    still reachable: 29,150,957 bytes in 14,232 blocks
> ==8228==         suppressed: 13,362 bytes in 69 blocks
> ==8228== Reachable blocks (those to which a pointer was found) are not shown.
> ==8228== To see them, rerun with: --leak-check=full --show-reachable=yes
> ==8228== 
> ==8228== For counts of detected and suppressed errors, rerun with: -v
> ==8228== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 5 from 5)
> 
> 
> -- 
> Peter Dalgaard, Professor
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 


From simon.urbanek at r-project.org  Tue Aug 14 20:10:19 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 14 Aug 2012 14:10:19 -0400
Subject: [R-SIG-Mac] R 2.15.1 installer with signature (for Mountain Lion)
Message-ID: <627006F6-70ED-4256-863B-FD2893D9E73F@r-project.org>

Mountain Lion has been around for a few days and, interestingly, so far no one has complained here, but the default privacy setting prevents unsigned installer packages from installing. Therefore there is an additional download on CRAN now consisting of R 2.15.1 in a signed installer package. The actual content is identical to that of the release but it is now signed with my Developer ID so it will install under the default setting. All this is only relevant to OS X 10.8 users.

Cheers,
Simon

PS: Nightly builds will remain unsigned for now (so you can only install them in the less restrictive privacy setting or from tar balls) since the bugs in Apple's tools with respect to signing have only been fixed in the most recent Xcode which is not available for the current build machine.


From bhh at xs4all.nl  Tue Aug 14 21:49:11 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Tue, 14 Aug 2012 21:49:11 +0200
Subject: [R-SIG-Mac] R 2.15.1 installer with signature (for Mountain
	Lion)
In-Reply-To: <627006F6-70ED-4256-863B-FD2893D9E73F@r-project.org>
References: <627006F6-70ED-4256-863B-FD2893D9E73F@r-project.org>
Message-ID: <5D9E36AA-19BC-4ED0-B98A-BCA918936795@xs4all.nl>


On 14-08-2012, at 20:10, Simon Urbanek wrote:

> Mountain Lion has been around for a few days and, interestingly, so far no one has complained here, but the default privacy setting prevents unsigned installer packages from installing.


I'm still on 10.6.8 and will wait at least until 10.8.1, and possibly until the Save As ... mess  is cleared up.
And until more about gcc and gfortran  needed for R and packages is known.

Berend


From simon.urbanek at r-project.org  Tue Aug 14 22:39:26 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 14 Aug 2012 16:39:26 -0400
Subject: [R-SIG-Mac] R 2.15.1 installer with signature (for Mountain
	Lion)
In-Reply-To: <5D9E36AA-19BC-4ED0-B98A-BCA918936795@xs4all.nl>
References: <627006F6-70ED-4256-863B-FD2893D9E73F@r-project.org>
	<5D9E36AA-19BC-4ED0-B98A-BCA918936795@xs4all.nl>
Message-ID: <7694C322-61E5-4F94-B435-CF62A3848774@r-project.org>

On Aug 14, 2012, at 3:49 PM, Berend Hasselman <bhh at xs4all.nl> wrote:

> On 14-08-2012, at 20:10, Simon Urbanek wrote:
> 
>> Mountain Lion has been around for a few days and, interestingly, so far no one has complained here, but the default privacy setting prevents unsigned installer packages from installing.
> 
> 
> I'm still on 10.6.8 and will wait at least until 10.8.1,

I'm not a big fan of 10.7/10.8 myself and I have specifically downgraded the machines where I actually need to do some real work, but that doesn't mean I can ignore it :).


> and possibly until the Save As ... mess  is cleared up.

10.8 brings it back, so at least that mess is somewhat cleaned up ;)


> And until more about gcc and gfortran  needed for R and packages is known.
> 

There are no changes there - so far the releases still use the same toolchain and at least in the near future there are no plans to change that. Fortunately, Apple still includes gcc in the Xcode command line tools so Xcode CLT + CRAN Fortran still works just fine.

Cheers,
Simon


From bhive01 at gmail.com  Tue Aug 14 22:55:10 2012
From: bhive01 at gmail.com (Brandon Hurr)
Date: Tue, 14 Aug 2012 15:55:10 -0500
Subject: [R-SIG-Mac] R 2.15.1 installer with signature (for Mountain
	Lion)
In-Reply-To: <7694C322-61E5-4F94-B435-CF62A3848774@r-project.org>
References: <627006F6-70ED-4256-863B-FD2893D9E73F@r-project.org>
	<5D9E36AA-19BC-4ED0-B98A-BCA918936795@xs4all.nl>
	<7694C322-61E5-4F94-B435-CF62A3848774@r-project.org>
Message-ID: <CAG2OMvtsO_gsTnKOg-LxJFWdXTE7bvBsvyyK6dZa0H2U8s9=fQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120814/8fb20940/attachment.pl>

From ripley at stats.ox.ac.uk  Wed Aug 15 11:02:49 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 15 Aug 2012 10:02:49 +0100
Subject: [R-SIG-Mac] R and Valgrind hangs on Snow Leopard
In-Reply-To: <alpine.LFD.2.02.1208131310160.30152@toucan.stats.ox.ac.uk>
References: <C1D3BB01-DEAF-46F8-B98C-12089F6F11E3@imperial.ac.uk>
	<alpine.LFD.2.02.1208131310160.30152@toucan.stats.ox.ac.uk>
Message-ID: <502B65B9.7080407@stats.ox.ac.uk>

Erika tracked this down to a known issue with valgrind and (C-level) 
system calls.  See https://bugs.kde.org/show_bug.cgi?id=301281

I've added a workaround in R-patched/R-devel: set the environment 
variable R_OSX_VALGRIND (to anything), preferably before starting the 
session but I guess it would also work from the R session.  This 
circumvents the system call used to remove the session temporary 
directory at the end of the session.



On 13/08/2012 13:14, Prof Brian Ripley wrote:
> On Mon, 13 Aug 2012, Cule, Erika wrote:
>
>> (Reposted in plain text, with apologies)
>>
>> I am having the problem described in this post:
>>
>> https://stat.ethz.ch/pipermail/r-sig-mac/2011-November/008848.html
>>
>> In summary, running Valgrind with R hangs.
>>
>> As in the linked case above, if a file test.R contains the single
>> command print(seq(10))
>>
>> Then running the command
>>
>> R -d "valgrind --tool=memcheck --leak-check=full" --vanilla < test.R
>>
>> Produces the following output and hangs
>>
>> ==78868== Memcheck, a memory error detector
>> ==78868== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
>> ==78868== Using Valgrind-3.9.0.SVN and LibVEX; rerun with -h for
>> copyright info
>> ==78868== Command:
>> /Library/Frameworks/R.framework/Resources/bin/exec/x86_64/R --vanilla
>> ==78868==
>> ==78868== Warning: ignored attempt to set SIGUSR2 handler in sigaction();
>> ==78868==          the SIGUSR2 signal is used internally by Valgrind
>>
>> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
>> Copyright (C) 2012 The R Foundation for Statistical Computing
>> ISBN 3-900051-07-0
>> Platform: x86_64-apple-darwin10.8.0/x86_64 (64-bit)
>>
>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>> You are welcome to redistribute it under certain conditions.
>> Type 'license()' or 'licence()' for distribution details.
>>
>>  Natural language support but running in an English locale
>>
>> R is a collaborative project with many contributors.
>> Type 'contributors()' for more information and
>> 'citation()' on how to cite R or R packages in publications.
>>
>> Type 'demo()' for some demos, 'help()' for on-line help, or
>> 'help.start()' for an HTML browser interface to help.
>> Type 'q()' to quit R.
>>
>>>
>>>
>>>
>>> print(seq(10))
>> [1]  1  2  3  4  5  6  7  8  9 10
>>>
>>>
>>>
>>>
>>>
>>>
>>
>> I have followed the advice previously posted by Simon, used the SVN
>> build of valgrind and recompiled R from source with
>> --with-valgrind-instrumentation=2
>>
>> I am running Mac OS X 10.6.8, valgrind-3.9.0.SVN, R version 2.15.1 and
>> Platform: x86_64-apple-darwin10.8.0/x86_64 (64-bit).
>>
>> As was the case for the previous poster, a command such as
>>
>> valgrind ls
>>
>> works as expected.
>>
>> I noted that Simon said he had no problem using valgrind from SVN on
>> both Lion and Snow Leopard. Does anyone have any suggestion of what I
>> might be doing differently, or what I could do to fix this problem?
>
>
> Not multiple post ... this is a second copy.
>
> It does not work for me on Lion (I've never tried Snow Leopard).  As
> valgrind does not yet (even in the recent 3.8.0) really support Mountain
> Lion and we will be upgraded shortly (and BTW, Snow Leopard is now
> end-of-life for security patches), I've pretty much given up on valgrind
> on OS X.
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From bhh at xs4all.nl  Wed Aug 15 11:28:13 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Wed, 15 Aug 2012 11:28:13 +0200
Subject: [R-SIG-Mac] R 2.15.1 installer with signature (for Mountain
	Lion)
In-Reply-To: <7694C322-61E5-4F94-B435-CF62A3848774@r-project.org>
References: <627006F6-70ED-4256-863B-FD2893D9E73F@r-project.org>
	<5D9E36AA-19BC-4ED0-B98A-BCA918936795@xs4all.nl>
	<7694C322-61E5-4F94-B435-CF62A3848774@r-project.org>
Message-ID: <FCA047E4-B54F-4F97-889A-E9FDBB5984E4@xs4all.nl>


On 14-08-2012, at 22:39, Simon Urbanek wrote:

> On Aug 14, 2012, at 3:49 PM, Berend Hasselman <bhh at xs4all.nl> wrote:
> 
>> On 14-08-2012, at 20:10, Simon Urbanek wrote:
>> 
>>> Mountain Lion has been around for a few days and, interestingly, so far no one has complained here, but the default privacy setting prevents unsigned installer packages from installing.
>> 
>> 
>> I'm still on 10.6.8 and will wait at least until 10.8.1,
> 
> I'm not a big fan of 10.7/10.8 myself and I have specifically downgraded the machines where I actually need to do some real work, but that doesn't mean I can ignore it :).
> 
> 
>> and possibly until the Save As ... mess  is cleared up.

> 
> 10.8 brings it back, so at least that mess is somewhat cleaned up ;)
> 

After reading Matt Neuburg's article "The Very Model of a Modern Mountain Lion Document" (http://tidbits.com/article/13187), Save As even though it is back is a real mess. See the last but one paragraph of the article. Even if you check "Ask to keep changes when closing documents" Save As ... will also save your edits in the original file! I assume that's a bug which hopefully will be repaired in 10.8.1

> 
>> And until more about gcc and gfortran  needed for R and packages is known.
>> 
> 
> There are no changes there - so far the releases still use the same toolchain and at least in the near future there are no plans to change that. Fortunately, Apple still includes gcc in the Xcode command line tools so Xcode CLT + CRAN Fortran still works just fine.
> 

To be completely sure: for ML  I only have to install gfortran-lion-5666-3.pkg (from r.research.att.com) and Xcode + CLI tools?

Berend


From simon.urbanek at r-project.org  Wed Aug 15 15:26:48 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 15 Aug 2012 09:26:48 -0400
Subject: [R-SIG-Mac] R 2.15.1 installer with signature (for Mountain
	Lion)
In-Reply-To: <FCA047E4-B54F-4F97-889A-E9FDBB5984E4@xs4all.nl>
References: <627006F6-70ED-4256-863B-FD2893D9E73F@r-project.org>
	<5D9E36AA-19BC-4ED0-B98A-BCA918936795@xs4all.nl>
	<7694C322-61E5-4F94-B435-CF62A3848774@r-project.org>
	<FCA047E4-B54F-4F97-889A-E9FDBB5984E4@xs4all.nl>
Message-ID: <CBD50A67-888B-4D0D-946B-E1F179629DA9@r-project.org>

On Aug 15, 2012, at 5:28 AM, Berend Hasselman <bhh at xs4all.nl> wrote:

> To be completely sure: for ML  I only have to install gfortran-lion-5666-3.pkg (from r.research.att.com) and Xcode + CLI tools?

No, the "regular" Fortran from the top of the page or from CRAN - there is no Xcode add-on.

Cheers,
Simon


From f.calboli at imperial.ac.uk  Wed Aug 15 17:41:29 2012
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Wed, 15 Aug 2012 16:41:29 +0100
Subject: [R-SIG-Mac] R 2.15.1 installer with signature (for Mountain
	Lion)
In-Reply-To: <CBD50A67-888B-4D0D-946B-E1F179629DA9@r-project.org>
References: <627006F6-70ED-4256-863B-FD2893D9E73F@r-project.org>
	<5D9E36AA-19BC-4ED0-B98A-BCA918936795@xs4all.nl>
	<7694C322-61E5-4F94-B435-CF62A3848774@r-project.org>
	<FCA047E4-B54F-4F97-889A-E9FDBB5984E4@xs4all.nl>
	<CBD50A67-888B-4D0D-946B-E1F179629DA9@r-project.org>
Message-ID: <EC255221-4F14-4D18-8511-59D7EECA6F0C@imperial.ac.uk>

On 15 Aug 2012, at 14:26, Simon Urbanek <simon.urbanek at r-project.org> wrote:

> On Aug 15, 2012, at 5:28 AM, Berend Hasselman <bhh at xs4all.nl> wrote:
> 
>> To be completely sure: for ML  I only have to install gfortran-lion-5666-3.pkg (from r.research.att.com) and Xcode + CLI tools?
> 
> No, the "regular" Fortran from the top of the page or from CRAN - there is no Xcode add-on.


since I upgraded to Mountain Lion I have the old Lion gfortran in /usr/bin (though since my upgrade involved a clean install, the package receipts have not been migrated by time machine).  Is that a problem?  Removing it and associated files would not be fun?

~$ which gfortran-4.2
/usr/bin/gfortran-4.2

BW

F



> Cheers,
> Simon
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From mdonohue at ucsd.edu  Thu Aug 16 00:29:32 2012
From: mdonohue at ucsd.edu (Michael Donohue)
Date: Wed, 15 Aug 2012 15:29:32 -0700
Subject: [R-SIG-Mac] install.packages on '.tar.gz' fails
Message-ID: <39999FCB-23E6-4515-9C9C-5CF0853558A9@ucsd.edu>

After updating to R 2.15.1 on OS X 10.8, I am seeing:

> install.packages("nlme_3.1-104.tar.gz", repos = NULL)
Error: file ?nlme_3.1-104.tar.gz? is not an OS X binary package

R CMD INSTALL is working fine, but I'm curious if anyone is having the same issue.

Thanks,

Mike


From pdalgd at gmail.com  Thu Aug 16 00:42:02 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Thu, 16 Aug 2012 00:42:02 +0200
Subject: [R-SIG-Mac] install.packages on '.tar.gz' fails
In-Reply-To: <39999FCB-23E6-4515-9C9C-5CF0853558A9@ucsd.edu>
References: <39999FCB-23E6-4515-9C9C-5CF0853558A9@ucsd.edu>
Message-ID: <EE8AFB3E-27FC-4E79-8D5E-9D9B46E1467D@gmail.com>


On Aug 16, 2012, at 00:29 , Michael Donohue wrote:

> After updating to R 2.15.1 on OS X 10.8, I am seeing:
> 
>> install.packages("nlme_3.1-104.tar.gz", repos = NULL)
> Error: file ?nlme_3.1-104.tar.gz? is not an OS X binary package
> 
> R CMD INSTALL is working fine, but I'm curious if anyone is having the same issue.
> 


I guess that the problem is that the .tar.gz file is ..... wait for it ..... not a binary package for OS X. Those usually have .tgz extension, where as .tar.gz files are usually source packages.

You might try  type="source" in install.packages.

> Thanks,
> 
> Mike
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From mdonohue at ucsd.edu  Thu Aug 16 00:50:01 2012
From: mdonohue at ucsd.edu (Michael Donohue)
Date: Wed, 15 Aug 2012 15:50:01 -0700
Subject: [R-SIG-Mac] install.packages on '.tar.gz' fails
In-Reply-To: <EE8AFB3E-27FC-4E79-8D5E-9D9B46E1467D@gmail.com>
References: <39999FCB-23E6-4515-9C9C-5CF0853558A9@ucsd.edu>
	<EE8AFB3E-27FC-4E79-8D5E-9D9B46E1467D@gmail.com>
Message-ID: <57787762-EAB3-4A16-AF9F-A41373A7CD9B@ucsd.edu>

> I guess that the problem is that the .tar.gz file is ..... wait for it ..... not a binary package for OS X. Those usually have .tgz extension, where as .tar.gz files are usually source packages.
> 
> You might try  type="source" in install.packages.

Thanks, type="source", does work; though this appears to a new requirement in R 15.1.

From aislinn.pearson11 at imperial.ac.uk  Mon Aug 13 17:03:48 2012
From: aislinn.pearson11 at imperial.ac.uk (Pearson, Aislinn)
Date: Mon, 13 Aug 2012 15:03:48 +0000
Subject: [R-SIG-Mac] Blank screen on a mac when plotting some (but not all)
	data
Message-ID: <8AF8D37D89128745A67D7C06DFED2B9313FD7F9B@icexch-m4.ic.ac.uk>

Hi,

I am analysing some data using ANOVA and I want to check that all of my assumptions are correct (constant variance, normal distribution of errors, etc). I understand from Mick Crawley's 'Statistics: An introduction using R" that the best way to do this is to use plot(model):

model<-aov(Total.Distance_Log~Treatment)
summary(model)
plot(model)

There are no problems writing the model or summarising it. However, when I try to plot it using the above code the image window for the graph is empty. The console gives the instruction to hit return to see the next graph, but this doesn't seem to generate anything either. I know that the image window works because I was using it to create histograms as an alternative way of checking that the data is normally distributed:

hist(Total.Distance_Log)

I also think plot(model) works as I asked a colleague to check it on his PC. 

I have had a look on the wiki, but haven't found anything yet. If anyone knows what I am doing wrong I would be grateful for some advice.

Thank you

From aislinn.pearson11 at imperial.ac.uk  Mon Aug 13 19:04:48 2012
From: aislinn.pearson11 at imperial.ac.uk (Pearson, Aislinn)
Date: Mon, 13 Aug 2012 17:04:48 +0000
Subject: [R-SIG-Mac] Blank screen on a mac when plotting some (but not
	all) data
In-Reply-To: <8AF8D37D89128745A67D7C06DFED2B9313FD7F9B@icexch-m4.ic.ac.uk>
References: <8AF8D37D89128745A67D7C06DFED2B9313FD7F9B@icexch-m4.ic.ac.uk>
Message-ID: <8AF8D37D89128745A67D7C06DFED2B9313FD8024@icexch-m4.ic.ac.uk>

Hi,

With some help from a colleague I have figured out the solution. Please don't post this.

Thanks,

Aislinn
________________________________________
From: Pearson, Aislinn
Sent: 13 August 2012 16:03
To: r-sig-mac at r-project.org
Subject: Blank screen on a mac when plotting some (but not all) data

Hi,

I am analysing some data using ANOVA and I want to check that all of my assumptions are correct (constant variance, normal distribution of errors, etc). I understand from Mick Crawley's 'Statistics: An introduction using R" that the best way to do this is to use plot(model):

model<-aov(Total.Distance_Log~Treatment)
summary(model)
plot(model)

There are no problems writing the model or summarising it. However, when I try to plot it using the above code the image window for the graph is empty. The console gives the instruction to hit return to see the next graph, but this doesn't seem to generate anything either. I know that the image window works because I was using it to create histograms as an alternative way of checking that the data is normally distributed:

hist(Total.Distance_Log)

I also think plot(model) works as I asked a colleague to check it on his PC.

I have had a look on the wiki, but haven't found anything yet. If anyone knows what I am doing wrong I would be grateful for some advice.

Thank you


From ychandra.logic at gmail.com  Sun Aug 12 20:28:02 2012
From: ychandra.logic at gmail.com (Yanto Chandra)
Date: Sun, 12 Aug 2012 19:28:02 +0100
Subject: [R-SIG-Mac] Need help urgently
In-Reply-To: <0D77AB3C-8A74-43BB-9048-AF44D5DEE767@noaa.gov>
References: <CAHEFVNxKz3-gNP0ioQF7UMs5X-t0gRpSmgZzvZxuhv5nA+DC0w@mail.gmail.com>
	<CAHA9McNj_o5kr9Eh00zfHRZrks9BOgyav9XYYW=PTZMC848KvA@mail.gmail.com>
	<0D77AB3C-8A74-43BB-9048-AF44D5DEE767@noaa.gov>
Message-ID: <CAHEFVNwGEBM7BX8NY6AHLfC6sO2G++8FP+ZaVDBnGfh9fC5u2w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120812/a0ae11e3/attachment.pl>

From dwinsemius at comcast.net  Fri Aug 17 08:39:33 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 16 Aug 2012 23:39:33 -0700
Subject: [R-SIG-Mac] Blank screen on a mac when plotting some (but not
	all) data
In-Reply-To: <8AF8D37D89128745A67D7C06DFED2B9313FD7F9B@icexch-m4.ic.ac.uk>
References: <8AF8D37D89128745A67D7C06DFED2B9313FD7F9B@icexch-m4.ic.ac.uk>
Message-ID: <3ADBD759-5BFA-4303-8048-E97D898FAE88@comcast.net>


On Aug 13, 2012, at 8:03 AM, Pearson, Aislinn wrote:

> Hi,
>
> I am analysing some data using ANOVA and I want to check that all of  
> my assumptions are correct (constant variance, normal distribution  
> of errors, etc). I understand from Mick Crawley's 'Statistics: An  
> introduction using R" that the best way to do this is to use  
> plot(model):
>
> model<-aov(Total.Distance_Log~Treatment)
> summary(model)

quartz()

> plot(model)

Sometimes you need to create an output window so that plot.new() will  
succeed.

>
> There are no problems writing the model or summarising it. However,  
> when I try to plot it using the above code the image window for the  
> graph is empty. The console gives the instruction to hit return to  
> see the next graph, but this doesn't seem to generate anything  
> either. I know that the image window works because I was using it to  
> create histograms as an alternative way of checking that the data is  
> normally distributed:
>
> hist(Total.Distance_Log)
>
> I also think plot(model) works as I asked a colleague to check it on  
> his PC.
>
> I have had a look on the wiki, but haven't found anything yet. If  
> anyone knows what I am doing wrong I would be grateful for some  
> advice.
>
> Thank you
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Alameda, CA, USA


From pjo at cisunix.unh.edu  Sun Aug 19 21:23:55 2012
From: pjo at cisunix.unh.edu (Paul Ossenbruggen)
Date: Sun, 19 Aug 2012 15:23:55 -0400
Subject: [R-SIG-Mac] texi2dvi error "Sweave" and "exams"
Message-ID: <F1E5C5FD-50CF-403D-B5DB-85C2C5A29523@cisunix.unh.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120819/86058c29/attachment.pl>

From kasperdanielhansen at gmail.com  Sun Aug 19 21:40:07 2012
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Sun, 19 Aug 2012 15:40:07 -0400
Subject: [R-SIG-Mac] texi2dvi error "Sweave" and "exams"
In-Reply-To: <F1E5C5FD-50CF-403D-B5DB-85C2C5A29523@cisunix.unh.edu>
References: <F1E5C5FD-50CF-403D-B5DB-85C2C5A29523@cisunix.unh.edu>
Message-ID: <CAC2h7uu5=3_AHF9D0y5TSdaZx8vHmR4vsn4CQwt1w5YceC=Hdw@mail.gmail.com>

Paul,

The standard way to install Tex on the Mac is to use MacTex (a port of
Texlive to the Mac), see
  http://tug.org/mactex/

You should probably install the big 2.1GB package on the front page.
That should also place the tex utilities on your path (as far as I
recall).

Kasper

On Sun, Aug 19, 2012 at 3:23 PM, Paul Ossenbruggen <pjo at cisunix.unh.edu> wrote:
>
>
>
>         I have installed Sweave as recommended. http://lifeasclay.wordpress.com/tag/sweave/.    Placing a test.Rnw file, for instance, in  "/Library/Frameworks/R.framework/Versions/2.15/Resources/library/utils/Sweave" generates test.tex files that generate pdf files with LaTeX. To be honest, placing Rnw files seem to make sense. The "exams" package does require not this step. It uses texi2dvi and other tools to accomplish this result. Since I have a cursory knowledge of Mac OSX and the role that texi2dvi plays, I cannot understand the error message obtained below. The error occurs when executing the Example from R help(exams).
>
>> library(exams)
> Loading required package: tools
> starting httpd help server ... done
>> getwd()
> [1] "/Users/PJO"
>> library("exams")
>> options(device.ask.default = FALSE)
>>
>> myexam <- list(
> +   "boxplots",
> +   c("tstat", "ttest", "confint"),
> +   c("regression", "anova"),
> +   "scatterplot",
> +   "relfreq"
> + )
>>
>> sol <- exams(myexam)
> Error in texi2dvi(out_tex[j], pdf = TRUE, clean = TRUE, quiet = quiet) :
>   Running 'texi2dvi' on 'plain1.tex' failed.
>
>         I am running:
> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
> Copyright (C) 2012 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
>
> and Mac OSX Version 10.8.
>
>         After submitting the above to r-help-request "12. texi2dvi error "Sweave" and "exams" (Paul Ossenbruggen)", I delved further into the problem and discovered the source of the problem:
>
>> exams(file = "tstat.Rnw", quiet = FALSE)
> Writing to file tstat.tex
> Processing code chunks with options ...
>  1 : keep.source term hide
>
> You can now run (pdf)latex on ?tstat.tex?
> Error in texi2dvi(out_tex[j], pdf = TRUE, clean = TRUE, quiet = quiet) :
>   Running 'texi2dvi' on 'plain1.tex' failed.
> Output:
> You don't have a working TeX binary (tex) installed anywhere in
> your PATH, and texi2dvi cannot proceed without one.  If you want to use
> this script, you'll need to install TeX (if you don't have it) or change
> your PATH or TEX environment variable (if you do).  See the --help
> output for more details.
>
> For information about obtaining TeX, please see http://www.tug.org.  If
> you happen to be using Debian, you can get it with this command:
>   apt-get install tetex-bin
>
>         Apparently, it is a simple matter to fix the error; however, I don't have sufficient knowledge to know how to proceed.
>
>         I installed LaTeX using TeX Live and use TeXShop as my LaTeX driver. A bibtex folder is stored on the path /library/texmf but TeX is not. I suspect that I must install TeX in this folder but again unsure.
>
>         Any help will be greatly appreciated.
>
> Thanks,
> Paul
>
>
>         [[alternative HTML version deleted]]
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From bhh at xs4all.nl  Sun Aug 19 21:41:04 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Sun, 19 Aug 2012 21:41:04 +0200
Subject: [R-SIG-Mac] texi2dvi error "Sweave" and "exams"
In-Reply-To: <F1E5C5FD-50CF-403D-B5DB-85C2C5A29523@cisunix.unh.edu>
References: <F1E5C5FD-50CF-403D-B5DB-85C2C5A29523@cisunix.unh.edu>
Message-ID: <4FFBB47D-DB16-4542-9F02-CD94236AEF65@xs4all.nl>

See inline.

On 19-08-2012, at 21:23, Paul Ossenbruggen wrote:

> 
> 	I have installed Sweave as recommended. http://lifeasclay.wordpress.com/tag/sweave/.  	Placing a test.Rnw file, for instance, in  "/Library/Frameworks/R.framework/Versions/2.15/Resources/library/utils/Sweave" generates test.tex files that generate pdf files with LaTeX. To be honest, placing Rnw files seem to make sense.

You shouldn't be placing your .Rnw file in that directory.
What do you mean by "seem to make sense"?

> The "exams" package does require not this step. It uses texi2dvi and other tools to accomplish this result. Since I have a cursory knowledge of Mac OSX and the role that texi2dvi plays, I cannot understand the error message obtained below. The error occurs when executing the Example from R help(exams).
> 
>> library(exams)
> Loading required package: tools
> starting httpd help server ... done
>> getwd()
> [1] "/Users/PJO"
>> library("exams")
>> options(device.ask.default = FALSE)
>> 
>> myexam <- list(
> +   "boxplots",
> +   c("tstat", "ttest", "confint"),
> +   c("regression", "anova"),
> +   "scatterplot",
> +   "relfreq"
> + )
>> 
>> sol <- exams(myexam)
> Error in texi2dvi(out_tex[j], pdf = TRUE, clean = TRUE, quiet = quiet) : 
>  Running 'texi2dvi' on 'plain1.tex' failed.
> 
> 	I am running:
> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
> Copyright (C) 2012 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
> 
> and Mac OSX Version 10.8.
> 
> 	After submitting the above to r-help-request "12. texi2dvi error "Sweave" and "exams" (Paul Ossenbruggen)", I delved further into the problem and discovered the source of the problem:
> 
>> exams(file = "tstat.Rnw", quiet = FALSE)
> Writing to file tstat.tex
> Processing code chunks with options ...
> 1 : keep.source term hide
> 
> You can now run (pdf)latex on ?tstat.tex?
> Error in texi2dvi(out_tex[j], pdf = TRUE, clean = TRUE, quiet = quiet) : 
>  Running 'texi2dvi' on 'plain1.tex' failed.
> Output:
> You don't have a working TeX binary (tex) installed anywhere in
> your PATH, and texi2dvi cannot proceed without one.  If you want to use
> this script, you'll need to install TeX (if you don't have it) or change
> your PATH or TEX environment variable (if you do).  See the --help
> output for more details.
> 
> For information about obtaining TeX, please see http://www.tug.org.  If
> you happen to be using Debian, you can get it with this command:
>  apt-get install tetex-bin
> 
> 	Apparently, it is a simple matter to fix the error; however, I don't have sufficient knowledge to know how to proceed. 
> 
> 	I installed LaTeX using TeX Live and use TeXShop as my LaTeX driver. A bibtex folder is stored on the path /library/texmf but TeX is not. I suspect that I must install TeX in this folder but again unsure.  


You probably mean ~/Library/texmf.
No TeX does not get installed in that directory.

Did you download MacTeX.pkg from www.tug.org?
Without information about what you downloaded and what you did it's difficult to to tell you how t o proceed.

Berend


From bhh at xs4all.nl  Mon Aug 20 20:58:17 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Mon, 20 Aug 2012 20:58:17 +0200
Subject: [R-SIG-Mac] texi2dvi error "Sweave" and "exams" (Paul
	Ossenbruggen)
In-Reply-To: <9C21A196-B4D0-4CB9-8158-0300E95526E0@cisunix.unh.edu>
References: <4150489C-FA28-4854-A14A-786AD8944946@cisunix.unh.edu>
	<F1B22AFA-1FCB-48DA-9424-E994A61968E3@xs4all.nl>
	<9C21A196-B4D0-4CB9-8158-0300E95526E0@cisunix.unh.edu>
Message-ID: <CB944F2B-7DC8-4642-A9C8-1050CBF60F2B@xs4all.nl>


On 20-08-2012, at 20:25, Paul Ossenbruggen wrote:

>> 	I downloaded and installed the big MacTex.pkg and MacTeXtras package and checked it out (http://tug.org/mactex/). It works fine. The TeX Distribution file (Systems Preferences) has TeXLive-2012 Intel 4 shown with a button. 
>> 
>> 	"exams" does not work as it suppose to.
> 
> The Error:
> 
>> sol <- exams(myexam)
> Error in texi2dvi(out_tex[j], pdf = TRUE, clean = TRUE, quiet = quiet) : 
>  Running 'texi2dvi' on 'plain1.tex' failed.
>> sol
> [1] 262.609
> 

Your example was

myexam <- list(
+   "boxplots",
+   c("tstat", "ttest", "confint"),
+   c("regression", "anova"),
+   "scatterplot",
+   "relfreq"
+ )
sol <- exams(myexam)

I have run thus after installing package exams.
It fails the same way with the error message

Error in texi2dvi(out_tex[j], pdf = TRUE, clean = TRUE, quiet = quiet) : 
 Running 'texi2dvi' on 'plain1.tex' failed.


> 	I tried the following suggestions to overcome the following "No entry in PATH for /usr/texbin."
> 
> #1 Terminal output:
> 
> 	PJO-MacBook-Pro:~ PJO$ echo $PATH
> 	/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/texbin

Looks ok.

When I run exams(myexam,quiet=FALSE) the same error  message appears as in your case.
Error in texi2dvi(out_tex[j], pdf = TRUE, clean = TRUE, quiet = quiet) : 
 Running 'texi2dvi' on 'plain1.tex' failed.
Output:
You don't have a working TeX binary (tex) installed anywhere in
your PATH, and texi2dvi cannot proceed without one.  If you want to use
this script, you'll need to install TeX (if you don't have it) or change
your PATH or TEX environment variable (if you do).  See the --help
output for more details.

For information about obtaining TeX, please see http://www.tug.org.  If
you happen to be using Debian, you can get it with this command:
 apt-get install tetex-bin

I have the full MacTeX2012 installed.
So I don't know what's wrong. Maybe you should contact the author of the package.


Berend


From simon.urbanek at r-project.org  Mon Aug 20 21:30:26 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 20 Aug 2012 15:30:26 -0400
Subject: [R-SIG-Mac] texi2dvi error "Sweave" and "exams" (Paul
	Ossenbruggen)
In-Reply-To: <CB944F2B-7DC8-4642-A9C8-1050CBF60F2B@xs4all.nl>
References: <4150489C-FA28-4854-A14A-786AD8944946@cisunix.unh.edu>
	<F1B22AFA-1FCB-48DA-9424-E994A61968E3@xs4all.nl>
	<9C21A196-B4D0-4CB9-8158-0300E95526E0@cisunix.unh.edu>
	<CB944F2B-7DC8-4642-A9C8-1050CBF60F2B@xs4all.nl>
Message-ID: <4F0386AA-CCB1-4C90-B347-FB72B3CA1277@r-project.org>


On Aug 20, 2012, at 2:58 PM, Berend Hasselman <bhh at xs4all.nl> wrote:

> 
> On 20-08-2012, at 20:25, Paul Ossenbruggen wrote:
> 
>>> 	I downloaded and installed the big MacTex.pkg and MacTeXtras package and checked it out (http://tug.org/mactex/). It works fine. The TeX Distribution file (Systems Preferences) has TeXLive-2012 Intel 4 shown with a button. 
>>> 
>>> 	"exams" does not work as it suppose to.
>> 
>> The Error:
>> 
>>> sol <- exams(myexam)
>> Error in texi2dvi(out_tex[j], pdf = TRUE, clean = TRUE, quiet = quiet) : 
>> Running 'texi2dvi' on 'plain1.tex' failed.
>>> sol
>> [1] 262.609
>> 
> 
> Your example was
> 
> myexam <- list(
> +   "boxplots",
> +   c("tstat", "ttest", "confint"),
> +   c("regression", "anova"),
> +   "scatterplot",
> +   "relfreq"
> + )
> sol <- exams(myexam)
> 
> I have run thus after installing package exams.
> It fails the same way with the error message
> 
> Error in texi2dvi(out_tex[j], pdf = TRUE, clean = TRUE, quiet = quiet) : 
> Running 'texi2dvi' on 'plain1.tex' failed.
> 
> 
>> 	I tried the following suggestions to overcome the following "No entry in PATH for /usr/texbin."
>> 
>> #1 Terminal output:
>> 
>> 	PJO-MacBook-Pro:~ PJO$ echo $PATH
>> 	/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/texbin
> 
> Looks ok.
> 

So are you running R in Terminal? Note that the PATHs are entirely different depending how you run R (see Mac FAQ).

Cheers,
Simon


> When I run exams(myexam,quiet=FALSE) the same error  message appears as in your case.
> Error in texi2dvi(out_tex[j], pdf = TRUE, clean = TRUE, quiet = quiet) : 
> Running 'texi2dvi' on 'plain1.tex' failed.
> Output:
> You don't have a working TeX binary (tex) installed anywhere in
> your PATH, and texi2dvi cannot proceed without one.  If you want to use
> this script, you'll need to install TeX (if you don't have it) or change
> your PATH or TEX environment variable (if you do).  See the --help
> output for more details.
> 
> For information about obtaining TeX, please see http://www.tug.org.  If
> you happen to be using Debian, you can get it with this command:
> apt-get install tetex-bin
> 
> I have the full MacTeX2012 installed.
> So I don't know what's wrong. Maybe you should contact the author of the package.
> 
> 
> Berend
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From bhh at xs4all.nl  Mon Aug 20 22:00:18 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Mon, 20 Aug 2012 22:00:18 +0200
Subject: [R-SIG-Mac] texi2dvi error "Sweave" and "exams" (Paul
	Ossenbruggen)
In-Reply-To: <4F0386AA-CCB1-4C90-B347-FB72B3CA1277@r-project.org>
References: <4150489C-FA28-4854-A14A-786AD8944946@cisunix.unh.edu>
	<F1B22AFA-1FCB-48DA-9424-E994A61968E3@xs4all.nl>
	<9C21A196-B4D0-4CB9-8158-0300E95526E0@cisunix.unh.edu>
	<CB944F2B-7DC8-4642-A9C8-1050CBF60F2B@xs4all.nl>
	<4F0386AA-CCB1-4C90-B347-FB72B3CA1277@r-project.org>
Message-ID: <0BB6CEBF-E7BF-4770-8713-F6D89B114D42@xs4all.nl>


On 20-08-2012, at 21:30, Simon Urbanek wrote:

> 
> On Aug 20, 2012, at 2:58 PM, Berend Hasselman <bhh at xs4all.nl> wrote:
> 
>> 
>> On 20-08-2012, at 20:25, Paul Ossenbruggen wrote:
>> 
>>>> 	I downloaded and installed the big MacTex.pkg and MacTeXtras package and checked it out (http://tug.org/mactex/). It works fine. The TeX Distribution file (Systems Preferences) has TeXLive-2012 Intel 4 shown with a button. 
>>>> 
>>>> 	"exams" does not work as it suppose to.
>>> 
>>> The Error:
>>> 
>>>> sol <- exams(myexam)
>>> Error in texi2dvi(out_tex[j], pdf = TRUE, clean = TRUE, quiet = quiet) : 
>>> Running 'texi2dvi' on 'plain1.tex' failed.
>>>> sol
>>> [1] 262.609
>>> 
>> 
>> Your example was
>> 
>> myexam <- list(
>> +   "boxplots",
>> +   c("tstat", "ttest", "confint"),
>> +   c("regression", "anova"),
>> +   "scatterplot",
>> +   "relfreq"
>> + )
>> sol <- exams(myexam)
>> 
>> I have run thus after installing package exams.
>> It fails the same way with the error message
>> 
>> Error in texi2dvi(out_tex[j], pdf = TRUE, clean = TRUE, quiet = quiet) : 
>> Running 'texi2dvi' on 'plain1.tex' failed.
>> 
>> 
>>> 	I tried the following suggestions to overcome the following "No entry in PATH for /usr/texbin."
>>> 
>>> #1 Terminal output:
>>> 
>>> 	PJO-MacBook-Pro:~ PJO$ echo $PATH
>>> 	/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/texbin
>> 
>> Looks ok.
>> 
> 
> So are you running R in Terminal? Note that the PATHs are entirely different depending how you run R (see Mac FAQ).

Arghh!

In R GUI Sys.getenv("PATH") gives

[1] "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"


and in R in Terminal the same command gives

[1] "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/texbin:/usr/X11/bin:/Users/berendhasselman/bin"

Thanks. I did Sys.setenv(PATH=paste(Sys.getenv("PATH"),"/usr/texbin",sep=":")) in R GUI and now it works in R GUI and Terminal R.


Berend


From bhh at xs4all.nl  Tue Aug 21 07:40:31 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Tue, 21 Aug 2012 07:40:31 +0200
Subject: [R-SIG-Mac] texi2dvi error "Sweave" and "exams" (Paul
	Ossenbruggen)
In-Reply-To: <41056891-18AC-452E-AD67-801BECA9E95A@cisunix.unh.edu>
References: <4150489C-FA28-4854-A14A-786AD8944946@cisunix.unh.edu>
	<F1B22AFA-1FCB-48DA-9424-E994A61968E3@xs4all.nl>
	<9C21A196-B4D0-4CB9-8158-0300E95526E0@cisunix.unh.edu>
	<CB944F2B-7DC8-4642-A9C8-1050CBF60F2B@xs4all.nl>
	<4F0386AA-CCB1-4C90-B347-FB72B3CA1277@r-project.org>
	<0BB6CEBF-E7BF-4770-8713-F6D89B114D42@xs4all.nl>
	<41056891-18AC-452E-AD67-801BECA9E95A@cisunix.unh.edu>
Message-ID: <07538208-D631-4975-AAEF-E8BCE558C840@xs4all.nl>


Forgot to send this to the list.

On 20-08-2012, at 22:26, Paul Ossenbruggen wrote:

> In R GUI, I submitted and got:
> 
>> Sys.getenv("PATH")
> [1] "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"
>> 
> 
> In terminal, I was not so fortunate. I got errors. I am sorry but I never run applications from terminal. 
> 
> PJO-MacBook-Pro:~ PJO$ sudo ln -s /Library/Frameworks/R.framework/Resources/R /usr/local/bin/R

Why did you do that?

> Password:
> ln: /usr/local/bin/R: File exists
> PJO-MacBook-Pro:~ PJO$ Sys.setenv(PATH=paste(Sys.getenv("PATH"),"/usr/texbin",sep=":"))

Sys.setenv(PATH=paste(Sys.getenv("PATH"),"/usr/texbin",sep=":"))  is R syntax.

You run that command in the R GUI. My post clearly said that.

Berend


From zhangzhe at gmail.com  Tue Aug 21 08:22:06 2012
From: zhangzhe at gmail.com (Zhang Xinzhe)
Date: Tue, 21 Aug 2012 14:22:06 +0800
Subject: [R-SIG-Mac] plot  title in Chinese Character
Message-ID: <F7B4CEAB-9BF9-4001-BB8D-AC84A72FE6FC@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120821/d10544cc/attachment.pl>

From bibiko at eva.mpg.de  Tue Aug 21 08:55:22 2012
From: bibiko at eva.mpg.de (=?iso-8859-1?Q?Hans-J=F6rg_Bibiko?=)
Date: Tue, 21 Aug 2012 08:55:22 +0200
Subject: [R-SIG-Mac] plot  title in Chinese Character
In-Reply-To: <F7B4CEAB-9BF9-4001-BB8D-AC84A72FE6FC@gmail.com>
References: <F7B4CEAB-9BF9-4001-BB8D-AC84A72FE6FC@gmail.com>
Message-ID: <C5451EB5-448E-4766-8647-19881F191A97@eva.mpg.de>


On Aug 21, 2012, at 8:22 AM, Zhang Xinzhe wrote:

> When I plot my dataset, I want input the picture title in Chinese Character, but the system do not support, Anyone can give me some advices 


Hi,

for me it works if I set the correct family argument inside plot:

plot(1, main='????', family='MingLiU')

Cheers,
--Hans

******************************************************
Hans-Joerg Bibiko
Max Planck Institute for Evolutionary Anthropology
Department of Linguistics
Deutscher Platz 6	phone:	+49 (0) 341 3550 341
D-04103 Leipzig		fax:	+49 (0) 341 3550 333
Germany			e-mail:	bibiko [at] eva.mpg.de


From erika.cule05 at imperial.ac.uk  Tue Aug 21 15:25:33 2012
From: erika.cule05 at imperial.ac.uk (Cule, Erika)
Date: Tue, 21 Aug 2012 13:25:33 +0000
Subject: [R-SIG-Mac] R and Valgrind hangs on Snow Leopard
In-Reply-To: <502B65B9.7080407@stats.ox.ac.uk>
References: <C1D3BB01-DEAF-46F8-B98C-12089F6F11E3@imperial.ac.uk>
	<alpine.LFD.2.02.1208131310160.30152@toucan.stats.ox.ac.uk>
	<502B65B9.7080407@stats.ox.ac.uk>
Message-ID: <2402B639CA718D40875055AF9BC9EE1013E5F912@icexch-m4.ic.ac.uk>

A patch for valgrind has fixed this problem. 

The fixed version is currently in the Valgrind source code repository, and will also be in the 3.8.1 release which the Valgrind developers hope can be made available in about a month or so. 

Thanks to Prof Ripley and Peter Dalgaard for their help on this issue, and to Julian Seward and Philippe Waroquiers (Valgrind developers) for the fix. 

Erika

On 15 Aug 2012, at 10:02, Prof Brian Ripley wrote:

> Erika tracked this down to a known issue with valgrind and (C-level) system calls.  See https://bugs.kde.org/show_bug.cgi?id=301281
> 
> I've added a workaround in R-patched/R-devel: set the environment variable R_OSX_VALGRIND (to anything), preferably before starting the session but I guess it would also work from the R session.  This circumvents the system call used to remove the session temporary directory at the end of the session.
> 
> 
> 
> On 13/08/2012 13:14, Prof Brian Ripley wrote:
>> On Mon, 13 Aug 2012, Cule, Erika wrote:
>> 
>>> (Reposted in plain text, with apologies)
>>> 
>>> I am having the problem described in this post:
>>> 
>>> https://stat.ethz.ch/pipermail/r-sig-mac/2011-November/008848.html
>>> 
>>> In summary, running Valgrind with R hangs.
>>> 
>>> As in the linked case above, if a file test.R contains the single
>>> command print(seq(10))
>>> 
>>> Then running the command
>>> 
>>> R -d "valgrind --tool=memcheck --leak-check=full" --vanilla < test.R
>>> 
>>> Produces the following output and hangs
>>> 
>>> ==78868== Memcheck, a memory error detector
>>> ==78868== Copyright (C) 2002-2012, and GNU GPL'd, by Julian Seward et al.
>>> ==78868== Using Valgrind-3.9.0.SVN and LibVEX; rerun with -h for
>>> copyright info
>>> ==78868== Command:
>>> /Library/Frameworks/R.framework/Resources/bin/exec/x86_64/R --vanilla
>>> ==78868==
>>> ==78868== Warning: ignored attempt to set SIGUSR2 handler in sigaction();
>>> ==78868==          the SIGUSR2 signal is used internally by Valgrind
>>> 
>>> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
>>> Copyright (C) 2012 The R Foundation for Statistical Computing
>>> ISBN 3-900051-07-0
>>> Platform: x86_64-apple-darwin10.8.0/x86_64 (64-bit)
>>> 
>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>> You are welcome to redistribute it under certain conditions.
>>> Type 'license()' or 'licence()' for distribution details.
>>> 
>>> Natural language support but running in an English locale
>>> 
>>> R is a collaborative project with many contributors.
>>> Type 'contributors()' for more information and
>>> 'citation()' on how to cite R or R packages in publications.
>>> 
>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>> 'help.start()' for an HTML browser interface to help.
>>> Type 'q()' to quit R.
>>> 
>>>> 
>>>> 
>>>> 
>>>> print(seq(10))
>>> [1]  1  2  3  4  5  6  7  8  9 10
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>> 
>>> I have followed the advice previously posted by Simon, used the SVN
>>> build of valgrind and recompiled R from source with
>>> --with-valgrind-instrumentation=2
>>> 
>>> I am running Mac OS X 10.6.8, valgrind-3.9.0.SVN, R version 2.15.1 and
>>> Platform: x86_64-apple-darwin10.8.0/x86_64 (64-bit).
>>> 
>>> As was the case for the previous poster, a command such as
>>> 
>>> valgrind ls
>>> 
>>> works as expected.
>>> 
>>> I noted that Simon said he had no problem using valgrind from SVN on
>>> both Lion and Snow Leopard. Does anyone have any suggestion of what I
>>> might be doing differently, or what I could do to fix this problem?
>> 
>> 
>> Not multiple post ... this is a second copy.
>> 
>> It does not work for me on Lion (I've never tried Snow Leopard).  As
>> valgrind does not yet (even in the recent 3.8.0) really support Mountain
>> Lion and we will be upgraded shortly (and BTW, Snow Leopard is now
>> end-of-life for security patches), I've pretty much given up on valgrind
>> on OS X.
>> 
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From f.calboli at imperial.ac.uk  Wed Aug 22 12:34:43 2012
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Wed, 22 Aug 2012 11:34:43 +0100
Subject: [R-SIG-Mac] GCC Wiki GFortran
Message-ID: <9241F403-1886-4EFD-85BC-007C6F35A59D@imperial.ac.uk>

Hi,

I used to be able to use the Fortran binaries provided by Simon for both R and Julia, but alas this will not be possible anymore:

"The problem is not BLAS, but your version of gfortran. Mac provides a built-in system blas, so it is not required to build our own. However, "checking for Fortran 77 name-mangling scheme... unknown" is a problem. It appears that the R version of gfortran is too old to build arpack (a quick google search reveals that gfortran older than 4.4 won't build code properly on 64 bit -- yours is 4.2.3) ."

I could install the GFortran from here: http://gcc.gnu.org/wiki/GFortranBinaries#MacOS. but (1) they will overwrite /usr/local/bin/gfortran (with a symlink) and (2) I don't know if it will work for R.

So, will the GCC binary work for R, or is it going to be utter PITA?  I'm on 10.8, Xcode 4.4.1 + CLI add-ons and all the other bells and whistles.

BW

F



--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From simon.urbanek at r-project.org  Wed Aug 22 16:12:12 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 22 Aug 2012 10:12:12 -0400
Subject: [R-SIG-Mac] GCC Wiki GFortran
In-Reply-To: <9241F403-1886-4EFD-85BC-007C6F35A59D@imperial.ac.uk>
References: <9241F403-1886-4EFD-85BC-007C6F35A59D@imperial.ac.uk>
Message-ID: <53B28DC3-063B-44E2-BC4D-CCD9E56F8E24@r-project.org>


On Aug 22, 2012, at 6:34 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:

> Hi,
> 
> I used to be able to use the Fortran binaries provided by Simon for both R and Julia, but alas this will not be possible anymore:
> 
> "The problem is not BLAS, but your version of gfortran. Mac provides a built-in system blas, so it is not required to build our own. However, "checking for Fortran 77 name-mangling scheme... unknown" is a problem. It appears that the R version of gfortran is too old to build arpack (a quick google search reveals that gfortran older than 4.4 won't build code properly on 64 bit -- yours is 4.2.3) ."
> 
> I could install the GFortran from here: http://gcc.gnu.org/wiki/GFortranBinaries#MacOS. but (1) they will overwrite /usr/local/bin/gfortran (with a symlink) and (2) I don't know if it will work for R.
> 
> So, will the GCC binary work for R, or is it going to be utter PITA?  I'm on 10.8, Xcode 4.4.1 + CLI add-ons and all the other bells and whistles.
> 

They won't work with CRAN R binaries because they don't use Apple driver-drivers (i.e. they don't support -arch etc.)*. If you compile R from sources, you can use any Fortran binary you want - it will be tied to your particular runtime (and you can't use -arch).

BTW: The FSF Fortran installs in /usr/local/gfortran so it can peacefully co-exist with out CRAN Fortran -- even in our Fortran gfortran is just a symlink to gfortran-4.2 so you can easily restore it with
sudo ls -sfn gfortran-4.2 /usr/local/bin/gfortran
if you wish.

Cheers,
Simon

--- for advanced users only - if you have no idea what I'm talking about, don't do it ---

* - in theory you can use the Apple driver-driver of our Fortran to drive FSF-build Fortran. For example if you take the CRAN Fortran then renaming your FSF Fortran to i686-apple-darwin8-gfortran-4.2 and putting our driver instead of gfortran then you may have some luck using CRAN R with your FSF Fortran (obviously, -arch ppc won't work but fewer people care now ;)). There are some potential issues, though, for example the FSF binaries use purely dynamic setup so anything you compile can only be used on your machine. Also in theory you can have runtime version mismatch issues (two different versions of gfortran and gcc runtimes) - so your mileage may vary.


> BW
> 
> F
> 
> 
> 
> --
> Federico C. F. Calboli
> Neuroepidemiology and Ageing Research
> Imperial College, St. Mary's Campus
> Norfolk Place, London W2 1PG
> 
> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
> 
> f.calboli [.a.t] imperial.ac.uk
> f.calboli [.a.t] gmail.com
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From helprhelp at gmail.com  Wed Aug 22 20:27:58 2012
From: helprhelp at gmail.com (Weiwei Shi)
Date: Wed, 22 Aug 2012 14:27:58 -0400
Subject: [R-SIG-Mac] R console
Message-ID: <CAG1BFcSHtAspohBWyAyv0DmjB15cuvyy3Bvmg_tRoVcZp2LNJw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120822/b682b4dd/attachment.pl>

From bhh at xs4all.nl  Thu Aug 23 18:44:56 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Thu, 23 Aug 2012 18:44:56 +0200
Subject: [R-SIG-Mac] Setting PATH in ~/.Renviron gives a different result in
	R64.app compared to result from R run in Terminal
Message-ID: <85CE94B3-2AD2-4B55-853A-FEA85466AA9C@xs4all.nl>


I have a ~/.Renviron file to set some environment variables.
The contents are

 ~/.Renviron  contents
-----------------------------------
R_LIBS_USER="~/Library/R/%v/library"
PAGER="/usr/bin/aless"
PATH="/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/texbin:/usr/X11/bin"

Using Sys.getenv  in R from the command line  (Terminal) gives

> Sys.getenv("PATH")
[1] "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/texbin:/usr/X11/bin"

But the same command in R64.app GUI gives

> Sys.getenv("PATH")
[1] "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/texbin:/usr/X11/bin:/usr/local/bin"

/usr/local/bin has been appended to the value specified in .Renviron

This also happens in a clean guest account.

What's going on?

Berend

Running Mac OS X 10.6.8

R.app version: [R.app GUI 1.53 (6233) x86_64-apple-darwin9.8.0]

sessionInfo()
-------------------------------------------------
R version 2.15.1 Patched (2012-08-17 r60302)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

From bibiko at eva.mpg.de  Fri Aug 24 12:03:53 2012
From: bibiko at eva.mpg.de (=?iso-8859-1?Q?Hans-J=F6rg_Bibiko?=)
Date: Fri, 24 Aug 2012 12:03:53 +0200
Subject: [R-SIG-Mac] R console
In-Reply-To: <CAG1BFcSHtAspohBWyAyv0DmjB15cuvyy3Bvmg_tRoVcZp2LNJw@mail.gmail.com>
References: <CAG1BFcSHtAspohBWyAyv0DmjB15cuvyy3Bvmg_tRoVcZp2LNJw@mail.gmail.com>
Message-ID: <813D9526-F797-4903-9257-D32285073407@eva.mpg.de>


On Aug 22, 2012, at 8:27 PM, Weiwei Shi wrote:

> I met with the following errors when I select "preference"->General for my
> R console:
> 
> Unable to find application named 'X11.app'
> 
> R version 2.15.1 (2012-06-22)
> 
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> 
> locale:
> 
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 

Hi,

just for records, you open R.app -> invoke Preferences -> press "General" and you get _always_ that error?

I'm on MacOSX 10.7.4 and cannot reproduce this behaviour.


I looked into the code and the error "Unable to find application named 'X11.app'" will be prompted _only_ if X11 cannot be found at your system AND you press the X11 toolbar button or you execute a R command which will start the X11 server.

Do you have any commands in your start environment which relies on X11?


Regards,
--Hans


From pdalgd at gmail.com  Fri Aug 24 13:18:19 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Fri, 24 Aug 2012 13:18:19 +0200
Subject: [R-SIG-Mac] R console
In-Reply-To: <813D9526-F797-4903-9257-D32285073407@eva.mpg.de>
References: <CAG1BFcSHtAspohBWyAyv0DmjB15cuvyy3Bvmg_tRoVcZp2LNJw@mail.gmail.com>
	<813D9526-F797-4903-9257-D32285073407@eva.mpg.de>
Message-ID: <F24F2F3D-DBF3-4847-B657-3A97E1190C8C@gmail.com>


On Aug 24, 2012, at 12:03 , Hans-J?rg Bibiko wrote:

> 
> On Aug 22, 2012, at 8:27 PM, Weiwei Shi wrote:
> 
>> I met with the following errors when I select "preference"->General for my
>> R console:
>> 
>> Unable to find application named 'X11.app'
>> 
>> R version 2.15.1 (2012-06-22)
>> 
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> 
>> 
>> locale:
>> 
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
> 
> Hi,
> 
> just for records, you open R.app -> invoke Preferences -> press "General" and you get _always_ that error?
> 


> I'm on MacOSX 10.7.4 and cannot reproduce this behaviour.
> 

Also, at least on my system(s), you cannot actually press General. There's a Grouping of 5 icons, one of which, "Startup", is listed in the first group, labeled General. However, clicking Startup doesn't crash and doesn't seem to do anything related to X11. 

-- 
Peter Dalgaard, Professor
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From noia.raindrops at gmail.com  Fri Aug 24 14:03:45 2012
From: noia.raindrops at gmail.com (Noia Raindrops)
Date: Fri, 24 Aug 2012 21:03:45 +0900
Subject: [R-SIG-Mac] R console
In-Reply-To: <CAG1BFcSHtAspohBWyAyv0DmjB15cuvyy3Bvmg_tRoVcZp2LNJw@mail.gmail.com>
References: <CAG1BFcSHtAspohBWyAyv0DmjB15cuvyy3Bvmg_tRoVcZp2LNJw@mail.gmail.com>
Message-ID: <E337420E-8FF6-49F5-B575-31D4C93E2072@gmail.com>

Hello, 

I thing you need to install X11.app.
see: http://support.apple.com/kb/HT5293

-- 
Noia Raindrops
noia.raindrops at gmail.com


From marc_schwartz at me.com  Fri Aug 24 14:42:31 2012
From: marc_schwartz at me.com (Marc Schwartz)
Date: Fri, 24 Aug 2012 07:42:31 -0500
Subject: [R-SIG-Mac] R console
In-Reply-To: <E337420E-8FF6-49F5-B575-31D4C93E2072@gmail.com>
References: <CAG1BFcSHtAspohBWyAyv0DmjB15cuvyy3Bvmg_tRoVcZp2LNJw@mail.gmail.com>
	<E337420E-8FF6-49F5-B575-31D4C93E2072@gmail.com>
Message-ID: <07AD8715-E8D3-4B33-90E8-5255BE3919CD@me.com>


On Aug 24, 2012, at 7:03 AM, Noia Raindrops <noia.raindrops at gmail.com> wrote:

> Hello, 
> 
> I thing you need to install X11.app.
> see: http://support.apple.com/kb/HT5293


Strictly speaking, that is only needed on Mountain Lion, as prior versions of OSX include X11 on the installation DVD/DMG.

I don't use the R OSX GUI, but Emacs/ESS. That being said, I can replicate the problem on Mountain Lion (10.8.1) with XQuartz installed.

If Weiwei is using ML, then he should install the above, however note that the name of the app is now XQuartz.app and not X11.app. So even if installed, the GUI icon selection will still fail. 

If  Weiwei is not using ML, then X11 is available on the installation DVD on pre-Lion versions of OSX, or if on Lion (10.7) it is available from the 'Packages' folder on the install DMG.

I am adding John Fox as a cc: to this e-mail as in the course of searching, I noted the R Commander installation instructions (http://socserv.mcmaster.ca/jfox/Misc/Rcmdr/installation-notes.html), which includes mention of X11.app, but not XQuartz.app for Mountain Lion. So that page and related documentation will need to be updated.

Regards,

Marc Schwartz


From Simon.Urbanek at r-project.org  Fri Aug 24 16:27:52 2012
From: Simon.Urbanek at r-project.org (Simon Urbanek)
Date: Fri, 24 Aug 2012 10:27:52 -0400
Subject: [R-SIG-Mac] R console
In-Reply-To: <07AD8715-E8D3-4B33-90E8-5255BE3919CD@me.com>
References: <CAG1BFcSHtAspohBWyAyv0DmjB15cuvyy3Bvmg_tRoVcZp2LNJw@mail.gmail.com>
	<E337420E-8FF6-49F5-B575-31D4C93E2072@gmail.com>
	<07AD8715-E8D3-4B33-90E8-5255BE3919CD@me.com>
Message-ID: <ED69E15E-9796-4697-BE52-C7FA5BEEC021@r-project.org>

On Aug 24, 2012, at 8:42 AM, Marc Schwartz <marc_schwartz at me.com> wrote:

> 
> On Aug 24, 2012, at 7:03 AM, Noia Raindrops <noia.raindrops at gmail.com> wrote:
> 
>> Hello, 
>> 
>> I thing you need to install X11.app.
>> see: http://support.apple.com/kb/HT5293
> 
> 
> Strictly speaking, that is only needed on Mountain Lion, as prior versions of OSX include X11 on the installation DVD/DMG.
> 
> I don't use the R OSX GUI, but Emacs/ESS. That being said, I can replicate the problem on Mountain Lion (10.8.1) with XQuartz installed.
> 
> If Weiwei is using ML, then he should install the above, however note that the name of the app is now XQuartz.app and not X11.app. So even if installed, the GUI icon selection will still fail. 
> 
> If  Weiwei is not using ML, then X11 is available on the installation DVD on pre-Lion versions of OSX, or if on Lion (10.7) it is available from the 'Packages' folder on the install DMG.
> 
> I am adding John Fox as a cc: to this e-mail as in the course of searching, I noted the R Commander installation instructions (http://socserv.mcmaster.ca/jfox/Misc/Rcmdr/installation-notes.html), which includes mention of X11.app, but not XQuartz.app for Mountain Lion. So that page and related documentation will need to be updated.
> 

... and just to be explicit - there is no X11 on OS X 10.8 anymore. Apple has removed it from the OS and no longer supports it.

One X11 build is available as 3rd party download from http://xquartz.macosforge.org but it is no longer Apple's X11 as included in previous OS X versions. The current R GUI release only supports Apple's X11 (i.e., the autostart etc.; you can still use X11 R packages with any X11 implementation).


From helprhelp at gmail.com  Fri Aug 24 16:51:49 2012
From: helprhelp at gmail.com (Weiwei Shi)
Date: Fri, 24 Aug 2012 10:51:49 -0400
Subject: [R-SIG-Mac] R console
In-Reply-To: <ED69E15E-9796-4697-BE52-C7FA5BEEC021@r-project.org>
References: <CAG1BFcSHtAspohBWyAyv0DmjB15cuvyy3Bvmg_tRoVcZp2LNJw@mail.gmail.com>
	<E337420E-8FF6-49F5-B575-31D4C93E2072@gmail.com>
	<07AD8715-E8D3-4B33-90E8-5255BE3919CD@me.com>
	<ED69E15E-9796-4697-BE52-C7FA5BEEC021@r-project.org>
Message-ID: <CAG1BFcTLQhmL115vnzRdj13pe3g5RSymqu-z-Q71K_bgyO2=sw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120824/1853d250/attachment.pl>

From bhive01 at gmail.com  Fri Aug 24 17:35:31 2012
From: bhive01 at gmail.com (Brandon Hurr)
Date: Fri, 24 Aug 2012 16:35:31 +0100
Subject: [R-SIG-Mac] R console
In-Reply-To: <CAG1BFcTLQhmL115vnzRdj13pe3g5RSymqu-z-Q71K_bgyO2=sw@mail.gmail.com>
References: <CAG1BFcSHtAspohBWyAyv0DmjB15cuvyy3Bvmg_tRoVcZp2LNJw@mail.gmail.com>
	<E337420E-8FF6-49F5-B575-31D4C93E2072@gmail.com>
	<07AD8715-E8D3-4B33-90E8-5255BE3919CD@me.com>
	<ED69E15E-9796-4697-BE52-C7FA5BEEC021@r-project.org>
	<CAG1BFcTLQhmL115vnzRdj13pe3g5RSymqu-z-Q71K_bgyO2=sw@mail.gmail.com>
Message-ID: <CAG2OMvutdRCCLi276WGai6-1S4RUFmwJztZLFeYCwZeHKWdUGg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120824/fb999d78/attachment.pl>

From kasperdanielhansen at gmail.com  Tue Aug 28 23:22:43 2012
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Tue, 28 Aug 2012 17:22:43 -0400
Subject: [R-SIG-Mac] building R under Lion
Message-ID: <CAC2h7uv4H4kSBzT8rGc=iXQAkgPLh=YBkiWhA42jTf5yR7suGQ@mail.gmail.com>

I am running Lion, with the newest version of Xcode, and the 5666
build of gcc+gfortran from Simon's page.  This is on Macbook pro last
generation, with a quad core i7.  I have installed the latest stable
release of Xquartz.

I am building R, not as a framework (--disable-framework), but I am
using --with-blas='-framework vecLib' which at least used to be much
better than the built-in BLAS.

My entire configure call is
../${SRCDIR}/configure SHELL='/bin/bash' \
  --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
  CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
  CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
  CXX="/usr/bin/g++-4.2 -arch x86_64" \
  CXXFLAGS="-g -O2 -march=nocona" \
  OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
  F77="/usr/bin/gfortran-4.2 -arch x86_64" \
  FFLAGS="-g -O2 -march=nocona" \
  FC="/usr/bin/gfortran-4.2 -arch x86_64" \
  FCFLAGS="-g -O2 -march=nocona" \
  --enable-memory-profiling\
  --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib\
  --with-system-zlib\
  --with-blas='-framework vecLib' --with-lapack

When I build R-2.15.1-patched, I get

making internet.d from ../../../../R-2.15.x-src/src/modules/internet/internet.c
In file included from
../../../../R-2.15.x-src/src/modules/lapack/vecLibg95c.c:5:
/System/Library/Frameworks/vecLib.framework/Headers/vecLib.h:22:4:
error: #error "<vecLib/vecLib.h> is deprecated.  Please #include
<Accelerate/Accelerate.h> and link to Accelerate.framework."
make[3]: *** [vecLibg95c.d] Error 1
make[2]: *** [make.lapack] Error 2
make[2]: *** Waiting for unfinished jobs....
making nanoftp.d from ../../../../R-2.15.x-src/src/modules/internet/nanoftp.c

<SNIP>

/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99 -I. -I../../../src/include
-I../../../../R-2.15.x-src/src/include -I/usr/local/include
-DHAVE_CONFIG_H   -fopenmp -fPIC  -g -O2 -std=gnu99 -march=nocona   -c
../../../../R-2.15.x-src/src/modules/internet/sockconn.c -o sockconn.o
/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99 -dynamiclib
-Wl,-headerpad_max_install_names  -undefined dynamic_lookup
-single_module -multiply_defined suppress -L/usr/local/lib -o
internet.so Rhttpd.o Rsock.o internet.o nanoftp.o nanohttp.o sock.o
sockconn.o   -Wl,-framework -Wl,CoreFoundation
mkdir /Users/khansen/build/R/R-2.15.x-build/modules
make[1]: *** [R] Error 1
make: *** [R] Error 1

So it seems that it does not like -framework vecLib.  I tried with
-framework Accelerate, but I get the same error.

My guess is that there is some new thing I have to do here, but I
tried reading the admin guide for R-devel and could not see anything
particular (except I do not need -arch x86_64 anymore).

Thanks,
Kasper


From simon.urbanek at r-project.org  Wed Aug 29 02:51:07 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 28 Aug 2012 20:51:07 -0400
Subject: [R-SIG-Mac] building R under Lion
In-Reply-To: <CAC2h7uv4H4kSBzT8rGc=iXQAkgPLh=YBkiWhA42jTf5yR7suGQ@mail.gmail.com>
References: <CAC2h7uv4H4kSBzT8rGc=iXQAkgPLh=YBkiWhA42jTf5yR7suGQ@mail.gmail.com>
Message-ID: <CB66DD49-644C-48E4-A8C1-FC1B925750D5@r-project.org>

You were on the right path - it's only about renaming vecLib to Accelerate, so you just have to apply the patch below. It is annoying, since -framework vecLib still works just fine so you don't even need to change the configure flags. The patch will in some modified form make it to R eventually.

Cheers,
Simon


Index: vecLibg95c.c
===================================================================
--- vecLibg95c.c	(revision 59442)
+++ vecLibg95c.c	(working copy)
@@ -2,7 +2,7 @@
 #include <config.h>
 #endif
 
-#include <vecLib/vecLib.h>
+#include <Accelerate/Accelerate.h>
 
 void F77_FUNC_(rcblas_cdotu_sub,)(const int *N, const void *X, const int *incX,
                        const void *Y, const int *incY, void *dotu) 





On Aug 28, 2012, at 5:22 PM, Kasper Daniel Hansen wrote:

> I am running Lion, with the newest version of Xcode, and the 5666
> build of gcc+gfortran from Simon's page.  This is on Macbook pro last
> generation, with a quad core i7.  I have installed the latest stable
> release of Xquartz.
> 
> I am building R, not as a framework (--disable-framework), but I am
> using --with-blas='-framework vecLib' which at least used to be much
> better than the built-in BLAS.
> 
> My entire configure call is
> ../${SRCDIR}/configure SHELL='/bin/bash' \
>  --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
>  CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
>  CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
>  CXX="/usr/bin/g++-4.2 -arch x86_64" \
>  CXXFLAGS="-g -O2 -march=nocona" \
>  OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
>  F77="/usr/bin/gfortran-4.2 -arch x86_64" \
>  FFLAGS="-g -O2 -march=nocona" \
>  FC="/usr/bin/gfortran-4.2 -arch x86_64" \
>  FCFLAGS="-g -O2 -march=nocona" \
>  --enable-memory-profiling\
>  --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib\
>  --with-system-zlib\
>  --with-blas='-framework vecLib' --with-lapack
> 
> When I build R-2.15.1-patched, I get
> 
> making internet.d from ../../../../R-2.15.x-src/src/modules/internet/internet.c
> In file included from
> ../../../../R-2.15.x-src/src/modules/lapack/vecLibg95c.c:5:
> /System/Library/Frameworks/vecLib.framework/Headers/vecLib.h:22:4:
> error: #error "<vecLib/vecLib.h> is deprecated.  Please #include
> <Accelerate/Accelerate.h> and link to Accelerate.framework."
> make[3]: *** [vecLibg95c.d] Error 1
> make[2]: *** [make.lapack] Error 2
> make[2]: *** Waiting for unfinished jobs....
> making nanoftp.d from ../../../../R-2.15.x-src/src/modules/internet/nanoftp.c
> 
> <SNIP>
> 
> /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99 -I. -I../../../src/include
> -I../../../../R-2.15.x-src/src/include -I/usr/local/include
> -DHAVE_CONFIG_H   -fopenmp -fPIC  -g -O2 -std=gnu99 -march=nocona   -c
> ../../../../R-2.15.x-src/src/modules/internet/sockconn.c -o sockconn.o
> /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99 -dynamiclib
> -Wl,-headerpad_max_install_names  -undefined dynamic_lookup
> -single_module -multiply_defined suppress -L/usr/local/lib -o
> internet.so Rhttpd.o Rsock.o internet.o nanoftp.o nanohttp.o sock.o
> sockconn.o   -Wl,-framework -Wl,CoreFoundation
> mkdir /Users/khansen/build/R/R-2.15.x-build/modules
> make[1]: *** [R] Error 1
> make: *** [R] Error 1
> 
> So it seems that it does not like -framework vecLib.  I tried with
> -framework Accelerate, but I get the same error.
> 
> My guess is that there is some new thing I have to do here, but I
> tried reading the admin guide for R-devel and could not see anything
> particular (except I do not need -arch x86_64 anymore).
> 
> Thanks,
> Kasper
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From pdalgd at gmail.com  Wed Aug 29 08:29:09 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Wed, 29 Aug 2012 08:29:09 +0200
Subject: [R-SIG-Mac] building R under Lion
In-Reply-To: <CB66DD49-644C-48E4-A8C1-FC1B925750D5@r-project.org>
References: <CAC2h7uv4H4kSBzT8rGc=iXQAkgPLh=YBkiWhA42jTf5yR7suGQ@mail.gmail.com>
	<CB66DD49-644C-48E4-A8C1-FC1B925750D5@r-project.org>
Message-ID: <48902D85-C6CB-4533-BAA8-BAAF8AD4585F@gmail.com>


On Aug 29, 2012, at 02:51 , Simon Urbanek wrote:

> You were on the right path - it's only about renaming vecLib to Accelerate, so you just have to apply the patch below. It is annoying, since -framework vecLib still works just fine so you don't even need to change the configure flags. The patch will in some modified form make it to R eventually.

Just to clarify: This is due to quite recent XCode changes? In my versions on Lion and Snow Leopard, Accelerate.h just #includes vecLib.h.

-p


> 
> Cheers,
> Simon
> 
> 
> Index: vecLibg95c.c
> ===================================================================
> --- vecLibg95c.c	(revision 59442)
> +++ vecLibg95c.c	(working copy)
> @@ -2,7 +2,7 @@
> #include <config.h>
> #endif
> 
> -#include <vecLib/vecLib.h>
> +#include <Accelerate/Accelerate.h>
> 
> void F77_FUNC_(rcblas_cdotu_sub,)(const int *N, const void *X, const int *incX,
>                        const void *Y, const int *incY, void *dotu) 
> 
> 
> 
> 
> 
> On Aug 28, 2012, at 5:22 PM, Kasper Daniel Hansen wrote:
> 
>> I am running Lion, with the newest version of Xcode, and the 5666
>> build of gcc+gfortran from Simon's page.  This is on Macbook pro last
>> generation, with a quad core i7.  I have installed the latest stable
>> release of Xquartz.
>> 
>> I am building R, not as a framework (--disable-framework), but I am
>> using --with-blas='-framework vecLib' which at least used to be much
>> better than the built-in BLAS.
>> 
>> My entire configure call is
>> ../${SRCDIR}/configure SHELL='/bin/bash' \
>> --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
>> CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
>> CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
>> CXX="/usr/bin/g++-4.2 -arch x86_64" \
>> CXXFLAGS="-g -O2 -march=nocona" \
>> OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
>> F77="/usr/bin/gfortran-4.2 -arch x86_64" \
>> FFLAGS="-g -O2 -march=nocona" \
>> FC="/usr/bin/gfortran-4.2 -arch x86_64" \
>> FCFLAGS="-g -O2 -march=nocona" \
>> --enable-memory-profiling\
>> --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib\
>> --with-system-zlib\
>> --with-blas='-framework vecLib' --with-lapack
>> 
>> When I build R-2.15.1-patched, I get
>> 
>> making internet.d from ../../../../R-2.15.x-src/src/modules/internet/internet.c
>> In file included from
>> ../../../../R-2.15.x-src/src/modules/lapack/vecLibg95c.c:5:
>> /System/Library/Frameworks/vecLib.framework/Headers/vecLib.h:22:4:
>> error: #error "<vecLib/vecLib.h> is deprecated.  Please #include
>> <Accelerate/Accelerate.h> and link to Accelerate.framework."
>> make[3]: *** [vecLibg95c.d] Error 1
>> make[2]: *** [make.lapack] Error 2
>> make[2]: *** Waiting for unfinished jobs....
>> making nanoftp.d from ../../../../R-2.15.x-src/src/modules/internet/nanoftp.c
>> 
>> <SNIP>
>> 
>> /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99 -I. -I../../../src/include
>> -I../../../../R-2.15.x-src/src/include -I/usr/local/include
>> -DHAVE_CONFIG_H   -fopenmp -fPIC  -g -O2 -std=gnu99 -march=nocona   -c
>> ../../../../R-2.15.x-src/src/modules/internet/sockconn.c -o sockconn.o
>> /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99 -dynamiclib
>> -Wl,-headerpad_max_install_names  -undefined dynamic_lookup
>> -single_module -multiply_defined suppress -L/usr/local/lib -o
>> internet.so Rhttpd.o Rsock.o internet.o nanoftp.o nanohttp.o sock.o
>> sockconn.o   -Wl,-framework -Wl,CoreFoundation
>> mkdir /Users/khansen/build/R/R-2.15.x-build/modules
>> make[1]: *** [R] Error 1
>> make: *** [R] Error 1
>> 
>> So it seems that it does not like -framework vecLib.  I tried with
>> -framework Accelerate, but I get the same error.
>> 
>> My guess is that there is some new thing I have to do here, but I
>> tried reading the admin guide for R-devel and could not see anything
>> particular (except I do not need -arch x86_64 anymore).
>> 
>> Thanks,
>> Kasper
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From bhive01 at gmail.com  Wed Aug 29 10:13:27 2012
From: bhive01 at gmail.com (Brandon Hurr)
Date: Wed, 29 Aug 2012 09:13:27 +0100
Subject: [R-SIG-Mac] =?iso-8859-1?q?=22=AC=22_in_Script_Editor?=
In-Reply-To: <CAG2OMvvAYf8D1mCHq48S6vyc4LsP_qdK21q5cRuPmZz7hx9dAg@mail.gmail.com>
References: <CAG2OMvsfE81umDpjtFzGTNaLcprFQgw5v9vqiQak84czB-sqCw@mail.gmail.com>
	<CAG2OMvvAYf8D1mCHq48S6vyc4LsP_qdK21q5cRuPmZz7hx9dAg@mail.gmail.com>
Message-ID: <CAG2OMvuzp3xCSGwgs9aWQi2sBro4FqAZjYuyy93a9hgoo_qFfQ@mail.gmail.com>

I've been noticing lately some weirdness in the editor when copying
and pasting code.

Last night when I was trying to run some code from the ggplot2 mailing
list I pasted the code in from gmail. As usual, there were extra line
breaks that caused the code to fail.

I pasted the code into the script editor to fix the line breaks and
then copy/pasted it into R-GUI. I then got a lot more errors than I
did previously, all of which were caused by the insertion of an
invisible "?" symbol (a logical not).

Here: https://plus.google.com/116319893425910717496/posts/5Yxkk7GFwts
is a screen shot.

The code in question is from this question:
https://groups.google.com/forum/?fromgroups=#!topic/ggplot2/BxSDoDjJgSA
... but this has happened before a few times (I cannot recall when it
started, recently... perhaps since installing ML, but maybe before
that). If I hit up to input the previous previous command the "?" are
not there and when I search in the editor for this symbol nothing is found.

Is there something going on with the editor or the clipboard or ...?
Where should I be looking?

Brandons-MacBook-Air:~ bhurr$ system_profiler SPSoftwareDataType
Software:

    System Software Overview:

      System Version: OS X 10.8.1 (12B19)
      Kernel Version: Darwin 12.1.0
      Boot Volume: AIR
      Boot Mode: Normal
      Time since boot: 54 minutes

> sessionInfo()
R version 2.15.1 (2012-06-22)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] grid      stats     graphics  grDevices utils     datasets
methods   base

other attached packages:
 [1] gplots_2.11.0     MASS_7.3-18       KernSmooth_2.23-7
caTools_1.13      bitops_1.0-4.1
 [6] gdata_2.11.0      gtools_2.7.0      lattice_0.20-6
gridBase_0.4-5    TeachingDemos_2.8
[11] plyr_1.7.1        reshape2_1.2.1    ggplot2_0.9.1

loaded via a namespace (and not attached):
 [1] colorspace_1.1-1   dichromat_1.2-4    digest_0.5.2
labeling_0.1       memoise_0.1
 [6] munsell_0.3        proto_0.3-9.2      RColorBrewer_1.0-5
scales_0.2.1       stringr_0.6
[11] tools_2.15.1


From paul at askerko.net  Wed Aug 29 15:26:19 2012
From: paul at askerko.net (Paul Johnson)
Date: Wed, 29 Aug 2012 08:26:19 -0500
Subject: [R-SIG-Mac] "SIZE_MAX is required for C99" error
Message-ID: <CAPUB6NABO5PjFS1TfJVK8AkjjQ=ostxLY-z19KXi_4631Zdi=Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120829/b9503a6b/attachment.pl>

From simon.urbanek at r-project.org  Wed Aug 29 15:27:19 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 29 Aug 2012 09:27:19 -0400
Subject: [R-SIG-Mac] building R under Lion
In-Reply-To: <48902D85-C6CB-4533-BAA8-BAAF8AD4585F@gmail.com>
References: <CAC2h7uv4H4kSBzT8rGc=iXQAkgPLh=YBkiWhA42jTf5yR7suGQ@mail.gmail.com>
	<CB66DD49-644C-48E4-A8C1-FC1B925750D5@r-project.org>
	<48902D85-C6CB-4533-BAA8-BAAF8AD4585F@gmail.com>
Message-ID: <0D2617E7-59E0-4CC9-93B0-8869E855D28B@r-project.org>


On Aug 29, 2012, at 2:29 AM, peter dalgaard wrote:

> 
> On Aug 29, 2012, at 02:51 , Simon Urbanek wrote:
> 
>> You were on the right path - it's only about renaming vecLib to Accelerate, so you just have to apply the patch below. It is annoying, since -framework vecLib still works just fine so you don't even need to change the configure flags. The patch will in some modified form make it to R eventually.
> 
> Just to clarify: This is due to quite recent XCode changes? In my versions on Lion and Snow Leopard, Accelerate.h just #includes vecLib.h.
> 

It's just yet another Apple nonsense in Mountain Lion - it still just includes vecLib but now vecLib checks whether __ACCELERATE__ is defined and bails out with an error if it's not ... So another work-around is to set CPPFLAGS=-D__ACCELERATE__

Cheers,
Simon


> 
>> 
>> Cheers,
>> Simon
>> 
>> 
>> Index: vecLibg95c.c
>> ===================================================================
>> --- vecLibg95c.c	(revision 59442)
>> +++ vecLibg95c.c	(working copy)
>> @@ -2,7 +2,7 @@
>> #include <config.h>
>> #endif
>> 
>> -#include <vecLib/vecLib.h>
>> +#include <Accelerate/Accelerate.h>
>> 
>> void F77_FUNC_(rcblas_cdotu_sub,)(const int *N, const void *X, const int *incX,
>>                       const void *Y, const int *incY, void *dotu) 
>> 
>> 
>> 
>> 
>> 
>> On Aug 28, 2012, at 5:22 PM, Kasper Daniel Hansen wrote:
>> 
>>> I am running Lion, with the newest version of Xcode, and the 5666
>>> build of gcc+gfortran from Simon's page.  This is on Macbook pro last
>>> generation, with a quad core i7.  I have installed the latest stable
>>> release of Xquartz.
>>> 
>>> I am building R, not as a framework (--disable-framework), but I am
>>> using --with-blas='-framework vecLib' which at least used to be much
>>> better than the built-in BLAS.
>>> 
>>> My entire configure call is
>>> ../${SRCDIR}/configure SHELL='/bin/bash' \
>>> --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
>>> CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
>>> CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
>>> CXX="/usr/bin/g++-4.2 -arch x86_64" \
>>> CXXFLAGS="-g -O2 -march=nocona" \
>>> OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
>>> F77="/usr/bin/gfortran-4.2 -arch x86_64" \
>>> FFLAGS="-g -O2 -march=nocona" \
>>> FC="/usr/bin/gfortran-4.2 -arch x86_64" \
>>> FCFLAGS="-g -O2 -march=nocona" \
>>> --enable-memory-profiling\
>>> --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib\
>>> --with-system-zlib\
>>> --with-blas='-framework vecLib' --with-lapack
>>> 
>>> When I build R-2.15.1-patched, I get
>>> 
>>> making internet.d from ../../../../R-2.15.x-src/src/modules/internet/internet.c
>>> In file included from
>>> ../../../../R-2.15.x-src/src/modules/lapack/vecLibg95c.c:5:
>>> /System/Library/Frameworks/vecLib.framework/Headers/vecLib.h:22:4:
>>> error: #error "<vecLib/vecLib.h> is deprecated.  Please #include
>>> <Accelerate/Accelerate.h> and link to Accelerate.framework."
>>> make[3]: *** [vecLibg95c.d] Error 1
>>> make[2]: *** [make.lapack] Error 2
>>> make[2]: *** Waiting for unfinished jobs....
>>> making nanoftp.d from ../../../../R-2.15.x-src/src/modules/internet/nanoftp.c
>>> 
>>> <SNIP>
>>> 
>>> /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99 -I. -I../../../src/include
>>> -I../../../../R-2.15.x-src/src/include -I/usr/local/include
>>> -DHAVE_CONFIG_H   -fopenmp -fPIC  -g -O2 -std=gnu99 -march=nocona   -c
>>> ../../../../R-2.15.x-src/src/modules/internet/sockconn.c -o sockconn.o
>>> /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99 -dynamiclib
>>> -Wl,-headerpad_max_install_names  -undefined dynamic_lookup
>>> -single_module -multiply_defined suppress -L/usr/local/lib -o
>>> internet.so Rhttpd.o Rsock.o internet.o nanoftp.o nanohttp.o sock.o
>>> sockconn.o   -Wl,-framework -Wl,CoreFoundation
>>> mkdir /Users/khansen/build/R/R-2.15.x-build/modules
>>> make[1]: *** [R] Error 1
>>> make: *** [R] Error 1
>>> 
>>> So it seems that it does not like -framework vecLib.  I tried with
>>> -framework Accelerate, but I get the same error.
>>> 
>>> My guess is that there is some new thing I have to do here, but I
>>> tried reading the admin guide for R-devel and could not see anything
>>> particular (except I do not need -arch x86_64 anymore).
>>> 
>>> Thanks,
>>> Kasper
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> 
> 
> 
> 
> 
> 
> 
> 


From simon.urbanek at r-project.org  Wed Aug 29 15:52:52 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 29 Aug 2012 09:52:52 -0400
Subject: [R-SIG-Mac] "SIZE_MAX is required for C99" error
In-Reply-To: <CAPUB6NABO5PjFS1TfJVK8AkjjQ=ostxLY-z19KXi_4631Zdi=Q@mail.gmail.com>
References: <CAPUB6NABO5PjFS1TfJVK8AkjjQ=ostxLY-z19KXi_4631Zdi=Q@mail.gmail.com>
Message-ID: <FEE64063-96F2-4EC5-B8EC-49271B2BC9CA@r-project.org>


On Aug 29, 2012, at 9:26 AM, Paul Johnson <paul at askerko.net> wrote:

> I'm trying to compile a test program, written in Objective-C, that
> illustrates calls to R. I've installed R.framework for version 2.15.1. I
> have a MacBook Pro running OS X 10.7.4.
> 
> I am getting the error "SIZE_MAX is required for C99". Can someone suggest
> how to remove this error?
> 

No, unless you provide details - which API are you using (REngine vs C R API), how are you exactly compiling your project? Possibly the actual code to reproduce may be needed as well.

Cheers,
Simon


From ripley at stats.ox.ac.uk  Wed Aug 29 16:05:00 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 29 Aug 2012 15:05:00 +0100
Subject: [R-SIG-Mac] "SIZE_MAX is required for C99" error
In-Reply-To: <FEE64063-96F2-4EC5-B8EC-49271B2BC9CA@r-project.org>
References: <CAPUB6NABO5PjFS1TfJVK8AkjjQ=ostxLY-z19KXi_4631Zdi=Q@mail.gmail.com>
	<FEE64063-96F2-4EC5-B8EC-49271B2BC9CA@r-project.org>
Message-ID: <503E218C.1080505@stats.ox.ac.uk>

On 29/08/2012 14:52, Simon Urbanek wrote:
>
> On Aug 29, 2012, at 9:26 AM, Paul Johnson <paul at askerko.net> wrote:
>
>> I'm trying to compile a test program, written in Objective-C, that
>> illustrates calls to R. I've installed R.framework for version 2.15.1. I
>> have a MacBook Pro running OS X 10.7.4.
>>
>> I am getting the error "SIZE_MAX is required for C99". Can someone suggest
>> how to remove this error?
>>
>
> No, unless you provide details - which API are you using (REngine vs C R API), how are you exactly compiling your project? Possibly the actual code to reproduce may be needed as well.

Well, the C99 standard says it is defined in <stdint.h>.  It also says

'C++ implementations should define these macros only when _ 
_STDC_LIMIT_MACROS is defined before <stdint.h> is included.'

just in case you are using a C++ compiler.

The standards are linked from developer.r-project.org, BTW.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From paul at askerko.net  Wed Aug 29 16:05:54 2012
From: paul at askerko.net (Paul Johnson)
Date: Wed, 29 Aug 2012 09:05:54 -0500
Subject: [R-SIG-Mac] "SIZE_MAX is required for C99" error
In-Reply-To: <FEE64063-96F2-4EC5-B8EC-49271B2BC9CA@r-project.org>
References: <CAPUB6NABO5PjFS1TfJVK8AkjjQ=ostxLY-z19KXi_4631Zdi=Q@mail.gmail.com>
	<FEE64063-96F2-4EC5-B8EC-49271B2BC9CA@r-project.org>
Message-ID: <CAPUB6NCpKwLX6UdSUbG99529JCmtiJBFwSqXv58rFWq3Dq70Ow@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120829/9f0af6de/attachment.pl>

From kasperdanielhansen at gmail.com  Wed Aug 29 16:52:02 2012
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Wed, 29 Aug 2012 10:52:02 -0400
Subject: [R-SIG-Mac] building R under Lion
In-Reply-To: <0D2617E7-59E0-4CC9-93B0-8869E855D28B@r-project.org>
References: <CAC2h7uv4H4kSBzT8rGc=iXQAkgPLh=YBkiWhA42jTf5yR7suGQ@mail.gmail.com>
	<CB66DD49-644C-48E4-A8C1-FC1B925750D5@r-project.org>
	<48902D85-C6CB-4533-BAA8-BAAF8AD4585F@gmail.com>
	<0D2617E7-59E0-4CC9-93B0-8869E855D28B@r-project.org>
Message-ID: <CAC2h7usRm_F7LQPag5OyL2-REa4idOsDhUKzb=hQNjzs4j+eKQ@mail.gmail.com>

For other readers of the thread: apply the patch Simon gave and still
use  --with-blas='-framework vecLib'

Peter: Accelerate.h just includes vecLib.h (and also vImage.h), nothing else.

Simon: after looking at the header files, I agree that it seems
easiest to just define __ACCELERATE__.  It might also be possible to
define __ENVIRONMENT_MAC_OS_X_VERSION_MIN_REQUIRED, but I guess that
is likely to have other consequences.

Kasper


On Wed, Aug 29, 2012 at 9:27 AM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> On Aug 29, 2012, at 2:29 AM, peter dalgaard wrote:
>
>>
>> On Aug 29, 2012, at 02:51 , Simon Urbanek wrote:
>>
>>> You were on the right path - it's only about renaming vecLib to Accelerate, so you just have to apply the patch below. It is annoying, since -framework vecLib still works just fine so you don't even need to change the configure flags. The patch will in some modified form make it to R eventually.
>>
>> Just to clarify: This is due to quite recent XCode changes? In my versions on Lion and Snow Leopard, Accelerate.h just #includes vecLib.h.
>>
>
> It's just yet another Apple nonsense in Mountain Lion - it still just includes vecLib but now vecLib checks whether __ACCELERATE__ is defined and bails out with an error if it's not ... So another work-around is to set CPPFLAGS=-D__ACCELERATE__
>
> Cheers,
> Simon
>
>
>>
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>> Index: vecLibg95c.c
>>> ===================================================================
>>> --- vecLibg95c.c     (revision 59442)
>>> +++ vecLibg95c.c     (working copy)
>>> @@ -2,7 +2,7 @@
>>> #include <config.h>
>>> #endif
>>>
>>> -#include <vecLib/vecLib.h>
>>> +#include <Accelerate/Accelerate.h>
>>>
>>> void F77_FUNC_(rcblas_cdotu_sub,)(const int *N, const void *X, const int *incX,
>>>                       const void *Y, const int *incY, void *dotu)
>>>
>>>
>>>
>>>
>>>
>>> On Aug 28, 2012, at 5:22 PM, Kasper Daniel Hansen wrote:
>>>
>>>> I am running Lion, with the newest version of Xcode, and the 5666
>>>> build of gcc+gfortran from Simon's page.  This is on Macbook pro last
>>>> generation, with a quad core i7.  I have installed the latest stable
>>>> release of Xquartz.
>>>>
>>>> I am building R, not as a framework (--disable-framework), but I am
>>>> using --with-blas='-framework vecLib' which at least used to be much
>>>> better than the built-in BLAS.
>>>>
>>>> My entire configure call is
>>>> ../${SRCDIR}/configure SHELL='/bin/bash' \
>>>> --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
>>>> CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
>>>> CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
>>>> CXX="/usr/bin/g++-4.2 -arch x86_64" \
>>>> CXXFLAGS="-g -O2 -march=nocona" \
>>>> OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
>>>> F77="/usr/bin/gfortran-4.2 -arch x86_64" \
>>>> FFLAGS="-g -O2 -march=nocona" \
>>>> FC="/usr/bin/gfortran-4.2 -arch x86_64" \
>>>> FCFLAGS="-g -O2 -march=nocona" \
>>>> --enable-memory-profiling\
>>>> --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib\
>>>> --with-system-zlib\
>>>> --with-blas='-framework vecLib' --with-lapack
>>>>
>>>> When I build R-2.15.1-patched, I get
>>>>
>>>> making internet.d from ../../../../R-2.15.x-src/src/modules/internet/internet.c
>>>> In file included from
>>>> ../../../../R-2.15.x-src/src/modules/lapack/vecLibg95c.c:5:
>>>> /System/Library/Frameworks/vecLib.framework/Headers/vecLib.h:22:4:
>>>> error: #error "<vecLib/vecLib.h> is deprecated.  Please #include
>>>> <Accelerate/Accelerate.h> and link to Accelerate.framework."
>>>> make[3]: *** [vecLibg95c.d] Error 1
>>>> make[2]: *** [make.lapack] Error 2
>>>> make[2]: *** Waiting for unfinished jobs....
>>>> making nanoftp.d from ../../../../R-2.15.x-src/src/modules/internet/nanoftp.c
>>>>
>>>> <SNIP>
>>>>
>>>> /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99 -I. -I../../../src/include
>>>> -I../../../../R-2.15.x-src/src/include -I/usr/local/include
>>>> -DHAVE_CONFIG_H   -fopenmp -fPIC  -g -O2 -std=gnu99 -march=nocona   -c
>>>> ../../../../R-2.15.x-src/src/modules/internet/sockconn.c -o sockconn.o
>>>> /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99 -dynamiclib
>>>> -Wl,-headerpad_max_install_names  -undefined dynamic_lookup
>>>> -single_module -multiply_defined suppress -L/usr/local/lib -o
>>>> internet.so Rhttpd.o Rsock.o internet.o nanoftp.o nanohttp.o sock.o
>>>> sockconn.o   -Wl,-framework -Wl,CoreFoundation
>>>> mkdir /Users/khansen/build/R/R-2.15.x-build/modules
>>>> make[1]: *** [R] Error 1
>>>> make: *** [R] Error 1
>>>>
>>>> So it seems that it does not like -framework vecLib.  I tried with
>>>> -framework Accelerate, but I get the same error.
>>>>
>>>> My guess is that there is some new thing I have to do here, but I
>>>> tried reading the admin guide for R-devel and could not see anything
>>>> particular (except I do not need -arch x86_64 anymore).
>>>>
>>>> Thanks,
>>>> Kasper
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> --
>> Peter Dalgaard, Professor,
>> Center for Statistics, Copenhagen Business School
>> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
>> Phone: (+45)38153501
>> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
>>
>>
>>
>>
>>
>>
>>
>>
>>
>


From dwinsemius at comcast.net  Wed Aug 29 23:43:15 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 29 Aug 2012 14:43:15 -0700
Subject: [R-SIG-Mac] =?iso-8859-1?q?=22=AC=22_in_Script_Editor?=
In-Reply-To: <CAG2OMvuzp3xCSGwgs9aWQi2sBro4FqAZjYuyy93a9hgoo_qFfQ@mail.gmail.com>
References: <CAG2OMvsfE81umDpjtFzGTNaLcprFQgw5v9vqiQak84czB-sqCw@mail.gmail.com>
	<CAG2OMvvAYf8D1mCHq48S6vyc4LsP_qdK21q5cRuPmZz7hx9dAg@mail.gmail.com>
	<CAG2OMvuzp3xCSGwgs9aWQi2sBro4FqAZjYuyy93a9hgoo_qFfQ@mail.gmail.com>
Message-ID: <524BEBFA-2111-40D1-AD4A-236755C05CCE@comcast.net>


On Aug 29, 2012, at 1:13 AM, Brandon Hurr wrote:

> I've been noticing lately some weirdness in the editor when copying
> and pasting code.
>
> Last night when I was trying to run some code from the ggplot2 mailing
> list I pasted the code in from gmail. As usual, there were extra line
> breaks that caused the code to fail.
>
> I pasted the code into the script editor to fix the line breaks and
> then copy/pasted it into R-GUI. I then got a lot more errors than I
> did previously, all of which were caused by the insertion of an
> invisible "?" symbol (a logical not).
>
> Here: https://plus.google.com/116319893425910717496/posts/5Yxkk7GFwts
> is a screen shot.
>

I have had similar problems with stuff copied from web postings and  
generally solve them by pasting first into an editing session with  
TextWrangler and using it's sanitizing functions, Zap Gremlins, IIRC.  
I first tried to delete them with TextEdit.app but they proved  
remarkably persistent.


> The code in question is from this question:
> https://groups.google.com/forum/?fromgroups=#!topic/ggplot2/ 
> BxSDoDjJgSA
> ... but this has happened before a few times (I cannot recall when it
> started, recently... perhaps since installing ML, but maybe before
> that). If I hit up to input the previous previous command the "?" are
> not there and when I search in the editor for this symbol nothing is  
> found.
>
> Is there something going on with the editor or the clipboard or ...?
> Where should I be looking?
>
> Brandons-MacBook-Air:~ bhurr$ system_profiler SPSoftwareDataType
> Software:

-- 


David Winsemius, MD
Alameda, CA, USA


From sgruber at hsph.harvard.edu  Thu Aug 30 00:06:09 2012
From: sgruber at hsph.harvard.edu (Gruber, Susan)
Date: Wed, 29 Aug 2012 22:06:09 +0000
Subject: [R-SIG-Mac] =?iso-8859-1?q?=22=AC=22_in_Script_Editor?=
In-Reply-To: <524BEBFA-2111-40D1-AD4A-236755C05CCE@comcast.net>
References: <CAG2OMvsfE81umDpjtFzGTNaLcprFQgw5v9vqiQak84czB-sqCw@mail.gmail.com>
	<CAG2OMvvAYf8D1mCHq48S6vyc4LsP_qdK21q5cRuPmZz7hx9dAg@mail.gmail.com>
	<CAG2OMvuzp3xCSGwgs9aWQi2sBro4FqAZjYuyy93a9hgoo_qFfQ@mail.gmail.com>
	<524BEBFA-2111-40D1-AD4A-236755C05CCE@comcast.net>
Message-ID: <0082FEB6-F595-4B80-9434-C1BA66128969@hsph.harvard.edu>

It's also easy enough to remove that symbol with the built-in  editor in the R GUI.  

Paste the code into a document. Even though that character is invisitble, it is there. In my experience it has been in the first column on each line. 
I copy that character (even though it looks exactly like a blank space) and using the Find command under the Edit menu item  use "replace all" to replace every occurence with a blank. (paste in the character where it says "Find", and type a space where it  says "Replace with:"  Then click the "replace all" button.)

--Susan 

On Aug 29, 2012, at 5:43 PM, David Winsemius wrote:

> 
> On Aug 29, 2012, at 1:13 AM, Brandon Hurr wrote:
> 
>> I've been noticing lately some weirdness in the editor when copying
>> and pasting code.
>> 
>> Last night when I was trying to run some code from the ggplot2 mailing
>> list I pasted the code in from gmail. As usual, there were extra line
>> breaks that caused the code to fail.
>> 
>> I pasted the code into the script editor to fix the line breaks and
>> then copy/pasted it into R-GUI. I then got a lot more errors than I
>> did previously, all of which were caused by the insertion of an
>> invisible "?" symbol (a logical not).
>> 
>> Here: https://plus.google.com/116319893425910717496/posts/5Yxkk7GFwts
>> is a screen shot.
>> 
> 
> I have had similar problems with stuff copied from web postings and generally solve them by pasting first into an editing session with TextWrangler and using it's sanitizing functions, Zap Gremlins, IIRC. I first tried to delete them with TextEdit.app but they proved remarkably persistent.
> 
> 
>> The code in question is from this question:
>> https://groups.google.com/forum/?fromgroups=#!topic/ggplot2/BxSDoDjJgSA
>> ... but this has happened before a few times (I cannot recall when it
>> started, recently... perhaps since installing ML, but maybe before
>> that). If I hit up to input the previous previous command the "?" are
>> not there and when I search in the editor for this symbol nothing is found.
>> 
>> Is there something going on with the editor or the clipboard or ...?
>> Where should I be looking?
>> 
>> Brandons-MacBook-Air:~ bhurr$ system_profiler SPSoftwareDataType
>> Software:
> 
> -- 
> 
> 
> David Winsemius, MD
> Alameda, CA, USA
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From carl at witthoft.com  Thu Aug 30 00:18:40 2012
From: carl at witthoft.com (Carl Witthoft)
Date: Wed, 29 Aug 2012 18:18:40 -0400
Subject: [R-SIG-Mac] "?" in scripteditor
In-Reply-To: <mailman.15.1346234406.13027.r-sig-mac@r-project.org>
References: <mailman.15.1346234406.13027.r-sig-mac@r-project.org>
Message-ID: <503E9540.6090508@witthoft.com>

Well, first of all,  it appears the character got converted to '?' in 
the email.

Next,  I strongly suspect it's a NewLine character, not a tilde, which 
is not the "not" char in R anyway.  If I'm right,this happens when text 
files (sometimes) when text files get moved from WindowsOS to OSX and 
"end of line" is CR-LF or just LF, etc. and the editor gets confused.
HTH




I've been noticing lately some weirdness in the editor when copying and 
pasting code. Last night when I was trying to run some code from the 
ggplot2 mailing list I pasted the code in from gmail. As usual, there 
were extra line breaks that caused the code to fail. I pasted the code 
into the script editor to fix the line breaks and then copy/pasted it 
into R-GUI. I then got a lot more errors than I did previously, all of 
which were caused by the insertion of an invisible "?" symbol (a logical 
not). Here: 
https://plus.google.com/116319893425910717496/posts/5Yxkk7GFwts is a 
screen shot. The code in question is from this question: 
https://groups.google.com/forum/?fromgroups=#!topic/ggplot2/BxSDoDjJgSA 
... but this has happened before a few times (I cannot recall when it 
started, recently... perhaps since installing ML, but maybe before 
that). If I hit up to input the previous previous command the "?" are 
not there and when I search in the editor for this symbol nothing is 
found. Is there something going on with the editor or the clipboard or 
...? Where should I be looking? Brandons-MacBook-Air:~ bhurr$ 
system_profiler SPSoftwareDataType Software: System Software Overview: 
System Version: OS X 10.8.1 (12B19) Kernel Version: Darwin 12.1.0 Boot 
Volume: AIR Boot Mode: Normal Time since boot: 54 minutes
 > sessionInfo()
R version 2.15.1 (2012-06-22)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] grid      stats     graphics  grDevices utils     datasets
methods   base

other attached packages:
  [1] gplots_2.11.0     MASS_7.3-18       KernSmooth_2.23-7
caTools_1.13      bitops_1.0-4.1
  [6] gdata_2.11.0      gtools_2.7.0      lattice_0.20-6
gridBase_0.4-5    TeachingDemos_2.8
[11] plyr_1.7.1        reshape2_1.2.1    ggplot2_0.9.1

loaded via a namespace (and not attached):
  [1] colorspace_1.1-1   dichromat_1.2-4    digest_0.5.2
labeling_0.1       memoise_0.1
  [6] munsell_0.3        proto_0.3-9.2      RColorBrewer_1.0-5
scales_0.2.1       stringr_0.6
[11] tools_2.15.1


From bhive01 at gmail.com  Thu Aug 30 09:15:27 2012
From: bhive01 at gmail.com (Brandon Hurr)
Date: Thu, 30 Aug 2012 08:15:27 +0100
Subject: [R-SIG-Mac] =?iso-8859-1?q?=22=AC=22_in_Script_Editor?=
In-Reply-To: <0082FEB6-F595-4B80-9434-C1BA66128969@hsph.harvard.edu>
References: <CAG2OMvsfE81umDpjtFzGTNaLcprFQgw5v9vqiQak84czB-sqCw@mail.gmail.com>
	<CAG2OMvvAYf8D1mCHq48S6vyc4LsP_qdK21q5cRuPmZz7hx9dAg@mail.gmail.com>
	<CAG2OMvuzp3xCSGwgs9aWQi2sBro4FqAZjYuyy93a9hgoo_qFfQ@mail.gmail.com>
	<524BEBFA-2111-40D1-AD4A-236755C05CCE@comcast.net>
	<0082FEB6-F595-4B80-9434-C1BA66128969@hsph.harvard.edu>
Message-ID: <CAG2OMvtPus2+uJ41mjNhqp+X2zqQrJ2F1jsDwAmQAaddWJ=6Eg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120830/b50d311a/attachment.pl>

From f.calboli at imperial.ac.uk  Thu Aug 30 17:19:44 2012
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Thu, 30 Aug 2012 16:19:44 +0100
Subject: [R-SIG-Mac] GCC Wiki GFortran
In-Reply-To: <53B28DC3-063B-44E2-BC4D-CCD9E56F8E24@r-project.org>
References: <9241F403-1886-4EFD-85BC-007C6F35A59D@imperial.ac.uk>
	<53B28DC3-063B-44E2-BC4D-CCD9E56F8E24@r-project.org>
Message-ID: <F922EB04-25AA-4886-B08A-26F4CDCC98CA@imperial.ac.uk>

On 22 Aug 2012, at 15:12, Simon Urbanek <simon.urbanek at r-project.org> wrote:

> 
> On Aug 22, 2012, at 6:34 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
> 
>> Hi,
>> 
>> I used to be able to use the Fortran binaries provided by Simon for both R and Julia, but alas this will not be possible anymore:
>> 
>> "The problem is not BLAS, but your version of gfortran. Mac provides a built-in system blas, so it is not required to build our own. However, "checking for Fortran 77 name-mangling scheme... unknown" is a problem. It appears that the R version of gfortran is too old to build arpack (a quick google search reveals that gfortran older than 4.4 won't build code properly on 64 bit -- yours is 4.2.3) ."
>> 
>> I could install the GFortran from here: http://gcc.gnu.org/wiki/GFortranBinaries#MacOS. but (1) they will overwrite /usr/local/bin/gfortran (with a symlink) and (2) I don't know if it will work for R.
>> 
>> So, will the GCC binary work for R, or is it going to be utter PITA?  I'm on 10.8, Xcode 4.4.1 + CLI add-ons and all the other bells and whistles.
>> 
> 
> They won't work with CRAN R binaries because they don't use Apple driver-drivers (i.e. they don't support -arch etc.)*. If you compile R from sources, you can use any Fortran binary you want - it will be tied to your particular runtime (and you can't use -arch).

I use the CRAN R binary and CRAN binary packages
> 
> BTW: The FSF Fortran installs in /usr/local/gfortran so it can peacefully co-exist with out CRAN Fortran -- even in our Fortran gfortran is just a symlink to gfortran-4.2 so you can easily restore it with
> sudo ls -sfn gfortran-4.2 /usr/local/bin/gfortran
> if you wish.

Given the above, can I leave gfortran to point to the GCC fortran?  if I do not, julia throws a hissy fit every time I compile it, though I use and need R *much more than julia*, so I'd like to avoid R binaries of any sort having a hissy fit if gfortran points to something else than gfortran-4.2.  Between R and julia I'm with R.

Cheers

Federico



> Cheers,
> Simon
> 
> --- for advanced users only - if you have no idea what I'm talking about, don't do it ---
> 
> * - in theory you can use the Apple driver-driver of our Fortran to drive FSF-build Fortran. For example if you take the CRAN Fortran then renaming your FSF Fortran to i686-apple-darwin8-gfortran-4.2 and putting our driver instead of gfortran then you may have some luck using CRAN R with your FSF Fortran (obviously, -arch ppc won't work but fewer people care now ;)). There are some potential issues, though, for example the FSF binaries use purely dynamic setup so anything you compile can only be used on your machine. Also in theory you can have runtime version mismatch issues (two different versions of gfortran and gcc runtimes) - so your mileage may vary.
> 
> 
>> BW
>> 
>> F
>> 
>> 
>> 
>> --
>> Federico C. F. Calboli
>> Neuroepidemiology and Ageing Research
>> Imperial College, St. Mary's Campus
>> Norfolk Place, London W2 1PG
>> 
>> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>> 
>> f.calboli [.a.t] imperial.ac.uk
>> f.calboli [.a.t] gmail.com
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 

--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From simon.urbanek at r-project.org  Thu Aug 30 17:26:09 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 30 Aug 2012 11:26:09 -0400
Subject: [R-SIG-Mac] GCC Wiki GFortran
In-Reply-To: <F922EB04-25AA-4886-B08A-26F4CDCC98CA@imperial.ac.uk>
References: <9241F403-1886-4EFD-85BC-007C6F35A59D@imperial.ac.uk>
	<53B28DC3-063B-44E2-BC4D-CCD9E56F8E24@r-project.org>
	<F922EB04-25AA-4886-B08A-26F4CDCC98CA@imperial.ac.uk>
Message-ID: <2E9C8641-AB4A-406B-817F-F45A0360B3DE@r-project.org>


On Aug 30, 2012, at 11:19 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:

> On 22 Aug 2012, at 15:12, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
>> 
>> On Aug 22, 2012, at 6:34 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>> 
>>> Hi,
>>> 
>>> I used to be able to use the Fortran binaries provided by Simon for both R and Julia, but alas this will not be possible anymore:
>>> 
>>> "The problem is not BLAS, but your version of gfortran. Mac provides a built-in system blas, so it is not required to build our own. However, "checking for Fortran 77 name-mangling scheme... unknown" is a problem. It appears that the R version of gfortran is too old to build arpack (a quick google search reveals that gfortran older than 4.4 won't build code properly on 64 bit -- yours is 4.2.3) ."
>>> 
>>> I could install the GFortran from here: http://gcc.gnu.org/wiki/GFortranBinaries#MacOS. but (1) they will overwrite /usr/local/bin/gfortran (with a symlink) and (2) I don't know if it will work for R.
>>> 
>>> So, will the GCC binary work for R, or is it going to be utter PITA?  I'm on 10.8, Xcode 4.4.1 + CLI add-ons and all the other bells and whistles.
>>> 
>> 
>> They won't work with CRAN R binaries because they don't use Apple driver-drivers (i.e. they don't support -arch etc.)*. If you compile R from sources, you can use any Fortran binary you want - it will be tied to your particular runtime (and you can't use -arch).
> 
> I use the CRAN R binary and CRAN binary packages
>> 
>> BTW: The FSF Fortran installs in /usr/local/gfortran so it can peacefully co-exist with out CRAN Fortran -- even in our Fortran gfortran is just a symlink to gfortran-4.2 so you can easily restore it with
>> sudo ls -sfn gfortran-4.2 /usr/local/bin/gfortran
>> if you wish.
> 
> Given the above, can I leave gfortran to point to the GCC fortran?

Not for CRAN binary unless you do sed 's:gfortran -arch:gfortran-4.2 -arch:g' on both Makeconf files ...


>  if I do not, julia throws a hissy fit every time I compile it,

Can't you just set FC and F77 to gfortran-4.2 when configuring Julia?


> though I use and need R *much more than julia*, so I'd like to avoid R binaries of any sort having a hissy fit if gfortran points to something else than gfortran-4.2.  Between R and julia I'm with R.
> 

Binaries will be fine, but compiling won't work (because FSF gfortran doesn't understand Apple flags).

Cheers,
Simon



> Cheers
> 
> Federico
> 
> 
> 
>> Cheers,
>> Simon
>> 
>> --- for advanced users only - if you have no idea what I'm talking about, don't do it ---
>> 
>> * - in theory you can use the Apple driver-driver of our Fortran to drive FSF-build Fortran. For example if you take the CRAN Fortran then renaming your FSF Fortran to i686-apple-darwin8-gfortran-4.2 and putting our driver instead of gfortran then you may have some luck using CRAN R with your FSF Fortran (obviously, -arch ppc won't work but fewer people care now ;)). There are some potential issues, though, for example the FSF binaries use purely dynamic setup so anything you compile can only be used on your machine. Also in theory you can have runtime version mismatch issues (two different versions of gfortran and gcc runtimes) - so your mileage may vary.
>> 
>> 
>>> BW
>>> 
>>> F
>>> 
>>> 
>>> 
>>> --
>>> Federico C. F. Calboli
>>> Neuroepidemiology and Ageing Research
>>> Imperial College, St. Mary's Campus
>>> Norfolk Place, London W2 1PG
>>> 
>>> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>>> 
>>> f.calboli [.a.t] imperial.ac.uk
>>> f.calboli [.a.t] gmail.com
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
> 
> --
> Federico C. F. Calboli
> Neuroepidemiology and Ageing Research
> Imperial College, St. Mary's Campus
> Norfolk Place, London W2 1PG
> 
> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
> 
> f.calboli [.a.t] imperial.ac.uk
> f.calboli [.a.t] gmail.com
> 
> 


From f.calboli at imperial.ac.uk  Thu Aug 30 17:42:47 2012
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Thu, 30 Aug 2012 16:42:47 +0100
Subject: [R-SIG-Mac] GCC Wiki GFortran
In-Reply-To: <2E9C8641-AB4A-406B-817F-F45A0360B3DE@r-project.org>
References: <9241F403-1886-4EFD-85BC-007C6F35A59D@imperial.ac.uk>
	<53B28DC3-063B-44E2-BC4D-CCD9E56F8E24@r-project.org>
	<F922EB04-25AA-4886-B08A-26F4CDCC98CA@imperial.ac.uk>
	<2E9C8641-AB4A-406B-817F-F45A0360B3DE@r-project.org>
Message-ID: <60B17B8C-C26F-4C75-8B6F-C1C2B436BE7F@imperial.ac.uk>

On 30 Aug 2012, at 16:26, Simon Urbanek <simon.urbanek at r-project.org> wrote:

> 
> On Aug 30, 2012, at 11:19 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
> 
>> On 22 Aug 2012, at 15:12, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> 
>>> 
>>> On Aug 22, 2012, at 6:34 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>>> 
>>>> Hi,
>>>> 
>>>> I used to be able to use the Fortran binaries provided by Simon for both R and Julia, but alas this will not be possible anymore:
>>>> 
>>>> "The problem is not BLAS, but your version of gfortran. Mac provides a built-in system blas, so it is not required to build our own. However, "checking for Fortran 77 name-mangling scheme... unknown" is a problem. It appears that the R version of gfortran is too old to build arpack (a quick google search reveals that gfortran older than 4.4 won't build code properly on 64 bit -- yours is 4.2.3) ."
>>>> 
>>>> I could install the GFortran from here: http://gcc.gnu.org/wiki/GFortranBinaries#MacOS. but (1) they will overwrite /usr/local/bin/gfortran (with a symlink) and (2) I don't know if it will work for R.
>>>> 
>>>> So, will the GCC binary work for R, or is it going to be utter PITA?  I'm on 10.8, Xcode 4.4.1 + CLI add-ons and all the other bells and whistles.
>>>> 
>>> 
>>> They won't work with CRAN R binaries because they don't use Apple driver-drivers (i.e. they don't support -arch etc.)*. If you compile R from sources, you can use any Fortran binary you want - it will be tied to your particular runtime (and you can't use -arch).
>> 
>> I use the CRAN R binary and CRAN binary packages
>>> 
>>> BTW: The FSF Fortran installs in /usr/local/gfortran so it can peacefully co-exist with out CRAN Fortran -- even in our Fortran gfortran is just a symlink to gfortran-4.2 so you can easily restore it with
>>> sudo ls -sfn gfortran-4.2 /usr/local/bin/gfortran
>>> if you wish.
>> 
>> Given the above, can I leave gfortran to point to the GCC fortran?
> 
> Not for CRAN binary unless you do sed 's:gfortran -arch:gfortran-4.2 -arch:g' on both Makeconf files ?

are you saying the binaries (R + whatever libraries I install) using fortran will not work with GCC fortran?  I am confused.

> 
>> if I do not, julia throws a hissy fit every time I compile it,
> 
> Can't you just set FC and F77 to gfortran-4.2 when configuring Julia?

It used to be possible (I did successfully build julia on Lion with the R gfortran add on for Lion), though now I am on ML and julia has a fit trying to build arpack with a fortran < 4.4.  As I posted above from the julia dev conversation I started:

"The problem is not BLAS, but your version of gfortran. Mac provides a built-in system blas, so it is not required to build our own. However, "checking for Fortran 77 name-mangling scheme... unknown" is a problem. It appears that the R version of gfortran is too old to build arpack (a quick google search reveals that gfortran older than 4.4 won't build code properly on 64 bit -- yours is 4.2.3) ."

cheers

F

> 
> 
>> though I use and need R *much more than julia*, so I'd like to avoid R binaries of any sort having a hissy fit if gfortran points to something else than gfortran-4.2.  Between R and julia I'm with R.
>> 
> 
> Binaries will be fine, but compiling won't work (because FSF gfortran doesn't understand Apple flags).
> 
> Cheers,
> Simon
> 
> 
> 
>> Cheers
>> 
>> Federico
>> 
>> 
>> 
>>> Cheers,
>>> Simon
>>> 
>>> --- for advanced users only - if you have no idea what I'm talking about, don't do it ---
>>> 
>>> * - in theory you can use the Apple driver-driver of our Fortran to drive FSF-build Fortran. For example if you take the CRAN Fortran then renaming your FSF Fortran to i686-apple-darwin8-gfortran-4.2 and putting our driver instead of gfortran then you may have some luck using CRAN R with your FSF Fortran (obviously, -arch ppc won't work but fewer people care now ;)). There are some potential issues, though, for example the FSF binaries use purely dynamic setup so anything you compile can only be used on your machine. Also in theory you can have runtime version mismatch issues (two different versions of gfortran and gcc runtimes) - so your mileage may vary.
>>> 
>>> 
>>>> BW
>>>> 
>>>> F
>>>> 
>>>> 
>>>> 
>>>> --
>>>> Federico C. F. Calboli
>>>> Neuroepidemiology and Ageing Research
>>>> Imperial College, St. Mary's Campus
>>>> Norfolk Place, London W2 1PG
>>>> 
>>>> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>>>> 
>>>> f.calboli [.a.t] imperial.ac.uk
>>>> f.calboli [.a.t] gmail.com
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> 
>>> 
>> 
>> --
>> Federico C. F. Calboli
>> Neuroepidemiology and Ageing Research
>> Imperial College, St. Mary's Campus
>> Norfolk Place, London W2 1PG
>> 
>> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>> 
>> f.calboli [.a.t] imperial.ac.uk
>> f.calboli [.a.t] gmail.com
>> 
>> 
> 

--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From simon.urbanek at r-project.org  Thu Aug 30 18:10:47 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 30 Aug 2012 12:10:47 -0400
Subject: [R-SIG-Mac] GCC Wiki GFortran
In-Reply-To: <60B17B8C-C26F-4C75-8B6F-C1C2B436BE7F@imperial.ac.uk>
References: <9241F403-1886-4EFD-85BC-007C6F35A59D@imperial.ac.uk>
	<53B28DC3-063B-44E2-BC4D-CCD9E56F8E24@r-project.org>
	<F922EB04-25AA-4886-B08A-26F4CDCC98CA@imperial.ac.uk>
	<2E9C8641-AB4A-406B-817F-F45A0360B3DE@r-project.org>
	<60B17B8C-C26F-4C75-8B6F-C1C2B436BE7F@imperial.ac.uk>
Message-ID: <E2D77849-22E1-4908-8B20-45370ADCE28E@r-project.org>


On Aug 30, 2012, at 11:42 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:

> On 30 Aug 2012, at 16:26, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
>> 
>> On Aug 30, 2012, at 11:19 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>> 
>>> On 22 Aug 2012, at 15:12, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>> 
>>>> 
>>>> On Aug 22, 2012, at 6:34 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>>>> 
>>>>> Hi,
>>>>> 
>>>>> I used to be able to use the Fortran binaries provided by Simon for both R and Julia, but alas this will not be possible anymore:
>>>>> 
>>>>> "The problem is not BLAS, but your version of gfortran. Mac provides a built-in system blas, so it is not required to build our own. However, "checking for Fortran 77 name-mangling scheme... unknown" is a problem. It appears that the R version of gfortran is too old to build arpack (a quick google search reveals that gfortran older than 4.4 won't build code properly on 64 bit -- yours is 4.2.3) ."
>>>>> 
>>>>> I could install the GFortran from here: http://gcc.gnu.org/wiki/GFortranBinaries#MacOS. but (1) they will overwrite /usr/local/bin/gfortran (with a symlink) and (2) I don't know if it will work for R.
>>>>> 
>>>>> So, will the GCC binary work for R, or is it going to be utter PITA?  I'm on 10.8, Xcode 4.4.1 + CLI add-ons and all the other bells and whistles.
>>>>> 
>>>> 
>>>> They won't work with CRAN R binaries because they don't use Apple driver-drivers (i.e. they don't support -arch etc.)*. If you compile R from sources, you can use any Fortran binary you want - it will be tied to your particular runtime (and you can't use -arch).
>>> 
>>> I use the CRAN R binary and CRAN binary packages
>>>> 
>>>> BTW: The FSF Fortran installs in /usr/local/gfortran so it can peacefully co-exist with out CRAN Fortran -- even in our Fortran gfortran is just a symlink to gfortran-4.2 so you can easily restore it with
>>>> sudo ls -sfn gfortran-4.2 /usr/local/bin/gfortran
>>>> if you wish.
>>> 
>>> Given the above, can I leave gfortran to point to the GCC fortran?
>> 
>> Not for CRAN binary unless you do sed 's:gfortran -arch:gfortran-4.2 -arch:g' on both Makeconf files ?
> 
> are you saying the binaries (R + whatever libraries I install) using fortran will not work with GCC fortran?  I am confused.
> 

The *binaries* don't care about the Fortran as R comes with its own gfortran runtime, but you can't compile packages that have Fortran code with FSF Fortran as it doesn't understand Apple flags.


>>> if I do not, julia throws a hissy fit every time I compile it,
>> 
>> Can't you just set FC and F77 to gfortran-4.2 when configuring Julia?
> 
> It used to be possible (I did successfully build julia on Lion with the R gfortran add on for Lion), though now I am on ML and julia has a fit trying to build arpack with a fortran < 4.4.  As I posted above from the julia dev conversation I started:
> 
> "The problem is not BLAS, but your version of gfortran. Mac provides a built-in system blas, so it is not required to build our own. However, "checking for Fortran 77 name-mangling scheme... unknown" is a problem. It appears that the R version of gfortran is too old to build arpack (a quick google search reveals that gfortran older than 4.4 won't build code properly on 64 bit -- yours is 4.2.3) ."
> 


But then it's using the wrong compiler ... did you change FC to gfortran-4.2 in Make.inc? I didn't realize that julia doesn't even have a reasonable build system, so you have to edit it by hand ...

Cheers,
Simon



> 
>> 
>> 
>>> though I use and need R *much more than julia*, so I'd like to avoid R binaries of any sort having a hissy fit if gfortran points to something else than gfortran-4.2.  Between R and julia I'm with R.
>>> 
>> 
>> Binaries will be fine, but compiling won't work (because FSF gfortran doesn't understand Apple flags).
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>> Cheers
>>> 
>>> Federico
>>> 
>>> 
>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> --- for advanced users only - if you have no idea what I'm talking about, don't do it ---
>>>> 
>>>> * - in theory you can use the Apple driver-driver of our Fortran to drive FSF-build Fortran. For example if you take the CRAN Fortran then renaming your FSF Fortran to i686-apple-darwin8-gfortran-4.2 and putting our driver instead of gfortran then you may have some luck using CRAN R with your FSF Fortran (obviously, -arch ppc won't work but fewer people care now ;)). There are some potential issues, though, for example the FSF binaries use purely dynamic setup so anything you compile can only be used on your machine. Also in theory you can have runtime version mismatch issues (two different versions of gfortran and gcc runtimes) - so your mileage may vary.
>>>> 
>>>> 
>>>>> BW
>>>>> 
>>>>> F
>>>>> 
>>>>> 
>>>>> 
>>>>> --
>>>>> Federico C. F. Calboli
>>>>> Neuroepidemiology and Ageing Research
>>>>> Imperial College, St. Mary's Campus
>>>>> Norfolk Place, London W2 1PG
>>>>> 
>>>>> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>>>>> 
>>>>> f.calboli [.a.t] imperial.ac.uk
>>>>> f.calboli [.a.t] gmail.com
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> 
>>>> 
>>> 
>>> --
>>> Federico C. F. Calboli
>>> Neuroepidemiology and Ageing Research
>>> Imperial College, St. Mary's Campus
>>> Norfolk Place, London W2 1PG
>>> 
>>> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>>> 
>>> f.calboli [.a.t] imperial.ac.uk
>>> f.calboli [.a.t] gmail.com
>>> 
>>> 
>> 
> 
> --
> Federico C. F. Calboli
> Neuroepidemiology and Ageing Research
> Imperial College, St. Mary's Campus
> Norfolk Place, London W2 1PG
> 
> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
> 
> f.calboli [.a.t] imperial.ac.uk
> f.calboli [.a.t] gmail.com
> 
> 


From f.calboli at imperial.ac.uk  Thu Aug 30 18:31:21 2012
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Thu, 30 Aug 2012 17:31:21 +0100
Subject: [R-SIG-Mac] GCC Wiki GFortran
In-Reply-To: <E2D77849-22E1-4908-8B20-45370ADCE28E@r-project.org>
References: <9241F403-1886-4EFD-85BC-007C6F35A59D@imperial.ac.uk>
	<53B28DC3-063B-44E2-BC4D-CCD9E56F8E24@r-project.org>
	<F922EB04-25AA-4886-B08A-26F4CDCC98CA@imperial.ac.uk>
	<2E9C8641-AB4A-406B-817F-F45A0360B3DE@r-project.org>
	<60B17B8C-C26F-4C75-8B6F-C1C2B436BE7F@imperial.ac.uk>
	<E2D77849-22E1-4908-8B20-45370ADCE28E@r-project.org>
Message-ID: <3B0BC351-C550-4A72-AA40-9F5E11E604CA@imperial.ac.uk>

On 30 Aug 2012, at 17:10, Simon Urbanek <simon.urbanek at r-project.org> wrote:

> 
> On Aug 30, 2012, at 11:42 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
> 
>> On 30 Aug 2012, at 16:26, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> 
>>> 
>>> On Aug 30, 2012, at 11:19 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>>> 
>>>> On 22 Aug 2012, at 15:12, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>>> 
>>>>> 
>>>>> On Aug 22, 2012, at 6:34 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>>>>> 
>>>>>> Hi,
>>>>>> 
>>>>>> I used to be able to use the Fortran binaries provided by Simon for both R and Julia, but alas this will not be possible anymore:
>>>>>> 
>>>>>> "The problem is not BLAS, but your version of gfortran. Mac provides a built-in system blas, so it is not required to build our own. However, "checking for Fortran 77 name-mangling scheme... unknown" is a problem. It appears that the R version of gfortran is too old to build arpack (a quick google search reveals that gfortran older than 4.4 won't build code properly on 64 bit -- yours is 4.2.3) ."
>>>>>> 
>>>>>> I could install the GFortran from here: http://gcc.gnu.org/wiki/GFortranBinaries#MacOS. but (1) they will overwrite /usr/local/bin/gfortran (with a symlink) and (2) I don't know if it will work for R.
>>>>>> 
>>>>>> So, will the GCC binary work for R, or is it going to be utter PITA?  I'm on 10.8, Xcode 4.4.1 + CLI add-ons and all the other bells and whistles.
>>>>>> 
>>>>> 
>>>>> They won't work with CRAN R binaries because they don't use Apple driver-drivers (i.e. they don't support -arch etc.)*. If you compile R from sources, you can use any Fortran binary you want - it will be tied to your particular runtime (and you can't use -arch).
>>>> 
>>>> I use the CRAN R binary and CRAN binary packages
>>>>> 
>>>>> BTW: The FSF Fortran installs in /usr/local/gfortran so it can peacefully co-exist with out CRAN Fortran -- even in our Fortran gfortran is just a symlink to gfortran-4.2 so you can easily restore it with
>>>>> sudo ls -sfn gfortran-4.2 /usr/local/bin/gfortran
>>>>> if you wish.
>>>> 
>>>> Given the above, can I leave gfortran to point to the GCC fortran?
>>> 
>>> Not for CRAN binary unless you do sed 's:gfortran -arch:gfortran-4.2 -arch:g' on both Makeconf files ?
>> 
>> are you saying the binaries (R + whatever libraries I install) using fortran will not work with GCC fortran?  I am confused.
>> 
> 
> The *binaries* don't care about the Fortran as R comes with its own gfortran runtime, but you can't compile packages that have Fortran code with FSF Fortran as it doesn't understand Apple flags.
> 
> 
>>>> if I do not, julia throws a hissy fit every time I compile it,
>>> 
>>> Can't you just set FC and F77 to gfortran-4.2 when configuring Julia?
>> 
>> It used to be possible (I did successfully build julia on Lion with the R gfortran add on for Lion), though now I am on ML and julia has a fit trying to build arpack with a fortran < 4.4.  As I posted above from the julia dev conversation I started:
>> 
>> "The problem is not BLAS, but your version of gfortran. Mac provides a built-in system blas, so it is not required to build our own. However, "checking for Fortran 77 name-mangling scheme... unknown" is a problem. It appears that the R version of gfortran is too old to build arpack (a quick google search reveals that gfortran older than 4.4 won't build code properly on 64 bit -- yours is 4.2.3) ."
>> 
> 
> 
> But then it's using the wrong compiler ... did you change FC to gfortran-4.2 in Make.inc? I didn't realize that julia doesn't even have a reasonable build system, so you have to edit it by hand ?

Just to test, I removed julia altogether, cloned the git repo, edited Make.inc to have FC = gfortran-4.2 and I get:

?
?
i686-apple-darwin8-gfortran-4.2: unrecognized option '-shared'
Undefined symbols for architecture i386:
  "_MAIN__", referenced from:
      _main in libgfortranbegin.a(fmain.o)
ld: symbol(s) not found for architecture i386
collect2: ld returned 1 exit status
make[2]: *** [amos/libamos.dylib] Error 1
make[1]: *** [julia-release] Error 2
make: *** [release] Error 2

So it looks like there is no way of building julia with R gfortran.

Cheers

F

PS

> 
> Cheers,
> Simon
> 
> 
> 
>> 
>>> 
>>> 
>>>> though I use and need R *much more than julia*, so I'd like to avoid R binaries of any sort having a hissy fit if gfortran points to something else than gfortran-4.2.  Between R and julia I'm with R.
>>>> 
>>> 
>>> Binaries will be fine, but compiling won't work (because FSF gfortran doesn't understand Apple flags).
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>> 
>>>> Cheers
>>>> 
>>>> Federico
>>>> 
>>>> 
>>>> 
>>>>> Cheers,
>>>>> Simon
>>>>> 
>>>>> --- for advanced users only - if you have no idea what I'm talking about, don't do it ---
>>>>> 
>>>>> * - in theory you can use the Apple driver-driver of our Fortran to drive FSF-build Fortran. For example if you take the CRAN Fortran then renaming your FSF Fortran to i686-apple-darwin8-gfortran-4.2 and putting our driver instead of gfortran then you may have some luck using CRAN R with your FSF Fortran (obviously, -arch ppc won't work but fewer people care now ;)). There are some potential issues, though, for example the FSF binaries use purely dynamic setup so anything you compile can only be used on your machine. Also in theory you can have runtime version mismatch issues (two different versions of gfortran and gcc runtimes) - so your mileage may vary.
>>>>> 
>>>>> 
>>>>>> BW
>>>>>> 
>>>>>> F
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> --
>>>>>> Federico C. F. Calboli
>>>>>> Neuroepidemiology and Ageing Research
>>>>>> Imperial College, St. Mary's Campus
>>>>>> Norfolk Place, London W2 1PG
>>>>>> 
>>>>>> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>>>>>> 
>>>>>> f.calboli [.a.t] imperial.ac.uk
>>>>>> f.calboli [.a.t] gmail.com
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>>> 
>>>>> 
>>>> 
>>>> --
>>>> Federico C. F. Calboli
>>>> Neuroepidemiology and Ageing Research
>>>> Imperial College, St. Mary's Campus
>>>> Norfolk Place, London W2 1PG
>>>> 
>>>> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>>>> 
>>>> f.calboli [.a.t] imperial.ac.uk
>>>> f.calboli [.a.t] gmail.com
>>>> 
>>>> 
>>> 
>> 
>> --
>> Federico C. F. Calboli
>> Neuroepidemiology and Ageing Research
>> Imperial College, St. Mary's Campus
>> Norfolk Place, London W2 1PG
>> 
>> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>> 
>> f.calboli [.a.t] imperial.ac.uk
>> f.calboli [.a.t] gmail.com
>> 
>> 
> 

--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From simon.urbanek at r-project.org  Thu Aug 30 19:16:00 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 30 Aug 2012 13:16:00 -0400
Subject: [R-SIG-Mac] GCC Wiki GFortran
In-Reply-To: <3B0BC351-C550-4A72-AA40-9F5E11E604CA@imperial.ac.uk>
References: <9241F403-1886-4EFD-85BC-007C6F35A59D@imperial.ac.uk>
	<53B28DC3-063B-44E2-BC4D-CCD9E56F8E24@r-project.org>
	<F922EB04-25AA-4886-B08A-26F4CDCC98CA@imperial.ac.uk>
	<2E9C8641-AB4A-406B-817F-F45A0360B3DE@r-project.org>
	<60B17B8C-C26F-4C75-8B6F-C1C2B436BE7F@imperial.ac.uk>
	<E2D77849-22E1-4908-8B20-45370ADCE28E@r-project.org>
	<3B0BC351-C550-4A72-AA40-9F5E11E604CA@imperial.ac.uk>
Message-ID: <CF52166B-4EA1-48CA-81F0-222BEDD0A6F1@r-project.org>


On Aug 30, 2012, at 12:31 PM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:

> On 30 Aug 2012, at 17:10, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
>> 
>> On Aug 30, 2012, at 11:42 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>> 
>>> On 30 Aug 2012, at 16:26, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>> 
>>>> 
>>>> On Aug 30, 2012, at 11:19 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>>>> 
>>>>> On 22 Aug 2012, at 15:12, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>>>> 
>>>>>> 
>>>>>> On Aug 22, 2012, at 6:34 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>>>>>> 
>>>>>>> Hi,
>>>>>>> 
>>>>>>> I used to be able to use the Fortran binaries provided by Simon for both R and Julia, but alas this will not be possible anymore:
>>>>>>> 
>>>>>>> "The problem is not BLAS, but your version of gfortran. Mac provides a built-in system blas, so it is not required to build our own. However, "checking for Fortran 77 name-mangling scheme... unknown" is a problem. It appears that the R version of gfortran is too old to build arpack (a quick google search reveals that gfortran older than 4.4 won't build code properly on 64 bit -- yours is 4.2.3) ."
>>>>>>> 
>>>>>>> I could install the GFortran from here: http://gcc.gnu.org/wiki/GFortranBinaries#MacOS. but (1) they will overwrite /usr/local/bin/gfortran (with a symlink) and (2) I don't know if it will work for R.
>>>>>>> 
>>>>>>> So, will the GCC binary work for R, or is it going to be utter PITA?  I'm on 10.8, Xcode 4.4.1 + CLI add-ons and all the other bells and whistles.
>>>>>>> 
>>>>>> 
>>>>>> They won't work with CRAN R binaries because they don't use Apple driver-drivers (i.e. they don't support -arch etc.)*. If you compile R from sources, you can use any Fortran binary you want - it will be tied to your particular runtime (and you can't use -arch).
>>>>> 
>>>>> I use the CRAN R binary and CRAN binary packages
>>>>>> 
>>>>>> BTW: The FSF Fortran installs in /usr/local/gfortran so it can peacefully co-exist with out CRAN Fortran -- even in our Fortran gfortran is just a symlink to gfortran-4.2 so you can easily restore it with
>>>>>> sudo ls -sfn gfortran-4.2 /usr/local/bin/gfortran
>>>>>> if you wish.
>>>>> 
>>>>> Given the above, can I leave gfortran to point to the GCC fortran?
>>>> 
>>>> Not for CRAN binary unless you do sed 's:gfortran -arch:gfortran-4.2 -arch:g' on both Makeconf files ?
>>> 
>>> are you saying the binaries (R + whatever libraries I install) using fortran will not work with GCC fortran?  I am confused.
>>> 
>> 
>> The *binaries* don't care about the Fortran as R comes with its own gfortran runtime, but you can't compile packages that have Fortran code with FSF Fortran as it doesn't understand Apple flags.
>> 
>> 
>>>>> if I do not, julia throws a hissy fit every time I compile it,
>>>> 
>>>> Can't you just set FC and F77 to gfortran-4.2 when configuring Julia?
>>> 
>>> It used to be possible (I did successfully build julia on Lion with the R gfortran add on for Lion), though now I am on ML and julia has a fit trying to build arpack with a fortran < 4.4.  As I posted above from the julia dev conversation I started:
>>> 
>>> "The problem is not BLAS, but your version of gfortran. Mac provides a built-in system blas, so it is not required to build our own. However, "checking for Fortran 77 name-mangling scheme... unknown" is a problem. It appears that the R version of gfortran is too old to build arpack (a quick google search reveals that gfortran older than 4.4 won't build code properly on 64 bit -- yours is 4.2.3) ."
>>> 
>> 
>> 
>> But then it's using the wrong compiler ... did you change FC to gfortran-4.2 in Make.inc? I didn't realize that julia doesn't even have a reasonable build system, so you have to edit it by hand ?
> 
> Just to test, I removed julia altogether, cloned the git repo, edited Make.inc to have FC = gfortran-4.2 and I get:
> 
> ?
> ?
> i686-apple-darwin8-gfortran-4.2: unrecognized option '-shared'
> Undefined symbols for architecture i386:
>  "_MAIN__", referenced from:
>      _main in libgfortranbegin.a(fmain.o)
> ld: symbol(s) not found for architecture i386
> collect2: ld returned 1 exit status
> make[2]: *** [amos/libamos.dylib] Error 1
> make[1]: *** [julia-release] Error 2
> make: *** [release] Error 2
> 
> So it looks like there is no way of building julia with R gfortran.
> 

You got that backwards - you don't want to build Julia with R Fortran. The whole point is that you separate your Fortran for julia and for R: gfortran for R (CRAN) and gfortran-4.2 (or whatever you want to call it is up to you) for julia.

Cheers,
Simon



> Cheers
> 
> F
> 
> PS
> 
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>> 
>>>> 
>>>> 
>>>>> though I use and need R *much more than julia*, so I'd like to avoid R binaries of any sort having a hissy fit if gfortran points to something else than gfortran-4.2.  Between R and julia I'm with R.
>>>>> 
>>>> 
>>>> Binaries will be fine, but compiling won't work (because FSF gfortran doesn't understand Apple flags).
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>> 
>>>>> Cheers
>>>>> 
>>>>> Federico
>>>>> 
>>>>> 
>>>>> 
>>>>>> Cheers,
>>>>>> Simon
>>>>>> 
>>>>>> --- for advanced users only - if you have no idea what I'm talking about, don't do it ---
>>>>>> 
>>>>>> * - in theory you can use the Apple driver-driver of our Fortran to drive FSF-build Fortran. For example if you take the CRAN Fortran then renaming your FSF Fortran to i686-apple-darwin8-gfortran-4.2 and putting our driver instead of gfortran then you may have some luck using CRAN R with your FSF Fortran (obviously, -arch ppc won't work but fewer people care now ;)). There are some potential issues, though, for example the FSF binaries use purely dynamic setup so anything you compile can only be used on your machine. Also in theory you can have runtime version mismatch issues (two different versions of gfortran and gcc runtimes) - so your mileage may vary.
>>>>>> 
>>>>>> 
>>>>>>> BW
>>>>>>> 
>>>>>>> F
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>> --
>>>>>>> Federico C. F. Calboli
>>>>>>> Neuroepidemiology and Ageing Research
>>>>>>> Imperial College, St. Mary's Campus
>>>>>>> Norfolk Place, London W2 1PG
>>>>>>> 
>>>>>>> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>>>>>>> 
>>>>>>> f.calboli [.a.t] imperial.ac.uk
>>>>>>> f.calboli [.a.t] gmail.com
>>>>>>> 
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>> 
>>>>>>> 
>>>>>> 
>>>>> 
>>>>> --
>>>>> Federico C. F. Calboli
>>>>> Neuroepidemiology and Ageing Research
>>>>> Imperial College, St. Mary's Campus
>>>>> Norfolk Place, London W2 1PG
>>>>> 
>>>>> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>>>>> 
>>>>> f.calboli [.a.t] imperial.ac.uk
>>>>> f.calboli [.a.t] gmail.com
>>>>> 
>>>>> 
>>>> 
>>> 
>>> --
>>> Federico C. F. Calboli
>>> Neuroepidemiology and Ageing Research
>>> Imperial College, St. Mary's Campus
>>> Norfolk Place, London W2 1PG
>>> 
>>> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>>> 
>>> f.calboli [.a.t] imperial.ac.uk
>>> f.calboli [.a.t] gmail.com
>>> 
>>> 
>> 
> 
> --
> Federico C. F. Calboli
> Neuroepidemiology and Ageing Research
> Imperial College, St. Mary's Campus
> Norfolk Place, London W2 1PG
> 
> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
> 
> f.calboli [.a.t] imperial.ac.uk
> f.calboli [.a.t] gmail.com
> 
> 


From anca.che at gmail.com  Thu Aug 30 22:20:07 2012
From: anca.che at gmail.com (Anca Chereches)
Date: Thu, 30 Aug 2012 16:20:07 -0400
Subject: [R-SIG-Mac] Cannot load tcl/tk (tcltk package installed)
Message-ID: <503FCAF7.6060902@gmail.com>

Hello,

I'm getting the following error message when trying to load tcltk:

"Loading Tcl/Tk interface ... Error : .onLoad failed in loadNamespace() 
for 'tcltk', details:
call: dyn.load(file, DLLpath = DLLpath, ...)
error: unable to load shared object 
'/Library/Frameworks/R.framework/Versions/2.15/Resources/library/tcltk/libs/i386/tcltk.so':
dlopen(/Library/Frameworks/R.framework/Versions/2.15/Resources/library/tcltk/libs/i386/tcltk.so, 
10): Library not loaded: /usr/X11R6/lib/libX11.6.dylib
Referenced from: /usr/local/lib/libtk8.5.dylib
Reason: image not found
Error: package/namespace load failed for ?tcltk?"

I've installed tcltk-8.5.5 from the dmg on cran and as far as I can tell 
installation was successful. I have tk8.5 and tcl8.5 in /usr/local/lib. 
X11 is also installed and working.

I'm running:
R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
R.app GUI 1.52 (6188) i386-apple-darwin9.8.0
On: Mac OS X 10.6.8

I don't really know how to go about figuring out the problem. I'd be 
grateful for any hints or suggestions of help pages and so on. I've 
googled this, but most problems seem to be related to people not having 
installed tcltk, which I have.

Thank you!

Anca


From simon.urbanek at r-project.org  Thu Aug 30 23:19:22 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 30 Aug 2012 17:19:22 -0400
Subject: [R-SIG-Mac] Cannot load tcl/tk (tcltk package installed)
In-Reply-To: <503FCAF7.6060902@gmail.com>
References: <503FCAF7.6060902@gmail.com>
Message-ID: <D8F592B4-2E0E-44D7-8074-D009EFC4D826@r-project.org>


On Aug 30, 2012, at 4:20 PM, Anca Chereches <anca.che at gmail.com> wrote:

> Hello,
> 
> I'm getting the following error message when trying to load tcltk:
> 
> "Loading Tcl/Tk interface ... Error : .onLoad failed in loadNamespace() for 'tcltk', details:
> call: dyn.load(file, DLLpath = DLLpath, ...)
> error: unable to load shared object '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/tcltk/libs/i386/tcltk.so':
> dlopen(/Library/Frameworks/R.framework/Versions/2.15/Resources/library/tcltk/libs/i386/tcltk.so, 10): Library not loaded: /usr/X11R6/lib/libX11.6.dylib
> Referenced from: /usr/local/lib/libtk8.5.dylib
> Reason: image not found
> Error: package/namespace load failed for ?tcltk?"
> 
> I've installed tcltk-8.5.5 from the dmg on cran and as far as I can tell installation was successful. I have tk8.5 and tcl8.5 in /usr/local/lib. X11 is also installed and working.
> 
> I'm running:
> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
> R.app GUI 1.52 (6188) i386-apple-darwin9.8.0
> On: Mac OS X 10.6.8
> 
> I don't really know how to go about figuring out the problem. I'd be grateful for any hints or suggestions of help pages and so on. I've googled this, but most problems seem to be related to people not having installed tcltk, which I have.
> 

Please post the output of

file /usr/X11R6/lib/libX11.6.dylib

you should see something like

$ file /usr/X11R6/lib/libX11.6.dylib
/usr/X11R6/lib/libX11.6.dylib: Mach-O universal binary with 3 architectures
/usr/X11R6/lib/libX11.6.dylib (for architecture x86_64):	Mach-O 64-bit dynamically linked shared library x86_64
/usr/X11R6/lib/libX11.6.dylib (for architecture i386):	Mach-O dynamically linked shared library i386
/usr/X11R6/lib/libX11.6.dylib (for architecture ppc7400):	Mach-O dynamically linked shared library ppc

if your X11 is installed properly.

Thanks,
Simon


From anca.che at gmail.com  Fri Aug 31 00:24:14 2012
From: anca.che at gmail.com (Anca Chereches)
Date: Thu, 30 Aug 2012 18:24:14 -0400
Subject: [R-SIG-Mac] Cannot load tcl/tk (tcltk package installed)
In-Reply-To: <D8F592B4-2E0E-44D7-8074-D009EFC4D826@r-project.org>
References: <503FCAF7.6060902@gmail.com>
	<D8F592B4-2E0E-44D7-8074-D009EFC4D826@r-project.org>
Message-ID: <503FE80E.3090207@gmail.com>

rrsdhcp-10-32-137-61:~ acasa$ file /usr/X11R6/lib/libX11.6.dylib
/usr/X11R6/lib/libX11.6.dylib: cannot open 
`/usr/X11R6/lib/libX11.6.dylib' (No such file or directory)

No X11R6 folder, but I do have an X11 folder:

rrsdhcp-10-32-137-61:~ acasa$ file /usr/X11/lib/libX11.6.dylib
/usr/X11/lib/libX11.6.dylib: Mach-O universal binary with 3 
architectures
/usr/X11/lib/libX11.6.dylib (for architecture x86_64):	Mach-O 64-bit 
dynamically linked shared library x86_64
/usr/X11/lib/libX11.6.dylib (for architecture i386):	Mach-O dynamically 
linked shared library i386
/usr/X11/lib/libX11.6.dylib (for architecture ppc7400):	Mach-O 
dynamically linked shared library ppc


Thank you,
Anca


On Thu Aug 30 17:19:22 2012, Simon Urbanek wrote:
>
> On Aug 30, 2012, at 4:20 PM, Anca Chereches <anca.che at gmail.com> wrote:
>
>> Hello,
>>
>> I'm getting the following error message when trying to load tcltk:
>>
>> "Loading Tcl/Tk interface ... Error : .onLoad failed in loadNamespace() for 'tcltk', details:
>> call: dyn.load(file, DLLpath = DLLpath, ...)
>> error: unable to load shared object '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/tcltk/libs/i386/tcltk.so':
>> dlopen(/Library/Frameworks/R.framework/Versions/2.15/Resources/library/tcltk/libs/i386/tcltk.so, 10): Library not loaded: /usr/X11R6/lib/libX11.6.dylib
>> Referenced from: /usr/local/lib/libtk8.5.dylib
>> Reason: image not found
>> Error: package/namespace load failed for ?tcltk?"
>>
>> I've installed tcltk-8.5.5 from the dmg on cran and as far as I can tell installation was successful. I have tk8.5 and tcl8.5 in /usr/local/lib. X11 is also installed and working.
>>
>> I'm running:
>> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
>> R.app GUI 1.52 (6188) i386-apple-darwin9.8.0
>> On: Mac OS X 10.6.8
>>
>> I don't really know how to go about figuring out the problem. I'd be grateful for any hints or suggestions of help pages and so on. I've googled this, but most problems seem to be related to people not having installed tcltk, which I have.
>>
>
> Please post the output of
>
> file /usr/X11R6/lib/libX11.6.dylib
>
> you should see something like
>
> $ file /usr/X11R6/lib/libX11.6.dylib
> /usr/X11R6/lib/libX11.6.dylib: Mach-O universal binary with 3 architectures
> /usr/X11R6/lib/libX11.6.dylib (for architecture x86_64):	Mach-O 64-bit dynamically linked shared library x86_64
> /usr/X11R6/lib/libX11.6.dylib (for architecture i386):	Mach-O dynamically linked shared library i386
> /usr/X11R6/lib/libX11.6.dylib (for architecture ppc7400):	Mach-O dynamically linked shared library ppc
>
> if your X11 is installed properly.
>
> Thanks,
> Simon
>


From anca.che at gmail.com  Fri Aug 31 00:48:02 2012
From: anca.che at gmail.com (Anca Chereches)
Date: Thu, 30 Aug 2012 18:48:02 -0400
Subject: [R-SIG-Mac] Cannot load tcl/tk (tcltk package installed)
In-Reply-To: <503FE80E.3090207@gmail.com>
References: <503FCAF7.6060902@gmail.com>
	<D8F592B4-2E0E-44D7-8074-D009EFC4D826@r-project.org>
	<503FE80E.3090207@gmail.com>
Message-ID: <503FEDA2.9010106@gmail.com>

Well, d'oh. I only just realized that the error message is saying that 
tk is looking for x11r6 in /usr and obviously not finding anything. Is 
this a matter of setting paths or are x11 and x11r6 different things?

Thank you,
Anca


On Thu Aug 30 18:24:14 2012, Anca Chereches wrote:
> rrsdhcp-10-32-137-61:~ acasa$ file /usr/X11R6/lib/libX11.6.dylib
> /usr/X11R6/lib/libX11.6.dylib: cannot open
> `/usr/X11R6/lib/libX11.6.dylib' (No such file or directory)
>
> No X11R6 folder, but I do have an X11 folder:
>
> rrsdhcp-10-32-137-61:~ acasa$ file /usr/X11/lib/libX11.6.dylib
> /usr/X11/lib/libX11.6.dylib: Mach-O universal binary with 3 architectures
> /usr/X11/lib/libX11.6.dylib (for architecture x86_64):    Mach-O
> 64-bit dynamically linked shared library x86_64
> /usr/X11/lib/libX11.6.dylib (for architecture i386):    Mach-O
> dynamically linked shared library i386
> /usr/X11/lib/libX11.6.dylib (for architecture ppc7400):    Mach-O
> dynamically linked shared library ppc
>
>
> Thank you,
> Anca
>
>
> On Thu Aug 30 17:19:22 2012, Simon Urbanek wrote:
>>
>> On Aug 30, 2012, at 4:20 PM, Anca Chereches <anca.che at gmail.com> wrote:
>>
>>> Hello,
>>>
>>> I'm getting the following error message when trying to load tcltk:
>>>
>>> "Loading Tcl/Tk interface ... Error : .onLoad failed in
>>> loadNamespace() for 'tcltk', details:
>>> call: dyn.load(file, DLLpath = DLLpath, ...)
>>> error: unable to load shared object
>>> '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/tcltk/libs/i386/tcltk.so':
>>>
>>> dlopen(/Library/Frameworks/R.framework/Versions/2.15/Resources/library/tcltk/libs/i386/tcltk.so,
>>> 10): Library not loaded: /usr/X11R6/lib/libX11.6.dylib
>>> Referenced from: /usr/local/lib/libtk8.5.dylib
>>> Reason: image not found
>>> Error: package/namespace load failed for ?tcltk?"
>>>
>>> I've installed tcltk-8.5.5 from the dmg on cran and as far as I can
>>> tell installation was successful. I have tk8.5 and tcl8.5 in
>>> /usr/local/lib. X11 is also installed and working.
>>>
>>> I'm running:
>>> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
>>> R.app GUI 1.52 (6188) i386-apple-darwin9.8.0
>>> On: Mac OS X 10.6.8
>>>
>>> I don't really know how to go about figuring out the problem. I'd be
>>> grateful for any hints or suggestions of help pages and so on. I've
>>> googled this, but most problems seem to be related to people not
>>> having installed tcltk, which I have.
>>>
>>
>> Please post the output of
>>
>> file /usr/X11R6/lib/libX11.6.dylib
>>
>> you should see something like
>>
>> $ file /usr/X11R6/lib/libX11.6.dylib
>> /usr/X11R6/lib/libX11.6.dylib: Mach-O universal binary with 3
>> architectures
>> /usr/X11R6/lib/libX11.6.dylib (for architecture x86_64):    Mach-O
>> 64-bit dynamically linked shared library x86_64
>> /usr/X11R6/lib/libX11.6.dylib (for architecture i386):    Mach-O
>> dynamically linked shared library i386
>> /usr/X11R6/lib/libX11.6.dylib (for architecture ppc7400):    Mach-O
>> dynamically linked shared library ppc
>>
>> if your X11 is installed properly.
>>
>> Thanks,
>> Simon
>>


From simon.urbanek at r-project.org  Fri Aug 31 01:09:55 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 30 Aug 2012 19:09:55 -0400
Subject: [R-SIG-Mac] Cannot load tcl/tk (tcltk package installed)
In-Reply-To: <503FEDA2.9010106@gmail.com>
References: <503FCAF7.6060902@gmail.com>
	<D8F592B4-2E0E-44D7-8074-D009EFC4D826@r-project.org>
	<503FE80E.3090207@gmail.com> <503FEDA2.9010106@gmail.com>
Message-ID: <66C69D50-9F10-474F-B8F2-A7174AC5A6C6@r-project.org>


On Aug 30, 2012, at 6:48 PM, Anca Chereches wrote:

> Well, d'oh. I only just realized that the error message is saying that tk is looking for x11r6 in /usr and obviously not finding anything. Is this a matter of setting paths or are x11 and x11r6 different things?
> 

You should create a symlink

sudo ln -s X11 /usr/X11R6

However, it's still a bit puzzling why you don't have that symlink, because Apple's X11 does create it...

Cheers,
Simon



> Thank you,
> Anca
> 
> 
> On Thu Aug 30 18:24:14 2012, Anca Chereches wrote:
>> rrsdhcp-10-32-137-61:~ acasa$ file /usr/X11R6/lib/libX11.6.dylib
>> /usr/X11R6/lib/libX11.6.dylib: cannot open
>> `/usr/X11R6/lib/libX11.6.dylib' (No such file or directory)
>> 
>> No X11R6 folder, but I do have an X11 folder:
>> 
>> rrsdhcp-10-32-137-61:~ acasa$ file /usr/X11/lib/libX11.6.dylib
>> /usr/X11/lib/libX11.6.dylib: Mach-O universal binary with 3 architectures
>> /usr/X11/lib/libX11.6.dylib (for architecture x86_64):    Mach-O
>> 64-bit dynamically linked shared library x86_64
>> /usr/X11/lib/libX11.6.dylib (for architecture i386):    Mach-O
>> dynamically linked shared library i386
>> /usr/X11/lib/libX11.6.dylib (for architecture ppc7400):    Mach-O
>> dynamically linked shared library ppc
>> 
>> 
>> Thank you,
>> Anca
>> 
>> 
>> On Thu Aug 30 17:19:22 2012, Simon Urbanek wrote:
>>> 
>>> On Aug 30, 2012, at 4:20 PM, Anca Chereches <anca.che at gmail.com> wrote:
>>> 
>>>> Hello,
>>>> 
>>>> I'm getting the following error message when trying to load tcltk:
>>>> 
>>>> "Loading Tcl/Tk interface ... Error : .onLoad failed in
>>>> loadNamespace() for 'tcltk', details:
>>>> call: dyn.load(file, DLLpath = DLLpath, ...)
>>>> error: unable to load shared object
>>>> '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/tcltk/libs/i386/tcltk.so':
>>>> 
>>>> dlopen(/Library/Frameworks/R.framework/Versions/2.15/Resources/library/tcltk/libs/i386/tcltk.so,
>>>> 10): Library not loaded: /usr/X11R6/lib/libX11.6.dylib
>>>> Referenced from: /usr/local/lib/libtk8.5.dylib
>>>> Reason: image not found
>>>> Error: package/namespace load failed for ?tcltk?"
>>>> 
>>>> I've installed tcltk-8.5.5 from the dmg on cran and as far as I can
>>>> tell installation was successful. I have tk8.5 and tcl8.5 in
>>>> /usr/local/lib. X11 is also installed and working.
>>>> 
>>>> I'm running:
>>>> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
>>>> R.app GUI 1.52 (6188) i386-apple-darwin9.8.0
>>>> On: Mac OS X 10.6.8
>>>> 
>>>> I don't really know how to go about figuring out the problem. I'd be
>>>> grateful for any hints or suggestions of help pages and so on. I've
>>>> googled this, but most problems seem to be related to people not
>>>> having installed tcltk, which I have.
>>>> 
>>> 
>>> Please post the output of
>>> 
>>> file /usr/X11R6/lib/libX11.6.dylib
>>> 
>>> you should see something like
>>> 
>>> $ file /usr/X11R6/lib/libX11.6.dylib
>>> /usr/X11R6/lib/libX11.6.dylib: Mach-O universal binary with 3
>>> architectures
>>> /usr/X11R6/lib/libX11.6.dylib (for architecture x86_64):    Mach-O
>>> 64-bit dynamically linked shared library x86_64
>>> /usr/X11R6/lib/libX11.6.dylib (for architecture i386):    Mach-O
>>> dynamically linked shared library i386
>>> /usr/X11R6/lib/libX11.6.dylib (for architecture ppc7400):    Mach-O
>>> dynamically linked shared library ppc
>>> 
>>> if your X11 is installed properly.
>>> 
>>> Thanks,
>>> Simon
>>> 
> 
> 


From anca.che at gmail.com  Fri Aug 31 01:25:42 2012
From: anca.che at gmail.com (Anca Chereches)
Date: Thu, 30 Aug 2012 19:25:42 -0400
Subject: [R-SIG-Mac] Cannot load tcl/tk (tcltk package installed)
In-Reply-To: <66C69D50-9F10-474F-B8F2-A7174AC5A6C6@r-project.org>
References: <503FCAF7.6060902@gmail.com>
	<D8F592B4-2E0E-44D7-8074-D009EFC4D826@r-project.org>
	<503FE80E.3090207@gmail.com> <503FEDA2.9010106@gmail.com>
	<66C69D50-9F10-474F-B8F2-A7174AC5A6C6@r-project.org>
Message-ID: <503FF676.2020804@gmail.com>

Great, everything seems to work now! I don't know why the symlink 
wasn't there originally. I remember doing a basic xcode installation a 
couple of years ago and I've never run into trouble until now.

Thank you and sorry for the really basic question!


Best,
Anca


On Thu Aug 30 19:09:55 2012, Simon Urbanek wrote:
>
> On Aug 30, 2012, at 6:48 PM, Anca Chereches wrote:
>
>> Well, d'oh. I only just realized that the error message is saying that tk is looking for x11r6 in /usr and obviously not finding anything. Is this a matter of setting paths or are x11 and x11r6 different things?
>>
>
> You should create a symlink
>
> sudo ln -s X11 /usr/X11R6
>
> However, it's still a bit puzzling why you don't have that symlink, because Apple's X11 does create it...
>
> Cheers,
> Simon
>
>
>
>> Thank you,
>> Anca
>>
>>
>> On Thu Aug 30 18:24:14 2012, Anca Chereches wrote:
>>> rrsdhcp-10-32-137-61:~ acasa$ file /usr/X11R6/lib/libX11.6.dylib
>>> /usr/X11R6/lib/libX11.6.dylib: cannot open
>>> `/usr/X11R6/lib/libX11.6.dylib' (No such file or directory)
>>>
>>> No X11R6 folder, but I do have an X11 folder:
>>>
>>> rrsdhcp-10-32-137-61:~ acasa$ file /usr/X11/lib/libX11.6.dylib
>>> /usr/X11/lib/libX11.6.dylib: Mach-O universal binary with 3 architectures
>>> /usr/X11/lib/libX11.6.dylib (for architecture x86_64):    Mach-O
>>> 64-bit dynamically linked shared library x86_64
>>> /usr/X11/lib/libX11.6.dylib (for architecture i386):    Mach-O
>>> dynamically linked shared library i386
>>> /usr/X11/lib/libX11.6.dylib (for architecture ppc7400):    Mach-O
>>> dynamically linked shared library ppc
>>>
>>>
>>> Thank you,
>>> Anca
>>>
>>>
>>> On Thu Aug 30 17:19:22 2012, Simon Urbanek wrote:
>>>>
>>>> On Aug 30, 2012, at 4:20 PM, Anca Chereches <anca.che at gmail.com> wrote:
>>>>
>>>>> Hello,
>>>>>
>>>>> I'm getting the following error message when trying to load tcltk:
>>>>>
>>>>> "Loading Tcl/Tk interface ... Error : .onLoad failed in
>>>>> loadNamespace() for 'tcltk', details:
>>>>> call: dyn.load(file, DLLpath = DLLpath, ...)
>>>>> error: unable to load shared object
>>>>> '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/tcltk/libs/i386/tcltk.so':
>>>>>
>>>>> dlopen(/Library/Frameworks/R.framework/Versions/2.15/Resources/library/tcltk/libs/i386/tcltk.so,
>>>>> 10): Library not loaded: /usr/X11R6/lib/libX11.6.dylib
>>>>> Referenced from: /usr/local/lib/libtk8.5.dylib
>>>>> Reason: image not found
>>>>> Error: package/namespace load failed for ?tcltk?"
>>>>>
>>>>> I've installed tcltk-8.5.5 from the dmg on cran and as far as I can
>>>>> tell installation was successful. I have tk8.5 and tcl8.5 in
>>>>> /usr/local/lib. X11 is also installed and working.
>>>>>
>>>>> I'm running:
>>>>> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
>>>>> R.app GUI 1.52 (6188) i386-apple-darwin9.8.0
>>>>> On: Mac OS X 10.6.8
>>>>>
>>>>> I don't really know how to go about figuring out the problem. I'd be
>>>>> grateful for any hints or suggestions of help pages and so on. I've
>>>>> googled this, but most problems seem to be related to people not
>>>>> having installed tcltk, which I have.
>>>>>
>>>>
>>>> Please post the output of
>>>>
>>>> file /usr/X11R6/lib/libX11.6.dylib
>>>>
>>>> you should see something like
>>>>
>>>> $ file /usr/X11R6/lib/libX11.6.dylib
>>>> /usr/X11R6/lib/libX11.6.dylib: Mach-O universal binary with 3
>>>> architectures
>>>> /usr/X11R6/lib/libX11.6.dylib (for architecture x86_64):    Mach-O
>>>> 64-bit dynamically linked shared library x86_64
>>>> /usr/X11R6/lib/libX11.6.dylib (for architecture i386):    Mach-O
>>>> dynamically linked shared library i386
>>>> /usr/X11R6/lib/libX11.6.dylib (for architecture ppc7400):    Mach-O
>>>> dynamically linked shared library ppc
>>>>
>>>> if your X11 is installed properly.
>>>>
>>>> Thanks,
>>>> Simon
>>>>
>>
>>
>


From jmw86069 at gmail.com  Fri Aug 31 07:03:49 2012
From: jmw86069 at gmail.com (James Ward)
Date: Fri, 31 Aug 2012 01:03:49 -0400
Subject: [R-SIG-Mac] R-SIG-Mac Digest, Vol 114, Issue 19
In-Reply-To: <mailman.16.1346320807.29569.r-sig-mac@r-project.org>
References: <mailman.16.1346320807.29569.r-sig-mac@r-project.org>
Message-ID: <CAFqyLrtmn7PdQjo=e=bLLnXbWTmpGtJZ3rQ1TBAa4uogxX+KZQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120831/676a429b/attachment.pl>

From paul at askerko.net  Fri Aug 31 18:12:36 2012
From: paul at askerko.net (Paul Johnson)
Date: Fri, 31 Aug 2012 11:12:36 -0500
Subject: [R-SIG-Mac] (1) Just ignore warning messages? and (2) Using
 graphics output from R in a Cocoa program
Message-ID: <CAPUB6NA2LA8RM8Ac3qw=GKZPsF0RkAYPhjQVVCW+KcQL0hFdhw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120831/38c6796c/attachment.pl>

From ydhiman at gmail.com  Tue Aug 21 10:27:32 2012
From: ydhiman at gmail.com (Yogesh Dhiman)
Date: Tue, 21 Aug 2012 13:57:32 +0530
Subject: [R-SIG-Mac] Problem in importing xlsx files
Message-ID: <CA+3eCc8rBJeq=D7yrVyrwdL2sj6vO3VU313AVEJOephG3teJbg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120821/b3778ff9/attachment.pl>

From anca.che at gmail.com  Wed Aug 22 21:42:59 2012
From: anca.che at gmail.com (Anca Chereches)
Date: Wed, 22 Aug 2012 15:42:59 -0400
Subject: [R-SIG-Mac] Cannot load tcl/tk ( tcltk package installed)
Message-ID: <50353643.6000706@gmail.com>

Hello,

I'm getting the following error message when trying to load tcltk:

"Loading Tcl/Tk interface ... Error : .onLoad failed in loadNamespace() 
for 'tcltk', details:
call: dyn.load(file, DLLpath = DLLpath, ...)
error: unable to load shared object 
'/Library/Frameworks/R.framework/Versions/2.15/Resources/library/tcltk/libs/i386/tcltk.so':
dlopen(/Library/Frameworks/R.framework/Versions/2.15/Resources/library/tcltk/libs/i386/tcltk.so, 
10): Library not loaded: /usr/X11R6/lib/libX11.6.dylib
Referenced from: /usr/local/lib/libtk8.5.dylib
Reason: image not found
Error: package/namespace load failed for ?tcltk?"

I've installed tcltk-8.5.5 from the dmg on cran and as far as I can tell 
installation was successful. I have tk8.5 and tcl8.5 in /usr/local/lib. 
X11 is also installed and working.

I'm running:
R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
R.app GUI 1.52 (6188) i386-apple-darwin9.8.0
On: Mac OS X 10.6.8

I don't really know how to go about figuring out the problem. I'd be 
grateful for any hints or suggestions of help pages and so on. I've 
googled this, but most problems seem to be related to people not having 
installed tcltk, which I have.

Thank you!

Anca


From goedman at mac.com  Sat Aug 25 22:18:29 2012
From: goedman at mac.com (Rob Goedman)
Date: Sat, 25 Aug 2012 13:18:29 -0700
Subject: [R-SIG-Mac] R console
In-Reply-To: <CAG1BFcTLQhmL115vnzRdj13pe3g5RSymqu-z-Q71K_bgyO2=sw@mail.gmail.com>
References: <CAG1BFcSHtAspohBWyAyv0DmjB15cuvyy3Bvmg_tRoVcZp2LNJw@mail.gmail.com>
	<E337420E-8FF6-49F5-B575-31D4C93E2072@gmail.com>
	<07AD8715-E8D3-4B33-90E8-5255BE3919CD@me.com>
	<ED69E15E-9796-4697-BE52-C7FA5BEEC021@r-project.org>
	<CAG1BFcTLQhmL115vnzRdj13pe3g5RSymqu-z-Q71K_bgyO2=sw@mail.gmail.com>
Message-ID: <8D35BD4C-4432-4F05-A1B6-66876F336B88@mac.com>

Hi Weiwei,

After following your (Weiwei Shi's) steps exactly, I can reproduce the problem on Mountain Lion 10.8.1 with R-2.16.

It's kind of annoying that I've not been able to ever again get anything else as below exception (the 4 dreaded questions).

Also attached a core dump.

I removed any history and .RData files, tried resetting it by moving the preferences out of the way. XQuartz 2.7.2. is happily running. Same with R.app GUI version 6240 (after fixing a small typo in  the latest commit:  i -> index).

Regards,
Rob

Rob J. Goedman
goedman at mac.com








On Aug 24, 2012, at 7:51 AM, Weiwei Shi <helprhelp at gmail.com> wrote:

> Hi,
> 
> I am using OS X 10.8 and have XQuartz installed. I can still reproduce the
> errors. Do you think R for mac will correct that problem?
> 
> To make the problem clear again, if you click the "startup" under the top
> bar (below the "General"), the problem comes out; while if you directly
> click on Startup on the bar menu, it is fine.
> 
> 
> Thanks,
> 
> Weiwei
> 
> 
> On Fri, Aug 24, 2012 at 10:27 AM, Simon Urbanek <Simon.Urbanek at r-project.org
>> wrote:
> 
>> On Aug 24, 2012, at 8:42 AM, Marc Schwartz <marc_schwartz at me.com> wrote:
>> 
>>> 
>>> On Aug 24, 2012, at 7:03 AM, Noia Raindrops <noia.raindrops at gmail.com>
>> wrote:
>>> 
>>>> Hello,
>>>> 
>>>> I thing you need to install X11.app.
>>>> see: http://support.apple.com/kb/HT5293
>>> 
>>> 
>>> Strictly speaking, that is only needed on Mountain Lion, as prior
>> versions of OSX include X11 on the installation DVD/DMG.
>>> 
>>> I don't use the R OSX GUI, but Emacs/ESS. That being said, I can
>> replicate the problem on Mountain Lion (10.8.1) with XQuartz installed.
>>> 
>>> If Weiwei is using ML, then he should install the above, however note
>> that the name of the app is now XQuartz.app and not X11.app. So even if
>> installed, the GUI icon selection will still fail.
>>> 
>>> If  Weiwei is not using ML, then X11 is available on the installation
>> DVD on pre-Lion versions of OSX, or if on Lion (10.7) it is available from
>> the 'Packages' folder on the install DMG.
>>> 
>>> I am adding John Fox as a cc: to this e-mail as in the course of
>> searching, I noted the R Commander installation instructions (
>> http://socserv.mcmaster.ca/jfox/Misc/Rcmdr/installation-notes.html),
>> which includes mention of X11.app, but not XQuartz.app for Mountain Lion.
>> So that page and related documentation will need to be updated.
>>> 
>> 
>> ... and just to be explicit - there is no X11 on OS X 10.8 anymore. Apple
>> has removed it from the OS and no longer supports it.
>> 
>> One X11 build is available as 3rd party download from
>> http://xquartz.macosforge.org but it is no longer Apple's X11 as included
>> in previous OS X versions. The current R GUI release only supports Apple's
>> X11 (i.e., the autostart etc.; you can still use X11 R packages with any
>> X11 implementation).
>> 
> 
> 
> 
> -- 
> Weiwei Shi, Ph.D
> Research Scientist
> 
> 
> "Did you always know?"
> "No, I did not. But I believed..."
> ---Matrix III
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120825/4ededfe7/attachment-0003.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screen Shot 2012-08-25 at 12.54.32 PM.png
Type: image/png
Size: 196085 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120825/4ededfe7/attachment-0001.png>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120825/4ededfe7/attachment-0004.html>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: R64.dump.txt
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120825/4ededfe7/attachment-0001.txt>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120825/4ededfe7/attachment-0005.html>

From kw1958 at gmail.com  Thu Aug 30 14:06:28 2012
From: kw1958 at gmail.com (Keith Weintraub)
Date: Thu, 30 Aug 2012 08:06:28 -0400
Subject: [R-SIG-Mac] mach_override.c
Message-ID: <2897C7E8-84E2-426A-A260-38A21E5B5393@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120830/6d7b6dea/attachment.pl>

