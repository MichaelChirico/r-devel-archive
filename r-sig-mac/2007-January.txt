From stefano.iacus at unimi.it  Mon Jan  1 07:04:04 2007
From: stefano.iacus at unimi.it (stefano iacus)
Date: Mon, 01 Jan 2007 15:04:04 +0900
Subject: [R-SIG-Mac] R for Mac segfault
In-Reply-To: <AD69FE96-E64F-4725-B518-221F68F21A29@remoteinformation.com.au>
References: <AD69FE96-E64F-4725-B518-221F68F21A29@remoteinformation.com.au>
Message-ID: <AB339648-7659-4B0B-A7F9-64F2E5631299@unimi.it>

Im' forwarding to r-sig-mac.
Any reproducible example? R version, etc?
stefano

On 30/dic/06, at 20:30, Ben Madin wrote:

> Buona sera Stefano,
>
> I have just received the following message in the R.app :
>
> *** caught segfault ***
> address 0x81b0e05f, cause 'memory not mapped'
>
> Possible actions:
> 1: abort (with core dump)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
> 2006-12-30 20:20:14.817 R[522] -[NSBigMutableString  
> characterAtIndex:] called with out-of-bounds index. For apps linked  
> on Tiger this will raise an exception. For earlier apps it will  
> produce this one-time warning and continue with existing behavior  
> (which is undefined).
> 2006-12-30 20:20:14.853 R[522] Exception raised during posting of  
> notification.  Ignored.  exception: *** -[NSBigMutableString  
> characterAtIndex:]: Range or index out of bounds
> >
> Selection:
>
> I'm afraid I don't speak Cocoa, so I have no idea what it means!
>
> I'm not sure what caused it, I was switching back to R from Safari  
> when it occurred - actually, I had just selected two characters in  
> the file editor, and tried to overtype them (ie turn RR into rr)
>
> cheers & happy new year
>
> Ben
>
>
>
> -- 
>
> Ben Madin
> REMOTE INFORMATION
>
> t : +61 8 9192 5455
> f : +61 8 9192 5535
> m : 0448 887 220
> Broome   WA   6725
>
> ben at remoteinformation.com.au
>
>
>
>
>
> 					Out here, it pays to know...
>
>
>
>
>
>
>
>
>


From webmaster at xen.net  Thu Jan  4 00:17:18 2007
From: webmaster at xen.net (Ricardo =?ISO-8859-1?Q?Rodr=EDguez=20-=20Your=20XEN=20ICT=20Team?=)
Date: Thu, 4 Jan 2007 00:17:18 +0100
Subject: [R-SIG-Mac] about reshape 0.7.1 release
Message-ID: <20070104T001718Z_C5AC00020000@xen.net>

Simon, colleagues,
 
I've installed Hadley Wickham's reshape 0.7.1 package in a Windows XP box from http://cran.es.r-project.org/bin/windows/contrib/2.4/reshape_0.7.1.zip.

WindowsXP installation version 
platform       i386-pc-mingw32             
arch           i386                        
os             mingw32                     
system         i386, mingw32               
status                                     
major          2                           
minor          4.0                         
year           2006                        
month          10                          
day            03                          
svn rev        39566                       
language       R                           
version.string R version 2.4.0 (2006-10-03)
 
Then, I've installed it in a OS X 10.4.8 MacBook from http://cran.r-project.org/bin/macosx/i386/contrib/2.3/reshape_0.7.tgz and http://r.research.att.com/bin/macosx/i386/contrib/2.3/reshape_0.7.tgz

Mac OS X installation version
platform       i386-apple-darwin8.6.1    
arch           i386                      
os             darwin8.6.1               
system         i386, darwin8.6.1         
status                                   
major          2                         
minor          3.1                       
year           2006                      
month          06                        
day            01                        
svn rev        38247                     
language       R                         
version.string Version 2.3.1 (2006-06-01)

Windows XP release reports reshape 0.7.1, but Mac OS X report 0.7. It seems both versions are a bit different. I've detected at least one diference: Mac OS X reshape cast function has not fill argument available.

Please, is there anything wrong with the Mac OS X release?

Thank you for your help,

Ricardo 

--
Ricardo Rodr?guez
Your XEN ICT Team


From webmaster at xen.net  Thu Jan  4 00:34:07 2007
From: webmaster at xen.net (Ricardo =?ISO-8859-1?Q?Rodr=EDguez=20-=20Your=20XEN=20ICT=20Team?=)
Date: Thu, 4 Jan 2007 00:34:07 +0100
Subject: [R-SIG-Mac] about reshape 0.7.1 release
References: d57ca552011523cd1eacade10a68c7c5
Message-ID: <20070104T003407Z_C5AC00020000@xen.net>

Just my two cents to a possible answer...

http://cran.es.r-project.org/bin/macosx/universal/contrib/2.4/reshape_0.7.1.tgz

By browsing the directory contents, I've realised that 2.4 holds a 0.7.1 release. Is it correct that 2.3 holds a 0.7 one? Sorry for not seeing that before. I'm right now updating my Mac OS X installation. Thanks.

Cheers,

Ricardo

--
Ricardo Rodr?guez
Your XEN ICT Team

>>> Ricardo Rodr?guez - Your XEN ICT Team<webmaster at xen.net> 4/1/2007 00:17 >>>

Simon, colleagues,

I've installed Hadley Wickham's reshape 0.7.1 package in a Windows XP box from http://cran.es.r-project.org/bin/windows/contrib/2.4/reshape_0.7.1.zip.

WindowsXP installation version 
platform       i386-pc-mingw32             
arch           i386                        
os             mingw32                     
system         i386, mingw32               
status                                     
major          2                           
minor          4.0                         
year           2006                        
month          10                          
day            03                          
svn rev        39566                       
language       R                           
version.string R version 2.4.0 (2006-10-03)

Then, I've installed it in a OS X 10.4.8 MacBook from http://cran.r-project.org/bin/macosx/i386/contrib/2.3/reshape_0.7.tgz and http://r.research.att.com/bin/macosx/i386/contrib/2.3/reshape_0.7.tgz

Mac OS X installation version
platform       i386-apple-darwin8.6.1    
arch           i386                      
os             darwin8.6.1               
system         i386, darwin8.6.1         
status                                   
major          2                         
minor          3.1                       
year           2006                      
month          06                        
day            01                        
svn rev        38247                     
language       R                         
version.string Version 2.3.1 (2006-06-01)

Windows XP release reports reshape 0.7.1, but Mac OS X report 0.7. It seems both versions are a bit different. I've detected at least one diference: Mac OS X reshape cast function has not fill argument available.

Please, is there anything wrong with the Mac OS X release?

Thank you for your help,

Ricardo 

--
Ricardo Rodr?guez
Your XEN ICT Team

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at stat.math.ethz.ch
https://stat.ethz.ch/mailman/listinfo/r-sig-mac
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070104/d5c5aa4e/attachment.html 

From hpages at fhcrc.org  Thu Jan  4 05:31:12 2007
From: hpages at fhcrc.org (Herve Pages)
Date: Wed, 03 Jan 2007 20:31:12 -0800
Subject: [R-SIG-Mac] Pb with gcc 4.0.3 (from R-2.4.1.dmg) and last Xcode
Message-ID: <459C8310.7080105@fhcrc.org>

Hi,


I recently updated Xcode to the last available version (2.4.1) on our
Intel Mac Mini (Mac OS 10.4.8).
Now when I compile a C program with gcc 4.0.3 provided with R-2.4.1.dmg,
the output I get contains several lines like this:

  /var/tmp//ccUlRH08.s:2232:indirect jmp without `*'

For example, the "hello world" program produces 1 line like this but
there can be dozens of them even for a small (< 1000 lines) program.

It looks like 'as' is complaining about the output produced by
gcc 4.0.3. Could this affect the stability of the resulting
executable? How can this be fixed? Thanks!

System: Intel Mac Mini with Mac OS 10.4.8
Xcode: 2.4.1 (or 2.4.0)
gcc: 4.0.3 provided with R-2.4.1.dmg

How to reproduce: try to compile

  #include <stdio.h>
  main() {printf("hello world\n");}

No problem when compiling with /usr/bin/gcc (Apple gcc, version 4.0.1).

Cheers and Happy New Year!

H.


PS: This problem affects many Bioconductor packages.


From ellis at stat.harvard.edu  Thu Jan  4 05:36:09 2007
From: ellis at stat.harvard.edu (Byron Ellis)
Date: Wed, 3 Jan 2007 20:36:09 -0800
Subject: [R-SIG-Mac] Pb with gcc 4.0.3 (from R-2.4.1.dmg) and last Xcode
In-Reply-To: <459C8310.7080105@fhcrc.org>
References: <459C8310.7080105@fhcrc.org>
Message-ID: <7098abec0701032036t50bba8b6k410f3f088dbbc197@mail.gmail.com>

Yeah, it's really annoying isn't it? It affects basically all packages
with C code, but it doesn't seem to be harmful.

On 1/3/07, Herve Pages <hpages at fhcrc.org> wrote:
> Hi,
>
>
> I recently updated Xcode to the last available version (2.4.1) on our
> Intel Mac Mini (Mac OS 10.4.8).
> Now when I compile a C program with gcc 4.0.3 provided with R-2.4.1.dmg,
> the output I get contains several lines like this:
>
>   /var/tmp//ccUlRH08.s:2232:indirect jmp without `*'
>
> For example, the "hello world" program produces 1 line like this but
> there can be dozens of them even for a small (< 1000 lines) program.
>
> It looks like 'as' is complaining about the output produced by
> gcc 4.0.3. Could this affect the stability of the resulting
> executable? How can this be fixed? Thanks!
>
> System: Intel Mac Mini with Mac OS 10.4.8
> Xcode: 2.4.1 (or 2.4.0)
> gcc: 4.0.3 provided with R-2.4.1.dmg
>
> How to reproduce: try to compile
>
>   #include <stdio.h>
>   main() {printf("hello world\n");}
>
> No problem when compiling with /usr/bin/gcc (Apple gcc, version 4.0.1).
>
> Cheers and Happy New Year!
>
> H.
>
>
> PS: This problem affects many Bioconductor packages.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Byron Ellis (byron.ellis at gmail.com)
"Oook" -- The Librarian


From hpages at fhcrc.org  Thu Jan  4 06:35:27 2007
From: hpages at fhcrc.org (Herve Pages)
Date: Wed, 03 Jan 2007 21:35:27 -0800
Subject: [R-SIG-Mac] Pb with gcc 4.0.3 (from R-2.4.1.dmg) and last Xcode
In-Reply-To: <7098abec0701032036t50bba8b6k410f3f088dbbc197@mail.gmail.com>
References: <459C8310.7080105@fhcrc.org>
	<7098abec0701032036t50bba8b6k410f3f088dbbc197@mail.gmail.com>
Message-ID: <459C921F.9090808@fhcrc.org>

Hi Byron,

Yes it's annoying. Hope it is not harmful as you say.
Thanks!

H.


Byron Ellis wrote:
> Yeah, it's really annoying isn't it? It affects basically all packages
> with C code, but it doesn't seem to be harmful.
> 
> On 1/3/07, Herve Pages <hpages at fhcrc.org> wrote:
>> Hi,
>>
>>
>> I recently updated Xcode to the last available version (2.4.1) on our
>> Intel Mac Mini (Mac OS 10.4.8).
>> Now when I compile a C program with gcc 4.0.3 provided with R-2.4.1.dmg,
>> the output I get contains several lines like this:
>>
>>   /var/tmp//ccUlRH08.s:2232:indirect jmp without `*'
>>
>> For example, the "hello world" program produces 1 line like this but
>> there can be dozens of them even for a small (< 1000 lines) program.
>>
>> It looks like 'as' is complaining about the output produced by
>> gcc 4.0.3. Could this affect the stability of the resulting
>> executable? How can this be fixed? Thanks!
>>
>> System: Intel Mac Mini with Mac OS 10.4.8
>> Xcode: 2.4.1 (or 2.4.0)
>> gcc: 4.0.3 provided with R-2.4.1.dmg
>>
>> How to reproduce: try to compile
>>
>>   #include <stdio.h>
>>   main() {printf("hello world\n");}
>>
>> No problem when compiling with /usr/bin/gcc (Apple gcc, version 4.0.1).
>>
>> Cheers and Happy New Year!
>>
>> H.
>>
>>
>> PS: This problem affects many Bioconductor packages.
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
> 
>


From hpages at fhcrc.org  Thu Jan  4 19:48:55 2007
From: hpages at fhcrc.org (Herve Pages)
Date: Thu, 04 Jan 2007 10:48:55 -0800
Subject: [R-SIG-Mac] Bad references in shared objects from graphviz-2.8.dmg
Message-ID: <459D4C17.60701@fhcrc.org>

Hi list,

After installing graphviz-2.8.dmg (from http://r.research.att.com/) I found that
most of the .dylib objects in /usr/local/lib/graphviz/ were not loadable because
they are linked to /usr/local/lib/graphviz/libgcc_s.1.0.dylib and this file doesn't
exist:

  derby:/usr/local/lib/graphviz biocbuild$ otool -L libgvc.dylib | grep gcc
          /usr/local/lib/graphviz/libgcc_s.1.0.dylib (...)

Of course I can fix this by creating the symlink to /usr/local/gcc4.0/lib/libgcc_s.1.0.dylib
but I wanted to report the problem anyway because other users might run into the same problem.
Maybe a note could be added on http://r.research.att.com/, or the symlink added in the
graphviz-2.8.dmg image itself, or the .dylib objects fixed so they point to the right
location of libgcc_s.1.0.dylib?

Thanks,

H.


From simon.urbanek at r-project.org  Fri Jan  5 15:35:02 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 5 Jan 2007 09:35:02 -0500
Subject: [R-SIG-Mac] about reshape 0.7.1 release
In-Reply-To: <20070104T001718Z_C5AC00020000@xen.net>
References: <20070104T001718Z_C5AC00020000@xen.net>
Message-ID: <147A0C56-AD4A-4B03-8CF5-FD77F3191C8B@r-project.org>


On Jan 3, 2007, at 6:17 PM, Ricardo Rodr?guez - Your XEN ICT Team wrote:

> Simon, colleagues,
>
> I've installed Hadley Wickham's reshape 0.7.1 package in a Windows  
> XP box from http://cran.es.r-project.org/bin/windows/contrib/2.4/ 
> reshape_0.7.1.zip.
>
> WindowsXP installation version
> platform       i386-pc-mingw32
> arch           i386
> os             mingw32
> system         i386, mingw32
> status
> major          2
> minor          4.0
> year           2006
> month          10
> day            03
> svn rev        39566
> language       R
> version.string R version 2.4.0 (2006-10-03)
>
> Then, I've installed it in a OS X 10.4.8 MacBook from http://cran.r- 
> project.org/bin/macosx/i386/contrib/2.3/reshape_0.7.tgz and http:// 
> r.research.att.com/bin/macosx/i386/contrib/2.3/reshape_0.7.tgz
>
> Mac OS X installation version
> platform       i386-apple-darwin8.6.1
> arch           i386
> os             darwin8.6.1
> system         i386, darwin8.6.1
> status
> major          2
> minor          3.1
> year           2006
> month          06
> day            01
> svn rev        38247
> language       R
> version.string Version 2.3.1 (2006-06-01)
>
> Windows XP release reports reshape 0.7.1, but Mac OS X report 0.7.  
> It seems both versions are a bit different. I've detected at least  
> one diference: Mac OS X reshape cast function has not fill argument  
> available.
>
> Please, is there anything wrong with the Mac OS X release?
>

No, you are using an old R version for which binary packages are no  
longer created. Binary packages are maintained only for the latest  
release.

Cheers,
Simon


From simon.urbanek at r-project.org  Fri Jan  5 15:39:55 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 5 Jan 2007 09:39:55 -0500
Subject: [R-SIG-Mac] Pb with gcc 4.0.3 (from R-2.4.1.dmg) and last Xcode
In-Reply-To: <459C8310.7080105@fhcrc.org>
References: <459C8310.7080105@fhcrc.org>
Message-ID: <78195A98-058A-441D-B11F-4C277136B105@r-project.org>

Herve,

On Jan 3, 2007, at 11:31 PM, Herve Pages wrote:

> I recently updated Xcode to the last available version (2.4.1) on  
> our Intel Mac Mini (Mac OS 10.4.8).
> Now when I compile a C program with gcc 4.0.3 provided with  
> R-2.4.1.dmg,
> the output I get contains several lines like this:
>
>   /var/tmp//ccUlRH08.s:2232:indirect jmp without `*'
>

This is harmless, merely a warning and stems from the fact that Apple  
changed the behavior of the assembler on Intel Macs (for better - it  
is now more compatible with other assemblers - but consequently  
incompatible with its previous behavior).

Although the most recent Xcode fixed the fatal bugs that forced us to  
use our own compiler, we can't switch to Apple's gcc until R 2.5.0  
due to binary incompatibility between the two (see R for Mac FAQ). If  
you build you own R, feel free to use Xcode's gcc.

Cheers,
Simon


From hpages at fhcrc.org  Fri Jan  5 20:48:48 2007
From: hpages at fhcrc.org (Herve Pages)
Date: Fri, 05 Jan 2007 11:48:48 -0800
Subject: [R-SIG-Mac] Pb with gcc 4.0.3 (from R-2.4.1.dmg) and last Xcode
In-Reply-To: <78195A98-058A-441D-B11F-4C277136B105@r-project.org>
References: <459C8310.7080105@fhcrc.org>
	<78195A98-058A-441D-B11F-4C277136B105@r-project.org>
Message-ID: <459EABA0.9050109@fhcrc.org>

Hi Simon,

Simon Urbanek wrote:
> Herve,
> 
> On Jan 3, 2007, at 11:31 PM, Herve Pages wrote:
> 
>> I recently updated Xcode to the last available version (2.4.1) on our
>> Intel Mac Mini (Mac OS 10.4.8).
>> Now when I compile a C program with gcc 4.0.3 provided with R-2.4.1.dmg,
>> the output I get contains several lines like this:
>>
>>   /var/tmp//ccUlRH08.s:2232:indirect jmp without `*'
>>
> 
> This is harmless, merely a warning and stems from the fact that Apple
> changed the behavior of the assembler on Intel Macs (for better - it is
> now more compatible with other assemblers - but consequently
> incompatible with its previous behavior).

Thanks for the details!

> Although the most recent Xcode fixed the fatal bugs that forced us to
> use our own compiler, we can't switch to Apple's gcc until R 2.5.0 due
> to binary incompatibility between the two (see R for Mac FAQ). If you
> build you own R, feel free to use Xcode's gcc.

That's good to know but no thanks :-) I like being able to update my R devel
in less than 1 min. by downloading the last universal build from
http://r.research.att.com/ (thanks a lot for providing this).
Also, I like being able to use the other universal stuff provided
there (like graphviz-2.8.dmg and glibgtk-bin-1.2.10-univ.tar.gz)
that would then become incompatible with my home made R (compiled
with Xcode's gcc). Is that correct?

Besides, Apple still does not provide a Fortran compiler, do they?

Cheers,
H.

> 
> Cheers,
> Simon
> 
> 
> 
>


From murdoch at stats.uwo.ca  Sun Jan  7 01:55:03 2007
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Sat, 06 Jan 2007 19:55:03 -0500
Subject: [R-SIG-Mac] rgl revisions to allow dual install
In-Reply-To: <3D3B15DC-B76B-4693-ABEE-0F8AEC48D77F@r-project.org>
References: <20061211011940.17CBC77AA@lists.neoscientists.net>
	<457CB3E9.7010009@stats.uwo.ca>
	<9A17B884-9309-4192-870A-7471983B7671@unimi.it>
	<457D45E2.4090704@stats.uwo.ca>
	<4A0CA8CD-92D6-493D-9501-0581B7E48B38@unimi.it>
	<3D3B15DC-B76B-4693-ABEE-0F8AEC48D77F@r-project.org>
Message-ID: <45A044E7.9000909@stats.uwo.ca>

I've finally bundled these up (with some other fixes) and uploaded to 
CRAN.  So from version 0.70 onwards, rgl should run equally well on X11 
or in the R.app on the Mac.

Duncan Murdoch


From sam_hunting2004 at yahoo.com  Mon Jan  8 19:10:17 2007
From: sam_hunting2004 at yahoo.com (Sam Hunting)
Date: Mon, 8 Jan 2007 10:10:17 -0800 (PST)
Subject: [R-SIG-Mac] [plr for postgressql] make throws "*** Cannot build
	PL/R because libR is not a shared library" error
Message-ID: <994057.1454.qm@web50006.mail.yahoo.com>

Configuring R-2.4.1 for postgresql-8.2.0 on Mac OS X:

sh-2.05b#sudo gcc_select 3.3

...

sh-2.05b# ./configure --enable-R-shlib

Results of configure:

  R is now configured for powerpc-apple-darwin8.8.0

  Source directory:          .
  Installation directory:    /Library/Frameworks

  C compiler:                gcc -std=gnu99  -g -O2
  Fortran 77 compiler:       g77  -g -O2

  C++ compiler:              g++  -g -O2
  Fortran 90/95 compiler:    g77 -g -O2

  Interfaces supported:      X11, aqua, tcltk
  External libraries:        readline
  Additional capabilities:   iconv, MBCS, NLS
  Options enabled:           framework, shared BLAS, R
profiling

  Recommended packages:      yes

Then make and install run to completion.

However, when I go to make plr as the postgres user,
this happens:

    eve:/usr/local/src/postgresql-8.2.0/contrib/plr   

    postgres$ make

   *** Cannot build PL/R because libR is not a shared
library.
   *** You might have to rebuild your R installation. 
Refer to
*** the documentation for details.

I thought that "--enable-R-shlib" was supposed to
handle the shared library error? Any suggestions?
Thanks in advance for any help you can give.]

[I've cross-posted this to the plr list; hope that's OK.]


From simon.urbanek at r-project.org  Mon Jan  8 20:39:05 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 8 Jan 2007 14:39:05 -0500
Subject: [R-SIG-Mac] [plr for postgressql] make throws "*** Cannot build
	PL/R because libR is not a shared library" error
In-Reply-To: <994057.1454.qm@web50006.mail.yahoo.com>
References: <994057.1454.qm@web50006.mail.yahoo.com>
Message-ID: <40EA3F42-DEDD-4CCD-BB16-9A2526876183@r-project.org>

Sam,

just for the record, are you sure you want to re-compile R yourself?  
It is not necessary, so I'm just asking ...

On Jan 8, 2007, at 1:10 PM, Sam Hunting wrote:

> Configuring R-2.4.1 for postgresql-8.2.0 on Mac OS X:
>
> sh-2.05b#sudo gcc_select 3.3
>
> ...
>
> sh-2.05b# ./configure --enable-R-shlib
>
> Results of configure:
>
>   R is now configured for powerpc-apple-darwin8.8.0
>
>   Source directory:          .
>   Installation directory:    /Library/Frameworks
>
>   C compiler:                gcc -std=gnu99  -g -O2
>   Fortran 77 compiler:       g77  -g -O2
>
>   C++ compiler:              g++  -g -O2
>   Fortran 90/95 compiler:    g77 -g -O2
>
>   Interfaces supported:      X11, aqua, tcltk
>   External libraries:        readline
>   Additional capabilities:   iconv, MBCS, NLS
>   Options enabled:           framework, shared BLAS, R
> profiling
>
>   Recommended packages:      yes
>
> Then make and install run to completion.
>
> However, when I go to make plr as the postgres user,
> this happens:
>
>     eve:/usr/local/src/postgresql-8.2.0/contrib/plr
>
>     postgres$ make
>
>    *** Cannot build PL/R because libR is not a shared
> library.
>    *** You might have to rebuild your R installation.
> Refer to
> *** the documentation for details.
>
> I thought that "--enable-R-shlib" was supposed to
> handle the shared library error? Any suggestions?
> Thanks in advance for any help you can give.]
>

Pretty much all builds of R for Mac (including the CRAN binary  
version) come with libR.dylib, so that is not really the problem. I'm  
not a pgsql user, so the following is only based on a quick look at R/ 
PL sources. Firstly, you'll need to run something like "R CMD make",  
because the R/PL documentation fails to tell you that it requires you  
to set the environment variables correctly.

Secondly, AFAICs there is a bug in R/PL, because it is not using the  
correct paths in its Makefile. A proper way would be to get the flags  
via R CMD config (as most other packages do), but it's using fixed  
paths are are incorrect for multi-arch R builds (the CRAN build  
creates fat libraries, so it will still work, but other builds may  
fail). If the above trick doesn't work, I suspect that you will have  
to hack the Makefile manually to fix all this. I would suggest you to  
contact the maintainer of R/PL and ask them to use R CMD config for  
linking R which will vastly simplify their Makefile.

Cheers,
Simon


From sam_hunting2004 at yahoo.com  Tue Jan  9 19:09:21 2007
From: sam_hunting2004 at yahoo.com (Sam Hunting)
Date: Tue, 9 Jan 2007 10:09:21 -0800 (PST)
Subject: [R-SIG-Mac] [plr for postgressql] make throws "*** Cannot build
	PL/R because libR is not a shared library"
In-Reply-To: <mailman.23.1168340408.30591.r-sig-mac@stat.math.ethz.ch>
Message-ID: <977735.1086.qm@web50001.mail.yahoo.com>


> Message: 2
> Date: Mon, 8 Jan 2007 14:39:05 -0500
> From: Simon Urbanek <simon.urbanek at r-project.org>
> Subject: Re: [R-SIG-Mac] [plr for postgressql] make
> throws "*** Cannot
> 	build	PL/R because libR is not a shared library"
> error
> To: Sam Hunting <sam_hunting2004 at yahoo.com>
> Cc: r-sig-mac at stat.math.ethz.ch
> Message-ID:
> <40EA3F42-DEDD-4CCD-BB16-9A2526876183 at r-project.org>
> Content-Type: text/plain; charset=US-ASCII;
> delsp=yes; format=flowed
> 
> Sam,
> 
> just for the record, are you sure you want to
> re-compile R yourself?  
> It is not necessary, so I'm just asking ...

I like to, especially when I'm installing a lot of
packages, some of which do not use DMGs. Anyhow, with
the help of Joe Conway and others, I solved the
problem, and here is the summary:

When installing plr 8.2.0.1 into
postgresql-8.2.0 on OS X 10.4, if you get the "Cannot
build PL/R because libR is not a shared library"
error:

1. Make sure that $R_HOME is set correctly. Mine is
now set to:

/Library/Frameworks/R.framework/Resources

and as a result make can find the lib files it's
looking for.

2. Make sure that the same version of gcc used to
compile postgresql is used to compile plr. I used gcc
4.0 for both. (Since the default for OS X is 3.3, I'm
guessing that the postgresql configure file makes its
own selection.)

a. The default gcc version can be discovered and
changed on OS X with gcc_select

b. The version of gcc used to compile postgresql can
be discovered within the psql shell:

postgres=# select version();

with a result that looks like:

PostgreSQL 8.2.0 on powerpc-apple-darwin8.8.0,
compiled by GCC powerpc-apple-darwin8-gcc-4.0.0 (GCC)
4.0.0 20041026 (Apple Computer, Inc. build 4061


From knussear at usgs.gov  Tue Jan  9 19:20:57 2007
From: knussear at usgs.gov (Ken Nussear)
Date: Tue, 9 Jan 2007 10:20:57 -0800
Subject: [R-SIG-Mac] problems installing packages since upgrade to 2.4.1
Message-ID: <8604751D-967D-4693-BF6B-3D85F188643C@usgs.gov>

I upgraded R to 2.4.1 yesterday and I'm having problems reinstalling  
some packages I had installed before and that I need for some modeling.

I've tried rgl and fBasics and I get similar error messages (see below).

Has anyone had luck with this?

Thanks

Ken

trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/contrib/ 
2.4/rgl_0.68.tgz'
Content type 'application/x-gzip' length 1649254 bytes
opened URL
==================================================
downloaded 1610Kb

Error in sprintf(gettext(fmt, domain = domain), ...) :
	argument is missing, with no default
tar: Skipping to next header
tar: Archive contains obsolescent base-64 headers
tar: A lone zero block at 1730

gzip: stdin: invalid compressed data--crc error

gzip: stdin: invalid compressed data--length error
tar: Child returned status 1
tar: Error exit delayed from previous errors

trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/contrib/ 
2.4/fBasics_240.10068.1.tgz'
Content type 'application/x-gzip' length 1412462 bytes
opened URL
==================================================
downloaded 1379Kb

tar: Skipping to next header
tar: Archive contains obsolescent base-64 headers

gzip: stdin: invalid compressed data--crc error

gzip: stdin: invalid compressed data--length error
tar: Read 10235 bytes from /tmp/RtmpyBlfBq/downloaded_packages/ 
fEcofin_240.10067.tgz
tar: Child returned status 1
tar: Error exit delayed from previous errors
Error in sprintf(gettext(fmt, domain = domain), ...) :
	argument is missing, with no default
In addition: Warning message:
installation of package 'rgl' had non-zero exit status in:  
install.packages(c("rgl"), lib = "/Library/Frameworks/R.framework/ 
Resources/library/",


From simon.urbanek at r-project.org  Tue Jan  9 19:34:03 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 9 Jan 2007 13:34:03 -0500
Subject: [R-SIG-Mac] problems installing packages since upgrade to 2.4.1
In-Reply-To: <8604751D-967D-4693-BF6B-3D85F188643C@usgs.gov>
References: <8604751D-967D-4693-BF6B-3D85F188643C@usgs.gov>
Message-ID: <53E511CD-7571-4119-8EA5-E96CAB4928D1@r-project.org>

Ken,

On Jan 9, 2007, at 1:20 PM, Ken Nussear wrote:

> I upgraded R to 2.4.1 yesterday and I'm having problems  
> reinstalling some packages I had installed before and that I need  
> for some modeling.
>
> I've tried rgl and fBasics and I get similar error messages (see  
> below).
>
> Has anyone had luck with this?
>

This looks like a problem with the mirror - did you try another CRAN  
mirror? If in doubt, a good test is to try the master CRAN repository...

Cheers,
Simon


> Thanks
>
> Ken
>
> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/contrib/
> 2.4/rgl_0.68.tgz'
> Content type 'application/x-gzip' length 1649254 bytes
> opened URL
> ==================================================
> downloaded 1610Kb
>
> Error in sprintf(gettext(fmt, domain = domain), ...) :
> 	argument is missing, with no default
> tar: Skipping to next header
> tar: Archive contains obsolescent base-64 headers
> tar: A lone zero block at 1730
>
> gzip: stdin: invalid compressed data--crc error
>
> gzip: stdin: invalid compressed data--length error
> tar: Child returned status 1
> tar: Error exit delayed from previous errors
>
> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/contrib/
> 2.4/fBasics_240.10068.1.tgz'
> Content type 'application/x-gzip' length 1412462 bytes
> opened URL
> ==================================================
> downloaded 1379Kb
>
> tar: Skipping to next header
> tar: Archive contains obsolescent base-64 headers
>
> gzip: stdin: invalid compressed data--crc error
>
> gzip: stdin: invalid compressed data--length error
> tar: Read 10235 bytes from /tmp/RtmpyBlfBq/downloaded_packages/
> fEcofin_240.10067.tgz
> tar: Child returned status 1
> tar: Error exit delayed from previous errors
> Error in sprintf(gettext(fmt, domain = domain), ...) :
> 	argument is missing, with no default
> In addition: Warning message:
> installation of package 'rgl' had non-zero exit status in:
> install.packages(c("rgl"), lib = "/Library/Frameworks/R.framework/
> Resources/library/",
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From murdoch at stats.uwo.ca  Tue Jan  9 19:53:11 2007
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 09 Jan 2007 13:53:11 -0500
Subject: [R-SIG-Mac] problems installing packages since upgrade to 2.4.1
In-Reply-To: <53E511CD-7571-4119-8EA5-E96CAB4928D1@r-project.org>
References: <8604751D-967D-4693-BF6B-3D85F188643C@usgs.gov>
	<53E511CD-7571-4119-8EA5-E96CAB4928D1@r-project.org>
Message-ID: <45A3E497.9060407@stats.uwo.ca>

On 1/9/2007 1:34 PM, Simon Urbanek wrote:
> Ken,
> 
> On Jan 9, 2007, at 1:20 PM, Ken Nussear wrote:
> 
>> I upgraded R to 2.4.1 yesterday and I'm having problems  
>> reinstalling some packages I had installed before and that I need  
>> for some modeling.
>>
>> I've tried rgl and fBasics and I get similar error messages (see  
>> below).
>>
>> Has anyone had luck with this?
>>
> 
> This looks like a problem with the mirror - did you try another CRAN  
> mirror? If in doubt, a good test is to try the master CRAN repository...

The version of rgl is also a couple of releases out of date, but I see 
that's what is currently on CRAN as the MacOSX binary.  The problem is 
that the examples in rgl won't run without an X11 server.

Could you special case rgl, so it gets built?

Duncan Murdoch

> 
> Cheers,
> Simon
> 
> 
>> Thanks
>>
>> Ken
>>
>> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/contrib/
>> 2.4/rgl_0.68.tgz'
>> Content type 'application/x-gzip' length 1649254 bytes
>> opened URL
>> ==================================================
>> downloaded 1610Kb
>>
>> Error in sprintf(gettext(fmt, domain = domain), ...) :
>> 	argument is missing, with no default
>> tar: Skipping to next header
>> tar: Archive contains obsolescent base-64 headers
>> tar: A lone zero block at 1730
>>
>> gzip: stdin: invalid compressed data--crc error
>>
>> gzip: stdin: invalid compressed data--length error
>> tar: Child returned status 1
>> tar: Error exit delayed from previous errors
>>
>> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/contrib/
>> 2.4/fBasics_240.10068.1.tgz'
>> Content type 'application/x-gzip' length 1412462 bytes
>> opened URL
>> ==================================================
>> downloaded 1379Kb
>>
>> tar: Skipping to next header
>> tar: Archive contains obsolescent base-64 headers
>>
>> gzip: stdin: invalid compressed data--crc error
>>
>> gzip: stdin: invalid compressed data--length error
>> tar: Read 10235 bytes from /tmp/RtmpyBlfBq/downloaded_packages/
>> fEcofin_240.10067.tgz
>> tar: Child returned status 1
>> tar: Error exit delayed from previous errors
>> Error in sprintf(gettext(fmt, domain = domain), ...) :
>> 	argument is missing, with no default
>> In addition: Warning message:
>> installation of package 'rgl' had non-zero exit status in:
>> install.packages(c("rgl"), lib = "/Library/Frameworks/R.framework/
>> Resources/library/",
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Tue Jan  9 20:02:38 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 9 Jan 2007 14:02:38 -0500
Subject: [R-SIG-Mac] problems installing packages since upgrade to 2.4.1
In-Reply-To: <45A3E497.9060407@stats.uwo.ca>
References: <8604751D-967D-4693-BF6B-3D85F188643C@usgs.gov>
	<53E511CD-7571-4119-8EA5-E96CAB4928D1@r-project.org>
	<45A3E497.9060407@stats.uwo.ca>
Message-ID: <75782DAC-FAAB-4E3F-9AC2-0791EBF1E560@r-project.org>

Duncan,

On Jan 9, 2007, at 1:53 PM, Duncan Murdoch wrote:

> On 1/9/2007 1:34 PM, Simon Urbanek wrote:
>> Ken,
>> On Jan 9, 2007, at 1:20 PM, Ken Nussear wrote:
>>> I upgraded R to 2.4.1 yesterday and I'm having problems   
>>> reinstalling some packages I had installed before and that I  
>>> need  for some modeling.
>>>
>>> I've tried rgl and fBasics and I get similar error messages (see   
>>> below).
>>>
>>> Has anyone had luck with this?
>>>
>> This looks like a problem with the mirror - did you try another  
>> CRAN  mirror? If in doubt, a good test is to try the master CRAN  
>> repository...
>
> The version of rgl is also a couple of releases out of date, but I  
> see that's what is currently on CRAN as the MacOSX binary.  The  
> problem is that the examples in rgl won't run without an X11 server.
>

current rgl doesn't pass make check, that's why it's not available in  
binary form:
http://www.r-project.org/nosvn/R.check/r-patched-macosx-ix86/ 
rgl-00check.html

Should I put it on fake install?

Cheers,
Simon

> Could you special case rgl, so it gets built?
>
> Duncan Murdoch
>
>> Cheers,
>> Simon
>>> Thanks
>>>
>>> Ken
>>>
>>> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/ 
>>> contrib/
>>> 2.4/rgl_0.68.tgz'
>>> Content type 'application/x-gzip' length 1649254 bytes
>>> opened URL
>>> ==================================================
>>> downloaded 1610Kb
>>>
>>> Error in sprintf(gettext(fmt, domain = domain), ...) :
>>> 	argument is missing, with no default
>>> tar: Skipping to next header
>>> tar: Archive contains obsolescent base-64 headers
>>> tar: A lone zero block at 1730
>>>
>>> gzip: stdin: invalid compressed data--crc error
>>>
>>> gzip: stdin: invalid compressed data--length error
>>> tar: Child returned status 1
>>> tar: Error exit delayed from previous errors
>>>
>>> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/ 
>>> contrib/
>>> 2.4/fBasics_240.10068.1.tgz'
>>> Content type 'application/x-gzip' length 1412462 bytes
>>> opened URL
>>> ==================================================
>>> downloaded 1379Kb
>>>
>>> tar: Skipping to next header
>>> tar: Archive contains obsolescent base-64 headers
>>>
>>> gzip: stdin: invalid compressed data--crc error
>>>
>>> gzip: stdin: invalid compressed data--length error
>>> tar: Read 10235 bytes from /tmp/RtmpyBlfBq/downloaded_packages/
>>> fEcofin_240.10067.tgz
>>> tar: Child returned status 1
>>> tar: Error exit delayed from previous errors
>>> Error in sprintf(gettext(fmt, domain = domain), ...) :
>>> 	argument is missing, with no default
>>> In addition: Warning message:
>>> installation of package 'rgl' had non-zero exit status in:
>>> install.packages(c("rgl"), lib = "/Library/Frameworks/R.framework/
>>> Resources/library/",
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From murdoch at stats.uwo.ca  Tue Jan  9 20:10:59 2007
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 09 Jan 2007 14:10:59 -0500
Subject: [R-SIG-Mac] problems installing packages since upgrade to 2.4.1
In-Reply-To: <75782DAC-FAAB-4E3F-9AC2-0791EBF1E560@r-project.org>
References: <8604751D-967D-4693-BF6B-3D85F188643C@usgs.gov>
	<53E511CD-7571-4119-8EA5-E96CAB4928D1@r-project.org>
	<45A3E497.9060407@stats.uwo.ca>
	<75782DAC-FAAB-4E3F-9AC2-0791EBF1E560@r-project.org>
Message-ID: <45A3E8C3.60604@stats.uwo.ca>

On 1/9/2007 2:02 PM, Simon Urbanek wrote:
> Duncan,
> 
> On Jan 9, 2007, at 1:53 PM, Duncan Murdoch wrote:
> 
>> On 1/9/2007 1:34 PM, Simon Urbanek wrote:
>>> Ken,
>>> On Jan 9, 2007, at 1:20 PM, Ken Nussear wrote:
>>>> I upgraded R to 2.4.1 yesterday and I'm having problems   
>>>> reinstalling some packages I had installed before and that I  
>>>> need  for some modeling.
>>>>
>>>> I've tried rgl and fBasics and I get similar error messages (see   
>>>> below).
>>>>
>>>> Has anyone had luck with this?
>>>>
>>> This looks like a problem with the mirror - did you try another  
>>> CRAN  mirror? If in doubt, a good test is to try the master CRAN  
>>> repository...
>>
>> The version of rgl is also a couple of releases out of date, but I  
>> see that's what is currently on CRAN as the MacOSX binary.  The  
>> problem is that the examples in rgl won't run without an X11 server.
>>
> 
> current rgl doesn't pass make check, that's why it's not available in  
> binary form:
> http://www.r-project.org/nosvn/R.check/r-patched-macosx-ix86/ 
> rgl-00check.html
> 
> Should I put it on fake install?

Yes, please, if that's easier than running it on a machine where an X 
server is available.  (If you were running it on a machine with an X 
server, then that error is more serious.)

Duncan

> 
> Cheers,
> Simon
> 
>> Could you special case rgl, so it gets built?
>>
>> Duncan Murdoch
>>
>>> Cheers,
>>> Simon
>>>> Thanks
>>>>
>>>> Ken
>>>>
>>>> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/ 
>>>> contrib/
>>>> 2.4/rgl_0.68.tgz'
>>>> Content type 'application/x-gzip' length 1649254 bytes
>>>> opened URL
>>>> ==================================================
>>>> downloaded 1610Kb
>>>>
>>>> Error in sprintf(gettext(fmt, domain = domain), ...) :
>>>> 	argument is missing, with no default
>>>> tar: Skipping to next header
>>>> tar: Archive contains obsolescent base-64 headers
>>>> tar: A lone zero block at 1730
>>>>
>>>> gzip: stdin: invalid compressed data--crc error
>>>>
>>>> gzip: stdin: invalid compressed data--length error
>>>> tar: Child returned status 1
>>>> tar: Error exit delayed from previous errors
>>>>
>>>> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/ 
>>>> contrib/
>>>> 2.4/fBasics_240.10068.1.tgz'
>>>> Content type 'application/x-gzip' length 1412462 bytes
>>>> opened URL
>>>> ==================================================
>>>> downloaded 1379Kb
>>>>
>>>> tar: Skipping to next header
>>>> tar: Archive contains obsolescent base-64 headers
>>>>
>>>> gzip: stdin: invalid compressed data--crc error
>>>>
>>>> gzip: stdin: invalid compressed data--length error
>>>> tar: Read 10235 bytes from /tmp/RtmpyBlfBq/downloaded_packages/
>>>> fEcofin_240.10067.tgz
>>>> tar: Child returned status 1
>>>> tar: Error exit delayed from previous errors
>>>> Error in sprintf(gettext(fmt, domain = domain), ...) :
>>>> 	argument is missing, with no default
>>>> In addition: Warning message:
>>>> installation of package 'rgl' had non-zero exit status in:
>>>> install.packages(c("rgl"), lib = "/Library/Frameworks/R.framework/
>>>> Resources/library/",
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>


From semafory at wp.pl  Tue Jan  9 20:37:37 2007
From: semafory at wp.pl (Marcin Jaworski)
Date: Tue, 9 Jan 2007 20:37:37 +0100
Subject: [R-SIG-Mac] clear R console
Message-ID: <20070109193737.1682293411@smtp.wp.pl>

Hi,

Is there a way to clear the R console using a shortcut like CTR-L uner Linux?
I started using MacOS X (Tiger), R 2.4.1 not so long ago. I found in R-help 
archive the following trick: 

p<-function(x) {
cat(rep("\n",30))
}

It's ok, but not especially convinient.


From knussear at usgs.gov  Wed Jan 10 00:53:13 2007
From: knussear at usgs.gov (Ken Nussear)
Date: Tue, 9 Jan 2007 15:53:13 -0800
Subject: [R-SIG-Mac] problems installing packages since upgrade to 2.4.1
In-Reply-To: <45A3E8C3.60604@stats.uwo.ca>
References: <8604751D-967D-4693-BF6B-3D85F188643C@usgs.gov>
	<53E511CD-7571-4119-8EA5-E96CAB4928D1@r-project.org>
	<45A3E497.9060407@stats.uwo.ca>
	<75782DAC-FAAB-4E3F-9AC2-0791EBF1E560@r-project.org>
	<45A3E8C3.60604@stats.uwo.ca>
Message-ID: <26A3D578-6BB1-4550-8878-8DC5144F7686@usgs.gov>

So I'm still not sure how to get these to install. They worked fine  
when running 2.3.1, but when I updated R to 2.4.1 I can no longer  
install these packages. Is there a fix?

Ken


On Jan 9, 2007, at 11:10 AM, Duncan Murdoch wrote:

> On 1/9/2007 2:02 PM, Simon Urbanek wrote:
>> Duncan,
>> On Jan 9, 2007, at 1:53 PM, Duncan Murdoch wrote:
>>> On 1/9/2007 1:34 PM, Simon Urbanek wrote:
>>>> Ken,
>>>> On Jan 9, 2007, at 1:20 PM, Ken Nussear wrote:
>>>>> I upgraded R to 2.4.1 yesterday and I'm having problems    
>>>>> reinstalling some packages I had installed before and that I   
>>>>> need  for some modeling.
>>>>>
>>>>> I've tried rgl and fBasics and I get similar error messages  
>>>>> (see   below).
>>>>>
>>>>> Has anyone had luck with this?
>>>>>
>>>> This looks like a problem with the mirror - did you try another   
>>>> CRAN  mirror? If in doubt, a good test is to try the master  
>>>> CRAN  repository...
>>>
>>> The version of rgl is also a couple of releases out of date, but  
>>> I  see that's what is currently on CRAN as the MacOSX binary.   
>>> The  problem is that the examples in rgl won't run without an X11  
>>> server.
>>>
>> current rgl doesn't pass make check, that's why it's not available  
>> in  binary form:
>> http://www.r-project.org/nosvn/R.check/r-patched-macosx-ix86/  
>> rgl-00check.html
>> Should I put it on fake install?
>
> Yes, please, if that's easier than running it on a machine where an  
> X server is available.  (If you were running it on a machine with  
> an X server, then that error is more serious.)
>
> Duncan
>
>> Cheers,
>> Simon
>>> Could you special case rgl, so it gets built?
>>>
>>> Duncan Murdoch
>>>
>>>> Cheers,
>>>> Simon
>>>>> Thanks
>>>>>
>>>>> Ken
>>>>>
>>>>> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/  
>>>>> contrib/
>>>>> 2.4/rgl_0.68.tgz'
>>>>> Content type 'application/x-gzip' length 1649254 bytes
>>>>> opened URL
>>>>> ==================================================
>>>>> downloaded 1610Kb
>>>>>
>>>>> Error in sprintf(gettext(fmt, domain = domain), ...) :
>>>>> 	argument is missing, with no default
>>>>> tar: Skipping to next header
>>>>> tar: Archive contains obsolescent base-64 headers
>>>>> tar: A lone zero block at 1730
>>>>>
>>>>> gzip: stdin: invalid compressed data--crc error
>>>>>
>>>>> gzip: stdin: invalid compressed data--length error
>>>>> tar: Child returned status 1
>>>>> tar: Error exit delayed from previous errors
>>>>>
>>>>> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/  
>>>>> contrib/
>>>>> 2.4/fBasics_240.10068.1.tgz'
>>>>> Content type 'application/x-gzip' length 1412462 bytes
>>>>> opened URL
>>>>> ==================================================
>>>>> downloaded 1379Kb
>>>>>
>>>>> tar: Skipping to next header
>>>>> tar: Archive contains obsolescent base-64 headers
>>>>>
>>>>> gzip: stdin: invalid compressed data--crc error
>>>>>
>>>>> gzip: stdin: invalid compressed data--length error
>>>>> tar: Read 10235 bytes from /tmp/RtmpyBlfBq/downloaded_packages/
>>>>> fEcofin_240.10067.tgz
>>>>> tar: Child returned status 1
>>>>> tar: Error exit delayed from previous errors
>>>>> Error in sprintf(gettext(fmt, domain = domain), ...) :
>>>>> 	argument is missing, with no default
>>>>> In addition: Warning message:
>>>>> installation of package 'rgl' had non-zero exit status in:
>>>>> install.packages(c("rgl"), lib = "/Library/Frameworks/R.framework/
>>>>> Resources/library/",
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>


From murdoch at stats.uwo.ca  Wed Jan 10 01:00:48 2007
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 09 Jan 2007 19:00:48 -0500
Subject: [R-SIG-Mac] problems installing packages since upgrade to 2.4.1
In-Reply-To: <26A3D578-6BB1-4550-8878-8DC5144F7686@usgs.gov>
References: <8604751D-967D-4693-BF6B-3D85F188643C@usgs.gov>
	<53E511CD-7571-4119-8EA5-E96CAB4928D1@r-project.org>
	<45A3E497.9060407@stats.uwo.ca>
	<75782DAC-FAAB-4E3F-9AC2-0791EBF1E560@r-project.org>
	<45A3E8C3.60604@stats.uwo.ca>
	<26A3D578-6BB1-4550-8878-8DC5144F7686@usgs.gov>
Message-ID: <45A42CB0.3090707@stats.uwo.ca>

On 1/9/2007 6:53 PM, Ken Nussear wrote:
> So I'm still not sure how to get these to install. They worked fine  
> when running 2.3.1, but when I updated R to 2.4.1 I can no longer  
> install these packages. Is there a fix?

I don't know.  For rgl, try this unreleased version.  This is a source 
package, not a binary one:

http://www.stats.uwo.ca/faculty/murdoch/temp/rgl_0.70.552.tar.gz

Duncan Murdoch


> 
> Ken
> 
> 
> On Jan 9, 2007, at 11:10 AM, Duncan Murdoch wrote:
> 
>> On 1/9/2007 2:02 PM, Simon Urbanek wrote:
>>> Duncan,
>>> On Jan 9, 2007, at 1:53 PM, Duncan Murdoch wrote:
>>>> On 1/9/2007 1:34 PM, Simon Urbanek wrote:
>>>>> Ken,
>>>>> On Jan 9, 2007, at 1:20 PM, Ken Nussear wrote:
>>>>>> I upgraded R to 2.4.1 yesterday and I'm having problems    
>>>>>> reinstalling some packages I had installed before and that I   
>>>>>> need  for some modeling.
>>>>>>
>>>>>> I've tried rgl and fBasics and I get similar error messages  
>>>>>> (see   below).
>>>>>>
>>>>>> Has anyone had luck with this?
>>>>>>
>>>>> This looks like a problem with the mirror - did you try another   
>>>>> CRAN  mirror? If in doubt, a good test is to try the master  
>>>>> CRAN  repository...
>>>> The version of rgl is also a couple of releases out of date, but  
>>>> I  see that's what is currently on CRAN as the MacOSX binary.   
>>>> The  problem is that the examples in rgl won't run without an X11  
>>>> server.
>>>>
>>> current rgl doesn't pass make check, that's why it's not available  
>>> in  binary form:
>>> http://www.r-project.org/nosvn/R.check/r-patched-macosx-ix86/  
>>> rgl-00check.html
>>> Should I put it on fake install?
>> Yes, please, if that's easier than running it on a machine where an  
>> X server is available.  (If you were running it on a machine with  
>> an X server, then that error is more serious.)
>>
>> Duncan
>>
>>> Cheers,
>>> Simon
>>>> Could you special case rgl, so it gets built?
>>>>
>>>> Duncan Murdoch
>>>>
>>>>> Cheers,
>>>>> Simon
>>>>>> Thanks
>>>>>>
>>>>>> Ken
>>>>>>
>>>>>> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/  
>>>>>> contrib/
>>>>>> 2.4/rgl_0.68.tgz'
>>>>>> Content type 'application/x-gzip' length 1649254 bytes
>>>>>> opened URL
>>>>>> ==================================================
>>>>>> downloaded 1610Kb
>>>>>>
>>>>>> Error in sprintf(gettext(fmt, domain = domain), ...) :
>>>>>> 	argument is missing, with no default
>>>>>> tar: Skipping to next header
>>>>>> tar: Archive contains obsolescent base-64 headers
>>>>>> tar: A lone zero block at 1730
>>>>>>
>>>>>> gzip: stdin: invalid compressed data--crc error
>>>>>>
>>>>>> gzip: stdin: invalid compressed data--length error
>>>>>> tar: Child returned status 1
>>>>>> tar: Error exit delayed from previous errors
>>>>>>
>>>>>> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/  
>>>>>> contrib/
>>>>>> 2.4/fBasics_240.10068.1.tgz'
>>>>>> Content type 'application/x-gzip' length 1412462 bytes
>>>>>> opened URL
>>>>>> ==================================================
>>>>>> downloaded 1379Kb
>>>>>>
>>>>>> tar: Skipping to next header
>>>>>> tar: Archive contains obsolescent base-64 headers
>>>>>>
>>>>>> gzip: stdin: invalid compressed data--crc error
>>>>>>
>>>>>> gzip: stdin: invalid compressed data--length error
>>>>>> tar: Read 10235 bytes from /tmp/RtmpyBlfBq/downloaded_packages/
>>>>>> fEcofin_240.10067.tgz
>>>>>> tar: Child returned status 1
>>>>>> tar: Error exit delayed from previous errors
>>>>>> Error in sprintf(gettext(fmt, domain = domain), ...) :
>>>>>> 	argument is missing, with no default
>>>>>> In addition: Warning message:
>>>>>> installation of package 'rgl' had non-zero exit status in:
>>>>>> install.packages(c("rgl"), lib = "/Library/Frameworks/R.framework/
>>>>>> Resources/library/",
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>


From sfalcon at fhcrc.org  Wed Jan 10 02:47:36 2007
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Tue, 09 Jan 2007 17:47:36 -0800
Subject: [R-SIG-Mac] Installing R-devel from http://r.research.att.com/
Message-ID: <m2d55nwt3b.fsf@fhcrc.org>

Hi all,

I suspect this is an easy question...

How do I install R devel from the various snapshots provided on
http://r.research.att.com/.

[I generally build from source, but need to assist people in getting a
working R-devel on OSX for a course we are teaching]

The website says:

    The installer image (*.dmg) is packaged exactly the same way as
    the CRAN release of R (including the GUI) and it will update your
    R version (unless you delete the last receipt). 

The installer image is too small to contain everything (52kb) and I
don't understand what is meant by "unless you delete the last
receipt".  I've tried the installer and it tells me it can't open
R.mpkg.

Thanks,

+ seth


From simon.urbanek at r-project.org  Wed Jan 10 16:26:30 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 10 Jan 2007 10:26:30 -0500
Subject: [R-SIG-Mac] Installing R-devel from http://r.research.att.com/
In-Reply-To: <m2d55nwt3b.fsf@fhcrc.org>
References: <m2d55nwt3b.fsf@fhcrc.org>
Message-ID: <90C38A81-9339-4492-B8A8-FD223976DF08@r-project.org>

Seth,

there is a problem with the automatic packaging process, so for now  
you can install R-devel from the tar-ball via
curl http://r.research.att.com/R-devel-tiger-universal.tar.gz | sudo  
tar fxz - -C /

The dmg should be of roughly the same size as the tar-ball. I'm  
looking into it and keep you updated.

Cheers,
Simon

On Jan 9, 2007, at 8:47 PM, Seth Falcon wrote:

> Hi all,
>
> I suspect this is an easy question...
>
> How do I install R devel from the various snapshots provided on
> http://r.research.att.com/.
>
> [I generally build from source, but need to assist people in getting a
> working R-devel on OSX for a course we are teaching]
>
> The website says:
>
>     The installer image (*.dmg) is packaged exactly the same way as
>     the CRAN release of R (including the GUI) and it will update your
>     R version (unless you delete the last receipt).
>
> The installer image is too small to contain everything (52kb) and I
> don't understand what is meant by "unless you delete the last
> receipt".  I've tried the installer and it tells me it can't open
> R.mpkg.
>
> Thanks,
>
> + seth
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Wed Jan 10 16:38:36 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 10 Jan 2007 10:38:36 -0500
Subject: [R-SIG-Mac] Installing R-devel from http://r.research.att.com/
In-Reply-To: <m2d55nwt3b.fsf@fhcrc.org>
References: <m2d55nwt3b.fsf@fhcrc.org>
Message-ID: <EC4433A0-CCB3-4EA0-B13B-0A401C58533B@r-project.org>

Seth,

the problem was located and should be fixed for tonight's build.


On Jan 9, 2007, at 8:47 PM, Seth Falcon wrote:

> Hi all,
>
> I suspect this is an easy question...
>
> How do I install R devel from the various snapshots provided on
> http://r.research.att.com/.
>
> [I generally build from source, but need to assist people in getting a
> working R-devel on OSX for a course we are teaching]
>
> The website says:
>
>     The installer image (*.dmg) is packaged exactly the same way as
>     the CRAN release of R (including the GUI) and it will update your
>     R version (unless you delete the last receipt).
>
> The installer image is too small to contain everything (52kb) and I
> don't understand what is meant by "unless you delete the last
> receipt".

By default Apple Installer does an 'upgrade' - i.e. it will remove  
all 'old' files that were installed by the previous R version.  
However, you may want to keep old R since it can co-exist peacefully.  
In order to tell the Apple Installer to not upgrade the old version,  
but perform a new, clean install instead, you have to remove the  
receipt created by the previous install. Apple Installer keeps the  
receipts in /Library/Receipts, so you may want to run

rm -rf /Library/Receipts/R-Framework*

This is discussed in the R for Mac FAQ and also in the ReadMe of the  
R package which is displayed during the installation.

Cheers,
Simon


>   I've tried the installer and it tells me it can't open
> R.mpkg.
>
> Thanks,
>
> + seth
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From sfalcon at fhcrc.org  Wed Jan 10 19:31:25 2007
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Wed, 10 Jan 2007 10:31:25 -0800
Subject: [R-SIG-Mac] Installing R-devel from http://r.research.att.com/
In-Reply-To: <EC4433A0-CCB3-4EA0-B13B-0A401C58533B@r-project.org> (Simon
	Urbanek's message of "Wed, 10 Jan 2007 10:38:36 -0500")
References: <m2d55nwt3b.fsf@fhcrc.org>
	<EC4433A0-CCB3-4EA0-B13B-0A401C58533B@r-project.org>
Message-ID: <m24pqyrawy.fsf@fhcrc.org>

Simon Urbanek <simon.urbanek at r-project.org> writes:

> Seth,
>
> the problem was located and should be fixed for tonight's build.

Thanks, Simon.  In the meantime, I installed from the tarball and then
installed the GUI and RSwitch.  So far, so good.  I can use RSwitch
and launch the appropriate GUI and get either R-2.4 or R-2.5.

HOWEVER, I can't figure out how to start a command line non-GUI
session (which I will need to build packages).  When I try:

    ziti:~ seth$ /Library/Frameworks/R.framework/Resources/bin/R

I get the following spew:

Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library '/Library/Frameworks/R.framework/Resources/library/methods/libs/ppc/methods.so':
  dlopen(/Library/Frameworks/R.framework/Resources/library/methods/libs/ppc/methods.so, 6): Symbol not found: ___divdc3
  Referenced from: /Library/Frameworks/R.framework/Resources/lib/ppc/libR.dylib
  Expected in: /usr/local/lib/libgcc_s.1.0.dylib

R version 2.5.0 Under development (unstable) (2007-01-08 r40401)
Copyright (C) 2007 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

Warning message:
package "methods" in options("defaultPackages") was not found 
Not connected to the net
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library '/Library/Frameworks/R.framework/Resources/library/grDevices/libs/ppc/grDevices.so':
  dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/libs/ppc/grDevices.so, 6): Symbol not found: ___divdc3
  Referenced from: /Library/Frameworks/R.framework/Resources/lib/ppc/libR.dylib
  Expected in: /usr/local/lib/libgcc_s.1.0.dylib
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library '/Library/Frameworks/R.framework/Resources/library/grDevices/libs/ppc/grDevices.so':
  dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/libs/ppc/grDevices.so, 6): Symbol not found: ___divdc3
  Referenced from: /Library/Frameworks/R.framework/Resources/lib/ppc/libR.dylib
  Expected in: /usr/local/lib/libgcc_s.1.0.dylib
In addition: Warning message:
package grDevices in options("defaultPackages") was not found 
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library '/Library/Frameworks/R.framework/Resources/library/grDevices/libs/ppc/grDevices.so':
  dlopen(/Library/Frameworks/R.framework/Resources/library/grDevices/libs/ppc/grDevices.so, 6): Symbol not found: ___divdc3
  Referenced from: /Library/Frameworks/R.framework/Resources/lib/ppc/libR.dylib
  Expected in: /usr/local/lib/libgcc_s.1.0.dylib
In addition: Warning message:
package graphics in options("defaultPackages") was not found 
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
        unable to load shared library '/Library/Frameworks/R.framework/Resources/library/methods/libs/ppc/methods.so':
  dlopen(/Library/Frameworks/R.framework/Resources/library/methods/libs/ppc/methods.so, 6): Symbol not found: ___divdc3
  Referenced from: /Library/Frameworks/R.framework/Resources/lib/ppc/libR.dylib
  Expected in: /usr/local/lib/libgcc_s.1.0.dylib
In addition: Warning message:
package stats in options("defaultPackages") was not found 
During startup - Warning message:
package methods in options("defaultPackages") was not found 
>


From Richard.D.De.Veaux at williams.edu  Sun Jan 14 18:14:32 2007
From: Richard.D.De.Veaux at williams.edu (Richard De Veaux)
Date: Sun, 14 Jan 2007 12:14:32 -0500
Subject: [R-SIG-Mac] Problems with identify
Message-ID: <0E85CEEB-E63A-4BB8-B098-1E201B9918A8@williams.edu>

I'm having problems with identify running R under Mac OS X 10.4.8.

The pop up window says to left click to identify, right click to  
exit, but I don't seem able
either to find points or to exit.

Any advice?


From Richard.D.De.Veaux at williams.edu  Sun Jan 14 18:53:18 2007
From: Richard.D.De.Veaux at williams.edu (Richard De Veaux)
Date: Sun, 14 Jan 2007 12:53:18 -0500
Subject: [R-SIG-Mac] Problems with identify()
Message-ID: <B00673A5-D9AA-468D-8089-6FE354CD311B@williams.edu>

I'm having problems using the identify() function. It works OK in the  
X11() window, but not at all when using
either a trellis.device() or the default Quartz device. Going through  
R commander, It says to left click to identify and right click to exit.
But when I get the plot, none of the buttons seem to work.

Any advice?

Dick De Veaux


From stefano.iacus at unimi.it  Sun Jan 14 22:28:34 2007
From: stefano.iacus at unimi.it (stefano iacus)
Date: Sun, 14 Jan 2007 22:28:34 +0100
Subject: [R-SIG-Mac] Problems with identify
In-Reply-To: <0E85CEEB-E63A-4BB8-B098-1E201B9918A8@williams.edu>
References: <0E85CEEB-E63A-4BB8-B098-1E201B9918A8@williams.edu>
Message-ID: <3D5D13EF-1BA6-4EC9-9537-2AB385B175EB@unimi.it>

from the man page of identify

?identify

For the usual X11 device the identification process is terminated by  
pressing any mouse button other than the first.

For the quartz device the process is terminated by pressing the ESC key.




On 14/gen/07, at 18:14, Richard De Veaux wrote:

> I'm having problems with identify running R under Mac OS X 10.4.8.
>
> The pop up window says to left click to identify, right click to
> exit, but I don't seem able
> either to find points or to exit.
>
> Any advice?
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From stefano.iacus at unimi.it  Sun Jan 14 22:53:24 2007
From: stefano.iacus at unimi.it (stefano iacus)
Date: Sun, 14 Jan 2007 22:53:24 +0100
Subject: [R-SIG-Mac] Problems with identify
In-Reply-To: <CF3F7269-2AF3-40E3-B6E9-CE7D91DF4183@williams.edu>
References: <0E85CEEB-E63A-4BB8-B098-1E201B9918A8@williams.edu>
	<3D5D13EF-1BA6-4EC9-9537-2AB385B175EB@unimi.it>
	<EDD397BC-9F02-4E71-A963-AACB9EC0A1B4@williams.edu>
	<49357367-2999-4776-82BB-E3244AC40C70@unimi.it>
	<CF3F7269-2AF3-40E3-B6E9-CE7D91DF4183@williams.edu>
Message-ID: <003E4746-9228-41AD-8E5E-09CD47FD0511@unimi.it>

it does Richard, but you don't get the visual feedback until the  
quartz window has been refreshed. And this happens as soon as the ESC  
key is pressed (and the process terminated).

I think we cannot fix it as far as I remember due to the way quartz  
is handled.
Simon, any thoughts?

stefano

On 14/gen/07, at 22:44, Richard De Veaux wrote:

> Stefano,
>
> The main problem isn't terminating the problem (although that is a  
> problem too). The problem is that clicking the mouse buttons don't  
> identify the points in Quartz.
>
>
> On Jan 14, 2007, at 4:41 PM, stefano iacus wrote:
>
>> Please READ: the process is terminated by pressing ht ESC key.
>>
>> stefano
>>
>> On 14/gen/07, at 22:35, Richard De Veaux wrote:
>>
>>> Yes, I know that!  The problem is that it's not working like  
>>> that. The mouse button doesn't do anything in the Quartz window.
>>>
>>> Thx,
>>> Dick
>>>
>>> On Jan 14, 2007, at 4:28 PM, stefano iacus wrote:
>>>
>>>> from the man page of identify
>>>>
>>>> ?identify
>>>>
>>>> For the usual X11 device the identification process is  
>>>> terminated by pressing any mouse button other than the first.
>>>>
>>>> For the quartz device the process is terminated by pressing the  
>>>> ESC key.
>>>>
>>>>
>>>>
>>>>
>>>> On 14/gen/07, at 18:14, Richard De Veaux wrote:
>>>>
>>>>> I'm having problems with identify running R under Mac OS X 10.4.8.
>>>>>
>>>>> The pop up window says to left click to identify, right click to
>>>>> exit, but I don't seem able
>>>>> either to find points or to exit.
>>>>>
>>>>> Any advice?
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>


From stefano.iacus at unimi.it  Sun Jan 14 22:54:06 2007
From: stefano.iacus at unimi.it (stefano iacus)
Date: Sun, 14 Jan 2007 22:54:06 +0100
Subject: [R-SIG-Mac] Problems with identify
In-Reply-To: <93682F13-3085-4D4D-A17D-78CC08F13CDA@williams.edu>
References: <0E85CEEB-E63A-4BB8-B098-1E201B9918A8@williams.edu>
	<3D5D13EF-1BA6-4EC9-9537-2AB385B175EB@unimi.it>
	<EDD397BC-9F02-4E71-A963-AACB9EC0A1B4@williams.edu>
	<49357367-2999-4776-82BB-E3244AC40C70@unimi.it>
	<93682F13-3085-4D4D-A17D-78CC08F13CDA@williams.edu>
Message-ID: <F7C471D0-8F96-40DA-B918-1091263D9ECA@unimi.it>


On 14/gen/07, at 22:47, Richard De Veaux wrote:

> Wait,
>
> Are you saying that I have to click without seeing anything and  
> then hit ESC to see what I've done?
> That seems to work, but that is very weird!
yes, it is. I admit.
stefano

>
> Thx,
> Dick
>
> On Jan 14, 2007, at 4:41 PM, stefano iacus wrote:
>
>> Please READ: the process is terminated by pressing ht ESC key.
>>
>> stefano
>>
>> On 14/gen/07, at 22:35, Richard De Veaux wrote:
>>
>>> Yes, I know that!  The problem is that it's not working like  
>>> that. The mouse button doesn't do anything in the Quartz window.
>>>
>>> Thx,
>>> Dick
>>>
>>> On Jan 14, 2007, at 4:28 PM, stefano iacus wrote:
>>>
>>>> from the man page of identify
>>>>
>>>> ?identify
>>>>
>>>> For the usual X11 device the identification process is  
>>>> terminated by pressing any mouse button other than the first.
>>>>
>>>> For the quartz device the process is terminated by pressing the  
>>>> ESC key.
>>>>
>>>>
>>>>
>>>>
>>>> On 14/gen/07, at 18:14, Richard De Veaux wrote:
>>>>
>>>>> I'm having problems with identify running R under Mac OS X 10.4.8.
>>>>>
>>>>> The pop up window says to left click to identify, right click to
>>>>> exit, but I don't seem able
>>>>> either to find points or to exit.
>>>>>
>>>>> Any advice?
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>


From john.maindonald at anu.edu.au  Mon Jan 15 00:04:53 2007
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Mon, 15 Jan 2007 10:04:53 +1100
Subject: [R-SIG-Mac]  Using a second monitor, running R under Unix
In-Reply-To: <0E85CEEB-E63A-4BB8-B098-1E201B9918A8@williams.edu>
References: <0E85CEEB-E63A-4BB8-B098-1E201B9918A8@williams.edu>
Message-ID: <5F2FB31E-6B9C-47D0-9DFC-31DBA45FF621@anu.edu.au>

I am using a MacBook Pro with Core 2 Duo, with an external screen  
connected that is set to appear above the MacBook Pro's screen.  The  
laptop's menu appear bar is set to appear at the top of the external  
monitor.

When I run R under ESS, or from the Unix command line, and type quartz 
(), the graphics window appears to the "left" of the external  
monitor.  Hitting the F9 key brings it into view, but there seems no  
way to grab it with the mouse and move it onto less ephemeral real  
estate.  [Under R.app, all is well.]

[With x11() half the window is off to the left, and I can drag it to  
anywhere I want (either screen).]

A further issue is that when I plot anything on the quartz screen, I  
get an "error: message, thus:

 > quartz()
Warning message:
quartz() device interactivity reduced without an event loop manager  
in: quartz()
 > plot(1:5, 1:5)
CGGStackRestore: gstack underflow.

The "CGGStackRestore: gstack underflow" message looks ominous, but it  
does not cause evident problems.

Is there something I can do so that the positioning of the second  
screen is recognized?  At some time in the past, I am sure that quartz 
() [ and x11()] used to correctly recognize the positioning of the  
screens.  However it is a while since I used quartz(), and I would  
not have paid too much attention to the x11() behaviour.
John Maindonald

 > sessionInfo()
R version 2.4.1 (2006-12-18)
i386-apple-darwin8.8.1

locale:
C

attached base packages:
[1] "splines"   "stats"     "graphics"  "grDevices" "utils"      
"datasets"
[7] "methods"   "base"


John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.


From I.Visser at uva.nl  Tue Jan 16 16:51:09 2007
From: I.Visser at uva.nl (Ingmar Visser)
Date: Tue, 16 Jan 2007 16:51:09 +0100
Subject: [R-SIG-Mac] Fortran problem aftering transfer to R 2.4.1
Message-ID: <C1D2B2FD.C872%I.Visser@uva.nl>

Dear R & Mac Experts,

I have a package with both external C and Fortran code which ran fine under
R 2.3 After updating R to version 2.4.1 I am getting the following error:

> fit1 <- fitdmm(dat=speed,dmm=mod,meth="npsol")
Initial loglikelihood:  -297.4306
At line 1665 of file NPSUBS.f
Fortran runtime error: Missing format for FORMATTED data transfer


The Fortran code reads:

Line 1663         if (iPrint .gt. 0) then
Line 1664            write(iPrint, '(///// (80a1) )')
Line 1665     $            (' ', j=1, nspace), (title(j:j), j=1,lenT)


My question is what to do about this. Note that the none of the code of the
package has changed. Also I am reluctant to change the Fortran as it is not
my code and I am not even sure what is happening in this bit of the code.

Any hints are welcome, best, Ingmar

PS: I am sorry that I cannot be more specific. In particular I can not
provide an example as the Fortran code is not open source.

> sessionInfo()  
R version 2.4.1 (2006-12-18)
powerpc-apple-darwin8.8.0

locale:
C

attached base packages:
[1] "stats"     "graphics"  "grDevices" "utils"     "datasets"  "methods"
[7] "base"     

other attached packages:
  depmix     MASS 
 "0.9.1" "7.2-30"


From elmore at stat.colostate.edu  Tue Jan 16 19:43:17 2007
From: elmore at stat.colostate.edu (Ryan Elmore)
Date: Tue, 16 Jan 2007 11:43:17 -0700
Subject: [R-SIG-Mac] R crash
Message-ID: <280047E2-D470-40EF-81D8-A2CAE96A6E2D@stat.colostate.edu>

Hello R for mac world,

I just build R 2.4.1 from scratch on a mac mini with a 1.83 GHz Intel  
Core Duo.  I am pretty confident that I did everything listed on  
Simon's wiki page, however, I am experiencing some very troubling  
behavior.  Here is the problem:

Suppose I open an R session by double clicking an R file in a given  
directory.  Now suppose I open another R file in the same or  
different directory.  It seems that if I try to work in both windows  
(editing the files), R will crash with the following message (for  
example):

2007-01-16 11:42:41.361 R[4115] *** -[NSCFArray set]: selector not  
recognized [self = 0x5321b0]
2007-01-16 11:42:41.362 R[4115] *** -[NSCFArray set]: selector not  
recognized [self = 0x5321b0]
.... (it keeps going)

Any help is very much appreciated!  Cheers,

Ryan E.


From simon.urbanek at r-project.org  Tue Jan 16 20:11:16 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 16 Jan 2007 14:11:16 -0500
Subject: [R-SIG-Mac] R crash
In-Reply-To: <280047E2-D470-40EF-81D8-A2CAE96A6E2D@stat.colostate.edu>
References: <280047E2-D470-40EF-81D8-A2CAE96A6E2D@stat.colostate.edu>
Message-ID: <14B5520F-15AD-4015-982D-E9C3ACF2CA9C@r-project.org>

Ryan,

are you able to reproduce the error with the CRAN version of R? Given  
that this seems to be an issue in R.app, you can try running binary  
version of R.app from http://r.research.att.com/ first?

On Jan 16, 2007, at 1:43 PM, Ryan Elmore wrote:

> I just build R 2.4.1 from scratch on a mac mini with a 1.83 GHz  
> Intel Core Duo.  I am pretty confident that I did everything listed  
> on Simon's wiki page,

Please tell us
- which compilers are you using
- how did you configure R
- how did you compile R.app

Also in case this is a crash, we will need the full crash report and  
full error output (not just "for example").

Thanks,
Simon


> however, I am experiencing some very troubling behavior.  Here is  
> the problem:
>
> Suppose I open an R session by double clicking an R file in a given
> directory.  Now suppose I open another R file in the same or
> different directory.  It seems that if I try to work in both windows
> (editing the files), R will crash with the following message (for
> example):
>
> 2007-01-16 11:42:41.361 R[4115] *** -[NSCFArray set]: selector not
> recognized [self = 0x5321b0]
> 2007-01-16 11:42:41.362 R[4115] *** -[NSCFArray set]: selector not
> recognized [self = 0x5321b0]
> .... (it keeps going)
>
> Any help is very much appreciated!  Cheers,
>
> Ryan E.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From ellis at stat.harvard.edu  Tue Jan 16 20:54:39 2007
From: ellis at stat.harvard.edu (Byron Ellis)
Date: Tue, 16 Jan 2007 11:54:39 -0800
Subject: [R-SIG-Mac] Using a second monitor, running R under Unix
In-Reply-To: <5F2FB31E-6B9C-47D0-9DFC-31DBA45FF621@anu.edu.au>
References: <0E85CEEB-E63A-4BB8-B098-1E201B9918A8@williams.edu>
	<5F2FB31E-6B9C-47D0-9DFC-31DBA45FF621@anu.edu.au>
Message-ID: <7098abec0701161154o151decacwc4339dc38aff083@mail.gmail.com>

Hi James,

This is because of the different between the Quartz and X11 Window
Server notion of How The World Works. Quartz event processing is an
in-process thing such that ALL events, including window dragging, must
be handled by the in-process event loop. When you start a Quartz
device when running in ESS there effectively isn't an event loop to do
the processing so you don't get to drag windows around. To top it off,
I believe the server may also differentiate between interactive and
non-interactive applications so despite getting access to the server
they can't receive events (but my memory here is hazy).

In Mojave I had a function that actually gave you an event loop by
putting the console reader onto a separate thread and pumping the
event loop on the main thread, which seemed to work pretty well. It
also used an undocumented call to give you an interactive application,
which had the unfortunate side effect of a weird (unusable) dock icon,
but let you use a graphics device. I'll try to dig up a copy of that
(I took it out of the svn Mojave for reasons I've forgotten :-) ) and
post it somewhere. IIRC you might also get a bonus quartz graphics
device I was experimenting with. :-)


On 1/14/07, John Maindonald <john.maindonald at anu.edu.au> wrote:
> I am using a MacBook Pro with Core 2 Duo, with an external screen
> connected that is set to appear above the MacBook Pro's screen.  The
> laptop's menu appear bar is set to appear at the top of the external
> monitor.
>
> When I run R under ESS, or from the Unix command line, and type quartz
> (), the graphics window appears to the "left" of the external
> monitor.  Hitting the F9 key brings it into view, but there seems no
> way to grab it with the mouse and move it onto less ephemeral real
> estate.  [Under R.app, all is well.]
>
> [With x11() half the window is off to the left, and I can drag it to
> anywhere I want (either screen).]
>
> A further issue is that when I plot anything on the quartz screen, I
> get an "error: message, thus:
>
>  > quartz()
> Warning message:
> quartz() device interactivity reduced without an event loop manager
> in: quartz()
>  > plot(1:5, 1:5)
> CGGStackRestore: gstack underflow.
>
> The "CGGStackRestore: gstack underflow" message looks ominous, but it
> does not cause evident problems.
>
> Is there something I can do so that the positioning of the second
> screen is recognized?  At some time in the past, I am sure that quartz
> () [ and x11()] used to correctly recognize the positioning of the
> screens.  However it is a while since I used quartz(), and I would
> not have paid too much attention to the x11() behaviour.
> John Maindonald
>
>  > sessionInfo()
> R version 2.4.1 (2006-12-18)
> i386-apple-darwin8.8.1
>
> locale:
> C
>
> attached base packages:
> [1] "splines"   "stats"     "graphics"  "grDevices" "utils"
> "datasets"
> [7] "methods"   "base"
>
>
> John Maindonald             email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
> Centre for Mathematics & Its Applications, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Byron Ellis (byron.ellis at gmail.com)
"Oook" -- The Librarian


From elmore at stat.colostate.edu  Tue Jan 16 21:17:41 2007
From: elmore at stat.colostate.edu (Ryan Elmore)
Date: Tue, 16 Jan 2007 13:17:41 -0700
Subject: [R-SIG-Mac] R crash
In-Reply-To: <14B5520F-15AD-4015-982D-E9C3ACF2CA9C@r-project.org>
References: <280047E2-D470-40EF-81D8-A2CAE96A6E2D@stat.colostate.edu>
	<14B5520F-15AD-4015-982D-E9C3ACF2CA9C@r-project.org>
Message-ID: <9BA5D84F-578D-469B-885D-9EF6FAB57929@stat.colostate.edu>

Thanks, Simon.  I'm sorry in advance if I don't have the exact  
information to your questions below, but I will try my best to answer.

>> I just build R 2.4.1 from scratch on a mac mini with a 1.83 GHz  
>> Intel Core Duo.  I am pretty confident that I did everything  
>> listed on Simon's wiki page,
>
> Please tell us
> - which compilers are you using

I would assume I am using gcc version 4.0.3.  I'm installed it and it  
is set up in my path to look in that directory before looking in  
others.  If I type gcc --version from a terminal window, it shows:
tjuta:~ elmore$ gcc --version
i686-apple-darwin8-gcc-4.0.3 (GCC) 4.0.3
Copyright (C) 2006 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There  
is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR  
PURPOSE.

> - how did you configure R

I used the command:
tjuta:~ elmore$ sudo ./configure --with-aqua --with-blas='-framework  
vecLib' --with-lapack F77=gfortran R_PAPERSIZE='letter'

> - how did you compile R.app

I didn't compile R.app...I just downloaded the binary from the  
website and copied the file into my applications folder.  Should I  
try compiling first?

> Also in case this is a crash, we will need the full crash report  
> and full error output (not just "for example")

Should I reproduce this "crash" and submit a report?

Again, thanks in advance!

Cheers,
Ryan


From gcoppola at ucla.edu  Wed Jan 17 00:45:24 2007
From: gcoppola at ucla.edu (Giovanni Coppola)
Date: Tue, 16 Jan 2007 15:45:24 -0800
Subject: [R-SIG-Mac] Problem loading RSQLite
In-Reply-To: <m23b8b5x1q.fsf@ziti.local>
References: <667A029A-591A-4E3D-8221-5735DD223E87@magpienest.org>
	<m23b8b5x1q.fsf@ziti.local>
Message-ID: <67E0135C-DEDE-464F-A007-B01AB07A0C0A@ucla.edu>

Hello Seth and Allan,
Do you have any news on this? I still have the same problem with
R 2.4.1 ppc
OS X 10.4.8
DBI 0.1-12
RSQLite 0.4-18

Thanks
Giovanni

On Nov 22, 2006, at 7:19 AM, Seth Falcon wrote:

> Hi Allan,
>
> Allan Hollander <numenius at magpienest.org> writes:
>> I've been trying to get RSQLite working and have run into a
>> difficulty. This is on a iBook G3 running Mac OS 10.4.8, using the
>> CRAN binary of R 2.4.0, and with the binary of RSQLite 0.4-13. I get
>> the same problem with both the RSQLite binary from CRAN and the one
>> from the http://R.research.att.com/ repository. I have no problems
>> installing the binary but when I try to load it I get the following
>> error:
>
> I can confirm the error on ppc OS X 10.4.8 using the CRAN binary.  I'm
> not sure what the solution is.  I'm helping to maintain RSQLite, so
> please let me know if code changes to the package are required.
>
>
> + seth
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From John.Maindonald at anu.edu.au  Wed Jan 17 01:50:50 2007
From: John.Maindonald at anu.edu.au (John Maindonald)
Date: Wed, 17 Jan 2007 11:50:50 +1100
Subject: [R-SIG-Mac] Using a second monitor, running R under Unix
In-Reply-To: <7098abec0701161154o151decacwc4339dc38aff083@mail.gmail.com>
References: <0E85CEEB-E63A-4BB8-B098-1E201B9918A8@williams.edu>
	<5F2FB31E-6B9C-47D0-9DFC-31DBA45FF621@anu.edu.au>
	<7098abec0701161154o151decacwc4339dc38aff083@mail.gmail.com>
Message-ID: <6DB8E362-26FB-4E3D-BA96-620D588E339F@anu.edu.au>

Thanks.  I have of course been aware of the event loop issue.  But  
does this also explain why the quartz window appears off screen?  I'd  
not have expected that the event loop issue ought to generate the  
"CGGStackRestore: gstack underflow" message.

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.


On 17 Jan 2007, at 6:54 AM, Byron Ellis wrote:

> Hi James,
>
> This is because of the different between the Quartz and X11 Window
> Server notion of How The World Works. Quartz event processing is an
> in-process thing such that ALL events, including window dragging, must
> be handled by the in-process event loop. When you start a Quartz
> device when running in ESS there effectively isn't an event loop to do
> the processing so you don't get to drag windows around. To top it off,
> I believe the server may also differentiate between interactive and
> non-interactive applications so despite getting access to the server
> they can't receive events (but my memory here is hazy).
>
> In Mojave I had a function that actually gave you an event loop by
> putting the console reader onto a separate thread and pumping the
> event loop on the main thread, which seemed to work pretty well. It
> also used an undocumented call to give you an interactive application,
> which had the unfortunate side effect of a weird (unusable) dock icon,
> but let you use a graphics device. I'll try to dig up a copy of that
> (I took it out of the svn Mojave for reasons I've forgotten :-) ) and
> post it somewhere. IIRC you might also get a bonus quartz graphics
> device I was experimenting with. :-)
>
>
> On 1/14/07, John Maindonald <john.maindonald at anu.edu.au> wrote:
>> I am using a MacBook Pro with Core 2 Duo, with an external screen
>> connected that is set to appear above the MacBook Pro's screen.  The
>> laptop's menu appear bar is set to appear at the top of the external
>> monitor.
>>
>> When I run R under ESS, or from the Unix command line, and type  
>> quartz
>> (), the graphics window appears to the "left" of the external
>> monitor.  Hitting the F9 key brings it into view, but there seems no
>> way to grab it with the mouse and move it onto less ephemeral real
>> estate.  [Under R.app, all is well.]
>>
>> [With x11() half the window is off to the left, and I can drag it to
>> anywhere I want (either screen).]
>>
>> A further issue is that when I plot anything on the quartz screen, I
>> get an "error: message, thus:
>>
>>  > quartz()
>> Warning message:
>> quartz() device interactivity reduced without an event loop manager
>> in: quartz()
>>  > plot(1:5, 1:5)
>> CGGStackRestore: gstack underflow.
>>
>> The "CGGStackRestore: gstack underflow" message looks ominous, but it
>> does not cause evident problems.
>>
>> Is there something I can do so that the positioning of the second
>> screen is recognized?  At some time in the past, I am sure that  
>> quartz
>> () [ and x11()] used to correctly recognize the positioning of the
>> screens.  However it is a while since I used quartz(), and I would
>> not have paid too much attention to the x11() behaviour.
>> John Maindonald
>>
>>  > sessionInfo()
>> R version 2.4.1 (2006-12-18)
>> i386-apple-darwin8.8.1
>>
>> locale:
>> C
>>
>> attached base packages:
>> [1] "splines"   "stats"     "graphics"  "grDevices" "utils"
>> "datasets"
>> [7] "methods"   "base"
>>
>>
>> John Maindonald             email: john.maindonald at anu.edu.au
>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>> Centre for Mathematics & Its Applications, Room 1194,
>> John Dedman Mathematical Sciences Building (Building 27)
>> Australian National University, Canberra ACT 0200.
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
>
> -- 
> Byron Ellis (byron.ellis at gmail.com)
> "Oook" -- The Librarian


From ellis at stat.harvard.edu  Wed Jan 17 01:55:06 2007
From: ellis at stat.harvard.edu (Byron Ellis)
Date: Tue, 16 Jan 2007 16:55:06 -0800
Subject: [R-SIG-Mac] Using a second monitor, running R under Unix
In-Reply-To: <6DB8E362-26FB-4E3D-BA96-620D588E339F@anu.edu.au>
References: <0E85CEEB-E63A-4BB8-B098-1E201B9918A8@williams.edu>
	<5F2FB31E-6B9C-47D0-9DFC-31DBA45FF621@anu.edu.au>
	<7098abec0701161154o151decacwc4339dc38aff083@mail.gmail.com>
	<6DB8E362-26FB-4E3D-BA96-620D588E339F@anu.edu.au>
Message-ID: <7098abec0701161655j716786aal9a789ed8115b0971@mail.gmail.com>

Oh, that's unrelated and mostly harmless probably due to bitrot in the
quartz device. The device that R.app uses actually lives in R.app
whereas the older quartz device lives in R itself and AFAIK isn't
really maintained anymore. Basically, it's popping the transform stack
one too many times somewhere, but that only affects the particular
context so it's unlikely to affect anything.

On 1/16/07, John Maindonald <John.Maindonald at anu.edu.au> wrote:
> Thanks.  I have of course been aware of the event loop issue.  But
> does this also explain why the quartz window appears off screen?  I'd
> not have expected that the event loop issue ought to generate the
> "CGGStackRestore: gstack underflow" message.
>
> John Maindonald             email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
> Centre for Mathematics & Its Applications, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
>
>
> On 17 Jan 2007, at 6:54 AM, Byron Ellis wrote:
>
> > Hi James,
> >
> > This is because of the different between the Quartz and X11 Window
> > Server notion of How The World Works. Quartz event processing is an
> > in-process thing such that ALL events, including window dragging, must
> > be handled by the in-process event loop. When you start a Quartz
> > device when running in ESS there effectively isn't an event loop to do
> > the processing so you don't get to drag windows around. To top it off,
> > I believe the server may also differentiate between interactive and
> > non-interactive applications so despite getting access to the server
> > they can't receive events (but my memory here is hazy).
> >
> > In Mojave I had a function that actually gave you an event loop by
> > putting the console reader onto a separate thread and pumping the
> > event loop on the main thread, which seemed to work pretty well. It
> > also used an undocumented call to give you an interactive application,
> > which had the unfortunate side effect of a weird (unusable) dock icon,
> > but let you use a graphics device. I'll try to dig up a copy of that
> > (I took it out of the svn Mojave for reasons I've forgotten :-) ) and
> > post it somewhere. IIRC you might also get a bonus quartz graphics
> > device I was experimenting with. :-)
> >
> >
> > On 1/14/07, John Maindonald <john.maindonald at anu.edu.au> wrote:
> >> I am using a MacBook Pro with Core 2 Duo, with an external screen
> >> connected that is set to appear above the MacBook Pro's screen.  The
> >> laptop's menu appear bar is set to appear at the top of the external
> >> monitor.
> >>
> >> When I run R under ESS, or from the Unix command line, and type
> >> quartz
> >> (), the graphics window appears to the "left" of the external
> >> monitor.  Hitting the F9 key brings it into view, but there seems no
> >> way to grab it with the mouse and move it onto less ephemeral real
> >> estate.  [Under R.app, all is well.]
> >>
> >> [With x11() half the window is off to the left, and I can drag it to
> >> anywhere I want (either screen).]
> >>
> >> A further issue is that when I plot anything on the quartz screen, I
> >> get an "error: message, thus:
> >>
> >>  > quartz()
> >> Warning message:
> >> quartz() device interactivity reduced without an event loop manager
> >> in: quartz()
> >>  > plot(1:5, 1:5)
> >> CGGStackRestore: gstack underflow.
> >>
> >> The "CGGStackRestore: gstack underflow" message looks ominous, but it
> >> does not cause evident problems.
> >>
> >> Is there something I can do so that the positioning of the second
> >> screen is recognized?  At some time in the past, I am sure that
> >> quartz
> >> () [ and x11()] used to correctly recognize the positioning of the
> >> screens.  However it is a while since I used quartz(), and I would
> >> not have paid too much attention to the x11() behaviour.
> >> John Maindonald
> >>
> >>  > sessionInfo()
> >> R version 2.4.1 (2006-12-18)
> >> i386-apple-darwin8.8.1
> >>
> >> locale:
> >> C
> >>
> >> attached base packages:
> >> [1] "splines"   "stats"     "graphics"  "grDevices" "utils"
> >> "datasets"
> >> [7] "methods"   "base"
> >>
> >>
> >> John Maindonald             email: john.maindonald at anu.edu.au
> >> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
> >> Centre for Mathematics & Its Applications, Room 1194,
> >> John Dedman Mathematical Sciences Building (Building 27)
> >> Australian National University, Canberra ACT 0200.
> >>
> >> _______________________________________________
> >> R-SIG-Mac mailing list
> >> R-SIG-Mac at stat.math.ethz.ch
> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>
> >
> >
> > --
> > Byron Ellis (byron.ellis at gmail.com)
> > "Oook" -- The Librarian
>


-- 
Byron Ellis (byron.ellis at gmail.com)
"Oook" -- The Librarian


From stefano.iacus at unimi.it  Wed Jan 17 07:34:27 2007
From: stefano.iacus at unimi.it (stefano iacus)
Date: Wed, 17 Jan 2007 07:34:27 +0100
Subject: [R-SIG-Mac] Using a second monitor, running R under Unix
In-Reply-To: <7098abec0701161655j716786aal9a789ed8115b0971@mail.gmail.com>
References: <0E85CEEB-E63A-4BB8-B098-1E201B9918A8@williams.edu>
	<5F2FB31E-6B9C-47D0-9DFC-31DBA45FF621@anu.edu.au>
	<7098abec0701161154o151decacwc4339dc38aff083@mail.gmail.com>
	<6DB8E362-26FB-4E3D-BA96-620D588E339F@anu.edu.au>
	<7098abec0701161655j716786aal9a789ed8115b0971@mail.gmail.com>
Message-ID: <28387914-99B9-4119-B62B-D437C66AF01B@unimi.it>

I remind that that old R quartz window (i.e. not the one recoded in  
R.app) opens at the right-top corner of the screen.
I don't know what the system considers "right-top" when you have two  
monitors.

The error you get has always been there because the OS window server  
does not behave like X11 window server.
Did you get the same error if you open a terminal window in the  
second screen (the one in which quartz device pops-up), launch R from  
there and open quartz() device?

stefano
On 17/gen/07, at 01:55, Byron Ellis wrote:

> Oh, that's unrelated and mostly harmless probably due to bitrot in the
> quartz device. The device that R.app uses actually lives in R.app
> whereas the older quartz device lives in R itself and AFAIK isn't
> really maintained anymore. Basically, it's popping the transform stack
> one too many times somewhere, but that only affects the particular
> context so it's unlikely to affect anything.
>
> On 1/16/07, John Maindonald <John.Maindonald at anu.edu.au> wrote:
>> Thanks.  I have of course been aware of the event loop issue.  But
>> does this also explain why the quartz window appears off screen?  I'd
>> not have expected that the event loop issue ought to generate the
>> "CGGStackRestore: gstack underflow" message.
>>
>> John Maindonald             email: john.maindonald at anu.edu.au
>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>> Centre for Mathematics & Its Applications, Room 1194,
>> John Dedman Mathematical Sciences Building (Building 27)
>> Australian National University, Canberra ACT 0200.
>>
>>
>> On 17 Jan 2007, at 6:54 AM, Byron Ellis wrote:
>>
>>> Hi James,
>>>
>>> This is because of the different between the Quartz and X11 Window
>>> Server notion of How The World Works. Quartz event processing is an
>>> in-process thing such that ALL events, including window dragging,  
>>> must
>>> be handled by the in-process event loop. When you start a Quartz
>>> device when running in ESS there effectively isn't an event loop  
>>> to do
>>> the processing so you don't get to drag windows around. To top it  
>>> off,
>>> I believe the server may also differentiate between interactive and
>>> non-interactive applications so despite getting access to the server
>>> they can't receive events (but my memory here is hazy).
>>>
>>> In Mojave I had a function that actually gave you an event loop by
>>> putting the console reader onto a separate thread and pumping the
>>> event loop on the main thread, which seemed to work pretty well. It
>>> also used an undocumented call to give you an interactive  
>>> application,
>>> which had the unfortunate side effect of a weird (unusable) dock  
>>> icon,
>>> but let you use a graphics device. I'll try to dig up a copy of that
>>> (I took it out of the svn Mojave for reasons I've forgotten :-) )  
>>> and
>>> post it somewhere. IIRC you might also get a bonus quartz graphics
>>> device I was experimenting with. :-)
>>>
>>>
>>> On 1/14/07, John Maindonald <john.maindonald at anu.edu.au> wrote:
>>>> I am using a MacBook Pro with Core 2 Duo, with an external screen
>>>> connected that is set to appear above the MacBook Pro's screen.   
>>>> The
>>>> laptop's menu appear bar is set to appear at the top of the  
>>>> external
>>>> monitor.
>>>>
>>>> When I run R under ESS, or from the Unix command line, and type
>>>> quartz
>>>> (), the graphics window appears to the "left" of the external
>>>> monitor.  Hitting the F9 key brings it into view, but there  
>>>> seems no
>>>> way to grab it with the mouse and move it onto less ephemeral real
>>>> estate.  [Under R.app, all is well.]
>>>>
>>>> [With x11() half the window is off to the left, and I can drag  
>>>> it to
>>>> anywhere I want (either screen).]
>>>>
>>>> A further issue is that when I plot anything on the quartz  
>>>> screen, I
>>>> get an "error: message, thus:
>>>>
>>>>> quartz()
>>>> Warning message:
>>>> quartz() device interactivity reduced without an event loop manager
>>>> in: quartz()
>>>>> plot(1:5, 1:5)
>>>> CGGStackRestore: gstack underflow.
>>>>
>>>> The "CGGStackRestore: gstack underflow" message looks ominous,  
>>>> but it
>>>> does not cause evident problems.
>>>>
>>>> Is there something I can do so that the positioning of the second
>>>> screen is recognized?  At some time in the past, I am sure that
>>>> quartz
>>>> () [ and x11()] used to correctly recognize the positioning of the
>>>> screens.  However it is a while since I used quartz(), and I would
>>>> not have paid too much attention to the x11() behaviour.
>>>> John Maindonald
>>>>
>>>>> sessionInfo()
>>>> R version 2.4.1 (2006-12-18)
>>>> i386-apple-darwin8.8.1
>>>>
>>>> locale:
>>>> C
>>>>
>>>> attached base packages:
>>>> [1] "splines"   "stats"     "graphics"  "grDevices" "utils"
>>>> "datasets"
>>>> [7] "methods"   "base"
>>>>
>>>>
>>>> John Maindonald             email: john.maindonald at anu.edu.au
>>>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>>>> Centre for Mathematics & Its Applications, Room 1194,
>>>> John Dedman Mathematical Sciences Building (Building 27)
>>>> Australian National University, Canberra ACT 0200.
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>>
>>> --
>>> Byron Ellis (byron.ellis at gmail.com)
>>> "Oook" -- The Librarian
>>
>
>
> -- 
> Byron Ellis (byron.ellis at gmail.com)
> "Oook" -- The Librarian
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From John.Maindonald at anu.edu.au  Wed Jan 17 09:29:21 2007
From: John.Maindonald at anu.edu.au (John Maindonald)
Date: Wed, 17 Jan 2007 19:29:21 +1100
Subject: [R-SIG-Mac] Using a second monitor, running R under Unix
In-Reply-To: <28387914-99B9-4119-B62B-D437C66AF01B@unimi.it>
References: <0E85CEEB-E63A-4BB8-B098-1E201B9918A8@williams.edu>
	<5F2FB31E-6B9C-47D0-9DFC-31DBA45FF621@anu.edu.au>
	<7098abec0701161154o151decacwc4339dc38aff083@mail.gmail.com>
	<6DB8E362-26FB-4E3D-BA96-620D588E339F@anu.edu.au>
	<7098abec0701161655j716786aal9a789ed8115b0971@mail.gmail.com>
	<28387914-99B9-4119-B62B-D437C66AF01B@unimi.it>
Message-ID: <D650BFF3-5147-481C-8184-08E69097A8F8@anu.edu.au>

The effect is just the same.  The quartz window seems, from what I  
see when I press F9, to locate itself immediately to the left of the  
upper screen, which is the external monitor (and the one from whose  
terminal window I launched R).

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.


On 17 Jan 2007, at 5:34 PM, stefano iacus wrote:

> I remind that that old R quartz window (i.e. not the one recoded in
> R.app) opens at the right-top corner of the screen.
> I don't know what the system considers "right-top" when you have two
> monitors.
>
> The error you get has always been there because the OS window server
> does not behave like X11 window server.
> Did you get the same error if you open a terminal window in the
> second screen (the one in which quartz device pops-up), launch R from
> there and open quartz() device?
>
> stefano
> On 17/gen/07, at 01:55, Byron Ellis wrote:
>
>> Oh, that's unrelated and mostly harmless probably due to bitrot in  
>> the
>> quartz device. The device that R.app uses actually lives in R.app
>> whereas the older quartz device lives in R itself and AFAIK isn't
>> really maintained anymore. Basically, it's popping the transform  
>> stack
>> one too many times somewhere, but that only affects the particular
>> context so it's unlikely to affect anything.
>>
>> On 1/16/07, John Maindonald <John.Maindonald at anu.edu.au> wrote:
>>> Thanks.  I have of course been aware of the event loop issue.  But
>>> does this also explain why the quartz window appears off screen?   
>>> I'd
>>> not have expected that the event loop issue ought to generate the
>>> "CGGStackRestore: gstack underflow" message.
>>>
>>> John Maindonald             email: john.maindonald at anu.edu.au
>>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>>> Centre for Mathematics & Its Applications, Room 1194,
>>> John Dedman Mathematical Sciences Building (Building 27)
>>> Australian National University, Canberra ACT 0200.
>>>
>>>
>>> On 17 Jan 2007, at 6:54 AM, Byron Ellis wrote:
>>>
>>>> Hi James,
>>>>
>>>> This is because of the different between the Quartz and X11 Window
>>>> Server notion of How The World Works. Quartz event processing is an
>>>> in-process thing such that ALL events, including window dragging,
>>>> must
>>>> be handled by the in-process event loop. When you start a Quartz
>>>> device when running in ESS there effectively isn't an event loop
>>>> to do
>>>> the processing so you don't get to drag windows around. To top it
>>>> off,
>>>> I believe the server may also differentiate between interactive and
>>>> non-interactive applications so despite getting access to the  
>>>> server
>>>> they can't receive events (but my memory here is hazy).
>>>>
>>>> In Mojave I had a function that actually gave you an event loop by
>>>> putting the console reader onto a separate thread and pumping the
>>>> event loop on the main thread, which seemed to work pretty well. It
>>>> also used an undocumented call to give you an interactive
>>>> application,
>>>> which had the unfortunate side effect of a weird (unusable) dock
>>>> icon,
>>>> but let you use a graphics device. I'll try to dig up a copy of  
>>>> that
>>>> (I took it out of the svn Mojave for reasons I've forgotten :-) )
>>>> and
>>>> post it somewhere. IIRC you might also get a bonus quartz graphics
>>>> device I was experimenting with. :-)
>>>>
>>>>
>>>> On 1/14/07, John Maindonald <john.maindonald at anu.edu.au> wrote:
>>>>> I am using a MacBook Pro with Core 2 Duo, with an external screen
>>>>> connected that is set to appear above the MacBook Pro's screen.
>>>>> The
>>>>> laptop's menu appear bar is set to appear at the top of the
>>>>> external
>>>>> monitor.
>>>>>
>>>>> When I run R under ESS, or from the Unix command line, and type
>>>>> quartz
>>>>> (), the graphics window appears to the "left" of the external
>>>>> monitor.  Hitting the F9 key brings it into view, but there
>>>>> seems no
>>>>> way to grab it with the mouse and move it onto less ephemeral real
>>>>> estate.  [Under R.app, all is well.]
>>>>>
>>>>> [With x11() half the window is off to the left, and I can drag
>>>>> it to
>>>>> anywhere I want (either screen).]
>>>>>
>>>>> A further issue is that when I plot anything on the quartz
>>>>> screen, I
>>>>> get an "error: message, thus:
>>>>>
>>>>>> quartz()
>>>>> Warning message:
>>>>> quartz() device interactivity reduced without an event loop  
>>>>> manager
>>>>> in: quartz()
>>>>>> plot(1:5, 1:5)
>>>>> CGGStackRestore: gstack underflow.
>>>>>
>>>>> The "CGGStackRestore: gstack underflow" message looks ominous,
>>>>> but it
>>>>> does not cause evident problems.
>>>>>
>>>>> Is there something I can do so that the positioning of the second
>>>>> screen is recognized?  At some time in the past, I am sure that
>>>>> quartz
>>>>> () [ and x11()] used to correctly recognize the positioning of the
>>>>> screens.  However it is a while since I used quartz(), and I would
>>>>> not have paid too much attention to the x11() behaviour.
>>>>> John Maindonald
>>>>>
>>>>>> sessionInfo()
>>>>> R version 2.4.1 (2006-12-18)
>>>>> i386-apple-darwin8.8.1
>>>>>
>>>>> locale:
>>>>> C
>>>>>
>>>>> attached base packages:
>>>>> [1] "splines"   "stats"     "graphics"  "grDevices" "utils"
>>>>> "datasets"
>>>>> [7] "methods"   "base"
>>>>>
>>>>>
>>>>> John Maindonald             email: john.maindonald at anu.edu.au
>>>>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>>>>> Centre for Mathematics & Its Applications, Room 1194,
>>>>> John Dedman Mathematical Sciences Building (Building 27)
>>>>> Australian National University, Canberra ACT 0200.
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>
>>>>
>>>> --
>>>> Byron Ellis (byron.ellis at gmail.com)
>>>> "Oook" -- The Librarian
>>>
>>
>>
>> -- 
>> Byron Ellis (byron.ellis at gmail.com)
>> "Oook" -- The Librarian
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From stefano.iacus at unimi.it  Wed Jan 17 11:04:29 2007
From: stefano.iacus at unimi.it (stefano iacus)
Date: Wed, 17 Jan 2007 11:04:29 +0100
Subject: [R-SIG-Mac] Using a second monitor, running R under Unix
In-Reply-To: <D650BFF3-5147-481C-8184-08E69097A8F8@anu.edu.au>
References: <0E85CEEB-E63A-4BB8-B098-1E201B9918A8@williams.edu>
	<5F2FB31E-6B9C-47D0-9DFC-31DBA45FF621@anu.edu.au>
	<7098abec0701161154o151decacwc4339dc38aff083@mail.gmail.com>
	<6DB8E362-26FB-4E3D-BA96-620D588E339F@anu.edu.au>
	<7098abec0701161655j716786aal9a789ed8115b0971@mail.gmail.com>
	<28387914-99B9-4119-B62B-D437C66AF01B@unimi.it>
	<D650BFF3-5147-481C-8184-08E69097A8F8@anu.edu.au>
Message-ID: <211160EC-BBD0-4AE2-BF88-25833D0F3251@unimi.it>

so, I cannot tell. What I was aware of is that quartz window server  
needs a "connection to a screen", not a virtual one, which  meant it  
was not possible to launch  R itself when you were connected remotely  
to a server (like you usually do with X11). So, at that time, we  
patched R not use/load quartz code until an explicit use of the quartz 
() device was required by the user, and then the error you see was  
raised by the system at the time of a quartz() call.
Just historical remarks, but not helpful in your case.
stefano

On 17/gen/07, at 09:29, John Maindonald wrote:

> The effect is just the same.  The quartz window seems, from what I
> see when I press F9, to locate itself immediately to the left of the
> upper screen, which is the external monitor (and the one from whose
> terminal window I launched R).
>
> John Maindonald             email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
> Centre for Mathematics & Its Applications, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
>
>
> On 17 Jan 2007, at 5:34 PM, stefano iacus wrote:
>
>> I remind that that old R quartz window (i.e. not the one recoded in
>> R.app) opens at the right-top corner of the screen.
>> I don't know what the system considers "right-top" when you have two
>> monitors.
>>
>> The error you get has always been there because the OS window server
>> does not behave like X11 window server.
>> Did you get the same error if you open a terminal window in the
>> second screen (the one in which quartz device pops-up), launch R from
>> there and open quartz() device?
>>
>> stefano
>> On 17/gen/07, at 01:55, Byron Ellis wrote:
>>
>>> Oh, that's unrelated and mostly harmless probably due to bitrot in
>>> the
>>> quartz device. The device that R.app uses actually lives in R.app
>>> whereas the older quartz device lives in R itself and AFAIK isn't
>>> really maintained anymore. Basically, it's popping the transform
>>> stack
>>> one too many times somewhere, but that only affects the particular
>>> context so it's unlikely to affect anything.
>>>
>>> On 1/16/07, John Maindonald <John.Maindonald at anu.edu.au> wrote:
>>>> Thanks.  I have of course been aware of the event loop issue.  But
>>>> does this also explain why the quartz window appears off screen?
>>>> I'd
>>>> not have expected that the event loop issue ought to generate the
>>>> "CGGStackRestore: gstack underflow" message.
>>>>
>>>> John Maindonald             email: john.maindonald at anu.edu.au
>>>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>>>> Centre for Mathematics & Its Applications, Room 1194,
>>>> John Dedman Mathematical Sciences Building (Building 27)
>>>> Australian National University, Canberra ACT 0200.
>>>>
>>>>
>>>> On 17 Jan 2007, at 6:54 AM, Byron Ellis wrote:
>>>>
>>>>> Hi James,
>>>>>
>>>>> This is because of the different between the Quartz and X11 Window
>>>>> Server notion of How The World Works. Quartz event processing  
>>>>> is an
>>>>> in-process thing such that ALL events, including window dragging,
>>>>> must
>>>>> be handled by the in-process event loop. When you start a Quartz
>>>>> device when running in ESS there effectively isn't an event loop
>>>>> to do
>>>>> the processing so you don't get to drag windows around. To top it
>>>>> off,
>>>>> I believe the server may also differentiate between interactive  
>>>>> and
>>>>> non-interactive applications so despite getting access to the
>>>>> server
>>>>> they can't receive events (but my memory here is hazy).
>>>>>
>>>>> In Mojave I had a function that actually gave you an event loop by
>>>>> putting the console reader onto a separate thread and pumping the
>>>>> event loop on the main thread, which seemed to work pretty  
>>>>> well. It
>>>>> also used an undocumented call to give you an interactive
>>>>> application,
>>>>> which had the unfortunate side effect of a weird (unusable) dock
>>>>> icon,
>>>>> but let you use a graphics device. I'll try to dig up a copy of
>>>>> that
>>>>> (I took it out of the svn Mojave for reasons I've forgotten :-) )
>>>>> and
>>>>> post it somewhere. IIRC you might also get a bonus quartz graphics
>>>>> device I was experimenting with. :-)
>>>>>
>>>>>
>>>>> On 1/14/07, John Maindonald <john.maindonald at anu.edu.au> wrote:
>>>>>> I am using a MacBook Pro with Core 2 Duo, with an external screen
>>>>>> connected that is set to appear above the MacBook Pro's screen.
>>>>>> The
>>>>>> laptop's menu appear bar is set to appear at the top of the
>>>>>> external
>>>>>> monitor.
>>>>>>
>>>>>> When I run R under ESS, or from the Unix command line, and type
>>>>>> quartz
>>>>>> (), the graphics window appears to the "left" of the external
>>>>>> monitor.  Hitting the F9 key brings it into view, but there
>>>>>> seems no
>>>>>> way to grab it with the mouse and move it onto less ephemeral  
>>>>>> real
>>>>>> estate.  [Under R.app, all is well.]
>>>>>>
>>>>>> [With x11() half the window is off to the left, and I can drag
>>>>>> it to
>>>>>> anywhere I want (either screen).]
>>>>>>
>>>>>> A further issue is that when I plot anything on the quartz
>>>>>> screen, I
>>>>>> get an "error: message, thus:
>>>>>>
>>>>>>> quartz()
>>>>>> Warning message:
>>>>>> quartz() device interactivity reduced without an event loop
>>>>>> manager
>>>>>> in: quartz()
>>>>>>> plot(1:5, 1:5)
>>>>>> CGGStackRestore: gstack underflow.
>>>>>>
>>>>>> The "CGGStackRestore: gstack underflow" message looks ominous,
>>>>>> but it
>>>>>> does not cause evident problems.
>>>>>>
>>>>>> Is there something I can do so that the positioning of the second
>>>>>> screen is recognized?  At some time in the past, I am sure that
>>>>>> quartz
>>>>>> () [ and x11()] used to correctly recognize the positioning of  
>>>>>> the
>>>>>> screens.  However it is a while since I used quartz(), and I  
>>>>>> would
>>>>>> not have paid too much attention to the x11() behaviour.
>>>>>> John Maindonald
>>>>>>
>>>>>>> sessionInfo()
>>>>>> R version 2.4.1 (2006-12-18)
>>>>>> i386-apple-darwin8.8.1
>>>>>>
>>>>>> locale:
>>>>>> C
>>>>>>
>>>>>> attached base packages:
>>>>>> [1] "splines"   "stats"     "graphics"  "grDevices" "utils"
>>>>>> "datasets"
>>>>>> [7] "methods"   "base"
>>>>>>
>>>>>>
>>>>>> John Maindonald             email: john.maindonald at anu.edu.au
>>>>>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>>>>>> Centre for Mathematics & Its Applications, Room 1194,
>>>>>> John Dedman Mathematical Sciences Building (Building 27)
>>>>>> Australian National University, Canberra ACT 0200.
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Byron Ellis (byron.ellis at gmail.com)
>>>>> "Oook" -- The Librarian
>>>>
>>>
>>>
>>> -- 
>>> Byron Ellis (byron.ellis at gmail.com)
>>> "Oook" -- The Librarian
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From reinhold.kliegl at gmail.com  Wed Jan 17 11:12:54 2007
From: reinhold.kliegl at gmail.com (Reinhold Kliegl)
Date: Wed, 17 Jan 2007 11:12:54 +0100
Subject: [R-SIG-Mac]  R crash
Message-ID: <375FA454-DD07-4551-AA75-747BBD1186FA@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070117/92bacc7f/attachment.pl 

From dfaden at gmail.com  Wed Jan 17 13:05:03 2007
From: dfaden at gmail.com (David Faden)
Date: Wed, 17 Jan 2007 13:05:03 +0100
Subject: [R-SIG-Mac] ISNA(NA_REAL) == false?
Message-ID: <6730abff0701170405p780fc248i414903ba642bf802@mail.gmail.com>

Hi,

Is it expected that ISNA(NA_REAL) will evaluate to false? From Writing
R Extensions, I'd expected it instead to evaluate to true, but this
seems not to be the case. What value should one use to represent an NA
in native code if not NA_REAL? (I am trying to test some code by using
a small C++ application to call it. Ultimately the code will be called
from within R, but I'm hoping to get more information out of gdb this
way. To get this to work, though, I need to be able to get the
equivalent of expressions such as rep(c(NA, 1), 50), in my native
code.)

isnan, etc., seem to be available.

Below is some example code and its output on my computer, along with
some version info. Thanks much for any insights into what's going on.

David
----
dfaden at iastate.edu
AIM: pitulx
----

na.cpp:
#include <iostream>
#include <R_ext/Arith.h>

int main()
{
  if (!ISNA(NA_REAL)) {
    std::cout << "Hm.\n";
  }
}

Output:
$ g++ -I/Library/Frameworks/R.framework/Versions/Current/Resources/include
-L/Library/Frameworks/R.framework/Versions/Current/Resources/lib -lR
na.cpp
$ R CMD ./a.out
Hm.

----

g++ version:
i686-apple-darwin8-g++-4.0.1 (GCC) 4.0.1 (Apple Computer, Inc. build 5250)

R version:
platform       i386-apple-darwin8.8.1
arch           i386
os             darwin8.8.1
system         i386, darwin8.8.1
status
major          2
minor          4.1
year           2006
month          12
day            18
svn rev        40228
language       R
version.string R version 2.4.1 (2006-12-18)

I'm running Mac OS X 10.4.8.


From murdoch at stats.uwo.ca  Wed Jan 17 13:37:41 2007
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 17 Jan 2007 07:37:41 -0500
Subject: [R-SIG-Mac] ISNA(NA_REAL) == false?
In-Reply-To: <6730abff0701170405p780fc248i414903ba642bf802@mail.gmail.com>
References: <6730abff0701170405p780fc248i414903ba642bf802@mail.gmail.com>
Message-ID: <45AE1895.6050009@stats.uwo.ca>

On 1/17/2007 7:05 AM, David Faden wrote:
> Hi,
> 
> Is it expected that ISNA(NA_REAL) will evaluate to false?

No, but what it does is compare to something in memory.  If R hasn't 
initialized, that location won't be set, and you'll get wrong results.

See the "Using these functions in your own C code" for instructions on 
how to build things for your sort of use.  Your code was linked as 
though it would be called from a running version of R, which had handled 
the initialization.

Duncan Murdoch

  From Writing
> R Extensions, I'd expected it instead to evaluate to true, but this
> seems not to be the case. What value should one use to represent an NA
> in native code if not NA_REAL? (I am trying to test some code by using
> a small C++ application to call it. Ultimately the code will be called
> from within R, but I'm hoping to get more information out of gdb this
> way. To get this to work, though, I need to be able to get the
> equivalent of expressions such as rep(c(NA, 1), 50), in my native
> code.)
> 
> isnan, etc., seem to be available.
> 
> Below is some example code and its output on my computer, along with
> some version info. Thanks much for any insights into what's going on.
> 
> David
> ----
> dfaden at iastate.edu
> AIM: pitulx
> ----
> 
> na.cpp:
> #include <iostream>
> #include <R_ext/Arith.h>
> 
> int main()
> {
>   if (!ISNA(NA_REAL)) {
>     std::cout << "Hm.\n";
>   }
> }
> 
> Output:
> $ g++ -I/Library/Frameworks/R.framework/Versions/Current/Resources/include
> -L/Library/Frameworks/R.framework/Versions/Current/Resources/lib -lR
> na.cpp
> $ R CMD ./a.out
> Hm.
> 
> ----
> 
> g++ version:
> i686-apple-darwin8-g++-4.0.1 (GCC) 4.0.1 (Apple Computer, Inc. build 5250)
> 
> R version:
> platform       i386-apple-darwin8.8.1
> arch           i386
> os             darwin8.8.1
> system         i386, darwin8.8.1
> status
> major          2
> minor          4.1
> year           2006
> month          12
> day            18
> svn rev        40228
> language       R
> version.string R version 2.4.1 (2006-12-18)
> 
> I'm running Mac OS X 10.4.8.
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From sfalcon at fhcrc.org  Wed Jan 17 16:00:30 2007
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Wed, 17 Jan 2007 07:00:30 -0800
Subject: [R-SIG-Mac] Problem loading RSQLite
In-Reply-To: <67E0135C-DEDE-464F-A007-B01AB07A0C0A@ucla.edu> (Giovanni
	Coppola's message of "Tue, 16 Jan 2007 15:45:24 -0800")
References: <667A029A-591A-4E3D-8221-5735DD223E87@magpienest.org>
	<m23b8b5x1q.fsf@ziti.local>
	<67E0135C-DEDE-464F-A007-B01AB07A0C0A@ucla.edu>
Message-ID: <m2k5zlg0kx.fsf@ziti.local>

Hi Giovanni,

Giovanni Coppola <gcoppola at ucla.edu> writes:
> Hello Seth and Allan,
> Do you have any news on this? I still have the same problem with
> R 2.4.1 ppc
> OS X 10.4.8
> DBI 0.1-12
> RSQLite 0.4-18

I don't have much news for you.  I suspect that the binaries hosted on
CRAN simply do not work on PPC (well, at least they do not work for
the three of us).

Simon, can you tell us anything about how the RSQLite binary is being
built?  Have you tested it on ppc and does it work for you?

I installed RSQLite from source using R 2.4.0 and have posted the
resulting binary here (the .tgz):

    http://www.bioconductor.org/packages/misc/

It would be interesting to know if that works for you.

Best,

+ seth


From simon.urbanek at r-project.org  Wed Jan 17 16:55:30 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 17 Jan 2007 10:55:30 -0500
Subject: [R-SIG-Mac] Using a second monitor, running R under Unix
In-Reply-To: <5F2FB31E-6B9C-47D0-9DFC-31DBA45FF621@anu.edu.au>
References: <0E85CEEB-E63A-4BB8-B098-1E201B9918A8@williams.edu>
	<5F2FB31E-6B9C-47D0-9DFC-31DBA45FF621@anu.edu.au>
Message-ID: <AB206E07-A210-49D8-97E4-9D4C4304D1C5@r-project.org>

Thanks, John.
This this should be now fixed in the R24-branch (e.g. fetch the  
installer from http://r.research.att.com tomorrow). It is a quick  
hack, legacy Quartz windows will now appear in the center of the main  
screen.

In general that device (Quartz in console R) is unsupported and will  
go away very soon, because it is a legacy from very old times and the  
API it uses is now deprecated and Apple will remove it from future OS  
X versions. We are working on a replacement device for R-devel, but  
it won't work in R 2.4.1, so stay tuned and I'll let you know when  
it's time to test the new beast ;).

Cheers,
Simon


On Jan 14, 2007, at 6:04 PM, John Maindonald wrote:

> I am using a MacBook Pro with Core 2 Duo, with an external screen
> connected that is set to appear above the MacBook Pro's screen.  The
> laptop's menu appear bar is set to appear at the top of the external
> monitor.
>
> When I run R under ESS, or from the Unix command line, and type quartz
> (), the graphics window appears to the "left" of the external
> monitor.  Hitting the F9 key brings it into view, but there seems no
> way to grab it with the mouse and move it onto less ephemeral real
> estate.  [Under R.app, all is well.]
>
> [With x11() half the window is off to the left, and I can drag it to
> anywhere I want (either screen).]
>
> A further issue is that when I plot anything on the quartz screen, I
> get an "error: message, thus:
>
>> quartz()
> Warning message:
> quartz() device interactivity reduced without an event loop manager
> in: quartz()
>> plot(1:5, 1:5)
> CGGStackRestore: gstack underflow.
>
> The "CGGStackRestore: gstack underflow" message looks ominous, but it
> does not cause evident problems.
>
> Is there something I can do so that the positioning of the second
> screen is recognized?  At some time in the past, I am sure that quartz
> () [ and x11()] used to correctly recognize the positioning of the
> screens.  However it is a while since I used quartz(), and I would
> not have paid too much attention to the x11() behaviour.
> John Maindonald
>
>> sessionInfo()
> R version 2.4.1 (2006-12-18)
> i386-apple-darwin8.8.1
>
> locale:
> C
>
> attached base packages:
> [1] "splines"   "stats"     "graphics"  "grDevices" "utils"
> "datasets"
> [7] "methods"   "base"
>
>
> John Maindonald             email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
> Centre for Mathematics & Its Applications, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Wed Jan 17 16:58:34 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 17 Jan 2007 10:58:34 -0500
Subject: [R-SIG-Mac] Problem loading RSQLite
In-Reply-To: <m2k5zlg0kx.fsf@ziti.local>
References: <667A029A-591A-4E3D-8221-5735DD223E87@magpienest.org>
	<m23b8b5x1q.fsf@ziti.local>
	<67E0135C-DEDE-464F-A007-B01AB07A0C0A@ucla.edu>
	<m2k5zlg0kx.fsf@ziti.local>
Message-ID: <A6582E2B-D897-4473-B26C-5DED91182642@r-project.org>

Seth,

indeed - sorry, I must have missed that e-mail. R doesn't provide a  
way of testing multiple architectures, so we run make check only for  
the i386 version and thus it missed the ppc-specific issue. I'll look  
into that...

Cheers,
Simon

On Jan 17, 2007, at 10:00 AM, Seth Falcon wrote:

> Hi Giovanni,
>
> Giovanni Coppola <gcoppola at ucla.edu> writes:
>> Hello Seth and Allan,
>> Do you have any news on this? I still have the same problem with
>> R 2.4.1 ppc
>> OS X 10.4.8
>> DBI 0.1-12
>> RSQLite 0.4-18
>
> I don't have much news for you.  I suspect that the binaries hosted on
> CRAN simply do not work on PPC (well, at least they do not work for
> the three of us).
>
> Simon, can you tell us anything about how the RSQLite binary is being
> built?  Have you tested it on ppc and does it work for you?
>
> I installed RSQLite from source using R 2.4.0 and have posted the
> resulting binary here (the .tgz):
>
>     http://www.bioconductor.org/packages/misc/
>
> It would be interesting to know if that works for you.
>
> Best,
>
> + seth
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Wed Jan 17 17:34:20 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 17 Jan 2007 11:34:20 -0500
Subject: [R-SIG-Mac] Problem loading RSQLite
In-Reply-To: <A6582E2B-D897-4473-B26C-5DED91182642@r-project.org>
References: <667A029A-591A-4E3D-8221-5735DD223E87@magpienest.org>
	<m23b8b5x1q.fsf@ziti.local>
	<67E0135C-DEDE-464F-A007-B01AB07A0C0A@ucla.edu>
	<m2k5zlg0kx.fsf@ziti.local>
	<A6582E2B-D897-4473-B26C-5DED91182642@r-project.org>
Message-ID: <359027A8-A869-478A-AA9A-604B2EDF19C0@r-project.org>

Seth,

I have found the problem - it's a bug in the RSQLite package. The  
RSQLite package package provides its own SQLite version, but it uses  
the wrong compiler to compile it and therefore it compiles the wrong  
architecture (the result will be i386 binary of SQLite despite R  
being configured for ppc). In fact the configure script uses the  
wrong compiler as well. The fix is really easy - it's just the  
sequence of setting CC and failure to export it:

--- RSQLite/configure.in        2006-09-29 13:00:34.000000000 -0400
+++ RSQLite/configure.in1       2007-01-17 11:24:34.000000000 -0500
@@ -42,9 +42,6 @@
AC_INIT(src/RS-SQLite.c)
-AC_PROG_CPP
-AC_PROG_CC
-
# As suggested by BDR, I may need to use CFLAGS to compile under 64-bit
# (I can't test this), but see "Writing R Extensions"
: ${R_HOME=`R RHOME`}
@@ -55,6 +52,9 @@
CC=`"${R_HOME}/bin/R" CMD config CC`
CFLAGS=`"${R_HOME}/bin/R" CMD config CFLAGS`
+AC_PROG_CPP
+AC_PROG_CC
+
FOUND_ALL="no"
#
@@ -193,6 +193,7 @@
     echo "(the file /tmp/sqlite$$ stores compiler messages)"
     echo ""
     export SQLITE_TDIR
+   export CC
     ( ./configure --silent --prefix=${SQLITE_TDIR}    \
                   --disable-tcl \
                   --enable-shared=${SQLITE_SHARED} --with-pic && \

There is one more issue: when the internal SQLite is used, RSQLite  
will put it in inst/sqlite. This is inherently unsafe, because it  
overwrites all previous architectures and thus it won't work for any  
but the first (or last) installed architecture. It would be a good  
idea to use ${R_ARCH} in the path (at least for lib) to avoid this  
problem. It's not a fatal problem, because I don't think anyone  
really uses the installed sqlite, but it limits its usefulness.

Cheers,
Simon


On Jan 17, 2007, at 10:58 AM, Simon Urbanek wrote:

> Seth,
>
> indeed - sorry, I must have missed that e-mail. R doesn't provide a  
> way of testing multiple architectures, so we run make check only  
> for the i386 version and thus it missed the ppc-specific issue.  
> I'll look into that...
>
> Cheers,
> Simon
>
> On Jan 17, 2007, at 10:00 AM, Seth Falcon wrote:
>
>> Hi Giovanni,
>>
>> Giovanni Coppola <gcoppola at ucla.edu> writes:
>>> Hello Seth and Allan,
>>> Do you have any news on this? I still have the same problem with
>>> R 2.4.1 ppc
>>> OS X 10.4.8
>>> DBI 0.1-12
>>> RSQLite 0.4-18
>>
>> I don't have much news for you.  I suspect that the binaries  
>> hosted on
>> CRAN simply do not work on PPC (well, at least they do not work for
>> the three of us).
>>
>> Simon, can you tell us anything about how the RSQLite binary is being
>> built?  Have you tested it on ppc and does it work for you?
>>
>> I installed RSQLite from source using R 2.4.0 and have posted the
>> resulting binary here (the .tgz):
>>
>>     http://www.bioconductor.org/packages/misc/
>>
>> It would be interesting to know if that works for you.
>>
>> Best,
>>
>> + seth
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>


From sfalcon at fhcrc.org  Wed Jan 17 21:18:33 2007
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Wed, 17 Jan 2007 12:18:33 -0800
Subject: [R-SIG-Mac] Problem loading RSQLite
In-Reply-To: <359027A8-A869-478A-AA9A-604B2EDF19C0@r-project.org> (Simon
	Urbanek's message of "Wed, 17 Jan 2007 11:34:20 -0500")
References: <667A029A-591A-4E3D-8221-5735DD223E87@magpienest.org>
	<m23b8b5x1q.fsf@ziti.local>
	<67E0135C-DEDE-464F-A007-B01AB07A0C0A@ucla.edu>
	<m2k5zlg0kx.fsf@ziti.local>
	<A6582E2B-D897-4473-B26C-5DED91182642@r-project.org>
	<359027A8-A869-478A-AA9A-604B2EDF19C0@r-project.org>
Message-ID: <m2y7o176g6.fsf@ziti.local>

Simon Urbanek <simon.urbanek at r-project.org> writes:

> Seth,
>
> I have found the problem - it's a bug in the RSQLite package. The
> RSQLite package package provides its own SQLite version, but it uses
> the wrong compiler to compile it and therefore it compiles the wrong
> architecture (the result will be i386 binary of SQLite despite R
> being configured for ppc). In fact the configure script uses the
> wrong compiler as well. The fix is really easy - it's just the
> sequence of setting CC and failure to export it:

Thanks for the patch.  I will apply it and send an update to CRAN this
week.

> There is one more issue: when the internal SQLite is used, RSQLite
> will put it in inst/sqlite. This is inherently unsafe, because it
> overwrites all previous architectures and thus it won't work for any
> but the first (or last) installed architecture. It would be a good
> idea to use ${R_ARCH} in the path (at least for lib) to avoid this
> problem. It's not a fatal problem, because I don't think anyone
> really uses the installed sqlite, but it limits its usefulness.

I will consider adding an ${R_ARCH} to the install location.  For the
binary packages, I wonder if we should just delete the dir entirely:
RSQLite links to it statically.  This would considerably reduce the
size of the binary package.

+ seth


From sfalcon at fhcrc.org  Wed Jan 17 22:32:07 2007
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Wed, 17 Jan 2007 13:32:07 -0800
Subject: [R-SIG-Mac] Problem loading RSQLite
In-Reply-To: <m2y7o176g6.fsf@ziti.local> (Seth Falcon's message of "Wed,
	17 Jan 2007 12:18:33 -0800")
References: <667A029A-591A-4E3D-8221-5735DD223E87@magpienest.org>
	<m23b8b5x1q.fsf@ziti.local>
	<67E0135C-DEDE-464F-A007-B01AB07A0C0A@ucla.edu>
	<m2k5zlg0kx.fsf@ziti.local>
	<A6582E2B-D897-4473-B26C-5DED91182642@r-project.org>
	<359027A8-A869-478A-AA9A-604B2EDF19C0@r-project.org>
	<m2y7o176g6.fsf@ziti.local>
Message-ID: <m21wlt731k.fsf@ziti.local>

Seth Falcon <sfalcon at fhcrc.org> writes:

> Simon Urbanek <simon.urbanek at r-project.org> writes:
>
>> Seth,
>>
>> I have found the problem - it's a bug in the RSQLite package. The
>> RSQLite package package provides its own SQLite version, but it uses
>> the wrong compiler to compile it and therefore it compiles the wrong
>> architecture (the result will be i386 binary of SQLite despite R
>> being configured for ppc). In fact the configure script uses the
>> wrong compiler as well. The fix is really easy - it's just the
>> sequence of setting CC and failure to export it:
>
> Thanks for the patch.  I will apply it and send an update to CRAN this
> week.

An update has been uploaded to CRAN.  I assume that a new OS X binary
for RSQLite will be available within a few days...

+ seth


From John.Maindonald at anu.edu.au  Wed Jan 17 23:29:53 2007
From: John.Maindonald at anu.edu.au (John Maindonald)
Date: Thu, 18 Jan 2007 09:29:53 +1100
Subject: [R-SIG-Mac] Using a second monitor, running R under Unix
In-Reply-To: <AB206E07-A210-49D8-97E4-9D4C4304D1C5@r-project.org>
References: <0E85CEEB-E63A-4BB8-B098-1E201B9918A8@williams.edu>
	<5F2FB31E-6B9C-47D0-9DFC-31DBA45FF621@anu.edu.au>
	<AB206E07-A210-49D8-97E4-9D4C4304D1C5@r-project.org>
Message-ID: <76730671-A8A3-4068-A0CA-5E6E92FE587B@anu.edu.au>

Thanks.  Presumably the replacement device will have have a  
functioning event loop manager?  That will be nice.  quartz() offers  
some features that are not available from x11().

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.


On 18 Jan 2007, at 2:55 AM, Simon Urbanek wrote:

> Thanks, John.
> This this should be now fixed in the R24-branch (e.g. fetch the  
> installer from http://r.research.att.com tomorrow). It is a quick  
> hack, legacy Quartz windows will now appear in the center of the  
> main screen.
>
> In general that device (Quartz in console R) is unsupported and  
> will go away very soon, because it is a legacy from very old times  
> and the API it uses is now deprecated and Apple will remove it from  
> future OS X versions. We are working on a replacement device for R- 
> devel, but it won't work in R 2.4.1, so stay tuned and I'll let you  
> know when it's time to test the new beast ;).
>
> Cheers,
> Simon
>
>
> On Jan 14, 2007, at 6:04 PM, John Maindonald wrote:
>
>> I am using a MacBook Pro with Core 2 Duo, with an external screen
>> connected that is set to appear above the MacBook Pro's screen.  The
>> laptop's menu appear bar is set to appear at the top of the external
>> monitor.
>>
>> When I run R under ESS, or from the Unix command line, and type  
>> quartz
>> (), the graphics window appears to the "left" of the external
>> monitor.  Hitting the F9 key brings it into view, but there seems no
>> way to grab it with the mouse and move it onto less ephemeral real
>> estate.  [Under R.app, all is well.]
>>
>> [With x11() half the window is off to the left, and I can drag it to
>> anywhere I want (either screen).]
>>
>> A further issue is that when I plot anything on the quartz screen, I
>> get an "error: message, thus:
>>
>>> quartz()
>> Warning message:
>> quartz() device interactivity reduced without an event loop manager
>> in: quartz()
>>> plot(1:5, 1:5)
>> CGGStackRestore: gstack underflow.
>>
>> The "CGGStackRestore: gstack underflow" message looks ominous, but it
>> does not cause evident problems.
>>
>> Is there something I can do so that the positioning of the second
>> screen is recognized?  At some time in the past, I am sure that  
>> quartz
>> () [ and x11()] used to correctly recognize the positioning of the
>> screens.  However it is a while since I used quartz(), and I would
>> not have paid too much attention to the x11() behaviour.
>> John Maindonald
>>
>>> sessionInfo()
>> R version 2.4.1 (2006-12-18)
>> i386-apple-darwin8.8.1
>>
>> locale:
>> C
>>
>> attached base packages:
>> [1] "splines"   "stats"     "graphics"  "grDevices" "utils"
>> "datasets"
>> [7] "methods"   "base"
>>
>>
>> John Maindonald             email: john.maindonald at anu.edu.au
>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>> Centre for Mathematics & Its Applications, Room 1194,
>> John Dedman Mathematical Sciences Building (Building 27)
>> Australian National University, Canberra ACT 0200.
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>


From knussear at usgs.gov  Thu Jan 18 20:48:20 2007
From: knussear at usgs.gov (Ken Nussear)
Date: Thu, 18 Jan 2007 11:48:20 -0800
Subject: [R-SIG-Mac] R-SIG-Mac Digest, Vol 47, Issue 13
In-Reply-To: <mailman.2982.1169069557.7140.r-sig-mac@stat.math.ethz.ch>
References: <mailman.2982.1169069557.7140.r-sig-mac@stat.math.ethz.ch>
Message-ID: <D5FF249D-0080-408D-ABE7-77D32C84A718@usgs.gov>

Has anyone come up with a solution to adding binaries to R 2.4.0 or  
2.4.1? I am trying to install several packages that always fail. I am  
running a Mac Pro and lost lots of functionality after upgrading from  
2.3.1. I have tried manually downloading the packages, but they won't  
even uncompress in the finder. I think there are a bunch of bad  
packages out there. so far I have issues with rgl and fBasics.

I've tried the cran library and the one at BioConductor and I get the  
same errors.

Here is an example...

trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/contrib/ 
2.4/rgl_0.68.tgz'
Content type 'application/x-gzip' length 1649254 bytes
opened URL
==================================================
downloaded 1610Kb

Error in sprintf(gettext(fmt, domain = domain), ...) :
	argument is missing, with no default
In addition: Warning message:
no package 'file43cd3747' was found in: packageDescription(p, lib =  
lib, fields = fields, encoding = NA)
tar: Skipping to next header
tar: Archive contains obsolescent base-64 headers

gzip: stdin: invalid compressed data--crc error

gzip: stdin: invalid compressed data--length error
tar: Child returned status 1
tar: Error exit delayed from previous errors
 >

Alternatively I wouldn't mind going back to 2.3.1, but I can't find  
it anywhere..

Can anyone help?

Thanks

Ken


From John.Maindonald at anu.edu.au  Thu Jan 18 22:53:13 2007
From: John.Maindonald at anu.edu.au (John Maindonald)
Date: Fri, 19 Jan 2007 08:53:13 +1100
Subject: [R-SIG-Mac] Interrupting an R process, under ESS.
In-Reply-To: <AB206E07-A210-49D8-97E4-9D4C4304D1C5@r-project.org>
References: <0E85CEEB-E63A-4BB8-B098-1E201B9918A8@williams.edu>
	<5F2FB31E-6B9C-47D0-9DFC-31DBA45FF621@anu.edu.au>
	<AB206E07-A210-49D8-97E4-9D4C4304D1C5@r-project.org>
Message-ID: <EBB4433B-FBA7-4FBA-AEA9-78846A789A74@anu.edu.au>

While we are on running R under UNIX, here is another issue.

When the session hangs (most recently from running identify() on a  
quartz window), the only way I have found to interrupt is to kill the  
R process from the command line.  Activation of BREAK from the ESS  
menu bar, if I can get to it (as in this instance I could), seems  
ineffective.

The problem most often occurs because I have tried to plot without  
either starting X11 or opening a quartz window, and in that instance  
I cannot get to the BREAK on the ESS menu bar.  Or it may happen  
because the X11 process has somehow been corrupted (probably from  
unplugging the external monitor while the laptop is asleep, which I  
have found is a nono). Is this also an event loop manager issue?

In this situation (no X11) the behaviour seems a bit unpredictable;  
the session may hang, or I may get a warning message.

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.


On 18 Jan 2007, at 2:55 AM, Simon Urbanek wrote:

> Thanks, John.
> This this should be now fixed in the R24-branch (e.g. fetch the  
> installer from http://r.research.att.com tomorrow). It is a quick  
> hack, legacy Quartz windows will now appear in the center of the  
> main screen.
>
> In general that device (Quartz in console R) is unsupported and  
> will go away very soon, because it is a legacy from very old times  
> and the API it uses is now deprecated and Apple will remove it from  
> future OS X versions. We are working on a replacement device for R- 
> devel, but it won't work in R 2.4.1, so stay tuned and I'll let you  
> know when it's time to test the new beast ;).
>
> Cheers,
> Simon
>
>
> On Jan 14, 2007, at 6:04 PM, John Maindonald wrote:
>
>> I am using a MacBook Pro with Core 2 Duo, with an external screen
>> connected that is set to appear above the MacBook Pro's screen.  The
>> laptop's menu appear bar is set to appear at the top of the external
>> monitor.
>>
>> When I run R under ESS, or from the Unix command line, and type  
>> quartz
>> (), the graphics window appears to the "left" of the external
>> monitor.  Hitting the F9 key brings it into view, but there seems no
>> way to grab it with the mouse and move it onto less ephemeral real
>> estate.  [Under R.app, all is well.]
>>
>> [With x11() half the window is off to the left, and I can drag it to
>> anywhere I want (either screen).]
>>
>> A further issue is that when I plot anything on the quartz screen, I
>> get an "error: message, thus:
>>
>>> quartz()
>> Warning message:
>> quartz() device interactivity reduced without an event loop manager
>> in: quartz()
>>> plot(1:5, 1:5)
>> CGGStackRestore: gstack underflow.
>>
>> The "CGGStackRestore: gstack underflow" message looks ominous, but it
>> does not cause evident problems.
>>
>> Is there something I can do so that the positioning of the second
>> screen is recognized?  At some time in the past, I am sure that  
>> quartz
>> () [ and x11()] used to correctly recognize the positioning of the
>> screens.  However it is a while since I used quartz(), and I would
>> not have paid too much attention to the x11() behaviour.
>> John Maindonald
>>
>>> sessionInfo()
>> R version 2.4.1 (2006-12-18)
>> i386-apple-darwin8.8.1
>>
>> locale:
>> C
>>
>> attached base packages:
>> [1] "splines"   "stats"     "graphics"  "grDevices" "utils"
>> "datasets"
>> [7] "methods"   "base"
>>
>>
>> John Maindonald             email: john.maindonald at anu.edu.au
>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>> Centre for Mathematics & Its Applications, Room 1194,
>> John Dedman Mathematical Sciences Building (Building 27)
>> Australian National University, Canberra ACT 0200.
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>


From simon.urbanek at r-project.org  Thu Jan 18 23:17:48 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 18 Jan 2007 17:17:48 -0500
Subject: [R-SIG-Mac] R-SIG-Mac Digest, Vol 47, Issue 13
In-Reply-To: <D5FF249D-0080-408D-ABE7-77D32C84A718@usgs.gov>
References: <mailman.2982.1169069557.7140.r-sig-mac@stat.math.ethz.ch>
	<D5FF249D-0080-408D-ABE7-77D32C84A718@usgs.gov>
Message-ID: <EC12B5C5-9643-4A3A-8424-D1CCAF837EC0@r-project.org>

Ken,

On Jan 18, 2007, at 2:48 PM, Ken Nussear wrote:

> Has anyone come up with a solution to adding binaries to R 2.4.0 or  
> 2.4.1? I am trying to install several packages that always fail. I  
> am running a Mac Pro and lost lots of functionality after upgrading  
> from 2.3.1. I have tried manually downloading the packages, but  
> they won't even uncompress in the finder. I think there are a bunch  
> of bad packages out there. so far I have issues with rgl and fBasics.
>

Hm... strange, no problems here (CRAN R 2.4.1, Mac Pro, OS X 10.4.8)  
and I was specifically using the same mirror:

 > install.packages("rgl")
trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/contrib/ 
2.4/rgl_0.68.tgz'
Content type 'application/x-gzip' length 1649254 bytes
opened URL
==================================================
downloaded 1610Kb


The downloaded packages are in
         /tmp/RtmpIydIm9/downloaded_packages
 > library(rgl)
 >

Can you, please, send me more detailed info: Did you try another  
mirror? Is the package file downloaded correctly? Did you try to  
unpack the downloaded file manually? Do you have any proxy or  
firewall that could impede the download? Can you install the package  
manually (i.e. by downloading it with a browser and using the package  
installer to install it from the file)?

Thanks,
Simon


> I've tried the cran library and the one at BioConductor and I get the
> same errors.
>
> Here is an example...
>
> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/universal/contrib/
> 2.4/rgl_0.68.tgz'
> Content type 'application/x-gzip' length 1649254 bytes
> opened URL
> ==================================================
> downloaded 1610Kb
>
> Error in sprintf(gettext(fmt, domain = domain), ...) :
> 	argument is missing, with no default
> In addition: Warning message:
> no package 'file43cd3747' was found in: packageDescription(p, lib =
> lib, fields = fields, encoding = NA)
> tar: Skipping to next header
> tar: Archive contains obsolescent base-64 headers
>
> gzip: stdin: invalid compressed data--crc error
>
> gzip: stdin: invalid compressed data--length error
> tar: Child returned status 1
> tar: Error exit delayed from previous errors
>>
>
> Alternatively I wouldn't mind going back to 2.3.1, but I can't find
> it anywhere..
>
> Can anyone help?
>
> Thanks
>
> Ken
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From lists at revelle.net  Fri Jan 19 18:22:12 2007
From: lists at revelle.net (William Revelle)
Date: Fri, 19 Jan 2007 11:22:12 -0600
Subject: [R-SIG-Mac] help on loading RGraphviz
Message-ID: <p06230900c1d69f6978ec@[192.168.1.44]>

Dear Mac R list,

I am trying to load RGraphviz so that I can use Graphviz directly 
from R rather than as a stand alone program.

Following (I think) the advice given to the list in August, I have 
installed Graphviz-2.8 from the att site and the bioconductor 
packages from Bioconductor lite.

(from http://www.arcknowledge.com/gmane.comp.lang.r.mac/2006-08/msg00044.html)

>  To install Rgraphviz on OSX when using the binary installation of R
>  downloaded from CRAN (that is, the R app), do the following:
>
>  1. Install the _graphviz_ binary from http://r.research.att.com/.
>
>  2. Install the _binary_ version of the BioC Rgraphviz package:
>
>       source("http://bioconductor.org/biocLite.R";)
>       biocLite("Rgraphviz")

Did that.


However, when I try to load Rgraphviz I get the following error message:

Loading required package: graph
Loading required package: geneplotter
Loading required package: annotate
Loading required package: Biobase
Loading required package: tools

Welcome to Bioconductor

     Vignettes contain introductory material. To view, type
     'openVignette()' or start with 'help(Biobase)'. For details
     on reading vignettes, see the openVignette help page.

KernSmooth 2.22 installed
Copyright M. P. Wand 1997
Error in dyn.load(x, as.logical(local), as.logical(now)) :
	unable to load shared library 
'/Library/Frameworks/R.framework/Versions/2.4/Resources/library/Rgraphviz/libs/i386/Rgraphviz.so':
 
dlopen(/Library/Frameworks/R.framework/Versions/2.4/Resources/library/Rgraphviz/libs/i386/Rgraphviz.so, 
6): Symbol not found: _agfstnode
   Referenced from: 
/Library/Frameworks/R.framework/Versions/2.4/Resources/library/Rgraphviz/libs/i386/Rgraphviz.so
   Expected in: dynamic lookup
Error: .onLoad failed in 'loadNamespace' for 'Rgraphviz'
Error: package/namespace load failed for 'Rgraphviz'
>  version
                _                          
platform       i386-apple-darwin8.8.1     
arch           i386                       
os             darwin8.8.1                
system         i386, darwin8.8.1          
status                                    
major          2                          
minor          4.1                        
year           2006                       
month          12                         
day            18                         
svn rev        40228                      
language       R                          
version.string R version 2.4.1 (2006-12-18)

There are a variety of followups to the August set of posts, but 
nothing that seems to directly help.

Any help would be appreciated.

Thanks.

Bill

-- 
William Revelle		http://pmc.psych.northwestern.edu/revelle.html   
Professor			http://personality-project.org/personality.html
Department of Psychology       http://www.wcas.northwestern.edu/psych/
Northwestern University	http://www.northwestern.edu/


From kubovy at virginia.edu  Sat Jan 20 19:07:04 2007
From: kubovy at virginia.edu (Michael Kubovy)
Date: Sat, 20 Jan 2007 13:07:04 -0500
Subject: [R-SIG-Mac] Question about JGR and tcltk
Message-ID: <9F1832D2-F3EC-4568-A70E-59E116803A6A@virginia.edu>

Dear Mac R users,

I have raised this issue before but have received no answer. Under  
Mac OS X, tcltk does not live in peace with JGR but it does with R  
GUI. Suggestions anyone?

***********************************
Under JGR:
***********************************
 > library(TeachingDemos)
Loading required package: tcltk
Loading Tcl/Tk interface ... Error in fun(...) : Can't find a usable  
init.tcl in the following directories:
     @TCL_IN_FRAMEWORK@ @TCL_IN_FRAMEWORK@

This probably means that Tcl wasn't installed properly.
Error: .onLoad failed in 'loadNamespace' for 'tcltk'
Error: package 'tcltk' could not be loaded
***********************************
 > sessionInfo()
R version 2.4.1 (2006-12-18)
powerpc-apple-darwin8.8.0

locale:
C

attached base packages:
[1] "datasets"  "grid"      "graphics"  "grDevices" "stats"      
"utils"     "methods"
[8] "base"

other attached packages:
          JGR       iplots       JavaGD         MASS      
gridBase      lattice latticeExtra
     "1.4-15"      "1.0-5"      "0.3-5"     "7.2-31"      "0.4-3"     
"0.14-16"      "0.1-4"
        rJava       xtable
     "0.4-13"      "1.4-3"
_________________________
***********************************
Under the Mac OS GUI:
***********************************
 > library(TeachingDemos)
Loading required package: tcltk
Loading Tcl/Tk interface ... done
Loading required package: lattice
Loading required package: tkrplot
***********************************
 > sessionInfo()
R version 2.4.1 (2006-12-18)
powerpc-apple-darwin8.8.0

locale:
en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] "tcltk"     "stats"     "graphics"  "grDevices" "utils"      
"datasets"  "methods"   "base"

other attached packages:
TeachingDemos       tkrplot       lattice
         "1.4"      "0.0-16"     "0.14-16"
_________________________
_____________________________
Professor Michael Kubovy
University of Virginia
Department of Psychology
USPS:     P.O.Box 400400    Charlottesville, VA 22904-4400
Parcels:    Room 102        Gilmer Hall
         McCormick Road    Charlottesville, VA 22903
Office:    B011    +1-434-982-4729
Lab:        B019    +1-434-982-4751
Fax:        +1-434-982-4766
WWW:    http://www.people.virginia.edu/~mk9y/


From simon.urbanek at r-project.org  Sat Jan 20 21:12:58 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 20 Jan 2007 15:12:58 -0500
Subject: [R-SIG-Mac] Question about JGR and tcltk
In-Reply-To: <9F1832D2-F3EC-4568-A70E-59E116803A6A@virginia.edu>
References: <9F1832D2-F3EC-4568-A70E-59E116803A6A@virginia.edu>
Message-ID: <F06E2850-6ED7-45ED-885F-E63B5BE3AB2E@r-project.org>

Michael,

I suspect that the problem is DYLD_LIBRARY_PATH which causes R to  
load the wrong Tcl/Tk library. Try stats-rosuda-devel mailing list ;)

Cheers,
Simon

On Jan 20, 2007, at 1:07 PM, Michael Kubovy wrote:

> Dear Mac R users,
>
> I have raised this issue before but have received no answer. Under
> Mac OS X, tcltk does not live in peace with JGR but it does with R
> GUI. Suggestions anyone?
>
> ***********************************
> Under JGR:
> ***********************************
>> library(TeachingDemos)
> Loading required package: tcltk
> Loading Tcl/Tk interface ... Error in fun(...) : Can't find a usable
> init.tcl in the following directories:
>      @TCL_IN_FRAMEWORK@ @TCL_IN_FRAMEWORK@
>
> This probably means that Tcl wasn't installed properly.
> Error: .onLoad failed in 'loadNamespace' for 'tcltk'
> Error: package 'tcltk' could not be loaded
> ***********************************
>> sessionInfo()
> R version 2.4.1 (2006-12-18)
> powerpc-apple-darwin8.8.0
>
> locale:
> C
>
> attached base packages:
> [1] "datasets"  "grid"      "graphics"  "grDevices" "stats"
> "utils"     "methods"
> [8] "base"
>
> other attached packages:
>           JGR       iplots       JavaGD         MASS
> gridBase      lattice latticeExtra
>      "1.4-15"      "1.0-5"      "0.3-5"     "7.2-31"      "0.4-3"
> "0.14-16"      "0.1-4"
>         rJava       xtable
>      "0.4-13"      "1.4-3"
> _________________________
> ***********************************
> Under the Mac OS GUI:
> ***********************************
>> library(TeachingDemos)
> Loading required package: tcltk
> Loading Tcl/Tk interface ... done
> Loading required package: lattice
> Loading required package: tkrplot
> ***********************************
>> sessionInfo()
> R version 2.4.1 (2006-12-18)
> powerpc-apple-darwin8.8.0
>
> locale:
> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] "tcltk"     "stats"     "graphics"  "grDevices" "utils"
> "datasets"  "methods"   "base"
>
> other attached packages:
> TeachingDemos       tkrplot       lattice
>          "1.4"      "0.0-16"     "0.14-16"
> _________________________
> _____________________________
> Professor Michael Kubovy
> University of Virginia
> Department of Psychology
> USPS:     P.O.Box 400400    Charlottesville, VA 22904-4400
> Parcels:    Room 102        Gilmer Hall
>          McCormick Road    Charlottesville, VA 22903
> Office:    B011    +1-434-982-4729
> Lab:        B019    +1-434-982-4751
> Fax:        +1-434-982-4766
> WWW:    http://www.people.virginia.edu/~mk9y/
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From ibowkdher at gmail.com  Sun Jan 21 18:56:53 2007
From: ibowkdher at gmail.com (John Bowker)
Date: Sun, 21 Jan 2007 11:56:53 -0600
Subject: [R-SIG-Mac] tuneR playback in OS X
Message-ID: <2de7632c0701210956u65e9dc26qfe586734fd445d16@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070121/8e09a8ba/attachment.pl 

From fabien.subtil at insa-lyon.fr  Sun Jan 21 09:54:32 2007
From: fabien.subtil at insa-lyon.fr (Fabien Subtil)
Date: Sun, 21 Jan 2007 09:54:32 +0100
Subject: [R-SIG-Mac] Problem with the editor
Message-ID: <C9128B56-A10F-4071-9C70-A43D1D4B5EE9@insa-lyon.fr>

Dear sir,

I have a problem since recent versions of R.app with the editor. When  
I try to open quite long file in the R.app editor (file which was  
created with the R.app editor on a previous session), the application  
crashs. I have this problem with many of my " .R" files, but in  
general, not if they are small.
So, I have to open the document on an other editor, and copy it on  
the R editor. It's not difficult, but I don't know why the R.app crashs.
This problem is maybe due to my computer, but I have no other Mac.
I put on this mail an example of a file wich makes the R. app crash.

Think you very much,

Fabien Subtil

?

------------------------------------------------------------
Fabien Subtil
INSA Lyon - BioInformatique et Mod?lisation
fabien.subtil at insa-lyon.fr



-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070121/0347e802/attachment.html 
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ajout.R
Type: application/octet-stream
Size: 4977 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070121/0347e802/attachment.obj 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070121/0347e802/attachment-0001.html 

From simon.urbanek at r-project.org  Mon Jan 22 15:54:43 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 22 Jan 2007 09:54:43 -0500
Subject: [R-SIG-Mac] Problem with the editor
In-Reply-To: <C9128B56-A10F-4071-9C70-A43D1D4B5EE9@insa-lyon.fr>
References: <C9128B56-A10F-4071-9C70-A43D1D4B5EE9@insa-lyon.fr>
Message-ID: <29265910-14CB-485E-A149-D6AF6E14D07A@r-project.org>

Fabien,

On Jan 21, 2007, at 3:54 AM, Fabien Subtil wrote:

> I have a problem since recent versions of R.app with the editor.  
> When I try to open quite long file in the R.app editor (file which  
> was created with the R.app editor on a previous session), the  
> application crashs. I have this problem with many of my " .R"  
> files, but in general, not if they are small.
> So, I have to open the document on an other editor, and copy it on  
> the R editor. It's not difficult, but I don't know why the R.app  
> crashs.
> This problem is maybe due to my computer, but I have no other Mac.
> I put on this mail an example of a file wich makes the R. app crash.

I'm sorry, I cannot reproduce the problem with your file (using CRAN  
R 2.4.1 on Mac Pro).

Please
1) send us a full crash report
2) tell us exactly what hardware and R + R.app version you are using

Thanks,
Simon


From ess28 at cornell.edu  Mon Jan 22 23:58:35 2007
From: ess28 at cornell.edu (Emmanuel Sharef)
Date: Mon, 22 Jan 2007 17:58:35 -0500
Subject: [R-SIG-Mac] Beachball on quartz windows (command line only)
Message-ID: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>

Hello,

When plotting from R in the command line (run in the Terminal, not as  
R.app), it behaves oddly.

If I simply type a command to plot something (e.g. hist(rnorm 
(1000))  ), nothing happens.
If I type quartz(), an empty quartz window opens, but the mouse  
cursor always turns into a spinning beachball when passing over it. I  
can plot to this window, but I cannot move or close it, because of  
the beach ball. Calling the quartz.save() function referenced in the  
R Mac FAQ returns 'Error: could not find function "quartz.save"'.

Everything works fine inside R.app though. Running R in an X11 xterm  
works fine too, but quartz graphics are nicer. Is there a way to fix  
the problem with getting quartz graphics from the terminal?

Thanks,
Emmanuel


From simon.urbanek at r-project.org  Tue Jan 23 01:37:09 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 22 Jan 2007 19:37:09 -0500
Subject: [R-SIG-Mac] Beachball on quartz windows (command line only)
In-Reply-To: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
Message-ID: <0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>


On Jan 22, 2007, at 5:58 PM, Emmanuel Sharef wrote:

> Hello,
>
> When plotting from R in the command line (run in the Terminal, not as
> R.app), it behaves oddly.
>
> If I simply type a command to plot something (e.g. hist(rnorm
> (1000))  ), nothing happens.
> If I type quartz(), an empty quartz window opens, but the mouse
> cursor always turns into a spinning beachball when passing over it. I
> can plot to this window, but I cannot move or close it, because of
> the beach ball. Calling the quartz.save() function referenced in the
> R Mac FAQ returns 'Error: could not find function "quartz.save"'.
>
> Everything works fine inside R.app though. Running R in an X11 xterm
> works fine too, but quartz graphics are nicer. Is there a way to fix
> the problem with getting quartz graphics from the terminal?
>

Quartz was designed to work with R.app. As R warns you, Quartz  
doesn't interact with you if there is no event loop running and in  
Terminal on ESS there is none. However, I have just put together a  
hack that will help a bit - install and load CarbonEL:
install.packages("CarbonEL",,"http://rforge.net/")
library(CarbonEL)

As soon as you load CarbonEL, Quartz becomes usable, because the  
package installs a Carbon event loop which can driver Quartz. In  
R.app this is not needed, because R.app provides its own event loop.

Cheers,
Simon


From simon.urbanek at r-project.org  Tue Jan 23 01:44:35 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 22 Jan 2007 19:44:35 -0500
Subject: [R-SIG-Mac] Quartz + ESS solution
Message-ID: <DD932DFE-59CD-48A2-A8EC-A685214358AE@r-project.org>

I have put together a hack that allows to run old Quartz device from  
within a command line R (such R run in ESS). Basically it hooks a  
Carbon even loop into R's event loop and thus allows Apple UI events  
to be processed. It also makes R a front application such that it  
responds to mouse/keyboard and appears in the dock. Note that Emacs  
runs R as a separate application, so you will have both Emacs and R  
(with a blank icon) in the dock.

How to install:

install.packages("CarbonEL",,"http://rforge.net/")

to load:
library(CarbonEL)

Make sure CarbonEL package gets loaded by ESS such that Quartz is  
always responsive. This also works for R run from a shell such that  
Terminal or xterm.

Cheers,
Simon

PS: The above doesn't fix other problems with the old Quartz device  
(R.app uses a different, newer Quartz device! E.g. quartz.save(..)  
works only in R.app). It is just a hack for people that don't mind  
using the old Quartz device ;).


From ess28 at cornell.edu  Tue Jan 23 03:02:22 2007
From: ess28 at cornell.edu (Emmanuel Sharef)
Date: Mon, 22 Jan 2007 21:02:22 -0500
Subject: [R-SIG-Mac] Beachball on quartz windows (command line only)
In-Reply-To: <0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
Message-ID: <8590D675-141B-4420-8263-D02FABD6DDF0@cornell.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070122/d67c30ce/attachment.pl 

From HStevens at muohio.edu  Tue Jan 23 11:57:13 2007
From: HStevens at muohio.edu (MHH Stevens)
Date: Tue, 23 Jan 2007 05:57:13 -0500
Subject: [R-SIG-Mac] Beachball on quartz windows (command line only)
In-Reply-To: <0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
Message-ID: <94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070123/5c1dc8ac/attachment.pl 

From simon.urbanek at r-project.org  Tue Jan 23 14:03:17 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 23 Jan 2007 08:03:17 -0500
Subject: [R-SIG-Mac] Beachball on quartz windows (command line only)
In-Reply-To: <94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
	<94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>
Message-ID: <ABE961B3-1360-44F7-89A5-83E41EC00C25@r-project.org>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070123/a074e377/attachment.pl 

From sfalcon at fhcrc.org  Tue Jan 23 16:02:40 2007
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Tue, 23 Jan 2007 07:02:40 -0800
Subject: [R-SIG-Mac] help on loading RGraphviz
In-Reply-To: <p06230900c1d69f6978ec@[192.168.1.44]> (William Revelle's message
	of "Fri, 19 Jan 2007 11:22:12 -0600")
References: <p06230900c1d69f6978ec@[192.168.1.44]>
Message-ID: <m24pqhokfj.fsf@ziti.local>

Hi William,

William Revelle <lists at revelle.net> writes:
> Following (I think) the advice given to the list in August, I have 
> installed Graphviz-2.8 from the att site and the bioconductor 
> packages from Bioconductor lite.

It looks like you are following the right set of instructions :-)

Can you try reinstalling Rgraphviz using biocLite, it is possible that
you don't have a recent bug fix related to the problem you are having.

If that doesn't help, let us know.

+ seth


From semafory at wp.pl  Tue Jan 23 23:29:36 2007
From: semafory at wp.pl (Marcin Jaworski)
Date: Tue, 23 Jan 2007 23:29:36 +0100
Subject: [R-SIG-Mac] Quartz + ESS solution
In-Reply-To: <DD932DFE-59CD-48A2-A8EC-A685214358AE@r-project.org>
References: <DD932DFE-59CD-48A2-A8EC-A685214358AE@r-project.org>
Message-ID: <20070123222936.1284878343@smtp.wp.pl>

Simon Urbanek wrote:

>I have put together a hack that allows to run old Quartz device from  
>within a command line R (such R run in ESS).
(...)

Hello,

It does work in ESS !! Thank you.

(R version 2.4.1 (2006-12-18))
(R.app GUI 1.18 (4038))
(GNU Emacs 22.0.92.1 (powerpc-apple-darwin8.8.0, Carbon Version 1.6.0))

MJ


From dalfes at itu.edu.tr  Wed Jan 24 10:44:47 2007
From: dalfes at itu.edu.tr (=?UTF-8?B?TsO8emhldCBEYWxmZXM=?=)
Date: Wed, 24 Jan 2007 11:44:47 +0200
Subject: [R-SIG-Mac] Problem installing packages
Message-ID: <45B72A8F.1020402@itu.edu.tr>

Hi,

I am a total newbie to R. I am using R (2.4.1) on Mac OS X 10.4.8 and
trying to desperately install some packages using GUI Packages &
Data/Package Installer
interface...

Every time I get:

trying URL
'http://cran.ch.r-project.org/bin/macosx/universal/contrib/2.4/ncdf_1.6.tgz'
Content type 'application/x-tar' length 439316 bytes
opened URL
==================================================
downloaded 429Kb

Error in gzfile(file, "r") : unable to open connection
In addition: Warning message:
cannot open compressed file 'ncdf/DESCRIPTION'

[I do have administration rights on my system.]

What am I doing wrong?

Any help will be much appreciated.

N?zhet Dalfes

Istanbul Tech. Univ.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dalfes.vcf
Type: text/x-vcard
Size: 372 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070124/0ce4db49/attachment.vcf 

From roland.kaiser at sbg.ac.at  Wed Jan 24 17:37:31 2007
From: roland.kaiser at sbg.ac.at (Roland Kaiser)
Date: Wed, 24 Jan 2007 17:37:31 +0100
Subject: [R-SIG-Mac] repeated crashes
Message-ID: <C9F53668-49AD-46BE-B660-3D81D2E1F775@sbg.ac.at>

Hi!

when using the built in editor
R crashes when editing the script.

The GUI reports something like

... (snippet)
2007-01-24 17:18:13.851 R[394] *** -[NSSelectionArray set]: selector  
not recognized [self = 0xd777960]

*** caught bus error ***
address 0x120, cause 'non-existent physical address'
...

or

...
2007-01-24 17:26:00.623 R[409] *** -[NSEvent set]: selector not  
recognized [self = 0xf9189b0]
...


does anybody know what this means?

Thanks

My System:

R 2.4.1 GUI 1.18 (4038)

iMac 5,1
Intel Core 2 Duo
2.16 GHz
2 GB
Darwin 8.8.1


From simon.urbanek at r-project.org  Wed Jan 24 17:48:03 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 24 Jan 2007 11:48:03 -0500
Subject: [R-SIG-Mac] repeated crashes
In-Reply-To: <C9F53668-49AD-46BE-B660-3D81D2E1F775@sbg.ac.at>
References: <C9F53668-49AD-46BE-B660-3D81D2E1F775@sbg.ac.at>
Message-ID: <78A5AC9F-4D14-4E14-83B5-B9A905D3A695@r-project.org>

Roland,

please sent me the full crash report, "something like" doesn't really  
help.

Also if you find a reproducible way to cause the crash, that would be  
highly helpful as well.

Thanks,
Simon

On Jan 24, 2007, at 11:37 AM, Roland Kaiser wrote:

> Hi!
>
> when using the built in editor
> R crashes when editing the script.
>
> The GUI reports something like
>
> ... (snippet)
> 2007-01-24 17:18:13.851 R[394] *** -[NSSelectionArray set]: selector
> not recognized [self = 0xd777960]
>
> *** caught bus error ***
> address 0x120, cause 'non-existent physical address'
> ...
>
> or
>
> ...
> 2007-01-24 17:26:00.623 R[409] *** -[NSEvent set]: selector not
> recognized [self = 0xf9189b0]
> ...
>
>
> does anybody know what this means?
>
> Thanks
>
> My System:
>
> R 2.4.1 GUI 1.18 (4038)
>
> iMac 5,1
> Intel Core 2 Duo
> 2.16 GHz
> 2 GB
> Darwin 8.8.1
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From reinhold.kliegl at gmail.com  Thu Jan 25 14:22:31 2007
From: reinhold.kliegl at gmail.com (Reinhold Kliegl)
Date: Thu, 25 Jan 2007 14:22:31 +0100
Subject: [R-SIG-Mac] repeated crashes
In-Reply-To: <mailman.25.1169722808.11374.r-sig-mac@stat.math.ethz.ch>
References: <mailman.25.1169722808.11374.r-sig-mac@stat.math.ethz.ch>
Message-ID: <DB6F2F99-48B9-416F-ABA8-36CA99A0B329@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070125/5f7187b0/attachment.pl 

From bcarvalh at jhsph.edu  Mon Jan 29 16:40:59 2007
From: bcarvalh at jhsph.edu (Benilton Carvalho)
Date: Mon, 29 Jan 2007 10:40:59 -0500
Subject: [R-SIG-Mac] [R] lmer2 error under Mac OS X on PowerPC G5 but
	not on Dual-Core Intel Xeon
In-Reply-To: <2EF22041-6C3E-44DF-ABED-19AA08FA5BC4@virginia.edu>
References: <7665FCCA-208B-4B07-9A95-A7559D0DD3C4@virginia.edu>
	<82D8B52C-E3EE-4B2F-AFBF-7897E889ECDB@jhsph.edu>
	<2EF22041-6C3E-44DF-ABED-19AA08FA5BC4@virginia.edu>
Message-ID: <5BB734C9-EBD7-49E7-8CC6-DD55AF76BB1C@jhsph.edu>

So, I decided to give it a try (and just now noticed that this is the  
example in lmer2)

I just gave it a try on a PPC G4 and it worked as expected. I'm  
copying R-sig-mac (sorry for the crosspost) as the experts there  
might give you a better suggestion.

 > fm1 <- lmer2(Reaction ~ Days + (Days|Subject), sleepstudy)
 > fm1
Linear mixed-effects model fit by REML
Formula: Reaction ~ Days + (Days | Subject)
    Data: sleepstudy
   AIC  BIC logLik MLdeviance REMLdeviance
1754 1770 -871.8       1752         1744
Random effects:
Groups   Name        Variance Std.Dev. Corr
Subject  (Intercept) 612.128  24.7412
           Days         35.049   5.9202  0.066
Residual             654.970  25.5924
Number of obs: 180, groups: Subject, 18

Fixed effects:
             Estimate Std. Error t value
(Intercept)  251.405      6.825   36.84
Days          10.467      1.545    6.77

Correlation of Fixed Effects:
      (Intr)
Days -0.137
 > sessionInfo()
R version 2.5.0 Under development (unstable) (2007-01-03 r40349)
powerpc-apple-darwin8.8.0

locale:
C

attached base packages:
[1] "stats"     "graphics"  "grDevices" "utils"     "datasets"   
"methods"
[7] "base"

other attached packages:
        lme4      Matrix     lattice
"0.9975-11"  "0.9975-8"   "0.14-16"


On Jan 29, 2007, at 7:40 AM, Michael Kubovy wrote:

> On Jan 28, 2007, at 9:39 PM, Benilton Carvalho wrote:
>
>> This seems to be due to the fact that you didn't have enough  
>> memory when running lmer2.
>>
>> I might be wrong, but I think Calloc tries to get contiguous  
>> memory, so this might the problem.
>>
>> If you are positive that you have enough memory, a gc() might help.
>
> I have 2 GB memory on this machine. Should be enough, no?
>
> > gc()
>           used (Mb) gc trigger (Mb) max used (Mb)
> Ncells 1008175 27.0    1476915 39.5  1368491 36.6
> Vcells  540055  4.2    1031040  7.9  1031026  7.9
> > (fm1 <- lmer2(Reaction ~ Days + (Days|Subject), sleepstudy))
> Error in as.double(start) : Calloc could not allocate (903190944 of  
> 4) memory
>
>
>> On Jan 28, 2007, at 8:35 PM, Michael Kubovy wrote:
>>
>>>> (fm1 <- lmer2(Reaction ~ Days + (Days|Subject), sleepstudy))
>>> Error in as.double(start) : Calloc could not allocate (888475968 of
>>> 4) memory
>>> *************************
>>>> sessionInfo()
>>> R version 2.4.1 (2006-12-18)
>>> powerpc-apple-darwin8.8.0
>>>
>>> locale:
>>> C
>>>
>>> attached base packages:
>>> [1] "grid"      "datasets"  "stats"     "graphics"  "grDevices"
>>> "utils"     "methods"
>>> [8] "base"
>>>
>>> other attached packages:
>>>          lme4       Matrix       xtable latticeExtra      lattice
>>> gridBase         MASS
>>> "0.9975-11"   "0.9975-8"      "1.4-3"      "0.1-4"    "0.14-16"
>>> "0.4-3"     "7.2-31"
>>>           JGR       iplots       JavaGD        rJava
>>>      "1.4-15"      "1.0-5"      "0.3-5"     "0.4-13"
>>> *************************
>>> lmer runs the example w/o a problem
>>>
>>> I just tried to run it on on Intel-based MacPro, and lmer2 ran
>>> without a hitch.
> _____________________________
> Professor Michael Kubovy
> University of Virginia
> Department of Psychology
> USPS:     P.O.Box 400400    Charlottesville, VA 22904-4400
> Parcels:    Room 102        Gilmer Hall
>         McCormick Road    Charlottesville, VA 22903
> Office:    B011    +1-434-982-4729
> Lab:        B019    +1-434-982-4751
> Fax:        +1-434-982-4766
> WWW:    http://www.people.virginia.edu/~mk9y/
>


From simon.urbanek at r-project.org  Mon Jan 29 17:28:39 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 29 Jan 2007 11:28:39 -0500
Subject: [R-SIG-Mac] [R] lmer2 error under Mac OS X on PowerPC G5 but
	not on Dual-Core Intel Xeon
In-Reply-To: <5BB734C9-EBD7-49E7-8CC6-DD55AF76BB1C@jhsph.edu>
References: <7665FCCA-208B-4B07-9A95-A7559D0DD3C4@virginia.edu>
	<82D8B52C-E3EE-4B2F-AFBF-7897E889ECDB@jhsph.edu>
	<2EF22041-6C3E-44DF-ABED-19AA08FA5BC4@virginia.edu>
	<5BB734C9-EBD7-49E7-8CC6-DD55AF76BB1C@jhsph.edu>
Message-ID: <A0ABAC88-BCDE-40D9-B1E7-001702F32E17@r-project.org>

I'm not sure - what is the question here? It works for me on a both  
PowerPC G5 and Mac Pro (R 2.4.1 CRAN binary):

 > fm1 <- lmer(Reaction ~ Days + (Days|Subject), sleepstudy)
 > fm1
Linear mixed-effects model fit by REML
Formula: Reaction ~ Days + (Days | Subject)
    Data: sleepstudy
   AIC  BIC logLik MLdeviance REMLdeviance
1754 1770 -871.8       1752         1744
Random effects:
Groups   Name        Variance Std.Dev. Corr
Subject  (Intercept) 610.835  24.7151
           Days         35.056   5.9208  0.067
Residual             655.066  25.5943
number of obs: 180, groups: Subject, 18

Fixed effects:
             Estimate Std. Error t value
(Intercept)  251.405      6.820   36.86
Days          10.467      1.546    6.77

Correlation of Fixed Effects:
      (Intr)
Days -0.137
 > gc()
          used (Mb) gc trigger (Mb) max used (Mb)
Ncells 966960 25.9    1368491 36.6  1265230 33.8
Vcells 523595  4.0    1031040  7.9   755843  5.8
 > sessionInfo()
R version 2.4.1 (2006-12-18)
i386-apple-darwin8.8.1

locale:
C

attached base packages:
[1] "stats"     "graphics"  "grDevices" "utils"     "datasets"   
"methods"
[7] "base"

other attached packages:
        lme4      Matrix     lattice
"0.9975-11"  "0.9975-8"   "0.14-16"

Cheers,
Simon

On Jan 29, 2007, at 10:40 AM, Benilton Carvalho wrote:

> So, I decided to give it a try (and just now noticed that this is the
> example in lmer2)
>
> I just gave it a try on a PPC G4 and it worked as expected. I'm
> copying R-sig-mac (sorry for the crosspost) as the experts there
> might give you a better suggestion.
>
>> fm1 <- lmer2(Reaction ~ Days + (Days|Subject), sleepstudy)
>> fm1
> Linear mixed-effects model fit by REML
> Formula: Reaction ~ Days + (Days | Subject)
>     Data: sleepstudy
>    AIC  BIC logLik MLdeviance REMLdeviance
> 1754 1770 -871.8       1752         1744
> Random effects:
> Groups   Name        Variance Std.Dev. Corr
> Subject  (Intercept) 612.128  24.7412
>            Days         35.049   5.9202  0.066
> Residual             654.970  25.5924
> Number of obs: 180, groups: Subject, 18
>
> Fixed effects:
>              Estimate Std. Error t value
> (Intercept)  251.405      6.825   36.84
> Days          10.467      1.545    6.77
>
> Correlation of Fixed Effects:
>       (Intr)
> Days -0.137
>> sessionInfo()
> R version 2.5.0 Under development (unstable) (2007-01-03 r40349)
> powerpc-apple-darwin8.8.0
>
> locale:
> C
>
> attached base packages:
> [1] "stats"     "graphics"  "grDevices" "utils"     "datasets"
> "methods"
> [7] "base"
>
> other attached packages:
>         lme4      Matrix     lattice
> "0.9975-11"  "0.9975-8"   "0.14-16"
>
>
> On Jan 29, 2007, at 7:40 AM, Michael Kubovy wrote:
>
>> On Jan 28, 2007, at 9:39 PM, Benilton Carvalho wrote:
>>
>>> This seems to be due to the fact that you didn't have enough
>>> memory when running lmer2.
>>>
>>> I might be wrong, but I think Calloc tries to get contiguous
>>> memory, so this might the problem.
>>>
>>> If you are positive that you have enough memory, a gc() might help.
>>
>> I have 2 GB memory on this machine. Should be enough, no?
>>
>>> gc()
>>           used (Mb) gc trigger (Mb) max used (Mb)
>> Ncells 1008175 27.0    1476915 39.5  1368491 36.6
>> Vcells  540055  4.2    1031040  7.9  1031026  7.9
>>> (fm1 <- lmer2(Reaction ~ Days + (Days|Subject), sleepstudy))
>> Error in as.double(start) : Calloc could not allocate (903190944 of
>> 4) memory
>>
>>
>>> On Jan 28, 2007, at 8:35 PM, Michael Kubovy wrote:
>>>
>>>>> (fm1 <- lmer2(Reaction ~ Days + (Days|Subject), sleepstudy))
>>>> Error in as.double(start) : Calloc could not allocate (888475968 of
>>>> 4) memory
>>>> *************************
>>>>> sessionInfo()
>>>> R version 2.4.1 (2006-12-18)
>>>> powerpc-apple-darwin8.8.0
>>>>
>>>> locale:
>>>> C
>>>>
>>>> attached base packages:
>>>> [1] "grid"      "datasets"  "stats"     "graphics"  "grDevices"
>>>> "utils"     "methods"
>>>> [8] "base"
>>>>
>>>> other attached packages:
>>>>          lme4       Matrix       xtable latticeExtra      lattice
>>>> gridBase         MASS
>>>> "0.9975-11"   "0.9975-8"      "1.4-3"      "0.1-4"    "0.14-16"
>>>> "0.4-3"     "7.2-31"
>>>>           JGR       iplots       JavaGD        rJava
>>>>      "1.4-15"      "1.0-5"      "0.3-5"     "0.4-13"
>>>> *************************
>>>> lmer runs the example w/o a problem
>>>>
>>>> I just tried to run it on on Intel-based MacPro, and lmer2 ran
>>>> without a hitch.
>> _____________________________
>> Professor Michael Kubovy
>> University of Virginia
>> Department of Psychology
>> USPS:     P.O.Box 400400    Charlottesville, VA 22904-4400
>> Parcels:    Room 102        Gilmer Hall
>>         McCormick Road    Charlottesville, VA 22903
>> Office:    B011    +1-434-982-4729
>> Lab:        B019    +1-434-982-4751
>> Fax:        +1-434-982-4766
>> WWW:    http://www.people.virginia.edu/~mk9y/
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From bcarvalh at jhsph.edu  Mon Jan 29 17:40:13 2007
From: bcarvalh at jhsph.edu (Benilton Carvalho)
Date: Mon, 29 Jan 2007 11:40:13 -0500
Subject: [R-SIG-Mac] [R] lmer2 error under Mac OS X on PowerPC G5 but
	not on Dual-Core Intel Xeon
In-Reply-To: <A0ABAC88-BCDE-40D9-B1E7-001702F32E17@r-project.org>
References: <7665FCCA-208B-4B07-9A95-A7559D0DD3C4@virginia.edu>
	<82D8B52C-E3EE-4B2F-AFBF-7897E889ECDB@jhsph.edu>
	<2EF22041-6C3E-44DF-ABED-19AA08FA5BC4@virginia.edu>
	<5BB734C9-EBD7-49E7-8CC6-DD55AF76BB1C@jhsph.edu>
	<A0ABAC88-BCDE-40D9-B1E7-001702F32E17@r-project.org>
Message-ID: <728F9B36-0CC0-4B06-AB17-EDCE6A1D5D0D@jhsph.edu>

Michael has a PPC G5 with 2GB of RAM and can't get that example to  
run. It can't allocate enough memory (or at least it's what I  
understand from the error he reported).

Given that the example doesn't require much RAM (and I could get it  
to run on a G4, Mac OS X 10.4.8), I failed to have a plausible  
explanation for the problem.

b

On Jan 29, 2007, at 11:28 AM, Simon Urbanek wrote:

> I'm not sure - what is the question here? It works for me on a both  
> PowerPC G5 and Mac Pro (R 2.4.1 CRAN binary):
>
> > fm1 <- lmer(Reaction ~ Days + (Days|Subject), sleepstudy)
> > fm1
> Linear mixed-effects model fit by REML
> Formula: Reaction ~ Days + (Days | Subject)
>    Data: sleepstudy
>   AIC  BIC logLik MLdeviance REMLdeviance
> 1754 1770 -871.8       1752         1744
> Random effects:
> Groups   Name        Variance Std.Dev. Corr
> Subject  (Intercept) 610.835  24.7151
>           Days         35.056   5.9208  0.067
> Residual             655.066  25.5943
> number of obs: 180, groups: Subject, 18
>
> Fixed effects:
>             Estimate Std. Error t value
> (Intercept)  251.405      6.820   36.86
> Days          10.467      1.546    6.77
>
> Correlation of Fixed Effects:
>      (Intr)
> Days -0.137
> > gc()
>          used (Mb) gc trigger (Mb) max used (Mb)
> Ncells 966960 25.9    1368491 36.6  1265230 33.8
> Vcells 523595  4.0    1031040  7.9   755843  5.8
> > sessionInfo()
> R version 2.4.1 (2006-12-18)
> i386-apple-darwin8.8.1
>
> locale:
> C
>
> attached base packages:
> [1] "stats"     "graphics"  "grDevices" "utils"     "datasets"   
> "methods"
> [7] "base"
>
> other attached packages:
>        lme4      Matrix     lattice
> "0.9975-11"  "0.9975-8"   "0.14-16"
>
> Cheers,
> Simon
>
> On Jan 29, 2007, at 10:40 AM, Benilton Carvalho wrote:
>
>> So, I decided to give it a try (and just now noticed that this is the
>> example in lmer2)
>>
>> I just gave it a try on a PPC G4 and it worked as expected. I'm
>> copying R-sig-mac (sorry for the crosspost) as the experts there
>> might give you a better suggestion.
>>
>>> fm1 <- lmer2(Reaction ~ Days + (Days|Subject), sleepstudy)
>>> fm1
>> Linear mixed-effects model fit by REML
>> Formula: Reaction ~ Days + (Days | Subject)
>>     Data: sleepstudy
>>    AIC  BIC logLik MLdeviance REMLdeviance
>> 1754 1770 -871.8       1752         1744
>> Random effects:
>> Groups   Name        Variance Std.Dev. Corr
>> Subject  (Intercept) 612.128  24.7412
>>            Days         35.049   5.9202  0.066
>> Residual             654.970  25.5924
>> Number of obs: 180, groups: Subject, 18
>>
>> Fixed effects:
>>              Estimate Std. Error t value
>> (Intercept)  251.405      6.825   36.84
>> Days          10.467      1.545    6.77
>>
>> Correlation of Fixed Effects:
>>       (Intr)
>> Days -0.137
>>> sessionInfo()
>> R version 2.5.0 Under development (unstable) (2007-01-03 r40349)
>> powerpc-apple-darwin8.8.0
>>
>> locale:
>> C
>>
>> attached base packages:
>> [1] "stats"     "graphics"  "grDevices" "utils"     "datasets"
>> "methods"
>> [7] "base"
>>
>> other attached packages:
>>         lme4      Matrix     lattice
>> "0.9975-11"  "0.9975-8"   "0.14-16"
>>
>>
>> On Jan 29, 2007, at 7:40 AM, Michael Kubovy wrote:
>>
>>> On Jan 28, 2007, at 9:39 PM, Benilton Carvalho wrote:
>>>
>>>> This seems to be due to the fact that you didn't have enough
>>>> memory when running lmer2.
>>>>
>>>> I might be wrong, but I think Calloc tries to get contiguous
>>>> memory, so this might the problem.
>>>>
>>>> If you are positive that you have enough memory, a gc() might help.
>>>
>>> I have 2 GB memory on this machine. Should be enough, no?
>>>
>>>> gc()
>>>           used (Mb) gc trigger (Mb) max used (Mb)
>>> Ncells 1008175 27.0    1476915 39.5  1368491 36.6
>>> Vcells  540055  4.2    1031040  7.9  1031026  7.9
>>>> (fm1 <- lmer2(Reaction ~ Days + (Days|Subject), sleepstudy))
>>> Error in as.double(start) : Calloc could not allocate (903190944 of
>>> 4) memory
>>>
>>>
>>>> On Jan 28, 2007, at 8:35 PM, Michael Kubovy wrote:
>>>>
>>>>>> (fm1 <- lmer2(Reaction ~ Days + (Days|Subject), sleepstudy))
>>>>> Error in as.double(start) : Calloc could not allocate  
>>>>> (888475968 of
>>>>> 4) memory
>>>>> *************************
>>>>>> sessionInfo()
>>>>> R version 2.4.1 (2006-12-18)
>>>>> powerpc-apple-darwin8.8.0
>>>>>
>>>>> locale:
>>>>> C
>>>>>
>>>>> attached base packages:
>>>>> [1] "grid"      "datasets"  "stats"     "graphics"  "grDevices"
>>>>> "utils"     "methods"
>>>>> [8] "base"
>>>>>
>>>>> other attached packages:
>>>>>          lme4       Matrix       xtable latticeExtra      lattice
>>>>> gridBase         MASS
>>>>> "0.9975-11"   "0.9975-8"      "1.4-3"      "0.1-4"    "0.14-16"
>>>>> "0.4-3"     "7.2-31"
>>>>>           JGR       iplots       JavaGD        rJava
>>>>>      "1.4-15"      "1.0-5"      "0.3-5"     "0.4-13"
>>>>> *************************
>>>>> lmer runs the example w/o a problem
>>>>>
>>>>> I just tried to run it on on Intel-based MacPro, and lmer2 ran
>>>>> without a hitch.
>>> _____________________________
>>> Professor Michael Kubovy
>>> University of Virginia
>>> Department of Psychology
>>> USPS:     P.O.Box 400400    Charlottesville, VA 22904-4400
>>> Parcels:    Room 102        Gilmer Hall
>>>         McCormick Road    Charlottesville, VA 22903
>>> Office:    B011    +1-434-982-4729
>>> Lab:        B019    +1-434-982-4751
>>> Fax:        +1-434-982-4766
>>> WWW:    http://www.people.virginia.edu/~mk9y/
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>


From HStevens at muohio.edu  Mon Jan 29 19:42:11 2007
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Mon, 29 Jan 2007 13:42:11 -0500
Subject: [R-SIG-Mac] Wiki or Development for
	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <ABE961B3-1360-44F7-89A5-83E41EC00C25@r-project.org>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
	<94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>
	<ABE961B3-1360-44F7-89A5-83E41EC00C25@r-project.org>
Message-ID: <F096644D-BF4D-4CEC-BF90-F2D4314B3DA3@muohio.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070129/0ed7f04d/attachment.pl 

From f.calboli at imperial.ac.uk  Mon Jan 29 19:58:25 2007
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Mon, 29 Jan 2007 18:58:25 +0000
Subject: [R-SIG-Mac] Wiki or Development for
	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <F096644D-BF4D-4CEC-BF90-F2D4314B3DA3@muohio.edu>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
	<94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>
	<ABE961B3-1360-44F7-89A5-83E41EC00C25@r-project.org>
	<F096644D-BF4D-4CEC-BF90-F2D4314B3DA3@muohio.edu>
Message-ID: <B063723F-2F75-44BD-97EB-0E32DE107482@imperial.ac.uk>

On 29 Jan 2007, at 18:42, Martin Henry H. Stevens wrote:
> 4. The best success I had came when I stopped using Word, but I
> realize that that is NOT for everyone.

> Is a move being made to help folks who are wedded to Word? Such a
> move would be useful, I think.

Unhelpful as it might sound, people wedded to "Word" should divorce.  
Full stop.

The fourth point is moot... people used other stuff before "Word",  
and any person smart enough to use R could use something else  
(Latex?) --for no better reason that the .doc files produced by  
"Word" are not even a standard file format, just an inconvenience.

Best,

Federico

--
Federico C. F. Calboli
Department of Epidemiology and Public Health
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From f.calboli at imperial.ac.uk  Mon Jan 29 20:25:21 2007
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Mon, 29 Jan 2007 19:25:21 +0000
Subject: [R-SIG-Mac] Wiki or Development
	for	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <45BE4604.5000201@zoo.ufl.edu>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>	<94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>	<ABE961B3-1360-44F7-89A5-83E41EC00C25@r-project.org>	<F096644D-BF4D-4CEC-BF90-F2D4314B3DA3@muohio.edu>
	<B063723F-2F75-44BD-97EB-0E32DE107482@imperial.ac.uk>
	<45BE4604.5000201@zoo.ufl.edu>
Message-ID: <A8DD16EA-7A1E-44BA-B094-99BD75D05D3B@imperial.ac.uk>

On 29 Jan 2007, at 19:07, Ben Bolker wrote:

>   Have you ever tried to submit a LaTeX document (or any non-Word
> format: PDF, DVI, RTF, ...) to a biological
> journal?

Just refuse to referee anything sent to you, and to fill in any form  
as a referee, if they are in .doc. Point out they are *not* a  
standard. Ask colleagues to do the same.

People do respond to incentives.

Best,

Federico

--
Federico C. F. Calboli
Department of Epidemiology and Public Health
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From deveaux at williams.edu  Mon Jan 29 20:35:53 2007
From: deveaux at williams.edu (Richard De Veaux)
Date: Mon, 29 Jan 2007 14:35:53 -0500
Subject: [R-SIG-Mac] Wiki or Development for
 Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <A8DD16EA-7A1E-44BA-B094-99BD75D05D3B@imperial.ac.uk>
Message-ID: <C1E3B6C9.D32D%deveaux@williams.edu>

I don't think this forum is the appropriate place for personal harangues
against Word. There are enough other R issues to keep us busy.

Cheers,
Dick De Veaux



On 1/29/07 2:25 PM, "Federico Calboli" <f.calboli at imperial.ac.uk> wrote:

> On 29 Jan 2007, at 19:07, Ben Bolker wrote:
> 
>>   Have you ever tried to submit a LaTeX document (or any non-Word
>> format: PDF, DVI, RTF, ...) to a biological
>> journal?
> 
> Just refuse to referee anything sent to you, and to fill in any form
> as a referee, if they are in .doc. Point out they are *not* a
> standard. Ask colleagues to do the same.
> 
> People do respond to incentives.
> 
> Best,
> 
> Federico
> 
> --
> Federico C. F. Calboli
> Department of Epidemiology and Public Health
> Imperial College, St. Mary's Campus
> Norfolk Place, London W2 1PG
> 
> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
> 
> f.calboli [.a.t] imperial.ac.uk
> f.calboli [.a.t] gmail.com
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From f.calboli at imperial.ac.uk  Mon Jan 29 20:42:23 2007
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Mon, 29 Jan 2007 19:42:23 +0000
Subject: [R-SIG-Mac] Wiki or Development for
	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <C1E3B6C9.D32D%deveaux@williams.edu>
References: <C1E3B6C9.D32D%deveaux@williams.edu>
Message-ID: <E7B38DC8-E616-42A4-991D-368128F64848@imperial.ac.uk>

On 29 Jan 2007, at 19:35, Richard De Veaux wrote:

> I don't think this forum is the appropriate place for personal  
> harangues
> against Word. There are enough other R issues to keep us busy.

I disagree. I don't thing the developers of R for Mac shoud spend  
their time (which, I dare presume, ain't infinite) to make stuff  
easier for "Word" users.

Other members of the community have the full right to disagree, but,  
as a member of the community, I have the right to say I don't think  
time spend on making R graphics more "Word" friendly is time well spent.

Best,

Fede

--
Federico C. F. Calboli
Department of Epidemiology and Public Health
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From macq at llnl.gov  Mon Jan 29 20:50:47 2007
From: macq at llnl.gov (Don MacQueen)
Date: Mon, 29 Jan 2007 11:50:47 -0800
Subject: [R-SIG-Mac] Wiki or Development for
 Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <F096644D-BF4D-4CEC-BF90-F2D4314B3DA3@muohio.edu>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
	<94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>
	<ABE961B3-1360-44F7-89A5-83E41EC00C25@r-project.org>
	<F096644D-BF4D-4CEC-BF90-F2D4314B3DA3@muohio.edu>
Message-ID: <p06230905c1e400267aec@[128.115.153.6]>

I'd suggest you try using R's png() driver.
I am satisfied with how graphics imported into Word or PowerPoint 
look if save using png().

Note that Adobe Illustrator for Mac has a "Save for Microsoft Office" 
option, and it saves in png format.

-Don

At 1:42 PM -0500 1/29/07, Martin Henry H. Stevens wrote:
>Hi Folks,
>
>While I do not use Microsoft Word for my own work, I
>(i) I teach R to people who use Word and PowerPoint, and
>(ii) many people use Word around here would like to use R, but are 
>frustrated about getting graphics into Word.
>
>My most recent response to a colleague, and my preferred solution for 
>others on a Mac was:
>###
>1. Mac OSX uses PDF format for vector-graphics format, and R can make 
>PDFs beautifully -- try opening them in Preview or Acrobat Reader. 
>Microsoft Word, however, cannot handle PDF graphics, uses EMF/WMF 
>format for vector graphics. On PC's, R can create EMF/WMF format, but 
>it does not do so on Macs.
>
>2. On Macs, the best solution I have found for putting images into 
>PowerPoint and Word is to save R images as PDFs, open them in 
>GraphicConverter (a utility that comes with a Mac), then save as JPEG 
>format (with 100% resolution) and insert that into a Word document. 
>That will look very good. I seem to remember that Powerpoint is not 
>as limited.
>
>3. Note that if you make a Word document (like a manuscript) that 
>contains EMF/WMF graphics, Word on the Mac cannot read images in the 
>Word file made on the PC.
>
>4. The best success I had came when I stopped using Word, but I 
>realize that that is NOT for everyone.
>###
>
>I found a couple relevant threads (e.g. http://finzi.psych.upenn.edu/
>R/Rhelp02a/archive/34950.html), but I was wondering what else might 
>be going on.
>
>Is a move being made to help folks who are wedded to Word? Such a
>move would be useful, I think.
>
>Thanks,
>
>Hank
>
>
>Dr. Hank Stevens, Assistant Professor
>338 Pearson Hall
>Botany Department
>Miami University
>Oxford, OH 45056
>
>Office: (513) 529-4206
>Lab: (513) 529-4262
>FAX: (513) 529-4243
>http://www.cas.muohio.edu/~stevenmh/
>http://www.muohio.edu/ecology/
>http://www.muohio.edu/botany/
>
>"E Pluribus Unum"
>
>
>
>
>
>
>	[[alternative HTML version deleted]]
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA


From byron.ellis at gmail.com  Mon Jan 29 21:23:13 2007
From: byron.ellis at gmail.com (Byron Ellis)
Date: Mon, 29 Jan 2007 12:23:13 -0800
Subject: [R-SIG-Mac] Wiki or Development for
	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <E7B38DC8-E616-42A4-991D-368128F64848@imperial.ac.uk>
References: <C1E3B6C9.D32D%deveaux@williams.edu>
	<E7B38DC8-E616-42A4-991D-368128F64848@imperial.ac.uk>
Message-ID: <7098abec0701291223v5d3fcfa7j5206b0515e415c69@mail.gmail.com>

*ahem* I think the developers for the Mac version of R will do
whatever they please. This may in fact include better compatibility
with a certain office suite. It may not.

Personally, I would like the ability to drag and drop (or cut and
paste) from Excel to R's GUI directly into a data frame. I think it
would be nice and it would make life much easier for my collaborators
when the discover the limits of Excel. Tears of joy! It would also be
nice to drag and drop to Word and have those same collaborators able
to read the file on the PC side on the first try (this, IMO, is
actually a bug in Word's pasting code---it transfers everything to
PICT despite the fact that a) PICT is dead and b) other formats are
available. It *should* select the most compatible format, either JPEG
or PNG).

It's not like LaTeX isn't without its own problems, but I use it for
its strengths (macros) not its open source nature.

On 1/29/07, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
> On 29 Jan 2007, at 19:35, Richard De Veaux wrote:
>
> > I don't think this forum is the appropriate place for personal
> > harangues
> > against Word. There are enough other R issues to keep us busy.
>
> I disagree. I don't thing the developers of R for Mac shoud spend
> their time (which, I dare presume, ain't infinite) to make stuff
> easier for "Word" users.
>
> Other members of the community have the full right to disagree, but,
> as a member of the community, I have the right to say I don't think
> time spend on making R graphics more "Word" friendly is time well spent.
>
> Best,
>
> Fede
>
> --
> Federico C. F. Calboli
> Department of Epidemiology and Public Health
> Imperial College, St. Mary's Campus
> Norfolk Place, London W2 1PG
>
> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>
> f.calboli [.a.t] imperial.ac.uk
> f.calboli [.a.t] gmail.com
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Byron Ellis (byron.ellis at gmail.com)
"Oook" -- The Librarian


From simon.urbanek at r-project.org  Mon Jan 29 21:47:09 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 29 Jan 2007 15:47:09 -0500
Subject: [R-SIG-Mac] Wiki or Development for
	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <p06230905c1e400267aec@[128.115.153.6]>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
	<94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>
	<ABE961B3-1360-44F7-89A5-83E41EC00C25@r-project.org>
	<F096644D-BF4D-4CEC-BF90-F2D4314B3DA3@muohio.edu>
	<p06230905c1e400267aec@[128.115.153.6]>
Message-ID: <012A0AC1-6B7D-49DB-AA6E-D59DD4B41F09@r-project.org>

On Jan 29, 2007, at 2:50 PM, Don MacQueen wrote:

> I'd suggest you try using R's png() driver.

I'd discourage that one a Mac as there is not really a need for that  
- Quartz produces PNG directly and it's WYSIWYG unlike the png()  
driver and Quartz has much better rendering.


To get back on the topic: To be honest I don't really see a problem  
here - Word can handle PDF very easily, just drop a PDF file in a  
Word document - it works just fine (to make sure I'm talking about  
Office 2004 here).

The fact that it does so in Microsoft-ish way, that is by converting  
it to a bitmap, is a technicality and given the overall quality of  
Word output it is neither surprising nor will a regular Word user  
notice this at all.

R is open source, so if someone implements a device that generates  
DOC or WMF files, uses some API to talk to Word or anything similar,  
they are free to contribute it to R or the R.app GUI.

Cheers,
Simon



> I am satisfied with how graphics imported into Word or PowerPoint
> look if save using png().
>
> Note that Adobe Illustrator for Mac has a "Save for Microsoft Office"
> option, and it saves in png format.
>
> -Don
>
> At 1:42 PM -0500 1/29/07, Martin Henry H. Stevens wrote:
>> Hi Folks,
>>
>> While I do not use Microsoft Word for my own work, I
>> (i) I teach R to people who use Word and PowerPoint, and
>> (ii) many people use Word around here would like to use R, but are
>> frustrated about getting graphics into Word.
>>
>> My most recent response to a colleague, and my preferred solution for
>> others on a Mac was:
>> ###
>> 1. Mac OSX uses PDF format for vector-graphics format, and R can make
>> PDFs beautifully -- try opening them in Preview or Acrobat Reader.
>> Microsoft Word, however, cannot handle PDF graphics, uses EMF/WMF
>> format for vector graphics. On PC's, R can create EMF/WMF format, but
>> it does not do so on Macs.
>>
>> 2. On Macs, the best solution I have found for putting images into
>> PowerPoint and Word is to save R images as PDFs, open them in
>> GraphicConverter (a utility that comes with a Mac), then save as JPEG
>> format (with 100% resolution) and insert that into a Word document.
>> That will look very good. I seem to remember that Powerpoint is not
>> as limited.
>>
>> 3. Note that if you make a Word document (like a manuscript) that
>> contains EMF/WMF graphics, Word on the Mac cannot read images in the
>> Word file made on the PC.
>>
>> 4. The best success I had came when I stopped using Word, but I
>> realize that that is NOT for everyone.
>> ###
>>
>> I found a couple relevant threads (e.g. http://finzi.psych.upenn.edu/
>> R/Rhelp02a/archive/34950.html), but I was wondering what else might
>> be going on.
>>
>> Is a move being made to help folks who are wedded to Word? Such a
>> move would be useful, I think.
>>
>> Thanks,
>>
>> Hank
>>
>>
>> Dr. Hank Stevens, Assistant Professor
>> 338 Pearson Hall
>> Botany Department
>> Miami University
>> Oxford, OH 45056
>>
>> Office: (513) 529-4206
>> Lab: (513) 529-4262
>> FAX: (513) 529-4243
>> http://www.cas.muohio.edu/~stevenmh/
>> http://www.muohio.edu/ecology/
>> http://www.muohio.edu/botany/
>>
>> "E Pluribus Unum"
>>
>>
>>
>>
>>
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
> -- 
> --------------------------------------
> Don MacQueen
> Environmental Protection Department
> Lawrence Livermore National Laboratory
> Livermore, CA, USA
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From byron.ellis at gmail.com  Mon Jan 29 21:53:56 2007
From: byron.ellis at gmail.com (Byron Ellis)
Date: Mon, 29 Jan 2007 12:53:56 -0800
Subject: [R-SIG-Mac] Wiki or Development for
	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <012A0AC1-6B7D-49DB-AA6E-D59DD4B41F09@r-project.org>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
	<94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>
	<ABE961B3-1360-44F7-89A5-83E41EC00C25@r-project.org>
	<F096644D-BF4D-4CEC-BF90-F2D4314B3DA3@muohio.edu>
	<p06230905c1e400267aec@128.115.153.6>
	<012A0AC1-6B7D-49DB-AA6E-D59DD4B41F09@r-project.org>
Message-ID: <7098abec0701291253o30fd4cb1q1fabd400ada3b81b@mail.gmail.com>

On 1/29/07, Simon Urbanek <simon.urbanek at r-project.org> wrote:

> To get back on the topic: To be honest I don't really see a problem
> here - Word can handle PDF very easily, just drop a PDF file in a
> Word document - it works just fine (to make sure I'm talking about
> Office 2004 here).
>
> The fact that it does so in Microsoft-ish way, that is by converting
> it to a bitmap, is a technicality and given the overall quality of
> Word output it is neither surprising nor will a regular Word user
> notice this at all.

Unfortunately, it happens to convert it to a form of bitmap that is
not visible on PC platforms unless they have Quicktime installed (as I
rediscover every time I need to make a Word document... :-) )


-- 
Byron Ellis (byron.ellis at gmail.com)
"Oook" -- The Librarian


From mcq at umich.edu  Mon Jan 29 22:08:17 2007
From: mcq at umich.edu (Mick McQuaid)
Date: Mon, 29 Jan 2007 16:08:17 -0500
Subject: [R-SIG-Mac] Wiki or Development for
	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <C1E3B6C9.D32D%deveaux@williams.edu>
References: <A8DD16EA-7A1E-44BA-B094-99BD75D05D3B@imperial.ac.uk>
	<C1E3B6C9.D32D%deveaux@williams.edu>
Message-ID: <20070129210817.GC17087@mojojojo.si.umich.edu>

I'm disappointed by the short-sightedness of this message.

... regarding a message from Richard De Veaux on Jan 29:
> I don't think this forum is the appropriate place for personal harangues
> against Word. There are enough other R issues to keep us busy.

Word is the software equivalent of Caulerpa taxifolia, the
green alga that tries to make its environment as
inhospitable to other living organisms as it can.

If you just sit there and do nothing, it will eventually
stifle anything that threatens it, and this includes
any software of any type that is platform-neutral.
Platform neutrality threatens the monopoly.

In other words, I am saying that Word is dangerous to R.

I don't expect casual MS Office users in general to
understand this, but it really surprises me to see a lack of
resistance to MS Office in a group like this.

... regarding a message from Richard De Veaux on Jan 29:
> I don't think this forum is the appropriate place for personal harangues
> against Word. There are enough other R issues to keep us busy.
> 
> Cheers,
> Dick De Veaux
> 
> 
> 
> On 1/29/07 2:25 PM, "Federico Calboli" <f.calboli at imperial.ac.uk> wrote:
> 
> > On 29 Jan 2007, at 19:07, Ben Bolker wrote:
> > 
> >>   Have you ever tried to submit a LaTeX document (or any non-Word
> >> format: PDF, DVI, RTF, ...) to a biological
> >> journal?
> > 
> > Just refuse to referee anything sent to you, and to fill in any form
> > as a referee, if they are in .doc. Point out they are *not* a
> > standard. Ask colleagues to do the same.
> > 
> > People do respond to incentives.
> > 
> > Best,
> > 
> > Federico
> > 
> > --
> > Federico C. F. Calboli
> > Department of Epidemiology and Public Health
> > Imperial College, St. Mary's Campus
> > Norfolk Place, London W2 1PG
> > 
> > Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
> > 
> > f.calboli [.a.t] imperial.ac.uk
> > f.calboli [.a.t] gmail.com
> > 
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at stat.math.ethz.ch
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 

-- 
Michael McQuaid, Assistant Professor
School of Information, School of Art & Design
University of Michigan
305B West Hall, 1085 South University Ave.
Ann Arbor, MI 48109-1107
734-647-9550 voice  734-764-2475 fax
mcq at umich.edu       http://mickmcquaid.com


From jago at mclink.it  Mon Jan 29 22:27:57 2007
From: jago at mclink.it (stefano iacus)
Date: Mon, 29 Jan 2007 22:27:57 +0100
Subject: [R-SIG-Mac] Wiki or Development for
	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <7098abec0701291253o30fd4cb1q1fabd400ada3b81b@mail.gmail.com>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
	<94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>
	<ABE961B3-1360-44F7-89A5-83E41EC00C25@r-project.org>
	<F096644D-BF4D-4CEC-BF90-F2D4314B3DA3@muohio.edu>
	<p06230905c1e400267aec@128.115.153.6>
	<012A0AC1-6B7D-49DB-AA6E-D59DD4B41F09@r-project.org>
	<7098abec0701291253o30fd4cb1q1fabd400ada3b81b@mail.gmail.com>
Message-ID: <845B2744-6734-4AC3-B814-296985CE1A89@mclink.it>

Another trick is to open your save quartz graphics with Preview.app  
and then Save As... some other graphic format, including png.

Also, copying to the clipboard from the quartz device should copy  
both in PICT format and PDF format. Copy and paste from the clipboard  
into Word works, but I'm not able to test if word under windows  
accepts such embedded PICT files even if Word compatibility report  
says it is ok.


BTW, I think it would be nice if we can produce some WMF format  
grabbing some code from the copy.to.clipboard funtionality of R for   
WinDog (unless the code uses some .DLL)

I also agree that copy from Excel into R is a nice thing to do, but I  
don't see too much people willing to implement this.

stefano

On 29/gen/07, at 21:53, Byron Ellis wrote:

> On 1/29/07, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>
>> To get back on the topic: To be honest I don't really see a problem
>> here - Word can handle PDF very easily, just drop a PDF file in a
>> Word document - it works just fine (to make sure I'm talking about
>> Office 2004 here).
>>
>> The fact that it does so in Microsoft-ish way, that is by converting
>> it to a bitmap, is a technicality and given the overall quality of
>> Word output it is neither surprising nor will a regular Word user
>> notice this at all.
>
> Unfortunately, it happens to convert it to a form of bitmap that is
> not visible on PC platforms unless they have Quicktime installed (as I
> rediscover every time I need to make a Word document... :-) )
>
>
> -- 
> Byron Ellis (byron.ellis at gmail.com)
> "Oook" -- The Librarian
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From stefano.iacus at unimi.it  Mon Jan 29 22:33:42 2007
From: stefano.iacus at unimi.it (stefano iacus)
Date: Mon, 29 Jan 2007 22:33:42 +0100
Subject: [R-SIG-Mac] Wiki or Development for
	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <20070129210817.GC17087@mojojojo.si.umich.edu>
References: <A8DD16EA-7A1E-44BA-B094-99BD75D05D3B@imperial.ac.uk>
	<C1E3B6C9.D32D%deveaux@williams.edu>
	<20070129210817.GC17087@mojojojo.si.umich.edu>
Message-ID: <DD74AB9A-DC7E-4CA9-AE34-54B5E9DF3029@unimi.it>

Please stop this dogmatic war against/in_favor_of Word & Co. or I'm  
forced to close this thread.

No-one obliges anyone to use Word and no product can be dangerous to  
R (by any meaning of the word "dangerous").

If someone wants to write code for some I/O API to allow  
interoperability between R and other products, he/she is welcome.

That being said, I'm not the one.

stefano


On 29/gen/07, at 22:08, Mick McQuaid wrote:

> I'm disappointed by the short-sightedness of this message.
>
> ... regarding a message from Richard De Veaux on Jan 29:
>> I don't think this forum is the appropriate place for personal  
>> harangues
>> against Word. There are enough other R issues to keep us busy.
>
> Word is the software equivalent of Caulerpa taxifolia, the
> green alga that tries to make its environment as
> inhospitable to other living organisms as it can.
>
> If you just sit there and do nothing, it will eventually
> stifle anything that threatens it, and this includes
> any software of any type that is platform-neutral.
> Platform neutrality threatens the monopoly.
>
> In other words, I am saying that Word is dangerous to R.
>
> I don't expect casual MS Office users in general to
> understand this, but it really surprises me to see a lack of
> resistance to MS Office in a group like this.
>
> ... regarding a message from Richard De Veaux on Jan 29:
>> I don't think this forum is the appropriate place for personal  
>> harangues
>> against Word. There are enough other R issues to keep us busy.
>>
>> Cheers,
>> Dick De Veaux
>>
>>
>>
>> On 1/29/07 2:25 PM, "Federico Calboli" <f.calboli at imperial.ac.uk>  
>> wrote:
>>
>>> On 29 Jan 2007, at 19:07, Ben Bolker wrote:
>>>
>>>>   Have you ever tried to submit a LaTeX document (or any non-Word
>>>> format: PDF, DVI, RTF, ...) to a biological
>>>> journal?
>>>
>>> Just refuse to referee anything sent to you, and to fill in any form
>>> as a referee, if they are in .doc. Point out they are *not* a
>>> standard. Ask colleagues to do the same.
>>>
>>> People do respond to incentives.
>>>
>>> Best,
>>>
>>> Federico
>>>
>>> --
>>> Federico C. F. Calboli
>>> Department of Epidemiology and Public Health
>>> Imperial College, St. Mary's Campus
>>> Norfolk Place, London W2 1PG
>>>
>>> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>>>
>>> f.calboli [.a.t] imperial.ac.uk
>>> f.calboli [.a.t] gmail.com
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> -- 
> Michael McQuaid, Assistant Professor
> School of Information, School of Art & Design
> University of Michigan
> 305B West Hall, 1085 South University Ave.
> Ann Arbor, MI 48109-1107
> 734-647-9550 voice  734-764-2475 fax
> mcq at umich.edu       http://mickmcquaid.com
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From rmailbox at justemail.net  Mon Jan 29 22:14:04 2007
From: rmailbox at justemail.net (Eric)
Date: Mon, 29 Jan 2007 13:14:04 -0800
Subject: [R-SIG-Mac] Wiki or Development
	for	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <7098abec0701291253o30fd4cb1q1fabd400ada3b81b@mail.gmail.com>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>	<94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>	<ABE961B3-1360-44F7-89A5-83E41EC00C25@r-project.org>	<F096644D-BF4D-4CEC-BF90-F2D4314B3DA3@muohio.edu>	<p06230905c1e400267aec@128.115.153.6>	<012A0AC1-6B7D-49DB-AA6E-D59DD4B41F09@r-project.org>
	<7098abec0701291253o30fd4cb1q1fabd400ada3b81b@mail.gmail.com>
Message-ID: <45BE639C.80302@justemail.net>

Use Preview?

I just saved a PDF created in R on linux into a PNG using Preview's 
conversion on Mac, then dragged the file off my desktop into a Word 2004 
document on Mac. I opened the file using Word for Windows running under 
Parallels and it looked just fine. E.g. I could see and re-size the PNG 
in Word.

Preview can be programmed with automator if that is more efficient.

--Eric

P.S. However, for maximum efficiency, it may be necessary to create an 
Automator script to delete all copies of Word that infest your computer. ;-)


Byron Ellis wrote:
> On 1/29/07, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>
>   
>> To get back on the topic: To be honest I don't really see a problem
>> here - Word can handle PDF very easily, just drop a PDF file in a
>> Word document - it works just fine (to make sure I'm talking about
>> Office 2004 here).
>>
>> The fact that it does so in Microsoft-ish way, that is by converting
>> it to a bitmap, is a technicality and given the overall quality of
>> Word output it is neither surprising nor will a regular Word user
>> notice this at all.
>>     
>
> Unfortunately, it happens to convert it to a form of bitmap that is
> not visible on PC platforms unless they have Quicktime installed (as I
> rediscover every time I need to make a Word document... :-) )
>
>
>


From pnprice at lbl.gov  Mon Jan 29 23:04:55 2007
From: pnprice at lbl.gov (Phillip Price)
Date: Mon, 29 Jan 2007 14:04:55 -0800
Subject: [R-SIG-Mac] Wiki or Development for
	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <p06230905c1e400267aec@[128.115.153.6]>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
	<94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>
	<ABE961B3-1360-44F7-89A5-83E41EC00C25@r-project.org>
	<F096644D-BF4D-4CEC-BF90-F2D4314B3DA3@muohio.edu>
	<p06230905c1e400267aec@[128.115.153.6]>
Message-ID: <0B501210-8586-45B7-ADDB-B817322ACFFA@lbl.gov>


On Jan 29, 2007, at 11:50 AM, Don MacQueen wrote:

> I'd suggest you try using R's png() driver.
> I am satisfied with how graphics imported into Word or PowerPoint
> look if save using png().
>
> Note that Adobe Illustrator for Mac has a "Save for Microsoft Office"
> option, and it saves in png format.

I agree with Don: png() and bitmap() work well for me.

I usually use bitmap() to create .png file; I highly recommend  
setting res[olution] = 300 or so, to avoid jaggies.

--Phil Price


From HStevens at muohio.edu  Mon Jan 29 23:34:50 2007
From: HStevens at muohio.edu (Martin Henry H. Stevens)
Date: Mon, 29 Jan 2007 17:34:50 -0500
Subject: [R-SIG-Mac] Wiki or Development for
	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <0B501210-8586-45B7-ADDB-B817322ACFFA@lbl.gov>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
	<94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>
	<ABE961B3-1360-44F7-89A5-83E41EC00C25@r-project.org>
	<F096644D-BF4D-4CEC-BF90-F2D4314B3DA3@muohio.edu>
	<p06230905c1e400267aec@[128.115.153.6]>
	<0B501210-8586-45B7-ADDB-B817322ACFFA@lbl.gov>
Message-ID: <42274B85-E7D8-4524-AB7B-A5977B85C796@muohio.edu>

Thank you everyone for your input. It is precisely all of this  
confusion/disagreement/incompatibilities that led me to post my query.

I have just tried everything that has been suggested, and will try to  
summarize it a little. One issue is relative quality of images. How  
good is good enough? Maybe a 5-R rating will be assigned to the  
perfect solution ;-).

Cheers,
Hank

On Jan 29, 2007, at 5:04 PM, Phillip Price wrote:

>
> On Jan 29, 2007, at 11:50 AM, Don MacQueen wrote:
>
>> I'd suggest you try using R's png() driver.
>> I am satisfied with how graphics imported into Word or PowerPoint
>> look if save using png().
>>
>> Note that Adobe Illustrator for Mac has a "Save for Microsoft Office"
>> option, and it saves in png format.
>
> I agree with Don: png() and bitmap() work well for me.
>
> I usually use bitmap() to create .png file; I highly recommend  
> setting res[olution] = 300 or so, to avoid jaggies.
>
> --Phil Price



Dr. Hank Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.cas.muohio.edu/~stevenmh/
http://www.muohio.edu/ecology/
http://www.muohio.edu/botany/

"E Pluribus Unum"


From HStevens at muohio.edu  Tue Jan 30 10:35:04 2007
From: HStevens at muohio.edu (MHH Stevens)
Date: Tue, 30 Jan 2007 04:35:04 -0500
Subject: [R-SIG-Mac] Instructions for graphics (was Wiki or Development for
	Mac-R.app-graphics-insert-to-Word?)
In-Reply-To: <AE12B7FB-2B89-4489-9B2C-6643DE367995@lbl.gov>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
	<94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>
	<ABE961B3-1360-44F7-89A5-83E41EC00C25@r-project.org>
	<F096644D-BF4D-4CEC-BF90-F2D4314B3DA3@muohio.edu>
	<p06230905c1e400267aec@[128.115.153.6]>
	<0B501210-8586-45B7-ADDB-B817322ACFFA@lbl.gov>
	<5E461222-9B4A-4CA8-83A5-EC68A1C3C8BE@muohio.edu>
	<AE12B7FB-2B89-4489-9B2C-6643DE367995@lbl.gov>
Message-ID: <D8A0FAD6-4DE5-4DFD-8C47-DA01D50C2D20@muohio.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070130/ced3bee7/attachment.pl 

From stefano.iacus at unimi.it  Tue Jan 30 10:41:36 2007
From: stefano.iacus at unimi.it (stefano iacus)
Date: Tue, 30 Jan 2007 10:41:36 +0100
Subject: [R-SIG-Mac] Instructions for graphics (was Wiki or Development
 for Mac-R.app-graphics-insert-to-Word?)
In-Reply-To: <D8A0FAD6-4DE5-4DFD-8C47-DA01D50C2D20@muohio.edu>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
	<94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>
	<ABE961B3-1360-44F7-89A5-83E41EC00C25@r-project.org>
	<F096644D-BF4D-4CEC-BF90-F2D4314B3DA3@muohio.edu>
	<p06230905c1e400267aec@[128.115.153.6]>
	<0B501210-8586-45B7-ADDB-B817322ACFFA@lbl.gov>
	<5E461222-9B4A-4CA8-83A5-EC68A1C3C8BE@muohio.edu>
	<AE12B7FB-2B89-4489-9B2C-6643DE367995@lbl.gov>
	<D8A0FAD6-4DE5-4DFD-8C47-DA01D50C2D20@muohio.edu>
Message-ID: <5C5C755A-19DC-4C3C-A415-C6231F8E808F@unimi.it>


On 30/gen/07, at 10:35, MHH Stevens wrote:

> Hi Folks,
> later today, I plan on posting a web page of the following (with
> formatting to make it legible). I thought you might be interested in
> this, and may have specific comments for improvement.
>
> How To Get Graphics Out of R and Into Microsoft Word and PowerPoint
>
> This document describes a little of the how's and why's of getting
> graphics out of R and into MS Word and PowerPoint. It is also how to
> get graphics into the Open Office Suite and NeoOffice on a Mac.
> Please consider suggestions for improvements to this document.
>
> Mac OSX uses PDF format for vector-graphics format, and R can make
> PDFs beautifully -- try opening them in Preview or Acrobat Reader.
> Microsoft Word, however, cannot handle PDF graphics, and uses EMF/WMF
> format for vector graphics. On PC's, R can create EMF/WMF format, but
> it does not do so on Macs.
up to my knowledge, this is untrue (or maybe not completely correct),  
word for Mac has an integrated WMF converter which does the job on- 
the-fly when you try to open a MSWindows generated graphics and  
inserted into Word.

stefano

>
> Note that if you make a Word document (like a manuscript) that
> contains EMF/WMF graphics, Word on the Mac cannot read graphics in the
> Word file made on the PC.
>
> My Motivation
> While I do not use Microsoft Word for my own work, I
> (i) I teach R to people who use Word and PowerPoint, and
> (ii) many people who use Word around here would also like to use R,
> but are frustrated about getting graphics into Word.
>
> How to do it
> Step 1.
> Learn about how to save graphics in R. Graphics are "graphics
> devices" that can be saved as files in a variety of formats,
> including PDF, PNG, PS, BMP, JPEG. Read the Mac R FAQ on quartz. Read
> up on ?quartz, ?bitmap, ?pdf. You might also be interested to see
> also ?postscript, ?jpeg.
>
> Step 2.
> Try following these instructions.
>
> Use bitmap()
> (I am not sure if this will work on computers without ghostscript - I
> would be interested to find out!)
>
>     1. Save R graphic with bitmap, using a high resolution. I prefer
> 400 dpi, but others suggest 300 dpi suffices.
>
>        plot(1:8)
>        dev.print(bitmap, "Myplot.png", res=400)
>
>     2. Within MS Word, use the Insert:Picture:From File to add it
> into a Word document.  That will look very good.
>
>
> Use an intermediate program.
>
>     1. Save R images as PDFs
>        plot(1:8)
>        dev.print(pdf, "MyPlot.pdf")
>
>     2. Open the file in GraphicConverter (a utility that comes with a
> Mac), or Preview (Apple's PDF viewer), and then save as JPEG format
> (with 100% resolution).
>
>     3. Within MS Word, use the Insert:Picture:From File to add it
> into a Word document.  That will look very good.
>
> Cut and Paste
>
>      * You can always cut and paste a quartz() window into Word, but
> the image will be a little blurry. Other methods, including saving
> using jpeg() and png(), also give less than ideal results.
>
>
>
> I found a couple relevant threads including http://
> finzi.psych.upenn.edu/R/Rhelp02a/archive/34950.html
>
> Acknolwedgements
> Thanks to all those who make R possible and who make R available on
> the Mac. Thanks also to those who contributed to the above
> information through the R-help listserv, including Stefan Iacus,
> Simon Urbanek, Phillip Price, Ben Bolker, Byron Ellis, Federico
> Calboli, Richard De Veaux, Don McQueen, Mick McQuaid, Rob Knell,
> Brian Ripley, Duncan Murdoch, George Gilcrist. Thanks also to the
> folks at Mozilla for providing the HTML composer on which this was
> written. Please consider suggestions for improvements to the above
> document.
>
> On Jan 29, 2007, at 7:35 PM, Phillip Price wrote:
>
>>
>> On Jan 29, 2007, at 4:20 PM, MHH Stevens wrote:
>>
>>> Hi Phil,
>>> I found res=400 was clean enough for me. The documentation says
>>> something about needing ghostscript -- I have ghostscript, so I
>>> don't know if it would work without it. Do you know?
>>> -Hank
>>
>> I don't know.  I, too, have ghostscript.  I've never tried removing
>> or hiding ghostscript and seeing if bitmap() still works.  I've
>> wondered about this, but I've always figured that if, someday, I
>> change my system and "break" bitmap(), I'll worry about it then.
>>
>> I'm glad it's working for you.
>>
>> --Phil
>>
>
> Dr. Hank Stevens, Assistant Professor
> 338 Pearson Hall
> Botany Department
> Miami University
> Oxford, OH 45056
>
> Office: (513) 529-4206
> Lab: (513) 529-4262
> FAX: (513) 529-4243
> http://www.cas.muohio.edu/~stevenmh/
> http://www.muohio.edu/ecology/
> http://www.muohio.edu/botany/
>
> "E Pluribus Unum"
>
>
>
>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From HStevens at muohio.edu  Tue Jan 30 10:53:13 2007
From: HStevens at muohio.edu (MHH Stevens)
Date: Tue, 30 Jan 2007 04:53:13 -0500
Subject: [R-SIG-Mac] Instructions for graphics (was Wiki or Development
	for Mac-R.app-graphics-insert-to-Word?)
In-Reply-To: <5C5C755A-19DC-4C3C-A415-C6231F8E808F@unimi.it>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
	<94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>
	<ABE961B3-1360-44F7-89A5-83E41EC00C25@r-project.org>
	<F096644D-BF4D-4CEC-BF90-F2D4314B3DA3@muohio.edu>
	<p06230905c1e400267aec@[128.115.153.6]>
	<0B501210-8586-45B7-ADDB-B817322ACFFA@lbl.gov>
	<5E461222-9B4A-4CA8-83A5-EC68A1C3C8BE@muohio.edu>
	<AE12B7FB-2B89-4489-9B2C-6643DE367995@lbl.gov>
	<D8A0FAD6-4DE5-4DFD-8C47-DA01D50C2D20@muohio.edu>
	<5C5C755A-19DC-4C3C-A415-C6231F8E808F@unimi.it>
Message-ID: <647F04FC-2C2F-448E-ABC6-CAE843FC72E0@muohio.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20070130/5d9508d3/attachment.pl 

From nelson6 at llnl.gov  Tue Jan 30 17:16:04 2007
From: nelson6 at llnl.gov (David Nelson)
Date: Tue, 30 Jan 2007 08:16:04 -0800
Subject: [R-SIG-Mac] Instructions for graphics (was Wiki or Development
	for Mac-R.app-graphics-insert-to-Word?)
In-Reply-To: <5C5C755A-19DC-4C3C-A415-C6231F8E808F@unimi.it>
References: <F116B64D-0CD6-46DE-87CE-CB0658E970A1@cornell.edu>
	<0DCCD10C-84F1-459C-89AA-3C87C6F09894@r-project.org>
	<94CAF8BD-0468-4C99-93ED-453BAEF4025D@muohio.edu>
	<ABE961B3-1360-44F7-89A5-83E41EC00C25@r-project.org>
	<F096644D-BF4D-4CEC-BF90-F2D4314B3DA3@muohio.edu>
	<p06230905c1e400267aec@[128.115.153.6]>
	<0B501210-8586-45B7-ADDB-B817322ACFFA@lbl.gov>
	<5E461222-9B4A-4CA8-83A5-EC68A1C3C8BE@muohio.edu>
	<AE12B7FB-2B89-4489-9B2C-6643DE367995@lbl.gov>
	<D8A0FAD6-4DE5-4DFD-8C47-DA01D50C2D20@muohio.edu>
	<5C5C755A-19DC-4C3C-A415-C6231F8E808F@unimi.it>
Message-ID: <376DBCC3-E548-4E42-95D5-00BD63B3DB34@llnl.gov>

MHH Stevens is approximately correct: the ambiguity is in the verb  
"handle".

Later versions of Office have a pdf importer, but
1) the graphic is imported as bitmap graphics, not vector graphics, and
2) the results are low-res, ugly, and often not correct.

As for Word's native vector graphics format on the Mac, I believe it  
is an older version quickdraw, dating from pre-OS X days.

The problem with this format has always been that  conversion from  
wmf/emf to quickdraw is woefully incomplete (just try rotating text :-)

My solution has always been to create a high-res high-quality jpeg  
and import that.

Hope this helps,

David Nelson


On Jan 30, 2007, at 1:41 AM, stefano iacus wrote:

>
> On 30/gen/07, at 10:35, MHH Stevens wrote:
>
>> Hi Folks,
>> later today, I plan on posting a web page of the following (with
>> formatting to make it legible). I thought you might be interested in
>> this, and may have specific comments for improvement.
>>
>> How To Get Graphics Out of R and Into Microsoft Word and PowerPoint
>>
>> This document describes a little of the how's and why's of getting
>> graphics out of R and into MS Word and PowerPoint. It is also how to
>> get graphics into the Open Office Suite and NeoOffice on a Mac.
>> Please consider suggestions for improvements to this document.
>>
>> Mac OSX uses PDF format for vector-graphics format, and R can make
>> PDFs beautifully -- try opening them in Preview or Acrobat Reader.
>> Microsoft Word, however, cannot handle PDF graphics, and uses EMF/WMF
>> format for vector graphics. On PC's, R can create EMF/WMF format, but
>> it does not do so on Macs.
> up to my knowledge, this is untrue (or maybe not completely correct),
> word for Mac has an integrated WMF converter which does the job on-
> the-fly when you try to open a MSWindows generated graphics and
> inserted into Word.
>
> stefano
>
>>
>> Note that if you make a Word document (like a manuscript) that
>> contains EMF/WMF graphics, Word on the Mac cannot read graphics in  
>> the
>> Word file made on the PC.
>>
>> My Motivation
>> While I do not use Microsoft Word for my own work, I
>> (i) I teach R to people who use Word and PowerPoint, and
>> (ii) many people who use Word around here would also like to use R,
>> but are frustrated about getting graphics into Word.
>>
>> How to do it
>> Step 1.
>> Learn about how to save graphics in R. Graphics are "graphics
>> devices" that can be saved as files in a variety of formats,
>> including PDF, PNG, PS, BMP, JPEG. Read the Mac R FAQ on quartz. Read
>> up on ?quartz, ?bitmap, ?pdf. You might also be interested to see
>> also ?postscript, ?jpeg.
>>
>> Step 2.
>> Try following these instructions.
>>
>> Use bitmap()
>> (I am not sure if this will work on computers without ghostscript - I
>> would be interested to find out!)
>>
>>     1. Save R graphic with bitmap, using a high resolution. I prefer
>> 400 dpi, but others suggest 300 dpi suffices.
>>
>>        plot(1:8)
>>        dev.print(bitmap, "Myplot.png", res=400)
>>
>>     2. Within MS Word, use the Insert:Picture:From File to add it
>> into a Word document.  That will look very good.
>>
>>
>> Use an intermediate program.
>>
>>     1. Save R images as PDFs
>>        plot(1:8)
>>        dev.print(pdf, "MyPlot.pdf")
>>
>>     2. Open the file in GraphicConverter (a utility that comes with a
>> Mac), or Preview (Apple's PDF viewer), and then save as JPEG format
>> (with 100% resolution).
>>
>>     3. Within MS Word, use the Insert:Picture:From File to add it
>> into a Word document.  That will look very good.
>>
>> Cut and Paste
>>
>>      * You can always cut and paste a quartz() window into Word, but
>> the image will be a little blurry. Other methods, including saving
>> using jpeg() and png(), also give less than ideal results.
>>
>>
>>
>> I found a couple relevant threads including http://
>> finzi.psych.upenn.edu/R/Rhelp02a/archive/34950.html
>>
>> Acknolwedgements
>> Thanks to all those who make R possible and who make R available on
>> the Mac. Thanks also to those who contributed to the above
>> information through the R-help listserv, including Stefan Iacus,
>> Simon Urbanek, Phillip Price, Ben Bolker, Byron Ellis, Federico
>> Calboli, Richard De Veaux, Don McQueen, Mick McQuaid, Rob Knell,
>> Brian Ripley, Duncan Murdoch, George Gilcrist. Thanks also to the
>> folks at Mozilla for providing the HTML composer on which this was
>> written. Please consider suggestions for improvements to the above
>> document.
>>
>> On Jan 29, 2007, at 7:35 PM, Phillip Price wrote:
>>
>>>
>>> On Jan 29, 2007, at 4:20 PM, MHH Stevens wrote:
>>>
>>>> Hi Phil,
>>>> I found res=400 was clean enough for me. The documentation says
>>>> something about needing ghostscript -- I have ghostscript, so I
>>>> don't know if it would work without it. Do you know?
>>>> -Hank
>>>
>>> I don't know.  I, too, have ghostscript.  I've never tried removing
>>> or hiding ghostscript and seeing if bitmap() still works.  I've
>>> wondered about this, but I've always figured that if, someday, I
>>> change my system and "break" bitmap(), I'll worry about it then.
>>>
>>> I'm glad it's working for you.
>>>
>>> --Phil
>>>
>>
>> Dr. Hank Stevens, Assistant Professor
>> 338 Pearson Hall
>> Botany Department
>> Miami University
>> Oxford, OH 45056
>>
>> Office: (513) 529-4206
>> Lab: (513) 529-4262
>> FAX: (513) 529-4243
>> http://www.cas.muohio.edu/~stevenmh/
>> http://www.muohio.edu/ecology/
>> http://www.muohio.edu/botany/
>>
>> "E Pluribus Unum"
>>
>>
>>
>>
>>
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

----
David Nelson
nelson6 at llnl.gov


From tlumley at u.washington.edu  Tue Jan 30 17:43:23 2007
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 30 Jan 2007 08:43:23 -0800 (PST)
Subject: [R-SIG-Mac] Wiki or Development for
	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <DD74AB9A-DC7E-4CA9-AE34-54B5E9DF3029@unimi.it>
References: <A8DD16EA-7A1E-44BA-B094-99BD75D05D3B@imperial.ac.uk>
	<C1E3B6C9.D32D%deveaux@williams.edu>
	<20070129210817.GC17087@mojojojo.si.umich.edu>
	<DD74AB9A-DC7E-4CA9-AE34-54B5E9DF3029@unimi.it>
Message-ID: <Pine.LNX.4.64.0701300825250.736@homer21.u.washington.edu>

On Mon, 29 Jan 2007, stefano iacus wrote:

> Please stop this dogmatic war against/in_favor_of Word & Co. or I'm
> forced to close this thread.

A dogma-free summary:

1. Word (and the rest of office)  doesn't display PDFs, but can display 
PNG or JPEG

2. PNG is better for statistical graphics

3. PNG can be produced by drag-and-drop, with Preview from a PDF, or 
directly from the png() driver. Simon (who should know) recommends drag 
and drop.  I have tended to use the png() driver at higher-than-screen 
resolution.

4. Under Windows, PNG may require Quicktime in order to be displayed.

5. R does not know how to produce .wmf -- under Windows, R does 
device-independent graphics calls that are translated to .wmf, .png, 
.jpeg, or screen images by the operating system as required. This means it 
would not be easy to make .wmf on Mac.

6. Implementing .wmf output off Windows does not appear to be a high 
priority for any of the active (core or non-core) developers. If it 
happens, someone else will have to do it.

7. Many people have strong views on Word that go beyond questions of the 
use of R on Mac OS X platforms.


 	-thomas


From chabotd at globetrotter.net  Tue Jan 30 18:50:47 2007
From: chabotd at globetrotter.net (Chabot Denis)
Date: Tue, 30 Jan 2007 12:50:47 -0500
Subject: [R-SIG-Mac] Wiki or Development fo
 Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <mailman.60.1170106093.21949.r-sig-mac@stat.math.ethz.ch>
References: <mailman.60.1170106093.21949.r-sig-mac@stat.math.ethz.ch>
Message-ID: <D79CB92E-FED7-46E2-A891-BA2874117F37@globetrotter.net>

Hi,
Le 07-01-29 ? 16:28, r-sig-mac-request at stat.math.ethz.ch a ?crit :

> Message: 3
> Date: Mon, 29 Jan 2007 11:50:47 -0800
> From: Don MacQueen <macq at llnl.gov>
> Subject: Re: [R-SIG-Mac] Wiki or Development fo Mac-R.app-graphics- 
> insert-to-Word?
> To: "Martin Henry H. Stevens" <HStevens at muohio.edu>,	R
> 	<r-sig-mac at stat.math.ethz.ch>
> Message-ID: <p06230905c1e400267aec@[128.115.153.6]>
> Content-Type: text/plain; charset="us-ascii" ; format="flowed"
>
> I'd suggest you try using R's png() driver.
> I am satisfied with how graphics imported into Word or PowerPoint
> look if save using png().
>
> Note that Adobe Illustrator for Mac has a "Save for Microsoft Office"
> option, and it saves in png format.
>
> -Don

This is probably one of the better solutions, but I usually keep  
saving as pdf and then create the png from PreView or Acrobat.

The reason is this: most of my graphics are in pdf, so my margins,  
font sizes (via cex) etc. are set for graphics that are well  
proportioned in pdf files.

When I ask R to output png, I usually want to increase resolution to  
compensate for the fact it will be raster instead of vector based  
(i.e. have a bit of room to zoom without loosing quality). But every  
time I change the png resolution, I have to readjust margins, font  
sizes, etc. Frustrating when you have just made a complex graph  
requiring a bit of fine tuning, but realise you should also keep a  
png version for an Office product.

I wish the png driver worked differently, so that if you are happy  
with the pdf or quartz graphics, you just call png with the same  
settings and get the same plot. If you choose a high res, you get a  
giant version of the graph, everything in enlarged in proportion,  
text, plot symbols, etc included.

Denis


From chabotd at globetrotter.net  Tue Jan 30 18:57:50 2007
From: chabotd at globetrotter.net (Chabot Denis)
Date: Tue, 30 Jan 2007 12:57:50 -0500
Subject: [R-SIG-Mac] Wiki or Development for
 Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <mailman.60.1170106093.21949.r-sig-mac@stat.math.ethz.ch>
References: <mailman.60.1170106093.21949.r-sig-mac@stat.math.ethz.ch>
Message-ID: <14CCB1F7-33FC-449F-9DA8-CB44E627A085@globetrotter.net>

Hi again,
Le 07-01-29 ? 16:28, r-sig-mac-request at stat.math.ethz.ch a ?crit :

>
> Message: 5
> Date: Mon, 29 Jan 2007 15:47:09 -0500
> From: Simon Urbanek <simon.urbanek at r-project.org>
> Subject: Re: [R-SIG-Mac] Wiki or Development for
> 	Mac-R.app-graphics-insert-to-Word?
> To: Don MacQueen <macq at llnl.gov>
> Cc: R <r-sig-mac at stat.math.ethz.ch>
> Message-ID: <012A0AC1-6B7D-49DB-AA6E-D59DD4B41F09 at r-project.org>
> Content-Type: text/plain; charset=US-ASCII; delsp=yes; format=flowed
>
> On Jan 29, 2007, at 2:50 PM, Don MacQueen wrote:
>
>> I'd suggest you try using R's png() driver.
>
> I'd discourage that one a Mac as there is not really a need for that
> - Quartz produces PNG directly and it's WYSIWYG unlike the png()
> driver and Quartz has much better rendering.

Now this is very interesting (see my problems with png() in previous  
post), how do you do this? I saw nothing on the quartz help, and the  
save as menu command does not give me the option to choose file format.

>
>
> To get back on the topic: To be honest I don't really see a problem
> here - Word can handle PDF very easily, just drop a PDF file in a
> Word document - it works just fine (to make sure I'm talking about
> Office 2004 here).
>
> The fact that it does so in Microsoft-ish way, that is by converting
> it to a bitmap, is a technicality and given the overall quality of
> Word output it is neither surprising nor will a regular Word user
> notice this at all.

I have not tried with Word, but PowerPoint produces a low res png  
that really looks bad on a large screen. Hence my use of other  
software (Preview or Acrobat) to translate into png instead of  
letting PowerPoint do it poorly. In fact, putting pdf plots in  
Keynote and exporting to PowerPoint format does a nicer job than  
importing the pdf directly in PowerPoint.

>
> R is open source, so if someone implements a device that generates
> DOC or WMF files, uses some API to talk to Word or anything similar,
> they are free to contribute it to R or the R.app GUI.
>
> Cheers,
> Simon
Denis


From murdoch at stats.uwo.ca  Tue Jan 30 19:21:49 2007
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 30 Jan 2007 13:21:49 -0500
Subject: [R-SIG-Mac] Wiki or Development
	for	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <Pine.LNX.4.64.0701300825250.736@homer21.u.washington.edu>
References: <A8DD16EA-7A1E-44BA-B094-99BD75D05D3B@imperial.ac.uk>	<C1E3B6C9.D32D%deveaux@williams.edu>	<20070129210817.GC17087@mojojojo.si.umich.edu>	<DD74AB9A-DC7E-4CA9-AE34-54B5E9DF3029@unimi.it>
	<Pine.LNX.4.64.0701300825250.736@homer21.u.washington.edu>
Message-ID: <45BF8CBD.4050505@stats.uwo.ca>

On 1/30/2007 11:43 AM, Thomas Lumley wrote:
> On Mon, 29 Jan 2007, stefano iacus wrote:
> 
>> Please stop this dogmatic war against/in_favor_of Word & Co. or I'm
>> forced to close this thread.
> 
> A dogma-free summary:

Not only dogma-free, but quite accurate.  Not 100%....

> 1. Word (and the rest of office)  doesn't display PDFs, but can display 
> PNG or JPEG
> 
> 2. PNG is better for statistical graphics
> 
> 3. PNG can be produced by drag-and-drop, with Preview from a PDF, or 
> directly from the png() driver. Simon (who should know) recommends drag 
> and drop.  I have tended to use the png() driver at higher-than-screen 
> resolution.
> 
> 4. Under Windows, PNG may require Quicktime in order to be displayed.
> 
> 5. R does not know how to produce .wmf -- under Windows, R does 
> device-independent graphics calls that are translated to .wmf, .png, 
> .jpeg, or screen images by the operating system as required. 

That's true for wmf and on-screen displays, but R on Windows uses open 
source code (in the src/gnuwin32/bitmap directory) for png and jpeg. 
I've sometimes wondered why other platforms don't use that code too, to 
avoid the need for X11 to generate those formats.

Duncan Murdoch

> This means it 
> would not be easy to make .wmf on Mac.
> 
> 6. Implementing .wmf output off Windows does not appear to be a high 
> priority for any of the active (core or non-core) developers. If it 
> happens, someone else will have to do it.
> 
> 7. Many people have strong views on Word that go beyond questions of the 
> use of R on Mac OS X platforms.
> 
> 
>  	-thomas
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From chabotd at globetrotter.net  Tue Jan 30 19:20:43 2007
From: chabotd at globetrotter.net (Chabot Denis)
Date: Tue, 30 Jan 2007 13:20:43 -0500
Subject: [R-SIG-Mac] Instructions for graphics (was Wiki or Development
 for Mac-R.app-graphics-insert-to-Word?)
In-Reply-To: <mailman.84.1170150818.21949.r-sig-mac@stat.math.ethz.ch>
References: <mailman.84.1170150818.21949.r-sig-mac@stat.math.ethz.ch>
Message-ID: <99FBCD92-AB4A-4C06-A5C1-8EEFF77C7919@globetrotter.net>


Le 07-01-30 ? 04:53, MHH Stevens <HStevens at muohio.edu> a ?crit :

>     1. Save R graphic with bitmap, using a high resolution. I prefer
> 400 dpi, but others suggest 300 dpi suffices.
>
>        plot(1:8)
>        dev.print(bitmap, "Myplot.png", res=400)

Wow, thank you for this. Even after a couple of years of using R,  
there are plenty of tricks I don't know. This works much better for  
me than using png().

Denis


From byron.ellis at gmail.com  Tue Jan 30 22:32:27 2007
From: byron.ellis at gmail.com (Byron Ellis)
Date: Tue, 30 Jan 2007 13:32:27 -0800
Subject: [R-SIG-Mac] Wiki or Development for
	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <45BF8CBD.4050505@stats.uwo.ca>
References: <A8DD16EA-7A1E-44BA-B094-99BD75D05D3B@imperial.ac.uk>
	<C1E3B6C9.D32D%deveaux@williams.edu>
	<20070129210817.GC17087@mojojojo.si.umich.edu>
	<DD74AB9A-DC7E-4CA9-AE34-54B5E9DF3029@unimi.it>
	<Pine.LNX.4.64.0701300825250.736@homer21.u.washington.edu>
	<45BF8CBD.4050505@stats.uwo.ca>
Message-ID: <7098abec0701301332v5a03b43ci8fed3a9848a6320d@mail.gmail.com>

On 1/30/07, Duncan Murdoch <murdoch at stats.uwo.ca> wrote:
> >
> > 5. R does not know how to produce .wmf -- under Windows, R does
> > device-independent graphics calls that are translated to .wmf, .png,
> > .jpeg, or screen images by the operating system as required.
>
> That's true for wmf and on-screen displays, but R on Windows uses open
> source code (in the src/gnuwin32/bitmap directory) for png and jpeg.
> I've sometimes wondered why other platforms don't use that code too, to
> avoid the need for X11 to generate those formats.

More curiously, why doesn't R look into, say, Cairo for its bitmap
drawing needs? I'm pretty sure there are even already a couple
implementations of cairo-based devices around.

-- 
Byron Ellis (byron.ellis at gmail.com)
"Oook" -- The Librarian


From HStevens at MUOhio.edu  Tue Jan 30 23:22:19 2007
From: HStevens at MUOhio.edu (Martin Henry H. Stevens)
Date: Tue, 30 Jan 2007 17:22:19 -0500
Subject: [R-SIG-Mac] Wiki or Development for
	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <Pine.LNX.4.64.0701300825250.736@homer21.u.washington.edu>
References: <A8DD16EA-7A1E-44BA-B094-99BD75D05D3B@imperial.ac.uk>
	<C1E3B6C9.D32D%deveaux@williams.edu>
	<20070129210817.GC17087@mojojojo.si.umich.edu>
	<DD74AB9A-DC7E-4CA9-AE34-54B5E9DF3029@unimi.it>
	<Pine.LNX.4.64.0701300825250.736@homer21.u.washington.edu>
Message-ID: <C5BBCDC5-44EC-4C6F-97C9-4CEAB6C99817@MUOhio.edu>

Nice writing -- to the point. I have read the advice about png, and  
when I use bitmap with res=400, it is great. However, lower  
resolution (with drag and drop) is jaggy enough to be, IMHO, less- 
than publication quality and less than good enough for my  
presentations. This seems like a problem on my computer, or a simple  
difference of opinion that would be great to be shared (option 1,  
option 2). Disagreements are healthy, yes?
Hank
On Jan 30, 2007, at 11:43 AM, Thomas Lumley wrote:

> On Mon, 29 Jan 2007, stefano iacus wrote:
>
>> Please stop this dogmatic war against/in_favor_of Word & Co. or I'm
>> forced to close this thread.
>
> A dogma-free summary:
>
> 1. Word (and the rest of office)  doesn't display PDFs, but can  
> display
> PNG or JPEG
>
> 2. PNG is better for statistical graphics
>
> 3. PNG can be produced by drag-and-drop, with Preview from a PDF, or
> directly from the png() driver. Simon (who should know) recommends  
> drag
> and drop.  I have tended to use the png() driver at higher-than-screen
> resolution.
>
> 4. Under Windows, PNG may require Quicktime in order to be displayed.
>
> 5. R does not know how to produce .wmf -- under Windows, R does
> device-independent graphics calls that are translated to .wmf, .png,
> .jpeg, or screen images by the operating system as required. This  
> means it
> would not be easy to make .wmf on Mac.
>
> 6. Implementing .wmf output off Windows does not appear to be a high
> priority for any of the active (core or non-core) developers. If it
> happens, someone else will have to do it.
>
> 7. Many people have strong views on Word that go beyond questions  
> of the
> use of R on Mac OS X platforms.
>
>
>  	-thomas
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac



Dr. Hank Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.cas.muohio.edu/~stevenmh/
http://www.muohio.edu/ecology/
http://www.muohio.edu/botany/

"E Pluribus Unum"


From simon.urbanek at r-project.org  Tue Jan 30 23:36:23 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 30 Jan 2007 17:36:23 -0500
Subject: [R-SIG-Mac] Wiki or Development for
	Mac-R.app-graphics-insert-to-Word?
In-Reply-To: <C5BBCDC5-44EC-4C6F-97C9-4CEAB6C99817@MUOhio.edu>
References: <A8DD16EA-7A1E-44BA-B094-99BD75D05D3B@imperial.ac.uk>
	<C1E3B6C9.D32D%deveaux@williams.edu>
	<20070129210817.GC17087@mojojojo.si.umich.edu>
	<DD74AB9A-DC7E-4CA9-AE34-54B5E9DF3029@unimi.it>
	<Pine.LNX.4.64.0701300825250.736@homer21.u.washington.edu>
	<C5BBCDC5-44EC-4C6F-97C9-4CEAB6C99817@MUOhio.edu>
Message-ID: <332CAF70-8901-4728-A301-C07A6BAE3234@r-project.org>

Thanks for all those contributions. What I can see as an action point  
is that quartz.save(..) should be extended to allow a DPI  
specification when used with type='png', such that you will get hi- 
res WYSIWYG. The later is crucial to me to be honest, that's why I  
was discouraging the use of png(..), bitmap(..) and friends. Although  
essentially the same can be achieved by using quartz.save(..,  
type='pdf')+Preview, but reducing the Preview step may be worthwhile.

Cheers,
Simon


On Jan 30, 2007, at 5:22 PM, Martin Henry H. Stevens wrote:

> Nice writing -- to the point. I have read the advice about png, and
> when I use bitmap with res=400, it is great. However, lower
> resolution (with drag and drop) is jaggy enough to be, IMHO, less-
> than publication quality and less than good enough for my
> presentations. This seems like a problem on my computer, or a simple
> difference of opinion that would be great to be shared (option 1,
> option 2). Disagreements are healthy, yes?
> Hank
> On Jan 30, 2007, at 11:43 AM, Thomas Lumley wrote:
>
>> On Mon, 29 Jan 2007, stefano iacus wrote:
>>
>>> Please stop this dogmatic war against/in_favor_of Word & Co. or I'm
>>> forced to close this thread.
>>
>> A dogma-free summary:
>>
>> 1. Word (and the rest of office)  doesn't display PDFs, but can
>> display
>> PNG or JPEG
>>
>> 2. PNG is better for statistical graphics
>>
>> 3. PNG can be produced by drag-and-drop, with Preview from a PDF, or
>> directly from the png() driver. Simon (who should know) recommends
>> drag
>> and drop.  I have tended to use the png() driver at higher-than- 
>> screen
>> resolution.
>>
>> 4. Under Windows, PNG may require Quicktime in order to be displayed.
>>
>> 5. R does not know how to produce .wmf -- under Windows, R does
>> device-independent graphics calls that are translated to .wmf, .png,
>> .jpeg, or screen images by the operating system as required. This
>> means it
>> would not be easy to make .wmf on Mac.
>>
>> 6. Implementing .wmf output off Windows does not appear to be a high
>> priority for any of the active (core or non-core) developers. If it
>> happens, someone else will have to do it.
>>
>> 7. Many people have strong views on Word that go beyond questions
>> of the
>> use of R on Mac OS X platforms.
>>
>>
>>  	-thomas
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
>
> Dr. Hank Stevens, Assistant Professor
> 338 Pearson Hall
> Botany Department
> Miami University
> Oxford, OH 45056
>
> Office: (513) 529-4206
> Lab: (513) 529-4262
> FAX: (513) 529-4243
> http://www.cas.muohio.edu/~stevenmh/
> http://www.muohio.edu/ecology/
> http://www.muohio.edu/botany/
>
> "E Pluribus Unum"
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From karl.goiser at anu.edu.au  Wed Jan 31 08:06:45 2007
From: karl.goiser at anu.edu.au (Karl Goiser)
Date: Wed, 31 Jan 2007 18:06:45 +1100
Subject: [R-SIG-Mac] Running R on a 64 bit Intel Mac
Message-ID: <681B2A0F-59F6-42D2-90C4-A8E818A512B8@anu.edu.au>

Hello,

I have seen postings and mailing list messages saying that this is  
possible, but don't seem to be able to do it myself.

As a Mac person, I'm not much at the command line, so this is a problem.

http://cran.au.r-project.org/bin/macosx/RMacOSX-FAQ.html#What-machines-does-R-for-Mac-OS-X-run-on_003f

Implies that Leopard may be better for compiling a 64 bit R than  
Tiger.  Is that so?


Is guess what I really want is a binary, but am happy if somebody  
could provide a road map to follow...

Any help, please?


Thanks in advance,

Karl


From HStevens at MUOhio.edu  Wed Jan 31 17:56:54 2007
From: HStevens at MUOhio.edu (Martin Henry H. Stevens)
Date: Wed, 31 Jan 2007 11:56:54 -0500
Subject: [R-SIG-Mac] Wiki for Graphics tips for MacOS X
Message-ID: <E9E8F95E-7610-4D61-ABF5-B8CEA952F1A3@MUOhio.edu>

Hi Folks,
I just finished (the first draft of) a Wiki document to explains  
options for producing graphics to incorporate in MS Word.
Thanks to all those who provided input, and who provided the wiki space.

Here is the direct link.

http://wiki.r-project.org/rwiki/doku.php?id=tips:using- 
platform:macosx-graphics

Cheers,
Hank

Dr. Hank Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.cas.muohio.edu/~stevenmh/
http://www.muohio.edu/ecology/
http://www.muohio.edu/botany/

"E Pluribus Unum"


From ggrothendieck at gmail.com  Wed Jan 31 18:11:42 2007
From: ggrothendieck at gmail.com (Gabor Grothendieck)
Date: Wed, 31 Jan 2007 12:11:42 -0500
Subject: [R-SIG-Mac] [R] Wiki for Graphics tips for MacOS X
In-Reply-To: <E9E8F95E-7610-4D61-ABF5-B8CEA952F1A3@MUOhio.edu>
References: <E9E8F95E-7610-4D61-ABF5-B8CEA952F1A3@MUOhio.edu>
Message-ID: <971536df0701310911g597d73afiede5947437e35498@mail.gmail.com>

To get the best results you need to transfer it using vector
graphics rather than bitmapped graphics:

http://www.stc-saz.org/resources/0203_graphics.pdf

There are a number of variations described here (see
entire thread).  Its for UNIX and Windows but I think
it would likely work similarly on Mac and Windows:

http://finzi.psych.upenn.edu/R/Rhelp02a/archive/32297.html

On 1/31/07, Martin Henry H. Stevens <HStevens at muohio.edu> wrote:
> Hi Folks,
> I just finished (the first draft of) a Wiki document to explains
> options for producing graphics to incorporate in MS Word.
> Thanks to all those who provided input, and who provided the wiki space.
>
> Here is the direct link.
>
> http://wiki.r-project.org/rwiki/doku.php?id=tips:using-
> platform:macosx-graphics
>
> Cheers,
> Hank
>
> Dr. Hank Stevens, Assistant Professor
> 338 Pearson Hall
> Botany Department
> Miami University
> Oxford, OH 45056
>
> Office: (513) 529-4206
> Lab: (513) 529-4262
> FAX: (513) 529-4243
> http://www.cas.muohio.edu/~stevenmh/
> http://www.muohio.edu/ecology/
> http://www.muohio.edu/botany/
>
> "E Pluribus Unum"
>
> ______________________________________________
> R-help at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>


