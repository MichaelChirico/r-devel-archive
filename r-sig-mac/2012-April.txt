From tim.bates at ed.ac.uk  Mon Apr  2 17:30:46 2012
From: tim.bates at ed.ac.uk (Timothy Bates)
Date: Mon, 2 Apr 2012 16:30:46 +0100
Subject: [R-SIG-Mac] GCC on Lion and above
Message-ID: <217FC504-42CA-46BB-88FB-257C938A7C95@ed.ac.uk>

Hi All,

HPC seem to be maintaining the gcc toolchain up to date (they have GCC 4.7 compiled with autovectoring using OpenMP?)

http://hpc.sourceforge.net

BUT the page  http://r.research.att.com/tools/  says "do not use compilers from HPC, they won't work correctly!? Is that the case?

Also, I wondered if http://www.macports.org might be the way to go to get a version of gcc with a non-crashing OpenMP library?

best wishes and thanks for your help

tim

PS: The att.com page talks about install disks for OS X, but I think it?s all via the app store now, including X Code.
-- 
The University of Edinburgh is a charitable body, registered in
Scotland, with registration number SC005336.


From simon.urbanek at r-project.org  Mon Apr  2 20:06:24 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 2 Apr 2012 14:06:24 -0400
Subject: [R-SIG-Mac] GCC on Lion and above
In-Reply-To: <217FC504-42CA-46BB-88FB-257C938A7C95@ed.ac.uk>
References: <217FC504-42CA-46BB-88FB-257C938A7C95@ed.ac.uk>
Message-ID: <FB1E9756-C2CB-4244-9F7A-3D00CF6EF493@r-project.org>

Tim,

On Apr 2, 2012, at 11:30 AM, Timothy Bates wrote:

> Hi All,
> 
> HPC seem to be maintaining the gcc toolchain up to date (they have GCC 4.7 compiled with autovectoring using OpenMP?)
> 
> http://hpc.sourceforge.net
> 
> BUT the page  http://r.research.att.com/tools/  says "do not use compilers from HPC, they won't work correctly!? Is that the case?
> 

Two reasons: a) they do not use Apple's drivers, so those are incompatible with most "regular" flags on Mac OS X (including most basic ones like -arch). b) last time I checked they were broken, i.e. the distribution did not even include libraries that the compiler linked against and it had OS version issues (i.e. it worked only on a very specific version which was not even what they were advertized for). I would hope that the latter point may have been rectified in the meantime, but I don't know. Gaurav never responded to my comments so I stopped worrying about that build. (There was a point c) where his compilers don't support ppc cross-compilation but that is less relevant now).

It is stil possible to build FSF gcc and Apple drivers - that's what we used a while ago when Apple's branch was broken. 

But note that even the most recent compilers are not much better, OMP performance is unusable for R's purpose so last time I checked there were no noticeable gains after all the work, but more recent reports are welcome.


> Also, I wondered if http://www.macports.org might be the way to go to get a version of gcc with a non-crashing OpenMP library?
> 

MacPorts are quite notorious for the quality of the binaries and conflicts they cause, so I would be wary about that. If you compile everything from scratch (R and libraries), then the HPC compilers may work - you just have to stick to FSF flags.

I am still weighting the options - the most reasonable way at the moment is clang because it is supported by Apple and under active development (personally, I have switched to clang because it's much better for development), but there is no OpenMP yet for clang, although it is (allegedly) brewing. But as I said, at least for R itself, the threading performance problem is deeper, so just updating the compiler or OMP doesn't seem to help (I didn't try MPC, though).


> PS: The att.com page talks about install disks for OS X, but I think it?s all via the app store now, including X Code.

Yes, it varies by Xcode version and your OS X version. App store is the last resort, I prefer ADC which has always worked and still works. I think the FAQ is up to date.

Cheers,
Simon


From murdoch.duncan at gmail.com  Tue Apr  3 18:50:52 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 3 Apr 2012 12:50:52 -0400
Subject: [R-SIG-Mac] Fwd: Re: [R] Package seems to be present but library
	don't find it
In-Reply-To: <4F7B2480.7070307@yahoo.fr>
References: <4F7B2480.7070307@yahoo.fr>
Message-ID: <4F7B2A6C.5040903@gmail.com>

This is a message from R-help about installing a package in OSX.  The 
NAMESPACE file contains an error, but the user didn't see the error 
message when he installed from the Mac GUI.  Is R.app missing one of the 
output streams?  I see the following in the Windows Rgui:

 > install.packages("d:/temp/HelloWorld_1.0.tar.gz", type="source", 
repos=NULL)
* installing *source* package 'HelloWorld' ...
** R
** preparing package for lazy loading
** help
Warning: 
C:/Users/murdoch/AppData/Local/Temp/Rtmpm6LVhP/R.INSTALLc4762d6689/HelloWorld/man/HelloWorld-package.Rd:32: 
All text must be in a section
Warning: 
C:/Users/murdoch/AppData/Local/Temp/Rtmpm6LVhP/R.INSTALLc4762d6689/HelloWorld/man/HelloWorld-package.Rd:33: 
All text must be in a section
*** installing help indices
** building package indices
** testing if installed package can be loaded
Error in namespaceExport(ns, exports) : undefined exports: HelloWorld
Error: loading failed
Execution halted
ERROR: loading failed
* removing 'F:/R/svn/R-2-15-branch/library/HelloWorld'
Warning messages:
1: running command 'F:/R/svn/R-2-15-branch/bin/i386/R CMD INSTALL -l 
"F:/R/svn/R-2-15-branch/library"   "d:/temp/HelloWorld_1.0.tar.gz"' had 
status 1
2: In install.packages("d:/temp/HelloWorld_1.0.tar.gz", type = "source",  :
   installation of package ?d:/temp/HelloWorld_1.0.tar.gz? had non-zero 
exit status



Duncan Murdoch

-------- Original Message --------
Subject: 	Re: [R] Package seems to be present but library don't find it
Date: 	Tue, 03 Apr 2012 18:25:36 +0200
From: 	Marc Girondot <marc_grt at yahoo.fr>
To: 	Duncan Murdoch <murdoch.duncan at gmail.com>
CC: 	r-help at r-project.org



Indeed I get this error message when I install the library using R CMD 
INSTALL but not within the GUI (in MacOsX). Good to know that R CMD 
INSTALL is more verbose and permits to track bug.

Thanks a lot.

It works fine now.

Marc

Le 03/04/12 16:03, Duncan Murdoch a ?crit :
> On 03/04/2012 9:50 AM, Marc Girondot wrote:
>> In case someone has the competence to check, the file is here:
>>
>> setwd("~")
>>
>> download.file("http://www.ese.u-psud.fr/epc/conservation/r-scripts/HelloWorld_1.0.tar.gz", 
>>
>> "HelloWorld_1.0.tar.gz")
>>
>> install.packages("HelloWorld_1.0.tar.gz", repos = NULL)
>
>
> The problem is that you try to export the name HelloWorld in your 
> NAMESPACE file, but you don't have an object of that name.  You should 
> export showHello instead.
>
> Not sure why you didn't see the error message I got:
>
> $ R CMD INSTALL HelloWorld_1.0.tar.gz
> * installing to library 'F:/cygwin/home/murdoch/R/win-library/2.15'
> * installing *source* package 'HelloWorld' ...
> ** R
> ** preparing package for lazy loading
> ** help
> Warning: 
> C:/temp/RtmpimSWuh/R.INSTALLe801c296e9/HelloWorld/man/HelloWorld-packag
> e.Rd:32: All text must be in a section
> Warning: 
> C:/temp/RtmpimSWuh/R.INSTALLe801c296e9/HelloWorld/man/HelloWorld-packag
> e.Rd:33: All text must be in a section
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> Error in namespaceExport(ns, exports) : undefined exports: HelloWorld
> Error: loading failed
> Execution halted
> ERROR: loading failed
> * removing 'F:/cygwin/home/murdoch/R/win-library/2.15/HelloWorld'
>
> Duncan Murdoch 


-- 
__________________________________________________________
Marc Girondot, Pr

Laboratoire Ecologie, Syst?matique et Evolution
Equipe de Conservation des Populations et des Communaut?s
CNRS, AgroParisTech et Universit? Paris-Sud 11 , UMR 8079
B?timent 362
91405 Orsay Cedex, France

Tel:  33 1 (0)1.69.15.72.30   Fax: 33 1 (0)1.69.15.73.53
e-mail:marc.girondot at u-psud.fr
Web:http://www.ese.u-psud.fr/epc/conservation/Marc.html
Skype: girondot


From bhh at xs4all.nl  Tue Apr  3 19:04:42 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Tue, 3 Apr 2012 19:04:42 +0200
Subject: [R-SIG-Mac] Fwd: Re: [R] Package seems to be present but
	library don't find it
In-Reply-To: <4F7B2A6C.5040903@gmail.com>
References: <4F7B2480.7070307@yahoo.fr> <4F7B2A6C.5040903@gmail.com>
Message-ID: <CF47B8DA-7209-4FE6-AE17-8B4574906977@xs4all.nl>


On 03-04-2012, at 18:50, Duncan Murdoch wrote:

> This is a message from R-help about installing a package in OSX.  The NAMESPACE file contains an error, but the user didn't see the error message when he installed from the Mac GUI.  Is R.app missing one of the output streams?  I see the following in the Windows Rgui:
> 
> > install.packages("d:/temp/HelloWorld_1.0.tar.gz", type="source", repos=NULL)
> * installing *source* package 'HelloWorld' ...
> ** R
> ** preparing package for lazy loading
> ** help
> Warning: C:/Users/murdoch/AppData/Local/Temp/Rtmpm6LVhP/R.INSTALLc4762d6689/HelloWorld/man/HelloWorld-package.Rd:32: All text must be in a section
> Warning: C:/Users/murdoch/AppData/Local/Temp/Rtmpm6LVhP/R.INSTALLc4762d6689/HelloWorld/man/HelloWorld-package.Rd:33: All text must be in a section
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> Error in namespaceExport(ns, exports) : undefined exports: HelloWorld
> Error: loading failed
> Execution halted
> ERROR: loading failed
> * removing 'F:/R/svn/R-2-15-branch/library/HelloWorld'
> Warning messages:
> 1: running command 'F:/R/svn/R-2-15-branch/bin/i386/R CMD INSTALL -l "F:/R/svn/R-2-15-branch/library"   "d:/temp/HelloWorld_1.0.tar.gz"' had status 1
> 2: In install.packages("d:/temp/HelloWorld_1.0.tar.gz", type = "source",  :
>  installation of package ?d:/temp/HelloWorld_1.0.tar.gz? had non-zero exit status

I have tried this.
The package is installed without complaints in both R.app and an interactive R from the Terminal.

Installation only seems to fail with R CMD INSTALL.

Berend


From murdoch.duncan at gmail.com  Tue Apr  3 20:54:43 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 3 Apr 2012 14:54:43 -0400
Subject: [R-SIG-Mac] Fwd: Re: [R] Package seems to be present but
 library don't find it
In-Reply-To: <CF47B8DA-7209-4FE6-AE17-8B4574906977@xs4all.nl>
References: <4F7B2480.7070307@yahoo.fr> <4F7B2A6C.5040903@gmail.com>
	<CF47B8DA-7209-4FE6-AE17-8B4574906977@xs4all.nl>
Message-ID: <4F7B4773.1060006@gmail.com>

On 03/04/2012 1:04 PM, Berend Hasselman wrote:
> On 03-04-2012, at 18:50, Duncan Murdoch wrote:
>
> >  This is a message from R-help about installing a package in OSX.  The NAMESPACE file contains an error, but the user didn't see the error message when he installed from the Mac GUI.  Is R.app missing one of the output streams?  I see the following in the Windows Rgui:
> >
> >  >  install.packages("d:/temp/HelloWorld_1.0.tar.gz", type="source", repos=NULL)
> >  * installing *source* package 'HelloWorld' ...
> >  ** R
> >  ** preparing package for lazy loading
> >  ** help
> >  Warning: C:/Users/murdoch/AppData/Local/Temp/Rtmpm6LVhP/R.INSTALLc4762d6689/HelloWorld/man/HelloWorld-package.Rd:32: All text must be in a section
> >  Warning: C:/Users/murdoch/AppData/Local/Temp/Rtmpm6LVhP/R.INSTALLc4762d6689/HelloWorld/man/HelloWorld-package.Rd:33: All text must be in a section
> >  *** installing help indices
> >  ** building package indices
> >  ** testing if installed package can be loaded
> >  Error in namespaceExport(ns, exports) : undefined exports: HelloWorld
> >  Error: loading failed
> >  Execution halted
> >  ERROR: loading failed
> >  * removing 'F:/R/svn/R-2-15-branch/library/HelloWorld'
> >  Warning messages:
> >  1: running command 'F:/R/svn/R-2-15-branch/bin/i386/R CMD INSTALL -l "F:/R/svn/R-2-15-branch/library"   "d:/temp/HelloWorld_1.0.tar.gz"' had status 1
> >  2: In install.packages("d:/temp/HelloWorld_1.0.tar.gz", type = "source",  :
> >   installation of package ?d:/temp/HelloWorld_1.0.tar.gz? had non-zero exit status
>
> I have tried this.
> The package is installed without complaints in both R.app and an interactive R from the Terminal.
>
> Installation only seems to fail with R CMD INSTALL.

Is it really installed, or are there just no error messages?  Marc was 
finding that library(HelloWorld) was failing, and he didn't understand why.

Duncan Murdoch


From simon.urbanek at r-project.org  Tue Apr  3 21:09:03 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 3 Apr 2012 15:09:03 -0400
Subject: [R-SIG-Mac] Fwd: Re: [R] Package seems to be present but
	library don't find it
In-Reply-To: <4F7B4773.1060006@gmail.com>
References: <4F7B2480.7070307@yahoo.fr> <4F7B2A6C.5040903@gmail.com>
	<CF47B8DA-7209-4FE6-AE17-8B4574906977@xs4all.nl>
	<4F7B4773.1060006@gmail.com>
Message-ID: <F73A5E03-C7BF-4452-BADE-07CBAAD7E4A8@r-project.org>


On Apr 3, 2012, at 2:54 PM, Duncan Murdoch wrote:

> On 03/04/2012 1:04 PM, Berend Hasselman wrote:
>> On 03-04-2012, at 18:50, Duncan Murdoch wrote:
>> 
>> >  This is a message from R-help about installing a package in OSX.  The NAMESPACE file contains an error, but the user didn't see the error message when he installed from the Mac GUI.  Is R.app missing one of the output streams?  I see the following in the Windows Rgui:
>> >
>> >  >  install.packages("d:/temp/HelloWorld_1.0.tar.gz", type="source", repos=NULL)
>> >  * installing *source* package 'HelloWorld' ...
>> >  ** R
>> >  ** preparing package for lazy loading
>> >  ** help
>> >  Warning: C:/Users/murdoch/AppData/Local/Temp/Rtmpm6LVhP/R.INSTALLc4762d6689/HelloWorld/man/HelloWorld-package.Rd:32: All text must be in a section
>> >  Warning: C:/Users/murdoch/AppData/Local/Temp/Rtmpm6LVhP/R.INSTALLc4762d6689/HelloWorld/man/HelloWorld-package.Rd:33: All text must be in a section
>> >  *** installing help indices
>> >  ** building package indices
>> >  ** testing if installed package can be loaded
>> >  Error in namespaceExport(ns, exports) : undefined exports: HelloWorld
>> >  Error: loading failed
>> >  Execution halted
>> >  ERROR: loading failed
>> >  * removing 'F:/R/svn/R-2-15-branch/library/HelloWorld'
>> >  Warning messages:
>> >  1: running command 'F:/R/svn/R-2-15-branch/bin/i386/R CMD INSTALL -l "F:/R/svn/R-2-15-branch/library"   "d:/temp/HelloWorld_1.0.tar.gz"' had status 1
>> >  2: In install.packages("d:/temp/HelloWorld_1.0.tar.gz", type = "source",  :
>> >   installation of package ?d:/temp/HelloWorld_1.0.tar.gz? had non-zero exit status
>> 
>> I have tried this.
>> The package is installed without complaints in both R.app and an interactive R from the Terminal.
>> 
>> Installation only seems to fail with R CMD INSTALL.
> 
> Is it really installed, or are there just no error messages?  Marc was finding that library(HelloWorld) was failing, and he didn't understand why.
> 

.. but the reason is shown when loaded (and only then AFAICS) ... All this is nonsensical/unhelpful, because it doesn't even show the original output. Also note that test-loading default (which is what fails) varies by platform and R version, so the output above is irrelevant and has really nothing to do with package installation or the GUI AFAICT ...

Cheers,
Simon


From bhh at xs4all.nl  Tue Apr  3 21:09:35 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Tue, 3 Apr 2012 21:09:35 +0200
Subject: [R-SIG-Mac] Fwd: Re: [R] Package seems to be present but
	library don't find it
In-Reply-To: <4F7B4773.1060006@gmail.com>
References: <4F7B2480.7070307@yahoo.fr> <4F7B2A6C.5040903@gmail.com>
	<CF47B8DA-7209-4FE6-AE17-8B4574906977@xs4all.nl>
	<4F7B4773.1060006@gmail.com>
Message-ID: <FC1586B5-E7FC-49E8-BFFA-54972A228692@xs4all.nl>


On 03-04-2012, at 20:54, Duncan Murdoch wrote:

> On 03/04/2012 1:04 PM, Berend Hasselman wrote:
>> On 03-04-2012, at 18:50, Duncan Murdoch wrote:
>> 
>> >  This is a message from R-help about installing a package in OSX.  The NAMESPACE file contains an error, but the user didn't see the error message when he installed from the Mac GUI.  Is R.app missing one of the output streams?  I see the following in the Windows Rgui:
>> >
>> >  >  install.packages("d:/temp/HelloWorld_1.0.tar.gz", type="source", repos=NULL)
>> >  * installing *source* package 'HelloWorld' ...
>> >  ** R
>> >  ** preparing package for lazy loading
>> >  ** help
>> >  Warning: C:/Users/murdoch/AppData/Local/Temp/Rtmpm6LVhP/R.INSTALLc4762d6689/HelloWorld/man/HelloWorld-package.Rd:32: All text must be in a section
>> >  Warning: C:/Users/murdoch/AppData/Local/Temp/Rtmpm6LVhP/R.INSTALLc4762d6689/HelloWorld/man/HelloWorld-package.Rd:33: All text must be in a section
>> >  *** installing help indices
>> >  ** building package indices
>> >  ** testing if installed package can be loaded
>> >  Error in namespaceExport(ns, exports) : undefined exports: HelloWorld
>> >  Error: loading failed
>> >  Execution halted
>> >  ERROR: loading failed
>> >  * removing 'F:/R/svn/R-2-15-branch/library/HelloWorld'
>> >  Warning messages:
>> >  1: running command 'F:/R/svn/R-2-15-branch/bin/i386/R CMD INSTALL -l "F:/R/svn/R-2-15-branch/library"   "d:/temp/HelloWorld_1.0.tar.gz"' had status 1
>> >  2: In install.packages("d:/temp/HelloWorld_1.0.tar.gz", type = "source",  :
>> >   installation of package ?d:/temp/HelloWorld_1.0.tar.gz? had non-zero exit status
>> 
>> I have tried this.
>> The package is installed without complaints in both R.app and an interactive R from the Terminal.
>> 
>> Installation only seems to fail with R CMD INSTALL.
> 
> Is it really installed, or are there just no error messages?  Marc was finding that library(HelloWorld) was failing, and he didn't understand why.


R GUI:
===============================
No messages. Installed.
library(HelloWorld) gives

> library(HelloWorld)
Error in library(HelloWorld) : 
  ?HelloWorld? is not a valid installed package


R CMD INSTALL:
===============================
gives an error message and does not install.  
library(HelloWorld) gives

> library(HelloWorld)
Error in library(HelloWorld) : there is no package called ?HelloWorld?

Berend
 

From simon.urbanek at r-project.org  Tue Apr  3 21:29:18 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 3 Apr 2012 15:29:18 -0400
Subject: [R-SIG-Mac] Fwd: Re: [R] Package seems to be present but
	library don't find it
In-Reply-To: <FC1586B5-E7FC-49E8-BFFA-54972A228692@xs4all.nl>
References: <4F7B2480.7070307@yahoo.fr> <4F7B2A6C.5040903@gmail.com>
	<CF47B8DA-7209-4FE6-AE17-8B4574906977@xs4all.nl>
	<4F7B4773.1060006@gmail.com>
	<FC1586B5-E7FC-49E8-BFFA-54972A228692@xs4all.nl>
Message-ID: <D68770CE-5496-48E4-B94E-D1034CD6CC13@r-project.org>


On Apr 3, 2012, at 3:09 PM, Berend Hasselman wrote:

> 
> On 03-04-2012, at 20:54, Duncan Murdoch wrote:
> 
>> On 03/04/2012 1:04 PM, Berend Hasselman wrote:
>>> On 03-04-2012, at 18:50, Duncan Murdoch wrote:
>>> 
>>>> This is a message from R-help about installing a package in OSX.  The NAMESPACE file contains an error, but the user didn't see the error message when he installed from the Mac GUI.  Is R.app missing one of the output streams?  I see the following in the Windows Rgui:
>>>> 
>>>>> install.packages("d:/temp/HelloWorld_1.0.tar.gz", type="source", repos=NULL)
>>>> * installing *source* package 'HelloWorld' ...
>>>> ** R
>>>> ** preparing package for lazy loading
>>>> ** help
>>>> Warning: C:/Users/murdoch/AppData/Local/Temp/Rtmpm6LVhP/R.INSTALLc4762d6689/HelloWorld/man/HelloWorld-package.Rd:32: All text must be in a section
>>>> Warning: C:/Users/murdoch/AppData/Local/Temp/Rtmpm6LVhP/R.INSTALLc4762d6689/HelloWorld/man/HelloWorld-package.Rd:33: All text must be in a section
>>>> *** installing help indices
>>>> ** building package indices
>>>> ** testing if installed package can be loaded
>>>> Error in namespaceExport(ns, exports) : undefined exports: HelloWorld
>>>> Error: loading failed
>>>> Execution halted
>>>> ERROR: loading failed
>>>> * removing 'F:/R/svn/R-2-15-branch/library/HelloWorld'
>>>> Warning messages:
>>>> 1: running command 'F:/R/svn/R-2-15-branch/bin/i386/R CMD INSTALL -l "F:/R/svn/R-2-15-branch/library"   "d:/temp/HelloWorld_1.0.tar.gz"' had status 1
>>>> 2: In install.packages("d:/temp/HelloWorld_1.0.tar.gz", type = "source",  :
>>>>  installation of package ?d:/temp/HelloWorld_1.0.tar.gz? had non-zero exit status
>>> 
>>> I have tried this.
>>> The package is installed without complaints in both R.app and an interactive R from the Terminal.
>>> 
>>> Installation only seems to fail with R CMD INSTALL.
>> 
>> Is it really installed, or are there just no error messages?  Marc was finding that library(HelloWorld) was failing, and he didn't understand why.
> 
> 
> R GUI:
> ===============================
> No messages. Installed.
> library(HelloWorld) gives
> 
>> library(HelloWorld)
> Error in library(HelloWorld) : 
>  ?HelloWorld? is not a valid installed package
> 
> 
> R CMD INSTALL:
> ===============================
> gives an error message and does not install.  
> library(HelloWorld) gives
> 
>> library(HelloWorld)
> Error in library(HelloWorld) : there is no package called ?HelloWorld?
> 

Ah, now I got it -- this is a very nice user error, the GUI is entirely innocent here -- note that the default in install.packages() is *binary* installation and .tar.gz is the format of both source and binary packages on OS X, so R will happily treat the downloaded source package as binary so you don't get any output, because the package is simply unpacked and not compiled. However, that is not a valid package so you can't load it.

What the user intended was

> install.packages("HelloWorld_1.0.tar.gz", repos = NULL, type='source')
* installing *source* package ?HelloWorld? ...
** R
** preparing package for lazy loading
** help
Warning: /private/var/folders/Sq/SqwOn3XRE7WB0ZmJXYRnfE+++TI/-Tmp-/RtmpxI4NuG/R.INSTALL144c53d879430/HelloWorld/man/HelloWorld-package.Rd:32: All text must be in a section
Warning: /private/var/folders/Sq/SqwOn3XRE7WB0ZmJXYRnfE+++TI/-Tmp-/RtmpxI4NuG/R.INSTALL144c53d879430/HelloWorld/man/HelloWorld-package.Rd:33: All text must be in a section
*** installing help indices
** building package indices ...
** testing if installed package can be loaded
Error in namespaceExport(ns, exports) : undefined exports: HelloWorld
Error: loading failed
Execution halted
ERROR: loading failed
* removing ?/Library/Frameworks/R.framework/Versions/2.14/Resources/library/HelloWorld?
* restoring previous ?/Library/Frameworks/R.framework/Versions/2.14/Resources/library/HelloWorld?
Warning message:
In install.packages("HelloWorld_1.0.tar.gz", repos = NULL, type = "source") :
  installation of package ?HelloWorld_1.0.tar.gz? had non-zero exit status


which fails as it should ...

So the only thing here is that binary install should perhaps check the content and refuse to install source package as binary or something like that ... there is not such problem in Windows, because there the binaries use different format altogether (zip vs tgz).

Cheers,
Simon


From murdoch.duncan at gmail.com  Wed Apr  4 14:07:51 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Wed, 4 Apr 2012 08:07:51 -0400
Subject: [R-SIG-Mac] Fwd: Re: [R] Package seems to be present but
 library don't find it
In-Reply-To: <D68770CE-5496-48E4-B94E-D1034CD6CC13@r-project.org>
References: <4F7B2480.7070307@yahoo.fr> <4F7B2A6C.5040903@gmail.com>
	<CF47B8DA-7209-4FE6-AE17-8B4574906977@xs4all.nl>
	<4F7B4773.1060006@gmail.com>
	<FC1586B5-E7FC-49E8-BFFA-54972A228692@xs4all.nl>
	<D68770CE-5496-48E4-B94E-D1034CD6CC13@r-project.org>
Message-ID: <4F7C3997.6080705@gmail.com>

On 12-04-03 3:29 PM, Simon Urbanek wrote:
>
> On Apr 3, 2012, at 3:09 PM, Berend Hasselman wrote:
>
>>
>> On 03-04-2012, at 20:54, Duncan Murdoch wrote:
>>
>>> On 03/04/2012 1:04 PM, Berend Hasselman wrote:
>>>> On 03-04-2012, at 18:50, Duncan Murdoch wrote:
>>>>
>>>>> This is a message from R-help about installing a package in OSX.  The NAMESPACE file contains an error, but the user didn't see the error message when he installed from the Mac GUI.  Is R.app missing one of the output streams?  I see the following in the Windows Rgui:
>>>>>
>>>>>> install.packages("d:/temp/HelloWorld_1.0.tar.gz", type="source", repos=NULL)
>>>>> * installing *source* package 'HelloWorld' ...
>>>>> ** R
>>>>> ** preparing package for lazy loading
>>>>> ** help
>>>>> Warning: C:/Users/murdoch/AppData/Local/Temp/Rtmpm6LVhP/R.INSTALLc4762d6689/HelloWorld/man/HelloWorld-package.Rd:32: All text must be in a section
>>>>> Warning: C:/Users/murdoch/AppData/Local/Temp/Rtmpm6LVhP/R.INSTALLc4762d6689/HelloWorld/man/HelloWorld-package.Rd:33: All text must be in a section
>>>>> *** installing help indices
>>>>> ** building package indices
>>>>> ** testing if installed package can be loaded
>>>>> Error in namespaceExport(ns, exports) : undefined exports: HelloWorld
>>>>> Error: loading failed
>>>>> Execution halted
>>>>> ERROR: loading failed
>>>>> * removing 'F:/R/svn/R-2-15-branch/library/HelloWorld'
>>>>> Warning messages:
>>>>> 1: running command 'F:/R/svn/R-2-15-branch/bin/i386/R CMD INSTALL -l "F:/R/svn/R-2-15-branch/library"   "d:/temp/HelloWorld_1.0.tar.gz"' had status 1
>>>>> 2: In install.packages("d:/temp/HelloWorld_1.0.tar.gz", type = "source",  :
>>>>>   installation of package ?d:/temp/HelloWorld_1.0.tar.gz? had non-zero exit status
>>>>
>>>> I have tried this.
>>>> The package is installed without complaints in both R.app and an interactive R from the Terminal.
>>>>
>>>> Installation only seems to fail with R CMD INSTALL.
>>>
>>> Is it really installed, or are there just no error messages?  Marc was finding that library(HelloWorld) was failing, and he didn't understand why.
>>
>>
>> R GUI:
>> ===============================
>> No messages. Installed.
>> library(HelloWorld) gives
>>
>>> library(HelloWorld)
>> Error in library(HelloWorld) :
>>   ?HelloWorld? is not a valid installed package
>>
>>
>> R CMD INSTALL:
>> ===============================
>> gives an error message and does not install.
>> library(HelloWorld) gives
>>
>>> library(HelloWorld)
>> Error in library(HelloWorld) : there is no package called ?HelloWorld?
>>
>
> Ah, now I got it -- this is a very nice user error, the GUI is entirely innocent here -- note that the default in install.packages() is *binary* installation and .tar.gz is the format of both source and binary packages on OS X, so R will happily treat the downloaded source package as binary so you don't get any output, because the package is simply unpacked and not compiled. However, that is not a valid package so you can't load it.
>
> What the user intended was
>
>> install.packages("HelloWorld_1.0.tar.gz", repos = NULL, type='source')
> * installing *source* package ?HelloWorld? ...
> ** R
> ** preparing package for lazy loading
> ** help
> Warning: /private/var/folders/Sq/SqwOn3XRE7WB0ZmJXYRnfE+++TI/-Tmp-/RtmpxI4NuG/R.INSTALL144c53d879430/HelloWorld/man/HelloWorld-package.Rd:32: All text must be in a section
> Warning: /private/var/folders/Sq/SqwOn3XRE7WB0ZmJXYRnfE+++TI/-Tmp-/RtmpxI4NuG/R.INSTALL144c53d879430/HelloWorld/man/HelloWorld-package.Rd:33: All text must be in a section
> *** installing help indices
> ** building package indices ...
> ** testing if installed package can be loaded
> Error in namespaceExport(ns, exports) : undefined exports: HelloWorld
> Error: loading failed
> Execution halted
> ERROR: loading failed
> * removing ?/Library/Frameworks/R.framework/Versions/2.14/Resources/library/HelloWorld?
> * restoring previous ?/Library/Frameworks/R.framework/Versions/2.14/Resources/library/HelloWorld?
> Warning message:
> In install.packages("HelloWorld_1.0.tar.gz", repos = NULL, type = "source") :
>    installation of package ?HelloWorld_1.0.tar.gz? had non-zero exit status
>
>
> which fails as it should ...
>
> So the only thing here is that binary install should perhaps check the content and refuse to install source package as binary or something like that ... there is not such problem in Windows, because there the binaries use different format altogether (zip vs tgz).
>

Okay, that makes sense now.

One other possible change: install.packages() currently guesses 
"repos=NULL" based on the look of the package name:  e.g. if 
type=="mac.binary" and the name matches "\\.tgz$", repos is set to NULL. 
  Perhaps the type could also be guessed from the name if unspecified, 
and at least a message could be given if it doesn't match the default.

Duncan Murdoch


From ripley at stats.ox.ac.uk  Wed Apr  4 15:58:59 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 4 Apr 2012 14:58:59 +0100
Subject: [R-SIG-Mac] Fwd: Re: [R] Package seems to be present but
 library don't find it
In-Reply-To: <4F7C3997.6080705@gmail.com>
References: <4F7B2480.7070307@yahoo.fr> <4F7B2A6C.5040903@gmail.com>
	<CF47B8DA-7209-4FE6-AE17-8B4574906977@xs4all.nl>
	<4F7B4773.1060006@gmail.com>
	<FC1586B5-E7FC-49E8-BFFA-54972A228692@xs4all.nl>
	<D68770CE-5496-48E4-B94E-D1034CD6CC13@r-project.org>
	<4F7C3997.6080705@gmail.com>
Message-ID: <alpine.LFD.2.02.1204041456080.29378@gannet.stats.ox.ac.uk>

On Wed, 4 Apr 2012, Duncan Murdoch wrote:

> On 12-04-03 3:29 PM, Simon Urbanek wrote:
>> 
>> On Apr 3, 2012, at 3:09 PM, Berend Hasselman wrote:
>> 
>>> 
>>> On 03-04-2012, at 20:54, Duncan Murdoch wrote:
>>> 
>>>> On 03/04/2012 1:04 PM, Berend Hasselman wrote:
>>>>> On 03-04-2012, at 18:50, Duncan Murdoch wrote:
>>>>> 
>>>>>> This is a message from R-help about installing a package in OSX.  The 
>>>>>> NAMESPACE file contains an error, but the user didn't see the error 
>>>>>> message when he installed from the Mac GUI.  Is R.app missing one of 
>>>>>> the output streams?  I see the following in the Windows Rgui:
>>>>>> 
>>>>>>> install.packages("d:/temp/HelloWorld_1.0.tar.gz", type="source", 
>>>>>>> repos=NULL)
>>>>>> * installing *source* package 'HelloWorld' ...
>>>>>> ** R
>>>>>> ** preparing package for lazy loading
>>>>>> ** help
>>>>>> Warning: 
>>>>>> C:/Users/murdoch/AppData/Local/Temp/Rtmpm6LVhP/R.INSTALLc4762d6689/HelloWorld/man/HelloWorld-package.Rd:32: 
>>>>>> All text must be in a section
>>>>>> Warning: 
>>>>>> C:/Users/murdoch/AppData/Local/Temp/Rtmpm6LVhP/R.INSTALLc4762d6689/HelloWorld/man/HelloWorld-package.Rd:33: 
>>>>>> All text must be in a section
>>>>>> *** installing help indices
>>>>>> ** building package indices
>>>>>> ** testing if installed package can be loaded
>>>>>> Error in namespaceExport(ns, exports) : undefined exports: HelloWorld
>>>>>> Error: loading failed
>>>>>> Execution halted
>>>>>> ERROR: loading failed
>>>>>> * removing 'F:/R/svn/R-2-15-branch/library/HelloWorld'
>>>>>> Warning messages:
>>>>>> 1: running command 'F:/R/svn/R-2-15-branch/bin/i386/R CMD INSTALL -l 
>>>>>> "F:/R/svn/R-2-15-branch/library"   "d:/temp/HelloWorld_1.0.tar.gz"' had 
>>>>>> status 1
>>>>>> 2: In install.packages("d:/temp/HelloWorld_1.0.tar.gz", type = 
>>>>>> "source",  :
>>>>>>   installation of package ?d:/temp/HelloWorld_1.0.tar.gz? had non-zero 
>>>>>> exit status
>>>>> 
>>>>> I have tried this.
>>>>> The package is installed without complaints in both R.app and an 
>>>>> interactive R from the Terminal.
>>>>> 
>>>>> Installation only seems to fail with R CMD INSTALL.
>>>> 
>>>> Is it really installed, or are there just no error messages?  Marc was 
>>>> finding that library(HelloWorld) was failing, and he didn't understand 
>>>> why.
>>> 
>>> 
>>> R GUI:
>>> ===============================
>>> No messages. Installed.
>>> library(HelloWorld) gives
>>> 
>>>> library(HelloWorld)
>>> Error in library(HelloWorld) :
>>>   ?HelloWorld? is not a valid installed package
>>> 
>>> 
>>> R CMD INSTALL:
>>> ===============================
>>> gives an error message and does not install.
>>> library(HelloWorld) gives
>>> 
>>>> library(HelloWorld)
>>> Error in library(HelloWorld) : there is no package called ?HelloWorld?
>>> 
>> 
>> Ah, now I got it -- this is a very nice user error, the GUI is entirely 
>> innocent here -- note that the default in install.packages() is *binary* 
>> installation and .tar.gz is the format of both source and binary packages 
>> on OS X, so R will happily treat the downloaded source package as binary so 
>> you don't get any output, because the package is simply unpacked and not 
>> compiled. However, that is not a valid package so you can't load it.
>> 
>> What the user intended was
>> 
>>> install.packages("HelloWorld_1.0.tar.gz", repos = NULL, type='source')
>> * installing *source* package ?HelloWorld? ...
>> ** R
>> ** preparing package for lazy loading
>> ** help
>> Warning: 
>> /private/var/folders/Sq/SqwOn3XRE7WB0ZmJXYRnfE+++TI/-Tmp-/RtmpxI4NuG/R.INSTALL144c53d879430/HelloWorld/man/HelloWorld-package.Rd:32: 
>> All text must be in a section
>> Warning: 
>> /private/var/folders/Sq/SqwOn3XRE7WB0ZmJXYRnfE+++TI/-Tmp-/RtmpxI4NuG/R.INSTALL144c53d879430/HelloWorld/man/HelloWorld-package.Rd:33: 
>> All text must be in a section
>> *** installing help indices
>> ** building package indices ...
>> ** testing if installed package can be loaded
>> Error in namespaceExport(ns, exports) : undefined exports: HelloWorld
>> Error: loading failed
>> Execution halted
>> ERROR: loading failed
>> * removing 
>> ?/Library/Frameworks/R.framework/Versions/2.14/Resources/library/HelloWorld?
>> * restoring previous 
>> ?/Library/Frameworks/R.framework/Versions/2.14/Resources/library/HelloWorld?
>> Warning message:
>> In install.packages("HelloWorld_1.0.tar.gz", repos = NULL, type = "source") 
>> :
>>    installation of package ?HelloWorld_1.0.tar.gz? had non-zero exit status
>> 
>> 
>> which fails as it should ...
>> 
>> So the only thing here is that binary install should perhaps check the 
>> content and refuse to install source package as binary or something like 
>> that ... there is not such problem in Windows, because there the binaries 
>> use different format altogether (zip vs tgz).
>> 
>
> Okay, that makes sense now.
>
> One other possible change: install.packages() currently guesses "repos=NULL" 
> based on the look of the package name:  e.g. if type=="mac.binary" and the 
> name matches "\\.tgz$", repos is set to NULL.  Perhaps the type could also be 
> guessed from the name if unspecified, and at least a message could be given 
> if it doesn't match the default.

Something along those lines is in progress, for type="both" which is 
intended to eventually become the default on Windows and Mac.  But we 
need more server-side support in place first.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From mark.grimes at mso.umt.edu  Fri Apr  6 01:06:18 2012
From: mark.grimes at mso.umt.edu (Grimes Mark)
Date: Thu, 5 Apr 2012 17:06:18 -0600
Subject: [R-SIG-Mac] [R] rgl package broke with R 2.14.2
In-Reply-To: <7A22342E-AC2A-4DC2-B574-889B22AEDC2F@comcast.net>
References: <7F2CB39E-BC36-4D97-B64B-C45E7EB1104F@mso.umt.edu>
	<4F731CE5.6060604@gmail.com>
	<7A22342E-AC2A-4DC2-B574-889B22AEDC2F@comcast.net>
Message-ID: <0109DDDE-8D25-421F-BE25-003298E16DA3@mso.umt.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120405/518206d2/attachment.pl>

From highbwcoder at yahoo.com  Fri Apr  6 17:19:57 2012
From: highbwcoder at yahoo.com (Bw Coder)
Date: Fri, 6 Apr 2012 08:19:57 -0700 (PDT)
Subject: [R-SIG-Mac] X11 hangs while plotting from R
Message-ID: <1333725597.85984.YahooMailNeo@web140602.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120406/0028af5a/attachment.pl>

From m.denwood at vet.gla.ac.uk  Sat Apr  7 00:54:25 2012
From: m.denwood at vet.gla.ac.uk (Matthew Denwood)
Date: Fri, 6 Apr 2012 23:54:25 +0100
Subject: [R-SIG-Mac] Strange issue with STOP button
Message-ID: <59A8C548-E1E7-479C-BAFD-C230D963100B@vet.gla.ac.uk>

Hi all

I have come across a slightly strange issue with using the STOP button to suspend R computation in the Mac GUI (R 2.15.0 GUI 1.51 Leopard build 64-bit (6148) - although thinking back I'm fairly sure I have had the same issues with much earlier versions of R).  Basically, after a call to system() the STOP button is greyed out and not active until execution returns to the top level, even though further R computation is occurring after the system call.  For instance when running the following code:

f <- function(){
	
	system2("ls", stdout=FALSE, stderr=FALSE, wait=TRUE)
	
	i <- 1
	repeat{
		cat(i,sep="\n")
		flush.console()
		Sys.sleep(1)
		i <- i+1
	}

}

f()

... it is not possible to use the STOP button to escape the endless repeat because (for me at least) it is greyed out as if there is no active computation happening, although the ESC key does work as expected.  I have tried changing arguments to system and enclosing the system call in another function and tryCatch statement, but get the same result.  However, if you move the system2 call to the bottom of the function then STOP breaks the function during the endless loop as expected, and running the code from inside the function also works fine (I assume because control is returned to the top level of R between the system2 call finishing and the repeat loop starting).

Anybody got any ideas of what's going on, or is this just a weird bug?  Admittedly it isn't a critical issue as ESC appears to be unaffected, but it doesn't seem like expected behaviour to me!

Cheers,

Matt

From charles.sharpsteen at gmail.com  Sat Apr  7 18:34:56 2012
From: charles.sharpsteen at gmail.com (Charlie Sharpsteen)
Date: Sat, 7 Apr 2012 09:34:56 -0700
Subject: [R-SIG-Mac] GCC on Lion and above
In-Reply-To: <217FC504-42CA-46BB-88FB-257C938A7C95@ed.ac.uk>
References: <217FC504-42CA-46BB-88FB-257C938A7C95@ed.ac.uk>
Message-ID: <2621889.5.1333816496134.JavaMail.geo-discussion-forums@pbcvh9>



On Monday, April 2, 2012 8:30:46 AM UTC-7, Timothy Bates wrote:
>
> Hi All,
>
> HPC seem to be maintaining the gcc toolchain up to date (they have GCC 4.7 
> compiled with autovectoring using OpenMP?)
>
> http://hpc.sourceforge.net
>
> BUT the page  http://r.research.att.com/tools/  says "do not use 
> compilers from HPC, they won't work correctly!? Is that the case?
>
> Also, I wondered if http://www.macports.org might be the way to go to get 
> a version of gcc with a non-crashing OpenMP library?
>
> best wishes and thanks for your help
>
> tim
>
> PS: The att.com page talks about install disks for OS X, but I think it?s 
> all via the app store now, including X Code.
>

As far as I am aware, the problem with HPC binaries or MacPorts builds is 
that they cannot compile universal binaries. In order to do this, you need 
to build GFortran from Apple's patched sources for GCC 4.2.x or use Simon's 
binaries from r.research.att.com.

If you don't care about a multi-architecture version of R, then the HPC and 
MacPorts builds will probably work just fine---you may need to set R_ARCHS 
or build a single-architecture version yourself so that R does not try to 
build universal binaries when compiling packages from source.

-Charlie
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120407/819f2424/attachment.html>

From simon.urbanek at r-project.org  Sat Apr  7 19:05:26 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 7 Apr 2012 13:05:26 -0400
Subject: [R-SIG-Mac] GCC on Lion and above
In-Reply-To: <2621889.5.1333816496134.JavaMail.geo-discussion-forums@pbcvh9>
References: <217FC504-42CA-46BB-88FB-257C938A7C95@ed.ac.uk>
	<2621889.5.1333816496134.JavaMail.geo-discussion-forums@pbcvh9>
Message-ID: <E0A27007-5474-4F05-8528-BC28855E5939@r-project.org>

Charlie,

On Apr 7, 2012, at 12:34 PM, Charlie Sharpsteen wrote:

> 
> 
> On Monday, April 2, 2012 8:30:46 AM UTC-7, Timothy Bates wrote:
> Hi All,
> HPC seem to be maintaining the gcc toolchain up to date (they have GCC 4.7 compiled with autovectoring using OpenMP?)
> 
> http://hpc.sourceforge.net
> 
> BUT the page  http://r.research.att.com/tools/  says "do not use compilers from HPC, they won't work correctly!? Is that the case?
> 
> Also, I wondered if http://www.macports.org might be the way to go to get a version of gcc with a non-crashing OpenMP library?
> 
> best wishes and thanks for your help
> 
> tim
> 
> PS: The att.com page talks about install disks for OS X, but I think it?s all via the app store now, including X Code.
> 
> 
> As far as I am aware, the problem with HPC binaries or MacPorts builds is that they cannot compile universal binaries. In order to do this, you need to build GFortran from Apple's patched sources for GCC 4.2.x or use Simon's binaries from r.research.att.com.
> 
> If you don't care about a multi-architecture version of R, then the HPC and MacPorts builds will probably work just fine---you may need to set R_ARCHS or build a single-architecture version yourself so that R does not try to build universal binaries when compiling packages from source.
> 

You seem to be implying that you would use CRAN binary and then another compiler - that's not what we talked about and it has even more issues, because you will have potential problem with run-time libraries, ABIs etc. They differ by compiler version and R can load only one, so typically it will load the older, system library which may cause problem in the code that is compiled with the other compiler. If you want to use a different compiler, you should really compile R from sources, otherwise there is no guarantee that anything will work. It may or may not and the issues may be subtle, so beware. The discussion about compilers was really implying that you compile everything (including R) from sources, because otherwise it makes no sense as you will still have the same issues with GOMP etc.

Cheers,
Simon


From epimetheus at free.fr  Sun Apr  8 17:38:50 2012
From: epimetheus at free.fr (Epi Metheus)
Date: Sun, 08 Apr 2012 17:38:50 +0200
Subject: [R-SIG-Mac] there is a trouble after updating to Xcode 4.3.2
Message-ID: <4F81B10A.2050407@free.fr>

Hello the R MacOSX community,

When installing libamtrack by compiling source, there is an error :

* installing *source* package ?libamtrack? ...
** package ?libamtrack? correctement d?compress? et sommes MD5 v?rifi?es
checking for gsl-config... no
configure: error: gsl-config not found, is GSL installed?
ERROR: configuration failed for package ?libamtrack?
* removing
?/Library/Frameworks/R.framework/Versions/2.15/Resources/library/libamtrack?

This might be connected to the fact that the last Xcode is now installed
in the /Applications directory and has removed the /Developper directory
Thank you for any help !


From bhh at xs4all.nl  Sun Apr  8 18:34:23 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Sun, 8 Apr 2012 18:34:23 +0200
Subject: [R-SIG-Mac] R.app Data Editor
In-Reply-To: <507437F1-0336-4B8F-8F59-22DC8BA3B62E@gmx.net>
References: <507437F1-0336-4B8F-8F59-22DC8BA3B62E@gmx.net>
Message-ID: <A4FE44FE-41BE-4D6D-8E0E-40B333183710@xs4all.nl>


On 08-04-2012, at 17:59, Holger Schulz wrote:

> On the screenshot
> 
> 	http://www.r-project.org/screenshots/RAqua-scrshot1.jpg
> 
> a window with the R Data Editor is shown.
> 
> How can that be invoked within the R.app?


?edit

edit(<dataname>)

Berend


From dwinsemius at comcast.net  Sun Apr  8 18:34:47 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Sun, 8 Apr 2012 12:34:47 -0400
Subject: [R-SIG-Mac] R.app Data Editor
In-Reply-To: <507437F1-0336-4B8F-8F59-22DC8BA3B62E@gmx.net>
References: <507437F1-0336-4B8F-8F59-22DC8BA3B62E@gmx.net>
Message-ID: <5425DA9C-5456-49C0-A72C-62FD331C7E86@comcast.net>


On Apr 8, 2012, at 11:59 AM, Holger Schulz wrote:

> On the screenshot
>
> 	http://www.r-project.org/screenshots/RAqua-scrshot1.jpg
>
> a window with the R Data Editor is shown.
>
> How can that be invoked within the R.app?

obj <- data.frame(a=1:10, b=letters[1:10])
edit(obj)

Notice that on exiting the Data Editor you will see the edited results  
but as with any local operation in R that unless you invoked it as:

new <- edit(obj)

  Or recovered that effort using access to .Last.value that all your  
changes would be lost.
>

-- 

David Winsemius, MD
West Hartford, CT


From simon.urbanek at r-project.org  Sun Apr  8 20:39:53 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 8 Apr 2012 14:39:53 -0400
Subject: [R-SIG-Mac] R.app Data Editor
In-Reply-To: <A462DD07-2678-4433-A27D-3C124B8EFB58@gmx.net>
References: <507437F1-0336-4B8F-8F59-22DC8BA3B62E@gmx.net>
	<5425DA9C-5456-49C0-A72C-62FD331C7E86@comcast.net>
	<A462DD07-2678-4433-A27D-3C124B8EFB58@gmx.net>
Message-ID: <54A2053A-1DEE-4A70-803F-082F0B87F4D4@r-project.org>


On Apr 8, 2012, at 2:07 PM, Holger Schulz wrote:

> Thanks for all the answers.
> 
> Am 2012-04-08 um 18:34 schrieb David Winsemius:
> 
>> obj <- data.frame(a=1:10, b=letters[1:10])
>> edit(obj)
> 
> Okay. I thought R.app would be something like a GUI. 
> 

If you want it the GUI way, use Workspace -> Workspace Browser, select an object and click on Edit 

Cheers,
S



>> Notice that on exiting the Data Editor you will see the edited results but as with any local operation in R that unless you invoked it as:
>> 
>> new <- edit(obj)
> 
> I'm afraid, I didn't understand that. What actually have I to do to make the changes become effective?
> 
> Does
> 
> 	tab <- edit(tab)
> 
> work?
> 
> 
>> 
>> Or recovered that effort using access to .Last.value that all your changes would be lost.
>>> 
>> 
>> -- 
>> 
>> David Winsemius, MD
>> West Hartford, CT
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From bibiko at eva.mpg.de  Sun Apr  8 21:10:10 2012
From: bibiko at eva.mpg.de (=?iso-8859-1?Q?Hans-J=F6rg_Bibiko?=)
Date: Sun, 8 Apr 2012 21:10:10 +0200
Subject: [R-SIG-Mac] R.app Data Editor
In-Reply-To: <BFAD7AD0-0A6C-4E99-9D17-1733345BC3F0@gmx.net>
References: <507437F1-0336-4B8F-8F59-22DC8BA3B62E@gmx.net>
	<5425DA9C-5456-49C0-A72C-62FD331C7E86@comcast.net>
	<A462DD07-2678-4433-A27D-3C124B8EFB58@gmx.net>
	<54A2053A-1DEE-4A70-803F-082F0B87F4D4@r-project.org>
	<BFAD7AD0-0A6C-4E99-9D17-1733345BC3F0@gmx.net>
Message-ID: <08C6348C-20DC-4E9C-AC84-315DC3B3C46F@eva.mpg.de>


On Apr 8, 2012, at 8:47 PM, Holger Schulz wrote:

> Thanks.
> 
> Am 2012-04-08 um 20:39 schrieb Simon Urbanek:
> 
>> If you want it the GUI way, use Workspace -> Workspace Browser, select an object and click on Edit 
> 
> R.app runs in German on my system. I hope "Arbeitsplatz Betrachter" is the Workspace Browser. But there's no edit button. Choosing "Bearbeiten" -> "Objekt Bearbeiten" invokes the editor but not the Data Editor.

Hi,

if you opened the Workspace Browser, select the variable or object and press either the magnifier icon in the Workspace Browser's toolbar or press SHIFT+CMD+E.

There's a short-cut, if you in the R Console, place the cursor to (or select the) name of the object or variable and press SHIFT+CMD+E (Objekt bearbeiten).

Cheers,
--Hans

From ruth at stats.ox.ac.uk  Sun Apr  8 21:15:14 2012
From: ruth at stats.ox.ac.uk (Ruth Ripley)
Date: Sun, 08 Apr 2012 20:15:14 +0100
Subject: [R-SIG-Mac] R manuals in pdf
In-Reply-To: <mailman.15.1333879206.24920.r-sig-mac@r-project.org>
References: <mailman.15.1333879206.24920.r-sig-mac@r-project.org>
Message-ID: <4F81E3C2.5010705@stats.ox.ac.uk>

Dear Simon,

The pdf manuals were there in the final 2.14.x distribution, were they 
not? But they are not in 2.15.0, as far as I can see.

I miss them.

It would be wonderful if they were in a stable address too, so Adobe 
reader would find them after an update.

Thanks,

Ruth


From bibiko at eva.mpg.de  Sun Apr  8 21:20:35 2012
From: bibiko at eva.mpg.de (=?iso-8859-1?Q?Hans-J=F6rg_Bibiko?=)
Date: Sun, 8 Apr 2012 21:20:35 +0200
Subject: [R-SIG-Mac] Graphic export
In-Reply-To: <AE475B7F-B326-4762-BA2D-478A4931A14F@gmx.net>
References: <AE475B7F-B326-4762-BA2D-478A4931A14F@gmx.net>
Message-ID: <D2B8EE7E-4DE9-4F87-B562-057AADD8B2E1@eva.mpg.de>


On Apr 8, 2012, at 9:18 PM, Holger Schulz wrote:

> I tried to export a plot to a PDF file with pdf(). The resulting PDF file could not be opened. Preview reports the file may be damaged. Couldn't open it with Skim, either.
> 
> Is there any trick?

Did you close by executing "dev.off()" the file created by pdf()?

--Hans

From byron.ellis at gmail.com  Sun Apr  8 21:40:38 2012
From: byron.ellis at gmail.com (Byron Ellis)
Date: Sun, 8 Apr 2012 12:40:38 -0700
Subject: [R-SIG-Mac] Graphic export
In-Reply-To: <704135FC-9111-418B-B82C-43A47FEED89A@gmx.net>
References: <AE475B7F-B326-4762-BA2D-478A4931A14F@gmx.net>
	<D2B8EE7E-4DE9-4F87-B562-057AADD8B2E1@eva.mpg.de>
	<704135FC-9111-418B-B82C-43A47FEED89A@gmx.net>
Message-ID: <7778F683-C156-456B-B35E-8C1CC927C937@gmail.com>

Yes, dev.copy will take one device output and move it to another. Use that to copy a quartz device to a PDF device. Don't forget to dev.close the PDF device to ensure it is written to disk. 



On Apr 8, 2012, at 12:30 PM, Holger Schulz <qdl at gmx.net> wrote:

> 
> Am 2012-04-08 um 21:20 schrieb Hans-J?rg Bibiko:
> 
>> Did you close by executing "dev.off()" the file created by pdf()?
> 
> Nope. It seems I haven't understood the concept before. Is there an easy way of just exporting an already produced graphic?
> 
> Thanks.
> 
> hs
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From michael.weylandt at gmail.com  Mon Apr  9 00:02:40 2012
From: michael.weylandt at gmail.com (R. Michael Weylandt)
Date: Sun, 8 Apr 2012 18:02:40 -0400
Subject: [R-SIG-Mac] Accessing matrix elements
In-Reply-To: <ABA98184-9951-4D26-A927-3C333262B465@gmx.net>
References: <ABA98184-9951-4D26-A927-3C333262B465@gmx.net>
Message-ID: <CAAmySGPvmZWtgih5V38eTy-2+7OHKX-X4FuNrUrjUURPxwyh4g@mail.gmail.com>

This really isn't a question for the R-SIG-Mac list, since it's not OS
specific; you might send this to R-Help.

That's not a matrix -- just how the print statement works. E.g., if I
print a long vector (1:1000) you'll see those little [1] boxes showing
up on each line to indicate position. Note the result of
is.matrix(x[1,1])

Incidentally, keep in mind that *everything* including scalars and
matrices in R is a vector so "pure elements" are themselves vectors.

Hope this

On Sun, Apr 8, 2012 at 5:55 PM, Holger Schulz <qdl at gmx.net> wrote:
> Assuming I have a matrix x like
>
> ? ? ? ?x <- array(1:20, dim=c(4,5))
>
> and I try to access one of its elements like
>
> ? ? ? ?[1,1]
>
> result will be
>
> ? ? ? ?[1] 1
>
> which looks like a (singleton) matrix itself.
>
> Can the pure elements be accessed?
>
> Thanks.
>
> hs
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Mon Apr  9 03:38:04 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 8 Apr 2012 21:38:04 -0400
Subject: [R-SIG-Mac] Graphic export
In-Reply-To: <6C6D05AA-952C-4D2D-87C6-419A0D0CF8DF@gmx.net>
References: <AE475B7F-B326-4762-BA2D-478A4931A14F@gmx.net>
	<D2B8EE7E-4DE9-4F87-B562-057AADD8B2E1@eva.mpg.de>
	<704135FC-9111-418B-B82C-43A47FEED89A@gmx.net>
	<7778F683-C156-456B-B35E-8C1CC927C937@gmail.com>
	<6C6D05AA-952C-4D2D-87C6-419A0D0CF8DF@gmx.net>
Message-ID: <6F3F630F-FDE1-4436-875A-8E9A441BAF9E@r-project.org>


On Apr 8, 2012, at 3:57 PM, Holger Schulz wrote:

> Thanks. I was thinking of something easy.
> 

quartz.save() will simply save your current plot as-is (WYSIWIG) if you're in the GUI. You can also simply use "Save As.." from the Quartz window.

Cheers,
Simon


> hs
> 
> Am 2012-04-08 um 21:40 schrieb Byron Ellis:
> 
>> Yes, dev.copy will take one device output and move it to another. Use that to copy a quartz device to a PDF device. Don't forget to dev.close the PDF device to ensure it is written to disk. 
>> 
>> 
>> 
>> On Apr 8, 2012, at 12:30 PM, Holger Schulz <qdl at gmx.net> wrote:
>> 
>>> 
>>> Am 2012-04-08 um 21:20 schrieb Hans-J?rg Bibiko:
>>> 
>>>> Did you close by executing "dev.off()" the file created by pdf()?
>>> 
>>> Nope. It seems I haven't understood the concept before. Is there an easy way of just exporting an already produced graphic?
>>> 
>>> Thanks.
>>> 
>>> hs
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From simon.urbanek at r-project.org  Mon Apr  9 03:40:59 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 8 Apr 2012 21:40:59 -0400
Subject: [R-SIG-Mac] R manuals in pdf
In-Reply-To: <4F81E3C2.5010705@stats.ox.ac.uk>
References: <mailman.15.1333879206.24920.r-sig-mac@r-project.org>
	<4F81E3C2.5010705@stats.ox.ac.uk>
Message-ID: <213B07BD-6FB9-4353-ABBA-030EE2751BEA@r-project.org>

Ruth,

On Apr 8, 2012, at 3:15 PM, Ruth Ripley wrote:

> Dear Simon,
> 
> The pdf manuals were there in the final 2.14.x distribution, were they not? But they are not in 2.15.0, as far as I can see.
> 

I did not change anything in the build so I'll have to investigate what changed in R that caused this ... I shall have a look tomorrow.


> I miss them.
> 
> It would be wonderful if they were in a stable address too, so Adobe reader would find them after an update.
> 

The location is always stable under /Library/Frameworks/R.framework/Resources/doc regardless of the R version.

Best,
Simon


From ruth at stats.ox.ac.uk  Mon Apr  9 13:08:57 2012
From: ruth at stats.ox.ac.uk (Ruth Ripley)
Date: Mon, 09 Apr 2012 12:08:57 +0100
Subject: [R-SIG-Mac] R manuals in pdf
In-Reply-To: <213B07BD-6FB9-4353-ABBA-030EE2751BEA@r-project.org>
References: <mailman.15.1333879206.24920.r-sig-mac@r-project.org>
	<4F81E3C2.5010705@stats.ox.ac.uk>
	<213B07BD-6FB9-4353-ABBA-030EE2751BEA@r-project.org>
Message-ID: <4F82C349.9000101@stats.ox.ac.uk>


Simon,

On 09/04/2012 02:40, Simon Urbanek wrote:
> Ruth,
>
> On Apr 8, 2012, at 3:15 PM, Ruth Ripley wrote:
>
>> Dear Simon,
>>
>> The pdf manuals were there in the final 2.14.x distribution, were they not? But they are not in 2.15.0, as far as I can see.
>>
>
> I did not change anything in the build so I'll have to investigate what changed in R that caused this ... I shall have a look tomorrow.

Thank you.

>
>
>> I miss them.
>>
>> It would be wonderful if they were in a stable address too, so Adobe reader would find them after an update.
>>
>
> The location is always stable under /Library/Frameworks/R.framework/Resources/doc regardless of the R version.
>

I am not sure how I could have tested this without the manuals, so 
apologies for not trying it first.

Ruth

> Best,
> Simon
>

-- 
Ruth M. Ripley,                         Email:ruth at stats.ox.ac.uk
Dept. of Statistics,                    http://www.stats.ox.ac.uk/~ruth/
University of Oxford,                   Tel:   01865 282857
1 South Parks Road, Oxford OX1 3TG, UK  Fax:   01865 272595


From ohowow2007 at hotmail.com  Tue Apr 10 08:50:53 2012
From: ohowow2007 at hotmail.com (Tawee Laoitichote)
Date: Tue, 10 Apr 2012 13:50:53 +0700
Subject: [R-SIG-Mac] plot 2 graphs on the same x-y plane
Message-ID: <SNT126-W39CD97820D3F33477A10A8CD340@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120410/179a929c/attachment.pl>

From minhuangr at gmail.com  Tue Apr 10 12:07:52 2012
From: minhuangr at gmail.com (huang min)
Date: Tue, 10 Apr 2012 18:07:52 +0800
Subject: [R-SIG-Mac] GCC on Lion and above
In-Reply-To: <FB1E9756-C2CB-4244-9F7A-3D00CF6EF493@r-project.org>
References: <217FC504-42CA-46BB-88FB-257C938A7C95@ed.ac.uk>
	<FB1E9756-C2CB-4244-9F7A-3D00CF6EF493@r-project.org>
Message-ID: <CAFkZLnJatFH3antmsDkfr-3Ffuc9_GQ5UTsC1XFpin-D_3tmng@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120410/4de5ed66/attachment.pl>

From simon.urbanek at r-project.org  Tue Apr 10 15:47:01 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 10 Apr 2012 09:47:01 -0400
Subject: [R-SIG-Mac] GCC on Lion and above
In-Reply-To: <CAFkZLnJatFH3antmsDkfr-3Ffuc9_GQ5UTsC1XFpin-D_3tmng@mail.gmail.com>
References: <217FC504-42CA-46BB-88FB-257C938A7C95@ed.ac.uk>
	<FB1E9756-C2CB-4244-9F7A-3D00CF6EF493@r-project.org>
	<CAFkZLnJatFH3antmsDkfr-3Ffuc9_GQ5UTsC1XFpin-D_3tmng@mail.gmail.com>
Message-ID: <F4EFE00C-7626-4440-82DB-77447F7A1CEF@r-project.org>

Huang,

you're on the wrong mailing list, I'm not a julia developer nor do I endorse or support julia - please ask their mailing lists for support. 

Cheers,
Simon


On Apr 10, 2012, at 6:07 AM, huang min wrote:

> Dear Simon,
> 
> I want to try the julia language on MAC as Prof. Douglas Bates mentioned these days. I only installed your gfortran-4.2.3.dmg but did not install the gnu fortran from http://hpc.sourceforge.net or http://gcc.gnu.org/wiki/GFortranBinaries as julia language requires. When I try to run julia, I get the error message:
> 
> dlopen(/Users/huang/julia/lib/libamos.dylib, 2): Library not loaded: /usr/local/lib/libgfortran.3.dylib
>   Referenced from: /Users/huang/julia/lib/libamos.dylib
>   Reason: image not found
> 
> I checked my /usr/bin/local and there is only libgfortran.2.dylib (no libgfortran.3.dylib) there. Is this because the gfortran-4.2.3 a little old?
> 
> If I further install newer version of GNU Fortran, will the gfortran-4.2.3 still be kept? Will this affect my compilation of R? Thanks.
> 
> Huang
> 
> On Tue, Apr 3, 2012 at 2:06 AM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> Tim,
> 
> On Apr 2, 2012, at 11:30 AM, Timothy Bates wrote:
> 
> > Hi All,
> >
> > HPC seem to be maintaining the gcc toolchain up to date (they have GCC 4.7 compiled with autovectoring using OpenMP?)
> >
> > http://hpc.sourceforge.net
> >
> > BUT the page  http://r.research.att.com/tools/  says "do not use compilers from HPC, they won't work correctly!? Is that the case?
> >
> 
> Two reasons: a) they do not use Apple's drivers, so those are incompatible with most "regular" flags on Mac OS X (including most basic ones like -arch). b) last time I checked they were broken, i.e. the distribution did not even include libraries that the compiler linked against and it had OS version issues (i.e. it worked only on a very specific version which was not even what they were advertized for). I would hope that the latter point may have been rectified in the meantime, but I don't know. Gaurav never responded to my comments so I stopped worrying about that build. (There was a point c) where his compilers don't support ppc cross-compilation but that is less relevant now).
> 
> It is stil possible to build FSF gcc and Apple drivers - that's what we used a while ago when Apple's branch was broken.
> 
> But note that even the most recent compilers are not much better, OMP performance is unusable for R's purpose so last time I checked there were no noticeable gains after all the work, but more recent reports are welcome.
> 
> 
> > Also, I wondered if http://www.macports.org might be the way to go to get a version of gcc with a non-crashing OpenMP library?
> >
> 
> MacPorts are quite notorious for the quality of the binaries and conflicts they cause, so I would be wary about that. If you compile everything from scratch (R and libraries), then the HPC compilers may work - you just have to stick to FSF flags.
> 
> I am still weighting the options - the most reasonable way at the moment is clang because it is supported by Apple and under active development (personally, I have switched to clang because it's much better for development), but there is no OpenMP yet for clang, although it is (allegedly) brewing. But as I said, at least for R itself, the threading performance problem is deeper, so just updating the compiler or OMP doesn't seem to help (I didn't try MPC, though).
> 
> 
> > PS: The att.com page talks about install disks for OS X, but I think it?s all via the app store now, including X Code.
> 
> Yes, it varies by Xcode version and your OS X version. App store is the last resort, I prefer ADC which has always worked and still works. I think the FAQ is up to date.
> 
> Cheers,
> Simon
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From dwinsemius at comcast.net  Tue Apr 10 15:48:15 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 10 Apr 2012 09:48:15 -0400
Subject: [R-SIG-Mac] plot 2 graphs on the same x-y plane
In-Reply-To: <SNT126-W39CD97820D3F33477A10A8CD340@phx.gbl>
References: <SNT126-W39CD97820D3F33477A10A8CD340@phx.gbl>
Message-ID: <D073C57C-CA21-4AA2-8647-D06A7F4C236E@comcast.net>


On Apr 10, 2012, at 2:50 AM, Tawee Laoitichote wrote:
>
> hi, I'm doing some data on least square curve fitting. What I like  
> to have is to compare the scatter plot whilst having the fitting  
> curve on the same coordinates. Any suggestting command besides  
> plot(x,y). TaweeMac OSX 10.7.3 		 	   		
> 	[[alternative HTML version deleted]]

Plesse read the Posting Guide. This is the wrong mailing list for such  
a question (should be rhelp)  and you have offered no data or code.

-- 

David Winsemius, MD
West Hartford, CT


From minhuangr at gmail.com  Tue Apr 10 16:26:30 2012
From: minhuangr at gmail.com (huang min)
Date: Tue, 10 Apr 2012 22:26:30 +0800
Subject: [R-SIG-Mac] GCC on Lion and above
In-Reply-To: <F4EFE00C-7626-4440-82DB-77447F7A1CEF@r-project.org>
References: <217FC504-42CA-46BB-88FB-257C938A7C95@ed.ac.uk>
	<FB1E9756-C2CB-4244-9F7A-3D00CF6EF493@r-project.org>
	<CAFkZLnJatFH3antmsDkfr-3Ffuc9_GQ5UTsC1XFpin-D_3tmng@mail.gmail.com>
	<F4EFE00C-7626-4440-82DB-77447F7A1CEF@r-project.org>
Message-ID: <CAFkZLnLY7N2gjMqOSrYRsLdkqquYNa3090AP5_Hn7FGvkNJrOw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120410/fcbe54be/attachment.pl>

From simon.urbanek at r-project.org  Tue Apr 10 16:47:27 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 10 Apr 2012 10:47:27 -0400
Subject: [R-SIG-Mac] GCC on Lion and above
In-Reply-To: <CAFkZLnLY7N2gjMqOSrYRsLdkqquYNa3090AP5_Hn7FGvkNJrOw@mail.gmail.com>
References: <217FC504-42CA-46BB-88FB-257C938A7C95@ed.ac.uk>
	<FB1E9756-C2CB-4244-9F7A-3D00CF6EF493@r-project.org>
	<CAFkZLnJatFH3antmsDkfr-3Ffuc9_GQ5UTsC1XFpin-D_3tmng@mail.gmail.com>
	<F4EFE00C-7626-4440-82DB-77447F7A1CEF@r-project.org>
	<CAFkZLnLY7N2gjMqOSrYRsLdkqquYNa3090AP5_Hn7FGvkNJrOw@mail.gmail.com>
Message-ID: <0EB97859-2208-4451-9670-A44C12414F36@r-project.org>


On Apr 10, 2012, at 10:26 AM, huang min wrote:

> Dear Simon,
> 
> My question is whether I can install gfortran-4.2.3 and the newer GNU version at the same time such that I can compile R.
> 

Note that your issue is really with julia's missing runtime, that's not really about the compilers per se. 

So if your question is "can I have two different gfortran compilers installed" then the answer is yes, if you know what you're doing - you have to make sure they don't pick each other's runtimes at compile time.


> I am not expecting any julia help from you. Thanks.
> 

But it is a julia issue, because AFAICS you're using binaries of julia that are incomplete. Just adding the missing libraries should solve that problem (regardless of compilers).

If you compile everything from source, you can use pretty much any compiler (with the appropriate flags) and there will be no run-time issues, but then you can't use binaries.

Cheers,
Simon


> Huang
> 
> On Tue, Apr 10, 2012 at 9:47 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> Huang,
> 
> you're on the wrong mailing list, I'm not a julia developer nor do I endorse or support julia - please ask their mailing lists for support.
> 
> Cheers,
> Simon
> 
> 
> On Apr 10, 2012, at 6:07 AM, huang min wrote:
> 
> > Dear Simon,
> >
> > I want to try the julia language on MAC as Prof. Douglas Bates mentioned these days. I only installed your gfortran-4.2.3.dmg but did not install the gnu fortran from http://hpc.sourceforge.net or http://gcc.gnu.org/wiki/GFortranBinaries as julia language requires. When I try to run julia, I get the error message:
> >
> > dlopen(/Users/huang/julia/lib/libamos.dylib, 2): Library not loaded: /usr/local/lib/libgfortran.3.dylib
> >   Referenced from: /Users/huang/julia/lib/libamos.dylib
> >   Reason: image not found
> >
> > I checked my /usr/bin/local and there is only libgfortran.2.dylib (no libgfortran.3.dylib) there. Is this because the gfortran-4.2.3 a little old?
> >
> > If I further install newer version of GNU Fortran, will the gfortran-4.2.3 still be kept? Will this affect my compilation of R? Thanks.
> >
> > Huang
> >
> > On Tue, Apr 3, 2012 at 2:06 AM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> > Tim,
> >
> > On Apr 2, 2012, at 11:30 AM, Timothy Bates wrote:
> >
> > > Hi All,
> > >
> > > HPC seem to be maintaining the gcc toolchain up to date (they have GCC 4.7 compiled with autovectoring using OpenMP?)
> > >
> > > http://hpc.sourceforge.net
> > >
> > > BUT the page  http://r.research.att.com/tools/  says "do not use compilers from HPC, they won't work correctly!? Is that the case?
> > >
> >
> > Two reasons: a) they do not use Apple's drivers, so those are incompatible with most "regular" flags on Mac OS X (including most basic ones like -arch). b) last time I checked they were broken, i.e. the distribution did not even include libraries that the compiler linked against and it had OS version issues (i.e. it worked only on a very specific version which was not even what they were advertized for). I would hope that the latter point may have been rectified in the meantime, but I don't know. Gaurav never responded to my comments so I stopped worrying about that build. (There was a point c) where his compilers don't support ppc cross-compilation but that is less relevant now).
> >
> > It is stil possible to build FSF gcc and Apple drivers - that's what we used a while ago when Apple's branch was broken.
> >
> > But note that even the most recent compilers are not much better, OMP performance is unusable for R's purpose so last time I checked there were no noticeable gains after all the work, but more recent reports are welcome.
> >
> >
> > > Also, I wondered if http://www.macports.org might be the way to go to get a version of gcc with a non-crashing OpenMP library?
> > >
> >
> > MacPorts are quite notorious for the quality of the binaries and conflicts they cause, so I would be wary about that. If you compile everything from scratch (R and libraries), then the HPC compilers may work - you just have to stick to FSF flags.
> >
> > I am still weighting the options - the most reasonable way at the moment is clang because it is supported by Apple and under active development (personally, I have switched to clang because it's much better for development), but there is no OpenMP yet for clang, although it is (allegedly) brewing. But as I said, at least for R itself, the threading performance problem is deeper, so just updating the compiler or OMP doesn't seem to help (I didn't try MPC, though).
> >
> >
> > > PS: The att.com page talks about install disks for OS X, but I think it?s all via the app store now, including X Code.
> >
> > Yes, it varies by Xcode version and your OS X version. App store is the last resort, I prefer ADC which has always worked and still works. I think the FAQ is up to date.
> >
> > Cheers,
> > Simon
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
> 
> 


From michael.weylandt at gmail.com  Tue Apr 10 17:25:59 2012
From: michael.weylandt at gmail.com (R. Michael Weylandt)
Date: Tue, 10 Apr 2012 11:25:59 -0400
Subject: [R-SIG-Mac] GCC on Lion and above
In-Reply-To: <0EB97859-2208-4451-9670-A44C12414F36@r-project.org>
References: <217FC504-42CA-46BB-88FB-257C938A7C95@ed.ac.uk>
	<FB1E9756-C2CB-4244-9F7A-3D00CF6EF493@r-project.org>
	<CAFkZLnJatFH3antmsDkfr-3Ffuc9_GQ5UTsC1XFpin-D_3tmng@mail.gmail.com>
	<F4EFE00C-7626-4440-82DB-77447F7A1CEF@r-project.org>
	<CAFkZLnLY7N2gjMqOSrYRsLdkqquYNa3090AP5_Hn7FGvkNJrOw@mail.gmail.com>
	<0EB97859-2208-4451-9670-A44C12414F36@r-project.org>
Message-ID: <CAAmySGNn_NiJELurnRAFj6+8Qgm3ByGkhpqCd7J1qxiFAWHK8Q@mail.gmail.com>

Just as a point of reference -- I use Simon's gfortran and used it to
build my own Julia and R installations with no problems.

Michael

On Tue, Apr 10, 2012 at 10:47 AM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> On Apr 10, 2012, at 10:26 AM, huang min wrote:
>
>> Dear Simon,
>>
>> My question is whether I can install gfortran-4.2.3 and the newer GNU version at the same time such that I can compile R.
>>
>
> Note that your issue is really with julia's missing runtime, that's not really about the compilers per se.
>
> So if your question is "can I have two different gfortran compilers installed" then the answer is yes, if you know what you're doing - you have to make sure they don't pick each other's runtimes at compile time.
>
>
>> I am not expecting any julia help from you. Thanks.
>>
>
> But it is a julia issue, because AFAICS you're using binaries of julia that are incomplete. Just adding the missing libraries should solve that problem (regardless of compilers).
>
> If you compile everything from source, you can use pretty much any compiler (with the appropriate flags) and there will be no run-time issues, but then you can't use binaries.
>
> Cheers,
> Simon
>
>
>> Huang
>>
>> On Tue, Apr 10, 2012 at 9:47 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> Huang,
>>
>> you're on the wrong mailing list, I'm not a julia developer nor do I endorse or support julia - please ask their mailing lists for support.
>>
>> Cheers,
>> Simon
>>
>>
>> On Apr 10, 2012, at 6:07 AM, huang min wrote:
>>
>> > Dear Simon,
>> >
>> > I want to try the julia language on MAC as Prof. Douglas Bates mentioned these days. I only installed your gfortran-4.2.3.dmg but did not install the gnu fortran from http://hpc.sourceforge.net or http://gcc.gnu.org/wiki/GFortranBinaries as julia language requires. When I try to run julia, I get the error message:
>> >
>> > dlopen(/Users/huang/julia/lib/libamos.dylib, 2): Library not loaded: /usr/local/lib/libgfortran.3.dylib
>> > ? Referenced from: /Users/huang/julia/lib/libamos.dylib
>> > ? Reason: image not found
>> >
>> > I checked my /usr/bin/local and there is only libgfortran.2.dylib (no libgfortran.3.dylib) there. Is this because the gfortran-4.2.3 a little old?
>> >
>> > If I further install newer version of GNU Fortran, will the gfortran-4.2.3 still be kept? Will this affect my compilation of R? Thanks.
>> >
>> > Huang
>> >
>> > On Tue, Apr 3, 2012 at 2:06 AM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> > Tim,
>> >
>> > On Apr 2, 2012, at 11:30 AM, Timothy Bates wrote:
>> >
>> > > Hi All,
>> > >
>> > > HPC seem to be maintaining the gcc toolchain up to date (they have GCC 4.7 compiled with autovectoring using OpenMP?)
>> > >
>> > > http://hpc.sourceforge.net
>> > >
>> > > BUT the page ?http://r.research.att.com/tools/ ?says "do not use compilers from HPC, they won't work correctly!? Is that the case?
>> > >
>> >
>> > Two reasons: a) they do not use Apple's drivers, so those are incompatible with most "regular" flags on Mac OS X (including most basic ones like -arch). b) last time I checked they were broken, i.e. the distribution did not even include libraries that the compiler linked against and it had OS version issues (i.e. it worked only on a very specific version which was not even what they were advertized for). I would hope that the latter point may have been rectified in the meantime, but I don't know. Gaurav never responded to my comments so I stopped worrying about that build. (There was a point c) where his compilers don't support ppc cross-compilation but that is less relevant now).
>> >
>> > It is stil possible to build FSF gcc and Apple drivers - that's what we used a while ago when Apple's branch was broken.
>> >
>> > But note that even the most recent compilers are not much better, OMP performance is unusable for R's purpose so last time I checked there were no noticeable gains after all the work, but more recent reports are welcome.
>> >
>> >
>> > > Also, I wondered if http://www.macports.org might be the way to go to get a version of gcc with a non-crashing OpenMP library?
>> > >
>> >
>> > MacPorts are quite notorious for the quality of the binaries and conflicts they cause, so I would be wary about that. If you compile everything from scratch (R and libraries), then the HPC compilers may work - you just have to stick to FSF flags.
>> >
>> > I am still weighting the options - the most reasonable way at the moment is clang because it is supported by Apple and under active development (personally, I have switched to clang because it's much better for development), but there is no OpenMP yet for clang, although it is (allegedly) brewing. But as I said, at least for R itself, the threading performance problem is deeper, so just updating the compiler or OMP doesn't seem to help (I didn't try MPC, though).
>> >
>> >
>> > > PS: The att.com page talks about install disks for OS X, but I think it?s all via the app store now, including X Code.
>> >
>> > Yes, it varies by Xcode version and your OS X version. App store is the last resort, I prefer ADC which has always worked and still works. I think the FAQ is up to date.
>> >
>> > Cheers,
>> > Simon
>> >
>> > _______________________________________________
>> > R-SIG-Mac mailing list
>> > R-SIG-Mac at r-project.org
>> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> >
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ohowow2007 at hotmail.com  Wed Apr 11 05:55:02 2012
From: ohowow2007 at hotmail.com (Tawee Laoitichote)
Date: Wed, 11 Apr 2012 10:55:02 +0700
Subject: [R-SIG-Mac] [R] plot 2 graphs on the same x-y plane
In-Reply-To: <CAAmySGN8Wv+1xD6RxGR7h2ausNO-=kCUUPX+rYcqx6k_WBVn4A@mail.gmail.com>
References: <SNT126-W1152DCC27F7F5B7782F6F0CD350@phx.gbl>,
	<CAAmySGN8Wv+1xD6RxGR7h2ausNO-=kCUUPX+rYcqx6k_WBVn4A@mail.gmail.com>
Message-ID: <SNT126-W43CD5C748C0474B5304CC9CD350@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120411/f7a81443/attachment.pl>

From seyfarth at psych.upenn.edu  Wed Apr 11 15:12:06 2012
From: seyfarth at psych.upenn.edu (Robert Seyfarth)
Date: Wed, 11 Apr 2012 09:12:06 -0400
Subject: [R-SIG-Mac] factor analysis problem
Message-ID: <4F858326.8030703@psych.upenn.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120411/c4f6c996/attachment.pl>

From sgruber at hsph.harvard.edu  Wed Apr 11 15:42:20 2012
From: sgruber at hsph.harvard.edu (Susan Gruber)
Date: Wed, 11 Apr 2012 09:42:20 -0400
Subject: [R-SIG-Mac] [R] plot 2 graphs on the same x-y plane
In-Reply-To: <SNT126-W43CD5C748C0474B5304CC9CD350@phx.gbl>
References: <SNT126-W1152DCC27F7F5B7782F6F0CD350@phx.gbl>,
	<CAAmySGN8Wv+1xD6RxGR7h2ausNO-=kCUUPX+rYcqx6k_WBVn4A@mail.gmail.com>
	<SNT126-W43CD5C748C0474B5304CC9CD350@phx.gbl>
Message-ID: <7C095DDC-9580-4208-BF76-1D974C886AFE@hsph.harvard.edu>

Hi,
A line can be added to an existing plot using the abline function.  For example, if a is the intercept and b is the slope, the command would be
   abline(a=a, b=b)

To overlay a new plot on an existing one, use the command: par(new=TRUE).  
For example:

plot(1:10, 1:10)
par(new=TRUE)
plot(log(1:10), 1:10)

This approach often leads to issues with the scale of the axes, tick marks, and labels.  Fortunately, R provides the flexibility to deal with all of them. I recommend you carefully read the help pages for plot, par, and axis, and have some fun playing around with all the options.

--Susan


On Apr 10, 2012, at 11:55 PM, Tawee Laoitichote wrote:

> 
> Dear Michael (and Davis), Your answer is not what I want to know. My question is to find any command to plot the data I got from the field; such as a set of (x,y) data ( I actually have these data) and together withe the derived ones . I brought these data to plot on x-y plane,  getting a graph showing some relation. Then, I wanted to find some linear relation, I would use least square method to solve having a simple function such as; y = ax + b, solving the a and b. So, I could plot a straight line using this function, or perhaps forecast some data of y which I know the value x. My problem is when I did a scatter plot by command "plot(x,y)", I got a graph. Whilst I plotted another graph using the above function the existing graph disappeared replaced be the latter function. Unfortunately, after searching a while to find the solution command, I can not find the command. I asked the question as to request some help not the example you shown. Any way, thanks for you effort. Ta!
> 
> wee Mac OS10.7.3
>> From: michael.weylandt at gmail.com
>> Date: Tue, 10 Apr 2012 23:31:08 -0400
>> Subject: Re: [R] plot 2 graphs on the same x-y plane
>> To: ohowow2007 at hotmail.com
>> CC: r-help at r-project.org
>> 
>> This is the same malformatted message you posted on R-SIG-Mac even
>> after David specifically asked for clarification.... not to reward bad
>> behavior, but perhaps this will enlighten:
>> 
>> # Minimal reproducible data!
>> x <- runif(15, 0, 5)
>> y <- 3*x - 2 + runif(15)
>> 
>> dat <- data.frame(x = x, y = y)
>> rm(list = c("x", "y"))
>> 
>> # Base graphics plot using the formula interface
>> plot(y ~ x, data = dat)
>> abline(lm(y~x, data = dat), col = "red3", lwd = 2)
>> 
>> Alternatively
>> 
>> library(ggplot2)
>> ggplot(dat, aes(x = x, y = y)) + geom_point() + stat_smooth(method =
>> "lm", color = I("red3"))
>> 
>> which is perhaps overkill in this situation.
>> 
>> 
>> Michael
>> 
>> On Tue, Apr 10, 2012 at 11:03 PM, Tawee Laoitichote
>> <ohowow2007 at hotmail.com> wrote:
>>> 
>>> 
>>> 
>>> 
>>> hi,  I'm doing some data on least square curve fitting. What I like to have is to compare the scatter plot whilst having the fitting curve on the same coordinates. Any suggestting command besides plot(x,y).  TaweeMac OSX 10.7.3
>>>       [[alternative HTML version deleted]]
>>> 
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
> 		 	   		  
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From myotistwo at gmail.com  Wed Apr 11 17:51:04 2012
From: myotistwo at gmail.com (Graham Smith)
Date: Wed, 11 Apr 2012 16:51:04 +0100
Subject: [R-SIG-Mac] Rcmdr 1.8.3 on Lion with R 2.15 shutting down when
	trying import data
Message-ID: <CAE6fdSkB7aZgXhqrmo=qNSb9NuWG4p=Lin0Pr4X36hgYRL1J5A@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120411/3539a468/attachment.pl>

From jfox at mcmaster.ca  Wed Apr 11 18:03:56 2012
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 11 Apr 2012 12:03:56 -0400
Subject: [R-SIG-Mac] Rcmdr 1.8.3 on Lion with R 2.15 shutting down
	when	trying import data
In-Reply-To: <CAE6fdSkB7aZgXhqrmo=qNSb9NuWG4p=Lin0Pr4X36hgYRL1J5A@mail.gmail.com>
References: <CAE6fdSkB7aZgXhqrmo=qNSb9NuWG4p=Lin0Pr4X36hgYRL1J5A@mail.gmail.com>
Message-ID: <005601cd17fc$b3cb3950$1b61abf0$@mcmaster.ca>

Dear Graham,

As I just verified, "Data -> Import data -> From text file, clipboard, or
URL" works fine for me, with R 2.15.0 and Rcmdr 1.8-3 (the version currently
on CRAN) under Mac OS X Lion.

I'm not sure what to suggest. Can you provide some more details?

Best,
 John


> -----Original Message-----
> From: r-sig-mac-bounces at r-project.org [mailto:r-sig-mac-bounces at r-
> project.org] On Behalf Of Graham Smith
> Sent: April-11-12 11:51 AM
> To: r-sig-mac at r-project.org
> Subject: [R-SIG-Mac] Rcmdr 1.8.3 on Lion with R 2.15 shutting down when
> trying import data
> 
> I have just updated to R 2.15 on Lion but now when trying to import
> data using Rcmdr 1.8.3, both Rcmdr and R shut down.
> 
> I can get to "Open" dialog box, but when I double click on a directory
> to open it, Rcmdr and R shut down.
> 
> Selecting the directory and clicking on the Open button does nothing,
> not sure if it has ever done anything as I normally double click.
> 
> It was working before upgrade and I can open data using the Data in
> packages menu.
> 
> I have the same problem with both the Macs I have upgraded to 2.15, but
> a search hasn't found anyone else with the same problem.
> 
> Has anyone any idea what might be wrong.
> 
> Many thanks,
> 
> Graham
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From myotistwo at gmail.com  Wed Apr 11 18:36:48 2012
From: myotistwo at gmail.com (Graham Smith)
Date: Wed, 11 Apr 2012 17:36:48 +0100
Subject: [R-SIG-Mac] Rcmdr 1.8.3 on Lion with R 2.15 shutting down when
 trying import data
In-Reply-To: <005601cd17fc$b3cb3950$1b61abf0$@mcmaster.ca>
References: <CAE6fdSkB7aZgXhqrmo=qNSb9NuWG4p=Lin0Pr4X36hgYRL1J5A@mail.gmail.com>
	<005601cd17fc$b3cb3950$1b61abf0$@mcmaster.ca>
Message-ID: <CAE6fdSmX4hkvnH3Qz+WVKndOBi+PCmumsDSEbSfRhc5y9Y5xqw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120411/93197eea/attachment.pl>

From simon.urbanek at r-project.org  Wed Apr 11 18:41:33 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 11 Apr 2012 12:41:33 -0400
Subject: [R-SIG-Mac] Rcmdr 1.8.3 on Lion with R 2.15 shutting down when
	trying import data
In-Reply-To: <CAE6fdSmX4hkvnH3Qz+WVKndOBi+PCmumsDSEbSfRhc5y9Y5xqw@mail.gmail.com>
References: <CAE6fdSkB7aZgXhqrmo=qNSb9NuWG4p=Lin0Pr4X36hgYRL1J5A@mail.gmail.com>
	<005601cd17fc$b3cb3950$1b61abf0$@mcmaster.ca>
	<CAE6fdSmX4hkvnH3Qz+WVKndOBi+PCmumsDSEbSfRhc5y9Y5xqw@mail.gmail.com>
Message-ID: <E0FC0975-078B-494F-A808-3B602DE69FF8@r-project.org>


On Apr 11, 2012, at 12:36 PM, Graham Smith wrote:

> John,
> 
> Thanks for the rapid response
> 
> 
>> 
>> As I just verified, "Data -> Import data -> From text file, clipboard, or
>> URL" works fine for me, with R 2.15.0 and Rcmdr 1.8-3 (the version
>> currently
>> on CRAN) under Mac OS X Lion.
>> 
>> I'm not sure what to suggest. Can you provide some more details?
>> 
>> 
> Well, this is very weird, if I double click on any directory (other than
> the one where my data is stored) it works fine.
> 
> Double clicking on my Dropbox folder (where my data is) shuts R and Rcmdr
> down.
> 

Dropbox is typically write-only (i.e. you can't list it), so maybe check the permissions?

Cheers,
S

> This is where my data has been for several years now, so it obviously
> worked before the upgrade. It's the same on both Macs, so there must be
> something odd about this directory, but I have no idea what it could be.
> 
> Thanks again,
> 
> Graham
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From dwinsemius at comcast.net  Wed Apr 11 18:51:36 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 11 Apr 2012 12:51:36 -0400
Subject: [R-SIG-Mac] Rcmdr 1.8.3 on Lion with R 2.15 shutting down when
	trying import data
In-Reply-To: <CAE6fdSmX4hkvnH3Qz+WVKndOBi+PCmumsDSEbSfRhc5y9Y5xqw@mail.gmail.com>
References: <CAE6fdSkB7aZgXhqrmo=qNSb9NuWG4p=Lin0Pr4X36hgYRL1J5A@mail.gmail.com>
	<005601cd17fc$b3cb3950$1b61abf0$@mcmaster.ca>
	<CAE6fdSmX4hkvnH3Qz+WVKndOBi+PCmumsDSEbSfRhc5y9Y5xqw@mail.gmail.com>
Message-ID: <6A69DCEE-C047-4E92-8ADD-58351290102E@comcast.net>

One of the potential fixes to attempt would be to track down the  
usually invisible .Rdata file that sometimes gets corrupted. You may  
need to use a Terminal session to do this. The fact that this only  
happens with the default or usual directory is what makes me think  
this common fix may succeed.

-- 
David


On Apr 11, 2012, at 12:36 PM, Graham Smith wrote:

> John,
>
> Thanks for the rapid response
>
>
>>
>> As I just verified, "Data -> Import data -> From text file,  
>> clipboard, or
>> URL" works fine for me, with R 2.15.0 and Rcmdr 1.8-3 (the version
>> currently
>> on CRAN) under Mac OS X Lion.
>>
>> I'm not sure what to suggest. Can you provide some more details?
>>
>>
> Well, this is very weird, if I double click on any directory (other  
> than
> the one where my data is stored) it works fine.
>
> Double clicking on my Dropbox folder (where my data is) shuts R and  
> Rcmdr
> down.
>
> This is where my data has been for several years now, so it obviously
> worked before the upgrade. It's the same on both Macs, so there must  
> be
> something odd about this directory, but I have no idea what it could  
> be.
>
> Thanks again,
>
> Graham
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
West Hartford, CT


From myotistwo at gmail.com  Wed Apr 11 18:57:32 2012
From: myotistwo at gmail.com (Graham Smith)
Date: Wed, 11 Apr 2012 17:57:32 +0100
Subject: [R-SIG-Mac] Rcmdr 1.8.3 on Lion with R 2.15 shutting down when
 trying import data
In-Reply-To: <E0FC0975-078B-494F-A808-3B602DE69FF8@r-project.org>
References: <CAE6fdSkB7aZgXhqrmo=qNSb9NuWG4p=Lin0Pr4X36hgYRL1J5A@mail.gmail.com>
	<005601cd17fc$b3cb3950$1b61abf0$@mcmaster.ca>
	<CAE6fdSmX4hkvnH3Qz+WVKndOBi+PCmumsDSEbSfRhc5y9Y5xqw@mail.gmail.com>
	<E0FC0975-078B-494F-A808-3B602DE69FF8@r-project.org>
Message-ID: <CAE6fdSnVfM8ybQGk9hVY9jzEtxKxeGGKPXkodn3eNbsKeJ0trw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120411/1f94cf73/attachment.pl>

From myotistwo at gmail.com  Wed Apr 11 19:14:43 2012
From: myotistwo at gmail.com (Graham Smith)
Date: Wed, 11 Apr 2012 18:14:43 +0100
Subject: [R-SIG-Mac] Rcmdr 1.8.3 on Lion with R 2.15 shutting down when
 trying import data
In-Reply-To: <6A69DCEE-C047-4E92-8ADD-58351290102E@comcast.net>
References: <CAE6fdSkB7aZgXhqrmo=qNSb9NuWG4p=Lin0Pr4X36hgYRL1J5A@mail.gmail.com>
	<005601cd17fc$b3cb3950$1b61abf0$@mcmaster.ca>
	<CAE6fdSmX4hkvnH3Qz+WVKndOBi+PCmumsDSEbSfRhc5y9Y5xqw@mail.gmail.com>
	<6A69DCEE-C047-4E92-8ADD-58351290102E@comcast.net>
Message-ID: <CAE6fdSmucDN-hAt6skby1t6k3JwSZeHWKWy=7KQcV9TPVoEcJw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120411/c7fb834a/attachment.pl>

From jfox at mcmaster.ca  Wed Apr 11 20:12:13 2012
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 11 Apr 2012 14:12:13 -0400
Subject: [R-SIG-Mac] Rcmdr 1.8.3 on Lion with R 2.15 shutting down when
	trying import data
In-Reply-To: <CAE6fdSnVfM8ybQGk9hVY9jzEtxKxeGGKPXkodn3eNbsKeJ0trw@mail.gmail.com>
References: <CAE6fdSkB7aZgXhqrmo=qNSb9NuWG4p=Lin0Pr4X36hgYRL1J5A@mail.gmail.com>	<005601cd17fc$b3cb3950$1b61abf0$@mcmaster.ca>	<CAE6fdSmX4hkvnH3Qz+WVKndOBi+PCmumsDSEbSfRhc5y9Y5xqw@mail.gmail.com>	<E0FC0975-078B-494F-A808-3B602DE69FF8@r-project.org>
	<CAE6fdSnVfM8ybQGk9hVY9jzEtxKxeGGKPXkodn3eNbsKeJ0trw@mail.gmail.com>
Message-ID: <007601cd180e$9f28ea80$dd7abf80$@mcmaster.ca>

Dear Graham,

I'm glad that you've gotten a bit further diagnosing the problem. I'm not
sure why the problem would afflict only the Rcmdr but one guess is that it's
Tcl/Tk related. Anyway, a work-around is to move the data to another
location.

Best,
 John

> -----Original Message-----
> From: r-sig-mac-bounces at r-project.org [mailto:r-sig-mac-bounces at r-
> project.org] On Behalf Of Graham Smith
> Sent: April-11-12 12:58 PM
> To: r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] Rcmdr 1.8.3 on Lion with R 2.15 shutting down
> when trying import data
> 
> Simon,
> 
> 
> > Dropbox is typically write-only (i.e. you can't list it), so maybe
> > check the permissions?
> >
> 
> As far as I can see permissions are OK, but not sure why this would
> only affect Rcmdr ?
> 
> There is no problem using R, or Rstudio, excel etc its just Rcmdr that
> is having a problem, and only since the update to 2.15.
> 
> Thanks,
> 
> Graham
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jackman at stanford.edu  Wed Apr 11 21:11:12 2012
From: jackman at stanford.edu (Simon Jackman)
Date: Wed, 11 Apr 2012 12:11:12 -0700
Subject: [R-SIG-Mac] factor analysis problem
In-Reply-To: <mailman.1056.1334163466.4540.r-sig-mac@r-project.org>
References: <mailman.1056.1334163466.4540.r-sig-mac@r-project.org>
Message-ID: <5125E4B1-375B-45FE-9717-6635615358B2@stanford.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120411/e8d86943/attachment.pl>

From myotistwo at gmail.com  Wed Apr 11 21:19:57 2012
From: myotistwo at gmail.com (Graham Smith)
Date: Wed, 11 Apr 2012 20:19:57 +0100
Subject: [R-SIG-Mac] Rcmdr 1.8.3 on Lion with R 2.15 shutting down when
 trying import data
In-Reply-To: <007601cd180e$9f28ea80$dd7abf80$@mcmaster.ca>
References: <CAE6fdSkB7aZgXhqrmo=qNSb9NuWG4p=Lin0Pr4X36hgYRL1J5A@mail.gmail.com>
	<005601cd17fc$b3cb3950$1b61abf0$@mcmaster.ca>
	<CAE6fdSmX4hkvnH3Qz+WVKndOBi+PCmumsDSEbSfRhc5y9Y5xqw@mail.gmail.com>
	<E0FC0975-078B-494F-A808-3B602DE69FF8@r-project.org>
	<CAE6fdSnVfM8ybQGk9hVY9jzEtxKxeGGKPXkodn3eNbsKeJ0trw@mail.gmail.com>
	<007601cd180e$9f28ea80$dd7abf80$@mcmaster.ca>
Message-ID: <CAE6fdSmTQqmgELWZ24eBcOy-GHhxKyxm-0MDSjUe1QbrWLPszg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120411/73410606/attachment.pl>

From macqueen1 at llnl.gov  Wed Apr 11 22:25:44 2012
From: macqueen1 at llnl.gov (MacQueen, Don)
Date: Wed, 11 Apr 2012 13:25:44 -0700
Subject: [R-SIG-Mac] X11 hangs while plotting from R
In-Reply-To: <1333725597.85984.YahooMailNeo@web140602.mail.bf1.yahoo.com>
Message-ID: <CBAB338F.92AC8%macqueen1@llnl.gov>

This was R started in what way? Console? Terminal? An xterm shell running
under X11?

Command-Tab switches between applications
Command-`   switches between windows within an application

The following applies to R started in a Terminal window.


You have two applications, Terminal, and X11 (though for me it's a Quartz
window, not an X11 window). After dev.new(), X11 has two windows, Terminal
has one window.

When you use Command-Tab to switch back to "X11" you get whichever X11
window is active, namely the second one. Then use Command-` to get to the
original graphics window.

That's what I think is probably going on.

-- 
Don MacQueen

Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062





On 4/6/12 8:19 AM, "Bw Coder" <highbwcoder at yahoo.com> wrote:

>Hi,
>This has been cross-posted on http://stackoverflow.com/q/10045109
>
>While plotting to a window in R, X11 kept hanging. These steps reproduce
>the error.
>plot(c(1,2,3),c(4,5,6))
>
>X11 window becomes active. Press [Apple]+[Tab] to go back to the terminal
>window.
>dev.new()
>
>Second X11 window becomes active. Press [Apple]+[Tab] to go back to the
>terminal window.
>Making sure you are in the terminal and you are not holding down any
>keys, press [Apple]+[Tab] again to try to go to X11. The X11 is no
>longer responding!
>Setup details: I am on OSX 10.7.3 with R and xorg-* installed through
>Macports. I can give  more details if they will be helpful.
>
>
>The screenshot of the Activity monitor is here:
>http://i.imgur.com/8JusD.png?1
>
>The R version is 2.14.1 (2011-12-22)
>Platform: x86_64-apple-darwin11.0.0/x86_64 (64-bit)
>
>
>The sampling of the process is at http://pastebin.com/3rXM2BBn
>
>	[[alternative HTML version deleted]]
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at r-project.org
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From Peter.Kupfer at hki-jena.de  Thu Apr 12 08:27:19 2012
From: Peter.Kupfer at hki-jena.de (Peter Kupfer)
Date: Thu, 12 Apr 2012 08:27:19 +0200
Subject: [R-SIG-Mac] Antw: Re:  X11 hangs while plotting from R
Message-ID: <4F8691E70200008E0000C00A@fulda.hki-jena.de>


There all,
well, I have the same problem and X11 show no response at all. I have to quit X11 and R to solve this problem! 
So if I start a second X11 window its not possible for me to plot in or to access this second window
All the best
Peter





>>> "MacQueen, Don"  11.04.12 22.29 Uhr >>>
This was R started in what way? Console? Terminal? An xterm shell running
under X11?

Command-Tab switches between applications
Command-`   switches between windows within an application

The following applies to R started in a Terminal window.


You have two applications, Terminal, and X11 (though for me it's a Quartz
window, not an X11 window). After dev.new(), X11 has two windows, Terminal
has one window.

When you use Command-Tab to switch back to "X11" you get whichever X11
window is active, namely the second one. Then use Command-` to get to the
original graphics window.

That's what I think is probably going on.

-- 
Don MacQueen

Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062





On 4/6/12 8:19 AM, "Bw Coder"  wrote:

>Hi,
>This has been cross-posted on http://stackoverflow.com/q/10045109
>
>While plotting to a window in R, X11 kept hanging. These steps reproduce
>the error.
>plot(c(1,2,3),c(4,5,6))
>
>X11 window becomes active. Press [Apple]+[Tab] to go back to the terminal
>window.
>dev.new()
>
>Second X11 window becomes active. Press [Apple]+[Tab] to go back to the
>terminal window.
>Making sure you are in the terminal and you are not holding down any
>keys, press [Apple]+[Tab] again to try to go to X11. The X11 is no
>longer responding!
>Setup details: I am on OSX 10.7.3 with R and xorg-* installed through
>Macports. I can give  more details if they will be helpful.
>
>
>The screenshot of the Activity monitor is here:
>http://i.imgur.com/8JusD.png?1
>
>The R version is 2.14.1 (2011-12-22)
>Platform: x86_64-apple-darwin11.0.0/x86_64 (64-bit)
>
>
>The sampling of the process is at http://pastebin.com/3rXM2BBn
>
>    [[alternative HTML version deleted]]
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at r-project.org
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-sig-mac



The information contained in this email and any attachments is confidential and may be subject to copyright or other intellectual property protection. If you are not the intended recipient, you are not authorized to use or disclose this information, and we request that you notify us by reply mail or telephone and delete the original message from your mail system.


From myotistwo at gmail.com  Thu Apr 12 09:55:44 2012
From: myotistwo at gmail.com (Graham Smith)
Date: Thu, 12 Apr 2012 08:55:44 +0100
Subject: [R-SIG-Mac] Rcmdr 1.8.3 on Lion with R 2.15 shutting down when
 trying import data
In-Reply-To: <CAE6fdSmTQqmgELWZ24eBcOy-GHhxKyxm-0MDSjUe1QbrWLPszg@mail.gmail.com>
References: <CAE6fdSkB7aZgXhqrmo=qNSb9NuWG4p=Lin0Pr4X36hgYRL1J5A@mail.gmail.com>
	<005601cd17fc$b3cb3950$1b61abf0$@mcmaster.ca>
	<CAE6fdSmX4hkvnH3Qz+WVKndOBi+PCmumsDSEbSfRhc5y9Y5xqw@mail.gmail.com>
	<E0FC0975-078B-494F-A808-3B602DE69FF8@r-project.org>
	<CAE6fdSnVfM8ybQGk9hVY9jzEtxKxeGGKPXkodn3eNbsKeJ0trw@mail.gmail.com>
	<007601cd180e$9f28ea80$dd7abf80$@mcmaster.ca>
	<CAE6fdSmTQqmgELWZ24eBcOy-GHhxKyxm-0MDSjUe1QbrWLPszg@mail.gmail.com>
Message-ID: <CAE6fdS=hKT6BBmY_TSxHE8OYSG0UoRnq5m1W5guw7oausByLgg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120412/33e90c3b/attachment.pl>

From macqueen1 at llnl.gov  Thu Apr 12 18:07:40 2012
From: macqueen1 at llnl.gov (MacQueen, Don)
Date: Thu, 12 Apr 2012 09:07:40 -0700
Subject: [R-SIG-Mac] Antw: Re:  X11 hangs while plotting from R
In-Reply-To: <4F8691E70200008E0000C00A@fulda.hki-jena.de>
Message-ID: <CBAC4BC8.92CB1%macqueen1@llnl.gov>

Presumably you've tried dev.set()?

-- 
Don MacQueen

Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062





On 4/11/12 11:27 PM, "Peter Kupfer" <Peter.Kupfer at hki-jena.de> wrote:

>
>There all,
>well, I have the same problem and X11 show no response at all. I have to
>quit X11 and R to solve this problem!
>So if I start a second X11 window its not possible for me to plot in or
>to access this second window
>All the best
>Peter
>
>
>
>
>
>>>> "MacQueen, Don"  11.04.12 22.29 Uhr >>>
>This was R started in what way? Console? Terminal? An xterm shell running
>under X11?
>
>Command-Tab switches between applications
>Command-`   switches between windows within an application
>
>The following applies to R started in a Terminal window.
>
>
>You have two applications, Terminal, and X11 (though for me it's a Quartz
>window, not an X11 window). After dev.new(), X11 has two windows, Terminal
>has one window.
>
>When you use Command-Tab to switch back to "X11" you get whichever X11
>window is active, namely the second one. Then use Command-` to get to the
>original graphics window.
>
>That's what I think is probably going on.
>
>-- 
>Don MacQueen
>
>Lawrence Livermore National Laboratory
>7000 East Ave., L-627
>Livermore, CA 94550
>925-423-1062
>
>
>
>
>
>On 4/6/12 8:19 AM, "Bw Coder"  wrote:
>
>>Hi,
>>This has been cross-posted on http://stackoverflow.com/q/10045109
>>
>>While plotting to a window in R, X11 kept hanging. These steps reproduce
>>the error.
>>plot(c(1,2,3),c(4,5,6))
>>
>>X11 window becomes active. Press [Apple]+[Tab] to go back to the terminal
>>window.
>>dev.new()
>>
>>Second X11 window becomes active. Press [Apple]+[Tab] to go back to the
>>terminal window.
>>Making sure you are in the terminal and you are not holding down any
>>keys, press [Apple]+[Tab] again to try to go to X11. The X11 is no
>>longer responding!
>>Setup details: I am on OSX 10.7.3 with R and xorg-* installed through
>>Macports. I can give  more details if they will be helpful.
>>
>>
>>The screenshot of the Activity monitor is here:
>>http://i.imgur.com/8JusD.png?1
>>
>>The R version is 2.14.1 (2011-12-22)
>>Platform: x86_64-apple-darwin11.0.0/x86_64 (64-bit)
>>
>>
>>The sampling of the process is at http://pastebin.com/3rXM2BBn
>>
>>    [[alternative HTML version deleted]]
>>
>>_______________________________________________
>>R-SIG-Mac mailing list
>>R-SIG-Mac at r-project.org
>>https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at r-project.org
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
>
>The information contained in this email and any attachments is
>confidential and may be subject to copyright or other intellectual
>property protection. If you are not the intended recipient, you are not
>authorized to use or disclose this information, and we request that you
>notify us by reply mail or telephone and delete the original message from
>your mail system.


From goedman at mac.com  Thu Apr 12 20:47:42 2012
From: goedman at mac.com (Robert J Goedman)
Date: Thu, 12 Apr 2012 11:47:42 -0700
Subject: [R-SIG-Mac] Rcmdr 1.8.3 on Lion with R 2.15 shutting down when
 trying import data
In-Reply-To: <CAE6fdSmVGG2Vntn3TgViF2GncRW7uZwAmANEzS67c=H_DzHcvQ@mail.gmail.com>
References: <CAE6fdSkB7aZgXhqrmo=qNSb9NuWG4p=Lin0Pr4X36hgYRL1J5A@mail.gmail.com>
	<005601cd17fc$b3cb3950$1b61abf0$@mcmaster.ca>
	<CAE6fdSmX4hkvnH3Qz+WVKndOBi+PCmumsDSEbSfRhc5y9Y5xqw@mail.gmail.com>
	<E0FC0975-078B-494F-A808-3B602DE69FF8@r-project.org>
	<CAE6fdSnVfM8ybQGk9hVY9jzEtxKxeGGKPXkodn3eNbsKeJ0trw@mail.gmail.com>
	<007601cd180e$9f28ea80$dd7abf80$@mcmaster.ca>
	<CAE6fdSmTQqmgELWZ24eBcOy-GHhxKyxm-0MDSjUe1QbrWLPszg@mail.gmail.com>
	<CAE6fdS=hKT6BBmY_TSxHE8OYSG0UoRnq5m1W5guw7oausByLgg@mail.gmail.com>
	<BBEC154D-F084-42DF-AE6F-D0946135FE2B@mac.com>
	<CAE6fdSmVGG2Vntn3TgViF2GncRW7uZwAmANEzS67c=H_DzHcvQ@mail.gmail.com>
Message-ID: <AE71EB8B-04CC-4EC0-A85F-D5F3A9FC1BAD@mac.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120412/32bc5d19/attachment.pl>

From myotistwo at gmail.com  Thu Apr 12 21:06:48 2012
From: myotistwo at gmail.com (Graham Smith)
Date: Thu, 12 Apr 2012 20:06:48 +0100
Subject: [R-SIG-Mac] Rcmdr 1.8.3 on Lion with R 2.15 shutting down when
	trying import data
In-Reply-To: <CAE6fdS=hKT6BBmY_TSxHE8OYSG0UoRnq5m1W5guw7oausByLgg@mail.gmail.com>
References: <CAE6fdSkB7aZgXhqrmo=qNSb9NuWG4p=Lin0Pr4X36hgYRL1J5A@mail.gmail.com>
	<005601cd17fc$b3cb3950$1b61abf0$@mcmaster.ca>
	<CAE6fdSmX4hkvnH3Qz+WVKndOBi+PCmumsDSEbSfRhc5y9Y5xqw@mail.gmail.com>
	<E0FC0975-078B-494F-A808-3B602DE69FF8@r-project.org>
	<CAE6fdSnVfM8ybQGk9hVY9jzEtxKxeGGKPXkodn3eNbsKeJ0trw@mail.gmail.com>
	<007601cd180e$9f28ea80$dd7abf80$@mcmaster.ca>
	<CAE6fdSmTQqmgELWZ24eBcOy-GHhxKyxm-0MDSjUe1QbrWLPszg@mail.gmail.com>
	<CAE6fdS=hKT6BBmY_TSxHE8OYSG0UoRnq5m1W5guw7oausByLgg@mail.gmail.com>
Message-ID: <CAE6fdS=2vCNLPyhXyRthnyp0nP68TcNyZ15N1Dit0rBaSnARCw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120412/0bffb7af/attachment.pl>

From Mark.Grimes at mso.umt.edu  Thu Apr 12 23:27:12 2012
From: Mark.Grimes at mso.umt.edu (Grimes Mark)
Date: Thu, 12 Apr 2012 15:27:12 -0600
Subject: [R-SIG-Mac] rgl_0.92.879  package broke with R 2.15
In-Reply-To: <0109DDDE-8D25-421F-BE25-003298E16DA3@mso.umt.edu>
References: <7F2CB39E-BC36-4D97-B64B-C45E7EB1104F@mso.umt.edu>
	<4F731CE5.6060604@gmail.com>
	<7A22342E-AC2A-4DC2-B574-889B22AEDC2F@comcast.net>
	<0109DDDE-8D25-421F-BE25-003298E16DA3@mso.umt.edu>
Message-ID: <7F1AD6AA-9909-4F2B-948D-0FB5B0852A5A@mso.umt.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120412/c9d07d68/attachment.pl>

From ripley at stats.ox.ac.uk  Fri Apr 13 17:36:53 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 13 Apr 2012 16:36:53 +0100
Subject: [R-SIG-Mac] Building binary packages for distribution
Message-ID: <4F884815.8050508@stats.ox.ac.uk>

I have hitherto used a Leopard system to build Mac binary packages for 
distribution, but that system has died and we only have Lion systems 
left (and the replacement hardware only runs Lion).  I'm only concerned 
with building i386/x86_64 packages.

We saw problems with packages built on Snow Leopard which would not run 
on Leopard, and the trick was to use -mmacosx-version-min=10.5 for 
compiling and linking.

Does anyone know for certain if that suffices?  And does setting the 
environment variable MACOSX_DEPLOYMENT_TARGET to 10.5 do the same thing? 
  (My man pages suggest so, but I don't trust Apple's documentation to 
be current.)

Brian Ripley

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From roy.mendelssohn at noaa.gov  Fri Apr 13 18:29:10 2012
From: roy.mendelssohn at noaa.gov (Roy Mendelssohn)
Date: Fri, 13 Apr 2012 09:29:10 -0700
Subject: [R-SIG-Mac] Building binary packages for distribution
In-Reply-To: <4F884815.8050508@stats.ox.ac.uk>
References: <4F884815.8050508@stats.ox.ac.uk>
Message-ID: <73E01578-850B-49FC-B261-64E4248E20D8@noaa.gov>


On Apr 13, 2012, at 8:36 AM, Prof Brian Ripley wrote:

> I have hitherto used a Leopard system to build Mac binary packages for distribution, but that system has died and we only have Lion systems left (and the replacement hardware only runs Lion).  I'm only concerned with building i386/x86_64 packages.
> 
> We saw problems with packages built on Snow Leopard which would not run on Leopard, and the trick was to use -mmacosx-version-min=10.5 for compiling and linking.
> 
> Does anyone know for certain if that suffices?  And does setting the environment variable MACOSX_DEPLOYMENT_TARGET to 10.5 do the same thing?  (My man pages suggest so, but I don't trust Apple's documentation to be current.)
> 
> Brian Ripley



I posted this on the FInk mailing list.   I received the following response from Alexander Hansen, who does a lot of the package upkeep at Fink. YMMV.

-Roy M.

> Good question.  I'd have to answer "it depends".
> 
> I'd expect that setting MACOSX_DEPLOYMENT_TARGET or using -mmacosx-version-min=10.5 will work a good fraction of the time.  (I don't happen to know if they're identical in all cases).
> 
> However, in Lion's Xcode releases there is no 10.5SDK (at least that I have been able to find), and so any packages that really need 10.5-specific headers/libs won't have the option to use 'sysroot' to build against a 10.5 setup.


**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
1352 Lighthouse Avenue
Pacific Grove, CA 93950-2097

e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
voice: (831)-648-9029
fax: (831)-648-8440
www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From simon.urbanek at r-project.org  Fri Apr 13 19:05:27 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 13 Apr 2012 13:05:27 -0400
Subject: [R-SIG-Mac] Building binary packages for distribution
In-Reply-To: <4F884815.8050508@stats.ox.ac.uk>
References: <4F884815.8050508@stats.ox.ac.uk>
Message-ID: <211E5655-5680-4FAC-9859-90AB11DFBF00@r-project.org>


On Apr 13, 2012, at 11:36 AM, Prof Brian Ripley wrote:

> I have hitherto used a Leopard system to build Mac binary packages for distribution, but that system has died and we only have Lion systems left (and the replacement hardware only runs Lion).  I'm only concerned with building i386/x86_64 packages.
> 
> We saw problems with packages built on Snow Leopard which would not run on Leopard, and the trick was to use -mmacosx-version-min=10.5 for compiling and linking.
> 

It is only partially sufficient. The min version makes sure that the Mach-O output is 10.5-compatible, but it will still happily use Lion-only libraries when linking. You have to use 10.5 SDK (typically via -isysroot) in order to make sure the linked frameworks and libraries are actually compatible and present on Leopard.

I have at some point contemplated building the R releases and packages on SL with the 10.5 SDK, but it is simply too fragile. There are issues in details of dependencies, such as packages that use configuration scripts to determine flags (like gsl-config) -- you'd have to maintain a full system and worry about paths (linker/include paths may work with -isysroot re-direction but any other paths won't).

That said, it is possible to build R itself that way. I'd even argue that it's better to simply create pre-drivers for compilers that automatically add the corresponding -isysroot et al. and then exec the compiler rather than setting the flags fully.



> Does anyone know for certain if that suffices?  And does setting the environment variable MACOSX_DEPLOYMENT_TARGET to 10.5 do the same thing?  (My man pages suggest so, but I don't trust Apple's documentation to be current.)
> 

AFAIK, yes, but it is equally insufficient. Apple has been warning about the env vars for a while that they may get rid of them, but I dont' think they did so far (there were more useful ones for managing sysroot which I think they got rid of by now).

Best,
Simon


From ripley at stats.ox.ac.uk  Fri Apr 13 19:34:20 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 13 Apr 2012 18:34:20 +0100
Subject: [R-SIG-Mac] Building binary packages for distribution
In-Reply-To: <211E5655-5680-4FAC-9859-90AB11DFBF00@r-project.org>
References: <4F884815.8050508@stats.ox.ac.uk>
	<211E5655-5680-4FAC-9859-90AB11DFBF00@r-project.org>
Message-ID: <4F88639C.9050207@stats.ox.ac.uk>

Thanks, that is bad news.

I really don't want to ask our sysadmins to maintain a Leopard system 
for the very limited amount of package building we do, so we'll have to 
hope this suffices.

On 13/04/2012 18:05, Simon Urbanek wrote:
>
> On Apr 13, 2012, at 11:36 AM, Prof Brian Ripley wrote:
>
>> I have hitherto used a Leopard system to build Mac binary packages
>> for distribution, but that system has died and we only have Lion
>> systems left (and the replacement hardware only runs Lion).  I'm
>> only concerned with building i386/x86_64 packages.
>>
>> We saw problems with packages built on Snow Leopard which would not
>> run on Leopard, and the trick was to use -mmacosx-version-min=10.5
>> for compiling and linking.
>>
>
> It is only partially sufficient. The min version makes sure that the
> Mach-O output is 10.5-compatible, but it will still happily use
> Lion-only libraries when linking. You have to use 10.5 SDK (typically
> via -isysroot) in order to make sure the linked frameworks and
> libraries are actually compatible and present on Leopard.
>
> I have at some point contemplated building the R releases and
> packages on SL with the 10.5 SDK, but it is simply too fragile. There
> are issues in details of dependencies, such as packages that use
> configuration scripts to determine flags (like gsl-config) -- you'd
> have to maintain a full system and worry about paths (linker/include
> paths may work with -isysroot re-direction but any other paths
> won't).
>
> That said, it is possible to build R itself that way. I'd even argue
> that it's better to simply create pre-drivers for compilers that
> automatically add the corresponding -isysroot et al. and then exec
> the compiler rather than setting the flags fully.
>
>
>
>> Does anyone know for certain if that suffices?  And does setting
>> the environment variable MACOSX_DEPLOYMENT_TARGET to 10.5 do the
>> same thing?  (My man pages suggest so, but I don't trust Apple's
>> documentation to be current.)
>>
>
> AFAIK, yes, but it is equally insufficient. Apple has been warning
> about the env vars for a while that they may get rid of them, but I
> dont' think they did so far (there were more useful ones for managing
> sysroot which I think they got rid of by now).
>
> Best, Simon
>
>
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Fri Apr 13 19:41:58 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 13 Apr 2012 13:41:58 -0400
Subject: [R-SIG-Mac] Building binary packages for distribution
In-Reply-To: <4F88639C.9050207@stats.ox.ac.uk>
References: <4F884815.8050508@stats.ox.ac.uk>
	<211E5655-5680-4FAC-9859-90AB11DFBF00@r-project.org>
	<4F88639C.9050207@stats.ox.ac.uk>
Message-ID: <773EEFB3-12DD-4987-9D99-232F3A41F12B@r-project.org>


On Apr 13, 2012, at 1:34 PM, Prof Brian Ripley wrote:

> Thanks, that is bad news.
> 

There is a lot of bad new from Apple recently ;)


> I really don't want to ask our sysadmins to maintain a Leopard system for the very limited amount of package building we do, so we'll have to hope this suffices.
> 

FWIW you can run Leopard in VirtualBox on Lion so if the building is limited, that may be something to think about.
Another alternative would be to use the RForge.net package building system (which essentially just requires to a URL to get the tar ball from).

Best,
Simon



> On 13/04/2012 18:05, Simon Urbanek wrote:
>> 
>> On Apr 13, 2012, at 11:36 AM, Prof Brian Ripley wrote:
>> 
>>> I have hitherto used a Leopard system to build Mac binary packages
>>> for distribution, but that system has died and we only have Lion
>>> systems left (and the replacement hardware only runs Lion).  I'm
>>> only concerned with building i386/x86_64 packages.
>>> 
>>> We saw problems with packages built on Snow Leopard which would not
>>> run on Leopard, and the trick was to use -mmacosx-version-min=10.5
>>> for compiling and linking.
>>> 
>> 
>> It is only partially sufficient. The min version makes sure that the
>> Mach-O output is 10.5-compatible, but it will still happily use
>> Lion-only libraries when linking. You have to use 10.5 SDK (typically
>> via -isysroot) in order to make sure the linked frameworks and
>> libraries are actually compatible and present on Leopard.
>> 
>> I have at some point contemplated building the R releases and
>> packages on SL with the 10.5 SDK, but it is simply too fragile. There
>> are issues in details of dependencies, such as packages that use
>> configuration scripts to determine flags (like gsl-config) -- you'd
>> have to maintain a full system and worry about paths (linker/include
>> paths may work with -isysroot re-direction but any other paths
>> won't).
>> 
>> That said, it is possible to build R itself that way. I'd even argue
>> that it's better to simply create pre-drivers for compilers that
>> automatically add the corresponding -isysroot et al. and then exec
>> the compiler rather than setting the flags fully.
>> 
>> 
>> 
>>> Does anyone know for certain if that suffices?  And does setting
>>> the environment variable MACOSX_DEPLOYMENT_TARGET to 10.5 do the
>>> same thing?  (My man pages suggest so, but I don't trust Apple's
>>> documentation to be current.)
>>> 
>> 
>> AFAIK, yes, but it is equally insufficient. Apple has been warning
>> about the env vars for a while that they may get rid of them, but I
>> dont' think they did so far (there were more useful ones for managing
>> sysroot which I think they got rid of by now).
>> 
>> Best, Simon
>> 
>> 
>> 
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> 


From marc_schwartz at me.com  Fri Apr 13 19:48:41 2012
From: marc_schwartz at me.com (Marc Schwartz)
Date: Fri, 13 Apr 2012 12:48:41 -0500
Subject: [R-SIG-Mac] Building binary packages for distribution
In-Reply-To: <4F88639C.9050207@stats.ox.ac.uk>
References: <4F884815.8050508@stats.ox.ac.uk>
	<211E5655-5680-4FAC-9859-90AB11DFBF00@r-project.org>
	<4F88639C.9050207@stats.ox.ac.uk>
Message-ID: <38BD2E13-9C9E-4F54-BD1C-6AD3471A28F9@me.com>

Hi,

I will readily admit that I am naive in terms of some of the subtleties, but would running Leopard under Lion in a VM be a suitable possibility?

It would seem that with Lion, some of the licensing issues relative to running non-server versions of the older OSX distributions under a VM have changed, at least that it what is intimated by an article here for VMWare Fusion:

  http://www.macworld.com/article/1163755/vmware_fusion_update_lets_users_virtualize_leopard_snow_leopard.html

Not sure if that is helpful, but recalled seeing some discussions on this over the past few months or so.

Regards,

Marc Schwartz

On Apr 13, 2012, at 12:34 PM, Prof Brian Ripley wrote:

> Thanks, that is bad news.
> 
> I really don't want to ask our sysadmins to maintain a Leopard system for the very limited amount of package building we do, so we'll have to hope this suffices.
> 
> On 13/04/2012 18:05, Simon Urbanek wrote:
>> 
>> On Apr 13, 2012, at 11:36 AM, Prof Brian Ripley wrote:
>> 
>>> I have hitherto used a Leopard system to build Mac binary packages
>>> for distribution, but that system has died and we only have Lion
>>> systems left (and the replacement hardware only runs Lion).  I'm
>>> only concerned with building i386/x86_64 packages.
>>> 
>>> We saw problems with packages built on Snow Leopard which would not
>>> run on Leopard, and the trick was to use -mmacosx-version-min=10.5
>>> for compiling and linking.
>>> 
>> 
>> It is only partially sufficient. The min version makes sure that the
>> Mach-O output is 10.5-compatible, but it will still happily use
>> Lion-only libraries when linking. You have to use 10.5 SDK (typically
>> via -isysroot) in order to make sure the linked frameworks and
>> libraries are actually compatible and present on Leopard.
>> 
>> I have at some point contemplated building the R releases and
>> packages on SL with the 10.5 SDK, but it is simply too fragile. There
>> are issues in details of dependencies, such as packages that use
>> configuration scripts to determine flags (like gsl-config) -- you'd
>> have to maintain a full system and worry about paths (linker/include
>> paths may work with -isysroot re-direction but any other paths
>> won't).
>> 
>> That said, it is possible to build R itself that way. I'd even argue
>> that it's better to simply create pre-drivers for compilers that
>> automatically add the corresponding -isysroot et al. and then exec
>> the compiler rather than setting the flags fully.
>> 
>> 
>> 
>>> Does anyone know for certain if that suffices?  And does setting
>>> the environment variable MACOSX_DEPLOYMENT_TARGET to 10.5 do the
>>> same thing?  (My man pages suggest so, but I don't trust Apple's
>>> documentation to be current.)
>>> 
>> 
>> AFAIK, yes, but it is equally insufficient. Apple has been warning
>> about the env vars for a while that they may get rid of them, but I
>> dont' think they did so far (there were more useful ones for managing
>> sysroot which I think they got rid of by now).
>> 
>> Best, Simon
>>


From marc_schwartz at me.com  Fri Apr 13 21:39:16 2012
From: marc_schwartz at me.com (Marc Schwartz)
Date: Fri, 13 Apr 2012 14:39:16 -0500
Subject: [R-SIG-Mac] Building binary packages for distribution
In-Reply-To: <38BD2E13-9C9E-4F54-BD1C-6AD3471A28F9@me.com>
References: <4F884815.8050508@stats.ox.ac.uk>
	<211E5655-5680-4FAC-9859-90AB11DFBF00@r-project.org>
	<4F88639C.9050207@stats.ox.ac.uk>
	<38BD2E13-9C9E-4F54-BD1C-6AD3471A28F9@me.com>
Message-ID: <B6AE4CD7-B49B-40D1-BE2D-C93CC5806A47@me.com>


On Apr 13, 2012, at 12:48 PM, Marc Schwartz wrote:

> Hi,
> 
> I will readily admit that I am naive in terms of some of the subtleties, but would running Leopard under Lion in a VM be a suitable possibility?
> 
> It would seem that with Lion, some of the licensing issues relative to running non-server versions of the older OSX distributions under a VM have changed, at least that it what is intimated by an article here for VMWare Fusion:
> 
>  http://www.macworld.com/article/1163755/vmware_fusion_update_lets_users_virtualize_leopard_snow_leopard.html
> 
> Not sure if that is helpful, but recalled seeing some discussions on this over the past few months or so.


<Snipped older content>

Just as a follow up and in the course of an offlist exchange with Prof. Ripley, I located some additional information on the issue of non-server versions of OSX running as guest OS's under Lion.

The Release Notes for VMWare's Fusion, version 4.1.1, include a "Resolved Issues" list (http://www.vmware.com/support/fusion4/doc/releasenotes_fusion_411.html#resolvedissues), which notes:

  Fusion 4.1.1 includes the Mac OS X Server check omitted from VMware Fusion 4.1.0.

So it would seem that the prior behavior described in the MacWorld article was either an error on the part of VMWare and/or Apple's corporate counsel made some phone calls.

I also posted a comment to the MacWorld article with the above information for the benefit of others who may, as I did, read the article and get the wrong impression of the current state of affairs.

So with that, based upon other research, each of the VM providers, VMWare, Parallels and VirtualBox, are limited to using the server versions of Leopard and Snow Leopard under Lion as a host.

Regards,

Marc


From Mark.Grimes at mso.umt.edu  Fri Apr 13 22:08:15 2012
From: Mark.Grimes at mso.umt.edu (Grimes Mark)
Date: Fri, 13 Apr 2012 14:08:15 -0600
Subject: [R-SIG-Mac] rgl_0.92.879  package broke with R 2.15
In-Reply-To: <4F885DA1.70009@gmail.com>
References: <7F2CB39E-BC36-4D97-B64B-C45E7EB1104F@mso.umt.edu>
	<4F731CE5.6060604@gmail.com>
	<7A22342E-AC2A-4DC2-B574-889B22AEDC2F@comcast.net>
	<0109DDDE-8D25-421F-BE25-003298E16DA3@mso.umt.edu>
	<7F1AD6AA-9909-4F2B-948D-0FB5B0852A5A@mso.umt.edu>
	<4F8849F3.9050107@gmail.com> <4F885DA1.70009@gmail.com>
Message-ID: <F3E20343-E38E-49DD-BFF3-551DA10F9EAD@mso.umt.edu>

Duncan

Brilliant.  This solved the problem.  Library (rgl) is now  
accessiible, and the plot3d function works fine in X11 (which I think  
is how it worked before anyway).  Whatever I may be missing, I don't  
think I'll notice.

Best,

Mark


On Apr 13, 2012, at 11:08 AM, Duncan Murdoch wrote:

> On 13/04/2012 11:44 AM, Duncan Murdoch wrote:
>> There were no changes to that code (the OSXGUIFactory) between  
>> 0.92.861
>> and 0.92.879, so I'd have to assume it's a difference between the
>> systems used to build it.  All I can suggest is that you go back to  
>> the
>> older one if you can't do a build yourself.
>
> I've had some discussions offline with another user who had this  
> problem.  For him, the workaround was to delete the aglrgl.so  
> library (full path given in the error message).  This will cause rgl  
> to fall back to using X11 for graphics.  It doesn't look as nice as  
> the native window, but as long as you have X11 working, it should  
> work.
>
> Duncan Murdoch
>
>> Duncan Murdoch
>>
>> On 12/04/2012 5:27 PM, Grimes Mark wrote:
>> >  Dear All
>> >
>> >  I am unhappy to report that rgl_0.92.879 gives the following  
>> error:
>> >  Error : .onLoad failed in loadNamespace() for 'rgl', details:
>> >    call: dyn.load(file, DLLpath = DLLpath, ...)
>> >    error: unable to load shared object
>> >  '/Library/Frameworks/R.framework/Versions/2.15/Resources/library/ 
>> rgl/libs/x86_64/aglrgl.so':
>> >
>> >  dlopen(/Library/Frameworks/R.framework/Versions/2.15/Resources/ 
>> library/rgl/libs/x86_64/aglrgl.so,
>> >  6): Symbol not found: __ZN3gui13OSXGUIFactory12hasEventLoopEv
>> >    Referenced from:
>> >  /Library/Frameworks/R.framework/Versions/2.15/Resources/library/ 
>> rgl/libs/x86_64/aglrgl.so
>> >    Expected in: dynamic lookup
>> >
>> >  Error: package/namespace load failed for ?rgl?
>> >  >sessionInfo()
>> >  R version 2.15.0 (2012-03-30)
>> >  Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> >
>> >  locale:
>> >  [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> >
>> >  attached base packages:
>> >  [1] splines   stats     graphics  grDevices utils     datasets
>> >  methods   base
>> >
>> >  other attached packages:
>> >   [1] RUnit_0.4.26         bio3d_1.1-3          RCytoscape_1.6.2
>> >  XMLRPC_0.2-4         graph_1.34.0         org.Hs.eg.db_2.7.1
>> >  RSQLite_0.11.1       DBI_0.2-5            AnnotationDbi_1.18.0
>> >  [10] Biobase_2.16.0       BiocGenerics_0.2.0   adegenet_1.3-4
>> >  ade4_1.4-17          MASS_7.3-17          cluster_1.14.2
>> >  Hmisc_3.9-3          survival_2.36-12     plyr_1.7.1
>> >
>> >  loaded via a namespace (and not attached):
>> >  [1] grid_2.15.0    IRanges_1.14.2 lattice_0.20-6 RCurl_1.91-1
>> >  stats4_2.15.0  tools_2.15.0   XML_3.9-4
>> >  >
>> >  I don't understand how this happens or how to fix it.  Doesn't  
>> matter
>> >  if I use CRAN or R CMD INSTALL from terminal.  Terminal gave me no
>> >  errors when I installed in this way:
>> >  ~?  R CMD INSTALL /Users/Mark/R_/Packages/rgl_0.92.879.tar
>> >  * installing to library
>> >  ?/Library/Frameworks/R.framework/Versions/2.15/Resources/library?
>> >  * installing *binary* package ?rgl? ...
>> >
>> >  * DONE (rgl)
>> >  ~ ?
>> >  Mark
>> >
>> >  On Apr 5, 2012, at 5:06 PM, Grimes Mark wrote:
>> >
>> >>  Dear David, Duncan, and Jochen, and everyone
>> >>
>> >>  I am happy to report that  with R version 2.15.0, rgl_0.92.861  
>> now
>> >>  loads properly.  To whoever fixed this, thank you!
>> >>
>> >>  Mark
>> >>
>> >>
>> >>>  Below some more observations that might help you locate the  
>> problem.
>> >>>
>> >>>  Also sorry for ignoring the posting rules in my last post. I was
>> >>>  still on 2.14.1, and installing from source from the GUI  
>> version of
>> >>>  R64. Installing from source from R64 GUI still works after the
>> >>>  upgrade to R 2.14.2, .
>> >>>
>> >>>  The 32 bit versions of R don't work for me anymore, probably  
>> because
>> >>>  I have only installed the 64 bit versions of some libraries  
>> under
>> >>>  Lion. I have never noticed before, since after the problem  
>> discussed
>> >>>  in this thread
>> >>>  https://stat.ethz.ch/pipermail/r-sig-mac/2010-July/007609.html I
>> >>>  have been using R64 exclusively.
>> >>>
>> >>>  Also note that installing from the command line (Terminal)  
>> version
>> >>>  of either R32 or R64 gives the error
>> >>>
>> >>>>  checking for glEnd in -lGL... no
>> >>>>  configure: error: missing required library GL
>> >>>
>> >>>  Presumably, something is wrong with my bash environment and the
>> >>>  configure script is picking up the wrong gl libraries.
>> >>>  Installing from source does work after downloading and  
>> unzipping the
>> >>>  rgl tarball with
>> >>>
>> >>>  ./configure --with-gl-libs=/usr/X11/lib
>> >>>  --with-gl-includes=/usr/X11/include
>> >>>
>> >>>
>> >>>  Jochen
>> >>>
>> >>>  On Mar 28, 2012, at 10:15 AM, Duncan Murdoch wrote:
>> >>>
>> >>>>  On 12-03-27 6:31 PM, Grimes Mark wrote:
>> >>>>>  Dear People
>> >>>>>
>> >>>>>   I can't figure out how to fix this problem: rgl won't run  
>> under R
>> >>>>>  2.14.2 (it was working for me before under 2.14.0). The  
>> error message
>> >>>>>  is:
>> >>>>
>> >>>>  rgl is currently changing fairly rapidly.  I'd suggest trying  
>> to
>> >>>>  install again (the current version, as of yesterday, is  
>> 0.92.861).
>> >>>>   If that's not enough, I'd install a binary build (which may  
>> be a
>> >>>>  little old, but at least it built successfully...).
>> >>>>
>> >>>>  Duncan Murdoch
>> >>>
>> >>>  Thanks for your continued efforts Duncan. I had tried  
>> compiling that
>> >>>  version from source and gotten an error but when I attempted to
>> >>>  install from the current binary image which is now  
>> rgl_0.92.861.tgz,
>> >>>  I got apparent success, it loads without error, and the  
>> example in
>> >>>  ?rgl runs.
>> >>>
>> >>>  -- >>>
>> >>>  David Winsemius, MD
>> >>>  West Hartford, CT
>> >>>
>> >>
>> >
>>
>


From marius.hofert at math.ethz.ch  Sun Apr 15 09:34:57 2012
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Sun, 15 Apr 2012 09:34:57 +0200
Subject: [R-SIG-Mac] Vignette package 'parallel'?
Message-ID: <m2iph11m8u.fsf@80-218-244-59.dclient.hispeed.ch>

Hi,

I couldn't find the vignette for the package 'parallel' (Mac OS X 10.7.3; R
2.15.0). I then tried to (re)install the package (I know I comes with R
natively). I obtained:

,----
| > require(parallel)
| Loading required package: parallel
| > vignette(package="parallel")
| no vignettes found
| > install.packages("parallel", type="source")
| Installing package(s) into ?/Library/Frameworks/R.framework/library?
| (as ?lib? is unspecified)
| Warning: unable to access index for repository http://cran.ch.r-project.org/src/contrib
| Warning: unable to access index for repository http://www.bioconductor.org/src/contrib
| Warning message:
| package ?parallel? is not available (for R version 2.15.0) 
| > 
`----

What's wrong? 

Cheers,

Marius

PS: Dirk Eddelbuettel sent me the vignette off-list, I just would like to know
how I could get it via 'vignette(package="parallel")'. 


From murdoch.duncan at gmail.com  Sun Apr 15 14:57:30 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Sun, 15 Apr 2012 08:57:30 -0400
Subject: [R-SIG-Mac] Vignette package 'parallel'?
In-Reply-To: <m2iph11m8u.fsf@80-218-244-59.dclient.hispeed.ch>
References: <m2iph11m8u.fsf@80-218-244-59.dclient.hispeed.ch>
Message-ID: <4F8AC5BA.1090105@gmail.com>

On 12-04-15 3:34 AM, Marius Hofert wrote:
> Hi,
>
> I couldn't find the vignette for the package 'parallel' (Mac OS X 10.7.3; R
> 2.15.0). I then tried to (re)install the package (I know I comes with R
> natively). I obtained:
>
> ,----
> |>  require(parallel)
> | Loading required package: parallel
> |>  vignette(package="parallel")
> | no vignettes found
> |>  install.packages("parallel", type="source")
> | Installing package(s) into ?/Library/Frameworks/R.framework/library?
> | (as ?lib? is unspecified)
> | Warning: unable to access index for repository http://cran.ch.r-project.org/src/contrib
> | Warning: unable to access index for repository http://www.bioconductor.org/src/contrib
> | Warning message:
> | package ?parallel? is not available (for R version 2.15.0)
> |>
> `----
>
> What's wrong?
>
> Cheers,
>
> Marius
>
> PS: Dirk Eddelbuettel sent me the vignette off-list, I just would like to know
> how I could get it via 'vignette(package="parallel")'.
>

Do you have the vignttes from grid, or the one from utils?  If not, 
you'll need to re-install R.  (I just installed the binary R-2.15.0.pkg 
from CRAN, and didn't get those vignettes:  so it looks like the current 
binary isn't installing them.)

Duncan Murdoch


From marius.hofert at math.ethz.ch  Sun Apr 15 18:14:35 2012
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Sun, 15 Apr 2012 18:14:35 +0200
Subject: [R-SIG-Mac] Vignette package 'parallel'?
In-Reply-To: <4F8AC5BA.1090105@gmail.com> (Duncan Murdoch's message of "Sun,
	15 Apr 2012 08:57:30 -0400")
References: <m2iph11m8u.fsf@80-218-244-59.dclient.hispeed.ch>
	<4F8AC5BA.1090105@gmail.com>
Message-ID: <m2hawlc6qc.fsf@80-218-244-59.dclient.hispeed.ch>



Duncan Murdoch <murdoch.duncan at gmail.com> writes:

> On 12-04-15 3:34 AM, Marius Hofert wrote:
>> Hi,
>>
>> I couldn't find the vignette for the package 'parallel' (Mac OS X 10.7.3; R
>> 2.15.0). I then tried to (re)install the package (I know I comes with R
>> natively). I obtained:
>>
>> ,----
>> |>  require(parallel)
>> | Loading required package: parallel
>> |>  vignette(package="parallel")
>> | no vignettes found
>> |>  install.packages("parallel", type="source")
>> | Installing package(s) into ?/Library/Frameworks/R.framework/library?
>> | (as ?lib? is unspecified)
>> | Warning: unable to access index for repository
>> | http://cran.ch.r-project.org/src/contrib
>> | Warning: unable to access index for repository
>> | http://www.bioconductor.org/src/contrib
>> | Warning message:
>> | package ?parallel? is not available (for R version 2.15.0)
>> |>
>> `----
>>
>> What's wrong?
>>
>> Cheers,
>>
>> Marius
>>
>> PS: Dirk Eddelbuettel sent me the vignette off-list, I just would like to know
>> how I could get it via 'vignette(package="parallel")'.
>>
>
> Do you have the vignttes from grid, or the one from utils?

Unfortunately not:

,----
| > require(grid)
| Loading required package: grid
| > vignette(package="grid")
| no vignettes found
| > require(utils)
| > vignette(package="utils")
| no vignettes found
| > 
`----

> If not, you'll need to re-install R.  (I just installed the binary
> R-2.15.0.pkg from CRAN, and didn't get those vignettes: so it looks like the
> current binary isn't installing them.)

I installed R from source:

,----
| wget http://cran.r-project.org/src/base/R-2/R-2.15.0.tar.gz 
| tar -xzf R-2.15.0.tar.gz
| cd R-2.15.0
| ./configure
| make
| make check
| make pdf
| make info
| sudo make install
| sudo make install-info
| sudo make install-pdf
`----

Do I need to do anything additionally to get the vignettes?

Cheers,

Marius

>
>
> Duncan Murdoch


From murdoch.duncan at gmail.com  Sun Apr 15 18:32:35 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Sun, 15 Apr 2012 12:32:35 -0400
Subject: [R-SIG-Mac] Vignette package 'parallel'?
In-Reply-To: <m2hawlc6qc.fsf@80-218-244-59.dclient.hispeed.ch>
References: <m2iph11m8u.fsf@80-218-244-59.dclient.hispeed.ch>
	<4F8AC5BA.1090105@gmail.com>
	<m2hawlc6qc.fsf@80-218-244-59.dclient.hispeed.ch>
Message-ID: <4F8AF823.8040605@gmail.com>

On 12-04-15 12:14 PM, Marius Hofert wrote:
>
>
> Duncan Murdoch<murdoch.duncan at gmail.com>  writes:
>
>> On 12-04-15 3:34 AM, Marius Hofert wrote:
>>> Hi,
>>>
>>> I couldn't find the vignette for the package 'parallel' (Mac OS X 10.7.3; R
>>> 2.15.0). I then tried to (re)install the package (I know I comes with R
>>> natively). I obtained:
>>>
>>> ,----
>>> |>   require(parallel)
>>> | Loading required package: parallel
>>> |>   vignette(package="parallel")
>>> | no vignettes found
>>> |>   install.packages("parallel", type="source")
>>> | Installing package(s) into ?/Library/Frameworks/R.framework/library?
>>> | (as ?lib? is unspecified)
>>> | Warning: unable to access index for repository
>>> | http://cran.ch.r-project.org/src/contrib
>>> | Warning: unable to access index for repository
>>> | http://www.bioconductor.org/src/contrib
>>> | Warning message:
>>> | package ?parallel? is not available (for R version 2.15.0)
>>> |>
>>> `----
>>>
>>> What's wrong?
>>>
>>> Cheers,
>>>
>>> Marius
>>>
>>> PS: Dirk Eddelbuettel sent me the vignette off-list, I just would like to know
>>> how I could get it via 'vignette(package="parallel")'.
>>>
>>
>> Do you have the vignttes from grid, or the one from utils?
>
> Unfortunately not:
>
> ,----
> |>  require(grid)
> | Loading required package: grid
> |>  vignette(package="grid")
> | no vignettes found
> |>  require(utils)
> |>  vignette(package="utils")
> | no vignettes found
> |>
> `----
>
>> If not, you'll need to re-install R.  (I just installed the binary
>> R-2.15.0.pkg from CRAN, and didn't get those vignettes: so it looks like the
>> current binary isn't installing them.)
>
> I installed R from source:
>
> ,----
> | wget http://cran.r-project.org/src/base/R-2/R-2.15.0.tar.gz
> | tar -xzf R-2.15.0.tar.gz
> | cd R-2.15.0
> | ./configure
> | make
> | make check
> | make pdf
> | make info
> | sudo make install
> | sudo make install-info
> | sudo make install-pdf
> `----
>
> Do I need to do anything additionally to get the vignettes?

I don't usually build on a Mac, but there is a make target called 
"vignettes", so perhaps you need to explicitly make that.

Duncan Murdoch


From john.maindonald at anu.edu.au  Wed Apr 18 03:51:42 2012
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Wed, 18 Apr 2012 11:51:42 +1000
Subject: [R-SIG-Mac] xmlTreeParse
Message-ID: <8C436922-9A1B-4C07-B1FF-47E148393BFD@anu.edu.au>

I am looking for clues on getting xmlTreeParse(), from the XML package,
working under Lion.  The help page has the note:
'Make sure that the necessary 3rd party libraries are available.'

I take it that these are the libraries that are noted at:
http://www.explain.com.au/oss/libxml2xslt.html

The page does not have any details for anything past Leopard.  Any
comments on what is needed for Lion will be helpful.  I'd been hoping
to run the code for the function wikiStat() that is given at:
http://expansed.com/2011/08/visualising-wikipedia-search-statistics-with-r/

I will be grateful for any clues.

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.
http://www.maths.anu.edu.au/~johnm


From simon.urbanek at r-project.org  Wed Apr 18 04:10:58 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 17 Apr 2012 22:10:58 -0400
Subject: [R-SIG-Mac] xmlTreeParse
In-Reply-To: <8C436922-9A1B-4C07-B1FF-47E148393BFD@anu.edu.au>
References: <8C436922-9A1B-4C07-B1FF-47E148393BFD@anu.edu.au>
Message-ID: <9EB20D8A-8430-483C-8620-F3DC24EB68D0@r-project.org>

John,

what's wrong with
install.packages("XML")
library(XML)
It works just fine on Lion ...

Cheers,
Simon


On Apr 17, 2012, at 9:51 PM, John Maindonald wrote:

> I am looking for clues on getting xmlTreeParse(), from the XML package,
> working under Lion.  The help page has the note:
> 'Make sure that the necessary 3rd party libraries are available.'
> 
> I take it that these are the libraries that are noted at:
> http://www.explain.com.au/oss/libxml2xslt.html
> 
> The page does not have any details for anything past Leopard.  Any
> comments on what is needed for Lion will be helpful.  I'd been hoping
> to run the code for the function wikiStat() that is given at:
> http://expansed.com/2011/08/visualising-wikipedia-search-statistics-with-r/
> 
> I will be grateful for any clues.
> 
> John Maindonald             email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
> Centre for Mathematics & Its Applications, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
> http://www.maths.anu.edu.au/~johnm
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
>


From john.maindonald at anu.edu.au  Wed Apr 18 06:31:10 2012
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Wed, 18 Apr 2012 14:31:10 +1000
Subject: [R-SIG-Mac] xmlTreeParse
In-Reply-To: <9EB20D8A-8430-483C-8620-F3DC24EB68D0@r-project.org>
References: <8C436922-9A1B-4C07-B1FF-47E148393BFD@anu.edu.au>
	<9EB20D8A-8430-483C-8620-F3DC24EB68D0@r-project.org>
Message-ID: <C2B0026B-8E33-470C-BFBA-B692D20A4711@anu.edu.au>

Thanks, Simon.

XML installs just fine.  The problem comes when I do:
[R version 2.15.0 (2012-03-30)]

> > library(XML)
> > url <- "http://stats.grok.se/en/201204/Financial_crisis"
> wikitree <- xmlTreeParse(url, useInternalNodes=T)
> url <- "http://stats.grok.se/en/201204/Financial_crisis"
> > wikitree <- xmlTreeParse(url, useInternalNodes=T)
> AttValue: " or ' expected
> attributes construct error
> Couldn't find end of Start Tag link line 11
> Opening and ending tag mismatch: hr line 57 and body
> Opening and ending tag mismatch: body line 48 and html
> Premature end of data in tag html line 3
> Error: 1: AttValue: " or ' expected
> 2: attributes construct error
> 3: Couldn't find end of Start Tag link line 11
> 4: Opening and ending tag mismatch: hr line 57 and body
> 5: Opening and ending tag mismatch: body line 48 and html
> 6: Premature end of data in tag html line 3

This pinpoints the error that I get when I try to run the function wikiStat() from:
http://expansed.com/2011/08/visualising-wikipedia-search-statistics-with-r/

> critraffic <- wikiStat("Financial_crisis", monback = 40)
> Loading required package: mondate
> 
> Attaching package: 'mondate'
> 
> The following object(s) are masked from 'package:base':
> 
>     cbind, rbind
> 
> AttValue: " or ' expected
> attributes construct error
> Couldn't find end of Start Tag link line 11
> Opening and ending tag mismatch: hr line 57 and body
> Opening and ending tag mismatch: body line 48 and html
> Premature end of data in tag html line 3
> Error: 1: AttValue: " or ' expected
> 2: attributes construct error
> 3: Couldn't find end of Start Tag link line 11
> 4: Opening and ending tag mismatch: hr line 57 and body
> 5: Opening and ending tag mismatch: body line 48 and html
> 6: Premature end of data in tag html line 3


I can use Safari to access the url
http://stats.grok.se/en/201204/Financial_crisis
without problem.

Incidentally, I get the same result under Windows 7 (R-2.14.2 or R-2.15.0).
If I am right in thinking that I have to sort out issues of 3rd party libraries to get the
function to run, I prefer to do this for OS 10.7.x, if at all possible.

It is of course possible that there has been some change at the url since wikiStat()
was posted, of which I need to take account.

NB also a later article that uses this function:
http://expansed.com/2011/08/r-popularity-steady-growth-and-new-york-times/
( ar <- wikiStat("R_(programming_language)", monback = 45, lang= 'en') )

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.
http://www.maths.anu.edu.au/~johnm

On 18/04/2012, at 12:10 PM, Simon Urbanek wrote:

> John,
> 
> what's wrong with
> install.packages("XML")
> library(XML)
> It works just fine on Lion ...
> 
> Cheers,
> Simon
> 
> 
> On Apr 17, 2012, at 9:51 PM, John Maindonald wrote:
> 
>> I am looking for clues on getting xmlTreeParse(), from the XML package,
>> working under Lion.  The help page has the note:
>> 'Make sure that the necessary 3rd party libraries are available.'
>> 
>> I take it that these are the libraries that are noted at:
>> http://www.explain.com.au/oss/libxml2xslt.html
>> 
>> The page does not have any details for anything past Leopard.  Any
>> comments on what is needed for Lion will be helpful.  I'd been hoping
>> to run the code for the function wikiStat() that is given at:
>> http://expansed.com/2011/08/visualising-wikipedia-search-statistics-with-r/
>> 
>> I will be grateful for any clues.
>> 
>> John Maindonald             email: john.maindonald at anu.edu.au
>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>> Centre for Mathematics & Its Applications, Room 1194,
>> John Dedman Mathematical Sciences Building (Building 27)
>> Australian National University, Canberra ACT 0200.
>> http://www.maths.anu.edu.au/~johnm
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 


From hbeale at gmail.com  Wed Apr 18 22:48:58 2012
From: hbeale at gmail.com (holly beale)
Date: Wed, 18 Apr 2012 16:48:58 -0400
Subject: [R-SIG-Mac] block selection
Message-ID: <CAKv7XV4w0wDkzjCCoag6-hOXg6iXSc=R_XF+f3iop_6SL1BjTQ@mail.gmail.com>

Hi all --

I don't seem to be able to copy blocks of text from R.app anymore. In
the past, I was able to hold down the alt/option key while I selected
a column of text with the mouse. Now the selection reverts to a single
line when I release the mouse.

I'm using R version 2.15.0 (2012-03-30) GUI build 1.51 on OSX 10.6.8.

Thanks in advance for any input, suggestions or confirmation. And
thanks as always to the folks who keep improving R.app.

Holly


From dwinsemius at comcast.net  Thu Apr 19 00:11:13 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 18 Apr 2012 18:11:13 -0400
Subject: [R-SIG-Mac] block selection
In-Reply-To: <CAKv7XV4w0wDkzjCCoag6-hOXg6iXSc=R_XF+f3iop_6SL1BjTQ@mail.gmail.com>
References: <CAKv7XV4w0wDkzjCCoag6-hOXg6iXSc=R_XF+f3iop_6SL1BjTQ@mail.gmail.com>
Message-ID: <474C6C48-5F5D-461F-AFA7-DE7C36B03AB5@comcast.net>


On Apr 18, 2012, at 4:48 PM, holly beale wrote:

> Hi all --
>
> I don't seem to be able to copy blocks of text from R.app anymore. In
> the past, I was able to hold down the alt/option key while I selected
> a column of text with the mouse. Now the selection reverts to a single
> line when I release the mouse.
>
> I'm using R version 2.15.0 (2012-03-30) GUI build 1.51 on OSX 10.6.8.
>
> Thanks in advance for any input, suggestions or confirmation. And
> thanks as always to the folks who keep improving R.app.

I noticed the same disappointing change in GUI console behavior. I  
used to be able to select the leftmost column that had all the ">"'s  
and "+"'s from copied console output, hit <delete>, and get good code.  
Now I either need to use an editor window or a bunch of keystrokes.

-- 
David Winsemius, MD
West Hartford, CT

[R.app GUI 1.51 (6143) x86_64-apple-darwin9.8.0]

sessionInfo()
R version 2.14.2 (2012-02-29)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] splines   stats     grDevices utils     datasets  graphics   
methods   base

other attached packages:
[1] rms_3.4-0        Hmisc_3.9-2      survival_2.36-12  
sos_1.3-1        brew_1.0-6       lattice_0.20-0

loaded via a namespace (and not attached):
[1] cluster_1.14.2 grid_2.14.2    tools_2.14.2


From yang8898 at gmail.com  Fri Apr 20 09:20:39 2012
From: yang8898 at gmail.com (YANG Zhenzeng)
Date: Fri, 20 Apr 2012 15:20:39 +0800
Subject: [R-SIG-Mac] Can R 2.15.0 run on mac with ppc (leopard 10.5.8)
Message-ID: <CALcgW4hMSWT-+DUBjzgoqops4e93oKBJ6hV5CXodwS-yd_5qWg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120420/d9ab8ae0/attachment.pl>

From mailinglist.honeypot at gmail.com  Fri Apr 20 15:13:22 2012
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Fri, 20 Apr 2012 09:13:22 -0400
Subject: [R-SIG-Mac] Can R 2.15.0 run on mac with ppc (leopard 10.5.8)
In-Reply-To: <CALcgW4hMSWT-+DUBjzgoqops4e93oKBJ6hV5CXodwS-yd_5qWg@mail.gmail.com>
References: <CALcgW4hMSWT-+DUBjzgoqops4e93oKBJ6hV5CXodwS-yd_5qWg@mail.gmail.com>
Message-ID: <CAHA9McNr+n+w8=demzHNZdumMD394_z_edyPVw=B7iW9=6pPEA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120420/f2219ebf/attachment.pl>

From mailinglist.honeypot at gmail.com  Fri Apr 20 18:24:39 2012
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Fri, 20 Apr 2012 12:24:39 -0400
Subject: [R-SIG-Mac] Can R 2.15.0 run on mac with ppc (leopard 10.5.8)
In-Reply-To: <CALcgW4jxVmTNL=jPwcnxffF2TwANWSfHjCHz2H_NBA28WsWjVQ@mail.gmail.com>
References: <CALcgW4hMSWT-+DUBjzgoqops4e93oKBJ6hV5CXodwS-yd_5qWg@mail.gmail.com>
	<CAHA9McNr+n+w8=demzHNZdumMD394_z_edyPVw=B7iW9=6pPEA@mail.gmail.com>
	<CALcgW4jxVmTNL=jPwcnxffF2TwANWSfHjCHz2H_NBA28WsWjVQ@mail.gmail.com>
Message-ID: <CAHA9McOyOXcSaJQx=-TJGWVv72qb8s919HRzDsTaa6-T-9V_Pw@mail.gmail.com>

Hi Yang,

Please be sure to cc the list when replying to emails so more people
will be able to help:

2012/4/20 YANG Zhenzeng <yang8898 at gmail.com>:
> Thanks,? it happens when I run from R. App.?? P. S.? I am using Chinese
> interface.

Does that mean it doesn't crash when you run from the terminal? If you
haven't done so, try it out and see.

-steve

-- 
Steve Lianoglou
Graduate Student: Computational Systems Biology
?| Memorial Sloan-Kettering Cancer Center
?| Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From simon.urbanek at r-project.org  Fri Apr 20 18:58:18 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 20 Apr 2012 12:58:18 -0400
Subject: [R-SIG-Mac] xmlTreeParse
In-Reply-To: <C2B0026B-8E33-470C-BFBA-B692D20A4711@anu.edu.au>
References: <8C436922-9A1B-4C07-B1FF-47E148393BFD@anu.edu.au>
	<9EB20D8A-8430-483C-8620-F3DC24EB68D0@r-project.org>
	<C2B0026B-8E33-470C-BFBA-B692D20A4711@anu.edu.au>
Message-ID: <B4993BAC-AD97-4138-8303-B136C0A3B4B1@r-project.org>


On Apr 18, 2012, at 12:31 AM, John Maindonald wrote:

> Thanks, Simon.
> 
> XML installs just fine.  The problem comes when I do:
> [R version 2.15.0 (2012-03-30)]
> 
>>> library(XML)
>>> url <- "http://stats.grok.se/en/201204/Financial_crisis"
>> wikitree <- xmlTreeParse(url, useInternalNodes=T)
>> url <- "http://stats.grok.se/en/201204/Financial_crisis"
>>> wikitree <- xmlTreeParse(url, useInternalNodes=T)
>> AttValue: " or ' expected
>> attributes construct error
>> Couldn't find end of Start Tag link line 11
>> Opening and ending tag mismatch: hr line 57 and body
>> Opening and ending tag mismatch: body line 48 and html
>> Premature end of data in tag html line 3
>> Error: 1: AttValue: " or ' expected
>> 2: attributes construct error
>> 3: Couldn't find end of Start Tag link line 11
>> 4: Opening and ending tag mismatch: hr line 57 and body
>> 5: Opening and ending tag mismatch: body line 48 and html
>> 6: Premature end of data in tag html line 3
> 
> This pinpoints the error that I get when I try to run the function wikiStat() from:
> http://expansed.com/2011/08/visualising-wikipedia-search-statistics-with-r/
> 

The problem is that the data source has changed so the page is no longer in XML format so you can't parse it as XML. It is a HTML page so there is not much useful you can do with it from R -- there are separate URLs for data formats.

Cheers,
Simon


>> critraffic <- wikiStat("Financial_crisis", monback = 40)
>> Loading required package: mondate
>> 
>> Attaching package: 'mondate'
>> 
>> The following object(s) are masked from 'package:base':
>> 
>>    cbind, rbind
>> 
>> AttValue: " or ' expected
>> attributes construct error
>> Couldn't find end of Start Tag link line 11
>> Opening and ending tag mismatch: hr line 57 and body
>> Opening and ending tag mismatch: body line 48 and html
>> Premature end of data in tag html line 3
>> Error: 1: AttValue: " or ' expected
>> 2: attributes construct error
>> 3: Couldn't find end of Start Tag link line 11
>> 4: Opening and ending tag mismatch: hr line 57 and body
>> 5: Opening and ending tag mismatch: body line 48 and html
>> 6: Premature end of data in tag html line 3
> 
> 
> I can use Safari to access the url
> http://stats.grok.se/en/201204/Financial_crisis
> without problem.
> 
> Incidentally, I get the same result under Windows 7 (R-2.14.2 or R-2.15.0).
> If I am right in thinking that I have to sort out issues of 3rd party libraries to get the
> function to run, I prefer to do this for OS 10.7.x, if at all possible.
> 
> It is of course possible that there has been some change at the url since wikiStat()
> was posted, of which I need to take account.
> 
> NB also a later article that uses this function:
> http://expansed.com/2011/08/r-popularity-steady-growth-and-new-york-times/
> ( ar <- wikiStat("R_(programming_language)", monback = 45, lang= 'en') )
> 
> John Maindonald             email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
> Centre for Mathematics & Its Applications, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
> http://www.maths.anu.edu.au/~johnm
> 
> On 18/04/2012, at 12:10 PM, Simon Urbanek wrote:
> 
>> John,
>> 
>> what's wrong with
>> install.packages("XML")
>> library(XML)
>> It works just fine on Lion ...
>> 
>> Cheers,
>> Simon
>> 
>> 
>> On Apr 17, 2012, at 9:51 PM, John Maindonald wrote:
>> 
>>> I am looking for clues on getting xmlTreeParse(), from the XML package,
>>> working under Lion.  The help page has the note:
>>> 'Make sure that the necessary 3rd party libraries are available.'
>>> 
>>> I take it that these are the libraries that are noted at:
>>> http://www.explain.com.au/oss/libxml2xslt.html
>>> 
>>> The page does not have any details for anything past Leopard.  Any
>>> comments on what is needed for Lion will be helpful.  I'd been hoping
>>> to run the code for the function wikiStat() that is given at:
>>> http://expansed.com/2011/08/visualising-wikipedia-search-statistics-with-r/
>>> 
>>> I will be grateful for any clues.
>>> 
>>> John Maindonald             email: john.maindonald at anu.edu.au
>>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>>> Centre for Mathematics & Its Applications, Room 1194,
>>> John Dedman Mathematical Sciences Building (Building 27)
>>> Australian National University, Canberra ACT 0200.
>>> http://www.maths.anu.edu.au/~johnm
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
> 
> 


From bugreport19621012 at fastmail.fm  Fri Apr 20 20:59:30 2012
From: bugreport19621012 at fastmail.fm (bugreport19621012 at fastmail.fm)
Date: Fri, 20 Apr 2012 14:59:30 -0400 (EDT)
Subject: [R-SIG-Mac] =?iso-8859-7?q?configuration_failed_for_package_=A1rJ?=
	=?iso-8859-7?q?ava=A2?=
Message-ID: <alpine.OSX.2.01.1204201458220.21641@qqt.local>


I am on a Mac Lion.  sessionInfo() is below my signature.

I attempted to install GGally and its dependencies. This led to the following error:

ERROR: configuration failed for package ?rJava?

and the following piece of advice:

Make sure you have Java Development Kit installed and correctly registered in R.
If in doubt, re-run "R CMD javareconf" as root.

So I ran "R CMD javareconf" as root. This seemed to work fine:

BEGIN QUOTE

/Volumes/spin/SoftwareDownload/R> whoami
root
/Volumes/spin/SoftwareDownload/R> R CMD javareconf
Java interpreter : /usr/bin/java
Java version     : 1.6.0_31
Java home path   :
/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home
Java compiler    : /usr/bin/javac
Java headers gen.: /usr/bin/javah
Java archive tool: /usr/bin/jar
Java library path: 
JNI linker flags : -framework JavaVM
JNI cpp flags    : -I$(JAVA_HOME)/include

Updating Java configuration in /Library/Frameworks/R.framework/Resources
Done.

END QUOTE

I closed and reopened R and again attempted

install.packages("rJava", type="source")

since the binary is not available for Mac. But this returned the same error as before.

What am I doing wrong?

Jacob A. Wegelin
Assistant Professor
Department of Biostatistics
Virginia Commonwealth University
830 E. Main St., Seventh Floor
P. O. Box 980032
Richmond VA 23298-0032
U.S.A.

> sessionInfo()
R version 2.14.2 Patched (2012-02-29 r58604)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] psych_1.1.11 tools_2.14.2
>

From simon.urbanek at r-project.org  Fri Apr 20 22:27:19 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 20 Apr 2012 16:27:19 -0400
Subject: [R-SIG-Mac]
 =?windows-1252?q?configuration_failed_for_package_=91?=
 =?windows-1252?q?rJava=92?=
In-Reply-To: <alpine.OSX.2.01.1204201458220.21641@qqt.local>
References: <alpine.OSX.2.01.1204201458220.21641@qqt.local>
Message-ID: <C129802B-7AB3-40A0-89E4-CD8AF5E14E15@r-project.org>


On Apr 20, 2012, at 2:59 PM, bugreport19621012 at fastmail.fm wrote:

> 
> I am on a Mac Lion.  sessionInfo() is below my signature.
> 
> I attempted to install GGally and its dependencies. This led to the following error:
> 
> ERROR: configuration failed for package ?rJava?
> 
> and the following piece of advice:
> 
> Make sure you have Java Development Kit installed and correctly registered in R.
> If in doubt, re-run "R CMD javareconf" as root.
> 
> So I ran "R CMD javareconf" as root. This seemed to work fine:
> 
> BEGIN QUOTE
> 
> /Volumes/spin/SoftwareDownload/R> whoami
> root
> /Volumes/spin/SoftwareDownload/R> R CMD javareconf
> Java interpreter : /usr/bin/java
> Java version     : 1.6.0_31
> Java home path   :
> /System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home
> Java compiler    : /usr/bin/javac
> Java headers gen.: /usr/bin/javah
> Java archive tool: /usr/bin/jar
> Java library path: JNI linker flags : -framework JavaVM
> JNI cpp flags    : -I$(JAVA_HOME)/include
> 
> Updating Java configuration in /Library/Frameworks/R.framework/Resources
> Done.
> 
> END QUOTE
> 
> I closed and reopened R and again attempted
> 
> install.packages("rJava", type="source")
> 
> since the binary is not available for Mac.

That is not true - it is available on CRAN:

http://cran.r-project.org/bin/macosx/leopard/contrib/2.15/rJava_0.9-3.tgz
http://cran.r-project.org/bin/macosx/leopard/contrib/2.14/rJava_0.9-3.tgz

are you using some incomplete mirror?


> But this returned the same error as before.
> 
> What am I doing wrong?
> 

Make sure you have Java Developer package installed.
On Lion Apple no longer includes headers in the JVM home, so you have to set JAVA_CPPFLAGS to point inside the JavaVM framework:

JAVA_CPPFLAGS=-I/System/Library/Frameworks/JavaVM.framework/Headers R CMD javareconf

That said, I'd still recommend you use the binary.

Cheers,
Simon



> Jacob A. Wegelin
> Assistant Professor
> Department of Biostatistics
> Virginia Commonwealth University
> 830 E. Main St., Seventh Floor
> P. O. Box 980032
> Richmond VA 23298-0032
> U.S.A.
> 
>> sessionInfo()
> R version 2.14.2 Patched (2012-02-29 r58604)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> loaded via a namespace (and not attached):
> [1] psych_1.1.11 tools_2.14.2
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From e0305992 at student.tuwien.ac.at  Fri Apr 20 23:05:07 2012
From: e0305992 at student.tuwien.ac.at (Alexander Braumann)
Date: Fri, 20 Apr 2012 23:05:07 +0200
Subject: [R-SIG-Mac] R-SIG-Mac Digest, Vol 110, Issue 22
In-Reply-To: <mailman.25.1334916008.12681.r-sig-mac@r-project.org>
References: <mailman.25.1334916008.12681.r-sig-mac@r-project.org>
Message-ID: <4F91CF83.4010603@student.tuwien.ac.at>

I run R 2.15 on my power pc G4 laptop (mac os 10.5.x) but not with the 
R.app GUI. The last version of R that came with a functioning R.app for 
ppc was 2.12.2.

Now I use Aquamacs + ESS (which is included in Aquamacs I think) and I 
don't expect the bug which you described to be fixed any more.

It took me a day to learn Emacs and ESS. I'm really satisfied with this 
solution.


Alexander Braumann,
Technical University of Vienna


On 04/20/12 12:00, r-sig-mac-request at r-project.org wrote:
> Send R-SIG-Mac mailing list submissions to
> 	r-sig-mac at r-project.org
>
> To subscribe or unsubscribe via the World Wide Web, visit
> 	https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> or, via email, send a message with subject or body 'help' to
> 	r-sig-mac-request at r-project.org
>
> You can reach the person managing the list at
> 	r-sig-mac-owner at r-project.org
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of R-SIG-Mac digest..."
>
>
> Today's Topics:
>
>     1.  Can R 2.15.0 run on mac with ppc (leopard 10.5.8) (YANG Zhenzeng)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Fri, 20 Apr 2012 15:20:39 +0800
> From: YANG Zhenzeng<yang8898 at gmail.com>
> To: r-sig-mac at r-project.org
> Subject: [R-SIG-Mac] Can R 2.15.0 run on mac with ppc (leopard 10.5.8)
> Message-ID:
> 	<CALcgW4hMSWT-+DUBjzgoqops4e93oKBJ6hV5CXodwS-yd_5qWg at mail.gmail.com>
> Content-Type: text/plain
>
> I installed R 2.15.0 on my old mac (powerbook g4, ppc, leopard 10.5.8), but
> when I input an incorrect command, plott() for example, it freezes and must
> be forced to quit.
>
> so can it run on a mac with ppc?
>
> YANG Zhen-zeng (Ph.D.)
> Economics School, Tianjin University of Finance and Economics.
>
> 	[[alternative HTML version deleted]]
>
>
>
> ------------------------------
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
> End of R-SIG-Mac Digest, Vol 110, Issue 22
> ******************************************


From yang8898 at gmail.com  Sat Apr 21 01:47:33 2012
From: yang8898 at gmail.com (YANG Zhenzeng)
Date: Sat, 21 Apr 2012 07:47:33 +0800
Subject: [R-SIG-Mac] Can R 2.15.0 run on mac with ppc (leopard 10.5.8)
In-Reply-To: <CAHA9McOyOXcSaJQx=-TJGWVv72qb8s919HRzDsTaa6-T-9V_Pw@mail.gmail.com>
References: <CALcgW4hMSWT-+DUBjzgoqops4e93oKBJ6hV5CXodwS-yd_5qWg@mail.gmail.com>
	<CAHA9McNr+n+w8=demzHNZdumMD394_z_edyPVw=B7iW9=6pPEA@mail.gmail.com>
	<CALcgW4jxVmTNL=jPwcnxffF2TwANWSfHjCHz2H_NBA28WsWjVQ@mail.gmail.com>
	<CAHA9McOyOXcSaJQx=-TJGWVv72qb8s919HRzDsTaa6-T-9V_Pw@mail.gmail.com>
Message-ID: <CALcgW4jcU-tyHg1jTsAW3UTE=NVS72tVmYRBuXv3n1fL46SQGg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120421/b67c4a00/attachment.pl>

From yang8898 at gmail.com  Sat Apr 21 01:54:16 2012
From: yang8898 at gmail.com (YANG Zhenzeng)
Date: Sat, 21 Apr 2012 07:54:16 +0800
Subject: [R-SIG-Mac] R-SIG-Mac Digest, Vol 110, Issue 22
In-Reply-To: <4F91CF83.4010603@student.tuwien.ac.at>
References: <mailman.25.1334916008.12681.r-sig-mac@r-project.org>
	<4F91CF83.4010603@student.tuwien.ac.at>
Message-ID: <CALcgW4i6KLwdRx_0X42XsePKj45GBFUv9kV9X5Vub=JawpwAvQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120421/3f2a7c02/attachment.pl>

From marius.hofert at math.ethz.ch  Sun Apr 22 20:01:14 2012
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Sun, 22 Apr 2012 20:01:14 +0200
Subject: [R-SIG-Mac] digest.so not found
Message-ID: <m2bomjsl1x.fsf@80-218-244-59.dclient.hispeed.ch>

Dear Mac expeRts,

I'm working with R-2.15.0 on Mac OS X 10.7.3. I need to install the development
version of ggplot2. This can be done as follows (note that actually some more
things are required, see https://gist.github.com/1150934, but that doesn't play a role here):

,----
| require(devtools)
| dev_mode(TRUE)
| install_github("scales")
| install_github("ggplot2")
`----

When installing ggplot2 (executing the last line), I obtain...

,----
| ...
| * installing *source* package ?ggplot2? ...
| ** R
| ** data
| **  moving datasets to lazyload DB
| ** inst
| ** preparing package for lazy loading
| Error in library.dynam(lib, package, package.lib) : 
|   shared object ?digest.so? not found
| ERROR: lazy loading failed for package ?ggplot2?
| * removing ?/Users/mhofert/R-dev/ggplot2?
| * restoring previous ?/Users/mhofert/R-dev/ggplot2?
| Error: Command failed (1)
`----

... although the R package digest is installed and locate gave:
/Library/Frameworks/R.framework/library/digest/libs/digest.so
/usr/libexec/apache2/mod_auth_digest.so

Apparently, I'm not alone:
https://github.com/johnmyleswhite/ML_for_Hackers/issues/5

How can I solve this?

Cheers,

Marius


From marius.hofert at math.ethz.ch  Sun Apr 22 23:13:48 2012
From: marius.hofert at math.ethz.ch (Marius Hofert)
Date: Sun, 22 Apr 2012 23:13:48 +0200
Subject: [R-SIG-Mac] digest.so not found
In-Reply-To: <m2bomjsl1x.fsf@80-218-244-59.dclient.hispeed.ch>
References: <m2bomjsl1x.fsf@80-218-244-59.dclient.hispeed.ch>
Message-ID: <96A0D99D-3949-43E3-9F71-F930537E0A52@math.ethz.ch>

Okay, solved. I had to create a symbolic link from ~/R-dev/digest to /Library/Frameworks/R.framework/library so that it was found.

Cheers,

Marius


On 2012-04-22, at 20:01 , Marius Hofert wrote:

> Dear Mac expeRts,
> 
> I'm working with R-2.15.0 on Mac OS X 10.7.3. I need to install the development
> version of ggplot2. This can be done as follows (note that actually some more
> things are required, see https://gist.github.com/1150934, but that doesn't play a role here):
> 
> ,----
> | require(devtools)
> | dev_mode(TRUE)
> | install_github("scales")
> | install_github("ggplot2")
> `----
> 
> When installing ggplot2 (executing the last line), I obtain...
> 
> ,----
> | ...
> | * installing *source* package ?ggplot2? ...
> | ** R
> | ** data
> | **  moving datasets to lazyload DB
> | ** inst
> | ** preparing package for lazy loading
> | Error in library.dynam(lib, package, package.lib) : 
> |   shared object ?digest.so? not found
> | ERROR: lazy loading failed for package ?ggplot2?
> | * removing ?/Users/mhofert/R-dev/ggplot2?
> | * restoring previous ?/Users/mhofert/R-dev/ggplot2?
> | Error: Command failed (1)
> `----
> 
> ... although the R package digest is installed and locate gave:
> /Library/Frameworks/R.framework/library/digest/libs/digest.so
> /usr/libexec/apache2/mod_auth_digest.so
> 
> Apparently, I'm not alone:
> https://github.com/johnmyleswhite/ML_for_Hackers/issues/5
> 
> How can I solve this?
> 
> Cheers,
> 
> Marius
> 


From day01 at pitt.edu  Mon Apr 23 20:00:48 2012
From: day01 at pitt.edu (Day, Roger S)
Date: Mon, 23 Apr 2012 14:00:48 -0400
Subject: [R-SIG-Mac]  troubles with tkrplot
Message-ID: <43404D65-8359-4FE8-A27B-5F357F404C98@pitt.edu>

**** Let me give this another try. Still a problem with 2.14.2 ***

Problems with tcl/tk, tkrplot etc, running R.app or R on Lion :


Running the example from tkrplot,
dozens of error messages are generated of the form
1: In plot.xy(xy, type, ...) :
 X11 protocol error: BadMatch (invalid parameter attributes)
2: In plot.xy(xy, type, ...) :
 X11 protocol error: BadMatch (invalid parameter attributes)
3: In axis(side = side, at = at, labels = labels, ...) :
 X11 protocol error: BadMatch (invalid parameter attributes)
etcetera.

My work with tcltk was dormant for a long time ... over a year.
I don't remember these messages before.  Makes me suspect Lion.
I've reinstalled R and tcltk;  no change.

X11 "about" shows "XQuartz 2.6.3 (xorg-server 1.10.3)".
I've tried installing XQuartz 2.7.1, but then R hangs on loading tcltk.
So I reset DISPLAY to ":0" or ":1", and X11 works fine but generates the error messages noted.

The tkrplot example code does work as it's supposed to - the plot updates as one resets the slider -  despite the error messages.

But I want to understand what's happening...
and of course for my project, though it is working, I don't want these messages plaguing users.

Any advice?  Or redirect my question to another forum?
Thanks for any help!

platform       x86_64-apple-darwin9.8.0     
arch           x86_64                       
os             darwin9.8.0                  
system         x86_64, darwin9.8.0          
status                                      
major          2                            
minor          14.0                         
year           2011                         
month          10                           
day            31                           
svn rev        57496                        
language       R                            
version.string R version 2.14.0 (2011-10-31)


Roger Day
University of Pittsburgh Departments of Biomedical Informatics and  
Biostatistics
University of Pittsburgh Cancer Institute
-----------------------------------------------------
Room 310, Suite 301
Cancer Pavilion (CNPAV)
5150 Centre Ave.
Pittsburgh, PA 15232
e-mail:  day01 at pitt.edu
cell phone 412-609-3918
assistant:
   Nova Smith:       (412) 623-8382

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From joran.elias at gmail.com  Tue Apr 24 22:24:35 2012
From: joran.elias at gmail.com (Joran Elias)
Date: Tue, 24 Apr 2012 13:24:35 -0700
Subject: [R-SIG-Mac] Unexpected behavior from sprintf()
Message-ID: <CALdbFF5uyz9wrUKFvoBOkZEcqYxd8X8PnC3rLByAfROWMcbuKQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120424/ac5b4d7a/attachment.pl>

From simon.urbanek at r-project.org  Tue Apr 24 23:12:52 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 24 Apr 2012 17:12:52 -0400
Subject: [R-SIG-Mac] Unexpected behavior from sprintf()
In-Reply-To: <CALdbFF5uyz9wrUKFvoBOkZEcqYxd8X8PnC3rLByAfROWMcbuKQ@mail.gmail.com>
References: <CALdbFF5uyz9wrUKFvoBOkZEcqYxd8X8PnC3rLByAfROWMcbuKQ@mail.gmail.com>
Message-ID: <9F7705AD-1919-4232-A9EC-5784A5317DE7@r-project.org>


On Apr 24, 2012, at 4:24 PM, Joran Elias wrote:

> I stumbled across this by accident from this StackOverflow question:
> 
> http://stackoverflow.com/q/10300325/324364
> 
> and a subsequent discussion in the StackOverflow R chat room:
> 
> http://chat.stackoverflow.com/transcript/message/3431991#3431991
> 
> The issue is the output from the following code:
> 
> sprintf('%05s',as.character(1:5))
> 
> It appears that when this is run in OS X in either 2.14.2 or 2.15.0, the
> output is:
> 
> [1] "00001" "00002" "00003" "00004" "00005"
> 
> whereas when it is run on other platforms (I saw examples from various
> Windows versions and one user on Ubuntu, all using 2.15.0 I believe) you
> get:
> 
> [1] "    1" "    2" "    3" "    4" "    5"
> 
> There was some uncertainty as to which behavior is "expected".

The behavior of "%0s" is undefined -- this is documented both by R and POSIX (arguably more clearly in the latter), so any behavior should be expected.


> Does anyone
> have any insight into which behavior is "correct" and whether this is a bug
> or not?
> 

It is not a bug. The formatting is done by the OS, so the results are always OS-dependent -- since %0s is undefined, the OS can choose to interpret it any way it wants.

Cheers,
Simon


From joran.elias at gmail.com  Tue Apr 24 23:24:45 2012
From: joran.elias at gmail.com (Joran Elias)
Date: Tue, 24 Apr 2012 14:24:45 -0700
Subject: [R-SIG-Mac] Unexpected behavior from sprintf()
In-Reply-To: <9F7705AD-1919-4232-A9EC-5784A5317DE7@r-project.org>
References: <CALdbFF5uyz9wrUKFvoBOkZEcqYxd8X8PnC3rLByAfROWMcbuKQ@mail.gmail.com>
	<9F7705AD-1919-4232-A9EC-5784A5317DE7@r-project.org>
Message-ID: <CALdbFF6ySAz1e05FksjORqV4UWzC-5opVPCNCsaCSfG4A4c9zA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120424/d926e223/attachment.pl>

From murdoch.duncan at gmail.com  Wed Apr 25 00:07:15 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 24 Apr 2012 18:07:15 -0400
Subject: [R-SIG-Mac] Unexpected behavior from sprintf()
In-Reply-To: <CALdbFF5uyz9wrUKFvoBOkZEcqYxd8X8PnC3rLByAfROWMcbuKQ@mail.gmail.com>
References: <CALdbFF5uyz9wrUKFvoBOkZEcqYxd8X8PnC3rLByAfROWMcbuKQ@mail.gmail.com>
Message-ID: <4F972413.2020906@gmail.com>

On 12-04-24 4:24 PM, Joran Elias wrote:
> I stumbled across this by accident from this StackOverflow question:
>
> http://stackoverflow.com/q/10300325/324364
>
> and a subsequent discussion in the StackOverflow R chat room:
>
> http://chat.stackoverflow.com/transcript/message/3431991#3431991
>
> The issue is the output from the following code:
>
> sprintf('%05s',as.character(1:5))
>
> It appears that when this is run in OS X in either 2.14.2 or 2.15.0, the
> output is:
>
> [1] "00001" "00002" "00003" "00004" "00005"
>
> whereas when it is run on other platforms (I saw examples from various
> Windows versions and one user on Ubuntu, all using 2.15.0 I believe) you
> get:
>
> [1] "    1" "    2" "    3" "    4" "    5"
>
> There was some uncertainty as to which behavior is "expected". Does anyone
> have any insight into which behavior is "correct" and whether this is a bug
> or not?

I would say it's probably user-error:  the docs don't say what that 
should do.   Numeric formats would pad with zeros, but I don't think it 
says what would happen if you ask for zero padding on a string.

In any case, R just passes a format like that to the C printf function. 
  So if it's a bug, it's in the C run-time, not in R.

Duncan

>
> - Joran
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dwinsemius at comcast.net  Wed Apr 25 00:20:37 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 24 Apr 2012 18:20:37 -0400
Subject: [R-SIG-Mac] Unexpected behavior from sprintf()
In-Reply-To: <4F972413.2020906@gmail.com>
References: <CALdbFF5uyz9wrUKFvoBOkZEcqYxd8X8PnC3rLByAfROWMcbuKQ@mail.gmail.com>
	<4F972413.2020906@gmail.com>
Message-ID: <F8C2421C-826D-4FA6-9363-FCF23115D66D@comcast.net>


On Apr 24, 2012, at 6:07 PM, Duncan Murdoch wrote:

> On 12-04-24 4:24 PM, Joran Elias wrote:
>> I stumbled across this by accident from this StackOverflow question:
>>
>> http://stackoverflow.com/q/10300325/324364
>>
>> and a subsequent discussion in the StackOverflow R chat room:
>>
>> http://chat.stackoverflow.com/transcript/message/3431991#3431991
>>
>> The issue is the output from the following code:
>>
>> sprintf('%05s',as.character(1:5))
>>
>> It appears that when this is run in OS X in either 2.14.2 or  
>> 2.15.0, the
>> output is:
>>
>> [1] "00001" "00002" "00003" "00004" "00005"
>>
>> whereas when it is run on other platforms (I saw examples from  
>> various
>> Windows versions and one user on Ubuntu, all using 2.15.0 I  
>> believe) you
>> get:
>>
>> [1] "    1" "    2" "    3" "    4" "    5"
>>
>> There was some uncertainty as to which behavior is "expected". Does  
>> anyone
>> have any insight into which behavior is "correct" and whether this  
>> is a bug
>> or not?
>
> I would say it's probably user-error:  the docs don't say what that  
> should do.   Numeric formats would pad with zeros, but I don't think  
> it says what would happen if you ask for zero padding on a string.

The ?sprintf help page indicated that non-character R objects will get  
passed though `as.character` on their way to the system facility. In  
the case of a factor variable which has levels with numeric-coercible  
values, we Mac users get very sensible output. Likewise we get very  
sensible output from character vectors, and when a format of "05i" is  
used the fact that we get the numeric encoding for factors is likewise  
no surprise.

-- 

David.
>
> In any case, R just passes a format like that to the C printf  
> function.  So if it's a bug, it's in the C run-time, not in R.


>
> Duncan
>
>>
>> - Joran
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
West Hartford, CT


From mark.grimes at mso.umt.edu  Wed Apr 25 00:22:53 2012
From: mark.grimes at mso.umt.edu (Grimes Mark)
Date: Tue, 24 Apr 2012 16:22:53 -0600
Subject: [R-SIG-Mac] [R] rgl_0.92.879 package broke with R 2.15
In-Reply-To: <CAEomCDTrxBNOiP0=z9a3yCpBZfE9Y3LWo3AM6S4DZOTL_Cq-LA@mail.gmail.com>
References: <CAEomCDTrxBNOiP0=z9a3yCpBZfE9Y3LWo3AM6S4DZOTL_Cq-LA@mail.gmail.com>
Message-ID: <7465CEA4-E125-4BCA-BB9D-DC97ABDAB201@mso.umt.edu>

Holly

This from Duncan Murdoch is a workaround:

>> I've had some discussions offline with another user who had this  
>> problem.  For him, the workaround was to delete the aglrgl.so  
>> library (full path given in the error message).  This will cause  
>> rgl to fall back to using X11 for graphics.  It doesn't look as  
>> nice as the native window, but as long as you have X11 working, it  
>> should work.
>>
>> Duncan Murdoch
>

On Apr 23, 2012, at 2:54 PM, Holly Kindsvater wrote:

> Hello,
>
> I found your recent thread on fixing the "broken" rgl package in R  
> 2.15 so that one can use plot3d. The solution appears to be deleting  
> the aglrgl.so library. Can you tell me how to do this? I think that  
> it could be done from the command line using the path in the error  
> message, but so far I can't seem to get that to work.
>
> Thanks,
>
> Holly Kindsvater


From mark.grimes at mso.umt.edu  Wed Apr 25 00:24:59 2012
From: mark.grimes at mso.umt.edu (Grimes Mark)
Date: Tue, 24 Apr 2012 16:24:59 -0600
Subject: [R-SIG-Mac] [R] rgl_0.92.879 package broke with R 2.15
In-Reply-To: <CAEomCDTrxBNOiP0=z9a3yCpBZfE9Y3LWo3AM6S4DZOTL_Cq-LA@mail.gmail.com>
References: <CAEomCDTrxBNOiP0=z9a3yCpBZfE9Y3LWo3AM6S4DZOTL_Cq-LA@mail.gmail.com>
Message-ID: <654614FC-F084-40DB-9F6E-EE00236E51FE@mso.umt.edu>

Holley

Sorry, maybe I didn't answer your question.  I followed the path on  
the error message and found the offending file and removed it from  
that directory.  Is this the problem or that you did this and it still  
doesn't work?

Mark


On Apr 23, 2012, at 2:54 PM, Holly Kindsvater wrote:

> Hello,
>
> I found your recent thread on fixing the "broken" rgl package in R  
> 2.15 so that one can use plot3d. The solution appears to be deleting  
> the aglrgl.so library. Can you tell me how to do this? I think that  
> it could be done from the command line using the path in the error  
> message, but so far I can't seem to get that to work.
>
> Thanks,
>
> Holly Kindsvater


From murdoch.duncan at gmail.com  Wed Apr 25 00:44:59 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 24 Apr 2012 18:44:59 -0400
Subject: [R-SIG-Mac] Unexpected behavior from sprintf()
In-Reply-To: <F8C2421C-826D-4FA6-9363-FCF23115D66D@comcast.net>
References: <CALdbFF5uyz9wrUKFvoBOkZEcqYxd8X8PnC3rLByAfROWMcbuKQ@mail.gmail.com>
	<4F972413.2020906@gmail.com>
	<F8C2421C-826D-4FA6-9363-FCF23115D66D@comcast.net>
Message-ID: <4F972CEB.2030008@gmail.com>

On 12-04-24 6:20 PM, David Winsemius wrote:
>
> On Apr 24, 2012, at 6:07 PM, Duncan Murdoch wrote:
>
>> On 12-04-24 4:24 PM, Joran Elias wrote:
>>> I stumbled across this by accident from this StackOverflow question:
>>>
>>> http://stackoverflow.com/q/10300325/324364
>>>
>>> and a subsequent discussion in the StackOverflow R chat room:
>>>
>>> http://chat.stackoverflow.com/transcript/message/3431991#3431991
>>>
>>> The issue is the output from the following code:
>>>
>>> sprintf('%05s',as.character(1:5))
>>>
>>> It appears that when this is run in OS X in either 2.14.2 or
>>> 2.15.0, the
>>> output is:
>>>
>>> [1] "00001" "00002" "00003" "00004" "00005"
>>>
>>> whereas when it is run on other platforms (I saw examples from
>>> various
>>> Windows versions and one user on Ubuntu, all using 2.15.0 I
>>> believe) you
>>> get:
>>>
>>> [1] "    1" "    2" "    3" "    4" "    5"
>>>
>>> There was some uncertainty as to which behavior is "expected". Does
>>> anyone
>>> have any insight into which behavior is "correct" and whether this
>>> is a bug
>>> or not?
>>
>> I would say it's probably user-error:  the docs don't say what that
>> should do.   Numeric formats would pad with zeros, but I don't think
>> it says what would happen if you ask for zero padding on a string.
>
> The ?sprintf help page indicated that non-character R objects will get
> passed though `as.character` on their way to the system facility.

But those were character objects:  there was an explicit as.character(). 
  You get the same padding if you do

sprintf('%05s',letters[1:10])

i.e. 0 padding on OSX, blank padding on Windows.  (I haven't tried any 
others.)

Duncan Murdoch

In
> the case of a factor variable which has levels with numeric-coercible
> values, we Mac users get very sensible output. Likewise we get very
> sensible output from character vectors, and when a format of "05i" is
> used the fact that we get the numeric encoding for factors is likewise
> no surprise.
>


From simon.urbanek at r-project.org  Wed Apr 25 02:05:08 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 24 Apr 2012 20:05:08 -0400
Subject: [R-SIG-Mac] [R] rgl_0.92.879 package broke with R 2.15
In-Reply-To: <654614FC-F084-40DB-9F6E-EE00236E51FE@mso.umt.edu>
References: <CAEomCDTrxBNOiP0=z9a3yCpBZfE9Y3LWo3AM6S4DZOTL_Cq-LA@mail.gmail.com>
	<654614FC-F084-40DB-9F6E-EE00236E51FE@mso.umt.edu>
Message-ID: <A012FDDB-D085-4FFD-97DE-F8050714BACD@r-project.org>


On Apr 24, 2012, at 6:24 PM, Grimes Mark wrote:

> Holley
> 
> Sorry, maybe I didn't answer your question.  I followed the path on the error message and found the offending file and removed it from that directory.  Is this the problem or that you did this and it still doesn't work?
> 

What Holly said is that she can't find a way to delete the file. You can find the file with

system.file("libs",.Platform$r_arch,"aglrgl.so",package="rgl")

so you can remove it with

unlink(system.file("libs",.Platform$r_arch,"aglrgl.so",package="rgl"))

However, you didn't include necessary details with your posts (like your OS version) so it's unclear whether there is really a problem (I can't reproduce it on my system) so I can't vouch for the hack.

Cheers,
Simon



> Mark
> 
> 
> On Apr 23, 2012, at 2:54 PM, Holly Kindsvater wrote:
> 
>> Hello,
>> 
>> I found your recent thread on fixing the "broken" rgl package in R 2.15 so that one can use plot3d. The solution appears to be deleting the aglrgl.so library. Can you tell me how to do this? I think that it could be done from the command line using the path in the error message, but so far I can't seem to get that to work.
>> 
>> Thanks,
>> 
>> Holly Kindsvater
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From murdoch.duncan at gmail.com  Wed Apr 25 03:12:47 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 24 Apr 2012 21:12:47 -0400
Subject: [R-SIG-Mac] Unexpected behavior from sprintf()
In-Reply-To: <9F7705AD-1919-4232-A9EC-5784A5317DE7@r-project.org>
References: <CALdbFF5uyz9wrUKFvoBOkZEcqYxd8X8PnC3rLByAfROWMcbuKQ@mail.gmail.com>
	<9F7705AD-1919-4232-A9EC-5784A5317DE7@r-project.org>
Message-ID: <4F974F8F.1010106@gmail.com>

On 12-04-24 5:12 PM, Simon Urbanek wrote:
>
> On Apr 24, 2012, at 4:24 PM, Joran Elias wrote:
>
>> I stumbled across this by accident from this StackOverflow question:
>>
>> http://stackoverflow.com/q/10300325/324364
>>
>> and a subsequent discussion in the StackOverflow R chat room:
>>
>> http://chat.stackoverflow.com/transcript/message/3431991#3431991
>>
>> The issue is the output from the following code:
>>
>> sprintf('%05s',as.character(1:5))
>>
>> It appears that when this is run in OS X in either 2.14.2 or 2.15.0, the
>> output is:
>>
>> [1] "00001" "00002" "00003" "00004" "00005"
>>
>> whereas when it is run on other platforms (I saw examples from various
>> Windows versions and one user on Ubuntu, all using 2.15.0 I believe) you
>> get:
>>
>> [1] "    1" "    2" "    3" "    4" "    5"
>>
>> There was some uncertainty as to which behavior is "expected".
>
> The behavior of "%0s" is undefined -- this is documented both by R and POSIX (arguably more clearly in the latter), so any behavior should be expected.
>
>
>> Does anyone
>> have any insight into which behavior is "correct" and whether this is a bug
>> or not?
>>
>
> It is not a bug. The formatting is done by the OS, so the results are always OS-dependent -- since %0s is undefined, the OS can choose to interpret it any way it wants.

Here's a slightly related question:  If a single percent sign appears in 
a string, not as the start of a conversion spec, is the behaviour 
defined?  For example, something taken from the R do_sprintf source in 
one of the error messages:

  "the '%*' constructed 'fmt2' exceeds maximum of %d"

There's certainly one decimal value to be displayed at the end, but is 
the %* guaranteed to be interpreted literally?  The R sprintf parser 
gets confused by this one, but it's actually in the C code; is it a 
legal C format string?

Duncan Murdoch


From simon.urbanek at r-project.org  Wed Apr 25 04:33:22 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 24 Apr 2012 22:33:22 -0400
Subject: [R-SIG-Mac] Unexpected behavior from sprintf()
In-Reply-To: <4F974F8F.1010106@gmail.com>
References: <CALdbFF5uyz9wrUKFvoBOkZEcqYxd8X8PnC3rLByAfROWMcbuKQ@mail.gmail.com>
	<9F7705AD-1919-4232-A9EC-5784A5317DE7@r-project.org>
	<4F974F8F.1010106@gmail.com>
Message-ID: <DAF07D68-BCC9-4912-A63B-2F481F23DEC2@r-project.org>


On Apr 24, 2012, at 9:12 PM, Duncan Murdoch wrote:

> On 12-04-24 5:12 PM, Simon Urbanek wrote:
>> 
>> On Apr 24, 2012, at 4:24 PM, Joran Elias wrote:
>> 
>>> I stumbled across this by accident from this StackOverflow question:
>>> 
>>> http://stackoverflow.com/q/10300325/324364
>>> 
>>> and a subsequent discussion in the StackOverflow R chat room:
>>> 
>>> http://chat.stackoverflow.com/transcript/message/3431991#3431991
>>> 
>>> The issue is the output from the following code:
>>> 
>>> sprintf('%05s',as.character(1:5))
>>> 
>>> It appears that when this is run in OS X in either 2.14.2 or 2.15.0, the
>>> output is:
>>> 
>>> [1] "00001" "00002" "00003" "00004" "00005"
>>> 
>>> whereas when it is run on other platforms (I saw examples from various
>>> Windows versions and one user on Ubuntu, all using 2.15.0 I believe) you
>>> get:
>>> 
>>> [1] "    1" "    2" "    3" "    4" "    5"
>>> 
>>> There was some uncertainty as to which behavior is "expected".
>> 
>> The behavior of "%0s" is undefined -- this is documented both by R and POSIX (arguably more clearly in the latter), so any behavior should be expected.
>> 
>> 
>>> Does anyone
>>> have any insight into which behavior is "correct" and whether this is a bug
>>> or not?
>>> 
>> 
>> It is not a bug. The formatting is done by the OS, so the results are always OS-dependent -- since %0s is undefined, the OS can choose to interpret it any way it wants.
> 
> Here's a slightly related question:  If a single percent sign appears in a string, not as the start of a conversion spec, is the behaviour defined?  For example, something taken from the R do_sprintf source in one of the error messages:
> 
> "the '%*' constructed 'fmt2' exceeds maximum of %d"
> 
> There's certainly one decimal value to be displayed at the end, but is the %* guaranteed to be interpreted literally?  The R sprintf parser gets confused by this one, but it's actually in the C code; is it a legal C format string?
> 

Again, POSIX says the behavior is undefined in that case:

"If a conversion specification does not match one of the above forms, the behavior is undefined. If any argument is not the correct type for the corresponding conversion specification, the behavior is undefined."

The only reliable way to emit a percent sign is "%%". The example above is certainly a bug.

Cheers,
Simon


From murdoch.duncan at gmail.com  Wed Apr 25 04:52:26 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 24 Apr 2012 22:52:26 -0400
Subject: [R-SIG-Mac] Unexpected behavior from sprintf()
In-Reply-To: <DAF07D68-BCC9-4912-A63B-2F481F23DEC2@r-project.org>
References: <CALdbFF5uyz9wrUKFvoBOkZEcqYxd8X8PnC3rLByAfROWMcbuKQ@mail.gmail.com>
	<9F7705AD-1919-4232-A9EC-5784A5317DE7@r-project.org>
	<4F974F8F.1010106@gmail.com>
	<DAF07D68-BCC9-4912-A63B-2F481F23DEC2@r-project.org>
Message-ID: <4F9766EA.7030909@gmail.com>

On 12-04-24 10:33 PM, Simon Urbanek wrote:
>
> On Apr 24, 2012, at 9:12 PM, Duncan Murdoch wrote:
>
>> On 12-04-24 5:12 PM, Simon Urbanek wrote:
>>>
>>> On Apr 24, 2012, at 4:24 PM, Joran Elias wrote:
>>>
>>>> I stumbled across this by accident from this StackOverflow question:
>>>>
>>>> http://stackoverflow.com/q/10300325/324364
>>>>
>>>> and a subsequent discussion in the StackOverflow R chat room:
>>>>
>>>> http://chat.stackoverflow.com/transcript/message/3431991#3431991
>>>>
>>>> The issue is the output from the following code:
>>>>
>>>> sprintf('%05s',as.character(1:5))
>>>>
>>>> It appears that when this is run in OS X in either 2.14.2 or 2.15.0, the
>>>> output is:
>>>>
>>>> [1] "00001" "00002" "00003" "00004" "00005"
>>>>
>>>> whereas when it is run on other platforms (I saw examples from various
>>>> Windows versions and one user on Ubuntu, all using 2.15.0 I believe) you
>>>> get:
>>>>
>>>> [1] "    1" "    2" "    3" "    4" "    5"
>>>>
>>>> There was some uncertainty as to which behavior is "expected".
>>>
>>> The behavior of "%0s" is undefined -- this is documented both by R and POSIX (arguably more clearly in the latter), so any behavior should be expected.
>>>
>>>
>>>> Does anyone
>>>> have any insight into which behavior is "correct" and whether this is a bug
>>>> or not?
>>>>
>>>
>>> It is not a bug. The formatting is done by the OS, so the results are always OS-dependent -- since %0s is undefined, the OS can choose to interpret it any way it wants.
>>
>> Here's a slightly related question:  If a single percent sign appears in a string, not as the start of a conversion spec, is the behaviour defined?  For example, something taken from the R do_sprintf source in one of the error messages:
>>
>> "the '%*' constructed 'fmt2' exceeds maximum of %d"
>>
>> There's certainly one decimal value to be displayed at the end, but is the %* guaranteed to be interpreted literally?  The R sprintf parser gets confused by this one, but it's actually in the C code; is it a legal C format string?
>>
>
> Again, POSIX says the behavior is undefined in that case:
>
> "If a conversion specification does not match one of the above forms, the behavior is undefined. If any argument is not the correct type for the corresponding conversion specification, the behavior is undefined."
>
> The only reliable way to emit a percent sign is "%%". The example above is certainly a bug.
>


Thanks, I'll fix it.  (I think the error can't actually occur in real 
code, but I'll leave the test in place.)

Duncan Murdoch


From ripley at stats.ox.ac.uk  Wed Apr 25 07:49:54 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 25 Apr 2012 06:49:54 +0100
Subject: [R-SIG-Mac] Unexpected behavior from sprintf()
In-Reply-To: <DAF07D68-BCC9-4912-A63B-2F481F23DEC2@r-project.org>
References: <CALdbFF5uyz9wrUKFvoBOkZEcqYxd8X8PnC3rLByAfROWMcbuKQ@mail.gmail.com>
	<9F7705AD-1919-4232-A9EC-5784A5317DE7@r-project.org>
	<4F974F8F.1010106@gmail.com>
	<DAF07D68-BCC9-4912-A63B-2F481F23DEC2@r-project.org>
Message-ID: <4F979082.6080801@stats.ox.ac.uk>

On 25/04/2012 03:33, Simon Urbanek wrote:
>
> On Apr 24, 2012, at 9:12 PM, Duncan Murdoch wrote:
>
>> On 12-04-24 5:12 PM, Simon Urbanek wrote:
>>>
>>> On Apr 24, 2012, at 4:24 PM, Joran Elias wrote:
>>>
>>>> I stumbled across this by accident from this StackOverflow question:
>>>>
>>>> http://stackoverflow.com/q/10300325/324364
>>>>
>>>> and a subsequent discussion in the StackOverflow R chat room:
>>>>
>>>> http://chat.stackoverflow.com/transcript/message/3431991#3431991
>>>>
>>>> The issue is the output from the following code:
>>>>
>>>> sprintf('%05s',as.character(1:5))
>>>>
>>>> It appears that when this is run in OS X in either 2.14.2 or 2.15.0, the
>>>> output is:
>>>>
>>>> [1] "00001" "00002" "00003" "00004" "00005"
>>>>
>>>> whereas when it is run on other platforms (I saw examples from various
>>>> Windows versions and one user on Ubuntu, all using 2.15.0 I believe) you
>>>> get:
>>>>
>>>> [1] "    1" "    2" "    3" "    4" "    5"
>>>>
>>>> There was some uncertainty as to which behavior is "expected".
>>>
>>> The behavior of "%0s" is undefined -- this is documented both by R and POSIX (arguably more clearly in the latter), so any behavior should be expected.
>>>
>>>
>>>> Does anyone
>>>> have any insight into which behavior is "correct" and whether this is a bug
>>>> or not?
>>>>
>>>
>>> It is not a bug. The formatting is done by the OS, so the results are always OS-dependent -- since %0s is undefined, the OS can choose to interpret it any way it wants.
>>
>> Here's a slightly related question:  If a single percent sign appears in a string, not as the start of a conversion spec, is the behaviour defined?  For example, something taken from the R do_sprintf source in one of the error messages:
>>
>> "the '%*' constructed 'fmt2' exceeds maximum of %d"
>>
>> There's certainly one decimal value to be displayed at the end, but is the %* guaranteed to be interpreted literally?  The R sprintf parser gets confused by this one, but it's actually in the C code; is it a legal C format string?
>>
>
> Again, POSIX says the behavior is undefined in that case:

And to clarify, POSIX is aligned with C99 so in fact it is the C99 
standard that is the authority here: section 7.13.6 to be precise.

The references on ?sprintf could do with updating.

>
> "If a conversion specification does not match one of the above forms, the behavior is undefined. If any argument is not the correct type for the corresponding conversion specification, the behavior is undefined."
>
> The only reliable way to emit a percent sign is "%%". The example above is certainly a bug.
>
> Cheers,
> Simon
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From jochen.laubrock at gmail.com  Mon Apr 30 14:40:45 2012
From: jochen.laubrock at gmail.com (jochen laubrock)
Date: Mon, 30 Apr 2012 14:40:45 +0200
Subject: [R-SIG-Mac] clearing plot / over plotting of points
Message-ID: <7D843E42-8969-46A9-8496-3B84A00EC3E9@gmail.com>

Hello,

points are not completely erased if overplotted in the background color, using points from base graphics. Instead, they leave a faint grey trace, both if running R.app and R in Terminal. Is this intended? What is the proper way to erase a plot if one does not want to create a new plot, which presumably has some overhead in an animation?

Example,  using points:

A <- matrix(rnorm(1000), 500, 2)
plot(range(A), range(A), type="n")
points(A)
points(A[1:250, 1:2], col="white", bg="white")

I'm posting to this list because I have not tested under a different OS.

Jochen

> sessionInfo()
R version 2.15.0 (2012-03-30)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] lattice_0.20-6 MASS_7.3-17   

loaded via a namespace (and not attached):
[1] grid_2.15.0  tools_2.15.0



PS: Points *are* erased if using image

# using image
A <- matrix(0, 100, 100)
ix <- runif(1000, 0, 10000)
A[ix] <- 1
image(seq(0,1,length=100), seq(0,1,length=100), A, col=c("white", "black"))
A[ix[1:500]] <- 0
image(seq(0,1,length=100), seq(0,1,length=100), A, col=c("white", "black"))

From simon.urbanek at r-project.org  Mon Apr 30 15:17:33 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 30 Apr 2012 09:17:33 -0400
Subject: [R-SIG-Mac] clearing plot / over plotting of points
In-Reply-To: <7D843E42-8969-46A9-8496-3B84A00EC3E9@gmail.com>
References: <7D843E42-8969-46A9-8496-3B84A00EC3E9@gmail.com>
Message-ID: <3C3024D9-9F4F-4F46-A462-260702EAE064@r-project.org>

Jochen,

On Apr 30, 2012, at 8:40 AM, jochen laubrock wrote:

> Hello,
> 
> points are not completely erased if overplotted in the background color, using points from base graphics. Instead, they leave a faint grey trace, both if running R.app and R in Terminal. Is this intended?

Yes, you may want to read up on "anti-aliasing". You can disable anti-aliasing (with antialias=F) but you get very ugly plots.


> What is the proper way to erase a plot if one does not want to create a new plot, which presumably has some overhead in an animation?
> 

You presume wrongly - it is in fact less efficient to try to erase a plot by painting over it and re-drawing a new one as opposed to drawing a new page, because you keep piling up the display list which forces R to redraw everything including over-painted parts of the plot.

If you want to do animation I hope you are aware of the crucial commands dev.hold()/dev.flush() designed for that purpose (and efficiency).

Cheers,
Simon


> Example,  using points:
> 
> A <- matrix(rnorm(1000), 500, 2)
> plot(range(A), range(A), type="n")
> points(A)
> points(A[1:250, 1:2], col="white", bg="white")
> 
> I'm posting to this list because I have not tested under a different OS.
> 
> Jochen
> 
>> sessionInfo()
> R version 2.15.0 (2012-03-30)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
> 
> other attached packages:
> [1] lattice_0.20-6 MASS_7.3-17   
> 
> loaded via a namespace (and not attached):
> [1] grid_2.15.0  tools_2.15.0
> 
> 
> 
> PS: Points *are* erased if using image
> 
> # using image
> A <- matrix(0, 100, 100)
> ix <- runif(1000, 0, 10000)
> A[ix] <- 1
> image(seq(0,1,length=100), seq(0,1,length=100), A, col=c("white", "black"))
> A[ix[1:500]] <- 0
> image(seq(0,1,length=100), seq(0,1,length=100), A, col=c("white", "black"))
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From bbolker at gmail.com  Tue Apr 24 22:48:07 2012
From: bbolker at gmail.com (Ben Bolker)
Date: Tue, 24 Apr 2012 16:48:07 -0400
Subject: [R-SIG-Mac] Unexpected behavior from sprintf()
In-Reply-To: <CALdbFF5uyz9wrUKFvoBOkZEcqYxd8X8PnC3rLByAfROWMcbuKQ@mail.gmail.com>
References: <CALdbFF5uyz9wrUKFvoBOkZEcqYxd8X8PnC3rLByAfROWMcbuKQ@mail.gmail.com>
Message-ID: <4F971187.3080301@gmail.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 12-04-24 04:24 PM, Joran Elias wrote:
> I stumbled across this by accident from this StackOverflow
> question:
> 
> http://stackoverflow.com/q/10300325/324364
> 
> and a subsequent discussion in the StackOverflow R chat room:
> 
> http://chat.stackoverflow.com/transcript/message/3431991#3431991
> 
> The issue is the output from the following code:
> 
> sprintf('%05s',as.character(1:5))
> 
> It appears that when this is run in OS X in either 2.14.2 or
> 2.15.0, the output is:
> 
> [1] "00001" "00002" "00003" "00004" "00005"
> 
> whereas when it is run on other platforms (I saw examples from
> various Windows versions and one user on Ubuntu, all using 2.15.0 I
> believe) you get:
> 
> [1] "    1" "    2" "    3" "    4" "    5"
> 
> There was some uncertainty as to which behavior is "expected". Does
> anyone have any insight into which behavior is "correct" and
> whether this is a bug or not?
> 
> - Joran
> 

  on Ubuntu 10.04 (r-devel):

> sprintf("%05s",1)
[1] "    1"
> sprintf("%05d",1)
[1] "00001"
> 

?sprintf says:

 ?0? For numbers, pad to the field width with leading zeros.

"man 3 printf" on Ubuntu 10.04 says:

       0      The  value  should  be  zero padded.  For d, i, o, u, x,
X, a, A, e, E, f, F, g, and G conversions, the converted value is
padded on the left with zeros rather than blanks.  If the 0 and -
flags  both  appear,  the  0  flag  is ignored.   If  a precision is
given with a numeric conversion (d, i, o, u, x, and X), the 0 flag is
ignored.  For other conversions, the behavior is undefined.

  From a lawyerly point of view, ?sprintf is not wrong.  It defines
the behavior for numbers and fails to define it for non-numbers -- so
technically

ZZZZ1

would also be 'correct' (or at least 'not wrong') output for this case.


printstr.c
============================
#include <stdio.h>

int main() {


   printf("%05s\n","1");
}
==========================


under Ubuntu:

gcc printstr.c
printstr.c: In function ?main?:
printstr.c:6: warning: '0' flag used with ?%s? gnu_printf format
bolker at ubuntu-10:~/R/misc$ ./a.out
    1


under OS X:

 gcc printstr.c
printstr.c: In function ?main?:
printstr.c:6: warning: '0' flag used with ?%s? printf format
collywobbles:misc bolker$ ./a.out
00001


  So we do get a compile-time warning in either case.

  Perhaps the R documentation should waffle about platform-specificity
some more ...


-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iQEcBAEBAgAGBQJPlxGHAAoJED2whTVMEyK9i08IAKuIKvn85nOx8tZm4YhiTKpx
PCB85vjgNkqMxwwmWmJcCf9ixtT7LFpHE//RX6tYZlQPlqcSnOraQNlE3NyEi4qs
g8yovUz5iMtDWF4Wei3a9cL39oKm/bI+L+A2Je8KhlfKDzaa0OtJz+N4Ve4gSut+
/2TiKtfy7ivTRcjmu8RM4hjjELD+9yejZAzQT8WsZrGGl5yzhUcnr+grJFtA3lnD
x08D/eI2Njh1Z4/8Q5FOI2h3dtE7wq8dMDWgHpCuYX0g+HfVo2uk226s2+SXZ6Tj
BRHSS20LU6pBhoplDmhBF71bJZantZMR5J3vHI4lpjpTEHa1xgq8I/HuzL1LhOI=
=9G04
-----END PGP SIGNATURE-----


From timothy.c.bates at gmail.com  Tue Apr 24 16:49:51 2012
From: timothy.c.bates at gmail.com (Timothy Bates)
Date: Tue, 24 Apr 2012 15:49:51 +0100
Subject: [R-SIG-Mac] =?windows-1252?q?Check_for_R_updates=85_=28doesn=27t_?=
 =?windows-1252?q?visit_CRAN=29?=
Message-ID: <94DBC415-EE19-46AE-A919-422DFB49990A@gmail.com>

hi,
selected Check for R updates from R.app?s Application menu

get:

This version of R is 2.14.1
There is a newer version of R on CRAN which is 2.15.0 
> 
Do you want to visit CRAN now? Y

> 


So, no opening of browser...should this be giving an informative error?


From timothy.c.bates at gmail.com  Tue Apr 24 21:06:40 2012
From: timothy.c.bates at gmail.com (Timothy Bates)
Date: Tue, 24 Apr 2012 20:06:40 +0100
Subject: [R-SIG-Mac] GCC on Lion and above
In-Reply-To: <FB1E9756-C2CB-4244-9F7A-3D00CF6EF493@r-project.org>
References: <217FC504-42CA-46BB-88FB-257C938A7C95@ed.ac.uk>
	<FB1E9756-C2CB-4244-9F7A-3D00CF6EF493@r-project.org>
Message-ID: <E86F3A1E-6927-4440-A7AE-838B9FF13DD4@gmail.com>

Dear all (simon...)

I?ve installed what I think is the recommended gcc+fortran installer pkg for Lion:

http://r.research.att.com/tools/gcc-42-5666.3-darwin11.pkg 

but get no fortran in my /usr/local/bin and compiling an R package that needs it (http://openmx.psyc.virginia.edu) fails... no fortran.

I _think_ i have followed the instructions on http://r.research.att.com/tools/#gcc42
        (it?s confusing that up-to-date OS instructions are buried down in the (long) list of possible packages to install: I would be happy to help reorg this...)


gcc is fine
which gcc
/usr/local/bin/gcc

but
 gfortran
-bash: gfortran: command not found


config info follows... sorry for the hassle
t

*** Config info ***

Xcode 4.4 with command line tools installed

echo $PATH

:/usr/local/bin:/usr/local/mysql/bin/:/Users/tim/bin:/Users/tim/Applications/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/bin:/usr/local/mysql/bin:/Users/tim/bin:/Users/tim/bin/plink



FYI, here?s the make trail from attempting to make OpenMx


spearman:Users tim$ cd ~/bin/OpenMx/; svn update; cd trunk/; make clean; make install; cd ..; svn status
At revision 2028.
rm -rf build/*
rm -rf models/passing/temp-files/*
rm -rf models/failing/temp-files/*
rm -rf build/*
rm -rf models/passing/temp-files/*
rm -rf models/failing/temp-files/*
cp DESCRIPTION DESCRIPTION.bak
sed '/Version:/d' DESCRIPTION.bak > DESCRIPTION
echo "Version: "999.0.0"-"2028 >> DESCRIPTION	
cd build; R CMD build ..
* checking for file ?../DESCRIPTION? ... OK
* preparing ?OpenMx?:
* checking DESCRIPTION meta-information ... OK
* cleaning src
* checking for LF line-endings in source and make files
* checking for empty or unneeded directories
Removed empty directory ?OpenMx/docs/source/static/Rdoc?
Removed empty directory ?OpenMx/docs/source/static/demo?
Removed empty directory ?OpenMx/docs/source/static?
Removed empty directory ?OpenMx/docs/source/templates?
Removed empty directory ?OpenMx/inst/unit-tests?
Removed empty directory ?OpenMx/models/failing/temp-files?
Removed empty directory ?OpenMx/models/passing/temp-files?
Removed empty directory ?OpenMx/testsuite?
* looking to see if a ?data/datalist? file should be added
* re-saving tabular files
* building ?OpenMx_999.0.0-2028.tar.gz?

mv DESCRIPTION.bak DESCRIPTION
cd build; R CMD INSTALL "--configure-args=--enable-openmp" OpenMx_999.0.0-2028.tar.gz  
* installing to library ?/Users/tim/Library/R/2.15/library?
* installing *source* package ?OpenMx? ...
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking for gcc option to support OpenMP... -fopenmp
checking whether gcc is installed... yes
checking build system type... i386-apple-darwin12.0.0
checking host system type... i386-apple-darwin12.0.0
checking for inst/npsol/osx/libnpsol.a... yes
configure: creating ./config.status
config.status: creating src/Makevars
config.status: executing src/omxSymbolTable.h commands
config.status: executing src/omxSymbolTable.c commands
** libs
*** arch - i386
gcc -arch i386 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/i386 -DNDEBUG  -I/usr/local/include   -Wall -fopenmp -mmacosx-version-min=10.4  -fPIC  -g -O2  -c merge.c -o merge.o
gcc -arch i386 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/i386 -DNDEBUG  -I/usr/local/include   -Wall -fopenmp -mmacosx-version-min=10.4  -fPIC  -g -O2  -c npsolWrap.c -o npsolWrap.o
npsolWrap.c: In function ?constraintFunction_?:
npsolWrap.c:798:19: warning: variable ?size? set but not used [-Wunused-but-set-variable]
gcc -arch i386 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/i386 -DNDEBUG  -I/usr/local/include   -Wall -fopenmp -mmacosx-version-min=10.4  -fPIC  -g -O2  -c omxAlgebra.c -o omxAlgebra.o
gcc -arch i386 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/i386 -DNDEBUG  -I/usr/local/include   -Wall -fopenmp -mmacosx-version-min=10.4  -fPIC  -g -O2  -c omxAlgebraFunctions.c -o omxAlgebraFunctions.o
gcc -arch i386 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/i386 -DNDEBUG  -I/usr/local/include   -Wall -fopenmp -mmacosx-version-min=10.4  -fPIC  -g -O2  -c omxAlgebraObjective.c -o omxAlgebraObjective.o
gfortran -arch i386   -fPIC  -g -O2  -c omxBLAS.f -o omxBLAS.o
make[1]: gfortran: No such file or directory
make[1]: *** [omxBLAS.o] Error 1
ERROR: compilation failed for package ?OpenMx?
* removing ?/Users/tim/Library/R/2.15/library/OpenMx?
* restoring previous ?/Users/tim/Library/R/2.15/library/OpenMx?
make: *** [install] Error 1
?       typescript
?       .profile
?       trunk/demo/UnivariateTwinAnalysis_MatrixRaw_plusCov.R
?       trunk/build/OpenMx_999.0.0-2028.tar.gz
?       branches/three-matrix/src/.BC.szkLWC
?       branches/experimental/src/.BC.zDfeyx
spearman:OpenMx tim$ 


