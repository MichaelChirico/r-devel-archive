From ken.knoblauch at inserm.fr  Sun Nov  1 10:23:46 2009
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Sun, 01 Nov 2009 10:23:46 +0100
Subject: [R-SIG-Mac] crash on ESC w/ R 2.10.0 on Tiger Mac mini
Message-ID: <20091101102346.gbenxobssg8sk44s@imp.inserm.fr>

Hi,

I just loaded R 2.10.0 on a Mac mini running Tiger and
I get a crash when I hit ESC to undo a line.  Here is the
report below.  Here is the sessionInfo() first, however.

R version 2.10.0 (2009-10-26)
powerpc-apple-darwin8.11.1

locale:
[1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

Thanks.

best,

Ken

Date/Time:      2009-11-01 10:18:03.820 +0100
OS Version:     10.4.11 (Build 8S165)
Report Version: 4

Command: R
Path:    /Applications/R.app/Contents/MacOS/R
Parent:  WindowServer [65]

Version: R 2.9.2 GUI 1.29 Tiger build 32-bit (5511)

PID:    281
Thread: 0

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000020

Thread 0 Crashed:
0   libobjc.A.dylib          	0x90a410f8 objc_msgSend + 24
1   org.R-project.R          	0x0000dae4 Re_RBusy + 60 (Rcallbacks.m:178)
2   libR.dylib               	0x003cdcf0 R_ReplDLLdo1 + 64
3   org.R-project.R          	0x00018358 run_REngineRmainloop + 368  
(Rinit.m:521)
4   org.R-project.R          	0x00010a0c -[REngine runREPL] + 484  
(REngine.m:181)
5   org.R-project.R          	0x00002a38 main + 1040 (main.m:140)
6   org.R-project.R          	0x000025ac _start + 760
7   org.R-project.R          	0x000022b0 start + 48

Thread 1:
0   libSystem.B.dylib        	0x9000af48 mach_msg_trap + 8
1   libSystem.B.dylib        	0x9000ae9c mach_msg + 60
2   com.apple.CoreFoundation 	0x907de9ac __CFRunLoopRun + 832
3   com.apple.CoreFoundation 	0x907de2b0 CFRunLoopRunSpecific + 268
4   com.apple.Foundation     	0x92c1db7c +[NSURLCache  
_diskCacheSyncLoop:] + 152
5   com.apple.Foundation     	0x92bf54d8 forkThreadForFunction + 108
6   libSystem.B.dylib        	0x9002b908 _pthread_body + 96

Thread 2:
0   libSystem.B.dylib        	0x9000af48 mach_msg_trap + 8
1   libSystem.B.dylib        	0x9000ae9c mach_msg + 60
2   com.apple.CoreFoundation 	0x907de9ac __CFRunLoopRun + 832
3   com.apple.CoreFoundation 	0x907de2b0 CFRunLoopRunSpecific + 268
4   com.apple.Foundation     	0x92bea8dc -[NSConnection  
sendInvocation:] + 1468
5   com.apple.Foundation     	0x92be9378  
-[NSObject(NSForwardInvocation) forward::] + 408
6   libobjc.A.dylib          	0x90a460b0 _objc_msgForward + 176
7   com.apple.Foundation     	0x92be96e0 -[NSDistantObject  
methodSignatureForSelector:] + 268
8   com.apple.Foundation     	0x92be9248  
-[NSObject(NSForwardInvocation) forward::] + 104
9   libobjc.A.dylib          	0x90a460b0 _objc_msgForward + 176
10  org.R-project.R          	0x00005068 -[RController readThread:] +  
2908 (RController.m:747)
11  com.apple.Foundation     	0x92bf54d8 forkThreadForFunction + 108
12  libSystem.B.dylib        	0x9002b908 _pthread_body + 96

Thread 3:
0   libSystem.B.dylib        	0x9002bfc8 semaphore_wait_signal_trap + 8
1   libSystem.B.dylib        	0x90030aac pthread_cond_wait + 480
2   com.apple.Foundation     	0x92bfc644 -[NSConditionLock  
lockWhenCondition:] + 68
3   com.apple.AppKit         	0x9385e358 -[NSUIHeartBeat  
_heartBeatThread:] + 324
4   com.apple.Foundation     	0x92bf54d8 forkThreadForFunction + 108
5   libSystem.B.dylib        	0x9002b908 _pthread_body + 96

Thread 0 crashed with PPC Thread State 64:
   srr0: 0x0000000090a410f8 srr1: 0x000000000200f030                    
      vrsave: 0x0000000000000000
     cr: 0x44000242          xer: 0x0000000000000004   lr:  
0x000000000000dae4  ctr: 0x0000000090a410e0
     r0: 0x00000000003cdcf0   r1: 0x00000000bffff380   r2:  
0x00000000ffffffff   r3: 0x00000000a0a3c864
     r4: 0x0000000000037114   r5: 0x0000000000000060   r6:  
0x00000000fffffff9   r7: 0x0000000000000003
     r8: 0x0000000030393000   r9: 0x00000000005808ac  r10:  
0x0000000000478cd8  r11: 0x00000000fffd7114
    r12: 0x0000000000000000  r13: 0x0000000000000000  r14:  
0x0000000000000000  r15: 0x0000000002307d10
    r16: 0x00000000000430ac  r17: 0x0000000000042388  r18:  
0x00000000a37b9078  r19: 0x00000000000430a8
    r20: 0x0000000000042370  r21: 0x0000000000043094  r22:  
0x000000000004238c  r23: 0x0000000000042358
    r24: 0x000000000004309c  r25: 0x0000000000042350  r26:  
0x0000000004d4b360  r27: 0x00000000028b2038
    r28: 0x0000000000000000  r29: 0x000000000003e020  r30:  
0x000000000057dcbc  r31: 0x00000000003cdcbc

Binary Images Description:
     0x1000 -    0x3dfff org.R-project.R R 2.9.2 GUI 1.29 Tiger build  
32-bit (5511)	/Applications/R.app/Contents/MacOS/R
   0x1a0000 -   0x1a2fff libRblas.dylib  
	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/libRblas.dylib
   0x1a6000 -   0x1d0fff libreadline.5.2.dylib  
	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/libreadline.5.2.dylib
   0x305000 -   0x548fff libR.dylib  
	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/libR.dylib
   0x621000 -   0x703fff com.apple.WebKit 4530.19  
(4530.19.2)	/System/Library/Frameworks/WebKit.framework/Versions/A/WebKit
  0x1008000 -  0x1082fff libgfortran.2.dylib  
	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/libgfortran.2.dylib
  0x11f3000 -  0x130bfff com.apple.JavaScriptCore  
4530.19	/System/Library/Frameworks/JavaScriptCore.framework/Versions/A/JavaScriptCore
  0x1358000 -  0x1d1efff com.apple.WebCore  
4530.19	/System/Library/Frameworks/WebKit.framework/Versions/A/Frameworks/WebCore.framework/Versions/A/WebCore
  0x4f50000 -  0x4f55fff methods.so  
	/Library/Frameworks/R.framework/Versions/2.10/Resources/library/methods/libs/ppc/methods.so
  0x60d7000 -  0x6124fff stats.so  
	/Library/Frameworks/R.framework/Versions/2.10/Resources/library/stats/libs/ppc/stats.so
  0x614f000 -  0x6173fff grDevices.so  
	/Library/Frameworks/R.framework/Versions/2.10/Resources/library/grDevices/libs/ppc/grDevices.so
0x8fe00000 - 0x8fe52fff dyld 46.16	/usr/lib/dyld
0x90000000 - 0x901bcfff libSystem.B.dylib 	/usr/lib/libSystem.B.dylib
0x90214000 - 0x90219fff libmathCommon.A.dylib  
	/usr/lib/system/libmathCommon.A.dylib
0x9021b000 - 0x90268fff com.apple.CoreText 1.0.4  
(???)	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreText.framework/Versions/A/CoreText
0x90293000 - 0x90344fff ATS  
	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/ATS
0x90373000 - 0x9072efff com.apple.CoreGraphics 1.258.84  
(???)	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics
0x907bb000 - 0x90895fff com.apple.CoreFoundation 6.4.11  
(368.35)	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation
0x908de000 - 0x908defff com.apple.CoreServices 10.4  
(???)	/System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices
0x908e0000 - 0x909e2fff libicucore.A.dylib 	/usr/lib/libicucore.A.dylib
0x90a3c000 - 0x90ac0fff libobjc.A.dylib 	/usr/lib/libobjc.A.dylib
0x90aea000 - 0x90b5cfff IOKit  
	/System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x90b72000 - 0x90b84fff libauto.dylib 	/usr/lib/libauto.dylib
0x90b8b000 - 0x90e62fff com.apple.CoreServices.CarbonCore  
681.19	/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore
0x90ec8000 - 0x90f48fff com.apple.CoreServices.OSServices  
4.1	/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/OSServices.framework/Versions/A/OSServices
0x90f92000 - 0x90fd4fff com.apple.CFNetwork  
129.24	/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CFNetwork.framework/Versions/A/CFNetwork
0x90fe9000 - 0x91001fff com.apple.WebServices 1.1.2  
(1.1.0)	/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/WebServicesCore.framework/Versions/A/WebServicesCore
0x91011000 - 0x91092fff com.apple.SearchKit  
1.0.8	/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit
0x910d8000 - 0x91101fff com.apple.Metadata 10.4.4  
(121.36)	/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Metadata.framework/Versions/A/Metadata
0x91112000 - 0x91120fff libz.1.dylib 	/usr/lib/libz.1.dylib
0x91123000 - 0x912defff com.apple.security 4.6  
(29770)	/System/Library/Frameworks/Security.framework/Versions/A/Security
0x913dd000 - 0x913e6fff com.apple.DiskArbitration  
2.1.2	/System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration
0x913ed000 - 0x913f5fff libbsm.dylib 	/usr/lib/libbsm.dylib
0x913f9000 - 0x91421fff com.apple.SystemConfiguration  
1.8.3	/System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration
0x91434000 - 0x9143ffff libgcc_s.1.dylib 	/usr/lib/libgcc_s.1.dylib
0x91444000 - 0x914bffff com.apple.audio.CoreAudio  
3.0.5	/System/Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio
0x914fc000 - 0x914fcfff com.apple.ApplicationServices 10.4  
(???)	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/ApplicationServices
0x914fe000 - 0x91536fff com.apple.AE  
312.2	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/AE.framework/Versions/A/AE
0x91551000 - 0x91623fff com.apple.ColorSync  
4.4.11	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ColorSync.framework/Versions/A/ColorSync
0x91676000 - 0x91707fff com.apple.print.framework.PrintCore 4.6  
(177.13)	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore
0x9174e000 - 0x91805fff com.apple.QD 3.10.28  
(???)	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/QD.framework/Versions/A/QD
0x91842000 - 0x918a0fff com.apple.HIServices 1.5.3  
(???)	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/HIServices.framework/Versions/A/HIServices
0x918cf000 - 0x918f0fff com.apple.LangAnalysis  
1.6.1	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/LangAnalysis.framework/Versions/A/LangAnalysis
0x91904000 - 0x91929fff com.apple.FindByContent  
1.5	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/FindByContent.framework/Versions/A/FindByContent
0x9193c000 - 0x9197efff com.apple.LaunchServices  
183.1	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/LaunchServices
0x9199a000 - 0x919aefff com.apple.speech.synthesis.framework  
3.3	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis
0x919bc000 - 0x91a02fff com.apple.ImageIO.framework  
1.5.8	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/ImageIO
0x91a19000 - 0x91ae0fff libcrypto.0.9.7.dylib 	/usr/lib/libcrypto.0.9.7.dylib
0x91b2e000 - 0x91b43fff libcups.2.dylib 	/usr/lib/libcups.2.dylib
0x91b48000 - 0x91b66fff libJPEG.dylib  
	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib
0x91b6c000 - 0x91c23fff libJP2.dylib  
	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libJP2.dylib
0x91c72000 - 0x91c76fff libGIF.dylib  
	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libGIF.dylib
0x91c78000 - 0x91ce2fff libRaw.dylib  
	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libRaw.dylib
0x91ce7000 - 0x91d01fff libPng.dylib  
	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libPng.dylib
0x91d06000 - 0x91d09fff libRadiance.dylib  
	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libRadiance.dylib
0x91d0b000 - 0x91df9fff libxml2.2.dylib 	/usr/lib/libxml2.2.dylib
0x91e18000 - 0x91e56fff libTIFF.dylib  
	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libTIFF.dylib
0x91e5d000 - 0x91e5dfff com.apple.Accelerate 1.2.2 (Accelerate  
1.2.2)	/System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate
0x91e5f000 - 0x91f44fff com.apple.vImage  
2.4	/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vImage.framework/Versions/A/vImage
0x91f4c000 - 0x91f6bfff com.apple.Accelerate.vecLib 3.2.2 (vecLib  
3.2.2)	/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/vecLib
0x91fd7000 - 0x92045fff libvMisc.dylib  
	/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvMisc.dylib
0x92050000 - 0x920e5fff libvDSP.dylib  
	/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvDSP.dylib
0x920ff000 - 0x92687fff libBLAS.dylib  
	/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib
0x926ba000 - 0x929e5fff libLAPACK.dylib  
	/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib
0x92a15000 - 0x92b03fff libiconv.2.dylib 	/usr/lib/libiconv.2.dylib
0x92b06000 - 0x92b8efff com.apple.DesktopServices  
1.3.7	/System/Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/DesktopServicesPriv
0x92bcf000 - 0x92e02fff com.apple.Foundation 6.4.12  
(567.42)	/System/Library/Frameworks/Foundation.framework/Versions/C/Foundation
0x92f35000 - 0x92f53fff libGL.dylib  
	/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
0x92f5e000 - 0x92fb8fff libGLU.dylib  
	/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.dylib
0x92fd6000 - 0x92fd6fff com.apple.Carbon 10.4  
(???)	/System/Library/Frameworks/Carbon.framework/Versions/A/Carbon
0x92fd8000 - 0x92fecfff com.apple.ImageCapture  
3.0	/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ImageCapture.framework/Versions/A/ImageCapture
0x93004000 - 0x93014fff com.apple.speech.recognition.framework  
3.4	/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SpeechRecognition.framework/Versions/A/SpeechRecognition
0x93020000 - 0x93035fff com.apple.securityhi 2.0  
(203)	/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SecurityHI.framework/Versions/A/SecurityHI
0x93047000 - 0x930cefff com.apple.ink.framework 101.2  
(69)	/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Ink.framework/Versions/A/Ink
0x930e2000 - 0x930edfff com.apple.help 1.0.3  
(32)	/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Help.framework/Versions/A/Help
0x930f7000 - 0x93125fff com.apple.openscripting 1.2.7  
(???)	/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/OpenScripting.framework/Versions/A/OpenScripting
0x9313f000 - 0x9314efff com.apple.print.framework.Print 5.2  
(192.4)	/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.framework/Versions/A/Print
0x9315a000 - 0x931c0fff com.apple.htmlrendering  
1.1.2	/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HTMLRendering.framework/Versions/A/HTMLRendering
0x931f1000 - 0x93240fff com.apple.NavigationServices 3.4.4  
(3.4.3)	/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/NavigationServices.framework/Versions/A/NavigationServices
0x9326e000 - 0x9328bfff com.apple.audio.SoundManager  
3.9	/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CarbonSound.framework/Versions/A/CarbonSound
0x9329d000 - 0x932aafff com.apple.CommonPanels 1.2.2  
(73)	/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CommonPanels.framework/Versions/A/CommonPanels
0x932b3000 - 0x935c1fff com.apple.HIToolbox 1.4.10  
(???)	/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox
0x93711000 - 0x9371dfff com.apple.opengl  
1.4.7	/System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL
0x937b7000 - 0x937b7fff com.apple.Cocoa 6.4  
(???)	/System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa
0x937b9000 - 0x93decfff com.apple.AppKit 6.4.10  
(824.48)	/System/Library/Frameworks/AppKit.framework/Versions/C/AppKit
0x94179000 - 0x941ebfff com.apple.CoreData 91  
(92.1)	/System/Library/Frameworks/CoreData.framework/Versions/A/CoreData
0x94224000 - 0x942e9fff com.apple.audio.toolbox.AudioToolbox  
1.4.7	/System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox
0x9433c000 - 0x9433cfff com.apple.audio.units.AudioUnit  
1.4	/System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
0x9433e000 - 0x944fefff com.apple.QuartzCore  
1.4.12	/System/Library/Frameworks/QuartzCore.framework/Versions/A/QuartzCore
0x94548000 - 0x94585fff libsqlite3.0.dylib 	/usr/lib/libsqlite3.0.dylib
0x9458d000 - 0x945ddfff libGLImage.dylib  
	/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.dylib
0x945e6000 - 0x945fffff com.apple.CoreVideo  
1.4.2	/System/Library/Frameworks/CoreVideo.framework/Versions/A/CoreVideo
0x947b8000 - 0x947c7fff libCGATS.A.dylib  
	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGATS.A.dylib
0x947cf000 - 0x947dcfff libCSync.A.dylib  
	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib
0x94822000 - 0x9483bfff libRIP.A.dylib  
	/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib
0x94c5d000 - 0x94ccefff libstdc++.6.dylib 	/usr/lib/libstdc++.6.dylib
0x96100000 - 0x96102fff com.apple.ExceptionHandling 1.2  
(???)	/System/Library/Frameworks/ExceptionHandling.framework/Versions/A/ExceptionHandling
0x96649000 - 0x96677fff libncurses.5.4.dylib 	/usr/lib/libncurses.5.4.dylib
0x96fb0000 - 0x96fcffff com.apple.vecLib 3.2.2 (vecLib  
3.2.2)	/System/Library/Frameworks/vecLib.framework/Versions/A/vecLib
0x9bbdc000 - 0x9bbfefff libmx.A.dylib 	/usr/lib/libmx.A.dylib

Model: PowerMac10,1, BootROM 4.8.9f1, 1 processors, PowerPC G4  (1.1),  
1.25 GHz, 512 MB
Graphics: ATI Radeon 9200, ATY,RV280, AGP, 32 MB
Memory Module: DIMM0/J11, 512 MB, DDR SDRAM, PC3200U-30330
AirPort: AirPort Extreme, 405.1 (3.90.34.0.p18)
Modem: Jump, V.92, Version 1.0
Network Service: AirPort, AirPort, en1
Parallel ATA Device: ST9808210A, 74.53 GB
Parallel ATA Device: MATSHITACD-RW  CW-8124
USB Device: Hub in Apple Pro Keyboard, Mitsumi Electric, Up to 12  
Mb/sec, 500 mA
USB Device: Apple Optical USB Mouse, Logitech, Up to 1.5 Mb/sec, 100 mA
USB Device: Apple Pro Keyboard, Mitsumi Electric, Up to 12 Mb/sec, 250 mA
FireWire Device: iSight, Apple Computer, Inc., Up to 400 Mb/sec


-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From r.turner at auckland.ac.nz  Sun Nov  1 20:46:30 2009
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Mon, 2 Nov 2009 08:46:30 +1300
Subject: [R-SIG-Mac] Building from source problems.
In-Reply-To: <FE983FE4-4F23-455E-B27A-D7E9436EBF83@r-project.org>
References: <6D524A9A-5ACD-4B06-B2BB-DA6994D7A7CD@auckland.ac.nz>
	<5CEC755C-8B36-4400-AD05-95A7D82A823C@r-project.org>
	<FF31EB5B-01D9-40D6-B2C6-C8C6DFA14CB8@auckland.ac.nz>
	<FE983FE4-4F23-455E-B27A-D7E9436EBF83@r-project.org>
Message-ID: <507CCD0F-926B-40ED-9B64-45D8064994C4@auckland.ac.nz>


On 30/10/2009, at 10:25 AM, Simon Urbanek wrote:

	<snip>

> But back to your problem -- in order to support the optimizations (-
> mtune=core2) you want to switch to gcc-4.2 -- you can do that by
> typing "sudo gcc_select 4.2" in a Terminal window.

	When I do that I get:

> The following is missing from your gcc 4.2 compiler installation.
> Reinstall the 4.2 compiler, or use another release.
>   /usr/bin/gcc-4.2
>   /usr/bin/g++-4.2
>   /usr/include/gcc/darwin/4.2/stdint.h
>   /usr/include/gcc/darwin/4.2/


	So I need to (re-?) install gcc-4.2.  How?

	<snip>

> The most current version of Xcode for 10.4 is Xcode 2.5. You can get
> it from
> http://connect.apple.com/
> Login or create a (free) ADC account if you don't have one, then click
> on Downloads and then Developer Tools (on the right-hand side under
> Download). Then you get a long list of all tools - search for Xcode
> 2.5 - download and install.
> Again, something along those lines in the FAQ :P

	Checking on what I've got (following your instructions) I
	found that I have version 2.5 of Xcode.

	That appears to be the latest version of Xcode that runs on
	Tiger.  The web page indicates that Xcode 2.5 dates from
	November 2007 which was about when I first installed Xcode.
	So re-installing Xcode 2.5 won't do any good.

	(On Friday I mistakenly tried installing Xcode 3.1.3 or something
	like that, but of course that won't/doesn't/didn't work on Tiger.)

	So how do I get gcc-4.2 for my OS? (Mac OS X 10.4.11).  Is this
	possible?

		cheers,

			Rolf

######################################################################
Attention:\ This e-mail message is privileged and confid...{{dropped:9}}


From mailinglist.honeypot at gmail.com  Sun Nov  1 21:48:51 2009
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Sun, 1 Nov 2009 15:48:51 -0500
Subject: [R-SIG-Mac] Building from source problems.
In-Reply-To: <507CCD0F-926B-40ED-9B64-45D8064994C4@auckland.ac.nz>
References: <6D524A9A-5ACD-4B06-B2BB-DA6994D7A7CD@auckland.ac.nz>
	<5CEC755C-8B36-4400-AD05-95A7D82A823C@r-project.org>
	<FF31EB5B-01D9-40D6-B2C6-C8C6DFA14CB8@auckland.ac.nz>
	<FE983FE4-4F23-455E-B27A-D7E9436EBF83@r-project.org>
	<507CCD0F-926B-40ED-9B64-45D8064994C4@auckland.ac.nz>
Message-ID: <bbdc7ed00911011248l37f1462dr47b2961fb2f5ba4@mail.gmail.com>


Hi,

On Sun, Nov 1, 2009 at 2:46 PM, Rolf Turner <r.turner at auckland.ac.nz> wrote:

>        Checking on what I've got (following your instructions) I
>        found that I have version 2.5 of Xcode.
>
>        That appears to be the latest version of Xcode that runs on
>        Tiger.  The web page indicates that Xcode 2.5 dates from
>        November 2007 which was about when I first installed Xcode.
>        So re-installing Xcode 2.5 won't do any good.

It might do some good, because it's possible that something got hosed ...

>
>        (On Friday I mistakenly tried installing Xcode 3.1.3 or something
>        like that, but of course that won't/doesn't/didn't work on Tiger.)
>
>        So how do I get gcc-4.2 for my OS? (Mac OS X 10.4.11).  Is this
>        possible?

The thing is, I'm not sure that you can. The "best" way to get the
'correct" gcc compilers for your system is through the latest XCode
available for your OS version. And, to be honest, I'm not sure that
XCode 2.5 even has gcc 4.2, for some reason I think it only has 3.3 or
4.0.x ... of course I can be mistaken.

Is it possible 4.2 came on your system from somewhere else? Did you
try to install from the HPC compilers before?

I have a Tiger machine sitting next to me at home, but it has XCode
2.0. I'm d/ling 2.5 to check and see if it comes with gcc-4.2 just in
case ... I'll post back with those results when it's done d/ling and
installing (I guess I should update it anyway ...).

-steve

-- 
Steve Lianoglou
Graduate Student: Computational Systems Biology
 | Memorial Sloan-Kettering Cancer Center
 | Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From r.turner at auckland.ac.nz  Sun Nov  1 22:00:19 2009
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Mon, 2 Nov 2009 10:00:19 +1300
Subject: [R-SIG-Mac] Building from source problems.
In-Reply-To: <bbdc7ed00911011248l37f1462dr47b2961fb2f5ba4@mail.gmail.com>
References: <6D524A9A-5ACD-4B06-B2BB-DA6994D7A7CD@auckland.ac.nz>
	<5CEC755C-8B36-4400-AD05-95A7D82A823C@r-project.org>
	<FF31EB5B-01D9-40D6-B2C6-C8C6DFA14CB8@auckland.ac.nz>
	<FE983FE4-4F23-455E-B27A-D7E9436EBF83@r-project.org>
	<507CCD0F-926B-40ED-9B64-45D8064994C4@auckland.ac.nz>
	<bbdc7ed00911011248l37f1462dr47b2961fb2f5ba4@mail.gmail.com>
Message-ID: <1A72AD70-F5A3-470C-94B4-F41EF43F276F@auckland.ac.nz>


On 2/11/2009, at 9:48 AM, Steve Lianoglou wrote:

> Hi,
>
> On Sun, Nov 1, 2009 at 2:46 PM, Rolf Turner  
> <r.turner at auckland.ac.nz> wrote:
>
>>        Checking on what I've got (following your instructions) I
>>        found that I have version 2.5 of Xcode.
>>
>>        That appears to be the latest version of Xcode that runs on
>>        Tiger.  The web page indicates that Xcode 2.5 dates from
>>        November 2007 which was about when I first installed Xcode.
>>        So re-installing Xcode 2.5 won't do any good.
>
> It might do some good, because it's possible that something got  
> hosed ...

	The way the Fates treat me, it will do no good with probability =  
1!!! :-)

	<snip>

>>        So how do I get gcc-4.2 for my OS? (Mac OS X 10.4.11).  Is  
>> this
>>        possible?
>
> The thing is, I'm not sure that you can. The "best" way to get the
> 'correct" gcc compilers for your system is through the latest XCode
> available for your OS version. And, to be honest, I'm not sure that
> XCode 2.5 even has gcc 4.2, for some reason I think it only has 3.3 or
> 4.0.x ... of course I can be mistaken.
>
> Is it possible 4.2 came on your system from somewhere else? Did you
> try to install from the HPC compilers before?

	I don't ***have*** 4.2 at all, as far as I can tell.  Simon
	Urbanek told me that I ***needed*** to use 4.2 in order to get
	things to build properly from source. He indicated that I should
	make the system ***use*** 4.2 by doing

		sudo gcc_select 4.2

	but as I said, this just tells me that 4.2 ain't there.
>
> I have a Tiger machine sitting next to me at home, but it has XCode
> 2.0. I'm d/ling 2.5 to check and see if it comes with gcc-4.2 just in
> case ... I'll post back with those results when it's done d/ling and
> installing (I guess I should update it anyway ...).

	Thanks.  I look forward to your report with baited breath.
	(Like the cat that ate cheese and then sat by the mousehole ....) :-)

		cheers,

			Rolf
######################################################################
Attention: 
This e-mail message is privileged and confidential. If you are not the 
intended recipient please delete the message and notify the sender. 
Any views or opinions presented are solely those of the author.

This e-mail has been scanned and cleared by MailMarshal 
www.marshalsoftware.com
######################################################################


From frederic.dupont at univ-brest.fr  Sun Nov  1 22:08:49 2009
From: frederic.dupont at univ-brest.fr (=?ISO-8859-1?Q?Fr=E9d=E9ric_Dupont?=)
Date: Sun, 1 Nov 2009 22:08:49 +0100
Subject: [R-SIG-Mac] R 2.10.0 packages and html doc
Message-ID: <AAB844DE-C8E5-4ABF-AA32-56B41CF00B65@univ-brest.fr>

Hi,
I have just installed R 2.10.0. It seems that  binary libraries have  
an empty html folder (except the 00Index.html file). Is this normal?

frederic


From mailinglist.honeypot at gmail.com  Sun Nov  1 23:26:35 2009
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Sun, 1 Nov 2009 17:26:35 -0500
Subject: [R-SIG-Mac] Building from source problems.
In-Reply-To: <1A72AD70-F5A3-470C-94B4-F41EF43F276F@auckland.ac.nz>
References: <6D524A9A-5ACD-4B06-B2BB-DA6994D7A7CD@auckland.ac.nz>
	<5CEC755C-8B36-4400-AD05-95A7D82A823C@r-project.org>
	<FF31EB5B-01D9-40D6-B2C6-C8C6DFA14CB8@auckland.ac.nz>
	<FE983FE4-4F23-455E-B27A-D7E9436EBF83@r-project.org>
	<507CCD0F-926B-40ED-9B64-45D8064994C4@auckland.ac.nz>
	<bbdc7ed00911011248l37f1462dr47b2961fb2f5ba4@mail.gmail.com>
	<1A72AD70-F5A3-470C-94B4-F41EF43F276F@auckland.ac.nz>
Message-ID: <bbdc7ed00911011426x7f2f539r226317ecc926cee0@mail.gmail.com>

On Sun, Nov 1, 2009 at 4:00 PM, Rolf Turner <r.turner at auckland.ac.nz> wrote:
>
> On 2/11/2009, at 9:48 AM, Steve Lianoglou wrote:
>
>>  Hi,
>>
>> On Sun, Nov 1, 2009 at 2:46 PM, Rolf Turner <r.turner at auckland.ac.nz>
>> wrote:
>>
>>>       Checking on what I've got (following your instructions) I
>>>       found that I have version 2.5 of Xcode.
>>>
>>>       That appears to be the latest version of Xcode that runs on
>>>       Tiger.  The web page indicates that Xcode 2.5 dates from
>>>       November 2007 which was about when I first installed Xcode.
>>>       So re-installing Xcode 2.5 won't do any good.
>>
>> It might do some good, because it's possible that something got hosed ...
>
>        The way the Fates treat me, it will do no good with probability =
> 1!!! :-)

After rereading the thread here (sorry if it feels like your talking
to a wall), I'm guessing it won't, actually ... but it can't hurt.

>        I don't ***have*** 4.2 at all, as far as I can tell.  Simon
>        Urbanek told me that I ***needed*** to use 4.2 in order to get
>        things to build properly from source. He indicated that I should
>        make the system ***use*** 4.2 by doing
>
>                sudo gcc_select 4.2
>
>        but as I said, this just tells me that 4.2 ain't there.

OH!

>>
>> I have a Tiger machine sitting next to me at home, but it has XCode
>> 2.0. I'm d/ling 2.5 to check and see if it comes with gcc-4.2 just in
>> case ... I'll post back with those results when it's done d/ling and
>> installing (I guess I should update it anyway ...).
>
>        Thanks.  I look forward to your report with baited breath.
>        (Like the cat that ate cheese and then sat by the mousehole ....) :-)

Well, XCode 2.5 is still downloading here ... I pay enough for this
dang cable modem, but it's slower than slow.

In the mean time, do you mind if we take one or two stabs in the dark?

So, if I'm not mistaken, it seems your only problem now is compiling a
package from source, and you're getting some "mtune=core2" problem,
right?

THIS IS PROBABLY A BAD IDEA, BUT ...

If we can't get your compiler to support these optimizations (maybe
because we can't get gcc-4.2 on there), then how about we just don't
use those optimizations when compiling? I'm not sure if that will
cause problems, but perhaps we can try?

Can you find where this is defined in your install? Doing:

$ cd /Library/Frameworks/R.framework/Versions/2.10
$ grep -r mtune=core2 .

for me brings up one file:

./Resources/bin/libtool:LTCFLAGS="-mtune=core2 -g -O2"

Does it for you?

I wonder what happens if you just comment that line out and insert below it:

LTCFLAGS="-g -O2"

Would all of your woes go away?

As I said, it's probably a bad idea, but if you're brave, it might be
worth a try.

(I've been sitting on this email for a while now, because I don't want
to make boneheaded suggestions in public, but my xcode d/l is @ 75%
and I didn't want to leave you hanging for the rest of the day).

-steve

-- 
Steve Lianoglou
Graduate Student: Computational Systems Biology
 | Memorial Sloan-Kettering Cancer Center
 | Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From r.turner at auckland.ac.nz  Mon Nov  2 00:03:53 2009
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Mon, 2 Nov 2009 12:03:53 +1300
Subject: [R-SIG-Mac] Building from source problems.
In-Reply-To: <bbdc7ed00911011426x7f2f539r226317ecc926cee0@mail.gmail.com>
References: <6D524A9A-5ACD-4B06-B2BB-DA6994D7A7CD@auckland.ac.nz>
	<5CEC755C-8B36-4400-AD05-95A7D82A823C@r-project.org>
	<FF31EB5B-01D9-40D6-B2C6-C8C6DFA14CB8@auckland.ac.nz>
	<FE983FE4-4F23-455E-B27A-D7E9436EBF83@r-project.org>
	<507CCD0F-926B-40ED-9B64-45D8064994C4@auckland.ac.nz>
	<bbdc7ed00911011248l37f1462dr47b2961fb2f5ba4@mail.gmail.com>
	<1A72AD70-F5A3-470C-94B4-F41EF43F276F@auckland.ac.nz>
	<bbdc7ed00911011426x7f2f539r226317ecc926cee0@mail.gmail.com>
Message-ID: <0FAA7C95-8D5C-4E29-987D-33F727417726@auckland.ac.nz>


On 2/11/2009, at 11:26 AM, Steve Lianoglou wrote:

	<snip>

> In the mean time, do you mind if we take one or two stabs in the dark?

	By all means!  Go for it!

> So, if I'm not mistaken, it seems your only problem now is compiling a
> package from source, and you're getting some "mtune=core2" problem,
> right?

	Ack-chewally I have now installed, from CRAN, the 2.10.0 binary  
designed
	for Tiger, which Simon Urbanek built especially for me, and which
	eschews the "mtune=core2" flag.  With this binary I can now build
	spatstat from source without hiccups.  (Thank you Simon!)

	So I guess I don't really have *any* problems as it stands.

	I'd just kind of like to get *everything* working, seamlessly.
	But I'm getting the impression that this will require upgrading
	my OS from Tiger to the latest.  I have emailed our IT people
	to investigate whether this is a possibility.  Have not yet heard
	back from them ....
>
> THIS IS PROBABLY A BAD IDEA, BUT ...
>
> If we can't get your compiler to support these optimizations (maybe
> because we can't get gcc-4.2 on there), then how about we just don't
> use those optimizations when compiling? I'm not sure if that will
> cause problems, but perhaps we can try?

	This was actually suggested to me by someone else, offlist,
	with less detail.  I didn't have the nerve to try.
>
> Can you find where this is defined in your install? Doing:
>
> $ cd /Library/Frameworks/R.framework/Versions/2.10
> $ grep -r mtune=core2 .
>
> for me brings up one file:
>
> ./Resources/bin/libtool:LTCFLAGS="-mtune=core2 -g -O2"
>
> Does it for you?

	Just grepping in

		/Library/Frameworks/R.framework/Versions/2.10/Resources/bin/libtool

	gives the line that you found.

> I wonder what happens if you just comment that line out and insert  
> below it:
>
> LTCFLAGS="-g -O2"

	I guess that Simon has set things somehow so that this flag doesn't
	get used (???) under the Tiger OS, since, as I said above, the
	build from source now works for me.  So the comment-out and re-define
	trick is not necessary.  I could re-install R using the ``non-special''
	binary (with which I was getting the problem) and see if your trick  
works
	with that, but that would seem to be only of academic interest at this
	stage.  It might be an interesting learning experience for me, but I
	really should be getting on with proper work --- as should the rest of
	you whom I've been pestering about this stuff, I guess! :-)

> Would all of your woes go away?
>
> As I said, it's probably a bad idea, but if you're brave, it might be
> worth a try.
>
> (I've been sitting on this email for a while now, because I don't want
> to make boneheaded suggestions in public, but my xcode d/l is @ 75%
> and I didn't want to leave you hanging for the rest of the day).


	Any suggestion from you is almost certain to be far less
	bone-headed than anything I might do on my own.

	Sorry for muddling about on this.  I have trouble keeping my
	head clear as to what I need to do (as opposed to should or
	could do, or want to do).

	Bottom line:  I seem to be OK now, for the time being at least.
	To keep on being OK, I probably need to upgrade my OS.

	Thanks to everyone for their help and for putting up with my
	often confused and sometimes grumpy questions.

		cheers,

			Rolf

######################################################################
Attention:\ This e-mail message is privileged and confid...{{dropped:9}}


From simon.urbanek at r-project.org  Mon Nov  2 00:09:32 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 1 Nov 2009 18:09:32 -0500
Subject: [R-SIG-Mac] Building from source problems.
In-Reply-To: <0FAA7C95-8D5C-4E29-987D-33F727417726@auckland.ac.nz>
References: <6D524A9A-5ACD-4B06-B2BB-DA6994D7A7CD@auckland.ac.nz>
	<5CEC755C-8B36-4400-AD05-95A7D82A823C@r-project.org>
	<FF31EB5B-01D9-40D6-B2C6-C8C6DFA14CB8@auckland.ac.nz>
	<FE983FE4-4F23-455E-B27A-D7E9436EBF83@r-project.org>
	<507CCD0F-926B-40ED-9B64-45D8064994C4@auckland.ac.nz>
	<bbdc7ed00911011248l37f1462dr47b2961fb2f5ba4@mail.gmail.com>
	<1A72AD70-F5A3-470C-94B4-F41EF43F276F@auckland.ac.nz>
	<bbdc7ed00911011426x7f2f539r226317ecc926cee0@mail.gmail.com>
	<0FAA7C95-8D5C-4E29-987D-33F727417726@auckland.ac.nz>
Message-ID: <CA49BD39-AA74-43C6-B5F4-33DCCACF7BE7@r-project.org>

*sigh* Rolf, I'm giving up - your'e misquoting me and not reading my e- 
mails (if you did you'd know you don't have to bother download Xcode  
for example..). Please install release R 2.10.0 for Tiger and send me  
a private e-mail if you have issues.
For others - please do NOT follow all the attempts in this thread -  
they're all not necessary unless you want to make life hard on  
yourself (like Rolf does ;)).
Simon

On Nov 1, 2009, at 6:03 PM, Rolf Turner wrote:

>
> On 2/11/2009, at 11:26 AM, Steve Lianoglou wrote:
>
> 	<snip>
>
>> In the mean time, do you mind if we take one or two stabs in the  
>> dark?
>
> 	By all means!  Go for it!
>
>> So, if I'm not mistaken, it seems your only problem now is  
>> compiling a
>> package from source, and you're getting some "mtune=core2" problem,
>> right?
>
> 	Ack-chewally I have now installed, from CRAN, the 2.10.0 binary  
> designed
> 	for Tiger, which Simon Urbanek built especially for me, and which
> 	eschews the "mtune=core2" flag.  With this binary I can now build
> 	spatstat from source without hiccups.  (Thank you Simon!)
>
> 	So I guess I don't really have *any* problems as it stands.
>
> 	I'd just kind of like to get *everything* working, seamlessly.
> 	But I'm getting the impression that this will require upgrading
> 	my OS from Tiger to the latest.  I have emailed our IT people
> 	to investigate whether this is a possibility.  Have not yet heard
> 	back from them ....
>>
>> THIS IS PROBABLY A BAD IDEA, BUT ...
>>
>> If we can't get your compiler to support these optimizations (maybe
>> because we can't get gcc-4.2 on there), then how about we just don't
>> use those optimizations when compiling? I'm not sure if that will
>> cause problems, but perhaps we can try?
>
> 	This was actually suggested to me by someone else, offlist,
> 	with less detail.  I didn't have the nerve to try.
>>
>> Can you find where this is defined in your install? Doing:
>>
>> $ cd /Library/Frameworks/R.framework/Versions/2.10
>> $ grep -r mtune=core2 .
>>
>> for me brings up one file:
>>
>> ./Resources/bin/libtool:LTCFLAGS="-mtune=core2 -g -O2"
>>
>> Does it for you?
>
> 	Just grepping in
>
> 		/Library/Frameworks/R.framework/Versions/2.10/Resources/bin/libtool
>
> 	gives the line that you found.
>
>> I wonder what happens if you just comment that line out and insert  
>> below it:
>>
>> LTCFLAGS="-g -O2"
>
> 	I guess that Simon has set things somehow so that this flag doesn't
> 	get used (???) under the Tiger OS, since, as I said above, the
> 	build from source now works for me.  So the comment-out and re-define
> 	trick is not necessary.  I could re-install R using the ``non- 
> special''
> 	binary (with which I was getting the problem) and see if your trick  
> works
> 	with that, but that would seem to be only of academic interest at  
> this
> 	stage.  It might be an interesting learning experience for me, but I
> 	really should be getting on with proper work --- as should the rest  
> of
> 	you whom I've been pestering about this stuff, I guess! :-)
>
>> Would all of your woes go away?
>>
>> As I said, it's probably a bad idea, but if you're brave, it might be
>> worth a try.
>>
>> (I've been sitting on this email for a while now, because I don't  
>> want
>> to make boneheaded suggestions in public, but my xcode d/l is @ 75%
>> and I didn't want to leave you hanging for the rest of the day).
>
>
> 	Any suggestion from you is almost certain to be far less
> 	bone-headed than anything I might do on my own.
>
> 	Sorry for muddling about on this.  I have trouble keeping my
> 	head clear as to what I need to do (as opposed to should or
> 	could do, or want to do).
>
> 	Bottom line:  I seem to be OK now, for the time being at least.
> 	To keep on being OK, I probably need to upgrade my OS.
>
> 	Thanks to everyone for their help and for putting up with my
> 	often confused and sometimes grumpy questions.
>
> 		cheers,
>
> 			Rolf
>
> ######################################################################
> Attention:This e-mail message is privileged and confidential. If you  
> are not theintended recipient please delete the message and notify  
> the sender.Any views or opinions presented are solely those of the  
> author.
>
> This e-mail has been scanned and cleared by MailMarshalwww.marshalsoftware.com
> ######################################################################
>
>


From felipe.zapata at umsl.edu  Mon Nov  2 04:57:13 2009
From: felipe.zapata at umsl.edu (Felipe Zapata)
Date: Sun, 1 Nov 2009 21:57:13 -0600
Subject: [R-SIG-Mac] Loop: plot does not update
Message-ID: <476D28B2-2350-404C-976A-D945E622C27A@umsl.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091101/1f3ee4de/attachment.pl>

From simon.urbanek at r-project.org  Mon Nov  2 05:54:45 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 1 Nov 2009 23:54:45 -0500
Subject: [R-SIG-Mac] R 2.10.0 packages and html doc
In-Reply-To: <AAB844DE-C8E5-4ABF-AA32-56B41CF00B65@univ-brest.fr>
References: <AAB844DE-C8E5-4ABF-AA32-56B41CF00B65@univ-brest.fr>
Message-ID: <E766F630-BBFC-4ADA-A0F1-3238F7FA1BB2@r-project.org>


On Nov 1, 2009, at 4:08 PM, Fr?d?ric Dupont wrote:

> Hi,
> I have just installed R 2.10.0. It seems that  binary libraries have  
> an empty html folder (except the 00Index.html file). Is this normal?
>

Yes, static html help is no longer installed by default since it's not  
used anymore (see R's NEWS) - the default is now to generate html help  
dynamically.
Cheers,
Simon


From ripley at stats.ox.ac.uk  Mon Nov  2 08:35:57 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 2 Nov 2009 07:35:57 +0000 (GMT)
Subject: [R-SIG-Mac] Loop: plot does not update
In-Reply-To: <476D28B2-2350-404C-976A-D945E622C27A@umsl.edu>
References: <476D28B2-2350-404C-976A-D945E622C27A@umsl.edu>
Message-ID: <alpine.LFD.2.00.0911020718310.17766@gannet.stats.ox.ac.uk>

We don't have a reproducible example, nor the details asked for in the 
posting guide.

But a likely explanation is that the windows() device (on Windows, if 
that is the OS your 'a PC' is running) is double-buffered (by 
default), and the quartz() is not.  Thus rather than being a 'problem 
on your Mac', it may well be a feature on Windows. Using the X11() 
device may be a workaround if your X server is fast enough.

Whether the plot 'is getting re-drawn from scratch at every step of 
the loop' depends how you programmed it: R will do as you ask, but you 
haven't given us any indication what that was, and best solution is to 
avoid asking for too much plotting for each frame of an animation.

On Sun, 1 Nov 2009, Felipe Zapata wrote:

> I am running a loop which updates a plot after carrying out some
> calculations (i.e., calculating 2 integrals along a line defined in a
> PCA space).  However, I am having trouble visualizing the plot for
> this loop using R 2.9.1 (OS 10.5.8, MBP 2.53 Ghz Core Duo, 4GB) as it
> does not go smoothly as it should.  When I run the loop in a PC, the
> plot updates nicely and continuously. When I run it in my Mac, the
> plot just flashes and it seems as if it is getting re-drawn from
> scratch at every step of the loop.  Has anybody experienced a similar
> problem in your Mac?? i wonder if this is a general mac issue or
> something specific to my computer.
> Thanks
>
> F
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From vishyiyer at gmail.com  Wed Nov  4 03:20:01 2009
From: vishyiyer at gmail.com (vi)
Date: Tue, 3 Nov 2009 18:20:01 -0800 (PST)
Subject: [R-SIG-Mac] R.app intractable history problem
Message-ID: <7cc4448f-9cba-403b-8a99-075f38f45326@b15g2000yqd.googlegroups.com>

I have seen this asked before and read the threads but cannot find a
clear answer to this problem.

I cannot manage to get the history to work from R.app. I am running R
version 2.9.0 on an iMac OSX 10.5.8 (Leopard). I've tried

1. Using default paths and names for startup (~) and history file
(.Rhistory). Run R.app by clicking on the dock, run a few commands. If
I save workspace, it writes ~/.Rhistory but that file is always blank.
Next session of R.app there is no history available of course. (If I
don't save workspace on exit, it does not write a ~/.Rhistory file at
all. Is this normal?)

2. Changing startup path but using the same name for history file (~/
xxx/yyy/.Rhistory). I read my problem could be that R writes to the
default location after R.app exits, so it could therefore be empty. I
change the path in the Preferences->Startup-> Initial working
directory (~/xxx/yyy/) and then the R history file in pref. to /Users/
myname/xxx/yyy/.Rhistory and hit return before clicking anywhere else.
It automatically changes it to ~/xxx/yyy/.Rhistory so it apparently
recognizes my change. Then I enter a few commands in R and quit.
Again, if I save workspace, it creates ~/xxx/yyy/.Rhistory but it's
always empty. If I don't save workspace, the specified history file is
not even created.

3. Changing startup path and trying to use a different name for
history file (~/xxx/yyy/.Rhistory_me).  I change the path in the
Preferences->Startup-> Initial working directory (~/xxx/yyy/) and then
the R history file in pref. to either /Users/myname/xxx/
yyy/.Rhistory_me or /Users/myname/xxx/yyy/me_Rhistory and hit return
before clicking anywhere else. Then I enter a few commands in R and
quit. I save workspace, it creates ~/xxx/yyy/.Rhistory (note it
ignores the file name I gave it) but it's always empty. If I go back
to preferences, the history file box shows ".Rhistory" regardless of
what name I told it to save it as.

4. d&d folder onto R.app icon, .Rhistory is written to that folder as
expected, but it remains empty no matter what.

Tried deleting preference file multiple times, no help. I cannot
manage to get anything into the .Rhistory file from R.app. R from
terminal seems okay in this regard.

So what is the way to make R.app actually save its history somewhere?
I don't want to use the history slide out button on the console and
have to save a file with each session, I'd like it to be automatic.
Thanks!
vi


From robjgoedman at me.com  Wed Nov  4 16:05:39 2009
From: robjgoedman at me.com (Rob Goedman)
Date: Wed, 04 Nov 2009 07:05:39 -0800
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <7cc4448f-9cba-403b-8a99-075f38f45326@b15g2000yqd.googlegroups.com>
References: <7cc4448f-9cba-403b-8a99-075f38f45326@b15g2000yqd.googlegroups.com>
Message-ID: <39651145-8CCD-49F8-8857-189621C2ED69@me.com>

Hi Vi,

Is there anything in your in your .Rprofile, .First or .Last?

Another quick suggestion, can you try with e.g. .myRhistory, so  
changing the last part of the path name?

I'm assuming the 'Read history file on startup' item is checked in the  
Startup preferences panel.

Thanks,
Rob


On Nov 3, 2009, at 6:20 PM, vi wrote:

> I have seen this asked before and read the threads but cannot find a
> clear answer to this problem.
>
> I cannot manage to get the history to work from R.app. I am running R
> version 2.9.0 on an iMac OSX 10.5.8 (Leopard). I've tried
>
> 1. Using default paths and names for startup (~) and history file
> (.Rhistory). Run R.app by clicking on the dock, run a few commands. If
> I save workspace, it writes ~/.Rhistory but that file is always blank.
> Next session of R.app there is no history available of course. (If I
> don't save workspace on exit, it does not write a ~/.Rhistory file at
> all. Is this normal?)
>
> 2. Changing startup path but using the same name for history file (~/
> xxx/yyy/.Rhistory). I read my problem could be that R writes to the
> default location after R.app exits, so it could therefore be empty. I
> change the path in the Preferences->Startup-> Initial working
> directory (~/xxx/yyy/) and then the R history file in pref. to /Users/
> myname/xxx/yyy/.Rhistory and hit return before clicking anywhere else.
> It automatically changes it to ~/xxx/yyy/.Rhistory so it apparently
> recognizes my change. Then I enter a few commands in R and quit.
> Again, if I save workspace, it creates ~/xxx/yyy/.Rhistory but it's
> always empty. If I don't save workspace, the specified history file is
> not even created.
>
> 3. Changing startup path and trying to use a different name for
> history file (~/xxx/yyy/.Rhistory_me).  I change the path in the
> Preferences->Startup-> Initial working directory (~/xxx/yyy/) and then
> the R history file in pref. to either /Users/myname/xxx/
> yyy/.Rhistory_me or /Users/myname/xxx/yyy/me_Rhistory and hit return
> before clicking anywhere else. Then I enter a few commands in R and
> quit. I save workspace, it creates ~/xxx/yyy/.Rhistory (note it
> ignores the file name I gave it) but it's always empty. If I go back
> to preferences, the history file box shows ".Rhistory" regardless of
> what name I told it to save it as.
>
> 4. d&d folder onto R.app icon, .Rhistory is written to that folder as
> expected, but it remains empty no matter what.
>
> Tried deleting preference file multiple times, no help. I cannot
> manage to get anything into the .Rhistory file from R.app. R from
> terminal seems okay in this regard.
>
> So what is the way to make R.app actually save its history somewhere?
> I don't want to use the history slide out button on the console and
> have to save a file with each session, I'd like it to be automatic.
> Thanks!
> vi
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dwinsemius at comcast.net  Wed Nov  4 16:20:51 2009
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 4 Nov 2009 10:20:51 -0500
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <7cc4448f-9cba-403b-8a99-075f38f45326@b15g2000yqd.googlegroups.com>
References: <7cc4448f-9cba-403b-8a99-075f38f45326@b15g2000yqd.googlegroups.com>
Message-ID: <BDCCE3E9-7BE1-4AE2-A527-153B718FD24E@comcast.net>

Even if you do not want to update to 10.0, there can be no reason not  
to update to 2.9.2. I cannot promise that will fix your problems but  
it certainly top on the list of  maneuvers to try.

-- 
David
On Nov 3, 2009, at 9:20 PM, vi wrote:

> I have seen this asked before and read the threads but cannot find a
> clear answer to this problem.
>
> I cannot manage to get the history to work from R.app. I am running R
> version 2.9.0 on an iMac OSX 10.5.8 (Leopard). I've tried
>
> 1. Using default paths and names for startup (~) and history file
> (.Rhistory). Run R.app by clicking on the dock, run a few commands. If
> I save workspace, it writes ~/.Rhistory but that file is always blank.
> Next session of R.app there is no history available of course. (If I
> don't save workspace on exit, it does not write a ~/.Rhistory file at
> all. Is this normal?)
>
> 2. Changing startup path but using the same name for history file (~/
> xxx/yyy/.Rhistory). I read my problem could be that R writes to the
> default location after R.app exits, so it could therefore be empty. I
> change the path in the Preferences->Startup-> Initial working
> directory (~/xxx/yyy/) and then the R history file in pref. to /Users/
> myname/xxx/yyy/.Rhistory and hit return before clicking anywhere else.
> It automatically changes it to ~/xxx/yyy/.Rhistory so it apparently
> recognizes my change. Then I enter a few commands in R and quit.
> Again, if I save workspace, it creates ~/xxx/yyy/.Rhistory but it's
> always empty. If I don't save workspace, the specified history file is
> not even created.
>
> 3. Changing startup path and trying to use a different name for
> history file (~/xxx/yyy/.Rhistory_me).  I change the path in the
> Preferences->Startup-> Initial working directory (~/xxx/yyy/) and then
> the R history file in pref. to either /Users/myname/xxx/
> yyy/.Rhistory_me or /Users/myname/xxx/yyy/me_Rhistory and hit return
> before clicking anywhere else. Then I enter a few commands in R and
> quit. I save workspace, it creates ~/xxx/yyy/.Rhistory (note it
> ignores the file name I gave it) but it's always empty. If I go back
> to preferences, the history file box shows ".Rhistory" regardless of
> what name I told it to save it as.
>
> 4. d&d folder onto R.app icon, .Rhistory is written to that folder as
> expected, but it remains empty no matter what.

That is unclear. What folder?
>
> Tried deleting preference file multiple times, no help. I cannot
> manage to get anything into the .Rhistory file from R.app. R from
> terminal seems okay in this regard.
>
> So what is the way to make R.app actually save its history somewhere?
> I don't want to use the history slide out button on the console and
> have to save a file with each session, I'd like it to be automatic.


> Thanks!
> vi
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Heritage Laboratories
West Hartford, CT


From robjgoedman at me.com  Wed Nov  4 17:01:05 2009
From: robjgoedman at me.com (Rob Goedman)
Date: Wed, 04 Nov 2009 08:01:05 -0800
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <BDCCE3E9-7BE1-4AE2-A527-153B718FD24E@comcast.net>
References: <7cc4448f-9cba-403b-8a99-075f38f45326@b15g2000yqd.googlegroups.com>
	<BDCCE3E9-7BE1-4AE2-A527-153B718FD24E@comcast.net>
Message-ID: <670ED291-205E-4AD3-9322-BD920BA18CD5@me.com>

David & Vi,

On Nov 4, 2009, at 7:20 AM, David Winsemius wrote:

> Even if you do not want to update to 10.0, there can be no reason  
> not to update to 2.9.2. I cannot promise that will fix your problems  
> but it certainly top on the list of  maneuvers to try.

Further on Vi's question and David's response, I looked back in my r- 
sig-mac email archive to refresh my memory. See below attached email  
exchange with Wil from a while ago. Time is flying ... I think Vi is  
hitting the same problem.

Upgrading is never bad though...

> -- 
> David
> On Nov 3, 2009, at 9:20 PM, vi wrote:
>
>> I have seen this asked before and read the threads but cannot find a
>> clear answer to this problem.
>>
>> I cannot manage to get the history to work from R.app. I am running R
>> version 2.9.0 on an iMac OSX 10.5.8 (Leopard). I've tried
>>
>> 1. Using default paths and names for startup (~) and history file
>> (.Rhistory). Run R.app by clicking on the dock, run a few commands.  
>> If
>> I save workspace, it writes ~/.Rhistory but that file is always  
>> blank.
>> Next session of R.app there is no history available of course. (If I
>> don't save workspace on exit, it does not write a ~/.Rhistory file at
>> all. Is this normal?)
>>

It's not normal, below exchange with time stamps did exhibit similar  
behavior.

snipped  a bunch ...

>> 4. d&d folder onto R.app icon, .Rhistory is written to that folder as
>> expected, but it remains empty no matter what.
>
> That is unclear. What folder?

The d&d folder if no 'fixed' working dir path is set in the Startup  
preferences. That's how it is supposed to work.

Regards,
Rob

----------------------------------------------------------------------------------------------------------------------------------------------------

On Feb 9, 2007, at 9:19 PM, Rob J Goedman wrote:

> Hi Wil,
>
> On Feb 9, 2007, at 8:52 PM, William Doane wrote:
>
>> On Feb 9, 2007, at 19:35, Rob J Goedman wrote:
>>> All of your tests seem to be using .Rhistory, have you tried  
>>> myHistory (no dot, maybe in different dir)?
>>> Just to make sure R does not override it at the end.
>>
>> A good suggestion... and fruitful.
>>
>> I used R.app's prefs panel to set the history file to  
>> "myhistory" (in the same default directory), and the history gets  
>> saved and stored correctly in the new file. (Which rather solves MY  
>> problem, but the bug still remains.)
>>
>> On a lark, I launched R.app, PICOed .Rhistory and added a valid  
>> line of R code, and saved it. At this point, R.app is STILL using  
>> the "myhistory" file as the history file.
>>
>> When I quit R.app and confirmed the quit, "myhistory" was correctly  
>> updated, but .Rhistory was reverted to zero bytes!
>>
>> Seems like something else is writing to .Rhistory explicitly during  
>> the final clean up process.
>
> Yes, I'm pretty sure it is R itself. Although you have  
> removed .Last, somehow R still thinks is has to save
> the history, which will be empty as we're not updating it from  
> within R.app. Hence 0 length.
>
>>> The confirmation after quit is only about saving your image.  
>>> Quitting, at that point, is a done deal I though.
>>> But R.app does terminate R later on.
>>
>> R.app (and R terminal, for that matter) still has the option to  
>> cancel the quit at this point... the options are Don't save, Save,  
>> or Cancel -- the last of which puts you back in R.app, but having  
>> written out the history file.
>
> Yip, you're right, I've clearly been running R.app too long with an  
> automatic 'No' answer set.
>
>> Interestingly, selecting quit, then cancel leaves the correctly  
>> written .Rhistory file in place. Selecting quit again, then save or  
>> don't save overwrites the file to zero bytes.
>
> Points at R itself.
>
>> So, combined with the above, it seems like whatever is writing  
>> to .Rhistory and zeroing it out is happening AFTER the "Save"  
>> button (or "Don't Save" button) is clicked and is ignoring the  
>> R.app preference setting for the history file's name.
>
> Yip, R itself :-)
>
>> This doesn't happen from R run thru Terminal, so I'm still assuming  
>> this is an R.app specific issue.
>
> I'll check the sources a bit more. My guess is something is left  
> over from the .Last setting.
>
> But you should be ok for now. Thanks for digging a bit deeper.
>
> Regards,
> Rob



On Feb 9, 2007, at 8:52 PM, William Doane wrote:

> ... (snipped, as above)

> The timestamp gets updated twice... when quit is selected, and again  
> when quit is confirmed, as shown in this Terminal session:
>
> $ rm .Rhistory
> $ touch .Rhistory
> $ # launch R.app
> $ ls -la .R*
> -rw-r--r--   1 wejdoane  wejdoane  1180 Feb  9 23:29 .RData
> -rw-r--r--   1 wejdoane  wejdoane     0 Feb  9 23:29 .Rhistory
> -rw-r--r--   1 wejdoane  wejdoane   357 Feb  9 14:46 .Rprofile
> $ # wait a minute...
> $ # select quit, but don't confirm
> $ ls -la .R*
> -rw-r--r--   1 wejdoane  wejdoane  1180 Feb  9 23:29 .RData
> -rw-r--r--   1 wejdoane  wejdoane     5 Feb  9 23:31 .Rhistory
> -rw-r--r--   1 wejdoane  wejdoane   357 Feb  9 14:46 .Rprofile
> $ # wait another minute before confirming...
> $ # confirm
> $ ls -la .R*
> -rw-r--r--   1 wejdoane  wejdoane  1180 Feb  9 23:32 .RData
> -rw-r--r--   1 wejdoane  wejdoane     0 Feb  9 23:32 .Rhistory
> -rw-r--r--   1 wejdoane  wejdoane   357 Feb  9 14:46 .Rprofile
> $


From yonwoo.jung at yale.edu  Wed Nov  4 17:34:07 2009
From: yonwoo.jung at yale.edu (Yonwoo Jung)
Date: Wed, 4 Nov 2009 11:34:07 -0500
Subject: [R-SIG-Mac] R package install (spp_1.7.tar.gz) problem
Message-ID: <E33BB788-FC41-4581-9214-E2D42B2C38CA@yale.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091104/4de06a61/attachment.pl>

From mailinglist.honeypot at gmail.com  Wed Nov  4 17:59:13 2009
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Wed, 4 Nov 2009 11:59:13 -0500
Subject: [R-SIG-Mac] R package install (spp_1.7.tar.gz) problem
In-Reply-To: <E33BB788-FC41-4581-9214-E2D42B2C38CA@yale.edu>
References: <E33BB788-FC41-4581-9214-E2D42B2C38CA@yale.edu>
Message-ID: <6E026D4A-A0E9-4793-AC3F-9FADDFAD5AA3@gmail.com>

Hi,

On Nov 4, 2009, at 11:34 AM, Yonwoo Jung wrote:

> I'm trying to install spp_1.7.tar.gz package.
> I always go this error message : bed2vector.C:13:31:
> boost/tokenizer.hpp: No such file or directory.
>
> If anyone could suggest it will be a great help.
>
>  Below is more detail message.
>
> * installing to library ?/Users/yonwoo/Library/R/2.10/library?
> * installing *source* package ?spp? ...
> ** libs
> ** arch - i386
> g++ -arch i386 -I/Library/Frameworks/R.framework/Resources/include -I/
> Library/Frameworks/R.framework/Resources/include/i386  -I/usr/local/
> include   -D_FASTMAP -DMAQ_LONGREADS	 -fPIC  -g -O2 -c bed2vector.C -o
> bed2vector.o
> In file included from /usr/include/c++/4.0.0/backward/strstream:51,
>                  from bed2vector.C:7:
> /usr/include/c++/4.0.0/backward/backward_warning.h:32:2: warning:
> #warning This file includes at least one deprecated or antiquated
> header. Please consider using one of the 32 headers found in section
> 17.4.1.2 of the C++ standard. Examples include substituting the <X>
> header for the <X.h> header for C++ includes, or <iostream> instead of
> the deprecated header <iostream.h>. To disable this warning use -Wno-
> deprecated.
> bed2vector.C:13:31: error: boost/tokenizer.hpp: No such file or
> directory

I can't find the package in order to help and try this out, but it  
looks as if you just need to get the boost libraries:

http://www.boost.org/
http://www.boost.org/doc/libs/1_40_0/more/getting_started/unix-variants.html

Just make sure that the library is in your compiler's include path.

-steve

--
Steve Lianoglou
Graduate Student: Computational Systems Biology
   |  Memorial Sloan-Kettering Cancer Center
   |  Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From engrav at u.washington.edu  Wed Nov  4 18:28:55 2009
From: engrav at u.washington.edu (Loren Engrav)
Date: Wed, 04 Nov 2009 09:28:55 -0800
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <39651145-8CCD-49F8-8857-189621C2ED69@me.com>
Message-ID: <C716F9D7.2434B%engrav@u.washington.edu>

I also found the R.app management of .Rhistory difficult to understand
Finally gave up trying to understand and did this

In 64 bit R on Mac Pro

Checked Read history file on startup

Then entered ~/.engravRhistory in the R history file: AND HIT RETURN

(whole things fails if you do not hit return)

Checked Cleanup history entries

Now have visible file called engravRhistory.Rhistory in home folder and
history loads Ok at startup

Is not pretty but am no longer fiddling with history file and losing command
history

Then in 32 bit on MacBook Pro

Did same thing but here the file is named .engravRhistory and is invisible,
but still works

The "hit return" after entering the path/name might be what you are missing

All assuming you have done nothing with .Rprofile








> From: Rob Goedman <robjgoedman at me.com>
> Date: Wed, 04 Nov 2009 07:05:39 -0800
> To: vi <vishyiyer at gmail.com>
> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
> Subject: Re: [R-SIG-Mac] R.app intractable history problem
> 
> Hi Vi,
> 
> Is there anything in your in your .Rprofile, .First or .Last?
> 
> Another quick suggestion, can you try with e.g. .myRhistory, so
> changing the last part of the path name?
> 
> I'm assuming the 'Read history file on startup' item is checked in the
> Startup preferences panel.
> 
> Thanks,
> Rob
> 
> 
> On Nov 3, 2009, at 6:20 PM, vi wrote:
> 
>> I have seen this asked before and read the threads but cannot find a
>> clear answer to this problem.
>> 
>> I cannot manage to get the history to work from R.app. I am running R
>> version 2.9.0 on an iMac OSX 10.5.8 (Leopard). I've tried
>> 
>> 1. Using default paths and names for startup (~) and history file
>> (.Rhistory). Run R.app by clicking on the dock, run a few commands. If
>> I save workspace, it writes ~/.Rhistory but that file is always blank.
>> Next session of R.app there is no history available of course. (If I
>> don't save workspace on exit, it does not write a ~/.Rhistory file at
>> all. Is this normal?)
>> 
>> 2. Changing startup path but using the same name for history file (~/
>> xxx/yyy/.Rhistory). I read my problem could be that R writes to the
>> default location after R.app exits, so it could therefore be empty. I
>> change the path in the Preferences->Startup-> Initial working
>> directory (~/xxx/yyy/) and then the R history file in pref. to /Users/
>> myname/xxx/yyy/.Rhistory and hit return before clicking anywhere else.
>> It automatically changes it to ~/xxx/yyy/.Rhistory so it apparently
>> recognizes my change. Then I enter a few commands in R and quit.
>> Again, if I save workspace, it creates ~/xxx/yyy/.Rhistory but it's
>> always empty. If I don't save workspace, the specified history file is
>> not even created.
>> 
>> 3. Changing startup path and trying to use a different name for
>> history file (~/xxx/yyy/.Rhistory_me).  I change the path in the
>> Preferences->Startup-> Initial working directory (~/xxx/yyy/) and then
>> the R history file in pref. to either /Users/myname/xxx/
>> yyy/.Rhistory_me or /Users/myname/xxx/yyy/me_Rhistory and hit return
>> before clicking anywhere else. Then I enter a few commands in R and
>> quit. I save workspace, it creates ~/xxx/yyy/.Rhistory (note it
>> ignores the file name I gave it) but it's always empty. If I go back
>> to preferences, the history file box shows ".Rhistory" regardless of
>> what name I told it to save it as.
>> 
>> 4. d&d folder onto R.app icon, .Rhistory is written to that folder as
>> expected, but it remains empty no matter what.
>> 
>> Tried deleting preference file multiple times, no help. I cannot
>> manage to get anything into the .Rhistory file from R.app. R from
>> terminal seems okay in this regard.
>> 
>> So what is the way to make R.app actually save its history somewhere?
>> I don't want to use the history slide out button on the console and
>> have to save a file with each session, I'd like it to be automatic.
>> Thanks!
>> vi
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dwinsemius at comcast.net  Wed Nov  4 23:04:14 2009
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 4 Nov 2009 17:04:14 -0500
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <C716F9D7.2434B%engrav@u.washington.edu>
References: <C716F9D7.2434B%engrav@u.washington.edu>
Message-ID: <CB35EFEB-1168-462A-AD4A-D5843BE492AA@comcast.net>


On Nov 4, 2009, at 12:28 PM, Loren Engrav wrote:

> I also found the R.app management of .Rhistory difficult to understand
> Finally gave up trying to understand and did this
>
> In 64 bit R on Mac Pro
>
> Checked Read history file on startup
>
> Then entered ~/.engravRhistory in the R history file: AND HIT RETURN
>
> (whole things fails if you do not hit return)
>
> Checked Cleanup history entries
>
> Now have visible file called engravRhistory.Rhistory in home folder  
> and
> history loads Ok at startup
>
> Is not pretty but am no longer fiddling with history file and losing  
> command
> history
>
> Then in 32 bit on MacBook Pro
>
> Did same thing but here the file is named .engravRhistory and is  
> invisible,
> but still works

There are several Terminal incantations that will make the default for  
Finder.app to display hidden files. Apparently you have your desktop  
machine set to one style and the other is still in the default mode.

Here's how to change it. From a Terminal window:
defaults write com.apple.Finder AppleShowAllFiles YES
And then restart the Finder with option-click on the Funder icon and  
choose relaunch. (or an alternative in the Terminal session would be  
to type:   killall Finder      )

The reverse effect is obtained by repeating with NO instead of YES.

>
> The "hit return" after entering the path/name might be what you are  
> missing
>
> All assuming you have done nothing with .Rprofile
>
>
>

David Winsemius, MD
Heritage Laboratories
West Hartford, CT


From peter.dixon at ualberta.ca  Wed Nov  4 23:23:53 2009
From: peter.dixon at ualberta.ca (Peter Dixon)
Date: Wed, 4 Nov 2009 15:23:53 -0700
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <C716F9D7.2434B%engrav@u.washington.edu>
References: <C716F9D7.2434B%engrav@u.washington.edu>
Message-ID: <6950F0A8-2B17-497A-9402-5DDAE3E586D6@ualberta.ca>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091104/d38164dd/attachment.pl>

From engrav at u.washington.edu  Wed Nov  4 23:34:40 2009
From: engrav at u.washington.edu (Loren Engrav)
Date: Wed, 04 Nov 2009 14:34:40 -0800
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <CB35EFEB-1168-462A-AD4A-D5843BE492AA@comcast.net>
Message-ID: <C7174180.24374%engrav@u.washington.edu>

Maybe visible invisible unrelated to R.app but is interesting
And I have no other ".invisible" files showing

On further exploration
Turns out on the Mac Pro I also have invisible .engravRhistory and this is
the file being used by R.app
The visible engravRhistory.Rhistory must be from long back when I was
fiddling with this
So I just deleted it and R history still works fine

Cool, thanks


> From: David Winsemius <dwinsemius at comcast.net>
> Date: Wed, 4 Nov 2009 17:04:14 -0500
> To: Loren Engrav <engrav at u.washington.edu>
> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
> Subject: Re: [R-SIG-Mac] R.app intractable history problem
> 
> 
> On Nov 4, 2009, at 12:28 PM, Loren Engrav wrote:
> 
>> I also found the R.app management of .Rhistory difficult to understand
>> Finally gave up trying to understand and did this
>> 
>> In 64 bit R on Mac Pro
>> 
>> Checked Read history file on startup
>> 
>> Then entered ~/.engravRhistory in the R history file: AND HIT RETURN
>> 
>> (whole things fails if you do not hit return)
>> 
>> Checked Cleanup history entries
>> 
>> Now have visible file called engravRhistory.Rhistory in home folder
>> and
>> history loads Ok at startup
>> 
>> Is not pretty but am no longer fiddling with history file and losing
>> command
>> history
>> 
>> Then in 32 bit on MacBook Pro
>> 
>> Did same thing but here the file is named .engravRhistory and is
>> invisible,
>> but still works
> 
> There are several Terminal incantations that will make the default for
> Finder.app to display hidden files. Apparently you have your desktop
> machine set to one style and the other is still in the default mode.
> 
> Here's how to change it. From a Terminal window:
> defaults write com.apple.Finder AppleShowAllFiles YES
> And then restart the Finder with option-click on the Funder icon and
> choose relaunch. (or an alternative in the Terminal session would be
> to type:   killall Finder      )
> 
> The reverse effect is obtained by repeating with NO instead of YES.
> 
>> 
>> The "hit return" after entering the path/name might be what you are
>> missing
>> 
>> All assuming you have done nothing with .Rprofile
>> 
>> 
>> 
> 
> David Winsemius, MD
> Heritage Laboratories
> West Hartford, CT
>


From alitule at yahoo.com  Thu Nov  5 00:07:51 2009
From: alitule at yahoo.com (Ali S)
Date: Wed, 4 Nov 2009 15:07:51 -0800 (PST)
Subject: [R-SIG-Mac] Problems loading data file in Mac--How do you specify
	path name
Message-ID: <326505.65953.qm@web112316.mail.gq1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091104/5d9c1874/attachment.pl>

From murdoch at stats.uwo.ca  Thu Nov  5 01:00:32 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Wed, 04 Nov 2009 19:00:32 -0500
Subject: [R-SIG-Mac] Problems loading data file in Mac--How do you
 specify path name
In-Reply-To: <326505.65953.qm@web112316.mail.gq1.yahoo.com>
References: <326505.65953.qm@web112316.mail.gq1.yahoo.com>
Message-ID: <4AF215A0.1000403@stats.uwo.ca>

On 04/11/2009 6:07 PM, Ali S wrote:
> I have used R in Windows, but am now trying it on a Mac. I am having problems loading my data as I am not sure how the path names work. Here is what I have tried and am getting errors with:
> 
> 
> sfs2<-read.delim(???/Users/fj/Documents/Data/Analysis/student2.txt", header
> = TRUE, sep = "\t")

If that was cut and paste, it looks as though you used the wrong kind of 
quotes for the open quote.  But the easiest way to get the path right is 
the same on the Mac as on Windows:  use file.choose() rather than typing 
it explicitly.

Duncan Murdoch

> 
> 
> 
> 
> 
> I would appreciate any suggestions.
> Thanks!
> 
> 
>       
> 	[[alternative HTML version deleted]]
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From robjgoedman at me.com  Thu Nov  5 01:53:04 2009
From: robjgoedman at me.com (Rob Goedman)
Date: Wed, 04 Nov 2009 16:53:04 -0800
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <C7174180.24374%engrav@u.washington.edu>
References: <C7174180.24374%engrav@u.washington.edu>
Message-ID: <56BD5D48-6838-4534-9C8C-AF43923FFE4B@me.com>

The 'problem' is that both R.app and R itself save the history file  
(based on their settings). R saves the history after R.app, so if they  
both have the same name it can (and has on a few occasions :-) create  
a problem. Hence my suggestion to Vi to change the R.app name.

R.app will store the history in the file set in the preferences.  
Saving the workspace does not play here. All of this (saving history,  
preferences and optional the workspace) happens on quitting R, which  
is what Vi used to test.

Rob


On Nov 4, 2009, at 2:34 PM, Loren Engrav wrote:

> Maybe visible invisible unrelated to R.app but is interesting
> And I have no other ".invisible" files showing
>
> On further exploration
> Turns out on the Mac Pro I also have invisible .engravRhistory and  
> this is
> the file being used by R.app
> The visible engravRhistory.Rhistory must be from long back when I was
> fiddling with this
> So I just deleted it and R history still works fine
>
> Cool, thanks
>
>
>> From: David Winsemius <dwinsemius at comcast.net>
>> Date: Wed, 4 Nov 2009 17:04:14 -0500
>> To: Loren Engrav <engrav at u.washington.edu>
>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>> Subject: Re: [R-SIG-Mac] R.app intractable history problem
>>
>>
>> On Nov 4, 2009, at 12:28 PM, Loren Engrav wrote:
>>
>>> I also found the R.app management of .Rhistory difficult to  
>>> understand
>>> Finally gave up trying to understand and did this
>>>
>>> In 64 bit R on Mac Pro
>>>
>>> Checked Read history file on startup
>>>
>>> Then entered ~/.engravRhistory in the R history file: AND HIT RETURN
>>>
>>> (whole things fails if you do not hit return)
>>>
>>> Checked Cleanup history entries
>>>
>>> Now have visible file called engravRhistory.Rhistory in home folder
>>> and
>>> history loads Ok at startup
>>>
>>> Is not pretty but am no longer fiddling with history file and losing
>>> command
>>> history
>>>
>>> Then in 32 bit on MacBook Pro
>>>
>>> Did same thing but here the file is named .engravRhistory and is
>>> invisible,
>>> but still works
>>
>> There are several Terminal incantations that will make the default  
>> for
>> Finder.app to display hidden files. Apparently you have your desktop
>> machine set to one style and the other is still in the default mode.
>>
>> Here's how to change it. From a Terminal window:
>> defaults write com.apple.Finder AppleShowAllFiles YES
>> And then restart the Finder with option-click on the Funder icon and
>> choose relaunch. (or an alternative in the Terminal session would be
>> to type:   killall Finder      )
>>
>> The reverse effect is obtained by repeating with NO instead of YES.
>>
>>>
>>> The "hit return" after entering the path/name might be what you are
>>> missing
>>>
>>> All assuming you have done nothing with .Rprofile
>>>
>>>
>>>
>>
>> David Winsemius, MD
>> Heritage Laboratories
>> West Hartford, CT
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dwinsemius at comcast.net  Thu Nov  5 02:53:12 2009
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 4 Nov 2009 20:53:12 -0500
Subject: [R-SIG-Mac] Problems loading data file in Mac--How do you
	specify path name
In-Reply-To: <4AF215A0.1000403@stats.uwo.ca>
References: <326505.65953.qm@web112316.mail.gq1.yahoo.com>
	<4AF215A0.1000403@stats.uwo.ca>
Message-ID: <E2284082-0584-4171-8F4B-0652EE7A5D24@comcast.net>


On Nov 4, 2009, at 7:00 PM, Duncan Murdoch wrote:

> On 04/11/2009 6:07 PM, Ali S wrote:
>> I have used R in Windows, but am now trying it on a Mac. I am  
>> having problems loading my data as I am not sure how the path names  
>> work. Here is what I have tried and am getting errors with:
>> sfs2<-read.delim(???/Users/fj/Documents/Data/Analysis/ 
>> student2.txt", header
>> = TRUE, sep = "\t")
>
> If that was cut and paste, it looks as though you used the wrong  
> kind of quotes for the open quote.  But the easiest way to get the  
> path right is the same on the Mac as on Windows:  use file.choose()  
> rather than typing it explicitly.

That would work, but....

On the Mac the easiest way to get a correct path (at least in  
Urbanek's GUI version) is to drag and drop. In a console window, set  
up your read function as:

test <- read.table(file="", header = TRUE)

and then activate a Finder window with your target file, and click- 
hold-drag that file so that the cursor is between the quotes and  
release. A properly constructed reference to the file will appear. Mac- 
magic ala Urbanek!

-- 

David Winsemius, MD
Heritage Laboratories
West Hartford, CT


From dwinsemius at comcast.net  Thu Nov  5 03:13:35 2009
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 4 Nov 2009 21:13:35 -0500
Subject: [R-SIG-Mac] Problems loading data file in Mac--How do you
	specify path name
In-Reply-To: <326505.65953.qm@web112316.mail.gq1.yahoo.com>
References: <326505.65953.qm@web112316.mail.gq1.yahoo.com>
Message-ID: <F2808147-BE1B-471B-965F-748A712C190F@comcast.net>


On Nov 4, 2009, at 6:07 PM, Ali S wrote:

> I have used R in Windows, but am now trying it on a Mac. I am having  
> problems loading my data as I am not sure how the path names work.  
> Here is what I have tried and am getting errors with:
>
>
> sfs2<-read.delim(?/Users/fj/Documents/Data/Analysis/student2.txt",  
> header
> = TRUE, sep = "\t")

I've already posted an example of "works" on the GUI version, but this  
is showing up as unmatched double-quotes on my Mail.app reader. All I  
can say is "death to smart-quotes", a programming abomination if I  
ever saw one.

-- 
David
--

David Winsemius, MD
Heritage Laboratories
West Hartford, CT


From vishyiyer at gmail.com  Wed Nov  4 20:03:29 2009
From: vishyiyer at gmail.com (vi)
Date: Wed, 4 Nov 2009 11:03:29 -0800 (PST)
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <C716F9D7.2434B%engrav@u.washington.edu>
References: <C716F9D7.2434B%engrav@u.washington.edu>
Message-ID: <49eda949-b49b-470c-8e3d-87a28122118d@c3g2000yqd.googlegroups.com>

Thanks for all the responses! Just some answers to the questions:

- I don't have anything in my .Rprofile, .First and .Last. In fact I
don't have these files on my computer, they were not created by me or
by R.

- 'Read history file on startup' item is indeed checked in the Startup
preferences panel

- "that folder" in my d&d comment refers to the folder I drag and drop
onto the R icon in dock. In this case, .Rhistory is created on exit in
the folder I dropped. As Rob mentioned, this is the correct behavior
when the "Always apply" is unchecked in prefs. But for me
the .Rhistory file always remains blank even though it's created in
the correct location.

- Most bizzare for me is that no matter what file name I enter for the
history file in prefs, with or without dot (ie, ~/myhistory
OR .myhistory OR myhistory OR myname OR ~/xxx/yyy/myname OR /Users/me/
xxx/yyy/myfile.txt or whatever), it ALWAYS goes back to .Rhistory
after I quit, and the file is ALWAYS empty. But it IS created in the
location I specify, in addition to a copy of .Rhistory in my home
directory.

- I do hit return after entering the path/filename in the prefs box.
Thanks to Loren and others who'd worked this out earlier.

My behavior also seems to be different from William Doane (thanks Rob,
I'd missed that exchange in my searching). It's one of these things
where I initially thought I was missing something obvious so I haven't
tried upgrading yet, but I agree I should upgrade (will probably do a
fresh install of 2.10) and hope it works.


From vishyiyer at gmail.com  Thu Nov  5 00:55:22 2009
From: vishyiyer at gmail.com (vi)
Date: Wed, 4 Nov 2009 15:55:22 -0800 (PST)
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <C7174180.24374%engrav@u.washington.edu>
References: <C7174180.24374%engrav@u.washington.edu>
Message-ID: <fe8b26e0-edbe-4dd6-b352-c6061648a41d@r24g2000yqd.googlegroups.com>

I posted a response earlier but it hasn't shown up as it's
moderated... But I just wanted to mention again - in my case, even if
I enter my own filename with or without dot anywhere, R.app
mysteriously changes it to .Rhistory, in whatever directory I specify!
I look for files with ls -al in Terminal.

I've now tried installing R 2.10 and going back to R 2.7 on two
computers (iMac and Macbook both running 10.5.8) and get the same
behavior.

On Nov 4, 4:34?pm, Loren Engrav <eng... at u.washington.edu> wrote:
> Maybe visible invisible unrelated to R.app but is interesting
> And I have no other ".invisible" files showing
>
> On further exploration
> Turns out on the Mac Pro I also have invisible .engravRhistory and this is
> the file being used by R.app
> The visible engravRhistory.Rhistory must be from long back when I was
> fiddling with this
> So I just deleted it and R history still works fine
>
> Cool, thanks
>
>
>
> > From: David Winsemius <dwinsem... at comcast.net>
> > Date: Wed, 4 Nov 2009 17:04:14 -0500
> > To: Loren Engrav <eng... at u.washington.edu>
> > Cc: "r-sig-... at stat.math.ethz.ch" <r-sig-... at stat.math.ethz.ch>
> > Subject: Re: [R-SIG-Mac] R.app intractable history problem
>
> > On Nov 4, 2009, at 12:28 PM, Loren Engrav wrote:
>
> >> I also found the R.app management of .Rhistory difficult to understand
> >> Finally gave up trying to understand and did this
>
> >> In 64 bit R on Mac Pro
>
> >> Checked Read history file on startup
>
> >> Then entered ~/.engravRhistory in the R history file: AND HIT RETURN
>
> >> (whole things fails if you do not hit return)
>
> >> Checked Cleanup history entries
>
> >> Now have visible file called engravRhistory.Rhistory in home folder
> >> and
> >> history loads Ok at startup
>
> >> Is not pretty but am no longer fiddling with history file and losing
> >> command
> >> history
>
> >> Then in 32 bit on MacBook Pro
>
> >> Did same thing but here the file is named .engravRhistory and is
> >> invisible,
> >> but still works
>
> > There are several Terminal incantations that will make the default for
> > Finder.app to display hidden files. Apparently you have your desktop
> > machine set to one style and the other is still in the default mode.
>
> > Here's how to change it. From a Terminal window:
> > defaults write com.apple.Finder AppleShowAllFiles YES
> > And then restart the Finder with option-click on the Funder icon and
> > choose relaunch. (or an alternative in the Terminal session would be
> > to type: ? killall Finder ? ? ?)
>
> > The reverse effect is obtained by repeating with NO instead of YES.
>
> >> The "hit return" after entering the path/name might be what you are
> >> missing
>
> >> All assuming you have done nothing with .Rprofile
>
> > David Winsemius, MD
> > Heritage Laboratories
> > West Hartford, CT
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-... at stat.math.ethz.chhttps://stat.ethz.ch/mailman/listinfo/r-sig-mac


From glaurans at gmail.com  Thu Nov  5 09:49:14 2009
From: glaurans at gmail.com (=?ISO-8859-1?Q?Ga=EBl_Laurans?=)
Date: Thu, 5 Nov 2009 09:49:14 +0100
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <49eda949-b49b-470c-8e3d-87a28122118d@c3g2000yqd.googlegroups.com>
References: <C716F9D7.2434B%engrav@u.washington.edu>
	<49eda949-b49b-470c-8e3d-87a28122118d@c3g2000yqd.googlegroups.com>
Message-ID: <DF5F6E79-C30D-4752-9A45-850B4B62217B@gmail.com>


On Nov 4, 2009, at 8:03 PM, vi wrote:

> Thanks for all the responses! Just some answers to the questions:
>
> - I don't have anything in my .Rprofile, .First and .Last. In fact I
> don't have these files on my computer, they were not created by me or
> by R.

.Last and .First are functions (potentially stored in a workspace, not  
necessarily defined in .Rprofile or anything). Simply type ".Last" or  
".First" at the R prompt to know if they are defined.

> - "that folder" in my d&d comment refers to the folder I drag and drop
> onto the R icon in dock. In this case, .Rhistory is created on exit in
> the folder I dropped. As Rob mentioned, this is the correct behavior
> when the "Always apply" is unchecked in prefs. But for me
> the .Rhistory file always remains blank even though it's created in
> the correct location.
> [?]
> - Most bizzare for me is that no matter what file name I enter for the
> history file in prefs, with or without dot (ie, ~/myhistory
> OR .myhistory OR myhistory OR myname OR ~/xxx/yyy/myname OR /Users/me/
> xxx/yyy/myfile.txt or whatever), it ALWAYS goes back to .Rhistory
> after I quit, and the file is ALWAYS empty. But it IS created in the
> location I specify, in addition to a copy of .Rhistory in my home
> directory.
> [?]
> My behavior also seems to be different from William Doane (thanks Rob,
> I'd missed that exchange in my searching). It's one of these things
> where I initially thought I was missing something obvious so I haven't
> tried upgrading yet, but I agree I should upgrade (will probably do a
> fresh install of 2.10) and hope it works.

The way you quit R seems to make a difference. If you use the menu or  
the Cmd+Q shortcut, R.app will save its history in the file defined in  
the preferences, but if you type quit() at the R prompt, R.app will  
not save its history at all. R itself will save its (empty) history  
and overwrite the .Rhistory file whenever you save your workspace upon  
quitting (i.e. if you say "yes" after quitting through the menu or use  
quit(save="yes") or set "save workspace on exit" to Yes in R.app's  
preferences), which might explain why you find empty .Rhistory files  
all over the place.

Regarding the preferences, I think someone mentioned it already but  
did you press "enter" immediately after entering the filename (without  
clicking anywhere)? If nothing helps, you can also edit ~/Preferences/ 
org.R-project.R.plist but that shouldn't be necessary.

Ga?l

From robjgoedman at me.com  Thu Nov  5 15:55:15 2009
From: robjgoedman at me.com (Rob Goedman)
Date: Thu, 05 Nov 2009 06:55:15 -0800
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <DF5F6E79-C30D-4752-9A45-850B4B62217B@gmail.com>
References: <C716F9D7.2434B%engrav@u.washington.edu>
	<49eda949-b49b-470c-8e3d-87a28122118d@c3g2000yqd.googlegroups.com>
	<DF5F6E79-C30D-4752-9A45-850B4B62217B@gmail.com>
Message-ID: <2ACFF06C-2A17-4F85-A386-5F81CBFB386A@me.com>

Hi Vi,

Can you check if any change you make to the preferences is stored and  
carried over to a next session. We've had a few cases where the  
preferences file could not be saved due to permissions. If no  
preference is available, the default name used is indeed .Rhistory.  
E.g. change the CRAN mirror, quit and restart.

Ga?l, thanks for pointing out the possibility of .First etc being  
stored in .Rdata. That hadn't sunk in yet.

Rob


On Nov 5, 2009, at 12:49 AM, Ga?l Laurans wrote:

>
> On Nov 4, 2009, at 8:03 PM, vi wrote:
>
>> Thanks for all the responses! Just some answers to the questions:
>>
>> - I don't have anything in my .Rprofile, .First and .Last. In fact I
>> don't have these files on my computer, they were not created by me or
>> by R.
>
> .Last and .First are functions (potentially stored in a workspace,  
> not necessarily defined in .Rprofile or anything). Simply type  
> ".Last" or ".First" at the R prompt to know if they are defined.
>
>> - "that folder" in my d&d comment refers to the folder I drag and  
>> drop
>> onto the R icon in dock. In this case, .Rhistory is created on exit  
>> in
>> the folder I dropped. As Rob mentioned, this is the correct behavior
>> when the "Always apply" is unchecked in prefs. But for me
>> the .Rhistory file always remains blank even though it's created in
>> the correct location.
>> [?]
>> - Most bizzare for me is that no matter what file name I enter for  
>> the
>> history file in prefs, with or without dot (ie, ~/myhistory
>> OR .myhistory OR myhistory OR myname OR ~/xxx/yyy/myname OR /Users/ 
>> me/
>> xxx/yyy/myfile.txt or whatever), it ALWAYS goes back to .Rhistory
>> after I quit, and the file is ALWAYS empty. But it IS created in the
>> location I specify, in addition to a copy of .Rhistory in my home
>> directory.
>> [?]
>> My behavior also seems to be different from William Doane (thanks  
>> Rob,
>> I'd missed that exchange in my searching). It's one of these things
>> where I initially thought I was missing something obvious so I  
>> haven't
>> tried upgrading yet, but I agree I should upgrade (will probably do a
>> fresh install of 2.10) and hope it works.
>
> The way you quit R seems to make a difference. If you use the menu  
> or the Cmd+Q shortcut, R.app will save its history in the file  
> defined in the preferences, but if you type quit() at the R prompt,  
> R.app will not save its history at all. R itself will save its  
> (empty) history and overwrite the .Rhistory file whenever you save  
> your workspace upon quitting (i.e. if you say "yes" after quitting  
> through the menu or use quit(save="yes") or set "save workspace on  
> exit" to Yes in R.app's preferences), which might explain why you  
> find empty .Rhistory files all over the place.
>
> Regarding the preferences, I think someone mentioned it already but  
> did you press "enter" immediately after entering the filename  
> (without clicking anywhere)? If nothing helps, you can also edit ~/ 
> Preferences/org.R-project.R.plist but that shouldn't be necessary.
>
> Ga?l
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From obrienralph at gmail.com  Thu Nov  5 16:27:48 2009
From: obrienralph at gmail.com (Ralph O'Brien, PhD)
Date: Thu, 5 Nov 2009 10:27:48 -0500
Subject: [R-SIG-Mac] Problems loading data file in Mac--How do you
	specify path name
In-Reply-To: <F2808147-BE1B-471B-965F-748A712C190F@comcast.net>
References: <326505.65953.qm@web112316.mail.gq1.yahoo.com> 
	<F2808147-BE1B-471B-965F-748A712C190F@comcast.net>
Message-ID: <e38ad0b30911050727j1e5f1e0ai5fa9172749b3508d@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091105/0efa1515/attachment.pl>

From vishyiyer at gmail.com  Thu Nov  5 16:52:15 2009
From: vishyiyer at gmail.com (Vishy Iyer)
Date: Thu, 5 Nov 2009 09:52:15 -0600
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <DF5F6E79-C30D-4752-9A45-850B4B62217B@gmail.com>
References: <C716F9D7.2434B%engrav@u.washington.edu>
	<49eda949-b49b-470c-8e3d-87a28122118d@c3g2000yqd.googlegroups.com>
	<DF5F6E79-C30D-4752-9A45-850B4B62217B@gmail.com>
Message-ID: <34af2eff0911050752o543f8b76md7c7ba2b76309c72@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091105/572eadd3/attachment.pl>

From mailinglist.honeypot at gmail.com  Thu Nov  5 17:12:40 2009
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Thu, 5 Nov 2009 11:12:40 -0500
Subject: [R-SIG-Mac] Problems loading data file in Mac--How do you
	specify path name
In-Reply-To: <E2284082-0584-4171-8F4B-0652EE7A5D24@comcast.net>
References: <326505.65953.qm@web112316.mail.gq1.yahoo.com>
	<4AF215A0.1000403@stats.uwo.ca>
	<E2284082-0584-4171-8F4B-0652EE7A5D24@comcast.net>
Message-ID: <81946A4D-6BD0-4852-AF94-A67D4944E9B6@gmail.com>


On Nov 4, 2009, at 8:53 PM, David Winsemius wrote:

>
> On Nov 4, 2009, at 7:00 PM, Duncan Murdoch wrote:
>
>> On 04/11/2009 6:07 PM, Ali S wrote:
>>> I have used R in Windows, but am now trying it on a Mac. I am  
>>> having problems loading my data as I am not sure how the path  
>>> names work. Here is what I have tried and am getting errors with:
>>> sfs2<-read.delim(???/Users/fj/Documents/Data/Analysis/ 
>>> student2.txt", header
>>> = TRUE, sep = "\t")
>>
>> If that was cut and paste, it looks as though you used the wrong  
>> kind of quotes for the open quote.  But the easiest way to get the  
>> path right is the same on the Mac as on Windows:  use file.choose()  
>> rather than typing it explicitly.
>
> That would work, but....
>
> On the Mac the easiest way to get a correct path (at least in  
> Urbanek's GUI version) is to drag and drop. In a console window, set  
> up your read function as:
>
> test <- read.table(file="", header = TRUE)
>
> and then activate a Finder window with your target file, and click- 
> hold-drag that file so that the cursor is between the quotes and  
> release. A properly constructed reference to the file will appear.  
> Mac-magic ala Urbanek!

In case anyone didn't know, this also works when using R via the  
terminal (though not as slick).

The difference is that you have to manually move the cursor back  
between the two quotes that you want the file path to appear in before  
you drop the file into the terminal .. still handy to know, though.

-steve

>
> -- 
>
> David Winsemius, MD
> Heritage Laboratories
> West Hartford, CT
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

--
Steve Lianoglou
Graduate Student: Computational Systems Biology
   |  Memorial Sloan-Kettering Cancer Center
   |  Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From robjgoedman at me.com  Thu Nov  5 17:36:23 2009
From: robjgoedman at me.com (Rob Goedman)
Date: Thu, 05 Nov 2009 08:36:23 -0800
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <34af2eff0911050752o543f8b76md7c7ba2b76309c72@mail.gmail.com>
References: <C716F9D7.2434B%engrav@u.washington.edu>
	<49eda949-b49b-470c-8e3d-87a28122118d@c3g2000yqd.googlegroups.com>
	<DF5F6E79-C30D-4752-9A45-850B4B62217B@gmail.com>
	<34af2eff0911050752o543f8b76md7c7ba2b76309c72@mail.gmail.com>
Message-ID: <DEEA36ED-4158-4BD4-839F-EC8E8EDBFE08@me.com>

This is clearly a bug. Thanks Ga?l! Just now tried it (on SnowLeopard)  
and it shows the same behavior.

In R.app, q() should also get to the point where it will close the  
console window (which is where we update preferences, history etc).  
I'll check the sources to see if and why it is not (or no longer?)  
getting to that point.

Thanks for staying with this!

Rob


On Nov 5, 2009, at 7:52 AM, Vishy Iyer wrote:

> On Thu, Nov 5, 2009 at 2:49 AM, Ga?l Laurans <glaurans at gmail.com>  
> wrote:
>
>
>> The way you quit R seems to make a difference. If you use the menu  
>> or the
>> Cmd+Q shortcut, R.app will save its history in the file defined in  
>> the
>> preferences, but if you type quit() at the R prompt, R.app will not  
>> save its
>> history at all.
>>
>>
> Wow, this completely solved my problem! I couldn't find this  
> documented
> anywhere, but as you said, if I quit R.app using the menu command or  
> Cmd+Q
> or the switch icon on the top right of the GUI, it writes the  
> history file
> properly. I don't even need to save the workspace anymore! But if I  
> quit
> with q(), which is what I was doing all this time before,  
> the .Rhistory file
> was always empty. I guess I was running into the problem of R always
> overwriting R.app.
>
> I still need to check into the issue of the renaming of the history  
> file
> (changing automatically from my name to ".Rhistory") but I bet it's  
> related
> to the same thing of how I quit. Rob to answer your question, I can  
> indeed
> make changes to the preferences and they ARE carried over into the  
> next
> session (as long as it's not renaming the history file). So thanks  
> again for
> all the help!
> V.
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From robjgoedman at me.com  Thu Nov  5 23:45:31 2009
From: robjgoedman at me.com (Rob Goedman)
Date: Thu, 05 Nov 2009 14:45:31 -0800
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <DEEA36ED-4158-4BD4-839F-EC8E8EDBFE08@me.com>
References: <C716F9D7.2434B%engrav@u.washington.edu>
	<49eda949-b49b-470c-8e3d-87a28122118d@c3g2000yqd.googlegroups.com>
	<DF5F6E79-C30D-4752-9A45-850B4B62217B@gmail.com>
	<34af2eff0911050752o543f8b76md7c7ba2b76309c72@mail.gmail.com>
	<DEEA36ED-4158-4BD4-839F-EC8E8EDBFE08@me.com>
Message-ID: <EF6B20BE-7A53-41FB-9279-F1E78AF707F0@me.com>

Twice I've tried to send below email. I do get a message back that it  
is being processed but it never shows up in my mailbox from r-sig-mac.  
Agustin and I are exchanging emails to sort out his issue, but I'm  
just wondering if other folks have ongoing history trouble on their  
systems.

Regards,
Rob

------------------------------------------------------------------------------------------------------------------------

Agustin,

If you don't see the history being saved after using Cmd-Q or the menu  
item Quit R, please send me a message (just to me) and we'll work on  
finding out what is happening. Not sure if we should bother the entire  
alias too much. If it turns out to be of general interest, I'll report  
it back to the list.

If other folks are also 'silently' suffering, please send me a private  
email as well.

Thanks,
Rob


From simon.urbanek at r-project.org  Fri Nov  6 01:59:12 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 5 Nov 2009 16:59:12 -0800
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <DEEA36ED-4158-4BD4-839F-EC8E8EDBFE08@me.com>
References: <C716F9D7.2434B%engrav@u.washington.edu>
	<49eda949-b49b-470c-8e3d-87a28122118d@c3g2000yqd.googlegroups.com>
	<DF5F6E79-C30D-4752-9A45-850B4B62217B@gmail.com>
	<34af2eff0911050752o543f8b76md7c7ba2b76309c72@mail.gmail.com>
	<DEEA36ED-4158-4BD4-839F-EC8E8EDBFE08@me.com>
Message-ID: <A2B43F18-7512-4F41-B862-848EAB1F739A@r-project.org>



On Nov 5, 2009, at 8:36, Rob Goedman <robjgoedman at me.com> wrote:

> This is clearly a bug.

Can you point me to the docs that support that claim? AFAIR q/quit  
exits R without any regard to things open in the GUI - it's not what  
you usually want - most users will prefer the normal app shutdown  
using close or quit menu.


> Thanks Ga?l! Just now tried it (on SnowLeopard) and it shows the sam 
> e behavior.
>
> In R.app, q() should also get to the point where it will close the  
> console window (which is where we update preferences, history etc).

This was never intended to work in the GUI because it entirely  
bypasses the app quitting mechanism. You should never use q/quit in  
the GUI unless you really mean to exit R right away and discard  
everything (history, all open files, ...)


> I'll check the sources to see if and why it is not (or no longer?)  
> getting to that point.

It never did since the GUI has no control over the quit function which  
exits the process regardless of the GUI

(I'm not saying this is the best way to do it, but that is the design  
so far.. It will require modification to R itself to change this...)

Cheers,
S



Sent from my iPhone


>
> Thanks for staying with this!
>
> Rob
>
>
> On Nov 5, 2009, at 7:52 AM, Vishy Iyer wrote:
>
>> On Thu, Nov 5, 2009 at 2:49 AM, Ga?l Laurans <glaurans at gmail.com>  
>> wrote:
>>
>>
>>> The way you quit R seems to make a difference. If you use the menu  
>>> or the
>>> Cmd+Q shortcut, R.app will save its history in the file defined in  
>>> the
>>> preferences, but if you type quit() at the R prompt, R.app will  
>>> not save its
>>> history at all.
>>>
>>>
>> Wow, this completely solved my problem! I couldn't find this  
>> documented
>> anywhere, but as you said, if I quit R.app using the menu command  
>> or Cmd+Q
>> or the switch icon on the top right of the GUI, it writes the  
>> history file
>> properly. I don't even need to save the workspace anymore! But if I  
>> quit
>> with q(), which is what I was doing all this time before,  
>> the .Rhistory file
>> was always empty. I guess I was running into the problem of R always
>> overwriting R.app.
>>
>> I still need to check into the issue of the renaming of the history  
>> file
>> (changing automatically from my name to ".Rhistory") but I bet it's  
>> related
>> to the same thing of how I quit. Rob to answer your question, I can  
>> indeed
>> make changes to the preferences and they ARE carried over into the  
>> next
>> session (as long as it's not renaming the history file). So thanks  
>> again for
>> all the help!
>> V.
>>
>>    [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From vishyiyer at gmail.com  Fri Nov  6 17:25:07 2009
From: vishyiyer at gmail.com (Vishy Iyer)
Date: Fri, 6 Nov 2009 10:25:07 -0600
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <34af2eff0911050752o543f8b76md7c7ba2b76309c72@mail.gmail.com>
References: <C716F9D7.2434B%engrav@u.washington.edu>
	<49eda949-b49b-470c-8e3d-87a28122118d@c3g2000yqd.googlegroups.com>
	<DF5F6E79-C30D-4752-9A45-850B4B62217B@gmail.com>
	<34af2eff0911050752o543f8b76md7c7ba2b76309c72@mail.gmail.com>
Message-ID: <34af2eff0911060825k77b53c5ava4727b260ec7eab1@mail.gmail.com>

Final twist in this saga for me... I found that if I quit R.app using
the menu command or Cmd+Q AND click on "Save" workspace, it saves the
workspace, and a new .Rhistory file is written, but that .Rhistory
file is empty! Clearly R is overwriting .Rhistory when I save the
workspace, even though I'm using Cmd+Q.

But if I Cmd+Q and click "Don't save" workspace, the .Rhistory file is
saved properly and contains all history.

All of the above is when I've changed the working directory by drag &
dropping on R.app icon (R version 2.10 on Mac OSX 10.5.8)


From robjgoedman at me.com  Fri Nov  6 17:36:32 2009
From: robjgoedman at me.com (Rob Goedman)
Date: Fri, 06 Nov 2009 08:36:32 -0800
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <34af2eff0911060825k77b53c5ava4727b260ec7eab1@mail.gmail.com>
References: <C716F9D7.2434B%engrav@u.washington.edu>
	<49eda949-b49b-470c-8e3d-87a28122118d@c3g2000yqd.googlegroups.com>
	<DF5F6E79-C30D-4752-9A45-850B4B62217B@gmail.com>
	<34af2eff0911050752o543f8b76md7c7ba2b76309c72@mail.gmail.com>
	<34af2eff0911060825k77b53c5ava4727b260ec7eab1@mail.gmail.com>
Message-ID: <3AAFABBC-1F2A-4F8E-9D1C-4B1C0CADEB59@me.com>

Vi,

My machine developed a problem yesterday evening, so I can only do  
email right now.

Can you try below step after renaming the .Rhistory file to something  
like .myRhistory?

As a 2nd question, if you type .Last in RConsole, what does it show?

Thanks,
Rob


On Nov 6, 2009, at 8:25 AM, Vishy Iyer wrote:

> Final twist in this saga for me... I found that if I quit R.app using
> the menu command or Cmd+Q AND click on "Save" workspace, it saves the
> workspace, and a new .Rhistory file is written, but that .Rhistory
> file is empty! Clearly R is overwriting .Rhistory when I save the
> workspace, even though I'm using Cmd+Q.
>
> But if I Cmd+Q and click "Don't save" workspace, the .Rhistory file is
> saved properly and contains all history.
>
> All of the above is when I've changed the working directory by drag &
> dropping on R.app icon (R version 2.10 on Mac OSX 10.5.8)
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From glaurans at gmail.com  Fri Nov  6 18:26:22 2009
From: glaurans at gmail.com (=?ISO-8859-1?Q?Ga=EBl_Laurans?=)
Date: Fri, 6 Nov 2009 18:26:22 +0100
Subject: [R-SIG-Mac] R.app intractable history problem
In-Reply-To: <3AAFABBC-1F2A-4F8E-9D1C-4B1C0CADEB59@me.com>
References: <C716F9D7.2434B%engrav@u.washington.edu>
	<49eda949-b49b-470c-8e3d-87a28122118d@c3g2000yqd.googlegroups.com>
	<DF5F6E79-C30D-4752-9A45-850B4B62217B@gmail.com>
	<34af2eff0911050752o543f8b76md7c7ba2b76309c72@mail.gmail.com>
	<34af2eff0911060825k77b53c5ava4727b260ec7eab1@mail.gmail.com>
	<3AAFABBC-1F2A-4F8E-9D1C-4B1C0CADEB59@me.com>
Message-ID: <58417F4A-D9A4-49CB-943A-C5A6C71A5D40@gmail.com>


On Nov 6, 2009, at 5:36 PM, Rob Goedman wrote:

> Vi,
>
> My machine developed a problem yesterday evening, so I can only do  
> email right now.
>
> Can you try below step after renaming the .Rhistory file to  
> something like .myRhistory?
>
> As a 2nd question, if you type .Last in RConsole, what does it show?
>
> Thanks,
> Rob
>
> On Nov 6, 2009, at 8:25 AM, Vishy Iyer wrote:
>
>> Final twist in this saga for me... I found that if I quit R.app using
>> the menu command or Cmd+Q AND click on "Save" workspace, it saves the
>> workspace, and a new .Rhistory file is written, but that .Rhistory
>> file is empty! Clearly R is overwriting .Rhistory when I save the
>> workspace, even though I'm using Cmd+Q.
>>
>> But if I Cmd+Q and click "Don't save" workspace, the .Rhistory file  
>> is
>> saved properly and contains all history.
>>
>> All of the above is when I've changed the working directory by drag &
>> dropping on R.app icon (R version 2.10 on Mac OSX 10.5.8)


As I tried to explain in my last message, this is exactly the behavior  
I am observing (R.app 1.30-devel, build 5508, R 2.10.0 RC, Mac OS  
10.5.8):
- an empty .Rhistory file is created (potentially overwriting any  
other file by that name) if R.app is setup to automatically save the  
workspace when quitting, when entering quit(save="yes") at the prompt  
or choosing "save" in the popup window, etc.
- R.app's history is saved only when quitting R.app through the GUI,  
not when typing quit() There are two ways to protect this file:  
renaming it and never ever saving your workspace when quitting (i.e.  
save it before, with save.image(), possibly in .Last and choose "no"  
in the "Save workspace on exit from R" box in the preferences)

Incidentally, I noticed that R.app's preferences are also discarded  
when quitting through R's quit() function, which makes sense given  
Simon's explanations but might add some confusion when trying to  
follow the usual advice to change the name of the history file while  
still using quit().

I only understood all this last week when reinstalling R.app but I  
don't recall reading about it in the many threads about history in the  
mailing list archive. Maybe Simon's advice to avoid quit() should be  
added to the FAQ somewhere.

Best,
Ga?l

From steven.lewis at case.edu  Fri Nov  6 23:26:18 2009
From: steven.lewis at case.edu (Steven Lewis)
Date: Fri, 06 Nov 2009 17:26:18 -0500
Subject: [R-SIG-Mac] Getting to the Rgui Configuration Editor on a MAC
Message-ID: <f1f3e29e97d7f.97d7ff1f3e29e@cwru.edu>

 I teach a class in R and have instructed my students to change their GUI preferences to match mine by going to the Rgui Configuration Editor under the Edit menu.  I want them to select MDI and MDI toolbar.  
This works fine for those who have a Windows-based PC.   What do I tell my students who have a MAC?  How and where can they go to accomplish this same task?


---------------------------------------------- 
Steven A. Lewis, MS MBA 
Biostatistician 
Center for Health Care Research & Policy 
MetroHealth Medical Center 
Rammelkamp Research & Educ. Bldg., R226 
2500 MetroHealth Drive 
Cleveland, OH 44109-1998 

Ph: (216) 778-4398
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091106/643427e3/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: sal25.vcf
Type: text/x-vcard
Size: 337 bytes
Desc: Card for Steven Lewis <steven.lewis at case.edu>
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091106/643427e3/attachment.vcf>

From bhh at xs4all.nl  Sat Nov  7 09:36:56 2009
From: bhh at xs4all.nl (Berend Hasselman)
Date: Sat, 7 Nov 2009 09:36:56 +0100
Subject: [R-SIG-Mac] Getting to the Rgui Configuration Editor on a MAC
In-Reply-To: <f1f3e29e97d7f.97d7ff1f3e29e@cwru.edu>
References: <f1f3e29e97d7f.97d7ff1f3e29e@cwru.edu>
Message-ID: <52FDD0F7-95AF-48C1-B59C-9A9FCF9CAC9B@xs4all.nl>


I keep forgetting to do a reply to all with R-Sig Mac. Sorry.

On 06/11/2009, at 23:26, Steven Lewis wrote:

> I teach a class in R and have instructed my students to change their  
> GUI preferences to match mine by going to the Rgui Configuration  
> Editor under the Edit menu.  I want them to select MDI and MDI  
> toolbar.
>

Why?

> This works fine for those who have a Windows-based PC.   What do I  
> tell my students who have a MAC?  How and where can they go to  
> accomplish this same task?
>

They can't. R.app does not have an MDI interface.

Berend


From obrienralph at gmail.com  Fri Nov  6 23:40:10 2009
From: obrienralph at gmail.com (Ralph O'Brien, PhD)
Date: Fri, 6 Nov 2009 17:40:10 -0500
Subject: [R-SIG-Mac] Getting to the Rgui Configuration Editor on a MAC
In-Reply-To: <f1f3e29e97d7f.97d7ff1f3e29e@cwru.edu>
References: <f1f3e29e97d7f.97d7ff1f3e29e@cwru.edu>
Message-ID: <e38ad0b30911061440s619df737uc0509e2a8884e37@mail.gmail.com>

I use JGR (Java GUI for R) and like it a lot. It runs virtually the same on
Windows and Macs and one of my students last spring installed it in Linux.

See attached.


On Fri, Nov 6, 2009 at 5:26 PM, Steven Lewis <steven.lewis at case.edu> wrote:

>  I teach a class in R and have instructed my students to change their GUI
> preferences to match mine by going to the Rgui Configuration Editor under
> the Edit menu.  I want them to select MDI and MDI toolbar.
>
> This works fine for those who have a Windows-based PC.   What do I tell my
> students who have a MAC?  How and where can they go to accomplish this same
> task?
>
>
> ----------------------------------------------
> Steven A. Lewis, MS MBA
> Biostatistician
> Center for Health Care Research & Policy
> MetroHealth Medical Center
> Rammelkamp Research & Educ. Bldg., R226
> 2500 MetroHealth Drive
> Cleveland, OH 44109-1998
>
> Ph: (216) 778-4398
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


-- 
Ralph O'Brien, PhD
Professor, Dept of Epidemiology and Biostatistics
Case Western Reserve University
Office: 216.368.1927
Cell: 216.312.3203
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091106/5aacb23d/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: MuenchenOnJGR.pdf
Type: application/pdf
Size: 608557 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091106/5aacb23d/attachment-0001.pdf>

From christoph.hofer at env.ethz.ch  Mon Nov  9 21:18:42 2009
From: christoph.hofer at env.ethz.ch (Christoph Hofer)
Date: Mon, 9 Nov 2009 21:18:42 +0100
Subject: [R-SIG-Mac] How to link shared objects?
Message-ID: <F50D50AA-77DA-4096-9F40-1081EC5F6B9E@env.ethz.ch>

Dear list


I try to link some own C code of my package with a shared object of an  
other R-package. In "Writing R Extensions"  it's written that  it is ,  
in general, not possible to link a shared object of packageA with  
packageB followed by some hints how to do it  anyway. The manual  
propose the following code for linking during installation of packageA

PKGB_PATH=?echo ?library(packB); cat(system.file("libs",  
package="packB"))? \
| R --vanilla --slave?
PKG_LIBS=-L"$(PKGB_PATH)" -lpackB.

As I'm not so familiar with C where do I have to put this Code? I  
tried it with a Makevars file without
success.

I think it should be possible to link shared objects between different  
packages. I would be appreciate for
any hints in this topic.


Regards

Christoph Hofer



ETH Zurich
Christoph Hofer
Soil and Terrestrial Environmental Physics
Institute of Terrestrial Ecosystems
CHN E 50.2
Universit?tstrasse 16
8092 Zurich, Switzerland
phone         (+41) - (0)44 - 633 63 65
fax               (+41) - (0)44 - 633 11 23
e-mail: christoph.hofer at env.ethz.ch


From jean_pierre.asselin at yahoo.ca  Mon Nov  9 15:27:52 2009
From: jean_pierre.asselin at yahoo.ca (Jean-Pierre Asselin de Beauville)
Date: Mon, 9 Nov 2009 06:27:52 -0800 (PST)
Subject: [R-SIG-Mac] Programmation
Message-ID: <411554.24607.qm@web57410.mail.re1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091109/73117196/attachment.pl>

From J_Cuisinier at hotmail.com  Thu Nov 12 09:22:46 2009
From: J_Cuisinier at hotmail.com (julien cuisinier)
Date: Thu, 12 Nov 2009 09:22:46 +0100
Subject: [R-SIG-Mac] Programmation
In-Reply-To: <411554.24607.qm@web57410.mail.re1.yahoo.com>
References: <411554.24607.qm@web57410.mail.re1.yahoo.com>
Message-ID: <BLU0-SMTP282D4B7FE8AFAB5054B4338FA90@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091112/2de2431b/attachment.pl>

From maj at waikato.ac.nz  Thu Nov 12 12:02:02 2009
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Fri, 13 Nov 2009 00:02:02 +1300
Subject: [R-SIG-Mac] Programmation
In-Reply-To: <411554.24607.qm@web57410.mail.re1.yahoo.com>
References: <411554.24607.qm@web57410.mail.re1.yahoo.com>
Message-ID: <4AFBEB2A.7010605@waikato.ac.nz>

Contrary to Julien I don't see why this is not a reasonable question to 
ask, but it should probably have been asked on the general list r-help 
rather than on this list which is specific to the Mac implementation.

My answer would be that you cannot have a goto statement in a 
programming language unless the statements can be labelled. In R 
statements cannot be labelled so you cannot have a 'goto'.

Several program control structures are available and you can read about 
them in "An introduction to R" under "R help" in the "Help" menu.

Murray Jorgensen

Jean-Pierre Asselin de Beauville wrote:
> Hello
> I am a new user of R programming. I would like to know if it's possible to use the instruction "go to x " with R ?
> Thank you a lot for your answer
> jp
> 
> My adresse : jean_pierre.asselin at yahoo.ca
>  Jean-Pierre Asselin de Beauville
> 
> 
> 
>       D?couvrez les photos les plus int?ressantes du jour.
> 
> 	[[alternative HTML version deleted]]
> 
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html
Department of Statistics, University of Waikato, Hamilton, New Zealand
Email: maj at waikato.ac.nz  majorgensen at ihug.co.nz        Fax 7 838 4155
Phone  +64 7 838 4773 wk    Home +64 7 825 0441   Mobile 021 0200 8350


From oboemike at gmail.com  Thu Nov 12 18:34:50 2009
From: oboemike at gmail.com (Michael Barnett)
Date: Thu, 12 Nov 2009 12:34:50 -0500
Subject: [R-SIG-Mac] package installation issues
Message-ID: <6CBD96AB-8C36-4C06-8B2F-7E21ACD8AC20@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091112/703190aa/attachment.pl>

From mlbarnett at gmail.com  Thu Nov 12 18:33:50 2009
From: mlbarnett at gmail.com (Michael Barnett)
Date: Thu, 12 Nov 2009 12:33:50 -0500
Subject: [R-SIG-Mac] package installation issues
Message-ID: <7BFB69C3-8F6D-4C1E-A114-825D09DB669A@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091112/925c9b73/attachment.pl>

From mailinglist.honeypot at gmail.com  Thu Nov 12 18:53:54 2009
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Thu, 12 Nov 2009 12:53:54 -0500
Subject: [R-SIG-Mac] package installation issues
In-Reply-To: <7758AFAE-45FD-4D8E-9CF6-A4A204CC6587@gmail.com>
References: <6CBD96AB-8C36-4C06-8B2F-7E21ACD8AC20@gmail.com>
	<05224E19-2460-40DD-85EA-77D588417B84@gmail.com>
	<7758AFAE-45FD-4D8E-9CF6-A4A204CC6587@gmail.com>
Message-ID: <E9DE48A2-F871-4C22-83CB-0667E85E81C6@gmail.com>

Heh ...

On Nov 12, 2009, at 12:45 PM, Michael Barnett wrote:

> I apologize for not being more precise. I'm pasting the printout I  
> get below:
>
> *****
> > install.packages("igraph")
> trying URL 'http://lib.stat.cmu.edu/R/CRAN/bin/macosx/leopard/ 
> contrib/2.10/igraph_0.5.2-2.tgz'
> Content type 'application/x-gzip' length 3312372 bytes (3.2 Mb)
> opened URL
> ==================================================
> downloaded 3.2 Mb
>
>
> The downloaded packages are in
> 	/var/folders/7J/7JpbFNySGACoH3teAShOLE+++TM/-Tmp-//RtmpXG1NQC/ 
> downloaded_packages
> > library(igraph)
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  unable to load shared library '/Library/Frameworks/R.framework/ 
> Resources/library/igraph/libs/x86_64/igraph.so':
>  dlopen(/Library/Frameworks/R.framework/Resources/library/igraph/ 
> libs/x86_64/igraph.so, 10): Symbol not found: ___gmpz_clear
>  Referenced from: /Library/Frameworks/R.framework/Resources/library/ 
> igraph/libs/x86_64/igraph.so
>  Expected in: dynamic lookup
>
> Error : .onLoad failed in 'loadNamespace' for 'igraph'
> Error: package/namespace load failed for 'igraph'
> ******

... that's really funny. I just tried to re-install igraph like you  
did, and now I got the same error :-)

Do you have XCode installed? Installing the package from source seems  
to do the trick:

install.packages('igraph', type='source')
... lots of compile info ...

Now loading igraph works (I had to restart R ... I guess having tried  
to load the original compiled package hose the workspace, somehow).

I typically install most packages from source, anyway, so I guess this  
is why I didn't see this before.

Does this work for you?

-steve

btw - I'm on a mac pro w/ snow leopard, not that I'm sure that matters  
now ...

--
Steve Lianoglou
Graduate Student: Computational Systems Biology
   |  Memorial Sloan-Kettering Cancer Center
   |  Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From mailinglist.honeypot at gmail.com  Thu Nov 12 18:38:40 2009
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Thu, 12 Nov 2009 12:38:40 -0500
Subject: [R-SIG-Mac] package installation issues
In-Reply-To: <6CBD96AB-8C36-4C06-8B2F-7E21ACD8AC20@gmail.com>
References: <6CBD96AB-8C36-4C06-8B2F-7E21ACD8AC20@gmail.com>
Message-ID: <05224E19-2460-40DD-85EA-77D588417B84@gmail.com>

Hi Michael,

On Nov 12, 2009, at 12:34 PM, Michael Barnett wrote:

> Hi R Mac list -
>
> I'm a newcomer to R and recently installed the new 2.10 version. I had
> to uninstall it and go back to 2.9 because I couldn't run the igraph
> package, it gave me an error. Also, I found that I couldn't load the
> rrgobi package into the new version either and there's an error
> message on the CRAN package site for the Mac version of rggobi as
> well. I just wanted to report this error, I'm happy with 2.9 for now.

While I can't speak to using rrgobi, I definitely use igraph everyday,  
and I'm using R 2.10

Could you elaborate on the error you were getting when trying to  
"run" (load?) igraph?

-steve

--
Steve Lianoglou
Graduate Student: Computational Systems Biology
   |  Memorial Sloan-Kettering Cancer Center
   |  Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From oboemike at gmail.com  Thu Nov 12 18:45:16 2009
From: oboemike at gmail.com (Michael Barnett)
Date: Thu, 12 Nov 2009 12:45:16 -0500
Subject: [R-SIG-Mac] package installation issues
In-Reply-To: <05224E19-2460-40DD-85EA-77D588417B84@gmail.com>
References: <6CBD96AB-8C36-4C06-8B2F-7E21ACD8AC20@gmail.com>
	<05224E19-2460-40DD-85EA-77D588417B84@gmail.com>
Message-ID: <7758AFAE-45FD-4D8E-9CF6-A4A204CC6587@gmail.com>

I apologize for not being more precise. I'm pasting the printout I get  
below:

*****
 > install.packages("igraph")
trying URL 'http://lib.stat.cmu.edu/R/CRAN/bin/macosx/leopard/contrib/2.10/igraph_0.5.2-2.tgz'
Content type 'application/x-gzip' length 3312372 bytes (3.2 Mb)
opened URL
==================================================
downloaded 3.2 Mb


The downloaded packages are in
	/var/folders/7J/7JpbFNySGACoH3teAShOLE+++TM/-Tmp-//RtmpXG1NQC/ 
downloaded_packages
 > library(igraph)
Error in dyn.load(file, DLLpath = DLLpath, ...) :
   unable to load shared library '/Library/Frameworks/R.framework/ 
Resources/library/igraph/libs/x86_64/igraph.so':
   dlopen(/Library/Frameworks/R.framework/Resources/library/igraph/ 
libs/x86_64/igraph.so, 10): Symbol not found: ___gmpz_clear
   Referenced from: /Library/Frameworks/R.framework/Resources/library/ 
igraph/libs/x86_64/igraph.so
   Expected in: dynamic lookup

Error : .onLoad failed in 'loadNamespace' for 'igraph'
Error: package/namespace load failed for 'igraph'
******

What's different between my set-up and yours, Steve? I'm on a 13"  
MacBook 2.4Ghz 4GB RAM running OS X 10.5.8

-Michael


On Nov 12, 2009, at 12:38 PM, Steve Lianoglou wrote:

> Hi Michael,
>
> On Nov 12, 2009, at 12:34 PM, Michael Barnett wrote:
>
>> Hi R Mac list -
>>
>> I'm a newcomer to R and recently installed the new 2.10 version. I  
>> had
>> to uninstall it and go back to 2.9 because I couldn't run the igraph
>> package, it gave me an error. Also, I found that I couldn't load the
>> rrgobi package into the new version either and there's an error
>> message on the CRAN package site for the Mac version of rggobi as
>> well. I just wanted to report this error, I'm happy with 2.9 for now.
>
> While I can't speak to using rrgobi, I definitely use igraph  
> everyday, and I'm using R 2.10
>
> Could you elaborate on the error you were getting when trying to  
> "run" (load?) igraph?
>
> -steve
>
> --
> Steve Lianoglou
> Graduate Student: Computational Systems Biology
>  |  Memorial Sloan-Kettering Cancer Center
>  |  Weill Medical College of Cornell University
> Contact Info: http://cbio.mskcc.org/~lianos/contact
>


From jgarcia35 at gmail.com  Thu Nov 12 20:59:03 2009
From: jgarcia35 at gmail.com (Jose A. Garcia)
Date: Fri, 13 Nov 2009 08:59:03 +1300
Subject: [R-SIG-Mac] Programation (Jose A. Garcia)
Message-ID: <1afb42200911121159i66d42d42v9f59842e123c0fa9@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091113/0e79a3fe/attachment.pl>

From lconole at gmail.com  Fri Nov 13 01:33:28 2009
From: lconole at gmail.com (Lawrie Conole)
Date: Fri, 13 Nov 2009 11:33:28 +1100
Subject: [R-SIG-Mac] R 2.10.0 instability (G5 iMac, Tiger 10.4.11)
Message-ID: <4AFCA958.7020909@gmail.com>

I've been trying to use R 2.10.0 in Tiger on a G5 iMac, but it
repeatedly crashes and I went back to 2.9.2 - no problems.  Reinstalled
2.10.0 and away we go crashing again.  Whilst I have quite a bit of 
experience in using R, I know next to nothing about 'under the hood' 
aspects, so de-bugging this is probably beyond me.

Today I'm trying to run the small co.var script that I wrote (below), 
which worked OK for a little while, then crashed R every time.

Back to 2.9.2 ...

I've included the sessionInfo() and crashlog(s), below the co.var script


_______________________________

co.var<-function(x)(100*sd(x)/mean(x))
co.var(x)

_______________________________

R version 2.10.0 (2009-10-26)
powerpc-apple-darwin8.11.1

locale:
[1] en_AU.UTF-8/en_AU.UTF-8/C/C/en_AU.UTF-8/en_AU.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

______________________________

Mac OS X Version 10.4.11 (Build 8S165)
2009-11-13 08:28:12 +1100
2009-11-13 08:28:21.644 SystemUIServer[185] lang is:en
2009-11-13 08:28:23.111 SystemUIServer[185] Normally SSMenuExtra would
not have been loaded as a Menu Extra.
Workaround Bonjour: Unknown error: 0
Warning: unrecognized command line flag -psn_0_1966081
Warning: unrecognized command line flag -psn_0_2490369
Debugger() was called!
Debugger() was called!
Debugger() was called!
Warning: unrecognized command line flag -psn_0_3145729
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
FSCopyObject -- err: 0, maxLevels: 1, whichInfo: 00000000,
            dupeAction: ignore, wantSpec: no, wantName: no,
            filterProcPtr: 0x00000000, yourDataPtr: 0x00000000,
            newObjectRef: 0xbfffed08, newObjectSpec: 0x00000000,
            copyBufferSize: 256kB, isDirectory: no, isLocal: yes,
            isDropBox: no, PBHCopyFileSync supported: no

FSCopyObject -- err: 0, maxLevels: 1, whichInfo: 00000000,
            dupeAction: ignore, wantSpec: no, wantName: no,
            filterProcPtr: 0x00000000, yourDataPtr: 0x00000000,
            newObjectRef: 0xbfffed08, newObjectSpec: 0x00000000,
            copyBufferSize: 256kB, isDirectory: no, isLocal: yes,
            isDropBox: no, PBHCopyFileSync supported: no

Debugger() was called!
Debugger() was called!
Debugger() was called!
Debugger() was called!
Nov 13 10:51:08 lawrie-conoles-imac-g5 crashdump[282]: R crashed
Nov 13 10:51:13 lawrie-conoles-imac-g5 crashdump[282]: crash report
written to: /Users/lawrieconole/Library/Logs/CrashReporter/R.crash.log
Nov 13 10:52:23 lawrie-conoles-imac-g5 crashdump[286]: R crashed
Nov 13 10:52:27 lawrie-conoles-imac-g5 crashdump[286]: crash report
written to: /Users/lawrieconole/Library/Logs/CrashReporter/R.crash.log
Nov 13 10:57:01 lawrie-conoles-imac-g5 crashdump[295]: R crashed
Nov 13 10:57:05 lawrie-conoles-imac-g5 crashdump[295]: crash report
written to: /Users/lawrieconole/Library/Logs/CrashReporter/R.crash.log
Nov 13 10:58:55 lawrie-conoles-imac-g5 crashdump[300]: R crashed
Nov 13 10:58:59 lawrie-conoles-imac-g5 crashdump[300]: crash report
written to: /Users/lawrieconole/Library/Logs/CrashReporter/R.crash.log
Nov 13 11:00:13 lawrie-conoles-imac-g5 crashdump[306]: R crashed
Nov 13 11:00:18 lawrie-conoles-imac-g5 crashdump[306]: crash report
written to: /Users/lawrieconole/Library/Logs/CrashReporter/R.crash.log


______________________________




Date/Time:      2009-11-13 11:00:11.795 +1100
OS Version:     10.4.11 (Build 8S165)
Report Version: 4

Command: R
Path:    /Applications/R.app/Contents/MacOS/R
Parent:  WindowServer [64]

Version: R 2.9.2 GUI 1.29 Tiger build 32-bit (5511)

PID:    305
Thread: 0

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000020

Thread 0 Crashed:
0   libobjc.A.dylib              0x90a410f8 objc_msgSend + 24
1   org.R-project.R              0x0000dae4 Re_RBusy + 60 (Rcallbacks.m:178)
2   libR.dylib                   0x003cdcf0 R_ReplDLLdo1 + 64
3   org.R-project.R              0x00018358 run_REngineRmainloop + 368
(Rinit.m:521)
4   org.R-project.R              0x00010a0c -[REngine runREPL] + 484
(REngine.m:181)
5   org.R-project.R              0x00002a38 main + 1040 (main.m:140)
6   org.R-project.R              0x000025ac _start + 760
7   org.R-project.R              0x000022b0 start + 48

Thread 1:
0   libSystem.B.dylib            0x9000af48 mach_msg_trap + 8
1   libSystem.B.dylib            0x9000ae9c mach_msg + 60
2   com.apple.CoreFoundation     0x907de9ac __CFRunLoopRun + 832
3   com.apple.CoreFoundation     0x907de2b0 CFRunLoopRunSpecific + 268
4   com.apple.Foundation         0x92c0fb7c +[NSURLCache
_diskCacheSyncLoop:] + 152
5   com.apple.Foundation         0x92be74d8 forkThreadForFunction + 108
6   libSystem.B.dylib            0x9002b908 _pthread_body + 96

Thread 2:
0   libSystem.B.dylib            0x9000af48 mach_msg_trap + 8
1   libSystem.B.dylib            0x9000ae9c mach_msg + 60
2   com.apple.CoreFoundation     0x907de9ac __CFRunLoopRun + 832
3   com.apple.CoreFoundation     0x907de2b0 CFRunLoopRunSpecific + 268
4   com.apple.Foundation         0x92bdc8dc -[NSConnection
sendInvocation:] + 1468
5   com.apple.Foundation         0x92bdb378
-[NSObject(NSForwardInvocation) forward::] + 408
6   libobjc.A.dylib              0x90a460b0 _objc_msgForward + 176
7   com.apple.Foundation         0x92bdb6e0 -[NSDistantObject
methodSignatureForSelector:] + 268
8   com.apple.Foundation         0x92bdb248
-[NSObject(NSForwardInvocation) forward::] + 104
9   libobjc.A.dylib              0x90a460b0 _objc_msgForward + 176
10  org.R-project.R              0x00005068 -[RController readThread:] +
2908 (RController.m:747)
11  com.apple.Foundation         0x92be74d8 forkThreadForFunction + 108
12  libSystem.B.dylib            0x9002b908 _pthread_body + 96

Thread 3:
0   libSystem.B.dylib            0x9004a2e8 syscall_thread_switch + 8
1   com.apple.Foundation         0x92bff940 +[NSThread sleepUntilDate:]
+ 152
2   com.apple.AppKit             0x9382f660 -[NSUIHeartBeat
_heartBeatThread:] + 1100
3   com.apple.Foundation         0x92be74d8 forkThreadForFunction + 108
4   libSystem.B.dylib            0x9002b908 _pthread_body + 96

Thread 0 crashed with PPC Thread State 64:
  srr0: 0x0000000090a410f8 srr1:
0x100000000200f030                        vrsave: 0x0000000000000000
    cr: 0x44000482          xer: 0x0000000000000000   lr:
0x000000000000dae4  ctr: 0x0000000090a410e0
    r0: 0x00000000003cdcf0   r1: 0x00000000bffff4a0   r2:
0x0000000000000000   r3: 0x00000000a0a3c864
    r4: 0x0000000000037114   r5: 0x0000000000000060   r6:
0xfffffffffffffff9   r7: 0x0000000000000003
    r8: 0x0000000030393000   r9: 0x00000000005808ac  r10:
0x0000000000478cd8  r11: 0x00000000fffd7114
   r12: 0x0000000000000000  r13: 0x0000000000000000  r14:
0x0000000000000000  r15: 0x0000000002307cf0
   r16: 0x00000000000430ac  r17: 0x0000000000042388  r18:
0x00000000a378a078  r19: 0x00000000000430a8
   r20: 0x0000000000042370  r21: 0x0000000000043094  r22:
0x000000000004238c  r23: 0x0000000000042358
   r24: 0x000000000004309c  r25: 0x0000000000042350  r26:
0x000000000231d4c0  r27: 0x00000000028b4c38
   r28: 0x0000000000000000  r29: 0x000000000003e020  r30:
0x000000000057dcbc  r31: 0x00000000003cdcbc

Binary Images Description:
    0x1000 -    0x3dfff org.R-project.R R 2.9.2 GUI 1.29 Tiger build
32-bit (5511)    /Applications/R.app/Contents/MacOS/R
  0x1a0000 -   0x1a2fff libRblas.dylib
/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/libRblas.dylib
  0x1a6000 -   0x1d0fff libreadline.5.2.dylib
/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/libreadline.5.2.dylib
  0x305000 -   0x548fff libR.dylib
/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/libR.dylib
  0x621000 -   0x705fff com.apple.WebKit 4531 (4531.9)
/System/Library/Frameworks/WebKit.framework/Versions/A/WebKit
0x1008000 -  0x1082fff libgfortran.2.dylib
/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/libgfortran.2.dylib
0x11f3000 -  0x131cfff com.apple.JavaScriptCore 4531 (4531.5)
/System/Library/Frameworks/JavaScriptCore.framework/Versions/A/JavaScriptCore
0x136b000 -  0x1d57fff com.apple.WebCore 4531 (4531.9)
/System/Library/Frameworks/WebKit.framework/Versions/A/Frameworks/WebCore.framework/Versions/A/WebCore
0x5baf000 -  0x5bb1fff com.unsanity.menuextraenabler 1.0.3
/Library/InputManagers/Menu Extra Enabler/Menu Extra
Enabler.bundle/Contents/MacOS/Menu Extra Enabler
0x5bbb000 -  0x5bbffff eu.willmore.UnifyCamino UnifyCamino v1.0
(1.0)
/Library/InputManagers/UnifyCamino/UnifyCamino.bundle/Contents/MacOS/UnifyCamino
0x5c57000 -  0x5c5cfff methods.so
/Library/Frameworks/R.framework/Versions/2.10/Resources/library/methods/libs/ppc/methods.so
0x6dd9000 -  0x6e26fff stats.so
/Library/Frameworks/R.framework/Versions/2.10/Resources/library/stats/libs/ppc/stats.so
0x6e51000 -  0x6e75fff grDevices.so
/Library/Frameworks/R.framework/Versions/2.10/Resources/library/grDevices/libs/ppc/grDevices.so
0x8fe00000 - 0x8fe52fff dyld 46.16    /usr/lib/dyld
0x90000000 - 0x901bcfff libSystem.B.dylib     /usr/lib/libSystem.B.dylib
0x90214000 - 0x90219fff libmathCommon.A.dylib
/usr/lib/system/libmathCommon.A.dylib
0x9021b000 - 0x90268fff com.apple.CoreText 1.0.4 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreText.framework/Versions/A/CoreText
0x90293000 - 0x90344fff ATS
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/ATS
0x90373000 - 0x9072efff com.apple.CoreGraphics 1.258.85 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics
0x907bb000 - 0x90895fff com.apple.CoreFoundation 6.4.11 (368.35)
/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation
0x908de000 - 0x908defff com.apple.CoreServices 10.4 (???)
/System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices
0x908e0000 - 0x909e2fff libicucore.A.dylib     /usr/lib/libicucore.A.dylib
0x90a3c000 - 0x90ac0fff libobjc.A.dylib     /usr/lib/libobjc.A.dylib
0x90aea000 - 0x90b5cfff IOKit
/System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x90b72000 - 0x90b84fff libauto.dylib     /usr/lib/libauto.dylib
0x90b8b000 - 0x90e62fff com.apple.CoreServices.CarbonCore 681.19
(681.21)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore
0x90ec8000 - 0x90f48fff com.apple.CoreServices.OSServices 4.1
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/OSServices.framework/Versions/A/OSServices
0x90f92000 - 0x90fd4fff com.apple.CFNetwork 129.24
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CFNetwork.framework/Versions/A/CFNetwork
0x90fe9000 - 0x91001fff com.apple.WebServices 1.1.2 (1.1.0)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/WebServicesCore.framework/Versions/A/WebServicesCore
0x91011000 - 0x91092fff com.apple.SearchKit 1.0.8
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit
0x910d8000 - 0x91101fff com.apple.Metadata 10.4.4 (121.36)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Metadata.framework/Versions/A/Metadata
0x91112000 - 0x91120fff libz.1.dylib     /usr/lib/libz.1.dylib
0x91123000 - 0x912defff com.apple.security 4.6 (29770)
/System/Library/Frameworks/Security.framework/Versions/A/Security
0x913dd000 - 0x913e6fff com.apple.DiskArbitration 2.1.2
/System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration
0x913ed000 - 0x913f5fff libbsm.dylib     /usr/lib/libbsm.dylib
0x913f9000 - 0x91421fff com.apple.SystemConfiguration 1.8.3
/System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration
0x91434000 - 0x9143ffff libgcc_s.1.dylib     /usr/lib/libgcc_s.1.dylib
0x91444000 - 0x914bffff com.apple.audio.CoreAudio 3.0.5
/System/Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio
0x914fc000 - 0x914fcfff com.apple.ApplicationServices 10.4 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/ApplicationServices
0x914fe000 - 0x91536fff com.apple.AE 312.2
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/AE.framework/Versions/A/AE
0x91551000 - 0x91623fff com.apple.ColorSync 4.4.13
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ColorSync.framework/Versions/A/ColorSync
0x91676000 - 0x91707fff com.apple.print.framework.PrintCore 4.6
(177.13)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore
0x9174e000 - 0x91805fff com.apple.QD 3.10.28 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/QD.framework/Versions/A/QD
0x91842000 - 0x918a0fff com.apple.HIServices 1.5.3 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/HIServices.framework/Versions/A/HIServices
0x918cf000 - 0x918f0fff com.apple.LangAnalysis 1.6.1
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/LangAnalysis.framework/Versions/A/LangAnalysis
0x91904000 - 0x91929fff com.apple.FindByContent 1.5
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/FindByContent.framework/Versions/A/FindByContent
0x9193c000 - 0x9197efff com.apple.LaunchServices 183.1
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/LaunchServices
0x9199a000 - 0x919aefff com.apple.speech.synthesis.framework 3.3
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis
0x919bc000 - 0x91a02fff com.apple.ImageIO.framework 1.5.9
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/ImageIO
0x91a19000 - 0x91ae0fff libcrypto.0.9.7.dylib
/usr/lib/libcrypto.0.9.7.dylib
0x91b2e000 - 0x91b43fff libcups.2.dylib     /usr/lib/libcups.2.dylib
0x91b48000 - 0x91b66fff libJPEG.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib
0x91b6c000 - 0x91c23fff libJP2.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libJP2.dylib
0x91c72000 - 0x91c76fff libGIF.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libGIF.dylib
0x91c78000 - 0x91ce2fff libRaw.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libRaw.dylib
0x91ce7000 - 0x91d02fff libPng.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libPng.dylib
0x91d07000 - 0x91d0afff libRadiance.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libRadiance.dylib
0x91d0c000 - 0x91deafff libxml2.2.dylib     /usr/lib/libxml2.2.dylib
0x91e0a000 - 0x91e48fff libTIFF.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/Versions/A/Resources/libTIFF.dylib
0x91e4f000 - 0x91e4ffff com.apple.Accelerate 1.2.2 (Accelerate 1.2.2)
/System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate
0x91e51000 - 0x91f36fff com.apple.vImage 2.4
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vImage.framework/Versions/A/vImage
0x91f3e000 - 0x91f5dfff com.apple.Accelerate.vecLib 3.2.2 (vecLib
3.2.2)
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/vecLib
0x91fc9000 - 0x92037fff libvMisc.dylib
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvMisc.dylib
0x92042000 - 0x920d7fff libvDSP.dylib
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvDSP.dylib
0x920f1000 - 0x92679fff libBLAS.dylib
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib
0x926ac000 - 0x929d7fff libLAPACK.dylib
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib
0x92a07000 - 0x92af5fff libiconv.2.dylib     /usr/lib/libiconv.2.dylib
0x92af8000 - 0x92b80fff com.apple.DesktopServices 1.3.7
/System/Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/DesktopServicesPriv
0x92bc1000 - 0x92df4fff com.apple.Foundation 6.4.12 (567.42)
/System/Library/Frameworks/Foundation.framework/Versions/C/Foundation
0x92f27000 - 0x92f45fff libGL.dylib
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
0x92f50000 - 0x92faafff libGLU.dylib
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.dylib
0x92fc8000 - 0x92fc8fff com.apple.Carbon 10.4 (???)
/System/Library/Frameworks/Carbon.framework/Versions/A/Carbon
0x92fca000 - 0x92fdefff com.apple.ImageCapture 3.0
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ImageCapture.framework/Versions/A/ImageCapture
0x92ff6000 - 0x93006fff com.apple.speech.recognition.framework 3.4
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SpeechRecognition.framework/Versions/A/SpeechRecognition
0x93012000 - 0x93027fff com.apple.securityhi 2.0 (203)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SecurityHI.framework/Versions/A/SecurityHI
0x93039000 - 0x930c0fff com.apple.ink.framework 101.2 (69)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Ink.framework/Versions/A/Ink
0x930d4000 - 0x930dffff com.apple.help 1.0.3 (32)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Help.framework/Versions/A/Help
0x930e9000 - 0x93117fff com.apple.openscripting 1.2.7 (???)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/OpenScripting.framework/Versions/A/OpenScripting
0x93131000 - 0x93140fff com.apple.print.framework.Print 5.2 (192.4)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.framework/Versions/A/Print
0x9314c000 - 0x931b2fff com.apple.htmlrendering 1.1.2
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HTMLRendering.framework/Versions/A/HTMLRendering
0x931e3000 - 0x93232fff com.apple.NavigationServices 3.4.4 (3.4.3)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/NavigationServices.framework/Versions/A/NavigationServices
0x93260000 - 0x9327dfff com.apple.audio.SoundManager 3.9
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CarbonSound.framework/Versions/A/CarbonSound
0x9328f000 - 0x9329cfff com.apple.CommonPanels 1.2.2 (73)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CommonPanels.framework/Versions/A/CommonPanels
0x932a5000 - 0x935b3fff com.apple.HIToolbox 1.4.10 (???)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox
0x93703000 - 0x9370ffff com.apple.opengl 1.4.7
/System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL
0x93788000 - 0x93788fff com.apple.Cocoa 6.4 (???)
/System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa
0x9378a000 - 0x93dbdfff com.apple.AppKit 6.4.10 (824.48)
/System/Library/Frameworks/AppKit.framework/Versions/C/AppKit
0x9414a000 - 0x941bcfff com.apple.CoreData 91 (92.1)
/System/Library/Frameworks/CoreData.framework/Versions/A/CoreData
0x941f5000 - 0x942bafff com.apple.audio.toolbox.AudioToolbox 1.4.7
/System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox
0x9430d000 - 0x9430dfff com.apple.audio.units.AudioUnit 1.4
/System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
0x9430f000 - 0x944cffff com.apple.QuartzCore 1.4.12
/System/Library/Frameworks/QuartzCore.framework/Versions/A/QuartzCore
0x94519000 - 0x94556fff libsqlite3.0.dylib     /usr/lib/libsqlite3.0.dylib
0x9455e000 - 0x945aefff libGLImage.dylib
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.dylib
0x945b7000 - 0x945d0fff com.apple.CoreVideo 1.4.2
/System/Library/Frameworks/CoreVideo.framework/Versions/A/CoreVideo
0x9477e000 - 0x9478dfff libCGATS.A.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGATS.A.dylib
0x94795000 - 0x947a2fff libCSync.A.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib
0x947e8000 - 0x94801fff libRIP.A.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib
0x94c23000 - 0x94c94fff libstdc++.6.dylib     /usr/lib/libstdc++.6.dylib
0x95b42000 - 0x95b44fff com.apple.ExceptionHandling 1.2 (???)
/System/Library/Frameworks/ExceptionHandling.framework/Versions/A/ExceptionHandling
0x9608b000 - 0x960b9fff libncurses.5.4.dylib
/usr/lib/libncurses.5.4.dylib
0x96a01000 - 0x96a20fff com.apple.vecLib 3.2.2 (vecLib 3.2.2)
/System/Library/Frameworks/vecLib.framework/Versions/A/vecLib
0x9b8c0000 - 0x9b8e1fff libmx.A.dylib     /usr/lib/libmx.A.dylib

Model: PowerMac8,1, BootROM 5.2.2f4, 1 processors, PowerPC G5  (3.0),
1.8 GHz, 1.25 GB
Graphics: GeForce FX 5200, GeForce FX 5200, AGP, 64 MB
Memory Module: DIMM0/J4000, 256 MB, DDR SDRAM, PC3200U-30330
Memory Module: DIMM1/J4001, 1 GB, DDR SDRAM, PC3200U-30330
Modem: Jump, V.92, Version 1.0
Network Service: Built-in Ethernet, Ethernet, en0
Serial ATA Device: ST380013AS, 74.53 GB
Parallel ATA Device: MATSHITADVD-R   UJ-825
USB Device: USB2.0 Hub Controller, NEC Corporation, Up to 480 Mb/sec, 500 mA
USB Device: Hub in Apple Pro Keyboard, Mitsumi Electric, Up to 12
Mb/sec, 500 mA
USB Device: USB-PS/2 Optical Mouse, Logitech, Up to 1.5 Mb/sec, 100 mA
USB Device: Apple Pro Keyboard, Mitsumi Electric, Up to 12 Mb/sec, 250 mA




-- 
Lawrie Conole
28 Reid Street
Northcote 3070
lconole[at]gmail.com
03 9410 9384
0419 588 993


From peter.meilstrup at gmail.com  Fri Nov 13 02:23:03 2009
From: peter.meilstrup at gmail.com (Peter Meilstrup)
Date: Thu, 12 Nov 2009 17:23:03 -0800
Subject: [R-SIG-Mac] Tcl/Tk errors from command line R
Message-ID: <8AF111EC-369D-4764-B85B-8A023F405011@gmail.com>

I often get errors like the following when trying to use a package  
that uses Tcl/Tk, under command-line R (2.10.0) or R via ESS, etc. I  
haven't been able to google anything useful on the error text. Does  
anyone know what the fix might be?

 > install.packages(ggplot2)
Loading Tcl/Tk interface ... done
--- Please select a CRAN mirror for use in this session ---
Error in structure(.External("dotTclObjv", objv, PACKAGE = "tcltk"),  
class = "tclObj") :
   [tcl] bad pad value "2m": must be positive screen distance.

On the occasions where it did work, the X11 Tk windows that came up  
were not as nice as the interface that shows in R.app. I found out  
about options(device="quartz") to get the nice quartz plot windows in  
command line R; is there an equivalent for the UI windows, or are they  
limited to R.app?

Peter


From dwinsemius at comcast.net  Fri Nov 13 03:43:11 2009
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 12 Nov 2009 21:43:11 -0500
Subject: [R-SIG-Mac] Tcl/Tk errors from command line R
In-Reply-To: <8AF111EC-369D-4764-B85B-8A023F405011@gmail.com>
References: <8AF111EC-369D-4764-B85B-8A023F405011@gmail.com>
Message-ID: <0CC6858B-D2FB-43C7-9425-E350D8DACCCB@comcast.net>


On Nov 12, 2009, at 8:23 PM, Peter Meilstrup wrote:

> I often get errors like the following when trying to use a package  
> that uses Tcl/Tk, under command-line R (2.10.0) or R via ESS, etc. I  
> haven't been able to google anything useful on the error text. Does  
> anyone know what the fix might be?
>
> > install.packages(ggplot2)

Have you tried that with dependencies=TRUE ?

> Loading Tcl/Tk interface ... done
> --- Please select a CRAN mirror for use in this session ---
> Error in structure(.External("dotTclObjv", objv, PACKAGE = "tcltk"),  
> class = "tclObj") :
>  [tcl] bad pad value "2m": must be positive screen distance.
>
> On the occasions where it did work, the X11 Tk windows that came up  
> were not as nice as the interface that shows in R.app.

That is a bit vague, don't you agree?

> I found out about options(device="quartz") to get the nice quartz  
> plot windows in command line R; is there an equivalent for the UI  
> windows, or are they limited to R.app?

I don't think I can help you debug your Tk problem, but as far as  
graphics devices go, you get quite a bit of information with:

 > capabilities()
     jpeg      png     tiff    tcltk      X11     aqua http/ftp   
sockets   libxml     fifo
     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE      
TRUE     TRUE     TRUE
   cledit    iconv      NLS  profmem    cairo
     TRUE     TRUE     TRUE     TRUE     TRUE

# And invoking the X11 device seems to present no problems for me. It  
seems just as "nice" as a blank quartz window:
 > X11()
-- 

David Winsemius, MD
Heritage Laboratories
West Hartford, CT

 > sessionInfo()
R version 2.10.0 Patched (2009-10-29 r50258)
x86_64-apple-darwin9.8.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] splines   stats     graphics  grDevices utils     datasets   
methods   base

other attached packages:
[1] Design_2.3-0    Hmisc_3.7-0     survival_2.35-7 lattice_0.17-26

loaded via a namespace (and not attached):
[1] cluster_1.12.1 grid_2.10.0    tools_2.10.0


From peter.meilstrup at gmail.com  Fri Nov 13 04:53:08 2009
From: peter.meilstrup at gmail.com (Peter Meilstrup)
Date: Thu, 12 Nov 2009 19:53:08 -0800
Subject: [R-SIG-Mac] Tcl/Tk errors from command line R
In-Reply-To: <0CC6858B-D2FB-43C7-9425-E350D8DACCCB@comcast.net>
References: <8AF111EC-369D-4764-B85B-8A023F405011@gmail.com>
	<0CC6858B-D2FB-43C7-9425-E350D8DACCCB@comcast.net>
Message-ID: <AF0621E3-7FBA-47AA-AB0C-4FC6EA432A3B@gmail.com>


On Nov 12, 2009, at 6:43 PM, David Winsemius wrote:

>
> On Nov 12, 2009, at 8:23 PM, Peter Meilstrup wrote:
>
>> I often get errors like the following when trying to use a package  
>> that uses Tcl/Tk, under command-line R (2.10.0) or R via ESS, etc.  
>> I haven't been able to google anything useful on the error text.  
>> Does anyone know what the fix might be?
>>
>> > install.packages(ggplot2)
>
> Have you tried that with dependencies=TRUE ?

install.packages is chosen as a convenient example of something that  
wants to show a Tk window. I'm not experiencing any problems with  
install.packages other than the problem with Tk. In this case, it  
wants to show a Tk window so that I can choose a CRAN mirror, but fails.

>> Loading Tcl/Tk interface ... done
>> --- Please select a CRAN mirror for use in this session ---
>> Error in structure(.External("dotTclObjv", objv, PACKAGE =  
>> "tcltk"), class = "tclObj") :
>> [tcl] bad pad value "2m": must be positive screen distance.
>>
>> On the occasions where it did work, the X11 Tk windows that came up  
>> were not as nice as the interface that shows in R.app.
>
> That is a bit vague, don't you agree?

This particular dialog box, when it did appear, was taller than my  
screen, so that I could not see the USA mirrors at the bottom of the  
list, or select the "OK" button, or resize or move it to a better  
situation. The dialog box that appeared under R.app could actually be  
used.

Peter


From ken.knoblauch at inserm.fr  Fri Nov 13 07:53:30 2009
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Fri, 13 Nov 2009 06:53:30 +0000 (UTC)
Subject: [R-SIG-Mac] R 2.10.0 instability (G5 iMac, Tiger 10.4.11)
References: <4AFCA958.7020909@gmail.com>
Message-ID: <loom.20091113T074350-845@post.gmane.org>

Lawrie Conole <lconole <at> gmail.com> writes:
> I've been trying to use R 2.10.0 in Tiger on a G5 iMac, but it
> repeatedly crashes and I went back to 2.9.2 - no problems.  
Reinstalled
> 2.10.0 and away we go crashing again.  Whilst I have 
quite a bit of 
> experience in using R, I know next to nothing about 
'under the hood' 
> aspects, so de-bugging this is probably beyond me.
> Back to 2.9.2 ...
> 
> I've included the sessionInfo() and crashlog(s), below the 
co.var script
> 
> _______________________________
> 
> co.var<-function(x)(100*sd(x)/mean(x))
> co.var(x)
> 
> _______________________________
> 
> R version 2.10.0 (2009-10-26)
> powerpc-apple-darwin8.11.1
> 
> locale:
> [1] en_AU.UTF-8/en_AU.UTF-8/C/C/en_AU.UTF-8/
en_AU.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
>
> ______________________________
> 
> Date/Time:      2009-11-13 11:00:11.795 +1100
> OS Version:     10.4.11 (Build 8S165)
> Report Version: 4
> 
> Command: R
> Path:    /Applications/R.app/Contents/MacOS/R
> Parent:  WindowServer [64]
> 
> Version: R 2.9.2 GUI 1.29 Tiger build 32-bit (5511)
> 
> PID:    305
> Thread: 0
This looks similar to the problem that I reported where there 
seems to be
some conflict about the GUI version indicated in the crash report 
for R 2.10 Tiger
version.

https://stat.ethz.ch/pipermail/r-sig-mac/2009-November/006750.html

but to which there hasn't been a response yet.  So far, I cleaned all 
old versions
of R off my system and re-installed from scratch.  Tried downloading the 
tar.gz version and installing that, but lately the link to the GUI.app only on
the daily patch page seems to be dead.  I haven't tried to compile the GUI
by hand yet, next on my list, but maybe this independent report will
 attract more attention.  

best,

Ken

-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From ericlind at gmail.com  Fri Nov 13 03:32:29 2009
From: ericlind at gmail.com (Eric Lind)
Date: Thu, 12 Nov 2009 21:32:29 -0500
Subject: [R-SIG-Mac] problem with package repository
Message-ID: <c11746b0911121832r658890f5w45f1551e2a41592c@mail.gmail.com>

Hello,

I am running R 2.10.0 on Mac OS X Leopard (10.5.8). In attempting to
update packages I encountered the following error:

> update.packages()
Warning: unable to access index for repository
http://www.biometrics.mtu.edu/CRAN/bin/macosx/leopard/contrib/2.10
>

A similar error occurs when trying to use the Package Installer
through the GUI menu.

Navigating to the site it does appear to be incomplete, and lacks the
"PACKAGES" index file found on the contributed pages for previous R
versions. I hope by bringing this to the attention of the list the
site might be refreshed.

Thanks for making R so great for Mac.

Eric Lind


From ken at kjbeath.com.au  Fri Nov 13 09:18:52 2009
From: ken at kjbeath.com.au (Ken Beath)
Date: Fri, 13 Nov 2009 19:18:52 +1100
Subject: [R-SIG-Mac] problem with package repository
In-Reply-To: <c11746b0911121832r658890f5w45f1551e2a41592c@mail.gmail.com>
References: <c11746b0911121832r658890f5w45f1551e2a41592c@mail.gmail.com>
Message-ID: <2B75DD42-B848-4CF9-8DE9-D2EA7C901863@kjbeath.com.au>

This is a problem for the people running the mirror to fix. Move to the top level of the server and look for a contact and tell them that their mirror doesn't mirror properly.

Ken


On 13/11/2009, at 1:32 PM, Eric Lind wrote:

> Hello,
> 
> I am running R 2.10.0 on Mac OS X Leopard (10.5.8). In attempting to
> update packages I encountered the following error:
> 
>> update.packages()
> Warning: unable to access index for repository
> http://www.biometrics.mtu.edu/CRAN/bin/macosx/leopard/contrib/2.10
>> 
> 
> A similar error occurs when trying to use the Package Installer
> through the GUI menu.
> 
> Navigating to the site it does appear to be incomplete, and lacks the
> "PACKAGES" index file found on the contributed pages for previous R
> versions. I hope by bringing this to the attention of the list the
> site might be refreshed.
> 
> Thanks for making R so great for Mac.
> 
> Eric Lind
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From mailinglist.honeypot at gmail.com  Fri Nov 13 19:09:39 2009
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Fri, 13 Nov 2009 13:09:39 -0500
Subject: [R-SIG-Mac] R 2.10.0 instability (G5 iMac, Tiger 10.4.11)
In-Reply-To: <loom.20091113T074350-845@post.gmane.org>
References: <4AFCA958.7020909@gmail.com>
	<loom.20091113T074350-845@post.gmane.org>
Message-ID: <E04AB221-B702-424A-AE62-0BDC7D7B7566@gmail.com>

Hi,

On Nov 13, 2009, at 1:53 AM, Ken Knoblauch wrote:
> Lawrie Conole <lconole <at> gmail.com> writes:
> This looks similar to the problem that I reported where there
> seems to be
> some conflict about the GUI version indicated in the crash report
> for R 2.10 Tiger
> version.
>
> https://stat.ethz.ch/pipermail/r-sig-mac/2009-November/006750.html
>
> but to which there hasn't been a response yet.  So far, I cleaned all
> old versions
> of R off my system and re-installed from scratch.  Tried downloading  
> the
> tar.gz version and installing that, but lately the link to the  
> GUI.app only on
> the daily patch page seems to be dead.  I haven't tried to compile  
> the GUI
> by hand yet, next on my list, but maybe this independent report will
> attract more attention.


So ... out of curiosity, do you folks get these crashes when running R  
from the terminal?

-steve

--
Steve Lianoglou
Graduate Student: Computational Systems Biology
   |  Memorial Sloan-Kettering Cancer Center
   |  Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From ken.knoblauch at inserm.fr  Fri Nov 13 19:18:28 2009
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Fri, 13 Nov 2009 19:18:28 +0100
Subject: [R-SIG-Mac] R 2.10.0 instability (G5 iMac, Tiger 10.4.11)
In-Reply-To: <E04AB221-B702-424A-AE62-0BDC7D7B7566@gmail.com>
References: <4AFCA958.7020909@gmail.com>
	<loom.20091113T074350-845@post.gmane.org>
	<E04AB221-B702-424A-AE62-0BDC7D7B7566@gmail.com>
Message-ID: <20091113191828.oktl6ywtb4c8g88o@imp.inserm.fr>

Good question.  I don't think so.  One way to generate it in
the GUI is to hit ESC.  The remark about R 2.9.2 in the
crash log seems to be a strong hint that there is some
GUI incompatibility, it seems to me.

While writing this, I've been playing around with the
terminal and it seems OK.  Here is the sessionInfo

R version 2.10.0 Patched (2009-11-11 r50399)
powerpc-apple-darwin8.11.1

locale:
[1] C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base


Ken

Quoting Steve Lianoglou <mailinglist.honeypot at gmail.com>:

> Hi,
>
> On Nov 13, 2009, at 1:53 AM, Ken Knoblauch wrote:
>> Lawrie Conole <lconole <at> gmail.com> writes:
>> This looks similar to the problem that I reported where there
>> seems to be
>> some conflict about the GUI version indicated in the crash report
>> for R 2.10 Tiger
>> version.
>>
>> https://stat.ethz.ch/pipermail/r-sig-mac/2009-November/006750.html
>>
>> but to which there hasn't been a response yet.  So far, I cleaned all
>> old versions
>> of R off my system and re-installed from scratch.  Tried downloading the
>> tar.gz version and installing that, but lately the link to the   
>> GUI.app only on
>> the daily patch page seems to be dead.  I haven't tried to compile the GUI
>> by hand yet, next on my list, but maybe this independent report will
>> attract more attention.
>
>
> So ... out of curiosity, do you folks get these crashes when running R
> from the terminal?
>
> -steve
>
> --
> Steve Lianoglou
> Graduate Student: Computational Systems Biology
>   |  Memorial Sloan-Kettering Cancer Center
>   |  Weill Medical College of Cornell University
> Contact Info: http://cbio.mskcc.org/~lianos/contact



-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From lconole at gmail.com  Fri Nov 13 23:20:39 2009
From: lconole at gmail.com (Lawrie Conole)
Date: Sat, 14 Nov 2009 09:20:39 +1100
Subject: [R-SIG-Mac] R 2.10.0 instability (G5 iMac, Tiger 10.4.11)
In-Reply-To: <E04AB221-B702-424A-AE62-0BDC7D7B7566@gmail.com>
References: <4AFCA958.7020909@gmail.com>
	<loom.20091113T074350-845@post.gmane.org>
	<E04AB221-B702-424A-AE62-0BDC7D7B7566@gmail.com>
Message-ID: <4AFDDBB7.4070407@gmail.com>

Steve Lianoglou wrote:
> So ... out of curiosity, do you folks get these crashes when running R 
> from the terminal?

Steve

I have no experience running R from the Terminal.  My unix days are a 
couple of decades behind me, so most (all?) of my familiarity with that 
environment has disappeared.  Do you expect it may behave better there, 
without the GUI?

regards

-- 
Lawrie Conole
lconole[at]gmail.com


From mailinglist.honeypot at gmail.com  Fri Nov 13 23:49:05 2009
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Fri, 13 Nov 2009 17:49:05 -0500
Subject: [R-SIG-Mac] R 2.10.0 instability (G5 iMac, Tiger 10.4.11)
In-Reply-To: <4AFDDBB7.4070407@gmail.com>
References: <4AFCA958.7020909@gmail.com>
	<loom.20091113T074350-845@post.gmane.org>
	<E04AB221-B702-424A-AE62-0BDC7D7B7566@gmail.com>
	<4AFDDBB7.4070407@gmail.com>
Message-ID: <2F2ADBC5-8394-489A-A34B-8597495042E1@gmail.com>

Hi,

On Nov 13, 2009, at 5:20 PM, Lawrie Conole wrote:

> Steve Lianoglou wrote:
>> So ... out of curiosity, do you folks get these crashes when  
>> running R from the terminal?
>
> Steve
>
> I have no experience running R from the Terminal.  My unix days are  
> a couple of decades behind me, so most (all?) of my familiarity with  
> that environment has disappeared.  Do you expect it may behave  
> better there, without the GUI?

I'm not sure if it's going to fix your problems ... I only mentioned  
it since Ken said something about a GUI version being different is all.

Perhaps running through the terminal can side-step your immediate  
problem and let you keep working until someone can parse your error  
log and come up with a better idea :-)

All you have to do is fire up Terminal.app and launch R from the prompt:

$ R

Try to source('/the/co.var/script.R') that's giving you problems and  
see how it works.

HTH,

-steve

--
Steve Lianoglou
Graduate Student: Computational Systems Biology
   |  Memorial Sloan-Kettering Cancer Center
   |  Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From jandsemrau at gmail.com  Sat Nov 14 01:27:06 2009
From: jandsemrau at gmail.com (Jan Daniel Semrau)
Date: Sat, 14 Nov 2009 09:27:06 +0900
Subject: [R-SIG-Mac] xts timeseries merge
Message-ID: <188ACCEF-6489-4D57-98DD-065AD5F5648B@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091114/eb9f3d44/attachment.pl>

From dwinsemius at comcast.net  Sat Nov 14 05:41:54 2009
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 13 Nov 2009 23:41:54 -0500
Subject: [R-SIG-Mac] problem with package repository
In-Reply-To: <c11746b0911121832r658890f5w45f1551e2a41592c@mail.gmail.com>
References: <c11746b0911121832r658890f5w45f1551e2a41592c@mail.gmail.com>
Message-ID: <00B08BB9-5A46-4422-A794-14C12C0E3C85@comcast.net>


On Nov 12, 2009, at 9:32 PM, Eric Lind wrote:

> Hello,
>
> I am running R 2.10.0 on Mac OS X Leopard (10.5.8). In attempting to
> update packages I encountered the following error:
>
>> update.packages()
> Warning: unable to access index for repository
> http://www.biometrics.mtu.edu/CRAN/bin/macosx/leopard/contrib/2.10
>>
>

Not able to reproduce with my chosen default (the CMU repository).  
Sometimes repositories are offline for maintenance. Is this a  
persistent problem or have your tried other repositories. (I did check  
the link your system was reporting problems with and it seems to be  
online at the ment but it appears to have a rather shallow collection.  
The packages are in name order and they end at GSM.)

The repository at http://lib.stat.cmu.edu/R/CRAN is much more complete.


> A similar error occurs when trying to use the Package Installer
> through the GUI menu.
>
> Navigating to the site it does appear to be incomplete, and lacks the
> "PACKAGES" index file found on the contributed pages for previous R
> versions. I hope by bringing this to the attention of the list the
> site might be refreshed.
>
> Thanks for making R so great for Mac.
>
> Eric Lind

David Winsemius, MD
Heritage Laboratories
West Hartford, CT


From ken at kjbeath.com.au  Sat Nov 14 08:04:52 2009
From: ken at kjbeath.com.au (Ken Beath)
Date: Sat, 14 Nov 2009 18:04:52 +1100
Subject: [R-SIG-Mac] xts timeseries merge
In-Reply-To: <188ACCEF-6489-4D57-98DD-065AD5F5648B@gmail.com>
References: <188ACCEF-6489-4D57-98DD-065AD5F5648B@gmail.com>
Message-ID: <192F7F13-3618-446F-B7CC-578400C56EBD@kjbeath.com.au>

Please send this to the r-help mailing list, as it is a general R question.

Ken

On 14/11/2009, at 11:27 AM, Jan Daniel Semrau wrote:

> Hi,
> 
> I try to calculate the correlation between macroeconomic data from  
> FRED vs Market Data
> However, since the timeseries are not in synch, the correlation fails.
> 
> USPBS =get(getSymbols("USPBS", src="FRED" ))
> USPBS = USPBS['1983-1-1::']
> monDMANEMP = Cl(to.monthly(USPBS))
> 
>> length(monDMANEMP)
> [1] 312
> 
>> head(monDMANEMP)
>          USPBS.Close
> Oct 1983        8192
> Nov 1983        8231
> Dec 1983        8265
> Jan 1984        8309
> Feb 1984        8344
> Mar 1984        8382
> 
> symbol = getSymbols("^DJA",from = "1983-01-01",to=Sys.Date())
> market = Cl(get(symbol))
> monMarket = Cl(to.monthly(market))
> 
>> length(monMarket)
> [1] 314
>> head(monMarket)
>          market.Close
> Oct 1983       494.18
> Nov 1983       510.77
> Dec 1983       502.94
> Jan 1984       483.46
> Feb 1984       454.97
> Mar 1984       456.65
> 
> 
> Now I try to calculate the correlation
> 
>> cor(monMarket, monDMANEMP)
> Error in cor.default(monMarket, monDMANEMP) : incompatible dimensions
> 
> #This makes sense since my "Market" data is two data points longer.
> #However if I try to merge them to get them aligned on one time axis,  
> I get this
> 
>> head(merge.xts(monMarket, monDMANEMP))
>          market.Close USPBS.Close
> Oct 1983       494.18          NA
> Nov 1983           NA        8192
> Nov 1983       510.77          NA
> Dec 1983           NA        8231
> Dec 1983       502.94          NA
> Jan 1984           NA        8265
> 
> #If I try cbind the same happens
>> head(cbind(monMarket, monDMANEMP))
>          market.Close USPBS.Close
> Oct 1983       494.18          NA
> Nov 1983           NA        8192
> Nov 1983       510.77          NA
> Dec 1983           NA        8231
> Dec 1983       502.94          NA
> Jan 1984           NA        8265
> 
> #If I then continue to align both of the timeseries on one standard axis
> 
> l= (round(Sys.Date()-as.Date("01JAN1983", "%d%b%Y")))
> timeline = to.monthly(xts(1:l, as.Date("01JAN1983", "%d%b%Y")+1:l))
> alignbar = xts(, index(timeline))
> 
> alMonMarket = merge.xts(alignbar, monMarket)
> almonDMANEMP = merge.xts(alignbar, monDMANEMP)
> x = merge.xts(alMonMarket, almonDMANEMP)
> 
>> head(x)
>          market.Close USPBS.Close
> Jan 1983           NA          NA
> Feb 1983           NA          NA
> Mar 1983           NA          NA
> Apr 1983           NA          NA
> May 1983           NA          NA
> Jun 1983           NA          NA
> 
> Any pointer towards the error is highly appreciated
> 
> Jan
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From richard.liu at pueo-owl.ch  Wed Nov 18 20:39:26 2009
From: richard.liu at pueo-owl.ch (Richard R. Liu)
Date: Wed, 18 Nov 2009 20:39:26 +0100
Subject: [R-SIG-Mac] *** caught bus error *** address 0x114382544,
	cause 'non-existent physical address'
Message-ID: <A7792F34-CB03-4B15-9D3F-26687C5910D5@pueo-owl.ch>

I am experiencing a curious error running R64 (2009-11-18 r50482) on a  
MacBook Pro 17" Unibody early 2009 with 8GB RAM.  In the console  
excerpt below sentences.1000.clustered is a dataframe consisting of  
two vectors, sent and cluster.  sent is a vector of 1000 sentences  
chosen at random from over 3 million, and cluster is a vector of  
integers denoting to which of 5 clusters the sentence belongs.  For  
each cluster I want to display the sentences that belong to it as  
follows:


R version 2.10.0 Patched (2009-11-18 r50482)
Copyright (C) 2009 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

   Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

[R.app GUI 1.30 (5521) x86_64-apple-darwin9.8.0]

[Workspace restored from /Users/richard/.RData]

 > library(filehash)
filehash: Simple key-value database (2.0-1 2008-12-19)
 > db <- dbInit("/Volumes/Work on RDR Test Documents/R Databases/ 
DB_TXT", type = "RDS")
 > dbLoad(db)
 >
 > sent.clust <- sentences.1000.clustered
 > i.clust.2 <- which(sent.clust$cluster == 2)
 > attributes(sent.clust)
$names
[1] "sent"    "cluster"

$row.names
    [1]    1    2    3    4    5    6    7    8    9   10   11   12    
13   14   15   16   17   18   19   20   21   22   23   24   25   26    
27   28   29
...
  [987]  987  988  989  990  991  992  993  994  995  996  997  998   
999 1000

$class
[1] "data.frame"

 > i.clust.2 <- which(sent.clust$cluster == 2)
 > nchar(sent.clust$sent[i.clust.2])
   [1]   232   419   787  1010  1926   357  2865   657   560   213   
2175  2363  1300   359   331   965   581   732   398   245  1650  
25893  1289   510
  [25]  1714   524   747  2378   465   651  2253   215   460   253   
2475   554  1130   529   261  1413   418  2168  1569  1538   301   
2506  1163  3036
  [49]  1445   199  1231   370  1307   371   379   232  1297   500    
409   481  2187   314   730  1634   971   860   362   506  1606    
394   145   480
  [73]  1582  1471  1269   308  1113   444   990   298  1644   445    
357  1204   322   638  2182   805  1545   368  1461  1347   649   399   
1094  1624
  [97] 14605  1637   269   503   502  2145  1398   481   122  2248
 > sent.clust$sent[i.clust.2]
   [1] "(patient continuing ...)  
______________________________________________________________________________________________________________________________________ 
  Investigator text for Adverse Events encoded using MedDRA version  
11.0. "
   [2]
  *** caught bus error ***
address 0x114382544, cause 'non-existent physical address'

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace
Selection:

The point of

 > i.clust.2 <- which(sent.clust$cluster == 2)
 > nchar(sent.clust$sent[i.clust.2])

is to try to isolate the problem.  Indeed, the more compact sent.clust 
$sent[which(sent.clust$cluster == 2)] work when I start R in 32-bit  
mode.  In 64-bit mode, attempting to display the sentences in cluster  
5 also fails, whereas for clusters 1, 3, 4 it succeeds.  In 32-bit  
mode, I have experienced no such problem.

Does anybody have any ideas about what is wrong?

Regards,
Richard

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2429 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091118/840d6930/attachment.bin>

From simon.urbanek at r-project.org  Wed Nov 18 21:07:56 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 18 Nov 2009 15:07:56 -0500
Subject: [R-SIG-Mac] *** caught bus error *** address 0x114382544,
	cause 'non-existent physical address'
In-Reply-To: <A7792F34-CB03-4B15-9D3F-26687C5910D5@pueo-owl.ch>
References: <A7792F34-CB03-4B15-9D3F-26687C5910D5@pueo-owl.ch>
Message-ID: <A8B9152E-C7F2-4600-8182-2C12AB02C931@r-project.org>

Richard,

in order to track this down, please start R64, type

Sys.getpid()

and note down the number. Then in a separate window open Terminal and  
type

gdb

Then on the gdb console (it will just say "(gdb)") type

attach n

where n is the number from above. It will do something for a while and  
when it comes back in the console, type

c

Then do your work in R until you get a crash. Once you do, you will  
see something happening in the gdb console. Then type

bt

and copy/paste everything that gdb printed since you typed "c" and  
send it to me.

Thanks,
Simon

-----

Practical example -- in R:

 > Sys.getpid()
[1] 19381

in Terminal:

ginaz:~$ gdb
GNU gdb 6.3.50-20050815 (Apple version gdb-962) (Sat Jul 26 08:14:40  
UTC 2008)
[...]
This GDB was configured as "i386-apple-darwin".
(gdb) attach 19381
Attaching to process 19381.
Reading symbols for shared libraries . done
[...]
0x9428a6fa in select$DARWIN_EXTSN ()
(gdb) c
Continuing.

Program received signal EXC_BAD_ACCESS, Could not access memory.
Reason: KERN_PROTECTION_FAILURE at address: 0x00000003
0x00412d09 in SET_SYMVALUE (x=0x1007110, v=0x0) at ../../../../R-2.10- 
branch/src/main/memory.c:2809
2809	void (SET_SYMVALUE)(SEXP x, SEXP v) { CHECK_OLD_TO_NEW(x, v);  
SYMVALUE(x) = v; }
(gdb) bt
#0  0x00412d09 in SET_SYMVALUE (x=0x1007110, v=0x0) at ../../../../ 
R-2.10-branch/src/main/memory.c:2809
#1  0x0041068e in Rf_ReplIteration (rho=0x1023c38, savestack=0,  
browselevel=0, state=0xbfffe53c) at ../../../../R-2.10-branch/src/main/ 
main.c:263
#2  0x00410a40 in R_ReplConsole (rho=0x1023c38, savestack=0,  
browselevel=0) at ../../../../R-2.10-branch/src/main/main.c:311
#3  0x0041129b in run_Rmainloop () at ../../../../R-2.10-branch/src/ 
main/main.c:964
#4  0x00001ff0 in main (ac=1, av=0xbffff5c8) at ../../../../R-2.10- 
branch/src/main/Rmain.c:33
(gdb) q
The program is running.  Quit anyway (and detach it)? (y or n) y
Detaching from process 19381 thread 0x613.


On Nov 18, 2009, at 14:39 , Richard R. Liu wrote:

> I am experiencing a curious error running R64 (2009-11-18 r50482) on  
> a MacBook Pro 17" Unibody early 2009 with 8GB RAM.  In the console  
> excerpt below sentences.1000.clustered is a dataframe consisting of  
> two vectors, sent and cluster.  sent is a vector of 1000 sentences  
> chosen at random from over 3 million, and cluster is a vector of  
> integers denoting to which of 5 clusters the sentence belongs.  For  
> each cluster I want to display the sentences that belong to it as  
> follows:
>
>
> R version 2.10.0 Patched (2009-11-18 r50482)
> Copyright (C) 2009 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
>
>  Natural language support but running in an English locale
>
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
>
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
>
> [R.app GUI 1.30 (5521) x86_64-apple-darwin9.8.0]
>
> [Workspace restored from /Users/richard/.RData]
>
> > library(filehash)
> filehash: Simple key-value database (2.0-1 2008-12-19)
> > db <- dbInit("/Volumes/Work on RDR Test Documents/R Databases/ 
> DB_TXT", type = "RDS")
> > dbLoad(db)
> >
> > sent.clust <- sentences.1000.clustered
> > i.clust.2 <- which(sent.clust$cluster == 2)
> > attributes(sent.clust)
> $names
> [1] "sent"    "cluster"
>
> $row.names
>   [1]    1    2    3    4    5    6    7    8    9   10   11   12    
> 13   14   15   16   17   18   19   20   21   22   23   24   25    
> 26   27   28   29
> ...
> [987]  987  988  989  990  991  992  993  994  995  996  997  998   
> 999 1000
>
> $class
> [1] "data.frame"
>
> > i.clust.2 <- which(sent.clust$cluster == 2)
> > nchar(sent.clust$sent[i.clust.2])
>  [1]   232   419   787  1010  1926   357  2865   657   560   213   
> 2175  2363  1300   359   331   965   581   732   398   245  1650  
> 25893  1289   510
> [25]  1714   524   747  2378   465   651  2253   215   460   253   
> 2475   554  1130   529   261  1413   418  2168  1569  1538   301   
> 2506  1163  3036
> [49]  1445   199  1231   370  1307   371   379   232  1297   500    
> 409   481  2187   314   730  1634   971   860   362   506  1606    
> 394   145   480
> [73]  1582  1471  1269   308  1113   444   990   298  1644   445    
> 357  1204   322   638  2182   805  1545   368  1461  1347   649    
> 399  1094  1624
> [97] 14605  1637   269   503   502  2145  1398   481   122  2248
> > sent.clust$sent[i.clust.2]
>  [1] "(patient continuing ...)  
> ______________________________________________________________________________________________________________________________________ 
>  Investigator text for Adverse Events encoded using MedDRA version  
> 11.0. "
>  [2]
> *** caught bus error ***
> address 0x114382544, cause 'non-existent physical address'
>
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
> Selection:
>
> The point of
>
> > i.clust.2 <- which(sent.clust$cluster == 2)
> > nchar(sent.clust$sent[i.clust.2])
>
> is to try to isolate the problem.  Indeed, the more compact  
> sent.clust$sent[which(sent.clust$cluster == 2)] work when I start R  
> in 32-bit mode.  In 64-bit mode, attempting to display the sentences  
> in cluster 5 also fails, whereas for clusters 1, 3, 4 it succeeds.   
> In 32-bit mode, I have experienced no such problem.
>
> Does anybody have any ideas about what is wrong?
>
> Regards,
> Richard
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From robjgoedman at me.com  Fri Nov 20 05:46:34 2009
From: robjgoedman at me.com (Rob Goedman)
Date: Thu, 19 Nov 2009 20:46:34 -0800
Subject: [R-SIG-Mac] [R]  R 2.10 memory leak on OS X
In-Reply-To: <26422294.post@talk.nabble.com>
References: <26422294.post@talk.nabble.com>
Message-ID: <F8AD967A-39F3-4C62-87AB-23685A5E147E@me.com>

Steve,

Do you have a .Rhistory and/or a .Rdata file in your home/working dirs?

If so, can you rename them temporarily and restart R again?

Or you can send me your ~/Library/Preferences/org.R-project.R.plist file.

Regards,
Rob


On Nov 19, 2009, at 7:45 PM, Stropharia wrote:

> 
> Dear R users,
> 
> I am running R 2.10.0 on OS X 10.5.8. 
> 
> I had been running 2.10 successfully for about a week (and have used
> previous R versions for 2+ years on the same computer) until 2 days ago it
> failed to start up for me. Now when I try to start R, the application tries
> to initiate for several minutes then crashes. Looking at the activity
> monitor, my memory usage goes from having about 1.6Gb free (out of 2Gb) to
> <7Mb in the first 10-15 seconds of attempting to start the program. At this
> point I either have to force quit R (as everything starts to freeze up) or
> wait several minutes for it to crash.
> 
> I have erased the application and reinstalled it 4 times now - with exactly
> the same result. I looked around in the Library and System folders to see if
> any other files needed to be removed, but couldn't find any. I have also
> restarted the computer and repaired permissions multiple times - and then
> reinstalled R, with no luck. The exact same thing happens if I start R64. 
> 
> I did not updated OS X or R, or install any other programs, just prior to
> this first happening and am at a loss to explain what's going on. I have
> copied the first part of one of the crash logs below. Does anyone have any
> ideas for to remedy this?
> 
> best,
> 
> Steve
> 
> 
> #---------------- Crash log ------------------------
> Process:         R [231]
> Path:            /Applications/R.app/Contents/MacOS/R
> Identifier:      org.R-project.R
> Version:         R 2.10.0 GUI 1.30 Leopard build 32-bit (5511)
> Code Type:       X86 (Native)
> Parent Process:  launchd [101]
> 
> Date/Time:       2009-11-18 23:15:45.570 -0500
> OS Version:      Mac OS X 10.5.8 (9L31a)
> Report Version:  6
> Anonymous UUID:  D86CDCBC-00FD-4AEE-AB50-2EFE0DAE9E1E
> 
> Exception Type:  EXC_BAD_ACCESS (SIGBUS)
> Exception Codes: KERN_PROTECTION_FAILURE at 0x0000000000067ee2
> Crashed Thread:  0
> 
> Thread 0 Crashed:
> 0   libSystem.B.dylib             	0xffff07c7 __memcpy + 39
> (cpu_capabilities.h:246)
> 1   com.apple.CoreFoundation      	0x96a6a0b4 __CFStringEncodeByteStream +
> 4052
> 2   com.apple.Foundation          	0x94446eb7
> -[NSString(NSStringOtherEncodings)
> getBytes:maxLength:usedLength:encoding:options:range:remainingRange:] + 295
> 3   com.apple.Foundation          	0x94446a1a _NSNewStringByAppendingStrings
> + 538
> 4   com.apple.Foundation          	0x94446760 -[NSString
> stringByAppendingString:] + 192
> 5   org.R-project.R               	0x00009ce8 -[RController doLoadHistory:]
> + 808
> 6   org.R-project.R               	0x000076df -[RController awakeFromNib] +
> 2319
> 7   com.apple.CoreFoundation      	0x96ac07f5 -[NSSet
> makeObjectsPerformSelector:] + 181
> 8   com.apple.AppKit              	0x92efed8e -[NSIBObjectData
> nibInstantiateWithOwner:topLevelObjects:] + 1533
> 9   com.apple.AppKit              	0x92ef4fba loadNib + 264
> 10  com.apple.AppKit              	0x92ef491c +[NSBundle(NSNibLoading)
> _loadNibFile:nameTable:withZone:ownerBundle:] + 946
> 11  com.apple.AppKit              	0x92ef455f +[NSBundle(NSNibLoading)
> loadNibFile:externalNameTable:withZone:] + 171
> 12  com.apple.AppKit              	0x92ef449d +[NSBundle(NSNibLoading)
> loadNibNamed:owner:] + 391
> 13  org.R-project.R               	0x00002538 main + 296
> 14  org.R-project.R               	0x000023d6 start + 54
> 
> Thread 1:
> 0   libSystem.B.dylib             	0x9744946e __semwait_signal + 10
> 1   libSystem.B.dylib             	0x97473dcd pthread_cond_wait$UNIX2003 +
> 73
> 2   com.apple.JavaScriptCore      	0x947e0842
> WTF::TCMalloc_PageHeap::scavengerThread() + 578
> 3   com.apple.JavaScriptCore      	0x947e086f
> WTF::TCMalloc_PageHeap::runScavengerThread(void*) + 15
> 4   libSystem.B.dylib             	0x97473155 _pthread_start + 321
> 5   libSystem.B.dylib             	0x97473012 thread_start + 34
> 
> Thread 2:
> 0   libSystem.B.dylib             	0x97442286 mach_msg_trap + 10
> 1   libSystem.B.dylib             	0x97449a7c mach_msg + 72
> 2   com.apple.CoreFoundation      	0x96a37e7e CFRunLoopRunSpecific + 1790
> 3   com.apple.CoreFoundation      	0x96a38aa8 CFRunLoopRunInMode + 88
> 4   com.apple.CFNetwork           	0x94d48264 CFURLCacheWorkerThread(void*)
> + 388
> 5   libSystem.B.dylib             	0x97473155 _pthread_start + 321
> 6   libSystem.B.dylib             	0x97473012 thread_start + 34
> 
> Thread 3:
> 0   libSystem.B.dylib             	0x97442286 mach_msg_trap + 10
> 1   libSystem.B.dylib             	0x97449a7c mach_msg + 72
> 2   com.apple.CoreFoundation      	0x96a37e7e CFRunLoopRunSpecific + 1790
> 3   com.apple.CoreFoundation      	0x96a38aa8 CFRunLoopRunInMode + 88
> 4   com.apple.Foundation          	0x9447ecad -[NSConnection
> sendInvocation:internal:] + 3005
> 5   com.apple.Foundation          	0x9447de29 -[NSDistantObject
> forwardInvocation:] + 329
> 6   com.apple.CoreFoundation      	0x96ab784a ___forwarding___ + 986
> 7   com.apple.CoreFoundation      	0x96ab78b2 _CF_forwarding_prep_0 + 50
> 8   org.R-project.R               	0x0000da65 -[RController readThread:] +
> 245
> 9   com.apple.Foundation          	0x94447dfd -[NSThread main] + 45
> 10  com.apple.Foundation          	0x944479a4 __NSThread__main__ + 308
> 11  libSystem.B.dylib             	0x97473155 _pthread_start + 321
> 12  libSystem.B.dylib             	0x97473012 thread_start + 34
> 
> Thread 0 crashed with X86 Thread State (32-bit):
>  eax: 0x3c706f74  ebx: 0x96a690fe  ecx: 0x00000001  edx: 0x00000007
>  edi: 0x00067ee2  esi: 0xf1c0a03d  ebp: 0xbfffe6f8  esp: 0xbfffe6f0
>   ss: 0x0000001f  efl: 0x00010282  eip: 0xffff07c7   cs: 0x00000017
>   ds: 0x0000001f   es: 0x0000001f   fs: 0x00000000   gs: 0x00000037
>  cr2: 0x00067ee2
> #----------------------------------------------------------------------
> -- 
> View this message in context: http://old.nabble.com/R-2.10-memory-leak-on-OS-X-tp26422294p26422294.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From richard.liu at pueo-owl.ch  Fri Nov 20 10:55:56 2009
From: richard.liu at pueo-owl.ch (Richard R. Liu)
Date: Fri, 20 Nov 2009 10:55:56 +0100
Subject: [R-SIG-Mac] R 2.10.0-Patched of Nov. 20 does not install
In-Reply-To: <mailman.17.1258628406.26585.r-sig-mac@stat.math.ethz.ch>
References: <mailman.17.1258628406.26585.r-sig-mac@stat.math.ethz.ch>
Message-ID: <20091120095118.M14727@pueo-owl.ch>

Downloaded and attempted to install the latest R-2.10-branch in the hopes that
it might correct the problem that I reported previously.  I cannot install it.
 I receive a message that R64 cannot be verified.

Regards,

Richard R. Liu


From richard.liu at pueo-owl.ch  Fri Nov 20 11:06:36 2009
From: richard.liu at pueo-owl.ch (Richard R. Liu)
Date: Fri, 20 Nov 2009 11:06:36 +0100
Subject: [R-SIG-Mac] R 2.10.0-Patched of Nov. 20 does not install
In-Reply-To: <20091120095118.M14727@pueo-owl.ch>
References: <mailman.17.1258628406.26585.r-sig-mac@stat.math.ethz.ch>
	<20091120095118.M14727@pueo-owl.ch>
Message-ID: <20091120100238.M23145@pueo-owl.ch>

Well, it seems that R64 was installed anyway.  So I tried it, and the problem
(cf. "*** caught bus error *** ..." in this list) seems to have been solved. 
Perhaps Simon can confirm?

Thanks,
Richard


From robjgoedman at me.com  Fri Nov 20 18:15:20 2009
From: robjgoedman at me.com (Rob Goedman)
Date: Fri, 20 Nov 2009 09:15:20 -0800
Subject: [R-SIG-Mac] [R] R 2.10 'memory leak'? on OS X
In-Reply-To: <26443494.post@talk.nabble.com>
References: <26422775.post@talk.nabble.com> <4B0682EF.5090408@stats.uwo.ca>
	<26443494.post@talk.nabble.com>
Message-ID: <7B60565A-DA48-4F5F-B5AE-D8DB5F83CC51@me.com>

Steve,

They are not always in the same place, this depends on the settings in your 'Startup'  preferences. The preferences are saved in below plist file, hence I requested to send that file (or you can double click the file and it will open in the Property List Editor). Based on the info in that file it is possible to find out where the files are stored
and temporarily rename them in a Terminal.

Rob

On Nov 19, 2009, at 8:46 PM, Rob Goedman wrote:

> Steve,
> 
> Do you have a .Rhistory and/or a .Rdata file in your home/working dirs?
> 
> If so, can you rename them temporarily and restart R again?
> 
> Or you can send me your ~/Library/Preferences/org.R-project.R.plist file.
> 
> Regards,
> Rob
> 
On Nov 20, 2009, at 7:38 AM, Stropharia wrote:

> 
> Thanks Duncan,
> 
> I managed to get R to start through the terminal this way. Still no luck
> getting the R.app to start. Is it possible to directly access (and then
> trash or modify) the .RData and .RProfile files? I assume they would be
> recreated if I could then open the R.app. Having searched for them on
> spotlight and in the /user/library folder, I don't see them anywhere - are
> they always located in the same place on OS X?
> 
> thanks,
> 
> Steve
> 
> 
> Duncan Murdoch-2 wrote:
>> 
>> On 20/11/2009 12:33 AM, Stropharia wrote:
>>> Dear R users,
>>> 
>>> I am running R 2.10.0 on OS X 10.5.8.
>>> 
>>> I had been running 2.10 successfully for about a week (and have used
>>> previous R versions for 2+ years on the same computer) until 2 days ago
>>> it
>>> failed to start up for me. Now when I try to start R, the application
>>> tries
>>> to initiate for several minutes then crashes. Looking at the activity
>>> monitor, my memory usage goes from having about 1.6Gb free (out of 2Gb)
>>> to
>>> <7Mb in the first 10-15 seconds of attempting to start the program. At
>>> this
>>> point I either have to force quit R (as everything starts to freeze up)
>>> or
>>> wait several minutes for it to crash.
>>> 
>>> I have erased the application and reinstalled it 4 times now - with
>>> exactly
>>> the same result. I looked around in the Library and System folders to see
>>> if
>>> any other files needed to be removed, but couldn't find any. I have also
>>> restarted the computer and repaired permissions multiple times - and then
>>> reinstalled R, with no luck. The exact same thing happens if I start R64.
>>> 
>>> I did not updated OS X or R, or install any other programs, just prior to
>>> this first happening and am at a loss to explain what's going on. I have
>>> copied the first part of one of the crash logs below. Does anyone have
>>> any
>>> ideas for to remedy this?
>> 
>> 
>> It sounds like one of your user-specific startup files is causing the 
>> problem, e.g. .RData, or .Rprofile.  Did you try starting R with option 
>> --vanilla?  That will skip them.
>> 
>> Duncan Murdoch
>> 
>>> best,
>>> 
>>> Steve
>>> 
>>> 
>>> #---------------- Crash log ------------------------
>>> Process:         R [231]
>>> Path:            /Applications/R.app/Contents/MacOS/R
>>> Identifier:      org.R-project.R
>>> Version:         R 2.10.0 GUI 1.30 Leopard build 32-bit (5511)
>>> Code Type:       X86 (Native)
>>> Parent Process:  launchd [101]
>>> 
>>> Date/Time:       2009-11-18 23:15:45.570 -0500
>>> OS Version:      Mac OS X 10.5.8 (9L31a)
>>> Report Version:  6
>>> Anonymous UUID:  D86CDCBC-00FD-4AEE-AB50-2EFE0DAE9E1E
>>> 
>>> Exception Type:  EXC_BAD_ACCESS (SIGBUS)
>>> Exception Codes: KERN_PROTECTION_FAILURE at 0x0000000000067ee2
>>> Crashed Thread:  0
>>> 
>>> Thread 0 Crashed:
>>> 0   libSystem.B.dylib             0xffff07c7 __memcpy + 39
>>> (cpu_capabilities.h:246)
>>> 1   com.apple.CoreFoundation       0x96a6a0b4 __CFStringEncodeByteStream
>>> +
>>> 4052
>>> 2   com.apple.Foundation           0x94446eb7
>>> -[NSString(NSStringOtherEncodings)
>>> getBytes:maxLength:usedLength:encoding:options:range:remainingRange:] +
>>> 295
>>> 3   com.apple.Foundation           0x94446a1a
>>> _NSNewStringByAppendingStrings
>>> + 538
>>> 4   com.apple.Foundation           0x94446760 -[NSString
>>> stringByAppendingString:] + 192
>>> 5   org.R-project.R               0x00009ce8 -[RController
>>> doLoadHistory:] +
>>> 808
>>> 6   org.R-project.R               0x000076df -[RController awakeFromNib]
>>> +
>>> 2319
>>> 7   com.apple.CoreFoundation       0x96ac07f5 -[NSSet
>>> makeObjectsPerformSelector:] + 181
>>> 8   com.apple.AppKit               0x92efed8e -[NSIBObjectData
>>> nibInstantiateWithOwner:topLevelObjects:] + 1533
>>> 9   com.apple.AppKit               0x92ef4fba loadNib + 264
>>> 10  com.apple.AppKit               0x92ef491c +[NSBundle(NSNibLoading)
>>> _loadNibFile:nameTable:withZone:ownerBundle:] + 946
>>> 11  com.apple.AppKit               0x92ef455f +[NSBundle(NSNibLoading)
>>> loadNibFile:externalNameTable:withZone:] + 171
>>> 12  com.apple.AppKit               0x92ef449d +[NSBundle(NSNibLoading)
>>> loadNibNamed:owner:] + 391
>>> 13  org.R-project.R               0x00002538 main + 296
>>> 14  org.R-project.R               0x000023d6 start + 54
>>> #----------------------------------------------------------------------
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>> 
> 
> -- 
> View this message in context: http://old.nabble.com/R-2.10-%27memory-leak%27--on-OS-X-tp26422775p26443494.html
> Sent from the R help mailing list archive at Nabble.com.
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.


From batholdy at googlemail.com  Sun Nov 22 23:49:01 2009
From: batholdy at googlemail.com (Martin Batholdy)
Date: Sun, 22 Nov 2009 23:49:01 +0100
Subject: [R-SIG-Mac] script-editor: how to match font-style when pasting?
Message-ID: <6387047E-467A-40AA-BE95-F4289048ABB9@googlemail.com>

hi,

I often copy lines of code from other documents / the web into the R-console.

That leads sometimes to completely different font-styles and sizes for the pasted lines in contrast to the normal text which is pretty annoying.

In other mac programs you have the option to paste plain text and match the text to the common style
("paste and match style").

I don't find such option in the R-editor.


Is there a way to overcome this problem of different styles and fonts when pasting text from another source?

From peter at holme.se  Mon Nov 23 09:28:27 2009
From: peter at holme.se (Peter Holme)
Date: Mon, 23 Nov 2009 09:28:27 +0100
Subject: [R-SIG-Mac] script-editor: how to match font-style when pasting?
In-Reply-To: <6387047E-467A-40AA-BE95-F4289048ABB9@googlemail.com>
References: <6387047E-467A-40AA-BE95-F4289048ABB9@googlemail.com>
Message-ID: <e10b50f70911230028o232b8863r4a84e84eca215214@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091123/b66afa4d/attachment.pl>

From ken.knoblauch at inserm.fr  Mon Nov 23 10:05:19 2009
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Mon, 23 Nov 2009 09:05:19 +0000 (UTC)
Subject: [R-SIG-Mac] R 2.10.0-Patched of Nov. 20 does not install
References: <mailman.17.1258628406.26585.r-sig-mac@stat.math.ethz.ch>
	<20091120095118.M14727@pueo-owl.ch>
	<20091120100238.M23145@pueo-owl.ch>
Message-ID: <loom.20091123T100126-679@post.gmane.org>

Richard R. Liu <richard.liu <at> pueo-owl.ch> writes:
> 
> Well, it seems that R64 was installed anyway.  So I tried it, and the problem
> (cf. "*** caught bus error *** ..." in this list) seems to have been solved. 
> Perhaps Simon can confirm?
> Thanks,
> Richard
I don't know if this is related but on trying to install the latest patched
version on a 64 bit Mac Pro, the installation process ended with a message

Install Failed

The Installer could not validate the contents of 
the 'r64' package.  Contact the software manufacturer
for assistance.

However, when I booted up R64.app, it gives

> sessionInfo()
R version 2.10.0 Patched (2009-11-23 r50545) 
x86_64-apple-darwin9.8.0 

locale:
[1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base  

which is today's date, so it looks to be installed,  (The sizeof.pointer is 8).

Is there any other information that I should include here to help
track this down?

Thanks.

Ken

-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From richard.liu at pueo-owl.ch  Mon Nov 23 12:59:35 2009
From: richard.liu at pueo-owl.ch (Richard R. Liu)
Date: Mon, 23 Nov 2009 12:59:35 +0100
Subject: [R-SIG-Mac] R-SIG-Mac Digest, Vol 81, Issue 18
In-Reply-To: <mailman.17.1258974007.18244.r-sig-mac@stat.math.ethz.ch>
References: <mailman.17.1258974007.18244.r-sig-mac@stat.math.ethz.ch>
Message-ID: <20091123115328.M21249@pueo-owl.ch>

Ken,

Yes, this seems to be the same problem, just a different version of R 2.10.0
Patched.  The patches in between seemed OK, though.

Regards,
Richard

On Mon, 23 Nov 2009 12:00:07 +0100, r-sig-mac-request wrote
> I don't know if this is related but on trying to install the latest patched
> version on a 64 bit Mac Pro, the installation process ended with a message
> 
> Install Failed
> 
> The Installer could not validate the contents of 
> the 'r64' package.  Contact the software manufacturer
> for assistance.
> 
> However, when I booted up R64.app, it gives
> 
> > sessionInfo()
> R version 2.10.0 Patched (2009-11-23 r50545) 
> x86_64-apple-darwin9.8.0
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> which is today's date, so it looks to be installed,  (The 
> sizeof.pointer is 8).
> 
> Is there any other information that I should include here to help
> track this down?
> 
> Thanks.
> 
> Ken
> ------------------------------


--
Richard R. Liu
Dittingerstr. 33
CH-4053 Basel
Switzerland

Tel.:  +41 61 331 10 47
Email:  richard.liu at pueo-owl.ch


From oboemike at gmail.com  Tue Nov 24 21:41:45 2009
From: oboemike at gmail.com (Michael Barnett)
Date: Tue, 24 Nov 2009 15:41:45 -0500
Subject: [R-SIG-Mac] package installation issues
In-Reply-To: <E9DE48A2-F871-4C22-83CB-0667E85E81C6@gmail.com>
References: <6CBD96AB-8C36-4C06-8B2F-7E21ACD8AC20@gmail.com>
	<05224E19-2460-40DD-85EA-77D588417B84@gmail.com>
	<7758AFAE-45FD-4D8E-9CF6-A4A204CC6587@gmail.com>
	<E9DE48A2-F871-4C22-83CB-0667E85E81C6@gmail.com>
Message-ID: <FE0F2460-7D58-42E6-8667-96EC4989281C@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091124/9e4fee0d/attachment.pl>

From dwinsemius at comcast.net  Tue Nov 24 22:22:42 2009
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 24 Nov 2009 16:22:42 -0500
Subject: [R-SIG-Mac] package installation issues
In-Reply-To: <FE0F2460-7D58-42E6-8667-96EC4989281C@gmail.com>
References: <6CBD96AB-8C36-4C06-8B2F-7E21ACD8AC20@gmail.com>
	<05224E19-2460-40DD-85EA-77D588417B84@gmail.com>
	<7758AFAE-45FD-4D8E-9CF6-A4A204CC6587@gmail.com>
	<E9DE48A2-F871-4C22-83CB-0667E85E81C6@gmail.com>
	<FE0F2460-7D58-42E6-8667-96EC4989281C@gmail.com>
Message-ID: <928010D5-D7C3-41B3-8915-D1A5550E98C9@comcast.net>


On Nov 24, 2009, at 3:41 PM, Michael Barnett wrote:

> Hi everyone -
>
> I'm having the same package installation issues with igraph, despite
> installing Xcode. I don't really know what to do. I'll paste the bug I
> get below - is there an easy fix for my problem? It seems to be an
> issue with the fact that R can't find a C compiler I'm guessing since
> I know that this package uses C code. I installed Xcode, but I'm not
> terribly informed about how to fix these issues. Any guidance?
>
> -Michael
>
>
> *****not from source
>> install.packages("igraph")

The default for install.packages might be for binary installation.  
(What does getOption("pkgType") report? If you took that effort to  
install Xcode, then you must have been thinking of building from  
"source".

?install.packages

-- 
David

> trying URL 'http://lib.stat.cmu.edu/R/CRAN/bin/macosx/leopard/contrib/2.10/igraph_0.5.3.tgz'
> Content type 'application/x-gzip' length 3277777 bytes (3.1 Mb)
> opened URL
> ==================================================
> downloaded 3.1 Mb
>
>
> The downloaded packages are in
> 	/var/folders/7J/7JpbFNySGACoH3teAShOLE+++TM/-Tmp-//RtmpFip5QZ/
> downloaded_packages
>> library("igraph")
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>   unable to load shared library '/Library/Frameworks/R.framework/
> Resources/library/igraph/libs/x86_64/igraph.so':
>   dlopen(/Library/Frameworks/R.framework/Resources/library/igraph/
> libs/x86_64/igraph.so, 10): Symbol not found: ___gmpz_clear
>   Referenced from: /Library/Frameworks/R.framework/Resources/library/
> igraph/libs/x86_64/igraph.so
>   Expected in: dynamic lookup
>
> Error : .onLoad failed in 'loadNamespace' for 'igraph'
> Error: package/namespace load failed for 'igraph'
>
> *****from source
>> install.packages("igraph", type="source")
> trying URL 'http://lib.stat.cmu.edu/R/CRAN/src/contrib/igraph_0.5.3.tar.gz'
> Content type 'application/x-gzip' length 1211771 bytes (1.2 Mb)
> opened URL
> ==================================================
> downloaded 1.2 Mb
>
> * installing *source* package ?igraph? ...
> checking for gcc... no
> checking for cc... no
> checking for cl.exe... no
> configure: error: in `/private/var/folders/7J/7JpbFNySGACoH3teAShOLE++
> +TM/-Tmp-/Rtmptn2nFy/R.INSTALL10d63af1/igraph':
> configure: error: no acceptable C compiler found in $PATH
> See `config.log' for more details.
> ERROR: configuration failed for package ?igraph?
> * removing ?/Library/Frameworks/R.framework/Versions/2.10/Resources/
> library/igraph?
> * restoring previous ?/Library/Frameworks/R.framework/Versions/2.10/
> Resources/library/igraph?
>
> The downloaded packages are in
> 	?/private/var/folders/7J/7JpbFNySGACoH3teAShOLE+++TM/-Tmp-/ 
> RtmpFip5QZ/
> downloaded_packages?
> Updating HTML index of packages in '.Library'
> Warning message:
> In install.packages("igraph", type = "source") :
>   installation of package 'igraph' had non-zero exit status
> On Nov 12, 2009, at 12:53 PM, Steve Lianoglou wrote:
>
>> Heh ...
>>
>> On Nov 12, 2009, at 12:45 PM, Michael Barnett wrote:
>>
>>> I apologize for not being more precise. I'm pasting the printout I
>>> get below:
>>>
>>> *****
>>>> install.packages("igraph")
>>> trying URL 'http://lib.stat.cmu.edu/R/CRAN/bin/macosx/leopard/contrib/2.10/igraph_0.5.2-2.tgz'
>>> Content type 'application/x-gzip' length 3312372 bytes (3.2 Mb)
>>> opened URL
>>> ==================================================
>>> downloaded 3.2 Mb
>>>
>>>
>>> The downloaded packages are in
>>> 	/var/folders/7J/7JpbFNySGACoH3teAShOLE+++TM/-Tmp-//RtmpXG1NQC/
>>> downloaded_packages
>>>> library(igraph)
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>> unable to load shared library '/Library/Frameworks/R.framework/
>>> Resources/library/igraph/libs/x86_64/igraph.so':
>>> dlopen(/Library/Frameworks/R.framework/Resources/library/igraph/
>>> libs/x86_64/igraph.so, 10): Symbol not found: ___gmpz_clear
>>> Referenced from: /Library/Frameworks/R.framework/Resources/library/
>>> igraph/libs/x86_64/igraph.so
>>> Expected in: dynamic lookup
>>>
>>> Error : .onLoad failed in 'loadNamespace' for 'igraph'
>>> Error: package/namespace load failed for 'igraph'
>>> ******
>>
>> ... that's really funny. I just tried to re-install igraph like you
>> did, and now I got the same error :-)
>>
>> Do you have XCode installed? Installing the package from source
>> seems to do the trick:
>>
>> install.packages('igraph', type='source')
>> ... lots of compile info ...
>>
>> Now loading igraph works (I had to restart R ... I guess having
>> tried to load the original compiled package hose the workspace,
>> somehow).
>>
>> I typically install most packages from source, anyway, so I guess
>> this is why I didn't see this before.
>>
>> Does this work for you?
>>
>> -steve
>>
>> btw - I'm on a mac pro w/ snow leopard, not that I'm sure that
>> matters now ...
>>
>> --
>> Steve Lianoglou
>> Graduate Student: Computational Systems Biology
>> |  Memorial Sloan-Kettering Cancer Center
>> |  Weill Medical College of Cornell University
>> Contact Info: http://cbio.mskcc.org/~lianos/contact
>>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Heritage Laboratories
West Hartford, CT


From simon.urbanek at r-project.org  Tue Nov 24 22:57:16 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 24 Nov 2009 16:57:16 -0500
Subject: [R-SIG-Mac] package installation issues
In-Reply-To: <FE0F2460-7D58-42E6-8667-96EC4989281C@gmail.com>
References: <6CBD96AB-8C36-4C06-8B2F-7E21ACD8AC20@gmail.com>
	<05224E19-2460-40DD-85EA-77D588417B84@gmail.com>
	<7758AFAE-45FD-4D8E-9CF6-A4A204CC6587@gmail.com>
	<E9DE48A2-F871-4C22-83CB-0667E85E81C6@gmail.com>
	<FE0F2460-7D58-42E6-8667-96EC4989281C@gmail.com>
Message-ID: <7B12E368-B380-45AA-9FF8-DD7D3CB2E43E@r-project.org>


On Nov 24, 2009, at 15:41 , Michael Barnett wrote:

> Hi everyone -
>
> I'm having the same package installation issues with igraph, despite  
> installing Xcode. I don't really know what to do. I'll paste the bug  
> I get below - is there an easy fix for my problem? It seems to be an  
> issue with the fact that R can't find a C compiler I'm guessing  
> since I know that this package uses C code. I installed Xcode, but  
> I'm not terribly informed about how to fix these issues. Any guidance?
>

The error is on my side (Fortran disappeared for some builds on the  
Leopard build machine), you don't really need Xcode at all - please  
just re-install igraph using

install.packages("igraph",,"http://r.urbanek.info")

(CRAN mirrors should pick up the updated binary within a day or two  
but the above will work immediately).

In fact there are several other packages affected, so I'd recommend  
update.packages(checkBuilt=TRUE) to all users (in a day or two or use  
the above master repository).

Thanks,
Simon



>
> *****not from source
>> install.packages("igraph")
> trying URL 'http://lib.stat.cmu.edu/R/CRAN/bin/macosx/leopard/contrib/2.10/igraph_0.5.3.tgz'
> Content type 'application/x-gzip' length 3277777 bytes (3.1 Mb)
> opened URL
> ==================================================
> downloaded 3.1 Mb
>
>
> The downloaded packages are in
> 	/var/folders/7J/7JpbFNySGACoH3teAShOLE+++TM/-Tmp-//RtmpFip5QZ/
> downloaded_packages
>> library("igraph")
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>   unable to load shared library '/Library/Frameworks/R.framework/
> Resources/library/igraph/libs/x86_64/igraph.so':
>   dlopen(/Library/Frameworks/R.framework/Resources/library/igraph/
> libs/x86_64/igraph.so, 10): Symbol not found: ___gmpz_clear
>   Referenced from: /Library/Frameworks/R.framework/Resources/library/
> igraph/libs/x86_64/igraph.so
>   Expected in: dynamic lookup
>
> Error : .onLoad failed in 'loadNamespace' for 'igraph'
> Error: package/namespace load failed for 'igraph'
>
> *****from source
>> install.packages("igraph", type="source")
> trying URL 'http://lib.stat.cmu.edu/R/CRAN/src/contrib/igraph_0.5.3.tar.gz'
> Content type 'application/x-gzip' length 1211771 bytes (1.2 Mb)
> opened URL
> ==================================================
> downloaded 1.2 Mb
>
> * installing *source* package ?igraph? ...
> checking for gcc... no
> checking for cc... no
> checking for cl.exe... no
> configure: error: in `/private/var/folders/7J/7JpbFNySGACoH3teAShOLE++
> +TM/-Tmp-/Rtmptn2nFy/R.INSTALL10d63af1/igraph':
> configure: error: no acceptable C compiler found in $PATH
> See `config.log' for more details.
> ERROR: configuration failed for package ?igraph?
> * removing ?/Library/Frameworks/R.framework/Versions/2.10/Resources/
> library/igraph?
> * restoring previous ?/Library/Frameworks/R.framework/Versions/2.10/
> Resources/library/igraph?
>
> The downloaded packages are in
> 	?/private/var/folders/7J/7JpbFNySGACoH3teAShOLE+++TM/-Tmp-/ 
> RtmpFip5QZ/
> downloaded_packages?
> Updating HTML index of packages in '.Library'
> Warning message:
> In install.packages("igraph", type = "source") :
>   installation of package 'igraph' had non-zero exit status
> On Nov 12, 2009, at 12:53 PM, Steve Lianoglou wrote:
>
>> Heh ...
>>
>> On Nov 12, 2009, at 12:45 PM, Michael Barnett wrote:
>>
>>> I apologize for not being more precise. I'm pasting the printout I
>>> get below:
>>>
>>> *****
>>>> install.packages("igraph")
>>> trying URL 'http://lib.stat.cmu.edu/R/CRAN/bin/macosx/leopard/contrib/2.10/igraph_0.5.2-2.tgz'
>>> Content type 'application/x-gzip' length 3312372 bytes (3.2 Mb)
>>> opened URL
>>> ==================================================
>>> downloaded 3.2 Mb
>>>
>>>
>>> The downloaded packages are in
>>> 	/var/folders/7J/7JpbFNySGACoH3teAShOLE+++TM/-Tmp-//RtmpXG1NQC/
>>> downloaded_packages
>>>> library(igraph)
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>> unable to load shared library '/Library/Frameworks/R.framework/
>>> Resources/library/igraph/libs/x86_64/igraph.so':
>>> dlopen(/Library/Frameworks/R.framework/Resources/library/igraph/
>>> libs/x86_64/igraph.so, 10): Symbol not found: ___gmpz_clear
>>> Referenced from: /Library/Frameworks/R.framework/Resources/library/
>>> igraph/libs/x86_64/igraph.so
>>> Expected in: dynamic lookup
>>>
>>> Error : .onLoad failed in 'loadNamespace' for 'igraph'
>>> Error: package/namespace load failed for 'igraph'
>>> ******
>>
>> ... that's really funny. I just tried to re-install igraph like you
>> did, and now I got the same error :-)
>>
>> Do you have XCode installed? Installing the package from source
>> seems to do the trick:
>>
>> install.packages('igraph', type='source')
>> ... lots of compile info ...
>>
>> Now loading igraph works (I had to restart R ... I guess having
>> tried to load the original compiled package hose the workspace,
>> somehow).
>>
>> I typically install most packages from source, anyway, so I guess
>> this is why I didn't see this before.
>>
>> Does this work for you?
>>
>> -steve
>>
>> btw - I'm on a mac pro w/ snow leopard, not that I'm sure that
>> matters now ...
>>
>> --
>> Steve Lianoglou
>> Graduate Student: Computational Systems Biology
>> |  Memorial Sloan-Kettering Cancer Center
>> |  Weill Medical College of Cornell University
>> Contact Info: http://cbio.mskcc.org/~lianos/contact
>>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From oboemike at gmail.com  Tue Nov 24 23:34:50 2009
From: oboemike at gmail.com (Michael Barnett)
Date: Tue, 24 Nov 2009 17:34:50 -0500
Subject: [R-SIG-Mac] package installation issues
In-Reply-To: <7B12E368-B380-45AA-9FF8-DD7D3CB2E43E@r-project.org>
References: <6CBD96AB-8C36-4C06-8B2F-7E21ACD8AC20@gmail.com>
	<05224E19-2460-40DD-85EA-77D588417B84@gmail.com>
	<7758AFAE-45FD-4D8E-9CF6-A4A204CC6587@gmail.com>
	<E9DE48A2-F871-4C22-83CB-0667E85E81C6@gmail.com>
	<FE0F2460-7D58-42E6-8667-96EC4989281C@gmail.com>
	<7B12E368-B380-45AA-9FF8-DD7D3CB2E43E@r-project.org>
Message-ID: <048542D2-C789-4C79-931A-5836D9FB2592@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091124/04150199/attachment.pl>

From simon.urbanek at r-project.org  Wed Nov 25 00:37:10 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 24 Nov 2009 18:37:10 -0500
Subject: [R-SIG-Mac] package installation issues
In-Reply-To: <048542D2-C789-4C79-931A-5836D9FB2592@gmail.com>
References: <6CBD96AB-8C36-4C06-8B2F-7E21ACD8AC20@gmail.com>
	<05224E19-2460-40DD-85EA-77D588417B84@gmail.com>
	<7758AFAE-45FD-4D8E-9CF6-A4A204CC6587@gmail.com>
	<E9DE48A2-F871-4C22-83CB-0667E85E81C6@gmail.com>
	<FE0F2460-7D58-42E6-8667-96EC4989281C@gmail.com>
	<7B12E368-B380-45AA-9FF8-DD7D3CB2E43E@r-project.org>
	<048542D2-C789-4C79-931A-5836D9FB2592@gmail.com>
Message-ID: <04F9C91D-A057-4DAD-A3DC-17847D89F5D8@r-project.org>


On Nov 24, 2009, at 5:34 PM, Michael Barnett wrote:

> Simon -
>
> I appreciate your help very much. Unfortunately I did exactly what  
> you said and got an error again :(
>

Ooops -- I'll need to have a look - it is an issue in the 64-bit  
binary (I was checking 32-bit and that was fine) .. I'll keep you  
posted. In the meantime you can try

install.packages("igraph",type='source')

Thanks,
Simon




> ******snip******
> > install.packages("igraph",,"http://r.urbanek.info")
> trying URL 'http://r.urbanek.info/bin/macosx/leopard/contrib/2.10/ 
> igraph_0.5.3.tgz'
> Content type 'application/x-tar' length 3280864 bytes (3.1 Mb)
> opened URL
> ==================================================
> downloaded 3.1 Mb
>
>
> The downloaded packages are in
> 	/var/folders/7J/7JpbFNySGACoH3teAShOLE+++TM/-Tmp-//RtmptZ63yS/ 
> downloaded_packages
>
> > library("igraph")
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>   unable to load shared library '/Library/Frameworks/R.framework/ 
> Resources/library/igraph/libs/x86_64/igraph.so':
>   dlopen(/Library/Frameworks/R.framework/Resources/library/igraph/ 
> libs/x86_64/igraph.so, 10): Symbol not found: ___gmpz_clear
>   Referenced from: /Library/Frameworks/R.framework/Resources/library/ 
> igraph/libs/x86_64/igraph.so
>   Expected in: dynamic lookup
>
> Error : .onLoad failed in 'loadNamespace' for 'igraph'
> Error: package/namespace load failed for 'igraph'
>
> *********
>
> -Michael
>
> On Nov 24, 2009, at 4:57 PM, Simon Urbanek wrote:
>
>> install.packages("igraph",,"http://r.urbanek.info")
>


From simon.urbanek at r-project.org  Wed Nov 25 02:49:18 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 24 Nov 2009 20:49:18 -0500
Subject: [R-SIG-Mac] package installation issues
In-Reply-To: <04F9C91D-A057-4DAD-A3DC-17847D89F5D8@r-project.org>
References: <6CBD96AB-8C36-4C06-8B2F-7E21ACD8AC20@gmail.com>
	<05224E19-2460-40DD-85EA-77D588417B84@gmail.com>
	<7758AFAE-45FD-4D8E-9CF6-A4A204CC6587@gmail.com>
	<E9DE48A2-F871-4C22-83CB-0667E85E81C6@gmail.com>
	<FE0F2460-7D58-42E6-8667-96EC4989281C@gmail.com>
	<7B12E368-B380-45AA-9FF8-DD7D3CB2E43E@r-project.org>
	<048542D2-C789-4C79-931A-5836D9FB2592@gmail.com>
	<04F9C91D-A057-4DAD-A3DC-17847D89F5D8@r-project.org>
Message-ID: <3109B87F-FADB-4580-B86A-B3560E05A0C4@r-project.org>

Ok, I found the problem -- it's GMP. We have only 32-bit GMP on the  
build machine so igraph is trying to use it but doesn't get it for 64- 
bit. So this is really not related to the Fortran issue after all.  
I'll put 64-bit GMP on the CRAN machine tomorrow and keep you posted.  
If you don't need 64-bit just use 32-bit R in the meantime (R --arch  
i386) -- that will work.

Thanks,
Simon



On Nov 24, 2009, at 6:37 PM, Simon Urbanek wrote:

>
> On Nov 24, 2009, at 5:34 PM, Michael Barnett wrote:
>
>> Simon -
>>
>> I appreciate your help very much. Unfortunately I did exactly what  
>> you said and got an error again :(
>>
>
> Ooops -- I'll need to have a look - it is an issue in the 64-bit  
> binary (I was checking 32-bit and that was fine) .. I'll keep you  
> posted. In the meantime you can try
>
> install.packages("igraph",type='source')
>
> Thanks,
> Simon
>
>
>
>
>> ******snip******
>> > install.packages("igraph",,"http://r.urbanek.info")
>> trying URL 'http://r.urbanek.info/bin/macosx/leopard/contrib/2.10/ 
>> igraph_0.5.3.tgz'
>> Content type 'application/x-tar' length 3280864 bytes (3.1 Mb)
>> opened URL
>> ==================================================
>> downloaded 3.1 Mb
>>
>>
>> The downloaded packages are in
>> 	/var/folders/7J/7JpbFNySGACoH3teAShOLE+++TM/-Tmp-//RtmptZ63yS/ 
>> downloaded_packages
>>
>> > library("igraph")
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>  unable to load shared library '/Library/Frameworks/R.framework/ 
>> Resources/library/igraph/libs/x86_64/igraph.so':
>>  dlopen(/Library/Frameworks/R.framework/Resources/library/igraph/ 
>> libs/x86_64/igraph.so, 10): Symbol not found: ___gmpz_clear
>>  Referenced from: /Library/Frameworks/R.framework/Resources/library/ 
>> igraph/libs/x86_64/igraph.so
>>  Expected in: dynamic lookup
>>
>> Error : .onLoad failed in 'loadNamespace' for 'igraph'
>> Error: package/namespace load failed for 'igraph'
>>
>> *********
>>
>> -Michael
>>
>> On Nov 24, 2009, at 4:57 PM, Simon Urbanek wrote:
>>
>>> install.packages("igraph",,"http://r.urbanek.info")
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From kubovy at virginia.edu  Wed Nov 25 21:34:15 2009
From: kubovy at virginia.edu (Michael Kubovy)
Date: Wed, 25 Nov 2009 15:34:15 -0500
Subject: [R-SIG-Mac] Problem with update.packages() R 2.10.0 Snow Leopard
Message-ID: <0BF102D1-652B-43CF-8A89-448D7DA9056A@virginia.edu>

> sessionInfo()
R version 2.10.0 (2009-10-26) 
x86_64-apple-darwin9.8.0 

locale:
[1] C/C/en_US/C/C/C

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base     

other attached packages:
[1] MASS_7.3-4   JGR_1.7-0    iplots_1.1-3 JavaGD_0.5-2 rJava_0.8-1 

loaded via a namespace (and not attached):
[1] Matrix_0.999375-32 grid_2.10.0        lattice_0.17-26    lme4_0.999375-32  
[5] tools_2.10.0      

> update.packages()
Warning: unable to access index for repository http://cran.r-project.org/bin/macosx/leopard/contrib/2.10
Error in gzfile(file, mode) : cannot open the connection
In addition: Warning message:
In gzfile(file, mode) :
  cannot open compressed file '/var/folders/TG/TG6nWu2pHYCI-BdWWiyMxU+++TI/-Tmp-//RtmpEmAUaz/libloc_%2fLibrary%2fFrameworks%2fR.framework%2fResources%2flibraryVersion,Priority,Bundle,Contains,Depends,Imports,LinkingTo,Suggests,Enhances,OS_type,License,Built.rds', probable reason 'No such file or directory'

> update.packages(type = 'source')
Warning: unable to access index for repository http://cran.r-project.org/src/contrib
Error in gzfile(file, mode) : cannot open the connection
In addition: Warning message:
In gzfile(file, mode) :
  cannot open compressed file '/var/folders/TG/TG6nWu2pHYCI-BdWWiyMxU+++TI/-Tmp-//RtmpEmAUaz/libloc_%2fLibrary%2fFrameworks%2fR.framework%2fResources%2flibraryVersion,Priority,Bundle,Contains,Depends,Imports,LinkingTo,Suggests,Enhances,OS_type,License,Built.rds', probable reason 'No such file or directory'

**************************************
After quitting and restarting JGR:
**************************************
> update.packages()
DAAG :
 Version 1.00 installed in /Library/Frameworks/R.framework/Resources/library 
 Version 1.01 available at http://cran.r-project.org
Update (y/N/c)?  y
trying URL 'http://cran.r-project.org/bin/macosx/leopard/contrib/2.10/DAAG_1.01.tgz'
Content type 'application/x-gzip' length 2345297 bytes (2.2 Mb)
opened URL
==================================================
downloaded 2.2 Mb


The downloaded packages are in
	/var/folders/TG/TG6nWu2pHYCI-BdWWiyMxU+++TI/-Tmp-//RtmpojyYn0/downloaded_packages



_____________________________
Professor Michael Kubovy
University of Virginia
Department of Psychology
USPS:     P.O.Box 400400    Charlottesville, VA 22904-4400
Parcels:    Room 102        Gilmer Hall
      McCormick Road    Charlottesville, VA 22903
Office:    B011    +1-434-982-4729
Lab:        B019    +1-434-982-4751
Fax:        +1-434-982-4766
WWW:    http://www.people.virginia.edu/~mk9y/


From mark.heckmann at gmx.de  Thu Nov 26 18:47:55 2009
From: mark.heckmann at gmx.de (Mark Heckmann)
Date: Thu, 26 Nov 2009 18:47:55 +0100
Subject: [R-SIG-Mac] Reading SPSS data
Message-ID: <B7C056A6-F1B2-472C-8CFB-9400643CDC9F@gmx.de>

Hi

I have some issues loading an SPSS file using foreign package on Mac  
OS (snow leopard and R 2.10.0).
The main problem is that either the file is not read due to encoding  
or the german umlauts are not displayed properly.

As far as I know SPSS encodes on Windows machines in latin-1 and CRLF  
(carriage return, line feed) (actually I do not know if this is  
important for this)
but I heard that the unix standard is LF only. AFIK.
So whatever coding I choose for the reencode argument in read.spss  
(e.g. "ISO-...") does not work out .The file is not read.

Could someone give me a detailed explanation what is happening and how  
to solve this?
I saw a couple of problems concerning reading SPSS files on Mac OS on  
R-help but none of the advices worked out.

I get the following messages (partialy translated from german R output)

 > mydata <- read.spss("./data.sav",use.value.labels = TRUE,  
to.data.frame = TRUE)
Error in make.names(vnames, unique = TRUE) :
   ung?ltige multibyte string 4

 > mydata <- read.spss("./data.sav",use.value.labels = TRUE,   
to.data.frame = TRUE, reencode="ISO-8859-1")	
Recoding from ISO-8859-1
Error in if (tp %in% "none") next : Argument has length 0

 > mydata <- read.spss("./data.sav",use.value.labels = TRUE,   
to.data.frame = TRUE, reencode="UTF-8")	
Recoding from  UTF-8
Error in if (tp %in% "none") next : Argument has length 0

I am not at all familiar with encodings and so on, so I would really  
appreciate a rookie type of explanation...

TIA
Mark


???????????????????????????????????????
Mark Heckmann
Dipl. Wirt.-Ing. cand. Psych.
Vorstra?e 93 B01
28359 Bremen
Blog: www.markheckmann.de
R-Blog: http://ryouready.wordpress.com


From tsadowski at gmx.net  Thu Nov 26 22:40:31 2009
From: tsadowski at gmx.net (Torsten Sadowski)
Date: Thu, 26 Nov 2009 22:40:31 +0100
Subject: [R-SIG-Mac] gfortran for XCode 3.1.4 on Leopard
Message-ID: <1700961E-24F7-461E-B9EC-48E5BE77A26B@gmx.net>

Hi,

I ran into some trouble with gfortran after updating XCode. I've been  
using the experimental addon gfortran to Apple's gcc. With XCode 3.1.4  
comes a new gcc-4.2 build 5577. Unluckily I can't build my own fat  
gfortran because I have a PPC. Could someone with the ability please  
update

gfortran-4.2-5566-darwin9.tar.gz

to a

gfortran-4.2-5577-darwin9.tar.gz

Cheers,
Torsten


From simon.urbanek at r-project.org  Fri Nov 27 01:54:22 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 26 Nov 2009 19:54:22 -0500
Subject: [R-SIG-Mac] package installation issues
In-Reply-To: <3109B87F-FADB-4580-B86A-B3560E05A0C4@r-project.org>
References: <6CBD96AB-8C36-4C06-8B2F-7E21ACD8AC20@gmail.com>
	<05224E19-2460-40DD-85EA-77D588417B84@gmail.com>
	<7758AFAE-45FD-4D8E-9CF6-A4A204CC6587@gmail.com>
	<E9DE48A2-F871-4C22-83CB-0667E85E81C6@gmail.com>
	<FE0F2460-7D58-42E6-8667-96EC4989281C@gmail.com>
	<7B12E368-B380-45AA-9FF8-DD7D3CB2E43E@r-project.org>
	<048542D2-C789-4C79-931A-5836D9FB2592@gmail.com>
	<04F9C91D-A057-4DAD-A3DC-17847D89F5D8@r-project.org>
	<3109B87F-FADB-4580-B86A-B3560E05A0C4@r-project.org>
Message-ID: <0E41D948-C557-4AC1-9EFA-9965768B1D1E@r-project.org>

64-bit GMP is now on the CRAN machine and I have re-compiled igraph so  
it should be fine (install from r.urbanek.info or wait for CRAN to  
synchronize). I'm checking other packages that may depend on GMP as  
well and will update them when seen.

Thanks,
Simon


On Nov 24, 2009, at 8:49 PM, Simon Urbanek wrote:

> Ok, I found the problem -- it's GMP. We have only 32-bit GMP on the  
> build machine so igraph is trying to use it but doesn't get it for  
> 64-bit. So this is really not related to the Fortran issue after  
> all. I'll put 64-bit GMP on the CRAN machine tomorrow and keep you  
> posted. If you don't need 64-bit just use 32-bit R in the meantime  
> (R --arch i386) -- that will work.
>
> Thanks,
> Simon
>
>
>
> On Nov 24, 2009, at 6:37 PM, Simon Urbanek wrote:
>
>>
>> On Nov 24, 2009, at 5:34 PM, Michael Barnett wrote:
>>
>>> Simon -
>>>
>>> I appreciate your help very much. Unfortunately I did exactly what  
>>> you said and got an error again :(
>>>
>>
>> Ooops -- I'll need to have a look - it is an issue in the 64-bit  
>> binary (I was checking 32-bit and that was fine) .. I'll keep you  
>> posted. In the meantime you can try
>>
>> install.packages("igraph",type='source')
>>
>> Thanks,
>> Simon
>>
>>
>>
>>
>>> ******snip******
>>> > install.packages("igraph",,"http://r.urbanek.info")
>>> trying URL 'http://r.urbanek.info/bin/macosx/leopard/contrib/2.10/ 
>>> igraph_0.5.3.tgz'
>>> Content type 'application/x-tar' length 3280864 bytes (3.1 Mb)
>>> opened URL
>>> ==================================================
>>> downloaded 3.1 Mb
>>>
>>>
>>> The downloaded packages are in
>>> 	/var/folders/7J/7JpbFNySGACoH3teAShOLE+++TM/-Tmp-//RtmptZ63yS/ 
>>> downloaded_packages
>>>
>>> > library("igraph")
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>> unable to load shared library '/Library/Frameworks/R.framework/ 
>>> Resources/library/igraph/libs/x86_64/igraph.so':
>>> dlopen(/Library/Frameworks/R.framework/Resources/library/igraph/ 
>>> libs/x86_64/igraph.so, 10): Symbol not found: ___gmpz_clear
>>> Referenced from: /Library/Frameworks/R.framework/Resources/library/ 
>>> igraph/libs/x86_64/igraph.so
>>> Expected in: dynamic lookup
>>>
>>> Error : .onLoad failed in 'loadNamespace' for 'igraph'
>>> Error: package/namespace load failed for 'igraph'
>>>
>>> *********
>>>
>>> -Michael
>>>
>>> On Nov 24, 2009, at 4:57 PM, Simon Urbanek wrote:
>>>
>>>> install.packages("igraph",,"http://r.urbanek.info")
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From henrique.coelho at gmail.com  Fri Nov 27 03:35:47 2009
From: henrique.coelho at gmail.com (Henrique)
Date: Fri, 27 Nov 2009 00:35:47 -0200
Subject: [R-SIG-Mac] Installation
Message-ID: <b3173c600911261835l1c97de2brabcbcd90a0cf6c4b@mail.gmail.com>

Dear R users,


      When I try to install R I get R.app and R64.app. I would like to
keep only one version of R in my Mac (Snow Leopard). I would like to
keep only the 64 bit version, but I don't like the name R64.app. So I
need to install the 64 bit but with the name R.app. Is this possible?


Best,
Henrique C. de Andrade
Doutorando em Economia Aplicada
Universidade Federal do Rio Grande do Sul
www.ufrgs.br/ppge


From simon.urbanek at r-project.org  Fri Nov 27 04:07:57 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 26 Nov 2009 22:07:57 -0500
Subject: [R-SIG-Mac] Installation
In-Reply-To: <b3173c600911261835l1c97de2brabcbcd90a0cf6c4b@mail.gmail.com>
References: <b3173c600911261835l1c97de2brabcbcd90a0cf6c4b@mail.gmail.com>
Message-ID: <8803C32A-5254-4866-BBF7-3E84C9A2EC22@r-project.org>


On Nov 26, 2009, at 9:35 PM, Henrique wrote:

> Dear R users,
> 
> 
>      When I try to install R I get R.app and R64.app. I would like to
> keep only one version of R in my Mac (Snow Leopard). I would like to
> keep only the 64 bit version, but I don't like the name R64.app. So I
> need to install the 64 bit but with the name R.app. Is this possible?
> 

Sure, delete (or move) R.app and rename R64.app to R.app.

Cheers,
Simon


From dwinsemius at comcast.net  Fri Nov 27 04:24:40 2009
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 26 Nov 2009 22:24:40 -0500
Subject: [R-SIG-Mac] Installation
In-Reply-To: <b3173c600911261835l1c97de2brabcbcd90a0cf6c4b@mail.gmail.com>
References: <b3173c600911261835l1c97de2brabcbcd90a0cf6c4b@mail.gmail.com>
Message-ID: <6961F37A-4506-4177-9C84-2F6354367593@comcast.net>


On Nov 26, 2009, at 9:35 PM, Henrique wrote:

> Dear R users,
>
>
>      When I try to install R I get R.app and R64.app. I would like to
> keep only one version of R in my Mac (Snow Leopard). I would like to
> keep only the 64 bit version, but I don't like the name R64.app. So I
> need to install the 64 bit but with the name R.app. Is this possible?
>

What's in a name....? (It's only the GUI engine anyway, the real  
workhorse is elsewhere.)

Just delete the R.app and rename the R64.app to whatever you deem  
appropriate.

>
> Best,
> Henrique C. de Andrade

--
>

David Winsemius, MD
Heritage Laboratories
West Hartford, CT


From carnivorescience at gmail.com  Sun Nov 29 16:29:57 2009
From: carnivorescience at gmail.com (Guillaume Chapron)
Date: Sun, 29 Nov 2009 16:29:57 +0100
Subject: [R-SIG-Mac] Interacting with R GUI app from another Cocoa app
Message-ID: <B12F2715-DE95-4BB0-A978-0CDE41526042@gmail.com>

Hello,

I have a standalone simulation model written in Objective C/Cocoa. Once the simulations are done, I would like to send the output (a large C array) to R.app for further analysis and plotting. I'm able to launch R.app from a Cocoa app by this:

	[[NSWorkspace sharedWorkspace] launchApplication:@"R.app"];

But I'm not able to send the C array or in fact any kind of instructions. I have tried a modified code:

	NSBundle *bundle = [NSBundle bundleWithPath:@"/Applications/R.app"]; 
	NSString *path = [bundle executablePath];
	NSTask *task = [[NSTask alloc] init];
	
	[task setLaunchPath:path];
	[task setArguments:[NSArray arrayWithObject:@"2+3"]];
	[task launch];

But it seems that R.app does not understand the arguments of the NSTask. How from my Cocoa app, can I tell R.app to read a pointer to a C array and convert it to a R object, and how can I send R instructions?

Before I wrote the Objective C model as a dyn library and I could call it from R and run the simulations, but because simulations last hours, I cannot use R.app during that time, so I'm trying to do the reverse, interact with R from a Cocoa app once the simulations are done. Has anyone done something like that?

Thanks for any help!

Guillaume


From neilt at neiltiffin.com  Sun Nov 29 21:16:25 2009
From: neilt at neiltiffin.com (Neil Tiffin)
Date: Sun, 29 Nov 2009 14:16:25 -0600
Subject: [R-SIG-Mac] Interacting with R GUI app from another Cocoa app
In-Reply-To: <B12F2715-DE95-4BB0-A978-0CDE41526042@gmail.com>
References: <B12F2715-DE95-4BB0-A978-0CDE41526042@gmail.com>
Message-ID: <2474F567-22D8-442D-807C-2861EEF87704@neiltiffin.com>


On Nov 29, 2009, at 9:29 AM, Guillaume Chapron wrote:

> Hello,
>
> I have a standalone simulation model written in Objective C/Cocoa.  
> Once the simulations are done, I would like to send the output (a  
> large C array) to R.app for further analysis and plotting. I'm able  
> to launch R.app from a Cocoa app by this:
>
> 	[[NSWorkspace sharedWorkspace] launchApplication:@"R.app"];
>
> But I'm not able to send the C array or in fact any kind of  
> instructions. I have tried a modified code:
>
> 	NSBundle *bundle = [NSBundle bundleWithPath:@"/Applications/R.app"];
> 	NSString *path = [bundle executablePath];
> 	NSTask *task = [[NSTask alloc] init];
> 	
> 	[task setLaunchPath:path];
> 	[task setArguments:[NSArray arrayWithObject:@"2+3"]];
> 	[task launch];
>

You might try to write the results into a file and read it back in R.   
This is probably safer anyway.

> But it seems that R.app does not understand the arguments of the  
> NSTask. How from my Cocoa app, can I tell R.app to read a pointer to  
> a C array and convert it to a R object, and how can I send R  
> instructions?
>
> Before I wrote the Objective C model as a dyn library and I could  
> call it from R and run the simulations, but because simulations last  
> hours, I cannot use R.app during that time, so I'm trying to do the  
> reverse, interact with R from a Cocoa app once the simulations are  
> done. Has anyone done something like that?
>

Why not run the original dyn library simulation as another user, then  
the current user can do whatever they want with R?  To do this enable  
"fast user switching" in the "Accounts" preference.  Now you can leave  
a program running as one user and log in as another user to do  
something else.  Of course, you will need to create a 2nd user account.


From carnivorescience at gmail.com  Sun Nov 29 22:40:26 2009
From: carnivorescience at gmail.com (Guillaume Chapron)
Date: Sun, 29 Nov 2009 22:40:26 +0100
Subject: [R-SIG-Mac] Interacting with R GUI app from another Cocoa app
In-Reply-To: <2474F567-22D8-442D-807C-2861EEF87704@neiltiffin.com>
References: <B12F2715-DE95-4BB0-A978-0CDE41526042@gmail.com>
	<2474F567-22D8-442D-807C-2861EEF87704@neiltiffin.com>
Message-ID: <366D439D-6643-4C8B-BD77-EEEA2D226722@gmail.com>

> You might try to write the results into a file and read it back in R.  This is probably safer anyway.

This was my initial approach, but I expect a lot of overheads reading an array that can be as large as 100,000,000*10,000*100.

But did you mean that the Cocoa app should save its output as an R workspace? Is it possible to convert and save a C array into its equivalent in an R workspace?

While searching more on the web, I came across a post of someone wanting to export a C++ array to R, and Simon Urbanek replied "the short answer is no, you can't, because the memory has to be allocated by R". But R.app is Applescript enabled, so I should be able to tell R to create an array, and maybe later assign this object to the simulation output.

> Why not run the original dyn library simulation as another user, then the current user can do whatever they want with R?  To do this enable "fast user switching" in the "Accounts" preference.  Now you can leave a program running as one user and log in as another user to do something else.  Of course, you will need to create a 2nd user account.

That would work, but that would not be very practicable, for example, I would need as many accounts as simulations I want to run at the same time.

Thanks for your help

Guillaume


From neilt at neiltiffin.com  Mon Nov 30 00:06:11 2009
From: neilt at neiltiffin.com (Neil Tiffin)
Date: Sun, 29 Nov 2009 17:06:11 -0600
Subject: [R-SIG-Mac] Interacting with R GUI app from another Cocoa app
In-Reply-To: <366D439D-6643-4C8B-BD77-EEEA2D226722@gmail.com>
References: <B12F2715-DE95-4BB0-A978-0CDE41526042@gmail.com>
	<2474F567-22D8-442D-807C-2861EEF87704@neiltiffin.com>
	<366D439D-6643-4C8B-BD77-EEEA2D226722@gmail.com>
Message-ID: <F4501474-94D6-400D-8173-0FDB638DADED@neiltiffin.com>

On Nov 29, 2009, at 3:40 PM, Guillaume Chapron wrote:

>> You might try to write the results into a file and read it back in  
>> R.  This is probably safer anyway.
>
> This was my initial approach, but I expect a lot of overheads  
> reading an array that can be as large as 100,000,000*10,000*100.

Coding it should take at most, an hour, I would try it, you might be  
surprised.  Usually, I always code a working version then optimize  
it.  More than once, I have been surprised when the problem areas  
turned out to be completely different than I originally thought and I  
avoided a lot of additional complexity trying to solve a problem that  
did not exist.  If the simulation runs a few hours, spending a few  
more minutes reading and writing the results might be inconsequential.

>
> But did you mean that the Cocoa app should save its output as an R  
> workspace? Is it possible to convert and save a C array into its  
> equivalent in an R workspace?

You might follow this, http://developer.r-project.org/embedded.html to  
embed R into the Cocoa app.  I have no experience with this but it may  
lead you to something else.  You might also look at https://stat.ethz.ch/pipermail/r-sig-mac/2005-March/001706.html

Its possible to use interprocess communications to have R request the  
data from the Cocoa App.  However, there are a number of problems with  
this.  For example, the cocoa app has to be running.  When R is  
requesting the data it will be locked up waiting for the data.  You  
need to read state back and forth to know when to do what.  You will  
need to write an R extension in C, much the like the database  
extensions.  This seems like a lot of complexity to me.  In essence,  
your Cocoa GUI app would act like a database provider.

If R processing is segmenting the array at all, then you might be able  
to use a common database from both the Cocoa app and R.  A database  
just writes to a file with a lot more overhead, so if its not  
segmenting the array then you are probably better off reading a flat  
file as it all needs to be in memory at one time.

>
> While searching more on the web, I came across a post of someone  
> wanting to export a C++ array to R, and Simon Urbanek replied "the  
> short answer is no, you can't, because the memory has to be  
> allocated by R". But R.app is Applescript enabled, so I should be  
> able to tell R to create an array, and maybe later assign this  
> object to the simulation output.

I would guess that writing to a file and importing into R would be  
much faster than using Applescript.

>
>> Why not run the original dyn library simulation as another user,  
>> then the current user can do whatever they want with R?  To do this  
>> enable "fast user switching" in the "Accounts" preference.  Now you  
>> can leave a program running as one user and log in as another user  
>> to do something else.  Of course, you will need to create a 2nd  
>> user account.
>
> That would work, but that would not be very practicable, for  
> example, I would need as many accounts as simulations I want to run  
> at the same time.
>

Then why not run R from the command line, you can have as many R  
instances running as you have machine (memory and CPUs), then use your  
original library version.


From Christian.Prinoth at epsilonsgr.it  Mon Nov 30 09:41:12 2009
From: Christian.Prinoth at epsilonsgr.it (Christian Prinoth)
Date: Mon, 30 Nov 2009 09:41:12 +0100
Subject: [R-SIG-Mac] Interacting with R GUI app from another Cocoa app
In-Reply-To: <2474F567-22D8-442D-807C-2861EEF87704@neiltiffin.com>
References: <B12F2715-DE95-4BB0-A978-0CDE41526042@gmail.com> 
	<2474F567-22D8-442D-807C-2861EEF87704@neiltiffin.com>
Message-ID: <8D64D4652EB17048B874B0503309CFCA03BBF731@epsilon2003.epsilonsgr.it>

Some time ago I was exploring the general issue of "remote controlling"
R from different apps, eg Excel or Openoffice. Simon Urbanek suggested
using the clipboard (pasted from his post):

-- the easiest solution is to use clipboard and it's easily scriptable:

* select a table in Excel
* Copy (<Cmd><C>)
* switch to R and run
  read.table(pipe("pbpaste -"),T,"\t")

This appears to work fairly well, at least for me. You should probably
write a function copying your data to the clipboard.


Christian Prinoth <cp at epsilonsgr.it>
Epsilon SGR
+39-02-88102355


> -----Original Message-----
> From: r-sig-mac-bounces at stat.math.ethz.ch
> [mailto:r-sig-mac-bounces at stat.math.ethz.ch] On Behalf Of Neil Tiffin
> Sent: 29 November, 2009 21:16
> To: Guillaume Chapron
> Cc: r-sig-mac at stat.math.ethz.ch
> Subject: Re: [R-SIG-Mac] Interacting with R GUI app from
> another Cocoa app
>
> You might try to write the results into a file and read it
> back in R.  
> This is probably safer anyway.

DISCLAIMER:\ L'utilizzo non autorizzato del presente mes...{{dropped:16}}


From simon.urbanek at r-project.org  Mon Nov 30 15:37:18 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 30 Nov 2009 09:37:18 -0500
Subject: [R-SIG-Mac] Interacting with R GUI app from another Cocoa app
In-Reply-To: <B12F2715-DE95-4BB0-A978-0CDE41526042@gmail.com>
References: <B12F2715-DE95-4BB0-A978-0CDE41526042@gmail.com>
Message-ID: <A0910CB8-AEF5-44A8-9D4E-0BF6EDBD7B42@r-project.org>

Guillaume,

On Nov 29, 2009, at 10:29 , Guillaume Chapron wrote:

> Hello,
>
> I have a standalone simulation model written in Objective C/Cocoa.  
> Once the simulations are done, I would like to send the output (a  
> large C array) to R.app for further analysis and plotting. I'm able  
> to launch R.app from a Cocoa app by this:
>
> 	[[NSWorkspace sharedWorkspace] launchApplication:@"R.app"];
>
> But I'm not able to send the C array or in fact any kind of  
> instructions. I have tried a modified code:
>
> 	NSBundle *bundle = [NSBundle bundleWithPath:@"/Applications/R.app"];
> 	NSString *path = [bundle executablePath];
> 	NSTask *task = [[NSTask alloc] init];
> 	
> 	[task setLaunchPath:path];
> 	[task setArguments:[NSArray arrayWithObject:@"2+3"]];
> 	[task launch];
>
> But it seems that R.app does not understand the arguments of the  
> NSTask.

R.app is a a LS app so it doesn't process command line arguments. You  
can talk to R.app using AppleScript (see the FAQ).


> How from my Cocoa app, can I tell R.app to read a pointer to a C  
> array and convert it to a R object, and how can I send R instructions?
>

I think you're approaching this form the wrong end. You can load  
arbitrary C/Obj-C code into R (see R-ext) and that is how you can  
create R objects from C arrays (or rather you allocate the R object  
instead of using malloc). You can use the RController object to talk  
to the R.app GUI if you wish - e.g. you may be able to use the Cocoa  
package
http://rforge.net/Cocoa
to call Obj-C code such as issuing Obj-C messages from R.


> Before I wrote the Objective C model as a dyn library and I could  
> call it from R and run the simulations, but because simulations last  
> hours, I cannot use R.app during that time, so I'm trying to do the  
> reverse, interact with R from a Cocoa app once the simulations are  
> done. Has anyone done something like that?
>

There are two issues depending how you define "cannot use R.app".  
First, you should be calling R_CheckUserInterrupt() periodically to  
make sure your simulation doesn't block R and the GUI.

Second, if you really want to simulation to run entirely in parallel,  
you can simply create a separate thread in your simulation code such  
that your initialization function returns back to R as soon as all  
objects are preserved or copied so R can continue to work while your  
simulation is running on a separate thread. Then you can always check  
the objects from the R code to see if it has finished and yet you can  
safely work in parallel. The only restriction is that your threaded  
code may not call any R API functions as soon as it dispatches the new  
thread, but that's usually ok if you allocate the R objects before that.

Cheers,
Simon


From richard.liu at pueo-owl.ch  Mon Nov 30 17:01:44 2009
From: richard.liu at pueo-owl.ch (Richard R. Liu)
Date: Mon, 30 Nov 2009 17:01:44 +0100
Subject: [R-SIG-Mac] *** caught bus error *** address 0x114382544,
	cause 'non-existent physical address'
In-Reply-To: <A8B9152E-C7F2-4600-8182-2C12AB02C931@r-project.org>
References: <A7792F34-CB03-4B15-9D3F-26687C5910D5@pueo-owl.ch>
	<A8B9152E-C7F2-4600-8182-2C12AB02C931@r-project.org>
Message-ID: <E20E8898-9A36-4EA3-9802-91ECE6CFFABF@pueo-owl.ch>

This problem disappeared in patched releases soon after I replied to  
Simon that I was unable to obtain the information that he required  
from the debugger.  After checking a few releases I quite monitoring  
the problem.  I assumed that it had been fixed with comment.  However,  
today, the patched release dated 2009-11-29 has the problem once  
again.  I have tried going back to the patched releases of 2009-11-27  
and 2009-11-22, the only ones for which I have kept installers here at  
work.  Both have the problem.  In neither can I obtain the debugging  
information that Simon requested when the problem initially arose.   
Can somebody tell me the current status of the problem, and when it  
might be fixed (again)?  It occurs at an extremely inconvenient time  
in my project.

Thanks,

Richard R. Liu
Dittingerstr. 33
CH-4053 Basel
Switzerland

Tel.:  +41 61 331 10 47
Mobil: +41 79 708 67 66
Email:  richard.liu at pueo-owl.ch



On Nov 18, 2009, at 21:07 , Simon Urbanek wrote:

> Richard,
>
> in order to track this down, please start R64, type
>
> Sys.getpid()
>
> and note down the number. Then in a separate window open Terminal  
> and type
>
> gdb
>
> Then on the gdb console (it will just say "(gdb)") type
>
> attach n
>
> where n is the number from above. It will do something for a while  
> and when it comes back in the console, type
>
> c
>
> Then do your work in R until you get a crash. Once you do, you will  
> see something happening in the gdb console. Then type
>
> bt
>
> and copy/paste everything that gdb printed since you typed "c" and  
> send it to me.
>
> Thanks,
> Simon
>
> -----
>
> Practical example -- in R:
>
> > Sys.getpid()
> [1] 19381
>
> in Terminal:
>
> ginaz:~$ gdb
> GNU gdb 6.3.50-20050815 (Apple version gdb-962) (Sat Jul 26 08:14:40  
> UTC 2008)
> [...]
> This GDB was configured as "i386-apple-darwin".
> (gdb) attach 19381
> Attaching to process 19381.
> Reading symbols for shared libraries . done
> [...]
> 0x9428a6fa in select$DARWIN_EXTSN ()
> (gdb) c
> Continuing.
>
> Program received signal EXC_BAD_ACCESS, Could not access memory.
> Reason: KERN_PROTECTION_FAILURE at address: 0x00000003
> 0x00412d09 in SET_SYMVALUE (x=0x1007110, v=0x0) at ../../../../ 
> R-2.10-branch/src/main/memory.c:2809
> 2809	void (SET_SYMVALUE)(SEXP x, SEXP v) { CHECK_OLD_TO_NEW(x, v);  
> SYMVALUE(x) = v; }
> (gdb) bt
> #0  0x00412d09 in SET_SYMVALUE (x=0x1007110, v=0x0) at ../../../../ 
> R-2.10-branch/src/main/memory.c:2809
> #1  0x0041068e in Rf_ReplIteration (rho=0x1023c38, savestack=0,  
> browselevel=0, state=0xbfffe53c) at ../../../../R-2.10-branch/src/ 
> main/main.c:263
> #2  0x00410a40 in R_ReplConsole (rho=0x1023c38, savestack=0,  
> browselevel=0) at ../../../../R-2.10-branch/src/main/main.c:311
> #3  0x0041129b in run_Rmainloop () at ../../../../R-2.10-branch/src/ 
> main/main.c:964
> #4  0x00001ff0 in main (ac=1, av=0xbffff5c8) at ../../../../R-2.10- 
> branch/src/main/Rmain.c:33
> (gdb) q
> The program is running.  Quit anyway (and detach it)? (y or n) y
> Detaching from process 19381 thread 0x613.
>
>
> On Nov 18, 2009, at 14:39 , Richard R. Liu wrote:
>
>> I am experiencing a curious error running R64 (2009-11-18 r50482)  
>> on a MacBook Pro 17" Unibody early 2009 with 8GB RAM.  In the  
>> console excerpt below sentences.1000.clustered is a dataframe  
>> consisting of two vectors, sent and cluster.  sent is a vector of  
>> 1000 sentences chosen at random from over 3 million, and cluster is  
>> a vector of integers denoting to which of 5 clusters the sentence  
>> belongs.  For each cluster I want to display the sentences that  
>> belong to it as follows:
>>
>>
>> R version 2.10.0 Patched (2009-11-18 r50482)
>> Copyright (C) 2009 The R Foundation for Statistical Computing
>> ISBN 3-900051-07-0
>>
>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>> You are welcome to redistribute it under certain conditions.
>> Type 'license()' or 'licence()' for distribution details.
>>
>> Natural language support but running in an English locale
>>
>> R is a collaborative project with many contributors.
>> Type 'contributors()' for more information and
>> 'citation()' on how to cite R or R packages in publications.
>>
>> Type 'demo()' for some demos, 'help()' for on-line help, or
>> 'help.start()' for an HTML browser interface to help.
>> Type 'q()' to quit R.
>>
>> [R.app GUI 1.30 (5521) x86_64-apple-darwin9.8.0]
>>
>> [Workspace restored from /Users/richard/.RData]
>>
>> > library(filehash)
>> filehash: Simple key-value database (2.0-1 2008-12-19)
>> > db <- dbInit("/Volumes/Work on RDR Test Documents/R Databases/ 
>> DB_TXT", type = "RDS")
>> > dbLoad(db)
>> >
>> > sent.clust <- sentences.1000.clustered
>> > i.clust.2 <- which(sent.clust$cluster == 2)
>> > attributes(sent.clust)
>> $names
>> [1] "sent"    "cluster"
>>
>> $row.names
>>  [1]    1    2    3    4    5    6    7    8    9   10   11   12    
>> 13   14   15   16   17   18   19   20   21   22   23   24   25    
>> 26   27   28   29
>> ...
>> [987]  987  988  989  990  991  992  993  994  995  996  997  998   
>> 999 1000
>>
>> $class
>> [1] "data.frame"
>>
>> > i.clust.2 <- which(sent.clust$cluster == 2)
>> > nchar(sent.clust$sent[i.clust.2])
>> [1]   232   419   787  1010  1926   357  2865   657   560   213   
>> 2175  2363  1300   359   331   965   581   732   398   245  1650  
>> 25893  1289   510
>> [25]  1714   524   747  2378   465   651  2253   215   460   253   
>> 2475   554  1130   529   261  1413   418  2168  1569  1538   301   
>> 2506  1163  3036
>> [49]  1445   199  1231   370  1307   371   379   232  1297   500    
>> 409   481  2187   314   730  1634   971   860   362   506  1606    
>> 394   145   480
>> [73]  1582  1471  1269   308  1113   444   990   298  1644   445    
>> 357  1204   322   638  2182   805  1545   368  1461  1347   649    
>> 399  1094  1624
>> [97] 14605  1637   269   503   502  2145  1398   481   122  2248
>> > sent.clust$sent[i.clust.2]
>> [1] "(patient continuing ...)  
>> ______________________________________________________________________________________________________________________________________ 
>>  Investigator text for Adverse Events encoded using MedDRA version  
>> 11.0. "
>> [2]
>> *** caught bus error ***
>> address 0x114382544, cause 'non-existent physical address'
>>
>> Possible actions:
>> 1: abort (with core dump, if enabled)
>> 2: normal R exit
>> 3: exit R without saving workspace
>> 4: exit R saving workspace
>> Selection:
>>
>> The point of
>>
>> > i.clust.2 <- which(sent.clust$cluster == 2)
>> > nchar(sent.clust$sent[i.clust.2])
>>
>> is to try to isolate the problem.  Indeed, the more compact  
>> sent.clust$sent[which(sent.clust$cluster == 2)] work when I start R  
>> in 32-bit mode.  In 64-bit mode, attempting to display the  
>> sentences in cluster 5 also fails, whereas for clusters 1, 3, 4 it  
>> succeeds.  In 32-bit mode, I have experienced no such problem.
>>
>> Does anybody have any ideas about what is wrong?
>>
>> Regards,
>> Richard
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2429 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091130/f259611b/attachment.bin>

From hanson at depauw.edu  Mon Nov 30 17:10:02 2009
From: hanson at depauw.edu (Bryan Hanson)
Date: Mon, 30 Nov 2009 11:10:02 -0500
Subject: [R-SIG-Mac] Built on Mac, Installing on Windows - should this work?
Message-ID: <C739588A.21700%hanson@depauw.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091130/a6b6bd52/attachment.pl>

From simon.urbanek at r-project.org  Mon Nov 30 17:18:03 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 30 Nov 2009 11:18:03 -0500
Subject: [R-SIG-Mac] *** caught bus error *** address 0x114382544,
	cause 'non-existent physical address'
In-Reply-To: <E20E8898-9A36-4EA3-9802-91ECE6CFFABF@pueo-owl.ch>
References: <A7792F34-CB03-4B15-9D3F-26687C5910D5@pueo-owl.ch>
	<A8B9152E-C7F2-4600-8182-2C12AB02C931@r-project.org>
	<E20E8898-9A36-4EA3-9802-91ECE6CFFABF@pueo-owl.ch>
Message-ID: <6758D880-1CA0-489E-89CF-F895AFE7C633@r-project.org>

Richard,

I didn't touch anything, but then you didn't supply a reproducible  
example so we can't do much about it (the trace is unfortunately  
bogus). My next step woul dbe to try it in valgrind if I could  
reproduce it ...

Cheers,
Simon

On Nov 30, 2009, at 11:01 , Richard R. Liu wrote:

> This problem disappeared in patched releases soon after I replied to  
> Simon that I was unable to obtain the information that he required  
> from the debugger.  After checking a few releases I quite monitoring  
> the problem.  I assumed that it had been fixed with comment.   
> However, today, the patched release dated 2009-11-29 has the problem  
> once again.  I have tried going back to the patched releases of  
> 2009-11-27 and 2009-11-22, the only ones for which I have kept  
> installers here at work.  Both have the problem.  In neither can I  
> obtain the debugging information that Simon requested when the  
> problem initially arose.  Can somebody tell me the current status of  
> the problem, and when it might be fixed (again)?  It occurs at an  
> extremely inconvenient time in my project.
>
> Thanks,
>
> Richard R. Liu
> Dittingerstr. 33
> CH-4053 Basel
> Switzerland
>
> Tel.:  +41 61 331 10 47
> Mobil: +41 79 708 67 66
> Email:  richard.liu at pueo-owl.ch
>
>
>
> On Nov 18, 2009, at 21:07 , Simon Urbanek wrote:
>
>> Richard,
>>
>> in order to track this down, please start R64, type
>>
>> Sys.getpid()
>>
>> and note down the number. Then in a separate window open Terminal  
>> and type
>>
>> gdb
>>
>> Then on the gdb console (it will just say "(gdb)") type
>>
>> attach n
>>
>> where n is the number from above. It will do something for a while  
>> and when it comes back in the console, type
>>
>> c
>>
>> Then do your work in R until you get a crash. Once you do, you will  
>> see something happening in the gdb console. Then type
>>
>> bt
>>
>> and copy/paste everything that gdb printed since you typed "c" and  
>> send it to me.
>>
>> Thanks,
>> Simon
>>
>> -----
>>
>> Practical example -- in R:
>>
>> > Sys.getpid()
>> [1] 19381
>>
>> in Terminal:
>>
>> ginaz:~$ gdb
>> GNU gdb 6.3.50-20050815 (Apple version gdb-962) (Sat Jul 26  
>> 08:14:40 UTC 2008)
>> [...]
>> This GDB was configured as "i386-apple-darwin".
>> (gdb) attach 19381
>> Attaching to process 19381.
>> Reading symbols for shared libraries . done
>> [...]
>> 0x9428a6fa in select$DARWIN_EXTSN ()
>> (gdb) c
>> Continuing.
>>
>> Program received signal EXC_BAD_ACCESS, Could not access memory.
>> Reason: KERN_PROTECTION_FAILURE at address: 0x00000003
>> 0x00412d09 in SET_SYMVALUE (x=0x1007110, v=0x0) at ../../../../ 
>> R-2.10-branch/src/main/memory.c:2809
>> 2809	void (SET_SYMVALUE)(SEXP x, SEXP v) { CHECK_OLD_TO_NEW(x, v);  
>> SYMVALUE(x) = v; }
>> (gdb) bt
>> #0  0x00412d09 in SET_SYMVALUE (x=0x1007110, v=0x0) at ../../../../ 
>> R-2.10-branch/src/main/memory.c:2809
>> #1  0x0041068e in Rf_ReplIteration (rho=0x1023c38, savestack=0,  
>> browselevel=0, state=0xbfffe53c) at ../../../../R-2.10-branch/src/ 
>> main/main.c:263
>> #2  0x00410a40 in R_ReplConsole (rho=0x1023c38, savestack=0,  
>> browselevel=0) at ../../../../R-2.10-branch/src/main/main.c:311
>> #3  0x0041129b in run_Rmainloop () at ../../../../R-2.10-branch/src/ 
>> main/main.c:964
>> #4  0x00001ff0 in main (ac=1, av=0xbffff5c8) at ../../../../R-2.10- 
>> branch/src/main/Rmain.c:33
>> (gdb) q
>> The program is running.  Quit anyway (and detach it)? (y or n) y
>> Detaching from process 19381 thread 0x613.
>>
>>
>> On Nov 18, 2009, at 14:39 , Richard R. Liu wrote:
>>
>>> I am experiencing a curious error running R64 (2009-11-18 r50482)  
>>> on a MacBook Pro 17" Unibody early 2009 with 8GB RAM.  In the  
>>> console excerpt below sentences.1000.clustered is a dataframe  
>>> consisting of two vectors, sent and cluster.  sent is a vector of  
>>> 1000 sentences chosen at random from over 3 million, and cluster  
>>> is a vector of integers denoting to which of 5 clusters the  
>>> sentence belongs.  For each cluster I want to display the  
>>> sentences that belong to it as follows:
>>>
>>>
>>> R version 2.10.0 Patched (2009-11-18 r50482)
>>> Copyright (C) 2009 The R Foundation for Statistical Computing
>>> ISBN 3-900051-07-0
>>>
>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>> You are welcome to redistribute it under certain conditions.
>>> Type 'license()' or 'licence()' for distribution details.
>>>
>>> Natural language support but running in an English locale
>>>
>>> R is a collaborative project with many contributors.
>>> Type 'contributors()' for more information and
>>> 'citation()' on how to cite R or R packages in publications.
>>>
>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>> 'help.start()' for an HTML browser interface to help.
>>> Type 'q()' to quit R.
>>>
>>> [R.app GUI 1.30 (5521) x86_64-apple-darwin9.8.0]
>>>
>>> [Workspace restored from /Users/richard/.RData]
>>>
>>> > library(filehash)
>>> filehash: Simple key-value database (2.0-1 2008-12-19)
>>> > db <- dbInit("/Volumes/Work on RDR Test Documents/R Databases/ 
>>> DB_TXT", type = "RDS")
>>> > dbLoad(db)
>>> >
>>> > sent.clust <- sentences.1000.clustered
>>> > i.clust.2 <- which(sent.clust$cluster == 2)
>>> > attributes(sent.clust)
>>> $names
>>> [1] "sent"    "cluster"
>>>
>>> $row.names
>>> [1]    1    2    3    4    5    6    7    8    9   10   11   12    
>>> 13   14   15   16   17   18   19   20   21   22   23   24   25    
>>> 26   27   28   29
>>> ...
>>> [987]  987  988  989  990  991  992  993  994  995  996  997  998   
>>> 999 1000
>>>
>>> $class
>>> [1] "data.frame"
>>>
>>> > i.clust.2 <- which(sent.clust$cluster == 2)
>>> > nchar(sent.clust$sent[i.clust.2])
>>> [1]   232   419   787  1010  1926   357  2865   657   560   213   
>>> 2175  2363  1300   359   331   965   581   732   398   245  1650  
>>> 25893  1289   510
>>> [25]  1714   524   747  2378   465   651  2253   215   460   253   
>>> 2475   554  1130   529   261  1413   418  2168  1569  1538   301   
>>> 2506  1163  3036
>>> [49]  1445   199  1231   370  1307   371   379   232  1297   500    
>>> 409   481  2187   314   730  1634   971   860   362   506  1606    
>>> 394   145   480
>>> [73]  1582  1471  1269   308  1113   444   990   298  1644   445    
>>> 357  1204   322   638  2182   805  1545   368  1461  1347   649    
>>> 399  1094  1624
>>> [97] 14605  1637   269   503   502  2145  1398   481   122  2248
>>> > sent.clust$sent[i.clust.2]
>>> [1] "(patient continuing ...)  
>>> ______________________________________________________________________________________________________________________________________ 
>>>  Investigator text for Adverse Events encoded using MedDRA version  
>>> 11.0. "
>>> [2]
>>> *** caught bus error ***
>>> address 0x114382544, cause 'non-existent physical address'
>>>
>>> Possible actions:
>>> 1: abort (with core dump, if enabled)
>>> 2: normal R exit
>>> 3: exit R without saving workspace
>>> 4: exit R saving workspace
>>> Selection:
>>>
>>> The point of
>>>
>>> > i.clust.2 <- which(sent.clust$cluster == 2)
>>> > nchar(sent.clust$sent[i.clust.2])
>>>
>>> is to try to isolate the problem.  Indeed, the more compact  
>>> sent.clust$sent[which(sent.clust$cluster == 2)] work when I start  
>>> R in 32-bit mode.  In 64-bit mode, attempting to display the  
>>> sentences in cluster 5 also fails, whereas for clusters 1, 3, 4 it  
>>> succeeds.  In 32-bit mode, I have experienced no such problem.
>>>
>>> Does anybody have any ideas about what is wrong?
>>>
>>> Regards,
>>> Richard
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From murdoch at stats.uwo.ca  Mon Nov 30 17:32:43 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 30 Nov 2009 11:32:43 -0500
Subject: [R-SIG-Mac] Built on Mac,
 Installing on Windows - should this work?
In-Reply-To: <C739588A.21700%hanson@depauw.edu>
References: <C739588A.21700%hanson@depauw.edu>
Message-ID: <4B13F3AB.5010706@stats.uwo.ca>

On 30/11/2009 11:10 AM, Bryan Hanson wrote:
> Hi R Mac Folks... A question about using Mac-built pkgs on the dreaded
> Windows machines.
>
> I have successfully checked, built and installed a package on my Mac.  The
> package tarball is at github.com/bryanhanson/ChemoSpec if you care to try
> installing it.  It was checked and built with defaults, so I did
>
> > R CMD check ChemoSpec
> > R CMD build ChemoSpec
>
> And everything was fine.  I can install it and run it on my Mac no problem.
> I believe it is a ?source? package ? there is no compiled code, it?s all
> straightfoward R.
>
> Now, I want to test the installation on Windows (because students have to
> use it next semester).  I?m having a variety of problems getting it upzipped
> and installed.  Before I spend a lot of time trouble shooting the Windows
> aspect, and here?s my question, should this package as I built it and so
> forth work on  Windows without modification?  Or do I have to do the
> check/build with different options?  Or do I have to do the entire process
> on a Windows machine (pray not!).  I?ve looked around in the manuals and
> help pages a bit, there doesn?t seem to be any hint that a different process
> is needed.
>   

The source tarball (the .tar.gz file) would be fine on Windows, but most 
Windows users don't have the tools to install it.  Since you don't have 
any compiled code it's probably not hard to put together a zip file 
equivalent to what R CMD INSTALL --binary would produce on Windows, but 
it's probably easier to use Uwe Ligge's package building service, 
available at http://129.217.207.166. 

Duncan Murdoch
> By the way, I can manually get the entire package intact as text files to
> the proper Windows directory, but R claims it is not a valid installed
> package.  Any of the RGui Windows means of installing the package give
> various problems.  I?ll keep trouble shooting these but I wanted to double
> check that what I am trying to do should work.
>
> Thanks, Bryan
> **************
> Bryan Hanson
> Acting Chair
> Professor of Chemistry & Biochemistry
> DePauw University
> 602 S. College Avenue
> Greencastle, IN 46135
> PHONE     765-658-4602
> FAX     765-658-6084
> hanson at depauw.edu
> http://academic.depauw.edu/~hanson/deadpezsociety.html
> http://www.depauw.edu/acad/chemistry/
> http://academic.depauw.edu/~hanson/UMP/index.html
>
>
>
> 	[[alternative HTML version deleted]]
>
>   
> ------------------------------------------------------------------------
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Mon Nov 30 17:33:16 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 30 Nov 2009 11:33:16 -0500
Subject: [R-SIG-Mac] Built on Mac,
	Installing on Windows - should this work?
In-Reply-To: <C739588A.21700%hanson@depauw.edu>
References: <C739588A.21700%hanson@depauw.edu>
Message-ID: <1597E691-155B-45AC-954C-35A9749CE1C7@r-project.org>


On Nov 30, 2009, at 11:10 , Bryan Hanson wrote:

> Hi R Mac Folks... A question about using Mac-built pkgs on the dreaded
> Windows machines.
>
> I have successfully checked, built and installed a package on my  
> Mac.  The
> package tarball is at github.com/bryanhanson/ChemoSpec if you care  
> to try
> installing it.  It was checked and built with defaults, so I did
>
>> R CMD check ChemoSpec
>> R CMD build ChemoSpec
>
> And everything was fine.  I can install it and run it on my Mac no  
> problem.
> I believe it is a ?source? package ? there is no compiled code, it?s  
> all
> straightfoward R.
>
> Now, I want to test the installation on Windows (because students  
> have to
> use it next semester).  I?m having a variety of problems getting it  
> upzipped
> and installed.

You need the *binary* package for windows. If you're lucky, all you  
have to do is to install the package on your Mac and zip it up (the  
*installed* package, not the source!).

So for example
mkdir /tmp/pkg
R CMD INSTALL -l /tmp/pkg ChemoSpec
cd /tmp/pkg
zip -r ChemoSpec_1.0.zip ChemoSpec

If you get unlucky, you have to use a Windows machine (or more  
conveniently Windows in a VirtualBox ;)) to build the binary package.  
(There are ways to cross-compile, but if you have no native code you  
should not need to go there ...).

Cheers,
Simon

>  Before I spend a lot of time trouble shooting the Windows
> aspect, and here?s my question, should this package as I built it  
> and so
> forth work on  Windows without modification?  Or do I have to do the
> check/build with different options?  Or do I have to do the entire  
> process
> on a Windows machine (pray not!).  I?ve looked around in the manuals  
> and
> help pages a bit, there doesn?t seem to be any hint that a different  
> process
> is needed.
>
> By the way, I can manually get the entire package intact as text  
> files to
> the proper Windows directory, but R claims it is not a valid installed
> package.  Any of the RGui Windows means of installing the package give
> various problems.  I?ll keep trouble shooting these but I wanted to  
> double
> check that what I am trying to do should work.
>
> Thanks, Bryan
> **************
> Bryan Hanson
> Acting Chair
> Professor of Chemistry & Biochemistry
> DePauw University
> 602 S. College Avenue
> Greencastle, IN 46135
> PHONE     765-658-4602
> FAX     765-658-6084
> hanson at depauw.edu
> http://academic.depauw.edu/~hanson/deadpezsociety.html
> http://www.depauw.edu/acad/chemistry/
> http://academic.depauw.edu/~hanson/UMP/index.html
>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ripley at stats.ox.ac.uk  Mon Nov 30 17:48:59 2009
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 30 Nov 2009 16:48:59 +0000 (GMT)
Subject: [R-SIG-Mac] Built on Mac,
 Installing on Windows - should this work?
In-Reply-To: <4B13F3AB.5010706@stats.uwo.ca>
References: <C739588A.21700%hanson@depauw.edu> <4B13F3AB.5010706@stats.uwo.ca>
Message-ID: <alpine.OSX.1.00.0911301646140.43808@tystie.local>

On Mon, 30 Nov 2009, Duncan Murdoch wrote:

> On 30/11/2009 11:10 AM, Bryan Hanson wrote:
>> Hi R Mac Folks... A question about using Mac-built pkgs on the dreaded
>> Windows machines.
>> 
>> I have successfully checked, built and installed a package on my Mac.  The
>> package tarball is at github.com/bryanhanson/ChemoSpec if you care to try
>> installing it.  It was checked and built with defaults, so I did
>> 
>> > R CMD check ChemoSpec
>> > R CMD build ChemoSpec
>> 
>> And everything was fine.  I can install it and run it on my Mac no problem.
>> I believe it is a ?source? package ? there is no compiled code, it?s all
>> straightfoward R.
>> 
>> Now, I want to test the installation on Windows (because students have to
>> use it next semester).  I?m having a variety of problems getting it 
>> upzipped
>> and installed.  Before I spend a lot of time trouble shooting the Windows
>> aspect, and here?s my question, should this package as I built it and so
>> forth work on  Windows without modification?  Or do I have to do the
>> check/build with different options?  Or do I have to do the entire process
>> on a Windows machine (pray not!).  I?ve looked around in the manuals and
>> help pages a bit, there doesn?t seem to be any hint that a different 
>> process
>> is needed.
>> 
>
> The source tarball (the .tar.gz file) would be fine on Windows, but most 
> Windows users don't have the tools to install it.  Since you don't have any 
> compiled code it's probably not hard to put together a zip file equivalent to 
> what R CMD INSTALL --binary would produce on Windows, but it's probably 
> easier to use Uwe Ligge's package building service, available at 
> http://129.217.207.166.

I agree with the conclusion (not least as it checks the package works 
on Windows), but in current R (2.10.0) you actually don't need any 
extra tools to install such a source package on Windows.

It's all in the manuals ....


> Duncan Murdoch
>> By the way, I can manually get the entire package intact as text files to
>> the proper Windows directory, but R claims it is not a valid installed
>> package.  Any of the RGui Windows means of installing the package give
>> various problems.  I?ll keep trouble shooting these but I wanted to double
>> check that what I am trying to do should work.
>> 
>> Thanks, Bryan
>> **************
>> Bryan Hanson
>> Acting Chair
>> Professor of Chemistry & Biochemistry
>> DePauw University
>> 602 S. College Avenue
>> Greencastle, IN 46135
>> PHONE     765-658-4602
>> FAX     765-658-6084
>> hanson at depauw.edu
>> http://academic.depauw.edu/~hanson/deadpezsociety.html
>> http://www.depauw.edu/acad/chemistry/
>> http://academic.depauw.edu/~hanson/UMP/index.html
>> 
>> 
>>
>> 	[[alternative HTML version deleted]]
>>
>>   ------------------------------------------------------------------------
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From hanson at depauw.edu  Mon Nov 30 20:30:06 2009
From: hanson at depauw.edu (Bryan Hanson)
Date: Mon, 30 Nov 2009 14:30:06 -0500
Subject: [R-SIG-Mac] Built on Mac,
 Installing on Windows - should this work?
In-Reply-To: <alpine.OSX.1.00.0911301646140.43808@tystie.local>
Message-ID: <C739876E.2174C%hanson@depauw.edu>

Hello Folks, thanks for the suggestions.  I did what Simon suggested.  And I
did what Ducan suggested, namely to use Uwe's building service.  I think
both of these produced the same set of files (though I don't know how to
check rigorously).  So I moved these two archives, along with my source
archive, over to the Windows machine.  I tried installing all of them via
the GUI dialog boxes, and when that didn't work, I tried doing it from the
command line. 

I'm pretty certain I'm now no longer in the Mac realm :-( and I'm pretty
certain I'm missing something obvious.  It looks like it can't find the
file, but the paths and names look right to me.  If one unstuffs these
manually they look like they have the files.  Any suggestions would be
appreciated.   The transcript from what I did is immediately below.

Thanks, Bryan
*************
Bryan Hanson
Acting Chair
Professor of Chemistry & Biochemistry
DePauw University, Greencastle IN USA

> getwd()
[1] "C:/Documents and Settings/Chemistry 1/Desktop"
> list.files()
[1] "ChemoSpec_1.31-SU.zip" "ChemoSpec_1.31-UL.zip" "ChemoSpec_1.31.tar.gz"
"outcome.txt"   

# the next few steps are attempts at manual installations:
> install.packages(pkgs = "ChemoSpec_1.31-SU.zip", repos = NULL)
Error in gzfile(file, "r") : cannot open the connection
In addition: Warning message:
In gzfile(file, "r") :
  cannot open compressed file 'ChemoSpec_1.31-SU/DESCRIPTION', probable
reason 'No such file or directory'
> install.packages(pkgs = "ChemoSpec_1.31.tar.gz", repos = NULL, type =
"source")
* installing *source* package 'ChemoSpec' ...
** R
** data
** inst
** preparing package for lazy loading
Warning in library(pkg, character.only = TRUE, logical.return = TRUE,
lib.loc = lib.loc) :
  there is no package called 'chemometrics'
Error : package 'chemometrics' could not be loaded
ERROR: lazy loading failed for package 'ChemoSpec'
* removing 'C:/PROGRA~1/R/R-210~1.0/library/ChemoSpec'
* restoring previous 'C:/PROGRA~1/R/R-210~1.0/library/ChemoSpec'
Warning message:
In install.packages(pkgs = "ChemoSpec_1.31.tar.gz", repos = NULL,  :
  installation of package 'ChemoSpec_1.31.tar.gz' had non-zero exit status

# the next few are the attempts with the GUI dialog boxes
> utils:::menuInstallLocal()
Error in gzfile(file, "r") : cannot open the connection
In addition: Warning message:
In gzfile(file, "r") :
  cannot open compressed file 'ChemoSpec_1.31-SU/DESCRIPTION', probable
reason 'No such file or directory'
> utils:::menuInstallLocal()
Error in gzfile(file, "r") : cannot open the connection
In addition: Warning message:
In gzfile(file, "r") :
  cannot open compressed file 'ChemoSpec_1.31-UL/DESCRIPTION', probable
reason 'No such file or directory'
> utils:::menuInstallLocal()
Error in gzfile(file, "r") : cannot open the connection
In addition: Warning messages:
1: In unzip(zipname, exdir = dest) : error 1 in extracting from zip file
2: In gzfile(file, "r") :
  cannot open compressed file 'ChemoSpec_1.31.tar.gz/DESCRIPTION', probable
reason 'No such file or directory'
> sessionInfo()
R version 2.10.0 (2009-10-26)
i386-pc-mingw32 

locale:
[1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United
States.1252   
[3] LC_MONETARY=English_United States.1252 LC_NUMERIC=C
[5] LC_TIME=English_United States.1252

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_2.10.0
> 




On 11/30/09 11:48 AM, "Prof Brian Ripley" <ripley at stats.ox.ac.uk> wrote:

> On Mon, 30 Nov 2009, Duncan Murdoch wrote:
> 
>> On 30/11/2009 11:10 AM, Bryan Hanson wrote:
>>> Hi R Mac Folks... A question about using Mac-built pkgs on the dreaded
>>> Windows machines.
>>> 
>>> I have successfully checked, built and installed a package on my Mac.  The
>>> package tarball is at github.com/bryanhanson/ChemoSpec if you care to try
>>> installing it.  It was checked and built with defaults, so I did
>>> 
>>>> R CMD check ChemoSpec
>>>> R CMD build ChemoSpec
>>> 
>>> And everything was fine.  I can install it and run it on my Mac no problem.
>>> I believe it is a ?source? package ? there is no compiled code, it?s all
>>> straightfoward R.
>>> 
>>> Now, I want to test the installation on Windows (because students have to
>>> use it next semester).  I?m having a variety of problems getting it
>>> upzipped
>>> and installed.  Before I spend a lot of time trouble shooting the Windows
>>> aspect, and here?s my question, should this package as I built it and so
>>> forth work on  Windows without modification?  Or do I have to do the
>>> check/build with different options?  Or do I have to do the entire process
>>> on a Windows machine (pray not!).  I?ve looked around in the manuals and
>>> help pages a bit, there doesn?t seem to be any hint that a different
>>> process
>>> is needed.
>>> 
>> 
>> The source tarball (the .tar.gz file) would be fine on Windows, but most
>> Windows users don't have the tools to install it.  Since you don't have any
>> compiled code it's probably not hard to put together a zip file equivalent to
>> what R CMD INSTALL --binary would produce on Windows, but it's probably
>> easier to use Uwe Ligge's package building service, available at
>> http://129.217.207.166.
> 
> I agree with the conclusion (not least as it checks the package works
> on Windows), but in current R (2.10.0) you actually don't need any
> extra tools to install such a source package on Windows.
> 
> It's all in the manuals ....
> 
> 
>> Duncan Murdoch
>>> By the way, I can manually get the entire package intact as text files to
>>> the proper Windows directory, but R claims it is not a valid installed
>>> package.  Any of the RGui Windows means of installing the package give
>>> various problems.  I?ll keep trouble shooting these but I wanted to double
>>> check that what I am trying to do should work.
>>> 
>>> Thanks, Bryan
>>> **************
>>> Bryan Hanson
>>> Acting Chair
>>> Professor of Chemistry & Biochemistry
>>> DePauw University
>>> 602 S. College Avenue
>>> Greencastle, IN 46135
>>> PHONE     765-658-4602
>>> FAX     765-658-6084
>>> hanson at depauw.edu
>>> http://academic.depauw.edu/~hanson/deadpezsociety.html
>>> http://www.depauw.edu/acad/chemistry/
>>> http://academic.depauw.edu/~hanson/UMP/index.html
>>> 
>>> 
>>> 
>>> [[alternative HTML version deleted]]
>>> 
>>>   ------------------------------------------------------------------------
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 


From murdoch at stats.uwo.ca  Mon Nov 30 20:43:50 2009
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 30 Nov 2009 14:43:50 -0500
Subject: [R-SIG-Mac] Built on Mac,
 Installing on Windows - should this work?
In-Reply-To: <C739876E.2174C%hanson@depauw.edu>
References: <C739876E.2174C%hanson@depauw.edu>
Message-ID: <4B142076.4090707@stats.uwo.ca>

On 30/11/2009 2:30 PM, Bryan Hanson wrote:
> Hello Folks, thanks for the suggestions.  I did what Simon suggested.  And I
> did what Ducan suggested, namely to use Uwe's building service.  I think
> both of these produced the same set of files (though I don't know how to
> check rigorously).  So I moved these two archives, along with my source
> archive, over to the Windows machine.  I tried installing all of them via
> the GUI dialog boxes, and when that didn't work, I tried doing it from the
> command line. 
>
> I'm pretty certain I'm now no longer in the Mac realm :-( and I'm pretty
> certain I'm missing something obvious.  It looks like it can't find the
> file, but the paths and names look right to me.  If one unstuffs these
> manually they look like they have the files.  Any suggestions would be
> appreciated.   The transcript from what I did is immediately below.
>
> Thanks, Bryan
> *************
> Bryan Hanson
> Acting Chair
> Professor of Chemistry & Biochemistry
> DePauw University, Greencastle IN USA
>
> > getwd()
> [1] "C:/Documents and Settings/Chemistry 1/Desktop"
> > list.files()
> [1] "ChemoSpec_1.31-SU.zip" "ChemoSpec_1.31-UL.zip" "ChemoSpec_1.31.tar.gz"
> "outcome.txt"   
>
> # the next few steps are attempts at manual installations:
> > install.packages(pkgs = "ChemoSpec_1.31-SU.zip", repos = NULL)
> Error in gzfile(file, "r") : cannot open the connection
> In addition: Warning message:
> In gzfile(file, "r") :
>   cannot open compressed file 'ChemoSpec_1.31-SU/DESCRIPTION', probable
> reason 'No such file or directory'
>   

Looks like your DESCRIPTION file was missing in this try.
> > install.packages(pkgs = "ChemoSpec_1.31.tar.gz", repos = NULL, type =
> "source")
> * installing *source* package 'ChemoSpec' ...
> ** R
> ** data
> ** inst
> ** preparing package for lazy loading
> Warning in library(pkg, character.only = TRUE, logical.return = TRUE,
> lib.loc = lib.loc) :
>   there is no package called 'chemometrics'
>   

Looks as through ChemoSpec depends on chemometrics, and you need to 
install that first.  By default Windows will install dependencies when 
it's getting something from CRAN, but not when you're installing a local 
package with repos=NULL.

So you need to install chemometrics first, then this way should work.  
The first one appears to be failing because the .zip file is badly formed.

Duncan Murdoch
> Error : package 'chemometrics' could not be loaded
> ERROR: lazy loading failed for package 'ChemoSpec'
> * removing 'C:/PROGRA~1/R/R-210~1.0/library/ChemoSpec'
> * restoring previous 'C:/PROGRA~1/R/R-210~1.0/library/ChemoSpec'
> Warning message:
> In install.packages(pkgs = "ChemoSpec_1.31.tar.gz", repos = NULL,  :
>   installation of package 'ChemoSpec_1.31.tar.gz' had non-zero exit status
>
> # the next few are the attempts with the GUI dialog boxes
> > utils:::menuInstallLocal()
> Error in gzfile(file, "r") : cannot open the connection
> In addition: Warning message:
> In gzfile(file, "r") :
>   cannot open compressed file 'ChemoSpec_1.31-SU/DESCRIPTION', probable
> reason 'No such file or directory'
> > utils:::menuInstallLocal()
> Error in gzfile(file, "r") : cannot open the connection
> In addition: Warning message:
> In gzfile(file, "r") :
>   cannot open compressed file 'ChemoSpec_1.31-UL/DESCRIPTION', probable
> reason 'No such file or directory'
> > utils:::menuInstallLocal()
> Error in gzfile(file, "r") : cannot open the connection
> In addition: Warning messages:
> 1: In unzip(zipname, exdir = dest) : error 1 in extracting from zip file
> 2: In gzfile(file, "r") :
>   cannot open compressed file 'ChemoSpec_1.31.tar.gz/DESCRIPTION', probable
> reason 'No such file or directory'
> > sessionInfo()
> R version 2.10.0 (2009-10-26)
> i386-pc-mingw32 
>
> locale:
> [1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United
> States.1252   
> [3] LC_MONETARY=English_United States.1252 LC_NUMERIC=C
> [5] LC_TIME=English_United States.1252
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_2.10.0
> > 
>
>
>
>
> On 11/30/09 11:48 AM, "Prof Brian Ripley" <ripley at stats.ox.ac.uk> wrote:
>
> > On Mon, 30 Nov 2009, Duncan Murdoch wrote:
> > 
> >> On 30/11/2009 11:10 AM, Bryan Hanson wrote:
> >>> Hi R Mac Folks... A question about using Mac-built pkgs on the dreaded
> >>> Windows machines.
> >>> 
> >>> I have successfully checked, built and installed a package on my Mac.  The
> >>> package tarball is at github.com/bryanhanson/ChemoSpec if you care to try
> >>> installing it.  It was checked and built with defaults, so I did
> >>> 
> >>>> R CMD check ChemoSpec
> >>>> R CMD build ChemoSpec
> >>> 
> >>> And everything was fine.  I can install it and run it on my Mac no problem.
> >>> I believe it is a ?source? package ? there is no compiled code, it?s all
> >>> straightfoward R.
> >>> 
> >>> Now, I want to test the installation on Windows (because students have to
> >>> use it next semester).  I?m having a variety of problems getting it
> >>> upzipped
> >>> and installed.  Before I spend a lot of time trouble shooting the Windows
> >>> aspect, and here?s my question, should this package as I built it and so
> >>> forth work on  Windows without modification?  Or do I have to do the
> >>> check/build with different options?  Or do I have to do the entire process
> >>> on a Windows machine (pray not!).  I?ve looked around in the manuals and
> >>> help pages a bit, there doesn?t seem to be any hint that a different
> >>> process
> >>> is needed.
> >>> 
> >> 
> >> The source tarball (the .tar.gz file) would be fine on Windows, but most
> >> Windows users don't have the tools to install it.  Since you don't have any
> >> compiled code it's probably not hard to put together a zip file equivalent to
> >> what R CMD INSTALL --binary would produce on Windows, but it's probably
> >> easier to use Uwe Ligge's package building service, available at
> >> http://129.217.207.166.
> > 
> > I agree with the conclusion (not least as it checks the package works
> > on Windows), but in current R (2.10.0) you actually don't need any
> > extra tools to install such a source package on Windows.
> > 
> > It's all in the manuals ....
> > 
> > 
> >> Duncan Murdoch
> >>> By the way, I can manually get the entire package intact as text files to
> >>> the proper Windows directory, but R claims it is not a valid installed
> >>> package.  Any of the RGui Windows means of installing the package give
> >>> various problems.  I?ll keep trouble shooting these but I wanted to double
> >>> check that what I am trying to do should work.
> >>> 
> >>> Thanks, Bryan
> >>> **************
> >>> Bryan Hanson
> >>> Acting Chair
> >>> Professor of Chemistry & Biochemistry
> >>> DePauw University
> >>> 602 S. College Avenue
> >>> Greencastle, IN 46135
> >>> PHONE     765-658-4602
> >>> FAX     765-658-6084
> >>> hanson at depauw.edu
> >>> http://academic.depauw.edu/~hanson/deadpezsociety.html
> >>> http://www.depauw.edu/acad/chemistry/
> >>> http://academic.depauw.edu/~hanson/UMP/index.html
> >>> 
> >>> 
> >>> 
> >>> [[alternative HTML version deleted]]
> >>> 
> >>>   ------------------------------------------------------------------------
> >>> 
> >>> _______________________________________________
> >>> R-SIG-Mac mailing list
> >>> R-SIG-Mac at stat.math.ethz.ch
> >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>> 
> >> 
> >> _______________________________________________
> >> R-SIG-Mac mailing list
> >> R-SIG-Mac at stat.math.ethz.ch
> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >> 
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Mon Nov 30 20:46:54 2009
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 30 Nov 2009 14:46:54 -0500
Subject: [R-SIG-Mac] Built on Mac,
	Installing on Windows - should this work?
In-Reply-To: <C739876E.2174C%hanson@depauw.edu>
References: <C739876E.2174C%hanson@depauw.edu>
Message-ID: <6A563E8C-A36E-40D9-9B0D-537BE9C6E9C3@r-project.org>

Bryan,

there are several issues, but let's start with the most hopeful one:

> install.packages(pkgs = "ChemoSpec_1.31.tar.gz", repos = NULL, type  
> = "source")
* installing *source* package 'ChemoSpec' ...
** R
** data
** inst
** preparing package for lazy loading
Warning in library(pkg, character.only = TRUE, logical.return = TRUE,
lib.loc = lib.loc) :
  there is no package called 'chemometrics'
Error : package 'chemometrics' could not be loaded
ERROR: lazy loading failed for package 'ChemoSpec'
* removing 'C:/PROGRA~1/R/R-210~1.0/library/ChemoSpec'
* restoring previous 'C:/PROGRA~1/R/R-210~1.0/library/ChemoSpec'

As Brian pointed out you can now install source packages on Windows --  
the only reason it fails is that you are missing dependent packages -  
"chemometrics" in this case. So install all dependencies first and you  
don't have to worry about binary packages - just use the source and  
all will be well.

Then all the other issues are that you're trying to install the binary  
package the wrong way. In fact the easiest way to install is to simply  
unpack in the  "library" directory. The problems you encountered come  
from the name mismatches - the name of the file does really matter and  
your "SU" / "UL" postfix that you added manually is breaking it.  
Please use the original names!

Cheers,
Simon


On Nov 30, 2009, at 14:30 , Bryan Hanson wrote:

> Hello Folks, thanks for the suggestions.  I did what Simon  
> suggested.  And I
> did what Ducan suggested, namely to use Uwe's building service.  I  
> think
> both of these produced the same set of files (though I don't know  
> how to
> check rigorously).  So I moved these two archives, along with my  
> source
> archive, over to the Windows machine.  I tried installing all of  
> them via
> the GUI dialog boxes, and when that didn't work, I tried doing it  
> from the
> command line.
>
> I'm pretty certain I'm now no longer in the Mac realm :-( and I'm  
> pretty
> certain I'm missing something obvious.  It looks like it can't find  
> the
> file, but the paths and names look right to me.  If one unstuffs these
> manually they look like they have the files.  Any suggestions would be
> appreciated.   The transcript from what I did is immediately below.
>
> Thanks, Bryan
> *************
> Bryan Hanson
> Acting Chair
> Professor of Chemistry & Biochemistry
> DePauw University, Greencastle IN USA
>
>> getwd()
> [1] "C:/Documents and Settings/Chemistry 1/Desktop"
>> list.files()
> [1] "ChemoSpec_1.31-SU.zip" "ChemoSpec_1.31-UL.zip"  
> "ChemoSpec_1.31.tar.gz"
> "outcome.txt"
>
> # the next few steps are attempts at manual installations:
>> install.packages(pkgs = "ChemoSpec_1.31-SU.zip", repos = NULL)
> Error in gzfile(file, "r") : cannot open the connection
> In addition: Warning message:
> In gzfile(file, "r") :
>  cannot open compressed file 'ChemoSpec_1.31-SU/DESCRIPTION', probable
> reason 'No such file or directory'
>> install.packages(pkgs = "ChemoSpec_1.31.tar.gz", repos = NULL, type =
> "source")
> * installing *source* package 'ChemoSpec' ...
> ** R
> ** data
> ** inst
> ** preparing package for lazy loading
> Warning in library(pkg, character.only = TRUE, logical.return = TRUE,
> lib.loc = lib.loc) :
>  there is no package called 'chemometrics'
> Error : package 'chemometrics' could not be loaded
> ERROR: lazy loading failed for package 'ChemoSpec'
> * removing 'C:/PROGRA~1/R/R-210~1.0/library/ChemoSpec'
> * restoring previous 'C:/PROGRA~1/R/R-210~1.0/library/ChemoSpec'
> Warning message:
> In install.packages(pkgs = "ChemoSpec_1.31.tar.gz", repos = NULL,  :
>  installation of package 'ChemoSpec_1.31.tar.gz' had non-zero exit  
> status
>
> # the next few are the attempts with the GUI dialog boxes
>> utils:::menuInstallLocal()
> Error in gzfile(file, "r") : cannot open the connection
> In addition: Warning message:
> In gzfile(file, "r") :
>  cannot open compressed file 'ChemoSpec_1.31-SU/DESCRIPTION', probable
> reason 'No such file or directory'
>> utils:::menuInstallLocal()
> Error in gzfile(file, "r") : cannot open the connection
> In addition: Warning message:
> In gzfile(file, "r") :
>  cannot open compressed file 'ChemoSpec_1.31-UL/DESCRIPTION', probable
> reason 'No such file or directory'
>> utils:::menuInstallLocal()
> Error in gzfile(file, "r") : cannot open the connection
> In addition: Warning messages:
> 1: In unzip(zipname, exdir = dest) : error 1 in extracting from zip  
> file
> 2: In gzfile(file, "r") :
>  cannot open compressed file 'ChemoSpec_1.31.tar.gz/DESCRIPTION',  
> probable
> reason 'No such file or directory'
>> sessionInfo()
> R version 2.10.0 (2009-10-26)
> i386-pc-mingw32
>
> locale:
> [1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United
> States.1252
> [3] LC_MONETARY=English_United States.1252 LC_NUMERIC=C
> [5] LC_TIME=English_United States.1252
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_2.10.0
>>
>
>
>
>
> On 11/30/09 11:48 AM, "Prof Brian Ripley" <ripley at stats.ox.ac.uk>  
> wrote:
>
>> On Mon, 30 Nov 2009, Duncan Murdoch wrote:
>>
>>> On 30/11/2009 11:10 AM, Bryan Hanson wrote:
>>>> Hi R Mac Folks... A question about using Mac-built pkgs on the  
>>>> dreaded
>>>> Windows machines.
>>>>
>>>> I have successfully checked, built and installed a package on my  
>>>> Mac.  The
>>>> package tarball is at github.com/bryanhanson/ChemoSpec if you  
>>>> care to try
>>>> installing it.  It was checked and built with defaults, so I did
>>>>
>>>>> R CMD check ChemoSpec
>>>>> R CMD build ChemoSpec
>>>>
>>>> And everything was fine.  I can install it and run it on my Mac  
>>>> no problem.
>>>> I believe it is a ?source? package ? there is no compiled code,  
>>>> it?s all
>>>> straightfoward R.
>>>>
>>>> Now, I want to test the installation on Windows (because students  
>>>> have to
>>>> use it next semester).  I?m having a variety of problems getting it
>>>> upzipped
>>>> and installed.  Before I spend a lot of time trouble shooting the  
>>>> Windows
>>>> aspect, and here?s my question, should this package as I built it  
>>>> and so
>>>> forth work on  Windows without modification?  Or do I have to do  
>>>> the
>>>> check/build with different options?  Or do I have to do the  
>>>> entire process
>>>> on a Windows machine (pray not!).  I?ve looked around in the  
>>>> manuals and
>>>> help pages a bit, there doesn?t seem to be any hint that a  
>>>> different
>>>> process
>>>> is needed.
>>>>
>>>
>>> The source tarball (the .tar.gz file) would be fine on Windows,  
>>> but most
>>> Windows users don't have the tools to install it.  Since you don't  
>>> have any
>>> compiled code it's probably not hard to put together a zip file  
>>> equivalent to
>>> what R CMD INSTALL --binary would produce on Windows, but it's  
>>> probably
>>> easier to use Uwe Ligge's package building service, available at
>>> http://129.217.207.166.
>>
>> I agree with the conclusion (not least as it checks the package works
>> on Windows), but in current R (2.10.0) you actually don't need any
>> extra tools to install such a source package on Windows.
>>
>> It's all in the manuals ....
>>
>>
>>> Duncan Murdoch
>>>> By the way, I can manually get the entire package intact as text  
>>>> files to
>>>> the proper Windows directory, but R claims it is not a valid  
>>>> installed
>>>> package.  Any of the RGui Windows means of installing the package  
>>>> give
>>>> various problems.  I?ll keep trouble shooting these but I wanted  
>>>> to double
>>>> check that what I am trying to do should work.
>>>>
>>>> Thanks, Bryan
>>>> **************
>>>> Bryan Hanson
>>>> Acting Chair
>>>> Professor of Chemistry & Biochemistry
>>>> DePauw University
>>>> 602 S. College Avenue
>>>> Greencastle, IN 46135
>>>> PHONE     765-658-4602
>>>> FAX     765-658-6084
>>>> hanson at depauw.edu
>>>> http://academic.depauw.edu/~hanson/deadpezsociety.html
>>>> http://www.depauw.edu/acad/chemistry/
>>>> http://academic.depauw.edu/~hanson/UMP/index.html
>>>>
>>>>
>>>>
>>>> [[alternative HTML version deleted]]
>>>>
>>>>   
>>>> ------------------------------------------------------------------------
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From hanson at depauw.edu  Mon Nov 30 21:11:22 2009
From: hanson at depauw.edu (Bryan Hanson)
Date: Mon, 30 Nov 2009 15:11:22 -0500
Subject: [R-SIG-Mac] Built on Mac,
 Installing on Windows - should this work?
In-Reply-To: <6A563E8C-A36E-40D9-9B0D-537BE9C6E9C3@r-project.org>
Message-ID: <C739911A.21761%hanson@depauw.edu>

You guys are great!  I understand the nuances between platforms much better
now (the Mac environment does a lot for you in the background, which I had
not given much thought to). Success came with unpacking the .zip file into
the library folder.  Then I still had to install all the dependencies before
my package would "activate", but I'm in business now.  Thanks a bunch to
each of you!  Bryan


On 11/30/09 2:46 PM, "Simon Urbanek" <simon.urbanek at r-project.org> wrote:

> Bryan,
> 
> there are several issues, but let's start with the most hopeful one:
> 
>> install.packages(pkgs = "ChemoSpec_1.31.tar.gz", repos = NULL, type
>> = "source")
> * installing *source* package 'ChemoSpec' ...
> ** R
> ** data
> ** inst
> ** preparing package for lazy loading
> Warning in library(pkg, character.only = TRUE, logical.return = TRUE,
> lib.loc = lib.loc) :
>   there is no package called 'chemometrics'
> Error : package 'chemometrics' could not be loaded
> ERROR: lazy loading failed for package 'ChemoSpec'
> * removing 'C:/PROGRA~1/R/R-210~1.0/library/ChemoSpec'
> * restoring previous 'C:/PROGRA~1/R/R-210~1.0/library/ChemoSpec'
> 
> As Brian pointed out you can now install source packages on Windows --
> the only reason it fails is that you are missing dependent packages -
> "chemometrics" in this case. So install all dependencies first and you
> don't have to worry about binary packages - just use the source and
> all will be well.
> 
> Then all the other issues are that you're trying to install the binary
> package the wrong way. In fact the easiest way to install is to simply
> unpack in the  "library" directory. The problems you encountered come
> from the name mismatches - the name of the file does really matter and
> your "SU" / "UL" postfix that you added manually is breaking it.
> Please use the original names!
> 
> Cheers,
> Simon
> 
> 
> On Nov 30, 2009, at 14:30 , Bryan Hanson wrote:
> 
>> Hello Folks, thanks for the suggestions.  I did what Simon
>> suggested.  And I
>> did what Ducan suggested, namely to use Uwe's building service.  I
>> think
>> both of these produced the same set of files (though I don't know
>> how to
>> check rigorously).  So I moved these two archives, along with my
>> source
>> archive, over to the Windows machine.  I tried installing all of
>> them via
>> the GUI dialog boxes, and when that didn't work, I tried doing it
>> from the
>> command line.
>> 
>> I'm pretty certain I'm now no longer in the Mac realm :-( and I'm
>> pretty
>> certain I'm missing something obvious.  It looks like it can't find
>> the
>> file, but the paths and names look right to me.  If one unstuffs these
>> manually they look like they have the files.  Any suggestions would be
>> appreciated.   The transcript from what I did is immediately below.
>> 
>> Thanks, Bryan
>> *************
>> Bryan Hanson
>> Acting Chair
>> Professor of Chemistry & Biochemistry
>> DePauw University, Greencastle IN USA
>> 
>>> getwd()
>> [1] "C:/Documents and Settings/Chemistry 1/Desktop"
>>> list.files()
>> [1] "ChemoSpec_1.31-SU.zip" "ChemoSpec_1.31-UL.zip"
>> "ChemoSpec_1.31.tar.gz"
>> "outcome.txt"
>> 
>> # the next few steps are attempts at manual installations:
>>> install.packages(pkgs = "ChemoSpec_1.31-SU.zip", repos = NULL)
>> Error in gzfile(file, "r") : cannot open the connection
>> In addition: Warning message:
>> In gzfile(file, "r") :
>>  cannot open compressed file 'ChemoSpec_1.31-SU/DESCRIPTION', probable
>> reason 'No such file or directory'
>>> install.packages(pkgs = "ChemoSpec_1.31.tar.gz", repos = NULL, type =
>> "source")
>> * installing *source* package 'ChemoSpec' ...
>> ** R
>> ** data
>> ** inst
>> ** preparing package for lazy loading
>> Warning in library(pkg, character.only = TRUE, logical.return = TRUE,
>> lib.loc = lib.loc) :
>>  there is no package called 'chemometrics'
>> Error : package 'chemometrics' could not be loaded
>> ERROR: lazy loading failed for package 'ChemoSpec'
>> * removing 'C:/PROGRA~1/R/R-210~1.0/library/ChemoSpec'
>> * restoring previous 'C:/PROGRA~1/R/R-210~1.0/library/ChemoSpec'
>> Warning message:
>> In install.packages(pkgs = "ChemoSpec_1.31.tar.gz", repos = NULL,  :
>>  installation of package 'ChemoSpec_1.31.tar.gz' had non-zero exit
>> status
>> 
>> # the next few are the attempts with the GUI dialog boxes
>>> utils:::menuInstallLocal()
>> Error in gzfile(file, "r") : cannot open the connection
>> In addition: Warning message:
>> In gzfile(file, "r") :
>>  cannot open compressed file 'ChemoSpec_1.31-SU/DESCRIPTION', probable
>> reason 'No such file or directory'
>>> utils:::menuInstallLocal()
>> Error in gzfile(file, "r") : cannot open the connection
>> In addition: Warning message:
>> In gzfile(file, "r") :
>>  cannot open compressed file 'ChemoSpec_1.31-UL/DESCRIPTION', probable
>> reason 'No such file or directory'
>>> utils:::menuInstallLocal()
>> Error in gzfile(file, "r") : cannot open the connection
>> In addition: Warning messages:
>> 1: In unzip(zipname, exdir = dest) : error 1 in extracting from zip
>> file
>> 2: In gzfile(file, "r") :
>>  cannot open compressed file 'ChemoSpec_1.31.tar.gz/DESCRIPTION',
>> probable
>> reason 'No such file or directory'
>>> sessionInfo()
>> R version 2.10.0 (2009-10-26)
>> i386-pc-mingw32
>> 
>> locale:
>> [1] LC_COLLATE=English_United States.1252  LC_CTYPE=English_United
>> States.1252
>> [3] LC_MONETARY=English_United States.1252 LC_NUMERIC=C
>> [5] LC_TIME=English_United States.1252
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>> 
>> loaded via a namespace (and not attached):
>> [1] tools_2.10.0
>>> 
>> 
>> 
>> 
>> 
>> On 11/30/09 11:48 AM, "Prof Brian Ripley" <ripley at stats.ox.ac.uk>
>> wrote:
>> 
>>> On Mon, 30 Nov 2009, Duncan Murdoch wrote:
>>> 
>>>> On 30/11/2009 11:10 AM, Bryan Hanson wrote:
>>>>> Hi R Mac Folks... A question about using Mac-built pkgs on the
>>>>> dreaded
>>>>> Windows machines.
>>>>> 
>>>>> I have successfully checked, built and installed a package on my
>>>>> Mac.  The
>>>>> package tarball is at github.com/bryanhanson/ChemoSpec if you
>>>>> care to try
>>>>> installing it.  It was checked and built with defaults, so I did
>>>>> 
>>>>>> R CMD check ChemoSpec
>>>>>> R CMD build ChemoSpec
>>>>> 
>>>>> And everything was fine.  I can install it and run it on my Mac
>>>>> no problem.
>>>>> I believe it is a ?source? package ? there is no compiled code,
>>>>> it?s all
>>>>> straightfoward R.
>>>>> 
>>>>> Now, I want to test the installation on Windows (because students
>>>>> have to
>>>>> use it next semester).  I?m having a variety of problems getting it
>>>>> upzipped
>>>>> and installed.  Before I spend a lot of time trouble shooting the
>>>>> Windows
>>>>> aspect, and here?s my question, should this package as I built it
>>>>> and so
>>>>> forth work on  Windows without modification?  Or do I have to do
>>>>> the
>>>>> check/build with different options?  Or do I have to do the
>>>>> entire process
>>>>> on a Windows machine (pray not!).  I?ve looked around in the
>>>>> manuals and
>>>>> help pages a bit, there doesn?t seem to be any hint that a
>>>>> different
>>>>> process
>>>>> is needed.
>>>>> 
>>>> 
>>>> The source tarball (the .tar.gz file) would be fine on Windows,
>>>> but most
>>>> Windows users don't have the tools to install it.  Since you don't
>>>> have any
>>>> compiled code it's probably not hard to put together a zip file
>>>> equivalent to
>>>> what R CMD INSTALL --binary would produce on Windows, but it's
>>>> probably
>>>> easier to use Uwe Ligge's package building service, available at
>>>> http://129.217.207.166.
>>> 
>>> I agree with the conclusion (not least as it checks the package works
>>> on Windows), but in current R (2.10.0) you actually don't need any
>>> extra tools to install such a source package on Windows.
>>> 
>>> It's all in the manuals ....
>>> 
>>> 
>>>> Duncan Murdoch
>>>>> By the way, I can manually get the entire package intact as text
>>>>> files to
>>>>> the proper Windows directory, but R claims it is not a valid
>>>>> installed
>>>>> package.  Any of the RGui Windows means of installing the package
>>>>> give
>>>>> various problems.  I?ll keep trouble shooting these but I wanted
>>>>> to double
>>>>> check that what I am trying to do should work.
>>>>> 
>>>>> Thanks, Bryan
>>>>> **************
>>>>> Bryan Hanson
>>>>> Acting Chair
>>>>> Professor of Chemistry & Biochemistry
>>>>> DePauw University
>>>>> 602 S. College Avenue
>>>>> Greencastle, IN 46135
>>>>> PHONE     765-658-4602
>>>>> FAX     765-658-6084
>>>>> hanson at depauw.edu
>>>>> http://academic.depauw.edu/~hanson/deadpezsociety.html
>>>>> http://www.depauw.edu/acad/chemistry/
>>>>> http://academic.depauw.edu/~hanson/UMP/index.html
>>>>> 
>>>>> 
>>>>> 
>>>>> [[alternative HTML version deleted]]
>>>>> 
>>>>>   
>>>>> ------------------------------------------------------------------------
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 


From richard.liu at pueo-owl.ch  Mon Nov 30 21:33:25 2009
From: richard.liu at pueo-owl.ch (Richard R. Liu)
Date: Mon, 30 Nov 2009 21:33:25 +0100
Subject: [R-SIG-Mac] *** caught bus error *** address 0x114382544,
	cause 'non-existent physical address'
In-Reply-To: <6758D880-1CA0-489E-89CF-F895AFE7C633@r-project.org>
References: <A7792F34-CB03-4B15-9D3F-26687C5910D5@pueo-owl.ch>
	<A8B9152E-C7F2-4600-8182-2C12AB02C931@r-project.org>
	<E20E8898-9A36-4EA3-9802-91ECE6CFFABF@pueo-owl.ch>
	<6758D880-1CA0-489E-89CF-F895AFE7C633@r-project.org>
Message-ID: <493B8C76-672C-46A5-AF24-80ABFCD2990D@pueo-owl.ch>

Hi Simon,

I think I've found the problem:  filehash needs to be rebuilt.

The data that I've been using the problematic expressions on resides  
in a filehash database.  Having reduced the problem to one particular  
data frame of two columns and 1000 rows, I just copied it to its own  
database, zipped it, and attached it to an email containing  
instructions on how to reproduce the problem, when I decided I should  
test whether you could indeed reproduce the problem by following my  
instructions.  And, of course, everything worked just as I had not  
expected, i.e., there was no bus error.

So I copied the data frame from the small database that I was going to  
send to you to the original, and there the problem occurred.  I could  
not reproduce the problem, however, if I copied the original data  
frame to my workspace and forced R to actually instantiate the copy  
before running the problematic script.  So the problem seemed to have  
something to do with filehash and the size of the database.  I also  
recalled that I had no problem with the script if I ran R in 32-bit  
mode.  I therefore tried reinstalling the filehash binary, but that  
did not solve the problem.  Then, I installed it from the source.   
That evidently is what was required.

So I guess it only needs a rebuild so that other folks do not  
experience the same problem.

Regards,
Richard

Richard R. Liu
Dittingerstr. 33
CH-4053 Basel
Switzerland

Tel.:  +41 61 331 10 47
Mobil: +41 79 708 67 66
Email:  richard.liu at pueo-owl.ch



On Nov 30, 2009, at 17:18 , Simon Urbanek wrote:

> Richard,
>
> I didn't touch anything, but then you didn't supply a reproducible  
> example so we can't do much about it (the trace is unfortunately  
> bogus). My next step woul dbe to try it in valgrind if I could  
> reproduce it ...
>
> Cheers,
> Simon
>
> On Nov 30, 2009, at 11:01 , Richard R. Liu wrote:
>
>> This problem disappeared in patched releases soon after I replied  
>> to Simon that I was unable to obtain the information that he  
>> required from the debugger.  After checking a few releases I quite  
>> monitoring the problem.  I assumed that it had been fixed with  
>> comment.  However, today, the patched release dated 2009-11-29 has  
>> the problem once again.  I have tried going back to the patched  
>> releases of 2009-11-27 and 2009-11-22, the only ones for which I  
>> have kept installers here at work.  Both have the problem.  In  
>> neither can I obtain the debugging information that Simon requested  
>> when the problem initially arose.  Can somebody tell me the current  
>> status of the problem, and when it might be fixed (again)?  It  
>> occurs at an extremely inconvenient time in my project.
>>
>> Thanks,
>>
>> Richard R. Liu
>> Dittingerstr. 33
>> CH-4053 Basel
>> Switzerland
>>
>> Tel.:  +41 61 331 10 47
>> Mobil: +41 79 708 67 66
>> Email:  richard.liu at pueo-owl.ch
>>
>>
>>
>> On Nov 18, 2009, at 21:07 , Simon Urbanek wrote:
>>
>>> Richard,
>>>
>>> in order to track this down, please start R64, type
>>>
>>> Sys.getpid()
>>>
>>> and note down the number. Then in a separate window open Terminal  
>>> and type
>>>
>>> gdb
>>>
>>> Then on the gdb console (it will just say "(gdb)") type
>>>
>>> attach n
>>>
>>> where n is the number from above. It will do something for a while  
>>> and when it comes back in the console, type
>>>
>>> c
>>>
>>> Then do your work in R until you get a crash. Once you do, you  
>>> will see something happening in the gdb console. Then type
>>>
>>> bt
>>>
>>> and copy/paste everything that gdb printed since you typed "c" and  
>>> send it to me.
>>>
>>> Thanks,
>>> Simon
>>>
>>> -----
>>>
>>> Practical example -- in R:
>>>
>>> > Sys.getpid()
>>> [1] 19381
>>>
>>> in Terminal:
>>>
>>> ginaz:~$ gdb
>>> GNU gdb 6.3.50-20050815 (Apple version gdb-962) (Sat Jul 26  
>>> 08:14:40 UTC 2008)
>>> [...]
>>> This GDB was configured as "i386-apple-darwin".
>>> (gdb) attach 19381
>>> Attaching to process 19381.
>>> Reading symbols for shared libraries . done
>>> [...]
>>> 0x9428a6fa in select$DARWIN_EXTSN ()
>>> (gdb) c
>>> Continuing.
>>>
>>> Program received signal EXC_BAD_ACCESS, Could not access memory.
>>> Reason: KERN_PROTECTION_FAILURE at address: 0x00000003
>>> 0x00412d09 in SET_SYMVALUE (x=0x1007110, v=0x0) at ../../../../ 
>>> R-2.10-branch/src/main/memory.c:2809
>>> 2809	void (SET_SYMVALUE)(SEXP x, SEXP v) { CHECK_OLD_TO_NEW(x, v);  
>>> SYMVALUE(x) = v; }
>>> (gdb) bt
>>> #0  0x00412d09 in SET_SYMVALUE (x=0x1007110, v=0x0) at ../../../../ 
>>> R-2.10-branch/src/main/memory.c:2809
>>> #1  0x0041068e in Rf_ReplIteration (rho=0x1023c38, savestack=0,  
>>> browselevel=0, state=0xbfffe53c) at ../../../../R-2.10-branch/src/ 
>>> main/main.c:263
>>> #2  0x00410a40 in R_ReplConsole (rho=0x1023c38, savestack=0,  
>>> browselevel=0) at ../../../../R-2.10-branch/src/main/main.c:311
>>> #3  0x0041129b in run_Rmainloop () at ../../../../R-2.10-branch/ 
>>> src/main/main.c:964
>>> #4  0x00001ff0 in main (ac=1, av=0xbffff5c8) at ../../../../R-2.10- 
>>> branch/src/main/Rmain.c:33
>>> (gdb) q
>>> The program is running.  Quit anyway (and detach it)? (y or n) y
>>> Detaching from process 19381 thread 0x613.
>>>
>>>
>>> On Nov 18, 2009, at 14:39 , Richard R. Liu wrote:
>>>
>>>> I am experiencing a curious error running R64 (2009-11-18 r50482)  
>>>> on a MacBook Pro 17" Unibody early 2009 with 8GB RAM.  In the  
>>>> console excerpt below sentences.1000.clustered is a dataframe  
>>>> consisting of two vectors, sent and cluster.  sent is a vector of  
>>>> 1000 sentences chosen at random from over 3 million, and cluster  
>>>> is a vector of integers denoting to which of 5 clusters the  
>>>> sentence belongs.  For each cluster I want to display the  
>>>> sentences that belong to it as follows:
>>>>
>>>>
>>>> R version 2.10.0 Patched (2009-11-18 r50482)
>>>> Copyright (C) 2009 The R Foundation for Statistical Computing
>>>> ISBN 3-900051-07-0
>>>>
>>>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>>>> You are welcome to redistribute it under certain conditions.
>>>> Type 'license()' or 'licence()' for distribution details.
>>>>
>>>> Natural language support but running in an English locale
>>>>
>>>> R is a collaborative project with many contributors.
>>>> Type 'contributors()' for more information and
>>>> 'citation()' on how to cite R or R packages in publications.
>>>>
>>>> Type 'demo()' for some demos, 'help()' for on-line help, or
>>>> 'help.start()' for an HTML browser interface to help.
>>>> Type 'q()' to quit R.
>>>>
>>>> [R.app GUI 1.30 (5521) x86_64-apple-darwin9.8.0]
>>>>
>>>> [Workspace restored from /Users/richard/.RData]
>>>>
>>>> > library(filehash)
>>>> filehash: Simple key-value database (2.0-1 2008-12-19)
>>>> > db <- dbInit("/Volumes/Work on RDR Test Documents/R Databases/ 
>>>> DB_TXT", type = "RDS")
>>>> > dbLoad(db)
>>>> >
>>>> > sent.clust <- sentences.1000.clustered
>>>> > i.clust.2 <- which(sent.clust$cluster == 2)
>>>> > attributes(sent.clust)
>>>> $names
>>>> [1] "sent"    "cluster"
>>>>
>>>> $row.names
>>>> [1]    1    2    3    4    5    6    7    8    9   10   11   12    
>>>> 13   14   15   16   17   18   19   20   21   22   23   24   25    
>>>> 26   27   28   29
>>>> ...
>>>> [987]  987  988  989  990  991  992  993  994  995  996  997   
>>>> 998  999 1000
>>>>
>>>> $class
>>>> [1] "data.frame"
>>>>
>>>> > i.clust.2 <- which(sent.clust$cluster == 2)
>>>> > nchar(sent.clust$sent[i.clust.2])
>>>> [1]   232   419   787  1010  1926   357  2865   657   560   213   
>>>> 2175  2363  1300   359   331   965   581   732   398   245  1650  
>>>> 25893  1289   510
>>>> [25]  1714   524   747  2378   465   651  2253   215   460   253   
>>>> 2475   554  1130   529   261  1413   418  2168  1569  1538   301   
>>>> 2506  1163  3036
>>>> [49]  1445   199  1231   370  1307   371   379   232  1297    
>>>> 500   409   481  2187   314   730  1634   971   860   362   506   
>>>> 1606   394   145   480
>>>> [73]  1582  1471  1269   308  1113   444   990   298  1644    
>>>> 445   357  1204   322   638  2182   805  1545   368  1461  1347    
>>>> 649   399  1094  1624
>>>> [97] 14605  1637   269   503   502  2145  1398   481   122  2248
>>>> > sent.clust$sent[i.clust.2]
>>>> [1] "(patient continuing ...)  
>>>> ______________________________________________________________________________________________________________________________________ 
>>>>  Investigator text for Adverse Events encoded using MedDRA  
>>>> version 11.0. "
>>>> [2]
>>>> *** caught bus error ***
>>>> address 0x114382544, cause 'non-existent physical address'
>>>>
>>>> Possible actions:
>>>> 1: abort (with core dump, if enabled)
>>>> 2: normal R exit
>>>> 3: exit R without saving workspace
>>>> 4: exit R saving workspace
>>>> Selection:
>>>>
>>>> The point of
>>>>
>>>> > i.clust.2 <- which(sent.clust$cluster == 2)
>>>> > nchar(sent.clust$sent[i.clust.2])
>>>>
>>>> is to try to isolate the problem.  Indeed, the more compact  
>>>> sent.clust$sent[which(sent.clust$cluster == 2)] work when I start  
>>>> R in 32-bit mode.  In 64-bit mode, attempting to display the  
>>>> sentences in cluster 5 also fails, whereas for clusters 1, 3, 4  
>>>> it succeeds.  In 32-bit mode, I have experienced no such problem.
>>>>
>>>> Does anybody have any ideas about what is wrong?
>>>>
>>>> Regards,
>>>> Richard
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2429 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20091130/9b01647b/attachment-0001.bin>

