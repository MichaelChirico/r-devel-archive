From jacobson at psych.colorado.edu  Thu Feb  5 18:39:53 2004
From: jacobson at psych.colorado.edu (Benjamin jacobson)
Date: Thu Feb  5 18:44:37 2004
Subject: [R-SIG-Mac] compiling and loading AnalyzeFMRI
Message-ID: <4E9EC54C-5802-11D8-B2BB-0003931B03E6@psych.colorado.edu>

I have had the opportunity to play with installing the AnalyzeFMRI  
package and have a better idea of what is going wrong.  Was hoping that  
somebody on the list will be able to help.


I am currently running the R-Aqua version 1.8 for Jaguar.  Below is the  
output from building and trying to load the package.


* Installing *source* package 'AnalyzeFMRI' ...
creating cache ./config.cache
checking for sgesdd_ in -llapack... no
could not find SGESVD in your LAPACK library, using our routines
updating cache ./config.cache
creating ./config.status
creating src/Makevars
** libs
gcc -no-cpp-precomp  
-I/Applications/StartR.app/RAqua.app/Contents/include   
-I/usr/local/include  -Wall -pedantic -fno-common  -g -O2 -c  
analyzeFMRI.c -o analyzeFMRI.o
g77   -fno-common  -g -O2 -c slapack.f -o slapack.o
gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o  
AnalyzeFMRI.so analyzeFMRI.o slapack.o -framework vecLib  
-L/usr/local/lib -L/usr/local/lib/gcc/powerpc-apple-darwin6.6/3.4  
-L/usr/local/lib/gcc/powerpc-apple-darwin6.6/3.4/../../.. -lfrtbegin  
-lg2c -lSystem  -L/usr/local/lib  
-L/usr/local/lib/gcc/powerpc-apple-darwin6.6/3.4  
-L/usr/local/lib/gcc/powerpc-apple-darwin6.6/3.4/../../.. -lfrtbegin  
-lg2c -lSystem -lcc_dynamic
ld: warning -L: directory name  
(/usr/local/lib/gcc/powerpc-apple-darwin6.6/3.4) does not exist
ld: warning -L: directory name  
(/usr/local/lib/gcc/powerpc-apple-darwin6.6/3.4/../../..) does not  
exist
ld: warning -L: directory name  
(/usr/local/lib/gcc/powerpc-apple-darwin6.6/3.4) does not exist
ld: warning -L: directory name  
(/usr/local/lib/gcc/powerpc-apple-darwin6.6/3.4/../../..) does not  
exist
ld: warning multiple definitions of symbol _ilaenv_
slapack.o definition of _ilaenv_ in section (__TEXT,__text)
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
vecLib.framework/Versions/A/libBLAS.dylib(single module) definition of  
_ilaenv_
ld: warning multiple definitions of symbol _xerbla_
analyzeFMRI.o definition of _xerbla_ in section (__TEXT,__text)
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
vecLib.framework/Versions/A/libBLAS.dylib(single module) definition of  
_xerbla_
** R
** inst
** help
  >>> Building/Updating help pages for package 'AnalyzeFMRI'
      Formats: text html latex example
   f.analyze.file.summary            text    html    latex   example
   f.analyzeIO.gui                   text    html    latex
   f.basic.hdr.list.create           text    html    latex   example
   f.ica.fmri                        text    html    latex
   f.ica.fmri.gui                    text    html    latex
   f.plot.ica.fmri                   text    html    latex
   f.plot.ica.fmri.jpg               text    html    latex
   f.read.analyze.header             text    html    latex   example
   f.read.analyze.slice              text    html    latex   example
   f.read.analyze.slice.at.all.timep text    html    latex   example
   f.read.analyze.tpt                text    html    latex   example
   f.read.analyze.ts                 text    html    latex   example
   f.read.analyze.volume             text    html    latex   example
   f.spectral.summary                text    html    latex
   f.write.analyze                   text    html    latex   example
   f.write.array.to.img.2bytes       text    html    latex
   f.write.array.to.img.8bit         text    html    latex
   f.write.array.to.img.float        text    html    latex
   f.write.list.to.hdr               text    html    latex   example
* DONE (AnalyzeFMRI)

Delete downloaded files (y/N)? y

 > library (AnalyzeFMRI)
Error in dyn.load(x, as.logical(local), as.logical(now)) :
         unable to load shared library  
"/Applications/StartR.app/RAqua.app/Contents/library/AnalyzeFMRI/libs/ 
AnalyzeFMRI.so":
   dlcompat: dyld:  
/Applications/StartR.app/RAqua.app/Contents/MacOS/RAqua Undefined  
symbols:
_lsame_
Error in library(AnalyzeFMRI) : .First.lib failed


It looks as though, the problem lies in incompatibility between  
Panther's Linear Algebra libraries (LAPACK, and BLAS), and the  
libraries that come prepackaged with AnalyzeFMRI (As I know lsame is  
part of LAPACK).

Anybody have any suggestions.  Can I force the library to build solely  
against Panther linear algebra tools, do I need to adjust the library  
search path.  Not sure where to proceed from here, and could really use  
some help as I depend on the AnalyzeFMRI library quite a bit for the  
code I have written.  Hope this description of the problem is more  
explicit than what I posted before.


thanks for your time.


Ben Jacobson

------------------------------------------------------------------------ 
-

Benjamin Jacobson
Department of Psychology - University of Colorado at Boulder
Medical Scholars Program - University of Illinois, Urbana-Champaign
Muenzinger E-022
Boulder, CO 80309
303-735-5802
jacobson@psych.colorado.edu

From deleeuw at stat.ucla.edu  Thu Feb  5 19:16:39 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Thu Feb  5 19:17:23 2004
Subject: [R-SIG-Mac] compiling and loading AnalyzeFMRI
In-Reply-To: <4E9EC54C-5802-11D8-B2BB-0003931B03E6@psych.colorado.edu>
References: <4E9EC54C-5802-11D8-B2BB-0003931B03E6@psych.colorado.edu>
Message-ID: <70F97C32-5807-11D8-B4CB-000A95A67E82@stat.ucla.edu>

You are using the Jaguar version of R-1.8.1, dynamically linked with  
the Jaguar version of vecLib, and you
compile AnalyzeFMRI on Panther. That's bad. The missing symbol lsame  
maybe in the
Panther and not in the Jaguar version. The dynamic linker has resolved  
the symbols on Jaguar.
The rest are just warnings, they are OK.

By the way, compiling AnanalyzewFMRI on Panther, using R-1.9.0 compiled  
on Panther, does not give the problem
(although SGESVD is indeed missing).

On Feb 5, 2004, at 9:39, Benjamin jacobson wrote:

> I have had the opportunity to play with installing the AnalyzeFMRI  
> package and have a better idea of what is going wrong.  Was hoping  
> that somebody on the list will be able to help.
>
>
> I am currently running the R-Aqua version 1.8 for Jaguar.  Below is  
> the output from building and trying to load the package.
>
>
> * Installing *source* package 'AnalyzeFMRI' ...
> creating cache ./config.cache
> checking for sgesdd_ in -llapack... no
> could not find SGESVD in your LAPACK library, using our routines
> updating cache ./config.cache
> creating ./config.status
> creating src/Makevars
> ** libs
> gcc -no-cpp-precomp  
> -I/Applications/StartR.app/RAqua.app/Contents/include   
> -I/usr/local/include  -Wall -pedantic -fno-common  -g -O2 -c  
> analyzeFMRI.c -o analyzeFMRI.o
> g77   -fno-common  -g -O2 -c slapack.f -o slapack.o
> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o  
> AnalyzeFMRI.so analyzeFMRI.o slapack.o -framework vecLib  
> -L/usr/local/lib -L/usr/local/lib/gcc/powerpc-apple-darwin6.6/3.4  
> -L/usr/local/lib/gcc/powerpc-apple-darwin6.6/3.4/../../.. -lfrtbegin  
> -lg2c -lSystem  -L/usr/local/lib  
> -L/usr/local/lib/gcc/powerpc-apple-darwin6.6/3.4  
> -L/usr/local/lib/gcc/powerpc-apple-darwin6.6/3.4/../../.. -lfrtbegin  
> -lg2c -lSystem -lcc_dynamic
> ld: warning -L: directory name  
> (/usr/local/lib/gcc/powerpc-apple-darwin6.6/3.4) does not exist
> ld: warning -L: directory name  
> (/usr/local/lib/gcc/powerpc-apple-darwin6.6/3.4/../../..) does not  
> exist
> ld: warning -L: directory name  
> (/usr/local/lib/gcc/powerpc-apple-darwin6.6/3.4) does not exist
> ld: warning -L: directory name  
> (/usr/local/lib/gcc/powerpc-apple-darwin6.6/3.4/../../..) does not  
> exist
> ld: warning multiple definitions of symbol _ilaenv_
> slapack.o definition of _ilaenv_ in section (__TEXT,__text)
> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
> vecLib.framework/Versions/A/libBLAS.dylib(single module) definition of  
> _ilaenv_
> ld: warning multiple definitions of symbol _xerbla_
> analyzeFMRI.o definition of _xerbla_ in section (__TEXT,__text)
> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
> vecLib.framework/Versions/A/libBLAS.dylib(single module) definition of  
> _xerbla_
> ** R
> ** inst
> ** help
>  >>> Building/Updating help pages for package 'AnalyzeFMRI'
>      Formats: text html latex example
>   f.analyze.file.summary            text    html    latex   example
>   f.analyzeIO.gui                   text    html    latex
>   f.basic.hdr.list.create           text    html    latex   example
>   f.ica.fmri                        text    html    latex
>   f.ica.fmri.gui                    text    html    latex
>   f.plot.ica.fmri                   text    html    latex
>   f.plot.ica.fmri.jpg               text    html    latex
>   f.read.analyze.header             text    html    latex   example
>   f.read.analyze.slice              text    html    latex   example
>   f.read.analyze.slice.at.all.timep text    html    latex   example
>   f.read.analyze.tpt                text    html    latex   example
>   f.read.analyze.ts                 text    html    latex   example
>   f.read.analyze.volume             text    html    latex   example
>   f.spectral.summary                text    html    latex
>   f.write.analyze                   text    html    latex   example
>   f.write.array.to.img.2bytes       text    html    latex
>   f.write.array.to.img.8bit         text    html    latex
>   f.write.array.to.img.float        text    html    latex
>   f.write.list.to.hdr               text    html    latex   example
> * DONE (AnalyzeFMRI)
>
> Delete downloaded files (y/N)? y
>
> > library (AnalyzeFMRI)
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library  
> "/Applications/StartR.app/RAqua.app/Contents/library/AnalyzeFMRI/libs/ 
> AnalyzeFMRI.so":
>   dlcompat: dyld:  
> /Applications/StartR.app/RAqua.app/Contents/MacOS/RAqua Undefined  
> symbols:
> _lsame_
> Error in library(AnalyzeFMRI) : .First.lib failed
>
>
> It looks as though, the problem lies in incompatibility between  
> Panther's Linear Algebra libraries (LAPACK, and BLAS), and the  
> libraries that come prepackaged with AnalyzeFMRI (As I know lsame is  
> part of LAPACK).
>
> Anybody have any suggestions.  Can I force the library to build solely  
> against Panther linear algebra tools, do I need to adjust the library  
> search path.  Not sure where to proceed from here, and could really  
> use some help as I depend on the AnalyzeFMRI library quite a bit for  
> the code I have written.  Hope this description of the problem is more  
> explicit than what I posted before.
>
>
> thanks for your time.
>
>
> Ben Jacobson
>
> ----------------------------------------------------------------------- 
> --
>
> Benjamin Jacobson
> Department of Psychology - University of Colorado at Boulder
> Medical Scholars Program - University of Illinois, Urbana-Champaign
> Muenzinger E-022
> Boulder, CO 80309
> 303-735-5802
> jacobson@psych.colorado.edu
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From jacobson at psych.colorado.edu  Fri Feb  6 20:38:14 2004
From: jacobson at psych.colorado.edu (Benjamin Jacobson)
Date: Fri Feb  6 20:38:40 2004
Subject: [R-SIG-Mac] Re:  Compiling Analyze FMRI
Message-ID: <01452B94-58DC-11D8-95D7-003065D64A1E@psych.colorado.edu>

I am still having the same issues compiling this AnalyzeFMRI library.   
I created a clean install of both the R-devel.dmg and from a successful  
build from source of the Jan312004 build of R-devel.  In both cases  
similar error messages were generated when executing library  
(AnalyzeFMRI) after a successful install.  Below is the output from one  
of these attempts.  I am compiling on a G4 installed with both the most  
updated versions of Panther and Xtools.  Thanks for your time.


Ben Jacobson


* Installing *source* package 'AnalyzeFMRI' ...
creating cache ./config.cache
checking for sgesdd_ in -llapack... no
could not find SGESVD in your LAPACK library, using our routines
updating cache ./config.cache
creating ./config.status
creating src/Makevars
** libs
gcc -no-cpp-precomp  
-I/Library/Frameworks/R.framework/Versions/1.9.0/Resources/include   
-I/usr/local/include  -Wall -pedantic -fno-common  -g -O2 -c  
analyzeFMRI.c -o analyzeFMRI.o
g77   -fno-common  -g -O2 -c slapack.f -o slapack.o
gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o  
AnalyzeFMRI.so analyzeFMRI.o slapack.o -framework vecLib  
-L/usr/local/lib -L/usr/local/lib/gcc/powerpc-apple-darwin7.0.0/3.4  
-L/usr/local/lib/gcc/powerpc-apple-darwin7.0.0/3.4/../../.. -lfrtbegin  
-lg2c -lgcc_s -lSystem  -L/usr/local/lib  
-L/usr/local/lib/gcc/powerpc-apple-darwin7.0.0/3.4  
-L/usr/local/lib/gcc/powerpc-apple-darwin7.0.0/3.4/../../.. -lfrtbegin  
-lg2c -lgcc_s -lSystem -lcc_dynamic  
-L/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin -lR
ld: warning multiple definitions of symbol _ilaenv_
slapack.o definition of _ilaenv_ in section (__TEXT,__text)
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
vecLib.framework/Versions/A/libBLAS.dylib(single module) definition of  
_ilaenv_
ld: warning multiple definitions of symbol _xerbla_
analyzeFMRI.o definition of _xerbla_ in section (__TEXT,__text)
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
vecLib.framework/Versions/A/libBLAS.dylib(single module) definition of  
_xerbla_
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(print.lo) definition of _xerbla_
ld: warning multiple definitions of symbol _crc32
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(crc32.o) definition of _crc32
/usr/lib/libz.1.dylib(crc32.o) definition of _crc32
ld: warning multiple definitions of symbol _get_crc_table
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(crc32.o) definition of _get_crc_table
/usr/lib/libz.1.dylib(crc32.o) definition of _get_crc_table
ld: warning multiple definitions of symbol _deflate
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(deflate.o) definition of _deflate
/usr/lib/libz.1.dylib(deflate.o) definition of _deflate
ld: warning multiple definitions of symbol _deflateCopy
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(deflate.o) definition of _deflateCopy
/usr/lib/libz.1.dylib(deflate.o) definition of _deflateCopy
ld: warning multiple definitions of symbol _deflateReset
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(deflate.o) definition of _deflateReset
/usr/lib/libz.1.dylib(deflate.o) definition of _deflateReset
ld: warning multiple definitions of symbol _deflateSetDictionary
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(deflate.o) definition of _deflateSetDictionary
/usr/lib/libz.1.dylib(deflate.o) definition of _deflateSetDictionary
ld: warning multiple definitions of symbol _deflateInit2_
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(deflate.o) definition of _deflateInit2_
/usr/lib/libz.1.dylib(deflate.o) definition of _deflateInit2_
ld: warning multiple definitions of symbol _deflateEnd
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(deflate.o) definition of _deflateEnd
/usr/lib/libz.1.dylib(deflate.o) definition of _deflateEnd
ld: warning multiple definitions of symbol _deflateParams
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(deflate.o) definition of _deflateParams
/usr/lib/libz.1.dylib(deflate.o) definition of _deflateParams
ld: warning multiple definitions of symbol _deflateInit_
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(deflate.o) definition of _deflateInit_
/usr/lib/libz.1.dylib(deflate.o) definition of _deflateInit_
ld: warning multiple definitions of symbol _zError
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(zutil.o) definition of _zError
/usr/lib/libz.1.dylib(zutil.o) definition of _zError
ld: warning multiple definitions of symbol _zlibVersion
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(zutil.o) definition of _zlibVersion
/usr/lib/libz.1.dylib(zutil.o) definition of _zlibVersion
ld: warning multiple definitions of symbol _inflateEnd
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(inflate.o) definition of _inflateEnd
/usr/lib/libz.1.dylib(inflate.o) definition of _inflateEnd
ld: warning multiple definitions of symbol _inflateSync
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(inflate.o) definition of _inflateSync
/usr/lib/libz.1.dylib(inflate.o) definition of _inflateSync
ld: warning multiple definitions of symbol _inflateSyncPoint
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(inflate.o) definition of _inflateSyncPoint
/usr/lib/libz.1.dylib(inflate.o) definition of _inflateSyncPoint
ld: warning multiple definitions of symbol _inflate
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(inflate.o) definition of _inflate
/usr/lib/libz.1.dylib(inflate.o) definition of _inflate
ld: warning multiple definitions of symbol _inflateSetDictionary
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(inflate.o) definition of _inflateSetDictionary
/usr/lib/libz.1.dylib(inflate.o) definition of _inflateSetDictionary
ld: warning multiple definitions of symbol _inflateInit2_
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(inflate.o) definition of _inflateInit2_
/usr/lib/libz.1.dylib(inflate.o) definition of _inflateInit2_
ld: warning multiple definitions of symbol _inflateReset
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(inflate.o) definition of _inflateReset
/usr/lib/libz.1.dylib(inflate.o) definition of _inflateReset
ld: warning multiple definitions of symbol _inflateInit_
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(inflate.o) definition of _inflateInit_
/usr/lib/libz.1.dylib(inflate.o) definition of _inflateInit_
ld: warning multiple definitions of symbol _adler32
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(adler32.o) definition of _adler32
/usr/lib/libz.1.dylib(adler32.o) definition of _adler32
ld: warning multiple definitions of symbol _BC
/usr/local/lib/libreadline.4.3.dylib(terminal.so) definition of _BC
/usr/lib/libncurses.5.dylib(lib_termcap.o) definition of _BC
ld: warning multiple definitions of symbol _UP
/usr/local/lib/libreadline.4.3.dylib(terminal.so) definition of _UP
/usr/lib/libncurses.5.dylib(lib_termcap.o) definition of _UP
ld: warning multiple definitions of symbol _PC
/usr/local/lib/libreadline.4.3.dylib(terminal.so) definition of _PC
/usr/lib/libncurses.5.dylib(lib_tputs.o) definition of _PC
ld: warning multiple definitions of symbol _gzeof
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gzeof
/usr/lib/libz.1.dylib(gzio.o) definition of _gzeof
ld: warning multiple definitions of symbol _gzclose
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gzclose
/usr/lib/libz.1.dylib(gzio.o) definition of _gzclose
ld: warning multiple definitions of symbol _gzdopen
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gzdopen
/usr/lib/libz.1.dylib(gzio.o) definition of _gzdopen
ld: warning multiple definitions of symbol _gzerror
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gzerror
/usr/lib/libz.1.dylib(gzio.o) definition of _gzerror
ld: warning multiple definitions of symbol _gzflush
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gzflush
/usr/lib/libz.1.dylib(gzio.o) definition of _gzflush
ld: warning multiple definitions of symbol _gzgetc
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gzgetc
/usr/lib/libz.1.dylib(gzio.o) definition of _gzgetc
ld: warning multiple definitions of symbol _gzgets
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gzgets
/usr/lib/libz.1.dylib(gzio.o) definition of _gzgets
ld: warning multiple definitions of symbol _gzopen
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gzopen
/usr/lib/libz.1.dylib(gzio.o) definition of _gzopen
ld: warning multiple definitions of symbol _gzprintf
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gzprintf
/usr/lib/libz.1.dylib(gzio.o) definition of _gzprintf
ld: warning multiple definitions of symbol _gzputc
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gzputc
/usr/lib/libz.1.dylib(gzio.o) definition of _gzputc
ld: warning multiple definitions of symbol _gzputs
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gzputs
/usr/lib/libz.1.dylib(gzio.o) definition of _gzputs
ld: warning multiple definitions of symbol _gzread
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gzread
/usr/lib/libz.1.dylib(gzio.o) definition of _gzread
ld: warning multiple definitions of symbol _gzrewind
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gzrewind
/usr/lib/libz.1.dylib(gzio.o) definition of _gzrewind
ld: warning multiple definitions of symbol _gzseek
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gzseek
/usr/lib/libz.1.dylib(gzio.o) definition of _gzseek
ld: warning multiple definitions of symbol _gzsetparams
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gzsetparams
/usr/lib/libz.1.dylib(gzio.o) definition of _gzsetparams
ld: warning multiple definitions of symbol _gztell
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gztell
/usr/lib/libz.1.dylib(gzio.o) definition of _gztell
ld: warning multiple definitions of symbol _gzwrite
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
libR.dylib(gzio.o) definition of _gzwrite
/usr/lib/libz.1.dylib(gzio.o) definition of _gzwrite
** R
** inst
** help
  >>> Building/Updating help pages for package 'AnalyzeFMRI'
      Formats: text html latex example
   f.analyze.file.summary            text    html    latex   example
   f.analyzeIO.gui                   text    html    latex
   f.basic.hdr.list.create           text    html    latex   example
   f.ica.fmri                        text    html    latex
   f.ica.fmri.gui                    text    html    latex
   f.plot.ica.fmri                   text    html    latex
   f.plot.ica.fmri.jpg               text    html    latex
   f.read.analyze.header             text    html    latex   example
   f.read.analyze.slice              text    html    latex   example
   f.read.analyze.slice.at.all.timep text    html    latex   example
   f.read.analyze.tpt                text    html    latex   example
   f.read.analyze.ts                 text    html    latex   example
   f.read.analyze.volume             text    html    latex   example
   f.spectral.summary                text    html    latex
   f.write.analyze                   text    html    latex   example
   f.write.array.to.img.2bytes       text    html    latex
   f.write.array.to.img.8bit         text    html    latex
   f.write.array.to.img.float        text    html    latex
   f.write.list.to.hdr               text    html    latex   example
* DONE (AnalyzeFMRI)

Delete downloaded files (y/N)? y

 > library (AnalyzeFMRI)
Error in dyn.load(x, as.logical(local), as.logical(now)) :
         unable to load shared library  
"/Library/Frameworks/R.framework/Versions/1.9.0/Resources/library/ 
AnalyzeFMRI/libs/AnalyzeFMRI.so":
   dlcompat: dyld:  
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/R.bin  
Undefined symbols:
_lsame_
Error in library(AnalyzeFMRI) : .First.lib failed

From stefano.iacus at unimi.it  Fri Feb  6 21:50:48 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Fri Feb  6 21:51:16 2004
Subject: [R-SIG-Mac] Re:  Compiling Analyze FMRI
In-Reply-To: <01452B94-58DC-11D8-95D7-003065D64A1E@psych.colorado.edu>
References: <01452B94-58DC-11D8-95D7-003065D64A1E@psych.colorado.edu>
Message-ID: <24764C0C-58E6-11D8-B5B8-000A95C87F66@unimi.it>

I have exactly the same errors.
It seems to me that the problem is the following.
The configure script does not find SGESVD inside the lapack lib
Then it switches to its own version but there, their is not lsame  
(which is in R!) and I think this is causing troubles.

I've seen there is something in the windows srcs. I'll try to see (or  
better, I'll ask) if a similar approach can be used under OSX.

Will be back on that.
stefano



On Feb 6, 2004, at 8:38 PM, Benjamin Jacobson wrote:

> I am still having the same issues compiling this AnalyzeFMRI library.   
> I created a clean install of both the R-devel.dmg and from a  
> successful build from source of the Jan312004 build of R-devel.  In  
> both cases similar error messages were generated when executing  
> library (AnalyzeFMRI) after a successful install.  Below is the output  
> from one of these attempts.  I am compiling on a G4 installed with  
> both the most updated versions of Panther and Xtools.  Thanks for your  
> time.
>
>
> Ben Jacobson
>
>
> * Installing *source* package 'AnalyzeFMRI' ...
> creating cache ./config.cache
> checking for sgesdd_ in -llapack... no
> could not find SGESVD in your LAPACK library, using our routines
> updating cache ./config.cache
> creating ./config.status
> creating src/Makevars
> ** libs
> gcc -no-cpp-precomp  
> -I/Library/Frameworks/R.framework/Versions/1.9.0/Resources/include   
> -I/usr/local/include  -Wall -pedantic -fno-common  -g -O2 -c  
> analyzeFMRI.c -o analyzeFMRI.o
> g77   -fno-common  -g -O2 -c slapack.f -o slapack.o
> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o  
> AnalyzeFMRI.so analyzeFMRI.o slapack.o -framework vecLib  
> -L/usr/local/lib -L/usr/local/lib/gcc/powerpc-apple-darwin7.0.0/3.4  
> -L/usr/local/lib/gcc/powerpc-apple-darwin7.0.0/3.4/../../.. -lfrtbegin  
> -lg2c -lgcc_s -lSystem  -L/usr/local/lib  
> -L/usr/local/lib/gcc/powerpc-apple-darwin7.0.0/3.4  
> -L/usr/local/lib/gcc/powerpc-apple-darwin7.0.0/3.4/../../.. -lfrtbegin  
> -lg2c -lgcc_s -lSystem -lcc_dynamic  
> -L/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin -lR
> ld: warning multiple definitions of symbol _ilaenv_
> slapack.o definition of _ilaenv_ in section (__TEXT,__text)
> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
> vecLib.framework/Versions/A/libBLAS.dylib(single module) definition of  
> _ilaenv_
> ld: warning multiple definitions of symbol _xerbla_
> analyzeFMRI.o definition of _xerbla_ in section (__TEXT,__text)
> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
> vecLib.framework/Versions/A/libBLAS.dylib(single module) definition of  
> _xerbla_
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(print.lo) definition of _xerbla_
> ld: warning multiple definitions of symbol _crc32
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(crc32.o) definition of _crc32
> /usr/lib/libz.1.dylib(crc32.o) definition of _crc32
> ld: warning multiple definitions of symbol _get_crc_table
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(crc32.o) definition of _get_crc_table
> /usr/lib/libz.1.dylib(crc32.o) definition of _get_crc_table
> ld: warning multiple definitions of symbol _deflate
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(deflate.o) definition of _deflate
> /usr/lib/libz.1.dylib(deflate.o) definition of _deflate
> ld: warning multiple definitions of symbol _deflateCopy
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(deflate.o) definition of _deflateCopy
> /usr/lib/libz.1.dylib(deflate.o) definition of _deflateCopy
> ld: warning multiple definitions of symbol _deflateReset
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(deflate.o) definition of _deflateReset
> /usr/lib/libz.1.dylib(deflate.o) definition of _deflateReset
> ld: warning multiple definitions of symbol _deflateSetDictionary
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(deflate.o) definition of _deflateSetDictionary
> /usr/lib/libz.1.dylib(deflate.o) definition of _deflateSetDictionary
> ld: warning multiple definitions of symbol _deflateInit2_
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(deflate.o) definition of _deflateInit2_
> /usr/lib/libz.1.dylib(deflate.o) definition of _deflateInit2_
> ld: warning multiple definitions of symbol _deflateEnd
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(deflate.o) definition of _deflateEnd
> /usr/lib/libz.1.dylib(deflate.o) definition of _deflateEnd
> ld: warning multiple definitions of symbol _deflateParams
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(deflate.o) definition of _deflateParams
> /usr/lib/libz.1.dylib(deflate.o) definition of _deflateParams
> ld: warning multiple definitions of symbol _deflateInit_
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(deflate.o) definition of _deflateInit_
> /usr/lib/libz.1.dylib(deflate.o) definition of _deflateInit_
> ld: warning multiple definitions of symbol _zError
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(zutil.o) definition of _zError
> /usr/lib/libz.1.dylib(zutil.o) definition of _zError
> ld: warning multiple definitions of symbol _zlibVersion
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(zutil.o) definition of _zlibVersion
> /usr/lib/libz.1.dylib(zutil.o) definition of _zlibVersion
> ld: warning multiple definitions of symbol _inflateEnd
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(inflate.o) definition of _inflateEnd
> /usr/lib/libz.1.dylib(inflate.o) definition of _inflateEnd
> ld: warning multiple definitions of symbol _inflateSync
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(inflate.o) definition of _inflateSync
> /usr/lib/libz.1.dylib(inflate.o) definition of _inflateSync
> ld: warning multiple definitions of symbol _inflateSyncPoint
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(inflate.o) definition of _inflateSyncPoint
> /usr/lib/libz.1.dylib(inflate.o) definition of _inflateSyncPoint
> ld: warning multiple definitions of symbol _inflate
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(inflate.o) definition of _inflate
> /usr/lib/libz.1.dylib(inflate.o) definition of _inflate
> ld: warning multiple definitions of symbol _inflateSetDictionary
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(inflate.o) definition of _inflateSetDictionary
> /usr/lib/libz.1.dylib(inflate.o) definition of _inflateSetDictionary
> ld: warning multiple definitions of symbol _inflateInit2_
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(inflate.o) definition of _inflateInit2_
> /usr/lib/libz.1.dylib(inflate.o) definition of _inflateInit2_
> ld: warning multiple definitions of symbol _inflateReset
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(inflate.o) definition of _inflateReset
> /usr/lib/libz.1.dylib(inflate.o) definition of _inflateReset
> ld: warning multiple definitions of symbol _inflateInit_
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(inflate.o) definition of _inflateInit_
> /usr/lib/libz.1.dylib(inflate.o) definition of _inflateInit_
> ld: warning multiple definitions of symbol _adler32
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(adler32.o) definition of _adler32
> /usr/lib/libz.1.dylib(adler32.o) definition of _adler32
> ld: warning multiple definitions of symbol _BC
> /usr/local/lib/libreadline.4.3.dylib(terminal.so) definition of _BC
> /usr/lib/libncurses.5.dylib(lib_termcap.o) definition of _BC
> ld: warning multiple definitions of symbol _UP
> /usr/local/lib/libreadline.4.3.dylib(terminal.so) definition of _UP
> /usr/lib/libncurses.5.dylib(lib_termcap.o) definition of _UP
> ld: warning multiple definitions of symbol _PC
> /usr/local/lib/libreadline.4.3.dylib(terminal.so) definition of _PC
> /usr/lib/libncurses.5.dylib(lib_tputs.o) definition of _PC
> ld: warning multiple definitions of symbol _gzeof
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzeof
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzeof
> ld: warning multiple definitions of symbol _gzclose
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzclose
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzclose
> ld: warning multiple definitions of symbol _gzdopen
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzdopen
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzdopen
> ld: warning multiple definitions of symbol _gzerror
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzerror
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzerror
> ld: warning multiple definitions of symbol _gzflush
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzflush
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzflush
> ld: warning multiple definitions of symbol _gzgetc
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzgetc
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzgetc
> ld: warning multiple definitions of symbol _gzgets
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzgets
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzgets
> ld: warning multiple definitions of symbol _gzopen
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzopen
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzopen
> ld: warning multiple definitions of symbol _gzprintf
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzprintf
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzprintf
> ld: warning multiple definitions of symbol _gzputc
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzputc
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzputc
> ld: warning multiple definitions of symbol _gzputs
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzputs
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzputs
> ld: warning multiple definitions of symbol _gzread
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzread
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzread
> ld: warning multiple definitions of symbol _gzrewind
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzrewind
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzrewind
> ld: warning multiple definitions of symbol _gzseek
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzseek
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzseek
> ld: warning multiple definitions of symbol _gzsetparams
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzsetparams
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzsetparams
> ld: warning multiple definitions of symbol _gztell
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gztell
> /usr/lib/libz.1.dylib(gzio.o) definition of _gztell
> ld: warning multiple definitions of symbol _gzwrite
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzwrite
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzwrite
> ** R
> ** inst
> ** help
>  >>> Building/Updating help pages for package 'AnalyzeFMRI'
>      Formats: text html latex example
>   f.analyze.file.summary            text    html    latex   example
>   f.analyzeIO.gui                   text    html    latex
>   f.basic.hdr.list.create           text    html    latex   example
>   f.ica.fmri                        text    html    latex
>   f.ica.fmri.gui                    text    html    latex
>   f.plot.ica.fmri                   text    html    latex
>   f.plot.ica.fmri.jpg               text    html    latex
>   f.read.analyze.header             text    html    latex   example
>   f.read.analyze.slice              text    html    latex   example
>   f.read.analyze.slice.at.all.timep text    html    latex   example
>   f.read.analyze.tpt                text    html    latex   example
>   f.read.analyze.ts                 text    html    latex   example
>   f.read.analyze.volume             text    html    latex   example
>   f.spectral.summary                text    html    latex
>   f.write.analyze                   text    html    latex   example
>   f.write.array.to.img.2bytes       text    html    latex
>   f.write.array.to.img.8bit         text    html    latex
>   f.write.array.to.img.float        text    html    latex
>   f.write.list.to.hdr               text    html    latex   example
> * DONE (AnalyzeFMRI)
>
> Delete downloaded files (y/N)? y
>
> > library (AnalyzeFMRI)
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library  
> "/Library/Frameworks/R.framework/Versions/1.9.0/Resources/library/ 
> AnalyzeFMRI/libs/AnalyzeFMRI.so":
>   dlcompat: dyld:  
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/R.bin  
> Undefined symbols:
> _lsame_
> Error in library(AnalyzeFMRI) : .First.lib failed
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>

From jago at mclink.it  Fri Feb  6 22:58:25 2004
From: jago at mclink.it (stefano iacus)
Date: Fri Feb  6 22:58:53 2004
Subject: [R-SIG-Mac] Re:  Compiling Analyze FMRI
In-Reply-To: <01452B94-58DC-11D8-95D7-003065D64A1E@psych.colorado.edu>
References: <01452B94-58DC-11D8-95D7-003065D64A1E@psych.colorado.edu>
Message-ID: <9674B0DA-58EF-11D8-B5B8-000A95C87F66@mclink.it>

 From inside the AnalyzeFMRI package: by copying the code of LSAME from  
src/sblas.unused in the file src/slapack.f fixes the problem and R is  
happy with this.

I don't know yet a better solution.

stefano


On Feb 6, 2004, at 8:38 PM, Benjamin Jacobson wrote:

> I am still having the same issues compiling this AnalyzeFMRI library.   
> I created a clean install of both the R-devel.dmg and from a  
> successful build from source of the Jan312004 build of R-devel.  In  
> both cases similar error messages were generated when executing  
> library (AnalyzeFMRI) after a successful install.  Below is the output  
> from one of these attempts.  I am compiling on a G4 installed with  
> both the most updated versions of Panther and Xtools.  Thanks for your  
> time.
>
>
> Ben Jacobson
>
>
> * Installing *source* package 'AnalyzeFMRI' ...
> creating cache ./config.cache
> checking for sgesdd_ in -llapack... no
> could not find SGESVD in your LAPACK library, using our routines
> updating cache ./config.cache
> creating ./config.status
> creating src/Makevars
> ** libs
> gcc -no-cpp-precomp  
> -I/Library/Frameworks/R.framework/Versions/1.9.0/Resources/include   
> -I/usr/local/include  -Wall -pedantic -fno-common  -g -O2 -c  
> analyzeFMRI.c -o analyzeFMRI.o
> g77   -fno-common  -g -O2 -c slapack.f -o slapack.o
> gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o  
> AnalyzeFMRI.so analyzeFMRI.o slapack.o -framework vecLib  
> -L/usr/local/lib -L/usr/local/lib/gcc/powerpc-apple-darwin7.0.0/3.4  
> -L/usr/local/lib/gcc/powerpc-apple-darwin7.0.0/3.4/../../.. -lfrtbegin  
> -lg2c -lgcc_s -lSystem  -L/usr/local/lib  
> -L/usr/local/lib/gcc/powerpc-apple-darwin7.0.0/3.4  
> -L/usr/local/lib/gcc/powerpc-apple-darwin7.0.0/3.4/../../.. -lfrtbegin  
> -lg2c -lgcc_s -lSystem -lcc_dynamic  
> -L/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin -lR
> ld: warning multiple definitions of symbol _ilaenv_
> slapack.o definition of _ilaenv_ in section (__TEXT,__text)
> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
> vecLib.framework/Versions/A/libBLAS.dylib(single module) definition of  
> _ilaenv_
> ld: warning multiple definitions of symbol _xerbla_
> analyzeFMRI.o definition of _xerbla_ in section (__TEXT,__text)
> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
> vecLib.framework/Versions/A/libBLAS.dylib(single module) definition of  
> _xerbla_
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(print.lo) definition of _xerbla_
> ld: warning multiple definitions of symbol _crc32
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(crc32.o) definition of _crc32
> /usr/lib/libz.1.dylib(crc32.o) definition of _crc32
> ld: warning multiple definitions of symbol _get_crc_table
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(crc32.o) definition of _get_crc_table
> /usr/lib/libz.1.dylib(crc32.o) definition of _get_crc_table
> ld: warning multiple definitions of symbol _deflate
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(deflate.o) definition of _deflate
> /usr/lib/libz.1.dylib(deflate.o) definition of _deflate
> ld: warning multiple definitions of symbol _deflateCopy
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(deflate.o) definition of _deflateCopy
> /usr/lib/libz.1.dylib(deflate.o) definition of _deflateCopy
> ld: warning multiple definitions of symbol _deflateReset
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(deflate.o) definition of _deflateReset
> /usr/lib/libz.1.dylib(deflate.o) definition of _deflateReset
> ld: warning multiple definitions of symbol _deflateSetDictionary
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(deflate.o) definition of _deflateSetDictionary
> /usr/lib/libz.1.dylib(deflate.o) definition of _deflateSetDictionary
> ld: warning multiple definitions of symbol _deflateInit2_
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(deflate.o) definition of _deflateInit2_
> /usr/lib/libz.1.dylib(deflate.o) definition of _deflateInit2_
> ld: warning multiple definitions of symbol _deflateEnd
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(deflate.o) definition of _deflateEnd
> /usr/lib/libz.1.dylib(deflate.o) definition of _deflateEnd
> ld: warning multiple definitions of symbol _deflateParams
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(deflate.o) definition of _deflateParams
> /usr/lib/libz.1.dylib(deflate.o) definition of _deflateParams
> ld: warning multiple definitions of symbol _deflateInit_
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(deflate.o) definition of _deflateInit_
> /usr/lib/libz.1.dylib(deflate.o) definition of _deflateInit_
> ld: warning multiple definitions of symbol _zError
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(zutil.o) definition of _zError
> /usr/lib/libz.1.dylib(zutil.o) definition of _zError
> ld: warning multiple definitions of symbol _zlibVersion
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(zutil.o) definition of _zlibVersion
> /usr/lib/libz.1.dylib(zutil.o) definition of _zlibVersion
> ld: warning multiple definitions of symbol _inflateEnd
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(inflate.o) definition of _inflateEnd
> /usr/lib/libz.1.dylib(inflate.o) definition of _inflateEnd
> ld: warning multiple definitions of symbol _inflateSync
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(inflate.o) definition of _inflateSync
> /usr/lib/libz.1.dylib(inflate.o) definition of _inflateSync
> ld: warning multiple definitions of symbol _inflateSyncPoint
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(inflate.o) definition of _inflateSyncPoint
> /usr/lib/libz.1.dylib(inflate.o) definition of _inflateSyncPoint
> ld: warning multiple definitions of symbol _inflate
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(inflate.o) definition of _inflate
> /usr/lib/libz.1.dylib(inflate.o) definition of _inflate
> ld: warning multiple definitions of symbol _inflateSetDictionary
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(inflate.o) definition of _inflateSetDictionary
> /usr/lib/libz.1.dylib(inflate.o) definition of _inflateSetDictionary
> ld: warning multiple definitions of symbol _inflateInit2_
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(inflate.o) definition of _inflateInit2_
> /usr/lib/libz.1.dylib(inflate.o) definition of _inflateInit2_
> ld: warning multiple definitions of symbol _inflateReset
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(inflate.o) definition of _inflateReset
> /usr/lib/libz.1.dylib(inflate.o) definition of _inflateReset
> ld: warning multiple definitions of symbol _inflateInit_
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(inflate.o) definition of _inflateInit_
> /usr/lib/libz.1.dylib(inflate.o) definition of _inflateInit_
> ld: warning multiple definitions of symbol _adler32
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(adler32.o) definition of _adler32
> /usr/lib/libz.1.dylib(adler32.o) definition of _adler32
> ld: warning multiple definitions of symbol _BC
> /usr/local/lib/libreadline.4.3.dylib(terminal.so) definition of _BC
> /usr/lib/libncurses.5.dylib(lib_termcap.o) definition of _BC
> ld: warning multiple definitions of symbol _UP
> /usr/local/lib/libreadline.4.3.dylib(terminal.so) definition of _UP
> /usr/lib/libncurses.5.dylib(lib_termcap.o) definition of _UP
> ld: warning multiple definitions of symbol _PC
> /usr/local/lib/libreadline.4.3.dylib(terminal.so) definition of _PC
> /usr/lib/libncurses.5.dylib(lib_tputs.o) definition of _PC
> ld: warning multiple definitions of symbol _gzeof
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzeof
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzeof
> ld: warning multiple definitions of symbol _gzclose
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzclose
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzclose
> ld: warning multiple definitions of symbol _gzdopen
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzdopen
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzdopen
> ld: warning multiple definitions of symbol _gzerror
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzerror
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzerror
> ld: warning multiple definitions of symbol _gzflush
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzflush
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzflush
> ld: warning multiple definitions of symbol _gzgetc
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzgetc
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzgetc
> ld: warning multiple definitions of symbol _gzgets
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzgets
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzgets
> ld: warning multiple definitions of symbol _gzopen
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzopen
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzopen
> ld: warning multiple definitions of symbol _gzprintf
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzprintf
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzprintf
> ld: warning multiple definitions of symbol _gzputc
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzputc
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzputc
> ld: warning multiple definitions of symbol _gzputs
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzputs
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzputs
> ld: warning multiple definitions of symbol _gzread
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzread
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzread
> ld: warning multiple definitions of symbol _gzrewind
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzrewind
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzrewind
> ld: warning multiple definitions of symbol _gzseek
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzseek
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzseek
> ld: warning multiple definitions of symbol _gzsetparams
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzsetparams
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzsetparams
> ld: warning multiple definitions of symbol _gztell
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gztell
> /usr/lib/libz.1.dylib(gzio.o) definition of _gztell
> ld: warning multiple definitions of symbol _gzwrite
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/ 
> libR.dylib(gzio.o) definition of _gzwrite
> /usr/lib/libz.1.dylib(gzio.o) definition of _gzwrite
> ** R
> ** inst
> ** help
>  >>> Building/Updating help pages for package 'AnalyzeFMRI'
>      Formats: text html latex example
>   f.analyze.file.summary            text    html    latex   example
>   f.analyzeIO.gui                   text    html    latex
>   f.basic.hdr.list.create           text    html    latex   example
>   f.ica.fmri                        text    html    latex
>   f.ica.fmri.gui                    text    html    latex
>   f.plot.ica.fmri                   text    html    latex
>   f.plot.ica.fmri.jpg               text    html    latex
>   f.read.analyze.header             text    html    latex   example
>   f.read.analyze.slice              text    html    latex   example
>   f.read.analyze.slice.at.all.timep text    html    latex   example
>   f.read.analyze.tpt                text    html    latex   example
>   f.read.analyze.ts                 text    html    latex   example
>   f.read.analyze.volume             text    html    latex   example
>   f.spectral.summary                text    html    latex
>   f.write.analyze                   text    html    latex   example
>   f.write.array.to.img.2bytes       text    html    latex
>   f.write.array.to.img.8bit         text    html    latex
>   f.write.array.to.img.float        text    html    latex
>   f.write.list.to.hdr               text    html    latex   example
> * DONE (AnalyzeFMRI)
>
> Delete downloaded files (y/N)? y
>
> > library (AnalyzeFMRI)
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>         unable to load shared library  
> "/Library/Frameworks/R.framework/Versions/1.9.0/Resources/library/ 
> AnalyzeFMRI/libs/AnalyzeFMRI.so":
>   dlcompat: dyld:  
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin/R.bin  
> Undefined symbols:
> _lsame_
> Error in library(AnalyzeFMRI) : .First.lib failed
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>

From jthioulouse at biomserv.univ-lyon1.fr  Mon Feb 16 22:34:54 2004
From: jthioulouse at biomserv.univ-lyon1.fr (Jean Thioulouse)
Date: Mon Feb 16 22:44:24 2004
Subject: [R-SIG-Mac] Problem compiling r-devel/ Mac
Message-ID: <p06002000bc56e5ef2232@[10.0.1.5]>

Hello,

I have the following problem compiling on Panther:

building package 'eda'
../../../library/eda/R/eda is unchanged
../../../library/eda/man/eda.Rd is unchanged
config.status: error: invalid argument: src/library/eda/src/Makefile
make[4]: *** [Makefile] Error 1
make[3]: *** [all] Error 1
make[2]: *** [R] Error 1
make[1]: *** [R] Error 1
make: *** [R] Error 1

I think I did everything as explained in the RAqua developer page.
What can be wrong ?

Thank you
Jean

-- 
Jean Thioulouse - Laboratoire de Biometrie et Biologie Evolutive
Universite Lyon 1 - Bat  711 - 69622 Villeurbanne Cedex - France
Fax: (33) 4 78 89 27 19              Tel/Fax: (33) 4 72 43 27 56
          http://pbil.univ-lyon1.fr/ADE-4/JTHome.html

From deleeuw at stat.ucla.edu  Tue Feb 17 08:55:37 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Tue Feb 17 08:55:55 2004
Subject: [R-SIG-Mac] Rpy-0.3.4 on OS X (10.3.3)
Message-ID: <AC6EB467-611E-11D8-A24B-000A95A67E82@stat.ucla.edu>

Compiles fine, with the usual caveats. gcc on OS X does not know the
-shared flag, so that generates warnings. And then there are many
multiple defined symbols, which prevent the final link of rpy.so. Most
of them occur in different Rpy files, but setenv is both in setenv.so
and in libSystem.dylib. The correct solution is to turn some definitions
into mere declarations by using extern, but the standard hack is to
add -Xlinker -m to the link. This turns all multiple definitions errors
into warnings, and it uses the first definition found by ld.

Otherwise Rpy works fine, from Python Interactive, from IDLE, from
PyShell and PyCrust, and so on, using both the Quartz and X11
graphics devices.

http://gifi.stat.ucla.edu/pub

A large package containing R-devel (with 425 packages), Rpy, MacPython
(lots of add-ons too) as well as Aqua/X11 versions of Tcl/Tk, and Aqua
versions of wxWindows, Qt, and GTK-OSX. Moreover there are R
interfaces to X11 Tcl/Tk and GTK-OSX and Python interfaces to
all the native toolkits (including Cocoa). There are also X11 and
Aqua versions of GNU Emacs included.

===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From deleeuw at stat.ucla.edu  Tue Feb 17 18:16:48 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Tue Feb 17 18:17:13 2004
Subject: [R-SIG-Mac] Re: [Rpy] Rpy-0.3.4 on OS X (10.3.3)
In-Reply-To: <D7A3CFD7825BD6119B880002A58F06C20680AEF6@groexmb02.pfizer.com>
References: <D7A3CFD7825BD6119B880002A58F06C20680AEF6@groexmb02.pfizer.com>
Message-ID: <1205EA69-616D-11D8-9DC3-000A95A67E82@stat.ucla.edu>

Now compiles cleanly (no more multiply defined symbols) but the
final link goes astray. It says

gcc -Wl,-F. -Wl,-F. -bundle -framework Python  
build/temp.darwin-7.2.1-Power_Macintosh-2.3/src/rpymodule.o  
build/temp.darwin-7.2.1-Power_Macintosh-2.3/src/R_eval.o  
build/temp.darwin-7.2.1-Power_Macintosh-2.3/src/io.o  
-L/Library/Frameworks/R.framework/Versions/1.9.0/Resources/Frameworks  
-L/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin -lR -o  
build/lib.darwin-7.2.1-Power_Macintosh-2.3/_rpy.so

and there is no such thing as   
/Library/Frameworks/R.framework/Versions/1.9.0/Resources/Frameworks  
(fortunately).

Also

ld: Undefined symbols:
_R_interact
_my_interp
_python_sigint
_rpy
_rpy_dict


On Feb 17, 2004, at 7:44, Warnes, Gregory R wrote:

> Wonderful Jan!
>
> I've been working with Christopher Fonnesbeck [chris@fonnesbeck.org]  
> to get
> rpy to build cleanly on OS X, so your information is timely.
>
> I had already checked into CVS changes to make the infringing  
> definitions in
> the header files 'extern' with a single definition within one .C file.  
>  I've
> now added the linker flags you suggested.
>
> If you have a moment, could you check to see if the CVS version  
> compiles
> cleanly now?
>
> To get it via anonymous CVS do:
>
> cvs -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/rpy login
> cvs -z3 -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/rpy rpy
>
> Thanks!
>
> -Greg
>
>
>> -----Original Message-----
>> From: Jan de Leeuw [mailto:deleeuw@stat.ucla.edu]
>> Sent: Tuesday, February 17, 2004 2:56 AM
>> To: rpy-list@lists.sourceforge.net
>> Cc: R-SIG-Mac
>> Subject: [Rpy] Rpy-0.3.4 on OS X (10.3.3)
>>
>>
>> Compiles fine, with the usual caveats. gcc on OS X does not know the
>> -shared flag, so that generates warnings. And then there are many
>> multiple defined symbols, which prevent the final link of rpy.so. Most
>> of them occur in different Rpy files, but setenv is both in setenv.so
>> and in libSystem.dylib. The correct solution is to turn some
>> definitions
>> into mere declarations by using extern, but the standard hack is to
>> add -Xlinker -m to the link. This turns all multiple
>> definitions errors
>> into warnings, and it uses the first definition found by ld.
>
>
>
> LEGAL NOTICE
> Unless expressly stated otherwise, this message is confidential and  
> may be privileged. It is intended for the addressee(s) only. Access to  
> this E-mail by anyone else is unauthorized. If you are not an  
> addressee, any disclosure or copying of the contents of this E-mail or  
> any action taken (or not taken) in reliance on it is unauthorized and  
> may be unlawful. If you are not an addressee, please inform the sender  
> immediately.
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From deleeuw at stat.ucla.edu  Tue Feb 17 18:26:11 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Tue Feb 17 18:26:29 2004
Subject: [R-SIG-Mac] Re: [Rpy] Rpy-0.3.4 on OS X (10.3.3)
In-Reply-To: <D7A3CFD7825BD6119B880002A58F06C20680AEF6@groexmb02.pfizer.com>
References: <D7A3CFD7825BD6119B880002A58F06C20680AEF6@groexmb02.pfizer.com>
Message-ID: <61658E20-616E-11D8-9DC3-000A95A67E82@stat.ucla.edu>

I would not add -Xlinker -m to the setup. Apple advises strongly
against it, because it is unclear you want the first definition in the
link. Using 'extern' is the way to go. Also -dynamic is the default
for gcc.

On Feb 17, 2004, at 7:44, Warnes, Gregory R wrote:

> I had already checked into CVS changes to make the infringing  
> definitions in
> the header files 'extern' with a single definition within one .C file.  
>  I've
> now added the linker flags you suggested.
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From stefano.iacus at unimi.it  Tue Feb 17 22:26:04 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Tue Feb 17 22:26:46 2004
Subject: [R-SIG-Mac] Re: [Rpy] Rpy-0.3.4 on OS X (10.3.3)
In-Reply-To: <1205EA69-616D-11D8-9DC3-000A95A67E82@stat.ucla.edu>
References: <D7A3CFD7825BD6119B880002A58F06C20680AEF6@groexmb02.pfizer.com>
	<1205EA69-616D-11D8-9DC3-000A95A67E82@stat.ucla.edu>
Message-ID: <E463AFAA-618F-11D8-A1DC-000A95C87F66@unimi.it>

We are about to change (in few days after some tries) the SHLIB script  
for R built and installed ad R.framework.
The default header path flag would be  
-I@R_FRAMEWORK_DIR@/R.framework/Headers and all of this
where the default for @R_FRAMEWORK_DIR@ is /Library/Frameworks

> -L/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin -lR

will be replaced by -framework R

I hope to be back on this with you soon.

stefano

On Feb 17, 2004, at 6:16 PM, Jan de Leeuw wrote:

> Now compiles cleanly (no more multiply defined symbols) but the
> final link goes astray. It says
>
> gcc -Wl,-F. -Wl,-F. -bundle -framework Python  
> build/temp.darwin-7.2.1-Power_Macintosh-2.3/src/rpymodule.o  
> build/temp.darwin-7.2.1-Power_Macintosh-2.3/src/R_eval.o  
> build/temp.darwin-7.2.1-Power_Macintosh-2.3/src/io.o  
> -L/Library/Frameworks/R.framework/Versions/1.9.0/Resources/Frameworks  
> -L/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin -lR -o  
> build/lib.darwin-7.2.1-Power_Macintosh-2.3/_rpy.so
>
> and there is no such thing as   
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/Frameworks  
> (fortunately).
>
> Also
>
> ld: Undefined symbols:
> _R_interact
> _my_interp
> _python_sigint
> _rpy
> _rpy_dict
>
>
> On Feb 17, 2004, at 7:44, Warnes, Gregory R wrote:
>
>> Wonderful Jan!
>>
>> I've been working with Christopher Fonnesbeck [chris@fonnesbeck.org]  
>> to get
>> rpy to build cleanly on OS X, so your information is timely.
>>
>> I had already checked into CVS changes to make the infringing  
>> definitions in
>> the header files 'extern' with a single definition within one .C  
>> file.  I've
>> now added the linker flags you suggested.
>>
>> If you have a moment, could you check to see if the CVS version  
>> compiles
>> cleanly now?
>>
>> To get it via anonymous CVS do:
>>
>> cvs -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/rpy login
>> cvs -z3 -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/rpy rpy
>>
>> Thanks!
>>
>> -Greg
>>
>>
>>> -----Original Message-----
>>> From: Jan de Leeuw [mailto:deleeuw@stat.ucla.edu]
>>> Sent: Tuesday, February 17, 2004 2:56 AM
>>> To: rpy-list@lists.sourceforge.net
>>> Cc: R-SIG-Mac
>>> Subject: [Rpy] Rpy-0.3.4 on OS X (10.3.3)
>>>
>>>
>>> Compiles fine, with the usual caveats. gcc on OS X does not know the
>>> -shared flag, so that generates warnings. And then there are many
>>> multiple defined symbols, which prevent the final link of rpy.so.  
>>> Most
>>> of them occur in different Rpy files, but setenv is both in setenv.so
>>> and in libSystem.dylib. The correct solution is to turn some
>>> definitions
>>> into mere declarations by using extern, but the standard hack is to
>>> add -Xlinker -m to the link. This turns all multiple
>>> definitions errors
>>> into warnings, and it uses the first definition found by ld.
>>
>>
>>
>> LEGAL NOTICE
>> Unless expressly stated otherwise, this message is confidential and  
>> may be privileged. It is intended for the addressee(s) only. Access  
>> to this E-mail by anyone else is unauthorized. If you are not an  
>> addressee, any disclosure or copying of the contents of this E-mail  
>> or any action taken (or not taken) in reliance on it is unauthorized  
>> and may be unlawful. If you are not an addressee, please inform the  
>> sender immediately.
>>
>>
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA  
> 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email:  
> deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>   
> ----------------------------------------------------------------------- 
> --------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>

From gregory_r_warnes at groton.pfizer.com  Tue Feb 17 16:44:17 2004
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Tue Feb 17 22:48:15 2004
Subject: [R-SIG-Mac] RE: [Rpy] Rpy-0.3.4 on OS X (10.3.3)
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20680AEF6@groexmb02.pfizer.com>

Wonderful Jan!

I've been working with Christopher Fonnesbeck [chris@fonnesbeck.org] to get
rpy to build cleanly on OS X, so your information is timely.

I had already checked into CVS changes to make the infringing definitions in
the header files 'extern' with a single definition within one .C file.  I've
now added the linker flags you suggested.

If you have a moment, could you check to see if the CVS version compiles
cleanly now?  

To get it via anonymous CVS do:

cvs -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/rpy login
cvs -z3 -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/rpy rpy

Thanks!

-Greg


> -----Original Message-----
> From: Jan de Leeuw [mailto:deleeuw@stat.ucla.edu]
> Sent: Tuesday, February 17, 2004 2:56 AM
> To: rpy-list@lists.sourceforge.net
> Cc: R-SIG-Mac
> Subject: [Rpy] Rpy-0.3.4 on OS X (10.3.3)
> 
> 
> Compiles fine, with the usual caveats. gcc on OS X does not know the
> -shared flag, so that generates warnings. And then there are many
> multiple defined symbols, which prevent the final link of rpy.so. Most
> of them occur in different Rpy files, but setenv is both in setenv.so
> and in libSystem.dylib. The correct solution is to turn some 
> definitions
> into mere declarations by using extern, but the standard hack is to
> add -Xlinker -m to the link. This turns all multiple 
> definitions errors
> into warnings, and it uses the first definition found by ld.



LEGAL NOTICE\ Unless expressly stated otherwise, this messag...{{dropped}}

From gregory_r_warnes at groton.pfizer.com  Tue Feb 17 20:11:16 2004
From: gregory_r_warnes at groton.pfizer.com (Warnes, Gregory R)
Date: Tue Feb 17 22:48:23 2004
Subject: [R-SIG-Mac] RE: [Rpy] Rpy-0.3.4 on OS X (10.3.3)
Message-ID: <D7A3CFD7825BD6119B880002A58F06C20680AF02@groexmb02.pfizer.com>


Ok, I think I've fixed the undefined symbols problem.   When I copied the
definitions out of the .h files into the appropriate .c files, I forgot to
remove the 'extern' prefix.  Oops. 

Can you guys try the CVS version again?

-Greg


> -----Original Message-----
> From: Jan de Leeuw [mailto:deleeuw@stat.ucla.edu]
> Sent: Tuesday, February 17, 2004 12:17 PM
> To: Warnes, Gregory R
> Cc: 'Christopher Fonnesbeck'; rpy-list@lists.sourceforge.net; 
> R-SIG-Mac
> Subject: Re: [Rpy] Rpy-0.3.4 on OS X (10.3.3)
> 
> 
> Now compiles cleanly (no more multiply defined symbols) but the
> final link goes astray. It says
> 
> gcc -Wl,-F. -Wl,-F. -bundle -framework Python  
> build/temp.darwin-7.2.1-Power_Macintosh-2.3/src/rpymodule.o  
> build/temp.darwin-7.2.1-Power_Macintosh-2.3/src/R_eval.o  
> build/temp.darwin-7.2.1-Power_Macintosh-2.3/src/io.o  
> -L/Library/Frameworks/R.framework/Versions/1.9.0/Resources/Fra
> meworks  
> -L/Library/Frameworks/R.framework/Versions/1.9.0/Resources/bin
>  -lR -o  
> build/lib.darwin-7.2.1-Power_Macintosh-2.3/_rpy.so
> 
> and there is no such thing as   
> /Library/Frameworks/R.framework/Versions/1.9.0/Resources/Frameworks  
> (fortunately).
> 
> Also
> 
> ld: Undefined symbols:
> _R_interact
> _my_interp
> _python_sigint
> _rpy
> _rpy_dict
> 
> 
> On Feb 17, 2004, at 7:44, Warnes, Gregory R wrote:
> 
> > Wonderful Jan!
> >
> > I've been working with Christopher Fonnesbeck 
> [chris@fonnesbeck.org]  
> > to get
> > rpy to build cleanly on OS X, so your information is timely.
> >
> > I had already checked into CVS changes to make the infringing  
> > definitions in
> > the header files 'extern' with a single definition within 
> one .C file.  
> >  I've
> > now added the linker flags you suggested.
> >
> > If you have a moment, could you check to see if the CVS version  
> > compiles
> > cleanly now?
> >
> > To get it via anonymous CVS do:
> >
> > cvs -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/rpy login
> > cvs -z3 -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/rpy rpy
> >
> > Thanks!
> >
> > -Greg
> >
> >
> >> -----Original Message-----
> >> From: Jan de Leeuw [mailto:deleeuw@stat.ucla.edu]
> >> Sent: Tuesday, February 17, 2004 2:56 AM
> >> To: rpy-list@lists.sourceforge.net
> >> Cc: R-SIG-Mac
> >> Subject: [Rpy] Rpy-0.3.4 on OS X (10.3.3)
> >>
> >>
> >> Compiles fine, with the usual caveats. gcc on OS X does 
> not know the
> >> -shared flag, so that generates warnings. And then there are many
> >> multiple defined symbols, which prevent the final link of 
> rpy.so. Most
> >> of them occur in different Rpy files, but setenv is both 
> in setenv.so
> >> and in libSystem.dylib. The correct solution is to turn some
> >> definitions
> >> into mere declarations by using extern, but the standard hack is to
> >> add -Xlinker -m to the link. This turns all multiple
> >> definitions errors
> >> into warnings, and it uses the first definition found by ld.
> >
> >
> >
> > LEGAL NOTICE
> > Unless expressly stated otherwise, this message is 
> confidential and  
> > may be privileged. It is intended for the addressee(s) 
> only. Access to  
> > this E-mail by anyone else is unauthorized. If you are not an  
> > addressee, any disclosure or copying of the contents of 
> this E-mail or  
> > any action taken (or not taken) in reliance on it is 
> unauthorized and  
> > may be unlawful. If you are not an addressee, please inform 
> the sender  
> > immediately.
> >
> >
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 
> 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: 
> deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>    
> --------------------------------------------------------------
> ---------- 
> -------------------------
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>    
> --------------------------------------------------------------
> ---------- 
> -------------------------
> 
>

From tlumley at u.washington.edu  Tue Feb 17 22:55:03 2004
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue Feb 17 22:55:33 2004
Subject: [R-SIG-Mac] Re: [Rpy] Rpy-0.3.4 on OS X (10.3.3)
In-Reply-To: <61658E20-616E-11D8-9DC3-000A95A67E82@stat.ucla.edu>
References: <D7A3CFD7825BD6119B880002A58F06C20680AEF6@groexmb02.pfizer.com>
	<61658E20-616E-11D8-9DC3-000A95A67E82@stat.ucla.edu>
Message-ID: <Pine.A41.4.58.0402171352290.55412@homer34.u.washington.edu>

On Tue, 17 Feb 2004, Jan de Leeuw wrote:

> I would not add -Xlinker -m to the setup. Apple advises strongly
> against it, because it is unclear you want the first definition in the
> link. Using 'extern' is the way to go. Also -dynamic is the default
> for gcc.

In general Apple is right -- it is unclear that you want the first
definition, because they could be definitions of different symbols that
just happen to use the same name. However, if the code is correct on other
Unices (which collapse all the definitions into a single storage location)
it can't matter which one is used.

	-thomas




>
> On Feb 17, 2004, at 7:44, Warnes, Gregory R wrote:
>
> > I had already checked into CVS changes to make the infringing
> > definitions in
> > the header files 'extern' with a single definition within one .C file.
> >  I've
> > now added the linker flags you suggested.
> >
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical
> Software
> US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>
> ------------------------------------------------------------------------
> -------------------------
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>

Thomas Lumley			Assoc. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle

From deleeuw at stat.ucla.edu  Fri Feb 20 20:07:55 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Fri Feb 20 20:09:43 2004
Subject: [R-SIG-Mac] R-framework on Gifi updated
Message-ID: <16AF3CB9-63D8-11D8-8DB6-000393BB6D36@stat.ucla.edu>

http://gifi.stat.ucla.edu/pub

The 02/20/04 version updates R-devel to the 02/18/04 CVS version and
updates the CRAN and Bioconductor packages. There are also new versions  
of X11 Tcl/Tk,
and of both the X11 and Carbon Emacs. I have updated (with some  
tweaking) the Lindsey and Lindsey packages.
New CRAN and Bioconductor packages are added, so that the total is now  
over 430 packages.

The newly added packages include ncdf and udunits, which are both  
compiled using static libraries, and Rgraphviz, which is
linked with the dynamic dotneato. Included are both RGtk and gtkDevice,  
which both are compiled using the
native GTK-OSX, but which do not work yet because they assume that any  
non-Windows system must be X11.

Rpy is updated to 0.3.4. RSOAP is included, so are VTK and MayaVi (with  
Python and Tcl wrappings).

The compressed package is now 366MB.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From deleeuw at stat.ucla.edu  Sat Feb 21 23:16:08 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Sat Feb 21 23:16:33 2004
Subject: [R-SIG-Mac] GUI from Terminal.app
Message-ID: <8C6AE987-64BB-11D8-B592-000A95A67E82@stat.ucla.edu>

If you start R from the terminal and then do non-X11 graphics, you
get SetFrontProcess errors. For instance, I have a version of R
configured without x11 and with the Aqua version of tcl/tk. If
I start this, load tcltk, and do tkStartGUI() I cannot bring the window
to the front, because clicking it gives SetFrontProcess errors.

There is, however, a simple way to fix this. Make a copy of R.bin,
call it RGUI, then say

/Developer/Tools/Rez -t APPL Carbon.r -o RGUI

and change the name of the R binary in the R startup script from R.bin
to RGUI. Then this R will give a tkStartGUI window that you
can interact with. The same is true for the tk demos, which
now have nice aqua windows you can interact with.

Also, starting quartz() and interacting with the quartz device works  
fine,
and demos such as tkdensity now display two nicely interacting
aqua windows. Also, you get a working version of Rcmdr in this way.
Thus you have a version of RAqua which does not use the RAqua
GUI but only the terminal. And we have a seemingly reliable way to
use Aqua tcl/tk (and get rid of all of X11). It does not cost anything  
to add the
Rez command above to the Makefile, and the benefits are huge. There
does not seem to be a need to warn if quartz() is started from the
terminal.

Remains the fact that I have been looking for this solution for two  
years
and it turns out to be this simple. Must be pretty well hidden. Observe
the Rez command gives RGUI a resource fork and metafile info, also
observe this would not work with Cocoa.

===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From deleeuw at stat.ucla.edu  Sat Feb 21 23:28:58 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Sat Feb 21 23:29:07 2004
Subject: [R-SIG-Mac] GUI from Terminal.app
In-Reply-To: <8C6AE987-64BB-11D8-B592-000A95A67E82@stat.ucla.edu>
References: <8C6AE987-64BB-11D8-B592-000A95A67E82@stat.ucla.edu>
Message-ID: <576C43D8-64BD-11D8-BB91-000A95A67E82@stat.ucla.edu>

I was slightly too optimistic. If RGUI is started then .Device
is the null device. If you say quartz() then you cannot
interact with the graphics window (probably related to the quartz
device warning). If you now say library(tcltk) the device
is set to quartz and the window comes alive. If the
first thing you say is library(tcltk), then the device is
automatically set to quartz, and subsequent calls to
quartz() are fine.


On Feb 21, 2004, at 14:16, Jan de Leeuw wrote:

> If you start R from the terminal and then do non-X11 graphics, you
> get SetFrontProcess errors. For instance, I have a version of R
> configured without x11 and with the Aqua version of tcl/tk. If
> I start this, load tcltk, and do tkStartGUI() I cannot bring the window
> to the front, because clicking it gives SetFrontProcess errors.
>
> There is, however, a simple way to fix this. Make a copy of R.bin,
> call it RGUI, then say
>
> /Developer/Tools/Rez -t APPL Carbon.r -o RGUI
>
> and change the name of the R binary in the R startup script from R.bin
> to RGUI. Then this R will give a tkStartGUI window that you
> can interact with. The same is true for the tk demos, which
> now have nice aqua windows you can interact with.
>
> Also, starting quartz() and interacting with the quartz device works  
> fine,
> and demos such as tkdensity now display two nicely interacting
> aqua windows. Also, you get a working version of Rcmdr in this way.
> Thus you have a version of RAqua which does not use the RAqua
> GUI but only the terminal. And we have a seemingly reliable way to
> use Aqua tcl/tk (and get rid of all of X11). It does not cost anything  
> to add the
> Rez command above to the Makefile, and the benefits are huge. There
> does not seem to be a need to warn if quartz() is started from the
> terminal.
>
> Remains the fact that I have been looking for this solution for two  
> years
> and it turns out to be this simple. Must be pretty well hidden. Observe
> the Rez command gives RGUI a resource fork and metafile info, also
> observe this would not work with Cocoa.
>
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA  
> 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email:  
> deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>   
> ----------------------------------------------------------------------- 
> --------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From deleeuw at stat.ucla.edu  Sun Feb 22 07:56:43 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Sun Feb 22 07:56:54 2004
Subject: [R-SIG-Mac] R with graphics from command line
Message-ID: <46192C86-6504-11D8-BB91-000A95A67E82@stat.ucla.edu>

I have made a regular R install, so that  
/Library/Frameworks/R.frameworks/Resources/bin/R.bin
is now a Carbon APPL, using Rez in the way described before. We now  
have basically
two R's -- one from Terminal.app and one from R.app. The first one  
works fine, except
for the small glitch of not starting the default device properly. The  
second one does not
work properly with Aqua Tcl/Tk, while the first one does. Both work  
with the quartz device.
Also the first R works fine from the Carbon Emacs using ESS (while the  
standard build
cannot use the quartz device from Emacs).

This means that people who (a)  prefer to run their R from the Terminal  
or from Emacs,
and (b) who prefer Aqua to X11, should use the first R. Since I am one  
of these people,
the next release of R on gifi will have no X11 and no R.app.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From deleeuw at stat.ucla.edu  Mon Feb 23 08:51:53 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Mon Feb 23 08:51:58 2004
Subject: [R-SIG-Mac] new carbon R from terminal or emacs
Message-ID: <2512E8C2-65D5-11D8-937F-000A95A67E82@stat.ucla.edu>

 From the Carbon Emacs.app:
first with Emacs in front (see the menu bar),
then by clicking the graphics windows (see the menu bar, see the dock).
http://gifi.stat.ucla.edu/pub/desktops/emacs1.pdf
http://gifi.stat.ucla.edu/pub/desktops/emacs2.pdf

 From Terminal.app, same two views:
http://gifi.stat.ucla.edu/pub/desktops/terminal1.pdf
http://gifi.stat.ucla.edu/pub/desktops/terminal2.pdf

So R.app is not running, this is just R.bin in the framework
with resource fork and metafile info added.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From deleeuw at stat.ucla.edu  Mon Feb 23 16:54:02 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Mon Feb 23 16:54:22 2004
Subject: [R-SIG-Mac] new carbon R from terminal or emacs
In-Reply-To: <p06002000bc5fcb0d0851@[134.214.34.24]>
References: <2512E8C2-65D5-11D8-937F-000A95A67E82@stat.ucla.edu>
	<p06002000bc5fcb0d0851@[134.214.34.24]>
Message-ID: <805D39A9-6618-11D8-937F-000A95A67E82@stat.ucla.edu>

By installing Tc;l/Tk Aqua from

http://www.maths.mq.edu.au/~steffen/tcltk/TclTkAqua/

and configuring R with the flags

configure  
--with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh  
--with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh  
--enable-R-shlib --without-x --with-aqua --with-blas='-framework  
vecLib' --with-lapack TCLTK_LIBS='-framework Tcl -framework Tk'  
TCLTK_CPPFLAGS='-I/Library/Frameworks/Tcl.Framework/Headers  
-I/Library/Frameworks/Tk.Framework/Headers'

On Feb 23, 2004, at 7:24, Jean Thioulouse wrote:

> Hi Jan,
>
> How do you get Aqua style tk widgets ?
>
> Thanks,
> Jean
>
> --  
> --
> Jean Thioulouse - Labo. BBE - UMR CNRS 5558 - Equipe "Ecologie  
> Statistique"
> Universite Lyon 1,   Batiment G. Mendel,  69622 Villeurbanne Cedex,   
> France
> Tel: (33) 4 72 43 27 56                             Fax: (33) 4 72 43  
> 27 56
>                    http://pbil.univ-lyon1.fr/JTHome.html
>
>
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From deleeuw at stat.ucla.edu  Tue Feb 24 01:10:44 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Tue Feb 24 01:10:44 2004
Subject: [R-SIG-Mac] [ANN] new R-devel on gifi
Message-ID: <E3EC5268-665D-11D8-A1AF-000393BB6D36@stat.ucla.edu>

See http://gifi.stat.ucla.edu/pub. This is the version which can produce
interactive Quartz graphics windows and Aqua Tcl/Tk if you run
it from either Terminal.app or Emacs.app. There is no X11 support
compiled in any more.

Do read the instructions, because it is likely that R.bin has lost its
resource fork when I made the package. To put it back, use the blue text
at the top of the page. There are many new desktop pictures of R
running in various GUI's.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From steve at biostat.ucsf.edu  Tue Feb 24 08:21:27 2004
From: steve at biostat.ucsf.edu (Stephen Shiboski)
Date: Tue Feb 24 09:58:03 2004
Subject: [R-SIG-Mac] MASS library load error under R-1.9.0
Message-ID: <0F07178A-669A-11D8-8E88-000A959FF812@biostat.ucsf.edu>

I just built R-1.9.0 using tcl/tk & aqua support using instructions
gathered from this list. (Thanks for all the work getting the OS-X
version going.) I can now use the quartz() driver from a
Terminal shell as well as the R.app front-end.

However, the MASS library fails to load with the following error:

 > library(MASS)
Error in loadNamespace(i[[1]], c(lib.loc, .libPaths()), keep.source) :
         package 'mva' does not have a name space
Error in library(MASS) : package/namespace load failed

Any pointers on what's broken would be most appreciated.

Thanks,

-SS

From jago at mclink.it  Tue Feb 24 10:05:05 2004
From: jago at mclink.it (stefano iacus)
Date: Tue Feb 24 10:05:15 2004
Subject: [R-SIG-Mac] MASS library load error under R-1.9.0
In-Reply-To: <0F07178A-669A-11D8-8E88-000A959FF812@biostat.ucsf.edu>
References: <0F07178A-669A-11D8-8E88-000A959FF812@biostat.ucsf.edu>
Message-ID: <899A1DF8-66A8-11D8-8365-000A95C87F66@mclink.it>

Hi Stephen,
R-1.9.0 is not still out, so you are working with R-devel.
You should probably start from a fresh .tar.gz tarball of R-devel and 
build from scratch.
You cannot use a package that was built for R prev 1.9.x in R-1.9.x
stefano

On Feb 24, 2004, at 8:21 AM, Stephen Shiboski wrote:

> I just built R-1.9.0 using tcl/tk & aqua support using instructions
> gathered from this list. (Thanks for all the work getting the OS-X
> version going.) I can now use the quartz() driver from a
> Terminal shell as well as the R.app front-end.
>
> However, the MASS library fails to load with the following error:
>
> > library(MASS)
> Error in loadNamespace(i[[1]], c(lib.loc, .libPaths()), keep.source) :
>         package 'mva' does not have a name space
> Error in library(MASS) : package/namespace load failed
>
> Any pointers on what's broken would be most appreciated.
>
> Thanks,
>
> -SS
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://www.stat.math.ethz.ch/mailman/listinfo/r-sig-mac
>

