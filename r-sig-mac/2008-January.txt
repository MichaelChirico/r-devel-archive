From enrico.a.rossi at gmail.com  Mon Jan  7 22:00:51 2008
From: enrico.a.rossi at gmail.com (Enrico Rossi)
Date: Mon, 7 Jan 2008 16:00:51 -0500
Subject: [R-SIG-Mac] R 2.6.1 installation fails
Message-ID: <e303ddae0801071300w4ba8cbbej3f4746fe2fbee77a@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080107/86fd88f6/attachment.pl 

From simon.urbanek at r-project.org  Mon Jan  7 22:56:52 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 7 Jan 2008 16:56:52 -0500
Subject: [R-SIG-Mac] R 2.6.1 installation fails
In-Reply-To: <e303ddae0801071300w4ba8cbbej3f4746fe2fbee77a@mail.gmail.com>
References: <e303ddae0801071300w4ba8cbbej3f4746fe2fbee77a@mail.gmail.com>
Message-ID: <520B89A9-042D-4F89-9FA7-C44D99B839EF@r-project.org>

Enrico,

the problem is caused by an update from Tiger to Leopard and Xcode 3  
if /usr/local/lib existed before. Apple's installer screws up and  
creates an infinite symlink loop at /usr/local/lib. To fix it, run  
this is Terminal:

sudo rm /usr/local/lib
sudo mv '/usr/local/lib 1' /usr/local/lib

Then re-install R (or just gfortran and Tcl/Tk).

Cheers,
Simon


On Jan 7, 2008, at 4:00 PM, Enrico Rossi wrote:

> Hello!
>
> I recently upgraded to Leopard, and discovered that I could no  
> longer build
> Fortran sources using R CMD SHLIB. No problem, I thought: upgrade  
> Xcode and
> R. However, the R installer fails while trying to install gfortran.  
> Here's
> the last bit of the installer log:
>
> Jan  7 15:40:53 elf150 Installer[544]:     Starting file extraction
> Jan  7 15:40:54 elf150 pkgExtractor[566]:     Extracting...
> Jan  7 15:40:54 elf150 pkgExtractor[566]: BomFileError 62: Too many  
> levels
> of symbolic links - ///usr/local/lib
> Jan  7 15:40:54 elf150 pkgExtractor[566]:     13 of 13 files written
> in 0.29seconds.
> Jan  7 15:40:54 elf150 pkgExtractor[566]:     1468 kilobytes  
> installed at
> 4.9 MB/s.
> Jan  7 15:40:54 elf150 pkgExtractor[566]: pkgExtractor exited with  
> error 1
> while processing package '/Volumes/R-2.6.1
> /Packages/gfortran.pkg/Contents/Archive.pax.gz'
> Jan  7 15:40:54 elf150 Installer[544]: Install failed: The Installer  
> could
> not install some files in "/". Contact the software manufacturer for
> assistance.
> Jan  7 15:40:54 elf150 Installer[544]: IFDInstallController 75CD20  
> state = 7
> Jan  7 15:40:54 elf150 Installer[544]: Displaying 'Install Failed' UI.
> Jan  7 15:40:54 elf150 Installer[544]: 'Install Failed' UI displayed
> message:'The Installer could not install some files in "/". Contact  
> the
> software manufacturer for assistance.'.
>
> I also tried installing the gfortran from
> http://r.research.att.com/gfortran-4.2.1.dmg , but it failed in the  
> same
> way. What could the problem be?
>
> Thanks,
> Enrico
>
>> sessionInfo()
> R version 2.6.1 (2007-11-26)
> powerpc-apple-darwin8.10.1
> locale:
> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From a.beckerman at sheffield.ac.uk  Mon Jan  7 16:57:35 2008
From: a.beckerman at sheffield.ac.uk (Andrew Beckerman)
Date: Mon, 7 Jan 2008 15:57:35 +0000
Subject: [R-SIG-Mac] library problem (leopard v. tiger)
Message-ID: <F2CEF506-1446-471A-BE64-0A669B0DBCDE@sheffield.ac.uk>

Dear all -

10.5.1, R 2.6.1.

I am trying to get a biocinductor package called GeneticsPed to work  
with leopard and R2.6.1.  It worked on Tiger with 2.5.

I have tried to install via Bioconductor, via the binary as a  
download, and as a source file.

Before documenting the behaviours, please note, that I have the latest  
Xcode installed, and also the latest GCC and gfortran installed  
through HPC.

1) Bioconductor can't find it, and that's ok, because it only exists  
now in the Devel version.

2) When I try and load the installed binary, I get the following error  
(note that it appeast to be built against 2.5?).

 > library(GeneticsPed)
Loading required package: gdata

Attaching package: 'gdata'


	The following object(s) are masked from package:Hmisc :

	 combine,
	 reorder.factor

Error in dyn.load(file, ...) :
   unable to load shared library '/Library/Frameworks/R.framework/ 
Resources/library/GeneticsPed/libs/i386/GeneticsPed.so':
   dlopen(/Library/Frameworks/R.framework/Resources/library/ 
GeneticsPed/libs/i386/GeneticsPed.so, 6): Library not loaded: /Library/ 
Frameworks/R.framework/Versions/2.5/Resources/lib/libgfortran.2.dylib
   Referenced from: /Library/Frameworks/R.framework/Resources/library/ 
GeneticsPed/libs/i386/GeneticsPed.so
   Reason: image not found
Error: package/namespace load failed for 'GeneticsPed'
 >

3) When I try and install via source, I get the following error  
(indicating use of the 10.4SDK?):

/Library/Frameworks/R.framework/Resources/library
* Installing *source* package 'GeneticsPed' ...
** libs
** arch - i386
g++ -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
i386  -msse3    -fPIC  -g -O2 -march=nocona -c ainverse.cc -o ainverse.o
g++ -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
i386  -msse3    -fPIC  -g -O2 -march=nocona -c eibd.cc -o eibd.o
gfortran -arch i386  -isysroot /Developer/SDKs/MacOSX10.4u.sdk   - 
fPIC  -g -O2 -march=nocona -c ggmatmult.f -o ggmatmult.o
** arch - ppc
g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
ppc  -I/usr/local/include    -fPIC  -g -O2 -c ainverse.cc -o ainverse.o
f951: error: unrecognized command line option "-arch"
make: *** [ggmatmult.o] Error 1
chmod: /Library/Frameworks/R.framework/Resources/library/GeneticsPed/ 
libs/i386/*: No such file or directory
g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
ppc  -I/usr/local/include    -fPIC  -g -O2 -c eibd.cc -o eibd.o
gfortran -arch ppc  -isysroot /Developer/SDKs/MacOSX10.4u.sdk   -fPIC   
-g -O2 -c ggmatmult.f -o ggmatmult.o
** Removing '/Library/Frameworks/R.framework/Resources/library/ 
GeneticsPed'
** Restoring previous '/Library/Frameworks/R.framework/Resources/ 
library/GeneticsPed'
f951: error: unrecognized command line option "-arch"
make: *** [ggmatmult.o] Error 1
chmod: /Library/Frameworks/R.framework/Resources/library/GeneticsPed/ 
libs/ppc/*: No such file or directory
ERROR: compilation failed for package 'GeneticsPed'

Any advice or obvious comments on what to do?

Cheers
andrew
---------------------------------------------------------------------------------
Dr. Andrew Beckerman
Department of Animal and Plant Sciences, University of Sheffield,
Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
http://www.beckslab.staff.shef.ac.uk/


From simon.urbanek at r-project.org  Tue Jan  8 16:59:49 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 8 Jan 2008 10:59:49 -0500
Subject: [R-SIG-Mac] library problem (leopard v. tiger)
In-Reply-To: <F2CEF506-1446-471A-BE64-0A669B0DBCDE@sheffield.ac.uk>
References: <F2CEF506-1446-471A-BE64-0A669B0DBCDE@sheffield.ac.uk>
Message-ID: <92CF1854-EC66-443D-9DC2-0556D6F4CC29@r-project.org>

Andrew,

On Jan 7, 2008, at 10:57 AM, Andrew Beckerman wrote:

> 10.5.1, R 2.6.1.
>
> I am trying to get a biocinductor package called GeneticsPed to work  
> with leopard and R2.6.1.  It worked on Tiger with 2.5.
>
> I have tried to install via Bioconductor, via the binary as a  
> download, and as a source file.
>
> Before documenting the behaviours, please note, that I have the  
> latest Xcode installed, and also the latest GCC and gfortran  
> installed through HPC.
>

HPC fortran doesn't work (it has several problems but the main one is  
that it is not universal). You'll have to use a universal  fortran  
compiler and we strongly recommend the use of the one we supply. (See  
also http://r.research.att.com/tools/ for details).


> 1) Bioconductor can't find it, and that's ok, because it only exists
> now in the Devel version.
>
> 2) When I try and load the installed binary, I get the following error
> (note that it appeast to be built against 2.5?).
>

Are you sure it's not a problem on your end pulling packages from the  
wrong place (see .libPaths())? It is the most common mistake to forget  
to wipe old 2.5 packages from custom lib paths.

I'm not building BioC packages anymore, but I have checked the binary  
from http://www.bioconductor.org/packages/2.2/bioc/bin/macosx/universal/contrib/2.7/GeneticsPed_1.1.0.tgz
and that works just fine:
i386/GeneticsPed.so:
	GeneticsPed.so (compatibility version 0.0.0, current version 0.0.0)
	/Library/Frameworks/R.framework/Versions/2.6/Resources/lib/ 
libgfortran.2.dylib (compatibility version 3.0.0, current version 3.0.0)

ppc/GeneticsPed.so:
	GeneticsPed.so (compatibility version 0.0.0, current version 0.0.0)
	/Library/Frameworks/R.framework/Versions/2.6/Resources/lib/ 
libgfortran.2.dylib (compatibility version 3.0.0, current version 3.0.0)


>> library(GeneticsPed)
> Loading required package: gdata
>
> Attaching package: 'gdata'
>
>
> 	The following object(s) are masked from package:Hmisc :
>
> 	 combine,
> 	 reorder.factor
>
> Error in dyn.load(file, ...) :
>   unable to load shared library '/Library/Frameworks/R.framework/
> Resources/library/GeneticsPed/libs/i386/GeneticsPed.so':
>   dlopen(/Library/Frameworks/R.framework/Resources/library/
> GeneticsPed/libs/i386/GeneticsPed.so, 6): Library not loaded: / 
> Library/
> Frameworks/R.framework/Versions/2.5/Resources/lib/libgfortran.2.dylib
>   Referenced from: /Library/Frameworks/R.framework/Resources/library/
> GeneticsPed/libs/i386/GeneticsPed.so
>   Reason: image not found
> Error: package/namespace load failed for 'GeneticsPed'
>>
>
> 3) When I try and install via source, I get the following error
> (indicating use of the 10.4SDK?):
>

Yes, the R you are using is a Tiger build, so it makes sure everything  
stays Tiger-compatible.


> /Library/Frameworks/R.framework/Resources/library
> * Installing *source* package 'GeneticsPed' ...
> ** libs
> ** arch - i386
> g++ -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
> version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/
> Resources/include -I/Library/Frameworks/R.framework/Resources/include/
> i386  -msse3    -fPIC  -g -O2 -march=nocona -c ainverse.cc -o  
> ainverse.o
> g++ -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
> version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/
> Resources/include -I/Library/Frameworks/R.framework/Resources/include/
> i386  -msse3    -fPIC  -g -O2 -march=nocona -c eibd.cc -o eibd.o
> gfortran -arch i386  -isysroot /Developer/SDKs/MacOSX10.4u.sdk   -
> fPIC  -g -O2 -march=nocona -c ggmatmult.f -o ggmatmult.o
> ** arch - ppc
> g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
> version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/
> Resources/include -I/Library/Frameworks/R.framework/Resources/include/
> ppc  -I/usr/local/include    -fPIC  -g -O2 -c ainverse.cc -o  
> ainverse.o
> f951: error: unrecognized command line option "-arch"
> make: *** [ggmatmult.o] Error 1

Problem with HPC fortran - please use the GNU Fortran that comes with R.

Cheers,
Simon


> chmod: /Library/Frameworks/R.framework/Resources/library/GeneticsPed/
> libs/i386/*: No such file or directory
> g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
> version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/
> Resources/include -I/Library/Frameworks/R.framework/Resources/include/
> ppc  -I/usr/local/include    -fPIC  -g -O2 -c eibd.cc -o eibd.o
> gfortran -arch ppc  -isysroot /Developer/SDKs/MacOSX10.4u.sdk   -fPIC
> -g -O2 -c ggmatmult.f -o ggmatmult.o
> ** Removing '/Library/Frameworks/R.framework/Resources/library/
> GeneticsPed'
> ** Restoring previous '/Library/Frameworks/R.framework/Resources/
> library/GeneticsPed'
> f951: error: unrecognized command line option "-arch"
> make: *** [ggmatmult.o] Error 1
> chmod: /Library/Frameworks/R.framework/Resources/library/GeneticsPed/
> libs/ppc/*: No such file or directory
> ERROR: compilation failed for package 'GeneticsPed'
>
> Any advice or obvious comments on what to do?
>
> Cheers
> andrew
> ---------------------------------------------------------------------------------
> Dr. Andrew Beckerman
> Department of Animal and Plant Sciences, University of Sheffield,
> Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
> ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
> http://www.beckslab.staff.shef.ac.uk/
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From a.beckerman at sheffield.ac.uk  Wed Jan  9 11:07:59 2008
From: a.beckerman at sheffield.ac.uk (Andrew Beckerman)
Date: Wed, 9 Jan 2008 10:07:59 +0000
Subject: [R-SIG-Mac] library problem (leopard v. tiger)
In-Reply-To: <92CF1854-EC66-443D-9DC2-0556D6F4CC29@r-project.org>
References: <F2CEF506-1446-471A-BE64-0A669B0DBCDE@sheffield.ac.uk>
	<92CF1854-EC66-443D-9DC2-0556D6F4CC29@r-project.org>
Message-ID: <6E194981-8A31-4186-B01E-070F9C98830E@sheffield.ac.uk>

Simon -

Many thanks for the advice.  I've re-installed 2.6.1 with the GNU  
fortran with it.  GeneticsPed 1.1.0 installed and loads fine now.   
Don't quite know what happened before.

Do I need to remove the HPC fortran/GCC stuff now?  Is that prudent?

Cheers
andrew


---------------------------------------------------------------------------------
Dr. Andrew Beckerman
Department of Animal and Plant Sciences, University of Sheffield,
Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
http://www.beckslab.staff.shef.ac.uk/
----------------------------------------------------------------------------------


On 8 Jan 2008, at 15:59, Simon Urbanek wrote:

> Andrew,
>
> On Jan 7, 2008, at 10:57 AM, Andrew Beckerman wrote:
>
>> 10.5.1, R 2.6.1.
>>
>> I am trying to get a biocinductor package called GeneticsPed to  
>> work with leopard and R2.6.1.  It worked on Tiger with 2.5.
>>
>> I have tried to install via Bioconductor, via the binary as a  
>> download, and as a source file.
>>
>> Before documenting the behaviours, please note, that I have the  
>> latest Xcode installed, and also the latest GCC and gfortran  
>> installed through HPC.
>>
>
> HPC fortran doesn't work (it has several problems but the main one  
> is that it is not universal). You'll have to use a universal   
> fortran compiler and we strongly recommend the use of the one we  
> supply. (See also http://r.research.att.com/tools/ for details).
>
>
>> 1) Bioconductor can't find it, and that's ok, because it only exists
>> now in the Devel version.
>>
>> 2) When I try and load the installed binary, I get the following  
>> error
>> (note that it appeast to be built against 2.5?).
>>
>
> Are you sure it's not a problem on your end pulling packages from  
> the wrong place (see .libPaths())? It is the most common mistake to  
> forget to wipe old 2.5 packages from custom lib paths.
>
> I'm not building BioC packages anymore, but I have checked the  
> binary from http://www.bioconductor.org/packages/2.2/bioc/bin/macosx/universal/contrib/2.7/GeneticsPed_1.1.0.tgz
> and that works just fine:
> i386/GeneticsPed.so:
> 	GeneticsPed.so (compatibility version 0.0.0, current version 0.0.0)
> 	/Library/Frameworks/R.framework/Versions/2.6/Resources/lib/ 
> libgfortran.2.dylib (compatibility version 3.0.0, current version  
> 3.0.0)
>
> ppc/GeneticsPed.so:
> 	GeneticsPed.so (compatibility version 0.0.0, current version 0.0.0)
> 	/Library/Frameworks/R.framework/Versions/2.6/Resources/lib/ 
> libgfortran.2.dylib (compatibility version 3.0.0, current version  
> 3.0.0)
>
>
>>> library(GeneticsPed)
>> Loading required package: gdata
>>
>> Attaching package: 'gdata'
>>
>>
>> 	The following object(s) are masked from package:Hmisc :
>>
>> 	 combine,
>> 	 reorder.factor
>>
>> Error in dyn.load(file, ...) :
>>  unable to load shared library '/Library/Frameworks/R.framework/
>> Resources/library/GeneticsPed/libs/i386/GeneticsPed.so':
>>  dlopen(/Library/Frameworks/R.framework/Resources/library/
>> GeneticsPed/libs/i386/GeneticsPed.so, 6): Library not loaded: / 
>> Library/
>> Frameworks/R.framework/Versions/2.5/Resources/lib/libgfortran.2.dylib
>>  Referenced from: /Library/Frameworks/R.framework/Resources/library/
>> GeneticsPed/libs/i386/GeneticsPed.so
>>  Reason: image not found
>> Error: package/namespace load failed for 'GeneticsPed'
>>>
>>
>> 3) When I try and install via source, I get the following error
>> (indicating use of the 10.4SDK?):
>>
>
> Yes, the R you are using is a Tiger build, so it makes sure  
> everything stays Tiger-compatible.
>
>
>> /Library/Frameworks/R.framework/Resources/library
>> * Installing *source* package 'GeneticsPed' ...
>> ** libs
>> ** arch - i386
>> g++ -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
>> version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/
>> Resources/include -I/Library/Frameworks/R.framework/Resources/ 
>> include/
>> i386  -msse3    -fPIC  -g -O2 -march=nocona -c ainverse.cc -o  
>> ainverse.o
>> g++ -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
>> version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/
>> Resources/include -I/Library/Frameworks/R.framework/Resources/ 
>> include/
>> i386  -msse3    -fPIC  -g -O2 -march=nocona -c eibd.cc -o eibd.o
>> gfortran -arch i386  -isysroot /Developer/SDKs/MacOSX10.4u.sdk   -
>> fPIC  -g -O2 -march=nocona -c ggmatmult.f -o ggmatmult.o
>> ** arch - ppc
>> g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
>> version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/
>> Resources/include -I/Library/Frameworks/R.framework/Resources/ 
>> include/
>> ppc  -I/usr/local/include    -fPIC  -g -O2 -c ainverse.cc -o  
>> ainverse.o
>> f951: error: unrecognized command line option "-arch"
>> make: *** [ggmatmult.o] Error 1
>
> Problem with HPC fortran - please use the GNU Fortran that comes  
> with R.
>
> Cheers,
> Simon
>
>
>> chmod: /Library/Frameworks/R.framework/Resources/library/GeneticsPed/
>> libs/i386/*: No such file or directory
>> g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
>> version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/
>> Resources/include -I/Library/Frameworks/R.framework/Resources/ 
>> include/
>> ppc  -I/usr/local/include    -fPIC  -g -O2 -c eibd.cc -o eibd.o
>> gfortran -arch ppc  -isysroot /Developer/SDKs/MacOSX10.4u.sdk   -fPIC
>> -g -O2 -c ggmatmult.f -o ggmatmult.o
>> ** Removing '/Library/Frameworks/R.framework/Resources/library/
>> GeneticsPed'
>> ** Restoring previous '/Library/Frameworks/R.framework/Resources/
>> library/GeneticsPed'
>> f951: error: unrecognized command line option "-arch"
>> make: *** [ggmatmult.o] Error 1
>> chmod: /Library/Frameworks/R.framework/Resources/library/GeneticsPed/
>> libs/ppc/*: No such file or directory
>> ERROR: compilation failed for package 'GeneticsPed'
>>
>> Any advice or obvious comments on what to do?
>>
>> Cheers
>> andrew
>> ---------------------------------------------------------------------------------
>> Dr. Andrew Beckerman
>> Department of Animal and Plant Sciences, University of Sheffield,
>> Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
>> ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
>> http://www.beckslab.staff.shef.ac.uk/
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>


From tamir at imp.univie.ac.at  Thu Jan 10 10:09:06 2008
From: tamir at imp.univie.ac.at (Ido M. Tamir)
Date: Thu, 10 Jan 2008 10:09:06 +0100
Subject: [R-SIG-Mac] Rscript on OSX
Message-ID: <200801101009.06228.tamir@imp.univie.ac.at>

Hi,

I directed somebody to install R (2.6.1) on his OSX computer,
following instructions from http://cran.r-project.org/bin/macosx.
She used the provided binary image.
She can run R from the console.

The problem is that Rscript is not in the path (only minor, because ln -s is 
hopefully doable). 
But the script failed when I tried to put a hardcoded path to Rscript into the 
shebang line. And when I try to invoke it directly:

>-bash: ./Rscript: cannot execute binary file

On linux this works:
>Rscript
Usage: /path/to/Rscript [--options] [-e expr] file [args]

--options accepted are
....


I would like to send her some Rscripts, but how can we make them
run on her system?


thank you very much,
ido



imaclab3:/Library/Frameworks/R.framework/Resources/bin ru$ ls -l 

total 1008
-rwxrwxr-x ? 1 root ?admin ? ?1654 Nov 26 17:36 BATCH
-rwxrwxr-x ? 1 root ?admin ? ?2188 Nov 26 17:36 COMPILE
-rwxrwxr-x ? 1 root ?admin ? 34391 Nov 26 17:36 INSTALL
-rwxrwxr-x ? 1 root ?admin ? ?1593 Nov 26 17:36 LINK
-rwxrwxr-x ? 1 root ?admin ? ?7210 Nov 26 17:37 R
-rwxrwxr-x ? 1 root ?admin ? ?7210 Nov 26 17:37 R.orig
-rw-rw-r-- ? 1 root ?admin ? ? 655 Nov 26 17:37 R.rej
-rwxrwxr-x ? 1 root ?admin ? ?2244 Nov 26 17:36 REMOVE
-rwxrwxr-x ? 1 root ?admin ? ? 928 Nov 26 17:36 Rcmd
-rwxrwxr-x ? 1 root ?admin ? ?9523 Nov 26 17:36 Rd2dvi
-rwxrwxr-x ? 1 root ?admin ? ? 842 Nov 26 17:36 Rd2txt
-rwxrwxr-x ? 1 root ?admin ? ?3237 Nov 26 17:36 Rdconv
-rwxrwxr-x ? 1 root ?admin ? ?1320 Nov 26 17:36 Rdiff
-rwxrwxr-x ? 1 root ?admin ? ?2854 Nov 26 17:36 Rprof
-rwxrwxr-x ? 1 root ?admin ? 18084 Nov 26 17:36 Rscript
-rwxrwxr-x ? 1 root ?admin ? ?4656 Nov 26 17:36 SHLIB
-rwxrwxr-x ? 1 root ?admin ? 16129 Nov 26 17:36 Sd2Rd
-rwxrwxr-x ? 1 root ?admin ? ? 730 Nov 26 17:36 Stangle
-rwxrwxr-x ? 1 root ?admin ? ? 726 Nov 26 17:36 Sweave
-rwxrwxr-x ? 1 root ?admin ? 21715 Nov 26 17:36 build
-rwxrwxr-x ? 1 root ?admin ? 78570 Nov 26 17:36 check
-rwxrwxr-x ? 1 root ?admin ? ?6927 Nov 26 17:36 config
drwxrwxr-x ? 4 root ?admin ? ? 136 Nov 26 17:36 exec
-rwxrwxr-x ? 1 root ?admin ? ?3613 Nov 26 17:36 f77_f2c
-rwxrwxr-x ? 1 root ?admin ? 10720 Nov 26 17:36 javareconf
-rwxrwxr-x ? 1 root ?admin ?215101 Nov 26 17:36 libtool
-rwxrwxr-x ? 1 root ?admin ? ?3495 Nov 26 17:36 mkinstalldirs
-rwxrwxr-x ? 1 root ?admin ? ? 413 Nov 26 17:36 pager


From macq at llnl.gov  Thu Jan 10 19:50:48 2008
From: macq at llnl.gov (Don MacQueen)
Date: Thu, 10 Jan 2008 10:50:48 -0800
Subject: [R-SIG-Mac] R 2.6.1 installation fails
In-Reply-To: <520B89A9-042D-4F89-9FA7-C44D99B839EF@r-project.org>
References: <e303ddae0801071300w4ba8cbbej3f4746fe2fbee77a@mail.gmail.com>
	<520B89A9-042D-4F89-9FA7-C44D99B839EF@r-project.org>
Message-ID: <p06230908c3ac18fd6664@[128.115.92.33]>

This Apple installer error also happens if you install XCode 2.5 on 
an existing Tiger system.

(which I found out this morning by downloading XCode 2.5 from Apple's 
Developer website and installing it)

-Don

At 4:56 PM -0500 1/7/08, Simon Urbanek wrote:
>Enrico,
>
>the problem is caused by an update from Tiger to Leopard and Xcode 3 
>if /usr/local/lib existed before. Apple's installer screws up and 
>creates an infinite symlink loop at /usr/local/lib. To fix it, run 
>this is Terminal:
>
>sudo rm /usr/local/lib
>sudo mv '/usr/local/lib 1' /usr/local/lib
>
>Then re-install R (or just gfortran and Tcl/Tk).
>
>Cheers,
>Simon
>
>
>On Jan 7, 2008, at 4:00 PM, Enrico Rossi wrote:
>
>>  Hello!
>>
>>  I recently upgraded to Leopard, and discovered that I could no 
>>  longer build
>>  Fortran sources using R CMD SHLIB. No problem, I thought: upgrade 
>>  Xcode and
>>  R. However, the R installer fails while trying to install gfortran. 
>>  Here's
>>  the last bit of the installer log:
>>
>>  Jan  7 15:40:53 elf150 Installer[544]:     Starting file extraction
>>  Jan  7 15:40:54 elf150 pkgExtractor[566]:     Extracting...
>>  Jan  7 15:40:54 elf150 pkgExtractor[566]: BomFileError 62: Too many 
>>  levels
>>  of symbolic links - ///usr/local/lib
>>  Jan  7 15:40:54 elf150 pkgExtractor[566]:     13 of 13 files written
>>  in 0.29seconds.
>>  Jan  7 15:40:54 elf150 pkgExtractor[566]:     1468 kilobytes 
>>  installed at
>>  4.9 MB/s.
>>  Jan  7 15:40:54 elf150 pkgExtractor[566]: pkgExtractor exited with 
>>  error 1
>>  while processing package '/Volumes/R-2.6.1
>>  /Packages/gfortran.pkg/Contents/Archive.pax.gz'
>>  Jan  7 15:40:54 elf150 Installer[544]: Install failed: The Installer 
>>  could
>>  not install some files in "/". Contact the software manufacturer for
>>  assistance.
>>  Jan  7 15:40:54 elf150 Installer[544]: IFDInstallController 75CD20 
>>  state = 7
>>  Jan  7 15:40:54 elf150 Installer[544]: Displaying 'Install Failed' UI.
>>  Jan  7 15:40:54 elf150 Installer[544]: 'Install Failed' UI displayed
>>  message:'The Installer could not install some files in "/". Contact
>  > the
>  > software manufacturer for assistance.'.
>  >
>  > I also tried installing the gfortran from
>  > http://r.research.att.com/gfortran-4.2.1.dmg , but it failed in the 
>>  same
>>  way. What could the problem be?
>>
>>  Thanks,
>>  Enrico
>>
>>>  sessionInfo()
>>  R version 2.6.1 (2007-11-26)
>>  powerpc-apple-darwin8.10.1
>>  locale:
>>  en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>
>>	[[alternative HTML version deleted]]
>>
>>  _______________________________________________
>>  R-SIG-Mac mailing list
>>  R-SIG-Mac at stat.math.ethz.ch
>>  https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
925-423-1062


From simon.urbanek at r-project.org  Thu Jan 10 20:57:56 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 10 Jan 2008 14:57:56 -0500
Subject: [R-SIG-Mac] Rscript on OSX
In-Reply-To: <200801101009.06228.tamir@imp.univie.ac.at>
References: <200801101009.06228.tamir@imp.univie.ac.at>
Message-ID: <0978FC83-E4CF-41D2-AED9-D8F7C3E98D27@r-project.org>

Ido,

I suspect that you are talking about a ppc Mac (just guessing, you  
didn't tell us). Unfortunately the installation of Rscript is  
currently not multi-arch safe, so the binary in the CRAN version is  
i386 only. I have changed the nightly build script such that there  
should be a fat Rscript in the nightlies tomorrow at
http://r.research.att.com/

Cheers,
Simon


On Jan 10, 2008, at 4:09 AM, Ido M. Tamir wrote:

> Hi,
>
> I directed somebody to install R (2.6.1) on his OSX computer,
> following instructions from http://cran.r-project.org/bin/macosx.
> She used the provided binary image.
> She can run R from the console.
>
> The problem is that Rscript is not in the path (only minor, because  
> ln -s is
> hopefully doable).
> But the script failed when I tried to put a hardcoded path to  
> Rscript into the
> shebang line. And when I try to invoke it directly:
>
>> -bash: ./Rscript: cannot execute binary file
>
> On linux this works:
>> Rscript
> Usage: /path/to/Rscript [--options] [-e expr] file [args]
>
> --options accepted are
> ....
>
>
> I would like to send her some Rscripts, but how can we make them
> run on her system?
>
>
> thank you very much,
> ido
>
>
>
> imaclab3:/Library/Frameworks/R.framework/Resources/bin ru$ ls -l
>
> total 1008
> -rwxrwxr-x   1 root  admin    1654 Nov 26 17:36 BATCH
> -rwxrwxr-x   1 root  admin    2188 Nov 26 17:36 COMPILE
> -rwxrwxr-x   1 root  admin   34391 Nov 26 17:36 INSTALL
> -rwxrwxr-x   1 root  admin    1593 Nov 26 17:36 LINK
> -rwxrwxr-x   1 root  admin    7210 Nov 26 17:37 R
> -rwxrwxr-x   1 root  admin    7210 Nov 26 17:37 R.orig
> -rw-rw-r--   1 root  admin     655 Nov 26 17:37 R.rej
> -rwxrwxr-x   1 root  admin    2244 Nov 26 17:36 REMOVE
> -rwxrwxr-x   1 root  admin     928 Nov 26 17:36 Rcmd
> -rwxrwxr-x   1 root  admin    9523 Nov 26 17:36 Rd2dvi
> -rwxrwxr-x   1 root  admin     842 Nov 26 17:36 Rd2txt
> -rwxrwxr-x   1 root  admin    3237 Nov 26 17:36 Rdconv
> -rwxrwxr-x   1 root  admin    1320 Nov 26 17:36 Rdiff
> -rwxrwxr-x   1 root  admin    2854 Nov 26 17:36 Rprof
> -rwxrwxr-x   1 root  admin   18084 Nov 26 17:36 Rscript
> -rwxrwxr-x   1 root  admin    4656 Nov 26 17:36 SHLIB
> -rwxrwxr-x   1 root  admin   16129 Nov 26 17:36 Sd2Rd
> -rwxrwxr-x   1 root  admin     730 Nov 26 17:36 Stangle
> -rwxrwxr-x   1 root  admin     726 Nov 26 17:36 Sweave
> -rwxrwxr-x   1 root  admin   21715 Nov 26 17:36 build
> -rwxrwxr-x   1 root  admin   78570 Nov 26 17:36 check
> -rwxrwxr-x   1 root  admin    6927 Nov 26 17:36 config
> drwxrwxr-x   4 root  admin     136 Nov 26 17:36 exec
> -rwxrwxr-x   1 root  admin    3613 Nov 26 17:36 f77_f2c
> -rwxrwxr-x   1 root  admin   10720 Nov 26 17:36 javareconf
> -rwxrwxr-x   1 root  admin  215101 Nov 26 17:36 libtool
> -rwxrwxr-x   1 root  admin    3495 Nov 26 17:36 mkinstalldirs
> -rwxrwxr-x   1 root  admin     413 Nov 26 17:36 pager
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From macq at llnl.gov  Thu Jan 10 20:59:13 2008
From: macq at llnl.gov (Don MacQueen)
Date: Thu, 10 Jan 2008 11:59:13 -0800
Subject: [R-SIG-Mac] Rscript on OSX
In-Reply-To: <200801101009.06228.tamir@imp.univie.ac.at>
References: <200801101009.06228.tamir@imp.univie.ac.at>
Message-ID: <p06230903c3abff53626c@[128.115.92.33]>

I'm a bit puzzled also. Rscript has been on my personal list of 
things to try out "some time soon" but I hadn't done so. Given Ido's 
question I decided to try it.

Is it somehow possible that the Rscript binary included with the CRAN 
binary installer is an intel binary, even though I installed on a ppc 
machine? See below for why I raise the possibility.


After installing R 2.6.1 from the CRAN binary installer, selecting 
default installation options, I get this:

[49]% Rscript --version
tcsh: /usr/local/bin/Rscript: Exec format error. Binary file not executable.

Command line R does work, and I get this:

>  sessionInfo()
R version 2.6.1 (2007-11-26)
powerpc-apple-darwin8.10.1

locale:
C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base    

other attached packages:
[1] rmacq_1.0-1


I believe my R and Rscript are from the same binary install of R 2.6.1:

[51]% which Rscript
/usr/local/bin/Rscript

[52]% ls -l /usr/local/bin/Rscript
lrwxr-xr-x   1 root  wheel  53B Oct 18 07:25 /usr/local/bin/Rscript@ 
-> /Library/Frameworks/R.framework/Resources/bin/Rscript

[53]% which R
/usr/local/bin/R

[54]% ls -l /usr/local/bin/R
lrwxr-xr-x   1 root  wheel  47B May  3  2007 /usr/local/bin/R@ -> 
/Library/Frameworks/R.framework/Resources/bin/R



On the other hand, when I build R from source, Rscript does work:

[100]% ./Rscript --version
R scripting front-end version 42724



Thanks
-Don

At 10:09 AM +0100 1/10/08, Ido M. Tamir wrote:
>Hi,
>
>I directed somebody to install R (2.6.1) on his OSX computer,
>following instructions from http://cran.r-project.org/bin/macosx.
>She used the provided binary image.
>She can run R from the console.
>
>The problem is that Rscript is not in the path (only minor, because ln -s is
>hopefully doable).
>But the script failed when I tried to put a hardcoded path to Rscript into the
>shebang line. And when I try to invoke it directly:
>
>>-bash: ./Rscript: cannot execute binary file
>
>On linux this works:
>>Rscript
>Usage: /path/to/Rscript [--options] [-e expr] file [args]
>
>--options accepted are
>....
>
>
>I would like to send her some Rscripts, but how can we make them
>run on her system?
>
>
>thank you very much,
>ido
>
>
>
>imaclab3:/Library/Frameworks/R.framework/Resources/bin ru$ ls -l
>
>total 1008
>-rwxrwxr-x   1 root  admin    1654 Nov 26 17:36 BATCH
>-rwxrwxr-x   1 root  admin    2188 Nov 26 17:36 COMPILE
>-rwxrwxr-x   1 root  admin   34391 Nov 26 17:36 INSTALL
>-rwxrwxr-x   1 root  admin    1593 Nov 26 17:36 LINK
>-rwxrwxr-x   1 root  admin    7210 Nov 26 17:37 R
>-rwxrwxr-x   1 root  admin    7210 Nov 26 17:37 R.orig
>-rw-rw-r--   1 root  admin     655 Nov 26 17:37 R.rej
>-rwxrwxr-x   1 root  admin    2244 Nov 26 17:36 REMOVE
>-rwxrwxr-x   1 root  admin     928 Nov 26 17:36 Rcmd
>-rwxrwxr-x   1 root  admin    9523 Nov 26 17:36 Rd2dvi
>-rwxrwxr-x   1 root  admin     842 Nov 26 17:36 Rd2txt
>-rwxrwxr-x   1 root  admin    3237 Nov 26 17:36 Rdconv
>-rwxrwxr-x   1 root  admin    1320 Nov 26 17:36 Rdiff
>-rwxrwxr-x   1 root  admin    2854 Nov 26 17:36 Rprof
>-rwxrwxr-x   1 root  admin   18084 Nov 26 17:36 Rscript
>-rwxrwxr-x   1 root  admin    4656 Nov 26 17:36 SHLIB
>-rwxrwxr-x   1 root  admin   16129 Nov 26 17:36 Sd2Rd
>-rwxrwxr-x   1 root  admin     730 Nov 26 17:36 Stangle
>-rwxrwxr-x   1 root  admin     726 Nov 26 17:36 Sweave
>-rwxrwxr-x   1 root  admin   21715 Nov 26 17:36 build
>-rwxrwxr-x   1 root  admin   78570 Nov 26 17:36 check
>-rwxrwxr-x   1 root  admin    6927 Nov 26 17:36 config
>drwxrwxr-x   4 root  admin     136 Nov 26 17:36 exec
>-rwxrwxr-x   1 root  admin    3613 Nov 26 17:36 f77_f2c
>-rwxrwxr-x   1 root  admin   10720 Nov 26 17:36 javareconf
>-rwxrwxr-x   1 root  admin  215101 Nov 26 17:36 libtool
>-rwxrwxr-x   1 root  admin    3495 Nov 26 17:36 mkinstalldirs
>-rwxrwxr-x   1 root  admin     413 Nov 26 17:36 pager
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
925-423-1062


From r.hankin at noc.soton.ac.uk  Fri Jan 11 09:24:37 2008
From: r.hankin at noc.soton.ac.uk (Robin Hankin)
Date: Fri, 11 Jan 2008 08:24:37 +0000
Subject: [R-SIG-Mac] dyld problem
Message-ID: <2B57E095-1143-4373-A65F-1B315940B2D1@noc.soton.ac.uk>

Hi

R-2.6.1, MacOSX 10.5.1


I've been running R fine since upgrading to 10.5.1, but now have a  
problem.

Clicking the "R" icon seems to work fine but typing "R" at
the command prompt gives me this:



245-10:~% R
dyld: Library not loaded: /usr/local/lib/libgcc_s.1.dylib
   Referenced from: /Library/Frameworks/R.framework/Resources/bin/exec/ 
ppc/R
   Reason: no suitable image found.  Did find:
	/usr/local/lib/libgcc_s.1.dylib: stat() failed with errno=62
Trace/BPT trap
245-10:~%



I'm sure it worked yesterday, and I rebooted my machine just now and
got the same error.  I don't think I changed anything (certainly nothing
deliberate, and I have not been tinkering with the system, as far as I  
know).


Anyone got an idea?






--
Robin Hankin
Uncertainty Analyst and Neutral Theorist,
National Oceanography Centre, Southampton
European Way, Southampton SO14 3ZH, UK
  tel  023-8059-7743


From jnmaloof at ucdavis.edu  Fri Jan 11 17:23:16 2008
From: jnmaloof at ucdavis.edu (Julin Maloof)
Date: Fri, 11 Jan 2008 08:23:16 -0800
Subject: [R-SIG-Mac] R-SIG-Mac] Rscript on OSX
In-Reply-To: <mailman.15.1199962803.29081.r-sig-mac@stat.math.ethz.ch>
References: <mailman.15.1199962803.29081.r-sig-mac@stat.math.ethz.ch>
Message-ID: <478797F4.8040105@ucdavis.edu>

Apologies if this is too simplistic an answer for what you need to do, but you could remove the #! line and run using 

R CMD BATCH file.R

where file.R is your script file with the shebang line removed.

help("BATCH") in R will give the details

--Julin

> Message: 1
> Date: Thu, 10 Jan 2008 10:09:06 +0100
> From: "Ido M. Tamir" <tamir at imp.univie.ac.at>
> Subject: [R-SIG-Mac] Rscript on OSX
> To: r-sig-mac at stat.math.ethz.ch
> Message-ID: <200801101009.06228.tamir at imp.univie.ac.at>
> Content-Type: text/plain;  charset="iso-8859-1"
> 
> Hi,
> 
> I directed somebody to install R (2.6.1) on his OSX computer,
> following instructions from http://cran.r-project.org/bin/macosx.
> She used the provided binary image.
> She can run R from the console.
> 
> The problem is that Rscript is not in the path (only minor, because ln -s is 
> hopefully doable). 
> But the script failed when I tried to put a hardcoded path to Rscript into the 
> shebang line. And when I try to invoke it directly:
> 
>> -bash: ./Rscript: cannot execute binary file
> 
> On linux this works:
>> Rscript
> Usage: /path/to/Rscript [--options] [-e expr] file [args]
> 
> --options accepted are
> ....
> 
> 
> I would like to send her some Rscripts, but how can we make them
> run on her system?
> 
> 
> thank you very much,
> ido
> 

-- 
Julin Maloof
Assistant Professor
Section of Plant Biology
University of California, Davis
1 Shields Ave
Davis, CA, 95616

voice: (530) 752-8077
fax:   (530) 752-5410


From simon.urbanek at r-project.org  Fri Jan 11 18:04:28 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 11 Jan 2008 12:04:28 -0500
Subject: [R-SIG-Mac] dyld problem
In-Reply-To: <2B57E095-1143-4373-A65F-1B315940B2D1@noc.soton.ac.uk>
References: <2B57E095-1143-4373-A65F-1B315940B2D1@noc.soton.ac.uk>
Message-ID: <6A16DCB2-4351-432A-89B1-8E4960DB1F93@r-project.org>

Robin,

you have actually found an interesting bug because of another bug ;).

The bug on the R side is that although libR pulls the right libgcc,  
but exec/*/R does not. To fix that run in Terminal (you'll need Xcode  
for this):

cd /Library/Frameworks/R.framework/Versions/2.6/Resources
install_name_tool -change /usr/local/lib/libgcc_s.1.dylib \
   `pwd`/lib/libgcc_s.1.dylib bin/exec/i386/R
install_name_tool -change /usr/local/lib/libgcc_s.1.dylib \
   `pwd`/lib/libgcc_s.1.dylib bin/exec/ppc/R

I have fixed the build script, so tomorrow's nightlies should be ok.

Now the actual bug that probably triggered this is Apple's installer  
(so far Xcode 2.5 and 3 are known) that screws up /usr/local/lib - it  
is an infinite symlink loop. If that is true, use the following to fix  
it:

sudo rm /usr/local/lib
sudo mv '/usr/local/lib 1' /usr/local/lib

Either of the above should fix the symptoms.

Cheers,
Simon


On Jan 11, 2008, at 3:24 AM, Robin Hankin wrote:

> Hi
>
> R-2.6.1, MacOSX 10.5.1
>
>
> I've been running R fine since upgrading to 10.5.1, but now have a
> problem.
>
> Clicking the "R" icon seems to work fine but typing "R" at
> the command prompt gives me this:
>
>
>
> 245-10:~% R
> dyld: Library not loaded: /usr/local/lib/libgcc_s.1.dylib
>   Referenced from: /Library/Frameworks/R.framework/Resources/bin/exec/
> ppc/R
>   Reason: no suitable image found.  Did find:
> 	/usr/local/lib/libgcc_s.1.dylib: stat() failed with errno=62
> Trace/BPT trap
> 245-10:~%
>
>
>
> I'm sure it worked yesterday, and I rebooted my machine just now and
> got the same error.  I don't think I changed anything (certainly  
> nothing
> deliberate, and I have not been tinkering with the system, as far as I
> know).
>
>
> Anyone got an idea?
>
>
>
>
>
>
> --
> Robin Hankin
> Uncertainty Analyst and Neutral Theorist,
> National Oceanography Centre, Southampton
> European Way, Southampton SO14 3ZH, UK
>  tel  023-8059-7743
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From knoblauch at lyon.inserm.fr  Sun Jan 13 19:43:52 2008
From: knoblauch at lyon.inserm.fr (Ken Knoblauch)
Date: Sun, 13 Jan 2008 17:43:52 -0100 (CET)
Subject: [R-SIG-Mac] Installer could install some files in "/" message
Message-ID: <49419.82.231.93.240.1200242632.squirrel@webmail.lyon.inserm.fr>

Hi,

I just tried to re-install the latest version R 2.6.1 (not the patched
version)
on my MacBook Pro with Leopard.  I get an error message that the Install
Failed
because the Installer could not install some files in "/".  I'm an admin
user and
gave the password before the installation. Any suggestions about where I
may have gone wrong.  I've copied over the Installer log below. The error
messages
are at the end.  Let me know if I should have provided additional
information.
Thank you, in advance.

best wishes,

Ken

Jan 13 17:33:06 Macintosh Installer[695]: @(#)PROGRAM:Install 
PROJECT:Install-378
Jan 13 17:33:06 Macintosh Installer[695]: @(#)PROGRAM:Installer 
PROJECT:Installer-278
Jan 13 17:33:06 Macintosh Installer[695]: Hardware: MacBookPro1,1 @ 2.16
GHz (x 2), 2048 MB RAM
Jan 13 17:33:06 Macintosh Installer[695]: Running OS Build: Mac OS X
10.5.1 (9B18)
Jan 13 17:33:06 Macintosh Installer[695]: R 2.6.1 Installation Log
Jan 13 17:33:06 Macintosh Installer[695]: Opened from:
/Volumes/R-2.6.1/R.mpkg
Jan 13 17:33:07 Macintosh installdb[697]: Opened receipt database on '/'
with schema 17.
Jan 13 17:33:18 Macintosh installdb[698]: Opened receipt database on '/'
with schema 17.
Jan 13 17:34:10 Macintosh Installer[695]:
================================================================================
Jan 13 17:34:10 Macintosh Installer[695]: User picked Custom Install
Jan 13 17:34:10 Macintosh Installer[695]: Choices selected for installation:
Jan 13 17:34:10 Macintosh Installer[695]: 	Upgrade: "R 2.6.1"
Jan 13 17:34:10 Macintosh Installer[695]: 	Upgrade: "R framework"
Jan 13 17:34:10 Macintosh Installer[695]: 	Upgrade: "R GUI for Mac OS X"
Jan 13 17:34:10 Macintosh Installer[695]: 	Upgrade: "GNU Fortran 4.2.1"
Jan 13 17:34:10 Macintosh Installer[695]: 	Upgrade: "Tcl/Tk 8.4.14"
Jan 13 17:34:10 Macintosh Installer[695]:
================================================================================
Jan 13 17:34:10 Macintosh installdb[703]: Opened receipt database on '/'
with schema 17.
Jan 13 17:34:10 Macintosh Installer[695]: Preparing volume "Macintosh HD"
for installation
Jan 13 17:34:10 Macintosh Installer[695]: Configuring volume "Macintosh HD"
Jan 13 17:34:11 Macintosh Installer[695]: Free space on "Macintosh HD":
57.6 GB (61821612032 bytes).
Jan 13 17:34:11 Macintosh Installer[695]: Create temporary directory
"/private/tmp/R-Framework.pkg.695DW6RU4"
Jan 13 17:34:11 Macintosh Installer[695]: Running install actions
Jan 13 17:34:11 Macintosh Installer[695]: Processing R Framework 2.6.1:
Jan 13 17:34:11 Macintosh Installer[695]: 	Determining files to install
Jan 13 17:34:11 Macintosh Installer[695]: 	Configuring deferred files
Jan 13 17:34:11 Macintosh Installer[695]: 	Determining obsolete files
Jan 13 17:34:12 Macintosh Installer[695]: 	Assembling temporary receipt
Jan 13 17:34:12 Macintosh Installer[695]: 	Performing pre-extraction actions
Jan 13 17:34:12 Macintosh Installer[695]: 	Removing obsoleted files
Jan 13 17:34:12 Macintosh Installer[695]: 	Creating destination path
Jan 13 17:34:12 Macintosh Installer[695]: 	Validating package payload
Jan 13 17:34:12 Macintosh Installer[695]: 	Starting file extraction
Jan 13 17:34:25 Macintosh Installer[695]: 	Performing post-extraction actions
Jan 13 17:34:25 Macintosh Installer[695]: 	Finishing receipt
Jan 13 17:34:26 Macintosh Installer[695]: Processing R GUI for Mac OS X:
Jan 13 17:34:26 Macintosh Installer[695]: 	Determining files to install
Jan 13 17:34:26 Macintosh Installer[695]: 	Configuring deferred files
Jan 13 17:34:26 Macintosh Installer[695]: 	Determining obsolete files
Jan 13 17:34:26 Macintosh Installer[695]: 	Assembling temporary receipt
Jan 13 17:34:26 Macintosh Installer[695]: 	Performing pre-extraction actions
Jan 13 17:34:26 Macintosh Installer[695]: 	Removing obsoleted files
Jan 13 17:34:26 Macintosh Installer[695]: 	Creating destination path
Jan 13 17:34:26 Macintosh Installer[695]: 	Validating package payload
Jan 13 17:34:26 Macintosh Installer[695]: 	Starting file extraction
Jan 13 17:34:27 Macintosh Installer[695]: 	Performing post-extraction actions
Jan 13 17:34:27 Macintosh Installer[695]: 	Finishing receipt
Jan 13 17:34:27 Macintosh Installer[695]: Processing GNU Fortran 4.2.1:
Jan 13 17:34:27 Macintosh Installer[695]: 	Determining files to install
Jan 13 17:34:27 Macintosh Installer[695]: 	Configuring deferred files
Jan 13 17:34:27 Macintosh Installer[695]: 	Determining obsolete files
Jan 13 17:34:27 Macintosh Installer[695]: 	Assembling temporary receipt
Jan 13 17:34:28 Macintosh Installer[695]: 	Performing pre-extraction actions
Jan 13 17:34:28 Macintosh Installer[695]: 	Removing obsoleted files
Jan 13 17:34:28 Macintosh Installer[695]: 	Creating destination path
Jan 13 17:34:28 Macintosh Installer[695]: 	Validating package payload
Jan 13 17:34:28 Macintosh Installer[695]: 	Starting file extraction
Jan 13 17:34:28 Macintosh pkgExtractor[711]: BomFileError 62: Too many
levels of symbolic links - ///usr/local/lib
Jan 13 17:34:29 Macintosh pkgExtractor[711]: pkgExtractor exited with
error 1 while processing package
'/Volumes/R-2.6.1/Packages/gfortran.pkg/Contents/Archive.pax.gz'
Jan 13 17:34:29 Macintosh Installer[695]: Install failed: The Installer
could not install some files in ?/?. Contact the software manufacturer for
assistance.
Jan 13 17:34:29 Macintosh Installer[695]: IFDInstallController 742140
state = 7
Jan 13 17:34:29 Macintosh Installer[695]: Displaying 'Install Failed' UI.
Jan 13 17:34:29 Macintosh Installer[695]: 'Install Failed' UI displayed
message:'The Installer could not install some files in ?/?. Contact the
software manufacturer for assistance.'.

-- 
Ken Knoblauch
Inserm U846
Institut Cellule Souche et Cerveau
D?partement Neurosciences Int?gratives
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr


From tmj at visi.com  Sun Jan 13 18:00:58 2008
From: tmj at visi.com (Thomas Juntunen)
Date: Sun, 13 Jan 2008 11:00:58 -0600
Subject: [R-SIG-Mac] Installer could install some files in "/" message
In-Reply-To: <49419.82.231.93.240.1200242632.squirrel@webmail.lyon.inserm.fr>
References: <49419.82.231.93.240.1200242632.squirrel@webmail.lyon.inserm.fr>
Message-ID: <20080113110058174367.9ee40869@visi.com>

On Sun, 13 Jan 2008 17:43:52 -0100 (CET), Ken Knoblauch wrote:

> I just tried to re-install the latest version R 2.6.1 (not the patched 
version)
> on my MacBook Pro with Leopard.  I get an error message that the Install 
Failed
> because the Installer could not install some files in "/".  I'm an admin user 
and
> gave the password before the installation. Any suggestions about where I
> may have gone wrong.

> Jan 13 17:34:28 Macintosh pkgExtractor[711]: BomFileError 62: Too many
> levels of symbolic links - ///usr/local/lib

This portion of the error message suggests you have run afoul of a problem 
Simon Urbanek just described in another thread. Basically if one upgrades from 
Tiger to Leopard including XTools, an "infinite" symbolic link is created by 
mistake. here is what Simon said in a prior message to fix it:

> Now the actual bug that probably triggered this is Apple's installer  
> (so far Xcode 2.5 and 3 are known) that screws up /usr/local/lib - it  
> is an infinite symlink loop. If that is true, use the following to fix  
> it:
> 
> sudo rm /usr/local/lib
> sudo mv '/usr/local/lib 1' /usr/local/lib
> 
> Either of the above should fix the symptoms.


HTH,
Thomas Juntunen


From ripley at stats.ox.ac.uk  Mon Jan 14 20:08:26 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 14 Jan 2008 19:08:26 +0000 (GMT)
Subject: [R-SIG-Mac] [R] Install RSPerl in Leopard
In-Reply-To: <Pine.LNX.4.64.0801141254360.22191@gannet.stats.ox.ac.uk>
References: <496ECF4E-7A7E-406D-9A95-BA07571BEEDB@gmail.com>
	<Pine.LNX.4.64.0801141254360.22191@gannet.stats.ox.ac.uk>
Message-ID: <Pine.LNX.4.64.0801141812190.12548@gannet.stats.ox.ac.uk>

On Mon, 14 Jan 2008, Prof Brian Ripley wrote:

> This is not the most appropriate list.  But the first answer is that the 
> package is not aware of sub-architectures, introduced a while back in R.
>
> The best thing is to follow the posting guide and contact the author: if that 
> fails, people on R-sig-mac might be able to walk you through the changes 
> needed.  It perhaps is as simple as editing
> RSPerl/src/RinPerlMakefile.in to say
>
> include $(R_HOME)/etc$(R_ARCH)/Makeconf
>
> That should fix the first problem.  But
>
>> cc1: error: invalid option ?arch=nocona?
>
> suggests there might be a further problem (for which use R-sig-mac).

On my system at least that seems a compiler options mismatch (it works on 
my self-built version of R-devel with the above change).  Removing 
-march=nocona in entries in

/Library/Frameworks/R.framework/Resources/etc/i386/Makeconf

on the CRAN build made this go to completion.  (My build does not 
have those.)  You can override in CFLAGS in personal Makevars (see 
'Writing R Extensions').

But I'll let those more expert than I on R-sig-mac comment on that issue.

>
>
>
> On Mon, 14 Jan 2008, David Ochoa wrote:
>
>> Hi,
>> 
>> I am having problems installing RSPerl 0.92-1 in my Mac OSX 10.5.1.
>> I?ve installed correctly R-2.6.1 with the .mpkg.
>> I run the next command: <R CMD INSTALL --configure-args='  --with-in-
>> perl ' RSPerl>
>> And the next error message appears:
>> 
>> 
>>
>>  RSPerl
>> * Installing to library '/Library/Frameworks/R.framework/Resources/
>> library'
>> * Installing *source* package 'RSPerl' ...
>> checking for perl... /usr/bin/perl
>> No support for any of the Perl modules from calling Perl from R.
>> *****************************************************
>>
>>        Set PERL5LIB to /Library/Frameworks/R.framework/Resources/
>> library/RSPerl/perl
>> 
>> *****************************************************
>> Testing: -F/Library/Frameworks/R.framework/.. -framework R
>> Using '/usr/bin/perl' as the perl executable
>> Perl modules (no):
>> Adding R package to list of Perl modules to enable callbacks to R from
>> Perl
>> Creating the C code for dynamically loading modules with native code
>> for Perl:  R
>> modules:   R; linking:
>> checking for gcc... gcc
>> checking for C compiler default output file name... a.out
>> checking whether the C compiler works... yes
>> checking whether we are cross compiling... no
>> checking for suffix of executables...
>> checking for suffix of object files... o
>> checking whether we are using the GNU C compiler... yes
>> checking whether gcc accepts -g... yes
>> checking for gcc option to accept ISO C89... none needed
>> Support R in Perl: yes
>> configure: creating ./config.status
>> config.status: creating src/Makevars
>> config.status: creating inst/scripts/RSPerl.csh
>> config.status: creating inst/scripts/RSPerl.bsh
>> config.status: creating src/RinPerlMakefile
>> config.status: creating src/Makefile.PL
>> config.status: creating cleanup
>> config.status: creating src/R.pm
>> config.status: creating R/perl5lib.R
>> making target all in RinPerlMakefile
>> RinPerlMakefile:5: /Library/Frameworks/R.framework/Resources/etc/
>> Makeconf: No such file or directory
>> make: *** No rule to make target `/Library/Frameworks/R.framework/
>> Resources/etc/Makeconf'.  Stop.
>> calling make -f Makefile.perl install
>> make: Makefile.perl: No such file or directory
>> make: *** No rule to make target `Makefile.perl'.  Stop.
>> chmod: blib/lib/R.pm: No such file or directory
>> Finished configuration
>> ** libs
>> ** arch - i386
>> gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
>> version-min=10.4 -std=gnu99 -no-cpp-precomp -I/Library/Frameworks/
>> R.framework/Resources/include -I/Library/Frameworks/R.framework/
>> Resources/include/i386 -I.  -arch i386 -arch ppc -g -pipe -fno-common -
>> DPERL_DARWIN -no-cpp-precomp -fno-strict-aliasing -Wdeclaration-after-
>> statement -I/usr/local/include  -I/System/Library/Perl/5.8.8/darwin-
>> thread-multi-2level/CORE  -DPERL_POLLUTE   -D_R_=1 -DUSE_R=1 -
>> DUSE_TOPLEVEL_EXEC=1 -DWITH_R_IN_PERL=1 -msse3    -fPIC  -g -O2 -
>> march=nocona -c Converters.c -o Converters.o
>> cc1: error: invalid option ?arch=nocona?
>> lipo: can't open input file: /var/folders/qc/qcR--kvAHYGoOkmr3ZNtvk++
>> +TM/-Tmp-//cclHWEBN.out (No such file or directory)
>> make: *** [Converters.o] Error 1
>> chmod: /Library/Frameworks/R.framework/Resources/library/RSPerl/libs/
>> i386/*: No such file or directory
>> ERROR: compilation failed for package 'RSPerl'
>> ** Removing '/Library/Frameworks/R.framework/Resources/library/RSPerl'
>> 
>> 
>> 
>> 
>> Have I will changed any enviroment variable?
>> Can anybody help me?
>> Thanks
>> 
>> 
>> 
>> David
>> 
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide 
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>> 
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From gblanchet.list at gmail.com  Mon Jan 14 22:42:07 2008
From: gblanchet.list at gmail.com (Guillaume Blanchet)
Date: Mon, 14 Jan 2008 14:42:07 -0700
Subject: [R-SIG-Mac] building R package
Message-ID: <2f2c96cb0801141342u111cecf4m4ca4e5da68228dbd@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080114/0a4a6f1c/attachment.pl 

From paboyoun at fhcrc.org  Tue Jan 15 19:52:57 2008
From: paboyoun at fhcrc.org (Patrick Aboyoun)
Date: Tue, 15 Jan 2008 10:52:57 -0800
Subject: [R-SIG-Mac] Compiling assembly instruction on GNU gcc/g++ 4.2.1
 (Apple Inc. build 5531)
Message-ID: <478D0109.8020407@fhcrc.org>

I am in the process of reconfiguring the build environment for the 
BioConductor packages on Mac OS X Leopard and am having an issue with 
the compilation of assembly instruction using the GNU gcc/g++ version 
2.4.1 (Apple Inc. build 5531) compiler and can't tell if this is a bug 
in the compiler, problem with the assembly code, or compiler flag 
misspecification. To demonstrate the issue I have taken a standard hello 
world application and injected some assembly instruction into a header 
file. I have two versions of GNU gcc/g++ compilers:

Leopard$ g++-4.2 --version
i686-apple-darwin9-g++-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5531)
Copyright (C) 2007 Free Software Foundation, Inc.
This is free software; see the source for copying conditions. There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

Leopard$ g++-4.0 --version
i686-apple-darwin9-g++-4.0.1 (GCC) 4.0.1 (Apple Inc. build 5465)
Copyright (C) 2005 Free Software Foundation, Inc.
This is free software; see the source for copying conditions. There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

When I try to compile the "mutant" hello world application on the 4.2.1 
version I get the following error message:

Leopard$ g++-4.2 -arch x86_64 -g -O2 -march=nocona -fasm-blocks hello.cpp
In file included from hello.cpp:2:
hello.hpp: In function ?int atomic_exchange_and_add(int*, int)?:
hello.hpp:15: error: expected `)' before ?:? token

and I have no issue when I compile on the 4.0.1 version

Leopard$ g++-4.0 -arch x86_64 -g -O2 -march=nocona -fasm-blocks hello.cpp
{...object file created without issue...}


The "mutant" hello world application compiles using gcc/g++ 4.2.1 
compilers on SUSE Linux and MinGW for Windows environments so it looks 
like there is something about the Apple port that is causing this issue. 
Does anybody have any insight on this matter? I would rather not 
rollback to the 4.0.1 compilers.


Patrick

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: hello.cpp
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080115/a6ce2cd0/attachment.pl 
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: hello.hpp
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080115/a6ce2cd0/attachment-0001.pl 

From knussear at usgs.gov  Tue Jan 15 20:36:09 2008
From: knussear at usgs.gov (Ken Nussear)
Date: Tue, 15 Jan 2008 11:36:09 -0800
Subject: [R-SIG-Mac] Batch Commenting in editor?
In-Reply-To: <mailman.15.1200394802.10591.r-sig-mac@stat.math.ethz.ch>
References: <mailman.15.1200394802.10591.r-sig-mac@stat.math.ethz.ch>
Message-ID: <BBF707FD-9FCC-4FDC-8B73-CA8CDBF9F2A9@usgs.gov>

Hi

Just wondering if there is a way to "batch comment" in the R editor? I  
like to paste model outputs in with my scripts and comment them out so  
I can follow things later. I thought it would be useful to be able to  
insert a comment symbol to a batch of lines all at once.

Any thoughts?

Ken

--
Kenneth E. Nussear
Research Herpetologist, USGS
(702) 564-4515  Fax  (702) 564-4600
knussear at usgs.gov


On Jan 15, 2008, at 3:00 AM, r-sig-mac-request at stat.math.ethz.ch wrote:

> Send R-SIG-Mac mailing list submissions to
> 	r-sig-mac at stat.math.ethz.ch
>
> To subscribe or unsubscribe via the World Wide Web, visit
> 	https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> or, via email, send a message with subject or body 'help' to
> 	r-sig-mac-request at stat.math.ethz.ch
>
> You can reach the person managing the list at
> 	r-sig-mac-owner at stat.math.ethz.ch
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of R-SIG-Mac digest..."
>
>
> Today's Topics:
>
>   1. Re:  [R] Install RSPerl in Leopard (Prof Brian Ripley)
>   2.  building R package (Guillaume Blanchet)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 14 Jan 2008 19:08:26 +0000 (GMT)
> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
> Subject: Re: [R-SIG-Mac] [R] Install RSPerl in Leopard
> To: David Ochoa <dogcaesar at gmail.com>
> Cc: r-sig-mac at r-project.org
> Message-ID: <Pine.LNX.4.64.0801141812190.12548 at gannet.stats.ox.ac.uk>
> Content-Type: text/plain; charset="iso-8859-1"
>
> On Mon, 14 Jan 2008, Prof Brian Ripley wrote:
>
>> This is not the most appropriate list.  But the first answer is  
>> that the
>> package is not aware of sub-architectures, introduced a while back  
>> in R.
>>
>> The best thing is to follow the posting guide and contact the  
>> author: if that
>> fails, people on R-sig-mac might be able to walk you through the  
>> changes
>> needed.  It perhaps is as simple as editing
>> RSPerl/src/RinPerlMakefile.in to say
>>
>> include $(R_HOME)/etc$(R_ARCH)/Makeconf
>>
>> That should fix the first problem.  But
>>
>>> cc1: error: invalid option ?arch=nocona?
>>
>> suggests there might be a further problem (for which use R-sig-mac).
>
> On my system at least that seems a compiler options mismatch (it  
> works on
> my self-built version of R-devel with the above change).  Removing
> -march=nocona in entries in
>
> /Library/Frameworks/R.framework/Resources/etc/i386/Makeconf
>
> on the CRAN build made this go to completion.  (My build does not
> have those.)  You can override in CFLAGS in personal Makevars (see
> 'Writing R Extensions').
>
> But I'll let those more expert than I on R-sig-mac comment on that  
> issue.
>
>>
>>
>>
>> On Mon, 14 Jan 2008, David Ochoa wrote:
>>
>>> Hi,
>>>
>>> I am having problems installing RSPerl 0.92-1 in my Mac OSX 10.5.1.
>>> I?ve installed correctly R-2.6.1 with the .mpkg.
>>> I run the next command: <R CMD INSTALL --configure-args='  --with- 
>>> in-
>>> perl ' RSPerl>
>>> And the next error message appears:
>>>
>>>
>>>
>>> RSPerl
>>> * Installing to library '/Library/Frameworks/R.framework/Resources/
>>> library'
>>> * Installing *source* package 'RSPerl' ...
>>> checking for perl... /usr/bin/perl
>>> No support for any of the Perl modules from calling Perl from R.
>>> *****************************************************
>>>
>>>       Set PERL5LIB to /Library/Frameworks/R.framework/Resources/
>>> library/RSPerl/perl
>>>
>>> *****************************************************
>>> Testing: -F/Library/Frameworks/R.framework/.. -framework R
>>> Using '/usr/bin/perl' as the perl executable
>>> Perl modules (no):
>>> Adding R package to list of Perl modules to enable callbacks to R  
>>> from
>>> Perl
>>> Creating the C code for dynamically loading modules with native code
>>> for Perl:  R
>>> modules:   R; linking:
>>> checking for gcc... gcc
>>> checking for C compiler default output file name... a.out
>>> checking whether the C compiler works... yes
>>> checking whether we are cross compiling... no
>>> checking for suffix of executables...
>>> checking for suffix of object files... o
>>> checking whether we are using the GNU C compiler... yes
>>> checking whether gcc accepts -g... yes
>>> checking for gcc option to accept ISO C89... none needed
>>> Support R in Perl: yes
>>> configure: creating ./config.status
>>> config.status: creating src/Makevars
>>> config.status: creating inst/scripts/RSPerl.csh
>>> config.status: creating inst/scripts/RSPerl.bsh
>>> config.status: creating src/RinPerlMakefile
>>> config.status: creating src/Makefile.PL
>>> config.status: creating cleanup
>>> config.status: creating src/R.pm
>>> config.status: creating R/perl5lib.R
>>> making target all in RinPerlMakefile
>>> RinPerlMakefile:5: /Library/Frameworks/R.framework/Resources/etc/
>>> Makeconf: No such file or directory
>>> make: *** No rule to make target `/Library/Frameworks/R.framework/
>>> Resources/etc/Makeconf'.  Stop.
>>> calling make -f Makefile.perl install
>>> make: Makefile.perl: No such file or directory
>>> make: *** No rule to make target `Makefile.perl'.  Stop.
>>> chmod: blib/lib/R.pm: No such file or directory
>>> Finished configuration
>>> ** libs
>>> ** arch - i386
>>> gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
>>> version-min=10.4 -std=gnu99 -no-cpp-precomp -I/Library/Frameworks/
>>> R.framework/Resources/include -I/Library/Frameworks/R.framework/
>>> Resources/include/i386 -I.  -arch i386 -arch ppc -g -pipe -fno- 
>>> common -
>>> DPERL_DARWIN -no-cpp-precomp -fno-strict-aliasing -Wdeclaration- 
>>> after-
>>> statement -I/usr/local/include  -I/System/Library/Perl/5.8.8/darwin-
>>> thread-multi-2level/CORE  -DPERL_POLLUTE   -D_R_=1 -DUSE_R=1 -
>>> DUSE_TOPLEVEL_EXEC=1 -DWITH_R_IN_PERL=1 -msse3    -fPIC  -g -O2 -
>>> march=nocona -c Converters.c -o Converters.o
>>> cc1: error: invalid option ?arch=nocona?
>>> lipo: can't open input file: /var/folders/qc/qcR--kvAHYGoOkmr3ZNtvk 
>>> ++
>>> +TM/-Tmp-//cclHWEBN.out (No such file or directory)
>>> make: *** [Converters.o] Error 1
>>> chmod: /Library/Frameworks/R.framework/Resources/library/RSPerl/ 
>>> libs/
>>> i386/*: No such file or directory
>>> ERROR: compilation failed for package 'RSPerl'
>>> ** Removing '/Library/Frameworks/R.framework/Resources/library/ 
>>> RSPerl'
>>>
>>>
>>>
>>>
>>> Have I will changed any enviroment variable?
>>> Can anybody help me?
>>> Thanks
>>>
>>>
>>>
>>> David
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>>
>>
>>
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> ------------------------------
>
> Message: 2
> Date: Mon, 14 Jan 2008 14:42:07 -0700
> From: "Guillaume Blanchet" <gblanchet.list at gmail.com>
> Subject: [R-SIG-Mac] building R package
> To: r-sig-mac at stat.math.ethz.ch
> Message-ID:
> 	<2f2c96cb0801141342u111cecf4m4ca4e5da68228dbd at mail.gmail.com>
> Content-Type: text/plain
>
> Hi all !
>
> I just installed Mac OS X 10.5.1 on my Intel MacBook Pro. Since I  
> have my
> personal packages that I build and modify every so often I also  
> installed
> Xcode 3. My packages contain either some C code, some Fortran code  
> or both.
>
> However, I can not build a binary of my package, which I know to be
> error-free since they were running without any bugs when I was  
> running Tiger
> (Mac OS 10.4.11).
>
> The message that is sent to me when I launch the command "R CMD build
> --binary AEM" (AEM being the name of my package) in the terminal is:
>
>
> macintosh:AEM Package ti-guiblanc$ R CMD build --binary AEM
> * checking for file 'AEM/DESCRIPTION' ... OK
> * preparing 'AEM':
> * checking DESCRIPTION meta-information ... OK
> * cleaning src
> * removing junk files
> * checking for LF line-endings in source and make files
> * checking for empty or unneeded directories
> * building binary distribution
> /var/folders/+5/+5Ch2A6BEb4+iULWkg5XEU+++TI/-Tmp-/Rinst965351719
> * Installing *source* package 'AEM' ...
> ** libs
> ** arch - i386
> gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk
> -mmacosx-version-min=10.4 -std=gnu99 -no-cpp-precomp
> -I/Library/Frameworks/R.framework/Resources/include
> -I/Library/Frameworks/R.framework/Resources/include/i386  -msse3    - 
> fPIC
> -g -O2 -march=nocona -c buildbinary.c -o buildbinary.o
> gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk
> -mmacosx-version-min=10.4 -std=gnu99 -dynamiclib
> -Wl,-headerpad_max_install_names -Wl,-macosx_version_min -Wl,10.4 - 
> undefined
> dynamic_lookup -single_module -multiply_defined suppress -L/usr/ 
> local/lib -o
> AEM.so buildbinary.o   -F/Library/Frameworks/R.framework/.. - 
> framework R
> ld: warning, duplicate dylib
> /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libgcc_s.1.dylib
> ** arch - ppc
> gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk
> -mmacosx-version-min=10.4 -std=gnu99 -no-cpp-precomp
> -I/Library/Frameworks/R.framework/Resources/include
> -I/Library/Frameworks/R.framework/Resources/include/ppc
> -I/usr/local/include    -fPIC  -g -O2 -c buildbinary.c -o  
> buildbinary.o
> gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk
> -mmacosx-version-min=10.4 -std=gnu99 -dynamiclib
> -Wl,-headerpad_max_install_names -Wl,-macosx_version_min -Wl,10.4 - 
> undefined
> dynamic_lookup -single_module -multiply_defined suppress -L/usr/ 
> local/lib -o
> AEM.so buildbinary.o   -F/Library/Frameworks/R.framework/.. - 
> framework R
> ld: warning, duplicate dylib
> /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libgcc_s.1.dylib
> ld: in /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libstdc++. 
> 6.dylib, file
> is not of required architecture
> collect2: ld returned 1 exit status
> make: *** [AEM.so] Error 1
> chmod:
> /var/folders/+5/+5Ch2A6BEb4+iULWkg5XEU+++TI/-Tmp-/Rinst965351719/AEM/ 
> libs/ppc/*:
> No such file or directory
> ERROR: compilation failed for package 'AEM'
> ** Removing
> '/var/folders/+5/+5Ch2A6BEb4+iULWkg5XEU+++TI/-Tmp-/Rinst965351719/AEM'
> ERROR
> * installation failed
>
>
> My knowledge of the UNIX code and the terminal is limited, so please  
> be
> gentle !
>
> Thanks in advance for any help.
>
> Have a nice day !
>
> Guillaume Blanchet
> PhD. candidate
> University of Alberta
>
> 	[[alternative HTML version deleted]]
>
>
>
> ------------------------------
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
> End of R-SIG-Mac Digest, Vol 59, Issue 8
> ****************************************


From a.beckerman at sheffield.ac.uk  Wed Jan 16 10:49:03 2008
From: a.beckerman at sheffield.ac.uk (Andrew Beckerman)
Date: Wed, 16 Jan 2008 09:49:03 +0000
Subject: [R-SIG-Mac] Fab editor, enhance?
In-Reply-To: <BBF707FD-9FCC-4FDC-8B73-CA8CDBF9F2A9@usgs.gov>
References: <mailman.15.1200394802.10591.r-sig-mac@stat.math.ethz.ch>
	<BBF707FD-9FCC-4FDC-8B73-CA8CDBF9F2A9@usgs.gov>
Message-ID: <9414F41C-E206-4AFE-A6AB-FA6E237807C1@sheffield.ac.uk>

Dear all -

while we are commenting on features that could go into the currently  
amazing editor, what about batch indenting?  Or have I missed that?

andrew

---------------------------------------------------------------------------------
Dr. Andrew Beckerman
Department of Animal and Plant Sciences, University of Sheffield,
Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
http://www.beckslab.staff.shef.ac.uk/
----------------------------------------------------------------------------------


On 15 Jan 2008, at 19:36, Ken Nussear wrote:

> Hi
>
> Just wondering if there is a way to "batch comment" in the R editor? I
> like to paste model outputs in with my scripts and comment them out so
> I can follow things later. I thought it would be useful to be able to
> insert a comment symbol to a batch of lines all at once.
>
> Any thoughts?
>
> Ken
>
> --
> Kenneth E. Nussear
> Research Herpetologist, USGS
> (702) 564-4515  Fax  (702) 564-4600
> knussear at usgs.gov
>
>
> On Jan 15, 2008, at 3:00 AM, r-sig-mac-request at stat.math.ethz.ch  
> wrote:
>
>> Send R-SIG-Mac mailing list submissions to
>> 	r-sig-mac at stat.math.ethz.ch
>>
>> To subscribe or unsubscribe via the World Wide Web, visit
>> 	https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> or, via email, send a message with subject or body 'help' to
>> 	r-sig-mac-request at stat.math.ethz.ch
>>
>> You can reach the person managing the list at
>> 	r-sig-mac-owner at stat.math.ethz.ch
>>
>> When replying, please edit your Subject line so it is more specific
>> than "Re: Contents of R-SIG-Mac digest..."
>>
>>
>> Today's Topics:
>>
>>  1. Re:  [R] Install RSPerl in Leopard (Prof Brian Ripley)
>>  2.  building R package (Guillaume Blanchet)
>>
>>
>> ----------------------------------------------------------------------
>>
>> Message: 1
>> Date: Mon, 14 Jan 2008 19:08:26 +0000 (GMT)
>> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
>> Subject: Re: [R-SIG-Mac] [R] Install RSPerl in Leopard
>> To: David Ochoa <dogcaesar at gmail.com>
>> Cc: r-sig-mac at r-project.org
>> Message-ID: <Pine.LNX.4.64.0801141812190.12548 at gannet.stats.ox.ac.uk>
>> Content-Type: text/plain; charset="iso-8859-1"
>>
>> On Mon, 14 Jan 2008, Prof Brian Ripley wrote:
>>
>>> This is not the most appropriate list.  But the first answer is
>>> that the
>>> package is not aware of sub-architectures, introduced a while back
>>> in R.
>>>
>>> The best thing is to follow the posting guide and contact the
>>> author: if that
>>> fails, people on R-sig-mac might be able to walk you through the
>>> changes
>>> needed.  It perhaps is as simple as editing
>>> RSPerl/src/RinPerlMakefile.in to say
>>>
>>> include $(R_HOME)/etc$(R_ARCH)/Makeconf
>>>
>>> That should fix the first problem.  But
>>>
>>>> cc1: error: invalid option ?arch=nocona?
>>>
>>> suggests there might be a further problem (for which use R-sig-mac).
>>
>> On my system at least that seems a compiler options mismatch (it
>> works on
>> my self-built version of R-devel with the above change).  Removing
>> -march=nocona in entries in
>>
>> /Library/Frameworks/R.framework/Resources/etc/i386/Makeconf
>>
>> on the CRAN build made this go to completion.  (My build does not
>> have those.)  You can override in CFLAGS in personal Makevars (see
>> 'Writing R Extensions').
>>
>> But I'll let those more expert than I on R-sig-mac comment on that
>> issue.
>>
>>>
>>>
>>>
>>> On Mon, 14 Jan 2008, David Ochoa wrote:
>>>
>>>> Hi,
>>>>
>>>> I am having problems installing RSPerl 0.92-1 in my Mac OSX 10.5.1.
>>>> I?ve installed correctly R-2.6.1 with the .mpkg.
>>>> I run the next command: <R CMD INSTALL --configure-args='  --with-
>>>> in-
>>>> perl ' RSPerl>
>>>> And the next error message appears:
>>>>
>>>>
>>>>
>>>> RSPerl
>>>> * Installing to library '/Library/Frameworks/R.framework/Resources/
>>>> library'
>>>> * Installing *source* package 'RSPerl' ...
>>>> checking for perl... /usr/bin/perl
>>>> No support for any of the Perl modules from calling Perl from R.
>>>> *****************************************************
>>>>
>>>>      Set PERL5LIB to /Library/Frameworks/R.framework/Resources/
>>>> library/RSPerl/perl
>>>>
>>>> *****************************************************
>>>> Testing: -F/Library/Frameworks/R.framework/.. -framework R
>>>> Using '/usr/bin/perl' as the perl executable
>>>> Perl modules (no):
>>>> Adding R package to list of Perl modules to enable callbacks to R
>>>> from
>>>> Perl
>>>> Creating the C code for dynamically loading modules with native  
>>>> code
>>>> for Perl:  R
>>>> modules:   R; linking:
>>>> checking for gcc... gcc
>>>> checking for C compiler default output file name... a.out
>>>> checking whether the C compiler works... yes
>>>> checking whether we are cross compiling... no
>>>> checking for suffix of executables...
>>>> checking for suffix of object files... o
>>>> checking whether we are using the GNU C compiler... yes
>>>> checking whether gcc accepts -g... yes
>>>> checking for gcc option to accept ISO C89... none needed
>>>> Support R in Perl: yes
>>>> configure: creating ./config.status
>>>> config.status: creating src/Makevars
>>>> config.status: creating inst/scripts/RSPerl.csh
>>>> config.status: creating inst/scripts/RSPerl.bsh
>>>> config.status: creating src/RinPerlMakefile
>>>> config.status: creating src/Makefile.PL
>>>> config.status: creating cleanup
>>>> config.status: creating src/R.pm
>>>> config.status: creating R/perl5lib.R
>>>> making target all in RinPerlMakefile
>>>> RinPerlMakefile:5: /Library/Frameworks/R.framework/Resources/etc/
>>>> Makeconf: No such file or directory
>>>> make: *** No rule to make target `/Library/Frameworks/R.framework/
>>>> Resources/etc/Makeconf'.  Stop.
>>>> calling make -f Makefile.perl install
>>>> make: Makefile.perl: No such file or directory
>>>> make: *** No rule to make target `Makefile.perl'.  Stop.
>>>> chmod: blib/lib/R.pm: No such file or directory
>>>> Finished configuration
>>>> ** libs
>>>> ** arch - i386
>>>> gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
>>>> version-min=10.4 -std=gnu99 -no-cpp-precomp -I/Library/Frameworks/
>>>> R.framework/Resources/include -I/Library/Frameworks/R.framework/
>>>> Resources/include/i386 -I.  -arch i386 -arch ppc -g -pipe -fno-
>>>> common -
>>>> DPERL_DARWIN -no-cpp-precomp -fno-strict-aliasing -Wdeclaration-
>>>> after-
>>>> statement -I/usr/local/include  -I/System/Library/Perl/5.8.8/ 
>>>> darwin-
>>>> thread-multi-2level/CORE  -DPERL_POLLUTE   -D_R_=1 -DUSE_R=1 -
>>>> DUSE_TOPLEVEL_EXEC=1 -DWITH_R_IN_PERL=1 -msse3    -fPIC  -g -O2 -
>>>> march=nocona -c Converters.c -o Converters.o
>>>> cc1: error: invalid option ?arch=nocona?
>>>> lipo: can't open input file: /var/folders/qc/qcR--kvAHYGoOkmr3ZNtvk
>>>> ++
>>>> +TM/-Tmp-//cclHWEBN.out (No such file or directory)
>>>> make: *** [Converters.o] Error 1
>>>> chmod: /Library/Frameworks/R.framework/Resources/library/RSPerl/
>>>> libs/
>>>> i386/*: No such file or directory
>>>> ERROR: compilation failed for package 'RSPerl'
>>>> ** Removing '/Library/Frameworks/R.framework/Resources/library/
>>>> RSPerl'
>>>>
>>>>
>>>>
>>>>
>>>> Have I will changed any enviroment variable?
>>>> Can anybody help me?
>>>> Thanks
>>>>
>>>>
>>>>
>>>> David
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>
>>>
>>
>> -- 
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>
>> ------------------------------
>>
>> Message: 2
>> Date: Mon, 14 Jan 2008 14:42:07 -0700
>> From: "Guillaume Blanchet" <gblanchet.list at gmail.com>
>> Subject: [R-SIG-Mac] building R package
>> To: r-sig-mac at stat.math.ethz.ch
>> Message-ID:
>> 	<2f2c96cb0801141342u111cecf4m4ca4e5da68228dbd at mail.gmail.com>
>> Content-Type: text/plain
>>
>> Hi all !
>>
>> I just installed Mac OS X 10.5.1 on my Intel MacBook Pro. Since I
>> have my
>> personal packages that I build and modify every so often I also
>> installed
>> Xcode 3. My packages contain either some C code, some Fortran code
>> or both.
>>
>> However, I can not build a binary of my package, which I know to be
>> error-free since they were running without any bugs when I was
>> running Tiger
>> (Mac OS 10.4.11).
>>
>> The message that is sent to me when I launch the command "R CMD build
>> --binary AEM" (AEM being the name of my package) in the terminal is:
>>
>>
>> macintosh:AEM Package ti-guiblanc$ R CMD build --binary AEM
>> * checking for file 'AEM/DESCRIPTION' ... OK
>> * preparing 'AEM':
>> * checking DESCRIPTION meta-information ... OK
>> * cleaning src
>> * removing junk files
>> * checking for LF line-endings in source and make files
>> * checking for empty or unneeded directories
>> * building binary distribution
>> /var/folders/+5/+5Ch2A6BEb4+iULWkg5XEU+++TI/-Tmp-/Rinst965351719
>> * Installing *source* package 'AEM' ...
>> ** libs
>> ** arch - i386
>> gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk
>> -mmacosx-version-min=10.4 -std=gnu99 -no-cpp-precomp
>> -I/Library/Frameworks/R.framework/Resources/include
>> -I/Library/Frameworks/R.framework/Resources/include/i386  -msse3    -
>> fPIC
>> -g -O2 -march=nocona -c buildbinary.c -o buildbinary.o
>> gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk
>> -mmacosx-version-min=10.4 -std=gnu99 -dynamiclib
>> -Wl,-headerpad_max_install_names -Wl,-macosx_version_min -Wl,10.4 -
>> undefined
>> dynamic_lookup -single_module -multiply_defined suppress -L/usr/
>> local/lib -o
>> AEM.so buildbinary.o   -F/Library/Frameworks/R.framework/.. -
>> framework R
>> ld: warning, duplicate dylib
>> /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libgcc_s.1.dylib
>> ** arch - ppc
>> gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk
>> -mmacosx-version-min=10.4 -std=gnu99 -no-cpp-precomp
>> -I/Library/Frameworks/R.framework/Resources/include
>> -I/Library/Frameworks/R.framework/Resources/include/ppc
>> -I/usr/local/include    -fPIC  -g -O2 -c buildbinary.c -o
>> buildbinary.o
>> gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk
>> -mmacosx-version-min=10.4 -std=gnu99 -dynamiclib
>> -Wl,-headerpad_max_install_names -Wl,-macosx_version_min -Wl,10.4 -
>> undefined
>> dynamic_lookup -single_module -multiply_defined suppress -L/usr/
>> local/lib -o
>> AEM.so buildbinary.o   -F/Library/Frameworks/R.framework/.. -
>> framework R
>> ld: warning, duplicate dylib
>> /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libgcc_s.1.dylib
>> ld: in /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libstdc++.
>> 6.dylib, file
>> is not of required architecture
>> collect2: ld returned 1 exit status
>> make: *** [AEM.so] Error 1
>> chmod:
>> /var/folders/+5/+5Ch2A6BEb4+iULWkg5XEU+++TI/-Tmp-/Rinst965351719/AEM/
>> libs/ppc/*:
>> No such file or directory
>> ERROR: compilation failed for package 'AEM'
>> ** Removing
>> '/var/folders/+5/+5Ch2A6BEb4+iULWkg5XEU+++TI/-Tmp-/Rinst965351719/ 
>> AEM'
>> ERROR
>> * installation failed
>>
>>
>> My knowledge of the UNIX code and the terminal is limited, so please
>> be
>> gentle !
>>
>> Thanks in advance for any help.
>>
>> Have a nice day !
>>
>> Guillaume Blanchet
>> PhD. candidate
>> University of Alberta
>>
>> 	[[alternative HTML version deleted]]
>>
>>
>>
>> ------------------------------
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>> End of R-SIG-Mac Digest, Vol 59, Issue 8
>> ****************************************
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From w.northcott at unsw.edu.au  Wed Jan 16 23:45:23 2008
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Thu, 17 Jan 2008 09:45:23 +1100
Subject: [R-SIG-Mac] Compiling assembly instruction on GNU gcc/g++ 4.2.1
	(Apple Inc. build 5531)
In-Reply-To: <mailman.3890.1200476961.4315.r-sig-mac@stat.math.ethz.ch>
References: <mailman.3890.1200476961.4315.r-sig-mac@stat.math.ethz.ch>
Message-ID: <F51DA42F-FC6D-44B5-9DFB-ED5F765EC501@unsw.edu.au>

On 16/01/2008, at 8:49 PM, Patrick Aboyoun wrote:

> When I try to compile the "mutant" hello world application on the  
> 4.2.1
> version I get the following error message:
>
> Leopard$ g++-4.2 -arch x86_64 -g -O2 -march=nocona -fasm-blocks  
> hello.cpp
> In file included from hello.cpp:2:
> hello.hpp: In function ?int atomic_exchange_and_add(int*, int)?:
> hello.hpp:15: error: expected `)' before ?:? token
>
> and I have no issue when I compile on the 4.0.1 version
>
> Leopard$ g++-4.0 -arch x86_64 -g -O2 -march=nocona -fasm-blocks  
> hello.cpp
> {...object file created without issue...}

I don't know, but I would suspect that your problem is in using '-arch  
x86_64' and '-march=nocona'.

As I understand the first means "build this for the full range of  
present and future Apple 64 bit Intel hardware and, if specified, lipo  
it up into a fat binary'  While the second means 'optimise this for  
nocona architecture.'

I would have thought you could combine -march nocona with -m64, but  
combining it with -arch x86_64 might just confuse the compiler.

Bill


From paboyoun at fhcrc.org  Thu Jan 17 00:03:37 2008
From: paboyoun at fhcrc.org (Patrick Aboyoun)
Date: Wed, 16 Jan 2008 15:03:37 -0800
Subject: [R-SIG-Mac] Compiling assembly instruction on GNU gcc/g++ 4.2.1
 (Apple Inc. build 5531)
In-Reply-To: <F51DA42F-FC6D-44B5-9DFB-ED5F765EC501@unsw.edu.au>
References: <mailman.3890.1200476961.4315.r-sig-mac@stat.math.ethz.ch>
	<F51DA42F-FC6D-44B5-9DFB-ED5F765EC501@unsw.edu.au>
Message-ID: <478E8D49.3030303@fhcrc.org>

Thanks Bill for the suggestion, but conflicting -arch and -march 
compiler flags don't appear to be the issue. Here are some other 
compilation attempts:


Leopard$ g++-4.2 -arch x86_64 -g -O2 -march=nocona -fasm-blocks hello.cpp
In file included from hello.cpp:2:
hello.hpp: In function 'int atomic_exchange_and_add(int*, int)':
hello.hpp:15: error: expected `)' before ':' token

Leopard$ g++-4.2 -arch x86_64 -g -O2 -fasm-blocks hello.cpp
In file included from hello.cpp:2:
hello.hpp: In function 'int atomic_exchange_and_add(int*, int)':
hello.hpp:15: error: expected `)' before ':' token

Leopard$ g++-4.2 -g -O2 -fasm-blocks hello.cpp
In file included from hello.cpp:2:
hello.hpp: In function 'int atomic_exchange_and_add(int*, int)':
hello.hpp:15: error: expected `)' before ':' token

Leopard$ g++-4.2 -fasm-blocks hello.cpp
In file included from hello.cpp:2:
hello.hpp: In function 'int atomic_exchange_and_add(int*, int)':
hello.hpp:15: error: expected `)' before ':' token

Leopard$ g++-4.2 hello.cpp
In file included from hello.cpp:2:
hello.hpp: In function 'int atomic_exchange_and_add(int*, int)':
hello.hpp:11: error: asm blocks not enabled, use `-fasm-blocks'
hello.hpp:15: error: expected `)' before ':' token


Cheers,
Patrick




Bill Northcott wrote:
> On 16/01/2008, at 8:49 PM, Patrick Aboyoun wrote:
>
>> When I try to compile the "mutant" hello world application on the 4.2.1
>> version I get the following error message:
>>
>> Leopard$ g++-4.2 -arch x86_64 -g -O2 -march=nocona -fasm-blocks 
>> hello.cpp
>> In file included from hello.cpp:2:
>> hello.hpp: In function ?int atomic_exchange_and_add(int*, int)?:
>> hello.hpp:15: error: expected `)' before ?:? token
>>
>> and I have no issue when I compile on the 4.0.1 version
>>
>> Leopard$ g++-4.0 -arch x86_64 -g -O2 -march=nocona -fasm-blocks 
>> hello.cpp
>> {...object file created without issue...}
>
> I don't know, but I would suspect that your problem is in using '-arch 
> x86_64' and '-march=nocona'.
>
> As I understand the first means "build this for the full range of 
> present and future Apple 64 bit Intel hardware and, if specified, lipo 
> it up into a fat binary'  While the second means 'optimise this for 
> nocona architecture.'
>
> I would have thought you could combine -march nocona with -m64, but 
> combining it with -arch x86_64 might just confuse the compiler.
>
> Bill
>


From thatsanicehatyouhave at mac.com  Thu Jan 17 11:36:08 2008
From: thatsanicehatyouhave at mac.com (thatsanicehatyouhave at mac.com)
Date: Thu, 17 Jan 2008 10:36:08 +0000
Subject: [R-SIG-Mac] Find bug
Message-ID: <84BF3EED-F691-41C7-8F18-83A9C7FF4EE8@mac.com>

Hi,

Just a quick bug report.

Open an R editor with some text and make that the front window.
Search for a string.
The string is found as expected, but the console window takes focus  
and becomes the front window.

Cheers,

Demitri


From murdoch at stats.uwo.ca  Thu Jan 17 12:38:33 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 17 Jan 2008 06:38:33 -0500
Subject: [R-SIG-Mac] Find bug
In-Reply-To: <84BF3EED-F691-41C7-8F18-83A9C7FF4EE8@mac.com>
References: <84BF3EED-F691-41C7-8F18-83A9C7FF4EE8@mac.com>
Message-ID: <478F3E39.4060702@stats.uwo.ca>

thatsanicehatyouhave at mac.com wrote:
> Hi,
>
> Just a quick bug report.
>
> Open an R editor with some text and make that the front window.
> Search for a string.
> The string is found as expected, but the console window takes focus  
> and becomes the front window.

Which version are you using?  I just tried this in R 2.6.1, R.app 
1.22-devel (4859), and didn't see it.

Duncan Murdoch


From mervyn.thomas at emphron.com  Fri Jan 18 22:00:34 2008
From: mervyn.thomas at emphron.com (Mervyn Thomas)
Date: Sat, 19 Jan 2008 07:00:34 +1000
Subject: [R-SIG-Mac] Re Find Bug
Message-ID: <47911372.8000007@emphron.com>

I have the same problem (the console window taking focus).

I am running "R version 2.6.1 (2007-11-26)"  svn revision 43537.


It seems almost churlish to file a bug report for such a wonderful 
product! Thanks guys :)

Mervyn Thomas

-------------- next part --------------
A non-text attachment was scrubbed...
Name: mervyn.thomas.vcf
Type: text/x-vcard
Size: 380 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080119/2659b362/attachment.vcf 

From mandy.ng at genetics.kcl.ac.uk  Thu Jan 17 17:25:15 2008
From: mandy.ng at genetics.kcl.ac.uk (Mandy Ng)
Date: Thu, 17 Jan 2008 16:25:15 +0000
Subject: [R-SIG-Mac]  Applescript window selection question
Message-ID: <FC52CE3A-51A3-4A0B-A6CA-258F8A493D51@genetics.kcl.ac.uk>

hiya,

I saw your reply from R-SIG-Mac for question of applescript window.   
You wrote:

John,

In textmate, below line is used:

osascript -e 'tell application "R.app" to activate' -e "tell
application \"R.app\" to cmd \"source(file='$TM_FILEPATH',
print.eval=TRUE)\""

I used similar constructs for SubEthaEdit and Smultron in AppleScript.

Try using tell **application**.

Rob

===========================================================

Can I ask you how to redirect the R routines within smultran to run on  
R?  I believe an applescript can help but I'm fairly new to  
applescript and smultran, and have no idea where to start.

Thanks very much in advance.

Cheers,
Mandy


From cowan.pd at gmail.com  Sat Jan 19 21:12:07 2008
From: cowan.pd at gmail.com (Peter Cowan)
Date: Sat, 19 Jan 2008 12:12:07 -0800
Subject: [R-SIG-Mac] S4 packages and function hinting in R.app
Message-ID: <e1fc21b0801191212t265438aue49eada8236103d4@mail.gmail.com>

Hello all,

First off, many thanks to the developers for the great work on the R
gui, I have been amazed with the pace of development over the last few
years that I've been using R.

I've did a quick googling of the list and looked at the last three
months and couldn't find this issue, but it seem like it may have come
up before, if so my apologies.

After loading an S4 package, when I type a function that isn't defined
I get the following error immediately upon typing the open paren:
"Error in args(mytest) : no function to return from, jumping to top
level"

This error disappears if I turn off the "Show function hints" in the
preferences.  I *love* this feature, it's it one of the things that
makes the mac version by far the best R gui.  However, I also am
developing an S4 package and often find myself typing functions that
don't exist.  Is there a work around that always me to have my cake
and eat it too?

> library(lme4)
Loading required package: Matrix
Loading required package: lattice

Attaching package: 'Matrix'


	The following object(s) are masked from package:stats :

	 xtabs

Warning messages:
1: In namespaceImportFrom(self, asNamespace(ns)) :
  replacing previous import: cov2cor
2: In namespaceImportFrom(self, asNamespace(ns)) :
  replacing previous import: xtabs
Error in args(mytest) : no function to return from, jumping to top level
> mytest(

R.app version: GUI 1.22-devel (4859) (4859)

> sessionInfo()
R version 2.6.1 (2007-11-26)
i386-apple-darwin8.10.1

locale:
en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets
[6] methods   base


From simon.urbanek at r-project.org  Sun Jan 20 09:53:51 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 20 Jan 2008 09:53:51 +0100
Subject: [R-SIG-Mac] building R package
In-Reply-To: <2f2c96cb0801141342u111cecf4m4ca4e5da68228dbd@mail.gmail.com>
References: <2f2c96cb0801141342u111cecf4m4ca4e5da68228dbd@mail.gmail.com>
Message-ID: <30CA9BD1-DC8C-461E-BCE2-5A6EF7B913EF@r-project.org>

Guillaume,

although your package may be ok, your system is not. You have  
apparently broken libraries in /usr/local/lib that override your  
system libraries and thus cause your package to fail to build (from  
the output it's at least libstdc++). This is likely from some broken  
local compiler installations. I strongly recommend removing all 3rd  
party compilers, especially from /usr/local, and install only the GNU  
Fortran that R supplies (if needed).

Cheers,
Simon


On Jan 14, 2008, at 10:42 PM, Guillaume Blanchet wrote:

> Hi all !
>
> I just installed Mac OS X 10.5.1 on my Intel MacBook Pro. Since I  
> have my
> personal packages that I build and modify every so often I also  
> installed
> Xcode 3. My packages contain either some C code, some Fortran code  
> or both.
>
> However, I can not build a binary of my package, which I know to be
> error-free since they were running without any bugs when I was  
> running Tiger
> (Mac OS 10.4.11).
>
> The message that is sent to me when I launch the command "R CMD build
> --binary AEM" (AEM being the name of my package) in the terminal is:
>
>
> macintosh:AEM Package ti-guiblanc$ R CMD build --binary AEM
> * checking for file 'AEM/DESCRIPTION' ... OK
> * preparing 'AEM':
> * checking DESCRIPTION meta-information ... OK
> * cleaning src
> * removing junk files
> * checking for LF line-endings in source and make files
> * checking for empty or unneeded directories
> * building binary distribution
> /var/folders/+5/+5Ch2A6BEb4+iULWkg5XEU+++TI/-Tmp-/Rinst965351719
> * Installing *source* package 'AEM' ...
> ** libs
> ** arch - i386
> gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk
> -mmacosx-version-min=10.4 -std=gnu99 -no-cpp-precomp
> -I/Library/Frameworks/R.framework/Resources/include
> -I/Library/Frameworks/R.framework/Resources/include/i386  -msse3    - 
> fPIC
> -g -O2 -march=nocona -c buildbinary.c -o buildbinary.o
> gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk
> -mmacosx-version-min=10.4 -std=gnu99 -dynamiclib
> -Wl,-headerpad_max_install_names -Wl,-macosx_version_min -Wl,10.4 - 
> undefined
> dynamic_lookup -single_module -multiply_defined suppress -L/usr/ 
> local/lib -o
> AEM.so buildbinary.o   -F/Library/Frameworks/R.framework/.. - 
> framework R
> ld: warning, duplicate dylib
> /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libgcc_s.1.dylib
> ** arch - ppc
> gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk
> -mmacosx-version-min=10.4 -std=gnu99 -no-cpp-precomp
> -I/Library/Frameworks/R.framework/Resources/include
> -I/Library/Frameworks/R.framework/Resources/include/ppc
> -I/usr/local/include    -fPIC  -g -O2 -c buildbinary.c -o  
> buildbinary.o
> gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk
> -mmacosx-version-min=10.4 -std=gnu99 -dynamiclib
> -Wl,-headerpad_max_install_names -Wl,-macosx_version_min -Wl,10.4 - 
> undefined
> dynamic_lookup -single_module -multiply_defined suppress -L/usr/ 
> local/lib -o
> AEM.so buildbinary.o   -F/Library/Frameworks/R.framework/.. - 
> framework R
> ld: warning, duplicate dylib
> /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libgcc_s.1.dylib
> ld: in /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libstdc++. 
> 6.dylib, file
> is not of required architecture
> collect2: ld returned 1 exit status
> make: *** [AEM.so] Error 1
> chmod:
> /var/folders/+5/+5Ch2A6BEb4+iULWkg5XEU+++TI/-Tmp-/Rinst965351719/AEM/ 
> libs/ppc/*:
> No such file or directory
> ERROR: compilation failed for package 'AEM'
> ** Removing
> '/var/folders/+5/+5Ch2A6BEb4+iULWkg5XEU+++TI/-Tmp-/Rinst965351719/AEM'
> ERROR
> * installation failed
>
>
> My knowledge of the UNIX code and the terminal is limited, so please  
> be
> gentle !
>
> Thanks in advance for any help.
>
> Have a nice day !
>
> Guillaume Blanchet
> PhD. candidate
> University of Alberta
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Sun Jan 20 09:56:40 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 20 Jan 2008 09:56:40 +0100
Subject: [R-SIG-Mac] Batch Commenting in editor?
In-Reply-To: <BBF707FD-9FCC-4FDC-8B73-CA8CDBF9F2A9@usgs.gov>
References: <mailman.15.1200394802.10591.r-sig-mac@stat.math.ethz.ch>
	<BBF707FD-9FCC-4FDC-8B73-CA8CDBF9F2A9@usgs.gov>
Message-ID: <0206BEAF-4C19-4ECE-BF30-F27C004CB61E@r-project.org>

Ken,

sounds like a good idea and it's on my ToDo list ... Patches are of  
course welcome ;).

Cheers,
Simon

On Jan 15, 2008, at 8:36 PM, Ken Nussear wrote:

> Hi
>
> Just wondering if there is a way to "batch comment" in the R editor? I
> like to paste model outputs in with my scripts and comment them out so
> I can follow things later. I thought it would be useful to be able to
> insert a comment symbol to a batch of lines all at once.
>
> Any thoughts?
>
> Ken
>
> --
> Kenneth E. Nussear
> Research Herpetologist, USGS
> (702) 564-4515  Fax  (702) 564-4600
> knussear at usgs.gov
>
>
> On Jan 15, 2008, at 3:00 AM, r-sig-mac-request at stat.math.ethz.ch  
> wrote:
>
>> Send R-SIG-Mac mailing list submissions to
>> 	r-sig-mac at stat.math.ethz.ch
>>
>> To subscribe or unsubscribe via the World Wide Web, visit
>> 	https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> or, via email, send a message with subject or body 'help' to
>> 	r-sig-mac-request at stat.math.ethz.ch
>>
>> You can reach the person managing the list at
>> 	r-sig-mac-owner at stat.math.ethz.ch
>>
>> When replying, please edit your Subject line so it is more specific
>> than "Re: Contents of R-SIG-Mac digest..."
>>
>>
>> Today's Topics:
>>
>>  1. Re:  [R] Install RSPerl in Leopard (Prof Brian Ripley)
>>  2.  building R package (Guillaume Blanchet)
>>
>>
>> ----------------------------------------------------------------------
>>
>> Message: 1
>> Date: Mon, 14 Jan 2008 19:08:26 +0000 (GMT)
>> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
>> Subject: Re: [R-SIG-Mac] [R] Install RSPerl in Leopard
>> To: David Ochoa <dogcaesar at gmail.com>
>> Cc: r-sig-mac at r-project.org
>> Message-ID: <Pine.LNX.4.64.0801141812190.12548 at gannet.stats.ox.ac.uk>
>> Content-Type: text/plain; charset="iso-8859-1"
>>
>> On Mon, 14 Jan 2008, Prof Brian Ripley wrote:
>>
>>> This is not the most appropriate list.  But the first answer is
>>> that the
>>> package is not aware of sub-architectures, introduced a while back
>>> in R.
>>>
>>> The best thing is to follow the posting guide and contact the
>>> author: if that
>>> fails, people on R-sig-mac might be able to walk you through the
>>> changes
>>> needed.  It perhaps is as simple as editing
>>> RSPerl/src/RinPerlMakefile.in to say
>>>
>>> include $(R_HOME)/etc$(R_ARCH)/Makeconf
>>>
>>> That should fix the first problem.  But
>>>
>>>> cc1: error: invalid option ?arch=nocona?
>>>
>>> suggests there might be a further problem (for which use R-sig-mac).
>>
>> On my system at least that seems a compiler options mismatch (it
>> works on
>> my self-built version of R-devel with the above change).  Removing
>> -march=nocona in entries in
>>
>> /Library/Frameworks/R.framework/Resources/etc/i386/Makeconf
>>
>> on the CRAN build made this go to completion.  (My build does not
>> have those.)  You can override in CFLAGS in personal Makevars (see
>> 'Writing R Extensions').
>>
>> But I'll let those more expert than I on R-sig-mac comment on that
>> issue.
>>
>>>
>>>
>>>
>>> On Mon, 14 Jan 2008, David Ochoa wrote:
>>>
>>>> Hi,
>>>>
>>>> I am having problems installing RSPerl 0.92-1 in my Mac OSX 10.5.1.
>>>> I?ve installed correctly R-2.6.1 with the .mpkg.
>>>> I run the next command: <R CMD INSTALL --configure-args='  --with-
>>>> in-
>>>> perl ' RSPerl>
>>>> And the next error message appears:
>>>>
>>>>
>>>>
>>>> RSPerl
>>>> * Installing to library '/Library/Frameworks/R.framework/Resources/
>>>> library'
>>>> * Installing *source* package 'RSPerl' ...
>>>> checking for perl... /usr/bin/perl
>>>> No support for any of the Perl modules from calling Perl from R.
>>>> *****************************************************
>>>>
>>>>      Set PERL5LIB to /Library/Frameworks/R.framework/Resources/
>>>> library/RSPerl/perl
>>>>
>>>> *****************************************************
>>>> Testing: -F/Library/Frameworks/R.framework/.. -framework R
>>>> Using '/usr/bin/perl' as the perl executable
>>>> Perl modules (no):
>>>> Adding R package to list of Perl modules to enable callbacks to R
>>>> from
>>>> Perl
>>>> Creating the C code for dynamically loading modules with native  
>>>> code
>>>> for Perl:  R
>>>> modules:   R; linking:
>>>> checking for gcc... gcc
>>>> checking for C compiler default output file name... a.out
>>>> checking whether the C compiler works... yes
>>>> checking whether we are cross compiling... no
>>>> checking for suffix of executables...
>>>> checking for suffix of object files... o
>>>> checking whether we are using the GNU C compiler... yes
>>>> checking whether gcc accepts -g... yes
>>>> checking for gcc option to accept ISO C89... none needed
>>>> Support R in Perl: yes
>>>> configure: creating ./config.status
>>>> config.status: creating src/Makevars
>>>> config.status: creating inst/scripts/RSPerl.csh
>>>> config.status: creating inst/scripts/RSPerl.bsh
>>>> config.status: creating src/RinPerlMakefile
>>>> config.status: creating src/Makefile.PL
>>>> config.status: creating cleanup
>>>> config.status: creating src/R.pm
>>>> config.status: creating R/perl5lib.R
>>>> making target all in RinPerlMakefile
>>>> RinPerlMakefile:5: /Library/Frameworks/R.framework/Resources/etc/
>>>> Makeconf: No such file or directory
>>>> make: *** No rule to make target `/Library/Frameworks/R.framework/
>>>> Resources/etc/Makeconf'.  Stop.
>>>> calling make -f Makefile.perl install
>>>> make: Makefile.perl: No such file or directory
>>>> make: *** No rule to make target `Makefile.perl'.  Stop.
>>>> chmod: blib/lib/R.pm: No such file or directory
>>>> Finished configuration
>>>> ** libs
>>>> ** arch - i386
>>>> gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
>>>> version-min=10.4 -std=gnu99 -no-cpp-precomp -I/Library/Frameworks/
>>>> R.framework/Resources/include -I/Library/Frameworks/R.framework/
>>>> Resources/include/i386 -I.  -arch i386 -arch ppc -g -pipe -fno-
>>>> common -
>>>> DPERL_DARWIN -no-cpp-precomp -fno-strict-aliasing -Wdeclaration-
>>>> after-
>>>> statement -I/usr/local/include  -I/System/Library/Perl/5.8.8/ 
>>>> darwin-
>>>> thread-multi-2level/CORE  -DPERL_POLLUTE   -D_R_=1 -DUSE_R=1 -
>>>> DUSE_TOPLEVEL_EXEC=1 -DWITH_R_IN_PERL=1 -msse3    -fPIC  -g -O2 -
>>>> march=nocona -c Converters.c -o Converters.o
>>>> cc1: error: invalid option ?arch=nocona?
>>>> lipo: can't open input file: /var/folders/qc/qcR--kvAHYGoOkmr3ZNtvk
>>>> ++
>>>> +TM/-Tmp-//cclHWEBN.out (No such file or directory)
>>>> make: *** [Converters.o] Error 1
>>>> chmod: /Library/Frameworks/R.framework/Resources/library/RSPerl/
>>>> libs/
>>>> i386/*: No such file or directory
>>>> ERROR: compilation failed for package 'RSPerl'
>>>> ** Removing '/Library/Frameworks/R.framework/Resources/library/
>>>> RSPerl'
>>>>
>>>>
>>>>
>>>>
>>>> Have I will changed any enviroment variable?
>>>> Can anybody help me?
>>>> Thanks
>>>>
>>>>
>>>>
>>>> David
>>>>
>>>> ______________________________________________
>>>> R-help at r-project.org mailing list
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> PLEASE do read the posting guide
>>>> http://www.R-project.org/posting-guide.html
>>>> and provide commented, minimal, self-contained, reproducible code.
>>>>
>>>
>>>
>>
>> -- 
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>
>> ------------------------------
>>
>> Message: 2
>> Date: Mon, 14 Jan 2008 14:42:07 -0700
>> From: "Guillaume Blanchet" <gblanchet.list at gmail.com>
>> Subject: [R-SIG-Mac] building R package
>> To: r-sig-mac at stat.math.ethz.ch
>> Message-ID:
>> 	<2f2c96cb0801141342u111cecf4m4ca4e5da68228dbd at mail.gmail.com>
>> Content-Type: text/plain
>>
>> Hi all !
>>
>> I just installed Mac OS X 10.5.1 on my Intel MacBook Pro. Since I
>> have my
>> personal packages that I build and modify every so often I also
>> installed
>> Xcode 3. My packages contain either some C code, some Fortran code
>> or both.
>>
>> However, I can not build a binary of my package, which I know to be
>> error-free since they were running without any bugs when I was
>> running Tiger
>> (Mac OS 10.4.11).
>>
>> The message that is sent to me when I launch the command "R CMD build
>> --binary AEM" (AEM being the name of my package) in the terminal is:
>>
>>
>> macintosh:AEM Package ti-guiblanc$ R CMD build --binary AEM
>> * checking for file 'AEM/DESCRIPTION' ... OK
>> * preparing 'AEM':
>> * checking DESCRIPTION meta-information ... OK
>> * cleaning src
>> * removing junk files
>> * checking for LF line-endings in source and make files
>> * checking for empty or unneeded directories
>> * building binary distribution
>> /var/folders/+5/+5Ch2A6BEb4+iULWkg5XEU+++TI/-Tmp-/Rinst965351719
>> * Installing *source* package 'AEM' ...
>> ** libs
>> ** arch - i386
>> gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk
>> -mmacosx-version-min=10.4 -std=gnu99 -no-cpp-precomp
>> -I/Library/Frameworks/R.framework/Resources/include
>> -I/Library/Frameworks/R.framework/Resources/include/i386  -msse3    -
>> fPIC
>> -g -O2 -march=nocona -c buildbinary.c -o buildbinary.o
>> gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk
>> -mmacosx-version-min=10.4 -std=gnu99 -dynamiclib
>> -Wl,-headerpad_max_install_names -Wl,-macosx_version_min -Wl,10.4 -
>> undefined
>> dynamic_lookup -single_module -multiply_defined suppress -L/usr/
>> local/lib -o
>> AEM.so buildbinary.o   -F/Library/Frameworks/R.framework/.. -
>> framework R
>> ld: warning, duplicate dylib
>> /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libgcc_s.1.dylib
>> ** arch - ppc
>> gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk
>> -mmacosx-version-min=10.4 -std=gnu99 -no-cpp-precomp
>> -I/Library/Frameworks/R.framework/Resources/include
>> -I/Library/Frameworks/R.framework/Resources/include/ppc
>> -I/usr/local/include    -fPIC  -g -O2 -c buildbinary.c -o
>> buildbinary.o
>> gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk
>> -mmacosx-version-min=10.4 -std=gnu99 -dynamiclib
>> -Wl,-headerpad_max_install_names -Wl,-macosx_version_min -Wl,10.4 -
>> undefined
>> dynamic_lookup -single_module -multiply_defined suppress -L/usr/
>> local/lib -o
>> AEM.so buildbinary.o   -F/Library/Frameworks/R.framework/.. -
>> framework R
>> ld: warning, duplicate dylib
>> /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libgcc_s.1.dylib
>> ld: in /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libstdc++.
>> 6.dylib, file
>> is not of required architecture
>> collect2: ld returned 1 exit status
>> make: *** [AEM.so] Error 1
>> chmod:
>> /var/folders/+5/+5Ch2A6BEb4+iULWkg5XEU+++TI/-Tmp-/Rinst965351719/AEM/
>> libs/ppc/*:
>> No such file or directory
>> ERROR: compilation failed for package 'AEM'
>> ** Removing
>> '/var/folders/+5/+5Ch2A6BEb4+iULWkg5XEU+++TI/-Tmp-/Rinst965351719/ 
>> AEM'
>> ERROR
>> * installation failed
>>
>>
>> My knowledge of the UNIX code and the terminal is limited, so please
>> be
>> gentle !
>>
>> Thanks in advance for any help.
>>
>> Have a nice day !
>>
>> Guillaume Blanchet
>> PhD. candidate
>> University of Alberta
>>
>> 	[[alternative HTML version deleted]]
>>
>>
>>
>> ------------------------------
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>> End of R-SIG-Mac Digest, Vol 59, Issue 8
>> ****************************************
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From goedman at mac.com  Sun Jan 20 22:35:06 2008
From: goedman at mac.com (Rob Goedman)
Date: Sun, 20 Jan 2008 13:35:06 -0800
Subject: [R-SIG-Mac] Applescript window selection question
In-Reply-To: <FC52CE3A-51A3-4A0B-A6CA-258F8A493D51@genetics.kcl.ac.uk>
References: <FC52CE3A-51A3-4A0B-A6CA-258F8A493D51@genetics.kcl.ac.uk>
Message-ID: <8661A05F-1344-4BBA-A30D-AA585FDC3F75@mac.com>

Hi Mandy,

It's a while since I played around with Smultron.

Command-B in Smultron opens the Commands pane. There are some examples
of commands available. If you define a new command collection, e.g. R,  
a command
name, e.g. 'Source file',  and place in the command window (lower half  
of right side
of the Commands pane):

#!/bin/bash
osascript -e 'tell application "R.app" to activate'
osascript -e "tell application \"R.app\" to cmd \"source(file="%%p",  
print.eval=TRUE)\""

R should start and the current file (%%p) passed to R.

You can select 'Inline' and define a shortcut, e.g. Command-R in  
Smultron's Commands pane.

I expect someone who knows osascript well can do much better, e.g. if  
the file path
contains blanks, etc. But this might get you going.

Rob

On Jan 17, 2008, at 8:25 AM, Mandy Ng wrote:

> hiya,
>
> I saw your reply from R-SIG-Mac for question of applescript window.
> You wrote:
>
> John,
>
> In textmate, below line is used:
>
> osascript -e 'tell application "R.app" to activate' -e "tell
> application \"R.app\" to cmd \"source(file='$TM_FILEPATH',
> print.eval=TRUE)\""
>
> I used similar constructs for SubEthaEdit and Smultron in AppleScript.
>
> Try using tell **application**.
>
> Rob
>
> ===========================================================
>
> Can I ask you how to redirect the R routines within smultran to run on
> R?  I believe an applescript can help but I'm fairly new to
> applescript and smultran, and have no idea where to start.
>
> Thanks very much in advance.
>
> Cheers,
> Mandy
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From rlevy at ucsd.edu  Mon Jan 21 11:04:38 2008
From: rlevy at ucsd.edu (Roger Levy)
Date: Mon, 21 Jan 2008 02:04:38 -0800
Subject: [R-SIG-Mac] WinBUGS on OS X through R2WinBUGS?
Message-ID: <47946E36.3040407@ucsd.edu>

Has anyone gotten WinBUGS to work on OS X through R2WinBUGS?  I have 
managed to get WinBUGS 1.4 to work on my Intel Mac (I run Tiger) through 
Darwine, but cannot get the bugs() command in R2WinBUGS to work.  I 
follow the directions in Andrew Gelman's example here:

   http://www.stat.columbia.edu/~gelman/bugsR/runningbugs.html

but get stuck at the crucial bugs() invocation line:


 > schools.sim <- bugs (data, inits, parameters, "schools.bug", 
n.chains=3, n.iter=1000)
sh: line 1: no: command not found
Error in .fileCopy(file.path(bugs.directory, "System/Rsrc/Registry.odc"),  :
   no files to copy from
Error in if (!file.exists(dos.location)) stop(paste("WinBUGS executable 
does not exist in",  :
   argument is of length zero
Error in .fileCopy(file.path(bugs.directory, 
"System/Rsrc/Registry_Rsave.odc"),  :
   no files to copy from
sh: line 1: no: command not found
sh: line 1: no: command not found
sh: line 1: no: command not found
sh: line 1: no: command not found
sh: line 1: no: command not found
sh: line 1: no: command not found
sh: line 1: no: command not found
sh: line 1: no: command not found


Using the proper bugs.directory parameter cuts out some of the errors 
but doesn't get things to work:


 > schools.sim <- bugs (data, inits, parameters, "schools.bug", 
n.chains=3, n.iter=1000,bugs.directory="/Applications/WinBUGS14")
sh: line 1: no: command not found
Error in file(file, "r") : unable to open connection
In addition: Warning message:
In file(file, "r") :
   cannot open file 'codaIndex.txt', reason 'No such file or directory'
sh: line 1: no: command not found
sh: line 1: no: command not found
sh: line 1: no: command not found
sh: line 1: no: command not found
sh: line 1: no: command not found
sh: line 1: no: command not found
sh: line 1: no: command not found
sh: line 1: no: command not found
/bin/sh: line 1: no: command not found


Any words of wisdom would be much appreciated!

Many thanks,

Roger

-- 

Roger Levy                      Email: rlevy at ucsd.edu
Assistant Professor             Phone: 858-534-7219
Department of Linguistics       Fax:   858-534-4789
UC San Diego                    Web:   http://ling.ucsd.edu/~rlevy


From gblanchet.list at gmail.com  Mon Jan 21 17:49:57 2008
From: gblanchet.list at gmail.com (Guillaume Blanchet)
Date: Mon, 21 Jan 2008 09:49:57 -0700
Subject: [R-SIG-Mac] building R package
In-Reply-To: <30CA9BD1-DC8C-461E-BCE2-5A6EF7B913EF@r-project.org>
References: <2f2c96cb0801141342u111cecf4m4ca4e5da68228dbd@mail.gmail.com>
	<30CA9BD1-DC8C-461E-BCE2-5A6EF7B913EF@r-project.org>
Message-ID: <2f2c96cb0801210849u6d55af86n9ce9df2807eef74b@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080121/9dcf7533/attachment.pl 

From mckellercran at gmail.com  Mon Jan 21 19:24:36 2008
From: mckellercran at gmail.com (Matthew Keller)
Date: Mon, 21 Jan 2008 11:24:36 -0700
Subject: [R-SIG-Mac] R-2.6-branch make failed
Message-ID: <3f547caa0801211024s71c2b1d0rb3db59d630e9e3ff@mail.gmail.com>

Hi all,

New Mac Pro arrived last week and I would like to install the 64 bit
version of R on it, but the 64 bit build (R-2.6-branch) of R at
http://R.research.att.com/ has shown "make FAILED" all week. I have a
project that I need to do that will require lots of  memory. Should I
go ahead and try to compile 64 bit R myself from the "64-bit R for Mac
OS X" page (despite the fact that the page says that it is
deprecated), or will I run into the same problems that are causing the
R-2.6-branch build to fail? Having no experience compiling anything, I
had wanted to avoid this, but I am willing to give it a try if it will
work. Thanks in advance,

Matt



-- 
Matthew C Keller
Asst. Professor of Psychology
University of Colorado at Boulder
www.matthewckeller.com


From w.northcott at unsw.edu.au  Mon Jan 21 23:54:32 2008
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Tue, 22 Jan 2008 09:54:32 +1100
Subject: [R-SIG-Mac] WinBUGS on OS X through R2WinBUGS?
In-Reply-To: <mailman.13.1200913204.15263.r-sig-mac@stat.math.ethz.ch>
References: <mailman.13.1200913204.15263.r-sig-mac@stat.math.ethz.ch>
Message-ID: <BF455308-3AF4-4A76-BAE9-C7ACB01CA960@unsw.edu.au>

On 21/01/2008, at 10:00 PM, Roger Levy wrote:
> Has anyone gotten WinBUGS to work on OS X through R2WinBUGS?  I have
> managed to get WinBUGS 1.4 to work on my Intel Mac (I run Tiger)  
> through
> Darwine, but cannot get the bugs() command in R2WinBUGS to work.  I
> follow the directions in Andrew Gelman's example here:
>
>   http://www.stat.columbia.edu/~gelman/bugsR/runningbugs.html

I did some post some messages about this a few weeks back on both BUGS  
and CrossoverMac discussion lists.  (look for messages about winepath)

As you discovered Winbugs will run happily in using WINE or the  
CrossoverMac packaged version of it.

However, the WINE support in R2WinBUGS is thoroughly broken.  It  
depends on undocumented and unsupported features of particular  
versions of WINE.  These have been changed in recent versions of WINE  
and now that bit of R2WinBUGS needs a complete rewrite.  I can see  
what needs to be done, I just need to find the time

You can run BUGS models in JAGS which now has a working R interface  
package - rjags.  I am hoping to get a fat MacOS binary done for this  
in the next few days and Martyn Plummer says he will put it on the  
JAGS site at http://www-fis.iarc.fr/~martyn/software/jags/.  It is  
even possible to use the standard 32 bit R distribution and a 32 bit  
build of rjags to run a model on 64bit JAGS on a Core 2 Duo Mac.

It would still be nice to have Winbugs available to generate a  
comparison with results from JAGS.

Bill Northcott


From rlevy at ucsd.edu  Tue Jan 22 00:21:53 2008
From: rlevy at ucsd.edu (Roger Levy)
Date: Mon, 21 Jan 2008 15:21:53 -0800
Subject: [R-SIG-Mac] WinBUGS on OS X through R2WinBUGS?
In-Reply-To: <BF455308-3AF4-4A76-BAE9-C7ACB01CA960@unsw.edu.au>
References: <mailman.13.1200913204.15263.r-sig-mac@stat.math.ethz.ch>
	<BF455308-3AF4-4A76-BAE9-C7ACB01CA960@unsw.edu.au>
Message-ID: <47952911.6020303@ucsd.edu>

Bill Northcott wrote:
> On 21/01/2008, at 10:00 PM, Roger Levy wrote:
>> Has anyone gotten WinBUGS to work on OS X through R2WinBUGS?  I have
>> managed to get WinBUGS 1.4 to work on my Intel Mac (I run Tiger) through
>> Darwine, but cannot get the bugs() command in R2WinBUGS to work.  I
>> follow the directions in Andrew Gelman's example here:
>>
>>   http://www.stat.columbia.edu/~gelman/bugsR/runningbugs.html
> 
> I did some post some messages about this a few weeks back on both BUGS 
> and CrossoverMac discussion lists.  (look for messages about winepath)
> 
> As you discovered Winbugs will run happily in using WINE or the 
> CrossoverMac packaged version of it.
> 
> However, the WINE support in R2WinBUGS is thoroughly broken.  It depends 
> on undocumented and unsupported features of particular versions of 
> WINE.  These have been changed in recent versions of WINE and now that 
> bit of R2WinBUGS needs a complete rewrite.  I can see what needs to be 
> done, I just need to find the time
> 
> You can run BUGS models in JAGS which now has a working R interface 
> package - rjags.  I am hoping to get a fat MacOS binary done for this in 
> the next few days and Martyn Plummer says he will put it on the JAGS 
> site at http://www-fis.iarc.fr/~martyn/software/jags/.  It is even 
> possible to use the standard 32 bit R distribution and a 32 bit build of 
> rjags to run a model on 64bit JAGS on a Core 2 Duo Mac.
> 
> It would still be nice to have Winbugs available to generate a 
> comparison with results from JAGS.

Many thanks for the information, Bill.  I'm really glad you saw my query.

My needs are not urgent, so it sounds like the best thing to do would be 
to wait for you to finish your binary and then try it out.  I'll keep my 
eyes peeled!

Best & thanks,

Roger

-- 

Roger Levy                      Email: rlevy at ucsd.edu
Assistant Professor             Phone: 858-534-7219
Department of Linguistics       Fax:   858-534-4789
UC San Diego                    Web:   http://ling.ucsd.edu/~rlevy


From knussear at usgs.gov  Tue Jan 22 15:31:36 2008
From: knussear at usgs.gov (Ken Nussear)
Date: Tue, 22 Jan 2008 06:31:36 -0800
Subject: [R-SIG-Mac] Install issues and R CMD INSTALL error
In-Reply-To: <mailman.17.1200999604.21098.r-sig-mac@stat.math.ethz.ch>
References: <mailman.17.1200999604.21098.r-sig-mac@stat.math.ethz.ch>
Message-ID: <1733F1DF-637E-496E-BDD0-707A59A1E3DE@usgs.gov>

Hi All

I'm trying to get spgrass6 installed and working on my system. I'm  
running R 2.6.1 and R gui 1.23 - devel (4901) and Mac OS 10.5.1

I got the required package rgdal (binary) from the kingchaos site and  
that installed fine. I checked the "At System Level in R framework)  
option". Then I got the spgrass 6 source and did a source install,  
which appeared to run fine. I can load both the rgdal and the spgrass6  
package in the package manager, or with a library call when using R  
within RGUI.

However, my understanding of the process is that I should be running R  
via the command line from within GRASS in order to link the two to run  
the stats I need. When I try to load the libraries from R within GRASS  
I get the following errors:

 > library(rgdal)
Error in library(rgdal) : there is no package called 'rgdal'

 > library(spgrass6)
Error in library(spgrass6) : there is no package called 'spgrass6'

So somehow these packages are being installed somewhere that the  
commanline R cannot see. Since I cannot seem to find out where this is  
I decided to try to re-install these libraries.

So when I try to run the install I get.....

 > R CMD INSTALL /Users/knussear/Downloads/spgrass6_0.4-4.tar.gz
Error: unexpected symbol in "R CMD"

so now I'm pretty stuck on both fronts!

Does anyone know of a solution?

Thanks

Ken


From knussear at usgs.gov  Tue Jan 22 18:59:41 2008
From: knussear at usgs.gov (Ken Nussear)
Date: Tue, 22 Jan 2008 09:59:41 -0800
Subject: [R-SIG-Mac] Install issues and R CMD INSTALL error
Message-ID: <BDB54456-6BF3-4733-B35D-C9F6F8991FBF@usgs.gov>

More information....

I found where the R.app installer put the rgdal and spgrass6 files,  
and they are not in the system level frameworks as requested, but  
rather in

  /Users/knussear/Library/R/2.6/library

I copied the files from there to

/Library/Frameworks/R.framework/Versions/2.6/Resources/library

and things seem to load properly....

Still in the air - why did the R installer put them in this directory  
despite my request for the system level frameworks, and why doesn't R  
CMD INSTALL work?

Ken


From r.hankin at noc.soton.ac.uk  Wed Jan 23 10:10:58 2008
From: r.hankin at noc.soton.ac.uk (Robin Hankin)
Date: Wed, 23 Jan 2008 09:10:58 +0000
Subject: [R-SIG-Mac] compilation difficulties
Message-ID: <E4037BDF-40FB-4A7B-8B87-886B851997BD@noc.soton.ac.uk>

hits=-2.6 tests=BAYES_00
X-USF-Spam-Flag: NO

Hi


I am having difficulty compiling one of my packages.
I have recently upgraded to macOSX10.5.1, and installed the latest
Xcode 3.0.  I reinstalled R-2.6.1 just now from CRAN (binary), and  
then rebooted
my machine.

Any insights gratefully received.


Robin




R CMD INSTALL gives:


45-10:~/scratch% sudo R CMD INSTALL ./aylmer
Password:
* Installing to library '/Library/Frameworks/R.framework/Resources/ 
library'
* Installing *source* package 'aylmer' ...
** libs
g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
ppc  -I/usr/local/include    -fPIC  -g -O2 -c aylmer.cpp -o aylmer.o
g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
ppc  -I/usr/local/include    -fPIC  -g -O2 -c board.cpp -o board.o
g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -dynamiclib -Wl,-headerpad_max_install_names -Wl,- 
macosx_version_min -Wl,10.4 -undefined dynamic_lookup -single_module - 
multiply_defined suppress -L/usr/local/lib -o aylmer.so aylmer.o  
board.o   -F/Library/Frameworks/R.framework/.. -framework R
ld: warning, duplicate dylib /Developer/SDKs/MacOSX10.4u.sdk/usr/local/ 
lib/libgcc_s.1.dylib
** arch - i386
g++ -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
i386  -msse3    -fPIC  -g -O2 -march=nocona -c aylmer.cpp -o aylmer.o
g++ -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
i386  -msse3    -fPIC  -g -O2 -march=nocona -c board.cpp -o board.o
g++ -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -dynamiclib -Wl,-headerpad_max_install_names -Wl,- 
macosx_version_min -Wl,10.4 -undefined dynamic_lookup -single_module - 
multiply_defined suppress -L/usr/local/lib -o aylmer.so aylmer.o  
board.o   -F/Library/Frameworks/R.framework/.. -framework R
ld: in /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libreadline. 
5.2.dylib, file is not of required architecture
collect2: ld returned 1 exit status
make: *** [aylmer.so] Error 1
chmod: /Library/Frameworks/R.framework/Resources/library/aylmer/libs/ 
i386/*: No such file or directory
** arch - ppc
g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
ppc  -I/usr/local/include    -fPIC  -g -O2 -c aylmer.cpp -o aylmer.o
g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
ppc  -I/usr/local/include    -fPIC  -g -O2 -c board.cpp -o board.o
g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -dynamiclib -Wl,-headerpad_max_install_names -Wl,- 
macosx_version_min -Wl,10.4 -undefined dynamic_lookup -single_module - 
multiply_defined suppress -L/usr/local/lib -o aylmer.so aylmer.o  
board.o   -F/Library/Frameworks/R.framework/.. -framework R
ld: warning, duplicate dylib /Developer/SDKs/MacOSX10.4u.sdk/usr/local/ 
lib/libgcc_s.1.dylib
ERROR: compilation failed for package 'aylmer'
** Removing '/Library/Frameworks/R.framework/Resources/library/aylmer'
** Restoring previous '/Library/Frameworks/R.framework/Resources/ 
library/aylmer'
245-10:~/scratch%







--
Robin Hankin
Uncertainty Analyst and Neutral Theorist,
National Oceanography Centre, Southampton
European Way, Southampton SO14 3ZH, UK
  tel  023-8059-7743


From r.hankin at noc.soton.ac.uk  Thu Jan 24 11:00:03 2008
From: r.hankin at noc.soton.ac.uk (Robin Hankin)
Date: Thu, 24 Jan 2008 10:00:03 +0000
Subject: [R-SIG-Mac] further compilation difficulties
Message-ID: <1C480D45-1484-4BCD-9CAD-624D3595939A@noc.soton.ac.uk>

hits=-2.6 tests=BAYES_00
X-USF-Spam-Flag: NO

Hi

I'm still having difficulty compiling a package on my desktop,
  that works fine on my laptop. [thanks for the offline help, guys!]

The desktop machine is a ppc architecture but I can't seem to
stop R CMD build from trying to do the i386 compilations;
script cut-and-pasted below.



I have even removed

/Library/Frameworks/R.framework/Resources/etc/i386/Makeconf

[with a view to stopping any 386 architecture compilations].

but R CMD build complains about not being able to find it.


How to get round this?



245-10:~/scratch% sudo R CMD INSTALL aylmer_0.4-3.tar.gz
Password:
* Installing to library '/Library/Frameworks/R.framework/Resources/ 
library'
* Installing *source* package 'aylmer' ...
** libs
g++-4.0 -arch ppc -isysroot /Developer/SDKs/MacOSX10.5.sdk -no-cpp- 
precomp -I/Library/Frameworks/R.framework/Resources/include -I/Library/ 
Frameworks/R.framework/Resources/include/ppc  -I/usr/local/include    - 
fPIC  -g -O2 -c aylmer.cpp -o aylmer.o
g++-4.0 -arch ppc -isysroot /Developer/SDKs/MacOSX10.5.sdk -no-cpp- 
precomp -I/Library/Frameworks/R.framework/Resources/include -I/Library/ 
Frameworks/R.framework/Resources/include/ppc  -I/usr/local/include    - 
fPIC  -g -O2 -c board.cpp -o board.o
g++-4.0 -arch ppc -isysroot /Developer/SDKs/MacOSX10.5.sdk -dynamiclib  
-Wl,-headerpad_max_install_names -Wl,-macosx_version_min -Wl,10.4 - 
undefined dynamic_lookup -single_module -multiply_defined suppress -L/ 
usr/local/lib -o aylmer.so aylmer.o board.o   -F/Library/Frameworks/ 
R.framework/.. -framework R
ld: warning, duplicate dylib /Developer/SDKs/MacOSX10.5.sdk/usr/local/ 
lib/libgcc_s.1.dylib
** arch - i386
/Library/Frameworks/R.framework/Resources/share/make/shlib.mk:3: / 
Library/Frameworks/R.framework/Resources/etc/i386/Makeconf: No such  
file or directory
make: *** No rule to make target `/Library/Frameworks/R.framework/ 
Resources/etc/i386/Makeconf'.  Stop.
chmod: /Library/Frameworks/R.framework/Resources/library/aylmer/libs/ 
i386/*: No such file or directory
** arch - ppc
g++-4.0 -arch ppc -isysroot /Developer/SDKs/MacOSX10.5.sdk -no-cpp- 
precomp -I/Library/Frameworks/R.framework/Resources/include -I/Library/ 
Frameworks/R.framework/Resources/include/ppc  -I/usr/local/include    - 
fPIC  -g -O2 -c aylmer.cpp -o aylmer.o
g++-4.0 -arch ppc -isysroot /Developer/SDKs/MacOSX10.5.sdk -no-cpp- 
precomp -I/Library/Frameworks/R.framework/Resources/include -I/Library/ 
Frameworks/R.framework/Resources/include/ppc  -I/usr/local/include    - 
fPIC  -g -O2 -c board.cpp -o board.o
g++-4.0 -arch ppc -isysroot /Developer/SDKs/MacOSX10.5.sdk -dynamiclib  
-Wl,-headerpad_max_install_names -Wl,-macosx_version_min -Wl,10.4 - 
undefined dynamic_lookup -single_module -multiply_defined suppress -L/ 
usr/local/lib -o aylmer.so aylmer.o board.o   -F/Library/Frameworks/ 
R.framework/.. -framework R
ld: warning, duplicate dylib /Developer/SDKs/MacOSX10.5.sdk/usr/local/ 
lib/libgcc_s.1.dylib
ERROR: compilation failed for package 'aylmer'
** Removing '/Library/Frameworks/R.framework/Resources/library/aylmer'
** Restoring previous '/Library/Frameworks/R.framework/Resources/ 
library/aylmer'
245-10:~/scratch%




--
Robin Hankin
Uncertainty Analyst and Neutral Theorist,
National Oceanography Centre, Southampton
European Way, Southampton SO14 3ZH, UK
  tel  023-8059-7743


From thatsanicehatyouhave at mac.com  Thu Jan 24 11:00:52 2008
From: thatsanicehatyouhave at mac.com (Demitri Muna)
Date: Thu, 24 Jan 2008 10:00:52 +0000
Subject: [R-SIG-Mac] Find bug
In-Reply-To: <478F3E39.4060702@stats.uwo.ca>
References: <84BF3EED-F691-41C7-8F18-83A9C7FF4EE8@mac.com>
	<478F3E39.4060702@stats.uwo.ca>
Message-ID: <544FEAB5-209E-4664-B4D8-A70A1B4372A1@mac.com>


On 17 Jan 2008, at 11:38, Duncan Murdoch wrote:

> Which version are you using?  I just tried this in R 2.6.1, R.app  
> 1.22-devel (4859), and didn't see it.

Sorry, I didn't include any actual *relevant* information, my bad.  
Rookie mistake. :)

When I wrote the email, I noticed that I still had 2.6.0 installed, so  
I updated to the latest:

R version 2.6.1 (2007-11-26)

I'm in the habit of downloading the nightly releases for the GUI (not  
nightly, but occasionally). I'm currently running:

R GUI 1.23-devel (4903) (4903)

and I still see the issue.

Cheers,

Demitri


From ripley at stats.ox.ac.uk  Thu Jan 24 11:36:10 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 24 Jan 2008 10:36:10 +0000 (GMT)
Subject: [R-SIG-Mac] further compilation difficulties
In-Reply-To: <1C480D45-1484-4BCD-9CAD-624D3595939A@noc.soton.ac.uk>
References: <1C480D45-1484-4BCD-9CAD-624D3595939A@noc.soton.ac.uk>
Message-ID: <Pine.LNX.4.64.0801241033010.5548@auk.stats>

You would need to remove/rename the ${R_HOME}/bin/exec/i386 directory to 
stop it trying.  But I suspect this is a setup issue; and I've no access 
to a PPC Mac -- at least that comment might get you some respite.

On Thu, 24 Jan 2008, Robin Hankin wrote:

> hits=-2.6 tests=BAYES_00
> X-USF-Spam-Flag: NO
>
> Hi
>
> I'm still having difficulty compiling a package on my desktop,
>  that works fine on my laptop. [thanks for the offline help, guys!]
>
> The desktop machine is a ppc architecture but I can't seem to
> stop R CMD build from trying to do the i386 compilations;
> script cut-and-pasted below.
>
>
>
> I have even removed
>
> /Library/Frameworks/R.framework/Resources/etc/i386/Makeconf
>
> [with a view to stopping any 386 architecture compilations].
>
> but R CMD build complains about not being able to find it.
>
>
> How to get round this?
>
>
>
> 245-10:~/scratch% sudo R CMD INSTALL aylmer_0.4-3.tar.gz
> Password:
> * Installing to library '/Library/Frameworks/R.framework/Resources/
> library'
> * Installing *source* package 'aylmer' ...
> ** libs
> g++-4.0 -arch ppc -isysroot /Developer/SDKs/MacOSX10.5.sdk -no-cpp-
> precomp -I/Library/Frameworks/R.framework/Resources/include -I/Library/
> Frameworks/R.framework/Resources/include/ppc  -I/usr/local/include    -
> fPIC  -g -O2 -c aylmer.cpp -o aylmer.o
> g++-4.0 -arch ppc -isysroot /Developer/SDKs/MacOSX10.5.sdk -no-cpp-
> precomp -I/Library/Frameworks/R.framework/Resources/include -I/Library/
> Frameworks/R.framework/Resources/include/ppc  -I/usr/local/include    -
> fPIC  -g -O2 -c board.cpp -o board.o
> g++-4.0 -arch ppc -isysroot /Developer/SDKs/MacOSX10.5.sdk -dynamiclib
> -Wl,-headerpad_max_install_names -Wl,-macosx_version_min -Wl,10.4 -
> undefined dynamic_lookup -single_module -multiply_defined suppress -L/
> usr/local/lib -o aylmer.so aylmer.o board.o   -F/Library/Frameworks/
> R.framework/.. -framework R
> ld: warning, duplicate dylib /Developer/SDKs/MacOSX10.5.sdk/usr/local/
> lib/libgcc_s.1.dylib
> ** arch - i386
> /Library/Frameworks/R.framework/Resources/share/make/shlib.mk:3: /
> Library/Frameworks/R.framework/Resources/etc/i386/Makeconf: No such
> file or directory
> make: *** No rule to make target `/Library/Frameworks/R.framework/
> Resources/etc/i386/Makeconf'.  Stop.
> chmod: /Library/Frameworks/R.framework/Resources/library/aylmer/libs/
> i386/*: No such file or directory
> ** arch - ppc
> g++-4.0 -arch ppc -isysroot /Developer/SDKs/MacOSX10.5.sdk -no-cpp-
> precomp -I/Library/Frameworks/R.framework/Resources/include -I/Library/
> Frameworks/R.framework/Resources/include/ppc  -I/usr/local/include    -
> fPIC  -g -O2 -c aylmer.cpp -o aylmer.o
> g++-4.0 -arch ppc -isysroot /Developer/SDKs/MacOSX10.5.sdk -no-cpp-
> precomp -I/Library/Frameworks/R.framework/Resources/include -I/Library/
> Frameworks/R.framework/Resources/include/ppc  -I/usr/local/include    -
> fPIC  -g -O2 -c board.cpp -o board.o
> g++-4.0 -arch ppc -isysroot /Developer/SDKs/MacOSX10.5.sdk -dynamiclib
> -Wl,-headerpad_max_install_names -Wl,-macosx_version_min -Wl,10.4 -
> undefined dynamic_lookup -single_module -multiply_defined suppress -L/
> usr/local/lib -o aylmer.so aylmer.o board.o   -F/Library/Frameworks/
> R.framework/.. -framework R
> ld: warning, duplicate dylib /Developer/SDKs/MacOSX10.5.sdk/usr/local/
> lib/libgcc_s.1.dylib
> ERROR: compilation failed for package 'aylmer'
> ** Removing '/Library/Frameworks/R.framework/Resources/library/aylmer'
> ** Restoring previous '/Library/Frameworks/R.framework/Resources/
> library/aylmer'
> 245-10:~/scratch%
>
>
>
>
> --
> Robin Hankin
> Uncertainty Analyst and Neutral Theorist,
> National Oceanography Centre, Southampton
> European Way, Southampton SO14 3ZH, UK
>  tel  023-8059-7743
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From johan.h.jackson at gmail.com  Thu Jan 24 19:06:44 2008
From: johan.h.jackson at gmail.com (Johan Jackson)
Date: Thu, 24 Jan 2008 11:06:44 -0700
Subject: [R-SIG-Mac] R nightly builds failing
Message-ID: <3a419fc00801241006t336530fds10490c44ee81e1fc@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080124/8eb69a3b/attachment.pl 

From simon.urbanek at r-project.org  Mon Jan 28 00:57:54 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 27 Jan 2008 18:57:54 -0500
Subject: [R-SIG-Mac] compilation difficulties
In-Reply-To: <E4037BDF-40FB-4A7B-8B87-886B851997BD@noc.soton.ac.uk>
References: <E4037BDF-40FB-4A7B-8B87-886B851997BD@noc.soton.ac.uk>
Message-ID: <528B24F4-180D-4987-8939-160150B72148@r-project.org>


On Jan 23, 2008, at 4:10 AM, Robin Hankin wrote:

> hits=-2.6 tests=BAYES_00
> X-USF-Spam-Flag: NO
>
> Hi
>
>
> I am having difficulty compiling one of my packages.
> I have recently upgraded to macOSX10.5.1, and installed the latest
> Xcode 3.0.  I reinstalled R-2.6.1 just now from CRAN (binary), and
> then rebooted
> my machine.
>
> Any insights gratefully received.
>
>
> Robin
>
>
>
>
> R CMD INSTALL gives:
>
>
> 45-10:~/scratch% sudo R CMD INSTALL ./aylmer
> Password:
> * Installing to library '/Library/Frameworks/R.framework/Resources/
> library'
> * Installing *source* package 'aylmer' ...
> ** libs
> g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
> version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/
> Resources/include -I/Library/Frameworks/R.framework/Resources/include/
> ppc  -I/usr/local/include    -fPIC  -g -O2 -c aylmer.cpp -o aylmer.o
> g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
> version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/
> Resources/include -I/Library/Frameworks/R.framework/Resources/include/
> ppc  -I/usr/local/include    -fPIC  -g -O2 -c board.cpp -o board.o
> g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
> version-min=10.4 -dynamiclib -Wl,-headerpad_max_install_names -Wl,-
> macosx_version_min -Wl,10.4 -undefined dynamic_lookup -single_module -
> multiply_defined suppress -L/usr/local/lib -o aylmer.so aylmer.o
> board.o   -F/Library/Frameworks/R.framework/.. -framework R
> ld: warning, duplicate dylib /Developer/SDKs/MacOSX10.4u.sdk/usr/ 
> local/
> lib/libgcc_s.1.dylib
> ** arch - i386
> g++ -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
> version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/
> Resources/include -I/Library/Frameworks/R.framework/Resources/include/
> i386  -msse3    -fPIC  -g -O2 -march=nocona -c aylmer.cpp -o aylmer.o
> g++ -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
> version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/
> Resources/include -I/Library/Frameworks/R.framework/Resources/include/
> i386  -msse3    -fPIC  -g -O2 -march=nocona -c board.cpp -o board.o
> g++ -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
> version-min=10.4 -dynamiclib -Wl,-headerpad_max_install_names -Wl,-
> macosx_version_min -Wl,10.4 -undefined dynamic_lookup -single_module -
> multiply_defined suppress -L/usr/local/lib -o aylmer.so aylmer.o
> board.o   -F/Library/Frameworks/R.framework/.. -framework R
> ld: in /Developer/SDKs/MacOSX10.4u.sdk/usr/local/lib/libreadline. 
> 5.2.dylib, file is not of required architecture

^^^ the error says it all (readline is not of required architecture) -  
you have some 3rd party version of readline (not ours) that is not  
universal. Either use readline supplied with R or compile/get an  
universal readline (see FAQ) or follow previous advice on disabling  
universal build of your package.

Cheers,
Simon



>
> collect2: ld returned 1 exit status
> make: *** [aylmer.so] Error 1
> chmod: /Library/Frameworks/R.framework/Resources/library/aylmer/libs/
> i386/*: No such file or directory
> ** arch - ppc
> g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
> version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/
> Resources/include -I/Library/Frameworks/R.framework/Resources/include/
> ppc  -I/usr/local/include    -fPIC  -g -O2 -c aylmer.cpp -o aylmer.o
> g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
> version-min=10.4 -no-cpp-precomp -I/Library/Frameworks/R.framework/
> Resources/include -I/Library/Frameworks/R.framework/Resources/include/
> ppc  -I/usr/local/include    -fPIC  -g -O2 -c board.cpp -o board.o
> g++ -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx-
> version-min=10.4 -dynamiclib -Wl,-headerpad_max_install_names -Wl,-
> macosx_version_min -Wl,10.4 -undefined dynamic_lookup -single_module -
> multiply_defined suppress -L/usr/local/lib -o aylmer.so aylmer.o
> board.o   -F/Library/Frameworks/R.framework/.. -framework R
> ld: warning, duplicate dylib /Developer/SDKs/MacOSX10.4u.sdk/usr/ 
> local/
> lib/libgcc_s.1.dylib
> ERROR: compilation failed for package 'aylmer'
> ** Removing '/Library/Frameworks/R.framework/Resources/library/aylmer'
> ** Restoring previous '/Library/Frameworks/R.framework/Resources/
> library/aylmer'
> 245-10:~/scratch%
>
>
>
>
>
>
>
> --
> Robin Hankin
> Uncertainty Analyst and Neutral Theorist,
> National Oceanography Centre, Southampton
> European Way, Southampton SO14 3ZH, UK
>  tel  023-8059-7743
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Mon Jan 28 01:01:16 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 27 Jan 2008 19:01:16 -0500
Subject: [R-SIG-Mac] R nightly builds failing
In-Reply-To: <3a419fc00801241006t336530fds10490c44ee81e1fc@mail.gmail.com>
References: <3a419fc00801241006t336530fds10490c44ee81e1fc@mail.gmail.com>
Message-ID: <94DC353C-6D50-4E0B-908A-06C0E5E3A096@r-project.org>


On Jan 24, 2008, at 1:06 PM, Johan Jackson wrote:

> I'm trying to install 64 bit R for mac, but the page says that the  
> "make
> FAILED". Does this mean that there is no 64 bit R available for macs?
>

I was away and the nightly build machine ran out of processes. It  
should be taken care of and tonight's build should be ok (save for  
some issues with R-devel).

Note that 64-bit binaries are experimental (i.e. not supported by  
CRAN); you can still compile your own 64-bit version from sources.

Cheers,
Simon


From Paul.Dickinson at ed.ac.uk  Mon Jan 28 13:05:57 2008
From: Paul.Dickinson at ed.ac.uk (Paul Dickinson)
Date: Mon, 28 Jan 2008 12:05:57 +0000
Subject: [R-SIG-Mac] 64-bit R download
Message-ID: <7ACF7EBA-2F71-45B2-85E0-EDC3912952E7@ed.ac.uk>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080128/6dcc21ca/attachment.pl 

From ripley at stats.ox.ac.uk  Mon Jan 28 13:44:21 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 28 Jan 2008 12:44:21 +0000 (GMT)
Subject: [R-SIG-Mac] 64-bit R download
In-Reply-To: <7ACF7EBA-2F71-45B2-85E0-EDC3912952E7@ed.ac.uk>
References: <7ACF7EBA-2F71-45B2-85E0-EDC3912952E7@ed.ac.uk>
Message-ID: <alpine.LFD.1.00.0801281237030.23258@gannet.stats.ox.ac.uk>

Does

https://stat.ethz.ch/pipermail/r-sig-mac/2008-January/004490.html

help?  I build 64-bit R-devel from the sources and as Simon says there, 
64-bit builds are not supported for 2.6.x (I believe the intention is that 
they will be for 2.7.0).  Since you will need to build all packages from 
their sources (the CRAN binaries do not include x86_64), you might as well 
build R as well.


On Mon, 28 Jan 2008, Paul Dickinson wrote:

> Dear List,
>
> I'm sorry if this question is a bit naive for the regular
> commentators to R-Sig-Mac but I would like to download and install
> the latest stable 64-bit R to run under Mac OS X 10.5.1 on a MacPro
> and I'm having difficulty knowing where to download this from. I've
> looked on the http://r.research.att.com/ page and while I can see 2
> leopard builds on the Nightly builds I can't see a link to download
> these (R-2.6-branch x86_64 and R-devel x86_64), but only for their
> logs. The only packages I can see for download are for Tiger (R-2.6-
> branch-tiger-universal.tar.gz and R-2.6-branch-44199.dmg - the 1st
> link downloads but the 2nd link only opens a blank web page of
> address http://r.research.att.com/R-2.6-branch-44199.dmg. (I also
> tried downloading the Mac OS X GUI diskimages and only 1 of the 3 of
> these (R-GUI-4878-2.7-Deployment.dmg) actually downloaded.
>
> I'd be grateful of any advice that could be provided to help me
> download 64-bit R for Mac OS X.
>
> Thanks,
>
> Paul
>
> ------------------------------------------------------------
> Dr. Paul Dickinson
> Division of Pathway Medicine
> The University of Edinburgh
> The Chancellor?s Building
> 49 Little France Crescent
> Edinburgh
> Midlothian
> EH16 4SB
>
> Tel: +44 (0) 131 242 6287
> Fax: +44 (0) 131 242 6244
> E-mail: Paul.Dickinson at ed.ac.uk
>
>
>
> 	[[alternative HTML version deleted]]
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Mon Jan 28 14:55:48 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 28 Jan 2008 08:55:48 -0500
Subject: [R-SIG-Mac] R nightly builds failing
In-Reply-To: <94DC353C-6D50-4E0B-908A-06C0E5E3A096@r-project.org>
References: <3a419fc00801241006t336530fds10490c44ee81e1fc@mail.gmail.com>
	<94DC353C-6D50-4E0B-908A-06C0E5E3A096@r-project.org>
Message-ID: <16CAEC29-2E0A-4E2F-862B-D3DC8EA60629@r-project.org>

Although I fixed the problem on the main build machine, the ppc64 part  
is built on another machine (because Rosetta doesn't support ppc64 so  
it cannot be built on an Intel machine) and that machine was booted  
into Tiger instead of Leopard.

I have fixed that as well, and I'll re-run the nightly build, so it  
should be available soon.

BTW: R 2.6.1 patched supports 64-bit, with the only caveat that Quartz  
will be disabled.

Cheers,
Simon


On Jan 27, 2008, at 7:01 PM, Simon Urbanek wrote:

>
> On Jan 24, 2008, at 1:06 PM, Johan Jackson wrote:
>
>> I'm trying to install 64 bit R for mac, but the page says that the
>> "make
>> FAILED". Does this mean that there is no 64 bit R available for macs?
>>
>
> I was away and the nightly build machine ran out of processes. It
> should be taken care of and tonight's build should be ok (save for
> some issues with R-devel).
>
> Note that 64-bit binaries are experimental (i.e. not supported by
> CRAN); you can still compile your own 64-bit version from sources.
>
> Cheers,
> Simon
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From w.northcott at unsw.edu.au  Tue Jan 29 05:49:49 2008
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Tue, 29 Jan 2008 15:49:49 +1100
Subject: [R-SIG-Mac] Source package not building fat
In-Reply-To: <mailman.942.1194631133.4165.r-sig-mac@stat.math.ethz.ch>
References: <mailman.942.1194631133.4165.r-sig-mac@stat.math.ethz.ch>
Message-ID: <CE30A0D9-4A7A-4531-88F7-C3A0B7B7F268@unsw.edu.au>

I am trying to build a fat binary of a package for distribution.

I am using Leopard on a Core 2 Duo Mac with the current R 2.6.1 fat  
binary.

If I download the sources of the standard lattice package and build  
it, I get a fat binary with both ppc and i386 directories in libs.

However, with our package (rjags) I only get the i386 version built.   
It makes no difference if I define R_ARCH=/ppc.  The lattice package  
does not use a configure script whereas rjags does.

How is the fat build mechanism working?  Is there something that can  
be done with the configure script to get a fat build?

Bill Northcott


From ddaniel at nmsu.edu  Thu Jan 31 06:25:41 2008
From: ddaniel at nmsu.edu (David Daniel)
Date: Wed, 30 Jan 2008 22:25:41 -0700
Subject: [R-SIG-Mac] Installing Rattle and RGtk2 packages...
Message-ID: <9D330F29-7B3B-4F86-BEAE-85971DAC2C7E@nmsu.edu>


I'm having trouble installing Rattle.  I am currently running OS X,  
version 10.5.1 on a Core 2 Duo MacBook Pro.  I have R version 2.6.1  
(2007-11-26) installed.

I have spent several days (some last June, and a couple recently)  
trying to look at information on the net and attempting to implement  
the suggestions to get package rattle working.  I have tried several  
times to implement the instructions on www.togaware.com, which I  
summarize to be as follows:

(Apple X11 is up and running, as is R)

A. Install the GTK+ libraries:
       $ sudo port install gtk2
       $ sudo port install libglade2

       (In separate attempts, I have also tried downloading and  
running the gtk2
       installer provided by:
           http://r.research.att.com/gtk2-runtime.dmg )

B. Install RGtk2 - I have tried each of the following two methods:

       1.  R: > install.packages("RGtk2")

       2.  Download the source package from: http://www.ggobi.org/rgtk2/RGtk2_2.8.6.tar.gz
           and run the command line install:
             $ R CMD INSTALL RGtk2_2.8.6.tar.gz

C. Install Rattle and R package dependencies:
        R: > install.packages("rattle", dependencies=TRUE)

D. Start R; load RGtk2 and Rattle; and run Rattle - all within an X11  
terminal:
        $ R
        R: > library(RGtk2)
        R: > library(rattle)
        R: > rattle()

Everything appears to go well until the last line which returns:
    Error in rattle() : could not find function "gladeXMLNew"

I have read the note on the togaware web page indicating that this may  
result if the Glade libraries are not in place before RGtk is built.   
I thought that perhaps alternative method #2 under step B (above)  
would resolve this issue, and indeed, the install process shows that  
it looks for and finds the Glade at the beginning of the process, but  
then it encounters errors in the compile process - a very abbreviated  
output of the output is listed below.

Am I overlooking something in the instructions?  Is there a resource I  
am missing?  Does anyone have any suggestions for getting this up and  
running without having to go through and manually track down and edit  
where files are supposed to be located?  ...I'm not at all confident  
that this would be successful anyway.  Advice is greatly appreciated.

Thanks,
-David


Truncated compile error output from Step B2 follows:
------
gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -std=gnu99 -no-cpp-precomp -I/Library/Frameworks/ 
R.framework/Resources/include -I/Library/Frameworks/R.framework/ 
Resources/include/i386  -msse3   -g -D_R_=1 -DUSE_R=1 -DXTHREADS -I/ 
opt/local/include/gtk-2.0 -I/opt/local/lib/gtk-2.0/include -I/opt/ 
local/include/atk-1.0 -I/opt/local/include/cairo -I/opt/local/include/ 
pango-1.0 -I/opt/local/include/glib-2.0 -I/opt/local/lib/glib-2.0/ 
include -I/opt/local/include -I/opt/local/include/freetype2 -I/opt/ 
local/include/libpng12 -I/usr/X11/include   -DXTHREADS -I/opt/local/ 
include/libglade-2.0 -I/opt/local/include/gtk-2.0 -I/opt/local/include/ 
libxml2 -I/opt/local/include -I/opt/local/lib/gtk-2.0/include -I/opt/ 
local/include/atk-1.0 -I/opt/local/include/cairo -I/opt/local/include/ 
pango-1.0 -I/opt/local/include/glib-2.0 -I/opt/local/lib/glib-2.0/ 
include -I/opt/local/include/freetype2 -I/opt/local/include/libpng12 - 
I/usr/X11/include    -I/Library/Frameworks/R.framework/Resources/ 
include  -DHAVE_LIBGLADE -fPIC  -g -O2 -march=nocona -c  
RGtkDataFrame.c -o RGtkDataFrame.o
In file included from RGtkDataFrame.h:1,
                  from RGtkDataFrame.c:1:
RGtk2.h:14:21: error: gdk/gdk.h: No such file or directory
RGtk2.h:15:35: error: gdk-pixbuf/gdk-pixbuf.h: No such file or directory
RGtk2.h:16:21: error: gtk/gtk.h: No such file or directory
In file included from /opt/local/include/libglade-2.0/glade/glade.h:28,
                  from RGtk2.h:26,
                  from RGtkDataFrame.h:1,
                  from RGtkDataFrame.c:1:



----------------------------------
David Daniel
Associate Professor
University Statistics Center
New Mexico State University

ddaniel at nmsu.edu


From chabotd at globetrotter.net  Thu Jan 31 15:46:20 2008
From: chabotd at globetrotter.net (Denis Chabot)
Date: Thu, 31 Jan 2008 09:46:20 -0500
Subject: [R-SIG-Mac] [R] dates in French format
In-Reply-To: <alpine.LFD.1.00.0801310656440.22211@gannet.stats.ox.ac.uk>
References: <mailman.22.1201690804.26785.r-help@r-project.org>
	<9A3B3CCC-DD22-49C2-8C21-37EF4BDF6B31@globetrotter.net>
	<alpine.LFD.1.00.0801310656440.22211@gannet.stats.ox.ac.uk>
Message-ID: <0B5E545B-573A-41CE-9EB0-216A3831A537@globetrotter.net>

(I've put the R Mac list in cc because of the crashes I have  
experienced trying some of the suggestions below)

Hi Gabor and Prof Ripley,

Le 31 janv. 08 ? 02:11, Prof Brian Ripley a ?crit :

> The output from sessionInfo() the posting guide asked for would have  
> been very helpful here.

You are right, sorry about that:


 > library(chron)
 > sessionInfo()
R version 2.6.1 (2007-11-26)
i386-apple-darwin8.10.1

locale:
fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] chron_2.3-16


>
>
> I think the problem is likely to be that these are not standard French
> abbreviations according to my systems.

I was ready to blame Excel for the use of non-standard abbreviations,  
but I would have been wrong: it seems that "janv" is a Mac OS X  
decision from what I can see in my system settings. I am not sure what  
would be a bullet-proof authority on french abbreviations. My  
dictionary was of no help, but wikipedia seems to endorse Mac OS X and  
Windows use of "janv":

<http://fr.wikipedia.org/wiki/Mois#Abr.C3.A9viations>

> On Linux I get
>
>> format(Sys.Date(), "%d-%b-%y")
> [1] "31-jan-08"
>> format(Sys.Date()-50, "%d-%b-%y")
> [1] "12-d?c-07"
>
> and on Windows
>
>> format(Sys.Date(), "%d-%b-%y")
> [1] "31-janv.-08"
>
>> format(Sys.Date()-50, "%d-%b-%y")
> [1] "12-d?c.-07"

I tried this too:
 > format(Sys.Date(), "%d-%b-%y")
[1] "31-jan-08"
 > format(Sys.Date()-50, "%d-%b-%y")
[1] "12-d?c-07"

I am lost here: since the OS uses "janv", why did the above give  
"jan"???

>
>
> And yes, chron is US-centric and so only allows English names.
>
> Assuming you know exactly what is meant by 'French short format', I  
> think the simplest thing to do is to set up a table by
>
> tr <- month.abb
> names(tr)[1] <- c("janv")  # complete it
>
> x <- "9-janv-08"
> x2 <- strsplit(x, "-")
> x3 <- sapply(x2, function(x) {x[2] <- tr[x[2]]; paste(x,  
> collapse="-")})
> as.Date(x3, format = "%d-%b-%y")

Thank you Prof Ripley, although I'll have to do my homework to fully  
understand what is happening with the function you wrote.

But I wonder why I cannot make this a Date object:

 > x <- "9-janv-08"
 > x2 <- strsplit(x, "-")
 > x3 <- sapply(x2, function(x) {x[2] <- tr[x[2]]; paste(x,  
collapse="-")})
 > as.Date(x3, format = "%d-%b-%y")
[1] "2008-01-09"
 > class(x3)
[1] "character"
 > x4 <- as.Date(x3, format = "%d-%b-%y")

  *** caught bus error ***
address 0x8, cause 'non-existent physical address'

Traceback:
  1: strptime(x, format)
  2: as.Date.character(x3, format = "%d-%b-%y")
  3: as.Date(x3, format = "%d-%b-%y")

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace

The problem may be my system as I get this error when trying Gabor's  
suggestions (below).

Le 31 janv. 08 ? 00:21, Gabor Grothendieck a ?crit :
> Suppose we have:
>
> dd <- c("7-d?c-07", "11-d?c-07", "14-d?c-07", "18-d?c-07", "21- 
> d?c-07",
> "24-d?c-07", "26-d?c-07", "28-d?c-07", "31-d?c-07", "2-janv-08",
> "4-janv-08", "7-janv-08", "9-janv-08", "11-janv-08", "14-janv-08",
> "16-janv-08", "18-janv-08")
>
> Try this (where we are assuming the just released chron 2.3-17):
>
> library(chron)
> Sys.setlocale("LC_ALL", "French")
> as.chron(as.Date(dd, "%d-%b-%y"))
>
> # or with chron 2.3-16 last line is replaced with:
> chron(unclass(as.Date(dd, "%d-%b-%y")))
>

 > library(chron)
 > dd <- c("7-d?c-07", "11-d?c-07", "14-d?c-07", "18-d?c-07", "21- 
d?c-07",
+ "24-d?c-07", "26-d?c-07", "28-d?c-07", "31-d?c-07", "2-janv-08",
+ "4-janv-08", "7-janv-08", "9-janv-08", "11-janv-08", "14-janv-08",
+ "16-janv-08", "18-janv-08")
 > Sys.setlocale("LC_ALL", "French")
[1] ""
Warning message:
In Sys.setlocale("LC_ALL", "French") :
   la requ?te OS pour sp?cifier la localisation ? "French" n'a pas pu  
?tre honor?e
 > chron(unclass(as.Date(dd, "%d-%b-%y")))

  *** caught bus error ***
address 0x8, cause 'non-existent physical address'

Traceback:
  1: strptime(x, format)
  2: as.Date.character(dd, "%d-%b-%y")
  3: as.Date(dd, "%d-%b-%y")
  4: inherits(dates., "dates")
  5: chron(unclass(as.Date(dd, "%d-%b-%y")))

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace

> If those don't work (the above didn't work on my Vista system but this
> is system dependent and
> might work on yours)  then try this alternative
>
>> library(chron)
>> library(gsubfn)
>> Sys.setlocale('LC_ALL','French')
> [1] "LC_COLLATE=French_France.1252;LC_CTYPE=French_France. 
> 1252;LC_MONETARY=French_France. 
> 1252;LC_NUMERIC=C;LC_TIME=French_France.1252"
>> french.months <- format(seq(as.Date("2000-01-01"), length = 12, by  
>> = "month"), "%b")
>> f <- function (d, m, y) chron(paste(pmatch(m, french.months), d, y,  
>> sep = "/"))
>> strapply(dd, "(.*)-(.*)-(.*)", f, backref = -3, simplify = c)
> [1] 12/07/07 12/11/07 12/14/07 12/18/07 12/21/07 12/24/07 12/26/07  
> 12/28/07
> [9] 12/31/07 01/02/08 01/04/08 01/07/08 01/09/08 01/11/08 01/14/08  
> 01/16/08
> [17] 01/18/08

Again, this Sys.setlocale call does not work for me and the use of  
as.Date crashes my copy of R:

 > library(chron)
 > library(gsubfn)
Le chargement a n?cessit? le package : proto
 > french.months <- format(seq(as.Date("2000-01-01"), length = 12, by  
= "month"), "%b")

  *** caught bus error ***
address 0x8, cause 'non-existent physical address'

Traceback:
  1: strptime(x, f)
  2: fromchar(x)
  3: as.Date.character("2000-01-01")
  4: as.Date("2000-01-01")
  5: seq(as.Date("2000-01-01"), length = 12, by = "month")
  6: format(seq(as.Date("2000-01-01"), length = 12, by = "month"),      
"%b")

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace

However, if I replace that call by this, the rest of Gabor's solution  
works.

 > library(chron)
 > library(gsubfn)
Le chargement a n?cessit? le package : proto
 > french.months <- c("janv", "f?v", "mars", "avr", "mai", "juin",  
"juil", "ao?t", "sept", "oct", "nov", "d?c")
 > dd <- c("7-d?c-07", "11-d?c-07", "14-d?c-07", "18-d?c-07", "21- 
d?c-07",
+ "24-d?c-07", "26-d?c-07", "28-d?c-07", "31-d?c-07", "2-janv-08",
+ "4-janv-08", "7-janv-08", "9-janv-08", "11-janv-08", "14-janv-08",
+ "16-janv-08", "18-janv-08")
 > f <- function (d, m, y) chron(paste(pmatch(m, french.months), d, y,  
sep = "/"))
 > strapply(dd, "(.*)-(.*)-(.*)", f, backref = -3, simplify = c)
  [1] 12/07/07 12/11/07 12/14/07 12/18/07 12/21/07 12/24/07 12/26/07  
12/28/07
  [9] 12/31/07 01/02/08 01/04/08 01/07/08 01/09/08 01/11/08 01/14/08  
01/16/08
[17] 01/18/08

So thanks again. I will try to reinstall R on my computer and see if I  
still get these errors.


Denis

>
>
>
> On Jan 30, 2008 11:29 PM, Denis Chabot <chabotd at globetrotter.net>  
> wrote:
>> Hello R users,
>>
>> I have to import a file with one column containing dates written in
>> French short format, such as:
>>
>>   7-d?c-07
>>  11-d?c-07
>>  14-d?c-07
>>  18-d?c-07
>>  21-d?c-07
>>  24-d?c-07
>>  26-d?c-07
>>  28-d?c-07
>>  31-d?c-07
>>  2-janv-08
>>  4-janv-08
>>  7-janv-08
>>  9-janv-08
>> 11-janv-08
>> 14-janv-08
>> 16-janv-08
>> 18-janv-08
>>
>> There are other columns for other (numeric) variables in the data
>> file. In my read.csv2 statement, I indicate that the date column must
>> be imported "as.is" to keep it as character.
>>
>> I would like to transform this into a date object in R. So far I've
>> used chron for my dates and times needs, but I am willing to change  
>> if
>> another object/package will ease the task of importing these dates.
>>
>> My reading of the chron help led me to believe that the formats it
>> understands are only month names in English.
>>
>> Are there other "formats" I can use with chron, or must I somehow  
>> edit
>> this character variables to replace French month names by English  
>> ones
>> (or numbers from 1 to 12)?
>>
>> Thanks in advance,
>>
>> Denis
>> p.s. I read this in digest mode, so I'll get your replies faster if
>> you cc to my email


From mckellercran at gmail.com  Thu Jan 31 17:40:42 2008
From: mckellercran at gmail.com (Matthew Keller)
Date: Thu, 31 Jan 2008 09:40:42 -0700
Subject: [R-SIG-Mac] help: R on Mac's is "buggy", department reconsidering
Message-ID: <3f547caa0801310840y4808893bv20299a62dc4fa187@mail.gmail.com>

Hello all,

I dread writing this because it may come across as being ungrateful to
the hard work of those (esp. Simon Urbanek) who have made an otherwise
fantastic R interface for the mac. Nevertheless...

I do most of my work in R using Aquamacs and had, until recently,
little interaction with the R Gui. People in my department (psychology
at CU Boulder) are mainly mac users, and a few of us (including the
chair and the statistics professors) are making a push to make our
department an "R" department (such that it is the package taught to
undergrads and grad students). I have been teaching a four week intro
to the R language this semester to students, postdocs, and faculty,
and the undergrad stats professors have taken the leap and are
teaching R in the undergrad stats classes this semester. So far so
good... but...

There is beginning to be a backlash, not from what I had expected ("R
is too user unfriendly"... this doesn't seem to come up!), but rather
that R is "too buggy" and crashes too often. Since switching to the R
Gui to teach this class, I myself have had R crash several times
(previously a rare occurrence when I used Aquamacs). I cannot find a
rhyme or reason to when it happens. The students/colleagues in my
class who are mac users also complain about it (none of the windows
users have). And this morning, an email went out from one of the
undergrad stats teachers who said much the same thing (see his email
below).

Being one of the people who really pushed for this switch to R, I hate
to see it go down in flames because of this. I have considered trying
to teach using R via Aquamacs, but this presents its own set of
difficulties.

Does anyone out there who has experience with the R Gui for Macs have
any suggestions re making it more stable? Are there steps we can take
or advice we can give to students that would lessen the number of
crashes we are experiencing? Might the crashes be due to the newness
of the Leopard OS, etc?

I apologize for breaking the listserve rules - I have not given a good
explanation of the conditions under which these crashes occur. I could
try to get the students to document exactly when they happen and send
a summary back out to the list if this would be helpful.

I really want this (our department's switch to R) to go through, but I
am afraid the "bugginess of R" may be jeopardizing this. Any help
would be most appreciated. And as I said before, thank you to the
people who have selflessly spent their time making the R Gui - I
wouldn't even know where to start! Best,

Matt



<message from an undergrad stats prof here at CU> :

In the labs for my course, the R GUI has been buggy - i.e. will crash at
random times. I thought this had to do with using R Commander, but after
looking into it further, it has nothing to do with R Commander - when I
ran through some of the tutorial/homework for my course using the R GUI
(rather than R Commander) the crashes were still there.  I also thought
it might have to do with computing labs (perhaps installing ALL R
packages created the problem), but a quick survey in my course suggested
that people's personal apple computers are experiencing the same thing.
Greg and Matt Keller also mentioned to me that some of their students
were having issues with the R GUI on Mac OS X. As everyone knows, there
are A LOT of Mac users in the undergrad student body.

As far as I can tell (after discussing with Matt Keller), it has nothing
to do with the R "engine" - it's all about the R GUI interface (for
example, I've never had a problem submitting R jobs in pseudo-batch
mode).  I get slightly less buggy-ness on my Mac (intel dual-core,
Leopard), but there are still some issues.

Anyway, no real action items here other than to note that it appears to
be fairly common. The students are tolerating it, and I just keep
telling them that it's "free" and "free" always comes at a price. If
anyone has stumbled a more stable configuration, please let me know!



-- 
Matthew C Keller
Asst. Professor of Psychology
University of Colorado at Boulder
www.matthewckeller.com


From chabotd at globetrotter.net  Thu Jan 31 18:02:54 2008
From: chabotd at globetrotter.net (Denis Chabot)
Date: Thu, 31 Jan 2008 12:02:54 -0500
Subject: [R-SIG-Mac] R crashes with french canadian OS X format (was: [R]
 dates in French format)
In-Reply-To: <alpine.LFD.1.00.0801310656440.22211@gannet.stats.ox.ac.uk>
References: <mailman.22.1201690804.26785.r-help@r-project.org>
	<9A3B3CCC-DD22-49C2-8C21-37EF4BDF6B31@globetrotter.net>
	<alpine.LFD.1.00.0801310656440.22211@gannet.stats.ox.ac.uk>
Message-ID: <2F5ECABC-E677-4A48-B0D7-6F374727F52C@globetrotter.net>

Hi, I have made some progress as for the crash. Reinstalling R had  
nothing to do with solving the crashes. Systems settings  
(International panel in System Preferences) are involved.

If I set my international "formats" to French, the examples given  
indicate that "january" is "janv." as short month. (see the screen  
shot attached to this message).

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Image 1.png
Type: image/png
Size: 23162 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080131/d6c8fdbf/attachment-0002.png 
-------------- next part --------------



With this setting, R does not crash.
 > sessionInfo()
R version 2.6.1 (2007-11-26)
i386-apple-darwin8.10.1

locale:
fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] chron_2.3-16

 > as.Date("2000-01-01")
[1] "2000-01-01"

 > french.months <- format(seq(as.Date("2000-01-01"), length = 12, by  
= "month"), "%b")
 > french.months
  [1] "jan" "f?v" "mar" "avr" "mai" "jui" "jul" "ao?" "sep" "oct"  
"nov" "d?c"

Things are fine, although I do not understand why the OS claims the  
short month is "janv", but the above extracts "jan". Excel uses "jan"  
and "ao?", just as reported with the above.

If I select canadian french, things do not go well at all. Apple do  
not show a short month mode for canadian french (second image).

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Image 2.png
Type: image/png
Size: 22213 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080131/d6c8fdbf/attachment-0003.png 
-------------- next part --------------



Excel now uses some different short abbreviations: "janv", "mars",   
"ao?t" and "sept".

and R does not like it at all:

 > sessionInfo()
R version 2.6.1 (2007-11-26)
i386-apple-darwin8.10.1

locale:
fr_CA.UTF-8/fr_CA.UTF-8/fr_CA.UTF-8/C/fr_CA.UTF-8/fr_CA.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] chron_2.3-16

 > as.Date("2000-01-01")

  *** caught bus error ***
address 0x8, cause 'non-existent physical address'

Traceback:
  1: strptime(x, f)
  2: fromchar(x)
  3: as.Date.character("2000-01-01")
  4: as.Date("2000-01-01")

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace
Selection:


This is a pain as my mac is normally set to use french canadian  
formats. I'll use French for now!

Denis

> (I've put the R Mac list in cc because of the crashes I have  
> experienced trying some of the suggestions below)
>
> Hi Gabor and Prof Ripley,
>
> Le 31 janv. 08 ? 02:11, Prof Brian Ripley a ?crit :
>
>> The output from sessionInfo() the posting guide asked for would  
>> have been very helpful here.
>
> You are right, sorry about that:
>
>
> > library(chron)
> > sessionInfo()
> R version 2.6.1 (2007-11-26)
> i386-apple-darwin8.10.1
>
> locale:
> fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] chron_2.3-16
>
>
>>
>>
>> I think the problem is likely to be that these are not standard  
>> French
>> abbreviations according to my systems.
>
> I was ready to blame Excel for the use of non-standard  
> abbreviations, but I would have been wrong: it seems that "janv" is  
> a Mac OS X decision from what I can see in my system settings. I am  
> not sure what would be a bullet-proof authority on french  
> abbreviations. My dictionary was of no help, but wikipedia seems to  
> endorse Mac OS X and Windows use of "janv":
>
> <http://fr.wikipedia.org/wiki/Mois#Abr.C3.A9viations>
>
>> On Linux I get
>>
>>> format(Sys.Date(), "%d-%b-%y")
>> [1] "31-jan-08"
>>> format(Sys.Date()-50, "%d-%b-%y")
>> [1] "12-d?c-07"
>>
>> and on Windows
>>
>>> format(Sys.Date(), "%d-%b-%y")
>> [1] "31-janv.-08"
>>
>>> format(Sys.Date()-50, "%d-%b-%y")
>> [1] "12-d?c.-07"
>
> I tried this too:
> > format(Sys.Date(), "%d-%b-%y")
> [1] "31-jan-08"
> > format(Sys.Date()-50, "%d-%b-%y")
> [1] "12-d?c-07"
>
> I am lost here: since the OS uses "janv", why did the above give  
> "jan"???
>
>>
>>
>> And yes, chron is US-centric and so only allows English names.
>>
>> Assuming you know exactly what is meant by 'French short format', I  
>> think the simplest thing to do is to set up a table by
>>
>> tr <- month.abb
>> names(tr)[1] <- c("janv")  # complete it
>>
>> x <- "9-janv-08"
>> x2 <- strsplit(x, "-")
>> x3 <- sapply(x2, function(x) {x[2] <- tr[x[2]]; paste(x,  
>> collapse="-")})
>> as.Date(x3, format = "%d-%b-%y")
>
> Thank you Prof Ripley, although I'll have to do my homework to fully  
> understand what is happening with the function you wrote.
>
> But I wonder why I cannot make this a Date object:
>
> > x <- "9-janv-08"
> > x2 <- strsplit(x, "-")
> > x3 <- sapply(x2, function(x) {x[2] <- tr[x[2]]; paste(x,  
> collapse="-")})
> > as.Date(x3, format = "%d-%b-%y")
> [1] "2008-01-09"
> > class(x3)
> [1] "character"
> > x4 <- as.Date(x3, format = "%d-%b-%y")
>
> *** caught bus error ***
> address 0x8, cause 'non-existent physical address'
>
> Traceback:
> 1: strptime(x, format)
> 2: as.Date.character(x3, format = "%d-%b-%y")
> 3: as.Date(x3, format = "%d-%b-%y")
>
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
>
> The problem may be my system as I get this error when trying Gabor's  
> suggestions (below).
>
> Le 31 janv. 08 ? 00:21, Gabor Grothendieck a ?crit :
>> Suppose we have:
>>
>> dd <- c("7-d?c-07", "11-d?c-07", "14-d?c-07", "18-d?c-07", "21- 
>> d?c-07",
>> "24-d?c-07", "26-d?c-07", "28-d?c-07", "31-d?c-07", "2-janv-08",
>> "4-janv-08", "7-janv-08", "9-janv-08", "11-janv-08", "14-janv-08",
>> "16-janv-08", "18-janv-08")
>>
>> Try this (where we are assuming the just released chron 2.3-17):
>>
>> library(chron)
>> Sys.setlocale("LC_ALL", "French")
>> as.chron(as.Date(dd, "%d-%b-%y"))
>>
>> # or with chron 2.3-16 last line is replaced with:
>> chron(unclass(as.Date(dd, "%d-%b-%y")))
>>
>
> > library(chron)
> > dd <- c("7-d?c-07", "11-d?c-07", "14-d?c-07", "18-d?c-07", "21- 
> d?c-07",
> + "24-d?c-07", "26-d?c-07", "28-d?c-07", "31-d?c-07", "2-janv-08",
> + "4-janv-08", "7-janv-08", "9-janv-08", "11-janv-08", "14-janv-08",
> + "16-janv-08", "18-janv-08")
> > Sys.setlocale("LC_ALL", "French")
> [1] ""
> Warning message:
> In Sys.setlocale("LC_ALL", "French") :
>  la requ?te OS pour sp?cifier la localisation ? "French" n'a pas pu  
> ?tre honor?e
> > chron(unclass(as.Date(dd, "%d-%b-%y")))
>
> *** caught bus error ***
> address 0x8, cause 'non-existent physical address'
>
> Traceback:
> 1: strptime(x, format)
> 2: as.Date.character(dd, "%d-%b-%y")
> 3: as.Date(dd, "%d-%b-%y")
> 4: inherits(dates., "dates")
> 5: chron(unclass(as.Date(dd, "%d-%b-%y")))
>
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
>
>> If those don't work (the above didn't work on my Vista system but  
>> this
>> is system dependent and
>> might work on yours)  then try this alternative
>>
>>> library(chron)
>>> library(gsubfn)
>>> Sys.setlocale('LC_ALL','French')
>> [1] "LC_COLLATE=French_France.1252;LC_CTYPE=French_France. 
>> 1252;LC_MONETARY=French_France. 
>> 1252;LC_NUMERIC=C;LC_TIME=French_France.1252"
>>> french.months <- format(seq(as.Date("2000-01-01"), length = 12, by  
>>> = "month"), "%b")
>>> f <- function (d, m, y) chron(paste(pmatch(m, french.months), d,  
>>> y, sep = "/"))
>>> strapply(dd, "(.*)-(.*)-(.*)", f, backref = -3, simplify = c)
>> [1] 12/07/07 12/11/07 12/14/07 12/18/07 12/21/07 12/24/07 12/26/07  
>> 12/28/07
>> [9] 12/31/07 01/02/08 01/04/08 01/07/08 01/09/08 01/11/08 01/14/08  
>> 01/16/08
>> [17] 01/18/08
>
> Again, this Sys.setlocale call does not work for me and the use of  
> as.Date crashes my copy of R:
>
> > library(chron)
> > library(gsubfn)
> Le chargement a n?cessit? le package : proto
> > french.months <- format(seq(as.Date("2000-01-01"), length = 12, by  
> = "month"), "%b")
>
> *** caught bus error ***
> address 0x8, cause 'non-existent physical address'
>
> Traceback:
> 1: strptime(x, f)
> 2: fromchar(x)
> 3: as.Date.character("2000-01-01")
> 4: as.Date("2000-01-01")
> 5: seq(as.Date("2000-01-01"), length = 12, by = "month")
> 6: format(seq(as.Date("2000-01-01"), length = 12, by = "month"),      
> "%b")
>
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
>
> However, if I replace that call by this, the rest of Gabor's  
> solution works.
>
> > library(chron)
> > library(gsubfn)
> Le chargement a n?cessit? le package : proto
> > french.months <- c("janv", "f?v", "mars", "avr", "mai", "juin",  
> "juil", "ao?t", "sept", "oct", "nov", "d?c")
> > dd <- c("7-d?c-07", "11-d?c-07", "14-d?c-07", "18-d?c-07", "21- 
> d?c-07",
> + "24-d?c-07", "26-d?c-07", "28-d?c-07", "31-d?c-07", "2-janv-08",
> + "4-janv-08", "7-janv-08", "9-janv-08", "11-janv-08", "14-janv-08",
> + "16-janv-08", "18-janv-08")
> > f <- function (d, m, y) chron(paste(pmatch(m, french.months), d,  
> y, sep = "/"))
> > strapply(dd, "(.*)-(.*)-(.*)", f, backref = -3, simplify = c)
> [1] 12/07/07 12/11/07 12/14/07 12/18/07 12/21/07 12/24/07 12/26/07  
> 12/28/07
> [9] 12/31/07 01/02/08 01/04/08 01/07/08 01/09/08 01/11/08 01/14/08  
> 01/16/08
> [17] 01/18/08
>
> So thanks again. I will try to reinstall R on my computer and see if  
> I still get these errors.
>
>
> Denis
>
>>
>>
>>
>> On Jan 30, 2008 11:29 PM, Denis Chabot <chabotd at globetrotter.net>  
>> wrote:
>>> Hello R users,
>>>
>>> I have to import a file with one column containing dates written in
>>> French short format, such as:
>>>
>>>  7-d?c-07
>>> 11-d?c-07
>>> 14-d?c-07
>>> 18-d?c-07
>>> 21-d?c-07
>>> 24-d?c-07
>>> 26-d?c-07
>>> 28-d?c-07
>>> 31-d?c-07
>>> 2-janv-08
>>> 4-janv-08
>>> 7-janv-08
>>> 9-janv-08
>>> 11-janv-08
>>> 14-janv-08
>>> 16-janv-08
>>> 18-janv-08
>>>
>>> There are other columns for other (numeric) variables in the data
>>> file. In my read.csv2 statement, I indicate that the date column  
>>> must
>>> be imported "as.is" to keep it as character.
>>>
>>> I would like to transform this into a date object in R. So far I've
>>> used chron for my dates and times needs, but I am willing to  
>>> change if
>>> another object/package will ease the task of importing these dates.
>>>
>>> My reading of the chron help led me to believe that the formats it
>>> understands are only month names in English.
>>>
>>> Are there other "formats" I can use with chron, or must I somehow  
>>> edit
>>> this character variables to replace French month names by English  
>>> ones
>>> (or numbers from 1 to 12)?
>>>
>>> Thanks in advance,
>>>
>>> Denis
>>> p.s. I read this in digest mode, so I'll get your replies faster if
>>> you cc to my email
>
>
>
>
>
>
>
>

From mxkuhn at gmail.com  Thu Jan 31 18:16:17 2008
From: mxkuhn at gmail.com (Max Kuhn)
Date: Thu, 31 Jan 2008 12:16:17 -0500
Subject: [R-SIG-Mac] help: R on Mac's is "buggy",
	department reconsidering
In-Reply-To: <3f547caa0801310840y4808893bv20299a62dc4fa187@mail.gmail.com>
References: <3f547caa0801310840y4808893bv20299a62dc4fa187@mail.gmail.com>
Message-ID: <6731304c0801310916k63b447a2h80d0923e81f8d1fd@mail.gmail.com>

On Jan 31, 2008 11:40 AM, Matthew Keller <mckellercran at gmail.com> wrote:
> Hello all,
>
> I dread writing this because it may come across as being ungrateful to
> the hard work of those (esp. Simon Urbanek) who have made an otherwise
> fantastic R interface for the mac. Nevertheless...
>

Here are my suggestions:

1. Tell us your version of R, the R GUI and Java. Is everyone using
Leopard? Also, there may be an interaction with packages, so versions
of the commonly used ones would be a good idea.

> I apologize for breaking the listserve rules - I have not given a good
> explanation of the conditions under which these crashes occur. I could
> try to get the students to document exactly when they happen and send
> a summary back out to the list if this would be helpful.

2. I understand, but you have to provide *some* information on the
task if you expect anyone to help.  You don't sound at all ungrateful
to me, but you also don't provide any help in figuring out the issue.
Be specific. Give examples.

I've been running R.app GUI 1.22-devel (4859) and R version 2.6.1
Patched (2007-12-06 r43615)  (i386-apple-darwin9.1.0) on a dual intel
laptop with no issues. I can't remember a crash ever occurring.

-- 

Max


From khansen at stat.Berkeley.EDU  Thu Jan 31 18:23:13 2008
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Thu, 31 Jan 2008 09:23:13 -0800
Subject: [R-SIG-Mac] help: R on Mac's is "buggy",
	department reconsidering
In-Reply-To: <3f547caa0801310840y4808893bv20299a62dc4fa187@mail.gmail.com>
References: <3f547caa0801310840y4808893bv20299a62dc4fa187@mail.gmail.com>
Message-ID: <548B3061-48BA-4473-AA08-1FD2584C7BCE@stat.berkeley.edu>

Let me preempt Simon a bit and suggest that you give us very precise  
information about what happens. Especially these days since "Mac"  
actually covers 4 different architectures, several versions of the OS  
and several compilers.

So
1) Get a crash report and send it to Simon. If it is so easy to get R  
to crash it should be easy to get a report.
2) What version of R and the GUI was installed and exactly on what  
machine? How did you install packages? Which compiler was used  
(include gcc version and build number)?

Kasper

On Jan 31, 2008, at 8:40 AM, Matthew Keller wrote:

> Hello all,
>
> I dread writing this because it may come across as being ungrateful to
> the hard work of those (esp. Simon Urbanek) who have made an otherwise
> fantastic R interface for the mac. Nevertheless...
>
> I do most of my work in R using Aquamacs and had, until recently,
> little interaction with the R Gui. People in my department (psychology
> at CU Boulder) are mainly mac users, and a few of us (including the
> chair and the statistics professors) are making a push to make our
> department an "R" department (such that it is the package taught to
> undergrads and grad students). I have been teaching a four week intro
> to the R language this semester to students, postdocs, and faculty,
> and the undergrad stats professors have taken the leap and are
> teaching R in the undergrad stats classes this semester. So far so
> good... but...
>
> There is beginning to be a backlash, not from what I had expected ("R
> is too user unfriendly"... this doesn't seem to come up!), but rather
> that R is "too buggy" and crashes too often. Since switching to the R
> Gui to teach this class, I myself have had R crash several times
> (previously a rare occurrence when I used Aquamacs). I cannot find a
> rhyme or reason to when it happens. The students/colleagues in my
> class who are mac users also complain about it (none of the windows
> users have). And this morning, an email went out from one of the
> undergrad stats teachers who said much the same thing (see his email
> below).
>
> Being one of the people who really pushed for this switch to R, I hate
> to see it go down in flames because of this. I have considered trying
> to teach using R via Aquamacs, but this presents its own set of
> difficulties.
>
> Does anyone out there who has experience with the R Gui for Macs have
> any suggestions re making it more stable? Are there steps we can take
> or advice we can give to students that would lessen the number of
> crashes we are experiencing? Might the crashes be due to the newness
> of the Leopard OS, etc?
>
> I apologize for breaking the listserve rules - I have not given a good
> explanation of the conditions under which these crashes occur. I could
> try to get the students to document exactly when they happen and send
> a summary back out to the list if this would be helpful.
>
> I really want this (our department's switch to R) to go through, but I
> am afraid the "bugginess of R" may be jeopardizing this. Any help
> would be most appreciated. And as I said before, thank you to the
> people who have selflessly spent their time making the R Gui - I
> wouldn't even know where to start! Best,
>
> Matt
>
>
>
> <message from an undergrad stats prof here at CU> :
>
> In the labs for my course, the R GUI has been buggy - i.e. will  
> crash at
> random times. I thought this had to do with using R Commander, but  
> after
> looking into it further, it has nothing to do with R Commander -  
> when I
> ran through some of the tutorial/homework for my course using the R  
> GUI
> (rather than R Commander) the crashes were still there.  I also  
> thought
> it might have to do with computing labs (perhaps installing ALL R
> packages created the problem), but a quick survey in my course  
> suggested
> that people's personal apple computers are experiencing the same  
> thing.
> Greg and Matt Keller also mentioned to me that some of their students
> were having issues with the R GUI on Mac OS X. As everyone knows,  
> there
> are A LOT of Mac users in the undergrad student body.
>
> As far as I can tell (after discussing with Matt Keller), it has  
> nothing
> to do with the R "engine" - it's all about the R GUI interface (for
> example, I've never had a problem submitting R jobs in pseudo-batch
> mode).  I get slightly less buggy-ness on my Mac (intel dual-core,
> Leopard), but there are still some issues.
>
> Anyway, no real action items here other than to note that it  
> appears to
> be fairly common. The students are tolerating it, and I just keep
> telling them that it's "free" and "free" always comes at a price. If
> anyone has stumbled a more stable configuration, please let me know!
>
>
>
> -- 
> Matthew C Keller
> Asst. Professor of Psychology
> University of Colorado at Boulder
> www.matthewckeller.com
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From chabotd at globetrotter.net  Thu Jan 31 18:34:20 2008
From: chabotd at globetrotter.net (Denis Chabot)
Date: Thu, 31 Jan 2008 12:34:20 -0500
Subject: [R-SIG-Mac] vignettes
Message-ID: <E3348D8C-9059-4157-8BAA-FFFD4A3B0597@globetrotter.net>

Hi,

I find it very useful to read vignettes when they exist, but somehow  
they do not get installed when I install binaries through R app. For  
instance, today I installed gsubfn and talked with its author, Gabor.  
He told me to consult the vignette, which I did not know existed.  
Gabor told me that on Windows, any vignette existing for a package  
gets downloaded when you install the package. Would it be possible for  
R app to do the same? I think it would be very useful.

Thanks in advance,

Denis Chabot


From lists at revelle.net  Thu Jan 31 18:42:41 2008
From: lists at revelle.net (William Revelle)
Date: Thu, 31 Jan 2008 11:42:41 -0600
Subject: [R-SIG-Mac] help: R on Mac's is "buggy",
 department reconsidering
In-Reply-To: <548B3061-48BA-4473-AA08-1FD2584C7BCE@stat.berkeley.edu>
References: <3f547caa0801310840y4808893bv20299a62dc4fa187@mail.gmail.com>
	<548B3061-48BA-4473-AA08-1FD2584C7BCE@stat.berkeley.edu>
Message-ID: <p06240834c3c7b751e400@[165.124.160.193]>

Matt,
  In addition to the comments by Kasper and Max, may I add two points:

1) I am delighted that another psych department is pushing R for 
undergrads and grads.  I have been doing so here with limited success.
I have been able to get undergrads in both my research methods class 
and a more advanced class getting comfortable with it and doing some 
basic analyses.  Some of our grad students are R converts as well. 
Among the faculty, however, it is much slower going.

2) Running R 2.6.1 with Mac 10.4+ or 10.5.1  on Intel and G4/G5s  and 
the Mac Gui I have almost no crashes of R.  Running 2.7.0 
(development, unstable) I have just a few.

Make sure the students download 2.6.1 and packages that come with 
that configuration.

Bill






At 9:23 AM -0800 1/31/08, Kasper Daniel Hansen wrote:
>Let me preempt Simon a bit and suggest that you give us very precise 
>information about what happens. Especially these days since "Mac" 
>actually covers 4 different architectures, several versions of the OS 
>and several compilers.
>
>So
>1) Get a crash report and send it to Simon. If it is so easy to get R 
>to crash it should be easy to get a report.
>2) What version of R and the GUI was installed and exactly on what 
>machine? How did you install packages? Which compiler was used 
>(include gcc version and build number)?
>
>Kasper
>
>On Jan 31, 2008, at 8:40 AM, Matthew Keller wrote:
>
>>  Hello all,
>>
>>  I dread writing this because it may come across as being ungrateful to
>>  the hard work of those (esp. Simon Urbanek) who have made an otherwise
>>  fantastic R interface for the mac. Nevertheless...
>>
>>  I do most of my work in R using Aquamacs and had, until recently,
>>  little interaction with the R Gui. People in my department (psychology
>>  at CU Boulder) are mainly mac users, and a few of us (including the
>>  chair and the statistics professors) are making a push to make our
>>  department an "R" department (such that it is the package taught to
>>  undergrads and grad students). I have been teaching a four week intro
>>  to the R language this semester to students, postdocs, and faculty,
>>  and the undergrad stats professors have taken the leap and are
>>  teaching R in the undergrad stats classes this semester. So far so
>>  good... but...
>>
>>  There is beginning to be a backlash, not from what I had expected ("R
>>  is too user unfriendly"... this doesn't seem to come up!), but rather
>>  that R is "too buggy" and crashes too often. Since switching to the R
>>  Gui to teach this class, I myself have had R crash several times
>>  (previously a rare occurrence when I used Aquamacs). I cannot find a
>>  rhyme or reason to when it happens. The students/colleagues in my
>>  class who are mac users also complain about it (none of the windows
>>  users have). And this morning, an email went out from one of the
>>  undergrad stats teachers who said much the same thing (see his email
>>  below).
>>
>>  Being one of the people who really pushed for this switch to R, I hate
>>  to see it go down in flames because of this. I have considered trying
>>  to teach using R via Aquamacs, but this presents its own set of
>>  difficulties.
>>
>>  Does anyone out there who has experience with the R Gui for Macs have
>>  any suggestions re making it more stable? Are there steps we can take
>>  or advice we can give to students that would lessen the number of
>>  crashes we are experiencing? Might the crashes be due to the newness
>>  of the Leopard OS, etc?
>>
>>  I apologize for breaking the listserve rules - I have not given a good
>>  explanation of the conditions under which these crashes occur. I could
>>  try to get the students to document exactly when they happen and send
>>  a summary back out to the list if this would be helpful.
>>
>>  I really want this (our department's switch to R) to go through, but I
>>  am afraid the "bugginess of R" may be jeopardizing this. Any help
>  > would be most appreciated. And as I said before, thank you to the
>>  people who have selflessly spent their time making the R Gui - I
>>  wouldn't even know where to start! Best,
>>
>>  Matt
>>
>>
>>
>>  <message from an undergrad stats prof here at CU> :
>>
>>  In the labs for my course, the R GUI has been buggy - i.e. will 
>>  crash at
>>  random times. I thought this had to do with using R Commander, but 
>>  after
>>  looking into it further, it has nothing to do with R Commander - 
>>  when I
>>  ran through some of the tutorial/homework for my course using the R 
>>  GUI
>>  (rather than R Commander) the crashes were still there.  I also 
>>  thought
>>  it might have to do with computing labs (perhaps installing ALL R
>>  packages created the problem), but a quick survey in my course 
>>  suggested
>>  that people's personal apple computers are experiencing the same 
>>  thing.
>>  Greg and Matt Keller also mentioned to me that some of their students
>>  were having issues with the R GUI on Mac OS X. As everyone knows, 
>>  there
>>  are A LOT of Mac users in the undergrad student body.
>>
>>  As far as I can tell (after discussing with Matt Keller), it has 
>>  nothing
>>  to do with the R "engine" - it's all about the R GUI interface (for
>>  example, I've never had a problem submitting R jobs in pseudo-batch
>>  mode).  I get slightly less buggy-ness on my Mac (intel dual-core,
>>  Leopard), but there are still some issues.
>>
>>  Anyway, no real action items here other than to note that it 
>>  appears to
>>  be fairly common. The students are tolerating it, and I just keep
>>  telling them that it's "free" and "free" always comes at a price. If
>>  anyone has stumbled a more stable configuration, please let me know!
>>
>>
>>
>>  --
>>  Matthew C Keller
>>  Asst. Professor of Psychology
>>  University of Colorado at Boulder
>>  www.matthewckeller.com
>>
>>  _______________________________________________
>>  R-SIG-Mac mailing list
>>  R-SIG-Mac at stat.math.ethz.ch
>>  https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
William Revelle		http://personality-project.org/revelle.html
Professor			http://personality-project.org/personality.html
Department of Psychology             http://www.wcas.northwestern.edu/psych/
Northwestern University	http://www.northwestern.edu/
Use R for statistics:                          http://personality-project.org/r


From simon.urbanek at r-project.org  Thu Jan 31 18:44:47 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 31 Jan 2008 12:44:47 -0500
Subject: [R-SIG-Mac] vignettes
In-Reply-To: <E3348D8C-9059-4157-8BAA-FFFD4A3B0597@globetrotter.net>
References: <E3348D8C-9059-4157-8BAA-FFFD4A3B0597@globetrotter.net>
Message-ID: <FDBF8FEE-709C-465A-9D51-1349D1AE6ACE@r-project.org>

Denis,

On Jan 31, 2008, at 12:34 PM, Denis Chabot wrote:

> I find it very useful to read vignettes when they exist, but somehow
> they do not get installed when I install binaries through R app. For
> instance, today I installed gsubfn and talked with its author, Gabor.
> He told me to consult the vignette, which I did not know existed.
> Gabor told me that on Windows, any vignette existing for a package
> gets downloaded when you install the package. Would it be possible for
> R app to do the same? I think it would be very useful.
>

vignettes are installed along with packages (if they exist) as they  
are part of the package. I'm not sure where you are missing the  
vignette, but I get:

 > vignettes()
[...]
Vignettes in package ?gsubfn?:

gsubfn                  gsubfn: Utilities for Strings and for Function
                         Arguments. (source, pdf)
[...]

(and it is also available via Help->Vignettes)

Cheers,
Simon


From mckellercran at gmail.com  Thu Jan 31 18:58:22 2008
From: mckellercran at gmail.com (Matthew Keller)
Date: Thu, 31 Jan 2008 10:58:22 -0700
Subject: [R-SIG-Mac] help: R on Mac's is "buggy",
	department reconsidering
In-Reply-To: <p06240834c3c7b751e400@165.124.160.193>
References: <3f547caa0801310840y4808893bv20299a62dc4fa187@mail.gmail.com>
	<548B3061-48BA-4473-AA08-1FD2584C7BCE@stat.berkeley.edu>
	<p06240834c3c7b751e400@165.124.160.193>
Message-ID: <3f547caa0801310958r52a9ff5ejbb832b8ff3468034@mail.gmail.com>

HI all,

Thanks for these suggestions. I will send out a note to my class and
ask them to document their configurations and their version as well as
what they were doing when/if crashes occur. I will also request that
all crashes are reported if possible (I'm not sure that sending a
report was possible when my crashes occurred but maybe my memory is
bad).

I am heartened to hear that others are not experiencing crashes. It
gives me hope that this will be solvable, and also makes me wonder if
we are doing something boneheaded (e.g., everyone in my class is using
the same RProfile.site file... maybe something screwy in there...
etc). More to come...

Matt


PS - as this thread has been building, so has a thread among the profs
here at CU about this issue. One prof claims no crashes, another says
it crashes every time they did a particular assignment...


On Jan 31, 2008 10:42 AM, William Revelle <lists at revelle.net> wrote:
> Matt,
>   In addition to the comments by Kasper and Max, may I add two points:
>
> 1) I am delighted that another psych department is pushing R for
> undergrads and grads.  I have been doing so here with limited success.
> I have been able to get undergrads in both my research methods class
> and a more advanced class getting comfortable with it and doing some
> basic analyses.  Some of our grad students are R converts as well.
> Among the faculty, however, it is much slower going.
>
> 2) Running R 2.6.1 with Mac 10.4+ or 10.5.1  on Intel and G4/G5s  and
> the Mac Gui I have almost no crashes of R.  Running 2.7.0
> (development, unstable) I have just a few.
>
> Make sure the students download 2.6.1 and packages that come with
> that configuration.
>
> Bill
>
>
>
>
>
>
>
> At 9:23 AM -0800 1/31/08, Kasper Daniel Hansen wrote:
> >Let me preempt Simon a bit and suggest that you give us very precise
> >information about what happens. Especially these days since "Mac"
> >actually covers 4 different architectures, several versions of the OS
> >and several compilers.
> >
> >So
> >1) Get a crash report and send it to Simon. If it is so easy to get R
> >to crash it should be easy to get a report.
> >2) What version of R and the GUI was installed and exactly on what
> >machine? How did you install packages? Which compiler was used
> >(include gcc version and build number)?
> >
> >Kasper
> >
> >On Jan 31, 2008, at 8:40 AM, Matthew Keller wrote:
> >
> >>  Hello all,
> >>
> >>  I dread writing this because it may come across as being ungrateful to
> >>  the hard work of those (esp. Simon Urbanek) who have made an otherwise
> >>  fantastic R interface for the mac. Nevertheless...
> >>
> >>  I do most of my work in R using Aquamacs and had, until recently,
> >>  little interaction with the R Gui. People in my department (psychology
> >>  at CU Boulder) are mainly mac users, and a few of us (including the
> >>  chair and the statistics professors) are making a push to make our
> >>  department an "R" department (such that it is the package taught to
> >>  undergrads and grad students). I have been teaching a four week intro
> >>  to the R language this semester to students, postdocs, and faculty,
> >>  and the undergrad stats professors have taken the leap and are
> >>  teaching R in the undergrad stats classes this semester. So far so
> >>  good... but...
> >>
> >>  There is beginning to be a backlash, not from what I had expected ("R
> >>  is too user unfriendly"... this doesn't seem to come up!), but rather
> >>  that R is "too buggy" and crashes too often. Since switching to the R
> >>  Gui to teach this class, I myself have had R crash several times
> >>  (previously a rare occurrence when I used Aquamacs). I cannot find a
> >>  rhyme or reason to when it happens. The students/colleagues in my
> >>  class who are mac users also complain about it (none of the windows
> >>  users have). And this morning, an email went out from one of the
> >>  undergrad stats teachers who said much the same thing (see his email
> >>  below).
> >>
> >>  Being one of the people who really pushed for this switch to R, I hate
> >>  to see it go down in flames because of this. I have considered trying
> >>  to teach using R via Aquamacs, but this presents its own set of
> >>  difficulties.
> >>
> >>  Does anyone out there who has experience with the R Gui for Macs have
> >>  any suggestions re making it more stable? Are there steps we can take
> >>  or advice we can give to students that would lessen the number of
> >>  crashes we are experiencing? Might the crashes be due to the newness
> >>  of the Leopard OS, etc?
> >>
> >>  I apologize for breaking the listserve rules - I have not given a good
> >>  explanation of the conditions under which these crashes occur. I could
> >>  try to get the students to document exactly when they happen and send
> >>  a summary back out to the list if this would be helpful.
> >>
> >>  I really want this (our department's switch to R) to go through, but I
> >>  am afraid the "bugginess of R" may be jeopardizing this. Any help
> >  > would be most appreciated. And as I said before, thank you to the
> >>  people who have selflessly spent their time making the R Gui - I
> >>  wouldn't even know where to start! Best,
> >>
> >>  Matt
> >>
> >>
> >>
> >>  <message from an undergrad stats prof here at CU> :
> >>
> >>  In the labs for my course, the R GUI has been buggy - i.e. will
> >>  crash at
> >>  random times. I thought this had to do with using R Commander, but
> >>  after
> >>  looking into it further, it has nothing to do with R Commander -
> >>  when I
> >>  ran through some of the tutorial/homework for my course using the R
> >>  GUI
> >>  (rather than R Commander) the crashes were still there.  I also
> >>  thought
> >>  it might have to do with computing labs (perhaps installing ALL R
> >>  packages created the problem), but a quick survey in my course
> >>  suggested
> >>  that people's personal apple computers are experiencing the same
> >>  thing.
> >>  Greg and Matt Keller also mentioned to me that some of their students
> >>  were having issues with the R GUI on Mac OS X. As everyone knows,
> >>  there
> >>  are A LOT of Mac users in the undergrad student body.
> >>
> >>  As far as I can tell (after discussing with Matt Keller), it has
> >>  nothing
> >>  to do with the R "engine" - it's all about the R GUI interface (for
> >>  example, I've never had a problem submitting R jobs in pseudo-batch
> >>  mode).  I get slightly less buggy-ness on my Mac (intel dual-core,
> >>  Leopard), but there are still some issues.
> >>
> >>  Anyway, no real action items here other than to note that it
> >>  appears to
> >>  be fairly common. The students are tolerating it, and I just keep
> >>  telling them that it's "free" and "free" always comes at a price. If
> >>  anyone has stumbled a more stable configuration, please let me know!
> >>
> >>
> >>
> >>  --
> >>  Matthew C Keller
> >>  Asst. Professor of Psychology
> >>  University of Colorado at Boulder
> >>  www.matthewckeller.com
> >>
> >>  _______________________________________________
> >>  R-SIG-Mac mailing list
> >>  R-SIG-Mac at stat.math.ethz.ch
> >>  https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
> >_______________________________________________
> >R-SIG-Mac mailing list
> >R-SIG-Mac at stat.math.ethz.ch
> >https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
> --
> William Revelle         http://personality-project.org/revelle.html
> Professor                       http://personality-project.org/personality.html
> Department of Psychology             http://www.wcas.northwestern.edu/psych/
> Northwestern University http://www.northwestern.edu/
> Use R for statistics:                          http://personality-project.org/r
>



-- 
Matthew C Keller
Asst. Professor of Psychology
University of Colorado at Boulder
www.matthewckeller.com


From goedman at mac.com  Thu Jan 31 19:00:19 2008
From: goedman at mac.com (Rob Goedman)
Date: Thu, 31 Jan 2008 10:00:19 -0800
Subject: [R-SIG-Mac] help: R on Mac's is "buggy",
	department reconsidering
In-Reply-To: <3f547caa0801310840y4808893bv20299a62dc4fa187@mail.gmail.com>
References: <3f547caa0801310840y4808893bv20299a62dc4fa187@mail.gmail.com>
Message-ID: <CDB83060-03CE-42DD-8EF4-12A645B50330@mac.com>

Matthew,

Thanks for your input. As some others noted, we might need some more
input to really be able to work on this problem.

I do know of a sure way to crash R.app (up to R-2.7-devel).

Below very simple lattice graphics example will crash R.app after
switching to the display to full screen (green button) and back
once or sometimes several times.

I have been caught by this problem while teaching/using R.

Could that be a/the possible reason for the crashes? By the way,
if you manually enlarge/shrink the quartz() window the problem
(crash) does not occur. Simon and I have been aware of this
issue but have not been able to find the cause. As far as I
recall it has been there for about 2 years (in fact since the
last lattice upgrade) and for me was the main reason to switch
to using an external editor. Once I figured out it was the little
green button, I felt more confident showing the nice internal
editor features to new users.

The updated graphics in R-2.7-devel does solve this issue,
but of course R-2.7 is still out some time and is not
of release quality yet.

Rob

-------------- next part --------------
A non-text attachment was scrubbed...
Name: xyplot.R
Type: application/octet-stream
Size: 385 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080131/c4cae9f0/attachment.obj 
-------------- next part --------------




On Jan 31, 2008, at 8:40 AM, Matthew Keller wrote:

> Hello all,
>
> I dread writing this because it may come across as being ungrateful to
> the hard work of those (esp. Simon Urbanek) who have made an otherwise
> fantastic R interface for the mac. Nevertheless...
>
> I do most of my work in R using Aquamacs and had, until recently,
> little interaction with the R Gui. People in my department (psychology
> at CU Boulder) are mainly mac users, and a few of us (including the
> chair and the statistics professors) are making a push to make our
> department an "R" department (such that it is the package taught to
> undergrads and grad students). I have been teaching a four week intro
> to the R language this semester to students, postdocs, and faculty,
> and the undergrad stats professors have taken the leap and are
> teaching R in the undergrad stats classes this semester. So far so
> good... but...
>
> There is beginning to be a backlash, not from what I had expected ("R
> is too user unfriendly"... this doesn't seem to come up!), but rather
> that R is "too buggy" and crashes too often. Since switching to the R
> Gui to teach this class, I myself have had R crash several times
> (previously a rare occurrence when I used Aquamacs). I cannot find a
> rhyme or reason to when it happens. The students/colleagues in my
> class who are mac users also complain about it (none of the windows
> users have). And this morning, an email went out from one of the
> undergrad stats teachers who said much the same thing (see his email
> below).
>
> Being one of the people who really pushed for this switch to R, I hate
> to see it go down in flames because of this. I have considered trying
> to teach using R via Aquamacs, but this presents its own set of
> difficulties.
>
> Does anyone out there who has experience with the R Gui for Macs have
> any suggestions re making it more stable? Are there steps we can take
> or advice we can give to students that would lessen the number of
> crashes we are experiencing? Might the crashes be due to the newness
> of the Leopard OS, etc?
>
> I apologize for breaking the listserve rules - I have not given a good
> explanation of the conditions under which these crashes occur. I could
> try to get the students to document exactly when they happen and send
> a summary back out to the list if this would be helpful.
>
> I really want this (our department's switch to R) to go through, but I
> am afraid the "bugginess of R" may be jeopardizing this. Any help
> would be most appreciated. And as I said before, thank you to the
> people who have selflessly spent their time making the R Gui - I
> wouldn't even know where to start! Best,
>
> Matt
>
>
>
> <message from an undergrad stats prof here at CU> :
>
> In the labs for my course, the R GUI has been buggy - i.e. will  
> crash at
> random times. I thought this had to do with using R Commander, but  
> after
> looking into it further, it has nothing to do with R Commander -  
> when I
> ran through some of the tutorial/homework for my course using the R  
> GUI
> (rather than R Commander) the crashes were still there.  I also  
> thought
> it might have to do with computing labs (perhaps installing ALL R
> packages created the problem), but a quick survey in my course  
> suggested
> that people's personal apple computers are experiencing the same  
> thing.
> Greg and Matt Keller also mentioned to me that some of their students
> were having issues with the R GUI on Mac OS X. As everyone knows,  
> there
> are A LOT of Mac users in the undergrad student body.
>
> As far as I can tell (after discussing with Matt Keller), it has  
> nothing
> to do with the R "engine" - it's all about the R GUI interface (for
> example, I've never had a problem submitting R jobs in pseudo-batch
> mode).  I get slightly less buggy-ness on my Mac (intel dual-core,
> Leopard), but there are still some issues.
>
> Anyway, no real action items here other than to note that it appears  
> to
> be fairly common. The students are tolerating it, and I just keep
> telling them that it's "free" and "free" always comes at a price. If
> anyone has stumbled a more stable configuration, please let me know!
>
>
>
> -- 
> Matthew C Keller
> Asst. Professor of Psychology
> University of Colorado at Boulder
> www.matthewckeller.com
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From mckellercran at gmail.com  Thu Jan 31 19:05:57 2008
From: mckellercran at gmail.com (Matthew Keller)
Date: Thu, 31 Jan 2008 11:05:57 -0700
Subject: [R-SIG-Mac] help: R on Mac's is "buggy",
	department reconsidering
In-Reply-To: <CDB83060-03CE-42DD-8EF4-12A645B50330@mac.com>
References: <3f547caa0801310840y4808893bv20299a62dc4fa187@mail.gmail.com>
	<CDB83060-03CE-42DD-8EF4-12A645B50330@mac.com>
Message-ID: <3f547caa0801311005wd668569t94061836066fdebc@mail.gmail.com>

Hi all,

Rob - my experience is that the crashes have to do with graphics, but
I am going to be more systematic about this henceforth.

Stupid question: Simon, when you say to report the crash, how exactly
do we do this? Is it written somewhere how to do this? If not, then
where is the log and do we need to send you that via email or is
automated somehow?

Matt


On Jan 31, 2008 11:00 AM, Rob Goedman <goedman at mac.com> wrote:
> Matthew,
>
> Thanks for your input. As some others noted, we might need some more
> input to really be able to work on this problem.
>
> I do know of a sure way to crash R.app (up to R-2.7-devel).
>
> Below very simple lattice graphics example will crash R.app after
> switching to the display to full screen (green button) and back
> once or sometimes several times.
>
> I have been caught by this problem while teaching/using R.
>
> Could that be a/the possible reason for the crashes? By the way,
> if you manually enlarge/shrink the quartz() window the problem
> (crash) does not occur. Simon and I have been aware of this
> issue but have not been able to find the cause. As far as I
> recall it has been there for about 2 years (in fact since the
> last lattice upgrade) and for me was the main reason to switch
> to using an external editor. Once I figured out it was the little
> green button, I felt more confident showing the nice internal
> editor features to new users.
>
> The updated graphics in R-2.7-devel does solve this issue,
> but of course R-2.7 is still out some time and is not
> of release quality yet.
>
> Rob
>
>
>
>
>
>
> On Jan 31, 2008, at 8:40 AM, Matthew Keller wrote:
>
> > Hello all,
> >
> > I dread writing this because it may come across as being ungrateful to
> > the hard work of those (esp. Simon Urbanek) who have made an otherwise
> > fantastic R interface for the mac. Nevertheless...
> >
> > I do most of my work in R using Aquamacs and had, until recently,
> > little interaction with the R Gui. People in my department (psychology
> > at CU Boulder) are mainly mac users, and a few of us (including the
> > chair and the statistics professors) are making a push to make our
> > department an "R" department (such that it is the package taught to
> > undergrads and grad students). I have been teaching a four week intro
> > to the R language this semester to students, postdocs, and faculty,
> > and the undergrad stats professors have taken the leap and are
> > teaching R in the undergrad stats classes this semester. So far so
> > good... but...
> >
> > There is beginning to be a backlash, not from what I had expected ("R
> > is too user unfriendly"... this doesn't seem to come up!), but rather
> > that R is "too buggy" and crashes too often. Since switching to the R
> > Gui to teach this class, I myself have had R crash several times
> > (previously a rare occurrence when I used Aquamacs). I cannot find a
> > rhyme or reason to when it happens. The students/colleagues in my
> > class who are mac users also complain about it (none of the windows
> > users have). And this morning, an email went out from one of the
> > undergrad stats teachers who said much the same thing (see his email
> > below).
> >
> > Being one of the people who really pushed for this switch to R, I hate
> > to see it go down in flames because of this. I have considered trying
> > to teach using R via Aquamacs, but this presents its own set of
> > difficulties.
> >
> > Does anyone out there who has experience with the R Gui for Macs have
> > any suggestions re making it more stable? Are there steps we can take
> > or advice we can give to students that would lessen the number of
> > crashes we are experiencing? Might the crashes be due to the newness
> > of the Leopard OS, etc?
> >
> > I apologize for breaking the listserve rules - I have not given a good
> > explanation of the conditions under which these crashes occur. I could
> > try to get the students to document exactly when they happen and send
> > a summary back out to the list if this would be helpful.
> >
> > I really want this (our department's switch to R) to go through, but I
> > am afraid the "bugginess of R" may be jeopardizing this. Any help
> > would be most appreciated. And as I said before, thank you to the
> > people who have selflessly spent their time making the R Gui - I
> > wouldn't even know where to start! Best,
> >
> > Matt
> >
> >
> >
> > <message from an undergrad stats prof here at CU> :
> >
> > In the labs for my course, the R GUI has been buggy - i.e. will
> > crash at
> > random times. I thought this had to do with using R Commander, but
> > after
> > looking into it further, it has nothing to do with R Commander -
> > when I
> > ran through some of the tutorial/homework for my course using the R
> > GUI
> > (rather than R Commander) the crashes were still there.  I also
> > thought
> > it might have to do with computing labs (perhaps installing ALL R
> > packages created the problem), but a quick survey in my course
> > suggested
> > that people's personal apple computers are experiencing the same
> > thing.
> > Greg and Matt Keller also mentioned to me that some of their students
> > were having issues with the R GUI on Mac OS X. As everyone knows,
> > there
> > are A LOT of Mac users in the undergrad student body.
> >
> > As far as I can tell (after discussing with Matt Keller), it has
> > nothing
> > to do with the R "engine" - it's all about the R GUI interface (for
> > example, I've never had a problem submitting R jobs in pseudo-batch
> > mode).  I get slightly less buggy-ness on my Mac (intel dual-core,
> > Leopard), but there are still some issues.
> >
> > Anyway, no real action items here other than to note that it appears
> > to
> > be fairly common. The students are tolerating it, and I just keep
> > telling them that it's "free" and "free" always comes at a price. If
> > anyone has stumbled a more stable configuration, please let me know!
> >
> >
> >
> > --
> > Matthew C Keller
> > Asst. Professor of Psychology
> > University of Colorado at Boulder
> > www.matthewckeller.com
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at stat.math.ethz.ch
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
>



-- 
Matthew C Keller
Asst. Professor of Psychology
University of Colorado at Boulder
www.matthewckeller.com


From chabotd at globetrotter.net  Thu Jan 31 19:05:05 2008
From: chabotd at globetrotter.net (Denis Chabot)
Date: Thu, 31 Jan 2008 13:05:05 -0500
Subject: [R-SIG-Mac] vignettes
In-Reply-To: <FDBF8FEE-709C-465A-9D51-1349D1AE6ACE@r-project.org>
References: <E3348D8C-9059-4157-8BAA-FFFD4A3B0597@globetrotter.net>
	<FDBF8FEE-709C-465A-9D51-1349D1AE6ACE@r-project.org>
Message-ID: <4F1C2FDD-1314-4B77-B71C-0C3F76C188D7@globetrotter.net>

Hi Simon,

Well, my reason for believing vignettes were not installed with  
packages was mostly that I often look at what is included with  
packages and rarely sees a pdf there.

And true enough, in the case of gsubfn, I did not see one. Like you,  
if I do vignette() a list shows up and a vignette is indeed listed for  
gsubfn. But if I do

vignette("gsubfn")
Warning message:
vignette 'gsubfn' has no PDF

Denis

Denis Chabot
chabotd at globetrotter.net



Le 31 janv. 08 ? 12:44, Simon Urbanek a ?crit :

> Denis,
>
> On Jan 31, 2008, at 12:34 PM, Denis Chabot wrote:
>
>> I find it very useful to read vignettes when they exist, but somehow
>> they do not get installed when I install binaries through R app. For
>> instance, today I installed gsubfn and talked with its author, Gabor.
>> He told me to consult the vignette, which I did not know existed.
>> Gabor told me that on Windows, any vignette existing for a package
>> gets downloaded when you install the package. Would it be possible  
>> for
>> R app to do the same? I think it would be very useful.
>>
>
> vignettes are installed along with packages (if they exist) as they  
> are part of the package. I'm not sure where you are missing the  
> vignette, but I get:
>
> > vignettes()
> [...]
> Vignettes in package ?gsubfn?:
>
> gsubfn                  gsubfn: Utilities for Strings and for Function
>                        Arguments. (source, pdf)
> [...]
>
> (and it is also available via Help->Vignettes)
>
> Cheers,
> Simon
>
>


From mckellercran at gmail.com  Thu Jan 31 19:16:33 2008
From: mckellercran at gmail.com (Matthew Keller)
Date: Thu, 31 Jan 2008 11:16:33 -0700
Subject: [R-SIG-Mac] help: R on Mac's is "buggy",
	department reconsidering
In-Reply-To: <3f547caa0801311005wd668569t94061836066fdebc@mail.gmail.com>
References: <3f547caa0801310840y4808893bv20299a62dc4fa187@mail.gmail.com>
	<CDB83060-03CE-42DD-8EF4-12A645B50330@mac.com>
	<3f547caa0801311005wd668569t94061836066fdebc@mail.gmail.com>
Message-ID: <3f547caa0801311016vcb50c9cu73160da7ee62a5dd@mail.gmail.com>

I withdraw my question. Have read R Mac FAQ 4.8. Basically, we send
the crash.log to R-SIG-Mac at R-project.org

Matt

On Jan 31, 2008 11:05 AM, Matthew Keller <mckellercran at gmail.com> wrote:
> Hi all,
>
> Rob - my experience is that the crashes have to do with graphics, but
> I am going to be more systematic about this henceforth.
>
> Stupid question: Simon, when you say to report the crash, how exactly
> do we do this? Is it written somewhere how to do this? If not, then
> where is the log and do we need to send you that via email or is
> automated somehow?
>
> Matt
>
>
>
> On Jan 31, 2008 11:00 AM, Rob Goedman <goedman at mac.com> wrote:
> > Matthew,
> >
> > Thanks for your input. As some others noted, we might need some more
> > input to really be able to work on this problem.
> >
> > I do know of a sure way to crash R.app (up to R-2.7-devel).
> >
> > Below very simple lattice graphics example will crash R.app after
> > switching to the display to full screen (green button) and back
> > once or sometimes several times.
> >
> > I have been caught by this problem while teaching/using R.
> >
> > Could that be a/the possible reason for the crashes? By the way,
> > if you manually enlarge/shrink the quartz() window the problem
> > (crash) does not occur. Simon and I have been aware of this
> > issue but have not been able to find the cause. As far as I
> > recall it has been there for about 2 years (in fact since the
> > last lattice upgrade) and for me was the main reason to switch
> > to using an external editor. Once I figured out it was the little
> > green button, I felt more confident showing the nice internal
> > editor features to new users.
> >
> > The updated graphics in R-2.7-devel does solve this issue,
> > but of course R-2.7 is still out some time and is not
> > of release quality yet.
> >
> > Rob
> >
> >
> >
> >
> >
> >
> > On Jan 31, 2008, at 8:40 AM, Matthew Keller wrote:
> >
>
> > > Hello all,
> > >
> > > I dread writing this because it may come across as being ungrateful to
> > > the hard work of those (esp. Simon Urbanek) who have made an otherwise
> > > fantastic R interface for the mac. Nevertheless...
> > >
> > > I do most of my work in R using Aquamacs and had, until recently,
> > > little interaction with the R Gui. People in my department (psychology
> > > at CU Boulder) are mainly mac users, and a few of us (including the
> > > chair and the statistics professors) are making a push to make our
> > > department an "R" department (such that it is the package taught to
> > > undergrads and grad students). I have been teaching a four week intro
> > > to the R language this semester to students, postdocs, and faculty,
> > > and the undergrad stats professors have taken the leap and are
> > > teaching R in the undergrad stats classes this semester. So far so
> > > good... but...
> > >
> > > There is beginning to be a backlash, not from what I had expected ("R
> > > is too user unfriendly"... this doesn't seem to come up!), but rather
> > > that R is "too buggy" and crashes too often. Since switching to the R
> > > Gui to teach this class, I myself have had R crash several times
> > > (previously a rare occurrence when I used Aquamacs). I cannot find a
> > > rhyme or reason to when it happens. The students/colleagues in my
> > > class who are mac users also complain about it (none of the windows
> > > users have). And this morning, an email went out from one of the
> > > undergrad stats teachers who said much the same thing (see his email
> > > below).
> > >
> > > Being one of the people who really pushed for this switch to R, I hate
> > > to see it go down in flames because of this. I have considered trying
> > > to teach using R via Aquamacs, but this presents its own set of
> > > difficulties.
> > >
> > > Does anyone out there who has experience with the R Gui for Macs have
> > > any suggestions re making it more stable? Are there steps we can take
> > > or advice we can give to students that would lessen the number of
> > > crashes we are experiencing? Might the crashes be due to the newness
> > > of the Leopard OS, etc?
> > >
> > > I apologize for breaking the listserve rules - I have not given a good
> > > explanation of the conditions under which these crashes occur. I could
> > > try to get the students to document exactly when they happen and send
> > > a summary back out to the list if this would be helpful.
> > >
> > > I really want this (our department's switch to R) to go through, but I
> > > am afraid the "bugginess of R" may be jeopardizing this. Any help
> > > would be most appreciated. And as I said before, thank you to the
> > > people who have selflessly spent their time making the R Gui - I
> > > wouldn't even know where to start! Best,
> > >
> > > Matt
> > >
> > >
> > >
> > > <message from an undergrad stats prof here at CU> :
> > >
> > > In the labs for my course, the R GUI has been buggy - i.e. will
> > > crash at
> > > random times. I thought this had to do with using R Commander, but
> > > after
> > > looking into it further, it has nothing to do with R Commander -
> > > when I
> > > ran through some of the tutorial/homework for my course using the R
> > > GUI
> > > (rather than R Commander) the crashes were still there.  I also
> > > thought
> > > it might have to do with computing labs (perhaps installing ALL R
> > > packages created the problem), but a quick survey in my course
> > > suggested
> > > that people's personal apple computers are experiencing the same
> > > thing.
> > > Greg and Matt Keller also mentioned to me that some of their students
> > > were having issues with the R GUI on Mac OS X. As everyone knows,
> > > there
> > > are A LOT of Mac users in the undergrad student body.
> > >
> > > As far as I can tell (after discussing with Matt Keller), it has
> > > nothing
> > > to do with the R "engine" - it's all about the R GUI interface (for
> > > example, I've never had a problem submitting R jobs in pseudo-batch
> > > mode).  I get slightly less buggy-ness on my Mac (intel dual-core,
> > > Leopard), but there are still some issues.
> > >
> > > Anyway, no real action items here other than to note that it appears
> > > to
> > > be fairly common. The students are tolerating it, and I just keep
> > > telling them that it's "free" and "free" always comes at a price. If
> > > anyone has stumbled a more stable configuration, please let me know!
> > >
> > >
> > >
> > > --
> > > Matthew C Keller
> > > Asst. Professor of Psychology
> > > University of Colorado at Boulder
> > > www.matthewckeller.com
> > >
> > > _______________________________________________
> > > R-SIG-Mac mailing list
> > > R-SIG-Mac at stat.math.ethz.ch
> > > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
> >
> >
>
>
>
>
> --
> Matthew C Keller
> Asst. Professor of Psychology
> University of Colorado at Boulder
> www.matthewckeller.com
>



-- 
Matthew C Keller
Asst. Professor of Psychology
University of Colorado at Boulder
www.matthewckeller.com


From simon.urbanek at r-project.org  Thu Jan 31 19:20:49 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 31 Jan 2008 13:20:49 -0500
Subject: [R-SIG-Mac] help: R on Mac's is "buggy",
	department reconsidering
In-Reply-To: <3f547caa0801311005wd668569t94061836066fdebc@mail.gmail.com>
References: <3f547caa0801310840y4808893bv20299a62dc4fa187@mail.gmail.com>
	<CDB83060-03CE-42DD-8EF4-12A645B50330@mac.com>
	<3f547caa0801311005wd668569t94061836066fdebc@mail.gmail.com>
Message-ID: <0986DC7E-2D8F-436D-B87F-91FF592D4FCB@r-project.org>


On Jan 31, 2008, at 1:05 PM, Matthew Keller wrote:

> Rob - my experience is that the crashes have to do with graphics,  
> but I am going to be more systematic about this henceforth.
>
> Stupid question: Simon, when you say to report the crash, how  
> exactly do we do this? Is it written somewhere how to do this? If  
> not, then where is the log and do we need to send you that via email  
> or is automated somehow?
>

Usually when an application crashes, you get the "... application  
crashed, do you want to report the problem"? When you say "yes" then  
you get a window with the full report - do not send it to Apple, but  
copy, paste it and send to me via e-mail instead. Unfortunately the  
automated way sends the report to Apple, but not to us (and we can't  
change that). On the bright side it contains all necessary info, so  
you don't need to add anything.

Alternatively (if you said you don't want to report it), you can go to  
Applications -> Utilities -> Console and view all your crash reports  
there (select crash reports on the left hand side).

Cheers,
Simon


>
> On Jan 31, 2008 11:00 AM, Rob Goedman <goedman at mac.com> wrote:
>> Matthew,
>>
>> Thanks for your input. As some others noted, we might need some more
>> input to really be able to work on this problem.
>>
>> I do know of a sure way to crash R.app (up to R-2.7-devel).
>>
>> Below very simple lattice graphics example will crash R.app after
>> switching to the display to full screen (green button) and back
>> once or sometimes several times.
>>
>> I have been caught by this problem while teaching/using R.
>>
>> Could that be a/the possible reason for the crashes? By the way,
>> if you manually enlarge/shrink the quartz() window the problem
>> (crash) does not occur. Simon and I have been aware of this
>> issue but have not been able to find the cause. As far as I
>> recall it has been there for about 2 years (in fact since the
>> last lattice upgrade) and for me was the main reason to switch
>> to using an external editor. Once I figured out it was the little
>> green button, I felt more confident showing the nice internal
>> editor features to new users.
>>
>> The updated graphics in R-2.7-devel does solve this issue,
>> but of course R-2.7 is still out some time and is not
>> of release quality yet.
>>
>> Rob
>>
>>
>>
>>
>>
>>
>> On Jan 31, 2008, at 8:40 AM, Matthew Keller wrote:
>>
>>> Hello all,
>>>
>>> I dread writing this because it may come across as being  
>>> ungrateful to
>>> the hard work of those (esp. Simon Urbanek) who have made an  
>>> otherwise
>>> fantastic R interface for the mac. Nevertheless...
>>>
>>> I do most of my work in R using Aquamacs and had, until recently,
>>> little interaction with the R Gui. People in my department  
>>> (psychology
>>> at CU Boulder) are mainly mac users, and a few of us (including the
>>> chair and the statistics professors) are making a push to make our
>>> department an "R" department (such that it is the package taught to
>>> undergrads and grad students). I have been teaching a four week  
>>> intro
>>> to the R language this semester to students, postdocs, and faculty,
>>> and the undergrad stats professors have taken the leap and are
>>> teaching R in the undergrad stats classes this semester. So far so
>>> good... but...
>>>
>>> There is beginning to be a backlash, not from what I had expected  
>>> ("R
>>> is too user unfriendly"... this doesn't seem to come up!), but  
>>> rather
>>> that R is "too buggy" and crashes too often. Since switching to  
>>> the R
>>> Gui to teach this class, I myself have had R crash several times
>>> (previously a rare occurrence when I used Aquamacs). I cannot find a
>>> rhyme or reason to when it happens. The students/colleagues in my
>>> class who are mac users also complain about it (none of the windows
>>> users have). And this morning, an email went out from one of the
>>> undergrad stats teachers who said much the same thing (see his email
>>> below).
>>>
>>> Being one of the people who really pushed for this switch to R, I  
>>> hate
>>> to see it go down in flames because of this. I have considered  
>>> trying
>>> to teach using R via Aquamacs, but this presents its own set of
>>> difficulties.
>>>
>>> Does anyone out there who has experience with the R Gui for Macs  
>>> have
>>> any suggestions re making it more stable? Are there steps we can  
>>> take
>>> or advice we can give to students that would lessen the number of
>>> crashes we are experiencing? Might the crashes be due to the newness
>>> of the Leopard OS, etc?
>>>
>>> I apologize for breaking the listserve rules - I have not given a  
>>> good
>>> explanation of the conditions under which these crashes occur. I  
>>> could
>>> try to get the students to document exactly when they happen and  
>>> send
>>> a summary back out to the list if this would be helpful.
>>>
>>> I really want this (our department's switch to R) to go through,  
>>> but I
>>> am afraid the "bugginess of R" may be jeopardizing this. Any help
>>> would be most appreciated. And as I said before, thank you to the
>>> people who have selflessly spent their time making the R Gui - I
>>> wouldn't even know where to start! Best,
>>>
>>> Matt
>>>
>>>
>>>
>>> <message from an undergrad stats prof here at CU> :
>>>
>>> In the labs for my course, the R GUI has been buggy - i.e. will
>>> crash at
>>> random times. I thought this had to do with using R Commander, but
>>> after
>>> looking into it further, it has nothing to do with R Commander -
>>> when I
>>> ran through some of the tutorial/homework for my course using the R
>>> GUI
>>> (rather than R Commander) the crashes were still there.  I also
>>> thought
>>> it might have to do with computing labs (perhaps installing ALL R
>>> packages created the problem), but a quick survey in my course
>>> suggested
>>> that people's personal apple computers are experiencing the same
>>> thing.
>>> Greg and Matt Keller also mentioned to me that some of their  
>>> students
>>> were having issues with the R GUI on Mac OS X. As everyone knows,
>>> there
>>> are A LOT of Mac users in the undergrad student body.
>>>
>>> As far as I can tell (after discussing with Matt Keller), it has
>>> nothing
>>> to do with the R "engine" - it's all about the R GUI interface (for
>>> example, I've never had a problem submitting R jobs in pseudo-batch
>>> mode).  I get slightly less buggy-ness on my Mac (intel dual-core,
>>> Leopard), but there are still some issues.
>>>
>>> Anyway, no real action items here other than to note that it appears
>>> to
>>> be fairly common. The students are tolerating it, and I just keep
>>> telling them that it's "free" and "free" always comes at a price. If
>>> anyone has stumbled a more stable configuration, please let me know!
>>>
>>>
>>>
>>> --
>>> Matthew C Keller
>>> Asst. Professor of Psychology
>>> University of Colorado at Boulder
>>> www.matthewckeller.com
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>>
>
>
>
> -- 
> Matthew C Keller
> Asst. Professor of Psychology
> University of Colorado at Boulder
> www.matthewckeller.com
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Thu Jan 31 19:23:37 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 31 Jan 2008 13:23:37 -0500
Subject: [R-SIG-Mac] help: R on Mac's is "buggy",
	department reconsidering
In-Reply-To: <CDB83060-03CE-42DD-8EF4-12A645B50330@mac.com>
References: <3f547caa0801310840y4808893bv20299a62dc4fa187@mail.gmail.com>
	<CDB83060-03CE-42DD-8EF4-12A645B50330@mac.com>
Message-ID: <5E96DD13-1881-46C0-A667-8B505EFE72CB@r-project.org>

Rob,

On Jan 31, 2008, at 1:00 PM, Rob Goedman wrote:

> Thanks for your input. As some others noted, we might need some more
> input to really be able to work on this problem.
>
> I do know of a sure way to crash R.app (up to R-2.7-devel).
>
> Below very simple lattice graphics example will crash R.app after
> switching to the display to full screen (green button) and back
> once or sometimes several times.
>

Thanks for refreshing my memory - I have completely forgotten about  
that. I'll see if we can at least get some work-around (even if it  
means disabling that button as a last resort ;)).

Simon


> I have been caught by this problem while teaching/using R.
>
> Could that be a/the possible reason for the crashes? By the way,
> if you manually enlarge/shrink the quartz() window the problem
> (crash) does not occur. Simon and I have been aware of this
> issue but have not been able to find the cause. As far as I
> recall it has been there for about 2 years (in fact since the
> last lattice upgrade) and for me was the main reason to switch
> to using an external editor. Once I figured out it was the little
> green button, I felt more confident showing the nice internal
> editor features to new users.
>
> The updated graphics in R-2.7-devel does solve this issue,
> but of course R-2.7 is still out some time and is not
> of release quality yet.
>
> Rob
>
> <xyplot.R>
>
>
>
> On Jan 31, 2008, at 8:40 AM, Matthew Keller wrote:
>
>> Hello all,
>>
>> I dread writing this because it may come across as being ungrateful  
>> to
>> the hard work of those (esp. Simon Urbanek) who have made an  
>> otherwise
>> fantastic R interface for the mac. Nevertheless...
>>
>> I do most of my work in R using Aquamacs and had, until recently,
>> little interaction with the R Gui. People in my department  
>> (psychology
>> at CU Boulder) are mainly mac users, and a few of us (including the
>> chair and the statistics professors) are making a push to make our
>> department an "R" department (such that it is the package taught to
>> undergrads and grad students). I have been teaching a four week intro
>> to the R language this semester to students, postdocs, and faculty,
>> and the undergrad stats professors have taken the leap and are
>> teaching R in the undergrad stats classes this semester. So far so
>> good... but...
>>
>> There is beginning to be a backlash, not from what I had expected ("R
>> is too user unfriendly"... this doesn't seem to come up!), but rather
>> that R is "too buggy" and crashes too often. Since switching to the R
>> Gui to teach this class, I myself have had R crash several times
>> (previously a rare occurrence when I used Aquamacs). I cannot find a
>> rhyme or reason to when it happens. The students/colleagues in my
>> class who are mac users also complain about it (none of the windows
>> users have). And this morning, an email went out from one of the
>> undergrad stats teachers who said much the same thing (see his email
>> below).
>>
>> Being one of the people who really pushed for this switch to R, I  
>> hate
>> to see it go down in flames because of this. I have considered trying
>> to teach using R via Aquamacs, but this presents its own set of
>> difficulties.
>>
>> Does anyone out there who has experience with the R Gui for Macs have
>> any suggestions re making it more stable? Are there steps we can take
>> or advice we can give to students that would lessen the number of
>> crashes we are experiencing? Might the crashes be due to the newness
>> of the Leopard OS, etc?
>>
>> I apologize for breaking the listserve rules - I have not given a  
>> good
>> explanation of the conditions under which these crashes occur. I  
>> could
>> try to get the students to document exactly when they happen and send
>> a summary back out to the list if this would be helpful.
>>
>> I really want this (our department's switch to R) to go through,  
>> but I
>> am afraid the "bugginess of R" may be jeopardizing this. Any help
>> would be most appreciated. And as I said before, thank you to the
>> people who have selflessly spent their time making the R Gui - I
>> wouldn't even know where to start! Best,
>>
>> Matt
>>
>>
>>
>> <message from an undergrad stats prof here at CU> :
>>
>> In the labs for my course, the R GUI has been buggy - i.e. will  
>> crash at
>> random times. I thought this had to do with using R Commander, but  
>> after
>> looking into it further, it has nothing to do with R Commander -  
>> when I
>> ran through some of the tutorial/homework for my course using the R  
>> GUI
>> (rather than R Commander) the crashes were still there.  I also  
>> thought
>> it might have to do with computing labs (perhaps installing ALL R
>> packages created the problem), but a quick survey in my course  
>> suggested
>> that people's personal apple computers are experiencing the same  
>> thing.
>> Greg and Matt Keller also mentioned to me that some of their students
>> were having issues with the R GUI on Mac OS X. As everyone knows,  
>> there
>> are A LOT of Mac users in the undergrad student body.
>>
>> As far as I can tell (after discussing with Matt Keller), it has  
>> nothing
>> to do with the R "engine" - it's all about the R GUI interface (for
>> example, I've never had a problem submitting R jobs in pseudo-batch
>> mode).  I get slightly less buggy-ness on my Mac (intel dual-core,
>> Leopard), but there are still some issues.
>>
>> Anyway, no real action items here other than to note that it  
>> appears to
>> be fairly common. The students are tolerating it, and I just keep
>> telling them that it's "free" and "free" always comes at a price. If
>> anyone has stumbled a more stable configuration, please let me know!
>>
>>
>>
>> -- 
>> Matthew C Keller
>> Asst. Professor of Psychology
>> University of Colorado at Boulder
>> www.matthewckeller.com
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Thu Jan 31 19:33:03 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 31 Jan 2008 13:33:03 -0500
Subject: [R-SIG-Mac] R crashes with french canadian OS X format (was:
	[R] dates in French format)
In-Reply-To: <2F5ECABC-E677-4A48-B0D7-6F374727F52C@globetrotter.net>
References: <mailman.22.1201690804.26785.r-help@r-project.org>
	<9A3B3CCC-DD22-49C2-8C21-37EF4BDF6B31@globetrotter.net>
	<alpine.LFD.1.00.0801310656440.22211@gannet.stats.ox.ac.uk>
	<2F5ECABC-E677-4A48-B0D7-6F374727F52C@globetrotter.net>
Message-ID: <E2BBE11B-3F45-4909-A4DA-005557ED0F5E@r-project.org>

Denis,

thanks for the report. It should be now fixed in R-patched and R-devel.

Cheers,
Simon


On Jan 31, 2008, at 12:02 PM, Denis Chabot wrote:

> Hi, I have made some progress as for the crash. Reinstalling R had  
> nothing to do with solving the crashes. Systems settings  
> (International panel in System Preferences) are involved.
>
> If I set my international "formats" to French, the examples given  
> indicate that "january" is "janv." as short month. (see the screen  
> shot attached to this message).
>
> <Image 1.png>
>
>
> With this setting, R does not crash.
> > sessionInfo()
> R version 2.6.1 (2007-11-26)
> i386-apple-darwin8.10.1
>
> locale:
> fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] chron_2.3-16
>
> > as.Date("2000-01-01")
> [1] "2000-01-01"
>
> > french.months <- format(seq(as.Date("2000-01-01"), length = 12, by  
> = "month"), "%b")
> > french.months
> [1] "jan" "f?v" "mar" "avr" "mai" "jui" "jul" "ao?" "sep" "oct"  
> "nov" "d?c"
>
> Things are fine, although I do not understand why the OS claims the  
> short month is "janv", but the above extracts "jan". Excel uses  
> "jan" and "ao?", just as reported with the above.
>
> If I select canadian french, things do not go well at all. Apple do  
> not show a short month mode for canadian french (second image).
>
> <Image 2.png>
>
>
> Excel now uses some different short abbreviations: "janv", "mars",   
> "ao?t" and "sept".
>
> and R does not like it at all:
>
> > sessionInfo()
> R version 2.6.1 (2007-11-26)
> i386-apple-darwin8.10.1
>
> locale:
> fr_CA.UTF-8/fr_CA.UTF-8/fr_CA.UTF-8/C/fr_CA.UTF-8/fr_CA.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] chron_2.3-16
>
> > as.Date("2000-01-01")
>
> *** caught bus error ***
> address 0x8, cause 'non-existent physical address'
>
> Traceback:
> 1: strptime(x, f)
> 2: fromchar(x)
> 3: as.Date.character("2000-01-01")
> 4: as.Date("2000-01-01")
>
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
> Selection:
>
>
> This is a pain as my mac is normally set to use french canadian  
> formats. I'll use French for now!
>
> Denis
>
>> (I've put the R Mac list in cc because of the crashes I have  
>> experienced trying some of the suggestions below)
>>
>> Hi Gabor and Prof Ripley,
>>
>> Le 31 janv. 08 ? 02:11, Prof Brian Ripley a ?crit :
>>
>>> The output from sessionInfo() the posting guide asked for would  
>>> have been very helpful here.
>>
>> You are right, sorry about that:
>>
>>
>> > library(chron)
>> > sessionInfo()
>> R version 2.6.1 (2007-11-26)
>> i386-apple-darwin8.10.1
>>
>> locale:
>> fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> other attached packages:
>> [1] chron_2.3-16
>>
>>
>>>
>>>
>>> I think the problem is likely to be that these are not standard  
>>> French
>>> abbreviations according to my systems.
>>
>> I was ready to blame Excel for the use of non-standard  
>> abbreviations, but I would have been wrong: it seems that "janv" is  
>> a Mac OS X decision from what I can see in my system settings. I am  
>> not sure what would be a bullet-proof authority on french  
>> abbreviations. My dictionary was of no help, but wikipedia seems to  
>> endorse Mac OS X and Windows use of "janv":
>>
>> <http://fr.wikipedia.org/wiki/Mois#Abr.C3.A9viations>
>>
>>> On Linux I get
>>>
>>>> format(Sys.Date(), "%d-%b-%y")
>>> [1] "31-jan-08"
>>>> format(Sys.Date()-50, "%d-%b-%y")
>>> [1] "12-d?c-07"
>>>
>>> and on Windows
>>>
>>>> format(Sys.Date(), "%d-%b-%y")
>>> [1] "31-janv.-08"
>>>
>>>> format(Sys.Date()-50, "%d-%b-%y")
>>> [1] "12-d?c.-07"
>>
>> I tried this too:
>> > format(Sys.Date(), "%d-%b-%y")
>> [1] "31-jan-08"
>> > format(Sys.Date()-50, "%d-%b-%y")
>> [1] "12-d?c-07"
>>
>> I am lost here: since the OS uses "janv", why did the above give  
>> "jan"???
>>
>>>
>>>
>>> And yes, chron is US-centric and so only allows English names.
>>>
>>> Assuming you know exactly what is meant by 'French short format',  
>>> I think the simplest thing to do is to set up a table by
>>>
>>> tr <- month.abb
>>> names(tr)[1] <- c("janv")  # complete it
>>>
>>> x <- "9-janv-08"
>>> x2 <- strsplit(x, "-")
>>> x3 <- sapply(x2, function(x) {x[2] <- tr[x[2]]; paste(x,  
>>> collapse="-")})
>>> as.Date(x3, format = "%d-%b-%y")
>>
>> Thank you Prof Ripley, although I'll have to do my homework to  
>> fully understand what is happening with the function you wrote.
>>
>> But I wonder why I cannot make this a Date object:
>>
>> > x <- "9-janv-08"
>> > x2 <- strsplit(x, "-")
>> > x3 <- sapply(x2, function(x) {x[2] <- tr[x[2]]; paste(x,  
>> collapse="-")})
>> > as.Date(x3, format = "%d-%b-%y")
>> [1] "2008-01-09"
>> > class(x3)
>> [1] "character"
>> > x4 <- as.Date(x3, format = "%d-%b-%y")
>>
>> *** caught bus error ***
>> address 0x8, cause 'non-existent physical address'
>>
>> Traceback:
>> 1: strptime(x, format)
>> 2: as.Date.character(x3, format = "%d-%b-%y")
>> 3: as.Date(x3, format = "%d-%b-%y")
>>
>> Possible actions:
>> 1: abort (with core dump, if enabled)
>> 2: normal R exit
>> 3: exit R without saving workspace
>> 4: exit R saving workspace
>>
>> The problem may be my system as I get this error when trying  
>> Gabor's suggestions (below).
>>
>> Le 31 janv. 08 ? 00:21, Gabor Grothendieck a ?crit :
>>> Suppose we have:
>>>
>>> dd <- c("7-d?c-07", "11-d?c-07", "14-d?c-07", "18-d?c-07", "21- 
>>> d?c-07",
>>> "24-d?c-07", "26-d?c-07", "28-d?c-07", "31-d?c-07", "2-janv-08",
>>> "4-janv-08", "7-janv-08", "9-janv-08", "11-janv-08", "14-janv-08",
>>> "16-janv-08", "18-janv-08")
>>>
>>> Try this (where we are assuming the just released chron 2.3-17):
>>>
>>> library(chron)
>>> Sys.setlocale("LC_ALL", "French")
>>> as.chron(as.Date(dd, "%d-%b-%y"))
>>>
>>> # or with chron 2.3-16 last line is replaced with:
>>> chron(unclass(as.Date(dd, "%d-%b-%y")))
>>>
>>
>> > library(chron)
>> > dd <- c("7-d?c-07", "11-d?c-07", "14-d?c-07", "18-d?c-07", "21- 
>> d?c-07",
>> + "24-d?c-07", "26-d?c-07", "28-d?c-07", "31-d?c-07", "2-janv-08",
>> + "4-janv-08", "7-janv-08", "9-janv-08", "11-janv-08", "14-janv-08",
>> + "16-janv-08", "18-janv-08")
>> > Sys.setlocale("LC_ALL", "French")
>> [1] ""
>> Warning message:
>> In Sys.setlocale("LC_ALL", "French") :
>> la requ?te OS pour sp?cifier la localisation ? "French" n'a pas pu  
>> ?tre honor?e
>> > chron(unclass(as.Date(dd, "%d-%b-%y")))
>>
>> *** caught bus error ***
>> address 0x8, cause 'non-existent physical address'
>>
>> Traceback:
>> 1: strptime(x, format)
>> 2: as.Date.character(dd, "%d-%b-%y")
>> 3: as.Date(dd, "%d-%b-%y")
>> 4: inherits(dates., "dates")
>> 5: chron(unclass(as.Date(dd, "%d-%b-%y")))
>>
>> Possible actions:
>> 1: abort (with core dump, if enabled)
>> 2: normal R exit
>> 3: exit R without saving workspace
>> 4: exit R saving workspace
>>
>>> If those don't work (the above didn't work on my Vista system but  
>>> this
>>> is system dependent and
>>> might work on yours)  then try this alternative
>>>
>>>> library(chron)
>>>> library(gsubfn)
>>>> Sys.setlocale('LC_ALL','French')
>>> [1] "LC_COLLATE=French_France.1252;LC_CTYPE=French_France. 
>>> 1252;LC_MONETARY=French_France. 
>>> 1252;LC_NUMERIC=C;LC_TIME=French_France.1252"
>>>> french.months <- format(seq(as.Date("2000-01-01"), length = 12,  
>>>> by = "month"), "%b")
>>>> f <- function (d, m, y) chron(paste(pmatch(m, french.months), d,  
>>>> y, sep = "/"))
>>>> strapply(dd, "(.*)-(.*)-(.*)", f, backref = -3, simplify = c)
>>> [1] 12/07/07 12/11/07 12/14/07 12/18/07 12/21/07 12/24/07 12/26/07  
>>> 12/28/07
>>> [9] 12/31/07 01/02/08 01/04/08 01/07/08 01/09/08 01/11/08 01/14/08  
>>> 01/16/08
>>> [17] 01/18/08
>>
>> Again, this Sys.setlocale call does not work for me and the use of  
>> as.Date crashes my copy of R:
>>
>> > library(chron)
>> > library(gsubfn)
>> Le chargement a n?cessit? le package : proto
>> > french.months <- format(seq(as.Date("2000-01-01"), length = 12,  
>> by = "month"), "%b")
>>
>> *** caught bus error ***
>> address 0x8, cause 'non-existent physical address'
>>
>> Traceback:
>> 1: strptime(x, f)
>> 2: fromchar(x)
>> 3: as.Date.character("2000-01-01")
>> 4: as.Date("2000-01-01")
>> 5: seq(as.Date("2000-01-01"), length = 12, by = "month")
>> 6: format(seq(as.Date("2000-01-01"), length = 12, by =  
>> "month"),     "%b")
>>
>> Possible actions:
>> 1: abort (with core dump, if enabled)
>> 2: normal R exit
>> 3: exit R without saving workspace
>> 4: exit R saving workspace
>>
>> However, if I replace that call by this, the rest of Gabor's  
>> solution works.
>>
>> > library(chron)
>> > library(gsubfn)
>> Le chargement a n?cessit? le package : proto
>> > french.months <- c("janv", "f?v", "mars", "avr", "mai", "juin",  
>> "juil", "ao?t", "sept", "oct", "nov", "d?c")
>> > dd <- c("7-d?c-07", "11-d?c-07", "14-d?c-07", "18-d?c-07", "21- 
>> d?c-07",
>> + "24-d?c-07", "26-d?c-07", "28-d?c-07", "31-d?c-07", "2-janv-08",
>> + "4-janv-08", "7-janv-08", "9-janv-08", "11-janv-08", "14-janv-08",
>> + "16-janv-08", "18-janv-08")
>> > f <- function (d, m, y) chron(paste(pmatch(m, french.months), d,  
>> y, sep = "/"))
>> > strapply(dd, "(.*)-(.*)-(.*)", f, backref = -3, simplify = c)
>> [1] 12/07/07 12/11/07 12/14/07 12/18/07 12/21/07 12/24/07 12/26/07  
>> 12/28/07
>> [9] 12/31/07 01/02/08 01/04/08 01/07/08 01/09/08 01/11/08 01/14/08  
>> 01/16/08
>> [17] 01/18/08
>>
>> So thanks again. I will try to reinstall R on my computer and see  
>> if I still get these errors.
>>
>>
>> Denis
>>
>>>
>>>
>>>
>>> On Jan 30, 2008 11:29 PM, Denis Chabot <chabotd at globetrotter.net>  
>>> wrote:
>>>> Hello R users,
>>>>
>>>> I have to import a file with one column containing dates written in
>>>> French short format, such as:
>>>>
>>>> 7-d?c-07
>>>> 11-d?c-07
>>>> 14-d?c-07
>>>> 18-d?c-07
>>>> 21-d?c-07
>>>> 24-d?c-07
>>>> 26-d?c-07
>>>> 28-d?c-07
>>>> 31-d?c-07
>>>> 2-janv-08
>>>> 4-janv-08
>>>> 7-janv-08
>>>> 9-janv-08
>>>> 11-janv-08
>>>> 14-janv-08
>>>> 16-janv-08
>>>> 18-janv-08
>>>>
>>>> There are other columns for other (numeric) variables in the data
>>>> file. In my read.csv2 statement, I indicate that the date column  
>>>> must
>>>> be imported "as.is" to keep it as character.
>>>>
>>>> I would like to transform this into a date object in R. So far I've
>>>> used chron for my dates and times needs, but I am willing to  
>>>> change if
>>>> another object/package will ease the task of importing these dates.
>>>>
>>>> My reading of the chron help led me to believe that the formats it
>>>> understands are only month names in English.
>>>>
>>>> Are there other "formats" I can use with chron, or must I somehow  
>>>> edit
>>>> this character variables to replace French month names by English  
>>>> ones
>>>> (or numbers from 1 to 12)?
>>>>
>>>> Thanks in advance,
>>>>
>>>> Denis
>>>> p.s. I read this in digest mode, so I'll get your replies faster if
>>>> you cc to my email
>>
>>
>>
>>
>>
>>
>>
>>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Thu Jan 31 19:43:21 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 31 Jan 2008 13:43:21 -0500
Subject: [R-SIG-Mac] vignettes
In-Reply-To: <4F1C2FDD-1314-4B77-B71C-0C3F76C188D7@globetrotter.net>
References: <E3348D8C-9059-4157-8BAA-FFFD4A3B0597@globetrotter.net>
	<FDBF8FEE-709C-465A-9D51-1349D1AE6ACE@r-project.org>
	<4F1C2FDD-1314-4B77-B71C-0C3F76C188D7@globetrotter.net>
Message-ID: <2C35C7CC-B3BA-4F9A-82A9-0B2FF9F7A1FD@r-project.org>

Denis,

On Jan 31, 2008, at 1:05 PM, Denis Chabot wrote:

> Well, my reason for believing vignettes were not installed with  
> packages was mostly that I often look at what is included with  
> packages and rarely sees a pdf there.
>

AFAIR they should be in package/doc. Vignettes are optional, so not  
all packages have them.


> And true enough, in the case of gsubfn, I did not see one. Like you,  
> if I do vignette() a list shows up and a vignette is indeed listed  
> for gsubfn. But if I do
>
> vignette("gsubfn")
> Warning message:
> vignette 'gsubfn' has no PDF
>

Strange - for me it opens the PDF right away. What R version are you  
using? (full sessionInfo, please)

Cheers,
Simon


>
> Le 31 janv. 08 ? 12:44, Simon Urbanek a ?crit :
>
>> Denis,
>>
>> On Jan 31, 2008, at 12:34 PM, Denis Chabot wrote:
>>
>>> I find it very useful to read vignettes when they exist, but somehow
>>> they do not get installed when I install binaries through R app. For
>>> instance, today I installed gsubfn and talked with its author,  
>>> Gabor.
>>> He told me to consult the vignette, which I did not know existed.
>>> Gabor told me that on Windows, any vignette existing for a package
>>> gets downloaded when you install the package. Would it be possible  
>>> for
>>> R app to do the same? I think it would be very useful.
>>>
>>
>> vignettes are installed along with packages (if they exist) as they  
>> are part of the package. I'm not sure where you are missing the  
>> vignette, but I get:
>>
>> > vignettes()
>> [...]
>> Vignettes in package ?gsubfn?:
>>
>> gsubfn                  gsubfn: Utilities for Strings and for  
>> Function
>>                       Arguments. (source, pdf)
>> [...]
>>
>> (and it is also available via Help->Vignettes)
>>
>> Cheers,
>> Simon
>>
>>
>
>


From chabotd at globetrotter.net  Thu Jan 31 22:25:57 2008
From: chabotd at globetrotter.net (Denis Chabot)
Date: Thu, 31 Jan 2008 16:25:57 -0500
Subject: [R-SIG-Mac] [R] dates in French format
In-Reply-To: <0B5E545B-573A-41CE-9EB0-216A3831A537@globetrotter.net>
References: <mailman.22.1201690804.26785.r-help@r-project.org>
	<9A3B3CCC-DD22-49C2-8C21-37EF4BDF6B31@globetrotter.net>
	<alpine.LFD.1.00.0801310656440.22211@gannet.stats.ox.ac.uk>
	<0B5E545B-573A-41CE-9EB0-216A3831A537@globetrotter.net>
Message-ID: <A5B38170-742A-48E9-93EE-64F56A256C87@globetrotter.net>

Hi all,

The crashes I reported earlier were cause by R 2.6.1 for Mac not  
liking the OS date setting "french canada", an issue that has been  
solved (by Simon Urbanek). The crashes did not occur when the OS was  
set to use normal french formats for dates. With that setting, the  
suggestions by Prof Ripley and Gabor all worked nicely.

Now that my dates are a chron object, I do have a new problem. The  
formatting of the dates on the x axis leaves to be desired. Instead of  
having day month and year, or at the very least day and month, I only  
get month and year so that many tick labels are identical. I also get  
a warning which puzzles me.

For instance:
 > start <- chron("12/01/2007")
 > other.dates <- seq(1,60,2)
 > Date <- start + other.dates
 > plot(1:length(Date)~Date)

6 ticks appear on the x axis. The first three are labeled "12/07" and  
the other three are labeled "01/08". I also get this:

Warning messages:
1: In v[[perm[1]]] : correspondance partielle de 'm' en 'month'
2: In v[[perm[2]]] : correspondance partielle de 'y' en 'year'

so there is only partial correspondance between "m" and "month" and  
between "y" and "year". Yet "Date" here is a proper chron object, so I  
fail to see why "correspondance" is only partial.

If I do Date2 <- as.Date(Date) and use this as my x axis, the six  
labels are more usable (d?c 03, d?c 13, d?c 23, jan 02, jan 12, jan 22).

I suppose I can plot without x labels and draw my own, but I had not  
expected it would be necessary.

 > sessionInfo()
R version 2.6.1 (2007-11-26)
i386-apple-darwin8.10.1

locale:
fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] zoo_1.4-1    chron_2.3-16

loaded via a namespace (and not attached):
[1] grid_2.6.1     lattice_0.17-2 tools_2.6.1


Denis

Le 31 janv. 08 ? 09:46, Denis Chabot a ?crit :

> (I've put the R Mac list in cc because of the crashes I have  
> experienced trying some of the suggestions below)
>
> Hi Gabor and Prof Ripley,
>
> Le 31 janv. 08 ? 02:11, Prof Brian Ripley a ?crit :
>
>> The output from sessionInfo() the posting guide asked for would  
>> have been very helpful here.
>
> You are right, sorry about that:
>
>
> > library(chron)
> > sessionInfo()
> R version 2.6.1 (2007-11-26)
> i386-apple-darwin8.10.1
>
> locale:
> fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] chron_2.3-16
>
>
>>
>>
>> I think the problem is likely to be that these are not standard  
>> French
>> abbreviations according to my systems.
>
> I was ready to blame Excel for the use of non-standard  
> abbreviations, but I would have been wrong: it seems that "janv" is  
> a Mac OS X decision from what I can see in my system settings. I am  
> not sure what would be a bullet-proof authority on french  
> abbreviations. My dictionary was of no help, but wikipedia seems to  
> endorse Mac OS X and Windows use of "janv":
>
> <http://fr.wikipedia.org/wiki/Mois#Abr.C3.A9viations>
>
>> On Linux I get
>>
>>> format(Sys.Date(), "%d-%b-%y")
>> [1] "31-jan-08"
>>> format(Sys.Date()-50, "%d-%b-%y")
>> [1] "12-d?c-07"
>>
>> and on Windows
>>
>>> format(Sys.Date(), "%d-%b-%y")
>> [1] "31-janv.-08"
>>
>>> format(Sys.Date()-50, "%d-%b-%y")
>> [1] "12-d?c.-07"
>
> I tried this too:
> > format(Sys.Date(), "%d-%b-%y")
> [1] "31-jan-08"
> > format(Sys.Date()-50, "%d-%b-%y")
> [1] "12-d?c-07"
>
> I am lost here: since the OS uses "janv", why did the above give  
> "jan"???
>
>>
>>
>> And yes, chron is US-centric and so only allows English names.
>>
>> Assuming you know exactly what is meant by 'French short format', I  
>> think the simplest thing to do is to set up a table by
>>
>> tr <- month.abb
>> names(tr)[1] <- c("janv")  # complete it
>>
>> x <- "9-janv-08"
>> x2 <- strsplit(x, "-")
>> x3 <- sapply(x2, function(x) {x[2] <- tr[x[2]]; paste(x,  
>> collapse="-")})
>> as.Date(x3, format = "%d-%b-%y")
>
> Thank you Prof Ripley, although I'll have to do my homework to fully  
> understand what is happening with the function you wrote.
>
> But I wonder why I cannot make this a Date object:
>
> > x <- "9-janv-08"
> > x2 <- strsplit(x, "-")
> > x3 <- sapply(x2, function(x) {x[2] <- tr[x[2]]; paste(x,  
> collapse="-")})
> > as.Date(x3, format = "%d-%b-%y")
> [1] "2008-01-09"
> > class(x3)
> [1] "character"
> > x4 <- as.Date(x3, format = "%d-%b-%y")
>
> *** caught bus error ***
> address 0x8, cause 'non-existent physical address'
>
> Traceback:
> 1: strptime(x, format)
> 2: as.Date.character(x3, format = "%d-%b-%y")
> 3: as.Date(x3, format = "%d-%b-%y")
>
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
>
> The problem may be my system as I get this error when trying Gabor's  
> suggestions (below).
>
> Le 31 janv. 08 ? 00:21, Gabor Grothendieck a ?crit :
>> Suppose we have:
>>
>> dd <- c("7-d?c-07", "11-d?c-07", "14-d?c-07", "18-d?c-07", "21- 
>> d?c-07",
>> "24-d?c-07", "26-d?c-07", "28-d?c-07", "31-d?c-07", "2-janv-08",
>> "4-janv-08", "7-janv-08", "9-janv-08", "11-janv-08", "14-janv-08",
>> "16-janv-08", "18-janv-08")
>>
>> Try this (where we are assuming the just released chron 2.3-17):
>>
>> library(chron)
>> Sys.setlocale("LC_ALL", "French")
>> as.chron(as.Date(dd, "%d-%b-%y"))
>>
>> # or with chron 2.3-16 last line is replaced with:
>> chron(unclass(as.Date(dd, "%d-%b-%y")))
>>
>
> > library(chron)
> > dd <- c("7-d?c-07", "11-d?c-07", "14-d?c-07", "18-d?c-07", "21- 
> d?c-07",
> + "24-d?c-07", "26-d?c-07", "28-d?c-07", "31-d?c-07", "2-janv-08",
> + "4-janv-08", "7-janv-08", "9-janv-08", "11-janv-08", "14-janv-08",
> + "16-janv-08", "18-janv-08")
> > Sys.setlocale("LC_ALL", "French")
> [1] ""
> Warning message:
> In Sys.setlocale("LC_ALL", "French") :
>  la requ?te OS pour sp?cifier la localisation ? "French" n'a pas pu  
> ?tre honor?e
> > chron(unclass(as.Date(dd, "%d-%b-%y")))
>
> *** caught bus error ***
> address 0x8, cause 'non-existent physical address'
>
> Traceback:
> 1: strptime(x, format)
> 2: as.Date.character(dd, "%d-%b-%y")
> 3: as.Date(dd, "%d-%b-%y")
> 4: inherits(dates., "dates")
> 5: chron(unclass(as.Date(dd, "%d-%b-%y")))
>
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
>
>> If those don't work (the above didn't work on my Vista system but  
>> this
>> is system dependent and
>> might work on yours)  then try this alternative
>>
>>> library(chron)
>>> library(gsubfn)
>>> Sys.setlocale('LC_ALL','French')
>> [1] "LC_COLLATE=French_France.1252;LC_CTYPE=French_France. 
>> 1252;LC_MONETARY=French_France. 
>> 1252;LC_NUMERIC=C;LC_TIME=French_France.1252"
>>> french.months <- format(seq(as.Date("2000-01-01"), length = 12, by  
>>> = "month"), "%b")
>>> f <- function (d, m, y) chron(paste(pmatch(m, french.months), d,  
>>> y, sep = "/"))
>>> strapply(dd, "(.*)-(.*)-(.*)", f, backref = -3, simplify = c)
>> [1] 12/07/07 12/11/07 12/14/07 12/18/07 12/21/07 12/24/07 12/26/07  
>> 12/28/07
>> [9] 12/31/07 01/02/08 01/04/08 01/07/08 01/09/08 01/11/08 01/14/08  
>> 01/16/08
>> [17] 01/18/08
>
> Again, this Sys.setlocale call does not work for me and the use of  
> as.Date crashes my copy of R:
>
> > library(chron)
> > library(gsubfn)
> Le chargement a n?cessit? le package : proto
> > french.months <- format(seq(as.Date("2000-01-01"), length = 12, by  
> = "month"), "%b")
>
> *** caught bus error ***
> address 0x8, cause 'non-existent physical address'
>
> Traceback:
> 1: strptime(x, f)
> 2: fromchar(x)
> 3: as.Date.character("2000-01-01")
> 4: as.Date("2000-01-01")
> 5: seq(as.Date("2000-01-01"), length = 12, by = "month")
> 6: format(seq(as.Date("2000-01-01"), length = 12, by = "month"),      
> "%b")
>
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
>
> However, if I replace that call by this, the rest of Gabor's  
> solution works.
>
> > library(chron)
> > library(gsubfn)
> Le chargement a n?cessit? le package : proto
> > french.months <- c("janv", "f?v", "mars", "avr", "mai", "juin",  
> "juil", "ao?t", "sept", "oct", "nov", "d?c")
> > dd <- c("7-d?c-07", "11-d?c-07", "14-d?c-07", "18-d?c-07", "21- 
> d?c-07",
> + "24-d?c-07", "26-d?c-07", "28-d?c-07", "31-d?c-07", "2-janv-08",
> + "4-janv-08", "7-janv-08", "9-janv-08", "11-janv-08", "14-janv-08",
> + "16-janv-08", "18-janv-08")
> > f <- function (d, m, y) chron(paste(pmatch(m, french.months), d,  
> y, sep = "/"))
> > strapply(dd, "(.*)-(.*)-(.*)", f, backref = -3, simplify = c)
> [1] 12/07/07 12/11/07 12/14/07 12/18/07 12/21/07 12/24/07 12/26/07  
> 12/28/07
> [9] 12/31/07 01/02/08 01/04/08 01/07/08 01/09/08 01/11/08 01/14/08  
> 01/16/08
> [17] 01/18/08
>
> So thanks again. I will try to reinstall R on my computer and see if  
> I still get these errors.
>
>
> Denis
>
>>
>>
>>
>> On Jan 30, 2008 11:29 PM, Denis Chabot <chabotd at globetrotter.net>  
>> wrote:
>>> Hello R users,
>>>
>>> I have to import a file with one column containing dates written in
>>> French short format, such as:
>>>
>>>  7-d?c-07
>>> 11-d?c-07
>>> 14-d?c-07
>>> 18-d?c-07
>>> 21-d?c-07
>>> 24-d?c-07
>>> 26-d?c-07
>>> 28-d?c-07
>>> 31-d?c-07
>>> 2-janv-08
>>> 4-janv-08
>>> 7-janv-08
>>> 9-janv-08
>>> 11-janv-08
>>> 14-janv-08
>>> 16-janv-08
>>> 18-janv-08
>>>
>>> There are other columns for other (numeric) variables in the data
>>> file. In my read.csv2 statement, I indicate that the date column  
>>> must
>>> be imported "as.is" to keep it as character.
>>>
>>> I would like to transform this into a date object in R. So far I've
>>> used chron for my dates and times needs, but I am willing to  
>>> change if
>>> another object/package will ease the task of importing these dates.
>>>
>>> My reading of the chron help led me to believe that the formats it
>>> understands are only month names in English.
>>>
>>> Are there other "formats" I can use with chron, or must I somehow  
>>> edit
>>> this character variables to replace French month names by English  
>>> ones
>>> (or numbers from 1 to 12)?
>>>
>>> Thanks in advance,
>>>
>>> Denis
>>> p.s. I read this in digest mode, so I'll get your replies faster if
>>> you cc to my email
>
>
>
>
>
>
>
>
>


