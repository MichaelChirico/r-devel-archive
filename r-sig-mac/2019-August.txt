From t|m@d|ck|n@on @end|ng |rom utoronto@c@  Tue Aug 13 00:07:31 2019
From: t|m@d|ck|n@on @end|ng |rom utoronto@c@ (Timothy Dickinson)
Date: Mon, 12 Aug 2019 22:07:31 +0000
Subject: [R-SIG-Mac] how do I clear this error message?
Message-ID: <1c9ef3f2-30b2-cb5a-ee1a-19895afe1132@utoronto.ca>

I seem to be getting this message consistently after updating the OS to 
10.14.6 (18G87), when I try to change my working directory. I have 
re-installed XQuartz and updated R to 3.6.1 and I'm still getting the 
message when I try to switch directories, rebooting various times along 
the way.

Any help greatly appreciated.

---tad.

objc[732]: Class FIFinderSyncExtensionHost is implemented in both /System/Library/PrivateFrameworks/FinderKit.framework/Versions/A/FinderKit (0x7fff94d353d8) and /System/Library/PrivateFrameworks/FileProvider.framework/OverrideBundles/FinderSyncCollaborationFileProviderOverride.bundle/Contents/MacOS/FinderSyncCollaborationFileProviderOverride (0x11165ff50). One of the two will be used. Which one is undefined.
> 


From @|mon@urb@nek @end|ng |rom R-project@org  Tue Aug 13 05:07:58 2019
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Mon, 12 Aug 2019 23:07:58 -0400
Subject: [R-SIG-Mac] how do I clear this error message?
In-Reply-To: <1c9ef3f2-30b2-cb5a-ee1a-19895afe1132@utoronto.ca>
References: <1c9ef3f2-30b2-cb5a-ee1a-19895afe1132@utoronto.ca>
Message-ID: <149F338A-0907-4374-947E-3CC5A03C069E@R-project.org>

See R for Mac FAQ 10.4:
https://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#I-see-spurious-error-messages-when-starting-R_0021 <https://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#I-see-spurious-error-messages-when-starting-R_0021>

This seems to be a known Apple issue since High Sierra
https://github.com/jarvisteach/appJar/issues/285 <https://github.com/jarvisteach/appJar/issues/285>
and it doesn?t seem like there is a fix from Apple available so far. You can safely ignore, but if it troubles you, you can disable stderr as noted in the above FAQ (at the cost of not seeing any messages at all).

Cheers,
Simon



> On Aug 12, 2019, at 6:07 PM, Timothy Dickinson <tim.dickinson at utoronto.ca> wrote:
> 
> I seem to be getting this message consistently after updating the OS to 
> 10.14.6 (18G87), when I try to change my working directory. I have 
> re-installed XQuartz and updated R to 3.6.1 and I'm still getting the 
> message when I try to switch directories, rebooting various times along 
> the way.
> 
> Any help greatly appreciated.
> 
> ---tad.
> 
> objc[732]: Class FIFinderSyncExtensionHost is implemented in both /System/Library/PrivateFrameworks/FinderKit.framework/Versions/A/FinderKit (0x7fff94d353d8) and /System/Library/PrivateFrameworks/FileProvider.framework/OverrideBundles/FinderSyncCollaborationFileProviderOverride.bundle/Contents/MacOS/FinderSyncCollaborationFileProviderOverride (0x11165ff50). One of the two will be used. Which one is undefined.
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


	[[alternative HTML version deleted]]


From gor@n@bro@trom @end|ng |rom umu@@e  Sun Aug 18 13:34:16 2019
From: gor@n@bro@trom @end|ng |rom umu@@e (=?UTF-8?Q?G=c3=b6ran_Brostr=c3=b6m?=)
Date: Sun, 18 Aug 2019 13:34:16 +0200
Subject: [R-SIG-Mac] Building R-devel from source
Message-ID: <b4ef0c77-ee93-1a19-cc5a-92976f809384@umu.se>

Hello,

I'm (for the first time) trying to build R-devel from source (to be able 
to check my CRAN packages on a Mac), but it breaks already after

gobr0002 at MBP-2:~/R/src/R-devel$ ./configure

with

checking size of size_t... configure: error: in `/Users/gb/R/src/R-devel':
configure: error: cannot compute sizeof (size_t)
See `config.log' for more details

Some 'details' regarding size_t:

configure:23748: checking for size_t
configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
configure:23748: $? = 0
configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
conftest.c: In function 'main':
conftest.c:116:21: error: expected expression before ')' token
  if (sizeof ((size_t)))
                      ^

My MacBook Pro is old (2010), so I am stuck with MacOS 10.13.6, XCode 
10.1. I'm using clang 7.0.0 and fortran 6.1.0.

Do I need to buy a new Mac?

Thanks, G?ran


From pd@|gd @end|ng |rom gm@||@com  Sun Aug 18 17:56:08 2019
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Sun, 18 Aug 2019 17:56:08 +0200
Subject: [R-SIG-Mac] Building R-devel from source
In-Reply-To: <b4ef0c77-ee93-1a19-cc5a-92976f809384@umu.se>
References: <b4ef0c77-ee93-1a19-cc5a-92976f809384@umu.se>
Message-ID: <96017F5D-FCCE-4C88-B8B4-31B5E353B9C2@gmail.com>

I can't claim to understand this, but on my system of same age, using system clang, configure does complete. It does get that error on line 23748, but that, and several similar subsequent tests just end up returning "yes". 

configure:23748: checking for size_t
configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include conftest.c >&5
configure:23748: $? = 0
configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include conftest.c >&5
conftest.c:118:21: error: expected expression
if (sizeof ((size_t)))
                    ^
1 error generated.
[..snip..]
configure:23748: result: yes

(as usual, configure code is nigh on unreadable, but I think the logic is that the size_t type exists if you can do "sizeof (size_t)", but not "sizeof ((size_t))", so the error is expected.) 

The line that trips you up comes later:

configure:24611: checking size of size_t
configure:24616: gcc -arch x86_64 -o conftest -g -O2 -I/usr/local/include -L/usr/
local/lib conftest.c -ldl -lm  >&5
configure:24616: $? = 0
configure:24616: ./conftest
configure:24616: $? = 0
configure:24630: result: 8

so that is where you should look for clues (or at least tell us what it says there).

-pd

> On 18 Aug 2019, at 13:34 , G?ran Brostr?m <goran.brostrom at umu.se> wrote:
> 
> Hello,
> 
> I'm (for the first time) trying to build R-devel from source (to be able to check my CRAN packages on a Mac), but it breaks already after
> 
> gobr0002 at MBP-2:~/R/src/R-devel$ ./configure
> 
> with
> 
> checking size of size_t... configure: error: in `/Users/gb/R/src/R-devel':
> configure: error: cannot compute sizeof (size_t)
> See `config.log' for more details
> 
> Some 'details' regarding size_t:
> 
> configure:23748: checking for size_t
> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
> configure:23748: $? = 0
> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
> conftest.c: In function 'main':
> conftest.c:116:21: error: expected expression before ')' token
> if (sizeof ((size_t)))
>                     ^
> 
> My MacBook Pro is old (2010), so I am stuck with MacOS 10.13.6, XCode 10.1. I'm using clang 7.0.0 and fortran 6.1.0.
> 
> Do I need to buy a new Mac?
> 
> Thanks, G?ran
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From gor@n@bro@trom @end|ng |rom umu@@e  Sun Aug 18 18:54:13 2019
From: gor@n@bro@trom @end|ng |rom umu@@e (=?UTF-8?Q?G=c3=b6ran_Brostr=c3=b6m?=)
Date: Sun, 18 Aug 2019 18:54:13 +0200
Subject: [R-SIG-Mac] Building R-devel from source
In-Reply-To: <96017F5D-FCCE-4C88-B8B4-31B5E353B9C2@gmail.com>
References: <b4ef0c77-ee93-1a19-cc5a-92976f809384@umu.se>
 <96017F5D-FCCE-4C88-B8B4-31B5E353B9C2@gmail.com>
Message-ID: <6321b7b0-f4b0-16a7-bdef-4355e56b2099@umu.se>

Thanks Peter,

The tripping lines are here

configure:24611: checking size of size_t
configure:24616: gcc -o conftest -g -O2 -I/usr/local/include 
-L/usr/local/lib conftest.c -ldl -lm  >\
&5
configure:24616: $? = 0
configure:24616: ./conftest
dyld: Library not loaded: /usr/local/lib/libgcc_s.1.dylib
   Referenced from: /Users/gb/R/src/R-devel/./conftest
   Reason: image not found

so it seems as if my installation of tools is lacking an essential part 
(/usr/local/lib/libgcc_s.1.dylib). I'll look around, but any suggestion 
is welcome!

G?ran

Den 2019-08-18 kl. 17:56, skrev peter dalgaard:
> I can't claim to understand this, but on my system of same age, using system clang, configure does complete. It does get that error on line 23748, but that, and several similar subsequent tests just end up returning "yes".
> 
> configure:23748: checking for size_t
> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include conftest.c >&5
> configure:23748: $? = 0
> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include conftest.c >&5
> conftest.c:118:21: error: expected expression
> if (sizeof ((size_t)))
>                      ^
> 1 error generated.
> [..snip..]
> configure:23748: result: yes
> 
> (as usual, configure code is nigh on unreadable, but I think the logic is that the size_t type exists if you can do "sizeof (size_t)", but not "sizeof ((size_t))", so the error is expected.)
> 
> The line that trips you up comes later:
> 
> configure:24611: checking size of size_t
> configure:24616: gcc -arch x86_64 -o conftest -g -O2 -I/usr/local/include -L/usr/
> local/lib conftest.c -ldl -lm  >&5
> configure:24616: $? = 0
> configure:24616: ./conftest
> configure:24616: $? = 0
> configure:24630: result: 8
> 
> so that is where you should look for clues (or at least tell us what it says there).
> 
> -pd
> 
>> On 18 Aug 2019, at 13:34 , G?ran Brostr?m <goran.brostrom at umu.se> wrote:
>>
>> Hello,
>>
>> I'm (for the first time) trying to build R-devel from source (to be able to check my CRAN packages on a Mac), but it breaks already after
>>
>> gobr0002 at MBP-2:~/R/src/R-devel$ ./configure
>>
>> with
>>
>> checking size of size_t... configure: error: in `/Users/gb/R/src/R-devel':
>> configure: error: cannot compute sizeof (size_t)
>> See `config.log' for more details
>>
>> Some 'details' regarding size_t:
>>
>> configure:23748: checking for size_t
>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>> configure:23748: $? = 0
>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>> conftest.c: In function 'main':
>> conftest.c:116:21: error: expected expression before ')' token
>> if (sizeof ((size_t)))
>>                      ^
>>
>> My MacBook Pro is old (2010), so I am stuck with MacOS 10.13.6, XCode 10.1. I'm using clang 7.0.0 and fortran 6.1.0.
>>
>> Do I need to buy a new Mac?
>>
>> Thanks, G?ran
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From gor@n@bro@trom @end|ng |rom umu@@e  Sun Aug 18 21:35:47 2019
From: gor@n@bro@trom @end|ng |rom umu@@e (=?UTF-8?Q?G=c3=b6ran_Brostr=c3=b6m?=)
Date: Sun, 18 Aug 2019 21:35:47 +0200
Subject: [R-SIG-Mac] Building R-devel from source
In-Reply-To: <6321b7b0-f4b0-16a7-bdef-4355e56b2099@umu.se>
References: <b4ef0c77-ee93-1a19-cc5a-92976f809384@umu.se>
 <96017F5D-FCCE-4C88-B8B4-31B5E353B9C2@gmail.com>
 <6321b7b0-f4b0-16a7-bdef-4355e56b2099@umu.se>
Message-ID: <e2959caf-f929-553f-7dce-56a2ffbb1bad@umu.se>

Update: There is a libgcc_s.1.dylib in /usr/lib, as a symlink to 
/usr/lib/libSystem.B.dylib. Is that one useful?

G?ran

Den 2019-08-18 kl. 18:54, skrev G?ran Brostr?m:
> Thanks Peter,
> 
> The tripping lines are here
> 
> configure:24611: checking size of size_t
> configure:24616: gcc -o conftest -g -O2 -I/usr/local/include 
> -L/usr/local/lib conftest.c -ldl -lm? >\
> &5
> configure:24616: $? = 0
> configure:24616: ./conftest
> dyld: Library not loaded: /usr/local/lib/libgcc_s.1.dylib
>  ? Referenced from: /Users/gb/R/src/R-devel/./conftest
>  ? Reason: image not found
> 
> so it seems as if my installation of tools is lacking an essential part 
> (/usr/local/lib/libgcc_s.1.dylib). I'll look around, but any suggestion 
> is welcome!
> 
> G?ran
> 
> Den 2019-08-18 kl. 17:56, skrev peter dalgaard:
>> I can't claim to understand this, but on my system of same age, using 
>> system clang, configure does complete. It does get that error on line 
>> 23748, but that, and several similar subsequent tests just end up 
>> returning "yes".
>>
>> configure:23748: checking for size_t
>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include 
>> conftest.c >&5
>> configure:23748: $? = 0
>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include 
>> conftest.c >&5
>> conftest.c:118:21: error: expected expression
>> if (sizeof ((size_t)))
>> ???????????????????? ^
>> 1 error generated.
>> [..snip..]
>> configure:23748: result: yes
>>
>> (as usual, configure code is nigh on unreadable, but I think the logic 
>> is that the size_t type exists if you can do "sizeof (size_t)", but 
>> not "sizeof ((size_t))", so the error is expected.)
>>
>> The line that trips you up comes later:
>>
>> configure:24611: checking size of size_t
>> configure:24616: gcc -arch x86_64 -o conftest -g -O2 
>> -I/usr/local/include -L/usr/
>> local/lib conftest.c -ldl -lm? >&5
>> configure:24616: $? = 0
>> configure:24616: ./conftest
>> configure:24616: $? = 0
>> configure:24630: result: 8
>>
>> so that is where you should look for clues (or at least tell us what 
>> it says there).
>>
>> -pd
>>
>>> On 18 Aug 2019, at 13:34 , G?ran Brostr?m <goran.brostrom at umu.se> wrote:
>>>
>>> Hello,
>>>
>>> I'm (for the first time) trying to build R-devel from source (to be 
>>> able to check my CRAN packages on a Mac), but it breaks already after
>>>
>>> gobr0002 at MBP-2:~/R/src/R-devel$ ./configure
>>>
>>> with
>>>
>>> checking size of size_t... configure: error: in 
>>> `/Users/gb/R/src/R-devel':
>>> configure: error: cannot compute sizeof (size_t)
>>> See `config.log' for more details
>>>
>>> Some 'details' regarding size_t:
>>>
>>> configure:23748: checking for size_t
>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>> configure:23748: $? = 0
>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>> conftest.c: In function 'main':
>>> conftest.c:116:21: error: expected expression before ')' token
>>> if (sizeof ((size_t)))
>>> ???????????????????? ^
>>>
>>> My MacBook Pro is old (2010), so I am stuck with MacOS 10.13.6, XCode 
>>> 10.1. I'm using clang 7.0.0 and fortran 6.1.0.
>>>
>>> Do I need to buy a new Mac?
>>>
>>> Thanks, G?ran
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From pd@|gd @end|ng |rom gm@||@com  Sun Aug 18 22:16:36 2019
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Sun, 18 Aug 2019 22:16:36 +0200
Subject: [R-SIG-Mac] Building R-devel from source
In-Reply-To: <e2959caf-f929-553f-7dce-56a2ffbb1bad@umu.se>
References: <b4ef0c77-ee93-1a19-cc5a-92976f809384@umu.se>
 <96017F5D-FCCE-4C88-B8B4-31B5E353B9C2@gmail.com>
 <6321b7b0-f4b0-16a7-bdef-4355e56b2099@umu.se>
 <e2959caf-f929-553f-7dce-56a2ffbb1bad@umu.se>
Message-ID: <6D5B625C-5F53-43D4-921D-108CC1D5E36C@gmail.com>

/usr/local/clang7 is likely a better place to look. Check out Appendix C.3 of the R Inst.&Adm. manual:

https://cran.r-project.org/doc/manuals/r-release/R-admin.html#macOS

-pd

> On 18 Aug 2019, at 21:35 , G?ran Brostr?m <goran.brostrom at umu.se> wrote:
> 
> Update: There is a libgcc_s.1.dylib in /usr/lib, as a symlink to /usr/lib/libSystem.B.dylib. Is that one useful?
> 
> G?ran
> 
> Den 2019-08-18 kl. 18:54, skrev G?ran Brostr?m:
>> Thanks Peter,
>> The tripping lines are here
>> configure:24611: checking size of size_t
>> configure:24616: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ldl -lm  >\
>> &5
>> configure:24616: $? = 0
>> configure:24616: ./conftest
>> dyld: Library not loaded: /usr/local/lib/libgcc_s.1.dylib
>>   Referenced from: /Users/gb/R/src/R-devel/./conftest
>>   Reason: image not found
>> so it seems as if my installation of tools is lacking an essential part (/usr/local/lib/libgcc_s.1.dylib). I'll look around, but any suggestion is welcome!
>> G?ran
>> Den 2019-08-18 kl. 17:56, skrev peter dalgaard:
>>> I can't claim to understand this, but on my system of same age, using system clang, configure does complete. It does get that error on line 23748, but that, and several similar subsequent tests just end up returning "yes".
>>> 
>>> configure:23748: checking for size_t
>>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include conftest.c >&5
>>> configure:23748: $? = 0
>>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include conftest.c >&5
>>> conftest.c:118:21: error: expected expression
>>> if (sizeof ((size_t)))
>>>                      ^
>>> 1 error generated.
>>> [..snip..]
>>> configure:23748: result: yes
>>> 
>>> (as usual, configure code is nigh on unreadable, but I think the logic is that the size_t type exists if you can do "sizeof (size_t)", but not "sizeof ((size_t))", so the error is expected.)
>>> 
>>> The line that trips you up comes later:
>>> 
>>> configure:24611: checking size of size_t
>>> configure:24616: gcc -arch x86_64 -o conftest -g -O2 -I/usr/local/include -L/usr/
>>> local/lib conftest.c -ldl -lm  >&5
>>> configure:24616: $? = 0
>>> configure:24616: ./conftest
>>> configure:24616: $? = 0
>>> configure:24630: result: 8
>>> 
>>> so that is where you should look for clues (or at least tell us what it says there).
>>> 
>>> -pd
>>> 
>>>> On 18 Aug 2019, at 13:34 , G?ran Brostr?m <goran.brostrom at umu.se> wrote:
>>>> 
>>>> Hello,
>>>> 
>>>> I'm (for the first time) trying to build R-devel from source (to be able to check my CRAN packages on a Mac), but it breaks already after
>>>> 
>>>> gobr0002 at MBP-2:~/R/src/R-devel$ ./configure
>>>> 
>>>> with
>>>> 
>>>> checking size of size_t... configure: error: in `/Users/gb/R/src/R-devel':
>>>> configure: error: cannot compute sizeof (size_t)
>>>> See `config.log' for more details
>>>> 
>>>> Some 'details' regarding size_t:
>>>> 
>>>> configure:23748: checking for size_t
>>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>>> configure:23748: $? = 0
>>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>>> conftest.c: In function 'main':
>>>> conftest.c:116:21: error: expected expression before ')' token
>>>> if (sizeof ((size_t)))
>>>>                      ^
>>>> 
>>>> My MacBook Pro is old (2010), so I am stuck with MacOS 10.13.6, XCode 10.1. I'm using clang 7.0.0 and fortran 6.1.0.
>>>> 
>>>> Do I need to buy a new Mac?
>>>> 
>>>> Thanks, G?ran
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From gor@n@bro@trom @end|ng |rom umu@@e  Mon Aug 19 00:06:08 2019
From: gor@n@bro@trom @end|ng |rom umu@@e (=?UTF-8?Q?G=c3=b6ran_Brostr=c3=b6m?=)
Date: Mon, 19 Aug 2019 00:06:08 +0200
Subject: [R-SIG-Mac] Building R-devel from source
In-Reply-To: <6D5B625C-5F53-43D4-921D-108CC1D5E36C@gmail.com>
References: <b4ef0c77-ee93-1a19-cc5a-92976f809384@umu.se>
 <96017F5D-FCCE-4C88-B8B4-31B5E353B9C2@gmail.com>
 <6321b7b0-f4b0-16a7-bdef-4355e56b2099@umu.se>
 <e2959caf-f929-553f-7dce-56a2ffbb1bad@umu.se>
 <6D5B625C-5F53-43D4-921D-108CC1D5E36C@gmail.com>
Message-ID: <6d265539-9f7b-bc6d-a33c-3c86f7228e4b@umu.se>

Den 2019-08-18 kl. 22:16, skrev peter dalgaard:
> /usr/local/clang7 is likely a better place to look. Check out Appendix C.3 of the R Inst.&Adm. manual:
> 
> https://cran.r-project.org/doc/manuals/r-release/R-admin.html#macOS

That's better! After correcting some obvious(?) errors(?) in that page, 
./configure run without errors! (Had only read mac.r-procject.org/tools/ 
so far).

After a night's sleep I will 'make'. I'll report back to r-sig-mac.

Thanks, G?ran

> 
> -pd
> 
>> On 18 Aug 2019, at 21:35 , G?ran Brostr?m <goran.brostrom at umu.se> wrote:
>>
>> Update: There is a libgcc_s.1.dylib in /usr/lib, as a symlink to /usr/lib/libSystem.B.dylib. Is that one useful?
>>
>> G?ran
>>
>> Den 2019-08-18 kl. 18:54, skrev G?ran Brostr?m:
>>> Thanks Peter,
>>> The tripping lines are here
>>> configure:24611: checking size of size_t
>>> configure:24616: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ldl -lm  >\
>>> &5
>>> configure:24616: $? = 0
>>> configure:24616: ./conftest
>>> dyld: Library not loaded: /usr/local/lib/libgcc_s.1.dylib
>>>    Referenced from: /Users/gb/R/src/R-devel/./conftest
>>>    Reason: image not found
>>> so it seems as if my installation of tools is lacking an essential part (/usr/local/lib/libgcc_s.1.dylib). I'll look around, but any suggestion is welcome!
>>> G?ran
>>> Den 2019-08-18 kl. 17:56, skrev peter dalgaard:
>>>> I can't claim to understand this, but on my system of same age, using system clang, configure does complete. It does get that error on line 23748, but that, and several similar subsequent tests just end up returning "yes".
>>>>
>>>> configure:23748: checking for size_t
>>>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include conftest.c >&5
>>>> configure:23748: $? = 0
>>>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include conftest.c >&5
>>>> conftest.c:118:21: error: expected expression
>>>> if (sizeof ((size_t)))
>>>>                       ^
>>>> 1 error generated.
>>>> [..snip..]
>>>> configure:23748: result: yes
>>>>
>>>> (as usual, configure code is nigh on unreadable, but I think the logic is that the size_t type exists if you can do "sizeof (size_t)", but not "sizeof ((size_t))", so the error is expected.)
>>>>
>>>> The line that trips you up comes later:
>>>>
>>>> configure:24611: checking size of size_t
>>>> configure:24616: gcc -arch x86_64 -o conftest -g -O2 -I/usr/local/include -L/usr/
>>>> local/lib conftest.c -ldl -lm  >&5
>>>> configure:24616: $? = 0
>>>> configure:24616: ./conftest
>>>> configure:24616: $? = 0
>>>> configure:24630: result: 8
>>>>
>>>> so that is where you should look for clues (or at least tell us what it says there).
>>>>
>>>> -pd
>>>>
>>>>> On 18 Aug 2019, at 13:34 , G?ran Brostr?m <goran.brostrom at umu.se> wrote:
>>>>>
>>>>> Hello,
>>>>>
>>>>> I'm (for the first time) trying to build R-devel from source (to be able to check my CRAN packages on a Mac), but it breaks already after
>>>>>
>>>>> gobr0002 at MBP-2:~/R/src/R-devel$ ./configure
>>>>>
>>>>> with
>>>>>
>>>>> checking size of size_t... configure: error: in `/Users/gb/R/src/R-devel':
>>>>> configure: error: cannot compute sizeof (size_t)
>>>>> See `config.log' for more details
>>>>>
>>>>> Some 'details' regarding size_t:
>>>>>
>>>>> configure:23748: checking for size_t
>>>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>> configure:23748: $? = 0
>>>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>> conftest.c: In function 'main':
>>>>> conftest.c:116:21: error: expected expression before ')' token
>>>>> if (sizeof ((size_t)))
>>>>>                       ^
>>>>>
>>>>> My MacBook Pro is old (2010), so I am stuck with MacOS 10.13.6, XCode 10.1. I'm using clang 7.0.0 and fortran 6.1.0.
>>>>>
>>>>> Do I need to buy a new Mac?
>>>>>
>>>>> Thanks, G?ran
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Mon Aug 19 09:52:22 2019
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Mon, 19 Aug 2019 09:52:22 +0200
Subject: [R-SIG-Mac] Building R-devel from source
In-Reply-To: <6d265539-9f7b-bc6d-a33c-3c86f7228e4b@umu.se>
References: <b4ef0c77-ee93-1a19-cc5a-92976f809384@umu.se>
 <96017F5D-FCCE-4C88-B8B4-31B5E353B9C2@gmail.com>
 <6321b7b0-f4b0-16a7-bdef-4355e56b2099@umu.se>
 <e2959caf-f929-553f-7dce-56a2ffbb1bad@umu.se>
 <6D5B625C-5F53-43D4-921D-108CC1D5E36C@gmail.com>
 <6d265539-9f7b-bc6d-a33c-3c86f7228e4b@umu.se>
Message-ID: <94d7d876-49d6-2886-efb0-b54baad104f3@statistik.tu-dortmund.de>



On 19.08.2019 00:06, G?ran Brostr?m wrote:
> Den 2019-08-18 kl. 22:16, skrev peter dalgaard:
>> /usr/local/clang7 is likely a better place to look. Check out Appendix 
>> C.3 of the R Inst.&Adm. manual:
>>
>> https://cran.r-project.org/doc/manuals/r-release/R-admin.html#macOS
> 
> That's better! After correcting some obvious(?) errors(?) in that page, 
> ./configure run without errors! (Had only read mac.r-procject.org/tools/ 
> so far).

Can you report these "obvious(?) errors(?)" so they can be fixed?

Best,
Uwe


> After a night's sleep I will 'make'. I'll report back to r-sig-mac.
> 
> Thanks, G?ran
> 
>>
>> -pd
>>
>>> On 18 Aug 2019, at 21:35 , G?ran Brostr?m <goran.brostrom at umu.se> wrote:
>>>
>>> Update: There is a libgcc_s.1.dylib in /usr/lib, as a symlink to 
>>> /usr/lib/libSystem.B.dylib. Is that one useful?
>>>
>>> G?ran
>>>
>>> Den 2019-08-18 kl. 18:54, skrev G?ran Brostr?m:
>>>> Thanks Peter,
>>>> The tripping lines are here
>>>> configure:24611: checking size of size_t
>>>> configure:24616: gcc -o conftest -g -O2 -I/usr/local/include 
>>>> -L/usr/local/lib conftest.c -ldl -lm? >\
>>>> &5
>>>> configure:24616: $? = 0
>>>> configure:24616: ./conftest
>>>> dyld: Library not loaded: /usr/local/lib/libgcc_s.1.dylib
>>>> ?? Referenced from: /Users/gb/R/src/R-devel/./conftest
>>>> ?? Reason: image not found
>>>> so it seems as if my installation of tools is lacking an essential 
>>>> part (/usr/local/lib/libgcc_s.1.dylib). I'll look around, but any 
>>>> suggestion is welcome!
>>>> G?ran
>>>> Den 2019-08-18 kl. 17:56, skrev peter dalgaard:
>>>>> I can't claim to understand this, but on my system of same age, 
>>>>> using system clang, configure does complete. It does get that error 
>>>>> on line 23748, but that, and several similar subsequent tests just 
>>>>> end up returning "yes".
>>>>>
>>>>> configure:23748: checking for size_t
>>>>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include 
>>>>> conftest.c >&5
>>>>> configure:23748: $? = 0
>>>>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include 
>>>>> conftest.c >&5
>>>>> conftest.c:118:21: error: expected expression
>>>>> if (sizeof ((size_t)))
>>>>> ????????????????????? ^
>>>>> 1 error generated.
>>>>> [..snip..]
>>>>> configure:23748: result: yes
>>>>>
>>>>> (as usual, configure code is nigh on unreadable, but I think the 
>>>>> logic is that the size_t type exists if you can do "sizeof 
>>>>> (size_t)", but not "sizeof ((size_t))", so the error is expected.)
>>>>>
>>>>> The line that trips you up comes later:
>>>>>
>>>>> configure:24611: checking size of size_t
>>>>> configure:24616: gcc -arch x86_64 -o conftest -g -O2 
>>>>> -I/usr/local/include -L/usr/
>>>>> local/lib conftest.c -ldl -lm? >&5
>>>>> configure:24616: $? = 0
>>>>> configure:24616: ./conftest
>>>>> configure:24616: $? = 0
>>>>> configure:24630: result: 8
>>>>>
>>>>> so that is where you should look for clues (or at least tell us 
>>>>> what it says there).
>>>>>
>>>>> -pd
>>>>>
>>>>>> On 18 Aug 2019, at 13:34 , G?ran Brostr?m <goran.brostrom at umu.se> 
>>>>>> wrote:
>>>>>>
>>>>>> Hello,
>>>>>>
>>>>>> I'm (for the first time) trying to build R-devel from source (to 
>>>>>> be able to check my CRAN packages on a Mac), but it breaks already 
>>>>>> after
>>>>>>
>>>>>> gobr0002 at MBP-2:~/R/src/R-devel$ ./configure
>>>>>>
>>>>>> with
>>>>>>
>>>>>> checking size of size_t... configure: error: in 
>>>>>> `/Users/gb/R/src/R-devel':
>>>>>> configure: error: cannot compute sizeof (size_t)
>>>>>> See `config.log' for more details
>>>>>>
>>>>>> Some 'details' regarding size_t:
>>>>>>
>>>>>> configure:23748: checking for size_t
>>>>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>>> configure:23748: $? = 0
>>>>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>>> conftest.c: In function 'main':
>>>>>> conftest.c:116:21: error: expected expression before ')' token
>>>>>> if (sizeof ((size_t)))
>>>>>> ????????????????????? ^
>>>>>>
>>>>>> My MacBook Pro is old (2010), so I am stuck with MacOS 10.13.6, 
>>>>>> XCode 10.1. I'm using clang 7.0.0 and fortran 6.1.0.
>>>>>>
>>>>>> Do I need to buy a new Mac?
>>>>>>
>>>>>> Thanks, G?ran
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From gor@n@bro@trom @end|ng |rom umu@@e  Mon Aug 19 10:00:18 2019
From: gor@n@bro@trom @end|ng |rom umu@@e (=?UTF-8?Q?G=c3=b6ran_Brostr=c3=b6m?=)
Date: Mon, 19 Aug 2019 10:00:18 +0200
Subject: [R-SIG-Mac] Building R-devel from source
In-Reply-To: <94d7d876-49d6-2886-efb0-b54baad104f3@statistik.tu-dortmund.de>
References: <b4ef0c77-ee93-1a19-cc5a-92976f809384@umu.se>
 <96017F5D-FCCE-4C88-B8B4-31B5E353B9C2@gmail.com>
 <6321b7b0-f4b0-16a7-bdef-4355e56b2099@umu.se>
 <e2959caf-f929-553f-7dce-56a2ffbb1bad@umu.se>
 <6D5B625C-5F53-43D4-921D-108CC1D5E36C@gmail.com>
 <6d265539-9f7b-bc6d-a33c-3c86f7228e4b@umu.se>
 <94d7d876-49d6-2886-efb0-b54baad104f3@statistik.tu-dortmund.de>
Message-ID: <f920684a-2977-e6ff-68e0-8e88753437c9@umu.se>



Den 2019-08-19 kl. 09:52, skrev Uwe Ligges:
> 
> 
> On 19.08.2019 00:06, G?ran Brostr?m wrote:
>> Den 2019-08-18 kl. 22:16, skrev peter dalgaard:
>>> /usr/local/clang7 is likely a better place to look. Check out 
>>> Appendix C.3 of the R Inst.&Adm. manual:
>>>
>>> https://cran.r-project.org/doc/manuals/r-release/R-admin.html#macOS
>>
>> That's better! After correcting some obvious(?) errors(?) in that 
>> page, ./configure run without errors! (Had only read 
>> mac.r-procject.org/tools/ so far).
> 
> Can you report these "obvious(?) errors(?)" so they can be fixed?

As I promised, a report will come. Probably later today.

Best, G?ran

> 
> Best,
> Uwe
> 
> 
>> After a night's sleep I will 'make'. I'll report back to r-sig-mac.
>>
>> Thanks, G?ran
>>
>>>
>>> -pd
>>>
>>>> On 18 Aug 2019, at 21:35 , G?ran Brostr?m <goran.brostrom at umu.se> 
>>>> wrote:
>>>>
>>>> Update: There is a libgcc_s.1.dylib in /usr/lib, as a symlink to 
>>>> /usr/lib/libSystem.B.dylib. Is that one useful?
>>>>
>>>> G?ran
>>>>
>>>> Den 2019-08-18 kl. 18:54, skrev G?ran Brostr?m:
>>>>> Thanks Peter,
>>>>> The tripping lines are here
>>>>> configure:24611: checking size of size_t
>>>>> configure:24616: gcc -o conftest -g -O2 -I/usr/local/include 
>>>>> -L/usr/local/lib conftest.c -ldl -lm? >\
>>>>> &5
>>>>> configure:24616: $? = 0
>>>>> configure:24616: ./conftest
>>>>> dyld: Library not loaded: /usr/local/lib/libgcc_s.1.dylib
>>>>> ?? Referenced from: /Users/gb/R/src/R-devel/./conftest
>>>>> ?? Reason: image not found
>>>>> so it seems as if my installation of tools is lacking an essential 
>>>>> part (/usr/local/lib/libgcc_s.1.dylib). I'll look around, but any 
>>>>> suggestion is welcome!
>>>>> G?ran
>>>>> Den 2019-08-18 kl. 17:56, skrev peter dalgaard:
>>>>>> I can't claim to understand this, but on my system of same age, 
>>>>>> using system clang, configure does complete. It does get that 
>>>>>> error on line 23748, but that, and several similar subsequent 
>>>>>> tests just end up returning "yes".
>>>>>>
>>>>>> configure:23748: checking for size_t
>>>>>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include 
>>>>>> conftest.c >&5
>>>>>> configure:23748: $? = 0
>>>>>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include 
>>>>>> conftest.c >&5
>>>>>> conftest.c:118:21: error: expected expression
>>>>>> if (sizeof ((size_t)))
>>>>>> ????????????????????? ^
>>>>>> 1 error generated.
>>>>>> [..snip..]
>>>>>> configure:23748: result: yes
>>>>>>
>>>>>> (as usual, configure code is nigh on unreadable, but I think the 
>>>>>> logic is that the size_t type exists if you can do "sizeof 
>>>>>> (size_t)", but not "sizeof ((size_t))", so the error is expected.)
>>>>>>
>>>>>> The line that trips you up comes later:
>>>>>>
>>>>>> configure:24611: checking size of size_t
>>>>>> configure:24616: gcc -arch x86_64 -o conftest -g -O2 
>>>>>> -I/usr/local/include -L/usr/
>>>>>> local/lib conftest.c -ldl -lm? >&5
>>>>>> configure:24616: $? = 0
>>>>>> configure:24616: ./conftest
>>>>>> configure:24616: $? = 0
>>>>>> configure:24630: result: 8
>>>>>>
>>>>>> so that is where you should look for clues (or at least tell us 
>>>>>> what it says there).
>>>>>>
>>>>>> -pd
>>>>>>
>>>>>>> On 18 Aug 2019, at 13:34 , G?ran Brostr?m <goran.brostrom at umu.se> 
>>>>>>> wrote:
>>>>>>>
>>>>>>> Hello,
>>>>>>>
>>>>>>> I'm (for the first time) trying to build R-devel from source (to 
>>>>>>> be able to check my CRAN packages on a Mac), but it breaks 
>>>>>>> already after
>>>>>>>
>>>>>>> gobr0002 at MBP-2:~/R/src/R-devel$ ./configure
>>>>>>>
>>>>>>> with
>>>>>>>
>>>>>>> checking size of size_t... configure: error: in 
>>>>>>> `/Users/gb/R/src/R-devel':
>>>>>>> configure: error: cannot compute sizeof (size_t)
>>>>>>> See `config.log' for more details
>>>>>>>
>>>>>>> Some 'details' regarding size_t:
>>>>>>>
>>>>>>> configure:23748: checking for size_t
>>>>>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>>>> configure:23748: $? = 0
>>>>>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>>>> conftest.c: In function 'main':
>>>>>>> conftest.c:116:21: error: expected expression before ')' token
>>>>>>> if (sizeof ((size_t)))
>>>>>>> ????????????????????? ^
>>>>>>>
>>>>>>> My MacBook Pro is old (2010), so I am stuck with MacOS 10.13.6, 
>>>>>>> XCode 10.1. I'm using clang 7.0.0 and fortran 6.1.0.
>>>>>>>
>>>>>>> Do I need to buy a new Mac?
>>>>>>>
>>>>>>> Thanks, G?ran
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de  Mon Aug 19 10:02:16 2019
From: ||gge@ @end|ng |rom @t@t|@t|k@tu-dortmund@de (Uwe Ligges)
Date: Mon, 19 Aug 2019 10:02:16 +0200
Subject: [R-SIG-Mac] Building R-devel from source
In-Reply-To: <f920684a-2977-e6ff-68e0-8e88753437c9@umu.se>
References: <b4ef0c77-ee93-1a19-cc5a-92976f809384@umu.se>
 <96017F5D-FCCE-4C88-B8B4-31B5E353B9C2@gmail.com>
 <6321b7b0-f4b0-16a7-bdef-4355e56b2099@umu.se>
 <e2959caf-f929-553f-7dce-56a2ffbb1bad@umu.se>
 <6D5B625C-5F53-43D4-921D-108CC1D5E36C@gmail.com>
 <6d265539-9f7b-bc6d-a33c-3c86f7228e4b@umu.se>
 <94d7d876-49d6-2886-efb0-b54baad104f3@statistik.tu-dortmund.de>
 <f920684a-2977-e6ff-68e0-8e88753437c9@umu.se>
Message-ID: <8cc6e8a8-aafe-3513-4c19-f0c11f0bfac2@statistik.tu-dortmund.de>



On 19.08.2019 10:00, G?ran Brostr?m wrote:
> 
> 
> Den 2019-08-19 kl. 09:52, skrev Uwe Ligges:
>>
>>
>> On 19.08.2019 00:06, G?ran Brostr?m wrote:
>>> Den 2019-08-18 kl. 22:16, skrev peter dalgaard:
>>>> /usr/local/clang7 is likely a better place to look. Check out 
>>>> Appendix C.3 of the R Inst.&Adm. manual:
>>>>
>>>> https://cran.r-project.org/doc/manuals/r-release/R-admin.html#macOS
>>>
>>> That's better! After correcting some obvious(?) errors(?) in that 
>>> page, ./configure run without errors! (Had only read 
>>> mac.r-procject.org/tools/ so far).
>>
>> Can you report these "obvious(?) errors(?)" so they can be fixed?
> 
> As I promised, a report will come. Probably later today.

Whoops, I should have read all your message ...

Best,
Uwe


> Best, G?ran
> 
>>
>> Best,
>> Uwe
>>
>>
>>> After a night's sleep I will 'make'. I'll report back to r-sig-mac.
>>>
>>> Thanks, G?ran
>>>
>>>>
>>>> -pd
>>>>
>>>>> On 18 Aug 2019, at 21:35 , G?ran Brostr?m <goran.brostrom at umu.se> 
>>>>> wrote:
>>>>>
>>>>> Update: There is a libgcc_s.1.dylib in /usr/lib, as a symlink to 
>>>>> /usr/lib/libSystem.B.dylib. Is that one useful?
>>>>>
>>>>> G?ran
>>>>>
>>>>> Den 2019-08-18 kl. 18:54, skrev G?ran Brostr?m:
>>>>>> Thanks Peter,
>>>>>> The tripping lines are here
>>>>>> configure:24611: checking size of size_t
>>>>>> configure:24616: gcc -o conftest -g -O2 -I/usr/local/include 
>>>>>> -L/usr/local/lib conftest.c -ldl -lm? >\
>>>>>> &5
>>>>>> configure:24616: $? = 0
>>>>>> configure:24616: ./conftest
>>>>>> dyld: Library not loaded: /usr/local/lib/libgcc_s.1.dylib
>>>>>> ?? Referenced from: /Users/gb/R/src/R-devel/./conftest
>>>>>> ?? Reason: image not found
>>>>>> so it seems as if my installation of tools is lacking an essential 
>>>>>> part (/usr/local/lib/libgcc_s.1.dylib). I'll look around, but any 
>>>>>> suggestion is welcome!
>>>>>> G?ran
>>>>>> Den 2019-08-18 kl. 17:56, skrev peter dalgaard:
>>>>>>> I can't claim to understand this, but on my system of same age, 
>>>>>>> using system clang, configure does complete. It does get that 
>>>>>>> error on line 23748, but that, and several similar subsequent 
>>>>>>> tests just end up returning "yes".
>>>>>>>
>>>>>>> configure:23748: checking for size_t
>>>>>>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include 
>>>>>>> conftest.c >&5
>>>>>>> configure:23748: $? = 0
>>>>>>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include 
>>>>>>> conftest.c >&5
>>>>>>> conftest.c:118:21: error: expected expression
>>>>>>> if (sizeof ((size_t)))
>>>>>>> ????????????????????? ^
>>>>>>> 1 error generated.
>>>>>>> [..snip..]
>>>>>>> configure:23748: result: yes
>>>>>>>
>>>>>>> (as usual, configure code is nigh on unreadable, but I think the 
>>>>>>> logic is that the size_t type exists if you can do "sizeof 
>>>>>>> (size_t)", but not "sizeof ((size_t))", so the error is expected.)
>>>>>>>
>>>>>>> The line that trips you up comes later:
>>>>>>>
>>>>>>> configure:24611: checking size of size_t
>>>>>>> configure:24616: gcc -arch x86_64 -o conftest -g -O2 
>>>>>>> -I/usr/local/include -L/usr/
>>>>>>> local/lib conftest.c -ldl -lm? >&5
>>>>>>> configure:24616: $? = 0
>>>>>>> configure:24616: ./conftest
>>>>>>> configure:24616: $? = 0
>>>>>>> configure:24630: result: 8
>>>>>>>
>>>>>>> so that is where you should look for clues (or at least tell us 
>>>>>>> what it says there).
>>>>>>>
>>>>>>> -pd
>>>>>>>
>>>>>>>> On 18 Aug 2019, at 13:34 , G?ran Brostr?m 
>>>>>>>> <goran.brostrom at umu.se> wrote:
>>>>>>>>
>>>>>>>> Hello,
>>>>>>>>
>>>>>>>> I'm (for the first time) trying to build R-devel from source (to 
>>>>>>>> be able to check my CRAN packages on a Mac), but it breaks 
>>>>>>>> already after
>>>>>>>>
>>>>>>>> gobr0002 at MBP-2:~/R/src/R-devel$ ./configure
>>>>>>>>
>>>>>>>> with
>>>>>>>>
>>>>>>>> checking size of size_t... configure: error: in 
>>>>>>>> `/Users/gb/R/src/R-devel':
>>>>>>>> configure: error: cannot compute sizeof (size_t)
>>>>>>>> See `config.log' for more details
>>>>>>>>
>>>>>>>> Some 'details' regarding size_t:
>>>>>>>>
>>>>>>>> configure:23748: checking for size_t
>>>>>>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>>>>> configure:23748: $? = 0
>>>>>>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>>>>> conftest.c: In function 'main':
>>>>>>>> conftest.c:116:21: error: expected expression before ')' token
>>>>>>>> if (sizeof ((size_t)))
>>>>>>>> ????????????????????? ^
>>>>>>>>
>>>>>>>> My MacBook Pro is old (2010), so I am stuck with MacOS 10.13.6, 
>>>>>>>> XCode 10.1. I'm using clang 7.0.0 and fortran 6.1.0.
>>>>>>>>
>>>>>>>> Do I need to buy a new Mac?
>>>>>>>>
>>>>>>>> Thanks, G?ran
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> R-SIG-Mac mailing list
>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From gor@n@bro@trom @end|ng |rom umu@@e  Mon Aug 19 11:54:40 2019
From: gor@n@bro@trom @end|ng |rom umu@@e (=?UTF-8?Q?G=c3=b6ran_Brostr=c3=b6m?=)
Date: Mon, 19 Aug 2019 11:54:40 +0200
Subject: [R-SIG-Mac] Building R-devel from source (solved)
In-Reply-To: <6d265539-9f7b-bc6d-a33c-3c86f7228e4b@umu.se>
References: <b4ef0c77-ee93-1a19-cc5a-92976f809384@umu.se>
 <96017F5D-FCCE-4C88-B8B4-31B5E353B9C2@gmail.com>
 <6321b7b0-f4b0-16a7-bdef-4355e56b2099@umu.se>
 <e2959caf-f929-553f-7dce-56a2ffbb1bad@umu.se>
 <6D5B625C-5F53-43D4-921D-108CC1D5E36C@gmail.com>
 <6d265539-9f7b-bc6d-a33c-3c86f7228e4b@umu.se>
Message-ID: <0738b600-438b-29c8-4c43-22f1616f3792@umu.se>

Here is the report I promised. I followed the path below:

1. Got source from CRAN.

2. Read instructions under "Download R for (Mac) OS X"
  (shouldn't that read "Download R for macOS" nowadays?). Especially the 
note Important: "If you wish to compile R packages ..., see the tools 
directory."

3. In the tools directory: Download and install clang-7.0.0.pkg (I see 
now that I should have chosen clang-8.0.0 for R 3.7.0, which is 
R-devel?). Also download and install gfortran-6.1.pkg (It says: "To be 
used with El Capitan builds of R.", which worried me a little, since I 
am on High Sierra, but there were no alternatives.)

With this setup I got my first reported error. Thanks to Peter, I went 
on to

https://cran.r-project.org/doc/manuals/r-release/Radmin.html#macOS,

where I read

------
One way to use these builds with a binary distribution of R is to have a 
~/.R/Makevars file similar to (El Capitan)

FC = /usr/local/gfortran/bin/gfortran
FLIBS = -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0
   -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm

or (Sierra or High Sierra)

FC = /usr/local/gfortran/bin/gfortran
FLIBS = -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin16/6.3.0
   -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm
------

I naively chose the "Sierra or High Sierra" alternative, but that was 
wrong as you can see: It apparently refers to gfortran 6.3, so I 
switched to the the "El Capitan" alternative.

The final error message was then something about 'unable to compile 
mixed C and Fortran code', and that was fixed by changing

LDFLAGS="-L/usr/local/clang7/lib -L/usr/local/lib"

to

LDFLAGS="-L/usr/local/clang7/lib -L/usr/local/gfortran/lib
-L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0"

and voila, ./configure run without complaints!

The later build also went smoothly (but I had to install java).

So, to sum up, there seems to be some discrepancy between the two
instruction sets I tried to follow.

G?ran




Den 2019-08-19 kl. 00:06, skrev G?ran Brostr?m:
> Den 2019-08-18 kl. 22:16, skrev peter dalgaard:
>> /usr/local/clang7 is likely a better place to look. Check out Appendix 
>> C.3 of the R Inst.&Adm. manual:
>>
>> https://cran.r-project.org/doc/manuals/r-release/R-admin.html#macOS
> 
> That's better! After correcting some obvious(?) errors(?) in that page, 
> ./configure run without errors! (Had only read mac.r-procject.org/tools/ 
> so far).
> 
> After a night's sleep I will 'make'. I'll report back to r-sig-mac.
> 
> Thanks, G?ran
> 
>>
>> -pd
>>
>>> On 18 Aug 2019, at 21:35 , G?ran Brostr?m <goran.brostrom at umu.se> wrote:
>>>
>>> Update: There is a libgcc_s.1.dylib in /usr/lib, as a symlink to 
>>> /usr/lib/libSystem.B.dylib. Is that one useful?
>>>
>>> G?ran
>>>
>>> Den 2019-08-18 kl. 18:54, skrev G?ran Brostr?m:
>>>> Thanks Peter,
>>>> The tripping lines are here
>>>> configure:24611: checking size of size_t
>>>> configure:24616: gcc -o conftest -g -O2 -I/usr/local/include 
>>>> -L/usr/local/lib conftest.c -ldl -lm? >\
>>>> &5
>>>> configure:24616: $? = 0
>>>> configure:24616: ./conftest
>>>> dyld: Library not loaded: /usr/local/lib/libgcc_s.1.dylib
>>>> ?? Referenced from: /Users/gb/R/src/R-devel/./conftest
>>>> ?? Reason: image not found
>>>> so it seems as if my installation of tools is lacking an essential 
>>>> part (/usr/local/lib/libgcc_s.1.dylib). I'll look around, but any 
>>>> suggestion is welcome!
>>>> G?ran
>>>> Den 2019-08-18 kl. 17:56, skrev peter dalgaard:
>>>>> I can't claim to understand this, but on my system of same age, 
>>>>> using system clang, configure does complete. It does get that error 
>>>>> on line 23748, but that, and several similar subsequent tests just 
>>>>> end up returning "yes".
>>>>>
>>>>> configure:23748: checking for size_t
>>>>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include 
>>>>> conftest.c >&5
>>>>> configure:23748: $? = 0
>>>>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include 
>>>>> conftest.c >&5
>>>>> conftest.c:118:21: error: expected expression
>>>>> if (sizeof ((size_t)))
>>>>> ????????????????????? ^
>>>>> 1 error generated.
>>>>> [..snip..]
>>>>> configure:23748: result: yes
>>>>>
>>>>> (as usual, configure code is nigh on unreadable, but I think the 
>>>>> logic is that the size_t type exists if you can do "sizeof 
>>>>> (size_t)", but not "sizeof ((size_t))", so the error is expected.)
>>>>>
>>>>> The line that trips you up comes later:
>>>>>
>>>>> configure:24611: checking size of size_t
>>>>> configure:24616: gcc -arch x86_64 -o conftest -g -O2 
>>>>> -I/usr/local/include -L/usr/
>>>>> local/lib conftest.c -ldl -lm? >&5
>>>>> configure:24616: $? = 0
>>>>> configure:24616: ./conftest
>>>>> configure:24616: $? = 0
>>>>> configure:24630: result: 8
>>>>>
>>>>> so that is where you should look for clues (or at least tell us 
>>>>> what it says there).
>>>>>
>>>>> -pd
>>>>>
>>>>>> On 18 Aug 2019, at 13:34 , G?ran Brostr?m <goran.brostrom at umu.se> 
>>>>>> wrote:
>>>>>>
>>>>>> Hello,
>>>>>>
>>>>>> I'm (for the first time) trying to build R-devel from source (to 
>>>>>> be able to check my CRAN packages on a Mac), but it breaks already 
>>>>>> after
>>>>>>
>>>>>> gobr0002 at MBP-2:~/R/src/R-devel$ ./configure
>>>>>>
>>>>>> with
>>>>>>
>>>>>> checking size of size_t... configure: error: in 
>>>>>> `/Users/gb/R/src/R-devel':
>>>>>> configure: error: cannot compute sizeof (size_t)
>>>>>> See `config.log' for more details
>>>>>>
>>>>>> Some 'details' regarding size_t:
>>>>>>
>>>>>> configure:23748: checking for size_t
>>>>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>>> configure:23748: $? = 0
>>>>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>>> conftest.c: In function 'main':
>>>>>> conftest.c:116:21: error: expected expression before ')' token
>>>>>> if (sizeof ((size_t)))
>>>>>> ????????????????????? ^
>>>>>>
>>>>>> My MacBook Pro is old (2010), so I am stuck with MacOS 10.13.6, 
>>>>>> XCode 10.1. I'm using clang 7.0.0 and fortran 6.1.0.
>>>>>>
>>>>>> Do I need to buy a new Mac?
>>>>>>
>>>>>> Thanks, G?ran
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From pd@|gd @end|ng |rom gm@||@com  Mon Aug 19 16:00:03 2019
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Mon, 19 Aug 2019 16:00:03 +0200
Subject: [R-SIG-Mac] Building R-devel from source (solved)
In-Reply-To: <0738b600-438b-29c8-4c43-22f1616f3792@umu.se>
References: <b4ef0c77-ee93-1a19-cc5a-92976f809384@umu.se>
 <96017F5D-FCCE-4C88-B8B4-31B5E353B9C2@gmail.com>
 <6321b7b0-f4b0-16a7-bdef-4355e56b2099@umu.se>
 <e2959caf-f929-553f-7dce-56a2ffbb1bad@umu.se>
 <6D5B625C-5F53-43D4-921D-108CC1D5E36C@gmail.com>
 <6d265539-9f7b-bc6d-a33c-3c86f7228e4b@umu.se>
 <0738b600-438b-29c8-4c43-22f1616f3792@umu.se>
Message-ID: <91DEF223-A270-4DEB-A6CF-02337FC9BC17@gmail.com>

OK, I now got a clang7 build running on a machine here too.

Simon, if you are listening: The alternative instructions to installing SDK to /usr/include seems to be incomplete. With

CPPFLAGS="-isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include"

I got a succesful compile, but the link phase dies looking for -lSystem or somesuch. I.e., I think something needs to happen with LDFLAGS as well. This of course only shows up if you do not install the SDK to /usr/include.

-pd

> On 19 Aug 2019, at 11:54 , G?ran Brostr?m <goran.brostrom at umu.se> wrote:
> 
> Here is the report I promised. I followed the path below:
> 
> 1. Got source from CRAN.
> 
> 2. Read instructions under "Download R for (Mac) OS X"
> (shouldn't that read "Download R for macOS" nowadays?). Especially the note Important: "If you wish to compile R packages ..., see the tools directory."
> 
> 3. In the tools directory: Download and install clang-7.0.0.pkg (I see now that I should have chosen clang-8.0.0 for R 3.7.0, which is R-devel?). Also download and install gfortran-6.1.pkg (It says: "To be used with El Capitan builds of R.", which worried me a little, since I am on High Sierra, but there were no alternatives.)
> 
> With this setup I got my first reported error. Thanks to Peter, I went on to
> 
> https://cran.r-project.org/doc/manuals/r-release/Radmin.html#macOS,
> 
> where I read
> 
> ------
> One way to use these builds with a binary distribution of R is to have a ~/.R/Makevars file similar to (El Capitan)
> 
> FC = /usr/local/gfortran/bin/gfortran
> FLIBS = -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0
>  -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm
> 
> or (Sierra or High Sierra)
> 
> FC = /usr/local/gfortran/bin/gfortran
> FLIBS = -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin16/6.3.0
>  -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm
> ------
> 
> I naively chose the "Sierra or High Sierra" alternative, but that was wrong as you can see: It apparently refers to gfortran 6.3, so I switched to the the "El Capitan" alternative.
> 
> The final error message was then something about 'unable to compile mixed C and Fortran code', and that was fixed by changing
> 
> LDFLAGS="-L/usr/local/clang7/lib -L/usr/local/lib"
> 
> to
> 
> LDFLAGS="-L/usr/local/clang7/lib -L/usr/local/gfortran/lib
> -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0"
> 
> and voila, ./configure run without complaints!
> 
> The later build also went smoothly (but I had to install java).
> 
> So, to sum up, there seems to be some discrepancy between the two
> instruction sets I tried to follow.
> 
> G?ran
> 
> 
> 
> 
> Den 2019-08-19 kl. 00:06, skrev G?ran Brostr?m:
>> Den 2019-08-18 kl. 22:16, skrev peter dalgaard:
>>> /usr/local/clang7 is likely a better place to look. Check out Appendix C.3 of the R Inst.&Adm. manual:
>>> 
>>> https://cran.r-project.org/doc/manuals/r-release/R-admin.html#macOS
>> That's better! After correcting some obvious(?) errors(?) in that page, ./configure run without errors! (Had only read mac.r-procject.org/tools/ so far).
>> After a night's sleep I will 'make'. I'll report back to r-sig-mac.
>> Thanks, G?ran
>>> 
>>> -pd
>>> 
>>>> On 18 Aug 2019, at 21:35 , G?ran Brostr?m <goran.brostrom at umu.se> wrote:
>>>> 
>>>> Update: There is a libgcc_s.1.dylib in /usr/lib, as a symlink to /usr/lib/libSystem.B.dylib. Is that one useful?
>>>> 
>>>> G?ran
>>>> 
>>>> Den 2019-08-18 kl. 18:54, skrev G?ran Brostr?m:
>>>>> Thanks Peter,
>>>>> The tripping lines are here
>>>>> configure:24611: checking size of size_t
>>>>> configure:24616: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ldl -lm  >\
>>>>> &5
>>>>> configure:24616: $? = 0
>>>>> configure:24616: ./conftest
>>>>> dyld: Library not loaded: /usr/local/lib/libgcc_s.1.dylib
>>>>>    Referenced from: /Users/gb/R/src/R-devel/./conftest
>>>>>    Reason: image not found
>>>>> so it seems as if my installation of tools is lacking an essential part (/usr/local/lib/libgcc_s.1.dylib). I'll look around, but any suggestion is welcome!
>>>>> G?ran
>>>>> Den 2019-08-18 kl. 17:56, skrev peter dalgaard:
>>>>>> I can't claim to understand this, but on my system of same age, using system clang, configure does complete. It does get that error on line 23748, but that, and several similar subsequent tests just end up returning "yes".
>>>>>> 
>>>>>> configure:23748: checking for size_t
>>>>>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>>> configure:23748: $? = 0
>>>>>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>>> conftest.c:118:21: error: expected expression
>>>>>> if (sizeof ((size_t)))
>>>>>>                       ^
>>>>>> 1 error generated.
>>>>>> [..snip..]
>>>>>> configure:23748: result: yes
>>>>>> 
>>>>>> (as usual, configure code is nigh on unreadable, but I think the logic is that the size_t type exists if you can do "sizeof (size_t)", but not "sizeof ((size_t))", so the error is expected.)
>>>>>> 
>>>>>> The line that trips you up comes later:
>>>>>> 
>>>>>> configure:24611: checking size of size_t
>>>>>> configure:24616: gcc -arch x86_64 -o conftest -g -O2 -I/usr/local/include -L/usr/
>>>>>> local/lib conftest.c -ldl -lm  >&5
>>>>>> configure:24616: $? = 0
>>>>>> configure:24616: ./conftest
>>>>>> configure:24616: $? = 0
>>>>>> configure:24630: result: 8
>>>>>> 
>>>>>> so that is where you should look for clues (or at least tell us what it says there).
>>>>>> 
>>>>>> -pd
>>>>>> 
>>>>>>> On 18 Aug 2019, at 13:34 , G?ran Brostr?m <goran.brostrom at umu.se> wrote:
>>>>>>> 
>>>>>>> Hello,
>>>>>>> 
>>>>>>> I'm (for the first time) trying to build R-devel from source (to be able to check my CRAN packages on a Mac), but it breaks already after
>>>>>>> 
>>>>>>> gobr0002 at MBP-2:~/R/src/R-devel$ ./configure
>>>>>>> 
>>>>>>> with
>>>>>>> 
>>>>>>> checking size of size_t... configure: error: in `/Users/gb/R/src/R-devel':
>>>>>>> configure: error: cannot compute sizeof (size_t)
>>>>>>> See `config.log' for more details
>>>>>>> 
>>>>>>> Some 'details' regarding size_t:
>>>>>>> 
>>>>>>> configure:23748: checking for size_t
>>>>>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>>>> configure:23748: $? = 0
>>>>>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>>>> conftest.c: In function 'main':
>>>>>>> conftest.c:116:21: error: expected expression before ')' token
>>>>>>> if (sizeof ((size_t)))
>>>>>>>                       ^
>>>>>>> 
>>>>>>> My MacBook Pro is old (2010), so I am stuck with MacOS 10.13.6, XCode 10.1. I'm using clang 7.0.0 and fortran 6.1.0.
>>>>>>> 
>>>>>>> Do I need to buy a new Mac?
>>>>>>> 
>>>>>>> Thanks, G?ran
>>>>>>> 
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From r|ch@rd@|uhr @end|ng |rom gm@||@com  Wed Aug 21 00:17:42 2019
From: r|ch@rd@|uhr @end|ng |rom gm@||@com (Richard Fuhr)
Date: Tue, 20 Aug 2019 15:17:42 -0700
Subject: [R-SIG-Mac] Problem generating an SVG file from a CSV file on the
 Mac
Message-ID: <CALm3Ucyc1Ec6UJJY3yb9nqjofFmbudTEZqp0ddO_1z2FuaDMyw@mail.gmail.com>

I have encountered a problem generating an SVG file from a CSV file using R
on the Mac.
When I invoke the exact same script on two different Linux machines things
work fine.
Here is the script

Sys.setenv(TZ="US/Pacific")
w<-read.csv("WeightThru2018.csv")
x<-as.Date(w$Date, "%m/%d/%y")
y<-w$Weight
For some reason svg combined with plot do not work on the Mac
svg("WeightThrough2018.svg")
plot(x,y, type="l")
pdf("WeightThrough2018.pdf")
plot(x,y, type="l")
jpeg("WeightThrough2018.jpg")
plot(x,y, type="l")
png("WeightThrough2018.png")
plot(x,y, type="l")
dev.off()

The file, WeightThru2018.csv, consists of lines, each of which has a date
followed by a weight.
Here is the very beginning of the file

Date,Weight
6/4/00,189
6/5/00,191
6/6/00,191
6/7/00,191
6/9/00,190

When I run the script on the Mac, the system hangs with the first plot
command (after the call to the sag function)
When I comment out the line with the svg function and the first plot
command, things run fine on the Mac and the PDG, JPG and PNG files are
generated.

When I run the script with no lines commented out on my Linux machines,
things work fine.

When I enter the commands interactively on the Mac, the system hangs (no
error messages) with the first plot command.

On the Mac I did verify that the variables x and y were being extracted
properly.

Has anyone else out there tried to generate an SVG file that was a plot of
(x,y) data?

I also found that, on the Mac, just running the plot command without
preceding it will a call to sag, pdf, jpeg, or plot, worked fine and I
could see the plot.

SVG is a nice format, and I would like to be able to generate SVG files on
the Mac.

	[[alternative HTML version deleted]]


From bgunter@4567 @end|ng |rom gm@||@com  Wed Aug 21 00:30:14 2019
From: bgunter@4567 @end|ng |rom gm@||@com (Bert Gunter)
Date: Tue, 20 Aug 2019 15:30:14 -0700
Subject: [R-SIG-Mac] 
 Problem generating an SVG file from a CSV file on the Mac
In-Reply-To: <CALm3Ucyc1Ec6UJJY3yb9nqjofFmbudTEZqp0ddO_1z2FuaDMyw@mail.gmail.com>
References: <CALm3Ucyc1Ec6UJJY3yb9nqjofFmbudTEZqp0ddO_1z2FuaDMyw@mail.gmail.com>
Message-ID: <CAGxFJbR0yqzdpqY+kzzc-DyMh7--dtJOvWTb3t7CkUuRmY0oHw@mail.gmail.com>

1. No reprex (we don't have WeightThru2018.csv) !
2. Please post in plain text, not html . (did no har here, but could).
3. The following worked fine on my mac.
> svg()
> plot(1:5)
> dev.off()

> sessionInfo()
R version 3.6.1 (2019-07-05)
Platform: x86_64-apple-darwin15.6.0 (64-bit)
Running under: macOS Mojave 10.14.6

Matrix products: default
BLAS:
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib
LAPACK:
/Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRlapack.dylib

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

... etc.

Cheers,

Bert Gunter

"The trouble with having an open mind is that people keep coming along and
sticking things into it."
-- Opus (aka Berkeley Breathed in his "Bloom County" comic strip )


On Tue, Aug 20, 2019 at 3:18 PM Richard Fuhr <richard.fuhr at gmail.com> wrote:

> I have encountered a problem generating an SVG file from a CSV file using R
> on the Mac.
> When I invoke the exact same script on two different Linux machines things
> work fine.
> Here is the script
>
> Sys.setenv(TZ="US/Pacific")
> w<-read.csv("WeightThru2018.csv")
> x<-as.Date(w$Date, "%m/%d/%y")
> y<-w$Weight
> For some reason svg combined with plot do not work on the Mac
> svg("WeightThrough2018.svg")
> plot(x,y, type="l")
> pdf("WeightThrough2018.pdf")
> plot(x,y, type="l")
> jpeg("WeightThrough2018.jpg")
> plot(x,y, type="l")
> png("WeightThrough2018.png")
> plot(x,y, type="l")
> dev.off()
>
> The file, WeightThru2018.csv, consists of lines, each of which has a date
> followed by a weight.
> Here is the very beginning of the file
>
> Date,Weight
> 6/4/00,189
> 6/5/00,191
> 6/6/00,191
> 6/7/00,191
> 6/9/00,190
>
> When I run the script on the Mac, the system hangs with the first plot
> command (after the call to the sag function)
> When I comment out the line with the svg function and the first plot
> command, things run fine on the Mac and the PDG, JPG and PNG files are
> generated.
>
> When I run the script with no lines commented out on my Linux machines,
> things work fine.
>
> When I enter the commands interactively on the Mac, the system hangs (no
> error messages) with the first plot command.
>
> On the Mac I did verify that the variables x and y were being extracted
> properly.
>
> Has anyone else out there tried to generate an SVG file that was a plot of
> (x,y) data?
>
> I also found that, on the Mac, just running the plot command without
> preceding it will a call to sag, pdf, jpeg, or plot, worked fine and I
> could see the plot.
>
> SVG is a nice format, and I would like to be able to generate SVG files on
> the Mac.
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From r|ch@rd@|uhr @end|ng |rom gm@||@com  Wed Aug 21 04:27:24 2019
From: r|ch@rd@|uhr @end|ng |rom gm@||@com (Richard Fuhr)
Date: Tue, 20 Aug 2019 19:27:24 -0700
Subject: [R-SIG-Mac] Problem generating an SVG file from a CSV file on the
 Mac - updated with test script and test data
Message-ID: <522DEB4F-6C21-4377-A3F9-9B16290B6160@gmail.com>

I am sending this message again to the distribution list, and this time I am
* making this message plain text
* attaching an R file called FuhrTest.R
* attaching an input file called FuhrTest.csv ( a small file but it does duplicate the problem)

The purpose of the code is to read the csv file, which consists of a few dates and weights and to generate plots of the data using various formats.

The formats PDF, JPG, PNG and SVG get successfully generated on my Linux machine running the Pop!_OS distribution.

However, on my Mac, using the identical R script, the system hangs when trying to generate an SVG plot.

I have also duplicated the problem interactively.

If the lines to generate an SVG file are commented out on the Mac, then the R code runs as desired.

I invoked the script via the command 

Rscript FuhrTest.R

So if someone can take a look at this case when running R on a Mac, that would be very helpful.

It would be nice to be able to generate SVG files using R on my Mac that represent data plots


Thanks,



Richard Fuhr

-------------- next part --------------
A non-text attachment was scrubbed...
Name: FuhrTest.csv
Type: text/csv
Size: 139 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20190820/d531507f/attachment.csv>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: FuhrTest.R
Type: application/octet-stream
Size: 275 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20190820/d531507f/attachment.obj>

From roy@mende|@@ohn @end|ng |rom no@@@gov  Wed Aug 21 05:11:35 2019
From: roy@mende|@@ohn @end|ng |rom no@@@gov (Roy Mendelssohn - NOAA Federal)
Date: Tue, 20 Aug 2019 20:11:35 -0700
Subject: [R-SIG-Mac] 
 Problem generating an SVG file from a CSV file on the
 Mac - updated with test script and test data
In-Reply-To: <522DEB4F-6C21-4377-A3F9-9B16290B6160@gmail.com>
References: <522DEB4F-6C21-4377-A3F9-9B16290B6160@gmail.com>
Message-ID: <A908BC52-4B47-4BBE-882F-A53044652633@noaa.gov>

Worked on my machine.  I think you need to give more info,  including what version of the OS you are running,  and from within R the result of 'sessionInfo()',  also what happens if you run it from within R,  rather than from RScript.

HTH,

-Roy


> On Aug 20, 2019, at 7:27 PM, Richard Fuhr <richard.fuhr at gmail.com> wrote:
> 
> I am sending this message again to the distribution list, and this time I am
> * making this message plain text
> * attaching an R file called FuhrTest.R
> * attaching an input file called FuhrTest.csv ( a small file but it does duplicate the problem)
> 
> The purpose of the code is to read the csv file, which consists of a few dates and weights and to generate plots of the data using various formats.
> 
> The formats PDF, JPG, PNG and SVG get successfully generated on my Linux machine running the Pop!_OS distribution.
> 
> However, on my Mac, using the identical R script, the system hangs when trying to generate an SVG plot.
> 
> I have also duplicated the problem interactively.
> 
> If the lines to generate an SVG file are commented out on the Mac, then the R code runs as desired.
> 
> I invoked the script via the command 
> 
> Rscript FuhrTest.R
> 
> So if someone can take a look at this case when running R on a Mac, that would be very helpful.
> 
> It would be nice to be able to generate SVG files using R on my Mac that represent data plots
> 
> 
> Thanks,
> 
> 
> 
> Richard Fuhr
> <FuhrTest.csv><FuhrTest.R>_______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new street address***
110 McAllister Way
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From r|ch@rd@|uhr @end|ng |rom gm@||@com  Wed Aug 21 05:20:38 2019
From: r|ch@rd@|uhr @end|ng |rom gm@||@com (Richard Fuhr)
Date: Tue, 20 Aug 2019 20:20:38 -0700
Subject: [R-SIG-Mac] 
 Problem generating an SVG file from a CSV file on the
 Mac - updated with test script and test data
In-Reply-To: <A908BC52-4B47-4BBE-882F-A53044652633@noaa.gov>
References: <522DEB4F-6C21-4377-A3F9-9B16290B6160@gmail.com>
 <A908BC52-4B47-4BBE-882F-A53044652633@noaa.gov>
Message-ID: <358BF600-BB59-4B75-9D73-1FBE6449E2E4@gmail.com>

Roy,

Thanks for testing it.

I am running MacOS Mojave 10.14.6

When I invoke the commands interactively from within R, the system also hangs when I try to create the SVG file.

I don?t see an error message; it just hangs.

Invoking sessionInfo() yields the following:


> sessionInfo()
R version 3.6.1 (2019-07-05)
Platform: x86_64-apple-darwin15.6.0 (64-bit)
Running under: macOS Mojave 10.14.6

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRblas.0.dylib
LAPACK: /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRlapack.dylib

Random number generation:
 RNG:     Mersenne-Twister 
 Normal:  Inversion 
 Sample:  Rounding 
 
locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

loaded via a namespace (and not attached):
[1] compiler_3.6.1
> 

Thanks,

Richard







> On Aug 20, 2019, at 8:11 PM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
> 
> Worked on my machine.  I think you need to give more info,  including what version of the OS you are running,  and from within R the result of 'sessionInfo()',  also what happens if you run it from within R,  rather than from RScript.
> 
> HTH,
> 
> -Roy
> 
> 
>> On Aug 20, 2019, at 7:27 PM, Richard Fuhr <richard.fuhr at gmail.com> wrote:
>> 
>> I am sending this message again to the distribution list, and this time I am
>> * making this message plain text
>> * attaching an R file called FuhrTest.R
>> * attaching an input file called FuhrTest.csv ( a small file but it does duplicate the problem)
>> 
>> The purpose of the code is to read the csv file, which consists of a few dates and weights and to generate plots of the data using various formats.
>> 
>> The formats PDF, JPG, PNG and SVG get successfully generated on my Linux machine running the Pop!_OS distribution.
>> 
>> However, on my Mac, using the identical R script, the system hangs when trying to generate an SVG plot.
>> 
>> I have also duplicated the problem interactively.
>> 
>> If the lines to generate an SVG file are commented out on the Mac, then the R code runs as desired.
>> 
>> I invoked the script via the command 
>> 
>> Rscript FuhrTest.R
>> 
>> So if someone can take a look at this case when running R on a Mac, that would be very helpful.
>> 
>> It would be nice to be able to generate SVG files using R on my Mac that represent data plots
>> 
>> 
>> Thanks,
>> 
>> 
>> 
>> Richard Fuhr
>> <FuhrTest.csv><FuhrTest.R>_______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> **********************
> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
> **********************
> Roy Mendelssohn
> Supervisory Operations Research Analyst
> NOAA/NMFS
> Environmental Research Division
> Southwest Fisheries Science Center
> ***Note new street address***
> 110 McAllister Way
> Santa Cruz, CA 95060
> Phone: (831)-420-3666
> Fax: (831) 420-3980
> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
> 
> "Old age and treachery will overcome youth and skill."
> "From those who have been given much, much will be expected" 
> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
> 


From roy@mende|@@ohn @end|ng |rom no@@@gov  Wed Aug 21 05:31:16 2019
From: roy@mende|@@ohn @end|ng |rom no@@@gov (Roy Mendelssohn - NOAA Federal)
Date: Tue, 20 Aug 2019 20:31:16 -0700
Subject: [R-SIG-Mac] 
 Problem generating an SVG file from a CSV file on the
 Mac - updated with test script and test data
In-Reply-To: <358BF600-BB59-4B75-9D73-1FBE6449E2E4@gmail.com>
References: <522DEB4F-6C21-4377-A3F9-9B16290B6160@gmail.com>
 <A908BC52-4B47-4BBE-882F-A53044652633@noaa.gov>
 <358BF600-BB59-4B75-9D73-1FBE6449E2E4@gmail.com>
Message-ID: <C1808313-4FE8-4E2E-B139-F94C374C7BC6@noaa.gov>

Looks similar to mine.  I am just guessing here,  but did you upgrade to 3.6 and not reinstall all of your packages?  Or have you checked if you have something in .Rprofile or the like that is setting the path to something that conflicts?

-Roy


> On Aug 20, 2019, at 8:20 PM, Richard Fuhr <richard.fuhr at gmail.com> wrote:
> 
> Roy,
> 
> Thanks for testing it.
> 
> I am running MacOS Mojave 10.14.6
> 
> When I invoke the commands interactively from within R, the system also hangs when I try to create the SVG file.
> 
> I don?t see an error message; it just hangs.
> 
> Invoking sessionInfo() yields the following:
> 
> 
>> sessionInfo()
> R version 3.6.1 (2019-07-05)
> Platform: x86_64-apple-darwin15.6.0 (64-bit)
> Running under: macOS Mojave 10.14.6
> 
> Matrix products: default
> BLAS:   /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRblas.0.dylib
> LAPACK: /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRlapack.dylib
> 
> Random number generation:
> RNG:     Mersenne-Twister 
> Normal:  Inversion 
> Sample:  Rounding 
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
> 
> loaded via a namespace (and not attached):
> [1] compiler_3.6.1
>> 
> 
> Thanks,
> 
> Richard
> 
> 
> 
> 
> 
> 
> 
>> On Aug 20, 2019, at 8:11 PM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>> 
>> Worked on my machine.  I think you need to give more info,  including what version of the OS you are running,  and from within R the result of 'sessionInfo()',  also what happens if you run it from within R,  rather than from RScript.
>> 
>> HTH,
>> 
>> -Roy
>> 
>> 
>>> On Aug 20, 2019, at 7:27 PM, Richard Fuhr <richard.fuhr at gmail.com> wrote:
>>> 
>>> I am sending this message again to the distribution list, and this time I am
>>> * making this message plain text
>>> * attaching an R file called FuhrTest.R
>>> * attaching an input file called FuhrTest.csv ( a small file but it does duplicate the problem)
>>> 
>>> The purpose of the code is to read the csv file, which consists of a few dates and weights and to generate plots of the data using various formats.
>>> 
>>> The formats PDF, JPG, PNG and SVG get successfully generated on my Linux machine running the Pop!_OS distribution.
>>> 
>>> However, on my Mac, using the identical R script, the system hangs when trying to generate an SVG plot.
>>> 
>>> I have also duplicated the problem interactively.
>>> 
>>> If the lines to generate an SVG file are commented out on the Mac, then the R code runs as desired.
>>> 
>>> I invoked the script via the command 
>>> 
>>> Rscript FuhrTest.R
>>> 
>>> So if someone can take a look at this case when running R on a Mac, that would be very helpful.
>>> 
>>> It would be nice to be able to generate SVG files using R on my Mac that represent data plots
>>> 
>>> 
>>> Thanks,
>>> 
>>> 
>>> 
>>> Richard Fuhr
>>> <FuhrTest.csv><FuhrTest.R>_______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> **********************
>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>> **********************
>> Roy Mendelssohn
>> Supervisory Operations Research Analyst
>> NOAA/NMFS
>> Environmental Research Division
>> Southwest Fisheries Science Center
>> ***Note new street address***
>> 110 McAllister Way
>> Santa Cruz, CA 95060
>> Phone: (831)-420-3666
>> Fax: (831) 420-3980
>> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>> 
>> "Old age and treachery will overcome youth and skill."
>> "From those who have been given much, much will be expected" 
>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>> 
> 

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new street address***
110 McAllister Way
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From r|ch@rd@|uhr @end|ng |rom gm@||@com  Wed Aug 21 05:35:37 2019
From: r|ch@rd@|uhr @end|ng |rom gm@||@com (Richard Fuhr)
Date: Tue, 20 Aug 2019 20:35:37 -0700
Subject: [R-SIG-Mac] 
 Problem generating an SVG file from a CSV file on the
 Mac - updated with test script and test data
In-Reply-To: <C1808313-4FE8-4E2E-B139-F94C374C7BC6@noaa.gov>
References: <522DEB4F-6C21-4377-A3F9-9B16290B6160@gmail.com>
 <A908BC52-4B47-4BBE-882F-A53044652633@noaa.gov>
 <358BF600-BB59-4B75-9D73-1FBE6449E2E4@gmail.com>
 <C1808313-4FE8-4E2E-B139-F94C374C7BC6@noaa.gov>
Message-ID: <70B68998-A519-455B-B1AE-21A8A315B587@gmail.com>

I am an R newbie and when I upgraded to 3.6 I did nothing in addition (and I didn?t reinstall any packages).  
I don?t have a file in my home directory named .Rprofile or anything similar to that name.
---
Richard Fuhr
206-524-8049 <tel:(206)%20524-8049> land line
206-491-5640 <tel:(206)%20491-5640> cell phone
https://richardfuhr.neocities.org <https://richardfuhr.neocities.org/>





> On Aug 20, 2019, at 8:31 PM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
> 
> Looks similar to mine.  I am just guessing here,  but did you upgrade to 3.6 and not reinstall all of your packages?  Or have you checked if you have something in .Rprofile or the like that is setting the path to something that conflicts?
> 
> -Roy
> 
> 
>> On Aug 20, 2019, at 8:20 PM, Richard Fuhr <richard.fuhr at gmail.com> wrote:
>> 
>> Roy,
>> 
>> Thanks for testing it.
>> 
>> I am running MacOS Mojave 10.14.6
>> 
>> When I invoke the commands interactively from within R, the system also hangs when I try to create the SVG file.
>> 
>> I don?t see an error message; it just hangs.
>> 
>> Invoking sessionInfo() yields the following:
>> 
>> 
>>> sessionInfo()
>> R version 3.6.1 (2019-07-05)
>> Platform: x86_64-apple-darwin15.6.0 (64-bit)
>> Running under: macOS Mojave 10.14.6
>> 
>> Matrix products: default
>> BLAS:   /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRblas.0.dylib
>> LAPACK: /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRlapack.dylib
>> 
>> Random number generation:
>> RNG:     Mersenne-Twister 
>> Normal:  Inversion 
>> Sample:  Rounding 
>> 
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base     
>> 
>> loaded via a namespace (and not attached):
>> [1] compiler_3.6.1
>>> 
>> 
>> Thanks,
>> 
>> Richard
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>>> On Aug 20, 2019, at 8:11 PM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>> 
>>> Worked on my machine.  I think you need to give more info,  including what version of the OS you are running,  and from within R the result of 'sessionInfo()',  also what happens if you run it from within R,  rather than from RScript.
>>> 
>>> HTH,
>>> 
>>> -Roy
>>> 
>>> 
>>>> On Aug 20, 2019, at 7:27 PM, Richard Fuhr <richard.fuhr at gmail.com> wrote:
>>>> 
>>>> I am sending this message again to the distribution list, and this time I am
>>>> * making this message plain text
>>>> * attaching an R file called FuhrTest.R
>>>> * attaching an input file called FuhrTest.csv ( a small file but it does duplicate the problem)
>>>> 
>>>> The purpose of the code is to read the csv file, which consists of a few dates and weights and to generate plots of the data using various formats.
>>>> 
>>>> The formats PDF, JPG, PNG and SVG get successfully generated on my Linux machine running the Pop!_OS distribution.
>>>> 
>>>> However, on my Mac, using the identical R script, the system hangs when trying to generate an SVG plot.
>>>> 
>>>> I have also duplicated the problem interactively.
>>>> 
>>>> If the lines to generate an SVG file are commented out on the Mac, then the R code runs as desired.
>>>> 
>>>> I invoked the script via the command 
>>>> 
>>>> Rscript FuhrTest.R
>>>> 
>>>> So if someone can take a look at this case when running R on a Mac, that would be very helpful.
>>>> 
>>>> It would be nice to be able to generate SVG files using R on my Mac that represent data plots
>>>> 
>>>> 
>>>> Thanks,
>>>> 
>>>> 
>>>> 
>>>> Richard Fuhr
>>>> <FuhrTest.csv><FuhrTest.R>_______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> **********************
>>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>>> **********************
>>> Roy Mendelssohn
>>> Supervisory Operations Research Analyst
>>> NOAA/NMFS
>>> Environmental Research Division
>>> Southwest Fisheries Science Center
>>> ***Note new street address***
>>> 110 McAllister Way
>>> Santa Cruz, CA 95060
>>> Phone: (831)-420-3666
>>> Fax: (831) 420-3980
>>> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>>> 
>>> "Old age and treachery will overcome youth and skill."
>>> "From those who have been given much, much will be expected" 
>>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>>> 
>> 
> 
> **********************
> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
> **********************
> Roy Mendelssohn
> Supervisory Operations Research Analyst
> NOAA/NMFS
> Environmental Research Division
> Southwest Fisheries Science Center
> ***Note new street address***
> 110 McAllister Way
> Santa Cruz, CA 95060
> Phone: (831)-420-3666
> Fax: (831) 420-3980
> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
> 
> "Old age and treachery will overcome youth and skill."
> "From those who have been given much, much will be expected" 
> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
> 


	[[alternative HTML version deleted]]


From dw|n@em|u@ @end|ng |rom comc@@t@net  Wed Aug 21 05:48:44 2019
From: dw|n@em|u@ @end|ng |rom comc@@t@net (David Winsemius)
Date: Tue, 20 Aug 2019 20:48:44 -0700
Subject: [R-SIG-Mac] 
 Problem generating an SVG file from a CSV file on the
 Mac - updated with test script and test data
In-Reply-To: <70B68998-A519-455B-B1AE-21A8A315B587@gmail.com>
References: <522DEB4F-6C21-4377-A3F9-9B16290B6160@gmail.com>
 <A908BC52-4B47-4BBE-882F-A53044652633@noaa.gov>
 <358BF600-BB59-4B75-9D73-1FBE6449E2E4@gmail.com>
 <C1808313-4FE8-4E2E-B139-F94C374C7BC6@noaa.gov>
 <70B68998-A519-455B-B1AE-21A8A315B587@gmail.com>
Message-ID: <faf02bc5-6ee9-237f-8ab8-6d1bad88a40c@comcast.net>

Run (in an R console session)


update.packages(checkBuilt=TRUE, ask=FALSE)


On a Mac the .Rprofile file would normally be invisible (to the Finder 
anyway) and you would need to tell Finder to display "dot-files". 
(Search with Google for how to do that.).


-- 

David

On 8/20/19 8:35 PM, Richard Fuhr wrote:
> I am an R newbie and when I upgraded to 3.6 I did nothing in addition (and I didn?t reinstall any packages).
> I don?t have a file in my home directory named .Rprofile or anything similar to that name.
> ---
> Richard Fuhr
> 206-524-8049 <tel:(206)%20524-8049> land line
> 206-491-5640 <tel:(206)%20491-5640> cell phone
> https://richardfuhr.neocities.org <https://richardfuhr.neocities.org/>
>
>
>
>
>
>> On Aug 20, 2019, at 8:31 PM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>
>> Looks similar to mine.  I am just guessing here,  but did you upgrade to 3.6 and not reinstall all of your packages?  Or have you checked if you have something in .Rprofile or the like that is setting the path to something that conflicts?
>>
>> -Roy
>>
>>
>>> On Aug 20, 2019, at 8:20 PM, Richard Fuhr <richard.fuhr at gmail.com> wrote:
>>>
>>> Roy,
>>>
>>> Thanks for testing it.
>>>
>>> I am running MacOS Mojave 10.14.6
>>>
>>> When I invoke the commands interactively from within R, the system also hangs when I try to create the SVG file.
>>>
>>> I don?t see an error message; it just hangs.
>>>
>>> Invoking sessionInfo() yields the following:
>>>
>>>
>>>> sessionInfo()
>>> R version 3.6.1 (2019-07-05)
>>> Platform: x86_64-apple-darwin15.6.0 (64-bit)
>>> Running under: macOS Mojave 10.14.6
>>>
>>> Matrix products: default
>>> BLAS:   /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRblas.0.dylib
>>> LAPACK: /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRlapack.dylib
>>>
>>> Random number generation:
>>> RNG:     Mersenne-Twister
>>> Normal:  Inversion
>>> Sample:  Rounding
>>>
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>
>>> loaded via a namespace (and not attached):
>>> [1] compiler_3.6.1
>>> Thanks,
>>>
>>> Richard
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>> On Aug 20, 2019, at 8:11 PM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>>>
>>>> Worked on my machine.  I think you need to give more info,  including what version of the OS you are running,  and from within R the result of 'sessionInfo()',  also what happens if you run it from within R,  rather than from RScript.
>>>>
>>>> HTH,
>>>>
>>>> -Roy
>>>>
>>>>
>>>>> On Aug 20, 2019, at 7:27 PM, Richard Fuhr <richard.fuhr at gmail.com> wrote:
>>>>>
>>>>> I am sending this message again to the distribution list, and this time I am
>>>>> * making this message plain text
>>>>> * attaching an R file called FuhrTest.R
>>>>> * attaching an input file called FuhrTest.csv ( a small file but it does duplicate the problem)
>>>>>
>>>>> The purpose of the code is to read the csv file, which consists of a few dates and weights and to generate plots of the data using various formats.
>>>>>
>>>>> The formats PDF, JPG, PNG and SVG get successfully generated on my Linux machine running the Pop!_OS distribution.
>>>>>
>>>>> However, on my Mac, using the identical R script, the system hangs when trying to generate an SVG plot.
>>>>>
>>>>> I have also duplicated the problem interactively.
>>>>>
>>>>> If the lines to generate an SVG file are commented out on the Mac, then the R code runs as desired.
>>>>>
>>>>> I invoked the script via the command
>>>>>
>>>>> Rscript FuhrTest.R
>>>>>
>>>>> So if someone can take a look at this case when running R on a Mac, that would be very helpful.
>>>>>
>>>>> It would be nice to be able to generate SVG files using R on my Mac that represent data plots
>>>>>
>>>>>
>>>>> Thanks,
>>>>>
>>>>>
>>>>>
>>>>> Richard Fuhr
>>>>> <FuhrTest.csv><FuhrTest.R>_______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> **********************
>>>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>>>> **********************
>>>> Roy Mendelssohn
>>>> Supervisory Operations Research Analyst
>>>> NOAA/NMFS
>>>> Environmental Research Division
>>>> Southwest Fisheries Science Center
>>>> ***Note new street address***
>>>> 110 McAllister Way
>>>> Santa Cruz, CA 95060
>>>> Phone: (831)-420-3666
>>>> Fax: (831) 420-3980
>>>> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>>>>
>>>> "Old age and treachery will overcome youth and skill."
>>>> "From those who have been given much, much will be expected"
>>>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>>>>
>> **********************
>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>> **********************
>> Roy Mendelssohn
>> Supervisory Operations Research Analyst
>> NOAA/NMFS
>> Environmental Research Division
>> Southwest Fisheries Science Center
>> ***Note new street address***
>> 110 McAllister Way
>> Santa Cruz, CA 95060
>> Phone: (831)-420-3666
>> Fax: (831) 420-3980
>> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>>
>> "Old age and treachery will overcome youth and skill."
>> "From those who have been given much, much will be expected"
>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From r|ch@rd@|uhr @end|ng |rom gm@||@com  Wed Aug 21 06:05:23 2019
From: r|ch@rd@|uhr @end|ng |rom gm@||@com (Richard Fuhr)
Date: Tue, 20 Aug 2019 21:05:23 -0700
Subject: [R-SIG-Mac] 
 Problem generating an SVG file from a CSV file on the
 Mac - updated with test script and test data
In-Reply-To: <70B68998-A519-455B-B1AE-21A8A315B587@gmail.com>
References: <522DEB4F-6C21-4377-A3F9-9B16290B6160@gmail.com>
 <A908BC52-4B47-4BBE-882F-A53044652633@noaa.gov>
 <358BF600-BB59-4B75-9D73-1FBE6449E2E4@gmail.com>
 <C1808313-4FE8-4E2E-B139-F94C374C7BC6@noaa.gov>
 <70B68998-A519-455B-B1AE-21A8A315B587@gmail.com>
Message-ID: <CALm3UczuW=WjW2m8cY15i9uDmPhz+orOBG9nviaP=iGt2pom5w@mail.gmail.com>

After invoking update.packages() I was able to successfully run the script
and generate the plots using all the file formats, including SVG.
Thanks for your help.  I appreciate it.

On Tue, Aug 20, 2019 at 8:35 PM Richard Fuhr <richard.fuhr at gmail.com> wrote:

> I am an R newbie and when I upgraded to 3.6 I did nothing in addition (and
> I didn?t reinstall any packages).
> I don?t have a file in my home directory named .Rprofile or anything
> similar to that name.
> ---
> Richard Fuhr
> 206-524-8049 <(206)%20524-8049> land line
> 206-491-5640 <(206)%20491-5640> cell phone
> https://richardfuhr.neocities.org
>
>
>
>
>
>
> On Aug 20, 2019, at 8:31 PM, Roy Mendelssohn - NOAA Federal <
> roy.mendelssohn at noaa.gov> wrote:
>
> Looks similar to mine.  I am just guessing here,  but did you upgrade to
> 3.6 and not reinstall all of your packages?  Or have you checked if you
> have something in .Rprofile or the like that is setting the path to
> something that conflicts?
>
> -Roy
>
>
> On Aug 20, 2019, at 8:20 PM, Richard Fuhr <richard.fuhr at gmail.com> wrote:
>
> Roy,
>
> Thanks for testing it.
>
> I am running MacOS Mojave 10.14.6
>
> When I invoke the commands interactively from within R, the system also
> hangs when I try to create the SVG file.
>
> I don?t see an error message; it just hangs.
>
> Invoking sessionInfo() yields the following:
>
>
> sessionInfo()
>
> R version 3.6.1 (2019-07-05)
> Platform: x86_64-apple-darwin15.6.0 (64-bit)
> Running under: macOS Mojave 10.14.6
>
> Matrix products: default
> BLAS:
>   /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRblas.0.dylib
> LAPACK:
> /Library/Frameworks/R.framework/Versions/3.6/Resources/lib/libRlapack.dylib
>
> Random number generation:
> RNG:     Mersenne-Twister
> Normal:  Inversion
> Sample:  Rounding
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] compiler_3.6.1
>
>
>
> Thanks,
>
> Richard
>
>
>
>
>
>
>
> On Aug 20, 2019, at 8:11 PM, Roy Mendelssohn - NOAA Federal <
> roy.mendelssohn at noaa.gov> wrote:
>
> Worked on my machine.  I think you need to give more info,  including what
> version of the OS you are running,  and from within R the result of
> 'sessionInfo()',  also what happens if you run it from within R,  rather
> than from RScript.
>
> HTH,
>
> -Roy
>
>
> On Aug 20, 2019, at 7:27 PM, Richard Fuhr <richard.fuhr at gmail.com> wrote:
>
> I am sending this message again to the distribution list, and this time I
> am
> * making this message plain text
> * attaching an R file called FuhrTest.R
> * attaching an input file called FuhrTest.csv ( a small file but it does
> duplicate the problem)
>
> The purpose of the code is to read the csv file, which consists of a few
> dates and weights and to generate plots of the data using various formats.
>
> The formats PDF, JPG, PNG and SVG get successfully generated on my Linux
> machine running the Pop!_OS distribution.
>
> However, on my Mac, using the identical R script, the system hangs when
> trying to generate an SVG plot.
>
> I have also duplicated the problem interactively.
>
> If the lines to generate an SVG file are commented out on the Mac, then
> the R code runs as desired.
>
> I invoked the script via the command
>
> Rscript FuhrTest.R
>
> So if someone can take a look at this case when running R on a Mac, that
> would be very helpful.
>
> It would be nice to be able to generate SVG files using R on my Mac that
> represent data plots
>
>
> Thanks,
>
>
>
> Richard Fuhr
> <FuhrTest.csv><FuhrTest.R>_______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
> **********************
> "The contents of this message do not reflect any position of the U.S.
> Government or NOAA."
> **********************
> Roy Mendelssohn
> Supervisory Operations Research Analyst
> NOAA/NMFS
> Environmental Research Division
> Southwest Fisheries Science Center
> ***Note new street address***
> 110 McAllister Way
> Santa Cruz, CA 95060
> Phone: (831)-420-3666
> Fax: (831) 420-3980
> e-mail: Roy.Mendelssohn at noaa.gov <Roy.Mendelssohn at noaa.gov> www:
> http://www.pfeg.noaa.gov/
>
> "Old age and treachery will overcome youth and skill."
> "From those who have been given much, much will be expected"
> "the arc of the moral universe is long, but it bends toward justice" -MLK
> Jr.
>
>
>
> **********************
> "The contents of this message do not reflect any position of the U.S.
> Government or NOAA."
> **********************
> Roy Mendelssohn
> Supervisory Operations Research Analyst
> NOAA/NMFS
> Environmental Research Division
> Southwest Fisheries Science Center
> ***Note new street address***
> 110 McAllister Way
> Santa Cruz, CA 95060
> Phone: (831)-420-3666
> Fax: (831) 420-3980
> e-mail: Roy.Mendelssohn at noaa.gov <Roy.Mendelssohn at noaa.gov> www:
> http://www.pfeg.noaa.gov/
>
> "Old age and treachery will overcome youth and skill."
> "From those who have been given much, much will be expected"
> "the arc of the moral universe is long, but it bends toward justice" -MLK
> Jr.
>
>
>

-- 
Richard Fuhr
206-524-8049 land line
206-491-5640 cell phone
https://richardfuhr.neocities.org

	[[alternative HTML version deleted]]


From bob @end|ng |rom rud@|@  Thu Aug 22 11:07:14 2019
From: bob @end|ng |rom rud@|@ (Bob Rudis)
Date: Thu, 22 Aug 2019 05:07:14 -0400
Subject: [R-SIG-Mac] RSwitch 64-bit
Message-ID: <F4F4F895-FCF7-47E9-921C-2ABFA57D2549@rud.is>

On http://mac.r-project.org/ (which shld prbly be re-titled to "R for macOS Developer's Page"?I'd file a PR for that but do not know where that website source tree is maintained) there's a tiny binary at bottom of the page that enables switching of the `Current` R framework alias via a GUI.

TLDR: It's 32-bit and the source links stopped working even when the site was homed @ AT&T. As a result, it's unusable on the forthcoming Catalina GA release.

I have no idea how popular said tool is, but it's handy, so I threw together a Swift 5 version of it (and set a minimum macOS target of 10.14 since I cannot ethically enable use of woefully insecure operating systems). A core difference between the 2011 version and this 2019 version is that it's a menubar app vs a window app.

The code and binary release are at <https://git.rud.is/hrbrmstr/RSwitch>, which has links to other social coding sites where the codebase is co-maintained.

I have a bit more work to do on it (mostly just rounding out corners) but it has "worked for me" on Catalina betas and any/all contributions are welcome/encouraged.

-boB


From t|m@b@te@ @end|ng |rom ed@@c@uk  Mon Aug 26 14:59:56 2019
From: t|m@b@te@ @end|ng |rom ed@@c@uk (BATES Timothy)
Date: Mon, 26 Aug 2019 12:59:56 +0000
Subject: [R-SIG-Mac] stop button grayed out when running shiny (esc still
 works)
Message-ID: <51535387-716A-443A-93DC-3C2CB31B810E@ed.ac.uk>

Hi,
If one runs a shiny app, the stop button remains grayed out, even though there is now something to stop.

escape still works, but the user thinks R has frozen, (no carat) and can't be stopped (no button).

Best, tim
The University of Edinburgh is a charitable body, registered in Scotland, with registration number SC005336.


From r|p|ey @end|ng |rom @t@t@@ox@@c@uk  Thu Aug 29 15:19:58 2019
From: r|p|ey @end|ng |rom @t@t@@ox@@c@uk (Prof Brian Ripley)
Date: Thu, 29 Aug 2019 14:19:58 +0100
Subject: [R-SIG-Mac] Building R-devel from source (solved)
In-Reply-To: <91DEF223-A270-4DEB-A6CF-02337FC9BC17@gmail.com>
References: <b4ef0c77-ee93-1a19-cc5a-92976f809384@umu.se>
 <96017F5D-FCCE-4C88-B8B4-31B5E353B9C2@gmail.com>
 <6321b7b0-f4b0-16a7-bdef-4355e56b2099@umu.se>
 <e2959caf-f929-553f-7dce-56a2ffbb1bad@umu.se>
 <6D5B625C-5F53-43D4-921D-108CC1D5E36C@gmail.com>
 <6d265539-9f7b-bc6d-a33c-3c86f7228e4b@umu.se>
 <0738b600-438b-29c8-4c43-22f1616f3792@umu.se>
 <91DEF223-A270-4DEB-A6CF-02337FC9BC17@gmail.com>
Message-ID: <e6f9ea44-4586-7876-b5a9-c37f356dcc36@stats.ox.ac.uk>

On 19/08/2019 15:00, peter dalgaard wrote:
> OK, I now got a clang7 build running on a machine here too.
> 
> Simon, if you are listening: The alternative instructions to installing SDK to /usr/include seems to be incomplete. With
> 
> CPPFLAGS="-isysroot /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include"
> 
> I got a succesful compile, but the link phase dies looking for -lSystem or somesuch. I.e., I think something needs to happen with LDFLAGS as well. This of course only shows up if you do not install the SDK to /usr/include.

The trick seems to be to include -isysroot as part of CC:

CC="/usr/local/clang8/bin/clang -isysroot 
/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk"

and similarly for CXX.

Otherwise you are going to need something like

LDFLAGS="-L/usr/local/clang8/lib -L/usr/local/lib 
-L/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/lib"

I also had to set

CXXCPP="$CXX -E"

[There are quite a few places in configure which run ${CC} ${CFLAGS} -o 
foo.o -c foo.c

and so do not notice CPPFLAGS.]

I did not find this documented for clang (except for making pre-compiled 
headers), but gcc has at 
https://gcc.gnu.org/onlinedocs/gcc/Directory-Options.html

-isysroot dir

     This option is like the --sysroot option, but applies only to 
header files (except for Darwin targets, where it applies to both header 
files and libraries). See the --sysroot option for more information.

and clang usually blindly copies gcc (I found a Q from a clang developer 
asking why it was like that in gcc).

I am revising the R-admin manual: will have a new version up in a few days.


> 
> -pd
> 
>> On 19 Aug 2019, at 11:54 , G?ran Brostr?m <goran.brostrom at umu.se> wrote:
>>
>> Here is the report I promised. I followed the path below:
>>
>> 1. Got source from CRAN.
>>
>> 2. Read instructions under "Download R for (Mac) OS X"
>> (shouldn't that read "Download R for macOS" nowadays?). Especially the note Important: "If you wish to compile R packages ..., see the tools directory."
>>
>> 3. In the tools directory: Download and install clang-7.0.0.pkg (I see now that I should have chosen clang-8.0.0 for R 3.7.0, which is R-devel?). Also download and install gfortran-6.1.pkg (It says: "To be used with El Capitan builds of R.", which worried me a little, since I am on High Sierra, but there were no alternatives.)
>>
>> With this setup I got my first reported error. Thanks to Peter, I went on to
>>
>> https://cran.r-project.org/doc/manuals/r-release/Radmin.html#macOS,
>>
>> where I read
>>
>> ------
>> One way to use these builds with a binary distribution of R is to have a ~/.R/Makevars file similar to (El Capitan)
>>
>> FC = /usr/local/gfortran/bin/gfortran
>> FLIBS = -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0
>>   -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm
>>
>> or (Sierra or High Sierra)
>>
>> FC = /usr/local/gfortran/bin/gfortran
>> FLIBS = -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin16/6.3.0
>>   -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm
>> ------
>>
>> I naively chose the "Sierra or High Sierra" alternative, but that was wrong as you can see: It apparently refers to gfortran 6.3, so I switched to the the "El Capitan" alternative.
>>
>> The final error message was then something about 'unable to compile mixed C and Fortran code', and that was fixed by changing
>>
>> LDFLAGS="-L/usr/local/clang7/lib -L/usr/local/lib"
>>
>> to
>>
>> LDFLAGS="-L/usr/local/clang7/lib -L/usr/local/gfortran/lib
>> -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin15/6.1.0"
>>
>> and voila, ./configure run without complaints!
>>
>> The later build also went smoothly (but I had to install java).
>>
>> So, to sum up, there seems to be some discrepancy between the two
>> instruction sets I tried to follow.
>>
>> G?ran
>>
>>
>>
>>
>> Den 2019-08-19 kl. 00:06, skrev G?ran Brostr?m:
>>> Den 2019-08-18 kl. 22:16, skrev peter dalgaard:
>>>> /usr/local/clang7 is likely a better place to look. Check out Appendix C.3 of the R Inst.&Adm. manual:
>>>>
>>>> https://cran.r-project.org/doc/manuals/r-release/R-admin.html#macOS
>>> That's better! After correcting some obvious(?) errors(?) in that page, ./configure run without errors! (Had only read mac.r-procject.org/tools/ so far).
>>> After a night's sleep I will 'make'. I'll report back to r-sig-mac.
>>> Thanks, G?ran
>>>>
>>>> -pd
>>>>
>>>>> On 18 Aug 2019, at 21:35 , G?ran Brostr?m <goran.brostrom at umu.se> wrote:
>>>>>
>>>>> Update: There is a libgcc_s.1.dylib in /usr/lib, as a symlink to /usr/lib/libSystem.B.dylib. Is that one useful?
>>>>>
>>>>> G?ran
>>>>>
>>>>> Den 2019-08-18 kl. 18:54, skrev G?ran Brostr?m:
>>>>>> Thanks Peter,
>>>>>> The tripping lines are here
>>>>>> configure:24611: checking size of size_t
>>>>>> configure:24616: gcc -o conftest -g -O2 -I/usr/local/include -L/usr/local/lib conftest.c -ldl -lm  >\
>>>>>> &5
>>>>>> configure:24616: $? = 0
>>>>>> configure:24616: ./conftest
>>>>>> dyld: Library not loaded: /usr/local/lib/libgcc_s.1.dylib
>>>>>>     Referenced from: /Users/gb/R/src/R-devel/./conftest
>>>>>>     Reason: image not found
>>>>>> so it seems as if my installation of tools is lacking an essential part (/usr/local/lib/libgcc_s.1.dylib). I'll look around, but any suggestion is welcome!
>>>>>> G?ran
>>>>>> Den 2019-08-18 kl. 17:56, skrev peter dalgaard:
>>>>>>> I can't claim to understand this, but on my system of same age, using system clang, configure does complete. It does get that error on line 23748, but that, and several similar subsequent tests just end up returning "yes".
>>>>>>>
>>>>>>> configure:23748: checking for size_t
>>>>>>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>>>> configure:23748: $? = 0
>>>>>>> configure:23748: gcc -arch x86_64 -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>>>> conftest.c:118:21: error: expected expression
>>>>>>> if (sizeof ((size_t)))
>>>>>>>                        ^
>>>>>>> 1 error generated.
>>>>>>> [..snip..]
>>>>>>> configure:23748: result: yes
>>>>>>>
>>>>>>> (as usual, configure code is nigh on unreadable, but I think the logic is that the size_t type exists if you can do "sizeof (size_t)", but not "sizeof ((size_t))", so the error is expected.)
>>>>>>>
>>>>>>> The line that trips you up comes later:
>>>>>>>
>>>>>>> configure:24611: checking size of size_t
>>>>>>> configure:24616: gcc -arch x86_64 -o conftest -g -O2 -I/usr/local/include -L/usr/
>>>>>>> local/lib conftest.c -ldl -lm  >&5
>>>>>>> configure:24616: $? = 0
>>>>>>> configure:24616: ./conftest
>>>>>>> configure:24616: $? = 0
>>>>>>> configure:24630: result: 8
>>>>>>>
>>>>>>> so that is where you should look for clues (or at least tell us what it says there).
>>>>>>>
>>>>>>> -pd
>>>>>>>
>>>>>>>> On 18 Aug 2019, at 13:34 , G?ran Brostr?m <goran.brostrom at umu.se> wrote:
>>>>>>>>
>>>>>>>> Hello,
>>>>>>>>
>>>>>>>> I'm (for the first time) trying to build R-devel from source (to be able to check my CRAN packages on a Mac), but it breaks already after
>>>>>>>>
>>>>>>>> gobr0002 at MBP-2:~/R/src/R-devel$ ./configure
>>>>>>>>
>>>>>>>> with
>>>>>>>>
>>>>>>>> checking size of size_t... configure: error: in `/Users/gb/R/src/R-devel':
>>>>>>>> configure: error: cannot compute sizeof (size_t)
>>>>>>>> See `config.log' for more details
>>>>>>>>
>>>>>>>> Some 'details' regarding size_t:
>>>>>>>>
>>>>>>>> configure:23748: checking for size_t
>>>>>>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>>>>> configure:23748: $? = 0
>>>>>>>> configure:23748: gcc -c -g -O2 -I/usr/local/include conftest.c >&5
>>>>>>>> conftest.c: In function 'main':
>>>>>>>> conftest.c:116:21: error: expected expression before ')' token
>>>>>>>> if (sizeof ((size_t)))
>>>>>>>>                        ^
>>>>>>>>
>>>>>>>> My MacBook Pro is old (2010), so I am stuck with MacOS 10.13.6, XCode 10.1. I'm using clang 7.0.0 and fortran 6.1.0.
>>>>>>>>
>>>>>>>> Do I need to buy a new Mac?
>>>>>>>>
>>>>>>>> Thanks, G?ran
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> R-SIG-Mac mailing list
>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford


From @|mon@urb@nek @end|ng |rom R-project@org  Fri Aug 30 01:06:48 2019
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Thu, 29 Aug 2019 19:06:48 -0400
Subject: [R-SIG-Mac] RSwitch 64-bit
In-Reply-To: <F4F4F895-FCF7-47E9-921C-2ABFA57D2549@rud.is>
References: <F4F4F895-FCF7-47E9-921C-2ABFA57D2549@rud.is>
Message-ID: <2951D619-1B9E-4664-B389-32745A8A799A@R-project.org>

Bob,

It would be likely easier just to ask ;) the sources are still there in the original 2006 SVN repo:

http://svn.rforge.net/osx/trunk/RSwitch/ <http://svn.rforge.net/osx/trunk/RSwitch/>

It?s really just a very tiny utility, but works on Catalina as well. I can try to build it on the CRAN machine so it will match the current R binaries and thus support the same OS X/macOS versions (assuming it?s not using something too new that?s incopatible).

I like the idea of the a menubar app - if/when you?re happy with your app, let me know and I?ll have a look. My only concern is to keep the R layout and detection in sync so if you are willing to contribute it we I can add it to the CRAN section.

Thanks,
Simon


> On Aug 22, 2019, at 5:07 AM, Bob Rudis <bob at rud.is> wrote:
> 
> On http://mac.r-project.org/ (which shld prbly be re-titled to "R for macOS Developer's Page"?I'd file a PR for that but do not know where that website source tree is maintained) there's a tiny binary at bottom of the page that enables switching of the `Current` R framework alias via a GUI.
> 
> TLDR: It's 32-bit and the source links stopped working even when the site was homed @ AT&T. As a result, it's unusable on the forthcoming Catalina GA release.
> 
> I have no idea how popular said tool is, but it's handy, so I threw together a Swift 5 version of it (and set a minimum macOS target of 10.14 since I cannot ethically enable use of woefully insecure operating systems).

[OT]
Well, that?s nice, but leaves a many users especially those that cannot afford to buy a new Mac every year in the dark so the so-called ?ethical? consideration is rather questionable since it?s rather the opposite. I would certainly want to make sure it works on OS X systems that are supported by CRAN.



> A core difference between the 2011 version and this 2019 version is that it's a menubar app vs a window app.
> 
> The code and binary release are at <https://git.rud.is/hrbrmstr/RSwitch>, which has links to other social coding sites where the codebase is co-maintained.
> 
> I have a bit more work to do on it (mostly just rounding out corners) but it has "worked for me" on Catalina betas and any/all contributions are welcome/encouraged.
> 
> -boB
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


	[[alternative HTML version deleted]]


