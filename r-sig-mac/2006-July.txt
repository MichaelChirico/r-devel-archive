From chabotd at globetrotter.net  Sat Jul  1 15:36:30 2006
From: chabotd at globetrotter.net (Denis Chabot)
Date: Sat, 01 Jul 2006 09:36:30 -0400
Subject: [R-SIG-Mac] Still an issue with quartz windows not being deleted
In-Reply-To: <mailman.19.1151748006.21365.r-sig-mac@stat.math.ethz.ch>
References: <mailman.19.1151748006.21365.r-sig-mac@stat.math.ethz.ch>
Message-ID: <C658AADE-6411-44D3-95F6-F1185970EF37@globetrotter.net>

Hi,

In some of my R sessions, I generate a large number of quartz windows  
(thanks for the ability to name them, by the way, this is very  
helpful to me). I also generate a fairly large number of pdf graphics  
(i.e. when I want to save graphs to files, I usually produce them  
with a call to pdf instead of to quartz).

When my sessions lasts for more than a few minutes (therefore when  
large numbers of graphics windows are involved), I get some windows  
that refuse to be deleted. If I click their "close" button they  
disappear allright, but some of them remain listed in the Windows  
menu. Similarly, if I issue "graphics.off()", all quartz windows that  
were visible disappear, but some of them often remain in the Windows  
menu. Repeated uses of "graphics.off()" do not remove the stubborn  
quartz items from the Windows menu. And it is not just the list in  
the Windows menu that is wrong: selecting these items actually makes  
them visible, so they are still there and have "survived" my use of  
"graphics.off().

I mentioned my creation of pdf files during my sessions because I  
have noticed the problem is almost certain to occur after I have  
created such files, but I'm not sure the problem occurs if I do not.  
This may be a coincidence though...

Sincerely,

Denis
p.s. I'm presently using v3255 of R.app; this started happening with  
my move from R 2.2 to 2.3, I think


From simon.urbanek at r-project.org  Sat Jul  1 16:17:06 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 1 Jul 2006 10:17:06 -0400
Subject: [R-SIG-Mac] =?windows-1252?q?Starting=96R_error_message?=
In-Reply-To: <7fc59970606301430j3b14488bnb5d63d120a74c50@mail.gmail.com>
References: <7fc59970606301430j3b14488bnb5d63d120a74c50@mail.gmail.com>
Message-ID: <8F68E14B-FF7E-4456-8247-828F104B0B32@r-project.org>

Roberto,

On Jun 30, 2006, at 5:30 PM, Roberto Osorio wrote:

> I just moved from a PowerBook to a MacBook Pro and I get the following
> message when starting R:
>
> 2006-06-30 14:19:12.305 R[1425] *** -[NSBundle load]: Error loading  
> code /Library/InputManagers/SIMBL/SIMBL.bundle/Contents/MacOS/SIMBL  
> for bundle /Library/InputManagers/SIMBL/SIMBL.bundle, error code 2  
> (link edit error code 0, error number 0 ())
> 2006-06-30 14:19:13.058 R[1425] CFLog (21): dyld returns 2 when  
> trying to load /Users/roberto/Library/ScriptingAdditions/24U  
> Appearance OSAX.osax/Contents/MacOS/24U
> Appearance OSAX
> 2006-06-30 14:19:13.059 R[1425] CFLog (21): dyld returns 2 when  
> trying to load
> /Users/roberto/Library/ScriptingAdditions/KeyCue.1.0.osax/Contents/ 
> MacOS/KeyCue
>

Both errors are related to some 3rd-party add-ons that you are using  
and have nothing to do with R. I don't know either of the haxies yo  
use, but my guess would be that they don't work on on an Intel Mac.
Both are installed in your home so they are left-overs from your old  
system. I would recommerd running
rm -rf ~/Library/ScriptingAdditions
and then see if there are updates of them.

Cheers,
Simon


From oscar.moreno at att.net  Sun Jul  2 21:31:06 2006
From: oscar.moreno at att.net (Oscar Moreno)
Date: Sun, 2 Jul 2006 15:31:06 -0400
Subject: [R-SIG-Mac] Errors loading gmp library
Message-ID: <EE3C1F44-C5F9-42C2-97B8-83EA3C687AB5@att.net>

I am getting errors loading gmp library.

System: PowerPC G5, DP 1.8 GHz, 1.5 GB memory
OS: Mac OS 10.4.7 (latest update from yesterday.)
R.Version output:
$platform
[1] "powerpc-apple-darwin8.6.0"
$arch
[1] "powerpc"
$os
[1] "darwin8.6.0"
$system
[1] "powerpc, darwin8.6.0"
$status
[1] ""
$major
[1] "2"
$minor
[1] "3.1"
$year
[1] "2006"
$month
[1] "06"
$day
[1] "01"
$`svn rev`
[1] "38247"
$language
[1] "R"
$version.string
[1] "Version 2.3.1 (2006-06-01)"

Error after library(gmp):

Error in dyn.load(x, as.logical(local), as.logical(now)) :
	unable to load shared library '/Users/oscar/Library/R/library/gmp/ 
libs/ppc/gmp.so':
   dlopen(/Users/oscar/Library/R/library/gmp/libs/ppc/gmp.so, 6):  
Symbol not found: ___gmpz_import
   Referenced from: /Users/oscar/Library/R/library/gmp/libs/ppc/gmp.so
   Expected in: flat namespace
Error in library(gmp) : .First.lib failed for 'gmp'

I am using R.gui from:
R-GUI-3266-2.3-Deployment.dmg
from http://r.research.att.com/

Pleas advise on what to do?  TIA

Oscar


From rmpruzek at yahoo.com  Mon Jul  3 05:43:55 2006
From: rmpruzek at yahoo.com (bob pruzek)
Date: Sun, 2 Jul 2006 20:43:55 -0700 (PDT)
Subject: [R-SIG-Mac]  R won't close normally, more...
Message-ID: <20060703034355.29436.qmail@web50403.mail.yahoo.com>

...
OS 10.4.7 on iMac intel 1.87 Ghz, 1 Mb Ram
R 2.3.1

This is a new system, R recently loaded...
1.  When I try to quit a session, I get message: 
    cannot find finalizeSession
despite the fact that my .Last is:
.Last
function (...) 
{
    finalizeSession()
}
2. Although the X11 package loads (outside of R),
apparently successfully, opening X11 at the R console
always fails.  (Furthermore tcltk is not on the binary
list either, nor is rgl, and I wonder why this is the
case; I have tried in the past to load these directly
from the CRAN site, but that inevitably failed too (on
my G4, see below) )
3.  I have tried without success to load a workspace
file created w/ R (also 2.3.1) on my Powerbook G4. 
Should it be possible to load this on the iMac,
perhaps with some special considerations?  Any
suggestions?
    Thank you, R Pruzek


From r.hankin at noc.soton.ac.uk  Mon Jul  3 16:06:19 2006
From: r.hankin at noc.soton.ac.uk (Robin Hankin)
Date: Mon, 3 Jul 2006 15:06:19 +0100
Subject: [R-SIG-Mac] binary package bundles
Message-ID: <62044C54-76B3-4590-9F5B-80AC2487B9DE@soc.soton.ac.uk>

Hi

The BACCO bundle, which I wrote, comprises three separate packages;  
none of them
include any fortran or C code.  The bundle passes all three checks on  
the check summary
page.

There is no binary of the BACCO bundle on CRAN.

Why is this, and
What do I have to do to make a binary for BACCO appear on CRAN?


best wishes


Robin



--
Robin Hankin
Uncertainty Analyst
National Oceanography Centre, Southampton
European Way, Southampton SO14 3ZH, UK
  tel  023-8059-7743


From simon.urbanek at r-project.org  Mon Jul  3 19:00:50 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Jul 2006 13:00:50 -0400
Subject: [R-SIG-Mac] binary package bundles
In-Reply-To: <62044C54-76B3-4590-9F5B-80AC2487B9DE@soc.soton.ac.uk>
References: <62044C54-76B3-4590-9F5B-80AC2487B9DE@soc.soton.ac.uk>
Message-ID: <4BC03541-9D4D-47F6-8F2C-AAA4C8B26C89@r-project.org>

Hi Robin,

On Jul 3, 2006, at 10:06 AM, Robin Hankin wrote:

> The BACCO bundle, which I wrote, comprises three separate  
> packages;  none of them include any fortran or C code.  The bundle  
> passes all three checks on the check summary page.
>

It does not pass make check on OS X:

http://R.research.att.com/reports/tiger-universal/results/2.3.0/html/ 
BACCO.report.html
(Linked from the http://R.research.att.com/ R for Mac developer page)

Please have a look if you encountered the error before. If not,  
please contact me directly and we can try to sort it out.


> There is no binary of the BACCO bundle on CRAN.
>
> Why is this, and What do I have to do to make a binary for BACCO  
> appear on CRAN?
>

It has to pass make check ;).

Cheers,
Simon


From simon.urbanek at r-project.org  Mon Jul  3 19:54:16 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Jul 2006 13:54:16 -0400
Subject: [R-SIG-Mac] Errors loading gmp library
In-Reply-To: <EE3C1F44-C5F9-42C2-97B8-83EA3C687AB5@att.net>
References: <EE3C1F44-C5F9-42C2-97B8-83EA3C687AB5@att.net>
Message-ID: <C2B82007-13FC-468F-9AC9-D2455647A395@r-project.org>

Oscar and Terry,

apparently this is the second report on gmp, but unfortunately I  
cannot reproduce it. I have tried on multiple machines, but it works  
for me.

Are you using the CRAN binary of R? Which version of gmp are you  
using? Where did you install it from?

Also in case this is a problem with a mirror, please try installing  
the package like this:
install.packages("gmp",,"http://R.research.att.com/")
and let me know whether it makes a difference. Additional question:  
did you install Xcode? (You don't need to, just checking..).

Thanks,
Simon

On Jul 2, 2006, at 3:31 PM, Oscar Moreno wrote:

> I am getting errors loading gmp library.
>
> System: PowerPC G5, DP 1.8 GHz, 1.5 GB memory
> OS: Mac OS 10.4.7 (latest update from yesterday.)
> R.Version output:
> $platform
> [1] "powerpc-apple-darwin8.6.0"
> $arch
> [1] "powerpc"
> $os
> [1] "darwin8.6.0"
> $system
> [1] "powerpc, darwin8.6.0"
> $status
> [1] ""
> $major
> [1] "2"
> $minor
> [1] "3.1"
> $year
> [1] "2006"
> $month
> [1] "06"
> $day
> [1] "01"
> $`svn rev`
> [1] "38247"
> $language
> [1] "R"
> $version.string
> [1] "Version 2.3.1 (2006-06-01)"
>
> Error after library(gmp):
>
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
> 	unable to load shared library '/Users/oscar/Library/R/library/gmp/
> libs/ppc/gmp.so':
>    dlopen(/Users/oscar/Library/R/library/gmp/libs/ppc/gmp.so, 6):
> Symbol not found: ___gmpz_import
>    Referenced from: /Users/oscar/Library/R/library/gmp/libs/ppc/gmp.so
>    Expected in: flat namespace
> Error in library(gmp) : .First.lib failed for 'gmp'
>
> I am using R.gui from:
> R-GUI-3266-2.3-Deployment.dmg
> from http://r.research.att.com/
>
> Pleas advise on what to do?  TIA
>
> Oscar
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Mon Jul  3 20:39:30 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Jul 2006 14:39:30 -0400
Subject: [R-SIG-Mac] Errors loading gmp library
In-Reply-To: <06906D5F-4F90-42F6-9926-DE23DA1D1834@att.net>
References: <EE3C1F44-C5F9-42C2-97B8-83EA3C687AB5@att.net>
	<C2B82007-13FC-468F-9AC9-D2455647A395@r-project.org>
	<06906D5F-4F90-42F6-9926-DE23DA1D1834@att.net>
Message-ID: <3BFA13DC-9B7F-42E7-92B6-A2D982C8D40E@r-project.org>

Thanks, Oscar.

On Jul 3, 2006, at 2:16 PM, Oscar Moreno wrote:

> I used the mirror at Pair Networks, Pittsburgh, PA (http:// 
> cran.us.r-project.org/)
> The version for gmp is: 0.4-0
> I have installed XCode Version 2.2.
>
> library(gmp) works when installed from http://R.research.att.com!!
>
> I guess there is something going on with this (and maybe other)  
> mirror.
>

Strange. I have just checked the http://cran.us.r-project.org/  
mirror, and the file is identical (at least now). So if anyone else  
has a problem with gmp, please try re-installing it and if the  
problem persists, try a different mirror. If it still persists,  
please contact me.

Thanks,
Simon


From bates at stat.wisc.edu  Mon Jul  3 23:24:50 2006
From: bates at stat.wisc.edu (Douglas Bates)
Date: Mon, 3 Jul 2006 16:24:50 -0500
Subject: [R-SIG-Mac] Compiling the nlme package on an Intel Mac
Message-ID: <40e66e0b0607031424o7abe5b94ma4f6365b4815c05e@mail.gmail.com>

I enclose the 00install.out file that resulted from

svn co https://svn.r-project.org/R-packages/trunk/nlme
R CMD check nlme

I believe I am working with a clean install of R-2.3.1 on an Intel Mac
but I could have tweaked something at some point.


From simon.urbanek at r-project.org  Tue Jul  4 00:00:00 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Jul 2006 18:00:00 -0400
Subject: [R-SIG-Mac] Compiling the nlme package on an Intel Mac
In-Reply-To: <40e66e0b0607031424o7abe5b94ma4f6365b4815c05e@mail.gmail.com>
References: <40e66e0b0607031424o7abe5b94ma4f6365b4815c05e@mail.gmail.com>
Message-ID: <5997A342-7AB3-4B23-BDED-544E43412D67@r-project.org>


On Jul 3, 2006, at 5:24 PM, Douglas Bates wrote:

> I enclose the 00install.out file that resulted from
>
> svn co https://svn.r-project.org/R-packages/trunk/nlme
> R CMD check nlme
>
> I believe I am working with a clean install of R-2.3.1 on an Intel  
> Mac but I could have tweaked something at some point.
>

I guess the list ate your attachment - you may want to send it  
directly to me.
FWIW nlme passed make check when checked out from the above SVN  
(however, I was using 2.3.0).

Cheers,
Simon


From bates at stat.wisc.edu  Tue Jul  4 00:31:34 2006
From: bates at stat.wisc.edu (Douglas Bates)
Date: Mon, 3 Jul 2006 17:31:34 -0500
Subject: [R-SIG-Mac] Compiling the nlme package on an Intel Mac
In-Reply-To: <5997A342-7AB3-4B23-BDED-544E43412D67@r-project.org>
References: <40e66e0b0607031424o7abe5b94ma4f6365b4815c05e@mail.gmail.com>
	<5997A342-7AB3-4B23-BDED-544E43412D67@r-project.org>
Message-ID: <40e66e0b0607031531h22fb94a8n3a60e4cbebde62d8@mail.gmail.com>

As I said, it may be that I have made some modification in the
Resources directory that is causing it to try to compile for the
Frameworks architecture.


On 7/3/06, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>
> On Jul 3, 2006, at 5:24 PM, Douglas Bates wrote:
>
> > I enclose the 00install.out file that resulted from
> >
> > svn co https://svn.r-project.org/R-packages/trunk/nlme
> > R CMD check nlme
> >
> > I believe I am working with a clean install of R-2.3.1 on an Intel
> > Mac but I could have tweaked something at some point.
> >
>
> I guess the list ate your attachment - you may want to send it
> directly to me.
> FWIW nlme passed make check when checked out from the above SVN
> (however, I was using 2.3.0).
>
> Cheers,
> Simon
>
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 00install.out
Type: application/octet-stream
Size: 7923 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060703/64ddb410/attachment-0001.obj 

From simon.urbanek at r-project.org  Tue Jul  4 03:37:35 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Jul 2006 21:37:35 -0400
Subject: [R-SIG-Mac] Compiling the nlme package on an Intel Mac
In-Reply-To: <40e66e0b0607031531h22fb94a8n3a60e4cbebde62d8@mail.gmail.com>
References: <40e66e0b0607031424o7abe5b94ma4f6365b4815c05e@mail.gmail.com>
	<5997A342-7AB3-4B23-BDED-544E43412D67@r-project.org>
	<40e66e0b0607031531h22fb94a8n3a60e4cbebde62d8@mail.gmail.com>
Message-ID: <3E889FE6-7C03-4A37-A9DB-5EC3849D8F83@r-project.org>


On Jul 3, 2006, at 6:31 PM, Douglas Bates wrote:

> As I said, it may be that I have made some modification in the
> Resources directory that is causing it to try to compile for the
> Frameworks architecture.


* Installing *source* package 'nlme' ...
** libs
** arch - Frameworks
^^ - that is, of course nonsense. My guess would be that there is  
"Frameworks" in your ${R_HOME)/bin/exec - you'll have to remove it,  
because R thinks that it is another architecture it needs to support.

Cheers,
Simon


From macq at llnl.gov  Wed Jul  5 22:32:19 2006
From: macq at llnl.gov (Don MacQueen)
Date: Wed, 5 Jul 2006 13:32:19 -0700
Subject: [R-SIG-Mac] Fwd:  Passing data to lm using RSPerl
In-Reply-To: <ABCB3818-CCE3-494C-A666-8597D8E6A9DD@comcast.net>
References: <A9DB22CE-E249-4587-9E74-8F38F80855FD@comcast.net>
	<ABCB3818-CCE3-494C-A666-8597D8E6A9DD@comcast.net>
Message-ID: <p06230908c0d1d05de3b5@[128.115.153.6]>

Unfortunately, I have no experience with the syntax of RSPerl 
expressions within a perl script. But comparing the use of print(), 
that succeeded, with the use of lm(), which did not, I see something 
I think worth trying.

I would try this:

    &R::callWithNames( "lm", { 'r2 ~ r1' ,  @df }  );

because the third argument to lm() should be the data object itself. 
If you were doing this within R itself, the expressions you would 
write are

   print(name_of_dataframe)
   lm( r2~r1, name_of_dataframe)

So it seems to me that if
    &R::call( "print", @df);
is correct, then you would supply the data to lm() with an analogous 
syntax, i.e.,
    &R::callWithNames( "lm", { 'r2 ~ r1' , @df }  );

-Don

At 9:44 AM -0400 6/30/06, Adam Wizon wrote:
>Here is the code I am using (which I know is not quite right).  It 
>produces the output below.  The data frame summary seems to print 
>correctly, but the call to 'lm' says that I do not have a 'terms 
>component'.   I think I am confused about whether objects reside in R 
>or Perl although my code assumes I can create a Perl object (in this 
>case df) that can be passed back to R as a data frame.  Can someone 
>clarify this for me?
>
>--------------
>R::initR("--silent");
>&R::library("RSPerl");
>
>my @df = &R::callWithNames( "data.frame", { 'date', $r_date[0], 'r1', 
>$e_ret[0], 'r2', $e_ret[1] } );
>
>print "Printing summary of df\n";
>&R::call( "print", @df);
>
>print "Computing linear model parameters\n";
>&R::callWithNames( "lm", { 'r2 ~ r1' , 'data', \@df }  );
>
>--------------
>
>           date                    r2                    r1
>1  2006-05-01   -0.0573445954863402   -0.0112231851115216
>2  2006-05-02    0.0150507525376269    0.0290229885057473
>3  2006-05-03 -0.000275862068965462  -0.00670203853672164
>4  2006-05-04    0.0117273730684326 -0.000140567894293015
>5  2006-05-05    0.0278876312559662    0.0106846618866864
>6  2006-05-08    -0.054792703150912                     0
>7  2006-05-09  -0.00357919854024857   -0.0119627208234803
>8  2006-05-10  0.000986054373855577  -0.00605378009291858
>9  2006-05-11  -0.00830284266816779   -0.0347025495750707
>10 2006-05-12  -0.00744997871434661  -0.00660308143800444
>11 2006-05-15  -0.00986489384516403   0.00132939438700153
>12 2006-05-16   0.00678651360912568   -0.0414515415252987
>13 2006-05-17   -0.0254571531014699   0.00430901815943369
>14 2006-05-18   -0.0300956585724798   -0.0318725099601594
>15 2006-05-19   0.00485547378802812      0.02105096549541
>16 2006-05-22   -0.0130615326538316   -0.0175166640830879
>17 2006-05-23    0.0155293757649939   -0.0036289050173557
>18 2006-05-24    0.0207909604519773   0.00300870942201116
>19 2006-05-25   0.00715814331045678    0.0156299336911903
>20 2006-05-26   0.00600820633059805   -0.0121249805689414
>Printing summary of df
>           date                    r2                    r1
>1  2006-05-01   -0.0573445954863402   -0.0112231851115216
>2  2006-05-02    0.0150507525376269    0.0290229885057473
>3  2006-05-03 -0.000275862068965462  -0.00670203853672164
>4  2006-05-04    0.0117273730684326 -0.000140567894293015
>5  2006-05-05    0.0278876312559662    0.0106846618866864
>6  2006-05-08    -0.054792703150912                     0
>7  2006-05-09  -0.00357919854024857   -0.0119627208234803
>8  2006-05-10  0.000986054373855577  -0.00605378009291858
>9  2006-05-11  -0.00830284266816779   -0.0347025495750707
>10 2006-05-12  -0.00744997871434661  -0.00660308143800444
>11 2006-05-15  -0.00986489384516403   0.00132939438700153
>12 2006-05-16   0.00678651360912568   -0.0414515415252987
>13 2006-05-17   -0.0254571531014699   0.00430901815943369
>14 2006-05-18   -0.0300956585724798   -0.0318725099601594
>15 2006-05-19   0.00485547378802812      0.02105096549541
>16 2006-05-22   -0.0130615326538316   -0.0175166640830879
>17 2006-05-23    0.0155293757649939   -0.0036289050173557
>18 2006-05-24    0.0207909604519773   0.00300870942201116
>19 2006-05-25   0.00715814331045678    0.0156299336911903
>20 2006-05-26   0.00600820633059805   -0.0121249805689414
>Computing linear model parameters
>Error in terms.formula(formula, data = data) :
>          argument is not a valid model
>
>
>Begin forwarded message:
>
>>  From: Adam Wizon <adamwizon at comcast.net>
>>  Date: June 28, 2006 10:58:35 AM EDT
>>  To: r-sig-mac at stat.math.ethz.ch
>>  Subject: [R-SIG-Mac] Passing data to lm using RSPerl
>>
>>  I have successfully installed RSPerl.  I am retrieving data from a
>>  database in Perl and trying to run a linear model.  I have read the
>>  documentation, but I do not quite understand how to set up the call
>>  to 'lm' inside Perl.  Can someone provide an example I can work
>>  from?  Thanks.
>>
>>  Adam Wizon
>>
>>  _______________________________________________
>>  R-SIG-Mac mailing list
>>  R-SIG-Mac at stat.math.ethz.ch
>>  https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
>	[[alternative HTML version deleted]]
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA


From timothy.c.bates at gmail.com  Mon Jul  3 21:41:22 2006
From: timothy.c.bates at gmail.com (Timothy Bates)
Date: Mon, 03 Jul 2006 20:41:22 +0100
Subject: [R-SIG-Mac] Keyboard navigation for help window?
Message-ID: <C0CF3172.3BC36%timothy.c.bates@gmail.com>

Hi all,
I think it would be handy if "cmd-[" and "cmd-]" were bound to the help page
(page) forward and back buttons, respectively.


This would gel with Safari usage


From terryacox at mac.com  Tue Jul  4 07:45:07 2006
From: terryacox at mac.com (Terry A. Cox)
Date: Tue, 4 Jul 2006 01:45:07 -0400
Subject: [R-SIG-Mac] Errors loading gmp library
In-Reply-To: <C2B82007-13FC-468F-9AC9-D2455647A395@r-project.org>
References: <EE3C1F44-C5F9-42C2-97B8-83EA3C687AB5@att.net>
	<C2B82007-13FC-468F-9AC9-D2455647A395@r-project.org>
Message-ID: <493A69EA-5805-4CAE-A6BF-73015154A43B@mac.com>

gmp loads when installed from http://R.research.att.com; however,  
running some of the functions (nextprime(), factorize()) in the  
library crashes R, something that has never happened to me when using  
R before (5+ years of experience on Mac, Windows, and Linux). The  
function isprime() works OK. I have not tried anything else in the  
library. (I have installed Xcode 2.2.1, and as I noted before I  
installed the most recent GNU MP library).

TAC


From randy.n.julie at gmail.com  Wed Jul  5 17:43:19 2006
From: randy.n.julie at gmail.com (Randall C. Johnson [Contr])
Date: Wed, 05 Jul 2006 11:43:19 -0400
Subject: [R-SIG-Mac] Error: package 'RODBC' was built for
	universal-apple-darwin8.6.1
Message-ID: <C0D15657.A79A%rjohnson@ncifcrf.gov>

Hello,
I recently installed RODBC (binary) on my G4 PowerBook, and I am not able to
load the library (I thought I had it working at one point). I also tried
installing from source, but I have other issues there... Any ideas? I did
upgrade to 10.4.7 this morning, could that have something to do with it?

Thanks,
Randy

> library(RODBC) # binary installation
Error: package 'RODBC' was built for universal-apple-darwin8.6.1

> library(RODBC) # source installation
Error in dyn.load(x, as.logical(local), as.logical(now)) :
    unable to load shared library
'/Library/Frameworks/R.framework/Versions/2.3/Resources/library/RODBC/libs/R
ODBC.so':
  
dlopen(/Library/Frameworks/R.framework/Versions/2.3/Resources/library/RODBC/
libs/RODBC.so, 6): Symbol not found: _libintl_dgettext
  Referenced from: 
/Library/Frameworks/R.framework/Versions/2.3/Resources/library/RODBC/libs/RO
DBC.so
  Expected in: flat namespace
Error: .onLoad failed in 'loadNamespace' for 'RODBC'
Error: package/namespace load failed for 'RODBC'

> sessionInfo()
Version 2.3.1 Patched (2006-06-27 r38436)
powerpc-apple-darwin8.6.0

attached base packages:
[1] "methods"   "stats"     "graphics"  "grDevices" "utils"     "datasets"
"base"   

### Here is the output from the source installation:

Barney:~/R-packs/base rjohnson$ sudo R CMD INSTALL RODBC_1.1-7.tar.gz
* Installing *source* package 'RODBC' ...
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
checking how to run the C preprocessor... gcc -E
checking for egrep... grep -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking sql.h usability... yes
checking sql.h presence... yes
checking for sql.h... yes
checking sqlext.h usability... yes
checking sqlext.h presence... yes
checking for sqlext.h... yes
checking for library containing SQLTables... -liodbc
checking for SQLLEN... yes
checking for SQLULEN... yes
checking for long... yes
checking size of long... 4
configure: creating ./config.status
config.status: creating src/Makevars
config.status: creating src/config.h
** libs
gcc -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/include
-I/Library/Frameworks/R.framework/Resources/include -I.  -I/sw/include
-I/usr/local/include   -fPIC -fno-common  -g -O2 -std=gnu99 -c RODBC.c -o
RODBC.o
gcc -flat_namespace -bundle -undefined suppress -L/sw/lib -L/usr/local/lib
-o RODBC.so RODBC.o -liodbc  -lcc_dynamic
-F/Library/Frameworks/R.framework/.. -framework R
** R
** inst
** preparing package for lazy loading
** help
 >>> Building/Updating help pages for package 'RODBC'
     Formats: text html latex example
  RODBC-internal                    text    html    latex
  RODBC                             text    html    latex   example
  RODBCtables                       text    html    latex   example
  odbc                              text    html    latex
  odbcClose                         text    html    latex
  odbcConnect                       text    html    latex   example
  odbcErrors                        text    html    latex
  odbcGetInfo                       text    html    latex   example
  odbcSetAutoCommit                 text    html    latex
  setSqlTypeInfo                    text    html    latex   example
  sqlCopy                           text    html    latex   example
  sqlFetch                          text    html    latex   example
  sqlQuery                          text    html    latex   example
  sqlSave                           text    html    latex   example
  sqlTables                         text    html    latex   example
  sqlTypeInfo                       text    html    latex
** building package indices ...
* DONE (RODBC)


~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Randall C Johnson
Bioinformatics Analyst
SAIC-Frederick, Inc (Contractor)
Laboratory of Genomic Diversity
NCI-Frederick, P.O. Box B
Bldg 560, Rm 11-85
Frederick, MD 21702
Phone: (301) 846-1304
Fax: (301) 846-1686
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


From simon.urbanek at r-project.org  Thu Jul  6 15:48:41 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 6 Jul 2006 09:48:41 -0400
Subject: [R-SIG-Mac] Error: package 'RODBC' was built for
	universal-apple-darwin8.6.1
In-Reply-To: <C0D15657.A79A%rjohnson@ncifcrf.gov>
References: <C0D15657.A79A%rjohnson@ncifcrf.gov>
Message-ID: <C1D7A91C-EB15-4709-94AD-78C145555DFC@r-project.org>

Randy,

On Jul 5, 2006, at 11:43 AM, Randall C. Johnson [Contr] wrote:

> I recently installed RODBC (binary) on my G4 PowerBook, and I am  
> not able to load the library (I thought I had it working at one  
> point). I also tried installing from source, but I have other  
> issues there... Any ideas? I did upgrade to 10.4.7 this morning,  
> could that have something to do with it?
>
>> library(RODBC) # binary installation
> Error: package 'RODBC' was built for universal-apple-darwin8.6.1
>

It seems that you have compiled R from sources as non-universal  
binary, so you're pretty much on your own, because that is not  
compatible with the CRAN binary of R.


>> library(RODBC) # source installation
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>     unable to load shared library
> '/Library/Frameworks/R.framework/Versions/2.3/Resources/library/ 
> RODBC/libs/R ODBC.so':
>
> dlopen(/Library/Frameworks/R.framework/Versions/2.3/Resources/ 
> library/RODBC/libs/RODBC.so, 6): Symbol not found: _libintl_dgettext

Pretty much the same answer - try re-compiling R and RODBC (also  
don't forget to delete the previously installed binary package!).  
According to the log you're using fink which supplies its own libintl  
so my guess would be that it's one of the problems. It's not uncommon  
that things break in fink after OS updates, but that's just a wild  
guess, so you may want to update your fink as well (or don't use it  
for R - sometimes it causes more harm than good due to compiler issues).

If you want to avoid having to compile everything yourself, my actual  
recommendation would be to use the CRAN binary to avoid problems like  
that, so you can use binary packages.

Cheers,
Simon


From rjohnson at ncifcrf.gov  Thu Jul  6 18:38:52 2006
From: rjohnson at ncifcrf.gov (Randall C Johnson [Contr.])
Date: Thu, 06 Jul 2006 12:38:52 -0400
Subject: [R-SIG-Mac] Error: package 'RODBC' was built for
 universal-apple-darwin8.6.1
In-Reply-To: <C1D7A91C-EB15-4709-94AD-78C145555DFC@r-project.org>
Message-ID: <C0D2B4DC.A80D%rjohnson@ncifcrf.gov>

Hello,
I did install R from the CRAN universal binary, but had installed RODBC from
source. Perhaps there were other problems with my installation as well...?
Anyhow, when I deleted and re-installed R again from the binary and started
out with the RODBC binary everything worked just fine.

Thanks,
Randy


On 7/6/06 9:48 AM, "Simon Urbanek" <simon.urbanek at r-project.org> wrote:

> Randy,
> 
> On Jul 5, 2006, at 11:43 AM, Randall C. Johnson [Contr] wrote:
> 
>> I recently installed RODBC (binary) on my G4 PowerBook, and I am
>> not able to load the library (I thought I had it working at one
>> point). I also tried installing from source, but I have other
>> issues there... Any ideas? I did upgrade to 10.4.7 this morning,
>> could that have something to do with it?
>> 
>>> library(RODBC) # binary installation
>> Error: package 'RODBC' was built for universal-apple-darwin8.6.1
>> 
> 
> It seems that you have compiled R from sources as non-universal
> binary, so you're pretty much on your own, because that is not
> compatible with the CRAN binary of R.
> 
> 
>>> library(RODBC) # source installation
>> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>>     unable to load shared library
>> '/Library/Frameworks/R.framework/Versions/2.3/Resources/library/
>> RODBC/libs/R ODBC.so':
>> 
>> dlopen(/Library/Frameworks/R.framework/Versions/2.3/Resources/
>> library/RODBC/libs/RODBC.so, 6): Symbol not found: _libintl_dgettext
> 
> Pretty much the same answer - try re-compiling R and RODBC (also
> don't forget to delete the previously installed binary package!).
> According to the log you're using fink which supplies its own libintl
> so my guess would be that it's one of the problems. It's not uncommon
> that things break in fink after OS updates, but that's just a wild
> guess, so you may want to update your fink as well (or don't use it
> for R - sometimes it causes more harm than good due to compiler issues).
> 
> If you want to avoid having to compile everything yourself, my actual
> recommendation would be to use the CRAN binary to avoid problems like
> that, so you can use binary packages.
> 
> Cheers,
> Simon
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Randall C Johnson
Bioinformatics Analyst
SAIC-Frederick, Inc (Contractor)
Laboratory of Genomic Diversity
NCI-Frederick, P.O. Box B
Bldg 560, Rm 11-85
Frederick, MD 21702
Phone: (301) 846-1304
Fax: (301) 846-1686
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


From papucho at mac.com  Thu Jul  6 21:30:00 2006
From: papucho at mac.com (Ivan Alves)
Date: Thu, 6 Jul 2006 21:30:00 +0200
Subject: [R-SIG-Mac] Error: package 'RODBC' was built for
	universal-apple-darwin8.6.1
In-Reply-To: <C0D2B4DC.A80D%rjohnson@ncifcrf.gov>
References: <C0D2B4DC.A80D%rjohnson@ncifcrf.gov>
Message-ID: <6175DEE6-2058-413C-8070-E4C1892C5337@mac.com>

I  experienced a similar problem:

compiled R from source using instructions from http:// 
wiki.urbanek.info/index.cgi?IntelMacR
installed RODBC from source via install.packages() [using the R GUI]  
- got the error about the versioning of Darwin
installed RODBC from binary - got a similar (but different version  
incompatibility) error about versioning
installed from Terminal, using "R CMD INSTALL RODBC_1.1-7.tar.gz" -  
it finally worked

Maybe some gurus can tell us why install.packages and RCMD INSTALL  
result in different versions being compiled?

Hope this is useful

Ivan

On 6 Jul 2006, at 18:38, Randall C Johnson [Contr.] wrote:

> Hello,
> I did install R from the CRAN universal binary, but had installed  
> RODBC from
> source. Perhaps there were other problems with my installation as  
> well...?
> Anyhow, when I deleted and re-installed R again from the binary and  
> started
> out with the RODBC binary everything worked just fine.
>
> Thanks,
> Randy
>
>
> On 7/6/06 9:48 AM, "Simon Urbanek" <simon.urbanek at r-project.org>  
> wrote:
>
>> Randy,
>>
>> On Jul 5, 2006, at 11:43 AM, Randall C. Johnson [Contr] wrote:
>>
>>> I recently installed RODBC (binary) on my G4 PowerBook, and I am
>>> not able to load the library (I thought I had it working at one
>>> point). I also tried installing from source, but I have other
>>> issues there... Any ideas? I did upgrade to 10.4.7 this morning,
>>> could that have something to do with it?
>>>
>>>> library(RODBC) # binary installation
>>> Error: package 'RODBC' was built for universal-apple-darwin8.6.1
>>>
>>
>> It seems that you have compiled R from sources as non-universal
>> binary, so you're pretty much on your own, because that is not
>> compatible with the CRAN binary of R.
>>
>>
>>>> library(RODBC) # source installation
>>> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>>>     unable to load shared library
>>> '/Library/Frameworks/R.framework/Versions/2.3/Resources/library/
>>> RODBC/libs/R ODBC.so':
>>>
>>> dlopen(/Library/Frameworks/R.framework/Versions/2.3/Resources/
>>> library/RODBC/libs/RODBC.so, 6): Symbol not found: _libintl_dgettext
>>
>> Pretty much the same answer - try re-compiling R and RODBC (also
>> don't forget to delete the previously installed binary package!).
>> According to the log you're using fink which supplies its own libintl
>> so my guess would be that it's one of the problems. It's not uncommon
>> that things break in fink after OS updates, but that's just a wild
>> guess, so you may want to update your fink as well (or don't use it
>> for R - sometimes it causes more harm than good due to compiler  
>> issues).
>>
>> If you want to avoid having to compile everything yourself, my actual
>> recommendation would be to use the CRAN binary to avoid problems like
>> that, so you can use binary packages.
>>
>> Cheers,
>> Simon
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> Randall C Johnson
> Bioinformatics Analyst
> SAIC-Frederick, Inc (Contractor)
> Laboratory of Genomic Diversity
> NCI-Frederick, P.O. Box B
> Bldg 560, Rm 11-85
> Frederick, MD 21702
> Phone: (301) 846-1304
> Fax: (301) 846-1686
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From lyon at fnal.gov  Fri Jul  7 05:30:08 2006
From: lyon at fnal.gov (Adam Lyon)
Date: Thu, 06 Jul 2006 22:30:08 -0500
Subject: [R-SIG-Mac] Wrong architecture when using "R CMD COMPILE"
Message-ID: <2389DFC3-5CC9-49CC-97F6-15A6E2DE9E4F@fnal.gov>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060706/f3594cba/attachment.pl 

From grh25 at cornell.edu  Fri Jul  7 21:38:38 2006
From: grh25 at cornell.edu (Geoffrey Hutchison)
Date: Fri, 7 Jul 2006 15:38:38 -0400
Subject: [R-SIG-Mac] Double-Click on Quartz device to Set Graph
	Parameters?
Message-ID: <4E616A17-3AF4-42C2-AD05-0932CCB9B303@cornell.edu>

Hi,

I'm a longtime R user and really love the R.app version for Mac OS X.  
One thing I've noticed I do frequently is to double click on a graph  
in the Quartz device to try to set the parameters (e.g., font, size,  
marker, color...). Maybe I'm just too used to programs like Excel,  
Keynote, Aabel, Kaleidagraph, ChartSmith, etc. which do this on the Mac.

So I'm curious if this is a possible future feature for the Quartz  
device? I'm thinking just a generic double click opens a Parameters  
dialog for the whole thing. (Somehow, I think this would be easier  
than trying to differentiate between clicks on different regions in  
the device.)

I guess while I'm asking for wish-list items, it'd be great to see  
support for LinkBack (http://linkbackproject.org/) so that pasting a  
graph in Keynote would let me edit and open up R.app with the  
appropriate workspace.

Thanks for all the hard work on R.app and keep up the great work!
-Geoff

--
-Dr. Geoffrey Hutchison        <grh25 at cornell.edu>
Cornell University, Department of Chemistry and Chemical Biology
Abru?a Group                http://abruna.chem.cornell.edu/


From tlumley at u.washington.edu  Sat Jul  8 00:33:36 2006
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 7 Jul 2006 15:33:36 -0700 (PDT)
Subject: [R-SIG-Mac] ftp on new macs
Message-ID: <Pine.LNX.4.64.0607071528350.9075@homer23.u.washington.edu>


On my new macbook I have had trouble sending things to CRAN by ftp. This 
message is intended to provide help for people with similar difficulties, 
and to see if there are better solutions.

The ftp client tries to use Extended Passive Mode for the transfer, and 
nothing happens until it times out (except that a zero-length file is 
created at the other end, preventing a second try). I don't know whether 
the problem is in the firewall or at CRAN, but in any case it doesn't 
work.

Something that does work is to use the ftp command
   epsv4
at the start of the session (at least before the put command).  This makes 
the ftp client use the old-fashioned passive mode rather than extended 
passive mode.  It seems that there should be a better solution, but I 
don't know what it is.

 	-thomas

Thomas Lumley			Assoc. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


From simon.urbanek at r-project.org  Sat Jul  8 02:02:02 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 7 Jul 2006 20:02:02 -0400
Subject: [R-SIG-Mac] Wrong architecture when using "R CMD COMPILE"
In-Reply-To: <2389DFC3-5CC9-49CC-97F6-15A6E2DE9E4F@fnal.gov>
References: <2389DFC3-5CC9-49CC-97F6-15A6E2DE9E4F@fnal.gov>
Message-ID: <F854BF77-E521-4176-83D0-45E9E874EA6B@r-project.org>


On Jul 6, 2006, at 11:30 PM, Adam Lyon wrote:

> Hi,
>
> I have a Powerbook G4 and I've installed R 2.3.1. When I try to  
> install a package that involves compilation, like ROracle, I find  
> that "R CMD COMPILE" uses arch=i386 instead of ppc.

Ah, yes, it's a bug, COMPILE was not adapted to support multiple  
architectures - I'll fix that. Currently you have to use R CMD SHLIB  
instead as a work-around.

Cheers,
Simon


From simon.urbanek at r-project.org  Sat Jul  8 02:11:39 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 7 Jul 2006 20:11:39 -0400
Subject: [R-SIG-Mac] ftp on new macs
In-Reply-To: <Pine.LNX.4.64.0607071528350.9075@homer23.u.washington.edu>
References: <Pine.LNX.4.64.0607071528350.9075@homer23.u.washington.edu>
Message-ID: <FF127485-BD0A-4B12-9E3E-E57AD2EFA9F4@r-project.org>

Thomas,

On Jul 7, 2006, at 6:33 PM, Thomas Lumley wrote:

>
> On my new macbook I have had trouble sending things to CRAN by ftp.  
> This  message is intended to provide help for people with similar  
> difficulties,  and to see if there are better solutions.
>

I'm not sure which FTP client you use, but this seems to work just  
fine (and thanks for pointing out the issue!):

curl --disable-epsv -T MYPACKAGE ftp://cran.R-project.org/incoming/

Cheers,
Simon


From vqv at stat.Berkeley.EDU  Sat Jul  8 05:10:19 2006
From: vqv at stat.Berkeley.EDU (Vincent Vu)
Date: Fri, 7 Jul 2006 21:10:19 -0600
Subject: [R-SIG-Mac] R.app source repository?
Message-ID: <B28F2BE3-B115-41FE-B7F1-B592D67480D8@stat.Berkeley.EDU>

I've searched the FAQ and Simon Urbanek's pages and can't seem to  
find information on the development of R.app.  I've found nightly  
builds, but I can't seem to find the source code.  Is there a  
repository where it is being kept?  There are older tarballs on CRAN,  
but not of the development version.

-Vince


From simon.urbanek at r-project.org  Sat Jul  8 06:25:27 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 8 Jul 2006 00:25:27 -0400
Subject: [R-SIG-Mac] R.app source repository?
In-Reply-To: <B28F2BE3-B115-41FE-B7F1-B592D67480D8@stat.Berkeley.EDU>
References: <B28F2BE3-B115-41FE-B7F1-B592D67480D8@stat.Berkeley.EDU>
Message-ID: <8F35A3C4-3FD5-4043-8056-6515B54FFC9C@r-project.org>


On Jul 7, 2006, at 11:10 PM, Vincent Vu wrote:

> I've searched the FAQ and Simon Urbanek's pages and can't seem to   
> find information on the development of R.app.  I've found nightly   
> builds, but I can't seem to find the source code.  Is there a   
> repository where it is being kept?  There are older tarballs on  
> CRAN,  but not of the development version.
>

The sources are kept in the SVN repository. To check out the latest  
development version, use

svn co https://svn.r-project.org/R-packages/trunk/Mac-GUI

Apparently the instructions disappeared from the website. I have just  
added them to the FAQ.

Thanks,
Simon


From bibiko at eva.mpg.de  Thu Jul 13 15:59:07 2006
From: bibiko at eva.mpg.de (Hans-Joerg Bibiko)
Date: Thu, 13 Jul 2006 15:59:07 +0200
Subject: [R-SIG-Mac] VERY TINY question: missing function to clear the
	console?
Message-ID: <FCFF241E-951F-4894-87D1-D92816AB697E@eva.mpg.de>

Dear all,

I'm using R 2.3.1 on Mac OSX 10.4.7 via R.app GUI.

For presentation purposes I would like to clear to whole console  
window (like in a UNIX terminal: 'clear').

Is there such a function?

If not, I could image that is not too hard to write such a function. (?)

Many thanks in advance,

Hans

BTW I posted that question already in the R-help mailing list. The  
answers were for Windows 'ctrl+l', for Mac running R in X11 'system 
("clear")', but no answer for Mac running R via the nice GUI.

**********************************************************
Hans-Joerg Bibiko
Max Planck Institute for Evolutionary Anthropology
Department of Linguistics
Deutscher Platz 6     phone:   +49 (0) 341 3550 341
D-04103 Leipzig       fax:     +49 (0) 341 3550 333
Germany               e-mail:  bibiko at eva.mpg.de


From murdoch at stats.uwo.ca  Fri Jul 14 01:10:00 2006
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Thu, 13 Jul 2006 19:10:00 -0400
Subject: [R-SIG-Mac] Start R with --save?
Message-ID: <44B6D2C8.80209@stats.uwo.ca>

I am not sure if the command line arg --save is supposed to be supported 
by R.app, but it doesn't
work.  When I start R from a Terminal command line with command line 
option  --save:

/Applications/R.app/Contents/MacOS/R --save

instead of a silent save, I get the Unix-style prompt in the console:

Save workspace image? [y/n/c]:

If this isn't the way to specify that I want an automatic save, what is?

Duncan Murdoch


From simon.urbanek at r-project.org  Fri Jul 14 05:42:26 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 13 Jul 2006 23:42:26 -0400
Subject: [R-SIG-Mac] Start R with --save?
In-Reply-To: <44B6D2C8.80209@stats.uwo.ca>
References: <44B6D2C8.80209@stats.uwo.ca>
Message-ID: <8B75D812-DCB2-4047-A291-FA62ADD3C94B@r-project.org>


On Jul 13, 2006, at 7:10 PM, Duncan Murdoch wrote:

> I am not sure if the command line arg --save is supposed to be  
> supported
> by R.app,

No, it's not supposed to be supported. R.app ignores all command line  
arguments, because it assumes that it was started using LS (which  
supply their own special arguments). The command-line R of course  
supports all arguments as documented, but it has nothing to do with  
R.app.

As a matter of fact R.app starts R with --no-save --gui=cocoa, but  
R.app sets SaveAction to SA_SAVEASK during initialization but after  
parsing of arguments. The quit dialog is handled via  
windowShouldClose: message instead.

This is not set in stone - just the status-quo.

> but it doesn't
> work.  When I start R from a Terminal command line with command line
> option  --save:
>
> /Applications/R.app/Contents/MacOS/R --save
>

This is not the way to start R from the command line - for the GUI it's
open R.app
also note that LS send "arguments" such as files to open via Apple  
Events and not via command line (e.g. open -a R.app fool.R does not  
result in .../MacOS/R foo.R)
For the console version it's
R
(or more precisely /Library/Frameworks/R.framework/Resources/bin/R if  
the user removed the convenience softlink for some reason).


> instead of a silent save, I get the Unix-style prompt in the console:
>
> Save workspace image? [y/n/c]:
>
> If this isn't the way to specify that I want an automatic save,  
> what is?
>


The GUI has currently no way to specify automatic save. One option  
would be to add a preferences setting (probably the most native way),  
others include environment option or command-line arguments. As I was  
saying earlier, the problem with command-line arguments is that they  
cannot be used with LS, and manual startup without LS is not a  
supported way (it works for now, but at times there were problems  
with it, because the system settings are entirely different for an  
application started w/o LS).

I guess the reason why this didn't come up in practice is that the  
GUI has an integrated editor, so there is no such thing as --save,  
because you still need to specify filenames for unsaved untitled  
files, decide what to do with unsaved changes etc., so --save may be  
potentially confusing.

Nevertheless, I'm open to any requests - a modification it pretty  
easy to implement.

Cheers,
Simon


From ellis at stat.harvard.edu  Fri Jul 14 07:19:14 2006
From: ellis at stat.harvard.edu (Byron Ellis)
Date: Thu, 13 Jul 2006 22:19:14 -0700
Subject: [R-SIG-Mac] Start R with --save?
In-Reply-To: <8B75D812-DCB2-4047-A291-FA62ADD3C94B@r-project.org>
References: <44B6D2C8.80209@stats.uwo.ca>
	<8B75D812-DCB2-4047-A291-FA62ADD3C94B@r-project.org>
Message-ID: <0D159A21-DD9F-4947-9829-F3AC19CDE9A7@stat.harvard.edu>

I would vote for a preference option, because I actually like the  
opposite behavior (--no-save) by default :-)

On Jul 13, 2006, at 8:42 PM, Simon Urbanek wrote:

>
> On Jul 13, 2006, at 7:10 PM, Duncan Murdoch wrote:
>
>> I am not sure if the command line arg --save is supposed to be
>> supported
>> by R.app,
>
> No, it's not supposed to be supported. R.app ignores all command line
> arguments, because it assumes that it was started using LS (which
> supply their own special arguments). The command-line R of course
> supports all arguments as documented, but it has nothing to do with
> R.app.
>
> As a matter of fact R.app starts R with --no-save --gui=cocoa, but
> R.app sets SaveAction to SA_SAVEASK during initialization but after
> parsing of arguments. The quit dialog is handled via
> windowShouldClose: message instead.
>
> This is not set in stone - just the status-quo.
>
>> but it doesn't
>> work.  When I start R from a Terminal command line with command line
>> option  --save:
>>
>> /Applications/R.app/Contents/MacOS/R --save
>>
>
> This is not the way to start R from the command line - for the GUI  
> it's
> open R.app
> also note that LS send "arguments" such as files to open via Apple
> Events and not via command line (e.g. open -a R.app fool.R does not
> result in .../MacOS/R foo.R)
> For the console version it's
> R
> (or more precisely /Library/Frameworks/R.framework/Resources/bin/R if
> the user removed the convenience softlink for some reason).
>
>
>> instead of a silent save, I get the Unix-style prompt in the console:
>>
>> Save workspace image? [y/n/c]:
>>
>> If this isn't the way to specify that I want an automatic save,
>> what is?
>>
>
>
> The GUI has currently no way to specify automatic save. One option
> would be to add a preferences setting (probably the most native way),
> others include environment option or command-line arguments. As I was
> saying earlier, the problem with command-line arguments is that they
> cannot be used with LS, and manual startup without LS is not a
> supported way (it works for now, but at times there were problems
> with it, because the system settings are entirely different for an
> application started w/o LS).
>
> I guess the reason why this didn't come up in practice is that the
> GUI has an integrated editor, so there is no such thing as --save,
> because you still need to specify filenames for unsaved untitled
> files, decide what to do with unsaved changes etc., so --save may be
> potentially confusing.
>
> Nevertheless, I'm open to any requests - a modification it pretty
> easy to implement.
>
> Cheers,
> Simon
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

---
Byron Ellis (ellis at stat.harvard.edu)
"Oook" -- The Librarian


From simon.urbanek at r-project.org  Fri Jul 14 07:49:37 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 14 Jul 2006 01:49:37 -0400
Subject: [R-SIG-Mac] Start R with --save?
In-Reply-To: <0D159A21-DD9F-4947-9829-F3AC19CDE9A7@stat.harvard.edu>
References: <44B6D2C8.80209@stats.uwo.ca>
	<8B75D812-DCB2-4047-A291-FA62ADD3C94B@r-project.org>
	<0D159A21-DD9F-4947-9829-F3AC19CDE9A7@stat.harvard.edu>
Message-ID: <90A67B4F-937D-451C-B51A-9B3B4E165C17@r-project.org>


On Jul 14, 2006, at 1:19 AM, Byron Ellis wrote:

> I would vote for a preference option, because I actually like the  
> opposite behavior (--no-save) by default :-)
>

Ok, now implemented in 3317. For now there is no UI for it, so you  
can set it only from the shell, e.g.:

defaults write org.R-project.R save.on.exit -string no

Possible values are (strings, case-sensitive): yes/no/ask. Anything  
other than yes/no is treated as "ask". The setting applies only to  
the console, it has no effect on editor windows.

Cheers,
Simon


From HStevens at MUOhio.edu  Mon Jul 17 21:52:24 2006
From: HStevens at MUOhio.edu (Martin Henry H. Stevens)
Date: Mon, 17 Jul 2006 15:52:24 -0400
Subject: [R-SIG-Mac] [R] storing the estimates from lmer
In-Reply-To: <40e66e0b0607171242i73f7238rf2c2be99911878b4@mail.gmail.com>
References: <bb47cf700607110818m782a98c5le08396d2fca203a@mail.gmail.com>
	<44B921BD.8090401@pdf.com>
	<40e66e0b0607151139i7350d22bteacfaa61aa94a1f8@mail.gmail.com>
	<148ed8180607171059p59327568o9a5c9a2dfda0f813@mail.gmail.com>
	<40e66e0b0607171242i73f7238rf2c2be99911878b4@mail.gmail.com>
Message-ID: <FC8BF5DF-DDFF-49CD-AFCD-6CE465B33934@MUOhio.edu>

Hi Doug,
I, for one, am learning a lot of theoretical and applied statistics  
by following these threads. I would love to continue to be able to  
eavesdrop, either on r-help, or elsewhere.
Regards,
Hank Stevens
On Jul 17, 2006, at 3:42 PM, Douglas Bates wrote:

> On 7/17/06, G?ran Brostr?m <goran.brostrom at gmail.com> wrote:
>> On 7/15/06, Douglas Bates <bates at stat.wisc.edu> wrote:
>> [....]
>>> <rant>
>>> Some software, notably SAS PROC MIXED, does produce standard errors
>>> for the estimates of variances and covariances of random  
>>> effects.  In
>>> my opinion this is more harmful than helpful.  The only use I can
>>> imagine for such standard errors is to form confidence intervals  
>>> or to
>>> evaluate a z-statistic or something like that to be used in a
>>> hypothesis test.  However, those uses require that the  
>>> distribution of
>>> the parameter estimate be symmetric, or at least approximately
>>> symmetric, and we know that the distribution of the estimate of a
>>> variance component is more like a scaled chi-squared distribution
>>> which is anything but symmetric.
>>
>> You should add ..."when the true value of the variance is (close to)
>> zero", I guess. Or does not standard asymptotic ML theory apply to
>> these models? BTW, what is a
>> "scaled chi-squared distribution"?
>
> Consider a simple case of an iid sample from a normal distribution
> with mean $\mu$ and variance $\sigma^2$.  In that case the sample
> variance $s^2$ has a $\sigma^2\chi^2$ distribution with n-1 degrees of
> freedom.  (Either that or I have been seriously misinforming my intro
> statistics classes for several years now.)  That's all I meant by a
> "scaled chi-squared distribution".
>
> All I am claiming here is that estimates of other variance components
> in more complicated models have a similar behavior, not exactly this
> behavior.  The point is that they would not be expected to have nice,
> symmetric distributions that can be characterized by the estimate and
> a standard error of the estimate.  If you create a Markov chain Monte
> Carlo sample from a fitted lmer object you generally find that the
> logarithm of a variance component has a posterior distribution that is
> close to symmetric.  Depending on how precisely the variance component
> is estimated, the distribution of the variance component itself can be
> far from symmetric.
>
> If it still seems that I am stating things too loosely then perhaps we
> could correspond off-list and I could try to explain more clearly what
> I am claiming.
>
> ______________________________________________
> R-help at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide! http://www.R-project.org/posting- 
> guide.html

Dr. M. Hank H. Stevens, Assistant Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.cas.muohio.edu/~stevenmh/
http://www.muohio.edu/ecology/
http://www.muohio.edu/botany/
"E Pluribus Unum"


From DJ.Rick.Bates at pnl.gov  Wed Jul 19 00:24:44 2006
From: DJ.Rick.Bates at pnl.gov (Derrick J -Rick- Bates)
Date: Tue, 18 Jul 2006 15:24:44 -0700
Subject: [R-SIG-Mac] R Workspace Browser
In-Reply-To: <17533.25072.766658.235043@musil.localdomain>
References: <89E52A94-72DE-43B2-9535-D3FBF7012D82@sheffield.ac.uk>
	<17533.25072.766658.235043@musil.localdomain>
Message-ID: <p06240508c0e30ecef6a6@[130.20.54.51]>

R-GUI-3332-2.3-Deployment.dmg

Workspace / Workspace Browser
opens an empty R Workspace Browser window
and results in

Error in if (nm[i] == "") nm[i] <- paste("[[", i, "]]", sep = "") :
	missing value where TRUE/FALSE needed

-- 

----------------------------------------------------------------------
  Derrick J. (Rick) Bates              | mailto:DJ.Rick.Bates at PNL.gov
  Statistical Sciences                 | http://www.PNL.gov/Statistics
  Sigma 2/524 , MSIN K6-08             |     Voice: 509.375.2740
  Pac-NW National Lab (PNNL), Battelle |       FAX: 509.375.2604
  P.O. Box 999, Richland, WA 99352 US  |  ALL POSSIBLE DISCLAIMERS


From DJ.Rick.Bates at pnl.gov  Wed Jul 19 00:31:29 2006
From: DJ.Rick.Bates at pnl.gov (Derrick J -Rick- Bates)
Date: Tue, 18 Jul 2006 15:31:29 -0700
Subject: [R-SIG-Mac] R Workspace Browser
In-Reply-To: <p06240508c0e30ecef6a6@[130.20.54.51]>
References: <89E52A94-72DE-43B2-9535-D3FBF7012D82@sheffield.ac.uk>
	<17533.25072.766658.235043@musil.localdomain>
	<p06240508c0e30ecef6a6@[130.20.54.51]>
Message-ID: <p06240509c0e3117695e5@[130.20.54.51]>


	Additional info:

	I start R by double clicking a .RData file I received from a PC user

At 2006-07-18 15:24 -0700, Derrick J -Rick- Bates wrote:
>
>R-GUI-3332-2.3-Deployment.dmg
>
>Workspace / Workspace Browser
>opens an empty R Workspace Browser window
>and results in
>
>Error in if (nm[i] == "") nm[i] <- paste("[[", i, "]]", sep = "") :
>	missing value where TRUE/FALSE needed

-- 

----------------------------------------------------------------------
  Derrick J. (Rick) Bates              | mailto:DJ.Rick.Bates at PNL.gov
  Statistical Sciences                 | http://www.PNL.gov/Statistics
  Sigma 2/524 , MSIN K6-08             |     Voice: 509.375.2740
  Pac-NW National Lab (PNNL), Battelle |       FAX: 509.375.2604
  P.O. Box 999, Richland, WA 99352 US  |  ALL POSSIBLE DISCLAIMERS


From hpages at fhcrc.org  Wed Jul 19 03:22:03 2006
From: hpages at fhcrc.org (Herve Pages)
Date: Tue, 18 Jul 2006 18:22:03 -0700
Subject: [R-SIG-Mac] install.packages
Message-ID: <44BD893B.2080708@fhcrc.org>

Hi,

Does anyone know why, on MacOS X, install.packages() is issuing this 
warning:

  number of rows of result
          is not a multiple of vector length (arg 2) in: cbind(1, res0, 
Repository = repos)

when it's given a repos vector of length >= 4?

To reproduce, do:

  > repos <- c("http://bioconductor.org/packages/1.8/bioc",
               "http://bioconductor.org/packages/1.8/data/annotation",
               "http://bioconductor.org/packages/1.8/data/experiment",
               "http://bioconductor.org/packages/1.8/omegahat",
               "http://bioconductor.org/packages/1.8/lindsey",
               "http://cran.fhcrc.org")
  > install.packages("Biobase", repos=repos)

Is it a known issue? Are there plans to address it?
Thanks,

H.


-- 
------------------------
Herv? Pag?s
E-mail: hpages at fhcrc.org
Phone: (206) 667-5791
Fax: (206) 667-1319


From sfalcon at fhcrc.org  Wed Jul 19 05:12:18 2006
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Tue, 18 Jul 2006 20:12:18 -0700
Subject: [R-SIG-Mac] install.packages
In-Reply-To: <44BD893B.2080708@fhcrc.org> (Herve Pages's message of "Tue,
	18 Jul 2006 18:22:03 -0700")
References: <44BD893B.2080708@fhcrc.org>
Message-ID: <m2y7uqqodp.fsf@ziti.local>

Herve Pages <hpages at fhcrc.org> writes:

> Hi,
>
> Does anyone know why, on MacOS X, install.packages() is issuing this 
> warning:
>
>   number of rows of result
>           is not a multiple of vector length (arg 2) in: cbind(1, res0, 
> Repository = repos)
>
> when it's given a repos vector of length >= 4?

Actually, I think this occurs when a repository doesn't have any OSX
packages.  The lindsey repository has no OSX packages AFAIK.  You can
reproduce the warning using repos=repos[c(1, 5)].

The warning comes from available.packages (packages.R:67).

I suspect something like the following would be a reasonable fix:

--- a/src/library/utils/R/packages.R
+++ b/src/library/utils/R/packages.R
@@ -64,8 +64,10 @@ available.packages <-
                 on.exit()
             } # end of download vs cached
         } # end of localcran vs online
-        res0 <- cbind(res0, Repository = repos)
-        res <- rbind(res, res0)
+        if(length(res0)) {
+            res0 <- cbind(res0, Repository = repos)
+            res <- rbind(res, res0)
+        }
     }

I'm pretty sure this would come up for other platforms, it is just
more common for CRAN-style repositories to not have any OS X binaries
available.

Best,

+ seth


From macq at llnl.gov  Wed Jul 19 06:39:29 2006
From: macq at llnl.gov (Don MacQueen)
Date: Tue, 18 Jul 2006 21:39:29 -0700
Subject: [R-SIG-Mac] install.packages
In-Reply-To: <m2y7uqqodp.fsf@ziti.local>
References: <44BD893B.2080708@fhcrc.org> <m2y7uqqodp.fsf@ziti.local>
Message-ID: <p06230901c0e3679510f1@[192.168.2.2]>

If this explanation is correct (I haven't attempted to verify) then try adding
    type='source'
to the invocation of install.packages().

-Don

At 8:12 PM -0700 7/18/06, Seth Falcon wrote:
>Herve Pages <hpages at fhcrc.org> writes:
>
>>  Hi,
>>
>>  Does anyone know why, on MacOS X, install.packages() is issuing this
>>  warning:
>>
>>    number of rows of result
>>            is not a multiple of vector length (arg 2) in: cbind(1, res0,
>>  Repository = repos)
>>
>>  when it's given a repos vector of length >= 4?
>
>Actually, I think this occurs when a repository doesn't have any OSX
>packages.

In binary format, that is.

>  The lindsey repository has no OSX packages AFAIK.  You can
>reproduce the warning using repos=repos[c(1, 5)].
>
>The warning comes from available.packages (packages.R:67).
>
>I suspect something like the following would be a reasonable fix:
>
>--- a/src/library/utils/R/packages.R
>+++ b/src/library/utils/R/packages.R
>@@ -64,8 +64,10 @@ available.packages <-
>                  on.exit()
>              } # end of download vs cached
>          } # end of localcran vs online
>-        res0 <- cbind(res0, Repository = repos)
>-        res <- rbind(res, res0)
>+        if(length(res0)) {
>+            res0 <- cbind(res0, Repository = repos)
>+            res <- rbind(res, res0)
>+        }
>      }
>
>I'm pretty sure this would come up for other platforms, it is just
>more common for CRAN-style repositories to not have any OS X binaries
>available.
>
>Best,
>
>+ seth
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
---------------------------------
Don MacQueen
Lawrence Livermore National Laboratory
Livermore, CA, USA


From sfalcon at fhcrc.org  Wed Jul 19 08:15:56 2006
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Tue, 18 Jul 2006 23:15:56 -0700
Subject: [R-SIG-Mac] install.packages
In-Reply-To: <p06230901c0e3679510f1@[192.168.2.2]> (Don MacQueen's message of
	"Tue, 18 Jul 2006 21:39:29 -0700")
References: <44BD893B.2080708@fhcrc.org> <m2y7uqqodp.fsf@ziti.local>
	<p06230901c0e3679510f1@[192.168.2.2]>
Message-ID: <m2d5c2qfvn.fsf@ziti.local>

Don MacQueen <macq at llnl.gov> writes:

> If this explanation is correct (I haven't attempted to verify) then try adding
>    type='source'
> to the invocation of install.packages().

Right, since the repository in question has source packages, you won't
get the warning message.  The point is that the warning message is due
to the code not being careful about handling the case where a given
repository doesn't have any packages of the requested type.


From simon.urbanek at r-project.org  Wed Jul 19 16:18:13 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 19 Jul 2006 10:18:13 -0400
Subject: [R-SIG-Mac] [Rd] [BioC] Errors using biocLite on Apple OS X
In-Reply-To: <0BE438149FF2254DB4199E2682C8DFEB01D55497@crcmail1.BCCRC.CA>
References: <0BE438149FF2254DB4199E2682C8DFEB01D55493@crcmail1.BCCRC.CA>
	<44BD3BC8.9050500@fhcrc.org>
	<0BE438149FF2254DB4199E2682C8DFEB01D55497@crcmail1.BCCRC.CA>
Message-ID: <5DA89313-8FAB-4146-8780-624CB2DCCC3E@r-project.org>

Steven,

short story: now fixed in R-devel. The long story:

On Jul 18, 2006, at 8:15 PM, Steven McKinney wrote:

> The warnings from
>
>  make.packages.html()
>
> on the Apple Mac OS X platform can be dealt
> with as follows:
>

The warning appears for a completely different reason -  
make.packages.html() assumes that HTML help was started and created  
all necessary links which is not the case in the R Mac OS X GUI,  
until you request one of the temporarily generated pages. The idea of  
make.packages.html is to update the  temporary copy of HTML  
documentation on installation such that packages list is up-to-date,  
but since the R GUI generates the files only on-demand, there is no  
need for such update if no temporary documentation was requested yet,  
and so updating doesn't make sense (and the warning can be ignored).  
The correct fix is not not run make.packages.html() at all if the  
temporarily generated list doesn't exist and I have fixed that now  
for R-devel.

All your 'work-arounds' are bogus - may have asked on R-SIG-Mac to  
save you the trouble of going in a completely wrong direction -  just  
invoke the main help page (<Cmd><?>) before installing and the  
temporary help files will be created.


> ------------------------------------------------
> (1)
>
> make.packages.html() uses the function tempdir() and attempts to  
> create a temporary directory in the default location /tmp/ which  
> fails due to the /tmp directory architecture on the Mac.
>

This is of course nonsense. Mac OS X uses /tmp as many other unix  
systems do and it is available (tempdir() works as well).


> (2)
>
> The function make.packages.html() attempts to create a couple of  
> files, but fails on Mac OS X. Apparently a directory must already  
> exist for file.create() to successfully establish a new file in it.
>

Yes, it fails because it expects the help system to have created them  
already and you're not supposed to mess with that manually. (Again,  
this is not Mac-specific - until help.start is invoked, the  
directories are not there on any unix).


> However, when biocLite() runs, it does not access my redefined  
> make.packages.html() in .Globalenv - the bioclite() call appears to  
> always call the package:utils copy of this function.
>

Yes, that is intentional, thanks to namespaces.


> Thanks to Herve Pages for his excellent summarization of the issues  
> arising when running biocLite on the Mac.
>

For the record, the other warning mentioned appears when installing  
from empty repositories - it is not Mac specific. (The lindsey  
repository is empty on Bioc, because none of the packages compiles).  
I have now also committed the fix (thanks to Seth for the correct  
analysis and fix).

Cheers,
Simon


> -----Original Message-----
> From: Herve Pages [mailto:hpages at fhcrc.org]
> Sent: Tue 7/18/2006 12:51 PM
> To: Steven McKinney
> Cc: Bioconductor at stat.math.ethz.ch
> Subject: Re: [BioC] Errors using biocLite on Apple OS X
>
> Hi Steven,
>
> I can see warnings only in what you reported. These warnings
> are well-known issues but are not biocLite problems: they are
> Mac OS X install.packages() specific issues.
>
> The first warning:
>   1: number of rows of result
>        is not a multiple of vector length (arg 2) in: cbind(1, res0,
> Repository = repos)
> is issued by install.packages() when it is given a repos vector with
> length >= 4.
> You can easily reproduce it with:
>> repos <- c("http://bioconductor.org/packages/1.8/bioc",
>      "http://bioconductor.org/packages/1.8/data/annotation",
>      "http://bioconductor.org/packages/1.8/data/experiment",
>      "http://bioconductor.org/packages/1.8/omegahat",
>      "http://bioconductor.org/packages/1.8/lindsey",
>      "http://cran.fhcrc.org")
>> install.packages("Biobase", repos=repos)
>
> The second warning is a permission issue specific to Mac OS X.
>
> Anyway, these warnings should not prevent biocLite to install the  
> requested
> packages correctly.
>
> Cheers,
>
> H.
>
>
> Steven McKinney wrote:
>> I've recently started using R and Bioconductor
>> on an Apple Mac running OS X (10.4). I've been
>> installing packages from the *nix command line,
>> one by one, no trouble.
>>
>> I would like to be able to update using
>> biocLite from the R gui, but keep getting
>> errors.
>>
>>
>>> version
>> _
>> platform powerpc-apple-darwin8.6.0
>> arch powerpc
>> os darwin8.6.0
>> system powerpc, darwin8.6.0
>> status
>> major 2
>> minor 3.1
>> year 2006
>> month 06
>> day 01
>> svn rev 38247
>> language R
>> version.string Version 2.3.1 (2006-06-01)
>>
>>
>>> source("http://bioconductor.org/biocLite.R")
>>> biocLite("Biobase", destdir =
>>> "/Volumes/KilroyHD/kilroy/Software/BioConductor")
>> Running getBioC version 0.1.6 with R version 2.3.1
>> Running biocinstall version 1.8.4 with R version 2.3.1
>> Your version of R requires version 1.8 of Bioconductor.
>> trying URL
>> 'http://bioconductor.org/packages/1.8/bioc/bin/macosx/powerpc/ 
>> contrib/2.3/Biobase_1.10.1.tgz'
>> Content type 'application/x-gzip' length 1465858 bytes
>> opened URL
>> ==================================================
>> downloaded 1431Kb
>>
>> Warning messages:
>> 1: number of rows of result
>> is not a multiple of vector length (arg 2) in: cbind(1, res0,
>> Repository = repos)
>> 2: cannot create HTML package index in: make.packages.html()
>>
>>
>> I am using version 1.10.1 of Biobase, I presume this is the
>> version number for Bioconductor.
>>
>> I see a few others reporting similar errors
>> when I google this issue, but I see no posted
>> solutions. Can anyone see what I am doing wrong,
>> and is there a solution?
>>
>> Any info appreciated
>>
>>
>> Best regards
>>
>> Steven McKinney
>>
>> Statistician
>> Molecular Oncology and Breast Cancer Program
>> British Columbia Cancer Research Centre
>>
>> email: smckinney at bccrc.ca
>>
>>
>>
>> BCCRC
>> Molecular Oncology
>> 675 West 10th Ave, Floor 4
>> Vancouver B.C.
>> V5Z 1L3
>> Canada
>>
>> _______________________________________________
>> Bioconductor mailing list
>> Bioconductor at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/bioconductor
>> Search the archives:
>> http://news.gmane.org/gmane.science.biology.informatics.conductor
>
>
>
> -- 
> ------------------------
> Herv? Pag?s
> E-mail: hpages at fhcrc.org
> Phone: (206) 667-5791
> Fax: (206) 667-1319
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>


From cabird at gmail.com  Fri Jul 21 19:10:58 2006
From: cabird at gmail.com (Christian Bird)
Date: Fri, 21 Jul 2006 10:10:58 -0700
Subject: [R-SIG-Mac] plotting from command line R
Message-ID: <2B1DB061-28AE-4E35-8F24-8FD4D9EA4488@gmail.com>

Sorry if this is a newbie question, but I'm trying to plot in R from  
the command line (not the aqua console).  When I do a very simple  
plot in the aqua console, everything shows fine, however, when I try  
from the command line version of R, I don't see window pop up and I  
get no error message.  I'm sure I just need to change a setting or  
something.  Has anyone else run into this?  I'm running OS X 10.4.6  
and R 2.3.1.  Any help would be greatly appreciated.  Thanks.

-- Chris


From simon.urbanek at r-project.org  Mon Jul 24 19:16:56 2006
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 24 Jul 2006 13:16:56 -0400
Subject: [R-SIG-Mac] plotting from command line R
In-Reply-To: <2B1DB061-28AE-4E35-8F24-8FD4D9EA4488@gmail.com>
References: <2B1DB061-28AE-4E35-8F24-8FD4D9EA4488@gmail.com>
Message-ID: <509A7400-B72D-4F70-8652-B02ACAA53685@r-project.org>


On Jul 21, 2006, at 1:10 PM, Christian Bird wrote:

> Sorry if this is a newbie question, but I'm trying to plot in R  
> from the command line (not the aqua console).  When I do a very  
> simple plot in the aqua console, everything shows fine, however,  
> when I try from the command line version of R, I don't see window  
> pop up and I get no error message.  I'm sure I just need to change  
> a setting or something.  Has anyone else run into this?  I'm  
> running OS X 10.4.6 and R 2.3.1.  Any help would be greatly  
> appreciated.  Thanks.
>

R GUI uses Quartz device which is not available in the command line  
version of R, because it is embedded in the GUI. Therefore the  
default is to use X11 if available and fall-back to PostScript if  
it's not. From what you describe you are not using X11, so your plots  
go to the PostScript device by default. Just type
getOption("device")
to see which device is being used. If you want to use X11, then make  
sure your X server is running and you set DISPLAY properly (either  
start R from xterm or if using Terminal DISPLAY=:0.0 usually does the  
trick).

Cheers,
Simon


From Tim.Cole at ich.ucl.ac.uk  Wed Jul 26 17:08:47 2006
From: Tim.Cole at ich.ucl.ac.uk (Tim Cole)
Date: Wed, 26 Jul 2006 16:08:47 +0100
Subject: [R-SIG-Mac] Quartz questions
Message-ID: <p06230905c0ed2ccfdf2f@[194.82.246.94]>

I'm running R 2.3.1 on OS 10.4.7 with R GUI 1.17-pre (3343).

1. args(quartz) says it defaults to 5x5 inches i.e. 360x360 pixels. 
But I find it gives 6x6 (432x432) instead, and the width and height 
arguments are ignored.

2. Simon recently added a name to the quartz window as the first 
argument. How do I make an inactive window called "fred" the active 
window? If I repeat quartz("fred") it creates another window of the 
same name.

3. I have two identical G4 setups, at home and at work, but quartz 
graphics work differently on them. On the work machine graphs look 
grainy on moderate magnification, whereas the same graphics on the 
home machine look fine. I can't currently provide chapter and verse 
for this, but my question is what (if anything) in the R setup on the 
two machines might explain such a difference in behaviour.

Thanks,
Tim Cole
-- 
Tim.Cole at ich.ucl.ac.uk Phone +44(0)20 7905 2666 Fax +44(0)20 7905 2381
Paed. Epid. & Biostats, Institute of Child Health, London WC1N 1EH, UK


From sfalcon at fhcrc.org  Thu Jul 27 18:49:34 2006
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Thu, 27 Jul 2006 09:49:34 -0700
Subject: [R-SIG-Mac] download.file crashes R when 404 is returned
Message-ID: <m2r707at7l.fsf@ziti.local>

Hi all,

I know this has come up before, but I don't know if the problem has
been identified and fixed.

I'm running R-devel built from source from svn rev 38702 on ppc OS X
ver 10.4.7.

Calling download.file with a URL that does not exist causes a crash.
Below is an example with gdb trace.

I noticed these comments in internet.c:

	if(rc != 200) {
	    char *msg;
	    RxmlNanoHTTPClose(ctxt);
	    /* bug work-around: it will crash on OS X if passed directly */
	    msg = _("cannot open: HTTP status was '%d %s'");
	    warning(msg, rc, RxmlNanoHTTPStatusMsg(ctxt));
	    return NULL;

Reproduce with:

    u404 <- "http://bioconductor.org/packages/doesnotexist.aaaa.3"
    f <- "output.u404.txt"
    download.file(u404, f)

gdb bt:

(gdb) bt
#0  0x900030e8 in strlen ()
#1  0x90011f3c in __vfprintf ()
#2  0x9002a6ac in vsnprintf ()
#3  0x01085b84 in Rvsnprintf (buf=0xbfffa558 "\002?z?\002\227?\004?K?\225\207\205\223\223?K?\225\207\205\223\223?K?\225\207\205\223\223?K?\225\207\205\223\223?K?\225\207\205\223\223?K?\225\207\205\223\223?K?\225\207\205\223\223?K?\225\207\205\223\223?K?\225\207\205\223\223?K?\225\207\205\223\223?K?\225\207\205\223\223?K?\225\207\205\223\223@}Fk?T?\005>?;)\200", size=1000, format=0x3 <Address 0x3 out of bounds>, ap=0x34 <Address 0x34 out of bounds>) at ../../../../R-devel/src/main/errors.c:211
#4  0x01085bfc in Rf_warning (format=0x522e6d6f <Address 0x522e6d6f out of bounds>) at ../../../../R-devel/src/main/errors.c:223
#5  0x01664404 in in_R_HTTPOpen (url=0x16697b4 "cannot open: HTTP status was '%d %s'", cacheOK=404) at ../../../../../R-devel/src/modules/internet/internet.c:495
#6  0x01664050 in in_do_download (call=0x522e6d6f, op=0xbfff99fb, args=0x0, env=0x34) at ../../../../../R-devel/src/modules/internet/internet.c:322
#7  0x010ca1e0 in do_internal (call=0x0, op=0xbfff99fb, args=0x2857394, env=0x2a8084c) at ../../../../R-devel/src/main/names.c:1093

Ideas for tracking this down?

+ seth


From sfalcon at fhcrc.org  Thu Jul 27 19:10:46 2006
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Thu, 27 Jul 2006 10:10:46 -0700
Subject: [R-SIG-Mac] download.file crashes R when 404 is returned
In-Reply-To: <m2r707at7l.fsf@ziti.local> (Seth Falcon's message of "Thu,
	27 Jul 2006 09:49:34 -0700")
References: <m2r707at7l.fsf@ziti.local>
Message-ID: <m2mzavas89.fsf@ziti.local>

Seth Falcon <sfalcon at fhcrc.org> writes:
> I noticed these comments in internet.c:
>
> 	if(rc != 200) {
> 	    char *msg;
> 	    RxmlNanoHTTPClose(ctxt);
> 	    /* bug work-around: it will crash on OS X if passed directly */
> 	    msg = _("cannot open: HTTP status was '%d %s'");
> 	    warning(msg, rc, RxmlNanoHTTPStatusMsg(ctxt));
> 	    return NULL;

So it looked kind of weird to me that RxmlNanoHTTPClose gets called
_before_ the RxmlNanoHTTPStatusMsg call.  I tried moving the close
call to after the call to warning and the crash went away (patch
below).

Can anyone confirm/deny/refute?

+ seth


diff --git a/src/modules/internet/internet.c b/src/modules/internet/internet.c
index 80e507a..f9175b1 100644
--- a/src/modules/internet/internet.c
+++ b/src/modules/internet/internet.c
@@ -489,10 +489,10 @@ void *in_R_HTTPOpen(const char *url, int
        int rc = RxmlNanoHTTPReturnCode(ctxt);
        if(rc != 200) {
            char *msg;
-           RxmlNanoHTTPClose(ctxt);
            /* bug work-around: it will crash on OS X if passed directly */
            msg = _("cannot open: HTTP status was '%d %s'");
            warning(msg, rc, RxmlNanoHTTPStatusMsg(ctxt));
+           RxmlNanoHTTPClose(ctxt);
            return NULL;
        } else {
            type = RxmlNanoHTTPContentType(ctxt);


From chris at bayswaterfarm.com  Mon Jul 31 20:26:37 2006
From: chris at bayswaterfarm.com (Chris Bunch)
Date: Mon, 31 Jul 2006 19:26:37 +0100
Subject: [R-SIG-Mac] RMySQL won't install
Message-ID: <7D6FE118FCA07FEFD0CD613F@theodora.bayswaterfarm.com>

I am having problems installing the RMySQL binary package [Mac OS X 10.4.7;
R 2.3.1; R-GUI 1.16 (3198); mysql-max-5.0.22-osx10.4-powerpc-64bit (binary)]

I get: 
Error in dyn.load(x, as.logical(local), as.logical(now)) : 
	unable to load shared library
'/Library/Frameworks/R.framework/Versions/2.3/Resources/library/RMySQL/libs/ppc/RMySQL.so':

dlopen(/Library/Frameworks/R.framework/Versions/2.3/Resources/library/RMySQL/libs/ppc/RMySQL.so,
6): Symbol not found: _load_defaults
  Referenced from:
/Library/Frameworks/R.framework/Versions/2.3/Resources/library/RMySQL/libs/ppc/RMySQL.so
  Expected in: flat namespace
Error in library(RMySQL) : .First.lib failed for 'RMySQL'

I came across another message on similar problem which suggested that the
version of XCode (and ?gcc) used to compile the package was a factor. I
don't have XCode and wonder (if this *is* the problem) if someone could let
me have a binary that will install.

C
__________________________
Dis aliter visum
http://jambalaya.bayswaterfarm.com


From cabird at gmail.com  Mon Jul 24 22:28:20 2006
From: cabird at gmail.com (Christian Bird)
Date: Mon, 24 Jul 2006 13:28:20 -0700
Subject: [R-SIG-Mac] plotting from command line R
In-Reply-To: <509A7400-B72D-4F70-8652-B02ACAA53685@r-project.org>
References: <2B1DB061-28AE-4E35-8F24-8FD4D9EA4488@gmail.com>
	<509A7400-B72D-4F70-8652-B02ACAA53685@r-project.org>
Message-ID: <e1d90f480607241328m296adeb8s5695f00d0d1f086b@mail.gmail.com>

Thank you so much for that help.  I got graphs showing in less than a
minute with that information.  One last question.  Is it possible to
build R so that it uses Quartz device from the command line version?
Thanks.

-- Chris

On 7/24/06, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>
> On Jul 21, 2006, at 1:10 PM, Christian Bird wrote:
>
> > Sorry if this is a newbie question, but I'm trying to plot in R
> > from the command line (not the aqua console).  When I do a very
> > simple plot in the aqua console, everything shows fine, however,
> > when I try from the command line version of R, I don't see window
> > pop up and I get no error message.  I'm sure I just need to change
> > a setting or something.  Has anyone else run into this?  I'm
> > running OS X 10.4.6 and R 2.3.1.  Any help would be greatly
> > appreciated.  Thanks.
> >
>
> R GUI uses Quartz device which is not available in the command line
> version of R, because it is embedded in the GUI. Therefore the
> default is to use X11 if available and fall-back to PostScript if
> it's not. From what you describe you are not using X11, so your plots
> go to the PostScript device by default. Just type
> getOption("device")
> to see which device is being used. If you want to use X11, then make
> sure your X server is running and you set DISPLAY properly (either
> start R from xterm or if using Terminal DISPLAY=:0.0 usually does the
> trick).
>
> Cheers,
> Simon
>
>


-- 
Christian Bird
cabird at gmail.com


From duh-judahgator at se.rr.com  Fri Jul 28 00:27:10 2006
From: duh-judahgator at se.rr.com (Dwight Hines)
Date: Thu, 27 Jul 2006 17:27:10 -0500
Subject: [R-SIG-Mac] Need indexing program for OS-X.4.7
Message-ID: <AB9CE83A-BF96-4A3B-90A9-BA7105D5CD44@se.rr.com>

I'm finishing up a long manuscript and I need a good free or cheap  
indexing program for my Pismo.   The ideal program will allow me to  
just name the files with the manuscript, and the program will take  
them and then make a long alphabetical list of words and names, like  
you find in the back of books, with what page numbers they are on.   
It would be wonderful if the program would handle text and pdf but  
text is the main thing.

I would like to be able to be able to tell the program ahead of time  
what words NOT to list, like all of the words in this sentence would  
not be included.  I would need to be able to exclude numbers in the  
word list but include them in a different list, like dates and amounts.

I have downloaded Wikinotes, Annotape, and MTlibrarian.  Each looks  
like work to learn to use and I thought that I would avoid the  
initial comparison of them by asking the list.

I'm running OS-X.4.7 with no problems and have OS-9 available for  
classic programs.
Dwight


From Alexander.Ploner at meb.ki.se  Mon Jul 31 19:14:23 2006
From: Alexander.Ploner at meb.ki.se (Alexander Ploner)
Date: Mon, 31 Jul 2006 19:14:23 +0200
Subject: [R-SIG-Mac] Compiling ROracle on OSX 10.4.7/R 2.3.1
Message-ID: <D71B607D-FC1D-409E-B05B-1F8568C32094@meb.ki.se>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20060731/8d100690/attachment.pl 

