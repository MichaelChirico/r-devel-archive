From arne.henningsen at gmail.com  Mon Dec  3 16:35:35 2012
From: arne.henningsen at gmail.com (Arne Henningsen)
Date: Mon, 3 Dec 2012 16:35:35 +0100
Subject: [R-SIG-Mac] Making package "frontier" available for Mac: debugging
	Fortran code
Message-ID: <CAMTWbJhAGxX4dcBkKoO_BSCHnouKxOBkh_S9rYKftua+2oMTig@mail.gmail.com>

Dear Mac users

I am the maintainer of the R package "frontier." Some Mac users made
me aware of that this package is not available for their system [1],
because its Fortran code causes a segmentation fault when "R CMD
check" runs the example code. This error neither occurs on MS-Windows
nor on GNU-Linux systems. As I do not have access to a Mac system, I
cannot debug this error and I wonder if someone on this list could
help me to debug and fix this error. Thanks a lot in advance!

[1] http://cran.r-project.org/web/packages/frontier/index.html

[2] http://www.r-project.org/nosvn/R.check/r-release-macosx-ix86/frontier-00check.html

Best wishes from Copenhagen,
Arne

-- 
Arne Henningsen
http://www.arne-henningsen.name


From frederic.bioinfo at gmail.com  Mon Dec  3 17:34:32 2012
From: frederic.bioinfo at gmail.com (Frederic Fournier)
Date: Mon, 03 Dec 2012 11:34:32 -0500
Subject: [R-SIG-Mac] Problem loading a package libraries (Error in dyn.load)
	on mac environments
Message-ID: <50BCD498.6080602@gmail.com>

Hello everyone,

I'm working on a small R package for proteomics analysis, and I am 
facing perplexing problems related to the 'dyn.load' function when 
loading the package on mac environments.
The package relies on two external libraries, expat and pthread, and on 
three cran packages: XML, Rcpp and data.table. I have no trouble 
building, checking or installing the package. But when I load the 
package on mac testing environments, I face various problems related to 
this error message: "Error in dyn.load(file, DLLpath=DLLpath, ...): ..."
On one machine, the package loads without problem on i386 R, but fails 
to load on x64 R; on another machine, things are reversed and the 
package loads on x64, but fails to load on i386.

Here is the output from the machinge where the package loads on i386 but 
fails on x64 R:

> library(rTANDEM)
Loading required package: XML
Loading required package: Rcpp
Loading required package: data.table
data.table 1.8.6  For help type: help("data.table")
Error in dyn.load(file, DLLpath = DLLpath, ...) :
   unable to load shared object
'/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
x86_64/rTANDEM.so':
   
dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
/libs/x86_64/rTANDEM.so, 6): Symbol not found: __ZTIN4Rcpp7RObjectE
   Referenced from:
/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/x
86_64/rTANDEM.so
   Expected in: dynamic lookup

Error: package or namespace load failed for 'rTANDEM'
> sessionInfo()
R Under development (unstable) (2012-11-27 r61172)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] data.table_1.8.6    Rcpp_0.10.1         XML_3.9-4
[4] BiocInstaller_1.9.4

loaded via a namespace (and not attached):
[1] tools_2.16.0


Here is the ouput from the machine where the package loads fine on x64 R but fails on i386:

> library(rTANDEM)
Loading required package: XML
Loading required package: Rcpp
Loading required package: data.table
data.table 1.8.6  For help type: help("data.table")
Error in dyn.load(file, DLLpath = DLLpath, ...) :
   unable to load shared object
'/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
i386/rTANDEM.so':
   
dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
/libs/i386/rTANDEM.so, 6): Symbol not found: _XML_GetErrorCode
   Referenced from:
/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
386/rTANDEM.so
   Expected in: flat namespace
  in
/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
386/rTANDEM.so
Error: package or namespace load failed for 'rTANDEM'


I am left clueless by this. As anyone faced a similar issue?

Thank you very much for your help!

Frederic


From macqueen1 at llnl.gov  Mon Dec  3 17:35:59 2012
From: macqueen1 at llnl.gov (MacQueen, Don)
Date: Mon, 3 Dec 2012 16:35:59 +0000
Subject: [R-SIG-Mac] Making package "frontier" available for Mac:
 debugging Fortran code
In-Reply-To: <CAMTWbJhAGxX4dcBkKoO_BSCHnouKxOBkh_S9rYKftua+2oMTig@mail.gmail.com>
Message-ID: <5E1B812FAC2C4A49B3D99593B5A52191153F6B@PRDEXMBX-08.the-lab.llnl.gov>

Arne,

I'm on a Mac. Although I'm still using R 15.2.1 on this machine, perhaps
my results will be helpful.
Briefly, no problem with frontier.

I do have the "Additional tools necessary for building R for Mac OS X"
installed (downloaded from the "R for Mac tools page").

-Don



The first thing I did was
  install.packages('frontier',type='source')
The package installed successfully, and I tried the first example in
?frontier; it ran. By which I mean there were no error or warning messages.


I then downloaded the package source, unpacked it. In the directory where
I unpacked it:

frontier-pkg[41]% ls
./              ../             frontier/


frontier-pkg[42]% R CMD build frontier > & build.log

frontier-pkg[43]% R CMD check frontier > & check.log


>From check.log:

* checking examples ...
** running examples for arch 'i386' ... OK
** running examples for arch 'x86_64' ... OK



R CMD install seems to work. Then:

> require(frontier)
Loading required package: frontier
Loading required package: plm
Loading required package: bdsmatrix

Attaching package: 'bdsmatrix'

The following object(s) are masked from 'package:base':

    backsolve

Loading required package: nlme
Loading required package: Formula
Loading required package: MASS
Loading required package: sandwich
Loading required package: zoo

Attaching package: 'zoo'

The following object(s) are masked from 'package:base':

    as.Date, as.Date.numeric

Loading required package: micEcon
Loading required package: miscTools
Loading required package: lmtest

And finally:


> sessionInfo()
R version 2.15.1 (2012-06-22)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
 [1] frontier_0.997-12 lmtest_0.9-30     micEcon_0.6-10
miscTools_0.6-12  plm_1.2-10        sandwich_2.2-9    zoo_1.7-7
 [8] MASS_7.3-19       Formula_1.1-0     nlme_3.1-104      bdsmatrix_1.3
  rmacq_1.1-9      

loaded via a namespace (and not attached):
[1] grid_2.15.1    lattice_0.20-6 moments_0.13   tcltk_2.15.1
tools_2.15.1  






-- 
Don MacQueen

Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062





On 12/3/12 7:35 AM, "Arne Henningsen" <arne.henningsen at gmail.com> wrote:

>Dear Mac users
>
>I am the maintainer of the R package "frontier." Some Mac users made
>me aware of that this package is not available for their system [1],
>because its Fortran code causes a segmentation fault when "R CMD
>check" runs the example code. This error neither occurs on MS-Windows
>nor on GNU-Linux systems. As I do not have access to a Mac system, I
>cannot debug this error and I wonder if someone on this list could
>help me to debug and fix this error. Thanks a lot in advance!
>
>[1] http://cran.r-project.org/web/packages/frontier/index.html
>
>[2] 
>http://www.r-project.org/nosvn/R.check/r-release-macosx-ix86/frontier-00ch
>eck.html
>
>Best wishes from Copenhagen,
>Arne
>
>-- 
>Arne Henningsen
>http://www.arne-henningsen.name
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at r-project.org
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From arne.henningsen at gmail.com  Mon Dec  3 17:52:16 2012
From: arne.henningsen at gmail.com (Arne Henningsen)
Date: Mon, 3 Dec 2012 17:52:16 +0100
Subject: [R-SIG-Mac] Making package "frontier" available for Mac:
 debugging Fortran code
In-Reply-To: <5E1B812FAC2C4A49B3D99593B5A52191153F6B@PRDEXMBX-08.the-lab.llnl.gov>
References: <CAMTWbJhAGxX4dcBkKoO_BSCHnouKxOBkh_S9rYKftua+2oMTig@mail.gmail.com>
	<5E1B812FAC2C4A49B3D99593B5A52191153F6B@PRDEXMBX-08.the-lab.llnl.gov>
Message-ID: <CAMTWbJg=iGGbn26aFTZGmzEe0fb6xT9js3AcM1Gzza03QVQcyA@mail.gmail.com>

Dear Don (and others)

Thanks a lot for your immediate and helpful response. In the future, I
will advice Mac users to install the "frontier" package with the
additional argument 'type = "source"'. If this problem only occurs on
the CRAN server, I will contact them to figure out the cause of the
problem. Does anybody have an idea why the error (segmentation fault)
occurs on one (or more) Mac computers (at least the Mac used by CRAN)
but not on other Mac computers or on MS-Windows and GNU-Linux machine?
Could this bu be caused or triggered by the compiler or some compiler
options?

Cheers,
Arne


On 3 December 2012 17:35, MacQueen, Don <macqueen1 at llnl.gov> wrote:
> Arne,
>
> I'm on a Mac. Although I'm still using R 15.2.1 on this machine, perhaps
> my results will be helpful.
> Briefly, no problem with frontier.
>
> I do have the "Additional tools necessary for building R for Mac OS X"
> installed (downloaded from the "R for Mac tools page").
>
> -Don
>
>
>
> The first thing I did was
>   install.packages('frontier',type='source')
> The package installed successfully, and I tried the first example in
> ?frontier; it ran. By which I mean there were no error or warning messages.
>
>
> I then downloaded the package source, unpacked it. In the directory where
> I unpacked it:
>
> frontier-pkg[41]% ls
> ./              ../             frontier/
>
>
> frontier-pkg[42]% R CMD build frontier > & build.log
>
> frontier-pkg[43]% R CMD check frontier > & check.log
>
>
> From check.log:
>
> * checking examples ...
> ** running examples for arch 'i386' ... OK
> ** running examples for arch 'x86_64' ... OK
>
>
>
> R CMD install seems to work. Then:
>
>> require(frontier)
> Loading required package: frontier
> Loading required package: plm
> Loading required package: bdsmatrix
>
> Attaching package: 'bdsmatrix'
>
> The following object(s) are masked from 'package:base':
>
>     backsolve
>
> Loading required package: nlme
> Loading required package: Formula
> Loading required package: MASS
> Loading required package: sandwich
> Loading required package: zoo
>
> Attaching package: 'zoo'
>
> The following object(s) are masked from 'package:base':
>
>     as.Date, as.Date.numeric
>
> Loading required package: micEcon
> Loading required package: miscTools
> Loading required package: lmtest
>
> And finally:
>
>
>> sessionInfo()
> R version 2.15.1 (2012-06-22)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
>  [1] frontier_0.997-12 lmtest_0.9-30     micEcon_0.6-10
> miscTools_0.6-12  plm_1.2-10        sandwich_2.2-9    zoo_1.7-7
>  [8] MASS_7.3-19       Formula_1.1-0     nlme_3.1-104      bdsmatrix_1.3
>   rmacq_1.1-9
>
> loaded via a namespace (and not attached):
> [1] grid_2.15.1    lattice_0.20-6 moments_0.13   tcltk_2.15.1
> tools_2.15.1
>
>
>
>
>
>
> --
> Don MacQueen
>
> Lawrence Livermore National Laboratory
> 7000 East Ave., L-627
> Livermore, CA 94550
> 925-423-1062
>
>
>
>
>
> On 12/3/12 7:35 AM, "Arne Henningsen" <arne.henningsen at gmail.com> wrote:
>
>>Dear Mac users
>>
>>I am the maintainer of the R package "frontier." Some Mac users made
>>me aware of that this package is not available for their system [1],
>>because its Fortran code causes a segmentation fault when "R CMD
>>check" runs the example code. This error neither occurs on MS-Windows
>>nor on GNU-Linux systems. As I do not have access to a Mac system, I
>>cannot debug this error and I wonder if someone on this list could
>>help me to debug and fix this error. Thanks a lot in advance!
>>
>>[1] http://cran.r-project.org/web/packages/frontier/index.html
>>
>>[2]
>>http://www.r-project.org/nosvn/R.check/r-release-macosx-ix86/frontier-00ch
>>eck.html
>>
>>Best wishes from Copenhagen,
>>Arne
>>
>>--
>>Arne Henningsen
>>http://www.arne-henningsen.name
>>
>>_______________________________________________
>>R-SIG-Mac mailing list
>>R-SIG-Mac at r-project.org
>>https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>



-- 
Arne Henningsen
http://www.arne-henningsen.name


From rayd at liondatasystems.com  Mon Dec  3 18:50:51 2012
From: rayd at liondatasystems.com (Ray DiGiacomo, Jr.)
Date: Mon, 3 Dec 2012 09:50:51 -0800
Subject: [R-SIG-Mac] Making package "frontier" available for Mac:
 debugging Fortran code
In-Reply-To: <CAMTWbJg=iGGbn26aFTZGmzEe0fb6xT9js3AcM1Gzza03QVQcyA@mail.gmail.com>
References: <CAMTWbJhAGxX4dcBkKoO_BSCHnouKxOBkh_S9rYKftua+2oMTig@mail.gmail.com>
	<5E1B812FAC2C4A49B3D99593B5A52191153F6B@PRDEXMBX-08.the-lab.llnl.gov>
	<CAMTWbJg=iGGbn26aFTZGmzEe0fb6xT9js3AcM1Gzza03QVQcyA@mail.gmail.com>
Message-ID: <CACT39NbnoKcuBiV4sFJFCYCfEWoO59xsggs9rYd--evLFOAq0Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121203/0bf994b6/attachment.pl>

From bhh at xs4all.nl  Mon Dec  3 18:52:06 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Mon, 3 Dec 2012 18:52:06 +0100
Subject: [R-SIG-Mac] Making package "frontier" available for Mac:
	debugging Fortran code
In-Reply-To: <CAMTWbJhAGxX4dcBkKoO_BSCHnouKxOBkh_S9rYKftua+2oMTig@mail.gmail.com>
References: <CAMTWbJhAGxX4dcBkKoO_BSCHnouKxOBkh_S9rYKftua+2oMTig@mail.gmail.com>
Message-ID: <8E151371-B0DE-47EC-ABFD-AD2BEDD5A14B@xs4all.nl>


On 03-12-2012, at 16:35, Arne Henningsen wrote:

> Dear Mac users
> 
> I am the maintainer of the R package "frontier." Some Mac users made
> me aware of that this package is not available for their system [1],
> because its Fortran code causes a segmentation fault when "R CMD
> check" runs the example code. This error neither occurs on MS-Windows
> nor on GNU-Linux systems. As I do not have access to a Mac system, I
> cannot debug this error and I wonder if someone on this list could
> help me to debug and fix this error. Thanks a lot in advance!
> 
> [1] http://cran.r-project.org/web/packages/frontier/index.html
> 
> [2] http://www.r-project.org/nosvn/R.check/r-release-macosx-ix86/frontier-00check.html

Using R-2.15.2 on Mac OS X 10.6.8, I have checked frontier package.

The examples run ok but the tests give a  large number of differences. Some of these are quite large.
I will send you the zipped 00check.log  privately.

Further information:

library(frontier,lib.loc="./Frontier.Rcheck")
Loading required package: plm
Loading required package: bdsmatrix

Attaching package: 'bdsmatrix'

The following object(s) are masked from 'package:base':

    backsolve

Loading required package: nlme
Loading required package: Formula
Loading required package: MASS
Loading required package: sandwich
Loading required package: zoo

Attaching package: 'zoo'

The following object(s) are masked from 'package:base':

    as.Date, as.Date.numeric

Loading required package: micEcon
Loading required package: miscTools
Loading required package: lmtest
> sessionInfo()
R version 2.15.2 (2012-10-26)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_GB/en_GB/en_GB/C/en_GB/en_GB

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] frontier_0.997-12 lmtest_0.9-30     micEcon_0.6-10    miscTools_0.6-12 
 [5] plm_1.2-10        sandwich_2.2-9    zoo_1.7-9         MASS_7.3-22      
 [9] Formula_1.1-0     nlme_3.1-105      bdsmatrix_1.3    

loaded via a namespace (and not attached):
[1] grid_2.15.2     lattice_0.20-10 moments_0.13   
> 

Berend


From simon.urbanek at r-project.org  Mon Dec  3 20:05:04 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Dec 2012 14:05:04 -0500
Subject: [R-SIG-Mac] Making package "frontier" available for Mac:
	debugging Fortran code
In-Reply-To: <CAMTWbJhAGxX4dcBkKoO_BSCHnouKxOBkh_S9rYKftua+2oMTig@mail.gmail.com>
References: <CAMTWbJhAGxX4dcBkKoO_BSCHnouKxOBkh_S9rYKftua+2oMTig@mail.gmail.com>
Message-ID: <6B2206DA-78D3-47C8-9383-5B656C70D110@r-project.org>

Arne,

unfortunately I don't think I can help you with Fortran code, but this is the trace from the crash:

> example(summary.frontier)
[...]
smmry.>    # Efficiency Effects Frontier
smmry.>    rice2 <- sfa( log( PROD ) ~ log( AREA ) + log( LABOR ) + log( NPK ) |
smmry.+       EDYRS + BANRAT, data = riceProdPhil )

Program received signal EXC_BAD_ACCESS, Could not access memory.
Reason: KERN_INVALID_ADDRESS at address: 0x01a55000
0x00ff8433 in info (nstartval=@0x260ce80, startval=0x260d540, nrowdata=@0x260cec0, ncoldata=@0x260cf20, datatable=0x1a4f018, nparamtotal=@0x260d0e0, ob=0x32d3080, gb=0x32d3118, fxs=@0xbfffac68, y=0x32d31b0, h=0x27b8618) at front41.f:818
818	      xxd(i)=dataTable(k,2+i)
(gdb) p i
$1 = 7
Current language:  auto; currently fortran
(gdb) p k
$2 = 318
(gdb) bt
#0  0x00ff8433 in info (nstartval=@0x260ce80, startval=0x260d540, nrowdata=@0x260cec0, ncoldata=@0x260cf20, datatable=0x1a4f018, nparamtotal=@0x260d0e0, ob=0x32d3080, gb=0x32d3118, fxs=@0xbfffac68, y=0x32d31b0, h=0x27b8618) at front41.f:818
#1  0x00ffcbe7 in front41 (imarg=@0x260fd20, ipcarg=@0x260fda0, nnarg=@0x260d340, ntarg=@0x260d360, nobarg=@0x260d380, nbarg=@0x260d3a0, nmuarg=@0x260fdc0, netaarg=@0x260d3c0, iprintarg=@0x260d3e0, indicarg=@0x260d400, tolarg=@0x260d420, tol2arg=@0x260d440, bignumarg=@0x260d460, step1arg=@0x260d480, igrid2arg=@0x260ce20, gridnoarg=@0x260d4a0, maxitarg=@0x260d4c0, bmuarg=@0x260d4e0, mrestartarg=@0x260d500, frestartarg=@0x260d520, nrestartarg=@0x260ce40, nstartval=@0x260ce80, startval=0x260d540, nrowdata=@0x260cec0, ncoldata=@0x260cf20, datatable=0x1a4f018, nparamtotal=@0x260d0e0, ob=0x32d3080, gb=0x32d3118, startlogl=@0x260d560, y=0x32d31b0, h=0x27b8618, fmlelogl=@0x260d580, niter=@0x260d260, icodearg=@0x260d280) at front41.f:74
#2  0x0046c5ab in do_dotCode (call=0x12c1c60, op=0x101b2d0, args=0x262b024, env=0x31e74b4) at ../../../../R-2.15-branch/src/main/dotcode.c:1901
#3  0x0049a681 in Rf_eval (e=0x12c1c60, rho=0x31e74b4) at ../../../../R-2.15-branch/src/main/eval.c:494
#4  0x0049d9c6 in do_set (call=0x12c1bd4, op=0x100e2a8, args=0x12c1bf0, rho=0x31e74b4) at ../../../../R-2.15-branch/src/main/eval.c:1717
#5  0x0049a482 in Rf_eval (e=0x12c1bd4, rho=0x31e74b4) at ../../../../R-2.15-branch/src/main/eval.c:468
#6  0x0049c362 in do_begin (call=0x1591c00, op=0x100e1ac, args=0x12c1640, rho=0x31e74b4) at ../../../../R-2.15-branch/src/main/eval.c:1415
#7  0x0049a482 in Rf_eval (e=0x1591c00, rho=0x31e74b4) at ../../../../R-2.15-branch/src/main/eval.c:468
#8  0x0049f8bd in Rf_applyClosure (call=0x21f3580, op=0x11b9d9c, arglist=0x31e673c, rho=0x102519c, suppliedenv=0x10251b8) at ../../../../R-2.15-branch/src/main/eval.c:861
#9  0x0049a382 in Rf_eval (e=0x21f3580, rho=0x102519c) at ../../../../R-2.15-branch/src/main/eval.c:512
#10 0x0049d9c6 in do_set (call=0x21f35d4, op=0x100e2a8, args=0x21f35b8, rho=0x102519c) at ../../../../R-2.15-branch/src/main/eval.c:1717
#11 0x0049a482 in Rf_eval (e=0x21f35d4, rho=0x102519c) at ../../../../R-2.15-branch/src/main/eval.c:468
#12 0x0049b1aa in do_eval (call=0x10dcad0, op=0x101d394, args=0x31e6800, rho=0x31e6838) at ../../../../R-2.15-branch/src/main/eval.c:2107

The code crashes at exactly the same line in 64-bit mode as well, so it's likely a real bug. valgrind seems to confirm that it's a OOB read bug in front41.f at 818:

smmry.>    # Efficiency Effects Frontier
smmry.>    rice2 <- sfa( log( PROD ) ~ log( AREA ) + log( LABOR ) + log( NPK ) |
smmry.+       EDYRS + BANRAT, data = riceProdPhil )
==76290== Invalid read of size 8
==76290==    at 0x867E433: info_ (front41.f:818)
==76290==    by 0x8682BE6: front41_ (front41.f:74)
==76290==    by 0x46C5AA: do_dotCode (dotcode.c:1901)
==76290==    by 0x49A680: Rf_eval (eval.c:494)
==76290==    by 0x49D9C5: do_set (eval.c:1717)
==76290==    by 0x49A481: Rf_eval (eval.c:468)
==76290==    by 0x49C361: do_begin (eval.c:1415)
==76290==    by 0x49A481: Rf_eval (eval.c:468)
==76290==    by 0x49F8BC: Rf_applyClosure (eval.c:861)
==76290==    by 0x49A381: Rf_eval (eval.c:512)
==76290==    by 0x49D9C5: do_set (eval.c:1717)
==76290==    by 0x49A481: Rf_eval (eval.c:468)
==76290==  Address 0x8b81288 is 0 bytes after a block of size 22,040 alloc'd
==76290==    at 0x16483: malloc (vg_replace_malloc.c:236)
==76290==    by 0x4DE762: Rf_allocVector (memory.c:2380)
==76290==    by 0x406A48: Rf_allocMatrix (array.c:194)
==76290==    by 0x407AC9: do_matrix (array.c:128)
==76290==    by 0x4908D7: bcEval (eval.c:4449)
==76290==    by 0x49A145: Rf_eval (eval.c:399)
==76290==    by 0x49F8BC: Rf_applyClosure (eval.c:861)
==76290==    by 0x49A381: Rf_eval (eval.c:512)
==76290==    by 0x49B8CC: Rf_evalList (eval.c:1831)
==76290==    by 0x49A54A: Rf_eval (eval.c:487)
==76290==    by 0x49D9C5: do_set (eval.c:1717)
==76290==    by 0x49A481: Rf_eval (eval.c:468)
==76290== 

Cheers,
Simon


On Dec 3, 2012, at 10:35 AM, Arne Henningsen <arne.henningsen at gmail.com> wrote:

> Dear Mac users
> 
> I am the maintainer of the R package "frontier." Some Mac users made
> me aware of that this package is not available for their system [1],
> because its Fortran code causes a segmentation fault when "R CMD
> check" runs the example code. This error neither occurs on MS-Windows
> nor on GNU-Linux systems. As I do not have access to a Mac system, I
> cannot debug this error and I wonder if someone on this list could
> help me to debug and fix this error. Thanks a lot in advance!
> 
> [1] http://cran.r-project.org/web/packages/frontier/index.html
> 
> [2] http://www.r-project.org/nosvn/R.check/r-release-macosx-ix86/frontier-00check.html
> 
> Best wishes from Copenhagen,
> Arne
> 
> -- 
> Arne Henningsen
> http://www.arne-henningsen.name
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From simon.urbanek at r-project.org  Mon Dec  3 20:11:55 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Dec 2012 14:11:55 -0500
Subject: [R-SIG-Mac] Problem loading a package libraries (Error in
	dyn.load) on mac environments
In-Reply-To: <50BCD498.6080602@gmail.com>
References: <50BCD498.6080602@gmail.com>
Message-ID: <797F7083-06DA-4C0C-A925-445C7CA601F0@r-project.org>

Frederic,

do you have the source somewhere so we can test it? It seems like you are not linking against all libraries you need. You won't see this at link time, because symbols are only resolved at run time. Make sure you have all necessary libraries in both 64-bit and 32-bit. Are you using any 3rd party binaries like MacPorts, Fink, Homebrew or similar? They may cause problems...

Cheers,
Simon


On Dec 3, 2012, at 11:34 AM, Frederic Fournier <frederic.bioinfo at gmail.com> wrote:

> Hello everyone,
> 
> I'm working on a small R package for proteomics analysis, and I am facing perplexing problems related to the 'dyn.load' function when loading the package on mac environments.
> The package relies on two external libraries, expat and pthread, and on three cran packages: XML, Rcpp and data.table. I have no trouble building, checking or installing the package. But when I load the package on mac testing environments, I face various problems related to this error message: "Error in dyn.load(file, DLLpath=DLLpath, ...): ..."
> On one machine, the package loads without problem on i386 R, but fails to load on x64 R; on another machine, things are reversed and the package loads on x64, but fails to load on i386.
> 
> Here is the output from the machinge where the package loads on i386 but fails on x64 R:
> 
>> library(rTANDEM)
> Loading required package: XML
> Loading required package: Rcpp
> Loading required package: data.table
> data.table 1.8.6  For help type: help("data.table")
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  unable to load shared object
> '/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
> x86_64/rTANDEM.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
> /libs/x86_64/rTANDEM.so, 6): Symbol not found: __ZTIN4Rcpp7RObjectE
>  Referenced from:
> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/x
> 86_64/rTANDEM.so
>  Expected in: dynamic lookup
> 
> Error: package or namespace load failed for 'rTANDEM'
>> sessionInfo()
> R Under development (unstable) (2012-11-27 r61172)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> other attached packages:
> [1] data.table_1.8.6    Rcpp_0.10.1         XML_3.9-4
> [4] BiocInstaller_1.9.4
> 
> loaded via a namespace (and not attached):
> [1] tools_2.16.0
> 
> 
> Here is the ouput from the machine where the package loads fine on x64 R but fails on i386:
> 
>> library(rTANDEM)
> Loading required package: XML
> Loading required package: Rcpp
> Loading required package: data.table
> data.table 1.8.6  For help type: help("data.table")
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  unable to load shared object
> '/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
> i386/rTANDEM.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
> /libs/i386/rTANDEM.so, 6): Symbol not found: _XML_GetErrorCode
>  Referenced from:
> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
> 386/rTANDEM.so
>  Expected in: flat namespace
> in
> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
> 386/rTANDEM.so
> Error: package or namespace load failed for 'rTANDEM'
> 
> 
> I am left clueless by this. As anyone faced a similar issue?
> 
> Thank you very much for your help!
> 
> Frederic
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From cubranic at stat.ubc.ca  Mon Dec  3 20:13:49 2012
From: cubranic at stat.ubc.ca (Davor Cubranic)
Date: Mon, 3 Dec 2012 11:13:49 -0800
Subject: [R-SIG-Mac] Problem loading a package libraries (Error in
	dyn.load) on mac environments
In-Reply-To: <50BCD498.6080602@gmail.com>
References: <50BCD498.6080602@gmail.com>
Message-ID: <D529F951-35D4-49B8-8DE0-5D454089832A@stat.ubc.ca>

Looks like you might not have the 64-bit version of the Rcpp dynamic library installed on the first machine. On the second, check if you have the 32-bit version of both XML and expat's dynamic libraries.

Davor


On 2012-12-03, at 8:34 AM, Frederic Fournier wrote:

> Hello everyone,
> 
> I'm working on a small R package for proteomics analysis, and I am facing perplexing problems related to the 'dyn.load' function when loading the package on mac environments.
> The package relies on two external libraries, expat and pthread, and on three cran packages: XML, Rcpp and data.table. I have no trouble building, checking or installing the package. But when I load the package on mac testing environments, I face various problems related to this error message: "Error in dyn.load(file, DLLpath=DLLpath, ...): ..."
> On one machine, the package loads without problem on i386 R, but fails to load on x64 R; on another machine, things are reversed and the package loads on x64, but fails to load on i386.
> 
> Here is the output from the machinge where the package loads on i386 but fails on x64 R:
> 
>> library(rTANDEM)
> Loading required package: XML
> Loading required package: Rcpp
> Loading required package: data.table
> data.table 1.8.6  For help type: help("data.table")
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  unable to load shared object
> '/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
> x86_64/rTANDEM.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
> /libs/x86_64/rTANDEM.so, 6): Symbol not found: __ZTIN4Rcpp7RObjectE
>  Referenced from:
> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/x
> 86_64/rTANDEM.so
>  Expected in: dynamic lookup
> 
> Error: package or namespace load failed for 'rTANDEM'
>> sessionInfo()
> R Under development (unstable) (2012-11-27 r61172)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> other attached packages:
> [1] data.table_1.8.6    Rcpp_0.10.1         XML_3.9-4
> [4] BiocInstaller_1.9.4
> 
> loaded via a namespace (and not attached):
> [1] tools_2.16.0
> 
> 
> Here is the ouput from the machine where the package loads fine on x64 R but fails on i386:
> 
>> library(rTANDEM)
> Loading required package: XML
> Loading required package: Rcpp
> Loading required package: data.table
> data.table 1.8.6  For help type: help("data.table")
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  unable to load shared object
> '/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
> i386/rTANDEM.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
> /libs/i386/rTANDEM.so, 6): Symbol not found: _XML_GetErrorCode
>  Referenced from:
> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
> 386/rTANDEM.so
>  Expected in: flat namespace
> in
> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
> 386/rTANDEM.so
> Error: package or namespace load failed for 'rTANDEM'
> 
> 
> I am left clueless by this. As anyone faced a similar issue?
> 
> Thank you very much for your help!
> 
> Frederic
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dtenenba at fhcrc.org  Mon Dec  3 20:52:09 2012
From: dtenenba at fhcrc.org (Dan Tenenbaum)
Date: Mon, 3 Dec 2012 11:52:09 -0800
Subject: [R-SIG-Mac] Problem loading a package libraries (Error in
 dyn.load) on mac environments
In-Reply-To: <D529F951-35D4-49B8-8DE0-5D454089832A@stat.ubc.ca>
References: <50BCD498.6080602@gmail.com>
	<D529F951-35D4-49B8-8DE0-5D454089832A@stat.ubc.ca>
Message-ID: <CAF42j20f+n782SO4aq0hsXFy10nmbBCF6Yru4UA20Qgv_P9W_w@mail.gmail.com>

On Mon, Dec 3, 2012 at 11:13 AM, Davor Cubranic <cubranic at stat.ubc.ca> wrote:
> Looks like you might not have the 64-bit version of the Rcpp dynamic library installed on the first machine. On the second, check if you have the 32-bit version of both XML and expat's dynamic libraries.


Thanks. I'm working with Frederic on this.
On the first machine, both the 32 and 64 bit versions are Rcpp are
installed (I can library(Rcpp) from both R --arch i386 and R --arch
x86_64), and the installed Rcpp has these files present:

pwd
/Library/Frameworks/R.framework/Versions/Current/Resources/library/Rcpp
PETTY:Rcpp biocbuild$ ls -lR libs
total 0
drwxr-xr-x  3 biocbuild  admin  102 Dec  3 11:40 i386
drwxr-xr-x  3 biocbuild  admin  102 Dec  3 11:40 x86_64

libs/i386:
total 1216
-rwxr-xr-x  1 biocbuild  admin  619064 Dec  3 11:40 Rcpp.so

libs/x86_64:
total 1280
-rwxr-xr-x  1 biocbuild  admin  651920 Dec  3 11:40 Rcpp.so
PETTY:Rcpp biocbuild$ ls -lR lib
total 0
drwxr-xr-x  4 biocbuild  admin  136 Dec  3 11:40 i386

lib/i386:
total 11336
-rw-r--r--  1 biocbuild  admin  5177484 Dec  3 11:40 libRcpp.a
-rwxr-xr-x  1 biocbuild  admin   619064 Dec  3 11:40 libRcpp.dylib

After building rTANDEM against this Rcpp, I then get the same error
Frederic reports in this thread when trying to library(rTANDEM) on the
x86_64 architecture. Here it is again with sessionInfo():

> library(rTANDEM)
Loading required package: XML
Loading required package: Rcpp
Loading required package: data.table
data.table 1.8.6  For help type: help("data.table")
Error in dyn.load(file, DLLpath = DLLpath, ...) :
  unable to load shared object
'/Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so':
  dlopen(/Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so,
6): Symbol not found: __ZTIN4Rcpp7RObjectE
  Referenced from:
/Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so
  Expected in: dynamic lookup

Error: package or namespace load failed for 'rTANDEM'
> sessionInfo()
R Under development (unstable) (2012-10-31 r61060)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] data.table_1.8.6 Rcpp_0.10.1      XML_3.95-0.1
>

I'm not sure if Frederic wants the package source to be posted at this
point. I'll let him answer that.

Thanks,
Dan


>
> Davor
>
>
> On 2012-12-03, at 8:34 AM, Frederic Fournier wrote:
>
>> Hello everyone,
>>
>> I'm working on a small R package for proteomics analysis, and I am facing perplexing problems related to the 'dyn.load' function when loading the package on mac environments.
>> The package relies on two external libraries, expat and pthread, and on three cran packages: XML, Rcpp and data.table. I have no trouble building, checking or installing the package. But when I load the package on mac testing environments, I face various problems related to this error message: "Error in dyn.load(file, DLLpath=DLLpath, ...): ..."
>> On one machine, the package loads without problem on i386 R, but fails to load on x64 R; on another machine, things are reversed and the package loads on x64, but fails to load on i386.
>>
>> Here is the output from the machinge where the package loads on i386 but fails on x64 R:
>>
>>> library(rTANDEM)
>> Loading required package: XML
>> Loading required package: Rcpp
>> Loading required package: data.table
>> data.table 1.8.6  For help type: help("data.table")
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>  unable to load shared object
>> '/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
>> x86_64/rTANDEM.so':
>>  dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
>> /libs/x86_64/rTANDEM.so, 6): Symbol not found: __ZTIN4Rcpp7RObjectE
>>  Referenced from:
>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/x
>> 86_64/rTANDEM.so
>>  Expected in: dynamic lookup
>>
>> Error: package or namespace load failed for 'rTANDEM'
>>> sessionInfo()
>> R Under development (unstable) (2012-11-27 r61172)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> other attached packages:
>> [1] data.table_1.8.6    Rcpp_0.10.1         XML_3.9-4
>> [4] BiocInstaller_1.9.4
>>
>> loaded via a namespace (and not attached):
>> [1] tools_2.16.0
>>
>>
>> Here is the ouput from the machine where the package loads fine on x64 R but fails on i386:
>>
>>> library(rTANDEM)
>> Loading required package: XML
>> Loading required package: Rcpp
>> Loading required package: data.table
>> data.table 1.8.6  For help type: help("data.table")
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>  unable to load shared object
>> '/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
>> i386/rTANDEM.so':
>>  dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
>> /libs/i386/rTANDEM.so, 6): Symbol not found: _XML_GetErrorCode
>>  Referenced from:
>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
>> 386/rTANDEM.so
>>  Expected in: flat namespace
>> in
>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
>> 386/rTANDEM.so
>> Error: package or namespace load failed for 'rTANDEM'
>>
>>
>> I am left clueless by this. As anyone faced a similar issue?
>>
>> Thank you very much for your help!
>>
>> Frederic
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From cubranic at stat.ubc.ca  Mon Dec  3 20:55:42 2012
From: cubranic at stat.ubc.ca (Davor Cubranic)
Date: Mon, 3 Dec 2012 11:55:42 -0800
Subject: [R-SIG-Mac] Problem loading a package libraries (Error in
	dyn.load) on mac environments
In-Reply-To: <CAF42j20f+n782SO4aq0hsXFy10nmbBCF6Yru4UA20Qgv_P9W_w@mail.gmail.com>
References: <50BCD498.6080602@gmail.com>
	<D529F951-35D4-49B8-8DE0-5D454089832A@stat.ubc.ca>
	<CAF42j20f+n782SO4aq0hsXFy10nmbBCF6Yru4UA20Qgv_P9W_w@mail.gmail.com>
Message-ID: <32BCC8FE-BE83-4047-B55C-A884463F525F@stat.ubc.ca>

Is rTandem built with the same version of Rcpp that is now installed (0.10.1)? The API changed a fair bit over the past few weeks.

Davor

On 2012-12-03, at 11:52 AM, Dan Tenenbaum wrote:

> On Mon, Dec 3, 2012 at 11:13 AM, Davor Cubranic <cubranic at stat.ubc.ca> wrote:
>> Looks like you might not have the 64-bit version of the Rcpp dynamic library installed on the first machine. On the second, check if you have the 32-bit version of both XML and expat's dynamic libraries.
> 
> 
> Thanks. I'm working with Frederic on this.
> On the first machine, both the 32 and 64 bit versions are Rcpp are
> installed (I can library(Rcpp) from both R --arch i386 and R --arch
> x86_64), and the installed Rcpp has these files present:
> 
> pwd
> /Library/Frameworks/R.framework/Versions/Current/Resources/library/Rcpp
> PETTY:Rcpp biocbuild$ ls -lR libs
> total 0
> drwxr-xr-x  3 biocbuild  admin  102 Dec  3 11:40 i386
> drwxr-xr-x  3 biocbuild  admin  102 Dec  3 11:40 x86_64
> 
> libs/i386:
> total 1216
> -rwxr-xr-x  1 biocbuild  admin  619064 Dec  3 11:40 Rcpp.so
> 
> libs/x86_64:
> total 1280
> -rwxr-xr-x  1 biocbuild  admin  651920 Dec  3 11:40 Rcpp.so
> PETTY:Rcpp biocbuild$ ls -lR lib
> total 0
> drwxr-xr-x  4 biocbuild  admin  136 Dec  3 11:40 i386
> 
> lib/i386:
> total 11336
> -rw-r--r--  1 biocbuild  admin  5177484 Dec  3 11:40 libRcpp.a
> -rwxr-xr-x  1 biocbuild  admin   619064 Dec  3 11:40 libRcpp.dylib
> 
> After building rTANDEM against this Rcpp, I then get the same error
> Frederic reports in this thread when trying to library(rTANDEM) on the
> x86_64 architecture. Here it is again with sessionInfo():
> 
>> library(rTANDEM)
> Loading required package: XML
> Loading required package: Rcpp
> Loading required package: data.table
> data.table 1.8.6  For help type: help("data.table")
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  unable to load shared object
> '/Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so,
> 6): Symbol not found: __ZTIN4Rcpp7RObjectE
>  Referenced from:
> /Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so
>  Expected in: dynamic lookup
> 
> Error: package or namespace load failed for 'rTANDEM'
>> sessionInfo()
> R Under development (unstable) (2012-10-31 r61060)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] C
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> other attached packages:
> [1] data.table_1.8.6 Rcpp_0.10.1      XML_3.95-0.1
>> 
> 
> I'm not sure if Frederic wants the package source to be posted at this
> point. I'll let him answer that.
> 
> Thanks,
> Dan
> 
> 
>> 
>> Davor
>> 
>> 
>> On 2012-12-03, at 8:34 AM, Frederic Fournier wrote:
>> 
>>> Hello everyone,
>>> 
>>> I'm working on a small R package for proteomics analysis, and I am facing perplexing problems related to the 'dyn.load' function when loading the package on mac environments.
>>> The package relies on two external libraries, expat and pthread, and on three cran packages: XML, Rcpp and data.table. I have no trouble building, checking or installing the package. But when I load the package on mac testing environments, I face various problems related to this error message: "Error in dyn.load(file, DLLpath=DLLpath, ...): ..."
>>> On one machine, the package loads without problem on i386 R, but fails to load on x64 R; on another machine, things are reversed and the package loads on x64, but fails to load on i386.
>>> 
>>> Here is the output from the machinge where the package loads on i386 but fails on x64 R:
>>> 
>>>> library(rTANDEM)
>>> Loading required package: XML
>>> Loading required package: Rcpp
>>> Loading required package: data.table
>>> data.table 1.8.6  For help type: help("data.table")
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>> unable to load shared object
>>> '/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
>>> x86_64/rTANDEM.so':
>>> dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
>>> /libs/x86_64/rTANDEM.so, 6): Symbol not found: __ZTIN4Rcpp7RObjectE
>>> Referenced from:
>>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/x
>>> 86_64/rTANDEM.so
>>> Expected in: dynamic lookup
>>> 
>>> Error: package or namespace load failed for 'rTANDEM'
>>>> sessionInfo()
>>> R Under development (unstable) (2012-11-27 r61172)
>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>> 
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> 
>>> other attached packages:
>>> [1] data.table_1.8.6    Rcpp_0.10.1         XML_3.9-4
>>> [4] BiocInstaller_1.9.4
>>> 
>>> loaded via a namespace (and not attached):
>>> [1] tools_2.16.0
>>> 
>>> 
>>> Here is the ouput from the machine where the package loads fine on x64 R but fails on i386:
>>> 
>>>> library(rTANDEM)
>>> Loading required package: XML
>>> Loading required package: Rcpp
>>> Loading required package: data.table
>>> data.table 1.8.6  For help type: help("data.table")
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>> unable to load shared object
>>> '/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
>>> i386/rTANDEM.so':
>>> dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
>>> /libs/i386/rTANDEM.so, 6): Symbol not found: _XML_GetErrorCode
>>> Referenced from:
>>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
>>> 386/rTANDEM.so
>>> Expected in: flat namespace
>>> in
>>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
>>> 386/rTANDEM.so
>>> Error: package or namespace load failed for 'rTANDEM'
>>> 
>>> 
>>> I am left clueless by this. As anyone faced a similar issue?
>>> 
>>> Thank you very much for your help!
>>> 
>>> Frederic
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dtenenba at fhcrc.org  Mon Dec  3 20:58:15 2012
From: dtenenba at fhcrc.org (Dan Tenenbaum)
Date: Mon, 3 Dec 2012 11:58:15 -0800
Subject: [R-SIG-Mac] Problem loading a package libraries (Error in
 dyn.load) on mac environments
In-Reply-To: <32BCC8FE-BE83-4047-B55C-A884463F525F@stat.ubc.ca>
References: <50BCD498.6080602@gmail.com>
	<D529F951-35D4-49B8-8DE0-5D454089832A@stat.ubc.ca>
	<CAF42j20f+n782SO4aq0hsXFy10nmbBCF6Yru4UA20Qgv_P9W_w@mail.gmail.com>
	<32BCC8FE-BE83-4047-B55C-A884463F525F@stat.ubc.ca>
Message-ID: <CAF42j20Rneki-bERJKJckt=cE6ei1oRHraACHOG0zM2dyaPiiw@mail.gmail.com>

On Mon, Dec 3, 2012 at 11:55 AM, Davor Cubranic <cubranic at stat.ubc.ca> wrote:
> Is rTandem built with the same version of Rcpp that is now installed (0.10.1)? The API changed a fair bit over the past few weeks.


Yes, in fact I just built Rcpp from source immediately before building
rTANDEM. I get the same results after installing the Rcpp binary from
CRAN. In both cases, I build and then attempt to load rTANDEM with the
exact same version of Rcpp.

Dan


>
> Davor
>
> On 2012-12-03, at 11:52 AM, Dan Tenenbaum wrote:
>
>> On Mon, Dec 3, 2012 at 11:13 AM, Davor Cubranic <cubranic at stat.ubc.ca> wrote:
>>> Looks like you might not have the 64-bit version of the Rcpp dynamic library installed on the first machine. On the second, check if you have the 32-bit version of both XML and expat's dynamic libraries.
>>
>>
>> Thanks. I'm working with Frederic on this.
>> On the first machine, both the 32 and 64 bit versions are Rcpp are
>> installed (I can library(Rcpp) from both R --arch i386 and R --arch
>> x86_64), and the installed Rcpp has these files present:
>>
>> pwd
>> /Library/Frameworks/R.framework/Versions/Current/Resources/library/Rcpp
>> PETTY:Rcpp biocbuild$ ls -lR libs
>> total 0
>> drwxr-xr-x  3 biocbuild  admin  102 Dec  3 11:40 i386
>> drwxr-xr-x  3 biocbuild  admin  102 Dec  3 11:40 x86_64
>>
>> libs/i386:
>> total 1216
>> -rwxr-xr-x  1 biocbuild  admin  619064 Dec  3 11:40 Rcpp.so
>>
>> libs/x86_64:
>> total 1280
>> -rwxr-xr-x  1 biocbuild  admin  651920 Dec  3 11:40 Rcpp.so
>> PETTY:Rcpp biocbuild$ ls -lR lib
>> total 0
>> drwxr-xr-x  4 biocbuild  admin  136 Dec  3 11:40 i386
>>
>> lib/i386:
>> total 11336
>> -rw-r--r--  1 biocbuild  admin  5177484 Dec  3 11:40 libRcpp.a
>> -rwxr-xr-x  1 biocbuild  admin   619064 Dec  3 11:40 libRcpp.dylib
>>
>> After building rTANDEM against this Rcpp, I then get the same error
>> Frederic reports in this thread when trying to library(rTANDEM) on the
>> x86_64 architecture. Here it is again with sessionInfo():
>>
>>> library(rTANDEM)
>> Loading required package: XML
>> Loading required package: Rcpp
>> Loading required package: data.table
>> data.table 1.8.6  For help type: help("data.table")
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>  unable to load shared object
>> '/Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so':
>>  dlopen(/Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so,
>> 6): Symbol not found: __ZTIN4Rcpp7RObjectE
>>  Referenced from:
>> /Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so
>>  Expected in: dynamic lookup
>>
>> Error: package or namespace load failed for 'rTANDEM'
>>> sessionInfo()
>> R Under development (unstable) (2012-10-31 r61060)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>
>> locale:
>> [1] C
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> other attached packages:
>> [1] data.table_1.8.6 Rcpp_0.10.1      XML_3.95-0.1
>>>
>>
>> I'm not sure if Frederic wants the package source to be posted at this
>> point. I'll let him answer that.
>>
>> Thanks,
>> Dan
>>
>>
>>>
>>> Davor
>>>
>>>
>>> On 2012-12-03, at 8:34 AM, Frederic Fournier wrote:
>>>
>>>> Hello everyone,
>>>>
>>>> I'm working on a small R package for proteomics analysis, and I am facing perplexing problems related to the 'dyn.load' function when loading the package on mac environments.
>>>> The package relies on two external libraries, expat and pthread, and on three cran packages: XML, Rcpp and data.table. I have no trouble building, checking or installing the package. But when I load the package on mac testing environments, I face various problems related to this error message: "Error in dyn.load(file, DLLpath=DLLpath, ...): ..."
>>>> On one machine, the package loads without problem on i386 R, but fails to load on x64 R; on another machine, things are reversed and the package loads on x64, but fails to load on i386.
>>>>
>>>> Here is the output from the machinge where the package loads on i386 but fails on x64 R:
>>>>
>>>>> library(rTANDEM)
>>>> Loading required package: XML
>>>> Loading required package: Rcpp
>>>> Loading required package: data.table
>>>> data.table 1.8.6  For help type: help("data.table")
>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>> unable to load shared object
>>>> '/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
>>>> x86_64/rTANDEM.so':
>>>> dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
>>>> /libs/x86_64/rTANDEM.so, 6): Symbol not found: __ZTIN4Rcpp7RObjectE
>>>> Referenced from:
>>>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/x
>>>> 86_64/rTANDEM.so
>>>> Expected in: dynamic lookup
>>>>
>>>> Error: package or namespace load failed for 'rTANDEM'
>>>>> sessionInfo()
>>>> R Under development (unstable) (2012-11-27 r61172)
>>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>>>
>>>> locale:
>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>
>>>> other attached packages:
>>>> [1] data.table_1.8.6    Rcpp_0.10.1         XML_3.9-4
>>>> [4] BiocInstaller_1.9.4
>>>>
>>>> loaded via a namespace (and not attached):
>>>> [1] tools_2.16.0
>>>>
>>>>
>>>> Here is the ouput from the machine where the package loads fine on x64 R but fails on i386:
>>>>
>>>>> library(rTANDEM)
>>>> Loading required package: XML
>>>> Loading required package: Rcpp
>>>> Loading required package: data.table
>>>> data.table 1.8.6  For help type: help("data.table")
>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>> unable to load shared object
>>>> '/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
>>>> i386/rTANDEM.so':
>>>> dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
>>>> /libs/i386/rTANDEM.so, 6): Symbol not found: _XML_GetErrorCode
>>>> Referenced from:
>>>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
>>>> 386/rTANDEM.so
>>>> Expected in: flat namespace
>>>> in
>>>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
>>>> 386/rTANDEM.so
>>>> Error: package or namespace load failed for 'rTANDEM'
>>>>
>>>>
>>>> I am left clueless by this. As anyone faced a similar issue?
>>>>
>>>> Thank you very much for your help!
>>>>
>>>> Frederic
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Mon Dec  3 21:05:04 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Dec 2012 15:05:04 -0500
Subject: [R-SIG-Mac] Problem loading a package libraries (Error in
	dyn.load) on mac environments
In-Reply-To: <CAF42j20f+n782SO4aq0hsXFy10nmbBCF6Yru4UA20Qgv_P9W_w@mail.gmail.com>
References: <50BCD498.6080602@gmail.com>
	<D529F951-35D4-49B8-8DE0-5D454089832A@stat.ubc.ca>
	<CAF42j20f+n782SO4aq0hsXFy10nmbBCF6Yru4UA20Qgv_P9W_w@mail.gmail.com>
Message-ID: <0ABA0713-134C-4839-A9AF-547C78EBEBFC@r-project.org>


On Dec 3, 2012, at 2:52 PM, Dan Tenenbaum <dtenenba at fhcrc.org> wrote:

> On Mon, Dec 3, 2012 at 11:13 AM, Davor Cubranic <cubranic at stat.ubc.ca> wrote:
>> Looks like you might not have the 64-bit version of the Rcpp dynamic library installed on the first machine. On the second, check if you have the 32-bit version of both XML and expat's dynamic libraries.
> 
> 
> Thanks. I'm working with Frederic on this.
> On the first machine, both the 32 and 64 bit versions are Rcpp are
> installed (I can library(Rcpp) from both R --arch i386 and R --arch
> x86_64), and the installed Rcpp has these files present:
> 
> pwd
> /Library/Frameworks/R.framework/Versions/Current/Resources/library/Rcpp
> PETTY:Rcpp biocbuild$ ls -lR libs
> total 0
> drwxr-xr-x  3 biocbuild  admin  102 Dec  3 11:40 i386
> drwxr-xr-x  3 biocbuild  admin  102 Dec  3 11:40 x86_64
> 
> libs/i386:
> total 1216
> -rwxr-xr-x  1 biocbuild  admin  619064 Dec  3 11:40 Rcpp.so
> 
> libs/x86_64:
> total 1280
> -rwxr-xr-x  1 biocbuild  admin  651920 Dec  3 11:40 Rcpp.so
> PETTY:Rcpp biocbuild$ ls -lR lib
> total 0
> drwxr-xr-x  4 biocbuild  admin  136 Dec  3 11:40 i386
> 

^^ --- this is incomplete - you're missing the 64-bit Rcpp library


> lib/i386:
> total 11336
> -rw-r--r--  1 biocbuild  admin  5177484 Dec  3 11:40 libRcpp.a
> -rwxr-xr-x  1 biocbuild  admin   619064 Dec  3 11:40 libRcpp.dylib
> 
> After building rTANDEM against this Rcpp, I then get the same error
> Frederic reports in this thread when trying to library(rTANDEM) on the
> x86_64 architecture. Here it is again with sessionInfo():
> 
>> library(rTANDEM)
> Loading required package: XML
> Loading required package: Rcpp
> Loading required package: data.table
> data.table 1.8.6  For help type: help("data.table")
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  unable to load shared object
> '/Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so,
> 6): Symbol not found: __ZTIN4Rcpp7RObjectE
>  Referenced from:
> /Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so
>  Expected in: dynamic lookup
> 
> Error: package or namespace load failed for 'rTANDEM'
>> sessionInfo()
> R Under development (unstable) (2012-10-31 r61060)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] C
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> other attached packages:
> [1] data.table_1.8.6 Rcpp_0.10.1      XML_3.95-0.1
>> 
> 
> I'm not sure if Frederic wants the package source to be posted at this
> point. I'll let him answer that.
> 
> Thanks,
> Dan
> 
> 
>> 
>> Davor
>> 
>> 
>> On 2012-12-03, at 8:34 AM, Frederic Fournier wrote:
>> 
>>> Hello everyone,
>>> 
>>> I'm working on a small R package for proteomics analysis, and I am facing perplexing problems related to the 'dyn.load' function when loading the package on mac environments.
>>> The package relies on two external libraries, expat and pthread, and on three cran packages: XML, Rcpp and data.table. I have no trouble building, checking or installing the package. But when I load the package on mac testing environments, I face various problems related to this error message: "Error in dyn.load(file, DLLpath=DLLpath, ...): ..."
>>> On one machine, the package loads without problem on i386 R, but fails to load on x64 R; on another machine, things are reversed and the package loads on x64, but fails to load on i386.
>>> 
>>> Here is the output from the machinge where the package loads on i386 but fails on x64 R:
>>> 
>>>> library(rTANDEM)
>>> Loading required package: XML
>>> Loading required package: Rcpp
>>> Loading required package: data.table
>>> data.table 1.8.6  For help type: help("data.table")
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>> unable to load shared object
>>> '/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
>>> x86_64/rTANDEM.so':
>>> dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
>>> /libs/x86_64/rTANDEM.so, 6): Symbol not found: __ZTIN4Rcpp7RObjectE
>>> Referenced from:
>>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/x
>>> 86_64/rTANDEM.so
>>> Expected in: dynamic lookup
>>> 
>>> Error: package or namespace load failed for 'rTANDEM'
>>>> sessionInfo()
>>> R Under development (unstable) (2012-11-27 r61172)
>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>> 
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> 
>>> other attached packages:
>>> [1] data.table_1.8.6    Rcpp_0.10.1         XML_3.9-4
>>> [4] BiocInstaller_1.9.4
>>> 
>>> loaded via a namespace (and not attached):
>>> [1] tools_2.16.0
>>> 
>>> 
>>> Here is the ouput from the machine where the package loads fine on x64 R but fails on i386:
>>> 
>>>> library(rTANDEM)
>>> Loading required package: XML
>>> Loading required package: Rcpp
>>> Loading required package: data.table
>>> data.table 1.8.6  For help type: help("data.table")
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>> unable to load shared object
>>> '/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
>>> i386/rTANDEM.so':
>>> dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
>>> /libs/i386/rTANDEM.so, 6): Symbol not found: _XML_GetErrorCode
>>> Referenced from:
>>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
>>> 386/rTANDEM.so
>>> Expected in: flat namespace
>>> in
>>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
>>> 386/rTANDEM.so
>>> Error: package or namespace load failed for 'rTANDEM'
>>> 
>>> 
>>> I am left clueless by this. As anyone faced a similar issue?
>>> 
>>> Thank you very much for your help!
>>> 
>>> Frederic
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From bhh at xs4all.nl  Mon Dec  3 21:06:30 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Mon, 3 Dec 2012 21:06:30 +0100
Subject: [R-SIG-Mac] Making package "frontier" available for Mac:
	debugging Fortran code
In-Reply-To: <6B2206DA-78D3-47C8-9383-5B656C70D110@r-project.org>
References: <CAMTWbJhAGxX4dcBkKoO_BSCHnouKxOBkh_S9rYKftua+2oMTig@mail.gmail.com>
	<6B2206DA-78D3-47C8-9383-5B656C70D110@r-project.org>
Message-ID: <3FE328FA-E47E-46F9-B5A2-E145B962E3D5@xs4all.nl>


Arne,

I believe I have found the bug.
Thanks to the traceback of Simon.

On 03-12-2012, at 20:05, Simon Urbanek wrote:

> Arne,
> 
> unfortunately I don't think I can help you with Fortran code, but this is the trace from the crash:
> 
>> example(summary.frontier)
> [...]
> smmry.>    # Efficiency Effects Frontier
> smmry.>    rice2 <- sfa( log( PROD ) ~ log( AREA ) + log( LABOR ) + log( NPK ) |
> smmry.+       EDYRS + BANRAT, data = riceProdPhil )
> 
> Program received signal EXC_BAD_ACCESS, Could not access memory.
> Reason: KERN_INVALID_ADDRESS at address: 0x01a55000
> 0x00ff8433 in info (nstartval=@0x260ce80, startval=0x260d540, nrowdata=@0x260cec0, ncoldata=@0x260cf20, datatable=0x1a4f018, nparamtotal=@0x260d0e0, ob=0x32d3080, gb=0x32d3118, fxs=@0xbfffac68, y=0x32d31b0, h=0x27b8618) at front41.f:818
> 818	      xxd(i)=dataTable(k,2+i)
> (gdb) p i
> $1 = 7
> Current language:  auto; currently fortran
> (gdb) p k
> $2 = 318
> (gdb) bt
> #0  0x00ff8433 in info (nstartval=@0x260ce80, startval=0x260d540, nrowdata=@0x260cec0, ncoldata=@0x260cf20, datatable=0x1a4f018, nparamtotal=@0x260d0e0, ob=0x32d3080, gb=0x32d3118, fxs=@0xbfffac68, y=0x32d31b0, h=0x27b8618) at front41.f:818
> #1  0x00ffcbe7 in front41 (imarg=@0x260fd20, ipcarg=@0x260fda0, nnarg=@0x260d340, ntarg=@0x260d360, nobarg=@0x260d380, nbarg=@0x260d3a0, nmuarg=@0x260fdc0, netaarg=@0x260d3c0, iprintarg=@0x260d3e0, indicarg=@0x260d400, tolarg=@0x260d420, tol2arg=@0x260d440, bignumarg=@0x260d460, step1arg=@0x260d480, igrid2arg=@0x260ce20, gridnoarg=@0x260d4a0, maxitarg=@0x260d4c0, bmuarg=@0x260d4e0, mrestartarg=@0x260d500, frestartarg=@0x260d520, nrestartarg=@0x260ce40, nstartval=@0x260ce80, startval=0x260d540, nrowdata=@0x260cec0, ncoldata=@0x260cf20, datatable=0x1a4f018, nparamtotal=@0x260d0e0, ob=0x32d3080, gb=0x32d3118, startlogl=@0x260d560, y=0x32d31b0, h=0x27b8618, fmlelogl=@0x260d580, niter=@0x260d260, icodearg=@0x260d280) at front41.f:74
> #2  0x0046c5ab in do_dotCode (call=0x12c1c60, op=0x101b2d0, args=0x262b024, env=0x31e74b4) at ../../../../R-2.15-branch/src/main/dotcode.c:1901
> #3  0x0049a681 in Rf_eval (e=0x12c1c60, rho=0x31e74b4) at ../../../../R-2.15-branch/src/main/eval.c:494
> #4  0x0049d9c6 in do_set (call=0x12c1bd4, op=0x100e2a8, args=0x12c1bf0, rho=0x31e74b4) at ../../../../R-2.15-branch/src/main/eval.c:1717
> #5  0x0049a482 in Rf_eval (e=0x12c1bd4, rho=0x31e74b4) at ../../../../R-2.15-branch/src/main/eval.c:468
> #6  0x0049c362 in do_begin (call=0x1591c00, op=0x100e1ac, args=0x12c1640, rho=0x31e74b4) at ../../../../R-2.15-branch/src/main/eval.c:1415
> #7  0x0049a482 in Rf_eval (e=0x1591c00, rho=0x31e74b4) at ../../../../R-2.15-branch/src/main/eval.c:468
> #8  0x0049f8bd in Rf_applyClosure (call=0x21f3580, op=0x11b9d9c, arglist=0x31e673c, rho=0x102519c, suppliedenv=0x10251b8) at ../../../../R-2.15-branch/src/main/eval.c:861
> #9  0x0049a382 in Rf_eval (e=0x21f3580, rho=0x102519c) at ../../../../R-2.15-branch/src/main/eval.c:512
> #10 0x0049d9c6 in do_set (call=0x21f35d4, op=0x100e2a8, args=0x21f35b8, rho=0x102519c) at ../../../../R-2.15-branch/src/main/eval.c:1717
> #11 0x0049a482 in Rf_eval (e=0x21f35d4, rho=0x102519c) at ../../../../R-2.15-branch/src/main/eval.c:468
> #12 0x0049b1aa in do_eval (call=0x10dcad0, op=0x101d394, args=0x31e6800, rho=0x31e6838) at ../../../../R-2.15-branch/src/main/eval.c:2107
> 
> The code crashes at exactly the same line in 64-bit mode as well, so it's likely a real bug. valgrind seems to confirm that it's a OOB read bug in front41.f at 818:
> 
> smmry.>    # Efficiency Effects Frontier
> smmry.>    rice2 <- sfa( log( PROD ) ~ log( AREA ) + log( LABOR ) + log( NPK ) |
> smmry.+       EDYRS + BANRAT, data = riceProdPhil )
> ==76290== Invalid read of size 8
> ==76290==    at 0x867E433: info_ (front41.f:818)
> ==76290==    by 0x8682BE6: front41_ (front41.f:74)
> ==76290==    by 0x46C5AA: do_dotCode (dotcode.c:1901)
> ==76290==    by 0x49A680: Rf_eval (eval.c:494)
> ==76290==    by 0x49D9C5: do_set (eval.c:1717)
> ==76290==    by 0x49A481: Rf_eval (eval.c:468)
> ==76290==    by 0x49C361: do_begin (eval.c:1415)
> ==76290==    by 0x49A481: Rf_eval (eval.c:468)
> ==76290==    by 0x49F8BC: Rf_applyClosure (eval.c:861)
> ==76290==    by 0x49A381: Rf_eval (eval.c:512)
> ==76290==    by 0x49D9C5: do_set (eval.c:1717)
> ==76290==    by 0x49A481: Rf_eval (eval.c:468)
> ==76290==  Address 0x8b81288 is 0 bytes after a block of size 22,040 alloc'd
> ==76290==    at 0x16483: malloc (vg_replace_malloc.c:236)
> ==76290==    by 0x4DE762: Rf_allocVector (memory.c:2380)
> ==76290==    by 0x406A48: Rf_allocMatrix (array.c:194)
> ==76290==    by 0x407AC9: do_matrix (array.c:128)
> ==76290==    by 0x4908D7: bcEval (eval.c:4449)
> ==76290==    by 0x49A145: Rf_eval (eval.c:399)
> ==76290==    by 0x49F8BC: Rf_applyClosure (eval.c:861)
> ==76290==    by 0x49A381: Rf_eval (eval.c:512)
> ==76290==    by 0x49B8CC: Rf_evalList (eval.c:1831)
> ==76290==    by 0x49A54A: Rf_eval (eval.c:487)
> ==76290==    by 0x49D9C5: do_set (eval.c:1717)
> ==76290==    by 0x49A481: Rf_eval (eval.c:468)
> ==76290== 
> 

I'm sure it's a bug.
I have inserted these lines  just before line 813 of front41.f (the  do 134 k=1,nob  loop in subroutine info)


      call intpr('(info) value of nob at loop 134 ', 31, nob,1)
      call intpr('(info) value of nr  at loop 134 ', 31, nr ,1)
      call intpr('(info) value of nRowData at loop 134 ',36,nRowData,1)
      call intpr('(info) value of nColData at loop 134 ',36,nColData,1)

The result in  ....../frontier/frontier.Rcheck/frontier-Ex_x86_64.Rout is

> 
>    # Efficiency Effects Frontier
>    rice2 <- sfa( log( PROD ) ~ log( AREA ) + log( LABOR ) + log( NPK ) |
+       EDYRS + BANRAT, data = riceProdPhil )
(info) value of nob at loop 134
[1] 344
(info) value of nr  at loop 134
[1] 7
(info) value of nRowData at loop 134
[1] 344
(info) value of nColData at loop 134
[1] 8
>    summary( rice2 )


which implies that in the loop

      do 143 i=2,nr
      xxd(i)=dataTable(k,2+i)
  143 continue

column 9 of dataTable is accessed when i is 7. dataTable has maximum 8 (nColData) columns.
I haven't checked why nr is set to 7 and not a smaller value.

regards,

Berend


From simon.urbanek at r-project.org  Mon Dec  3 21:15:11 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Dec 2012 15:15:11 -0500
Subject: [R-SIG-Mac] Problem loading a package libraries (Error in
	dyn.load) on mac environments
In-Reply-To: <CAF42j20Rneki-bERJKJckt=cE6ei1oRHraACHOG0zM2dyaPiiw@mail.gmail.com>
References: <50BCD498.6080602@gmail.com>
	<D529F951-35D4-49B8-8DE0-5D454089832A@stat.ubc.ca>
	<CAF42j20f+n782SO4aq0hsXFy10nmbBCF6Yru4UA20Qgv_P9W_w@mail.gmail.com>
	<32BCC8FE-BE83-4047-B55C-A884463F525F@stat.ubc.ca>
	<CAF42j20Rneki-bERJKJckt=cE6ei1oRHraACHOG0zM2dyaPiiw@mail.gmail.com>
Message-ID: <E56DD3E3-3AE7-4299-B73C-C688B9C13745@r-project.org>


On Dec 3, 2012, at 2:58 PM, Dan Tenenbaum <dtenenba at fhcrc.org> wrote:

> On Mon, Dec 3, 2012 at 11:55 AM, Davor Cubranic <cubranic at stat.ubc.ca> wrote:
>> Is rTandem built with the same version of Rcpp that is now installed (0.10.1)? The API changed a fair bit over the past few weeks.
> 
> 
> Yes, in fact I just built Rcpp from source immediately before building
> rTANDEM. I get the same results after installing the Rcpp binary from
> CRAN. In both cases, I build and then attempt to load rTANDEM with the
> exact same version of Rcpp.
> 

CRAN version of Rcpp has both x86_64 and i386 libraries - unlike yours. May I suggest someone with the necessary knowledge respond to my initial e-mail before someone gets killed running of the wrong cliff? ;)

Cheers,
Simon



> Dan
> 
> 
>> 
>> Davor
>> 
>> On 2012-12-03, at 11:52 AM, Dan Tenenbaum wrote:
>> 
>>> On Mon, Dec 3, 2012 at 11:13 AM, Davor Cubranic <cubranic at stat.ubc.ca> wrote:
>>>> Looks like you might not have the 64-bit version of the Rcpp dynamic library installed on the first machine. On the second, check if you have the 32-bit version of both XML and expat's dynamic libraries.
>>> 
>>> 
>>> Thanks. I'm working with Frederic on this.
>>> On the first machine, both the 32 and 64 bit versions are Rcpp are
>>> installed (I can library(Rcpp) from both R --arch i386 and R --arch
>>> x86_64), and the installed Rcpp has these files present:
>>> 
>>> pwd
>>> /Library/Frameworks/R.framework/Versions/Current/Resources/library/Rcpp
>>> PETTY:Rcpp biocbuild$ ls -lR libs
>>> total 0
>>> drwxr-xr-x  3 biocbuild  admin  102 Dec  3 11:40 i386
>>> drwxr-xr-x  3 biocbuild  admin  102 Dec  3 11:40 x86_64
>>> 
>>> libs/i386:
>>> total 1216
>>> -rwxr-xr-x  1 biocbuild  admin  619064 Dec  3 11:40 Rcpp.so
>>> 
>>> libs/x86_64:
>>> total 1280
>>> -rwxr-xr-x  1 biocbuild  admin  651920 Dec  3 11:40 Rcpp.so
>>> PETTY:Rcpp biocbuild$ ls -lR lib
>>> total 0
>>> drwxr-xr-x  4 biocbuild  admin  136 Dec  3 11:40 i386
>>> 
>>> lib/i386:
>>> total 11336
>>> -rw-r--r--  1 biocbuild  admin  5177484 Dec  3 11:40 libRcpp.a
>>> -rwxr-xr-x  1 biocbuild  admin   619064 Dec  3 11:40 libRcpp.dylib
>>> 
>>> After building rTANDEM against this Rcpp, I then get the same error
>>> Frederic reports in this thread when trying to library(rTANDEM) on the
>>> x86_64 architecture. Here it is again with sessionInfo():
>>> 
>>>> library(rTANDEM)
>>> Loading required package: XML
>>> Loading required package: Rcpp
>>> Loading required package: data.table
>>> data.table 1.8.6  For help type: help("data.table")
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>> unable to load shared object
>>> '/Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so':
>>> dlopen(/Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so,
>>> 6): Symbol not found: __ZTIN4Rcpp7RObjectE
>>> Referenced from:
>>> /Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so
>>> Expected in: dynamic lookup
>>> 
>>> Error: package or namespace load failed for 'rTANDEM'
>>>> sessionInfo()
>>> R Under development (unstable) (2012-10-31 r61060)
>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>> 
>>> locale:
>>> [1] C
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> 
>>> other attached packages:
>>> [1] data.table_1.8.6 Rcpp_0.10.1      XML_3.95-0.1
>>>> 
>>> 
>>> I'm not sure if Frederic wants the package source to be posted at this
>>> point. I'll let him answer that.
>>> 
>>> Thanks,
>>> Dan
>>> 
>>> 
>>>> 
>>>> Davor
>>>> 
>>>> 
>>>> On 2012-12-03, at 8:34 AM, Frederic Fournier wrote:
>>>> 
>>>>> Hello everyone,
>>>>> 
>>>>> I'm working on a small R package for proteomics analysis, and I am facing perplexing problems related to the 'dyn.load' function when loading the package on mac environments.
>>>>> The package relies on two external libraries, expat and pthread, and on three cran packages: XML, Rcpp and data.table. I have no trouble building, checking or installing the package. But when I load the package on mac testing environments, I face various problems related to this error message: "Error in dyn.load(file, DLLpath=DLLpath, ...): ..."
>>>>> On one machine, the package loads without problem on i386 R, but fails to load on x64 R; on another machine, things are reversed and the package loads on x64, but fails to load on i386.
>>>>> 
>>>>> Here is the output from the machinge where the package loads on i386 but fails on x64 R:
>>>>> 
>>>>>> library(rTANDEM)
>>>>> Loading required package: XML
>>>>> Loading required package: Rcpp
>>>>> Loading required package: data.table
>>>>> data.table 1.8.6  For help type: help("data.table")
>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>> unable to load shared object
>>>>> '/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
>>>>> x86_64/rTANDEM.so':
>>>>> dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
>>>>> /libs/x86_64/rTANDEM.so, 6): Symbol not found: __ZTIN4Rcpp7RObjectE
>>>>> Referenced from:
>>>>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/x
>>>>> 86_64/rTANDEM.so
>>>>> Expected in: dynamic lookup
>>>>> 
>>>>> Error: package or namespace load failed for 'rTANDEM'
>>>>>> sessionInfo()
>>>>> R Under development (unstable) (2012-11-27 r61172)
>>>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>>>> 
>>>>> locale:
>>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>> 
>>>>> attached base packages:
>>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>> 
>>>>> other attached packages:
>>>>> [1] data.table_1.8.6    Rcpp_0.10.1         XML_3.9-4
>>>>> [4] BiocInstaller_1.9.4
>>>>> 
>>>>> loaded via a namespace (and not attached):
>>>>> [1] tools_2.16.0
>>>>> 
>>>>> 
>>>>> Here is the ouput from the machine where the package loads fine on x64 R but fails on i386:
>>>>> 
>>>>>> library(rTANDEM)
>>>>> Loading required package: XML
>>>>> Loading required package: Rcpp
>>>>> Loading required package: data.table
>>>>> data.table 1.8.6  For help type: help("data.table")
>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>> unable to load shared object
>>>>> '/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
>>>>> i386/rTANDEM.so':
>>>>> dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
>>>>> /libs/i386/rTANDEM.so, 6): Symbol not found: _XML_GetErrorCode
>>>>> Referenced from:
>>>>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
>>>>> 386/rTANDEM.so
>>>>> Expected in: flat namespace
>>>>> in
>>>>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
>>>>> 386/rTANDEM.so
>>>>> Error: package or namespace load failed for 'rTANDEM'
>>>>> 
>>>>> 
>>>>> I am left clueless by this. As anyone faced a similar issue?
>>>>> 
>>>>> Thank you very much for your help!
>>>>> 
>>>>> Frederic
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From dtenenba at fhcrc.org  Mon Dec  3 21:18:56 2012
From: dtenenba at fhcrc.org (Dan Tenenbaum)
Date: Mon, 3 Dec 2012 12:18:56 -0800
Subject: [R-SIG-Mac] Problem loading a package libraries (Error in
 dyn.load) on mac environments
In-Reply-To: <E56DD3E3-3AE7-4299-B73C-C688B9C13745@r-project.org>
References: <50BCD498.6080602@gmail.com>
	<D529F951-35D4-49B8-8DE0-5D454089832A@stat.ubc.ca>
	<CAF42j20f+n782SO4aq0hsXFy10nmbBCF6Yru4UA20Qgv_P9W_w@mail.gmail.com>
	<32BCC8FE-BE83-4047-B55C-A884463F525F@stat.ubc.ca>
	<CAF42j20Rneki-bERJKJckt=cE6ei1oRHraACHOG0zM2dyaPiiw@mail.gmail.com>
	<E56DD3E3-3AE7-4299-B73C-C688B9C13745@r-project.org>
Message-ID: <CAF42j23dbi4rcgrtD=H4L3BFEGb9upbMkmjdVX6kOtHnOxLexQ@mail.gmail.com>

On Mon, Dec 3, 2012 at 12:15 PM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> On Dec 3, 2012, at 2:58 PM, Dan Tenenbaum <dtenenba at fhcrc.org> wrote:
>
>> On Mon, Dec 3, 2012 at 11:55 AM, Davor Cubranic <cubranic at stat.ubc.ca> wrote:
>>> Is rTandem built with the same version of Rcpp that is now installed (0.10.1)? The API changed a fair bit over the past few weeks.
>>
>>
>> Yes, in fact I just built Rcpp from source immediately before building
>> rTANDEM. I get the same results after installing the Rcpp binary from
>> CRAN. In both cases, I build and then attempt to load rTANDEM with the
>> exact same version of Rcpp.
>>
>
> CRAN version of Rcpp has both x86_64 and i386 libraries - unlike yours. May I suggest someone with the necessary knowledge respond to my initial e-mail before someone gets killed running of the wrong cliff? ;)

Hi Simon, you're right. If Rcpp is removed and then installed from
CRAN (binary version), the installed package then has both x86_64 and
i386 libraries, and rTANDEM then installs on both architectures.

Thanks for your help, sorry for the noise.
Dan



>
> Cheers,
> Simon
>
>
>
>> Dan
>>
>>
>>>
>>> Davor
>>>
>>> On 2012-12-03, at 11:52 AM, Dan Tenenbaum wrote:
>>>
>>>> On Mon, Dec 3, 2012 at 11:13 AM, Davor Cubranic <cubranic at stat.ubc.ca> wrote:
>>>>> Looks like you might not have the 64-bit version of the Rcpp dynamic library installed on the first machine. On the second, check if you have the 32-bit version of both XML and expat's dynamic libraries.
>>>>
>>>>
>>>> Thanks. I'm working with Frederic on this.
>>>> On the first machine, both the 32 and 64 bit versions are Rcpp are
>>>> installed (I can library(Rcpp) from both R --arch i386 and R --arch
>>>> x86_64), and the installed Rcpp has these files present:
>>>>
>>>> pwd
>>>> /Library/Frameworks/R.framework/Versions/Current/Resources/library/Rcpp
>>>> PETTY:Rcpp biocbuild$ ls -lR libs
>>>> total 0
>>>> drwxr-xr-x  3 biocbuild  admin  102 Dec  3 11:40 i386
>>>> drwxr-xr-x  3 biocbuild  admin  102 Dec  3 11:40 x86_64
>>>>
>>>> libs/i386:
>>>> total 1216
>>>> -rwxr-xr-x  1 biocbuild  admin  619064 Dec  3 11:40 Rcpp.so
>>>>
>>>> libs/x86_64:
>>>> total 1280
>>>> -rwxr-xr-x  1 biocbuild  admin  651920 Dec  3 11:40 Rcpp.so
>>>> PETTY:Rcpp biocbuild$ ls -lR lib
>>>> total 0
>>>> drwxr-xr-x  4 biocbuild  admin  136 Dec  3 11:40 i386
>>>>
>>>> lib/i386:
>>>> total 11336
>>>> -rw-r--r--  1 biocbuild  admin  5177484 Dec  3 11:40 libRcpp.a
>>>> -rwxr-xr-x  1 biocbuild  admin   619064 Dec  3 11:40 libRcpp.dylib
>>>>
>>>> After building rTANDEM against this Rcpp, I then get the same error
>>>> Frederic reports in this thread when trying to library(rTANDEM) on the
>>>> x86_64 architecture. Here it is again with sessionInfo():
>>>>
>>>>> library(rTANDEM)
>>>> Loading required package: XML
>>>> Loading required package: Rcpp
>>>> Loading required package: data.table
>>>> data.table 1.8.6  For help type: help("data.table")
>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>> unable to load shared object
>>>> '/Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so':
>>>> dlopen(/Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so,
>>>> 6): Symbol not found: __ZTIN4Rcpp7RObjectE
>>>> Referenced from:
>>>> /Library/Frameworks/R.framework/Versions/2.16/Resources/library/rTANDEM/libs/x86_64/rTANDEM.so
>>>> Expected in: dynamic lookup
>>>>
>>>> Error: package or namespace load failed for 'rTANDEM'
>>>>> sessionInfo()
>>>> R Under development (unstable) (2012-10-31 r61060)
>>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>>>
>>>> locale:
>>>> [1] C
>>>>
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>
>>>> other attached packages:
>>>> [1] data.table_1.8.6 Rcpp_0.10.1      XML_3.95-0.1
>>>>>
>>>>
>>>> I'm not sure if Frederic wants the package source to be posted at this
>>>> point. I'll let him answer that.
>>>>
>>>> Thanks,
>>>> Dan
>>>>
>>>>
>>>>>
>>>>> Davor
>>>>>
>>>>>
>>>>> On 2012-12-03, at 8:34 AM, Frederic Fournier wrote:
>>>>>
>>>>>> Hello everyone,
>>>>>>
>>>>>> I'm working on a small R package for proteomics analysis, and I am facing perplexing problems related to the 'dyn.load' function when loading the package on mac environments.
>>>>>> The package relies on two external libraries, expat and pthread, and on three cran packages: XML, Rcpp and data.table. I have no trouble building, checking or installing the package. But when I load the package on mac testing environments, I face various problems related to this error message: "Error in dyn.load(file, DLLpath=DLLpath, ...): ..."
>>>>>> On one machine, the package loads without problem on i386 R, but fails to load on x64 R; on another machine, things are reversed and the package loads on x64, but fails to load on i386.
>>>>>>
>>>>>> Here is the output from the machinge where the package loads on i386 but fails on x64 R:
>>>>>>
>>>>>>> library(rTANDEM)
>>>>>> Loading required package: XML
>>>>>> Loading required package: Rcpp
>>>>>> Loading required package: data.table
>>>>>> data.table 1.8.6  For help type: help("data.table")
>>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>> unable to load shared object
>>>>>> '/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
>>>>>> x86_64/rTANDEM.so':
>>>>>> dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
>>>>>> /libs/x86_64/rTANDEM.so, 6): Symbol not found: __ZTIN4Rcpp7RObjectE
>>>>>> Referenced from:
>>>>>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/x
>>>>>> 86_64/rTANDEM.so
>>>>>> Expected in: dynamic lookup
>>>>>>
>>>>>> Error: package or namespace load failed for 'rTANDEM'
>>>>>>> sessionInfo()
>>>>>> R Under development (unstable) (2012-11-27 r61172)
>>>>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>>>>>
>>>>>> locale:
>>>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>>
>>>>>> attached base packages:
>>>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>>>
>>>>>> other attached packages:
>>>>>> [1] data.table_1.8.6    Rcpp_0.10.1         XML_3.9-4
>>>>>> [4] BiocInstaller_1.9.4
>>>>>>
>>>>>> loaded via a namespace (and not attached):
>>>>>> [1] tools_2.16.0
>>>>>>
>>>>>>
>>>>>> Here is the ouput from the machine where the package loads fine on x64 R but fails on i386:
>>>>>>
>>>>>>> library(rTANDEM)
>>>>>> Loading required package: XML
>>>>>> Loading required package: Rcpp
>>>>>> Loading required package: data.table
>>>>>> data.table 1.8.6  For help type: help("data.table")
>>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>> unable to load shared object
>>>>>> '/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/
>>>>>> i386/rTANDEM.so':
>>>>>> dlopen(/Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM
>>>>>> /libs/i386/rTANDEM.so, 6): Symbol not found: _XML_GetErrorCode
>>>>>> Referenced from:
>>>>>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
>>>>>> 386/rTANDEM.so
>>>>>> Expected in: flat namespace
>>>>>> in
>>>>>> /Library/Frameworks/R.framework/Versions/2.16new/Resources/library/rTANDEM/libs/i
>>>>>> 386/rTANDEM.so
>>>>>> Error: package or namespace load failed for 'rTANDEM'
>>>>>>
>>>>>>
>>>>>> I am left clueless by this. As anyone faced a similar issue?
>>>>>>
>>>>>> Thank you very much for your help!
>>>>>>
>>>>>> Frederic
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>


From frederic.bioinfo at gmail.com  Mon Dec  3 21:36:05 2012
From: frederic.bioinfo at gmail.com (Frederic Fournier)
Date: Mon, 3 Dec 2012 15:36:05 -0500
Subject: [R-SIG-Mac] Problem loading a package libraries (Error in
 dyn.load) on mac environments
In-Reply-To: <CAF42j23dbi4rcgrtD=H4L3BFEGb9upbMkmjdVX6kOtHnOxLexQ@mail.gmail.com>
References: <50BCD498.6080602@gmail.com>
	<D529F951-35D4-49B8-8DE0-5D454089832A@stat.ubc.ca>
	<CAF42j20f+n782SO4aq0hsXFy10nmbBCF6Yru4UA20Qgv_P9W_w@mail.gmail.com>
	<32BCC8FE-BE83-4047-B55C-A884463F525F@stat.ubc.ca>
	<CAF42j20Rneki-bERJKJckt=cE6ei1oRHraACHOG0zM2dyaPiiw@mail.gmail.com>
	<E56DD3E3-3AE7-4299-B73C-C688B9C13745@r-project.org>
	<CAF42j23dbi4rcgrtD=H4L3BFEGb9upbMkmjdVX6kOtHnOxLexQ@mail.gmail.com>
Message-ID: <CAJu3VtFyCKK4s3WyDY0M4_tr0NyjnFvQ66cx4o2tigXZDOBsBA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121203/397c4d3e/attachment.pl>

From arne.henningsen at gmail.com  Tue Dec  4 00:00:59 2012
From: arne.henningsen at gmail.com (Arne Henningsen)
Date: Tue, 4 Dec 2012 00:00:59 +0100
Subject: [R-SIG-Mac] Making package "frontier" available for Mac:
 debugging Fortran code
In-Reply-To: <3FE328FA-E47E-46F9-B5A2-E145B962E3D5@xs4all.nl>
References: <CAMTWbJhAGxX4dcBkKoO_BSCHnouKxOBkh_S9rYKftua+2oMTig@mail.gmail.com>
	<6B2206DA-78D3-47C8-9383-5B656C70D110@r-project.org>
	<3FE328FA-E47E-46F9-B5A2-E145B962E3D5@xs4all.nl>
Message-ID: <CAMTWbJjOXKAv7K-jxBfV-V7wPs+A_2cpWqu_UTjxTSyjw0-kOw@mail.gmail.com>

Dear Berend and Simon

Thanks a lot for making me aware of this bug and for sending me so
many details. I probably would not have found the bug without your
help. I have fixed it on R-Forge and I will upload the fixed version
to CRAN.

Best regards,
Arne


On 3 December 2012 21:06, Berend Hasselman <bhh at xs4all.nl> wrote:
>
> Arne,
>
> I believe I have found the bug.
> Thanks to the traceback of Simon.
>
> On 03-12-2012, at 20:05, Simon Urbanek wrote:
>
>> Arne,
>>
>> unfortunately I don't think I can help you with Fortran code, but this is the trace from the crash:
>>
>>> example(summary.frontier)
>> [...]
>> smmry.>    # Efficiency Effects Frontier
>> smmry.>    rice2 <- sfa( log( PROD ) ~ log( AREA ) + log( LABOR ) + log( NPK ) |
>> smmry.+       EDYRS + BANRAT, data = riceProdPhil )
>>
>> Program received signal EXC_BAD_ACCESS, Could not access memory.
>> Reason: KERN_INVALID_ADDRESS at address: 0x01a55000
>> 0x00ff8433 in info (nstartval=@0x260ce80, startval=0x260d540, nrowdata=@0x260cec0, ncoldata=@0x260cf20, datatable=0x1a4f018, nparamtotal=@0x260d0e0, ob=0x32d3080, gb=0x32d3118, fxs=@0xbfffac68, y=0x32d31b0, h=0x27b8618) at front41.f:818
>> 818         xxd(i)=dataTable(k,2+i)
>> (gdb) p i
>> $1 = 7
>> Current language:  auto; currently fortran
>> (gdb) p k
>> $2 = 318
>> (gdb) bt
>> #0  0x00ff8433 in info (nstartval=@0x260ce80, startval=0x260d540, nrowdata=@0x260cec0, ncoldata=@0x260cf20, datatable=0x1a4f018, nparamtotal=@0x260d0e0, ob=0x32d3080, gb=0x32d3118, fxs=@0xbfffac68, y=0x32d31b0, h=0x27b8618) at front41.f:818
>> #1  0x00ffcbe7 in front41 (imarg=@0x260fd20, ipcarg=@0x260fda0, nnarg=@0x260d340, ntarg=@0x260d360, nobarg=@0x260d380, nbarg=@0x260d3a0, nmuarg=@0x260fdc0, netaarg=@0x260d3c0, iprintarg=@0x260d3e0, indicarg=@0x260d400, tolarg=@0x260d420, tol2arg=@0x260d440, bignumarg=@0x260d460, step1arg=@0x260d480, igrid2arg=@0x260ce20, gridnoarg=@0x260d4a0, maxitarg=@0x260d4c0, bmuarg=@0x260d4e0, mrestartarg=@0x260d500, frestartarg=@0x260d520, nrestartarg=@0x260ce40, nstartval=@0x260ce80, startval=0x260d540, nrowdata=@0x260cec0, ncoldata=@0x260cf20, datatable=0x1a4f018, nparamtotal=@0x260d0e0, ob=0x32d3080, gb=0x32d3118, startlogl=@0x260d560, y=0x32d31b0, h=0x27b8618, fmlelogl=@0x260d580, niter=@0x260d260, icodearg=@0x260d280) at front41.f:74
>> #2  0x0046c5ab in do_dotCode (call=0x12c1c60, op=0x101b2d0, args=0x262b024, env=0x31e74b4) at ../../../../R-2.15-branch/src/main/dotcode.c:1901
>> #3  0x0049a681 in Rf_eval (e=0x12c1c60, rho=0x31e74b4) at ../../../../R-2.15-branch/src/main/eval.c:494
>> #4  0x0049d9c6 in do_set (call=0x12c1bd4, op=0x100e2a8, args=0x12c1bf0, rho=0x31e74b4) at ../../../../R-2.15-branch/src/main/eval.c:1717
>> #5  0x0049a482 in Rf_eval (e=0x12c1bd4, rho=0x31e74b4) at ../../../../R-2.15-branch/src/main/eval.c:468
>> #6  0x0049c362 in do_begin (call=0x1591c00, op=0x100e1ac, args=0x12c1640, rho=0x31e74b4) at ../../../../R-2.15-branch/src/main/eval.c:1415
>> #7  0x0049a482 in Rf_eval (e=0x1591c00, rho=0x31e74b4) at ../../../../R-2.15-branch/src/main/eval.c:468
>> #8  0x0049f8bd in Rf_applyClosure (call=0x21f3580, op=0x11b9d9c, arglist=0x31e673c, rho=0x102519c, suppliedenv=0x10251b8) at ../../../../R-2.15-branch/src/main/eval.c:861
>> #9  0x0049a382 in Rf_eval (e=0x21f3580, rho=0x102519c) at ../../../../R-2.15-branch/src/main/eval.c:512
>> #10 0x0049d9c6 in do_set (call=0x21f35d4, op=0x100e2a8, args=0x21f35b8, rho=0x102519c) at ../../../../R-2.15-branch/src/main/eval.c:1717
>> #11 0x0049a482 in Rf_eval (e=0x21f35d4, rho=0x102519c) at ../../../../R-2.15-branch/src/main/eval.c:468
>> #12 0x0049b1aa in do_eval (call=0x10dcad0, op=0x101d394, args=0x31e6800, rho=0x31e6838) at ../../../../R-2.15-branch/src/main/eval.c:2107
>>
>> The code crashes at exactly the same line in 64-bit mode as well, so it's likely a real bug. valgrind seems to confirm that it's a OOB read bug in front41.f at 818:
>>
>> smmry.>    # Efficiency Effects Frontier
>> smmry.>    rice2 <- sfa( log( PROD ) ~ log( AREA ) + log( LABOR ) + log( NPK ) |
>> smmry.+       EDYRS + BANRAT, data = riceProdPhil )
>> ==76290== Invalid read of size 8
>> ==76290==    at 0x867E433: info_ (front41.f:818)
>> ==76290==    by 0x8682BE6: front41_ (front41.f:74)
>> ==76290==    by 0x46C5AA: do_dotCode (dotcode.c:1901)
>> ==76290==    by 0x49A680: Rf_eval (eval.c:494)
>> ==76290==    by 0x49D9C5: do_set (eval.c:1717)
>> ==76290==    by 0x49A481: Rf_eval (eval.c:468)
>> ==76290==    by 0x49C361: do_begin (eval.c:1415)
>> ==76290==    by 0x49A481: Rf_eval (eval.c:468)
>> ==76290==    by 0x49F8BC: Rf_applyClosure (eval.c:861)
>> ==76290==    by 0x49A381: Rf_eval (eval.c:512)
>> ==76290==    by 0x49D9C5: do_set (eval.c:1717)
>> ==76290==    by 0x49A481: Rf_eval (eval.c:468)
>> ==76290==  Address 0x8b81288 is 0 bytes after a block of size 22,040 alloc'd
>> ==76290==    at 0x16483: malloc (vg_replace_malloc.c:236)
>> ==76290==    by 0x4DE762: Rf_allocVector (memory.c:2380)
>> ==76290==    by 0x406A48: Rf_allocMatrix (array.c:194)
>> ==76290==    by 0x407AC9: do_matrix (array.c:128)
>> ==76290==    by 0x4908D7: bcEval (eval.c:4449)
>> ==76290==    by 0x49A145: Rf_eval (eval.c:399)
>> ==76290==    by 0x49F8BC: Rf_applyClosure (eval.c:861)
>> ==76290==    by 0x49A381: Rf_eval (eval.c:512)
>> ==76290==    by 0x49B8CC: Rf_evalList (eval.c:1831)
>> ==76290==    by 0x49A54A: Rf_eval (eval.c:487)
>> ==76290==    by 0x49D9C5: do_set (eval.c:1717)
>> ==76290==    by 0x49A481: Rf_eval (eval.c:468)
>> ==76290==
>>
>
> I'm sure it's a bug.
> I have inserted these lines  just before line 813 of front41.f (the  do 134 k=1,nob  loop in subroutine info)
>
>
>       call intpr('(info) value of nob at loop 134 ', 31, nob,1)
>       call intpr('(info) value of nr  at loop 134 ', 31, nr ,1)
>       call intpr('(info) value of nRowData at loop 134 ',36,nRowData,1)
>       call intpr('(info) value of nColData at loop 134 ',36,nColData,1)
>
> The result in  ....../frontier/frontier.Rcheck/frontier-Ex_x86_64.Rout is
>
>>
>>    # Efficiency Effects Frontier
>>    rice2 <- sfa( log( PROD ) ~ log( AREA ) + log( LABOR ) + log( NPK ) |
> +       EDYRS + BANRAT, data = riceProdPhil )
> (info) value of nob at loop 134
> [1] 344
> (info) value of nr  at loop 134
> [1] 7
> (info) value of nRowData at loop 134
> [1] 344
> (info) value of nColData at loop 134
> [1] 8
>>    summary( rice2 )
>
>
> which implies that in the loop
>
>       do 143 i=2,nr
>       xxd(i)=dataTable(k,2+i)
>   143 continue
>
> column 9 of dataTable is accessed when i is 7. dataTable has maximum 8 (nColData) columns.
> I haven't checked why nr is set to 7 and not a smaller value.
>
> regards,
>
> Berend
>
>
>
>



-- 
Arne Henningsen
http://www.arne-henningsen.name


From jalvesaq at gmail.com  Tue Dec  4 03:14:07 2012
From: jalvesaq at gmail.com (Jakson Alves de Aquino)
Date: Mon, 3 Dec 2012 23:14:07 -0300
Subject: [R-SIG-Mac] library not found for -lX11
In-Reply-To: <CAGBu4CO4PSiZc70Y-WKht5amq-m31zd2mrCP=HPObka=RkZ7PQ@mail.gmail.com>
References: <CAGBu4CO9Tc_ETcy9ac3LdprnSe0sERb9ZJgKjynqT5t=XBsfRA@mail.gmail.com>
	<AC4AA2FF-600A-4223-B1D2-6F6A82401BE8@r-project.org>
	<8FD32CE1-5872-42BB-9114-E22D86F13783@r-project.org>
	<CAGBu4CO4PSiZc70Y-WKht5amq-m31zd2mrCP=HPObka=RkZ7PQ@mail.gmail.com>
Message-ID: <CAGBu4CP_dJjxiHcy2cF6B-CWc+WovF1gq=mMU-i6znATu+WV1A@mail.gmail.com>

On Thu, Nov 29, 2012 at 6:49 PM, Jakson Alves de Aquino
<jalvesaq at gmail.com> wrote:
> On Thu, Nov 29, 2012 at 5:55 PM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> I wrote this post yesterday but for some reason it did not leave the
>> outbox, so apologies to everyone since a mailer glitch apparently
>> failed to prevent the waste of time of quite a few people. To follow
>> up on the post - the autoconf macros to look for are AC_PATH_X and
>> AC_PATH_XTRA.
>
> Thank you! I updated the package using AC_PATH_EXTRA in the
> configure.ac.

Good news: the new version of vimcom package is on CRAN now and its
binary for Mac OS X is available there.

I'm grateful to everyone who helped either suggesting solutions to the
problem or testing the package. The Vim-R-plugin, which uses vimcom,
is here (with link to screenshots and videos):

   http://www.vim.org/scripts/script.php?script_id=2628

Best regards,

-- 
Jakson Alves de Aquino
Federal University of Cear?
Social Sciences Department
www.lepem.ufc.br/aquino.php


From ivan.calandra at u-bourgogne.fr  Tue Dec  4 10:28:09 2012
From: ivan.calandra at u-bourgogne.fr (Ivan Calandra)
Date: Tue, 04 Dec 2012 10:28:09 +0100
Subject: [R-SIG-Mac] phantom text in console with R 2.15.2
In-Reply-To: <9E3A28C4A2BD4118927DEEDD6B65E85E@sheffield.ac.uk>
References: <A1C43CD5DD424851AE8437592EB8321F@sheffield.ac.uk>
	<F9FAB83A-C6B6-4792-92AD-65E00E0143C0@comcast.net>
	<9E3A28C4A2BD4118927DEEDD6B65E85E@sheffield.ac.uk>
Message-ID: <50BDC229.8090906@u-bourgogne.fr>

I cannot reproduce this behavior, but it did happen to me. I don't 
remember how exactly.

sessionInfo()
R version 2.15.2 (2012-10-26)
Platform: i386-apple-darwin9.8.0/i386 (32-bit)
locale:
[1] fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8
attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods base

Ivan

--
Ivan CALANDRA
Universit? de Bourgogne
UMR CNRS/uB 6282 Biog?osciences
6 Boulevard Gabriel
21000 Dijon, FRANCE
+33(0)3.80.39.63.06
ivan.calandra at u-bourgogne.fr
http://biogeosciences.u-bourgogne.fr/calandra

Le 30/11/12 16:08, Andrew Beckerman a ?crit :
> test <- rnorm(10,0,1)


From ivan.calandra at u-bourgogne.fr  Tue Dec  4 10:51:10 2012
From: ivan.calandra at u-bourgogne.fr (Ivan Calandra)
Date: Tue, 04 Dec 2012 10:51:10 +0100
Subject: [R-SIG-Mac] help with Tcl/Tk
In-Reply-To: <50B72980.60807@u-bourgogne.fr>
References: <50B72980.60807@u-bourgogne.fr>
Message-ID: <50BDC78E.5010809@u-bourgogne.fr>

Dear users,

In trying to use tcltk, svDialogs and gsubfn I have encountered an error 
that seems to stem from package Tcl/Tk.

I can load tcltk, everything looks fine, but if I try ?tk_choose.dir or 
whatever, then R hangs and I have to force exit.

I have tried with svDialogs as well and here is what happens:

 > sessionInfo()
R version 2.15.2 (2012-10-26)
Platform: i386-apple-darwin9.8.0/i386 (32-bit)
locale:
[1] fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8
attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

 > library(svDialogs)
Le chargement a n?cessit? le package : svGUI
Le chargement a n?cessit? le package : svMisc
Le chargement a n?cessit? le package : tcltk
Chargement de Tcl/Tk...
  *** caught bus error ***
address 0x1, cause 'non-existent physical address'

Traceback:
  1: sys.parent()
  2: sys.function(sys.parent())
  3: formals(sys.function(sys.parent()))
  4: match.arg(encoding)
  5: match(match.arg(encoding), c("", "bytes", "UTF-8"))
  6: textConnection("rval", "w", local = TRUE)
  7: capture.output(print(args(dlgDir)))
  8: paste(capture.output(print(args(dlgDir))), collapse = "")
  9: gsub("\\s+", " ", paste(capture.output(print(args(dlgDir))), 
collapse = ""))
10: doTryCatch(return(expr), name, parentenv, handler)
11: tryCatchOne(expr, names, parentenv, handlers[[1L]])
12: tryCatchList(expr, classes, parentenv, handlers)
13: tryCatch(expr, error = function(e) {    call <- conditionCall(e)    
if (!is.null(call)) {        if (identical(call[[1L]], 
quote(doTryCatch)))             call <- sys.call(-4L)        dcall <- 
deparse(call)[1L]        prefix <- paste("Error in", dcall, ": ")        
LONG <- 75L msg <- conditionMessage(e)        sm <- strsplit(msg, 
"\n")[[1L]] w <- 14L + nchar(dcall, type = "w") + nchar(sm[1L], type = 
"w")        if (is.na(w))             w <- 14L + nchar(dcall, type = 
"b") + nchar(sm[1L],                 type = "b")        if (w > 
LONG)             prefix <- paste0(prefix, "\n  ")    } else prefix <- 
"Error : "    msg <- paste0(prefix, conditionMessage(e), "\n") 
.Internal(seterrmessage(msg[1L]))    if (!silent && 
identical(getOption("show.error.messages"),         TRUE)) { cat(msg, 
file = stderr()) .Internal(printDeferredWarnings())    } 
invisible(structure(msg, class = "try-error", condition = e))})
14: try(gsub("\\s+", " ", paste(capture.output(print(args(dlgDir))),     
collapse = "")), silent = TRUE)

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace

 > mydir <- dlgDir()

Everything from ***caught bus error*** appears only when I type the last 
line (mydir <- dlgDir()).

I have the same problem with any function from gsubfn, i.e. any function 
that uses tcltk...

Can anyone help me?

Ivan

-- 
Ivan CALANDRA
Universit? de Bourgogne
UMR CNRS/uB 6282 Biog?osciences
6 Boulevard Gabriel
21000 Dijon, FRANCE
+33(0)3.80.39.63.06
ivan.calandra at u-bourgogne.fr
http://biogeosciences.u-bourgogne.fr/calandra


From rayd at liondatasystems.com  Tue Dec  4 17:53:25 2012
From: rayd at liondatasystems.com (Ray DiGiacomo, Jr.)
Date: Tue, 4 Dec 2012 08:53:25 -0800
Subject: [R-SIG-Mac] help with Tcl/Tk
In-Reply-To: <50BDC78E.5010809@u-bourgogne.fr>
References: <50B72980.60807@u-bourgogne.fr> <50BDC78E.5010809@u-bourgogne.fr>
Message-ID: <CACT39NatZSbS4zZJ9sRHOh3ZwBaC2zQ-MtnVqtKNWOWpo_upPw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121204/c82c92e0/attachment.pl>

From ivan.calandra at u-bourgogne.fr  Wed Dec  5 11:22:09 2012
From: ivan.calandra at u-bourgogne.fr (Ivan Calandra)
Date: Wed, 05 Dec 2012 11:22:09 +0100
Subject: [R-SIG-Mac] help with Tcl/Tk
In-Reply-To: <CACT39NatZSbS4zZJ9sRHOh3ZwBaC2zQ-MtnVqtKNWOWpo_upPw@mail.gmail.com>
References: <50B72980.60807@u-bourgogne.fr> <50BDC78E.5010809@u-bourgogne.fr>
	<CACT39NatZSbS4zZJ9sRHOh3ZwBaC2zQ-MtnVqtKNWOWpo_upPw@mail.gmail.com>
Message-ID: <50BF2051.6020001@u-bourgogne.fr>

Hi Ray!

That was it!! I didn't know about this, but now it works perfectly; 
thanks a lot!

Ivan

--
Ivan CALANDRA
Universit? de Bourgogne
UMR CNRS/uB 6282 Biog?osciences
6 Boulevard Gabriel
21000 Dijon, FRANCE
+33(0)3.80.39.63.06
ivan.calandra at u-bourgogne.fr
http://biogeosciences.u-bourgogne.fr/calandra

Le 04/12/12 17:53, Ray DiGiacomo, Jr. a ?crit :
> Bonjour Ivan,
>
> Did you have a chance to install the "tcltk-8.5.5-x11.dmg" file at:
>
> http://cran.r-project.org/bin/macosx/tools/
>
> Best Regards,
>
> Ray DiGiacomo, Jr.
> Healthcare Predictive Analytics Specialist
> Master R Trainer
> President, Lion Data Systems LLC
> President, The Orange County R User Group
> Board Member, TDWI
> rayd at liondatasystems.com <mailto:rayd at liondatasystems.com>
> (m) 408-425-7851
> San Juan Capistrano, California USA
> twitter.com/liondatasystems <http://twitter.com/liondatasystems>
> linkedin.com/in/raydigiacomojr <http://linkedin.com/in/raydigiacomojr>
> youtube.com/user/liondatasystems/videos 
> <http://youtube.com/user/liondatasystems/videos>
>
> Check out my one-on-one web-based R Training Courses at 
> liondatasystems.com/courses <http://liondatasystems.com/courses>
>
>
>
>
>
>
>
> On Tue, Dec 4, 2012 at 1:51 AM, Ivan Calandra 
> <ivan.calandra at u-bourgogne.fr <mailto:ivan.calandra at u-bourgogne.fr>> 
> wrote:
>
>     Dear users,
>
>     In trying to use tcltk, svDialogs and gsubfn I have encountered an
>     error that seems to stem from package Tcl/Tk.
>
>
>     I can load tcltk, everything looks fine, but if I try
>     ?tk_choose.dir or whatever, then R hangs and I have to force exit.
>
>     I have tried with svDialogs as well and here is what happens:
>
>     > sessionInfo()
>     R version 2.15.2 (2012-10-26)
>     Platform: i386-apple-darwin9.8.0/i386 (32-bit)
>     locale:
>     [1] fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8
>     attached base packages:
>     [1] stats     graphics  grDevices utils     datasets  methods   base
>
>     > library(svDialogs)
>     Le chargement a n?cessit? le package : svGUI
>     Le chargement a n?cessit? le package : svMisc
>     Le chargement a n?cessit? le package : tcltk
>     Chargement de Tcl/Tk...
>      *** caught bus error ***
>     address 0x1, cause 'non-existent physical address'
>
>     Traceback:
>      1: sys.parent()
>      2: sys.function(sys.parent())
>      3: formals(sys.function(sys.parent()))
>      4: match.arg(encoding)
>      5: match(match.arg(encoding), c("", "bytes", "UTF-8"))
>      6: textConnection("rval", "w", local = TRUE)
>      7: capture.output(print(args(dlgDir)))
>      8: paste(capture.output(print(args(dlgDir))), collapse = "")
>      9: gsub("\\s+", " ", paste(capture.output(print(args(dlgDir))),
>     collapse = ""))
>     10: doTryCatch(return(expr), name, parentenv, handler)
>     11: tryCatchOne(expr, names, parentenv, handlers[[1L]])
>     12: tryCatchList(expr, classes, parentenv, handlers)
>     13: tryCatch(expr, error = function(e) {    call <-
>     conditionCall(e)    if (!is.null(call)) {        if
>     (identical(call[[1L]], quote(doTryCatch))) call <- sys.call(-4L)  
>          dcall <- deparse(call)[1L]        prefix <- paste("Error in",
>     dcall, ": ")        LONG <- 75L msg <- conditionMessage(e)      
>      sm <- strsplit(msg, "\n")[[1L]] w <- 14L + nchar(dcall, type =
>     "w") + nchar(sm[1L], type = "w")        if (is.na
>     <http://is.na>(w))             w <- 14L + nchar(dcall, type = "b")
>     + nchar(sm[1L], type = "b")        if (w > LONG)            
>     prefix <- paste0(prefix, "\n  ")    } else prefix <- "Error : "  
>      msg <- paste0(prefix, conditionMessage(e), "\n")
>     .Internal(seterrmessage(msg[1L]))    if (!silent &&
>     identical(getOption("show.error.messages"),     TRUE)) { cat(msg,
>     file = stderr()) .Internal(printDeferredWarnings())    }
>     invisible(structure(msg, class = "try-error", condition = e))})
>     14: try(gsub("\\s+", " ",
>     paste(capture.output(print(args(dlgDir))),     collapse = "")),
>     silent = TRUE)
>
>     Possible actions:
>     1: abort (with core dump, if enabled)
>     2: normal R exit
>     3: exit R without saving workspace
>     4: exit R saving workspace
>
>     > mydir <- dlgDir()
>
>     Everything from ***caught bus error*** appears only when I type
>     the last line (mydir <- dlgDir()).
>
>     I have the same problem with any function from gsubfn, i.e. any
>     function that uses tcltk...
>
>
>     Can anyone help me?
>
>     Ivan
>
>     -- 
>     Ivan CALANDRA
>     Universit? de Bourgogne
>     UMR CNRS/uB 6282 Biog?osciences
>     6 Boulevard Gabriel
>     21000 Dijon, FRANCE
>     +33(0)3.80.39.63.06 <tel:%2B33%280%293.80.39.63.06>
>     ivan.calandra at u-bourgogne.fr <mailto:ivan.calandra at u-bourgogne.fr>
>     http://biogeosciences.u-bourgogne.fr/calandra
>
>     _______________________________________________
>     R-SIG-Mac mailing list
>     R-SIG-Mac at r-project.org <mailto:R-SIG-Mac at r-project.org>
>     https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From muller.dom at gmail.com  Thu Dec  6 12:07:55 2012
From: muller.dom at gmail.com (Dominique Muller)
Date: Thu, 6 Dec 2012 03:07:55 -0800
Subject: [R-SIG-Mac] phantom text in console with R 2.15.2
In-Reply-To: <A1C43CD5DD424851AE8437592EB8321F@sheffield.ac.uk>
References: <A1C43CD5DD424851AE8437592EB8321F@sheffield.ac.uk>
Message-ID: <5cf67219-9526-4c2d-8840-42420644b9ce@googlegroups.com>

I'm having the same problem. I also see no consistency in what makes this 
happening.

Someone found a fix?

On Tuesday, November 27, 2012 6:56:26 PM UTC+1, Andrew Beckerman wrote:
>
> A few weeks ago, Dan Rabosky posted a query about phantom text. 
>
> https://stat.ethz.ch/pipermail/r-sig-mac/2012-November/009718.html 
>
> I am having a similar issue - using the cmd-Return key combo from the 
> script to the console often generates grey text BEFORE the prompt. 
>
> For example, below, the first test<-rnorm(10,0,1) is generated in the 
> console, then printed by typing in the console, three times.   
>
> The fourth test <- rnorm(10,0,1) is cmd-Returned from a script, generating 
> the new pre-prompt-text.   
>
> I can generate a variant of this behaviour at start-up of R every time. 
>
> OSX 10.8.2 Macbook OR MacPro both with R 2.15.2 (64 bit) R.app 1.53 
> (6335). 
>
> > test<-rnorm(10,0,1) 
> > test 
>  [1]  0.25936761  0.04522577 -0.62494471 -0.87426290  1.31470309 
> -0.37134371 -0.03225490  0.02028375 
>  [9] -0.50492015 -0.74642678 
> > test 
>  [1]  0.25936761  0.04522577 -0.62494471 -0.87426290  1.31470309 
> -0.37134371 -0.03225490  0.02028375 
>  [9] -0.50492015 -0.74642678 
> > test 
>  [1]  0.25936761  0.04522577 -0.62494471 -0.87426290  1.31470309 
> -0.37134371 -0.03225490  0.02028375 
>  [9] -0.50492015 -0.74642678 
> > test<-rnorm(10,0,1) 
> testtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttest> 
> test 
>  [1]  1.4110371  0.3789288  0.4476112  0.3928953  1.1313824  0.3370125 
> -0.4822913 -0.4033394 -0.1841501 
> [10]  0.4896509 
> > 
>
>
> Andrew 
> --------------------------------------------------------------------------- 
>
> Dr. Andrew Beckerman 
> Department of Animal and Plant Sciences, University of Sheffield, 
> Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK 
> ph +44 (0)114 222 0026; fx +44 (0)114 222 0002 
> http://www.beckslab.staff.shef.ac.uk/ 
>
> co-Editor-in-Chief, Ecology and Evolution 
>
> See our new R Book: http://www.r4all.org 
>
> http://www.flickr.com/photos/apbeckerman/ 
> http://www.warblefly.co.uk 
> -------------------------------------------------------------------------- 
>
>
>
> Sent with Sparrow (http://www.sparrowmailapp.com) 
>
>
>         [[alternative HTML version deleted]] 
>
> _______________________________________________ 
> R-SIG-Mac mailing list 
> R-SI... at r-project.org <javascript:> 
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac 
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121206/755f3e1b/attachment.html>

From muller.dom at gmail.com  Thu Dec  6 12:07:55 2012
From: muller.dom at gmail.com (Dominique Muller)
Date: Thu, 6 Dec 2012 03:07:55 -0800 (PST)
Subject: [R-SIG-Mac] phantom text in console with R 2.15.2
In-Reply-To: <A1C43CD5DD424851AE8437592EB8321F@sheffield.ac.uk>
References: <A1C43CD5DD424851AE8437592EB8321F@sheffield.ac.uk>
Message-ID: <5cf67219-9526-4c2d-8840-42420644b9ce@googlegroups.com>

I'm having the same problem. I also see no consistency in what makes this 
happening.

Someone found a fix?

On Tuesday, November 27, 2012 6:56:26 PM UTC+1, Andrew Beckerman wrote:
>
> A few weeks ago, Dan Rabosky posted a query about phantom text. 
>
> https://stat.ethz.ch/pipermail/r-sig-mac/2012-November/009718.html 
>
> I am having a similar issue - using the cmd-Return key combo from the 
> script to the console often generates grey text BEFORE the prompt. 
>
> For example, below, the first test<-rnorm(10,0,1) is generated in the 
> console, then printed by typing in the console, three times.   
>
> The fourth test <- rnorm(10,0,1) is cmd-Returned from a script, generating 
> the new pre-prompt-text.   
>
> I can generate a variant of this behaviour at start-up of R every time. 
>
> OSX 10.8.2 Macbook OR MacPro both with R 2.15.2 (64 bit) R.app 1.53 
> (6335). 
>
> > test<-rnorm(10,0,1) 
> > test 
>  [1]  0.25936761  0.04522577 -0.62494471 -0.87426290  1.31470309 
> -0.37134371 -0.03225490  0.02028375 
>  [9] -0.50492015 -0.74642678 
> > test 
>  [1]  0.25936761  0.04522577 -0.62494471 -0.87426290  1.31470309 
> -0.37134371 -0.03225490  0.02028375 
>  [9] -0.50492015 -0.74642678 
> > test 
>  [1]  0.25936761  0.04522577 -0.62494471 -0.87426290  1.31470309 
> -0.37134371 -0.03225490  0.02028375 
>  [9] -0.50492015 -0.74642678 
> > test<-rnorm(10,0,1) 
> testtesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttesttest> 
> test 
>  [1]  1.4110371  0.3789288  0.4476112  0.3928953  1.1313824  0.3370125 
> -0.4822913 -0.4033394 -0.1841501 
> [10]  0.4896509 
> > 
>
>
> Andrew 
> --------------------------------------------------------------------------- 
>
> Dr. Andrew Beckerman 
> Department of Animal and Plant Sciences, University of Sheffield, 
> Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK 
> ph +44 (0)114 222 0026; fx +44 (0)114 222 0002 
> http://www.beckslab.staff.shef.ac.uk/ 
>
> co-Editor-in-Chief, Ecology and Evolution 
>
> See our new R Book: http://www.r4all.org 
>
> http://www.flickr.com/photos/apbeckerman/ 
> http://www.warblefly.co.uk 
> -------------------------------------------------------------------------- 
>
>
>
> Sent with Sparrow (http://www.sparrowmailapp.com) 
>
>
>         [[alternative HTML version deleted]] 
>
> _______________________________________________ 
> R-SIG-Mac mailing list 
> R-SI... at r-project.org <javascript:> 
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac 
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121206/755f3e1b/attachment-0001.html>

From bhive01 at gmail.com  Thu Dec  6 14:59:48 2012
From: bhive01 at gmail.com (Brandon Hurr)
Date: Thu, 6 Dec 2012 13:59:48 +0000
Subject: [R-SIG-Mac] Why do i get: Error: unexpected input in
 "A<-lm(GandW ~ Authocracy, Data) " ?
In-Reply-To: <C3F60139-ACFA-4843-B9CE-CC2CA4262DE8@gmail.com>
References: <C3F60139-ACFA-4843-B9CE-CC2CA4262DE8@gmail.com>
Message-ID: <CAG2OMvvqiFPPELFP5i81579LqtJsZs-qH678gKc6jscgQYPEPA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121206/f461bc79/attachment.pl>

From bhh at xs4all.nl  Thu Dec  6 15:04:08 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Thu, 6 Dec 2012 15:04:08 +0100
Subject: =?iso-8859-1?q?Re=3A_=5BR-SIG-Mac=5D_Why_do_i_get=3A_Error=3A_un?=
	=?iso-8859-1?q?expected_input_in_=22A=3C-lm=28GandW_=7E_Authocracy?=
	=?iso-8859-1?q?=2CData=29=11=22_=3F?=
In-Reply-To: <C3F60139-ACFA-4843-B9CE-CC2CA4262DE8@gmail.com>
References: <C3F60139-ACFA-4843-B9CE-CC2CA4262DE8@gmail.com>
Message-ID: <2A8A9C50-AD0D-4098-A46B-835D9ED1AE36@xs4all.nl>


On 25-11-2012, at 21:01, Faradj Koliev wrote:

> Every time i insert : A<-lm(GandW ~ Authocracy;Data) i get this error: Error: unexpected input in "A<-lm(GandW ~ Authocracy,Data)" 
> 
> Iam using Mac.  And i have checked that "Data" has been read correctly. The same command with the same Data has been used by a friend who is using Linux, and its works for him. 
> I have now tried many things but without any results. 
> 

This a typical R-help question.

Have you noticed the ; (semicolon) in the formula argument?
Replace it with , (comma). Your friend must have been using a ,

You should be using A<-lm(GandW ~ Authocracy,Data)

Berend

> Thanks for help! 
> 
> Stockholm university 
> 
> Faradj
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From f.calboli at imperial.ac.uk  Thu Dec  6 15:06:09 2012
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Thu, 6 Dec 2012 14:06:09 +0000
Subject: =?iso-8859-1?q?Re=3A_=5BR-SIG-Mac=5D_Why_do_i_get=3A_Error=3A_un?=
	=?iso-8859-1?q?expected_input_in_=22A=3C-lm=28GandW_=7E_Authocracy?=
	=?iso-8859-1?q?=2CData=29=11=22_=3F?=
In-Reply-To: <C3F60139-ACFA-4843-B9CE-CC2CA4262DE8@gmail.com>
References: <C3F60139-ACFA-4843-B9CE-CC2CA4262DE8@gmail.com>
Message-ID: <5F038A37-1A6D-4456-BB20-B04AB8774729@imperial.ac.uk>

On 25 Nov 2012, at 20:01, Faradj Koliev <faradj.g at gmail.com> wrote:

> Every time i insert : A<-lm(GandW ~ Authocracy;Data) i get this error: Error: unexpected input in "A<-lm(GandW ~ Authocracy,Data)" 

A<-lm(GandW ~ Authocracy;Data) is wrong, you are using ;

You should be writing A<-lm(GandW ~ Authocracy,Data), i.e. with a comma.

BW

F



> 
> Iam using Mac.  And i have checked that "Data" has been read correctly. The same command with the same Data has been used by a friend who is using Linux, and its works for him. 
> I have now tried many things but without any results. 
> 
> 
> Thanks for help! 
> 
> Stockholm university 
> 
> Faradj
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From cne1366 at gmail.com  Tue Dec 11 05:00:21 2012
From: cne1366 at gmail.com (Christine English)
Date: Tue, 11 Dec 2012 04:00:21 +0000 (UTC)
Subject: [R-SIG-Mac] Stay in touch with me through LinkedIn
Message-ID: <1686641102.11829979.1355198421271.JavaMail.app@ela4-app2318.prod>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121211/0d2367c4/attachment.pl>

From dwinsemius at comcast.net  Tue Dec 11 05:43:21 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 10 Dec 2012 20:43:21 -0800
Subject: [R-SIG-Mac] Stay in touch with me through LinkedIn
In-Reply-To: <1686641102.11829979.1355198421271.JavaMail.app@ela4-app2318.prod>
References: <1686641102.11829979.1355198421271.JavaMail.app@ela4-app2318.prod>
Message-ID: <129A1FE8-2224-4E69-A01B-05CD097A745C@comcast.net>

Christine;

This is inappropriate as a posting on any of the R-lists.

--  
David.
On Dec 10, 2012, at 8:00 PM, Christine English wrote:

> LinkedIn
> ------------
>
>
>
> Build your professional network, discover opportunities, and keep in  
> touch with me on LinkedIn.
>
> - Christine
>
> Christine English
> Research Professional
> Houston, Texas Area
>
> Confirm that you know Christine English:
> https://www.linkedin.com/e/20jdkc-haki5e6l-n/isd/9982924693/E0UDGyBb/?hs=false&tok=1r3EJFGWQgFlw1
>
> --
> You are receiving Invitation to Connect emails. Click to unsubscribe:
> http://www.linkedin.com/e/20jdkc-haki5e6l-n/rw9sXxGGpOTGFqRIwk0KmIYzpfXwX43NJhMQ/goo/r-sig-mac%40r-project%2Eorg/20061/I3328184005_1/?hs=false&tok=2d0cH765MgFlw1
>
> (c) 2012 LinkedIn Corporation. 2029 Stierlin Ct, Mountain View, CA  
> 94043, USA.
>
>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Alameda, CA, USA


From mailinglist.honeypot at gmail.com  Tue Dec 11 06:16:04 2012
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Tue, 11 Dec 2012 00:16:04 -0500
Subject: [R-SIG-Mac] Stay in touch with me through LinkedIn
In-Reply-To: <129A1FE8-2224-4E69-A01B-05CD097A745C@comcast.net>
References: <1686641102.11829979.1355198421271.JavaMail.app@ela4-app2318.prod>
	<129A1FE8-2224-4E69-A01B-05CD097A745C@comcast.net>
Message-ID: <CAHA9McNTHy5w-LhnqrmFy7F-sXtbszf24JW7CrVZb90akDKh3Q@mail.gmail.com>

I'm guessing LinkedIn offered her the favor of notifying her gmail
contacts about her profile ... and if trying to sync contacts from my
gmail address book to my mobile is an indication of what ends up in
your gContacts, you'll find that anybody who you send (or has sent
you) an email lands there.

Which is all to say that it was probably an unintentional blast ...

-steve

On Mon, Dec 10, 2012 at 11:43 PM, David Winsemius
<dwinsemius at comcast.net> wrote:
> Christine;
>
> This is inappropriate as a posting on any of the R-lists.
>
> -- David.
>
> On Dec 10, 2012, at 8:00 PM, Christine English wrote:
>
>> LinkedIn
>> ------------
>>
>>
>>
>> Build your professional network, discover opportunities, and keep in touch
>> with me on LinkedIn.
>>
>> - Christine
>>
>> Christine English
>> Research Professional
>> Houston, Texas Area
>>
>> Confirm that you know Christine English:
>>
>> https://www.linkedin.com/e/20jdkc-haki5e6l-n/isd/9982924693/E0UDGyBb/?hs=false&tok=1r3EJFGWQgFlw1
>>
>> --
>> You are receiving Invitation to Connect emails. Click to unsubscribe:
>>
>> http://www.linkedin.com/e/20jdkc-haki5e6l-n/rw9sXxGGpOTGFqRIwk0KmIYzpfXwX43NJhMQ/goo/r-sig-mac%40r-project%2Eorg/20061/I3328184005_1/?hs=false&tok=2d0cH765MgFlw1
>>
>> (c) 2012 LinkedIn Corporation. 2029 Stierlin Ct, Mountain View, CA 94043,
>> USA.
>>
>>
>>
>>
>>         [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
> David Winsemius, MD
> Alameda, CA, USA
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac



-- 
Steve Lianoglou
Graduate Student: Computational Systems Biology
 | Memorial Sloan-Kettering Cancer Center
 | Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From bpbond at gmail.com  Tue Dec 11 16:24:09 2012
From: bpbond at gmail.com (Ben Bond-Lamberty)
Date: Tue, 11 Dec 2012 10:24:09 -0500
Subject: [R-SIG-Mac] R Mac GUI no longer setting working directory?
Message-ID: <CAGg1N9K89C33hOimY3y-LK+SAxm4R7RgBpJ1QfnevVcKZwgZOw@mail.gmail.com>

Dear list,

Opening the Mac GUI by double-clicking a ".R" file used to
automatically set the working directory to the location of that file.
This seems to have changed sometime recently (I'm on 2.15.2), with the
working directory now always remaining at ~. Is this behavior
intentional? A bug?

Thanks,
Ben


From friedman at cancercenter.columbia.edu  Tue Dec 11 17:48:02 2012
From: friedman at cancercenter.columbia.edu (Richard Friedman)
Date: Tue, 11 Dec 2012 11:48:02 -0500
Subject: [R-SIG-Mac] Script does not work on command line bur works when I
	paste it into GUI
Message-ID: <F6BBB43B-A25F-4DCB-8787-E760BD753D4B@cancercenter.columbia.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121211/7bc46786/attachment.pl>

From dwinsemius at comcast.net  Tue Dec 11 21:13:34 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 11 Dec 2012 12:13:34 -0800
Subject: [R-SIG-Mac] R Mac GUI no longer setting working directory?
In-Reply-To: <CAGg1N9K89C33hOimY3y-LK+SAxm4R7RgBpJ1QfnevVcKZwgZOw@mail.gmail.com>
References: <CAGg1N9K89C33hOimY3y-LK+SAxm4R7RgBpJ1QfnevVcKZwgZOw@mail.gmail.com>
Message-ID: <E10A9F33-179A-4A99-8CDF-57322602525D@comcast.net>


On Dec 11, 2012, at 7:24 AM, Ben Bond-Lamberty wrote:

> Dear list,
> 
> Opening the Mac GUI by double-clicking a ".R" file used to
> automatically set the working directory to the location of that file.
> This seems to have changed sometime recently (I'm on 2.15.2), with the
> working directory now always remaining at ~. Is this behavior
> intentional? A bug?

If anything changed, it was in the defaults for the GUI. To change to what I think remains the default, at least in my installation of R 2.15.2 and R.app GUI 1.53 (6335), in the GUI go to R/Preferences/Startup and make sure the "Always apply" checkbox remains unchecked.

-- 
David.



David Winsemius
Alameda, CA, USA


From simon.urbanek at r-project.org  Tue Dec 11 21:42:47 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 11 Dec 2012 15:42:47 -0500
Subject: [R-SIG-Mac] R Mac GUI no longer setting working directory?
In-Reply-To: <CAGg1N9K89C33hOimY3y-LK+SAxm4R7RgBpJ1QfnevVcKZwgZOw@mail.gmail.com>
References: <CAGg1N9K89C33hOimY3y-LK+SAxm4R7RgBpJ1QfnevVcKZwgZOw@mail.gmail.com>
Message-ID: <3EF26D9F-2287-4CBC-A06B-4B2FCBA67454@r-project.org>


On Dec 11, 2012, at 10:24 AM, Ben Bond-Lamberty wrote:

> Dear list,
> 
> Opening the Mac GUI by double-clicking a ".R" file used to
> automatically set the working directory to the location of that file.
> This seems to have changed sometime recently (I'm on 2.15.2), with the
> working directory now always remaining at ~. Is this behavior
> intentional? A bug?
> 

It was not intentional and I plan to change it back before next release.

Cheers,
Simon


> Thanks,
> Ben
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
>


From vicmgg at gmail.com  Sat Dec 15 03:23:27 2012
From: vicmgg at gmail.com (=?ISO-8859-1?Q?V=EDctor_Manuel_Garc=EDa=2DGuerrero?=)
Date: Fri, 14 Dec 2012 20:23:27 -0600
Subject: [R-SIG-Mac] R and R-Studio in new MacBook Pro retina with flash
	storage
Message-ID: <CAC3R_H-B1SuWUo5QSbort8g7thxPzc3ar-XiWgVTrxqKwLpzwg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121214/93db75ba/attachment.pl>

From rayd at liondatasystems.com  Sat Dec 15 03:36:09 2012
From: rayd at liondatasystems.com (Ray DiGiacomo, Jr.)
Date: Fri, 14 Dec 2012 18:36:09 -0800
Subject: [R-SIG-Mac] R and R-Studio in new MacBook Pro retina with flash
	storage
In-Reply-To: <CAC3R_H-B1SuWUo5QSbort8g7thxPzc3ar-XiWgVTrxqKwLpzwg@mail.gmail.com>
References: <CAC3R_H-B1SuWUo5QSbort8g7thxPzc3ar-XiWgVTrxqKwLpzwg@mail.gmail.com>
Message-ID: <CACT39NYvT=2Uysrn=0wY_eCaAtQhnVVnNzahD=FUeLax8dM6ng@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121214/2956eab5/attachment.pl>

From ripley at stats.ox.ac.uk  Sat Dec 15 11:40:50 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 15 Dec 2012 10:40:50 +0000
Subject: [R-SIG-Mac] R and R-Studio in new MacBook Pro retina with flash
 storage
In-Reply-To: <CACT39NYvT=2Uysrn=0wY_eCaAtQhnVVnNzahD=FUeLax8dM6ng@mail.gmail.com>
References: <CAC3R_H-B1SuWUo5QSbort8g7thxPzc3ar-XiWgVTrxqKwLpzwg@mail.gmail.com>
	<CACT39NYvT=2Uysrn=0wY_eCaAtQhnVVnNzahD=FUeLax8dM6ng@mail.gmail.com>
Message-ID: <50CC53B2.8010502@stats.ox.ac.uk>

On 15/12/2012 02:36, Ray DiGiacomo, Jr. wrote:
> Hi Victor,
>
> I have a MacBook Pro with Retina display and use R everyday.  I have not
> seen any issues related to the flash storage.
>
> I have not used RStudio very frequently so I cannot say if that software
> works well on a Retina model - but I am assuming it does.
>
> R is mainly a RAM-oriented tool so the flash-style disk storage probably
> won't be much of a problem.

'Flash storage' (you mean an SSD, I presume) is hardly new: my 2008 Mac 
Book Air had it, and all recent MBAs do (including the one I now have).

As far as any application (including R and RStudio) sees, the OS 
presents a POSIX file system, and that is true for a spinning disc, an 
SSD or a 'fusion drive' ....

>
> Best Regards,
>
> Ray DiGiacomo, Jr.

[Ads removed.]

>
> On Fri, Dec 14, 2012 at 6:23 PM, V?ctor Manuel Garc?a-Guerrero <
> vicmgg at gmail.com> wrote:
>
>> Hi,
>>
>> I am thinking to change my old white MacBook for a new MacBook Pro retina
>> display with flash storage, but I realized that flash storage has another
>> logic of storage. So I would like to know if I could use R and R-Studio
>> without any problem with a MacBook pro flash storage.
>>
>> Thanks in advance,
>>
>> V?ctor M. Garc?a
>>



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From faradj.g at gmail.com  Fri Dec  7 16:25:31 2012
From: faradj.g at gmail.com (Faradj Koliev)
Date: Fri, 7 Dec 2012 16:25:31 +0100
Subject: [R-SIG-Mac] How to print a variable in R mac?
Message-ID: <57026231-EE5F-4CE7-AED4-4AEC0CA4D70B@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121207/9c6cb268/attachment.pl>

From kakat at mail.rockefeller.edu  Fri Dec 14 23:51:35 2012
From: kakat at mail.rockefeller.edu (Kemal Akat)
Date: Fri, 14 Dec 2012 22:51:35 +0000
Subject: [R-SIG-Mac] R-devel installer image has the same release as the
	stable version
Message-ID: <84A98F0A406C3E43B16B0808959974450F5EB39B@RUMBX2.rockefeller.edu>

Hello,

The installer image for R-devel is installing R-2.15.2 with the same release number as the installer image
labeled R-2.15. The R-devel tar ball is 2.16.0?
Is this intended?

Regards,
Kemal

From ekbrown at k-state.edu  Sat Dec 15 06:12:10 2012
From: ekbrown at k-state.edu (Earl Brown)
Date: Sat, 15 Dec 2012 00:12:10 -0500 (EST)
Subject: [R-SIG-Mac] Bug in R.app 1.53
In-Reply-To: <1943502865.4528812.1355547838001.JavaMail.root@k-state.edu>
Message-ID: <402205984.4529319.1355548330752.JavaMail.root@k-state.edu>

When I run code in R.app, in addition to getting the results I expect, the console also randomly prints out previously submitted code and places it before the prompt arrow and/or before the output of what my code asks R to do. The color of this random, unwanted output is gray. This doesn't happen when I run my code in R in a Terminal window, nor did it happen before I upgraded to R 2.15.2 and R.app 1.53 a few days ago. Take a look at the two attached screen shots, one of R.app and the other of Terminal running the same code. And here's my sessionInfo():

> sessionInfo()
R version 2.15.2 (2012-10-26)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

Any ideas? Thanks, Earl Brown

-----
Earl K. Brown, PhD
Assistant Professor of Spanish Linguistics
Advisor, TEFL MA Program
Department of Modern Languages
Kansas State University

-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screen Shot 2012-12-14 at 10.53.49 PM.png
Type: image/png
Size: 325904 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121215/2c0bca13/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screen Shot 2012-12-14 at 10.54.14 PM.png
Type: image/png
Size: 154290 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121215/2c0bca13/attachment-0003.png>

From bhive01 at gmail.com  Mon Dec 17 09:11:44 2012
From: bhive01 at gmail.com (Brandon Hurr)
Date: Mon, 17 Dec 2012 08:11:44 +0000
Subject: [R-SIG-Mac] How to print a variable in R mac?
In-Reply-To: <57026231-EE5F-4CE7-AED4-4AEC0CA4D70B@gmail.com>
References: <57026231-EE5F-4CE7-AED4-4AEC0CA4D70B@gmail.com>
Message-ID: <CAG2OMvsW-ak35bV5BEh_GaukssC=PeEMhUttuzvhNh0-ygDHQQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121217/1fb0279e/attachment.pl>

From a.beckerman at sheffield.ac.uk  Mon Dec 17 11:05:03 2012
From: a.beckerman at sheffield.ac.uk (Andrew Beckerman)
Date: Mon, 17 Dec 2012 10:05:03 +0000
Subject: [R-SIG-Mac] Bug in R.app 1.53 - Phantom Text
In-Reply-To: <402205984.4529319.1355548330752.JavaMail.root@k-state.edu>
References: <402205984.4529319.1355548330752.JavaMail.root@k-state.edu>
Message-ID: <C563966D3E8C4FA3A52B677FDE6D12F2@sheffield.ac.uk>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121217/2ad8618d/attachment.pl>

From rayd at liondatasystems.com  Mon Dec 17 17:37:26 2012
From: rayd at liondatasystems.com (Ray DiGiacomo, Jr.)
Date: Mon, 17 Dec 2012 08:37:26 -0800
Subject: [R-SIG-Mac] Bug in R.app 1.53 - Phantom Text
In-Reply-To: <C563966D3E8C4FA3A52B677FDE6D12F2@sheffield.ac.uk>
References: <402205984.4529319.1355548330752.JavaMail.root@k-state.edu>
	<C563966D3E8C4FA3A52B677FDE6D12F2@sheffield.ac.uk>
Message-ID: <CACT39NZMk-f--goW0ezSCpXybGSFUeDEPWR=qTfrL3i7Hd0kZA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121217/08718947/attachment.pl>

From simon.urbanek at r-project.org  Mon Dec 17 17:44:24 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 17 Dec 2012 11:44:24 -0500
Subject: [R-SIG-Mac] Bug in R.app 1.53
In-Reply-To: <402205984.4529319.1355548330752.JavaMail.root@k-state.edu>
References: <402205984.4529319.1355548330752.JavaMail.root@k-state.edu>
Message-ID: <16FEC4ED-3CD5-458E-B3CC-5B2691D8869F@r-project.org>

The grey color is output on stdout, typically it is a solicited output of system commands, for example try

> system("date")
Mon Dec 17 11:36:56 EST 2012
> 

The date will be in gray because the "date" command will print it out there so the GUI passes it on. It's not necessarily R.app itself generating that output.

Now the big question is who is creating that output - it can be anything from 3rd party hacks to R or custom top-level code used by the user. I don't see any printf/puts in the GUI code so it's unlikely produced by the GUI itself. I'll see if I can reproduce it ..

Cheers,
Simon


On Dec 15, 2012, at 12:12 AM, Earl Brown wrote:

> When I run code in R.app, in addition to getting the results I expect, the console also randomly prints out previously submitted code and places it before the prompt arrow and/or before the output of what my code asks R to do. The color of this random, unwanted output is gray. This doesn't happen when I run my code in R in a Terminal window, nor did it happen before I upgraded to R 2.15.2 and R.app 1.53 a few days ago. Take a look at the two attached screen shots, one of R.app and the other of Terminal running the same code. And here's my sessionInfo():
> 
>> sessionInfo()
> R version 2.15.2 (2012-10-26)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> Any ideas? Thanks, Earl Brown
> 
> -----
> Earl K. Brown, PhD
> Assistant Professor of Spanish Linguistics
> Advisor, TEFL MA Program
> Department of Modern Languages
> Kansas State University
> 
> <Screen Shot 2012-12-14 at 10.53.49 PM.png><Screen Shot 2012-12-14 at 10.54.14 PM.png>_______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From tmrsg11 at gmail.com  Wed Dec 19 00:48:16 2012
From: tmrsg11 at gmail.com (C W)
Date: Tue, 18 Dec 2012 18:48:16 -0500
Subject: [R-SIG-Mac] MacBook memory error: Error in array(0, c(n,
 p)) : 'dim' specifies too large an array
Message-ID: <CAE2FW2=kFQ67tZbS8BgrRdbo7wGxtogksvXZ8srmpTYTf_-f1g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121218/1c2e7349/attachment.pl>

From simon.urbanek at r-project.org  Wed Dec 19 01:27:00 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 18 Dec 2012 19:27:00 -0500
Subject: [R-SIG-Mac] MacBook memory error: Error in array(0, c(n,
	p)) : 'dim' specifies too large an array
In-Reply-To: <CAE2FW2=kFQ67tZbS8BgrRdbo7wGxtogksvXZ8srmpTYTf_-f1g@mail.gmail.com>
References: <CAE2FW2=kFQ67tZbS8BgrRdbo7wGxtogksvXZ8srmpTYTf_-f1g@mail.gmail.com>
Message-ID: <CFA2F8FF-0932-4C0D-AAB7-FDB5206F8006@r-project.org>

Mike,

first, as the error tells you, your "y" is not what svm.fs() requires, i.e. it has to be a vector of -1 and 1, so in your code that would be

y <- sample(c(-1,1), 20, replace=TRUE)

Then further penalizedSVM is seriously buggy - the author fails to use match.arg() on the arguments, so what happens is that all the defaults are invalid and break. The consequence is that the user has to specify all defaults explicitly, otherwise the code doesn't work (interestingly the author specifies everything in the examples - otherwise it would not pass checks at all). For example this seem to sort of work (still with some warnings):

model <- svm.fs(x,y,"scad","interval",inner.val.method="cv",parms.coding="none",show="final")

Given those trivial mistakes in the code and the fact that it uses print() all over the place which is plain wrong, I'd be very careful with relying on the penalizedSVM package, so use at your own risk.

Finally, this is not a Mac question, please consider using R-help for such queries. (And, no, it has nothing to do with memory usage).

Cheers,
Simon


On Dec 18, 2012, at 6:48 PM, C W wrote:

> Dear list,
> I am trying to run svm.fs() in package penalizedSVM,
> 
> x <- matrix(rnorm(100), 20, 5)
> 
> y <- sample(c(0,10), 20, replace=TRUE)
> 
> model <- svm.fs(x,y)
> 
> And I get the following warnings and errors.
> 
> rror in array(0, c(n, p)) : 'dim' specifies too large an array
> 
> In addition: There were 16 warnings (use warnings() to see them)
> 
> There were 50 or more warnings (use warnings() to see the first 50)
> 
>> warnings()
> 
> Warning messages:
> 
> 1: In if (fs.method == "1norm" & inner.val.method == "gacv") stop("gacv is
> not availible for 1norm SVM. Use k fold cv instead.") :
> 
>  the condition has length > 1 and only the first element will be used
> 
> 2: In if (grid.search == "interval") { ... :
> 
>  the condition has length > 1 and only the first element will be used
> 
> 3: In if ((fs.method %in% c("scad", "1norm")) & is.null(bounds)) { ... :
> 
>  the condition has length > 1 and only the first element will be used
> 
> 4: In if (fs.method %in% c("DrHSVM") & is.null(bounds)) { ... :
> 
> 
> I am guessing this is because of the limit memory?
> 
> Mike
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From tmrsg11 at gmail.com  Wed Dec 19 01:38:38 2012
From: tmrsg11 at gmail.com (C W)
Date: Tue, 18 Dec 2012 19:38:38 -0500
Subject: [R-SIG-Mac] MacBook memory error: Error in array(0, c(n,
 p)) : 'dim' specifies too large an array
In-Reply-To: <CFA2F8FF-0932-4C0D-AAB7-FDB5206F8006@r-project.org>
References: <CAE2FW2=kFQ67tZbS8BgrRdbo7wGxtogksvXZ8srmpTYTf_-f1g@mail.gmail.com>
	<CFA2F8FF-0932-4C0D-AAB7-FDB5206F8006@r-project.org>
Message-ID: <CAE2FW2mCeMzFG4W8CmY1xoO05uLM9Dm9pKdUPukGrZJwWkdPNw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121218/135f480e/attachment.pl>

From gullenj at comcast.net  Thu Dec 20 14:17:15 2012
From: gullenj at comcast.net (gullenj at comcast.net)
Date: Thu, 20 Dec 2012 13:17:15 +0000 (UTC)
Subject: [R-SIG-Mac] Initial variable name inserted before prompt...
In-Reply-To: <381642764.1451951.1356009070885.JavaMail.root@sz0069a.emeryville.ca.mail.comcast.net>
Message-ID: <1268377540.1452097.1356009435690.JavaMail.root@sz0069a.emeryville.ca.mail.comcast.net>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20121220/f2100d51/attachment.pl>

From a.beckerman at sheffield.ac.uk  Sun Dec 23 21:01:52 2012
From: a.beckerman at sheffield.ac.uk (Andrew Beckerman)
Date: Sun, 23 Dec 2012 20:01:52 +0000
Subject: [R-SIG-Mac] Bug in R.app 1.53 =?utf-8?Q?-n=C3=A9_?="Phantom
 Text"
In-Reply-To: <16FEC4ED-3CD5-458E-B3CC-5B2691D8869F@r-project.org>
References: <402205984.4529319.1355548330752.JavaMail.root@k-state.edu>
	<16FEC4ED-3CD5-458E-B3CC-5B2691D8869F@r-project.org>
Message-ID: <79A7B2BC66E14899833EB37B286C21BF@sheffield.ac.uk>

For what its worth, there are several threads, labelled as "phantom text", about this in November and December archives.  It is happening on Lion and Mountain Lion. It definitely derives consistently from the script->console activity.

Good to know its stdout.  That's interesting enough. But looking forward to understanding it!

Andrew
---------------------------------------------------------------------------
Dr. Andrew Beckerman
Department of Animal and Plant Sciences, University of Sheffield, 
Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
ph +44 (0)114 222 0026; fx +44 (0)114 222 0002 
http://www.beckslab.staff.shef.ac.uk/

*** From January - Sept 2013 ***
Instituto de Ciencias Ambientales y Evolutivas, Facultad de Ciencias
Universidad Austral de Chile, Campus Isla Teja s/n, 
Valdivia, Chile


co-Editor-in-Chief,Ecology and Evolution

See our Book "Getting Started with R": http://www.r4all.org

http://www.flickr.com/photos/apbeckerman/
http://www.warblefly.co.uk
--------------------------------------------------------------------------



On Monday, 17 December 2012 at 16:44, Simon Urbanek wrote:

> The grey color is output on stdout, typically it is a solicited output of system commands, for example try
> 
> > system("date")
> Mon Dec 17 11:36:56 EST 2012
> 
> 
> 
> The date will be in gray because the "date" command will print it out there so the GUI passes it on. It's not necessarily R.app itself generating that output.
> 
> Now the big question is who is creating that output - it can be anything from 3rd party hacks to R or custom top-level code used by the user. I don't see any printf/puts in the GUI code so it's unlikely produced by the GUI itself. I'll see if I can reproduce it ..
> 
> Cheers,
> Simon
> 
> 
> On Dec 15, 2012, at 12:12 AM, Earl Brown wrote:
> 
> > When I run code in R.app, in addition to getting the results I expect, the console also randomly prints out previously submitted code and places it before the prompt arrow and/or before the output of what my code asks R to do. The color of this random, unwanted output is gray. This doesn't happen when I run my code in R in a Terminal window, nor did it happen before I upgraded to R 2.15.2 and R.app 1.53 a few days ago. Take a look at the two attached screen shots, one of R.app and the other of Terminal running the same code. And here's my sessionInfo():
> > 
> > > sessionInfo()
> > R version 2.15.2 (2012-10-26)
> > Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> > 
> > locale:
> > [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> > 
> > attached base packages:
> > [1] stats graphics grDevices utils datasets methods base
> > 
> > Any ideas? Thanks, Earl Brown
> > 
> > -----
> > Earl K. Brown, PhD
> > Assistant Professor of Spanish Linguistics
> > Advisor, TEFL MA Program
> > Department of Modern Languages
> > Kansas State University
> > 
> > <Screen Shot 2012-12-14 at 10.53.49 PM.png><Screen Shot 2012-12-14 at 10.54.14 PM.png>_______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org (mailto:R-SIG-Mac at r-project.org)
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org (mailto:R-SIG-Mac at r-project.org)
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From roy.mendelssohn at noaa.gov  Fri Dec 28 20:40:55 2012
From: roy.mendelssohn at noaa.gov (Roy Mendelssohn - NOAA Federal)
Date: Fri, 28 Dec 2012 11:40:55 -0800
Subject: [R-SIG-Mac] R 2.15.2, OS X 10.8.2,  JGR
Message-ID: <D75E7448-2275-4E4D-BE93-E3CC822A4A6F@noaa.gov>

Hi All:

I recently upgraded my computer to 10.8.2, and my Java is now java 1.7 from Oracle.  I am running R 2.15.2, and now rjava and JGR don't work because what appears to be a problem with ipot.  I tried reinstalling rjava and got the following:

> > install.packages("rJava")
> Installing package(s) into ?/Users/rmendels/Library/R/2.15/library?
> (as ?lib? is unspecified)
> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.15/rJava_0.9-3.tgz'
> Content type 'application/x-gzip' length 791689 bytes (773 Kb)
> opened URL
> ==================================================
> downloaded 773 Kb
> 
> 
> The downloaded binary packages are in
> 	/var/folders/s9/bk_j9rcd20j57ggb42zqkf040000gq/T//RtmpQLO8wa/downloaded_packages
> Warning message:
> In install.packages(c("iplots"), lib = "/Library/Frameworks/R.framework/Resources/library/",  :
>   installation of package ?iplots? had non-zero exit status
> 


Then if I load JGR I get:

> > library(JGR)
> Loading required package: rJava
> Loading required package: JavaGD
> Loading required package: iplots
> Error : .onLoad failed in loadNamespace() for 'iplots', details:
>   call: .jinit()
>   error: JNI_GetCreatedJavaVMs returned -1
> 
> Error: package ?iplots? could not be loaded
> JavaVM: requested Java version ((null)) not available. Using Java at "" instead.
> JavaVM: Failed to load JVM: /bundle/Libraries/libserver.dylib
> JavaVM FATAL: Failed to load the jvm library.
> 


 I tried building iplots from source, but that failed with basically the same error.  I assume iplots is looking for java 1.6.  Any ideas?

Thanks,

-Roy M.

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
1352 Lighthouse Avenue
Pacific Grove, CA 93950-2097

e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
voice: (831)-648-9029
fax: (831)-648-8440
www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From realmikep at btinternet.com  Fri Dec 28 22:02:23 2012
From: realmikep at btinternet.com (Mike Parker)
Date: Fri, 28 Dec 2012 21:02:23 +0000
Subject: [R-SIG-Mac] R 2.15.2, OS X 10.8.2,  JGR
In-Reply-To: <D75E7448-2275-4E4D-BE93-E3CC822A4A6F@noaa.gov>
References: <D75E7448-2275-4E4D-BE93-E3CC822A4A6F@noaa.gov>
Message-ID: <29C769AA-1293-4083-A53A-A12DE746A700@btinternet.com>

I think today went well. Everyone ate and drank a lot less than they might have done. I bought plenty of everything to make sure that there was enough. I also bought food for tea in case they stayed but they didn't

On 28 Dec 2012, at 19:40, Roy Mendelssohn - NOAA Federal wrote:

> Hi All:
> 
> I recently upgraded my computer to 10.8.2, and my Java is now java 1.7 from Oracle.  I am running R 2.15.2, and now rjava and JGR don't work because what appears to be a problem with ipot.  I tried reinstalling rjava and got the following:
> 
>>> install.packages("rJava")
>> Installing package(s) into ?/Users/rmendels/Library/R/2.15/library?
>> (as ?lib? is unspecified)
>> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.15/rJava_0.9-3.tgz'
>> Content type 'application/x-gzip' length 791689 bytes (773 Kb)
>> opened URL
>> ==================================================
>> downloaded 773 Kb
>> 
>> 
>> The downloaded binary packages are in
>> 	/var/folders/s9/bk_j9rcd20j57ggb42zqkf040000gq/T//RtmpQLO8wa/downloaded_packages
>> Warning message:
>> In install.packages(c("iplots"), lib = "/Library/Frameworks/R.framework/Resources/library/",  :
>>  installation of package ?iplots? had non-zero exit status
>> 
> 
> 
> Then if I load JGR I get:
> 
>>> library(JGR)
>> Loading required package: rJava
>> Loading required package: JavaGD
>> Loading required package: iplots
>> Error : .onLoad failed in loadNamespace() for 'iplots', details:
>>  call: .jinit()
>>  error: JNI_GetCreatedJavaVMs returned -1
>> 
>> Error: package ?iplots? could not be loaded
>> JavaVM: requested Java version ((null)) not available. Using Java at "" instead.
>> JavaVM: Failed to load JVM: /bundle/Libraries/libserver.dylib
>> JavaVM FATAL: Failed to load the jvm library.
>> 
> 
> 
> I tried building iplots from source, but that failed with basically the same error.  I assume iplots is looking for java 1.6.  Any ideas?
> 
> Thanks,
> 
> -Roy M.
> 
> **********************
> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
> **********************
> Roy Mendelssohn
> Supervisory Operations Research Analyst
> NOAA/NMFS
> Environmental Research Division
> Southwest Fisheries Science Center
> 1352 Lighthouse Avenue
> Pacific Grove, CA 93950-2097
> 
> e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
> voice: (831)-648-9029
> fax: (831)-648-8440
> www: http://www.pfeg.noaa.gov/
> 
> "Old age and treachery will overcome youth and skill."
> "From those who have been given much, much will be expected" 
> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From pdalgd at gmail.com  Fri Dec 28 22:05:48 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Fri, 28 Dec 2012 22:05:48 +0100
Subject: [R-SIG-Mac] R 2.15.2, OS X 10.8.2,  JGR
In-Reply-To: <D75E7448-2275-4E4D-BE93-E3CC822A4A6F@noaa.gov>
References: <D75E7448-2275-4E4D-BE93-E3CC822A4A6F@noaa.gov>
Message-ID: <24F5AD63-9719-4D83-9F32-9341813203FE@gmail.com>


On Dec 28, 2012, at 20:40 , Roy Mendelssohn - NOAA Federal wrote:

> Hi All:
> 
> I recently upgraded my computer to 10.8.2, and my Java is now java 1.7 from Oracle.  I am running R 2.15.2, and now rjava and JGR don't work because what appears to be a problem with ipot.  I tried reinstalling rjava and got the following:

I can't remember this kind of stuff form one occasion to the next either, but wouldn't it be something with "sudo R CMD javareconf" ?

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From marc_schwartz at me.com  Fri Dec 28 22:28:52 2012
From: marc_schwartz at me.com (Marc Schwartz)
Date: Fri, 28 Dec 2012 15:28:52 -0600
Subject: [R-SIG-Mac] R 2.15.2, OS X 10.8.2,  JGR
In-Reply-To: <24F5AD63-9719-4D83-9F32-9341813203FE@gmail.com>
References: <D75E7448-2275-4E4D-BE93-E3CC822A4A6F@noaa.gov>
	<24F5AD63-9719-4D83-9F32-9341813203FE@gmail.com>
Message-ID: <BD4A847B-2B48-4638-BEC5-6FB4001718C0@me.com>

On Dec 28, 2012, at 3:05 PM, peter dalgaard <pdalgd at gmail.com> wrote:

> 
> On Dec 28, 2012, at 20:40 , Roy Mendelssohn - NOAA Federal wrote:
> 
>> Hi All:
>> 
>> I recently upgraded my computer to 10.8.2, and my Java is now java 1.7 from Oracle.  I am running R 2.15.2, and now rjava and JGR don't work because what appears to be a problem with ipot.  I tried reinstalling rjava and got the following:
> 
> I can't remember this kind of stuff form one occasion to the next either, but wouldn't it be something with "sudo R CMD javareconf" ?



For Mountain Lion, it should be:

  sudo R CMD javareconf JAVA_CPPFLAGS=-I/System/Library/Frameworks/JavaVM.framework/Headers

Regards,

Marc Schwartz


From roy.mendelssohn at noaa.gov  Sat Dec 29 01:11:22 2012
From: roy.mendelssohn at noaa.gov (Roy Mendelssohn - NOAA Federal)
Date: Fri, 28 Dec 2012 16:11:22 -0800
Subject: [R-SIG-Mac] R 2.15.2, OS X 10.8.2,  JGR
In-Reply-To: <BD4A847B-2B48-4638-BEC5-6FB4001718C0@me.com>
References: <D75E7448-2275-4E4D-BE93-E3CC822A4A6F@noaa.gov>
	<24F5AD63-9719-4D83-9F32-9341813203FE@gmail.com>
	<BD4A847B-2B48-4638-BEC5-6FB4001718C0@me.com>
Message-ID: <6BE97AF2-D742-4310-93D9-ABE08F422C3D@noaa.gov>

Thanks.  But I am still stuck.  No matter which command I give, I  get the following:

> sudo R CMD javareconf
> Password:
> Java interpreter : /usr/bin/java
> Java version     : 1.6.0_29
> Java home path   : /Library/Java/JavaVirtualMachines/1.6.0_29-b11-402.jdk/Contents/Home
> Java compiler    : /usr/bin/javac
> Java headers gen.: /usr/bin/javah
> Java archive tool: /usr/bin/jar
> Java library path: 
> JNI linker flags : -framework JavaVM
> JNI cpp flags    : -I$(JAVA_HOME)/include
> 

Note the Java home path.  But when I  do the following:

> bash-$ which java
> /usr/bin/java
> bash-$ java -version
> java version "1.7.0_06"
> Java(TM) SE Runtime Environment (build 1.7.0_06-b24)
> Java HotSpot(TM) 64-Bit Server VM (build 23.2-b09, mixed mode)
> 

So where is ti getting that the home path is to /Library/Java/JavaVirtualMachines/1.6.0_29-b11-402.jdk/Contents/Home?  Is there a file that I can hand edit to give R the correct values?

Thanks.

-Roy M.
On Dec 28, 2012, at 1:28 PM, Marc Schwartz <marc_schwartz at me.com> wro

> On Dec 28, 2012, at 3:05 PM, peter dalgaard <pdalgd at gmail.com> wrote:
> 
>> 
>> On Dec 28, 2012, at 20:40 , Roy Mendelssohn - NOAA Federal wrote:
>> 
>>> Hi All:
>>> 
>>> I recently upgraded my computer to 10.8.2, and my Java is now java 1.7 from Oracle.  I am running R 2.15.2, and now rjava and JGR don't work because what appears to be a problem with ipot.  I tried reinstalling rjava and got the following:
>> 
>> I can't remember this kind of stuff form one occasion to the next either, but wouldn't it be something with "sudo R CMD javareconf" ?
> 
> 
> 
> For Mountain Lion, it should be:
> 
>  sudo R CMD javareconf JAVA_CPPFLAGS=-I/System/Library/Frameworks/JavaVM.framework/Headers
> 
> Regards,
> 
> Marc Schwartz
> 

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
1352 Lighthouse Avenue
Pacific Grove, CA 93950-2097

e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
voice: (831)-648-9029
fax: (831)-648-8440
www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From marc_schwartz at me.com  Sat Dec 29 01:35:15 2012
From: marc_schwartz at me.com (Marc Schwartz)
Date: Fri, 28 Dec 2012 18:35:15 -0600
Subject: [R-SIG-Mac] R 2.15.2, OS X 10.8.2,  JGR
In-Reply-To: <6BE97AF2-D742-4310-93D9-ABE08F422C3D@noaa.gov>
References: <D75E7448-2275-4E4D-BE93-E3CC822A4A6F@noaa.gov>
	<24F5AD63-9719-4D83-9F32-9341813203FE@gmail.com>
	<BD4A847B-2B48-4638-BEC5-6FB4001718C0@me.com>
	<6BE97AF2-D742-4310-93D9-ABE08F422C3D@noaa.gov>
Message-ID: <FDBFEFED-7C40-4C15-90F4-D83DAF2CD9C5@me.com>

Roy,

Did you install the 1.7 JRE only, or did you also install the JDK?  

If you did not also install the JDK, I believe that you need to do so. It is available here:

  http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html

Install that and then run the full javareconf command as I had in my reply below.

Regards,

Marc

On Dec 28, 2012, at 6:11 PM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:

> Thanks.  But I am still stuck.  No matter which command I give, I  get the following:
> 
>> sudo R CMD javareconf
>> Password:
>> Java interpreter : /usr/bin/java
>> Java version     : 1.6.0_29
>> Java home path   : /Library/Java/JavaVirtualMachines/1.6.0_29-b11-402.jdk/Contents/Home
>> Java compiler    : /usr/bin/javac
>> Java headers gen.: /usr/bin/javah
>> Java archive tool: /usr/bin/jar
>> Java library path: 
>> JNI linker flags : -framework JavaVM
>> JNI cpp flags    : -I$(JAVA_HOME)/include
>> 
> 
> Note the Java home path.  But when I  do the following:
> 
>> bash-$ which java
>> /usr/bin/java
>> bash-$ java -version
>> java version "1.7.0_06"
>> Java(TM) SE Runtime Environment (build 1.7.0_06-b24)
>> Java HotSpot(TM) 64-Bit Server VM (build 23.2-b09, mixed mode)
>> 
> 
> So where is ti getting that the home path is to /Library/Java/JavaVirtualMachines/1.6.0_29-b11-402.jdk/Contents/Home?  Is there a file that I can hand edit to give R the correct values?
> 
> Thanks.
> 
> -Roy M.
> On Dec 28, 2012, at 1:28 PM, Marc Schwartz <marc_schwartz at me.com> wro
> 
>> On Dec 28, 2012, at 3:05 PM, peter dalgaard <pdalgd at gmail.com> wrote:
>> 
>>> 
>>> On Dec 28, 2012, at 20:40 , Roy Mendelssohn - NOAA Federal wrote:
>>> 
>>>> Hi All:
>>>> 
>>>> I recently upgraded my computer to 10.8.2, and my Java is now java 1.7 from Oracle.  I am running R 2.15.2, and now rjava and JGR don't work because what appears to be a problem with ipot.  I tried reinstalling rjava and got the following:
>>> 
>>> I can't remember this kind of stuff form one occasion to the next either, but wouldn't it be something with "sudo R CMD javareconf" ?
>> 
>> 
>> 
>> For Mountain Lion, it should be:
>> 
>> sudo R CMD javareconf JAVA_CPPFLAGS=-I/System/Library/Frameworks/JavaVM.framework/Headers
>> 
>> Regards,
>> 
>> Marc Schwartz


From roy.mendelssohn at noaa.gov  Sat Dec 29 01:46:41 2012
From: roy.mendelssohn at noaa.gov (Roy Mendelssohn - NOAA Federal)
Date: Fri, 28 Dec 2012 16:46:41 -0800
Subject: [R-SIG-Mac] R 2.15.2, OS X 10.8.2,  JGR
In-Reply-To: <FDBFEFED-7C40-4C15-90F4-D83DAF2CD9C5@me.com>
References: <D75E7448-2275-4E4D-BE93-E3CC822A4A6F@noaa.gov>
	<24F5AD63-9719-4D83-9F32-9341813203FE@gmail.com>
	<BD4A847B-2B48-4638-BEC5-6FB4001718C0@me.com>
	<6BE97AF2-D742-4310-93D9-ABE08F422C3D@noaa.gov>
	<FDBFEFED-7C40-4C15-90F4-D83DAF2CD9C5@me.com>
Message-ID: <8C8CDA88-55CD-42CC-B59F-E5652821A3D3@noaa.gov>

Yes i have the jdk.  But I just stumbled on part of the problem (I have a feeling i know have to wrestle with 32-bit versus 64-bit versions).

I accidently gave the command:

> R CMD javareconf

without the sudo and the paths were being set correctly to the java 1.7 machine, but of course without permissions it would not overwrite the settings.  I then instead did:

> su
> export JAVA_HOME=`/usr/libexec/java_home -v 1.7`
> R CMD javareconf

That then echoed what I expected.  Okay, so my question is I have been running R not R64.  To use rJava, JGR  etc do I need to run R64 and just install the binary or build from source?  because even though now my paths are set correctly, iplots is still unhappy, and won't build either, because the compiler is trying to do 64-bits in a 32-bit program.

Thanks for any help.

-Roy

On Dec 28, 2012, at 4:35 PM, Marc Schwartz <marc_schwartz at me.com> wrote:

> Roy,
> 
> Did you install the 1.7 JRE only, or did you also install the JDK?  
> 
> If you did not also install the JDK, I believe that you need to do so. It is available here:
> 
>  http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html
> 
> Install that and then run the full javareconf command as I had in my reply below.
> 
> Regards,
> 
> Marc
> 
> On Dec 28, 2012, at 6:11 PM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
> 
>> Thanks.  But I am still stuck.  No matter which command I give, I  get the following:
>> 
>>> sudo R CMD javareconf
>>> Password:
>>> Java interpreter : /usr/bin/java
>>> Java version     : 1.6.0_29
>>> Java home path   : /Library/Java/JavaVirtualMachines/1.6.0_29-b11-402.jdk/Contents/Home
>>> Java compiler    : /usr/bin/javac
>>> Java headers gen.: /usr/bin/javah
>>> Java archive tool: /usr/bin/jar
>>> Java library path: 
>>> JNI linker flags : -framework JavaVM
>>> JNI cpp flags    : -I$(JAVA_HOME)/include
>>> 
>> 
>> Note the Java home path.  But when I  do the following:
>> 
>>> bash-$ which java
>>> /usr/bin/java
>>> bash-$ java -version
>>> java version "1.7.0_06"
>>> Java(TM) SE Runtime Environment (build 1.7.0_06-b24)
>>> Java HotSpot(TM) 64-Bit Server VM (build 23.2-b09, mixed mode)
>>> 
>> 
>> So where is ti getting that the home path is to /Library/Java/JavaVirtualMachines/1.6.0_29-b11-402.jdk/Contents/Home?  Is there a file that I can hand edit to give R the correct values?
>> 
>> Thanks.
>> 
>> -Roy M.
>> On Dec 28, 2012, at 1:28 PM, Marc Schwartz <marc_schwartz at me.com> wro
>> 
>>> On Dec 28, 2012, at 3:05 PM, peter dalgaard <pdalgd at gmail.com> wrote:
>>> 
>>>> 
>>>> On Dec 28, 2012, at 20:40 , Roy Mendelssohn - NOAA Federal wrote:
>>>> 
>>>>> Hi All:
>>>>> 
>>>>> I recently upgraded my computer to 10.8.2, and my Java is now java 1.7 from Oracle.  I am running R 2.15.2, and now rjava and JGR don't work because what appears to be a problem with ipot.  I tried reinstalling rjava and got the following:
>>>> 
>>>> I can't remember this kind of stuff form one occasion to the next either, but wouldn't it be something with "sudo R CMD javareconf" ?
>>> 
>>> 
>>> 
>>> For Mountain Lion, it should be:
>>> 
>>> sudo R CMD javareconf JAVA_CPPFLAGS=-I/System/Library/Frameworks/JavaVM.framework/Headers
>>> 
>>> Regards,
>>> 
>>> Marc Schwartz
> 

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
1352 Lighthouse Avenue
Pacific Grove, CA 93950-2097

e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
voice: (831)-648-9029
fax: (831)-648-8440
www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From simon.urbanek at r-project.org  Sat Dec 29 04:51:56 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 28 Dec 2012 22:51:56 -0500
Subject: [R-SIG-Mac] R 2.15.2, OS X 10.8.2,  JGR
In-Reply-To: <8C8CDA88-55CD-42CC-B59F-E5652821A3D3@noaa.gov>
References: <D75E7448-2275-4E4D-BE93-E3CC822A4A6F@noaa.gov>
	<24F5AD63-9719-4D83-9F32-9341813203FE@gmail.com>
	<BD4A847B-2B48-4638-BEC5-6FB4001718C0@me.com>
	<6BE97AF2-D742-4310-93D9-ABE08F422C3D@noaa.gov>
	<FDBFEFED-7C40-4C15-90F4-D83DAF2CD9C5@me.com>
	<8C8CDA88-55CD-42CC-B59F-E5652821A3D3@noaa.gov>
Message-ID: <BAE1FEB5-8C8C-4DB4-BC15-D2B58AFDF1EA@r-project.org>

On Dec 28, 2012, at 7:46 PM, Roy Mendelssohn - NOAA Federal wrote:

> Yes i have the jdk.  But I just stumbled on part of the problem (I have a feeling i know have to wrestle with 32-bit versus 64-bit versions).
> 
> I accidently gave the command:
> 
>> R CMD javareconf
> 
> without the sudo and the paths were being set correctly to the java 1.7 machine, but of course without permissions it would not overwrite the settings.  

"of course"? R is normally (i.e. from CRAN) installed so that admin users can modify settings. It will only fail if you messed with sudo before or you are not an admin user.


> I then instead did:
> 
>> su
>> export JAVA_HOME=`/usr/libexec/java_home -v 1.7`
>> R CMD javareconf
> 
> That then echoed what I expected.  Okay, so my question is I have been running R not R64.  To use rJava, JGR  etc do I need to run R64 and just install the binary or build from source?  

You have to build rJava from sources with R64 because Oracle's Java is incompatible with anything Apple has supplied before -- see the Oracle 1.7 thread on stats-rosuda-devel (which is the mailing list for rJava and JGR). Oracle's Java doesn't support 32-bit anyway, so you have to use 64-bit R.


> because even though now my paths are set correctly, iplots is still unhappy, and won't build either, because the compiler is trying to do 64-bits in a 32-bit program.
> 

There is no compiler involved in iplots and there is no reason to mess with it (you were mistaken, iplots merely starts rJava which is where you get the JVM error - it has nothing to do with iplots, really) - there is no native code in there and it works with any Java, so just use the CRAN binary. The only piece you have to re-compile is rJava (and possibly JavaGD), everything else should work from CRAN. Just make sure you're using the 64-bit JGR launcher.

Cheers,
Simon



> Thanks for any help.
> 
> -Roy
> 
> On Dec 28, 2012, at 4:35 PM, Marc Schwartz <marc_schwartz at me.com> wrote:
> 
>> Roy,
>> 
>> Did you install the 1.7 JRE only, or did you also install the JDK?  
>> 
>> If you did not also install the JDK, I believe that you need to do so. It is available here:
>> 
>> http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html
>> 
>> Install that and then run the full javareconf command as I had in my reply below.
>> 
>> Regards,
>> 
>> Marc
>> 
>> On Dec 28, 2012, at 6:11 PM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>> 
>>> Thanks.  But I am still stuck.  No matter which command I give, I  get the following:
>>> 
>>>> sudo R CMD javareconf
>>>> Password:
>>>> Java interpreter : /usr/bin/java
>>>> Java version     : 1.6.0_29
>>>> Java home path   : /Library/Java/JavaVirtualMachines/1.6.0_29-b11-402.jdk/Contents/Home
>>>> Java compiler    : /usr/bin/javac
>>>> Java headers gen.: /usr/bin/javah
>>>> Java archive tool: /usr/bin/jar
>>>> Java library path: 
>>>> JNI linker flags : -framework JavaVM
>>>> JNI cpp flags    : -I$(JAVA_HOME)/include
>>>> 
>>> 
>>> Note the Java home path.  But when I  do the following:
>>> 
>>>> bash-$ which java
>>>> /usr/bin/java
>>>> bash-$ java -version
>>>> java version "1.7.0_06"
>>>> Java(TM) SE Runtime Environment (build 1.7.0_06-b24)
>>>> Java HotSpot(TM) 64-Bit Server VM (build 23.2-b09, mixed mode)
>>>> 
>>> 
>>> So where is ti getting that the home path is to /Library/Java/JavaVirtualMachines/1.6.0_29-b11-402.jdk/Contents/Home?  Is there a file that I can hand edit to give R the correct values?
>>> 
>>> Thanks.
>>> 
>>> -Roy M.
>>> On Dec 28, 2012, at 1:28 PM, Marc Schwartz <marc_schwartz at me.com> wro
>>> 
>>>> On Dec 28, 2012, at 3:05 PM, peter dalgaard <pdalgd at gmail.com> wrote:
>>>> 
>>>>> 
>>>>> On Dec 28, 2012, at 20:40 , Roy Mendelssohn - NOAA Federal wrote:
>>>>> 
>>>>>> Hi All:
>>>>>> 
>>>>>> I recently upgraded my computer to 10.8.2, and my Java is now java 1.7 from Oracle.  I am running R 2.15.2, and now rjava and JGR don't work because what appears to be a problem with ipot.  I tried reinstalling rjava and got the following:
>>>>> 
>>>>> I can't remember this kind of stuff form one occasion to the next either, but wouldn't it be something with "sudo R CMD javareconf" ?
>>>> 
>>>> 
>>>> 
>>>> For Mountain Lion, it should be:
>>>> 
>>>> sudo R CMD javareconf JAVA_CPPFLAGS=-I/System/Library/Frameworks/JavaVM.framework/Headers
>>>> 
>>>> Regards,
>>>> 
>>>> Marc Schwartz
>> 
> 
> **********************
> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
> **********************
> Roy Mendelssohn
> Supervisory Operations Research Analyst
> NOAA/NMFS
> Environmental Research Division
> Southwest Fisheries Science Center
> 1352 Lighthouse Avenue
> Pacific Grove, CA 93950-2097
> 
> e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
> voice: (831)-648-9029
> fax: (831)-648-8440
> www: http://www.pfeg.noaa.gov/
> 
> "Old age and treachery will overcome youth and skill."
> "From those who have been given much, much will be expected" 
> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From roy.mendelssohn at noaa.gov  Sat Dec 29 05:12:38 2012
From: roy.mendelssohn at noaa.gov (Roy Mendelssohn - NOAA Federal)
Date: Fri, 28 Dec 2012 20:12:38 -0800
Subject: [R-SIG-Mac] R 2.15.2, OS X 10.8.2,  JGR
In-Reply-To: <BAE1FEB5-8C8C-4DB4-BC15-D2B58AFDF1EA@r-project.org>
References: <D75E7448-2275-4E4D-BE93-E3CC822A4A6F@noaa.gov>
	<24F5AD63-9719-4D83-9F32-9341813203FE@gmail.com>
	<BD4A847B-2B48-4638-BEC5-6FB4001718C0@me.com>
	<6BE97AF2-D742-4310-93D9-ABE08F422C3D@noaa.gov>
	<FDBFEFED-7C40-4C15-90F4-D83DAF2CD9C5@me.com>
	<8C8CDA88-55CD-42CC-B59F-E5652821A3D3@noaa.gov>
	<BAE1FEB5-8C8C-4DB4-BC15-D2B58AFDF1EA@r-project.org>
Message-ID: <EE97E96A-1BD6-417C-920C-65BD1F9A78F9@noaa.gov>

Thanks!.  I am an admin user, using javareconf with sudo overwrote the settings, just didn't find the java 1.7 settings.  I had to su so that I could explicitly set JAVA_HOME and overwrite the settings,  even though JAVA_HOME is set in my bash_profile.  I mainly wrote that down for the record, in case anyone else runs into the problem.

rJava is one piece I did not try rebuilding.   I will give that a go.

It is a shame that the Apple Java utility no longer exists, so that it is relatively easy to switch between Javas.      My memory also is that you use to set JAVA_HOME to a location in the javavm.frameworks directory, but clearly not anymore.  

Thanks again and happy new year.

-Roy



On Dec 28, 2012, at 7:51 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:

> On Dec 28, 2012, at 7:46 PM, Roy Mendelssohn - NOAA Federal wrote:
> 
>> Yes i have the jdk.  But I just stumbled on part of the problem (I have a feeling i know have to wrestle with 32-bit versus 64-bit versions).
>> 
>> I accidently gave the command:
>> 
>>> R CMD javareconf
>> 
>> without the sudo and the paths were being set correctly to the java 1.7 machine, but of course without permissions it would not overwrite the settings.  
> 
> "of course"? R is normally (i.e. from CRAN) installed so that admin users can modify settings. It will only fail if you messed with sudo before or you are not an admin user.
> 
> 
>> I then instead did:
>> 
>>> su
>>> export JAVA_HOME=`/usr/libexec/java_home -v 1.7`
>>> R CMD javareconf
>> 
>> That then echoed what I expected.  Okay, so my question is I have been running R not R64.  To use rJava, JGR  etc do I need to run R64 and just install the binary or build from source?  
> 
> You have to build rJava from sources with R64 because Oracle's Java is incompatible with anything Apple has supplied before -- see the Oracle 1.7 thread on stats-rosuda-devel (which is the mailing list for rJava and JGR). Oracle's Java doesn't support 32-bit anyway, so you have to use 64-bit R.
> 
> 
>> because even though now my paths are set correctly, iplots is still unhappy, and won't build either, because the compiler is trying to do 64-bits in a 32-bit program.
>> 
> 
> There is no compiler involved in iplots and there is no reason to mess with it (you were mistaken, iplots merely starts rJava which is where you get the JVM error - it has nothing to do with iplots, really) - there is no native code in there and it works with any Java, so just use the CRAN binary. The only piece you have to re-compile is rJava (and possibly JavaGD), everything else should work from CRAN. Just make sure you're using the 64-bit JGR launcher.
> 
> Cheers,
> Simon
> 
> 
> 
>> Thanks for any help.
>> 
>> -Roy
>> 
>> On Dec 28, 2012, at 4:35 PM, Marc Schwartz <marc_schwartz at me.com> wrote:
>> 
>>> Roy,
>>> 
>>> Did you install the 1.7 JRE only, or did you also install the JDK?  
>>> 
>>> If you did not also install the JDK, I believe that you need to do so. It is available here:
>>> 
>>> http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html
>>> 
>>> Install that and then run the full javareconf command as I had in my reply below.
>>> 
>>> Regards,
>>> 
>>> Marc
>>> 
>>> On Dec 28, 2012, at 6:11 PM, Roy Mendelssohn - NOAA Federal <roy.mendelssohn at noaa.gov> wrote:
>>> 
>>>> Thanks.  But I am still stuck.  No matter which command I give, I  get the following:
>>>> 
>>>>> sudo R CMD javareconf
>>>>> Password:
>>>>> Java interpreter : /usr/bin/java
>>>>> Java version     : 1.6.0_29
>>>>> Java home path   : /Library/Java/JavaVirtualMachines/1.6.0_29-b11-402.jdk/Contents/Home
>>>>> Java compiler    : /usr/bin/javac
>>>>> Java headers gen.: /usr/bin/javah
>>>>> Java archive tool: /usr/bin/jar
>>>>> Java library path: 
>>>>> JNI linker flags : -framework JavaVM
>>>>> JNI cpp flags    : -I$(JAVA_HOME)/include
>>>>> 
>>>> 
>>>> Note the Java home path.  But when I  do the following:
>>>> 
>>>>> bash-$ which java
>>>>> /usr/bin/java
>>>>> bash-$ java -version
>>>>> java version "1.7.0_06"
>>>>> Java(TM) SE Runtime Environment (build 1.7.0_06-b24)
>>>>> Java HotSpot(TM) 64-Bit Server VM (build 23.2-b09, mixed mode)
>>>>> 
>>>> 
>>>> So where is ti getting that the home path is to /Library/Java/JavaVirtualMachines/1.6.0_29-b11-402.jdk/Contents/Home?  Is there a file that I can hand edit to give R the correct values?
>>>> 
>>>> Thanks.
>>>> 
>>>> -Roy M.
>>>> On Dec 28, 2012, at 1:28 PM, Marc Schwartz <marc_schwartz at me.com> wro
>>>> 
>>>>> On Dec 28, 2012, at 3:05 PM, peter dalgaard <pdalgd at gmail.com> wrote:
>>>>> 
>>>>>> 
>>>>>> On Dec 28, 2012, at 20:40 , Roy Mendelssohn - NOAA Federal wrote:
>>>>>> 
>>>>>>> Hi All:
>>>>>>> 
>>>>>>> I recently upgraded my computer to 10.8.2, and my Java is now java 1.7 from Oracle.  I am running R 2.15.2, and now rjava and JGR don't work because what appears to be a problem with ipot.  I tried reinstalling rjava and got the following:
>>>>>> 
>>>>>> I can't remember this kind of stuff form one occasion to the next either, but wouldn't it be something with "sudo R CMD javareconf" ?
>>>>> 
>>>>> 
>>>>> 
>>>>> For Mountain Lion, it should be:
>>>>> 
>>>>> sudo R CMD javareconf JAVA_CPPFLAGS=-I/System/Library/Frameworks/JavaVM.framework/Headers
>>>>> 
>>>>> Regards,
>>>>> 
>>>>> Marc Schwartz
>>> 
>> 
>> **********************
>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>> **********************
>> Roy Mendelssohn
>> Supervisory Operations Research Analyst
>> NOAA/NMFS
>> Environmental Research Division
>> Southwest Fisheries Science Center
>> 1352 Lighthouse Avenue
>> Pacific Grove, CA 93950-2097
>> 
>> e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
>> voice: (831)-648-9029
>> fax: (831)-648-8440
>> www: http://www.pfeg.noaa.gov/
>> 
>> "Old age and treachery will overcome youth and skill."
>> "From those who have been given much, much will be expected" 
>> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
1352 Lighthouse Avenue
Pacific Grove, CA 93950-2097

e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
voice: (831)-648-9029
fax: (831)-648-8440
www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From ekbrown at k-state.edu  Mon Dec 17 16:14:48 2012
From: ekbrown at k-state.edu (Earl Brown)
Date: Mon, 17 Dec 2012 15:14:48 -0000
Subject: [R-SIG-Mac] Bug in R.app 1.53 - Phantom Text
In-Reply-To: <C563966D3E8C4FA3A52B677FDE6D12F2@sheffield.ac.uk>
Message-ID: <1574612251.4944815.1355757270974.JavaMail.root@k-state.edu>

I'm running Mac OS X 10.7.5, if that's helpful to know. Earl Brown

-----
Earl K. Brown, PhD
Assistant Professor of Spanish Linguistics
Advisor, TEFL MA Program
Department of Modern Languages
Kansas State University

----- Mensaje original -----
De: "Andrew Beckerman" <a.beckerman at sheffield.ac.uk>
Para: "Earl Brown" <ekbrown at k-state.edu>
CC: R-SIG-Mac at r-project.org
Enviados: Lunes, 17 de Diciembre 2012 4:05:03
Asunto: Bug in R.app 1.53 - Phantom Text


Just to chime in that there is a "phantom text" thread running with this issue - there are a few people experiencing this. 


I have been trying to isolate the problem, unsuccessfully, but it looks like assignment operators (<- or =) in a script, trigger this. It looks like whatever mechanism in the console keeps an eye on the script is grabbing things and inserting them before the prompt. 


I also wonder if it is only happening to people on Mountain Lion? 



Can someone suggest a way to get a "status shot" from the OS for R when this happens so we can help more? 








Andrew 
--------------------------------------------------------------------------- 
Dr. Andrew Beckerman 
Department of Animal and Plant Sciences, University of Sheffield, 
Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK 
ph +44 (0)114 222 0026; fx +44 (0)114 222 0002 
http://www.beckslab.staff.shef.ac.uk / 


co-Editor-in-Chief, Ecology and Evolution 


See our new R Book: http://www.r4all.org 


http://www.flickr.com/photos/apbeckerman/ 
http://www.warblefly.co.uk 
-------------------------------------------------------------------------- Sent with Sparrow 




On Saturday, 15 December 2012 at 05:12, Earl Brown wrote: 




When I run code in R.app, in addition to getting the results I expect, the console also randomly prints out previously submitted code and places it before the prompt arrow and/or before the output of what my code asks R to do. The color of this random, unwanted output is gray. This doesn't happen when I run my code in R in a Terminal window, nor did it happen before I upgraded to R 2.15.2 and R.app 1.53 a few days ago. Take a look at the two attached screen shots, one of R.app and the other of Terminal running the same code. And here's my sessionInfo(): 




sessionInfo() 
R version 2.15.2 (2012-10-26) 
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit) 


locale: 
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8 


attached base packages: 
[1] stats graphics grDevices utils datasets methods base 


Any ideas? Thanks, Earl Brown 


----- 
Earl K. Brown, PhD 
Assistant Professor of Spanish Linguistics 
Advisor, TEFL MA Program 
Department of Modern Languages 
Kansas State University 

_______________________________________________ 
R-SIG-Mac mailing list 
R-SIG-Mac at r-project.org 
https://stat.ethz.ch/mailman/listinfo/r-sig-mac 


Attachments: 

- Screen Shot 2012-12-14 at 10.53.49 PM.png 

- Screen Shot 2012-12-14 at 10.54.14 PM.png


From ekbrown at k-state.edu  Mon Dec 17 20:52:52 2012
From: ekbrown at k-state.edu (Earl Brown)
Date: Mon, 17 Dec 2012 19:52:52 -0000
Subject: [R-SIG-Mac] Bug in R.app 1.53
In-Reply-To: <16FEC4ED-3CD5-458E-B3CC-5B2691D8869F@r-project.org>
Message-ID: <1994875724.5087459.1355773957930.JavaMail.root@k-state.edu>

(Potentially) helpful info about the bug:

I could NOT reproduce the bug when I opened my code file in TextWrangler and simply copied the code and then pasted it directly into the R console in R.app. The same thing happened when I used TextEdit and even MS Word. However, when I opened the code file with the built-in text editor in R.app and copied and pasted code into the R console I got the bug again. The same thing happened when I executed the code directly in the built-in text editor with the keyboard shortcut command + enter.

Could the bug be caused by the clipboard that the built-in text editor uses, which seems to be different than the system-wide clipboard that (I assume) TextWrangler, TextEdit and MS Word use. If not, why would the bug only be reproduced when I copy the code in the built-in text editor but not when I copy the code in other programs?

Earl Brown

-----
Earl K. Brown, PhD
Assistant Professor of Spanish Linguistics
Advisor, TEFL MA Program
Department of Modern Languages
Kansas State University

----- Mensaje original -----
De: "Simon Urbanek" <simon.urbanek at r-project.org>
Para: "Earl Brown" <ekbrown at k-state.edu>
CC: R-SIG-Mac at r-project.org
Enviados: Lunes, 17 de Diciembre 2012 10:44:24
Asunto: Re: [R-SIG-Mac] Bug in R.app 1.53

The grey color is output on stdout, typically it is a solicited output of system commands, for example try

> system("date")
Mon Dec 17 11:36:56 EST 2012
> 

The date will be in gray because the "date" command will print it out there so the GUI passes it on. It's not necessarily R.app itself generating that output.

Now the big question is who is creating that output - it can be anything from 3rd party hacks to R or custom top-level code used by the user. I don't see any printf/puts in the GUI code so it's unlikely produced by the GUI itself. I'll see if I can reproduce it ..

Cheers,
Simon


On Dec 15, 2012, at 12:12 AM, Earl Brown wrote:

> When I run code in R.app, in addition to getting the results I expect, the console also randomly prints out previously submitted code and places it before the prompt arrow and/or before the output of what my code asks R to do. The color of this random, unwanted output is gray. This doesn't happen when I run my code in R in a Terminal window, nor did it happen before I upgraded to R 2.15.2 and R.app 1.53 a few days ago. Take a look at the two attached screen shots, one of R.app and the other of Terminal running the same code. And here's my sessionInfo():
> 
>> sessionInfo()
> R version 2.15.2 (2012-10-26)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> Any ideas? Thanks, Earl Brown
> 
> -----
> Earl K. Brown, PhD
> Assistant Professor of Spanish Linguistics
> Advisor, TEFL MA Program
> Department of Modern Languages
> Kansas State University
> 
> <Screen Shot 2012-12-14 at 10.53.49 PM.png><Screen Shot 2012-12-14 at 10.54.14 PM.png>_______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


