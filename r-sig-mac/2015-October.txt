From carl_pfisterer at yahoo.com  Thu Oct  1 22:58:29 2015
From: carl_pfisterer at yahoo.com (Carl pfisterer)
Date: Thu, 1 Oct 2015 20:58:29 +0000 (UTC)
Subject: [R-SIG-Mac] FastRWeb on El Capitan
Message-ID: <1764843315.3331128.1443733109119.JavaMail.yahoo@mail.yahoo.com>

I upgraded a test machine to OS X 10.11 but I seem to be having difficulty with FastRWeb and Rserve. ?When my cgi-script calls Rserve, I get the following error message in the terminal window: Invalid memory access of location 0x110 rip0x7fff86d636a9. ?Is this a known issue? ?If so, is there a work around? ?Thanks!
-Carl
	[[alternative HTML version deleted]]


From bhive01 at gmail.com  Thu Oct  1 23:00:52 2015
From: bhive01 at gmail.com (Brandon Hurr)
Date: Thu, 1 Oct 2015 14:00:52 -0700
Subject: [R-SIG-Mac] FastRWeb on El Capitan
In-Reply-To: <1764843315.3331128.1443733109119.JavaMail.yahoo@mail.yahoo.com>
References: <1764843315.3331128.1443733109119.JavaMail.yahoo@mail.yahoo.com>
Message-ID: <CAG2OMvtvHHn1Afrm8fjPqOPfiydzMVp-pfp5ei8x151dh-hVmA@mail.gmail.com>

Do you have some reproducible code. I updated to 10.11 this morning and
things seem ok, but I don't use those components.

On Thu, Oct 1, 2015 at 1:58 PM, Carl pfisterer via R-SIG-Mac <
r-sig-mac at r-project.org> wrote:

> I upgraded a test machine to OS X 10.11 but I seem to be having difficulty
> with FastRWeb and Rserve.  When my cgi-script calls Rserve, I get the
> following error message in the terminal window: Invalid memory access of
> location 0x110 rip0x7fff86d636a9.  Is this a known issue?  If so, is there
> a work around?  Thanks!
> -Carl
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From carl_pfisterer at yahoo.com  Fri Oct  2 18:38:54 2015
From: carl_pfisterer at yahoo.com (Carl pfisterer)
Date: Fri, 2 Oct 2015 16:38:54 +0000 (UTC)
Subject: [R-SIG-Mac] FastRWeb on El Capitan
In-Reply-To: <CAG2OMvunT2DO9MvAPLz4R4dV30DoNs-0fcX3fG2L6nZVwGM2+w@mail.gmail.com>
References: <CAG2OMvunT2DO9MvAPLz4R4dV30DoNs-0fcX3fG2L6nZVwGM2+w@mail.gmail.com>
Message-ID: <1837732039.277565.1443803934145.JavaMail.yahoo@mail.yahoo.com>

I got it working, it had to do with the code making calls to RJDBC to set up the connection to MySQL. ?I used the RMySQL package instead and it is working find. ?I need to experiment a bit more, it is curious since RJDBC seems to be working fine when not calling directly in R and not though the FastRWeb/Rserve interface.
-Carl 


     On Friday, October 2, 2015 8:21 AM, Brandon Hurr <bhive01 at gmail.com> wrote:
   

 Carl,?
Glad you got it working. Maybe reply to the list and let them know what fixed it, in case anyone else has the same issue?
B
On Thu, Oct 1, 2015 at 4:03 PM, Carl pfisterer <carl_pfisterer at yahoo.com> wrote:

FastRWeb and Rserve are working, the R function to connect to the database was failing.? I'm not sure exactly why, but using RMySQL instead of RJDBC seems to work.? RJDBC works when running the same function directly in R so it is a bit perplexing. ?
-Carl 


     On Thursday, October 1, 2015 1:12 PM, Carl pfisterer <carl_pfisterer at yahoo.com> wrote:
   

 I don't believe I have anything portable, it is making calls to a mysql database as well so it could be related to that.? I will test it on some simpler code to figure out the exact source.? I'm encouraged to hear it is working for someone else though. 


     On Thursday, October 1, 2015 1:00 PM, Brandon Hurr <bhive01 at gmail.com> wrote:
   

 Do you have some reproducible code. I updated to 10.11 this morning and things seem ok, but I don't use those components.?
On Thu, Oct 1, 2015 at 1:58 PM, Carl pfisterer via R-SIG-Mac <r-sig-mac at r-project.org> wrote:

I upgraded a test machine to OS X 10.11 but I seem to be having difficulty with FastRWeb and Rserve.? When my cgi-script calls Rserve, I get the following error message in the terminal window: Invalid memory access of location 0x110 rip0x7fff86d636a9.? Is this a known issue?? If so, is there a work around?? Thanks!
-Carl
? ? ? ? [[alternative HTML version deleted]]

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-sig-mac




   

   



  
	[[alternative HTML version deleted]]


From simon.urbanek at r-project.org  Fri Oct  2 19:51:46 2015
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 2 Oct 2015 13:51:46 -0400
Subject: [R-SIG-Mac] FastRWeb on El Capitan
In-Reply-To: <1837732039.277565.1443803934145.JavaMail.yahoo@mail.yahoo.com>
References: <CAG2OMvunT2DO9MvAPLz4R4dV30DoNs-0fcX3fG2L6nZVwGM2+w@mail.gmail.com>
	<1837732039.277565.1443803934145.JavaMail.yahoo@mail.yahoo.com>
Message-ID: <D3A04500-458F-462D-9F16-7C160D1DB9AC@r-project.org>


On Oct 2, 2015, at 12:38 PM, Carl pfisterer via R-SIG-Mac <r-sig-mac at r-project.org> wrote:

> I got it working, it had to do with the code making calls to RJDBC to set up the connection to MySQL.  I used the RMySQL package instead and it is working find.  I need to experiment a bit more, it is curious since RJDBC seems to be working fine when not calling directly in R and not though the FastRWeb/Rserve interface.
> 

FWIW you cannot pre-load Java since JVMs cannot be forked, so as long as you load RJDBC in the script, it should be ok, but you cannot pre-load it.

Cheers,
S


> 
>     On Friday, October 2, 2015 8:21 AM, Brandon Hurr <bhive01 at gmail.com> wrote:
> 
> 
> Carl, 
> Glad you got it working. Maybe reply to the list and let them know what fixed it, in case anyone else has the same issue?
> B
> On Thu, Oct 1, 2015 at 4:03 PM, Carl pfisterer <carl_pfisterer at yahoo.com> wrote:
> 
> FastRWeb and Rserve are working, the R function to connect to the database was failing.  I'm not sure exactly why, but using RMySQL instead of RJDBC seems to work.  RJDBC works when running the same function directly in R so it is a bit perplexing.  
> -Carl 
> 
> 
>     On Thursday, October 1, 2015 1:12 PM, Carl pfisterer <carl_pfisterer at yahoo.com> wrote:
> 
> 
> I don't believe I have anything portable, it is making calls to a mysql database as well so it could be related to that.  I will test it on some simpler code to figure out the exact source.  I'm encouraged to hear it is working for someone else though. 
> 
> 
>     On Thursday, October 1, 2015 1:00 PM, Brandon Hurr <bhive01 at gmail.com> wrote:
> 
> 
> Do you have some reproducible code. I updated to 10.11 this morning and things seem ok, but I don't use those components. 
> On Thu, Oct 1, 2015 at 1:58 PM, Carl pfisterer via R-SIG-Mac <r-sig-mac at r-project.org> wrote:
> 
> I upgraded a test machine to OS X 10.11 but I seem to be having difficulty with FastRWeb and Rserve.  When my cgi-script calls Rserve, I get the following error message in the terminal window: Invalid memory access of location 0x110 rip0x7fff86d636a9.  Is this a known issue?  If so, is there a work around?  Thanks!
> -Carl
>         [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ripley at stats.ox.ac.uk  Sun Oct  4 18:53:34 2015
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 4 Oct 2015 17:53:34 +0100
Subject: [R-SIG-Mac] Experiences with El Capitan
Message-ID: <5611598E.6030004@stats.ox.ac.uk>

The machine which provides the 'r-devel-osx-x86_64-clang' checks on the 
CRAN check farm has been upgraded from Yosemite to El Capitan and a 
complete round of checks has been run.


1) There is a lot of misinformation around about 'System Integrity 
Protection' aka 'rootless'.

Upgrading to El Capitan moves files which are not allowed under /usr to 
/Library/SystemMigration/usr, so you will be able to see what was lost. 
This includes /usr/bin/R, /usr/bin/Rscript (but the installer installs 
these under /usr/local/bin on El Capitan as from R 3.2.2), /usr/X11R6, 
/usr/texbin .  Contrary to reports from betas, the link /usr/X11 is 
preserved.

If an installer tries to create a disallowed file such as /usr/bin/R, 
this is silently ignored (at least in the cases we tested).  So you can 
install e.g. R 3.1.3 but the executables will not appear in the default 
Terminal path (more details in the current manual).


2) After updating you need to re-install the Command Line Tools and R 
(to get the links in /usr/local).  I did not need to re-install Java nor 
XQuartz.


3) All the 'Mavericks' binary packages tested worked.  The source 
packages of rJava and rgl (only) cannot be installed and the maintainers 
have patched versions available.


There is updated information in the latest 'R Installation and 
Administration' manual in R-patched and R-devel (in the sources, or the 
online versions at https://cran.r-project.org/manuals.html will update 
in a day or two).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK


From pdalgd at gmail.com  Sun Oct  4 22:09:36 2015
From: pdalgd at gmail.com (peter dalgaard)
Date: Sun, 4 Oct 2015 22:09:36 +0200
Subject: [R-SIG-Mac] Experiences with El Capitan
In-Reply-To: <5611598E.6030004@stats.ox.ac.uk>
References: <5611598E.6030004@stats.ox.ac.uk>
Message-ID: <1B39A383-D524-4585-B992-5EBA99006F84@gmail.com>

<Round of applause, please!>

-pd

> On 04 Oct 2015, at 18:53 , Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> 
> The machine which provides the 'r-devel-osx-x86_64-clang' checks on the CRAN check farm has been upgraded from Yosemite to El Capitan and a complete round of checks has been run.
> 
> 
> 1) There is a lot of misinformation around about 'System Integrity Protection' aka 'rootless'.
> 
> Upgrading to El Capitan moves files which are not allowed under /usr to /Library/SystemMigration/usr, so you will be able to see what was lost. This includes /usr/bin/R, /usr/bin/Rscript (but the installer installs these under /usr/local/bin on El Capitan as from R 3.2.2), /usr/X11R6, /usr/texbin .  Contrary to reports from betas, the link /usr/X11 is preserved.
> 
> If an installer tries to create a disallowed file such as /usr/bin/R, this is silently ignored (at least in the cases we tested).  So you can install e.g. R 3.1.3 but the executables will not appear in the default Terminal path (more details in the current manual).
> 
> 
> 2) After updating you need to re-install the Command Line Tools and R (to get the links in /usr/local).  I did not need to re-install Java nor XQuartz.
> 
> 
> 3) All the 'Mavericks' binary packages tested worked.  The source packages of rJava and rgl (only) cannot be installed and the maintainers have patched versions available.
> 
> 
> There is updated information in the latest 'R Installation and Administration' manual in R-patched and R-devel (in the sources, or the online versions at https://cran.r-project.org/manuals.html will update in a day or two).
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Emeritus Professor of Applied Statistics, University of Oxford
> 1 South Parks Road, Oxford OX1 3TG, UK
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From Rainer at krugs.de  Mon Oct  5 09:34:28 2015
From: Rainer at krugs.de (Rainer M Krug)
Date: Mon, 05 Oct 2015 09:34:28 +0200
Subject: [R-SIG-Mac] Experiences with El Capitan
In-Reply-To: <1B39A383-D524-4585-B992-5EBA99006F84@gmail.com> (peter
	dalgaard's message of "Sun, 4 Oct 2015 22:09:36 +0200")
References: <5611598E.6030004@stats.ox.ac.uk>
	<1B39A383-D524-4585-B992-5EBA99006F84@gmail.com>
Message-ID: <m2y4fhepkr.fsf@krugs.de>

peter dalgaard <pdalgd at gmail.com> writes:

> <Round of applause, please!>

Agreed.

I just would like to dd that in the case of using homebrew, which
installs everything under /usr/local/... which did not cause any
problems at all. I moved the contents of /usr/local to an other location
before upgrade because the upgrade to Yosemite took because of a large
/usr/local several hours instead of about half an hour, moved it back
afterwards and everything worked fins without problems.

One question concerning mixed usage of homebrew and the Official R
installers:

do the Official R installers fail if an R binary already exist, or do
they raise a warning?

To make this easier, would it be possible, to install the binaries under
/usr/local/bin/R.X.Y.Z and then just create links in /usr/local/bin ?
Tghis would make the whole process more transparent and easier to switch
between different versions and means of installation.

Thanks for the clarifications,

Rainer

>
> -pd
>
>> On 04 Oct 2015, at 18:53 , Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>> 
>> The machine which provides the 'r-devel-osx-x86_64-clang' checks on
>> the CRAN check farm has been upgraded from Yosemite to El Capitan
>> and a complete round of checks has been run.
>> 
>> 
>> 1) There is a lot of misinformation around about 'System Integrity Protection' aka 'rootless'.
>> 
>> Upgrading to El Capitan moves files which are not allowed under /usr
>> to /Library/SystemMigration/usr, so you will be able to see what was
>> lost. This includes /usr/bin/R, /usr/bin/Rscript (but the installer
>> installs these under /usr/local/bin on El Capitan as from R 3.2.2),
>> /usr/X11R6, /usr/texbin .  Contrary to reports from betas, the link
>> /usr/X11 is preserved.
>> 
>> If an installer tries to create a disallowed file such as
>> /usr/bin/R, this is silently ignored (at least in the cases we
>> tested).  So you can install e.g. R 3.1.3 but the executables will
>> not appear in the default Terminal path (more details in the current
>> manual).
>> 
>> 
>> 2) After updating you need to re-install the Command Line Tools and
>> R (to get the links in /usr/local).  I did not need to re-install
>> Java nor XQuartz.
>> 
>> 
>> 3) All the 'Mavericks' binary packages tested worked.  The source
>> packages of rJava and rgl (only) cannot be installed and the
>> maintainers have patched versions available.
>> 
>> 
>> There is updated information in the latest 'R Installation and
>> Administration' manual in R-patched and R-devel (in the sources, or
>> the online versions at https://cran.r-project.org/manuals.html will
>> update in a day or two).
>> 
>> -- 
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Emeritus Professor of Applied Statistics, University of Oxford
>> 1 South Parks Road, Oxford OX1 3TG, UK
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Rainer M. Krug
email: Rainer<at>krugs<dot>de
PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 454 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20151005/6b35c5e2/attachment.bin>

From mikko.korpela at aalto.fi  Mon Oct  5 10:03:43 2015
From: mikko.korpela at aalto.fi (Mikko Korpela)
Date: Mon, 5 Oct 2015 11:03:43 +0300
Subject: [R-SIG-Mac] Experiences with El Capitan
In-Reply-To: <5611598E.6030004@stats.ox.ac.uk>
References: <5611598E.6030004@stats.ox.ac.uk>
Message-ID: <56122EDF.6020509@aalto.fi>

On 04.10.2015 19:53, Prof Brian Ripley wrote:
> The machine which provides the 'r-devel-osx-x86_64-clang' checks on the
> CRAN check farm has been upgraded from Yosemite to El Capitan and a
> complete round of checks has been run.

Thank you, this is great.

For your information, I noticed that the machine is still listed as
running "OS X 10.10" (Yosemite) at
<https://cran.r-project.org/web/checks/check_flavors.html>. If this is
something that will be updated automatically, please ignore the noise.

-- 
Mikko Korpela
Aalto University School of Science
Department of Computer Science


From ripley at stats.ox.ac.uk  Mon Oct  5 10:17:01 2015
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 5 Oct 2015 09:17:01 +0100
Subject: [R-SIG-Mac] Experiences with El Capitan
In-Reply-To: <56122EDF.6020509@aalto.fi>
References: <5611598E.6030004@stats.ox.ac.uk> <56122EDF.6020509@aalto.fi>
Message-ID: <561231FD.1030403@stats.ox.ac.uk>

On 05/10/2015 09:03, Mikko Korpela wrote:
> On 04.10.2015 19:53, Prof Brian Ripley wrote:
>> The machine which provides the 'r-devel-osx-x86_64-clang' checks on the
>> CRAN check farm has been upgraded from Yosemite to El Capitan and a
>> complete round of checks has been run.
>
> Thank you, this is great.
>
> For your information, I noticed that the machine is still listed as
> running "OS X 10.10" (Yosemite) at
> <https://cran.r-project.org/web/checks/check_flavors.html>. If this is
> something that will be updated automatically, please ignore the noise.
>
Work in progress ... the people who make the change have been informed.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK


From simon.urbanek at r-project.org  Mon Oct  5 21:46:41 2015
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 5 Oct 2015 15:46:41 -0400
Subject: [R-SIG-Mac] Experiences with El Capitan
In-Reply-To: <m2y4fhepkr.fsf@krugs.de>
References: <5611598E.6030004@stats.ox.ac.uk>
	<1B39A383-D524-4585-B992-5EBA99006F84@gmail.com>
	<m2y4fhepkr.fsf@krugs.de>
Message-ID: <48FD926E-A6C9-41A6-8B8A-19958D697791@r-project.org>


On Oct 5, 2015, at 3:34 AM, Rainer M Krug <Rainer at krugs.de> wrote:

> peter dalgaard <pdalgd at gmail.com> writes:
> 
>> <Round of applause, please!>
> 
> Agreed.
> 
> I just would like to dd that in the case of using homebrew, which
> installs everything under /usr/local/... which did not cause any
> problems at all. I moved the contents of /usr/local to an other location
> before upgrade because the upgrade to Yosemite took because of a large
> /usr/local several hours instead of about half an hour, moved it back
> afterwards and everything worked fins without problems.
> 
> One question concerning mixed usage of homebrew and the Official R
> installers:
> 
> do the Official R installers fail if an R binary already exist, or do
> they raise a warning?
> 
> To make this easier, would it be possible, to install the binaries under
> /usr/local/bin/R.X.Y.Z and then just create links in /usr/local/bin ?
> Tghis would make the whole process more transparent and easier to switch
> between different versions and means of installation.
> 

R installer never installs any R binaries outside of the framework/app. The only thing we provide on 10.10 is a softlink for R and Rscript in /usr/local/bin into the framework (removing anything else in that name if it exists). In earlier OS X versions this applies to /usr/bin instead.

Cheers,
Simon


> Thanks for the clarifications,
> 
> Rainer
> 
>> 
>> -pd
>> 
>>> On 04 Oct 2015, at 18:53 , Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>> 
>>> The machine which provides the 'r-devel-osx-x86_64-clang' checks on
>>> the CRAN check farm has been upgraded from Yosemite to El Capitan
>>> and a complete round of checks has been run.
>>> 
>>> 
>>> 1) There is a lot of misinformation around about 'System Integrity Protection' aka 'rootless'.
>>> 
>>> Upgrading to El Capitan moves files which are not allowed under /usr
>>> to /Library/SystemMigration/usr, so you will be able to see what was
>>> lost. This includes /usr/bin/R, /usr/bin/Rscript (but the installer
>>> installs these under /usr/local/bin on El Capitan as from R 3.2.2),
>>> /usr/X11R6, /usr/texbin .  Contrary to reports from betas, the link
>>> /usr/X11 is preserved.
>>> 
>>> If an installer tries to create a disallowed file such as
>>> /usr/bin/R, this is silently ignored (at least in the cases we
>>> tested).  So you can install e.g. R 3.1.3 but the executables will
>>> not appear in the default Terminal path (more details in the current
>>> manual).
>>> 
>>> 
>>> 2) After updating you need to re-install the Command Line Tools and
>>> R (to get the links in /usr/local).  I did not need to re-install
>>> Java nor XQuartz.
>>> 
>>> 
>>> 3) All the 'Mavericks' binary packages tested worked.  The source
>>> packages of rJava and rgl (only) cannot be installed and the
>>> maintainers have patched versions available.
>>> 
>>> 
>>> There is updated information in the latest 'R Installation and
>>> Administration' manual in R-patched and R-devel (in the sources, or
>>> the online versions at https://cran.r-project.org/manuals.html will
>>> update in a day or two).
>>> 
>>> -- 
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Emeritus Professor of Applied Statistics, University of Oxford
>>> 1 South Parks Road, Oxford OX1 3TG, UK
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> -- 
> Rainer M. Krug
> email: Rainer<at>krugs<dot>de
> PGP: 0x0F52F982
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From Rainer at krugs.de  Tue Oct  6 09:12:23 2015
From: Rainer at krugs.de (Rainer M Krug)
Date: Tue, 06 Oct 2015 09:12:23 +0200
Subject: [R-SIG-Mac] Experiences with El Capitan
In-Reply-To: <48FD926E-A6C9-41A6-8B8A-19958D697791@r-project.org> (Simon
	Urbanek's message of "Mon, 5 Oct 2015 15:46:41 -0400")
References: <5611598E.6030004@stats.ox.ac.uk>
	<1B39A383-D524-4585-B992-5EBA99006F84@gmail.com>
	<m2y4fhepkr.fsf@krugs.de>
	<48FD926E-A6C9-41A6-8B8A-19958D697791@r-project.org>
Message-ID: <m2lhbgcvxk.fsf@krugs.de>

Simon Urbanek <simon.urbanek at r-project.org> writes:

> On Oct 5, 2015, at 3:34 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>
>> peter dalgaard <pdalgd at gmail.com> writes:
>> 
>>> <Round of applause, please!>
>> 
>> Agreed.
>> 
>> I just would like to dd that in the case of using homebrew, which
>> installs everything under /usr/local/... which did not cause any
>> problems at all. I moved the contents of /usr/local to an other location
>> before upgrade because the upgrade to Yosemite took because of a large
>> /usr/local several hours instead of about half an hour, moved it back
>> afterwards and everything worked fins without problems.
>> 
>> One question concerning mixed usage of homebrew and the Official R
>> installers:
>> 
>> do the Official R installers fail if an R binary already exist, or do
>> they raise a warning?
>> 
>> To make this easier, would it be possible, to install the binaries under
>> /usr/local/bin/R.X.Y.Z and then just create links in /usr/local/bin ?
>> Tghis would make the whole process more transparent and easier to switch
>> between different versions and means of installation.
>> 
>
> R installer never installs any R binaries outside of the
> framework/app. The only thing we provide on 10.10 is a softlink for R
> and Rscript in /usr/local/bin into the framework (removing anything
> else in that name if it exists). In earlier OS X versions this applies
> to /usr/bin instead.

OK - thanks for the clarification.

Maybe I am overly careful, but I would very much prefer that the user is
asked how to proceed if something would be overwritten.

Due to e.g. homebrew /usr/local/bin becomes used quite a bit, so an
approach which does not overwrite existing files / links in
/usr/local/bin would be, in my opinion, a plus.

Homebrew does for example installs the files, but does issue an error if
the links in e.g. /usr/local/bin would overwrite existing files / links.

Cheers,

Rainer

>
> Cheers,
> Simon
>
>
>> Thanks for the clarifications,
>> 
>> Rainer
>> 
>>> 
>>> -pd
>>> 
>>>> On 04 Oct 2015, at 18:53 , Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>>> 
>>>> The machine which provides the 'r-devel-osx-x86_64-clang' checks on
>>>> the CRAN check farm has been upgraded from Yosemite to El Capitan
>>>> and a complete round of checks has been run.
>>>> 
>>>> 
>>>> 1) There is a lot of misinformation around about 'System Integrity Protection' aka 'rootless'.
>>>> 
>>>> Upgrading to El Capitan moves files which are not allowed under /usr
>>>> to /Library/SystemMigration/usr, so you will be able to see what was
>>>> lost. This includes /usr/bin/R, /usr/bin/Rscript (but the installer
>>>> installs these under /usr/local/bin on El Capitan as from R 3.2.2),
>>>> /usr/X11R6, /usr/texbin .  Contrary to reports from betas, the link
>>>> /usr/X11 is preserved.
>>>> 
>>>> If an installer tries to create a disallowed file such as
>>>> /usr/bin/R, this is silently ignored (at least in the cases we
>>>> tested).  So you can install e.g. R 3.1.3 but the executables will
>>>> not appear in the default Terminal path (more details in the current
>>>> manual).
>>>> 
>>>> 
>>>> 2) After updating you need to re-install the Command Line Tools and
>>>> R (to get the links in /usr/local).  I did not need to re-install
>>>> Java nor XQuartz.
>>>> 
>>>> 
>>>> 3) All the 'Mavericks' binary packages tested worked.  The source
>>>> packages of rJava and rgl (only) cannot be installed and the
>>>> maintainers have patched versions available.
>>>> 
>>>> 
>>>> There is updated information in the latest 'R Installation and
>>>> Administration' manual in R-patched and R-devel (in the sources, or
>>>> the online versions at https://cran.r-project.org/manuals.html will
>>>> update in a day or two).
>>>> 
>>>> -- 
>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>> Emeritus Professor of Applied Statistics, University of Oxford
>>>> 1 South Parks Road, Oxford OX1 3TG, UK
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> -- 
>> Rainer M. Krug
>> email: Rainer<at>krugs<dot>de
>> PGP: 0x0F52F982
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Rainer M. Krug
email: Rainer<at>krugs<dot>de
PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 454 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20151006/1a3bd6ee/attachment.bin>

From simon.urbanek at r-project.org  Tue Oct  6 15:23:02 2015
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 6 Oct 2015 09:23:02 -0400
Subject: [R-SIG-Mac] Experiences with El Capitan
In-Reply-To: <m2lhbgcvxk.fsf@krugs.de>
References: <5611598E.6030004@stats.ox.ac.uk>
	<1B39A383-D524-4585-B992-5EBA99006F84@gmail.com>
	<m2y4fhepkr.fsf@krugs.de>
	<48FD926E-A6C9-41A6-8B8A-19958D697791@r-project.org>
	<m2lhbgcvxk.fsf@krugs.de>
Message-ID: <5540E1B4-B1F4-40CE-A3C5-926478244FD8@r-project.org>


On Oct 6, 2015, at 3:12 AM, Rainer M Krug <Rainer at krugs.de> wrote:

> Simon Urbanek <simon.urbanek at r-project.org> writes:
> 
>> On Oct 5, 2015, at 3:34 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>> 
>>> peter dalgaard <pdalgd at gmail.com> writes:
>>> 
>>>> <Round of applause, please!>
>>> 
>>> Agreed.
>>> 
>>> I just would like to dd that in the case of using homebrew, which
>>> installs everything under /usr/local/... which did not cause any
>>> problems at all. I moved the contents of /usr/local to an other location
>>> before upgrade because the upgrade to Yosemite took because of a large
>>> /usr/local several hours instead of about half an hour, moved it back
>>> afterwards and everything worked fins without problems.
>>> 
>>> One question concerning mixed usage of homebrew and the Official R
>>> installers:
>>> 
>>> do the Official R installers fail if an R binary already exist, or do
>>> they raise a warning?
>>> 
>>> To make this easier, would it be possible, to install the binaries under
>>> /usr/local/bin/R.X.Y.Z and then just create links in /usr/local/bin ?
>>> Tghis would make the whole process more transparent and easier to switch
>>> between different versions and means of installation.
>>> 
>> 
>> R installer never installs any R binaries outside of the
>> framework/app. The only thing we provide on 10.10 is a softlink for R
>> and Rscript in /usr/local/bin into the framework (removing anything
>> else in that name if it exists). In earlier OS X versions this applies
>> to /usr/bin instead.
> 
> OK - thanks for the clarification.
> 
> Maybe I am overly careful, but I would very much prefer that the user is
> asked how to proceed if something would be overwritten.
> 
> Due to e.g. homebrew /usr/local/bin becomes used quite a bit, so an
> approach which does not overwrite existing files / links in
> /usr/local/bin would be, in my opinion, a plus.
> 
> Homebrew does for example installs the files, but does issue an error if
> the links in e.g. /usr/local/bin would overwrite existing files / links.
> 

Homebrew doesn't really abide by any Apple rules and it's command line tool, so whatever it does is quite irrelevant here. Users use Homebrew entirely at their own risk. R is using the standard Apple Installer and for obvious reasons AI doesn't pester the user about making low-level decisions (since 99% of users just want it to work - just imagine AI asking about every file when you upgrade OS X ;)). Also if you mix native R and Homebrew R you're already in trouble, so you better know what you're doing.

That said, one thing we could do would be to re-name whatever we find to replace so you can move it back if you so desire. (Of course if you install it twice your backup is gone etc.).

Cheers,
Simon




> Cheers,
> 
> Rainer
> 
>> 
>> Cheers,
>> Simon
>> 
>> 
>>> Thanks for the clarifications,
>>> 
>>> Rainer
>>> 
>>>> 
>>>> -pd
>>>> 
>>>>> On 04 Oct 2015, at 18:53 , Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>>>> 
>>>>> The machine which provides the 'r-devel-osx-x86_64-clang' checks on
>>>>> the CRAN check farm has been upgraded from Yosemite to El Capitan
>>>>> and a complete round of checks has been run.
>>>>> 
>>>>> 
>>>>> 1) There is a lot of misinformation around about 'System Integrity Protection' aka 'rootless'.
>>>>> 
>>>>> Upgrading to El Capitan moves files which are not allowed under /usr
>>>>> to /Library/SystemMigration/usr, so you will be able to see what was
>>>>> lost. This includes /usr/bin/R, /usr/bin/Rscript (but the installer
>>>>> installs these under /usr/local/bin on El Capitan as from R 3.2.2),
>>>>> /usr/X11R6, /usr/texbin .  Contrary to reports from betas, the link
>>>>> /usr/X11 is preserved.
>>>>> 
>>>>> If an installer tries to create a disallowed file such as
>>>>> /usr/bin/R, this is silently ignored (at least in the cases we
>>>>> tested).  So you can install e.g. R 3.1.3 but the executables will
>>>>> not appear in the default Terminal path (more details in the current
>>>>> manual).
>>>>> 
>>>>> 
>>>>> 2) After updating you need to re-install the Command Line Tools and
>>>>> R (to get the links in /usr/local).  I did not need to re-install
>>>>> Java nor XQuartz.
>>>>> 
>>>>> 
>>>>> 3) All the 'Mavericks' binary packages tested worked.  The source
>>>>> packages of rJava and rgl (only) cannot be installed and the
>>>>> maintainers have patched versions available.
>>>>> 
>>>>> 
>>>>> There is updated information in the latest 'R Installation and
>>>>> Administration' manual in R-patched and R-devel (in the sources, or
>>>>> the online versions at https://cran.r-project.org/manuals.html will
>>>>> update in a day or two).
>>>>> 
>>>>> -- 
>>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>>> Emeritus Professor of Applied Statistics, University of Oxford
>>>>> 1 South Parks Road, Oxford OX1 3TG, UK
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> -- 
>>> Rainer M. Krug
>>> email: Rainer<at>krugs<dot>de
>>> PGP: 0x0F52F982
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> -- 
> Rainer M. Krug
> email: Rainer<at>krugs<dot>de
> PGP: 0x0F52F982


From Rainer at krugs.de  Tue Oct  6 15:40:07 2015
From: Rainer at krugs.de (Rainer M Krug)
Date: Tue, 06 Oct 2015 15:40:07 +0200
Subject: [R-SIG-Mac] Experiences with El Capitan
In-Reply-To: <5540E1B4-B1F4-40CE-A3C5-926478244FD8@r-project.org> (Simon
	Urbanek's message of "Tue, 6 Oct 2015 09:23:02 -0400")
References: <5611598E.6030004@stats.ox.ac.uk>
	<1B39A383-D524-4585-B992-5EBA99006F84@gmail.com>
	<m2y4fhepkr.fsf@krugs.de>
	<48FD926E-A6C9-41A6-8B8A-19958D697791@r-project.org>
	<m2lhbgcvxk.fsf@krugs.de>
	<5540E1B4-B1F4-40CE-A3C5-926478244FD8@r-project.org>
Message-ID: <m2a8rwazew.fsf@krugs.de>

Simon Urbanek <simon.urbanek at r-project.org> writes:

> On Oct 6, 2015, at 3:12 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>
>> Simon Urbanek <simon.urbanek at r-project.org> writes:
>> 
>>> On Oct 5, 2015, at 3:34 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>>> 
>>>> peter dalgaard <pdalgd at gmail.com> writes:
>>>> 
>>>>> <Round of applause, please!>
>>>> 
>>>> Agreed.
>>>> 
>>>> I just would like to dd that in the case of using homebrew, which
>>>> installs everything under /usr/local/... which did not cause any
>>>> problems at all. I moved the contents of /usr/local to an other location
>>>> before upgrade because the upgrade to Yosemite took because of a large
>>>> /usr/local several hours instead of about half an hour, moved it back
>>>> afterwards and everything worked fins without problems.
>>>> 
>>>> One question concerning mixed usage of homebrew and the Official R
>>>> installers:
>>>> 
>>>> do the Official R installers fail if an R binary already exist, or do
>>>> they raise a warning?
>>>> 
>>>> To make this easier, would it be possible, to install the binaries under
>>>> /usr/local/bin/R.X.Y.Z and then just create links in /usr/local/bin ?
>>>> Tghis would make the whole process more transparent and easier to switch
>>>> between different versions and means of installation.
>>>> 
>>> 
>>> R installer never installs any R binaries outside of the
>>> framework/app. The only thing we provide on 10.10 is a softlink for R
>>> and Rscript in /usr/local/bin into the framework (removing anything
>>> else in that name if it exists). In earlier OS X versions this applies
>>> to /usr/bin instead.
>> 
>> OK - thanks for the clarification.
>> 
>> Maybe I am overly careful, but I would very much prefer that the user is
>> asked how to proceed if something would be overwritten.
>> 
>> Due to e.g. homebrew /usr/local/bin becomes used quite a bit, so an
>> approach which does not overwrite existing files / links in
>> /usr/local/bin would be, in my opinion, a plus.
>> 
>> Homebrew does for example installs the files, but does issue an error if
>> the links in e.g. /usr/local/bin would overwrite existing files / links.
>> 
>
> Homebrew doesn't really abide by any Apple rules and it's command line
> tool, so whatever it does is quite irrelevant here. Users use Homebrew
> entirely at their own risk. R is using the standard Apple Installer
> and for obvious reasons AI doesn't pester the user about making
> low-level decisions (since 99% of users just want it to work - just
> imagine AI asking about every file when you upgrade OS X ;)).

That would be fun...

I see the differences between the Apple rules and homebrew - and as far
as I know in /usr/local/bin open for everybody, so you are right that
there is nobody to blame for anything. But especially because of this
nature, I would consider it as an advantage if R would not just delete
existing links but rename / move them as you suggets below - especially
as one of the main players in /usr/local/bin (homebrew) is refusing to overwrite,
unless you tell it to do so.

> Also if you mix native R and Homebrew R you're already in trouble, so
> you better know what you're doing.

Completely agree - but still - there might be reasons to do so (although I don't
know which reason ...).

>
> That said, one thing we could do would be to re-name whatever we find
> to replace so you can move it back if you so desire. (Of course if you
> install it twice your backup is gone etc.).

Renaming would be a step in the right direction. And backups could be
numbered, so none would be lost, even after multiple installs.

This brings back the question of R-x.y links - but I think that is a
different question.

Cheers,

Rainer


>
> Cheers,
> Simon
>
>
>
>
>> Cheers,
>> 
>> Rainer
>> 
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>>> Thanks for the clarifications,
>>>> 
>>>> Rainer
>>>> 
>>>>> 
>>>>> -pd
>>>>> 
>>>>>> On 04 Oct 2015, at 18:53 , Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>>>>> 
>>>>>> The machine which provides the 'r-devel-osx-x86_64-clang' checks on
>>>>>> the CRAN check farm has been upgraded from Yosemite to El Capitan
>>>>>> and a complete round of checks has been run.
>>>>>> 
>>>>>> 
>>>>>> 1) There is a lot of misinformation around about 'System Integrity Protection' aka 'rootless'.
>>>>>> 
>>>>>> Upgrading to El Capitan moves files which are not allowed under /usr
>>>>>> to /Library/SystemMigration/usr, so you will be able to see what was
>>>>>> lost. This includes /usr/bin/R, /usr/bin/Rscript (but the installer
>>>>>> installs these under /usr/local/bin on El Capitan as from R 3.2.2),
>>>>>> /usr/X11R6, /usr/texbin .  Contrary to reports from betas, the link
>>>>>> /usr/X11 is preserved.
>>>>>> 
>>>>>> If an installer tries to create a disallowed file such as
>>>>>> /usr/bin/R, this is silently ignored (at least in the cases we
>>>>>> tested).  So you can install e.g. R 3.1.3 but the executables will
>>>>>> not appear in the default Terminal path (more details in the current
>>>>>> manual).
>>>>>> 
>>>>>> 
>>>>>> 2) After updating you need to re-install the Command Line Tools and
>>>>>> R (to get the links in /usr/local).  I did not need to re-install
>>>>>> Java nor XQuartz.
>>>>>> 
>>>>>> 
>>>>>> 3) All the 'Mavericks' binary packages tested worked.  The source
>>>>>> packages of rJava and rgl (only) cannot be installed and the
>>>>>> maintainers have patched versions available.
>>>>>> 
>>>>>> 
>>>>>> There is updated information in the latest 'R Installation and
>>>>>> Administration' manual in R-patched and R-devel (in the sources, or
>>>>>> the online versions at https://cran.r-project.org/manuals.html will
>>>>>> update in a day or two).
>>>>>> 
>>>>>> -- 
>>>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>>>> Emeritus Professor of Applied Statistics, University of Oxford
>>>>>> 1 South Parks Road, Oxford OX1 3TG, UK
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> -- 
>>>> Rainer M. Krug
>>>> email: Rainer<at>krugs<dot>de
>>>> PGP: 0x0F52F982
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> -- 
>> Rainer M. Krug
>> email: Rainer<at>krugs<dot>de
>> PGP: 0x0F52F982
>

-- 
Rainer M. Krug, PhD (Conservation Ecology, SUN), MSc (Conservation Biology, UCT), Dipl. Phys. (Germany)

Centre of Excellence for Invasion Biology
Stellenbosch University
South Africa

Tel :       +33 - (0)9 53 10 27 44
Cell:       +33 - (0)6 85 62 59 98
Fax :       +33 - (0)9 58 10 27 44

Fax (D):    +49 - (0)3 21 21 25 22 44

email:      Rainer at krugs.de

Skype:      RMkrug

PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 454 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20151006/8e3c7915/attachment.bin>

From jennybrown8 at gmail.com  Wed Oct  7 16:47:34 2015
From: jennybrown8 at gmail.com (Jenny Brown)
Date: Wed, 7 Oct 2015 09:47:34 -0500
Subject: [R-SIG-Mac] XCode / gcc / R compatibility issues on Yosemite with
 XCode 7 and on El Capitan
Message-ID: <CAGfXKaHaPyWZLgPnNFu16m3H1ehURsLZuajUzoU5UozrWFJY_A@mail.gmail.com>

I am maintaining R installations and packages for a large number of OS X
machines.  A recent change from Apple is making the R installation more
awkward, and I'm trying to determine the best path forward with minimal
maintenance headaches.


Recently, XCode 7's release on Yosemite 10.10 broke compilation of "brew
install --with-fortran gcc48" which is a pre-requisite for compiling third
party R packages that use fortran.  (XCode 7 eliminates the 10.9 and 10.10
SDKs and only provides 10.11 which is El Capitan's... so even though XCode
7 installs on Yosemite, it can not build for Yosemite, which causes gcc
trouble.  Lots of opensource devs are commenting on this on various
projects.)

It appears that the binary installs of R for OS X (3.1 through 3.2.2) were
all built against gcc 4.8.  I've discovered that gcc 5.2 builds properly on
Yosemite, even with XCode 7, and R can be compiled with gcc 5.2.

However, even the latest R (3.2.2) on cran.rstudio.com appears to be built
by default with gcc 4.8 -- are there plans to move to gcc 5.2?  Presumably
the breakage I'm seeing where gcc 4.8 can't use the xcode 7 10.11 SDK would
also occur on El Capitan, so gcc 5.2 would be a necessary upgrade there too.

Right now my choices for getting R to work with my third-party fortran
packages appear to be: manually downgrade xcode to 6.4 for Yosemite; or,
maintain my own compilation of R against gcc 5.2, for each of Yosemite and
El Capitan.  Both have their downsides, and I hope to be able to return to
the normal public binary R distribution sooner rather than later.

What's on the roadmap for upcoming upgrades and compatibility?  Thanks.

	[[alternative HTML version deleted]]


From marius.hofert at uwaterloo.ca  Wed Oct  7 17:04:18 2015
From: marius.hofert at uwaterloo.ca (Marius Hofert)
Date: Wed, 7 Oct 2015 17:04:18 +0200
Subject: [R-SIG-Mac] Option '--no-save' seems to be ignored although in
 .bash_profile and other files
Message-ID: <CAM3-Kjbdjzdyrb=tJZX5Pfh_WoeFvBdqeyNR=BSLa=yH-q8U-A@mail.gmail.com>

Hi,

I would like to start R by default with '--no-restore-history
--no-save' to avoid that .RData files are written. I put "alias R=R
--no-restore-history --no-save" in virtually all relevant system/dot
files, like ~/.bash_profile and ~/.profile (even ~/.bashrc), but
still, .RData files are written (yes, I did fresh logins...)... When I
define the alias in the shell before executing R, it works, so the
question seems to be *where* (i.e., in which file) to define the
alias? This seems to be a 'Mac/terminal question' not related to R,
but I have working aliases in ~/.bashrc, so why I isn't R called with
the two optional arguments? Has anyone experienced something similar?
I even found posts were this procedure is recommended (with the alias
defined in ~/.bash_profile). Hmmm...

(This is on OS X El Capitan)

Cheers,
Marius


From murdoch.duncan at gmail.com  Wed Oct  7 17:16:09 2015
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Wed, 7 Oct 2015 11:16:09 -0400
Subject: [R-SIG-Mac] Option '--no-save' seems to be ignored although in
 .bash_profile and other files
In-Reply-To: <CAM3-Kjbdjzdyrb=tJZX5Pfh_WoeFvBdqeyNR=BSLa=yH-q8U-A@mail.gmail.com>
References: <CAM3-Kjbdjzdyrb=tJZX5Pfh_WoeFvBdqeyNR=BSLa=yH-q8U-A@mail.gmail.com>
Message-ID: <56153739.7010209@gmail.com>

On 07/10/2015 11:04 AM, Marius Hofert wrote:
> Hi,
>
> I would like to start R by default with '--no-restore-history
> --no-save' to avoid that .RData files are written. I put "alias R=R
> --no-restore-history --no-save" in virtually all relevant system/dot
> files, like ~/.bash_profile and ~/.profile (even ~/.bashrc), but
> still, .RData files are written (yes, I did fresh logins...)... When I
> define the alias in the shell before executing R, it works, so the
> question seems to be *where* (i.e., in which file) to define the
> alias? This seems to be a 'Mac/terminal question' not related to R,
> but I have working aliases in ~/.bashrc, so why I isn't R called with
> the two optional arguments? Has anyone experienced something similar?
> I even found posts were this procedure is recommended (with the alias
> defined in ~/.bash_profile). Hmmm...

You don't describe how you are starting R.  Assuming you are doing it by 
running the command "R" from within bash, what does "alias R" show you?

Duncan Murdoch


From marius.hofert at uwaterloo.ca  Wed Oct  7 17:20:39 2015
From: marius.hofert at uwaterloo.ca (Marius Hofert)
Date: Wed, 7 Oct 2015 17:20:39 +0200
Subject: [R-SIG-Mac] Option '--no-save' seems to be ignored although in
 .bash_profile and other files
In-Reply-To: <cd1f4522b40a43e78c8f6c81489742d8@CONNHUB1.connect.uwaterloo.ca>
References: <CAM3-Kjbdjzdyrb=tJZX5Pfh_WoeFvBdqeyNR=BSLa=yH-q8U-A@mail.gmail.com>
	<cd1f4522b40a43e78c8f6c81489742d8@CONNHUB1.connect.uwaterloo.ca>
Message-ID: <CAM3-KjbU5RUovFm_QhYtifTW4sLxpc-s=oH3eqxyOx2vnoj9tw@mail.gmail.com>

Hi Duncan,

thanks, here is the info:
- "alias R" shows alias R='/usr/local/bin/R --no-restore-history --no-save'
- I start R in batch mode via "R CMD batch..."
Batch mode must be the problem then. If I start R via "R", everything
works as expected... So how can I teach R in batch mode to respect the
two options?

Cheers,
Marius


From dwinsemius at comcast.net  Wed Oct  7 19:19:14 2015
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 7 Oct 2015 10:19:14 -0700
Subject: [R-SIG-Mac] Option '--no-save' seems to be ignored although in
	.bash_profile and other files
In-Reply-To: <CAM3-KjbU5RUovFm_QhYtifTW4sLxpc-s=oH3eqxyOx2vnoj9tw@mail.gmail.com>
References: <CAM3-Kjbdjzdyrb=tJZX5Pfh_WoeFvBdqeyNR=BSLa=yH-q8U-A@mail.gmail.com>
	<cd1f4522b40a43e78c8f6c81489742d8@CONNHUB1.connect.uwaterloo.ca>
	<CAM3-KjbU5RUovFm_QhYtifTW4sLxpc-s=oH3eqxyOx2vnoj9tw@mail.gmail.com>
Message-ID: <0A186844-A508-4085-B1DF-F9A17B2F384E@comcast.net>


On Oct 7, 2015, at 8:20 AM, Marius Hofert wrote:

> Hi Duncan,
> 
> thanks, here is the info:
> - "alias R" shows alias R='/usr/local/bin/R --no-restore-history --no-save'
> - I start R in batch mode via "R CMD batch..."
> Batch mode must be the problem then. If I start R via "R", everything
> works as expected... So how can I teach R in batch mode to respect the
> two options?

Shouldn't you be setting R_BATCH_OPTIONS. See ?BATCH

That page says:
"The default options are --restore --save --no-readline. "

-- 

David Winsemius
Alameda, CA, USA


From marius.hofert at uwaterloo.ca  Thu Oct  8 00:32:52 2015
From: marius.hofert at uwaterloo.ca (Marius Hofert)
Date: Thu, 8 Oct 2015 00:32:52 +0200
Subject: [R-SIG-Mac] Option '--no-save' seems to be ignored although in
 .bash_profile and other files
In-Reply-To: <29aa4286cdb546f3a1e98e3aa089905a@CONNHUB2.connect.uwaterloo.ca>
References: <CAM3-Kjbdjzdyrb=tJZX5Pfh_WoeFvBdqeyNR=BSLa=yH-q8U-A@mail.gmail.com>
	<cd1f4522b40a43e78c8f6c81489742d8@CONNHUB1.connect.uwaterloo.ca>
	<CAM3-KjbU5RUovFm_QhYtifTW4sLxpc-s=oH3eqxyOx2vnoj9tw@mail.gmail.com>
	<29aa4286cdb546f3a1e98e3aa089905a@CONNHUB2.connect.uwaterloo.ca>
Message-ID: <CAM3-KjYYGSh1R1XMJGzfy8Bw5=6x+nowUGXHn_PuOODiWbTzsg@mail.gmail.com>

Hi David,

... good point, that solved it!

Thanks & cheers,
Marius

On Wed, Oct 7, 2015 at 7:19 PM, David Winsemius <dwinsemius at comcast.net> wrote:
>
> On Oct 7, 2015, at 8:20 AM, Marius Hofert wrote:
>
>> Hi Duncan,
>>
>> thanks, here is the info:
>> - "alias R" shows alias R='/usr/local/bin/R --no-restore-history --no-save'
>> - I start R in batch mode via "R CMD batch..."
>> Batch mode must be the problem then. If I start R via "R", everything
>> works as expected... So how can I teach R in batch mode to respect the
>> two options?
>
> Shouldn't you be setting R_BATCH_OPTIONS. See ?BATCH
>
> That page says:
> "The default options are --restore --save --no-readline. "
>
> --
>
> David Winsemius
> Alameda, CA, USA
>


From simon.urbanek at r-project.org  Thu Oct  8 03:37:48 2015
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 7 Oct 2015 21:37:48 -0400
Subject: [R-SIG-Mac] XCode / gcc / R compatibility issues on Yosemite
	with XCode 7 and on El Capitan
In-Reply-To: <CAGfXKaHaPyWZLgPnNFu16m3H1ehURsLZuajUzoU5UozrWFJY_A@mail.gmail.com>
References: <CAGfXKaHaPyWZLgPnNFu16m3H1ehURsLZuajUzoU5UozrWFJY_A@mail.gmail.com>
Message-ID: <C10B20E5-0EBE-4D52-A07F-5557AEC1F315@r-project.org>

Jenny,

I suspect you may not have the correct information. The CRAN Mavericks binary of R is not built with gcc, it's actually build using Apple clang and we're neither using nor requiring homebrew, so most of what you are describing doesn't make sense to me. I have tested Xcode 7 with the gfortran-4.8 we supply and it works just fine on 10.11 (tested on Hmisc). I have only 10.6, 10.9 and 10.11 so I can't check 10.10, but I would certainly recommend building on 10.9 with Xcode 6 for compatibility (that's what we do for CRAN). If you don't care about binary compatibility then Xcode 7 on 10.11 is fine (FWIW Hmisc package compiled on 10.11 actually works for me on 10.9 so it could even be that you may get away with using 10.11 if you don't use system dependencies with higher versions).

Cheers,
Simon


> On Oct 7, 2015, at 10:47 AM, Jenny Brown <jennybrown8 at gmail.com> wrote:
> 
> I am maintaining R installations and packages for a large number of OS X
> machines.  A recent change from Apple is making the R installation more
> awkward, and I'm trying to determine the best path forward with minimal
> maintenance headaches.
> 
> 
> Recently, XCode 7's release on Yosemite 10.10 broke compilation of "brew
> install --with-fortran gcc48" which is a pre-requisite for compiling third
> party R packages that use fortran.  (XCode 7 eliminates the 10.9 and 10.10
> SDKs and only provides 10.11 which is El Capitan's... so even though XCode
> 7 installs on Yosemite, it can not build for Yosemite, which causes gcc
> trouble.  Lots of opensource devs are commenting on this on various
> projects.)
> 
> It appears that the binary installs of R for OS X (3.1 through 3.2.2) were
> all built against gcc 4.8.  I've discovered that gcc 5.2 builds properly on
> Yosemite, even with XCode 7, and R can be compiled with gcc 5.2.
> 
> However, even the latest R (3.2.2) on cran.rstudio.com appears to be built
> by default with gcc 4.8 -- are there plans to move to gcc 5.2?  Presumably
> the breakage I'm seeing where gcc 4.8 can't use the xcode 7 10.11 SDK would
> also occur on El Capitan, so gcc 5.2 would be a necessary upgrade there too.
> 
> Right now my choices for getting R to work with my third-party fortran
> packages appear to be: manually downgrade xcode to 6.4 for Yosemite; or,
> maintain my own compilation of R against gcc 5.2, for each of Yosemite and
> El Capitan.  Both have their downsides, and I hope to be able to return to
> the normal public binary R distribution sooner rather than later.
> 
> What's on the roadmap for upcoming upgrades and compatibility?  Thanks.
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From ripley at stats.ox.ac.uk  Thu Oct  8 08:33:07 2015
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 8 Oct 2015 07:33:07 +0100
Subject: [R-SIG-Mac] XCode / gcc / R compatibility issues on Yosemite
 with XCode 7 and on El Capitan
In-Reply-To: <C10B20E5-0EBE-4D52-A07F-5557AEC1F315@r-project.org>
References: <CAGfXKaHaPyWZLgPnNFu16m3H1ehURsLZuajUzoU5UozrWFJY_A@mail.gmail.com>
	<C10B20E5-0EBE-4D52-A07F-5557AEC1F315@r-project.org>
Message-ID: <56160E23.1020204@stats.ox.ac.uk>

On 08/10/2015 02:37, Simon Urbanek wrote:
> Jenny,
>
> I suspect you may not have the correct information. The CRAN Mavericks binary of R is not built with gcc, it's actually build using Apple clang and we're neither using nor requiring homebrew, so most of what you are describing doesn't make sense to me. I have tested Xcode 7 with the gfortran-4.8 we supply and it works just fine on 10.11 (tested on Hmisc). I have only 10.6, 10.9 and 10.11 so I can't check 10.10, but I would certainly recommend building on 10.9 with Xcode 6 for compatibility (that's what we do for CRAN). If you don't care about binary compatibility then Xcode 7 on 10.11 is fine (FWIW Hmisc package compiled on 10.11 actually works for me on 10.9 so it could even be that you may get away with using 10.11 if you don't use system dependencies with higher versions).

It also works for me on 10.10.  If the 'Command Line Tools OS X 10 for 
Xcode 7' Apple package is installed on 10.10 (specifically file 
http://adcdownload.apple.com/Developer_Tools/Command_Line_Tools_OS_X_10.10_for_Xcode_7/Command_Line_Tools_OS_X_10.10_for_Xcode_7.dmg), 
it installs

% clang --version
Apple LLVM version 7.0.0 (clang-700.0.74)
Target: x86_64-apple-darwin14.5.0

hence targets OS X 10.10 aka Darwin 14.  My 10.10 machine does not have 
Xcode installed, only the CLT: you do not need Xcode's SDKs to compile R 
nor any CRAN package.  (You do need Xcode to compile R.app.)

For Fortran on Yosemite/El Capitan I use the gfortran 5.2 build at the 
sites given in the current R-admin manual ('Other builds of gfortran are 
available: see https://gcc.gnu.org/wiki/GFortranBinaries and 
http://coudert.name/software.html').  My recollection is that the 
'gfortran-4.8 for Mavericks' on r.research.att.com does compile all but 
one of the CRAN packages on Yosemite (SWATmodel which compiles 
executables from Fortran code), in some cases with warnings.

Note that any recent(ish) build of gfortran will have dynamic 
libgfortran and libquadmath libraries, and installations of most 
Fortran-using packages will link to these.  So you either need to 
install those libraries on all the machines or arrange for the packages 
you distribute to point to the copies in the CRAN build (in R_HOME/lib) 
as is done for the CRAN binary packages.  (I believe they are 
post-processed by 
https://svn.r-project.org/R-dev-web/trunk/CRAN/QA/Simon/packages/1.fixr 
.)  My recollection is that a very few packages also link to libgcc_s, 
also in R_HOME/lib.


> Cheers,
> Simon
>
>
>> On Oct 7, 2015, at 10:47 AM, Jenny Brown <jennybrown8 at gmail.com> wrote:
>>
>> I am maintaining R installations and packages for a large number of OS X
>> machines.  A recent change from Apple is making the R installation more
>> awkward, and I'm trying to determine the best path forward with minimal
>> maintenance headaches.
>>
>>
>> Recently, XCode 7's release on Yosemite 10.10 broke compilation of "brew
>> install --with-fortran gcc48" which is a pre-requisite for compiling third
>> party R packages that use fortran.  (XCode 7 eliminates the 10.9 and 10.10
>> SDKs and only provides 10.11 which is El Capitan's... so even though XCode
>> 7 installs on Yosemite, it can not build for Yosemite, which causes gcc
>> trouble.  Lots of opensource devs are commenting on this on various
>> projects.)
>>
>> It appears that the binary installs of R for OS X (3.1 through 3.2.2) were
>> all built against gcc 4.8.  I've discovered that gcc 5.2 builds properly on
>> Yosemite, even with XCode 7, and R can be compiled with gcc 5.2.
>>
>> However, even the latest R (3.2.2) on cran.rstudio.com appears to be built
>> by default with gcc 4.8 -- are there plans to move to gcc 5.2?  Presumably
>> the breakage I'm seeing where gcc 4.8 can't use the xcode 7 10.11 SDK would
>> also occur on El Capitan, so gcc 5.2 would be a necessary upgrade there too.
>>
>> Right now my choices for getting R to work with my third-party fortran
>> packages appear to be: manually downgrade xcode to 6.4 for Yosemite; or,
>> maintain my own compilation of R against gcc 5.2, for each of Yosemite and
>> El Capitan.  Both have their downsides, and I hope to be able to return to
>> the normal public binary R distribution sooner rather than later.
>>
>> What's on the roadmap for upcoming upgrades and compatibility?  Thanks.
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK


From dominic at steinitz.org  Mon Oct 12 13:54:25 2015
From: dominic at steinitz.org (Dominic Steinitz)
Date: Mon, 12 Oct 2015 12:54:25 +0100
Subject: [R-SIG-Mac] R and Haskell (Having My Cake...)
Message-ID: <F7C88996-F41A-48FA-B3FC-BC528BD2D9E2@steinitz.org>

All,

As someone who uses both R and Haskell and a Mac in my day job, I am very excited by the news that this now works on Macs.

> http://tweag.github.io/HaskellR/ <http://tweag.github.io/HaskellR/>
For example, if I want to use Nelder-Mead in Haskell then all I have to do is the code below most of which is boilerplate and took me about 20 minutes. Plotting is also supported although I tend to use the the native Haskell charts package most of the time.

Oh and the answer is

> (505.0,1.000035627670639,-6.432963549964604e-4,2.105887833352907e-6,69,0)


Not bad but not brilliant but it is Nelder-Mead after all.

> {-# LANGUAGE QuasiQuotes #-}
> 
> import H.Prelude as H
> import Language.R.QQ
> 
> import qualified Foreign.R as R
> import qualified Foreign.R.Type as R
> 
> import Data.Int
> import Control.DeepSeq
> 
> xs, ys :: [Double]
> xs = [1.0..10.0]
> ys = [1.0..10.0]
> 
> cost :: Double -> Double -> Double
> cost m c =
>   sum $
>   map (^2) $
>   zipWith (-) (map (\x -> m * x + c) xs) ys
> 
> nmMin :: IO (Double, Double, Double, Double, Int32, Int32)
> nmMin = runRegion $ do
>   initParms <- [r| c(2.0,1.0) |]
>   initVal   <- H.fromSEXP . R.cast R.SReal <$>
>                [r| (function(v) costH_hs(v[1], v[2])) (initParms_hs) |]
>   relaxMin <- [r| optimx(c(2.0,1.0), function(v) costH_hs(v[1], v[2]), method = "Nelder-Mead") |]
>   mMin     <- H.fromSEXP . R.cast R.SReal <$> [r| relaxMin_hs$p1 |]
>   cMin     <- H.fromSEXP . R.cast R.SReal <$> [r| relaxMin_hs$p2 |]
>   vMin     <- H.fromSEXP . R.cast R.SReal <$> [r| relaxMin_hs$value |]
>   fEvals   <- H.fromSEXP . R.cast R.SInt  <$> [r| as.integer(relaxMin_hs$fevals) |]
>   convCode <- H.fromSEXP . R.cast R.SInt  <$> [r| as.integer(relaxMin_hs$convcode) |]
>   return $!! (initVal, mMin, cMin, vMin, fEvals, convCode)
>   where
>     costH :: Double -> Double -> R s Double
>     costH m c = return $ cost m c
> 
> main :: IO ()
> main =
>   withEmbeddedR defaultConfig $ do
>     runRegion $ do
>       _ <- [r| install.packages(c("numDeriv", "optimx"), repos = "http://cran.us.r-project.org") |]
>       _ <- [r| library('numDeriv') |]
>       _ <- [r| library('optimx') |]
>       return ()
>     results <- nmMin
>     putStrLn $ Prelude.show results



Dominic Steinitz
dominic at steinitz.org
http://idontgetoutmuch.wordpress.com


	[[alternative HTML version deleted]]


From dusa.adrian at unibuc.ro  Mon Oct 12 16:59:26 2015
From: dusa.adrian at unibuc.ro (=?UTF-8?B?QWRyaWFuIER1yJlh?=)
Date: Mon, 12 Oct 2015 17:59:26 +0300
Subject: [R-SIG-Mac] sort() under terminal
Message-ID: <CAJ=0CtD-=yPZQMD3M9O+-LuwEUv0kkFX6pfa_MzZwYrwfV7QYg@mail.gmail.com>

Dear All,

I tried to search some information about this on Google, but didn't find
anything yet.
There seems to be a difference between sorting in the Terminal app and
sorting in the Rgui:

In the Terminal:

> sort(c("W", "e", "E"))
[1] "E" "W" "e"
> R.version
               _
platform       x86_64-apple-darwin13.4.0
arch           x86_64
os             darwin13.4.0
system         x86_64, darwin13.4.0
status
major          3
minor          2.2
year           2015
month          08
day            14
svn rev        69053
language       R
version.string R version 3.2.2 (2015-08-14)
nickname       Fire Safety



In the Rgui:

> sort(c("W", "e", "E"))
[1] "e" "E" "W"
> R.version
               _
platform       x86_64-apple-darwin13.4.0
arch           x86_64
os             darwin13.4.0
system         x86_64, darwin13.4.0
status
major          3
minor          2.2
year           2015
month          08
day            14
svn rev        69053
language       R
version.string R version 3.2.2 (2015-08-14)
nickname       Fire Safety


Could anyone point me to some information, please?
Best wishes,
Adrian


-- 
Adrian Dusa
University of Bucharest
Romanian Social Data Archive
Soseaua Panduri nr.90
050663 Bucharest sector 5
Romania

	[[alternative HTML version deleted]]


From murdoch.duncan at gmail.com  Mon Oct 12 17:23:27 2015
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Mon, 12 Oct 2015 11:23:27 -0400
Subject: [R-SIG-Mac] sort() under terminal
In-Reply-To: <CAJ=0CtD-=yPZQMD3M9O+-LuwEUv0kkFX6pfa_MzZwYrwfV7QYg@mail.gmail.com>
References: <CAJ=0CtD-=yPZQMD3M9O+-LuwEUv0kkFX6pfa_MzZwYrwfV7QYg@mail.gmail.com>
Message-ID: <561BD06F.2050605@gmail.com>

On 12/10/2015 10:59 AM, Adrian Du?a wrote:
> Dear All,
> 
> I tried to search some information about this on Google, but didn't find
> anything yet.
> There seems to be a difference between sorting in the Terminal app and
> sorting in the Rgui:
> 
> In the Terminal:
> 
>> sort(c("W", "e", "E"))
> [1] "E" "W" "e"
>> R.version
>                _
> platform       x86_64-apple-darwin13.4.0
> arch           x86_64
> os             darwin13.4.0
> system         x86_64, darwin13.4.0
> status
> major          3
> minor          2.2
> year           2015
> month          08
> day            14
> svn rev        69053
> language       R
> version.string R version 3.2.2 (2015-08-14)
> nickname       Fire Safety
> 
> 
> 
> In the Rgui:
> 
>> sort(c("W", "e", "E"))
> [1] "e" "E" "W"
>> R.version
>                _
> platform       x86_64-apple-darwin13.4.0
> arch           x86_64
> os             darwin13.4.0
> system         x86_64, darwin13.4.0
> status
> major          3
> minor          2.2
> year           2015
> month          08
> day            14
> svn rev        69053
> language       R
> version.string R version 3.2.2 (2015-08-14)
> nickname       Fire Safety
> 
> 
> Could anyone point me to some information, please?

See the help page for sort, or the page it references, ?Comparison.
Presumably you are running the two instances of R with different locale
settings.

Duncan Murdoch


From Rainer at krugs.de  Mon Oct 12 17:24:00 2015
From: Rainer at krugs.de (Rainer M Krug)
Date: Mon, 12 Oct 2015 17:24:00 +0200
Subject: [R-SIG-Mac] sort() under terminal
In-Reply-To: <CAJ=0CtD-=yPZQMD3M9O+-LuwEUv0kkFX6pfa_MzZwYrwfV7QYg@mail.gmail.com>
	("Adrian \=\?utf-8\?Q\?Du\=C8\=99a\=22's\?\= message of "Mon,
	12 Oct 2015 17:59:26 +0300")
References: <CAJ=0CtD-=yPZQMD3M9O+-LuwEUv0kkFX6pfa_MzZwYrwfV7QYg@mail.gmail.com>
Message-ID: <m237xgm7ov.fsf@krugs.de>

Adrian Du?a <dusa.adrian at unibuc.ro> writes:

> Dear All,
>
> I tried to search some information about this on Google, but didn't find
> anything yet.
> There seems to be a difference between sorting in the Terminal app and
> sorting in the Rgui:
>
> In the Terminal:

Just a guess: Check the sessionInfo(). Mine is:

,----
| > sessionInfo()
| R version 3.2.2 (2015-08-14)
| Platform: x86_64-apple-darwin14.5.0 (64-bit)
| Running under: OS X 10.11 (El Capitan)
| 
| locale:
| [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
| 
| attached base packages:
| [1] stats     graphics  grDevices utils     datasets  methods   base
| >
`----

I guess it is the locale settings which are different?

Cheers,

Rainer
>
>> sort(c("W", "e", "E"))
> [1] "E" "W" "e"
>> R.version
>                _
> platform       x86_64-apple-darwin13.4.0
> arch           x86_64
> os             darwin13.4.0
> system         x86_64, darwin13.4.0
> status
> major          3
> minor          2.2
> year           2015
> month          08
> day            14
> svn rev        69053
> language       R
> version.string R version 3.2.2 (2015-08-14)
> nickname       Fire Safety
>
>
>
> In the Rgui:
>
>> sort(c("W", "e", "E"))
> [1] "e" "E" "W"
>> R.version
>                _
> platform       x86_64-apple-darwin13.4.0
> arch           x86_64
> os             darwin13.4.0
> system         x86_64, darwin13.4.0
> status
> major          3
> minor          2.2
> year           2015
> month          08
> day            14
> svn rev        69053
> language       R
> version.string R version 3.2.2 (2015-08-14)
> nickname       Fire Safety
>
>
> Could anyone point me to some information, please?
> Best wishes,
> Adrian

-- 
Rainer M. Krug, PhD (Conservation Ecology, SUN), MSc (Conservation Biology, UCT), Dipl. Phys. (Germany)

Centre of Excellence for Invasion Biology
Stellenbosch University
South Africa

Tel :       +33 - (0)9 53 10 27 44
Cell:       +33 - (0)6 85 62 59 98
Fax :       +33 - (0)9 58 10 27 44

Fax (D):    +49 - (0)3 21 21 25 22 44

email:      Rainer at krugs.de

Skype:      RMkrug

PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 454 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20151012/a6f6addc/attachment.bin>

From Jean.Thioulouse at univ-lyon1.fr  Mon Oct 12 17:58:23 2015
From: Jean.Thioulouse at univ-lyon1.fr (THIOULOUSE JEAN)
Date: Mon, 12 Oct 2015 15:58:23 +0000
Subject: [R-SIG-Mac] sort() under terminal
In-Reply-To: <CAJ=0CtD-=yPZQMD3M9O+-LuwEUv0kkFX6pfa_MzZwYrwfV7QYg@mail.gmail.com>
References: <CAJ=0CtD-=yPZQMD3M9O+-LuwEUv0kkFX6pfa_MzZwYrwfV7QYg@mail.gmail.com>
Message-ID: <C5B20E52-B4EC-480A-A38A-0AE142F40352@univ-lyon1.fr>

The difference is not between the Terminal and Rgui. Check your locale: in the Terminal, I get

> sort(c("W", "e", "E"))
[1] "e" "E" "W"

> sessionInfo()
R version 3.2.1 (2015-06-18)
Platform: x86_64-apple-darwin13.4.0 (64-bit)
Running under: OS X 10.10.5 (Yosemite)

locale:
[1] fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

loaded via a namespace (and not attached):
[1] adegraphics_1.0-4  RColorBrewer_1.1-2 sp_1.1-1           KernSmooth_2.23-14
[5] grid_3.2.1         ade4_1.7-2         lattice_0.20-31   

Jean


> Le 12 oct. 2015 ? 16:59, Adrian Du?a <dusa.adrian at unibuc.ro> a ?crit :
> 
> Dear All,
> 
> I tried to search some information about this on Google, but didn't find
> anything yet.
> There seems to be a difference between sorting in the Terminal app and
> sorting in the Rgui:
> 
> In the Terminal:
> 
>> sort(c("W", "e", "E"))
> [1] "E" "W" "e"
>> R.version
>               _
> platform       x86_64-apple-darwin13.4.0
> arch           x86_64
> os             darwin13.4.0
> system         x86_64, darwin13.4.0
> status
> major          3
> minor          2.2
> year           2015
> month          08
> day            14
> svn rev        69053
> language       R
> version.string R version 3.2.2 (2015-08-14)
> nickname       Fire Safety
> 
> 
> 
> In the Rgui:
> 
>> sort(c("W", "e", "E"))
> [1] "e" "E" "W"
>> R.version
>               _
> platform       x86_64-apple-darwin13.4.0
> arch           x86_64
> os             darwin13.4.0
> system         x86_64, darwin13.4.0
> status
> major          3
> minor          2.2
> year           2015
> month          08
> day            14
> svn rev        69053
> language       R
> version.string R version 3.2.2 (2015-08-14)
> nickname       Fire Safety
> 
> 
> Could anyone point me to some information, please?
> Best wishes,
> Adrian
> 
> 
> -- 
> Adrian Dusa
> University of Bucharest
> Romanian Social Data Archive
> Soseaua Panduri nr.90
> 050663 Bucharest sector 5
> Romania
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

?-
Jean THIOULOUSE
http://lbbe.univ-lyon1.fr/-Thioulouse-Jean-.html




From dusa.adrian at unibuc.ro  Mon Oct 12 19:17:54 2015
From: dusa.adrian at unibuc.ro (=?UTF-8?B?QWRyaWFuIER1yJlh?=)
Date: Mon, 12 Oct 2015 20:17:54 +0300
Subject: [R-SIG-Mac] sort() under terminal
In-Reply-To: <C5B20E52-B4EC-480A-A38A-0AE142F40352@univ-lyon1.fr>
References: <CAJ=0CtD-=yPZQMD3M9O+-LuwEUv0kkFX6pfa_MzZwYrwfV7QYg@mail.gmail.com>
	<C5B20E52-B4EC-480A-A38A-0AE142F40352@univ-lyon1.fr>
Message-ID: <CAJ=0CtAdr2rGjh5KtNffKWTAHveyH_ASssx7pEEaw=rzVUQbrQ@mail.gmail.com>

Oh yes, that was it (thought it was something I missed).
Thank you all,
Adrian

On Mon, Oct 12, 2015 at 6:58 PM, THIOULOUSE JEAN <
Jean.Thioulouse at univ-lyon1.fr> wrote:

> The difference is not between the Terminal and Rgui. Check your locale: in
> the Terminal, I get
>
> > sort(c("W", "e", "E"))
> [1] "e" "E" "W"
>
> > sessionInfo()
> R version 3.2.1 (2015-06-18)
> Platform: x86_64-apple-darwin13.4.0 (64-bit)
> Running under: OS X 10.10.5 (Yosemite)
>
> locale:
> [1] fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] adegraphics_1.0-4  RColorBrewer_1.1-2 sp_1.1-1
>  KernSmooth_2.23-14
> [5] grid_3.2.1         ade4_1.7-2         lattice_0.20-31
>
> Jean
>
>
> > Le 12 oct. 2015 ? 16:59, Adrian Du?a <dusa.adrian at unibuc.ro> a ?crit :
> >
> > Dear All,
> >
> > I tried to search some information about this on Google, but didn't find
> > anything yet.
> > There seems to be a difference between sorting in the Terminal app and
> > sorting in the Rgui:
> >
> > In the Terminal:
> >
> >> sort(c("W", "e", "E"))
> > [1] "E" "W" "e"
> >> R.version
> >               _
> > platform       x86_64-apple-darwin13.4.0
> > arch           x86_64
> > os             darwin13.4.0
> > system         x86_64, darwin13.4.0
> > status
> > major          3
> > minor          2.2
> > year           2015
> > month          08
> > day            14
> > svn rev        69053
> > language       R
> > version.string R version 3.2.2 (2015-08-14)
> > nickname       Fire Safety
> >
> >
> >
> > In the Rgui:
> >
> >> sort(c("W", "e", "E"))
> > [1] "e" "E" "W"
> >> R.version
> >               _
> > platform       x86_64-apple-darwin13.4.0
> > arch           x86_64
> > os             darwin13.4.0
> > system         x86_64, darwin13.4.0
> > status
> > major          3
> > minor          2.2
> > year           2015
> > month          08
> > day            14
> > svn rev        69053
> > language       R
> > version.string R version 3.2.2 (2015-08-14)
> > nickname       Fire Safety
> >
> >
> > Could anyone point me to some information, please?
> > Best wishes,
> > Adrian
> >
> >
> > --
> > Adrian Dusa
> > University of Bucharest
> > Romanian Social Data Archive
> > Soseaua Panduri nr.90
> > 050663 Bucharest sector 5
> > Romania
> >
> >       [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> ?-
> Jean THIOULOUSE
> http://lbbe.univ-lyon1.fr/-Thioulouse-Jean-.html
>
>
>
>


-- 
Adrian Dusa
University of Bucharest
Romanian Social Data Archive
Soseaua Panduri nr.90
050663 Bucharest sector 5
Romania

	[[alternative HTML version deleted]]


From jennybrown8 at gmail.com  Mon Oct 12 22:22:04 2015
From: jennybrown8 at gmail.com (Jenny Brown)
Date: Mon, 12 Oct 2015 15:22:04 -0500
Subject: [R-SIG-Mac] XCode / gcc / R compatibility issues on Yosemite
 with XCode 7 and on El Capitan
In-Reply-To: <56160E23.1020204@stats.ox.ac.uk>
References: <CAGfXKaHaPyWZLgPnNFu16m3H1ehURsLZuajUzoU5UozrWFJY_A@mail.gmail.com>
	<C10B20E5-0EBE-4D52-A07F-5557AEC1F315@r-project.org>
	<56160E23.1020204@stats.ox.ac.uk>
Message-ID: <CAGfXKaGmoRR5wgU6OKWJL2N2j0RfK9igOpVnV28TaGXq=QfvNg@mail.gmail.com>

Thank you to both of you.  I believe my issue is solved by using the binary
distribution of gfortran libraries, as it was dynamic linking that was
causing me the most headache.  And that seems to solve that.

I still have to modify the etc/Makeconf file to use the right directory for
-L and the right library name for gfortran .... it comes written as
gfortran-4.8 in the Makeconf but that gives a not-found on my system.  I'm
not entirely clear on when the Makeconf is initially written during a
binary install of R.  But it does seem that I can adjust the lines related
to fortran and get it to work for compiling my source packages.

Thanks!




On Thu, Oct 8, 2015 at 1:33 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk>
wrote:

> On 08/10/2015 02:37, Simon Urbanek wrote:
>
>> Jenny,
>>
>> I suspect you may not have the correct information. The CRAN Mavericks
>> binary of R is not built with gcc, it's actually build using Apple clang
>> and we're neither using nor requiring homebrew, so most of what you are
>> describing doesn't make sense to me. I have tested Xcode 7 with the
>> gfortran-4.8 we supply and it works just fine on 10.11 (tested on Hmisc). I
>> have only 10.6, 10.9 and 10.11 so I can't check 10.10, but I would
>> certainly recommend building on 10.9 with Xcode 6 for compatibility (that's
>> what we do for CRAN). If you don't care about binary compatibility then
>> Xcode 7 on 10.11 is fine (FWIW Hmisc package compiled on 10.11 actually
>> works for me on 10.9 so it could even be that you may get away with using
>> 10.11 if you don't use system dependencies with higher versions).
>>
>
> It also works for me on 10.10.  If the 'Command Line Tools OS X 10 for
> Xcode 7' Apple package is installed on 10.10 (specifically file
> http://adcdownload.apple.com/Developer_Tools/Command_Line_Tools_OS_X_10.10_for_Xcode_7/Command_Line_Tools_OS_X_10.10_for_Xcode_7.dmg),
> it installs
>
> % clang --version
> Apple LLVM version 7.0.0 (clang-700.0.74)
> Target: x86_64-apple-darwin14.5.0
>
> hence targets OS X 10.10 aka Darwin 14.  My 10.10 machine does not have
> Xcode installed, only the CLT: you do not need Xcode's SDKs to compile R
> nor any CRAN package.  (You do need Xcode to compile R.app.)
>
> For Fortran on Yosemite/El Capitan I use the gfortran 5.2 build at the
> sites given in the current R-admin manual ('Other builds of gfortran are
> available: see https://gcc.gnu.org/wiki/GFortranBinaries and
> http://coudert.name/software.html').  My recollection is that the
> 'gfortran-4.8 for Mavericks' on r.research.att.com does compile all but
> one of the CRAN packages on Yosemite (SWATmodel which compiles executables
> from Fortran code), in some cases with warnings.
>
> Note that any recent(ish) build of gfortran will have dynamic libgfortran
> and libquadmath libraries, and installations of most Fortran-using packages
> will link to these.  So you either need to install those libraries on all
> the machines or arrange for the packages you distribute to point to the
> copies in the CRAN build (in R_HOME/lib) as is done for the CRAN binary
> packages.  (I believe they are post-processed by
> https://svn.r-project.org/R-dev-web/trunk/CRAN/QA/Simon/packages/1.fixr
> .)  My recollection is that a very few packages also link to libgcc_s, also
> in R_HOME/lib.
>
>
>
> Cheers,
>> Simon
>>
>>
>> On Oct 7, 2015, at 10:47 AM, Jenny Brown <jennybrown8 at gmail.com> wrote:
>>>
>>> I am maintaining R installations and packages for a large number of OS X
>>> machines.  A recent change from Apple is making the R installation more
>>> awkward, and I'm trying to determine the best path forward with minimal
>>> maintenance headaches.
>>>
>>>
>>> Recently, XCode 7's release on Yosemite 10.10 broke compilation of "brew
>>> install --with-fortran gcc48" which is a pre-requisite for compiling
>>> third
>>> party R packages that use fortran.  (XCode 7 eliminates the 10.9 and
>>> 10.10
>>> SDKs and only provides 10.11 which is El Capitan's... so even though
>>> XCode
>>> 7 installs on Yosemite, it can not build for Yosemite, which causes gcc
>>> trouble.  Lots of opensource devs are commenting on this on various
>>> projects.)
>>>
>>> It appears that the binary installs of R for OS X (3.1 through 3.2.2)
>>> were
>>> all built against gcc 4.8.  I've discovered that gcc 5.2 builds properly
>>> on
>>> Yosemite, even with XCode 7, and R can be compiled with gcc 5.2.
>>>
>>> However, even the latest R (3.2.2) on cran.rstudio.com appears to be
>>> built
>>> by default with gcc 4.8 -- are there plans to move to gcc 5.2?
>>> Presumably
>>> the breakage I'm seeing where gcc 4.8 can't use the xcode 7 10.11 SDK
>>> would
>>> also occur on El Capitan, so gcc 5.2 would be a necessary upgrade there
>>> too.
>>>
>>> Right now my choices for getting R to work with my third-party fortran
>>> packages appear to be: manually downgrade xcode to 6.4 for Yosemite; or,
>>> maintain my own compilation of R against gcc 5.2, for each of Yosemite
>>> and
>>> El Capitan.  Both have their downsides, and I hope to be able to return
>>> to
>>> the normal public binary R distribution sooner rather than later.
>>>
>>> What's on the roadmap for upcoming upgrades and compatibility?  Thanks.
>>>
>>>         [[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Emeritus Professor of Applied Statistics, University of Oxford
> 1 South Parks Road, Oxford OX1 3TG, UK
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

	[[alternative HTML version deleted]]


From spencer.graves at prodsyse.com  Tue Oct 13 03:33:34 2015
From: spencer.graves at prodsyse.com (Spencer Graves)
Date: Mon, 12 Oct 2015 20:33:34 -0500
Subject: [R-SIG-Mac] Experiences with El Capitan
In-Reply-To: <48FD926E-A6C9-41A6-8B8A-19958D697791@r-project.org>
References: <5611598E.6030004@stats.ox.ac.uk>
	<1B39A383-D524-4585-B992-5EBA99006F84@gmail.com>
	<m2y4fhepkr.fsf@krugs.de>
	<48FD926E-A6C9-41A6-8B8A-19958D697791@r-project.org>
Message-ID: <561C5F6E.6090506@prodsyse.com>



On 10/5/2015 2:46 PM, Simon Urbanek wrote:
> On Oct 5, 2015, at 3:34 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>
>> peter dalgaard <pdalgd at gmail.com> writes:
>>
>>> <Round of applause, please!>
>> Agreed.
>>
>> I just would like to dd that in the case of using homebrew, which
>> installs everything under /usr/local/... which did not cause any
>> problems at all. I moved the contents of /usr/local to an other location
>> before upgrade because the upgrade to Yosemite took because of a large
>> /usr/local several hours instead of about half an hour, moved it back
>> afterwards and everything worked fins without problems.
>>
>> One question concerning mixed usage of homebrew and the Official R
>> installers:
>>
>> do the Official R installers fail if an R binary already exist, or do
>> they raise a warning?
>>
>> To make this easier, would it be possible, to install the binaries under
>> /usr/local/bin/R.X.Y.Z and then just create links in /usr/local/bin ?
>> Tghis would make the whole process more transparent and easier to switch
>> between different versions and means of installation.
>>
> R installer never installs any R binaries outside of the framework/app. The only thing we provide on 10.10 is a softlink for R and Rscript in /usr/local/bin into the framework (removing anything else in that name if it exists). In earlier OS X versions this applies to /usr/bin instead.
>
> Cheers,
> Simon
>
>
>> Thanks for the clarifications,
>>
>> Rainer
>>
>>> -pd
>>>
>>>> On 04 Oct 2015, at 18:53 , Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>>>
>>>> The machine which provides the 'r-devel-osx-x86_64-clang' checks on
>>>> the CRAN check farm has been upgraded from Yosemite to El Capitan
>>>> and a complete round of checks has been run.
>>>>
>>>>
>>>> 1) There is a lot of misinformation around about 'System Integrity Protection' aka 'rootless'.
>>>>
>>>> Upgrading to El Capitan moves files which are not allowed under /usr
>>>> to /Library/SystemMigration/usr, so you will be able to see what was
>>>> lost. This includes /usr/bin/R, /usr/bin/Rscript (but the installer
>>>> installs these under /usr/local/bin on El Capitan as from R 3.2.2),
>>>> /usr/X11R6, /usr/texbin .  Contrary to reports from betas, the link
>>>> /usr/X11 is preserved.
>>>>
>>>> If an installer tries to create a disallowed file such as
>>>> /usr/bin/R, this is silently ignored (at least in the cases we
>>>> tested).  So you can install e.g. R 3.1.3 but the executables will
>>>> not appear in the default Terminal path (more details in the current
>>>> manual).
>>>>
>>>>
>>>> 2) After updating you need to re-install the Command Line Tools and
>>>> R (to get the links in /usr/local).  I did not need to re-install
>>>> Java nor XQuartz.


       How do you suggest I "re-install the Command Line Tools and R"?


       I upgraded to 10.11 days ago but only now tried "R CMD build" and 
got, "-bash: R: command not found". How can I get past this?


       Thanks,
       Spencer


p.s.  Thanks very much for all your work, including the comments on this 
thread.

>>>> 3) All the 'Mavericks' binary packages tested worked.  The source
>>>> packages of rJava and rgl (only) cannot be installed and the
>>>> maintainers have patched versions available.
>>>>
>>>>
>>>> There is updated information in the latest 'R Installation and
>>>> Administration' manual in R-patched and R-devel (in the sources, or
>>>> the online versions at https://cran.r-project.org/manuals.html will
>>>> update in a day or two).
>>>>
>>>> -- 
>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>> Emeritus Professor of Applied Statistics, University of Oxford
>>>> 1 South Parks Road, Oxford OX1 3TG, UK
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> -- 
>> Rainer M. Krug
>> email: Rainer<at>krugs<dot>de
>> PGP: 0x0F52F982
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From kevinushey at gmail.com  Tue Oct 13 03:51:14 2015
From: kevinushey at gmail.com (Kevin Ushey)
Date: Mon, 12 Oct 2015 18:51:14 -0700
Subject: [R-SIG-Mac] Experiences with El Capitan
In-Reply-To: <561C5F6E.6090506@prodsyse.com>
References: <5611598E.6030004@stats.ox.ac.uk>
	<1B39A383-D524-4585-B992-5EBA99006F84@gmail.com>
	<m2y4fhepkr.fsf@krugs.de>
	<48FD926E-A6C9-41A6-8B8A-19958D697791@r-project.org>
	<561C5F6E.6090506@prodsyse.com>
Message-ID: <CAJXgQP0Pn_oxVpDQm9+T5RGvDZ_RFBzP81nAu5ijye6FFEWn0Q@mail.gmail.com>

The simplest way to fix your issue is to symlink R to /usr/local/bin, e.g.

    ln -s /Library/Frameworks/R.framework/Resources/bin/R /usr/local/bin/R

Or, as Professor Ripley said in his initial post, R installers from
3.2.2 on El Capitan will now install a symlink at /usr/local/bin/R, so
you might want to just re-install or update R.

Updating the CLT is normally just a matter of downloading the latest
version of Xcode from the App Store, if I understand correctly. (You
may need to read + confirm a license agreement on your next run of the
clang compiler -- try running 'clang' after installing Xcode to see if
you're prompted)

Kevin

On Mon, Oct 12, 2015 at 6:33 PM, Spencer Graves
<spencer.graves at prodsyse.com> wrote:
>
>
> On 10/5/2015 2:46 PM, Simon Urbanek wrote:
>>
>> On Oct 5, 2015, at 3:34 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>>
>>> peter dalgaard <pdalgd at gmail.com> writes:
>>>
>>>> <Round of applause, please!>
>>>
>>> Agreed.
>>>
>>> I just would like to dd that in the case of using homebrew, which
>>> installs everything under /usr/local/... which did not cause any
>>> problems at all. I moved the contents of /usr/local to an other location
>>> before upgrade because the upgrade to Yosemite took because of a large
>>> /usr/local several hours instead of about half an hour, moved it back
>>> afterwards and everything worked fins without problems.
>>>
>>> One question concerning mixed usage of homebrew and the Official R
>>> installers:
>>>
>>> do the Official R installers fail if an R binary already exist, or do
>>> they raise a warning?
>>>
>>> To make this easier, would it be possible, to install the binaries under
>>> /usr/local/bin/R.X.Y.Z and then just create links in /usr/local/bin ?
>>> Tghis would make the whole process more transparent and easier to switch
>>> between different versions and means of installation.
>>>
>> R installer never installs any R binaries outside of the framework/app.
>> The only thing we provide on 10.10 is a softlink for R and Rscript in
>> /usr/local/bin into the framework (removing anything else in that name if it
>> exists). In earlier OS X versions this applies to /usr/bin instead.
>>
>> Cheers,
>> Simon
>>
>>
>>> Thanks for the clarifications,
>>>
>>> Rainer
>>>
>>>> -pd
>>>>
>>>>> On 04 Oct 2015, at 18:53 , Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>>> wrote:
>>>>>
>>>>> The machine which provides the 'r-devel-osx-x86_64-clang' checks on
>>>>> the CRAN check farm has been upgraded from Yosemite to El Capitan
>>>>> and a complete round of checks has been run.
>>>>>
>>>>>
>>>>> 1) There is a lot of misinformation around about 'System Integrity
>>>>> Protection' aka 'rootless'.
>>>>>
>>>>> Upgrading to El Capitan moves files which are not allowed under /usr
>>>>> to /Library/SystemMigration/usr, so you will be able to see what was
>>>>> lost. This includes /usr/bin/R, /usr/bin/Rscript (but the installer
>>>>> installs these under /usr/local/bin on El Capitan as from R 3.2.2),
>>>>> /usr/X11R6, /usr/texbin .  Contrary to reports from betas, the link
>>>>> /usr/X11 is preserved.
>>>>>
>>>>> If an installer tries to create a disallowed file such as
>>>>> /usr/bin/R, this is silently ignored (at least in the cases we
>>>>> tested).  So you can install e.g. R 3.1.3 but the executables will
>>>>> not appear in the default Terminal path (more details in the current
>>>>> manual).
>>>>>
>>>>>
>>>>> 2) After updating you need to re-install the Command Line Tools and
>>>>> R (to get the links in /usr/local).  I did not need to re-install
>>>>> Java nor XQuartz.
>
>
>
>       How do you suggest I "re-install the Command Line Tools and R"?
>
>
>       I upgraded to 10.11 days ago but only now tried "R CMD build" and got,
> "-bash: R: command not found". How can I get past this?
>
>
>       Thanks,
>       Spencer
>
>
> p.s.  Thanks very much for all your work, including the comments on this
> thread.
>
>
>>>>> 3) All the 'Mavericks' binary packages tested worked.  The source
>>>>> packages of rJava and rgl (only) cannot be installed and the
>>>>> maintainers have patched versions available.
>>>>>
>>>>>
>>>>> There is updated information in the latest 'R Installation and
>>>>> Administration' manual in R-patched and R-devel (in the sources, or
>>>>> the online versions at https://cran.r-project.org/manuals.html will
>>>>> update in a day or two).
>>>>>
>>>>> --
>>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>>> Emeritus Professor of Applied Statistics, University of Oxford
>>>>> 1 South Parks Road, Oxford OX1 3TG, UK
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> --
>>> Rainer M. Krug
>>> email: Rainer<at>krugs<dot>de
>>> PGP: 0x0F52F982
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From spencer.graves at prodsyse.com  Tue Oct 13 04:33:35 2015
From: spencer.graves at prodsyse.com (Spencer Graves)
Date: Mon, 12 Oct 2015 21:33:35 -0500
Subject: [R-SIG-Mac] Experiences with El Capitan
In-Reply-To: <CAJXgQP0Pn_oxVpDQm9+T5RGvDZ_RFBzP81nAu5ijye6FFEWn0Q@mail.gmail.com>
References: <5611598E.6030004@stats.ox.ac.uk>
	<1B39A383-D524-4585-B992-5EBA99006F84@gmail.com>
	<m2y4fhepkr.fsf@krugs.de>
	<48FD926E-A6C9-41A6-8B8A-19958D697791@r-project.org>
	<561C5F6E.6090506@prodsyse.com>
	<CAJXgQP0Pn_oxVpDQm9+T5RGvDZ_RFBzP81nAu5ijye6FFEWn0Q@mail.gmail.com>
Message-ID: <561C6D7F.6060705@prodsyse.com>



On 10/12/2015 8:51 PM, Kevin Ushey wrote:
> The simplest way to fix your issue is to symlink R to /usr/local/bin, e.g.
>
>      ln -s /Library/Frameworks/R.framework/Resources/bin/R /usr/local/bin/R


This worked.  Thanks.  Spencer
>
> Or, as Professor Ripley said in his initial post, R installers from
> 3.2.2 on El Capitan will now install a symlink at /usr/local/bin/R, so
> you might want to just re-install or update R.
>
> Updating the CLT is normally just a matter of downloading the latest
> version of Xcode from the App Store, if I understand correctly. (You
> may need to read + confirm a license agreement on your next run of the
> clang compiler -- try running 'clang' after installing Xcode to see if
> you're prompted)
>
> Kevin
>
> On Mon, Oct 12, 2015 at 6:33 PM, Spencer Graves
> <spencer.graves at prodsyse.com> wrote:
>>
>> On 10/5/2015 2:46 PM, Simon Urbanek wrote:
>>> On Oct 5, 2015, at 3:34 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>>>
>>>> peter dalgaard <pdalgd at gmail.com> writes:
>>>>
>>>>> <Round of applause, please!>
>>>> Agreed.
>>>>
>>>> I just would like to dd that in the case of using homebrew, which
>>>> installs everything under /usr/local/... which did not cause any
>>>> problems at all. I moved the contents of /usr/local to an other location
>>>> before upgrade because the upgrade to Yosemite took because of a large
>>>> /usr/local several hours instead of about half an hour, moved it back
>>>> afterwards and everything worked fins without problems.
>>>>
>>>> One question concerning mixed usage of homebrew and the Official R
>>>> installers:
>>>>
>>>> do the Official R installers fail if an R binary already exist, or do
>>>> they raise a warning?
>>>>
>>>> To make this easier, would it be possible, to install the binaries under
>>>> /usr/local/bin/R.X.Y.Z and then just create links in /usr/local/bin ?
>>>> Tghis would make the whole process more transparent and easier to switch
>>>> between different versions and means of installation.
>>>>
>>> R installer never installs any R binaries outside of the framework/app.
>>> The only thing we provide on 10.10 is a softlink for R and Rscript in
>>> /usr/local/bin into the framework (removing anything else in that name if it
>>> exists). In earlier OS X versions this applies to /usr/bin instead.
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>> Thanks for the clarifications,
>>>>
>>>> Rainer
>>>>
>>>>> -pd
>>>>>
>>>>>> On 04 Oct 2015, at 18:53 , Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>>>> wrote:
>>>>>>
>>>>>> The machine which provides the 'r-devel-osx-x86_64-clang' checks on
>>>>>> the CRAN check farm has been upgraded from Yosemite to El Capitan
>>>>>> and a complete round of checks has been run.
>>>>>>
>>>>>>
>>>>>> 1) There is a lot of misinformation around about 'System Integrity
>>>>>> Protection' aka 'rootless'.
>>>>>>
>>>>>> Upgrading to El Capitan moves files which are not allowed under /usr
>>>>>> to /Library/SystemMigration/usr, so you will be able to see what was
>>>>>> lost. This includes /usr/bin/R, /usr/bin/Rscript (but the installer
>>>>>> installs these under /usr/local/bin on El Capitan as from R 3.2.2),
>>>>>> /usr/X11R6, /usr/texbin .  Contrary to reports from betas, the link
>>>>>> /usr/X11 is preserved.
>>>>>>
>>>>>> If an installer tries to create a disallowed file such as
>>>>>> /usr/bin/R, this is silently ignored (at least in the cases we
>>>>>> tested).  So you can install e.g. R 3.1.3 but the executables will
>>>>>> not appear in the default Terminal path (more details in the current
>>>>>> manual).
>>>>>>
>>>>>>
>>>>>> 2) After updating you need to re-install the Command Line Tools and
>>>>>> R (to get the links in /usr/local).  I did not need to re-install
>>>>>> Java nor XQuartz.
>>
>>
>>        How do you suggest I "re-install the Command Line Tools and R"?
>>
>>
>>        I upgraded to 10.11 days ago but only now tried "R CMD build" and got,
>> "-bash: R: command not found". How can I get past this?
>>
>>
>>        Thanks,
>>        Spencer
>>
>>
>> p.s.  Thanks very much for all your work, including the comments on this
>> thread.
>>
>>
>>>>>> 3) All the 'Mavericks' binary packages tested worked.  The source
>>>>>> packages of rJava and rgl (only) cannot be installed and the
>>>>>> maintainers have patched versions available.
>>>>>>
>>>>>>
>>>>>> There is updated information in the latest 'R Installation and
>>>>>> Administration' manual in R-patched and R-devel (in the sources, or
>>>>>> the online versions at https://cran.r-project.org/manuals.html will
>>>>>> update in a day or two).
>>>>>>
>>>>>> --
>>>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>>>> Emeritus Professor of Applied Statistics, University of Oxford
>>>>>> 1 South Parks Road, Oxford OX1 3TG, UK
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> --
>>>> Rainer M. Krug
>>>> email: Rainer<at>krugs<dot>de
>>>> PGP: 0x0F52F982
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From spencer.graves at prodsyse.com  Tue Oct 13 04:58:36 2015
From: spencer.graves at prodsyse.com (Spencer Graves)
Date: Mon, 12 Oct 2015 21:58:36 -0500
Subject: [R-SIG-Mac] Experiences with El Capitan
In-Reply-To: <CAJXgQP0Pn_oxVpDQm9+T5RGvDZ_RFBzP81nAu5ijye6FFEWn0Q@mail.gmail.com>
References: <5611598E.6030004@stats.ox.ac.uk>
	<1B39A383-D524-4585-B992-5EBA99006F84@gmail.com>
	<m2y4fhepkr.fsf@krugs.de>
	<48FD926E-A6C9-41A6-8B8A-19958D697791@r-project.org>
	<561C5F6E.6090506@prodsyse.com>
	<CAJXgQP0Pn_oxVpDQm9+T5RGvDZ_RFBzP81nAu5ijye6FFEWn0Q@mail.gmail.com>
Message-ID: <561C735C.1050701@prodsyse.com>



On 10/12/2015 8:51 PM, Kevin Ushey wrote:
> The simplest way to fix your issue is to symlink R to /usr/local/bin, e.g.
>
>      ln -s /Library/Frameworks/R.framework/Resources/bin/R /usr/local/bin/R


This worked.  Thanks.  Spencer


... but not completely:  "R CMD build" worked.  "R CMD check" ended with:


Error in texi2dvi(file = file, pdf = TRUE, clean = clean, quiet = quiet,  :
   pdflatex is not available


	
>
> Or, as Professor Ripley said in his initial post, R installers from
> 3.2.2 on El Capitan will now install a symlink at /usr/local/bin/R, so
> you might want to just re-install or update R.
>
> Updating the CLT is normally just a matter of downloading the latest


What's CLT?  Central Limit Theorem?  Charlotte Douglas International 
Airport?


> version of Xcode from the App Store, if I understand correctly. (You


	  I requested "Xcode" at the App Store.  It asked for my Apple password 
then went away.  I rebooted and still got "pdflatex is not available".


> may need to read + confirm a license agreement on your next run of the
> clang compiler -- try running 'clang' after installing Xcode to see if
> you're prompted)


$ clang
xcrun: error: invalid active developer path 
(/Library/Developer/CommandLineTools), missing xcrun at: 
/Library/Developer/CommandLineTools/usr/bin/xcrun


	  Thanks again for your prompt reply.  Other suggestions?  (All this 
worked before I upgraded to OS X 10.11.)  Spencer

>
> Kevin
>
> On Mon, Oct 12, 2015 at 6:33 PM, Spencer Graves
> <spencer.graves at prodsyse.com> wrote:
>>
>> On 10/5/2015 2:46 PM, Simon Urbanek wrote:
>>> On Oct 5, 2015, at 3:34 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>>>
>>>> peter dalgaard <pdalgd at gmail.com> writes:
>>>>
>>>>> <Round of applause, please!>
>>>> Agreed.
>>>>
>>>> I just would like to dd that in the case of using homebrew, which
>>>> installs everything under /usr/local/... which did not cause any
>>>> problems at all. I moved the contents of /usr/local to an other location
>>>> before upgrade because the upgrade to Yosemite took because of a large
>>>> /usr/local several hours instead of about half an hour, moved it back
>>>> afterwards and everything worked fins without problems.
>>>>
>>>> One question concerning mixed usage of homebrew and the Official R
>>>> installers:
>>>>
>>>> do the Official R installers fail if an R binary already exist, or do
>>>> they raise a warning?
>>>>
>>>> To make this easier, would it be possible, to install the binaries under
>>>> /usr/local/bin/R.X.Y.Z and then just create links in /usr/local/bin ?
>>>> Tghis would make the whole process more transparent and easier to switch
>>>> between different versions and means of installation.
>>>>
>>> R installer never installs any R binaries outside of the framework/app.
>>> The only thing we provide on 10.10 is a softlink for R and Rscript in
>>> /usr/local/bin into the framework (removing anything else in that name if it
>>> exists). In earlier OS X versions this applies to /usr/bin instead.
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>> Thanks for the clarifications,
>>>>
>>>> Rainer
>>>>
>>>>> -pd
>>>>>
>>>>>> On 04 Oct 2015, at 18:53 , Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>>>> wrote:
>>>>>>
>>>>>> The machine which provides the 'r-devel-osx-x86_64-clang' checks on
>>>>>> the CRAN check farm has been upgraded from Yosemite to El Capitan
>>>>>> and a complete round of checks has been run.
>>>>>>
>>>>>>
>>>>>> 1) There is a lot of misinformation around about 'System Integrity
>>>>>> Protection' aka 'rootless'.
>>>>>>
>>>>>> Upgrading to El Capitan moves files which are not allowed under /usr
>>>>>> to /Library/SystemMigration/usr, so you will be able to see what was
>>>>>> lost. This includes /usr/bin/R, /usr/bin/Rscript (but the installer
>>>>>> installs these under /usr/local/bin on El Capitan as from R 3.2.2),
>>>>>> /usr/X11R6, /usr/texbin .  Contrary to reports from betas, the link
>>>>>> /usr/X11 is preserved.
>>>>>>
>>>>>> If an installer tries to create a disallowed file such as
>>>>>> /usr/bin/R, this is silently ignored (at least in the cases we
>>>>>> tested).  So you can install e.g. R 3.1.3 but the executables will
>>>>>> not appear in the default Terminal path (more details in the current
>>>>>> manual).
>>>>>>
>>>>>>
>>>>>> 2) After updating you need to re-install the Command Line Tools and
>>>>>> R (to get the links in /usr/local).  I did not need to re-install
>>>>>> Java nor XQuartz.
>>
>>
>>        How do you suggest I "re-install the Command Line Tools and R"?
>>
>>
>>        I upgraded to 10.11 days ago but only now tried "R CMD build" and got,
>> "-bash: R: command not found". How can I get past this?
>>
>>
>>        Thanks,
>>        Spencer
>>
>>
>> p.s.  Thanks very much for all your work, including the comments on this
>> thread.
>>
>>
>>>>>> 3) All the 'Mavericks' binary packages tested worked.  The source
>>>>>> packages of rJava and rgl (only) cannot be installed and the
>>>>>> maintainers have patched versions available.
>>>>>>
>>>>>>
>>>>>> There is updated information in the latest 'R Installation and
>>>>>> Administration' manual in R-patched and R-devel (in the sources, or
>>>>>> the online versions at https://cran.r-project.org/manuals.html will
>>>>>> update in a day or two).
>>>>>>
>>>>>> --
>>>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>>>> Emeritus Professor of Applied Statistics, University of Oxford
>>>>>> 1 South Parks Road, Oxford OX1 3TG, UK
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> --
>>>> Rainer M. Krug
>>>> email: Rainer<at>krugs<dot>de
>>>> PGP: 0x0F52F982
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From roy.mendelssohn at noaa.gov  Tue Oct 13 05:21:43 2015
From: roy.mendelssohn at noaa.gov (Roy Mendelssohn - NOAA Federal)
Date: Mon, 12 Oct 2015 20:21:43 -0700
Subject: [R-SIG-Mac] Experiences with El Capitan
In-Reply-To: <561C735C.1050701@prodsyse.com>
References: <5611598E.6030004@stats.ox.ac.uk>
	<1B39A383-D524-4585-B992-5EBA99006F84@gmail.com>
	<m2y4fhepkr.fsf@krugs.de>
	<48FD926E-A6C9-41A6-8B8A-19958D697791@r-project.org>
	<561C5F6E.6090506@prodsyse.com>
	<CAJXgQP0Pn_oxVpDQm9+T5RGvDZ_RFBzP81nAu5ijye6FFEWn0Q@mail.gmail.com>
	<561C735C.1050701@prodsyse.com>
Message-ID: <1B27C074-9F28-4D35-B721-416D4F4C2412@noaa.gov>

CLT = command line tools.  Otherwise you only have the compilers from the Xcode interface.

in order to have tex2dvi, you need a tex distribution installed.  I do remember if Simon has one on his R mac site, nut you can do an install from say  (as the RStudio help says):

> To build manuals and vignettes you'll also need to install the MacTeX LaTeX distribution (or another version of LaTeX for the Mac). You can download MacTeX from here: http://www.tug.org/mactex/downloading.html.


HTH,

Roy

> On Oct 12, 2015, at 7:58 PM, Spencer Graves <spencer.graves at prodsyse.com> wrote:
> 
> 
> 
> On 10/12/2015 8:51 PM, Kevin Ushey wrote:
>> The simplest way to fix your issue is to symlink R to /usr/local/bin, e.g.
>> 
>>     ln -s /Library/Frameworks/R.framework/Resources/bin/R /usr/local/bin/R
> 
> 
> This worked.  Thanks.  Spencer
> 
> 
> ... but not completely:  "R CMD build" worked.  "R CMD check" ended with:
> 
> 
> Error in texi2dvi(file = file, pdf = TRUE, clean = clean, quiet = quiet,  :
>  pdflatex is not available
> 
> 
> 	
>> 
>> Or, as Professor Ripley said in his initial post, R installers from
>> 3.2.2 on El Capitan will now install a symlink at /usr/local/bin/R, so
>> you might want to just re-install or update R.
>> 
>> Updating the CLT is normally just a matter of downloading the latest
> 
> 
> What's CLT?  Central Limit Theorem?  Charlotte Douglas International Airport?
> 
> 
>> version of Xcode from the App Store, if I understand correctly. (You
> 
> 
> 	  I requested "Xcode" at the App Store.  It asked for my Apple password then went away.  I rebooted and still got "pdflatex is not available".
> 
> 
>> may need to read + confirm a license agreement on your next run of the
>> clang compiler -- try running 'clang' after installing Xcode to see if
>> you're prompted)
> 
> 
> $ clang
> xcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun
> 
> 
> 	  Thanks again for your prompt reply.  Other suggestions?  (All this worked before I upgraded to OS X 10.11.)  Spencer
> 
>> 
>> Kevin
>> 
>> On Mon, Oct 12, 2015 at 6:33 PM, Spencer Graves
>> <spencer.graves at prodsyse.com> wrote:
>>> 
>>> On 10/5/2015 2:46 PM, Simon Urbanek wrote:
>>>> On Oct 5, 2015, at 3:34 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>>>> 
>>>>> peter dalgaard <pdalgd at gmail.com> writes:
>>>>> 
>>>>>> <Round of applause, please!>
>>>>> Agreed.
>>>>> 
>>>>> I just would like to dd that in the case of using homebrew, which
>>>>> installs everything under /usr/local/... which did not cause any
>>>>> problems at all. I moved the contents of /usr/local to an other location
>>>>> before upgrade because the upgrade to Yosemite took because of a large
>>>>> /usr/local several hours instead of about half an hour, moved it back
>>>>> afterwards and everything worked fins without problems.
>>>>> 
>>>>> One question concerning mixed usage of homebrew and the Official R
>>>>> installers:
>>>>> 
>>>>> do the Official R installers fail if an R binary already exist, or do
>>>>> they raise a warning?
>>>>> 
>>>>> To make this easier, would it be possible, to install the binaries under
>>>>> /usr/local/bin/R.X.Y.Z and then just create links in /usr/local/bin ?
>>>>> Tghis would make the whole process more transparent and easier to switch
>>>>> between different versions and means of installation.
>>>>> 
>>>> R installer never installs any R binaries outside of the framework/app.
>>>> The only thing we provide on 10.10 is a softlink for R and Rscript in
>>>> /usr/local/bin into the framework (removing anything else in that name if it
>>>> exists). In earlier OS X versions this applies to /usr/bin instead.
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>>> Thanks for the clarifications,
>>>>> 
>>>>> Rainer
>>>>> 
>>>>>> -pd
>>>>>> 
>>>>>>> On 04 Oct 2015, at 18:53 , Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>>>>> wrote:
>>>>>>> 
>>>>>>> The machine which provides the 'r-devel-osx-x86_64-clang' checks on
>>>>>>> the CRAN check farm has been upgraded from Yosemite to El Capitan
>>>>>>> and a complete round of checks has been run.
>>>>>>> 
>>>>>>> 
>>>>>>> 1) There is a lot of misinformation around about 'System Integrity
>>>>>>> Protection' aka 'rootless'.
>>>>>>> 
>>>>>>> Upgrading to El Capitan moves files which are not allowed under /usr
>>>>>>> to /Library/SystemMigration/usr, so you will be able to see what was
>>>>>>> lost. This includes /usr/bin/R, /usr/bin/Rscript (but the installer
>>>>>>> installs these under /usr/local/bin on El Capitan as from R 3.2.2),
>>>>>>> /usr/X11R6, /usr/texbin .  Contrary to reports from betas, the link
>>>>>>> /usr/X11 is preserved.
>>>>>>> 
>>>>>>> If an installer tries to create a disallowed file such as
>>>>>>> /usr/bin/R, this is silently ignored (at least in the cases we
>>>>>>> tested).  So you can install e.g. R 3.1.3 but the executables will
>>>>>>> not appear in the default Terminal path (more details in the current
>>>>>>> manual).
>>>>>>> 
>>>>>>> 
>>>>>>> 2) After updating you need to re-install the Command Line Tools and
>>>>>>> R (to get the links in /usr/local).  I did not need to re-install
>>>>>>> Java nor XQuartz.
>>> 
>>> 
>>>       How do you suggest I "re-install the Command Line Tools and R"?
>>> 
>>> 
>>>       I upgraded to 10.11 days ago but only now tried "R CMD build" and got,
>>> "-bash: R: command not found". How can I get past this?
>>> 
>>> 
>>>       Thanks,
>>>       Spencer
>>> 
>>> 
>>> p.s.  Thanks very much for all your work, including the comments on this
>>> thread.
>>> 
>>> 
>>>>>>> 3) All the 'Mavericks' binary packages tested worked.  The source
>>>>>>> packages of rJava and rgl (only) cannot be installed and the
>>>>>>> maintainers have patched versions available.
>>>>>>> 
>>>>>>> 
>>>>>>> There is updated information in the latest 'R Installation and
>>>>>>> Administration' manual in R-patched and R-devel (in the sources, or
>>>>>>> the online versions at https://cran.r-project.org/manuals.html will
>>>>>>> update in a day or two).
>>>>>>> 
>>>>>>> --
>>>>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>>>>> Emeritus Professor of Applied Statistics, University of Oxford
>>>>>>> 1 South Parks Road, Oxford OX1 3TG, UK
>>>>>>> 
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> --
>>>>> Rainer M. Krug
>>>>> email: Rainer<at>krugs<dot>de
>>>>> PGP: 0x0F52F982
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new address and phone***
110 Shaffer Road
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From spencer.graves at prodsyse.com  Tue Oct 13 11:53:08 2015
From: spencer.graves at prodsyse.com (Spencer Graves)
Date: Tue, 13 Oct 2015 04:53:08 -0500
Subject: [R-SIG-Mac] Experiences with El Capitan
In-Reply-To: <1B27C074-9F28-4D35-B721-416D4F4C2412@noaa.gov>
References: <5611598E.6030004@stats.ox.ac.uk>
	<1B39A383-D524-4585-B992-5EBA99006F84@gmail.com>
	<m2y4fhepkr.fsf@krugs.de>
	<48FD926E-A6C9-41A6-8B8A-19958D697791@r-project.org>
	<561C5F6E.6090506@prodsyse.com>
	<CAJXgQP0Pn_oxVpDQm9+T5RGvDZ_RFBzP81nAu5ijye6FFEWn0Q@mail.gmail.com>
	<561C735C.1050701@prodsyse.com>
	<1B27C074-9F28-4D35-B721-416D4F4C2412@noaa.gov>
Message-ID: <561CD484.3070908@prodsyse.com>



On 10/12/2015 10:21 PM, Roy Mendelssohn - NOAA Federal wrote:
> CLT = command line tools.  Otherwise you only have the compilers from the Xcode interface.
>
> in order to have tex2dvi, you need a tex distribution installed.  I do remember if Simon has one on his R mac site, nut you can do an install from say  (as the RStudio help says):
>
>> To build manuals and vignettes you'll also need to install the MacTeX LaTeX distribution (or another version of LaTeX for the Mac). You can download MacTeX from here:http://www.tug.org/mactex/downloading.html.
> HTH,


       Yes, it didn't just help, it fixed the problem.  Thanks.  (My 
Father once said, "That not only hit the spot, it erased it.")


        Best Wishes,
       Spencer
>
> Roy
>
>> On Oct 12, 2015, at 7:58 PM, Spencer Graves<spencer.graves at prodsyse.com>  wrote:
>>
>>
>>
>> On 10/12/2015 8:51 PM, Kevin Ushey wrote:
>>> The simplest way to fix your issue is to symlink R to /usr/local/bin, e.g.
>>>
>>>      ln -s /Library/Frameworks/R.framework/Resources/bin/R /usr/local/bin/R
>> This worked.  Thanks.  Spencer
>>
>>
>> ... but not completely:  "R CMD build" worked.  "R CMD check" ended with:
>>
>>
>> Error in texi2dvi(file = file, pdf = TRUE, clean = clean, quiet = quiet,  :
>>   pdflatex is not available
>>
>>
>> 	
>>> Or, as Professor Ripley said in his initial post, R installers from
>>> 3.2.2 on El Capitan will now install a symlink at /usr/local/bin/R, so
>>> you might want to just re-install or update R.
>>>
>>> Updating the CLT is normally just a matter of downloading the latest
>> What's CLT?  Central Limit Theorem?  Charlotte Douglas International Airport?
>>
>>
>>> version of Xcode from the App Store, if I understand correctly. (You
>> 	  I requested "Xcode" at the App Store.  It asked for my Apple password then went away.  I rebooted and still got "pdflatex is not available".
>>
>>
>>> may need to read + confirm a license agreement on your next run of the
>>> clang compiler -- try running 'clang' after installing Xcode to see if
>>> you're prompted)
>> $ clang
>> xcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun
>>
>>
>> 	  Thanks again for your prompt reply.  Other suggestions?  (All this worked before I upgraded to OS X 10.11.)  Spencer
>>
>>> Kevin
>>>
>>> On Mon, Oct 12, 2015 at 6:33 PM, Spencer Graves
>>> <spencer.graves at prodsyse.com>  wrote:
>>>> On 10/5/2015 2:46 PM, Simon Urbanek wrote:
>>>>> On Oct 5, 2015, at 3:34 AM, Rainer M Krug<Rainer at krugs.de>  wrote:
>>>>>
>>>>>> peter dalgaard<pdalgd at gmail.com>  writes:
>>>>>>
>>>>>>> <Round of applause, please!>
>>>>>> Agreed.
>>>>>>
>>>>>> I just would like to dd that in the case of using homebrew, which
>>>>>> installs everything under /usr/local/... which did not cause any
>>>>>> problems at all. I moved the contents of /usr/local to an other location
>>>>>> before upgrade because the upgrade to Yosemite took because of a large
>>>>>> /usr/local several hours instead of about half an hour, moved it back
>>>>>> afterwards and everything worked fins without problems.
>>>>>>
>>>>>> One question concerning mixed usage of homebrew and the Official R
>>>>>> installers:
>>>>>>
>>>>>> do the Official R installers fail if an R binary already exist, or do
>>>>>> they raise a warning?
>>>>>>
>>>>>> To make this easier, would it be possible, to install the binaries under
>>>>>> /usr/local/bin/R.X.Y.Z and then just create links in /usr/local/bin ?
>>>>>> Tghis would make the whole process more transparent and easier to switch
>>>>>> between different versions and means of installation.
>>>>>>
>>>>> R installer never installs any R binaries outside of the framework/app.
>>>>> The only thing we provide on 10.10 is a softlink for R and Rscript in
>>>>> /usr/local/bin into the framework (removing anything else in that name if it
>>>>> exists). In earlier OS X versions this applies to /usr/bin instead.
>>>>>
>>>>> Cheers,
>>>>> Simon
>>>>>
>>>>>
>>>>>> Thanks for the clarifications,
>>>>>>
>>>>>> Rainer
>>>>>>
>>>>>>> -pd
>>>>>>>
>>>>>>>> On 04 Oct 2015, at 18:53 , Prof Brian Ripley<ripley at stats.ox.ac.uk>
>>>>>>>> wrote:
>>>>>>>>
>>>>>>>> The machine which provides the 'r-devel-osx-x86_64-clang' checks on
>>>>>>>> the CRAN check farm has been upgraded from Yosemite to El Capitan
>>>>>>>> and a complete round of checks has been run.
>>>>>>>>
>>>>>>>>
>>>>>>>> 1) There is a lot of misinformation around about 'System Integrity
>>>>>>>> Protection' aka 'rootless'.
>>>>>>>>
>>>>>>>> Upgrading to El Capitan moves files which are not allowed under /usr
>>>>>>>> to /Library/SystemMigration/usr, so you will be able to see what was
>>>>>>>> lost. This includes /usr/bin/R, /usr/bin/Rscript (but the installer
>>>>>>>> installs these under /usr/local/bin on El Capitan as from R 3.2.2),
>>>>>>>> /usr/X11R6, /usr/texbin .  Contrary to reports from betas, the link
>>>>>>>> /usr/X11 is preserved.
>>>>>>>>
>>>>>>>> If an installer tries to create a disallowed file such as
>>>>>>>> /usr/bin/R, this is silently ignored (at least in the cases we
>>>>>>>> tested).  So you can install e.g. R 3.1.3 but the executables will
>>>>>>>> not appear in the default Terminal path (more details in the current
>>>>>>>> manual).
>>>>>>>>
>>>>>>>>
>>>>>>>> 2) After updating you need to re-install the Command Line Tools and
>>>>>>>> R (to get the links in /usr/local).  I did not need to re-install
>>>>>>>> Java nor XQuartz.
>>>>        How do you suggest I "re-install the Command Line Tools and R"?
>>>>
>>>>
>>>>        I upgraded to 10.11 days ago but only now tried "R CMD build" and got,
>>>> "-bash: R: command not found". How can I get past this?
>>>>
>>>>
>>>>        Thanks,
>>>>        Spencer
>>>>
>>>>
>>>> p.s.  Thanks very much for all your work, including the comments on this
>>>> thread.
>>>>
>>>>
>>>>>>>> 3) All the 'Mavericks' binary packages tested worked.  The source
>>>>>>>> packages of rJava and rgl (only) cannot be installed and the
>>>>>>>> maintainers have patched versions available.
>>>>>>>>
>>>>>>>>
>>>>>>>> There is updated information in the latest 'R Installation and
>>>>>>>> Administration' manual in R-patched and R-devel (in the sources, or
>>>>>>>> the online versions athttps://cran.r-project.org/manuals.html  will
>>>>>>>> update in a day or two).
>>>>>>>>
>>>>>>>> --
>>>>>>>> Brian D. Ripley,ripley at stats.ox.ac.uk
>>>>>>>> Emeritus Professor of Applied Statistics, University of Oxford
>>>>>>>> 1 South Parks Road, Oxford OX1 3TG, UK
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> R-SIG-Mac mailing list
>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> --
>>>>>> Rainer M. Krug
>>>>>> email: Rainer<at>krugs<dot>de
>>>>>> PGP: 0x0F52F982
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> **********************
> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
> **********************
> Roy Mendelssohn
> Supervisory Operations Research Analyst
> NOAA/NMFS
> Environmental Research Division
> Southwest Fisheries Science Center
> ***Note new address and phone***
> 110 Shaffer Road
> Santa Cruz, CA 95060
> Phone: (831)-420-3666
> Fax: (831) 420-3980
> e-mail:Roy.Mendelssohn at noaa.gov  www:http://www.pfeg.noaa.gov/
>
> "Old age and treachery will overcome youth and skill."
> "From those who have been given much, much will be expected"
> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>
>


From simon.urbanek at r-project.org  Tue Oct 13 15:36:06 2015
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 13 Oct 2015 09:36:06 -0400
Subject: [R-SIG-Mac] XCode / gcc / R compatibility issues on Yosemite
	with XCode 7 and on El Capitan
In-Reply-To: <CAGfXKaGmoRR5wgU6OKWJL2N2j0RfK9igOpVnV28TaGXq=QfvNg@mail.gmail.com>
References: <CAGfXKaHaPyWZLgPnNFu16m3H1ehURsLZuajUzoU5UozrWFJY_A@mail.gmail.com>
	<C10B20E5-0EBE-4D52-A07F-5557AEC1F315@r-project.org>
	<56160E23.1020204@stats.ox.ac.uk>
	<CAGfXKaGmoRR5wgU6OKWJL2N2j0RfK9igOpVnV28TaGXq=QfvNg@mail.gmail.com>
Message-ID: <9F0B5BEA-76C2-43BF-941E-B9F3DDA900A1@r-project.org>


On Oct 12, 2015, at 4:22 PM, Jenny Brown <jennybrown8 at gmail.com> wrote:

> Thank you to both of you.  I believe my issue is solved by using the binary
> distribution of gfortran libraries, as it was dynamic linking that was
> causing me the most headache.  And that seems to solve that.
> 
> I still have to modify the etc/Makeconf file to use the right directory for
> -L and the right library name for gfortran .... it comes written as
> gfortran-4.8 in the Makeconf but that gives a not-found on my system.


It means you're not using the Fortran we use (as I said below) - see
http://r.research.att.com/libs/gfortran-4.8.2-darwin13.tar.bz2

Cheers,
Simon



>  I'm
> not entirely clear on when the Makeconf is initially written during a
> binary install of R.  But it does seem that I can adjust the lines related
> to fortran and get it to work for compiling my source packages.
> 
> Thanks!
> 
> 
> 
> 
> On Thu, Oct 8, 2015 at 1:33 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk>
> wrote:
> 
>> On 08/10/2015 02:37, Simon Urbanek wrote:
>> 
>>> Jenny,
>>> 
>>> I suspect you may not have the correct information. The CRAN Mavericks
>>> binary of R is not built with gcc, it's actually build using Apple clang
>>> and we're neither using nor requiring homebrew, so most of what you are
>>> describing doesn't make sense to me. I have tested Xcode 7 with the
>>> gfortran-4.8 we supply and it works just fine on 10.11 (tested on Hmisc). I
>>> have only 10.6, 10.9 and 10.11 so I can't check 10.10, but I would
>>> certainly recommend building on 10.9 with Xcode 6 for compatibility (that's
>>> what we do for CRAN). If you don't care about binary compatibility then
>>> Xcode 7 on 10.11 is fine (FWIW Hmisc package compiled on 10.11 actually
>>> works for me on 10.9 so it could even be that you may get away with using
>>> 10.11 if you don't use system dependencies with higher versions).
>>> 
>> 
>> It also works for me on 10.10.  If the 'Command Line Tools OS X 10 for
>> Xcode 7' Apple package is installed on 10.10 (specifically file
>> http://adcdownload.apple.com/Developer_Tools/Command_Line_Tools_OS_X_10.10_for_Xcode_7/Command_Line_Tools_OS_X_10.10_for_Xcode_7.dmg),
>> it installs
>> 
>> % clang --version
>> Apple LLVM version 7.0.0 (clang-700.0.74)
>> Target: x86_64-apple-darwin14.5.0
>> 
>> hence targets OS X 10.10 aka Darwin 14.  My 10.10 machine does not have
>> Xcode installed, only the CLT: you do not need Xcode's SDKs to compile R
>> nor any CRAN package.  (You do need Xcode to compile R.app.)
>> 
>> For Fortran on Yosemite/El Capitan I use the gfortran 5.2 build at the
>> sites given in the current R-admin manual ('Other builds of gfortran are
>> available: see https://gcc.gnu.org/wiki/GFortranBinaries and
>> http://coudert.name/software.html').  My recollection is that the
>> 'gfortran-4.8 for Mavericks' on r.research.att.com does compile all but
>> one of the CRAN packages on Yosemite (SWATmodel which compiles executables
>> from Fortran code), in some cases with warnings.
>> 
>> Note that any recent(ish) build of gfortran will have dynamic libgfortran
>> and libquadmath libraries, and installations of most Fortran-using packages
>> will link to these.  So you either need to install those libraries on all
>> the machines or arrange for the packages you distribute to point to the
>> copies in the CRAN build (in R_HOME/lib) as is done for the CRAN binary
>> packages.  (I believe they are post-processed by
>> https://svn.r-project.org/R-dev-web/trunk/CRAN/QA/Simon/packages/1.fixr
>> .)  My recollection is that a very few packages also link to libgcc_s, also
>> in R_HOME/lib.
>> 
>> 
>> 
>> Cheers,
>>> Simon
>>> 
>>> 
>>> On Oct 7, 2015, at 10:47 AM, Jenny Brown <jennybrown8 at gmail.com> wrote:
>>>> 
>>>> I am maintaining R installations and packages for a large number of OS X
>>>> machines.  A recent change from Apple is making the R installation more
>>>> awkward, and I'm trying to determine the best path forward with minimal
>>>> maintenance headaches.
>>>> 
>>>> 
>>>> Recently, XCode 7's release on Yosemite 10.10 broke compilation of "brew
>>>> install --with-fortran gcc48" which is a pre-requisite for compiling
>>>> third
>>>> party R packages that use fortran.  (XCode 7 eliminates the 10.9 and
>>>> 10.10
>>>> SDKs and only provides 10.11 which is El Capitan's... so even though
>>>> XCode
>>>> 7 installs on Yosemite, it can not build for Yosemite, which causes gcc
>>>> trouble.  Lots of opensource devs are commenting on this on various
>>>> projects.)
>>>> 
>>>> It appears that the binary installs of R for OS X (3.1 through 3.2.2)
>>>> were
>>>> all built against gcc 4.8.  I've discovered that gcc 5.2 builds properly
>>>> on
>>>> Yosemite, even with XCode 7, and R can be compiled with gcc 5.2.
>>>> 
>>>> However, even the latest R (3.2.2) on cran.rstudio.com appears to be
>>>> built
>>>> by default with gcc 4.8 -- are there plans to move to gcc 5.2?
>>>> Presumably
>>>> the breakage I'm seeing where gcc 4.8 can't use the xcode 7 10.11 SDK
>>>> would
>>>> also occur on El Capitan, so gcc 5.2 would be a necessary upgrade there
>>>> too.
>>>> 
>>>> Right now my choices for getting R to work with my third-party fortran
>>>> packages appear to be: manually downgrade xcode to 6.4 for Yosemite; or,
>>>> maintain my own compilation of R against gcc 5.2, for each of Yosemite
>>>> and
>>>> El Capitan.  Both have their downsides, and I hope to be able to return
>>>> to
>>>> the normal public binary R distribution sooner rather than later.
>>>> 
>>>> What's on the roadmap for upcoming upgrades and compatibility?  Thanks.
>>>> 
>>>>        [[alternative HTML version deleted]]
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
>> --
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Emeritus Professor of Applied Statistics, University of Oxford
>> 1 South Parks Road, Oxford OX1 3TG, UK
>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From ripley at stats.ox.ac.uk  Tue Oct 13 16:14:31 2015
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Oct 2015 15:14:31 +0100
Subject: [R-SIG-Mac] XCode / gcc / R compatibility issues on Yosemite
 with XCode 7 and on El Capitan
In-Reply-To: <9F0B5BEA-76C2-43BF-941E-B9F3DDA900A1@r-project.org>
References: <CAGfXKaHaPyWZLgPnNFu16m3H1ehURsLZuajUzoU5UozrWFJY_A@mail.gmail.com>
	<C10B20E5-0EBE-4D52-A07F-5557AEC1F315@r-project.org>
	<56160E23.1020204@stats.ox.ac.uk>
	<CAGfXKaGmoRR5wgU6OKWJL2N2j0RfK9igOpVnV28TaGXq=QfvNg@mail.gmail.com>
	<9F0B5BEA-76C2-43BF-941E-B9F3DDA900A1@r-project.org>
Message-ID: <561D11C7.3000302@stats.ox.ac.uk>

On 13/10/2015 14:36, Simon Urbanek wrote:
>
> On Oct 12, 2015, at 4:22 PM, Jenny Brown <jennybrown8 at gmail.com> wrote:
>
>> Thank you to both of you.  I believe my issue is solved by using the binary
>> distribution of gfortran libraries, as it was dynamic linking that was
>> causing me the most headache.  And that seems to solve that.
>>
>> I still have to modify the etc/Makeconf file to use the right directory for
>> -L and the right library name for gfortran .... it comes written as
>> gfortran-4.8 in the Makeconf but that gives a not-found on my system.
>
>
> It means you're not using the Fortran we use (as I said below) - see
> http://r.research.att.com/libs/gfortran-4.8.2-darwin13.tar.bz2

Also, you do not need to modify etc/Makeconf ... the manual says

'The default compilers specified in 
/Library/Frameworks/R.framework/Resources/etc/Makeconf depend on the 
version of OS X under which R was installed, and are appropriate to the 
latest version of the command-line tools for that version of OS X. The 
settings can be changed, either by editing that file or in a file such 
as ~/.R/Makevars (see the next section).'

I have in ~/.R/Makevars on my laptop

F77 = /usr/local/gfortran/bin/gfortran
FC = /usr/local/gfortran/bin/gfortran
FLIBS =  -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin14/5.2.0 
-L/usr/local/gfortran/lib -lgfortran -lquadmath -lm



>
> Cheers,
> Simon
>
>
>
>>   I'm
>> not entirely clear on when the Makeconf is initially written during a
>> binary install of R.  But it does seem that I can adjust the lines related
>> to fortran and get it to work for compiling my source packages.
>>
>> Thanks!
>>
>>
>>
>>
>> On Thu, Oct 8, 2015 at 1:33 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk>
>> wrote:
>>
>>> On 08/10/2015 02:37, Simon Urbanek wrote:
>>>
>>>> Jenny,
>>>>
>>>> I suspect you may not have the correct information. The CRAN Mavericks
>>>> binary of R is not built with gcc, it's actually build using Apple clang
>>>> and we're neither using nor requiring homebrew, so most of what you are
>>>> describing doesn't make sense to me. I have tested Xcode 7 with the
>>>> gfortran-4.8 we supply and it works just fine on 10.11 (tested on Hmisc). I
>>>> have only 10.6, 10.9 and 10.11 so I can't check 10.10, but I would
>>>> certainly recommend building on 10.9 with Xcode 6 for compatibility (that's
>>>> what we do for CRAN). If you don't care about binary compatibility then
>>>> Xcode 7 on 10.11 is fine (FWIW Hmisc package compiled on 10.11 actually
>>>> works for me on 10.9 so it could even be that you may get away with using
>>>> 10.11 if you don't use system dependencies with higher versions).
>>>>
>>>
>>> It also works for me on 10.10.  If the 'Command Line Tools OS X 10 for
>>> Xcode 7' Apple package is installed on 10.10 (specifically file
>>> http://adcdownload.apple.com/Developer_Tools/Command_Line_Tools_OS_X_10.10_for_Xcode_7/Command_Line_Tools_OS_X_10.10_for_Xcode_7.dmg),
>>> it installs
>>>
>>> % clang --version
>>> Apple LLVM version 7.0.0 (clang-700.0.74)
>>> Target: x86_64-apple-darwin14.5.0
>>>
>>> hence targets OS X 10.10 aka Darwin 14.  My 10.10 machine does not have
>>> Xcode installed, only the CLT: you do not need Xcode's SDKs to compile R
>>> nor any CRAN package.  (You do need Xcode to compile R.app.)
>>>
>>> For Fortran on Yosemite/El Capitan I use the gfortran 5.2 build at the
>>> sites given in the current R-admin manual ('Other builds of gfortran are
>>> available: see https://gcc.gnu.org/wiki/GFortranBinaries and
>>> http://coudert.name/software.html').  My recollection is that the
>>> 'gfortran-4.8 for Mavericks' on r.research.att.com does compile all but
>>> one of the CRAN packages on Yosemite (SWATmodel which compiles executables
>>> from Fortran code), in some cases with warnings.
>>>
>>> Note that any recent(ish) build of gfortran will have dynamic libgfortran
>>> and libquadmath libraries, and installations of most Fortran-using packages
>>> will link to these.  So you either need to install those libraries on all
>>> the machines or arrange for the packages you distribute to point to the
>>> copies in the CRAN build (in R_HOME/lib) as is done for the CRAN binary
>>> packages.  (I believe they are post-processed by
>>> https://svn.r-project.org/R-dev-web/trunk/CRAN/QA/Simon/packages/1.fixr
>>> .)  My recollection is that a very few packages also link to libgcc_s, also
>>> in R_HOME/lib.
>>>
>>>
>>>
>>> Cheers,
>>>> Simon
>>>>
>>>>
>>>> On Oct 7, 2015, at 10:47 AM, Jenny Brown <jennybrown8 at gmail.com> wrote:
>>>>>
>>>>> I am maintaining R installations and packages for a large number of OS X
>>>>> machines.  A recent change from Apple is making the R installation more
>>>>> awkward, and I'm trying to determine the best path forward with minimal
>>>>> maintenance headaches.
>>>>>
>>>>>
>>>>> Recently, XCode 7's release on Yosemite 10.10 broke compilation of "brew
>>>>> install --with-fortran gcc48" which is a pre-requisite for compiling
>>>>> third
>>>>> party R packages that use fortran.  (XCode 7 eliminates the 10.9 and
>>>>> 10.10
>>>>> SDKs and only provides 10.11 which is El Capitan's... so even though
>>>>> XCode
>>>>> 7 installs on Yosemite, it can not build for Yosemite, which causes gcc
>>>>> trouble.  Lots of opensource devs are commenting on this on various
>>>>> projects.)
>>>>>
>>>>> It appears that the binary installs of R for OS X (3.1 through 3.2.2)
>>>>> were
>>>>> all built against gcc 4.8.  I've discovered that gcc 5.2 builds properly
>>>>> on
>>>>> Yosemite, even with XCode 7, and R can be compiled with gcc 5.2.
>>>>>
>>>>> However, even the latest R (3.2.2) on cran.rstudio.com appears to be
>>>>> built
>>>>> by default with gcc 4.8 -- are there plans to move to gcc 5.2?
>>>>> Presumably
>>>>> the breakage I'm seeing where gcc 4.8 can't use the xcode 7 10.11 SDK
>>>>> would
>>>>> also occur on El Capitan, so gcc 5.2 would be a necessary upgrade there
>>>>> too.
>>>>>
>>>>> Right now my choices for getting R to work with my third-party fortran
>>>>> packages appear to be: manually downgrade xcode to 6.4 for Yosemite; or,
>>>>> maintain my own compilation of R against gcc 5.2, for each of Yosemite
>>>>> and
>>>>> El Capitan.  Both have their downsides, and I hope to be able to return
>>>>> to
>>>>> the normal public binary R distribution sooner rather than later.
>>>>>
>>>>> What's on the roadmap for upcoming upgrades and compatibility?  Thanks.
>>>>>
>>>>>         [[alternative HTML version deleted]]
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>
>>> --
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Emeritus Professor of Applied Statistics, University of Oxford
>>> 1 South Parks Road, Oxford OX1 3TG, UK
>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK


From bhh at xs4all.nl  Tue Oct 13 17:07:54 2015
From: bhh at xs4all.nl (Berend Hasselman)
Date: Tue, 13 Oct 2015 17:07:54 +0200
Subject: [R-SIG-Mac] XCode / gcc / R compatibility issues on Yosemite
	with XCode 7 and on El Capitan
In-Reply-To: <561D11C7.3000302@stats.ox.ac.uk>
References: <CAGfXKaHaPyWZLgPnNFu16m3H1ehURsLZuajUzoU5UozrWFJY_A@mail.gmail.com>
	<C10B20E5-0EBE-4D52-A07F-5557AEC1F315@r-project.org>
	<56160E23.1020204@stats.ox.ac.uk>
	<CAGfXKaGmoRR5wgU6OKWJL2N2j0RfK9igOpVnV28TaGXq=QfvNg@mail.gmail.com>
	<9F0B5BEA-76C2-43BF-941E-B9F3DDA900A1@r-project.org>
	<561D11C7.3000302@stats.ox.ac.uk>
Message-ID: <30809F65-67DE-4001-B30F-8FB9D42F164F@xs4all.nl>


> On 13 Oct 2015, at 16:14, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> 
> On 13/10/2015 14:36, Simon Urbanek wrote:
>> 
>> On Oct 12, 2015, at 4:22 PM, Jenny Brown <jennybrown8 at gmail.com> wrote:
>> 
>>> Thank you to both of you.  I believe my issue is solved by using the binary
>>> distribution of gfortran libraries, as it was dynamic linking that was
>>> causing me the most headache.  And that seems to solve that.
>>> 
>>> I still have to modify the etc/Makeconf file to use the right directory for
>>> -L and the right library name for gfortran .... it comes written as
>>> gfortran-4.8 in the Makeconf but that gives a not-found on my system.
>> 
>> 
>> It means you're not using the Fortran we use (as I said below) - see
>> http://r.research.att.com/libs/gfortran-4.8.2-darwin13.tar.bz2
> 
> Also, you do not need to modify etc/Makeconf ... the manual says
> 
> 'The default compilers specified in /Library/Frameworks/R.framework/Resources/etc/Makeconf depend on the version of OS X under which R was installed, and are appropriate to the latest version of the command-line tools for that version of OS X. The settings can be changed, either by editing that file or in a file such as ~/.R/Makevars (see the next section).'
> 
> I have in ~/.R/Makevars on my laptop
> 
> F77 = /usr/local/gfortran/bin/gfortran
> FC = /usr/local/gfortran/bin/gfortran
> FLIBS =  -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin14/5.2.0 -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm
> 
> 

This is Coudert?s gfortran, I presume?
Can it be used together with R binary provided by CRAN and Simon?
Or would one have to recompile R from scratch using Coudert?s gfortran?

Berend

> 
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>>  I'm
>>> not entirely clear on when the Makeconf is initially written during a
>>> binary install of R.  But it does seem that I can adjust the lines related
>>> to fortran and get it to work for compiling my source packages.
>>> 
>>> Thanks!
>>> 
>>> 
>>> 
>>> 
>>> On Thu, Oct 8, 2015 at 1:33 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>> wrote:
>>> 
>>>> On 08/10/2015 02:37, Simon Urbanek wrote:
>>>> 
>>>>> Jenny,
>>>>> 
>>>>> I suspect you may not have the correct information. The CRAN Mavericks
>>>>> binary of R is not built with gcc, it's actually build using Apple clang
>>>>> and we're neither using nor requiring homebrew, so most of what you are
>>>>> describing doesn't make sense to me. I have tested Xcode 7 with the
>>>>> gfortran-4.8 we supply and it works just fine on 10.11 (tested on Hmisc). I
>>>>> have only 10.6, 10.9 and 10.11 so I can't check 10.10, but I would
>>>>> certainly recommend building on 10.9 with Xcode 6 for compatibility (that's
>>>>> what we do for CRAN). If you don't care about binary compatibility then
>>>>> Xcode 7 on 10.11 is fine (FWIW Hmisc package compiled on 10.11 actually
>>>>> works for me on 10.9 so it could even be that you may get away with using
>>>>> 10.11 if you don't use system dependencies with higher versions).
>>>>> 
>>>> 
>>>> It also works for me on 10.10.  If the 'Command Line Tools OS X 10 for
>>>> Xcode 7' Apple package is installed on 10.10 (specifically file
>>>> http://adcdownload.apple.com/Developer_Tools/Command_Line_Tools_OS_X_10.10_for_Xcode_7/Command_Line_Tools_OS_X_10.10_for_Xcode_7.dmg),
>>>> it installs
>>>> 
>>>> % clang --version
>>>> Apple LLVM version 7.0.0 (clang-700.0.74)
>>>> Target: x86_64-apple-darwin14.5.0
>>>> 
>>>> hence targets OS X 10.10 aka Darwin 14.  My 10.10 machine does not have
>>>> Xcode installed, only the CLT: you do not need Xcode's SDKs to compile R
>>>> nor any CRAN package.  (You do need Xcode to compile R.app.)
>>>> 
>>>> For Fortran on Yosemite/El Capitan I use the gfortran 5.2 build at the
>>>> sites given in the current R-admin manual ('Other builds of gfortran are
>>>> available: see https://gcc.gnu.org/wiki/GFortranBinaries and
>>>> http://coudert.name/software.html').  My recollection is that the
>>>> 'gfortran-4.8 for Mavericks' on r.research.att.com does compile all but
>>>> one of the CRAN packages on Yosemite (SWATmodel which compiles executables
>>>> from Fortran code), in some cases with warnings.
>>>> 
>>>> Note that any recent(ish) build of gfortran will have dynamic libgfortran
>>>> and libquadmath libraries, and installations of most Fortran-using packages
>>>> will link to these.  So you either need to install those libraries on all
>>>> the machines or arrange for the packages you distribute to point to the
>>>> copies in the CRAN build (in R_HOME/lib) as is done for the CRAN binary
>>>> packages.  (I believe they are post-processed by
>>>> https://svn.r-project.org/R-dev-web/trunk/CRAN/QA/Simon/packages/1.fixr
>>>> .)  My recollection is that a very few packages also link to libgcc_s, also
>>>> in R_HOME/lib.
>>>> 
>>>> 
>>>> 
>>>> Cheers,
>>>>> Simon
>>>>> 
>>>>> 
>>>>> On Oct 7, 2015, at 10:47 AM, Jenny Brown <jennybrown8 at gmail.com> wrote:
>>>>>> 
>>>>>> I am maintaining R installations and packages for a large number of OS X
>>>>>> machines.  A recent change from Apple is making the R installation more
>>>>>> awkward, and I'm trying to determine the best path forward with minimal
>>>>>> maintenance headaches.
>>>>>> 
>>>>>> 
>>>>>> Recently, XCode 7's release on Yosemite 10.10 broke compilation of "brew
>>>>>> install --with-fortran gcc48" which is a pre-requisite for compiling
>>>>>> third
>>>>>> party R packages that use fortran.  (XCode 7 eliminates the 10.9 and
>>>>>> 10.10
>>>>>> SDKs and only provides 10.11 which is El Capitan's... so even though
>>>>>> XCode
>>>>>> 7 installs on Yosemite, it can not build for Yosemite, which causes gcc
>>>>>> trouble.  Lots of opensource devs are commenting on this on various
>>>>>> projects.)
>>>>>> 
>>>>>> It appears that the binary installs of R for OS X (3.1 through 3.2.2)
>>>>>> were
>>>>>> all built against gcc 4.8.  I've discovered that gcc 5.2 builds properly
>>>>>> on
>>>>>> Yosemite, even with XCode 7, and R can be compiled with gcc 5.2.
>>>>>> 
>>>>>> However, even the latest R (3.2.2) on cran.rstudio.com appears to be
>>>>>> built
>>>>>> by default with gcc 4.8 -- are there plans to move to gcc 5.2?
>>>>>> Presumably
>>>>>> the breakage I'm seeing where gcc 4.8 can't use the xcode 7 10.11 SDK
>>>>>> would
>>>>>> also occur on El Capitan, so gcc 5.2 would be a necessary upgrade there
>>>>>> too.
>>>>>> 
>>>>>> Right now my choices for getting R to work with my third-party fortran
>>>>>> packages appear to be: manually downgrade xcode to 6.4 for Yosemite; or,
>>>>>> maintain my own compilation of R against gcc 5.2, for each of Yosemite
>>>>>> and
>>>>>> El Capitan.  Both have their downsides, and I hope to be able to return
>>>>>> to
>>>>>> the normal public binary R distribution sooner rather than later.
>>>>>> 
>>>>>> What's on the roadmap for upcoming upgrades and compatibility?  Thanks.
>>>>>> 
>>>>>>        [[alternative HTML version deleted]]
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> 
>>>> 
>>>> --
>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>> Emeritus Professor of Applied Statistics, University of Oxford
>>>> 1 South Parks Road, Oxford OX1 3TG, UK
>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>>> 	[[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Emeritus Professor of Applied Statistics, University of Oxford
> 1 South Parks Road, Oxford OX1 3TG, UK
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ripley at stats.ox.ac.uk  Tue Oct 13 17:30:55 2015
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 13 Oct 2015 16:30:55 +0100
Subject: [R-SIG-Mac] XCode / gcc / R compatibility issues on Yosemite
 with XCode 7 and on El Capitan
In-Reply-To: <30809F65-67DE-4001-B30F-8FB9D42F164F@xs4all.nl>
References: <CAGfXKaHaPyWZLgPnNFu16m3H1ehURsLZuajUzoU5UozrWFJY_A@mail.gmail.com>
	<C10B20E5-0EBE-4D52-A07F-5557AEC1F315@r-project.org>
	<56160E23.1020204@stats.ox.ac.uk>
	<CAGfXKaGmoRR5wgU6OKWJL2N2j0RfK9igOpVnV28TaGXq=QfvNg@mail.gmail.com>
	<9F0B5BEA-76C2-43BF-941E-B9F3DDA900A1@r-project.org>
	<561D11C7.3000302@stats.ox.ac.uk>
	<30809F65-67DE-4001-B30F-8FB9D42F164F@xs4all.nl>
Message-ID: <561D23AF.7080004@stats.ox.ac.uk>

On 13/10/2015 16:07, Berend Hasselman wrote:
>
>> On 13 Oct 2015, at 16:14, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>
>> On 13/10/2015 14:36, Simon Urbanek wrote:
>>>
>>> On Oct 12, 2015, at 4:22 PM, Jenny Brown <jennybrown8 at gmail.com> wrote:
>>>
>>>> Thank you to both of you.  I believe my issue is solved by using the binary
>>>> distribution of gfortran libraries, as it was dynamic linking that was
>>>> causing me the most headache.  And that seems to solve that.
>>>>
>>>> I still have to modify the etc/Makeconf file to use the right directory for
>>>> -L and the right library name for gfortran .... it comes written as
>>>> gfortran-4.8 in the Makeconf but that gives a not-found on my system.
>>>
>>>
>>> It means you're not using the Fortran we use (as I said below) - see
>>> http://r.research.att.com/libs/gfortran-4.8.2-darwin13.tar.bz2
>>
>> Also, you do not need to modify etc/Makeconf ... the manual says
>>
>> 'The default compilers specified in /Library/Frameworks/R.framework/Resources/etc/Makeconf depend on the version of OS X under which R was installed, and are appropriate to the latest version of the command-line tools for that version of OS X. The settings can be changed, either by editing that file or in a file such as ~/.R/Makevars (see the next section).'
>>
>> I have in ~/.R/Makevars on my laptop
>>
>> F77 = /usr/local/gfortran/bin/gfortran
>> FC = /usr/local/gfortran/bin/gfortran
>> FLIBS =  -L/usr/local/gfortran/lib/gcc/x86_64-apple-darwin14/5.2.0 -L/usr/local/gfortran/lib -lgfortran -lquadmath -lm
>>
>>
>
> This is Coudert?s gfortran, I presume?

Yes (but that was only meant as an illustration of what can be done).

> Can it be used together with R binary provided by CRAN and Simon?
> Or would one have to recompile R from scratch using Coudert?s gfortran?

It can.  The CRAN R binary is self-contained (it contains libgfortran 
etc in R_HOME/lib).  You can use any Fortran compiler with it to compile 
a Fortran-using package.  (There might be problems with finding the 
runtime components such as libgfortran.dylib from 
/usr/local/gfortran/lib, but this seems usually to just work and the way 
we use the OS X linker the absolute paths are captured at link time.)


>
> Berend
>
>>
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>
>>>>   I'm
>>>> not entirely clear on when the Makeconf is initially written during a
>>>> binary install of R.  But it does seem that I can adjust the lines related
>>>> to fortran and get it to work for compiling my source packages.
>>>>
>>>> Thanks!
>>>>
>>>>
>>>>
>>>>
>>>> On Thu, Oct 8, 2015 at 1:33 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>> wrote:
>>>>
>>>>> On 08/10/2015 02:37, Simon Urbanek wrote:
>>>>>
>>>>>> Jenny,
>>>>>>
>>>>>> I suspect you may not have the correct information. The CRAN Mavericks
>>>>>> binary of R is not built with gcc, it's actually build using Apple clang
>>>>>> and we're neither using nor requiring homebrew, so most of what you are
>>>>>> describing doesn't make sense to me. I have tested Xcode 7 with the
>>>>>> gfortran-4.8 we supply and it works just fine on 10.11 (tested on Hmisc). I
>>>>>> have only 10.6, 10.9 and 10.11 so I can't check 10.10, but I would
>>>>>> certainly recommend building on 10.9 with Xcode 6 for compatibility (that's
>>>>>> what we do for CRAN). If you don't care about binary compatibility then
>>>>>> Xcode 7 on 10.11 is fine (FWIW Hmisc package compiled on 10.11 actually
>>>>>> works for me on 10.9 so it could even be that you may get away with using
>>>>>> 10.11 if you don't use system dependencies with higher versions).
>>>>>>
>>>>>
>>>>> It also works for me on 10.10.  If the 'Command Line Tools OS X 10 for
>>>>> Xcode 7' Apple package is installed on 10.10 (specifically file
>>>>> http://adcdownload.apple.com/Developer_Tools/Command_Line_Tools_OS_X_10.10_for_Xcode_7/Command_Line_Tools_OS_X_10.10_for_Xcode_7.dmg),
>>>>> it installs
>>>>>
>>>>> % clang --version
>>>>> Apple LLVM version 7.0.0 (clang-700.0.74)
>>>>> Target: x86_64-apple-darwin14.5.0
>>>>>
>>>>> hence targets OS X 10.10 aka Darwin 14.  My 10.10 machine does not have
>>>>> Xcode installed, only the CLT: you do not need Xcode's SDKs to compile R
>>>>> nor any CRAN package.  (You do need Xcode to compile R.app.)
>>>>>
>>>>> For Fortran on Yosemite/El Capitan I use the gfortran 5.2 build at the
>>>>> sites given in the current R-admin manual ('Other builds of gfortran are
>>>>> available: see https://gcc.gnu.org/wiki/GFortranBinaries and
>>>>> http://coudert.name/software.html').  My recollection is that the
>>>>> 'gfortran-4.8 for Mavericks' on r.research.att.com does compile all but
>>>>> one of the CRAN packages on Yosemite (SWATmodel which compiles executables
>>>>> from Fortran code), in some cases with warnings.
>>>>>
>>>>> Note that any recent(ish) build of gfortran will have dynamic libgfortran
>>>>> and libquadmath libraries, and installations of most Fortran-using packages
>>>>> will link to these.  So you either need to install those libraries on all
>>>>> the machines or arrange for the packages you distribute to point to the
>>>>> copies in the CRAN build (in R_HOME/lib) as is done for the CRAN binary
>>>>> packages.  (I believe they are post-processed by
>>>>> https://svn.r-project.org/R-dev-web/trunk/CRAN/QA/Simon/packages/1.fixr
>>>>> .)  My recollection is that a very few packages also link to libgcc_s, also
>>>>> in R_HOME/lib.
>>>>>
>>>>>
>>>>>
>>>>> Cheers,
>>>>>> Simon
>>>>>>
>>>>>>
>>>>>> On Oct 7, 2015, at 10:47 AM, Jenny Brown <jennybrown8 at gmail.com> wrote:
>>>>>>>
>>>>>>> I am maintaining R installations and packages for a large number of OS X
>>>>>>> machines.  A recent change from Apple is making the R installation more
>>>>>>> awkward, and I'm trying to determine the best path forward with minimal
>>>>>>> maintenance headaches.
>>>>>>>
>>>>>>>
>>>>>>> Recently, XCode 7's release on Yosemite 10.10 broke compilation of "brew
>>>>>>> install --with-fortran gcc48" which is a pre-requisite for compiling
>>>>>>> third
>>>>>>> party R packages that use fortran.  (XCode 7 eliminates the 10.9 and
>>>>>>> 10.10
>>>>>>> SDKs and only provides 10.11 which is El Capitan's... so even though
>>>>>>> XCode
>>>>>>> 7 installs on Yosemite, it can not build for Yosemite, which causes gcc
>>>>>>> trouble.  Lots of opensource devs are commenting on this on various
>>>>>>> projects.)
>>>>>>>
>>>>>>> It appears that the binary installs of R for OS X (3.1 through 3.2.2)
>>>>>>> were
>>>>>>> all built against gcc 4.8.  I've discovered that gcc 5.2 builds properly
>>>>>>> on
>>>>>>> Yosemite, even with XCode 7, and R can be compiled with gcc 5.2.
>>>>>>>
>>>>>>> However, even the latest R (3.2.2) on cran.rstudio.com appears to be
>>>>>>> built
>>>>>>> by default with gcc 4.8 -- are there plans to move to gcc 5.2?
>>>>>>> Presumably
>>>>>>> the breakage I'm seeing where gcc 4.8 can't use the xcode 7 10.11 SDK
>>>>>>> would
>>>>>>> also occur on El Capitan, so gcc 5.2 would be a necessary upgrade there
>>>>>>> too.
>>>>>>>
>>>>>>> Right now my choices for getting R to work with my third-party fortran
>>>>>>> packages appear to be: manually downgrade xcode to 6.4 for Yosemite; or,
>>>>>>> maintain my own compilation of R against gcc 5.2, for each of Yosemite
>>>>>>> and
>>>>>>> El Capitan.  Both have their downsides, and I hope to be able to return
>>>>>>> to
>>>>>>> the normal public binary R distribution sooner rather than later.
>>>>>>>
>>>>>>> What's on the roadmap for upcoming upgrades and compatibility?  Thanks.
>>>>>>>
>>>>>>>         [[alternative HTML version deleted]]
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>
>>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>>
>>>>>
>>>>> --
>>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>>> Emeritus Professor of Applied Statistics, University of Oxford
>>>>> 1 South Parks Road, Oxford OX1 3TG, UK
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>
>>>> 	[[alternative HTML version deleted]]
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>
>>
>> --
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Emeritus Professor of Applied Statistics, University of Oxford
>> 1 South Parks Road, Oxford OX1 3TG, UK
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK


From jfox at mcmaster.ca  Tue Oct 13 20:54:54 2015
From: jfox at mcmaster.ca (Fox, John)
Date: Tue, 13 Oct 2015 18:54:54 +0000
Subject: [R-SIG-Mac] rgl crashes R.app under El Capitan
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC810F2F450@FHSDB2D11-2.csu.mcmaster.ca>

Dear r-sig-mac list members,

The following reliably crashes R.app for R 3.2.2 under El Capitan (at least for me):

library(rgl)
demo("rgl") # press return a few times

My session info:

> sessionInfo()
R version 3.2.2 (2015-08-14)
Platform: x86_64-apple-darwin13.4.0 (64-bit)
Running under: OS X 10.11 (El Capitan)

locale:
[1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] rgl_0.95.1367

As far as I can tell, this problem occurs only in R.app, not when R is run from a terminal, nor in RStudio.

The problem was brought to my attention by Jos? Conde (whom I've cc'd this message), who encountered the problem using the scatter3d() function from the car package through the Rcmdr GUI -- but the problem apparently isn't specific either to the Rcmdr or to scatter3d().

In the case of scatter3d(), the problem occurs only when displaying a regression surface, as in

scatter3d(prestige ~ income + education, data=Prestige)

but not in

scatter3d(prestige ~ income + education, data=Prestige, surface=FALSE)

I hope that this provides enough clues to resolve the problem.

Best,
 John
-----------------------------
John Fox, Professor
McMaster University
Hamilton, Ontario
Canada L8S 4M4
web: socserv.mcmaster.ca/jfox


From jfox at mcmaster.ca  Tue Oct 13 21:03:56 2015
From: jfox at mcmaster.ca (Fox, John)
Date: Tue, 13 Oct 2015 19:03:56 +0000
Subject: [R-SIG-Mac] rgl crashes R.app in El Capitan
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC810F2F468@FHSDB2D11-2.csu.mcmaster.ca>

Dear r-sig-mac list members,

I can reliably crash R.app in R 3.2.2 under El Capitan with

  library(rgl)
  demo("rgl")  # a few returns

My session info:

> sessionInfo()
R version 3.2.2 (2015-08-14)
Platform: x86_64-apple-darwin13.4.0 (64-bit)
Running under: OS X 10.11 (El Capitan)

locale:
[1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] rgl_0.95.1367

I see this problem only in R.app, not when R is run in a terminal or in RStudio.

This problem was original brought to my attention by Jose Conde (to whom I'm cc'ing this message), who encountered the problem using the scatter3d() function in the car package via the Rcmdr, but the problem isn't unique to either scatter3d() or the Rcmdr. In the case of scatter3d() the command

    scatter3d(prestige ~ income + education, data=Prestige)

which draws a regression surface, reliably crashes R.app, but

    scatter3d(prestige ~ income + education, data=Prestige, surface=FALSE)

which plots only points (as spheres) doesn't.

I hope that this provides enough clues to diagnose the problem.

John

-----------------------------
John Fox, Professor
McMaster University
Hamilton, Ontario
Canada L8S 4M4
web: socserv.mcmaster.ca/jfox



From murdoch.duncan at gmail.com  Tue Oct 13 21:33:39 2015
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 13 Oct 2015 15:33:39 -0400
Subject: [R-SIG-Mac] rgl crashes R.app in El Capitan
In-Reply-To: <ACD1644AA6C67E4FBD0C350625508EC810F2F468@FHSDB2D11-2.csu.mcmaster.ca>
References: <ACD1644AA6C67E4FBD0C350625508EC810F2F468@FHSDB2D11-2.csu.mcmaster.ca>
Message-ID: <561D5C93.2080603@stats.uwo.ca>

On 13/10/2015 3:03 PM, Fox, John wrote:
> Dear r-sig-mac list members,
>
> I can reliably crash R.app in R 3.2.2 under El Capitan with
>
>   library(rgl)
>   demo("rgl")  # a few returns
>
> My session info:
>
>> sessionInfo()
> R version 3.2.2 (2015-08-14)
> Platform: x86_64-apple-darwin13.4.0 (64-bit)
> Running under: OS X 10.11 (El Capitan)
>
> locale:
> [1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
>
> other attached packages:
> [1] rgl_0.95.1367
>
> I see this problem only in R.app, not when R is run in a terminal or in RStudio.
>
> This problem was original brought to my attention by Jose Conde (to whom I'm cc'ing this message), who encountered the problem using the scatter3d() function in the car package via the Rcmdr, but the problem isn't unique to either scatter3d() or the Rcmdr. In the case of scatter3d() the command
>
>     scatter3d(prestige ~ income + education, data=Prestige)
>
> which draws a regression surface, reliably crashes R.app, but
>
>     scatter3d(prestige ~ income + education, data=Prestige, surface=FALSE)
>
> which plots only points (as spheres) doesn't.
>
> I hope that this provides enough clues to diagnose the problem.
>
>

I don't have El Capitan, I'm still running under OS X 10.9.5
(Mavericks), and it doesn't crash.

Since you're using the latest rgl, you must have built it yourself --
CRAN doesn't distribute binaries for it (at least for Mavericks).  Did
you get any errors or warnings during compilation?

Duncan Murdoch


From jfox at mcmaster.ca  Tue Oct 13 22:05:44 2015
From: jfox at mcmaster.ca (Fox, John)
Date: Tue, 13 Oct 2015 20:05:44 +0000
Subject: [R-SIG-Mac] rgl crashes R.app in El Capitan
In-Reply-To: <561D5C93.2080603@stats.uwo.ca>
References: <ACD1644AA6C67E4FBD0C350625508EC810F2F468@FHSDB2D11-2.csu.mcmaster.ca>
	<561D5C93.2080603@stats.uwo.ca>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC810F2F557@FHSDB2D11-2.csu.mcmaster.ca>

Dear Duncan,

> -----Original Message-----
> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
> Sent: Tuesday, October 13, 2015 3:34 PM
> To: Fox, John; r-sig-mac at r-project.org
> Cc: jose.conde1 at upr.edu
> Subject: Re: rgl crashes R.app in El Capitan
> 
> On 13/10/2015 3:03 PM, Fox, John wrote:
> > Dear r-sig-mac list members,
> >
> > I can reliably crash R.app in R 3.2.2 under El Capitan with
> >
> >   library(rgl)
> >   demo("rgl")  # a few returns
> >
> > My session info:
> >
> >> sessionInfo()
> > R version 3.2.2 (2015-08-14)
> > Platform: x86_64-apple-darwin13.4.0 (64-bit)
> > Running under: OS X 10.11 (El Capitan)
> >
> > locale:
> > [1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8
> >
> > attached base packages:
> > [1] stats     graphics  grDevices utils     datasets  methods   base
> >
> > other attached packages:
> > [1] rgl_0.95.1367
> >
> > I see this problem only in R.app, not when R is run in a terminal or
> in RStudio.
> >
> > This problem was original brought to my attention by Jose Conde (to
> whom I'm cc'ing this message), who encountered the problem using the
> scatter3d() function in the car package via the Rcmdr, but the problem
> isn't unique to either scatter3d() or the Rcmdr. In the case of
> scatter3d() the command
> >
> >     scatter3d(prestige ~ income + education, data=Prestige)
> >
> > which draws a regression surface, reliably crashes R.app, but
> >
> >     scatter3d(prestige ~ income + education, data=Prestige,
> surface=FALSE)
> >
> > which plots only points (as spheres) doesn't.
> >
> > I hope that this provides enough clues to diagnose the problem.
> >
> >
> 
> I don't have El Capitan, I'm still running under OS X 10.9.5
> (Mavericks), and it doesn't crash.

That was my experience as well -- I didn't experience this problem under either Mavericks or Yosemite. BTW, I reinstalled R 3.2.2 and XQuartz after upgrading to El Capitan. I usually upgrade fairly early to see whether there are any problems.

> 
> Since you're using the latest rgl, you must have built it yourself --
> CRAN doesn't distribute binaries for it (at least for Mavericks).  Did
> you get any errors or warnings during compilation?

Right again. I ran update.packages() to make sure that the error wasn't fixed and compiled packages that didn't yet have Mac binaries. AFAICS, there were no errors in compiling the rgl package.

BTW, my apologies for posting my message twice -- my mailer complained about the address in the first message and I thought it wasn't sent.

Thanks for looking into this,
 John

> 
> Duncan Murdoch


From davide.radice at gmail.com  Wed Oct 14 10:26:23 2015
From: davide.radice at gmail.com (Davide Radice)
Date: Wed, 14 Oct 2015 10:26:23 +0200
Subject: [R-SIG-Mac] function data.entry() doesn't work and generate error
Message-ID: <CAANwfNf9LSoO_xY8Udr30V=TZ1yiana0SeQofh4AYiY2OrM9Ng@mail.gmail.com>

Hi to all.

Function data.entry() doesn't work and generate error on Mac OS X
10.11 with R version 3.2.2 (installed via Homebrew).

************
> cheese = c(1,2,3)
> data.entry(cheese)
error: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/otool:
can't open file:
/usr/local/Cellar/r/3.2.2_1/R.framework/Resources/modules/R_de.so (No
such file or directory)
Error in dataentry(odata, as.list(Modes)) : X11 is not available
Inoltre: Warning message:
running command ''/usr/bin/otool' -L
'/usr/local/Cellar/r/3.2.2_1/R.framework/Resources/modules/R_de.so''
had status 1
************

It seems that is due to the lack of a file in modules folder. In
folder /usr/local/Cellar/r/3.2.2_1/R.framework/Resources/modules/ I
can find only these two files:
internet.so
lapack.so

My configuration:

R:
R version 3.2.2 (2015-08-14) -- "Fire Safety"
Copyright (C) 2015 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin15.0.0 (64-bit)

Operative system:
System Version: OS X 10.11 (15A284)
Kernel Version: Darwin 15.0.0

brew:
0.9.5 (git revision bfbc3f; last commit 2015-10-13)

Hardware:
Model Name: iMac
Model Identifier: iMac14,2
Processor Name: Intel Core i5
Processor Speed: 3,2 GHz

Thank you


--
Davide Radice
Blog: http://www.analisilaica.it
Facebook: http://www.facebook.com/davide.radice
Twitter: https://twitter.com/davideradice


From ripley at stats.ox.ac.uk  Wed Oct 14 11:37:20 2015
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 14 Oct 2015 10:37:20 +0100
Subject: [R-SIG-Mac] function data.entry() doesn't work and generate
	error
In-Reply-To: <CAANwfNf9LSoO_xY8Udr30V=TZ1yiana0SeQofh4AYiY2OrM9Ng@mail.gmail.com>
References: <CAANwfNf9LSoO_xY8Udr30V=TZ1yiana0SeQofh4AYiY2OrM9Ng@mail.gmail.com>
Message-ID: <561E2250.9090306@stats.ox.ac.uk>

Well, it appears that your build (which is not one of those supported 
here) did not include X11, and that must have been purposely excluded.

So the error is correct and the warning adds information ....  To use 
data.entry() you need to be using R.app, Windows or have R compiled to 
use X11 and and X server available.

Note that building R as a framework only makes sense if you install the 
framework in a standard location, not /usr/local/Cellar/r/3.2.2_1/ .

On 14/10/2015 09:26, Davide Radice wrote:
> Hi to all.
>
> Function data.entry() doesn't work and generate error on Mac OS X
> 10.11 with R version 3.2.2 (installed via Homebrew).
>
> ************
>> cheese = c(1,2,3)
>> data.entry(cheese)
> error: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/otool:
> can't open file:
> /usr/local/Cellar/r/3.2.2_1/R.framework/Resources/modules/R_de.so (No
> such file or directory)
> Error in dataentry(odata, as.list(Modes)) : X11 is not available
> Inoltre: Warning message:
> running command ''/usr/bin/otool' -L
> '/usr/local/Cellar/r/3.2.2_1/R.framework/Resources/modules/R_de.so''
> had status 1
> ************
>
> It seems that is due to the lack of a file in modules folder. In
> folder /usr/local/Cellar/r/3.2.2_1/R.framework/Resources/modules/ I
> can find only these two files:
> internet.so
> lapack.so
>
> My configuration:
>
> R:
> R version 3.2.2 (2015-08-14) -- "Fire Safety"
> Copyright (C) 2015 The R Foundation for Statistical Computing
> Platform: x86_64-apple-darwin15.0.0 (64-bit)
>
> Operative system:
> System Version: OS X 10.11 (15A284)
> Kernel Version: Darwin 15.0.0
>
> brew:
> 0.9.5 (git revision bfbc3f; last commit 2015-10-13)
>
> Hardware:
> Model Name: iMac
> Model Identifier: iMac14,2
> Processor Name: Intel Core i5
> Processor Speed: 3,2 GHz
>
> Thank you
>
>
> --
> Davide Radice
> Blog: http://www.analisilaica.it
> Facebook: http://www.facebook.com/davide.radice
> Twitter: https://twitter.com/davideradice
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK


From pdalgd at gmail.com  Wed Oct 14 13:45:23 2015
From: pdalgd at gmail.com (peter dalgaard)
Date: Wed, 14 Oct 2015 13:45:23 +0200
Subject: [R-SIG-Mac] function data.entry() doesn't work and generate
	error
In-Reply-To: <561E2250.9090306@stats.ox.ac.uk>
References: <CAANwfNf9LSoO_xY8Udr30V=TZ1yiana0SeQofh4AYiY2OrM9Ng@mail.gmail.com>
	<561E2250.9090306@stats.ox.ac.uk>
Message-ID: <AD7B10AA-25EC-479B-A248-5C72FA1EB4B5@gmail.com>


On 14 Oct 2015, at 11:37 , Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:

> Well, it appears that your build (which is not one of those supported here) did not include X11, and that must have been purposely excluded.
> 
> So the error is correct and the warning adds information ....  To use data.entry() you need to be using R.app, Windows or have R compiled to use X11 and and X server available.
> 
> Note that building R as a framework only makes sense if you install the framework in a standard location, not /usr/local/Cellar/r/3.2.2_1/ .

...but isn't the Cellar a standard location for keeping homebrewed beverages? 

At any rate, this needs to be taken up with homebrew experts. There may well be a switch to turn on X11 support, but I suspect not many on this list has the know-how.

-pd 


> 
> On 14/10/2015 09:26, Davide Radice wrote:
>> Hi to all.
>> 
>> Function data.entry() doesn't work and generate error on Mac OS X
>> 10.11 with R version 3.2.2 (installed via Homebrew).
>> 
>> ************
>>> cheese = c(1,2,3)
>>> data.entry(cheese)
>> error: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/otool:
>> can't open file:
>> /usr/local/Cellar/r/3.2.2_1/R.framework/Resources/modules/R_de.so (No
>> such file or directory)
>> Error in dataentry(odata, as.list(Modes)) : X11 is not available
>> Inoltre: Warning message:
>> running command ''/usr/bin/otool' -L
>> '/usr/local/Cellar/r/3.2.2_1/R.framework/Resources/modules/R_de.so''
>> had status 1
>> ************
>> 
>> It seems that is due to the lack of a file in modules folder. In
>> folder /usr/local/Cellar/r/3.2.2_1/R.framework/Resources/modules/ I
>> can find only these two files:
>> internet.so
>> lapack.so
>> 
>> My configuration:
>> 
>> R:
>> R version 3.2.2 (2015-08-14) -- "Fire Safety"
>> Copyright (C) 2015 The R Foundation for Statistical Computing
>> Platform: x86_64-apple-darwin15.0.0 (64-bit)
>> 
>> Operative system:
>> System Version: OS X 10.11 (15A284)
>> Kernel Version: Darwin 15.0.0
>> 
>> brew:
>> 0.9.5 (git revision bfbc3f; last commit 2015-10-13)
>> 
>> Hardware:
>> Model Name: iMac
>> Model Identifier: iMac14,2
>> Processor Name: Intel Core i5
>> Processor Speed: 3,2 GHz
>> 
>> Thank you
>> 
>> 
>> --
>> Davide Radice
>> Blog: http://www.analisilaica.it
>> Facebook: http://www.facebook.com/davide.radice
>> Twitter: https://twitter.com/davideradice
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Emeritus Professor of Applied Statistics, University of Oxford
> 1 South Parks Road, Oxford OX1 3TG, UK
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From ripley at stats.ox.ac.uk  Wed Oct 14 13:54:09 2015
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 14 Oct 2015 12:54:09 +0100
Subject: [R-SIG-Mac] function data.entry() doesn't work and generate
	error
In-Reply-To: <AD7B10AA-25EC-479B-A248-5C72FA1EB4B5@gmail.com>
References: <CAANwfNf9LSoO_xY8Udr30V=TZ1yiana0SeQofh4AYiY2OrM9Ng@mail.gmail.com>
	<561E2250.9090306@stats.ox.ac.uk>
	<AD7B10AA-25EC-479B-A248-5C72FA1EB4B5@gmail.com>
Message-ID: <561E4261.3040801@stats.ox.ac.uk>

On 14/10/2015 12:45, peter dalgaard wrote:
>
> On 14 Oct 2015, at 11:37 , Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>
>> Well, it appears that your build (which is not one of those supported here) did not include X11, and that must have been purposely excluded.
>>
>> So the error is correct and the warning adds information ....  To use data.entry() you need to be using R.app, Windows or have R compiled to use X11 and and X server available.
>>
>> Note that building R as a framework only makes sense if you install the framework in a standard location, not /usr/local/Cellar/r/3.2.2_1/ .
>
> ...but isn't the Cellar a standard location for keeping homebrewed beverages?

But not for a framework:

'Note: The standard locations for frameworks are the 
/System/Library/Frameworks directory and the /Library/Frameworks 
directory on the local system.'

[https://developer.apple.com/library/mac/documentation/MacOSX/Conceptual/BPFrameworks/Tasks/IncludingFrameworks.html]

>
> At any rate, this needs to be taken up with homebrew experts. There may well be a switch to turn on X11 support, but I suspect not many on this list has the know-how.
>
> -pd
>
>
>>
>> On 14/10/2015 09:26, Davide Radice wrote:
>>> Hi to all.
>>>
>>> Function data.entry() doesn't work and generate error on Mac OS X
>>> 10.11 with R version 3.2.2 (installed via Homebrew).
>>>
>>> ************
>>>> cheese = c(1,2,3)
>>>> data.entry(cheese)
>>> error: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/otool:
>>> can't open file:
>>> /usr/local/Cellar/r/3.2.2_1/R.framework/Resources/modules/R_de.so (No
>>> such file or directory)
>>> Error in dataentry(odata, as.list(Modes)) : X11 is not available
>>> Inoltre: Warning message:
>>> running command ''/usr/bin/otool' -L
>>> '/usr/local/Cellar/r/3.2.2_1/R.framework/Resources/modules/R_de.so''
>>> had status 1
>>> ************
>>>
>>> It seems that is due to the lack of a file in modules folder. In
>>> folder /usr/local/Cellar/r/3.2.2_1/R.framework/Resources/modules/ I
>>> can find only these two files:
>>> internet.so
>>> lapack.so
>>>
>>> My configuration:
>>>
>>> R:
>>> R version 3.2.2 (2015-08-14) -- "Fire Safety"
>>> Copyright (C) 2015 The R Foundation for Statistical Computing
>>> Platform: x86_64-apple-darwin15.0.0 (64-bit)
>>>
>>> Operative system:
>>> System Version: OS X 10.11 (15A284)
>>> Kernel Version: Darwin 15.0.0
>>>
>>> brew:
>>> 0.9.5 (git revision bfbc3f; last commit 2015-10-13)
>>>
>>> Hardware:
>>> Model Name: iMac
>>> Model Identifier: iMac14,2
>>> Processor Name: Intel Core i5
>>> Processor Speed: 3,2 GHz
>>>
>>> Thank you
>>>
>>>
>>> --
>>> Davide Radice
>>> Blog: http://www.analisilaica.it
>>> Facebook: http://www.facebook.com/davide.radice
>>> Twitter: https://twitter.com/davideradice
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>>
>> --
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Emeritus Professor of Applied Statistics, University of Oxford
>> 1 South Parks Road, Oxford OX1 3TG, UK
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK


From pdalgd at gmail.com  Wed Oct 14 14:09:58 2015
From: pdalgd at gmail.com (peter dalgaard)
Date: Wed, 14 Oct 2015 14:09:58 +0200
Subject: [R-SIG-Mac] function data.entry() doesn't work and generate
	error
In-Reply-To: <561E4261.3040801@stats.ox.ac.uk>
References: <CAANwfNf9LSoO_xY8Udr30V=TZ1yiana0SeQofh4AYiY2OrM9Ng@mail.gmail.com>
	<561E2250.9090306@stats.ox.ac.uk>
	<AD7B10AA-25EC-479B-A248-5C72FA1EB4B5@gmail.com>
	<561E4261.3040801@stats.ox.ac.uk>
Message-ID: <B2A75730-27F7-45A2-ABC2-557A10D2EE6C@gmail.com>


On 14 Oct 2015, at 13:54 , Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:

> On 14/10/2015 12:45, peter dalgaard wrote:
>> 
>> On 14 Oct 2015, at 11:37 , Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>> 
>>> Well, it appears that your build (which is not one of those supported here) did not include X11, and that must have been purposely excluded.
>>> 
>>> So the error is correct and the warning adds information ....  To use data.entry() you need to be using R.app, Windows or have R compiled to use X11 and and X server available.
>>> 
>>> Note that building R as a framework only makes sense if you install the framework in a standard location, not /usr/local/Cellar/r/3.2.2_1/ .
>> 
>> ...but isn't the Cellar a standard location for keeping homebrewed beverages?
> 
> But not for a framework:
> 
> 'Note: The standard locations for frameworks are the /System/Library/Frameworks directory and the /Library/Frameworks directory on the local system.'
> 
> [https://developer.apple.com/library/mac/documentation/MacOSX/Conceptual/BPFrameworks/Tasks/IncludingFrameworks.html]

So there's a standard standard and a homebrew standard? ;-)

Now you have made me curious: What specifically does not make sense with R as a framework in a nonstandard location? (Looks like Python and Qt do likewise.)

-pd

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From ripley at stats.ox.ac.uk  Wed Oct 14 14:52:57 2015
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 14 Oct 2015 13:52:57 +0100
Subject: [R-SIG-Mac] function data.entry() doesn't work and generate
	error
In-Reply-To: <B2A75730-27F7-45A2-ABC2-557A10D2EE6C@gmail.com>
References: <CAANwfNf9LSoO_xY8Udr30V=TZ1yiana0SeQofh4AYiY2OrM9Ng@mail.gmail.com>
	<561E2250.9090306@stats.ox.ac.uk>
	<AD7B10AA-25EC-479B-A248-5C72FA1EB4B5@gmail.com>
	<561E4261.3040801@stats.ox.ac.uk>
	<B2A75730-27F7-45A2-ABC2-557A10D2EE6C@gmail.com>
Message-ID: <561E5029.1000403@stats.ox.ac.uk>

On 14/10/2015 13:09, peter dalgaard wrote:
>
> On 14 Oct 2015, at 13:54 , Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>
>> On 14/10/2015 12:45, peter dalgaard wrote:
>>>
>>> On 14 Oct 2015, at 11:37 , Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>>
>>>> Well, it appears that your build (which is not one of those supported here) did not include X11, and that must have been purposely excluded.
>>>>
>>>> So the error is correct and the warning adds information ....  To use data.entry() you need to be using R.app, Windows or have R compiled to use X11 and and X server available.
>>>>
>>>> Note that building R as a framework only makes sense if you install the framework in a standard location, not /usr/local/Cellar/r/3.2.2_1/ .
>>>
>>> ...but isn't the Cellar a standard location for keeping homebrewed beverages?
>>
>> But not for a framework:
>>
>> 'Note: The standard locations for frameworks are the /System/Library/Frameworks directory and the /Library/Frameworks directory on the local system.'
>>
>> [https://developer.apple.com/library/mac/documentation/MacOSX/Conceptual/BPFrameworks/Tasks/IncludingFrameworks.html]
>
> So there's a standard standard and a homebrew standard? ;-)
>
> Now you have made me curious: What specifically does not make sense with R as a framework in a nonstandard location? (Looks like Python and Qt do likewise.)
>

Time to read the manual (?C 3.6) ....  Building R as a framework is 
designed to be used with R.app (or conceivably another app front end), 
and such apps only look in Apple standard locations.  And there are 
definite drawbacks (see the manual).

The Qt frameworks I had installed were in a standard location 
(/Library/Frameworks).  And my Python framework is installed in 
/System/Library/Frameworks.



-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK


From davide.radice at gmail.com  Wed Oct 14 18:02:30 2015
From: davide.radice at gmail.com (Davide Radice)
Date: Wed, 14 Oct 2015 18:02:30 +0200
Subject: [R-SIG-Mac] function data.entry() doesn't work and generate
	error
In-Reply-To: <561E2250.9090306@stats.ox.ac.uk>
References: <CAANwfNf9LSoO_xY8Udr30V=TZ1yiana0SeQofh4AYiY2OrM9Ng@mail.gmail.com>
	<561E2250.9090306@stats.ox.ac.uk>
Message-ID: <CAANwfNcziok6HvXx39Je9zf_OLd1Va5p-biwguu+VufLwNCXdw@mail.gmail.com>

Brian,

Compiling with

brew install R --with-x11

it works.

Thank you for your reply.
--
Davide Radice
Blog: http://www.analisilaica.it
Facebook: http://www.facebook.com/davide.radice
Twitter: https://twitter.com/davideradice


2015-10-14 11:37 GMT+02:00 Prof Brian Ripley <ripley at stats.ox.ac.uk>:
> Well, it appears that your build (which is not one of those supported here)
> did not include X11, and that must have been purposely excluded.
>
> So the error is correct and the warning adds information ....  To use
> data.entry() you need to be using R.app, Windows or have R compiled to use
> X11 and and X server available.
>
> Note that building R as a framework only makes sense if you install the
> framework in a standard location, not /usr/local/Cellar/r/3.2.2_1/ .
>
>
> On 14/10/2015 09:26, Davide Radice wrote:
>>
>> Hi to all.
>>
>> Function data.entry() doesn't work and generate error on Mac OS X
>> 10.11 with R version 3.2.2 (installed via Homebrew).
>>
>> ************
>>>
>>> cheese = c(1,2,3)
>>> data.entry(cheese)
>>
>> error:
>> /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/otool:
>> can't open file:
>> /usr/local/Cellar/r/3.2.2_1/R.framework/Resources/modules/R_de.so (No
>> such file or directory)
>> Error in dataentry(odata, as.list(Modes)) : X11 is not available
>> Inoltre: Warning message:
>> running command ''/usr/bin/otool' -L
>> '/usr/local/Cellar/r/3.2.2_1/R.framework/Resources/modules/R_de.so''
>> had status 1
>> ************
>>
>> It seems that is due to the lack of a file in modules folder. In
>> folder /usr/local/Cellar/r/3.2.2_1/R.framework/Resources/modules/ I
>> can find only these two files:
>> internet.so
>> lapack.so
>>
>> My configuration:
>>
>> R:
>> R version 3.2.2 (2015-08-14) -- "Fire Safety"
>> Copyright (C) 2015 The R Foundation for Statistical Computing
>> Platform: x86_64-apple-darwin15.0.0 (64-bit)
>>
>> Operative system:
>> System Version: OS X 10.11 (15A284)
>> Kernel Version: Darwin 15.0.0
>>
>> brew:
>> 0.9.5 (git revision bfbc3f; last commit 2015-10-13)
>>
>> Hardware:
>> Model Name: iMac
>> Model Identifier: iMac14,2
>> Processor Name: Intel Core i5
>> Processor Speed: 3,2 GHz
>>
>> Thank you
>>
>>
>> --
>> Davide Radice
>> Blog: http://www.analisilaica.it
>> Facebook: http://www.facebook.com/davide.radice
>> Twitter: https://twitter.com/davideradice
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Emeritus Professor of Applied Statistics, University of Oxford
> 1 South Parks Road, Oxford OX1 3TG, UK


From murdoch.duncan at gmail.com  Thu Oct 15 18:28:52 2015
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Thu, 15 Oct 2015 12:28:52 -0400
Subject: [R-SIG-Mac] rgl crashes R.app in El Capitan
In-Reply-To: <ACD1644AA6C67E4FBD0C350625508EC810F2F557@FHSDB2D11-2.csu.mcmaster.ca>
References: <ACD1644AA6C67E4FBD0C350625508EC810F2F468@FHSDB2D11-2.csu.mcmaster.ca>
	<561D5C93.2080603@stats.uwo.ca>
	<ACD1644AA6C67E4FBD0C350625508EC810F2F557@FHSDB2D11-2.csu.mcmaster.ca>
Message-ID: <561FD444.3010606@gmail.com>

One of my students has El Capitan, so I got to see this.  It appears
it's the old aglrgl.so problem.  I should just give up on native
support, since I don't really know how to debug it.

The "simple" fix is to delete the aglrgl.so file.  This means R.app will
use the X11 driver, the same as the terminal version or RStudio would
use.  Some users will have problems with this:

 - It means they need Xquartz installed.
 - You need admin privileges to delete aglrgl.so, and you need to know
how to find it.  To find it, in R you can run

system.file("libs/aglrgl.so", package="rgl")

in R; I see

"/Library/Frameworks/R.framework/Versions/3.2/Resources/library/rgl/libs/aglrgl.so"

but others may see it elsewhere.  I don't know if there is a way to
delete it from R; I'd expect

unlink(system.file("libs/aglrgl.so", package="rgl"))

to fail because of permission problems, but I'm not sure of that.

I'm not going to attempt to describe Xquartz installation, but Google
should be able to help.

Duncan Murdoch



On 13/10/2015 4:05 PM, Fox, John wrote:
> Dear Duncan,
> 
>> -----Original Message-----
>> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
>> Sent: Tuesday, October 13, 2015 3:34 PM
>> To: Fox, John; r-sig-mac at r-project.org
>> Cc: jose.conde1 at upr.edu
>> Subject: Re: rgl crashes R.app in El Capitan
>>
>> On 13/10/2015 3:03 PM, Fox, John wrote:
>>> Dear r-sig-mac list members,
>>>
>>> I can reliably crash R.app in R 3.2.2 under El Capitan with
>>>
>>>   library(rgl)
>>>   demo("rgl")  # a few returns
>>>
>>> My session info:
>>>
>>>> sessionInfo()
>>> R version 3.2.2 (2015-08-14)
>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>> Running under: OS X 10.11 (El Capitan)
>>>
>>> locale:
>>> [1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8
>>>
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>
>>> other attached packages:
>>> [1] rgl_0.95.1367
>>>
>>> I see this problem only in R.app, not when R is run in a terminal or
>> in RStudio.
>>>
>>> This problem was original brought to my attention by Jose Conde (to
>> whom I'm cc'ing this message), who encountered the problem using the
>> scatter3d() function in the car package via the Rcmdr, but the problem
>> isn't unique to either scatter3d() or the Rcmdr. In the case of
>> scatter3d() the command
>>>
>>>     scatter3d(prestige ~ income + education, data=Prestige)
>>>
>>> which draws a regression surface, reliably crashes R.app, but
>>>
>>>     scatter3d(prestige ~ income + education, data=Prestige,
>> surface=FALSE)
>>>
>>> which plots only points (as spheres) doesn't.
>>>
>>> I hope that this provides enough clues to diagnose the problem.
>>>
>>>
>>
>> I don't have El Capitan, I'm still running under OS X 10.9.5
>> (Mavericks), and it doesn't crash.
> 
> That was my experience as well -- I didn't experience this problem under either Mavericks or Yosemite. BTW, I reinstalled R 3.2.2 and XQuartz after upgrading to El Capitan. I usually upgrade fairly early to see whether there are any problems.
> 
>>
>> Since you're using the latest rgl, you must have built it yourself --
>> CRAN doesn't distribute binaries for it (at least for Mavericks).  Did
>> you get any errors or warnings during compilation?
> 
> Right again. I ran update.packages() to make sure that the error wasn't fixed and compiled packages that didn't yet have Mac binaries. AFAICS, there were no errors in compiling the rgl package.
> 
> BTW, my apologies for posting my message twice -- my mailer complained about the address in the first message and I thought it wasn't sent.
> 
> Thanks for looking into this,
>  John
> 
>>
>> Duncan Murdoch


From jfox at mcmaster.ca  Thu Oct 15 20:21:29 2015
From: jfox at mcmaster.ca (Fox, John)
Date: Thu, 15 Oct 2015 18:21:29 +0000
Subject: [R-SIG-Mac] rgl crashes R.app in El Capitan
In-Reply-To: <561FD444.3010606@gmail.com>
References: <ACD1644AA6C67E4FBD0C350625508EC810F2F468@FHSDB2D11-2.csu.mcmaster.ca>
	<561D5C93.2080603@stats.uwo.ca>
	<ACD1644AA6C67E4FBD0C350625508EC810F2F557@FHSDB2D11-2.csu.mcmaster.ca>
	<561FD444.3010606@gmail.com>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC810F300A0@FHSDB2D11-2.csu.mcmaster.ca>

Hi Duncan,

Thanks for looking into this. Please see below:

> -----Original Message-----
> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
> Sent: Thursday, October 15, 2015 12:29 PM
> To: Fox, John; r-sig-mac at r-project.org
> Cc: jose.conde1 at upr.edu
> Subject: Re: rgl crashes R.app in El Capitan
> 
> One of my students has El Capitan, so I got to see this.  It appears
> it's the old aglrgl.so problem.  I should just give up on native
> support, since I don't really know how to debug it.
> 
> The "simple" fix is to delete the aglrgl.so file.  This means R.app will
> use the X11 driver, the same as the terminal version or RStudio would
> use.  Some users will have problems with this:
> 
>  - It means they need Xquartz installed.
>  - You need admin privileges to delete aglrgl.so, and you need to know
> how to find it.  To find it, in R you can run
> 
> system.file("libs/aglrgl.so", package="rgl")
> 
> in R; I see
> 
> "/Library/Frameworks/R.framework/Versions/3.2/Resources/library/rgl/libs
> /aglrgl.so"
> 
> but others may see it elsewhere.  I don't know if there is a way to
> delete it from R; I'd expect
> 
> unlink(system.file("libs/aglrgl.so", package="rgl"))
> 
> to fail because of permission problems, but I'm not sure of that.

Actually, that works for me and fixes the problem.

> 
> I'm not going to attempt to describe Xquartz installation, but Google
> should be able to help.

Jose encountered this problem using the Rcmdr package, which already requires XQuartz due to Tcl/Tk, but more generally the car package doesn't need XQuartz. XQuartz installation is simple in any event.

One thing is unclear to me, however. Will you simply remove aglrgl.so from the next version of rgl? If so, you should be able to test for the presence of XQuartz and print a warning message in its absence.

Best,
 John

> 
> Duncan Murdoch
> 
> 
> 
> On 13/10/2015 4:05 PM, Fox, John wrote:
> > Dear Duncan,
> >
> >> -----Original Message-----
> >> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
> >> Sent: Tuesday, October 13, 2015 3:34 PM
> >> To: Fox, John; r-sig-mac at r-project.org
> >> Cc: jose.conde1 at upr.edu
> >> Subject: Re: rgl crashes R.app in El Capitan
> >>
> >> On 13/10/2015 3:03 PM, Fox, John wrote:
> >>> Dear r-sig-mac list members,
> >>>
> >>> I can reliably crash R.app in R 3.2.2 under El Capitan with
> >>>
> >>>   library(rgl)
> >>>   demo("rgl")  # a few returns
> >>>
> >>> My session info:
> >>>
> >>>> sessionInfo()
> >>> R version 3.2.2 (2015-08-14)
> >>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
> >>> Running under: OS X 10.11 (El Capitan)
> >>>
> >>> locale:
> >>> [1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8
> >>>
> >>> attached base packages:
> >>> [1] stats     graphics  grDevices utils     datasets  methods   base
> >>>
> >>> other attached packages:
> >>> [1] rgl_0.95.1367
> >>>
> >>> I see this problem only in R.app, not when R is run in a terminal or
> >> in RStudio.
> >>>
> >>> This problem was original brought to my attention by Jose Conde (to
> >> whom I'm cc'ing this message), who encountered the problem using the
> >> scatter3d() function in the car package via the Rcmdr, but the
> problem
> >> isn't unique to either scatter3d() or the Rcmdr. In the case of
> >> scatter3d() the command
> >>>
> >>>     scatter3d(prestige ~ income + education, data=Prestige)
> >>>
> >>> which draws a regression surface, reliably crashes R.app, but
> >>>
> >>>     scatter3d(prestige ~ income + education, data=Prestige,
> >> surface=FALSE)
> >>>
> >>> which plots only points (as spheres) doesn't.
> >>>
> >>> I hope that this provides enough clues to diagnose the problem.
> >>>
> >>>
> >>
> >> I don't have El Capitan, I'm still running under OS X 10.9.5
> >> (Mavericks), and it doesn't crash.
> >
> > That was my experience as well -- I didn't experience this problem
> under either Mavericks or Yosemite. BTW, I reinstalled R 3.2.2 and
> XQuartz after upgrading to El Capitan. I usually upgrade fairly early to
> see whether there are any problems.
> >
> >>
> >> Since you're using the latest rgl, you must have built it yourself --
> >> CRAN doesn't distribute binaries for it (at least for Mavericks).
> Did
> >> you get any errors or warnings during compilation?
> >
> > Right again. I ran update.packages() to make sure that the error
> wasn't fixed and compiled packages that didn't yet have Mac binaries.
> AFAICS, there were no errors in compiling the rgl package.
> >
> > BTW, my apologies for posting my message twice -- my mailer complained
> about the address in the first message and I thought it wasn't sent.
> >
> > Thanks for looking into this,
> >  John
> >
> >>
> >> Duncan Murdoch


From dwinsemius at comcast.net  Thu Oct 15 20:30:39 2015
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 15 Oct 2015 11:30:39 -0700
Subject: [R-SIG-Mac] rgl crashes R.app in El Capitan
In-Reply-To: <561FD444.3010606@gmail.com>
References: <ACD1644AA6C67E4FBD0C350625508EC810F2F468@FHSDB2D11-2.csu.mcmaster.ca>
	<561D5C93.2080603@stats.uwo.ca>
	<ACD1644AA6C67E4FBD0C350625508EC810F2F557@FHSDB2D11-2.csu.mcmaster.ca>
	<561FD444.3010606@gmail.com>
Message-ID: <5EC551D3-37E2-4D1D-B49D-1A861C858B8F@comcast.net>


On Oct 15, 2015, at 9:28 AM, Duncan Murdoch wrote:

> One of my students has El Capitan, so I got to see this.  It appears
> it's the old aglrgl.so problem.  I should just give up on native
> support, since I don't really know how to debug it.
> 
> The "simple" fix is to delete the aglrgl.so file.  This means R.app will
> use the X11 driver, the same as the terminal version or RStudio would
> use.  Some users will have problems with this:
> 
> - It means they need Xquartz installed.

Every R-Mac-suer _should_ have that installed.

> - You need admin privileges to delete aglrgl.so, and you need to know
> how to find it.

Maybe not.

>  To find it, in R you can run
> 
> system.file("libs/aglrgl.so", package="rgl")
> 
> in R; I see
> 
> "/Library/Frameworks/R.framework/Versions/3.2/Resources/library/rgl/libs/aglrgl.so"
> 
> but others may see it elsewhere.  I don't know if there is a way to
> delete it from R; I'd expect
> 
> unlink(system.file("libs/aglrgl.so", package="rgl"))
> 
> to fail because of permission problems, but I'm not sure of that.

No failure. Runs without complaint and succeeds at least on an earlier version of OSX, as well as on my Yosemite-laptop (I then reinstalled the package to get it back.) I suppose security could have become more tight in El Cap.

> 
> I'm not going to attempt to describe Xquartz installation, but Google
> should be able to help.

Xquartz installation is trivial for most Mac-users. Just download the installer package and double-click.

Thanks for your efforts, Duncan. 

-- 
David.


> 
> Duncan Murdoch
> 
> 
> 
> On 13/10/2015 4:05 PM, Fox, John wrote:
>> Dear Duncan,
>> 
>>> -----Original Message-----
>>> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
>>> Sent: Tuesday, October 13, 2015 3:34 PM
>>> To: Fox, John; r-sig-mac at r-project.org
>>> Cc: jose.conde1 at upr.edu
>>> Subject: Re: rgl crashes R.app in El Capitan
>>> 
>>> On 13/10/2015 3:03 PM, Fox, John wrote:
>>>> Dear r-sig-mac list members,
>>>> 
>>>> I can reliably crash R.app in R 3.2.2 under El Capitan with
>>>> 
>>>>  library(rgl)
>>>>  demo("rgl")  # a few returns
>>>> 
>>>> My session info:
>>>> 
>>>>> sessionInfo()
>>>> R version 3.2.2 (2015-08-14)
>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>> Running under: OS X 10.11 (El Capitan)
>>>> 
>>>> locale:
>>>> [1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8
>>>> 
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>> 
>>>> other attached packages:
>>>> [1] rgl_0.95.1367
>>>> 
>>>> I see this problem only in R.app, not when R is run in a terminal or
>>> in RStudio.
>>>> 
>>>> This problem was original brought to my attention by Jose Conde (to
>>> whom I'm cc'ing this message), who encountered the problem using the
>>> scatter3d() function in the car package via the Rcmdr, but the problem
>>> isn't unique to either scatter3d() or the Rcmdr. In the case of
>>> scatter3d() the command
>>>> 
>>>>    scatter3d(prestige ~ income + education, data=Prestige)
>>>> 
>>>> which draws a regression surface, reliably crashes R.app, but
>>>> 
>>>>    scatter3d(prestige ~ income + education, data=Prestige,
>>> surface=FALSE)
>>>> 
>>>> which plots only points (as spheres) doesn't.
>>>> 
>>>> I hope that this provides enough clues to diagnose the problem.
>>>> 
>>>> 
>>> 
>>> I don't have El Capitan, I'm still running under OS X 10.9.5
>>> (Mavericks), and it doesn't crash.
>> 
>> That was my experience as well -- I didn't experience this problem under either Mavericks or Yosemite. BTW, I reinstalled R 3.2.2 and XQuartz after upgrading to El Capitan. I usually upgrade fairly early to see whether there are any problems.
>> 
>>> 
>>> Since you're using the latest rgl, you must have built it yourself --
>>> CRAN doesn't distribute binaries for it (at least for Mavericks).  Did
>>> you get any errors or warnings during compilation?
>> 
>> Right again. I ran update.packages() to make sure that the error wasn't fixed and compiled packages that didn't yet have Mac binaries. AFAICS, there were no errors in compiling the rgl package.
>> 
>> BTW, my apologies for posting my message twice -- my mailer complained about the address in the first message and I thought it wasn't sent.
>> 
>> Thanks for looking into this,
>> John
>> 
>>> 
>>> Duncan Murdoch
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From murdoch.duncan at gmail.com  Thu Oct 15 20:45:45 2015
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Thu, 15 Oct 2015 14:45:45 -0400
Subject: [R-SIG-Mac] rgl crashes R.app in El Capitan
In-Reply-To: <ACD1644AA6C67E4FBD0C350625508EC810F300A0@FHSDB2D11-2.csu.mcmaster.ca>
References: <ACD1644AA6C67E4FBD0C350625508EC810F2F468@FHSDB2D11-2.csu.mcmaster.ca>
	<561D5C93.2080603@stats.uwo.ca>
	<ACD1644AA6C67E4FBD0C350625508EC810F2F557@FHSDB2D11-2.csu.mcmaster.ca>
	<561FD444.3010606@gmail.com>
	<ACD1644AA6C67E4FBD0C350625508EC810F300A0@FHSDB2D11-2.csu.mcmaster.ca>
Message-ID: <561FF459.4080103@gmail.com>

On 15/10/2015 2:21 PM, Fox, John wrote:
> Hi Duncan,
>
> Thanks for looking into this. Please see below:
>
> > -----Original Message-----
> > From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
> > Sent: Thursday, October 15, 2015 12:29 PM
> > To: Fox, John; r-sig-mac at r-project.org
> > Cc: jose.conde1 at upr.edu
> > Subject: Re: rgl crashes R.app in El Capitan
> >
> > One of my students has El Capitan, so I got to see this.  It appears
> > it's the old aglrgl.so problem.  I should just give up on native
> > support, since I don't really know how to debug it.
> >
> > The "simple" fix is to delete the aglrgl.so file.  This means R.app will
> > use the X11 driver, the same as the terminal version or RStudio would
> > use.  Some users will have problems with this:
> >
> >  - It means they need Xquartz installed.
> >  - You need admin privileges to delete aglrgl.so, and you need to know
> > how to find it.  To find it, in R you can run
> >
> > system.file("libs/aglrgl.so", package="rgl")
> >
> > in R; I see
> >
> > "/Library/Frameworks/R.framework/Versions/3.2/Resources/library/rgl/libs
> > /aglrgl.so"
> >
> > but others may see it elsewhere.  I don't know if there is a way to
> > delete it from R; I'd expect
> >
> > unlink(system.file("libs/aglrgl.so", package="rgl"))
> >
> > to fail because of permission problems, but I'm not sure of that.
>
> Actually, that works for me and fixes the problem.
>
> >
> > I'm not going to attempt to describe Xquartz installation, but Google
> > should be able to help.
>
> Jose encountered this problem using the Rcmdr package, which already requires XQuartz due to Tcl/Tk, but more generally the car package doesn't need XQuartz. XQuartz installation is simple in any event.
>
> One thing is unclear to me, however. Will you simply remove aglrgl.so from the next version of rgl? If so, you should be able to test for the presence of XQuartz and print a warning message in its absence.

Yes, I'll be dropping aglrgl.so.  rgl can run without any display (using 
options(rgl.useNULL = TRUE) and writing WebGL or some other kinds of 
output to a file), so I'm not sure whether a warning will be needed; 
I'll have to think about use cases.

Duncan Murdoch

>
> Best,
>   John
>
> >
> > Duncan Murdoch
> >
> >
> >
> > On 13/10/2015 4:05 PM, Fox, John wrote:
> > > Dear Duncan,
> > >
> > >> -----Original Message-----
> > >> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
> > >> Sent: Tuesday, October 13, 2015 3:34 PM
> > >> To: Fox, John; r-sig-mac at r-project.org
> > >> Cc: jose.conde1 at upr.edu
> > >> Subject: Re: rgl crashes R.app in El Capitan
> > >>
> > >> On 13/10/2015 3:03 PM, Fox, John wrote:
> > >>> Dear r-sig-mac list members,
> > >>>
> > >>> I can reliably crash R.app in R 3.2.2 under El Capitan with
> > >>>
> > >>>   library(rgl)
> > >>>   demo("rgl")  # a few returns
> > >>>
> > >>> My session info:
> > >>>
> > >>>> sessionInfo()
> > >>> R version 3.2.2 (2015-08-14)
> > >>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
> > >>> Running under: OS X 10.11 (El Capitan)
> > >>>
> > >>> locale:
> > >>> [1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8
> > >>>
> > >>> attached base packages:
> > >>> [1] stats     graphics  grDevices utils     datasets  methods   base
> > >>>
> > >>> other attached packages:
> > >>> [1] rgl_0.95.1367
> > >>>
> > >>> I see this problem only in R.app, not when R is run in a terminal or
> > >> in RStudio.
> > >>>
> > >>> This problem was original brought to my attention by Jose Conde (to
> > >> whom I'm cc'ing this message), who encountered the problem using the
> > >> scatter3d() function in the car package via the Rcmdr, but the
> > problem
> > >> isn't unique to either scatter3d() or the Rcmdr. In the case of
> > >> scatter3d() the command
> > >>>
> > >>>     scatter3d(prestige ~ income + education, data=Prestige)
> > >>>
> > >>> which draws a regression surface, reliably crashes R.app, but
> > >>>
> > >>>     scatter3d(prestige ~ income + education, data=Prestige,
> > >> surface=FALSE)
> > >>>
> > >>> which plots only points (as spheres) doesn't.
> > >>>
> > >>> I hope that this provides enough clues to diagnose the problem.
> > >>>
> > >>>
> > >>
> > >> I don't have El Capitan, I'm still running under OS X 10.9.5
> > >> (Mavericks), and it doesn't crash.
> > >
> > > That was my experience as well -- I didn't experience this problem
> > under either Mavericks or Yosemite. BTW, I reinstalled R 3.2.2 and
> > XQuartz after upgrading to El Capitan. I usually upgrade fairly early to
> > see whether there are any problems.
> > >
> > >>
> > >> Since you're using the latest rgl, you must have built it yourself --
> > >> CRAN doesn't distribute binaries for it (at least for Mavericks).
> > Did
> > >> you get any errors or warnings during compilation?
> > >
> > > Right again. I ran update.packages() to make sure that the error
> > wasn't fixed and compiled packages that didn't yet have Mac binaries.
> > AFAICS, there were no errors in compiling the rgl package.
> > >
> > > BTW, my apologies for posting my message twice -- my mailer complained
> > about the address in the first message and I thought it wasn't sent.
> > >
> > > Thanks for looking into this,
> > >  John
> > >
> > >>
> > >> Duncan Murdoch
>


From jfox at mcmaster.ca  Thu Oct 15 22:22:09 2015
From: jfox at mcmaster.ca (Fox, John)
Date: Thu, 15 Oct 2015 20:22:09 +0000
Subject: [R-SIG-Mac] rgl crashes R.app in El Capitan
In-Reply-To: <561FF459.4080103@gmail.com>
References: <ACD1644AA6C67E4FBD0C350625508EC810F2F468@FHSDB2D11-2.csu.mcmaster.ca>
	<561D5C93.2080603@stats.uwo.ca>
	<ACD1644AA6C67E4FBD0C350625508EC810F2F557@FHSDB2D11-2.csu.mcmaster.ca>
	<561FD444.3010606@gmail.com>
	<ACD1644AA6C67E4FBD0C350625508EC810F300A0@FHSDB2D11-2.csu.mcmaster.ca>
	<561FF459.4080103@gmail.com>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC810F30105@FHSDB2D11-2.csu.mcmaster.ca>

Hi Duncan,

Thanks again for taking care of this.

John

> -----Original Message-----
> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
> Sent: Thursday, October 15, 2015 2:46 PM
> To: Fox, John; r-sig-mac at r-project.org
> Cc: jose.conde1 at upr.edu
> Subject: Re: rgl crashes R.app in El Capitan
> 
> On 15/10/2015 2:21 PM, Fox, John wrote:
> > Hi Duncan,
> >
> > Thanks for looking into this. Please see below:
> >
> > > -----Original Message-----
> > > From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
> > > Sent: Thursday, October 15, 2015 12:29 PM
> > > To: Fox, John; r-sig-mac at r-project.org
> > > Cc: jose.conde1 at upr.edu
> > > Subject: Re: rgl crashes R.app in El Capitan
> > >
> > > One of my students has El Capitan, so I got to see this.  It appears
> > > it's the old aglrgl.so problem.  I should just give up on native
> > > support, since I don't really know how to debug it.
> > >
> > > The "simple" fix is to delete the aglrgl.so file.  This means R.app
> will
> > > use the X11 driver, the same as the terminal version or RStudio
> would
> > > use.  Some users will have problems with this:
> > >
> > >  - It means they need Xquartz installed.
> > >  - You need admin privileges to delete aglrgl.so, and you need to
> know
> > > how to find it.  To find it, in R you can run
> > >
> > > system.file("libs/aglrgl.so", package="rgl")
> > >
> > > in R; I see
> > >
> > >
> "/Library/Frameworks/R.framework/Versions/3.2/Resources/library/rgl/libs
> > > /aglrgl.so"
> > >
> > > but others may see it elsewhere.  I don't know if there is a way to
> > > delete it from R; I'd expect
> > >
> > > unlink(system.file("libs/aglrgl.so", package="rgl"))
> > >
> > > to fail because of permission problems, but I'm not sure of that.
> >
> > Actually, that works for me and fixes the problem.
> >
> > >
> > > I'm not going to attempt to describe Xquartz installation, but
> Google
> > > should be able to help.
> >
> > Jose encountered this problem using the Rcmdr package, which already
> requires XQuartz due to Tcl/Tk, but more generally the car package
> doesn't need XQuartz. XQuartz installation is simple in any event.
> >
> > One thing is unclear to me, however. Will you simply remove aglrgl.so
> from the next version of rgl? If so, you should be able to test for the
> presence of XQuartz and print a warning message in its absence.
> 
> Yes, I'll be dropping aglrgl.so.  rgl can run without any display (using
> options(rgl.useNULL = TRUE) and writing WebGL or some other kinds of
> output to a file), so I'm not sure whether a warning will be needed;
> I'll have to think about use cases.
> 
> Duncan Murdoch
> 
> >
> > Best,
> >   John
> >
> > >
> > > Duncan Murdoch
> > >
> > >
> > >
> > > On 13/10/2015 4:05 PM, Fox, John wrote:
> > > > Dear Duncan,
> > > >
> > > >> -----Original Message-----
> > > >> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
> > > >> Sent: Tuesday, October 13, 2015 3:34 PM
> > > >> To: Fox, John; r-sig-mac at r-project.org
> > > >> Cc: jose.conde1 at upr.edu
> > > >> Subject: Re: rgl crashes R.app in El Capitan
> > > >>
> > > >> On 13/10/2015 3:03 PM, Fox, John wrote:
> > > >>> Dear r-sig-mac list members,
> > > >>>
> > > >>> I can reliably crash R.app in R 3.2.2 under El Capitan with
> > > >>>
> > > >>>   library(rgl)
> > > >>>   demo("rgl")  # a few returns
> > > >>>
> > > >>> My session info:
> > > >>>
> > > >>>> sessionInfo()
> > > >>> R version 3.2.2 (2015-08-14)
> > > >>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
> > > >>> Running under: OS X 10.11 (El Capitan)
> > > >>>
> > > >>> locale:
> > > >>> [1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-
> 8
> > > >>>
> > > >>> attached base packages:
> > > >>> [1] stats     graphics  grDevices utils     datasets  methods
> base
> > > >>>
> > > >>> other attached packages:
> > > >>> [1] rgl_0.95.1367
> > > >>>
> > > >>> I see this problem only in R.app, not when R is run in a
> terminal or
> > > >> in RStudio.
> > > >>>
> > > >>> This problem was original brought to my attention by Jose Conde
> (to
> > > >> whom I'm cc'ing this message), who encountered the problem using
> the
> > > >> scatter3d() function in the car package via the Rcmdr, but the
> > > problem
> > > >> isn't unique to either scatter3d() or the Rcmdr. In the case of
> > > >> scatter3d() the command
> > > >>>
> > > >>>     scatter3d(prestige ~ income + education, data=Prestige)
> > > >>>
> > > >>> which draws a regression surface, reliably crashes R.app, but
> > > >>>
> > > >>>     scatter3d(prestige ~ income + education, data=Prestige,
> > > >> surface=FALSE)
> > > >>>
> > > >>> which plots only points (as spheres) doesn't.
> > > >>>
> > > >>> I hope that this provides enough clues to diagnose the problem.
> > > >>>
> > > >>>
> > > >>
> > > >> I don't have El Capitan, I'm still running under OS X 10.9.5
> > > >> (Mavericks), and it doesn't crash.
> > > >
> > > > That was my experience as well -- I didn't experience this problem
> > > under either Mavericks or Yosemite. BTW, I reinstalled R 3.2.2 and
> > > XQuartz after upgrading to El Capitan. I usually upgrade fairly
> early to
> > > see whether there are any problems.
> > > >
> > > >>
> > > >> Since you're using the latest rgl, you must have built it
> yourself --
> > > >> CRAN doesn't distribute binaries for it (at least for Mavericks).
> > > Did
> > > >> you get any errors or warnings during compilation?
> > > >
> > > > Right again. I ran update.packages() to make sure that the error
> > > wasn't fixed and compiled packages that didn't yet have Mac
> binaries.
> > > AFAICS, there were no errors in compiling the rgl package.
> > > >
> > > > BTW, my apologies for posting my message twice -- my mailer
> complained
> > > about the address in the first message and I thought it wasn't sent.
> > > >
> > > > Thanks for looking into this,
> > > >  John
> > > >
> > > >>
> > > >> Duncan Murdoch
> >


From spencer.graves at prodsyse.com  Fri Oct 16 10:06:17 2015
From: spencer.graves at prodsyse.com (Spencer Graves)
Date: Fri, 16 Oct 2015 03:06:17 -0500
Subject: [R-SIG-Mac] svn update > "xcrun: error: invalid active developer
 path" after uipgrade to 10.11 El Capitan
Message-ID: <5620AFF9.6000400@prodsyse.com>

Hello:


       I'm having a problem with "svn update" (with R-Forge) that may be 
due to a recent upgrade to OS X 10.11 El Capitan.  I'm getting the 
following:


$ svn update
xcrun: error: invalid active developer path 
(/Library/Developer/CommandLineTools), missing xcrun at: 
/Library/Developer/CommandLineTools/usr/bin/xcrun


       Google sent me to 
"http://stackoverflow.com/questions/28706428/invalid-active-developer-path-on-mac-os-x-after-installing-ruby" 
and "https://github.com/Homebrew/homebrew/issues/23500" for ruby and 
git.  Stackoverflow seems to suggest that "sudo xcode-select --install" 
may fix the problem.  However, I know so little about this, I felt a 
need to ask here.


       What do you think?
       Thanks,
       Spencer


From ripley at stats.ox.ac.uk  Fri Oct 16 10:15:41 2015
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 16 Oct 2015 09:15:41 +0100
Subject: [R-SIG-Mac] svn update > "xcrun: error: invalid active
 developer path" after uipgrade to 10.11 El Capitan
In-Reply-To: <5620AFF9.6000400@prodsyse.com>
References: <5620AFF9.6000400@prodsyse.com>
Message-ID: <5620B22D.6030509@stats.ox.ac.uk>

On 16/10/2015 09:06, Spencer Graves wrote:
> Hello:
>
>
>        I'm having a problem with "svn update" (with R-Forge) that may be
> due to a recent upgrade to OS X 10.11 El Capitan.  I'm getting the
> following:
>
>
> $ svn update
> xcrun: error: invalid active developer path
> (/Library/Developer/CommandLineTools), missing xcrun at:
> /Library/Developer/CommandLineTools/usr/bin/xcrun
>
>
>        Google sent me to
> "http://stackoverflow.com/questions/28706428/invalid-active-developer-path-on-mac-os-x-after-installing-ruby"
> and "https://github.com/Homebrew/homebrew/issues/23500" for ruby and
> git.  Stackoverflow seems to suggest that "sudo xcode-select --install"
> may fix the problem.  However, I know so little about this, I felt a
> need to ask here.
>
>
>        What do you think?

I think you should read the R manual,

https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#OS-X

which tells you

1) To reinstall the CLT after an OS update.

2) To use xcode-select --install to do so.  (sudo may or may not be needed.)

And after all these years, please do read and follow the posting guide: 
it is expected that you check in the manuals before posting.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK


From spencer.graves at prodsyse.com  Sun Oct 18 02:53:21 2015
From: spencer.graves at prodsyse.com (Spencer Graves)
Date: Sat, 17 Oct 2015 19:53:21 -0500
Subject: [R-SIG-Mac] svn update > "xcrun: error: invalid active
 developer path" after uipgrade to 10.11 El Capitan
In-Reply-To: <5620B22D.6030509@stats.ox.ac.uk>
References: <5620AFF9.6000400@prodsyse.com> <5620B22D.6030509@stats.ox.ac.uk>
Message-ID: <5622ED81.40402@prodsyse.com>



On 10/16/2015 3:15 AM, Prof Brian Ripley wrote:
> On 16/10/2015 09:06, Spencer Graves wrote:
>> Hello:
>>
>>
>>        I'm having a problem with "svn update" (with R-Forge) that may be
>> due to a recent upgrade to OS X 10.11 El Capitan.  I'm getting the
>> following:
>>
>>
>> $ svn update
>> xcrun: error: invalid active developer path
>> (/Library/Developer/CommandLineTools), missing xcrun at:
>> /Library/Developer/CommandLineTools/usr/bin/xcrun
>>
>>
>>        Google sent me to
>> "http://stackoverflow.com/questions/28706428/invalid-active-developer-path-on-mac-os-x-after-installing-ruby" 
>>
>> and "https://github.com/Homebrew/homebrew/issues/23500" for ruby and
>> git.  Stackoverflow seems to suggest that "sudo xcode-select --install"
>> may fix the problem.  However, I know so little about this, I felt a
>> need to ask here.
>>
>>
>>        What do you think?
>
> I think you should read the R manual,
>
> https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#OS-X
>
> which tells you
>
> 1) To reinstall the CLT after an OS update.
>
> 2) To use xcode-select --install to do so.  (sudo may or may not be 
> needed.)
>
> And after all these years, please do read and follow the posting 
> guide: it is expected that you check in the manuals before posting.
>

Thanks very much for the reply -- and for all the work you've invested 
in producing the fine manual.  You're correct, of course, that I should 
have checked that manual.


       Thanks again,
       Spencer Graves


From marius.hofert at uwaterloo.ca  Sun Oct 18 20:29:31 2015
From: marius.hofert at uwaterloo.ca (Marius Hofert)
Date: Sun, 18 Oct 2015 14:29:31 -0400
Subject: [R-SIG-Mac] svg() fails (cairo.so unable to load)
Message-ID: <CAM3-KjZZyNwNbw_fr4iJMm0kBNeGC5KWqwfx3ONGAwsTdVrrEQ@mail.gmail.com>

Hi,

I get ...

> svg(filename=(file <- "foo.svg"))
Warning messages:
1: In svg(filename = (file <- "foo.svg")) :
  unable to load shared object
'/usr/local/R/R-3.2.2_build/library/grDevices/libs//cairo.so':
  dlopen(/usr/local/R/R-3.2.2_build/library/grDevices/libs//cairo.so,
6): image not found
2: In svg(filename = (file <- "foo.svg")) : failed to load cairo DLL

... although I installed XQuartz (and X11() works) after upgrading to
El Capitan. Do I need to configure R with something like
"--with-cairo"?

Cheers,
Marius

PS: sessionInfo() is:

> sessionInfo()
R version 3.2.2 (2015-08-14)
Platform: x86_64-apple-darwin14.5.0 (64-bit)
Running under: OS X 10.11 (El Capitan)

locale:
[1] C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] compiler_3.2.2 tools_3.2.2


From ripley at stats.ox.ac.uk  Mon Oct 19 08:27:37 2015
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 19 Oct 2015 07:27:37 +0100
Subject: [R-SIG-Mac] svg() fails (cairo.so unable to load)
In-Reply-To: <CAM3-KjZZyNwNbw_fr4iJMm0kBNeGC5KWqwfx3ONGAwsTdVrrEQ@mail.gmail.com>
References: <CAM3-KjZZyNwNbw_fr4iJMm0kBNeGC5KWqwfx3ONGAwsTdVrrEQ@mail.gmail.com>
Message-ID: <56248D59.2080202@stats.ox.ac.uk>

On 18/10/2015 19:29, Marius Hofert wrote:
> Hi,
>
> I get ...
>
>> svg(filename=(file <- "foo.svg"))
> Warning messages:
> 1: In svg(filename = (file <- "foo.svg")) :
>    unable to load shared object
> '/usr/local/R/R-3.2.2_build/library/grDevices/libs//cairo.so':
>    dlopen(/usr/local/R/R-3.2.2_build/library/grDevices/libs//cairo.so,
> 6): image not found

Please check that the report is about that file not existing, and not 
something it depends on (if it exists, run otool -L on it).

> 2: In svg(filename = (file <- "foo.svg")) : failed to load cairo DLL
>
> ... although I installed XQuartz (and X11() works) after upgrading to
> El Capitan. Do I need to configure R with something like
> "--with-cairo"?

No, but you need a cairographics installation when you build R, and to 
point to it.  There are two possibilities: see 
https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#OS-X .

>
> Cheers,
> Marius
>
> PS: sessionInfo() is:

And so you built from source?  Look at the configure output (you may 
need to re-run it).  A build finding cairographics will report something 
like

   Additional capabilities:   PNG, JPEG, TIFF, NLS, cairo, ICU


>
>> sessionInfo()
> R version 3.2.2 (2015-08-14)
> Platform: x86_64-apple-darwin14.5.0 (64-bit)
> Running under: OS X 10.11 (El Capitan)
>
> locale:
> [1] C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] compiler_3.2.2 tools_3.2.2
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK


From marius.hofert at uwaterloo.ca  Mon Oct 19 15:21:31 2015
From: marius.hofert at uwaterloo.ca (Marius Hofert)
Date: Mon, 19 Oct 2015 09:21:31 -0400
Subject: [R-SIG-Mac] svg() fails (cairo.so unable to load)
In-Reply-To: <f5043256a5cd48eb95db4a19a11bc581@CONNHUB1.connect.uwaterloo.ca>
References: <CAM3-KjZZyNwNbw_fr4iJMm0kBNeGC5KWqwfx3ONGAwsTdVrrEQ@mail.gmail.com>
	<f5043256a5cd48eb95db4a19a11bc581@CONNHUB1.connect.uwaterloo.ca>
Message-ID: <CAM3-KjbU8zQQ5Vd1zuFi4iF7KHWUPgOPJSop=C+wmXCyprkZHw@mail.gmail.com>

Dear Professor Ripley,

Thanks for helping.

- Yes, cairo.so did not exist
- Okay, following the 'first approach', I have to install XQuartz
before R and set "export
PKG_CONFIG_PATH=/opt/X11/lib/pkgconfig:/usr/local/lib/pkgconfig:/usr/lib/pkgconfig".
Is the latter what you mean by "point to it"? I'll install R again
soon (yes, from source) and then try that.

Thanks again & cheers from Waterloo (ON),
Marius


From ripley at stats.ox.ac.uk  Mon Oct 19 16:12:24 2015
From: ripley at stats.ox.ac.uk (Brian Ripley)
Date: Mon, 19 Oct 2015 15:12:24 +0100
Subject: [R-SIG-Mac] svg() fails (cairo.so unable to load)
In-Reply-To: <CAM3-KjbU8zQQ5Vd1zuFi4iF7KHWUPgOPJSop=C+wmXCyprkZHw@mail.gmail.com>
References: <CAM3-KjZZyNwNbw_fr4iJMm0kBNeGC5KWqwfx3ONGAwsTdVrrEQ@mail.gmail.com>
	<f5043256a5cd48eb95db4a19a11bc581@CONNHUB1.connect.uwaterloo.ca>
	<CAM3-KjbU8zQQ5Vd1zuFi4iF7KHWUPgOPJSop=C+wmXCyprkZHw@mail.gmail.com>
Message-ID: <5197C1AC-3A01-404B-9775-DDA480598561@stats.ox.ac.uk>



> On 19 Oct 2015, at 14:21, Marius Hofert <marius.hofert at uwaterloo.ca> wrote:
> 
> Dear Professor Ripley,
> 
> Thanks for helping.
> 
> - Yes, cairo.so did not exist
> - Okay, following the 'first approach', I have to install XQuartz
> before R and set "export
> PKG_CONFIG_PATH=/opt/X11/lib/pkgconfig:/usr/local/lib/pkgconfig:/usr/lib/pkgconfig".
> Is the latter what you mean by "point to it"? I'll install R again

For that approach, that should work.

> soon (yes, from source) and then try that.
> 
> Thanks again & cheers from Waterloo (ON),
> Marius


From jfox at mcmaster.ca  Mon Oct 19 18:23:06 2015
From: jfox at mcmaster.ca (Fox, John)
Date: Mon, 19 Oct 2015 16:23:06 +0000
Subject: [R-SIG-Mac] rgl crashes R.app in El Capitan
In-Reply-To: <E2CDE31C-0CAA-4E95-A106-B9594B3B3593@upr.edu>
References: <ACD1644AA6C67E4FBD0C350625508EC810F2F468@FHSDB2D11-2.csu.mcmaster.ca>
	<561D5C93.2080603@stats.uwo.ca>
	<ACD1644AA6C67E4FBD0C350625508EC810F2F557@FHSDB2D11-2.csu.mcmaster.ca>
	<561FD444.3010606@gmail.com>
	<ACD1644AA6C67E4FBD0C350625508EC810F300A0@FHSDB2D11-2.csu.mcmaster.ca>
	<561FF459.4080103@gmail.com>
	<ACD1644AA6C67E4FBD0C350625508EC810F30105@FHSDB2D11-2.csu.mcmaster.ca>
	<E2CDE31C-0CAA-4E95-A106-B9594B3B3593@upr.edu>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC810F3109D@FHSDB2D11-2.csu.mcmaster.ca>

Dear Jos?

> -----Original Message-----
> From: "Jos? G. Conde" [mailto:jose.conde1 at upr.edu]
> Sent: October 19, 2015 11:55 AM
> To: Fox, John <jfox at mcmaster.ca>; Duncan Murdoch
> <murdoch.duncan at gmail.com>; r-sig-mac at r-project.org
> Subject: Re: rgl crashes R.app in El Capitan
> 
> Hello all.
> 
> For your information, I just updated Xquartz to version 2.7.8, and the
> problem persists.

I think that you may have misunderstood the source of the problem, which isn't in XQuartz but in the rgl package when R.app is run under El Capitan. Duncan will remove aglrgl.so from the rgl package to fix the problem, and you may do so in the interim, as he explained.

Best,
 John

> 
> Thanks.
> 
> Jos?
> 
> Jos? G. Conde, MD, MPH
> Catedr?tico, Escuela de Medicina
> Director, CentIT2
> Recinto de Ciencias M?dicas, UPR
> 
> Tel  (787) 763-9401  Fax (787) 758-5206
> 
> Correo electr?nico: jose.conde1 at upr.edu
> 
> URL: http://rcmi.rcm.upr.edu
> 
> > On Oct 15, 2015, at 4:22 PM, Fox, John <jfox at mcmaster.ca> wrote:
> >
> > Hi Duncan,
> >
> > Thanks again for taking care of this.
> >
> > John
> >
> >> -----Original Message-----
> >> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
> >> Sent: Thursday, October 15, 2015 2:46 PM
> >> To: Fox, John; r-sig-mac at r-project.org
> >> Cc: jose.conde1 at upr.edu
> >> Subject: Re: rgl crashes R.app in El Capitan
> >>
> >> On 15/10/2015 2:21 PM, Fox, John wrote:
> >>> Hi Duncan,
> >>>
> >>> Thanks for looking into this. Please see below:
> >>>
> >>>> -----Original Message-----
> >>>> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
> >>>> Sent: Thursday, October 15, 2015 12:29 PM
> >>>> To: Fox, John; r-sig-mac at r-project.org
> >>>> Cc: jose.conde1 at upr.edu
> >>>> Subject: Re: rgl crashes R.app in El Capitan
> >>>>
> >>>> One of my students has El Capitan, so I got to see this.  It
> >>>> appears it's the old aglrgl.so problem.  I should just give up on
> >>>> native support, since I don't really know how to debug it.
> >>>>
> >>>> The "simple" fix is to delete the aglrgl.so file.  This means R.app
> >> will
> >>>> use the X11 driver, the same as the terminal version or RStudio
> >> would
> >>>> use.  Some users will have problems with this:
> >>>>
> >>>> - It means they need Xquartz installed.
> >>>> - You need admin privileges to delete aglrgl.so, and you need to
> >> know
> >>>> how to find it.  To find it, in R you can run
> >>>>
> >>>> system.file("libs/aglrgl.so", package="rgl")
> >>>>
> >>>> in R; I see
> >>>>
> >>>>
> >> "/Library/Frameworks/R.framework/Versions/3.2/Resources/library/rgl/l
> >> ibs
> >>>> /aglrgl.so"
> >>>>
> >>>> but others may see it elsewhere.  I don't know if there is a way to
> >>>> delete it from R; I'd expect
> >>>>
> >>>> unlink(system.file("libs/aglrgl.so", package="rgl"))
> >>>>
> >>>> to fail because of permission problems, but I'm not sure of that.
> >>>
> >>> Actually, that works for me and fixes the problem.
> >>>
> >>>>
> >>>> I'm not going to attempt to describe Xquartz installation, but
> >> Google
> >>>> should be able to help.
> >>>
> >>> Jose encountered this problem using the Rcmdr package, which already
> >> requires XQuartz due to Tcl/Tk, but more generally the car package
> >> doesn't need XQuartz. XQuartz installation is simple in any event.
> >>>
> >>> One thing is unclear to me, however. Will you simply remove
> >>> aglrgl.so
> >> from the next version of rgl? If so, you should be able to test for
> >> the presence of XQuartz and print a warning message in its absence.
> >>
> >> Yes, I'll be dropping aglrgl.so.  rgl can run without any display
> >> (using options(rgl.useNULL = TRUE) and writing WebGL or some other
> >> kinds of output to a file), so I'm not sure whether a warning will be
> >> needed; I'll have to think about use cases.
> >>
> >> Duncan Murdoch
> >>
> >>>
> >>> Best,
> >>>  John
> >>>
> >>>>
> >>>> Duncan Murdoch
> >>>>
> >>>>
> >>>>
> >>>> On 13/10/2015 4:05 PM, Fox, John wrote:
> >>>>> Dear Duncan,
> >>>>>
> >>>>>> -----Original Message-----
> >>>>>> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
> >>>>>> Sent: Tuesday, October 13, 2015 3:34 PM
> >>>>>> To: Fox, John; r-sig-mac at r-project.org
> >>>>>> Cc: jose.conde1 at upr.edu
> >>>>>> Subject: Re: rgl crashes R.app in El Capitan
> >>>>>>
> >>>>>> On 13/10/2015 3:03 PM, Fox, John wrote:
> >>>>>>> Dear r-sig-mac list members,
> >>>>>>>
> >>>>>>> I can reliably crash R.app in R 3.2.2 under El Capitan with
> >>>>>>>
> >>>>>>>  library(rgl)
> >>>>>>>  demo("rgl")  # a few returns
> >>>>>>>
> >>>>>>> My session info:
> >>>>>>>
> >>>>>>>> sessionInfo()
> >>>>>>> R version 3.2.2 (2015-08-14)
> >>>>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit) Running under: OS X
> >>>>>>> 10.11 (El Capitan)
> >>>>>>>
> >>>>>>> locale:
> >>>>>>> [1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-
> 8/en_CA.UTF-
> >> 8
> >>>>>>>
> >>>>>>> attached base packages:
> >>>>>>> [1] stats     graphics  grDevices utils     datasets  methods
> >> base
> >>>>>>>
> >>>>>>> other attached packages:
> >>>>>>> [1] rgl_0.95.1367
> >>>>>>>
> >>>>>>> I see this problem only in R.app, not when R is run in a
> >> terminal or
> >>>>>> in RStudio.
> >>>>>>>
> >>>>>>> This problem was original brought to my attention by Jose Conde
> >> (to
> >>>>>> whom I'm cc'ing this message), who encountered the problem using
> >> the
> >>>>>> scatter3d() function in the car package via the Rcmdr, but the
> >>>> problem
> >>>>>> isn't unique to either scatter3d() or the Rcmdr. In the case of
> >>>>>> scatter3d() the command
> >>>>>>>
> >>>>>>>    scatter3d(prestige ~ income + education, data=Prestige)
> >>>>>>>
> >>>>>>> which draws a regression surface, reliably crashes R.app, but
> >>>>>>>
> >>>>>>>    scatter3d(prestige ~ income + education, data=Prestige,
> >>>>>> surface=FALSE)
> >>>>>>>
> >>>>>>> which plots only points (as spheres) doesn't.
> >>>>>>>
> >>>>>>> I hope that this provides enough clues to diagnose the problem.
> >>>>>>>
> >>>>>>>
> >>>>>>
> >>>>>> I don't have El Capitan, I'm still running under OS X 10.9.5
> >>>>>> (Mavericks), and it doesn't crash.
> >>>>>
> >>>>> That was my experience as well -- I didn't experience this problem
> >>>> under either Mavericks or Yosemite. BTW, I reinstalled R 3.2.2 and
> >>>> XQuartz after upgrading to El Capitan. I usually upgrade fairly
> >> early to
> >>>> see whether there are any problems.
> >>>>>
> >>>>>>
> >>>>>> Since you're using the latest rgl, you must have built it
> >> yourself --
> >>>>>> CRAN doesn't distribute binaries for it (at least for Mavericks).
> >>>> Did
> >>>>>> you get any errors or warnings during compilation?
> >>>>>
> >>>>> Right again. I ran update.packages() to make sure that the error
> >>>> wasn't fixed and compiled packages that didn't yet have Mac
> >> binaries.
> >>>> AFAICS, there were no errors in compiling the rgl package.
> >>>>>
> >>>>> BTW, my apologies for posting my message twice -- my mailer
> >> complained
> >>>> about the address in the first message and I thought it wasn't sent.
> >>>>>
> >>>>> Thanks for looking into this,
> >>>>> John
> >>>>>
> >>>>>>
> >>>>>> Duncan Murdoch
> >>>
> >


From rkoenker at illinois.edu  Tue Oct 20 18:38:34 2015
From: rkoenker at illinois.edu (Roger Koenker)
Date: Tue, 20 Oct 2015 11:38:34 -0500
Subject: [R-SIG-Mac] Rscript?
Message-ID: <B0D87F36-125C-4E5B-9F5F-9D230F577D04@illinois.edu>

I don?t use Rscript, but thought I would try to see if I could improve my workflow this morning and have 
encountered a somewhat baffling roadblock:

I try to run:

yzzy: Rscript --verbose -e "cat('hi')"
running
  '/Library/Frameworks/R.framework/Versions/bin/R --slave --no-restore -e cat('hi')'

Rscript execution error: No such file or directory

so then I wondered:

yzzy: which Rscript
/usr/bin/Rscript
yzzy: ls -l /usr/bin/Rscript
lrwxr-xr-x  1 root  wheel  53 Oct 20 11:13 /usr/bin/Rscript -> /Library/Frameworks/R.framework/Resources/bin/Rscript

which looked ok, since I had reinstalled R this morning:

yzzy: R --version
R version 3.2.2 (2015-08-14) -- "Fire Safety"
Copyright (C) 2015 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin13.4.0 (64-bit)

but eventually I noticed (see above) that Rscript seems to be pointing to Library/Frameworks/R.framework/Versions/bin/R
which indeed doesn?t exist.  So something is amiss.   Naively it would seem that Rscript should point to ?/Resources/?
not to ?/Versions/?  but I?m sure that there is a simpler explanation that probably involves some weirdness in my
installation setup.

url:    www.econ.uiuc.edu/~roger            Roger Koenker
email    rkoenker at uiuc.edu            Department of Economics
vox:     217-333-4558                University of Illinois
fax:       217-244-6678                Urbana, IL 61801


From kevinushey at gmail.com  Tue Oct 20 19:01:05 2015
From: kevinushey at gmail.com (Kevin Ushey)
Date: Tue, 20 Oct 2015 10:01:05 -0700
Subject: [R-SIG-Mac] Rscript?
In-Reply-To: <B0D87F36-125C-4E5B-9F5F-9D230F577D04@illinois.edu>
References: <B0D87F36-125C-4E5B-9F5F-9D230F577D04@illinois.edu>
Message-ID: <CAJXgQP1_L+pw3TcQ+CVJTh67octk5Su3h68nAO9VG7U03EewHw@mail.gmail.com>

FWIW, with a recent-ish CRAN R installation (3.2.2 patched, r69059) on
El Capitan, I have the same and all is well:

    kevin:~$ which Rscript
    /usr/local/bin/Rscript

    kevin:~$ which Rscript | xargs greadlink
    /Library/Frameworks/R.framework/Resources/bin/Rscript

    kevin:~$ which Rscript | xargs greadlink -f
    /Library/Frameworks/R.framework/Versions/3.2/Resources/bin/Rscript

Is it possible that the 'Current' symlink in your Versions folder is
not up to date for some reason? (You should see a number of installed
R versions in `R.framework/Versions/`, with `Current` being a symlink
to the currently active version of R).

It might be useful to see the output of `ls -la` in both your
R.framework and R.framework/Versions folders, to confirm.

Kevin

On Tue, Oct 20, 2015 at 9:38 AM, Roger Koenker <rkoenker at illinois.edu> wrote:
> I don?t use Rscript, but thought I would try to see if I could improve my workflow this morning and have
> encountered a somewhat baffling roadblock:
>
> I try to run:
>
> yzzy: Rscript --verbose -e "cat('hi')"
> running
>   '/Library/Frameworks/R.framework/Versions/bin/R --slave --no-restore -e cat('hi')'
>
> Rscript execution error: No such file or directory
>
> so then I wondered:
>
> yzzy: which Rscript
> /usr/bin/Rscript
> yzzy: ls -l /usr/bin/Rscript
> lrwxr-xr-x  1 root  wheel  53 Oct 20 11:13 /usr/bin/Rscript -> /Library/Frameworks/R.framework/Resources/bin/Rscript
>
> which looked ok, since I had reinstalled R this morning:
>
> yzzy: R --version
> R version 3.2.2 (2015-08-14) -- "Fire Safety"
> Copyright (C) 2015 The R Foundation for Statistical Computing
> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>
> but eventually I noticed (see above) that Rscript seems to be pointing to Library/Frameworks/R.framework/Versions/bin/R
> which indeed doesn?t exist.  So something is amiss.   Naively it would seem that Rscript should point to ?/Resources/?
> not to ?/Versions/?  but I?m sure that there is a simpler explanation that probably involves some weirdness in my
> installation setup.
>
> url:    www.econ.uiuc.edu/~roger            Roger Koenker
> email    rkoenker at uiuc.edu            Department of Economics
> vox:     217-333-4558                University of Illinois
> fax:       217-244-6678                Urbana, IL 61801
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From Rainer at krugs.de  Tue Oct 20 19:13:13 2015
From: Rainer at krugs.de (Rainer M Krug)
Date: Tue, 20 Oct 2015 19:13:13 +0200
Subject: [R-SIG-Mac] Rscript?
In-Reply-To: <B0D87F36-125C-4E5B-9F5F-9D230F577D04@illinois.edu> (Roger
	Koenker's message of "Tue, 20 Oct 2015 11:38:34 -0500")
References: <B0D87F36-125C-4E5B-9F5F-9D230F577D04@illinois.edu>
Message-ID: <m2a8rdcvkm.fsf@krugs.de>

Roger Koenker <rkoenker at illinois.edu> writes:

> I don?t use Rscript, but thought I would try to see if I could improve my workflow this morning and have 
> encountered a somewhat baffling roadblock:
>
> I try to run:
>
> yzzy: Rscript --verbose -e "cat('hi')"
> running
>   '/Library/Frameworks/R.framework/Versions/bin/R --slave --no-restore -e cat('hi')'
>
> Rscript execution error: No such file or directory
>
> so then I wondered:
>
> yzzy: which Rscript
> /usr/bin/Rscript
> yzzy: ls -l /usr/bin/Rscript
> lrwxr-xr-x  1 root  wheel  53 Oct 20 11:13 /usr/bin/Rscript -> /Library/Frameworks/R.framework/Resources/bin/Rscript
>
> which looked ok, since I had reinstalled R this morning:
>
> yzzy: R --version
> R version 3.2.2 (2015-08-14) -- "Fire Safety"
> Copyright (C) 2015 The R Foundation for Statistical Computing
> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>
> but eventually I noticed (see above) that Rscript seems to be pointing to Library/Frameworks/R.framework/Versions/bin/R
> which indeed doesn?t exist.  So something is amiss.   Naively it would seem that Rscript should point to ?/Resources/?
> not to ?/Versions/?

In my homebrew installation of R it does:

,----
| 07:11:38 ~$ Rscript --verbose -e "cat('Hello World')"
| running
|   '/usr/local/Cellar/r/3.2.2_1/R.framework/Versions/3.2/Resources/bin/R --slave --no-restore -e cat('Hello World')'
| 
| Hello World07:11:44 ~$
`----

Cheers,

Rainer

> but I?m sure that there is a simpler explanation that probably involves some weirdness in my
> installation setup.
>
> url:    www.econ.uiuc.edu/~roger            Roger Koenker
> email    rkoenker at uiuc.edu            Department of Economics
> vox:     217-333-4558                University of Illinois
> fax:       217-244-6678                Urbana, IL 61801
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Rainer M. Krug, PhD (Conservation Ecology, SUN), MSc (Conservation Biology, UCT), Dipl. Phys. (Germany)

Centre of Excellence for Invasion Biology
Stellenbosch University
South Africa

Tel :       +33 - (0)9 53 10 27 44
Cell:       +33 - (0)6 85 62 59 98
Fax :       +33 - (0)9 58 10 27 44

Fax (D):    +49 - (0)3 21 21 25 22 44

email:      Rainer at krugs.de

Skype:      RMkrug

PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 454 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20151020/0a2aa0cd/attachment.bin>

From rkoenker at illinois.edu  Tue Oct 20 19:14:50 2015
From: rkoenker at illinois.edu (Roger Koenker)
Date: Tue, 20 Oct 2015 12:14:50 -0500
Subject: [R-SIG-Mac] Rscript?
In-Reply-To: <55a0a253628f422bbc0103b678ded3be@CHIHT4.ad.uillinois.edu>
References: <B0D87F36-125C-4E5B-9F5F-9D230F577D04@illinois.edu>
	<55a0a253628f422bbc0103b678ded3be@CHIHT4.ad.uillinois.edu>
Message-ID: <7D08719C-43F0-448F-8049-84B2945A44A3@illinois.edu>

I have:

yzzy: pwd
/Library/Frameworks/R.framework/Versions
yzzy: ls -la
total 8
drwxrwxr-x+ 16 root  admin  544 Oct 20 11:13 .
drwxrwxr-x+  8 root  admin  272 Oct 20 11:13 ..
drwxrwxr-x+  3 root  admin  102 Feb 10  2010 2.10
drwxrwxr-x+  3 root  admin  102 May  1  2011 2.11
drwxrwxr-x+  3 root  admin  102 Aug 21  2012 2.14
drwxrwxr-x+  6 root  admin  204 Apr  1  2014 2.15
drwxrwxr-x+  4 root  admin  136 Sep  5  2007 2.4
drwxrwxr-x+  4 root  admin  136 Aug 22  2008 2.6
drwxrwxr-x+  3 root  admin  102 Feb  6  2009 2.7
drwxrwxr-x+  6 root  admin  204 Apr  1  2014 2.8
drwxrwxr-x+  6 root  admin  204 Apr  1  2014 2.9
drwxrwxr-x+  6 root  admin  204 Apr  1  2014 3.0
drwxrwxr-x   3 root  admin  102 Jun  5 15:32 3.1
drwxrwxr-x   6 root  admin  204 Oct 20 11:13 3.2
drwxrwxr-x   3 root  admin  102 Oct 20 11:13 3.3
lrwxr-xr-x   1 root  admin    3 Oct 20 11:13 Current -> 3.2

but note that my Rscript expects that there is a bin directory here...

url:    www.econ.uiuc.edu/~roger            Roger Koenker
email    rkoenker at uiuc.edu            Department of Economics
vox:     217-333-4558                University of Illinois
fax:       217-244-6678                Urbana, IL 61801

> On Oct 20, 2015, at 12:01 PM, Kevin Ushey <kevinushey at gmail.com> wrote:
> 
> FWIW, with a recent-ish CRAN R installation (3.2.2 patched, r69059) on
> El Capitan, I have the same and all is well:
> 
>    kevin:~$ which Rscript
>    /usr/local/bin/Rscript
> 
>    kevin:~$ which Rscript | xargs greadlink
>    /Library/Frameworks/R.framework/Resources/bin/Rscript
> 
>    kevin:~$ which Rscript | xargs greadlink -f
>    /Library/Frameworks/R.framework/Versions/3.2/Resources/bin/Rscript
> 
> Is it possible that the 'Current' symlink in your Versions folder is
> not up to date for some reason? (You should see a number of installed
> R versions in `R.framework/Versions/`, with `Current` being a symlink
> to the currently active version of R).
> 
> It might be useful to see the output of `ls -la` in both your
> R.framework and R.framework/Versions folders, to confirm.
> 
> Kevin
> 
> On Tue, Oct 20, 2015 at 9:38 AM, Roger Koenker <rkoenker at illinois.edu> wrote:
>> I don?t use Rscript, but thought I would try to see if I could improve my workflow this morning and have
>> encountered a somewhat baffling roadblock:
>> 
>> I try to run:
>> 
>> yzzy: Rscript --verbose -e "cat('hi')"
>> running
>>  '/Library/Frameworks/R.framework/Versions/bin/R --slave --no-restore -e cat('hi')'
>> 
>> Rscript execution error: No such file or directory
>> 
>> so then I wondered:
>> 
>> yzzy: which Rscript
>> /usr/bin/Rscript
>> yzzy: ls -l /usr/bin/Rscript
>> lrwxr-xr-x  1 root  wheel  53 Oct 20 11:13 /usr/bin/Rscript -> /Library/Frameworks/R.framework/Resources/bin/Rscript
>> 
>> which looked ok, since I had reinstalled R this morning:
>> 
>> yzzy: R --version
>> R version 3.2.2 (2015-08-14) -- "Fire Safety"
>> Copyright (C) 2015 The R Foundation for Statistical Computing
>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>> 
>> but eventually I noticed (see above) that Rscript seems to be pointing to Library/Frameworks/R.framework/Versions/bin/R
>> which indeed doesn?t exist.  So something is amiss.   Naively it would seem that Rscript should point to ?/Resources/?
>> not to ?/Versions/?  but I?m sure that there is a simpler explanation that probably involves some weirdness in my
>> installation setup.
>> 
>> url:    www.econ.uiuc.edu/~roger            Roger Koenker
>> email    rkoenker at uiuc.edu            Department of Economics
>> vox:     217-333-4558                University of Illinois
>> fax:       217-244-6678                Urbana, IL 61801
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From marius.hofert at uwaterloo.ca  Thu Oct 22 01:02:25 2015
From: marius.hofert at uwaterloo.ca (Marius Hofert)
Date: Wed, 21 Oct 2015 19:02:25 -0400
Subject: [R-SIG-Mac] "gsl" does not seem to find installed GSL
Message-ID: <CAM3-KjbeO9BAtiv2kXT1=dsdQfjQwpt1EXDBJwjU+BqOiYOKGA@mail.gmail.com>

Hi,

I installed gsl (gsl-1.16.tar.gz) via ./configure, make, make check
and sudo make install. gsl-config --version shows:

$ gsl-config --version
1.16

I then wanted to install the R package "gsl" from source:

> install.packages("gsl", type="source")
Installing package into '/usr/local/R/library'
(as 'lib' is unspecified)
trying URL 'http://cran.r-project.org/src/contrib/gsl_1.9-10.tar.gz'
Content type 'application/x-gzip' length 342803 bytes (334 KB)
==================================================
downloaded 334 KB

* installing *source* package 'gsl' ...
** package 'gsl' successfully unpacked and MD5 sums checked
checking for gsl-config... /usr/local/bin/gsl-config
checking if GSL version >= 1.12... checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
configure: error: Need GSL version >= 1.12
ERROR: configuration failed for package 'gsl'

What fails? I did the exact same thing an another MacBook Pro a couple
of months ago and it worked there (also under OS X 10.11)... this is
strange.

I found https://stackoverflow.com/questions/24781125/installing-r-gsl-package-on-mac#_=_
which goes further back but addresses more or less the same problem. I
don't understand the answer there: Do I have to set the flags CFLAGS
and LDFLAGS when configuring gsl?

Cheers,
Marius


From marius.hofert at uwaterloo.ca  Thu Oct 22 01:12:09 2015
From: marius.hofert at uwaterloo.ca (Marius Hofert)
Date: Wed, 21 Oct 2015 19:12:09 -0400
Subject: [R-SIG-Mac] "gsl" does not seem to find installed GSL
In-Reply-To: <CAM3-KjbeO9BAtiv2kXT1=dsdQfjQwpt1EXDBJwjU+BqOiYOKGA@mail.gmail.com>
References: <CAM3-KjbeO9BAtiv2kXT1=dsdQfjQwpt1EXDBJwjU+BqOiYOKGA@mail.gmail.com>
Message-ID: <CAM3-KjYODn2rprA_=2xr2Tc48Amx3=PNSx0ugg=irn6NPaprzQ@mail.gmail.com>

On Wed, Oct 21, 2015 at 7:02 PM, Marius Hofert wrote:
> What fails? I did the exact same thing an another MacBook Pro a couple
> of months ago and it worked there (also under OS X 10.11)... this is
> strange.
>

I just tried to install "gsl" on the other machine again... and it
also failed. I must have installed it under OS X 10.10 then (before
the upgrade). Is this a known issue? (how can it be solved?)


From roy.mendelssohn at noaa.gov  Thu Oct 22 01:24:45 2015
From: roy.mendelssohn at noaa.gov (Roy Mendelssohn - NOAA Federal)
Date: Wed, 21 Oct 2015 16:24:45 -0700
Subject: [R-SIG-Mac] "gsl" does not seem to find installed GSL
In-Reply-To: <CAM3-KjYODn2rprA_=2xr2Tc48Amx3=PNSx0ugg=irn6NPaprzQ@mail.gmail.com>
References: <CAM3-KjbeO9BAtiv2kXT1=dsdQfjQwpt1EXDBJwjU+BqOiYOKGA@mail.gmail.com>
	<CAM3-KjYODn2rprA_=2xr2Tc48Amx3=PNSx0ugg=irn6NPaprzQ@mail.gmail.com>
Message-ID: <1F1CD0EA-1D4A-4195-B3A4-E1A938D63E7F@noaa.gov>

Just a guess but in the the config step it says:

> configure: error: Need GSL version >= 1.12

and the version on cran is 1.9.  I am not certain why you want to install from source, but either way,  Simon has more recent versions on his web pages, the src at:

http://r.research.att.com/src/

and the libs at:

http://r.research.att.com/libs/


HTH,

-Roy
> On Oct 21, 2015, at 4:12 PM, Marius Hofert <marius.hofert at uwaterloo.ca> wrote:
> 
> On Wed, Oct 21, 2015 at 7:02 PM, Marius Hofert wrote:
>> What fails? I did the exact same thing an another MacBook Pro a couple
>> of months ago and it worked there (also under OS X 10.11)... this is
>> strange.
>> 
> 
> I just tried to install "gsl" on the other machine again... and it
> also failed. I must have installed it under OS X 10.10 then (before
> the upgrade). Is this a known issue? (how can it be solved?)
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new address and phone***
110 Shaffer Road
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From marius.hofert at uwaterloo.ca  Thu Oct 22 01:54:18 2015
From: marius.hofert at uwaterloo.ca (Marius Hofert)
Date: Wed, 21 Oct 2015 19:54:18 -0400
Subject: [R-SIG-Mac] "gsl" does not seem to find installed GSL
In-Reply-To: <b40a7b2d930c4446a4a0782e6674b2c4@CONNHUB4.connect.uwaterloo.ca>
References: <CAM3-KjbeO9BAtiv2kXT1=dsdQfjQwpt1EXDBJwjU+BqOiYOKGA@mail.gmail.com>
	<CAM3-KjYODn2rprA_=2xr2Tc48Amx3=PNSx0ugg=irn6NPaprzQ@mail.gmail.com>
	<b40a7b2d930c4446a4a0782e6674b2c4@CONNHUB4.connect.uwaterloo.ca>
Message-ID: <CAM3-KjYjTQqmKmeHDfSYgnBWzmgS0610TDi4653=G+N2f3zdAg@mail.gmail.com>

Dear Roy,

thanks for helping.

Can you explain how that solves the problem? I have a *working*
version of GSL 1.16 installed (as far as I see, Simon provides these
as well on the website you mentioned). But I don't see how that should
help me installing the R *package* gsl (?)

Cheers,
Marius

On Wed, Oct 21, 2015 at 7:24 PM, Roy Mendelssohn - NOAA Federal
<roy.mendelssohn at noaa.gov> wrote:
> Just a guess but in the the config step it says:
>
>> configure: error: Need GSL version >= 1.12
>
> and the version on cran is 1.9.  I am not certain why you want to install from source, but either way,  Simon has more recent versions on his web pages, the src at:
>
> http://r.research.att.com/src/
>
> and the libs at:
>
> http://r.research.att.com/libs/
>
>
> HTH,
>
> -Roy
>> On Oct 21, 2015, at 4:12 PM, Marius Hofert <marius.hofert at uwaterloo.ca> wrote:
>>
>> On Wed, Oct 21, 2015 at 7:02 PM, Marius Hofert wrote:
>>> What fails? I did the exact same thing an another MacBook Pro a couple
>>> of months ago and it worked there (also under OS X 10.11)... this is
>>> strange.
>>>
>>
>> I just tried to install "gsl" on the other machine again... and it
>> also failed. I must have installed it under OS X 10.10 then (before
>> the upgrade). Is this a known issue? (how can it be solved?)
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> **********************
> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
> **********************
> Roy Mendelssohn
> Supervisory Operations Research Analyst
> NOAA/NMFS
> Environmental Research Division
> Southwest Fisheries Science Center
> ***Note new address and phone***
> 110 Shaffer Road
> Santa Cruz, CA 95060
> Phone: (831)-420-3666
> Fax: (831) 420-3980
> e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/
>
> "Old age and treachery will overcome youth and skill."
> "From those who have been given much, much will be expected"
> "the arc of the moral universe is long, but it bends toward justice" -MLK Jr.
>


From marius.hofert at uwaterloo.ca  Thu Oct 22 12:53:37 2015
From: marius.hofert at uwaterloo.ca (Marius Hofert)
Date: Thu, 22 Oct 2015 06:53:37 -0400
Subject: [R-SIG-Mac] "gsl" does not seem to find installed GSL
In-Reply-To: <b1478a14a9184cf18f4e4b95662ffc6e@CONNHUB1.connect.uwaterloo.ca>
References: <CAM3-KjbeO9BAtiv2kXT1=dsdQfjQwpt1EXDBJwjU+BqOiYOKGA@mail.gmail.com>
	<CAM3-KjYODn2rprA_=2xr2Tc48Amx3=PNSx0ugg=irn6NPaprzQ@mail.gmail.com>
	<b1478a14a9184cf18f4e4b95662ffc6e@CONNHUB1.connect.uwaterloo.ca>
Message-ID: <CAM3-KjawEeaNRtM1YXJaHdpJYV9LROtmny+uTcPwO1n5wsUGzw@mail.gmail.com>

Hi Kjell,

That worked, thanks a lot. I now also understand the solution on
https://stackoverflow.com/questions/24781125/installing-r-gsl-package-on-mac#_=_
better. So this also solved the problem for me (which shortens your
approach):

1) Run:
   gsl-config  --cflags # => -I/usr/local/include
   gsl-config  --libs # => -L/usr/local/lib -lgsl -lgslcblas
2) Start R with these flags:
   CFLAGS="-I/usr/local/include" LDFLAGS="-L/usr/local/lib -lgsl -lgslcblas" R
3) install.packages("gsl") # now works

What also worked is simply taking the binaries for 10.9.

Cheers (and greetings to everyone!),
Marius


On Thu, Oct 22, 2015 at 12:01 AM, Kjell Konis <kjell.konis at icloud.com> wrote:
> Hi Marius,
>
> I have had this same problem several times. My workaround is to
>
> 1. download the source package
> 2. uncompress/unarchive the package
> 3. delete the 2 configure scripts
> 4. in src, rename Makevars.in Makevars
> 5. edit Makevars, replace @GSL_CFLAGS@ with the output of 'gsl-config ?cflags? and replace @GSL_LIBS@ with the output of ?gsl-config ?libs'
> 6. R CMD INSTALL the gsl directory
>
> Hope that works,
> Kjell
>
>> On Oct 21, 2015, at 4:12 PM, Marius Hofert <marius.hofert at uwaterloo.ca> wrote:
>>
>> On Wed, Oct 21, 2015 at 7:02 PM, Marius Hofert wrote:
>>> What fails? I did the exact same thing an another MacBook Pro a couple
>>> of months ago and it worked there (also under OS X 10.11)... this is
>>> strange.
>>>
>>
>> I just tried to install "gsl" on the other machine again... and it
>> also failed. I must have installed it under OS X 10.10 then (before
>> the upgrade). Is this a known issue? (how can it be solved?)
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From Rainer at krugs.de  Fri Oct 23 12:33:00 2015
From: Rainer at krugs.de (Rainer M Krug)
Date: Fri, 23 Oct 2015 12:33:00 +0200
Subject: [R-SIG-Mac] Setting locale for running R in emacs / ess
Message-ID: <m2pp0598o3.fsf@krugs.de>

Hi

I installed R via homebrew, but it should be the same for the normal R
installation.

When I start R in emacs, I get these unset locale warnings:

,----
| During startup - Warning messages:
| 1: Setting LC_CTYPE failed, using "C" 
| 2: Setting LC_COLLATE failed, using "C" 
| 3: Setting LC_TIME failed, using "C" 
| 4: Setting LC_MESSAGES failed, using "C" 
| 5: Setting LC_MONETARY failed, using "C" 
| > > options(STERM='iESS', str.dendrogram.last="'", editor='emacsclient', show.error.locations=TRUE)
| > sessionInfo()
| R version 3.2.2 (2015-08-14)
| Platform: x86_64-apple-darwin14.5.0 (64-bit)
| Running under: OS X 10.11 (El Capitan)
| 
| locale:
| [1] C
| 
| attached base packages:
| [1] stats     graphics  grDevices utils     datasets  methods   base     
| > version
|                _                           
| platform       x86_64-apple-darwin14.5.0   
| arch           x86_64                      
| os             darwin14.5.0                
| system         x86_64, darwin14.5.0        
| status                                     
| major          3                           
| minor          2.2                         
| year           2015                        
| month          08                          
| day            14                          
| svn rev        69053                       
| language       R                           
| version.string R version 3.2.2 (2015-08-14)
| nickname       Fire Safety                 
| > 
`----

But I have the following in my .emacs file which should set the locales
(as far as I know)

,----
| (setq utf-translate-cjk-mode nil) ; disable CJK coding/encoding (Chinese/Japanese/Korean characters)
| (set-language-environment 'utf-8)
| ;; (set-keyboard-coding-system 'utf-8-mac) ; For old Carbon emacs on OS X only
| (setq locale-coding-system 'utf-8)
| (set-default-coding-systems 'utf-8)
| (set-terminal-coding-system 'utf-8)
| (unless (eq system-type 'windows-nt)
|   (set-selection-coding-system 'utf-8))
| (prefer-coding-system 'utf-8)
`----

which apparently does not work.

Do I have to resort to setting the locales as described at
http://stackoverflow.com/questions/30264526/why-does-my-ess-r-session-fall-back-to-c-locale

or am I missing something?

Thanks,

Rainer

-- 
Rainer M. Krug, PhD (Conservation Ecology, SUN), MSc (Conservation Biology, UCT), Dipl. Phys. (Germany)

Centre of Excellence for Invasion Biology
Stellenbosch University
South Africa

Tel :       +33 - (0)9 53 10 27 44
Cell:       +33 - (0)6 85 62 59 98
Fax :       +33 - (0)9 58 10 27 44

Fax (D):    +49 - (0)3 21 21 25 22 44

email:      Rainer at krugs.de

Skype:      RMkrug

PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 454 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20151023/cc26461c/attachment.bin>

From marc_schwartz at me.com  Fri Oct 23 13:26:03 2015
From: marc_schwartz at me.com (Marc Schwartz)
Date: Fri, 23 Oct 2015 06:26:03 -0500
Subject: [R-SIG-Mac] Setting locale for running R in emacs / ess
In-Reply-To: <m2pp0598o3.fsf@krugs.de>
References: <m2pp0598o3.fsf@krugs.de>
Message-ID: <5F2F723A-BB63-4622-BC83-96BB14CCB948@me.com>


> On Oct 23, 2015, at 5:33 AM, Rainer M Krug <Rainer at krugs.de> wrote:
> 
> Hi
> 
> I installed R via homebrew, but it should be the same for the normal R
> installation.
> 
> When I start R in emacs, I get these unset locale warnings:
> 
> ,----
> | During startup - Warning messages:
> | 1: Setting LC_CTYPE failed, using "C" 
> | 2: Setting LC_COLLATE failed, using "C" 
> | 3: Setting LC_TIME failed, using "C" 
> | 4: Setting LC_MESSAGES failed, using "C" 
> | 5: Setting LC_MONETARY failed, using "C" 
> | > > options(STERM='iESS', str.dendrogram.last="'", editor='emacsclient', show.error.locations=TRUE)
> | > sessionInfo()
> | R version 3.2.2 (2015-08-14)
> | Platform: x86_64-apple-darwin14.5.0 (64-bit)
> | Running under: OS X 10.11 (El Capitan)
> | 
> | locale:
> | [1] C
> | 
> | attached base packages:
> | [1] stats     graphics  grDevices utils     datasets  methods   base     
> | > version
> |                _                           
> | platform       x86_64-apple-darwin14.5.0   
> | arch           x86_64                      
> | os             darwin14.5.0                
> | system         x86_64, darwin14.5.0        
> | status                                     
> | major          3                           
> | minor          2.2                         
> | year           2015                        
> | month          08                          
> | day            14                          
> | svn rev        69053                       
> | language       R                           
> | version.string R version 3.2.2 (2015-08-14)
> | nickname       Fire Safety                 
> | > 
> `----
> 
> But I have the following in my .emacs file which should set the locales
> (as far as I know)
> 
> ,----
> | (setq utf-translate-cjk-mode nil) ; disable CJK coding/encoding (Chinese/Japanese/Korean characters)
> | (set-language-environment 'utf-8)
> | ;; (set-keyboard-coding-system 'utf-8-mac) ; For old Carbon emacs on OS X only
> | (setq locale-coding-system 'utf-8)
> | (set-default-coding-systems 'utf-8)
> | (set-terminal-coding-system 'utf-8)
> | (unless (eq system-type 'windows-nt)
> |   (set-selection-coding-system 'utf-8))
> | (prefer-coding-system 'utf-8)
> `----
> 
> which apparently does not work.
> 
> Do I have to resort to setting the locales as described at
> http://stackoverflow.com/questions/30264526/why-does-my-ess-r-session-fall-back-to-c-locale
> 
> or am I missing something?
> 
> Thanks,
> 
> Rainer


Rainer,

Download exec-path-from-shell.el from:

  https://github.com/purcell/exec-path-from-shell

and place it where you may have other Emacs related add ins.

Then, in your ~/.emacs file, add:

  (load "/PATH.TO/exec-path-from-shell")
  (exec-path-from-shell-initialize)

Replacing PATH.TO with the actual path to the exec-path-from-shell.el file.

You should remove the other lines pertaining to locales that you have above.

That should help Emacs/ESS started from the GUI/dock pick up the environment that you would normally have in a terminal session of R.

Also, in case you are not aware, there is a dedicated ESS list here:

  https://stat.ethz.ch/mailman/listinfo/ess-help


Regards,

Marc Schwartz


From Rainer at krugs.de  Fri Oct 23 14:13:17 2015
From: Rainer at krugs.de (Rainer M Krug)
Date: Fri, 23 Oct 2015 14:13:17 +0200
Subject: [R-SIG-Mac] Setting locale for running R in emacs / ess
In-Reply-To: <5F2F723A-BB63-4622-BC83-96BB14CCB948@me.com> (Marc Schwartz's
	message of "Fri, 23 Oct 2015 06:26:03 -0500")
References: <m2pp0598o3.fsf@krugs.de>
	<5F2F723A-BB63-4622-BC83-96BB14CCB948@me.com>
Message-ID: <m2h9lh940y.fsf@krugs.de>

Marc Schwartz <marc_schwartz at me.com> writes:

>> On Oct 23, 2015, at 5:33 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>> 
>> Hi
>> 
>> I installed R via homebrew, but it should be the same for the normal R
>> installation.
>> 
>> When I start R in emacs, I get these unset locale warnings:
>> 
>> ,----
>> | During startup - Warning messages:
>> | 1: Setting LC_CTYPE failed, using "C" 
>> | 2: Setting LC_COLLATE failed, using "C" 
>> | 3: Setting LC_TIME failed, using "C" 
>> | 4: Setting LC_MESSAGES failed, using "C" 
>> | 5: Setting LC_MONETARY failed, using "C" 
>> | > > options(STERM='iESS', str.dendrogram.last="'", editor='emacsclient', show.error.locations=TRUE)
>> | > sessionInfo()
>> | R version 3.2.2 (2015-08-14)
>> | Platform: x86_64-apple-darwin14.5.0 (64-bit)
>> | Running under: OS X 10.11 (El Capitan)
>> | 
>> | locale:
>> | [1] C
>> | 
>> | attached base packages:
>> | [1] stats     graphics  grDevices utils     datasets  methods   base     
>> | > version
>> |                _                           
>> | platform       x86_64-apple-darwin14.5.0   
>> | arch           x86_64                      
>> | os             darwin14.5.0                
>> | system         x86_64, darwin14.5.0        
>> | status                                     
>> | major          3                           
>> | minor          2.2                         
>> | year           2015                        
>> | month          08                          
>> | day            14                          
>> | svn rev        69053                       
>> | language       R                           
>> | version.string R version 3.2.2 (2015-08-14)
>> | nickname       Fire Safety                 
>> | > 
>> `----
>> 
>> But I have the following in my .emacs file which should set the locales
>> (as far as I know)
>> 
>> ,----
>> | (setq utf-translate-cjk-mode nil) ; disable CJK coding/encoding (Chinese/Japanese/Korean characters)
>> | (set-language-environment 'utf-8)
>> | ;; (set-keyboard-coding-system 'utf-8-mac) ; For old Carbon emacs on OS X only
>> | (setq locale-coding-system 'utf-8)
>> | (set-default-coding-systems 'utf-8)
>> | (set-terminal-coding-system 'utf-8)
>> | (unless (eq system-type 'windows-nt)
>> |   (set-selection-coding-system 'utf-8))
>> | (prefer-coding-system 'utf-8)
>> `----
>> 
>> which apparently does not work.
>> 
>> Do I have to resort to setting the locales as described at
>> http://stackoverflow.com/questions/30264526/why-does-my-ess-r-session-fall-back-to-c-locale
>> 
>> or am I missing something?
>> 
>> Thanks,
>> 
>> Rainer
>
>
> Rainer,
>
> Download exec-path-from-shell.el from:
>
>   https://github.com/purcell/exec-path-from-shell
>
> and place it where you may have other Emacs related add ins.
>
> Then, in your ~/.emacs file, add:
>
>   (load "/PATH.TO/exec-path-from-shell")
>   (exec-path-from-shell-initialize)
>
> Replacing PATH.TO with the actual path to the exec-path-from-shell.el file.

Thanks - I was using exec-path-from-shell already, but it was supposed
to only copy the PATH and MANPATH as you can see here. But all
environmental variables were copier=d under emacs 24.

My problem is under 25, where exec-path-from-shell bev=haves as it
should (or emacs does) as it only copies the PATH and MANPATH. I now
added

,----
|   (exec-path-from-shell-copy-env "LC_ALL")
|   (exec-path-from-shell-copy-env "LANG")
`----

and it works nicely.

There seems to be a bug in either emacs 24 or in exec-path-from-shell.

>
> You should remove the other lines pertaining to locales that you have above.
>
> That should help Emacs/ESS started from the GUI/dock pick up the
> environment that you would normally have in a terminal session of R.
>
> Also, in case you are not aware, there is a dedicated ESS list here:
>
>   https://stat.ethz.ch/mailman/listinfo/ess-help

Yes I know, but I s=decided to ask here, as it is a mac specific
problem. The last time I tried it on the ESS list but did not get a
response.

Thanks a lot, and keep this change in mu=ind when upgrading to emacs
25,

Rainer

>
>
> Regards,
>
> Marc Schwartz
>
>

-- 
Rainer M. Krug, PhD (Conservation Ecology, SUN), MSc (Conservation Biology, UCT), Dipl. Phys. (Germany)

Centre of Excellence for Invasion Biology
Stellenbosch University
South Africa

Tel :       +33 - (0)9 53 10 27 44
Cell:       +33 - (0)6 85 62 59 98
Fax :       +33 - (0)9 58 10 27 44

Fax (D):    +49 - (0)3 21 21 25 22 44

email:      Rainer at krugs.de

Skype:      RMkrug

PGP: 0x0F52F982
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 454 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20151023/a4382f08/attachment.bin>

From S.J.Eglen at damtp.cam.ac.uk  Sun Oct  4 08:52:32 2015
From: S.J.Eglen at damtp.cam.ac.uk (Stephen Eglen)
Date: Sun, 04 Oct 2015 06:52:32 -0000
Subject: [R-SIG-Mac] Installing rzmq package
Message-ID: <m2eghb9lcl.fsf@damtp.cam.ac.uk>

Dear all,

Does anyone have any insight into installing `rzmq` either from CRAN or
from github?  the CRAN page notes the dependency on the zeromq
libraries:

https://cran.r-project.org/web/packages/rzmq/index.html

I have installed `zeromq` via homebrew, but then get a mismatch in
dynamic library versions; CRAN package expects libzmq.4.dylib and
homebrew installed libzmq.5.dylib.  This has been noted in the following
issue:

https://github.com/armstrtw/rzmq/issues/18

and so the .so reference in the CRAN package can be fixed via the call
to `install_name_tool`

But does anyone have any advice on fixing this problem?  Would it be to
get the mac R package to install the zeromq libraries?

Stephen


From cbjayasankar at gmail.com  Fri Oct 16 12:30:37 2015
From: cbjayasankar at gmail.com (Jayasankar C B)
Date: Fri, 16 Oct 2015 10:30:37 -0000
Subject: [R-SIG-Mac] Error message from R package installer
Message-ID: <CAC5my=Bc3Y7iQ2vpM2Wpdt0dbbjZUffANGk-+0ykyb++-yt6EA@mail.gmail.com>

Respected sir,

After installing R, I tried to install the packages from
Packages and Data -> Package installer -> Get list.
After some minutes it is showing
Warning: unable to access index for repository
https://cran.mtu.edu/bin/macosx/mavericks/contrib/3.2

I am a new R user. Please help me to install the packages. In my R console
sessionInfo() gives;


> sessionInfo()
R version 3.2.2 (2015-08-14)
Platform: x86_64-apple-darwin13.4.0 (64-bit)
Running under: OS X 10.9.5 (Mavericks)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base


Thanking you,

Yours sincerely

 *Jayasankar C B*

* CSIR Fourth Paradigm Institute (CSIR - 4PI),
 National Aerospace Laboratories (NAL) Belur Campus.
 Bangalore 560 037, India. *

	[[alternative HTML version deleted]]


From jose.conde1 at upr.edu  Mon Oct 19 17:54:43 2015
From: jose.conde1 at upr.edu (=?utf-8?Q?=22Jos=C3=A9_G=2E_Conde=22?=)
Date: Mon, 19 Oct 2015 15:54:43 -0000
Subject: [R-SIG-Mac] rgl crashes R.app in El Capitan
In-Reply-To: <ACD1644AA6C67E4FBD0C350625508EC810F30105@FHSDB2D11-2.csu.mcmaster.ca>
References: <ACD1644AA6C67E4FBD0C350625508EC810F2F468@FHSDB2D11-2.csu.mcmaster.ca>
	<561D5C93.2080603@stats.uwo.ca>
	<ACD1644AA6C67E4FBD0C350625508EC810F2F557@FHSDB2D11-2.csu.mcmaster.ca>
	<561FD444.3010606@gmail.com>
	<ACD1644AA6C67E4FBD0C350625508EC810F300A0@FHSDB2D11-2.csu.mcmaster.ca>
	<561FF459.4080103@gmail.com>
	<ACD1644AA6C67E4FBD0C350625508EC810F30105@FHSDB2D11-2.csu.mcmaster.ca>
Message-ID: <E2CDE31C-0CAA-4E95-A106-B9594B3B3593@upr.edu>

Hello all.

For your information, I just updated Xquartz to version 2.7.8, and the problem persists.

Thanks.

Jos?

Jos? G. Conde, MD, MPH
Catedr?tico, Escuela de Medicina
Director, CentIT2
Recinto de Ciencias M?dicas, UPR

Tel  (787) 763-9401  Fax (787) 758-5206

Correo electr?nico: jose.conde1 at upr.edu

URL: http://rcmi.rcm.upr.edu

> On Oct 15, 2015, at 4:22 PM, Fox, John <jfox at mcmaster.ca> wrote:
> 
> Hi Duncan,
> 
> Thanks again for taking care of this.
> 
> John
> 
>> -----Original Message-----
>> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
>> Sent: Thursday, October 15, 2015 2:46 PM
>> To: Fox, John; r-sig-mac at r-project.org
>> Cc: jose.conde1 at upr.edu
>> Subject: Re: rgl crashes R.app in El Capitan
>> 
>> On 15/10/2015 2:21 PM, Fox, John wrote:
>>> Hi Duncan,
>>> 
>>> Thanks for looking into this. Please see below:
>>> 
>>>> -----Original Message-----
>>>> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
>>>> Sent: Thursday, October 15, 2015 12:29 PM
>>>> To: Fox, John; r-sig-mac at r-project.org
>>>> Cc: jose.conde1 at upr.edu
>>>> Subject: Re: rgl crashes R.app in El Capitan
>>>> 
>>>> One of my students has El Capitan, so I got to see this.  It appears
>>>> it's the old aglrgl.so problem.  I should just give up on native
>>>> support, since I don't really know how to debug it.
>>>> 
>>>> The "simple" fix is to delete the aglrgl.so file.  This means R.app
>> will
>>>> use the X11 driver, the same as the terminal version or RStudio
>> would
>>>> use.  Some users will have problems with this:
>>>> 
>>>> - It means they need Xquartz installed.
>>>> - You need admin privileges to delete aglrgl.so, and you need to
>> know
>>>> how to find it.  To find it, in R you can run
>>>> 
>>>> system.file("libs/aglrgl.so", package="rgl")
>>>> 
>>>> in R; I see
>>>> 
>>>> 
>> "/Library/Frameworks/R.framework/Versions/3.2/Resources/library/rgl/libs
>>>> /aglrgl.so"
>>>> 
>>>> but others may see it elsewhere.  I don't know if there is a way to
>>>> delete it from R; I'd expect
>>>> 
>>>> unlink(system.file("libs/aglrgl.so", package="rgl"))
>>>> 
>>>> to fail because of permission problems, but I'm not sure of that.
>>> 
>>> Actually, that works for me and fixes the problem.
>>> 
>>>> 
>>>> I'm not going to attempt to describe Xquartz installation, but
>> Google
>>>> should be able to help.
>>> 
>>> Jose encountered this problem using the Rcmdr package, which already
>> requires XQuartz due to Tcl/Tk, but more generally the car package
>> doesn't need XQuartz. XQuartz installation is simple in any event.
>>> 
>>> One thing is unclear to me, however. Will you simply remove aglrgl.so
>> from the next version of rgl? If so, you should be able to test for the
>> presence of XQuartz and print a warning message in its absence.
>> 
>> Yes, I'll be dropping aglrgl.so.  rgl can run without any display (using
>> options(rgl.useNULL = TRUE) and writing WebGL or some other kinds of
>> output to a file), so I'm not sure whether a warning will be needed;
>> I'll have to think about use cases.
>> 
>> Duncan Murdoch
>> 
>>> 
>>> Best,
>>>  John
>>> 
>>>> 
>>>> Duncan Murdoch
>>>> 
>>>> 
>>>> 
>>>> On 13/10/2015 4:05 PM, Fox, John wrote:
>>>>> Dear Duncan,
>>>>> 
>>>>>> -----Original Message-----
>>>>>> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
>>>>>> Sent: Tuesday, October 13, 2015 3:34 PM
>>>>>> To: Fox, John; r-sig-mac at r-project.org
>>>>>> Cc: jose.conde1 at upr.edu
>>>>>> Subject: Re: rgl crashes R.app in El Capitan
>>>>>> 
>>>>>> On 13/10/2015 3:03 PM, Fox, John wrote:
>>>>>>> Dear r-sig-mac list members,
>>>>>>> 
>>>>>>> I can reliably crash R.app in R 3.2.2 under El Capitan with
>>>>>>> 
>>>>>>>  library(rgl)
>>>>>>>  demo("rgl")  # a few returns
>>>>>>> 
>>>>>>> My session info:
>>>>>>> 
>>>>>>>> sessionInfo()
>>>>>>> R version 3.2.2 (2015-08-14)
>>>>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit)
>>>>>>> Running under: OS X 10.11 (El Capitan)
>>>>>>> 
>>>>>>> locale:
>>>>>>> [1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-
>> 8
>>>>>>> 
>>>>>>> attached base packages:
>>>>>>> [1] stats     graphics  grDevices utils     datasets  methods
>> base
>>>>>>> 
>>>>>>> other attached packages:
>>>>>>> [1] rgl_0.95.1367
>>>>>>> 
>>>>>>> I see this problem only in R.app, not when R is run in a
>> terminal or
>>>>>> in RStudio.
>>>>>>> 
>>>>>>> This problem was original brought to my attention by Jose Conde
>> (to
>>>>>> whom I'm cc'ing this message), who encountered the problem using
>> the
>>>>>> scatter3d() function in the car package via the Rcmdr, but the
>>>> problem
>>>>>> isn't unique to either scatter3d() or the Rcmdr. In the case of
>>>>>> scatter3d() the command
>>>>>>> 
>>>>>>>    scatter3d(prestige ~ income + education, data=Prestige)
>>>>>>> 
>>>>>>> which draws a regression surface, reliably crashes R.app, but
>>>>>>> 
>>>>>>>    scatter3d(prestige ~ income + education, data=Prestige,
>>>>>> surface=FALSE)
>>>>>>> 
>>>>>>> which plots only points (as spheres) doesn't.
>>>>>>> 
>>>>>>> I hope that this provides enough clues to diagnose the problem.
>>>>>>> 
>>>>>>> 
>>>>>> 
>>>>>> I don't have El Capitan, I'm still running under OS X 10.9.5
>>>>>> (Mavericks), and it doesn't crash.
>>>>> 
>>>>> That was my experience as well -- I didn't experience this problem
>>>> under either Mavericks or Yosemite. BTW, I reinstalled R 3.2.2 and
>>>> XQuartz after upgrading to El Capitan. I usually upgrade fairly
>> early to
>>>> see whether there are any problems.
>>>>> 
>>>>>> 
>>>>>> Since you're using the latest rgl, you must have built it
>> yourself --
>>>>>> CRAN doesn't distribute binaries for it (at least for Mavericks).
>>>> Did
>>>>>> you get any errors or warnings during compilation?
>>>>> 
>>>>> Right again. I ran update.packages() to make sure that the error
>>>> wasn't fixed and compiled packages that didn't yet have Mac
>> binaries.
>>>> AFAICS, there were no errors in compiling the rgl package.
>>>>> 
>>>>> BTW, my apologies for posting my message twice -- my mailer
>> complained
>>>> about the address in the first message and I thought it wasn't sent.
>>>>> 
>>>>> Thanks for looking into this,
>>>>> John
>>>>> 
>>>>>> 
>>>>>> Duncan Murdoch
>>> 
> 


From jose.conde1 at upr.edu  Mon Oct 19 18:27:00 2015
From: jose.conde1 at upr.edu (=?utf-8?Q?=22Jos=C3=A9_G=2E_Conde=22?=)
Date: Mon, 19 Oct 2015 16:27:00 -0000
Subject: [R-SIG-Mac] rgl crashes R.app in El Capitan
In-Reply-To: <ACD1644AA6C67E4FBD0C350625508EC810F3109D@FHSDB2D11-2.csu.mcmaster.ca>
References: <ACD1644AA6C67E4FBD0C350625508EC810F2F468@FHSDB2D11-2.csu.mcmaster.ca>
	<561D5C93.2080603@stats.uwo.ca>
	<ACD1644AA6C67E4FBD0C350625508EC810F2F557@FHSDB2D11-2.csu.mcmaster.ca>
	<561FD444.3010606@gmail.com>
	<ACD1644AA6C67E4FBD0C350625508EC810F300A0@FHSDB2D11-2.csu.mcmaster.ca>
	<561FF459.4080103@gmail.com>
	<ACD1644AA6C67E4FBD0C350625508EC810F30105@FHSDB2D11-2.csu.mcmaster.ca>
	<E2CDE31C-0CAA-4E95-A106-B9594B3B3593@upr.edu>
	<ACD1644AA6C67E4FBD0C350625508EC810F3109D@FHSDB2D11-2.csu.mcmaster.ca>
Message-ID: <F0BF7FE6-4599-4201-BD99-427CE3EEC68A@upr.edu>

OK, now I got it.

Thanks all for your patience.

Jos?

Jos? G. Conde
Professor, School of Medicine
Director, CentIT2
UPR Medical Sciences Campus 

Tel  (787) 763-9401 Fax (787) 758-5206

Email: jose.conde1 at upr.edu

URL: http://rcmi.rcm.upr.edu

> On Oct 19, 2015, at 12:23 PM, Fox, John <jfox at mcmaster.ca> wrote:
> 
> Dear Jos?
> 
>> -----Original Message-----
>> From: "Jos? G. Conde" [mailto:jose.conde1 at upr.edu]
>> Sent: October 19, 2015 11:55 AM
>> To: Fox, John <jfox at mcmaster.ca>; Duncan Murdoch
>> <murdoch.duncan at gmail.com>; r-sig-mac at r-project.org
>> Subject: Re: rgl crashes R.app in El Capitan
>> 
>> Hello all.
>> 
>> For your information, I just updated Xquartz to version 2.7.8, and the
>> problem persists.
> 
> I think that you may have misunderstood the source of the problem, which isn't in XQuartz but in the rgl package when R.app is run under El Capitan. Duncan will remove aglrgl.so from the rgl package to fix the problem, and you may do so in the interim, as he explained.
> 
> Best,
> John
> 
>> 
>> Thanks.
>> 
>> Jos?
>> 
>> Jos? G. Conde, MD, MPH
>> Catedr?tico, Escuela de Medicina
>> Director, CentIT2
>> Recinto de Ciencias M?dicas, UPR
>> 
>> Tel  (787) 763-9401  Fax (787) 758-5206
>> 
>> Correo electr?nico: jose.conde1 at upr.edu
>> 
>> URL: http://rcmi.rcm.upr.edu
>> 
>>> On Oct 15, 2015, at 4:22 PM, Fox, John <jfox at mcmaster.ca> wrote:
>>> 
>>> Hi Duncan,
>>> 
>>> Thanks again for taking care of this.
>>> 
>>> John
>>> 
>>>> -----Original Message-----
>>>> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
>>>> Sent: Thursday, October 15, 2015 2:46 PM
>>>> To: Fox, John; r-sig-mac at r-project.org
>>>> Cc: jose.conde1 at upr.edu
>>>> Subject: Re: rgl crashes R.app in El Capitan
>>>> 
>>>> On 15/10/2015 2:21 PM, Fox, John wrote:
>>>>> Hi Duncan,
>>>>> 
>>>>> Thanks for looking into this. Please see below:
>>>>> 
>>>>>> -----Original Message-----
>>>>>> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
>>>>>> Sent: Thursday, October 15, 2015 12:29 PM
>>>>>> To: Fox, John; r-sig-mac at r-project.org
>>>>>> Cc: jose.conde1 at upr.edu
>>>>>> Subject: Re: rgl crashes R.app in El Capitan
>>>>>> 
>>>>>> One of my students has El Capitan, so I got to see this.  It
>>>>>> appears it's the old aglrgl.so problem.  I should just give up on
>>>>>> native support, since I don't really know how to debug it.
>>>>>> 
>>>>>> The "simple" fix is to delete the aglrgl.so file.  This means R.app
>>>> will
>>>>>> use the X11 driver, the same as the terminal version or RStudio
>>>> would
>>>>>> use.  Some users will have problems with this:
>>>>>> 
>>>>>> - It means they need Xquartz installed.
>>>>>> - You need admin privileges to delete aglrgl.so, and you need to
>>>> know
>>>>>> how to find it.  To find it, in R you can run
>>>>>> 
>>>>>> system.file("libs/aglrgl.so", package="rgl")
>>>>>> 
>>>>>> in R; I see
>>>>>> 
>>>>>> 
>>>> "/Library/Frameworks/R.framework/Versions/3.2/Resources/library/rgl/l
>>>> ibs
>>>>>> /aglrgl.so"
>>>>>> 
>>>>>> but others may see it elsewhere.  I don't know if there is a way to
>>>>>> delete it from R; I'd expect
>>>>>> 
>>>>>> unlink(system.file("libs/aglrgl.so", package="rgl"))
>>>>>> 
>>>>>> to fail because of permission problems, but I'm not sure of that.
>>>>> 
>>>>> Actually, that works for me and fixes the problem.
>>>>> 
>>>>>> 
>>>>>> I'm not going to attempt to describe Xquartz installation, but
>>>> Google
>>>>>> should be able to help.
>>>>> 
>>>>> Jose encountered this problem using the Rcmdr package, which already
>>>> requires XQuartz due to Tcl/Tk, but more generally the car package
>>>> doesn't need XQuartz. XQuartz installation is simple in any event.
>>>>> 
>>>>> One thing is unclear to me, however. Will you simply remove
>>>>> aglrgl.so
>>>> from the next version of rgl? If so, you should be able to test for
>>>> the presence of XQuartz and print a warning message in its absence.
>>>> 
>>>> Yes, I'll be dropping aglrgl.so.  rgl can run without any display
>>>> (using options(rgl.useNULL = TRUE) and writing WebGL or some other
>>>> kinds of output to a file), so I'm not sure whether a warning will be
>>>> needed; I'll have to think about use cases.
>>>> 
>>>> Duncan Murdoch
>>>> 
>>>>> 
>>>>> Best,
>>>>> John
>>>>> 
>>>>>> 
>>>>>> Duncan Murdoch
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> On 13/10/2015 4:05 PM, Fox, John wrote:
>>>>>>> Dear Duncan,
>>>>>>> 
>>>>>>>> -----Original Message-----
>>>>>>>> From: Duncan Murdoch [mailto:murdoch.duncan at gmail.com]
>>>>>>>> Sent: Tuesday, October 13, 2015 3:34 PM
>>>>>>>> To: Fox, John; r-sig-mac at r-project.org
>>>>>>>> Cc: jose.conde1 at upr.edu
>>>>>>>> Subject: Re: rgl crashes R.app in El Capitan
>>>>>>>> 
>>>>>>>> On 13/10/2015 3:03 PM, Fox, John wrote:
>>>>>>>>> Dear r-sig-mac list members,
>>>>>>>>> 
>>>>>>>>> I can reliably crash R.app in R 3.2.2 under El Capitan with
>>>>>>>>> 
>>>>>>>>> library(rgl)
>>>>>>>>> demo("rgl")  # a few returns
>>>>>>>>> 
>>>>>>>>> My session info:
>>>>>>>>> 
>>>>>>>>>> sessionInfo()
>>>>>>>>> R version 3.2.2 (2015-08-14)
>>>>>>>>> Platform: x86_64-apple-darwin13.4.0 (64-bit) Running under: OS X
>>>>>>>>> 10.11 (El Capitan)
>>>>>>>>> 
>>>>>>>>> locale:
>>>>>>>>> [1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-
>> 8/en_CA.UTF-
>>>> 8
>>>>>>>>> 
>>>>>>>>> attached base packages:
>>>>>>>>> [1] stats     graphics  grDevices utils     datasets  methods
>>>> base
>>>>>>>>> 
>>>>>>>>> other attached packages:
>>>>>>>>> [1] rgl_0.95.1367
>>>>>>>>> 
>>>>>>>>> I see this problem only in R.app, not when R is run in a
>>>> terminal or
>>>>>>>> in RStudio.
>>>>>>>>> 
>>>>>>>>> This problem was original brought to my attention by Jose Conde
>>>> (to
>>>>>>>> whom I'm cc'ing this message), who encountered the problem using
>>>> the
>>>>>>>> scatter3d() function in the car package via the Rcmdr, but the
>>>>>> problem
>>>>>>>> isn't unique to either scatter3d() or the Rcmdr. In the case of
>>>>>>>> scatter3d() the command
>>>>>>>>> 
>>>>>>>>>   scatter3d(prestige ~ income + education, data=Prestige)
>>>>>>>>> 
>>>>>>>>> which draws a regression surface, reliably crashes R.app, but
>>>>>>>>> 
>>>>>>>>>   scatter3d(prestige ~ income + education, data=Prestige,
>>>>>>>> surface=FALSE)
>>>>>>>>> 
>>>>>>>>> which plots only points (as spheres) doesn't.
>>>>>>>>> 
>>>>>>>>> I hope that this provides enough clues to diagnose the problem.
>>>>>>>>> 
>>>>>>>>> 
>>>>>>>> 
>>>>>>>> I don't have El Capitan, I'm still running under OS X 10.9.5
>>>>>>>> (Mavericks), and it doesn't crash.
>>>>>>> 
>>>>>>> That was my experience as well -- I didn't experience this problem
>>>>>> under either Mavericks or Yosemite. BTW, I reinstalled R 3.2.2 and
>>>>>> XQuartz after upgrading to El Capitan. I usually upgrade fairly
>>>> early to
>>>>>> see whether there are any problems.
>>>>>>> 
>>>>>>>> 
>>>>>>>> Since you're using the latest rgl, you must have built it
>>>> yourself --
>>>>>>>> CRAN doesn't distribute binaries for it (at least for Mavericks).
>>>>>> Did
>>>>>>>> you get any errors or warnings during compilation?
>>>>>>> 
>>>>>>> Right again. I ran update.packages() to make sure that the error
>>>>>> wasn't fixed and compiled packages that didn't yet have Mac
>>>> binaries.
>>>>>> AFAICS, there were no errors in compiling the rgl package.
>>>>>>> 
>>>>>>> BTW, my apologies for posting my message twice -- my mailer
>>>> complained
>>>>>> about the address in the first message and I thought it wasn't sent.
>>>>>>> 
>>>>>>> Thanks for looking into this,
>>>>>>> John
>>>>>>> 
>>>>>>>> 
>>>>>>>> Duncan Murdoch
>>>>> 
>>> 
> 


From kjell.konis at icloud.com  Thu Oct 22 06:04:17 2015
From: kjell.konis at icloud.com (Kjell Konis)
Date: Thu, 22 Oct 2015 04:04:17 -0000
Subject: [R-SIG-Mac] "gsl" does not seem to find installed GSL
In-Reply-To: <CAM3-KjYODn2rprA_=2xr2Tc48Amx3=PNSx0ugg=irn6NPaprzQ@mail.gmail.com>
References: <CAM3-KjbeO9BAtiv2kXT1=dsdQfjQwpt1EXDBJwjU+BqOiYOKGA@mail.gmail.com>
	<CAM3-KjYODn2rprA_=2xr2Tc48Amx3=PNSx0ugg=irn6NPaprzQ@mail.gmail.com>
Message-ID: <8F8A304C-12B7-41DF-ADDD-A8E47C3A6830@icloud.com>

Hi Marius,

I have had this same problem several times. My workaround is to

1. download the source package 
2. uncompress/unarchive the package
3. delete the 2 configure scripts
4. in src, rename Makevars.in Makevars
5. edit Makevars, replace @GSL_CFLAGS@ with the output of 'gsl-config ?cflags? and replace @GSL_LIBS@ with the output of ?gsl-config ?libs'
6. R CMD INSTALL the gsl directory

Hope that works,
Kjell

> On Oct 21, 2015, at 4:12 PM, Marius Hofert <marius.hofert at uwaterloo.ca> wrote:
> 
> On Wed, Oct 21, 2015 at 7:02 PM, Marius Hofert wrote:
>> What fails? I did the exact same thing an another MacBook Pro a couple
>> of months ago and it worked there (also under OS X 10.11)... this is
>> strange.
>> 
> 
> I just tried to install "gsl" on the other machine again... and it
> also failed. I must have installed it under OS X 10.10 then (before
> the upgrade). Is this a known issue? (how can it be solved?)
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From miranda.luis09 at gmail.com  Thu Oct 29 23:13:18 2015
From: miranda.luis09 at gmail.com (Emilio Miranda)
Date: Thu, 29 Oct 2015 22:13:18 -0000
Subject: [R-SIG-Mac] Problem with R,
	"no font could be found for family "arial""
Message-ID: <CAMDkX5yKKAUQBQzO=_=gPeWUg2dMTdMgRaJSYMUWezP7E+5MxQ@mail.gmail.com>

Hi, I need help! I was doing a boxplot with RStudio on my Mac, and the
graph showed not text. In the warnings it said: "no font could be found for
family "arial". My Mac version is OS X El Capitan 10.11.1. What do I need
to do in order to fix this?

	[[alternative HTML version deleted]]


From liam.shaw.13 at ucl.ac.uk  Fri Oct 30 17:30:52 2015
From: liam.shaw.13 at ucl.ac.uk (Liam Shaw)
Date: Fri, 30 Oct 2015 16:30:52 -0000
Subject: [R-SIG-Mac] R stats: not recognising 'F' as 'FALSE'
Message-ID: <CAPxuO-Lvs1PuQptOkMRUVX3YVVroBP5i0mD_yLob9gg_BBbn3A@mail.gmail.com>

A student noticed that passing 'F' for 'FALSE' did not have an effect when
using functions in the stats base package.

Example:

> pt(q=1.12, df=12, lower.tail=TRUE)
[1] 0.8576851
> pt(q=1.12, df=12, lower.tail=F)
[1] 0.8576851
> pt(q=1.12, df=12, lower.tail=FALSE)
[1] 0.1423149

I couldn't replicate the problem. Re-installing and updating R on their
machine had no effect. Does anybody know what could be causing this?

sessionInfo():
R version 3.2.2 (2015-08-14)
Platform: x86_64-apple-darwin13.4.0 (64-bit)
Running under: OS X 10.11 (El Capitan)

locale:
[1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets
[6] methods   base

loaded via a namespace (and not attached):
[1] tools_3.2.2

Stats package:
Package: stats
Version: 3.2.2
Priority: base
Title: The R Stats Package
Author: R Core Team and contributors worldwide
Maintainer: R Core Team <R-core at r-project.org>
Description: R statistical functions.
License: Part of R 3.2.2
Built: R 3.2.2; x86_64-apple-darwin13.4.0

Liam

	[[alternative HTML version deleted]]


