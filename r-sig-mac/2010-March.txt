From lists at remoteinformation.com.au  Thu Mar  4 06:47:28 2010
From: lists at remoteinformation.com.au (Ben Madin)
Date: Thu, 4 Mar 2010 13:47:28 +0800
Subject: [R-SIG-Mac] Font Families and Cairo
Message-ID: <72BCDF11-C9C9-4866-83D1-71C7D8E83B8C@remoteinformation.com.au>

G'day all,

I am using Cairo to produce output graphics (mainly png), but don't seem to be able to figure out how to stop the text being rendered in italics.

I am using 10.6.2, and R version 2.10.1 Patched (2010-02-01 r51089).

Using this produces the output as I anticipated (with upright text)

png('outputs/reports_by_province2.png')
barplot(outbreaks.summary$Provinces,names.arg=outbreaks.summary$Year, ylab='Number of provinces reporting outbreaks', cex.axis=1, cex.names=1) -> tmp

Using this produces a nicer image (the transparent background is important), but the text is all italicised

Cairo(950,450, 'outputs/reports_by_province.png')
barplot(outbreaks.summary$Provinces,names.arg=outbreaks.summary$Year, ylab='Number of provinces reporting outbreaks', cex.axis=1.2, cex.names=1.2) -> tmp

I can change the family, ie :

> par('family')
[1] "serif"

but Cairo doesn't seem to respect it (I'm actually wanting Helvetica so it doesn't matter), but I can't fix the font (and I note from the docs: 
	fonts	see pdf, ignored, Cairo automatically detects and embeds fonts
)

So I'm wondering if it is just my installation, a known issue or I've missed the workaround (using CairoFonts hasn't changed it).

cheers

Beb


From ripley at stats.ox.ac.uk  Thu Mar  4 07:41:51 2010
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 4 Mar 2010 06:41:51 +0000 (GMT)
Subject: [R-SIG-Mac] Font Families and Cairo
In-Reply-To: <72BCDF11-C9C9-4866-83D1-71C7D8E83B8C@remoteinformation.com.au>
References: <72BCDF11-C9C9-4866-83D1-71C7D8E83B8C@remoteinformation.com.au>
Message-ID: <alpine.LFD.2.00.1003040618540.32544@gannet.stats.ox.ac.uk>

Your example is not reproducible, but png() does support transparent 
backgrounds and you did not specify one (by bg="transparent").  The 
native method on a Mac would be png(type="quartz"): have you tried 
that?

Yes, there are known problems with cairo font handling on Macs: some 
of them have been overcome in R's builtin cairo support, including in 
the default type="cairo" for png.

Given that 'cairo' (as in cairographics.org, their preference is not 
to capitalize) is a third-party graphics system, it is rather 
ambiguous as to whether you meant R's builtin support or the 
contributed package Cairo (library(Cairo) appears nowhere in your 
code): I am presuming the latter for which incorrect use of italics is 
a known (and reported) problem.

Finally, Cairo is a contributed package, and the posting guide 
suggests writing to the author/maintainer first.  As that is Simon U, 
he does read this list but in many other instances that would not be 
the case.

On Thu, 4 Mar 2010, Ben Madin wrote:

> G'day all,
>
> I am using Cairo to produce output graphics (mainly png), but don't seem to be able to figure out how to stop the text being rendered in italics.
>
> I am using 10.6.2, and R version 2.10.1 Patched (2010-02-01 r51089).
>
> Using this produces the output as I anticipated (with upright text)
>
> png('outputs/reports_by_province2.png')
> barplot(outbreaks.summary$Provinces,names.arg=outbreaks.summary$Year, ylab='Number of provinces reporting outbreaks', cex.axis=1, cex.names=1) -> tmp
>
> Using this produces a nicer image (the transparent background is important), but the text is all italicised
>
> Cairo(950,450, 'outputs/reports_by_province.png')
> barplot(outbreaks.summary$Provinces,names.arg=outbreaks.summary$Year, ylab='Number of provinces reporting outbreaks', cex.axis=1.2, cex.names=1.2) -> tmp
>
> I can change the family, ie :
>
>> par('family')
> [1] "serif"
>
> but Cairo doesn't seem to respect it (I'm actually wanting Helvetica so it doesn't matter), but I can't fix the font (and I note from the docs:
> 	fonts	see pdf, ignored, Cairo automatically detects and embeds fonts
> )
>
> So I'm wondering if it is just my installation, a known issue or I've missed the workaround (using CairoFonts hasn't changed it).
>
> cheers
>
> Beb
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From lists at remoteinformation.com.au  Thu Mar  4 09:33:37 2010
From: lists at remoteinformation.com.au (Ben Madin)
Date: Thu, 4 Mar 2010 16:33:37 +0800
Subject: [R-SIG-Mac] Font Families and Cairo
In-Reply-To: <alpine.LFD.2.00.1003040618540.32544@gannet.stats.ox.ac.uk>
References: <72BCDF11-C9C9-4866-83D1-71C7D8E83B8C@remoteinformation.com.au>
	<alpine.LFD.2.00.1003040618540.32544@gannet.stats.ox.ac.uk>
Message-ID: <5DE8039B-F230-4A94-BAE6-4CC0E22A47A6@remoteinformation.com.au>

G'day there, thanks for the comprehensive response.

On 04/03/2010, at 14:41 , Prof Brian Ripley wrote:

> Your example is not reproducible, but png() does support transparent backgrounds and you did not specify one (by bg="transparent").  The native method on a Mac would be png(type="quartz"): have you tried that?

Neat - I wasn't aware of that. I am trying to avoid Mac specific solutions as the scripts are also running on a FreeBSD server using PL/R, and I was hoping to swap them back and forward as simply as possible.

> Yes, there are known problems with cairo font handling on Macs: some of them have been overcome in R's builtin cairo support, including in the default type="cairo" for png.
> 
> Given that 'cairo' (as in cairographics.org, their preference is not to capitalize) is a third-party graphics system, it is rather ambiguous as to whether you meant R's builtin support or the contributed package Cairo (library(Cairo) appears nowhere in your code): I am presuming the latter for which incorrect use of italics is a known (and reported) problem.

OK, apologies - my ambiguity is more than likely due to my not understanding the difference. The only reference I found that approximated my problem was on this list, and it wasn't conclusive, hence my post to this list.

> Finally, Cairo is a contributed package, and the posting guide suggests writing to the author/maintainer first.  As that is Simon U, he does read this list but in many other instances that would not be the case.

ibid

cheers

Ben

> 
> On Thu, 4 Mar 2010, Ben Madin wrote:
> 
>> G'day all,
>> 
>> I am using Cairo to produce output graphics (mainly png), but don't seem to be able to figure out how to stop the text being rendered in italics.
>> 
>> I am using 10.6.2, and R version 2.10.1 Patched (2010-02-01 r51089).
>> 
>> Using this produces the output as I anticipated (with upright text)
>> 
>> png('outputs/reports_by_province2.png')
>> barplot(outbreaks.summary$Provinces,names.arg=outbreaks.summary$Year, ylab='Number of provinces reporting outbreaks', cex.axis=1, cex.names=1) -> tmp
>> 
>> Using this produces a nicer image (the transparent background is important), but the text is all italicised
>> 
>> Cairo(950,450, 'outputs/reports_by_province.png')
>> barplot(outbreaks.summary$Provinces,names.arg=outbreaks.summary$Year, ylab='Number of provinces reporting outbreaks', cex.axis=1.2, cex.names=1.2) -> tmp
>> 
>> I can change the family, ie :
>> 
>>> par('family')
>> [1] "serif"
>> 
>> but Cairo doesn't seem to respect it (I'm actually wanting Helvetica so it doesn't matter), but I can't fix the font (and I note from the docs:
>> 	fonts	see pdf, ignored, Cairo automatically detects and embeds fonts
>> )
>> 
>> So I'm wondering if it is just my installation, a known issue or I've missed the workaround (using CairoFonts hasn't changed it).
>> 
>> cheers
>> 
>> Beb
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Thu Mar  4 15:20:44 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 4 Mar 2010 09:20:44 -0500
Subject: [R-SIG-Mac] Font Families and Cairo
In-Reply-To: <72BCDF11-C9C9-4866-83D1-71C7D8E83B8C@remoteinformation.com.au>
References: <72BCDF11-C9C9-4866-83D1-71C7D8E83B8C@remoteinformation.com.au>
Message-ID: <8F19439C-8827-4129-B93C-ABC4DE7C17AD@r-project.org>


On Mar 4, 2010, at 0:47 , Ben Madin wrote:

> G'day all,
>
> I am using Cairo to produce output graphics (mainly png), but don't  
> seem to be able to figure out how to stop the text being rendered in  
> italics.
>

This is a known issue in how freetype+fontconfig cannot agree on the  
right traits in some cases if font suitcases are involved on some  
versions of OS X. You can force the default fonts to specific names  
using CairoFonts, e.g. the following is known to work:

CairoFonts 
("Arial:style 
=Regular","Arial:style=Bold","Arial:style=Italic","Helvetica","Symbol")

If that doesn't help, make sure you have Arial enabled or use a  
different font.

Cheers,
Simon



> I am using 10.6.2, and R version 2.10.1 Patched (2010-02-01 r51089).
>
> Using this produces the output as I anticipated (with upright text)
>
> png('outputs/reports_by_province2.png')
> barplot(outbreaks.summary$Provinces,names.arg=outbreaks.summary 
> $Year, ylab='Number of provinces reporting outbreaks', cex.axis=1,  
> cex.names=1) -> tmp
>
> Using this produces a nicer image (the transparent background is  
> important), but the text is all italicised
>
> Cairo(950,450, 'outputs/reports_by_province.png')
> barplot(outbreaks.summary$Provinces,names.arg=outbreaks.summary 
> $Year, ylab='Number of provinces reporting outbreaks', cex.axis=1.2,  
> cex.names=1.2) -> tmp
>
> I can change the family, ie :
>
>> par('family')
> [1] "serif"
>
> but Cairo doesn't seem to respect it (I'm actually wanting Helvetica  
> so it doesn't matter), but I can't fix the font (and I note from the  
> docs:
> 	fonts	see pdf, ignored, Cairo automatically detects and embeds fonts
> )
>
> So I'm wondering if it is just my installation, a known issue or  
> I've missed the workaround (using CairoFonts hasn't changed it).
>

Are you sure? Please try the above.


> cheers
>
> Beb
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Thu Mar  4 16:04:41 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 4 Mar 2010 10:04:41 -0500
Subject: [R-SIG-Mac] Building binaries of OpenMx [Was: libgfortran misplaced
	in Mac OS X R install]
In-Reply-To: <1901f69e1003030900v69b031feoab6828517af2255f@mail.gmail.com>
References: <1901f69e1003030900v69b031feoab6828517af2255f@mail.gmail.com>
Message-ID: <27AE0F23-E513-49D3-8F30-E364C862151A@r-project.org>

[Copy to R-SIG-Mac where all this should really go in the first place]

Hi Michael,

On Mar 3, 2010, at 12:01 , Michael Spiegel wrote:

> I am the guy who compiles the OpenMx binaries.  We would be  
> delighted to place our package on CRAN, once the project is stable  
> enough so that we are comfortable releasing it to the larger  
> public.  Let's try to track down where I made a mistake.  Our  
> Makevars.in file contains the line:
>
> PKG_LIBS=$(FLIBS) $(BLAS_LIBS) $(LAPACK_LIBS)
>
> In addition, on the build machine I noticed that a copy of  
> libgfortran.2.dylib exists at /usr/local/lib.  I believe the Xcode  
> install placed a copy of it there.

No, it is part of the GNU Fortran installation. Anything you compile  
with a Fortran requires that you have that Fortran installed at run  
time, because Fortran uses its own run-time libraries (if the Fortran  
you compiled with used dynamic libraries). This implies that if you  
distribute your package you have to tell users to install the same  
Fortran you used to compile it.

However, unlike other unices Mac users don't necessarily have  
development tools installed, so on CRAN we make an effort to modify  
the binaries such that they work even without the tools they have been  
compiled with. There are several possible approaches, but since R  
itself already uses the same Fortran, we ship a copy of the Fortran  
libraries inside R and modify packages such that they use it instead  
of the one from dev tools (see below for details).


> To create the binary release, I run  R CMD INSTALL --build.

That is not sufficient to create a binary of your package, because it  
contains a configure script (this is unrelated to the above - see R- 
admin 2.6). What you want to use is something like this (assuming R  
2.10.1 Leopard build and Fortran from CRAN):

R --arch=i386 CMD INSTALL OpenMx_0.2.9-1147.tar.gz
R --arch=x86_64 CMD INSTALL --libs-only OpenMx_0.2.9-1147.tar.gz
R --arch=ppc CMD INSTALL --libs-only OpenMx_0.2.9-1147.tar.gz
cd /Library/Frameworks/R.framework/Versions/2.10/Resources/library

# fix the Fortran paths to point to R 2.10 instead
for lib in `ls OpenMx/libs/*/*.so`; do
  install_name_tool -change /usr/local/lib/libgfortran.2.dylib \
    /Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
libgfortran.2.dylib \
   $lib
done

# change permissions for distribution
sudo chown -Rh root:admin OpenMx
sudo chmod -R g+w OpenMx

# pack it up
tar fvcz ~/OpenMx_0.2.9-1147.tgz OpenMx


You can check that you have the correct paths using otool -L:

ginaz:library$ otool -L OpenMx/libs/*/*.so
OpenMx/libs/i386/OpenMx.so:
	OpenMx.so (compatibility version 0.0.0, current version 0.0.0)
	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
libgfortran.2.dylib (compatibility version 3.0.0, current version 3.0.0)
	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
libRblas.dylib (compatibility version 0.0.0, current version 0.0.0)
	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
libRlapack.dylib (compatibility version 2.10.0, current version 2.10.1)
	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
libR.dylib (compatibility version 2.10.0, current version 2.10.1)
	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/ 
CoreFoundation (compatibility version 150.0.0, current version 476.19.0)
	/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current  
version 1.0.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current  
version 111.1.4)
	/System/Library/Frameworks/vecLib.framework/Versions/A/vecLib  
(compatibility version 1.0.0, current version 242.0.0)
OpenMx/libs/ppc/OpenMx.so:
	OpenMx.so (compatibility version 0.0.0, current version 0.0.0)
	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
libgfortran.2.dylib (compatibility version 3.0.0, current version 3.0.0)
	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
libRblas.dylib (compatibility version 0.0.0, current version 0.0.0)
	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
libRlapack.dylib (compatibility version 2.10.0, current version 2.10.1)
	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
libR.dylib (compatibility version 2.10.0, current version 2.10.1)
	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/ 
CoreFoundation (compatibility version 150.0.0, current version 476.19.0)
	/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current  
version 1.0.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current  
version 111.1.4)
	/System/Library/Frameworks/vecLib.framework/Versions/A/vecLib  
(compatibility version 1.0.0, current version 242.0.0)
OpenMx/libs/x86_64/OpenMx.so:
	OpenMx.so (compatibility version 0.0.0, current version 0.0.0)
	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
libgfortran.2.dylib (compatibility version 3.0.0, current version 3.0.0)
	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
libRblas.dylib (compatibility version 0.0.0, current version 0.0.0)
	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
libRlapack.dylib (compatibility version 2.10.0, current version 2.10.1)
	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
libR.dylib (compatibility version 2.10.0, current version 2.10.1)
	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/ 
CoreFoundation (compatibility version 150.0.0, current version 476.19.0)
	/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current  
version 1.0.0)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current  
version 111.1.4)
	/System/Library/Frameworks/vecLib.framework/Versions/A/vecLib  
(compatibility version 1.0.0, current version 242.0.0)


If you are dealing with only one R version, you can change the ID of  
your Fortran library instead of touching the package files:

install_name_tool -id \
   /Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
libgfortran.2.dylib
  /usr/local/lib/libgfortran.2.0.0.dylib

Note, however, that this will lead to (possibly silent) errors if you  
forget to change it when switching to another R version, so I prefer  
to fix the package instead.

Cheers,
Simon


> The beta test users install the package using the following script: http://openmx.psyc.virginia.edu/getOpenMx.R 
> .
>



>
> On Wed, Mar 3, 2010 at 9:48 AM, Tim Brick <tbrick at virginia.edu> wrote:
>>
>>
>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>> Date: March 3, 2010 8:32:52 AM MST
>>> To: tbrick at virginia.edu
>>> Cc: r-devel at stat.math.ethz.ch, R-bugs at r-project.org
>>> Subject: Re: [Rd] libgfortran misplaced in Mac OS X R install  
>>> (PR#14226)
>>>
>>> This is not an R bug so please don't abuse R-bugs. It is likely a  
>>> bug in the way OpenMx binaries are distributed by someone (you  
>>> didn't even say where you got them from) - OpenMx is not even on  
>>> CRAN so take that to whoever gave you the binaries. On CRAN we use  
>>> the correct paths.
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>> On Mar 2, 2010, at 11:45 , tbrick at virginia.edu wrote:
>>>
>>>> Full_Name: Timothy Brick
>>>> Version: 2.10
>>>> OS: Mac OS X (seen on both 10.6 and 10.5)
>>>> Submission from: (NULL) (63.255.24.5)
>>>>
>>>>
>>>> When using install.packages in R on Mac OS X, packages that  
>>>> require gfortran
>>>> throws an error (Example below from installation of OpenMx  
>>>> package):
>>>>
>>>> Loading required package: OpenMx
>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>> unable to load shared library
>>>> '/Library/Frameworks/R.framework/Resources/library/OpenMx/libs/ 
>>>> i386/OpenMx.so':
>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/OpenMx/ 
>>>> libs/i386/OpenMx.so,
>>>> 6): Library not loaded: /usr/local/lib/libgfortran.2.dylib
>>>> Referenced from: /Library/Frameworks/R.framework/Resources/ 
>>>> library/OpenMx/libs/i386/OpenMx.so
>>>> Reason: image not found
>>>>
>>>> libgfortran.2.dylib does exist, but in
>>>> /Library/Frameworks/R.framework/Versions/2.10/Resouces/lib/ 
>>>> libgfortran.2.dylib
>>>> (or /2.9/, depending on version installed).
>>>>
>>>> A workaround at present involves creating a symbolic link from  
>>>> the above file to
>>>> /usr/local/lib/libgfortran.2.dylib, however this requires sudo  
>>>> access and is
>>>> confusing for novice users.
>>>>
>>>> There is more discussion of this bug as it relates to OpenMx at:
>>>> http://openmx.psyc.virginia.edu/thread/316
>>>>
>>>> Posts on other forums indicate a similar issue with other  
>>>> packages including
>>>> vegan and lme4:
>>>> http://r-forge.r-project.org/forum/forum.php?thread_id=728&forum_id=194
>>>> https://stat.ethz.ch/pipermail/r-sig-mac/2009-May/006210.html
>>>>
>>>
>>> Those are very old posts and those were temporary issues in the  
>>> CRAN build system that have been promptly resolved.
>>>
>>>
>>
>>
>
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
>
>

______________________________________________
R-devel at r-project.org mailing list
https://stat.ethz.ch/mailman/listinfo/r-devel


From simon.urbanek at r-project.org  Thu Mar  4 21:11:23 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 4 Mar 2010 15:11:23 -0500
Subject: [R-SIG-Mac] distributable binary Mac packages [Was: libgfortran
	misplaced in Mac OS X R install]
In-Reply-To: <alpine.LFD.2.00.1003041927500.11292@gannet.stats.ox.ac.uk>
References: <1901f69e1003030900v69b031feoab6828517af2255f@mail.gmail.com>
	<3214E67E-521A-49E7-A8FF-32EC723CA458@r-project.org>
	<alpine.LFD.2.00.1003041927500.11292@gannet.stats.ox.ac.uk>
Message-ID: <E029A98F-540F-4FBF-9C2A-E868292E823A@r-project.org>

On Mar 4, 2010, at 14:44 , Prof Brian Ripley wrote:

> Another possibility is to link statically to libgfortran.  That has  
> pros and cons, but for libgfortran not many cons apart from space  
> for multiple copies in sundry packages (and is what is done on  
> Windows, BTW).
>
> There are several ways to arrange that.  As far as I recall I  
> temporarily removed /usr/local/lib/libgfortran*.dylib: another way  
> is to edit FLIBS in Makeconf (but then you do need to know which  
> copies of that file you need to edit).
>

The Xcode add-on compilers from R.research.att.com use static  
libgfortran by default, so if you didn't install any other Fortran,  
that will be the default.

However, there are issues when linking multiple modules that also link  
libgfortran statically - dylibs are not allowed to contain multiple  
common symbols on OS X (with flat namespaces) which is the case if you  
get static libgfortran from two sources independently. The most  
prominent example is libRlapack linked into a package that also uses  
Fortran (that's why CRAN Rlapack does not use static libgfortran).  
There are ways around, but it all makes the already complex issue even  
more complex ;).


> As far as I know we don't document in the standard manuals how to  
> build distributable binary Mac packages, and perhaps we should do so  
> in due course (or at least point at where the information can be  
> found).
>

Yes, I agree. There are bits and pieces in the R for Mac FAQ, but it  
may be worth putting what I wrote below into the FAQ.

Thanks,
Simon



> On Thu, 4 Mar 2010, Simon Urbanek wrote:
>
>> Hi Michael,
>>
>> On Mar 3, 2010, at 12:01 , Michael Spiegel wrote:
>>
>>> I am the guy who compiles the OpenMx binaries.  We would be  
>>> delighted to place our package on CRAN, once the project is stable  
>>> enough so that we are comfortable releasing it to the larger  
>>> public.  Let's try to track down where I made a mistake.  Our  
>>> Makevars.in file contains the line:
>>> PKG_LIBS=$(FLIBS) $(BLAS_LIBS) $(LAPACK_LIBS)
>>> In addition, on the build machine I noticed that a copy of  
>>> libgfortran.2.dylib exists at /usr/local/lib.  I believe the Xcode  
>>> install placed a copy of it there.
>>
>> No, it is part of the GNU Fortran installation. Anything you  
>> compile with a Fortran requires that you have that Fortran  
>> installed at run time, because Fortran uses its own run-time  
>> libraries (if the Fortran you compiled with used dynamic  
>> libraries). This implies that if you distribute your package you  
>> have to tell users to install the same Fortran you used to compile  
>> it.
>>
>> However, unlike other unices Mac users don't necessarily have  
>> development tools installed, so on CRAN we make an effort to modify  
>> the binaries such that they work even without the tools they have  
>> been compiled with. There are several possible approaches, but  
>> since R itself already uses the same Fortran, we ship a copy of the  
>> Fortran libraries inside R and modify packages such that they use  
>> it instead of the one from dev tools (see below for details).
>>
>>
>>> To create the binary release, I run  R CMD INSTALL --build.
>>
>> That is not sufficient to create a binary of your package, because  
>> it contains a configure script (this is unrelated to the above -  
>> see R-admin 2.6). What you want to use is something like this  
>> (assuming R 2.10.1 Leopard build and Fortran from CRAN):
>>
>> R --arch=i386 CMD INSTALL OpenMx_0.2.9-1147.tar.gz
>> R --arch=x86_64 CMD INSTALL --libs-only OpenMx_0.2.9-1147.tar.gz
>> R --arch=ppc CMD INSTALL --libs-only OpenMx_0.2.9-1147.tar.gz
>> cd /Library/Frameworks/R.framework/Versions/2.10/Resources/library
>>
>> # fix the Fortran paths to point to R 2.10 instead
>> for lib in `ls OpenMx/libs/*/*.so`; do
>> install_name_tool -change /usr/local/lib/libgfortran.2.dylib \
>>  /Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
>> libgfortran.2.dylib \
>> $lib
>> done
>>
>> # change permissions for distribution
>> sudo chown -Rh root:admin OpenMx
>> sudo chmod -R g+w OpenMx
>>
>> # pack it up
>> tar fvcz ~/OpenMx_0.2.9-1147.tgz OpenMx
>>
>>
>> You can check that you have the correct paths using otool -L:
>>
>> ginaz:library$ otool -L OpenMx/libs/*/*.so
>> OpenMx/libs/i386/OpenMx.so:
>> 	OpenMx.so (compatibility version 0.0.0, current version 0.0.0)
>> 	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
>> libgfortran.2.dylib (compatibility version 3.0.0, current version  
>> 3.0.0)
>> 	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
>> libRblas.dylib (compatibility version 0.0.0, current version 0.0.0)
>> 	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
>> libRlapack.dylib (compatibility version 2.10.0, current version  
>> 2.10.1)
>> 	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
>> libR.dylib (compatibility version 2.10.0, current version 2.10.1)
>> 	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/ 
>> CoreFoundation (compatibility version 150.0.0, current version  
>> 476.19.0)
>> 	/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current  
>> version 1.0.0)
>> 	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current  
>> version 111.1.4)
>> 	/System/Library/Frameworks/vecLib.framework/Versions/A/vecLib  
>> (compatibility version 1.0.0, current version 242.0.0)
>> OpenMx/libs/ppc/OpenMx.so:
>> 	OpenMx.so (compatibility version 0.0.0, current version 0.0.0)
>> 	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
>> libgfortran.2.dylib (compatibility version 3.0.0, current version  
>> 3.0.0)
>> 	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
>> libRblas.dylib (compatibility version 0.0.0, current version 0.0.0)
>> 	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
>> libRlapack.dylib (compatibility version 2.10.0, current version  
>> 2.10.1)
>> 	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
>> libR.dylib (compatibility version 2.10.0, current version 2.10.1)
>> 	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/ 
>> CoreFoundation (compatibility version 150.0.0, current version  
>> 476.19.0)
>> 	/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current  
>> version 1.0.0)
>> 	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current  
>> version 111.1.4)
>> 	/System/Library/Frameworks/vecLib.framework/Versions/A/vecLib  
>> (compatibility version 1.0.0, current version 242.0.0)
>> OpenMx/libs/x86_64/OpenMx.so:
>> 	OpenMx.so (compatibility version 0.0.0, current version 0.0.0)
>> 	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
>> libgfortran.2.dylib (compatibility version 3.0.0, current version  
>> 3.0.0)
>> 	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
>> libRblas.dylib (compatibility version 0.0.0, current version 0.0.0)
>> 	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
>> libRlapack.dylib (compatibility version 2.10.0, current version  
>> 2.10.1)
>> 	/Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
>> libR.dylib (compatibility version 2.10.0, current version 2.10.1)
>> 	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/ 
>> CoreFoundation (compatibility version 150.0.0, current version  
>> 476.19.0)
>> 	/usr/lib/libgcc_s.1.dylib (compatibility version 1.0.0, current  
>> version 1.0.0)
>> 	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current  
>> version 111.1.4)
>> 	/System/Library/Frameworks/vecLib.framework/Versions/A/vecLib  
>> (compatibility version 1.0.0, current version 242.0.0)
>>
>>
>> If you are dealing with only one R version, you can change the ID  
>> of your Fortran library instead of touching the package files:
>>
>> install_name_tool -id \
>> /Library/Frameworks/R.framework/Versions/2.10/Resources/lib/ 
>> libgfortran.2.dylib
>> /usr/local/lib/libgfortran.2.0.0.dylib
>>
>> Note, however, that this will lead to (possibly silent) errors if  
>> you forget to change it when switching to another R version, so I  
>> prefer to fix the package instead.
>>
>> Cheers,
>> Simon
>>
>>
>>> The beta test users install the package using the following  
>>> script: http://openmx.psyc.virginia.edu/getOpenMx.R.
>>
>>
>>
>>> On Wed, Mar 3, 2010 at 9:48 AM, Tim Brick <tbrick at virginia.edu>  
>>> wrote:
>>>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>>>> Date: March 3, 2010 8:32:52 AM MST
>>>>> To: tbrick at virginia.edu
>>>>> Cc: r-devel at stat.math.ethz.ch, R-bugs at r-project.org
>>>>> Subject: Re: [Rd] libgfortran misplaced in Mac OS X R install  
>>>>> (PR#14226)
>>>>> This is not an R bug so please don't abuse R-bugs. It is likely  
>>>>> a bug in the way OpenMx binaries are distributed by someone (you  
>>>>> didn't even say where you got them from) - OpenMx is not even on  
>>>>> CRAN so take that to whoever gave you the binaries. On CRAN we  
>>>>> use the correct paths.
>>>>> Cheers,
>>>>> Simon
>>>>> On Mar 2, 2010, at 11:45 , tbrick at virginia.edu wrote:
>>>>>> Full_Name: Timothy Brick
>>>>>> Version: 2.10
>>>>>> OS: Mac OS X (seen on both 10.6 and 10.5)
>>>>>> Submission from: (NULL) (63.255.24.5)
>>>>>> When using install.packages in R on Mac OS X, packages that  
>>>>>> require gfortran
>>>>>> throws an error (Example below from installation of OpenMx  
>>>>>> package):
>>>>>> Loading required package: OpenMx
>>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>> unable to load shared library
>>>>>> '/Library/Frameworks/R.framework/Resources/library/OpenMx/libs/ 
>>>>>> i386/OpenMx.so':
>>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/OpenMx/ 
>>>>>> libs/i386/OpenMx.so,
>>>>>> 6): Library not loaded: /usr/local/lib/libgfortran.2.dylib
>>>>>> Referenced from: /Library/Frameworks/R.framework/Resources/ 
>>>>>> library/OpenMx/libs/i386/OpenMx.so
>>>>>> Reason: image not found
>>>>>> libgfortran.2.dylib does exist, but in
>>>>>> /Library/Frameworks/R.framework/Versions/2.10/Resouces/lib/ 
>>>>>> libgfortran.2.dylib
>>>>>> (or /2.9/, depending on version installed).
>>>>>> A workaround at present involves creating a symbolic link from  
>>>>>> the above file to
>>>>>> /usr/local/lib/libgfortran.2.dylib, however this requires sudo  
>>>>>> access and is
>>>>>> confusing for novice users.
>>>>>> There is more discussion of this bug as it relates to OpenMx at:
>>>>>> http://openmx.psyc.virginia.edu/thread/316
>>>>>> Posts on other forums indicate a similar issue with other  
>>>>>> packages including
>>>>>> vegan and lme4:
>>>>>> http://r-forge.r-project.org/forum/forum.php?thread_id=728&forum_id=194
>>>>>> https://stat.ethz.ch/pipermail/r-sig-mac/2009-May/006210.html
>>>>> Those are very old posts and those were temporary issues in the  
>>>>> CRAN build system that have been promptly resolved.
>>> ______________________________________________
>>> R-devel at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-devel
>>
>> ______________________________________________
>> R-devel at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-devel
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>


From ivan.calandra at uni-hamburg.de  Sat Mar  6 18:17:48 2010
From: ivan.calandra at uni-hamburg.de (Ivan Calandra)
Date: Sat, 6 Mar 2010 18:17:48 +0100
Subject: [R-SIG-Mac] RODBC
Message-ID: <68193D9E-3D84-444A-B8C4-D1FE30A13AC4@uni-hamburg.de>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100306/953f295c/attachment.pl>

From simon.urbanek at r-project.org  Sat Mar  6 18:37:57 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 6 Mar 2010 12:37:57 -0500
Subject: [R-SIG-Mac] RODBC
In-Reply-To: <68193D9E-3D84-444A-B8C4-D1FE30A13AC4@uni-hamburg.de>
References: <68193D9E-3D84-444A-B8C4-D1FE30A13AC4@uni-hamburg.de>
Message-ID: <1DA0749F-4A28-4577-9848-0B80ED71EDFB@r-project.org>


On Mar 6, 2010, at 12:17 PM, Ivan Calandra wrote:

> Dear Mac users,
> 
> Up to now, I've run R on Windows and I have some problems using my scripts on Mac OS X 10.6, R.app GUI 1.31 (5537 Leopard build 64-bit).
> 
> Here is the code I use to export a data.frame to an *.xls file:
> xlsFile <- odbcConnectExcel("test.xls", readOnly=F)
> sqlSave(xlsFile, test, tablename=test, rownames=F, addPK=T, append=F)
> odbcCloseAll()
> 
> However, the function odbcConnectExcel() doesn't work on Mac.
> 

Have you installed the necessary ODBC drivers and registered them?

Cheers,
Simon


> Could you help me transposing this code?
> 
> I don't think some sample data would be necessary, but let me know if you would like to.
> 
> Thanks in advance
> Regards,
> Ivan
> 
> --
> Ivan CALANDRA
> PhD Student
> University of Hamburg
> Biozentrum Grindel und Zoologisches Museum
> Abt. S?ugetiere
> Martin-Luther-King-Platz 3
> D-20146 Hamburg, GERMANY
> +49(0)40 42838 6231
> ivan.calandra at uni-hamburg.de
> 
> **********
> http://www.for771.uni-bonn.de
> http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php
> 
> 
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dan.putler at sauder.ubc.ca  Sat Mar  6 18:41:32 2010
From: dan.putler at sauder.ubc.ca (Dan Putler)
Date: Sat, 6 Mar 2010 09:41:32 -0800
Subject: [R-SIG-Mac] RODBC
In-Reply-To: <28417_1267896012_1267896012_68193D9E-3D84-444A-B8C4-D1FE30A13AC4@uni-hamburg.de>
References: <28417_1267896012_1267896012_68193D9E-3D84-444A-B8C4-D1FE30A13AC4@uni-hamburg.de>
Message-ID: <1267897292.6936.8.camel@whitebox>

Hi Ivan,

Do you have an Excel ODBC driver? My understanding is that Microsoft
does not provide one of OS X, so you may need to buy a driver to get it
to work. I know a company called Opensoft makes one.

Dan

On Sat, 2010-03-06 at 09:17 -0800, Ivan Calandra wrote:
> Dear Mac users,
> 
> Up to now, I've run R on Windows and I have some problems using my scripts on Mac OS X 10.6, R.app GUI 1.31 (5537 Leopard build 64-bit).
> 
> Here is the code I use to export a data.frame to an *.xls file:
> xlsFile <- odbcConnectExcel("test.xls", readOnly=F)
> sqlSave(xlsFile, test, tablename=test, rownames=F, addPK=T, append=F)
> odbcCloseAll()
> 
> However, the function odbcConnectExcel() doesn't work on Mac.
> 
> Could you help me transposing this code?
> 
> I don't think some sample data would be necessary, but let me know if you would like to.
> 
> Thanks in advance
> Regards,
> Ivan
> 
> --
> Ivan CALANDRA
> PhD Student
> University of Hamburg
> Biozentrum Grindel und Zoologisches Museum
> Abt. S?ugetiere
> Martin-Luther-King-Platz 3
> D-20146 Hamburg, GERMANY
> +49(0)40 42838 6231
> ivan.calandra at uni-hamburg.de
> 
> **********
> http://www.for771.uni-bonn.de
> http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php
> 
> 
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
-- 
Dan Putler
Sauder School of Business
University of British Columbia


From marc_schwartz at me.com  Sat Mar  6 18:42:54 2010
From: marc_schwartz at me.com (Marc Schwartz)
Date: Sat, 06 Mar 2010 11:42:54 -0600
Subject: [R-SIG-Mac] RODBC
In-Reply-To: <68193D9E-3D84-444A-B8C4-D1FE30A13AC4@uni-hamburg.de>
References: <68193D9E-3D84-444A-B8C4-D1FE30A13AC4@uni-hamburg.de>
Message-ID: <82052197-DCBD-4078-97C2-EC8085301F9B@me.com>

On Mar 6, 2010, at 11:17 AM, Ivan Calandra wrote:

> Dear Mac users,
> 
> Up to now, I've run R on Windows and I have some problems using my scripts on Mac OS X 10.6, R.app GUI 1.31 (5537 Leopard build 64-bit).
> 
> Here is the code I use to export a data.frame to an *.xls file:
> xlsFile <- odbcConnectExcel("test.xls", readOnly=F)
> sqlSave(xlsFile, test, tablename=test, rownames=F, addPK=T, append=F)
> odbcCloseAll()
> 
> However, the function odbcConnectExcel() doesn't work on Mac.
> 
> Could you help me transposing this code?
> 
> I don't think some sample data would be necessary, but let me know if you would like to.
> 
> Thanks in advance
> Regards,
> Ivan


odbcConnectExcel() is Windows only. The function is conditionally available when the package is installed based upon the OS or in the pre-built binaries.

Presuming that you have an ODBC driver installed for Excel on your Mac (either MS with an Office installation, or from Actual Technologies) and a DSN defined, you can use odbcConnect(). If you do not, then you cannot use an ODBC connection.

That being said, I am pretty sure that using ODBC you cannot create a new .XLS file, you can only read/write to/from an existing one, which includes appending new worksheets to an existing file.

You could use the WriteXLS package on CRAN to write one or more data frames to a new Excel file, where each data frame would be written to a new worksheet. The package requires Perl and Apple's default Perl installation is missing at least one required Perl package (Text::CSV_XS) which can be installed from the command line using CPAN. See the INSTALL file for the package here:

  http://cran.r-project.org/web/packages/WriteXLS/index.html

HTH,

Marc Schwartz


From ivan.calandra at uni-hamburg.de  Sat Mar  6 19:34:35 2010
From: ivan.calandra at uni-hamburg.de (Ivan Calandra)
Date: Sat, 6 Mar 2010 19:34:35 +0100
Subject: [R-SIG-Mac] RODBC
In-Reply-To: <1DA0749F-4A28-4577-9848-0B80ED71EDFB@r-project.org>
References: <68193D9E-3D84-444A-B8C4-D1FE30A13AC4@uni-hamburg.de>
	<1DA0749F-4A28-4577-9848-0B80ED71EDFB@r-project.org>
Message-ID: <4C4EDA06-A45C-4E8D-A197-A69672397083@uni-hamburg.de>

How am I supposed to do that? 

Marc Schwarz advised me to use the package WriteXLS instead.

Thanks for your help already
regards,
Ivan

Le 6 mars 2010 ? 18:37, Simon Urbanek a ?crit :

> 
> On Mar 6, 2010, at 12:17 PM, Ivan Calandra wrote:
> 
>> Dear Mac users,
>> 
>> Up to now, I've run R on Windows and I have some problems using my scripts on Mac OS X 10.6, R.app GUI 1.31 (5537 Leopard build 64-bit).
>> 
>> Here is the code I use to export a data.frame to an *.xls file:
>> xlsFile <- odbcConnectExcel("test.xls", readOnly=F)
>> sqlSave(xlsFile, test, tablename=test, rownames=F, addPK=T, append=F)
>> odbcCloseAll()
>> 
>> However, the function odbcConnectExcel() doesn't work on Mac.
>> 
> 
> Have you installed the necessary ODBC drivers and registered them?
> 
> Cheers,
> Simon
> 
> 
>> Could you help me transposing this code?
>> 
>> I don't think some sample data would be necessary, but let me know if you would like to.
>> 
>> Thanks in advance
>> Regards,
>> Ivan
>> 
>> --
>> Ivan CALANDRA
>> PhD Student
>> University of Hamburg
>> Biozentrum Grindel und Zoologisches Museum
>> Abt. S?ugetiere
>> Martin-Luther-King-Platz 3
>> D-20146 Hamburg, GERMANY
>> +49(0)40 42838 6231
>> ivan.calandra at uni-hamburg.de
>> 
>> **********
>> http://www.for771.uni-bonn.de
>> http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php
>> 
>> 
>> 
>> 
>> 
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 



--
Ivan CALANDRA
PhD Student
University of Hamburg
Biozentrum Grindel und Zoologisches Institut und Museum
Martin-Luther-King-Platz 3
D-20146 Hamburg, GERMANY
+49(0)40 42838 6231
ivan.calandra at uni-hamburg.de

**********
http://www.for771.uni-bonn.de
http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php


From neilt at neiltiffin.com  Sat Mar  6 19:41:32 2010
From: neilt at neiltiffin.com (Neil Tiffin)
Date: Sat, 6 Mar 2010 12:41:32 -0600
Subject: [R-SIG-Mac] RODBC
In-Reply-To: <4C4EDA06-A45C-4E8D-A197-A69672397083@uni-hamburg.de>
References: <68193D9E-3D84-444A-B8C4-D1FE30A13AC4@uni-hamburg.de>
	<1DA0749F-4A28-4577-9848-0B80ED71EDFB@r-project.org>
	<4C4EDA06-A45C-4E8D-A197-A69672397083@uni-hamburg.de>
Message-ID: <361F800B-38C3-4278-BB6D-68D21E43C5B0@neiltiffin.com>

http://www.actualtech.com/

Neil

On Mar 6, 2010, at 12:34 PM, Ivan Calandra wrote:

> How am I supposed to do that? 
> 
> Marc Schwarz advised me to use the package WriteXLS instead.
> 
> Thanks for your help already
> regards,
> Ivan
> 
> Le 6 mars 2010 ? 18:37, Simon Urbanek a ?crit :
> 
>> 
>> On Mar 6, 2010, at 12:17 PM, Ivan Calandra wrote:
>> 
>>> Dear Mac users,
>>> 
>>> Up to now, I've run R on Windows and I have some problems using my scripts on Mac OS X 10.6, R.app GUI 1.31 (5537 Leopard build 64-bit).
>>> 
>>> Here is the code I use to export a data.frame to an *.xls file:
>>> xlsFile <- odbcConnectExcel("test.xls", readOnly=F)
>>> sqlSave(xlsFile, test, tablename=test, rownames=F, addPK=T, append=F)
>>> odbcCloseAll()
>>> 
>>> However, the function odbcConnectExcel() doesn't work on Mac.
>>> 
>> 
>> Have you installed the necessary ODBC drivers and registered them?
>> 
>> Cheers,
>> Simon
>> 
>> 
>>> Could you help me transposing this code?
>>> 
>>> I don't think some sample data would be necessary, but let me know if you would like to.
>>> 
>>> Thanks in advance
>>> Regards,
>>> Ivan
>>> 


From marc_schwartz at me.com  Sat Mar  6 20:14:26 2010
From: marc_schwartz at me.com (Marc Schwartz)
Date: Sat, 06 Mar 2010 13:14:26 -0600
Subject: [R-SIG-Mac] RODBC
In-Reply-To: <4C4EDA06-A45C-4E8D-A197-A69672397083@uni-hamburg.de>
References: <68193D9E-3D84-444A-B8C4-D1FE30A13AC4@uni-hamburg.de>
	<1DA0749F-4A28-4577-9848-0B80ED71EDFB@r-project.org>
	<4C4EDA06-A45C-4E8D-A197-A69672397083@uni-hamburg.de>
Message-ID: <FBEC5AD8-F7FA-4DC2-8214-24A9CD2FC889@me.com>

Ivan,

If you wanted to evaluate the ODBC route, the Actual Tech driver is available here:

  http://www.actualtech.com/product_access.php

It is $29.95 U.S.

In hindsight, as I don't use MS Office, I don't know if their OSX offering in fact has an ODBC driver included. Someone else here may know that.

FWIW, I use Actual's Oracle ODBC driver and have been pleased with it. 

I should note that WriteXLS does not facilitate appending new worksheets to an existing file or new data to an existing worksheet. It creates a new .XLS file when used, overwriting an existing file of the same if it already exists. The intent is to provide the means to easily dump one or more data frames to an Excel file as a means to make data from R portable to others where an .XLS file makes sense as the vehicle, as an alternative to CSV files, etc. So the intent would be to have all of your data frames created and then use WriteXLS() to export them at once. 

I had this need when I was using Linux (to send data to clients on Windows) and so needed to find the way to accomplish this when Excel itself would not be available. Thus Perl was used, which makes this common approach available on Linux, OSX and Windows. 

Regards,

Marc

On Mar 6, 2010, at 12:34 PM, Ivan Calandra wrote:

> How am I supposed to do that? 
> 
> Marc Schwarz advised me to use the package WriteXLS instead.
> 
> Thanks for your help already
> regards,
> Ivan
> 
> Le 6 mars 2010 ? 18:37, Simon Urbanek a ?crit :
> 
>> 
>> On Mar 6, 2010, at 12:17 PM, Ivan Calandra wrote:
>> 
>>> Dear Mac users,
>>> 
>>> Up to now, I've run R on Windows and I have some problems using my scripts on Mac OS X 10.6, R.app GUI 1.31 (5537 Leopard build 64-bit).
>>> 
>>> Here is the code I use to export a data.frame to an *.xls file:
>>> xlsFile <- odbcConnectExcel("test.xls", readOnly=F)
>>> sqlSave(xlsFile, test, tablename=test, rownames=F, addPK=T, append=F)
>>> odbcCloseAll()
>>> 
>>> However, the function odbcConnectExcel() doesn't work on Mac.
>>> 
>> 
>> Have you installed the necessary ODBC drivers and registered them?
>> 
>> Cheers,
>> Simon
>> 
>> 
>>> Could you help me transposing this code?
>>> 
>>> I don't think some sample data would be necessary, but let me know if you would like to.
>>> 
>>> Thanks in advance
>>> Regards,
>>> Ivan
>>> 
>>> --
>>> Ivan CALANDRA
>>> PhD Student
>>> University of Hamburg
>>> Biozentrum Grindel und Zoologisches Museum
>>> Abt. S?ugetiere
>>> Martin-Luther-King-Platz 3
>>> D-20146 Hamburg, GERMANY
>>> +49(0)40 42838 6231
>>> ivan.calandra at uni-hamburg.de
>>> 
>>> **********
>>> http://www.for771.uni-bonn.de
>>> http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 	[[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 
> 
> --
> Ivan CALANDRA
> PhD Student
> University of Hamburg
> Biozentrum Grindel und Zoologisches Institut und Museum
> Martin-Luther-King-Platz 3
> D-20146 Hamburg, GERMANY
> +49(0)40 42838 6231
> ivan.calandra at uni-hamburg.de
> 
> **********
> http://www.for771.uni-bonn.de
> http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ivan.calandra at uni-hamburg.de  Sat Mar  6 21:01:17 2010
From: ivan.calandra at uni-hamburg.de (Ivan Calandra)
Date: Sat, 6 Mar 2010 21:01:17 +0100
Subject: [R-SIG-Mac] RODBC
In-Reply-To: <FBEC5AD8-F7FA-4DC2-8214-24A9CD2FC889@me.com>
References: <68193D9E-3D84-444A-B8C4-D1FE30A13AC4@uni-hamburg.de>
	<1DA0749F-4A28-4577-9848-0B80ED71EDFB@r-project.org>
	<4C4EDA06-A45C-4E8D-A197-A69672397083@uni-hamburg.de>
	<FBEC5AD8-F7FA-4DC2-8214-24A9CD2FC889@me.com>
Message-ID: <8848D2CB-F27C-46D8-A4B1-8621D7B1D256@uni-hamburg.de>

Thanks a lot Marc for your detailed answer.
With this information, I'll find what I can do with my data.
Thanks again to all of you
Have a nice weekend
Ivan


Le 6 mars 2010 ? 20:14, Marc Schwartz a ?crit :

> Ivan,
> 
> If you wanted to evaluate the ODBC route, the Actual Tech driver is available here:
> 
>  http://www.actualtech.com/product_access.php
> 
> It is $29.95 U.S.
> 
> In hindsight, as I don't use MS Office, I don't know if their OSX offering in fact has an ODBC driver included. Someone else here may know that.
> 
> FWIW, I use Actual's Oracle ODBC driver and have been pleased with it. 
> 
> I should note that WriteXLS does not facilitate appending new worksheets to an existing file or new data to an existing worksheet. It creates a new .XLS file when used, overwriting an existing file of the same if it already exists. The intent is to provide the means to easily dump one or more data frames to an Excel file as a means to make data from R portable to others where an .XLS file makes sense as the vehicle, as an alternative to CSV files, etc. So the intent would be to have all of your data frames created and then use WriteXLS() to export them at once. 
> 
> I had this need when I was using Linux (to send data to clients on Windows) and so needed to find the way to accomplish this when Excel itself would not be available. Thus Perl was used, which makes this common approach available on Linux, OSX and Windows. 
> 
> Regards,
> 
> Marc
> 
> On Mar 6, 2010, at 12:34 PM, Ivan Calandra wrote:
> 
>> How am I supposed to do that? 
>> 
>> Marc Schwarz advised me to use the package WriteXLS instead.
>> 
>> Thanks for your help already
>> regards,
>> Ivan
>> 
>> Le 6 mars 2010 ? 18:37, Simon Urbanek a ?crit :
>> 
>>> 
>>> On Mar 6, 2010, at 12:17 PM, Ivan Calandra wrote:
>>> 
>>>> Dear Mac users,
>>>> 
>>>> Up to now, I've run R on Windows and I have some problems using my scripts on Mac OS X 10.6, R.app GUI 1.31 (5537 Leopard build 64-bit).
>>>> 
>>>> Here is the code I use to export a data.frame to an *.xls file:
>>>> xlsFile <- odbcConnectExcel("test.xls", readOnly=F)
>>>> sqlSave(xlsFile, test, tablename=test, rownames=F, addPK=T, append=F)
>>>> odbcCloseAll()
>>>> 
>>>> However, the function odbcConnectExcel() doesn't work on Mac.
>>>> 
>>> 
>>> Have you installed the necessary ODBC drivers and registered them?
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>>> Could you help me transposing this code?
>>>> 
>>>> I don't think some sample data would be necessary, but let me know if you would like to.
>>>> 
>>>> Thanks in advance
>>>> Regards,
>>>> Ivan
>>>> 
>>>> --
>>>> Ivan CALANDRA
>>>> PhD Student
>>>> University of Hamburg
>>>> Biozentrum Grindel und Zoologisches Museum
>>>> Abt. S?ugetiere
>>>> Martin-Luther-King-Platz 3
>>>> D-20146 Hamburg, GERMANY
>>>> +49(0)40 42838 6231
>>>> ivan.calandra at uni-hamburg.de
>>>> 
>>>> **********
>>>> http://www.for771.uni-bonn.de
>>>> http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 	[[alternative HTML version deleted]]
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> 
>> 
>> --
>> Ivan CALANDRA
>> PhD Student
>> University of Hamburg
>> Biozentrum Grindel und Zoologisches Institut und Museum
>> Martin-Luther-King-Platz 3
>> D-20146 Hamburg, GERMANY
>> +49(0)40 42838 6231
>> ivan.calandra at uni-hamburg.de
>> 
>> **********
>> http://www.for771.uni-bonn.de
>> http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 



--
Ivan CALANDRA
PhD Student
University of Hamburg
Biozentrum Grindel und Zoologisches Institut und Museum
Martin-Luther-King-Platz 3
D-20146 Hamburg, GERMANY
+49(0)40 42838 6231
ivan.calandra at uni-hamburg.de

**********
http://www.for771.uni-bonn.de
http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php


From marc_schwartz at me.com  Sat Mar  6 21:51:13 2010
From: marc_schwartz at me.com (Marc Schwartz)
Date: Sat, 06 Mar 2010 14:51:13 -0600
Subject: [R-SIG-Mac] RODBC
In-Reply-To: <8848D2CB-F27C-46D8-A4B1-8621D7B1D256@uni-hamburg.de>
References: <68193D9E-3D84-444A-B8C4-D1FE30A13AC4@uni-hamburg.de>
	<1DA0749F-4A28-4577-9848-0B80ED71EDFB@r-project.org>
	<4C4EDA06-A45C-4E8D-A197-A69672397083@uni-hamburg.de>
	<FBEC5AD8-F7FA-4DC2-8214-24A9CD2FC889@me.com>
	<8848D2CB-F27C-46D8-A4B1-8621D7B1D256@uni-hamburg.de>
Message-ID: <A6928492-6E55-4933-914A-0E7C4E7864FD@me.com>

Ivan,

A quick heads up.

I had a brief offlist exchange with Prof. Ripley, during which he noted two things:

1. His MS Office 2008 installation on OSX does not have an ODBC driver. So it would seem that it is not available from MS, which would make sense with Actual Tech selling one. 

2. The Actual Tech driver is read only, meaning that you can read from an Excel file, but not write to one. This is also noted in Section 7 of vignette("RODBC").  After going back to the Actual Tech web site on the page I listed, they do mention this in the text on the page, where it indicates the for Excel, only 'select' statements are supported and for Access, only 'select' and 'join' statements. 'insert' and 'update' queries are not supported.

Thus, the Actual Tech product and indeed, [R]ODBC will in fact, not do any of what you want here.

Marc

On Mar 6, 2010, at 2:01 PM, Ivan Calandra wrote:

> Thanks a lot Marc for your detailed answer.
> With this information, I'll find what I can do with my data.
> Thanks again to all of you
> Have a nice weekend
> Ivan
> 
> 
> Le 6 mars 2010 ? 20:14, Marc Schwartz a ?crit :
> 
>> Ivan,
>> 
>> If you wanted to evaluate the ODBC route, the Actual Tech driver is available here:
>> 
>> http://www.actualtech.com/product_access.php
>> 
>> It is $29.95 U.S.
>> 
>> In hindsight, as I don't use MS Office, I don't know if their OSX offering in fact has an ODBC driver included. Someone else here may know that.
>> 
>> FWIW, I use Actual's Oracle ODBC driver and have been pleased with it. 
>> 
>> I should note that WriteXLS does not facilitate appending new worksheets to an existing file or new data to an existing worksheet. It creates a new .XLS file when used, overwriting an existing file of the same if it already exists. The intent is to provide the means to easily dump one or more data frames to an Excel file as a means to make data from R portable to others where an .XLS file makes sense as the vehicle, as an alternative to CSV files, etc. So the intent would be to have all of your data frames created and then use WriteXLS() to export them at once. 
>> 
>> I had this need when I was using Linux (to send data to clients on Windows) and so needed to find the way to accomplish this when Excel itself would not be available. Thus Perl was used, which makes this common approach available on Linux, OSX and Windows. 
>> 
>> Regards,
>> 
>> Marc
>> 
>> On Mar 6, 2010, at 12:34 PM, Ivan Calandra wrote:
>> 
>>> How am I supposed to do that? 
>>> 
>>> Marc Schwarz advised me to use the package WriteXLS instead.
>>> 
>>> Thanks for your help already
>>> regards,
>>> Ivan
>>> 
>>> Le 6 mars 2010 ? 18:37, Simon Urbanek a ?crit :
>>> 
>>>> 
>>>> On Mar 6, 2010, at 12:17 PM, Ivan Calandra wrote:
>>>> 
>>>>> Dear Mac users,
>>>>> 
>>>>> Up to now, I've run R on Windows and I have some problems using my scripts on Mac OS X 10.6, R.app GUI 1.31 (5537 Leopard build 64-bit).
>>>>> 
>>>>> Here is the code I use to export a data.frame to an *.xls file:
>>>>> xlsFile <- odbcConnectExcel("test.xls", readOnly=F)
>>>>> sqlSave(xlsFile, test, tablename=test, rownames=F, addPK=T, append=F)
>>>>> odbcCloseAll()
>>>>> 
>>>>> However, the function odbcConnectExcel() doesn't work on Mac.
>>>>> 
>>>> 
>>>> Have you installed the necessary ODBC drivers and registered them?
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>>> Could you help me transposing this code?
>>>>> 
>>>>> I don't think some sample data would be necessary, but let me know if you would like to.
>>>>> 
>>>>> Thanks in advance
>>>>> Regards,
>>>>> Ivan
>>>>> 
>>>>> --
>>>>> Ivan CALANDRA
>>>>> PhD Student
>>>>> University of Hamburg
>>>>> Biozentrum Grindel und Zoologisches Museum
>>>>> Abt. S?ugetiere
>>>>> Martin-Luther-King-Platz 3
>>>>> D-20146 Hamburg, GERMANY
>>>>> +49(0)40 42838 6231
>>>>> ivan.calandra at uni-hamburg.de
>>>>> 
>>>>> **********
>>>>> http://www.for771.uni-bonn.de
>>>>> http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> 	[[alternative HTML version deleted]]
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>>> 
>>> 
>>> --
>>> Ivan CALANDRA
>>> PhD Student
>>> University of Hamburg
>>> Biozentrum Grindel und Zoologisches Institut und Museum
>>> Martin-Luther-King-Platz 3
>>> D-20146 Hamburg, GERMANY
>>> +49(0)40 42838 6231
>>> ivan.calandra at uni-hamburg.de
>>> 
>>> **********
>>> http://www.for771.uni-bonn.de
>>> http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 
> 
> --
> Ivan CALANDRA
> PhD Student
> University of Hamburg
> Biozentrum Grindel und Zoologisches Institut und Museum
> Martin-Luther-King-Platz 3
> D-20146 Hamburg, GERMANY
> +49(0)40 42838 6231
> ivan.calandra at uni-hamburg.de
> 
> **********
> http://www.for771.uni-bonn.de
> http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php
> 
> 
> 
> 
> 


From erich.neuwirth at univie.ac.at  Sat Mar  6 22:18:12 2010
From: erich.neuwirth at univie.ac.at (Erich Neuwirth)
Date: Sat, 6 Mar 2010 22:18:12 +0100
Subject: [R-SIG-Mac] RODBC
In-Reply-To: <A6928492-6E55-4933-914A-0E7C4E7864FD@me.com>
References: <68193D9E-3D84-444A-B8C4-D1FE30A13AC4@uni-hamburg.de>
	<1DA0749F-4A28-4577-9848-0B80ED71EDFB@r-project.org>
	<4C4EDA06-A45C-4E8D-A197-A69672397083@uni-hamburg.de>
	<FBEC5AD8-F7FA-4DC2-8214-24A9CD2FC889@me.com>
	<8848D2CB-F27C-46D8-A4B1-8621D7B1D256@uni-hamburg.de>
	<A6928492-6E55-4933-914A-0E7C4E7864FD@me.com>
Message-ID: <61C9CF69-0B58-42AF-9F6D-25C54B5F703F@univie.ac.at>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100306/db74bb7e/attachment.pl>

From kent.manley at att.net  Sat Mar  6 23:33:24 2010
From: kent.manley at att.net (Kent Manley)
Date: Sat, 6 Mar 2010 17:33:24 -0500
Subject: [R-SIG-Mac] RODBC
In-Reply-To: <61C9CF69-0B58-42AF-9F6D-25C54B5F703F@univie.ac.at>
References: <68193D9E-3D84-444A-B8C4-D1FE30A13AC4@uni-hamburg.de>
	<1DA0749F-4A28-4577-9848-0B80ED71EDFB@r-project.org>
	<4C4EDA06-A45C-4E8D-A197-A69672397083@uni-hamburg.de>
	<FBEC5AD8-F7FA-4DC2-8214-24A9CD2FC889@me.com>
	<8848D2CB-F27C-46D8-A4B1-8621D7B1D256@uni-hamburg.de>
	<A6928492-6E55-4933-914A-0E7C4E7864FD@me.com>
	<61C9CF69-0B58-42AF-9F6D-25C54B5F703F@univie.ac.at>
Message-ID: <C5A94FB7-B3F9-45A1-B538-E817413640A7@att.net>

I might suggest looking into the possibility of using SQLite, which is  
cross platform and free (in fact, it's public domain rather than GNU  
etc.).

You can then set up an Excel spreadsheet to populate itself from the  
SQLite db. http://www.sqlite.org.  It's already available on the Mac -  
open a terminal window and type sqlite3, and you should enter the  
environment.  Check the website for details of how to set up the  
database connections.

Good luck -

Kent

On Mar 6, 2010, at 4:18 PM, Erich Neuwirth wrote:

> Here is another option:
> On rcom.univie.ac.at
> We have ROOo, R for OpenOffice.
> This is an addin for OpenOffice, and it works on OSX. It allows to  
> transfer matrices and dataframes
> from R to OO. In OO, you then could save your data as Excel files.
> It cannot be done directly from R, you need to start OO and perhaps  
> write some macros in OO.
>
>
>
> On Mar 6, 2010, at 9:51 PM, Marc Schwartz wrote:
>
>> Ivan,
>>
>> A quick heads up.
>>
>> I had a brief offlist exchange with Prof. Ripley, during which he  
>> noted two things:
>>
>> 1. His MS Office 2008 installation on OSX does not have an ODBC  
>> driver. So it would seem that it is not available from MS, which  
>> would make sense with Actual Tech selling one.
>>
>> 2. The Actual Tech driver is read only, meaning that you can read  
>> from an Excel file, but not write to one. This is also noted in  
>> Section 7 of vignette("RODBC").  After going back to the Actual  
>> Tech web site on the page I listed, they do mention this in the  
>> text on the page, where it indicates the for Excel, only 'select'  
>> statements are supported and for Access, only 'select' and 'join'  
>> statements. 'insert' and 'update' queries are not supported.
>>
>> Thus, the Actual Tech product and indeed, [R]ODBC will in fact, not  
>> do any of what you want here.
>>
>> Marc
>>
>> On Mar 6, 2010, at 2:01 PM, Ivan Calandra wrote:
>>
>>> Thanks a lot Marc for your detailed answer.
>>> With this information, I'll find what I can do with my data.
>>> Thanks again to all of you
>>> Have a nice weekend
>>> Ivan
>>>
>>>
>>> Le 6 mars 2010 ? 20:14, Marc Schwartz a ?crit :
>>>
>>>> Ivan,
>>>>
>>>> If you wanted to evaluate the ODBC route, the Actual Tech driver  
>>>> is available here:
>>>>
>>>> http://www.actualtech.com/product_access.php
>>>>
>>>> It is $29.95 U.S.
>>>>
>>>> In hindsight, as I don't use MS Office, I don't know if their OSX  
>>>> offering in fact has an ODBC driver included. Someone else here  
>>>> may know that.
>>>>
>>>> FWIW, I use Actual's Oracle ODBC driver and have been pleased  
>>>> with it.
>>>>
>>>> I should note that WriteXLS does not facilitate appending new  
>>>> worksheets to an existing file or new data to an existing  
>>>> worksheet. It creates a new .XLS file when used, overwriting an  
>>>> existing file of the same if it already exists. The intent is to  
>>>> provide the means to easily dump one or more data frames to an  
>>>> Excel file as a means to make data from R portable to others  
>>>> where an .XLS file makes sense as the vehicle, as an alternative  
>>>> to CSV files, etc. So the intent would be to have all of your  
>>>> data frames created and then use WriteXLS() to export them at once.
>>>>
>>>> I had this need when I was using Linux (to send data to clients  
>>>> on Windows) and so needed to find the way to accomplish this when  
>>>> Excel itself would not be available. Thus Perl was used, which  
>>>> makes this common approach available on Linux, OSX and Windows.
>>>>
>>>> Regards,
>>>>
>>>> Marc
>>>>
>>>> On Mar 6, 2010, at 12:34 PM, Ivan Calandra wrote:
>>>>
>>>>> How am I supposed to do that?
>>>>>
>>>>> Marc Schwarz advised me to use the package WriteXLS instead.
>>>>>
>>>>> Thanks for your help already
>>>>> regards,
>>>>> Ivan
>>>>>
>>>>> Le 6 mars 2010 ? 18:37, Simon Urbanek a ?crit :
>>>>>
>>>>>>
>>>>>> On Mar 6, 2010, at 12:17 PM, Ivan Calandra wrote:
>>>>>>
>>>>>>> Dear Mac users,
>>>>>>>
>>>>>>> Up to now, I've run R on Windows and I have some problems  
>>>>>>> using my scripts on Mac OS X 10.6, R.app GUI 1.31 (5537  
>>>>>>> Leopard build 64-bit).
>>>>>>>
>>>>>>> Here is the code I use to export a data.frame to an *.xls file:
>>>>>>> xlsFile <- odbcConnectExcel("test.xls", readOnly=F)
>>>>>>> sqlSave(xlsFile, test, tablename=test, rownames=F, addPK=T,  
>>>>>>> append=F)
>>>>>>> odbcCloseAll()
>>>>>>>
>>>>>>> However, the function odbcConnectExcel() doesn't work on Mac.
>>>>>>>
>>>>>>
>>>>>> Have you installed the necessary ODBC drivers and registered  
>>>>>> them?
>>>>>>
>>>>>> Cheers,
>>>>>> Simon
>>>>>>
>>>>>>
>>>>>>> Could you help me transposing this code?
>>>>>>>
>>>>>>> I don't think some sample data would be necessary, but let me  
>>>>>>> know if you would like to.
>>>>>>>
>>>>>>> Thanks in advance
>>>>>>> Regards,
>>>>>>> Ivan
>>>>>>>
>>>>>>> --
>>>>>>> Ivan CALANDRA
>>>>>>> PhD Student
>>>>>>> University of Hamburg
>>>>>>> Biozentrum Grindel und Zoologisches Museum
>>>>>>> Abt. S?ugetiere
>>>>>>> Martin-Luther-King-Platz 3
>>>>>>> D-20146 Hamburg, GERMANY
>>>>>>> +49(0)40 42838 6231
>>>>>>> ivan.calandra at uni-hamburg.de
>>>>>>>
>>>>>>> **********
>>>>>>> http://www.for771.uni-bonn.de
>>>>>>> http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> 	[[alternative HTML version deleted]]
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Ivan CALANDRA
>>>>> PhD Student
>>>>> University of Hamburg
>>>>> Biozentrum Grindel und Zoologisches Institut und Museum
>>>>> Martin-Luther-King-Platz 3
>>>>> D-20146 Hamburg, GERMANY
>>>>> +49(0)40 42838 6231
>>>>> ivan.calandra at uni-hamburg.de
>>>>>
>>>>> **********
>>>>> http://www.for771.uni-bonn.de
>>>>> http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>>
>>>
>>> --
>>> Ivan CALANDRA
>>> PhD Student
>>> University of Hamburg
>>> Biozentrum Grindel und Zoologisches Institut und Museum
>>> Martin-Luther-King-Platz 3
>>> D-20146 Hamburg, GERMANY
>>> +49(0)40 42838 6231
>>> ivan.calandra at uni-hamburg.de
>>>
>>> **********
>>> http://www.for771.uni-bonn.de
>>> http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php
>>>
>>>
>>>
>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> --
> Erich Neuwirth
> Didactic Center for Computer Science and Institute for Scientific  
> Computing
> University of Vienna
>
>
>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From lists at revelle.net  Tue Mar  9 18:58:29 2010
From: lists at revelle.net (William Revelle)
Date: Tue, 9 Mar 2010 11:58:29 -0600
Subject: [R-SIG-Mac] A problem with read.fwf when using clipboard
Message-ID: <p06240800c7bc2b8d94d9@[165.124.165.198]>

Dear Mac R folks,

I am not sure if this is a Mac specific problem or not, but it 
certainly does not work on a Mac

Consider the data set

12345
23456
34567
45678
56789

copy this to the clipboard and then attempt to read it back in using 
the read.fwf  function

x <- read.fwf(file=pipe("pbpaste"),width=rep(1,5),header=FALSE)

The error is
Error in readLines(file, n = thisblock) : 'con' is not a connection
Error in UseMethod("close") :
   no applicable method for 'close' applied to an object of class "NULL"

But if we try

y <- read.table(file=pipe("pbpaste"),header=FALSE)

That works (but of course does not separate the variables.


The help file for read.fwf   says

file: the name of the file which the data are to be read from.

Alternatively, file can be a connection, which will be opened if 
necessary, and if so closed at the end of the function call.

read.table says the same thing about file (but is a bit more wordy).

##


The problem seems to be in the lines 22 to 29 of read.fwf

   if (is.character(file)) {
         file <- file(file, "r")
         on.exit(close(file), add = TRUE)
     }
     else if (!isOpen(file)) {
         file <- open(file, "r")
         on.exit(close(file), add = TRUE)
     }

If we replace those lines with lines 10-21 of read.table  then 
read.fwf works as expected and will read from pipe("pbpaste")

     if (is.character(file)) {
         file <- if (nzchar(fileEncoding))
             file(file, "rt", encoding = fileEncoding)
         else file(file, "rt")
         on.exit(close(file))
     }
     if (!inherits(file, "connection"))
         stop("'file' must be a character string or connection")
     if (!isOpen(file, "rt")) {
         open(file, "rt")
         on.exit(close(file))
     }


I discovered this while trying to extend my read.clipboard function 
to handle fixed format input.
The problem seems to happen on 2.10.1 as well as 2.11.0
R version 2.10.1 Patched (2009-12-16 r50763)
i386-apple-darwin9.8.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base    

other attached packages:
[1] psych_1.0-86

loaded via a namespace (and not attached):
[1] tools_2.10.1


R version 2.11.0 Under development (unstable) (2010-02-12 r51122)
i386-apple-darwin9.8.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base    

other attached packages:
[1] psych_1.0-86


Best wishes,

Bill

-- 
William Revelle		http://personality-project.org/revelle.html
Professor			http://personality-project.org
Department of Psychology             http://www.wcas.northwestern.edu/psych/
Northwestern University	http://www.northwestern.edu/
Use R for psychology                       http://personality-project.org/r
It is 6 minutes to midnight	http://www.thebulletin.org


From simon.urbanek at r-project.org  Wed Mar 10 15:22:48 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 10 Mar 2010 09:22:48 -0500
Subject: [R-SIG-Mac] build of package xlsx fails on Mac (fwd)
In-Reply-To: <Pine.LNX.4.64.1003090902280.14894@shell.eskimo.com>
References: <Pine.LNX.4.64.1003090902280.14894@shell.eskimo.com>
Message-ID: <0C80FF53-7687-4B87-B59E-3E6A8E3BEDFD@r-project.org>

Adrian,

On Mar 9, 2010, at 13:50 , Adrian Dragulescu wrote:

>
> Simon,
>
> I got bounced as a non-member.  Maybe you are in the best position  
> to have an opinion on this.
>

Yes, since OS X 10.5 Apple dropped support for AWT on the main thread,  
so essentially you cannot use any graphics classes in R on OS X 10.5  
since R is single-threaded. They work in JGR, though.

This is a bit problematic for tests and I don't have a good solution.  
I have a hack that you're welcome to use -- when checking packages on  
OS X 10.5 we set NOAWT=1 so you could make your graphics tests  
conditional on

if (!nzchar(Sys.getenv("NOAWT"))) {

## AWT/Swing tests here

}

It's not pretty but that's all I can offer at the moment .. Ideally  
Apple would fix that issue but ...

Cheers,
Simon


(CCing to R-SIG-Mac as that seems to have been intended)

> ---------- Forwarded message ----------
> Date: Tue, 9 Mar 2010 08:54:35 -0800 (PST)
> From: Adrian Dragulescu <adrian_d at eskimo.com>
> To: r-sig-mac at stat.math.ethz.ch
> Subject: build of package xlsx fails on Mac
>
>
> Hello,
>
> One user pointed to me that the build of package xlsx fails on Mac.   
> I did not change anything on CRAN since I've uploaded the package.   
> I believe it used to work fine.
>
> The issue is Java specific as my package uses rJava.  When running  
> the examples, one gets:
> checking Rd contents ... OK
> checking examples ... ERROR
> Running examples in 'xlsx-Ex.R' failed.
> The error most likely occurred in:
>
>> ### * CellStyle
>> flush(stderr()); flush(stdout())
>> ### Name: CellStyle
>> ### Title: Functions to manipulate cells.
>> ### Aliases: CellStyle createCellStyle setCellStyle getCellStyle
>> ### ** Examples
>> wb <- createWorkbook()
>> sheet <- createSheet(wb, "Sheet1")
>> rows <- createRow(sheet, rowIndex=1)
>> cell.1 <- createCell(rows, colIndex=1)[[1,1]]
>> setCellValue(cell.1, "Hello R!")
>> cellStyle1 <- createCellStyle(wb, borderPosition="RIGHT",
> + borderPen="BORDER_DASHED", fillBackgroundColor="yellow",
> + fillForegroundColor="tomato", fillPattern="BIG_SPOTS")
> 2010-02-15 12:47:54.174 R[33120:613] Apple AWT Java VM was loaded on  
> first thread -- can't start AWT.
> Error in .jnew("java.awt.Color", rgb[1], rgb[2], rgb[3]) :
> java.lang.NoClassDefFoundError
> Calls: createCellStyle -> .jcall -> .xssfcolor -> .jnew -> .External
> Execution halted
>
> Let me know if there is something on my side that I need to do.  Of  
> course, I can \dontrun the example.
>
> Thank you,
> Adrian
>
>
>
> ---------- Forwarded message ----------
> Date: Mon, 8 Mar 2010 14:41:40 -0800
> From: Ralf Tautenhahn <rtautenh at scripps.edu>
> To: Adrian Dragulescu <adrian_d at eskimo.com>
> Subject: RE: xlsx and binary data
>
> Hi Adrian,
>
> I see that the xlsx build  fails on Mac:
> http://www.r-project.org/nosvn/R.check/r-release-macosx-ix86/xlsx-00check.html
>
> I hope this is only a temporary problem ?
>
> Regards,
> Ralf.
>
>
>


From ivan.calandra at uni-hamburg.de  Sat Mar 13 13:04:04 2010
From: ivan.calandra at uni-hamburg.de (Ivan Calandra)
Date: Sat, 13 Mar 2010 13:04:04 +0100
Subject: [R-SIG-Mac] R.app or R64.app?
Message-ID: <0C4DDD10-77EB-45C5-B9BA-E56B2D28632C@uni-hamburg.de>

Dear Mac Users,

New on R Mac (MacOS X 10.6), I've used up to now R.app [R.app GUI 1.31 (5537) i386-apple-darwin9.8.0]. 
But I've tried R64 [R.app GUI 1.31 (5537) x86_64-apple-darwin9.8.0] and it also works.

If both work, which one should I use? Is there any difference in terms of speed for example (which would not be really critical for me since I don't really handle large datasets) or anything else.

Thanks for your advice
Ivan


--
Ivan CALANDRA
PhD Student
University of Hamburg
Biozentrum Grindel und Zoologisches Institut und Museum
Martin-Luther-King-Platz 3
D-20146 Hamburg, GERMANY
+49(0)40 42838 6231
ivan.calandra at uni-hamburg.de

**********
http://www.for771.uni-bonn.de
http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php


From simon.urbanek at r-project.org  Sat Mar 13 18:37:59 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 13 Mar 2010 12:37:59 -0500
Subject: [R-SIG-Mac] R.app or R64.app?
In-Reply-To: <0C4DDD10-77EB-45C5-B9BA-E56B2D28632C@uni-hamburg.de>
References: <0C4DDD10-77EB-45C5-B9BA-E56B2D28632C@uni-hamburg.de>
Message-ID: <4AE18880-7A67-4264-8908-5DA96D05F654@r-project.org>

Ivan,

On Mar 13, 2010, at 7:04 AM, Ivan Calandra wrote:

> Dear Mac Users,
> 
> New on R Mac (MacOS X 10.6), I've used up to now R.app [R.app GUI 1.31 (5537) i386-apple-darwin9.8.0]. 
> But I've tried R64 [R.app GUI 1.31 (5537) x86_64-apple-darwin9.8.0] and it also works.
> 
> If both work, which one should I use? Is there any difference in terms of speed for example (which would not be really critical for me since I don't really handle large datasets) or anything else.
> 

There is no clear answer to that. In general, using 32-bit R is a bit safer because not all packages support 64-bit. The main advantage of 64-bit is that you can use more memory (>4GB). Historically, 64-bit R was used only on machines a lot of RAM. As of speed, on the one hand 64-bit instruction set is faster as it can take advantage of new features, but on the other hand it uses twice as much memory for pointers which is slows it down. I have posted some info on the list here a while ago
http://www.mail-archive.com/r-sig-mac at stat.math.ethz.ch/msg04244.html
there is no clear winner - there are tasks where one is faster than the other either way.

In OS X 10.6 all applications are now by default 64-bit so in fact the command line R is 64-bit so Apple's suggestion is to use the R64.app in Snow Leopard -- but it's more about technology than real benefits I think...

Cheers,
Simon


From ivan.calandra at uni-hamburg.de  Sat Mar 13 19:37:17 2010
From: ivan.calandra at uni-hamburg.de (Ivan Calandra)
Date: Sat, 13 Mar 2010 19:37:17 +0100
Subject: [R-SIG-Mac] R.app or R64.app?
In-Reply-To: <4AE18880-7A67-4264-8908-5DA96D05F654@r-project.org>
References: <0C4DDD10-77EB-45C5-B9BA-E56B2D28632C@uni-hamburg.de>
	<4AE18880-7A67-4264-8908-5DA96D05F654@r-project.org>
Message-ID: <B8E686B0-9E0D-4A78-B9AA-7B8E47913CD5@uni-hamburg.de>

Simon,

I never thought that this issue would be so complicated!
So if I understand well, I should try both and see which one is better for my use. Am I right?

But as I said, except for a few specific tasks, speed should not be a problem for me.

Thanks again for your detailed answers.
Ivan


Le 13 mars 2010 ? 18:37, Simon Urbanek a ?crit :

> Ivan,
> 
> On Mar 13, 2010, at 7:04 AM, Ivan Calandra wrote:
> 
>> Dear Mac Users,
>> 
>> New on R Mac (MacOS X 10.6), I've used up to now R.app [R.app GUI 1.31 (5537) i386-apple-darwin9.8.0]. 
>> But I've tried R64 [R.app GUI 1.31 (5537) x86_64-apple-darwin9.8.0] and it also works.
>> 
>> If both work, which one should I use? Is there any difference in terms of speed for example (which would not be really critical for me since I don't really handle large datasets) or anything else.
>> 
> 
> There is no clear answer to that. In general, using 32-bit R is a bit safer because not all packages support 64-bit. The main advantage of 64-bit is that you can use more memory (>4GB). Historically, 64-bit R was used only on machines a lot of RAM. As of speed, on the one hand 64-bit instruction set is faster as it can take advantage of new features, but on the other hand it uses twice as much memory for pointers which is slows it down. I have posted some info on the list here a while ago
> http://www.mail-archive.com/r-sig-mac at stat.math.ethz.ch/msg04244.html
> there is no clear winner - there are tasks where one is faster than the other either way.
> 
> In OS X 10.6 all applications are now by default 64-bit so in fact the command line R is 64-bit so Apple's suggestion is to use the R64.app in Snow Leopard -- but it's more about technology than real benefits I think...
> 
> Cheers,
> Simon
> 
> 



--
Ivan CALANDRA
PhD Student
University of Hamburg
Biozentrum Grindel und Zoologisches Institut und Museum
Martin-Luther-King-Platz 3
D-20146 Hamburg, GERMANY
+49(0)40 42838 6231
ivan.calandra at uni-hamburg.de

**********
http://www.for771.uni-bonn.de
http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php


From simon.urbanek at r-project.org  Sat Mar 13 22:30:29 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 13 Mar 2010 16:30:29 -0500
Subject: [R-SIG-Mac] R.app or R64.app?
In-Reply-To: <B8E686B0-9E0D-4A78-B9AA-7B8E47913CD5@uni-hamburg.de>
References: <0C4DDD10-77EB-45C5-B9BA-E56B2D28632C@uni-hamburg.de>
	<4AE18880-7A67-4264-8908-5DA96D05F654@r-project.org>
	<B8E686B0-9E0D-4A78-B9AA-7B8E47913CD5@uni-hamburg.de>
Message-ID: <91B6F8ED-13E7-40B9-B946-DF80ED4FC316@r-project.org>


On Mar 13, 2010, at 1:37 PM, Ivan Calandra wrote:

> Simon,
> 
> I never thought that this issue would be so complicated!
> So if I understand well, I should try both and see which one is better for my use. Am I right?
> 

If you have a machine with more than 4GB of RAM, go with 64-bit. If you don't, either will be probably equally fine for you so it doesn't matter but 32-bit is the more tested one so I'd go for that. The differences in speed are not that big, either.

Cheers,
Simon



> But as I said, except for a few specific tasks, speed should not be a problem for me.
> 
> Thanks again for your detailed answers.
> Ivan
> 
> 
> Le 13 mars 2010 ? 18:37, Simon Urbanek a ?crit :
> 
>> Ivan,
>> 
>> On Mar 13, 2010, at 7:04 AM, Ivan Calandra wrote:
>> 
>>> Dear Mac Users,
>>> 
>>> New on R Mac (MacOS X 10.6), I've used up to now R.app [R.app GUI 1.31 (5537) i386-apple-darwin9.8.0]. 
>>> But I've tried R64 [R.app GUI 1.31 (5537) x86_64-apple-darwin9.8.0] and it also works.
>>> 
>>> If both work, which one should I use? Is there any difference in terms of speed for example (which would not be really critical for me since I don't really handle large datasets) or anything else.
>>> 
>> 
>> There is no clear answer to that. In general, using 32-bit R is a bit safer because not all packages support 64-bit. The main advantage of 64-bit is that you can use more memory (>4GB). Historically, 64-bit R was used only on machines a lot of RAM. As of speed, on the one hand 64-bit instruction set is faster as it can take advantage of new features, but on the other hand it uses twice as much memory for pointers which is slows it down. I have posted some info on the list here a while ago
>> http://www.mail-archive.com/r-sig-mac at stat.math.ethz.ch/msg04244.html
>> there is no clear winner - there are tasks where one is faster than the other either way.
>> 
>> In OS X 10.6 all applications are now by default 64-bit so in fact the command line R is 64-bit so Apple's suggestion is to use the R64.app in Snow Leopard -- but it's more about technology than real benefits I think...
>> 
>> Cheers,
>> Simon
>> 
>> 
> 
> 
> 
> --
> Ivan CALANDRA
> PhD Student
> University of Hamburg
> Biozentrum Grindel und Zoologisches Institut und Museum
> Martin-Luther-King-Platz 3
> D-20146 Hamburg, GERMANY
> +49(0)40 42838 6231
> ivan.calandra at uni-hamburg.de
> 
> **********
> http://www.for771.uni-bonn.de
> http://webapp5.rrz.uni-hamburg.de/mammals/eng/mitarbeiter.php
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From ashwin.kapur at gmail.com  Sun Mar 14 21:55:22 2010
From: ashwin.kapur at gmail.com (Ashwin Kapur)
Date: Sun, 14 Mar 2010 16:55:22 -0400
Subject: [R-SIG-Mac] Resent with pdf screen shots: Problem with quartz
	graphics on macpro
Message-ID: <D40F2BA6-5113-4791-AF7A-8F8EF76E1565@gmail.com>

Hi all:

Sorry for the resend but after re-revieiwing the mailing list guidelines, it seems I'm only supposed to attach pdfs as attachments so I'm resending with the screenshots converted to pdfs as opposed to pngs.

I'm having a strange issue with quartz graphics on my mac pro desktop.  I'm really hoping someone has seen this and knows what's going on because I'm at my wits end.

First the details of the machine.

uname -a
ashwin macpro 10.2.0 Darwin Kernel Version 10.2.0: Tue Nov  3 10:35:19 PST 2009; root:xnu-1486.2.11~1/RELEASE_X86_64 x86_64

R version 2.10.1 (2009-12-14)
R 2.10.1 GUI 1.31 Leopard build 64-bit (5537)
The macpro boots to the 64 bit snow leopard kernel.

One fact which might be important is that I have a dual monitor system but the two monitors do not have identical resolution.  The primary monitor is actually a 42 inch 1080P television and the resolution listed by the OS is 1080P (Television).  The secondary monitor is an old Silicon Graphics monitor driven by a SGI Multilink adapter at 1600x1024 which sits on the right and closer to me which I use primarily for reading documentation/papers etc which I prefer to monitors available today because reading it is like reading from paper.

I run R on two macs, my macbook and my macpro.  The problem only happens on the macpro and only with quartz graphics.  If I do an x11() and then plot to the x11 window, the problem does not occur. It may be easiest to show the problem with screenshots so I'll post them.  Hopefully this isn't a breach of mailing list etiquette.

To reproduce the problem all l I need to do in a freshly started R GUI console is the following.

a <- rnorm(100)
plot(a)

I can also do this via the command line in a terminal by doing.
a <-  rnorm(100)
quartz()
plot(a)

I get the below.  The plot is absolutely huge and is clipped below and on the right.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: SS1.pdf
Type: application/pdf
Size: 10783 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100314/84f7702e/attachment-0004.pdf>
-------------- next part --------------



If I resize the quarz window by dragging the bottom right window, the clipping goes away and subsequent plots are not clipped, but notice how the margins and fonts used are huge.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: SS2.pdf
Type: application/pdf
Size: 18115 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100314/84f7702e/attachment-0005.pdf>
-------------- next part --------------



I cannot reproduce the problem on my macbook.  I also don't get the problem if I use x11() to start up x11 graphics, I get graphics very similar to what I get if I plot on one of the machines on my ubuntu based cluster.


Below for reference is the output plot(a) produces when run using the x11() device.  This is very similar to the output produced on the quartz device on my laptop.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: SS3.pdf
Type: application/pdf
Size: 16832 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100314/84f7702e/attachment-0006.pdf>
-------------- next part --------------



Another interesting thing to note.  When I do demo(graphics) from the R GUI Console and it gets to 

coplot(lat ~ long | depth, data = quakes, pch = 21, bg = "green3")

It produces the error "Error in plot.new() : figure margins too large"  and the output:

-------------- next part --------------
A non-text attachment was scrubbed...
Name: SS4.pdf
Type: application/pdf
Size: 29110 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100314/84f7702e/attachment-0007.pdf>
-------------- next part --------------



I've googled/browsed the list etc.  One additional issue I notice is that 

par()$family is NULL, which was something other had been asked to check but setting par(family="mono") doesn't make any difference.

Any suggestions, help, pointers etc would be greatly appreciated.




From simon.urbanek at r-project.org  Mon Mar 15 17:57:53 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 15 Mar 2010 12:57:53 -0400
Subject: [R-SIG-Mac] Resent with pdf screen shots: Problem with quartz
	graphics on macpro
In-Reply-To: <D40F2BA6-5113-4791-AF7A-8F8EF76E1565@gmail.com>
References: <D40F2BA6-5113-4791-AF7A-8F8EF76E1565@gmail.com>
Message-ID: <EAC28C4B-5B29-45B9-94EA-1A842B2FB2DC@r-project.org>

Ashwin,

by default Quartz uses the DPI supplied by your monitors to convert  
inches to pixel (X11 ignores the real values). If that doesn't seem to  
give the right results for you, try setting dpi to something that  
makes you comfortable (see ?quartz and the dpi parameter - it also  
tells you how to set that permanently).

Cheers,
Simon



On Mar 14, 2010, at 16:55 , Ashwin Kapur wrote:

> Hi all:
>
> Sorry for the resend but after re-revieiwing the mailing list  
> guidelines, it seems I'm only supposed to attach pdfs as attachments  
> so I'm resending with the screenshots converted to pdfs as opposed  
> to pngs.
>
> I'm having a strange issue with quartz graphics on my mac pro  
> desktop.  I'm really hoping someone has seen this and knows what's  
> going on because I'm at my wits end.
>
> First the details of the machine.
>
> uname -a
> ashwin macpro 10.2.0 Darwin Kernel Version 10.2.0: Tue Nov  3  
> 10:35:19 PST 2009; root:xnu-1486.2.11~1/RELEASE_X86_64 x86_64
>
> R version 2.10.1 (2009-12-14)
> R 2.10.1 GUI 1.31 Leopard build 64-bit (5537)
> The macpro boots to the 64 bit snow leopard kernel.
>
> One fact which might be important is that I have a dual monitor  
> system but the two monitors do not have identical resolution.  The  
> primary monitor is actually a 42 inch 1080P television and the  
> resolution listed by the OS is 1080P (Television).  The secondary  
> monitor is an old Silicon Graphics monitor driven by a SGI Multilink  
> adapter at 1600x1024 which sits on the right and closer to me which  
> I use primarily for reading documentation/papers etc which I prefer  
> to monitors available today because reading it is like reading from  
> paper.
>
> I run R on two macs, my macbook and my macpro.  The problem only  
> happens on the macpro and only with quartz graphics.  If I do an  
> x11() and then plot to the x11 window, the problem does not occur.  
> It may be easiest to show the problem with screenshots so I'll post  
> them.  Hopefully this isn't a breach of mailing list etiquette.
>
> To reproduce the problem all l I need to do in a freshly started R  
> GUI console is the following.
>
> a <- rnorm(100)
> plot(a)
>
> I can also do this via the command line in a terminal by doing.
> a <-  rnorm(100)
> quartz()
> plot(a)
>
> I get the below.  The plot is absolutely huge and is clipped below  
> and on the right.
>
> <SS1.pdf>
>
>
> If I resize the quarz window by dragging the bottom right window,  
> the clipping goes away and subsequent plots are not clipped, but  
> notice how the margins and fonts used are huge.
>
> <SS2.pdf>
>
>
> I cannot reproduce the problem on my macbook.  I also don't get the  
> problem if I use x11() to start up x11 graphics, I get graphics very  
> similar to what I get if I plot on one of the machines on my ubuntu  
> based cluster.
>
>
> Below for reference is the output plot(a) produces when run using  
> the x11() device.  This is very similar to the output produced on  
> the quartz device on my laptop.
>
> <SS3.pdf>
>
>
> Another interesting thing to note.  When I do demo(graphics) from  
> the R GUI Console and it gets to
>
> coplot(lat ~ long | depth, data = quakes, pch = 21, bg = "green3")
>
> It produces the error "Error in plot.new() : figure margins too  
> large"  and the output:
>
> <SS4.pdf>
>
>
> I've googled/browsed the list etc.  One additional issue I notice is  
> that
>
> par()$family is NULL, which was something other had been asked to  
> check but setting par(family="mono") doesn't make any difference.
>
> Any suggestions, help, pointers etc would be greatly appreciated.
>
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From mckellercran at gmail.com  Mon Mar 15 19:35:01 2010
From: mckellercran at gmail.com (Matthew Keller)
Date: Mon, 15 Mar 2010 12:35:01 -0600
Subject: [R-SIG-Mac] How to interrupt an R process that hangs
Message-ID: <3f547caa1003151135y7448f0aek346ae32c7283f7a2@mail.gmail.com>

HI all,

Apologies for this question. I'm sure it's been asked many times, but
despite 20 minutes of looking, I can't find the answer. I never use
the GUI, I use emacs, but my postdoc does, so I don't know what to
tell her about the following:

Occasionally she'll mess up in her code and cause R to hang
indefinitely (e.g., R is trying to do something that will take days).
In these situations, is there an option other than killing R (and the
work you've done on your script to that point)?

Thank you,

Matthew Keller


-- 
Matthew C Keller
Asst. Professor of Psychology
University of Colorado at Boulder
www.matthewckeller.com


From adik-rhelp at ilovebacon.org  Mon Mar 15 19:42:45 2010
From: adik-rhelp at ilovebacon.org (Adam D. I. Kramer)
Date: Mon, 15 Mar 2010 11:42:45 -0700 (PDT)
Subject: [R-SIG-Mac] How to interrupt an R process that hangs
In-Reply-To: <3f547caa1003151135y7448f0aek346ae32c7283f7a2@mail.gmail.com>
References: <3f547caa1003151135y7448f0aek346ae32c7283f7a2@mail.gmail.com>
Message-ID: <Pine.LNX.4.64.1003151138280.2401@ilovebacon.org>

+1--this is the single most-annoying issue with R that I know of.

My usual solution, after accomplishing nothing as R spins idly for a couple
hours, is to kill the process and lose any un-saved work.  save.history() is
my friend, but is a big delay when you work with big data sets as I do, so I
don't run it after every command.

I have cc'd r-help here, however, because I experience this problem with
non-OSX R as well...when I run it in Linux or from the OSX command-line (I
compile R for Darwin without aqua/R-framework), the same thing happens.

Is there some way around this? Is this a known problem?

Google searching suggests no solution, timeline, or anything, but the
problem has been annoying users for at least twelve years:
http://tolstoy.newcastle.edu.au/R/help/9704/0151.html

Cordially,
Adam

On Mon, 15 Mar 2010, Matthew Keller wrote:

> HI all,
>
> Apologies for this question. I'm sure it's been asked many times, but
> despite 20 minutes of looking, I can't find the answer. I never use
> the GUI, I use emacs, but my postdoc does, so I don't know what to
> tell her about the following:
>
> Occasionally she'll mess up in her code and cause R to hang
> indefinitely (e.g., R is trying to do something that will take days).
> In these situations, is there an option other than killing R (and the
> work you've done on your script to that point)?
>
> Thank you,
>
> Matthew Keller
>
>
> -- 
> Matthew C Keller
> Asst. Professor of Psychology
> University of Colorado at Boulder
> www.matthewckeller.com
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From murdoch at stats.uwo.ca  Mon Mar 15 20:08:29 2010
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 15 Mar 2010 15:08:29 -0400
Subject: [R-SIG-Mac] How to interrupt an R process that hangs
In-Reply-To: <Pine.LNX.4.64.1003151138280.2401@ilovebacon.org>
References: <3f547caa1003151135y7448f0aek346ae32c7283f7a2@mail.gmail.com>
	<Pine.LNX.4.64.1003151138280.2401@ilovebacon.org>
Message-ID: <4B9E85AD.5010401@stats.uwo.ca>

On 15/03/2010 2:42 PM, Adam D. I. Kramer wrote:
> +1--this is the single most-annoying issue with R that I know of.
>
> My usual solution, after accomplishing nothing as R spins idly for a couple
> hours, is to kill the process and lose any un-saved work.  save.history() is
> my friend, but is a big delay when you work with big data sets as I do, so I
> don't run it after every command.
>
> I have cc'd r-help here, however, because I experience this problem with
> non-OSX R as well...when I run it in Linux or from the OSX command-line (I
> compile R for Darwin without aqua/R-framework), the same thing happens.
>
> Is there some way around this? Is this a known problem?
>
> Google searching suggests no solution, timeline, or anything, but the
> problem has been annoying users for at least twelve years:
> http://tolstoy.newcastle.edu.au/R/help/9704/0151.html
>   

In the Windows GUI, the Esc key sets a flag which will cause 
computations to cease the next time the flag is checked. Unix-like 
systems do the same thing through signals.  SIGINT should eventually 
stop the computation.  How you send one of those in the OSX gui I don't 
know, but it works on a Linux system to run the command

 kill -s INT <PID>

where <PID> is the R process ID.  (Ctrl-C also works in that situation, 
but I'm assuming it's not available to you.)

In either case, I think it's possible to still end up in an unending 
loop, if you're doing some computation that never returns to the R 
evaluator.  (This might not be true in Unix-like systems.  They'll 
probably process the signal faster than Windows will see the Esc key, 
but I don't think that causes an immediate break when external code
is running.)  The key is to write your external code to check for user 
interrupts every now and then.

Duncan Murdoch
> Cordially,
> Adam
>
> On Mon, 15 Mar 2010, Matthew Keller wrote:
>
> > HI all,
> >
> > Apologies for this question. I'm sure it's been asked many times, but
> > despite 20 minutes of looking, I can't find the answer. I never use
> > the GUI, I use emacs, but my postdoc does, so I don't know what to
> > tell her about the following:
> >
> > Occasionally she'll mess up in her code and cause R to hang
> > indefinitely (e.g., R is trying to do something that will take days).
> > In these situations, is there an option other than killing R (and the
> > work you've done on your script to that point)?
> >
> > Thank you,
> >
> > Matthew Keller
> >
> >
> > -- 
> > Matthew C Keller
> > Asst. Professor of Psychology
> > University of Colorado at Boulder
> > www.matthewckeller.com
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at stat.math.ethz.ch
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Mon Mar 15 20:19:21 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 15 Mar 2010 15:19:21 -0400
Subject: [R-SIG-Mac] How to interrupt an R process that hangs
In-Reply-To: <Pine.LNX.4.64.1003151138280.2401@ilovebacon.org>
References: <3f547caa1003151135y7448f0aek346ae32c7283f7a2@mail.gmail.com>
	<Pine.LNX.4.64.1003151138280.2401@ilovebacon.org>
Message-ID: <F970FC61-0CC3-4060-B98F-1BD862325FCC@r-project.org>


On Mar 15, 2010, at 14:42 , Adam D. I. Kramer wrote:

> +1--this is the single most-annoying issue with R that I know of.
>
> My usual solution, after accomplishing nothing as R spins idly for a  
> couple
> hours, is to kill the process and lose any un-saved work.   
> save.history() is
> my friend, but is a big delay when you work with big data sets as I  
> do, so I
> don't run it after every command.
>
> I have cc'd r-help here, however, because I experience this problem  
> with
> non-OSX R as well...when I run it in Linux or from the OSX command- 
> line (I
> compile R for Darwin without aqua/R-framework), the same thing  
> happens.
>
> Is there some way around this? Is this a known problem?
>

"Hanging" for a long period of time is usually caused by poorly  
written C/Fortran code. You can always interrupt R as long as it is in  
the R code. Once you load a package that uses native code (C/ 
Fortran/..) you have to rely on the sanity of the developer to call  
R_CheckUserInterrupt() or rchkusr() often enough (see 6.12 in R-ext).  
If you have some particular package that does not do that, I would  
suggest alerting the author. By definition this requires cooperation  
from authors, because interrupting random code forcefully (as it was  
possible many years ago) creates leaks and unstable states.

Cheers,
Simon



> Google searching suggests no solution, timeline, or anything, but the
> problem has been annoying users for at least twelve years:
> http://tolstoy.newcastle.edu.au/R/help/9704/0151.html
>
> Cordially,
> Adam
>
> On Mon, 15 Mar 2010, Matthew Keller wrote:
>
>> HI all,
>>
>> Apologies for this question. I'm sure it's been asked many times, but
>> despite 20 minutes of looking, I can't find the answer. I never use
>> the GUI, I use emacs, but my postdoc does, so I don't know what to
>> tell her about the following:
>>
>> Occasionally she'll mess up in her code and cause R to hang
>> indefinitely (e.g., R is trying to do something that will take days).
>> In these situations, is there an option other than killing R (and the
>> work you've done on your script to that point)?
>>
>> Thank you,
>>
>> Matthew Keller
>>
>>
>> -- 
>> Matthew C Keller
>> Asst. Professor of Psychology
>> University of Colorado at Boulder
>> www.matthewckeller.com
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From mckellercran at gmail.com  Mon Mar 15 21:20:29 2010
From: mckellercran at gmail.com (Matthew Keller)
Date: Mon, 15 Mar 2010 14:20:29 -0600
Subject: [R-SIG-Mac] How to interrupt an R process that hangs
In-Reply-To: <F970FC61-0CC3-4060-B98F-1BD862325FCC@r-project.org>
References: <3f547caa1003151135y7448f0aek346ae32c7283f7a2@mail.gmail.com>
	<Pine.LNX.4.64.1003151138280.2401@ilovebacon.org>
	<F970FC61-0CC3-4060-B98F-1BD862325FCC@r-project.org>
Message-ID: <3f547caa1003151320v7eafc466g1cfb3dd1d978d235@mail.gmail.com>

Hi all,

Thanks Simon and Duncan for the help. Sorry to be dense, but I'm still
unsure how to interrupt such processes. Here's an example:

for (i in 1:100000){
	a <- matrix(rnorm(100000*100000),ncol=100000)
	b <- svd(a)	}

If you run this, R will hang (i.e., it's a legitimate execution, it
will just take a really long time to execute). The most obvious
solution is to write code that doesn't do unintended things, but
that's not always possible. Is there a way to interrupt it? I tried:

kill -s INT <PID>

and at least on Mac it had no effect. Thanks again,

Matt



On Mon, Mar 15, 2010 at 1:19 PM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> On Mar 15, 2010, at 14:42 , Adam D. I. Kramer wrote:
>
>> +1--this is the single most-annoying issue with R that I know of.
>>
>> My usual solution, after accomplishing nothing as R spins idly for a
>> couple
>> hours, is to kill the process and lose any un-saved work. ?save.history()
>> is
>> my friend, but is a big delay when you work with big data sets as I do, so
>> I
>> don't run it after every command.
>>
>> I have cc'd r-help here, however, because I experience this problem with
>> non-OSX R as well...when I run it in Linux or from the OSX command-line (I
>> compile R for Darwin without aqua/R-framework), the same thing happens.
>>
>> Is there some way around this? Is this a known problem?
>>
>
> "Hanging" for a long period of time is usually caused by poorly written
> C/Fortran code. You can always interrupt R as long as it is in the R code.
> Once you load a package that uses native code (C/Fortran/..) you have to
> rely on the sanity of the developer to call R_CheckUserInterrupt() or
> rchkusr() often enough (see 6.12 in R-ext). If you have some particular
> package that does not do that, I would suggest alerting the author. By
> definition this requires cooperation from authors, because interrupting
> random code forcefully (as it was possible many years ago) creates leaks and
> unstable states.
>
> Cheers,
> Simon
>
>
>
>> Google searching suggests no solution, timeline, or anything, but the
>> problem has been annoying users for at least twelve years:
>> http://tolstoy.newcastle.edu.au/R/help/9704/0151.html
>>
>> Cordially,
>> Adam
>>
>> On Mon, 15 Mar 2010, Matthew Keller wrote:
>>
>>> HI all,
>>>
>>> Apologies for this question. I'm sure it's been asked many times, but
>>> despite 20 minutes of looking, I can't find the answer. I never use
>>> the GUI, I use emacs, but my postdoc does, so I don't know what to
>>> tell her about the following:
>>>
>>> Occasionally she'll mess up in her code and cause R to hang
>>> indefinitely (e.g., R is trying to do something that will take days).
>>> In these situations, is there an option other than killing R (and the
>>> work you've done on your script to that point)?
>>>
>>> Thank you,
>>>
>>> Matthew Keller
>>>
>>>
>>> --
>>> Matthew C Keller
>>> Asst. Professor of Psychology
>>> University of Colorado at Boulder
>>> www.matthewckeller.com
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
>



-- 
Matthew C Keller
Asst. Professor of Psychology
University of Colorado at Boulder
www.matthewckeller.com


From simon.urbanek at r-project.org  Mon Mar 15 21:50:49 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 15 Mar 2010 16:50:49 -0400
Subject: [R-SIG-Mac] How to interrupt an R process that hangs
In-Reply-To: <3f547caa1003151320v7eafc466g1cfb3dd1d978d235@mail.gmail.com>
References: <3f547caa1003151135y7448f0aek346ae32c7283f7a2@mail.gmail.com>
	<Pine.LNX.4.64.1003151138280.2401@ilovebacon.org>
	<F970FC61-0CC3-4060-B98F-1BD862325FCC@r-project.org>
	<3f547caa1003151320v7eafc466g1cfb3dd1d978d235@mail.gmail.com>
Message-ID: <B98F10EE-D540-4137-8B5E-5AF6BCB70337@r-project.org>


On Mar 15, 2010, at 16:20 , Matthew Keller wrote:

> Hi all,
>
> Thanks Simon and Duncan for the help. Sorry to be dense, but I'm still
> unsure how to interrupt such processes. Here's an example:
>
> for (i in 1:100000){
> 	a <- matrix(rnorm(100000*100000),ncol=100000)
> 	b <- svd(a)	}
>
> If you run this,

How could I?

 > for (i in 1:100000){
+ a <- matrix(rnorm(100000*100000),ncol=100000)
+ b <- svd(a)}
Error in rnorm(1e+05 * 1e+05) : invalid arguments
In addition: Warning message:
In rnorm(1e+05 * 1e+05) : NAs introduced by coercion

The only way to run that code at all is to scale it down, e.g.

 >  for (i in 1:100000){
+ a <- matrix(rnorm(1000*1000),ncol=1000)
+ b <- svd(a)
+ }

and when interrupted it comes back within 5s on my Mac ...

I get your general point, but the fact remains that you cannot  
interrupt native code unless it has provisions to do so. The reason is  
that it is impossible to cleanup native code properly (i.e if the  
author did not think of it) so R allows interruption only if the code  
tells R that it is safe to do so.


> R will hang (i.e., it's a legitimate execution, it
> will just take a really long time to execute). The most obvious
> solution is to write code that doesn't do unintended things, but
> that's not always possible. Is there a way to interrupt it? I tried:
>
> kill -s INT <PID>
>
> and at least on Mac it had no effect.

.. if you are in C code, see above. Otherwise it interrupts the R code  
(and so doe ^C or pushing the Stop button etc....).

Cheers,
Simon



>
>
> On Mon, Mar 15, 2010 at 1:19 PM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>>
>> On Mar 15, 2010, at 14:42 , Adam D. I. Kramer wrote:
>>
>>> +1--this is the single most-annoying issue with R that I know of.
>>>
>>> My usual solution, after accomplishing nothing as R spins idly for a
>>> couple
>>> hours, is to kill the process and lose any un-saved work.   
>>> save.history()
>>> is
>>> my friend, but is a big delay when you work with big data sets as  
>>> I do, so
>>> I
>>> don't run it after every command.
>>>
>>> I have cc'd r-help here, however, because I experience this  
>>> problem with
>>> non-OSX R as well...when I run it in Linux or from the OSX command- 
>>> line (I
>>> compile R for Darwin without aqua/R-framework), the same thing  
>>> happens.
>>>
>>> Is there some way around this? Is this a known problem?
>>>
>>
>> "Hanging" for a long period of time is usually caused by poorly  
>> written
>> C/Fortran code. You can always interrupt R as long as it is in the  
>> R code.
>> Once you load a package that uses native code (C/Fortran/..) you  
>> have to
>> rely on the sanity of the developer to call R_CheckUserInterrupt() or
>> rchkusr() often enough (see 6.12 in R-ext). If you have some  
>> particular
>> package that does not do that, I would suggest alerting the author.  
>> By
>> definition this requires cooperation from authors, because  
>> interrupting
>> random code forcefully (as it was possible many years ago) creates  
>> leaks and
>> unstable states.
>>
>> Cheers,
>> Simon
>>
>>
>>
>>> Google searching suggests no solution, timeline, or anything, but  
>>> the
>>> problem has been annoying users for at least twelve years:
>>> http://tolstoy.newcastle.edu.au/R/help/9704/0151.html
>>>
>>> Cordially,
>>> Adam
>>>
>>> On Mon, 15 Mar 2010, Matthew Keller wrote:
>>>
>>>> HI all,
>>>>
>>>> Apologies for this question. I'm sure it's been asked many times,  
>>>> but
>>>> despite 20 minutes of looking, I can't find the answer. I never use
>>>> the GUI, I use emacs, but my postdoc does, so I don't know what to
>>>> tell her about the following:
>>>>
>>>> Occasionally she'll mess up in her code and cause R to hang
>>>> indefinitely (e.g., R is trying to do something that will take  
>>>> days).
>>>> In these situations, is there an option other than killing R (and  
>>>> the
>>>> work you've done on your script to that point)?
>>>>
>>>> Thank you,
>>>>
>>>> Matthew Keller
>>>>
>>>>
>>>> --
>>>> Matthew C Keller
>>>> Asst. Professor of Psychology
>>>> University of Colorado at Boulder
>>>> www.matthewckeller.com
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>>
>
>
>
> -- 
> Matthew C Keller
> Asst. Professor of Psychology
> University of Colorado at Boulder
> www.matthewckeller.com
>
>


From mckellercran at gmail.com  Mon Mar 15 22:10:03 2010
From: mckellercran at gmail.com (Matthew Keller)
Date: Mon, 15 Mar 2010 15:10:03 -0600
Subject: [R-SIG-Mac] [R]  How to interrupt an R process that hangs
In-Reply-To: <XFMail.100315204959.Ted.Harding@manchester.ac.uk>
References: <3f547caa1003151320v7eafc466g1cfb3dd1d978d235@mail.gmail.com>
	<XFMail.100315204959.Ted.Harding@manchester.ac.uk>
Message-ID: <3f547caa1003151410m305c9e9ao3f3b3f60c5036c32@mail.gmail.com>

Hi all,

Thanks for the responses. Ted - thank you for your help. I had to
laugh. I'm no computer guru, but I do know unix well enough to know
not to type "<PID>". But then again, my original code did contain a
matrix with >>2^31-1 elements, so maybe your assumption was reasonable
;)

Anyway, all your kill statements merely kill R, script included, which
doesn't really do what I'd like.

Thus, summary of responses:

Question:
"How do I interrupt an R process that's taking too long?"

Answer:
"You don't. Kill R. And don't make mistakes."

Matthew



On Mon, Mar 15, 2010 at 2:49 PM, Ted Harding
<Ted.Harding at manchester.ac.uk> wrote:
> [Though I'm not using a Mac, OS X is a Unix variant and should
> have the commands used below installed]
>
> Did you *literally* do
> ?kill -s INT <PID>
> without substituting the R PID for "<PID"? If so, then here's a tip.
> In Mac console, do
>
> ?ps aux | grep R
>
> On my Linux machine this currently responds with (amongst some
> irrelevant lines):
>
> ted ?8625 ?0.0 ?3.2 ?41568 34096 pts/6 ?S+ Mar13 0:07
> ?/usr/lib/R/bin/exec/R --no-save
>
> showing that the PID of the R process is 8625. Then you can do
> whatever corresponds to
>
> ?kill -s INT 8625
>
> (replacing "8625" with what you get from ps). However, when I
> just tried it, it didn't work for me either. So I changed the
> Signal from "INT" to "HUP", and this time it did work. Maybe
> try this instead?
>
> Other ways of using 'kill' include
> (a) Use the signal number (1 for HUP, 2 for INT) like
>
> ?kill -1 8625 ? ?or ? ? kill -2 8625
>
> (b) Don't search for the numeric Process ID (PID) but kill it
> ? ?by name ('killall' command):
>
> ?killall -1 R ? ?or ? ?killall -2 R
>
> However, this will kill every running instance of R (if you
> two or more running simultaneously), and you may not want that!
>
> Hoping this helps,
> Ted.
>
>
>
> On 15-Mar-10 20:20:29, Matthew Keller wrote:
>> Hi all,
>>
>> Thanks Simon and Duncan for the help. Sorry to be dense, but I'm still
>> unsure how to interrupt such processes. Here's an example:
>>
>> for (i in 1:100000){
>> ? ? ? a <- matrix(rnorm(100000*100000),ncol=100000)
>> ? ? ? b <- svd(a) ? ? }
>>
>> If you run this, R will hang (i.e., it's a legitimate execution, it
>> will just take a really long time to execute). The most obvious
>> solution is to write code that doesn't do unintended things, but
>> that's not always possible. Is there a way to interrupt it? I tried:
>>
>> kill -s INT <PID>
>>
>> and at least on Mac it had no effect. Thanks again,
>>
>> Matt
>>
>>
>>
>> On Mon, Mar 15, 2010 at 1:19 PM, Simon Urbanek
>> <simon.urbanek at r-project.org> wrote:
>>>
>>> On Mar 15, 2010, at 14:42 , Adam D. I. Kramer wrote:
>>>
>>>> +1--this is the single most-annoying issue with R that I know of.
>>>>
>>>> My usual solution, after accomplishing nothing as R spins idly for a
>>>> couple
>>>> hours, is to kill the process and lose any un-saved work.
>>>> ?_save.history()
>>>> is
>>>> my friend, but is a big delay when you work with big data sets as I
>>>> do, so
>>>> I
>>>> don't run it after every command.
>>>>
>>>> I have cc'd r-help here, however, because I experience this problem
>>>> with
>>>> non-OSX R as well...when I run it in Linux or from the OSX
>>>> command-line (I
>>>> compile R for Darwin without aqua/R-framework), the same thing
>>>> happens.
>>>>
>>>> Is there some way around this? Is this a known problem?
>>>>
>>>
>>> "Hanging" for a long period of time is usually caused by poorly
>>> written
>>> C/Fortran code. You can always interrupt R as long as it is in the R
>>> code.
>>> Once you load a package that uses native code (C/Fortran/..) you have
>>> to
>>> rely on the sanity of the developer to call R_CheckUserInterrupt() or
>>> rchkusr() often enough (see 6.12 in R-ext). If you have some
>>> particular
>>> package that does not do that, I would suggest alerting the author. By
>>> definition this requires cooperation from authors, because
>>> interrupting
>>> random code forcefully (as it was possible many years ago) creates
>>> leaks and
>>> unstable states.
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>
>>>> Google searching suggests no solution, timeline, or anything, but the
>>>> problem has been annoying users for at least twelve years:
>>>> http://tolstoy.newcastle.edu.au/R/help/9704/0151.html
>>>>
>>>> Cordially,
>>>> Adam
>>>>
>>>> On Mon, 15 Mar 2010, Matthew Keller wrote:
>>>>
>>>>> HI all,
>>>>>
>>>>> Apologies for this question. I'm sure it's been asked many times,
>>>>> but
>>>>> despite 20 minutes of looking, I can't find the answer. I never use
>>>>> the GUI, I use emacs, but my postdoc does, so I don't know what to
>>>>> tell her about the following:
>>>>>
>>>>> Occasionally she'll mess up in her code and cause R to hang
>>>>> indefinitely (e.g., R is trying to do something that will take
>>>>> days).
>>>>> In these situations, is there an option other than killing R (and
>>>>> the
>>>>> work you've done on your script to that point)?
>>>>>
>>>>> Thank you,
>>>>>
>>>>> Matthew Keller
>>>>>
>>>>>
>>>>> --
>>>>> Matthew C Keller
>>>>> Asst. Professor of Psychology
>>>>> University of Colorado at Boulder
>>>>> www.matthewckeller.com
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>
>>>
>>
>>
>>
>> --
>> Matthew C Keller
>> Asst. Professor of Psychology
>> University of Colorado at Boulder
>> www.matthewckeller.com
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>
> --------------------------------------------------------------------
> E-Mail: (Ted Harding) <Ted.Harding at manchester.ac.uk>
> Fax-to-email: +44 (0)870 094 0861
> Date: 15-Mar-10 ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? Time: 20:49:57
> ------------------------------ XFMail ------------------------------
>
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.
>



-- 
Matthew C Keller
Asst. Professor of Psychology
University of Colorado at Boulder
www.matthewckeller.com


From simon.urbanek at r-project.org  Mon Mar 15 22:28:50 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 15 Mar 2010 17:28:50 -0400
Subject: [R-SIG-Mac] [R]  How to interrupt an R process that hangs
In-Reply-To: <3f547caa1003151410m305c9e9ao3f3b3f60c5036c32@mail.gmail.com>
References: <3f547caa1003151320v7eafc466g1cfb3dd1d978d235@mail.gmail.com>
	<XFMail.100315204959.Ted.Harding@manchester.ac.uk>
	<3f547caa1003151410m305c9e9ao3f3b3f60c5036c32@mail.gmail.com>
Message-ID: <DE8C3147-DF1C-4789-B2E4-1C8D533AC5D1@r-project.org>

On Mar 15, 2010, at 17:10 , Matthew Keller wrote:

> Hi all,
>
> Thanks for the responses. Ted - thank you for your help. I had to
> laugh. I'm no computer guru, but I do know unix well enough to know
> not to type "<PID>". But then again, my original code did contain a
> matrix with >>2^31-1 elements, so maybe your assumption was reasonable
> ;)
>
> Anyway, all your kill statements merely kill R, script included, which
> doesn't really do what I'd like.
>
> Thus, summary of responses:
>
> Question:
> "How do I interrupt an R process that's taking too long?"
>

Answer 1: Press Stop or <Ctrl><C>
if that doesn't produce the desired effect in reasonable time, proceed  
to next answer


> Answer:
> "You don't. Kill R. And don't make mistakes."
>


Cheers,
Simon


>
> On Mon, Mar 15, 2010 at 2:49 PM, Ted Harding
> <Ted.Harding at manchester.ac.uk> wrote:
>> [Though I'm not using a Mac, OS X is a Unix variant and should
>> have the commands used below installed]
>>
>> Did you *literally* do
>>  kill -s INT <PID>
>> without substituting the R PID for "<PID"? If so, then here's a tip.
>> In Mac console, do
>>
>>  ps aux | grep R
>>
>> On my Linux machine this currently responds with (amongst some
>> irrelevant lines):
>>
>> ted  8625  0.0  3.2  41568 34096 pts/6  S+ Mar13 0:07
>>  /usr/lib/R/bin/exec/R --no-save
>>
>> showing that the PID of the R process is 8625. Then you can do
>> whatever corresponds to
>>
>>  kill -s INT 8625
>>
>> (replacing "8625" with what you get from ps). However, when I
>> just tried it, it didn't work for me either. So I changed the
>> Signal from "INT" to "HUP", and this time it did work. Maybe
>> try this instead?
>>
>> Other ways of using 'kill' include
>> (a) Use the signal number (1 for HUP, 2 for INT) like
>>
>>  kill -1 8625    or     kill -2 8625
>>
>> (b) Don't search for the numeric Process ID (PID) but kill it
>>    by name ('killall' command):
>>
>>  killall -1 R    or    killall -2 R
>>
>> However, this will kill every running instance of R (if you
>> two or more running simultaneously), and you may not want that!
>>
>> Hoping this helps,
>> Ted.
>>
>>
>>
>> On 15-Mar-10 20:20:29, Matthew Keller wrote:
>>> Hi all,
>>>
>>> Thanks Simon and Duncan for the help. Sorry to be dense, but I'm  
>>> still
>>> unsure how to interrupt such processes. Here's an example:
>>>
>>> for (i in 1:100000){
>>>       a <- matrix(rnorm(100000*100000),ncol=100000)
>>>       b <- svd(a)     }
>>>
>>> If you run this, R will hang (i.e., it's a legitimate execution, it
>>> will just take a really long time to execute). The most obvious
>>> solution is to write code that doesn't do unintended things, but
>>> that's not always possible. Is there a way to interrupt it? I tried:
>>>
>>> kill -s INT <PID>
>>>
>>> and at least on Mac it had no effect. Thanks again,
>>>
>>> Matt
>>>
>>>
>>>
>>> On Mon, Mar 15, 2010 at 1:19 PM, Simon Urbanek
>>> <simon.urbanek at r-project.org> wrote:
>>>>
>>>> On Mar 15, 2010, at 14:42 , Adam D. I. Kramer wrote:
>>>>
>>>>> +1--this is the single most-annoying issue with R that I know of.
>>>>>
>>>>> My usual solution, after accomplishing nothing as R spins idly  
>>>>> for a
>>>>> couple
>>>>> hours, is to kill the process and lose any un-saved work.
>>>>> ?_save.history()
>>>>> is
>>>>> my friend, but is a big delay when you work with big data sets  
>>>>> as I
>>>>> do, so
>>>>> I
>>>>> don't run it after every command.
>>>>>
>>>>> I have cc'd r-help here, however, because I experience this  
>>>>> problem
>>>>> with
>>>>> non-OSX R as well...when I run it in Linux or from the OSX
>>>>> command-line (I
>>>>> compile R for Darwin without aqua/R-framework), the same thing
>>>>> happens.
>>>>>
>>>>> Is there some way around this? Is this a known problem?
>>>>>
>>>>
>>>> "Hanging" for a long period of time is usually caused by poorly
>>>> written
>>>> C/Fortran code. You can always interrupt R as long as it is in  
>>>> the R
>>>> code.
>>>> Once you load a package that uses native code (C/Fortran/..) you  
>>>> have
>>>> to
>>>> rely on the sanity of the developer to call  
>>>> R_CheckUserInterrupt() or
>>>> rchkusr() often enough (see 6.12 in R-ext). If you have some
>>>> particular
>>>> package that does not do that, I would suggest alerting the  
>>>> author. By
>>>> definition this requires cooperation from authors, because
>>>> interrupting
>>>> random code forcefully (as it was possible many years ago) creates
>>>> leaks and
>>>> unstable states.
>>>>
>>>> Cheers,
>>>> Simon
>>>>
>>>>
>>>>
>>>>> Google searching suggests no solution, timeline, or anything,  
>>>>> but the
>>>>> problem has been annoying users for at least twelve years:
>>>>> http://tolstoy.newcastle.edu.au/R/help/9704/0151.html
>>>>>
>>>>> Cordially,
>>>>> Adam
>>>>>
>>>>> On Mon, 15 Mar 2010, Matthew Keller wrote:
>>>>>
>>>>>> HI all,
>>>>>>
>>>>>> Apologies for this question. I'm sure it's been asked many times,
>>>>>> but
>>>>>> despite 20 minutes of looking, I can't find the answer. I never  
>>>>>> use
>>>>>> the GUI, I use emacs, but my postdoc does, so I don't know what  
>>>>>> to
>>>>>> tell her about the following:
>>>>>>
>>>>>> Occasionally she'll mess up in her code and cause R to hang
>>>>>> indefinitely (e.g., R is trying to do something that will take
>>>>>> days).
>>>>>> In these situations, is there an option other than killing R (and
>>>>>> the
>>>>>> work you've done on your script to that point)?
>>>>>>
>>>>>> Thank you,
>>>>>>
>>>>>> Matthew Keller
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Matthew C Keller
>>>>>> Asst. Professor of Psychology
>>>>>> University of Colorado at Boulder
>>>>>> www.matthewckeller.com
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>>
>>>>
>>>>
>>>
>>>
>>>
>>> --
>>> Matthew C Keller
>>> Asst. Professor of Psychology
>>> University of Colorado at Boulder
>>> www.matthewckeller.com
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> --------------------------------------------------------------------
>> E-Mail: (Ted Harding) <Ted.Harding at manchester.ac.uk>
>> Fax-to-email: +44 (0)870 094 0861
>> Date: 15-Mar-10                                       Time: 20:49:57
>> ------------------------------ XFMail ------------------------------
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
>
>
>
> -- 
> Matthew C Keller
> Asst. Professor of Psychology
> University of Colorado at Boulder
> www.matthewckeller.com
>
>


From ashwin.kapur at gmail.com  Tue Mar 16 03:15:42 2010
From: ashwin.kapur at gmail.com (Ashwin Kapur)
Date: Mon, 15 Mar 2010 22:15:42 -0400
Subject: [R-SIG-Mac] Resent with pdf screen shots: Problem with quartz
	graphics on macpro
In-Reply-To: <EAC28C4B-5B29-45B9-94EA-1A842B2FB2DC@r-project.org>
References: <D40F2BA6-5113-4791-AF7A-8F8EF76E1565@gmail.com>
	<EAC28C4B-5B29-45B9-94EA-1A842B2FB2DC@r-project.org>
Message-ID: <64335687-8506-47BA-A285-1A642255C991@gmail.com>

Thanks a ton.

quartz(dpi=75) fixes the problem.


On Mar 15, 2010, at 12:57 PM, Simon Urbanek wrote:

> Ashwin,
> 
> by default Quartz uses the DPI supplied by your monitors to convert inches to pixel (X11 ignores the real values). If that doesn't seem to give the right results for you, try setting dpi to something that makes you comfortable (see ?quartz and the dpi parameter - it also tells you how to set that permanently).
> 
> Cheers,
> Simon
> 
> 
> 
> On Mar 14, 2010, at 16:55 , Ashwin Kapur wrote:
> 
>> Hi all:
>> 
>> Sorry for the resend but after re-revieiwing the mailing list guidelines, it seems I'm only supposed to attach pdfs as attachments so I'm resending with the screenshots converted to pdfs as opposed to pngs.
>> 
>> I'm having a strange issue with quartz graphics on my mac pro desktop.  I'm really hoping someone has seen this and knows what's going on because I'm at my wits end.
>> 
>> First the details of the machine.
>> 
>> uname -a
>> ashwin macpro 10.2.0 Darwin Kernel Version 10.2.0: Tue Nov  3 10:35:19 PST 2009; root:xnu-1486.2.11~1/RELEASE_X86_64 x86_64
>> 
>> R version 2.10.1 (2009-12-14)
>> R 2.10.1 GUI 1.31 Leopard build 64-bit (5537)
>> The macpro boots to the 64 bit snow leopard kernel.
>> 
>> One fact which might be important is that I have a dual monitor system but the two monitors do not have identical resolution.  The primary monitor is actually a 42 inch 1080P television and the resolution listed by the OS is 1080P (Television).  The secondary monitor is an old Silicon Graphics monitor driven by a SGI Multilink adapter at 1600x1024 which sits on the right and closer to me which I use primarily for reading documentation/papers etc which I prefer to monitors available today because reading it is like reading from paper.
>> 
>> I run R on two macs, my macbook and my macpro.  The problem only happens on the macpro and only with quartz graphics.  If I do an x11() and then plot to the x11 window, the problem does not occur. It may be easiest to show the problem with screenshots so I'll post them.  Hopefully this isn't a breach of mailing list etiquette.
>> 
>> To reproduce the problem all l I need to do in a freshly started R GUI console is the following.
>> 
>> a <- rnorm(100)
>> plot(a)
>> 
>> I can also do this via the command line in a terminal by doing.
>> a <-  rnorm(100)
>> quartz()
>> plot(a)
>> 
>> I get the below.  The plot is absolutely huge and is clipped below and on the right.
>> 
>> <SS1.pdf>
>> 
>> 
>> If I resize the quarz window by dragging the bottom right window, the clipping goes away and subsequent plots are not clipped, but notice how the margins and fonts used are huge.
>> 
>> <SS2.pdf>
>> 
>> 
>> I cannot reproduce the problem on my macbook.  I also don't get the problem if I use x11() to start up x11 graphics, I get graphics very similar to what I get if I plot on one of the machines on my ubuntu based cluster.
>> 
>> 
>> Below for reference is the output plot(a) produces when run using the x11() device.  This is very similar to the output produced on the quartz device on my laptop.
>> 
>> <SS3.pdf>
>> 
>> 
>> Another interesting thing to note.  When I do demo(graphics) from the R GUI Console and it gets to
>> 
>> coplot(lat ~ long | depth, data = quakes, pch = 21, bg = "green3")
>> 
>> It produces the error "Error in plot.new() : figure margins too large"  and the output:
>> 
>> <SS4.pdf>
>> 
>> 
>> I've googled/browsed the list etc.  One additional issue I notice is that
>> 
>> par()$family is NULL, which was something other had been asked to check but setting par(family="mono") doesn't make any difference.
>> 
>> Any suggestions, help, pointers etc would be greatly appreciated.
>> 
>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From ashwin.kapur at gmail.com  Wed Mar 17 00:35:02 2010
From: ashwin.kapur at gmail.com (Ashwin Kapur)
Date: Tue, 16 Mar 2010 19:35:02 -0400
Subject: [R-SIG-Mac] Resent with pdf screen shots: Problem with quartz
	graphics on macpro
In-Reply-To: <EAC28C4B-5B29-45B9-94EA-1A842B2FB2DC@r-project.org>
References: <D40F2BA6-5113-4791-AF7A-8F8EF76E1565@gmail.com>
	<EAC28C4B-5B29-45B9-94EA-1A842B2FB2DC@r-project.org>
Message-ID: <D41BEF1F-3D9C-4E7C-BD89-1BE51CB4ED3C@gmail.com>

Thanks a ton.

quartz(dpi=75) fixes the problem.


On Mar 15, 2010, at 12:57 PM, Simon Urbanek wrote:

> Ashwin,
> 
> by default Quartz uses the DPI supplied by your monitors to convert inches to pixel (X11 ignores the real values). If that doesn't seem to give the right results for you, try setting dpi to something that makes you comfortable (see ?quartz and the dpi parameter - it also tells you how to set that permanently).
> 
> Cheers,
> Simon
> 
> 
> 
> On Mar 14, 2010, at 16:55 , Ashwin Kapur wrote:
> 
>> Hi all:
>> 
>> Sorry for the resend but after re-revieiwing the mailing list guidelines, it seems I'm only supposed to attach pdfs as attachments so I'm resending with the screenshots converted to pdfs as opposed to pngs.
>> 
>> I'm having a strange issue with quartz graphics on my mac pro desktop.  I'm really hoping someone has seen this and knows what's going on because I'm at my wits end.
>> 
>> First the details of the machine.
>> 
>> uname -a
>> ashwin macpro 10.2.0 Darwin Kernel Version 10.2.0: Tue Nov  3 10:35:19 PST 2009; root:xnu-1486.2.11~1/RELEASE_X86_64 x86_64
>> 
>> R version 2.10.1 (2009-12-14)
>> R 2.10.1 GUI 1.31 Leopard build 64-bit (5537)
>> The macpro boots to the 64 bit snow leopard kernel.
>> 
>> One fact which might be important is that I have a dual monitor system but the two monitors do not have identical resolution.  The primary monitor is actually a 42 inch 1080P television and the resolution listed by the OS is 1080P (Television).  The secondary monitor is an old Silicon Graphics monitor driven by a SGI Multilink adapter at 1600x1024 which sits on the right and closer to me which I use primarily for reading documentation/papers etc which I prefer to monitors available today because reading it is like reading from paper.
>> 
>> I run R on two macs, my macbook and my macpro.  The problem only happens on the macpro and only with quartz graphics.  If I do an x11() and then plot to the x11 window, the problem does not occur. It may be easiest to show the problem with screenshots so I'll post them.  Hopefully this isn't a breach of mailing list etiquette.
>> 
>> To reproduce the problem all l I need to do in a freshly started R GUI console is the following.
>> 
>> a <- rnorm(100)
>> plot(a)
>> 
>> I can also do this via the command line in a terminal by doing.
>> a <-  rnorm(100)
>> quartz()
>> plot(a)
>> 
>> I get the below.  The plot is absolutely huge and is clipped below and on the right.
>> 
>> <SS1.pdf>
>> 
>> 
>> If I resize the quarz window by dragging the bottom right window, the clipping goes away and subsequent plots are not clipped, but notice how the margins and fonts used are huge.
>> 
>> <SS2.pdf>
>> 
>> 
>> I cannot reproduce the problem on my macbook.  I also don't get the problem if I use x11() to start up x11 graphics, I get graphics very similar to what I get if I plot on one of the machines on my ubuntu based cluster.
>> 
>> 
>> Below for reference is the output plot(a) produces when run using the x11() device.  This is very similar to the output produced on the quartz device on my laptop.
>> 
>> <SS3.pdf>
>> 
>> 
>> Another interesting thing to note.  When I do demo(graphics) from the R GUI Console and it gets to
>> 
>> coplot(lat ~ long | depth, data = quakes, pch = 21, bg = "green3")
>> 
>> It produces the error "Error in plot.new() : figure margins too large"  and the output:
>> 
>> <SS4.pdf>
>> 
>> 
>> I've googled/browsed the list etc.  One additional issue I notice is that
>> 
>> par()$family is NULL, which was something other had been asked to check but setting par(family="mono") doesn't make any difference.
>> 
>> Any suggestions, help, pointers etc would be greatly appreciated.
>> 
>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From simon.urbanek at r-project.org  Wed Mar 17 15:25:39 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 17 Mar 2010 10:25:39 -0400
Subject: [R-SIG-Mac] Makeconf and GCC version: Leopard vs Snow Leopard
In-Reply-To: <4BA0DB40.4010709@ebi.ac.uk>
References: <4BA0DB40.4010709@ebi.ac.uk>
Message-ID: <78DB99F3-9214-4FAA-8F83-A45A9BDFF61F@r-project.org>


On Mar 17, 2010, at 9:38 AM, Simon Anders wrote:

> Hi Simon etc.
> 
> We've recently got a number of question from users of our packages, who, for certain reasons, wanted to compile them from source on a Mac, and ran into problems, namely the error message that 'gcc-4.2' was not found. I don't know if the issue has already been discussed but as I've just investigated it,

It is worth checking the archives - it would give you the correct answer. It is simply about outdated Xcode. We require Xcode 3.1 or higher for Leopard builds -- see
http://r.research.att.com/tools/ 
mainly because of issues in older Xcodes. The latest Xcode for 10.5 is Xcode 3.1.4 and is at the top of the Xcode download list in ADC (=easy to find). Admittedly, the Tiger build requirement  (Xcode 2.4.0+)is in the FAQ, Leopard (Xcode 3.1+) is not -- I'll fix that.

Thanks,
Simon




> I would like to share my findings. (Note that I'm not a Mac user myself, so I am not too experienced with this.)
> 
> It seems that the current version of Xcode (3.2.1) has the GNU Compiler Collection (GCC) in the version 4.2. Most users of Leopard have, however, the old Xcode 3.0 installed, which ships with GCC 4.0. (The Xcode 3.2.1 package presented on the Apple web site only works for Snow Leopard. There is an XCode 3.2.x for Leopard as well somewhere on the web site, but it is quite difficult to find.)
> 
> I've just looked over the shoulder of a Mac user who had installed the pre-compiled binary from CRAN for R-2.11.0 (devel) on his Leopard machine with Xcode 3.0 installed. When he tried to run 'R CMD INSTALL' on a source package, he got the aformentioned error that 'gcc-4.2' was missing.
> 
> The reason that R was explicitly looking for 'gcc-4.2' was that this is what the 'CC' variable was se to in Makeconf (to be precise: in /Library/Framework/R.framework/Resources/i386/Makeconf )
> 
> We changed, in the Makeconf file, 'gcc-4.2' to 'gcc' in the definition of 'CC', and likewise for 'g++-4.2' and 'gfortran-4.2' in the respective lines. (Note that all Xcode versions seem to install a symlink from the installed binary 'gcc-4.x' to 'gcc' and likewise for g++ and gfortran.) Furthermore, it was necessary to remove the compiler flag '-mtune=core2' from CC_FLAGS, CXX_FLAGS and FC_FLAGS, as this tuning target was not yet available in GCC 4.0.
> 
> With this, building source packages worked fine.
> 
> Conclusion: The precompiled R binary for Mac would be "more compatible", namely working with the typical configuration of both Leopard and Snow Leopard if the Makeconf did not specify the exact GCC version and did not use the 'core2' tuning flag.
> 
> Could we change this, please?
> 
> Cheers
>  Simon
> 
> 
> 
> +---
> | Dr. Simon Anders, Dipl.-Phys.
> | European Molecular Biology Laboratory (EMBL), Heidelberg
> | office phone +49-6221-387-8632
> | preferred (permanent) e-mail: sanders at fs.tum.de
> 
> 


From bunny at lautloscrew.com  Fri Mar 19 11:14:24 2010
From: bunny at lautloscrew.com (Bunny, lautloscrew.com)
Date: Fri, 19 Mar 2010 11:14:24 +0100
Subject: [R-SIG-Mac] rattle doesnt rattle
Message-ID: <4DCCA005-8CC6-4B90-92BB-C3A25FA276A8@lautloscrew.com>

Dear all, 

I read about rattle in the most recent issue of the R Journal and wanted to test it. As described in the manual I installed Gtk before, which does work. I know that it works because I used ggobi outside of R which claims to need to same package. Anyway I did install rattle using

install.packages("rattle") which installed the package and several dependencies. 
as well as
install.packages("RGtk2"

and I did restart my console. 

When I wanted to start rattle by typing rattle() to the console it just says: 

Error in .Call(name, ..., PACKAGE = PACKAGE) : 
  C Symbolname "S_gtk_about_dialog_get_type" not in DLL f?r Paket "RGtk2"

I always thought DLL are for windows? Did I get the wrong version somehow?

Thx in advance for any suggestions !

best 

bunny 

From bunny at lautloscrew.com  Fri Mar 19 11:33:45 2010
From: bunny at lautloscrew.com (Bunny, lautloscrew.com)
Date: Fri, 19 Mar 2010 11:33:45 +0100
Subject: [R-SIG-Mac] rattle doesnt rattle
In-Reply-To: <4DCCA005-8CC6-4B90-92BB-C3A25FA276A8@lautloscrew.com>
References: <4DCCA005-8CC6-4B90-92BB-C3A25FA276A8@lautloscrew.com>
Message-ID: <8C66C70F-C915-40C1-9D3E-1397B281ADC7@lautloscrew.com>

Edit: 

I think I am a little step further now. If I try to rattle()  I am asked whether I want to install GTK+ or not. If I do so I get the following:

Checksumming Driver Descriptor Map (DDM : 0)?
     Driver Descriptor Map (DDM : 0): verified   CRC32 $CAB89C05
Checksumming Apple (Apple_partition_map : 1)?
     Apple (Apple_partition_map : 1): verified   CRC32 $E9C8F2EB
Checksumming disk image (Apple_HFS : 2)?
          disk image (Apple_HFS : 2): verified   CRC32 $A0B8D4EC
Checksumming  (Apple_Free : 3)?
                    (Apple_Free : 3): verified   CRC32 $00000000
verified   CRC32 $4AE9A358
/dev/disk1          	Apple_partition_scheme         	
/dev/disk1s1        	Apple_partition_map            	
/dev/disk1s2        	Apple_HFS                      	/Volumes/GTK+2.14

!!!!!!!   The file /Volumes/GTK+ 2.14.3 run-time/gtk2-runtime.pkg does not exist.

hdiutil: detach failed - No such file or directory
Learn more about GTK+ at http://www.gtk.org
If the package still does not load, please ensure that GTK+ is installed and that it is on your PATH environment variable
IN ANY CASE, RESTART R BEFORE TRYING TO LOAD THE PACKAGE AGAIN

I guess the marked line is where the problem is. I had issues with pathnames before when interacting with RPostgreSQL, so this could possibly be the case here too. Can I change the pathname somehow ?

Best regards

matthias




On 19.03.2010, at 11:14, Bunny, lautloscrew.com wrote:

> Dear all, 
> 
> I read about rattle in the most recent issue of the R Journal and wanted to test it. As described in the manual I installed Gtk before, which does work. I know that it works because I used ggobi outside of R which claims to need to same package. Anyway I did install rattle using
> 
> install.packages("rattle") which installed the package and several dependencies. 
> as well as
> install.packages("RGtk2"
> 
> and I did restart my console. 
> 
> When I wanted to start rattle by typing rattle() to the console it just says: 
> 
> Error in .Call(name, ..., PACKAGE = PACKAGE) : 
>  C Symbolname "S_gtk_about_dialog_get_type" not in DLL f?r Paket "RGtk2"
> 
> I always thought DLL are for windows? Did I get the wrong version somehow?
> 
> Thx in advance for any suggestions !
> 
> best 
> 
> bunny 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From bunny at lautloscrew.com  Fri Mar 19 11:40:26 2010
From: bunny at lautloscrew.com (Bunny, lautloscrew.com)
Date: Fri, 19 Mar 2010 11:40:26 +0100
Subject: [R-SIG-Mac] rattle doesnt rattle
In-Reply-To: <8C66C70F-C915-40C1-9D3E-1397B281ADC7@lautloscrew.com>
References: <4DCCA005-8CC6-4B90-92BB-C3A25FA276A8@lautloscrew.com>
	<8C66C70F-C915-40C1-9D3E-1397B281ADC7@lautloscrew.com>
Message-ID: <9BA3FD92-D5C5-486F-BB0E-0A62ED795BE5@lautloscrew.com>

It?s me again, 

I am pretty sure right now: It?s a problem of the file name:

if i look to the disk mount the file is called: gtk2.14-x11.pkg  while R is trying to install GTK+ 2.14.3 run-time/gtk2-runtime.pkg

Is there anything I can do about that? 

best 

-bunny


On 19.03.2010, at 11:33, Bunny, lautloscrew.com wrote:

> Edit: 
> 
> I think I am a little step further now. If I try to rattle()  I am asked whether I want to install GTK+ or not. If I do so I get the following:
> 
> Checksumming Driver Descriptor Map (DDM : 0)?
>     Driver Descriptor Map (DDM : 0): verified   CRC32 $CAB89C05
> Checksumming Apple (Apple_partition_map : 1)?
>     Apple (Apple_partition_map : 1): verified   CRC32 $E9C8F2EB
> Checksumming disk image (Apple_HFS : 2)?
>          disk image (Apple_HFS : 2): verified   CRC32 $A0B8D4EC
> Checksumming  (Apple_Free : 3)?
>                    (Apple_Free : 3): verified   CRC32 $00000000
> verified   CRC32 $4AE9A358
> /dev/disk1          	Apple_partition_scheme         	
> /dev/disk1s1        	Apple_partition_map            	
> /dev/disk1s2        	Apple_HFS                      	/Volumes/GTK+2.14
> 
> !!!!!!!   The file /Volumes/GTK+ 2.14.3 run-time/gtk2-runtime.pkg does not exist.
> 
> hdiutil: detach failed - No such file or directory
> Learn more about GTK+ at http://www.gtk.org
> If the package still does not load, please ensure that GTK+ is installed and that it is on your PATH environment variable
> IN ANY CASE, RESTART R BEFORE TRYING TO LOAD THE PACKAGE AGAIN
> 
> I guess the marked line is where the problem is. I had issues with pathnames before when interacting with RPostgreSQL, so this could possibly be the case here too. Can I change the pathname somehow ?
> 
> Best regards
> 
> matthias
> 
> 
> 
> 
> On 19.03.2010, at 11:14, Bunny, lautloscrew.com wrote:
> 
>> Dear all, 
>> 
>> I read about rattle in the most recent issue of the R Journal and wanted to test it. As described in the manual I installed Gtk before, which does work. I know that it works because I used ggobi outside of R which claims to need to same package. Anyway I did install rattle using
>> 
>> install.packages("rattle") which installed the package and several dependencies. 
>> as well as
>> install.packages("RGtk2"
>> 
>> and I did restart my console. 
>> 
>> When I wanted to start rattle by typing rattle() to the console it just says: 
>> 
>> Error in .Call(name, ..., PACKAGE = PACKAGE) : 
>> C Symbolname "S_gtk_about_dialog_get_type" not in DLL f?r Paket "RGtk2"
>> 
>> I always thought DLL are for windows? Did I get the wrong version somehow?
>> 
>> Thx in advance for any suggestions !
>> 
>> best 
>> 
>> bunny 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From dwinsemius at comcast.net  Fri Mar 19 14:48:22 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 19 Mar 2010 09:48:22 -0400
Subject: [R-SIG-Mac] rattle doesnt rattle
In-Reply-To: <8C66C70F-C915-40C1-9D3E-1397B281ADC7@lautloscrew.com>
References: <4DCCA005-8CC6-4B90-92BB-C3A25FA276A8@lautloscrew.com>
	<8C66C70F-C915-40C1-9D3E-1397B281ADC7@lautloscrew.com>
Message-ID: <DB3F2E65-53DE-46BB-B874-17A4E41BFE26@comcast.net>

You have not included sessionInfo(), so you are on your own as far as  
picking the correct version, but the ATT Research site has versions of  
GTK+ that match the R 2.10.1 compilation headers or connection points  
or whatever they are properly called.

http://r.research.att.com/#other

On an OSX 10.5.8 machine that GTK+ 2.18.5 framework and rattle in R  
2.10.1 peacefully co-exist at least to the extent of letting rattle  
boot up and display its dialog box.

-- 
David.

On Mar 19, 2010, at 6:33 AM, Bunny, lautloscrew.com wrote:

> Edit:
>
> I think I am a little step further now. If I try to rattle()  I am  
> asked whether I want to install GTK+ or not. If I do so I get the  
> following:
>
> Checksumming Driver Descriptor Map (DDM : 0)?
>     Driver Descriptor Map (DDM : 0): verified   CRC32 $CAB89C05
> Checksumming Apple (Apple_partition_map : 1)?
>     Apple (Apple_partition_map : 1): verified   CRC32 $E9C8F2EB
> Checksumming disk image (Apple_HFS : 2)?
>          disk image (Apple_HFS : 2): verified   CRC32 $A0B8D4EC
> Checksumming  (Apple_Free : 3)?
>                    (Apple_Free : 3): verified   CRC32 $00000000
> verified   CRC32 $4AE9A358
> /dev/disk1          	Apple_partition_scheme         	
> /dev/disk1s1        	Apple_partition_map            	
> /dev/disk1s2        	Apple_HFS                      	/Volumes/GTK+2.14
>
> !!!!!!!   The file /Volumes/GTK+ 2.14.3 run-time/gtk2-runtime.pkg  
> does not exist.
>
> hdiutil: detach failed - No such file or directory
> Learn more about GTK+ at http://www.gtk.org
> If the package still does not load, please ensure that GTK+ is  
> installed and that it is on your PATH environment variable
> IN ANY CASE, RESTART R BEFORE TRYING TO LOAD THE PACKAGE AGAIN
>
> I guess the marked line is where the problem is. I had issues with  
> pathnames before when interacting with RPostgreSQL, so this could  
> possibly be the case here too. Can I change the pathname somehow ?
>
> Best regards
>
> matthias
>
>
>
>
> On 19.03.2010, at 11:14, Bunny, lautloscrew.com wrote:
>
>> Dear all,
>>
>> I read about rattle in the most recent issue of the R Journal and  
>> wanted to test it. As described in the manual I installed Gtk  
>> before, which does work. I know that it works because I used ggobi  
>> outside of R which claims to need to same package. Anyway I did  
>> install rattle using
>>
>> install.packages("rattle") which installed the package and several  
>> dependencies.
>> as well as
>> install.packages("RGtk2"
>>
>> and I did restart my console.
>>
>> When I wanted to start rattle by typing rattle() to the console it  
>> just says:
>>
>> Error in .Call(name, ..., PACKAGE = PACKAGE) :
>> C Symbolname "S_gtk_about_dialog_get_type" not in DLL f?r Paket  
>> "RGtk2"
>>
>> I always thought DLL are for windows? Did I get the wrong version  
>> somehow?
>>
>> Thx in advance for any suggestions !
>>
>> best
>>
>> bunny
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
West Hartford, CT


From luca at stat.unipg.it  Sat Mar 20 12:44:37 2010
From: luca at stat.unipg.it (Luca Scrucca)
Date: Sat, 20 Mar 2010 12:44:37 +0100
Subject: [R-SIG-Mac] rattle doesnt rattle (David Winsemius)
Message-ID: <20100320114358.M37315@stat.unipg.it>

Dear Simon,

I also have problem with rattle. On a MBP running OSX 10.5.8, with R 2.10.1, and the latest rattle 
package installed after installing GTK+ 2.18.5 framework (the one available on the link you kindly 
provided), I obtained the following:

> library(rattle)
Loading required package: pmml
Loading required package: XML
Rattle: Graphical interface for data mining using R.
Version 2.5.24 Copyright (c) 2006-2010 Togaware Pty Ltd.
Type 'rattle()' to shake, rattle, and roll your data.

> rattle()
Error in theWidget("rattle_window") : attempt to apply non-function
Rattle timestamp (for the error above): 2010-03-20 12:27:42
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

(process:6306): GLib-GObject-CRITICAL **: ../../glib-2.23.0/gobject/gtype.c:2458: initialization 
assertion failed, use g_type_init() prior to this function

(process:6306): GLib-CRITICAL **: g_once_init_leave: assertion `initialization_value != 0' failed

(process:6306): GLib-GObject-CRITICAL **: g_object_new: assertion `G_TYPE_IS_OBJECT 
(object_type)' failed

(process:6306): libglade-CRITICAL **: glade_xml_construct: assertion `self != NULL' failed

(process:6306): GLib-GObject-CRITICAL **: g_object_unref: assertion `G_IS_OBJECT (object)' failed

> sessionInfo()
R version 2.10.1 (2009-12-14)
i386-apple-darwin9.8.0

locale:
[1] en_GB.UTF-8/en_GB.UTF-8/C/C/en_GB.UTF-8/en_GB.UTF-8

attached base packages:
[1] graphics  utils     datasets  grDevices stats     methods   base

other attached packages:
[1] RGtk2_2.12.18      colorspace_1.0-1   rattle_2.5.24      pmml_1.2.21
[5] XML_2.6-0          RColorBrewer_1.0-2 rgl_0.89

loaded via a namespace (and not attached):
[1] tools_2.10.1


Luca


----------------------------------------------
Luca Scrucca
Dipartimento di Economia, Finanza e Statistica
Sezione di Statistica
Universit? degli Studi di Perugia
Via A. Pascoli, 20
06123 PERUGIA  (ITALY)
Tel. +39-075-5855233
Fax. +39-075-5855950
E-mail:   luca at stat.unipg.it
Web page: http://www.stat.unipg.it/luca


From simon.urbanek at r-project.org  Sat Mar 20 14:20:51 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 20 Mar 2010 09:20:51 -0400
Subject: [R-SIG-Mac] rattle doesnt rattle (David Winsemius)
In-Reply-To: <20100320114358.M37315@stat.unipg.it>
References: <20100320114358.M37315@stat.unipg.it>
Message-ID: <A6FA88EC-3A55-4F3B-969B-6891E81E1045@r-project.org>


On Mar 20, 2010, at 7:44 AM, Luca Scrucca wrote:

> Dear Simon,
> 
> I also have problem with rattle. On a MBP running OSX 10.5.8, with R 2.10.1, and the latest rattle 
> package installed after installing GTK+ 2.18.5 framework (the one available on the link you kindly 
> provided), I obtained the following:
> 

Make sure you have X11 installed and running. However, probably the right place to report this is rattle authors/mailing list since it may also be an issue with insufficient error checking ...

Cheers,
Simon



>> library(rattle)
> Loading required package: pmml
> Loading required package: XML
> Rattle: Graphical interface for data mining using R.
> Version 2.5.24 Copyright (c) 2006-2010 Togaware Pty Ltd.
> Type 'rattle()' to shake, rattle, and roll your data.
> 
>> rattle()
> Error in theWidget("rattle_window") : attempt to apply non-function
> Rattle timestamp (for the error above): 2010-03-20 12:27:42
> ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
> 
> (process:6306): GLib-GObject-CRITICAL **: ../../glib-2.23.0/gobject/gtype.c:2458: initialization 
> assertion failed, use g_type_init() prior to this function
> 
> (process:6306): GLib-CRITICAL **: g_once_init_leave: assertion `initialization_value != 0' failed
> 
> (process:6306): GLib-GObject-CRITICAL **: g_object_new: assertion `G_TYPE_IS_OBJECT 
> (object_type)' failed
> 
> (process:6306): libglade-CRITICAL **: glade_xml_construct: assertion `self != NULL' failed
> 
> (process:6306): GLib-GObject-CRITICAL **: g_object_unref: assertion `G_IS_OBJECT (object)' failed
> 
>> sessionInfo()
> R version 2.10.1 (2009-12-14)
> i386-apple-darwin9.8.0
> 
> locale:
> [1] en_GB.UTF-8/en_GB.UTF-8/C/C/en_GB.UTF-8/en_GB.UTF-8
> 
> attached base packages:
> [1] graphics  utils     datasets  grDevices stats     methods   base
> 
> other attached packages:
> [1] RGtk2_2.12.18      colorspace_1.0-1   rattle_2.5.24      pmml_1.2.21
> [5] XML_2.6-0          RColorBrewer_1.0-2 rgl_0.89
> 
> loaded via a namespace (and not attached):
> [1] tools_2.10.1
> 
> 
> Luca
> 
> 
> ----------------------------------------------
> Luca Scrucca
> Dipartimento di Economia, Finanza e Statistica
> Sezione di Statistica
> Universit? degli Studi di Perugia
> Via A. Pascoli, 20
> 06123 PERUGIA  (ITALY)
> Tel. +39-075-5855233
> Fax. +39-075-5855950
> E-mail:   luca at stat.unipg.it
> Web page: http://www.stat.unipg.it/luca
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From m.chouaha at hotmail.com  Mon Mar 22 20:46:05 2010
From: m.chouaha at hotmail.com (Mansour CHOUAHA)
Date: Mon, 22 Mar 2010 19:46:05 +0000
Subject: [R-SIG-Mac] How to embed R in C++ with xcode as an IDE
Message-ID: <SNT124-W426C14B96C49EAD362286DF5270@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100322/58a44f8c/attachment.pl>

From m.chouaha at hotmail.com  Mon Mar 22 21:00:14 2010
From: m.chouaha at hotmail.com (Mansour CHOUAHA)
Date: Mon, 22 Mar 2010 20:00:14 +0000
Subject: [R-SIG-Mac] embed r in cpp with xcode
Message-ID: <SNT124-W2409BEB424D8CF28A4B100F5270@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100322/4750687e/attachment.pl>

From erich.studerus at bli.uzh.ch  Mon Mar 22 21:32:54 2010
From: erich.studerus at bli.uzh.ch (Erich Studerus)
Date: Mon, 22 Mar 2010 21:32:54 +0100
Subject: [R-SIG-Mac] Wrong locale when using R from shell
Message-ID: <web-22598333@idmailbe1b.unizh.ch>

Hello

I'm using Lyx with Sweave on Mac OS X 10.5.8 with R version 2.10.1. When I 
compile Lyx documents, R is called from shell to process R code chunks 
contained in the Lyx document. Unfortunately, R does not automatically 
detect the correct locale when called from shell. I figured out that R uses 
the C locale in shell mode by embedding the following code in Lyx

<<echo=F>>=
sys.getlocale()
@

When I start R from the terminal and also in the R.app I get the correct 
locale:
de_CH.UTF-8/de_CH.UTF-8/C/C/de_CH.UTF-8/de_UTF-8

How I can I get the correct locale when calling R from shell?

Regards,
Erich


From simon.urbanek at r-project.org  Mon Mar 22 22:09:21 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 22 Mar 2010 17:09:21 -0400
Subject: [R-SIG-Mac] Wrong locale when using R from shell
In-Reply-To: <web-22598333@idmailbe1b.unizh.ch>
References: <web-22598333@idmailbe1b.unizh.ch>
Message-ID: <8309C908-46EB-4AE3-88A7-9EF5E1024CB8@r-project.org>


On Mar 22, 2010, at 16:32 , Erich Studerus wrote:

> Hello
>
> I'm using Lyx with Sweave on Mac OS X 10.5.8 with R version 2.10.1.  
> When I compile Lyx documents, R is called from shell to process R  
> code chunks contained in the Lyx document. Unfortunately, R does not  
> automatically detect the correct locale when called from shell. I  
> figured out that R uses the C locale in shell mode by embedding the  
> following code in Lyx
>
> <<echo=F>>=
> sys.getlocale()
> @
>
> When I start R from the terminal and also in the R.app I get the  
> correct locale:
> de_CH.UTF-8/de_CH.UTF-8/C/C/de_CH.UTF-8/de_UTF-8
>
> How I can I get the correct locale when calling R from shell?
>

Setup your environment accordingly? This has nothing to do with R but  
your environment (LANG, LANGUAGE, LC_xxx) - which is what determines  
the locale. The default locale settings are system-dependent, so  
either your system default locale is C or Lyx forces C locale for the  
shell it starts. For details on locale specifications see, e.g.:
http://www.gnu.org/software/hello/manual/gettext/Locale-Environment-Variables.html#Locale-Environment-Variables
http://opengroup.org/onlinepubs/007908799/xbd/envvar.html

Cheers,
Simon


From erich.studerus at bli.uzh.ch  Mon Mar 22 23:06:25 2010
From: erich.studerus at bli.uzh.ch (Erich Studerus)
Date: Mon, 22 Mar 2010 23:06:25 +0100
Subject: [R-SIG-Mac] Wrong locale when using R from shell
In-Reply-To: <8309C908-46EB-4AE3-88A7-9EF5E1024CB8@r-project.org>
References: <web-22598333@idmailbe1b.unizh.ch>
	<8309C908-46EB-4AE3-88A7-9EF5E1024CB8@r-project.org>
Message-ID: <web-22599230@idmailbe1b.unizh.ch>

I typed "export" into the mac terminal to see the setup of my system 
variables. Under language I get LANG="de_CH.UTF-8". So it seems my system 
variable for language is set up correctly.

It doesn't make sense that Lyx would force C locale, although I don't know 
where I can check this. I'm using the regular Lyx/Sweave setup described 
here:
http://wiki.lyx.org/LyX/LyxWithRThroughSweave

I dont have this locale problem on my Windows 7 computer. I don't 
understand, why R can dectect the correct locale when started from the 
terminal or as R.app but not from the shell. How do these running modes 
differently look up environmental variables?

Regards,
Erich

On Mon, 22 Mar 2010 17:09:21 -0400
  Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> On Mar 22, 2010, at 16:32 , Erich Studerus wrote:
> 
>> Hello
>>
>> I'm using Lyx with Sweave on Mac OS X 10.5.8 with R version 2.10.1.  
>> When I compile Lyx documents, R is called from shell to process R  
>> code chunks contained in the Lyx document. Unfortunately, R does not  
>> automatically detect the correct locale when called from shell. I  
>> figured out that R uses the C locale in shell mode by embedding the  
>> following code in Lyx
>>
>> <<echo=F>>=
>> sys.getlocale()
>> @
>>
>> When I start R from the terminal and also in the R.app I get the  
>> correct locale:
>> de_CH.UTF-8/de_CH.UTF-8/C/C/de_CH.UTF-8/de_UTF-8
>>
>> How I can I get the correct locale when calling R from shell?
>>
> 
> Setup your environment accordingly? This has nothing to do with R but 
> your environment (LANG, LANGUAGE, LC_xxx) - which is what determines  the 
>locale. The default locale settings are system-dependent, so  either your 
>system default locale is C or Lyx forces C locale for the  shell it starts. 
>For details on locale specifications see, e.g.:
> http://www.gnu.org/software/hello/manual/gettext/Locale-Environment-Variables.html#Locale-Environment-Variables
> http://opengroup.org/onlinepubs/007908799/xbd/envvar.html
> 
> Cheers,
> Simon
> 
>


From marc_schwartz at me.com  Mon Mar 22 23:50:18 2010
From: marc_schwartz at me.com (Marc Schwartz)
Date: Mon, 22 Mar 2010 17:50:18 -0500
Subject: [R-SIG-Mac] Wrong locale when using R from shell
In-Reply-To: <web-22599230@idmailbe1b.unizh.ch>
References: <web-22598333@idmailbe1b.unizh.ch>
	<8309C908-46EB-4AE3-88A7-9EF5E1024CB8@r-project.org>
	<web-22599230@idmailbe1b.unizh.ch>
Message-ID: <1C25097D-0E3F-4DA3-B122-1FEE4B848218@me.com>

Erich,

In looking at the files listed on the web site you reference, the preferences file for OSX (http://cran.r-project.org/contrib/extra/lyx/preferences) would seem to set up the execution associations for various calls to R while within LyX.

It is not clear to me why the locale is not being picked up, but there may be some interaction with LyX and the shell environment when R is executed by the commands listed in the preferences file, presuming that the converters section defines this exec mechanism. LyX is built on the QT library (primarily used under KDE on Linux), ported to OSX and there may be other issues at play.

Thus, if my assumptions are correct, you might want to modify each of the "R CMD ..." sequences to:

  "export LANG="de_CH.UTF-8"; R CMD ..."

and see if that helps.

BTW, on some of the LyX OSX related pages, there are references to the use of ~/.MacOSX/environment.plist to set certain environment variables. The use of this approach is known to conflict with certain applications and I would recommend avoiding the use of this file, especially on Snow Leopard if you have upgraded.

HTH,

Marc Schwartz

On Mar 22, 2010, at 5:06 PM, Erich Studerus wrote:

> I typed "export" into the mac terminal to see the setup of my system variables. Under language I get LANG="de_CH.UTF-8". So it seems my system variable for language is set up correctly.
> 
> It doesn't make sense that Lyx would force C locale, although I don't know where I can check this. I'm using the regular Lyx/Sweave setup described here:
> http://wiki.lyx.org/LyX/LyxWithRThroughSweave
> 
> I dont have this locale problem on my Windows 7 computer. I don't understand, why R can dectect the correct locale when started from the terminal or as R.app but not from the shell. How do these running modes differently look up environmental variables?
> 
> Regards,
> Erich
> 
> On Mon, 22 Mar 2010 17:09:21 -0400
> Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> On Mar 22, 2010, at 16:32 , Erich Studerus wrote:
>>> Hello
>>> 
>>> I'm using Lyx with Sweave on Mac OS X 10.5.8 with R version 2.10.1.  When I compile Lyx documents, R is called from shell to process R  code chunks contained in the Lyx document. Unfortunately, R does not  automatically detect the correct locale when called from shell. I  figured out that R uses the C locale in shell mode by embedding the  following code in Lyx
>>> 
>>> <<echo=F>>=
>>> sys.getlocale()
>>> @
>>> 
>>> When I start R from the terminal and also in the R.app I get the  correct locale:
>>> de_CH.UTF-8/de_CH.UTF-8/C/C/de_CH.UTF-8/de_UTF-8
>>> 
>>> How I can I get the correct locale when calling R from shell?
>>> 
>> Setup your environment accordingly? This has nothing to do with R but your environment (LANG, LANGUAGE, LC_xxx) - which is what determines  the locale. The default locale settings are system-dependent, so  either your system default locale is C or Lyx forces C locale for the  shell it starts. For details on locale specifications see, e.g.:
>> http://www.gnu.org/software/hello/manual/gettext/Locale-Environment-Variables.html#Locale-Environment-Variables
>> http://opengroup.org/onlinepubs/007908799/xbd/envvar.html
>> Cheers,
>> Simon


From simon.urbanek at r-project.org  Tue Mar 23 00:15:51 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 22 Mar 2010 19:15:51 -0400
Subject: [R-SIG-Mac] Wrong locale when using R from shell
In-Reply-To: <web-22599230@idmailbe1b.unizh.ch>
References: <web-22598333@idmailbe1b.unizh.ch>
	<8309C908-46EB-4AE3-88A7-9EF5E1024CB8@r-project.org>
	<web-22599230@idmailbe1b.unizh.ch>
Message-ID: <8BD219FF-8FC4-4961-8FF4-81DCE3F5A141@r-project.org>


On Mar 22, 2010, at 6:06 PM, Erich Studerus wrote:

> I typed "export" into the mac terminal to see the setup of my system variables. Under language I get LANG="de_CH.UTF-8". So it seems my system variable for language is set up correctly.
> 

Nope ;). I assume you're looking in Terminal which sets the LANG variable according to its preferences - it is NOT set by the shell.


> It doesn't make sense that Lyx would force C locale, although I don't know where I can check this. I'm using the regular Lyx/Sweave setup described here:
> http://wiki.lyx.org/LyX/LyxWithRThroughSweave
> 
> I dont have this locale problem on my Windows 7 computer. I don't understand, why R can dectect the correct locale when started from the terminal or as R.app but not from the shell. How do these running modes differently look up environmental variables?
> 

Both of them set LANG explicitly - it's that easy. Apparently LyX doesn't. Again, you're barking up the wrong tree - it's not R's fault since R gives you what you ask for - namely the C locale. If LyX uses a shell to run R, it should be as easy as replacing "R" with "LANG=en_US.UTF-8 R" or whichever you prefer. I don't use LyX so I don't know what where exactly you have to change it. Note that the locale is NOT changed in the system-wide startup scripts (by default).

Cheers,
Simon





> Regards,
> Erich
> 
> On Mon, 22 Mar 2010 17:09:21 -0400
> Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> On Mar 22, 2010, at 16:32 , Erich Studerus wrote:
>>> Hello
>>> 
>>> I'm using Lyx with Sweave on Mac OS X 10.5.8 with R version 2.10.1.  When I compile Lyx documents, R is called from shell to process R  code chunks contained in the Lyx document. Unfortunately, R does not  automatically detect the correct locale when called from shell. I  figured out that R uses the C locale in shell mode by embedding the  following code in Lyx
>>> 
>>> <<echo=F>>=
>>> sys.getlocale()
>>> @
>>> 
>>> When I start R from the terminal and also in the R.app I get the  correct locale:
>>> de_CH.UTF-8/de_CH.UTF-8/C/C/de_CH.UTF-8/de_UTF-8
>>> 
>>> How I can I get the correct locale when calling R from shell?
>>> 
>> Setup your environment accordingly? This has nothing to do with R but your environment (LANG, LANGUAGE, LC_xxx) - which is what determines  the locale. The default locale settings are system-dependent, so  either your system default locale is C or Lyx forces C locale for the  shell it starts. For details on locale specifications see, e.g.:
>> http://www.gnu.org/software/hello/manual/gettext/Locale-Environment-Variables.html#Locale-Environment-Variables
>> http://opengroup.org/onlinepubs/007908799/xbd/envvar.html
>> Cheers,
>> Simon
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From erich.studerus at bli.uzh.ch  Tue Mar 23 01:38:54 2010
From: erich.studerus at bli.uzh.ch (Erich Studerus)
Date: Tue, 23 Mar 2010 01:38:54 +0100
Subject: [R-SIG-Mac] Wrong locale when using R from shell
In-Reply-To: <8BD219FF-8FC4-4961-8FF4-81DCE3F5A141@r-project.org>
References: <web-22598333@idmailbe1b.unizh.ch>
	<8309C908-46EB-4AE3-88A7-9EF5E1024CB8@r-project.org>
	<web-22599230@idmailbe1b.unizh.ch>
	<8BD219FF-8FC4-4961-8FF4-81DCE3F5A141@r-project.org>
Message-ID: <web-22600182@idmailbe1b.unizh.ch>

Thank you very much! Replacing "R" with "LANG=de_CH.UTF-8 R" in the Lyx 
preference file indeed solved my problem.

On Mon, 22 Mar 2010 19:15:51 -0400
  Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> On Mar 22, 2010, at 6:06 PM, Erich Studerus wrote:
> 
>> I typed "export" into the mac terminal to see the setup of my system 
>>variables. Under language I get LANG="de_CH.UTF-8". So it seems my system 
>>variable for language is set up correctly.
>> 
> 
> Nope ;). I assume you're looking in Terminal which sets the LANG variable 
>according to its preferences - it is NOT set by the shell.
> 
> 
>> It doesn't make sense that Lyx would force C locale, although I don't know 
>>where I can check this. I'm using the regular Lyx/Sweave setup described 
>>here:
>> http://wiki.lyx.org/LyX/LyxWithRThroughSweave
>> 
>> I dont have this locale problem on my Windows 7 computer. I don't 
>>understand, why R can dectect the correct locale when started from the 
>>terminal or as R.app but not from the shell. How do these running modes 
>>differently look up environmental variables?
>> 
> 
> Both of them set LANG explicitly - it's that easy. Apparently LyX doesn't. 
>Again, you're barking up the wrong tree - it's not R's fault since R gives 
>you what you ask for - namely the C locale. If LyX uses a shell to run R, 
>it should be as easy as replacing "R" with "LANG=en_US.UTF-8 R" or 
>whichever you prefer. I don't use LyX so I don't know what where exactly 
>you have to change it. Note that the locale is NOT changed in the 
>system-wide startup scripts (by default).
> 
> Cheers,
> Simon
> 
> 
> 
> 
> 
>> Regards,
>> Erich
>> 
>> On Mon, 22 Mar 2010 17:09:21 -0400
>> Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>> On Mar 22, 2010, at 16:32 , Erich Studerus wrote:
>>>> Hello
>>>> 
>>>> I'm using Lyx with Sweave on Mac OS X 10.5.8 with R version 2.10.1.  When 
>>>>I compile Lyx documents, R is called from shell to process R  code chunks 
>>>>contained in the Lyx document. Unfortunately, R does not  automatically 
>>>>detect the correct locale when called from shell. I  figured out that R 
>>>>uses the C locale in shell mode by embedding the  following code in Lyx
>>>> 
>>>> <<echo=F>>=
>>>> sys.getlocale()
>>>> @
>>>> 
>>>> When I start R from the terminal and also in the R.app I get the  correct 
>>>>locale:
>>>> de_CH.UTF-8/de_CH.UTF-8/C/C/de_CH.UTF-8/de_UTF-8
>>>> 
>>>> How I can I get the correct locale when calling R from shell?
>>>> 
>>> Setup your environment accordingly? This has nothing to do with R but your 
>>>environment (LANG, LANGUAGE, LC_xxx) - which is what determines  the 
>>>locale. The default locale settings are system-dependent, so  either your 
>>>system default locale is C or Lyx forces C locale for the  shell it starts. 
>>>For details on locale specifications see, e.g.:
>>> http://www.gnu.org/software/hello/manual/gettext/Locale-Environment-Variables.html#Locale-Environment-Variables
>>> http://opengroup.org/onlinepubs/007908799/xbd/envvar.html
>>> Cheers,
>>> Simon
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
>


From richard.liu at pueo-owl.ch  Tue Mar 23 08:05:28 2010
From: richard.liu at pueo-owl.ch (Richard R. Liu)
Date: Tue, 23 Mar 2010 08:05:28 +0100
Subject: [R-SIG-Mac] Warning in Rattle: ( R:2190): Gtk-WARNING **: Unable to
	find default local directory monitor type
Message-ID: <4D39C4FE-B9EA-4CD9-B589-BB44826109F6@pueo-owl.ch>

Hi,

I've reported the following error to Graham Williams, the author/ 
maintainer of Rattle:

	I am running Rattle 2.5.24 under R 2.10.1 patched on a MacBook Pro  
with OS X 10.5.8.  I have installed
	it successfully and it is giving good results; however, from time to  
time when I click the Execute button
	I receive this message on the R console:

	(R:2190): Gtk-WARNING **: Unable to find default local directory  
monitor type

	What does this mean, and how can I solve the problem?  I also cannot  
print a graphic using the Print
	button at the bottom.  I see a message at the bottom of the Rattle  
window that it is printing to lpr, but
	nothing happens.  I am connected to a network printer.

He replied:

	I don't have any experience running on the Mac and don;t know what  
the "monitor" refers to. I think it relates to the file
	chooser.

	The printing is a separate problem. Do you have a command line lpr  
command? Any idea how you might usually print from R on the
	Mac? I may need to fix Rattle for printing on the Mac.

Perhaps somebody with more experiencing running R or Rattle on a Mac  
can help?  The Gtk error message does indeed seem to have something to  
do with the file chooser.

Thanks,
Richard


Richard R. Liu
Dittingerstr. 33
CH-4053 Basel
Switzerland

Tel.:  +41 61 331 10 47
Mobil: +41 79 708 67 66
Email:  richard.liu at pueo-owl.ch



-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2429 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100323/ab4951bb/attachment.bin>

From m.chouaha at hotmail.com  Tue Mar 23 18:47:34 2010
From: m.chouaha at hotmail.com (Mansour CHOUAHA)
Date: Tue, 23 Mar 2010 17:47:34 +0000
Subject: [R-SIG-Mac] email reply
Message-ID: <SNT124-W570E4B3359791BF3EF84F5F5260@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100323/fd71c031/attachment.pl>

From f.calboli at imperial.ac.uk  Tue Mar 23 18:52:54 2010
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Tue, 23 Mar 2010 17:52:54 +0000
Subject: [R-SIG-Mac] email reply
In-Reply-To: <SNT124-W570E4B3359791BF3EF84F5F5260@phx.gbl>
References: <SNT124-W570E4B3359791BF3EF84F5F5260@phx.gbl>
Message-ID: <2441D721-3F4A-455B-8847-C62D636E8661@imperial.ac.uk>

On 23 Mar 2010, at 17:47, Mansour CHOUAHA wrote:
> from m.chouaha at hotmail.com
> 
> I ve send a post to the link: r-sig-mac at stat.math.ethz.chbut i haven't got any reply yet.Do you know what's going on? 	

Maybe is that nobody can or wants to help. Getting help on R mailing lists is not a guarantee, because there are no obligations on anyone to answer questions. You might ask for help, for a number of reasons you might not get it though.

HTH

F

--
Federico C. F. Calboli
Department of Epidemiology and Biostatistics
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From murdoch at stats.uwo.ca  Tue Mar 23 18:55:21 2010
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Tue, 23 Mar 2010 13:55:21 -0400
Subject: [R-SIG-Mac] email reply
In-Reply-To: <SNT124-W570E4B3359791BF3EF84F5F5260@phx.gbl>
References: <SNT124-W570E4B3359791BF3EF84F5F5260@phx.gbl>
Message-ID: <4BA90089.8040606@stats.uwo.ca>

On 23/03/2010 1:47 PM, Mansour CHOUAHA wrote:
> from m.chouaha at hotmail.com
>
> I ve send a post to the link: r-sig-mac at stat.math.ethz.chbut i haven't got any reply yet.Do you know what's going on? 	
Your message arrived (twice).  Probably the reason you haven't received 
a reply is just that nobody has written one.  Your question was pretty 
specialized (how to do some difficult stuff in a particular IDE), so 
maybe nobody else is doing that, and you'll have to work it out yourself.

Duncan Murdoch


From ruth at stats.ox.ac.uk  Sun Mar  7 23:29:08 2010
From: ruth at stats.ox.ac.uk (Ruth M. Ripley)
Date: Sun, 07 Mar 2010 22:29:08 -0000
Subject: [R-SIG-Mac] R-app for naive users
Message-ID: <Pine.WNT.4.44.1003072213390.3572-100000@reeve>

I have just begun to use a Mac after teaching R (with my students
officially Windows users) for a while. It seems that the gui works
differently from that on Windows. In particular, I quote from Simon on
r-sig-mac

"this [q()] was never intended to work in the GUI because it entirely
bypasses the app quitting mechanism. You should never use q/quit in the GUI unless you
really mean to exit R right away and discard everything (history, all open
files, ...)"

Please can you point me to some documentation that explains this and any
other similar traps for the unwary fairly knowledgeable R user. My
audience are very naive Mac users, e.g. they cannot possibly find hidden
files as they do not know what a terminal is. I would like to be able to
help them but am struggling myself. e.g. They may know what the switch on
the toolbar means, but I do not. I certainly would not guess that a button
with a tooltip Quit R would not do the same as q().

I also maintain an R package in which I work very hard to make everything
platform independent. Is the Mac a special case? It is hard to quit R
without an option to save on either Linux or Windows.

Other differences I have noted are 1) I cannot search in the help pages
and 2) when I copy and paste from an example in a help page I have to do
it line by line or I cannot adjust it line by line. Workarounds for either
would be very much appreciated.

Thanks,

Ruth
-- 
Ruth M. Ripley,                         Email:ruth at stats.ox.ac.uk
Dept. of Statistics,                    http://www.stats.ox.ac.uk/~ruth/
University of Oxford,                   Tel:   01865 282851
1 South Parks Road, Oxford OX1 3TG, UK  Fax:   01865 272595


From amelia.and.eric at gmail.com  Mon Mar  1 20:30:32 2010
From: amelia.and.eric at gmail.com (Eric Pante)
Date: Mon, 01 Mar 2010 19:30:32 -0000
Subject: [R-SIG-Mac] odd behavior and error messages when using text()
Message-ID: <64917A42-34C6-4A16-BC9B-E1A2D0828CF5@louisiana.edu>

Dear listers,

I would like to report an issue I had today, while plotting text on a  
map.
I am using Mac OS 10.5.8 and R 2.10.1 (same problem with R and R64.  
Plus, see sessionInfo below).

The map is based on the data in the "maps" library.
The plotted text corresponds to concatenated text and numbers; the  
data coming from a csv spreadsheet.

In addition to the error messages reported below, the plotted text has  
a font that looks very crude, and exporting the map as a PDF results  
in a file > 48 MB that crashes Preview and Acrobat. I did tests for  
which only the map was plotted (no problem), and only points were  
plotted (no problem, although the font of the points is not as smooth  
as it could be).

I did a search on the R list for the error message I received, with no  
success. However, I did find some mac-related posts that have to do  
with Cocoa development, so this probably is a mac-related issue (the  
answer to these posts were completely over my head, unfortunately...)

In the error message, I replaced the address of my computer by  
"ADDRESS".

 > read.csv("METADATA_SPB_COORD_02-01-10.csv", header=T)  ->  
metadata.coord.cd
 > library(maps) ; states <- data.frame(map("state", plot=FALSE) 
[c("x","y")])
 > plot(states,type="l", xlim=c(-105,-72), ylim=c(25,40))
 >
 > for(i in 1:length(metadata.coord.cd[,1])){
+ 	t = paste(metadata.coord.cd$St.name,metadata.coord.cd$CD.num,sep="")
+  	text(metadata.coord.cd$CENTER.LONG, metadata.coord.cd$CENTER.LAT,  
t, cex=0.7)
+  	}
Mon Mar  1 13:02:38 ADDRESS R[489] <Error>: CGContextSetFont: invalid  
context
Mon Mar  1 13:02:38 ADDRESS R[489] <Error>: CGContextSetFontSize:  
invalid context
Mon Mar  1 13:02:38 ADDRESS R[489] <Error>: CGContextGetFont: invalid  
context

 > sessionInfo()
R version 2.10.1 (2009-12-14)
x86_64-apple-darwin9.8.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] maps_2.1-0

loaded via a namespace (and not attached):
[1] tools_2.10.1


Insights would be much appreciated!
Best regards, eric pante


From ruth at stats.ox.ac.uk  Mon Mar  8 23:10:17 2010
From: ruth at stats.ox.ac.uk (Ruth M. Ripley)
Date: Mon, 08 Mar 2010 22:10:17 -0000
Subject: [R-SIG-Mac] R-forge repository
In-Reply-To: <Pine.WNT.4.44.1003072213390.3572-100000@reeve>
Message-ID: <Pine.WNT.4.44.1003082134210.3344-100000@reeve>

Would it be possible to add the r-forge repository address to the list of
options on the package installer? It is on the setRepositories list, but
this does not seem to propagate to the package install screen.

Thanks,

Ruth
--
Ruth M. Ripley,                         Email:ruth at stats.ox.ac.uk
Dept. of Statistics,                    http://www.stats.ox.ac.uk/~ruth/
University of Oxford,                   Tel:   01865 282851
1 South Parks Road, Oxford OX1 3TG, UK  Fax:   01865 272595


From adrian_d at eskimo.com  Tue Mar  9 17:54:35 2010
From: adrian_d at eskimo.com (Adrian Dragulescu)
Date: Tue, 9 Mar 2010 08:54:35 -0800 (PST)
Subject: [R-SIG-Mac] build of package xlsx fails on Mac
Message-ID: <Pine.LNX.4.64.1003090846240.14894@shell.eskimo.com>


Hello,

One user pointed to me that the build of package xlsx fails on Mac.  I did 
not change anything on CRAN since I've uploaded the package.  I believe it 
used to work fine.

The issue is Java specific as my package uses rJava.  When running the 
examples, one gets:
checking Rd contents ... OK
checking examples ... ERROR
Running examples in 'xlsx-Ex.R' failed.
The error most likely occurred in:

> ### * CellStyle
>
> flush(stderr()); flush(stdout())
>
> ### Name: CellStyle
> ### Title: Functions to manipulate cells.
> ### Aliases: CellStyle createCellStyle setCellStyle getCellStyle
>
> ### ** Examples
>
>
> wb <- createWorkbook()
> sheet <- createSheet(wb, "Sheet1")
>
> rows <- createRow(sheet, rowIndex=1)
>
> cell.1 <- createCell(rows, colIndex=1)[[1,1]]
> setCellValue(cell.1, "Hello R!")
>
> cellStyle1 <- createCellStyle(wb, borderPosition="RIGHT",
+ borderPen="BORDER_DASHED", fillBackgroundColor="yellow",
+ fillForegroundColor="tomato", fillPattern="BIG_SPOTS")
2010-02-15 12:47:54.174 R[33120:613] Apple AWT Java VM was loaded on first 
thread -- can't start AWT.
Error in .jnew("java.awt.Color", rgb[1], rgb[2], rgb[3]) :
java.lang.NoClassDefFoundError
Calls: createCellStyle -> .jcall -> .xssfcolor -> .jnew -> .External
Execution halted

Let me know if there is something on my side that I need to do.  Of 
course, I can \dontrun the example.

Thank you,
Adrian



---------- Forwarded message ----------
Date: Mon, 8 Mar 2010 14:41:40 -0800
From: Ralf Tautenhahn <rtautenh at scripps.edu>
To: Adrian Dragulescu <adrian_d at eskimo.com>
Subject: RE: xlsx and binary data

Hi Adrian,

I see that the xlsx build  fails on Mac:
http://www.r-project.org/nosvn/R.check/r-release-macosx-ix86/xlsx-00check.html

I hope this is only a temporary problem ?

Regards,
Ralf.


From christiaan.pauw at nova.org.za  Wed Mar 10 07:56:38 2010
From: christiaan.pauw at nova.org.za (Christiaan Pauw)
Date: Wed, 10 Mar 2010 08:56:38 +0200
Subject: [R-SIG-Mac] Installation of RPostgreSQL fails : no acceptable C
	compiler found in $PATH
Message-ID: <1ADF4BE7-E9C0-4568-8467-66D4385F4F07@nova.org.za>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100310/3b60a5dd/attachment.pl>

From Ted.Harding at manchester.ac.uk  Mon Mar 15 21:49:59 2010
From: Ted.Harding at manchester.ac.uk ( (Ted Harding))
Date: Mon, 15 Mar 2010 20:49:59 -0000 (GMT)
Subject: [R-SIG-Mac] [R]  How to interrupt an R process that hangs
In-Reply-To: <3f547caa1003151320v7eafc466g1cfb3dd1d978d235@mail.gmail.com>
Message-ID: <XFMail.100315204959.Ted.Harding@manchester.ac.uk>

[Though I'm not using a Mac, OS X is a Unix variant and should
have the commands used below installed]

Did you *literally* do
  kill -s INT <PID>
without substituting the R PID for "<PID"? If so, then here's a tip.
In Mac console, do

  ps aux | grep R

On my Linux machine this currently responds with (amongst some
irrelevant lines):

ted  8625  0.0  3.2  41568 34096 pts/6  S+ Mar13 0:07
  /usr/lib/R/bin/exec/R --no-save

showing that the PID of the R process is 8625. Then you can do
whatever corresponds to

  kill -s INT 8625

(replacing "8625" with what you get from ps). However, when I
just tried it, it didn't work for me either. So I changed the
Signal from "INT" to "HUP", and this time it did work. Maybe
try this instead?

Other ways of using 'kill' include
(a) Use the signal number (1 for HUP, 2 for INT) like

  kill -1 8625    or     kill -2 8625

(b) Don't search for the numeric Process ID (PID) but kill it
    by name ('killall' command):

  killall -1 R    or    killall -2 R

However, this will kill every running instance of R (if you
two or more running simultaneously), and you may not want that!

Hoping this helps,
Ted.



On 15-Mar-10 20:20:29, Matthew Keller wrote:
> Hi all,
> 
> Thanks Simon and Duncan for the help. Sorry to be dense, but I'm still
> unsure how to interrupt such processes. Here's an example:
> 
> for (i in 1:100000){
>       a <- matrix(rnorm(100000*100000),ncol=100000)
>       b <- svd(a)     }
> 
> If you run this, R will hang (i.e., it's a legitimate execution, it
> will just take a really long time to execute). The most obvious
> solution is to write code that doesn't do unintended things, but
> that's not always possible. Is there a way to interrupt it? I tried:
> 
> kill -s INT <PID>
> 
> and at least on Mac it had no effect. Thanks again,
> 
> Matt
> 
> 
> 
> On Mon, Mar 15, 2010 at 1:19 PM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>>
>> On Mar 15, 2010, at 14:42 , Adam D. I. Kramer wrote:
>>
>>> +1--this is the single most-annoying issue with R that I know of.
>>>
>>> My usual solution, after accomplishing nothing as R spins idly for a
>>> couple
>>> hours, is to kill the process and lose any un-saved work.
>>> ?_save.history()
>>> is
>>> my friend, but is a big delay when you work with big data sets as I
>>> do, so
>>> I
>>> don't run it after every command.
>>>
>>> I have cc'd r-help here, however, because I experience this problem
>>> with
>>> non-OSX R as well...when I run it in Linux or from the OSX
>>> command-line (I
>>> compile R for Darwin without aqua/R-framework), the same thing
>>> happens.
>>>
>>> Is there some way around this? Is this a known problem?
>>>
>>
>> "Hanging" for a long period of time is usually caused by poorly
>> written
>> C/Fortran code. You can always interrupt R as long as it is in the R
>> code.
>> Once you load a package that uses native code (C/Fortran/..) you have
>> to
>> rely on the sanity of the developer to call R_CheckUserInterrupt() or
>> rchkusr() often enough (see 6.12 in R-ext). If you have some
>> particular
>> package that does not do that, I would suggest alerting the author. By
>> definition this requires cooperation from authors, because
>> interrupting
>> random code forcefully (as it was possible many years ago) creates
>> leaks and
>> unstable states.
>>
>> Cheers,
>> Simon
>>
>>
>>
>>> Google searching suggests no solution, timeline, or anything, but the
>>> problem has been annoying users for at least twelve years:
>>> http://tolstoy.newcastle.edu.au/R/help/9704/0151.html
>>>
>>> Cordially,
>>> Adam
>>>
>>> On Mon, 15 Mar 2010, Matthew Keller wrote:
>>>
>>>> HI all,
>>>>
>>>> Apologies for this question. I'm sure it's been asked many times,
>>>> but
>>>> despite 20 minutes of looking, I can't find the answer. I never use
>>>> the GUI, I use emacs, but my postdoc does, so I don't know what to
>>>> tell her about the following:
>>>>
>>>> Occasionally she'll mess up in her code and cause R to hang
>>>> indefinitely (e.g., R is trying to do something that will take
>>>> days).
>>>> In these situations, is there an option other than killing R (and
>>>> the
>>>> work you've done on your script to that point)?
>>>>
>>>> Thank you,
>>>>
>>>> Matthew Keller
>>>>
>>>>
>>>> --
>>>> Matthew C Keller
>>>> Asst. Professor of Psychology
>>>> University of Colorado at Boulder
>>>> www.matthewckeller.com
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>>
> 
> 
> 
> -- 
> Matthew C Keller
> Asst. Professor of Psychology
> University of Colorado at Boulder
> www.matthewckeller.com
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at manchester.ac.uk>
Fax-to-email: +44 (0)870 094 0861
Date: 15-Mar-10                                       Time: 20:49:57
------------------------------ XFMail ------------------------------


From Ted.Harding at manchester.ac.uk  Mon Mar 15 22:38:37 2010
From: Ted.Harding at manchester.ac.uk ( (Ted Harding))
Date: Mon, 15 Mar 2010 21:38:37 -0000 (GMT)
Subject: [R-SIG-Mac] [R]  How to interrupt an R process that hangs
In-Reply-To: <3f547caa1003151410m305c9e9ao3f3b3f60c5036c32@mail.gmail.com>
Message-ID: <XFMail.100315213837.Ted.Harding@manchester.ac.uk>

On 15-Mar-10 21:10:03, Matthew Keller wrote:
> Hi all,
> Thanks for the responses. Ted - thank you for your help. I had
> to laugh. I'm no computer guru, but I do know unix well enough
> to know not to type "<PID>". But then again, my original code
> did contain a matrix with >>2^31-1 elements, so maybe your
> assumption was reasonable
> ;)

Well, it was a "just in case" assumption, not based on a prior!

> Anyway, all your kill statements merely kill R, script included,
> which doesn't really do what I'd like.

On the matter of killing an R script, I have tested kill -s INT
with a script "test.R":

  while(TRUE){ x <- 1} ## trivially light-weight, but ...

And then, in R,

  source("test.R")

It duly puts the command prompt to sleep. WHen I type ^C at the
keyboard, it stops and the command prompt returns.

So I start it again, and this time from another console enter

   kill -s INT  13863

(the PID for that instance of R) and again the script is interuppted
and the command prompt returns. So this adds weight to the theory
that your script (for some reason) is not interruptible, i.e. R
is not able to apply the INT to the script.

Ted.

> Thus, summary of responses:
> 
> Question:
> "How do I interrupt an R process that's taking too long?"
> 
> Answer:
> "You don't. Kill R. And don't make mistakes."
> 
> Matthew
> 
> 
> 
> On Mon, Mar 15, 2010 at 2:49 PM, Ted Harding
> <Ted.Harding at manchester.ac.uk> wrote:
>> [Though I'm not using a Mac, OS X is a Unix variant and should
>> have the commands used below installed]
>>
>> Did you *literally* do
>> ?_kill -s INT <PID>
>> without substituting the R PID for "<PID"? If so, then here's a tip.
>> In Mac console, do
>>
>> ?_ps aux | grep R
>>
>> On my Linux machine this currently responds with (amongst some
>> irrelevant lines):
>>
>> ted ?_8625 ?_0.0 ?_3.2 ?_41568 34096 pts/6 ?_S+ Mar13 0:07
>> ?_/usr/lib/R/bin/exec/R --no-save
>>
>> showing that the PID of the R process is 8625. Then you can do
>> whatever corresponds to
>>
>> ?_kill -s INT 8625
>>
>> (replacing "8625" with what you get from ps). However, when I
>> just tried it, it didn't work for me either. So I changed the
>> Signal from "INT" to "HUP", and this time it did work. Maybe
>> try this instead?
>>
>> Other ways of using 'kill' include
>> (a) Use the signal number (1 for HUP, 2 for INT) like
>>
>> ?_kill -1 8625 ?_ ?_or ?_ ?_ kill -2 8625
>>
>> (b) Don't search for the numeric Process ID (PID) but kill it
>> ?_ ?_by name ('killall' command):
>>
>> ?_killall -1 R ?_ ?_or ?_ ?_killall -2 R
>>
>> However, this will kill every running instance of R (if you
>> two or more running simultaneously), and you may not want that!
>>
>> Hoping this helps,
>> Ted.
>>
>>
>>
>> On 15-Mar-10 20:20:29, Matthew Keller wrote:
>>> Hi all,
>>>
>>> Thanks Simon and Duncan for the help. Sorry to be dense, but I'm
>>> still
>>> unsure how to interrupt such processes. Here's an example:
>>>
>>> for (i in 1:100000){
>>> ?_ ?_ ?_ a <- matrix(rnorm(100000*100000),ncol=100000)
>>> ?_ ?_ ?_ b <- svd(a) ?_ ?_ }
>>>
>>> If you run this, R will hang (i.e., it's a legitimate execution, it
>>> will just take a really long time to execute). The most obvious
>>> solution is to write code that doesn't do unintended things, but
>>> that's not always possible. Is there a way to interrupt it? I tried:
>>>
>>> kill -s INT <PID>
>>>
>>> and at least on Mac it had no effect. Thanks again,
>>>
>>> Matt
>>>
>>>
>>>
>>> On Mon, Mar 15, 2010 at 1:19 PM, Simon Urbanek
>>> <simon.urbanek at r-project.org> wrote:
>>>>
>>>> On Mar 15, 2010, at 14:42 , Adam D. I. Kramer wrote:
>>>>
>>>>> +1--this is the single most-annoying issue with R that I know of.
>>>>>
>>>>> My usual solution, after accomplishing nothing as R spins idly for
>>>>> a
>>>>> couple
>>>>> hours, is to kill the process and lose any un-saved work.
>>>>> ??_save.history()
>>>>> is
>>>>> my friend, but is a big delay when you work with big data sets as I
>>>>> do, so
>>>>> I
>>>>> don't run it after every command.
>>>>>
>>>>> I have cc'd r-help here, however, because I experience this problem
>>>>> with
>>>>> non-OSX R as well...when I run it in Linux or from the OSX
>>>>> command-line (I
>>>>> compile R for Darwin without aqua/R-framework), the same thing
>>>>> happens.
>>>>>
>>>>> Is there some way around this? Is this a known problem?
>>>>>
>>>>
>>>> "Hanging" for a long period of time is usually caused by poorly
>>>> written
>>>> C/Fortran code. You can always interrupt R as long as it is in the R
>>>> code.
>>>> Once you load a package that uses native code (C/Fortran/..) you
>>>> have
>>>> to
>>>> rely on the sanity of the developer to call R_CheckUserInterrupt()
>>>> or
>>>> rchkusr() often enough (see 6.12 in R-ext). If you have some
>>>> particular
>>>> package that does not do that, I would suggest alerting the author.
>>>> By
>>>> definition this requires cooperation from authors, because
>>>> interrupting
>>>> random code forcefully (as it was possible many years ago) creates
>>>> leaks and
>>>> unstable states.
>>>>
>>>> Cheers,
>>>> Simon
>>>>
>>>>
>>>>
>>>>> Google searching suggests no solution, timeline, or anything, but
>>>>> the
>>>>> problem has been annoying users for at least twelve years:
>>>>> http://tolstoy.newcastle.edu.au/R/help/9704/0151.html
>>>>>
>>>>> Cordially,
>>>>> Adam
>>>>>
>>>>> On Mon, 15 Mar 2010, Matthew Keller wrote:
>>>>>
>>>>>> HI all,
>>>>>>
>>>>>> Apologies for this question. I'm sure it's been asked many times,
>>>>>> but
>>>>>> despite 20 minutes of looking, I can't find the answer. I never
>>>>>> use
>>>>>> the GUI, I use emacs, but my postdoc does, so I don't know what to
>>>>>> tell her about the following:
>>>>>>
>>>>>> Occasionally she'll mess up in her code and cause R to hang
>>>>>> indefinitely (e.g., R is trying to do something that will take
>>>>>> days).
>>>>>> In these situations, is there an option other than killing R (and
>>>>>> the
>>>>>> work you've done on your script to that point)?
>>>>>>
>>>>>> Thank you,
>>>>>>
>>>>>> Matthew Keller
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Matthew C Keller
>>>>>> Asst. Professor of Psychology
>>>>>> University of Colorado at Boulder
>>>>>> www.matthewckeller.com
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>>
>>>>
>>>>
>>>
>>>
>>>
>>> --
>>> Matthew C Keller
>>> Asst. Professor of Psychology
>>> University of Colorado at Boulder
>>> www.matthewckeller.com
>>>
>>> ______________________________________________
>>> R-help at r-project.org mailing list
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> PLEASE do read the posting guide
>>> http://www.R-project.org/posting-guide.html
>>> and provide commented, minimal, self-contained, reproducible code.
>>
>> --------------------------------------------------------------------
>> E-Mail: (Ted Harding) <Ted.Harding at manchester.ac.uk>
>> Fax-to-email: +44 (0)870 094 0861
>> Date: 15-Mar-10 ?_ ?_ ?_ ?_ ?_ ?_ ?_ ?_ ?_ ?_ ?_ ?_ ?_ ?_ ?_ ?_ ?_ ?_
>> ?_ Time: 20:49:57
>> ------------------------------ XFMail ------------------------------
>>
>> ______________________________________________
>> R-help at r-project.org mailing list
>> https://stat.ethz.ch/mailman/listinfo/r-help
>> PLEASE do read the posting guide
>> http://www.R-project.org/posting-guide.html
>> and provide commented, minimal, self-contained, reproducible code.
>>
> 
> 
> 
> -- 
> Matthew C Keller
> Asst. Professor of Psychology
> University of Colorado at Boulder
> www.matthewckeller.com
> 
> ______________________________________________
> R-help at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide
> http://www.R-project.org/posting-guide.html
> and provide commented, minimal, self-contained, reproducible code.

--------------------------------------------------------------------
E-Mail: (Ted Harding) <Ted.Harding at manchester.ac.uk>
Fax-to-email: +44 (0)870 094 0861
Date: 15-Mar-10                                       Time: 21:38:33
------------------------------ XFMail ------------------------------


From david.dreisigmeyer at gmail.com  Mon Mar 22 02:08:15 2010
From: david.dreisigmeyer at gmail.com (David Dreisigmeyer)
Date: Mon, 22 Mar 2010 01:08:15 +0000 (UTC)
Subject: [R-SIG-Mac] RGtk2 problems
References: <4B7F52DD.660A.00DD.0@georgiasouthern.edu>
Message-ID: <loom.20100322T020654-158@post.gmane.org>

This seemed to solve it for me:

http://n4.nabble.com/problem-with-RGtk-td1561184.html


From ripley at stats.ox.ac.uk  Wed Mar 24 10:56:09 2010
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 24 Mar 2010 09:56:09 +0000 (GMT)
Subject: [R-SIG-Mac] Installation of RPostgreSQL fails : no acceptable C
 compiler found in $PATH
In-Reply-To: <1ADF4BE7-E9C0-4568-8467-66D4385F4F07@nova.org.za>
References: <1ADF4BE7-E9C0-4568-8467-66D4385F4F07@nova.org.za>
Message-ID: <alpine.LFD.2.00.1003240948440.28157@gannet.stats.ox.ac.uk>

On Wed, 10 Mar 2010, Christiaan Pauw wrote:

>
> Hi Everybody
>
> I use R2.9.2 on Mac OS X 10.5.2. I tried to install RPostgreSQL from
> source
> on CRAN via the package installer. Apparently the program cannot find
> my C
> compiler gcc  . Here is the output message
>
> trying URL '
> http://cran.za.r-project.org/src/contrib/RPostgreSQL_0.1-6.tar.gz'
> Content type 'application/x-gzip' length 141399 bytes (138 Kb)
> opened URL
> ==================================================
> downloaded 138 Kb
>
> * Installing *source* package ?RPostgreSQL? ...
> checking for gcc... no
> checking for cc... no
> checking for cl.exe... no
> configure: error: no acceptable C compiler found in $PATH
> See `config.log' for more details.
> ERROR: configuration failed for package ?RPostgreSQL?
> * Removing
> ?/Library/Frameworks/R.framework/Versions/2.9/Resources/library/
> RPostgreSQL?
>
> I an sure I have gcc-4.0 installed because I can type "gcc-4.0 --
> version" in
> the terminal and get
>
> i686-apple-darwin9-gcc-4.0.1 (GCC) 4.0.1 (Apple Inc. build 5465)
> Copyright (C) 2005 Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.  There
> is NO
> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR
> PURPOSE.
>
> How do I tell R where gcc is?

It is not R which is asking but RPostgreSQL, so you should take 
this up with the package maintainer (but see the posting guide).
(RPostgreSQL does not pick up the compiler from the R, as required in 
'Writing R Extensions'.)

But first, was R compiled with gcc-4.0?  R 2.9.2 is not current, and 
if you update your OS (10.5.8 is the latest), Xcode and R you may find 
this works.  (I do have

tystie% which gcc
/usr/bin/gcc

under an up-to-date 2.5.8 system, and R 2.10.1 was compiled with 
gcc-4.2 according to

tystie% R CMD config CC
gcc-4.2 -arch i386 -std=gnu99
.)

The normal way to tell a configure script the version of the compiler 
is to set the environment variable CC.



>
> regards
> Christiaan
>
>
> Christiaan Pauw
> Tel   +27 44 6950 749
> Mob +27 82 557 4328
> www.nova.org.za
>
>
>
>
>
>
> 	[[alternative HTML version deleted]]
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From dwinsemius at comcast.net  Wed Mar 24 13:02:09 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 24 Mar 2010 08:02:09 -0400
Subject: [R-SIG-Mac] R-app for naive users
In-Reply-To: <Pine.WNT.4.44.1003072213390.3572-100000@reeve>
References: <Pine.WNT.4.44.1003072213390.3572-100000@reeve>
Message-ID: <C07F0BC8-725E-4D9B-A316-CB3846773C38@comcast.net>


On Mar 7, 2010, at 5:29 PM, Ruth M. Ripley wrote:

> I have just begun to use a Mac after teaching R (with my students
> officially Windows users) for a while. It seems that the gui works
> differently from that on Windows. In particular, I quote from Simon on
> r-sig-mac
>
> "this [q()] was never intended to work in the GUI because it entirely
> bypasses the app quitting mechanism. You should never use q/quit in  
> the GUI unless you
> really mean to exit R right away and discard everything (history,  
> all open
> files, ...)"
>
> Please can you point me to some documentation that explains this and  
> any
> other similar traps for the unwary fairly knowledgeable R user. My
> audience are very naive Mac users, e.g. they cannot possibly find  
> hidden
> files as they do not know what a terminal is.

I happen to think the use of Terminal.app is a basic skill needed by  
all users. I have move it to the Dock. (I have been a Mac user on and  
off for decades.)

The other problem (which is not unlike some similar problems faced by  
Windows users) is the "hidden" status of .Rprofile under the default  
settings of Finder.app. I have gone with globally unhiding the dot- 
files in Finder.app, although that may not be wise for total newbies.

There is a Mac section of the Installation Manual and an R-Mac FAQ:

http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html

(It looks somewhat out of data, unfortunately. And it could use some  
revisions since the 4.5.3 entry is intended to be the Edit menu  
section. The menu items have slightly  different names, and on my  
machine there is no Bioconductor menu item (although there is one in a  
pulldown box inside a dialog). I did not see a Window menu item  
description, and that is the menu I use most often.)


> I would like to be able to
> help them but am struggling myself. e.g. They may know what the  
> switch on
> the toolbar means, but I do not.

Mousing over GUI tool bar buttons brings up a brief description on my  
machine.

> I certainly would not guess that a button
> with a tooltip Quit R would not do the same as q().
>
> I also maintain an R package in which I work very hard to make  
> everything
> platform independent. Is the Mac a special case? It is hard to quit R
> without an option to save on either Linux or Windows.

There are some who will undoubtedly tell you to stop using the GUI,  
but I am a committed Mac-R-GUI user.

>
> Other differences I have noted are 1) I cannot search in the help  
> pages
> and

That is a minor annoyance. I will either search out the same page with  
RSiteSearch() and search with my web-browser, or select, copy, paste  
to a Textedit.app window

> 2) when I copy and paste from an example in a help page I have to do
> it line by line or I cannot adjust it line by line.

a) I don't understand. I often copy-paste multiple lines from help  
pages, and edit  before committing the changes with a <return>. You  
can edit on multiple lines on the console.  Sometimes I need to add an  
extra command and then using ";" is needed to act as a command  
separator. I have on occasion had problems with help page examples not  
pasting correctly that were solved by using example(),

b) Copy, open R editing window, paste.

> Workarounds for either
> would be very much appreciated.

Graphics devices are different. Use capabilities() to see the  
available devices. The default graphic device is quartz() (not Quartz)  
and saving files from the GUI defaults (with no options) to pdf(). I  
generally want tiff versions and I use Preview.app to open the pdf  
files and save as tiff. (Yes, I know that I could make tiffs from the  
R environment directly.)

One gotcha is that the Quartz menu item does not shift focus to the  
graphics window. I cannot tell you how many times I tried that before  
finally learning that I need to use the choice off the Window menu.  
And I now never use that menu since I have learned to use all the  
corresponding keystrokes

I have not yet figured out how to fix my broken R connection with my  
Symbol font.

Figuring out how to keep all my packages in the R.Framework tree was a  
challenge, since I had managed to add the User/Library tree with the  
Installer.   If you have done that you can consolidate by dragging the  
User/Library copies to the correct position in the R.Framework tree  
and using .libPaths() to remove the extra location.

Sometimes linking out to pdf files from help pages will hang R. I try  
to remember not to do that. The "Help topics matching ___" window  
opened by "??" will sometimes get itself tied up in knots and fail to  
open any selected help pages. Saving and restarting R is the only  
action I have been able to get to succeed in that situation.
>
> Thanks,
>
> Ruth
> -- 
> Ruth M. Ripley,                         Email:ruth at stats.ox.ac.uk
> Dept. of Statistics,                    http://www.stats.ox.ac.uk/~ruth/
> University of Oxford,                   Tel:   01865 282851
> 1 South Parks Road, Oxford OX1 3TG, UK  Fax:   01865 272595
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
West Hartford, CT


From kasperdanielhansen at gmail.com  Wed Mar 24 13:33:12 2010
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Wed, 24 Mar 2010 08:33:12 -0400
Subject: [R-SIG-Mac] Installation of RPostgreSQL fails : no acceptable C
	compiler found in $PATH
In-Reply-To: <alpine.LFD.2.00.1003240948440.28157@gannet.stats.ox.ac.uk>
References: <1ADF4BE7-E9C0-4568-8467-66D4385F4F07@nova.org.za>
	<alpine.LFD.2.00.1003240948440.28157@gannet.stats.ox.ac.uk>
Message-ID: <e780c0971003240533w3c900d19o47eaab4c4b2165b9@mail.gmail.com>

On Wed, Mar 24, 2010 at 5:56 AM, Prof Brian Ripley
<ripley at stats.ox.ac.uk> wrote:
> On Wed, 10 Mar 2010, Christiaan Pauw wrote:
>
>>
>> Hi Everybody
>>
>> I use R2.9.2 on Mac OS X 10.5.2. I tried to install RPostgreSQL from
>> source
>> on CRAN via the package installer. Apparently the program cannot find
>> my C
>> compiler gcc ?. Here is the output message
>>
>> trying URL '
>> http://cran.za.r-project.org/src/contrib/RPostgreSQL_0.1-6.tar.gz'
>> Content type 'application/x-gzip' length 141399 bytes (138 Kb)
>> opened URL
>> ==================================================
>> downloaded 138 Kb
>>
>> * Installing *source* package ?RPostgreSQL? ...
>> checking for gcc... no
>> checking for cc... no
>> checking for cl.exe... no
>> configure: error: no acceptable C compiler found in $PATH
>> See `config.log' for more details.
>> ERROR: configuration failed for package ?RPostgreSQL?
>> * Removing
>> ?/Library/Frameworks/R.framework/Versions/2.9/Resources/library/
>> RPostgreSQL?
>>
>> I an sure I have gcc-4.0 installed because I can type "gcc-4.0 --
>> version" in
>> the terminal and get

Most likely you will need to upgrade your Xcode.  Do you have gcc-4.2
which is the default on newer systems?  Older versions of Xcode had
gcc 3.something as well as 4.0, whereas newer versions have gcc 4.0 as
well as gcc 4.2.

If I was better at remembering the Apple build numbers for the
compiler, I could tell you for sure.

Kasper



>>
>> i686-apple-darwin9-gcc-4.0.1 (GCC) 4.0.1 (Apple Inc. build 5465)
>> Copyright (C) 2005 Free Software Foundation, Inc.
>> This is free software; see the source for copying conditions. ?There
>> is NO
>> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR
>> PURPOSE.
>>
>> How do I tell R where gcc is?
>
> It is not R which is asking but RPostgreSQL, so you should take this up with
> the package maintainer (but see the posting guide).
> (RPostgreSQL does not pick up the compiler from the R, as required in
> 'Writing R Extensions'.)
>
> But first, was R compiled with gcc-4.0? ?R 2.9.2 is not current, and if you
> update your OS (10.5.8 is the latest), Xcode and R you may find this works.
> ?(I do have
>
> tystie% which gcc
> /usr/bin/gcc
>
> under an up-to-date 2.5.8 system, and R 2.10.1 was compiled with gcc-4.2
> according to
>
> tystie% R CMD config CC
> gcc-4.2 -arch i386 -std=gnu99
> .)
>
> The normal way to tell a configure script the version of the compiler is to
> set the environment variable CC.
>
>
>
>>
>> regards
>> Christiaan
>>
>>
>> Christiaan Pauw
>> Tel ? +27 44 6950 749
>> Mob +27 82 557 4328
>> www.nova.org.za
>>
>>
>>
>>
>>
>>
>> ? ? ? ?[[alternative HTML version deleted]]
>>
>>
>
> --
> Brian D. Ripley, ? ? ? ? ? ? ? ? ?ripley at stats.ox.ac.uk
> Professor of Applied Statistics, ?http://www.stats.ox.ac.uk/~ripley/
> University of Oxford, ? ? ? ? ? ? Tel: ?+44 1865 272861 (self)
> 1 South Parks Road, ? ? ? ? ? ? ? ? ? ? +44 1865 272866 (PA)
> Oxford OX1 3TG, UK ? ? ? ? ? ? ? ?Fax: ?+44 1865 272595
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Wed Mar 24 15:43:31 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 24 Mar 2010 10:43:31 -0400
Subject: [R-SIG-Mac] build of package xlsx fails on Mac
In-Reply-To: <Pine.LNX.4.64.1003090846240.14894@shell.eskimo.com>
References: <Pine.LNX.4.64.1003090846240.14894@shell.eskimo.com>
Message-ID: <EC6D6185-48E7-4894-8AE6-56974D0D27D2@r-project.org>

Adrian,

I think I have a d?j? vu:

http://www.mail-archive.com/r-sig-mac at stat.math.ethz.ch/msg04964.html

Cheers,
Simon


On Mar 9, 2010, at 11:54 , Adrian Dragulescu wrote:

>
> Hello,
>
> One user pointed to me that the build of package xlsx fails on Mac.   
> I did not change anything on CRAN since I've uploaded the package.   
> I believe it used to work fine.
>
> The issue is Java specific as my package uses rJava.  When running  
> the examples, one gets:
> checking Rd contents ... OK
> checking examples ... ERROR
> Running examples in 'xlsx-Ex.R' failed.
> The error most likely occurred in:
>
>> ### * CellStyle
>>
>> flush(stderr()); flush(stdout())
>>
>> ### Name: CellStyle
>> ### Title: Functions to manipulate cells.
>> ### Aliases: CellStyle createCellStyle setCellStyle getCellStyle
>>
>> ### ** Examples
>>
>>
>> wb <- createWorkbook()
>> sheet <- createSheet(wb, "Sheet1")
>>
>> rows <- createRow(sheet, rowIndex=1)
>>
>> cell.1 <- createCell(rows, colIndex=1)[[1,1]]
>> setCellValue(cell.1, "Hello R!")
>>
>> cellStyle1 <- createCellStyle(wb, borderPosition="RIGHT",
> + borderPen="BORDER_DASHED", fillBackgroundColor="yellow",
> + fillForegroundColor="tomato", fillPattern="BIG_SPOTS")
> 2010-02-15 12:47:54.174 R[33120:613] Apple AWT Java VM was loaded on  
> first thread -- can't start AWT.
> Error in .jnew("java.awt.Color", rgb[1], rgb[2], rgb[3]) :
> java.lang.NoClassDefFoundError
> Calls: createCellStyle -> .jcall -> .xssfcolor -> .jnew -> .External
> Execution halted
>
> Let me know if there is something on my side that I need to do.  Of  
> course, I can \dontrun the example.
>
> Thank you,
> Adrian
>
>
>
> ---------- Forwarded message ----------
> Date: Mon, 8 Mar 2010 14:41:40 -0800
> From: Ralf Tautenhahn <rtautenh at scripps.edu>
> To: Adrian Dragulescu <adrian_d at eskimo.com>
> Subject: RE: xlsx and binary data
>
> Hi Adrian,
>
> I see that the xlsx build  fails on Mac:
> http://www.r-project.org/nosvn/R.check/r-release-macosx-ix86/xlsx-00check.html
>
> I hope this is only a temporary problem ?
>
> Regards,
> Ralf.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From mick.wu at mail.mcgill.ca  Thu Mar 25 00:37:12 2010
From: mick.wu at mail.mcgill.ca (Gi-Mick Wu)
Date: Wed, 24 Mar 2010 19:37:12 -0400
Subject: [R-SIG-Mac] shell.exe() equivalent?
Message-ID: <CFB0B72A-E68F-4105-A345-BF68D2607B6A@mail.mcgill.ca>

Greetings R Mac users,

I switched from windows to mac relatively recently (better late than never), and am still adjusting.

Does anyone know whether there is the equivalent of shell.exe(filename)?

Basically, I used the command to view a graph that was just saved in a pdf/png or other formats without having to manually open the file.

### Example:
pdf(filename, ... )
   plot( ... )
dev.off()
shell.exec(filename)

###

Thanks!
Mick
PS I searched the list, R help, & google, but did not find it


From kasperdanielhansen at gmail.com  Thu Mar 25 01:26:09 2010
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Wed, 24 Mar 2010 20:26:09 -0400
Subject: [R-SIG-Mac] shell.exe() equivalent?
In-Reply-To: <CFB0B72A-E68F-4105-A345-BF68D2607B6A@mail.mcgill.ca>
References: <CFB0B72A-E68F-4105-A345-BF68D2607B6A@mail.mcgill.ca>
Message-ID: <e780c0971003241726u61c1d7ebv5c295ab2ed7cdf5f@mail.gmail.com>

There might be a better way, but on the mac "open" opens a file as if
you doubleclick on it in Finder, and the "system" command in R
executes a shell command, so you should be able to do

R> system(paste("open", filename))

Kasper

On Wed, Mar 24, 2010 at 7:37 PM, Gi-Mick Wu <mick.wu at mail.mcgill.ca> wrote:
> Greetings R Mac users,
>
> I switched from windows to mac relatively recently (better late than never), and am still adjusting.
>
> Does anyone know whether there is the equivalent of shell.exe(filename)?
>
> Basically, I used the command to view a graph that was just saved in a pdf/png or other formats without having to manually open the file.
>
> ### Example:
> pdf(filename, ... )
> ? plot( ... )
> dev.off()
> shell.exec(filename)
>
> ###
>
> Thanks!
> Mick
> PS I searched the list, R help, & google, but did not find it
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From r.turner at auckland.ac.nz  Thu Mar 25 01:35:23 2010
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Thu, 25 Mar 2010 13:35:23 +1300
Subject: [R-SIG-Mac] shell.exe() equivalent?
In-Reply-To: <e780c0971003241726u61c1d7ebv5c295ab2ed7cdf5f@mail.gmail.com>
References: <CFB0B72A-E68F-4105-A345-BF68D2607B6A@mail.mcgill.ca>
	<e780c0971003241726u61c1d7ebv5c295ab2ed7cdf5f@mail.gmail.com>
Message-ID: <43F22731-5471-4886-82DC-84E678E0FC37@auckland.ac.nz>


On 25/03/2010, at 1:26 PM, Kasper Daniel Hansen wrote:

> There might be a better way, but on the mac "open" opens a file as if
> you doubleclick on it in Finder, and the "system" command in R
> executes a shell command, so you should be able to do
> 
> R> system(paste("open", filename))

Note that Mac OSX is really Unix (with an annoying point-and-click veneer
pasted on top of it) so you don't need to mess around with this ``open''
nonsense.  Just make ``filename'' executable.  Then you can do

 > system(filename)

Or if ``filename'' is not executable and you don't want to bother making
it so, do

 > system(paste("source",filename))

(That's the ***right*** --- i.e. Unix --- way of doing things.)

	cheers,

		Rolf Turner
> 
> Kasper
> 
> On Wed, Mar 24, 2010 at 7:37 PM, Gi-Mick Wu <mick.wu at mail.mcgill.ca> wrote:
>> Greetings R Mac users,
>> 
>> I switched from windows to mac relatively recently (better late than never), and am still adjusting.
>> 
>> Does anyone know whether there is the equivalent of shell.exe(filename)?
>> 
>> Basically, I used the command to view a graph that was just saved in a pdf/png or other formats without having to manually open the file.
>> 
>> ### Example:
>> pdf(filename, ... )
>>   plot( ... )
>> dev.off()
>> shell.exec(filename)
>> 
>> ###
>> 
>> Thanks!
>> Mick
>> PS I searched the list, R help, & google, but did not find it
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

######################################################################
Attention: 
This e-mail message is privileged and confidential. If you are not the 
intended recipient please delete the message and notify the sender. 
Any views or opinions presented are solely those of the author.

This e-mail has been scanned and cleared by MailMarshal 
www.marshalsoftware.com
######################################################################


From kasperdanielhansen at gmail.com  Thu Mar 25 01:48:30 2010
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Wed, 24 Mar 2010 20:48:30 -0400
Subject: [R-SIG-Mac] shell.exe() equivalent?
In-Reply-To: <43F22731-5471-4886-82DC-84E678E0FC37@auckland.ac.nz>
References: <CFB0B72A-E68F-4105-A345-BF68D2607B6A@mail.mcgill.ca>
	<e780c0971003241726u61c1d7ebv5c295ab2ed7cdf5f@mail.gmail.com>
	<43F22731-5471-4886-82DC-84E678E0FC37@auckland.ac.nz>
Message-ID: <e780c0971003241748j73a14870r6ed035743b247793@mail.gmail.com>

On Wed, Mar 24, 2010 at 8:35 PM, Rolf Turner <r.turner at auckland.ac.nz> wrote:
> Note that Mac OSX is really Unix (with an annoying point-and-click veneer
> pasted on top of it) so you don't need to mess around with this ``open''
> nonsense. ?Just make ``filename'' executable. ?Then you can do
>
> ?> system(filename)
>
> Or if ``filename'' is not executable and you don't want to bother making
> it so, do
>
> ?> system(paste("source",filename))

So you are claiming that if I make a PDF file executable, executing
the file will open it up in a pdf viewer.  Interesting.

Kasper


From r.turner at auckland.ac.nz  Thu Mar 25 01:50:30 2010
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Thu, 25 Mar 2010 13:50:30 +1300
Subject: [R-SIG-Mac] shell.exe() equivalent?
In-Reply-To: <e780c0971003241748j73a14870r6ed035743b247793@mail.gmail.com>
References: <CFB0B72A-E68F-4105-A345-BF68D2607B6A@mail.mcgill.ca>
	<e780c0971003241726u61c1d7ebv5c295ab2ed7cdf5f@mail.gmail.com>
	<43F22731-5471-4886-82DC-84E678E0FC37@auckland.ac.nz>
	<e780c0971003241748j73a14870r6ed035743b247793@mail.gmail.com>
Message-ID: <A542AF4D-9047-49A6-9F2D-3837C3BC21D3@auckland.ac.nz>


On 25/03/2010, at 1:48 PM, Kasper Daniel Hansen wrote:

> On Wed, Mar 24, 2010 at 8:35 PM, Rolf Turner <r.turner at auckland.ac.nz> wrote:
>> Note that Mac OSX is really Unix (with an annoying point-and-click veneer
>> pasted on top of it) so you don't need to mess around with this ``open''
>> nonsense.  Just make ``filename'' executable.  Then you can do
>> 
>>  > system(filename)
>> 
>> Or if ``filename'' is not executable and you don't want to bother making
>> it so, do
>> 
>>  > system(paste("source",filename))
> 
> So you are claiming that if I make a PDF file executable, executing
> the file will open it up in a pdf viewer.  Interesting.

No, I am obviously not claiming that at all.  You are just being
silly/deliberately obtuse.

	cheers,

		Rolf Turner
######################################################################
Attention: 
This e-mail message is privileged and confidential. If you are not the 
intended recipient please delete the message and notify the sender. 
Any views or opinions presented are solely those of the author.

This e-mail has been scanned and cleared by MailMarshal 
www.marshalsoftware.com
######################################################################


From mick.wu at mail.mcgill.ca  Thu Mar 25 01:57:43 2010
From: mick.wu at mail.mcgill.ca (Gi-Mick Wu)
Date: Wed, 24 Mar 2010 20:57:43 -0400
Subject: [R-SIG-Mac] shell.exe() equivalent?
In-Reply-To: <A542AF4D-9047-49A6-9F2D-3837C3BC21D3@auckland.ac.nz>
References: <CFB0B72A-E68F-4105-A345-BF68D2607B6A@mail.mcgill.ca>
	<e780c0971003241726u61c1d7ebv5c295ab2ed7cdf5f@mail.gmail.com>
	<43F22731-5471-4886-82DC-84E678E0FC37@auckland.ac.nz>
	<e780c0971003241748j73a14870r6ed035743b247793@mail.gmail.com>
	<A542AF4D-9047-49A6-9F2D-3837C3BC21D3@auckland.ac.nz>
Message-ID: <F307535A-76AD-4B23-ADDF-D6DFB8993E2A@mail.mcgill.ca>

Thanks everyone!

Of course it had to be simple.

Someday, I may get rid of the annoying point & click; for now I'm recovering from Windows.

Cheers,
Mick

On 2010-03-24, at 5:50 PM, Rolf Turner wrote:

> 
> On 25/03/2010, at 1:48 PM, Kasper Daniel Hansen wrote:
> 
>> On Wed, Mar 24, 2010 at 8:35 PM, Rolf Turner <r.turner at auckland.ac.nz> wrote:
>>> Note that Mac OSX is really Unix (with an annoying point-and-click veneer
>>> pasted on top of it) so you don't need to mess around with this ``open''
>>> nonsense.  Just make ``filename'' executable.  Then you can do
>>> 
>>>> system(filename)
>>> 
>>> Or if ``filename'' is not executable and you don't want to bother making
>>> it so, do
>>> 
>>>> system(paste("source",filename))
>> 
>> So you are claiming that if I make a PDF file executable, executing
>> the file will open it up in a pdf viewer.  Interesting.
> 
> No, I am obviously not claiming that at all.  You are just being
> silly/deliberately obtuse.
> 
> 	cheers,
> 
> 		Rolf Turner
> ######################################################################
> Attention: 
> This e-mail message is privileged and confidential. If you are not the 
> intended recipient please delete the message and notify the sender. 
> Any views or opinions presented are solely those of the author.
> 
> This e-mail has been scanned and cleared by MailMarshal 
> www.marshalsoftware.com
> ######################################################################


From dwinsemius at comcast.net  Thu Mar 25 05:00:48 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 25 Mar 2010 00:00:48 -0400
Subject: [R-SIG-Mac] shell.exe() equivalent?
In-Reply-To: <F307535A-76AD-4B23-ADDF-D6DFB8993E2A@mail.mcgill.ca>
References: <CFB0B72A-E68F-4105-A345-BF68D2607B6A@mail.mcgill.ca>
	<e780c0971003241726u61c1d7ebv5c295ab2ed7cdf5f@mail.gmail.com>
	<43F22731-5471-4886-82DC-84E678E0FC37@auckland.ac.nz>
	<e780c0971003241748j73a14870r6ed035743b247793@mail.gmail.com>
	<A542AF4D-9047-49A6-9F2D-3837C3BC21D3@auckland.ac.nz>
	<F307535A-76AD-4B23-ADDF-D6DFB8993E2A@mail.mcgill.ca>
Message-ID: <C3DC272D-D0D9-44F2-A431-701586EECEE3@comcast.net>


On Mar 24, 2010, at 8:57 PM, Gi-Mick Wu wrote:

> Thanks everyone!
>
> Of course it had to be simple.
>
> Someday, I may get rid of the annoying point & click; for now I'm  
> recovering from Windows.

Now _that_ is amusing. Windows is a (kludgy) imitation of the Mac GUI,  
which in turn is a copy of the Xerox PARC Alto and Star systems, all  
of which feature the mouse for user input.

>
> Cheers,
> Mick
>
> On 2010-03-24, at 5:50 PM, Rolf Turner wrote:
>
>>
>> On 25/03/2010, at 1:48 PM, Kasper Daniel Hansen wrote:
>>
>>> On Wed, Mar 24, 2010 at 8:35 PM, Rolf Turner <r.turner at auckland.ac.nz 
>>> > wrote:
>>>> Note that Mac OSX is really Unix (with an annoying point-and- 
>>>> click veneer
>>>> pasted on top of it) so you don't need to mess around with this  
>>>> ``open''
>>>> nonsense.  Just make ``filename'' executable.  Then you can do
>>>>
>>>>> system(filename)
>>>>
>>>> Or if ``filename'' is not executable and you don't want to bother  
>>>> making
>>>> it so, do
>>>>
>>>>> system(paste("source",filename))
>>>
>>> So you are claiming that if I make a PDF file executable, executing
>>> the file will open it up in a pdf viewer.  Interesting.
>>
>> No, I am obviously not claiming that at all.  You are just being
>> silly/deliberately obtuse.

That is what Rolf implied. Agreed, it sounded a bit like arcanity or  
perhaps nonsense. Using "source" on a pdf file?  In any case, this is  
another example of using system() to open a pdf file.

  system("open /Users/davidwinsemius/Downloads/research-2004-05-ind- 
life-rpt.pdf")

Kasper's solution also works _iff_ the filename object has been  
previously defined.


-- 
David

>>
>> 	cheers,
>>
>> 		Rolf Turner


From kmmatoba at stanford.edu  Thu Mar 25 19:18:16 2010
From: kmmatoba at stanford.edu (Kyle Matoba)
Date: Thu, 25 Mar 2010 14:18:16 -0400
Subject: [R-SIG-Mac] brief RMySQL walkthrough
Message-ID: <b72a69661003251118s48ddb97fq6a3d4775c6f564c2@mail.gmail.com>

All,

Here are the steps I went through to install RMySQL on Snow Leopard
this morning ( March 25, 2010 ):

Download and install mySQL: http://dev.mysql.com/downloads/mysql/
(MySQL Community Server 5.1.45)
Download the client libraries:
http://dev.mysql.com/downloads/connector/c/ (Connector/C 6.0.2)
Obtain the source: http://cran.r-project.org/src/contrib/RMySQL_0.7-4.tar.gz
Unpack the source (in finder, e.g.)
Unpack the client libraries, copy the /include and /lib directories
into the corresponding in /usr/local/mysql/ or wherever you installed
mySQL.
Compile the source:

R CMD INSTALL --configure-args='--with-mysql-dir=/usr/local/mysql
--with-mysql-inc=/usr/local/mysql/include
--with-mysql-lib=/usr/local/mysql/lib'
 ~/Downloads/RMySQL_0.7-4.tar

Do not know if this is the most concise way of going about it, but it
worked for me.  For further reading I recommend Jeff's exchange of
April 30, 2009.

Regards,

Kyle


From simon.urbanek at r-project.org  Thu Mar 25 19:25:48 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 25 Mar 2010 14:25:48 -0400
Subject: [R-SIG-Mac] brief RMySQL walkthrough
In-Reply-To: <b72a69661003251118s48ddb97fq6a3d4775c6f564c2@mail.gmail.com>
References: <b72a69661003251118s48ddb97fq6a3d4775c6f564c2@mail.gmail.com>
Message-ID: <1B961E46-86E9-4A74-B70D-B6C3037E5BF2@r-project.org>

Kyle,

is there a particular reason why to not use a much simpler
install.packages("RMySQL")

You don't need any of the stuff below to use it ...

Cheers,
Simon


On Mar 25, 2010, at 14:18 , Kyle Matoba wrote:

> All,
>
> Here are the steps I went through to install RMySQL on Snow Leopard
> this morning ( March 25, 2010 ):
>
> Download and install mySQL: http://dev.mysql.com/downloads/mysql/
> (MySQL Community Server 5.1.45)
> Download the client libraries:
> http://dev.mysql.com/downloads/connector/c/ (Connector/C 6.0.2)
> Obtain the source: http://cran.r-project.org/src/contrib/RMySQL_0.7-4.tar.gz
> Unpack the source (in finder, e.g.)
> Unpack the client libraries, copy the /include and /lib directories
> into the corresponding in /usr/local/mysql/ or wherever you installed
> mySQL.
> Compile the source:
>
> R CMD INSTALL --configure-args='--with-mysql-dir=/usr/local/mysql
> --with-mysql-inc=/usr/local/mysql/include
> --with-mysql-lib=/usr/local/mysql/lib'
> ~/Downloads/RMySQL_0.7-4.tar
>
> Do not know if this is the most concise way of going about it, but it
> worked for me.  For further reading I recommend Jeff's exchange of
> April 30, 2009.
>
> Regards,
>
> Kyle
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Thu Mar 25 19:46:02 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 25 Mar 2010 14:46:02 -0400
Subject: [R-SIG-Mac] brief RMySQL walkthrough
In-Reply-To: <1B961E46-86E9-4A74-B70D-B6C3037E5BF2@r-project.org>
References: <b72a69661003251118s48ddb97fq6a3d4775c6f564c2@mail.gmail.com>
	<1B961E46-86E9-4A74-B70D-B6C3037E5BF2@r-project.org>
Message-ID: <4B440FA4-05E8-479C-ACE9-2B4E11F3B0E7@r-project.org>

On Mar 25, 2010, at 14:25 , Simon Urbanek wrote:

> Kyle,
>
> is there a particular reason why to not use a much simpler
> install.packages("RMySQL")
>

I think I can now answer that question -- the CRAN machine did not  
have 64-bit Intel binaries of MySQL, so the x86_64 architecture of the  
CRAN binary did not work (i386 and ppc did work). It is fixed now.
(Lesson: please report such issues instead of hacking around them!)

Thanks,
Simon



> You don't need any of the stuff below to use it ...
>
> Cheers,
> Simon
>
>
> On Mar 25, 2010, at 14:18 , Kyle Matoba wrote:
>
>> All,
>>
>> Here are the steps I went through to install RMySQL on Snow Leopard
>> this morning ( March 25, 2010 ):
>>
>> Download and install mySQL: http://dev.mysql.com/downloads/mysql/
>> (MySQL Community Server 5.1.45)
>> Download the client libraries:
>> http://dev.mysql.com/downloads/connector/c/ (Connector/C 6.0.2)
>> Obtain the source: http://cran.r-project.org/src/contrib/RMySQL_0.7-4.tar.gz
>> Unpack the source (in finder, e.g.)
>> Unpack the client libraries, copy the /include and /lib directories
>> into the corresponding in /usr/local/mysql/ or wherever you installed
>> mySQL.
>> Compile the source:
>>
>> R CMD INSTALL --configure-args='--with-mysql-dir=/usr/local/mysql
>> --with-mysql-inc=/usr/local/mysql/include
>> --with-mysql-lib=/usr/local/mysql/lib'
>> ~/Downloads/RMySQL_0.7-4.tar
>>
>> Do not know if this is the most concise way of going about it, but it
>> worked for me.  For further reading I recommend Jeff's exchange of
>> April 30, 2009.
>>
>> Regards,
>>
>> Kyle
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>


From j.w.dietrich at medizinische-kybernetik.de  Thu Mar 25 20:58:41 2010
From: j.w.dietrich at medizinische-kybernetik.de (Johannes W. Dietrich)
Date: Thu, 25 Mar 2010 20:58:41 +0100
Subject: [R-SIG-Mac] shell.exe() equivalent?
Message-ID: <a06240801c7d170e70f07@[192.168.178.20]>

At 13:50 Uhr +1300 25.03.2010, Rolf Turner wrote:
>No, I am obviously not claiming that at all.  You are just being
>silly/deliberately obtuse.

This comment denotes your personal position and responsibility, not 
that of all list members.

J. W. D.
-- 
-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
-- Dr. Johannes W. Dietrich, M.D.
-- Laboratory XU 44, Endocrine Research
-- Medical Hospital I, Bergmannsheil University Hospitals
-- Ruhr University of Bochum
-- Buerkle-de-la-Camp-Platz 1, D-44789 Bochum, NRW, Germany
-- Phone: +49:234:302-6400, Fax: +49:234:302-6403
-- eMail: "j.w.dietrich at medical-cybernetics.de"
-- WWW: http://medical-cybernetics.de
-- WWW: http://www.bergmannsheil.de
-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --


From r.turner at auckland.ac.nz  Thu Mar 25 21:06:14 2010
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Fri, 26 Mar 2010 09:06:14 +1300
Subject: [R-SIG-Mac] shell.exe() equivalent?
In-Reply-To: <a06240800c7d1706cf24c@[192.168.178.20]>
References: <CFB0B72A-E68F-4105-A345-BF68D2607B6A@mail.mcgill.ca>
	<e780c0971003241726u61c1d7ebv5c295ab2ed7cdf5f@mail.gmail.com>
	<43F22731-5471-4886-82DC-84E678E0FC37@auckland.ac.nz>
	<e780c0971003241748j73a14870r6ed035743b247793@mail.gmail.com>
	<A542AF4D-9047-49A6-9F2D-3837C3BC21D3@auckland.ac.nz>
	<a06240800c7d1706cf24c@[192.168.178.20]>
Message-ID: <79A38D4C-D140-4E13-8D54-0681543BE629@auckland.ac.nz>


On 26/03/2010, at 8:57 AM, Johannes W. Dietrich wrote:

> At 13:50 Uhr +1300 25.03.2010, Rolf Turner wrote:
>> No, I am obviously not claiming that at all.  You are just being
>> silly/deliberately obtuse.
> 
> This comment denotes your personal position and responsibility, not 
> that of all list members.

Does your comment ``denote'' (did you mean ``represent''?) the position
of all list members?

	cheers,

		Rolf Turner

######################################################################
Attention:\ This e-mail message is privileged and confid...{{dropped:9}}


From smitch at me.com  Thu Mar 25 01:21:43 2010
From: smitch at me.com (Scott Mitchell)
Date: Wed, 24 Mar 2010 20:21:43 -0400
Subject: [R-SIG-Mac] shell.exe() equivalent?
In-Reply-To: <CFB0B72A-E68F-4105-A345-BF68D2607B6A@mail.mcgill.ca>
References: <CFB0B72A-E68F-4105-A345-BF68D2607B6A@mail.mcgill.ca>
Message-ID: <FA3C59A9-E060-4993-A283-F5952BCD8449@me.com>

On 2010-03-24, at 19:37, Gi-Mick Wu <mick.wu at mail.mcgill.ca> wrote:

>
> Does anyone know whether there is the equivalent of shell.exe 
> (filename)?
...
> ### Example:
> pdf(filename, ... )
>   plot( ... )
> dev.off()
> shell.exec(filename)

On any unix-based system you can use the system() function, and on the  
Mac you can combine that with the open command to get the default  
software to handle the file, so the last line in your example would  
change to:

system("open filename")


From ruth at stats.ox.ac.uk  Fri Mar 26 02:30:01 2010
From: ruth at stats.ox.ac.uk (Ruth M. Ripley)
Date: Fri, 26 Mar 2010 01:30:01 +0000 (GMT Standard Time)
Subject: [R-SIG-Mac] R-app for naive users
In-Reply-To: <C07F0BC8-725E-4D9B-A316-CB3846773C38@comcast.net>
Message-ID: <Pine.WNT.4.44.1003260107530.2068-100000@reeve>

David,

Many thanks for your helpful comments.

I am still struggling to get consistent behavior from the Mac. For myself
I think I will stick to R in the terminal as that works more or less
platform independently.

For my students, I will just warn them not to expect the R.app to work at
all like the RGui which I demo. Since I do not really know which
differences are features and which are likely to alter, I don't think it
worth my while reseaching and teaching many details.

The cut and paste problem: I have a habit of wanting to alter and rerun
just one line of a pasted block. But that's probably just what has been
convenient for me up to now.

As for libraries, I don't even know what a framework tree is yet. I will
have to find out...

Regards,

Ruth

On Wed, 24 Mar 2010, David Winsemius wrote:

>
> On Mar 7, 2010, at 5:29 PM, Ruth M. Ripley wrote:
>
> > I have just begun to use a Mac after teaching R (with my students
> > officially Windows users) for a while. It seems that the gui works
> > differently from that on Windows. In particular, I quote from Simon on
> > r-sig-mac
> >
> > "this [q()] was never intended to work in the GUI because it entirely
> > bypasses the app quitting mechanism. You should never use q/quit in
> > the GUI unless you
> > really mean to exit R right away and discard everything (history,
> > all open
> > files, ...)"
> >
> > Please can you point me to some documentation that explains this and
> > any
> > other similar traps for the unwary fairly knowledgeable R user. My
> > audience are very naive Mac users, e.g. they cannot possibly find
> > hidden
> > files as they do not know what a terminal is.
>
> I happen to think the use of Terminal.app is a basic skill needed by
> all users. I have move it to the Dock. (I have been a Mac user on and
> off for decades.)
>
> The other problem (which is not unlike some similar problems faced by
> Windows users) is the "hidden" status of .Rprofile under the default
> settings of Finder.app. I have gone with globally unhiding the dot-
> files in Finder.app, although that may not be wise for total newbies.
>
> There is a Mac section of the Installation Manual and an R-Mac FAQ:
>
> http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html
>
> (It looks somewhat out of data, unfortunately. And it could use some
> revisions since the 4.5.3 entry is intended to be the Edit menu
> section. The menu items have slightly  different names, and on my
> machine there is no Bioconductor menu item (although there is one in a
> pulldown box inside a dialog). I did not see a Window menu item
> description, and that is the menu I use most often.)
>
>
> > I would like to be able to
> > help them but am struggling myself. e.g. They may know what the
> > switch on
> > the toolbar means, but I do not.
>
> Mousing over GUI tool bar buttons brings up a brief description on my
> machine.
>
> > I certainly would not guess that a button
> > with a tooltip Quit R would not do the same as q().
> >
> > I also maintain an R package in which I work very hard to make
> > everything
> > platform independent. Is the Mac a special case? It is hard to quit R
> > without an option to save on either Linux or Windows.
>
> There are some who will undoubtedly tell you to stop using the GUI,
> but I am a committed Mac-R-GUI user.
>
> >
> > Other differences I have noted are 1) I cannot search in the help
> > pages
> > and
>
> That is a minor annoyance. I will either search out the same page with
> RSiteSearch() and search with my web-browser, or select, copy, paste
> to a Textedit.app window
>
> > 2) when I copy and paste from an example in a help page I have to do
> > it line by line or I cannot adjust it line by line.
>
> a) I don't understand. I often copy-paste multiple lines from help
> pages, and edit  before committing the changes with a <return>. You
> can edit on multiple lines on the console.  Sometimes I need to add an
> extra command and then using ";" is needed to act as a command
> separator. I have on occasion had problems with help page examples not
> pasting correctly that were solved by using example(),
>
> b) Copy, open R editing window, paste.
>
> > Workarounds for either
> > would be very much appreciated.
>
> Graphics devices are different. Use capabilities() to see the
> available devices. The default graphic device is quartz() (not Quartz)
> and saving files from the GUI defaults (with no options) to pdf(). I
> generally want tiff versions and I use Preview.app to open the pdf
> files and save as tiff. (Yes, I know that I could make tiffs from the
> R environment directly.)
>
> One gotcha is that the Quartz menu item does not shift focus to the
> graphics window. I cannot tell you how many times I tried that before
> finally learning that I need to use the choice off the Window menu.
> And I now never use that menu since I have learned to use all the
> corresponding keystrokes
>
> I have not yet figured out how to fix my broken R connection with my
> Symbol font.
>
> Figuring out how to keep all my packages in the R.Framework tree was a
> challenge, since I had managed to add the User/Library tree with the
> Installer.   If you have done that you can consolidate by dragging the
> User/Library copies to the correct position in the R.Framework tree
> and using .libPaths() to remove the extra location.
>
> Sometimes linking out to pdf files from help pages will hang R. I try
> to remember not to do that. The "Help topics matching ___" window
> opened by "??" will sometimes get itself tied up in knots and fail to
> open any selected help pages. Saving and restarting R is the only
> action I have been able to get to succeed in that situation.
> >
> > Thanks,
> >
> > Ruth
> > --
> > Ruth M. Ripley,                         Email:ruth at stats.ox.ac.uk
> > Dept. of Statistics,                    http://www.stats.ox.ac.uk/~ruth/
> > University of Oxford,                   Tel:   01865 282851
> > 1 South Parks Road, Oxford OX1 3TG, UK  Fax:   01865 272595
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at stat.math.ethz.ch
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> David Winsemius, MD
> West Hartford, CT
>
>


From ian.fellows at stat.ucla.edu  Fri Mar 26 09:15:16 2010
From: ian.fellows at stat.ucla.edu (ian fellows)
Date: Fri, 26 Mar 2010 01:15:16 -0700
Subject: [R-SIG-Mac] R-app for naive users
In-Reply-To: <Pine.WNT.4.44.1003260107530.2068-100000@reeve>
References: <Pine.WNT.4.44.1003260107530.2068-100000@reeve>
Message-ID: <0AAAC3A7-0FCA-4EB9-AAA9-2942D74E01DA@stat.ucla.edu>

Ruth,

One option is to go with the platform independent JGR GUI. I've made  
some one-step installers, which are available at: http:// 
www.deducer.org/pmwiki/index.php?n=Main.DownloadingAndInstallingDeducer

The installers also install R, JGR and the Deducer package which you  
may (or may not) be interested in from a teaching perspective.


Cheers,
Ian




On Mar 25, 2010, at 6:30 PM, Ruth M. Ripley wrote:

> David,
>
> Many thanks for your helpful comments.
>
> I am still struggling to get consistent behavior from the Mac. For  
> myself
> I think I will stick to R in the terminal as that works more or less
> platform independently.
>
> For my students, I will just warn them not to expect the R.app to  
> work at
> all like the RGui which I demo. Since I do not really know which
> differences are features and which are likely to alter, I don't  
> think it
> worth my while reseaching and teaching many details.
>
> The cut and paste problem: I have a habit of wanting to alter and  
> rerun
> just one line of a pasted block. But that's probably just what has  
> been
> convenient for me up to now.
>
> As for libraries, I don't even know what a framework tree is yet. I  
> will
> have to find out...
>
> Regards,
>
> Ruth
>
> On Wed, 24 Mar 2010, David Winsemius wrote:
>
>>
>> On Mar 7, 2010, at 5:29 PM, Ruth M. Ripley wrote:
>>
>>> I have just begun to use a Mac after teaching R (with my students
>>> officially Windows users) for a while. It seems that the gui works
>>> differently from that on Windows. In particular, I quote from  
>>> Simon on
>>> r-sig-mac
>>>
>>> "this [q()] was never intended to work in the GUI because it  
>>> entirely
>>> bypasses the app quitting mechanism. You should never use q/quit in
>>> the GUI unless you
>>> really mean to exit R right away and discard everything (history,
>>> all open
>>> files, ...)"
>>>
>>> Please can you point me to some documentation that explains this and
>>> any
>>> other similar traps for the unwary fairly knowledgeable R user. My
>>> audience are very naive Mac users, e.g. they cannot possibly find
>>> hidden
>>> files as they do not know what a terminal is.
>>
>> I happen to think the use of Terminal.app is a basic skill needed by
>> all users. I have move it to the Dock. (I have been a Mac user on and
>> off for decades.)
>>
>> The other problem (which is not unlike some similar problems faced by
>> Windows users) is the "hidden" status of .Rprofile under the default
>> settings of Finder.app. I have gone with globally unhiding the dot-
>> files in Finder.app, although that may not be wise for total newbies.
>>
>> There is a Mac section of the Installation Manual and an R-Mac FAQ:
>>
>> http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html
>>
>> (It looks somewhat out of data, unfortunately. And it could use some
>> revisions since the 4.5.3 entry is intended to be the Edit menu
>> section. The menu items have slightly  different names, and on my
>> machine there is no Bioconductor menu item (although there is one  
>> in a
>> pulldown box inside a dialog). I did not see a Window menu item
>> description, and that is the menu I use most often.)
>>
>>
>>> I would like to be able to
>>> help them but am struggling myself. e.g. They may know what the
>>> switch on
>>> the toolbar means, but I do not.
>>
>> Mousing over GUI tool bar buttons brings up a brief description on my
>> machine.
>>
>>> I certainly would not guess that a button
>>> with a tooltip Quit R would not do the same as q().
>>>
>>> I also maintain an R package in which I work very hard to make
>>> everything
>>> platform independent. Is the Mac a special case? It is hard to  
>>> quit R
>>> without an option to save on either Linux or Windows.
>>
>> There are some who will undoubtedly tell you to stop using the GUI,
>> but I am a committed Mac-R-GUI user.
>>
>>>
>>> Other differences I have noted are 1) I cannot search in the help
>>> pages
>>> and
>>
>> That is a minor annoyance. I will either search out the same page  
>> with
>> RSiteSearch() and search with my web-browser, or select, copy, paste
>> to a Textedit.app window
>>
>>> 2) when I copy and paste from an example in a help page I have to do
>>> it line by line or I cannot adjust it line by line.
>>
>> a) I don't understand. I often copy-paste multiple lines from help
>> pages, and edit  before committing the changes with a <return>. You
>> can edit on multiple lines on the console.  Sometimes I need to  
>> add an
>> extra command and then using ";" is needed to act as a command
>> separator. I have on occasion had problems with help page examples  
>> not
>> pasting correctly that were solved by using example(),
>>
>> b) Copy, open R editing window, paste.
>>
>>> Workarounds for either
>>> would be very much appreciated.
>>
>> Graphics devices are different. Use capabilities() to see the
>> available devices. The default graphic device is quartz() (not  
>> Quartz)
>> and saving files from the GUI defaults (with no options) to pdf(). I
>> generally want tiff versions and I use Preview.app to open the pdf
>> files and save as tiff. (Yes, I know that I could make tiffs from the
>> R environment directly.)
>>
>> One gotcha is that the Quartz menu item does not shift focus to the
>> graphics window. I cannot tell you how many times I tried that before
>> finally learning that I need to use the choice off the Window menu.
>> And I now never use that menu since I have learned to use all the
>> corresponding keystrokes
>>
>> I have not yet figured out how to fix my broken R connection with my
>> Symbol font.
>>
>> Figuring out how to keep all my packages in the R.Framework tree  
>> was a
>> challenge, since I had managed to add the User/Library tree with the
>> Installer.   If you have done that you can consolidate by dragging  
>> the
>> User/Library copies to the correct position in the R.Framework tree
>> and using .libPaths() to remove the extra location.
>>
>> Sometimes linking out to pdf files from help pages will hang R. I try
>> to remember not to do that. The "Help topics matching ___" window
>> opened by "??" will sometimes get itself tied up in knots and fail to
>> open any selected help pages. Saving and restarting R is the only
>> action I have been able to get to succeed in that situation.
>>>
>>> Thanks,
>>>
>>> Ruth
>>> --
>>> Ruth M. Ripley,                         Email:ruth at stats.ox.ac.uk
>>> Dept. of Statistics,                    http://www.stats.ox.ac.uk/ 
>>> ~ruth/
>>> University of Oxford,                   Tel:   01865 282851
>>> 1 South Parks Road, Oxford OX1 3TG, UK  Fax:   01865 272595
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> David Winsemius, MD
>> West Hartford, CT
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Sat Mar 27 18:58:12 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 27 Mar 2010 13:58:12 -0400
Subject: [R-SIG-Mac] embed r in cpp with xcode
In-Reply-To: <SNT124-W2409BEB424D8CF28A4B100F5270@phx.gbl>
References: <SNT124-W2409BEB424D8CF28A4B100F5270@phx.gbl>
Message-ID: <CC85D257-261F-416F-B5CC-E03434A98229@r-project.org>

FWIW a good starting point is the stand-alone REngine
https://svn.r-project.org/R-packages/branches/stand-alone-REngine

I have added an Xcode project so it should be easy to get going. However, the main language in Mac OS X is Obj-C so it is left to the user to decide how to go forward - either use the REngine Obj-C API or call R directly from C/C++ after it has been initialized. It is also trivial to switch the test code to Obj-C++ if desired.

Cheers,
Simon


On Mar 22, 2010, at 4:00 PM, Mansour CHOUAHA wrote:

> 
> Hi, 
> Can anyone tell me how to embed R code in a C++ file. 
> 
> I am actually using a mac running on the OSX 10.6.2 and the IDE Xcode Version 3.2 and I would like to embed the basic function like geometric, binomial, normal and hyper geometric distributions in a sample cpp file. 
> 
> I heard about the library RInside and i have downloaded the source code for mac but i do not know how to build it in order to use it with my IDE XCode.
> 
> Could anyone help me step by step because I am new in programming to show me how to get this done? 
> 
> Thanks for your help. 
> 
> Mans. 
> ________ 		 	   		  
> _________________________________________________________________
> Hotmail: Free, trusted and rich email service.
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From a.beckerman at sheffield.ac.uk  Fri Mar 26 10:32:34 2010
From: a.beckerman at sheffield.ac.uk (Andrew Beckerman)
Date: Fri, 26 Mar 2010 09:32:34 +0000
Subject: [R-SIG-Mac] R-app for naive users
In-Reply-To: <0AAAC3A7-0FCA-4EB9-AAA9-2942D74E01DA@stat.ucla.edu>
References: <Pine.WNT.4.44.1003260107530.2068-100000@reeve>
	<0AAAC3A7-0FCA-4EB9-AAA9-2942D74E01DA@stat.ucla.edu>
Message-ID: <D7C6BBC0-AB0D-4017-9051-1EBB31F2C496@sheffield.ac.uk>

Ruth -

We teach R cross platform to undergraduates and post-graduates.  The instructors use macs and the students are stuck with PC's.  One of the ways we standardise the behaviour of the platforms is to require that students use a script.  We don't allow cut and paste, and we don't allow typing in the console.  In doing so, the students get into a good habit of creating the retrievable, repeatable, archived, shareable across platform, and annotated history of what they have done - even getting examples from the help files is integrated into a script for learning.

Of course, default scripting via the Windows installation is not as nice as the mac, which, depending on your skills is not as nice for some as using emacs or other unixy editors.  Regardless, the script makes things more standard. On both PC's and mac's, the File->New Script / Save Script etc works well.  

As for help files, we teach ?, ?? and help.start() as the core methods for examining help.  No matter what platform you are on, these work.  The students must understand what a package is, where they are stored and how to examine help files in them (and particularly when you can and cannot do it).  Again, teaching cross platform, rather than platform dependent features, goes a long way to establishing good practice - we find that students are quite computer literate and eventually find the platform independent tricks as they go along.

As for typing q() in the console of R.app on a mac, it seems to work just fine - like the unix installs, it asks whether you want to save the workspace image, and then quits.  apple(command)-Q works well too - like a mac application, and is sensitive to open scripts and consoles.

And if you do copy and paste examples into the console, then on the mac, you can, as I think someone earlier pointed out, simply use the mouse to go to the location you want to edit.  Yes, it is different than the PC.  Yes, it will run the block again.  But we aim to minimise these issues by not actually using them.

Finally, as the most recent post pointed out, there are cross-platform GUI - if you are committed to making the students interface with a GUI exactly the way you do, then a cross platform one is probably useful from a teaching perspective.

Hope this helps.
Andrew

++++++++++++++++++++++++++++++++++++
Dr. Andrew Beckerman
Department of Animal and Plant Sciences
University of Sheffield
Sheffield S10 2TN
UK

a.beckerman at sheffield.ac.uk
http://www.beckslab.staff.shef.ac.uk



On 26 Mar 2010, at 08:15, ian fellows wrote:

> Ruth,
> 
> One option is to go with the platform independent JGR GUI. I've made some one-step installers, which are available at: http://www.deducer.org/pmwiki/index.php?n=Main.DownloadingAndInstallingDeducer
> 
> The installers also install R, JGR and the Deducer package which you may (or may not) be interested in from a teaching perspective.
> 
> 
> Cheers,
> Ian
> 
> 
> 
> 
> On Mar 25, 2010, at 6:30 PM, Ruth M. Ripley wrote:
> 
>> David,
>> 
>> Many thanks for your helpful comments.
>> 
>> I am still struggling to get consistent behavior from the Mac. For myself
>> I think I will stick to R in the terminal as that works more or less
>> platform independently.
>> 
>> For my students, I will just warn them not to expect the R.app to work at
>> all like the RGui which I demo. Since I do not really know which
>> differences are features and which are likely to alter, I don't think it
>> worth my while reseaching and teaching many details.
>> 
>> The cut and paste problem: I have a habit of wanting to alter and rerun
>> just one line of a pasted block. But that's probably just what has been
>> convenient for me up to now.
>> 
>> As for libraries, I don't even know what a framework tree is yet. I will
>> have to find out...
>> 
>> Regards,
>> 
>> Ruth
>> 
>> On Wed, 24 Mar 2010, David Winsemius wrote:
>> 
>>> 
>>> On Mar 7, 2010, at 5:29 PM, Ruth M. Ripley wrote:
>>> 
>>>> I have just begun to use a Mac after teaching R (with my students
>>>> officially Windows users) for a while. It seems that the gui works
>>>> differently from that on Windows. In particular, I quote from Simon on
>>>> r-sig-mac
>>>> 
>>>> "this [q()] was never intended to work in the GUI because it entirely
>>>> bypasses the app quitting mechanism. You should never use q/quit in
>>>> the GUI unless you
>>>> really mean to exit R right away and discard everything (history,
>>>> all open
>>>> files, ...)"
>>>> 
>>>> Please can you point me to some documentation that explains this and
>>>> any
>>>> other similar traps for the unwary fairly knowledgeable R user. My
>>>> audience are very naive Mac users, e.g. they cannot possibly find
>>>> hidden
>>>> files as they do not know what a terminal is.
>>> 
>>> I happen to think the use of Terminal.app is a basic skill needed by
>>> all users. I have move it to the Dock. (I have been a Mac user on and
>>> off for decades.)
>>> 
>>> The other problem (which is not unlike some similar problems faced by
>>> Windows users) is the "hidden" status of .Rprofile under the default
>>> settings of Finder.app. I have gone with globally unhiding the dot-
>>> files in Finder.app, although that may not be wise for total newbies.
>>> 
>>> There is a Mac section of the Installation Manual and an R-Mac FAQ:
>>> 
>>> http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html
>>> 
>>> (It looks somewhat out of data, unfortunately. And it could use some
>>> revisions since the 4.5.3 entry is intended to be the Edit menu
>>> section. The menu items have slightly  different names, and on my
>>> machine there is no Bioconductor menu item (although there is one in a
>>> pulldown box inside a dialog). I did not see a Window menu item
>>> description, and that is the menu I use most often.)
>>> 
>>> 
>>>> I would like to be able to
>>>> help them but am struggling myself. e.g. They may know what the
>>>> switch on
>>>> the toolbar means, but I do not.
>>> 
>>> Mousing over GUI tool bar buttons brings up a brief description on my
>>> machine.
>>> 
>>>> I certainly would not guess that a button
>>>> with a tooltip Quit R would not do the same as q().
>>>> 
>>>> I also maintain an R package in which I work very hard to make
>>>> everything
>>>> platform independent. Is the Mac a special case? It is hard to quit R
>>>> without an option to save on either Linux or Windows.
>>> 
>>> There are some who will undoubtedly tell you to stop using the GUI,
>>> but I am a committed Mac-R-GUI user.
>>> 
>>>> 
>>>> Other differences I have noted are 1) I cannot search in the help
>>>> pages
>>>> and
>>> 
>>> That is a minor annoyance. I will either search out the same page with
>>> RSiteSearch() and search with my web-browser, or select, copy, paste
>>> to a Textedit.app window
>>> 
>>>> 2) when I copy and paste from an example in a help page I have to do
>>>> it line by line or I cannot adjust it line by line.
>>> 
>>> a) I don't understand. I often copy-paste multiple lines from help
>>> pages, and edit  before committing the changes with a <return>. You
>>> can edit on multiple lines on the console.  Sometimes I need to add an
>>> extra command and then using ";" is needed to act as a command
>>> separator. I have on occasion had problems with help page examples not
>>> pasting correctly that were solved by using example(),
>>> 
>>> b) Copy, open R editing window, paste.
>>> 
>>>> Workarounds for either
>>>> would be very much appreciated.
>>> 
>>> Graphics devices are different. Use capabilities() to see the
>>> available devices. The default graphic device is quartz() (not Quartz)
>>> and saving files from the GUI defaults (with no options) to pdf(). I
>>> generally want tiff versions and I use Preview.app to open the pdf
>>> files and save as tiff. (Yes, I know that I could make tiffs from the
>>> R environment directly.)
>>> 
>>> One gotcha is that the Quartz menu item does not shift focus to the
>>> graphics window. I cannot tell you how many times I tried that before
>>> finally learning that I need to use the choice off the Window menu.
>>> And I now never use that menu since I have learned to use all the
>>> corresponding keystrokes
>>> 
>>> I have not yet figured out how to fix my broken R connection with my
>>> Symbol font.
>>> 
>>> Figuring out how to keep all my packages in the R.Framework tree was a
>>> challenge, since I had managed to add the User/Library tree with the
>>> Installer.   If you have done that you can consolidate by dragging the
>>> User/Library copies to the correct position in the R.Framework tree
>>> and using .libPaths() to remove the extra location.
>>> 
>>> Sometimes linking out to pdf files from help pages will hang R. I try
>>> to remember not to do that. The "Help topics matching ___" window
>>> opened by "??" will sometimes get itself tied up in knots and fail to
>>> open any selected help pages. Saving and restarting R is the only
>>> action I have been able to get to succeed in that situation.
>>>> 
>>>> Thanks,
>>>> 
>>>> Ruth
>>>> --
>>>> Ruth M. Ripley,                         Email:ruth at stats.ox.ac.uk
>>>> Dept. of Statistics,                    http://www.stats.ox.ac.uk/~ruth/
>>>> University of Oxford,                   Tel:   01865 282851
>>>> 1 South Parks Road, Oxford OX1 3TG, UK  Fax:   01865 272595
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> David Winsemius, MD
>>> West Hartford, CT
>>> 
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From Devin.Johnson at noaa.gov  Mon Mar 29 22:45:03 2010
From: Devin.Johnson at noaa.gov (Devin Johnson)
Date: Mon, 29 Mar 2010 13:45:03 -0700
Subject: [R-SIG-Mac] package with fortran failing to install
Message-ID: <D25401D6-C0B6-43F8-B012-C255C534403A@noaa.gov>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100329/95ef3b82/attachment.pl>

From simon.urbanek at r-project.org  Mon Mar 29 23:18:21 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 29 Mar 2010 17:18:21 -0400
Subject: [R-SIG-Mac] package with fortran failing to install
In-Reply-To: <D25401D6-C0B6-43F8-B012-C255C534403A@noaa.gov>
References: <D25401D6-C0B6-43F8-B012-C255C534403A@noaa.gov>
Message-ID: <95DFE017-2DE9-40D4-B113-22A7B90EA040@r-project.org>


On Mar 29, 2010, at 16:45 , Devin Johnson wrote:

> Hi,
> I have a problem compiling/installing a package that has fortran  
> source code in it. I've compiled earlier versions of this package  
> many times in the past as I've worked on it, but, now it's failing  
> to install. I've recently go through an upgrade to snow leopard and  
> installation/migration of my home directory for networking purposes  
> at work (use AdmitMac with a domain account). I'm not sure which one  
> of these might be causing the issue. Everything was fine before  
> this. Here's the error:
>
> $ R CMD INSTALL crawl
>
> * installing to library ?/Users/johnsond/Library/R/?
> * installing *source* package ?crawl? ...
> ** libs
> ** arch - i386
> sh: make: command not found

Please see the FAQ - you don't even have Xcode installed.

Cheers,
Simon



> ERROR: compilation failed for package ?crawl?
> * removing ?/Users/johnsond/Library/R//crawl?
> * restoring previous ?/Users/johnsond/Library/R//crawl?
>
>
> Here's the gfortran version:
>
> $ gfortran --version
> GNU Fortran (GCC) 4.2.3
> Copyright (C) 2007 Free Software Foundation, Inc.
>
> GNU Fortran comes with NO WARRANTY, to the extent permitted by law.
> You may redistribute copies of GNU Fortran
> under the terms of the GNU General Public License.
> For more information about these matters, see the file named COPYING
>
> $ which gfortran
> /usr/local/bin/gfortran
>
> The package ("crawl") is currently on CRAN and when I download the  
> source, I get the same message. I've tried reinstalling R 2.10.1,  
> gfortran 2.4.3, and poking around where I could, but I'm at a loss  
> for what to check next. Any help would be greatly appreciated.
>
>
> ----------------------------------------------------------
> Devin S. Johnson, Ph.D.
> Statistician
> NOAA National Marine Mammal Laboratory
> 7600 Sand Point Way NE
> Seattle, WA 98115
> Phone: (206) 526-6867
> Fax: (206) 526-6115
> Email: devin.johnson at noaa.gov
> ----------------------------------------------------------
>
>
>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From kasperdanielhansen at gmail.com  Mon Mar 29 23:13:42 2010
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Mon, 29 Mar 2010 17:13:42 -0400
Subject: [R-SIG-Mac] package with fortran failing to install
In-Reply-To: <D25401D6-C0B6-43F8-B012-C255C534403A@noaa.gov>
References: <D25401D6-C0B6-43F8-B012-C255C534403A@noaa.gov>
Message-ID: <s2le780c0971003291413g44bd1709u4a1cf4e1dad72fbb@mail.gmail.com>

You need to install Xcode.

Kasper

On Mon, Mar 29, 2010 at 4:45 PM, Devin Johnson <Devin.Johnson at noaa.gov> wrote:
> Hi,
> I have a problem compiling/installing a package that has fortran source code in it. I've compiled earlier versions of this package many times in the past as I've worked on it, but, now it's failing to install. I've recently go through an upgrade to snow leopard and installation/migration of my home directory for networking purposes at work (use AdmitMac with a domain account). I'm not sure which one of these might be causing the issue. Everything was fine before this. Here's the error:
>
> $ R CMD INSTALL crawl
>
> * installing to library ?/Users/johnsond/Library/R/?
> * installing *source* package ?crawl? ...
> ** libs
> ** arch - i386
> sh: make: command not found
> ERROR: compilation failed for package ?crawl?
> * removing ?/Users/johnsond/Library/R//crawl?
> * restoring previous ?/Users/johnsond/Library/R//crawl?
>
>
> Here's the gfortran version:
>
> $ gfortran --version
> GNU Fortran (GCC) 4.2.3
> Copyright (C) 2007 Free Software Foundation, Inc.
>
> GNU Fortran comes with NO WARRANTY, to the extent permitted by law.
> You may redistribute copies of GNU Fortran
> under the terms of the GNU General Public License.
> For more information about these matters, see the file named COPYING
>
> $ which gfortran
> /usr/local/bin/gfortran
>
> The package ("crawl") is currently on CRAN and when I download the source, I get the same message. I've tried reinstalling R 2.10.1, gfortran 2.4.3, and poking around where I could, but I'm at a loss for what to check next. Any help would be greatly appreciated.
>
>
> ----------------------------------------------------------
> Devin S. Johnson, Ph.D.
> Statistician
> NOAA National Marine Mammal Laboratory
> 7600 Sand Point Way NE
> Seattle, WA 98115
> Phone: (206) 526-6867
> Fax: (206) 526-6115
> Email: devin.johnson at noaa.gov
> ----------------------------------------------------------
>
>
>
>
>
> ? ? ? ?[[alternative HTML version deleted]]
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From Devin.Johnson at noaa.gov  Mon Mar 29 23:30:46 2010
From: Devin.Johnson at noaa.gov (Devin Johnson)
Date: Mon, 29 Mar 2010 14:30:46 -0700
Subject: [R-SIG-Mac] package with fortran failing to install
In-Reply-To: <95DFE017-2DE9-40D4-B113-22A7B90EA040@r-project.org>
References: <D25401D6-C0B6-43F8-B012-C255C534403A@noaa.gov>
	<95DFE017-2DE9-40D4-B113-22A7B90EA040@r-project.org>
Message-ID: <A68A0FF3-2B4F-428B-931A-6C1A20B04DB5@noaa.gov>

Thanks for the quick replies, I had Xcode on before the upgrade to SL. I didn't think to reinstall.
--Devin


On Mar 29, 2010, at 2:18 PM, Simon Urbanek wrote:

> 
> On Mar 29, 2010, at 16:45 , Devin Johnson wrote:
> 
>> Hi,
>> I have a problem compiling/installing a package that has fortran source code in it. I've compiled earlier versions of this package many times in the past as I've worked on it, but, now it's failing to install. I've recently go through an upgrade to snow leopard and installation/migration of my home directory for networking purposes at work (use AdmitMac with a domain account). I'm not sure which one of these might be causing the issue. Everything was fine before this. Here's the error:
>> 
>> $ R CMD INSTALL crawl
>> 
>> * installing to library ?/Users/johnsond/Library/R/?
>> * installing *source* package ?crawl? ...
>> ** libs
>> ** arch - i386
>> sh: make: command not found
> 
> Please see the FAQ - you don't even have Xcode installed.
> 
> Cheers,
> Simon
> 
> 
> 
>> ERROR: compilation failed for package ?crawl?
>> * removing ?/Users/johnsond/Library/R//crawl?
>> * restoring previous ?/Users/johnsond/Library/R//crawl?
>> 
>> 
>> Here's the gfortran version:
>> 
>> $ gfortran --version
>> GNU Fortran (GCC) 4.2.3
>> Copyright (C) 2007 Free Software Foundation, Inc.
>> 
>> GNU Fortran comes with NO WARRANTY, to the extent permitted by law.
>> You may redistribute copies of GNU Fortran
>> under the terms of the GNU General Public License.
>> For more information about these matters, see the file named COPYING
>> 
>> $ which gfortran
>> /usr/local/bin/gfortran
>> 
>> The package ("crawl") is currently on CRAN and when I download the source, I get the same message. I've tried reinstalling R 2.10.1, gfortran 2.4.3, and poking around where I could, but I'm at a loss for what to check next. Any help would be greatly appreciated.
>> 
>> 
>> ----------------------------------------------------------
>> Devin S. Johnson, Ph.D.
>> Statistician
>> NOAA National Marine Mammal Laboratory
>> 7600 Sand Point Way NE
>> Seattle, WA 98115
>> Phone: (206) 526-6867
>> Fax: (206) 526-6115
>> Email: devin.johnson at noaa.gov
>> ----------------------------------------------------------
>> 
>> 
>> 
>> 
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 

----------------------------------------------------------
Devin S. Johnson, Ph.D.
Statistician
NOAA National Marine Mammal Laboratory
7600 Sand Point Way NE
Seattle, WA 98115
Phone: (206) 526-6867
Fax: (206) 526-6115
Email: devin.johnson at noaa.gov


From Devin.Johnson at noaa.gov  Tue Mar 30 00:08:14 2010
From: Devin.Johnson at noaa.gov (Devin Johnson)
Date: Mon, 29 Mar 2010 15:08:14 -0700
Subject: [R-SIG-Mac] package with fortran failing to install
In-Reply-To: <95DFE017-2DE9-40D4-B113-22A7B90EA040@r-project.org>
References: <D25401D6-C0B6-43F8-B012-C255C534403A@noaa.gov>
	<95DFE017-2DE9-40D4-B113-22A7B90EA040@r-project.org>
Message-ID: <6312411C-C6B4-4EC1-BE42-4443B1426A83@noaa.gov>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100329/83f5ee3d/attachment.pl>

From simon.urbanek at r-project.org  Tue Mar 30 00:18:22 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 29 Mar 2010 18:18:22 -0400
Subject: [R-SIG-Mac] package with fortran failing to install
In-Reply-To: <6312411C-C6B4-4EC1-BE42-4443B1426A83@noaa.gov>
References: <D25401D6-C0B6-43F8-B012-C255C534403A@noaa.gov>
	<95DFE017-2DE9-40D4-B113-22A7B90EA040@r-project.org>
	<6312411C-C6B4-4EC1-BE42-4443B1426A83@noaa.gov>
Message-ID: <987470FD-B302-42DF-900D-314F54F8A7AF@r-project.org>


On Mar 29, 2010, at 18:08 , Devin Johnson wrote:

> After installing Xcode again (3.2.1) I get the new error when  
> building from the source posted on CRAN
>
> $ R CMD INSTALL crawl_1.1-0.tar.gz
>
> * installing to library ?/Users/johnsond/Library/R/?
> * installing *source* package ?crawl? ...
> ** libs
> ** arch - i386
> gfortran-4.2 -arch i386  -fno-common -mtune=core2 -g -O2 -c   
> crwDriftN2ll.f90 -o crwDriftN2ll.o
> crwDriftN2ll.f90:0: error: bad value (core2) for -mtune= switch
> make: *** [crwDriftN2ll.o] Error 1
> ERROR: compilation failed for package ?crawl?
> * removing ?/Users/johnsond/Library/R//crawl?
> * restoring previous ?/Users/johnsond/Library/R//crawl?
>
> Is there something else that disappeared with my upgrade to SL? Or  
> is this now a gfortran problem?
>

The problem is still the same - you failing to read the docs! If you  
bothered to read the e-mails you'd know that you have to install Xcode  
3.2 (or 3.2.1) and the corresponding Fortran from
http://r.research.att.com/tools/

Cheers,
Simon


>
>
> On Mar 29, 2010, at 2:18 PM, Simon Urbanek wrote:
>
>>
>> On Mar 29, 2010, at 16:45 , Devin Johnson wrote:
>>
>>> Hi,
>>> I have a problem compiling/installing a package that has fortran  
>>> source code in it. I've compiled earlier versions of this package  
>>> many times in the past as I've worked on it, but, now it's failing  
>>> to install. I've recently go through an upgrade to snow leopard  
>>> and installation/migration of my home directory for networking  
>>> purposes at work (use AdmitMac with a domain account). I'm not  
>>> sure which one of these might be causing the issue. Everything was  
>>> fine before this. Here's the error:
>>>
>>> $ R CMD INSTALL crawl
>>>
>>> * installing to library ?/Users/johnsond/Library/R/?
>>> * installing *source* package ?crawl? ...
>>> ** libs
>>> ** arch - i386
>>> sh: make: command not found
>>
>> Please see the FAQ - you don't even have Xcode installed.
>>
>> Cheers,
>> Simon
>>
>>
>>
>>> ERROR: compilation failed for package ?crawl?
>>> * removing ?/Users/johnsond/Library/R//crawl?
>>> * restoring previous ?/Users/johnsond/Library/R//crawl?
>>>
>>>
>>> Here's the gfortran version:
>>>
>>> $ gfortran --version
>>> GNU Fortran (GCC) 4.2.3
>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>>
>>> GNU Fortran comes with NO WARRANTY, to the extent permitted by law.
>>> You may redistribute copies of GNU Fortran
>>> under the terms of the GNU General Public License.
>>> For more information about these matters, see the file named COPYING
>>>
>>> $ which gfortran
>>> /usr/local/bin/gfortran
>>>
>>> The package ("crawl") is currently on CRAN and when I download the  
>>> source, I get the same message. I've tried reinstalling R 2.10.1,  
>>> gfortran 2.4.3, and poking around where I could, but I'm at a loss  
>>> for what to check next. Any help would be greatly appreciated.
>>>
>>>
>>> ----------------------------------------------------------
>>> Devin S. Johnson, Ph.D.
>>> Statistician
>>> NOAA National Marine Mammal Laboratory
>>> 7600 Sand Point Way NE
>>> Seattle, WA 98115
>>> Phone: (206) 526-6867
>>> Fax: (206) 526-6115
>>> Email: devin.johnson at noaa.gov
>>> ----------------------------------------------------------
>>>
>>>
>>>
>>>
>>>
>>> 	[[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> ----------------------------------------------------------
> Devin S. Johnson, Ph.D.
> Statistician
> NOAA National Marine Mammal Laboratory
> 7600 Sand Point Way NE
> Seattle, WA 98115
> Phone: (206) 526-6867
> Fax: (206) 526-6115
> Email: devin.johnson at noaa.gov
> ----------------------------------------------------------
>
>
>
>


From Devin.Johnson at noaa.gov  Tue Mar 30 00:50:12 2010
From: Devin.Johnson at noaa.gov (Devin Johnson)
Date: Mon, 29 Mar 2010 15:50:12 -0700
Subject: [R-SIG-Mac] package with fortran failing to install
In-Reply-To: <987470FD-B302-42DF-900D-314F54F8A7AF@r-project.org>
References: <D25401D6-C0B6-43F8-B012-C255C534403A@noaa.gov>
	<95DFE017-2DE9-40D4-B113-22A7B90EA040@r-project.org>
	<6312411C-C6B4-4EC1-BE42-4443B1426A83@noaa.gov>
	<987470FD-B302-42DF-900D-314F54F8A7AF@r-project.org>
Message-ID: <9FD90D3E-6CE9-426C-9DB5-F9AEFA47CD7E@noaa.gov>

As you can see from the previous email I have installed Xcode 3.2.1 and from the first email, I've installed gfortran 4.2.3 from http://r.research.att.com/tools/. Is this not the corresponding gfortran?
-Devin

On Mar 29, 2010, at 3:18 PM, Simon Urbanek wrote:

> 
> On Mar 29, 2010, at 18:08 , Devin Johnson wrote:
> 
>> After installing Xcode again (3.2.1) I get the new error when building from the source posted on CRAN
>> 
>> $ R CMD INSTALL crawl_1.1-0.tar.gz
>> 
>> * installing to library ?/Users/johnsond/Library/R/?
>> * installing *source* package ?crawl? ...
>> ** libs
>> ** arch - i386
>> gfortran-4.2 -arch i386  -fno-common -mtune=core2 -g -O2 -c  crwDriftN2ll.f90 -o crwDriftN2ll.o
>> crwDriftN2ll.f90:0: error: bad value (core2) for -mtune= switch
>> make: *** [crwDriftN2ll.o] Error 1
>> ERROR: compilation failed for package ?crawl?
>> * removing ?/Users/johnsond/Library/R//crawl?
>> * restoring previous ?/Users/johnsond/Library/R//crawl?
>> 
>> Is there something else that disappeared with my upgrade to SL? Or is this now a gfortran problem?
>> 
> 
> The problem is still the same - you failing to read the docs! If you bothered to read the e-mails you'd know that you have to install Xcode 3.2 (or 3.2.1) and the corresponding Fortran from
> http://r.research.att.com/tools/
> 
> Cheers,
> Simon
> 
> 
>> 
>> 
>> On Mar 29, 2010, at 2:18 PM, Simon Urbanek wrote:
>> 
>>> 
>>> On Mar 29, 2010, at 16:45 , Devin Johnson wrote:
>>> 
>>>> Hi,
>>>> I have a problem compiling/installing a package that has fortran source code in it. I've compiled earlier versions of this package many times in the past as I've worked on it, but, now it's failing to install. I've recently go through an upgrade to snow leopard and installation/migration of my home directory for networking purposes at work (use AdmitMac with a domain account). I'm not sure which one of these might be causing the issue. Everything was fine before this. Here's the error:
>>>> 
>>>> $ R CMD INSTALL crawl
>>>> 
>>>> * installing to library ?/Users/johnsond/Library/R/?
>>>> * installing *source* package ?crawl? ...
>>>> ** libs
>>>> ** arch - i386
>>>> sh: make: command not found
>>> 
>>> Please see the FAQ - you don't even have Xcode installed.
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>> 
>>>> ERROR: compilation failed for package ?crawl?
>>>> * removing ?/Users/johnsond/Library/R//crawl?
>>>> * restoring previous ?/Users/johnsond/Library/R//crawl?
>>>> 
>>>> 
>>>> Here's the gfortran version:
>>>> 
>>>> $ gfortran --version
>>>> GNU Fortran (GCC) 4.2.3
>>>> Copyright (C) 2007 Free Software Foundation, Inc.
>>>> 
>>>> GNU Fortran comes with NO WARRANTY, to the extent permitted by law.
>>>> You may redistribute copies of GNU Fortran
>>>> under the terms of the GNU General Public License.
>>>> For more information about these matters, see the file named COPYING
>>>> 
>>>> $ which gfortran
>>>> /usr/local/bin/gfortran
>>>> 
>>>> The package ("crawl") is currently on CRAN and when I download the source, I get the same message. I've tried reinstalling R 2.10.1, gfortran 2.4.3, and poking around where I could, but I'm at a loss for what to check next. Any help would be greatly appreciated.
>>>> 
>>>> 
>>>> ----------------------------------------------------------
>>>> Devin S. Johnson, Ph.D.
>>>> Statistician
>>>> NOAA National Marine Mammal Laboratory
>>>> 7600 Sand Point Way NE
>>>> Seattle, WA 98115
>>>> Phone: (206) 526-6867
>>>> Fax: (206) 526-6115
>>>> Email: devin.johnson at noaa.gov
>>>> ----------------------------------------------------------
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 	[[alternative HTML version deleted]]
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> ----------------------------------------------------------
>> Devin S. Johnson, Ph.D.
>> Statistician
>> NOAA National Marine Mammal Laboratory
>> 7600 Sand Point Way NE
>> Seattle, WA 98115
>> Phone: (206) 526-6867
>> Fax: (206) 526-6115
>> Email: devin.johnson at noaa.gov
>> ----------------------------------------------------------
>> 
>> 
>> 
>> 
> 

----------------------------------------------------------
Devin S. Johnson, Ph.D.
Statistician
NOAA National Marine Mammal Laboratory
7600 Sand Point Way NE
Seattle, WA 98115
Phone: (206) 526-6867
Fax: (206) 526-6115
Email: devin.johnson at noaa.gov


From Roy.Mendelssohn at noaa.gov  Tue Mar 30 00:55:31 2010
From: Roy.Mendelssohn at noaa.gov (Roy Mendelssohn)
Date: Mon, 29 Mar 2010 15:55:31 -0700
Subject: [R-SIG-Mac] package with fortran failing to install
In-Reply-To: <9FD90D3E-6CE9-426C-9DB5-F9AEFA47CD7E@noaa.gov>
References: <D25401D6-C0B6-43F8-B012-C255C534403A@noaa.gov>
	<95DFE017-2DE9-40D4-B113-22A7B90EA040@r-project.org>
	<6312411C-C6B4-4EC1-BE42-4443B1426A83@noaa.gov>
	<987470FD-B302-42DF-900D-314F54F8A7AF@r-project.org>
	<9FD90D3E-6CE9-426C-9DB5-F9AEFA47CD7E@noaa.gov>
Message-ID: <982B88F6-FF10-4E8D-9222-DBD7887CA7FE@noaa.gov>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100329/9e08a6ab/attachment.pl>

From Devin.Johnson at noaa.gov  Tue Mar 30 00:59:36 2010
From: Devin.Johnson at noaa.gov (Devin Johnson)
Date: Mon, 29 Mar 2010 15:59:36 -0700
Subject: [R-SIG-Mac] package with fortran failing to install
In-Reply-To: <982B88F6-FF10-4E8D-9222-DBD7887CA7FE@noaa.gov>
References: <D25401D6-C0B6-43F8-B012-C255C534403A@noaa.gov>
	<95DFE017-2DE9-40D4-B113-22A7B90EA040@r-project.org>
	<6312411C-C6B4-4EC1-BE42-4443B1426A83@noaa.gov>
	<987470FD-B302-42DF-900D-314F54F8A7AF@r-project.org>
	<9FD90D3E-6CE9-426C-9DB5-F9AEFA47CD7E@noaa.gov>
	<982B88F6-FF10-4E8D-9222-DBD7887CA7FE@noaa.gov>
Message-ID: <12A4D2E8-132F-46A1-89A1-3819ED774365@noaa.gov>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100329/5b9d83f3/attachment.pl>

From cowan.pd at gmail.com  Wed Mar 31 02:57:14 2010
From: cowan.pd at gmail.com (Peter Cowan)
Date: Tue, 30 Mar 2010 17:57:14 -0700
Subject: [R-SIG-Mac] Nightly build gui framework mismatch
Message-ID: <e1fc21b1003301757u758270b0k50f381b81a00df39@mail.gmail.com>

Hi all,

I checked the archives and didn't see this come up, but I'm not
subscribed to the list so I apologize if this has been discussed.

I'm using OS X 10.6.3 on 64bit Intel.

I tried to download the nightly tarball and GUI and got an error
message saying "R cannot be opened because of a problem", the bug
report output is appended below.  It appears to be a mismatch where
the GUI is looking for R 2.11.0 (what I was hoping to install) yet the
latest tarball seems to install framework version 2.12.  I did not see
a 2.11 tarball for leopard available.   I also noticed that the most
recent nightly is from March 26.

Lastly, I'm trying to update to confirm that the behavior of
bug.report() in R.app (the gui).  This new function tries to open an
editor to fill out a bug report.  In the terminal this is vim, and
when I last tried it in R.app, it also tried to open vim which didn't
quite work.  It would be ideal if it would open the editor I set as
the default in R.app, but I understand this may require additional
complexity in the R function.

Cheers

Peter

Process:         R [371]
Path:            /Applications/R.app/Contents/MacOS/R
Identifier:      org.R-project.R
Version:         ??? (???)
Code Type:       X86-64 (Native)
Parent Process:  launchd [167]

Date/Time:       2010-03-30 17:44:33.740 -0700
OS Version:      Mac OS X 10.6.3 (10D573)
Report Version:  6

Interval Since Last Report:          965 sec
Crashes Since Last Report:           8
Per-App Crashes Since Last Report:   8
Anonymous UUID:                      0030AE26-A54B-4C12-BE92-F23AA5E8427A

Exception Type:  EXC_BREAKPOINT (SIGTRAP)
Exception Codes: 0x0000000000000002, 0x0000000000000000
Crashed Thread:  0

Dyld Error Message:
  Library not loaded:
/Library/Frameworks/R.framework/Versions/2.11/Resources/lib/libR.dylib
  Referenced from: /Applications/R.app/Contents/MacOS/R
  Reason: image not found


From ripley at stats.ox.ac.uk  Wed Mar 31 09:07:10 2010
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 31 Mar 2010 08:07:10 +0100 (BST)
Subject: [R-SIG-Mac] Nightly build gui framework mismatch
In-Reply-To: <e1fc21b1003301757u758270b0k50f381b81a00df39@mail.gmail.com>
References: <e1fc21b1003301757u758270b0k50f381b81a00df39@mail.gmail.com>
Message-ID: <alpine.LFD.2.00.1003310803310.5890@gannet.stats.ox.ac.uk>

Yes, there is currently no binary of 2.11.x on Simon's site.  But 
there are (it claims) binaries of R.app for 2.12.x, as well as 2.11.x 
and 2.10.x.

Given that we would like people to test 2.11.0 alpha this is 
unfortunate (but then the alpha snapshots have been broken several 
times over the past week, but those for the last couple of days do 
work).

You can always build from the sources.

On Tue, 30 Mar 2010, Peter Cowan wrote:

> Hi all,
>
> I checked the archives and didn't see this come up, but I'm not
> subscribed to the list so I apologize if this has been discussed.
>
> I'm using OS X 10.6.3 on 64bit Intel.
>
> I tried to download the nightly tarball and GUI and got an error
> message saying "R cannot be opened because of a problem", the bug
> report output is appended below.  It appears to be a mismatch where
> the GUI is looking for R 2.11.0 (what I was hoping to install) yet the
> latest tarball seems to install framework version 2.12.  I did not see
> a 2.11 tarball for leopard available.   I also noticed that the most
> recent nightly is from March 26.
>
> Lastly, I'm trying to update to confirm that the behavior of
> bug.report() in R.app (the gui).  This new function tries to open an
> editor to fill out a bug report.  In the terminal this is vim, and
> when I last tried it in R.app, it also tried to open vim which didn't
> quite work.  It would be ideal if it would open the editor I set as
> the default in R.app, but I understand this may require additional
> complexity in the R function.
>
> Cheers
>
> Peter
>
> Process:         R [371]
> Path:            /Applications/R.app/Contents/MacOS/R
> Identifier:      org.R-project.R
> Version:         ??? (???)
> Code Type:       X86-64 (Native)
> Parent Process:  launchd [167]
>
> Date/Time:       2010-03-30 17:44:33.740 -0700
> OS Version:      Mac OS X 10.6.3 (10D573)
> Report Version:  6
>
> Interval Since Last Report:          965 sec
> Crashes Since Last Report:           8
> Per-App Crashes Since Last Report:   8
> Anonymous UUID:                      0030AE26-A54B-4C12-BE92-F23AA5E8427A
>
> Exception Type:  EXC_BREAKPOINT (SIGTRAP)
> Exception Codes: 0x0000000000000002, 0x0000000000000000
> Crashed Thread:  0
>
> Dyld Error Message:
>  Library not loaded:
> /Library/Frameworks/R.framework/Versions/2.11/Resources/lib/libR.dylib
>  Referenced from: /Applications/R.app/Contents/MacOS/R
>  Reason: image not found
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Wed Mar 31 15:53:09 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 31 Mar 2010 09:53:09 -0400
Subject: [R-SIG-Mac] Nightly build gui framework mismatch
In-Reply-To: <alpine.LFD.2.00.1003310803310.5890@gannet.stats.ox.ac.uk>
References: <e1fc21b1003301757u758270b0k50f381b81a00df39@mail.gmail.com>
	<alpine.LFD.2.00.1003310803310.5890@gannet.stats.ox.ac.uk>
Message-ID: <D2A8565B-1371-4277-BC98-695785509C0F@r-project.org>


On Mar 31, 2010, at 3:07 , Prof Brian Ripley wrote:

> Yes, there is currently no binary of 2.11.x on Simon's site.  But  
> there are (it claims) binaries of R.app for 2.12.x, as well as  
> 2.11.x and 2.10.x.
>

The binary was built (hence the GUI had it) but it didn't make it to  
the web server.

Thanks,
Simon



> Given that we would like people to test 2.11.0 alpha this is  
> unfortunate (but then the alpha snapshots have been broken several  
> times over the past week, but those for the last couple of days do  
> work).
>



>
> You can always build from the sources.
>
> On Tue, 30 Mar 2010, Peter Cowan wrote:
>
>> Hi all,
>>
>> I checked the archives and didn't see this come up, but I'm not
>> subscribed to the list so I apologize if this has been discussed.
>>
>> I'm using OS X 10.6.3 on 64bit Intel.
>>
>> I tried to download the nightly tarball and GUI and got an error
>> message saying "R cannot be opened because of a problem", the bug
>> report output is appended below.  It appears to be a mismatch where
>> the GUI is looking for R 2.11.0 (what I was hoping to install) yet  
>> the
>> latest tarball seems to install framework version 2.12.  I did not  
>> see
>> a 2.11 tarball for leopard available.   I also noticed that the most
>> recent nightly is from March 26.
>>
>> Lastly, I'm trying to update to confirm that the behavior of
>> bug.report() in R.app (the gui).  This new function tries to open an
>> editor to fill out a bug report.  In the terminal this is vim, and
>> when I last tried it in R.app, it also tried to open vim which didn't
>> quite work.  It would be ideal if it would open the editor I set as
>> the default in R.app, but I understand this may require additional
>> complexity in the R function.
>>
>> Cheers
>>
>> Peter
>>
>> Process:         R [371]
>> Path:            /Applications/R.app/Contents/MacOS/R
>> Identifier:      org.R-project.R
>> Version:         ??? (???)
>> Code Type:       X86-64 (Native)
>> Parent Process:  launchd [167]
>>
>> Date/Time:       2010-03-30 17:44:33.740 -0700
>> OS Version:      Mac OS X 10.6.3 (10D573)
>> Report Version:  6
>>
>> Interval Since Last Report:          965 sec
>> Crashes Since Last Report:           8
>> Per-App Crashes Since Last Report:   8
>> Anonymous UUID:                      0030AE26-A54B-4C12-BE92- 
>> F23AA5E8427A
>>
>> Exception Type:  EXC_BREAKPOINT (SIGTRAP)
>> Exception Codes: 0x0000000000000002, 0x0000000000000000
>> Crashed Thread:  0
>>
>> Dyld Error Message:
>> Library not loaded:
>> /Library/Frameworks/R.framework/Versions/2.11/Resources/lib/ 
>> libR.dylib
>> Referenced from: /Applications/R.app/Contents/MacOS/R
>> Reason: image not found
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From batholdy at googlemail.com  Wed Mar 31 17:17:38 2010
From: batholdy at googlemail.com (Martin Batholdy)
Date: Wed, 31 Mar 2010 17:17:38 +0200
Subject: [R-SIG-Mac] feature request: paste and match style / open help
	files in external browser (R.app)
Message-ID: <4D2F9E30-F9AE-4F52-B8E0-9A0DEB18C0C1@googlemail.com>

Hi,

I really like the R application for mac OS X but there are two issues which often get in my way working with R:


the first;
When I copy code from for example a website or R help-file and want to paste it in my R-script the text gets pasted as rich text
which leads in most cases to different text size, font-family etc.

That is really annoying and currently I copy text first to an editor like TextMate and then into my R-script which is not really comfortable.
So a "copy and match style"-option or a default matching of pasted text to the documents defaults (like in TextMate) would be great.


the second;
I use the help-functions a lot to look up all the different arguments of a function.
What I would love is if it would be possible to open help-files in a different program (like Safari).
So that when I type ?par (or help("par")) my default web browser pops up and shows me the help-file.
That would give me the opportunity to easily search the help-file via CMD+F and to quickly switch between a help-file and a script.


hope that these features will be implemented some day.

From simon.urbanek at r-project.org  Wed Mar 31 17:31:46 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 31 Mar 2010 11:31:46 -0400
Subject: [R-SIG-Mac] feature request: paste and match style / open help
	files in external browser (R.app)
In-Reply-To: <4D2F9E30-F9AE-4F52-B8E0-9A0DEB18C0C1@googlemail.com>
References: <4D2F9E30-F9AE-4F52-B8E0-9A0DEB18C0C1@googlemail.com>
Message-ID: <EEF64A81-A006-4AC7-B704-515D3DD72566@r-project.org>


On Mar 31, 2010, at 11:17 , Martin Batholdy wrote:

> Hi,
>
> I really like the R application for mac OS X but there are two  
> issues which often get in my way working with R:
>
>
> the first;
> When I copy code from for example a website or R help-file and want  
> to paste it in my R-script the text gets pasted as rich text
> which leads in most cases to different text size, font-family etc.
>
> That is really annoying and currently I copy text first to an editor  
> like TextMate and then into my R-script which is not really  
> comfortable.
> So a "copy and match style"-option or a default matching of pasted  
> text to the documents defaults (like in TextMate) would be great.
>

Fair enough - I'll look into that.


> the second;
> I use the help-functions a lot to look up all the different  
> arguments of a function.
> What I would love is if it would be possible to open help-files in a  
> different program (like Safari).

It is - see NEWS and also
http://www.mail-archive.com/r-sig-mac at stat.math.ethz.ch/msg04700.html

Cheers,
Simon


> So that when I type ?par (or help("par")) my default web browser  
> pops up and shows me the help-file.
> That would give me the opportunity to easily search the help-file  
> via CMD+F and to quickly switch between a help-file and a script.
>



>
> hope that these features will be implemented some day.
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From michael.denslow at gmail.com  Wed Mar 31 19:09:55 2010
From: michael.denslow at gmail.com (Michael Denslow)
Date: Wed, 31 Mar 2010 13:09:55 -0400
Subject: [R-SIG-Mac] feature request: paste and match style / open help
	files in external browser (R.app)
In-Reply-To: <EEF64A81-A006-4AC7-B704-515D3DD72566@r-project.org>
References: <4D2F9E30-F9AE-4F52-B8E0-9A0DEB18C0C1@googlemail.com>
	<EEF64A81-A006-4AC7-B704-515D3DD72566@r-project.org>
Message-ID: <p2hb440a3f81003311009wa6a3a4ezf27e6092344e91b9@mail.gmail.com>

>> I really like the R application for mac OS X but there are two issues
>> which often get in my way working with R:
>>
>>
>> the first;
>> When I copy code from for example a website or R help-file and want to
>> paste it in my R-script the text gets pasted as rich text
>> which leads in most cases to different text size, font-family etc.
>>
>> That is really annoying and currently I copy text first to an editor like
>> TextMate and then into my R-script which is not really comfortable.
>> So a "copy and match style"-option or a default matching of pasted text to
>> the documents defaults (like in TextMate) would be great.
>>
>
> Fair enough - I'll look into that.
>
Thank you Simon!
I would second this request and have thought of asking about this myself.
Since I have found that the pasted text is usually smaller, I have
dealt with this by highlighting the text and pressing the 'command'
key and '+' a few times.

Thanks again,
Michael

-- 
Michael Denslow

I.W. Carpenter Jr. Herbarium [BOON]
Department of Biology
Appalachian State University
Boone, North Carolina U.S.A.
-- AND --
Communications Manager
Southeast Regional Network of Expertise and Collections
sernec.org

36.214177, -81.681480 +/- 3103 meters


