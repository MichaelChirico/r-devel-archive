From simon.urbanek at r-project.org  Tue Jan  7 03:11:59 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 6 Jan 2014 21:11:59 -0500
Subject: [R-SIG-Mac] R and Xcode 5
Message-ID: <B478B438-8DE3-487F-9FED-77077A3F0EA2@r-project.org>

FWIW the latest binaries from
http://r.research.att.com
contain a post-install script that will automatically switch to gcc/g++ so users planning to compile package from sources with Xcode 5 are encouraged to upgrade as to not have to mess with configuration files.

Cheers,
Simon


From Rainer at krugs.de  Tue Jan  7 09:41:42 2014
From: Rainer at krugs.de (Rainer M Krug)
Date: Tue, 07 Jan 2014 09:41:42 +0100
Subject: [R-SIG-Mac] R and Xcode 5
In-Reply-To: <B478B438-8DE3-487F-9FED-77077A3F0EA2@r-project.org>
References: <B478B438-8DE3-487F-9FED-77077A3F0EA2@r-project.org>
Message-ID: <52CBBDC6.2080105@krugs.de>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi Simon

I have problem acessing the site via a web browser (neither safari nor
firefox), altough I can ping it.

Is there an alternative site where I can download the binaries?

Thanks,

Rainer

On 01/07/14, 03:11 , Simon Urbanek wrote:
> FWIW the latest binaries from http://r.research.att.com contain a 
> post-install script that will automatically switch to gcc/g++ so 
> users planning to compile package from sources with Xcode 5 are 
> encouraged to upgrade as to not have to mess with configuration 
> files.


> 
> Cheers, Simon
> 
> _______________________________________________ R-SIG-Mac mailing 
> list R-SIG-Mac at r-project.org 
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 

- -- 
Rainer M. Krug, PhD (Conservation Ecology, SUN), MSc (Conservation
Biology, UCT), Dipl. Phys. (Germany)

Centre of Excellence for Invasion Biology
Stellenbosch University
South Africa

Tel :       +33 - (0)9 53 10 27 44
Cell:       +33 - (0)6 85 62 59 98
Fax :       +33 - (0)9 58 10 27 44

Fax (D):    +49 - (0)3 21 21 25 22 44

email:      Rainer at krugs.de

Skype:      RMkrug
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.22 (Darwin)
Comment: Using GnuPG with Thunderbird - http://www.enigmail.net/

iQEcBAEBAgAGBQJSy73GAAoJENvXNx4PUvmCw8YIAKq1YIW5qtdJuowSCKvZb3e2
G0vYXsL9TR7YGBjSWhF07GTZDNT8t11zwPI3+u2Zq8WatunJT66HLCHjMR8CmgZD
G+HDQBilnL1V9iyL/Z4oax7SuGc4mhNYAeTq4knWzamPs63uq5nixJWjQfrHS4on
5jDJqgmV5MAwgRiB83z8rpThQSTeJR6fYKPeJ2nw7ruE+if6aXfrxjWYl8HTjreR
VsYq5HH6CtP60gC+SB6w8nPjc4qML12bIXRNX8VrhFSNk+sqRtAKT11dIJUmC4ju
Vb6SsINhLbiaFuyM2kGahAOgQ+deVxow2Tb/4HrXMg4mbG9qF/cZY3USdGmoQmk=
=qK6z
-----END PGP SIGNATURE-----


From Rainer at krugs.de  Tue Jan  7 09:41:42 2014
From: Rainer at krugs.de (Rainer M Krug)
Date: Tue, 07 Jan 2014 09:41:42 +0100
Subject: [R-SIG-Mac] R and Xcode 5
In-Reply-To: <B478B438-8DE3-487F-9FED-77077A3F0EA2@r-project.org>
References: <B478B438-8DE3-487F-9FED-77077A3F0EA2@r-project.org>
Message-ID: <52CBBDC6.1080008@krugs.de>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi Simon

I have problem acessing the site via a web browser (neither safari nor
firefox), altough I can ping it.

Is there an alternative site where I can download the binaries?

Thanks,

Rainer

On 01/07/14, 03:11 , Simon Urbanek wrote:


- -- 
Rainer M. Krug, PhD (Conservation Ecology, SUN), MSc (Conservation
Biology, UCT), Dipl. Phys. (Germany)

Centre of Excellence for Invasion Biology
Stellenbosch University
South Africa

Tel :       +33 - (0)9 53 10 27 44
Cell:       +33 - (0)6 85 62 59 98
Fax :       +33 - (0)9 58 10 27 44

Fax (D):    +49 - (0)3 21 21 25 22 44

email:      Rainer at krugs.de

Skype:      RMkrug
-----BEGIN PGP SIGNATURE-----
Version: GnuPG/MacGPG2 v2.0.22 (Darwin)
Comment: Using GnuPG with Thunderbird - http://www.enigmail.net/

iQEcBAEBAgAGBQJSy729AAoJENvXNx4PUvmC+cUH/1mnc8duBJoD5MswG77quJJZ
KNXSNmxZdDrrq0Kb/xsH8EtR+wefBtArF8FqlroDIM488SXEmdEmmGlr6z8CGYkt
mQWHBAqXGpnZAVQQVnUMB4NAdIFOllOMvc0427JaIBKFZAFnhGOmZOxi9MnmIcBB
DY4+/8AOxpzglTI1ibVkkYExYSwG/OmgZCA6yP18YOYDLQ+3QSlLohPcgWJJXAtO
5FDBJMFvhgE9YU3WOY7oixTXyQOeo+7ZCdBv8ge2MBJBal43Z2wZaCZoG4K2rMAX
4IvWkChUyy16xlTUYfZwc/qH2u1zEmLEXeo3n22WIk3T7YR/U1mqGyvl00/OyGY=
=ByX2
-----END PGP SIGNATURE-----


From charbo24 at msu.edu  Sun Jan 12 02:16:58 2014
From: charbo24 at msu.edu (Amanda Charbonneau)
Date: Sat, 11 Jan 2014 20:16:58 -0500
Subject: [R-SIG-Mac] Segfault Error in GUI version of R
Message-ID: <733B2D8E-8D63-4C0A-B26B-AEA055E360F3@msu.edu>

Hi,

I have been experiencing a GUI bug for the last several weeks that I have just been able to identify as a reproducible error: Spelling and syntax mistakes that would normally result in an ?object foobar not found? or ?unexpected foo in bar? error message now result in an unrecoverable ?caught segfault? error. The segfault can be triggered regardless of dataset size, packages, and runtime. All segfaults seem to report the same memory address. However, no other programs are reporting memory errors, and I can make a dataset of arbitrary size and perform an infinite number of typo-free calculations on it without encountering an error. I also cannot reproduce the errors in the terminal using the same R installation with the same typo-commands.

Example:
> > taco <- c(1,2)
> > mean(taco)
> [1] 1.5
> > mean(tac)
> Error in mean(tac) : object 'tac' not found
> 
>  *** caught segfault ***
> address 0x7c0, cause 'memory not mapped'
> 
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
> Selection: 


I?m running:
R version 3.0.1 (2013-05-16) -- "Good Sport"
Copyright (C) 2013 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin10.8.0 (64-bit)
[R.app GUI 1.61 (6492) x86_64-apple-darwin10.8.0]

Crash report and Sessioninfo are attached. Any help/suggestions are appreciated. I don?t type accurately enough to run R without occasional typos, and it?s really making it difficult to work.

Amanda

Amanda Charbonneau
Graduate Student
Michigan State University
charbo24 at msu.edu













-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140111/1c8a8d19/attachment-0003.html>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Session_Info_R.txt
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140111/1c8a8d19/attachment-0002.txt>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140111/1c8a8d19/attachment-0004.html>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Rcrashreport.txt
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140111/1c8a8d19/attachment-0003.txt>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140111/1c8a8d19/attachment-0005.html>

From drabosky at umich.edu  Mon Jan  6 15:14:52 2014
From: drabosky at umich.edu (Dan Rabosky)
Date: Mon, 6 Jan 2014 09:14:52 -0500
Subject: [R-SIG-Mac] architecture problems for BUILD & SHLIB
Message-ID: <CEEDAED0-4160-4AC7-ACDB-057CE49B4F94@umich.edu>


Hi-

I am building a package that includes C code. When I try to compile the source files using SHLIB (or build the package using BUILD), it fails because it builds for the wrong architecture. Specifically, SHLIB and BUILD specify "-arch i386" by default on my machine. When I override and compile manually with "-arch x86_64", it is fine. I'm unsure how to deal with this problem. Where are the configuration files that SHLIB and BUILD are using that specify the compiler and the architecture? 

I'm using R v3.0.2 on OSX 10.7.5. 

Would this have anything to do with settings in /Library/Frameworks/R.framework/Versions/3.0/Resources/etc/Makeconf ? If so, I see nothing in there about i386: rather, -arch x86_64 is specified. 

Thanks in advance. Full error message below. I have the same issue if I just compile with SHLIB and try to load them (though it's fine if I compile with gcc -arch x86_64, then load the *.so files). 

I'd also love to know how to configure things so that SHLIB and BUILD call a particular compiler, and where I would add any path variables that need to be added for this to work.

~Dan Rabosky

R commands from bash:
R CMD BUILD testpackage
R CMD INSTALL testpackage_1.0.tar.gz

Then:

* installing to library ?/Library/Frameworks/R.framework/Versions/3.0/Resources/library?
* installing *source* package ?testpackage? ...
** libs
gcc-4.0 -arch i386 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/usr/local/include    -fPIC  -g -O2 -c dtrates.c -o dtrates.o
gcc-4.0 -arch i386 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/usr/local/include    -fPIC  -g -O2 -c treetraverse.c -o treetraverse.o
gcc-4.0 -arch i386 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -L/usr/local/lib -o testpackage.so dtrates.o treetraverse.o -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
ld: warning: in /Library/Frameworks/R.framework/R, file was built for unsupported file format which is not the architecture being linked (i386)
installing to /Library/Frameworks/R.framework/Versions/3.0/Resources/library/testpackage/libs
** R
** data
** preparing package for lazy loading
** help
*** installing help indices
** building package indices
** testing if installed package can be loaded
Error in dyn.load(file, DLLpath = DLLpath, ...) : 
  unable to load shared object '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/testpackage/libs/testpackage.so':
  dlopen(/Library/Frameworks/R.framework/Versions/3.0/Resources/library/testpackage/libs/testpackage.so, 6): no suitable image found.  Did find:
	/Library/Frameworks/R.framework/Versions/3.0/Resources/library/testpackage/libs/testpackage.so: mach-o, but wrong architecture
Error: loading failed
Execution halted
ERROR: loading failed
* removing ?/Library/Frameworks/R.framework/Versions/3.0/Resources/library/testpackage?
* restoring previous ?/Library/Frameworks/R.framework/Versions/3.0/Resources/library/testpackage?


 


From ripley at stats.ox.ac.uk  Mon Jan 13 09:28:32 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 13 Jan 2014 08:28:32 +0000
Subject: [R-SIG-Mac] Segfault Error in GUI version of R
In-Reply-To: <733B2D8E-8D63-4C0A-B26B-AEA055E360F3@msu.edu>
References: <733B2D8E-8D63-4C0A-B26B-AEA055E360F3@msu.edu>
Message-ID: <52D3A3B0.8020901@stats.ox.ac.uk>

The version of R.app you are using (built for OS X 10.6 before 10.9 was 
released) is not compatible with Mavericks (10.9): are you using that?

If so, please update your R to 3.0.2, or if you do not want to do that, 
update just R.app from r.research.att.com (which just now was serving me 
an empty page).

BTW, the 'bug' seems to be in OS X system calls in 10.9: we have merely 
worked around it.

On 12/01/2014 01:16, Amanda Charbonneau wrote:
> Hi,
>
> I have been experiencing a GUI bug for the last several weeks that I
> have just been able to identify as a reproducible error: Spelling and
> syntax mistakes that would normally result in an ?object foobar not
> found? or ?unexpected foo in bar? error message now result in an
> unrecoverable ?caught segfault? error. The segfault can be triggered
> regardless of dataset size, packages, and runtime. All segfaults seem to
> report the same memory address. However, no other programs are reporting
> memory errors, and I can make a dataset of arbitrary size and perform an
> infinite number of typo-free calculations on it without encountering an
> error. I also cannot reproduce the errors in the terminal using the same
> R installation with the same typo-commands.
>
> Example:
>
>>     > taco <- c(1,2)
>>     > mean(taco)
>>     [1] 1.5
>>     > mean(tac)
>>     Error in mean(tac) : object 'tac' not found
>>
>>      *** caught segfault ***
>>     address 0x7c0, cause 'memory not mapped'
>>
>>     Possible actions:
>>     1: abort (with core dump, if enabled)
>>     2: normal R exit
>>     3: exit R without saving workspace
>>     4: exit R saving workspace
>>     Selection:
>
>
> I?m running:
> R version 3.0.1 (2013-05-16) -- "Good Sport"
> Copyright (C) 2013 The R Foundation for Statistical Computing
> Platform: x86_64-apple-darwin10.8.0 (64-bit)
> [R.app GUI 1.61 (6492) x86_64-apple-darwin10.8.0]
>
> Crash report and Sessioninfo are attached. Any help/suggestions are
> appreciated. I don?t type accurately enough to run R without occasional
> typos, and it?s really making it difficult to work.
>
> Amanda
>
> Amanda Charbonneau
> Graduate Student
> Michigan State University
> charbo24 at msu.edu <mailto:charbo24 at msu.edu>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ripley at stats.ox.ac.uk  Mon Jan 13 09:40:05 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 13 Jan 2014 08:40:05 +0000
Subject: [R-SIG-Mac] architecture problems for BUILD & SHLIB
In-Reply-To: <CEEDAED0-4160-4AC7-ACDB-057CE49B4F94@umich.edu>
References: <CEEDAED0-4160-4AC7-ACDB-057CE49B4F94@umich.edu>
Message-ID: <52D3A665.3040103@stats.ox.ac.uk>

-arch i386 is not specified in R itself (and neither is gcc-4.0).  As a 
guess you have a personal Makevars file, either in the package sources 
or under ~/.R .  See 
http://cran.r-project.org/doc/manuals/r-release/R-admin.html#Customizing-package-compilation 
.

On 06/01/2014 14:14, Dan Rabosky wrote:
>
> Hi-
>
> I am building a package that includes C code. When I try to compile the source files using SHLIB (or build the package using BUILD), it fails because it builds for the wrong architecture. Specifically, SHLIB and BUILD specify "-arch i386" by default on my machine. When I override and compile manually with "-arch x86_64", it is fine. I'm unsure how to deal with this problem. Where are the configuration files that SHLIB and BUILD are using that specify the compiler and the architecture?
>
> I'm using R v3.0.2 on OSX 10.7.5.
>
> Would this have anything to do with settings in /Library/Frameworks/R.framework/Versions/3.0/Resources/etc/Makeconf ? If so, I see nothing in there about i386: rather, -arch x86_64 is specified.
>
> Thanks in advance. Full error message below. I have the same issue if I just compile with SHLIB and try to load them (though it's fine if I compile with gcc -arch x86_64, then load the *.so files).
>
> I'd also love to know how to configure things so that SHLIB and BUILD call a particular compiler, and where I would add any path variables that need to be added for this to work.

That is in the OS X section of the same manual, with examples.


> ~Dan Rabosky
>
> R commands from bash:
> R CMD BUILD testpackage
> R CMD INSTALL testpackage_1.0.tar.gz
>
> Then:
>
> * installing to library ?/Library/Frameworks/R.framework/Versions/3.0/Resources/library?
> * installing *source* package ?testpackage? ...
> ** libs
> gcc-4.0 -arch i386 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/usr/local/include    -fPIC  -g -O2 -c dtrates.c -o dtrates.o
> gcc-4.0 -arch i386 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG  -I/usr/local/include    -fPIC  -g -O2 -c treetraverse.c -o treetraverse.o
> gcc-4.0 -arch i386 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -L/usr/local/lib -o testpackage.so dtrates.o treetraverse.o -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
> ld: warning: in /Library/Frameworks/R.framework/R, file was built for unsupported file format which is not the architecture being linked (i386)
> installing to /Library/Frameworks/R.framework/Versions/3.0/Resources/library/testpackage/libs
> ** R
> ** data
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices
> ** testing if installed package can be loaded
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>    unable to load shared object '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/testpackage/libs/testpackage.so':
>    dlopen(/Library/Frameworks/R.framework/Versions/3.0/Resources/library/testpackage/libs/testpackage.so, 6): no suitable image found.  Did find:
> 	/Library/Frameworks/R.framework/Versions/3.0/Resources/library/testpackage/libs/testpackage.so: mach-o, but wrong architecture
> Error: loading failed
> Execution halted
> ERROR: loading failed
> * removing ?/Library/Frameworks/R.framework/Versions/3.0/Resources/library/testpackage?
> * restoring previous ?/Library/Frameworks/R.framework/Versions/3.0/Resources/library/testpackage?
>
>
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From goedman at icloud.com  Tue Jan 14 16:08:36 2014
From: goedman at icloud.com (Robert J Goedman)
Date: Tue, 14 Jan 2014 07:08:36 -0800
Subject: [R-SIG-Mac] [R] tcltk makes R crash under Mavericks
Message-ID: <15B6FCB3-AA35-4630-BCA1-E86642CBEEF6@icloud.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140114/ad5d8bdf/attachment.pl>

From claudia.tebaldi at gmail.com  Tue Jan 14 16:56:17 2014
From: claudia.tebaldi at gmail.com (Claudia Tebaldi)
Date: Tue, 14 Jan 2014 08:56:17 -0700
Subject: [R-SIG-Mac] [R] tcltk makes R crash under Mavericks
In-Reply-To: <15B6FCB3-AA35-4630-BCA1-E86642CBEEF6@icloud.com>
References: <15B6FCB3-AA35-4630-BCA1-E86642CBEEF6@icloud.com>
Message-ID: <CALTFHW-XB_vh=+FHRW9TnC_Ue5GM3U1rKRTv84n8BgnaToOMtw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140114/6f1cf3c5/attachment.pl>

From blair.christian at gmail.com  Wed Jan 15 13:02:27 2014
From: blair.christian at gmail.com (Blair Christian)
Date: Wed, 15 Jan 2014 07:02:27 -0500
Subject: [R-SIG-Mac] R ESS X11 issue possibly related to R tcltk crash under
	Mavericks...
Message-ID: <CAFT9XHy=Vth=xx4Pr88o831MM2XZz1kneSw00-wW6nmsyrbX+w@mail.gmail.com>

This is probably obvious to somebody with more knowledge than myself,
but I lost an hour or so to this problem.  This is description of an
odd Xquartz/R/ESS problem and resolution.  It's odd because what
seemed like an ESS problem was resolved by reinstalling Xquartz.
Hopefully it will help somebody else out.


Background:
I have installed R+ESS on 4 machines (2008-2013) running 10.8 and 10.9
in the last couple months, several of them identical on the software
side (matching versions of OS X (10.9.1), R (3.0.2), Emacs (24.3), ESS
(13.09) and Xquartz (2.7.5).  I just wiped a 2008 macbook air
yesterday, reinstalled R, ess, emacs for mac, Xquartz (all newest
versions- only difference was that I git cloned the dev version of
ESS) and observed the following behavior:


Problem:
When invoked from the terminal command line, R behaved "normally" when
invoking X11()/plot/capabilities().  However, when any of those
commands were issued in an ESS session in R/emacs, R would close
without invoking X11 (not segfault crash, just close gracefully, as if
I had issued q('yes')).  I started going back to previous versions of
ESS because R functioned normally from the command line and I had git
cloned the dev version of ESS (13.09-01) and thought that it was the
culprit, but that didn't work.


Resolution:
I spent some time searching, and ran across Claudia's post here on
r-sig-mac and couldn't tell if the problem I had was identical, but it
was related enough for me to give it a shot. I went to reinstall
Xquartz (2.7.5, fresh download) and afterwards the problem was
resolved.


Possibly Useful Notes/Confounding Issue:
On this old laptop (macbook air 2008/os x 10.9.1/1.86 GHz intel core 2
duo/2Gb ram) the reinstall of Xquartz would say "Install time
remaining: about one minute", but in reality there was a fontconfig
process (fc-cache) that took about 7-8 minutes to complete. Possibly
related to this Xquartz 2.7.5 fontconfig cache rebuild issue?
http://comments.gmane.org/gmane.os.apple.xquartz.devel/723


In previous attempts to reinstall Xquartz, I had killed the fc-cache
process after 4-6 minutes.  I read up on it some more and from the
command line viewed installed fonts
sudo /opt/X11/bin/fc-cache -v -s
and all installed fonts were valid, it just took a while and being
patient paid off.  So I have no idea if this fc-cache command is
causing me alone problems or if others are affected.

In a fit of desperation in the middle of the troubleshooting, I had
removed the font cache, so that confounded my description above.
sudo atsutil databases -remove
atsutil server -shutdown
atsutil server -ping

If anybody knows definitively if this was appropriate/inappropriate, I
would be interested in hearing about it.  Hopefully this helps
somebody else out.


From simon.urbanek at r-project.org  Wed Jan 15 20:04:35 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 15 Jan 2014 14:04:35 -0500
Subject: [R-SIG-Mac] R ESS X11 issue possibly related to R tcltk crash
	under Mavericks...
In-Reply-To: <CAFT9XHy=Vth=xx4Pr88o831MM2XZz1kneSw00-wW6nmsyrbX+w@mail.gmail.com>
References: <CAFT9XHy=Vth=xx4Pr88o831MM2XZz1kneSw00-wW6nmsyrbX+w@mail.gmail.com>
Message-ID: <FBAE8542-6F68-4ED8-93A9-EBFA234B5B85@r-project.org>

On Jan 15, 2014, at 7:02 AM, Blair Christian <blair.christian at gmail.com> wrote:

> This is probably obvious to somebody with more knowledge than myself,
> but I lost an hour or so to this problem.  This is description of an
> odd Xquartz/R/ESS problem and resolution.  It's odd because what
> seemed like an ESS problem was resolved by reinstalling Xquartz.
> Hopefully it will help somebody else out.
> 
> 
> Background:
> I have installed R+ESS on 4 machines (2008-2013) running 10.8 and 10.9
> in the last couple months, several of them identical on the software
> side (matching versions of OS X (10.9.1), R (3.0.2), Emacs (24.3), ESS
> (13.09) and Xquartz (2.7.5).  I just wiped a 2008 macbook air
> yesterday, reinstalled R, ess, emacs for mac, Xquartz (all newest
> versions- only difference was that I git cloned the dev version of
> ESS) and observed the following behavior:
> 
> 
> Problem:
> When invoked from the terminal command line, R behaved "normally" when
> invoking X11()/plot/capabilities().  However, when any of those
> commands were issued in an ESS session in R/emacs, R would close
> without invoking X11 (not segfault crash, just close gracefully, as if
> I had issued q('yes')).  I started going back to previous versions of
> ESS because R functioned normally from the command line and I had git
> cloned the dev version of ESS (13.09-01) and thought that it was the
> culprit, but that didn't work.
> 
> 
> Resolution:
> I spent some time searching, and ran across Claudia's post here on
> r-sig-mac and couldn't tell if the problem I had was identical, but it
> was related enough for me to give it a shot. I went to reinstall
> Xquartz (2.7.5, fresh download) and afterwards the problem was
> resolved.
> 
> 
> Possibly Useful Notes/Confounding Issue:
> On this old laptop (macbook air 2008/os x 10.9.1/1.86 GHz intel core 2
> duo/2Gb ram) the reinstall of Xquartz would say "Install time
> remaining: about one minute", but in reality there was a fontconfig
> process (fc-cache) that took about 7-8 minutes to complete. Possibly
> related to this Xquartz 2.7.5 fontconfig cache rebuild issue?
> http://comments.gmane.org/gmane.os.apple.xquartz.devel/723
> 
> 
> In previous attempts to reinstall Xquartz, I had killed the fc-cache
> process after 4-6 minutes.

That would do it ;). FC is necessary and you have to let it run through so it builds the font database - it doesn't work without it. It can take a while depending on the disk speed, machine, FS fragmentation etc. The lesson is to never interrupt an install process in the middle - not a good idea.

(BTW: the "about one minute" is simply a bad UI - Apple has no way of knowing how long it will take since the postflight script doesn't provide any way for tracking the progress).


>  I read up on it some more and from the
> command line viewed installed fonts
> sudo /opt/X11/bin/fc-cache -v -s
> and all installed fonts were valid, it just took a while and being
> patient paid off.  So I have no idea if this fc-cache command is
> causing me alone problems or if others are affected.
> 
> In a fit of desperation in the middle of the troubleshooting, I had
> removed the font cache, so that confounded my description above.
> sudo atsutil databases -remove
> atsutil server -shutdown
> atsutil server -ping
> 

That has nothing to do with the above. Here you're messing with ATS cache, which has nothing to do with fontconfig and its cache. ATS is the OS X native font handling while FC is the parallel world devised for other unix systems.

Cheers,
Simon



> If anybody knows definitively if this was appropriate/inappropriate, I
> would be interested in hearing about it.  Hopefully this helps
> somebody else out.
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From simon.urbanek at r-project.org  Sat Jan 18 16:25:08 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 18 Jan 2014 10:25:08 -0500
Subject: [R-SIG-Mac] [Rd] My first package
In-Reply-To: <CAAyVsXKQ+e_2xaZVNcTk3jm173KEKixai99FiSn9P1mB16AH0w@mail.gmail.com>
References: <CAAyVsXKQ+e_2xaZVNcTk3jm173KEKixai99FiSn9P1mB16AH0w@mail.gmail.com>
Message-ID: <7D1846C9-892A-4C9B-B7C3-4979DC557053@r-project.org>


On Jan 18, 2014, at 9:31 AM, Axel Urbiz <axel.urbiz at gmail.com> wrote:

> Hi All,
> 
> 
> I'm planning to submit my first package to R, and although I read all the
> documentation, I'm not very clear on the following 2 items, from which I'd
> appreciate your guidance:
> 
> 
> 1)I understand it is suggested to use the R dev version to build the
> package. Which one specifically should I use to build a package on a Mac
> OS? How about package dependencies, which version should I install on the R
> dev version (and where should I get them)?
> 

You can get latest R-devel builds for Mac OS X from

http://r.research.att.com

and the same is true for binary packages for R-devel - simply use http://r.research.att.com as the repository (in fact most CRAN mirrors should work as well).

Cheers,
Simon


> 2) Not sure if this one belongs to this list. Does licensing follow the
> logic of "inheritance" (i.e. if all the package dependencies of my package
> are "GPL-2 | GPL-3", does my package need to use the same license agreement?
> 
> 
> 
> Thanks!
> 
> Axel.
> 
> 	[[alternative HTML version deleted]]
> 
> ______________________________________________
> R-devel at r-project.org mailing list
> https://stat.ethz.ch/mailman/listinfo/r-devel
> 


From reijo.sund at helsinki.fi  Mon Jan 20 00:43:26 2014
From: reijo.sund at helsinki.fi (Reijo Sund)
Date: Mon, 20 Jan 2014 01:43:26 +0200
Subject: [R-SIG-Mac] Building backward compatible binary packages with OS X
	10.9 and Xcode 5.0?
Message-ID: <C6804F45-D7B2-4088-87F5-15B66A09609D@helsinki.fi>

Using the latest patched R 3.0.2 on Mac OS X Maverics (10.9.1) with Xcode 5.0.2 command line tools and clang set as a compiler, the following kind of C code somewhere in a package results in a dynamic link to symbol ___sincos_stret:

double sincos(double n) { return(sin(n)+cos(n)); }

It is obvious that ___sincos_stret is an LLVM optimization: if code calls sin(n) and then cos(n) and uses both results, the compiler will make one call to the structure-returning sincos method.

The actual problem is that such symbol is available in system library /usr/lib/system/libsystem_m.dylib only since Mavericks (10.9 SDK) and a package installed from binary (.tgz) compiled on 10.9 but run on 10.8 or older fails: Symbol not found: ___sincos_stret

One ?solution" is to make minor changes to the C code so that compiler won?t detect a need for optimization. A better solution is to use compiler flag -mmacosx-version-min=10.8. However, these solutions to a single concrete problem give only partial answers to the more general question:

How to (maximize the possibility to) create OS X 10.6+ (i.e. R 3.0.0+) compatible .tgz binary packages using a computer with OS X 10.9 and Xcode 5.0 (and without using CRAN or RForge building services)? 

Any tips would be appreciated.

Best wishes,
Reijo Sund


From simon.urbanek at r-project.org  Mon Jan 20 01:26:44 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 19 Jan 2014 19:26:44 -0500
Subject: [R-SIG-Mac] Building backward compatible binary packages with
	OS X 10.9 and Xcode 5.0?
In-Reply-To: <C6804F45-D7B2-4088-87F5-15B66A09609D@helsinki.fi>
References: <C6804F45-D7B2-4088-87F5-15B66A09609D@helsinki.fi>
Message-ID: <2BACE3B3-F502-4EA8-96C7-49F600022830@r-project.org>

On Jan 19, 2014, at 6:43 PM, Reijo Sund <reijo.sund at helsinki.fi> wrote:

> Using the latest patched R 3.0.2 on Mac OS X Maverics (10.9.1) with Xcode 5.0.2 command line tools and clang set as a compiler, the following kind of C code somewhere in a package results in a dynamic link to symbol ___sincos_stret:
> 
> double sincos(double n) { return(sin(n)+cos(n)); }
> 
> It is obvious that ___sincos_stret is an LLVM optimization: if code calls sin(n) and then cos(n) and uses both results, the compiler will make one call to the structure-returning sincos method.
> 
> The actual problem is that such symbol is available in system library /usr/lib/system/libsystem_m.dylib only since Mavericks (10.9 SDK) and a package installed from binary (.tgz) compiled on 10.9 but run on 10.8 or older fails: Symbol not found: ___sincos_stret
> 
> One ?solution" is to make minor changes to the C code so that compiler won?t detect a need for optimization. A better solution is to use compiler flag -mmacosx-version-min=10.8. However, these solutions to a single concrete problem give only partial answers to the more general question:
> 
> How to (maximize the possibility to) create OS X 10.6+ (i.e. R 3.0.0+) compatible .tgz binary packages using a computer with OS X 10.9 and Xcode 5.0 (and without using CRAN or RForge building services)? 
> 

Use the 10.6 SDK (e.g. via -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.6.sdk) and -mmacosx-version-min=10.6 flags for both linking and compilation.

Note, however, that 10.6 SDK is no longer supplied with Xcode 5, so you'll have to pick it from an older Xcode package.

BTW, the missing symbol is your least worry - the linker has changed since 10.8 so any binaries compiled for 10.8+ don't even load in 10.6. Using the SDKs can be problematic if you have dependent libraries, because most non-Mac tools don't know how to deal with SDKs and may pick some system library inadvertently. So if you're only concerned about your package then give it a shot and test it under 10.6 to see if it works. The most reliable way is still to run 10.6 VM in 10.9 if you want 100% guarantee.

Cheers,
Simon




> Any tips would be appreciated.
> 
> Best wishes,
> Reijo Sund
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From axel.urbiz at gmail.com  Sat Jan 18 15:31:19 2014
From: axel.urbiz at gmail.com (Axel Urbiz)
Date: Sat, 18 Jan 2014 15:31:19 +0100
Subject: [R-SIG-Mac] My first package
Message-ID: <CAAyVsXKQ+e_2xaZVNcTk3jm173KEKixai99FiSn9P1mB16AH0w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140118/5c7d77cf/attachment.pl>

From f.calboli at imperial.ac.uk  Mon Jan 20 10:31:45 2014
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Mon, 20 Jan 2014 09:31:45 +0000
Subject: [R-SIG-Mac] My first package
In-Reply-To: <CAAyVsXKQ+e_2xaZVNcTk3jm173KEKixai99FiSn9P1mB16AH0w@mail.gmail.com>
References: <CAAyVsXKQ+e_2xaZVNcTk3jm173KEKixai99FiSn9P1mB16AH0w@mail.gmail.com>
Message-ID: <515E0699-CBC1-4ABB-8418-6362E19B6018@imperial.ac.uk>

On 18 Jan 2014, at 14:31, Axel Urbiz <axel.urbiz at gmail.com> wrote:

> Hi All,
> 
> 
> I'm planning to submit my first package to R, and although I read all the
> documentation, I'm not very clear on the following 2 items, from which I'd
> appreciate your guidance:
> 
> 
> 1)I understand it is suggested to use the R dev version to build the
> package.

Is it?  this is news to me.  I have a grand total of 2 packages up and I never ever used R-devel, and never ever had a problem, had a report of a problem or had a note from CRAn about my packages not being ok because I built them with R-relase (or whatever it might be called) and not R-devel.

BW

F



> Which one specifically should I use to build a package on a Mac
> OS? How about package dependencies, which version should I install on the R
> dev version (and where should I get them)?
> 
> 
> 2) Not sure if this one belongs to this list. Does licensing follow the
> logic of "inheritance" (i.e. if all the package dependencies of my package
> are "GPL-2 | GPL-3", does my package need to use the same license agreement?
> 
> 
> 
> Thanks!
> 
> Axel.
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 881 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140120/6a594a23/attachment.bin>

From Matthew.Denwood at glasgow.ac.uk  Mon Jan 20 12:11:27 2014
From: Matthew.Denwood at glasgow.ac.uk (Matthew Denwood)
Date: Mon, 20 Jan 2014 11:11:27 +0000
Subject: [R-SIG-Mac] My first package
In-Reply-To: <515E0699-CBC1-4ABB-8418-6362E19B6018@imperial.ac.uk>
References: <CAAyVsXKQ+e_2xaZVNcTk3jm173KEKixai99FiSn9P1mB16AH0w@mail.gmail.com>
	<515E0699-CBC1-4ABB-8418-6362E19B6018@imperial.ac.uk>
Message-ID: <DAC6B174-4D9F-430C-952E-083B69514F7E@glasgow.ac.uk>

On 20 Jan 2014, at 09:31, Federico Calboli <f.calboli at imperial.ac.uk> wrote:

> On 18 Jan 2014, at 14:31, Axel Urbiz <axel.urbiz at gmail.com> wrote:
> 
>> Hi All,
>> 
>> 
>> I'm planning to submit my first package to R, and although I read all the
>> documentation, I'm not very clear on the following 2 items, from which I'd
>> appreciate your guidance:
>> 
>> 
>> 1)I understand it is suggested to use the R dev version to build the
>> package.
> 
> Is it?  this is news to me.  I have a grand total of 2 packages up and I never ever used R-devel, and never ever had a problem, had a report of a problem or had a note from CRAn about my packages not being ok because I built them with R-relase (or whatever it might be called) and not R-devel.
> 

I also build my packages on the release version of R, but I do always first upload to the frankly invaluable win-builder service at http://win-builder.r-project.org  - this is mainly to check compatibility/issues under Windows (of which there are frequently several), but also checks for problems against R-devel (of which I don't think I've ever had any).  It is also very worthwhile checking the check logs for the current versions of your package on CRAN, as there are often minor issues identified on other systems (particularly solaris).

Cheers,

Matt


> BW
> 
> F
> 
> 
> 
>> Which one specifically should I use to build a package on a Mac
>> OS? How about package dependencies, which version should I install on the R
>> dev version (and where should I get them)?
>> 
>> 
>> 2) Not sure if this one belongs to this list. Does licensing follow the
>> logic of "inheritance" (i.e. if all the package dependencies of my package
>> are "GPL-2 | GPL-3", does my package need to use the same license agreement?
>> 
>> 
>> 
>> Thanks!
>> 
>> Axel.
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> <signature.asc>_______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From f.calboli at imperial.ac.uk  Mon Jan 20 15:58:08 2014
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Mon, 20 Jan 2014 14:58:08 +0000
Subject: [R-SIG-Mac] [Rd]  My first package
In-Reply-To: <CABtg=KnXCX7U_csVMqrDoAg2TQ0q1DeUO_dFPqtef53Fkz1U_g@mail.gmail.com>
References: <CAAyVsXKQ+e_2xaZVNcTk3jm173KEKixai99FiSn9P1mB16AH0w@mail.gmail.com>
	<515E0699-CBC1-4ABB-8418-6362E19B6018@imperial.ac.uk>
	<CABtg=KnXCX7U_csVMqrDoAg2TQ0q1DeUO_dFPqtef53Fkz1U_g@mail.gmail.com>
Message-ID: <897E0F88-B101-4151-B3E0-819244023C79@imperial.ac.uk>


On 20 Jan 2014, at 14:51, G?bor Cs?rdi <csardi.gabor at gmail.com> wrote:

> On Mon, Jan 20, 2014 at 4:31 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
> [...]
> Is it?  this is news to me.  I have a grand total of 2 packages up and I never ever used R-devel, and never ever had a problem, had a report of a problem or had a note from CRAn about my packages not being ok because I built them with R-relase (or whatever it might be called) and not R-devel.
> 
> From the CRAN repository policy, that you also read and agreed to:

To be honest I have little time to read the byzantine requirements of the policies but
> 
> "Please ensure that R CMD check --as-cran has been run on the tarball to be uploaded before submission. This should be done with the current version of R-devel (or if that is not possible, current R-patched or the current release of R.)"

I do that *with the current release of R* and I never had an issue whatsoever.  Incidentally the words 'This should be done with the current version of R-devel (or if that is not possible, current R-patched or the current release of R' translate in plainspeak 'run R CMD check --as-cran with whatever version of R provided it's not outdated'. 

F



> 
> Gabor
> 
> [...]

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 881 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140120/3cbe29b4/attachment.bin>

From f.calboli at imperial.ac.uk  Mon Jan 20 16:34:14 2014
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Mon, 20 Jan 2014 15:34:14 +0000
Subject: [R-SIG-Mac] [Rd]  My first package
In-Reply-To: <CABtg=KnY1ykUY51UqN_U5_FWm0zQiUb+NgSpQobreYAhM-3xgw@mail.gmail.com>
References: <CAAyVsXKQ+e_2xaZVNcTk3jm173KEKixai99FiSn9P1mB16AH0w@mail.gmail.com>
	<515E0699-CBC1-4ABB-8418-6362E19B6018@imperial.ac.uk>
	<CABtg=KnXCX7U_csVMqrDoAg2TQ0q1DeUO_dFPqtef53Fkz1U_g@mail.gmail.com>
	<897E0F88-B101-4151-B3E0-819244023C79@imperial.ac.uk>
	<CABtg=KnY1ykUY51UqN_U5_FWm0zQiUb+NgSpQobreYAhM-3xgw@mail.gmail.com>
Message-ID: <9194C733-093B-4893-B327-50AEF4A725F6@imperial.ac.uk>


On 20 Jan 2014, at 15:15, G?bor Cs?rdi <csardi.gabor at gmail.com> wrote:

> On Mon, Jan 20, 2014 at 9:58 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
> [...]
> I do that *with the current release of R* and I never had an issue whatsoever.  Incidentally the words 'This should be done with the current version of R-devel (or if that is not possible, current R-patched or the current release of R' translate in plainspeak 'run R CMD check --as-cran with whatever version of R provided it's not outdated'.
> 
> That's an interesting "translation".

That's as interesting as the English language makes it -- please note of the expression 'should' as opposed to 'must', and the list of three options of R versions.

> Are you a CRAN maintainer?

I maintain two packages on CRAN, if that's what you're asking.

> 
> I guess you were just lucky so far. Most packages are small and not affected by changes between R-release and R-devel. But some of them are. 
> 
> Also, R-devel typically has more rigorous package checks than R-release.

Does it?  

> My package was delayed several times because it did not pass checks in R-devel (it did in R-release). I guess this happened to other packages as well, hence the sentence above was included in the policies.

I presume that the issue is this: some packages are written solely in R, hence, unless one uses a particular and outdated syntax, there are no differences between R-devel and and R-current, whereas packages that call C/C++/Fortran code are subject to the vagaries of compilers and operating systems, and using R-devel should help future proofing the package, while maintaing compatibility with R-current.

BW

F


> 
> Gabor

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 881 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140120/f4dc83f6/attachment.bin>

From simon.urbanek at r-project.org  Mon Jan 20 17:34:42 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 20 Jan 2014 11:34:42 -0500
Subject: [R-SIG-Mac] My first package
In-Reply-To: <515E0699-CBC1-4ABB-8418-6362E19B6018@imperial.ac.uk>
References: <CAAyVsXKQ+e_2xaZVNcTk3jm173KEKixai99FiSn9P1mB16AH0w@mail.gmail.com>
	<515E0699-CBC1-4ABB-8418-6362E19B6018@imperial.ac.uk>
Message-ID: <841C076A-CC5D-4F8C-93E0-CBF515C6B2E7@r-project.org>


On Jan 20, 2014, at 4:31 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:

> On 18 Jan 2014, at 14:31, Axel Urbiz <axel.urbiz at gmail.com> wrote:
> 
>> Hi All,
>> 
>> 
>> I'm planning to submit my first package to R, and although I read all the
>> documentation, I'm not very clear on the following 2 items, from which I'd
>> appreciate your guidance:
>> 
>> 
>> 1)I understand it is suggested to use the R dev version to build the
>> package.
> 
> Is it?

Yes


>  this is news to me.  I have a grand total of 2 packages up and I never ever used R-devel, and never ever had a problem, had a report of a problem or had a note from CRAn about my packages not being ok because I built them with R-relase (or whatever it might be called) and not R-devel.
> 

You got lucky so far ;). See earlier post - you're answering to an already answered thread.

Cheers,
Simon



> BW
> 
> F
> 
> 
> 
>> Which one specifically should I use to build a package on a Mac
>> OS? How about package dependencies, which version should I install on the R
>> dev version (and where should I get them)?
>> 
>> 
>> 2) Not sure if this one belongs to this list. Does licensing follow the
>> logic of "inheritance" (i.e. if all the package dependencies of my package
>> are "GPL-2 | GPL-3", does my package need to use the same license agreement?
>> 
>> 
>> 
>> Thanks!
>> 
>> Axel.
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Mon Jan 20 18:09:25 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 20 Jan 2014 12:09:25 -0500
Subject: [R-SIG-Mac] [Rd]  My first package
In-Reply-To: <9194C733-093B-4893-B327-50AEF4A725F6@imperial.ac.uk>
References: <CAAyVsXKQ+e_2xaZVNcTk3jm173KEKixai99FiSn9P1mB16AH0w@mail.gmail.com>
	<515E0699-CBC1-4ABB-8418-6362E19B6018@imperial.ac.uk>
	<CABtg=KnXCX7U_csVMqrDoAg2TQ0q1DeUO_dFPqtef53Fkz1U_g@mail.gmail.com>
	<897E0F88-B101-4151-B3E0-819244023C79@imperial.ac.uk>
	<CABtg=KnY1ykUY51UqN_U5_FWm0zQiUb+NgSpQobreYAhM-3xgw@mail.gmail.com>
	<9194C733-093B-4893-B327-50AEF4A725F6@imperial.ac.uk>
Message-ID: <6857B52E-6AC0-4825-AE12-912AFCE05908@r-project.org>


On Jan 20, 2014, at 10:34 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:

> 
> On 20 Jan 2014, at 15:15, G?bor Cs?rdi <csardi.gabor at gmail.com> wrote:
> 
>> On Mon, Jan 20, 2014 at 9:58 AM, Federico Calboli <f.calboli at imperial.ac.uk> wrote:
>> [...]
>> I do that *with the current release of R* and I never had an issue whatsoever.  Incidentally the words 'This should be done with the current version of R-devel (or if that is not possible, current R-patched or the current release of R' translate in plainspeak 'run R CMD check --as-cran with whatever version of R provided it's not outdated'.
>> 
>> That's an interesting "translation".
> 
> That's as interesting as the English language makes it -- please note of the expression 'should' as opposed to 'must', and the list of three options of R versions.
> 

Yes, in that order. Note also *if that is not possible*. The whole point is that the check on CRAN *will* be run against R-devel which is what you have to satisfy. By not using R-devel you're taking the chance of not passing some tests and creating extra work for the CRAN maintainers to give you the output that you could have gotten yourself and request fixes - that's why it says "should". Given the number of package submissions, the effect of people that choose to ignore the rules compounds and thus creates a significant preventable workload which the above rule attempts to minimize.


>> Are you a CRAN maintainer?
> 
> I maintain two packages on CRAN, if that's what you're asking.
> 
>> 
>> I guess you were just lucky so far. Most packages are small and not affected by changes between R-release and R-devel. But some of them are. 
>> 
>> Also, R-devel typically has more rigorous package checks than R-release.
> 
> Does it?  
> 

Yes, often.


>> My package was delayed several times because it did not pass checks in R-devel (it did in R-release). I guess this happened to other packages as well, hence the sentence above was included in the policies.
> 
> I presume that the issue is this: some packages are written solely in R, hence, unless one uses a particular and outdated syntax, there are no differences between R-devel and and R-current,

Wrong


> whereas packages that call C/C++/Fortran code are subject to the vagaries of compilers and operating systems, and using R-devel should help future proofing the package, while maintaing compatibility with R-current.
> 

You're asked to use R-devel and on OS X it's readily available including binary package dependencies.

Cheers,
Simon


From csardi.gabor at gmail.com  Mon Jan 20 15:51:59 2014
From: csardi.gabor at gmail.com (=?ISO-8859-1?B?R+Fib3IgQ3PhcmRp?=)
Date: Mon, 20 Jan 2014 09:51:59 -0500
Subject: [R-SIG-Mac] [Rd]  My first package
In-Reply-To: <515E0699-CBC1-4ABB-8418-6362E19B6018@imperial.ac.uk>
References: <CAAyVsXKQ+e_2xaZVNcTk3jm173KEKixai99FiSn9P1mB16AH0w@mail.gmail.com>
	<515E0699-CBC1-4ABB-8418-6362E19B6018@imperial.ac.uk>
Message-ID: <CABtg=KnXCX7U_csVMqrDoAg2TQ0q1DeUO_dFPqtef53Fkz1U_g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140120/9bfe5db4/attachment.pl>

From csardi.gabor at gmail.com  Mon Jan 20 16:15:57 2014
From: csardi.gabor at gmail.com (=?ISO-8859-1?B?R+Fib3IgQ3PhcmRp?=)
Date: Mon, 20 Jan 2014 10:15:57 -0500
Subject: [R-SIG-Mac] [Rd]  My first package
In-Reply-To: <897E0F88-B101-4151-B3E0-819244023C79@imperial.ac.uk>
References: <CAAyVsXKQ+e_2xaZVNcTk3jm173KEKixai99FiSn9P1mB16AH0w@mail.gmail.com>
	<515E0699-CBC1-4ABB-8418-6362E19B6018@imperial.ac.uk>
	<CABtg=KnXCX7U_csVMqrDoAg2TQ0q1DeUO_dFPqtef53Fkz1U_g@mail.gmail.com>
	<897E0F88-B101-4151-B3E0-819244023C79@imperial.ac.uk>
Message-ID: <CABtg=KnY1ykUY51UqN_U5_FWm0zQiUb+NgSpQobreYAhM-3xgw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140120/09fcc72f/attachment.pl>

From csardi.gabor at gmail.com  Mon Jan 20 16:49:31 2014
From: csardi.gabor at gmail.com (=?ISO-8859-1?B?R+Fib3IgQ3PhcmRp?=)
Date: Mon, 20 Jan 2014 10:49:31 -0500
Subject: [R-SIG-Mac] [Rd]  My first package
In-Reply-To: <9194C733-093B-4893-B327-50AEF4A725F6@imperial.ac.uk>
References: <CAAyVsXKQ+e_2xaZVNcTk3jm173KEKixai99FiSn9P1mB16AH0w@mail.gmail.com>
	<515E0699-CBC1-4ABB-8418-6362E19B6018@imperial.ac.uk>
	<CABtg=KnXCX7U_csVMqrDoAg2TQ0q1DeUO_dFPqtef53Fkz1U_g@mail.gmail.com>
	<897E0F88-B101-4151-B3E0-819244023C79@imperial.ac.uk>
	<CABtg=KnY1ykUY51UqN_U5_FWm0zQiUb+NgSpQobreYAhM-3xgw@mail.gmail.com>
	<9194C733-093B-4893-B327-50AEF4A725F6@imperial.ac.uk>
Message-ID: <CABtg=KkYEn5Yf2Vq9DP77_CPL1Ke_MzGpzy-UTT1+mn-cqpm-g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140120/be0bd1d3/attachment.pl>

From m.denwood at vet.gla.ac.uk  Mon Jan 20 12:13:54 2014
From: m.denwood at vet.gla.ac.uk (Matthew Denwood)
Date: Mon, 20 Jan 2014 11:13:54 +0000
Subject: [R-SIG-Mac] My first package
In-Reply-To: <515E0699-CBC1-4ABB-8418-6362E19B6018@imperial.ac.uk>
References: <CAAyVsXKQ+e_2xaZVNcTk3jm173KEKixai99FiSn9P1mB16AH0w@mail.gmail.com>
	<515E0699-CBC1-4ABB-8418-6362E19B6018@imperial.ac.uk>
Message-ID: <BF6F881A-4424-4C9B-B425-C5F738CD7850@vet.gla.ac.uk>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140120/eda97bd8/attachment.pl>

From cstanley at cstanley.no-ip.biz  Wed Jan 22 18:35:53 2014
From: cstanley at cstanley.no-ip.biz (Clayton Stanley)
Date: Wed, 22 Jan 2014 11:35:53 -0600
Subject: [R-SIG-Mac] Inaccurate Rprof() timings on a darwin machine running
	SL w/ 64-bit kernel
Message-ID: <CAFzdDH88eHJy=n5CY_aQAM7prM774QAPcOFVk2RcNcArL_x6mA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140122/3c2d6fce/attachment.pl>

From reijo.sund at helsinki.fi  Fri Jan 24 00:09:25 2014
From: reijo.sund at helsinki.fi (Reijo Sund)
Date: Fri, 24 Jan 2014 01:09:25 +0200
Subject: [R-SIG-Mac] Shortcut for launching command line R?
Message-ID: <3B7AD0DE-712D-4E0F-AC56-42E34475673A@helsinki.fi>

There have recently been some problems while running packages using Tcl/Tk with R.app GUI under Mac Os X Mavericks (10.9). It is also well known that it is not a good idea to work with R.app and a custom builded R that uses the Aqua version of Tcl/Tk.

Simple solution for these problems is to use command line R (i.e. R in terminal window) instead of R.app GUI. Although it is not particularly difficult to launch terminal application and then R from the prompt, it would be nice to have an icon on the dock to launch the command line R with one click.

After some experiencing with AppleScript, I ended up with the following script. There was a need for some ?fine tuning? to deal with problems of Terminal app scripting without manually changing preferences of Terminal app (problems include that in certain cases more than two windows are created instead of one and that it is not trivial to close (only) the correct window after quitting R under the default settings of terminal).

-----------------

property commandString : "R --no-save --no-restore; screen osascript -e 'tell application \"Terminal\" to close (every window whose name contains \"Survo R\")'; exit 0"

tell application "System Events"
	if (count (processes whose name is "Terminal")) is 0 then
		tell application "Terminal"
			activate
			do script commandString in window 1
			
			tell window 1
				set custom title of first tab to "Survo R"
			end tell
		end tell
	else
		tell application "Terminal"
			activate
			do script commandString
			set currWin to index of first window
			
			tell window currWin
				set custom title of first tab to "Survo R"
			end tell
		end tell
	end if
end tell

-----------------

The script can be run in AppleScript editor (located in /Applications/Utilities/AppleScript Editor), but for the actual use it is useful to File->Export it to Application. Created app works just like any other Mac OS X application and you can drag it to the dock to get the functionality to launch command line R with one click.

It is certainly unnecessarily complicated for novice users to create the app themselves, so the distribution of the final app (instead of the script) would probably be a more reasonable idea. It is also likely that there are better, safer and more portable ways to provide such a functionality (across Mac OS X versions), but at least the basic idea can be tested with the script above.

So, finally, my question is: Would it be a possible and maybe even a good idea to include this kind of Rterm shortcut app functionality to the R binary for Mac OS X distribution or to make it available from some of the official R Mac OS X pages?

Best wishes,
Reijo Sund


From simon.urbanek at r-project.org  Fri Jan 24 02:56:06 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 23 Jan 2014 20:56:06 -0500
Subject: [R-SIG-Mac] Shortcut for launching command line R?
In-Reply-To: <3B7AD0DE-712D-4E0F-AC56-42E34475673A@helsinki.fi>
References: <3B7AD0DE-712D-4E0F-AC56-42E34475673A@helsinki.fi>
Message-ID: <ED0ED8C0-4A2A-4A53-AA0B-FD5821A78A29@r-project.org>

That seems a bit convoluted to me. For a clickable document you can simply create R.command containing single line
R

If you want an app, just open the Automator, pick Application type, select "Run Shell Script" with single line
open -a Terminal /usr/bin/R

Cheers,
Simon


On Jan 23, 2014, at 6:09 PM, Reijo Sund <reijo.sund at helsinki.fi> wrote:

> There have recently been some problems while running packages using Tcl/Tk with R.app GUI under Mac Os X Mavericks (10.9). It is also well known that it is not a good idea to work with R.app and a custom builded R that uses the Aqua version of Tcl/Tk.
> 
> Simple solution for these problems is to use command line R (i.e. R in terminal window) instead of R.app GUI. Although it is not particularly difficult to launch terminal application and then R from the prompt, it would be nice to have an icon on the dock to launch the command line R with one click.
> 
> After some experiencing with AppleScript, I ended up with the following script. There was a need for some ?fine tuning? to deal with problems of Terminal app scripting without manually changing preferences of Terminal app (problems include that in certain cases more than two windows are created instead of one and that it is not trivial to close (only) the correct window after quitting R under the default settings of terminal).
> 
> -----------------
> 
> property commandString : "R --no-save --no-restore; screen osascript -e 'tell application \"Terminal\" to close (every window whose name contains \"Survo R\")'; exit 0"
> 
> tell application "System Events"
> 	if (count (processes whose name is "Terminal")) is 0 then
> 		tell application "Terminal"
> 			activate
> 			do script commandString in window 1
> 			
> 			tell window 1
> 				set custom title of first tab to "Survo R"
> 			end tell
> 		end tell
> 	else
> 		tell application "Terminal"
> 			activate
> 			do script commandString
> 			set currWin to index of first window
> 			
> 			tell window currWin
> 				set custom title of first tab to "Survo R"
> 			end tell
> 		end tell
> 	end if
> end tell
> 
> -----------------
> 
> The script can be run in AppleScript editor (located in /Applications/Utilities/AppleScript Editor), but for the actual use it is useful to File->Export it to Application. Created app works just like any other Mac OS X application and you can drag it to the dock to get the functionality to launch command line R with one click.
> 
> It is certainly unnecessarily complicated for novice users to create the app themselves, so the distribution of the final app (instead of the script) would probably be a more reasonable idea. It is also likely that there are better, safer and more portable ways to provide such a functionality (across Mac OS X versions), but at least the basic idea can be tested with the script above.
> 
> So, finally, my question is: Would it be a possible and maybe even a good idea to include this kind of Rterm shortcut app functionality to the R binary for Mac OS X distribution or to make it available from some of the official R Mac OS X pages?
> 
> Best wishes,
> Reijo Sund
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From deriso at gmail.com  Fri Jan 24 03:40:49 2014
From: deriso at gmail.com (Dave Deriso)
Date: Thu, 23 Jan 2014 18:40:49 -0800
Subject: [R-SIG-Mac] Shortcut for launching command line R?
In-Reply-To: <ED0ED8C0-4A2A-4A53-AA0B-FD5821A78A29@r-project.org>
References: <3B7AD0DE-712D-4E0F-AC56-42E34475673A@helsinki.fi>
	<ED0ED8C0-4A2A-4A53-AA0B-FD5821A78A29@r-project.org>
Message-ID: <CALn_Mmr6KWZpJEmP-Pq7fxHZay7d5OoSprNVZ=N+y=0jFYsgwQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140123/dcaf3642/attachment.pl>

From simon.urbanek at r-project.org  Fri Jan 24 04:41:46 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 23 Jan 2014 22:41:46 -0500
Subject: [R-SIG-Mac] Shortcut for launching command line R?
In-Reply-To: <CALn_Mmr6KWZpJEmP-Pq7fxHZay7d5OoSprNVZ=N+y=0jFYsgwQ@mail.gmail.com>
References: <3B7AD0DE-712D-4E0F-AC56-42E34475673A@helsinki.fi>
	<ED0ED8C0-4A2A-4A53-AA0B-FD5821A78A29@r-project.org>
	<CALn_Mmr6KWZpJEmP-Pq7fxHZay7d5OoSprNVZ=N+y=0jFYsgwQ@mail.gmail.com>
Message-ID: <D2A59F11-FAA5-41C5-8420-A039B1EAA6A7@r-project.org>


On Jan 23, 2014, at 9:40 PM, Dave Deriso <deriso at gmail.com> wrote:

> for OSX just add this to your ~/.bash_profile  alias r=?/Library/Frameworks/R.framework/Resources/R?  ...open terminal and type r 
> 
> bam!
> 

Well, in Terminal you don't need any alias - just type R

But that was not Reijo's question ... he didn't want to start Terminal manually ...


> On Thu, Jan 23, 2014 at 5:56 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> That seems a bit convoluted to me. For a clickable document you can simply create R.command containing single line
> R
> 
> If you want an app, just open the Automator, pick Application type, select "Run Shell Script" with single line
> open -a Terminal /usr/bin/R
> 
> Cheers,
> Simon
> 
> 
> On Jan 23, 2014, at 6:09 PM, Reijo Sund <reijo.sund at helsinki.fi> wrote:
> 
> > There have recently been some problems while running packages using Tcl/Tk with R.app GUI under Mac Os X Mavericks (10.9). It is also well known that it is not a good idea to work with R.app and a custom builded R that uses the Aqua version of Tcl/Tk.
> >
> > Simple solution for these problems is to use command line R (i.e. R in terminal window) instead of R.app GUI. Although it is not particularly difficult to launch terminal application and then R from the prompt, it would be nice to have an icon on the dock to launch the command line R with one click.
> >
> > After some experiencing with AppleScript, I ended up with the following script. There was a need for some ?fine tuning? to deal with problems of Terminal app scripting without manually changing preferences of Terminal app (problems include that in certain cases more than two windows are created instead of one and that it is not trivial to close (only) the correct window after quitting R under the default settings of terminal).
> >
> > -----------------
> >
> > property commandString : "R --no-save --no-restore; screen osascript -e 'tell application \"Terminal\" to close (every window whose name contains \"Survo R\")'; exit 0"
> >
> > tell application "System Events"
> >       if (count (processes whose name is "Terminal")) is 0 then
> >               tell application "Terminal"
> >                       activate
> >                       do script commandString in window 1
> >
> >                       tell window 1
> >                               set custom title of first tab to "Survo R"
> >                       end tell
> >               end tell
> >       else
> >               tell application "Terminal"
> >                       activate
> >                       do script commandString
> >                       set currWin to index of first window
> >
> >                       tell window currWin
> >                               set custom title of first tab to "Survo R"
> >                       end tell
> >               end tell
> >       end if
> > end tell
> >
> > -----------------
> >
> > The script can be run in AppleScript editor (located in /Applications/Utilities/AppleScript Editor), but for the actual use it is useful to File->Export it to Application. Created app works just like any other Mac OS X application and you can drag it to the dock to get the functionality to launch command line R with one click.
> >
> > It is certainly unnecessarily complicated for novice users to create the app themselves, so the distribution of the final app (instead of the script) would probably be a more reasonable idea. It is also likely that there are better, safer and more portable ways to provide such a functionality (across Mac OS X versions), but at least the basic idea can be tested with the script above.
> >
> > So, finally, my question is: Would it be a possible and maybe even a good idea to include this kind of Rterm shortcut app functionality to the R binary for Mac OS X distribution or to make it available from some of the official R Mac OS X pages?
> >
> > Best wishes,
> > Reijo Sund
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From goedman at icloud.com  Fri Jan 24 04:50:56 2014
From: goedman at icloud.com (Robert J Goedman)
Date: Thu, 23 Jan 2014 19:50:56 -0800
Subject: [R-SIG-Mac] Shortcut for launching command line R?
In-Reply-To: <D2A59F11-FAA5-41C5-8420-A039B1EAA6A7@r-project.org>
References: <3B7AD0DE-712D-4E0F-AC56-42E34475673A@helsinki.fi>
	<ED0ED8C0-4A2A-4A53-AA0B-FD5821A78A29@r-project.org>
	<CALn_Mmr6KWZpJEmP-Pq7fxHZay7d5OoSprNVZ=N+y=0jFYsgwQ@mail.gmail.com>
	<D2A59F11-FAA5-41C5-8420-A039B1EAA6A7@r-project.org>
Message-ID: <971EDE98-D46B-4B5C-979C-295EF5136B11@icloud.com>

It would be nice if Reijo's approach would provide basic AppleScripting, primarily to handle scripting in a Terminal from TextMate, etc.

Regards,
Rob

Sent from my iPhone

> On Jan 23, 2014, at 7:41 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
> 
>> On Jan 23, 2014, at 9:40 PM, Dave Deriso <deriso at gmail.com> wrote:
>> 
>> for OSX just add this to your ~/.bash_profile  alias r=?/Library/Frameworks/R.framework/Resources/R?  ...open terminal and type r 
>> 
>> bam!
> 
> Well, in Terminal you don't need any alias - just type R
> 
> But that was not Reijo's question ... he didn't want to start Terminal manually ...
> 
> 
>> On Thu, Jan 23, 2014 at 5:56 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> That seems a bit convoluted to me. For a clickable document you can simply create R.command containing single line
>> R
>> 
>> If you want an app, just open the Automator, pick Application type, select "Run Shell Script" with single line
>> open -a Terminal /usr/bin/R
>> 
>> Cheers,
>> Simon
>> 
>> 
>>> On Jan 23, 2014, at 6:09 PM, Reijo Sund <reijo.sund at helsinki.fi> wrote:
>>> 
>>> There have recently been some problems while running packages using Tcl/Tk with R.app GUI under Mac Os X Mavericks (10.9). It is also well known that it is not a good idea to work with R.app and a custom builded R that uses the Aqua version of Tcl/Tk.
>>> 
>>> Simple solution for these problems is to use command line R (i.e. R in terminal window) instead of R.app GUI. Although it is not particularly difficult to launch terminal application and then R from the prompt, it would be nice to have an icon on the dock to launch the command line R with one click.
>>> 
>>> After some experiencing with AppleScript, I ended up with the following script. There was a need for some ?fine tuning? to deal with problems of Terminal app scripting without manually changing preferences of Terminal app (problems include that in certain cases more than two windows are created instead of one and that it is not trivial to close (only) the correct window after quitting R under the default settings of terminal).
>>> 
>>> -----------------
>>> 
>>> property commandString : "R --no-save --no-restore; screen osascript -e 'tell application \"Terminal\" to close (every window whose name contains \"Survo R\")'; exit 0"
>>> 
>>> tell application "System Events"
>>>      if (count (processes whose name is "Terminal")) is 0 then
>>>              tell application "Terminal"
>>>                      activate
>>>                      do script commandString in window 1
>>> 
>>>                      tell window 1
>>>                              set custom title of first tab to "Survo R"
>>>                      end tell
>>>              end tell
>>>      else
>>>              tell application "Terminal"
>>>                      activate
>>>                      do script commandString
>>>                      set currWin to index of first window
>>> 
>>>                      tell window currWin
>>>                              set custom title of first tab to "Survo R"
>>>                      end tell
>>>              end tell
>>>      end if
>>> end tell
>>> 
>>> -----------------
>>> 
>>> The script can be run in AppleScript editor (located in /Applications/Utilities/AppleScript Editor), but for the actual use it is useful to File->Export it to Application. Created app works just like any other Mac OS X application and you can drag it to the dock to get the functionality to launch command line R with one click.
>>> 
>>> It is certainly unnecessarily complicated for novice users to create the app themselves, so the distribution of the final app (instead of the script) would probably be a more reasonable idea. It is also likely that there are better, safer and more portable ways to provide such a functionality (across Mac OS X versions), but at least the basic idea can be tested with the script above.
>>> 
>>> So, finally, my question is: Would it be a possible and maybe even a good idea to include this kind of Rterm shortcut app functionality to the R binary for Mac OS X distribution or to make it available from some of the official R Mac OS X pages?
>>> 
>>> Best wishes,
>>> Reijo Sund
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From tyler.ritchie at gmail.com  Fri Jan 24 05:40:33 2014
From: tyler.ritchie at gmail.com (Tyler Ritchie)
Date: Thu, 23 Jan 2014 20:40:33 -0800
Subject: [R-SIG-Mac] Shortcut for launching command line R?
In-Reply-To: <D2A59F11-FAA5-41C5-8420-A039B1EAA6A7@r-project.org>
References: <3B7AD0DE-712D-4E0F-AC56-42E34475673A@helsinki.fi>
	<ED0ED8C0-4A2A-4A53-AA0B-FD5821A78A29@r-project.org>
	<CALn_Mmr6KWZpJEmP-Pq7fxHZay7d5OoSprNVZ=N+y=0jFYsgwQ@mail.gmail.com>
	<D2A59F11-FAA5-41C5-8420-A039B1EAA6A7@r-project.org>
Message-ID: <CA+qf=sNW0kFgQcqTFP+5Pb1GffXg-Qg57+4BSYtw59LazwV51g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140123/b169e85c/attachment.pl>

From csardi.gabor at gmail.com  Fri Jan 24 06:07:17 2014
From: csardi.gabor at gmail.com (=?ISO-8859-1?B?R+Fib3IgQ3PhcmRp?=)
Date: Fri, 24 Jan 2014 00:07:17 -0500
Subject: [R-SIG-Mac] Shortcut for launching command line R?
In-Reply-To: <CA+qf=sNW0kFgQcqTFP+5Pb1GffXg-Qg57+4BSYtw59LazwV51g@mail.gmail.com>
References: <3B7AD0DE-712D-4E0F-AC56-42E34475673A@helsinki.fi>
	<ED0ED8C0-4A2A-4A53-AA0B-FD5821A78A29@r-project.org>
	<CALn_Mmr6KWZpJEmP-Pq7fxHZay7d5OoSprNVZ=N+y=0jFYsgwQ@mail.gmail.com>
	<D2A59F11-FAA5-41C5-8420-A039B1EAA6A7@r-project.org>
	<CA+qf=sNW0kFgQcqTFP+5Pb1GffXg-Qg57+4BSYtw59LazwV51g@mail.gmail.com>
Message-ID: <CABtg=KkfKv1HKY=rE7MeBHOihrGjnPkYKg-hvyAX1q0UOdj3iQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140124/84a84b04/attachment.pl>

From tyler.ritchie at gmail.com  Fri Jan 24 06:27:48 2014
From: tyler.ritchie at gmail.com (Tyler Ritchie)
Date: Thu, 23 Jan 2014 21:27:48 -0800
Subject: [R-SIG-Mac] Shortcut for launching command line R?
In-Reply-To: <CABtg=KkfKv1HKY=rE7MeBHOihrGjnPkYKg-hvyAX1q0UOdj3iQ@mail.gmail.com>
References: <3B7AD0DE-712D-4E0F-AC56-42E34475673A@helsinki.fi>
	<ED0ED8C0-4A2A-4A53-AA0B-FD5821A78A29@r-project.org>
	<CALn_Mmr6KWZpJEmP-Pq7fxHZay7d5OoSprNVZ=N+y=0jFYsgwQ@mail.gmail.com>
	<D2A59F11-FAA5-41C5-8420-A039B1EAA6A7@r-project.org>
	<CA+qf=sNW0kFgQcqTFP+5Pb1GffXg-Qg57+4BSYtw59LazwV51g@mail.gmail.com>
	<CABtg=KkfKv1HKY=rE7MeBHOihrGjnPkYKg-hvyAX1q0UOdj3iQ@mail.gmail.com>
Message-ID: <CA+qf=sNSwHcfvqRLgGUZ6xadOUZ6TZn_KfhwGrUQmuD0vVKLLw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140123/8072216f/attachment.pl>

From deriso at gmail.com  Fri Jan 24 06:31:52 2014
From: deriso at gmail.com (Dave Deriso)
Date: Thu, 23 Jan 2014 21:31:52 -0800
Subject: [R-SIG-Mac] Shortcut for launching command line R?
In-Reply-To: <CABtg=KkfKv1HKY=rE7MeBHOihrGjnPkYKg-hvyAX1q0UOdj3iQ@mail.gmail.com>
References: <3B7AD0DE-712D-4E0F-AC56-42E34475673A@helsinki.fi>
	<ED0ED8C0-4A2A-4A53-AA0B-FD5821A78A29@r-project.org>
	<CALn_Mmr6KWZpJEmP-Pq7fxHZay7d5OoSprNVZ=N+y=0jFYsgwQ@mail.gmail.com>
	<D2A59F11-FAA5-41C5-8420-A039B1EAA6A7@r-project.org>
	<CA+qf=sNW0kFgQcqTFP+5Pb1GffXg-Qg57+4BSYtw59LazwV51g@mail.gmail.com>
	<CABtg=KkfKv1HKY=rE7MeBHOihrGjnPkYKg-hvyAX1q0UOdj3iQ@mail.gmail.com>
Message-ID: <CALn_Mmou+nNxGJ7mGGjObx36Gmt0VRzHn5hM8dKVXbdaxwnzrQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140123/dcae0b8e/attachment.pl>

From csardi.gabor at gmail.com  Fri Jan 24 06:34:59 2014
From: csardi.gabor at gmail.com (=?ISO-8859-1?B?R+Fib3IgQ3PhcmRp?=)
Date: Fri, 24 Jan 2014 00:34:59 -0500
Subject: [R-SIG-Mac] Shortcut for launching command line R?
In-Reply-To: <CALn_Mmou+nNxGJ7mGGjObx36Gmt0VRzHn5hM8dKVXbdaxwnzrQ@mail.gmail.com>
References: <3B7AD0DE-712D-4E0F-AC56-42E34475673A@helsinki.fi>
	<ED0ED8C0-4A2A-4A53-AA0B-FD5821A78A29@r-project.org>
	<CALn_Mmr6KWZpJEmP-Pq7fxHZay7d5OoSprNVZ=N+y=0jFYsgwQ@mail.gmail.com>
	<D2A59F11-FAA5-41C5-8420-A039B1EAA6A7@r-project.org>
	<CA+qf=sNW0kFgQcqTFP+5Pb1GffXg-Qg57+4BSYtw59LazwV51g@mail.gmail.com>
	<CABtg=KkfKv1HKY=rE7MeBHOihrGjnPkYKg-hvyAX1q0UOdj3iQ@mail.gmail.com>
	<CALn_Mmou+nNxGJ7mGGjObx36Gmt0VRzHn5hM8dKVXbdaxwnzrQ@mail.gmail.com>
Message-ID: <CABtg=K=MSYAkwigcKi2ZO6rOi1dog5TXuLFELHBgPRrt2L7f3w@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140124/a8d525fc/attachment.pl>

From ripley at stats.ox.ac.uk  Fri Jan 24 08:13:28 2014
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 24 Jan 2014 07:13:28 +0000
Subject: [R-SIG-Mac] Shortcut for launching command line R?
In-Reply-To: <CABtg=KkfKv1HKY=rE7MeBHOihrGjnPkYKg-hvyAX1q0UOdj3iQ@mail.gmail.com>
References: <3B7AD0DE-712D-4E0F-AC56-42E34475673A@helsinki.fi>	<ED0ED8C0-4A2A-4A53-AA0B-FD5821A78A29@r-project.org>	<CALn_Mmr6KWZpJEmP-Pq7fxHZay7d5OoSprNVZ=N+y=0jFYsgwQ@mail.gmail.com>	<D2A59F11-FAA5-41C5-8420-A039B1EAA6A7@r-project.org>	<CA+qf=sNW0kFgQcqTFP+5Pb1GffXg-Qg57+4BSYtw59LazwV51g@mail.gmail.com>
	<CABtg=KkfKv1HKY=rE7MeBHOihrGjnPkYKg-hvyAX1q0UOdj3iQ@mail.gmail.com>
Message-ID: <52E21298.2080409@stats.ox.ac.uk>

On 24/01/2014 05:07, G?bor Cs?rdi wrote:
> On Thu, Jan 23, 2014 at 11:40 PM, Tyler Ritchie <tyler.ritchie at gmail.com>wrote:
>
>>>
>>> Well, in Terminal you don't need any alias - just type R
>>>
>>
>> If you really want to save the shift though.. alias r='R'
>>
>
> No, OSX is case insensitive:

By default: it depends on the file system in use, and that can be 
changed to be POSIX-compliant on HFS (and other FSs).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From deriso at gmail.com  Fri Jan 24 08:22:37 2014
From: deriso at gmail.com (Dave Deriso)
Date: Thu, 23 Jan 2014 23:22:37 -0800
Subject: [R-SIG-Mac] Shortcut for launching command line R?
In-Reply-To: <52E21298.2080409@stats.ox.ac.uk>
References: <3B7AD0DE-712D-4E0F-AC56-42E34475673A@helsinki.fi>
	<ED0ED8C0-4A2A-4A53-AA0B-FD5821A78A29@r-project.org>
	<CALn_Mmr6KWZpJEmP-Pq7fxHZay7d5OoSprNVZ=N+y=0jFYsgwQ@mail.gmail.com>
	<D2A59F11-FAA5-41C5-8420-A039B1EAA6A7@r-project.org>
	<CA+qf=sNW0kFgQcqTFP+5Pb1GffXg-Qg57+4BSYtw59LazwV51g@mail.gmail.com>
	<CABtg=KkfKv1HKY=rE7MeBHOihrGjnPkYKg-hvyAX1q0UOdj3iQ@mail.gmail.com>
	<52E21298.2080409@stats.ox.ac.uk>
Message-ID: <CALn_MmqVixBQ_UWFqvKKj4JHuoG3GsfD-Oa=s04ew9g4kQ3hhQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140123/2628358f/attachment.pl>

From reijo.sund at helsinki.fi  Fri Jan 24 09:30:37 2014
From: reijo.sund at helsinki.fi (Reijo Sund)
Date: Fri, 24 Jan 2014 10:30:37 +0200
Subject: [R-SIG-Mac] Shortcut for launching command line R?
In-Reply-To: <ED0ED8C0-4A2A-4A53-AA0B-FD5821A78A29@r-project.org>
References: <3B7AD0DE-712D-4E0F-AC56-42E34475673A@helsinki.fi>
	<ED0ED8C0-4A2A-4A53-AA0B-FD5821A78A29@r-project.org>
Message-ID: <C9ABE081-35BE-4138-847E-ED3E87DA907D@helsinki.fi>

Simon Urbanek wrote:
> If you want an app, just open the Automator, pick Application type, select "Run Shell Script" with single line
> open -a Terminal /usr/bin/R

Dave Deriso wrote:
> you could check out Platypus to wrap your command into an app. Basically write a simple bash script to call
> R with the desired parameters, and Platypus will turn that into an app that you can put on your launch bar. 

 
Thanks for the replies.

Platypus seems to be interesting, but with quick testing the resulted app was not interactive and not usable as such.

Automator approach works quite nicely, but after exiting the terminal window stays open (stating Process completed) and with the default settings in terminal it must be closed manually. I cannot killable terminal app to accomplish closing, because there may be other terminal windows open. It is of course possible to _manually_ change the terminal preferences so that the window closes at exit, but what if I want such behavior only for the terminal window running R?

And actually I was not asking how to accomplish such task but would it be possible to have such an app distributed with R.

The motivation is simple:
There exists several R packages that utilize Tcl/Tk to create alternative user interfaces. For some courses, hundreds of students (some of them never seen R before) may be installing R and the interface packages also to their own laptops. Nowadays more and more people are using Macs, and the problems with R.app GUI and Tcl/Tk may give them a wrong impression of the performance of R and the interfaces. It is already challenging enough for the students to install R and XQuartz (fortunately since R 3.0.0 no more need to install tcltk separately) on Mac, so giving a long list of point-by-point instructions to tune things up give a geeky feeling. And a need for manually open and close Terminal window gives easily a mixed impression for a first timer: Why I cannot use the main entrance to R, but need to travel all the way to the back door?

In that sense it would be very nice if a simple R terminal icon would appear in addition to R.app GUI icon after installing R on Mac.

Best wishes,
Reijo Sund


From adiez at uv.es  Fri Jan 24 09:34:02 2014
From: adiez at uv.es (Agustin Diez Castillo)
Date: Fri, 24 Jan 2014 09:34:02 +0100
Subject: [R-SIG-Mac] Shortcut for launching command line R?
In-Reply-To: <CALn_MmqVixBQ_UWFqvKKj4JHuoG3GsfD-Oa=s04ew9g4kQ3hhQ@mail.gmail.com>
References: <3B7AD0DE-712D-4E0F-AC56-42E34475673A@helsinki.fi>
	<ED0ED8C0-4A2A-4A53-AA0B-FD5821A78A29@r-project.org>
	<CALn_Mmr6KWZpJEmP-Pq7fxHZay7d5OoSprNVZ=N+y=0jFYsgwQ@mail.gmail.com>
	<D2A59F11-FAA5-41C5-8420-A039B1EAA6A7@r-project.org>
	<CA+qf=sNW0kFgQcqTFP+5Pb1GffXg-Qg57+4BSYtw59LazwV51g@mail.gmail.com>
	<CABtg=KkfKv1HKY=rE7MeBHOihrGjnPkYKg-hvyAX1q0UOdj3iQ@mail.gmail.com>
	<52E21298.2080409@stats.ox.ac.uk>
	<CALn_MmqVixBQ_UWFqvKKj4JHuoG3GsfD-Oa=s04ew9g4kQ3hhQ@mail.gmail.com>
Message-ID: <E3C387B1-5F0B-4016-8D67-15E89A81A992@uv.es>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140124/a4062ac0/attachment.pl>

From luisvelo1 at gmail.com  Mon Jan 20 21:53:11 2014
From: luisvelo1 at gmail.com (LUIS VELO)
Date: Mon, 20 Jan 2014 21:53:11 +0100
Subject: [R-SIG-Mac] Unable to install R-2.11.1.pkg and up to R-3.0.2 in Mac
	OSX 10.8.5
Message-ID: <957D7B16-7030-41DE-9CD5-087F0E75A0EC@icloud.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140120/5798ba7c/attachment.pl>

From simon.urbanek at r-project.org  Fri Jan 24 17:19:48 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 24 Jan 2014 11:19:48 -0500
Subject: [R-SIG-Mac] Unable to install R-2.11.1.pkg and up to R-3.0.2 in
	Mac OSX 10.8.5
In-Reply-To: <957D7B16-7030-41DE-9CD5-087F0E75A0EC@icloud.com>
References: <957D7B16-7030-41DE-9CD5-087F0E75A0EC@icloud.com>
Message-ID: <08981DF1-FE1D-48D9-B0A4-EE6CFF55EF9F@r-project.org>

Luis,

On Jan 20, 2014, at 3:53 PM, LUIS VELO <luisvelo1 at gmail.com> wrote:

> Dear People
> 
> I have an iMac 2013 with a Fusion Drive and OSX 10.8.5. No plans to migrate to Mavericks yet.
> 
> I have had issues also with x11 that I've solved with a "direct" install:
> 
> installer -pkg ~/Desktop/XQuartz.pkg -target / -allowUntrusted -store
> 
> But, when I try to install R-2.11.1 and above (I'm using R-2.10.1, and works well ;) ) I get the following message from the installer:
> 
> R 3.0.2 for Mac OS X 10.6 or higher (Snow Leopard build) can't be installed on this disk.
> This build of R requires MAC OS X 10.6 or higher.
> 
> If I try from the Terminal
> 
> sudo installer -pkg ~/Desktop/R-3.0.2.pkg -target /
> 
> or:
> sudo -s
> installer -verbose -pkg ~/Desktop/R-3.0.2.pkg -target /
> 
> I receive this output from terminal:
> 
> installer: Cannot install on volume / because it is disabled. 
> installer: This build of R requires Mac OS X 10.6 or higher
> 
> And it fails.
> What can I do? Delete some plist? Regenerate something? Reinstall Mountain Lion? I really prefer to not to have to rebuild from source.
> 

What the above says is that the Apple Installer doesn't recognize the system on the drive you are installing to as OS X 10.6.0 or higher.
We don't control how the Installer determines the version, but typically it is stored in 

/System/Library/CoreServices/SystemVersion.plist

On 10.8.5 you should see

$ cat /System/Library/CoreServices/SystemVersion.plist
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>ProductBuildVersion</key>
	<string>12F45</string>
	<key>ProductCopyright</key>
	<string>1983-2013 Apple Inc.</string>
	<key>ProductName</key>
	<string>Mac OS X</string>
	<key>ProductUserVisibleVersion</key>
	<string>10.8.5</string>
	<key>ProductVersion</key>
	<string>10.8.5</string>
</dict>
</plist>


If in doubt please have a look at the Installer log (enable all logs, not just errors) as you are installing R - it may possibly give some clue.

Thanks,
Simon





> I have had no issues installing R on my notebook with Lion.
> 
> Regards
> MW
> 
> ps: I've also posted in this thread
> http://apple.stackexchange.com/questions/117693/unable-to-install-r-2-11-1-pkg-and-up-to-r-3-0-2-in-mac-osx-10-8-5
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From dpeeter1 at ulb.ac.be  Mon Jan 27 16:03:33 2014
From: dpeeter1 at ulb.ac.be (didier peeters)
Date: Mon, 27 Jan 2014 16:03:33 +0100
Subject: [R-SIG-Mac] error with RMySQL
Message-ID: <B21956AF-19A5-4B55-8C42-A466F6FD5574@ulb.ac.be>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20140127/f38231ad/attachment.pl>

From murdoch.duncan at gmail.com  Mon Jan 27 16:23:33 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Mon, 27 Jan 2014 10:23:33 -0500
Subject: [R-SIG-Mac] error with RMySQL
In-Reply-To: <B21956AF-19A5-4B55-8C42-A466F6FD5574@ulb.ac.be>
References: <B21956AF-19A5-4B55-8C42-A466F6FD5574@ulb.ac.be>
Message-ID: <52E679F5.7040000@gmail.com>

On 27/01/2014 10:03 AM, didier peeters wrote:
> Hello,
>
> I can't write data in a MySQL table with RMySQL anymore.  I used to do this until one year ago but since then it's broken, I always get the error : "Erreur dans tolower(avail) : cha?ne de charact?res multioctets incorrecte 43" (meaning in English : Error in tolower(avail) : incorrect multibyte string",  it can be something else than '43').  So I tried to narrow down to a simple case and I made this script :
>
> #!/usr/bin/Rscript
> library(DBI)
> library(RMySQL)
>
> conn <- dbConnect("MySQL", user="userr", password="passworrd", dbname="dbtest")
>
> res <- dbSendQuery(conn, statement = paste("SELECT * FROM testable"))
> input <- fetch(res, n = -1)
>
> dbWriteTable(conn, "testable2", input, row.names = T, overwrite = FALSE, append = T)
>
> dbDisconnect(conn)
>
> The table content being :
>     id testval
> 1  1   76
> 2  2   47417
>
> The user owns the DB. The fetch works fine but not the dbWriteTable.  The error is probably related to some character coding but I can't figure out what.
>
> I'm using R version 3.0.2 (2013-09-25), RMySQL 0.9-3 and MySQL 5.6.14, Mac OS X 10.9.1 .
> I have the same issue on Rstudio server hosted on a Debian machine.
>
> Thanks for helping !

This probably isn't a MacOS question, other than the fact that MacOS 
defaults to UTF-8 and Windows doesn't.
Since you are asking to append to an existing table, it probably has 
values stored in a Latin1 (or other non-UTF-8) encoding, and that's 
messing things up.

But without a reproducible example, it's hard to guess...

Duncan Murdoch


From dpeeter1 at ulb.ac.be  Mon Jan 27 16:38:29 2014
From: dpeeter1 at ulb.ac.be (didier peeters)
Date: Mon, 27 Jan 2014 16:38:29 +0100
Subject: [R-SIG-Mac] error with RMySQL
In-Reply-To: <52E679F5.7040000@gmail.com>
References: <B21956AF-19A5-4B55-8C42-A466F6FD5574@ulb.ac.be>
	<52E679F5.7040000@gmail.com>
Message-ID: <E79CDD9C-E9C9-4F07-A9CF-1D1EEDFE3CA4@ulb.ac.be>

Sorry, you're right.  But UTF-8 is the default on my mac as well as on my database.
I was hoping that somebody already had that problem. 


Le 27 janv. 2014 ? 16:23, Duncan Murdoch <murdoch.duncan at gmail.com> a ?crit :

> On 27/01/2014 10:03 AM, didier peeters wrote:
>> Hello,
>> 
>> I can't write data in a MySQL table with RMySQL anymore.  I used to do this until one year ago but since then it's broken, I always get the error : "Erreur dans tolower(avail) : cha?ne de charact?res multioctets incorrecte 43" (meaning in English : Error in tolower(avail) : incorrect multibyte string",  it can be something else than '43').  So I tried to narrow down to a simple case and I made this script :
>> 
>> #!/usr/bin/Rscript
>> library(DBI)
>> library(RMySQL)
>> 
>> conn <- dbConnect("MySQL", user="userr", password="passworrd", dbname="dbtest")
>> 
>> res <- dbSendQuery(conn, statement = paste("SELECT * FROM testable"))
>> input <- fetch(res, n = -1)
>> 
>> dbWriteTable(conn, "testable2", input, row.names = T, overwrite = FALSE, append = T)
>> 
>> dbDisconnect(conn)
>> 
>> The table content being :
>>    id testval
>> 1  1   76
>> 2  2   47417
>> 
>> The user owns the DB. The fetch works fine but not the dbWriteTable.  The error is probably related to some character coding but I can't figure out what.
>> 
>> I'm using R version 3.0.2 (2013-09-25), RMySQL 0.9-3 and MySQL 5.6.14, Mac OS X 10.9.1 .
>> I have the same issue on Rstudio server hosted on a Debian machine.
>> 
>> Thanks for helping !
> 
> This probably isn't a MacOS question, other than the fact that MacOS defaults to UTF-8 and Windows doesn't.
> Since you are asking to append to an existing table, it probably has values stored in a Latin1 (or other non-UTF-8) encoding, and that's messing things up.
> 
> But without a reproducible example, it's hard to guess...
> 
> Duncan Murdoch


From roberta.rezende at icloud.com  Wed Jan 29 11:39:49 2014
From: roberta.rezende at icloud.com (Roberta Rezende)
Date: Wed, 29 Jan 2014 11:39:49 +0100
Subject: [R-SIG-Mac] problem with plot math
Message-ID: <5C68CCA8-6096-4206-858D-86DF8B633C75@icloud.com>

Hi everyone,

I?m a newbie and I?m studying R.
I?m using Mavericks 10.9.1, R 3.0.2 with Rstudio.

I?ve tried this simple example:

x <- rnorm(100)
y <- x + rnorm(100, sd = 0.5)
plot(x, y,
     xlab=substitute(bar(x) == k, list(k=mean(x))),
     ylab=substitute(bar(y) == k, list(k=mean(y)))
)

but my plot only has the plot, with no labels at all.

If I try the follow example, it works

plot(0, 0, main = expression(theta == 0),
     ylab = expression(hat(gamma) == 0),
     xlab = expression(sum(x[i] * y[i], i==1, n)))

It is like it can?t do math, but it can plot values given.

May I have to install something else?

Thank you for your help

From i.visser at uva.nl  Wed Jan 29 11:52:28 2014
From: i.visser at uva.nl (Ingmar Visser)
Date: Wed, 29 Jan 2014 11:52:28 +0100
Subject: [R-SIG-Mac] problem with plot math
In-Reply-To: <5C68CCA8-6096-4206-858D-86DF8B633C75@icloud.com>
References: <5C68CCA8-6096-4206-858D-86DF8B633C75@icloud.com>
Message-ID: <CABmqZHO2a1m-KcW+Nuk82Qrw14c2+PEtvhzSz+s0CqWjsKpkqg@mail.gmail.com>

Your first example works for me with nice labels including "x bar"
etc, using this configuration:

> sessionInfo()
R version 3.0.2 (2013-09-25)
Platform: x86_64-apple-darwin10.8.0 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

Best, Ingmar


On Wed, Jan 29, 2014 at 11:39 AM, Roberta Rezende
<roberta.rezende at icloud.com> wrote:
> Hi everyone,
>
> I'm a newbie and I'm studying R.
> I'm using Mavericks 10.9.1, R 3.0.2 with Rstudio.
>
> I've tried this simple example:
>
> x <- rnorm(100)
> y <- x + rnorm(100, sd = 0.5)
> plot(x, y,
>      xlab=substitute(bar(x) == k, list(k=mean(x))),
>      ylab=substitute(bar(y) == k, list(k=mean(y)))
> )
>
> but my plot only has the plot, with no labels at all.
>
> If I try the follow example, it works
>
> plot(0, 0, main = expression(theta == 0),
>      ylab = expression(hat(gamma) == 0),
>      xlab = expression(sum(x[i] * y[i], i==1, n)))
>
> It is like it can't do math, but it can plot values given.
>
> May I have to install something else?
>
> Thank you for your help
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From roberta.rezende at icloud.com  Wed Jan 29 12:06:48 2014
From: roberta.rezende at icloud.com (Roberta Rezende)
Date: Wed, 29 Jan 2014 12:06:48 +0100
Subject: [R-SIG-Mac] problem with plot math
In-Reply-To: <CABmqZHO2a1m-KcW+Nuk82Qrw14c2+PEtvhzSz+s0CqWjsKpkqg@mail.gmail.com>
References: <5C68CCA8-6096-4206-858D-86DF8B633C75@icloud.com>
	<CABmqZHO2a1m-KcW+Nuk82Qrw14c2+PEtvhzSz+s0CqWjsKpkqg@mail.gmail.com>
Message-ID: <046840BC-766B-4066-AF72-066908B7D284@icloud.com>

I have the exactly same session info.
So, I restarted the computer and it works now.
Sorry for this inconvenience. I?ll try everything before asking silly questions?

Thank you


On 29 Jan 2014, at 11:52, Ingmar Visser <i.visser at uva.nl> wrote:

> Your first example works for me with nice labels including "x bar"
> etc, using this configuration:
> 
>> sessionInfo()
> R version 3.0.2 (2013-09-25)
> Platform: x86_64-apple-darwin10.8.0 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> Best, Ingmar
> 
> 
> On Wed, Jan 29, 2014 at 11:39 AM, Roberta Rezende
> <roberta.rezende at icloud.com> wrote:
>> Hi everyone,
>> 
>> I'm a newbie and I'm studying R.
>> I'm using Mavericks 10.9.1, R 3.0.2 with Rstudio.
>> 
>> I've tried this simple example:
>> 
>> x <- rnorm(100)
>> y <- x + rnorm(100, sd = 0.5)
>> plot(x, y,
>>     xlab=substitute(bar(x) == k, list(k=mean(x))),
>>     ylab=substitute(bar(y) == k, list(k=mean(y)))
>> )
>> 
>> but my plot only has the plot, with no labels at all.
>> 
>> If I try the follow example, it works
>> 
>> plot(0, 0, main = expression(theta == 0),
>>     ylab = expression(hat(gamma) == 0),
>>     xlab = expression(sum(x[i] * y[i], i==1, n)))
>> 
>> It is like it can't do math, but it can plot values given.
>> 
>> May I have to install something else?
>> 
>> Thank you for your help
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From murdoch.duncan at gmail.com  Wed Jan 29 13:37:51 2014
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Wed, 29 Jan 2014 07:37:51 -0500
Subject: [R-SIG-Mac] problem with plot math
In-Reply-To: <046840BC-766B-4066-AF72-066908B7D284@icloud.com>
References: <5C68CCA8-6096-4206-858D-86DF8B633C75@icloud.com>	<CABmqZHO2a1m-KcW+Nuk82Qrw14c2+PEtvhzSz+s0CqWjsKpkqg@mail.gmail.com>
	<046840BC-766B-4066-AF72-066908B7D284@icloud.com>
Message-ID: <52E8F61F.4060402@gmail.com>

On 14-01-29 6:06 AM, Roberta Rezende wrote:
> I have the exactly same session info.
> So, I restarted the computer and it works now.
> Sorry for this inconvenience. I?ll try everything before asking silly questions?

I'd guess the most likely thing is that your margins were too narrow 
because of some previous operation.  Closing and reopening the graphics 
window should restore the default margins, you probably don't need to 
restart R, RStudio or the whole computer.

You can see the current margins by using par("mar").  The default 
setting is c(5.1, 4.1, 4.1, 2.1), i.e. a bit more than 5 lines at the 
bottom, 4 on the left and top, and 2 on the right.

Duncan Murdoch

>
> Thank you
>
>
> On 29 Jan 2014, at 11:52, Ingmar Visser <i.visser at uva.nl> wrote:
>
>> Your first example works for me with nice labels including "x bar"
>> etc, using this configuration:
>>
>>> sessionInfo()
>> R version 3.0.2 (2013-09-25)
>> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>>
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> Best, Ingmar
>>
>>
>> On Wed, Jan 29, 2014 at 11:39 AM, Roberta Rezende
>> <roberta.rezende at icloud.com> wrote:
>>> Hi everyone,
>>>
>>> I'm a newbie and I'm studying R.
>>> I'm using Mavericks 10.9.1, R 3.0.2 with Rstudio.
>>>
>>> I've tried this simple example:
>>>
>>> x <- rnorm(100)
>>> y <- x + rnorm(100, sd = 0.5)
>>> plot(x, y,
>>>      xlab=substitute(bar(x) == k, list(k=mean(x))),
>>>      ylab=substitute(bar(y) == k, list(k=mean(y)))
>>> )
>>>
>>> but my plot only has the plot, with no labels at all.
>>>
>>> If I try the follow example, it works
>>>
>>> plot(0, 0, main = expression(theta == 0),
>>>      ylab = expression(hat(gamma) == 0),
>>>      xlab = expression(sum(x[i] * y[i], i==1, n)))
>>>
>>> It is like it can't do math, but it can plot values given.
>>>
>>> May I have to install something else?
>>>
>>> Thank you for your help
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From roberta.rezende at icloud.com  Wed Jan 29 15:50:46 2014
From: roberta.rezende at icloud.com (Roberta Rezende)
Date: Wed, 29 Jan 2014 15:50:46 +0100
Subject: [R-SIG-Mac] problem with plot math
In-Reply-To: <52E8F61F.4060402@gmail.com>
References: <5C68CCA8-6096-4206-858D-86DF8B633C75@icloud.com>
	<CABmqZHO2a1m-KcW+Nuk82Qrw14c2+PEtvhzSz+s0CqWjsKpkqg@mail.gmail.com>
	<046840BC-766B-4066-AF72-066908B7D284@icloud.com>
	<52E8F61F.4060402@gmail.com>
Message-ID: <588E15F1-9EAC-416D-955C-F5146B3C33C8@icloud.com>

What you say is interesting. 
> par("mar")
[1] 5.1 4.1 4.1 2.1

But why after restarting it came back?
Well, then it was gone and even if I restart all the computer, it never comes back.
So I?ve reset the PRAM (don?t know if it was a good idea) but now it works really great after many tries!

thank you!

Roberta


On 29 Jan 2014, at 13:37, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:

> On 14-01-29 6:06 AM, Roberta Rezende wrote:
>> I have the exactly same session info.
>> So, I restarted the computer and it works now.
>> Sorry for this inconvenience. I?ll try everything before asking silly questions?
> 
> I'd guess the most likely thing is that your margins were too narrow because of some previous operation.  Closing and reopening the graphics window should restore the default margins, you probably don't need to restart R, RStudio or the whole computer.
> 
> You can see the current margins by using par("mar").  The default setting is c(5.1, 4.1, 4.1, 2.1), i.e. a bit more than 5 lines at the bottom, 4 on the left and top, and 2 on the right.
> 
> Duncan Murdoch
> 
>> 
>> Thank you
>> 
>> 
>> On 29 Jan 2014, at 11:52, Ingmar Visser <i.visser at uva.nl> wrote:
>> 
>>> Your first example works for me with nice labels including "x bar"
>>> etc, using this configuration:
>>> 
>>>> sessionInfo()
>>> R version 3.0.2 (2013-09-25)
>>> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>>> 
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> 
>>> Best, Ingmar
>>> 
>>> 
>>> On Wed, Jan 29, 2014 at 11:39 AM, Roberta Rezende
>>> <roberta.rezende at icloud.com> wrote:
>>>> Hi everyone,
>>>> 
>>>> I'm a newbie and I'm studying R.
>>>> I'm using Mavericks 10.9.1, R 3.0.2 with Rstudio.
>>>> 
>>>> I've tried this simple example:
>>>> 
>>>> x <- rnorm(100)
>>>> y <- x + rnorm(100, sd = 0.5)
>>>> plot(x, y,
>>>>     xlab=substitute(bar(x) == k, list(k=mean(x))),
>>>>     ylab=substitute(bar(y) == k, list(k=mean(y)))
>>>> )
>>>> 
>>>> but my plot only has the plot, with no labels at all.
>>>> 
>>>> If I try the follow example, it works
>>>> 
>>>> plot(0, 0, main = expression(theta == 0),
>>>>     ylab = expression(hat(gamma) == 0),
>>>>     xlab = expression(sum(x[i] * y[i], i==1, n)))
>>>> 
>>>> It is like it can't do math, but it can plot values given.
>>>> 
>>>> May I have to install something else?
>>>> 
>>>> Thank you for your help
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 


From simon.urbanek at r-project.org  Wed Jan 29 18:13:25 2014
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 29 Jan 2014 12:13:25 -0500
Subject: [R-SIG-Mac] problem with plot math
In-Reply-To: <588E15F1-9EAC-416D-955C-F5146B3C33C8@icloud.com>
References: <5C68CCA8-6096-4206-858D-86DF8B633C75@icloud.com>
	<CABmqZHO2a1m-KcW+Nuk82Qrw14c2+PEtvhzSz+s0CqWjsKpkqg@mail.gmail.com>
	<046840BC-766B-4066-AF72-066908B7D284@icloud.com>
	<52E8F61F.4060402@gmail.com>
	<588E15F1-9EAC-416D-955C-F5146B3C33C8@icloud.com>
Message-ID: <544510C9-7651-4B44-84A8-9851936F3FE6@r-project.org>


On Jan 29, 2014, at 9:50 AM, Roberta Rezende <roberta.rezende at icloud.com> wrote:

> What you say is interesting. 
>> par("mar")
> [1] 5.1 4.1 4.1 2.1
> 
> But why after restarting it came back?

You probably had some issues with your fonts and the font cache got re-built after restart.

Cheers,
Simon


> Well, then it was gone and even if I restart all the computer, it never comes back.
> So I?ve reset the PRAM (don?t know if it was a good idea) but now it works really great after many tries!
> 
> thank you!
> 
> Roberta
> 
> 
> On 29 Jan 2014, at 13:37, Duncan Murdoch <murdoch.duncan at gmail.com> wrote:
> 
>> On 14-01-29 6:06 AM, Roberta Rezende wrote:
>>> I have the exactly same session info.
>>> So, I restarted the computer and it works now.
>>> Sorry for this inconvenience. I?ll try everything before asking silly questions?
>> 
>> I'd guess the most likely thing is that your margins were too narrow because of some previous operation.  Closing and reopening the graphics window should restore the default margins, you probably don't need to restart R, RStudio or the whole computer.
>> 
>> You can see the current margins by using par("mar").  The default setting is c(5.1, 4.1, 4.1, 2.1), i.e. a bit more than 5 lines at the bottom, 4 on the left and top, and 2 on the right.
>> 
>> Duncan Murdoch
>> 
>>> 
>>> Thank you
>>> 
>>> 
>>> On 29 Jan 2014, at 11:52, Ingmar Visser <i.visser at uva.nl> wrote:
>>> 
>>>> Your first example works for me with nice labels including "x bar"
>>>> etc, using this configuration:
>>>> 
>>>>> sessionInfo()
>>>> R version 3.0.2 (2013-09-25)
>>>> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>>>> 
>>>> locale:
>>>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>> 
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>> 
>>>> Best, Ingmar
>>>> 
>>>> 
>>>> On Wed, Jan 29, 2014 at 11:39 AM, Roberta Rezende
>>>> <roberta.rezende at icloud.com> wrote:
>>>>> Hi everyone,
>>>>> 
>>>>> I'm a newbie and I'm studying R.
>>>>> I'm using Mavericks 10.9.1, R 3.0.2 with Rstudio.
>>>>> 
>>>>> I've tried this simple example:
>>>>> 
>>>>> x <- rnorm(100)
>>>>> y <- x + rnorm(100, sd = 0.5)
>>>>> plot(x, y,
>>>>>    xlab=substitute(bar(x) == k, list(k=mean(x))),
>>>>>    ylab=substitute(bar(y) == k, list(k=mean(y)))
>>>>> )
>>>>> 
>>>>> but my plot only has the plot, with no labels at all.
>>>>> 
>>>>> If I try the follow example, it works
>>>>> 
>>>>> plot(0, 0, main = expression(theta == 0),
>>>>>    ylab = expression(hat(gamma) == 0),
>>>>>    xlab = expression(sum(x[i] * y[i], i==1, n)))
>>>>> 
>>>>> It is like it can't do math, but it can plot values given.
>>>>> 
>>>>> May I have to install something else?
>>>>> 
>>>>> Thank you for your help
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


