From tony@j@perry @end|ng |rom gm@||@com  Mon Mar  1 11:55:59 2021
From: tony@j@perry @end|ng |rom gm@||@com (Tony Perry)
Date: Mon, 1 Mar 2021 10:55:59 +0000
Subject: [R-SIG-Mac] Mac GUI crashing on ARM-64 version
Message-ID: <CAKYH9=GM-MYry9ptxFOBnwvTMCstY-uVMGAOkL5HYA5=N==18w@mail.gmail.com>

Hi R Sig Group,

I tried to install the R GUI for the development version of R on my M1 Mac
and it crashes upon open.  I tried using the production version of R GUI
and it crashed, and so I installed the new GUI that came with the latest
version:

4.1.0 Under development (unstable)
(2021/02/27, r80043)

I did not install the latest R Framework, as the installer said it would
overwrite my non-development version (v4.0.3), but used the TAR version of
v2021-02-18 r80027 that I already had installed.

The previous version of the R GUI crashed too quickly to read any messages,
though the latest version did provide this message once (I've since not
been able to get it to open, with either the development or production
version of R.  (I'm using RSwitch to go between these).

I did get the messages below from Apple when I first tried to load the
latest development version of R GUI.  (I'm able to use the developmental
version of R in Terminal and it works incredibly well :) ).

I hope this helps!

Tony


---

Process:               R [32441]
Path:                  /Applications/R.app/Contents/MacOS/R
Identifier:            org.R-project.R
Version:               R for macOS GUI 1.74 Big Sur build (7939)
Code Type:             ARM-64 (Native)
Parent Process:        ??? [1]
Responsible:           R [32441]
User ID:               501

Date/Time:             2021-03-01 09:25:02.758 +0000
OS Version:            macOS 11.2.1 (20D74)
Report Version:        12
Anonymous UUID:        3E6E7D58-49CC-9B08-4F9A-A86A0B089CA8

Sleep/Wake UUID:       AA5C74A9-A80B-468F-AAAE-4EE543386B71

Time Awake Since Boot: 160000 seconds
Time Since Wake:       1200 seconds

System Integrity Protection: enabled

Crashed Thread:        0  Dispatch queue: com.apple.main-thread

Exception Type:        EXC_BREAKPOINT (SIGTRAP)
Exception Codes:       EXC_ARM_BREAKPOINT at 0x000000019f7948f4 (brk 1)
Exception Note:        EXC_CORPSE_NOTIFY

Termination Signal:    Trace/BPT trap: 5
Termination Reason:    Namespace SIGNAL, Code 0x5
Terminating Process:   exc handler [32441]

Thread 0 Crashed:: Dispatch queue: com.apple.main-thread
0   com.apple.JavaScriptCore       0x000000019f7948f4 void
JSC::LinkBuffer::copyCompactAndLinkCode<unsigned int>(JSC::MacroAssembler&,
JSC::JITCompilationEffort) + 2784
1   com.apple.JavaScriptCore       0x000000019f793f94 void
JSC::LinkBuffer::copyCompactAndLinkCode<unsigned int>(JSC::MacroAssembler&,
JSC::JITCompilationEffort) + 384
2   com.apple.JavaScriptCore       0x000000019f793d14
JSC::LinkBuffer::linkCode(JSC::MacroAssembler&, JSC::JITCompilationEffort)
+ 60
3   com.apple.JavaScriptCore       0x000000019fd948f0
JSC::nativeForGenerator(JSC::VM&, JSC::ThunkFunctionType,
JSC::CodeSpecializationKind, JSC::ThunkEntryType) + 1856
4   com.apple.JavaScriptCore       0x000000019fd81c80
JSC::JITThunks::ctiStub(JSC::VM&,
JSC::MacroAssemblerCodeRef<(WTF::PtrTag)3497> (*)(JSC::VM&)) + 140
5   com.apple.JavaScriptCore       0x000000019fd81e50
JSC::JITThunks::ctiInternalFunctionCall(JSC::VM&) + 36
6   com.apple.JavaScriptCore       0x00000001a00970b0
JSC::VM::VM(JSC::VM::VMType, JSC::HeapType, WTF::RunLoop*, bool*) + 14648
7   com.apple.JavaScriptCore       0x00000001a0097db0
JSC::VM::create(JSC::HeapType, WTF::RunLoop*) + 60
8   com.apple.WebCore             0x00000001a3a5182c
WebCore::PageScriptDebugServer::PageScriptDebugServer(WebCore::Page&) + 72
9   com.apple.WebCore             0x00000001a3a33ba8
WebCore::InspectorController::InspectorController(WebCore::Page&,
WebCore::InspectorClient*) + 436
10  com.apple.WebCore             0x00000001a3c1a728
WebCore::Page::Page(WebCore::PageConfiguration&&) + 360
11  com.apple.WebKitLegacy         0x000000019daeee48 -[WebView(WebPrivate)
_commonInitializationWithFrameName:groupName:] + 2752
12  com.apple.WebKitLegacy         0x000000019daedc60 -[WebView
initWithCoder:] + 720
13  com.apple.Foundation           0x000000018b071614 _decodeObjectBinary +
2288
14  com.apple.Foundation           0x000000018b072fa0 -[NSKeyedUnarchiver
_decodeArrayOfObjectsForKey:] + 708
15  com.apple.Foundation           0x000000018b08c92c -[NSArray(NSArray)
initWithCoder:] + 176
16  com.apple.Foundation           0x000000018b071614 _decodeObjectBinary +
2288
17  com.apple.Foundation           0x000000018b070c30 _decodeObject + 180
18  com.apple.Foundation           0x000000018b070af0 -[NSKeyedUnarchiver
decodeObjectForKey:] + 176
19  com.apple.AppKit               0x000000018cb22e38 -[NSView
initWithCoder:] + 1312
20  com.apple.AppKit               0x000000018cda2114 -[NSSplitView
initWithCoder:] + 88
21  com.apple.Foundation           0x000000018b071614 _decodeObjectBinary +
2288
22  com.apple.Foundation           0x000000018b072fa0 -[NSKeyedUnarchiver
_decodeArrayOfObjectsForKey:] + 708
23  com.apple.Foundation           0x000000018b08c92c -[NSArray(NSArray)
initWithCoder:] + 176
24  com.apple.Foundation           0x000000018b071614 _decodeObjectBinary +
2288
25  com.apple.Foundation           0x000000018b070c30 _decodeObject + 180
26  com.apple.Foundation           0x000000018b070af0 -[NSKeyedUnarchiver
decodeObjectForKey:] + 176
27  com.apple.AppKit               0x000000018cb22e38 -[NSView
initWithCoder:] + 1312
28  com.apple.Foundation           0x000000018b071614 _decodeObjectBinary +
2288
29  com.apple.Foundation           0x000000018b070c30 _decodeObject + 180
30  com.apple.Foundation           0x000000018b070af0 -[NSKeyedUnarchiver
decodeObjectForKey:] + 176
31  com.apple.AppKit               0x000000018cb271f8 -[NSWindowTemplate
initWithCoder:] + 692
32  com.apple.Foundation           0x000000018b071614 _decodeObjectBinary +
2288
33  com.apple.Foundation           0x000000018b070c30 _decodeObject + 180
34  com.apple.Foundation           0x000000018b070af0 -[NSKeyedUnarchiver
decodeObjectForKey:] + 176
35  com.apple.AppKit               0x000000018cae6bd4 -[NSNibConnector
initWithCoder:] + 80
36  com.apple.AppKit               0x000000018cae6b18
-[NSNibOutletConnector initWithCoder:] + 404
37  com.apple.Foundation           0x000000018b071614 _decodeObjectBinary +
2288
38  com.apple.Foundation           0x000000018b072fa0 -[NSKeyedUnarchiver
_decodeArrayOfObjectsForKey:] + 708
39  com.apple.Foundation           0x000000018b08c92c -[NSArray(NSArray)
initWithCoder:] + 176
40  com.apple.Foundation           0x000000018b071614 _decodeObjectBinary +
2288
41  com.apple.Foundation           0x000000018b070c30 _decodeObject + 180
42  com.apple.Foundation           0x000000018b070af0 -[NSKeyedUnarchiver
decodeObjectForKey:] + 176
43  com.apple.AppKit               0x000000018cae5928 -[NSIBObjectData
initWithCoder:] + 172
44  com.apple.Foundation           0x000000018b071614 _decodeObjectBinary +
2288
45  com.apple.Foundation           0x000000018b070c30 _decodeObject + 180
46  com.apple.Foundation           0x000000018b070af0 -[NSKeyedUnarchiver
decodeObjectForKey:] + 176
47  com.apple.AppKit               0x000000018cae56f0 loadNib + 292
48  com.apple.AppKit               0x000000018cae4ccc
+[NSBundle(NSNibLoading)
_loadNibFile:nameTable:options:withZone:ownerBundle:] + 756
49  com.apple.AppKit               0x000000018cae48fc
-[NSBundle(NSNibLoading) loadNibNamed:owner:topLevelObjects:] + 220
50  com.apple.AppKit               0x000000018cae46cc
+[NSBundle(NSNibLoading) loadNibNamed:owner:] + 388
51  org.R-project.R               0x000000010062d040 main + 352
52  libdyld.dylib                 0x000000018a25df34 start + 4

Thread 1:
0   libsystem_pthread.dylib       0x000000018a23cd8c start_wqthread + 0

Thread 2:
0   libsystem_pthread.dylib       0x000000018a23cd8c start_wqthread + 0

Thread 3:
0   libsystem_pthread.dylib       0x000000018a23cd8c start_wqthread + 0

Thread 4:: JavaScriptCore bmalloc scavenger
0   libsystem_kernel.dylib         0x000000018a20c488 __psynch_cvwait + 8
1   libsystem_pthread.dylib       0x000000018a242568 _pthread_cond_wait +
1192
2   libc++.1.dylib                 0x000000018a19c3c4
std::__1::condition_variable::__do_timed_wait(std::__1::unique_lock<std::__1::mutex>&,
std::__1::chrono::time_point<std::__1::chrono::system_clock,
std::__1::chrono::duration<long long, std::__1::ratio<1l, 1000000000l> > >)
+ 100
3   com.apple.JavaScriptCore       0x00000001a02f90c0
bmalloc::Scavenger::threadRunLoop() + 672
4   com.apple.JavaScriptCore       0x00000001a02f8b8c
bmalloc::Scavenger::threadEntryPoint(bmalloc::Scavenger*) + 16
5   com.apple.JavaScriptCore       0x00000001a02faf0c void*
std::__1::__thread_proxy<std::__1::tuple<std::__1::unique_ptr<std::__1::__thread_struct,
std::__1::default_delete<std::__1::__thread_struct> >, void
(*)(bmalloc::Scavenger*), bmalloc::Scavenger*> >(void*) + 48
6   libsystem_pthread.dylib       0x000000018a24206c _pthread_start + 320
7   libsystem_pthread.dylib       0x000000018a23cda0 thread_start + 8

Thread 0 crashed with ARM Thread State (64-bit):
    x0: 0x2010000030300000   x1: 0x0000000fffffc110   x2:
0x0000000280004000   x3: 0x0000000000000001
    x4: 0x0000000000000000   x5: 0x0000000000000020   x6:
0x0000000000000000   x7: 0x0000000000000000
    x8: 0x2010000030300000   x9: 0x0000000000000001  x10:
0x2010000030100000  x11: 0x00000001046d4a10
   x12: 0x0000000000004257  x13: 0x0000000000000003  x14:
0x00000001046ecf70  x15: 0x0000000000000000
   x16: 0x0000000280004000  x17: 0x0000000280004000  x18:
0x0000000000000000  x19: 0x000000016f7d4a08
   x20: 0x000000016f7d48b8  x21: 0x0000000280004000  x22:
0x0000000280004000  x23: 0x0000000104638000
   x24: 0x0000000104638120  x25: 0x0000000106409fb8  x26:
0x00000000d73f0e1e  x27: 0xb7e151628aed2a6a
   x28: 0x0000001800000002   fp: 0x000000016f7d4850   lr: 0x3f1500019f793f94
    sp: 0x000000016f7d47d0   pc: 0x000000019f7948f4 cpsr: 0x20000000
   far: 0x00000001288af408  esr: 0xf2000001


Binary Images:
       0x100628000 -        0x1006affff +org.R-project.R (R for macOS GUI
1.74 Big Sur build - 7939) <F9BCEC0A-0E95-3EEA-8ED6-6E852157E24D>
/Applications/R.app/Contents/MacOS/R
       0x10073c000 -        0x10075bfff +libRblas.dylib (0)
<2B16E130-A82F-38DE-AE11-0FA1845E6516>
/Library/Frameworks/R.framework/Versions/4.1-arm64/Resources/lib/libRblas.dylib
       0x100768000 -        0x10088ffff +libgfortran.5.dylib (0)
<941E3EBA-536C-36C9-843B-755ABF03E85C>
/Library/Frameworks/R.framework/Versions/4.1-arm64/Resources/lib/libgfortran.5.dylib
       0x1008f4000 -        0x1008fbfff +libgcc_s.2.dylib (0)
<EB90DC6A-3D1B-36D2-A590-14733FD67CE9>
/Library/Frameworks/R.framework/Versions/4.1-arm64/Resources/lib/libgcc_s.2.dylib
       0x100aec000 -        0x100b67fff  dyld (832.7.3)
<4AB185B3-DC20-3C03-A193-67C0E6C589D7> /usr/lib/dyld
       0x100bf0000 -        0x100ea7fff +libR.dylib (0)
<8FB12494-8867-334D-9BD2-324765727419>
/Library/Frameworks/R.framework/Versions/4.1-arm64/Resources/lib/libR.dylib
       0x10402c000 -        0x104037fff  libobjc-trampolines.dylib (818.2)
<45594839-80BA-3B76-8693-7DB44ED2AF09> /usr/lib/libobjc-trampolines.dylib
       0x189f9e000 -        0x189f9ffff  libsystem_blocks.dylib (78)
<9B6D4883-03E9-3785-851E-EA79FA64ADC1>
/usr/lib/system/libsystem_blocks.dylib
       0x189fa0000 -        0x189fd7fff  libxpc.dylib (2038.80.3)
<BD0DFD42-0DC3-3F3D-9C04-5A2B3D93794D> /usr/lib/system/libxpc.dylib
       0x189fd8000 -        0x189feffff  libsystem_trace.dylib (1277.80.2)
<4A466196-D2DD-367B-80AB-988F281EC3B8> /usr/lib/system/libsystem_trace.dylib
       0x189ff0000 -        0x18a064fff  libcorecrypto.dylib (1000.80.5)
<9BD8FED7-2A36-3602-A5A7-0CA87C03FB84> /usr/lib/system/libcorecrypto.dylib
       0x18a065000 -        0x18a090fff  libsystem_malloc.dylib (317.40.8)
<21120432-52C1-34E4-BF01-623722FA3A41>
/usr/lib/system/libsystem_malloc.dylib
       0x18a091000 -        0x18a0d4fff  libdispatch.dylib (1271.40.12)
<F5BFBD55-EF70-3659-854D-9061325EB26D> /usr/lib/system/libdispatch.dylib
       0x18a0d5000 -        0x18a10dfff  libobjc.A.dylib (818.2)
<B03625B0-501E-3AC1-8E16-08B621120EAD> /usr/lib/libobjc.A.dylib
       0x18a10e000 -        0x18a110fff  libsystem_featureflags.dylib
(28.60.1) <297CC4DD-AFA4-3BA3-B4E1-0DF47E49C21E>
/usr/lib/system/libsystem_featureflags.dylib
       0x18a111000 -        0x18a191fff  libsystem_c.dylib (1439.40.11)
<A7147E08-E7C0-3842-916E-F2270A689F47> /usr/lib/system/libsystem_c.dylib
       0x18a192000 -        0x18a1edfff  libc++.1.dylib (904.4)
<B139607F-1E80-3A8E-870D-0AC022069EA1> /usr/lib/libc++.1.dylib
       0x18a1ee000 -        0x18a207fff  libc++abi.dylib (904.4)
<1DD3A1C9-D765-34FB-B8C1-87BF52CE49C0> /usr/lib/libc++abi.dylib
       0x18a208000 -        0x18a23afff  libsystem_kernel.dylib (7195.81.3)
<55FCA547-4877-3075-8A08-FE1620BFC682>
/usr/lib/system/libsystem_kernel.dylib
       0x18a23b000 -        0x18a246fff  libsystem_pthread.dylib (454.80.2)
<8E907E6C-C227-312E-944C-767093692AFF>
/usr/lib/system/libsystem_pthread.dylib
       0x18a247000 -        0x18a285fff  libdyld.dylib (832.7.3)
<EF759BF3-97FA-30EA-A1CA-EDECFEA726FE> /usr/lib/system/libdyld.dylib
       0x18a286000 -        0x18a28cfff  libsystem_platform.dylib
(254.80.2) <8633A39C-10A2-3B44-93F7-617AB09FF640>
/usr/lib/system/libsystem_platform.dylib
       0x18a28d000 -        0x18a2b8fff  libsystem_info.dylib (542.40.3)
<4CC96CFC-7198-3F26-8C8C-20FB010CDF98> /usr/lib/system/libsystem_info.dylib
       0x18a2b9000 -        0x18a762fff  com.apple.CoreFoundation (6.9 -
1774.101) <EA76C90A-23ED-3791-8FBC-8292916F0B16>
/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation
       0x18a763000 -        0x18a995fff  com.apple.LaunchServices (1122.11
- 1122.11) <B79A592B-8036-3E24-AD9D-3FB4E7BE2983>
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/LaunchServices
       0x18a996000 -        0x18aa6efff  com.apple.gpusw.MetalTools (1.0 -
1) <ED9E3F77-4900-3B5B-978A-70AA6762DFBA>
/System/Library/PrivateFrameworks/MetalTools.framework/Versions/A/MetalTools
       0x18aa6f000 -        0x18acc9fff  libBLAS.dylib (1336.40.1)
<96EAD889-D898-3884-A36C-F433DC2C64DD>
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib
       0x18acca000 -        0x18ad14fff  com.apple.Lexicon-framework (1.0 -
86.1) <81EA9F2C-6059-322A-B336-56CD7F3AB6C2>
/System/Library/PrivateFrameworks/Lexicon.framework/Versions/A/Lexicon
       0x18ad15000 -        0x18ad77fff  libSparse.dylib (106)
<1A70E696-43E3-3D8B-A3E1-ADB624729BF4>
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libSparse.dylib
       0x18ad78000 -        0x18adfffff  com.apple.SystemConfiguration
(1.20 - 1.20) <DD6AB615-BB7B-3634-9D33-3923E5038BAA>
/System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration
       0x18ae00000 -        0x18ae33fff  libCRFSuite.dylib (50)
<79C1501B-B0F6-341A-96CC-F4FE066E3D59> /usr/lib/libCRFSuite.dylib
       0x18ae34000 -        0x18b05efff  libmecabra.dylib (929.1.1)
<29B77781-FA91-3180-AFE8-608A355AE97E> /usr/lib/libmecabra.dylib
       0x18b05f000 -        0x18b3f0fff  com.apple.Foundation (6.9 -
1774.101) <8F7A0D5B-0E89-36F6-AC84-D3BEC2C44792>
/System/Library/Frameworks/Foundation.framework/Versions/C/Foundation
       0x18b3f1000 -        0x18b4e2fff  com.apple.LanguageModeling (1.0 -
247.1) <66B05273-1979-3DB2-9F68-C0E3A6CD88B1>
/System/Library/PrivateFrameworks/LanguageModeling.framework/Versions/A/LanguageModeling
       0x18b4e3000 -        0x18b605fff  com.apple.CoreDisplay (231.3 -
231.3) <55F5D4EC-8342-30A3-91BA-C8EBB2902C62>
/System/Library/Frameworks/CoreDisplay.framework/Versions/A/CoreDisplay
       0x18b606000 -        0x18b873fff  com.apple.audio.AudioToolboxCore
(1.0 - 1180.25) <2B096342-5488-35F5-A9FF-72A9D7357F56>
/System/Library/PrivateFrameworks/AudioToolboxCore.framework/Versions/A/AudioToolboxCore
       0x18b874000 -        0x18ba45fff  com.apple.CoreText (677.3.0.4 -
677.3.0.4) <E2758F16-97F5-3FA7-85C2-60E23A90F471>
/System/Library/Frameworks/CoreText.framework/Versions/A/CoreText
       0x18ba46000 -        0x18c06bfff  com.apple.audio.CoreAudio (5.0 -
5.0) <2A4CD49F-AB5D-3155-9889-2A388B4505DE>
/System/Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio
       0x18c06c000 -        0x18c3cafff  com.apple.security (7.0 -
59754.80.3) <C76855AD-6EE4-3413-9E6E-CC450BDB20E2>
/System/Library/Frameworks/Security.framework/Versions/A/Security
       0x18c3cb000 -        0x18c63cfff  libicucore.A.dylib (66109)
<3CE58F97-7FC3-37D8-BB99-D6BECFC86DD2> /usr/lib/libicucore.A.dylib
       0x18c63d000 -        0x18c647fff  libsystem_darwin.dylib
(1439.40.11) <B790A863-2D74-300E-9698-A25B5602B32F>
/usr/lib/system/libsystem_darwin.dylib
       0x18c648000 -        0x18c937fff  com.apple.CoreServices.CarbonCore
(1307 - 1307) <3EC22291-65E5-3EB6-9498-9A1244C90147>
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore
       0x18c938000 -        0x18c972fff  com.apple.CoreServicesInternal
(476 - 476) <021B41C2-A5E8-37C2-9A8D-899519F02AE6>
/System/Library/PrivateFrameworks/CoreServicesInternal.framework/Versions/A/CoreServicesInternal
       0x18c973000 -        0x18c9aefff  com.apple.CSStore (1122.11 -
1122.11) <52D8D7A1-4879-3488-9D39-5F2C7696EFA8>
/System/Library/PrivateFrameworks/CoreServicesStore.framework/Versions/A/CoreServicesStore
       0x18c9af000 -        0x18ca79fff  com.apple.framework.IOKit (2.0.2 -
1845.81.1) <516911DA-18D7-3D17-8646-BBF7C75CD070>
/System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
       0x18ca7a000 -        0x18ca85fff  libsystem_notify.dylib (279.40.4)
<A7B6BDA8-5371-352E-8A36-95D46C4B07F1>
/usr/lib/system/libsystem_notify.dylib
       0x18ca86000 -        0x18cad2fff  libsandbox.1.dylib (1441.60.4)
<5A1C8805-37B5-3B78-808B-8DEF77CBBEEA> /usr/lib/libsandbox.1.dylib
       0x18cad3000 -        0x18d831fff  com.apple.AppKit (6.9 -
2022.30.122) <9E051E42-05AD-3DEB-B5FE-74FED40F54FD>
/System/Library/Frameworks/AppKit.framework/Versions/C/AppKit
       0x18d832000 -        0x18da60fff  com.apple.UIFoundation (1.0 -
727.3) <BA2FA281-9C94-3F6B-82E2-5125C0E4E9EF>
/System/Library/PrivateFrameworks/UIFoundation.framework/Versions/A/UIFoundation
       0x18da61000 -        0x18da73fff  com.apple.UniformTypeIdentifiers
(633.0.2 - 633.0.2) <162DF56F-4DE4-3519-974F-87DBBE41DE6D>
/System/Library/Frameworks/UniformTypeIdentifiers.framework/Versions/A/UniformTypeIdentifiers
       0x18da74000 -        0x18dbe2fff  com.apple.desktopservices (1.18 -
1346.3.1) <1FF1398F-F5C0-327C-8B87-CF818C47C75C>
/System/Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/DesktopServicesPriv
       0x18dbf6000 -        0x18dde9fff  com.apple.CoreDuet (1.0 - 1)
<C6969C11-AC61-372C-BD49-DCF8825B88E7>
/System/Library/PrivateFrameworks/CoreDuet.framework/Versions/A/CoreDuet
       0x18de9c000 -        0x18e5a6fff  libnetwork.dylib (2288.80.2)
<07EC53A0-293C-3403-8394-755AE0BDDFA4> /usr/lib/libnetwork.dylib
       0x18e5a7000 -        0x18ea34fff  com.apple.CFNetwork (1220.1 -
1220.1) <3C5F5D1E-DB7C-3027-BBB0-91E6DEA3E264>
/System/Library/Frameworks/CFNetwork.framework/Versions/A/CFNetwork
       0x18ea35000 -        0x18ea44fff  libsystem_networkextension.dylib
(1295.80.3) <B6BD1267-BE59-3E42-B2B5-2BF13F17D02D>
/usr/lib/system/libsystem_networkextension.dylib
       0x18ea45000 -        0x18ea46fff  libenergytrace.dylib (22)
<C5CFEF87-BB69-3351-A0C8-9B601383A45C> /usr/lib/libenergytrace.dylib
       0x18ea47000 -        0x18ea9bfff  libMobileGestalt.dylib (978.80.1)
<93C6E288-C098-357F-B8A5-3E133DF39ECE> /usr/lib/libMobileGestalt.dylib
       0x18ea9c000 -        0x18eab3fff  libsystem_asl.dylib (385)
<31E28E59-1CDD-3B83-8BF0-56C675227FA2> /usr/lib/system/libsystem_asl.dylib
       0x18eab4000 -        0x18eacdfff  com.apple.TCC (1.0 - 1)
<C55FE947-0C86-3AAC-9306-9EFA7C033D07>
/System/Library/PrivateFrameworks/TCC.framework/Versions/A/TCC
       0x18eace000 -        0x18ee34fff  com.apple.SkyLight (1.600.0 -
570.7) <E50DF124-C72E-3349-9B99-788BF3160420>
/System/Library/PrivateFrameworks/SkyLight.framework/Versions/A/SkyLight
       0x18ee35000 -        0x18f422fff  com.apple.CoreGraphics (2.0 -
1463.3.2) <EB921871-B552-3F19-B55E-BB03106F4CF0>
/System/Library/Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics
       0x18f423000 -        0x18f518fff  com.apple.ColorSync (4.13.0 -
3473.3.1) <383BFD71-E7FA-3EA0-B8BC-8BC2452DD881>
/System/Library/Frameworks/ColorSync.framework/Versions/A/ColorSync
       0x18f519000 -        0x18f574fff  com.apple.HIServices (1.22 - 714)
<4404D4B7-FE46-33B6-919F-8A11C242CE96>
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/HIServices.framework/Versions/A/HIServices
       0x18f575000 -        0x18f5b1fff  libAWDSupport.dylib (949)
<58511FB3-C4A2-3CE0-8CA8-F6F195D472DF>
/System/Library/PrivateFrameworks/WirelessDiagnostics.framework/Versions/A/Libraries/libAWDSupport.dylib
       0x18f5b2000 -        0x18f614fff  libprotobuf.dylib (3919)
<C64DA474-70A0-3750-8A54-6BE6523DED70>
/System/Library/PrivateFrameworks/WirelessDiagnostics.framework/Versions/A/Libraries/libprotobuf.dylib
       0x18f615000 -        0x18f627fff  libprotobuf-lite.dylib (3919)
<ECBE815C-0532-3492-88F3-6AA638776867>
/System/Library/PrivateFrameworks/WirelessDiagnostics.framework/Versions/A/Libraries/libprotobuf-lite.dylib
       0x18f628000 -        0x18f66ffff  com.apple.awd (1.0 - 949)
<4EE08481-366B-3207-80B7-29AB0FB6AF7C>
/System/Library/PrivateFrameworks/WirelessDiagnostics.framework/Versions/A/WirelessDiagnostics
       0x18f670000 -        0x18f7e1fff  com.apple.Montreal (1.0 - 142)
<421E714F-2FC4-376B-9C8F-69DD48A94872>
/System/Library/PrivateFrameworks/Montreal.framework/Versions/A/Montreal
       0x18f8d0000 -        0x18fc81fff  com.apple.CoreData (120 - 1044.3)
<FB78C44B-E097-3BB8-8E61-72FF74BB5921>
/System/Library/Frameworks/CoreData.framework/Versions/A/CoreData
       0x18fc82000 -        0x18fc99fff  com.apple.ProtocolBuffer (1 -
285.23.11.29.1) <38163CA8-14FF-34A9-8AE4-D7D69B8C8854>
/System/Library/PrivateFrameworks/ProtocolBuffer.framework/Versions/A/ProtocolBuffer
       0x18fc9a000 -        0x18fe41fff  libsqlite3.dylib (321.1)
<8592B35B-9EA3-3C84-8453-9C86FB5C039C> /usr/lib/libsqlite3.dylib
       0x18fe42000 -        0x18feb9fff  com.apple.Accounts (113 - 113)
<9E3D8FCD-16A8-3D28-A7F3-D75476C16B8C>
/System/Library/Frameworks/Accounts.framework/Versions/A/Accounts
       0x18feba000 -        0x18fed1fff  com.apple.commonutilities (8.0 -
900) <34263522-C58C-3F19-8283-8CA507F3D20B>
/System/Library/PrivateFrameworks/CommonUtilities.framework/Versions/A/CommonUtilities
       0x18fed2000 -        0x18ff56fff  com.apple.BaseBoard (526 - 526)
<89622432-C593-3BF5-94EE-818870066499>
/System/Library/PrivateFrameworks/BaseBoard.framework/Versions/A/BaseBoard
       0x18ff57000 -        0x18ffa7fff  com.apple.RunningBoardServices
(1.0 - 505.80.1) <A450618A-7977-30E6-AA3B-05AAB841F7EA>
/System/Library/PrivateFrameworks/RunningBoardServices.framework/Versions/A/RunningBoardServices
       0x18ffa8000 -        0x19001bfff  com.apple.AE (918.0.1 - 918.0.1)
<7D13C9B5-D195-3E9E-B6C7-254F95A925C6>
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/AE.framework/Versions/A/AE
       0x19001c000 -        0x190023fff  libdns_services.dylib (1310.80.1)
<64D4BA25-C388-3AB8-BDA8-2E81459DA46A> /usr/lib/libdns_services.dylib
       0x190024000 -        0x19002bfff  libsystem_symptoms.dylib
(1431.40.36) <0657E539-C0CE-30F8-B630-FBAE36109542>
/usr/lib/system/libsystem_symptoms.dylib
       0x19002c000 -        0x190188fff  com.apple.Network (1.0 - 1)
<486C55B3-900C-3D09-AB0D-F99A152CFB84>
/System/Library/Frameworks/Network.framework/Versions/A/Network
       0x190189000 -        0x1901aefff  com.apple.analyticsd (1.0 - 1)
<E47FE17B-2ED2-3BE2-A5AB-046DB3C02EA0>
/System/Library/PrivateFrameworks/CoreAnalytics.framework/Versions/A/CoreAnalytics
       0x1901af000 -        0x1901b1fff  libDiagnosticMessagesClient.dylib
(112) <20AD555E-DF00-3C91-A95B-AB2AD23780AA>
/usr/lib/libDiagnosticMessagesClient.dylib
       0x1901b2000 -        0x1901fdfff
 com.apple.spotlight.metadata.utilities (1.0 - 2150.7.5)
<5400DF7A-9249-30E9-B692-AC431C7F74D9>
/System/Library/PrivateFrameworks/MetadataUtilities.framework/Versions/A/MetadataUtilities
       0x1901fe000 -        0x190297fff  com.apple.Metadata (10.7.0 -
2150.7.5) <4B03E6F8-1568-338B-AA75-480F9D824516>
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Metadata.framework/Versions/A/Metadata
       0x190298000 -        0x19029efff  com.apple.DiskArbitration (2.7 -
2.7) <7ED2211D-BA3C-37EC-BBA4-4320FBBC8A6A>
/System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration
       0x19029f000 -        0x1905bdfff  com.apple.vImage (8.1 - 544.2)
<B1B84588-8B57-3F98-9D50-AAC142DFF36E>
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vImage.framework/Versions/A/vImage
       0x1905be000 -        0x190870fff  com.apple.QuartzCore (1.11 -
926.8) <DD1CA6DB-763E-3C10-A626-2E187F05E96E>
/System/Library/Frameworks/QuartzCore.framework/Versions/A/QuartzCore
       0x190871000 -        0x1908b3fff  libFontRegistry.dylib (309)
<B7A493C8-041A-33E8-B703-C2B15800E8E0>
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libFontRegistry.dylib
       0x1908b4000 -        0x1909cdfff  com.apple.coreui (2.1 - 690)
<35D7762A-4F30-3C06-9561-03129131C328>
/System/Library/PrivateFrameworks/CoreUI.framework/Versions/A/CoreUI
       0x1909ce000 -        0x190aaefff  com.apple.ViewBridge (551.3 -
551.3) <A263088E-E069-3CAF-A98B-1A2BF034AD2E>
/System/Library/PrivateFrameworks/ViewBridge.framework/Versions/A/ViewBridge
       0x190aaf000 -        0x190ab9fff  com.apple.PerformanceAnalysis
(1.275 - 275) <CE3E666C-9271-36BC-9108-87959EE7DBCC>
/System/Library/PrivateFrameworks/PerformanceAnalysis.framework/Versions/A/PerformanceAnalysis
       0x190aba000 -        0x190ac7fff  com.apple.OpenDirectory (11.2 -
230.40.1) <C509DC91-F994-34B7-A5C5-A108E7DA5E4E>
/System/Library/Frameworks/OpenDirectory.framework/Versions/A/OpenDirectory
       0x190ac8000 -        0x190ae7fff  com.apple.CFOpenDirectory (11.2 -
230.40.1) <A5449895-6129-3BDF-864B-49ACA82E3052>
/System/Library/Frameworks/OpenDirectory.framework/Versions/A/Frameworks/CFOpenDirectory.framework/Versions/A/CFOpenDirectory
       0x190ae8000 -        0x190af0fff  com.apple.CoreServices.FSEvents
(1290.40.2 - 1290.40.2) <72CF142E-3792-318C-B2D6-B60C5E219312>
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/FSEvents.framework/Versions/A/FSEvents
       0x190af1000 -        0x190b15fff
 com.apple.coreservices.SharedFileList (144 - 144)
<E4152CCC-4A03-3959-B788-D7DD1ADFF8A6>
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/SharedFileList.framework/Versions/A/SharedFileList
       0x190b16000 -        0x190b18fff  libapp_launch_measurement.dylib
(14.1) <A5637442-ADCB-30F0-AAB4-72FA1C5E3811>
/usr/lib/libapp_launch_measurement.dylib
       0x190b19000 -        0x190b5cfff  com.apple.CoreAutoLayout (1.0 -
21.10.1) <6026D662-F75F-3C82-8C80-F6CEBF6369BF>
/System/Library/PrivateFrameworks/CoreAutoLayout.framework/Versions/A/CoreAutoLayout
       0x190b5d000 -        0x190c48fff  libxml2.2.dylib (34.9)
<E170FFEE-EB9F-3252-9B16-4A47FBAC425A> /usr/lib/libxml2.2.dylib
       0x190c49000 -        0x190c9bfff  com.apple.CoreVideo (1.8 - 408.4)
<CBC1FBC1-0C8F-365D-BBBE-0A4E67907617>
/System/Library/Frameworks/CoreVideo.framework/Versions/A/CoreVideo
       0x190c9c000 -        0x190c9efff  com.apple.loginsupport (1.0 - 1)
<232A91A0-5E9D-3D5E-8A33-FAD681F0E522>
/System/Library/PrivateFrameworks/login.framework/Versions/A/Frameworks/loginsupport.framework/Versions/A/loginsupport
       0x190c9f000 -        0x190cc6fff  com.apple.aps.framework (4.0 -
4.0) <A26B0BB2-195B-36FC-9BB4-0B9F961F23E5>
/System/Library/PrivateFrameworks/ApplePushService.framework/Versions/A/ApplePushService
       0x190cc7000 -        0x190ce6fff  com.apple.UserManagement (1.0 - 1)
<91FCA944-6C2F-38BA-8ACA-D2EE30B059FF>
/System/Library/PrivateFrameworks/UserManagement.framework/Versions/A/UserManagement
       0x190ce7000 -        0x190e95fff  com.apple.cloudkit.CloudKit (970 -
970) <9773F3CB-8F67-3CDB-93EA-EBE1BFD8931D>
/System/Library/Frameworks/CloudKit.framework/Versions/A/CloudKit
       0x190f1b000 -        0x1912defff  com.apple.CoreML (1.0 - 1)
<878ED684-373E-37BA-81DF-7992D72724A7>
/System/Library/Frameworks/CoreML.framework/Versions/A/CoreML
       0x1912df000 -        0x191a21fff  libwebrtc.dylib (7610.4.3.1.4)
<5C5E46C6-B77E-3837-AC35-B7C8DD9CC0F9>
/System/Library/Frameworks/WebKit.framework/Versions/A/Frameworks/WebCore.framework/Versions/A/Frameworks/libwebrtc.dylib
       0x191a22000 -        0x191a98fff  com.apple.corelocation (2420.12.16
- 2420.12.16) <EAB86025-4FDB-320C-8DB8-C5D3045C935E>
/System/Library/Frameworks/CoreLocation.framework/Versions/A/CoreLocation
       0x191a99000 -        0x191aaafff  libsystem_containermanager.dylib
(318.80.2) <0B742EA4-AFA2-36B6-AB4B-2F8ACA7211AA>
/usr/lib/system/libsystem_containermanager.dylib
       0x191aab000 -        0x191abcfff  com.apple.IOSurface (289.3 -
289.3) <64E3394D-C908-378C-B5CE-B89C6BE61E9F>
/System/Library/Frameworks/IOSurface.framework/Versions/A/IOSurface
       0x191abd000 -        0x191ac6fff  com.apple.IOAccelerator (439.52 -
439.52) <2995471C-4A7A-342A-B702-496519D138E2>
/System/Library/PrivateFrameworks/IOAccelerator.framework/Versions/A/IOAccelerator
       0x191ac7000 -        0x191bbdfff  com.apple.Metal (244.32.7 -
244.32.7) <E8BC8E6D-4359-3A04-87CB-6F0D4F8F5C4B>
/System/Library/Frameworks/Metal.framework/Versions/A/Metal
       0x191bbe000 -        0x191bddfff  com.apple.audio.caulk (1.0 - 70)
<E99AE5AD-D1DE-39EF-98CD-D90A6318A7B5>
/System/Library/PrivateFrameworks/caulk.framework/Versions/A/caulk
       0x191bde000 -        0x191cd4fff  com.apple.CoreMedia (1.0 -
2765.6.4.2) <9544A01C-6A6E-33E7-8408-A5118DEFD83C>
/System/Library/Frameworks/CoreMedia.framework/Versions/A/CoreMedia
       0x191cd5000 -        0x191e2dfff  libFontParser.dylib (305.3.0.1)
<05D15A58-A965-37AB-99E1-B219E1BE7A4D>
/System/Library/PrivateFrameworks/FontServices.framework/libFontParser.dylib
       0x191e2e000 -        0x19213dfff  com.apple.HIToolbox (2.1.1 -
1061.2) <69773C1A-17CF-3400-AC76-C1033939733F>
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox
       0x19213e000 -        0x192155fff  com.apple.framework.DFRFoundation
(1.0 - 265) <A8459222-E57D-35F4-8559-776156ACB9AE>
/System/Library/PrivateFrameworks/DFRFoundation.framework/Versions/A/DFRFoundation
       0x192156000 -        0x192159fff  com.apple.dt.XCTTargetBootstrap
(1.0 - 17500) <E95F758C-2298-3CD7-AF9A-DF2C65EE70E8>
/System/Library/PrivateFrameworks/XCTTargetBootstrap.framework/Versions/A/XCTTargetBootstrap
       0x19215a000 -        0x192184fff  com.apple.CoreSVG (1.0 - 149)
<4C650BC1-BFF9-34D2-9655-A4B31EEB3A87>
/System/Library/PrivateFrameworks/CoreSVG.framework/Versions/A/CoreSVG
       0x192185000 -        0x1923a2fff  com.apple.ImageIO (3.3.0 -
2130.3.4) <0397355B-7EA5-3B61-A13D-A1EE17202D1E>
/System/Library/Frameworks/ImageIO.framework/Versions/A/ImageIO
       0x1923a3000 -        0x1926c3fff  com.apple.CoreImage (16.2.0 -
1130.1) <78FEE69F-A99D-3425-B458-510574A62A6E>
/System/Library/Frameworks/CoreImage.framework/Versions/A/CoreImage
       0x1926c4000 -        0x19271bfff
 com.apple.MetalPerformanceShaders.MPSCore (1.0 - 1)
<F07355C4-C893-3534-B74E-DD5FBCBEC76C>
/System/Library/Frameworks/MetalPerformanceShaders.framework/Versions/A/Frameworks/MPSCore.framework/Versions/A/MPSCore
       0x19271c000 -        0x192720fff  libsystem_configuration.dylib
(1109.60.2) <AEC5E654-A5B8-343E-80B7-27D5D0D856D9>
/usr/lib/system/libsystem_configuration.dylib
       0x192721000 -        0x192725fff  libsystem_sandbox.dylib
(1441.60.4) <D7CDDE27-978E-3511-AE6F-296D901290B2>
/usr/lib/system/libsystem_sandbox.dylib
       0x192726000 -        0x192727fff  com.apple.AggregateDictionary (1.0
- 1) <516D38F6-E0E1-36B4-AC96-E5079ECC6ED4>
/System/Library/PrivateFrameworks/AggregateDictionary.framework/Versions/A/AggregateDictionary
       0x192728000 -        0x19272bfff  com.apple.AppleSystemInfo (3.1.5 -
3.1.5) <E6509790-A434-3A6A-AF9E-EA1FDBF15F6A>
/System/Library/PrivateFrameworks/AppleSystemInfo.framework/Versions/A/AppleSystemInfo
       0x19272c000 -        0x19272dfff  liblangid.dylib (136)
<12979BA7-28E3-3E74-AC24-65166A921235> /usr/lib/liblangid.dylib
       0x19272e000 -        0x1927bcfff  com.apple.CoreNLP (1.0 - 245.1)
<92E28F08-9AB8-3B02-A889-677A716E393C>
/System/Library/PrivateFrameworks/CoreNLP.framework/Versions/A/CoreNLP
       0x1927bd000 -        0x1927c4fff  com.apple.LinguisticData (1.0 -
399) <2B3E7B26-D669-38C0-9B7F-FFB2E94BC23B>
/System/Library/PrivateFrameworks/LinguisticData.framework/Versions/A/LinguisticData
       0x1927c5000 -        0x192c7afff  libBNNS.dylib (288.80.1)
<695BEB14-BA36-3386-8C72-A219A73C9601>
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBNNS.dylib
       0x192c7b000 -        0x192d2dfff  libvDSP.dylib (760.40.6)
<9FAC0A5B-0CD5-3999-815A-3C663EC71F65>
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvDSP.dylib
       0x192d2e000 -        0x192d40fff  com.apple.CoreEmoji (1.0 - 128)
<0FCD33E9-8DC4-3FB1-86DC-8ECA2FA10E37>
/System/Library/PrivateFrameworks/CoreEmoji.framework/Versions/A/CoreEmoji
       0x192d41000 -        0x192d4bfff  com.apple.IOMobileFramebuffer
(343.0.0 - 343.0.0) <57F4592F-D6FA-3ED9-ACEF-B1D7A7359DC1>
/System/Library/PrivateFrameworks/IOMobileFramebuffer.framework/Versions/A/IOMobileFramebuffer
       0x192d4c000 -        0x192e17fff  com.apple.framework.CoreWLAN (16.0
- 1657) <CE21D5A5-CEEA-3F7F-8DFB-DB200BC844BF>
/System/Library/Frameworks/CoreWLAN.framework/Versions/A/CoreWLAN
       0x192e18000 -        0x193017fff  com.apple.CoreUtils (6.5 - 650.6)
<768C98CD-589C-3020-B046-9945F4A79073>
/System/Library/PrivateFrameworks/CoreUtils.framework/Versions/A/CoreUtils
       0x193018000 -        0x19303afff  com.apple.MobileKeyBag (2.0 - 1.0)
<32451B9C-8D50-39E2-ACA5-6571087CE2E3>
/System/Library/PrivateFrameworks/MobileKeyBag.framework/Versions/A/MobileKeyBag
       0x19303b000 -        0x19304afff  com.apple.AssertionServices (1.0 -
505.80.1) <61B246D7-5C18-38AC-8A21-C6117863F42A>
/System/Library/PrivateFrameworks/AssertionServices.framework/Versions/A/AssertionServices
       0x19304b000 -        0x1930d0fff  com.apple.securityfoundation (6.0
- 55240.40.4) <6D4E864F-4AAC-31AF-85AF-C308528C0F0B>
/System/Library/Frameworks/SecurityFoundation.framework/Versions/A/SecurityFoundation
       0x1930d1000 -        0x1930dafff
 com.apple.coreservices.BackgroundTaskManagement (1.0 - 104)
<8981AD5E-DC12-3B54-BAC0-E9E113C4B1A0>
/System/Library/PrivateFrameworks/BackgroundTaskManagement.framework/Versions/A/BackgroundTaskManagement
       0x1930db000 -        0x1930e0fff  com.apple.xpc.ServiceManagement
(1.0 - 1) <7B4325ED-9CF7-3D9E-A39C-F0AE7819F0C0>
/System/Library/Frameworks/ServiceManagement.framework/Versions/A/ServiceManagement
       0x1930e1000 -        0x1930e3fff  libquarantine.dylib (119.40.2)
<66942A5C-57B3-3524-BA49-0F2DA4A584D1> /usr/lib/system/libquarantine.dylib
       0x1930e4000 -        0x1930f3fff  libCheckFix.dylib (31)
<05E93C9D-45F9-3758-95FD-481E5EA2D5EF> /usr/lib/libCheckFix.dylib
       0x1930f4000 -        0x19310afff  libcoretls.dylib (169)
<2B83641A-06E3-30E5-863E-BFE8CEC3B859> /usr/lib/libcoretls.dylib
       0x19310b000 -        0x19311bfff  libbsm.0.dylib (68.40.1)
<CE32C4E7-4F74-3ACC-99B8-16AFE4A23E03> /usr/lib/libbsm.0.dylib
       0x19311c000 -        0x193160fff  libmecab.dylib (929.1.1)
<CE0C1CA4-368D-38EE-891D-D61091F647A2> /usr/lib/libmecab.dylib
       0x193161000 -        0x193165fff  libgermantok.dylib (24)
<585D03D1-A1E6-3956-8F81-27B564E177DC> /usr/lib/libgermantok.dylib
       0x193166000 -        0x19317bfff  libLinearAlgebra.dylib (1336.40.1)
<774FCF6E-9563-390C-9999-EEE1EC1045D7>
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLinearAlgebra.dylib
       0x19317c000 -        0x19337ffff
 com.apple.MetalPerformanceShaders.MPSNeuralNetwork (1.0 - 1)
<369F0556-1E68-3ACD-970F-9BA2E7D7DE69>
/System/Library/Frameworks/MetalPerformanceShaders.framework/Versions/A/Frameworks/MPSNeuralNetwork.framework/Versions/A/MPSNeuralNetwork
       0x193380000 -        0x1933c9fff
 com.apple.MetalPerformanceShaders.MPSRayIntersector (1.0 - 1)
<C80E83CD-2C05-3249-8E4E-D5375BD16441>
/System/Library/Frameworks/MetalPerformanceShaders.framework/Versions/A/Frameworks/MPSRayIntersector.framework/Versions/A/MPSRayIntersector
       0x1933ca000 -        0x193505fff  com.apple.MLCompute (1.0 - 1)
<CD7FE3D8-A588-399A-8D59-BEAD2D718392>
/System/Library/Frameworks/MLCompute.framework/Versions/A/MLCompute
       0x193506000 -        0x193534fff
 com.apple.MetalPerformanceShaders.MPSMatrix (1.0 - 1)
<D1041D3B-5213-3C8A-8403-EF7C26C10E73>
/System/Library/Frameworks/MetalPerformanceShaders.framework/Versions/A/Frameworks/MPSMatrix.framework/Versions/A/MPSMatrix
       0x193535000 -        0x193570fff
 com.apple.MetalPerformanceShaders.MPSNDArray (1.0 - 1)
<7FBD627B-7007-35FC-8035-1EC2453C7B3B>
/System/Library/Frameworks/MetalPerformanceShaders.framework/Versions/A/Frameworks/MPSNDArray.framework/Versions/A/MPSNDArray
       0x193571000 -        0x1935fbfff
 com.apple.MetalPerformanceShaders.MPSImage (1.0 - 1)
<80EBB4E0-1EFB-39CE-97C8-550F0BE84C3A>
/System/Library/Frameworks/MetalPerformanceShaders.framework/Versions/A/Frameworks/MPSImage.framework/Versions/A/MPSImage
       0x1935fc000 -        0x19360bfff  com.apple.AppleFSCompression (125
- 1.0) <707AA112-C043-353A-A6CE-C3FE9613B183>
/System/Library/PrivateFrameworks/AppleFSCompression.framework/Versions/A/AppleFSCompression
       0x19360c000 -        0x193618fff  libbz2.1.0.dylib (44)
<E7E9F4E9-8BAC-3994-A193-DDC75B11BF17> /usr/lib/libbz2.1.0.dylib
       0x193619000 -        0x19361dfff  libsystem_coreservices.dylib (127)
<A9BDB37A-3E00-3FD0-AE92-7ED6FB63DD3B>
/usr/lib/system/libsystem_coreservices.dylib
       0x19361e000 -        0x19364efff  com.apple.CoreServices.OSServices
(1122.11 - 1122.11) <251E3502-60E9-3379-864A-6AFFD40E6A1C>
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/OSServices.framework/Versions/A/OSServices
       0x19364f000 -        0x193764fff  com.apple.AuthKit (1.0 - 1)
<1F566084-0D88-3EE0-88FA-45B228F17B7A>
/System/Library/PrivateFrameworks/AuthKit.framework/Versions/A/AuthKit
       0x19380c000 -        0x19381dfff  libz.1.dylib (76)
<9005FC69-0FEF-375F-AB09-DF5CEBAD5D14> /usr/lib/libz.1.dylib
       0x19381e000 -        0x19384bfff  libsystem_m.dylib (3186.40.2)
<8FADC1D2-0B61-34C7-9F1C-19D85CB07E16> /usr/lib/system/libsystem_m.dylib
       0x19384c000 -        0x19384cfff  libcharset.1.dylib (59)
<F0B25393-7B06-3499-A62E-51398A22E835> /usr/lib/libcharset.1.dylib
       0x19384d000 -        0x193852fff  libmacho.dylib (973.4)
<8146EF75-0B83-3A8D-A1DA-1D49AD62DE88> /usr/lib/system/libmacho.dylib
       0x193853000 -        0x19386efff  libkxld.dylib (7195.81.3)
<A984A8FB-D44F-31B3-863E-A4947B3E20AE> /usr/lib/system/libkxld.dylib
       0x19386f000 -        0x19387cfff  libcommonCrypto.dylib (60178.40.2)
<49528AE3-1376-376C-BE61-31393A50850D> /usr/lib/system/libcommonCrypto.dylib
       0x19387d000 -        0x193887fff  libunwind.dylib (200.10)
<017E8A02-B5EA-36DB-BB73-9EDD72F1229A> /usr/lib/system/libunwind.dylib
       0x193888000 -        0x19388ffff  liboah.dylib (203.30)
<46D9195A-40F2-3CD5-AE73-2F6EF52ECCEC> /usr/lib/liboah.dylib
       0x193890000 -        0x193898fff  libcopyfile.dylib (173.40.2)
<B123D3D2-7B17-3A85-AFC6-37D7AD1C5E78> /usr/lib/system/libcopyfile.dylib
       0x193899000 -        0x19389cfff  libcompiler_rt.dylib (102.2)
<EDB437BA-9775-3761-A646-58086BD12C4D> /usr/lib/system/libcompiler_rt.dylib
       0x19389d000 -        0x19389ffff  libsystem_collections.dylib
(1439.40.11) <B252D66F-979E-3ABA-83AC-0BDED154A9A7>
/usr/lib/system/libsystem_collections.dylib
       0x1938a0000 -        0x1938a2fff  libsystem_secinit.dylib (87.60.1)
<F250D007-BE32-3C94-86DD-33598CF6D3E3>
/usr/lib/system/libsystem_secinit.dylib
       0x1938a3000 -        0x1938a5fff  libremovefile.dylib (49.40.3)
<FE46F050-5062-3117-88B2-E727C8AFABA6> /usr/lib/system/libremovefile.dylib
       0x1938a6000 -        0x1938a6fff  libkeymgr.dylib (31)
<1EE40BB9-C661-3FB2-8409-44E93D2820DA> /usr/lib/system/libkeymgr.dylib
       0x1938a7000 -        0x1938affff  libsystem_dnssd.dylib (1310.80.1)
<7F309D4C-1FE5-3C27-8403-9F305D7D8725> /usr/lib/system/libsystem_dnssd.dylib
       0x1938b0000 -        0x1938b5fff  libcache.dylib (83)
<C8504CA2-F42B-312F-B79D-2B1C7E64FA4D> /usr/lib/system/libcache.dylib
       0x1938b6000 -        0x1938b7fff  libSystem.B.dylib (1292.60.1)
<CF348B98-3432-3B5A-920B-2C7AFE89000D> /usr/lib/libSystem.B.dylib
       0x1938b8000 -        0x1938bbfff  libfakelink.dylib (3)
<398932A6-EE2F-3C11-8255-AEB91EF9069D> /usr/lib/libfakelink.dylib
       0x1938bc000 -        0x1938bcfff  com.apple.SoftLinking (1.0 - 1)
<B609E3D2-B652-38E2-A5E0-4985185E9F69>
/System/Library/PrivateFrameworks/SoftLinking.framework/Versions/A/SoftLinking
       0x1938bd000 -        0x1938f7fff  libpcap.A.dylib (98.40.1)
<D19BF558-C2D8-352C-8452-A2807FAC5D91> /usr/lib/libpcap.A.dylib
       0x1938f8000 -        0x1939eafff  libiconv.2.dylib (59)
<36178571-5C2D-3429-9D94-B0E956AE4B2C> /usr/lib/libiconv.2.dylib
       0x1939eb000 -        0x193a00fff  libcmph.dylib (8)
<65B14CE5-2B6F-3698-9BF9-39C3196A928D> /usr/lib/libcmph.dylib
       0x193a01000 -        0x193a71fff  libarchive.2.dylib (83.40.4)
<C556EDF4-08F0-331E-8A62-9C7233BB930B> /usr/lib/libarchive.2.dylib
       0x193a72000 -        0x193ae2fff  com.apple.SearchKit (1.4.1 -
1.4.1) <211189D3-E503-37A5-A5E6-7B02A44E08E3>
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit
       0x193ae3000 -        0x193ae4fff  libThaiTokenizer.dylib (3)
<3E87F039-817A-38BB-94E2-2AA93C5D5965> /usr/lib/libThaiTokenizer.dylib
       0x193ae5000 -        0x193b09fff  com.apple.applesauce (1.0 - 16.26)
<D616410B-2D32-3B48-A2EB-CF9CA1D8DE54>
/System/Library/PrivateFrameworks/AppleSauce.framework/Versions/A/AppleSauce
       0x193b0a000 -        0x193b20fff  libapple_nghttp2.dylib (1.41)
<670949F6-4C08-36D4-B515-469A0846A4F3> /usr/lib/libapple_nghttp2.dylib
       0x193b21000 -        0x193b32fff  libSparseBLAS.dylib (1336.40.1)
<11F539F3-F024-3D45-832A-D2B362539C0C>
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libSparseBLAS.dylib
       0x193b33000 -        0x193b34fff
 com.apple.MetalPerformanceShaders.MetalPerformanceShaders (1.0 - 1)
<30262021-FD5E-3A9A-B63F-6A615BD26B8E>
/System/Library/Frameworks/MetalPerformanceShaders.framework/Versions/A/MetalPerformanceShaders
       0x193b35000 -        0x193b39fff  libpam.2.dylib (28.40.1)
<A54ADB70-CB45-3D50-893E-062B0775AECE> /usr/lib/libpam.2.dylib
       0x193b3a000 -        0x193b51fff  libcompression.dylib (96.40.6)
<77DE8770-609A-3213-AB0D-FDAE0BC1313E> /usr/lib/libcompression.dylib
       0x193b52000 -        0x193b56fff  libQuadrature.dylib (7)
<3CC73BE9-2FB3-3FA0-B73F-A4E9A5B5A89C>
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libQuadrature.dylib
       0x193b57000 -        0x194001fff  libLAPACK.dylib (1336.40.1)
<DF89839C-B788-3136-96DB-48D77F63AF4F>
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib
       0x194002000 -        0x194053fff  com.apple.DictionaryServices (1.2
- 341) <A6CA3038-792A-3F3C-B2F1-268425A70910>
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/DictionaryServices.framework/Versions/A/DictionaryServices
       0x194054000 -        0x19406cfff  liblzma.5.dylib (16)
<F96537A2-0FD4-3DA2-813C-C80F610735FA> /usr/lib/liblzma.5.dylib
       0x19406d000 -        0x19406efff  libcoretls_cfhelpers.dylib (169)
<305BD63F-35B3-3C85-87CE-E6A9F9C6134C> /usr/lib/libcoretls_cfhelpers.dylib
       0x19406f000 -        0x194152fff  com.apple.APFS (1677.81.1 -
1677.81.1) <C72B80A2-0F75-3498-BF09-08808758449F>
/System/Library/PrivateFrameworks/APFS.framework/Versions/A/APFS
       0x194153000 -        0x194160fff  libxar.1.dylib (452)
<11B97EF4-5F19-3E16-9EEF-D910A09824A1> /usr/lib/libxar.1.dylib
       0x194161000 -        0x194164fff  libutil.dylib (58.40.2)
<9FCE657A-8B1D-335A-8867-FC00A1C0CEE9> /usr/lib/libutil.dylib
       0x194165000 -        0x19418efff  libxslt.1.dylib (17.3)
<25248CEF-CC74-3ECF-9A57-43A3C80FCF15> /usr/lib/libxslt.1.dylib
       0x19418f000 -        0x194199fff  libChineseTokenizer.dylib (37)
<9C23FE94-6C58-34B3-B16D-43B470BF8BC2> /usr/lib/libChineseTokenizer.dylib
       0x19419a000 -        0x19420efff  libvMisc.dylib (760.40.6)
<7AE629F6-F842-3C88-A74F-3C48D5625F01>
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvMisc.dylib
       0x19420f000 -        0x1942a0fff  libate.dylib (3.0.4)
<B55E6C3B-6872-3A78-96D9-55EE0F3FF4AA> /usr/lib/libate.dylib
       0x1942a1000 -        0x1942a8fff  libIOReport.dylib (64)
<5E77D159-7724-367D-BA5F-503C20075316> /usr/lib/libIOReport.dylib
       0x1942a9000 -        0x1942d5fff  com.apple.CrashReporterSupport
(10.13 - 15047.1) <2CBB916B-5DE3-38E3-9EF2-FE363057D6C7>
/System/Library/PrivateFrameworks/CrashReporterSupport.framework/Versions/A/CrashReporterSupport
       0x1942ee000 -        0x19436bfff  com.apple.CVNLP (1.0 - 119)
<1959676F-F56B-3033-9D9F-B8F6C0FF2F5C>
/System/Library/PrivateFrameworks/CVNLP.framework/Versions/A/CVNLP
       0x19438a000 -        0x1943bbfff  com.apple.pluginkit.framework (1.0
- 1) <72A8F4A7-5CFD-3F2B-A743-D522966A6E5E>
/System/Library/PrivateFrameworks/PlugInKit.framework/Versions/A/PlugInKit
       0x1943bc000 -        0x1943c3fff  libMatch.1.dylib (38)
<147115B3-1E28-364B-BCED-83AE05C3C54C> /usr/lib/libMatch.1.dylib
       0x1943c4000 -        0x194447fff  libCoreStorage.dylib (554)
<D9D7B3CA-EB16-3853-8984-9713EC575DC5> /usr/lib/libCoreStorage.dylib
       0x194448000 -        0x194493fff  com.apple.AppleVAFramework (6.1.3
- 6.1.3) <B78C7AAC-CB7A-326B-97BB-F3CC524846B9>
/System/Library/PrivateFrameworks/AppleVA.framework/Versions/A/AppleVA
       0x194494000 -        0x1944adfff  libexpat.1.dylib (26)
<EE6B5F2B-B9BF-3593-BDA5-C5FAF849DD17> /usr/lib/libexpat.1.dylib
       0x1944ae000 -        0x1944b7fff  libheimdal-asn1.dylib (597.80.1)
<29F9E056-0AA1-3570-B16F-1F8ADA99093C> /usr/lib/libheimdal-asn1.dylib
       0x1944b8000 -        0x1944cafff  com.apple.IconFoundation (479.3 -
479.3) <6479DFE9-D7F6-3E77-9223-ED82B0CF00A7>
/System/Library/PrivateFrameworks/IconFoundation.framework/Versions/A/IconFoundation
       0x1944cb000 -        0x194531fff  com.apple.IconServices (479.3 -
479.3) <4F9CE33F-3887-3E46-98A1-B885099752DC>
/System/Library/PrivateFrameworks/IconServices.framework/Versions/A/IconServices
       0x194532000 -        0x1945d5fff  com.apple.MediaExperience (1.0 -
1) <5DE9BF5C-D74E-3352-A717-F5A275852683>
/System/Library/PrivateFrameworks/MediaExperience.framework/Versions/A/MediaExperience
       0x1945d6000 -        0x1945fcfff  com.apple.persistentconnection
(1.0 - 1.0) <3252899F-ED6C-3BD9-959B-06A9773F7719>
/System/Library/PrivateFrameworks/PersistentConnection.framework/Versions/A/PersistentConnection
       0x1945fd000 -        0x19460afff  com.apple.GraphVisualizer (1.0 -
100.1) <725B4036-56E6-360F-AEBC-C4784E7A898E>
/System/Library/PrivateFrameworks/GraphVisualizer.framework/Versions/A/GraphVisualizer
       0x19460b000 -        0x194a1dfff  com.apple.vision.FaceCore (4.3.2 -
4.3.2) <4CA300E2-6E7D-3858-A608-2A497C9FE229>
/System/Library/PrivateFrameworks/FaceCore.framework/Versions/A/FaceCore
       0x194a1e000 -        0x194a5ffff  com.apple.OTSVG (1.0 - 677.3.0.4)
<2BCF926A-7F63-382A-927D-393058EC1795>
/System/Library/PrivateFrameworks/OTSVG.framework/Versions/A/OTSVG
       0x194a60000 -        0x194a67fff  com.apple.xpc.AppServerSupport
(1.0 - 2038.80.3) <A9B4EE7D-C4A9-39DB-B183-B6D99185012C>
/System/Library/PrivateFrameworks/AppServerSupport.framework/Versions/A/AppServerSupport
       0x194a68000 -        0x194a76fff  libhvf.dylib (1.0 -
$[CURRENT_PROJECT_VERSION]) <2C1D4983-B7F7-3447-9189-92018437127D>
/System/Library/PrivateFrameworks/FontServices.framework/libhvf.dylib
       0x194a77000 -        0x194a79fff  libspindump.dylib (295.1)
<579EC8E0-21D6-39A2-A74B-726255A25AFE> /usr/lib/libspindump.dylib
       0x194a7a000 -        0x194b2efff  com.apple.Heimdal (4.0 - 2.0)
<28FD0493-0DAE-3DCA-80AC-0740244F5E11>
/System/Library/PrivateFrameworks/Heimdal.framework/Versions/A/Heimdal
       0x194b4a000 -        0x194c1dfff  com.apple.corebrightness (1.0 - 1)
<0E591732-3CD7-3698-90F1-6347B2FADE0A>
/System/Library/PrivateFrameworks/CoreBrightness.framework/Versions/A/CoreBrightness
       0x194cc2000 -        0x194d21fff  com.apple.bom (14.0 - 233)
<EF1AFFB5-372E-33C5-B564-A1F476507254>
/System/Library/PrivateFrameworks/Bom.framework/Versions/A/Bom
       0x194d22000 -        0x194d65fff  com.apple.AppleJPEG (1.0 - 1)
<B1B863AD-63BA-33B0-BE18-6387FD751F3C>
/System/Library/PrivateFrameworks/AppleJPEG.framework/Versions/A/AppleJPEG
       0x194d66000 -        0x194e47fff  libJP2.dylib (2130.3.4)
<3A8F4A4F-B7F8-3C29-B971-01CB0688CA69>
/System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libJP2.dylib
       0x194e48000 -        0x194e4bfff  com.apple.WatchdogClient.framework
(1.0 - 98.80.2) <9C7D6E3D-9534-32AB-B4FC-F550258067C2>
/System/Library/PrivateFrameworks/WatchdogClient.framework/Versions/A/WatchdogClient
       0x194e4c000 -        0x194e80fff
 com.apple.MultitouchSupport.framework (4400.28 - 4400.28)
<74BAC7AE-CB7B-3A72-AB21-D82011A73380>
/System/Library/PrivateFrameworks/MultitouchSupport.framework/Versions/A/MultitouchSupport
       0x194e81000 -        0x194fa6fff  com.apple.VideoToolbox (1.0 -
2765.6.4.2) <BA33A010-65A6-33E9-9166-A53C1C248CCF>
/System/Library/Frameworks/VideoToolbox.framework/Versions/A/VideoToolbox
       0x194fa7000 -        0x194fd9fff  libAudioToolboxUtility.dylib
(1180.25) <38FA690C-5AF6-30C6-93E5-C6B2FF22964E>
/usr/lib/libAudioToolboxUtility.dylib
       0x194fda000 -        0x195000fff  libPng.dylib (2130.3.4)
<80EDBDF5-0B3B-3C6F-AC40-F231B6B515BE>
/System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libPng.dylib
       0x195001000 -        0x19505cfff  libTIFF.dylib (2130.3.4)
<EC020BA5-8CB0-3B33-87CC-98AD56CD3A1E>
/System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libTIFF.dylib
       0x19505d000 -        0x19507bfff  com.apple.IOPresentment (54 - 37)
<A7F77240-82AF-38E7-8A85-8D43AB485217>
/System/Library/PrivateFrameworks/IOPresentment.framework/Versions/A/IOPresentment
       0x19507c000 -        0x195080fff  com.apple.GPUWrangler (6.2.2 -
6.2.2) <728ADF65-CA13-361F-B5C0-81FD856C92FF>
/System/Library/PrivateFrameworks/GPUWrangler.framework/Versions/A/GPUWrangler
       0x195081000 -        0x195083fff  libRadiance.dylib (2130.3.4)
<85F59223-DEA7-37DB-B6BE-80D30688C858>
/System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libRadiance.dylib
       0x195084000 -        0x195089fff  com.apple.DSExternalDisplay (3.1 -
380) <DEAD2074-940E-35B4-B4BD-2119BF31BC0C>
/System/Library/PrivateFrameworks/DSExternalDisplay.framework/Versions/A/DSExternalDisplay
       0x19508a000 -        0x1950aafff  libJPEG.dylib (2130.3.4)
<D3144202-6865-3210-8DA0-B8FD98CD5311>
/System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib
       0x1950ab000 -        0x1950dafff  com.apple.ATSUI (1.0 - 1)
<715E06A8-D92D-3623-8DD5-A4F61B3754AD>
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATSUI.framework/Versions/A/ATSUI
       0x1950db000 -        0x1950dffff  libGIF.dylib (2130.3.4)
<97855454-EF2D-34EE-B905-CD42EB2394A6>
/System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libGIF.dylib
       0x1950e0000 -        0x1950e9fff  com.apple.CMCaptureCore (1.0 -
80.20.5) <C7777530-61C4-3290-9118-57BBFF30404D>
/System/Library/PrivateFrameworks/CMCaptureCore.framework/Versions/A/CMCaptureCore
       0x1950ea000 -        0x195131fff
 com.apple.print.framework.PrintCore (16 - 531)
<5ED88FFD-648C-33E7-92B9-8BE3C6E55F1A>
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore
       0x195132000 -        0x1951e6fff  com.apple.TextureIO (3.10.9 -
3.10.9) <D22F970B-F12B-3AF8-BE80-340E24DDD043>
/System/Library/PrivateFrameworks/TextureIO.framework/Versions/A/TextureIO
       0x1951e7000 -        0x1951effff  com.apple.InternationalSupport
(1.0 - 60) <F2E27864-5B4F-37DE-BB97-0C588F724906>
/System/Library/PrivateFrameworks/InternationalSupport.framework/Versions/A/InternationalSupport
       0x1951f0000 -        0x195264fff  com.apple.datadetectorscore (8.0 -
674) <6D657884-3C78-3877-8958-B0E25D70495B>
/System/Library/PrivateFrameworks/DataDetectorsCore.framework/Versions/A/DataDetectorsCore
       0x195265000 -        0x1952c5fff  com.apple.UserActivity (435 - 435)
<7DF5EB47-668F-3FEF-B39E-5EA5F4D3A31D>
/System/Library/PrivateFrameworks/UserActivity.framework/Versions/A/UserActivity
       0x1952c6000 -        0x195a2ffff  com.apple.MediaToolbox (1.0 -
2765.6.4.2) <FF190D45-2EA1-314E-AC8F-D4D35EC9FE1D>
/System/Library/Frameworks/MediaToolbox.framework/Versions/A/MediaToolbox
       0x195ecf000 -        0x195f3dfff  com.apple.imfoundation (10.0 -
1000) <DAE90BE4-9AF6-3D0C-9674-02007EE18386>
/System/Library/PrivateFrameworks/IMFoundation.framework/Versions/A/IMFoundation
       0x195f3e000 -        0x195f65fff  com.apple.locationsupport
(2420.12.16 - 2420.12.16) <44768772-F475-388B-9D5F-B194CA4405C2>
/System/Library/PrivateFrameworks/LocationSupport.framework/Versions/A/LocationSupport
       0x195f66000 -        0x195f9bfff  libSessionUtility.dylib (76.7)
<305D2EF4-36DC-35A5-BD63-9A798D44EB08>
/System/Library/PrivateFrameworks/AudioSession.framework/libSessionUtility.dylib
       0x195f9c000 -        0x1960c0fff
 com.apple.audio.toolbox.AudioToolbox (1.14 - 1.14)
<C1A172F1-4663-39D5-AF66-82A785E16F51>
/System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox
       0x1960c1000 -        0x19612afff  com.apple.audio.AudioSession (1.0
- 76.7) <705FD16D-F337-3CCA-9A2A-E021D159F280>
/System/Library/PrivateFrameworks/AudioSession.framework/Versions/A/AudioSession
       0x19612b000 -        0x19613dfff  libAudioStatistics.dylib (25.4)
<C3497B7F-B12B-3C44-8FC4-33CE1BB7462B> /usr/lib/libAudioStatistics.dylib
       0x19613e000 -        0x196151fff
 com.apple.speech.synthesis.framework (9.0.51.2 - 9.0.51.2)
<C1A8F94B-5D91-3D38-BE38-A15267971569>
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis
       0x196152000 -        0x1961bffff  com.apple.ApplicationServices.ATS
(377 - 516) <5B8311CC-7F67-3042-955C-020E9ADFBF5D>
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/ATS
       0x1961c0000 -        0x1961d8fff  libresolv.9.dylib (68)
<CE79097D-0B90-3F04-9D5E-6325C235AB8D> /usr/lib/libresolv.9.dylib
       0x196255000 -        0x196281fff  com.apple.securityinterface (10.0
- 55149.40.3) <0FC18019-9B32-331E-88FB-3FF94C09EEDA>
/System/Library/Frameworks/SecurityInterface.framework/Versions/A/SecurityInterface
       0x19629c000 -        0x1962fffff  com.apple.CoreMediaIO (1000.0 -
5325) <D3D18669-75B2-30F1-A547-B2E0BB8CF1EA>
/System/Library/Frameworks/CoreMediaIO.framework/Versions/A/CoreMediaIO
       0x196300000 -        0x1963dffff  libSMC.dylib (20)
<E52D5859-F6F3-32C2-A149-38AE3F22EB60> /usr/lib/libSMC.dylib
       0x1963e0000 -        0x196440fff  libcups.2.dylib (494.1)
<D1EEA20D-EC1E-3D67-BB31-E66ADFAD1634> /usr/lib/libcups.2.dylib
       0x196441000 -        0x196450fff  com.apple.LangAnalysis (1.7.0 -
254) <5970526F-E849-34C9-9046-10FFD6A8BE79>
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/LangAnalysis.framework/Versions/A/LangAnalysis
       0x196451000 -        0x19645dfff  com.apple.NetAuth (6.2 - 6.2)
<DCA9EB85-E03A-311D-BE21-33F7D89D1991>
/System/Library/PrivateFrameworks/NetAuth.framework/Versions/A/NetAuth
       0x19645e000 -        0x196465fff  com.apple.ColorSyncLegacy (4.13.0
- 1) <A7A63E07-8710-3DFB-8871-8B7F185650EF>
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ColorSyncLegacy.framework/Versions/A/ColorSyncLegacy
       0x196466000 -        0x196471fff  com.apple.QD (4.0 - 416)
<A4A8AAA7-6675-3573-B869-37C9D6D1F720>
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/QD.framework/Versions/A/QD
       0x196472000 -        0x196a78fff
 com.apple.audio.AudioResourceArbitration (1.0 - 1)
<A10ADB48-D9A7-31DF-AEEA-78B58FB252A2>
/System/Library/PrivateFrameworks/AudioResourceArbitration.framework/Versions/A/AudioResourceArbitration
       0x196a79000 -        0x196a84fff  com.apple.perfdata (1.0 - 67.40.1)
<FB09E56C-73D8-37A8-A3E0-78C5BC010683>
/System/Library/PrivateFrameworks/perfdata.framework/Versions/A/perfdata
       0x196a85000 -        0x196a93fff  libperfcheck.dylib (41)
<F85B7E03-74D2-31C8-8401-A01FBEED121A> /usr/lib/libperfcheck.dylib
       0x196a94000 -        0x196aa4fff  com.apple.Kerberos (3.0 - 1)
<862CCDF8-B5F2-3EDE-B728-B62CE0F158F7>
/System/Library/Frameworks/Kerberos.framework/Versions/A/Kerberos
       0x196aa5000 -        0x196aedfff  com.apple.GSS (4.0 - 2.0)
<F4CC9D06-2046-3621-B654-96E7575115ED>
/System/Library/Frameworks/GSS.framework/Versions/A/GSS
       0x196aee000 -        0x196afdfff  com.apple.CommonAuth (4.0 - 2.0)
<DEE913BB-9741-3BB8-933A-64623CBCCC70>
/System/Library/PrivateFrameworks/CommonAuth.framework/Versions/A/CommonAuth
       0x196b52000 -        0x196b73fff
 com.apple.security.KeychainCircle.KeychainCircle (1.0 - 1)
<AF8477E4-502D-375E-A66A-8BEB42D63FCB>
/System/Library/PrivateFrameworks/KeychainCircle.framework/Versions/A/KeychainCircle
       0x196b74000 -        0x196b7cfff  com.apple.CorePhoneNumbers (1.0 -
1) <2A693D33-FF3E-37A1-96C9-0BF8D7EC45B9>
/System/Library/PrivateFrameworks/CorePhoneNumbers.framework/Versions/A/CorePhoneNumbers
       0x196b7d000 -        0x196c0efff  libTelephonyUtilDynamic.dylib
(5347.1) <A8B02D3B-9CF8-3697-B53F-79DB1553D309>
/usr/lib/libTelephonyUtilDynamic.dylib
       0x196cca000 -        0x196ccafff  liblaunch.dylib (2038.80.3)
<327A64BF-8C2C-303D-91E4-70A168C5D87F> /usr/lib/system/liblaunch.dylib
       0x19723b000 -        0x197344fff  com.apple.ids (10.0 - 1000)
<37DF5E30-FE89-3836-BC25-282377764234>
/System/Library/PrivateFrameworks/IDS.framework/Versions/A/IDS
       0x197345000 -        0x19749dfff  com.apple.idsfoundation (10.0 -
1000) <6A30DB65-D140-3F46-AD33-736538514C2B>
/System/Library/PrivateFrameworks/IDSFoundation.framework/Versions/A/IDSFoundation
       0x19749e000 -        0x1975dbfff  com.apple.Sharing (1579 - 1579)
<A3F1EF00-F472-3E2B-845F-42657DA6362C>
/System/Library/PrivateFrameworks/Sharing.framework/Versions/A/Sharing
       0x1975dc000 -        0x1976d4fff  com.apple.Bluetooth (8.0.3 -
8.0.3d9) <9202E283-D1C3-3DDE-8354-1EBAB423A34D>
/System/Library/Frameworks/IOBluetooth.framework/Versions/A/IOBluetooth
       0x1976d5000 -        0x1976e8fff  com.apple.AppContainer (4.0 -
509.60.2) <D3955505-9F58-3EBE-9AA3-FA2D131F00A8>
/System/Library/PrivateFrameworks/AppContainer.framework/Versions/A/AppContainer
       0x1976e9000 -        0x1976ecfff  com.apple.SecCodeWrapper (4.0 -
509.60.2) <A26F5624-9F29-3F2B-8A92-BDA94A7FF388>
/System/Library/PrivateFrameworks/SecCodeWrapper.framework/Versions/A/SecCodeWrapper
       0x1976ed000 -        0x197745fff  com.apple.ProtectedCloudStorage
(1.0 - 1) <E6BDE95F-D7EB-3249-BE29-B0D0A7374E5C>
/System/Library/PrivateFrameworks/ProtectedCloudStorage.framework/Versions/A/ProtectedCloudStorage
       0x197746000 -        0x1977a5fff  com.apple.QuickLookFramework (5.0
- 928.2) <370B27B8-7E0B-334F-AE2D-AE51F7843A8D>
/System/Library/Frameworks/QuickLook.framework/Versions/A/QuickLook
       0x1977a6000 -        0x1977c2fff  com.apple.MetalKit (147.1 - 147.1)
<24F04C7A-2CAB-3FF5-B3B9-470A3B76034C>
/System/Library/Frameworks/MetalKit.framework/Versions/A/MetalKit
       0x1979c7000 -        0x198f07fff  com.apple.GeoServices (1.0 -
1757.23.11.29.3) <4242C603-83B0-35E5-A4C1-7908771F8B72>
/System/Library/PrivateFrameworks/GeoServices.framework/Versions/A/GeoServices
       0x198f14000 -        0x198f3bfff  com.apple.RemoteViewServices (2.0
- 163) <1186EF9F-BB91-3C43-A59E-4E0E9609FA48>
/System/Library/PrivateFrameworks/RemoteViewServices.framework/Versions/A/RemoteViewServices
       0x198f3c000 -        0x198f4bfff  com.apple.SpeechRecognitionCore
(6.1.12 - 6.1.12) <1B4EC5CD-3B08-3786-9B26-49CB2ABD8A5E>
/System/Library/PrivateFrameworks/SpeechRecognitionCore.framework/Versions/A/SpeechRecognitionCore
       0x198f4c000 -        0x198f53fff
 com.apple.speech.recognition.framework (6.0.3 - 6.0.3)
<B667B854-E85D-349B-89C6-483624035532>
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SpeechRecognition.framework/Versions/A/SpeechRecognition
       0x199194000 -        0x199194fff
 libsystem_product_info_filter.dylib (8.40.1)
<616C96CE-226D-3719-B37F-A3FCAA32591A>
/usr/lib/system/libsystem_product_info_filter.dylib
       0x19926e000 -        0x19926efff  com.apple.Accelerate.vecLib (3.11
- vecLib 3.11) <62E20D57-7F67-3ECA-BB6D-809B229682B9>
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/vecLib
       0x199295000 -        0x199295fff  com.apple.CoreServices (1122.11 -
1122.11) <197C9565-C878-3E83-9172-E45DA7DF75A2>
/System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices
       0x19954f000 -        0x19954ffff  com.apple.Accelerate (1.11 -
Accelerate 1.11) <28C41AFA-8A87-38A8-8AED-1A589F6DDB6E>
/System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate
       0x199593000 -        0x19959ffff  com.apple.MediaAccessibility (1.0
- 130) <3BA93553-B583-31C7-AEEF-1FCA21DD96FB>
/System/Library/Frameworks/MediaAccessibility.framework/Versions/A/MediaAccessibility
       0x1995a0000 -        0x1995bffff
 com.apple.networking.AlgosScoreFramework (1.0 - 1)
<78A63D05-B5D5-3233-8016-213D12FA6968>
/System/Library/PrivateFrameworks/AlgosScoreFramework.framework/Versions/A/AlgosScoreFramework
       0x1995c0000 -        0x1995c5fff  com.apple.AppleSRP (5.0 - 1)
<B5A220E7-2443-34E1-8F27-04EB37EBF77C>
/System/Library/PrivateFrameworks/AppleSRP.framework/Versions/A/AppleSRP
       0x1995c6000 -        0x1995d0fff  com.apple.frameworks.CoreDaemon
(1.3 - 1.3) <CD84E649-D35C-31E6-A918-87CED788BCE4>
/System/Library/PrivateFrameworks/CoreDaemon.framework/Versions/B/CoreDaemon
       0x199de4000 -        0x199e3ffff  com.apple.CoreBluetooth (1.0 - 1)
<9EA4DBC8-ACFD-3538-B4CD-465533099F36>
/System/Library/Frameworks/CoreBluetooth.framework/Versions/A/CoreBluetooth
       0x199e40000 -        0x199e4afff
 com.apple.SymptomDiagnosticReporter (1.0 - 79.40.12)
<A9372355-F59C-37D3-87CD-C55791236859>
/System/Library/PrivateFrameworks/SymptomDiagnosticReporter.framework/Versions/A/SymptomDiagnosticReporter
       0x199e4b000 -        0x199e5ffff  com.apple.PowerLog (1.0 - 1)
<09280C51-F63A-3E0E-96DA-28847408B452>
/System/Library/PrivateFrameworks/PowerLog.framework/Versions/A/PowerLog
       0x199e60000 -        0x199e6bfff  com.apple.AppleIDAuthSupport (1.0
- 1) <45CAFEAC-3F4F-3DCD-84EF-2AB4AE972ED2>
/System/Library/PrivateFrameworks/AppleIDAuthSupport.framework/Versions/A/AppleIDAuthSupport
       0x199e6c000 -        0x199f20fff  com.apple.DiscRecording (9.0.3 -
9030.4.5) <AB7E3147-57AE-3C5A-975C-594CA1D7DCDD>
/System/Library/Frameworks/DiscRecording.framework/Versions/A/DiscRecording
       0x199f21000 -        0x199f54fff  com.apple.MediaKit (16 - 927.40.2)
<E1A7958A-8385-386A-AC6D-47395CE2A889>
/System/Library/PrivateFrameworks/MediaKit.framework/Versions/A/MediaKit
       0x199f55000 -        0x19a035fff  com.apple.DiskManagement (14.0 -
1733.80.1) <23D64617-73D5-31A2-9D20-6BAD5914E313>
/System/Library/PrivateFrameworks/DiskManagement.framework/Versions/A/DiskManagement
       0x19a036000 -        0x19a041fff  com.apple.CoreAUC (322.2.0 -
322.2.0) <878AEBBF-00E6-340C-B91D-D3B9948B3C01>
/System/Library/PrivateFrameworks/CoreAUC.framework/Versions/A/CoreAUC
       0x19a042000 -        0x19a045fff  com.apple.Mangrove (1.0 - 25)
<0246E143-39BF-3CE2-BED8-A2BFDDF8479C>
/System/Library/PrivateFrameworks/Mangrove.framework/Versions/A/Mangrove
       0x19a046000 -        0x19a075fff  com.apple.CoreAVCHD (6.1.0 -
6100.4.1) <AD4B5D9E-D5D3-34B3-8DCB-39B15B6CA5A5>
/System/Library/PrivateFrameworks/CoreAVCHD.framework/Versions/A/CoreAVCHD
       0x19a076000 -        0x19a19efff  com.apple.FileProvider (326.3 -
326.3) <532BE590-A8EB-3008-86C9-1D1E0A70A39E>
/System/Library/Frameworks/FileProvider.framework/Versions/A/FileProvider
       0x19a19f000 -        0x19a1c2fff  com.apple.GenerationalStorage (2.0
- 322) <2713C0EB-CE8B-3921-9663-D62F412AA76D>
/System/Library/PrivateFrameworks/GenerationalStorage.framework/Versions/A/GenerationalStorage
       0x19a565000 -        0x19a63ffff  com.apple.CoreTelephony (113 -
8183.1) <842A76F2-7EF3-35E7-BF6A-BD6F5FC8EF08>
/System/Library/Frameworks/CoreTelephony.framework/Versions/A/CoreTelephony
       0x19a666000 -        0x19a815fff  com.apple.AVFCore (1.0 -
2005.3.4.1) <DD6BE817-1421-331B-AB86-A4C947663043>
/System/Library/PrivateFrameworks/AVFCore.framework/Versions/A/AVFCore
       0x19a816000 -        0x19a88ffff  com.apple.FrontBoardServices
(702.3.3 - 702.3.3) <4E86C63D-856E-3849-8F98-5720B7EE6C56>
/System/Library/PrivateFrameworks/FrontBoardServices.framework/Versions/A/FrontBoardServices
       0x19a890000 -        0x19a8b9fff  com.apple.BoardServices (1.0 -
526) <75EB189A-35FE-3337-89E3-F70F54D8DA5C>
/System/Library/PrivateFrameworks/BoardServices.framework/Versions/A/BoardServices
       0x19ab61000 -        0x19ab9bfff  com.apple.DebugSymbols (195.1 -
195.1) <00A00401-49B1-388E-BAF7-C533C30F3809>
/System/Library/PrivateFrameworks/DebugSymbols.framework/Versions/A/DebugSymbols
       0x19ab9c000 -        0x19ac53fff  com.apple.CoreSymbolication (12.2
- 64541.4) <B68FF85F-CCCD-3B25-9265-FD4176F916DE>
/System/Library/PrivateFrameworks/CoreSymbolication.framework/Versions/A/CoreSymbolication
       0x19ac54000 -        0x19ac5dfff  com.apple.CoreTime (284)
<CAD974A8-4065-3F7F-A93C-FAF109C8D86D>
/System/Library/PrivateFrameworks/CoreTime.framework/Versions/A/CoreTime
       0x19ac5e000 -        0x19acd8fff  com.apple.Rapport (2.3.0 - 230.1)
<F6C2D0E2-C87D-34F4-9E74-F3E266812462>
/System/Library/PrivateFrameworks/Rapport.framework/Versions/A/Rapport
       0x19b4cc000 -        0x19b51cfff  com.apple.coreduetcontext (1.0 -
1) <1EB1734C-3654-345D-9E87-45514B33EB1B>
/System/Library/PrivateFrameworks/CoreDuetContext.framework/Versions/A/CoreDuetContext
       0x19b51d000 -        0x19bad9fff  com.apple.Intents (1.0 - 1)
<F9DFC3C8-2C50-3EE1-9F6D-94A84EBB6246>
/System/Library/Frameworks/Intents.framework/Versions/A/Intents
       0x19bada000 -        0x19bb39fff  com.apple.framework.Apple80211
(17.0 - 1728) <574C3E0F-B738-3711-B4B0-E3C9853E4227>
/System/Library/PrivateFrameworks/Apple80211.framework/Versions/A/Apple80211
       0x19bb3a000 -        0x19bc72fff  com.apple.CoreWiFi (3.0 - 341)
<81120F89-4C72-39F9-803C-9E30241D8A0D>
/System/Library/PrivateFrameworks/CoreWiFi.framework/Versions/A/CoreWiFi
       0x19bc73000 -        0x19bc8dfff  com.apple.BackBoardServices (1.0 -
1.0) <D15FFC25-4795-30A8-AC9D-330BBDE8CDFB>
/System/Library/PrivateFrameworks/BackBoardServices.framework/Versions/A/BackBoardServices
       0x19bedc000 -        0x19beebfff
 com.apple.xpc.RemoteServiceDiscovery (1.0 - 2038.80.3)
<8ECD1B89-7FC6-3979-B8E7-F1CAA450969A>
/System/Library/PrivateFrameworks/RemoteServiceDiscovery.framework/Versions/A/RemoteServiceDiscovery
       0x19beec000 -        0x19bf03fff  com.apple.xpc.RemoteXPC (1.0 -
2038.80.3) <B111449B-C70C-337F-A8D4-B04A0EA895C1>
/System/Library/PrivateFrameworks/RemoteXPC.framework/Versions/A/RemoteXPC
       0x19bf47000 -        0x19bf4afff  com.apple.help (1.3.8 - 71)
<FC85240A-E6F2-3323-9EE1-D0A42EFD4343>
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Help.framework/Versions/A/Help
       0x19bf4b000 -        0x19bf52fff  com.apple.EFILogin (2.0 - 2)
<34A36D3D-6D66-32B5-9025-601870A19AA2>
/System/Library/PrivateFrameworks/EFILogin.framework/Versions/A/EFILogin
       0x19bf53000 -        0x19bf5efff  libcsfde.dylib (554)
<468DD1A9-5045-3F63-A62E-9F9E6297CE39> /usr/lib/libcsfde.dylib
       0x19c184000 -        0x19c184fff  com.apple.ApplicationServices (48
- 50) <D55F06B7-1294-3FF0-AD83-E68B7644A470>
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/ApplicationServices
       0x19c35f000 -        0x19c3b5fff  com.apple.CorePrediction (1.0 - 1)
<E1FBC4CD-3FD8-3997-B783-85D1FB2D84B8>
/System/Library/PrivateFrameworks/CorePrediction.framework/Versions/A/CorePrediction
       0x19c46b000 -        0x19c46bfff  libHeimdalProxy.dylib (79)
<AA49AAC2-BB2C-30BD-A4F7-2CDAABC100BB>
/System/Library/Frameworks/Kerberos.framework/Versions/A/Libraries/libHeimdalProxy.dylib
       0x19c516000 -        0x19c516fff  com.apple.audio.units.AudioUnit
(1.14 - 1.14) <B33C2926-C5D2-304A-9CF3-74B951088416>
/System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
       0x19c57f000 -        0x19c5a1fff  com.apple.DuetActivityScheduler
(1.0 - 1) <CA5C3590-0613-32C9-AB7E-A4DB98AB4FF9>
/System/Library/PrivateFrameworks/DuetActivityScheduler.framework/Versions/A/DuetActivityScheduler
       0x19c5b7000 -        0x19c5c4fff  com.apple.IntentsFoundation (1.0 -
1) <DEB44D1D-C554-3CEA-9E21-81AB4E707007>
/System/Library/PrivateFrameworks/IntentsFoundation.framework/Versions/A/IntentsFoundation
       0x19c5c5000 -        0x19c5cbfff  com.apple.PushKit (1.0 - 1)
<BF2031EC-6442-3155-BAE0-F716E835C6A2>
/System/Library/Frameworks/PushKit.framework/Versions/A/PushKit
       0x19c5cc000 -        0x19c604fff  com.apple.C2 (1.3 - 569)
<7E90F20F-C802-367F-B7B3-96AB3D29C07B>
/System/Library/PrivateFrameworks/C2.framework/Versions/A/C2
       0x19c605000 -        0x19c639fff  com.apple.QuickLookThumbnailing
(1.0 - 135.1) <A5A368A5-9BE8-3AFA-B49E-21E8F434E211>
/System/Library/Frameworks/QuickLookThumbnailing.framework/Versions/A/QuickLookThumbnailing
       0x19c63a000 -        0x19cd4dfff  com.apple.vision.EspressoFramework
(1.0 - 256.2.2) <14D27D70-B58F-3CD9-9899-85F536EC0C3E>
/System/Library/PrivateFrameworks/Espresso.framework/Versions/A/Espresso
       0x19cd4e000 -        0x19cd65fff  com.apple.ANEServices (4.52 -
4.52) <459A60D3-EF59-39BF-99B2-E33521EE2D0F>
/System/Library/PrivateFrameworks/ANEServices.framework/Versions/A/ANEServices
       0x19ce8b000 -        0x19ce8dfff  com.apple.CoreDuetDebugLogging
(1.0 - 1) <BCB20F53-5F73-3EB2-BFF3-16D0CA0FF4EC>
/System/Library/PrivateFrameworks/CoreDuetDebugLogging.framework/Versions/A/CoreDuetDebugLogging
       0x19ce8e000 -        0x19ce9cfff  com.apple.CoreDuetDaemonProtocol
(1.0 - 1) <707B5A8C-FFBD-31A7-9F2D-145D1F1D9A5B>
/System/Library/PrivateFrameworks/CoreDuetDaemonProtocol.framework/Versions/A/CoreDuetDaemonProtocol
       0x19ce9d000 -        0x19cea3fff  com.apple.ASEProcessing (1.26.0 -
1.26.0) <A8188CFA-9AA0-3DE4-BCA4-BE5BBCAFF1B4>
/System/Library/PrivateFrameworks/ASEProcessing.framework/Versions/A/ASEProcessing
       0x19dae5000 -        0x19dcc8fff  com.apple.WebKitLegacy (16610 -
16610.4.3.1.4) <29A5A7E9-4BC4-3D58-9F0B-33730AB6BF83>
/System/Library/Frameworks/WebKit.framework/Versions/A/Frameworks/WebKitLegacy.framework/Versions/A/WebKitLegacy
       0x19dcc9000 -        0x19dcccfff  com.apple.ConstantClasses (1.0 -
1) <34ADA31A-3CC7-3E7E-A821-282ED2BFBF93>
/System/Library/PrivateFrameworks/ConstantClasses.framework/Versions/A/ConstantClasses
       0x19dce8000 -        0x19dcfefff  com.apple.CoreML.AppleNeuralEngine
(1.0 - 1) <D43BE86F-34E3-3EEA-920E-68B98171ABA6>
/System/Library/PrivateFrameworks/AppleNeuralEngine.framework/Versions/A/AppleNeuralEngine
       0x19de37000 -        0x19de3afff  com.apple.Cocoa (6.11 - 23)
<4FD56058-DC7C-3FDF-9305-12D435FF95AD>
/System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa
       0x19e363000 -        0x19e366fff  com.apple.IOSurfaceAccelerator
(1.0.0 - 1.0.0) <DDB3E84C-CDF9-349B-B195-970F4FAB0D36>
/System/Library/PrivateFrameworks/IOSurfaceAccelerator.framework/Versions/A/IOSurfaceAccelerator
       0x19eaad000 -        0x19eab4fff  com.apple.DisplayServicesFW (3.1 -
380) <1E80CB96-BD3A-30B8-8848-B2714CD63762>
/System/Library/PrivateFrameworks/DisplayServices.framework/Versions/A/DisplayServices
       0x19f00d000 -        0x19f30efff  libAWDSupportFramework.dylib
(3919) <061F751B-86BD-3D05-96CA-06D3D41862B2>
/System/Library/PrivateFrameworks/WirelessDiagnostics.framework/Versions/A/Libraries/libAWDSupportFramework.dylib
       0x19f382000 -        0x19f3b3fff  libtidy.A.dylib (18.1)
<149F771A-DD10-35EA-AFA4-B62099E03325> /usr/lib/libtidy.A.dylib
       0x19f3b4000 -        0x19f3d5fff  com.apple.MarkupUI (1.0 - 383.3)
<057DF09E-ADB6-37CB-A6FD-CAA04853CD00>
/System/Library/PrivateFrameworks/MarkupUI.framework/Versions/A/MarkupUI
       0x19f3d6000 -        0x19f3ebfff  com.apple.Engram (1.0 - 1)
<2AB9DEB8-0D57-3A71-AB77-6EA99F13E66C>
/System/Library/PrivateFrameworks/Engram.framework/Versions/A/Engram
       0x19f3ec000 -        0x19f407fff  com.apple.openscripting (1.7 -
190) <B6C36E7F-CD4C-3255-9711-EBD81498837B>
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/OpenScripting.framework/Versions/A/OpenScripting
       0x19f408000 -        0x19f40bfff  com.apple.securityhi (9.0 - 55008)
<8DB7AEC6-9218-3104-A004-670AD87CC7D4>
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SecurityHI.framework/Versions/A/SecurityHI
       0x19f40c000 -        0x19f40ffff  com.apple.ink.framework (10.15 -
227) <44F18750-686B-389D-A165-79EDE2202A98>
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Ink.framework/Versions/A/Ink
       0x19f410000 -        0x19f413fff  com.apple.CommonPanels (1.2.6 -
101) <8AB32651-DA38-3886-BE79-80916E77BD74>
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CommonPanels.framework/Versions/A/CommonPanels
       0x19f414000 -        0x19f41bfff  com.apple.ImageCapture (1708.1 -
1708.1) <6B8C2B4D-535B-38B0-9367-CC3931E1EDD9>
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ImageCapture.framework/Versions/A/ImageCapture
       0x19f41c000 -        0x1a055cfff  com.apple.JavaScriptCore (16610 -
16610.4.3.1.4) <F01DDA56-B671-317D-B372-97461AF8C018>
/System/Library/Frameworks/JavaScriptCore.framework/Versions/A/JavaScriptCore
       0x1a05cb000 -        0x1a06b1fff  com.apple.audio.AVFAudio (1.0 -
477.11) <530BECE9-D351-333F-86AF-9B6C08DEBAF2>
/System/Library/Frameworks/AVFoundation.framework/Versions/A/Frameworks/AVFAudio.framework/Versions/A/AVFAudio
       0x1a06b2000 -        0x1a07c8fff  com.apple.AVFCapture (1.0 -
80.20.5) <56373D14-25A6-3F33-9951-69DDBFD70D9B>
/System/Library/PrivateFrameworks/AVFCapture.framework/Versions/A/AVFCapture
       0x1a07c9000 -        0x1a085afff  com.apple.Quagga (47 - 47)
<0D1D9F44-67D9-3757-A9E9-1887CA207908>
/System/Library/PrivateFrameworks/Quagga.framework/Versions/A/Quagga
       0x1a085b000 -        0x1a0aa4fff  com.apple.CMCapture (1.0 -
80.20.5) <D09B40A8-BA97-36CD-A48F-2ED88C478F35>
/System/Library/PrivateFrameworks/CMCapture.framework/Versions/A/CMCapture
       0x1a14d6000 -        0x1a14e2fff  com.apple.HID (1.0 - 1)
<67BBDD4F-623A-3ADA-BF5F-D28E4BAE0F03>
/System/Library/PrivateFrameworks/HID.framework/Versions/A/HID
       0x1a14e3000 -        0x1a15eafff  com.apple.QuickLookUIFramework
(5.0 - 928.2) <1304B521-9D83-390D-8C48-7E8B5E256B05>
/System/Library/Frameworks/Quartz.framework/Versions/A/Frameworks/QuickLookUI.framework/Versions/A/QuickLookUI
       0x1a1bcf000 -        0x1a1bcffff  com.apple.marco (10.0 - 1000)
<8D5163B7-ECA9-3997-97EC-EEBBDC0AC0FA>
/System/Library/PrivateFrameworks/Marco.framework/Versions/A/Marco
       0x1a228b000 -        0x1a228efff  com.apple.OSAServicesClient (1.0 -
1) <4D366CD7-9D58-3B81-9869-596D7515E62F>
/System/Library/PrivateFrameworks/OSAServicesClient.framework/Versions/A/OSAServicesClient
       0x1a22c2000 -        0x1a22c9fff  com.apple.URLFormatting (146 -
146.8) <C6423840-5444-30DC-8335-ED0B21FC6C34>
/System/Library/PrivateFrameworks/URLFormatting.framework/Versions/A/URLFormatting
       0x1a22ca000 -        0x1a22dbfff
 com.apple.accessibility.AXCoreUtilities (1.0 - 1)
<7B9E6727-863D-3F48-9950-E10E159A95C3>
/System/Library/PrivateFrameworks/AXCoreUtilities.framework/Versions/A/AXCoreUtilities
       0x1a22dc000 -        0x1a22f6fff  libAccessibility.dylib (2885.15.7)
<CDAEC0CC-4329-388A-8AB0-7B04C52CCE53> /usr/lib/libAccessibility.dylib
       0x1a22f7000 -        0x1a4c58fff  com.apple.WebCore (16610 -
16610.4.3.1.4) <FF4A2AB5-DDF9-30F7-809A-3E205B73DB6E>
/System/Library/Frameworks/WebKit.framework/Versions/A/Frameworks/WebCore.framework/Versions/A/WebCore
       0x1a4f5a000 -        0x1a4f7bfff
 com.apple.quicklook.QuickLookSupport (1.0 - 135.1)
<6870663A-BDE5-37B5-AA89-BF4FC7A65BA9>
/System/Library/PrivateFrameworks/QuickLookSupport.framework/Versions/A/QuickLookSupport
       0x1a4f7c000 -        0x1a500ffff  com.apple.AirPlaySync (1.0 -
2765.6.4.2) <311D2667-518B-3514-B078-A81487C9FD32>
/System/Library/PrivateFrameworks/AirPlaySync.framework/Versions/A/AirPlaySync
       0x1a5280000 -        0x1a5283fff  com.apple.ExceptionHandling (1.5 -
14) <15279EF1-1D4F-36B6-AA8E-D5924DA8B4BF>
/System/Library/Frameworks/ExceptionHandling.framework/Versions/A/ExceptionHandling
       0x1a5284000 -        0x1a52ccfff  com.apple.Safari.SafeBrowsing (610
- 610.4.3.1.4) <A5C5531C-ECCB-3793-B066-25A9F3B09EF1>
/System/Library/PrivateFrameworks/SafariSafeBrowsing.framework/Versions/A/SafariSafeBrowsing
       0x1a52cd000 -        0x1a5cfefff  com.apple.WebKit (16610 -
16610.4.3.1.4) <DA98E380-1292-34E3-8A3E-74845317A66C>
/System/Library/Frameworks/WebKit.framework/Versions/A/WebKit
       0x1a5e41000 -        0x1a5ec0fff  com.apple.CorePDF (4.0 - 529)
<C7E7962F-488B-39C1-ADF9-23CCB21B4BFB>
/System/Library/PrivateFrameworks/CorePDF.framework/Versions/A/CorePDF
       0x1a5ec1000 -        0x1a5ec4fff  com.apple.print.framework.Print
(15 - 271) <FFD1374B-02A9-3202-A694-267C9C0B94A5>
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.framework/Versions/A/Print
       0x1a5ec5000 -        0x1a5ec8fff  com.apple.Carbon (160 - 164)
<7DE1820C-F271-3AAD-B1CC-A04F147A8EAA>
/System/Library/Frameworks/Carbon.framework/Versions/A/Carbon
       0x1a5fcb000 -        0x1a5fcbfff  com.apple.avfoundation (2.0 -
2005.3.4.1) <1CA28123-FF6E-3851-B0E5-D21017474E43>
/System/Library/Frameworks/AVFoundation.framework/Versions/A/AVFoundation
       0x1a6156000 -        0x1a6172fff  com.apple.private.SystemPolicy
(1.0 - 1) <23B4D07D-3E6D-3081-9905-10DE3C088797>
/System/Library/PrivateFrameworks/SystemPolicy.framework/Versions/A/SystemPolicy
       0x1a62b7000 -        0x1a6312fff
 com.apple.AccessibilitySharedSupport (1.0 - 1)
<304A807D-EFC8-378D-B465-2E4477EBA5E4>
/System/Library/PrivateFrameworks/AccessibilitySharedSupport.framework/Versions/A/AccessibilitySharedSupport
       0x1a6313000 -        0x1a6333fff  com.apple.sidecar-core (1.0 - 228)
<CF2B6499-C430-3BE1-8A17-AA039B10669D>
/System/Library/PrivateFrameworks/SidecarCore.framework/Versions/A/SidecarCore
       0x1a6334000 -        0x1a633bfff  com.apple.QuickLookNonBaseSystem
(1.0 - 1) <B415DCC6-0754-3247-84E1-898284DF109E>
/System/Library/PrivateFrameworks/QuickLookNonBaseSystem.framework/Versions/A/QuickLookNonBaseSystem
       0x1a677e000 -        0x1a6782fff  com.apple.CoreOptimization (1.0 -
1) <4BAE0C7B-7465-33DD-853D-61AD51ECD81A>
/System/Library/PrivateFrameworks/CoreOptimization.framework/Versions/A/CoreOptimization
       0x1a6905000 -        0x1a6920fff  com.apple.SafariServices.framework
(16610 - 16610.4.3.1.4) <A15C8CE3-DB5E-3692-9603-427D1C88D289>
/System/Library/Frameworks/SafariServices.framework/Versions/A/SafariServices
       0x1a6ac3000 -        0x1a6acefff  com.apple.MallocStackLogging (1.0
- 1) <285D7342-7258-3F89-9FED-6AEAC0D9635A>
/System/Library/PrivateFrameworks/MallocStackLogging.framework/Versions/A/MallocStackLogging
       0x1a6ae4000 -        0x1a6af6fff  libmis.dylib (274.60.2)
<0B42ACC5-A5BE-3EBF-984F-284066FA04AD> /usr/lib/libmis.dylib
       0x1a6b13000 -        0x1a6c4afff  com.apple.CoreHandwriting (161 -
1.2) <0D870A6F-7CE9-3210-B809-F33905BD2254>
/System/Library/PrivateFrameworks/CoreHandwriting.framework/Versions/A/CoreHandwriting
       0x1a6c4b000 -        0x1a6e5cfff  com.apple.imageKit (3.0 - 1100)
<A2AAAF10-13F1-38E9-9790-E1B4BC8434B2>
/System/Library/Frameworks/Quartz.framework/Versions/A/Frameworks/ImageKit.framework/Versions/A/ImageKit
       0x1a6e5d000 -        0x1a6f6cfff  com.apple.PencilKit (1.0 - 1)
<570DC03C-A2D9-30D2-939E-FA49708B272B>
/System/Library/Frameworks/PencilKit.framework/Versions/A/PencilKit
       0x1a6f6d000 -        0x1a6f7efff  com.apple.sidecar-ui (1.0 - 228)
<6493A749-A873-3464-AE2A-9406128FEF61>
/System/Library/PrivateFrameworks/SidecarUI.framework/Versions/A/SidecarUI
       0x1a6f8a000 -        0x1a6f8dfff  com.apple.WebInspectorUI (16610 -
16610.4.3.1.4) <D3F8C951-A6DB-325F-AD6D-4F1AC2BC126A>
/System/Library/PrivateFrameworks/WebInspectorUI.framework/Versions/A/WebInspectorUI
       0x1a7593000 -        0x1a75effff  com.apple.ImageCaptureCore (1708.1
- 1708.1) <AF28E5E6-2D30-30F6-B8D0-7CEACB1A1960>
/System/Library/Frameworks/ImageCaptureCore.framework/Versions/A/ImageCaptureCore
       0x1a75f0000 -        0x1a7616fff  com.apple.quartzfilters (1.10.0 -
98) <45B074FE-5F6B-3AC9-B904-54990AE94293>
/System/Library/Frameworks/Quartz.framework/Versions/A/Frameworks/QuartzFilters.framework/Versions/A/QuartzFilters
       0x1a7da1000 -        0x1a7ec6fff  com.apple.AnnotationKit (1.0 -
383.3) <5CB44774-C4E6-34EF-A508-0933D095DF17>
/System/Library/PrivateFrameworks/AnnotationKit.framework/Versions/A/AnnotationKit
       0x1a7ec7000 -        0x1a8380fff  com.apple.QuartzComposer (5.1 -
383) <2E1FCA0B-3862-3B94-9FF7-6A92AFF3545A>
/System/Library/Frameworks/Quartz.framework/Versions/A/Frameworks/QuartzComposer.framework/Versions/A/QuartzComposer
       0x1a8381000 -        0x1a8462fff  com.apple.PDFKit (1.0 - 950.20.2)
<B2923A58-7642-35E1-AC03-35B29EA2EC7A>
/System/Library/Frameworks/PDFKit.framework/Versions/A/PDFKit
       0x1a9195000 -        0x1a921dfff  com.apple.TextInput (1.0 - 1.0)
<6AB60694-EEAF-3B9D-B16B-8FBF6608DEDC>
/System/Library/PrivateFrameworks/TextInput.framework/Versions/A/TextInput
       0x1aa128000 -        0x1aa158fff  libncurses.5.4.dylib (57)
<30E9C91D-5587-33CF-B16B-B8DAD63CC204> /usr/lib/libncurses.5.4.dylib
       0x1aa1ba000 -        0x1aa1bdfff  com.apple.quartzframework (1.5 -
25) <73859D47-B6DB-31A7-8DE6-417E63AD4683>
/System/Library/Frameworks/Quartz.framework/Versions/A/Quartz
       0x1b0b11000 -        0x1b0b5bfff  com.apple.osanalytics.OSAnalytics
(1.0 - 1) <CBCD81F5-C11F-3FB4-8F9F-B5BD5470D1D0>
/System/Library/PrivateFrameworks/OSAnalytics.framework/Versions/A/OSAnalytics
       0x1ba774000 -        0x1ba806fff  com.apple.Symbolication (12.2 -
64541.7.1) <BA1B369E-A52A-30E9-B7C7-26280C7245E4>
/System/Library/PrivateFrameworks/Symbolication.framework/Versions/A/Symbolication
       0x1c014a000 -        0x1c0167fff  libedit.3.dylib (55)
<27686071-862F-3D4D-95F3-A4DFA1671628> /usr/lib/libedit.3.dylib
       0x1ccaa9000 -        0x1ccaaffff  libCoreFSCache.dylib (177.22)
<7EA6D9B5-8169-3A45-9C5D-4A3635A2DBB8>
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCoreFSCache.dylib
       0x1ccab0000 -        0x1ccab5fff  libCoreVMClient.dylib (177.22)
<D1D20348-4C98-3F99-8458-3AD7C5238077>
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCoreVMClient.dylib
       0x1ccab6000 -        0x1ccac5fff  com.apple.opengl (18.1.1 - 18.1.1)
<3172E66B-6B24-3178-8E0C-90D49EBD5C24>
/System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL
       0x1ccac6000 -        0x1ccac8fff  libCVMSPluginSupport.dylib
(18.1.1) <9C3EFC40-CAA1-3209-ADFA-2036B6591FB5>
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCVMSPluginSupport.dylib
       0x1ccac9000 -        0x1ccad1fff  libGFXShared.dylib (18.1.1)
<CA46B0D2-D452-3B82-AA60-0D43F11A05F0>
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGFXShared.dylib
       0x1ccad2000 -        0x1ccb0afff  libGLImage.dylib (18.1.1)
<4C2A14D7-2F00-3B57-A550-5B3612736E3E>
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.dylib
       0x1ccb0b000 -        0x1ccb43fff  libGLU.dylib (18.1.1)
<C8FA8DD5-E4EF-387F-9938-BD1BD48562E8>
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.dylib
       0x1cccb3000 -        0x1cccbdfff  libGL.dylib (18.1.1)
<61A850FD-1E85-3439-AE83-6BC7B4AEC882>
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
       0x1cce4e000 -        0x1cceadfff  com.apple.opencl (4.5 - 4.5)
<78A42E39-5CE3-3777-A62F-D76F6B23415A>
/System/Library/Frameworks/OpenCL.framework/Versions/A/OpenCL
       0x1db2c8000 -        0x1db2cffff  libRosetta.dylib (203.30)
<46D9195A-40F2-3CD5-AE73-2F6EF52ECCEC> /usr/lib/libRosetta.dylib

External Modification Summary:
  Calls made by other processes targeting this process:
    task_for_pid: 1
    thread_create: 0
    thread_set_state: 0
  Calls made by this process:
    task_for_pid: 0
    thread_create: 0
    thread_set_state: 0
  Calls made by all processes on this machine:
    task_for_pid: 140580
    thread_create: 0
    thread_set_state: 0

VM Region Summary:
ReadOnly portion of Libraries: Total=830.9M resident=0K(0%)
swapped_out_or_unallocated=830.9M(100%)
Writable regions: Total=2.0G written=0K(0%) resident=0K(0%)
swapped_out=0K(0%) unallocated=2.0G(100%)

                                VIRTUAL   REGION
REGION TYPE                        SIZE    COUNT (non-coalesced)
===========                     =======  =======
Activity Tracing                   256K        1
CoreGraphics                        16K        1
Foundation                          16K        1
JS JIT generated code              1.0G        3
Kernel Alloc Once                   32K        1
MALLOC                           234.3M       36
MALLOC guard page                  192K       10
MALLOC_MEDIUM (reserved)         360.0M        3         reserved VM
address space (unallocated)
MALLOC_NANO (reserved)           384.0M        1         reserved VM
address space (unallocated)
STACK GUARD                       56.1M        5
Stack                             10.1M        5
VM_ALLOCATE                        800K       10
WebKit Malloc                     5280K        7
__AUTH                             878K      214
__AUTH_CONST                      15.6M      380
__CTF                               759        1
__DATA                            9128K      374
__DATA_CONST                      14.1M      384
__DATA_DIRTY                      1399K      164
__FONT_DATA                          4K        1
__LINKEDIT                       481.1M       10
__OBJC_CONST                      2557K      197
__OBJC_RO                         64.5M        1
__OBJC_RW                         2544K        1
__TEXT                           349.9M      405
__UNICODE                          588K        1
mapped file                      213.3M       15
shared memory                       64K        4
===========                     =======  =======
TOTAL                              3.2G     2236
TOTAL, minus reserved VM space     2.4G     2236

Model: MacBookPro17,1, BootROM 6723.81.1, proc 8:4:4 processors, 16 GB, SMC
Graphics: kHW_AppleM1Item, Apple M1, spdisplays_builtin
Memory Module: lp_ddr4
AirPort: spairport_wireless_card_type_airport_extreme, wl0: Dec 31 2020
21:39:03 version 18.20.222.20.7.8.104 FWID 01-1b2645bc
Bluetooth: Version 8.0.3d9, 3 services, 27 devices, 1 incoming serial ports
Network Service: Wi-Fi, AirPort, en0
USB Device: USB 3.1 Bus
USB Device: USB 3.1 Bus
Thunderbolt Bus: MacBook Pro, Apple Inc.
Thunderbolt Bus: MacBook Pro, Apple Inc.

	[[alternative HTML version deleted]]


From rmh @end|ng |rom temp|e@edu  Sun Mar  7 19:49:56 2021
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Sun, 7 Mar 2021 18:49:56 +0000
Subject: [R-SIG-Mac] Mac M1 emacs
Message-ID: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>

I originally asked this question on the ess-help list, I now think it belongs here.

emacs 21.1, specifically Vincent Goulet's distribution, crashes regularly on my Mac M1.
It looks to me like it is using the intel compilation through rosetta instead of the arm
compilation.
Vincent's distribution is based on
https://emacsformacosx.com/emacs-builds/Emacs-27.1-1-universal.dmg
which contains
lrwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
  drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_10
  drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_14
 
The crash report says
My March 1 crash report said
> Process:               Emacs-x86_64-10_14 [1112]
> Path:                  /Applications/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14
> Identifier:            org.gnu.Emacs
> Version:               Version 27.1 (9.0)
> Code Type:             X86-64 (Translated)
> Parent Process:        ??? [1]
> Responsible:           Emacs-x86_64-10_14 [1112]

which I interpret as saying that it ran the intel compilation
> Responsible:           Emacs-x86_64-10_14 [1112]
 translated through
rosetta.  It seems not to have run the arm compilation, even though the link
rwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
looks to me like it should have been running bin-x86_64-10_10

Is my interpretation correct? and if so how do I get the program to run the native M1
compilation.

From bob @end|ng |rom rud@|@  Sun Mar  7 20:37:40 2021
From: bob @end|ng |rom rud@|@ (Bob Rudis)
Date: Sun, 7 Mar 2021 14:37:40 -0500
Subject: [R-SIG-Mac] Mac M1 emacs
In-Reply-To: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
References: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
Message-ID: <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>

you should likely re-post to the list or double check the download as
there are no x86_64 + amd64 universal binaries in there:

    $ find  /Volumes/Emacs/Emacs.app/Contents/MacOS -type f -exec file {} \;
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ctags:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ebrowse:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/emacsclient:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/etags:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ctags:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ebrowse:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/emacsclient:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/etags:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs: Ruby script text,
UTF-8 Unicode text
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10: Mach-O
64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10.pdmp: data
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14: Mach-O
64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14.pdmp: data
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs.pdmp: data
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libffi.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgmp.10.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgnutls.30.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libhogweed.4.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libjansson.4.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libnettle.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libp11-kit.0.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libtasn1.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libunistring.2.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libffi.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgmp.10.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgnutls.30.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libhogweed.4.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libjansson.4.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libnettle.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libp11-kit.0.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libtasn1.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libunistring.2.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libffi.7.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgmp.10.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgnutls.30.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libhogweed.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libidn2.0.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libintl.8.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libjansson.4.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libnettle.8.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libp11-kit.0.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libtasn1.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libunistring.2.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/hexl:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/movemail:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/rcs2log:
POSIX shell script executable (binary data)
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/hexl:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/movemail:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/rcs2log:
POSIX shell script executable (binary data)

On Sun, Mar 7, 2021 at 1:50 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>
> I originally asked this question on the ess-help list, I now think it belongs here.
>
> emacs 21.1, specifically Vincent Goulet's distribution, crashes regularly on my Mac M1.
> It looks to me like it is using the intel compilation through rosetta instead of the arm
> compilation.
> Vincent's distribution is based on
> https://emacsformacosx.com/emacs-builds/Emacs-27.1-1-universal.dmg
> which contains
> lrwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>   drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_10
>   drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_14
>
> The crash report says
> My March 1 crash report said
> > Process:               Emacs-x86_64-10_14 [1112]
> > Path:                  /Applications/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14
> > Identifier:            org.gnu.Emacs
> > Version:               Version 27.1 (9.0)
> > Code Type:             X86-64 (Translated)
> > Parent Process:        ??? [1]
> > Responsible:           Emacs-x86_64-10_14 [1112]
>
> which I interpret as saying that it ran the intel compilation
> > Responsible:           Emacs-x86_64-10_14 [1112]
>  translated through
> rosetta.  It seems not to have run the arm compilation, even though the link
> rwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
> looks to me like it should have been running bin-x86_64-10_10
>
> Is my interpretation correct? and if so how do I get the program to run the native M1
> compilation.
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From @|mon@urb@nek @end|ng |rom R-project@org  Sun Mar  7 21:37:15 2021
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Mon, 8 Mar 2021 09:37:15 +1300
Subject: [R-SIG-Mac] Mac M1 emacs
In-Reply-To: <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>
References: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>
Message-ID: <4B61E62F-92C8-4827-9D40-5AF1324431AC@R-project.org>

FWIW I have a command-line-only version of emacs in the libs-arm64 directory:

https://mac.r-project.org/libs-arm64/emacs-27.1-darwin.20-arm64.tar.gz

It is intentionally compiled without GUI so a replacement for the emacs as was shipped by Apple in older versions of macOS (see 
https://github.com/R-macos/recipes/tree/master/recipes
for the recipe if you want to tweak it to add GUI support or similar).

Cheers,
Simon




> On Mar 8, 2021, at 8:37 AM, Bob Rudis <bob at rud.is> wrote:
> 
> you should likely re-post to the list or double check the download as
> there are no x86_64 + amd64 universal binaries in there:
> 
>    $ find  /Volumes/Emacs/Emacs.app/Contents/MacOS -type f -exec file {} \;
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ctags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ebrowse:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/emacsclient:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/etags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ctags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ebrowse:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/emacsclient:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/etags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs: Ruby script text,
> UTF-8 Unicode text
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10: Mach-O
> 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10.pdmp: data
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14: Mach-O
> 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14.pdmp: data
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs.pdmp: data
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libffi.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgmp.10.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgnutls.30.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libhogweed.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libjansson.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libnettle.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libp11-kit.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libtasn1.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libunistring.2.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libffi.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgmp.10.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgnutls.30.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libhogweed.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libjansson.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libnettle.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libp11-kit.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libtasn1.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libunistring.2.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libffi.7.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgmp.10.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgnutls.30.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libhogweed.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libidn2.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libintl.8.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libjansson.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libnettle.8.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libp11-kit.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libtasn1.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libunistring.2.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/hexl:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/movemail:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/rcs2log:
> POSIX shell script executable (binary data)
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/hexl:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/movemail:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/rcs2log:
> POSIX shell script executable (binary data)
> 
> On Sun, Mar 7, 2021 at 1:50 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>> 
>> I originally asked this question on the ess-help list, I now think it belongs here.
>> 
>> emacs 21.1, specifically Vincent Goulet's distribution, crashes regularly on my Mac M1.
>> It looks to me like it is using the intel compilation through rosetta instead of the arm
>> compilation.
>> Vincent's distribution is based on
>> https://emacsformacosx.com/emacs-builds/Emacs-27.1-1-universal.dmg
>> which contains
>> lrwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>  drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_10
>>  drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_14
>> 
>> The crash report says
>> My March 1 crash report said
>>> Process:               Emacs-x86_64-10_14 [1112]
>>> Path:                  /Applications/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14
>>> Identifier:            org.gnu.Emacs
>>> Version:               Version 27.1 (9.0)
>>> Code Type:             X86-64 (Translated)
>>> Parent Process:        ??? [1]
>>> Responsible:           Emacs-x86_64-10_14 [1112]
>> 
>> which I interpret as saying that it ran the intel compilation
>>> Responsible:           Emacs-x86_64-10_14 [1112]
>> translated through
>> rosetta.  It seems not to have run the arm compilation, even though the link
>> rwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>> looks to me like it should have been running bin-x86_64-10_10
>> 
>> Is my interpretation correct? and if so how do I get the program to run the native M1
>> compilation.
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From rmh @end|ng |rom temp|e@edu  Mon Mar  8 00:31:12 2021
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Sun, 7 Mar 2021 23:31:12 +0000
Subject: [R-SIG-Mac] [External] Re:  Mac M1 emacs
In-Reply-To: <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>
References: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>,
 <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>
Message-ID: <CO1PR11MB510734928CF7B3D5EE4ED809D2949@CO1PR11MB5107.namprd11.prod.outlook.com>

My understanding had been that "universal" meant both intel and arm, and therefore
that _10 and _14 was the indicator. Apparently not.

I will look at the binary that Simon just told us about.

I don't know how to check though, because the highly frequent crashes I see have
nothing obvious in common.

Rich

________________________________________
From: Bob Rudis <bob at rud.is>
Sent: Sunday, March 7, 2021 14:37
To: Richard M. Heiberger
Cc: r-sig-mac at r-project.org
Subject: [External] Re: [R-SIG-Mac] Mac M1 emacs

you should likely re-post to the list or double check the download as
there are no x86_64 + amd64 universal binaries in there:

    $ find  /Volumes/Emacs/Emacs.app/Contents/MacOS -type f -exec file {} \;
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ctags:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ebrowse:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/emacsclient:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/etags:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ctags:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ebrowse:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/emacsclient:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/etags:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs: Ruby script text,
UTF-8 Unicode text
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10: Mach-O
64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10.pdmp: data
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14: Mach-O
64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14.pdmp: data
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs.pdmp: data
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libffi.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgmp.10.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgnutls.30.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libhogweed.4.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libjansson.4.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libnettle.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libp11-kit.0.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libtasn1.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libunistring.2.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libffi.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgmp.10.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgnutls.30.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libhogweed.4.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libjansson.4.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libnettle.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libp11-kit.0.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libtasn1.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libunistring.2.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libffi.7.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgmp.10.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgnutls.30.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libhogweed.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libidn2.0.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libintl.8.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libjansson.4.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libnettle.8.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libp11-kit.0.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libtasn1.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libunistring.2.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/hexl:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/movemail:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/rcs2log:
POSIX shell script executable (binary data)
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/hexl:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/movemail:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/rcs2log:
POSIX shell script executable (binary data)

On Sun, Mar 7, 2021 at 1:50 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>
> I originally asked this question on the ess-help list, I now think it belongs here.
>
> emacs 21.1, specifically Vincent Goulet's distribution, crashes regularly on my Mac M1.
> It looks to me like it is using the intel compilation through rosetta instead of the arm
> compilation.
> Vincent's distribution is based on
> https://emacsformacosx.com/emacs-builds/Emacs-27.1-1-universal.dmg
> which contains
> lrwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>   drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_10
>   drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_14
>
> The crash report says
> My March 1 crash report said
> > Process:               Emacs-x86_64-10_14 [1112]
> > Path:                  /Applications/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14
> > Identifier:            org.gnu.Emacs
> > Version:               Version 27.1 (9.0)
> > Code Type:             X86-64 (Translated)
> > Parent Process:        ??? [1]
> > Responsible:           Emacs-x86_64-10_14 [1112]
>
> which I interpret as saying that it ran the intel compilation
> > Responsible:           Emacs-x86_64-10_14 [1112]
>  translated through
> rosetta.  It seems not to have run the arm compilation, even though the link
> rwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
> looks to me like it should have been running bin-x86_64-10_10
>
> Is my interpretation correct? and if so how do I get the program to run the native M1
> compilation.
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From rmh @end|ng |rom temp|e@edu  Mon Mar  8 01:53:25 2021
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Mon, 8 Mar 2021 00:53:25 +0000
Subject: [R-SIG-Mac] [External] Re:  Mac M1 emacs
In-Reply-To: <CO1PR11MB510734928CF7B3D5EE4ED809D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
References: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>,
 <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>,
 <CO1PR11MB510734928CF7B3D5EE4ED809D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
Message-ID: <CO1PR11MB5107E83BEA2C29FE4D53A970D2939@CO1PR11MB5107.namprd11.prod.outlook.com>

Simon's binary works.  As he noted, it is missing mouse support.

I copied the entirety of
/Applications/Emacs.app/Contents/Resources/site-lisp
into
/opt/R/arm64/share/emacs/27.1/site-lisp

I turned off the request for mouse support in
site-lisp/site-start.el
by changing the first mouse line (line 47) to
(if (equal 'system-configuration "x86_64-apple-darwin18.7.0") (mouse-wheel-mode t)); activate mouse scrolling on intel


I opened Terminal and started emacs with
/opt/R/arm64/bin/emacs
It gives an ERROR:ess-etc-directory which I can ignore (it looks to me like the ../etc is there).
it gives a warning about server which I am ignoring for now.

M-x R works.
the major mouse functionality I miss are replaced by C-x ^ and C-x } and C-x o
make-frame doesn't make a new frame.

I had hoped that I could drop files from this version into the complete setup that Vincent Goulet has
provided.  The file structure isn't identical, so that won't work naively.

Now to see if I prefer the mouse-accesible x86_64 with random crashes or the
aarch64 (presumably more stable) without mouse ability.

________________________________________
From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
Sent: Sunday, March 7, 2021 18:31
To: Bob Rudis
Cc: r-sig-mac at r-project.org
Subject: Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs

My understanding had been that "universal" meant both intel and arm, and therefore
that _10 and _14 was the indicator. Apparently not.

I will look at the binary that Simon just told us about.

I don't know how to check though, because the highly frequent crashes I see have
nothing obvious in common.

Rich

________________________________________
From: Bob Rudis <bob at rud.is>
Sent: Sunday, March 7, 2021 14:37
To: Richard M. Heiberger
Cc: r-sig-mac at r-project.org
Subject: [External] Re: [R-SIG-Mac] Mac M1 emacs

you should likely re-post to the list or double check the download as
there are no x86_64 + amd64 universal binaries in there:

    $ find  /Volumes/Emacs/Emacs.app/Contents/MacOS -type f -exec file {} \;
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ctags:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ebrowse:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/emacsclient:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/etags:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ctags:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ebrowse:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/emacsclient:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/etags:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs: Ruby script text,
UTF-8 Unicode text
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10: Mach-O
64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10.pdmp: data
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14: Mach-O
64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14.pdmp: data
    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs.pdmp: data
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libffi.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgmp.10.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgnutls.30.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libhogweed.4.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libjansson.4.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libnettle.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libp11-kit.0.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libtasn1.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libunistring.2.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libffi.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgmp.10.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgnutls.30.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libhogweed.4.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libjansson.4.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libnettle.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libp11-kit.0.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libtasn1.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libunistring.2.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libffi.7.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgmp.10.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgnutls.30.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libhogweed.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libidn2.0.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libintl.8.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libjansson.4.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libnettle.8.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libp11-kit.0.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libtasn1.6.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libunistring.2.dylib:
Mach-O 64-bit dynamically linked shared library x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/hexl:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/movemail:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/rcs2log:
POSIX shell script executable (binary data)
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/hexl:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/movemail:
Mach-O 64-bit executable x86_64
    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/rcs2log:
POSIX shell script executable (binary data)

On Sun, Mar 7, 2021 at 1:50 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>
> I originally asked this question on the ess-help list, I now think it belongs here.
>
> emacs 21.1, specifically Vincent Goulet's distribution, crashes regularly on my Mac M1.
> It looks to me like it is using the intel compilation through rosetta instead of the arm
> compilation.
> Vincent's distribution is based on
> https://emacsformacosx.com/emacs-builds/Emacs-27.1-1-universal.dmg
> which contains
> lrwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>   drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_10
>   drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_14
>
> The crash report says
> My March 1 crash report said
> > Process:               Emacs-x86_64-10_14 [1112]
> > Path:                  /Applications/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14
> > Identifier:            org.gnu.Emacs
> > Version:               Version 27.1 (9.0)
> > Code Type:             X86-64 (Translated)
> > Parent Process:        ??? [1]
> > Responsible:           Emacs-x86_64-10_14 [1112]
>
> which I interpret as saying that it ran the intel compilation
> > Responsible:           Emacs-x86_64-10_14 [1112]
>  translated through
> rosetta.  It seems not to have run the arm compilation, even though the link
> rwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
> looks to me like it should have been running bin-x86_64-10_10
>
> Is my interpretation correct? and if so how do I get the program to run the native M1
> compilation.
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From @|mon@urb@nek @end|ng |rom R-project@org  Mon Mar  8 03:42:20 2021
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Mon, 8 Mar 2021 15:42:20 +1300
Subject: [R-SIG-Mac] [External] Re:  Mac M1 emacs
In-Reply-To: <CO1PR11MB5107E83BEA2C29FE4D53A970D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
References: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>
 <CO1PR11MB510734928CF7B3D5EE4ED809D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB5107E83BEA2C29FE4D53A970D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
Message-ID: <351C44B0-B803-4722-A45B-1A6CB1BF290C@R-project.org>

Richard,

please note the binary supports mouse integration if you enable it (see Emacs documentation - ad-hoc: M-x xterm-mouse-mode).

Like I said, it is trivial to build the GUI version of you care - I have very explicitly disabled the GUI since I hate it personally (I want emacs to run in the terminal, not have it pop-up random windows). But you seem to think otherwise ;) so I have added the app build as well:
https://mac.r-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg

Cheers,
Simon


> On Mar 8, 2021, at 1:53 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
> 
> Simon's binary works.  As he noted, it is missing mouse support.
> 
> I copied the entirety of
> /Applications/Emacs.app/Contents/Resources/site-lisp
> into
> /opt/R/arm64/share/emacs/27.1/site-lisp
> 
> I turned off the request for mouse support in
> site-lisp/site-start.el
> by changing the first mouse line (line 47) to
> (if (equal 'system-configuration "x86_64-apple-darwin18.7.0") (mouse-wheel-mode t)); activate mouse scrolling on intel
> 
> 
> I opened Terminal and started emacs with
> /opt/R/arm64/bin/emacs
> It gives an ERROR:ess-etc-directory which I can ignore (it looks to me like the ../etc is there).
> it gives a warning about server which I am ignoring for now.
> 
> M-x R works.
> the major mouse functionality I miss are replaced by C-x ^ and C-x } and C-x o
> make-frame doesn't make a new frame.
> 
> I had hoped that I could drop files from this version into the complete setup that Vincent Goulet has
> provided.  The file structure isn't identical, so that won't work naively.
> 
> Now to see if I prefer the mouse-accesible x86_64 with random crashes or the
> aarch64 (presumably more stable) without mouse ability.
> 
> ________________________________________
> From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
> Sent: Sunday, March 7, 2021 18:31
> To: Bob Rudis
> Cc: r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
> 
> My understanding had been that "universal" meant both intel and arm, and therefore
> that _10 and _14 was the indicator. Apparently not.
> 
> I will look at the binary that Simon just told us about.
> 
> I don't know how to check though, because the highly frequent crashes I see have
> nothing obvious in common.
> 
> Rich
> 
> ________________________________________
> From: Bob Rudis <bob at rud.is>
> Sent: Sunday, March 7, 2021 14:37
> To: Richard M. Heiberger
> Cc: r-sig-mac at r-project.org
> Subject: [External] Re: [R-SIG-Mac] Mac M1 emacs
> 
> you should likely re-post to the list or double check the download as
> there are no x86_64 + amd64 universal binaries in there:
> 
>    $ find  /Volumes/Emacs/Emacs.app/Contents/MacOS -type f -exec file {} \;
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ctags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ebrowse:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/emacsclient:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/etags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ctags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ebrowse:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/emacsclient:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/etags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs: Ruby script text,
> UTF-8 Unicode text
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10: Mach-O
> 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10.pdmp: data
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14: Mach-O
> 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14.pdmp: data
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs.pdmp: data
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libffi.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgmp.10.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgnutls.30.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libhogweed.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libjansson.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libnettle.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libp11-kit.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libtasn1.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libunistring.2.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libffi.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgmp.10.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgnutls.30.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libhogweed.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libjansson.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libnettle.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libp11-kit.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libtasn1.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libunistring.2.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libffi.7.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgmp.10.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgnutls.30.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libhogweed.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libidn2.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libintl.8.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libjansson.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libnettle.8.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libp11-kit.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libtasn1.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libunistring.2.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/hexl:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/movemail:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/rcs2log:
> POSIX shell script executable (binary data)
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/hexl:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/movemail:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/rcs2log:
> POSIX shell script executable (binary data)
> 
> On Sun, Mar 7, 2021 at 1:50 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>> 
>> I originally asked this question on the ess-help list, I now think it belongs here.
>> 
>> emacs 21.1, specifically Vincent Goulet's distribution, crashes regularly on my Mac M1.
>> It looks to me like it is using the intel compilation through rosetta instead of the arm
>> compilation.
>> Vincent's distribution is based on
>> https://emacsformacosx.com/emacs-builds/Emacs-27.1-1-universal.dmg
>> which contains
>> lrwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>  drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_10
>>  drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_14
>> 
>> The crash report says
>> My March 1 crash report said
>>> Process:               Emacs-x86_64-10_14 [1112]
>>> Path:                  /Applications/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14
>>> Identifier:            org.gnu.Emacs
>>> Version:               Version 27.1 (9.0)
>>> Code Type:             X86-64 (Translated)
>>> Parent Process:        ??? [1]
>>> Responsible:           Emacs-x86_64-10_14 [1112]
>> 
>> which I interpret as saying that it ran the intel compilation
>>> Responsible:           Emacs-x86_64-10_14 [1112]
>> translated through
>> rosetta.  It seems not to have run the arm compilation, even though the link
>> rwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>> looks to me like it should have been running bin-x86_64-10_10
>> 
>> Is my interpretation correct? and if so how do I get the program to run the native M1
>> compilation.
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From @|mon@urb@nek @end|ng |rom R-project@org  Mon Mar  8 05:52:17 2021
From: @|mon@urb@nek @end|ng |rom R-project@org (Simon Urbanek)
Date: Mon, 8 Mar 2021 17:52:17 +1300
Subject: [R-SIG-Mac] [External] Re:  [External] Re:  Mac M1 emacs
In-Reply-To: <CO1PR11MB5107E828C4C2501F14D51825D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
References: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>
 <CO1PR11MB510734928CF7B3D5EE4ED809D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB5107E83BEA2C29FE4D53A970D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
 <351C44B0-B803-4722-A45B-1A6CB1BF290C@R-project.org>
 <CO1PR11MB5107E828C4C2501F14D51825D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
Message-ID: <FA79D92A-6141-48CC-BAB3-27CEDB131381@R-project.org>

Did you try running it from the image? At which point does it complain? It works for me.
Note that macOS may not be happy if you mangle the content due to code signing, so you may want to move aside the old version first if you are putting it in /Applications.
Unfortunately I have only one M1 system, so I can't try it on another "clean" one to see if there are issues.

Cheers,
Simon


> On Mar 8, 2021, at 5:43 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
> 
> it claims to be damaged.
> 
> I looked it and the filenames and directory structure look ok.
> 
> ________________________________________
> From: Simon Urbanek <simon.urbanek at R-project.org>
> Sent: Sunday, March 7, 2021 21:42
> To: Richard M. Heiberger
> Cc: r-sig-mac at r-project.org
> Subject: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
> 
> Richard,
> 
> please note the binary supports mouse integration if you enable it (see Emacs documentation - ad-hoc: M-x xterm-mouse-mode).
> 
> Like I said, it is trivial to build the GUI version of you care - I have very explicitly disabled the GUI since I hate it personally (I want emacs to run in the terminal, not have it pop-up random windows). But you seem to think otherwise ;) so I have added the app build as well:
> https://mac.r-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg
> 
> Cheers,
> Simon
> 
> 
>> On Mar 8, 2021, at 1:53 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
>> 
>> Simon's binary works.  As he noted, it is missing mouse support.
>> 
>> I copied the entirety of
>> /Applications/Emacs.app/Contents/Resources/site-lisp
>> into
>> /opt/R/arm64/share/emacs/27.1/site-lisp
>> 
>> I turned off the request for mouse support in
>> site-lisp/site-start.el
>> by changing the first mouse line (line 47) to
>> (if (equal 'system-configuration "x86_64-apple-darwin18.7.0") (mouse-wheel-mode t)); activate mouse scrolling on intel
>> 
>> 
>> I opened Terminal and started emacs with
>> /opt/R/arm64/bin/emacs
>> It gives an ERROR:ess-etc-directory which I can ignore (it looks to me like the ../etc is there).
>> it gives a warning about server which I am ignoring for now.
>> 
>> M-x R works.
>> the major mouse functionality I miss are replaced by C-x ^ and C-x } and C-x o
>> make-frame doesn't make a new frame.
>> 
>> I had hoped that I could drop files from this version into the complete setup that Vincent Goulet has
>> provided.  The file structure isn't identical, so that won't work naively.
>> 
>> Now to see if I prefer the mouse-accesible x86_64 with random crashes or the
>> aarch64 (presumably more stable) without mouse ability.
>> 
>> ________________________________________
>> From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
>> Sent: Sunday, March 7, 2021 18:31
>> To: Bob Rudis
>> Cc: r-sig-mac at r-project.org
>> Subject: Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>> 
>> My understanding had been that "universal" meant both intel and arm, and therefore
>> that _10 and _14 was the indicator. Apparently not.
>> 
>> I will look at the binary that Simon just told us about.
>> 
>> I don't know how to check though, because the highly frequent crashes I see have
>> nothing obvious in common.
>> 
>> Rich
>> 
>> ________________________________________
>> From: Bob Rudis <bob at rud.is>
>> Sent: Sunday, March 7, 2021 14:37
>> To: Richard M. Heiberger
>> Cc: r-sig-mac at r-project.org
>> Subject: [External] Re: [R-SIG-Mac] Mac M1 emacs
>> 
>> you should likely re-post to the list or double check the download as
>> there are no x86_64 + amd64 universal binaries in there:
>> 
>>   $ find  /Volumes/Emacs/Emacs.app/Contents/MacOS -type f -exec file {} \;
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ctags:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ebrowse:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/emacsclient:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/etags:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ctags:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ebrowse:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/emacsclient:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/etags:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs: Ruby script text,
>> UTF-8 Unicode text
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10: Mach-O
>> 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10.pdmp: data
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14: Mach-O
>> 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14.pdmp: data
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs.pdmp: data
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libffi.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgmp.10.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgnutls.30.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libhogweed.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libjansson.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libnettle.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libp11-kit.0.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libtasn1.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libunistring.2.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libffi.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgmp.10.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgnutls.30.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libhogweed.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libjansson.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libnettle.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libp11-kit.0.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libtasn1.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libunistring.2.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libffi.7.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgmp.10.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgnutls.30.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libhogweed.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libidn2.0.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libintl.8.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libjansson.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libnettle.8.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libp11-kit.0.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libtasn1.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libunistring.2.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/hexl:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/movemail:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/rcs2log:
>> POSIX shell script executable (binary data)
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/hexl:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/movemail:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/rcs2log:
>> POSIX shell script executable (binary data)
>> 
>> On Sun, Mar 7, 2021 at 1:50 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>>> 
>>> I originally asked this question on the ess-help list, I now think it belongs here.
>>> 
>>> emacs 21.1, specifically Vincent Goulet's distribution, crashes regularly on my Mac M1.
>>> It looks to me like it is using the intel compilation through rosetta instead of the arm
>>> compilation.
>>> Vincent's distribution is based on
>>> https://emacsformacosx.com/emacs-builds/Emacs-27.1-1-universal.dmg
>>> which contains
>>> lrwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>> drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_10
>>> drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_14
>>> 
>>> The crash report says
>>> My March 1 crash report said
>>>> Process:               Emacs-x86_64-10_14 [1112]
>>>> Path:                  /Applications/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14
>>>> Identifier:            org.gnu.Emacs
>>>> Version:               Version 27.1 (9.0)
>>>> Code Type:             X86-64 (Translated)
>>>> Parent Process:        ??? [1]
>>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>> 
>>> which I interpret as saying that it ran the intel compilation
>>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>> translated through
>>> rosetta.  It seems not to have run the arm compilation, even though the link
>>> rwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>> looks to me like it should have been running bin-x86_64-10_10
>>> 
>>> Is my interpretation correct? and if so how do I get the program to run the native M1
>>> compilation.
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> <Screen Shot 2021-03-07 at 23.40.23.png>


From rmh @end|ng |rom temp|e@edu  Mon Mar  8 05:52:47 2021
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Mon, 8 Mar 2021 04:52:47 +0000
Subject: [R-SIG-Mac] [External] Re:  [External] Re:  Mac M1 emacs
In-Reply-To: <351C44B0-B803-4722-A45B-1A6CB1BF290C@R-project.org>
References: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>
 <CO1PR11MB510734928CF7B3D5EE4ED809D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB5107E83BEA2C29FE4D53A970D2939@CO1PR11MB5107.namprd11.prod.outlook.com>,
 <351C44B0-B803-4722-A45B-1A6CB1BF290C@R-project.org>
Message-ID: <CO1PR11MB5107271EDDA460DFF5526073D2939@CO1PR11MB5107.namprd11.prod.outlook.com>

it claims to be damaged.

I sent a copy of this screenshot a few minutes ago and
it was >156KB and held for moderation, this copy is 32KB.

________________________________________
From: Simon Urbanek <simon.urbanek at R-project.org>
Sent: Sunday, March 7, 2021 21:42
To: Richard M. Heiberger
Cc: r-sig-mac at r-project.org
Subject: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs

Richard,

please note the binary supports mouse integration if you enable it (see Emacs documentation - ad-hoc: M-x xterm-mouse-mode).

Like I said, it is trivial to build the GUI version of you care - I have very explicitly disabled the GUI since I hate it personally (I want emacs to run in the terminal, not have it pop-up random windows). But you seem to think otherwise ;) so I have added the app build as well:
https://mac.r-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg

Cheers,
Simon


> On Mar 8, 2021, at 1:53 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
>
> Simon's binary works.  As he noted, it is missing mouse support.
>
> I copied the entirety of
> /Applications/Emacs.app/Contents/Resources/site-lisp
> into
> /opt/R/arm64/share/emacs/27.1/site-lisp
>
> I turned off the request for mouse support in
> site-lisp/site-start.el
> by changing the first mouse line (line 47) to
> (if (equal 'system-configuration "x86_64-apple-darwin18.7.0") (mouse-wheel-mode t)); activate mouse scrolling on intel
>
>
> I opened Terminal and started emacs with
> /opt/R/arm64/bin/emacs
> It gives an ERROR:ess-etc-directory which I can ignore (it looks to me like the ../etc is there).
> it gives a warning about server which I am ignoring for now.
>
> M-x R works.
> the major mouse functionality I miss are replaced by C-x ^ and C-x } and C-x o
> make-frame doesn't make a new frame.
>
> I had hoped that I could drop files from this version into the complete setup that Vincent Goulet has
> provided.  The file structure isn't identical, so that won't work naively.
>
> Now to see if I prefer the mouse-accesible x86_64 with random crashes or the
> aarch64 (presumably more stable) without mouse ability.
>
> ________________________________________
> From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
> Sent: Sunday, March 7, 2021 18:31
> To: Bob Rudis
> Cc: r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>
> My understanding had been that "universal" meant both intel and arm, and therefore
> that _10 and _14 was the indicator. Apparently not.
>
> I will look at the binary that Simon just told us about.
>
> I don't know how to check though, because the highly frequent crashes I see have
> nothing obvious in common.
>
> Rich
>
> ________________________________________
> From: Bob Rudis <bob at rud.is>
> Sent: Sunday, March 7, 2021 14:37
> To: Richard M. Heiberger
> Cc: r-sig-mac at r-project.org
> Subject: [External] Re: [R-SIG-Mac] Mac M1 emacs
>
> you should likely re-post to the list or double check the download as
> there are no x86_64 + amd64 universal binaries in there:
>
>    $ find  /Volumes/Emacs/Emacs.app/Contents/MacOS -type f -exec file {} \;
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ctags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ebrowse:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/emacsclient:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/etags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ctags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ebrowse:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/emacsclient:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/etags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs: Ruby script text,
> UTF-8 Unicode text
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10: Mach-O
> 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10.pdmp: data
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14: Mach-O
> 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14.pdmp: data
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs.pdmp: data
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libffi.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgmp.10.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgnutls.30.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libhogweed.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libjansson.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libnettle.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libp11-kit.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libtasn1.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libunistring.2.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libffi.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgmp.10.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgnutls.30.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libhogweed.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libjansson.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libnettle.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libp11-kit.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libtasn1.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libunistring.2.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libffi.7.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgmp.10.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgnutls.30.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libhogweed.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libidn2.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libintl.8.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libjansson.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libnettle.8.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libp11-kit.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libtasn1.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libunistring.2.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/hexl:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/movemail:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/rcs2log:
> POSIX shell script executable (binary data)
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/hexl:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/movemail:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/rcs2log:
> POSIX shell script executable (binary data)
>
> On Sun, Mar 7, 2021 at 1:50 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>>
>> I originally asked this question on the ess-help list, I now think it belongs here.
>>
>> emacs 21.1, specifically Vincent Goulet's distribution, crashes regularly on my Mac M1.
>> It looks to me like it is using the intel compilation through rosetta instead of the arm
>> compilation.
>> Vincent's distribution is based on
>> https://emacsformacosx.com/emacs-builds/Emacs-27.1-1-universal.dmg
>> which contains
>> lrwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>  drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_10
>>  drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_14
>>
>> The crash report says
>> My March 1 crash report said
>>> Process:               Emacs-x86_64-10_14 [1112]
>>> Path:                  /Applications/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14
>>> Identifier:            org.gnu.Emacs
>>> Version:               Version 27.1 (9.0)
>>> Code Type:             X86-64 (Translated)
>>> Parent Process:        ??? [1]
>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>
>> which I interpret as saying that it ran the intel compilation
>>> Responsible:           Emacs-x86_64-10_14 [1112]
>> translated through
>> rosetta.  It seems not to have run the arm compilation, even though the link
>> rwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>> looks to me like it should have been running bin-x86_64-10_10
>>
>> Is my interpretation correct? and if so how do I get the program to run the native M1
>> compilation.
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screen Shot 2021-03-07 at 23.40.23.png
Type: image/png
Size: 32817 bytes
Desc: Screen Shot 2021-03-07 at 23.40.23.png
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20210308/01a7009a/attachment-0001.png>

From rmh @end|ng |rom temp|e@edu  Mon Mar  8 06:29:04 2021
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Mon, 8 Mar 2021 05:29:04 +0000
Subject: [R-SIG-Mac] [External] Re:  [External] Re:  Mac M1 emacs
In-Reply-To: <FA79D92A-6141-48CC-BAB3-27CEDB131381@R-project.org>
References: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>
 <CO1PR11MB510734928CF7B3D5EE4ED809D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB5107E83BEA2C29FE4D53A970D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
 <351C44B0-B803-4722-A45B-1A6CB1BF290C@R-project.org>
 <CO1PR11MB5107E828C4C2501F14D51825D2939@CO1PR11MB5107.namprd11.prod.outlook.com>,
 <FA79D92A-6141-48CC-BAB3-27CEDB131381@R-project.org>
Message-ID: <CO1PR11MB51073E3785DCE4808E450F5FD2939@CO1PR11MB5107.namprd11.prod.outlook.com>

yes, I did.  that also gave the same message.

Also, the ~/Downloads and ~/Desktop directories are no longer available from the original intel Emacs (I changed
its name to Emacs-21.7-intel.app).
it says "access-files" are available.
This is familiar.  I had it before.  the answer is here, and it works.
https://emacs.stackexchange.com/questions/53904/why-cant-i-list-the-contents-of-desktop-on-macos-using-dired

I don't this this is the damage problem.
I have downloaded it three times from R-project and I get the same "damaged" problem each time.

________________________________________
From: Simon Urbanek <simon.urbanek at R-project.org>
Sent: Sunday, March 7, 2021 23:52
To: Richard M. Heiberger
Cc: r-sig-mac at r-project.org
Subject: Re: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs

Did you try running it from the image? At which point does it complain? It works for me.
Note that macOS may not be happy if you mangle the content due to code signing, so you may want to move aside the old version first if you are putting it in /Applications.
Unfortunately I have only one M1 system, so I can't try it on another "clean" one to see if there are issues.

Cheers,
Simon


> On Mar 8, 2021, at 5:43 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
>
> it claims to be damaged.
>
> I looked it and the filenames and directory structure look ok.
>
> ________________________________________
> From: Simon Urbanek <simon.urbanek at R-project.org>
> Sent: Sunday, March 7, 2021 21:42
> To: Richard M. Heiberger
> Cc: r-sig-mac at r-project.org
> Subject: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>
> Richard,
>
> please note the binary supports mouse integration if you enable it (see Emacs documentation - ad-hoc: M-x xterm-mouse-mode).
>
> Like I said, it is trivial to build the GUI version of you care - I have very explicitly disabled the GUI since I hate it personally (I want emacs to run in the terminal, not have it pop-up random windows). But you seem to think otherwise ;) so I have added the app build as well:
> https://mac.r-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg
>
> Cheers,
> Simon
>
>
>> On Mar 8, 2021, at 1:53 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
>>
>> Simon's binary works.  As he noted, it is missing mouse support.
>>
>> I copied the entirety of
>> /Applications/Emacs.app/Contents/Resources/site-lisp
>> into
>> /opt/R/arm64/share/emacs/27.1/site-lisp
>>
>> I turned off the request for mouse support in
>> site-lisp/site-start.el
>> by changing the first mouse line (line 47) to
>> (if (equal 'system-configuration "x86_64-apple-darwin18.7.0") (mouse-wheel-mode t)); activate mouse scrolling on intel
>>
>>
>> I opened Terminal and started emacs with
>> /opt/R/arm64/bin/emacs
>> It gives an ERROR:ess-etc-directory which I can ignore (it looks to me like the ../etc is there).
>> it gives a warning about server which I am ignoring for now.
>>
>> M-x R works.
>> the major mouse functionality I miss are replaced by C-x ^ and C-x } and C-x o
>> make-frame doesn't make a new frame.
>>
>> I had hoped that I could drop files from this version into the complete setup that Vincent Goulet has
>> provided.  The file structure isn't identical, so that won't work naively.
>>
>> Now to see if I prefer the mouse-accesible x86_64 with random crashes or the
>> aarch64 (presumably more stable) without mouse ability.
>>
>> ________________________________________
>> From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
>> Sent: Sunday, March 7, 2021 18:31
>> To: Bob Rudis
>> Cc: r-sig-mac at r-project.org
>> Subject: Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>>
>> My understanding had been that "universal" meant both intel and arm, and therefore
>> that _10 and _14 was the indicator. Apparently not.
>>
>> I will look at the binary that Simon just told us about.
>>
>> I don't know how to check though, because the highly frequent crashes I see have
>> nothing obvious in common.
>>
>> Rich
>>
>> ________________________________________
>> From: Bob Rudis <bob at rud.is>
>> Sent: Sunday, March 7, 2021 14:37
>> To: Richard M. Heiberger
>> Cc: r-sig-mac at r-project.org
>> Subject: [External] Re: [R-SIG-Mac] Mac M1 emacs
>>
>> you should likely re-post to the list or double check the download as
>> there are no x86_64 + amd64 universal binaries in there:
>>
>>   $ find  /Volumes/Emacs/Emacs.app/Contents/MacOS -type f -exec file {} \;
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ctags:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ebrowse:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/emacsclient:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/etags:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ctags:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ebrowse:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/emacsclient:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/etags:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs: Ruby script text,
>> UTF-8 Unicode text
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10: Mach-O
>> 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10.pdmp: data
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14: Mach-O
>> 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14.pdmp: data
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs.pdmp: data
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libffi.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgmp.10.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgnutls.30.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libhogweed.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libjansson.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libnettle.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libp11-kit.0.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libtasn1.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libunistring.2.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libffi.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgmp.10.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgnutls.30.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libhogweed.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libjansson.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libnettle.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libp11-kit.0.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libtasn1.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libunistring.2.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libffi.7.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgmp.10.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgnutls.30.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libhogweed.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libidn2.0.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libintl.8.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libjansson.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libnettle.8.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libp11-kit.0.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libtasn1.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libunistring.2.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/hexl:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/movemail:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/rcs2log:
>> POSIX shell script executable (binary data)
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/hexl:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/movemail:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/rcs2log:
>> POSIX shell script executable (binary data)
>>
>> On Sun, Mar 7, 2021 at 1:50 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>>>
>>> I originally asked this question on the ess-help list, I now think it belongs here.
>>>
>>> emacs 21.1, specifically Vincent Goulet's distribution, crashes regularly on my Mac M1.
>>> It looks to me like it is using the intel compilation through rosetta instead of the arm
>>> compilation.
>>> Vincent's distribution is based on
>>> https://emacsformacosx.com/emacs-builds/Emacs-27.1-1-universal.dmg
>>> which contains
>>> lrwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>> drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_10
>>> drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_14
>>>
>>> The crash report says
>>> My March 1 crash report said
>>>> Process:               Emacs-x86_64-10_14 [1112]
>>>> Path:                  /Applications/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14
>>>> Identifier:            org.gnu.Emacs
>>>> Version:               Version 27.1 (9.0)
>>>> Code Type:             X86-64 (Translated)
>>>> Parent Process:        ??? [1]
>>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>>
>>> which I interpret as saying that it ran the intel compilation
>>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>> translated through
>>> rosetta.  It seems not to have run the arm compilation, even though the link
>>> rwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>> looks to me like it should have been running bin-x86_64-10_10
>>>
>>> Is my interpretation correct? and if so how do I get the program to run the native M1
>>> compilation.
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> <Screen Shot 2021-03-07 at 23.40.23.png>



From rmh @end|ng |rom temp|e@edu  Mon Mar  8 17:55:52 2021
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Mon, 8 Mar 2021 16:55:52 +0000
Subject: [R-SIG-Mac] [External] Re:  [External] Re:  Mac M1 emacs
In-Reply-To: <CO1PR11MB51073E3785DCE4808E450F5FD2939@CO1PR11MB5107.namprd11.prod.outlook.com>
References: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>
 <CO1PR11MB510734928CF7B3D5EE4ED809D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB5107E83BEA2C29FE4D53A970D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
 <351C44B0-B803-4722-A45B-1A6CB1BF290C@R-project.org>
 <CO1PR11MB5107E828C4C2501F14D51825D2939@CO1PR11MB5107.namprd11.prod.outlook.com>,
 <FA79D92A-6141-48CC-BAB3-27CEDB131381@R-project.org>,
 <CO1PR11MB51073E3785DCE4808E450F5FD2939@CO1PR11MB5107.namprd11.prod.outlook.com>
Message-ID: <CO1PR11MB51077FD62F9DE2E3489E8892D2939@CO1PR11MB5107.namprd11.prod.outlook.com>

I tried the all-purpose computer repair and rebooted the machine.  It still reports a damaged app.

I am now ooking at https://osxdaily.com/2019/02/13/fix-app-damaged-cant-be-opened-trash-error-mac/
and wi report back.

________________________________________
From: Richard M. Heiberger <rmh at temple.edu>
Sent: Monday, March 8, 2021 00:29
To: Simon Urbanek
Cc: r-sig-mac at r-project.org
Subject: Re: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs

yes, I did.  that also gave the same message.

Also, the ~/Downloads and ~/Desktop directories are no longer available from the original intel Emacs (I changed
its name to Emacs-21.7-intel.app).
it says "access-files" are available.
This is familiar.  I had it before.  the answer is here, and it works.
https://emacs.stackexchange.com/questions/53904/why-cant-i-list-the-contents-of-desktop-on-macos-using-dired

I don't this this is the damage problem.
I have downloaded it three times from R-project and I get the same "damaged" problem each time.

________________________________________
From: Simon Urbanek <simon.urbanek at R-project.org>
Sent: Sunday, March 7, 2021 23:52
To: Richard M. Heiberger
Cc: r-sig-mac at r-project.org
Subject: Re: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs

Did you try running it from the image? At which point does it complain? It works for me.
Note that macOS may not be happy if you mangle the content due to code signing, so you may want to move aside the old version first if you are putting it in /Applications.
Unfortunately I have only one M1 system, so I can't try it on another "clean" one to see if there are issues.

Cheers,
Simon


> On Mar 8, 2021, at 5:43 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
>
> it claims to be damaged.
>
> I looked it and the filenames and directory structure look ok.
>
> ________________________________________
> From: Simon Urbanek <simon.urbanek at R-project.org>
> Sent: Sunday, March 7, 2021 21:42
> To: Richard M. Heiberger
> Cc: r-sig-mac at r-project.org
> Subject: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>
> Richard,
>
> please note the binary supports mouse integration if you enable it (see Emacs documentation - ad-hoc: M-x xterm-mouse-mode).
>
> Like I said, it is trivial to build the GUI version of you care - I have very explicitly disabled the GUI since I hate it personally (I want emacs to run in the terminal, not have it pop-up random windows). But you seem to think otherwise ;) so I have added the app build as well:
> https://mac.r-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg
>
> Cheers,
> Simon
>
>
>> On Mar 8, 2021, at 1:53 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
>>
>> Simon's binary works.  As he noted, it is missing mouse support.
>>
>> I copied the entirety of
>> /Applications/Emacs.app/Contents/Resources/site-lisp
>> into
>> /opt/R/arm64/share/emacs/27.1/site-lisp
>>
>> I turned off the request for mouse support in
>> site-lisp/site-start.el
>> by changing the first mouse line (line 47) to
>> (if (equal 'system-configuration "x86_64-apple-darwin18.7.0") (mouse-wheel-mode t)); activate mouse scrolling on intel
>>
>>
>> I opened Terminal and started emacs with
>> /opt/R/arm64/bin/emacs
>> It gives an ERROR:ess-etc-directory which I can ignore (it looks to me like the ../etc is there).
>> it gives a warning about server which I am ignoring for now.
>>
>> M-x R works.
>> the major mouse functionality I miss are replaced by C-x ^ and C-x } and C-x o
>> make-frame doesn't make a new frame.
>>
>> I had hoped that I could drop files from this version into the complete setup that Vincent Goulet has
>> provided.  The file structure isn't identical, so that won't work naively.
>>
>> Now to see if I prefer the mouse-accesible x86_64 with random crashes or the
>> aarch64 (presumably more stable) without mouse ability.
>>
>> ________________________________________
>> From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
>> Sent: Sunday, March 7, 2021 18:31
>> To: Bob Rudis
>> Cc: r-sig-mac at r-project.org
>> Subject: Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>>
>> My understanding had been that "universal" meant both intel and arm, and therefore
>> that _10 and _14 was the indicator. Apparently not.
>>
>> I will look at the binary that Simon just told us about.
>>
>> I don't know how to check though, because the highly frequent crashes I see have
>> nothing obvious in common.
>>
>> Rich
>>
>> ________________________________________
>> From: Bob Rudis <bob at rud.is>
>> Sent: Sunday, March 7, 2021 14:37
>> To: Richard M. Heiberger
>> Cc: r-sig-mac at r-project.org
>> Subject: [External] Re: [R-SIG-Mac] Mac M1 emacs
>>
>> you should likely re-post to the list or double check the download as
>> there are no x86_64 + amd64 universal binaries in there:
>>
>>   $ find  /Volumes/Emacs/Emacs.app/Contents/MacOS -type f -exec file {} \;
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ctags:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ebrowse:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/emacsclient:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/etags:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ctags:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ebrowse:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/emacsclient:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/etags:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs: Ruby script text,
>> UTF-8 Unicode text
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10: Mach-O
>> 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10.pdmp: data
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14: Mach-O
>> 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14.pdmp: data
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs.pdmp: data
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libffi.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgmp.10.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgnutls.30.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libhogweed.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libjansson.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libnettle.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libp11-kit.0.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libtasn1.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libunistring.2.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libffi.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgmp.10.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgnutls.30.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libhogweed.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libjansson.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libnettle.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libp11-kit.0.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libtasn1.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libunistring.2.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libffi.7.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgmp.10.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgnutls.30.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libhogweed.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libidn2.0.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libintl.8.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libjansson.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libnettle.8.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libp11-kit.0.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libtasn1.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libunistring.2.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/hexl:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/movemail:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/rcs2log:
>> POSIX shell script executable (binary data)
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/hexl:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/movemail:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/rcs2log:
>> POSIX shell script executable (binary data)
>>
>> On Sun, Mar 7, 2021 at 1:50 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>>>
>>> I originally asked this question on the ess-help list, I now think it belongs here.
>>>
>>> emacs 21.1, specifically Vincent Goulet's distribution, crashes regularly on my Mac M1.
>>> It looks to me like it is using the intel compilation through rosetta instead of the arm
>>> compilation.
>>> Vincent's distribution is based on
>>> https://emacsformacosx.com/emacs-builds/Emacs-27.1-1-universal.dmg
>>> which contains
>>> lrwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>> drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_10
>>> drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_14
>>>
>>> The crash report says
>>> My March 1 crash report said
>>>> Process:               Emacs-x86_64-10_14 [1112]
>>>> Path:                  /Applications/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14
>>>> Identifier:            org.gnu.Emacs
>>>> Version:               Version 27.1 (9.0)
>>>> Code Type:             X86-64 (Translated)
>>>> Parent Process:        ??? [1]
>>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>>
>>> which I interpret as saying that it ran the intel compilation
>>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>> translated through
>>> rosetta.  It seems not to have run the arm compilation, even though the link
>>> rwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>> looks to me like it should have been running bin-x86_64-10_10
>>>
>>> Is my interpretation correct? and if so how do I get the program to run the native M1
>>> compilation.
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> <Screen Shot 2021-03-07 at 23.40.23.png>


From rmh @end|ng |rom temp|e@edu  Mon Mar  8 18:59:52 2021
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Mon, 8 Mar 2021 17:59:52 +0000
Subject: [R-SIG-Mac] [External] Re:  [External] Re:  Mac M1 emacs
In-Reply-To: <CO1PR11MB51077FD62F9DE2E3489E8892D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
References: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>
 <CO1PR11MB510734928CF7B3D5EE4ED809D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB5107E83BEA2C29FE4D53A970D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
 <351C44B0-B803-4722-A45B-1A6CB1BF290C@R-project.org>
 <CO1PR11MB5107E828C4C2501F14D51825D2939@CO1PR11MB5107.namprd11.prod.outlook.com>,
 <FA79D92A-6141-48CC-BAB3-27CEDB131381@R-project.org>,
 <CO1PR11MB51073E3785DCE4808E450F5FD2939@CO1PR11MB5107.namprd11.prod.outlook.com>,
 <CO1PR11MB51077FD62F9DE2E3489E8892D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
Message-ID: <CO1PR11MB51079B2B11C76206C8745825D2939@CO1PR11MB5107.namprd11.prod.outlook.com>

I updated the OS to 11.2.2, again redownloaded the app
https://mac.r-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg
and still get the damaged app message.

I attempted Ctrl-Click Open (hoping to get past the app from untrusted source issue) and that also gave me the Damaged App message.

The next option they offer is
"
4: Use xattr on the App Throwing the Damaged Error
This is sort of a last resort and is only recommended for advanced Mac users. Generally speaking if the app is still throwing a ?damaged? error message you might want to not use it. Use this at your own risk.

With the command line you can use xattr to view and remove extended attributes from a file on the Mac including the application throwing the ?Appname.app is damaged and can?t be opened. You should move it to the Trash.? error message.

Launch Terminal and then issue the following command:

xattr -cr /path/to/application.app
"
and I am not willing to do that.

Perhaps if I compile on my machine from your recipe, it might work.
I am a git novice, so I will need an explicit statement and instructions to try that.

Rich

________________________________________
From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
Sent: Monday, March 8, 2021 11:55
To: Simon Urbanek
Cc: r-sig-mac at r-project.org
Subject: Re: [R-SIG-Mac] [External] Re:  [External] Re:  Mac M1 emacs

I tried the all-purpose computer repair and rebooted the machine.  It still reports a damaged app.

I am now ooking at https://osxdaily.com/2019/02/13/fix-app-damaged-cant-be-opened-trash-error-mac/
and wi report back.

________________________________________
From: Richard M. Heiberger <rmh at temple.edu>
Sent: Monday, March 8, 2021 00:29
To: Simon Urbanek
Cc: r-sig-mac at r-project.org
Subject: Re: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs

yes, I did.  that also gave the same message.

Also, the ~/Downloads and ~/Desktop directories are no longer available from the original intel Emacs (I changed
its name to Emacs-21.7-intel.app).
it says "access-files" are available.
This is familiar.  I had it before.  the answer is here, and it works.
https://emacs.stackexchange.com/questions/53904/why-cant-i-list-the-contents-of-desktop-on-macos-using-dired

I don't this this is the damage problem.
I have downloaded it three times from R-project and I get the same "damaged" problem each time.

________________________________________
From: Simon Urbanek <simon.urbanek at R-project.org>
Sent: Sunday, March 7, 2021 23:52
To: Richard M. Heiberger
Cc: r-sig-mac at r-project.org
Subject: Re: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs

Did you try running it from the image? At which point does it complain? It works for me.
Note that macOS may not be happy if you mangle the content due to code signing, so you may want to move aside the old version first if you are putting it in /Applications.
Unfortunately I have only one M1 system, so I can't try it on another "clean" one to see if there are issues.

Cheers,
Simon


> On Mar 8, 2021, at 5:43 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
>
> it claims to be damaged.
>
> I looked it and the filenames and directory structure look ok.
>
> ________________________________________
> From: Simon Urbanek <simon.urbanek at R-project.org>
> Sent: Sunday, March 7, 2021 21:42
> To: Richard M. Heiberger
> Cc: r-sig-mac at r-project.org
> Subject: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>
> Richard,
>
> please note the binary supports mouse integration if you enable it (see Emacs documentation - ad-hoc: M-x xterm-mouse-mode).
>
> Like I said, it is trivial to build the GUI version of you care - I have very explicitly disabled the GUI since I hate it personally (I want emacs to run in the terminal, not have it pop-up random windows). But you seem to think otherwise ;) so I have added the app build as well:
> https://mac.r-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg
>
> Cheers,
> Simon
>
>
>> On Mar 8, 2021, at 1:53 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
>>
>> Simon's binary works.  As he noted, it is missing mouse support.
>>
>> I copied the entirety of
>> /Applications/Emacs.app/Contents/Resources/site-lisp
>> into
>> /opt/R/arm64/share/emacs/27.1/site-lisp
>>
>> I turned off the request for mouse support in
>> site-lisp/site-start.el
>> by changing the first mouse line (line 47) to
>> (if (equal 'system-configuration "x86_64-apple-darwin18.7.0") (mouse-wheel-mode t)); activate mouse scrolling on intel
>>
>>
>> I opened Terminal and started emacs with
>> /opt/R/arm64/bin/emacs
>> It gives an ERROR:ess-etc-directory which I can ignore (it looks to me like the ../etc is there).
>> it gives a warning about server which I am ignoring for now.
>>
>> M-x R works.
>> the major mouse functionality I miss are replaced by C-x ^ and C-x } and C-x o
>> make-frame doesn't make a new frame.
>>
>> I had hoped that I could drop files from this version into the complete setup that Vincent Goulet has
>> provided.  The file structure isn't identical, so that won't work naively.
>>
>> Now to see if I prefer the mouse-accesible x86_64 with random crashes or the
>> aarch64 (presumably more stable) without mouse ability.
>>
>> ________________________________________
>> From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
>> Sent: Sunday, March 7, 2021 18:31
>> To: Bob Rudis
>> Cc: r-sig-mac at r-project.org
>> Subject: Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>>
>> My understanding had been that "universal" meant both intel and arm, and therefore
>> that _10 and _14 was the indicator. Apparently not.
>>
>> I will look at the binary that Simon just told us about.
>>
>> I don't know how to check though, because the highly frequent crashes I see have
>> nothing obvious in common.
>>
>> Rich
>>
>> ________________________________________
>> From: Bob Rudis <bob at rud.is>
>> Sent: Sunday, March 7, 2021 14:37
>> To: Richard M. Heiberger
>> Cc: r-sig-mac at r-project.org
>> Subject: [External] Re: [R-SIG-Mac] Mac M1 emacs
>>
>> you should likely re-post to the list or double check the download as
>> there are no x86_64 + amd64 universal binaries in there:
>>
>>   $ find  /Volumes/Emacs/Emacs.app/Contents/MacOS -type f -exec file {} \;
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ctags:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ebrowse:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/emacsclient:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/etags:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ctags:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ebrowse:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/emacsclient:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/etags:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs: Ruby script text,
>> UTF-8 Unicode text
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10: Mach-O
>> 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10.pdmp: data
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14: Mach-O
>> 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14.pdmp: data
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs.pdmp: data
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libffi.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgmp.10.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgnutls.30.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libhogweed.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libjansson.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libnettle.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libp11-kit.0.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libtasn1.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libunistring.2.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libffi.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgmp.10.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgnutls.30.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libhogweed.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libjansson.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libnettle.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libp11-kit.0.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libtasn1.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libunistring.2.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libffi.7.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgmp.10.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgnutls.30.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libhogweed.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libidn2.0.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libintl.8.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libjansson.4.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libnettle.8.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libp11-kit.0.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libtasn1.6.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libunistring.2.dylib:
>> Mach-O 64-bit dynamically linked shared library x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/hexl:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/movemail:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/rcs2log:
>> POSIX shell script executable (binary data)
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/hexl:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/movemail:
>> Mach-O 64-bit executable x86_64
>>   /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/rcs2log:
>> POSIX shell script executable (binary data)
>>
>> On Sun, Mar 7, 2021 at 1:50 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>>>
>>> I originally asked this question on the ess-help list, I now think it belongs here.
>>>
>>> emacs 21.1, specifically Vincent Goulet's distribution, crashes regularly on my Mac M1.
>>> It looks to me like it is using the intel compilation through rosetta instead of the arm
>>> compilation.
>>> Vincent's distribution is based on
>>> https://emacsformacosx.com/emacs-builds/Emacs-27.1-1-universal.dmg
>>> which contains
>>> lrwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>> drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_10
>>> drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_14
>>>
>>> The crash report says
>>> My March 1 crash report said
>>>> Process:               Emacs-x86_64-10_14 [1112]
>>>> Path:                  /Applications/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14
>>>> Identifier:            org.gnu.Emacs
>>>> Version:               Version 27.1 (9.0)
>>>> Code Type:             X86-64 (Translated)
>>>> Parent Process:        ??? [1]
>>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>>
>>> which I interpret as saying that it ran the intel compilation
>>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>> translated through
>>> rosetta.  It seems not to have run the arm compilation, even though the link
>>> rwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>> looks to me like it should have been running bin-x86_64-10_10
>>>
>>> Is my interpretation correct? and if so how do I get the program to run the native M1
>>> compilation.
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> <Screen Shot 2021-03-07 at 23.40.23.png>

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From r|p|ey @end|ng |rom @t@t@@ox@@c@uk  Mon Mar  8 19:30:26 2021
From: r|p|ey @end|ng |rom @t@t@@ox@@c@uk (Prof Brian Ripley)
Date: Mon, 8 Mar 2021 18:30:26 +0000
Subject: [R-SIG-Mac] [External] Re: [External] Re: Mac M1 emacs
In-Reply-To: <CO1PR11MB51079B2B11C76206C8745825D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
References: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>
 <CO1PR11MB510734928CF7B3D5EE4ED809D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB5107E83BEA2C29FE4D53A970D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
 <351C44B0-B803-4722-A45B-1A6CB1BF290C@R-project.org>
 <CO1PR11MB5107E828C4C2501F14D51825D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
 <FA79D92A-6141-48CC-BAB3-27CEDB131381@R-project.org>
 <CO1PR11MB51073E3785DCE4808E450F5FD2939@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB51077FD62F9DE2E3489E8892D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB51079B2B11C76206C8745825D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
Message-ID: <ce004494-d833-6aa9-9c78-cdbf2879e69b@stats.ox.ac.uk>

On 08/03/2021 17:59, Richard M. Heiberger wrote:
> I updated the OS to 11.2.2, again redownloaded the app
> https://mac.r-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg
> and still get the damaged app message.

How did you download it?  That page and R-admin recommend using curl and 
when I did that it works for me, both running from the image and copying 
somewhere other than /Applications (as I have another Emacs there).

OTOH, I've not seen any problems with Vincent Goulet's Intel build on my 
M1 Mac.  The posting guide for this list does ask you not to use 'crash' 
....

> 
> I attempted Ctrl-Click Open (hoping to get past the app from untrusted source issue) and that also gave me the Damaged App message.
> 
> The next option they offer is
> "
> 4: Use xattr on the App Throwing the Damaged Error
> This is sort of a last resort and is only recommended for advanced Mac users. Generally speaking if the app is still throwing a ?damaged? error message you might want to not use it. Use this at your own risk.
> 
> With the command line you can use xattr to view and remove extended attributes from a file on the Mac including the application throwing the ?Appname.app is damaged and can?t be opened. You should move it to the Trash.? error message.
> 
> Launch Terminal and then issue the following command:
> 
> xattr -cr /path/to/application.app
> "
> and I am not willing to do that.
> 
> Perhaps if I compile on my machine from your recipe, it might work.
> I am a git novice, so I will need an explicit statement and instructions to try that.
> 
> Rich
> 
> ________________________________________
> From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
> Sent: Monday, March 8, 2021 11:55
> To: Simon Urbanek
> Cc: r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] [External] Re:  [External] Re:  Mac M1 emacs
> 
> I tried the all-purpose computer repair and rebooted the machine.  It still reports a damaged app.
> 
> I am now ooking at https://osxdaily.com/2019/02/13/fix-app-damaged-cant-be-opened-trash-error-mac/
> and wi report back.
> 
> ________________________________________
> From: Richard M. Heiberger <rmh at temple.edu>
> Sent: Monday, March 8, 2021 00:29
> To: Simon Urbanek
> Cc: r-sig-mac at r-project.org
> Subject: Re: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
> 
> yes, I did.  that also gave the same message.
> 
> Also, the ~/Downloads and ~/Desktop directories are no longer available from the original intel Emacs (I changed
> its name to Emacs-21.7-intel.app).
> it says "access-files" are available.
> This is familiar.  I had it before.  the answer is here, and it works.
> https://emacs.stackexchange.com/questions/53904/why-cant-i-list-the-contents-of-desktop-on-macos-using-dired
> 
> I don't this this is the damage problem.
> I have downloaded it three times from R-project and I get the same "damaged" problem each time.
> 
> ________________________________________
> From: Simon Urbanek <simon.urbanek at R-project.org>
> Sent: Sunday, March 7, 2021 23:52
> To: Richard M. Heiberger
> Cc: r-sig-mac at r-project.org
> Subject: Re: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
> 
> Did you try running it from the image? At which point does it complain? It works for me.
> Note that macOS may not be happy if you mangle the content due to code signing, so you may want to move aside the old version first if you are putting it in /Applications.
> Unfortunately I have only one M1 system, so I can't try it on another "clean" one to see if there are issues.
> 
> Cheers,
> Simon
> 
> 
>> On Mar 8, 2021, at 5:43 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
>>
>> it claims to be damaged.
>>
>> I looked it and the filenames and directory structure look ok.
>>
>> ________________________________________
>> From: Simon Urbanek <simon.urbanek at R-project.org>
>> Sent: Sunday, March 7, 2021 21:42
>> To: Richard M. Heiberger
>> Cc: r-sig-mac at r-project.org
>> Subject: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>>
>> Richard,
>>
>> please note the binary supports mouse integration if you enable it (see Emacs documentation - ad-hoc: M-x xterm-mouse-mode).
>>
>> Like I said, it is trivial to build the GUI version of you care - I have very explicitly disabled the GUI since I hate it personally (I want emacs to run in the terminal, not have it pop-up random windows). But you seem to think otherwise ;) so I have added the app build as well:
>> https://mac.r-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg
>>
>> Cheers,
>> Simon
>>
>>
>>> On Mar 8, 2021, at 1:53 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
>>>
>>> Simon's binary works.  As he noted, it is missing mouse support.
>>>
>>> I copied the entirety of
>>> /Applications/Emacs.app/Contents/Resources/site-lisp
>>> into
>>> /opt/R/arm64/share/emacs/27.1/site-lisp
>>>
>>> I turned off the request for mouse support in
>>> site-lisp/site-start.el
>>> by changing the first mouse line (line 47) to
>>> (if (equal 'system-configuration "x86_64-apple-darwin18.7.0") (mouse-wheel-mode t)); activate mouse scrolling on intel
>>>
>>>
>>> I opened Terminal and started emacs with
>>> /opt/R/arm64/bin/emacs
>>> It gives an ERROR:ess-etc-directory which I can ignore (it looks to me like the ../etc is there).
>>> it gives a warning about server which I am ignoring for now.
>>>
>>> M-x R works.
>>> the major mouse functionality I miss are replaced by C-x ^ and C-x } and C-x o
>>> make-frame doesn't make a new frame.
>>>
>>> I had hoped that I could drop files from this version into the complete setup that Vincent Goulet has
>>> provided.  The file structure isn't identical, so that won't work naively.
>>>
>>> Now to see if I prefer the mouse-accesible x86_64 with random crashes or the
>>> aarch64 (presumably more stable) without mouse ability.
>>>
>>> ________________________________________
>>> From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
>>> Sent: Sunday, March 7, 2021 18:31
>>> To: Bob Rudis
>>> Cc: r-sig-mac at r-project.org
>>> Subject: Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>>>
>>> My understanding had been that "universal" meant both intel and arm, and therefore
>>> that _10 and _14 was the indicator. Apparently not.
>>>
>>> I will look at the binary that Simon just told us about.
>>>
>>> I don't know how to check though, because the highly frequent crashes I see have
>>> nothing obvious in common.
>>>
>>> Rich
>>>
>>> ________________________________________
>>> From: Bob Rudis <bob at rud.is>
>>> Sent: Sunday, March 7, 2021 14:37
>>> To: Richard M. Heiberger
>>> Cc: r-sig-mac at r-project.org
>>> Subject: [External] Re: [R-SIG-Mac] Mac M1 emacs
>>>
>>> you should likely re-post to the list or double check the download as
>>> there are no x86_64 + amd64 universal binaries in there:
>>>
>>>    $ find  /Volumes/Emacs/Emacs.app/Contents/MacOS -type f -exec file {} \;
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ctags:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ebrowse:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/emacsclient:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/etags:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ctags:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ebrowse:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/emacsclient:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/etags:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs: Ruby script text,
>>> UTF-8 Unicode text
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10: Mach-O
>>> 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10.pdmp: data
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14: Mach-O
>>> 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14.pdmp: data
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs.pdmp: data
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libffi.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgmp.10.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgnutls.30.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libhogweed.4.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libjansson.4.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libnettle.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libp11-kit.0.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libtasn1.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libunistring.2.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libffi.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgmp.10.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgnutls.30.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libhogweed.4.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libjansson.4.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libnettle.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libp11-kit.0.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libtasn1.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libunistring.2.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libffi.7.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgmp.10.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgnutls.30.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libhogweed.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libidn2.0.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libintl.8.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libjansson.4.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libnettle.8.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libp11-kit.0.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libtasn1.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libunistring.2.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/hexl:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/movemail:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/rcs2log:
>>> POSIX shell script executable (binary data)
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/hexl:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/movemail:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/rcs2log:
>>> POSIX shell script executable (binary data)
>>>
>>> On Sun, Mar 7, 2021 at 1:50 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>>>>
>>>> I originally asked this question on the ess-help list, I now think it belongs here.
>>>>
>>>> emacs 21.1, specifically Vincent Goulet's distribution, crashes regularly on my Mac M1.
>>>> It looks to me like it is using the intel compilation through rosetta instead of the arm
>>>> compilation.
>>>> Vincent's distribution is based on
>>>> https://emacsformacosx.com/emacs-builds/Emacs-27.1-1-universal.dmg
>>>> which contains
>>>> lrwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>>> drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_10
>>>> drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_14
>>>>
>>>> The crash report says
>>>> My March 1 crash report said
>>>>> Process:               Emacs-x86_64-10_14 [1112]
>>>>> Path:                  /Applications/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14
>>>>> Identifier:            org.gnu.Emacs
>>>>> Version:               Version 27.1 (9.0)
>>>>> Code Type:             X86-64 (Translated)
>>>>> Parent Process:        ??? [1]
>>>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>>>
>>>> which I interpret as saying that it ran the intel compilation
>>>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>>> translated through
>>>> rosetta.  It seems not to have run the arm compilation, even though the link
>>>> rwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>>> looks to me like it should have been running bin-x86_64-10_10
>>>>
>>>> Is my interpretation correct? and if so how do I get the program to run the native M1
>>>> compilation.
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> <Screen Shot 2021-03-07 at 23.40.23.png>
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford


From rmh @end|ng |rom temp|e@edu  Mon Mar  8 20:19:48 2021
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Mon, 8 Mar 2021 19:19:48 +0000
Subject: [R-SIG-Mac] [External] Re: [External] Re: [External] Re: Mac M1
 emacs
In-Reply-To: <ce004494-d833-6aa9-9c78-cdbf2879e69b@stats.ox.ac.uk>
References: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>
 <CO1PR11MB510734928CF7B3D5EE4ED809D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB5107E83BEA2C29FE4D53A970D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
 <351C44B0-B803-4722-A45B-1A6CB1BF290C@R-project.org>
 <CO1PR11MB5107E828C4C2501F14D51825D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
 <FA79D92A-6141-48CC-BAB3-27CEDB131381@R-project.org>
 <CO1PR11MB51073E3785DCE4808E450F5FD2939@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB51077FD62F9DE2E3489E8892D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB51079B2B11C76206C8745825D2939@CO1PR11MB5107.namprd11.prod.outlook.com>,
 <ce004494-d833-6aa9-9c78-cdbf2879e69b@stats.ox.ac.uk>
Message-ID: <CO1PR11MB510798C2E6A2ED67A3B866D5D2939@CO1PR11MB5107.namprd11.prod.outlook.com>

Originally I used right-click "Download linked file" on the url in the email.  The file appeared in ~/Downloads/
and looked normal to me.

Just now, following your suggestion,
I used curl three times, twice inside *shell* in emacs (Vincent Goulet's intel version) and once in Terminal.
This is from Terminal:
rmh at MacBook-Air ~ % curl -O http://mac.R-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   162  100   162    0     0   1396      0 --:--:-- --:--:-- --:--:--  1396
rmh at MacBook-Air ~ % pwd
/Users/rmh
rmh at MacBook-Air ~ % ls -alF *dmg
-rw-r--r--@ 1 rmh  staff  162 Mar  8 13:42 emacs-27.1-app-arm64-darwin20.dmg
rmh at MacBook-Air ~ %

This is the contents of the downloaded file:
<html>
<head><title>301 Moved Permanently</title></head>
<body>
<center><h1>301 Moved Permanently</h1></center>
<hr><center>nginx</center>
</body>
</html>





terminology.
My March 1 email to ess-help quoted the Apple Problem Report message
that included the lines:
Exception Type:        EXC_CRASH (SIGABRT)
Exception Codes:       0x0000000000000000, 0x0000000000000000
Exception Note:        EXC_CORPSE_NOTIFY





________________________________________
From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
Sent: Monday, March 8, 2021 13:30
To: Richard M. Heiberger; Simon Urbanek
Cc: r-sig-mac at r-project.org
Subject: [External] Re: [R-SIG-Mac] [External] Re: [External] Re: Mac M1 emacs

On 08/03/2021 17:59, Richard M. Heiberger wrote:
> I updated the OS to 11.2.2, again redownloaded the app
> https://mac.r-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg
> and still get the damaged app message.

How did you download it?  That page and R-admin recommend using curl and
when I did that it works for me, both running from the image and copying
somewhere other than /Applications (as I have another Emacs there).

OTOH, I've not seen any problems with Vincent Goulet's Intel build on my
M1 Mac.  The posting guide for this list does ask you not to use 'crash'
....

>
> I attempted Ctrl-Click Open (hoping to get past the app from untrusted source issue) and that also gave me the Damaged App message.
>
> The next option they offer is
> "
> 4: Use xattr on the App Throwing the Damaged Error
> This is sort of a last resort and is only recommended for advanced Mac users. Generally speaking if the app is still throwing a ?damaged? error message you might want to not use it. Use this at your own risk.
>
> With the command line you can use xattr to view and remove extended attributes from a file on the Mac including the application throwing the ?Appname.app is damaged and can?t be opened. You should move it to the Trash.? error message.
>
> Launch Terminal and then issue the following command:
>
> xattr -cr /path/to/application.app
> "
> and I am not willing to do that.
>
> Perhaps if I compile on my machine from your recipe, it might work.
> I am a git novice, so I will need an explicit statement and instructions to try that.
>
> Rich
>
> ________________________________________
> From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
> Sent: Monday, March 8, 2021 11:55
> To: Simon Urbanek
> Cc: r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] [External] Re:  [External] Re:  Mac M1 emacs
>
> I tried the all-purpose computer repair and rebooted the machine.  It still reports a damaged app.
>
> I am now ooking at https://osxdaily.com/2019/02/13/fix-app-damaged-cant-be-opened-trash-error-mac/
> and wi report back.
>
> ________________________________________
> From: Richard M. Heiberger <rmh at temple.edu>
> Sent: Monday, March 8, 2021 00:29
> To: Simon Urbanek
> Cc: r-sig-mac at r-project.org
> Subject: Re: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>
> yes, I did.  that also gave the same message.
>
> Also, the ~/Downloads and ~/Desktop directories are no longer available from the original intel Emacs (I changed
> its name to Emacs-21.7-intel.app).
> it says "access-files" are available.
> This is familiar.  I had it before.  the answer is here, and it works.
> https://emacs.stackexchange.com/questions/53904/why-cant-i-list-the-contents-of-desktop-on-macos-using-dired
>
> I don't this this is the damage problem.
> I have downloaded it three times from R-project and I get the same "damaged" problem each time.
>
> ________________________________________
> From: Simon Urbanek <simon.urbanek at R-project.org>
> Sent: Sunday, March 7, 2021 23:52
> To: Richard M. Heiberger
> Cc: r-sig-mac at r-project.org
> Subject: Re: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>
> Did you try running it from the image? At which point does it complain? It works for me.
> Note that macOS may not be happy if you mangle the content due to code signing, so you may want to move aside the old version first if you are putting it in /Applications.
> Unfortunately I have only one M1 system, so I can't try it on another "clean" one to see if there are issues.
>
> Cheers,
> Simon
>
>
>> On Mar 8, 2021, at 5:43 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
>>
>> it claims to be damaged.
>>
>> I looked it and the filenames and directory structure look ok.
>>
>> ________________________________________
>> From: Simon Urbanek <simon.urbanek at R-project.org>
>> Sent: Sunday, March 7, 2021 21:42
>> To: Richard M. Heiberger
>> Cc: r-sig-mac at r-project.org
>> Subject: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>>
>> Richard,
>>
>> please note the binary supports mouse integration if you enable it (see Emacs documentation - ad-hoc: M-x xterm-mouse-mode).
>>
>> Like I said, it is trivial to build the GUI version of you care - I have very explicitly disabled the GUI since I hate it personally (I want emacs to run in the terminal, not have it pop-up random windows). But you seem to think otherwise ;) so I have added the app build as well:
>> https://mac.r-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg
>>
>> Cheers,
>> Simon
>>
>>
>>> On Mar 8, 2021, at 1:53 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
>>>
>>> Simon's binary works.  As he noted, it is missing mouse support.
>>>
>>> I copied the entirety of
>>> /Applications/Emacs.app/Contents/Resources/site-lisp
>>> into
>>> /opt/R/arm64/share/emacs/27.1/site-lisp
>>>
>>> I turned off the request for mouse support in
>>> site-lisp/site-start.el
>>> by changing the first mouse line (line 47) to
>>> (if (equal 'system-configuration "x86_64-apple-darwin18.7.0") (mouse-wheel-mode t)); activate mouse scrolling on intel
>>>
>>>
>>> I opened Terminal and started emacs with
>>> /opt/R/arm64/bin/emacs
>>> It gives an ERROR:ess-etc-directory which I can ignore (it looks to me like the ../etc is there).
>>> it gives a warning about server which I am ignoring for now.
>>>
>>> M-x R works.
>>> the major mouse functionality I miss are replaced by C-x ^ and C-x } and C-x o
>>> make-frame doesn't make a new frame.
>>>
>>> I had hoped that I could drop files from this version into the complete setup that Vincent Goulet has
>>> provided.  The file structure isn't identical, so that won't work naively.
>>>
>>> Now to see if I prefer the mouse-accesible x86_64 with random crashes or the
>>> aarch64 (presumably more stable) without mouse ability.
>>>
>>> ________________________________________
>>> From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
>>> Sent: Sunday, March 7, 2021 18:31
>>> To: Bob Rudis
>>> Cc: r-sig-mac at r-project.org
>>> Subject: Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>>>
>>> My understanding had been that "universal" meant both intel and arm, and therefore
>>> that _10 and _14 was the indicator. Apparently not.
>>>
>>> I will look at the binary that Simon just told us about.
>>>
>>> I don't know how to check though, because the highly frequent crashes I see have
>>> nothing obvious in common.
>>>
>>> Rich
>>>
>>> ________________________________________
>>> From: Bob Rudis <bob at rud.is>
>>> Sent: Sunday, March 7, 2021 14:37
>>> To: Richard M. Heiberger
>>> Cc: r-sig-mac at r-project.org
>>> Subject: [External] Re: [R-SIG-Mac] Mac M1 emacs
>>>
>>> you should likely re-post to the list or double check the download as
>>> there are no x86_64 + amd64 universal binaries in there:
>>>
>>>    $ find  /Volumes/Emacs/Emacs.app/Contents/MacOS -type f -exec file {} \;
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ctags:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ebrowse:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/emacsclient:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/etags:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ctags:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ebrowse:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/emacsclient:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/etags:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs: Ruby script text,
>>> UTF-8 Unicode text
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10: Mach-O
>>> 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10.pdmp: data
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14: Mach-O
>>> 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14.pdmp: data
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs.pdmp: data
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libffi.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgmp.10.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgnutls.30.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libhogweed.4.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libjansson.4.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libnettle.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libp11-kit.0.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libtasn1.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libunistring.2.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libffi.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgmp.10.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgnutls.30.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libhogweed.4.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libjansson.4.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libnettle.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libp11-kit.0.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libtasn1.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libunistring.2.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libffi.7.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgmp.10.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgnutls.30.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libhogweed.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libidn2.0.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libintl.8.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libjansson.4.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libnettle.8.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libp11-kit.0.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libtasn1.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libunistring.2.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/hexl:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/movemail:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/rcs2log:
>>> POSIX shell script executable (binary data)
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/hexl:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/movemail:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/rcs2log:
>>> POSIX shell script executable (binary data)
>>>
>>> On Sun, Mar 7, 2021 at 1:50 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>>>>
>>>> I originally asked this question on the ess-help list, I now think it belongs here.
>>>>
>>>> emacs 21.1, specifically Vincent Goulet's distribution, crashes regularly on my Mac M1.
>>>> It looks to me like it is using the intel compilation through rosetta instead of the arm
>>>> compilation.
>>>> Vincent's distribution is based on
>>>> https://emacsformacosx.com/emacs-builds/Emacs-27.1-1-universal.dmg
>>>> which contains
>>>> lrwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>>> drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_10
>>>> drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_14
>>>>
>>>> The crash report says
>>>> My March 1 crash report said
>>>>> Process:               Emacs-x86_64-10_14 [1112]
>>>>> Path:                  /Applications/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14
>>>>> Identifier:            org.gnu.Emacs
>>>>> Version:               Version 27.1 (9.0)
>>>>> Code Type:             X86-64 (Translated)
>>>>> Parent Process:        ??? [1]
>>>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>>>
>>>> which I interpret as saying that it ran the intel compilation
>>>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>>> translated through
>>>> rosetta.  It seems not to have run the arm compilation, even though the link
>>>> rwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>>> looks to me like it should have been running bin-x86_64-10_10
>>>>
>>>> Is my interpretation correct? and if so how do I get the program to run the native M1
>>>> compilation.
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> <Screen Shot 2021-03-07 at 23.40.23.png>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford


From rmh @end|ng |rom temp|e@edu  Mon Mar  8 21:10:36 2021
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Mon, 8 Mar 2021 20:10:36 +0000
Subject: [R-SIG-Mac] [External] Re:  [External] Re:  Mac M1 emacs
In-Reply-To: <351C44B0-B803-4722-A45B-1A6CB1BF290C@R-project.org>
References: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>
 <CO1PR11MB510734928CF7B3D5EE4ED809D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB5107E83BEA2C29FE4D53A970D2939@CO1PR11MB5107.namprd11.prod.outlook.com>,
 <351C44B0-B803-4722-A45B-1A6CB1BF290C@R-project.org>
Message-ID: <CO1PR11MB51076874A653510663012509D2939@CO1PR11MB5107.namprd11.prod.outlook.com>

wonderful.  thank you.

I copied from Vincent's version to Simon's
Resources/doc/
esources/etc/ess/
Resources/etc/org/schema/
Resources/etc/org/styles/
Resources/info/auctex.info*
Resources/info/auctex.info*
Resources/info/dir
Resources/info/ess.info
Resources/info/org
Resources/info/orgguide
Resources/info/preview-latex.info
Resources/site-lisp

I deleted from Simon's
Resources/share/
Resources/site-lisp/

Vincent's has a directory Contents/_CodeSignature that is not matched in Simon's


I renamed Vincent's to Emacs-27.1-intel.app

and use the name Emacs.app for the new arm64 app.


________________________________________
From: Simon Urbanek <simon.urbanek at R-project.org>
Sent: Sunday, March 7, 2021 21:42
To: Richard M. Heiberger
Cc: r-sig-mac at r-project.org
Subject: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs

Richard,

please note the binary supports mouse integration if you enable it (see Emacs documentation - ad-hoc: M-x xterm-mouse-mode).

Like I said, it is trivial to build the GUI version of you care - I have very explicitly disabled the GUI since I hate it personally (I want emacs to run in the terminal, not have it pop-up random windows). But you seem to think otherwise ;) so I have added the app build as well:
https://mac.r-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg

Cheers,
Simon


> On Mar 8, 2021, at 1:53 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
>
> Simon's binary works.  As he noted, it is missing mouse support.
>
> I copied the entirety of
> /Applications/Emacs.app/Contents/Resources/site-lisp
> into
> /opt/R/arm64/share/emacs/27.1/site-lisp
>
> I turned off the request for mouse support in
> site-lisp/site-start.el
> by changing the first mouse line (line 47) to
> (if (equal 'system-configuration "x86_64-apple-darwin18.7.0") (mouse-wheel-mode t)); activate mouse scrolling on intel
>
>
> I opened Terminal and started emacs with
> /opt/R/arm64/bin/emacs
> It gives an ERROR:ess-etc-directory which I can ignore (it looks to me like the ../etc is there).
> it gives a warning about server which I am ignoring for now.
>
> M-x R works.
> the major mouse functionality I miss are replaced by C-x ^ and C-x } and C-x o
> make-frame doesn't make a new frame.
>
> I had hoped that I could drop files from this version into the complete setup that Vincent Goulet has
> provided.  The file structure isn't identical, so that won't work naively.
>
> Now to see if I prefer the mouse-accesible x86_64 with random crashes or the
> aarch64 (presumably more stable) without mouse ability.
>
> ________________________________________
> From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
> Sent: Sunday, March 7, 2021 18:31
> To: Bob Rudis
> Cc: r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>
> My understanding had been that "universal" meant both intel and arm, and therefore
> that _10 and _14 was the indicator. Apparently not.
>
> I will look at the binary that Simon just told us about.
>
> I don't know how to check though, because the highly frequent crashes I see have
> nothing obvious in common.
>
> Rich
>
> ________________________________________
> From: Bob Rudis <bob at rud.is>
> Sent: Sunday, March 7, 2021 14:37
> To: Richard M. Heiberger
> Cc: r-sig-mac at r-project.org
> Subject: [External] Re: [R-SIG-Mac] Mac M1 emacs
>
> you should likely re-post to the list or double check the download as
> there are no x86_64 + amd64 universal binaries in there:
>
>    $ find  /Volumes/Emacs/Emacs.app/Contents/MacOS -type f -exec file {} \;
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ctags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ebrowse:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/emacsclient:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/etags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ctags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ebrowse:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/emacsclient:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/etags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs: Ruby script text,
> UTF-8 Unicode text
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10: Mach-O
> 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10.pdmp: data
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14: Mach-O
> 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14.pdmp: data
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs.pdmp: data
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libffi.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgmp.10.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgnutls.30.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libhogweed.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libjansson.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libnettle.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libp11-kit.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libtasn1.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libunistring.2.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libffi.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgmp.10.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgnutls.30.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libhogweed.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libjansson.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libnettle.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libp11-kit.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libtasn1.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libunistring.2.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libffi.7.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgmp.10.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgnutls.30.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libhogweed.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libidn2.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libintl.8.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libjansson.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libnettle.8.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libp11-kit.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libtasn1.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libunistring.2.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/hexl:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/movemail:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/rcs2log:
> POSIX shell script executable (binary data)
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/hexl:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/movemail:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/rcs2log:
> POSIX shell script executable (binary data)
>
> On Sun, Mar 7, 2021 at 1:50 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>>
>> I originally asked this question on the ess-help list, I now think it belongs here.
>>
>> emacs 21.1, specifically Vincent Goulet's distribution, crashes regularly on my Mac M1.
>> It looks to me like it is using the intel compilation through rosetta instead of the arm
>> compilation.
>> Vincent's distribution is based on
>> https://emacsformacosx.com/emacs-builds/Emacs-27.1-1-universal.dmg
>> which contains
>> lrwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>  drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_10
>>  drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_14
>>
>> The crash report says
>> My March 1 crash report said
>>> Process:               Emacs-x86_64-10_14 [1112]
>>> Path:                  /Applications/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14
>>> Identifier:            org.gnu.Emacs
>>> Version:               Version 27.1 (9.0)
>>> Code Type:             X86-64 (Translated)
>>> Parent Process:        ??? [1]
>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>
>> which I interpret as saying that it ran the intel compilation
>>> Responsible:           Emacs-x86_64-10_14 [1112]
>> translated through
>> rosetta.  It seems not to have run the arm compilation, even though the link
>> rwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>> looks to me like it should have been running bin-x86_64-10_10
>>
>> Is my interpretation correct? and if so how do I get the program to run the native M1
>> compilation.
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>



From rmh @end|ng |rom temp|e@edu  Mon Mar  8 21:11:26 2021
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Mon, 8 Mar 2021 20:11:26 +0000
Subject: [R-SIG-Mac] [External] Re: [External] Re: [External] Re: Mac M1
 emacs
In-Reply-To: <CO1PR11MB510798C2E6A2ED67A3B866D5D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
References: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>
 <CO1PR11MB510734928CF7B3D5EE4ED809D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB5107E83BEA2C29FE4D53A970D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
 <351C44B0-B803-4722-A45B-1A6CB1BF290C@R-project.org>
 <CO1PR11MB5107E828C4C2501F14D51825D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
 <FA79D92A-6141-48CC-BAB3-27CEDB131381@R-project.org>
 <CO1PR11MB51073E3785DCE4808E450F5FD2939@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB51077FD62F9DE2E3489E8892D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB51079B2B11C76206C8745825D2939@CO1PR11MB5107.namprd11.prod.outlook.com>,
 <ce004494-d833-6aa9-9c78-cdbf2879e69b@stats.ox.ac.uk>,
 <CO1PR11MB510798C2E6A2ED67A3B866D5D2939@CO1PR11MB5107.namprd11.prod.outlook.com>
Message-ID: <CO1PR11MB51071BB859ADE73C86A0F3F8D2939@CO1PR11MB5107.namprd11.prod.outlook.com>

success:
I mounted the remote disk directly without first downloading it to my machine:
rmh at MacBook-Air ~ % hdiutil mount "https://mac.r-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg"
/dev/disk6              GUID_partition_scheme
/dev/disk6s1            Apple_APFS
/dev/disk7              EF57347C-0000-11AA-AA11-0030654
/dev/disk7s1            41504653-0000-11AA-AA11-0030654 /Volumes/emacs-27.1-app-arm64-darwin20 1
rmh at MacBook-Air ~ %

Then I
1. opened "/Volumes/emacs-27.1-app-arm64-darwin20 1" and ran Emacs from there.
2. copied the Emacs.app to /Applications/ and ran Emacs from there.

________________________________________
From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
Sent: Monday, March 8, 2021 14:19
To: Prof Brian Ripley; Simon Urbanek
Cc: r-sig-mac at r-project.org
Subject: Re: [R-SIG-Mac] [External] Re: [External] Re: [External] Re: Mac M1 emacs

Originally I used right-click "Download linked file" on the url in the email.  The file appeared in ~/Downloads/
and looked normal to me.

Just now, following your suggestion,
I used curl three times, twice inside *shell* in emacs (Vincent Goulet's intel version) and once in Terminal.
This is from Terminal:
rmh at MacBook-Air ~ % curl -O http://mac.R-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100   162  100   162    0     0   1396      0 --:--:-- --:--:-- --:--:--  1396
rmh at MacBook-Air ~ % pwd
/Users/rmh
rmh at MacBook-Air ~ % ls -alF *dmg
-rw-r--r--@ 1 rmh  staff  162 Mar  8 13:42 emacs-27.1-app-arm64-darwin20.dmg
rmh at MacBook-Air ~ %

This is the contents of the downloaded file:
<html>
<head><title>301 Moved Permanently</title></head>
<body>
<center><h1>301 Moved Permanently</h1></center>
<hr><center>nginx</center>
</body>
</html>





terminology.
My March 1 email to ess-help quoted the Apple Problem Report message
that included the lines:
Exception Type:        EXC_CRASH (SIGABRT)
Exception Codes:       0x0000000000000000, 0x0000000000000000
Exception Note:        EXC_CORPSE_NOTIFY





________________________________________
From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
Sent: Monday, March 8, 2021 13:30
To: Richard M. Heiberger; Simon Urbanek
Cc: r-sig-mac at r-project.org
Subject: [External] Re: [R-SIG-Mac] [External] Re: [External] Re: Mac M1 emacs

On 08/03/2021 17:59, Richard M. Heiberger wrote:
> I updated the OS to 11.2.2, again redownloaded the app
> https://mac.r-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg
> and still get the damaged app message.

How did you download it?  That page and R-admin recommend using curl and
when I did that it works for me, both running from the image and copying
somewhere other than /Applications (as I have another Emacs there).

OTOH, I've not seen any problems with Vincent Goulet's Intel build on my
M1 Mac.  The posting guide for this list does ask you not to use 'crash'
....

>
> I attempted Ctrl-Click Open (hoping to get past the app from untrusted source issue) and that also gave me the Damaged App message.
>
> The next option they offer is
> "
> 4: Use xattr on the App Throwing the Damaged Error
> This is sort of a last resort and is only recommended for advanced Mac users. Generally speaking if the app is still throwing a ?damaged? error message you might want to not use it. Use this at your own risk.
>
> With the command line you can use xattr to view and remove extended attributes from a file on the Mac including the application throwing the ?Appname.app is damaged and can?t be opened. You should move it to the Trash.? error message.
>
> Launch Terminal and then issue the following command:
>
> xattr -cr /path/to/application.app
> "
> and I am not willing to do that.
>
> Perhaps if I compile on my machine from your recipe, it might work.
> I am a git novice, so I will need an explicit statement and instructions to try that.
>
> Rich
>
> ________________________________________
> From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
> Sent: Monday, March 8, 2021 11:55
> To: Simon Urbanek
> Cc: r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] [External] Re:  [External] Re:  Mac M1 emacs
>
> I tried the all-purpose computer repair and rebooted the machine.  It still reports a damaged app.
>
> I am now ooking at https://osxdaily.com/2019/02/13/fix-app-damaged-cant-be-opened-trash-error-mac/
> and wi report back.
>
> ________________________________________
> From: Richard M. Heiberger <rmh at temple.edu>
> Sent: Monday, March 8, 2021 00:29
> To: Simon Urbanek
> Cc: r-sig-mac at r-project.org
> Subject: Re: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>
> yes, I did.  that also gave the same message.
>
> Also, the ~/Downloads and ~/Desktop directories are no longer available from the original intel Emacs (I changed
> its name to Emacs-21.7-intel.app).
> it says "access-files" are available.
> This is familiar.  I had it before.  the answer is here, and it works.
> https://emacs.stackexchange.com/questions/53904/why-cant-i-list-the-contents-of-desktop-on-macos-using-dired
>
> I don't this this is the damage problem.
> I have downloaded it three times from R-project and I get the same "damaged" problem each time.
>
> ________________________________________
> From: Simon Urbanek <simon.urbanek at R-project.org>
> Sent: Sunday, March 7, 2021 23:52
> To: Richard M. Heiberger
> Cc: r-sig-mac at r-project.org
> Subject: Re: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>
> Did you try running it from the image? At which point does it complain? It works for me.
> Note that macOS may not be happy if you mangle the content due to code signing, so you may want to move aside the old version first if you are putting it in /Applications.
> Unfortunately I have only one M1 system, so I can't try it on another "clean" one to see if there are issues.
>
> Cheers,
> Simon
>
>
>> On Mar 8, 2021, at 5:43 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
>>
>> it claims to be damaged.
>>
>> I looked it and the filenames and directory structure look ok.
>>
>> ________________________________________
>> From: Simon Urbanek <simon.urbanek at R-project.org>
>> Sent: Sunday, March 7, 2021 21:42
>> To: Richard M. Heiberger
>> Cc: r-sig-mac at r-project.org
>> Subject: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>>
>> Richard,
>>
>> please note the binary supports mouse integration if you enable it (see Emacs documentation - ad-hoc: M-x xterm-mouse-mode).
>>
>> Like I said, it is trivial to build the GUI version of you care - I have very explicitly disabled the GUI since I hate it personally (I want emacs to run in the terminal, not have it pop-up random windows). But you seem to think otherwise ;) so I have added the app build as well:
>> https://mac.r-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg
>>
>> Cheers,
>> Simon
>>
>>
>>> On Mar 8, 2021, at 1:53 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
>>>
>>> Simon's binary works.  As he noted, it is missing mouse support.
>>>
>>> I copied the entirety of
>>> /Applications/Emacs.app/Contents/Resources/site-lisp
>>> into
>>> /opt/R/arm64/share/emacs/27.1/site-lisp
>>>
>>> I turned off the request for mouse support in
>>> site-lisp/site-start.el
>>> by changing the first mouse line (line 47) to
>>> (if (equal 'system-configuration "x86_64-apple-darwin18.7.0") (mouse-wheel-mode t)); activate mouse scrolling on intel
>>>
>>>
>>> I opened Terminal and started emacs with
>>> /opt/R/arm64/bin/emacs
>>> It gives an ERROR:ess-etc-directory which I can ignore (it looks to me like the ../etc is there).
>>> it gives a warning about server which I am ignoring for now.
>>>
>>> M-x R works.
>>> the major mouse functionality I miss are replaced by C-x ^ and C-x } and C-x o
>>> make-frame doesn't make a new frame.
>>>
>>> I had hoped that I could drop files from this version into the complete setup that Vincent Goulet has
>>> provided.  The file structure isn't identical, so that won't work naively.
>>>
>>> Now to see if I prefer the mouse-accesible x86_64 with random crashes or the
>>> aarch64 (presumably more stable) without mouse ability.
>>>
>>> ________________________________________
>>> From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
>>> Sent: Sunday, March 7, 2021 18:31
>>> To: Bob Rudis
>>> Cc: r-sig-mac at r-project.org
>>> Subject: Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>>>
>>> My understanding had been that "universal" meant both intel and arm, and therefore
>>> that _10 and _14 was the indicator. Apparently not.
>>>
>>> I will look at the binary that Simon just told us about.
>>>
>>> I don't know how to check though, because the highly frequent crashes I see have
>>> nothing obvious in common.
>>>
>>> Rich
>>>
>>> ________________________________________
>>> From: Bob Rudis <bob at rud.is>
>>> Sent: Sunday, March 7, 2021 14:37
>>> To: Richard M. Heiberger
>>> Cc: r-sig-mac at r-project.org
>>> Subject: [External] Re: [R-SIG-Mac] Mac M1 emacs
>>>
>>> you should likely re-post to the list or double check the download as
>>> there are no x86_64 + amd64 universal binaries in there:
>>>
>>>    $ find  /Volumes/Emacs/Emacs.app/Contents/MacOS -type f -exec file {} \;
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ctags:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ebrowse:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/emacsclient:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/etags:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ctags:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ebrowse:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/emacsclient:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/etags:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs: Ruby script text,
>>> UTF-8 Unicode text
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10: Mach-O
>>> 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10.pdmp: data
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14: Mach-O
>>> 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14.pdmp: data
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs.pdmp: data
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libffi.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgmp.10.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgnutls.30.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libhogweed.4.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libjansson.4.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libnettle.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libp11-kit.0.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libtasn1.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libunistring.2.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libffi.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgmp.10.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgnutls.30.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libhogweed.4.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libjansson.4.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libnettle.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libp11-kit.0.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libtasn1.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libunistring.2.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libffi.7.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgmp.10.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgnutls.30.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libhogweed.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libidn2.0.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libintl.8.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libjansson.4.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libnettle.8.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libp11-kit.0.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libtasn1.6.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libunistring.2.dylib:
>>> Mach-O 64-bit dynamically linked shared library x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/hexl:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/movemail:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/rcs2log:
>>> POSIX shell script executable (binary data)
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/hexl:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/movemail:
>>> Mach-O 64-bit executable x86_64
>>>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/rcs2log:
>>> POSIX shell script executable (binary data)
>>>
>>> On Sun, Mar 7, 2021 at 1:50 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>>>>
>>>> I originally asked this question on the ess-help list, I now think it belongs here.
>>>>
>>>> emacs 21.1, specifically Vincent Goulet's distribution, crashes regularly on my Mac M1.
>>>> It looks to me like it is using the intel compilation through rosetta instead of the arm
>>>> compilation.
>>>> Vincent's distribution is based on
>>>> https://emacsformacosx.com/emacs-builds/Emacs-27.1-1-universal.dmg
>>>> which contains
>>>> lrwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>>> drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_10
>>>> drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_14
>>>>
>>>> The crash report says
>>>> My March 1 crash report said
>>>>> Process:               Emacs-x86_64-10_14 [1112]
>>>>> Path:                  /Applications/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14
>>>>> Identifier:            org.gnu.Emacs
>>>>> Version:               Version 27.1 (9.0)
>>>>> Code Type:             X86-64 (Translated)
>>>>> Parent Process:        ??? [1]
>>>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>>>
>>>> which I interpret as saying that it ran the intel compilation
>>>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>>> translated through
>>>> rosetta.  It seems not to have run the arm compilation, even though the link
>>>> rwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>>> looks to me like it should have been running bin-x86_64-10_10
>>>>
>>>> Is my interpretation correct? and if so how do I get the program to run the native M1
>>>> compilation.
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> <Screen Shot 2021-03-07 at 23.40.23.png>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From rmh @end|ng |rom temp|e@edu  Mon Mar  8 05:43:45 2021
From: rmh @end|ng |rom temp|e@edu (Richard M. Heiberger)
Date: Mon, 8 Mar 2021 04:43:45 +0000
Subject: [R-SIG-Mac] [External] Re:  [External] Re:  Mac M1 emacs
In-Reply-To: <351C44B0-B803-4722-A45B-1A6CB1BF290C@R-project.org>
References: <CO1PR11MB510799A1825FF53F39973EC4D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CAA-FpKWJS=9rXB7LYO8oek1cJTfuHYeEg=bgoQZyg=+=WCMx4g@mail.gmail.com>
 <CO1PR11MB510734928CF7B3D5EE4ED809D2949@CO1PR11MB5107.namprd11.prod.outlook.com>
 <CO1PR11MB5107E83BEA2C29FE4D53A970D2939@CO1PR11MB5107.namprd11.prod.outlook.com>,
 <351C44B0-B803-4722-A45B-1A6CB1BF290C@R-project.org>
Message-ID: <CO1PR11MB5107E828C4C2501F14D51825D2939@CO1PR11MB5107.namprd11.prod.outlook.com>

it claims to be damaged.

I looked it and the filenames and directory structure look ok.

________________________________________
From: Simon Urbanek <simon.urbanek at R-project.org>
Sent: Sunday, March 7, 2021 21:42
To: Richard M. Heiberger
Cc: r-sig-mac at r-project.org
Subject: [External] Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs

Richard,

please note the binary supports mouse integration if you enable it (see Emacs documentation - ad-hoc: M-x xterm-mouse-mode).

Like I said, it is trivial to build the GUI version of you care - I have very explicitly disabled the GUI since I hate it personally (I want emacs to run in the terminal, not have it pop-up random windows). But you seem to think otherwise ;) so I have added the app build as well:
https://mac.r-project.org/libs-arm64/emacs-27.1-app-arm64-darwin20.dmg

Cheers,
Simon


> On Mar 8, 2021, at 1:53 PM, Richard M. Heiberger <rmh at temple.edu> wrote:
>
> Simon's binary works.  As he noted, it is missing mouse support.
>
> I copied the entirety of
> /Applications/Emacs.app/Contents/Resources/site-lisp
> into
> /opt/R/arm64/share/emacs/27.1/site-lisp
>
> I turned off the request for mouse support in
> site-lisp/site-start.el
> by changing the first mouse line (line 47) to
> (if (equal 'system-configuration "x86_64-apple-darwin18.7.0") (mouse-wheel-mode t)); activate mouse scrolling on intel
>
>
> I opened Terminal and started emacs with
> /opt/R/arm64/bin/emacs
> It gives an ERROR:ess-etc-directory which I can ignore (it looks to me like the ../etc is there).
> it gives a warning about server which I am ignoring for now.
>
> M-x R works.
> the major mouse functionality I miss are replaced by C-x ^ and C-x } and C-x o
> make-frame doesn't make a new frame.
>
> I had hoped that I could drop files from this version into the complete setup that Vincent Goulet has
> provided.  The file structure isn't identical, so that won't work naively.
>
> Now to see if I prefer the mouse-accesible x86_64 with random crashes or the
> aarch64 (presumably more stable) without mouse ability.
>
> ________________________________________
> From: R-SIG-Mac <r-sig-mac-bounces at r-project.org> on behalf of Richard M. Heiberger <rmh at temple.edu>
> Sent: Sunday, March 7, 2021 18:31
> To: Bob Rudis
> Cc: r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] [External] Re:  Mac M1 emacs
>
> My understanding had been that "universal" meant both intel and arm, and therefore
> that _10 and _14 was the indicator. Apparently not.
>
> I will look at the binary that Simon just told us about.
>
> I don't know how to check though, because the highly frequent crashes I see have
> nothing obvious in common.
>
> Rich
>
> ________________________________________
> From: Bob Rudis <bob at rud.is>
> Sent: Sunday, March 7, 2021 14:37
> To: Richard M. Heiberger
> Cc: r-sig-mac at r-project.org
> Subject: [External] Re: [R-SIG-Mac] Mac M1 emacs
>
> you should likely re-post to the list or double check the download as
> there are no x86_64 + amd64 universal binaries in there:
>
>    $ find  /Volumes/Emacs/Emacs.app/Contents/MacOS -type f -exec file {} \;
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ctags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/ebrowse:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/emacsclient:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_10/etags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ctags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/ebrowse:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/emacsclient:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/bin-x86_64-10_14/etags:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs: Ruby script text,
> UTF-8 Unicode text
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10: Mach-O
> 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_10.pdmp: data
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14: Mach-O
> 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14.pdmp: data
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/Emacs.pdmp: data
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libffi.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgmp.10.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libgnutls.30.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libhogweed.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libjansson.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libnettle.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libp11-kit.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libtasn1.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/lib-x86_64-10_10/libunistring.2.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libffi.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgmp.10.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libgnutls.30.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libhogweed.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libjansson.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libnettle.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libp11-kit.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libtasn1.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_10/libunistring.2.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libffi.7.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgmp.10.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libgnutls.30.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libhogweed.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libidn2.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libintl.8.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libjansson.4.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libnettle.8.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libp11-kit.0.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libtasn1.6.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/lib-x86_64-10_14/libunistring.2.dylib:
> Mach-O 64-bit dynamically linked shared library x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/hexl:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/movemail:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_10/rcs2log:
> POSIX shell script executable (binary data)
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/hexl:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/movemail:
> Mach-O 64-bit executable x86_64
>    /Volumes/Emacs/Emacs.app/Contents/MacOS/libexec-x86_64-10_14/rcs2log:
> POSIX shell script executable (binary data)
>
> On Sun, Mar 7, 2021 at 1:50 PM Richard M. Heiberger <rmh at temple.edu> wrote:
>>
>> I originally asked this question on the ess-help list, I now think it belongs here.
>>
>> emacs 21.1, specifically Vincent Goulet's distribution, crashes regularly on my Mac M1.
>> It looks to me like it is using the intel compilation through rosetta instead of the arm
>> compilation.
>> Vincent's distribution is based on
>> https://emacsformacosx.com/emacs-builds/Emacs-27.1-1-universal.dmg
>> which contains
>> lrwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>>  drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_10
>>  drwxr-xr-x   6 rmh  staff       204 Aug 12  2020 bin-x86_64-10_14
>>
>> The crash report says
>> My March 1 crash report said
>>> Process:               Emacs-x86_64-10_14 [1112]
>>> Path:                  /Applications/Emacs.app/Contents/MacOS/Emacs-x86_64-10_14
>>> Identifier:            org.gnu.Emacs
>>> Version:               Version 27.1 (9.0)
>>> Code Type:             X86-64 (Translated)
>>> Parent Process:        ??? [1]
>>> Responsible:           Emacs-x86_64-10_14 [1112]
>>
>> which I interpret as saying that it ran the intel compilation
>>> Responsible:           Emacs-x86_64-10_14 [1112]
>> translated through
>> rosetta.  It seems not to have run the arm compilation, even though the link
>> rwxr-xr-x   1 rmh  staff        16 Aug 12  2020 bin -> bin-x86_64-10_10
>> looks to me like it should have been running bin-x86_64-10_10
>>
>> Is my interpretation correct? and if so how do I get the program to run the native M1
>> compilation.
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-------------- next part --------------
A non-text attachment was scrubbed...
Name: Screen Shot 2021-03-07 at 23.40.23.png
Type: image/png
Size: 106080 bytes
Desc: Screen Shot 2021-03-07 at 23.40.23.png
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20210308/d13004b0/attachment-0001.png>

From km@460414 @end|ng |rom gm@||@com  Thu Mar 18 03:04:43 2021
From: km@460414 @end|ng |rom gm@||@com (Kemal Akat)
Date: Wed, 17 Mar 2021 21:04:43 -0500
Subject: [R-SIG-Mac] XML packages source compilation on macOS 10.15.7
In-Reply-To: <AC561251-CE56-4DF2-A9E9-B194E89A23B2@R-project.org>
References: <D75567CF-FEFE-43C9-A0B3-E9178A917631@gmail.com>
 <CABQ6xNYApj8zywWDC6X3KNtEB0=ccmWR3fq2Vxfx297qfURz8A@mail.gmail.com>
 <485B458F-02AC-4FFF-8963-029AA11C41E0@R-project.org>
 <BF1FF67D-D756-45AA-A5FD-7880156FB738@gmail.com>
 <AC561251-CE56-4DF2-A9E9-B194E89A23B2@R-project.org>
Message-ID: <299FE2C0-9C6D-4A3E-BC59-FE5849378A29@gmail.com>

Simon and Duncan,

I had not had time to dig deeper into this issue but recently made the transition to ?Big Sur?. With that and "$ sudo rm -rf /Library/Developer/CommandLineTools? followed by "$ xcode-select --install? the compilation is successful now.
I have no idea why libxml2 should not where it was supposed to be? Thanks for your help!

Kemal

> On Feb 15, 2021, at 11:11 PM, Simon Urbanek <simon.urbanek at R-project.org> wrote:
> 
> Kemal,
> 
> it looks like you're completely missing the libxml2 includes on that system. XML prefers xml2-config over pkg-config so it will by default pick the system version of xml2, but you don't have the includes for that.
> 
> According to your setup, they are supposed to be in
> /Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/libxml
> but my guess is they are not.
> 
> Check the usual culprits 
> sudo xcode-select --install
> and if in doubt reset 
> sudo xcode-select --reset
> 
> If that doesn't help, you can set LIBXML_INCDIR (without the libxml part) and LIBXML_LIBDIR yourself if you know where they are.
> You also have miniconda and /usr/local so if you want to use any of that, you'd the teh two variables above. Alternatively, you can set --with-xml-config  to point to your non-system xml2-config if it points to the right includes/libraries.
> 
> Good luck,
> Simon
> 
> 
> 
>> On Feb 16, 2021, at 4:20 PM, Kemal Akat <kma460414 at gmail.com> wrote:
>> 
>> Hi Duncan and Simon,
>> 
>> Thanks for getting back to me.
>> 
>> The R version I use(d) is 
>> 
>> R Under development (unstable) (2021-01-15 r79833)
>> 
>> This was installed via the installer package downloaded from https://mac.r-project.org. It was not compiled from source. That was the case on all Macs.
>> 
>> Please note that the partially log at the bottom of my original message is from a successful compilation on a Mac where ?install.packages(?XML?) works. It includes references to the CommandLineTools/SDK but that was completely without my doing. I tried it explicitly in various forms, though, when I thought this is the right way. Thanks for clarifying it is not.
>> 
>> Now, on the Mac where I still have trouble, the output from ?install.packages(?XML?) is (rather brief):
>> 
>>> install.packages("XML")
>> Warning: unable to access index for repository https://mac.R-project.org/bin/macosx/contrib/4.1:
>>  cannot open URL 'https://mac.R-project.org/bin/macosx/contrib/4.1/PACKAGES'
>> Package which is only available in source form, and may need compilation of C/C++/Fortran: ?XML?
>> Do you want to attempt to install these from sources? (Yes/no/cancel) Yes
>> installing the source package ?XML?
>> 
>> trying URL 'https://mac.R-project.org/src/contrib/XML_3.99-0.5.tar.gz'
>> Content type 'application/x-gzip' length 968563 bytes (945 KB)
>> ==================================================
>> downloaded 945 KB
>> 
>> * installing *source* package ?XML? ...
>> ** package ?XML? successfully unpacked and MD5 sums checked
>> ** using staged installation
>> checking for gcc... gcc
>> checking whether the C compiler works... yes
>> checking for C compiler default output file name... a.out
>> checking for suffix of executables...
>> checking whether we are cross compiling... no
>> checking for suffix of object files... o
>> checking whether we are using the GNU C compiler... yes
>> checking whether gcc accepts -g... yes
>> checking for gcc option to accept ISO C89... none needed
>> checking how to run the C preprocessor... gcc -E
>> checking for sed... /usr/bin/sed
>> checking for pkg-config... /usr/local/bin/pkg-config
>> checking for xml2-config... /usr/bin/xml2-config
>> USE_XML2 = yes
>> SED_EXTENDED_ARG: -E
>> Minor 9, Patch 4 for 2.9.4
>> Located parser file -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/parser.h
>> Checking for 1.8:  -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include
>> Using libxml2.*
>> checking for gzopen in -lz... yes
>> checking for xmlParseFile in -lxml2... yes
>> You are trying to use a version 2.* edition of libxml
>> but an incompatible library. The header files and library seem to be
>> mismatched. If you have specified LIBXML_INCDIR, make certain to also
>> specify an appropriate LIBXML_LIBDIR if the libxml2 library is not in the default
>> directories.
>> ERROR: configuration failed for package ?XML?
>> * removing ?/Library/Frameworks/R.framework/Versions/4.1/Resources/library/XML?
>> * restoring previous ?/Library/Frameworks/R.framework/Versions/4.1/Resources/library/XML?
>> 
>> The downloaded source packages are in
>> 	?/private/var/folders/j8/1gn6jwcx4bv8td2h83ghk1hh0000gp/T/RtmpXuYoas/downloaded_packages?
>> Warning message:
>> In install.packages("XML") :
>>  installation of package ?XML? had non-zero exit status
>>> 
>> 
>> Best,
>> Kemal
>> 
>> 
>>> On Feb 15, 2021, at 5:42 PM, Simon Urbanek <simon.urbanek at R-project.org> wrote:
>>> 
>>> Kemal,
>>> 
>>> what Duncan said, since what you provided does not include any of the information needed.
>>> 
>>> In addition, you should not include SDK paths directly - SDK is used by the dev tools and does *not* include the actual libraries. So when you say /foo/bar it is actually searched inside the SDK the compiler is using. If you happen to use compilers that don't use SDKs (non-Apple) then you can use -isysroot to specify the SDK root (hopefully not your case as that is a whole can of worms). In addition, the issue may come from your version of R as well so the exact information about that is also need (how you compiled it, which flags etc.).
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>>> On Feb 16, 2021, at 4:26 AM, Duncan Temple Lang via R-SIG-Mac <r-sig-mac at r-project.org> wrote:
>>>> 
>>>> Hi Kemal
>>>> Can you please send the output from the entire installation attempt, and
>>>> also the config.log file.
>>>> 
>>>> Thanks
>>>> Duncan
>>>> 
>>>> 
>>>> On Mon, Feb 15, 2021 at 5:14 AM Kemal Akat <kma460414 at gmail.com> wrote:
>>>> 
>>>>> Hello all,
>>>>> 
>>>>> I have to compile the XML package from source for R 4.1 (development
>>>>> version) on a Mac with OS version 10.15.7. It works well on all machines
>>>>> that do not come with any significant ballast on developer tools. One
>>>>> machine, however, that I have used for some time returns a mismatch of
>>>>> header files and library. I looked into possible offenders and purged what
>>>>> I could (e.g. deleted Homebrew although the other machines have Homebrew
>>>>> and Miniconda installed as well) but to no avail.
>>>>> 
>>>>> install.packages(?XML?) fails and install.packages("XML",
>>>>> configure.args=c("LIBXML_INCDIR=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include/libxml2",
>>>>> "LIBXML_LIBDIR=/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/lib?))
>>>>> also fails.
>>>>> 
>>>>> There are obviously differences I cannot track down so far but I am
>>>>> running out of ideas. Both machines have MacOSX10.14.sdk and
>>>>> MacOSX10.15.sdk installed with MacOSX.sdk linking to MacOSX10.15.sdk.
>>>>> 
>>>>> Here is part of the log of a successful compilation, and I was hoping
>>>>> someone could point me towards a solution.
>>>>> 
>>>>> libxml include directory:
>>>>> -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include
>>>>> libxml library directory:
>>>>> -L/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/lib -lxml2 -lz
>>>>> -lpthread -licucore -lm -lz  -lxml2
>>>>> libxml 2:                 -DLIBXML2=1
>>>>> 
>>>>> Compilation flags:         -DLIBXML
>>>>> -I/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/include
>>>>> -DUSE_EXTERNAL_SUBSET=1 -DROOT_HAS_DTD_NODE=1 -DDUMP_WITH_ENCODING=1
>>>>> -DUSE_XML_VERSION_H=1 -DXML_ELEMENT_ETYPE=1 -DXML_ATTRIBUTE_ATYPE=1
>>>>> -DNO_XML_HASH_SCANNER_RETURN=1 -DLIBXML_NAMESPACE_HAS_CONTEXT=1
>>>>> -DHAVE_R_CETYPE_T=1 -DHAVE_XML_WITH_ZLIB=1 -DHAVE_XML_HAS_FEATURE=1
>>>>> -DUSE_R=1 -D_R_=1  -DHAVE_VALIDITY=1 -DXML_REF_COUNT_NODES=1
>>>>> Link flags:
>>>>> -L/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk/usr/lib -lxml2 -lz
>>>>> -lpthread -licucore -lm -lz  -lxml2
>>>>> 
>>>>> 
>>>>> Thanks,
>>>>> Kemal
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>> 
>>>> 
>>>> -- 
>>>> ===============================
>>>> Duncan Temple Lang
>>>> Associate Dean for Graduate Programs
>>>> Professor, Department of Statistics
>>>> UC Davis
>>>> 
>>>> 	[[alternative HTML version deleted]]
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>> 
> 


From brod|e@g@@|@m @end|ng |rom y@hoo@com  Fri Mar 26 20:13:56 2021
From: brod|e@g@@|@m @end|ng |rom y@hoo@com (brodie gaslam)
Date: Fri, 26 Mar 2021 19:13:56 +0000 (UTC)
Subject: [R-SIG-Mac] Testing R4.0.5
References: <550361435.877879.1616786036155.ref@mail.yahoo.com>
Message-ID: <550361435.877879.1616786036155@mail.yahoo.com>

I was looking to test the R4.0.5 binaries from mac.r-project.org,
but it seems that the R-4.0-branch items are actually 4.1 r-devel,
currently.? I am not super familiar with these as I only recently
started using them, but IIRC at least when I was testing 4.0.4
I seem to recall being able to just untar the tar.gz as per
instructions and have it available via e.g. Rswitch.? Inspecting
the tar.gz I see a mostly empty folder under:

Library/Frameworks/R.frameworks/Versions/4.0

But a complete one under:

Library/Frameworks/R.frameworks/Versions/4.1

Of the same tar.gz.

Again, I'm not super familiar with this set-up, but in previous
versions this "just worked", so it feels like maybe something
isn't right here.

The tar.gz in question is labeled: "Mar 25 20:43".

Best,

B.


From pd@|gd @end|ng |rom gm@||@com  Sat Mar 27 09:31:48 2021
From: pd@|gd @end|ng |rom gm@||@com (peter dalgaard)
Date: Sat, 27 Mar 2021 09:31:48 +0100
Subject: [R-SIG-Mac] Testing R4.0.5
In-Reply-To: <550361435.877879.1616786036155@mail.yahoo.com>
References: <550361435.877879.1616786036155.ref@mail.yahoo.com>
 <550361435.877879.1616786036155@mail.yahoo.com>
Message-ID: <BBE2806E-A4AB-4B51-A3CB-25C38B422DF4@gmail.com>

That looks like a misconfigure at Simon's end. Should be 4.0.x (-patched) until we make the branch for 4.1.0.
The source tarballs on CRAN seem OK.

- pd

> On 26 Mar 2021, at 20:13 , brodie gaslam via R-SIG-Mac <r-sig-mac at r-project.org> wrote:
> 
> I was looking to test the R4.0.5 binaries from mac.r-project.org,
> but it seems that the R-4.0-branch items are actually 4.1 r-devel,
> currently.  I am not super familiar with these as I only recently
> started using them, but IIRC at least when I was testing 4.0.4
> I seem to recall being able to just untar the tar.gz as per
> instructions and have it available via e.g. Rswitch.  Inspecting
> the tar.gz I see a mostly empty folder under:
> 
> Library/Frameworks/R.frameworks/Versions/4.0
> 
> But a complete one under:
> 
> Library/Frameworks/R.frameworks/Versions/4.1
> 
> Of the same tar.gz.
> 
> Again, I'm not super familiar with this set-up, but in previous
> versions this "just worked", so it feels like maybe something
> isn't right here.
> 
> The tar.gz in question is labeled: "Mar 25 20:43".
> 
> Best,
> 
> B.
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Office: A 4.23
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


