From nassar at noos.fr  Sun Apr  3 18:14:21 2005
From: nassar at noos.fr (Naji)
Date: Sun Apr  3 18:14:34 2005
Subject: [R-SIG-Mac] How to Speed up R on the G5
In-Reply-To: <420792E5.9090609@stat.wisc.edu>
Message-ID: <BE75E2FD.24EB%nassar@noos.fr>

Hi all,


I'm wondering if there any hint to get R working with a bi-proc G5 (bi
processor+64bit).. Ie
- Downloading R code
- Downloading a specific compiler
- Compiling the R code
Thanks for sharing your experience


Naji

From prathouz at health.bsd.uchicago.edu  Thu Apr  7 21:11:50 2005
From: prathouz at health.bsd.uchicago.edu (Paul Rathouz)
Date: Thu Apr  7 21:11:59 2005
Subject: [R-SIG-Mac] NA in table with integer types 
In-Reply-To: <31a646f130a4ffa3cbd46ffe9e3043fe@stats.ox.ac.uk>
Message-ID: <Pine.GSO.4.43L0.0504071406250.7382-100000@snow>


Hi -- I am having the following problem with table() when applied to
vectors of type (mode) integer.  When I use the table() command, I can
only obtain an entry in the table for NA values by using exclude=NULL.
Just issuing exclude=NA will not do it.  See below, where x is double at
first, and then integer and notice the difference.  Is this a bug or is
there something that I do not understand about the integer data type?
Thanks -- pr

------------------------------
> x <- c(1,2,3,3,NA)
> is.double(x)
[1] TRUE
> table(x,exclude=NA)
x
1 2 3
1 1 2
> table(x,exclude=NaN)
x
   1    2    3 <NA>
   1    1    2    1
> table(x,exclude=NULL)
x
   1    2    3 <NA>
   1    1    2    1
>
> x <- as.integer(x)
> x
[1]  1  2  3  3 NA
> is.na(x)
[1] FALSE FALSE FALSE FALSE  TRUE
> is.integer(x)
[1] TRUE
> table(x,exclude=NA)
x
1 2 3
1 1 2
> table(x,exclude=NaN)
x
1 2 3
1 1 2
> table(x,exclude=NULL)
x
   1    2    3 <NA>
   1    1    2    1
>
> R.version
         _
platform powerpc-apple-darwin6.8
arch     powerpc
os       darwin6.8
system   powerpc, darwin6.8
status
major    2
minor    0.1
year     2004
month    11
day      15
language R
------------------------------

==========================================================================
Paul Rathouz, Assoc. Professor       ph   773-834-1970
Dept. of Health Studies, Rm. W-264   fax  773-702-1979
University of Chicago                prathouz@health.bsd.uchicago.edu
5841 S. Maryland Ave. MC 2007
Chicago, IL  60637

From macq at llnl.gov  Thu Apr  7 21:18:55 2005
From: macq at llnl.gov (Don MacQueen)
Date: Thu Apr  7 21:19:09 2005
Subject: [R-SIG-Mac] NA in table with integer types
In-Reply-To: <Pine.GSO.4.43L0.0504071406250.7382-100000@snow>
References: <Pine.GSO.4.43L0.0504071406250.7382-100000@snow>
Message-ID: <p06210208be7b377751d9@[128.115.153.6]>

?table tells you that the exclude argument tells it what to exclude. 
So of course, NA will not be shown in the output if you supply 
exclude=NA. exclude=NULL tells it to exclude nothing, hence NAs are 
shown.

This is not a Mac-specific question, by the way, so R-help would have 
been the place to ask.

-Don

At 2:11 PM -0500 4/7/05, Paul Rathouz wrote:
>Hi -- I am having the following problem with table() when applied to
>vectors of type (mode) integer.  When I use the table() command, I can
>only obtain an entry in the table for NA values by using exclude=NULL.
>Just issuing exclude=NA will not do it.  See below, where x is double at
>first, and then integer and notice the difference.  Is this a bug or is
>there something that I do not understand about the integer data type?
>Thanks -- pr
>
>------------------------------
>>  x <- c(1,2,3,3,NA)
>>  is.double(x)
>[1] TRUE
>>  table(x,exclude=NA)
>x
>1 2 3
>1 1 2
>>  table(x,exclude=NaN)
>x
>    1    2    3 <NA>
>    1    1    2    1
>>  table(x,exclude=NULL)
>x
>    1    2    3 <NA>
>    1    1    2    1
>>
>>  x <- as.integer(x)
>>  x
>[1]  1  2  3  3 NA
>>  is.na(x)
>[1] FALSE FALSE FALSE FALSE  TRUE
>>  is.integer(x)
>[1] TRUE
>>  table(x,exclude=NA)
>x
>1 2 3
>1 1 2
>>  table(x,exclude=NaN)
>x
>1 2 3
>1 1 2
>>  table(x,exclude=NULL)
>x
>    1    2    3 <NA>
>    1    1    2    1
>>
>>  R.version
>          _
>platform powerpc-apple-darwin6.8
>arch     powerpc
>os       darwin6.8
>system   powerpc, darwin6.8
>status
>major    2
>minor    0.1
>year     2004
>month    11
>day      15
>language R
>------------------------------
>
>==========================================================================
>Paul Rathouz, Assoc. Professor       ph   773-834-1970
>Dept. of Health Studies, Rm. W-264   fax  773-702-1979
>University of Chicago                prathouz@health.bsd.uchicago.edu
>5841 S. Maryland Ave. MC 2007
>Chicago, IL  60637
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac@stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA

From deleeuw at stat.ucla.edu  Fri Apr  8 16:40:20 2005
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Fri Apr  8 16:40:27 2005
Subject: [R-SIG-Mac] emacs fans
Message-ID: <92EC5056-35CA-4C4F-99FA-D99BB769B954@stat.ucla.edu>

We now not only have Carbon Emacs in the FSF distribution, but also  
Andrew
Choi's version of Carbon XEmacs, and Keven Walzer's AquaMacs, which is
an Aquafied version of the Carbon Emacs. See

http://www.wordtech-software.com/aquamacs.html

===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
.mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
homepages: http://gifi.stat.ucla.edu ++++++ http://www.cuddyvalley.org
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From stefano.iacus at unimi.it  Fri Apr  8 23:24:43 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Fri Apr  8 23:24:50 2005
Subject: [R-SIG-Mac] emacs fans
In-Reply-To: <92EC5056-35CA-4C4F-99FA-D99BB769B954@stat.ucla.edu>
References: <92EC5056-35CA-4C4F-99FA-D99BB769B954@stat.ucla.edu>
Message-ID: <db7ac64cdfb62b840b06743e59155e93@unimi.it>

And there is also a Cocoa Emacs by Adrian Robert  
<arobert@cogsci.ucsd.edu>

Emacs  : GNU Emacs 20.7 (powerpc-apple-darwin7.7.0, *Step 8.0-rc2)
  of Fri Apr  8 2005 on hal.local
Package: Emacs for NeXT/Open/GNUstep / OS X 8.0-rc2

I've just installed.

stefano

On 08/apr/05, at 16:40, Jan de Leeuw wrote:

> We now not only have Carbon Emacs in the FSF distribution, but also  
> Andrew
> Choi's version of Carbon XEmacs, and Keven Walzer's AquaMacs, which is
> an Aquafied version of the Carbon Emacs. See
>
> http://www.wordtech-software.com/aquamacs.html
>
> ===
> Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
> Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA  
> 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email:  
> deleeuw@stat.ucla.edu
> .mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
> homepages: http://gifi.stat.ucla.edu ++++++ http://www.cuddyvalley.org
>   
> ----------------------------------------------------------------------- 
> --------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From maechler at stat.math.ethz.ch  Sat Apr  9 16:04:17 2005
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Sat Apr  9 16:04:25 2005
Subject: [R-SIG-Mac] emacs fans
In-Reply-To: <db7ac64cdfb62b840b06743e59155e93@unimi.it>
References: <92EC5056-35CA-4C4F-99FA-D99BB769B954@stat.ucla.edu>
	<db7ac64cdfb62b840b06743e59155e93@unimi.it>
Message-ID: <16983.57569.278430.780248@stat.math.ethz.ch>

n>>>>> "Stefano" == stefano iacus <stefano.iacus@unimi.it>
>>>>>     on Fri, 8 Apr 2005 23:24:43 +0200 writes:

    Stefano> And there is also a Cocoa Emacs by Adrian Robert
    Stefano> <arobert@cogsci.ucsd.edu>

    Stefano> Emacs : GNU Emacs 20.7 (powerpc-apple-darwin7.7.0,
    Stefano> *Step 8.0-rc2) of Fri Apr 8 2005 on hal.local
    Stefano> Package: Emacs for NeXT/Open/GNUstep / OS X 8.0-rc2

    Stefano> I've just installed.

Stefano, I don't want to be discouraging, 
but version 20.7 is ``stone age''.
Current is 21.4 (but not available on all platforms), and I
think you shouldn't have to use anything earlier than 21.3

Martin

    Stefano> stefano

    Stefano> On 08/apr/05, at 16:40, Jan de Leeuw wrote:

    >> We now not only have Carbon Emacs in the FSF
    >> distribution, but also Andrew Choi's version of Carbon
    >> XEmacs, and Keven Walzer's AquaMacs, which is an Aquafied
    >> version of the Carbon Emacs. See
    >> 
    >> http://www.wordtech-software.com/aquamacs.html
    >> 
    >> === Jan de Leeuw; Distinguished Professor and Chair, UCLA
    >> Department of Statistics; Editor: Journal of Multivariate
    >> Analysis, Journal of Statistical Software US mail: 8130
    >> Math Sciences Bldg, Box 951554, Los Angeles, CA
    >> 90095-1554 phone (310)-825-9550; fax (310)-206-5658;
    >> email: deleeuw@stat.ucla.edu .mac: jdeleeuw ++++++ aim:
    >> deleeuwjan ++++++ skype: j_deleeuw homepages:
    >> http://gifi.stat.ucla.edu ++++++
    >> http://www.cuddyvalley.org
    >> 
    >> ----------------------------------------------------------------------- 
    >> --------------------------
    >> No matter where you go, there you are. --- Buckaroo
    >> Banzai http://gifi.stat.ucla.edu/sounds/nomatter.au
    >> 
    >> _______________________________________________ R-SIG-Mac
    >> mailing list R-SIG-Mac@stat.math.ethz.ch
    >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
    >> 

    Stefano> _______________________________________________
    Stefano> R-SIG-Mac mailing list R-SIG-Mac@stat.math.ethz.ch
    Stefano> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From drew.balazs at gmail.com  Fri Apr  8 17:53:07 2005
From: drew.balazs at gmail.com (Drew Balazs)
Date: Sat Apr  9 23:27:36 2005
Subject: [R-SIG-Mac] BUG in RODBC with OS X?
Message-ID: <6a2c704c05040808531d99c1e0@mail.gmail.com>

This is my second posting on this topic, the first recieved no
replies.  Has anyone successfully used RODBC on the OS X platform? 
I've tested the ODBC drivers I'm using with two other applications and
I've had no problems.  I begining to think the problem is with R/RODBC
and not the drivers.

Here are the specifics:

I'm having a problem connecting to an MS SQL Database via RODBC on OS
X. If I try to connect through the GUI using  chan <-
odbcConnect("drewdb", uid="user", pwd ="pwd") it simply crashes R with
the following crash report:

Date/Time:      2005-03-28 12:30:48 -0600
OS Version:     10.3.8 (Build 7U16)
Report Version: 2

Command: R
Path:    /Applications/R.app/Contents/MacOS/R
Version: 1.01 (1.01)
PID:     507
Thread:  0

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x000001fc

However, if I try it through an xterm (command line), I get the following:

Warning messages:
1: [RODBC] ERROR: state IM004, code 0, message [iODBC][Driver
Manager]Driver's SQLAllocEnv() failed
2: ODBC connection failed in: odbcDriverConnect(st, case = case,
believeNRows = believeNRows)

I'm reasonably sure the DSN is okay because I can use it to connect to
the DB with other applications.
Any suggestions?

-Drew

Specific Info:
 Machine Model:        PowerBook5,6
 CPU Type:     PowerPC G4  (1.2)
 Number Of CPUs:       1
 CPU Speed:    1.67 GHz
 L2 Cache (per CPU):   512 KB
 Memory:       2 GB
 Bus Speed:    167 MHz
 System Version:       Mac OS X 10.3.8 (7U16)
 Kernel Version:       Darwin 7.8.0
 Boot Volume:  Macintosh HD

R : Copyright 2004, The R Foundation for Statistical Computing
Version 2.0.1  (2004-11-15), ISBN 3-900051-07-0

From stefano.iacus at unimi.it  Sat Apr  9 23:47:42 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Sat Apr  9 23:48:01 2005
Subject: [R-SIG-Mac] emacs fans
In-Reply-To: <16983.57569.278430.780248@stat.math.ethz.ch>
References: <92EC5056-35CA-4C4F-99FA-D99BB769B954@stat.ucla.edu>
	<db7ac64cdfb62b840b06743e59155e93@unimi.it>
	<16983.57569.278430.780248@stat.math.ethz.ch>
Message-ID: <c6798e1f3818c98417edb46d739ed9c9@unimi.it>


On 09/apr/05, at 16:04, Martin Maechler wrote:

> n>>>>> "Stefano" == stefano iacus <stefano.iacus@unimi.it>
>>>>>>     on Fri, 8 Apr 2005 23:24:43 +0200 writes:
>
>     Stefano> And there is also a Cocoa Emacs by Adrian Robert
>     Stefano> <arobert@cogsci.ucsd.edu>
>
>     Stefano> Emacs : GNU Emacs 20.7 (powerpc-apple-darwin7.7.0,
>     Stefano> *Step 8.0-rc2) of Fri Apr 8 2005 on hal.local
>     Stefano> Package: Emacs for NeXT/Open/GNUstep / OS X 8.0-rc2
>
>     Stefano> I've just installed.
>
> Stefano, I don't want to be discouraging,
> but version 20.7 is ``stone age''.
> Current is 21.4 (but not available on all platforms), and I
> think you shouldn't have to use anything earlier than 21.3

sure, I know. But this is the latest stable-cocoa, next stable release  
of cocoa will be in synch with the latest stable emacs (up to the  
author!)

BTW, it was just to extend the list, if your are curious here is the  
url   http://emacs-on-aqua.sourceforge.net/


stefano


>
> Martin
>
>     Stefano> stefano
>
>     Stefano> On 08/apr/05, at 16:40, Jan de Leeuw wrote:
>
>>> We now not only have Carbon Emacs in the FSF
>>> distribution, but also Andrew Choi's version of Carbon
>>> XEmacs, and Keven Walzer's AquaMacs, which is an Aquafied
>>> version of the Carbon Emacs. See
>>>
>>> http://www.wordtech-software.com/aquamacs.html
>>>
>>> === Jan de Leeuw; Distinguished Professor and Chair, UCLA
>>> Department of Statistics; Editor: Journal of Multivariate
>>> Analysis, Journal of Statistical Software US mail: 8130
>>> Math Sciences Bldg, Box 951554, Los Angeles, CA
>>> 90095-1554 phone (310)-825-9550; fax (310)-206-5658;
>>> email: deleeuw@stat.ucla.edu .mac: jdeleeuw ++++++ aim:
>>> deleeuwjan ++++++ skype: j_deleeuw homepages:
>>> http://gifi.stat.ucla.edu ++++++
>>> http://www.cuddyvalley.org
>>>
>>> --------------------------------------------------------------------- 
>>> --
>>> --------------------------
>>> No matter where you go, there you are. --- Buckaroo
>>> Banzai http://gifi.stat.ucla.edu/sounds/nomatter.au
>>>
>>> _______________________________________________ R-SIG-Mac
>>> mailing list R-SIG-Mac@stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>
>     Stefano> _______________________________________________
>     Stefano> R-SIG-Mac mailing list R-SIG-Mac@stat.math.ethz.ch
>     Stefano> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From goedman at mac.com  Mon Apr 11 06:33:16 2005
From: goedman at mac.com (Rob J Goedman)
Date: Mon Apr 11 06:33:29 2005
Subject: [R-SIG-Mac] Re: [R] R Gui help
In-Reply-To: <BAY104-F41EA4CCC63D207B34C9130AF320@phx.gbl>
References: <BAY104-F41EA4CCC63D207B34C9130AF320@phx.gbl>
Message-ID: <3e235a995aa97db850e0da2c0c038ded@mac.com>

Hi Ben,

Which version do you mean by the 'newest version'? The latest R.app 
(the Cocoa based
GUI for R) is available from: http://www.rosuda.org/R/nightly/  (bottom 
of the page). That
version only works after you have installed the full CRAN version first.

There should be an icon in the toolbar that looks like a striped flag. 
A history panel
will show up if you click on it.

Even if you don't see the history panel, the up/down arrows should 
recall history if the cursor is
positioned at the end of the line with the prompt. Please check the 
Startup preference settings
to fine tune the history behavior.

Rob


On Apr 10, 2005, at 8:43 PM, Ben Johnson wrote:

> I have just downloaded the newest version of R for my mac v10.3 OS. 
> Apparently I am using the Cocoa GUI, but I cannot find the "History" 
> menu which would allow me to save plot and scroll between them using 
> up and down arrows. Can anyone help me with this? Is there some 
> installation I am missing??
>
> -Ben
>
> ______________________________________________
> R-help@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide! 
> http://www.R-project.org/posting-guide.html

From simon.urbanek at r-project.org  Mon Apr 11 17:25:51 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon Apr 11 17:25:11 2005
Subject: [R-SIG-Mac] BUG in RODBC with OS X?
In-Reply-To: <6a2c704c05040808531d99c1e0@mail.gmail.com>
References: <6a2c704c05040808531d99c1e0@mail.gmail.com>
Message-ID: <BA8CA8E4-DEFF-450B-9055-2EB0E4F957FE@r-project.org>

Drew,

On Apr 8, 2005, at 11:53 AM, Drew Balazs wrote:

> This is my second posting on this topic, the first recieved no
> replies.  Has anyone successfully used RODBC on the OS X platform?

Yes - it works pretty much out of the box. I tested it with the  
Actual drivers and they work pretty well (although I don't have any  
MS box to test the MS SQL part of it).

> If I try to connect through the GUI using  chan <-
> odbcConnect("drewdb", uid="user", pwd ="pwd") it simply crashes R with
> the following crash report:

Well, you didn't send the crash report, but only a small  
(unfortunately useless) part of it. Given the error below, chances  
are that the error is caused by the driver. As of the GUI, you should  
include the version (and possibly revision) of the GUI along with the  
full report so we can try to track it down. However, this won't help  
with the ODBC problem you have.

> However, if I try it through an xterm (command line), I get the  
> following:
>
> Warning messages:
> 1: [RODBC] ERROR: state IM004, code 0, message [iODBC][Driver  
> Manager]Driver's SQLAllocEnv() failed

If you think this is not a driver problem, you should consider  
contacting the package maintainer, although I don't give it much hope  
as most ODBC problems are driver-related (and most drivers have very  
little OS X support). Alternatively you could ask on the  iODBC pages.

Cheers,
Simon

From ripley at stats.ox.ac.uk  Mon Apr 11 17:56:03 2005
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon Apr 11 17:56:16 2005
Subject: [R] Re: [R-SIG-Mac] BUG in RODBC with OS X?
In-Reply-To: <BA8CA8E4-DEFF-450B-9055-2EB0E4F957FE@r-project.org>
References: <6a2c704c05040808531d99c1e0@mail.gmail.com>
	<BA8CA8E4-DEFF-450B-9055-2EB0E4F957FE@r-project.org>
Message-ID: <Pine.LNX.4.61.0504111654500.20348@gannet.stats>

On Mon, 11 Apr 2005, Simon Urbanek wrote:

> Drew,
>
> On Apr 8, 2005, at 11:53 AM, Drew Balazs wrote:
>
>> This is my second posting on this topic, the first recieved no
>> replies.  Has anyone successfully used RODBC on the OS X platform?
>
> Yes - it works pretty much out of the box. I tested it with the Actual 
> drivers and they work pretty well (although I don't have any MS box to test 
> the MS SQL part of it).
>
>> If I try to connect through the GUI using  chan <-
>> odbcConnect("drewdb", uid="user", pwd ="pwd") it simply crashes R with
>> the following crash report:
>
> Well, you didn't send the crash report, but only a small (unfortunately 
> useless) part of it. Given the error below, chances are that the error is 
> caused by the driver. As of the GUI, you should include the version (and 
> possibly revision) of the GUI along with the full report so we can try to 
> track it down. However, this won't help with the ODBC problem you have.
>
>> However, if I try it through an xterm (command line), I get the following:
>> 
>> Warning messages:
>> 1: [RODBC] ERROR: state IM004, code 0, message [iODBC][Driver 
>> Manager]Driver's SQLAllocEnv() failed
>
> If you think this is not a driver problem, you should consider contacting the 
> package maintainer, although I don't give it much hope as most ODBC problems 
> are driver-related (and most drivers have very little OS X support). 
> Alternatively you could ask on the  iODBC pages.

He would point out that is an iODBC error message and send you to iODBC 
support.

-- 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From drew.balazs at gmail.com  Mon Apr 11 19:26:43 2005
From: drew.balazs at gmail.com (Drew Balazs)
Date: Mon Apr 11 20:56:14 2005
Subject: [R] Re: [R-SIG-Mac] BUG in RODBC with OS X?
In-Reply-To: <Pine.LNX.4.61.0504111654500.20348@gannet.stats>
References: <6a2c704c05040808531d99c1e0@mail.gmail.com>
	<BA8CA8E4-DEFF-450B-9055-2EB0E4F957FE@r-project.org>
	<Pine.LNX.4.61.0504111654500.20348@gannet.stats>
Message-ID: <6a2c704c050411102670083f2b@mail.gmail.com>

On Apr 11, 2005 10:56 AM, Prof Brian Ripley <ripley@stats.ox.ac.uk> wrote:
> On Mon, 11 Apr 2005, Simon Urbanek wrote:
> 
> > Drew,
> >
> > On Apr 8, 2005, at 11:53 AM, Drew Balazs wrote:
> >
> >> This is my second posting on this topic, the first recieved no
> >> replies.  Has anyone successfully used RODBC on the OS X platform?
> >
> > Yes - it works pretty much out of the box. I tested it with the Actual
> > drivers and they work pretty well (although I don't have any MS box to test
> > the MS SQL part of it).
> >
> >> If I try to connect through the GUI using  chan <-
> >> odbcConnect("drewdb", uid="user", pwd ="pwd") it simply crashes R with
> >> the following crash report:
> >
> > Well, you didn't send the crash report, but only a small (unfortunately
> > useless) part of it. Given the error below, chances are that the error is
> > caused by the driver. As of the GUI, you should include the version (and
> > possibly revision) of the GUI along with the full report so we can try to
> > track it down. However, this won't help with the ODBC problem you have.
> >
> >> However, if I try it through an xterm (command line), I get the following:
> >>
> >> Warning messages:
> >> 1: [RODBC] ERROR: state IM004, code 0, message [iODBC][Driver
> >> Manager]Driver's SQLAllocEnv() failed
> >
> > If you think this is not a driver problem, you should consider contacting the
> > package maintainer, although I don't give it much hope as most ODBC problems
> > are driver-related (and most drivers have very little OS X support).
> > Alternatively you could ask on the  iODBC pages.
> 
> He would point out that is an iODBC error message and send you to iODBC
> support.

While iODBC maybe be a player in this, I think its not alone. Below
are the results for both the iODBC and Actual drivers. The use of the
actual drivers result in a seg fault.

(Using the openlink iodbc drivers)
> chan <- odbcConnect("drewdb", uid="user", pwd ="pwd")
Warning messages: 
1: [RODBC] ERROR: state IM004, code 0, message [iODBC][Driver
Manager]Driver's SQLAllocEnv() failed
2: ODBC connection failed in: odbcDriverConnect(st, case = case,
believeNRows = believeNRows)

(Using the Actual drivers)
> chan <- odbcConnect("drewsql", uid="user", pwd ="pwd")
Segmentation fault
The-Data-Mangler:~ drew$ 

-Drew



> --
> Brian D. Ripley,                  ripley@stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>

From agoralczyk at gmail.com  Tue Apr 12 10:15:01 2005
From: agoralczyk at gmail.com (Armin Goralczyk)
Date: Tue Apr 12 10:15:10 2005
Subject: [R-SIG-Mac] Using quartz-device from Emacs+ess
Message-ID: <a695fbee0504120115704b650c@mail.gmail.com>

Hi list
I am new to the list so the following might have been adressed already
(Sorry, but I searched and found only emails from 2003).
I'd like to use the quartz device from emacs+ess (installed via fink,
running in apple X11). I like the RAqua GUI (Thanks!), but it would be
most comfortable to have everything in emacs (for me).
First I tried:
started the device with
quartz()
and I can plot on it and I see the plot in the window
but I can'''t do anything with the window (resize, save,etc) since the
"rainbow ball" is spinning all the time. Is there a solution to this
problem?
Since I can see my plots, but nothing alse, I thought to plot on a pdf
or jpeg device for saving/printing. But if I use
pdf() or jpeg()
and plot onto the device
the file cannot be opened from Preview.app or Adobe reader and the
file size is 0kb. What's the matter?
Thanks for help.
Armin

From ellis at stat.harvard.edu  Tue Apr 12 10:44:45 2005
From: ellis at stat.harvard.edu (Byron Ellis)
Date: Tue Apr 12 10:44:47 2005
Subject: [R-SIG-Mac] Using quartz-device from Emacs+ess
In-Reply-To: <a695fbee0504120115704b650c@mail.gmail.com>
References: <a695fbee0504120115704b650c@mail.gmail.com>
Message-ID: <800756d902ad5571ceb8d95d1a85712a@stat.harvard.edu>

Sorry, you're basically out of luck---the Terminal version of R (the 
one used by ESS) is blocking at the terminal input and not pumping 
events.


On Apr 12, 2005, at 1:15 AM, Armin Goralczyk wrote:

> Hi list
> I am new to the list so the following might have been adressed already
> (Sorry, but I searched and found only emails from 2003).
> I'd like to use the quartz device from emacs+ess (installed via fink,
> running in apple X11). I like the RAqua GUI (Thanks!), but it would be
> most comfortable to have everything in emacs (for me).
> First I tried:
> started the device with
> quartz()
> and I can plot on it and I see the plot in the window
> but I can'''t do anything with the window (resize, save,etc) since the
> "rainbow ball" is spinning all the time. Is there a solution to this
> problem?
> Since I can see my plots, but nothing alse, I thought to plot on a pdf
> or jpeg device for saving/printing. But if I use
> pdf() or jpeg()
> and plot onto the device
> the file cannot be opened from Preview.app or Adobe reader and the
> file size is 0kb. What's the matter?
> Thanks for help.
> Armin
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
---
Byron Ellis (ellis@stat.harvard.edu)
"Oook" -- The Librarian

From stefano.iacus at unimi.it  Tue Apr 12 12:25:25 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Tue Apr 12 12:25:54 2005
Subject: [R-SIG-Mac] Using quartz-device from Emacs+ess
In-Reply-To: <800756d902ad5571ceb8d95d1a85712a@stat.harvard.edu>
References: <a695fbee0504120115704b650c@mail.gmail.com>
	<800756d902ad5571ceb8d95d1a85712a@stat.harvard.edu>
Message-ID: <2294b5afedb40a464b952cd02e8e1d9f@unimi.it>

But, he can use Jan Trick (see the FAQ).
Jan?
stefano
On 12/apr/05, at 10:44, Byron Ellis wrote:

> Sorry, you're basically out of luck---the Terminal version of R (the 
> one used by ESS) is blocking at the terminal input and not pumping 
> events.
>
>
> On Apr 12, 2005, at 1:15 AM, Armin Goralczyk wrote:
>
>> Hi list
>> I am new to the list so the following might have been adressed already
>> (Sorry, but I searched and found only emails from 2003).
>> I'd like to use the quartz device from emacs+ess (installed via fink,
>> running in apple X11). I like the RAqua GUI (Thanks!), but it would be
>> most comfortable to have everything in emacs (for me).
>> First I tried:
>> started the device with
>> quartz()
>> and I can plot on it and I see the plot in the window
>> but I can'''t do anything with the window (resize, save,etc) since the
>> "rainbow ball" is spinning all the time. Is there a solution to this
>> problem?
>> Since I can see my plots, but nothing alse, I thought to plot on a pdf
>> or jpeg device for saving/printing. But if I use
>> pdf() or jpeg()
>> and plot onto the device
>> the file cannot be opened from Preview.app or Adobe reader and the
>> file size is 0kb. What's the matter?
>> Thanks for help.
>> Armin
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
> ---
> Byron Ellis (ellis@stat.harvard.edu)
> "Oook" -- The Librarian
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From tlumley at u.washington.edu  Tue Apr 12 16:06:42 2005
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue Apr 12 16:07:24 2005
Subject: [R-SIG-Mac] Using quartz-device from Emacs+ess
In-Reply-To: <a695fbee0504120115704b650c@mail.gmail.com>
References: <a695fbee0504120115704b650c@mail.gmail.com>
Message-ID: <Pine.A41.4.61b.0504120706180.335330@homer08.u.washington.edu>

On Tue, 12 Apr 2005, Armin Goralczyk wrote:
> Since I can see my plots, but nothing alse, I thought to plot on a pdf
> or jpeg device for saving/printing. But if I use
> pdf() or jpeg()
> and plot onto the device
> the file cannot be opened from Preview.app or Adobe reader and the
> file size is 0kb. What's the matter?

Did you remember to close the file with dev.off()?

 	-thomas

From jnmaloof at ucdavis.edu  Tue Apr 12 19:04:16 2005
From: jnmaloof at ucdavis.edu (Julin Maloof)
Date: Tue Apr 12 20:05:15 2005
Subject: [R-SIG-Mac] Using quartz-device from Emacs+ess
In-Reply-To: <200504121004.j3CA3Zjb013746@hypatia.math.ethz.ch>
References: <200504121004.j3CA3Zjb013746@hypatia.math.ethz.ch>
Message-ID: <425BFF90.6030206@ucdavis.edu>

I am not sure if you are "out of luck".  Do you need to use a quartz device per se?  I use xemacs + ess in X11 and use the X11() device for graphics, and pdf() or jpeg() for saving images.  I am not sure why the later aren't working for you, however.

Julin

> 
> Message: 5
> Date: Tue, 12 Apr 2005 01:44:45 -0700
> From: Byron Ellis <ellis@stat.harvard.edu>
> Subject: Re: [R-SIG-Mac] Using quartz-device from Emacs+ess
> To: Armin Goralczyk <agoralczyk@gmail.com>
> Cc: R-SIG-Mac@stat.math.ethz.ch
> Message-ID: <800756d902ad5571ceb8d95d1a85712a@stat.harvard.edu>
> Content-Type: text/plain; charset=US-ASCII; format=flowed
> 
> Sorry, you're basically out of luck---the Terminal version of R (the 
> one used by ESS) is blocking at the terminal input and not pumping 
> events.
> 
> 
> On Apr 12, 2005, at 1:15 AM, Armin Goralczyk wrote:
> 
> 
>>> Hi list
>>> I am new to the list so the following might have been adressed already
>>> (Sorry, but I searched and found only emails from 2003).
>>> I'd like to use the quartz device from emacs+ess (installed via fink,
>>> running in apple X11). I like the RAqua GUI (Thanks!), but it would be
>>> most comfortable to have everything in emacs (for me).
>>> First I tried:
>>> started the device with
>>> quartz()
>>> and I can plot on it and I see the plot in the window
>>> but I can'''t do anything with the window (resize, save,etc) since the
>>> "rainbow ball" is spinning all the time. Is there a solution to this
>>> problem?
>>> Since I can see my plots, but nothing alse, I thought to plot on a pdf
>>> or jpeg device for saving/printing. But if I use
>>> pdf() or jpeg()
>>> and plot onto the device
>>> the file cannot be opened from Preview.app or Adobe reader and the
>>> file size is 0kb. What's the matter?
>>> Thanks for help.
>>> Armin
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac@stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
> 
> ---
> Byron Ellis (ellis@stat.harvard.edu)
> "Oook" -- The Librarian
> 
> 
>

From simon.urbanek at r-project.org  Wed Apr 13 21:51:05 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed Apr 13 21:51:59 2005
Subject: [R-SIG-Mac] BUG in RODBC with OS X?
In-Reply-To: <6a2c704c05040808531d99c1e0@mail.gmail.com>
References: <6a2c704c05040808531d99c1e0@mail.gmail.com>
Message-ID: <B680A144-8071-47BC-BCD5-0CF953C8B88E@r-project.org>

Just for the record - this problem concerns Actual drivers for Mac OS  
X 10.3 (later OS X versions are not affected). The current temporary  
work-around is to install "iODBC Runtime" supplied with the Actual  
drivers and compile RODBC as follows (in bash assuming sufficient  
privileges):

LIBS='-framework iODBC' PKG_CFLAGS='-I/Library/Frameworks/ 
iODBC.framework/Headers' R CMD INSTALL RODBC_1.1-3.tar.gz

Simon

From agoralczyk at gmail.com  Thu Apr 14 15:35:14 2005
From: agoralczyk at gmail.com (Armin Goralczyk)
Date: Thu Apr 14 21:09:04 2005
Subject: [R-SIG-Mac] Using quartz-device from Emacs+ess
In-Reply-To: <425BFF90.6030206@ucdavis.edu>
References: <200504121004.j3CA3Zjb013746@hypatia.math.ethz.ch>
	<425BFF90.6030206@ucdavis.edu>
Message-ID: <8ec1f0551af0b71eb62f9d1ff74ea4c4@gmail.com>

Thanks for all the help and sorry to have bothered you. Using pdf() and 
jpeg() works fine with dev.off(). I suppose I should have read the 
manual more thoroughly.

Concerning the ``Trick'' (thanks for your detailed instructions): I 
followed the instructions (see below), but behaviour of the window is 
the same (i.e., quartz window always ``inactive'', ball spinning). But 
I am not sure if I have the right version of R (R 2.0.1 came in 
installer with for R Cocoa GUI 1.01). Do I have to recompile as  
instructed? Or is the version that comes in the installer already 
compiled with Aqua Tcl/Tk? I am not an expert concerning these things!

Yet another question: Do I get different graphics if I do plots in a 
x11-device then export them via dev.copy() to the pdf-device than using 
the quartz-device (from the R Cocoa GUI) and save as file? (it says is 
the R Mac FAQ the plots are ``nicer'' with the quartz?!)

Thanks for help.
Armin



Quote from Jan de Leeuw:
Use a version of R compiled with the Aqua Tcl/Tk.

0. Use the terminal
1. go to /Library/Frameworks/R.framework/Resources/bin/exec
2. say "sudo /Developer/Tools/Rez -t APPL Carbon.r -o R"
3. in /Library/Frameworks./R.framework/Resources/etc put a file
with

local({
        options(device="quartz")
        old <- getOption("defaultPackages")
        options(defaultPackages = c(old, "tcltk"))
      })

Now you should be OK. This gives R a resource fork, and actually
makes it into a Tcl/Tk application. The Tcl/Tk event loop now takes
care of the events in the graphics window.


Gru?
Armin

--
Armin Goralczyk; Guttmannstr. 4; Appartment 2615; 76307 Karlsbad
Telefon Festnetz: +49 7202 289052; Mobil: +49 179 9162596
Electronic mail: goralczyk@mac.com
Web site: http://homepage.mac.com/goralczyk
--
Solange ich lebe, mu? ich damit rechnen, da? ich weiterlebe.
Karl Valentin
--

From chabotd at globetrotter.net  Tue Apr 19 12:14:25 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Tue Apr 19 12:17:35 2005
Subject: [R-SIG-Mac] latest two builts refuse to launch
Message-ID: <726c530f010a834eea75a656626bb628@globetrotter.net>

Hi,

I downloaded versions of R dating from 17 and 18 of April. Both refuse 
to launch. I don't know if the problem is with these builds or with my 
recent upgrade to 10.3.9...

Double-clicking produces a short dialog indicating error -10810

The log that automatically opens when I launch Console.app says:
2005-04-19 05:59:23.547 SystemUIServer[441] app path = 
/Applications/R.app

I found no crash report (log) for R.

Sincerely,

Denis Chabot

From simon.urbanek at r-project.org  Tue Apr 19 16:17:35 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue Apr 19 16:17:43 2005
Subject: [R-SIG-Mac] latest two builts refuse to launch
In-Reply-To: <726c530f010a834eea75a656626bb628@globetrotter.net>
References: <726c530f010a834eea75a656626bb628@globetrotter.net>
Message-ID: <A62ADA9B-CCCC-401F-A672-406E7255670C@r-project.org>

Denis,

On Apr 19, 2005, at 5:14 AM, Denis Chabot wrote:


> I downloaded versions of R dating from 17 and 18 of April. Both  
> refuse to launch. I don't know if the problem is with these builds  
> or with my recent upgrade to 10.3.9...
>

We didn't release a binary for Mac OS yet, so there are many  
possibilities of what could have went wrong - please describe how you  
build your R.


> Double-clicking produces a short dialog indicating error -10810
>

Umm.. how can you double-click R? R is supposed to be run in Terminal  
or other shell-like environment.


> The log that automatically opens when I launch Console.app says:
> 2005-04-19 05:59:23.547 SystemUIServer[441] app path = / 
> Applications/R.app
>

R.app has not been released for R 2.1 yet, so I'm wondering what you  
are trying there. Did you build R.app from the current sources? Note  
that the nightly build uses R 2.0 and is therefore not compatible  
with R 2.1. We will switch to 2.1 only after the official release of  
binaries for Mac OS X.

Cheers,
Simon

From stefano.iacus at unimi.it  Tue Apr 19 16:43:12 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Tue Apr 19 16:43:23 2005
Subject: [R-SIG-Mac] latest two builts refuse to launch
In-Reply-To: <A62ADA9B-CCCC-401F-A672-406E7255670C@r-project.org>
References: <726c530f010a834eea75a656626bb628@globetrotter.net>
	<A62ADA9B-CCCC-401F-A672-406E7255670C@r-project.org>
Message-ID: <03e97d04d3a006acf1156ef7cca28ac6@unimi.it>


On 19/apr/05, at 16:17, Simon Urbanek wrote:

> Denis,
>
> On Apr 19, 2005, at 5:14 AM, Denis Chabot wrote:
>
>
>> I downloaded versions of R dating from 17 and 18 of April. Both 
>> refuse to launch. I don't know if the problem is with these builds or 
>> with my recent upgrade to 10.3.9...
>>
>
> We didn't release a binary for Mac OS yet, so there are many 
> possibilities of what could have went wrong - please describe how you 
> build your R.
>
>
>> Double-clicking produces a short dialog indicating error -10810
>>
>
> Umm.. how can you double-click R? R is supposed to be run in Terminal 
> or other shell-like environment.
>
>
>> The log that automatically opens when I launch Console.app says:
>> 2005-04-19 05:59:23.547 SystemUIServer[441] app path = 
>> /Applications/R.app
>>
>
> R.app has not been released for R 2.1 yet, so I'm wondering what you 
> are trying there. Did you build R.app from the current sources? Note 
> that the nightly build uses R 2.0 and is therefore not compatible with 
> R 2.1. We will switch to 2.1 only after the official release of 
> binaries for Mac OS X.
which will be in a day or two (up to mirroring delays)
stefano

>
> Cheers,
> Simon
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From lists at revelle.net  Tue Apr 19 17:16:30 2005
From: lists at revelle.net (William Revelle)
Date: Tue Apr 19 17:16:24 2005
Subject: [R-SIG-Mac] latest two builts refuse to launch
In-Reply-To: <A62ADA9B-CCCC-401F-A672-406E7255670C@r-project.org>
References: <726c530f010a834eea75a656626bb628@globetrotter.net>
	<A62ADA9B-CCCC-401F-A672-406E7255670C@r-project.org>
Message-ID: <p06210245be8accd3bd44@[165.124.160.147]>

Simon and Denis,

Trying to be a good netizin I too tried the Mac nightly build of 
R.app  from Simon's page.  This is the R-GUI.dmg file that a few days 
ago worked beautifully. (Thank you for the nice additions).

However, when launching the program from the finder (not Terminal), I 
got the error -10810 reported by Denis.

I am running Mac OSX 10.3.8

I just tried downloading it again, with the same problem.

Simon says that "R is supposed to be run in Terminal or other 
shell-like environment" but in fact the daily build of late last week 
was double clickable from the Finder, leading me to believe that it 
was meant to behave that way.

I am running R 2.0.1 with Mac Gui 1.01.  It was the attempt at Mac 
Gui 1.0.2 pre experimental build 1393 that is causing the problem.

Thanks for all the good work.

Bill


At 9:17 AM -0500 4/19/05, Simon Urbanek wrote:
>Denis,
>
>On Apr 19, 2005, at 5:14 AM, Denis Chabot wrote:
>
>>I downloaded versions of R dating from 17 and 18 of April. Both 
>>refuse to launch. I don't know if the problem is with these builds 
>>or with my recent upgrade to 10.3.9...
>>
>
>We didn't release a binary for Mac OS yet, so there are many 
>possibilities of what could have went wrong - please describe how 
>you build your R.
>
>>Double-clicking produces a short dialog indicating error -10810
>>
>
>Umm.. how can you double-click R? R is supposed to be run in 
>Terminal or other shell-like environment.
>
>>The log that automatically opens when I launch Console.app says:
>>2005-04-19 05:59:23.547 SystemUIServer[441] app path = /Applications/R.app
>>
>
>R.app has not been released for R 2.1 yet, so I'm wondering what you 
>are trying there. Did you build R.app from the current sources? Note 
>that the nightly build uses R 2.0 and is therefore not compatible 
>with R 2.1. We will switch to 2.1 only after the official release of 
>binaries for Mac OS X.
>
>Cheers,
>Simon
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac@stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
William Revelle		http://pmc.psych.northwestern.edu/revelle.html   
Professor			http://personality-project.org/personality.html
Department of Psychology       http://www.wcas.northwestern.edu/psych/
Northwestern University	http://www.northwestern.edu/

From goedman at mac.com  Tue Apr 19 18:16:48 2005
From: goedman at mac.com (Rob J Goedman)
Date: Tue Apr 19 18:17:12 2005
Subject: [R-SIG-Mac] latest two builts refuse to launch
In-Reply-To: <p06210245be8accd3bd44@[165.124.160.147]>
References: <726c530f010a834eea75a656626bb628@globetrotter.net>
	<A62ADA9B-CCCC-401F-A672-406E7255670C@r-project.org>
	<p06210245be8accd3bd44@[165.124.160.147]>
Message-ID: <34a847c05197146662f11763482e3acc@mac.com>

Just checked this on 10.3.8, 10.3.9 and 10.4.pre, they all behave 
similarly. On 10.4.pre, from a terminal,
'open -a R.app' actually works (and shows a minor issue I'll look 
into). On 10.3 it shows the launch
services error -10810.

Unfortunately 10810 is 'unknown error' in the launch services. The 1393 
Xcode builds do
work fine on all versions.

Could something have gone wrong in this particular nightly build? It 
happens with both R-GUI and
R-GUI-Debug.

Rob


On Apr 19, 2005, at 8:16 AM, William Revelle wrote:

> Simon and Denis,
>
> Trying to be a good netizin I too tried the Mac nightly build of R.app 
>  from Simon's page.  This is the R-GUI.dmg file that a few days ago 
> worked beautifully. (Thank you for the nice additions).
>
> However, when launching the program from the finder (not Terminal), I 
> got the error -10810 reported by Denis.
>
> I am running Mac OSX 10.3.8
>
> I just tried downloading it again, with the same problem.
>
> Simon says that "R is supposed to be run in Terminal or other 
> shell-like environment" but in fact the daily build of late last week 
> was double clickable from the Finder, leading me to believe that it 
> was meant to behave that way.
>
> I am running R 2.0.1 with Mac Gui 1.01.  It was the attempt at Mac Gui 
> 1.0.2 pre experimental build 1393 that is causing the problem.
>
> Thanks for all the good work.
>
> Bill
>
>
> At 9:17 AM -0500 4/19/05, Simon Urbanek wrote:
>> Denis,
>>
>> On Apr 19, 2005, at 5:14 AM, Denis Chabot wrote:
>>
>>> I downloaded versions of R dating from 17 and 18 of April. Both 
>>> refuse to launch. I don't know if the problem is with these builds 
>>> or with my recent upgrade to 10.3.9...
>>>
>>
>> We didn't release a binary for Mac OS yet, so there are many 
>> possibilities of what could have went wrong - please describe how you 
>> build your R.
>>
>>> Double-clicking produces a short dialog indicating error -10810
>>>
>>
>> Umm.. how can you double-click R? R is supposed to be run in Terminal 
>> or other shell-like environment.
>>
>>> The log that automatically opens when I launch Console.app says:
>>> 2005-04-19 05:59:23.547 SystemUIServer[441] app path = 
>>> /Applications/R.app
>>>
>>
>> R.app has not been released for R 2.1 yet, so I'm wondering what you 
>> are trying there. Did you build R.app from the current sources? Note 
>> that the nightly build uses R 2.0 and is therefore not compatible 
>> with R 2.1. We will switch to 2.1 only after the official release of 
>> binaries for Mac OS X.
>>
>> Cheers,
>> Simon
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
> -- 
> William Revelle		http://pmc.psych.northwestern.edu/revelle.html   
> Professor			http://personality-project.org/personality.html
> Department of Psychology       http://www.wcas.northwestern.edu/psych/
> Northwestern University	http://www.northwestern.edu/
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From chabotd at globetrotter.net  Wed Apr 20 11:41:34 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Wed Apr 20 11:41:44 2005
Subject: [R-SIG-Mac] build 1394
Message-ID: <0c33551e41653909913aa6e1a423b290@globetrotter.net>

Hi,

I'm sorry to say that today's build 1394 or R Cocoa app (gui) also does 
not launch under 10.3.8 nor under 10.3.9.

Denis

From sekemp at glam.ac.uk  Wed Apr 20 16:40:24 2005
From: sekemp at glam.ac.uk (Samuel E. Kemp)
Date: Wed Apr 20 16:57:19 2005
Subject: [R-SIG-Mac] R GUI slow on mac?
Message-ID: <855d8ba160269112c36fa2501e06fa79@glam.ac.uk>

Hi,

I have R version 2.0.1 on my PowerBook G4 1.5Ghz, 512RAM, running OS X 
10.3.9. I have noticed that the "official" R GUI runs considerably 
slower than R in the terminal and also JGR. Whilst the differences in 
speed are unimportant for simple parametric stats, it becomes a bit of 
a pig when doing non-parametric stats e.g. neural nets, feature 
selection algorithms.

In all my experiments I have set my CPU speed to "maximum" in system 
preferences. I have also looked at the CPU usage for each 
implementation: on average R in the terminal and JGR manage to get 98% 
of CPU usage, compared to only around 75% for the R GUI.

I guess my questions are:

1) Why the difference in speed when its on the same machine?
2) Is there any way of tweaking R GUI to make it run faster, a la R in 
the terminal?

Any help would be appreciated.

Best regards,

Sam.

From sdavis2 at mail.nih.gov  Wed Apr 20 17:08:39 2005
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Wed Apr 20 17:08:49 2005
Subject: [R-SIG-Mac] R GUI slow on mac?
In-Reply-To: <855d8ba160269112c36fa2501e06fa79@glam.ac.uk>
References: <855d8ba160269112c36fa2501e06fa79@glam.ac.uk>
Message-ID: <54f3cb7570bd3ca5aec41269aa3e5dae@mail.nih.gov>


On Apr 20, 2005, at 10:40 AM, Samuel E. Kemp wrote:

> Hi,
>
> I have R version 2.0.1 on my PowerBook G4 1.5Ghz, 512RAM, running OS X 
> 10.3.9. I have noticed that the "official" R GUI runs considerably 
> slower than R in the terminal and also JGR. Whilst the differences in 
> speed are unimportant for simple parametric stats, it becomes a bit of 
> a pig when doing non-parametric stats e.g. neural nets, feature 
> selection algorithms.
>
> In all my experiments I have set my CPU speed to "maximum" in system 
> preferences. I have also looked at the CPU usage for each 
> implementation: on average R in the terminal and JGR manage to get 98% 
> of CPU usage, compared to only around 75% for the R GUI.
>
> I guess my questions are:
>
> 1) Why the difference in speed when its on the same machine?

Just a guess, but are you running into memory issues and swapping?  I 
don't know how much more memory the GUI version uses over the 
command-line version--I would have thought not that much.

> 2) Is there any way of tweaking R GUI to make it run faster, a la R in 
> the terminal?
>
> Any help would be appreciated.
>
> Best regards,
>
> Sam.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From tlumley at u.washington.edu  Wed Apr 20 17:42:31 2005
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed Apr 20 17:42:46 2005
Subject: [R-SIG-Mac] R GUI slow on mac?
In-Reply-To: <54f3cb7570bd3ca5aec41269aa3e5dae@mail.nih.gov>
References: <855d8ba160269112c36fa2501e06fa79@glam.ac.uk>
	<54f3cb7570bd3ca5aec41269aa3e5dae@mail.nih.gov>
Message-ID: <Pine.A41.4.61b.0504200840380.12952@homer09.u.washington.edu>


I think the difference in speed is related to the interrupt processing 
calls.  It was most dramatic in the beta (or binomial?) distribution code, 
but that got rewritten to do fewer calls.

Periodic checking for events is necessary, but the R Gui seems to do a lot 
more work when it happens.

 	-thomas


On Wed, 20 Apr 2005, Sean Davis wrote:

>
> On Apr 20, 2005, at 10:40 AM, Samuel E. Kemp wrote:
>
>> Hi,
>> 
>> I have R version 2.0.1 on my PowerBook G4 1.5Ghz, 512RAM, running OS X 
>> 10.3.9. I have noticed that the "official" R GUI runs considerably slower 
>> than R in the terminal and also JGR. Whilst the differences in speed are 
>> unimportant for simple parametric stats, it becomes a bit of a pig when 
>> doing non-parametric stats e.g. neural nets, feature selection algorithms.
>> 
>> In all my experiments I have set my CPU speed to "maximum" in system 
>> preferences. I have also looked at the CPU usage for each implementation: 
>> on average R in the terminal and JGR manage to get 98% of CPU usage, 
>> compared to only around 75% for the R GUI.
>> 
>> I guess my questions are:
>> 
>> 1) Why the difference in speed when its on the same machine?
>
> Just a guess, but are you running into memory issues and swapping?  I don't 
> know how much more memory the GUI version uses over the command-line 
> version--I would have thought not that much.
>
>> 2) Is there any way of tweaking R GUI to make it run faster, a la R in the 
>> terminal?
>> 
>> Any help would be appreciated.
>> 
>> Best regards,
>> 
>> Sam.
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

Thomas Lumley			Assoc. Professor, Biostatistics
tlumley@u.washington.edu	University of Washington, Seattle

From stefano.iacus at unimi.it  Wed Apr 20 17:43:40 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Wed Apr 20 17:43:50 2005
Subject: [R-SIG-Mac] R GUI slow on mac?
In-Reply-To: <855d8ba160269112c36fa2501e06fa79@glam.ac.uk>
References: <855d8ba160269112c36fa2501e06fa79@glam.ac.uk>
Message-ID: <14a40d46e1762702ed849c5d13200c15@unimi.it>


On 20/apr/05, at 16:40, Samuel E. Kemp wrote:

> Hi,
>
> I have R version 2.0.1 on my PowerBook G4 1.5Ghz, 512RAM, running OS X 
> 10.3.9. I have noticed that the "official" R GUI runs considerably 
> slower than R in the terminal and also JGR. Whilst the differences in 
> speed are unimportant for simple parametric stats, it becomes a bit of 
> a pig when doing non-parametric stats e.g. neural nets, feature 
> selection algorithms.
>
> In all my experiments I have set my CPU speed to "maximum" in system 
> preferences. I have also looked at the CPU usage for each 
> implementation: on average R in the terminal and JGR manage to get 98% 
> of CPU usage, compared to only around 75% for the R GUI.
>
> I guess my questions are:
>
> 1) Why the difference in speed when its on the same machine?
R.app is a GUI app (embedding R) and not just a wrapper around a 
terminal command. Which means that R.app calls R for computation, but 
during R computation some time is spent to handle user events back in 
R.app. It's a real problem, we can't do anything in this direction 
until we change the R internal event loop (you can search r-devel 
maling list).



> 2) Is there any way of tweaking R GUI to make it run faster, a la R in 
> the terminal?
no

The best thing to do is to use the cmd line version in batch mode, i.e. 
R CMD BATCH --vanilla myscript.R

This is what I actually do when  I don't need interaction on unix as 
well (which is the case of very long computational tasks)
stefano


>
> Any help would be appreciated.
>
> Best regards,
>
> Sam.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From simon.urbanek at r-project.org  Wed Apr 20 17:56:17 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed Apr 20 17:56:28 2005
Subject: [R-SIG-Mac] R GUI slow on mac?
In-Reply-To: <54f3cb7570bd3ca5aec41269aa3e5dae@mail.nih.gov>
References: <855d8ba160269112c36fa2501e06fa79@glam.ac.uk>
	<54f3cb7570bd3ca5aec41269aa3e5dae@mail.nih.gov>
Message-ID: <3969C266-2C1E-422B-AFDA-E82EA4CBD345@r-project.org>

On Apr 20, 2005, at 10:08 AM, Sean Davis wrote:


> On Apr 20, 2005, at 10:40 AM, Samuel E. Kemp wrote:
>
>
>> I have R version 2.0.1 on my PowerBook G4 1.5Ghz, 512RAM, running  
>> OS X 10.3.9. I have noticed that the "official" R GUI runs  
>> considerably slower than R in the terminal and also JGR. Whilst  
>> the differences in speed are unimportant for simple parametric  
>> stats, it becomes a bit of a pig when doing non-parametric stats  
>> e.g. neural nets, feature selection algorithms.
>>

If I remember correctly there was an issue in the internals of pbinom  
where the R_ProcessEvents was called quite often during long  
iterations for extreme p and R_ProcessEvents is not a cheap operation  
in the way R GUI implements it (it should be in the archives). This  
was fixed in R 2.1 so please be patient just a few more days until we  
release R 2.1 binaries and R GUI 1.10.


> Just a guess, but are you running into memory issues and swapping?   
> I don't know how much more memory the GUI version uses over the  
> command-line version--I would have thought not that much.
>

Swapping issue would be really surprising - JGR uses Java and it  
definitely uses more memory than the Cocoa GUI ;). JGR uses threads,  
so it doesn't have to rely on R_ProcessEvents - that may be the  
reason why it doesn't affect the speed as much as R GUI does.

Cheers,
Simon

From jmagalhaes at oninetspeed.pt  Thu Apr 21 12:12:46 2005
From: jmagalhaes at oninetspeed.pt (=?ISO-8859-1?Q?Jorge_Manuel_de_Almeida_Magalh=E3es?=)
Date: Thu Apr 21 14:35:57 2005
Subject: [R-SIG-Mac] rgl on OSX
Message-ID: <c549798b8c900fe4b25ded790ac1ef60@oninetspeed.pt>

Dear Sir,

I would like make some 3D graphics with RGL.

Did you know how i can fix this related problem.

Your post tmessage:

Looking at the .FirstLib code of rgl I saw

.First.lib <- function(lib, pkg)
{
    # For MacOS X we have to remove /usr/X11R6/lib from the
DYLD_LIBRARY_PATH
    # because it would override Apple's OpenGL framework

Sys.putenv("DYLD_LIBRARY_PATH"=sub("/usr/X11R6/
lib","",Sys.getenv("DYLD_LIBRARY_PATH")))

    # load shared library

    library.dynam( "rgl", pkg, lib)

    ret <- .C( symbol.C("rgl_init"),
      success=FALSE
    )

    if (!ret$success) {
      dyn.unload( file.path( libpath, "libs", paste( "rgl",
.Platform$dynlib.ext, sep="") ) )
      stop("error rgl_init")
    }

}

If I suppress the line starting with Sys.putenv ("....
than I get the same error as you.
If I leave as it is, I simply cannot load the library.

From Michael.C.Herron at Dartmouth.EDU  Thu Apr 21 16:13:26 2005
From: Michael.C.Herron at Dartmouth.EDU (Michael Herron)
Date: Thu Apr 21 17:15:23 2005
Subject: [R-SIG-Mac] R.app crash report (very minor)
Message-ID: <df3377374a75299ae07cca3b67e83c04@Dartmouth.edu>

Hello.

I just compiled R 2.1.0 on OS X.

I start R, which seems ok, and then:

 > update.packages()
--- Please select a CRAN mirror for use in this session ---
Error in inherits(x, "factor") : Object "res" not found

This error is new to me.  I have compiled R on a number of OS X 
machines in the past and have not seen it.

I'm sure that this is easily fixed on my end so I am not asking for 
help.  Rather, given that this did not happen in previous Rs, perhaps 
there is a bug somewhere.

mh

From john.marsland at wmgfunds.com  Thu Apr 21 18:15:13 2005
From: john.marsland at wmgfunds.com (John Marsland)
Date: Thu Apr 21 18:39:34 2005
Subject: [R-SIG-Mac] timeSequence()
Message-ID: <72d00337af0287f8160dc69f7833f835@wmgfunds.com>

I'm new to Rmetrics and I've been looking at the fCalendar package with 
a view to using it to replace the "its" package in my work. However, I 
am having difficulties with the example for timeSequence().

 > timeSequence(from = "2004-01-01", to = format(Sys.time(), "%Y-%m-%d"),
+         by = "day", length.out = NULL, format = "", FinCenter = 
myFinCenter)
Error in seq.POSIXt(from = from, to = to, by = by) :
	`to' must be later than `from'

I think the problem lies in default value for format which should be 
NULL rather than "". This seems to apply to the function itself as well 
as the example.

Am I missing something?

Regards,

John
	[[alternative text/enriched version deleted]]

From simon.urbanek at r-project.org  Thu Apr 21 19:03:54 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu Apr 21 19:03:59 2005
Subject: [R-SIG-Mac] R.app crash report (very minor)
In-Reply-To: <df3377374a75299ae07cca3b67e83c04@Dartmouth.edu>
References: <df3377374a75299ae07cca3b67e83c04@Dartmouth.edu>
Message-ID: <2C573B05-F866-4F3B-8604-40CA366BFDEB@r-project.org>

Michael,

On Apr 21, 2005, at 9:13 AM, Michael Herron wrote:

> > update.packages()
> --- Please select a CRAN mirror for use in this session ---
> Error in inherits(x, "factor") : Object "res" not found
>
> This error is new to me.  I have compiled R on a number of OS X  
> machines in the past and have not seen it.

The subject of your mail differs substantially from the error you  
describe - the above is an error message in R and hence has nothing  
to do with R.app.

Can you, please, be more specific as of how exactly you compiled R  
(with tcl/tk or without - aqua or X11 ...), which versions you use  
(R, R.app 1.01/1.02/1.10, SVN release number, ..) and how you ran it  
(Terminal, emacs, R.app, ...)? That information is really necessary  
in order to track it down, because there are simply too many  
possibilities to build and run R on the Mac nowadays (and we didn't  
release an official reference binary yet).

Cheers,
Simon

From ellis at stat.harvard.edu  Fri Apr 22 08:57:12 2005
From: ellis at stat.harvard.edu (Byron Ellis)
Date: Fri Apr 22 08:57:27 2005
Subject: [R-SIG-Mac] bug in RQuartz?
Message-ID: <fcb9285580d78e2f7ad44a83d8e03455@stat.harvard.edu>

There appears to be a retain/release error somewhere in the RQuartz 
device. Occasionally graphics devices will become detached from the R 
representation of the device causing a crash. Haven't tracked down the 
source but it seems to come up eventually under heavy graphics usage 
(but only even a single device).

---
Byron Ellis (ellis@stat.harvard.edu)
"Oook" -- The Librarian

From Michael.C.Herron at Dartmouth.EDU  Thu Apr 21 22:14:58 2005
From: Michael.C.Herron at Dartmouth.EDU (Michael Herron)
Date: Fri Apr 22 10:14:35 2005
Subject: [R-SIG-Mac] R.app crash report (very minor)
In-Reply-To: <2C573B05-F866-4F3B-8604-40CA366BFDEB@r-project.org>
References: <df3377374a75299ae07cca3b67e83c04@Dartmouth.edu>
	<2C573B05-F866-4F3B-8604-40CA366BFDEB@r-project.org>
Message-ID: <910ae4da2c302afa103dfdd05fce9ada@Dartmouth.edu>

Simon,

>> > update.packages()
>> --- Please select a CRAN mirror for use in this session ---
>> Error in inherits(x, "factor") : Object "res" not found
>>
>> This error is new to me.  I have compiled R on a number of OS X 
>> machines in the past and have not seen it.
>
> The subject of your mail differs substantially from the error you 
> describe - the above is an error message in R and hence has nothing to 
> do with R.app.
>
> Can you, please, be more specific as of how exactly you compiled R 
> (with tcl/tk or without - aqua or X11 ...), which versions you use (R, 
> R.app 1.01/1.02/1.10, SVN release number, ..) and how you ran it 
> (Terminal, emacs, R.app, ...)? That information is really necessary in 
> order to track it down, because there are simply too many 
> possibilities to build and run R on the Mac nowadays (and we didn't 
> release an official reference binary yet).

Here is the top of my config.log:

It was created by R configure 2.1.0, which was
generated by GNU Autoconf 2.59.  Invocation command line was

   $ ./configure --with-blas=-framework vecLib --with-lapack --with-aqua 
--enable-R-shlib --with-tcltk --with-lapack

I have the error from Terminal and from xemacs running ESS; I have not 
run R.app.  In fact, after making and installing R I do not seem to 
have R.app in /Applications.  I have never checked on this, to be 
honest, since I use R only from within xemacs.

What else can I tell you that would be helpful?

Thanks,

Michael

From gene02_rsigmac at smalltime.com  Fri Apr 22 23:07:30 2005
From: gene02_rsigmac at smalltime.com (gene)
Date: Fri Apr 22 23:09:44 2005
Subject: [R-SIG-Mac] Optimization flags for G5 and G4
In-Reply-To: <EC351ED3-2725-44E2-BB99-AC411E458C3C@r-project.org>
References: <200502081115.j18BF8PF015259@hypatia.math.ethz.ch>
	<984d7b204db97bcd4de21949209b1ad2@unsw.edu.au>
	<EC351ED3-2725-44E2-BB99-AC411E458C3C@r-project.org>
Message-ID: <35fa2002603fd8120986fabe52cedc9e@smalltime.com>

I tried following Simon's guide to optimization flags, but I'm getting 
stuck.

Here are my compiler versions:
 > gcc -v
Reading specs from 
/usr/local/lib/gcc/powerpc-apple-darwin7.7.0/4.0.0-autovect/specs
Configured with: ../gcc/configure --enable-threads=posix 
--enable-languages=f95
Thread model: posix
gcc version 4.0.0-autovect 20050128 (experimental, 
autovect-merge-20041213)

I downloaded g77 from hps.sourceforge.net:
 > g77 -v
Reading specs from 
/usr/local/lib/gcc/powerpc-apple-darwin6.8/3.4.2/specs
Configured with: ../gcc/configure --enable-threads=posix 
--enable-languages=f77 --disable-shared --enable-static
Thread model: posix
gcc version 3.4.2

Should I be worried that it mentions a different gcc version?


I had to take out some of the optimizer flags Simon lists because they 
were not recognized:
gcc: -falign-jumps-max-skip=15 -falign-loops-max-skip=15
g77: -ftree-vectorize


Finally, after running ./configure --with-blas='-framework vecLib' 
--with-lapack --with-aqua I get:
WARNING: g77 and gcc disagree on int and double

config.log shows a bunch of errors that look like this: ld instruction 
is only for 64-bit implementations (not allowed without 
-force_cpusubtype_ALL option)

From simon.urbanek at r-project.org  Sat Apr 23 01:35:15 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat Apr 23 01:35:23 2005
Subject: [R-SIG-Mac] Optimization flags for G5 and G4
In-Reply-To: <35fa2002603fd8120986fabe52cedc9e@smalltime.com>
References: <200502081115.j18BF8PF015259@hypatia.math.ethz.ch>
	<984d7b204db97bcd4de21949209b1ad2@unsw.edu.au>
	<EC351ED3-2725-44E2-BB99-AC411E458C3C@r-project.org>
	<35fa2002603fd8120986fabe52cedc9e@smalltime.com>
Message-ID: <8C8F48E5-FDFE-4CB7-9F49-C7D3848CF343@r-project.org>

Gene,

On Apr 22, 2005, at 4:07 PM, gene wrote:


> gcc version 4.0.0-autovect 20050128 (experimental, autovect- 
> merge-20041213)
>
> > g77 -v
> gcc version 3.4.2
>
> Should I be worried that it mentions a different gcc version?
>

Yes. You will need to download the corresponding gfortran from the  
gcc4 suite (also available on the hpc pages).


> Finally, after running ./configure --with-blas='-framework vecLib'  
> --with-lapack --with-aqua I get:
> WARNING: g77 and gcc disagree on int and double
>

gcc3 (and hence your g77) has no G5 support - you need gcc4 in order  
to get optimized binaries.

Cheers,
Simon

From chabotd at globetrotter.net  Sat Apr 23 19:09:38 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Sat Apr 23 19:10:30 2005
Subject: [R-SIG-Mac] Re: build 1394
In-Reply-To: <200504231000.j3NA022v006001@hypatia.math.ethz.ch>
References: <200504231000.j3NA022v006001@hypatia.math.ethz.ch>
Message-ID: <994935fb0f947a6200f90707fa42301e@globetrotter.net>

Hi, I've tried today's build (1408) of R cocoa gui and it still gives 
me an error -10810 when I try to use it. At least one other user has 
confirmed this type of problem in the last few days, but I did not see 
an explanation. Is there one? Must I do something to my setup for these 
newer versions of R cocoa gui to work?

On a different topic, I see that the Mac OS X page on CRAN now lists a 
folder of R 2.1 packages compiled for Mac OS X. But when will there be 
a simple installer (on a .dmg) for R2.1?

Thanks,

Denis

From stefano.iacus at unimi.it  Sat Apr 23 21:22:13 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Sat Apr 23 21:22:20 2005
Subject: [R-SIG-Mac] Re: build 1394
In-Reply-To: <994935fb0f947a6200f90707fa42301e@globetrotter.net>
References: <200504231000.j3NA022v006001@hypatia.math.ethz.ch>
	<994935fb0f947a6200f90707fa42301e@globetrotter.net>
Message-ID: <04800b8438642cdc85ba98a5c0710059@unimi.it>


On 23/apr/05, at 19:09, Denis Chabot wrote:

> Hi, I've tried today's build (1408) of R cocoa gui and it still gives 
> me an error -10810 when I try to use it. At least one other user has 
> confirmed this type of problem in the last few days, but I did not see 
> an explanation. Is there one? Must I do something to my setup for 
> these newer versions of R cocoa gui to work?
>
> On a different topic, I see that the Mac OS X page on CRAN now lists a 
> folder of R 2.1 packages compiled for Mac OS X. But when will there be 
> a simple installer (on a .dmg) for R2.1?

we are preparing packages for the 2.1 and we want to have them mirrored 
for the release. I think we will release VERY soon R.app 2.1

stefano
>
> Thanks,
>
> Denis
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From konis at stats.ox.ac.uk  Wed Apr 27 10:36:42 2005
From: konis at stats.ox.ac.uk (Kjell Konis)
Date: Wed Apr 27 10:36:50 2005
Subject: [R-SIG-Mac] R locale on Mac OS X
In-Reply-To: <Pine.LNX.4.61.0504270642550.18495@gannet.stats>
References: <C698D707214E6F4AB39AB7096C3DE5A59E8F2A@phost015.EVAFUNDS.intermedia.net>
	<Pine.LNX.4.61.0504270642550.18495@gannet.stats>
Message-ID: <03ac17ef533af9daaf58025bce939815@stats.ox.ac.uk>

Hi,

I just built R 2.1.0 on my mini following all of the instructions on 
Stefano's site.  Now when I start R the initial message is in German 
but my workspace gets restored in Italian.  Errors and warnings are in 
German as well.

Also, how do I switch to English?

Kjell

> R : Copyright 2005, The R Foundation for Statistical Computing
> Version 2.1.0  (2005-04-18), ISBN 3-900051-07-0
>
> R ist freie Software und kommt OHNE JEGLICHE GARANTIE.
> Sie sind eingeladen, es unter bestimmten Bedingungen weiter zu 
> verbreiten.
> Tippen Sie 'license()' or 'licence()' f"ur Details dazu.
>
> R ist ein Gemeinschaftsprojekt mit vielen Beitragenden.
> Tippen Sie 'contributors()' f"ur mehr Information und 'citation()',
> um zu erfahren, wie R oder R packages in Publikationen zitiert werden 
> k"onnen.
>
> Tippen Sie 'demo()' f"ur einige Demos, 'help()' f"ur on-line Hilfe, 
> oder
> 'help.start()' f"ur eine HTML Browserschnittstelle zur Hilfe.
> Tippen Sie 'q()', um R zu verlassen.
>
> [Caricato workspace precedentemente salvato]

From simon.urbanek at r-project.org  Wed Apr 27 16:07:14 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed Apr 27 16:07:23 2005
Subject: [R-SIG-Mac] R locale on Mac OS X
In-Reply-To: <03ac17ef533af9daaf58025bce939815@stats.ox.ac.uk>
References: <C698D707214E6F4AB39AB7096C3DE5A59E8F2A@phost015.EVAFUNDS.intermedia.net>
	<Pine.LNX.4.61.0504270642550.18495@gannet.stats>
	<03ac17ef533af9daaf58025bce939815@stats.ox.ac.uk>
Message-ID: <32C26A83-C6C3-4561-8596-603379542C93@r-project.org>

Hi Kjell,

On Apr 27, 2005, at 4:36 AM, Kjell Konis wrote:

> I just built R 2.1.0 on my mini following all of the instructions  
> on Stefano's site.  Now when I start R the initial message is in  
> German but my workspace gets restored in Italian.  Errors and  
> warnings are in German as well.

As with all Mac posts nowadays - please tell us how exactly you use  
it (Terminal, Emacs, R.app,...) which versions of the accompanying  
programs etc.

If you use R from (any) shell, regular unix rules apply - i.e. the  
locale is determined by your environment settings. Therefore by  
setting the local environment variables you choose the locale. Still,  
I'm wondering how you get that mix of german and italian - I'd really  
like to have steps to reproduce this.. dump of your environment vars  
would be helpful..

If you're using the GUI (R.app) then things are different. The GUI  
uses your System Settings to set the locale - i.e. make sure you have  
set both "Language" and "Formats" correctly. If you use the most  
recent R.app from the SVN then you can set "ignore.system.locale" to  
YES in "org.R-project.R" defaults to force english locale. In the  
case you use R.app - what language are the menus in?

Cheers,
Simon

From konis at stats.ox.ac.uk  Wed Apr 27 17:15:50 2005
From: konis at stats.ox.ac.uk (Kjell Konis)
Date: Wed Apr 27 17:15:59 2005
Subject: [R-SIG-Mac] R locale on Mac OS X
In-Reply-To: <32C26A83-C6C3-4561-8596-603379542C93@r-project.org>
References: <C698D707214E6F4AB39AB7096C3DE5A59E8F2A@phost015.EVAFUNDS.intermedia.net>
	<Pine.LNX.4.61.0504270642550.18495@gannet.stats>
	<03ac17ef533af9daaf58025bce939815@stats.ox.ac.uk>
	<32C26A83-C6C3-4561-8596-603379542C93@r-project.org>
Message-ID: <036b9e5adf61fcd99f0f07b921bde0e2@stats.ox.ac.uk>

I still run R in the terminal.  I had my LAND variable set to en which 
is why I wasn't getting English (it should have been LANG=en).  It's 
been set that way for over a year and this is the first oddity that has 
come up (:

You can probably reproduce the behavior by unsetting your LANG variable.

Here is a dump of my environment:

TERM_PROGRAM=Apple_Terminal
TERM=xterm-color
SHELL=/bin/bash
HISTSIZE=1000

TERM_PROGRAM_VERSION=100.1.4
HISTFILESIZE=0
USER=konis
__CF_USER_TEXT_ENCODING=0xBE8:0:0
PAGER=less
PATH=/opt/local/bin:/bin:/sbin:/usr/bin:/usr/sbin

EDITOR=pico
FCEDIT=pico
LAND=en
PS1=[\h] \W>
SHLVL=1


LOGNAME=konis
CVS_RSH=ssh
VISUAL=pico

_=/usr/bin/env



Kjell

On Apr 27, 2005, at 3:07 PM, Simon Urbanek wrote:

>> I just built R 2.1.0 on my mini following all of the instructions on 
>> Stefano's site.  Now when I start R the initial message is in German 
>> but my workspace gets restored in Italian.  Errors and warnings are 
>> in German as well.
>
> As with all Mac posts nowadays - please tell us how exactly you use it 
> (Terminal, Emacs, R.app,...) which versions of the accompanying 
> programs etc.
>
> If you use R from (any) shell, regular unix rules apply - i.e. the 
> locale is determined by your environment settings. Therefore by 
> setting the local environment variables you choose the locale. Still, 
> I'm wondering how you get that mix of german and italian - I'd really 
> like to have steps to reproduce this.. dump of your environment vars 
> would be helpful..
>
> If you're using the GUI (R.app) then things are different. The GUI 
> uses your System Settings to set the locale - i.e. make sure you have 
> set both "Language" and "Formats" correctly. If you use the most 
> recent R.app from the SVN then you can set "ignore.system.locale" to 
> YES in "org.R-project.R" defaults to force english locale. In the case 
> you use R.app - what language are the menus in?

From goedman at mac.com  Thu Apr 28 01:21:41 2005
From: goedman at mac.com (Rob J Goedman)
Date: Thu Apr 28 01:22:01 2005
Subject: [R-SIG-Mac] Re: [R] tcl/tk problem
In-Reply-To: <p06110413be95b8577074@[128.32.214.130]>
References: <p06110413be95b8577074@[128.32.214.130]>
Message-ID: <0e16d2641386d0d9399d369284cfc4d4@mac.com>

Hi Jennifer,

You need to start X11 before loading tcltk.

Rob


On Apr 27, 2005, at 3:57 PM, Jennifer Skene wrote:

> I have JUST started using R.  I am using R 2.0.1 on a mac (os x) to  
> run another program (called GRASPER, Generalized Regression Analysis  
> and Spatial Prediction for R).  When I try to run Grasper, I get an  
> error for tcl/tk:
>
>>  library(grasper)
> Loading required package: mgcv
> This is mgcv 1.1-8
> Loading required package: MASS
> Loading required package: tcltk
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
> 	unable to load shared library  
> "/Library/Frameworks/R.framework/Resources/library/tcltk/libs/ 
> tcltk.so":
>   dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open  
> library: /usr/X11R6/lib/libX11.6.dylib  (No such file or directory,  
> errno = 2)
> Error: .onLoad failed in loadNamespace for 'tcltk'
> Error: package 'tcltk' could not be loaded
>
>
> However, tcl/tk appears to be there:
>
>>  capabilities()
>     jpeg      png    tcltk      X11    GNOME     libz http/ftp  sockets
>     TRUE     TRUE     TRUE     TRUE    FALSE     TRUE     TRUE     TRUE
>   libxml     fifo   cledit  IEEE754    bzip2     PCRE
>     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE
>
> Does anyone know of a solution to this?
>
> Thanks,
> Jennifer Skene
>
> ______________________________________________
> R-help@stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide!  
> http://www.R-project.org/posting-guide.html

From simon.urbanek at r-project.org  Thu Apr 28 03:57:35 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu Apr 28 03:57:42 2005
Subject: [R-SIG-Mac] Re: [R] tcl/tk problem
In-Reply-To: <0e16d2641386d0d9399d369284cfc4d4@mac.com>
References: <p06110413be95b8577074@[128.32.214.130]>
	<0e16d2641386d0d9399d369284cfc4d4@mac.com>
Message-ID: <4DDBB3FC-B315-45B3-8F43-06519BD01E18@r-project.org>

Jennifer,

On Apr 27, 2005, at 7:21 PM, Rob J Goedman wrote:

> You need to start X11 before loading tcltk.

Rob is right, of course. In fact, you need to install it [X11] in the  
first place... If you use Mac OS X 10.3 or higher, it's located on  
the installation CDs/DVD - look for the X11User.pkg (depending on the  
exact version it may be well hidden). For 10.2 or older you need  
either Apple's beta or XDarwin, whichever you'll find first.

You will also need the tcltk library itself which is supplied in the  
CRAN installer, but optional by default.

Cheers,
Simon

>> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>>     unable to load shared library "/Library/Frameworks/R.framework/ 
>> Resources/library/tcltk/libs/tcltk.so":
>>   dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open  
>> library: /usr/X11R6/lib/libX11.6.dylib  (No such file or  
>> directory, errno = 2)

From stefano.iacus at unimi.it  Thu Apr 28 15:48:10 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Thu Apr 28 15:48:21 2005
Subject: [R-SIG-Mac] R 2.1.0 for Mac OS X released
Message-ID: <e0cb11deea48d7ae5d9dcef3728fc1da@unimi.it>

[apologizes for cross-posting]


In addition to support for innovations in R itself (see the official 
R-2.1.0 announcement, accessible via the Help menu) this new version 
provides a very significant, must-have update of the Cocoa-based GUI 
for R:
- Major enhancements to the built-in editor, such as configurable 
syntax coloring, brace highlighting, line numbers, submission of edited 
text and a toolbar featuring access to a function index field for fast 
access to chunk of codes and abbreviated help.
- Drag and drop capability has been extended and startup behavior is 
controlled by the user via preference settings (e.g. the initial 
working directory can be specified once in the preferences or can be 
changed at startup using the location of a directory/file dropped on 
the R icon).
- Command history loading and saving is compatible to R versions on 
other platforms.
- Enhanced command and/or file completion on the R Console.
- Configurable Quartz graphics settings to override standard R settings.
- Quartz windows can be saved (in PDF format) and printed directly from 
the menu.
- R.app is fully internationalized, supporting special characters.
- Localized versions for English, German, French, Italian and Japanese 
(in high demand!) are available.
- Enhanced integrated help system.
- Substantially updated Mac OS X FAQ to reflect changes in the new 
version of R.app.
- CRAN mirror can be now specified by the user interactively or in 
preferences and the choice applies to all internet activity related to 
packages installation and updating.
- Improved installer for contributed packages, resolving several issues 
(e.g. on authentication).
- Updated, pre-compiled binaries for Mac OS X for hundreds of available 
R source packages, including the BioConductor suite(*).
- Many fixes and optimizations to speed up R.app and to add stability 
to the GUI.

This version requires Mac OS X 10.3 (Panther) or higher and it is fully 
compatible with upcoming Mac OS X 10.4 (Tiger), even using some new, 
exciting features of Tiger!  Mac OS X 10.2 users can still work with 
previous versions of R.app.

(*) Note for BioConductor users: BioC v1.5 is not compatible with 
R-2.1.0 and BioC v1.6 (compatible with R-2.1.0) is announced for May 
16th 2005. So BioC OS X binaries for this release of R 2.1.0 will be 
available after May 16th 2005.

From macq at llnl.gov  Thu Apr 28 19:46:00 2005
From: macq at llnl.gov (Don MacQueen)
Date: Thu Apr 28 19:46:14 2005
Subject: [R-SIG-Mac] Consistency of information about installed packages
Message-ID: <p06210207be96cc3fb03d@[128.115.153.6]>

It appears to me that the Gui-based installer for binary format 
packages in the new R 2.1.0 binary distribution can report a package 
as installed when in fact it has not been successfully installed. 
This results from a previous attempt to install the package from 
source code that failed.

Details:

I just installed the new R 2.1.0 binary for OS X.
I installed over the existing R 2.0.1, which had also been installed 
from the binary.
Other then the fact that it was installed over the previous version, 
this is a completely fresh installation of R 2.1.0.

I started R by double-clicking R.app.
The very first thing I tried to do was to install the deldir package.
In the console, I typed
    install.packages('deldir')

The installation failed, final message was
   "installation of package 'deldir' had a non-zero exit status..."

I then went to the GUI menu item for installing binary format 
packages. I found deldir. However, it told me I had an installed 
version of deldir (there was an entry in the "Installed Version" 
column of the GUI window). Since the attempt to install from source 
had failed, this is not correct.

The version number for deldir in the GUI package installer window was 
the same as that of the attempt to install from source.
I had not installed deldir in R 2.0.1 (even if I had, it shouldn't be 
relevant, I believe)

-Don
-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA

From simon.urbanek at r-project.org  Thu Apr 28 20:09:23 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu Apr 28 20:09:32 2005
Subject: [R-SIG-Mac] Consistency of information about installed packages
In-Reply-To: <p06210207be96cc3fb03d@[128.115.153.6]>
References: <p06210207be96cc3fb03d@[128.115.153.6]>
Message-ID: <7F67B0F3-8965-4FA1-B111-799495C2DE9C@r-project.org>

Don,

On Apr 28, 2005, at 1:46 PM, Don MacQueen wrote:

> The installation failed, final message was
>   "installation of package 'deldir' had a non-zero exit status..."

This doesn't necessarily mean that the installation failed. Does
library(deldir)
work?

> I then went to the GUI menu item for installing binary format  
> packages. I found deldir. However, it told me I had an installed  
> version of deldir (there was an entry in the "Installed Version"  
> column of the GUI window). Since the attempt to install from source  
> had failed, this is not correct.

See above - the installation may have been successful with non-zero  
exit status. In that case it may be ineresting to figure out why  
exactly (I remember that sometimes the script tries to change  
permissions of the .css file, which fails depending on your setup,  
but that's irrelevat for the package), but if a package is retained  
after installation it usaully indicates that the installation was  
successful, regardles of the exit status.

Cheers,
Simon

From goedman at mac.com  Thu Apr 28 20:10:54 2005
From: goedman at mac.com (Rob J Goedman)
Date: Thu Apr 28 20:11:06 2005
Subject: [R-SIG-Mac] Consistency of information about installed packages
In-Reply-To: <p06210207be96cc3fb03d@[128.115.153.6]>
References: <p06210207be96cc3fb03d@[128.115.153.6]>
Message-ID: <02bd0ff32bc18d805909555461946692@mac.com>

Don,

Correct. It does give a hint while installing to remove old versions.

The safe and correct way to install is removing previous versions of R 
(usually in /Applications) and
and R.framework (/Library/Frameworks/R.framework). It might ask for 
authentication to drag these
into the Trash.

If in the past you have used/updated a library in your home directory, 
also remove this library
(~/Library/library).

All packages need to be updated for R-2.1.0.

Hope this helps,
Rob

On Apr 28, 2005, at 10:46 AM, Don MacQueen wrote:

> It appears to me that the Gui-based installer for binary format 
> packages in the new R 2.1.0 binary distribution can report a package 
> as installed when in fact it has not been successfully installed. This 
> results from a previous attempt to install the package from source 
> code that failed.
>
> Details:
>
> I just installed the new R 2.1.0 binary for OS X.
> I installed over the existing R 2.0.1, which had also been installed 
> from the binary.
> Other then the fact that it was installed over the previous version, 
> this is a completely fresh installation of R 2.1.0.
>
> I started R by double-clicking R.app.
> The very first thing I tried to do was to install the deldir package.
> In the console, I typed
>    install.packages('deldir')
>
> The installation failed, final message was
>   "installation of package 'deldir' had a non-zero exit status..."
>
> I then went to the GUI menu item for installing binary format 
> packages. I found deldir. However, it told me I had an installed 
> version of deldir (there was an entry in the "Installed Version" 
> column of the GUI window). Since the attempt to install from source 
> had failed, this is not correct.
>
> The version number for deldir in the GUI package installer window was 
> the same as that of the attempt to install from source.
> I had not installed deldir in R 2.0.1 (even if I had, it shouldn't be 
> relevant, I believe)
>
> -Don
> -- 
> --------------------------------------
> Don MacQueen
> Environmental Protection Department
> Lawrence Livermore National Laboratory
> Livermore, CA, USA
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From odysseus9672 at gmail.com  Thu Apr 28 20:11:39 2005
From: odysseus9672 at gmail.com (Sean)
Date: Thu Apr 28 20:11:31 2005
Subject: [R-SIG-Mac] Missing Color Preference
Message-ID: <4271275B.2090805@gmail.com>

I don't know if this is the appropriate place for feature requests, so 
I'll just make mine and let people correct me later. :)

I love the ability to set text and syntax colors in RAqua. There are 
just two color settings missing. First, and more important, is the 
ability to set the cursor's color. Second, is the highlight color.

Thanks for listening,
Sean

From simon.urbanek at r-project.org  Thu Apr 28 20:30:46 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu Apr 28 20:30:56 2005
Subject: [R-SIG-Mac] Missing Color Preference
In-Reply-To: <4271275B.2090805@gmail.com>
References: <4271275B.2090805@gmail.com>
Message-ID: <4476F4E9-7D3F-44E5-873C-D048280A3252@r-project.org>

Sean,

On Apr 28, 2005, at 2:11 PM, Sean wrote:

> I don't know if this is the appropriate place for feature requests,  
> so I'll just make mine and let people correct me later. :)

Yes, it is :)

> I love the ability to set text and syntax colors in RAqua. There  
> are just two color settings missing. First, and more important, is  
> the ability to set the cursor's color. Second, is the highlight color.

Highlight color can be set in the System Preferences - it is system- 
wide. The cursor color is currently fixed to black. I agree that it  
may be worthwhile to make it configurable (in case you prefer dark  
background...).

Thanks,
Simon

From macq at llnl.gov  Thu Apr 28 20:34:53 2005
From: macq at llnl.gov (Don MacQueen)
Date: Thu Apr 28 20:35:07 2005
Subject: [R-SIG-Mac] Consistency of information about installed
 packages
In-Reply-To: <7F67B0F3-8965-4FA1-B111-799495C2DE9C@r-project.org>
References: <p06210207be96cc3fb03d@[128.115.153.6]>
	<7F67B0F3-8965-4FA1-B111-799495C2DE9C@r-project.org>
Message-ID: <p06210208be96d9f9e7bf@[128.115.153.6]>

I'm sorry, I thought the non-zero exit status message was sufficient 
and definitive.

Yes, it had failed. Prior to that message, it had said, in bright red text,

make: *** [deldir.so] Error 1
ERROR: compilation failed for package 'deldir'

(and prior to that:  ld: can't locate file for : -lbundle1.o)

So I had no doubt that the installation had failed.

library(deldir) works in the sense that it returns no error or warning message.
deldir then shows up 2nd in the search path, but there's nothing there:

>  ls(2)
character(0)

After all this, there is a folder,
   ~/Library/R/Library/deldir
but its contents are incomplete, having only a DESCRIPTION file, and 
'libs' and 'Meta' folders. The libs folder is empty, the Meta folder 
has a single file, package.rds. The contents of the DESCRIPTION file 
look generally ok.

Thanks
-Don

At 2:09 PM -0400 4/28/05, Simon Urbanek wrote:
>Don,
>
>On Apr 28, 2005, at 1:46 PM, Don MacQueen wrote:
>
>>The installation failed, final message was
>>   "installation of package 'deldir' had a non-zero exit status..."
>
>This doesn't necessarily mean that the installation failed. Does
>library(deldir)
>work?
>
>>I then went to the GUI menu item for installing binary format 
>>packages. I found deldir. However, it told me I had an installed 
>>version of deldir (there was an entry in the "Installed Version" 
>>column of the GUI window). Since the attempt to install from source 
>>had failed, this is not correct.
>
>See above - the installation may have been successful with non-zero 
>exit status. In that case it may be ineresting to figure out why 
>exactly (I remember that sometimes the script tries to change 
>permissions of the .css file, which fails depending on your setup, 
>but that's irrelevat for the package), but if a package is retained 
>after installation it usaully indicates that the installation was 
>successful, regardles of the exit status.
>
>Cheers,
>Simon


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA

From odysseus9672 at gmail.com  Thu Apr 28 20:39:01 2005
From: odysseus9672 at gmail.com (Sean)
Date: Thu Apr 28 20:38:56 2005
Subject: [R-SIG-Mac] Missing Color Preference
In-Reply-To: <4476F4E9-7D3F-44E5-873C-D048280A3252@r-project.org>
References: <4271275B.2090805@gmail.com>
	<4476F4E9-7D3F-44E5-873C-D048280A3252@r-project.org>
Message-ID: <42712DC5.9060408@gmail.com>

Simon Urbanek wrote:

> Sean,
>
> On Apr 28, 2005, at 2:11 PM, Sean wrote:
>
>> I love the ability to set text and syntax colors in RAqua. There  are 
>> just two color settings missing. First, and more important, is  the 
>> ability to set the cursor's color. Second, is the highlight color.
>
>
> Highlight color can be set in the System Preferences - it is system- 
> wide. The cursor color is currently fixed to black. I agree that it  
> may be worthwhile to make it configurable (in case you prefer dark  
> background...).
>
> Thanks,
> Simon
>
>
>
Well, I don't actually care about highlight color, I only mentioned it 
because it just happens to be settable in Terminal.app. I just so 
happens that I was using my Terminal.app settings as the point of 
reference for how I wanted to set RAqua.

Yes, it just so happens that I like a black background with off-white text.

Thanks again,
Sean

From macq at llnl.gov  Thu Apr 28 20:53:50 2005
From: macq at llnl.gov (Don MacQueen)
Date: Thu Apr 28 20:54:03 2005
Subject: [R-SIG-Mac] Consistency of information about installed
 packages
In-Reply-To: <02bd0ff32bc18d805909555461946692@mac.com>
References: <p06210207be96cc3fb03d@[128.115.153.6]>
	<02bd0ff32bc18d805909555461946692@mac.com>
Message-ID: <p06210209be96dd5bb2cf@[128.115.153.6]>

Hi, Rob,

The only hint I saw, and it showed up in the Installer, was to remove 
copies of old RAqua. In fact, it says "previous versions of the Cocoa 
GUI are fine". Maybe I didn't look hard enough, but that looked 
pretty definite to me.

I had some packages previously installed; they were, as usual, gone. 
That's of course not a problem; it's expected.

Thanks
-Don

At 11:10 AM -0700 4/28/05, Rob J Goedman wrote:
>Don,
>
>Correct. It does give a hint while installing to remove old versions.
>
>The safe and correct way to install is removing previous versions of 
>R (usually in /Applications) and
>and R.framework (/Library/Frameworks/R.framework). It might ask for 
>authentication to drag these
>into the Trash.
>
>If in the past you have used/updated a library in your home 
>directory, also remove this library
>(~/Library/library).
>
>All packages need to be updated for R-2.1.0.
>
>Hope this helps,
>Rob
>
>On Apr 28, 2005, at 10:46 AM, Don MacQueen wrote:
>
>>It appears to me that the Gui-based installer for binary format 
>>packages in the new R 2.1.0 binary distribution can report a 
>>package as installed when in fact it has not been successfully 
>>installed. This results from a previous attempt to install the 
>>package from source code that failed.
>>
>>Details:
>>
>>I just installed the new R 2.1.0 binary for OS X.
>>I installed over the existing R 2.0.1, which had also been 
>>installed from the binary.
>>Other then the fact that it was installed over the previous 
>>version, this is a completely fresh installation of R 2.1.0.
>>
>>I started R by double-clicking R.app.
>>The very first thing I tried to do was to install the deldir package.
>>In the console, I typed
>>    install.packages('deldir')
>>
>>The installation failed, final message was
>>   "installation of package 'deldir' had a non-zero exit status..."
>>
>>I then went to the GUI menu item for installing binary format 
>>packages. I found deldir. However, it told me I had an installed 
>>version of deldir (there was an entry in the "Installed Version" 
>>column of the GUI window). Since the attempt to install from source 
>>had failed, this is not correct.
>>
>>The version number for deldir in the GUI package installer window 
>>was the same as that of the attempt to install from source.
>>I had not installed deldir in R 2.0.1 (even if I had, it shouldn't 
>>be relevant, I believe)
>>
>>-Don
>>--
>>--------------------------------------
>>Don MacQueen
>>Environmental Protection Department
>>Lawrence Livermore National Laboratory
>>Livermore, CA, USA
>>
>>_______________________________________________
>>R-SIG-Mac mailing list
>>R-SIG-Mac@stat.math.ethz.ch
>>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA

From Alan_Bergland at brown.edu  Thu Apr 28 21:26:07 2005
From: Alan_Bergland at brown.edu (Alan Olav Bergland)
Date: Thu Apr 28 21:26:17 2005
Subject: [R-SIG-Mac] Problem installing R2.1
In-Reply-To: <200504281854.j3SIs9a5009890@hypatia.math.ethz.ch>
References: <200504281854.j3SIs9a5009890@hypatia.math.ethz.ch>
Message-ID: <d36e056eb4e7dc508a16d1f5fbd81999@brown.edu>

Hi all,

I tried installing R 2.1 with the new GUI.  It installed just fine, but 
R.app crashes immediately upon opening.  I'm not sure what the best 
info to send is, so here is a snippet of the crash log.  Any 
suggestions


Date/Time:      2005-04-28 15:23:38 -0400
OS Version:     10.3.9 (Build 7W98)
Report Version: 2

Command: R
Path:    /Applications/R.app/Contents/MacOS/R
Version: 1.10 (1.10)
PID:     818
Thread:  0

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_INVALID_ADDRESS (0x0001) at 0x80000006

Thread 0 Crashed:
0   com.apple.CoreFoundation 	0x901c0f74 CFRetain + 0x20
1   com.apple.CoreFoundation 	0x901dcc74 CFArrayCreate + 0x144
2   com.apple.Foundation     	0x90a6c60c -[NSArray initWithObjects:] + 
0xbc
3   org.R-project.R          	0x00003034 -[RController init] + 0x174
4   com.apple.AppKit         	0x92f6bd80 -[NSCustomObject 
nibInstantiate] + 0x10c
5   com.apple.AppKit         	0x92e9af38 -[NSIBObjectData 
instantiateObject:] + 0xbc
6   com.apple.AppKit         	0x92ea1f64 -[NSIBObjectData 
nibInstantiateWithOwner:topLevelObjects:] + 0x88
7   com.apple.AppKit         	0x92f93d04 loadNib + 0xfc
8   com.apple.AppKit         	0x92eeaf28 +[NSBundle(NSNibLoading) 
_loadNibFile:nameTable:withZone:ownerBundle:] + 0x2e8
9   com.apple.AppKit         	0x92f69e00 +[NSBundle(NSNibLoading) 
loadNibFile:externalNameTable:withZone:] + 0x9c
10  com.apple.AppKit         	0x92f7b5f4 +[NSBundle(NSNibLoading) 
loadNibNamed:owner:] + 0x174
11  com.apple.AppKit         	0x92f69c68 NSApplicationMain + 0x174
12  org.R-project.R          	0x000028f0 _start + 0x188 (crt.c:267)
13  dyld                     	0x8fe1a278 _dyld_start + 0x64

Cheers,
Alan

From simon.urbanek at r-project.org  Thu Apr 28 22:00:37 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu Apr 28 22:00:49 2005
Subject: [R-SIG-Mac] Consistency of information about installed packages
In-Reply-To: <p06210208be96d9f9e7bf@[128.115.153.6]>
References: <p06210207be96cc3fb03d@[128.115.153.6]>
	<7F67B0F3-8965-4FA1-B111-799495C2DE9C@r-project.org>
	<p06210208be96d9f9e7bf@[128.115.153.6]>
Message-ID: <8FD887CA-1241-444C-B2D0-6BFDB0DBD5F2@r-project.org>

Don,

On Apr 28, 2005, at 2:34 PM, Don MacQueen wrote:

> I'm sorry, I thought the non-zero exit status message was  
> sufficient and definitive.
>
> Yes, it had failed. Prior to that message, it had said, in bright  
> red text,
>
> make: *** [deldir.so] Error 1
> ERROR: compilation failed for package 'deldir'

Ok, that qualifies for "failed installation" :).

> library(deldir) works in the sense that it returns no error or  
> warning message.

This is the reason why R.app shows it as installed - the package is  
there and loads. In fact R.app simply asks R about the package list -  
it doesn't try to determine anything on its own. Hence this is not a  
problem in R.app (and has nothing to do with consistency of  
information about installed packages - because it is consistent), but  
rather something with the package installation.

> After all this, there is a folder,
>   ~/Library/R/Library/deldir

Oh, ok - you're installing your own private copy then.

On Apr 28, 2005, at 2:53 PM, Don MacQueen wrote:
> The only hint I saw, and it showed up in the Installer, was to  
> remove copies of old RAqua. In fact, it says "previous versions of  
> the Cocoa GUI are fine". Maybe I didn't look hard enough, but that  
> looked pretty definite to me.

It's ok to install over previous version, no problem, but if you use  
your own private R packages, you cannot share them across R versions  
(that's why personally I recommend to avoid that practice unless you  
have no admin access). The safest thing is to delete ~/Library/R  
after upgrade. We don't want the installer to be destructive, that's  
why don't do it by default.

Nevertheless, I still don't know how you happen to get the half- 
installed package. Did you use the Package Installer or did you  
install it manually? If so, can you reproduce it even after deleting  
~/Library/R?

Cheers,
Simon

From goedman at mac.com  Thu Apr 28 22:44:31 2005
From: goedman at mac.com (Rob J Goedman)
Date: Thu Apr 28 22:44:40 2005
Subject: [R-SIG-Mac] Consistency of information about installed packages
In-Reply-To: <8FD887CA-1241-444C-B2D0-6BFDB0DBD5F2@r-project.org>
References: <p06210207be96cc3fb03d@[128.115.153.6]>
	<7F67B0F3-8965-4FA1-B111-799495C2DE9C@r-project.org>
	<p06210208be96d9f9e7bf@[128.115.153.6]>
	<8FD887CA-1241-444C-B2D0-6BFDB0DBD5F2@r-project.org>
Message-ID: <fcc182caaa54c9efcae6b4c6f68d7945@mac.com>

Hi Don and Simon,

On Apr 28, 2005, at 1:00 PM, Simon Urbanek wrote:

>> The only hint I saw, and it showed up in the Installer, was to remove 
>> copies of old RAqua. In fact, it says "previous versions of the Cocoa 
>> GUI are fine". Maybe I didn't look hard enough, but that looked 
>> pretty definite to me.
>
> It's ok to install over previous version, no problem, but if you use 
> your own private R packages, you cannot share them across R versions 
> (that's why personally I recommend to avoid that practice unless you 
> have no admin access). The safest thing is to delete ~/Library/R after 
> upgrade. We don't want the installer to be destructive, that's why 
> don't do it by default.

I know, but if you install R-2.1.0 on top of an existing install, 
except the default libraries, doesn't it leave
all other libraries in the system library folder intact as well? I've 
not seen many problems with packages in
this upgrade (from R-2.0.1 to R-2.1.0), but isn't it a good idea to 
pick up a fresh set of packages? Hence
my earlier suggestion to delete  both /Library/Frameworks/R.framework 
and ~/Library/R/library before
doing the install. And thanks to Stefano nearly all of them are 
available in binary format on the CRAN
web site.

If Don has a copy of deldir in the system library, could this behaviour 
be the result?

Maybe helpful for other folks on the mailing list, on the other part of 
Simon's earlier response:

> I remember that sometimes the script tries to change permissions of 
> the .css file, which fails depending on your setup, but that's 
> irrelevat for the package), but if a package is retained after 
> installation it usaully indicates that the installation was 
> successful, regardles of the exit status.

Indeed, I typically change the permissions of the R.css file
( /Library/Frameworks/R.framework/Resources/library/R.css ) to allow 
Read & Write
permissions by myself.

Rob

From simon.urbanek at r-project.org  Thu Apr 28 23:04:52 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu Apr 28 23:05:01 2005
Subject: [R-SIG-Mac] Consistency of information about installed packages
In-Reply-To: <fcc182caaa54c9efcae6b4c6f68d7945@mac.com>
References: <p06210207be96cc3fb03d@[128.115.153.6]>
	<7F67B0F3-8965-4FA1-B111-799495C2DE9C@r-project.org>
	<p06210208be96d9f9e7bf@[128.115.153.6]>
	<8FD887CA-1241-444C-B2D0-6BFDB0DBD5F2@r-project.org>
	<fcc182caaa54c9efcae6b4c6f68d7945@mac.com>
Message-ID: <35CD10C6-17EA-4DC2-97D3-F1AA637ECB77@r-project.org>

On Apr 28, 2005, at 4:44 PM, Rob J Goedman wrote:

> On Apr 28, 2005, at 1:00 PM, Simon Urbanek wrote:
>
>> It's ok to install over previous version, no problem, but if you  
>> use your own private R packages, you cannot share them across R  
>> versions (that's why personally I recommend to avoid that practice  
>> unless you have no admin access). The safest thing is to delete ~/ 
>> Library/R after upgrade. We don't want the installer to be  
>> destructive, that's why don't do it by default.
>>
>
> I know, but if you install R-2.1.0 on top of an existing install,  
> except the default libraries, doesn't it leave
> all other libraries in the system library folder intact as well?

It does, but they are in let's say
/Library/Frameworks/R.framework/Versions/2.0.1/Resources/library
so they won't bother your most recent R which will look in
/Library/Frameworks/R.framework/Versions/2.1.0/Resources/library

In fact each R (unless you use R_HOME or patch the R script) will  
look into
/Library/Frameworks/R.framework/Resources/library
which symlinks to
/Library/Frameworks/R.framework/Versions/Current/Resources/library
and "Current" is the symlink that the installer changes to point to  
2.1.0

The bottom line is that each new version of R framework doesn't care  
about any other installed version and won't touch it(*).

> I've not seen many problems with packages in this upgrade (from  
> R-2.0.1 to R-2.1.0), but isn't it a good idea to pick up a fresh  
> set of packages?

Yes, but the fact that the paths are different will force you to re- 
install system-wide packages anyway.(**)

> If Don has a copy of deldir in the system library, could this  
> behaviour be the result?

It should not, because install.packages won't touch any other  
locations than the one it is told to install the package into. It  
doesn't care if there are other versions around, either (AFAIK).

>> I remember that sometimes the script tries to change permissions  
>> of the .css file, which fails depending on your setup, but that's  
>> irrelevat for the package), but if a package is retained after  
>> installation it usaully indicates that the installation was  
>> successful, regardles of the exit status.
>>
>
> Indeed, I typically change the permissions of the R.css file
> ( /Library/Frameworks/R.framework/Resources/library/R.css ) to  
> allow Read & Write
> permissions by myself.

I may be wrong, but I think that the script actually tries to change  
the permissions to g-w, which it's not allowed to as non-root. In a  
sense it's good that the system prevents it from doing so :P

BTW: I think there may an unrelated bug indeed - for some strange  
reason my R.app adds ~/library/R to the library paths even if the  
preferences tell it to not do so - I'll investigate that...

Cheers,
Simon

(*) - technically the latest installer will actually touch all  
versions inside R.framework, namely setting the permissions to g+w.  
This is consistent with Apple's permissions concept and allows admin  
users to install system-wide package w/o root authentication. It  
won't change any content, though.
(**) - in order to allow retention of packages across patch-levels,  
there is in fact a symlink 2.1 in Versions in the CRAN release, but  
it's not used (yet).
(***) - I like those footnotes, don't you? ;)

From stefano.iacus at unimi.it  Fri Apr 29 00:59:21 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Fri Apr 29 00:59:29 2005
Subject: [R-SIG-Mac] Consistency of information about installed packages
In-Reply-To: <35CD10C6-17EA-4DC2-97D3-F1AA637ECB77@r-project.org>
References: <p06210207be96cc3fb03d@[128.115.153.6]>
	<7F67B0F3-8965-4FA1-B111-799495C2DE9C@r-project.org>
	<p06210208be96d9f9e7bf@[128.115.153.6]>
	<8FD887CA-1241-444C-B2D0-6BFDB0DBD5F2@r-project.org>
	<fcc182caaa54c9efcae6b4c6f68d7945@mac.com>
	<35CD10C6-17EA-4DC2-97D3-F1AA637ECB77@r-project.org>
Message-ID: <3d67c010dc0c703e05f3ec636d90fbb4@unimi.it>

It seems clear to be clear to Don, but probably other users will be 
interested to know this:  when upgrading to a major version of R like 
from 2.0.x to 2.1.0 it is not an option to re-install fresh packages as 
most of the package contain DLL's linked against libR.dylib, and entry 
points/symbols are stable (inside libR.dylib) only inside each major 
version of R (i.e. packages built for R 2.0.0 works with R 2.0.1, but 
not with R 2.1.x)
stefano

On 28/apr/05, at 23:04, Simon Urbanek wrote:

> On Apr 28, 2005, at 4:44 PM, Rob J Goedman wrote:
>
>> On Apr 28, 2005, at 1:00 PM, Simon Urbanek wrote:
>>
>>> It's ok to install over previous version, no problem, but if you use 
>>> your own private R packages, you cannot share them across R versions 
>>> (that's why personally I recommend to avoid that practice unless you 
>>> have no admin access). The safest thing is to delete ~/Library/R 
>>> after upgrade. We don't want the installer to be destructive, that's 
>>> why don't do it by default.
>>>
>>
>> I know, but if you install R-2.1.0 on top of an existing install, 
>> except the default libraries, doesn't it leave
>> all other libraries in the system library folder intact as well?
>
> It does, but they are in let's say
> /Library/Frameworks/R.framework/Versions/2.0.1/Resources/library
> so they won't bother your most recent R which will look in
> /Library/Frameworks/R.framework/Versions/2.1.0/Resources/library
>
> In fact each R (unless you use R_HOME or patch the R script) will look 
> into
> /Library/Frameworks/R.framework/Resources/library
> which symlinks to
> /Library/Frameworks/R.framework/Versions/Current/Resources/library
> and "Current" is the symlink that the installer changes to point to 
> 2.1.0
>
> The bottom line is that each new version of R framework doesn't care 
> about any other installed version and won't touch it(*).
>
>> I've not seen many problems with packages in this upgrade (from 
>> R-2.0.1 to R-2.1.0), but isn't it a good idea to pick up a fresh set 
>> of packages?
>
> Yes, but the fact that the paths are different will force you to 
> re-install system-wide packages anyway.(**)
>
>> If Don has a copy of deldir in the system library, could this 
>> behaviour be the result?
>
> It should not, because install.packages won't touch any other 
> locations than the one it is told to install the package into. It 
> doesn't care if there are other versions around, either (AFAIK).
>
>>> I remember that sometimes the script tries to change permissions of 
>>> the .css file, which fails depending on your setup, but that's 
>>> irrelevat for the package), but if a package is retained after 
>>> installation it usaully indicates that the installation was 
>>> successful, regardles of the exit status.
>>>
>>
>> Indeed, I typically change the permissions of the R.css file
>> ( /Library/Frameworks/R.framework/Resources/library/R.css ) to allow 
>> Read & Write
>> permissions by myself.
>
> I may be wrong, but I think that the script actually tries to change 
> the permissions to g-w, which it's not allowed to as non-root. In a 
> sense it's good that the system prevents it from doing so :P
>
> BTW: I think there may an unrelated bug indeed - for some strange 
> reason my R.app adds ~/library/R to the library paths even if the 
> preferences tell it to not do so - I'll investigate that...
>
> Cheers,
> Simon
>
> (*) - technically the latest installer will actually touch all 
> versions inside R.framework, namely setting the permissions to g+w. 
> This is consistent with Apple's permissions concept and allows admin 
> users to install system-wide package w/o root authentication. It won't 
> change any content, though.
> (**) - in order to allow retention of packages across patch-levels, 
> there is in fact a symlink 2.1 in Versions in the CRAN release, but 
> it's not used (yet).
> (***) - I like those footnotes, don't you? ;)
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From skene at berkeley.edu  Thu Apr 28 01:50:54 2005
From: skene at berkeley.edu (Jennifer Skene)
Date: Fri Apr 29 08:39:03 2005
Subject: [R-SIG-Mac] Re: [R] tcl/tk problem
In-Reply-To: <0e16d2641386d0d9399d369284cfc4d4@mac.com>
References: <p06110413be95b8577074@[128.32.214.130]>
	<0e16d2641386d0d9399d369284cfc4d4@mac.com>
Message-ID: <p06110417be95d59c4987@[128.32.214.130]>

Great.  How do I do this?

Thanks,
Jennifer

>Hi Jennifer,
>
>You need to start X11 before loading tcltk.
>
>Rob
>
>
>On Apr 27, 2005, at 3:57 PM, Jennifer Skene wrote:
>
>>I have JUST started using R.  I am using R 2.0.1 on a mac (os x) to 
>>run another program (called GRASPER, Generalized Regression 
>>Analysis and Spatial Prediction for R).  When I try to run Grasper, 
>>I get an error for tcl/tk:
>>
>>>  library(grasper)
>>Loading required package: mgcv
>>This is mgcv 1.1-8
>>Loading required package: MASS
>>Loading required package: tcltk
>>Error in dyn.load(x, as.logical(local), as.logical(now)) :
>>	unable to load shared library 
>>"/Library/Frameworks/R.framework/Resources/library/tcltk/libs/tcltk.so":
>>   dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open 
>>library: /usr/X11R6/lib/libX11.6.dylib  (No such file or directory, 
>>errno = 2)
>>Error: .onLoad failed in loadNamespace for 'tcltk'
>>Error: package 'tcltk' could not be loaded
>>
>>
>>However, tcl/tk appears to be there:
>>
>>>  capabilities()
>>     jpeg      png    tcltk      X11    GNOME     libz http/ftp  sockets
>>     TRUE     TRUE     TRUE     TRUE    FALSE     TRUE     TRUE     TRUE
>>   libxml     fifo   cledit  IEEE754    bzip2     PCRE
>>     TRUE     TRUE     TRUE     TRUE     TRUE     TRUE
>>
>>Does anyone know of a solution to this?
>>
>>Thanks,
>>Jennifer Skene
>>
>>______________________________________________
>>R-help@stat.math.ethz.ch mailing list
>>https://stat.ethz.ch/mailman/listinfo/r-help
>>PLEASE do read the posting guide! http://www.R-project.org/posting-guide.html

From rsh5 at cornell.edu  Fri Apr 29 14:26:15 2005
From: rsh5 at cornell.edu (Stefan Hames)
Date: Fri Apr 29 14:27:40 2005
Subject: [R-SIG-Mac] Kudos on R-2.1.0
Message-ID: <p06210201be9715f65865@[128.253.207.55]>

Hi,

I just wanted to say thanks very much for Stefano's (and everyone 
else's) hard work. The install went smoothly, R.app is really great, 
it's very nice to be able to save graphics as pdfs, and to print 
directly from the quartz window.  I'm still exploring, but so far 
everything works. I really appreciate all of the precompiled binaries 
and the big efforts that that were made to put all this together.

Thank again,

Stefan
-- 
========================================================================
Stefan Hames, PhD
Research Associate
Conservation Science
Cornell Laboratory of Ornithology
159 Sapsucker Woods Road
Ithaca, NY 14850
Phone: 607-254-2496 (lab)
        607-254-2104 (fax)
        607-273-4915 (home)  
<mailto: rsh5@cornell.edu>

From john.marsland at wmgfunds.com  Fri Apr 29 18:24:51 2005
From: john.marsland at wmgfunds.com (John Marsland)
Date: Fri Apr 29 18:24:47 2005
Subject: [R-SIG-Mac] R Editor - syntax coloring
Message-ID: <ab0827e7070d43f7e91fe7390a372126@wmgfunds.com>

First, of all the new R-2.1.0 looks great on the Mac. It upgraded 
effortlessly and I am hoping to be able to try it out on Tiger later 
today, assuming the Police haven't cordoned off the Apple Store in 
London!

However, I have come across a problem. The new syntax coloring option 
in the R Editor preferences looks great, but on large R script files 
(mine is 500 lines) slows the refresh down incredibly. Each key stroke 
take several 10's of seconds to action! It seems like the colorisation 
is redone for the whole file on each key stroke? I am running R on an 
iBook G4 800MHz with 640Mb and OS X 10.3.9 -- those of you lucky enough 
to have a G5 might not notice any problem!

As an aside, I note that R participates in Version Tracker but the 
version number comes out as 1.10 not 2.1.0. I understand the rationale 
for the Mac GUI having a version number of 1.10 but this is very 
confusing. Either way the current version should be at least consistent 
on Version Tracker.

Regards,

John

platform powerpc-apple-darwin7.9.0
arch     powerpc
os       darwin7.9.0
system   powerpc, darwin7.9.0
status
major    2
minor    1.0
year     2005
month    04
day      18
language R

From stefano.iacus at unimi.it  Fri Apr 29 18:43:46 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Fri Apr 29 18:43:52 2005
Subject: [R-SIG-Mac] R Editor - syntax coloring
In-Reply-To: <ab0827e7070d43f7e91fe7390a372126@wmgfunds.com>
References: <ab0827e7070d43f7e91fe7390a372126@wmgfunds.com>
Message-ID: <03feacdbbc9ee05c32ca6cbcd74202fa@unimi.it>


On 29/apr/05, at 18:24, John Marsland wrote:

> First, of all the new R-2.1.0 looks great on the Mac. It upgraded 
> effortlessly and I am hoping to be able to try it out on Tiger later 
> today, assuming the Police haven't cordoned off the Apple Store in 
> London!
>
> However, I have come across a problem. The new syntax coloring option 
> in the R Editor preferences looks great, but on large R script files 
> (mine is 500 lines) slows the refresh down incredibly. Each key stroke 
> take several 10's of seconds to action! It seems like the colorisation 
> is redone for the whole file on each key stroke? I am running R on an 
> iBook G4 800MHz with 640Mb and OS X 10.3.9 -- those of you lucky 
> enough to have a G5 might not notice any problem!

you can disable coloring from the prefererences
>
> As an aside, I note that R participates in Version Tracker but the 
> version number comes out as 1.10 not 2.1.0. I understand the rationale 
> for the Mac GUI having a version number of 1.10 but this is very 
> confusing. Either way the current version should be at least 
> consistent on Version Tracker.

the version shown on version tracker is 2.1.0

http://www.versiontracker.com/dyn/moreinfo/macosx/10661

as this is R for OS X binaries.

On top of R there is R.app, the GUI, whose development  varies at 
different speed (we have daily building thanks to Simon)

If you mean the version tracker utils: it could probably be due to the 
fact that they take versioning information from the R.app signature.

I'll try to understand what's happening as I physically do the update 
every time

stefano


>
> Regards,
>
> John
>
> platform powerpc-apple-darwin7.9.0
> arch     powerpc
> os       darwin7.9.0
> system   powerpc, darwin7.9.0
> status
> major    2
> minor    1.0
> year     2005
> month    04
> day      18
> language R
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From stefano.iacus at unimi.it  Fri Apr 29 18:45:25 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Fri Apr 29 18:45:30 2005
Subject: [R-SIG-Mac] Kudos on R-2.1.0
In-Reply-To: <p06210201be9715f65865@[128.253.207.55]>
References: <p06210201be9715f65865@[128.253.207.55]>
Message-ID: <e4e9463e5b696686569725ea94f2a8c7@unimi.it>

To be honest (see the NEWS file in R.app sources) most of the work on  
the Editor is due to Simon and Rob.
I usually pester them finding small bugs :) they usually fix instantly.
stefano

On 29/apr/05, at 14:26, Stefan Hames wrote:

> Hi,
>
> I just wanted to say thanks very much for Stefano's (and everyone  
> else's) hard work. The install went smoothly, R.app is really great,  
> it's very nice to be able to save graphics as pdfs, and to print  
> directly from the quartz window.  I'm still exploring, but so far  
> everything works. I really appreciate all of the precompiled binaries  
> and the big efforts that that were made to put all this together.
>
> Thank again,
>
> Stefan
> --  
> ======================================================================= 
> =
> Stefan Hames, PhD
> Research Associate
> Conservation Science
> Cornell Laboratory of Ornithology
> 159 Sapsucker Woods Road
> Ithaca, NY 14850
> Phone: 607-254-2496 (lab)
>        607-254-2104 (fax)
>        607-273-4915 (home)  <mailto: rsh5@cornell.edu>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From macqueen1 at mail.llnl.gov  Fri Apr 29 20:55:39 2005
From: macqueen1 at mail.llnl.gov (macq)
Date: Fri Apr 29 21:43:53 2005
Subject: [R-SIG-Mac] Half-installed package (was Consistency of information...)
In-Reply-To: <8FD887CA-1241-444C-B2D0-6BFDB0DBD5F2@r-project.org>
References: <p06210207be96cc3fb03d@[128.115.153.6]>
	<7F67B0F3-8965-4FA1-B111-799495C2DE9C@r-project.org>
	<p06210208be96d9f9e7bf@[128.115.153.6]>
	<8FD887CA-1241-444C-B2D0-6BFDB0DBD5F2@r-project.org>
Message-ID: <p06210200be98234204ac@mail.llnl.gov>

More details on how I got a half-installed package; see below. (kind of long)
Fundamentally, what's happening (I believe) is that in the context 
where I used it,
install.packages() is not cleaning up after itself like it normally does.

-Don

At 4:00 PM -0400 4/28/05, Simon Urbanek wrote:
>Don,
>
>On Apr 28, 2005, at 2:34 PM, Don MacQueen wrote:
>
>>I'm sorry, I thought the non-zero exit status message was 
>>sufficient and definitive.
>>
>>Yes, it had failed. Prior to that message, it had said, in bright red text,
>>
>>make: *** [deldir.so] Error 1
>>ERROR: compilation failed for package 'deldir'
>
>Ok, that qualifies for "failed installation" :).
>
>>library(deldir) works in the sense that it returns no error or 
>>warning message.
>
>This is the reason why R.app shows it as installed - the package is 
>there and loads. In fact R.app simply asks R about the package list 
>- it doesn't try to determine anything on its own. Hence this is not 
>a problem in R.app (and has nothing to do with consistency of 
>information about installed packages - because it is consistent), 
>but rather something with the package installation.
>
>>After all this, there is a folder,
>>   ~/Library/R/Library/deldir
>
>Oh, ok - you're installing your own private copy then.
>
>On Apr 28, 2005, at 2:53 PM, Don MacQueen wrote:
>>The only hint I saw, and it showed up in the Installer, was to 
>>remove copies of old RAqua. In fact, it says "previous versions of 
>>the Cocoa GUI are fine". Maybe I didn't look hard enough, but that 
>>looked pretty definite to me.
>
>It's ok to install over previous version, no problem, but if you use 
>your own private R packages, you cannot share them across R versions 
>(that's why personally I recommend to avoid that practice unless you 
>have no admin access). The safest thing is to delete ~/Library/R 
>after upgrade. We don't want the installer to be destructive, that's 
>why don't do it by default.
>
>Nevertheless, I still don't know how you happen to get the 
>half-installed package. Did you use the Package Installer or did you 
>install it manually? If so, can you reproduce it even after deleting 
>~/Library/R?

Yes, I can.

Frist, I decided to make a fresh start by entirely deleting R. I 
deleted ~Library/R, and  /Library/Frameworks/R.framework. Then I 
reinstalled R (2.1.0) from the mpkg installer. In the custom install 
I selected all three options, including the optional X11/tcltk 
package.

Then I started R.app. The very first thing I did was use 
install.packages('deldir') at the command line in the console. Did 
not use the GUI package installer. The full transcript is below.

Note that I am installing my own private copy of deldir, but not by 
intent. That's just what happened. I do have admin privileges.

For comparison, I can mention that on another OS X box, where I have 
installed R 2.1.0 from source, installation of deldir by the same 
method succeeds, and does install globally, not as a private copy.


  R : Copyright 2005, The R Foundation for Statistical Computing
Version 2.1.0  (2005-04-18), ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

   Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for a HTML browser interface to help.
Type 'q()' to quit R.

>  install.packages('deldir')
Warning in install.packages("deldir") : argument 'lib' is missing: 
using /Users/macq/Library/R/library
--- Please select a CRAN mirror for use in this session ---
trying URL 'http://cran.cnr.Berkeley.edu/src/contrib/deldir_0.0-2.tar.gz'
Content type 'application/x-tar' length 33380 bytes
opened URL
==================================================
downloaded 32Kb

* Installing *source* package 'deldir' ...
** libs
g77   -fno-common  -g -O2 -c acchk.f -o acchk.o
g77   -fno-common  -g -O2 -c addpt.f -o addpt.o
g77   -fno-common  -g -O2 -c adjchk.f -o adjchk.o
g77   -fno-common  -g -O2 -c binsrt.f -o binsrt.o
g77   -fno-common  -g -O2 -c circen.f -o circen.o
g77   -fno-common  -g -O2 -c cross.f -o cross.o
g77   -fno-common  -g -O2 -c delet.f -o delet.o
g77   -fno-common  -g -O2 -c delet1.f -o delet1.o
g77   -fno-common  -g -O2 -c delout.f -o delout.o
g77   -fno-common  -g -O2 -c delseg.f -o delseg.o
g77   -fno-common  -g -O2 -c dirout.f -o dirout.o
g77   -fno-common  -g -O2 -c dirseg.f -o dirseg.o
g77   -fno-common  -g -O2 -c inddup.f -o inddup.o
g77   -fno-common  -g -O2 -c initad.f -o initad.o
g77   -fno-common  -g -O2 -c inside.f -o inside.o
g77   -fno-common  -g -O2 -c insrt.f -o insrt.o
g77   -fno-common  -g -O2 -c insrt1.f -o insrt1.o
g77   -fno-common  -g -O2 -c locn.f -o locn.o
g77   -fno-common  -g -O2 -c master.f -o master.o
g77   -fno-common  -g -O2 -c mnnd.f -o mnnd.o
g77   -fno-common  -g -O2 -c pred.f -o pred.o
g77   -fno-common  -g -O2 -c qtest.f -o qtest.o
g77   -fno-common  -g -O2 -c qtest1.f -o qtest1.o
g77   -fno-common  -g -O2 -c stoke.f -o stoke.o
g77   -fno-common  -g -O2 -c succ.f -o succ.o
g77   -fno-common  -g -O2 -c swap.f -o swap.o
g77   -fno-common  -g -O2 -c testeq.f -o testeq.o
g77   -fno-common  -g -O2 -c triar.f -o triar.o
g77   -fno-common  -g -O2 -c trifnd.f -o trifnd.o
gcc -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o 
deldir.so acchk.o addpt.o adjchk.o binsrt.o circen.o cross.o delet.o 
delet1.o delout.o delseg.o dirout.o dirseg.o inddup.o initad.o 
inside.o insrt.o insrt1.o locn.o master.o mnnd.o pred.o qtest.o 
qtest1.o stoke.o succ.o swap.o testeq.o triar.o trifnd.o 
-L/usr/local/lib/gcc/powerpc-apple-darwin6.8/3.4.2 -lg2c -lSystem 
-lcc_dynamic -framework R
ld: can't locate file for: -lbundle1.o
make: *** [deldir.so] Error 1
ERROR: compilation failed for package 'deldir'

The downloaded packages are in
	/private/tmp/RtmpIXX01o/downloaded_packages
Warning message:
installation of package 'deldir' had non-zero exit status in: 
install.packages("deldir")
>
>  require(deldir)
Loading required package: deldir
[1] TRUE
>  search()
  [1] ".GlobalEnv"        "package:deldir"    "package:methods" 
"package:stats"     "package:graphics"
  [6] "package:grDevices" "package:utils"     "package:datasets" 
"Autoloads"         "package:base"    
>  ls(2)
character(0)
>


At this point, if I go look in ~/Library/R, I see a folder named 
deldir, with incomplete contents as I described yesterday.



Next, if I go to the GUI package installer and install the deldir 
binary at the "System Level", it succeeds.

But, and I suppose this is no surprise, I now have a half-installed 
private deldir, and a fully installed system deldir. require(deldir) 
loads the private one in preference to the system one. The private 
one has to be manually deleted outside of R. The lesson here is that 
a user can get in trouble by mixing source and binary installations 
of packages.


One more point. If I start R at the command line, using the 
recommended alias in /usr/bin, then install.packages('deldir') fails 
as in R.app, but it (1) goes for a system install instead of a 
private one, and (2) cleans up after itself:

make: *** [deldir.so] Error 1
ERROR: compilation failed for package 'deldir'
** Removing 
'/Library/Frameworks/R.framework/Versions/2.1.0/Resources/library/deldir'
** Restoring previous 
'/Library/Frameworks/R.framework/Versions/2.1.0/Resources/library/deldir'



And just to be complete,

>  version
          _                       
platform powerpc-apple-darwin7.9.0
arch     powerpc                 
os       darwin7.9.0             
system   powerpc, darwin7.9.0    
status                           
major    2                       
minor    1.0                     
year     2005                    
month    04                      
day      18                      
language R                       
>

