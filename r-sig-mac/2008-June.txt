From vincent.goulet at act.ulaval.ca  Sun Jun  1 07:50:10 2008
From: vincent.goulet at act.ulaval.ca (Vincent Goulet)
Date: Sun, 01 Jun 2008 01:50:10 -0400
Subject: [R-SIG-Mac] Building packages under R >= 2.7.0 (issue with gcc-4.2)
Message-ID: <333B8C45-B6A9-4B21-BE78-01ECA506E10C@act.ulaval.ca>

My package checked and buit fine under 2.6.2 on Leopard 10.5.2. Under  
2.7.0, 2.7.0 patched (2008-05-29) and R-devel (2008-05-30) it always  
fails at the "checking whether package 'actuar' can be installed"   
step. The 00install.log tells me that R tried to call gcc-4.2, which I  
don't have. It is my understanding from reading the documentation that  
this version of gcc is not mandatory. I have XCode v. 3.0 installed.

Furthermore, I noticed that, for 2.7.0, the /Library/Frameworks/ 
R.framework/Resources/etc/*/Makeconf files refer to gcc for i386 and  
ppc, and to gcc-4.2 on x86_64. For 2.7.0 patched and R-devel, the  
Makeconf files refer to gcc-4.2 on all architectures.

I can't see what I did wrong, but then I'm certainly not the first one  
to compile a package from source since the release of 2.7.0. Any help  
would be appreciated.

Thanks in advance!

---
   Vincent Goulet, Associate Professor
   ?cole d'actuariat
   Universit? Laval, Qu?bec
   Vincent.Goulet at act.ulaval.ca   http://vgoulet.act.ulaval.ca


From simon.urbanek at r-project.org  Mon Jun  2 15:16:06 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 2 Jun 2008 09:16:06 -0400
Subject: [R-SIG-Mac] Building packages under R >= 2.7.0 (issue with
	gcc-4.2)
In-Reply-To: <333B8C45-B6A9-4B21-BE78-01ECA506E10C@act.ulaval.ca>
References: <333B8C45-B6A9-4B21-BE78-01ECA506E10C@act.ulaval.ca>
Message-ID: <83A5F8A6-6177-4554-82C5-D1B019EE27C8@r-project.org>

Vincent,

I'm sorry but somehow I have no idea what you're talking about. Your  
package "actuar" (in the most recent version 0.9-7 on CRAN) passes  
"make check" with R 2.7.0 and it is available in binary form from CRAN  
as well, see:

http://cran.r-project.org/web/packages/actuar/index.html

more comments inline:

On Jun 1, 2008, at 1:50 AM, Vincent Goulet wrote:

> My package checked and buit fine under 2.6.2 on Leopard 10.5.2.  
> Under 2.7.0, 2.7.0 patched (2008-05-29) and R-devel (2008-05-30) it  
> always fails at the "checking whether package 'actuar' can be  
> installed"  step. The 00install.log tells me that R tried to call  
> gcc-4.2, which I don't have. It is my understanding from reading the  
> documentation that this version of gcc is not mandatory. I have  
> XCode v. 3.0 installed.
>

The compiler used in the released versions is gcc (which is by default  
gcc-4.0 even if you installed gcc-4.2). You can map gcc to gcc-4.2 if  
you desire so, but that is a non-standard setup.


> Furthermore, I noticed that, for 2.7.0, the /Library/Frameworks/ 
> R.framework/Resources/etc/*/Makeconf files refer to gcc for i386 and  
> ppc, and to gcc-4.2 on x86_64. For 2.7.0 patched and R-devel, the  
> Makeconf files refer to gcc-4.2 on all architectures.
>

Not in the official binaries that I am releasing:

/Library/Frameworks/R.framework/Resources/etc/ppc/Makeconf:
CC = gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -std=gnu99

/Library/Frameworks/R.framework/Resources/etc/i386/Makeconf:
CC = gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -std=gnu99


> I can't see what I did wrong, but then I'm certainly not the first  
> one to compile a package from source since the release of 2.7.0. Any  
> help would be appreciated.
>

You'll have to tell us exactly which R build are you using. CRAN  
binaries are clearly not configured the way you are describing, so you  
must be using some custom or experimental build in which case you're  
on you own ...

Nonetheless, even in the case of using gcc-4.2 your package installs,  
so I have no idea what you are concerned about.

Cheers,
Simon


From simon.urbanek at r-project.org  Mon Jun  2 15:28:36 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 2 Jun 2008 09:28:36 -0400
Subject: [R-SIG-Mac] dash spacing and slope in quartz device
In-Reply-To: <20080529151728.w67jcd5assw0c4gg@imp.inserm.fr>
References: <20080529151728.w67jcd5assw0c4gg@imp.inserm.fr>
Message-ID: <F68C750C-1642-4644-9DDA-FCB80A29F5CC@r-project.org>

Ken,

thanks for the report. The issue is really puzzling, because the line  
specification code has not changed since previous R versions (which  
work as expected) and I cannot reproduce it in any test applications  
(i.e. if I take the current Quartz code and run it outside R it works  
as expected). At any rate I'm continuing to investigate it and keep  
you posted.

Thanks,
Simon


On May 29, 2008, at 9:17 AM, Kenneth Knoblauch wrote:

> There was some discussion about slowdowns in the new quartz device a  
> few weeks ago that had to do with line drawing but I don't think  
> that the following has been mentioned.
>
> I've noticed a "new" behavior in the quartz device that can be seen  
> by running
>
> xx <- seq(1:100)
> plot(xx, xx^2, type = "l", lty = 2)
>
> On my display, the dash spacing disappears for xx < 40 for the  
> default window size.
> In addition, the dashes are obliterated by increasing the line width,
>
> lines(xx, 0.5 * xx^2, lty = 2, lwd = 2)
>
> unless I enlarge the window.  The same occurs for lty = 3.
>
> The dash spacing seems to depend on the slope of the contour.
>
> plot(rep(1, 100), lty = 2, type = "l", ylim = c(0, 100))
> lines(xx, lty = 2)
> lines(2 * xx, lty = 2)
>
> This did not occur in an earlier version of R that I tried (R 2.2.0)  
> and does not occur in other graphic devices that I have tried (x11  
> and pdf, so far).
>
> sessionInfo()
> R version 2.7.0 Patched (2008-05-28 r45808)
> i386-apple-darwin8.10.1
>
> locale:
> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> Does anyone else see this?  Apologies in advance if this is normal
> behavior.  Thank you.
>
> best,
>
> Ken
>
>
> -- 
> Ken Knoblauch
> Inserm U846
> Institut Cellule Souche et Cerveau
> D?partement Neurosciences Int?gratives
> 18 avenue du Doyen L?pine
> 69500 Bron
> France
> tel: +33 (0)4 72 91 34 77
> fax: +33 (0)4 72 91 34 61
> portable: +33 (0)6 84 10 64 10
> http://www.sbri.fr
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From Vincent.Goulet at act.ulaval.ca  Mon Jun  2 16:10:39 2008
From: Vincent.Goulet at act.ulaval.ca (Vincent Goulet)
Date: Mon, 02 Jun 2008 10:10:39 -0400
Subject: [R-SIG-Mac] Building packages under R >= 2.7.0 (issue with
	gcc-4.2)
In-Reply-To: <83A5F8A6-6177-4554-82C5-D1B019EE27C8@r-project.org>
References: <333B8C45-B6A9-4B21-BE78-01ECA506E10C@act.ulaval.ca>
	<83A5F8A6-6177-4554-82C5-D1B019EE27C8@r-project.org>
Message-ID: <D2277657-FA6B-41C4-A24B-AF4A7882CA15@act.ulaval.ca>

Simon,

Thanks for your reply. Please see inline.

Le lun. 02 juin ? 09:16, Simon Urbanek a ?crit :

> Vincent,
>
> I'm sorry but somehow I have no idea what you're talking about. Your  
> package "actuar" (in the most recent version 0.9-7 on CRAN) passes  
> "make check" with R 2.7.0 and it is available in binary form from  
> CRAN as well, see:
>
> http://cran.r-project.org/web/packages/actuar/index.html
>
> more comments inline:
>
> On Jun 1, 2008, at 1:50 AM, Vincent Goulet wrote:
>
>> My package checked and buit fine under 2.6.2 on Leopard 10.5.2.  
>> Under 2.7.0, 2.7.0 patched (2008-05-29) and R-devel (2008-05-30) it  
>> always fails at the "checking whether package 'actuar' can be  
>> installed"  step. The 00install.log tells me that R tried to call  
>> gcc-4.2, which I don't have. It is my understanding from reading  
>> the documentation that this version of gcc is not mandatory. I have  
>> XCode v. 3.0 installed.
>>
>
> The compiler used in the released versions is gcc (which is by  
> default gcc-4.0 even if you installed gcc-4.2). You can map gcc to  
> gcc-4.2 if you desire so, but that is a non-standard setup.

I started again from scratch (deleting everything in Library/ 
Frameworks/R.framework and reinstalling 2.7.0) and indeed, everything  
is fine. It appears I had the troublesome Resources/etc/x86_64/ 
Makeconf file in my installation. How it got there I have no idea.  
Perhaps a momentary lapse of reason in the installation process at  
some point.

>> Furthermore, I noticed that, for 2.7.0, the /Library/Frameworks/ 
>> R.framework/Resources/etc/*/Makeconf files refer to gcc for i386  
>> and ppc, and to gcc-4.2 on x86_64. For 2.7.0 patched and R-devel,  
>> the Makeconf files refer to gcc-4.2 on all architectures.
>>
>
> Not in the official binaries that I am releasing:
>
> /Library/Frameworks/R.framework/Resources/etc/ppc/Makeconf:
> CC = gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk - 
> mmacosx-version-min=10.4 -std=gnu99
>
> /Library/Frameworks/R.framework/Resources/etc/i386/Makeconf:
> CC = gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk - 
> mmacosx-version-min=10.4 -std=gnu99

However, as I originally stated, all Makeconf files in R-2.7-branch- 
leopard-universal.tar.gz and R-devel-leopard-universal.tar.gz on  
R.research.att.com refer to gcc-4.2. But then these are not official  
releases, I guess.

>> I can't see what I did wrong, but then I'm certainly not the first  
>> one to compile a package from source since the release of 2.7.0.  
>> Any help would be appreciated.
>>
>
> You'll have to tell us exactly which R build are you using. CRAN  
> binaries are clearly not configured the way you are describing, so  
> you must be using some custom or experimental build in which case  
> you're on you own ...
>
> Nonetheless, even in the case of using gcc-4.2 your package  
> installs, so I have no idea what you are concerned about.

Again, this was most likely caused by a partially oozed system. Sorry  
for the inconvenience and thank you again for your help and great work.

Best,

Vincent

>
>
> Cheers,
> Simon
>


From simon.urbanek at r-project.org  Mon Jun  2 17:59:30 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 2 Jun 2008 11:59:30 -0400
Subject: [R-SIG-Mac] Building packages under R >= 2.7.0 (issue with
	gcc-4.2)
In-Reply-To: <D2277657-FA6B-41C4-A24B-AF4A7882CA15@act.ulaval.ca>
References: <333B8C45-B6A9-4B21-BE78-01ECA506E10C@act.ulaval.ca>
	<83A5F8A6-6177-4554-82C5-D1B019EE27C8@r-project.org>
	<D2277657-FA6B-41C4-A24B-AF4A7882CA15@act.ulaval.ca>
Message-ID: <0103F089-22CF-452C-8316-E7E17F01CC92@r-project.org>


On Jun 2, 2008, at 10:10 AM, Vincent Goulet wrote:

> Simon,
>
> Thanks for your reply. Please see inline.
>
> Le lun. 02 juin ? 09:16, Simon Urbanek a ?crit :
>
>> Vincent,
>>
>> I'm sorry but somehow I have no idea what you're talking about.  
>> Your package "actuar" (in the most recent version 0.9-7 on CRAN)  
>> passes "make check" with R 2.7.0 and it is available in binary form  
>> from CRAN as well, see:
>>
>> http://cran.r-project.org/web/packages/actuar/index.html
>>
>> more comments inline:
>>
>> On Jun 1, 2008, at 1:50 AM, Vincent Goulet wrote:
>>
>>> My package checked and buit fine under 2.6.2 on Leopard 10.5.2.  
>>> Under 2.7.0, 2.7.0 patched (2008-05-29) and R-devel (2008-05-30)  
>>> it always fails at the "checking whether package 'actuar' can be  
>>> installed"  step. The 00install.log tells me that R tried to call  
>>> gcc-4.2, which I don't have. It is my understanding from reading  
>>> the documentation that this version of gcc is not mandatory. I  
>>> have XCode v. 3.0 installed.
>>>
>>
>> The compiler used in the released versions is gcc (which is by  
>> default gcc-4.0 even if you installed gcc-4.2). You can map gcc to  
>> gcc-4.2 if you desire so, but that is a non-standard setup.
>
> I started again from scratch (deleting everything in Library/ 
> Frameworks/R.framework and reinstalling 2.7.0) and indeed,  
> everything is fine. It appears I had the troublesome Resources/etc/ 
> x86_64/Makeconf file in my installation. How it got there I have no  
> idea. Perhaps a momentary lapse of reason in the installation  
> process at some point.
>

Ah, that makes sense. If you installed the Leopard experimental build  
at any time, it adds the 64-bit architectures to the R tree which are  
retained even if you re-install 32-bit R over it. The main reason is  
that the Leopard build is not supplied as Installer package, so the  
installation system has no idea that the 64-bit files were installed.  
The Leopard build has to use gcc-4.2 due to a few bugs in gcc-4.0  
which are triggered by the 64-bit builds.


>>> Furthermore, I noticed that, for 2.7.0, the /Library/Frameworks/ 
>>> R.framework/Resources/etc/*/Makeconf files refer to gcc for i386  
>>> and ppc, and to gcc-4.2 on x86_64. For 2.7.0 patched and R-devel,  
>>> the Makeconf files refer to gcc-4.2 on all architectures.
>>>
>>
>> Not in the official binaries that I am releasing:
>>
>> /Library/Frameworks/R.framework/Resources/etc/ppc/Makeconf:
>> CC = gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk - 
>> mmacosx-version-min=10.4 -std=gnu99
>>
>> /Library/Frameworks/R.framework/Resources/etc/i386/Makeconf:
>> CC = gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk - 
>> mmacosx-version-min=10.4 -std=gnu99
>
> However, as I originally stated, all Makeconf files in R-2.7-branch- 
> leopard-universal.tar.gz and R-devel-leopard-universal.tar.gz on  
> R.research.att.com refer to gcc-4.2. But then these are not official  
> releases, I guess.
>

Yes, those are experimental and Leopard users can easily get gcc-4.2  
so it's ok to require it (and Xcode 3.1 contains it anyway which mean  
that they'll likely be included by default soon).

Cheers,
Simon


>>> I can't see what I did wrong, but then I'm certainly not the first  
>>> one to compile a package from source since the release of 2.7.0.  
>>> Any help would be appreciated.
>>>
>>
>> You'll have to tell us exactly which R build are you using. CRAN  
>> binaries are clearly not configured the way you are describing, so  
>> you must be using some custom or experimental build in which case  
>> you're on you own ...
>>
>> Nonetheless, even in the case of using gcc-4.2 your package  
>> installs, so I have no idea what you are concerned about.
>
> Again, this was most likely caused by a partially oozed system.  
> Sorry for the inconvenience and thank you again for your help and  
> great work.
>
> Best,
>
> Vincent
>
>>
>>
>> Cheers,
>> Simon
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From chabotd at globetrotter.net  Tue Jun  3 03:02:55 2008
From: chabotd at globetrotter.net (Denis Chabot)
Date: Mon, 02 Jun 2008 21:02:55 -0400
Subject: [R-SIG-Mac] ESC to stop locator() before hitting the specified
	number of points
In-Reply-To: <mailman.19.1212141606.5823.r-sig-mac@stat.math.ethz.ch>
References: <mailman.19.1212141606.5823.r-sig-mac@stat.math.ethz.ch>
Message-ID: <28B63015-BB6A-4882-A1DC-B034190572C7@globetrotter.net>

Hi,

I thought (and the help confirms this belief) that ESC was one way to  
get out of a locator call before reaching the number of points  
specified in the call. I cannot get this to work on my MacBook Pro  
with 10.5.3. Here is the session info:

 > sessionInfo()
R version 2.7.0 Patched (2008-05-07 r45642)
i386-apple-darwin9.2.2

locale:
fr_CA.UTF-8/fr_CA.UTF-8/C/C/fr_CA.UTF-8/fr_CA.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

 > plot(1:10)
 > locator(n=3)

No way to get out of locator without clicking 3 times on the plot.

Am I doing something wrong (I tried ESC, shift-ESC, command-ESC,  
control-ESC, option(Alt)-ESC, to no avail (except that one of them  
starts Front Row!). Are you able to ESC from locator?

Sincerely,

Denis Chabot


From simon.urbanek at r-project.org  Tue Jun  3 15:05:08 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 3 Jun 2008 09:05:08 -0400
Subject: [R-SIG-Mac] ESC to stop locator() before hitting the specified
	number of points
In-Reply-To: <28B63015-BB6A-4882-A1DC-B034190572C7@globetrotter.net>
References: <mailman.19.1212141606.5823.r-sig-mac@stat.math.ethz.ch>
	<28B63015-BB6A-4882-A1DC-B034190572C7@globetrotter.net>
Message-ID: <7F8AACAB-FA46-4A9C-9315-887A473CCC96@r-project.org>


On Jun 2, 2008, at 9:02 PM, Denis Chabot wrote:

> Hi,
>
> I thought (and the help confirms this belief) that ESC was one way  
> to get out of a locator call before reaching the number of points  
> specified in the call. I cannot get this to work on my MacBook Pro  
> with 10.5.3. Here is the session info:
>
> > sessionInfo()
> R version 2.7.0 Patched (2008-05-07 r45642)
> i386-apple-darwin9.2.2
>
> locale:
> fr_CA.UTF-8/fr_CA.UTF-8/C/C/fr_CA.UTF-8/fr_CA.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> > plot(1:10)
> > locator(n=3)
>
> No way to get out of locator without clicking 3 times on the plot.
>
> Am I doing something wrong (I tried ESC, shift-ESC, command-ESC,  
> control-ESC, option(Alt)-ESC, to no avail (except that one of them  
> starts Front Row!). Are you able to ESC from locator?
>

Yes, if you use a more recent R-patched  (r45743 from 5/20 or later).  
Previous versions react only to <Ctrl><Click>, later ones react to  
both <Esc> and <Ctrl><Click>.

Cheers,
Simon


From chabotd at globetrotter.net  Tue Jun  3 15:20:12 2008
From: chabotd at globetrotter.net (Denis Chabot)
Date: Tue, 03 Jun 2008 09:20:12 -0400
Subject: [R-SIG-Mac] ESC to stop locator() before hitting the specified
 number of points
In-Reply-To: <7F8AACAB-FA46-4A9C-9315-887A473CCC96@r-project.org>
References: <mailman.19.1212141606.5823.r-sig-mac@stat.math.ethz.ch>
	<28B63015-BB6A-4882-A1DC-B034190572C7@globetrotter.net>
	<7F8AACAB-FA46-4A9C-9315-887A473CCC96@r-project.org>
Message-ID: <CCB2B6A8-E5FB-4A22-BE02-8EF78AF53F5B@globetrotter.net>

Thanks Simon, I'm downloading the most recent versions of R2.7.0  
Leopard and the R gui right now.

Denis
Le 08-06-03 ? 09:05, Simon Urbanek a ?crit :

>
> On Jun 2, 2008, at 9:02 PM, Denis Chabot wrote:
>
>> Hi,
>>
>> I thought (and the help confirms this belief) that ESC was one way  
>> to get out of a locator call before reaching the number of points  
>> specified in the call. I cannot get this to work on my MacBook Pro  
>> with 10.5.3. Here is the session info:
>>
>> > sessionInfo()
>> R version 2.7.0 Patched (2008-05-07 r45642)
>> i386-apple-darwin9.2.2
>>
>> locale:
>> fr_CA.UTF-8/fr_CA.UTF-8/C/C/fr_CA.UTF-8/fr_CA.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> > plot(1:10)
>> > locator(n=3)
>>
>> No way to get out of locator without clicking 3 times on the plot.
>>
>> Am I doing something wrong (I tried ESC, shift-ESC, command-ESC,  
>> control-ESC, option(Alt)-ESC, to no avail (except that one of them  
>> starts Front Row!). Are you able to ESC from locator?
>>
>
> Yes, if you use a more recent R-patched  (r45743 from 5/20 or  
> later). Previous versions react only to <Ctrl><Click>, later ones  
> react to both <Esc> and <Ctrl><Click>.
>
> Cheers,
> Simon
>
>


From jfox at mcmaster.ca  Tue Jun  3 21:13:47 2008
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 3 Jun 2008 15:13:47 -0400
Subject: [R-SIG-Mac] Eclipse/StatET under OS X
Message-ID: <4714FEF3-CDF2-492B-A67B-4325F7B05C51@mcmaster.ca>

Dear r-sig-mac list members,

I've been trying to get the Eclipse IDE with the StatET plug-in to  
work on my MacBook under OS X 10.5.2. I've been generally successful  
-- e.g., I can run R within Eclipse, can edit and submit code, and can  
check, build, and install packages -- but I have run into some problems:

(1) help.search() fails to open a browser and reports the following  
message:

Making links in per-session dir ... If '/usr/bin/open' is already  
running, it is *not* restarted, and you
     must switch to its window.
Otherwise, be patient ...
Warning messages:
1: In file.create(f.tg) :
   cannot create file '/var/folders/QR/QRtg9biYGR4019m9g6dBwU+++TI/- 
Tmp-//RtmpxgPeEP/.R/doc/html/packages.html', reason 'No such file or  
directory'
2: In make.packages.html() : cannot create HTML package index

(2) help() sometimes works and sometimes apparently does nothing. When  
it works, it reports a warning:

 > help(lm)
Help for 'lm' is shown in browser /usr/bin/open ...
Use
	help("lm", htmlhelp = FALSE)
or
	options(htmlhelp = FALSE)
to revert.
Warning message:
In .show_help_on_topic_as_HTML(file, topic) :
   Using non-linked HTML file: hyperlinks may be incorrect

(3) Commands that normally open windows, such as help(package="car"),  
don't appear to do anything.

I've tried inquiring about these problems on the StatET email list,  
but the developers don't use Macs. I thought that someone on the r-sig- 
mac list might have experience with getting Eclipse/StatET to work. I  
have some experience with it under Windows and am very impressed. It  
would be nice to have a fully functional installation under OS X as  
well.

Any help would be greatly appreciated.

John
--------------------------------------------
John Fox, Professor
Department of Sociology
McMaster University
Hamilton ON Canada L8S 4M4
web: socserv.mcmaster.ca/jfox


From carl at witthoft.com  Tue Jun  3 22:06:53 2008
From: carl at witthoft.com (Carl Witthoft)
Date: Tue, 03 Jun 2008 16:06:53 -0400
Subject: [R-SIG-Mac] How to set console parameters in .Rprofile?
In-Reply-To: <mailman.17.1212487204.7987.r-sig-mac@stat.math.ethz.ch>
References: <mailman.17.1212487204.7987.r-sig-mac@stat.math.ethz.ch>
Message-ID: <4845A45D.5060107@witthoft.com>

I promise I put in a ton of time looking thru the manuals and the R-OSX 
FAQ.  I can't find a list of the configuration commands to put in 
.Rprofile or other startup file that will set the font and fontsize (and 
  related parameters) for the R.app console window.
Can someone please tell me how to change the font and make the change 
"stick" ?

thanks
Carl


From simon.urbanek at r-project.org  Tue Jun  3 22:40:10 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 3 Jun 2008 16:40:10 -0400
Subject: [R-SIG-Mac] How to set console parameters in .Rprofile?
In-Reply-To: <4845A45D.5060107@witthoft.com>
References: <mailman.17.1212487204.7987.r-sig-mac@stat.math.ethz.ch>
	<4845A45D.5060107@witthoft.com>
Message-ID: <56090A5E-9FF5-43E5-804E-D8C770C6223C@r-project.org>


On Jun 3, 2008, at 4:06 PM, Carl Witthoft wrote:

> I promise I put in a ton of time looking thru the manuals and the R- 
> OSX FAQ.  I can't find a list of the configuration commands to put  
> in .Rprofile or other startup file that will set the font and  
> fontsize (and  related parameters) for the R.app console window.

The reason is simply that there are none. R.app is a Mac application  
running R and is controlled by Mac preferences, not by .Rprofile and  
friends.


> Can someone please tell me how to change the font and make the  
> change "stick" ?
>

Changes to the font size (<Cmd><+>/<Cmd><->) are saved automatically,  
so they will "stick" by default. Currently there is no way to change  
the font itself.

Cheers,
Simon


From chabotd at globetrotter.net  Thu Jun  5 13:36:07 2008
From: chabotd at globetrotter.net (Denis Chabot)
Date: Thu, 05 Jun 2008 07:36:07 -0400
Subject: [R-SIG-Mac] add a bitmap graphic onto a plot
In-Reply-To: <mailman.19.1212573605.790.r-sig-mac@stat.math.ethz.ch>
References: <mailman.19.1212573605.790.r-sig-mac@stat.math.ethz.ch>
Message-ID: <7672AA29-8432-4B25-804F-F2122850203A@globetrotter.net>

Hi,

a bit frivolous, I know, but I thought of adding a small picture of  
each species of fish onto the upper right corner of plots dealing with  
metabolic rate of several species of fish.

The only information I could find about doing this involved a package  
named pixmap. But from what I understand, I must first make the  
picture of each fish (diverse original formats, gif, jpeg, pdf) into a  
pnm format.

How do I manage this on Mac OS X? I had never come across this format  
before.

I have seen another way using grImport to import postscript vector  
graphics. Does anyone here know if this will also work if I transform  
my original pictures and drawings into postscript format (which  
obvisouly won't be vector based)?

Thanks,

Denis Chabot


From knoblauch at lyon.inserm.fr  Thu Jun  5 14:38:14 2008
From: knoblauch at lyon.inserm.fr (ken knoblauch)
Date: Thu, 5 Jun 2008 14:38:14 +0200
Subject: [R-SIG-Mac] add a bitmap graphic onto a plot
Message-ID: <e8364c7bfd1ff999773b90dfad0ec0ff@lyon.inserm.fr>

Hi,

Have a look at these sites for the portable anymap file format (pnm)

http://www.martinreddy.net/gfx/2d-hi.html

http://www.martinreddy.net/gfx/2d/PNM.txt

which seems to be in the pbm family.


ken


> Hi,
>
> a bit frivolous, I know, but I thought of adding a small picture of
> each species of fish onto the upper right corner of plots dealing with
> metabolic rate of several species of fish.
>
> The only information I could find about doing this involved a package
> named pixmap. But from what I understand, I must first make the
> picture of each fish (diverse original formats, gif, jpeg, pdf) into a
> pnm format.
>
> How do I manage this on Mac OS X? I had never come across this format
> before.
>
> I have seen another way using grImport to import postscript vector
> graphics. Does anyone here know if this will also work if I transform
> my original pictures and drawings into postscript format (which
> obvisouly won't be vector based)?
>
> Thanks,
>
> Denis Chabot
-- 
Ken Knoblauch
Inserm U846
Institut Cellule Souche et Cerveau
D?partement Neurosciences Int?gratives
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr

From simon.urbanek at r-project.org  Thu Jun  5 16:15:40 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 5 Jun 2008 10:15:40 -0400
Subject: [R-SIG-Mac] add a bitmap graphic onto a plot
In-Reply-To: <7672AA29-8432-4B25-804F-F2122850203A@globetrotter.net>
References: <mailman.19.1212573605.790.r-sig-mac@stat.math.ethz.ch>
	<7672AA29-8432-4B25-804F-F2122850203A@globetrotter.net>
Message-ID: <F5D08790-32A3-4B12-965A-5CC7FD82B487@r-project.org>


On Jun 5, 2008, at 7:36 AM, Denis Chabot wrote:

> Hi,
>
> a bit frivolous, I know, but I thought of adding a small picture of  
> each species of fish onto the upper right corner of plots dealing  
> with metabolic rate of several species of fish.
>
> The only information I could find about doing this involved a  
> package named pixmap. But from what I understand, I must first make  
> the picture of each fish (diverse original formats, gif, jpeg, pdf)  
> into a pnm format.
>
> How do I manage this on Mac OS X? I had never come across this  
> format before.
>

IMHO the simplest solution is to save your image(s) into uncompressed  
TIFFs (e.g. open the image in Preview and Save As.. , Format: TIFF ,  
Compression: None). The you can use this simple function to read TIFFs  
into pixmaps:

read.tiff = function(con, ...) {
     if (is.character(con)) {
         con = file(con, "rb")
         on.exit(close(con))
     }
   sig = readBin(con, 1L, 1, 2)
   if (sig != 0x4949 && sig != 0x4d4d) stop("Invalid signature")
   end = if (sig == 0x4949) "little" else "big"
   if (readBin(con, 1L, 1, 2, endian=end) != 42) stop("Invalid  
signature")
   o = readBin(con, 1L, 1, 4, endian=end)
   data = readBin(con, 1L, o - 8, 1, signed=FALSE, endian=end)
   ifds = readBin(con, 1L, 1, 2, endian=end)
   info = list()
   for (i in 1:ifds) {
     tag = readBin(con, 1L, 6, 2, endian=end)
     if (tag[1] == 257) info$height = tag[5]
     if (tag[1] == 256) info$width = tag[5]
     if (tag[1] == 259 && tag[5] != 1) stop("compressed TIFFs are not  
supported")
   }
   if (is.null(info$width)||is.null(info$height)) stop("missing width/ 
height tags")
   res = array(data/255, dim=c(3, info$width, info$height))
   z = pixmapRGB(0, ncol = dim(res)[2], nrow = dim(res)[3], ...)
   z at red = t(res[1, , ])
   z at green = t(res[2, , ])
   z at blue = t(res[3, , ])
   z
}

Cheers,
Simon


> I have seen another way using grImport to import postscript vector  
> graphics. Does anyone here know if this will also work if I  
> transform my original pictures and drawings into postscript format  
> (which obvisouly won't be vector based)?
>
> Thanks,
>
> Denis Chabot
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From braunm at MIT.EDU  Thu Jun  5 16:39:32 2008
From: braunm at MIT.EDU (Michael Braun)
Date: Thu, 5 Jun 2008 10:39:32 -0400
Subject: [R-SIG-Mac] Compiling gsl package for x86_64 build on Mac Pro using
	MacOS 10.5.3
Message-ID: <A09455CF-8EE8-4B48-A7DB-9A1A9290F725@MIT.EDU>

Hello, again, list:

At long last, I have been able to compile from source a working 64-bit  
implementation of R 2.7.0 on my Intel Mac Pro x86_64, running MacOS  
10.5.3.  I am now trying to install the gsl package (again, compiling  
from source).  I sent this issue to Robin Hankin, the maintainer of  
the gsl package, and he referred me to this list.  So, I hope this  
message isn't too off-topic.

I have no problem installing, compiling, loading and using the R gsl  
package on my 32-bit build on the same machine.  And, the package  
downloads and compiles fine on my x86_64 build, when I use  
install.packages ("gsl",type="source").  But, when I try to load the  
library, I get the following:

 > library(gsl)
Error in dyn.load(file, DLLpath = DLLpath, ...) :
  unable to load shared library '/Library/Frameworks/R.framework/ 
Resources/library/gsl/libs/x86_64/gsl.so':
  dlopen(/Library/Frameworks/R.framework/Resources/library/gsl/libs/ 
x86_64/gsl.so, 6): Symbol not found:  
_gsl_multimin_fdfminimizer_conjugate_fr
  Referenced from: /Library/Frameworks/R.framework/Resources/library/ 
gsl/libs/x86_64/gsl.so
  Expected in: dynamic lookup

Error: package/namespace load failed for 'gsl'

If it is helpful, I pasted the entire output of the configure and  
compilation stage at the bottom of this email.

Also, I do have a full working implementation of gsl 1.11, on my  
system.  Could there be a conflict (there wasn't for the 32 bit  
build)?  I see that there is a warning near the bottom of the  
compilation output (below), but I don't understand why the package  
would want to link to a non-package gsl version.

I'd appreciate any help you can provide.

Thanks,

Michael



Michael Braun
Assistant Professor of Management Science (Marketing Group)
MIT Sloan School of Management
One Amherst St., E40-169
Cambridge, MA 02142
braunm at mit.edu
617-253-3436



 > install.packages("gsl",repos="http://stat.cmu.edu/R/ 
CRAN",type="source")
trying URL 'http://stat.cmu.edu/R/CRAN/src/contrib/gsl_1.8-8.tar.gz'
Content type 'application/x-gzip' length 59084 bytes (57 Kb)
opened URL
==================================================
downloaded 57 Kb

* Installing *source* package 'gsl' ...
checking for gcc... gcc
checking for C compiler default output... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
checking for gsl_sf_airy_Ai_e in -lgsl... yes
checking how to run the C preprocessor... gcc -E
checking for egrep... grep -E
checking for ANSI C header files... rm: conftest.dSYM: is a directory
rm: conftest.dSYM: is a directory
yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking gsl/gsl_version.h usability... yes
checking gsl/gsl_version.h presence... yes
checking for gsl/gsl_version.h... yes
checking if GSL version >= 1.8... yes
configure: creating ./config.status
** libs
** arch - x86_64
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c airy.c -o airy.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c bessel.c -o bessel.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c clausen.c -o clausen.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c coulomb.c -o coulomb.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c coupling.c -o  
coupling.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c dawson.c -o dawson.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c debye.c -o debye.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c dilog.c -o dilog.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c ellint.c -o ellint.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c elljac.c -o elljac.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c error.c -o error.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c expint.c -o expint.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c fermi_dirac.c -o  
fermi_dirac.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c gamma.c -o gamma.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c gegenbauer.c -o  
gegenbauer.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c hyperg.c -o hyperg.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c laguerre.c -o  
laguerre.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c lambert.c -o lambert.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c legendre.c -o  
legendre.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c log.c -o log.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c multimin.c -o  
multimin.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c poly.c -o poly.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c pow_int.c -o pow_int.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c psi.c -o psi.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c qrng.c -o qrng.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c rng.c -o rng.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c synchrotron.c -o  
synchrotron.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c transport.c -o  
transport.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c trig.c -o trig.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c vector.c -o vector.o
gcc -arch x86_64 -std=gnu99 -g -p -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
x86_64  -I/usr/local/include    -fPIC  -g -O2 -c zeta.c -o zeta.o
gcc -arch x86_64 -std=gnu99 -g -p -dynamiclib -Wl,- 
headerpad_max_install_names  -undefined dynamic_lookup -single_module - 
multiply_defined suppress -L/usr/local/lib -o gsl.so airy.o bessel.o  
clausen.o coulomb.o coupling.o dawson.o debye.o dilog.o ellint.o  
elljac.o error.o expint.o fermi_dirac.o gamma.o gegenbauer.o hyperg.o  
laguerre.o lambert.o legendre.o log.o multimin.o poly.o pow_int.o  
psi.o qrng.o rng.o synchrotron.o transport.o trig.o vector.o zeta.o - 
lgsl -lgslcblas  -F/Library/Frameworks/R.framework/.. -framework R - 
Wl,-framework -Wl,CoreFoundation
ld: warning in /usr/local/lib/libgsl.dylib, file is not of required  
architecture
ld: warning in /usr/local/lib/libgslcblas.dylib, file is not of  
required architecture
** R
** inst
** preparing package for lazy loading
** help
 >>> Building/Updating help pages for package 'gsl'


< output snipped >

The downloaded packages are in
	/private/var/folders/6g/6gqJUHG-FsGAUUywFq+B3U++q3w/-Tmp-/RtmpzVqC9W/ 
downloaded_packages
Updating HTML index of packages in '.Library'
 > library(gsl)
Error in dyn.load(file, DLLpath = DLLpath, ...) :
  unable to load shared library '/Library/Frameworks/R.framework/ 
Resources/library/gsl/libs/x86_64/gsl.so':
  dlopen(/Library/Frameworks/R.framework/Resources/library/gsl/libs/ 
x86_64/gsl.so, 6): Symbol not found:  
_gsl_multimin_fdfminimizer_conjugate_fr
  Referenced from: /Library/Frameworks/R.framework/Resources/library/ 
gsl/libs/x86_64/gsl.so
  Expected in: dynamic lookup

Error: package/namespace load failed for 'gsl'


From ak at cs.stir.ac.uk  Thu Jun  5 17:24:43 2008
From: ak at cs.stir.ac.uk (Adam Kleczkowski)
Date: Thu, 05 Jun 2008 16:24:43 +0100
Subject: [R-SIG-Mac] Office integration
Message-ID: <4848053B.6050107@cs.stir.ac.uk>

Having just switched over from Windows to Mac, I am struggling with 
incorporating pictures generated by R into MSOffice documents. A quick 
read through archives and google suggests that this is almost hopeless 
for MS Word 2004 (any input is bitmapped). What is the current situation 
with MS Office 2008?

I am using R and Word in Windows under Parallels at the moment, but 
would like to switch fully to Mac soon.

Many thanks,
Adam

-- 
Adam Kleczkowski, Senior Lecturer
Dept. Computing Science and Mathematics
Univ. of Stirling, Stirling FK9 4LA, Scotland
e-mail ak at cs.stir.ac.uk, http://www.cs.stir.ac.uk/~ak, http://www.kleczkowski.net
tel +44 1786 467421, fax +44 1786 464551  


-- 
Academic Excellence at the Heart of Scotland.
The University of Stirling is a charity registered in Scotland, 
 number SC 011159.


From pnprice at lbl.gov  Thu Jun  5 19:19:21 2008
From: pnprice at lbl.gov (Phillip Price)
Date: Thu, 5 Jun 2008 10:19:21 -0700
Subject: [R-SIG-Mac] Office integration
In-Reply-To: <4848053B.6050107@cs.stir.ac.uk>
References: <4848053B.6050107@cs.stir.ac.uk>
Message-ID: <8C58C411-934F-4F78-A8F8-CA25C06696E1@lbl.gov>


On Jun 5, 2008, at 8:24 AM, Adam Kleczkowski wrote:

> Having just switched over from Windows to Mac, I am struggling with  
> incorporating pictures generated by R into MSOffice documents. A  
> quick read through archives and google suggests that this is almost  
> hopeless for MS Word 2004 (any input is bitmapped). What is the  
> current situation with MS Office 2008?

Use the bitmap() function with res = 400 (or greater) to generate  
bitmaps.  They import fine into old versions of Office.

--Phil Price


From davamaillist at gmail.com  Thu Jun  5 20:31:43 2008
From: davamaillist at gmail.com (david dav)
Date: Thu, 5 Jun 2008 20:31:43 +0200
Subject: [R-SIG-Mac] macvim and R
Message-ID: <772cb06e0806051131q18b30f5h53fe1df2572920c8@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080605/99fbec11/attachment.pl>

From goedman at mac.com  Thu Jun  5 20:53:33 2008
From: goedman at mac.com (Rob Goedman)
Date: Thu, 05 Jun 2008 11:53:33 -0700
Subject: [R-SIG-Mac] macvim and R
In-Reply-To: <772cb06e0806051131q18b30f5h53fe1df2572920c8@mail.gmail.com>
References: <772cb06e0806051131q18b30f5h53fe1df2572920c8@mail.gmail.com>
Message-ID: <FA982A1F-FAE0-441B-B545-AB425429357A@mac.com>

David,

Not sure if you have installed R.app, but in R FAQ for Mac OS (section  
6) an example id given how to do this.
I have used variants of these for SubEthaEdit, Smultron and TextMate.

R.app of course also has a build-in editor with the requested  
functionality.

Rob


On Jun 5, 2008, at 11:31 AM, david dav wrote:

> Hi,
> I'm new to macvim and I'd like to launch some R code from macvim to  
> R, just
> the way it can be done with TinnR on windows.
> It's probably explained somewhere either in R help or the macvim's  
> but I
> just don't know where to look for (lack of vocabulary)
> I'm using R 2.7 and Macvim 7.1 on mac os 10.4
> Thanks
> Dav
> PS : Answer to this question on Smultron or Subethaedit would be  
> welcome.
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jgarcia35 at gmail.com  Thu Jun  5 22:56:33 2008
From: jgarcia35 at gmail.com (Jose A. Garcia)
Date: Fri, 6 Jun 2008 08:56:33 +1200
Subject: [R-SIG-Mac] Office integration
Message-ID: <1afb42200806051356s341f314aga009386fb53b903c@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080606/063e0bf2/attachment.pl>

From simon.urbanek at r-project.org  Thu Jun  5 23:11:38 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 5 Jun 2008 17:11:38 -0400
Subject: [R-SIG-Mac] dash spacing and slope in quartz device
In-Reply-To: <20080529151728.w67jcd5assw0c4gg@imp.inserm.fr>
References: <20080529151728.w67jcd5assw0c4gg@imp.inserm.fr>
Message-ID: <1F487DAC-8BC4-46B0-A6CC-8EFFEA98CF52@r-project.org>

Ken,

it turned out that the speed optimization fix was the reason for this  
new behavior (and strangely enough only on Leopard). I have replaced  
it with another variant that should keep the dashes (mostly) intact in  
the current R-patched and R-devel (binaries will be available  
tonight). For contiguous lines with hundreds of points there may be  
gaps due to re-starting dashes at break points (for speed up), but we  
can't do much about it now simply because the drawing slows down to a  
crawl otherwise.

Cheers,
Simon


On May 29, 2008, at 9:17 AM, Kenneth Knoblauch wrote:

> Hi,
>
> There was some discussion about slowdowns in the new quartz
> device a few weeks ago that had to do with line drawing but
> I don't think that the following has been mentioned.
>
> I've noticed a "new" behavior in the quartz device that can be seen
> by running
>
> xx <- seq(1:100)
> plot(xx, xx^2, type = "l", lty = 2)
>
> On my display, the dash spacing disappears for xx < 40
> for the default window size.
> In addition, the dashes are obliterated by increasing the
> line width,
>
> lines(xx, 0.5 * xx^2, lty = 2, lwd = 2)
>
> unless I enlarge the window.  The same occurs for lty = 3.
>
> The dash spacing seems to depend on the slope of the contour.
>
> plot(rep(1, 100), lty = 2, type = "l", ylim = c(0, 100))
> lines(xx, lty = 2)
> lines(2 * xx, lty = 2)
>
> This did not occur in an earlier version of R that I tried (R 2.2.0)
> and does not occur in other graphic devices that I have tried
> (x11 and pdf, so far).
>
> sessionInfo()
> R version 2.7.0 Patched (2008-05-28 r45808)
> i386-apple-darwin8.10.1
>
> locale:
> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> Does anyone else see this?  Apologies in advance if this is normal
> behavior.  Thank you.
>
> best,
>
> Ken
>
>
> -- 
> Ken Knoblauch
> Inserm U846
> Institut Cellule Souche et Cerveau
> D?partement Neurosciences Int?gratives
> 18 avenue du Doyen L?pine
> 69500 Bron
> France
> tel: +33 (0)4 72 91 34 77
> fax: +33 (0)4 72 91 34 61
> portable: +33 (0)6 84 10 64 10
> http://www.sbri.fr
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Thu Jun  5 23:21:04 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 5 Jun 2008 17:21:04 -0400
Subject: [R-SIG-Mac] Office integration
In-Reply-To: <1afb42200806051356s341f314aga009386fb53b903c@mail.gmail.com>
References: <1afb42200806051356s341f314aga009386fb53b903c@mail.gmail.com>
Message-ID: <42927017-AA35-4BB2-9442-2D2796A48227@r-project.org>


On Jun 5, 2008, at 4:56 PM, Jose A. Garcia wrote:

> Hi Adam,
>
> I think that the best option for integrating graphics to MS Word is to
> either save the plot as jpg (for medium-quality graphs) or to save  
> them as
> pdf and then convert them to .png with Preview (for high-quality  
> graphs).
>
> For example:
>
> pdf("myplot.pdf",height=3.2,width=3.5,pointsize=9)
> plot(x,y)
> dev.off()
>
> Then open "myplot.pdf" with Preview and Save as PNG.
>

Preview's PNGs are increasingly problematic and of low quality (you  
can't set the dpi these days), so I'd suggest using Quartz to output  
hi-res PNGs e.g.

quartz(file="foo.png", type="png", dpi=300)

If you want to create a hi-res snapshot of your current Quartz plot in  
the GUI, you can use

quartz.save(file="foo.png", type="png", dpi=300)

(You'll need 2.7.0 or later).

Cheers,
Simon


From smckinney at bccrc.ca  Fri Jun  6 05:33:31 2008
From: smckinney at bccrc.ca (Steven McKinney)
Date: Thu, 5 Jun 2008 20:33:31 -0700
Subject: [R-SIG-Mac] R.app: Up-arrow yields incomplete command recall when #
	is in a character string
Message-ID: <0BE438149FF2254DB4199E2682C8DFEB0328A34D@crcmail1.BCCRC.CA>


Something is amiss with the mechanism that
recalls the last command when the user hits
the up-arrow key in the R.app GUI listener:


> formatC(0.0059999, digits=2,format="fg",flag="#")
[1] "0.0060"
> ## Hit the up-arrow to recall last command - 
> ## note that not all of the command appears
> formatC(0.0059999, digits=2,format="fg",flag="


Looks as if some code needs to be added
to differentiate 
# outside of quotes as a comment character 
from 
# inside quotes as a portion of a character string,
which I'll respectfully ask more talented programmers
than myself to fix in their copious spare time,
with many thanks in advance.



> sessionInfo()
R version 2.7.0 (2008-04-22) 
powerpc-apple-darwin8.10.1 

locale:
en_CA.UTF-8/en_CA.UTF-8/C/C/en_CA.UTF-8/en_CA.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] lme4_0.999375-14  Matrix_0.999375-9 lattice_0.17-6   

loaded via a namespace (and not attached):
[1] grid_2.7.0
> 

R.app GUI 1.24 (5102), S.Urbanek & S.M.Iacus, ? R Foundation for Statistical Computing, 2008



It works in a Mac terminal shell R session

> formatC(0.0059999, digits=2,format="fg",flag="#")
[1] "0.0060"
> ## Hit the up-arrow to recall last command - 
> ## all of the command appears
> formatC(0.0059999, digits=2,format="fg",flag="#")
[1] "0.0060"
> sessionInfo()
R version 2.7.0 (2008-04-22) 
powerpc-apple-darwin8.10.1 

locale:
en_CA.UTF-8/en_CA.UTF-8/C/C/en_CA.UTF-8/en_CA.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     
> 


and inside an Emacs ESS inferior buffer running R

> formatC(0.0059999, digits=2,format="fg",flag="#")
[1] "0.0060"
> formatC(0.0059999, digits=2,format="fg",flag="#")
[1] "0.0060"
> sessionInfo()
R version 2.7.0 (2008-04-22) 
powerpc-apple-darwin8.10.1 

locale:
C

attached base packages:
[1] stats     graphics  grDevices datasets  utils     methods   base     

other attached packages:
[1] lattice_0.17-6

loaded via a namespace (and not attached):
[1] Matrix_0.999375-9 grid_2.7.0        lme4_0.999375-14  nlme_3.1-88      
> 



Best

Steve McKinney


From tadams1 at cinci.rr.com  Fri Jun  6 15:06:26 2008
From: tadams1 at cinci.rr.com (Thomas Adams)
Date: Fri, 6 Jun 2008 09:06:26 -0400
Subject: [R-SIG-Mac] Office integration
In-Reply-To: <4848053B.6050107@cs.stir.ac.uk>
References: <4848053B.6050107@cs.stir.ac.uk>
Message-ID: <FC943CCE-77D0-49C7-A606-714ABC6D0BA3@cinci.rr.com>

Adam,

I would suggest getting iWork for $79 (http://store.apple.com/us/browse/home/shop_mac/software?mco=MTE2ODk 
) from Apple, which includes Pages, Numbers, & Keynote (wordprocessor,  
spreadsheet, presentation software, respectively). They are fully  
compatible with MS Office products. I have had no problem going  
between the Apple products and MS. For instance, one can directly open  
MS-Word docs in Pages and save directly to MS-Word. I work in a PC/WS- 
Windows environment and have not experienced any problems of  
significance.

Regards,
Tom

On Jun 5, 2008, at 11:24 AM, Adam Kleczkowski wrote:

> Having just switched over from Windows to Mac, I am struggling with  
> incorporating pictures generated by R into MSOffice documents. A  
> quick read through archives and google suggests that this is almost  
> hopeless for MS Word 2004 (any input is bitmapped). What is the  
> current situation with MS Office 2008?
>
> I am using R and Word in Windows under Parallels at the moment, but  
> would like to switch fully to Mac soon.
>
> Many thanks,
> Adam
>
> -- 
> Adam Kleczkowski, Senior Lecturer
> Dept. Computing Science and Mathematics
> Univ. of Stirling, Stirling FK9 4LA, Scotland
> e-mail ak at cs.stir.ac.uk, http://www.cs.stir.ac.uk/~ak, http://www.kleczkowski.net
> tel +44 1786 467421, fax +44 1786 464551
>
> -- 
> Academic Excellence at the Heart of Scotland.
> The University of Stirling is a charity registered in Scotland,  
> number SC 011159.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From hanson at depauw.edu  Fri Jun  6 15:43:08 2008
From: hanson at depauw.edu (Bryan Hanson)
Date: Fri, 06 Jun 2008 09:43:08 -0400
Subject: [R-SIG-Mac] Office integration
In-Reply-To: <FC943CCE-77D0-49C7-A606-714ABC6D0BA3@cinci.rr.com>
Message-ID: <C46EB72C.E48A%hanson@depauw.edu>

Maybe I missed something in an earlier post about this, but if not this
might help. The whole process seems simpler than some of the fixes I've seen
suggested.

I am using Office 2004 (with all available updates), on OS 10.4.11, and the
latest versions of R.

If you use the png or pdf output in R to create your graphic, then in Word
or PowerPoint you can use Insert -> Picture -> From File to place a graphic
no problem at all, then resize it as needed.  Then you can double click on
the graphic to size, position, float, fade etc.

I find Office does not always size upwards well, but shrinks things just
fine.  So make the diagrams larger to begin with.

And the png device has the option for a transparent background, which can be
useful when doing a scientific poster in PowerPoint.

R to a png or pdf works well for web diagrams too.

Completed example at:
http://fs6.depauw.edu:50080/~hanson/ResearchPages/PlantMetabPages/SrE
Poster.pdf

HTH Bryan

On 6/6/08 9:06 AM, "Thomas Adams" <tadams1 at cinci.rr.com> wrote:

> Adam,
> 
> I would suggest getting iWork for $79
> (http://store.apple.com/us/browse/home/shop_mac/software?mco=MTE2ODk
> ) from Apple, which includes Pages, Numbers, & Keynote (wordprocessor,
> spreadsheet, presentation software, respectively). They are fully
> compatible with MS Office products. I have had no problem going
> between the Apple products and MS. For instance, one can directly open
> MS-Word docs in Pages and save directly to MS-Word. I work in a PC/WS-
> Windows environment and have not experienced any problems of
> significance.
> 
> Regards,
> Tom
> 
> On Jun 5, 2008, at 11:24 AM, Adam Kleczkowski wrote:
> 
>> Having just switched over from Windows to Mac, I am struggling with
>> incorporating pictures generated by R into MSOffice documents. A
>> quick read through archives and google suggests that this is almost
>> hopeless for MS Word 2004 (any input is bitmapped). What is the
>> current situation with MS Office 2008?
>> 
>> I am using R and Word in Windows under Parallels at the moment, but
>> would like to switch fully to Mac soon.
>> 
>> Many thanks,
>> Adam
>> 
>> -- 
>> Adam Kleczkowski, Senior Lecturer
>> Dept. Computing Science and Mathematics
>> Univ. of Stirling, Stirling FK9 4LA, Scotland
>> e-mail ak at cs.stir.ac.uk, http://www.cs.stir.ac.uk/~ak,
>> http://www.kleczkowski.net
>> tel +44 1786 467421, fax +44 1786 464551
>> 
>> -- 
>> Academic Excellence at the Heart of Scotland.
>> The University of Stirling is a charity registered in Scotland,
>> number SC 011159.
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From macq at llnl.gov  Fri Jun  6 15:49:58 2008
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 6 Jun 2008 06:49:58 -0700
Subject: [R-SIG-Mac] Office integration
In-Reply-To: <4848053B.6050107@cs.stir.ac.uk>
References: <4848053B.6050107@cs.stir.ac.uk>
Message-ID: <p06230900c46eef18d285@[128.115.92.33]>

I find that R graphics saved as PNG files import into Word 2004 for 
Mac with good quality.
This is with the "Insert Picture from File" command, rather than copy/paste.

(Illustrator for Mac has a "Save for Office" option, and it saves in 
PNG format)

-Don

At 4:24 PM +0100 6/5/08, Adam Kleczkowski wrote:
>Having just switched over from Windows to Mac, I am struggling with 
>incorporating pictures generated by R into MSOffice documents. A 
>quick read through archives and google suggests that this is almost 
>hopeless for MS Word 2004 (any input is bitmapped). What is the 
>current situation with MS Office 2008?
>
>I am using R and Word in Windows under Parallels at the moment, but 
>would like to switch fully to Mac soon.
>
>Many thanks,
>Adam
>
>--
>Adam Kleczkowski, Senior Lecturer
>Dept. Computing Science and Mathematics
>Univ. of Stirling, Stirling FK9 4LA, Scotland
>e-mail ak at cs.stir.ac.uk, http://www.cs.stir.ac.uk/~ak, 
>http://www.kleczkowski.net
>tel +44 1786 467421, fax +44 1786 464551 
>
>--
>Academic Excellence at the Heart of Scotland.
>The University of Stirling is a charity registered in Scotland, 
>number SC 011159.
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
925-423-1062


From tadams1 at cinci.rr.com  Fri Jun  6 16:05:58 2008
From: tadams1 at cinci.rr.com (Thomas Adams)
Date: Fri, 6 Jun 2008 10:05:58 -0400
Subject: [R-SIG-Mac] Office integration
In-Reply-To: <C46EB72C.E48A%hanson@depauw.edu>
References: <C46EB72C.E48A%hanson@depauw.edu>
Message-ID: <6FA740B9-0BF7-4C1B-A508-CF0E36EEF367@cinci.rr.com>

Bryan,

My apologies if I confused the thread. I was simply offering up a very  
good alternative to the MS Office suite, regardless of what one might  
do in the MS-Word environment, as you offered. I wasn't suggesting the  
only way (or even the best way necessarily) to resolve Adam's Word  
issues was going the iWork direction. I find the MS products overly  
featurized & sluggish and I don't care to add to MS's coffers. And,  
BTW, Presentations using Keynote are superior in my estimation than  
those with PowerPoint.

Regards,
Tom

On Jun 6, 2008, at 9:43 AM, Bryan Hanson wrote:

> Maybe I missed something in an earlier post about this, but if not  
> this
> might help. The whole process seems simpler than some of the fixes  
> I've seen
> suggested.
>
> I am using Office 2004 (with all available updates), on OS 10.4.11,  
> and the
> latest versions of R.
>
> If you use the png or pdf output in R to create your graphic, then  
> in Word
> or PowerPoint you can use Insert -> Picture -> From File to place a  
> graphic
> no problem at all, then resize it as needed.  Then you can double  
> click on
> the graphic to size, position, float, fade etc.
>
> I find Office does not always size upwards well, but shrinks things  
> just
> fine.  So make the diagrams larger to begin with.
>
> And the png device has the option for a transparent background,  
> which can be
> useful when doing a scientific poster in PowerPoint.
>
> R to a png or pdf works well for web diagrams too.
>
> Completed example at:
> http://fs6.depauw.edu:50080/~hanson/ResearchPages/PlantMetabPages/SrE
> Poster.pdf
>
> HTH Bryan
>
> On 6/6/08 9:06 AM, "Thomas Adams" <tadams1 at cinci.rr.com> wrote:
>
>> Adam,
>>
>> I would suggest getting iWork for $79
>> (http://store.apple.com/us/browse/home/shop_mac/software?mco=MTE2ODk
>> ) from Apple, which includes Pages, Numbers, & Keynote  
>> (wordprocessor,
>> spreadsheet, presentation software, respectively). They are fully
>> compatible with MS Office products. I have had no problem going
>> between the Apple products and MS. For instance, one can directly  
>> open
>> MS-Word docs in Pages and save directly to MS-Word. I work in a PC/ 
>> WS-
>> Windows environment and have not experienced any problems of
>> significance.
>>
>> Regards,
>> Tom
>>
>> On Jun 5, 2008, at 11:24 AM, Adam Kleczkowski wrote:
>>
>>> Having just switched over from Windows to Mac, I am struggling with
>>> incorporating pictures generated by R into MSOffice documents. A
>>> quick read through archives and google suggests that this is almost
>>> hopeless for MS Word 2004 (any input is bitmapped). What is the
>>> current situation with MS Office 2008?
>>>
>>> I am using R and Word in Windows under Parallels at the moment, but
>>> would like to switch fully to Mac soon.
>>>
>>> Many thanks,
>>> Adam
>>>
>>> -- 
>>> Adam Kleczkowski, Senior Lecturer
>>> Dept. Computing Science and Mathematics
>>> Univ. of Stirling, Stirling FK9 4LA, Scotland
>>> e-mail ak at cs.stir.ac.uk, http://www.cs.stir.ac.uk/~ak,
>>> http://www.kleczkowski.net
>>> tel +44 1786 467421, fax +44 1786 464551
>>>
>>> -- 
>>> Academic Excellence at the Heart of Scotland.
>>> The University of Stirling is a charity registered in Scotland,
>>> number SC 011159.
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From chabotd at globetrotter.net  Sat Jun  7 14:29:31 2008
From: chabotd at globetrotter.net (Denis Chabot)
Date: Sat, 07 Jun 2008 08:29:31 -0400
Subject: [R-SIG-Mac] add a bitmap graphic onto a plot
In-Reply-To: <F5D08790-32A3-4B12-965A-5CC7FD82B487@r-project.org>
References: <mailman.19.1212573605.790.r-sig-mac@stat.math.ethz.ch>
	<7672AA29-8432-4B25-804F-F2122850203A@globetrotter.net>
	<F5D08790-32A3-4B12-965A-5CC7FD82B487@r-project.org>
Message-ID: <BAB6FBC9-159C-4865-BB4E-CDF1149715C5@globetrotter.net>

Thanks Simon, this works really well.

Thanks Ken also for the information on the pnm utilities, but at the  
moment I did not have time to figure out how to get and install them.  
The R function is more practical for me.

Denis
Le 08-06-05 ? 10:15, Simon Urbanek a ?crit :

>
> On Jun 5, 2008, at 7:36 AM, Denis Chabot wrote:
>
>> Hi,
>>
>> a bit frivolous, I know, but I thought of adding a small picture of  
>> each species of fish onto the upper right corner of plots dealing  
>> with metabolic rate of several species of fish.
>>
>> The only information I could find about doing this involved a  
>> package named pixmap. But from what I understand, I must first make  
>> the picture of each fish (diverse original formats, gif, jpeg, pdf)  
>> into a pnm format.
>>
>> How do I manage this on Mac OS X? I had never come across this  
>> format before.
>>
>
> IMHO the simplest solution is to save your image(s) into  
> uncompressed TIFFs (e.g. open the image in Preview and Save As.. ,  
> Format: TIFF , Compression: None). The you can use this simple  
> function to read TIFFs into pixmaps:
>
> read.tiff = function(con, ...) {
>    if (is.character(con)) {
>        con = file(con, "rb")
>        on.exit(close(con))
>    }
>  sig = readBin(con, 1L, 1, 2)
>  if (sig != 0x4949 && sig != 0x4d4d) stop("Invalid signature")
>  end = if (sig == 0x4949) "little" else "big"
>  if (readBin(con, 1L, 1, 2, endian=end) != 42) stop("Invalid  
> signature")
>  o = readBin(con, 1L, 1, 4, endian=end)
>  data = readBin(con, 1L, o - 8, 1, signed=FALSE, endian=end)
>  ifds = readBin(con, 1L, 1, 2, endian=end)
>  info = list()
>  for (i in 1:ifds) {
>    tag = readBin(con, 1L, 6, 2, endian=end)
>    if (tag[1] == 257) info$height = tag[5]
>    if (tag[1] == 256) info$width = tag[5]
>    if (tag[1] == 259 && tag[5] != 1) stop("compressed TIFFs are not  
> supported")
>  }
>  if (is.null(info$width)||is.null(info$height)) stop("missing width/ 
> height tags")
>  res = array(data/255, dim=c(3, info$width, info$height))
>  z = pixmapRGB(0, ncol = dim(res)[2], nrow = dim(res)[3], ...)
>  z at red = t(res[1, , ])
>  z at green = t(res[2, , ])
>  z at blue = t(res[3, , ])
>  z
> }
>
> Cheers,
> Simon
>
>
>> I have seen another way using grImport to import postscript vector  
>> graphics. Does anyone here know if this will also work if I  
>> transform my original pictures and drawings into postscript format  
>> (which obvisouly won't be vector based)?
>>
>> Thanks,
>>
>> Denis Chabot
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>


From HStevens at MUOhio.edu  Sun Jun  8 17:51:47 2008
From: HStevens at MUOhio.edu (Hank Stevens)
Date: Sun, 8 Jun 2008 11:51:47 -0400
Subject: [R-SIG-Mac] quartz aspect wrong
Message-ID: <E09141E7-CB6F-441E-AB22-0D5897399473@MUOhio.edu>

Hi Folks,
I am using R version 2.7.0 (2008-04-22). The problem I describe is new  
since 2.6.2.

I find that

x11(width=7, height=7)

gives me a square device but

quartz(,7,7)
or
plot(1:10)

results in a quartz device that does not appear square on my machine -  
the aspect is distorted compared to the X11 device. It looks stretched  
too tall and a tiny bit too narrow.

I am not sure if any of this is relevant:

I am on a Mac (10.5.3) and have two Dell monitors on their sides so I  
have two tall side by side screens. The resolutions are both 1024 x  
1280, and they are rotated 90 and 270 deg.

My .RProfile includes

grDevices::ps.options(horizontal = FALSE)

.First <- function() {cat(paste(date()),"\nRecepcion al R asombroso,
dude!\n\n")
#library(CarbonEL)
# Sys.setenv("DISPLAY"=":0")
  options(device="quartz")
                     }

Thanks for any thoughts.
Hank

Dr. Hank Stevens, Associate Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.cas.muohio.edu/~stevenmh/
http://www.cas.muohio.edu/ecology
http://www.muohio.edu/botany/

"If the stars should appear one night in a thousand years, how would men
believe and adore." -Ralph Waldo Emerson, writer and philosopher  
(1803-1882)


From simon.urbanek at r-project.org  Sun Jun  8 19:07:39 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 8 Jun 2008 13:07:39 -0400
Subject: [R-SIG-Mac] quartz aspect wrong
In-Reply-To: <E09141E7-CB6F-441E-AB22-0D5897399473@MUOhio.edu>
References: <E09141E7-CB6F-441E-AB22-0D5897399473@MUOhio.edu>
Message-ID: <C61D4D44-C527-41A8-B9D4-15E505CA9DD3@r-project.org>

Hank,

R 2.7.0 (unlike previous versions) allows non-square pixels and  
determines the pixel aspect ratio from the physical dimensions of the  
screen (unless specified directly). In your case I suspect that the  
reported physical dimensions are that of the non-rotated screen  
whereas the pixel dimensions are rotated - that will result in a bogus  
dpi.

Try setting dpi=100 (or the exact x and y resolutions of your screen  
if you know it). That should fix the problem (you can use  
quartz.options to make the change permanent).

Unfortunately CGDisplayRotation is only available in Mac OS X 10.5 so  
we cannot require it to determine the rotation. I have added some  
heuristics to match the orientation of the physical and pixel  
dimensions. It may throw off some unusual geometry screens but it  
should work in your case (sort of the most usual unusual case ;)), so  
please try tonight's R-devel or R-patched.

Thanks,
Simon


On Jun 8, 2008, at 11:51 AM, Hank Stevens wrote:

> Hi Folks,
> I am using R version 2.7.0 (2008-04-22). The problem I describe is  
> new since 2.6.2.
>
> I find that
>
> x11(width=7, height=7)
>
> gives me a square device but
>
> quartz(,7,7)
> or
> plot(1:10)
>
> results in a quartz device that does not appear square on my machine  
> - the aspect is distorted compared to the X11 device. It looks  
> stretched too tall and a tiny bit too narrow.
>
> I am not sure if any of this is relevant:
>
> I am on a Mac (10.5.3) and have two Dell monitors on their sides so  
> I have two tall side by side screens. The resolutions are both 1024  
> x 1280, and they are rotated 90 and 270 deg.
>
> My .RProfile includes
>
> grDevices::ps.options(horizontal = FALSE)
>
> .First <- function() {cat(paste(date()),"\nRecepcion al R asombroso,
> dude!\n\n")
> #library(CarbonEL)
> # Sys.setenv("DISPLAY"=":0")
> options(device="quartz")
>                    }
>
> Thanks for any thoughts.
> Hank
>
> Dr. Hank Stevens, Associate Professor
> 338 Pearson Hall
> Botany Department
> Miami University
> Oxford, OH 45056
>
> Office: (513) 529-4206
> Lab: (513) 529-4262
> FAX: (513) 529-4243
> http://www.cas.muohio.edu/~stevenmh/
> http://www.cas.muohio.edu/ecology
> http://www.muohio.edu/botany/
>
> "If the stars should appear one night in a thousand years, how would  
> men
> believe and adore." -Ralph Waldo Emerson, writer and philosopher  
> (1803-1882)
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From HStevens at MUOhio.edu  Sun Jun  8 19:17:07 2008
From: HStevens at MUOhio.edu (Hank Stevens)
Date: Sun, 8 Jun 2008 13:17:07 -0400
Subject: [R-SIG-Mac] quartz aspect wrong
In-Reply-To: <C61D4D44-C527-41A8-B9D4-15E505CA9DD3@r-project.org>
References: <E09141E7-CB6F-441E-AB22-0D5897399473@MUOhio.edu>
	<C61D4D44-C527-41A8-B9D4-15E505CA9DD3@r-project.org>
Message-ID: <2A46A951-E161-49D7-BF01-2F3C851EE542@MUOhio.edu>

Hi Simon,
dpi=100 works great. Thanks!
Hank
On Jun 8, 2008, at 1:07 PM, Simon Urbanek wrote:

> Hank,
>
> R 2.7.0 (unlike previous versions) allows non-square pixels and
> determines the pixel aspect ratio from the physical dimensions of the
> screen (unless specified directly). In your case I suspect that the
> reported physical dimensions are that of the non-rotated screen
> whereas the pixel dimensions are rotated - that will result in a bogus
> dpi.
>
> Try setting dpi=100 (or the exact x and y resolutions of your screen
> if you know it). That should fix the problem (you can use
> quartz.options to make the change permanent).
>
> Unfortunately CGDisplayRotation is only available in Mac OS X 10.5 so
> we cannot require it to determine the rotation. I have added some
> heuristics to match the orientation of the physical and pixel
> dimensions. It may throw off some unusual geometry screens but it
> should work in your case (sort of the most usual unusual case ;)), so
> please try tonight's R-devel or R-patched.
>
> Thanks,
> Simon
>
>
> On Jun 8, 2008, at 11:51 AM, Hank Stevens wrote:
>
>> Hi Folks,
>> I am using R version 2.7.0 (2008-04-22). The problem I describe is
>> new since 2.6.2.
>>
>> I find that
>>
>> x11(width=7, height=7)
>>
>> gives me a square device but
>>
>> quartz(,7,7)
>> or
>> plot(1:10)
>>
>> results in a quartz device that does not appear square on my machine
>> - the aspect is distorted compared to the X11 device. It looks
>> stretched too tall and a tiny bit too narrow.
>>
>> I am not sure if any of this is relevant:
>>
>> I am on a Mac (10.5.3) and have two Dell monitors on their sides so
>> I have two tall side by side screens. The resolutions are both 1024
>> x 1280, and they are rotated 90 and 270 deg.
>>
>> My .RProfile includes
>>
>> grDevices::ps.options(horizontal = FALSE)
>>
>> .First <- function() {cat(paste(date()),"\nRecepcion al R asombroso,
>> dude!\n\n")
>> #library(CarbonEL)
>> # Sys.setenv("DISPLAY"=":0")
>> options(device="quartz")
>>                   }
>>
>> Thanks for any thoughts.
>> Hank
>>
>> Dr. Hank Stevens, Associate Professor
>> 338 Pearson Hall
>> Botany Department
>> Miami University
>> Oxford, OH 45056
>>
>> Office: (513) 529-4206
>> Lab: (513) 529-4262
>> FAX: (513) 529-4243
>> http://www.cas.muohio.edu/~stevenmh/
>> http://www.cas.muohio.edu/ecology
>> http://www.muohio.edu/botany/
>>
>> "If the stars should appear one night in a thousand years, how would
>> men
>> believe and adore." -Ralph Waldo Emerson, writer and philosopher
>> (1803-1882)
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>



Dr. Hank Stevens, Associate Professor
338 Pearson Hall
Botany Department
Miami University
Oxford, OH 45056

Office: (513) 529-4206
Lab: (513) 529-4262
FAX: (513) 529-4243
http://www.cas.muohio.edu/~stevenmh/
http://www.cas.muohio.edu/ecology
http://www.muohio.edu/botany/

"If the stars should appear one night in a thousand years, how would men
believe and adore." -Ralph Waldo Emerson, writer and philosopher  
(1803-1882)


From Robert.B.Chatfield at nasa.gov  Mon Jun  9 19:25:40 2008
From: Robert.B.Chatfield at nasa.gov (Robert Chatfield)
Date: Mon, 9 Jun 2008 10:25:40 -0700
Subject: [R-SIG-Mac]  R syntax coloring for BBedit
Message-ID: <4B10B8AA-9F88-4A7E-A8C6-91C9202B4A65@nasa.gov>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080609/293ab489/attachment.pl>

From simon.urbanek at r-project.org  Mon Jun  9 23:38:00 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 9 Jun 2008 17:38:00 -0400
Subject: [R-SIG-Mac] R syntax coloring for BBedit
In-Reply-To: <4B10B8AA-9F88-4A7E-A8C6-91C9202B4A65@nasa.gov>
References: <4B10B8AA-9F88-4A7E-A8C6-91C9202B4A65@nasa.gov>
Message-ID: <6674F7BC-2A43-4B0F-9C12-69BC6BA52904@r-project.org>


On Jun 9, 2008, at 1:25 PM, Robert Chatfield wrote:

> Way back in 2005 you wrote --
>

You = ?!?


> I've written a BBEdit syntax coloring module for R language.  I think
> it might work with the free TextWrangler too.  If anyone wants a
> copy, email me.
>
> -- Gene
>
> I haven't found any versions from the CRAN  Mac OS-X FAQ or elsewhere.
>

There was no explicit intention to put it there.


> Does it work still?  Could I get a copy?
>

In the same thread you have the link, so why don't you just test it?
https://stat.ethz.ch/pipermail/r-sig-mac/2005-December/002520.html

Cheers,
Simon


> I notice that BBedit at least gets commas and quotes all by itself.
>
> regards, Bob C
>
>
> Dr. Robert Chatfield
> Earth Sciences, MS 245-5
> NASA Ames Research Center
> Moffett Field, CA 94035    USA
>
> Ph: 650-604-5490  FAX 650-604-3625
>
> http://geo.arc.nasa.gov/sgg/chatfield
>
>
>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From ak at cs.stir.ac.uk  Tue Jun 10 17:32:28 2008
From: ak at cs.stir.ac.uk (Adam Kleczkowski)
Date: Tue, 10 Jun 2008 16:32:28 +0100
Subject: [R-SIG-Mac] R editor sluggish
In-Reply-To: <4848053B.6050107@cs.stir.ac.uk>
References: <4848053B.6050107@cs.stir.ac.uk>
Message-ID: <484E9E8C.10609@cs.stir.ac.uk>

I am thoroughly enjoying the built-in R editor. However, I noticed that once I open files in it, the whole R GUI becomes very sluggish. For example, I have been changing Quartz parameters via 'Preferences > Quartz'. Any change there was followed by about 40 seconds period when R was not responding at all. 

Is it a known behaviour? I can, of course, use other Mac editors, or even use a Windows one I used in the past (UEdit), but the built-in editor for Mac is quite nice.

Any suggestions?

Many thanks again,
Adam

-- 
Adam Kleczkowski, Senior Lecturer
Dept. Computing Science and Mathematics
Univ. of Stirling, Stirling FK9 4LA, Scotland
e-mail ak at cs.stir.ac.uk, http://www.cs.stir.ac.uk/~ak, http://www.kleczkowski.net
tel +44 1786 467421, fax +44 1786 464551  


-- 
Academic Excellence at the Heart of Scotland.
The University of Stirling is a charity registered in Scotland, 
 number SC 011159.


From ak at cs.stir.ac.uk  Tue Jun 10 17:27:18 2008
From: ak at cs.stir.ac.uk (Adam Kleczkowski)
Date: Tue, 10 Jun 2008 16:27:18 +0100
Subject: [R-SIG-Mac] Office integration
In-Reply-To: <4848053B.6050107@cs.stir.ac.uk>
References: <4848053B.6050107@cs.stir.ac.uk>
Message-ID: <484E9D56.60400@cs.stir.ac.uk>

Many thanks for all suggestions. I have in the meantime installed MS 
Office 2008 and it appears that I can simply copy and paste the Quartz 
image onto the document and subsequently open in in Windows. However, I 
will be exploring other options as suggested in the posts.

Many thanks again,

Adam

Adam Kleczkowski wrote:
> Having just switched over from Windows to Mac, I am struggling with 
> incorporating pictures generated by R into MSOffice documents. A quick 
> read through archives and google suggests that this is almost hopeless 
> for MS Word 2004 (any input is bitmapped). What is the current 
> situation with MS Office 2008?
>
> I am using R and Word in Windows under Parallels at the moment, but 
> would like to switch fully to Mac soon.
>
> Many thanks,
> Adam
>

-- 
Adam Kleczkowski, Senior Lecturer
Dept. Computing Science and Mathematics
Univ. of Stirling, Stirling FK9 4LA, Scotland
e-mail ak at cs.stir.ac.uk, http://www.cs.stir.ac.uk/~ak, http://www.kleczkowski.net
tel +44 1786 467421, fax +44 1786 464551  


-- 
Academic Excellence at the Heart of Scotland.
The University of Stirling is a charity registered in Scotland, 
 number SC 011159.


From carl at witthoft.com  Tue Jun 10 19:44:27 2008
From: carl at witthoft.com (Carl Witthoft)
Date: Tue, 10 Jun 2008 13:44:27 -0400
Subject: [R-SIG-Mac] syntax coloring for TextWrangler
In-Reply-To: <mailman.25.1213092006.12668.r-sig-mac@stat.math.ethz.ch>
References: <mailman.25.1213092006.12668.r-sig-mac@stat.math.ethz.ch>
Message-ID: <484EBD7B.1010001@witthoft.com>

I tripped across that a month or two ago; it seems to work fine.
I dropped a line to Bare Bones Software suggesting they add it to their 
plug-in list; dunno if that ever happened.

Carl


> 
> I've written a BBEdit syntax coloring module for R language.  I think
> it might work with the free TextWrangler too.  If anyone wants a
> copy, email me.
[link:  http://www.smalltime.com/gene/R.plist  ]


From jp021 at sjtu.edu.cn  Thu Jun 12 15:45:47 2008
From: jp021 at sjtu.edu.cn (mathfrog)
Date: Thu, 12 Jun 2008 21:45:47 +0800
Subject: [R-SIG-Mac] generate random samples
Message-ID: <FB554D7D-88CF-46E5-B5FF-31855A1739FE@sjtu.edu.cn>

Hi,
I a newbie, I work with a mac.
Is there any package that I can use to generate random samples for  
arbitrary distribution, that is , user defined distribution ?

like the simplest
 > x <- rnorm( something )

and that is a normal distribution.










--------------------------
Peng Jiang
??
Ph.D. Candidate

Antai College of Economics & Management
????????
Department of Mathematics
???
Shanghai Jiaotong University (Minhang Campus)
800 Dongchuan Road
200240 Shanghai
P. R. China


From ripley at stats.ox.ac.uk  Thu Jun 12 15:59:40 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 12 Jun 2008 14:59:40 +0100 (BST)
Subject: [R-SIG-Mac] generate random samples
In-Reply-To: <FB554D7D-88CF-46E5-B5FF-31855A1739FE@sjtu.edu.cn>
References: <FB554D7D-88CF-46E5-B5FF-31855A1739FE@sjtu.edu.cn>
Message-ID: <alpine.LFD.1.10.0806121454060.31095@gannet.stats.ox.ac.uk>

Please ask such non-Mac-specific questions on R-help.

For 'arbitrary', no.  But there are lots of helpers, including
Runuran, SuppDists and distrSim, which cover lots of univariate 
distribtutions.  There are lots of multivariate ones implemented too, 
often in packages that make use of MCMC.  But you cannot even define an 
arbitrary distribution in a unified way.

On Thu, 12 Jun 2008, mathfrog wrote:

> Hi,
> I a newbie, I work with a mac.
> Is there any package that I can use to generate random samples for arbitrary 
> distribution, that is , user defined distribution ?
>
> like the simplest
>> x <- rnorm( something )
>
> and that is a normal distribution.
> --------------------------
> Peng Jiang
> ??
> Ph.D. Candidate
>
> Antai College of Economics & Management
> ????????
> Department of Mathematics
> ???
> Shanghai Jiaotong University (Minhang Campus)
> 800 Dongchuan Road
> 200240 Shanghai
> P. R. China
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From jp021 at sjtu.edu.cn  Fri Jun 13 05:34:05 2008
From: jp021 at sjtu.edu.cn (Peng Jiang)
Date: Fri, 13 Jun 2008 11:34:05 +0800
Subject: [R-SIG-Mac] import data
Message-ID: <A1D39F22-C485-47DC-89FF-8673FF063DE7@sjtu.edu.cn>

  Hi ,
  I have some data in Numbers, which is a data managing software for  
Mac OS. How can I import them to R ?
  Or how can I import my data from R to Numbers ?  Any interfaces  
between R and Numbers or something ?

  I am a newbie so if the question is toooooo simple, please take it  
easy.

  Thanks!











--------------------------
Peng Jiang
??
Ph.D. Candidate

Antai College of Economics & Management
????????
Department of Mathematics
???
Shanghai Jiaotong University (Minhang Campus)
800 Dongchuan Road
200240 Shanghai
P. R. China


From emiliano.guevara at unibo.it  Fri Jun 13 10:43:53 2008
From: emiliano.guevara at unibo.it (Emiliano Guevara)
Date: Fri, 13 Jun 2008 10:43:53 +0200
Subject: [R-SIG-Mac] import data
In-Reply-To: <A1D39F22-C485-47DC-89FF-8673FF063DE7@sjtu.edu.cn>
References: <A1D39F22-C485-47DC-89FF-8673FF063DE7@sjtu.edu.cn>
Message-ID: <2BFC201C-376A-41EF-AD6F-41AAF06B2D82@unibo.it>

Hi,

There's many ways to do it. I would suggest using comma separated  
values as a "bridge" filetype.

 From Numbers, save your data as a .csv file (comma separated value).
Then, in R, import the data from the file using:

 > read.csv(file.csv)

That should be it,

Best wishes,

E.


On Jun 13, 2008, at 05:34 AM, Peng Jiang wrote:

> Hi ,
> I have some data in Numbers, which is a data managing software for  
> Mac OS. How can I import them to R ?
> Or how can I import my data from R to Numbers ?  Any interfaces  
> between R and Numbers or something ?
>
> I am a newbie so if the question is toooooo simple, please take it  
> easy.
>
> Thanks!
>
> --------------------------
> Peng Jiang
> ??
> Ph.D. Candidate
>
> Antai College of Economics & Management
> ????????
> Department of Mathematics
> ???
> Shanghai Jiaotong University (Minhang Campus)
> 800 Dongchuan Road
> 200240 Shanghai
> P. R. China

****************************************
Emiliano R. Guevara
Facolt? di Lingue e Lett. Straniere
Dipart. di Lingue e Lett. Straniere
Universit? di Bologna
Via Cartoleria 5 (40124) Bologna, Italia
   http://morbo.lingue.unibo.it/
   emiliano.guevara at unibo.it
   emiguevara at gmail.com


From simon.urbanek at r-project.org  Fri Jun 13 16:53:30 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 13 Jun 2008 10:53:30 -0400
Subject: [R-SIG-Mac] import data
In-Reply-To: <2BFC201C-376A-41EF-AD6F-41AAF06B2D82@unibo.it>
References: <A1D39F22-C485-47DC-89FF-8673FF063DE7@sjtu.edu.cn>
	<2BFC201C-376A-41EF-AD6F-41AAF06B2D82@unibo.it>
Message-ID: <54BF8FBF-6E43-43EB-BABC-639DEF2B5EB8@r-project.org>


On Jun 13, 2008, at 4:43 AM, Emiliano Guevara wrote:

> Hi,
>
> There's many ways to do it. I would suggest using comma separated  
> values as a "bridge" filetype.
>

I find copy/paste more convenient for most simple tables - simply  
select the table in Numbers, press <Cmd><C> (Copy) and then read the  
clipboard in R:

read.table(pipe("pbpaste"))

Cheers,
Simon


> From Numbers, save your data as a .csv file (comma separated value).
> Then, in R, import the data from the file using:
>
> > read.csv(file.csv)
>
> That should be it,
>
> Best wishes,
>
> E.
>
>
> On Jun 13, 2008, at 05:34 AM, Peng Jiang wrote:
>
>> Hi ,
>> I have some data in Numbers, which is a data managing software for  
>> Mac OS. How can I import them to R ?
>> Or how can I import my data from R to Numbers ?  Any interfaces  
>> between R and Numbers or something ?
>>
>> I am a newbie so if the question is toooooo simple, please take it  
>> easy.
>>
>> Thanks!
>>
>> --------------------------
>> Peng Jiang
>> ??
>> Ph.D. Candidate
>>
>> Antai College of Economics & Management
>> ????????
>> Department of Mathematics
>> ???
>> Shanghai Jiaotong University (Minhang Campus)
>> 800 Dongchuan Road
>> 200240 Shanghai
>> P. R. China
>
> ****************************************
> Emiliano R. Guevara
> Facolt? di Lingue e Lett. Straniere
> Dipart. di Lingue e Lett. Straniere
> Universit? di Bologna
> Via Cartoleria 5 (40124) Bologna, Italia
>  http://morbo.lingue.unibo.it/
>  emiliano.guevara at unibo.it
>  emiguevara at gmail.com
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From lists at revelle.net  Fri Jun 13 17:16:11 2008
From: lists at revelle.net (William Revelle)
Date: Fri, 13 Jun 2008 10:16:11 -0500
Subject: [R-SIG-Mac] import data
In-Reply-To: <54BF8FBF-6E43-43EB-BABC-639DEF2B5EB8@r-project.org>
References: <A1D39F22-C485-47DC-89FF-8673FF063DE7@sjtu.edu.cn>
	<2BFC201C-376A-41EF-AD6F-41AAF06B2D82@unibo.it>
	<54BF8FBF-6E43-43EB-BABC-639DEF2B5EB8@r-project.org>
Message-ID: <p06240803c4783e4b2e3a@[165.124.160.10]>

I agree with Simon that copy paste is the easiest way to go.

However, because I was unable to remember the 
read.table(pipe("pbpaste")) command and wanted to 
give instructions to students that were platform 
independent, I created a little function 
(read.clipboard) that works on PCs or Macs .  It 
is available in the psych package:
"read.clipboard" <-
function(header=TRUE,...) {
     MAC<-Sys.info()[1]=="Darwin"    #are we on a Mac using the Darwin system?
    if (!MAC ) {if (header) 
read.clipboard<-read.table(file("clipboard"),header=TRUE,...)
             else read.clipboard<-read.table(file("clipboard"),...) }
     else {
    if (header) read.clipboard<-  read.table(pipe("pbpaste"),header=TRUE,...)
    else read.clipboard<- read.table(pipe("pbpaste"),...)}
    }

With the addition of  a sep="," option, it can also read csv copied files:


"read.clipboard.csv" <-
function(header=TRUE,sep=',',...) {  #same as read.clipboard(sep=',')
     MAC<-Sys.info()[1]=="Darwin"    #are we on a Mac using the Darwin system?
    if (!MAC ) {if (header) 
read.clipboard<-read.table(file("clipboard"),header=TRUE,sep,...)
             else read.clipboard<-read.table(file("clipboard"),sep,...) }
     else {
    if (header) read.clipboard<- 
read.table(pipe("pbpaste"),header=TRUE,sep,...)
    else read.clipboard<- read.table(pipe("pbpaste") ,sep,...)}
    }


Bill


At 10:53 AM -0400 6/13/08, Simon Urbanek wrote:
>On Jun 13, 2008, at 4:43 AM, Emiliano Guevara wrote:
>
>>Hi,
>>
>>There's many ways to do it. I would suggest 
>>using comma separated values as a "bridge" 
>>filetype.
>>
>
>I find copy/paste more convenient for most 
>simple tables - simply select the table in 
>Numbers, press <Cmd><C> (Copy) and then read the 
>clipboard in R:
>
>read.table(pipe("pbpaste"))
>
>Cheers,
>Simon
>
>>From Numbers, save your data as a .csv file (comma separated value).
>>Then, in R, import the data from the file using:
>>
>>>  read.csv(file.csv)
>>
>>That should be it,
>>
>>Best wishes,
>>
>>E.
>>
>>
>>On Jun 13, 2008, at 05:34 AM, Peng Jiang wrote:
>>
>>>Hi ,
>>>I have some data in Numbers, which is a data 
>>>managing software for Mac OS. How can I import 
>>>them to R ?
>>>Or how can I import my data from R to Numbers 
>>>?  Any interfaces between R and Numbers or 
>>>something ?
>>>
>>>I am a newbie so if the question is toooooo simple, please take it easy.
>>>
>>>Thanks!
>>>
>>>--------------------------
>>>Peng Jiang
>>>?]??
>>>Ph.D. Candidate
>>>
>>>Antai College of Economics & Management
>>>?????????????w?@
>>>Department of Mathematics
>>>???w?n
>>>Shanghai Jiaotong University (Minhang Campus)
>>>800 Dongchuan Road
>>>200240 Shanghai
>>>P. R. China
>>
>>****************************************
>>Emiliano R. Guevara
>>Facolt? di Lingue e Lett. Straniere
>>Dipart. di Lingue e Lett. Straniere
>>Universit? di Bologna
>>Via Cartoleria 5 (40124) Bologna, Italia
>>  http://morbo.lingue.unibo.it/
>>  emiliano.guevara at unibo.it
>>  emiguevara at gmail.com
>>
>>_______________________________________________
>>R-SIG-Mac mailing list
>>R-SIG-Mac at stat.math.ethz.ch
>>https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
William Revelle		http://personality-project.org/revelle.html
Professor			http://personality-project.org/personality.html
Department of Psychology             http://www.wcas.northwestern.edu/psych/
Northwestern University	http://www.northwestern.edu/
Attend  ISSID/ARP:2009               http://issid.org/issid.2009/


From simon.urbanek at r-project.org  Fri Jun 13 17:30:46 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 13 Jun 2008 11:30:46 -0400
Subject: [R-SIG-Mac] import data
In-Reply-To: <p06240803c4783e4b2e3a@[165.124.160.10]>
References: <A1D39F22-C485-47DC-89FF-8673FF063DE7@sjtu.edu.cn>
	<2BFC201C-376A-41EF-AD6F-41AAF06B2D82@unibo.it>
	<54BF8FBF-6E43-43EB-BABC-639DEF2B5EB8@r-project.org>
	<p06240803c4783e4b2e3a@[165.124.160.10]>
Message-ID: <3F611A34-19DB-41E6-8135-B330DFD3B50D@r-project.org>

I agree that the difference between Mac and others WRT clipboard is a  
bit annoying. I'll see if I can fix that.

Thanks,
Simon

On Jun 13, 2008, at 11:16 AM, William Revelle wrote:

> I agree with Simon that copy paste is the easiest way to go.
>
> However, because I was unable to remember the  
> read.table(pipe("pbpaste")) command and wanted to give instructions  
> to students that were platform independent, I created a little  
> function (read.clipboard) that works on PCs or Macs .  It is  
> available in the psych package:
> "read.clipboard" <-
> function(header=TRUE,...) {
>    MAC<-Sys.info()[1]=="Darwin"    #are we on a Mac using the Darwin  
> system?
>   if (!MAC ) {if (header) read.clipboard<- 
> read.table(file("clipboard"),header=TRUE,...)
>            else read.clipboard<-read.table(file("clipboard"),...) }
>    else {
>   if (header) read.clipboard<-   
> read.table(pipe("pbpaste"),header=TRUE,...)
>   else read.clipboard<- read.table(pipe("pbpaste"),...)}
>   }
>
> With the addition of  a sep="," option, it can also read csv copied  
> files:
>
>
> "read.clipboard.csv" <-
> function(header=TRUE,sep=',',...) {  #same as read.clipboard(sep=',')
>    MAC<-Sys.info()[1]=="Darwin"    #are we on a Mac using the Darwin  
> system?
>   if (!MAC ) {if (header) read.clipboard<- 
> read.table(file("clipboard"),header=TRUE,sep,...)
>            else read.clipboard<- 
> read.table(file("clipboard"),sep,...) }
>    else {
>   if (header) read.clipboard<-  
> read.table(pipe("pbpaste"),header=TRUE,sep,...)
>   else read.clipboard<- read.table(pipe("pbpaste") ,sep,...)}
>   }
>
>
> Bill
>
>
> At 10:53 AM -0400 6/13/08, Simon Urbanek wrote:
>> On Jun 13, 2008, at 4:43 AM, Emiliano Guevara wrote:
>>
>>> Hi,
>>>
>>> There's many ways to do it. I would suggest using comma separated  
>>> values as a "bridge" filetype.
>>>
>>
>> I find copy/paste more convenient for most simple tables - simply  
>> select the table in Numbers, press <Cmd><C> (Copy) and then read  
>> the clipboard in R:
>>
>> read.table(pipe("pbpaste"))
>>
>> Cheers,
>> Simon
>>
>>> From Numbers, save your data as a .csv file (comma separated value).
>>> Then, in R, import the data from the file using:
>>>
>>>> read.csv(file.csv)
>>>
>>> That should be it,
>>>
>>> Best wishes,
>>>
>>> E.
>>>
>>>
>>> On Jun 13, 2008, at 05:34 AM, Peng Jiang wrote:
>>>
>>>> Hi ,
>>>> I have some data in Numbers, which is a data managing software  
>>>> for Mac OS. How can I import them to R ?
>>>> Or how can I import my data from R to Numbers ?  Any interfaces  
>>>> between R and Numbers or something ?
>>>>
>>>> I am a newbie so if the question is toooooo simple, please take  
>>>> it easy.
>>>>
>>>> Thanks!
>>>>
>>>> --------------------------
>>>> Peng Jiang
>>>> ?]??
>>>> Ph.D. Candidate
>>>>
>>>> Antai College of Economics & Management
>>>> ?????????????w?@
>>>> Department of Mathematics
>>>> ???w?n
>>>> Shanghai Jiaotong University (Minhang Campus)
>>>> 800 Dongchuan Road
>>>> 200240 Shanghai
>>>> P. R. China
>>>
>>> ****************************************
>>> Emiliano R. Guevara
>>> Facolt? di Lingue e Lett. Straniere
>>> Dipart. di Lingue e Lett. Straniere
>>> Universit? di Bologna
>>> Via Cartoleria 5 (40124) Bologna, Italia
>>> http://morbo.lingue.unibo.it/
>>> emiliano.guevara at unibo.it
>>> emiguevara at gmail.com
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
> --
> William Revelle		http://personality-project.org/revelle.html
> Professor			http://personality-project.org/personality.html
> Department of Psychology             http://www.wcas.northwestern.edu/psych/
> Northwestern University	http://www.northwestern.edu/
> Attend  ISSID/ARP:2009               http://issid.org/issid.2009/
>
>


From ripley at stats.ox.ac.uk  Fri Jun 13 17:46:16 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 13 Jun 2008 16:46:16 +0100 (BST)
Subject: [R-SIG-Mac] import data
In-Reply-To: <3F611A34-19DB-41E6-8135-B330DFD3B50D@r-project.org>
References: <A1D39F22-C485-47DC-89FF-8673FF063DE7@sjtu.edu.cn>
	<2BFC201C-376A-41EF-AD6F-41AAF06B2D82@unibo.it>
	<54BF8FBF-6E43-43EB-BABC-639DEF2B5EB8@r-project.org>
	<p06240803c4783e4b2e3a@[165.124.160.10]>
	<3F611A34-19DB-41E6-8135-B330DFD3B50D@r-project.org>
Message-ID: <alpine.LFD.1.10.0806131642220.12270@gannet.stats.ox.ac.uk>

On Fri, 13 Jun 2008, Simon Urbanek wrote:

> I agree that the difference between Mac and others WRT clipboard is a bit 
> annoying. I'll see if I can fix that.

If you do, can you leave a way to read from the X11 primary selection for 
those who like to use X11 applications on Mac OS?  I'm not objecting to 
file="clipboard" changing its meaning, but "X11_clipboard" is taken, so 
perhaps "X11_primary" or some such.

Brian

>
> Thanks,
> Simon
>
> On Jun 13, 2008, at 11:16 AM, William Revelle wrote:
>
>> I agree with Simon that copy paste is the easiest way to go.
>> 
>> However, because I was unable to remember the read.table(pipe("pbpaste")) 
>> command and wanted to give instructions to students that were platform 
>> independent, I created a little function (read.clipboard) that works on PCs 
>> or Macs .  It is available in the psych package:
>> "read.clipboard" <-
>> function(header=TRUE,...) {
>>   MAC<-Sys.info()[1]=="Darwin"    #are we on a Mac using the Darwin system?
>>  if (!MAC ) {if (header) 
>> read.clipboard<-read.table(file("clipboard"),header=TRUE,...)
>>           else read.clipboard<-read.table(file("clipboard"),...) }
>>   else {
>>  if (header) read.clipboard<-  read.table(pipe("pbpaste"),header=TRUE,...)
>>  else read.clipboard<- read.table(pipe("pbpaste"),...)}
>>  }
>> 
>> With the addition of  a sep="," option, it can also read csv copied files:
>> 
>> 
>> "read.clipboard.csv" <-
>> function(header=TRUE,sep=',',...) {  #same as read.clipboard(sep=',')
>>   MAC<-Sys.info()[1]=="Darwin"    #are we on a Mac using the Darwin system?
>>  if (!MAC ) {if (header) 
>> read.clipboard<-read.table(file("clipboard"),header=TRUE,sep,...)
>>           else read.clipboard<-read.table(file("clipboard"),sep,...) }
>>   else {
>>  if (header) read.clipboard<- 
>> read.table(pipe("pbpaste"),header=TRUE,sep,...)
>>  else read.clipboard<- read.table(pipe("pbpaste") ,sep,...)}
>>  }
>> 
>> 
>> Bill
>> 
>> 
>> At 10:53 AM -0400 6/13/08, Simon Urbanek wrote:
>>> On Jun 13, 2008, at 4:43 AM, Emiliano Guevara wrote:
>>> 
>>>> Hi,
>>>> 
>>>> There's many ways to do it. I would suggest using comma separated values 
>>>> as a "bridge" filetype.
>>>> 
>>> 
>>> I find copy/paste more convenient for most simple tables - simply select 
>>> the table in Numbers, press <Cmd><C> (Copy) and then read the clipboard in 
>>> R:
>>> 
>>> read.table(pipe("pbpaste"))
>>> 
>>> Cheers,
>>> Simon
>>> 
>>>> From Numbers, save your data as a .csv file (comma separated value).
>>>> Then, in R, import the data from the file using:
>>>> 
>>>>> read.csv(file.csv)
>>>> 
>>>> That should be it,
>>>> 
>>>> Best wishes,
>>>> 
>>>> E.
>>>> 
>>>> 
>>>> On Jun 13, 2008, at 05:34 AM, Peng Jiang wrote:
>>>> 
>>>>> Hi ,
>>>>> I have some data in Numbers, which is a data managing software for Mac 
>>>>> OS. How can I import them to R ?
>>>>> Or how can I import my data from R to Numbers ?  Any interfaces between 
>>>>> R and Numbers or something ?
>>>>> 
>>>>> I am a newbie so if the question is toooooo simple, please take it easy.
>>>>> 
>>>>> Thanks!
>>>>> 
>>>>> --------------------------
>>>>> Peng Jiang
>>>>> ?]??
>>>>> Ph.D. Candidate
>>>>> 
>>>>> Antai College of Economics & Management
>>>>> ?????????????w?@
>>>>> Department of Mathematics
>>>>> ???w?n
>>>>> Shanghai Jiaotong University (Minhang Campus)
>>>>> 800 Dongchuan Road
>>>>> 200240 Shanghai
>>>>> P. R. China
>>>> 
>>>> ****************************************
>>>> Emiliano R. Guevara
>>>> Facolt? di Lingue e Lett. Straniere
>>>> Dipart. di Lingue e Lett. Straniere
>>>> Universit? di Bologna
>>>> Via Cartoleria 5 (40124) Bologna, Italia
>>>> http://morbo.lingue.unibo.it/
>>>> emiliano.guevara at unibo.it
>>>> emiguevara at gmail.com
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
>> --
>> William Revelle		http://personality-project.org/revelle.html
>> Professor 
>> http://personality-project.org/personality.html
>> Department of Psychology 
>> http://www.wcas.northwestern.edu/psych/
>> Northwestern University	http://www.northwestern.edu/
>> Attend  ISSID/ARP:2009               http://issid.org/issid.2009/
>> 
>> 
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From carl at witthoft.com  Fri Jun 13 22:54:22 2008
From: carl at witthoft.com (Carl Witthoft)
Date: Fri, 13 Jun 2008 16:54:22 -0400
Subject: [R-SIG-Mac] generate distributions
In-Reply-To: <mailman.15.1213351204.15626.r-sig-mac@stat.math.ethz.ch>
References: <mailman.15.1213351204.15626.r-sig-mac@stat.math.ethz.ch>
Message-ID: <4852DE7E.1060503@witthoft.com>

Well, let's be careful :-).  True, there are numerical methods
(transforms and such ) for a limited set of distribution functions.

But, given huge amounts of computer time,  the uniform distribution can 
be mapped to any user-defined curve by using simple 
weighting/clustering.  No argument that this is a poor way to generate a 
realistic set of data.


> Please ask such non-Mac-specific questions on R-help.
> 
> For 'arbitrary', no.  But there are lots of helpers, including 
> Runuran, SuppDists and distrSim, which cover lots of univariate 
> distribtutions.  There are lots of multivariate ones implemented too,
>  often in packages that make use of MCMC.  But you cannot even define
> an arbitrary distribution in a unified way.
>


From patsalov at gmail.com  Sat Jun 14 08:24:44 2008
From: patsalov at gmail.com (Vadim Patsalo)
Date: Sat, 14 Jun 2008 02:24:44 -0400
Subject: [R-SIG-Mac] R.app GUI feature request
Message-ID: <EB590448-A2A7-4FBE-9951-07C06E84768E@gmail.com>

Hello Everyone,

I was hoping to make the following feature request: I've noticed that  
R.app uses the standard Ctrl-a and Ctrl-e to jump to the beginning and  
the end of the line on the console and in the editor. However, I have  
not found a way to clear the current line (akin to Ctrl-c, Ctrl-u,  
Ctrl-k in the shell of your choice). Would it be possible for the two  
to be added as key combinations? Is there a quick way to clear the  
current line that I am missing?

Thanks for your time!
Vadim


From mbaden at student.ethz.ch  Sun Jun 15 13:55:12 2008
From: mbaden at student.ethz.ch (Markus Baden)
Date: Sun, 15 Jun 2008 13:55:12 +0200
Subject: [R-SIG-Mac] gfortran error: unrecognized command line option "-arch"
Message-ID: <78586457-AAFB-4EA9-9932-CFB4F8406EF9@student.ethz.ch>

Hi,

I'm using R version 2.7.0 (2008-04-22) on my MacBook Pro running Mac  
OS X.5.2. I installed R using the universal binary from CRAN, so I  
guess my R uses the gfortran compiler provided in the binary although  
I have also have a gfortran coming with my fink installation.

When installing packages from source I often get the error message  
"unrecognized command line option "-arch". Like in:

gfortran -arch ppc  -isysroot /Developer/SDKs/MacOSX10.4u.sdk   -fPIC   
-g -O2 -c rf-common.f -o rf-common.o
f951: error: unrecognized command line option "-arch"
make: *** [rf-common.o] Error 1

Does anyone now how to fix this?

Below is an example with the package "robustbase" (of course you can  
install the mac.binary from CRAN, and I have successfully done so,  
this just illustrates the error I get also from different packages  
like fAsset which are not available as mac.binary)

Best regards,

Markus

Example session:

 > install.packages("robustbase", type="source")
Warning in install.packages("robustbase", type = "source") :
   argument 'lib' is missing: using '/Users/mbaden/Library/Rmetrics- 
devel'
--- Please select a CRAN mirror for use in this session ---
trying URL 'http://cran.ch.r-project.org/src/contrib/robustbase_0.2-8.tar.gz'
Content type 'application/x-gzip' length 372375 bytes (363 Kb)
opened URL
==================================================
downloaded 363 Kb

* Installing *source* package 'robustbase' ...
** libs
** arch - i386
gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -std=gnu99 -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
i386  -msse3    -fPIC  -g -O2 -march=nocona -c R-rng4ftn.c -o R- 
rng4ftn.o
gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -std=gnu99 -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
i386  -msse3    -fPIC  -g -O2 -march=nocona -c init.c -o init.o
gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -std=gnu99 -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
i386  -msse3    -fPIC  -g -O2 -march=nocona -c lmrob.c -o lmrob.o
gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -std=gnu99 -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
i386  -msse3    -fPIC  -g -O2 -march=nocona -c qn_sn.c -o qn_sn.o
gfortran -arch i386  -isysroot /Developer/SDKs/MacOSX10.4u.sdk   - 
fPIC  -g -O2 -march=nocona -c rf-common.f -o rf-common.o
f951: error: unrecognized command line option "-arch"
make: *** [rf-common.o] Error 1
chmod: /Users/mbaden/Library/Rmetrics-devel/robustbase/libs/i386/*: No  
such file or directory
** arch - ppc
gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -std=gnu99 -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
ppc  -I/usr/local/include    -fPIC  -g -O2 -c R-rng4ftn.c -o R-rng4ftn.o
gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -std=gnu99 -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
ppc  -I/usr/local/include    -fPIC  -g -O2 -c init.c -o init.o
gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -std=gnu99 -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
ppc  -I/usr/local/include    -fPIC  -g -O2 -c lmrob.c -o lmrob.o
gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
version-min=10.4 -std=gnu99 -I/Library/Frameworks/R.framework/ 
Resources/include -I/Library/Frameworks/R.framework/Resources/include/ 
ppc  -I/usr/local/include    -fPIC  -g -O2 -c qn_sn.c -o qn_sn.o
gfortran -arch ppc  -isysroot /Developer/SDKs/MacOSX10.4u.sdk   -fPIC   
-g -O2 -c rf-common.f -o rf-common.o
f951: error: unrecognized command line option "-arch"
make: *** [rf-common.o] Error 1
chmod: /Users/mbaden/Library/Rmetrics-devel/robustbase/libs/ppc/*: No  
such file or directory
ERROR: compilation failed for package 'robustbase'
** Removing '/Users/mbaden/Library/Rmetrics-devel/robustbase'
** Restoring previous '/Users/mbaden/Library/Rmetrics-devel/robustbase'

The downloaded packages are in
	/private/var/folders/dZ/dZrLO5okHT4aCUifqJnpVk+++TI/-Tmp-/Rtmp2TObol/ 
downloaded_packages
Warning message:
In install.packages("robustbase", type = "source") :
   installation of package 'robustbase' had non-zero exit status


From mbaden at student.ethz.ch  Sun Jun 15 15:11:00 2008
From: mbaden at student.ethz.ch (Markus Baden)
Date: Sun, 15 Jun 2008 15:11:00 +0200
Subject: [R-SIG-Mac] gfortran error: unrecognized command line option
	"-arch"
In-Reply-To: <78586457-AAFB-4EA9-9932-CFB4F8406EF9@student.ethz.ch>
References: <78586457-AAFB-4EA9-9932-CFB4F8406EF9@student.ethz.ch>
Message-ID: <14534502-97E1-42FF-B1A2-B67939C25C62@student.ethz.ch>

Hi again,

I want to apologize for posting my question prematurely to the list. I  
have been able to find the problem. R tried to compile using the  
gfortran of my fink distribution which came with gcc 4.3. Linking  
gfortran instead to the compiler provided by the R-2.7.0.dmg (/usr/ 
local/bin/gfortran-4.2) which is version 4.2 solved the problem.

Now the packages install correctly.

Sorry again,

Markus

On Jun 15, 2008, at 1:55 PM, Markus Baden wrote:

> Hi,
>
> I'm using R version 2.7.0 (2008-04-22) on my MacBook Pro running Mac  
> OS X.5.2. I installed R using the universal binary from CRAN, so I  
> guess my R uses the gfortran compiler provided in the binary  
> although I have also have a gfortran coming with my fink installation.
>
> When installing packages from source I often get the error message  
> "unrecognized command line option "-arch". Like in:
>
> gfortran -arch ppc  -isysroot /Developer/SDKs/MacOSX10.4u.sdk   - 
> fPIC  -g -O2 -c rf-common.f -o rf-common.o
> f951: error: unrecognized command line option "-arch"
> make: *** [rf-common.o] Error 1
>
> Does anyone now how to fix this?
>
> Below is an example with the package "robustbase" (of course you can  
> install the mac.binary from CRAN, and I have successfully done so,  
> this just illustrates the error I get also from different packages  
> like fAsset which are not available as mac.binary)
>
> Best regards,
>
> Markus
>
> Example session:
>
> > install.packages("robustbase", type="source")
> Warning in install.packages("robustbase", type = "source") :
>  argument 'lib' is missing: using '/Users/mbaden/Library/Rmetrics- 
> devel'
> --- Please select a CRAN mirror for use in this session ---
> trying URL 'http://cran.ch.r-project.org/src/contrib/robustbase_0.2-8.tar.gz'
> Content type 'application/x-gzip' length 372375 bytes (363 Kb)
> opened URL
> ==================================================
> downloaded 363 Kb
>
> * Installing *source* package 'robustbase' ...
> ** libs
> ** arch - i386
> gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
> version-min=10.4 -std=gnu99 -I/Library/Frameworks/R.framework/ 
> Resources/include -I/Library/Frameworks/R.framework/Resources/ 
> include/i386  -msse3    -fPIC  -g -O2 -march=nocona -c R-rng4ftn.c - 
> o R-rng4ftn.o
> gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
> version-min=10.4 -std=gnu99 -I/Library/Frameworks/R.framework/ 
> Resources/include -I/Library/Frameworks/R.framework/Resources/ 
> include/i386  -msse3    -fPIC  -g -O2 -march=nocona -c init.c -o  
> init.o
> gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
> version-min=10.4 -std=gnu99 -I/Library/Frameworks/R.framework/ 
> Resources/include -I/Library/Frameworks/R.framework/Resources/ 
> include/i386  -msse3    -fPIC  -g -O2 -march=nocona -c lmrob.c -o  
> lmrob.o
> gcc -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
> version-min=10.4 -std=gnu99 -I/Library/Frameworks/R.framework/ 
> Resources/include -I/Library/Frameworks/R.framework/Resources/ 
> include/i386  -msse3    -fPIC  -g -O2 -march=nocona -c qn_sn.c -o  
> qn_sn.o
> gfortran -arch i386  -isysroot /Developer/SDKs/MacOSX10.4u.sdk   - 
> fPIC  -g -O2 -march=nocona -c rf-common.f -o rf-common.o
> f951: error: unrecognized command line option "-arch"
> make: *** [rf-common.o] Error 1
> chmod: /Users/mbaden/Library/Rmetrics-devel/robustbase/libs/i386/*:  
> No such file or directory
> ** arch - ppc
> gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
> version-min=10.4 -std=gnu99 -I/Library/Frameworks/R.framework/ 
> Resources/include -I/Library/Frameworks/R.framework/Resources/ 
> include/ppc  -I/usr/local/include    -fPIC  -g -O2 -c R-rng4ftn.c -o  
> R-rng4ftn.o
> gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
> version-min=10.4 -std=gnu99 -I/Library/Frameworks/R.framework/ 
> Resources/include -I/Library/Frameworks/R.framework/Resources/ 
> include/ppc  -I/usr/local/include    -fPIC  -g -O2 -c init.c -o init.o
> gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
> version-min=10.4 -std=gnu99 -I/Library/Frameworks/R.framework/ 
> Resources/include -I/Library/Frameworks/R.framework/Resources/ 
> include/ppc  -I/usr/local/include    -fPIC  -g -O2 -c lmrob.c -o  
> lmrob.o
> gcc -arch ppc -isysroot /Developer/SDKs/MacOSX10.4u.sdk -mmacosx- 
> version-min=10.4 -std=gnu99 -I/Library/Frameworks/R.framework/ 
> Resources/include -I/Library/Frameworks/R.framework/Resources/ 
> include/ppc  -I/usr/local/include    -fPIC  -g -O2 -c qn_sn.c -o  
> qn_sn.o
> gfortran -arch ppc  -isysroot /Developer/SDKs/MacOSX10.4u.sdk   - 
> fPIC  -g -O2 -c rf-common.f -o rf-common.o
> f951: error: unrecognized command line option "-arch"
> make: *** [rf-common.o] Error 1
> chmod: /Users/mbaden/Library/Rmetrics-devel/robustbase/libs/ppc/*:  
> No such file or directory
> ERROR: compilation failed for package 'robustbase'
> ** Removing '/Users/mbaden/Library/Rmetrics-devel/robustbase'
> ** Restoring previous '/Users/mbaden/Library/Rmetrics-devel/ 
> robustbase'
>
> The downloaded packages are in
> 	/private/var/folders/dZ/dZrLO5okHT4aCUifqJnpVk+++TI/-Tmp-/ 
> Rtmp2TObol/downloaded_packages
> Warning message:
> In install.packages("robustbase", type = "source") :
>  installation of package 'robustbase' had non-zero exit status
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From khansen at stat.Berkeley.EDU  Mon Jun 16 02:37:39 2008
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Sun, 15 Jun 2008 17:37:39 -0700
Subject: [R-SIG-Mac] R.app GUI feature request
In-Reply-To: <EB590448-A2A7-4FBE-9951-07C06E84768E@gmail.com>
References: <EB590448-A2A7-4FBE-9951-07C06E84768E@gmail.com>
Message-ID: <A0AC77CF-8288-46C1-8BF3-E8BA467BEF15@stat.berkeley.edu>

On Jun 13, 2008, at 11:24 PM, Vadim Patsalo wrote:

> Hello Everyone,
>
> I was hoping to make the following feature request: I've noticed  
> that R.app uses the standard Ctrl-a and Ctrl-e to jump to the  
> beginning and the end of the line on the console and in the editor.  
> However, I have not found a way to clear the current line (akin to  
> Ctrl-c, Ctrl-u, Ctrl-k in the shell of your choice). Would it be  
> possible for the two to be added as key combinations? Is there a  
> quick way to clear the current line that I am missing?

Unless I am mistaken this is simply a consequence of that fact that OS  
X has semi-Emacs like keybindings in most text fields (well Cocoa text  
fields). The same holds true for Terminal, Safari and other  
applications. I say semi because only some keybindings are supported,  
but it is relatively easy to add more keybindings. Do a google search  
for something like Emacs like keybindings in Cocoa.

The relevant files are called something like StandardKeyBinding.dict

Kasper


From mehrabi.m at gmail.com  Mon Jun 16 02:40:59 2008
From: mehrabi.m at gmail.com (Margarete Mehrabian)
Date: Sun, 15 Jun 2008 17:40:59 -0700
Subject: [R-SIG-Mac] quartz
Message-ID: <9490BD74-9C63-433F-ABBC-4D388CA4422A@gmail.com>

I have just downloaded the latest version of R for mac.  I have mac  
OS10 (leopard). Several things are different, including  plotting, I  
can no longer copy the Quartz window directly and PASTE.  The paste  
function dosn't work.
thanks
margarte


From ripley at stats.ox.ac.uk  Mon Jun 16 09:42:44 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 16 Jun 2008 08:42:44 +0100 (BST)
Subject: [R-SIG-Mac] quartz
In-Reply-To: <9490BD74-9C63-433F-ABBC-4D388CA4422A@gmail.com>
References: <9490BD74-9C63-433F-ABBC-4D388CA4422A@gmail.com>
Message-ID: <alpine.LFD.1.10.0806160834190.19791@gannet.stats.ox.ac.uk>

On Sun, 15 Jun 2008, Margarete Mehrabian wrote:

> I have just downloaded the latest version of R for mac.  I have mac OS10 
> (leopard). Several things are different, including  plotting, I can no longer 
> copy the Quartz window directly and PASTE.  The paste function dosn't work.
> thanks

What do you mean by 'the latest version' (see the posting guide for the 
'at a minimum' information required)?

My guess is that you have 2.7.0, and you should get a build of 2.7.1RC (or 
wait for 2.7.1 to be released next week).  These are available from 
http://r.research.att.com/, and I guess you should try

http://r.research.att.com/R-2.7-branch-45927.dmg

(or the current version).

A lot of the differences are bug fixes (in the previous quartz() device or 
R.app), but some new bugs have been corrected -- see the archives of this 
list.

> margarte
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From jp021 at sjtu.edu.cn  Mon Jun 16 12:07:38 2008
From: jp021 at sjtu.edu.cn (Peng Jiang)
Date: Mon, 16 Jun 2008 18:07:38 +0800
Subject: [R-SIG-Mac] curve does not work well??
Message-ID: <57811FA0-744F-44E1-A2CF-1E6D43A7FE82@sjtu.edu.cn>

hi,

I use the example code from a R book ,

 > x = rnorm( 100 )
 > hist( x, probability = TRUE, col = gray(.9), main="normal mu = 0 ,  
sigma = 1") #this works well


 > curve( dnorm(x),add =T) # but this does not work and it gives a  
warning .


I am using Leopard and does anybody has ever met the problem?

--------------------------
Peng Jiang
??
Ph.D. Candidate

Antai College of Economics & Management
????????
Department of Mathematics
???
Shanghai Jiaotong University (Minhang Campus)
800 Dongchuan Road
200240 Shanghai
P. R. China


From murdoch at stats.uwo.ca  Mon Jun 16 12:48:15 2008
From: murdoch at stats.uwo.ca (Duncan Murdoch)
Date: Mon, 16 Jun 2008 06:48:15 -0400
Subject: [R-SIG-Mac] curve does not work well??
In-Reply-To: <57811FA0-744F-44E1-A2CF-1E6D43A7FE82@sjtu.edu.cn>
References: <57811FA0-744F-44E1-A2CF-1E6D43A7FE82@sjtu.edu.cn>
Message-ID: <485644EF.8050207@stats.uwo.ca>

On 16/06/2008 6:07 AM, Peng Jiang wrote:
> hi,
> 
> I use the example code from a R book ,
> 
>  > x = rnorm( 100 )
>  > hist( x, probability = TRUE, col = gray(.9), main="normal mu = 0 ,  
> sigma = 1") #this works well
> 
> 
>  > curve( dnorm(x),add =T) # but this does not work and it gives a  
> warning .
> 
> 
> I am using Leopard and does anybody has ever met the problem?

What warning do you get?  This is probably not Mac related, but the 
error might tell us differently.  It would also help if you printed the 
result of sessionInfo(), to show R versions, etc.

Duncan Murdoch


From sdavis2 at mail.nih.gov  Mon Jun 16 13:03:44 2008
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Mon, 16 Jun 2008 07:03:44 -0400
Subject: [R-SIG-Mac] curve does not work well??
In-Reply-To: <57811FA0-744F-44E1-A2CF-1E6D43A7FE82@sjtu.edu.cn>
References: <57811FA0-744F-44E1-A2CF-1E6D43A7FE82@sjtu.edu.cn>
Message-ID: <264855a00806160403v393323ebgd1fae9db90f32ab@mail.gmail.com>

On Mon, Jun 16, 2008 at 6:07 AM, Peng Jiang <jp021 at sjtu.edu.cn> wrote:
> hi,
>
> I use the example code from a R book ,
>
>> x = rnorm( 100 )
>> hist( x, probability = TRUE, col = gray(.9), main="normal mu = 0 , sigma =
>> 1") #this works well
>
>
>> curve( dnorm(x),add =T) # but this does not work and it gives a warning .
>
>
> I am using Leopard and does anybody has ever met the problem?

Hi, Peng.

Generally, you will want to write to R-help for questions.  Only if
there is evidence that the problem is Mac-specific should you use the
R-SIG-Mac list.  Also, if you are reporting a problem, you will want
to include the code that you use, any error messages or output, and
also include the output of sessionInfo().  In particular, it isn't
possible to know what you mean by "this does not work" and you did not
include the warning message in the output.  The example seems to work
for me, though.

Sean


From kjbeath at kagi.com  Mon Jun 16 13:41:36 2008
From: kjbeath at kagi.com (Ken Beath)
Date: Mon, 16 Jun 2008 21:41:36 +1000
Subject: [R-SIG-Mac] curve does not work well??
In-Reply-To: <57811FA0-744F-44E1-A2CF-1E6D43A7FE82@sjtu.edu.cn>
References: <57811FA0-744F-44E1-A2CF-1E6D43A7FE82@sjtu.edu.cn>
Message-ID: <0788321E-5617-4C82-BBA1-C1374A1B07BA@kagi.com>

On 16/06/2008, at 8:07 PM, Peng Jiang wrote:

> hi,
>
> I use the example code from a R book ,
>
> > x = rnorm( 100 )
> > hist( x, probability = TRUE, col = gray(.9), main="normal mu = 0 ,  
> sigma = 1") #this works well
>
>
> > curve( dnorm(x),add =T) # but this does not work and it gives a  
> warning .
>
>
> I am using Leopard and does anybody has ever met the problem?
>

This works fine for me using R 2.7.0 under 10.5.3.

It may be that something previous in your R session has caused the  
problem, so try restarting R.

Ken


From jp021 at sjtu.edu.cn  Mon Jun 16 15:30:21 2008
From: jp021 at sjtu.edu.cn (Peng Jiang)
Date: Mon, 16 Jun 2008 21:30:21 +0800
Subject: [R-SIG-Mac] why does these warning mean?
Message-ID: <AB9BD329-E7E3-4E19-8B35-67B6CFA0BB07@sjtu.edu.cn>

Hi ,

  I don't know whether it is a Mac specific problem. I hope it does  
not bother you.

When I start R each time I got the following warning , I reinstall for  
many times the problem still exists.

  R(4053,0xa0619fa0) malloc: *** error for object 0x15630350: double  
free
*** set a breakpoint in malloc_error_break to debug
R(4053,0xa0619fa0) malloc: *** error for object 0x15630f10: double free
*** set a breakpoint in malloc_error_break to debug
R(4053,0xa0619fa0) malloc: *** error for object 0x15630350: double free
*** set a breakpoint in malloc_error_break to debug
R(4053,0xa0619fa0) malloc: *** error for object 0x15630f60: double free
*** set a breakpoint in malloc_error_break to debug


My sessionInfo() is
  > sessionInfo()
R version 2.7.0 (2008-04-22)
i386-apple-darwin8.10.1

locale:
zh_CN.UTF-8/zh_CN.UTF-8/C/C/zh_CN.UTF-8/zh_CN.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base



--------------------------
Peng Jiang
??
Ph.D. Candidate

Antai College of Economics & Management
????????
Department of Mathematics
???
Shanghai Jiaotong University (Minhang Campus)
800 Dongchuan Road
200240 Shanghai
P. R. China


From thatsanicehatyouhave at mac.com  Mon Jun 16 15:50:57 2008
From: thatsanicehatyouhave at mac.com (thatsanicehatyouhave at mac.com)
Date: Mon, 16 Jun 2008 14:50:57 +0100
Subject: [R-SIG-Mac] R.app GUI feature request
In-Reply-To: <EB590448-A2A7-4FBE-9951-07C06E84768E@gmail.com>
References: <EB590448-A2A7-4FBE-9951-07C06E84768E@gmail.com>
Message-ID: <12685CCD-529D-42D7-9853-087C631C4C6B@mac.com>


On 14 Jun 2008, at 07:24, Vadim Patsalo wrote:

> I was hoping to make the following feature request: I've noticed  
> that R.app uses the standard Ctrl-a and Ctrl-e to jump to the  
> beginning and the end of the line on the console and in the editor.  
> However, I have not found a way to clear the current line (akin to  
> Ctrl-c, Ctrl-u, Ctrl-k in the shell of your choice). Would it be  
> possible for the two to be added as key combinations? Is there a  
> quick way to clear the current line that I am missing?

See:

http://hcs.harvard.edu/~jrus/Site/Cocoa%20Text%20System.html

For example, to implement ^u to clear the line, create the following  
text file:

~/Library/KeyBindings/DefaultKeyBinding.dict

with contents below:

{
         "^u"    = ("moveToBeginningOfLine:", "deleteToEndOfLine:");
}

Cheers,

Demitri


From carl at witthoft.com  Mon Jun 16 23:11:54 2008
From: carl at witthoft.com (Carl Witthoft)
Date: Mon, 16 Jun 2008 17:11:54 -0400
Subject: [R-SIG-Mac] key bindings for clearing line
In-Reply-To: <mailman.15.1213610405.29697.r-sig-mac@stat.math.ethz.ch>
References: <mailman.15.1213610405.29697.r-sig-mac@stat.math.ethz.ch>
Message-ID: <4856D71A.9080303@witthoft.com>



> On Jun 13, 2008, at 11:24 PM, Vadim Patsalo wrote:
> 
>> Hello Everyone,
>>
>> I was hoping to make the following feature request: I've noticed  
>> that R.app uses the standard Ctrl-a and Ctrl-e to jump to the  
>> beginning and the end of the line on the console and in the editor.  
>> However, I have not found a way to clear the current line (akin to  
>> Ctrl-c, Ctrl-u, Ctrl-k in the shell of your choice). Would it be  
>> possible for the two to be added as key combinations? Is there a  
>> quick way to clear the current line that I am missing?
> 
> Unless I am mistaken this is simply a consequence of that fact that OS  
> X has semi-Emacs like keybindings in most text fields (well Cocoa text  
> fields). The same holds true for Terminal, Safari and other  
> applications. I say semi because only some keybindings are supported,  
> but it is relatively easy to add more keybindings. Do a google search  
> for something like Emacs like keybindings in Cocoa.
> 
> The relevant files are called something like StandardKeyBinding.dict
> 

Great :-(   : I took a look at SKB.dict.  It's full of keys like "~$?"
( that's tilde - dollar sign - funny box with an x-ish thing in it).
Anyone want to take a flyer at what keys those represent?


From emiliano.guevara at unibo.it  Mon Jun 16 23:37:38 2008
From: emiliano.guevara at unibo.it (Emiliano Guevara)
Date: Mon, 16 Jun 2008 23:37:38 +0200
Subject: [R-SIG-Mac] key bindings for clearing line
In-Reply-To: <4856D71A.9080303@witthoft.com>
References: <mailman.15.1213610405.29697.r-sig-mac@stat.math.ethz.ch>
	<4856D71A.9080303@witthoft.com>
Message-ID: <E15E1518-FED2-439F-B30E-0AB8D6EBE9FC@unibo.it>

Dear Carl,

My guess is that the funny boxes are either Unicode characters and  
that the editor you are opening the file with is not Unicode-aware, or  
that they are control characters like backspace, Ctrl, etc. (basically  
the first 30 or so code points in the ASCII/ISO LATIN character table).

In any case, if you are interested in making your own custom key- 
bindings for Mac OS X, these two links are extremely useful and clear:

http://www.lsmason.com/articles/macosxkeybindings.html
http://www.hcs.harvard.edu/~jrus/site/cocoa-text.html

Hope it helps,

E.




On Jun 16, 2008, at 23:11 PM, Carl Witthoft wrote:

>
>
>> On Jun 13, 2008, at 11:24 PM, Vadim Patsalo wrote:
>>> Hello Everyone,
>>>
>>> I was hoping to make the following feature request: I've noticed   
>>> that R.app uses the standard Ctrl-a and Ctrl-e to jump to the   
>>> beginning and the end of the line on the console and in the  
>>> editor.  However, I have not found a way to clear the current line  
>>> (akin to  Ctrl-c, Ctrl-u, Ctrl-k in the shell of your choice).  
>>> Would it be  possible for the two to be added as key combinations?  
>>> Is there a  quick way to clear the current line that I am missing?
>> Unless I am mistaken this is simply a consequence of that fact that  
>> OS  X has semi-Emacs like keybindings in most text fields (well  
>> Cocoa text  fields). The same holds true for Terminal, Safari and  
>> other  applications. I say semi because only some keybindings are  
>> supported,  but it is relatively easy to add more keybindings. Do a  
>> google search  for something like Emacs like keybindings in Cocoa.
>> The relevant files are called something like StandardKeyBinding.dict
>
> Great :-(   : I took a look at SKB.dict.  It's full of keys like "~ 
> $?"
> ( that's tilde - dollar sign - funny box with an x-ish thing in it).
> Anyone want to take a flyer at what keys those represent?
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

****************************************
Emiliano R. Guevara
Facolt? di Lingue e Lett. Straniere
Dipart. di Lingue e Lett. Straniere
Universit? di Bologna
Via Cartoleria 5 (40124) Bologna, Italia
   http://morbo.lingue.unibo.it/
   emiliano.guevara at unibo.it
   emiguevara at gmail.com


From smckinney at bccrc.ca  Tue Jun 17 00:45:01 2008
From: smckinney at bccrc.ca (Steven McKinney)
Date: Mon, 16 Jun 2008 15:45:01 -0700
Subject: [R-SIG-Mac] R.app GUI feature request
References: <EB590448-A2A7-4FBE-9951-07C06E84768E@gmail.com>
Message-ID: <0BE438149FF2254DB4199E2682C8DFEB0328A370@crcmail1.BCCRC.CA>

Hi Vadim,

Ctrl-k clears the current line for me,
so hopefully all you need to do is get
this version of the R.app GUI:

R.app GUI 1.24 (5102), S.Urbanek & S.M.Iacus, ? R Foundation for Statistical Computing, 2008


Steve McKinney

-----Original Message-----
From: r-sig-mac-bounces at stat.math.ethz.ch on behalf of Vadim Patsalo
Sent: Fri 6/13/2008 11:24 PM
To: r-sig-mac at stat.math.ethz.ch
Subject: [R-SIG-Mac] R.app GUI feature request
 
Hello Everyone,

I was hoping to make the following feature request: I've noticed that  
R.app uses the standard Ctrl-a and Ctrl-e to jump to the beginning and  
the end of the line on the console and in the editor. However, I have  
not found a way to clear the current line (akin to Ctrl-c, Ctrl-u,  
Ctrl-k in the shell of your choice). Would it be possible for the two  
to be added as key combinations? Is there a quick way to clear the  
current line that I am missing?

Thanks for your time!
Vadim

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at stat.math.ethz.ch
https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From angel at alfomega.es  Wed Jun 18 08:49:24 2008
From: angel at alfomega.es (=?ISO-8859-1?Q?Angel_Berihuete_Mac=EDas?=)
Date: Wed, 18 Jun 2008 08:49:24 +0200
Subject: [R-SIG-Mac] image() to Rplot.pdf
Message-ID: <6EADEE6F-F339-42BD-AD82-CA4927C72093@alfomega.es>

Hello all members!

I work with version 2.7.1 RC (2008-06-15 r45927). When I save as  
Rplot.pdf a quartz() device generated with image() function, still  
appears gray rectangles over the image ( the image in the quartz()  
device is all right! )

What I am doing wrong?

Thanks

?ngel Berihuete.

From christophe.dutang at wanadoo.fr  Wed Jun 18 13:19:01 2008
From: christophe.dutang at wanadoo.fr (Christophe Dutang)
Date: Wed, 18 Jun 2008 13:19:01 +0200 (CEST)
Subject: [R-SIG-Mac] R-SIG-Mac Digest, Vol 64, Issue 16
Message-ID: <3955220.852001213787941600.JavaMail.www@wwinf1a08>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080618/369e1bcd/attachment.pl>

From simon.urbanek at r-project.org  Wed Jun 18 17:26:37 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 18 Jun 2008 11:26:37 -0400
Subject: [R-SIG-Mac] image() to Rplot.pdf
In-Reply-To: <6EADEE6F-F339-42BD-AD82-CA4927C72093@alfomega.es>
References: <6EADEE6F-F339-42BD-AD82-CA4927C72093@alfomega.es>
Message-ID: <26CF90BD-4B4E-4CDE-96D9-3DDBF0E1C50E@r-project.org>


On Jun 18, 2008, at 2:49 AM, Angel Berihuete Mac?as wrote:

> Hello all members!
>
> I work with version 2.7.1 RC (2008-06-15 r45927). When I save as  
> Rplot.pdf a quartz() device generated with image() function, still  
> appears gray rectangles over the image ( the image in the quartz()  
> device is all right! )
>

That is a rendering issue in Preview (zoom in and you'll see that  
there are no lines), it is unrelated to the Quartz device. The PDF  
itself is fine, but Preview doesn't correct for anti-aliasing effects.  
I think using Acrobat may work (I don't want to install it since it  
messes up the system so I cannot check).

Cheers,
Simon


From carl at witthoft.com  Wed Jun 18 22:55:46 2008
From: carl at witthoft.com (Carl Witthoft)
Date: Wed, 18 Jun 2008 16:55:46 -0400
Subject: [R-SIG-Mac] quartz to pdf
In-Reply-To: <mailman.17.1213783204.13408.r-sig-mac@stat.math.ethz.ch>
References: <mailman.17.1213783204.13408.r-sig-mac@stat.math.ethz.ch>
Message-ID: <48597652.6020709@witthoft.com>

No problems here w/ a few test images.


> 
> I work with version 2.7.1 RC (2008-06-15 r45927). When I save as  
> Rplot.pdf a quartz() device generated with image() function, still  
> appears gray rectangles over the image ( the image in the quartz()  
> device is all right! )
> 
> What I am doing wrong?
> 
> Thanks
> 
> ?ngel Berihuete.


From angel at alfomega.es  Wed Jun 18 23:21:36 2008
From: angel at alfomega.es (=?ISO-8859-1?Q?Angel_Berihuete_Mac=EDas?=)
Date: Wed, 18 Jun 2008 23:21:36 +0200
Subject: [R-SIG-Mac] image() to Rplot.pdf
In-Reply-To: <26CF90BD-4B4E-4CDE-96D9-3DDBF0E1C50E@r-project.org>
References: <6EADEE6F-F339-42BD-AD82-CA4927C72093@alfomega.es>
	<26CF90BD-4B4E-4CDE-96D9-3DDBF0E1C50E@r-project.org>
Message-ID: <97D07C6F-F16D-4C0A-8FCC-DB6E6D63A8D8@alfomega.es>

Thank you very much,  Simon!

I zoom in the image, but no changes. There are lines, ugly gray lines.  
Next, I open the image with Acrobat Reader and again no changes.

Any help will be wellcome.

?ngel Berihuete.

El 18/06/2008, a las 17:26, Simon Urbanek escribi?:

>
> On Jun 18, 2008, at 2:49 AM, Angel Berihuete Mac?as wrote:
>
>> Hello all members!
>>
>> I work with version 2.7.1 RC (2008-06-15 r45927). When I save as  
>> Rplot.pdf a quartz() device generated with image() function, still  
>> appears gray rectangles over the image ( the image in the quartz()  
>> device is all right! )
>>
>
> That is a rendering issue in Preview (zoom in and you'll see that  
> there are no lines), it is unrelated to the Quartz device. The PDF  
> itself is fine, but Preview doesn't correct for anti-aliasing  
> effects. I think using Acrobat may work (I don't want to install it  
> since it messes up the system so I cannot check).
>
> Cheers,
> Simon
>
>


From angel at alfomega.es  Wed Jun 18 23:32:36 2008
From: angel at alfomega.es (=?ISO-8859-1?Q?Angel_Berihuete_Mac=EDas?=)
Date: Wed, 18 Jun 2008 23:32:36 +0200
Subject: [R-SIG-Mac] quartz to pdf
In-Reply-To: <48597652.6020709@witthoft.com>
References: <mailman.17.1213783204.13408.r-sig-mac@stat.math.ethz.ch>
	<48597652.6020709@witthoft.com>
Message-ID: <FA934BD5-B567-4821-A988-9299284A96AA@alfomega.es>

Hello Carl, thanks for your answer.

Please, can you expecify MacOs and R versions?

Angel Berihuete

El 18/06/2008, a las 22:55, Carl Witthoft escribi?:

> No problems here w/ a few test images.
>
>
>> I work with version 2.7.1 RC (2008-06-15 r45927). When I save as   
>> Rplot.pdf a quartz() device generated with image() function, still   
>> appears gray rectangles over the image ( the image in the quartz()   
>> device is all right! )
>> What I am doing wrong?
>> Thanks
>> ?ngel Berihuete.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Wed Jun 18 23:48:26 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 18 Jun 2008 17:48:26 -0400
Subject: [R-SIG-Mac] image() to Rplot.pdf
In-Reply-To: <97D07C6F-F16D-4C0A-8FCC-DB6E6D63A8D8@alfomega.es>
References: <6EADEE6F-F339-42BD-AD82-CA4927C72093@alfomega.es>
	<26CF90BD-4B4E-4CDE-96D9-3DDBF0E1C50E@r-project.org>
	<97D07C6F-F16D-4C0A-8FCC-DB6E6D63A8D8@alfomega.es>
Message-ID: <45E638A1-8337-4108-A6B3-959E172C49A0@r-project.org>


On Jun 18, 2008, at 5:21 PM, Angel Berihuete Mac?as wrote:

> Thank you very much,  Simon!
>
> I zoom in the image, but no changes. There are lines, ugly gray  
> lines. Next, I open the image with Acrobat Reader and again no  
> changes.
>

Can you tell me exactly how you create the PDF?

Thanks,
Simon


> Any help will be wellcome.
>
> ?ngel Berihuete.
>
> El 18/06/2008, a las 17:26, Simon Urbanek escribi?:
>
>>
>> On Jun 18, 2008, at 2:49 AM, Angel Berihuete Mac?as wrote:
>>
>>> Hello all members!
>>>
>>> I work with version 2.7.1 RC (2008-06-15 r45927). When I save as  
>>> Rplot.pdf a quartz() device generated with image() function, still  
>>> appears gray rectangles over the image ( the image in the quartz()  
>>> device is all right! )
>>>
>>
>> That is a rendering issue in Preview (zoom in and you'll see that  
>> there are no lines), it is unrelated to the Quartz device. The PDF  
>> itself is fine, but Preview doesn't correct for anti-aliasing  
>> effects. I think using Acrobat may work (I don't want to install it  
>> since it messes up the system so I cannot check).
>>
>> Cheers,
>> Simon
>>
>>
>
>


From angel at alfomega.es  Thu Jun 19 00:52:41 2008
From: angel at alfomega.es (=?ISO-8859-1?Q?Angel_Berihuete_Mac=EDas?=)
Date: Thu, 19 Jun 2008 00:52:41 +0200
Subject: [R-SIG-Mac] image() to Rplot.pdf
In-Reply-To: <45E638A1-8337-4108-A6B3-959E172C49A0@r-project.org>
References: <6EADEE6F-F339-42BD-AD82-CA4927C72093@alfomega.es>
	<26CF90BD-4B4E-4CDE-96D9-3DDBF0E1C50E@r-project.org>
	<97D07C6F-F16D-4C0A-8FCC-DB6E6D63A8D8@alfomega.es>
	<45E638A1-8337-4108-A6B3-959E172C49A0@r-project.org>
Message-ID: <2A4C623B-EC80-4351-92E1-32B40D70F490@alfomega.es>

I work with three functions.

1) CreaPaleta64(), creates my color palette.
2) normalize(), standardize dataset (usually matrix)
3) Spec2D.Draw(), which plot the image.

Ok, let's do it

 >Colors= CreaPaleta64(64)
 >X=matrix(1:120*50,nrow=120,ncol=50)
 >Spec2D.Draw(X,Colors)

Now I have a quarzt() device, but when I "save as" Rplot.pdf the gray  
lines appear over the image.

Thanks


%%%%%%%%%%%%%%%%%%%

CreaPaleta <- function(n=64) {
  C <-c(
      0.0417,         0,        0,
      0.0833,         0,        0,
      0.1250,         0,        0,
      0.1667,         0,        0,
      0.2083,         0,        0,
      0.2500,         0,        0,
      0.2917,         0,        0,
      0.3333,         0,        0,
      0.3750,         0,        0,
      0.4167,         0,        0,
      0.4583,         0,        0,
      0.5000,         0,        0,
      0.5417,         0,        0,
      0.5833,         0,        0,
      0.6250,         0,        0,
      0.6667,         0,        0,
      0.7083,         0,        0,
      0.7500,         0,        0,
      0.7917,         0,        0,
      0.8333,         0,        0,
      0.8750,         0,        0,
      0.9167,         0,        0,
      0.9583,         0,        0,
      1.0000,         0,        0,
      1.0000,    0.0417,        0,
      1.0000,    0.0833,        0,
      1.0000,    0.1250,        0,
      1.0000,    0.1667,        0,
      1.0000,    0.2083,        0,
      1.0000,    0.2500,        0,
      1.0000,    0.2917,        0,
      1.0000,    0.3333,        0,
      1.0000,    0.3750,        0,
      1.0000,    0.4167,        0,
      1.0000,    0.4583,        0,
      1.0000,    0.5000,        0,
      1.0000,    0.5417,        0,
      1.0000,    0.5833,        0,
      1.0000,    0.6250,        0,
      1.0000,    0.6667,        0,
      1.0000,    0.7083,        0,
      1.0000,    0.7500,        0,
      1.0000,    0.7917,        0,
      1.0000,    0.8333,        0,
      1.0000,    0.8750,        0,
      1.0000,    0.9167,        0,
      1.0000,    0.9583,        0,
      1.0000,    1.0000,        0,
      1.0000,    1.0000,   0.0625,
      1.0000,    1.0000,   0.1250,
      1.0000,    1.0000,   0.1875,
      1.0000,    1.0000,   0.2500,
      1.0000,    1.0000,   0.3125,
      1.0000,    1.0000,   0.3750,
      1.0000,    1.0000,   0.4375,
      1.0000,    1.0000,   0.5000,
      1.0000,    1.0000,   0.5625,
      1.0000,    1.0000,   0.6250,
      1.0000,    1.0000,   0.6875,
      1.0000,    1.0000,   0.7500,
      1.0000,    1.0000,   0.8125,
      1.0000,    1.0000,   0.8750,
      1.0000,    1.0000,   0.9375,
      1.0000,    1.0000,   1.0000 )

  C <- matrix(C, nrow = 64, ncol = 3, byrow = TRUE)

   Chex <- rgb(C[,1], C[,2], C[,3])
  paleta  <- palette( Chex )

  Chex <- rgb(C[,1], C[,2], C[,3])
  paleta  <- palette( Chex )

  if( n == 32 )  { return(paleta[seq(1,64,2)]) }
  if( n == 16 )  { return(paleta[seq(1,64,4)]) }
  if( n == 8 )   { return(paleta[seq(1,64,8)]) }
return(paleta)
} # -- Andres Jimenez 2008-jun -------------------------------------

normalize <- function(img) {

(img-min(img))/(max(img)-min(img))

}  
#-----------------------------------------------------------------------------

Spec2D.Draw <- function(S, Colores, labx="", laby="") {
     image((1:nrow(S)), (1:ncol(S)), normalize(S),
            col=Colores, axes = FALSE, xlab=labx, ylab=laby)
} # -- Andres Jimenez 2008 -jun---------------------------------------



%%%%%%%%%%%%%%%%%%%%%%%%%%%%



El 18/06/2008, a las 23:48, Simon Urbanek escribi?:

>
> On Jun 18, 2008, at 5:21 PM, Angel Berihuete Mac?as wrote:
>
>> Thank you very much,  Simon!
>>
>> I zoom in the image, but no changes. There are lines, ugly gray  
>> lines. Next, I open the image with Acrobat Reader and again no  
>> changes.
>>
>
> Can you tell me exactly how you create the PDF?
>
> Thanks,
> Simon
>
>
>> Any help will be wellcome.
>>
>> ?ngel Berihuete.
>>
>> El 18/06/2008, a las 17:26, Simon Urbanek escribi?:
>>
>>>
>>> On Jun 18, 2008, at 2:49 AM, Angel Berihuete Mac?as wrote:
>>>
>>>> Hello all members!
>>>>
>>>> I work with version 2.7.1 RC (2008-06-15 r45927). When I save as  
>>>> Rplot.pdf a quartz() device generated with image() function,  
>>>> still appears gray rectangles over the image ( the image in the  
>>>> quartz() device is all right! )
>>>>
>>>
>>> That is a rendering issue in Preview (zoom in and you'll see that  
>>> there are no lines), it is unrelated to the Quartz device. The PDF  
>>> itself is fine, but Preview doesn't correct for anti-aliasing  
>>> effects. I think using Acrobat may work (I don't want to install  
>>> it since it messes up the system so I cannot check).
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>
>>
>


From akelly at tcd.ie  Thu Jun 19 10:07:15 2008
From: akelly at tcd.ie (Alan Kelly)
Date: Thu, 19 Jun 2008 09:07:15 +0100
Subject: [R-SIG-Mac] copy & paste
In-Reply-To: <mailman.14.1213610405.29697.r-sig-mac@stat.math.ethz.ch>
References: <mailman.14.1213610405.29697.r-sig-mac@stat.math.ethz.ch>
Message-ID: <5AC5F5A3-0AFE-453E-8373-7525639EEBC4@tcd.ie>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080619/2dfe22d6/attachment.pl>

From emiliano.guevara at unibo.it  Thu Jun 19 10:45:47 2008
From: emiliano.guevara at unibo.it (Emiliano Guevara)
Date: Thu, 19 Jun 2008 10:45:47 +0200
Subject: [R-SIG-Mac] copy & paste
In-Reply-To: <5AC5F5A3-0AFE-453E-8373-7525639EEBC4@tcd.ie>
References: <mailman.14.1213610405.29697.r-sig-mac@stat.math.ethz.ch>
	<5AC5F5A3-0AFE-453E-8373-7525639EEBC4@tcd.ie>
Message-ID: <BFF40199-83D1-49FC-ADDB-4E5D2F4C4225@unibo.it>

Dear Alan,

your description of the "bug" makes it very clear that the problem is  
with M$ Word 2004.
Any solution should therefore come from Micro$oft... but this is very  
unlikely

However, you can always change word-processing software.

The "bug" does not appear with the following programs (just checked  
all of them):

- NeoOffice 2.2 (open-source and VERY Word-compatible)

- Pages'08

- M$ Word 2008 (v. 12.1.0)


time for an upgrade? or better, time for a final dump of M$ Word...

E.


On Jun 19, 2008, at 10:07 AM, Alan Kelly wrote:

> I had noticed the same problem as posted by Margarte so I took Brian's
> advice and downloaded R version 2.7.1 RC (2008-06-16 r45945) (running
> on a Mac G5 (2 x 3 GHz Dual-core intel) and an iMac (2.4 GHz Core 2
> Duo) both with OS 10.5.2.  I note that I still can not directly paste
> a copied Quartz window figure into a Word document (2004 version).  I
> could save and then insert a pdf version of the figure without a
> problem, but the direct copy and past is very convenient.  This
> problem does not arise when I try to copy & past into Pages 08 - works
> perfectly!  Can we expect that this feature for Word documents will
> return soon?
> Alan Kelly

****************************************
Emiliano R. Guevara
Facolt? di Lingue e Lett. Straniere
Dipart. di Lingue e Lett. Straniere
Universit? di Bologna
Via Cartoleria 5 (40124) Bologna, Italia
   http://morbo.lingue.unibo.it/
   emiliano.guevara at unibo.it
   emiguevara at gmail.com


From khansen at stat.Berkeley.EDU  Thu Jun 19 18:58:30 2008
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Thu, 19 Jun 2008 09:58:30 -0700
Subject: [R-SIG-Mac] [BioC] affy won't load
In-Reply-To: <617014.69239.qm@web45110.mail.sp1.yahoo.com>
References: <617014.69239.qm@web45110.mail.sp1.yahoo.com>
Message-ID: <511D5832-3B79-4F7C-A574-7A5157B113F0@stat.Berkeley.EDU>

Ok, I will take this over to the R-SIG-Mac list and cc Herve who is  
the build manager of Bioconductor. I suspect that something is wrong  
with the Bioconductor builds.

Synopsis: Jason is running R-2.7.0 from CRAN on an Intel macbook  
running 10.5.3. He says he has Xcode 3.0 installed. He tries to  
install the binary version of aff from Bioconductor using the normal
   biocLite("affy")
However, even though the tarball downloads and gets installed, the  
package won't load. It complains that it needs the library /usr/local/ 
lib/libintl.3.dylib (and an otool -L really confirms this), but  
apparently this files does not exists. I am a bit surprised that the  
binary version links to something in /usr/local. I have this file on  
my PPC G4 running 10.5.3. As I see it, this should work out of the box  
with the system Jason is running. Does anyone have any good ideas? My  
hunch is that something might be up with the binary builds?

Vince Carey reports that a student of his had a similar problem.

Kasper

On Jun 16, 2008, at 6:53 AM, jason smith wrote:

> Thanks Steve,
>
> Here is what I get from otool:
>
> jason-smiths-macbook:~ sjorges2002$ otool -L /Users/sjorges2002/ 
> Library/R/2.7/library/affy/libs/i386/affy.so
> /Users/sjorges2002/Library/R/2.7/library/affy/libs/i386/affy.so:
> affy.so (compatibility version 0.0.0, current version 0.0.0)
> /usr/lib/libz.1.dylib (compatibility version 1.0.0, current version  
> 1.2.3)
> 	/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/ 
> libR.dylib (compatibility version 2.7.0, current version 2.7.0)
> /usr/local/lib/libintl.3.dylib (compatibility version 8.0.0, current  
> version 8.3.0)
> /usr/lib/libiconv.2.dylib (compatibility version 5.0.0, current  
> version 5.0.0)
> /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current  
> version 88.3.10)
> 	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/ 
> CoreFoundation (compatibility version 150.0.0, current version  
> 368.35.0)
> /usr/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0,  
> current version 1.0.0)
>
> Best
> Jason
>
> --- On Mon, 6/16/08, Steve Lianoglou  
> <mailinglist.honeypot at gmail.com> wrote:
>
>
>>
>> You're not doing it right :-)
>
>>
>> otool -L
>> /Users/sjorges2002/Library/R/2.7/library/affy/libs/i386/affy.so
>>
>> Let's see what you get from that.
>>
>> -steve
>
>
>


From deleeuw at stat.ucla.edu  Thu Jun 19 19:15:46 2008
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Thu, 19 Jun 2008 10:15:46 -0700
Subject: [R-SIG-Mac] [BioC] affy won't load
In-Reply-To: <511D5832-3B79-4F7C-A574-7A5157B113F0@stat.Berkeley.EDU>
References: <617014.69239.qm@web45110.mail.sp1.yahoo.com>
	<511D5832-3B79-4F7C-A574-7A5157B113F0@stat.Berkeley.EDU>
Message-ID: <9053D359-A2E0-4B42-B0F8-EE36654C4E1B@stat.ucla.edu>

More seriously, it expects /usr/local/lib/libgcc_s.1.dylib, which  
corresponds
with a rogue gcc.

On Jun 19, 2008, at 09:58 , Kasper Daniel Hansen wrote:

> Ok, I will take this over to the R-SIG-Mac list and cc Herve who is  
> the build manager of Bioconductor. I suspect that something is wrong  
> with the Bioconductor builds.
>
> Synopsis: Jason is running R-2.7.0 from CRAN on an Intel macbook  
> running 10.5.3. He says he has Xcode 3.0 installed. He tries to  
> install the binary version of aff from Bioconductor using the normal
>  biocLite("affy")
> However, even though the tarball downloads and gets installed, the  
> package won't load. It complains that it needs the library /usr/ 
> local/lib/libintl.3.dylib (and an otool -L really confirms this),  
> but apparently this files does not exists. I am a bit surprised that  
> the binary version links to something in /usr/local. I have this  
> file on my PPC G4 running 10.5.3. As I see it, this should work out  
> of the box with the system Jason is running. Does anyone have any  
> good ideas? My hunch is that something might be up with the binary  
> builds?
>
> Vince Carey reports that a student of his had a similar problem.
>
> Kasper
>
> On Jun 16, 2008, at 6:53 AM, jason smith wrote:
>
>> Thanks Steve,
>>
>> Here is what I get from otool:
>>
>> jason-smiths-macbook:~ sjorges2002$ otool -L /Users/sjorges2002/ 
>> Library/R/2.7/library/affy/libs/i386/affy.so
>> /Users/sjorges2002/Library/R/2.7/library/affy/libs/i386/affy.so:
>> affy.so (compatibility version 0.0.0, current version 0.0.0)
>> /usr/lib/libz.1.dylib (compatibility version 1.0.0, current version  
>> 1.2.3)
>> 	/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/ 
>> libR.dylib (compatibility version 2.7.0, current version 2.7.0)
>> /usr/local/lib/libintl.3.dylib (compatibility version 8.0.0,  
>> current version 8.3.0)
>> /usr/lib/libiconv.2.dylib (compatibility version 5.0.0, current  
>> version 5.0.0)
>> /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current  
>> version 88.3.10)
>> 	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/ 
>> CoreFoundation (compatibility version 150.0.0, current version  
>> 368.35.0)
>> /usr/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0,  
>> current version 1.0.0)
>>
>> Best
>> Jason
>>
>> --- On Mon, 6/16/08, Steve Lianoglou  
>> <mailinglist.honeypot at gmail.com> wrote:
>>
>>
>>>
>>> You're not doing it right :-)
>>
>>>
>>> otool -L
>>> /Users/sjorges2002/Library/R/2.7/library/affy/libs/i386/affy.so
>>>
>>> Let's see what you get from that.
>>>
>>> -steve
>>
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

==========================================================
Jan de Leeuw, 11667 Steinhoff Rd, Frazier Park, CA 93225, 661-245-1725
.mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
homepages: http://www.cuddyvalley.org and http://gifi.stat.ucla.edu
==========================================================
              The Good -- and this is surely true --
              is just the Bad that we don't do !     (Wilhelm Busch)


From simon.urbanek at r-project.org  Thu Jun 19 19:21:58 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 19 Jun 2008 13:21:58 -0400
Subject: [R-SIG-Mac] [BioC] affy won't load
In-Reply-To: <511D5832-3B79-4F7C-A574-7A5157B113F0@stat.Berkeley.EDU>
References: <617014.69239.qm@web45110.mail.sp1.yahoo.com>
	<511D5832-3B79-4F7C-A574-7A5157B113F0@stat.Berkeley.EDU>
Message-ID: <D7C43BA6-E979-491C-A84E-A14E06488428@r-project.org>


On Jun 19, 2008, at 12:58 PM, Kasper Daniel Hansen wrote:

> Ok, I will take this over to the R-SIG-Mac list and cc Herve who is  
> the build manager of Bioconductor. I suspect that something is wrong  
> with the Bioconductor builds.
>
> Synopsis: Jason is running R-2.7.0 from CRAN on an Intel macbook  
> running 10.5.3. He says he has Xcode 3.0 installed. He tries to  
> install the binary version of aff from Bioconductor using the normal
>  biocLite("affy")
> However, even though the tarball downloads and gets installed, the  
> package won't load. It complains that it needs the library /usr/ 
> local/lib/libintl.3.dylib (and an otool -L really confirms this),  
> but apparently this files does not exists. I am a bit surprised that  
> the binary version links to something in /usr/local. I have this  
> file on my PPC G4 running 10.5.3. As I see it, this should work out  
> of the box with the system Jason is running. Does anyone have any  
> good ideas? My hunch is that something might be up with the binary  
> builds?
>

Yes, that sounds like a problem with the BioC builds (libintl.3.dylib  
is really strange - we use libintl.8.dylib as a part of optional Gtk  
on CRAN, but never libintl3.dylib..). I didn't test BioC builds ever  
since we stopped building it on CRAN, but I have heard complains about  
their binaries linking various stuff from /usr/local, so I'd suggest  
to file a bug report with them (BTW: Xcode should not be required from  
binary installs).

Cheers,
S


> Vince Carey reports that a student of his had a similar problem.
>
> Kasper
>
> On Jun 16, 2008, at 6:53 AM, jason smith wrote:
>
>> Thanks Steve,
>>
>> Here is what I get from otool:
>>
>> jason-smiths-macbook:~ sjorges2002$ otool -L /Users/sjorges2002/ 
>> Library/R/2.7/library/affy/libs/i386/affy.so
>> /Users/sjorges2002/Library/R/2.7/library/affy/libs/i386/affy.so:
>> affy.so (compatibility version 0.0.0, current version 0.0.0)
>> /usr/lib/libz.1.dylib (compatibility version 1.0.0, current version  
>> 1.2.3)
>> 	/Library/Frameworks/R.framework/Versions/2.7/Resources/lib/ 
>> libR.dylib (compatibility version 2.7.0, current version 2.7.0)
>> /usr/local/lib/libintl.3.dylib (compatibility version 8.0.0,  
>> current version 8.3.0)
>> /usr/lib/libiconv.2.dylib (compatibility version 5.0.0, current  
>> version 5.0.0)
>> /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current  
>> version 88.3.10)
>> 	/System/Library/Frameworks/CoreFoundation.framework/Versions/A/ 
>> CoreFoundation (compatibility version 150.0.0, current version  
>> 368.35.0)
>> /usr/local/lib/libgcc_s.1.dylib (compatibility version 1.0.0,  
>> current version 1.0.0)
>>
>> Best
>> Jason
>>
>> --- On Mon, 6/16/08, Steve Lianoglou  
>> <mailinglist.honeypot at gmail.com> wrote:
>>
>>
>>>
>>> You're not doing it right :-)
>>
>>>
>>> otool -L
>>> /Users/sjorges2002/Library/R/2.7/library/affy/libs/i386/affy.so
>>>
>>> Let's see what you get from that.
>>>
>>> -steve
>>
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From khansen at stat.Berkeley.EDU  Thu Jun 19 20:03:38 2008
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Thu, 19 Jun 2008 11:03:38 -0700
Subject: [R-SIG-Mac] [BioC] affy won't load
In-Reply-To: <5A5088FF-FEB4-43FE-BBA0-1E59726A2AFF@gmail.com>
References: <617014.69239.qm@web45110.mail.sp1.yahoo.com>
	<511D5832-3B79-4F7C-A574-7A5157B113F0@stat.Berkeley.EDU>
	<5A5088FF-FEB4-43FE-BBA0-1E59726A2AFF@gmail.com>
Message-ID: <C97D9EC3-4CE5-45B6-8E94-4B821044957E@stat.Berkeley.EDU>

Another way Jason can get up and run quickly is to do something like

R> options(pkgType = "source")

and then do biocLite. That is probably a better solution than trying  
to install gettext

Kasper

On Jun 19, 2008, at 10:18 AM, Steve Lianoglou wrote:

> Hi,
>
> On Jun 19, 2008, at 12:58 PM, Kasper Daniel Hansen wrote:
>
>> Ok, I will take this over to the R-SIG-Mac list and cc Herve who is  
>> the build manager of Bioconductor. I suspect that something is  
>> wrong with the Bioconductor builds.
>>
>> Synopsis: Jason is running R-2.7.0 from CRAN on an Intel macbook  
>> running 10.5.3. He says he has Xcode 3.0 installed. He tries to  
>> install the binary version of aff from Bioconductor using the normal
>> biocLite("affy")
>> However, even though the tarball downloads and gets installed, the  
>> package won't load. It complains that it needs the library /usr/ 
>> local/lib/libintl.3.dylib (and an otool -L really confirms this),  
>> but apparently this files does not exists. I am a bit surprised  
>> that the binary version links to something in /usr/local. I have  
>> this file on my PPC G4 running 10.5.3. As I see it, this should  
>> work out of the box with the system Jason is running. Does anyone  
>> have any good ideas? My hunch is that something might be up with  
>> the binary builds?
>
> Just so Jason can get up and running quickly (and not have to wait  
> for this to get sorted out in the builds or whatever), I would  
> recommend as a band-aid procedure to just install gettext for now,  
> as I am fairly certain that this will provide the /usr/local/lib/ 
> libintl.3.dylib that he is missing.
>
> I gather that he might not be very comfortable from the command  
> line, so following these steps in a terminal session should do the  
> trick:
>
> cd /tmp
> curl http://mirrors.usc.edu/pub/gnu/gettext/gettext-0.17.tar.gz |  
> tar xz
> cd gettext-0.17
> ./configure
> make
> sudo make install
>
> HTH,
> -steve
>
> --
> Steve Lianoglou
> Graduate Student: Physiology, Biophysics, and Systems Biology
> Weill Medical College, Cornell University
>
> http://cbio.mskcc.org/~lianos


From angel at alfomega.es  Thu Jun 19 20:25:47 2008
From: angel at alfomega.es (=?ISO-8859-1?Q?Angel_Berihuete_Mac=EDas?=)
Date: Thu, 19 Jun 2008 20:25:47 +0200
Subject: [R-SIG-Mac] quartz to pdf
In-Reply-To: <48597652.6020709@witthoft.com>
References: <mailman.17.1213783204.13408.r-sig-mac@stat.math.ethz.ch>
	<48597652.6020709@witthoft.com>
Message-ID: <062BF780-F8A9-48C7-8E83-B35CB2C107AF@alfomega.es>

Hello Carl, thanks for your answer.

Please, can you expecify MacOs and R versions?

Angel Berihuete
El 18/06/2008, a las 22:55, Carl Witthoft escribi?:

> No problems here w/ a few test images.
>
>
>> I work with version 2.7.1 RC (2008-06-15 r45927). When I save as   
>> Rplot.pdf a quartz() device generated with image() function, still   
>> appears gray rectangles over the image ( the image in the quartz()   
>> device is all right! )
>> What I am doing wrong?
>> Thanks
>> ?ngel Berihuete.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Thu Jun 19 20:42:10 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 19 Jun 2008 14:42:10 -0400
Subject: [R-SIG-Mac] [BioC] affy won't load
In-Reply-To: <C97D9EC3-4CE5-45B6-8E94-4B821044957E@stat.Berkeley.EDU>
References: <617014.69239.qm@web45110.mail.sp1.yahoo.com>
	<511D5832-3B79-4F7C-A574-7A5157B113F0@stat.Berkeley.EDU>
	<5A5088FF-FEB4-43FE-BBA0-1E59726A2AFF@gmail.com>
	<C97D9EC3-4CE5-45B6-8E94-4B821044957E@stat.Berkeley.EDU>
Message-ID: <9659F3F5-3988-48B7-9E30-76EDBB22D948@r-project.org>


On Jun 19, 2008, at 2:03 PM, Kasper Daniel Hansen wrote:

> Another way Jason can get up and run quickly is to do something like
>
> R> options(pkgType = "source")
>
> and then do biocLite. That is probably a better solution than trying  
> to install gettext
>

Definitely, and especially since it doesn't help (see my comments to  
Steve below).

I wouldn't recommend installing gettext (unless you know what you're  
doing) simply because it will modify your system such that all future  
configurations will detect it and behave differently. As long as you  
don't plan to copy anything to another machine it is not a big deal,  
but if you do, you'll learn very quickly why that's a bad idea ;).  
Nonetheless, there are valid cases.

However, as Jan pointed out correctly, this is not the only problem  
that BioC builds have, unfortunately. I can only repeat my plea that I  
sent while ago to the BioC team to fix their Mac builds.


> Kasper
>
> On Jun 19, 2008, at 10:18 AM, Steve Lianoglou wrote:
>
>> Hi,
>>
>> On Jun 19, 2008, at 12:58 PM, Kasper Daniel Hansen wrote:
>>
>>> Ok, I will take this over to the R-SIG-Mac list and cc Herve who  
>>> is the build manager of Bioconductor. I suspect that something is  
>>> wrong with the Bioconductor builds.
>>>
>>> Synopsis: Jason is running R-2.7.0 from CRAN on an Intel macbook  
>>> running 10.5.3. He says he has Xcode 3.0 installed. He tries to  
>>> install the binary version of aff from Bioconductor using the normal
>>> biocLite("affy")
>>> However, even though the tarball downloads and gets installed, the  
>>> package won't load. It complains that it needs the library /usr/ 
>>> local/lib/libintl.3.dylib (and an otool -L really confirms this),  
>>> but apparently this files does not exists. I am a bit surprised  
>>> that the binary version links to something in /usr/local. I have  
>>> this file on my PPC G4 running 10.5.3. As I see it, this should  
>>> work out of the box with the system Jason is running. Does anyone  
>>> have any good ideas? My hunch is that something might be up with  
>>> the binary builds?
>>
>> Just so Jason can get up and running quickly (and not have to wait  
>> for this to get sorted out in the builds or whatever), I would  
>> recommend as a band-aid procedure to just install gettext for now,  
>> as I am fairly certain that this will provide the /usr/local/lib/ 
>> libintl.3.dylib that he is missing.
>>

Are you? Did you actually test it? I'm pretty sure that you're wrong,  
because the commands below compile libintl.8.dylib(!) and thus won't  
help (that one is fine and part of your Gtk binary). I'm still puzzled  
at where the BioC team gets libintl.3 ...

Cheers,
Simon


>> I gather that he might not be very comfortable from the command  
>> line, so following these steps in a terminal session should do the  
>> trick:
>>
>> cd /tmp
>> curl http://mirrors.usc.edu/pub/gnu/gettext/gettext-0.17.tar.gz |  
>> tar xz
>> cd gettext-0.17
>> ./configure
>> make
>> sudo make install
>>
>> HTH,
>> -steve
>>
>> --
>> Steve Lianoglou
>> Graduate Student: Physiology, Biophysics, and Systems Biology
>> Weill Medical College, Cornell University
>>
>> http://cbio.mskcc.org/~lianos
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From khansen at stat.Berkeley.EDU  Thu Jun 19 21:19:29 2008
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Thu, 19 Jun 2008 12:19:29 -0700
Subject: [R-SIG-Mac] [BioC] affy won't load
In-Reply-To: <9659F3F5-3988-48B7-9E30-76EDBB22D948@r-project.org>
References: <617014.69239.qm@web45110.mail.sp1.yahoo.com>
	<511D5832-3B79-4F7C-A574-7A5157B113F0@stat.Berkeley.EDU>
	<5A5088FF-FEB4-43FE-BBA0-1E59726A2AFF@gmail.com>
	<C97D9EC3-4CE5-45B6-8E94-4B821044957E@stat.Berkeley.EDU>
	<9659F3F5-3988-48B7-9E30-76EDBB22D948@r-project.org>
Message-ID: <24C14DEF-8FA1-440F-AF3E-BFC0A3179B93@stat.Berkeley.EDU>


On Jun 19, 2008, at 11:42 AM, Simon Urbanek wrote:

> Are you? Did you actually test it? I'm pretty sure that you're  
> wrong, because the commands below compile libintl.8.dylib(!) and  
> thus won't help (that one is fine and part of your Gtk binary). I'm  
> still puzzled at where the BioC team gets libintl.3 ...

Well, I have libintl.3 on my Leopard G4 powerbook. It is a fairly  
recent install and I am pretty sure I have not installed gettext  
manually - but I could be wrong of course. Neither am I running Darwin  
ports or Fink.

Kasper


From carl at witthoft.com  Thu Jun 19 23:41:51 2008
From: carl at witthoft.com (Carl Witthoft)
Date: Thu, 19 Jun 2008 17:41:51 -0400
Subject: [R-SIG-Mac] Quartz preferences question
In-Reply-To: <mailman.5232.1213862853.4340.r-sig-mac@stat.math.ethz.ch>
References: <mailman.5232.1213862853.4340.r-sig-mac@stat.math.ethz.ch>
Message-ID: <485AD29F.1000309@witthoft.com>

I was wondering what the "top right/bottom right/middle/...." preference 
is supposed to do?
I've tried changing that value (and it does change in the plist file), 
but every new quartz window always pops up in the bottom left of my 
monitor screen.

thanks
Carl


From mailinglist.honeypot at gmail.com  Thu Jun 19 19:18:47 2008
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Thu, 19 Jun 2008 13:18:47 -0400
Subject: [R-SIG-Mac] [BioC] affy won't load
In-Reply-To: <511D5832-3B79-4F7C-A574-7A5157B113F0@stat.Berkeley.EDU>
References: <617014.69239.qm@web45110.mail.sp1.yahoo.com>
	<511D5832-3B79-4F7C-A574-7A5157B113F0@stat.Berkeley.EDU>
Message-ID: <5A5088FF-FEB4-43FE-BBA0-1E59726A2AFF@gmail.com>

Hi,

On Jun 19, 2008, at 12:58 PM, Kasper Daniel Hansen wrote:

> Ok, I will take this over to the R-SIG-Mac list and cc Herve who is  
> the build manager of Bioconductor. I suspect that something is wrong  
> with the Bioconductor builds.
>
> Synopsis: Jason is running R-2.7.0 from CRAN on an Intel macbook  
> running 10.5.3. He says he has Xcode 3.0 installed. He tries to  
> install the binary version of aff from Bioconductor using the normal
>  biocLite("affy")
> However, even though the tarball downloads and gets installed, the  
> package won't load. It complains that it needs the library /usr/ 
> local/lib/libintl.3.dylib (and an otool -L really confirms this),  
> but apparently this files does not exists. I am a bit surprised that  
> the binary version links to something in /usr/local. I have this  
> file on my PPC G4 running 10.5.3. As I see it, this should work out  
> of the box with the system Jason is running. Does anyone have any  
> good ideas? My hunch is that something might be up with the binary  
> builds?

Just so Jason can get up and running quickly (and not have to wait for  
this to get sorted out in the builds or whatever), I would recommend  
as a band-aid procedure to just install gettext for now, as I am  
fairly certain that this will provide the /usr/local/lib/libintl. 
3.dylib that he is missing.

I gather that he might not be very comfortable from the command line,  
so following these steps in a terminal session should do the trick:

cd /tmp
curl http://mirrors.usc.edu/pub/gnu/gettext/gettext-0.17.tar.gz | tar xz
cd gettext-0.17
./configure
make
sudo make install

HTH,
-steve

--
Steve Lianoglou
Graduate Student: Physiology, Biophysics, and Systems Biology
Weill Medical College, Cornell University

http://cbio.mskcc.org/~lianos


From mailinglist.honeypot at gmail.com  Thu Jun 19 21:42:38 2008
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Thu, 19 Jun 2008 15:42:38 -0400
Subject: [R-SIG-Mac] [BioC] affy won't load
In-Reply-To: <9659F3F5-3988-48B7-9E30-76EDBB22D948@r-project.org>
References: <617014.69239.qm@web45110.mail.sp1.yahoo.com>
	<511D5832-3B79-4F7C-A574-7A5157B113F0@stat.Berkeley.EDU>
	<5A5088FF-FEB4-43FE-BBA0-1E59726A2AFF@gmail.com>
	<C97D9EC3-4CE5-45B6-8E94-4B821044957E@stat.Berkeley.EDU>
	<9659F3F5-3988-48B7-9E30-76EDBB22D948@r-project.org>
Message-ID: <DDE2E421-FE9F-4917-ADB2-CBF939427F06@gmail.com>

> Are you? Did you actually test it? I'm pretty sure that you're  
> wrong, because the commands below compile libintl.8.dylib(!) and  
> thus won't help (that one is fine and part of your Gtk binary).

Ouch, well I stand corrected then. Sorry for sending out  
misinformation ...

> I'm still puzzled at where the BioC team gets libintl.3 ...

Yeah. Even more puzzling (to me) is where mine came from ... as  
someone else mentioned before, I also have a fairly clean install of  
leopard (having just replaced my hard drive a few weeks ago) and  
libnitl.3.dylib is magically there.

My apologies once again.

-steve


From deleeuw at stat.ucla.edu  Sun Jun 22 02:01:49 2008
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Sat, 21 Jun 2008 17:01:49 -0700
Subject: [R-SIG-Mac] maybe of some interest
Message-ID: <4D82448F-2F43-4C12-9242-985D89B590A8@stat.ucla.edu>

R-devel compiles, builds, and passes make check with the llvm-gcc  
frontend.

I happen to use ifort-10.1 for the fortran compiler. I have not tried  
any fancy
optimization options yet. Just changed CC and CXX for configure.

gcc version 4.2.1 (Based on Apple Inc. build 5555) (LLVM build 2.3)


http://llvm.org/


==========================================================
Jan de Leeuw, 11667 Steinhoff Rd, Frazier Park, CA 93225, 661-245-1725
.mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
homepages: http://www.cuddyvalley.org and http://gifi.stat.ucla.edu
==========================================================
              The Good -- and this is surely true --
              is just the Bad that we don't do !     (Wilhelm Busch)


From davamaillist at gmail.com  Sun Jun 22 11:00:13 2008
From: davamaillist at gmail.com (david dav)
Date: Sun, 22 Jun 2008 11:00:13 +0200
Subject: [R-SIG-Mac] macvim and R
Message-ID: <772cb06e0806220200la79ea57j47b991ee1e76e219@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080622/7580aa5f/attachment.pl>

From carl at witthoft.com  Mon Jun 23 23:16:07 2008
From: carl at witthoft.com (Carl Witthoft)
Date: Mon, 23 Jun 2008 17:16:07 -0400
Subject: [R-SIG-Mac] question: cex inside plot()
In-Reply-To: <mailman.7.1214128802.7755.r-sig-mac@stat.math.ethz.ch>
References: <mailman.7.1214128802.7755.r-sig-mac@stat.math.ethz.ch>
Message-ID: <48601297.9040207@witthoft.com>

According to the documentation, the scaling parameter 'cex' is callable 
inside plot().  However,  I can't get it to change anything.

If I set cex using par(),  the graph parameters scale appropriately.

Is this a bug, is it a Mac-only (quartz) bug, or something else?

thanks
Carl


From tjohnson at src.riken.jp  Tue Jun 24 04:58:00 2008
From: tjohnson at src.riken.jp (Todd A. Johnson)
Date: Tue, 24 Jun 2008 11:58:00 +0900
Subject: [R-SIG-Mac] question: cex inside plot()
In-Reply-To: <48601297.9040207@witthoft.com>
Message-ID: <C48691C8.331E3%tjohnson@src.riken.jp>

Here's an answer by Professor Ripley to the R-help list a few years ago to
the same question:
http://tolstoy.newcastle.edu.au/R/help/01a/0413.html

Basically, cex set using par sets the initial scale at a global level across
all elements of a plot, but cex set locally inside plot() just changes the
scale of plotted points and text.  Try changing your plot type to type="p"
or type="b", and you will see cex inside plot() change the size of the
plotted symbols; if you just used type="l", you would not see a difference,
since line width and type is controlled through other settings.

Setting cex.axis, cex.lab, cex.sub, cex.main within plot() will set the
scale of axis annotations, x&y labels, sub-titles, and main titles with
respect to the current par setting of cex.

Best wishes,

Todd



On 6/24/08 Tuesday, June 24, 2008,6:16 AM, "Carl Witthoft"
<carl at witthoft.com> wrote:

> According to the documentation, the scaling parameter 'cex' is callable
> inside plot().  However,  I can't get it to change anything.
> 
> If I set cex using par(),  the graph parameters scale appropriately.
> 
> Is this a bug, is it a Mac-only (quartz) bug, or something else?
> 
> thanks
> Carl
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From ripley at stats.ox.ac.uk  Tue Jun 24 08:11:43 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 24 Jun 2008 07:11:43 +0100 (BST)
Subject: [R-SIG-Mac] question: cex inside plot()
In-Reply-To: <48601297.9040207@witthoft.com>
References: <mailman.7.1214128802.7755.r-sig-mac@stat.math.ethz.ch>
	<48601297.9040207@witthoft.com>
Message-ID: <alpine.LFD.1.10.0806240701330.2177@gannet.stats.ox.ac.uk>

On Mon, 23 Jun 2008, Carl Witthoft wrote:

> According to the documentation, the scaling parameter 'cex' is callable 
> inside plot().  However,  I can't get it to change anything.

Which documentation?  It is not mentioned on ?plot.  ?plot.default says

      'cex' a numerical vector giving the amount by which plotting text
           and symbols should be scaled relative to the default.  This
           works as a multiple of 'par("cex")'. 'NULL' and 'NA' are
           equivalent to '1.0'.

so note that this is an argument (not a par), a vector not a scalar and of 
limited scope ('plotting' does not include annotation).

Not that not all plot() methods call plot.defualt(), so there is no 
statement that I can see that all plot() calls will make use of an in-line 
'cex' argument.

> If I set cex using par(),  the graph parameters scale appropriately.
>
> Is this a bug, is it a Mac-only (quartz) bug, or something else?

We need a reproducible example of what does not work.  It is very unlikely 
to be a quartz() bug, as all this is controlled in the base graphics 
subsystem.   Before calling 'bug', please have the courtesy to lay out the 
evidence carefully.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From j.van_den_hoff at fzd.de  Tue Jun 24 15:37:37 2008
From: j.van_den_hoff at fzd.de (Joerg van den Hoff)
Date: Tue, 24 Jun 2008 15:37:37 +0200
Subject: [R-SIG-Mac] `init.tcl' problem
Message-ID: <20080624133736.GB9668@marco.fz-rossendorf.de>

hello,

as it seems(...):
after a recent update of Xcode tools (I presume from the dates this is
the culprit) a new  (link to)

libtclstub8.4.a

was installed in /usr/lib. up to then
R was having no difficulties in loading the tcltk package. now I get the
following error message (without having touched anything directly
related to R -- no new version, no new packages installed):

=================================CUT=================================
Loading required package: tcltk
Loading Tcl/Tk interface ... Error in fun(...) : 
Can't find a usable init.tcl in the following directories: 
@TCL_IN_FRAMEWORK@ @TCL_IN_FRAMEWORK@

This probably means that Tcl wasn't installed properly.

Error : .onLoad failed in 'loadNamespace' for 'tcltk'
Error: package 'tcltk' could not be loaded
=================================CUT=================================

question: what am I to make of the directory "names"

`@TCL_IN_FRAMEWORK@' `@TCL_IN_FRAMEWORK@'

I mean, where, actually, is R searching for `init.tcl'?

I _do_ have `init.tcl in these locations:

/System/Library/Frameworks/Tcl.framework/Versions/8.4/Resources/Scripts/init.tcl
/sw/lib/tcl8.4/init.tcl
/opt/local/lib/tcl8.4/init.tcl


or, put more simply: what need I to do to make R (and me) happy again?

thanks,

joerg


From j.van_den_hoff at fzd.de  Tue Jun 24 17:15:18 2008
From: j.van_den_hoff at fzd.de (Joerg van den Hoff)
Date: Tue, 24 Jun 2008 17:15:18 +0200
Subject: [R-SIG-Mac] `init.tcl' problem -- update
In-Reply-To: <20080624133736.GB9668@marco.fz-rossendorf.de>
References: <20080624133736.GB9668@marco.fz-rossendorf.de>
Message-ID: <20080624151517.GC9668@marco.fz-rossendorf.de>

hello again,

"answering" my own mail to keep it in this thread:

first, I forgot to mention the version: 2.7.0. 
but anyway, I now updated R to 2.7.1 and the problem went away.
nevertheless if someone would explain the cryptic error message (for me,
that is) concerning directory  "@TCL_IN_FRAMEWORK@" that would be nice.

now the only strange thing remaining is that the R-2.7.1 disk image
downloaded a few minutes ago
installs `R.2.7.0.framework' which contains R version 2.7.1. (2008-06-23)...

joerg


On Tue, Jun 24, 2008 at 03:37:37PM +0200, Joerg van den Hoff wrote:
> hello,
> 
> as it seems(...):
> after a recent update of Xcode tools (I presume from the dates this is
> the culprit) a new  (link to)
> 
> libtclstub8.4.a
> 
> was installed in /usr/lib. up to then
> R was having no difficulties in loading the tcltk package. now I get the
> following error message (without having touched anything directly
> related to R -- no new version, no new packages installed):
> 
> =================================CUT=================================
> Loading required package: tcltk
> Loading Tcl/Tk interface ... Error in fun(...) : 
> Can't find a usable init.tcl in the following directories: 
> @TCL_IN_FRAMEWORK@ @TCL_IN_FRAMEWORK@
> 
> This probably means that Tcl wasn't installed properly.
> 
> Error : .onLoad failed in 'loadNamespace' for 'tcltk'
> Error: package 'tcltk' could not be loaded
> =================================CUT=================================
> 
> question: what am I to make of the directory "names"
> 
> `@TCL_IN_FRAMEWORK@' `@TCL_IN_FRAMEWORK@'
> 
> I mean, where, actually, is R searching for `init.tcl'?
> 
> I _do_ have `init.tcl in these locations:
> 
> /System/Library/Frameworks/Tcl.framework/Versions/8.4/Resources/Scripts/init.tcl
> /sw/lib/tcl8.4/init.tcl
> /opt/local/lib/tcl8.4/init.tcl
> 
> 
> or, put more simply: what need I to do to make R (and me) happy again?
> 
> thanks,
> 
> joerg
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From paboyoun at fhcrc.org  Tue Jun 24 23:51:44 2008
From: paboyoun at fhcrc.org (Patrick Aboyoun)
Date: Tue, 24 Jun 2008 14:51:44 -0700
Subject: [R-SIG-Mac] [BioC] affy won't load
In-Reply-To: <9659F3F5-3988-48B7-9E30-76EDBB22D948@r-project.org>
References: <617014.69239.qm@web45110.mail.sp1.yahoo.com>	<511D5832-3B79-4F7C-A574-7A5157B113F0@stat.Berkeley.EDU>	<5A5088FF-FEB4-43FE-BBA0-1E59726A2AFF@gmail.com>	<C97D9EC3-4CE5-45B6-8E94-4B821044957E@stat.Berkeley.EDU>
	<9659F3F5-3988-48B7-9E30-76EDBB22D948@r-project.org>
Message-ID: <48616C70.6040103@fhcrc.org>

Thanks to all for bringing this issue of the BioC 2.2 Max OS X binary 
packages to light, and I apologize for any inconvenience these 
non-standard binary packages have caused the BioC user community. If all 
goes well with the build system tomorrow morning, the Mac OS X binary 
packages will be produced under the standard Mac OS X R framework. I 
will send out an e-mail tomorrow morning notifying you on its status.

I don't want to get too much into the gory details of the build system, 
but I will provide you with a high level synopsis on what caused the 
breakdown. Back when the Bioconductor core team released BioC 2.2 in 
May, we had a last minute scramble for the Mac OS X binary packages 
builds.  Up until release time, we were building the packages on Mac OS 
X Leopard (10.5.2). It was brought to our attention the week of the 
release that those builds were not working on Mac OS X Tiger. When we 
switched to a Tiger build machine, we experienced problems with the png 
device (type = "quartz", the default, failed to work in our build 
environment). In order to be expedient we used a custom build of R 2.7.0 
to get around this issue. This had the unintended consequence that you 
discovered. We have since reverted back to using the standard R 2.7.1 
build for the Mac and are using a configuration file to set 
options(bitmapType = "cairo") to get around the png device issue. These 
new Mac binary package builds will be linking into the dynamic libraries 
located in the standard R directory 
/Library/Frameworks/R.framework/Resources/lib.


Cheers,
Patrick



Simon Urbanek wrote:
>
> On Jun 19, 2008, at 2:03 PM, Kasper Daniel Hansen wrote:
>
>> Another way Jason can get up and run quickly is to do something like
>>
>> R> options(pkgType = "source")
>>
>> and then do biocLite. That is probably a better solution than trying 
>> to install gettext
>>
>
> Definitely, and especially since it doesn't help (see my comments to 
> Steve below).
>
> I wouldn't recommend installing gettext (unless you know what you're 
> doing) simply because it will modify your system such that all future 
> configurations will detect it and behave differently. As long as you 
> don't plan to copy anything to another machine it is not a big deal, 
> but if you do, you'll learn very quickly why that's a bad idea ;). 
> Nonetheless, there are valid cases.
>
> However, as Jan pointed out correctly, this is not the only problem 
> that BioC builds have, unfortunately. I can only repeat my plea that I 
> sent while ago to the BioC team to fix their Mac builds.
>
>
>> Kasper
>>
>> On Jun 19, 2008, at 10:18 AM, Steve Lianoglou wrote:
>>
>>> Hi,
>>>
>>> On Jun 19, 2008, at 12:58 PM, Kasper Daniel Hansen wrote:
>>>
>>>> Ok, I will take this over to the R-SIG-Mac list and cc Herve who is 
>>>> the build manager of Bioconductor. I suspect that something is 
>>>> wrong with the Bioconductor builds.
>>>>
>>>> Synopsis: Jason is running R-2.7.0 from CRAN on an Intel macbook 
>>>> running 10.5.3. He says he has Xcode 3.0 installed. He tries to 
>>>> install the binary version of aff from Bioconductor using the normal
>>>> biocLite("affy")
>>>> However, even though the tarball downloads and gets installed, the 
>>>> package won't load. It complains that it needs the library 
>>>> /usr/local/lib/libintl.3.dylib (and an otool -L really confirms 
>>>> this), but apparently this files does not exists. I am a bit 
>>>> surprised that the binary version links to something in /usr/local. 
>>>> I have this file on my PPC G4 running 10.5.3. As I see it, this 
>>>> should work out of the box with the system Jason is running. Does 
>>>> anyone have any good ideas? My hunch is that something might be up 
>>>> with the binary builds?
>>>
>>> Just so Jason can get up and running quickly (and not have to wait 
>>> for this to get sorted out in the builds or whatever), I would 
>>> recommend as a band-aid procedure to just install gettext for now, 
>>> as I am fairly certain that this will provide the 
>>> /usr/local/lib/libintl.3.dylib that he is missing.
>>>
>
> Are you? Did you actually test it? I'm pretty sure that you're wrong, 
> because the commands below compile libintl.8.dylib(!) and thus won't 
> help (that one is fine and part of your Gtk binary). I'm still puzzled 
> at where the BioC team gets libintl.3 ...
>
> Cheers,
> Simon
>
>
>>> I gather that he might not be very comfortable from the command 
>>> line, so following these steps in a terminal session should do the 
>>> trick:
>>>
>>> cd /tmp
>>> curl http://mirrors.usc.edu/pub/gnu/gettext/gettext-0.17.tar.gz | 
>>> tar xz
>>> cd gettext-0.17
>>> ./configure
>>> make
>>> sudo make install
>>>
>>> HTH,
>>> -steve
>>>
>>> -- 
>>> Steve Lianoglou
>>> Graduate Student: Physiology, Biophysics, and Systems Biology
>>> Weill Medical College, Cornell University
>>>
>>> http://cbio.mskcc.org/~lianos
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ssefick at gmail.com  Wed Jun 25 16:13:13 2008
From: ssefick at gmail.com (stephen sefick)
Date: Wed, 25 Jun 2008 10:13:13 -0400
Subject: [R-SIG-Mac] installing package (sowas) Mac OS X
Message-ID: <c502a9e10806250713r53e776b0y7feaba6585f1bbc8@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080625/142e8ee2/attachment.pl>

From sdavis2 at mail.nih.gov  Wed Jun 25 16:49:05 2008
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Wed, 25 Jun 2008 10:49:05 -0400
Subject: [R-SIG-Mac] installing package (sowas) Mac OS X
In-Reply-To: <c502a9e10806250713r53e776b0y7feaba6585f1bbc8@mail.gmail.com>
References: <c502a9e10806250713r53e776b0y7feaba6585f1bbc8@mail.gmail.com>
Message-ID: <264855a00806250749j6f2eaf75s1416e6d5d0d4bd34@mail.gmail.com>

On Wed, Jun 25, 2008 at 10:13 AM, stephen sefick <ssefick at gmail.com> wrote:
> 10.5.3
> R 2.7
>
> the sowas package is located at :
>
> http://tocsy.agnld.uni-potsdam.de/wavelets/
>
> install.packages(file.choose(), repos=NULL, type="source")
> WARNING: omitting pointless dependence on 'R' without a version requirement
> * Installing *source* package 'sowas' ...
> ** libs
> Warning message:
> In install.packages(file.choose(), repos = NULL, type = "source") :
>  installation of package '/Users/sefick/Desktop/sowas_0.94.tar.gz' had
> non-zero exit status
> ** arch - i386
> ** arch - ppc
> ** Removing '/Library/Frameworks/R.framework/Resources/library/sowas'
> /Library/Frameworks/R.framework/Resources/bin/SHLIB: line 161: make: command
> not found
> chmod: /Library/Frameworks/R.framework/Resources/library/sowas/libs/i386/*:
> No such file or directory
> /Library/Frameworks/R.framework/Resources/bin/SHLIB: line 161: make: command
> not found
> chmod: /Library/Frameworks/R.framework/Resources/library/sowas/libs/ppc/*:
> No such file or directory
> ERROR: compilation failed for package 'sowas'

Do you have XCode installed?

Sean


From ssefick at gmail.com  Wed Jun 25 17:05:35 2008
From: ssefick at gmail.com (stephen sefick)
Date: Wed, 25 Jun 2008 11:05:35 -0400
Subject: [R-SIG-Mac] installing package (sowas) Mac OS X
In-Reply-To: <264855a00806250749j6f2eaf75s1416e6d5d0d4bd34@mail.gmail.com>
References: <c502a9e10806250713r53e776b0y7feaba6585f1bbc8@mail.gmail.com>
	<264855a00806250749j6f2eaf75s1416e6d5d0d4bd34@mail.gmail.com>
Message-ID: <c502a9e10806250805v172f8e45of41b1390218baf78@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20080625/553ad6c9/attachment.pl>

From Lohse at mpimp-golm.mpg.de  Thu Jun 26 09:50:36 2008
From: Lohse at mpimp-golm.mpg.de (Marc Lohse)
Date: Thu, 26 Jun 2008 09:50:36 +0200
Subject: [R-SIG-Mac] compile minimal R for mac with quartz support
Message-ID: <3C6529856AC10C4E843BE21F6B9356DA43B56CC075@MAIL01.mpimp-golm.mpg.de>

Hi,

i would like to create a minimal build of the R engine to package together with
a Java application. So far i have succeeded in doing this by compiling the R sources
using the following args to configure:

../configure --prefix=/Users/marc/Desktop/standaloneR --enable-static=yes --enable-threads=posix --with-aqua=no --with-tcltk=no --enable-R-framework=no

Unfortunately the R created using the above configuration does not include
support for the quartz() graphics device (which i would like to have because
of the antialiasing capabilities and also because quartz should be available
on any mac system  - in constrast to X11 that might not be available on Tiger
systems)

A second and third question that i have (maybe only because i do not have a lot of
experience with compiling from the command line - sorry) is: How do i tell
the system to generate universal binaries?

The build also dynamically links to libpng and lipjpeg which causes problems
when the final app is started on different machines with different versions
of these libraries (or even wothout them). So evade this problem i would
like to link them statically - but i did not figure out how...

If this is all off-topic or in any other way not suitable to ask in this list i apologize
and would like to know where there would be a better place to ask.

Thanks in advance,

Marc


------------------------------------------------------------------------
Dr. Marc Lohse
Max-Planck-Institute of molecular plant phyiology
AG Usadel
Am Muehlenberg 1
D-14476 Potsdam-Golm

Tel.: 0331-5678157
e-mail: lohse at mpimp-golm.mpg.de
-----------------------------------------------------------------------

This email was Anti Virus checked by the MPIMP-Golm Astaro Security Gateway.


From ripley at stats.ox.ac.uk  Thu Jun 26 10:26:54 2008
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 26 Jun 2008 09:26:54 +0100 (BST)
Subject: [R-SIG-Mac] compile minimal R for mac with quartz support
In-Reply-To: <3C6529856AC10C4E843BE21F6B9356DA43B56CC075@MAIL01.mpimp-golm.mpg.de>
References: <3C6529856AC10C4E843BE21F6B9356DA43B56CC075@MAIL01.mpimp-golm.mpg.de>
Message-ID: <alpine.LFD.1.10.0806260916580.11930@auk.stats.ox.ac.uk>

On Thu, 26 Jun 2008, Marc Lohse wrote:

> Hi,
>
> i would like to create a minimal build of the R engine to package together with
> a Java application. So far i have succeeded in doing this by compiling the R sources
> using the following args to configure:
>
> ../configure --prefix=/Users/marc/Desktop/standaloneR --enable-static=yes
  --enable-threads=posix --with-aqua=no --with-tcltk=no --enable-R-framework=no

Are you guessing here?  The first two do nothing in R.

> Unfortunately the R created using the above configuration does not 
> include support for the quartz() graphics device (which i would like to 
> have because of the antialiasing capabilities and also because quartz 
> should be available on any mac system - in constrast to X11 that might 
> not be available on Tiger systems)

Hmm, X11 does have 'antialiasing capabilities' by default in R 2.7.x. 
The availability of quartz() is controlled by HAVE_AQUA, so you need 
--with-aqua .

> A second and third question that i have (maybe only because i do not 
> have a lot of experience with compiling from the command line - sorry) 
> is: How do i tell the system to generate universal binaries?

Follow the FAQ, e.g.

http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#How-to-build-universal-R

> The build also dynamically links to libpng and lipjpeg which causes 
> problems when the final app is started on different machines with 
> different versions of these libraries (or even wothout them). So evade 
> this problem i would like to link them statically - but i did not figure 
> out how...

How about (from configure --help)

   --with-libpng           use libpng library (if available) [yes]
   --with-jpeglib          use jpeglib library (if available) [yes]

Switching these off should do what you want.

> If this is all off-topic or in any other way not suitable to ask in this 
> list i apologize and would like to know where there would be a better 
> place to ask.

Most of it is in the FAQ.

> Thanks in advance,
>
> Marc
>
>
> ------------------------------------------------------------------------
> Dr. Marc Lohse
> Max-Planck-Institute of molecular plant phyiology
> AG Usadel
> Am Muehlenberg 1
> D-14476 Potsdam-Golm
>
> Tel.: 0331-5678157
> e-mail: lohse at mpimp-golm.mpg.de
> -----------------------------------------------------------------------

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From jp021 at sjtu.edu.cn  Sun Jun 29 17:06:22 2008
From: jp021 at sjtu.edu.cn (Peng Jiang)
Date: Sun, 29 Jun 2008 23:06:22 +0800
Subject: [R-SIG-Mac] cannot install the package RMySQL
Message-ID: <C909FC97-1400-4236-8FB1-61A15003FACC@sjtu.edu.cn>

Hi,

I am writing to report the error when installed the package RMySQL.
I tried installing for like 5 times and it gives the following error  
every time.

gzip: stdin: unexpected end of file
tar: Unexpected EOF in archive
tar: Unexpected EOF in archive
tar: Error is not recoverable: exiting now

is it because all the downloading error or something else ?

I am running Mac OS X 10.5.3 with R 2.7.1.

thanks in advance.

best regards

-----------------------------------------------
Peng Jiang (??), Ph.D. Candidate
Antai College of Economics & Management ????????
Department of Mathematics ???
Shanghai Jiaotong University (Minhang Campus)
800 Dongchuan Road
200240 Shanghai
P. R. China


From ramos.grad.student at gmail.com  Sun Jun 29 12:35:30 2008
From: ramos.grad.student at gmail.com (Antonio P. Ramos)
Date: Sun, 29 Jun 2008 03:35:30 -0700
Subject: [R-SIG-Mac] memory allocation problems
Message-ID: <191577b80806290335q5e2e7d3es3374849de3546cb8@mail.gmail.com>

Hi everybody,

I have a memory allocation problem while using  R in my macbook pro,
which runs the latest leopard. I'm trying to run a monte carlo
simulation with 500,000 interactions, but the machine failed:


Starting MCMC Iterations...
Error: cannot allocate vector of size 1.2 Gb
R(176,0xa0640fa0) malloc: *** mmap(size=1239990272) failed (error code=12)
*** error: can't allocate region
*** set a breakpoint in malloc_error_break to debug
R(176,0xa0640fa0) malloc: *** mmap(size=1239990272) failed (error code=12)
*** error: can't allocate region
*** set a breakpoint in malloc_error_break to debug


Since my machine has 4 Gb of memory, and since I'm not running nothing
in addition to the simulation, I found it strange. This is my machine:

 Model Identifier:     MacBookPro3,1
 Processor Name:       Intel Core 2 Duo
 Processor Speed:      2.4 GHz
 Memory:       4 GB


Unfortunately, I could figure it out how to solve it. Any help?


Many thanks in advance,

Antonio Ramos.


From sdavis2 at mail.nih.gov  Mon Jun 30 12:23:59 2008
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Mon, 30 Jun 2008 06:23:59 -0400
Subject: [R-SIG-Mac] memory allocation problems
In-Reply-To: <191577b80806290335q5e2e7d3es3374849de3546cb8@mail.gmail.com>
References: <191577b80806290335q5e2e7d3es3374849de3546cb8@mail.gmail.com>
Message-ID: <264855a00806300323h5ded4b77g95ccf5f2b91b695a@mail.gmail.com>

On Sun, Jun 29, 2008 at 6:35 AM, Antonio P. Ramos
<ramos.grad.student at gmail.com> wrote:
> Hi everybody,
>
> I have a memory allocation problem while using  R in my macbook pro,
> which runs the latest leopard. I'm trying to run a monte carlo
> simulation with 500,000 interactions, but the machine failed:
>
>
> Starting MCMC Iterations...
> Error: cannot allocate vector of size 1.2 Gb
> R(176,0xa0640fa0) malloc: *** mmap(size=1239990272) failed (error code=12)
> *** error: can't allocate region
> *** set a breakpoint in malloc_error_break to debug
> R(176,0xa0640fa0) malloc: *** mmap(size=1239990272) failed (error code=12)
> *** error: can't allocate region
> *** set a breakpoint in malloc_error_break to debug
>
>
> Since my machine has 4 Gb of memory, and since I'm not running nothing
> in addition to the simulation, I found it strange. This is my machine:
>
>  Model Identifier:     MacBookPro3,1
>  Processor Name:       Intel Core 2 Duo
>  Processor Speed:      2.4 GHz
>  Memory:       4 GB
>
>
> Unfortunately, I could figure it out how to solve it. Any help?

The error message above means that R failed to allocate a vector of
size 1.2Gb.  That doesn't mean that R was using only 1.2 Gb, but that
it was trying to allocate a new block of memory of that size in
addition to the memory that was already in use.  The system on the Mac
uses a fair amount of memory; R was probably using memory as well.  In
short, you probably need more memory or be more clever about how you
are using the memory you have.  Without more details about what you
are doing, it is difficult to know how to change the latter.

Sean


From khansen at stat.Berkeley.EDU  Mon Jun 30 18:59:34 2008
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Mon, 30 Jun 2008 09:59:34 -0700
Subject: [R-SIG-Mac] cannot install the package RMySQL
In-Reply-To: <C909FC97-1400-4236-8FB1-61A15003FACC@sjtu.edu.cn>
References: <C909FC97-1400-4236-8FB1-61A15003FACC@sjtu.edu.cn>
Message-ID: <6F6141EB-3845-45FF-919F-B5054D076E97@stat.berkeley.edu>

You get an error saying that whatever you have downloaded is not  
really a valid *.tar.gz file. This is most likely a download error.  
You could try downloading the file manually and then use R CMD INSTALL  
to install the package from Terminal (or use the "Install from local  
file" under the GUI - if that option is still around :)

Kasper

On Jun 29, 2008, at 8:06 AM, Peng Jiang wrote:

> Hi,
>
> I am writing to report the error when installed the package RMySQL.
> I tried installing for like 5 times and it gives the following error  
> every time.
>
> gzip: stdin: unexpected end of file
> tar: Unexpected EOF in archive
> tar: Unexpected EOF in archive
> tar: Error is not recoverable: exiting now
>
> is it because all the downloading error or something else ?
>
> I am running Mac OS X 10.5.3 with R 2.7.1.
>
> thanks in advance.
>
> best regards
>
> -----------------------------------------------
> Peng Jiang (??), Ph.D. Candidate
> Antai College of Economics & Management ????????
> Department of Mathematics ???
> Shanghai Jiaotong University (Minhang Campus)
> 800 Dongchuan Road
> 200240 Shanghai
> P. R. China
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From khansen at stat.Berkeley.EDU  Mon Jun 30 19:04:00 2008
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Mon, 30 Jun 2008 10:04:00 -0700
Subject: [R-SIG-Mac] memory allocation problems
In-Reply-To: <264855a00806300323h5ded4b77g95ccf5f2b91b695a@mail.gmail.com>
References: <191577b80806290335q5e2e7d3es3374849de3546cb8@mail.gmail.com>
	<264855a00806300323h5ded4b77g95ccf5f2b91b695a@mail.gmail.com>
Message-ID: <98697340-6B17-4C03-A529-D33272B42DB5@stat.berkeley.edu>

Like Sean is aying, you most likely are using _way_ more memory than  
1.2 GB.

However, if you a re running 32bit R (which is the case if you use the  
CRAN binary) R can only access 2GB, so you can squeeze a little more  
out of your machine by switching to a 64bit version of R. You can  
check what version you have by typing
R> .Machine
and look for sizeof.pointer - if it is 4 you are using 32bit, if it is  
8 you are using 64 bit.

If you want the 64 bit version of R you can download a binary from  
Simon's page: r.research.att.com , but you need to also get the  
preview build of GCC 4.2 which is available from Apple's developer  
site (although hard to find these days).

Kasper

On Jun 30, 2008, at 3:23 AM, Sean Davis wrote:

> On Sun, Jun 29, 2008 at 6:35 AM, Antonio P. Ramos
> <ramos.grad.student at gmail.com> wrote:
>> Hi everybody,
>>
>> I have a memory allocation problem while using  R in my macbook pro,
>> which runs the latest leopard. I'm trying to run a monte carlo
>> simulation with 500,000 interactions, but the machine failed:
>>
>>
>> Starting MCMC Iterations...
>> Error: cannot allocate vector of size 1.2 Gb
>> R(176,0xa0640fa0) malloc: *** mmap(size=1239990272) failed (error  
>> code=12)
>> *** error: can't allocate region
>> *** set a breakpoint in malloc_error_break to debug
>> R(176,0xa0640fa0) malloc: *** mmap(size=1239990272) failed (error  
>> code=12)
>> *** error: can't allocate region
>> *** set a breakpoint in malloc_error_break to debug
>>
>>
>> Since my machine has 4 Gb of memory, and since I'm not running  
>> nothing
>> in addition to the simulation, I found it strange. This is my  
>> machine:
>>
>> Model Identifier:     MacBookPro3,1
>> Processor Name:       Intel Core 2 Duo
>> Processor Speed:      2.4 GHz
>> Memory:       4 GB
>>
>>
>> Unfortunately, I could figure it out how to solve it. Any help?
>
> The error message above means that R failed to allocate a vector of
> size 1.2Gb.  That doesn't mean that R was using only 1.2 Gb, but that
> it was trying to allocate a new block of memory of that size in
> addition to the memory that was already in use.  The system on the Mac
> uses a fair amount of memory; R was probably using memory as well.  In
> short, you probably need more memory or be more clever about how you
> are using the memory you have.  Without more details about what you
> are doing, it is difficult to know how to change the latter.
>
> Sean
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Mon Jun 30 19:23:59 2008
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 30 Jun 2008 13:23:59 -0400
Subject: [R-SIG-Mac] memory allocation problems
In-Reply-To: <98697340-6B17-4C03-A529-D33272B42DB5@stat.berkeley.edu>
References: <191577b80806290335q5e2e7d3es3374849de3546cb8@mail.gmail.com>
	<264855a00806300323h5ded4b77g95ccf5f2b91b695a@mail.gmail.com>
	<98697340-6B17-4C03-A529-D33272B42DB5@stat.berkeley.edu>
Message-ID: <4B027B57-C770-468F-9F0A-1D4BD1CBED1E@r-project.org>


On Jun 30, 2008, at 1:04 PM, Kasper Daniel Hansen wrote:

> Like Sean is aying, you most likely are using _way_ more memory than  
> 1.2 GB.
>
> However, if you a re running 32bit R (which is the case if you use  
> the CRAN binary) R can only access 2GB,

That's not true, 32-bit process can use up to about 3.5GB of RAM:

Virtual Memory Map of process 2849 (R)
Output report format:  2.2  -- 32-bit process
[...]
ReadOnly portion of Libraries: Total=72.9M resident=36.6M(50%)  
swapped_out_or_unallocated=36.3M(50%)
Writable regions: Total=3.4G written=3.4G(100%) resident=3.4G(99%)  
swapped_out=3352K(0%) unallocated=19.3M(1%)

so it should make no real difference for Antonio (unless he doesn't  
mind waiting while the machine swaps). Nonetheless using 64-bit R is  
fine as well, especially on Leopard - albeit that doesn't fix  
incorrect use of memory by users :).

Cheers,
S


> so you can squeeze a little more out of your machine by switching to  
> a 64bit version of R. You can check what version you have by typing
> R> .Machine
> and look for sizeof.pointer - if it is 4 you are using 32bit, if it  
> is 8 you are using 64 bit.
>
> If you want the 64 bit version of R you can download a binary from  
> Simon's page: r.research.att.com , but you need to also get the  
> preview build of GCC 4.2 which is available from Apple's developer  
> site (although hard to find these days).
>
> Kasper
>
> On Jun 30, 2008, at 3:23 AM, Sean Davis wrote:
>
>> On Sun, Jun 29, 2008 at 6:35 AM, Antonio P. Ramos
>> <ramos.grad.student at gmail.com> wrote:
>>> Hi everybody,
>>>
>>> I have a memory allocation problem while using  R in my macbook pro,
>>> which runs the latest leopard. I'm trying to run a monte carlo
>>> simulation with 500,000 interactions, but the machine failed:
>>>
>>>
>>> Starting MCMC Iterations...
>>> Error: cannot allocate vector of size 1.2 Gb
>>> R(176,0xa0640fa0) malloc: *** mmap(size=1239990272) failed (error  
>>> code=12)
>>> *** error: can't allocate region
>>> *** set a breakpoint in malloc_error_break to debug
>>> R(176,0xa0640fa0) malloc: *** mmap(size=1239990272) failed (error  
>>> code=12)
>>> *** error: can't allocate region
>>> *** set a breakpoint in malloc_error_break to debug
>>>
>>>
>>> Since my machine has 4 Gb of memory, and since I'm not running  
>>> nothing
>>> in addition to the simulation, I found it strange. This is my  
>>> machine:
>>>
>>> Model Identifier:     MacBookPro3,1
>>> Processor Name:       Intel Core 2 Duo
>>> Processor Speed:      2.4 GHz
>>> Memory:       4 GB
>>>
>>>
>>> Unfortunately, I could figure it out how to solve it. Any help?
>>
>> The error message above means that R failed to allocate a vector of
>> size 1.2Gb.  That doesn't mean that R was using only 1.2 Gb, but that
>> it was trying to allocate a new block of memory of that size in
>> addition to the memory that was already in use.  The system on the  
>> Mac
>> uses a fair amount of memory; R was probably using memory as well.   
>> In
>> short, you probably need more memory or be more clever about how you
>> are using the memory you have.  Without more details about what you
>> are doing, it is difficult to know how to change the latter.
>>
>> Sean
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From khansen at stat.Berkeley.EDU  Mon Jun 30 20:38:37 2008
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Mon, 30 Jun 2008 11:38:37 -0700
Subject: [R-SIG-Mac] memory allocation problems
In-Reply-To: <4B027B57-C770-468F-9F0A-1D4BD1CBED1E@r-project.org>
References: <191577b80806290335q5e2e7d3es3374849de3546cb8@mail.gmail.com>
	<264855a00806300323h5ded4b77g95ccf5f2b91b695a@mail.gmail.com>
	<98697340-6B17-4C03-A529-D33272B42DB5@stat.berkeley.edu>
	<4B027B57-C770-468F-9F0A-1D4BD1CBED1E@r-project.org>
Message-ID: <B67F346F-E0A6-44AF-80A6-C733232F19C3@stat.Berkeley.EDU>

Thanks for the clarification. How did you get that output?

Kasper

On Jun 30, 2008, at 10:23 AM, Simon Urbanek wrote:

>
> On Jun 30, 2008, at 1:04 PM, Kasper Daniel Hansen wrote:
>
>> Like Sean is aying, you most likely are using _way_ more memory  
>> than 1.2 GB.
>>
>> However, if you a re running 32bit R (which is the case if you use  
>> the CRAN binary) R can only access 2GB,
>
> That's not true, 32-bit process can use up to about 3.5GB of RAM:
>
> Virtual Memory Map of process 2849 (R)
> Output report format:  2.2  -- 32-bit process
> [...]
> ReadOnly portion of Libraries: Total=72.9M resident=36.6M(50%)  
> swapped_out_or_unallocated=36.3M(50%)
> Writable regions: Total=3.4G written=3.4G(100%) resident=3.4G(99%)  
> swapped_out=3352K(0%) unallocated=19.3M(1%)
>
> so it should make no real difference for Antonio (unless he doesn't  
> mind waiting while the machine swaps). Nonetheless using 64-bit R is  
> fine as well, especially on Leopard - albeit that doesn't fix  
> incorrect use of memory by users :).
>
> Cheers,
> S
>
>
>> so you can squeeze a little more out of your machine by switching  
>> to a 64bit version of R. You can check what version you have by  
>> typing
>> R> .Machine
>> and look for sizeof.pointer - if it is 4 you are using 32bit, if it  
>> is 8 you are using 64 bit.
>>
>> If you want the 64 bit version of R you can download a binary from  
>> Simon's page: r.research.att.com , but you need to also get the  
>> preview build of GCC 4.2 which is available from Apple's developer  
>> site (although hard to find these days).
>>
>> Kasper
>>
>> On Jun 30, 2008, at 3:23 AM, Sean Davis wrote:
>>
>>> On Sun, Jun 29, 2008 at 6:35 AM, Antonio P. Ramos
>>> <ramos.grad.student at gmail.com> wrote:
>>>> Hi everybody,
>>>>
>>>> I have a memory allocation problem while using  R in my macbook  
>>>> pro,
>>>> which runs the latest leopard. I'm trying to run a monte carlo
>>>> simulation with 500,000 interactions, but the machine failed:
>>>>
>>>>
>>>> Starting MCMC Iterations...
>>>> Error: cannot allocate vector of size 1.2 Gb
>>>> R(176,0xa0640fa0) malloc: *** mmap(size=1239990272) failed (error  
>>>> code=12)
>>>> *** error: can't allocate region
>>>> *** set a breakpoint in malloc_error_break to debug
>>>> R(176,0xa0640fa0) malloc: *** mmap(size=1239990272) failed (error  
>>>> code=12)
>>>> *** error: can't allocate region
>>>> *** set a breakpoint in malloc_error_break to debug
>>>>
>>>>
>>>> Since my machine has 4 Gb of memory, and since I'm not running  
>>>> nothing
>>>> in addition to the simulation, I found it strange. This is my  
>>>> machine:
>>>>
>>>> Model Identifier:     MacBookPro3,1
>>>> Processor Name:       Intel Core 2 Duo
>>>> Processor Speed:      2.4 GHz
>>>> Memory:       4 GB
>>>>
>>>>
>>>> Unfortunately, I could figure it out how to solve it. Any help?
>>>
>>> The error message above means that R failed to allocate a vector of
>>> size 1.2Gb.  That doesn't mean that R was using only 1.2 Gb, but  
>>> that
>>> it was trying to allocate a new block of memory of that size in
>>> addition to the memory that was already in use.  The system on the  
>>> Mac
>>> uses a fair amount of memory; R was probably using memory as  
>>> well.  In
>>> short, you probably need more memory or be more clever about how you
>>> are using the memory you have.  Without more details about what you
>>> are doing, it is difficult to know how to change the latter.
>>>
>>> Sean
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>


From khansen at stat.Berkeley.EDU  Mon Jun 30 21:39:55 2008
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Mon, 30 Jun 2008 12:39:55 -0700
Subject: [R-SIG-Mac] memory allocation problems
In-Reply-To: <191577b80806301207r592b81adgd26e7814c53335a8@mail.gmail.com>
References: <191577b80806290335q5e2e7d3es3374849de3546cb8@mail.gmail.com>
	<264855a00806300323h5ded4b77g95ccf5f2b91b695a@mail.gmail.com>
	<98697340-6B17-4C03-A529-D33272B42DB5@stat.berkeley.edu>
	<4B027B57-C770-468F-9F0A-1D4BD1CBED1E@r-project.org>
	<B67F346F-E0A6-44AF-80A6-C733232F19C3@stat.Berkeley.EDU>
	<191577b80806301207r592b81adgd26e7814c53335a8@mail.gmail.com>
Message-ID: <AE82740A-35DF-4DFA-9036-DF80A2B3D9BC@stat.Berkeley.EDU>

On Jun 30, 2008, at 12:07 PM, Antonio P. Ramos wrote:

> Thanks for the comments.
>
> What I'm doing is very simple: I'm running an one dimensional item
> response model, similar to the ones use in psychology and educational
> testing data via Markov Chain Monte Carlo Methods.
>
>
> model_m12<- ideal(rollcall_m2,  maxiter = 500 000 000, thin = 1000,
> burnin = 5000,
> 		   store.item = TRUE,  normalize=T,
> priors=list(xp=1e-12,xpv=1e-12,bp=1e-12,bpv=1e-12), verbose=T)
>
> # my data matrix is provided by the rollcall object, but it has just
> 155*17 dimensions: rollcall_m2
>
> # the number of interactions is maxiter/thin= 500,000
>
> # store.item=true is the main source of the problem: it's store the
> discrimination
> # parameter, which consumer a large amount of memory. Unfortunately, I
> need this information.
>
>
> So, if R can access up to 3.5 Gb how can I fix the problem. I'm sure
> lot's of mac users will be also interested in increasing its memory
> allocation capabilities in R

It works out of the box (that means you do not have to do anything).  
The fact that you get an out of memory error just means that your R  
session is using more than 3.4 GB of RAM. Think of it in the following  
way: say you are using 3.3 GB of RAM and then you create a new object  
with a size of 0.2GB which takes you over the limit. Than you would  
get an error of "cannot allocate 0.2 GB of RAM". So the error you get  
does not mean that you cannot use more than 1.1 GB. It just means you  
went over the 3.4 GB limit.

Now, from your description it sounds like you should be able to do  
your simulation within a memory usage of 3.4 GB. But whether or not  
that is possible depends crucially on the implementation which we have  
no idea about. There are many naive ways to implement this in R that  
will take you far beyond the memory limit. For example you are doing  
thinning. But are you for example first computing the MCM chain  
without thinning and then thinning afterwards - then thinning will not  
help you in your memory consumption.

I would spend some time checking up on the implementation of the  
sampler you are using.

Kasper



>
> On Mon, Jun 30, 2008 at 11:38 AM, Kasper Daniel Hansen
> <khansen at stat.berkeley.edu> wrote:
>> Thanks for the clarification. How did you get that output?
>>
>> Kasper
>>
>> On Jun 30, 2008, at 10:23 AM, Simon Urbanek wrote:
>>
>>>
>>> On Jun 30, 2008, at 1:04 PM, Kasper Daniel Hansen wrote:
>>>
>>>> Like Sean is aying, you most likely are using _way_ more memory  
>>>> than 1.2
>>>> GB.
>>>>
>>>> However, if you a re running 32bit R (which is the case if you  
>>>> use the
>>>> CRAN binary) R can only access 2GB,
>>>
>>> That's not true, 32-bit process can use up to about 3.5GB of RAM:
>>>
>>> Virtual Memory Map of process 2849 (R)
>>> Output report format:  2.2  -- 32-bit process
>>> [...]
>>> ReadOnly portion of Libraries: Total=72.9M resident=36.6M(50%)
>>> swapped_out_or_unallocated=36.3M(50%)
>>> Writable regions: Total=3.4G written=3.4G(100%) resident=3.4G(99%)
>>> swapped_out=3352K(0%) unallocated=19.3M(1%)
>>>
>>> so it should make no real difference for Antonio (unless he  
>>> doesn't mind
>>> waiting while the machine swaps). Nonetheless using 64-bit R is  
>>> fine as
>>> well, especially on Leopard - albeit that doesn't fix incorrect  
>>> use of
>>> memory by users :).
>>>
>>> Cheers,
>>> S
>>>
>>>
>>>> so you can squeeze a little more out of your machine by switching  
>>>> to a
>>>> 64bit version of R. You can check what version you have by typing
>>>> R> .Machine
>>>> and look for sizeof.pointer - if it is 4 you are using 32bit, if  
>>>> it is 8
>>>> you are using 64 bit.
>>>>
>>>> If you want the 64 bit version of R you can download a binary from
>>>> Simon's page: r.research.att.com , but you need to also get the  
>>>> preview
>>>> build of GCC 4.2 which is available from Apple's developer site  
>>>> (although
>>>> hard to find these days).
>>>>
>>>> Kasper
>>>>
>>>> On Jun 30, 2008, at 3:23 AM, Sean Davis wrote:
>>>>
>>>>> On Sun, Jun 29, 2008 at 6:35 AM, Antonio P. Ramos
>>>>> <ramos.grad.student at gmail.com> wrote:
>>>>>>
>>>>>> Hi everybody,
>>>>>>
>>>>>> I have a memory allocation problem while using  R in my macbook  
>>>>>> pro,
>>>>>> which runs the latest leopard. I'm trying to run a monte carlo
>>>>>> simulation with 500,000 interactions, but the machine failed:
>>>>>>
>>>>>>
>>>>>> Starting MCMC Iterations...
>>>>>> Error: cannot allocate vector of size 1.2 Gb
>>>>>> R(176,0xa0640fa0) malloc: *** mmap(size=1239990272) failed (error
>>>>>> code=12)
>>>>>> *** error: can't allocate region
>>>>>> *** set a breakpoint in malloc_error_break to debug
>>>>>> R(176,0xa0640fa0) malloc: *** mmap(size=1239990272) failed (error
>>>>>> code=12)
>>>>>> *** error: can't allocate region
>>>>>> *** set a breakpoint in malloc_error_break to debug
>>>>>>
>>>>>>
>>>>>> Since my machine has 4 Gb of memory, and since I'm not running  
>>>>>> nothing
>>>>>> in addition to the simulation, I found it strange. This is my  
>>>>>> machine:
>>>>>>
>>>>>> Model Identifier:     MacBookPro3,1
>>>>>> Processor Name:       Intel Core 2 Duo
>>>>>> Processor Speed:      2.4 GHz
>>>>>> Memory:       4 GB
>>>>>>
>>>>>>
>>>>>> Unfortunately, I could figure it out how to solve it. Any help?
>>>>>
>>>>> The error message above means that R failed to allocate a vector  
>>>>> of
>>>>> size 1.2Gb.  That doesn't mean that R was using only 1.2 Gb, but  
>>>>> that
>>>>> it was trying to allocate a new block of memory of that size in
>>>>> addition to the memory that was already in use.  The system on  
>>>>> the Mac
>>>>> uses a fair amount of memory; R was probably using memory as  
>>>>> well.  In
>>>>> short, you probably need more memory or be more clever about how  
>>>>> you
>>>>> are using the memory you have.  Without more details about what  
>>>>> you
>>>>> are doing, it is difficult to know how to change the latter.
>>>>>
>>>>> Sean
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>
>>


From tlumley at u.washington.edu  Mon Jun 30 21:57:38 2008
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 30 Jun 2008 12:57:38 -0700 (PDT)
Subject: [R-SIG-Mac] memory allocation problems
In-Reply-To: <AE82740A-35DF-4DFA-9036-DF80A2B3D9BC@stat.Berkeley.EDU>
References: <191577b80806290335q5e2e7d3es3374849de3546cb8@mail.gmail.com>
	<264855a00806300323h5ded4b77g95ccf5f2b91b695a@mail.gmail.com>
	<98697340-6B17-4C03-A529-D33272B42DB5@stat.berkeley.edu>
	<4B027B57-C770-468F-9F0A-1D4BD1CBED1E@r-project.org>
	<B67F346F-E0A6-44AF-80A6-C733232F19C3@stat.Berkeley.EDU>
	<191577b80806301207r592b81adgd26e7814c53335a8@mail.gmail.com>
	<AE82740A-35DF-4DFA-9036-DF80A2B3D9BC@stat.Berkeley.EDU>
Message-ID: <Pine.LNX.4.64.0806301255280.21838@homer22.u.washington.edu>


It might be worth reminding people that gc() reports the maximum (R heap) 
memory use as well as current memory use.

The memory profiler might also be useful for tracking down what is 
happening, but I don't think it's compiled into the CRAN binary of R.

 	-thomas


On Mon, 30 Jun 2008, Kasper Daniel Hansen wrote:

> On Jun 30, 2008, at 12:07 PM, Antonio P. Ramos wrote:
>
>> Thanks for the comments.
>> 
>> What I'm doing is very simple: I'm running an one dimensional item
>> response model, similar to the ones use in psychology and educational
>> testing data via Markov Chain Monte Carlo Methods.
>> 
>> 
>> model_m12<- ideal(rollcall_m2,  maxiter = 500 000 000, thin = 1000,
>> burnin = 5000,
>> 		   store.item = TRUE,  normalize=T,
>> priors=list(xp=1e-12,xpv=1e-12,bp=1e-12,bpv=1e-12), verbose=T)
>> 
>> # my data matrix is provided by the rollcall object, but it has just
>> 155*17 dimensions: rollcall_m2
>> 
>> # the number of interactions is maxiter/thin= 500,000
>> 
>> # store.item=true is the main source of the problem: it's store the
>> discrimination
>> # parameter, which consumer a large amount of memory. Unfortunately, I
>> need this information.
>> 
>> 
>> So, if R can access up to 3.5 Gb how can I fix the problem. I'm sure
>> lot's of mac users will be also interested in increasing its memory
>> allocation capabilities in R
>
> It works out of the box (that means you do not have to do anything). The fact 
> that you get an out of memory error just means that your R session is using 
> more than 3.4 GB of RAM. Think of it in the following way: say you are using 
> 3.3 GB of RAM and then you create a new object with a size of 0.2GB which 
> takes you over the limit. Than you would get an error of "cannot allocate 0.2 
> GB of RAM". So the error you get does not mean that you cannot use more than 
> 1.1 GB. It just means you went over the 3.4 GB limit.
>
> Now, from your description it sounds like you should be able to do your 
> simulation within a memory usage of 3.4 GB. But whether or not that is 
> possible depends crucially on the implementation which we have no idea about. 
> There are many naive ways to implement this in R that will take you far 
> beyond the memory limit. For example you are doing thinning. But are you for 
> example first computing the MCM chain without thinning and then thinning 
> afterwards - then thinning will not help you in your memory consumption.
>
> I would spend some time checking up on the implementation of the sampler you 
> are using.
>
> Kasper
>
>
>
>> 
>> On Mon, Jun 30, 2008 at 11:38 AM, Kasper Daniel Hansen
>> <khansen at stat.berkeley.edu> wrote:
>>> Thanks for the clarification. How did you get that output?
>>> 
>>> Kasper
>>> 
>>> On Jun 30, 2008, at 10:23 AM, Simon Urbanek wrote:
>>> 
>>>> 
>>>> On Jun 30, 2008, at 1:04 PM, Kasper Daniel Hansen wrote:
>>>> 
>>>>> Like Sean is aying, you most likely are using _way_ more memory than 1.2
>>>>> GB.
>>>>> 
>>>>> However, if you a re running 32bit R (which is the case if you use the
>>>>> CRAN binary) R can only access 2GB,
>>>> 
>>>> That's not true, 32-bit process can use up to about 3.5GB of RAM:
>>>> 
>>>> Virtual Memory Map of process 2849 (R)
>>>> Output report format:  2.2  -- 32-bit process
>>>> [...]
>>>> ReadOnly portion of Libraries: Total=72.9M resident=36.6M(50%)
>>>> swapped_out_or_unallocated=36.3M(50%)
>>>> Writable regions: Total=3.4G written=3.4G(100%) resident=3.4G(99%)
>>>> swapped_out=3352K(0%) unallocated=19.3M(1%)
>>>> 
>>>> so it should make no real difference for Antonio (unless he doesn't mind
>>>> waiting while the machine swaps). Nonetheless using 64-bit R is fine as
>>>> well, especially on Leopard - albeit that doesn't fix incorrect use of
>>>> memory by users :).
>>>> 
>>>> Cheers,
>>>> S
>>>> 
>>>> 
>>>>> so you can squeeze a little more out of your machine by switching to a
>>>>> 64bit version of R. You can check what version you have by typing
>>>>> R> .Machine
>>>>> and look for sizeof.pointer - if it is 4 you are using 32bit, if it is 8
>>>>> you are using 64 bit.
>>>>> 
>>>>> If you want the 64 bit version of R you can download a binary from
>>>>> Simon's page: r.research.att.com , but you need to also get the preview
>>>>> build of GCC 4.2 which is available from Apple's developer site 
>>>>> (although
>>>>> hard to find these days).
>>>>> 
>>>>> Kasper
>>>>> 
>>>>> On Jun 30, 2008, at 3:23 AM, Sean Davis wrote:
>>>>> 
>>>>>> On Sun, Jun 29, 2008 at 6:35 AM, Antonio P. Ramos
>>>>>> <ramos.grad.student at gmail.com> wrote:
>>>>>>> 
>>>>>>> Hi everybody,
>>>>>>> 
>>>>>>> I have a memory allocation problem while using  R in my macbook pro,
>>>>>>> which runs the latest leopard. I'm trying to run a monte carlo
>>>>>>> simulation with 500,000 interactions, but the machine failed:
>>>>>>> 
>>>>>>> 
>>>>>>> Starting MCMC Iterations...
>>>>>>> Error: cannot allocate vector of size 1.2 Gb
>>>>>>> R(176,0xa0640fa0) malloc: *** mmap(size=1239990272) failed (error
>>>>>>> code=12)
>>>>>>> *** error: can't allocate region
>>>>>>> *** set a breakpoint in malloc_error_break to debug
>>>>>>> R(176,0xa0640fa0) malloc: *** mmap(size=1239990272) failed (error
>>>>>>> code=12)
>>>>>>> *** error: can't allocate region
>>>>>>> *** set a breakpoint in malloc_error_break to debug
>>>>>>> 
>>>>>>> 
>>>>>>> Since my machine has 4 Gb of memory, and since I'm not running nothing
>>>>>>> in addition to the simulation, I found it strange. This is my machine:
>>>>>>> 
>>>>>>> Model Identifier:     MacBookPro3,1
>>>>>>> Processor Name:       Intel Core 2 Duo
>>>>>>> Processor Speed:      2.4 GHz
>>>>>>> Memory:       4 GB
>>>>>>> 
>>>>>>> 
>>>>>>> Unfortunately, I could figure it out how to solve it. Any help?
>>>>>> 
>>>>>> The error message above means that R failed to allocate a vector of
>>>>>> size 1.2Gb.  That doesn't mean that R was using only 1.2 Gb, but that
>>>>>> it was trying to allocate a new block of memory of that size in
>>>>>> addition to the memory that was already in use.  The system on the Mac
>>>>>> uses a fair amount of memory; R was probably using memory as well.  In
>>>>>> short, you probably need more memory or be more clever about how you
>>>>>> are using the memory you have.  Without more details about what you
>>>>>> are doing, it is difficult to know how to change the latter.
>>>>>> 
>>>>>> Sean
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> 
>>> 
>>> 
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

Thomas Lumley			Assoc. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


From ramos.grad.student at gmail.com  Mon Jun 30 21:07:02 2008
From: ramos.grad.student at gmail.com (Antonio P. Ramos)
Date: Mon, 30 Jun 2008 12:07:02 -0700
Subject: [R-SIG-Mac] memory allocation problems
In-Reply-To: <B67F346F-E0A6-44AF-80A6-C733232F19C3@stat.Berkeley.EDU>
References: <191577b80806290335q5e2e7d3es3374849de3546cb8@mail.gmail.com>
	<264855a00806300323h5ded4b77g95ccf5f2b91b695a@mail.gmail.com>
	<98697340-6B17-4C03-A529-D33272B42DB5@stat.berkeley.edu>
	<4B027B57-C770-468F-9F0A-1D4BD1CBED1E@r-project.org>
	<B67F346F-E0A6-44AF-80A6-C733232F19C3@stat.Berkeley.EDU>
Message-ID: <191577b80806301207r592b81adgd26e7814c53335a8@mail.gmail.com>

Thanks for the comments.

What I'm doing is very simple: I'm running an one dimensional item
response model, similar to the ones use in psychology and educational
testing data via Markov Chain Monte Carlo Methods.


model_m12<- ideal(rollcall_m2,  maxiter = 500 000 000, thin = 1000,
burnin = 5000,
		   store.item = TRUE,  normalize=T,
priors=list(xp=1e-12,xpv=1e-12,bp=1e-12,bpv=1e-12), verbose=T)

# my data matrix is provided by the rollcall object, but it has just
155*17 dimensions: rollcall_m2

# the number of interactions is maxiter/thin= 500,000

# store.item=true is the main source of the problem: it's store the
discrimination
# parameter, which consumer a large amount of memory. Unfortunately, I
need this information.


So, if R can access up to 3.5 Gb how can I fix the problem. I'm sure
lot's of mac users will be also interested in increasing its memory
allocation capabilities in R.

Cheers,

Antonio.





On Mon, Jun 30, 2008 at 11:38 AM, Kasper Daniel Hansen
<khansen at stat.berkeley.edu> wrote:
> Thanks for the clarification. How did you get that output?
>
> Kasper
>
> On Jun 30, 2008, at 10:23 AM, Simon Urbanek wrote:
>
>>
>> On Jun 30, 2008, at 1:04 PM, Kasper Daniel Hansen wrote:
>>
>>> Like Sean is aying, you most likely are using _way_ more memory than 1.2
>>> GB.
>>>
>>> However, if you a re running 32bit R (which is the case if you use the
>>> CRAN binary) R can only access 2GB,
>>
>> That's not true, 32-bit process can use up to about 3.5GB of RAM:
>>
>> Virtual Memory Map of process 2849 (R)
>> Output report format:  2.2  -- 32-bit process
>> [...]
>> ReadOnly portion of Libraries: Total=72.9M resident=36.6M(50%)
>> swapped_out_or_unallocated=36.3M(50%)
>> Writable regions: Total=3.4G written=3.4G(100%) resident=3.4G(99%)
>> swapped_out=3352K(0%) unallocated=19.3M(1%)
>>
>> so it should make no real difference for Antonio (unless he doesn't mind
>> waiting while the machine swaps). Nonetheless using 64-bit R is fine as
>> well, especially on Leopard - albeit that doesn't fix incorrect use of
>> memory by users :).
>>
>> Cheers,
>> S
>>
>>
>>> so you can squeeze a little more out of your machine by switching to a
>>> 64bit version of R. You can check what version you have by typing
>>> R> .Machine
>>> and look for sizeof.pointer - if it is 4 you are using 32bit, if it is 8
>>> you are using 64 bit.
>>>
>>> If you want the 64 bit version of R you can download a binary from
>>> Simon's page: r.research.att.com , but you need to also get the preview
>>> build of GCC 4.2 which is available from Apple's developer site (although
>>> hard to find these days).
>>>
>>> Kasper
>>>
>>> On Jun 30, 2008, at 3:23 AM, Sean Davis wrote:
>>>
>>>> On Sun, Jun 29, 2008 at 6:35 AM, Antonio P. Ramos
>>>> <ramos.grad.student at gmail.com> wrote:
>>>>>
>>>>> Hi everybody,
>>>>>
>>>>> I have a memory allocation problem while using  R in my macbook pro,
>>>>> which runs the latest leopard. I'm trying to run a monte carlo
>>>>> simulation with 500,000 interactions, but the machine failed:
>>>>>
>>>>>
>>>>> Starting MCMC Iterations...
>>>>> Error: cannot allocate vector of size 1.2 Gb
>>>>> R(176,0xa0640fa0) malloc: *** mmap(size=1239990272) failed (error
>>>>> code=12)
>>>>> *** error: can't allocate region
>>>>> *** set a breakpoint in malloc_error_break to debug
>>>>> R(176,0xa0640fa0) malloc: *** mmap(size=1239990272) failed (error
>>>>> code=12)
>>>>> *** error: can't allocate region
>>>>> *** set a breakpoint in malloc_error_break to debug
>>>>>
>>>>>
>>>>> Since my machine has 4 Gb of memory, and since I'm not running nothing
>>>>> in addition to the simulation, I found it strange. This is my machine:
>>>>>
>>>>> Model Identifier:     MacBookPro3,1
>>>>> Processor Name:       Intel Core 2 Duo
>>>>> Processor Speed:      2.4 GHz
>>>>> Memory:       4 GB
>>>>>
>>>>>
>>>>> Unfortunately, I could figure it out how to solve it. Any help?
>>>>
>>>> The error message above means that R failed to allocate a vector of
>>>> size 1.2Gb.  That doesn't mean that R was using only 1.2 Gb, but that
>>>> it was trying to allocate a new block of memory of that size in
>>>> addition to the memory that was already in use.  The system on the Mac
>>>> uses a fair amount of memory; R was probably using memory as well.  In
>>>> short, you probably need more memory or be more clever about how you
>>>> are using the memory you have.  Without more details about what you
>>>> are doing, it is difficult to know how to change the latter.
>>>>
>>>> Sean
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>
>


