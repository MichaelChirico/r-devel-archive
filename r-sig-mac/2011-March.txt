From a.bevan at ucl.ac.uk  Wed Mar  2 21:41:37 2011
From: a.bevan at ucl.ac.uk (Andrew Bevan)
Date: Wed, 2 Mar 2011 20:41:37 +0000
Subject: [R-SIG-Mac] rgeos install
Message-ID: <5DC733F5-D673-4C53-AA69-542C80092CC3@ucl.ac.uk>

Dear list

I am having problems installing rgeos from the R-forge site. It seems to install okay for the 64-bit version of R but not for the 32-bit version for some reason. For the latter, I get the following errors:

------------------------------

Via the install.packages route...

install.packages("rgeos", repos="http://R-Forge.R-project.org")
Installing package(s) into ?/Users/abevan/Library/R/2.12/library?
(as ?lib? is unspecified)
Warning message:
In getDependencies(pkgs, dependencies, available, lib) :
 package ?rgeos? is not available
library(rgeos)
Error: package 'rgeos' is not installed for 'arch=i386'

------------------------------

Or via svn checkout with an explicit request for 32bit as follows:

greymatter:src abevan$ svn checkout svn://svn.r-forge.r-project.org/svnroot/rgeos
Checked out revision 222.

greymatter:src abevan$ cd rgeos

greymatter:rgeos abevan$ sudo R --arch=i386 CMD INSTALL pkg

* installing to library ?/Users/abevan/Library/R/2.12/library?
* installing *source* package ?rgeos? ...
geos-config: geos-config
configure: creating ./config.status
config.status: creating src/Makevars
** libs
*** arch - i386
make: Nothing to be done for `all'.
installing to /Users/abevan/Library/R/2.12/library/rgeos/libs/i386
** R
** inst
** preparing package for lazy loading
** help
*** installing help indices
** building package indices ...
** testing if installed package can be loaded
Error in dyn.load(file, DLLpath = DLLpath, ...) : 
 unable to load shared object '/Users/abevan/Library/R/2.12/library/rgeos/libs/i386/rgeos.so':
 dlopen(/Users/abevan/Library/R/2.12/library/rgeos/libs/i386/rgeos.so, 6): no suitable image found.  Did find:
	/Users/abevan/Library/R/2.12/library/rgeos/libs/i386/rgeos.so: mach-o, but wrong architecture
ERROR: loading failed
* removing ?/Users/abevan/Library/R/2.12/library/rgeos?

----------------------

I am using MacOSX 10.6.6 with GEOS 3.2.2-1 (the latter from William Kyngesburye site) and R 2.12.1, on a MacBook Pro 2.4GHz Intel Core Duo; also XCode 3.2.5.

Can anyone suggest how to proceed?

Many thanks

Andy

UCL Institute of Archaeology


From ripley at stats.ox.ac.uk  Wed Mar  2 21:59:21 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 2 Mar 2011 20:59:21 +0000 (GMT)
Subject: [R-SIG-Mac] rgeos install
In-Reply-To: <5DC733F5-D673-4C53-AA69-542C80092CC3@ucl.ac.uk>
References: <5DC733F5-D673-4C53-AA69-542C80092CC3@ucl.ac.uk>
Message-ID: <alpine.LFD.2.02.1103022046001.10346@gannet.stats.ox.ac.uk>

On Wed, 2 Mar 2011, Andrew Bevan wrote:

> Dear list
>
> I am having problems installing rgeos from the R-forge site. It 
> seems to install okay for the 64-bit version of R but not for the 
> 32-bit version for some reason. For the latter, I get the following 
> errors:
>
> ------------------------------
>
> Via the install.packages route...
>
> install.packages("rgeos", repos="http://R-Forge.R-project.org")
> Installing package(s) into ?/Users/abevan/Library/R/2.12/library?
> (as ?lib? is unspecified)
> Warning message:
> In getDependencies(pkgs, dependencies, available, lib) :
> package ?rgeos? is not available
> library(rgeos)
> Error: package 'rgeos' is not installed for 'arch=i386'
>
> ------------------------------
>
> Or via svn checkout with an explicit request for 32bit as follows:
>
> greymatter:src abevan$ svn checkout svn://svn.r-forge.r-project.org/svnroot/rgeos
> Checked out revision 222.
>
> greymatter:src abevan$ cd rgeos
>
> greymatter:rgeos abevan$ sudo R --arch=i386 CMD INSTALL pkg
>
> * installing to library ?/Users/abevan/Library/R/2.12/library?
> * installing *source* package ?rgeos? ...
> geos-config: geos-config
> configure: creating ./config.status
> config.status: creating src/Makevars
> ** libs
> *** arch - i386
> make: Nothing to be done for `all'.

AFAICS you failed to clean up before this run.  Try with a clean set 
of sources (and perhaps build from a tarball).  There is rgeos.so (and 
probably *.o) in your src directory.

> installing to /Users/abevan/Library/R/2.12/library/rgeos/libs/i386
> ** R
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices ...
> ** testing if installed package can be loaded
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
> unable to load shared object '/Users/abevan/Library/R/2.12/library/rgeos/libs/i386/rgeos.so':
> dlopen(/Users/abevan/Library/R/2.12/library/rgeos/libs/i386/rgeos.so, 6): no suitable image found.  Did find:
> 	/Users/abevan/Library/R/2.12/library/rgeos/libs/i386/rgeos.so: mach-o, but wrong architecture
> ERROR: loading failed
> * removing ?/Users/abevan/Library/R/2.12/library/rgeos?
>
> ----------------------
>
> I am using MacOSX 10.6.6 with GEOS 3.2.2-1 (the latter from William 
> Kyngesburye site) and R 2.12.1, on a MacBook Pro 2.4GHz Intel Core 
> Duo; also XCode 3.2.5.
>
> Can anyone suggest how to proceed?

You can easily compile your own GEOS. I did so (multiarch) a few 
months ago when rgeos was said to be imminent for CRAN.

>
> Many thanks
>
> Andy
>
> UCL Institute of Archaeology
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ian.fellows at stat.ucla.edu  Thu Mar  3 21:16:04 2011
From: ian.fellows at stat.ucla.edu (Ian Fellows)
Date: Thu, 3 Mar 2011 12:16:04 -0800
Subject: [R-SIG-Mac] R.app and JGR.app and the PATH environmental variable
Message-ID: <D1C68D91-FD48-447D-AB95-B3AAF63DEFAA@stat.ucla.edu>

Hi All,

I'm observing some behavior in R.app that I can't quite figure out. In the terminal and R run from the terminal I get the following for my PATH

> Sys.getenv("PATH")
                                                                                      PATH 
"/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/git/bin:/usr/texbin:/usr/X11/bin" 
> q("no")
Ian-Fellowss-MacBook-Pro:~ ianfellows$ echo $PATH
/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/git/bin:/usr/texbin:/usr/X11/bin

However, in R.app I get:

> Sys.getenv("PATH")
                                          PATH 
"/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin" 

While in JGR-SL.app I get:

> Sys.getenv("PATH")
                           PATH 
"/usr/bin:/bin:/usr/sbin:/sbin"

Finally if I start JGR from the terminal

Ian-Fellowss-MacBook-Pro:~ ianfellows$ ./JGR-SL.app/Contents/MacOS/JGR

when JGR opens, the PATH is correct:

> Sys.getenv("PATH")
                                                                                      PATH 
"/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/git/bin:/usr/texbin:/usr/X11/bin"

Does anyone have any thoughts as to what is going on here.


Thanks,
Ian


From wuolong at gmail.com  Thu Mar  3 22:46:33 2011
From: wuolong at gmail.com (Michael Li)
Date: Thu, 3 Mar 2011 16:46:33 -0500
Subject: [R-SIG-Mac] R.app and JGR.app and the PATH environmental
	variable
In-Reply-To: <D1C68D91-FD48-447D-AB95-B3AAF63DEFAA@stat.ucla.edu>
References: <D1C68D91-FD48-447D-AB95-B3AAF63DEFAA@stat.ucla.edu>
Message-ID: <AANLkTikLSkZpKBcfZ4x7rjsbd9X7svNDWMC6A+v25T1=@mail.gmail.com>

It depends on what is the parent process.

If you use terminal, bash is the parent process, which honors
environmental variables in .bashrc or /etc/profile.

If you launch the app in Finder, which does care about .bashrc, you do
not get the environmental variables set there.  Instead, you should
edit ~/.MacOSX/environment.plist   (see
http://developer.apple.com/library/mac/#qa/qa2001/qa1067.html).

Best, Michael

On Thu, Mar 3, 2011 at 3:16 PM, Ian Fellows <ian.fellows at stat.ucla.edu> wrote:
> Hi All,
>
> I'm observing some behavior in R.app that I can't quite figure out. In the terminal and R run from the terminal I get the following for my PATH
>
>> Sys.getenv("PATH")
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?PATH
> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/git/bin:/usr/texbin:/usr/X11/bin"
>> q("no")
> Ian-Fellowss-MacBook-Pro:~ ianfellows$ echo $PATH
> /usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/git/bin:/usr/texbin:/usr/X11/bin
>
> However, in R.app I get:
>
>> Sys.getenv("PATH")
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?PATH
> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"
>
> While in JGR-SL.app I get:
>
>> Sys.getenv("PATH")
> ? ? ? ? ? ? ? ? ? ? ? ? ? PATH
> "/usr/bin:/bin:/usr/sbin:/sbin"
>
> Finally if I start JGR from the terminal
>
> Ian-Fellowss-MacBook-Pro:~ ianfellows$ ./JGR-SL.app/Contents/MacOS/JGR
>
> when JGR opens, the PATH is correct:
>
>> Sys.getenv("PATH")
> ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?PATH
> "/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/local/git/bin:/usr/texbin:/usr/X11/bin"
>
> Does anyone have any thoughts as to what is going on here.
>
>
> Thanks,
> Ian
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From linsleys at comcast.net  Fri Mar  4 16:19:14 2011
From: linsleys at comcast.net (linsleys)
Date: Fri, 4 Mar 2011 07:19:14 -0800
Subject: [R-SIG-Mac] problem loading ggplot2 package
Message-ID: <AANLkTikuRPcS3MYTVLAM1tFeb5-w=R+ni08t8cfM=fEt@mail.gmail.com>

I'm having trouble loading ggplot2 using R version 2.12.1, as shown
below. I can't seem to find a relevant post that fixes my problem. Any
help would be very much appreciated. Thanks,

peter l

> install.packages('ggplot2', dep = TRUE)
trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/ggplot2_0.8.9.tgz'
Content type 'application/x-gzip' length 2481399 bytes (2.4 Mb)
opened URL
=================================================
downloaded 2.4 Mb


The downloaded packages are in
    /var/folders/XF/XF0tU7gdGTeF4Th7KhKYDk+++TI/-Tmp-//RtmpFMnqLB/downloaded_packages
> library(ggplot2)
Error in assign(names[i], dots[[i]], env = envir) :
  invalid first argument
Error : unable to load R code in package 'ggplot2'
Error: package/namespace load failed for 'ggplot2'

sessionInfo() R version 2.12.1 (2010-12-16) Platform:
x86_64-apple-darwin9.8.0/x86_64 (64-bit) locale: [1]
en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8 attached base
packages: [1] grid stats graphics grDevices utils datasets methods [8]
base other attached packages: [1] proto_0.3-8 reshape_0.8.4 plyr_1.4
loaded via a namespace (and not attached): [1] tcltk_2.12.2
tools_2.12.2



-- 
Peter and Leslie Linsley
2528 11th Ave W
Seattle, WA 98119
linsleys at comcast.net
206.818.3206? P-cell
206-818-3167? L-cell


From bpbond at gmail.com  Fri Mar  4 16:28:56 2011
From: bpbond at gmail.com (Ben Bond-Lamberty)
Date: Fri, 4 Mar 2011 10:28:56 -0500
Subject: [R-SIG-Mac] problem loading ggplot2 package
In-Reply-To: <AANLkTikuRPcS3MYTVLAM1tFeb5-w=R+ni08t8cfM=fEt@mail.gmail.com>
References: <AANLkTikuRPcS3MYTVLAM1tFeb5-w=R+ni08t8cfM=fEt@mail.gmail.com>
Message-ID: <AANLkTi=nKy2uR+tC_r6Lz+oEmg90yxrmgpnL1fEH5bs3@mail.gmail.com>

Hi Peter,

I see you've posted this question in a bunch of other places, with no
luck? Two suggestions: 1) post this question to the ggplot2 listserv,
and 2) clean out R and all your installed packages--start fresh, and
reinstall. Personally I'd skip right to #2, even though it's a bit of
a pain.

Ben


On Fri, Mar 4, 2011 at 10:19 AM, linsleys <linsleys at comcast.net> wrote:
> I'm having trouble loading ggplot2 using R version 2.12.1, as shown
> below. I can't seem to find a relevant post that fixes my problem. Any
> help would be very much appreciated. Thanks,
>
> peter l
>
>> install.packages('ggplot2', dep = TRUE)
> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/ggplot2_0.8.9.tgz'
> Content type 'application/x-gzip' length 2481399 bytes (2.4 Mb)
> opened URL
> =================================================
> downloaded 2.4 Mb
>
>
> The downloaded packages are in
> ? ?/var/folders/XF/XF0tU7gdGTeF4Th7KhKYDk+++TI/-Tmp-//RtmpFMnqLB/downloaded_packages
>> library(ggplot2)
> Error in assign(names[i], dots[[i]], env = envir) :
> ?invalid first argument
> Error : unable to load R code in package 'ggplot2'
> Error: package/namespace load failed for 'ggplot2'
>
> sessionInfo() R version 2.12.1 (2010-12-16) Platform:
> x86_64-apple-darwin9.8.0/x86_64 (64-bit) locale: [1]
> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8 attached base
> packages: [1] grid stats graphics grDevices utils datasets methods [8]
> base other attached packages: [1] proto_0.3-8 reshape_0.8.4 plyr_1.4
> loaded via a namespace (and not attached): [1] tcltk_2.12.2
> tools_2.12.2
>
>
>
> --
> Peter and Leslie Linsley
> 2528 11th Ave W
> Seattle, WA 98119
> linsleys at comcast.net
> 206.818.3206? P-cell
> 206-818-3167? L-cell
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From macqueen1 at llnl.gov  Fri Mar  4 17:14:40 2011
From: macqueen1 at llnl.gov (MacQueen, Don)
Date: Fri, 4 Mar 2011 08:14:40 -0800
Subject: [R-SIG-Mac] problem loading ggplot2 package
In-Reply-To: <AANLkTikuRPcS3MYTVLAM1tFeb5-w=R+ni08t8cfM=fEt@mail.gmail.com>
Message-ID: <C9964C13.708E%macqueen1@llnl.gov>

Peter,

There should not be a problem with ggplot2 on a Mac; I was able to install
and load it without difficulty just now (see below).  (though apparently
some dependencies are not available, so perhaps some ggplot2 functions
won't work properly; I don't know)

This does tend to suggest something is awry with your R installation, as
Bob Bond-Lamberty suggested in his response. Note that I have 32 bit R
2.12.2 whereas you have 64 bit 2.12.1. I don't think the 32 vs 64 bit is
the problem, since I can run R64 and load ggplot2.

Does
  traceback()
used immediately after the error, give any useful information?

Not much help, I know...

-Don

> install.packages('ggplot2',dep=TRUE)
--- Please select a CRAN mirror for use in this session ---
Loading Tcl/Tk interface ... done
Warning: dependencies 'marray', 'affy', 'Biobase' are not available
also installing the dependencies 'logspline', 'digest', 'quantreg',
'hexbin'

trying URL 
'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/logspline_2.1
.3.tgz'
Content type 'application/x-gzip' length 409453 bytes (399 Kb)
opened URL
==================================================
downloaded 399 Kb

trying URL 
'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/digest_0.4.2.
tgz'
Content type 'application/x-gzip' length 120633 bytes (117 Kb)
opened URL
==================================================
downloaded 117 Kb

trying URL 
'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/quantreg_4.57
.tgz'
Content type 'application/x-gzip' length 2818374 bytes (2.7 Mb)
opened URL
==================================================
downloaded 2.7 Mb

trying URL 
'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/hexbin_1.24.0
.tgz'
Content type 'application/x-gzip' length 690100 bytes (673 Kb)
opened URL
==================================================
downloaded 673 Kb

trying URL 
'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/ggplot2_0.8.9
.tgz'
Content type 'application/x-gzip' length 2481399 bytes (2.4 Mb)
opened URL
==================================================
downloaded 2.4 Mb


The downloaded packages are in
        
/var/folders/pa/pamYryRNGGKLDVNRYyxBt+++m+c/-Tmp-//RtmplZqsQp/downloaded_pa
ckages

> require(ggplot2)
Loading required package: ggplot2
Loading required package: reshape
Loading required package: plyr

Attaching package: 'reshape'

The following object(s) are masked from 'package:plyr':

    round_any

Loading required package: grid
Loading required package: proto




> sessionInfo()
R version 2.12.2 (2011-02-25)
Platform: i386-apple-darwin9.8.0/i386 (32-bit)

locale:
[1] C

attached base packages:
[1] grid      stats     graphics  grDevices utils     datasets  methods
[8] base     

other attached packages:
[1] ggplot2_0.8.9 proto_0.3-8   reshape_0.8.4 plyr_1.4

loaded via a namespace (and not attached):
[1] tcltk_2.12.2 tools_2.12.2




-- 
Don MacQueen

Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062





On 3/4/11 7:19 AM, "linsleys" <linsleys at comcast.net> wrote:

>I'm having trouble loading ggplot2 using R version 2.12.1, as shown
>below. I can't seem to find a relevant post that fixes my problem. Any
>help would be very much appreciated. Thanks,
>
>peter l
>
>> install.packages('ggplot2', dep = TRUE)
>trying URL 
>'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/ggplot2_0.8.
>9.tgz'
>Content type 'application/x-gzip' length 2481399 bytes (2.4 Mb)
>opened URL
>=================================================
>downloaded 2.4 Mb
>
>
>The downloaded packages are in
>    
>/var/folders/XF/XF0tU7gdGTeF4Th7KhKYDk+++TI/-Tmp-//RtmpFMnqLB/downloaded_p
>ackages
>> library(ggplot2)
>Error in assign(names[i], dots[[i]], env = envir) :
>  invalid first argument
>Error : unable to load R code in package 'ggplot2'
>Error: package/namespace load failed for 'ggplot2'
>
>sessionInfo() R version 2.12.1 (2010-12-16) Platform:
>x86_64-apple-darwin9.8.0/x86_64 (64-bit) locale: [1]
>en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8 attached base
>packages: [1] grid stats graphics grDevices utils datasets methods [8]
>base other attached packages: [1] proto_0.3-8 reshape_0.8.4 plyr_1.4
>loaded via a namespace (and not attached): [1] tcltk_2.12.2
>tools_2.12.2
>
>
>
>-- 
>Peter and Leslie Linsley
>2528 11th Ave W
>Seattle, WA 98119
>linsleys at comcast.net
>206.818.3206  P-cell
>206-818-3167  L-cell
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at r-project.org
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From anirbanm at smu.edu.sg  Sat Mar  5 03:13:35 2011
From: anirbanm at smu.edu.sg (Anirban Mukherjee)
Date: Sat, 5 Mar 2011 10:13:35 +0800
Subject: [R-SIG-Mac] problem loading ggplot2 package
In-Reply-To: <C9964C13.708E%macqueen1@llnl.gov>
References: <C9964C13.708E%macqueen1@llnl.gov>
Message-ID: <9AF5B03E-90CD-4F98-8EDD-45B7FD3F1FD4@smu.edu.sg>

I would suggest updating R to 2.12.2. That should be fairly seamless/painless.

A

--
Anirban Mukherjee | Assistant Professor, Marketing 
LKCSB, Singapore Management University
5056 School of Business, 50 Stamford Road
Singapore 178899 | +65-6828-1932


On Mar 5, 2011, at 12:14 AM, MacQueen, Don wrote:

> Peter,
> 
> There should not be a problem with ggplot2 on a Mac; I was able to install
> and load it without difficulty just now (see below).  (though apparently
> some dependencies are not available, so perhaps some ggplot2 functions
> won't work properly; I don't know)
> 
> This does tend to suggest something is awry with your R installation, as
> Bob Bond-Lamberty suggested in his response. Note that I have 32 bit R
> 2.12.2 whereas you have 64 bit 2.12.1. I don't think the 32 vs 64 bit is
> the problem, since I can run R64 and load ggplot2.
> 
> Does
>  traceback()
> used immediately after the error, give any useful information?
> 
> Not much help, I know...
> 
> -Don
> 
>> install.packages('ggplot2',dep=TRUE)
> --- Please select a CRAN mirror for use in this session ---
> Loading Tcl/Tk interface ... done
> Warning: dependencies 'marray', 'affy', 'Biobase' are not available
> also installing the dependencies 'logspline', 'digest', 'quantreg',
> 'hexbin'
> 
> trying URL 
> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/logspline_2.1
> .3.tgz'
> Content type 'application/x-gzip' length 409453 bytes (399 Kb)
> opened URL
> ==================================================
> downloaded 399 Kb
> 
> trying URL 
> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/digest_0.4.2.
> tgz'
> Content type 'application/x-gzip' length 120633 bytes (117 Kb)
> opened URL
> ==================================================
> downloaded 117 Kb
> 
> trying URL 
> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/quantreg_4.57
> .tgz'
> Content type 'application/x-gzip' length 2818374 bytes (2.7 Mb)
> opened URL
> ==================================================
> downloaded 2.7 Mb
> 
> trying URL 
> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/hexbin_1.24.0
> .tgz'
> Content type 'application/x-gzip' length 690100 bytes (673 Kb)
> opened URL
> ==================================================
> downloaded 673 Kb
> 
> trying URL 
> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/ggplot2_0.8.9
> .tgz'
> Content type 'application/x-gzip' length 2481399 bytes (2.4 Mb)
> opened URL
> ==================================================
> downloaded 2.4 Mb
> 
> 
> The downloaded packages are in
> 
> /var/folders/pa/pamYryRNGGKLDVNRYyxBt+++m+c/-Tmp-//RtmplZqsQp/downloaded_pa
> ckages
> 
>> require(ggplot2)
> Loading required package: ggplot2
> Loading required package: reshape
> Loading required package: plyr
> 
> Attaching package: 'reshape'
> 
> The following object(s) are masked from 'package:plyr':
> 
>    round_any
> 
> Loading required package: grid
> Loading required package: proto
> 
> 
> 
> 
>> sessionInfo()
> R version 2.12.2 (2011-02-25)
> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
> 
> locale:
> [1] C
> 
> attached base packages:
> [1] grid      stats     graphics  grDevices utils     datasets  methods
> [8] base     
> 
> other attached packages:
> [1] ggplot2_0.8.9 proto_0.3-8   reshape_0.8.4 plyr_1.4
> 
> loaded via a namespace (and not attached):
> [1] tcltk_2.12.2 tools_2.12.2
> 
> 
> 
> 
> -- 
> Don MacQueen
> 
> Lawrence Livermore National Laboratory
> 7000 East Ave., L-627
> Livermore, CA 94550
> 925-423-1062
> 
> 
> 
> 
> 
> On 3/4/11 7:19 AM, "linsleys" <linsleys at comcast.net> wrote:
> 
>> I'm having trouble loading ggplot2 using R version 2.12.1, as shown
>> below. I can't seem to find a relevant post that fixes my problem. Any
>> help would be very much appreciated. Thanks,
>> 
>> peter l
>> 
>>> install.packages('ggplot2', dep = TRUE)
>> trying URL 
>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/ggplot2_0.8.
>> 9.tgz'
>> Content type 'application/x-gzip' length 2481399 bytes (2.4 Mb)
>> opened URL
>> =================================================
>> downloaded 2.4 Mb
>> 
>> 
>> The downloaded packages are in
>> 
>> /var/folders/XF/XF0tU7gdGTeF4Th7KhKYDk+++TI/-Tmp-//RtmpFMnqLB/downloaded_p
>> ackages
>>> library(ggplot2)
>> Error in assign(names[i], dots[[i]], env = envir) :
>> invalid first argument
>> Error : unable to load R code in package 'ggplot2'
>> Error: package/namespace load failed for 'ggplot2'
>> 
>> sessionInfo() R version 2.12.1 (2010-12-16) Platform:
>> x86_64-apple-darwin9.8.0/x86_64 (64-bit) locale: [1]
>> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8 attached base
>> packages: [1] grid stats graphics grDevices utils datasets methods [8]
>> base other attached packages: [1] proto_0.3-8 reshape_0.8.4 plyr_1.4
>> loaded via a namespace (and not attached): [1] tcltk_2.12.2
>> tools_2.12.2
>> 
>> 
>> 
>> -- 
>> Peter and Leslie Linsley
>> 2528 11th Ave W
>> Seattle, WA 98119
>> linsleys at comcast.net
>> 206.818.3206  P-cell
>> 206-818-3167  L-cell
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From linsleys at comcast.net  Sat Mar  5 20:50:22 2011
From: linsleys at comcast.net (linsleys)
Date: Sat, 5 Mar 2011 11:50:22 -0800
Subject: [R-SIG-Mac] problem loading ggplot2 package
In-Reply-To: <9AF5B03E-90CD-4F98-8EDD-45B7FD3F1FD4@smu.edu.sg>
References: <C9964C13.708E%macqueen1@llnl.gov>
	<9AF5B03E-90CD-4F98-8EDD-45B7FD3F1FD4@smu.edu.sg>
Message-ID: <AANLkTikcjHtKDSE6TP+x3MaahjevZDXNewDNHXK9kBq0@mail.gmail.com>

None of these suggestions fixed my problem.  Uninstalled R,
re-installed the latest version and re-loaded ggplot2.  Still get the
same error message.  I'm wondering about the env = envir part of the
error message- could it be a permissions problem?

p


>  library(ggplot2)
Loading required package: reshape
Loading required package: plyr

Attaching package: 'reshape'

The following object(s) are masked from 'package:plyr':

    round_any

Loading required package: grid
Loading required package: proto
Error in assign(names[i], dots[[i]], env = envir) :
  invalid first argument
Error : unable to load R code in package 'ggplot2'
Error: package/namespace load failed for 'ggplot2'



$version.string
[1] "R version 2.12.2 (2011-02-25)"

> SystemInfo()
Error: could not find function "SystemInfo"
> Sys.info()

                 sysname

                "Darwin"

                 release

                "10.6.0"

                 version
"Darwin Kernel Version 10.6.0: Wed Nov 10 18:13:17 PST 2010;
root:xnu-1504.9.26~3/RELEASE_I386"

                nodename

    "MacBook-Chef.local"

                 machine

                  "i386"

                   login

              "linsleys"

                    user

              "linsleys"
>

On Fri, Mar 4, 2011 at 6:13 PM, Anirban Mukherjee <anirbanm at smu.edu.sg> wrote:
> I would suggest updating R to 2.12.2. That should be fairly seamless/painless.
>
> A
>
> --
> Anirban Mukherjee | Assistant Professor, Marketing
> LKCSB, Singapore Management University
> 5056 School of Business, 50 Stamford Road
> Singapore 178899 | +65-6828-1932
>
>
> On Mar 5, 2011, at 12:14 AM, MacQueen, Don wrote:
>
>> Peter,
>>
>> There should not be a problem with ggplot2 on a Mac; I was able to install
>> and load it without difficulty just now (see below). ?(though apparently
>> some dependencies are not available, so perhaps some ggplot2 functions
>> won't work properly; I don't know)
>>
>> This does tend to suggest something is awry with your R installation, as
>> Bob Bond-Lamberty suggested in his response. Note that I have 32 bit R
>> 2.12.2 whereas you have 64 bit 2.12.1. I don't think the 32 vs 64 bit is
>> the problem, since I can run R64 and load ggplot2.
>>
>> Does
>> ?traceback()
>> used immediately after the error, give any useful information?
>>
>> Not much help, I know...
>>
>> -Don
>>
>>> install.packages('ggplot2',dep=TRUE)
>> --- Please select a CRAN mirror for use in this session ---
>> Loading Tcl/Tk interface ... done
>> Warning: dependencies 'marray', 'affy', 'Biobase' are not available
>> also installing the dependencies 'logspline', 'digest', 'quantreg',
>> 'hexbin'
>>
>> trying URL
>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/logspline_2.1
>> .3.tgz'
>> Content type 'application/x-gzip' length 409453 bytes (399 Kb)
>> opened URL
>> ==================================================
>> downloaded 399 Kb
>>
>> trying URL
>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/digest_0.4.2.
>> tgz'
>> Content type 'application/x-gzip' length 120633 bytes (117 Kb)
>> opened URL
>> ==================================================
>> downloaded 117 Kb
>>
>> trying URL
>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/quantreg_4.57
>> .tgz'
>> Content type 'application/x-gzip' length 2818374 bytes (2.7 Mb)
>> opened URL
>> ==================================================
>> downloaded 2.7 Mb
>>
>> trying URL
>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/hexbin_1.24.0
>> .tgz'
>> Content type 'application/x-gzip' length 690100 bytes (673 Kb)
>> opened URL
>> ==================================================
>> downloaded 673 Kb
>>
>> trying URL
>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/ggplot2_0.8.9
>> .tgz'
>> Content type 'application/x-gzip' length 2481399 bytes (2.4 Mb)
>> opened URL
>> ==================================================
>> downloaded 2.4 Mb
>>
>>
>> The downloaded packages are in
>>
>> /var/folders/pa/pamYryRNGGKLDVNRYyxBt+++m+c/-Tmp-//RtmplZqsQp/downloaded_pa
>> ckages
>>
>>> require(ggplot2)
>> Loading required package: ggplot2
>> Loading required package: reshape
>> Loading required package: plyr
>>
>> Attaching package: 'reshape'
>>
>> The following object(s) are masked from 'package:plyr':
>>
>> ? ?round_any
>>
>> Loading required package: grid
>> Loading required package: proto
>>
>>
>>
>>
>>> sessionInfo()
>> R version 2.12.2 (2011-02-25)
>> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
>>
>> locale:
>> [1] C
>>
>> attached base packages:
>> [1] grid ? ? ?stats ? ? graphics ?grDevices utils ? ? datasets ?methods
>> [8] base
>>
>> other attached packages:
>> [1] ggplot2_0.8.9 proto_0.3-8 ? reshape_0.8.4 plyr_1.4
>>
>> loaded via a namespace (and not attached):
>> [1] tcltk_2.12.2 tools_2.12.2
>>
>>
>>
>>
>> --
>> Don MacQueen
>>
>> Lawrence Livermore National Laboratory
>> 7000 East Ave., L-627
>> Livermore, CA 94550
>> 925-423-1062
>>
>>
>>
>>
>>
>> On 3/4/11 7:19 AM, "linsleys" <linsleys at comcast.net> wrote:
>>
>>> I'm having trouble loading ggplot2 using R version 2.12.1, as shown
>>> below. I can't seem to find a relevant post that fixes my problem. Any
>>> help would be very much appreciated. Thanks,
>>>
>>> peter l
>>>
>>>> install.packages('ggplot2', dep = TRUE)
>>> trying URL
>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/ggplot2_0.8.
>>> 9.tgz'
>>> Content type 'application/x-gzip' length 2481399 bytes (2.4 Mb)
>>> opened URL
>>> =================================================
>>> downloaded 2.4 Mb
>>>
>>>
>>> The downloaded packages are in
>>>
>>> /var/folders/XF/XF0tU7gdGTeF4Th7KhKYDk+++TI/-Tmp-//RtmpFMnqLB/downloaded_p
>>> ackages
>>>> library(ggplot2)
>>> Error in assign(names[i], dots[[i]], env = envir) :
>>> invalid first argument
>>> Error : unable to load R code in package 'ggplot2'
>>> Error: package/namespace load failed for 'ggplot2'
>>>
>>> sessionInfo() R version 2.12.1 (2010-12-16) Platform:
>>> x86_64-apple-darwin9.8.0/x86_64 (64-bit) locale: [1]
>>> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8 attached base
>>> packages: [1] grid stats graphics grDevices utils datasets methods [8]
>>> base other attached packages: [1] proto_0.3-8 reshape_0.8.4 plyr_1.4
>>> loaded via a namespace (and not attached): [1] tcltk_2.12.2
>>> tools_2.12.2
>>>
>>>
>>>
>>> --
>>> Peter and Leslie Linsley
>>> 2528 11th Ave W
>>> Seattle, WA 98119
>>> linsleys at comcast.net
>>> 206.818.3206 ?P-cell
>>> 206-818-3167 ?L-cell
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>



-- 
Peter and Leslie Linsley
2528 11th Ave W
Seattle, WA 98119
linsleys at comcast.net
206.818.3206? P-cell
206-818-3167? L-cell


From bpbond at gmail.com  Sun Mar  6 04:12:28 2011
From: bpbond at gmail.com (Ben Bond-Lamberty)
Date: Sat, 5 Mar 2011 22:12:28 -0500
Subject: [R-SIG-Mac] problem loading ggplot2 package
In-Reply-To: <AANLkTikcjHtKDSE6TP+x3MaahjevZDXNewDNHXK9kBq0@mail.gmail.com>
References: <C9964C13.708E%macqueen1@llnl.gov>
	<9AF5B03E-90CD-4F98-8EDD-45B7FD3F1FD4@smu.edu.sg>
	<AANLkTikcjHtKDSE6TP+x3MaahjevZDXNewDNHXK9kBq0@mail.gmail.com>
Message-ID: <AANLkTin3ad6E7v6mrUMM3agHwNbSt_AeH7N49cy9SAsR@mail.gmail.com>

I have no special knowledge, but a few questions to try to narrow things down:

- Is there anything unusual in your .Rprofile?
- Did you try installing ggplot using the "Package Installer" menu
item in the GUI?
- Is it ggplot, or actually the load of 'proto' that's failing? (Can
you "library(proto)" OK?)
- Try creating a new user on your Mac, logging in, installing R and
then ggplot2.

Re permissions, seems unlikely, but running the voodoo "Repair
Permissions" in Disk Utility won't hurt...

Ben


On Sat, Mar 5, 2011 at 2:50 PM, linsleys <linsleys at comcast.net> wrote:
> None of these suggestions fixed my problem. ?Uninstalled R,
> re-installed the latest version and re-loaded ggplot2. ?Still get the
> same error message. ?I'm wondering about the env = envir part of the
> error message- could it be a permissions problem?
>
> p
>
>
>> ?library(ggplot2)
> Loading required package: reshape
> Loading required package: plyr
>
> Attaching package: 'reshape'
>
> The following object(s) are masked from 'package:plyr':
>
> ? ?round_any
>
> Loading required package: grid
> Loading required package: proto
> Error in assign(names[i], dots[[i]], env = envir) :
> ?invalid first argument
> Error : unable to load R code in package 'ggplot2'
> Error: package/namespace load failed for 'ggplot2'
>
>
>
> $version.string
> [1] "R version 2.12.2 (2011-02-25)"
>
>> SystemInfo()
> Error: could not find function "SystemInfo"
>> Sys.info()
>
> ? ? ? ? ? ? ? ? sysname
>
> ? ? ? ? ? ? ? ?"Darwin"
>
> ? ? ? ? ? ? ? ? release
>
> ? ? ? ? ? ? ? ?"10.6.0"
>
> ? ? ? ? ? ? ? ? version
> "Darwin Kernel Version 10.6.0: Wed Nov 10 18:13:17 PST 2010;
> root:xnu-1504.9.26~3/RELEASE_I386"
>
> ? ? ? ? ? ? ? ?nodename
>
> ? ?"MacBook-Chef.local"
>
> ? ? ? ? ? ? ? ? machine
>
> ? ? ? ? ? ? ? ? ?"i386"
>
> ? ? ? ? ? ? ? ? ? login
>
> ? ? ? ? ? ? ?"linsleys"
>
> ? ? ? ? ? ? ? ? ? ?user
>
> ? ? ? ? ? ? ?"linsleys"
>>
>
> On Fri, Mar 4, 2011 at 6:13 PM, Anirban Mukherjee <anirbanm at smu.edu.sg> wrote:
>> I would suggest updating R to 2.12.2. That should be fairly seamless/painless.
>>
>> A
>>
>> --
>> Anirban Mukherjee | Assistant Professor, Marketing
>> LKCSB, Singapore Management University
>> 5056 School of Business, 50 Stamford Road
>> Singapore 178899 | +65-6828-1932
>>
>>
>> On Mar 5, 2011, at 12:14 AM, MacQueen, Don wrote:
>>
>>> Peter,
>>>
>>> There should not be a problem with ggplot2 on a Mac; I was able to install
>>> and load it without difficulty just now (see below). ?(though apparently
>>> some dependencies are not available, so perhaps some ggplot2 functions
>>> won't work properly; I don't know)
>>>
>>> This does tend to suggest something is awry with your R installation, as
>>> Bob Bond-Lamberty suggested in his response. Note that I have 32 bit R
>>> 2.12.2 whereas you have 64 bit 2.12.1. I don't think the 32 vs 64 bit is
>>> the problem, since I can run R64 and load ggplot2.
>>>
>>> Does
>>> ?traceback()
>>> used immediately after the error, give any useful information?
>>>
>>> Not much help, I know...
>>>
>>> -Don
>>>
>>>> install.packages('ggplot2',dep=TRUE)
>>> --- Please select a CRAN mirror for use in this session ---
>>> Loading Tcl/Tk interface ... done
>>> Warning: dependencies 'marray', 'affy', 'Biobase' are not available
>>> also installing the dependencies 'logspline', 'digest', 'quantreg',
>>> 'hexbin'
>>>
>>> trying URL
>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/logspline_2.1
>>> .3.tgz'
>>> Content type 'application/x-gzip' length 409453 bytes (399 Kb)
>>> opened URL
>>> ==================================================
>>> downloaded 399 Kb
>>>
>>> trying URL
>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/digest_0.4.2.
>>> tgz'
>>> Content type 'application/x-gzip' length 120633 bytes (117 Kb)
>>> opened URL
>>> ==================================================
>>> downloaded 117 Kb
>>>
>>> trying URL
>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/quantreg_4.57
>>> .tgz'
>>> Content type 'application/x-gzip' length 2818374 bytes (2.7 Mb)
>>> opened URL
>>> ==================================================
>>> downloaded 2.7 Mb
>>>
>>> trying URL
>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/hexbin_1.24.0
>>> .tgz'
>>> Content type 'application/x-gzip' length 690100 bytes (673 Kb)
>>> opened URL
>>> ==================================================
>>> downloaded 673 Kb
>>>
>>> trying URL
>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/ggplot2_0.8.9
>>> .tgz'
>>> Content type 'application/x-gzip' length 2481399 bytes (2.4 Mb)
>>> opened URL
>>> ==================================================
>>> downloaded 2.4 Mb
>>>
>>>
>>> The downloaded packages are in
>>>
>>> /var/folders/pa/pamYryRNGGKLDVNRYyxBt+++m+c/-Tmp-//RtmplZqsQp/downloaded_pa
>>> ckages
>>>
>>>> require(ggplot2)
>>> Loading required package: ggplot2
>>> Loading required package: reshape
>>> Loading required package: plyr
>>>
>>> Attaching package: 'reshape'
>>>
>>> The following object(s) are masked from 'package:plyr':
>>>
>>> ? ?round_any
>>>
>>> Loading required package: grid
>>> Loading required package: proto
>>>
>>>
>>>
>>>
>>>> sessionInfo()
>>> R version 2.12.2 (2011-02-25)
>>> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
>>>
>>> locale:
>>> [1] C
>>>
>>> attached base packages:
>>> [1] grid ? ? ?stats ? ? graphics ?grDevices utils ? ? datasets ?methods
>>> [8] base
>>>
>>> other attached packages:
>>> [1] ggplot2_0.8.9 proto_0.3-8 ? reshape_0.8.4 plyr_1.4
>>>
>>> loaded via a namespace (and not attached):
>>> [1] tcltk_2.12.2 tools_2.12.2
>>>
>>>
>>>
>>>
>>> --
>>> Don MacQueen
>>>
>>> Lawrence Livermore National Laboratory
>>> 7000 East Ave., L-627
>>> Livermore, CA 94550
>>> 925-423-1062
>>>
>>>
>>>
>>>
>>>
>>> On 3/4/11 7:19 AM, "linsleys" <linsleys at comcast.net> wrote:
>>>
>>>> I'm having trouble loading ggplot2 using R version 2.12.1, as shown
>>>> below. I can't seem to find a relevant post that fixes my problem. Any
>>>> help would be very much appreciated. Thanks,
>>>>
>>>> peter l
>>>>
>>>>> install.packages('ggplot2', dep = TRUE)
>>>> trying URL
>>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/ggplot2_0.8.
>>>> 9.tgz'
>>>> Content type 'application/x-gzip' length 2481399 bytes (2.4 Mb)
>>>> opened URL
>>>> =================================================
>>>> downloaded 2.4 Mb
>>>>
>>>>
>>>> The downloaded packages are in
>>>>
>>>> /var/folders/XF/XF0tU7gdGTeF4Th7KhKYDk+++TI/-Tmp-//RtmpFMnqLB/downloaded_p
>>>> ackages
>>>>> library(ggplot2)
>>>> Error in assign(names[i], dots[[i]], env = envir) :
>>>> invalid first argument
>>>> Error : unable to load R code in package 'ggplot2'
>>>> Error: package/namespace load failed for 'ggplot2'
>>>>
>>>> sessionInfo() R version 2.12.1 (2010-12-16) Platform:
>>>> x86_64-apple-darwin9.8.0/x86_64 (64-bit) locale: [1]
>>>> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8 attached base
>>>> packages: [1] grid stats graphics grDevices utils datasets methods [8]
>>>> base other attached packages: [1] proto_0.3-8 reshape_0.8.4 plyr_1.4
>>>> loaded via a namespace (and not attached): [1] tcltk_2.12.2
>>>> tools_2.12.2
>>>>
>>>>
>>>>
>>>> --
>>>> Peter and Leslie Linsley
>>>> 2528 11th Ave W
>>>> Seattle, WA 98119
>>>> linsleys at comcast.net
>>>> 206.818.3206 ?P-cell
>>>> 206-818-3167 ?L-cell
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
>
>
> --
> Peter and Leslie Linsley
> 2528 11th Ave W
> Seattle, WA 98119
> linsleys at comcast.net
> 206.818.3206? P-cell
> 206-818-3167? L-cell
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From fisher at plessthan.com  Sun Mar  6 16:29:32 2011
From: fisher at plessthan.com (Dennis Fisher)
Date: Sun, 6 Mar 2011 07:29:32 -0800
Subject: [R-SIG-Mac] system command in OS X failed when ampersand was added
	to command
Message-ID: <7CE804C7-378A-4268-91BB-0FB8B3F52D07@plessthan.com>

Colleagues

I just encountered an odd problem with the system command; perhaps someone can provide some insight.
At some point in the past (~ 6 months ago; I was using the latest version of R and Snow Leopard available at the time), the command:
	system("open -a /complete/path/to/app /complete/path/to/file &")
ran successfully.  

I am using R 2.12.0 and OS X.6.6 and the command failed.  To my surprise, removed the ampersand fixed the problem.  I don't know if the problem lies with OS X or R's interaction with OS X.  Does anyone have any insights into this?

Dennis


Dennis Fisher MD
P < (The "P Less Than" Company)
Phone: 1-866-PLessThan (1-866-753-7784)
Fax: 1-866-PLessThan (1-866-753-7784)
www.PLessThan.com


From lorang at gmail.com  Sun Mar  6 17:12:33 2011
From: lorang at gmail.com (Noah Lorang)
Date: Sun, 6 Mar 2011 11:12:33 -0500
Subject: [R-SIG-Mac] system command in OS X failed when ampersand was
	added to command
In-Reply-To: <7CE804C7-378A-4268-91BB-0FB8B3F52D07@plessthan.com>
References: <7CE804C7-378A-4268-91BB-0FB8B3F52D07@plessthan.com>
Message-ID: <9A161A3E-95FD-4132-87EC-AAADCDF9C58A@gmail.com>

I'm not able to replicate using the same setup on several computers, either with R.app or R running in the terminal, so it's likely something highly specific to your setup. I'd suggest reinstalling or upgrading R and see if the problem goes away.

The clearer way to do this in R, in my opinion, is to use the wait=FALSE flag in system(), which has the same effect as & directly in the shell.

Noah

On Mar 6, 2011, at Mar 6 10:29 AM , Dennis Fisher wrote:

> Colleagues
> 
> I just encountered an odd problem with the system command; perhaps someone can provide some insight.
> At some point in the past (~ 6 months ago; I was using the latest version of R and Snow Leopard available at the time), the command:
> 	system("open -a /complete/path/to/app /complete/path/to/file &")
> ran successfully.  
> 
> I am using R 2.12.0 and OS X.6.6 and the command failed.  To my surprise, removed the ampersand fixed the problem.  I don't know if the problem lies with OS X or R's interaction with OS X.  Does anyone have any insights into this?
> 
> Dennis
> 
> 
> Dennis Fisher MD
> P < (The "P Less Than" Company)
> Phone: 1-866-PLessThan (1-866-753-7784)
> Fax: 1-866-PLessThan (1-866-753-7784)
> www.PLessThan.com
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From linsleys at comcast.net  Sun Mar  6 18:47:35 2011
From: linsleys at comcast.net (linsleys)
Date: Sun, 6 Mar 2011 09:47:35 -0800
Subject: [R-SIG-Mac] problem loading ggplot2 package
In-Reply-To: <AANLkTin3ad6E7v6mrUMM3agHwNbSt_AeH7N49cy9SAsR@mail.gmail.com>
References: <C9964C13.708E%macqueen1@llnl.gov>
	<9AF5B03E-90CD-4F98-8EDD-45B7FD3F1FD4@smu.edu.sg>
	<AANLkTikcjHtKDSE6TP+x3MaahjevZDXNewDNHXK9kBq0@mail.gmail.com>
	<AANLkTin3ad6E7v6mrUMM3agHwNbSt_AeH7N49cy9SAsR@mail.gmail.com>
Message-ID: <AANLkTimW-XhxQiYnp90DAx-zLvUyS67By1th9d4Ej=QG@mail.gmail.com>

Ben-
Thanks for the useful ideas.  I've spent some time with them and they
yielded a clue: ggplot2 lods correctly when I login as another user.
Any further suggestions?

p

My answers to your specific questions are below:

-I don't know how to examine .Rprofile
-I have the same problem whether I use the GUI ot command line to load ggplot2
-proto loads fine
-ggplot2 lods correctly when I login as another user
- I repaired permissions, but it didn't help

On Sat, Mar 5, 2011 at 7:12 PM, Ben Bond-Lamberty <bpbond at gmail.com> wrote:
> I have no special knowledge, but a few questions to try to narrow things down:
>
> - Is there anything unusual in your .Rprofile?
> - Did you try installing ggplot using the "Package Installer" menu
> item in the GUI?
> - Is it ggplot, or actually the load of 'proto' that's failing? (Can
> you "library(proto)" OK?)
> - Try creating a new user on your Mac, logging in, installing R and
> then ggplot2.
>
> Re permissions, seems unlikely, but running the voodoo "Repair
> Permissions" in Disk Utility won't hurt...
>
> Ben
>
>
> On Sat, Mar 5, 2011 at 2:50 PM, linsleys <linsleys at comcast.net> wrote:
>> None of these suggestions fixed my problem. ?Uninstalled R,
>> re-installed the latest version and re-loaded ggplot2. ?Still get the
>> same error message. ?I'm wondering about the env = envir part of the
>> error message- could it be a permissions problem?
>>
>> p
>>
>>
>>> ?library(ggplot2)
>> Loading required package: reshape
>> Loading required package: plyr
>>
>> Attaching package: 'reshape'
>>
>> The following object(s) are masked from 'package:plyr':
>>
>> ? ?round_any
>>
>> Loading required package: grid
>> Loading required package: proto
>> Error in assign(names[i], dots[[i]], env = envir) :
>> ?invalid first argument
>> Error : unable to load R code in package 'ggplot2'
>> Error: package/namespace load failed for 'ggplot2'
>>
>>
>>
>> $version.string
>> [1] "R version 2.12.2 (2011-02-25)"
>>
>>> SystemInfo()
>> Error: could not find function "SystemInfo"
>>> Sys.info()
>>
>> ? ? ? ? ? ? ? ? sysname
>>
>> ? ? ? ? ? ? ? ?"Darwin"
>>
>> ? ? ? ? ? ? ? ? release
>>
>> ? ? ? ? ? ? ? ?"10.6.0"
>>
>> ? ? ? ? ? ? ? ? version
>> "Darwin Kernel Version 10.6.0: Wed Nov 10 18:13:17 PST 2010;
>> root:xnu-1504.9.26~3/RELEASE_I386"
>>
>> ? ? ? ? ? ? ? ?nodename
>>
>> ? ?"MacBook-Chef.local"
>>
>> ? ? ? ? ? ? ? ? machine
>>
>> ? ? ? ? ? ? ? ? ?"i386"
>>
>> ? ? ? ? ? ? ? ? ? login
>>
>> ? ? ? ? ? ? ?"linsleys"
>>
>> ? ? ? ? ? ? ? ? ? ?user
>>
>> ? ? ? ? ? ? ?"linsleys"
>>>
>>
>> On Fri, Mar 4, 2011 at 6:13 PM, Anirban Mukherjee <anirbanm at smu.edu.sg> wrote:
>>> I would suggest updating R to 2.12.2. That should be fairly seamless/painless.
>>>
>>> A
>>>
>>> --
>>> Anirban Mukherjee | Assistant Professor, Marketing
>>> LKCSB, Singapore Management University
>>> 5056 School of Business, 50 Stamford Road
>>> Singapore 178899 | +65-6828-1932
>>>
>>>
>>> On Mar 5, 2011, at 12:14 AM, MacQueen, Don wrote:
>>>
>>>> Peter,
>>>>
>>>> There should not be a problem with ggplot2 on a Mac; I was able to install
>>>> and load it without difficulty just now (see below). ?(though apparently
>>>> some dependencies are not available, so perhaps some ggplot2 functions
>>>> won't work properly; I don't know)
>>>>
>>>> This does tend to suggest something is awry with your R installation, as
>>>> Bob Bond-Lamberty suggested in his response. Note that I have 32 bit R
>>>> 2.12.2 whereas you have 64 bit 2.12.1. I don't think the 32 vs 64 bit is
>>>> the problem, since I can run R64 and load ggplot2.
>>>>
>>>> Does
>>>> ?traceback()
>>>> used immediately after the error, give any useful information?
>>>>
>>>> Not much help, I know...
>>>>
>>>> -Don
>>>>
>>>>> install.packages('ggplot2',dep=TRUE)
>>>> --- Please select a CRAN mirror for use in this session ---
>>>> Loading Tcl/Tk interface ... done
>>>> Warning: dependencies 'marray', 'affy', 'Biobase' are not available
>>>> also installing the dependencies 'logspline', 'digest', 'quantreg',
>>>> 'hexbin'
>>>>
>>>> trying URL
>>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/logspline_2.1
>>>> .3.tgz'
>>>> Content type 'application/x-gzip' length 409453 bytes (399 Kb)
>>>> opened URL
>>>> ==================================================
>>>> downloaded 399 Kb
>>>>
>>>> trying URL
>>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/digest_0.4.2.
>>>> tgz'
>>>> Content type 'application/x-gzip' length 120633 bytes (117 Kb)
>>>> opened URL
>>>> ==================================================
>>>> downloaded 117 Kb
>>>>
>>>> trying URL
>>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/quantreg_4.57
>>>> .tgz'
>>>> Content type 'application/x-gzip' length 2818374 bytes (2.7 Mb)
>>>> opened URL
>>>> ==================================================
>>>> downloaded 2.7 Mb
>>>>
>>>> trying URL
>>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/hexbin_1.24.0
>>>> .tgz'
>>>> Content type 'application/x-gzip' length 690100 bytes (673 Kb)
>>>> opened URL
>>>> ==================================================
>>>> downloaded 673 Kb
>>>>
>>>> trying URL
>>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/ggplot2_0.8.9
>>>> .tgz'
>>>> Content type 'application/x-gzip' length 2481399 bytes (2.4 Mb)
>>>> opened URL
>>>> ==================================================
>>>> downloaded 2.4 Mb
>>>>
>>>>
>>>> The downloaded packages are in
>>>>
>>>> /var/folders/pa/pamYryRNGGKLDVNRYyxBt+++m+c/-Tmp-//RtmplZqsQp/downloaded_pa
>>>> ckages
>>>>
>>>>> require(ggplot2)
>>>> Loading required package: ggplot2
>>>> Loading required package: reshape
>>>> Loading required package: plyr
>>>>
>>>> Attaching package: 'reshape'
>>>>
>>>> The following object(s) are masked from 'package:plyr':
>>>>
>>>> ? ?round_any
>>>>
>>>> Loading required package: grid
>>>> Loading required package: proto
>>>>
>>>>
>>>>
>>>>
>>>>> sessionInfo()
>>>> R version 2.12.2 (2011-02-25)
>>>> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
>>>>
>>>> locale:
>>>> [1] C
>>>>
>>>> attached base packages:
>>>> [1] grid ? ? ?stats ? ? graphics ?grDevices utils ? ? datasets ?methods
>>>> [8] base
>>>>
>>>> other attached packages:
>>>> [1] ggplot2_0.8.9 proto_0.3-8 ? reshape_0.8.4 plyr_1.4
>>>>
>>>> loaded via a namespace (and not attached):
>>>> [1] tcltk_2.12.2 tools_2.12.2
>>>>
>>>>
>>>>
>>>>
>>>> --
>>>> Don MacQueen
>>>>
>>>> Lawrence Livermore National Laboratory
>>>> 7000 East Ave., L-627
>>>> Livermore, CA 94550
>>>> 925-423-1062
>>>>
>>>>
>>>>
>>>>
>>>>
>>>> On 3/4/11 7:19 AM, "linsleys" <linsleys at comcast.net> wrote:
>>>>
>>>>> I'm having trouble loading ggplot2 using R version 2.12.1, as shown
>>>>> below. I can't seem to find a relevant post that fixes my problem. Any
>>>>> help would be very much appreciated. Thanks,
>>>>>
>>>>> peter l
>>>>>
>>>>>> install.packages('ggplot2', dep = TRUE)
>>>>> trying URL
>>>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/ggplot2_0.8.
>>>>> 9.tgz'
>>>>> Content type 'application/x-gzip' length 2481399 bytes (2.4 Mb)
>>>>> opened URL
>>>>> =================================================
>>>>> downloaded 2.4 Mb
>>>>>
>>>>>
>>>>> The downloaded packages are in
>>>>>
>>>>> /var/folders/XF/XF0tU7gdGTeF4Th7KhKYDk+++TI/-Tmp-//RtmpFMnqLB/downloaded_p
>>>>> ackages
>>>>>> library(ggplot2)
>>>>> Error in assign(names[i], dots[[i]], env = envir) :
>>>>> invalid first argument
>>>>> Error : unable to load R code in package 'ggplot2'
>>>>> Error: package/namespace load failed for 'ggplot2'
>>>>>
>>>>> sessionInfo() R version 2.12.1 (2010-12-16) Platform:
>>>>> x86_64-apple-darwin9.8.0/x86_64 (64-bit) locale: [1]
>>>>> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8 attached base
>>>>> packages: [1] grid stats graphics grDevices utils datasets methods [8]
>>>>> base other attached packages: [1] proto_0.3-8 reshape_0.8.4 plyr_1.4
>>>>> loaded via a namespace (and not attached): [1] tcltk_2.12.2
>>>>> tools_2.12.2
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Peter and Leslie Linsley
>>>>> 2528 11th Ave W
>>>>> Seattle, WA 98119
>>>>> linsleys at comcast.net
>>>>> 206.818.3206 ?P-cell
>>>>> 206-818-3167 ?L-cell
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>>
>>
>> --
>> Peter and Leslie Linsley
>> 2528 11th Ave W
>> Seattle, WA 98119
>> linsleys at comcast.net
>> 206.818.3206? P-cell
>> 206-818-3167? L-cell
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>



-- 
Peter and Leslie Linsley
2528 11th Ave W
Seattle, WA 98119
linsleys at comcast.net
206.818.3206? P-cell
206-818-3167? L-cell


From ripley at stats.ox.ac.uk  Sun Mar  6 18:49:38 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 6 Mar 2011 17:49:38 +0000 (GMT)
Subject: [R-SIG-Mac] system command in OS X failed when ampersand was
 added to command
In-Reply-To: <9A161A3E-95FD-4132-87EC-AAADCDF9C58A@gmail.com>
References: <7CE804C7-378A-4268-91BB-0FB8B3F52D07@plessthan.com>
	<9A161A3E-95FD-4132-87EC-AAADCDF9C58A@gmail.com>
Message-ID: <alpine.LFD.2.02.1103061747390.18174@gannet.stats.ox.ac.uk>

On Sun, 6 Mar 2011, Noah Lorang wrote:

> I'm not able to replicate using the same setup on several computers, either with R.app or R running in the terminal, so it's likely something highly specific to your setup. I'd suggest reinstalling or upgrading R and see if the problem goes away.
>
> The clearer way to do this in R, in my opinion, is to use the 
> wait=FALSE flag in system(), which has the same effect as & directly 
> in the shell.

Hmm, as documented, it actually appends & to the shell command for 
you.  Whether that is clearer depends on the reader, but wait=FALSE is 
cross-platform.

>
> Noah
>
> On Mar 6, 2011, at Mar 6 10:29 AM , Dennis Fisher wrote:
>
>> Colleagues
>>
>> I just encountered an odd problem with the system command; perhaps someone can provide some insight.
>> At some point in the past (~ 6 months ago; I was using the latest version of R and Snow Leopard available at the time), the command:
>> 	system("open -a /complete/path/to/app /complete/path/to/file &")
>> ran successfully.
>>
>> I am using R 2.12.0 and OS X.6.6 and the command failed.  To my surprise, removed the ampersand fixed the problem.  I don't know if the problem lies with OS X or R's interaction with OS X.  Does anyone have any insights into this?
>>
>> Dennis
>>
>>
>> Dennis Fisher MD
>> P < (The "P Less Than" Company)
>> Phone: 1-866-PLessThan (1-866-753-7784)
>> Fax: 1-866-PLessThan (1-866-753-7784)
>> www.PLessThan.com
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Sun Mar  6 21:41:40 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 6 Mar 2011 15:41:40 -0500
Subject: [R-SIG-Mac] system command in OS X failed when ampersand was
	added to command
In-Reply-To: <9A161A3E-95FD-4132-87EC-AAADCDF9C58A@gmail.com>
References: <7CE804C7-378A-4268-91BB-0FB8B3F52D07@plessthan.com>
	<9A161A3E-95FD-4132-87EC-AAADCDF9C58A@gmail.com>
Message-ID: <46F5F904-EEDA-447A-9944-68B9A1937183@r-project.org>


On Mar 6, 2011, at 11:12 AM, Noah Lorang wrote:

> I'm not able to replicate using the same setup on several computers, either with R.app or R running in the terminal, so it's likely something highly specific to your setup. I'd suggest reinstalling or upgrading R and see if the problem goes away.
> 
> The clearer way to do this in R, in my opinion, is to use the wait=FALSE flag in system(), which has the same effect as & directly in the shell.
> 

FWIW open returns immediately so both wait=FALSE and & are pointless -- they only prevent you from checking the result (and FWIW -a is an override that is not necessary unless you want to force a binding different from the OS type registration).

Also you said "the command failed" but what exactly does that mean?

Cheers,
Simon


> Noah
> 
> On Mar 6, 2011, at Mar 6 10:29 AM , Dennis Fisher wrote:
> 
>> Colleagues
>> 
>> I just encountered an odd problem with the system command; perhaps someone can provide some insight.
>> At some point in the past (~ 6 months ago; I was using the latest version of R and Snow Leopard available at the time), the command:
>> 	system("open -a /complete/path/to/app /complete/path/to/file &")
>> ran successfully.  
>> 
>> I am using R 2.12.0 and OS X.6.6 and the command failed.  To my surprise, removed the ampersand fixed the problem.  I don't know if the problem lies with OS X or R's interaction with OS X.  Does anyone have any insights into this?
>> 
>> Dennis
>> 
>> 
>> Dennis Fisher MD
>> P < (The "P Less Than" Company)
>> Phone: 1-866-PLessThan (1-866-753-7784)
>> Fax: 1-866-PLessThan (1-866-753-7784)
>> www.PLessThan.com
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From bpbond at gmail.com  Mon Mar  7 03:50:06 2011
From: bpbond at gmail.com (Ben Bond-Lamberty)
Date: Sun, 6 Mar 2011 21:50:06 -0500
Subject: [R-SIG-Mac] problem loading ggplot2 package
In-Reply-To: <AANLkTimW-XhxQiYnp90DAx-zLvUyS67By1th9d4Ej=QG@mail.gmail.com>
References: <C9964C13.708E%macqueen1@llnl.gov>
	<9AF5B03E-90CD-4F98-8EDD-45B7FD3F1FD4@smu.edu.sg>
	<AANLkTikcjHtKDSE6TP+x3MaahjevZDXNewDNHXK9kBq0@mail.gmail.com>
	<AANLkTin3ad6E7v6mrUMM3agHwNbSt_AeH7N49cy9SAsR@mail.gmail.com>
	<AANLkTimW-XhxQiYnp90DAx-zLvUyS67By1th9d4Ej=QG@mail.gmail.com>
Message-ID: <AANLkTimKLh9ECDM0KZyw9QGY7p-dX3po70XfT--M2tdg@mail.gmail.com>

Peter,

Well that does narrow things down: something is borked in your user
folder, and (again, I don't have any special knowledge here) a
permissions problem looks possible.

So check them: first on your home directory, and make sure .Rhistory
and .Rprofile have permissions "-rw-r--r--". This seems unlikely,
though, since the problem is only with ggplot2. (".Rprofile" is a file
that R reads on startup. People put custom settings, etc., in there,
but if you don't use it probably isn't the issue here.)

Then look in ~/Library/R/2.11/library for the ggplot2 folder. ("2.11"
may be different depending on your installed version.) Folder
permissions should be "drwxr-xr-x". Contents of that folder should
something look like this, except with your username:

drwxr-xr-x ? 12 <shortname> ?staff ? 408 Jul ?7 ?2010 .
drwxr-xr-x ?161 <shortname> ?staff ?5474 Feb 13 07:40 ..
-rw-r--r-- ? ?1 <shortname> ?staff ? 394 Jul ?7 ?2010 CITATION
-rw-r--r-- ? ?1 <shortname> ?staff ?3608 Jul ?7 ?2010 DESCRIPTION
-rw-r--r-- ? ?1 <shortname> ?staff ?6095 Jul ?7 ?2010 INDEX
drwxr-xr-x ? ?8 <shortname> ?staff ? 272 Jul ?7 ?2010 Meta
-rw-r--r-- ? ?1 <shortname> ?staff ? ?24 Jul ?7 ?2010 NAMESPACE
-rw-r--r-- ? ?1 <shortname> ?staff ?2455 Jul ?7 ?2010 NEWS
drwxr-xr-x ? ?3 <shortname> ?staff ? 102 Jul ?7 ?2010 R
drwxr-xr-x ? ?5 <shortname> ?staff ? 170 Jul ?7 ?2010 data
drwxr-xr-x ? ?7 <shortname> ?staff ? 238 Jul ?7 ?2010 help
drwxr-xr-x ? ?3 <shortname> ?staff ? 102 Jul ?7 ?2010 html

For all these you'll want to use the Terminal, typing e.g. "ls -al ~"
to see home directory.

Ben


On Sun, Mar 6, 2011 at 12:47 PM, linsleys <linsleys at comcast.net> wrote:
> Ben-
> Thanks for the useful ideas. ?I've spent some time with them and they
> yielded a clue: ggplot2 lods correctly when I login as another user.
> Any further suggestions?
>
> p
>
> My answers to your specific questions are below:
>
> -I don't know how to examine .Rprofile
> -I have the same problem whether I use the GUI ot command line to load ggplot2
> -proto loads fine
> -ggplot2 lods correctly when I login as another user
> - I repaired permissions, but it didn't help


From AKELLY at tcd.ie  Tue Mar  8 09:14:51 2011
From: AKELLY at tcd.ie (Alan Kelly)
Date: Tue, 8 Mar 2011 08:14:51 +0000
Subject: [R-SIG-Mac] would parallel computing help?
In-Reply-To: <mailman.1014.1299465978.31171.r-sig-mac@r-project.org>
References: <mailman.1014.1299465978.31171.r-sig-mac@r-project.org>
Message-ID: <9E385737-F605-49E2-A80A-32D0900F902C@tcd.ie>

Dear all, I'm running a number of Bayesian binomial regression models using jags (interfacing with R via R2jags) on a Mac server with quad core processor running at 2.66 Ghz with 6 GB memory under Snow Leopard (session info below).  As the models contain around 30 predictors and between 5 to 15 thousand observations, the time required to run a single model with 3 chains with an adequate number of iterations to ensure convergence is around 2 hours.  While I can live with this for the occasional run, it will be a problem when I need to run several dozen different models. 
Perhaps some of you have relevant experience and can advise if this run time could be significantly reduced using, for example, one of the parallel computing packages?  And if so, which one?  I should add that I'm not clear if jags can directly avail of multicore processing even if available - it might be necessary to program a Gibbs or Metropolis sampler directly in R.....
Any thoughts/suggestions?
Best wishes,
Alan Kelly

sessionInfo()
R version 2.12.1 (2010-12-16)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_IE.UTF-8/en_IE.UTF-8/C/C/en_IE.UTF-8/en_IE.UTF-8

attached base packages:
[1] splines   stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] car_2.0-9       survival_2.36-2 nnet_7.3-1      MASS_7.3-9      foreign_0.8-41 

loaded via a namespace (and not attached):
[1] tools_2.12.1

 

From ken at kjbeath.com.au  Tue Mar  8 09:27:54 2011
From: ken at kjbeath.com.au (Ken Beath)
Date: Tue, 8 Mar 2011 19:27:54 +1100
Subject: [R-SIG-Mac] would parallel computing help?
In-Reply-To: <9E385737-F605-49E2-A80A-32D0900F902C@tcd.ie>
References: <mailman.1014.1299465978.31171.r-sig-mac@r-project.org>
	<9E385737-F605-49E2-A80A-32D0900F902C@tcd.ie>
Message-ID: <3E73A53D-2315-4677-9DB6-FE799BD90108@kjbeath.com.au>

It would be easier to run multiple copies of R.

Ken

On 08/03/2011, at 7:14 PM, Alan Kelly wrote:

> Dear all, I'm running a number of Bayesian binomial regression models using jags (interfacing with R via R2jags) on a Mac server with quad core processor running at 2.66 Ghz with 6 GB memory under Snow Leopard (session info below).  As the models contain around 30 predictors and between 5 to 15 thousand observations, the time required to run a single model with 3 chains with an adequate number of iterations to ensure convergence is around 2 hours.  While I can live with this for the occasional run, it will be a problem when I need to run several dozen different models. 
> Perhaps some of you have relevant experience and can advise if this run time could be significantly reduced using, for example, one of the parallel computing packages?  And if so, which one?  I should add that I'm not clear if jags can directly avail of multicore processing even if available - it might be necessary to program a Gibbs or Metropolis sampler directly in R.....
> Any thoughts/suggestions?
> Best wishes,
> Alan Kelly
> 
> sessionInfo()
> R version 2.12.1 (2010-12-16)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_IE.UTF-8/en_IE.UTF-8/C/C/en_IE.UTF-8/en_IE.UTF-8
> 
> attached base packages:
> [1] splines   stats     graphics  grDevices utils     datasets  methods   base     
> 
> other attached packages:
> [1] car_2.0-9       survival_2.36-2 nnet_7.3-1      MASS_7.3-9      foreign_0.8-41 
> 
> loaded via a namespace (and not attached):
> [1] tools_2.12.1
> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From ripley at stats.ox.ac.uk  Tue Mar  8 09:33:43 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 8 Mar 2011 08:33:43 +0000 (GMT)
Subject: [R-SIG-Mac] would parallel computing help?
In-Reply-To: <9E385737-F605-49E2-A80A-32D0900F902C@tcd.ie>
References: <mailman.1014.1299465978.31171.r-sig-mac@r-project.org>
	<9E385737-F605-49E2-A80A-32D0900F902C@tcd.ie>
Message-ID: <alpine.LFD.2.02.1103080823480.28593@gannet.stats.ox.ac.uk>

This is an example of 'embarrassingly parallel' computation.  Simply 
run each chain in a separate process in parallel.  Packages such as 
snow or multicore can organize that for you.

However, if you mean logistic regression (there are other binomial 
regressions such as probit), first check how you are doing this in 
JAGS.  Using 'module glm' often makes a large difference in speed, and 
my recollection is that this is still not particularly fast compared 
to, say, MCMCpack. And in any case the recommended way to run JAGS 
with R is rjags (recommended by the author of JAGS, amonst others).

On Tue, 8 Mar 2011, Alan Kelly wrote:

> Dear all, I'm running a number of Bayesian binomial regression 
> models using jags (interfacing with R via R2jags) on a Mac server 
> with quad core processor running at 2.66 Ghz with 6 GB memory under 
> Snow Leopard (session info below).  As the models contain around 30 
> predictors and between 5 to 15 thousand observations, the time 
> required to run a single model with 3 chains with an adequate number 
> of iterations to ensure convergence is around 2 hours.  While I can 
> live with this for the occasional run, it will be a problem when I 
> need to run several dozen different models. Perhaps some of you have 
> relevant experience and can advise if this run time could be 
> significantly reduced using, for example, one of the parallel 
> computing packages?  And if so, which one?  I should add that I'm 
> not clear if jags can directly avail of multicore processing even if 
> available - it might be necessary to program a Gibbs or Metropolis 
> sampler directly in R.....

Again, if you mean logistic regression there are specialised MCMC 
schemes.

> Any thoughts/suggestions?
> Best wishes,
> Alan Kelly
>
> sessionInfo()
> R version 2.12.1 (2010-12-16)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] en_IE.UTF-8/en_IE.UTF-8/C/C/en_IE.UTF-8/en_IE.UTF-8
>
> attached base packages:
> [1] splines   stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] car_2.0-9       survival_2.36-2 nnet_7.3-1      MASS_7.3-9      foreign_0.8-41
>
> loaded via a namespace (and not attached):
> [1] tools_2.12.1
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From AKELLY at tcd.ie  Tue Mar  8 10:27:59 2011
From: AKELLY at tcd.ie (Alan Kelly)
Date: Tue, 8 Mar 2011 09:27:59 +0000
Subject: [R-SIG-Mac] would parallel computing help? - summary of
 responses
In-Reply-To: <mailman.1014.1299465978.31171.r-sig-mac@r-project.org>
References: <mailman.1014.1299465978.31171.r-sig-mac@r-project.org>
Message-ID: <BEC9829B-7FFE-4E90-9BE6-6F5BAEDE6A89@tcd.ie>

I want to thank Ken Beath and Prof. Ripley for replying to my query.  
For anyone else who might be interested, and as not all emails were cc-ed to r-sig-mac, the responses are copied below along with my reply.
Thanks,
Alan Kelly

Original posting:
> Dear all, I'm running a number of Bayesian binomial regression models using jags (interfacing with R via R2jags) on a Mac server with quad core processor running at 2.66 Ghz with 6 GB memory under Snow Leopard (session info below).  As the models contain around 30 predictors and between 5 to 15 thousand observations, the time required to run a single model with 3 chains with an adequate number of iterations to ensure convergence is around 2 hours.  While I can live with this for the occasional run, it will be a problem when I need to run several dozen different models. 
> Perhaps some of you have relevant experience and can advise if this run time could be significantly reduced using, for example, one of the parallel computing packages?  And if so, which one?  I should add that I'm not clear if jags can directly avail of multicore processing even if available - it might be necessary to program a Gibbs or Metropolis sampler directly in R.....
> Any thoughts/suggestions?
> Best wishes,
> Alan Kelly



Reply by Ken
__________________________

It would be easier to run multiple copies of R.

Ken
__________________________

Reply by Prof. Ripley
__________________________
This is an example of 'embarrassingly parallel' computation.  Simply 
run each chain in a separate process in parallel.  Packages such as 
snow or multicore can organize that for you.

However, if you mean logistic regression (there are other binomial 
regressions such as probit), first check how you are doing this in 
JAGS.  Using 'module glm' often makes a large difference in speed, and 
my recollection is that this is still not particularly fast compared 
to, say, MCMCpack. And in any case the recommended way to run JAGS 
with R is rjags (recommended by the author of JAGS, amonst others).


Follow-up query by Prof Ripley
__________________________

> It would be easier to run multiple copies of R.

What do you think the various 'parallel computing packages' actually 
do?


Comment by Ken
__________________________
They run multiple copies of R, but for a one off job it seems a lot easier just to open several terminal windows.

Ken

My reply
__________________________
Brian - many thanks for this.  Some of the models are indeed logistic regression, but many are binomial. 
I did discover the enormous advantage of loading module "glm" after the original run took some 24 hours for a logistic model!
MCMClogit can deliver the answer in around 2-3 minutes.  Clearly a nice solution in many circumstances. However, MCMClogit does not facilitate some within-model programming to test various parameters, quality of fit, etc., (as in Chpt. 24 Gelman and Hill) although some of these issues can certainly be tackled with the posterior distribution for the betas. I'm considering my options at this stage before attempting the full range of analyses required.

In response to your follow-on question about what parallel packages actually do - well I have no direct experience of this in R (although I have used parallel Mathematica across server linked servers previously) - but my supposition is that I can gain some advantage in time if one of the parallel computing packages can handle the multiple chains and from your previous reply it clearly can.
Many thanks for this,
Alan


From bpbond at gmail.com  Tue Mar  8 11:45:14 2011
From: bpbond at gmail.com (Ben Bond-Lamberty)
Date: Tue, 8 Mar 2011 05:45:14 -0500
Subject: [R-SIG-Mac] would parallel computing help?
In-Reply-To: <9E385737-F605-49E2-A80A-32D0900F902C@tcd.ie>
References: <mailman.1014.1299465978.31171.r-sig-mac@r-project.org>
	<9E385737-F605-49E2-A80A-32D0900F902C@tcd.ie>
Message-ID: <AANLkTi=nUZj8uzrWfQFOz7_-r8-weckn8WsbmD+v-rvX@mail.gmail.com>

Alan,
The multicore package is easy to use and, if you problem is indeed
embarrassingly parallel (there's no communication between different
models? how about between chains?) should be straightforward to add.
Note that you'll need to run any multicore-using script from the
Terminal command line, and not from the Mac GUI, though.
Ben

On Tue, Mar 8, 2011 at 3:14 AM, Alan Kelly <AKELLY at tcd.ie> wrote:
> Dear all, I'm running a number of Bayesian binomial regression models using jags (interfacing with R via R2jags) on a Mac server with quad core processor running at 2.66 Ghz with 6 GB memory under Snow Leopard (session info below). ?As the models contain around 30 predictors and between 5 to 15 thousand observations, the time required to run a single model with 3 chains with an adequate number of iterations to ensure convergence is around 2 hours. ?While I can live with this for the occasional run, it will be a problem when I need to run several dozen different models.
> Perhaps some of you have relevant experience and can advise if this run time could be significantly reduced using, for example, one of the parallel computing packages? ?And if so, which one? ?I should add that I'm not clear if jags can directly avail of multicore processing even if available - it might be necessary to program a Gibbs or Metropolis sampler directly in R.....
> Any thoughts/suggestions?
> Best wishes,
> Alan Kelly
>
> sessionInfo()
> R version 2.12.1 (2010-12-16)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] en_IE.UTF-8/en_IE.UTF-8/C/C/en_IE.UTF-8/en_IE.UTF-8
>
> attached base packages:
> [1] splines ? stats ? ? graphics ?grDevices utils ? ? datasets ?methods ? base
>
> other attached packages:
> [1] car_2.0-9 ? ? ? survival_2.36-2 nnet_7.3-1 ? ? ?MASS_7.3-9 ? ? ?foreign_0.8-41
>
> loaded via a namespace (and not attached):
> [1] tools_2.12.1
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Tue Mar  8 15:15:59 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 8 Mar 2011 09:15:59 -0500
Subject: [R-SIG-Mac] would parallel computing help?
In-Reply-To: <AANLkTi=nUZj8uzrWfQFOz7_-r8-weckn8WsbmD+v-rvX@mail.gmail.com>
References: <mailman.1014.1299465978.31171.r-sig-mac@r-project.org>
	<9E385737-F605-49E2-A80A-32D0900F902C@tcd.ie>
	<AANLkTi=nUZj8uzrWfQFOz7_-r8-weckn8WsbmD+v-rvX@mail.gmail.com>
Message-ID: <85D8200E-E0C3-433B-A8F2-20BE92A83ACA@r-project.org>


On Mar 8, 2011, at 5:45 AM, Ben Bond-Lamberty wrote:

> Alan,
> The multicore package is easy to use and, if you problem is indeed
> embarrassingly parallel (there's no communication between different
> models? how about between chains?) should be straightforward to add.
> Note that you'll need to run any multicore-using script from the
> Terminal command line, and not from the Mac GUI, though.

FWIW since multicore 0.1-4 and R 2.12.2 it should be possible to run multicore in the Mac GUI (as long as you don't explicitly call GUI or graphics code in the parallel parts).

Cheers,
Simon



> Ben
> 
> On Tue, Mar 8, 2011 at 3:14 AM, Alan Kelly <AKELLY at tcd.ie> wrote:
>> Dear all, I'm running a number of Bayesian binomial regression models using jags (interfacing with R via R2jags) on a Mac server with quad core processor running at 2.66 Ghz with 6 GB memory under Snow Leopard (session info below).  As the models contain around 30 predictors and between 5 to 15 thousand observations, the time required to run a single model with 3 chains with an adequate number of iterations to ensure convergence is around 2 hours.  While I can live with this for the occasional run, it will be a problem when I need to run several dozen different models.
>> Perhaps some of you have relevant experience and can advise if this run time could be significantly reduced using, for example, one of the parallel computing packages?  And if so, which one?  I should add that I'm not clear if jags can directly avail of multicore processing even if available - it might be necessary to program a Gibbs or Metropolis sampler directly in R.....
>> Any thoughts/suggestions?
>> Best wishes,
>> Alan Kelly
>> 
>> sessionInfo()
>> R version 2.12.1 (2010-12-16)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> 
>> locale:
>> [1] en_IE.UTF-8/en_IE.UTF-8/C/C/en_IE.UTF-8/en_IE.UTF-8
>> 
>> attached base packages:
>> [1] splines   stats     graphics  grDevices utils     datasets  methods   base
>> 
>> other attached packages:
>> [1] car_2.0-9       survival_2.36-2 nnet_7.3-1      MASS_7.3-9      foreign_0.8-41
>> 
>> loaded via a namespace (and not attached):
>> [1] tools_2.12.1
>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From dwinsemius at comcast.net  Tue Mar  8 16:22:03 2011
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 8 Mar 2011 10:22:03 -0500
Subject: [R-SIG-Mac] Solved via deleting .RData & .Rhistory problem loading
	ggplot2 package
References: <AANLkTikv-98snTJF1K0NA843+0fckYNkC4rZ32Q3G-tZ@mail.gmail.com>
Message-ID: <6146E68C-9AA1-497D-8B6C-1BDF5D90B7E0@comcast.net>

Posting this as a SOLVED message and perhaps a clue to the next  
sufferer. (I had sent a private shot in the dark solution that turned  
out to work.)

-- 
david.

Begin forwarded message:

> From: linsleys <linsleys at comcast.net>
> Date: March 8, 2011 10:02:10 AM EST
> To: David Winsemius <dwinsemius at comcast.net>
> Subject: Re: [R-SIG-Mac] problem loading ggplot2 package
>
> David-
> Thanks for your help.  I deleted the .Rdata files and the .Rhistory
> files, un- and re-installed R and ggplot now works.  I'm happy!
>
> p
>
> On Sun, Mar 6, 2011 at 10:57 AM, David Winsemius <dwinsemius at comcast.net 
> > wrote:
>>
>> On Mar 6, 2011, at 12:47 PM, linsleys wrote:
>>
>>> Ben-
>>> Thanks for the useful ideas.  I've spent some time with them and  
>>> they
>>> yielded a clue: ggplot2 lods correctly when I login as another user.
>>> Any further suggestions?
>>>
>>> p
>>>
>>> My answers to your specific questions are below:
>>>
>>> -I don't know how to examine .Rprofile
>>
>> If you did not make one, then it does not exist.
>>
>> (By default dot files, of which .Rprofile is but one instance, are  
>> not
>> displayed by Finder.app.)
>>
>> You can change the default behavior of Finder.app. You can also  
>> delete the
>> hidden .RData file that gets loaded on startup, although I don't  
>> have any
>> idea whether that will help.)
>>
>> http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#R_002eapp-GUI-crashes-on-startup_0021
>>
>> (Which I understand may not apply but does describe trouble- 
>> shooting methods
>> for dot files.)
>>
>> --
>> David
>>
>>> -I have the same problem whether I use the GUI ot command line to  
>>> load
>>> ggplot2
>>> -proto loads fine
>>> -ggplot2 lods correctly when I login as another user
>>> - I repaired permissions, but it didn't help
>>>
>>> On Sat, Mar 5, 2011 at 7:12 PM, Ben Bond-Lamberty <bpbond at gmail.com>
>>> wrote:
>>>>
>>>> I have no special knowledge, but a few questions to try to narrow  
>>>> things
>>>> down:
>>>>
>>>> - Is there anything unusual in your .Rprofile?
>>>> - Did you try installing ggplot using the "Package Installer" menu
>>>> item in the GUI?
>>>> - Is it ggplot, or actually the load of 'proto' that's failing?  
>>>> (Can
>>>> you "library(proto)" OK?)
>>>> - Try creating a new user on your Mac, logging in, installing R and
>>>> then ggplot2.
>>>>
>>>> Re permissions, seems unlikely, but running the voodoo "Repair
>>>> Permissions" in Disk Utility won't hurt...
>>>>
>>>> Ben
>>>>
>>>>
>>>> On Sat, Mar 5, 2011 at 2:50 PM, linsleys <linsleys at comcast.net>  
>>>> wrote:
>>>>>
>>>>> None of these suggestions fixed my problem.  Uninstalled R,
>>>>> re-installed the latest version and re-loaded ggplot2.  Still  
>>>>> get the
>>>>> same error message.  I'm wondering about the env = envir part of  
>>>>> the
>>>>> error message- could it be a permissions problem?
>>>>>
>>>>> p
>>>>>
>>>>>
>>>>>>  library(ggplot2)
>>>>>
>>>>> Loading required package: reshape
>>>>> Loading required package: plyr
>>>>>
>>>>> Attaching package: 'reshape'
>>>>>
>>>>> The following object(s) are masked from 'package:plyr':
>>>>>
>>>>>   round_any
>>>>>
>>>>> Loading required package: grid
>>>>> Loading required package: proto
>>>>> Error in assign(names[i], dots[[i]], env = envir) :
>>>>>  invalid first argument
>>>>> Error : unable to load R code in package 'ggplot2'
>>>>> Error: package/namespace load failed for 'ggplot2'
>>>>>
>>>>>
>>>>>
>>>>> $version.string
>>>>> [1] "R version 2.12.2 (2011-02-25)"
>>>>>
>>>>>> SystemInfo()
>>>>>
>>>>> Error: could not find function "SystemInfo"
>>>>>>
>>>>>> Sys.info()
>>>>>
>>>>>                sysname
>>>>>
>>>>>               "Darwin"
>>>>>
>>>>>                release
>>>>>
>>>>>               "10.6.0"
>>>>>
>>>>>                version
>>>>> "Darwin Kernel Version 10.6.0: Wed Nov 10 18:13:17 PST 2010;
>>>>> root:xnu-1504.9.26~3/RELEASE_I386"
>>>>>
>>>>>               nodename
>>>>>
>>>>>   "MacBook-Chef.local"
>>>>>
>>>>>                machine
>>>>>
>>>>>                 "i386"
>>>>>
>>>>>                  login
>>>>>
>>>>>             "linsleys"
>>>>>
>>>>>                   user
>>>>>
>>>>>             "linsleys"
>>>>>>
>>>>>
>>>>> On Fri, Mar 4, 2011 at 6:13 PM, Anirban Mukherjee <anirbanm at smu.edu.sg 
>>>>> >
>>>>> wrote:
>>>>>>
>>>>>> I would suggest updating R to 2.12.2. That should be fairly
>>>>>> seamless/painless.
>>>>>>
>>>>>> A
>>>>>>
>>>>>> --
>>>>>> Anirban Mukherjee | Assistant Professor, Marketing
>>>>>> LKCSB, Singapore Management University
>>>>>> 5056 School of Business, 50 Stamford Road
>>>>>> Singapore 178899 | +65-6828-1932
>>>>>>
>>>>>>
>>>>>> On Mar 5, 2011, at 12:14 AM, MacQueen, Don wrote:
>>>>>>
>>>>>>> Peter,
>>>>>>>
>>>>>>> There should not be a problem with ggplot2 on a Mac; I was  
>>>>>>> able to
>>>>>>> install
>>>>>>> and load it without difficulty just now (see below).  (though
>>>>>>> apparently
>>>>>>> some dependencies are not available, so perhaps some ggplot2  
>>>>>>> functions
>>>>>>> won't work properly; I don't know)
>>>>>>>
>>>>>>> This does tend to suggest something is awry with your R  
>>>>>>> installation,
>>>>>>> as
>>>>>>> Bob Bond-Lamberty suggested in his response. Note that I have  
>>>>>>> 32 bit R
>>>>>>> 2.12.2 whereas you have 64 bit 2.12.1. I don't think the 32 vs  
>>>>>>> 64 bit
>>>>>>> is
>>>>>>> the problem, since I can run R64 and load ggplot2.
>>>>>>>
>>>>>>> Does
>>>>>>>  traceback()
>>>>>>> used immediately after the error, give any useful information?
>>>>>>>
>>>>>>> Not much help, I know...
>>>>>>>
>>>>>>> -Don
>>>>>>>
>>>>>>>> install.packages('ggplot2',dep=TRUE)
>>>>>>>
>>>>>>> --- Please select a CRAN mirror for use in this session ---
>>>>>>> Loading Tcl/Tk interface ... done
>>>>>>> Warning: dependencies 'marray', 'affy', 'Biobase' are not  
>>>>>>> available
>>>>>>> also installing the dependencies 'logspline', 'digest',  
>>>>>>> 'quantreg',
>>>>>>> 'hexbin'
>>>>>>>
>>>>>>> trying URL
>>>>>>>
>>>>>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/logspline_2.1
>>>>>>> .3.tgz'
>>>>>>> Content type 'application/x-gzip' length 409453 bytes (399 Kb)
>>>>>>> opened URL
>>>>>>> ==================================================
>>>>>>> downloaded 399 Kb
>>>>>>>
>>>>>>> trying URL
>>>>>>>
>>>>>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/digest_0.4.2 
>>>>>>> .
>>>>>>> tgz'
>>>>>>> Content type 'application/x-gzip' length 120633 bytes (117 Kb)
>>>>>>> opened URL
>>>>>>> ==================================================
>>>>>>> downloaded 117 Kb
>>>>>>>
>>>>>>> trying URL
>>>>>>>
>>>>>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/quantreg_4.57
>>>>>>> .tgz'
>>>>>>> Content type 'application/x-gzip' length 2818374 bytes (2.7 Mb)
>>>>>>> opened URL
>>>>>>> ==================================================
>>>>>>> downloaded 2.7 Mb
>>>>>>>
>>>>>>> trying URL
>>>>>>>
>>>>>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/hexbin_1.24.0
>>>>>>> .tgz'
>>>>>>> Content type 'application/x-gzip' length 690100 bytes (673 Kb)
>>>>>>> opened URL
>>>>>>> ==================================================
>>>>>>> downloaded 673 Kb
>>>>>>>
>>>>>>> trying URL
>>>>>>>
>>>>>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/ggplot2_0.8.9
>>>>>>> .tgz'
>>>>>>> Content type 'application/x-gzip' length 2481399 bytes (2.4 Mb)
>>>>>>> opened URL
>>>>>>> ==================================================
>>>>>>> downloaded 2.4 Mb
>>>>>>>
>>>>>>>
>>>>>>> The downloaded packages are in
>>>>>>>
>>>>>>>
>>>>>>> /var/folders/pa/pamYryRNGGKLDVNRYyxBt+++m+c/-Tmp-//RtmplZqsQp/ 
>>>>>>> downloaded_pa
>>>>>>> ckages
>>>>>>>
>>>>>>>> require(ggplot2)
>>>>>>>
>>>>>>> Loading required package: ggplot2
>>>>>>> Loading required package: reshape
>>>>>>> Loading required package: plyr
>>>>>>>
>>>>>>> Attaching package: 'reshape'
>>>>>>>
>>>>>>> The following object(s) are masked from 'package:plyr':
>>>>>>>
>>>>>>>   round_any
>>>>>>>
>>>>>>> Loading required package: grid
>>>>>>> Loading required package: proto
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>> sessionInfo()
>>>>>>>
>>>>>>> R version 2.12.2 (2011-02-25)
>>>>>>> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
>>>>>>>
>>>>>>> locale:
>>>>>>> [1] C
>>>>>>>
>>>>>>> attached base packages:
>>>>>>> [1] grid      stats     graphics  grDevices utils     datasets
>>>>>>>  methods
>>>>>>> [8] base
>>>>>>>
>>>>>>> other attached packages:
>>>>>>> [1] ggplot2_0.8.9 proto_0.3-8   reshape_0.8.4 plyr_1.4
>>>>>>>
>>>>>>> loaded via a namespace (and not attached):
>>>>>>> [1] tcltk_2.12.2 tools_2.12.2
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> --
>>>>>>> Don MacQueen
>>>>>>>
>>>>>>> Lawrence Livermore National Laboratory
>>>>>>> 7000 East Ave., L-627
>>>>>>> Livermore, CA 94550
>>>>>>> 925-423-1062
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> On 3/4/11 7:19 AM, "linsleys" <linsleys at comcast.net> wrote:
>>>>>>>
>>>>>>>> I'm having trouble loading ggplot2 using R version 2.12.1, as  
>>>>>>>> shown
>>>>>>>> below. I can't seem to find a relevant post that fixes my  
>>>>>>>> problem.
>>>>>>>> Any
>>>>>>>> help would be very much appreciated. Thanks,
>>>>>>>>
>>>>>>>> peter l
>>>>>>>>
>>>>>>>>> install.packages('ggplot2', dep = TRUE)
>>>>>>>>
>>>>>>>> trying URL
>>>>>>>>
>>>>>>>> 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/ggplot2_0.8 
>>>>>>>> .
>>>>>>>> 9.tgz'
>>>>>>>> Content type 'application/x-gzip' length 2481399 bytes (2.4 Mb)
>>>>>>>> opened URL
>>>>>>>> =================================================
>>>>>>>> downloaded 2.4 Mb
>>>>>>>>
>>>>>>>>
>>>>>>>> The downloaded packages are in
>>>>>>>>
>>>>>>>>
>>>>>>>> /var/folders/XF/XF0tU7gdGTeF4Th7KhKYDk+++TI/-Tmp-//RtmpFMnqLB/ 
>>>>>>>> downloaded_p
>>>>>>>> ackages
>>>>>>>>>
>>>>>>>>> library(ggplot2)
>>>>>>>>
>>>>>>>> Error in assign(names[i], dots[[i]], env = envir) :
>>>>>>>> invalid first argument
>>>>>>>> Error : unable to load R code in package 'ggplot2'
>>>>>>>> Error: package/namespace load failed for 'ggplot2'
>>>>>>>>
>>>>>>>> sessionInfo() R version 2.12.1 (2010-12-16) Platform:
>>>>>>>> x86_64-apple-darwin9.8.0/x86_64 (64-bit) locale: [1]
>>>>>>>> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8 attached  
>>>>>>>> base
>>>>>>>> packages: [1] grid stats graphics grDevices utils datasets  
>>>>>>>> methods
>>>>>>>> [8]
>>>>>>>> base other attached packages: [1] proto_0.3-8 reshape_0.8.4  
>>>>>>>> plyr_1.4
>>>>>>>> loaded via a namespace (and not attached): [1] tcltk_2.12.2
>>>>>>>> tools_2.12.2
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>> Peter and Leslie Linsley
>>>>>>>> 2528 11th Ave W
>>>>>>>> Seattle, WA 98119
>>>>>>>> linsleys at comcast.net
>>>>>>>> 206.818.3206  P-cell
>>>>>>>> 206-818-3167  L-cell
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> R-SIG-Mac mailing list
>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Peter and Leslie Linsley
>>>>> 2528 11th Ave W
>>>>> Seattle, WA 98119
>>>>> linsleys at comcast.net
>>>>> 206.818.3206  P-cell
>>>>> 206-818-3167  L-cell
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>>
>>>
>>> --
>>> Peter and Leslie Linsley
>>> 2528 11th Ave W
>>> Seattle, WA 98119
>>> linsleys at comcast.net
>>> 206.818.3206  P-cell
>>> 206-818-3167  L-cell
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> David Winsemius, MD
>> Heritage Laboratories
>> West Hartford, CT
>>
>>
>
>
>
> -- 
> Peter and Leslie Linsley
> 2528 11th Ave W
> Seattle, WA 98119
> linsleys at comcast.net
> 206.818.3206  P-cell
> 206-818-3167  L-cell

David Winsemius, MD
West Hartford, CT


From unger at helmholtz-muenchen.de  Thu Mar 10 07:39:26 2011
From: unger at helmholtz-muenchen.de (Unger, Kristian, Dr.)
Date: Thu, 10 Mar 2011 07:39:26 +0100
Subject: [R-SIG-Mac] R console Mac
In-Reply-To: <C99D5198.3D32%unger@helmholtz-muenchen.de>
Message-ID: <C99E309D.3D5C%unger@helmholtz-muenchen.de>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20110310/3b20e612/attachment.pl>

From bhive01 at gmail.com  Thu Mar 10 09:11:31 2011
From: bhive01 at gmail.com (Brandon Hurr)
Date: Thu, 10 Mar 2011 08:11:31 +0000
Subject: [R-SIG-Mac] R console Mac
In-Reply-To: <C99E309D.3D5C%unger@helmholtz-muenchen.de>
References: <C99D5198.3D32%unger@helmholtz-muenchen.de>
	<C99E309D.3D5C%unger@helmholtz-muenchen.de>
Message-ID: <AANLkTi=jg8JRjZKfi8priP31etyjLzvh+jPgb2Pb+epB@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20110310/3dd65c4b/attachment.pl>

From ripley at stats.ox.ac.uk  Thu Mar 10 09:18:50 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 10 Mar 2011 08:18:50 +0000 (GMT)
Subject: [R-SIG-Mac] R console Mac
In-Reply-To: <AANLkTi=jg8JRjZKfi8priP31etyjLzvh+jPgb2Pb+epB@mail.gmail.com>
References: <C99D5198.3D32%unger@helmholtz-muenchen.de>
	<C99E309D.3D5C%unger@helmholtz-muenchen.de>
	<AANLkTi=jg8JRjZKfi8priP31etyjLzvh+jPgb2Pb+epB@mail.gmail.com>
Message-ID: <alpine.LFD.2.02.1103100815500.17605@gannet.stats.ox.ac.uk>

On Thu, 10 Mar 2011, Brandon Hurr wrote:

> Kristian,
>
> Not sure if it can be done in R gui, but I've been using Rstudio lately and
> it seems to have this feature.  I've only used it for about a week though so
> I'm not sure if it's really a good IDE yet or not.
>
> http://www.rstudio.org/

Credit where credit is due: the 'feature' is the work of Deepayan 
Sarkar and implemented in base R.  It is up to individual IDEs whether 
they hook up to it.

>
> Brandon
>
> On Thu, Mar 10, 2011 at 06:39, Unger, Kristian, Dr. <
> unger at helmholtz-muenchen.de> wrote:
>
>> Hi there,
>>
>> I recently switched to Mac and I wonder if there is any way to get the R
>> console to autocomplete names of list objects or slots of objects. The
>> command line version allows to type e.g. list$ and two times the tab
>> button and then comes up with the names of the list objects. Same for slots
>> of e.g. Eset objects
>> like eset. Unfortunately this does not work in the Mac R console.
>>
>> Is there a key combination or shortcut that I am missing?
>>
>> Best wishes
>>
>> Kristian Unger
>>
>>
>>
>> ________________________________
>> Helmholtz Zentrum M?nchen
>> Deutsches Forschungszentrum f?r Gesundheit und Umwelt (GmbH)
>> Ingolst?dter Landstr. 1
>> 85764 Neuherberg
>> www.helmholtz-muenchen.de
>> Aufsichtsratsvorsitzende: MinDir?in B?rbel Brumme-Bothe
>> Gesch?ftsf?hrer: Prof. Dr. G?nther Wess und Dr. Nikolaus Blum
>> Registergericht: Amtsgericht M?nchen HRB 6466
>> USt-IdNr: DE 129521671
>>
>>        [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From AKELLY at tcd.ie  Thu Mar 10 11:50:34 2011
From: AKELLY at tcd.ie (Alan Kelly)
Date: Thu, 10 Mar 2011 10:50:34 +0000
Subject: [R-SIG-Mac] parallel processing with jags through R? - summary
	replies
Message-ID: <73BB12A5-50D2-4358-8E03-3B32238546C7@tcd.ie>

Dear list, I received several replies to the above query from the r-sig-mac list (and these have been cc-ed to the list already) and subsequently several very specific replies from the BUGS list (details at http://www.mrc-bsu.cam.ac.uk/bugs/overview/list.shtml). As I've also received several requests to post information to this list, a few relevant extracts appear below my sig.

Following Bill Northcott's advice I've installed an optimised version of jags for 64 bit R on Mac (source mentioned below) and tried it out.  Very initial runs with subsets of my data suggest a time saving of between 10%-15%.  
I've also had a chance to try several examples of Peter Solymos' dclone package using the jags.parfit() function and these work perfectly.
Next steps: use the optimised jags from Bill Northcott in conjunction with Josh Nowak's suggestion re. snow and Simon Urbanek's re. multicore.  I also have the possibility of using runjags with Mac's xgrid cluster controller thanks to Guillaume Chapron.

My appreciation to all those who replied and I hope the ideas mentioned below are of use to other members of the list.
Alan Kelly
Trinity College Dublin

Extracts of some replies:

News of an optimised version of jags for 64 bit R on Mac OS 10.6  from Bill Northcott 
Are you using the optimised version which I built for 64 bit on 10.6.  It is much faster than the other package.
You could probably get even more speed if you build it yourself and use CPU flags for your computer.

(I've found this version at http://sourceforge.net/projects/mcmc-jags/files/JAGS/2.x/Mac%20OS%20X/)

+++++++++++++++++++++++++++++++++

from Elizabeth Tighe
There was a discussion on this issue a bit back on the jags forum:
http://sourceforge.net/projects/mcmc-jags/forums/forum/610037/topic/3887787
I've been using a routine (on linux ubuntu) that Mike Rutter shared 
using rmpi and rsprng to send jags call to multiple chains.
+++++++++++++++++++++++++++++++++

Some useful code using snow and R2WinBUGS package from Josh Nowak
I use the snow package with R2WinBUGS regularly.  I know you are using jags, but the code is basically the same.  There is no problem calling packages or your own functions using snowfall, they just have to be loaded on each processor, for example:
##########
require(snowfall)
sfInit(parallel = T, cpus = 4)
sfLibrary(R2WinBUGS)        #  Loading a library/package on all processors
sfSource("D:/code/model.run.r")  #  Loading a personal function on all processors, this contains my data generation, model and model call
#The last step is to call the function in some sort of loop, I tend to use the sfLapply function like so...
x <- sfLapply(1:4, function(i){
                   xx <- model.run( site = i )
    })
 sfStop()
##########

Now x is a list containing all of my results that were computed on four processors.  
+++++++++++++++++++++++++++++++++


Peter Solymos is the author of the R package dclone and he recommended:
Check out the jags.parfit() function in the dclone package, it runs parallel MCMC chains with the snow package. I will upload a bugfix release to CRAN soon, so if in any case you want to use parallel RNG
setup, you should get developmental version from http://dcr.r-forge.r-project.org . JAGS model inicialization is not affected by this issue, it can be important if you are using and RNG function for initial values, etc. Any feedback is welcome.
+++++++++++++++++++++++++++++++++

And Adam Wilson also pointed me at dclone:
I think this will be useful: http://rgm2.lab.nig.ac.jp/RGM2/func.php?rd_id=dclone:jags.parfit
+++++++++++++++++++++++++++++++++

And Guillaume Chapron replied on the possibilities of using the R package runjags with the Mac's xgrid cluster controller:

Perhaps try this

http://cran.r-project.org/web/packages/runjags/

If you do not have a server, set up xgrid on your Mac as both a controller and an agent so that you have a cluster with one machine, and then all the cores will be used.
+++++++++++++++++++++++++++++++++


From dtenenba at fhcrc.org  Thu Mar 10 22:50:28 2011
From: dtenenba at fhcrc.org (Dan Tenenbaum)
Date: Thu, 10 Mar 2011 13:50:28 -0800
Subject: [R-SIG-Mac] R editor for Mac
In-Reply-To: <25568_1296311491_4D4424C3_25568_184812_1_AANLkTikHPVvEPjeSiqhNsGASgT-oVWixP3kStOdTjN-o@mail.gmail.com>
References: <AANLkTinw+i92e1sHtDCdem-J64eDLsE85Q8q1t6t1Ex8@mail.gmail.com>
	<4D441077.2080400@aon.at>
	<AANLkTik3aQJqxrStMtVnNL3eQAZ0aU12EnG9wMpmmOzU@mail.gmail.com>
	<706A2B61-FE72-41EA-95DB-3000586AC28B@me.com>
	<25568_1296311491_4D4424C3_25568_184812_1_AANLkTikHPVvEPjeSiqhNsGASgT-oVWixP3kStOdTjN-o@mail.gmail.com>
Message-ID: <AANLkTin9iPRB05gH=-5JbQt9oVbmnSEvuD3nk=uU_Frm@mail.gmail.com>

Since someone recently mentioned RStudio to me, I thought I would
reactivate this thread in order to mention it:

http://www.rstudio.org/

Seems pretty cool if you want the full IDE experience.

Dan


On Sat, Jan 29, 2011 at 6:31 AM, Gang Chen <gangchen at mail.nih.gov> wrote:
> Good to know that. Thanks a lot, Yan Zhou!
>
> Gang
>
> On Sat, Jan 29, 2011 at 9:13 AM, Yan Zhou <zhouyan at me.com> wrote:
>
>> Holding the option key while selecting text, you can select the columns.
>> This is built into the Mac OS X and available in many Mac "native" text
>> editor like textmate, textwrangler, bbedit, etc, even the system's TextEdit
>> can do that.
>>
>> Meanwhile Vim can do column selection with the blockwise-visual (CTRL-V is
>> the default shortcuts). I don't use Emacs but heard it can do it, too. So
>> select, copy paste and replace columns is nothing special at all.
>>
>>
>> On Jan 29, 2011, at 2:04 PM, Gang Chen wrote:
>>
>> > I use nedit on daily basis because I usually run R on the Mac terminal or
>> > X11, not in the R GUI window. One feature I like nedit most is that I can
>> > select, copy, paste, and replace columns. Anybody know whether such a
>> > feature is available in other editors such as TextWrangler?
>> >
>> > Thanks a lot for sharing the syntax highlighting file, Christian! I'll
>> try
>> > it out soon. Do you know if there is any way to execute a highlighted
>> > portion of the R code in nedit?
>> >
>> > Cheers,
>> > Gang
>> >
>> > On Sat, Jan 29, 2011 at 8:04 AM, cstrato <cstrato at aon.at> wrote:
>> >
>> >> Dear All,
>> >>
>> >> Although this question was asked and answered many times, one editor was
>> >> never mentioned:
>> >>
>> >> As a long-time Mac user I prefer "nedit" for the following reasons:
>> >>
>> >> - it was developed by people who wanted to have a Mac-like editor on
>> Linux
>> >>
>> >> - it is almost as powerful as emacs but much easier to use and much
>> faster
>> >>
>> >> - it has built-in syntax highlighting for many languages
>> >>
>> >> - it has also syntax highlighting for R, simply install "R-5.3.pats"
>> >> (which I attach)
>> >>
>> >> - it is incredible fast, e.g.:
>> >>
>> >> ?-- it can open text files of sizes larger than 500 MB in few seconds
>> >> ? ? (e.g. the Affymetrix annotation file
>> >> HuEx-1_0-st-v2.na31.hg19.probeset.csv)
>> >>
>> >> ?-- searching such large files is also incredible fast
>> >>
>> >> ?-- it opens a C++ source code with 10,000 lines immediately (in
>> >> contrast to emacs)
>> >>
>> >> For these reasons I use nedit daily since more than 10 years on both
>> >> Linux and Mac.
>> >>
>> >> Best regards
>> >> Christian
>> >> _._._._._._._._._._._._._._._._._._
>> >> C.h.r.i.s.t.i.a.n ? S.t.r.a.t.o.w.a
>> >> V.i.e.n.n.a ? ? ? ? ? A.u.s.t.r.i.a
>> >> e.m.a.i.l: ? ? ? ?cstrato at aon.at
>> >> _._._._._._._._._._._._._._._._._._
>> >>
>> >>
>> >
>> > ? ? ? [[alternative HTML version deleted]]
>> >
>> > _______________________________________________
>> > R-SIG-Mac mailing list
>> > R-SIG-Mac at r-project.org
>> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> ? ? ? ?[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Thu Mar 10 23:09:25 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 10 Mar 2011 17:09:25 -0500
Subject: [R-SIG-Mac] R editor for Mac
In-Reply-To: <AANLkTin9iPRB05gH=-5JbQt9oVbmnSEvuD3nk=uU_Frm@mail.gmail.com>
References: <AANLkTinw+i92e1sHtDCdem-J64eDLsE85Q8q1t6t1Ex8@mail.gmail.com>
	<4D441077.2080400@aon.at>
	<AANLkTik3aQJqxrStMtVnNL3eQAZ0aU12EnG9wMpmmOzU@mail.gmail.com>
	<706A2B61-FE72-41EA-95DB-3000586AC28B@me.com>
	<25568_1296311491_4D4424C3_25568_184812_1_AANLkTikHPVvEPjeSiqhNsGASgT-oVWixP3kStOdTjN-o@mail.gmail.com>
	<AANLkTin9iPRB05gH=-5JbQt9oVbmnSEvuD3nk=uU_Frm@mail.gmail.com>
Message-ID: <06EDE785-CFC8-4594-9EBB-633FDF4E5053@r-project.org>


On Mar 10, 2011, at 4:50 PM, Dan Tenenbaum wrote:

> Since someone recently mentioned RStudio to me, I thought I would
> reactivate this thread in order to mention it:
> 
> http://www.rstudio.org/
> 
> Seems pretty cool if you want the full IDE experience.
> 

Just a tiny, technical side-comment:  it uses a separate process for R which has serious technical implications (you can't use any GUIs, external UI libraries, or even native devices like Quartz for example - it leads to crashes). We have tried that long time ago with the first Cocoa GUI but quickly abandoned that path. It works well for sandboxed environment (e.g. as a server) but not for a local GUI. That said, it is a very impressive attempt to learn from the rich history of all the R GUIs created so far.

Back to the original thread, though, thanks to Hans-Joerg Bibiko who did a great job there will be a big overhaul of the R Mac GUI for R 2.13.0 with a new editor.

Cheers,
Simon



> 
> 
> On Sat, Jan 29, 2011 at 6:31 AM, Gang Chen <gangchen at mail.nih.gov> wrote:
>> Good to know that. Thanks a lot, Yan Zhou!
>> 
>> Gang
>> 
>> On Sat, Jan 29, 2011 at 9:13 AM, Yan Zhou <zhouyan at me.com> wrote:
>> 
>>> Holding the option key while selecting text, you can select the columns.
>>> This is built into the Mac OS X and available in many Mac "native" text
>>> editor like textmate, textwrangler, bbedit, etc, even the system's TextEdit
>>> can do that.
>>> 
>>> Meanwhile Vim can do column selection with the blockwise-visual (CTRL-V is
>>> the default shortcuts). I don't use Emacs but heard it can do it, too. So
>>> select, copy paste and replace columns is nothing special at all.
>>> 
>>> 
>>> On Jan 29, 2011, at 2:04 PM, Gang Chen wrote:
>>> 
>>>> I use nedit on daily basis because I usually run R on the Mac terminal or
>>>> X11, not in the R GUI window. One feature I like nedit most is that I can
>>>> select, copy, paste, and replace columns. Anybody know whether such a
>>>> feature is available in other editors such as TextWrangler?
>>>> 
>>>> Thanks a lot for sharing the syntax highlighting file, Christian! I'll
>>> try
>>>> it out soon. Do you know if there is any way to execute a highlighted
>>>> portion of the R code in nedit?
>>>> 
>>>> Cheers,
>>>> Gang
>>>> 
>>>> On Sat, Jan 29, 2011 at 8:04 AM, cstrato <cstrato at aon.at> wrote:
>>>> 
>>>>> Dear All,
>>>>> 
>>>>> Although this question was asked and answered many times, one editor was
>>>>> never mentioned:
>>>>> 
>>>>> As a long-time Mac user I prefer "nedit" for the following reasons:
>>>>> 
>>>>> - it was developed by people who wanted to have a Mac-like editor on
>>> Linux
>>>>> 
>>>>> - it is almost as powerful as emacs but much easier to use and much
>>> faster
>>>>> 
>>>>> - it has built-in syntax highlighting for many languages
>>>>> 
>>>>> - it has also syntax highlighting for R, simply install "R-5.3.pats"
>>>>> (which I attach)
>>>>> 
>>>>> - it is incredible fast, e.g.:
>>>>> 
>>>>>  -- it can open text files of sizes larger than 500 MB in few seconds
>>>>>     (e.g. the Affymetrix annotation file
>>>>> HuEx-1_0-st-v2.na31.hg19.probeset.csv)
>>>>> 
>>>>>  -- searching such large files is also incredible fast
>>>>> 
>>>>>  -- it opens a C++ source code with 10,000 lines immediately (in
>>>>> contrast to emacs)
>>>>> 
>>>>> For these reasons I use nedit daily since more than 10 years on both
>>>>> Linux and Mac.
>>>>> 
>>>>> Best regards
>>>>> Christian
>>>>> _._._._._._._._._._._._._._._._._._
>>>>> C.h.r.i.s.t.i.a.n   S.t.r.a.t.o.w.a
>>>>> V.i.e.n.n.a           A.u.s.t.r.i.a
>>>>> e.m.a.i.l:        cstrato at aon.at
>>>>> _._._._._._._._._._._._._._._._._._
>>>>> 
>>>>> 
>>>> 
>>>>       [[alternative HTML version deleted]]
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
>>        [[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From linsleys at gmail.com  Fri Mar  4 17:02:51 2011
From: linsleys at gmail.com (peter linsley)
Date: Fri, 4 Mar 2011 08:02:51 -0800
Subject: [R-SIG-Mac] problem loading ggplot2 package
In-Reply-To: <AANLkTi=nKy2uR+tC_r6Lz+oEmg90yxrmgpnL1fEH5bs3@mail.gmail.com>
References: <AANLkTikuRPcS3MYTVLAM1tFeb5-w=R+ni08t8cfM=fEt@mail.gmail.com>
	<AANLkTi=nKy2uR+tC_r6Lz+oEmg90yxrmgpnL1fEH5bs3@mail.gmail.com>
Message-ID: <-7632445351507174143@unknownmsgid>

Thanks,

p

Sent from my iPhone

On Mar 4, 2011, at 7:29 AM, Ben Bond-Lamberty <bpbond at gmail.com> wrote:

> Hi Peter,
>
> I see you've posted this question in a bunch of other places, with no
> luck? Two suggestions: 1) post this question to the ggplot2 listserv,
> and 2) clean out R and all your installed packages--start fresh, and
> reinstall. Personally I'd skip right to #2, even though it's a bit of
> a pain.
>
> Ben
>
>
> On Fri, Mar 4, 2011 at 10:19 AM, linsleys <linsleys at comcast.net> wrote:
>> I'm having trouble loading ggplot2 using R version 2.12.1, as shown
>> below. I can't seem to find a relevant post that fixes my problem. Any
>> help would be very much appreciated. Thanks,
>>
>> peter l
>>
>>> install.packages('ggplot2', dep = TRUE)
>> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/ggplot2_0.8.9.tgz'
>> Content type 'application/x-gzip' length 2481399 bytes (2.4 Mb)
>> opened URL
>> =================================================
>> downloaded 2.4 Mb
>>
>>
>> The downloaded packages are in
>>    /var/folders/XF/XF0tU7gdGTeF4Th7KhKYDk+++TI/-Tmp-//RtmpFMnqLB/downloaded_packages
>>> library(ggplot2)
>> Error in assign(names[i], dots[[i]], env = envir) :
>>  invalid first argument
>> Error : unable to load R code in package 'ggplot2'
>> Error: package/namespace load failed for 'ggplot2'
>>
>> sessionInfo() R version 2.12.1 (2010-12-16) Platform:
>> x86_64-apple-darwin9.8.0/x86_64 (64-bit) locale: [1]
>> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8 attached base
>> packages: [1] grid stats graphics grDevices utils datasets methods [8]
>> base other attached packages: [1] proto_0.3-8 reshape_0.8.4 plyr_1.4
>> loaded via a namespace (and not attached): [1] tcltk_2.12.2
>> tools_2.12.2
>>
>>
>>
>> --
>> Peter and Leslie Linsley
>> 2528 11th Ave W
>> Seattle, WA 98119
>> linsleys at comcast.net
>> 206.818.3206  P-cell
>> 206-818-3167  L-cell
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From anirban.mukherjee at gmail.com  Thu Mar 10 02:26:36 2011
From: anirban.mukherjee at gmail.com (Anirban Mukherjee)
Date: Thu, 10 Mar 2011 09:26:36 +0800
Subject: [R-SIG-Mac] GCC v. LLVM
Message-ID: <AANLkTikBHTDwd18Q6B0S5PnZxaUmzcoviFxBWX1SJ3xF@mail.gmail.com>

Folks,

I was wondering what the forward plans are for R on Mac vis-a-vis
apple-gcc/Clang. Xcode 4 was just released with LLVM 2.x. From what I
can tell, Apple will in the future only support Clang/LLVM. For now, I
believe they are still including the same gcc as with 3.2. But longer
term, the move seems to be to Clang/LLVM.

http://developer.apple.com/technologies/tools/whats-new.html
http://clang.llvm.org/

Does R build with Clang/LLVM? I know Clang is being developed with a
view to ensure GCC "compatibility".

Best,
Anirban


From eamonnmag at gmail.com  Thu Mar 10 23:01:42 2011
From: eamonnmag at gmail.com (Eamonn Maguire)
Date: Thu, 10 Mar 2011 22:01:42 +0000
Subject: [R-SIG-Mac] R editor for Mac
In-Reply-To: <AANLkTin9iPRB05gH=-5JbQt9oVbmnSEvuD3nk=uU_Frm@mail.gmail.com>
References: <AANLkTinw+i92e1sHtDCdem-J64eDLsE85Q8q1t6t1Ex8@mail.gmail.com>
	<4D441077.2080400@aon.at>
	<AANLkTik3aQJqxrStMtVnNL3eQAZ0aU12EnG9wMpmmOzU@mail.gmail.com>
	<706A2B61-FE72-41EA-95DB-3000586AC28B@me.com>
	<25568_1296311491_4D4424C3_25568_184812_1_AANLkTikHPVvEPjeSiqhNsGASgT-oVWixP3kStOdTjN-o@mail.gmail.com>
	<AANLkTin9iPRB05gH=-5JbQt9oVbmnSEvuD3nk=uU_Frm@mail.gmail.com>
Message-ID: <AANLkTinZn5H=Fi5fCpej1m6FpRXqT0gkp=6PcKrNmU9k@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20110310/062dca62/attachment.pl>

From m_hofert at web.de  Thu Mar 10 23:14:27 2011
From: m_hofert at web.de (Marius Hofert)
Date: Thu, 10 Mar 2011 23:14:27 +0100
Subject: [R-SIG-Mac] R hangs when connected via VPN [incl. minimal example]
Message-ID: <DECF52A3-2DC8-4B2D-AF3B-9AE8F403B380@web.de>

Dear expeRts,

I'm running R version 2.12.1 (Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit))
on a MacBook Pro under Mac OS X 10.6.6. The following minimal example runs fine
under this setup. However, if I am connected to a server via a VPN client 
[Cisco AnyConnect; same with Apple's internal VPN connection], then the minimal 
example hangs and just does not do anything. The "red button" in the R Console 
is dark red [normal behavior if R is running], so R tries to do something, but 
cannot succeed. CPU goes up to 100%... Same happens if I start the job from the 
command line via R CMD BATCH. What's going on? Is this a known issue? Shall I post this 
on R-SIG-HPC?

Cheers,

Marius

library(doSNOW) 
library(Rmpi) 
library(rlecuyer) 
library(foreach)

cl <- makeCluster(mpi.universe.size(), type ="MPI") 
tmp <- clusterSetupRNG(cl, seed=rep(1,6)) 
registerDoSNOW(cl)

counter <- 0
res <- foreach(k = 1:1000) %do% {
    counter <- counter + 1
}
tmp <- stopCluster(cl)

unlist(res)


From mcq at umich.edu  Thu Mar 10 23:35:23 2011
From: mcq at umich.edu (Mick McQuaid)
Date: Thu, 10 Mar 2011 17:35:23 -0500
Subject: [R-SIG-Mac] problem loading ggplot2 package
In-Reply-To: <-7632445351507174143@unknownmsgid>
References: <AANLkTikuRPcS3MYTVLAM1tFeb5-w=R+ni08t8cfM=fEt@mail.gmail.com>
	<AANLkTi=nKy2uR+tC_r6Lz+oEmg90yxrmgpnL1fEH5bs3@mail.gmail.com>
	<-7632445351507174143@unknownmsgid>
Message-ID: <20110310223523.GC26455@umich.edu>

I concur with the "skip right to #2" having installed
ggplot2 many times on Mac OS X from Tiger to Snow Leopard
and never seen anything remotely like this.

... regarding a message from peter linsley on Mar 04:
> Thanks,
> 
> p
> 
> Sent from my iPhone
> 
> On Mar 4, 2011, at 7:29 AM, Ben Bond-Lamberty <bpbond at gmail.com> wrote:
> 
> > Hi Peter,
> >
> > I see you've posted this question in a bunch of other places, with no
> > luck? Two suggestions: 1) post this question to the ggplot2 listserv,
> > and 2) clean out R and all your installed packages--start fresh, and
> > reinstall. Personally I'd skip right to #2, even though it's a bit of
> > a pain.
> >
> > Ben
> >
> >
> > On Fri, Mar 4, 2011 at 10:19 AM, linsleys <linsleys at comcast.net> wrote:
> >> I'm having trouble loading ggplot2 using R version 2.12.1, as shown
> >> below. I can't seem to find a relevant post that fixes my problem. Any
> >> help would be very much appreciated. Thanks,
> >>
> >> peter l
> >>
> >>> install.packages('ggplot2', dep = TRUE)
> >> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/leopard/contrib/2.12/ggplot2_0.8.9.tgz'
> >> Content type 'application/x-gzip' length 2481399 bytes (2.4 Mb)
> >> opened URL
> >> =================================================
> >> downloaded 2.4 Mb
> >>
> >>
> >> The downloaded packages are in
> >>    /var/folders/XF/XF0tU7gdGTeF4Th7KhKYDk+++TI/-Tmp-//RtmpFMnqLB/downloaded_packages
> >>> library(ggplot2)
> >> Error in assign(names[i], dots[[i]], env = envir) :
> >>  invalid first argument
> >> Error : unable to load R code in package 'ggplot2'
> >> Error: package/namespace load failed for 'ggplot2'
> >>
> >> sessionInfo() R version 2.12.1 (2010-12-16) Platform:
> >> x86_64-apple-darwin9.8.0/x86_64 (64-bit) locale: [1]
> >> en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8 attached base
> >> packages: [1] grid stats graphics grDevices utils datasets methods [8]
> >> base other attached packages: [1] proto_0.3-8 reshape_0.8.4 plyr_1.4
> >> loaded via a namespace (and not attached): [1] tcltk_2.12.2
> >> tools_2.12.2
> >>
> >>
> >>
> >> --
> >> Peter and Leslie Linsley
> >> 2528 11th Ave W
> >> Seattle, WA 98119
> >> linsleys at comcast.net
> >> 206.818.3206  P-cell
> >> 206-818-3167  L-cell
> >>
> >> _______________________________________________
> >> R-SIG-Mac mailing list
> >> R-SIG-Mac at r-project.org
> >> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 

-- 
Michael McQuaid, Assistant Professor
School of Information, School of Art & Design
University of Michigan
4364 North Quad
105 S. State St.
Ann Arbor, MI 48109-2112
734-647-9550 voice  734-647-8045 fax
mcq at umich.edu       http://mickmcquaid.com


From ripley at stats.ox.ac.uk  Fri Mar 11 08:36:04 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 11 Mar 2011 07:36:04 +0000
Subject: [R-SIG-Mac] GCC v. LLVM
In-Reply-To: <AANLkTikBHTDwd18Q6B0S5PnZxaUmzcoviFxBWX1SJ3xF@mail.gmail.com>
References: <AANLkTikBHTDwd18Q6B0S5PnZxaUmzcoviFxBWX1SJ3xF@mail.gmail.com>
Message-ID: <alpine.LFD.2.02.1103110728190.15401@gannet.stats.ox.ac.uk>

On Thu, 10 Mar 2011, Anirban Mukherjee wrote:

> Folks,
>
> I was wondering what the forward plans are for R on Mac vis-a-vis
> apple-gcc/Clang. Xcode 4 was just released with LLVM 2.x. From what I
> can tell, Apple will in the future only support Clang/LLVM. For now, I
> believe they are still including the same gcc as with 3.2. But longer
> term, the move seems to be to Clang/LLVM.
>
> http://developer.apple.com/technologies/tools/whats-new.html
> http://clang.llvm.org/
>
> Does R build with Clang/LLVM? I know Clang is being developed with a
> view to ensure GCC "compatibility".

It did at one point.  However, note that R is not just a C program: it 
has important components in Fortran.

The R project simply does not have the resources to treat Apple 
specially: R is written in strict conformance to language standards to 
maximize portability at minimum cost.  So whataever technology Apple 
(or anyone else) use for their compilers should have no impact 
*provided* they follow standards.

The impact is more likely to come with contributed packages.  Too many 
people write packages as if g++ were a language standard (including 
some much self-promoted authors), and their work is unlikely to work 
anywhere else.

> Best,
> Anirban

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Fri Mar 11 16:01:23 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 11 Mar 2011 10:01:23 -0500
Subject: [R-SIG-Mac] GCC v. LLVM
In-Reply-To: <AANLkTikBHTDwd18Q6B0S5PnZxaUmzcoviFxBWX1SJ3xF@mail.gmail.com>
References: <AANLkTikBHTDwd18Q6B0S5PnZxaUmzcoviFxBWX1SJ3xF@mail.gmail.com>
Message-ID: <9374453A-1C90-48BD-A560-28D531162BE6@r-project.org>

On Mar 9, 2011, at 8:26 PM, Anirban Mukherjee wrote:

> Folks,
> 
> I was wondering what the forward plans are for R on Mac vis-a-vis
> apple-gcc/Clang. Xcode 4 was just released with LLVM 2.x.

For some definition of "released" - it's not really available to OS X users in general. For all practical purposes it's still a beta.


> From what I
> can tell, Apple will in the future only support Clang/LLVM. For now, I
> believe they are still including the same gcc as with 3.2. But longer
> term, the move seems to be to Clang/LLVM.
> 
> http://developer.apple.com/technologies/tools/whats-new.html
> http://clang.llvm.org/
> 
> Does R build with Clang/LLVM? I know Clang is being developed with a
> view to ensure GCC "compatibility".
> 

As Brian pointed out, R doesn't care. The only annoying part for me as a Mac binary maintainer is that it means Apple has abandoned the only branch that supported Fortran back-end, so in the future we will not be able to provide native Fortran for Xcode. This has been known for a while and Apple's stance is that they don't care about Fortran, so in some (but not immediate) future we may be back to the mess of mixing compilers.

Note that LLVM and clang don't really have any real benefits for the R users so far. Tests suggest that they make some parts slower and we could not measure any overall benefit (unlike let's say on arm), so people were not rushing to llvm/clang so far. Apple's move to llvm/clang is really based on a political decision, not a technical one. The only benefit I see so far is what Brian mentioned as well that some people will have to realize that gcc is not the standard and can test on other compilers to find their bugs.

Cheers,
Simon


From dwinsemius at comcast.net  Fri Mar 11 17:25:46 2011
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 11 Mar 2011 11:25:46 -0500
Subject: [R-SIG-Mac] R editor for Mac
In-Reply-To: <06EDE785-CFC8-4594-9EBB-633FDF4E5053@r-project.org>
References: <AANLkTinw+i92e1sHtDCdem-J64eDLsE85Q8q1t6t1Ex8@mail.gmail.com>
	<4D441077.2080400@aon.at>
	<AANLkTik3aQJqxrStMtVnNL3eQAZ0aU12EnG9wMpmmOzU@mail.gmail.com>
	<706A2B61-FE72-41EA-95DB-3000586AC28B@me.com>
	<25568_1296311491_4D4424C3_25568_184812_1_AANLkTikHPVvEPjeSiqhNsGASgT-oVWixP3kStOdTjN-o@mail.gmail.com>
	<AANLkTin9iPRB05gH=-5JbQt9oVbmnSEvuD3nk=uU_Frm@mail.gmail.com>
	<06EDE785-CFC8-4594-9EBB-633FDF4E5053@r-project.org>
Message-ID: <8D258E50-8126-4BD7-8989-014B0228F52E@comcast.net>


On Mar 10, 2011, at 5:09 PM, Simon Urbanek wrote:

>
> On Mar 10, 2011, at 4:50 PM, Dan Tenenbaum wrote:
>
>> Since someone recently mentioned RStudio to me, I thought I would
>> reactivate this thread in order to mention it:
>>
>> http://www.rstudio.org/
>>
>> Seems pretty cool if you want the full IDE experience.
>>
>
> Just a tiny, technical side-comment:  it uses a separate process for  
> R which has serious technical implications (you can't use any GUIs,  
> external UI libraries, or even native devices like Quartz for  
> example - it leads to crashes).

Can you expand on that, Simon? Crashes when using Quartz would seem  
like an immediate deal-breaker for Mac OS X users. Does that mean that  
ordinary plotting calls would cause crashes?

I was assuming that users of RStudio would not be also using other  
GUI's, but I do not know whether I am using "external UI libraries" in  
my typical R activities using rms/Hmisc/survival. Is this in reference  
to packages such as rgl that invoke libraries such as GTK? Are Rattle  
or rggobi precluded as packages?

-- 
David.


> We have tried that long time ago with the first Cocoa GUI but  
> quickly abandoned that path. It works well for sandboxed environment  
> (e.g. as a server) but not for a local GUI. That said, it is a very  
> impressive attempt to learn from the rich history of all the R GUIs  
> created so far.
>
> Back to the original thread, though, thanks to Hans-Joerg Bibiko who  
> did a great job there will be a big overhaul of the R Mac GUI for R  
> 2.13.0 with a new editor.
>
> Cheers,
> Simon
>
>
>
>>
>>
>> On Sat, Jan 29, 2011 at 6:31 AM, Gang Chen <gangchen at mail.nih.gov>  
>> wrote:
>>> Good to know that. Thanks a lot, Yan Zhou!
>>>
>>> Gang
>>>
>>> On Sat, Jan 29, 2011 at 9:13 AM, Yan Zhou <zhouyan at me.com> wrote:
>>>
>>>> Holding the option key while selecting text, you can select the  
>>>> columns.
>>>> This is built into the Mac OS X and available in many Mac  
>>>> "native" text
>>>> editor like textmate, textwrangler, bbedit, etc, even the  
>>>> system's TextEdit
>>>> can do that.
>>>>
>>>> Meanwhile Vim can do column selection with the blockwise-visual  
>>>> (CTRL-V is
>>>> the default shortcuts). I don't use Emacs but heard it can do it,  
>>>> too. So
>>>> select, copy paste and replace columns is nothing special at all.
>>>>
>>>>
>>>> On Jan 29, 2011, at 2:04 PM, Gang Chen wrote:
>>>>
>>>>> I use nedit on daily basis because I usually run R on the Mac  
>>>>> terminal or
>>>>> X11, not in the R GUI window. One feature I like nedit most is  
>>>>> that I can
>>>>> select, copy, paste, and replace columns. Anybody know whether  
>>>>> such a
>>>>> feature is available in other editors such as TextWrangler?
>>>>>
>>>>> Thanks a lot for sharing the syntax highlighting file,  
>>>>> Christian! I'll
>>>> try
>>>>> it out soon. Do you know if there is any way to execute a  
>>>>> highlighted
>>>>> portion of the R code in nedit?
>>>>>
>>>>> Cheers,
>>>>> Gang
>>>>>
>>>>> On Sat, Jan 29, 2011 at 8:04 AM, cstrato <cstrato at aon.at> wrote:
>>>>>
>>>>>> Dear All,
>>>>>>
>>>>>> Although this question was asked and answered many times, one  
>>>>>> editor was
>>>>>> never mentioned:
>>>>>>
>>>>>> As a long-time Mac user I prefer "nedit" for the following  
>>>>>> reasons:
>>>>>>
>>>>>> - it was developed by people who wanted to have a Mac-like  
>>>>>> editor on
>>>> Linux
>>>>>>
>>>>>> - it is almost as powerful as emacs but much easier to use and  
>>>>>> much
>>>> faster
>>>>>>
>>>>>> - it has built-in syntax highlighting for many languages
>>>>>>
>>>>>> - it has also syntax highlighting for R, simply install  
>>>>>> "R-5.3.pats"
>>>>>> (which I attach)
>>>>>>
>>>>>> - it is incredible fast, e.g.:
>>>>>>
>>>>>> -- it can open text files of sizes larger than 500 MB in few  
>>>>>> seconds
>>>>>>    (e.g. the Affymetrix annotation file
>>>>>> HuEx-1_0-st-v2.na31.hg19.probeset.csv)
>>>>>>
>>>>>> -- searching such large files is also incredible fast
>>>>>>
>>>>>> -- it opens a C++ source code with 10,000 lines immediately (in
>>>>>> contrast to emacs)
>>>>>>
>>>>>> For these reasons I use nedit daily since more than 10 years on  
>>>>>> both
>>>>>> Linux and Mac.
>>>>>>
>>>>>> Best regards
>>>>>> Christian
>>>>>> _._._._._._._._._._._._._._._._._._
>>>>>> C.h.r.i.s.t.i.a.n   S.t.r.a.t.o.w.a
>>>>>> V.i.e.n.n.a           A.u.s.t.r.i.a
>>>>>> e.m.a.i.l:        cstrato at aon.at
>>>>>> _._._._._._._._._._._._._._._._._._
>>>>>>
>>>>>>
>>>>>
>>>>>      [[alternative HTML version deleted]]
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>
>>>       [[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
West Hartford, CT


From simon.urbanek at r-project.org  Fri Mar 11 18:44:08 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 11 Mar 2011 12:44:08 -0500
Subject: [R-SIG-Mac] R editor for Mac
In-Reply-To: <8D258E50-8126-4BD7-8989-014B0228F52E@comcast.net>
References: <AANLkTinw+i92e1sHtDCdem-J64eDLsE85Q8q1t6t1Ex8@mail.gmail.com>
	<4D441077.2080400@aon.at>
	<AANLkTik3aQJqxrStMtVnNL3eQAZ0aU12EnG9wMpmmOzU@mail.gmail.com>
	<706A2B61-FE72-41EA-95DB-3000586AC28B@me.com>
	<25568_1296311491_4D4424C3_25568_184812_1_AANLkTikHPVvEPjeSiqhNsGASgT-oVWixP3kStOdTjN-o@mail.gmail.com>
	<AANLkTin9iPRB05gH=-5JbQt9oVbmnSEvuD3nk=uU_Frm@mail.gmail.com>
	<06EDE785-CFC8-4594-9EBB-633FDF4E5053@r-project.org>
	<8D258E50-8126-4BD7-8989-014B0228F52E@comcast.net>
Message-ID: <E2A2B7D4-32FB-4A24-989F-E65B913D4249@r-project.org>


On Mar 11, 2011, at 11:25 AM, David Winsemius wrote:

> 
> On Mar 10, 2011, at 5:09 PM, Simon Urbanek wrote:
> 
>> 
>> On Mar 10, 2011, at 4:50 PM, Dan Tenenbaum wrote:
>> 
>>> Since someone recently mentioned RStudio to me, I thought I would
>>> reactivate this thread in order to mention it:
>>> 
>>> http://www.rstudio.org/
>>> 
>>> Seems pretty cool if you want the full IDE experience.
>>> 
>> 
>> Just a tiny, technical side-comment:  it uses a separate process for R which has serious technical implications (you can't use any GUIs, external UI libraries, or even native devices like Quartz for example - it leads to crashes).
> 
> Can you expand on that, Simon? Crashes when using Quartz would seem like an immediate deal-breaker for Mac OS X users. Does that mean that ordinary plotting calls would cause crashes?
> 

They don't use Quartz - they have their own re-implementation of Cairo which creates files which is what gets displayed in the GUI - the GUI doesn't actually use the R device directly. It's entirely different from what you get in regular R. Unfortunately it means you can't use Quartz which is already a deal-breaker for me.


> I was assuming that users of RStudio would not be also using other GUI's, but I do not know whether I am using "external UI libraries" in my typical R activities using rms/Hmisc/survival. Is this in reference to packages such as rgl that invoke libraries such as GTK? Are Rattle or rggobi precluded as packages?
> 

In principle, yes (but I'd think that if you use Rattle it's pointless to have another GUI ;)). The actual interaction depends on the details inside their rsession part - so I can't comment on that and I didn't test the packages you mention. The bottom line is that all packages are run outside the GUI in an R embedding.

If I get a spare minute, I'm actually tempted to hack RStudio to remedy this design problem, because it would allow for example iPlots eXtreme to be used directly in the GUI which the current setup doesn't allow.

Cheers,
Simon



> -- 
> David.
> 
> 
>> We have tried that long time ago with the first Cocoa GUI but quickly abandoned that path. It works well for sandboxed environment (e.g. as a server) but not for a local GUI. That said, it is a very impressive attempt to learn from the rich history of all the R GUIs created so far.
>> 
>> Back to the original thread, though, thanks to Hans-Joerg Bibiko who did a great job there will be a big overhaul of the R Mac GUI for R 2.13.0 with a new editor.
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>> 
>>> 
>>> On Sat, Jan 29, 2011 at 6:31 AM, Gang Chen <gangchen at mail.nih.gov> wrote:
>>>> Good to know that. Thanks a lot, Yan Zhou!
>>>> 
>>>> Gang
>>>> 
>>>> On Sat, Jan 29, 2011 at 9:13 AM, Yan Zhou <zhouyan at me.com> wrote:
>>>> 
>>>>> Holding the option key while selecting text, you can select the columns.
>>>>> This is built into the Mac OS X and available in many Mac "native" text
>>>>> editor like textmate, textwrangler, bbedit, etc, even the system's TextEdit
>>>>> can do that.
>>>>> 
>>>>> Meanwhile Vim can do column selection with the blockwise-visual (CTRL-V is
>>>>> the default shortcuts). I don't use Emacs but heard it can do it, too. So
>>>>> select, copy paste and replace columns is nothing special at all.
>>>>> 
>>>>> 
>>>>> On Jan 29, 2011, at 2:04 PM, Gang Chen wrote:
>>>>> 
>>>>>> I use nedit on daily basis because I usually run R on the Mac terminal or
>>>>>> X11, not in the R GUI window. One feature I like nedit most is that I can
>>>>>> select, copy, paste, and replace columns. Anybody know whether such a
>>>>>> feature is available in other editors such as TextWrangler?
>>>>>> 
>>>>>> Thanks a lot for sharing the syntax highlighting file, Christian! I'll
>>>>> try
>>>>>> it out soon. Do you know if there is any way to execute a highlighted
>>>>>> portion of the R code in nedit?
>>>>>> 
>>>>>> Cheers,
>>>>>> Gang
>>>>>> 
>>>>>> On Sat, Jan 29, 2011 at 8:04 AM, cstrato <cstrato at aon.at> wrote:
>>>>>> 
>>>>>>> Dear All,
>>>>>>> 
>>>>>>> Although this question was asked and answered many times, one editor was
>>>>>>> never mentioned:
>>>>>>> 
>>>>>>> As a long-time Mac user I prefer "nedit" for the following reasons:
>>>>>>> 
>>>>>>> - it was developed by people who wanted to have a Mac-like editor on
>>>>> Linux
>>>>>>> 
>>>>>>> - it is almost as powerful as emacs but much easier to use and much
>>>>> faster
>>>>>>> 
>>>>>>> - it has built-in syntax highlighting for many languages
>>>>>>> 
>>>>>>> - it has also syntax highlighting for R, simply install "R-5.3.pats"
>>>>>>> (which I attach)
>>>>>>> 
>>>>>>> - it is incredible fast, e.g.:
>>>>>>> 
>>>>>>> -- it can open text files of sizes larger than 500 MB in few seconds
>>>>>>>   (e.g. the Affymetrix annotation file
>>>>>>> HuEx-1_0-st-v2.na31.hg19.probeset.csv)
>>>>>>> 
>>>>>>> -- searching such large files is also incredible fast
>>>>>>> 
>>>>>>> -- it opens a C++ source code with 10,000 lines immediately (in
>>>>>>> contrast to emacs)
>>>>>>> 
>>>>>>> For these reasons I use nedit daily since more than 10 years on both
>>>>>>> Linux and Mac.
>>>>>>> 
>>>>>>> Best regards
>>>>>>> Christian
>>>>>>> _._._._._._._._._._._._._._._._._._
>>>>>>> C.h.r.i.s.t.i.a.n   S.t.r.a.t.o.w.a
>>>>>>> V.i.e.n.n.a           A.u.s.t.r.i.a
>>>>>>> e.m.a.i.l:        cstrato at aon.at
>>>>>>> _._._._._._._._._._._._._._._._._._
>>>>>>> 
>>>>>>> 
>>>>>> 
>>>>>>     [[alternative HTML version deleted]]
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> 
>>>> 
>>>>      [[alternative HTML version deleted]]
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> David Winsemius, MD
> West Hartford, CT
> 
> 


From kathythuytienle at gmail.com  Sat Mar 12 00:47:20 2011
From: kathythuytienle at gmail.com (Kathy Le)
Date: Fri, 11 Mar 2011 15:47:20 -0800
Subject: [R-SIG-Mac] var() function or other functions
Message-ID: <AANLkTi=gL_RzcVsh40sc7x2vPBowPMwp8VwX+8Tn8mfT@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20110311/f1435efc/attachment.pl>

From smckinney at bccrc.ca  Sat Mar 12 00:49:27 2011
From: smckinney at bccrc.ca (Steven McKinney)
Date: Fri, 11 Mar 2011 15:49:27 -0800
Subject: [R-SIG-Mac] var() function or other functions
In-Reply-To: <2540_1299887258_1299887258_AANLkTi=gL_RzcVsh40sc7x2vPBowPMwp8VwX+8Tn8mfT@mail.gmail.com>
References: <2540_1299887258_1299887258_AANLkTi=gL_RzcVsh40sc7x2vPBowPMwp8VwX+8Tn8mfT@mail.gmail.com>
Message-ID: <DCE81E14EB74504B971DAD4D2DB0356B0864568665@crcmail4.BCCRC.CA>

For function "mean" use

> help("mean")

or

> ?mean

and a help page will appear.

This type of question is best posted to R-help at r-project.org
as it is not mac-specific


Best

Steven McKinney

________________________________________
From: r-sig-mac-bounces at r-project.org [r-sig-mac-bounces at r-project.org] On Behalf Of Kathy Le [kathythuytienle at gmail.com]
Sent: March 11, 2011 3:47 PM
To: r-sig-mac at r-project.org
Subject: [R-SIG-Mac] var() function or other functions

How can I find information for any particular function in R?

        [[alternative HTML version deleted]]

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From marc_schwartz at me.com  Sun Mar 13 16:18:58 2011
From: marc_schwartz at me.com (Marc Schwartz)
Date: Sun, 13 Mar 2011 10:18:58 -0500
Subject: [R-SIG-Mac] GCC v. LLVM
In-Reply-To: <9374453A-1C90-48BD-A560-28D531162BE6@r-project.org>
References: <AANLkTikBHTDwd18Q6B0S5PnZxaUmzcoviFxBWX1SJ3xF@mail.gmail.com>
	<9374453A-1C90-48BD-A560-28D531162BE6@r-project.org>
Message-ID: <2178263C-BE3D-468C-9F80-A98E54288CFD@me.com>

On Mar 11, 2011, at 9:01 AM, Simon Urbanek wrote:

> On Mar 9, 2011, at 8:26 PM, Anirban Mukherjee wrote:
> 
>> Folks,
>> 
>> I was wondering what the forward plans are for R on Mac vis-a-vis
>> apple-gcc/Clang. Xcode 4 was just released with LLVM 2.x.
> 
> For some definition of "released" - it's not really available to OS X users in general. For all practical purposes it's still a beta.

Simon,

Perhaps I am missing an implicit distinction being made, but XCode 4.0 is generally available to anyone on OSX, albeit there is a distinction from the prior versions.

Up until now, you could sign up for a *free* Apple Developer program account and download XCode. You did not have to pay the $99 U.S. for an annual membership, which also gave you access to the various SDK's required for OSX and iOS. This is how I have been obtaining XCode for the past two years for free, since moving from Fedora. 

The model has now changed with 4.0, where you can either:

1. Pay the $99 U.S. annual fee and download XCode from http://developer.apple.com/xcode/

2. Go to the App Store on OSX and pay $4.99 U.S. to obtain XCode that way from http://itunes.apple.com/us/app/xcode/id422352214?mt=12&ls=1


Clearly, the second option would be the most cost effective for general users, especially if they are not going to be building apps to make them available in the OSX or iOS App Stores. It is no longer free, but to pay $4.99 U.S. for the toolkit is arguably a steal.

What am I missing in your statement above regarding general availability to OSX users?

Also, are there plans afoot to move to XCode 4.0 for OSX builds of R? 

Thanks and regards,

Marc

> 
>> From what I
>> can tell, Apple will in the future only support Clang/LLVM. For now, I
>> believe they are still including the same gcc as with 3.2. But longer
>> term, the move seems to be to Clang/LLVM.
>> 
>> http://developer.apple.com/technologies/tools/whats-new.html
>> http://clang.llvm.org/
>> 
>> Does R build with Clang/LLVM? I know Clang is being developed with a
>> view to ensure GCC "compatibility".
>> 
> 
> As Brian pointed out, R doesn't care. The only annoying part for me as a Mac binary maintainer is that it means Apple has abandoned the only branch that supported Fortran back-end, so in the future we will not be able to provide native Fortran for Xcode. This has been known for a while and Apple's stance is that they don't care about Fortran, so in some (but not immediate) future we may be back to the mess of mixing compilers.
> 
> Note that LLVM and clang don't really have any real benefits for the R users so far. Tests suggest that they make some parts slower and we could not measure any overall benefit (unlike let's say on arm), so people were not rushing to llvm/clang so far. Apple's move to llvm/clang is really based on a political decision, not a technical one. The only benefit I see so far is what Brian mentioned as well that some people will have to realize that gcc is not the standard and can test on other compilers to find their bugs.
> 
> Cheers,
> Simon


From Simon.Urbanek at r-project.org  Sun Mar 13 17:27:11 2011
From: Simon.Urbanek at r-project.org (Simon Urbanek)
Date: Sun, 13 Mar 2011 12:27:11 -0400
Subject: [R-SIG-Mac] GCC v. LLVM
In-Reply-To: <2178263C-BE3D-468C-9F80-A98E54288CFD@me.com>
References: <AANLkTikBHTDwd18Q6B0S5PnZxaUmzcoviFxBWX1SJ3xF@mail.gmail.com>
	<9374453A-1C90-48BD-A560-28D531162BE6@r-project.org>
	<2178263C-BE3D-468C-9F80-A98E54288CFD@me.com>
Message-ID: <34411E7E-4AA2-4B3E-A093-C2A15E9D7C6F@r-project.org>

Marc,

On Mar 13, 2011, at 11:18 AM, Marc Schwartz wrote:

> On Mar 11, 2011, at 9:01 AM, Simon Urbanek wrote:
> 
>> On Mar 9, 2011, at 8:26 PM, Anirban Mukherjee wrote:
>> 
>>> Folks,
>>> 
>>> I was wondering what the forward plans are for R on Mac vis-a-vis
>>> apple-gcc/Clang. Xcode 4 was just released with LLVM 2.x.
>> 
>> For some definition of "released" - it's not really available to OS X users in general. For all practical purposes it's still a beta.
> 
> Simon,
> 
> Perhaps I am missing an implicit distinction being made, but XCode 4.0 is generally available to anyone on OSX, albeit there is a distinction from the prior versions.
> 
> Up until now, you could sign up for a *free* Apple Developer program account and download XCode. You did not have to pay the $99 U.S. for an annual membership, which also gave you access to the various SDK's required for OSX and iOS. This is how I have been obtaining XCode for the past two years for free, since moving from Fedora. 
> 
> The model has now changed with 4.0, where you can either:
> 
> 1. Pay the $99 U.S. annual fee and download XCode from http://developer.apple.com/xcode/
> 
> 2. Go to the App Store on OSX and pay $4.99 U.S. to obtain XCode that way from http://itunes.apple.com/us/app/xcode/id422352214?mt=12&ls=1
> 
> 
> Clearly, the second option would be the most cost effective for general users, especially if they are not going to be building apps to make them available in the OSX or iOS App Stores. It is no longer free, but to pay $4.99 U.S. for the toolkit is arguably a steal.
> 
> What am I missing in your statement above regarding general availability to OSX users?
> 

Xcode 3.x is bundled with OS X and anyone can get updates through ADC. Xcode 4 is not, it is available for Mac developer program members only [or those that happen to buy it as you pointed out] and thus no longer available to all OS X users. Hence Xcode 4 is no longer suitable for projects that rely on its availability to all users. It's a really awkward situation -- the benefits in Xcode 4 are really for the developer, not the user, so it makes sense to charge the developer -- but since they don't separate compilers from the GUI it kills the unix feel of OS X for the user. I'm curious how this will shake out (and other recent decisions like dropping Java support).


> Also, are there plans afoot to move to XCode 4.0 for OSX builds of R? 
> 

I'm not sure what you mean exactly, but if you mean CRAN binaries then that's not an option because Xcode4 only supports OS X 10.6. As I said, Xcode4 is really pointless from the user's point of view so far, so there is no need to rush. (FWIW R and the GUI does compile with Xcode 4).

Cheers,
Simon


> 
>> 
>>> From what I
>>> can tell, Apple will in the future only support Clang/LLVM. For now, I
>>> believe they are still including the same gcc as with 3.2. But longer
>>> term, the move seems to be to Clang/LLVM.
>>> 
>>> http://developer.apple.com/technologies/tools/whats-new.html
>>> http://clang.llvm.org/
>>> 
>>> Does R build with Clang/LLVM? I know Clang is being developed with a
>>> view to ensure GCC "compatibility".
>>> 
>> 
>> As Brian pointed out, R doesn't care. The only annoying part for me as a Mac binary maintainer is that it means Apple has abandoned the only branch that supported Fortran back-end, so in the future we will not be able to provide native Fortran for Xcode. This has been known for a while and Apple's stance is that they don't care about Fortran, so in some (but not immediate) future we may be back to the mess of mixing compilers.
>> 
>> Note that LLVM and clang don't really have any real benefits for the R users so far. Tests suggest that they make some parts slower and we could not measure any overall benefit (unlike let's say on arm), so people were not rushing to llvm/clang so far. Apple's move to llvm/clang is really based on a political decision, not a technical one. The only benefit I see so far is what Brian mentioned as well that some people will have to realize that gcc is not the standard and can test on other compilers to find their bugs.
>> 
>> Cheers,
>> Simon
> 
> 


From bhh at xs4all.nl  Sun Mar 13 20:44:17 2011
From: bhh at xs4all.nl (Berend Hasselman)
Date: Sun, 13 Mar 2011 20:44:17 +0100
Subject: [R-SIG-Mac] GCC v. LLVM
In-Reply-To: <34411E7E-4AA2-4B3E-A093-C2A15E9D7C6F@r-project.org>
References: <AANLkTikBHTDwd18Q6B0S5PnZxaUmzcoviFxBWX1SJ3xF@mail.gmail.com>
	<9374453A-1C90-48BD-A560-28D531162BE6@r-project.org>
	<2178263C-BE3D-468C-9F80-A98E54288CFD@me.com>
	<34411E7E-4AA2-4B3E-A093-C2A15E9D7C6F@r-project.org>
Message-ID: <B1E85DC4-C977-4A9A-9F54-ECAAEDAA3BEC@xs4all.nl>


On 13-03-2011, at 17:27, Simon Urbanek wrote:

>> ....
>> What am I missing in your statement above regarding general availability to OSX users?
>> 
> 
> Xcode 3.x is bundled with OS X and anyone can get updates through ADC. Xcode 4 is not, it is available for Mac developer program members only [or those that happen to buy it as you pointed out] and thus no longer available to all OS X users. Hence Xcode 4 is no longer suitable for projects that rely on its availability to all users. It's a really awkward situation -- the benefits in Xcode 4 are really for the developer, not the user, so it makes sense to charge the developer -- but since they don't separate compilers from the GUI it kills the unix feel of OS X for the user. I'm curious how this will shake out (and other recent decisions like dropping Java support).
> 

Do I understand this correctly?
So the compilers are integrated completely in Xcode? 
Can the compilers be run from the Terminal in command line mode?
I rely on that.

Berend 










> 
>> Also, are there plans afoot to move to XCode 4.0 for OSX builds of R? 
>> 
> 
> I'm not sure what you mean exactly, but if you mean CRAN binaries then that's not an option because Xcode4 only supports OS X 10.6. As I said, Xcode4 is really pointless from the user's point of view so far, so there is no need to rush. (FWIW R and the GUI does compile with Xcode 4).
> 
> Cheers,
> Simon
> 
> 
>> 
>>> 
>>>> From what I
>>>> can tell, Apple will in the future only support Clang/LLVM. For now, I
>>>> believe they are still including the same gcc as with 3.2. But longer
>>>> term, the move seems to be to Clang/LLVM.
>>>> 
>>>> http://developer.apple.com/technologies/tools/whats-new.html
>>>> http://clang.llvm.org/
>>>> 
>>>> Does R build with Clang/LLVM? I know Clang is being developed with a
>>>> view to ensure GCC "compatibility".
>>>> 
>>> 
>>> As Brian pointed out, R doesn't care. The only annoying part for me as a Mac binary maintainer is that it means Apple has abandoned the only branch that supported Fortran back-end, so in the future we will not be able to provide native Fortran for Xcode. This has been known for a while and Apple's stance is that they don't care about Fortran, so in some (but not immediate) future we may be back to the mess of mixing compilers.
>>> 
>>> Note that LLVM and clang don't really have any real benefits for the R users so far. Tests suggest that they make some parts slower and we could not measure any overall benefit (unlike let's say on arm), so people were not rushing to llvm/clang so far. Apple's move to llvm/clang is really based on a political decision, not a technical one. The only benefit I see so far is what Brian mentioned as well that some people will have to realize that gcc is not the standard and can test on other compilers to find their bugs.
>>> 
>>> Cheers,
>>> Simon
>> 
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From zhouyan at me.com  Sun Mar 13 20:58:10 2011
From: zhouyan at me.com (Yan Zhou)
Date: Sun, 13 Mar 2011 19:58:10 +0000
Subject: [R-SIG-Mac] GCC v. LLVM
In-Reply-To: <B1E85DC4-C977-4A9A-9F54-ECAAEDAA3BEC@xs4all.nl>
References: <AANLkTikBHTDwd18Q6B0S5PnZxaUmzcoviFxBWX1SJ3xF@mail.gmail.com>
	<9374453A-1C90-48BD-A560-28D531162BE6@r-project.org>
	<2178263C-BE3D-468C-9F80-A98E54288CFD@me.com>
	<34411E7E-4AA2-4B3E-A093-C2A15E9D7C6F@r-project.org>
	<B1E85DC4-C977-4A9A-9F54-ECAAEDAA3BEC@xs4all.nl>
Message-ID: <BFBD99F3-549A-4D1A-8F15-18F7F81C7162@me.com>



On Mar 13, 2011, at 7:44 PM, Berend Hasselman <bhh at xs4all.nl> wrote:

> 
> On 13-03-2011, at 17:27, Simon Urbanek wrote:
> 
>>> ....
>>> What am I missing in your statement above regarding general availability to OSX users?
>>> 
>> 
>> Xcode 3.x is bundled with OS X and anyone can get updates through ADC. Xcode 4 is not, it is available for Mac developer program members only [or those that happen to buy it as you pointed out] and thus no longer available to all OS X users. Hence Xcode 4 is no longer suitable for projects that rely on its availability to all users. It's a really awkward situation -- the benefits in Xcode 4 are really for the developer, not the user, so it makes sense to charge the developer -- but since they don't separate compilers from the GUI it kills the unix feel of OS X for the user. I'm curious how this will shake out (and other recent decisions like dropping Java support).
>> 
> 
> Do I understand this correctly?
> So the compilers are integrated completely in Xcode? 
> Can the compilers be run from the Terminal in command line mode?
> I rely on that.
> 
> Berend 
> 
> 
> 
It can run on terminal as usual. You just need to pay for xcode4 to get it.

I think, or more as I hope, Apple will come out with a solution. R is not the only project relies on the availability of gcc, etc. Even some commercial software, for example intel compilers, relies on gcc and g++, since they don't have standard libraries and use libstdc++ instead. Another example is nvidia cuda. Though I am not familiar with things other than developer tools that rely on gcc/g++, but I am sure there are plenty of them.

Apple cannot say, "hi, you want to use third party software? That's all right, buy ours first!". That just does not make sense at all, though it's more or less kind of the style of apple, sadly.

Yan

> 
> 
> 
> 
> 
> 
> 
>> 
>>> Also, are there plans afoot to move to XCode 4.0 for OSX builds of R? 
>>> 
>> 
>> I'm not sure what you mean exactly, but if you mean CRAN binaries then that's not an option because Xcode4 only supports OS X 10.6. As I said, Xcode4 is really pointless from the user's point of view so far, so there is no need to rush. (FWIW R and the GUI does compile with Xcode 4).
>> 
>> Cheers,
>> Simon
>> 
>> 
>>> 
>>>> 
>>>>> From what I
>>>>> can tell, Apple will in the future only support Clang/LLVM. For now, I
>>>>> believe they are still including the same gcc as with 3.2. But longer
>>>>> term, the move seems to be to Clang/LLVM.
>>>>> 
>>>>> http://developer.apple.com/technologies/tools/whats-new.html
>>>>> http://clang.llvm.org/
>>>>> 
>>>>> Does R build with Clang/LLVM? I know Clang is being developed with a
>>>>> view to ensure GCC "compatibility".
>>>>> 
>>>> 
>>>> As Brian pointed out, R doesn't care. The only annoying part for me as a Mac binary maintainer is that it means Apple has abandoned the only branch that supported Fortran back-end, so in the future we will not be able to provide native Fortran for Xcode. This has been known for a while and Apple's stance is that they don't care about Fortran, so in some (but not immediate) future we may be back to the mess of mixing compilers.
>>>> 
>>>> Note that LLVM and clang don't really have any real benefits for the R users so far. Tests suggest that they make some parts slower and we could not measure any overall benefit (unlike let's say on arm), so people were not rushing to llvm/clang so far. Apple's move to llvm/clang is really based on a political decision, not a technical one. The only benefit I see so far is what Brian mentioned as well that some people will have to realize that gcc is not the standard and can test on other compilers to find their bugs.
>>>> 
>>>> Cheers,
>>>> Simon
>>> 
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From Roy.Mendelssohn at noaa.gov  Sun Mar 13 21:37:41 2011
From: Roy.Mendelssohn at noaa.gov (Roy Mendelssohn)
Date: Sun, 13 Mar 2011 13:37:41 -0700
Subject: [R-SIG-Mac] GCC v. LLVM
In-Reply-To: <BFBD99F3-549A-4D1A-8F15-18F7F81C7162@me.com>
References: <AANLkTikBHTDwd18Q6B0S5PnZxaUmzcoviFxBWX1SJ3xF@mail.gmail.com>
	<9374453A-1C90-48BD-A560-28D531162BE6@r-project.org>
	<2178263C-BE3D-468C-9F80-A98E54288CFD@me.com>
	<34411E7E-4AA2-4B3E-A093-C2A15E9D7C6F@r-project.org>
	<B1E85DC4-C977-4A9A-9F54-ECAAEDAA3BEC@xs4all.nl>
	<BFBD99F3-549A-4D1A-8F15-18F7F81C7162@me.com>
Message-ID: <8A8D78EC-0486-4A7D-ADA1-A16BB4D6E70D@noaa.gov>

Support Fink and MacPorts.

-Roy
On Mar 13, 2011, at 12:58 PM, Yan Zhou wrote:

> 
> 
> On Mar 13, 2011, at 7:44 PM, Berend Hasselman <bhh at xs4all.nl> wrote:
> 
>> 
>> On 13-03-2011, at 17:27, Simon Urbanek wrote:
>> 
>>>> ....
>>>> What am I missing in your statement above regarding general availability to OSX users?
>>>> 
>>> 
>>> Xcode 3.x is bundled with OS X and anyone can get updates through ADC. Xcode 4 is not, it is available for Mac developer program members only [or those that happen to buy it as you pointed out] and thus no longer available to all OS X users. Hence Xcode 4 is no longer suitable for projects that rely on its availability to all users. It's a really awkward situation -- the benefits in Xcode 4 are really for the developer, not the user, so it makes sense to charge the developer -- but since they don't separate compilers from the GUI it kills the unix feel of OS X for the user. I'm curious how this will shake out (and other recent decisions like dropping Java support).
>>> 
>> 
>> Do I understand this correctly?
>> So the compilers are integrated completely in Xcode? 
>> Can the compilers be run from the Terminal in command line mode?
>> I rely on that.
>> 
>> Berend 
>> 
>> 
>> 
> It can run on terminal as usual. You just need to pay for xcode4 to get it.
> 
> I think, or more as I hope, Apple will come out with a solution. R is not the only project relies on the availability of gcc, etc. Even some commercial software, for example intel compilers, relies on gcc and g++, since they don't have standard libraries and use libstdc++ instead. Another example is nvidia cuda. Though I am not familiar with things other than developer tools that rely on gcc/g++, but I am sure there are plenty of them.
> 
> Apple cannot say, "hi, you want to use third party software? That's all right, buy ours first!". That just does not make sense at all, though it's more or less kind of the style of apple, sadly.
> 
> Yan
> 
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>>> 
>>>> Also, are there plans afoot to move to XCode 4.0 for OSX builds of R? 
>>>> 
>>> 
>>> I'm not sure what you mean exactly, but if you mean CRAN binaries then that's not an option because Xcode4 only supports OS X 10.6. As I said, Xcode4 is really pointless from the user's point of view so far, so there is no need to rush. (FWIW R and the GUI does compile with Xcode 4).
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>>> 
>>>>> 
>>>>>> From what I
>>>>>> can tell, Apple will in the future only support Clang/LLVM. For now, I
>>>>>> believe they are still including the same gcc as with 3.2. But longer
>>>>>> term, the move seems to be to Clang/LLVM.
>>>>>> 
>>>>>> http://developer.apple.com/technologies/tools/whats-new.html
>>>>>> http://clang.llvm.org/
>>>>>> 
>>>>>> Does R build with Clang/LLVM? I know Clang is being developed with a
>>>>>> view to ensure GCC "compatibility".
>>>>>> 
>>>>> 
>>>>> As Brian pointed out, R doesn't care. The only annoying part for me as a Mac binary maintainer is that it means Apple has abandoned the only branch that supported Fortran back-end, so in the future we will not be able to provide native Fortran for Xcode. This has been known for a while and Apple's stance is that they don't care about Fortran, so in some (but not immediate) future we may be back to the mess of mixing compilers.
>>>>> 
>>>>> Note that LLVM and clang don't really have any real benefits for the R users so far. Tests suggest that they make some parts slower and we could not measure any overall benefit (unlike let's say on arm), so people were not rushing to llvm/clang so far. Apple's move to llvm/clang is really based on a political decision, not a technical one. The only benefit I see so far is what Brian mentioned as well that some people will have to realize that gcc is not the standard and can test on other compilers to find their bugs.
>>>>> 
>>>>> Cheers,
>>>>> Simon
>>>> 
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
1352 Lighthouse Avenue
Pacific Grove, CA 93950-2097

e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
voice: (831)-648-9029
fax: (831)-648-8440
www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 


From marc_schwartz at me.com  Sun Mar 13 22:01:41 2011
From: marc_schwartz at me.com (Marc Schwartz)
Date: Sun, 13 Mar 2011 16:01:41 -0500
Subject: [R-SIG-Mac] GCC v. LLVM
In-Reply-To: <34411E7E-4AA2-4B3E-A093-C2A15E9D7C6F@r-project.org>
References: <AANLkTikBHTDwd18Q6B0S5PnZxaUmzcoviFxBWX1SJ3xF@mail.gmail.com>
	<9374453A-1C90-48BD-A560-28D531162BE6@r-project.org>
	<2178263C-BE3D-468C-9F80-A98E54288CFD@me.com>
	<34411E7E-4AA2-4B3E-A093-C2A15E9D7C6F@r-project.org>
Message-ID: <11ABB26F-2B57-4B5F-8592-3C6163F04330@me.com>

Hi Simon,

On Mar 13, 2011, at 11:27 AM, Simon Urbanek wrote:

> Marc,
> 
> On Mar 13, 2011, at 11:18 AM, Marc Schwartz wrote:
> 
>> On Mar 11, 2011, at 9:01 AM, Simon Urbanek wrote:
>> 
>>> On Mar 9, 2011, at 8:26 PM, Anirban Mukherjee wrote:
>>> 
>>>> Folks,
>>>> 
>>>> I was wondering what the forward plans are for R on Mac vis-a-vis
>>>> apple-gcc/Clang. Xcode 4 was just released with LLVM 2.x.
>>> 
>>> For some definition of "released" - it's not really available to OS X users in general. For all practical purposes it's still a beta.
>> 
>> Simon,
>> 
>> Perhaps I am missing an implicit distinction being made, but XCode 4.0 is generally available to anyone on OSX, albeit there is a distinction from the prior versions.
>> 
>> Up until now, you could sign up for a *free* Apple Developer program account and download XCode. You did not have to pay the $99 U.S. for an annual membership, which also gave you access to the various SDK's required for OSX and iOS. This is how I have been obtaining XCode for the past two years for free, since moving from Fedora. 
>> 
>> The model has now changed with 4.0, where you can either:
>> 
>> 1. Pay the $99 U.S. annual fee and download XCode from http://developer.apple.com/xcode/
>> 
>> 2. Go to the App Store on OSX and pay $4.99 U.S. to obtain XCode that way from http://itunes.apple.com/us/app/xcode/id422352214?mt=12&ls=1
>> 
>> 
>> Clearly, the second option would be the most cost effective for general users, especially if they are not going to be building apps to make them available in the OSX or iOS App Stores. It is no longer free, but to pay $4.99 U.S. for the toolkit is arguably a steal.
>> 
>> What am I missing in your statement above regarding general availability to OSX users?
>> 
> 
> Xcode 3.x is bundled with OS X and anyone can get updates through ADC. Xcode 4 is not, it is available for Mac developer program members only [or those that happen to buy it as you pointed out] and thus no longer available to all OS X users. Hence Xcode 4 is no longer suitable for projects that rely on its availability to all users. It's a really awkward situation -- the benefits in Xcode 4 are really for the developer, not the user, so it makes sense to charge the developer -- but since they don't separate compilers from the GUI it kills the unix feel of OS X for the user. I'm curious how this will shake out (and other recent decisions like dropping Java support).


I think that the key issue is that XCode 4 is 10.6 only in so far as installation, which in turn means Intel based Macs only (and of course target builds for the mobile A4/5 CPUs). 

For some reason, I thought that I had seen that it would still be able to generate universal binaries, but upon further checking, that does not appear to be the case.

Thus, as long as one needs to build for older OSX versions and for PPC platforms, it will not be suitable. It seems clear that Apple has made a strategic decision regarding future platform support.

Presumably in time, that becomes a non-issue, as with any transition in OS and HW support.

The other decisions, such as Java and Flash are interesting and will of course, play out in time. The dynamics between Apple and Adobe/Oracle make for interesting and sometimes, conspiratorial dialog.

> 
>> Also, are there plans afoot to move to XCode 4.0 for OSX builds of R? 
>> 
> 
> I'm not sure what you mean exactly, but if you mean CRAN binaries then that's not an option because Xcode4 only supports OS X 10.6. As I said, Xcode4 is really pointless from the user's point of view so far, so there is no need to rush. (FWIW R and the GUI does compile with Xcode 4).

No rush and I don't have it yet. I was more trying to get a sense of direction for CRAN. However, as I note above, I was under the mistaken impression that XCode 4 could create universal binaries. Thus, as long as you need to be able to build them for end useRs on multiple OSX versions and CPUs, moving to it does not make sense. FORTRAN support is of course, yet another reason.

Thanks Simon,

Marc


> Cheers,
> Simon
> 
> 
>> 
>>> 
>>>> From what I
>>>> can tell, Apple will in the future only support Clang/LLVM. For now, I
>>>> believe they are still including the same gcc as with 3.2. But longer
>>>> term, the move seems to be to Clang/LLVM.
>>>> 
>>>> http://developer.apple.com/technologies/tools/whats-new.html
>>>> http://clang.llvm.org/
>>>> 
>>>> Does R build with Clang/LLVM? I know Clang is being developed with a
>>>> view to ensure GCC "compatibility".
>>>> 
>>> 
>>> As Brian pointed out, R doesn't care. The only annoying part for me as a Mac binary maintainer is that it means Apple has abandoned the only branch that supported Fortran back-end, so in the future we will not be able to provide native Fortran for Xcode. This has been known for a while and Apple's stance is that they don't care about Fortran, so in some (but not immediate) future we may be back to the mess of mixing compilers.
>>> 
>>> Note that LLVM and clang don't really have any real benefits for the R users so far. Tests suggest that they make some parts slower and we could not measure any overall benefit (unlike let's say on arm), so people were not rushing to llvm/clang so far. Apple's move to llvm/clang is really based on a political decision, not a technical one. The only benefit I see so far is what Brian mentioned as well that some people will have to realize that gcc is not the standard and can test on other compilers to find their bugs.
>>> 
>>> Cheers,
>>> Simon
>> 
>> 
>


From ripley at stats.ox.ac.uk  Sun Mar 13 23:04:34 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 13 Mar 2011 22:04:34 +0000
Subject: [R-SIG-Mac] GCC v. LLVM
In-Reply-To: <11ABB26F-2B57-4B5F-8592-3C6163F04330@me.com>
References: <AANLkTikBHTDwd18Q6B0S5PnZxaUmzcoviFxBWX1SJ3xF@mail.gmail.com>
	<9374453A-1C90-48BD-A560-28D531162BE6@r-project.org>
	<2178263C-BE3D-468C-9F80-A98E54288CFD@me.com>
	<34411E7E-4AA2-4B3E-A093-C2A15E9D7C6F@r-project.org>
	<11ABB26F-2B57-4B5F-8592-3C6163F04330@me.com>
Message-ID: <alpine.LFD.2.02.1103132141260.29405@gannet.stats.ox.ac.uk>

'Universal' is a moveable feast.  For Tiger, it seemed to be 4 archs 
(i386, x86_64, ppc, ppc64), We now have 3, and at some point soonish 
there will be 2 (no ppc) once Leopard support goes.

I've not seen a (powered up) PowerPC machine for at least a year, but 
quite a few 10.5 systems (indeed, I have one, mainly to continue to be 
able to build/test software I might distribute).

My guess is that 10.7 this summer will ship with Xcode 4  (Xcode is a 
collection of tools, not just an IDE).  At that point we may need to 
decide exactly what Mac platforms we will support with binary builds.
Already it is moot if we need i386 builds: hardware that does not run 
x86_64 is now several years old (and is probably running Tiger).

On Sun, 13 Mar 2011, Marc Schwartz wrote:

> Hi Simon,
>
> On Mar 13, 2011, at 11:27 AM, Simon Urbanek wrote:
>
>> Marc,
>>
>> On Mar 13, 2011, at 11:18 AM, Marc Schwartz wrote:
>>
>>> On Mar 11, 2011, at 9:01 AM, Simon Urbanek wrote:
>>>
>>>> On Mar 9, 2011, at 8:26 PM, Anirban Mukherjee wrote:
>>>>
>>>>> Folks,
>>>>>
>>>>> I was wondering what the forward plans are for R on Mac vis-a-vis
>>>>> apple-gcc/Clang. Xcode 4 was just released with LLVM 2.x.
>>>>
>>>> For some definition of "released" - it's not really available to OS X users in general. For all practical purposes it's still a beta.
>>>
>>> Simon,
>>>
>>> Perhaps I am missing an implicit distinction being made, but XCode 4.0 is generally available to anyone on OSX, albeit there is a distinction from the prior versions.
>>>
>>> Up until now, you could sign up for a *free* Apple Developer program account and download XCode. You did not have to pay the $99 U.S. for an annual membership, which also gave you access to the various SDK's required for OSX and iOS. This is how I have been obtaining XCode for the past two years for free, since moving from Fedora.
>>>
>>> The model has now changed with 4.0, where you can either:
>>>
>>> 1. Pay the $99 U.S. annual fee and download XCode from http://developer.apple.com/xcode/
>>>
>>> 2. Go to the App Store on OSX and pay $4.99 U.S. to obtain XCode that way from http://itunes.apple.com/us/app/xcode/id422352214?mt=12&ls=1
>>>
>>>
>>> Clearly, the second option would be the most cost effective for general users, especially if they are not going to be building apps to make them available in the OSX or iOS App Stores. It is no longer free, but to pay $4.99 U.S. for the toolkit is arguably a steal.
>>>
>>> What am I missing in your statement above regarding general availability to OSX users?
>>>
>>
>> Xcode 3.x is bundled with OS X and anyone can get updates through ADC. Xcode 4 is not, it is available for Mac developer program members only [or those that happen to buy it as you pointed out] and thus no longer available to all OS X users. Hence Xcode 4 is no longer suitable for projects that rely on its availability to all users. It's a really awkward situation -- the benefits in Xcode 4 are really for the developer, not the user, so it makes sense to charge the developer -- but since they don't separate compilers from the GUI it kills the unix feel of OS X for the user. I'm curious how this will shake out (and other recent decisions like dropping Java support).
>
>
> I think that the key issue is that XCode 4 is 10.6 only in so far as 
> installation, which in turn means Intel based Macs only (and of 
> course target builds for the mobile A4/5 CPUs).
>
> For some reason, I thought that I had seen that it would still be 
> able to generate universal binaries, but upon further checking, that 
> does not appear to be the case.
>
> Thus, as long as one needs to build for older OSX versions and for 
> PPC platforms, it will not be suitable. It seems clear that Apple 
> has made a strategic decision regarding future platform support.
>
> Presumably in time, that becomes a non-issue, as with any transition 
> in OS and HW support.
>
> The other decisions, such as Java and Flash are interesting and will 
> of course, play out in time. The dynamics between Apple and 
> Adobe/Oracle make for interesting and sometimes, conspiratorial 
> dialog.
>
>>
>>> Also, are there plans afoot to move to XCode 4.0 for OSX builds of R?
>>>
>>
>> I'm not sure what you mean exactly, but if you mean CRAN binaries then that's not an option because Xcode4 only supports OS X 10.6. As I said, Xcode4 is really pointless from the user's point of view so far, so there is no need to rush. (FWIW R and the GUI does compile with Xcode 4).
>
> No rush and I don't have it yet. I was more trying to get a sense of direction for CRAN. However, as I note above, I was under the mistaken impression that XCode 4 could create universal binaries. Thus, as long as you need to be able to build them for end useRs on multiple OSX versions and CPUs, moving to it does not make sense. FORTRAN support is of course, yet another reason.
>
> Thanks Simon,
>
> Marc
>
>
>> Cheers,
>> Simon
>>
>>
>>>
>>>>
>>>>> From what I
>>>>> can tell, Apple will in the future only support Clang/LLVM. For now, I
>>>>> believe they are still including the same gcc as with 3.2. But longer
>>>>> term, the move seems to be to Clang/LLVM.
>>>>>
>>>>> http://developer.apple.com/technologies/tools/whats-new.html
>>>>> http://clang.llvm.org/
>>>>>
>>>>> Does R build with Clang/LLVM? I know Clang is being developed with a
>>>>> view to ensure GCC "compatibility".
>>>>>
>>>>
>>>> As Brian pointed out, R doesn't care. The only annoying part for me as a Mac binary maintainer is that it means Apple has abandoned the only branch that supported Fortran back-end, so in the future we will not be able to provide native Fortran for Xcode. This has been known for a while and Apple's stance is that they don't care about Fortran, so in some (but not immediate) future we may be back to the mess of mixing compilers.
>>>>
>>>> Note that LLVM and clang don't really have any real benefits for the R users so far. Tests suggest that they make some parts slower and we could not measure any overall benefit (unlike let's say on arm), so people were not rushing to llvm/clang so far. Apple's move to llvm/clang is really based on a political decision, not a technical one. The only benefit I see so far is what Brian mentioned as well that some people will have to realize that gcc is not the standard and can test on other compilers to find their bugs.
>>>>
>>>> Cheers,
>>>> Simon
>>>
>>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Sun Mar 13 23:47:45 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 13 Mar 2011 18:47:45 -0400
Subject: [R-SIG-Mac] GCC v. LLVM
In-Reply-To: <8A8D78EC-0486-4A7D-ADA1-A16BB4D6E70D@noaa.gov>
References: <AANLkTikBHTDwd18Q6B0S5PnZxaUmzcoviFxBWX1SJ3xF@mail.gmail.com>
	<9374453A-1C90-48BD-A560-28D531162BE6@r-project.org>
	<2178263C-BE3D-468C-9F80-A98E54288CFD@me.com>
	<34411E7E-4AA2-4B3E-A093-C2A15E9D7C6F@r-project.org>
	<B1E85DC4-C977-4A9A-9F54-ECAAEDAA3BEC@xs4all.nl>
	<BFBD99F3-549A-4D1A-8F15-18F7F81C7162@me.com>
	<8A8D78EC-0486-4A7D-ADA1-A16BB4D6E70D@noaa.gov>
Message-ID: <A4E9CFF2-4A66-46C9-B187-C47745AE4022@r-project.org>

On Mar 13, 2011, at 4:37 PM, Roy Mendelssohn wrote:

> Support Fink and MacPorts.
> 

No, thanks, those cause more problems than solving anything and don't even support what we are talking about (and are entirely useless for releases). The question here is about Apple, not gcc. You can always build gcc (and in a much better way than Fink/MP) - that's not the point. This is about what Apple bundles with the system -- without compilers they are effectively not providing a unix system to the user, that's why I'm curious about the future. This is entirely a speculation, all currently released systems come with a set of compilers (even Xcode 3 has LLVM and clang).

Cheers,
Simon



> -Roy
> On Mar 13, 2011, at 12:58 PM, Yan Zhou wrote:
> 
>> 
>> 
>> On Mar 13, 2011, at 7:44 PM, Berend Hasselman <bhh at xs4all.nl> wrote:
>> 
>>> 
>>> On 13-03-2011, at 17:27, Simon Urbanek wrote:
>>> 
>>>>> ....
>>>>> What am I missing in your statement above regarding general availability to OSX users?
>>>>> 
>>>> 
>>>> Xcode 3.x is bundled with OS X and anyone can get updates through ADC. Xcode 4 is not, it is available for Mac developer program members only [or those that happen to buy it as you pointed out] and thus no longer available to all OS X users. Hence Xcode 4 is no longer suitable for projects that rely on its availability to all users. It's a really awkward situation -- the benefits in Xcode 4 are really for the developer, not the user, so it makes sense to charge the developer -- but since they don't separate compilers from the GUI it kills the unix feel of OS X for the user. I'm curious how this will shake out (and other recent decisions like dropping Java support).
>>>> 
>>> 
>>> Do I understand this correctly?
>>> So the compilers are integrated completely in Xcode? 
>>> Can the compilers be run from the Terminal in command line mode?
>>> I rely on that.
>>> 
>>> Berend 
>>> 
>>> 
>>> 
>> It can run on terminal as usual. You just need to pay for xcode4 to get it.
>> 
>> I think, or more as I hope, Apple will come out with a solution. R is not the only project relies on the availability of gcc, etc. Even some commercial software, for example intel compilers, relies on gcc and g++, since they don't have standard libraries and use libstdc++ instead. Another example is nvidia cuda. Though I am not familiar with things other than developer tools that rely on gcc/g++, but I am sure there are plenty of them.
>> 
>> Apple cannot say, "hi, you want to use third party software? That's all right, buy ours first!". That just does not make sense at all, though it's more or less kind of the style of apple, sadly.
>> 
>> Yan
>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>>> 
>>>>> Also, are there plans afoot to move to XCode 4.0 for OSX builds of R? 
>>>>> 
>>>> 
>>>> I'm not sure what you mean exactly, but if you mean CRAN binaries then that's not an option because Xcode4 only supports OS X 10.6. As I said, Xcode4 is really pointless from the user's point of view so far, so there is no need to rush. (FWIW R and the GUI does compile with Xcode 4).
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>>> 
>>>>>> 
>>>>>>> From what I
>>>>>>> can tell, Apple will in the future only support Clang/LLVM. For now, I
>>>>>>> believe they are still including the same gcc as with 3.2. But longer
>>>>>>> term, the move seems to be to Clang/LLVM.
>>>>>>> 
>>>>>>> http://developer.apple.com/technologies/tools/whats-new.html
>>>>>>> http://clang.llvm.org/
>>>>>>> 
>>>>>>> Does R build with Clang/LLVM? I know Clang is being developed with a
>>>>>>> view to ensure GCC "compatibility".
>>>>>>> 
>>>>>> 
>>>>>> As Brian pointed out, R doesn't care. The only annoying part for me as a Mac binary maintainer is that it means Apple has abandoned the only branch that supported Fortran back-end, so in the future we will not be able to provide native Fortran for Xcode. This has been known for a while and Apple's stance is that they don't care about Fortran, so in some (but not immediate) future we may be back to the mess of mixing compilers.
>>>>>> 
>>>>>> Note that LLVM and clang don't really have any real benefits for the R users so far. Tests suggest that they make some parts slower and we could not measure any overall benefit (unlike let's say on arm), so people were not rushing to llvm/clang so far. Apple's move to llvm/clang is really based on a political decision, not a technical one. The only benefit I see so far is what Brian mentioned as well that some people will have to realize that gcc is not the standard and can test on other compilers to find their bugs.
>>>>>> 
>>>>>> Cheers,
>>>>>> Simon
>>>>> 
>>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> **********************
> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
> **********************
> Roy Mendelssohn
> Supervisory Operations Research Analyst
> NOAA/NMFS
> Environmental Research Division
> Southwest Fisheries Science Center
> 1352 Lighthouse Avenue
> Pacific Grove, CA 93950-2097
> 
> e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
> voice: (831)-648-9029
> fax: (831)-648-8440
> www: http://www.pfeg.noaa.gov/
> 
> "Old age and treachery will overcome youth and skill."
> "From those who have been given much, much will be expected" 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From anirbanm at smu.edu.sg  Mon Mar 14 02:53:36 2011
From: anirbanm at smu.edu.sg (Anirban Mukherjee)
Date: Mon, 14 Mar 2011 09:53:36 +0800
Subject: [R-SIG-Mac] GCC v. LLVM
In-Reply-To: <A4E9CFF2-4A66-46C9-B187-C47745AE4022@r-project.org>
References: <AANLkTikBHTDwd18Q6B0S5PnZxaUmzcoviFxBWX1SJ3xF@mail.gmail.com>
	<9374453A-1C90-48BD-A560-28D531162BE6@r-project.org>
	<2178263C-BE3D-468C-9F80-A98E54288CFD@me.com>
	<34411E7E-4AA2-4B3E-A093-C2A15E9D7C6F@r-project.org>
	<B1E85DC4-C977-4A9A-9F54-ECAAEDAA3BEC@xs4all.nl>
	<BFBD99F3-549A-4D1A-8F15-18F7F81C7162@me.com>
	<8A8D78EC-0486-4A7D-ADA1-A16BB4D6E70D@noaa.gov>
	<A4E9CFF2-4A66-46C9-B187-C47745AE4022@r-project.org>
Message-ID: <FBA950C9-D0F3-4FE1-A708-DBC85BEDB457@smu.edu.sg>

Hi all,

AFAIK: my best guess is that the $5 price tag is due to the accounting regulations. Non-subscription sales recognize revenue at time of sale. Future upgrades then need to be "sold". I am guessing with Lion, we will see Xcode 4.

I see two main concerns:

a. As Simon brought up, Fortran support is missing from LLVM. Long term that is a problem.

b. gcc 4.2 is getting old, and at some point of time, R and/or "packages" such as Rcpp, will require an updated compiler. I think its anyone's guess as to when that will happen. (I don't want to lump the base distribution of R with the packages, but generally its nice that there is one recognized toolchain across R and all its packages that everyone uses for everything. It would be nice to be able to retain that.)

Guess we will have to wait and see how things evolve. Doesn't sound like anyone wants/needs to preempt a move from gcc. But, at least I suspect, its inevitable.

Best,
Anirban

--
Anirban Mukherjee | Assistant Professor, Marketing 
LKCSB, Singapore Management University
5056 School of Business, 50 Stamford Road
Singapore 178899 | +65-6828-1932


On Mar 14, 2011, at 6:47 AM, Simon Urbanek wrote:

> On Mar 13, 2011, at 4:37 PM, Roy Mendelssohn wrote:
> 
>> Support Fink and MacPorts.
>> 
> 
> No, thanks, those cause more problems than solving anything and don't even support what we are talking about (and are entirely useless for releases). The question here is about Apple, not gcc. You can always build gcc (and in a much better way than Fink/MP) - that's not the point. This is about what Apple bundles with the system -- without compilers they are effectively not providing a unix system to the user, that's why I'm curious about the future. This is entirely a speculation, all currently released systems come with a set of compilers (even Xcode 3 has LLVM and clang).
> 
> Cheers,
> Simon
> 
> 
> 
>> -Roy
>> On Mar 13, 2011, at 12:58 PM, Yan Zhou wrote:
>> 
>>> 
>>> 
>>> On Mar 13, 2011, at 7:44 PM, Berend Hasselman <bhh at xs4all.nl> wrote:
>>> 
>>>> 
>>>> On 13-03-2011, at 17:27, Simon Urbanek wrote:
>>>> 
>>>>>> ....
>>>>>> What am I missing in your statement above regarding general availability to OSX users?
>>>>>> 
>>>>> 
>>>>> Xcode 3.x is bundled with OS X and anyone can get updates through ADC. Xcode 4 is not, it is available for Mac developer program members only [or those that happen to buy it as you pointed out] and thus no longer available to all OS X users. Hence Xcode 4 is no longer suitable for projects that rely on its availability to all users. It's a really awkward situation -- the benefits in Xcode 4 are really for the developer, not the user, so it makes sense to charge the developer -- but since they don't separate compilers from the GUI it kills the unix feel of OS X for the user. I'm curious how this will shake out (and other recent decisions like dropping Java support).
>>>>> 
>>>> 
>>>> Do I understand this correctly?
>>>> So the compilers are integrated completely in Xcode? 
>>>> Can the compilers be run from the Terminal in command line mode?
>>>> I rely on that.
>>>> 
>>>> Berend 
>>>> 
>>>> 
>>>> 
>>> It can run on terminal as usual. You just need to pay for xcode4 to get it.
>>> 
>>> I think, or more as I hope, Apple will come out with a solution. R is not the only project relies on the availability of gcc, etc. Even some commercial software, for example intel compilers, relies on gcc and g++, since they don't have standard libraries and use libstdc++ instead. Another example is nvidia cuda. Though I am not familiar with things other than developer tools that rely on gcc/g++, but I am sure there are plenty of them.
>>> 
>>> Apple cannot say, "hi, you want to use third party software? That's all right, buy ours first!". That just does not make sense at all, though it's more or less kind of the style of apple, sadly.
>>> 
>>> Yan
>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>>> 
>>>>>> Also, are there plans afoot to move to XCode 4.0 for OSX builds of R? 
>>>>>> 
>>>>> 
>>>>> I'm not sure what you mean exactly, but if you mean CRAN binaries then that's not an option because Xcode4 only supports OS X 10.6. As I said, Xcode4 is really pointless from the user's point of view so far, so there is no need to rush. (FWIW R and the GUI does compile with Xcode 4).
>>>>> 
>>>>> Cheers,
>>>>> Simon
>>>>> 
>>>>> 
>>>>>> 
>>>>>>> 
>>>>>>>> From what I
>>>>>>>> can tell, Apple will in the future only support Clang/LLVM. For now, I
>>>>>>>> believe they are still including the same gcc as with 3.2. But longer
>>>>>>>> term, the move seems to be to Clang/LLVM.
>>>>>>>> 
>>>>>>>> http://developer.apple.com/technologies/tools/whats-new.html
>>>>>>>> http://clang.llvm.org/
>>>>>>>> 
>>>>>>>> Does R build with Clang/LLVM? I know Clang is being developed with a
>>>>>>>> view to ensure GCC "compatibility".
>>>>>>>> 
>>>>>>> 
>>>>>>> As Brian pointed out, R doesn't care. The only annoying part for me as a Mac binary maintainer is that it means Apple has abandoned the only branch that supported Fortran back-end, so in the future we will not be able to provide native Fortran for Xcode. This has been known for a while and Apple's stance is that they don't care about Fortran, so in some (but not immediate) future we may be back to the mess of mixing compilers.
>>>>>>> 
>>>>>>> Note that LLVM and clang don't really have any real benefits for the R users so far. Tests suggest that they make some parts slower and we could not measure any overall benefit (unlike let's say on arm), so people were not rushing to llvm/clang so far. Apple's move to llvm/clang is really based on a political decision, not a technical one. The only benefit I see so far is what Brian mentioned as well that some people will have to realize that gcc is not the standard and can test on other compilers to find their bugs.
>>>>>>> 
>>>>>>> Cheers,
>>>>>>> Simon
>>>>>> 
>>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> **********************
>> "The contents of this message do not reflect any position of the U.S. Government or NOAA."
>> **********************
>> Roy Mendelssohn
>> Supervisory Operations Research Analyst
>> NOAA/NMFS
>> Environmental Research Division
>> Southwest Fisheries Science Center
>> 1352 Lighthouse Avenue
>> Pacific Grove, CA 93950-2097
>> 
>> e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
>> voice: (831)-648-9029
>> fax: (831)-648-8440
>> www: http://www.pfeg.noaa.gov/
>> 
>> "Old age and treachery will overcome youth and skill."
>> "From those who have been given much, much will be expected" 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From cgw at witthoft.com  Sat Mar 12 14:32:00 2011
From: cgw at witthoft.com (cgw at witthoft.com)
Date: Sat, 12 Mar 2011 13:32:00 +0000 (GMT)
Subject: [R-SIG-Mac] new editor coming up
References: <mailman.21.1299927606.427.r-sig-mac@r-project.org>
Message-ID: <1860873082.118601.1299936720668.JavaMail.mail@webmail11>

An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20110312/f38d33c9/attachment.html>

From bibiko at eva.mpg.de  Fri Mar 18 10:45:13 2011
From: bibiko at eva.mpg.de (=?iso-8859-1?Q?Hans-J=F6rg_Bibiko?=)
Date: Fri, 18 Mar 2011 10:45:13 +0100
Subject: [R-SIG-Mac] new editor coming up
In-Reply-To: <1860873082.118601.1299936720668.JavaMail.mail@webmail11>
References: <mailman.21.1299927606.427.r-sig-mac@r-project.org>
	<1860873082.118601.1299936720668.JavaMail.mail@webmail11>
Message-ID: <C31E3EDD-73A1-450B-991E-45B4916B8DCC@eva.mpg.de>


On 12 Mar 2011, at 14:32, cgw at witthoft.com wrote:

> Just wondering: I actually like the current editor.   Is the new version a 'superset,' i.e. I won't lose any of the tools or features (auto-indent, bracket matching, etc) of the current editor?  Or will there be any sort of option to use the older vsn?

Please be assured that you won't loose any features you're familiar with. Just the opposite is the case. We fixed several general issues regarding to the entire document handling, we're now using a very fast syntax highlighting approach (lexer) which make it easier to edit larger R scripts, we added a new line numbering approach with the feature to select lines if you click (or/and drag) into the gutter, improved the issue to use different encodings, we added a better code completion (rcompgen), function hints in the status bar now follows the cursor, etc., and in the near future we'll add more features to make it much easier to create/edit/... R code.

Kind regards,
--Hans

**********************************************************
Hans-Joerg Bibiko
Max Planck Institute for Evolutionary Anthropology
Department of Linguistics
Deutscher Platz 6     phone:   +49 (0) 341 3550 341
D-04103 Leipzig       fax:     +49 (0) 341 3550 333
Germany               e-mail:  bibiko[AT]eva.mpg.de


From simon.urbanek at r-project.org  Fri Mar 18 12:16:26 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 18 Mar 2011 07:16:26 -0400
Subject: [R-SIG-Mac] new editor coming up
In-Reply-To: <C31E3EDD-73A1-450B-991E-45B4916B8DCC@eva.mpg.de>
References: <mailman.21.1299927606.427.r-sig-mac@r-project.org>
	<1860873082.118601.1299936720668.JavaMail.mail@webmail11>
	<C31E3EDD-73A1-450B-991E-45B4916B8DCC@eva.mpg.de>
Message-ID: <21EAF64B-2D51-4DA5-9C8E-5B070A7BCC20@r-project.org>

I'd like to add that everyone is highly encouraged to test the 2.13.0 alpha -- available at
http://r.research.att.com/ 
which contains all the changes Hans mentioned (and implemented ;)).

Cheers,
Simon


On Mar 18, 2011, at 5:45 AM, Hans-J?rg Bibiko wrote:

> 
> On 12 Mar 2011, at 14:32, cgw at witthoft.com wrote:
> 
>> Just wondering: I actually like the current editor.   Is the new version a 'superset,' i.e. I won't lose any of the tools or features (auto-indent, bracket matching, etc) of the current editor?  Or will there be any sort of option to use the older vsn?
> 
> Please be assured that you won't loose any features you're familiar with. Just the opposite is the case. We fixed several general issues regarding to the entire document handling, we're now using a very fast syntax highlighting approach (lexer) which make it easier to edit larger R scripts, we added a new line numbering approach with the feature to select lines if you click (or/and drag) into the gutter, improved the issue to use different encodings, we added a better code completion (rcompgen), function hints in the status bar now follows the cursor, etc., and in the near future we'll add more features to make it much easier to create/edit/... R code.
> 
> Kind regards,
> --Hans
> 
> **********************************************************
> Hans-Joerg Bibiko
> Max Planck Institute for Evolutionary Anthropology
> Department of Linguistics
> Deutscher Platz 6     phone:   +49 (0) 341 3550 341
> D-04103 Leipzig       fax:     +49 (0) 341 3550 333
> Germany               e-mail:  bibiko[AT]eva.mpg.de
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From ken.knoblauch at inserm.fr  Fri Mar 18 18:22:55 2011
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Fri, 18 Mar 2011 17:22:55 +0000
Subject: [R-SIG-Mac] GCC v. LLVM
References: <AANLkTikBHTDwd18Q6B0S5PnZxaUmzcoviFxBWX1SJ3xF@mail.gmail.com>
Message-ID: <loom.20110318T181919-483@post.gmane.org>

Anirban Mukherjee <anirban.mukherjee <at> gmail.com> writes:

> 
> Folks,
> 
> I was wondering what the forward plans are for R on Mac vis-a-vis
> apple-gcc/Clang. Xcode 4 was just released with LLVM 2.x. From what I
> can tell, Apple will in the future only support Clang/LLVM. For now, I
> believe they are still including the same gcc as with 3.2. But longer
> term, the move seems to be to Clang/LLVM.
> 
> http://developer.apple.com/technologies/tools/whats-new.html
> http://clang.llvm.org/
> 
> Does R build with Clang/LLVM? I know Clang is being developed with a
> view to ensure GCC "compatibility".
> 
> Best,
> Anirban
> 
Just saw the following post on Mac OS X hints entitled:

Restoring PPC, SDK 10.4/10.5 and GCC 4.0 Support to Xcode4 

http://hints.macworld.com/article.php?story=20110318050811544

According to the author, this already appeared on Stack Overflow so
perhaps many have already seen it.  

Is it a method to be recommended?

-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From simon.urbanek at r-project.org  Fri Mar 18 20:40:32 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 18 Mar 2011 15:40:32 -0400
Subject: [R-SIG-Mac] GCC v. LLVM
In-Reply-To: <loom.20110318T181919-483@post.gmane.org>
References: <AANLkTikBHTDwd18Q6B0S5PnZxaUmzcoviFxBWX1SJ3xF@mail.gmail.com>
	<loom.20110318T181919-483@post.gmane.org>
Message-ID: <9AF42B0F-6AF5-4D87-A927-222ED4E7B9E7@r-project.org>


On Mar 18, 2011, at 1:22 PM, Ken Knoblauch wrote:

> Anirban Mukherjee <anirban.mukherjee <at> gmail.com> writes:
> 
>> 
>> Folks,
>> 
>> I was wondering what the forward plans are for R on Mac vis-a-vis
>> apple-gcc/Clang. Xcode 4 was just released with LLVM 2.x. From what I
>> can tell, Apple will in the future only support Clang/LLVM. For now, I
>> believe they are still including the same gcc as with 3.2. But longer
>> term, the move seems to be to Clang/LLVM.
>> 
>> http://developer.apple.com/technologies/tools/whats-new.html
>> http://clang.llvm.org/
>> 
>> Does R build with Clang/LLVM? I know Clang is being developed with a
>> view to ensure GCC "compatibility".
>> 
>> Best,
>> Anirban
>> 
> Just saw the following post on Mac OS X hints entitled:
> 
> Restoring PPC, SDK 10.4/10.5 and GCC 4.0 Support to Xcode4 
> 
> http://hints.macworld.com/article.php?story=20110318050811544
> 
> According to the author, this already appeared on Stack Overflow so
> perhaps many have already seen it.  
> 
> Is it a method to be recommended?
> 

You can always use older SDKs, that has been true for both Mac OS X and iOS - I don't have an issue with that (it's especially useful in the iOS world ;)).

However, hacking Xcode4 to accept the old compilers sounds little radical to me (we don't use gcc4.0 and don't plan to support 10.4 anyway so it is not needed for R). It's definitely not something I would recommend for the casual user. But then, a casual used has no need for it, so it all sounds very hypothetical to me ;).

Cheers,
Simon


From pbosetti at stanford.edu  Fri Mar 18 18:48:10 2011
From: pbosetti at stanford.edu (Paolo Bosetti)
Date: Fri, 18 Mar 2011 10:48:10 -0700
Subject: [R-SIG-Mac]  Minor bug on R.app document window
Message-ID: <B4F6D845-BE0A-43F7-9E0C-4438382991CD@stanford.edu>

Dear Simon,
first of all thanks for your effort in providing the community with a very good GUI for R.
I only wanted bringing to your attention a very minor bug that affects the document window in R.app: when you resize it, the textarea does not scale accordingly with the rest of the window, nor does the line that bounds it on the bottom. 
I had a look at the source, and I found that actually the RDocument.nib has some missing settings on autoresize in the main textview, in the bottom textarea, and in the horizontal line. Three clicks on the appropriate "springs" and bars on the size inspector will fix it.
Thanks again,
Paolo


_______________________________________
Paolo Bosetti
Department of Mechanical and Structural Engineering 
University of Trento

Visiting professor at Stanford University
W.W. Hansen Laboratory Room #225
452 Lomita Mall
Stanford, CA 94305-4085
phone +1(650) 723-3388
fax +1 (650) 723-0062
email pbosetti at stanford.edu


From simon.urbanek at r-project.org  Sun Mar 20 16:25:25 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 20 Mar 2011 11:25:25 -0400
Subject: [R-SIG-Mac] Minor bug on R.app document window
In-Reply-To: <B4F6D845-BE0A-43F7-9E0C-4438382991CD@stanford.edu>
References: <B4F6D845-BE0A-43F7-9E0C-4438382991CD@stanford.edu>
Message-ID: <5495B763-9DF2-4477-9425-B4D3CF3B0908@r-project.org>

Paolo,

On Mar 18, 2011, at 1:48 PM, Paolo Bosetti wrote:

> Dear Simon,
> first of all thanks for your effort in providing the community with a very good GUI for R.
> I only wanted bringing to your attention a very minor bug that affects the document window in R.app: when you resize it, the textarea does not scale accordingly with the rest of the window, nor does the line that bounds it on the bottom. 
> I had a look at the source, and I found that actually the RDocument.nib has some missing settings on autoresize in the main textview, in the bottom textarea, and in the horizontal line. Three clicks on the appropriate "springs" and bars on the size inspector will fix it.

Can you, please, provide the exact version of R and GUI you're using? We don't use NIBs anymore so you must be looking at some older version. Also what exactly do you mean by "textarea"? The closest I can think of is the status line ("Status Line" and "Background for Status Line") at the bottom in RDocument.xib and both are set to expand horizontally.

Thanks,
Simon


From tlightcap at lagrange.edu  Sun Mar 20 20:49:04 2011
From: tlightcap at lagrange.edu (Tracy Lightcap)
Date: Sun, 20 Mar 2011 15:49:04 -0400
Subject: [R-SIG-Mac] Here's what Steve said
References: <7C0FC451-591B-4902-81A7-C1208438153B@apple.com>
Message-ID: <2F2C1DA2-B607-4B9D-852E-59E2E5CBE5DC@lagrange.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20110320/01ee081e/attachment.pl>

From bhh at xs4all.nl  Sun Mar 20 21:18:12 2011
From: bhh at xs4all.nl (Berend Hasselman)
Date: Sun, 20 Mar 2011 21:18:12 +0100
Subject: [R-SIG-Mac] Here's what Steve said
In-Reply-To: <2F2C1DA2-B607-4B9D-852E-59E2E5CBE5DC@lagrange.edu>
References: <7C0FC451-591B-4902-81A7-C1208438153B@apple.com>
	<2F2C1DA2-B607-4B9D-852E-59E2E5CBE5DC@lagrange.edu>
Message-ID: <B4D10B01-4BA9-4A3F-B296-C4EC9702ECEA@xs4all.nl>


On 20-03-2011, at 20:49, Tracy Lightcap wrote:

> Simon:
> 
> I sent part of your post to Steve Jobs and he wrote back (!). Here's  
> what he said. Is he still dancing around the issue about gfortran?
> 

I would say yes.
Can Apple guarantee that Intel Fortran and Apple's C compiler coexist and cooperate flawlessly?
Anyone using R on the Mac and wishing to compile R and/or develop packages with some Fortran would have to get the Intel Fortran compiler according to Job's recommendation. If I'm correct, Intel's compiler are not cheap. Most of us wouldn't want to spend that kind of money.

If and when a transition is necessary, then we'll just have to hope that Simon finds a way of making gfortran usable in the new setup.

As long as we can use Xcode 3, there shouldn't be a problem.

To be honest, I don't think Apple really cares about things such as R.
The ultimate alternative would be to ditch Mac OS X and change to something else.

Apologies for the rant but I really do feel that Apple is behaving stupidly and shortsightedly in this case.

Berend

> Tracy
> 
> Begin forwarded message:
> 
>> From: Steve Jobs <sjobs at apple.com>
>> Date: March 20, 2011 3:29:01 PM EDT
>> To: "tlightcap at lagrange.edu" <tlightcap at lagrange.edu>
>> Subject: Fwd: R and your stance on Fortran
>> 
>> 
>>> 
>>> Xcode 4 (and our general evolution away from gcc to clang/LLVM)  
>>> does not change the availability of Fortran (or the R programming  
>>> language) on the Mac.  GNU will continue to distribute GCC (and  
>>> gfortran) for the Mac and code generated by that compiler will  
>>> continue to integrate with code built with our modern clang/LLVM  
>>> tools.  (As an aside, our recommended solution for Fortran on the  
>>> Mac has long been the Intel Fortran compiler -- it generates much  
>>> better performing code than GCC's Fortran).
>>> 
>>>> 
>>>> 
>>>> Sent from my iPad
>>>> 
>>>> Begin forwarded message:
>>>> 
>>>>> Resent-From: sjobs at apple.com
>>>>> From: Tracy Lightcap <tlightcap at lagrange.edu>
>>>>> Date: March 17, 2011 9:38:32 AM PDT
>>>>> Resent-To: steve+sjobs2 at apple.com
>>>>> To: steve at apple.com
>>>>> Subject: R and your stance on Fortran
>>>>> 
>>>>> Steve:
>>>>> 
>>>>> I use R as my main stats engine, as do a lot of Mac users;  
>>>>> there's even a list serv for Mac R users. Now I read this in one  
>>>>> of the posts there:
>>>>> 
>>>>> As Brian (Ripley, professor of applied statistics, Oxford)  
>>>>> pointed out, R doesn't care. The only annoying part for me as a  
>>>>> Mac binary maintainer is that it means Apple has abandoned the  
>>>>> only branch that supported Fortran back-end, so in the future we  
>>>>> will not be able to provide native Fortran for Xcode. This has  
>>>>> been known for a while and Apple's stance is that they don't care  
>>>>> about Fortran, so in some (but not immediate) future we may be  
>>>>> back to the mess of mixing compilers.
>>>>> 
>>>>> Note that LLVM and clang don't really have any real benefits for  
>>>>> the R users so far. Tests suggest that they make some parts  
>>>>> slower and we could not measure any overall benefit (unlike let's  
>>>>> say on arm), so people were not rushing to llvm/clang so far.  
>>>>> Apple's move to llvm/clang is really based on a political  
>>>>> decision, not a technical one. The only benefit I see so far is  
>>>>> what Brian mentioned as well that some people will have to  
>>>>> realize that gcc is not the standard and can test on other  
>>>>> compilers to find their bugs.
>>>>> 
>>>>> Cheers,
>>>>> Simon (Urbanek, statistics research, AT&T Labs)
>>>>> 
>>>>> Is it really true that Apple, a company that is alive today  
>>>>> largely due to its inroads in education, is willing to put the  
>>>>> distribution of the most rapidly growing statistics engine used  
>>>>> by academics in jeopardy because "? Apple's stance is that they  
>>>>> don't care about Fortran ?"? R has recently been adopted as the  
>>>>> official language by the Interuniversity Consortium for Political  
>>>>> and Social Research at the University of Michigan, the biggest  
>>>>> trainer of social science grad students in the country. It is  
>>>>> being adopted by universities and colleges, governments, and  
>>>>> research institutions at a staggering pace (the price is right,  
>>>>> you know). That the use of this extremely useful and powerful  
>>>>> application on the Macs in education should be put at risk by a  
>>>>> simple reluctance to not accommodate Fortran is not just unwise;  
>>>>> it's just plain silly.
>>>>> 
>>>>> Is Simon right? If he is, fix it. Now.
>>>>> 
>>>>> Tracy Lightcap
>>>>> Professor and Chair
>>>>> Department of Political Science
>>>>> LaGrange College
>>>>> 601 Broad St.
>>>>> LaGrange  GA  30240-2999
>>>>> (O) tlightcap at lagrange.edu (H) altlamp at mindspring.com
>>>>> 706.880.8226
>>>>> www.lagrange.edu/academics/political-science/faculty/tlightcap.aspx
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>>>> 
>>> 
> 
> Tracy Lightcap
> Professor and Chair
> Department of Political Science
> LaGrange College
> 601 Broad St.
> LaGrange  GA  30240-2999
> (O) tlightcap at lagrange.edu (H) altlamp at mindspring.com
> 706.880.8226
> www.lagrange.edu/academics/political-science/faculty/tlightcap.aspx
> 
> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ripley at stats.ox.ac.uk  Mon Mar 21 14:19:19 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 21 Mar 2011 13:19:19 +0000
Subject: [R-SIG-Mac] Here's what Steve said
In-Reply-To: <B4D10B01-4BA9-4A3F-B296-C4EC9702ECEA@xs4all.nl>
References: <7C0FC451-591B-4902-81A7-C1208438153B@apple.com>
	<2F2C1DA2-B607-4B9D-852E-59E2E5CBE5DC@lagrange.edu>
	<B4D10B01-4BA9-4A3F-B296-C4EC9702ECEA@xs4all.nl>
Message-ID: <alpine.LFD.2.02.1103211248470.16000@gannet.stats.ox.ac.uk>

On Sun, 20 Mar 2011, Berend Hasselman wrote:

>
> On 20-03-2011, at 20:49, Tracy Lightcap wrote:
>
>> Simon:
>>
>> I sent part of your post to Steve Jobs and he wrote back (!). Here's
>> what he said. Is he still dancing around the issue about gfortran?
>>
>
> I would say yes.
> Can Apple guarantee that Intel Fortran and Apple's C compiler coexist and cooperate flawlessly?
> Anyone using R on the Mac and wishing to compile R and/or develop packages with some Fortran would have to get the Intel Fortran compiler according to Job's recommendation. If I'm correct, Intel's compiler are not cheap. Most of us wouldn't want to spend that kind of money.
>
> If and when a transition is necessary, then we'll just have to hope that Simon finds a way of making gfortran usable in the new setup.
>
> As long as we can use Xcode 3, there shouldn't be a problem.
>
> To be honest, I don't think Apple really cares about things such as R.

> The ultimate alternative would be to ditch Mac OS X and change to 
> something else.

I don't think that is necessary.  Provided you have a reasonable C 
compiler to start from, you can always build and install your own GNU 
toolchain and build R with that.  And that is what fink, MacPorts, ... 
do, as I understand it.  Simon rightly warns that they give you other 
things you do not want, but that's not stopping a simple solution.

There are two relevant things which I know of which are special to the 
Apple toolchain.

1) Support (or level of support) for Objective C(++).  That's not an 
issue for R nor for any of the packages: it is for R.app.  However, 
the latter is compiled separately and 'should' link to a libR.dylib 
compiled under a non-Apple toolchain.

2) The ability to make 'fat binaries' by things like

gcc -arch i386 -arch x86_64

and more generally to select the architecture in this way.  However, 
we hardly use fat binaries in R (only Rscript, AFAIR) and once ppc is 
no longer supported, the standard -m32 and -m64 flags will work with 
the standard GCC toolchain.

I would be staggered if the task of producing a suitable toolchain for 
Mac OS X was 50% of the work needed for Windows.  But of course 
someone would need to be prepared to do it, and I suspect that the 
volume of Mac users of R is less than 10% of that for Windows.

>
> Apologies for the rant but I really do feel that Apple is behaving stupidly and shortsightedly in this case.
>
> Berend
>
>> Tracy
>>
>> Begin forwarded message:
>>
>>> From: Steve Jobs <sjobs at apple.com>
>>> Date: March 20, 2011 3:29:01 PM EDT
>>> To: "tlightcap at lagrange.edu" <tlightcap at lagrange.edu>
>>> Subject: Fwd: R and your stance on Fortran
>>>
>>>
>>>>
>>>> Xcode 4 (and our general evolution away from gcc to clang/LLVM)
>>>> does not change the availability of Fortran (or the R programming
>>>> language) on the Mac.  GNU will continue to distribute GCC (and
>>>> gfortran) for the Mac and code generated by that compiler will
>>>> continue to integrate with code built with our modern clang/LLVM
>>>> tools.  (As an aside, our recommended solution for Fortran on the
>>>> Mac has long been the Intel Fortran compiler -- it generates much
>>>> better performing code than GCC's Fortran).
>>>>
>>>>>
>>>>>
>>>>> Sent from my iPad
>>>>>
>>>>> Begin forwarded message:
>>>>>
>>>>>> Resent-From: sjobs at apple.com
>>>>>> From: Tracy Lightcap <tlightcap at lagrange.edu>
>>>>>> Date: March 17, 2011 9:38:32 AM PDT
>>>>>> Resent-To: steve+sjobs2 at apple.com
>>>>>> To: steve at apple.com
>>>>>> Subject: R and your stance on Fortran
>>>>>>
>>>>>> Steve:
>>>>>>
>>>>>> I use R as my main stats engine, as do a lot of Mac users;
>>>>>> there's even a list serv for Mac R users. Now I read this in one
>>>>>> of the posts there:
>>>>>>
>>>>>> As Brian (Ripley, professor of applied statistics, Oxford)
>>>>>> pointed out, R doesn't care. The only annoying part for me as a
>>>>>> Mac binary maintainer is that it means Apple has abandoned the
>>>>>> only branch that supported Fortran back-end, so in the future we
>>>>>> will not be able to provide native Fortran for Xcode. This has
>>>>>> been known for a while and Apple's stance is that they don't care
>>>>>> about Fortran, so in some (but not immediate) future we may be
>>>>>> back to the mess of mixing compilers.
>>>>>>
>>>>>> Note that LLVM and clang don't really have any real benefits for
>>>>>> the R users so far. Tests suggest that they make some parts
>>>>>> slower and we could not measure any overall benefit (unlike let's
>>>>>> say on arm), so people were not rushing to llvm/clang so far.
>>>>>> Apple's move to llvm/clang is really based on a political
>>>>>> decision, not a technical one. The only benefit I see so far is
>>>>>> what Brian mentioned as well that some people will have to
>>>>>> realize that gcc is not the standard and can test on other
>>>>>> compilers to find their bugs.
>>>>>>
>>>>>> Cheers,
>>>>>> Simon (Urbanek, statistics research, AT&T Labs)
>>>>>>
>>>>>> Is it really true that Apple, a company that is alive today
>>>>>> largely due to its inroads in education, is willing to put the
>>>>>> distribution of the most rapidly growing statistics engine used
>>>>>> by academics in jeopardy because "? Apple's stance is that they
>>>>>> don't care about Fortran ?"? R has recently been adopted as the
>>>>>> official language by the Interuniversity Consortium for Political
>>>>>> and Social Research at the University of Michigan, the biggest
>>>>>> trainer of social science grad students in the country. It is
>>>>>> being adopted by universities and colleges, governments, and
>>>>>> research institutions at a staggering pace (the price is right,
>>>>>> you know). That the use of this extremely useful and powerful
>>>>>> application on the Macs in education should be put at risk by a
>>>>>> simple reluctance to not accommodate Fortran is not just unwise;
>>>>>> it's just plain silly.
>>>>>>
>>>>>> Is Simon right? If he is, fix it. Now.
>>>>>>
>>>>>> Tracy Lightcap
>>>>>> Professor and Chair
>>>>>> Department of Political Science
>>>>>> LaGrange College
>>>>>> 601 Broad St.
>>>>>> LaGrange  GA  30240-2999
>>>>>> (O) tlightcap at lagrange.edu (H) altlamp at mindspring.com
>>>>>> 706.880.8226
>>>>>> www.lagrange.edu/academics/political-science/faculty/tlightcap.aspx
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>
>>
>> Tracy Lightcap
>> Professor and Chair
>> Department of Political Science
>> LaGrange College
>> 601 Broad St.
>> LaGrange  GA  30240-2999
>> (O) tlightcap at lagrange.edu (H) altlamp at mindspring.com
>> 706.880.8226
>> www.lagrange.edu/academics/political-science/faculty/tlightcap.aspx
>>
>>
>>
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From simon.urbanek at r-project.org  Mon Mar 21 16:17:28 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 21 Mar 2011 11:17:28 -0400
Subject: [R-SIG-Mac] Here's what Steve said
In-Reply-To: <alpine.LFD.2.02.1103211248470.16000@gannet.stats.ox.ac.uk>
References: <7C0FC451-591B-4902-81A7-C1208438153B@apple.com>
	<2F2C1DA2-B607-4B9D-852E-59E2E5CBE5DC@lagrange.edu>
	<B4D10B01-4BA9-4A3F-B296-C4EC9702ECEA@xs4all.nl>
	<alpine.LFD.2.02.1103211248470.16000@gannet.stats.ox.ac.uk>
Message-ID: <A70A9BA5-CAAB-4C43-BFEC-29769345D03E@r-project.org>

On Mar 21, 2011, at 9:19 AM, Prof Brian Ripley wrote:

> On Sun, 20 Mar 2011, Berend Hasselman wrote:
> 
>> 
>> On 20-03-2011, at 20:49, Tracy Lightcap wrote:
>> 
>>> Simon:
>>> 
>>> I sent part of your post to Steve Jobs and he wrote back (!). Here's
>>> what he said. Is he still dancing around the issue about gfortran?
>>> 
>> 
>> I would say yes.
>> Can Apple guarantee that Intel Fortran and Apple's C compiler coexist and cooperate flawlessly?
>> Anyone using R on the Mac and wishing to compile R and/or develop packages with some Fortran would have to get the Intel Fortran compiler according to Job's recommendation. If I'm correct, Intel's compiler are not cheap. Most of us wouldn't want to spend that kind of money.
>> 
>> If and when a transition is necessary, then we'll just have to hope that Simon finds a way of making gfortran usable in the new setup.
>> 
>> As long as we can use Xcode 3, there shouldn't be a problem.
>> 
>> To be honest, I don't think Apple really cares about things such as R.
> 
>> The ultimate alternative would be to ditch Mac OS X and change to something else.
> 
> I don't think that is necessary.  Provided you have a reasonable C compiler to start from, you can always build and install your own GNU toolchain and build R with that.  And that is what fink, MacPorts, ... do, as I understand it.  Simon rightly warns that they give you other things you do not want, but that's not stopping a simple solution.
> 

I'm more worried about the things they break ;). Fink and MacPorts software does not inter-operate well with anything outside and the quality of the ports is dubious (and new OS support lags quite a bit).

But this is mostly irrelevant to the compilers - we have had a setup to use GNU build of gfortran before (including the use of Apple's drivers to support Apple-style flags like -arch). The real issue is the mess with run-rime libraries, for example. We can't use static libraries because we load multiple shared objects into one binary, so the implication is that there will be different dylib versions around (system, GNU compiler etc.) - causing potential trouble.
 

> There are two relevant things which I know of which are special to the Apple toolchain.
> 
> 1) Support (or level of support) for Objective C(++).  That's not an issue for R nor for any of the packages: it is for R.app.  However, the latter is compiled separately and 'should' link to a libR.dylib compiled under a non-Apple toolchain.
> 

Quartz Cocoa back-end in R is objective C, but that should still be inter-operable. R.app can be compiled with clang and linked to R regardless of the way R was compiled.


> 2) The ability to make 'fat binaries' by things like
> 
> gcc -arch i386 -arch x86_64
> 
> and more generally to select the architecture in this way.  However, we hardly use fat binaries in R (only Rscript, AFAIR) and once ppc is no longer supported, the standard -m32 and -m64 flags will work with the standard GCC toolchain.
> 

This is just a matter of the compiler driver by Apple which selects the proper compiler/cross-compiler, adds -m32 or -m64 and uses lipo to create the final result. We can use that driver even with GNU gcc.


> I would be staggered if the task of producing a suitable toolchain for Mac OS X was 50% of the work needed for Windows.  But of course someone would need to be prepared to do it, and I suspect that the volume of Mac users of R is less than 10% of that for Windows.
> 

The situation is not unlike on Windows -- so far we were able to re-use the canonical tools for the OS, but that may not longer be possible. Maintaining tools outside of the canonical OS tools is always possible, but increases the risk of incompatibilities. This is especially true for external parts (libraries) that we do not supply - they are currently built with Apple's tools so it's fairly safe to use them. If we have to switch to a different toolset, it may lead to issues.

The bottom line is that there are options, we just can't rely on the canonical OS tools anymore. Before Apple's gcc 4.2 branch we did not have native (Xcode) Fortran and there were constantly some issues. Then gcc 4.2 came along and we had a fairly smooth sailing so far. So it just means more work for me, that's all ;).

Cheers,
Simon

BTW: GNU doesn't make things easier, either. Most rect GCCs rely on very weird dependencies that are not exactly written in a portable way and a pain to compile...


>> 
>> Apologies for the rant but I really do feel that Apple is behaving stupidly and shortsightedly in this case.
>> 
>> Berend
>> 
>>> Tracy
>>> 
>>> Begin forwarded message:
>>> 
>>>> From: Steve Jobs <sjobs at apple.com>
>>>> Date: March 20, 2011 3:29:01 PM EDT
>>>> To: "tlightcap at lagrange.edu" <tlightcap at lagrange.edu>
>>>> Subject: Fwd: R and your stance on Fortran
>>>> 
>>>> 
>>>>> 
>>>>> Xcode 4 (and our general evolution away from gcc to clang/LLVM)
>>>>> does not change the availability of Fortran (or the R programming
>>>>> language) on the Mac.  GNU will continue to distribute GCC (and
>>>>> gfortran) for the Mac and code generated by that compiler will
>>>>> continue to integrate with code built with our modern clang/LLVM
>>>>> tools.  (As an aside, our recommended solution for Fortran on the
>>>>> Mac has long been the Intel Fortran compiler -- it generates much
>>>>> better performing code than GCC's Fortran).
>>>>> 
>>>>>> 
>>>>>> 
>>>>>> Sent from my iPad
>>>>>> 
>>>>>> Begin forwarded message:
>>>>>> 
>>>>>>> Resent-From: sjobs at apple.com
>>>>>>> From: Tracy Lightcap <tlightcap at lagrange.edu>
>>>>>>> Date: March 17, 2011 9:38:32 AM PDT
>>>>>>> Resent-To: steve+sjobs2 at apple.com
>>>>>>> To: steve at apple.com
>>>>>>> Subject: R and your stance on Fortran
>>>>>>> 
>>>>>>> Steve:
>>>>>>> 
>>>>>>> I use R as my main stats engine, as do a lot of Mac users;
>>>>>>> there's even a list serv for Mac R users. Now I read this in one
>>>>>>> of the posts there:
>>>>>>> 
>>>>>>> As Brian (Ripley, professor of applied statistics, Oxford)
>>>>>>> pointed out, R doesn't care. The only annoying part for me as a
>>>>>>> Mac binary maintainer is that it means Apple has abandoned the
>>>>>>> only branch that supported Fortran back-end, so in the future we
>>>>>>> will not be able to provide native Fortran for Xcode. This has
>>>>>>> been known for a while and Apple's stance is that they don't care
>>>>>>> about Fortran, so in some (but not immediate) future we may be
>>>>>>> back to the mess of mixing compilers.
>>>>>>> 
>>>>>>> Note that LLVM and clang don't really have any real benefits for
>>>>>>> the R users so far. Tests suggest that they make some parts
>>>>>>> slower and we could not measure any overall benefit (unlike let's
>>>>>>> say on arm), so people were not rushing to llvm/clang so far.
>>>>>>> Apple's move to llvm/clang is really based on a political
>>>>>>> decision, not a technical one. The only benefit I see so far is
>>>>>>> what Brian mentioned as well that some people will have to
>>>>>>> realize that gcc is not the standard and can test on other
>>>>>>> compilers to find their bugs.
>>>>>>> 
>>>>>>> Cheers,
>>>>>>> Simon (Urbanek, statistics research, AT&T Labs)
>>>>>>> 
>>>>>>> Is it really true that Apple, a company that is alive today
>>>>>>> largely due to its inroads in education, is willing to put the
>>>>>>> distribution of the most rapidly growing statistics engine used
>>>>>>> by academics in jeopardy because "? Apple's stance is that they
>>>>>>> don't care about Fortran ?"? R has recently been adopted as the
>>>>>>> official language by the Interuniversity Consortium for Political
>>>>>>> and Social Research at the University of Michigan, the biggest
>>>>>>> trainer of social science grad students in the country. It is
>>>>>>> being adopted by universities and colleges, governments, and
>>>>>>> research institutions at a staggering pace (the price is right,
>>>>>>> you know). That the use of this extremely useful and powerful
>>>>>>> application on the Macs in education should be put at risk by a
>>>>>>> simple reluctance to not accommodate Fortran is not just unwise;
>>>>>>> it's just plain silly.
>>>>>>> 
>>>>>>> Is Simon right? If he is, fix it. Now.
>>>>>>> 
>>>>>>> Tracy Lightcap
>>>>>>> Professor and Chair
>>>>>>> Department of Political Science
>>>>>>> LaGrange College
>>>>>>> 601 Broad St.
>>>>>>> LaGrange  GA  30240-2999
>>>>>>> (O) tlightcap at lagrange.edu (H) altlamp at mindspring.com
>>>>>>> 706.880.8226
>>>>>>> www.lagrange.edu/academics/political-science/faculty/tlightcap.aspx
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>> 
>>> 
>>> Tracy Lightcap
>>> Professor and Chair
>>> Department of Political Science
>>> LaGrange College
>>> 601 Broad St.
>>> LaGrange  GA  30240-2999
>>> (O) tlightcap at lagrange.edu (H) altlamp at mindspring.com
>>> 706.880.8226
>>> www.lagrange.edu/academics/political-science/faculty/tlightcap.aspx
>>> 
>>> 
>>> 
>>> 
>>> 	[[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595_______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From rsigmac at sticksoftware.com  Mon Mar 21 18:01:16 2011
From: rsigmac at sticksoftware.com (Ben Haller)
Date: Mon, 21 Mar 2011 13:01:16 -0400
Subject: [R-SIG-Mac] Fighting with lattice output to files
Message-ID: <6D227118-7FCF-4171-BE27-2652E443FEFF@sticksoftware.com>

  Hi all.  I'm trying to use lattice to make some plots with wireframe().  Ultimately I want to output these plots to PDF files, but I can't get that to work.  I'm battling a number of issues.  Note the problem is not the lack of a print() call, I'm aware of that issue.  :->  I'm posting here because I imagine that the graphics device issues I am seeing are platform-specific.

1. Using device "jpeg" uses awful-looking results, apparently rendered with X11.  This is a bit odd, as when I was last doing this sort of thing, I seem to recall very similar code (which I copied and pasted from where it was) producing nice-looking images that were not rendered with X11.  Did the implementation of the jpeg device on Mac change?

2. Using the device "quartz" (not to file, just trying to use it to go to screen) produces errors:

Mon Mar 21 12:41:40 darwin.local R[25609] <Error>: kCGErrorRangeCheck: CGSNewWindowWithOpaqueShape: Cannot create window
Mon Mar 21 12:41:40 darwin.local R[25609] <Error>: kCGErrorFailure: Set a breakpoint @ CGErrorBreakpoint() to catch errors as they are logged.

  This happens quite reproducibly (just do "trellis.device(device="quartz", width=640, height=640)" in the R console, in fact).  I don't know whether lattice is supposed to be compatible with the quartz device or not, but it certainly doesn't seem to be.  And this error hoses R so thoroughly that you have to quit and restart it, as far as I can tell, which makes it a bit annoying; don't say I didn't warn you :->.

3. Using the device "pdf" produces pdf files that have the correct graphics, but have no text (axis labels, tick labels).  This is true whether I try to explicitly specify the font (fontfamily="Times" or fontfamily="HersheySans") or do not specify any font.

4. Using no device at all (i.e. no call to trellis.device, just printing my wireframe object) gives me lovely-looking output, but in a window, of course, not a file.  This is a bit of a head-scratcher since trying to use device "quartz" produces errors; what device is lattice using, then, if not quartz?  Anyhow, trying to pass file settings (device and filename) to wireframe() in par.settings seems to get ignored, as far as I can tell, so I can't build on this success to generate the files I want.

  I've been googling and reading for an hour now, and can't seem to find any info on this, nor any sample code showing how to get trellis output to a pdf file (not any sample code that looks substantially different from the approach I'm taking, that is).  So I'm rather at my wits end.  Anybody?  Can someone please post working sample code for trellis output to PDF that works on the current Mac build of R, at a minimum, and then maybe I can figure this out for myself?

  My full code is too hairy to post here, I think, but the nutshell is:

plotFishyWireframe <- function(...)
{
	...stuff...
	wf_obj <- wireframe(t(zValues), xlab=xlab, ylab=ylab, zlab=zlab, scales=scales, zlim=zlim, main=list(label=plotTitle, cex=1.5), drape=TRUE, at=zcuts, col.regions=zcolors, colorkey=TRUE, screen=screen, perspective=perspective, par.settings=theme)
	print(wf_obj)
}

...stuff...

trellis.device(device="pdf", file="foo.pdf", width=640, height=640)
plotFishyWireframe(...)
dev.off()

  Thanks in advance!

Ben Haller
McGill University


From simon.urbanek at r-project.org  Mon Mar 21 18:24:04 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 21 Mar 2011 13:24:04 -0400
Subject: [R-SIG-Mac] Fighting with lattice output to files
In-Reply-To: <6D227118-7FCF-4171-BE27-2652E443FEFF@sticksoftware.com>
References: <6D227118-7FCF-4171-BE27-2652E443FEFF@sticksoftware.com>
Message-ID: <66C39AD1-F635-430A-BBBD-F37901F4B1AF@r-project.org>

Ben,

On Mar 21, 2011, at 1:01 PM, Ben Haller wrote:

>  Hi all.  I'm trying to use lattice to make some plots with wireframe().  Ultimately I want to output these plots to PDF files, but I can't get that to work.  I'm battling a number of issues.  Note the problem is not the lack of a print() call, I'm aware of that issue.  :->  I'm posting here because I imagine that the graphics device issues I am seeing are platform-specific.
> 
> 1. Using device "jpeg" uses awful-looking results, apparently rendered with X11.  This is a bit odd, as when I was last doing this sort of thing, I seem to recall very similar code (which I copied and pasted from where it was) producing nice-looking images that were not rendered with X11.  Did the implementation of the jpeg device on Mac change?
> 

jpeg() does what you tell it to - see the type argument to pick the appropriate back-end.


> 2. Using the device "quartz" (not to file, just trying to use it to go to screen) produces errors:
> 
> Mon Mar 21 12:41:40 darwin.local R[25609] <Error>: kCGErrorRangeCheck: CGSNewWindowWithOpaqueShape: Cannot create window
> Mon Mar 21 12:41:40 darwin.local R[25609] <Error>: kCGErrorFailure: Set a breakpoint @ CGErrorBreakpoint() to catch errors as they are logged.
> 
>  This happens quite reproducibly (just do "trellis.device(device="quartz", width=640, height=640)" in the R console, in fact).

Well, you're asking for a device size of 17.8 yards x 17.8 yards (width/height is in inches!) - I want to see the screen that can handle that ;). But, it should not crash, admittedly, so I'll add a check to avoid crash on such user errors.


>  I don't know whether lattice is supposed to be compatible with the quartz device or not, but it certainly doesn't seem to be.  And this error hoses R so thoroughly that you have to quit and restart it, as far as I can tell, which makes it a bit annoying; don't say I didn't warn you :->.
> 
> 3. Using the device "pdf" produces pdf files that have the correct graphics, but have no text (axis labels, tick labels).  This is true whether I try to explicitly specify the font (fontfamily="Times" or fontfamily="HersheySans") or do not specify any font.
> 

I cannot reproduce that - taking the wireframe example from trellis the text appears perfectly normal (pdf() device and Preview to display it).

If in doubt, see ?pdf and ?pdfFonts for dealing with fonts and the pdf() device -- the fontfamily is not necessarily what matters here.


> 4. Using no device at all (i.e. no call to trellis.device, just printing my wireframe object) gives me lovely-looking output, but in a window, of course, not a file.  This is a bit of a head-scratcher since trying to use device "quartz" produces errors; what device is lattice using, then, if not quartz?

It does use Quartz but with reasonable sizes ;). In the R.app GUI uou can use quartz.save() to save the output of that window WYSIWYG to almost any file format.

Cheers,
Simon



>  Anyhow, trying to pass file settings (device and filename) to wireframe() in par.settings seems to get ignored, as far as I can tell, so I can't build on this success to generate the files I want.
> 
>  I've been googling and reading for an hour now, and can't seem to find any info on this, nor any sample code showing how to get trellis output to a pdf file (not any sample code that looks substantially different from the approach I'm taking, that is).  So I'm rather at my wits end.  Anybody?  Can someone please post working sample code for trellis output to PDF that works on the current Mac build of R, at a minimum, and then maybe I can figure this out for myself?
> 
>  My full code is too hairy to post here, I think, but the nutshell is:
> 
> plotFishyWireframe <- function(...)
> {
> 	...stuff...
> 	wf_obj <- wireframe(t(zValues), xlab=xlab, ylab=ylab, zlab=zlab, scales=scales, zlim=zlim, main=list(label=plotTitle, cex=1.5), drape=TRUE, at=zcuts, col.regions=zcolors, colorkey=TRUE, screen=screen, perspective=perspective, par.settings=theme)
> 	print(wf_obj)
> }
> 
> ...stuff...
> 
> trellis.device(device="pdf", file="foo.pdf", width=640, height=640)
> plotFishyWireframe(...)
> dev.off()
> 
>  Thanks in advance!
> 
> Ben Haller
> McGill University
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From zhouyan at me.com  Mon Mar 21 18:39:06 2011
From: zhouyan at me.com (Yan Zhou)
Date: Mon, 21 Mar 2011 17:39:06 +0000
Subject: [R-SIG-Mac] Fighting with lattice output to files
In-Reply-To: <66C39AD1-F635-430A-BBBD-F37901F4B1AF@r-project.org>
References: <6D227118-7FCF-4171-BE27-2652E443FEFF@sticksoftware.com>
	<66C39AD1-F635-430A-BBBD-F37901F4B1AF@r-project.org>
Message-ID: <1BD0BEC1-90F6-41E1-9610-3C78730B7AC0@me.com>

I suspect the problem with the PDF device is that as in Ben's code, a 640 by 640 inches PDF is produced, and the default size of fonts is 12 points, so they are too small to be seen.

On Mar 21, 2011, at 5:24 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:

> Ben,
> 
> On Mar 21, 2011, at 1:01 PM, Ben Haller wrote:
> 
>> Hi all.  I'm trying to use lattice to make some plots with wireframe().  Ultimately I want to output these plots to PDF files, but I can't get that to work.  I'm battling a number of issues.  Note the problem is not the lack of a print() call, I'm aware of that issue.  :->  I'm posting here because I imagine that the graphics device issues I am seeing are platform-specific.
>> 
>> 1. Using device "jpeg" uses awful-looking results, apparently rendered with X11.  This is a bit odd, as when I was last doing this sort of thing, I seem to recall very similar code (which I copied and pasted from where it was) producing nice-looking images that were not rendered with X11.  Did the implementation of the jpeg device on Mac change?
>> 
> 
> jpeg() does what you tell it to - see the type argument to pick the appropriate back-end.
> 
> 
>> 2. Using the device "quartz" (not to file, just trying to use it to go to screen) produces errors:
>> 
>> Mon Mar 21 12:41:40 darwin.local R[25609] <Error>: kCGErrorRangeCheck: CGSNewWindowWithOpaqueShape: Cannot create window
>> Mon Mar 21 12:41:40 darwin.local R[25609] <Error>: kCGErrorFailure: Set a breakpoint @ CGErrorBreakpoint() to catch errors as they are logged.
>> 
>> This happens quite reproducibly (just do "trellis.device(device="quartz", width=640, height=640)" in the R console, in fact).
> 
> Well, you're asking for a device size of 17.8 yards x 17.8 yards (width/height is in inches!) - I want to see the screen that can handle that ;). But, it should not crash, admittedly, so I'll add a check to avoid crash on such user errors.
> 
> 
>> I don't know whether lattice is supposed to be compatible with the quartz device or not, but it certainly doesn't seem to be.  And this error hoses R so thoroughly that you have to quit and restart it, as far as I can tell, which makes it a bit annoying; don't say I didn't warn you :->.
>> 
>> 3. Using the device "pdf" produces pdf files that have the correct graphics, but have no text (axis labels, tick labels).  This is true whether I try to explicitly specify the font (fontfamily="Times" or fontfamily="HersheySans") or do not specify any font.
>> 
> 
> I cannot reproduce that - taking the wireframe example from trellis the text appears perfectly normal (pdf() device and Preview to display it).
> 
> If in doubt, see ?pdf and ?pdfFonts for dealing with fonts and the pdf() device -- the fontfamily is not necessarily what matters here.
> 
> 
>> 4. Using no device at all (i.e. no call to trellis.device, just printing my wireframe object) gives me lovely-looking output, but in a window, of course, not a file.  This is a bit of a head-scratcher since trying to use device "quartz" produces errors; what device is lattice using, then, if not quartz?
> 
> It does use Quartz but with reasonable sizes ;). In the R.app GUI uou can use quartz.save() to save the output of that window WYSIWYG to almost any file format.
> 
> Cheers,
> Simon
> 
> 
> 
>> Anyhow, trying to pass file settings (device and filename) to wireframe() in par.settings seems to get ignored, as far as I can tell, so I can't build on this success to generate the files I want.
>> 
>> I've been googling and reading for an hour now, and can't seem to find any info on this, nor any sample code showing how to get trellis output to a pdf file (not any sample code that looks substantially different from the approach I'm taking, that is).  So I'm rather at my wits end.  Anybody?  Can someone please post working sample code for trellis output to PDF that works on the current Mac build of R, at a minimum, and then maybe I can figure this out for myself?
>> 
>> My full code is too hairy to post here, I think, but the nutshell is:
>> 
>> plotFishyWireframe <- function(...)
>> {
>>   ...stuff...
>>   wf_obj <- wireframe(t(zValues), xlab=xlab, ylab=ylab, zlab=zlab, scales=scales, zlim=zlim, main=list(label=plotTitle, cex=1.5), drape=TRUE, at=zcuts, col.regions=zcolors, colorkey=TRUE, screen=screen, perspective=perspective, par.settings=theme)
>>   print(wf_obj)
>> }
>> 
>> ...stuff...
>> 
>> trellis.device(device="pdf", file="foo.pdf", width=640, height=640)
>> plotFishyWireframe(...)
>> dev.off()
>> 
>> Thanks in advance!
>> 
>> Ben Haller
>> McGill University
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From rsigmac at sticksoftware.com  Mon Mar 21 21:13:04 2011
From: rsigmac at sticksoftware.com (Ben Haller)
Date: Mon, 21 Mar 2011 16:13:04 -0400
Subject: [R-SIG-Mac] Fighting with lattice output to files
In-Reply-To: <1BD0BEC1-90F6-41E1-9610-3C78730B7AC0@me.com>
References: <6D227118-7FCF-4171-BE27-2652E443FEFF@sticksoftware.com>
	<66C39AD1-F635-430A-BBBD-F37901F4B1AF@r-project.org>
	<1BD0BEC1-90F6-41E1-9610-3C78730B7AC0@me.com>
Message-ID: <69AD9F47-CC88-42F9-B444-57FFE87B3598@sticksoftware.com>

  Oh!  I thought trellis.device always took a size in pixels; certainly it does for the jpeg type!  I guess it is device-dependent?  OK, I will go try that.  :->

  Thanks!

Ben Haller
McGill University


On Mar 21, 2011, at 1:39 PM, Yan Zhou wrote:

> I suspect the problem with the PDF device is that as in Ben's code, a 640 by 640 inches PDF is produced, and the default size of fonts is 12 points, so they are too small to be seen.
> 
> On Mar 21, 2011, at 5:24 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
>> Ben,
>> 
>> On Mar 21, 2011, at 1:01 PM, Ben Haller wrote:
>> 
>>> Hi all.  I'm trying to use lattice to make some plots with wireframe().  Ultimately I want to output these plots to PDF files, but I can't get that to work.  I'm battling a number of issues.  Note the problem is not the lack of a print() call, I'm aware of that issue.  :->  I'm posting here because I imagine that the graphics device issues I am seeing are platform-specific.
>>> 
>>> 1. Using device "jpeg" uses awful-looking results, apparently rendered with X11.  This is a bit odd, as when I was last doing this sort of thing, I seem to recall very similar code (which I copied and pasted from where it was) producing nice-looking images that were not rendered with X11.  Did the implementation of the jpeg device on Mac change?
>>> 
>> 
>> jpeg() does what you tell it to - see the type argument to pick the appropriate back-end.
>> 
>> 
>>> 2. Using the device "quartz" (not to file, just trying to use it to go to screen) produces errors:
>>> 
>>> Mon Mar 21 12:41:40 darwin.local R[25609] <Error>: kCGErrorRangeCheck: CGSNewWindowWithOpaqueShape: Cannot create window
>>> Mon Mar 21 12:41:40 darwin.local R[25609] <Error>: kCGErrorFailure: Set a breakpoint @ CGErrorBreakpoint() to catch errors as they are logged.
>>> 
>>> This happens quite reproducibly (just do "trellis.device(device="quartz", width=640, height=640)" in the R console, in fact).
>> 
>> Well, you're asking for a device size of 17.8 yards x 17.8 yards (width/height is in inches!) - I want to see the screen that can handle that ;). But, it should not crash, admittedly, so I'll add a check to avoid crash on such user errors.
>> 
>> 
>>> I don't know whether lattice is supposed to be compatible with the quartz device or not, but it certainly doesn't seem to be.  And this error hoses R so thoroughly that you have to quit and restart it, as far as I can tell, which makes it a bit annoying; don't say I didn't warn you :->.
>>> 
>>> 3. Using the device "pdf" produces pdf files that have the correct graphics, but have no text (axis labels, tick labels).  This is true whether I try to explicitly specify the font (fontfamily="Times" or fontfamily="HersheySans") or do not specify any font.
>>> 
>> 
>> I cannot reproduce that - taking the wireframe example from trellis the text appears perfectly normal (pdf() device and Preview to display it).
>> 
>> If in doubt, see ?pdf and ?pdfFonts for dealing with fonts and the pdf() device -- the fontfamily is not necessarily what matters here.
>> 
>> 
>>> 4. Using no device at all (i.e. no call to trellis.device, just printing my wireframe object) gives me lovely-looking output, but in a window, of course, not a file.  This is a bit of a head-scratcher since trying to use device "quartz" produces errors; what device is lattice using, then, if not quartz?
>> 
>> It does use Quartz but with reasonable sizes ;). In the R.app GUI uou can use quartz.save() to save the output of that window WYSIWYG to almost any file format.
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>> Anyhow, trying to pass file settings (device and filename) to wireframe() in par.settings seems to get ignored, as far as I can tell, so I can't build on this success to generate the files I want.
>>> 
>>> I've been googling and reading for an hour now, and can't seem to find any info on this, nor any sample code showing how to get trellis output to a pdf file (not any sample code that looks substantially different from the approach I'm taking, that is).  So I'm rather at my wits end.  Anybody?  Can someone please post working sample code for trellis output to PDF that works on the current Mac build of R, at a minimum, and then maybe I can figure this out for myself?
>>> 
>>> My full code is too hairy to post here, I think, but the nutshell is:
>>> 
>>> plotFishyWireframe <- function(...)
>>> {
>>>  ...stuff...
>>>  wf_obj <- wireframe(t(zValues), xlab=xlab, ylab=ylab, zlab=zlab, scales=scales, zlim=zlim, main=list(label=plotTitle, cex=1.5), drape=TRUE, at=zcuts, col.regions=zcolors, colorkey=TRUE, screen=screen, perspective=perspective, par.settings=theme)
>>>  print(wf_obj)
>>> }
>>> 
>>> ...stuff...
>>> 
>>> trellis.device(device="pdf", file="foo.pdf", width=640, height=640)
>>> plotFishyWireframe(...)
>>> dev.off()
>>> 
>>> Thanks in advance!
>>> 
>>> Ben Haller
>>> McGill University
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From byron.ellis at gmail.com  Mon Mar 21 21:25:42 2011
From: byron.ellis at gmail.com (Byron Ellis)
Date: Mon, 21 Mar 2011 13:25:42 -0700
Subject: [R-SIG-Mac] Fighting with lattice output to files
In-Reply-To: <69AD9F47-CC88-42F9-B444-57FFE87B3598@sticksoftware.com>
References: <6D227118-7FCF-4171-BE27-2652E443FEFF@sticksoftware.com>
	<66C39AD1-F635-430A-BBBD-F37901F4B1AF@r-project.org>
	<1BD0BEC1-90F6-41E1-9610-3C78730B7AC0@me.com>
	<69AD9F47-CC88-42F9-B444-57FFE87B3598@sticksoftware.com>
Message-ID: <AANLkTikOgGDunRnfr79gTDKM+2Ox41FOHDyxTHQEAL8k@mail.gmail.com>

Inches the the default for most graphics devices, except (apparently)
the jpeg() device and friends. x11, quartz, pdf & postscript all
specify their width and height in inches by default. I have no idea
why jpeg has opted to make this non-standard.

On Mon, Mar 21, 2011 at 1:13 PM, Ben Haller <rsigmac at sticksoftware.com> wrote:
> ?Oh! ?I thought trellis.device always took a size in pixels; certainly it does for the jpeg type! ?I guess it is device-dependent? ?OK, I will go try that. ?:->
>
> ?Thanks!
>
> Ben Haller
> McGill University
>
>
> On Mar 21, 2011, at 1:39 PM, Yan Zhou wrote:
>
>> I suspect the problem with the PDF device is that as in Ben's code, a 640 by 640 inches PDF is produced, and the default size of fonts is 12 points, so they are too small to be seen.
>>
>> On Mar 21, 2011, at 5:24 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>
>>> Ben,
>>>
>>> On Mar 21, 2011, at 1:01 PM, Ben Haller wrote:
>>>
>>>> Hi all. ?I'm trying to use lattice to make some plots with wireframe(). ?Ultimately I want to output these plots to PDF files, but I can't get that to work. ?I'm battling a number of issues. ?Note the problem is not the lack of a print() call, I'm aware of that issue. ?:-> ?I'm posting here because I imagine that the graphics device issues I am seeing are platform-specific.
>>>>
>>>> 1. Using device "jpeg" uses awful-looking results, apparently rendered with X11. ?This is a bit odd, as when I was last doing this sort of thing, I seem to recall very similar code (which I copied and pasted from where it was) producing nice-looking images that were not rendered with X11. ?Did the implementation of the jpeg device on Mac change?
>>>>
>>>
>>> jpeg() does what you tell it to - see the type argument to pick the appropriate back-end.
>>>
>>>
>>>> 2. Using the device "quartz" (not to file, just trying to use it to go to screen) produces errors:
>>>>
>>>> Mon Mar 21 12:41:40 darwin.local R[25609] <Error>: kCGErrorRangeCheck: CGSNewWindowWithOpaqueShape: Cannot create window
>>>> Mon Mar 21 12:41:40 darwin.local R[25609] <Error>: kCGErrorFailure: Set a breakpoint @ CGErrorBreakpoint() to catch errors as they are logged.
>>>>
>>>> This happens quite reproducibly (just do "trellis.device(device="quartz", width=640, height=640)" in the R console, in fact).
>>>
>>> Well, you're asking for a device size of 17.8 yards x 17.8 yards (width/height is in inches!) - I want to see the screen that can handle that ;). But, it should not crash, admittedly, so I'll add a check to avoid crash on such user errors.
>>>
>>>
>>>> I don't know whether lattice is supposed to be compatible with the quartz device or not, but it certainly doesn't seem to be. ?And this error hoses R so thoroughly that you have to quit and restart it, as far as I can tell, which makes it a bit annoying; don't say I didn't warn you :->.
>>>>
>>>> 3. Using the device "pdf" produces pdf files that have the correct graphics, but have no text (axis labels, tick labels). ?This is true whether I try to explicitly specify the font (fontfamily="Times" or fontfamily="HersheySans") or do not specify any font.
>>>>
>>>
>>> I cannot reproduce that - taking the wireframe example from trellis the text appears perfectly normal (pdf() device and Preview to display it).
>>>
>>> If in doubt, see ?pdf and ?pdfFonts for dealing with fonts and the pdf() device -- the fontfamily is not necessarily what matters here.
>>>
>>>
>>>> 4. Using no device at all (i.e. no call to trellis.device, just printing my wireframe object) gives me lovely-looking output, but in a window, of course, not a file. ?This is a bit of a head-scratcher since trying to use device "quartz" produces errors; what device is lattice using, then, if not quartz?
>>>
>>> It does use Quartz but with reasonable sizes ;). In the R.app GUI uou can use quartz.save() to save the output of that window WYSIWYG to almost any file format.
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>
>>>> Anyhow, trying to pass file settings (device and filename) to wireframe() in par.settings seems to get ignored, as far as I can tell, so I can't build on this success to generate the files I want.
>>>>
>>>> I've been googling and reading for an hour now, and can't seem to find any info on this, nor any sample code showing how to get trellis output to a pdf file (not any sample code that looks substantially different from the approach I'm taking, that is). ?So I'm rather at my wits end. ?Anybody? ?Can someone please post working sample code for trellis output to PDF that works on the current Mac build of R, at a minimum, and then maybe I can figure this out for myself?
>>>>
>>>> My full code is too hairy to post here, I think, but the nutshell is:
>>>>
>>>> plotFishyWireframe <- function(...)
>>>> {
>>>> ?...stuff...
>>>> ?wf_obj <- wireframe(t(zValues), xlab=xlab, ylab=ylab, zlab=zlab, scales=scales, zlim=zlim, main=list(label=plotTitle, cex=1.5), drape=TRUE, at=zcuts, col.regions=zcolors, colorkey=TRUE, screen=screen, perspective=perspective, par.settings=theme)
>>>> ?print(wf_obj)
>>>> }
>>>>
>>>> ...stuff...
>>>>
>>>> trellis.device(device="pdf", file="foo.pdf", width=640, height=640)
>>>> plotFishyWireframe(...)
>>>> dev.off()
>>>>
>>>> Thanks in advance!
>>>>
>>>> Ben Haller
>>>> McGill University
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>



-- 
Byron Ellis (byron.ellis at gmail.com)
"Oook" -- The Librarian


From dwinsemius at comcast.net  Mon Mar 21 21:33:55 2011
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 21 Mar 2011 16:33:55 -0400
Subject: [R-SIG-Mac] Fighting with lattice output to files
In-Reply-To: <69AD9F47-CC88-42F9-B444-57FFE87B3598@sticksoftware.com>
References: <6D227118-7FCF-4171-BE27-2652E443FEFF@sticksoftware.com>
	<66C39AD1-F635-430A-BBBD-F37901F4B1AF@r-project.org>
	<1BD0BEC1-90F6-41E1-9610-3C78730B7AC0@me.com>
	<69AD9F47-CC88-42F9-B444-57FFE87B3598@sticksoftware.com>
Message-ID: <0B7655AA-C7DA-4DEB-9372-269831E154A6@comcast.net>


On Mar 21, 2011, at 4:13 PM, Ben Haller wrote:

>  Oh!  I thought trellis.device always took a size in pixels;  
> certainly it does for the jpeg type!  I guess it is device-dependent?

Well, yes (to it's device dependent). No need to guess.  From help(pdf)

width, height
the width and height of the graphics region in inches. The default  
values are 7.


>  OK, I will go try that.  :->
>
>  Thanks!
>
> Ben Haller
> McGill University
>
>
> On Mar 21, 2011, at 1:39 PM, Yan Zhou wrote:
>
>> I suspect the problem with the PDF device is that as in Ben's code,  
>> a 640 by 640 inches PDF is produced, and the default size of fonts  
>> is 12 points, so they are too small to be seen.
>>
>> On Mar 21, 2011, at 5:24 PM, Simon Urbanek <simon.urbanek at r-project.org 
>> > wrote:
>>
>>> Ben,
>>>
>>> On Mar 21, 2011, at 1:01 PM, Ben Haller wrote:
>>>
>>>> Hi all.  I'm trying to use lattice to make some plots with  
>>>> wireframe().  Ultimately I want to output these plots to PDF  
>>>> files, but I can't get that to work.  I'm battling a number of  
>>>> issues.  Note the problem is not the lack of a print() call, I'm  
>>>> aware of that issue.  :->  I'm posting here because I imagine  
>>>> that the graphics device issues I am seeing are platform-specific.
>>>>
>>>> 1. Using device "jpeg" uses awful-looking results, apparently  
>>>> rendered with X11.  This is a bit odd, as when I was last doing  
>>>> this sort of thing, I seem to recall very similar code (which I  
>>>> copied and pasted from where it was) producing nice-looking  
>>>> images that were not rendered with X11.  Did the implementation  
>>>> of the jpeg device on Mac change?
>>>>
>>>
>>> jpeg() does what you tell it to - see the type argument to pick  
>>> the appropriate back-end.
>>>
>>>
>>>> 2. Using the device "quartz" (not to file, just trying to use it  
>>>> to go to screen) produces errors:
>>>>
>>>> Mon Mar 21 12:41:40 darwin.local R[25609] <Error>:  
>>>> kCGErrorRangeCheck: CGSNewWindowWithOpaqueShape: Cannot create  
>>>> window
>>>> Mon Mar 21 12:41:40 darwin.local R[25609] <Error>:  
>>>> kCGErrorFailure: Set a breakpoint @ CGErrorBreakpoint() to catch  
>>>> errors as they are logged.
>>>>
>>>> This happens quite reproducibly (just do  
>>>> "trellis.device(device="quartz", width=640, height=640)" in the R  
>>>> console, in fact).
>>>
>>> Well, you're asking for a device size of 17.8 yards x 17.8 yards  
>>> (width/height is in inches!) - I want to see the screen that can  
>>> handle that ;). But, it should not crash, admittedly, so I'll add  
>>> a check to avoid crash on such user errors.
>>>
>>>
>>>> I don't know whether lattice is supposed to be compatible with  
>>>> the quartz device or not, but it certainly doesn't seem to be.   
>>>> And this error hoses R so thoroughly that you have to quit and  
>>>> restart it, as far as I can tell, which makes it a bit annoying;  
>>>> don't say I didn't warn you :->.
>>>>
>>>> 3. Using the device "pdf" produces pdf files that have the  
>>>> correct graphics, but have no text (axis labels, tick labels).   
>>>> This is true whether I try to explicitly specify the font  
>>>> (fontfamily="Times" or fontfamily="HersheySans") or do not  
>>>> specify any font.
>>>>
>>>
>>> I cannot reproduce that - taking the wireframe example from  
>>> trellis the text appears perfectly normal (pdf() device and  
>>> Preview to display it).
>>>
>>> If in doubt, see ?pdf and ?pdfFonts for dealing with fonts and the  
>>> pdf() device -- the fontfamily is not necessarily what matters here.
>>>
>>>
>>>> 4. Using no device at all (i.e. no call to trellis.device, just  
>>>> printing my wireframe object) gives me lovely-looking output, but  
>>>> in a window, of course, not a file.  This is a bit of a head- 
>>>> scratcher since trying to use device "quartz" produces errors;  
>>>> what device is lattice using, then, if not quartz?
>>>
>>> It does use Quartz but with reasonable sizes ;). In the R.app GUI  
>>> uou can use quartz.save() to save the output of that window  
>>> WYSIWYG to almost any file format.
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>
>>>> Anyhow, trying to pass file settings (device and filename) to  
>>>> wireframe() in par.settings seems to get ignored, as far as I can  
>>>> tell, so I can't build on this success to generate the files I  
>>>> want.
>>>>
>>>> I've been googling and reading for an hour now, and can't seem to  
>>>> find any info on this, nor any sample code showing how to get  
>>>> trellis output to a pdf file (not any sample code that looks  
>>>> substantially different from the approach I'm taking, that is).   
>>>> So I'm rather at my wits end.  Anybody?  Can someone please post  
>>>> working sample code for trellis output to PDF that works on the  
>>>> current Mac build of R, at a minimum, and then maybe I can figure  
>>>> this out for myself?
>>>>
>>>> My full code is too hairy to post here, I think, but the nutshell  
>>>> is:
>>>>
>>>> plotFishyWireframe <- function(...)
>>>> {
>>>> ...stuff...
>>>> wf_obj <- wireframe(t(zValues), xlab=xlab, ylab=ylab, zlab=zlab,  
>>>> scales=scales, zlim=zlim, main=list(label=plotTitle, cex=1.5),  
>>>> drape=TRUE, at=zcuts, col.regions=zcolors, colorkey=TRUE,  
>>>> screen=screen, perspective=perspective, par.settings=theme)
>>>> print(wf_obj)
>>>> }
>>>>
>>>> ...stuff...
>>>>
>>>> trellis.device(device="pdf", file="foo.pdf", width=640, height=640)
>>>> plotFishyWireframe(...)
>>>> dev.off()
>>>>
>>>> Thanks in advance!
>>>>
>>>> Ben Haller
>>>> McGill University
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Heritage Laboratories
West Hartford, CT


From rsigmac at sticksoftware.com  Tue Mar 22 02:58:03 2011
From: rsigmac at sticksoftware.com (Ben Haller)
Date: Mon, 21 Mar 2011 21:58:03 -0400
Subject: [R-SIG-Mac] Fighting with lattice output to files
In-Reply-To: <AANLkTikOgGDunRnfr79gTDKM+2Ox41FOHDyxTHQEAL8k@mail.gmail.com>
References: <6D227118-7FCF-4171-BE27-2652E443FEFF@sticksoftware.com>
	<66C39AD1-F635-430A-BBBD-F37901F4B1AF@r-project.org>
	<1BD0BEC1-90F6-41E1-9610-3C78730B7AC0@me.com>
	<69AD9F47-CC88-42F9-B444-57FFE87B3598@sticksoftware.com>
	<AANLkTikOgGDunRnfr79gTDKM+2Ox41FOHDyxTHQEAL8k@mail.gmail.com>
Message-ID: <FD92E019-AC1B-4104-B772-5E8F014F2833@sticksoftware.com>

  Reporting back, for posterity.  Using the type argument to jpeg did indeed make it stop using X11 and produce nice-looking images.  And supplying reasonable sizes to pdf, in inches not pixels, did indeed make my text visible.

  I think much of my confusion stemmed from not fully realizing that lattice uses exactly the same graphics devices under the hood; I thought it was, at a minimum, somehow modifying them in ways that made the behave differently than usual (like using pixels instead of inches), if not actually using its own device.  I now have a better sense of the architecture, I think, and understand that, for example, the pixels-vs-inches thing is really an anomaly of jpeg, not of lattice.  :->

  Thanks all!

Ben Haller
McGill University


On Mar 21, 2011, at 4:25 PM, Byron Ellis wrote:

> Inches the the default for most graphics devices, except (apparently)
> the jpeg() device and friends. x11, quartz, pdf & postscript all
> specify their width and height in inches by default. I have no idea
> why jpeg has opted to make this non-standard.
> 
> On Mon, Mar 21, 2011 at 1:13 PM, Ben Haller <rsigmac at sticksoftware.com> wrote:
>>  Oh!  I thought trellis.device always took a size in pixels; certainly it does for the jpeg type!  I guess it is device-dependent?  OK, I will go try that.  :->
>> 
>>  Thanks!
>> 
>> Ben Haller
>> McGill University
>> 
>> 
>> On Mar 21, 2011, at 1:39 PM, Yan Zhou wrote:
>> 
>>> I suspect the problem with the PDF device is that as in Ben's code, a 640 by 640 inches PDF is produced, and the default size of fonts is 12 points, so they are too small to be seen.
>>> 
>>> On Mar 21, 2011, at 5:24 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>> 
>>>> Ben,
>>>> 
>>>> On Mar 21, 2011, at 1:01 PM, Ben Haller wrote:
>>>> 
>>>>> Hi all.  I'm trying to use lattice to make some plots with wireframe().  Ultimately I want to output these plots to PDF files, but I can't get that to work.  I'm battling a number of issues.  Note the problem is not the lack of a print() call, I'm aware of that issue.  :->  I'm posting here because I imagine that the graphics device issues I am seeing are platform-specific.
>>>>> 
>>>>> 1. Using device "jpeg" uses awful-looking results, apparently rendered with X11.  This is a bit odd, as when I was last doing this sort of thing, I seem to recall very similar code (which I copied and pasted from where it was) producing nice-looking images that were not rendered with X11.  Did the implementation of the jpeg device on Mac change?
>>>>> 
>>>> 
>>>> jpeg() does what you tell it to - see the type argument to pick the appropriate back-end.
>>>> 
>>>> 
>>>>> 2. Using the device "quartz" (not to file, just trying to use it to go to screen) produces errors:
>>>>> 
>>>>> Mon Mar 21 12:41:40 darwin.local R[25609] <Error>: kCGErrorRangeCheck: CGSNewWindowWithOpaqueShape: Cannot create window
>>>>> Mon Mar 21 12:41:40 darwin.local R[25609] <Error>: kCGErrorFailure: Set a breakpoint @ CGErrorBreakpoint() to catch errors as they are logged.
>>>>> 
>>>>> This happens quite reproducibly (just do "trellis.device(device="quartz", width=640, height=640)" in the R console, in fact).
>>>> 
>>>> Well, you're asking for a device size of 17.8 yards x 17.8 yards (width/height is in inches!) - I want to see the screen that can handle that ;). But, it should not crash, admittedly, so I'll add a check to avoid crash on such user errors.
>>>> 
>>>> 
>>>>> I don't know whether lattice is supposed to be compatible with the quartz device or not, but it certainly doesn't seem to be.  And this error hoses R so thoroughly that you have to quit and restart it, as far as I can tell, which makes it a bit annoying; don't say I didn't warn you :->.
>>>>> 
>>>>> 3. Using the device "pdf" produces pdf files that have the correct graphics, but have no text (axis labels, tick labels).  This is true whether I try to explicitly specify the font (fontfamily="Times" or fontfamily="HersheySans") or do not specify any font.
>>>>> 
>>>> 
>>>> I cannot reproduce that - taking the wireframe example from trellis the text appears perfectly normal (pdf() device and Preview to display it).
>>>> 
>>>> If in doubt, see ?pdf and ?pdfFonts for dealing with fonts and the pdf() device -- the fontfamily is not necessarily what matters here.
>>>> 
>>>> 
>>>>> 4. Using no device at all (i.e. no call to trellis.device, just printing my wireframe object) gives me lovely-looking output, but in a window, of course, not a file.  This is a bit of a head-scratcher since trying to use device "quartz" produces errors; what device is lattice using, then, if not quartz?
>>>> 
>>>> It does use Quartz but with reasonable sizes ;). In the R.app GUI uou can use quartz.save() to save the output of that window WYSIWYG to almost any file format.
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>> 
>>>>> Anyhow, trying to pass file settings (device and filename) to wireframe() in par.settings seems to get ignored, as far as I can tell, so I can't build on this success to generate the files I want.
>>>>> 
>>>>> I've been googling and reading for an hour now, and can't seem to find any info on this, nor any sample code showing how to get trellis output to a pdf file (not any sample code that looks substantially different from the approach I'm taking, that is).  So I'm rather at my wits end.  Anybody?  Can someone please post working sample code for trellis output to PDF that works on the current Mac build of R, at a minimum, and then maybe I can figure this out for myself?
>>>>> 
>>>>> My full code is too hairy to post here, I think, but the nutshell is:
>>>>> 
>>>>> plotFishyWireframe <- function(...)
>>>>> {
>>>>>  ...stuff...
>>>>>  wf_obj <- wireframe(t(zValues), xlab=xlab, ylab=ylab, zlab=zlab, scales=scales, zlim=zlim, main=list(label=plotTitle, cex=1.5), drape=TRUE, at=zcuts, col.regions=zcolors, colorkey=TRUE, screen=screen, perspective=perspective, par.settings=theme)
>>>>>  print(wf_obj)
>>>>> }
>>>>> 
>>>>> ...stuff...
>>>>> 
>>>>> trellis.device(device="pdf", file="foo.pdf", width=640, height=640)
>>>>> plotFishyWireframe(...)
>>>>> dev.off()
>>>>> 
>>>>> Thanks in advance!
>>>>> 
>>>>> Ben Haller
>>>>> McGill University
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 
> 
> -- 
> Byron Ellis (byron.ellis at gmail.com)
> "Oook" -- The Librarian


From brandon.hurr at gmail.com  Wed Mar 23 09:10:26 2011
From: brandon.hurr at gmail.com (Brandon Hurr)
Date: Wed, 23 Mar 2011 08:10:26 +0000
Subject: [R-SIG-Mac] Fwd: Polygon edge not found
In-Reply-To: <30dd4a1b-5d60-46a2-8d80-ae43b24e438c@17g2000prr.googlegroups.com>
References: <c488fcdc-b4d1-471d-8557-f9637c260b6c@o10g2000vbg.googlegroups.com>
	<AANLkTimqdaG4PVoM0YnUJO3EL8bO2MDvYnkMQzPUucud@mail.gmail.com>
	<30dd4a1b-5d60-46a2-8d80-ae43b24e438c@17g2000prr.googlegroups.com>
Message-ID: <AANLkTikg_n82uwxZpEdC7-H-9sD3YGf7vOYzb3Sh5_Ct@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20110323/7dd570e0/attachment.pl>

From jan.verbesselt at wur.nl  Thu Mar 24 11:19:35 2011
From: jan.verbesselt at wur.nl (Verbesselt, Jan)
Date: Thu, 24 Mar 2011 11:19:35 +0100
Subject: [R-SIG-Mac] using RMySQL on OS X 10.6.6 R 2.12.2
Message-ID: <0362BC74-89F0-45F6-8CA9-7107BFAD456C@wur.nl>

Hi,


I trying to export data from large images (satellite data) in to MySQL data via R. The code works fine but after some time it gives to following error:

"
 *** caught bus error ***
address 0x100000012, cause 'non-existent physical address'

Traceback:
 1: match.fun(FUN)
 2: lapply(z, is.object)
 3: unlist(lapply(z, is.object))
 4: order(jseq)
 5: `[<-.data.frame`(`*tmp*`, , value = list(gid = 78014, yr = 2009,     dy = 49, ndvi = 6448, rel = 0))
 6: `[<-`(`*tmp*`, , value = list(gid = 78014, yr = 2009, dy = 49,     ndvi = 6448, rel = 0))
 7: write.table(value[from:to, , drop = FALSE], file = conb, append = TRUE,     quote = FALSE, sep = "\t", na = .MySQL.NA.string, row.names = FALSE,     col.names = FALSE, eol = "\n", ...)
 8: safe.write(value, file = fn)
 9: mysqlWriteTable(conn, name, value, ...)
10: is(object, Cl)
11: is(object, Cl)
12: .valueClassTest(standardGeneric("dbWriteTable"), "logical", "dbWriteTable")
13: dbWriteTable(con, "datamod13q1", datamod13q1, append = T, row.names = 0)
aborting ...
Bus error
cube008:MODIS janv$ 
"

As an example I am adding the R script that I am using: 
Which runs through each pixel and exports the data to add table:

  # read all pixels within a certain boundary
  gid <- 1
  col <- 7:428
  row <- 2557:2760

"
 # Create first xy table from one image
  for (i in row) {
    for (j in col) {  
      rc <- c(i,j)-1 # line, sample !
      # read data for specific row and column
      ndvi <- getRasterTable(rndvi, offset=rc, region.dim=c(1, 1))
      rel <- getRasterTable(rrel, offset=rc, region.dim=c(1, 1))
    
      # prepare to insert into MySQL database
      (datamod13q1 <- data.frame(gid=gid,yr=yr, dy=dy, ndvi=ndvi$band1/10000,rel=rel$band1))
      dbWriteTable(con, "datamod13q1", datamod13q1, append = T, row.names = 0)
      gid <- gid + 1
    }
  }
"


Thanks for your help
J


From jan.verbesselt at wur.nl  Thu Mar 24 13:52:30 2011
From: jan.verbesselt at wur.nl (Verbesselt, Jan)
Date: Thu, 24 Mar 2011 13:52:30 +0100
Subject: [R-SIG-Mac] using RMySQL on OS X 10.6.6 - R 2.12.2
In-Reply-To: <0362BC74-89F0-45F6-8CA9-7107BFAD456C@wur.nl>
References: <0362BC74-89F0-45F6-8CA9-7107BFAD456C@wur.nl>
Message-ID: <21764B64-00FE-4DB5-B784-FDC27CA4B761@wur.nl>

Hi,


I trying to export data from large images (satellite data) in to MySQL data via R using RMySQL (RMySQL_0.7-5.tgz installed via R Console). The code works fine but after some time it gives to following error:

"
*** caught bus error ***
address 0x100000012, cause 'non-existent physical address'

Traceback:
1: match.fun(FUN)
2: lapply(z, is.object)
3: unlist(lapply(z, is.object))
4: order(jseq)
5: `[<-.data.frame`(`*tmp*`, , value = list(gid = 78014, yr = 2009,     dy = 49, ndvi = 6448, rel = 0))
6: `[<-`(`*tmp*`, , value = list(gid = 78014, yr = 2009, dy = 49,     ndvi = 6448, rel = 0))
7: write.table(value[from:to, , drop = FALSE], file = conb, append = TRUE,     quote = FALSE, sep = "\t", na = .MySQL.NA.string, row.names = FALSE,     col.names = FALSE, eol = "\n", ...)
8: safe.write(value, file = fn)
9: mysqlWriteTable(conn, name, value, ...)
10: is(object, Cl)
11: is(object, Cl)
12: .valueClassTest(standardGeneric("dbWriteTable"), "logical", "dbWriteTable")
13: dbWriteTable(con, "datamod13q1", datamod13q1, append = T, row.names = 0)
aborting ...
Bus error
cube008:MODIS janv$ 
"

As an example I am adding the R script that I am using: 
Which runs through each pixel and exports the data to add table:

 # read all pixels within a certain boundary
 gid <- 1
 col <- 7:428
 row <- 2557:2760

"
# Create first xy table from one image
 for (i in row) {
   for (j in col) {  
     rc <- c(i,j)-1 # line, sample !
     # read data for specific row and column
     ndvi <- getRasterTable(rndvi, offset=rc, region.dim=c(1, 1))
     rel <- getRasterTable(rrel, offset=rc, region.dim=c(1, 1))

     # prepare to insert into MySQL database
     (datamod13q1 <- data.frame(gid=gid,yr=yr, dy=dy, ndvi=ndvi$band1/10000,rel=rel$band1))
     # THIS IS ONE ROW WITH 4 COLUMNS OF NUMERIC DATA
     dbWriteTable(con, "datamod13q1", datamod13q1, append = T, row.names = 0)
     gid <- gid + 1
   }
 }
"

Any advice to solve this error and make this script more efficient are welcome.

Thanks for your help
J


From simon.urbanek at r-project.org  Thu Mar 24 14:46:56 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 24 Mar 2011 09:46:56 -0400
Subject: [R-SIG-Mac] using RMySQL on OS X 10.6.6 - R 2.12.2
In-Reply-To: <21764B64-00FE-4DB5-B784-FDC27CA4B761@wur.nl>
References: <0362BC74-89F0-45F6-8CA9-7107BFAD456C@wur.nl>
	<21764B64-00FE-4DB5-B784-FDC27CA4B761@wur.nl>
Message-ID: <8F2EAE1C-BCC9-4815-B357-C2B5869B278E@r-project.org>

Jan,

can you, please, supply the crash report? Also it would be useful to have a minimal reproducible example and exact details of your MySQL setup (version, where you got it from..) so we can try to reproduce it to track the issue.

Thanks,
Simon


On Mar 24, 2011, at 8:52 AM, Verbesselt, Jan wrote:

> Hi,
> 
> 
> I trying to export data from large images (satellite data) in to MySQL data via R using RMySQL (RMySQL_0.7-5.tgz installed via R Console). The code works fine but after some time it gives to following error:
> 
> "
> *** caught bus error ***
> address 0x100000012, cause 'non-existent physical address'
> 
> Traceback:
> 1: match.fun(FUN)
> 2: lapply(z, is.object)
> 3: unlist(lapply(z, is.object))
> 4: order(jseq)
> 5: `[<-.data.frame`(`*tmp*`, , value = list(gid = 78014, yr = 2009,     dy = 49, ndvi = 6448, rel = 0))
> 6: `[<-`(`*tmp*`, , value = list(gid = 78014, yr = 2009, dy = 49,     ndvi = 6448, rel = 0))
> 7: write.table(value[from:to, , drop = FALSE], file = conb, append = TRUE,     quote = FALSE, sep = "\t", na = .MySQL.NA.string, row.names = FALSE,     col.names = FALSE, eol = "\n", ...)
> 8: safe.write(value, file = fn)
> 9: mysqlWriteTable(conn, name, value, ...)
> 10: is(object, Cl)
> 11: is(object, Cl)
> 12: .valueClassTest(standardGeneric("dbWriteTable"), "logical", "dbWriteTable")
> 13: dbWriteTable(con, "datamod13q1", datamod13q1, append = T, row.names = 0)
> aborting ...
> Bus error
> cube008:MODIS janv$ 
> "
> 
> As an example I am adding the R script that I am using: 
> Which runs through each pixel and exports the data to add table:
> 
> # read all pixels within a certain boundary
> gid <- 1
> col <- 7:428
> row <- 2557:2760
> 
> "
> # Create first xy table from one image
> for (i in row) {
>   for (j in col) {  
>     rc <- c(i,j)-1 # line, sample !
>     # read data for specific row and column
>     ndvi <- getRasterTable(rndvi, offset=rc, region.dim=c(1, 1))
>     rel <- getRasterTable(rrel, offset=rc, region.dim=c(1, 1))
> 
>     # prepare to insert into MySQL database
>     (datamod13q1 <- data.frame(gid=gid,yr=yr, dy=dy, ndvi=ndvi$band1/10000,rel=rel$band1))
>     # THIS IS ONE ROW WITH 4 COLUMNS OF NUMERIC DATA
>     dbWriteTable(con, "datamod13q1", datamod13q1, append = T, row.names = 0)
>     gid <- gid + 1
>   }
> }
> "
> 
> Any advice to solve this error and make this script more efficient are welcome.
> 
> Thanks for your help
> J
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From joe at bio.umass.edu  Fri Mar 25 14:14:57 2011
From: joe at bio.umass.edu (Joseph Kunkel)
Date: Fri, 25 Mar 2011 09:14:57 -0400
Subject: [R-SIG-Mac] system('man R') works in  Mac unix R but not in GUI R
Message-ID: <CCD4AEBB-A458-49C4-A73F-A66A16B7560E@bio.umass.edu>

Using  R 2.12.2 GUI 1.36 Leopard build 64-bit (5691)

system('man R') gives error: 'No manual entry for R' ...  ??

Running R in a unix window the system('man R') function provides the expected manual entry.

This complicates my teaching of R with the Gui if I want to use the system('R ...') function.   Students need to know unix-window-use as a prereq.

system('man vi')  however does provide the correct unix vi manual in either unix or GUI.

-?.  .? ?.  .><((((?>?.  .? ?.  .><((((?>?.  .? ?.  .><((((?> .??.? >=-       =?}}}}}><
Joseph G. Kunkel, Professor
Biology Department
University of Massachusetts Amherst
Amherst MA 01003
http://www.bio.umass.edu/biology/kunkel/


From kasperdanielhansen at gmail.com  Fri Mar 25 14:35:28 2011
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Fri, 25 Mar 2011 09:35:28 -0400
Subject: [R-SIG-Mac] system('man R') works in Mac unix R but not in GUI R
In-Reply-To: <CCD4AEBB-A458-49C4-A73F-A66A16B7560E@bio.umass.edu>
References: <CCD4AEBB-A458-49C4-A73F-A66A16B7560E@bio.umass.edu>
Message-ID: <AANLkTikHqM5VsMs9ergW-b9Xuq4Bwta9KiR1xYcWG1dP@mail.gmail.com>

On Fri, Mar 25, 2011 at 9:14 AM, Joseph Kunkel <joe at bio.umass.edu> wrote:
> Using ?R 2.12.2 GUI 1.36 Leopard build 64-bit (5691)
>
> system('man R') gives error: 'No manual entry for R' ... ???
>
> Running R in a unix window the system('man R') function provides the expected manual entry.
>
> This complicates my teaching of R with the Gui if I want to use the system('R ...') function. ? Students need to know unix-window-use as a prereq.
>
> system('man vi') ?however does provide the correct unix vi manual in either unix or GUI.

Well, as you might know, setting PATH and other environment variables
in the terminal using, say .profile or .bashrc, does not make them set
inside of a GUI.  This has been discussed many times on this list (and
really has nothing to do with R at all).

In this case it is because vi ships with the system and the man page
for vi is in
# man -w vi
/usr/share/man/man1/vi.1.gz

I do not have the GUI (CRAN) version of R installed, but I would guess
that the man page is in /usr/local/share ..., and you can check the
directories man searches by
# man -d

Kasper


From ripley at stats.ox.ac.uk  Fri Mar 25 15:56:06 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 25 Mar 2011 14:56:06 +0000 (GMT)
Subject: [R-SIG-Mac] system('man R') works in Mac unix R but not in GUI R
In-Reply-To: <AANLkTikHqM5VsMs9ergW-b9Xuq4Bwta9KiR1xYcWG1dP@mail.gmail.com>
References: <CCD4AEBB-A458-49C4-A73F-A66A16B7560E@bio.umass.edu>
	<AANLkTikHqM5VsMs9ergW-b9Xuq4Bwta9KiR1xYcWG1dP@mail.gmail.com>
Message-ID: <alpine.LFD.2.02.1103251438390.27573@gannet.stats.ox.ac.uk>

On Fri, 25 Mar 2011, Kasper Daniel Hansen wrote:

> On Fri, Mar 25, 2011 at 9:14 AM, Joseph Kunkel <joe at bio.umass.edu> wrote:
>> Using ?R 2.12.2 GUI 1.36 Leopard build 64-bit (5691)
>>
>> system('man R') gives error: 'No manual entry for R' ... ???
>>
>> Running R in a unix window the system('man R') function provides 
>> the expected manual entry.
>>
>> This complicates my teaching of R with the Gui if I want to use the 
>> system('R ...') function. ? Students need to know unix-window-use 
>> as a prereq.
>>
>> system('man vi') ?however does provide the correct unix vi manual 
>> in either unix or GUI.
>
> Well, as you might know, setting PATH and other environment variables
> in the terminal using, say .profile or .bashrc, does not make them set
> inside of a GUI.  This has been discussed many times on this list (and
> really has nothing to do with R at all).

Note though that this is slightly different: it is about what is set 
in the shell which system() launches from R.app, not the usual 
question of what variables are set for R.app itself.

> In this case it is because vi ships with the system and the man page
> for vi is in
> # man -w vi
> /usr/share/man/man1/vi.1.gz
>
> I do not have the GUI (CRAN) version of R installed, but I would guess
> that the man page is in /usr/local/share ..., and you can check the
> directories man searches by
> # man -d

I do, and 'man R' does not find it (and it is not under 
/usr/local/share/man, which is on my system searched from system() in 
R.app).  My reading of the CRAN installation scripts is that it is 
only installed in 
/Library/Frameworks/R.framework/Versions/2.13/Resources/man1
(Try 'locate R.1': all the other instances are in my own development 
area.)

So I think the question should rather be why 'man R' works in a 'unix 
window' (whatever that really is).

And also why you think 'man R' is useful for your students, rather 
than say 'R --help' (from which it is derived by a Perl script) or the 
'Introduction to R' manual.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From joe at bio.umass.edu  Fri Mar 25 17:24:26 2011
From: joe at bio.umass.edu (Joseph Kunkel)
Date: Fri, 25 Mar 2011 12:24:26 -0400
Subject: [R-SIG-Mac] system('man R') works in Mac unix R but not in GUI R
In-Reply-To: <alpine.LFD.2.02.1103251438390.27573@gannet.stats.ox.ac.uk>
References: <CCD4AEBB-A458-49C4-A73F-A66A16B7560E@bio.umass.edu>
	<AANLkTikHqM5VsMs9ergW-b9Xuq4Bwta9KiR1xYcWG1dP@mail.gmail.com>
	<alpine.LFD.2.02.1103251438390.27573@gannet.stats.ox.ac.uk>
Message-ID: <C6FDF6BA-B9FA-4246-8B45-9B70E4DDEAB6@bio.umass.edu>

On "Why use 'man R'?"   

Hooray, system('R --help') works in both a unix-terminal-R session and also in the GUI!   My problem solved.

Thanks!!

Joe
 
On Mar 25, 2011, at 10:56 AM, Prof Brian Ripley wrote:

> On Fri, 25 Mar 2011, Kasper Daniel Hansen wrote:
> 
>> On Fri, Mar 25, 2011 at 9:14 AM, Joseph Kunkel <joe at bio.umass.edu> wrote:
>>> Using  R 2.12.2 GUI 1.36 Leopard build 64-bit (5691)
>>> 
>>> system('man R') gives error: 'No manual entry for R' ...  ??
>>> 
>>> Running R in a unix window the system('man R') function provides the expected manual entry.
>>> 
>>> This complicates my teaching of R with the Gui if I want to use the system('R ...') function.   Students need to know unix-window-use as a prereq.
>>> 
>>> system('man vi')  however does provide the correct unix vi manual in either unix or GUI.
>> 
>> Well, as you might know, setting PATH and other environment variables
>> in the terminal using, say .profile or .bashrc, does not make them set
>> inside of a GUI.  This has been discussed many times on this list (and
>> really has nothing to do with R at all).
> 
> Note though that this is slightly different: it is about what is set in the shell which system() launches from R.app, not the usual question of what variables are set for R.app itself.
> 
>> In this case it is because vi ships with the system and the man page
>> for vi is in
>> # man -w vi
>> /usr/share/man/man1/vi.1.gz
>> 
>> I do not have the GUI (CRAN) version of R installed, but I would guess
>> that the man page is in /usr/local/share ..., and you can check the
>> directories man searches by
>> # man -d
> 
> I do, and 'man R' does not find it (and it is not under /usr/local/share/man, which is on my system searched from system() in R.app).  My reading of the CRAN installation scripts is that it is only installed in /Library/Frameworks/R.framework/Versions/2.13/Resources/man1
> (Try 'locate R.1': all the other instances are in my own development area.)
> 
> So I think the question should rather be why 'man R' works in a 'unix window' (whatever that really is).
> 
> And also why you think 'man R' is useful for your students, rather than say 'R --help' (from which it is derived by a Perl script) or the 'Introduction to R' manual.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595

-?.  .? ?.  .><((((?>?.  .? ?.  .><((((?>?.  .? ?.  .><((((?> .??.? >=-       =?}}}}}><
Joseph G. Kunkel, Professor
Biology Department
University of Massachusetts Amherst
Amherst MA 01003
http://www.bio.umass.edu/biology/kunkel/


From bhh at xs4all.nl  Mon Mar 28 21:52:11 2011
From: bhh at xs4all.nl (Berend Hasselman)
Date: Mon, 28 Mar 2011 21:52:11 +0200
Subject: [R-SIG-Mac] Finding problem with nleqslv on PowerPC
Message-ID: <E1F04DB1-3925-489C-984D-F044F2DBFAA9@xs4all.nl>


I am the author of the nleqslv package for solving systems of non linear equations.
The main code is written in Fortran.
At the beginning of March, I released a new version with a few minor corrections in the R code.
Nothing in the C or Fortran code was changed.

The package passed all the CRAN checks/tests on Linux, Windows and Solaris systems and Mac OS X Intel platforms.
However, on the Mac OS X PowerPc platform one of the examples gave a bus error. 
With previous versions of the package this did not happen. 
Moreover, the relevant Fortran code had not changed. 
So I simply do not understand what is going on.
I run Mac OS X Snow Leopard 10.6.7 which is Intel only, so I have no means of trying to find out what may be the cause.

I would like to ask anyone with a Mac running Mac OS Leopard PowerPc to run the example below to see what happens.
And maybe the cause of the bus error can be found.

I have attached the R script and the output of running 
Rscript -e ppcissue_mailexample.R > ppcissue_mailexample.rout.txt

best regards

Berend Hasselman

-------------- next part --------------
A non-text attachment was scrubbed...
Name: ppcissue_mailexample.R
Type: application/octet-stream
Size: 738 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20110328/a4a62701/attachment.obj>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: ppcissue_mailexample.rout.txt
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20110328/a4a62701/attachment.txt>

From matzke at berkeley.edu  Tue Mar 29 09:20:19 2011
From: matzke at berkeley.edu (Nick Matzke)
Date: Tue, 29 Mar 2011 00:20:19 -0700
Subject: [R-SIG-Mac] Compiling R.app with 2.12 on Intel Mac 10.4
Message-ID: <4D918833.3020703@berkeley.edu>

Hi all,

Slightly weird question, I'm mostly hoping there is some 
obvious thing that I am missing.

At the moment, I am stuck on a 10.4 machine (32-bit Intel 
mac).  However, there is an R package I need to use, that 
requires R 2.12.  So, being brave, I downloaded the R 2.12.2 
source and compiled that.  That part worked fine.

Then, since I like R.app, I downloaded the source for the 
most recent version of that ( Mac-GUI-1.35 ) and compiled it 
using Xcode 2.5.

It actually seems to work, installs packages, etc.  However 
the one weird thing I am noticing is that when I type a 
variable name that does not exist yet, R.app crashes as follows:

=============
 > undefined_variable
Error: object 'undefined_variable' not found

  *** caught bus error ***
address 0x0, cause 'non-existent physical address'

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace
Selection:
=============

Similar errors do not occur in the command line R 2.12.2, 
nor in previous versions of R.app on my computer.

One possibility is that in my xcode compilation my Active 
Build Configuration was "Development", not "Deployment" -- 
however, the compilation threw an error when I switched it 
to "Deployment".

Any thoughts/help appreciated. Cheers!
Nick




-- 
====================================================
Nicholas J. Matzke
Ph.D. Candidate, Graduate Student Researcher

Huelsenbeck Lab
Center for Theoretical Evolutionary Genomics
4151 VLSB (Valley Life Sciences Building)
Department of Integrative Biology
University of California, Berkeley

Graduate Student Instructor, IB200B
Principles of Phylogenetics: Ecology and Evolution
http://ib.berkeley.edu/courses/ib200b/
http://phylo.wikidot.com/


Lab websites:
http://ib.berkeley.edu/people/lab_detail.php?lab=54
http://fisher.berkeley.edu/cteg/hlab.html
Dept. personal page: 
http://ib.berkeley.edu/people/students/person_detail.php?person=370
Lab personal page: 
http://fisher.berkeley.edu/cteg/members/matzke.html
Lab phone: 510-643-6299
Dept. fax: 510-643-6264

Cell phone: 510-301-0179
Email: matzke at berkeley.edu

Mailing address:
Department of Integrative Biology
3060 VLSB #3140
Berkeley, CA 94720-3140

-----------------------------------------------------
"[W]hen people thought the earth was flat, they were wrong. 
When people thought the earth was spherical, they were 
wrong. But if you think that thinking the earth is spherical 
is just as wrong as thinking the earth is flat, then your 
view is wronger than both of them put together."

Isaac Asimov (1989). "The Relativity of Wrong." The 
Skeptical Inquirer, 14(1), 35-44. Fall 1989.
http://chem.tufts.edu/AnswersInScience/RelativityofWrong.htm


From simon.urbanek at r-project.org  Tue Mar 29 17:09:27 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 29 Mar 2011 11:09:27 -0400
Subject: [R-SIG-Mac] Compiling R.app with 2.12 on Intel Mac 10.4
In-Reply-To: <4D918833.3020703@berkeley.edu>
References: <4D918833.3020703@berkeley.edu>
Message-ID: <DB85427A-36A0-4A78-8A0B-5D0BE3422352@r-project.org>

Nick,

unfortunately I have no longer any 10.4 machines, but some comments inline.

On Mar 29, 2011, at 3:20 AM, Nick Matzke wrote:

> Hi all,
> 
> Slightly weird question, I'm mostly hoping there is some obvious thing that I am missing.
> 
> At the moment, I am stuck on a 10.4 machine (32-bit Intel mac).  However, there is an R package I need to use, that requires R 2.12.  So, being brave, I downloaded the R 2.12.2 source and compiled that.  That part worked fine.
> 

How did you configure it? For the GUI to work properly you'll probably need to set r_arch=i386 (it's needed for universal build, but a single-arch GUI may work without it).


> Then, since I like R.app, I downloaded the source for the most recent version of that ( Mac-GUI-1.35 ) and compiled it using Xcode 2.5.
> 

FWIW the latest [possibly] supporting 10.4 is 1.36 which is in
http://cran.r-project.org/bin/macosx/Mac-GUI-1.36.tar.gz


> It actually seems to work, installs packages, etc.  However the one weird thing I am noticing is that when I type a variable name that does not exist yet, R.app crashes as follows:
> 
> =============
> > undefined_variable
> Error: object 'undefined_variable' not found
> 
> *** caught bus error ***
> address 0x0, cause 'non-existent physical address'
> 
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
> Selection:
> =============
> 
> Similar errors do not occur in the command line R 2.12.2, nor in previous versions of R.app on my computer.
> 
> One possibility is that in my xcode compilation my Active Build Configuration was "Development", not "Deployment" -- however, the compilation threw an error when I switched it to "Deployment".
> 

You can use Deployment (and should) but since you likely didn't build ppc version of R, you'll have to change the builds setting to not compile ppc version of the GUI (double-click on the "R" project icon in Xcode select Deployment config and change "Architectures" to just yours; if that's not enough, double-click on "R" in "Targets" to make sure it's not overridden there).

Cheers,
Simon


From bapt4510 at googlemail.com  Fri Mar 25 23:47:38 2011
From: bapt4510 at googlemail.com (baptiste auguie)
Date: Sat, 26 Mar 2011 11:47:38 +1300
Subject: [R-SIG-Mac] unable to install packages on R-2.13
Message-ID: <AANLkTikzx+OtD1CX=SPELvFS+w2xXOY_D9UQVqriWQQq@mail.gmail.com>

Dear list,

There seems to be something wrong with my installation of R on a
MacBook Pro running Mac OS 10.5.8. I've tried installing R-2.13 from
r.research.att.com, but install.packages() fails to open the window to
select a mirror,

install.packages("ggplot2")
--- Please select a CRAN mirror for use in this session ---
Loading Tcl/Tk interface ... Error: .onLoad failed in loadNamespace()
for 'tcltk', details:
 call: dyn.load(file, DLLpath = DLLpath, ...)
 error: unable to load shared object
'/Library/Frameworks/R.framework/Versions/2.13/Resources/library/tcltk/libs/i386/tcltk.so':
 dlopen(/Library/Frameworks/R.framework/Versions/2.13/Resources/library/tcltk/libs/i386/tcltk.so,
10): Library not loaded: /usr/local/lib/libtcl8.5.dylib
 Referenced from:
/Library/Frameworks/R.framework/Versions/2.13/Resources/library/tcltk/libs/i386/tcltk.so
 Reason: image not found
> sessionInfo()
R version 2.13.0 alpha (2011-03-23 r54969)
Platform: i386-apple-darwin9.8.0/i386 (32-bit)

locale:
[1] en_GB.UTF-8/en_GB.UTF-8/C/C/en_GB.UTF-8/en_GB.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

For some apparently unrelated reason my attempt at building R from svn
also results in errors when trying to install packages,

[...]
ld warning: in /Library/Frameworks/R.framework/R, file is not of
required architecture
installing to /Library/Frameworks/R.framework/Versions/2.13/Resources/library/plyr/libs/x86_64
** R
** data
**  moving datasets to lazyload DB
** inst
** preparing package for lazy loading
** help
*** installing help indices
** building package indices ...
** testing if installed package can be loaded
Error in library.dynam(lib, package, package.lib) :
 shared object 'plyr' not found
Error: loading failed
Execution halted
ERROR: loading failed
* removing ?/Library/Frameworks/R.framework/Versions/2.13/Resources/library/plyr?

I did not explicitely ask for R to use this 64 architecture, as far as
I know (I only typed ./configure ; make ; sudo make install). R-2.14
built from svn works fine, but I'd rather be testing the alpha
release.

What's my best option to get R alpha running? Also, I assume removing
/Library/Frameworks/R.framework/Versions/2.13 altogether is sufficient
to avoid any possibility of interaction between successive
installations, is this correct?

Best regards,

baptiste


From rkoenker at illinois.edu  Wed Mar 30 12:43:59 2011
From: rkoenker at illinois.edu (Roger Koenker)
Date: Wed, 30 Mar 2011 05:43:59 -0500
Subject: [R-SIG-Mac] rgl for r-devel (2.14.0)?
Message-ID: <4D6EC528-25B2-4E39-8F40-F3A70BD3FB3F@illinois.edu>

I'm trying to do some package checking for quantreg in R-devel

	2.14.0 Under development (unstable) (2011-03-16 r54826)

installing most of my usual package list from source went quite smoothly, but I'm
having trouble with rgl  -- if someone has a hint about the following
messages that would be most appreciated:


> ** testing if installed package can be loaded
> Error : .onLoad failed in loadNamespace() for 'rgl', details:
>  call: dyn.load(file, DLLpath = DLLpath, ...)
>  error: unable to load shared object '/Library/Frameworks/R.framework/Versions/2.14/Resources/library/rgl/libs/x86_64/rgl.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/2.14/Resources/library/rgl/libs/x86_64/rgl.so, 6): Symbol not found: _FT_Attach_File
>  Referenced from: /Library/Frameworks/R.framework/Versions/2.14/Resources/library/rgl/libs/x86_64/rgl.so
>  Expected in: flat namespace
> in /Library/Frameworks/R.framework/Versions/2.14/Resources/library/rgl/libs/x86_64/rgl.so
> Error in tools:::.test_load_package("rgl", "/Library/Frameworks/R.framework/Versions/2.14/Resources/library") : 
>  loading failed

Roger Koenker
rkoenker at illinois.edu


From kasperdanielhansen at gmail.com  Wed Mar 30 16:27:49 2011
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Wed, 30 Mar 2011 10:27:49 -0400
Subject: [R-SIG-Mac] rgl for r-devel (2.14.0)?
In-Reply-To: <4D6EC528-25B2-4E39-8F40-F3A70BD3FB3F@illinois.edu>
References: <4D6EC528-25B2-4E39-8F40-F3A70BD3FB3F@illinois.edu>
Message-ID: <AANLkTi==1cWW3CD=wBFUYYQhjZyroynHANhQHa9Lk+NA@mail.gmail.com>

This is not really what you are asking about, but note that you are
using the wrong R if you are trying to make sure your package will
work with soon-to-be-released R-2.13.   You need to check out from
branches-2-13 and not from trunk.

Kasper

On Wed, Mar 30, 2011 at 6:43 AM, Roger Koenker <rkoenker at illinois.edu> wrote:
> I'm trying to do some package checking for quantreg in R-devel
>
> ? ? ? ?2.14.0 Under development (unstable) (2011-03-16 r54826)
>
> installing most of my usual package list from source went quite smoothly, but I'm
> having trouble with rgl ?-- if someone has a hint about the following
> messages that would be most appreciated:
>
>
>> ** testing if installed package can be loaded
>> Error : .onLoad failed in loadNamespace() for 'rgl', details:
>> ?call: dyn.load(file, DLLpath = DLLpath, ...)
>> ?error: unable to load shared object '/Library/Frameworks/R.framework/Versions/2.14/Resources/library/rgl/libs/x86_64/rgl.so':
>> ?dlopen(/Library/Frameworks/R.framework/Versions/2.14/Resources/library/rgl/libs/x86_64/rgl.so, 6): Symbol not found: _FT_Attach_File
>> ?Referenced from: /Library/Frameworks/R.framework/Versions/2.14/Resources/library/rgl/libs/x86_64/rgl.so
>> ?Expected in: flat namespace
>> in /Library/Frameworks/R.framework/Versions/2.14/Resources/library/rgl/libs/x86_64/rgl.so
>> Error in tools:::.test_load_package("rgl", "/Library/Frameworks/R.framework/Versions/2.14/Resources/library") :
>> ?loading failed
>
> Roger Koenker
> rkoenker at illinois.edu
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From guillaume.meurice at igr.fr  Wed Mar 30 16:56:39 2011
From: guillaume.meurice at igr.fr (Guillaume Meurice)
Date: Wed, 30 Mar 2011 16:56:39 +0200
Subject: [R-SIG-Mac] Probleme with libpng
Message-ID: <0C432BB2-7A5C-4DE3-A60C-08E307213E62@igr.fr>

Dear all,

I've recently upgrade R to :

R 2.12.2 GUI 1.36 Leopard build 64-bit (5691)

But now, I can't drow any png image, since I have this error message :

libpng warning: Application was compiled with png.h from libpng-1.2.26
libpng warning: Application  is  running with png.c from libpng-1.4.1
libpng warning: Incompatible libpng version in application and library


What should I do ? Is there any macosX package compiled with libpng 1.4.1 ?


Thanks by advance for any help you could provide.
Best regards,
--
Guillaume Meurice - PhD


From simon.urbanek at r-project.org  Wed Mar 30 17:02:08 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 30 Mar 2011 11:02:08 -0400
Subject: [R-SIG-Mac] unable to install packages on R-2.13
In-Reply-To: <AANLkTikzx+OtD1CX=SPELvFS+w2xXOY_D9UQVqriWQQq@mail.gmail.com>
References: <AANLkTikzx+OtD1CX=SPELvFS+w2xXOY_D9UQVqriWQQq@mail.gmail.com>
Message-ID: <52C27182-D630-443A-BB81-007D21C346CD@r-project.org>

Baptiste,

you likely forgot to install Tcl/Tk libraries from CRAN:
http://cran.r-project.org/bin/macosx/tools/tcltk-8.5.5-x11.dmg

Cheers,
Simon

On Mar 25, 2011, at 6:47 PM, baptiste auguie wrote:

> Dear list,
> 
> There seems to be something wrong with my installation of R on a
> MacBook Pro running Mac OS 10.5.8. I've tried installing R-2.13 from
> r.research.att.com, but install.packages() fails to open the window to
> select a mirror,
> 
> install.packages("ggplot2")
> --- Please select a CRAN mirror for use in this session ---
> Loading Tcl/Tk interface ... Error: .onLoad failed in loadNamespace()
> for 'tcltk', details:
> call: dyn.load(file, DLLpath = DLLpath, ...)
> error: unable to load shared object
> '/Library/Frameworks/R.framework/Versions/2.13/Resources/library/tcltk/libs/i386/tcltk.so':
> dlopen(/Library/Frameworks/R.framework/Versions/2.13/Resources/library/tcltk/libs/i386/tcltk.so,
> 10): Library not loaded: /usr/local/lib/libtcl8.5.dylib
> Referenced from:
> /Library/Frameworks/R.framework/Versions/2.13/Resources/library/tcltk/libs/i386/tcltk.so
> Reason: image not found
>> sessionInfo()
> R version 2.13.0 alpha (2011-03-23 r54969)
> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
> 
> locale:
> [1] en_GB.UTF-8/en_GB.UTF-8/C/C/en_GB.UTF-8/en_GB.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> For some apparently unrelated reason my attempt at building R from svn
> also results in errors when trying to install packages,
> 
> [...]
> ld warning: in /Library/Frameworks/R.framework/R, file is not of
> required architecture
> installing to /Library/Frameworks/R.framework/Versions/2.13/Resources/library/plyr/libs/x86_64
> ** R
> ** data
> **  moving datasets to lazyload DB
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices ...
> ** testing if installed package can be loaded
> Error in library.dynam(lib, package, package.lib) :
> shared object 'plyr' not found
> Error: loading failed
> Execution halted
> ERROR: loading failed
> * removing ?/Library/Frameworks/R.framework/Versions/2.13/Resources/library/plyr?
> 
> I did not explicitely ask for R to use this 64 architecture, as far as
> I know (I only typed ./configure ; make ; sudo make install). R-2.14
> built from svn works fine, but I'd rather be testing the alpha
> release.
> 
> What's my best option to get R alpha running? Also, I assume removing
> /Library/Frameworks/R.framework/Versions/2.13 altogether is sufficient
> to avoid any possibility of interaction between successive
> installations, is this correct?
> 
> Best regards,
> 
> baptiste
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From simon.urbanek at r-project.org  Wed Mar 30 17:06:12 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 30 Mar 2011 11:06:12 -0400
Subject: [R-SIG-Mac] Probleme with libpng
In-Reply-To: <0C432BB2-7A5C-4DE3-A60C-08E307213E62@igr.fr>
References: <0C432BB2-7A5C-4DE3-A60C-08E307213E62@igr.fr>
Message-ID: <199484D7-43C8-48F6-AD77-A4645AFF57C3@r-project.org>

You'll need to supply more details. What are you exactly doing? (reproducible example!) Which packages are you using? (sessionInfo()!)
Cheers,
Simon


On Mar 30, 2011, at 10:56 AM, Guillaume Meurice wrote:

> Dear all,
> 
> I've recently upgrade R to :
> 
> R 2.12.2 GUI 1.36 Leopard build 64-bit (5691)
> 
> But now, I can't drow any png image, since I have this error message :
> 
> libpng warning: Application was compiled with png.h from libpng-1.2.26
> libpng warning: Application  is  running with png.c from libpng-1.4.1
> libpng warning: Incompatible libpng version in application and library
> 
> 
> What should I do ? Is there any macosX package compiled with libpng 1.4.1 ?
> 
> 
> Thanks by advance for any help you could provide.
> Best regards,
> --
> Guillaume Meurice - PhD
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From ripley at stats.ox.ac.uk  Wed Mar 30 17:28:55 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 30 Mar 2011 16:28:55 +0100 (BST)
Subject: [R-SIG-Mac] rgl for r-devel (2.14.0)?
In-Reply-To: <AANLkTi==1cWW3CD=wBFUYYQhjZyroynHANhQHa9Lk+NA@mail.gmail.com>
References: <4D6EC528-25B2-4E39-8F40-F3A70BD3FB3F@illinois.edu>
	<AANLkTi==1cWW3CD=wBFUYYQhjZyroynHANhQHa9Lk+NA@mail.gmail.com>
Message-ID: <alpine.LFD.2.02.1103301623270.29276@gannet.stats.ox.ac.uk>

On Wed, 30 Mar 2011, Kasper Daniel Hansen wrote:

> This is not really what you are asking about, but note that you are
> using the wrong R if you are trying to make sure your package will
> work with soon-to-be-released R-2.13.   You need to check out from
> branches-2-13 and not from trunk.

I suspect Roger did mean R-devel (probably because Kurt checks CRAN 
submisions on R-devel), but that's a fortnight-old version of R-devel, 
and a lot has changed in that fortnight.

But to the point: that is a reference to FreeType.  So, do you have 
FreeType installed, and if so which version?  As far as I know the one 
I am using came from
http://cran.r-project.org/bin/macosx/tools/devpack4-darwin8-bin4.tar.gz
and I've just installed rgl under R-devel to check.

>
> Kasper
>
> On Wed, Mar 30, 2011 at 6:43 AM, Roger Koenker <rkoenker at illinois.edu> wrote:
>> I'm trying to do some package checking for quantreg in R-devel
>>
>> ? ? ? ?2.14.0 Under development (unstable) (2011-03-16 r54826)
>>
>> installing most of my usual package list from source went quite smoothly, but I'm
>> having trouble with rgl ?-- if someone has a hint about the following
>> messages that would be most appreciated:
>>
>>
>>> ** testing if installed package can be loaded
>>> Error : .onLoad failed in loadNamespace() for 'rgl', details:
>>> ?call: dyn.load(file, DLLpath = DLLpath, ...)
>>> ?error: unable to load shared object '/Library/Frameworks/R.framework/Versions/2.14/Resources/library/rgl/libs/x86_64/rgl.so':
>>> ?dlopen(/Library/Frameworks/R.framework/Versions/2.14/Resources/library/rgl/libs/x86_64/rgl.so, 6): Symbol not found: _FT_Attach_File
>>> ?Referenced from: /Library/Frameworks/R.framework/Versions/2.14/Resources/library/rgl/libs/x86_64/rgl.so
>>> ?Expected in: flat namespace
>>> in /Library/Frameworks/R.framework/Versions/2.14/Resources/library/rgl/libs/x86_64/rgl.so
>>> Error in tools:::.test_load_package("rgl", "/Library/Frameworks/R.framework/Versions/2.14/Resources/library") :
>>> ?loading failed
>>
>> Roger Koenker
>> rkoenker at illinois.edu
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From guillaume.meurice at igr.fr  Wed Mar 30 17:45:29 2011
From: guillaume.meurice at igr.fr (Guillaume Meurice)
Date: Wed, 30 Mar 2011 17:45:29 +0200
Subject: [R-SIG-Mac] Probleme with libpng
In-Reply-To: <199484D7-43C8-48F6-AD77-A4645AFF57C3@r-project.org>
References: <0C432BB2-7A5C-4DE3-A60C-08E307213E62@igr.fr>
	<199484D7-43C8-48F6-AD77-A4645AFF57C3@r-project.org>
Message-ID: <E7E01EE8-D934-44AF-961F-694C6B81B44E@igr.fr>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20110330/2a1c9938/attachment.pl>

From guillaume.meurice at igr.fr  Thu Mar 31 09:24:44 2011
From: guillaume.meurice at igr.fr (Guillaume Meurice)
Date: Thu, 31 Mar 2011 09:24:44 +0200
Subject: [R-SIG-Mac] Probleme with libpng
In-Reply-To: <E7E01EE8-D934-44AF-961F-694C6B81B44E@igr.fr>
References: <0C432BB2-7A5C-4DE3-A60C-08E307213E62@igr.fr>
	<199484D7-43C8-48F6-AD77-A4645AFF57C3@r-project.org>
	<E7E01EE8-D934-44AF-961F-694C6B81B44E@igr.fr>
Message-ID: <DB806975-E88C-4071-BF96-9415A82BA0C2@igr.fr>

Dear All,

After several test, I finally found where was the problem : It came from a package called arrayQualityMetrics (arrayQualityMetrics_3.2.4).
When using an internal function of this package, another package is loaded : KernSmooth_2.23-4. 


a is the summary of sessionInfo before launching aqm function of arrayQualityMetrics package
b is the summary of sessionInfo after launching aqm function of arrayQualityMetrics package


> summary(a)
           Length Class  Mode     
R.version  13     -none- list     
platform    1     -none- character
locale      1     -none- character
basePkgs    7     -none- character
otherPkgs   7     -none- list     
loadedOnly 23     -none- list     
> summary(b)
           Length Class  Mode     
R.version  13     -none- list     
platform    1     -none- character
locale      1     -none- character
basePkgs    7     -none- character
otherPkgs   7     -none- list     
loadedOnly 24     -none- list    

as one can see below, the only difference between the two is the KernSmooth package 

I'm going to write to the authors of arrayQualityMetrics package so as they can update the KernSmooth package.

Cheers



PS : Below is the code launch : 

> a = sessionInfo()
> a
R version 2.12.2 (2011-02-25)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] arrayQualityMetrics_3.2.4 vsn_3.18.0                affyPLM_1.26.0            preprocessCore_1.12.0     gcrma_2.22.0             
[6] affy_1.28.0               Biobase_2.10.0           

loaded via a namespace (and not attached):
 [1] AnnotationDbi_1.12.0 Biostrings_2.18.2    DBI_0.2-5            IRanges_1.8.8        RColorBrewer_1.0-2   RSQLite_0.9-4       
 [7] SVGAnnotation_0.7-2  XML_3.2-0            affyio_1.18.0        annotate_1.28.0      beadarray_2.0.3      genefilter_1.32.0   
[13] grid_2.12.2          hwriter_1.3          lattice_0.19-17      latticeExtra_0.6-14  limma_3.6.9          marray_1.28.0       
[19] simpleaffy_2.26.1    splines_2.12.2       stats4_2.12.2        survival_2.36-5      xtable_1.5-6        
> 
> 
> png("foo.png")
> plot(rnorm(150,3))
> dev.off()
null device 
          1 
> 
> 
> 
> pData = target[,c(2,3)]
> rownames(pData) = target$Cy3
> phenoData = new("AnnotatedDataFrame", data=pData)
> 
> exprs = G$E
> colnames(exprs) = rownames(pData)
> eSet  = new("ExpressionSet", exprs = exprs, phenoData = phenoData)
> 
> arrayQualityMetrics(eSet, outdir="aqmRaw", do.logtransform=T)
The directory 'aqmRaw' has been created.
KernSmooth 2.23 loaded
Copyright M. P. Wand 1997-2009
(loaded the KernSmooth namespace)
[[1]]
libpng warning: Application was compiled with png.h from libpng-1.2.26
libpng warning: Application  is  running with png.c from libpng-1.4.1
libpng warning: Incompatible libpng version in application and library

libpng warning: Application was compiled with png.h from libpng-1.2.26
libpng warning: Application  is  running with png.c from libpng-1.4.1
libpng warning: Incompatible libpng version in application and library
Error in svg(file = svgtemp, h = h, w = w) : 
  cairo-based devices are not supported on this build
> 
> b = sessionInfo()
> b
R version 2.12.2 (2011-02-25)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
[1] arrayQualityMetrics_3.2.4 vsn_3.18.0                affyPLM_1.26.0            preprocessCore_1.12.0     gcrma_2.22.0             
[6] affy_1.28.0               Biobase_2.10.0           

loaded via a namespace (and not attached):
 [1] AnnotationDbi_1.12.0 Biostrings_2.18.2    DBI_0.2-5            IRanges_1.8.8        KernSmooth_2.23-4    RColorBrewer_1.0-2  
 [7] RSQLite_0.9-4        SVGAnnotation_0.7-2  XML_3.2-0            affyio_1.18.0        annotate_1.28.0      beadarray_2.0.3     
[13] genefilter_1.32.0    grid_2.12.2          hwriter_1.3          lattice_0.19-17      latticeExtra_0.6-14  limma_3.6.9         
[19] marray_1.28.0        simpleaffy_2.26.1    splines_2.12.2       stats4_2.12.2        survival_2.36-5      xtable_1.5-6   



Cheers,
--
Guillaume Meurice - PhD
> Dear Simon, 
> 
> thank for your answer.
> 
> I was just tring to draw a png :
> ==================
> png("foobar.png")
> plot(rnorm(10,3))
> dev.off()
> =================
> 
> which returns :
> 
> =================
> libpng warning: Application was compiled with png.h from libpng-1.2.26
> libpng warning: Application  is  running with png.c from libpng-1.4.1
> libpng warning: Incompatible libpng version in application and library
> =================
> 
> 
> 
> Then, after reading your answer, I've restarted R to check all libraries and the problem seems to be solved .... even with all the library I was using ...
> 
> Sorry for disturbing and many thanks :)
> 
> Cheers
> --
> Guillaume Meurice - PhD
> 
> Le Mar 30, 2011 ? 5:06 PM, Simon Urbanek a ?crit :
> 
>> You'll need to supply more details. What are you exactly doing? (reproducible example!) Which packages are you using? (sessionInfo()!)
>> Cheers,
>> Simon
>> 
>> 
>> On Mar 30, 2011, at 10:56 AM, Guillaume Meurice wrote:
>> 
>>> Dear all,
>>> 
>>> I've recently upgrade R to :
>>> 
>>> R 2.12.2 GUI 1.36 Leopard build 64-bit (5691)
>>> 
>>> But now, I can't drow any png image, since I have this error message :
>>> 
>>> libpng warning: Application was compiled with png.h from libpng-1.2.26
>>> libpng warning: Application  is  running with png.c from libpng-1.4.1
>>> libpng warning: Incompatible libpng version in application and library
>>> 
>>> 
>>> What should I do ? Is there any macosX package compiled with libpng 1.4.1 ?
>>> 
>>> 
>>> Thanks by advance for any help you could provide.
>>> Best regards,
>>> --
>>> Guillaume Meurice - PhD
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ripley at stats.ox.ac.uk  Thu Mar 31 09:59:34 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 31 Mar 2011 08:59:34 +0100 (BST)
Subject: [R-SIG-Mac] Probleme with libpng
In-Reply-To: <DB806975-E88C-4071-BF96-9415A82BA0C2@igr.fr>
References: <0C432BB2-7A5C-4DE3-A60C-08E307213E62@igr.fr>
	<199484D7-43C8-48F6-AD77-A4645AFF57C3@r-project.org>
	<E7E01EE8-D934-44AF-961F-694C6B81B44E@igr.fr>
	<DB806975-E88C-4071-BF96-9415A82BA0C2@igr.fr>
Message-ID: <alpine.LFD.2.02.1103310854040.29037@gannet.stats.ox.ac.uk>

Why do you think the KernSmooth package has anything to do with this?
(I am its maintainer and it does not used libpng.)  Load it first, and 
you should see that png() works when it is loaded.

Be careful when you make accusations on public fora that they are 
honest and truthful!

On Thu, 31 Mar 2011, Guillaume Meurice wrote:

> Dear All,
>
> After several test, I finally found where was the problem : It came from a package called arrayQualityMetrics (arrayQualityMetrics_3.2.4).
> When using an internal function of this package, another package is loaded : KernSmooth_2.23-4.
>
>
> a is the summary of sessionInfo before launching aqm function of arrayQualityMetrics package
> b is the summary of sessionInfo after launching aqm function of arrayQualityMetrics package
>
>
>> summary(a)
>           Length Class  Mode
> R.version  13     -none- list
> platform    1     -none- character
> locale      1     -none- character
> basePkgs    7     -none- character
> otherPkgs   7     -none- list
> loadedOnly 23     -none- list
>> summary(b)
>           Length Class  Mode
> R.version  13     -none- list
> platform    1     -none- character
> locale      1     -none- character
> basePkgs    7     -none- character
> otherPkgs   7     -none- list
> loadedOnly 24     -none- list
>
> as one can see below, the only difference between the two is the KernSmooth package
>
> I'm going to write to the authors of arrayQualityMetrics package so as they can update the KernSmooth package.
>
> Cheers
>
>
>
> PS : Below is the code launch :
>
>> a = sessionInfo()
>> a
> R version 2.12.2 (2011-02-25)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] arrayQualityMetrics_3.2.4 vsn_3.18.0                affyPLM_1.26.0            preprocessCore_1.12.0     gcrma_2.22.0
> [6] affy_1.28.0               Biobase_2.10.0
>
> loaded via a namespace (and not attached):
> [1] AnnotationDbi_1.12.0 Biostrings_2.18.2    DBI_0.2-5            IRanges_1.8.8        RColorBrewer_1.0-2   RSQLite_0.9-4
> [7] SVGAnnotation_0.7-2  XML_3.2-0            affyio_1.18.0        annotate_1.28.0      beadarray_2.0.3      genefilter_1.32.0
> [13] grid_2.12.2          hwriter_1.3          lattice_0.19-17      latticeExtra_0.6-14  limma_3.6.9          marray_1.28.0
> [19] simpleaffy_2.26.1    splines_2.12.2       stats4_2.12.2        survival_2.36-5      xtable_1.5-6
>>
>>
>> png("foo.png")
>> plot(rnorm(150,3))
>> dev.off()
> null device
>          1
>>
>>
>>
>> pData = target[,c(2,3)]
>> rownames(pData) = target$Cy3
>> phenoData = new("AnnotatedDataFrame", data=pData)
>>
>> exprs = G$E
>> colnames(exprs) = rownames(pData)
>> eSet  = new("ExpressionSet", exprs = exprs, phenoData = phenoData)
>>
>> arrayQualityMetrics(eSet, outdir="aqmRaw", do.logtransform=T)
> The directory 'aqmRaw' has been created.
> KernSmooth 2.23 loaded
> Copyright M. P. Wand 1997-2009
> (loaded the KernSmooth namespace)
> [[1]]
> libpng warning: Application was compiled with png.h from libpng-1.2.26
> libpng warning: Application  is  running with png.c from libpng-1.4.1
> libpng warning: Incompatible libpng version in application and library
>
> libpng warning: Application was compiled with png.h from libpng-1.2.26
> libpng warning: Application  is  running with png.c from libpng-1.4.1
> libpng warning: Incompatible libpng version in application and library
> Error in svg(file = svgtemp, h = h, w = w) :
>  cairo-based devices are not supported on this build
>>
>> b = sessionInfo()
>> b
> R version 2.12.2 (2011-02-25)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> other attached packages:
> [1] arrayQualityMetrics_3.2.4 vsn_3.18.0                affyPLM_1.26.0            preprocessCore_1.12.0     gcrma_2.22.0
> [6] affy_1.28.0               Biobase_2.10.0
>
> loaded via a namespace (and not attached):
> [1] AnnotationDbi_1.12.0 Biostrings_2.18.2    DBI_0.2-5            IRanges_1.8.8        KernSmooth_2.23-4    RColorBrewer_1.0-2
> [7] RSQLite_0.9-4        SVGAnnotation_0.7-2  XML_3.2-0            affyio_1.18.0        annotate_1.28.0      beadarray_2.0.3
> [13] genefilter_1.32.0    grid_2.12.2          hwriter_1.3          lattice_0.19-17      latticeExtra_0.6-14  limma_3.6.9
> [19] marray_1.28.0        simpleaffy_2.26.1    splines_2.12.2       stats4_2.12.2        survival_2.36-5      xtable_1.5-6
>
>
>
> Cheers,
> --
> Guillaume Meurice - PhD
>> Dear Simon,
>>
>> thank for your answer.
>>
>> I was just tring to draw a png :
>> ==================
>> png("foobar.png")
>> plot(rnorm(10,3))
>> dev.off()
>> =================
>>
>> which returns :
>>
>> =================
>> libpng warning: Application was compiled with png.h from libpng-1.2.26
>> libpng warning: Application  is  running with png.c from libpng-1.4.1
>> libpng warning: Incompatible libpng version in application and library
>> =================
>>
>>
>>
>> Then, after reading your answer, I've restarted R to check all libraries and the problem seems to be solved .... even with all the library I was using ...
>>
>> Sorry for disturbing and many thanks :)
>>
>> Cheers
>> --
>> Guillaume Meurice - PhD
>>
>> Le Mar 30, 2011 ? 5:06 PM, Simon Urbanek a ?crit :
>>
>>> You'll need to supply more details. What are you exactly doing? (reproducible example!) Which packages are you using? (sessionInfo()!)
>>> Cheers,
>>> Simon
>>>
>>>
>>> On Mar 30, 2011, at 10:56 AM, Guillaume Meurice wrote:
>>>
>>>> Dear all,
>>>>
>>>> I've recently upgrade R to :
>>>>
>>>> R 2.12.2 GUI 1.36 Leopard build 64-bit (5691)
>>>>
>>>> But now, I can't drow any png image, since I have this error message :
>>>>
>>>> libpng warning: Application was compiled with png.h from libpng-1.2.26
>>>> libpng warning: Application  is  running with png.c from libpng-1.4.1
>>>> libpng warning: Incompatible libpng version in application and library
>>>>
>>>>
>>>> What should I do ? Is there any macosX package compiled with libpng 1.4.1 ?
>>>>
>>>>
>>>> Thanks by advance for any help you could provide.
>>>> Best regards,
>>>> --
>>>> Guillaume Meurice - PhD
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>
>>
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From guillaume.meurice at igr.fr  Thu Mar 31 10:23:13 2011
From: guillaume.meurice at igr.fr (Guillaume Meurice)
Date: Thu, 31 Mar 2011 10:23:13 +0200
Subject: [R-SIG-Mac] Probleme with libpng
In-Reply-To: <alpine.LFD.2.02.1103310854040.29037@gannet.stats.ox.ac.uk>
References: <0C432BB2-7A5C-4DE3-A60C-08E307213E62@igr.fr>
	<199484D7-43C8-48F6-AD77-A4645AFF57C3@r-project.org>
	<E7E01EE8-D934-44AF-961F-694C6B81B44E@igr.fr>
	<DB806975-E88C-4071-BF96-9415A82BA0C2@igr.fr>
	<alpine.LFD.2.02.1103310854040.29037@gannet.stats.ox.ac.uk>
Message-ID: <B5A0D584-13AB-4A39-BF09-C031E2C8CD8B@igr.fr>

> Why do you think the KernSmooth package has anything to do with this?
> (I am its maintainer and it does not used libpng.)  Load it first, and you should see that png() works when it is loaded.

I'm thinking that your package was the problem because the only difference before and after the problem occurs was the fact that your package have been loaded.
But effectively, I didn't check to load your package alone. Once this have been done, it appears that it causes no problems.

> Be careful when you make accusations on public fora that they are honest and truthful!

Sorry about that, my point was not to make any accusation, but to try to pinpoint the cause of a recurring problem. 
And as you can read, my first opinion was to ask the maintainer of arrayQualityMetrics, because I think the problem is more a compilation 
problem of their own.


> 
>> Dear All,
>> 
>> After several test, I finally found where was the problem : It came from a package called arrayQualityMetrics (arrayQualityMetrics_3.2.4).
>> When using an internal function of this package, another package is loaded : KernSmooth_2.23-4.
>> 
>> 
>> a is the summary of sessionInfo before launching aqm function of arrayQualityMetrics package
>> b is the summary of sessionInfo after launching aqm function of arrayQualityMetrics package
>> 
>> 
>>> summary(a)
>>          Length Class  Mode
>> R.version  13     -none- list
>> platform    1     -none- character
>> locale      1     -none- character
>> basePkgs    7     -none- character
>> otherPkgs   7     -none- list
>> loadedOnly 23     -none- list
>>> summary(b)
>>          Length Class  Mode
>> R.version  13     -none- list
>> platform    1     -none- character
>> locale      1     -none- character
>> basePkgs    7     -none- character
>> otherPkgs   7     -none- list
>> loadedOnly 24     -none- list
>> 
>> as one can see below, the only difference between the two is the KernSmooth package
>> 
>> I'm going to write to the authors of arrayQualityMetrics package so as they can update the KernSmooth package.
>> 
>> Cheers
>> 
>> 
>> 
>> PS : Below is the code launch :
>> 
>>> a = sessionInfo()
>>> a
>> R version 2.12.2 (2011-02-25)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> 
>> locale:
>> [1] C
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>> 
>> other attached packages:
>> [1] arrayQualityMetrics_3.2.4 vsn_3.18.0                affyPLM_1.26.0            preprocessCore_1.12.0     gcrma_2.22.0
>> [6] affy_1.28.0               Biobase_2.10.0
>> 
>> loaded via a namespace (and not attached):
>> [1] AnnotationDbi_1.12.0 Biostrings_2.18.2    DBI_0.2-5            IRanges_1.8.8        RColorBrewer_1.0-2   RSQLite_0.9-4
>> [7] SVGAnnotation_0.7-2  XML_3.2-0            affyio_1.18.0        annotate_1.28.0      beadarray_2.0.3      genefilter_1.32.0
>> [13] grid_2.12.2          hwriter_1.3          lattice_0.19-17      latticeExtra_0.6-14  limma_3.6.9          marray_1.28.0
>> [19] simpleaffy_2.26.1    splines_2.12.2       stats4_2.12.2        survival_2.36-5      xtable_1.5-6
>>> 
>>> 
>>> png("foo.png")
>>> plot(rnorm(150,3))
>>> dev.off()
>> null device
>>         1
>>> 
>>> 
>>> 
>>> pData = target[,c(2,3)]
>>> rownames(pData) = target$Cy3
>>> phenoData = new("AnnotatedDataFrame", data=pData)
>>> 
>>> exprs = G$E
>>> colnames(exprs) = rownames(pData)
>>> eSet  = new("ExpressionSet", exprs = exprs, phenoData = phenoData)
>>> 
>>> arrayQualityMetrics(eSet, outdir="aqmRaw", do.logtransform=T)
>> The directory 'aqmRaw' has been created.
>> KernSmooth 2.23 loaded
>> Copyright M. P. Wand 1997-2009
>> (loaded the KernSmooth namespace)
>> [[1]]
>> libpng warning: Application was compiled with png.h from libpng-1.2.26
>> libpng warning: Application  is  running with png.c from libpng-1.4.1
>> libpng warning: Incompatible libpng version in application and library
>> 
>> libpng warning: Application was compiled with png.h from libpng-1.2.26
>> libpng warning: Application  is  running with png.c from libpng-1.4.1
>> libpng warning: Incompatible libpng version in application and library
>> Error in svg(file = svgtemp, h = h, w = w) :
>> cairo-based devices are not supported on this build
>>> 
>>> b = sessionInfo()
>>> b
>> R version 2.12.2 (2011-02-25)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> 
>> locale:
>> [1] C
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>> 
>> other attached packages:
>> [1] arrayQualityMetrics_3.2.4 vsn_3.18.0                affyPLM_1.26.0            preprocessCore_1.12.0     gcrma_2.22.0
>> [6] affy_1.28.0               Biobase_2.10.0
>> 
>> loaded via a namespace (and not attached):
>> [1] AnnotationDbi_1.12.0 Biostrings_2.18.2    DBI_0.2-5            IRanges_1.8.8        KernSmooth_2.23-4    RColorBrewer_1.0-2
>> [7] RSQLite_0.9-4        SVGAnnotation_0.7-2  XML_3.2-0            affyio_1.18.0        annotate_1.28.0      beadarray_2.0.3
>> [13] genefilter_1.32.0    grid_2.12.2          hwriter_1.3          lattice_0.19-17      latticeExtra_0.6-14  limma_3.6.9
>> [19] marray_1.28.0        simpleaffy_2.26.1    splines_2.12.2       stats4_2.12.2        survival_2.36-5      xtable_1.5-6
>> 
>> 
>> 
>> Cheers,
>> --
>> Guillaume Meurice - PhD
>>> Dear Simon,
>>> 
>>> thank for your answer.
>>> 
>>> I was just tring to draw a png :
>>> ==================
>>> png("foobar.png")
>>> plot(rnorm(10,3))
>>> dev.off()
>>> =================
>>> 
>>> which returns :
>>> 
>>> =================
>>> libpng warning: Application was compiled with png.h from libpng-1.2.26
>>> libpng warning: Application  is  running with png.c from libpng-1.4.1
>>> libpng warning: Incompatible libpng version in application and library
>>> =================
>>> 
>>> 
>>> 
>>> Then, after reading your answer, I've restarted R to check all libraries and the problem seems to be solved .... even with all the library I was using ...
>>> 
>>> Sorry for disturbing and many thanks :)
>>> 
>>> Cheers
>>> --
>>> Guillaume Meurice - PhD
>>> 
>>> Le Mar 30, 2011 ? 5:06 PM, Simon Urbanek a ?crit :
>>> 
>>>> You'll need to supply more details. What are you exactly doing? (reproducible example!) Which packages are you using? (sessionInfo()!)
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>> On Mar 30, 2011, at 10:56 AM, Guillaume Meurice wrote:
>>>> 
>>>>> Dear all,
>>>>> 
>>>>> I've recently upgrade R to :
>>>>> 
>>>>> R 2.12.2 GUI 1.36 Leopard build 64-bit (5691)
>>>>> 
>>>>> But now, I can't drow any png image, since I have this error message :
>>>>> 
>>>>> libpng warning: Application was compiled with png.h from libpng-1.2.26
>>>>> libpng warning: Application  is  running with png.c from libpng-1.4.1
>>>>> libpng warning: Incompatible libpng version in application and library
>>>>> 
>>>>> 
>>>>> What should I do ? Is there any macosX package compiled with libpng 1.4.1 ?
>>>>> 
>>>>> 
>>>>> Thanks by advance for any help you could provide.
>>>>> Best regards,
>>>>> --
>>>>> Guillaume Meurice - PhD
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> 
>>>> 
>>> 
>>> 
>>> 	[[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


