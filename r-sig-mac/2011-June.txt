From m_hofert at web.de  Thu Jun  2 07:54:19 2011
From: m_hofert at web.de (Marius Hofert)
Date: Thu, 2 Jun 2011 07:54:19 +0200
Subject: [R-SIG-Mac] check leads to .o files and to packagename-Ex.R
Message-ID: <4A83757C-12EB-4F53-8C26-D23BC7C256D8@web.de>

Dear expeRts,

I work on the R package "nacopula" (https://r-forge.r-project.org/projects/nacopula/) under Mac OS X 10.6.7 (MacBook Pro). The session info is:
R version 2.14.0 Under development (unstable) (2011-05-02 r55730)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

When I apply "R CMD check nacopula" my source directory is filled with .o files (which leads to 
a warning for the next check). Further, if I use R 2.14.0, the check produces a file "nacopula-Ex.R" 
on the top level, i.e., where folders like R, src, tests, man, inst, and demo reside. 
Shouldn't the source directory stay nice-and-clean, without being filled with .o
files and example files?

Cheers,

Marius

Attachment: screen shot

-------------- next part --------------
A non-text attachment was scrubbed...
Name: screenshot.PNG
Type: image/png
Size: 44473 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20110602/0ed30a8c/attachment-0001.png>

From beniltoncarvalho at gmail.com  Thu Jun  2 12:47:36 2011
From: beniltoncarvalho at gmail.com (Benilton Carvalho)
Date: Thu, 2 Jun 2011 11:47:36 +0100
Subject: [R-SIG-Mac] check leads to .o files and to packagename-Ex.R
In-Reply-To: <4A83757C-12EB-4F53-8C26-D23BC7C256D8@web.de>
References: <4A83757C-12EB-4F53-8C26-D23BC7C256D8@web.de>
Message-ID: <BANLkTinvZG=LCadGAienYSRpZu+4BvwV8w@mail.gmail.com>

'R CMD check' should be applied on the .tar.gz, not on the source directory.

So, it'd be something like:

R CMD build pkg
R CMD check pkg_version.tar.gz

b

On 2 June 2011 06:54, Marius Hofert <m_hofert at web.de> wrote:
> Dear expeRts,
>
> I work on the R package "nacopula" (https://r-forge.r-project.org/projects/nacopula/) under Mac OS X 10.6.7 (MacBook Pro). The session info is:
> R version 2.14.0 Under development (unstable) (2011-05-02 r55730)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> When I apply "R CMD check nacopula" my source directory is filled with .o files (which leads to
> a warning for the next check). Further, if I use R 2.14.0, the check produces a file "nacopula-Ex.R"
> on the top level, i.e., where folders like R, src, tests, man, inst, and demo reside.
> Shouldn't the source directory stay nice-and-clean, without being filled with .o
> files and example files?
>
> Cheers,
>
> Marius
>
> Attachment: screen shot
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>



-- 
Successful people ask better questions, and as a result, they get
better answers. (Tony Robbins)


From m_hofert at web.de  Thu Jun  2 14:42:45 2011
From: m_hofert at web.de (Marius Hofert)
Date: Thu, 2 Jun 2011 14:42:45 +0200
Subject: [R-SIG-Mac] check leads to .o files and to packagename-Ex.R
In-Reply-To: <BANLkTinvZG=LCadGAienYSRpZu+4BvwV8w@mail.gmail.com>
References: <4A83757C-12EB-4F53-8C26-D23BC7C256D8@web.de>
	<BANLkTinvZG=LCadGAienYSRpZu+4BvwV8w@mail.gmail.com>
Message-ID: <A2AFEDCC-813B-4B84-9F57-3E566EA95FC3@web.de>

Dear Benilton,

thanks, that solved all issues.

Cheers,

Marius

On 2011-06-02, at 12:47 , Benilton Carvalho wrote:

> 'R CMD check' should be applied on the .tar.gz, not on the source directory.
> 
> So, it'd be something like:
> 
> R CMD build pkg
> R CMD check pkg_version.tar.gz
> 
> b
> 
> On 2 June 2011 06:54, Marius Hofert <m_hofert at web.de> wrote:
>> Dear expeRts,
>> 
>> I work on the R package "nacopula" (https://r-forge.r-project.org/projects/nacopula/) under Mac OS X 10.6.7 (MacBook Pro). The session info is:
>> R version 2.14.0 Under development (unstable) (2011-05-02 r55730)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> 
>> When I apply "R CMD check nacopula" my source directory is filled with .o files (which leads to
>> a warning for the next check). Further, if I use R 2.14.0, the check produces a file "nacopula-Ex.R"
>> on the top level, i.e., where folders like R, src, tests, man, inst, and demo reside.
>> Shouldn't the source directory stay nice-and-clean, without being filled with .o
>> files and example files?
>> 
>> Cheers,
>> 
>> Marius
>> 
>> Attachment: screen shot
>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 
> 
> 
> -- 
> Successful people ask better questions, and as a result, they get
> better answers. (Tony Robbins)


From hadley at rice.edu  Tue Jun  7 00:56:02 2011
From: hadley at rice.edu (Hadley Wickham)
Date: Mon, 6 Jun 2011 15:56:02 -0700
Subject: [R-SIG-Mac] Using X11 from the mac terminal
Message-ID: <BANLkTimu8Fcrotqdk8TAFmGF9d7WOnYCsXnv6mzxRTuwM2ocjw@mail.gmail.com>

> X11()
Error in X11(d$display, d$width, d$height, d$pointsize, d$gamma,
d$colortype,  :
  unable to start device X11
In addition: Warning message:
In X11() : unable to open connection to X11 display ''

What am I doing wrong?  X11 is open, and I have

> Sys.getenv("DISPLAY")
[1] "0.0.0.0:0"

I'm sure this used to work, but something has changed in the last few
months.  Any ideas?

Thanks!

Hadley

-- 
Assistant Professor / Dobelman Family Junior Chair
Department of Statistics / Rice University
http://had.co.nz/


From beniltoncarvalho at gmail.com  Tue Jun  7 01:13:03 2011
From: beniltoncarvalho at gmail.com (Benilton Carvalho)
Date: Tue, 7 Jun 2011 00:13:03 +0100
Subject: [R-SIG-Mac] Using X11 from the mac terminal
In-Reply-To: <BANLkTimu8Fcrotqdk8TAFmGF9d7WOnYCsXnv6mzxRTuwM2ocjw@mail.gmail.com>
References: <BANLkTimu8Fcrotqdk8TAFmGF9d7WOnYCsXnv6mzxRTuwM2ocjw@mail.gmail.com>
Message-ID: <BANLkTi=6mE=oU8H5GccurVQX-0t4_Ra-xw@mail.gmail.com>

I know this sounds obvious... but whenever such weird things happen to
me, I close R, kill X11 and fire up R again... and the problems go
away....

b

On 6 June 2011 23:56, Hadley Wickham <hadley at rice.edu> wrote:
>> X11()
> Error in X11(d$display, d$width, d$height, d$pointsize, d$gamma,
> d$colortype, ?:
> ?unable to start device X11
> In addition: Warning message:
> In X11() : unable to open connection to X11 display ''
>
> What am I doing wrong? ?X11 is open, and I have
>
>> Sys.getenv("DISPLAY")
> [1] "0.0.0.0:0"
>
> I'm sure this used to work, but something has changed in the last few
> months. ?Any ideas?
>
> Thanks!
>
> Hadley
>
> --
> Assistant Professor / Dobelman Family Junior Chair
> Department of Statistics / Rice University
> http://had.co.nz/
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>



-- 
Successful people ask better questions, and as a result, they get
better answers. (Tony Robbins)


From hadley at rice.edu  Tue Jun  7 02:30:12 2011
From: hadley at rice.edu (Hadley Wickham)
Date: Mon, 6 Jun 2011 17:30:12 -0700
Subject: [R-SIG-Mac] Using X11 from the mac terminal
In-Reply-To: <BANLkTi=6mE=oU8H5GccurVQX-0t4_Ra-xw@mail.gmail.com>
References: <BANLkTimu8Fcrotqdk8TAFmGF9d7WOnYCsXnv6mzxRTuwM2ocjw@mail.gmail.com>
	<BANLkTi=6mE=oU8H5GccurVQX-0t4_Ra-xw@mail.gmail.com>
Message-ID: <BANLkTimArtC6Vi3rptHVDAmNV4-AwoWqP8TqaWMQuyBKoeYFaw@mail.gmail.com>

Should have mentioned I already tried that :(
Hadley

On Mon, Jun 6, 2011 at 4:13 PM, Benilton Carvalho
<beniltoncarvalho at gmail.com> wrote:
> I know this sounds obvious... but whenever such weird things happen to
> me, I close R, kill X11 and fire up R again... and the problems go
> away....
>
> b
>
> On 6 June 2011 23:56, Hadley Wickham <hadley at rice.edu> wrote:
>>> X11()
>> Error in X11(d$display, d$width, d$height, d$pointsize, d$gamma,
>> d$colortype, ?:
>> ?unable to start device X11
>> In addition: Warning message:
>> In X11() : unable to open connection to X11 display ''
>>
>> What am I doing wrong? ?X11 is open, and I have
>>
>>> Sys.getenv("DISPLAY")
>> [1] "0.0.0.0:0"
>>
>> I'm sure this used to work, but something has changed in the last few
>> months. ?Any ideas?
>>
>> Thanks!
>>
>> Hadley
>>
>> --
>> Assistant Professor / Dobelman Family Junior Chair
>> Department of Statistics / Rice University
>> http://had.co.nz/
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
>
>
> --
> Successful people ask better questions, and as a result, they get
> better answers. (Tony Robbins)
>
>



-- 
Assistant Professor / Dobelman Family Junior Chair
Department of Statistics / Rice University
http://had.co.nz/


From murdoch.duncan at gmail.com  Tue Jun  7 03:10:44 2011
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Mon, 6 Jun 2011 21:10:44 -0400
Subject: [R-SIG-Mac] Using X11 from the mac terminal
In-Reply-To: <BANLkTimu8Fcrotqdk8TAFmGF9d7WOnYCsXnv6mzxRTuwM2ocjw@mail.gmail.com>
References: <BANLkTimu8Fcrotqdk8TAFmGF9d7WOnYCsXnv6mzxRTuwM2ocjw@mail.gmail.com>
Message-ID: <4DED7A94.1030702@gmail.com>

On 11-06-06 6:56 PM, Hadley Wickham wrote:
>> X11()
> Error in X11(d$display, d$width, d$height, d$pointsize, d$gamma,
> d$colortype,  :
>    unable to start device X11
> In addition: Warning message:
> In X11() : unable to open connection to X11 display ''
>
> What am I doing wrong?  X11 is open, and I have
>
>> Sys.getenv("DISPLAY")
> [1] "0.0.0.0:0"
>
> I'm sure this used to work, but something has changed in the last few
> months.  Any ideas?

I'm on a Mac right now that works, but it shows

 > X11()
 > Sys.getenv("DISPLAY")
[1] "/tmp/launch-OjzUQo/org.x:0"

Duncan Murdoch


From lists at remoteinformation.com.au  Tue Jun  7 04:07:14 2011
From: lists at remoteinformation.com.au (Ben Madin)
Date: Tue, 7 Jun 2011 10:07:14 +0800
Subject: [R-SIG-Mac] Using X11 from the mac terminal
In-Reply-To: <4DED7A94.1030702@gmail.com>
References: <BANLkTimu8Fcrotqdk8TAFmGF9d7WOnYCsXnv6mzxRTuwM2ocjw@mail.gmail.com>
	<4DED7A94.1030702@gmail.com>
Message-ID: <E0501D45-0DF0-4D20-91C4-C74B2D32BD53@remoteinformation.com.au>

Hadley,

I get the same result as Duncan, sessionInfo() attached:

> X11()
> Sys.getenv("DISPLAY")
[1] "/tmp/launch-00BR0w/org.x:0"
> sessionInfo()
R version 2.13.0 Patched (2011-05-26 r55996)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_AU.UTF-8/en_AU.UTF-8/C/C/en_AU.UTF-8/en_AU.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

And X11 

XQuartz 2.3.6 (xorg-server 1.4.2-apple56)


cheers

Ben






On 07/06/2011, at 9:10 AM, Duncan Murdoch wrote:

> On 11-06-06 6:56 PM, Hadley Wickham wrote:
>>> X11()
>> Error in X11(d$display, d$width, d$height, d$pointsize, d$gamma,
>> d$colortype,  :
>>   unable to start device X11
>> In addition: Warning message:
>> In X11() : unable to open connection to X11 display ''
>> 
>> What am I doing wrong?  X11 is open, and I have
>> 
>>> Sys.getenv("DISPLAY")
>> [1] "0.0.0.0:0"
>> 
>> I'm sure this used to work, but something has changed in the last few
>> months.  Any ideas?
> 
> I'm on a Mac right now that works, but it shows
> 
> > X11()
> > Sys.getenv("DISPLAY")
> [1] "/tmp/launch-OjzUQo/org.x:0"
> 
> Duncan Murdoch
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Tue Jun  7 04:14:29 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 6 Jun 2011 22:14:29 -0400
Subject: [R-SIG-Mac] Using X11 from the mac terminal
In-Reply-To: <E0501D45-0DF0-4D20-91C4-C74B2D32BD53@remoteinformation.com.au>
References: <BANLkTimu8Fcrotqdk8TAFmGF9d7WOnYCsXnv6mzxRTuwM2ocjw@mail.gmail.com>
	<4DED7A94.1030702@gmail.com>
	<E0501D45-0DF0-4D20-91C4-C74B2D32BD53@remoteinformation.com.au>
Message-ID: <3652C13F-3B9A-4307-8815-5660F42280B9@r-project.org>

If you are like me and absolutely hate the Apple auto-X11 setting and disabled it then something like
X11(":0.0")
should work *after* you start X11. If in doubt, open the xterm and look at
echo $DISPLAY
sometimes it may be something like :2 instead (it depends on your other X11 processes, weather and the constellation of stars...)

Cheers,
Simon



On Jun 6, 2011, at 10:07 PM, Ben Madin wrote:

> Hadley,
> 
> I get the same result as Duncan, sessionInfo() attached:
> 
>> X11()
>> Sys.getenv("DISPLAY")
> [1] "/tmp/launch-00BR0w/org.x:0"
>> sessionInfo()
> R version 2.13.0 Patched (2011-05-26 r55996)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_AU.UTF-8/en_AU.UTF-8/C/C/en_AU.UTF-8/en_AU.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
> 
> And X11 
> 
> XQuartz 2.3.6 (xorg-server 1.4.2-apple56)
> 
> 
> cheers
> 
> Ben
> 
> 
> 
> 
> 
> 
> On 07/06/2011, at 9:10 AM, Duncan Murdoch wrote:
> 
>> On 11-06-06 6:56 PM, Hadley Wickham wrote:
>>>> X11()
>>> Error in X11(d$display, d$width, d$height, d$pointsize, d$gamma,
>>> d$colortype,  :
>>>  unable to start device X11
>>> In addition: Warning message:
>>> In X11() : unable to open connection to X11 display ''
>>> 
>>> What am I doing wrong?  X11 is open, and I have
>>> 
>>>> Sys.getenv("DISPLAY")
>>> [1] "0.0.0.0:0"
>>> 
>>> I'm sure this used to work, but something has changed in the last few
>>> months.  Any ideas?
>> 
>> I'm on a Mac right now that works, but it shows
>> 
>>> X11()
>>> Sys.getenv("DISPLAY")
>> [1] "/tmp/launch-OjzUQo/org.x:0"
>> 
>> Duncan Murdoch
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From hadley at rice.edu  Tue Jun  7 07:37:32 2011
From: hadley at rice.edu (Hadley Wickham)
Date: Mon, 6 Jun 2011 22:37:32 -0700
Subject: [R-SIG-Mac] Using X11 from the mac terminal
In-Reply-To: <3652C13F-3B9A-4307-8815-5660F42280B9@r-project.org>
References: <BANLkTimu8Fcrotqdk8TAFmGF9d7WOnYCsXnv6mzxRTuwM2ocjw@mail.gmail.com>
	<4DED7A94.1030702@gmail.com>
	<E0501D45-0DF0-4D20-91C4-C74B2D32BD53@remoteinformation.com.au>
	<3652C13F-3B9A-4307-8815-5660F42280B9@r-project.org>
Message-ID: <BANLkTi=Ph7hmRedf+dqO6Qz8LaDHiGUC0Q@mail.gmail.com>

Ah, that seems to be the problem - thanks!
Hadley

On Mon, Jun 6, 2011 at 7:14 PM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
> If you are like me and absolutely hate the Apple auto-X11 setting and disabled it then something like
> X11(":0.0")
> should work *after* you start X11. If in doubt, open the xterm and look at
> echo $DISPLAY
> sometimes it may be something like :2 instead (it depends on your other X11 processes, weather and the constellation of stars...)
>
> Cheers,
> Simon
>
>
>
> On Jun 6, 2011, at 10:07 PM, Ben Madin wrote:
>
>> Hadley,
>>
>> I get the same result as Duncan, sessionInfo() attached:
>>
>>> X11()
>>> Sys.getenv("DISPLAY")
>> [1] "/tmp/launch-00BR0w/org.x:0"
>>> sessionInfo()
>> R version 2.13.0 Patched (2011-05-26 r55996)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>
>> locale:
>> [1] en_AU.UTF-8/en_AU.UTF-8/C/C/en_AU.UTF-8/en_AU.UTF-8
>>
>> attached base packages:
>> [1] stats ? ? graphics ?grDevices utils ? ? datasets ?methods ? base
>>
>> And X11
>>
>> XQuartz 2.3.6 (xorg-server 1.4.2-apple56)
>>
>>
>> cheers
>>
>> Ben
>>
>>
>>
>>
>>
>>
>> On 07/06/2011, at 9:10 AM, Duncan Murdoch wrote:
>>
>>> On 11-06-06 6:56 PM, Hadley Wickham wrote:
>>>>> X11()
>>>> Error in X11(d$display, d$width, d$height, d$pointsize, d$gamma,
>>>> d$colortype, ?:
>>>> ?unable to start device X11
>>>> In addition: Warning message:
>>>> In X11() : unable to open connection to X11 display ''
>>>>
>>>> What am I doing wrong? ?X11 is open, and I have
>>>>
>>>>> Sys.getenv("DISPLAY")
>>>> [1] "0.0.0.0:0"
>>>>
>>>> I'm sure this used to work, but something has changed in the last few
>>>> months. ?Any ideas?
>>>
>>> I'm on a Mac right now that works, but it shows
>>>
>>>> X11()
>>>> Sys.getenv("DISPLAY")
>>> [1] "/tmp/launch-OjzUQo/org.x:0"
>>>
>>> Duncan Murdoch
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>



-- 
Assistant Professor / Dobelman Family Junior Chair
Department of Statistics / Rice University
http://had.co.nz/


From richard.liu at pueo-owl.ch  Tue Jun  7 17:09:32 2011
From: richard.liu at pueo-owl.ch (Richard R. Liu)
Date: Tue, 7 Jun 2011 17:09:32 +0200 (CEST)
Subject: [R-SIG-Mac] Package installation messages appear in red
Message-ID: <11588289.6007.1307459372258.JavaMail.open-xchange@oxde01.ibone.ch>

Hi,
?
I just noticed that, when I work in the R Console and install packages using
Packages & Data > Package Installer, the informative messages appear in red.
?These don't appear to be error messages. ?They are messages like
?
trying URL
'http://stat.ethz.ch/CRAN/bin/macosx/leopard/contrib/2.13/testthat_0.5.tgz'
Content type 'application/x-tar' length 77957 bytes (76 Kb)
opened URL
==================================================
downloaded 76 Kb
?
This happens on a MacBook Pro running OS X 10.6.7 and R 2.13.0 Patched. ?A
similar setup on a MacPro with R 2.12.2 Patched produces the same messages in
black. ?Which setup is working correctly, and how can I modify the other? ?On
both, Output is configure black and Stderr red.
?
Regards,
?
Richard R. Liu
richard.liu at pueo-owl.ch


From maj at waikato.ac.nz  Thu Jun  9 04:21:41 2011
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Thu, 9 Jun 2011 14:21:41 +1200
Subject: [R-SIG-Mac] Making R packages on a Mac
Message-ID: <4DF02E35.70608@waikato.ac.nz>

I want to use some of my R scripts and datasets as a basis for an R 
package. I have been advised to avoid trying to do this under Windows so 
I thought I would see what I can do on my iMac, which runs Leopard.

Can any members of this group recommend Mac-oriented tutorials or 
similar documents that give advice on package development in the OS-X 
environment?

With thanks  -  Murray Jorgensen

-- 
Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html
Department of Statistics, University of Waikato, Hamilton, New Zealand
Email: maj at waikato.ac.nz                                Fax 7 838 4155
Phone  +64 7 838 4773 wk    Home +64 7 825 0441   Mobile 021 0200 8350


From simon.urbanek at r-project.org  Thu Jun  9 05:17:54 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 8 Jun 2011 23:17:54 -0400
Subject: [R-SIG-Mac] Making R packages on a Mac
In-Reply-To: <4DF02E35.70608@waikato.ac.nz>
References: <4DF02E35.70608@waikato.ac.nz>
Message-ID: <333C95D4-5061-44CD-88CD-0D8B012570CC@r-project.org>

On Jun 8, 2011, at 10:21 PM, Murray Jorgensen wrote:

> I want to use some of my R scripts and datasets as a basis for an R package. I have been advised to avoid trying to do this under Windows so I thought I would see what I can do on my iMac, which runs Leopard.
> 
> Can any members of this group recommend Mac-oriented tutorials or similar documents that give advice on package development in the OS-X environment?
> 

Essentially the process is no different than on any other unix system and that is well documented in the R documentation. The only "special" requirement is that you should make sure you installed a reasonably recent Xcode (the current version for Leopard is Xcode 3.1.4), otherwise you should be able to follow the instructions literally.

For the actual development there is the choice of your favorite editor, and there are many options - you can check the archives of this list for those discussions. One of the more common options is emacs + ESS since that allows you to edit native code, R code and Rd documentation in the same editor.

That's pretty much all - everything else is in the R docs - you can use package.skeleton() to get you started and prompt() to document your functions ... that's pretty much all I can think off ...

Cheers,
Simon

PS: Although I would not recommend anyone to use Windows, period, the Windows R development support has been dramatically improved over the time so it's not really as discouraged as it used to be.


From mailinglist.honeypot at gmail.com  Thu Jun  9 05:31:36 2011
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Wed, 8 Jun 2011 23:31:36 -0400
Subject: [R-SIG-Mac] Making R packages on a Mac
In-Reply-To: <4DF02E35.70608@waikato.ac.nz>
References: <4DF02E35.70608@waikato.ac.nz>
Message-ID: <BANLkTim9FgEDWVp6=Zb-cGD8uohSSgFfwQ@mail.gmail.com>

Hello,

On Wed, Jun 8, 2011 at 10:21 PM, Murray Jorgensen <maj at waikato.ac.nz> wrote:
> I want to use some of my R scripts and datasets as a basis for an R package.
> I have been advised to avoid trying to do this under Windows so I thought I
> would see what I can do on my iMac, which runs Leopard.
>
> Can any members of this group recommend Mac-oriented tutorials or similar
> documents that give advice on package development in the OS-X environment?

It will be all rather straightforward, actually -- there are really no
OS-X specific things. Since you already have code and such whipped up,
I think you can just hop to section 5 of this tutorial:

http://cran.r-project.org/doc/contrib/Leisch-CreatingPackages.pdf

Doing (1) as they suggest should be easy enough. You'll eventually
prefer to do it manualy (as is suggested in (2)).

Once you setup your package directory, say `~/R/mypackage`, fire up a
terminal and:

$ cd ~/R
$ R CMD INSTALL mypackage

should do the trick.

-- 
Steve Lianoglou
Graduate Student: Computational Systems Biology
?| Memorial Sloan-Kettering Cancer Center
?| Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From carl at witthoft.com  Thu Jun  9 23:38:23 2011
From: carl at witthoft.com (Carl Witthoft)
Date: Thu, 09 Jun 2011 17:38:23 -0400
Subject: [R-SIG-Mac] saving a graph changes active quartz window?
Message-ID: <4DF13D4F.3090708@witthoft.com>

Setup:
    OSX 10.6.7,
R version 2.13.0 Patched (2011-05-25 r55988)
Copyright (C) 2011 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

Dumb question, maybe:
If I use <shift>-<cmd>-S to "save as" a quartz window, the graph is 
saved very nicely as a pdf, but the window in question is made inactive 
(and some other quartz window is set to active).

Is this intentional, or just some artifact of the save function closing 
a connection or something?

thanks
Carl


From maj at waikato.ac.nz  Fri Jun 10 12:15:42 2011
From: maj at waikato.ac.nz (Murray Jorgensen)
Date: Fri, 10 Jun 2011 22:15:42 +1200
Subject: [R-SIG-Mac] Making R packages on a Mac
Message-ID: <4DF1EECE.3040708@waikato.ac.nz>

Thanks, Simon, Steve & John!  Murray

-- 
Dr Murray Jorgensen      http://www.stats.waikato.ac.nz/Staff/maj.html
Department of Statistics, University of Waikato, Hamilton, New Zealand
Email: maj at waikato.ac.nz  majorgensen at ihug.co.nz        Fax 7 838 4155
Phone  +64 7 838 4773 wk    Home +64 7 825 0441   Mobile 021 0200 8350


From mcg at gilbert.org  Fri Jun 17 02:40:30 2011
From: mcg at gilbert.org (Michael Gilbert)
Date: Thu, 16 Jun 2011 17:40:30 -0700
Subject: [R-SIG-Mac] R.app GUI crashes on startup -- moved Rhistory, no Rdata,
	no crash menu
Message-ID: <13CDEDEB-5CE3-4BF0-ABD0-0D8D75B4BFF2@gilbert.org>

Hi ?

As my first post on this list, I'll try to be complete but succinct.

This is the symptom described in the R for Max OSX FAQ 12.16: "R.app GUI crashes on startup" This started for me on Version 2.13, running on Mac OS 10.6.7. (I had been away from R for a few months, so I can't ID a single trigger.) I followed the instructions in FAQ 12.16. Moved the history file. There was no Rdata workspace to move (not that I could find). No problem running R on the command line at all. I upgraded to 2.14, to see if it would persist. Same thing, suggesting an environment issue. But I don't know what it is about my environment I should troubleshoot. I cannot get a crash log using the instructions in 12.16, because no crash menu appears. All I get is this in the system log:

Jun 16 12:24:48 mcgLaptop-5 com.apple.launchd.peruser.502[285] ([0x0-0x1c71c7].org.R-project.R[19629]): Exited with exit code: 2

I apologize if this report is in some way incomplete. Any advice on how to proceed?

TIA!

? Michael Gilbert

Nonprofit News
http://nonprofitnews.org

The Gilbert Center
http://gilbert.org


From simon.urbanek at r-project.org  Fri Jun 17 03:00:04 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 16 Jun 2011 21:00:04 -0400
Subject: [R-SIG-Mac] R.app GUI crashes on startup -- moved Rhistory,
	no Rdata, no crash menu
In-Reply-To: <13CDEDEB-5CE3-4BF0-ABD0-0D8D75B4BFF2@gilbert.org>
References: <13CDEDEB-5CE3-4BF0-ABD0-0D8D75B4BFF2@gilbert.org>
Message-ID: <C96E1C9C-1AEB-48E3-B115-E2E2685EFC77@r-project.org>

Michael,

On Jun 16, 2011, at 8:40 PM, Michael Gilbert wrote:

> Hi ?
> 
> As my first post on this list, I'll try to be complete but succinct.
> 
> This is the symptom described in the R for Max OSX FAQ 12.16: "R.app GUI crashes on startup" This started for me on Version 2.13, running on Mac OS 10.6.7. (I had been away from R for a few months, so I can't ID a single trigger.) I followed the instructions in FAQ 12.16. Moved the history file. There was no Rdata workspace to move (not that I could find).

It is .RData (note the dot!) and it is a hidden file. You can move it aside with this (in Terminal):

mv ~/.RData ~/myOldData.RData

Also note that the history file is configurable so it could be .Rapp.history or .Rhistory - so make sure you checked both (ever since the configurability this issue is in fact rare).


> No problem running R on the command line at all. I upgraded to 2.14, to see if it would persist. Same thing, suggesting an environment issue. But I don't know what it is about my environment I should troubleshoot. I cannot get a crash log using the instructions in 12.16, because no crash menu appears. All I get is this in the system log:
> 
> Jun 16 12:24:48 mcgLaptop-5 com.apple.launchd.peruser.502[285] ([0x0-0x1c71c7].org.R-project.R[19629]): Exited with exit code: 2
> 
> I apologize if this report is in some way incomplete. Any advice on how to proceed?
> 

It is almost entirely incomplete because you don't say what actually happens. We ask you to, please, report exact facts, not your interpretation thereof. If there was a crash, please send the crash report. If there was an error, please send the exact error.

Cheers,
Simon


From mcg at gilbert.org  Fri Jun 17 04:51:18 2011
From: mcg at gilbert.org (Michael C Gilbert)
Date: Thu, 16 Jun 2011 19:51:18 -0700
Subject: [R-SIG-Mac] R.app GUI crashes on startup -- moved Rhistory,
	no Rdata, no crash menu
In-Reply-To: <C96E1C9C-1AEB-48E3-B115-E2E2685EFC77@r-project.org>
References: <13CDEDEB-5CE3-4BF0-ABD0-0D8D75B4BFF2@gilbert.org>
	<C96E1C9C-1AEB-48E3-B115-E2E2685EFC77@r-project.org>
Message-ID: <7EF86021-3C39-403B-A945-4363EF109EA8@gilbert.org>

>> As my first post on this list, I'll try to be complete but succinct.
>> 
>> This is the symptom described in the R for Max OSX FAQ 12.16: "R.app GUI crashes on startup" This started for me on Version 2.13, running on Mac OS 10.6.7. (I had been away from R for a few months, so I can't ID a single trigger.) I followed the instructions in FAQ 12.16. Moved the history file. There was no Rdata workspace to move (not that I could find).
> 
> It is .RData (note the dot!) and it is a hidden file. You can move it aside with this (in Terminal):
> mv ~/.RData ~/myOldData.RData

Sorry, I didn't make that clear in my haste. I know this. There is no .Rdata file in my home directory.


> Also note that the history file is configurable so it could be .Rapp.history or .Rhistory - so make sure you checked both (ever since the configurability this issue is in fact rare).

The .Rhistory file was there. But following the instructions in 12.16, I moved it.


>> No problem running R on the command line at all. I upgraded to 2.14, to see if it would persist. Same thing, suggesting an environment issue. But I don't know what it is about my environment I should troubleshoot. I cannot get a crash log using the instructions in 12.16, because no crash menu appears. All I get is this in the system log:
>> 
>> Jun 16 12:24:48 mcgLaptop-5 com.apple.launchd.peruser.502[285] ([0x0-0x1c71c7].org.R-project.R[19629]): Exited with exit code: 2
>> 
>> I apologize if this report is in some way incomplete. Any advice on how to proceed?
>> 
> 
> It is almost entirely incomplete because you don't say what actually happens. We ask you to, please, report exact facts, not your interpretation thereof. If there was a crash, please send the crash report. If there was an error, please send the exact error.

Here is the only thing I left out, to the best of my judgment: The R.app UI pops up for just a moment. No interactive time at all. Then it's gone. (I assumed that this was what was being described in 12.16, but you're correct: I should not assume.) No crash menu presents itself. The record I have of the event is the one I copied above from my system log. Otherwise, I believe I have included the available details. Unless there is a way to trigger a crash report without the menu appearing.

? Michael


From robjgoedman at me.com  Fri Jun 17 15:55:01 2011
From: robjgoedman at me.com (Rob Goedman)
Date: Fri, 17 Jun 2011 06:55:01 -0700
Subject: [R-SIG-Mac] R.app GUI crashes on startup -- moved Rhistory,
 no Rdata, no crash menu
In-Reply-To: <7EF86021-3C39-403B-A945-4363EF109EA8@gilbert.org>
References: <13CDEDEB-5CE3-4BF0-ABD0-0D8D75B4BFF2@gilbert.org>
	<C96E1C9C-1AEB-48E3-B115-E2E2685EFC77@r-project.org>
	<7EF86021-3C39-403B-A945-4363EF109EA8@gilbert.org>
Message-ID: <492A5C64-61AB-4788-A030-990D6907573F@me.com>

Michael,

The .RData might be in your R working directory.

If you don't know what your setting was, you can find it in the ~/Library/Preferences/org.R-project.R.plist file.

Regards,
Rob


On Jun 16, 2011, at 7:51 PM, Michael C Gilbert wrote:

>>> As my first post on this list, I'll try to be complete but succinct.
>>> 
>>> This is the symptom described in the R for Max OSX FAQ 12.16: "R.app GUI crashes on startup" This started for me on Version 2.13, running on Mac OS 10.6.7. (I had been away from R for a few months, so I can't ID a single trigger.) I followed the instructions in FAQ 12.16. Moved the history file. There was no Rdata workspace to move (not that I could find).
>> 
>> It is .RData (note the dot!) and it is a hidden file. You can move it aside with this (in Terminal):
>> mv ~/.RData ~/myOldData.RData
> 
> Sorry, I didn't make that clear in my haste. I know this. There is no .Rdata file in my home directory.
> 
> 
>> Also note that the history file is configurable so it could be .Rapp.history or .Rhistory - so make sure you checked both (ever since the configurability this issue is in fact rare).
> 
> The .Rhistory file was there. But following the instructions in 12.16, I moved it.
> 
> 
>>> No problem running R on the command line at all. I upgraded to 2.14, to see if it would persist. Same thing, suggesting an environment issue. But I don't know what it is about my environment I should troubleshoot. I cannot get a crash log using the instructions in 12.16, because no crash menu appears. All I get is this in the system log:
>>> 
>>> Jun 16 12:24:48 mcgLaptop-5 com.apple.launchd.peruser.502[285] ([0x0-0x1c71c7].org.R-project.R[19629]): Exited with exit code: 2
>>> 
>>> I apologize if this report is in some way incomplete. Any advice on how to proceed?
>>> 
>> 
>> It is almost entirely incomplete because you don't say what actually happens. We ask you to, please, report exact facts, not your interpretation thereof. If there was a crash, please send the crash report. If there was an error, please send the exact error.
> 
> Here is the only thing I left out, to the best of my judgment: The R.app UI pops up for just a moment. No interactive time at all. Then it's gone. (I assumed that this was what was being described in 12.16, but you're correct: I should not assume.) No crash menu presents itself. The record I have of the event is the one I copied above from my system log. Otherwise, I believe I have included the available details. Unless there is a way to trigger a crash report without the menu appearing.
> 
> ? Michael
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From mcg at gilbert.org  Fri Jun 17 19:41:53 2011
From: mcg at gilbert.org (Michael C Gilbert)
Date: Fri, 17 Jun 2011 10:41:53 -0700
Subject: [R-SIG-Mac] R.app GUI crashes on startup -- moved Rhistory,
	no Rdata, no crash menu
In-Reply-To: <492A5C64-61AB-4788-A030-990D6907573F@me.com>
References: <13CDEDEB-5CE3-4BF0-ABD0-0D8D75B4BFF2@gilbert.org>
	<C96E1C9C-1AEB-48E3-B115-E2E2685EFC77@r-project.org>
	<7EF86021-3C39-403B-A945-4363EF109EA8@gilbert.org>
	<492A5C64-61AB-4788-A030-990D6907573F@me.com>
Message-ID: <F68AA49B-AE38-469F-9FDF-F14167C0B645@gilbert.org>

> The .RData might be in your R working directory.
> If you don't know what your setting was, you can find it in the ~/Library/Preferences/org.R-project.R.plist file.

Thank you, Bob. In fact, I did think to check that. The working directory in my prefs is still set to my home directory: ~.

? Michael


> On Jun 16, 2011, at 7:51 PM, Michael C Gilbert wrote:
> 
>>>> As my first post on this list, I'll try to be complete but succinct.
>>>> 
>>>> This is the symptom described in the R for Max OSX FAQ 12.16: "R.app GUI crashes on startup" This started for me on Version 2.13, running on Mac OS 10.6.7. (I had been away from R for a few months, so I can't ID a single trigger.) I followed the instructions in FAQ 12.16. Moved the history file. There was no Rdata workspace to move (not that I could find).
>>> 
>>> It is .RData (note the dot!) and it is a hidden file. You can move it aside with this (in Terminal):
>>> mv ~/.RData ~/myOldData.RData
>> 
>> Sorry, I didn't make that clear in my haste. I know this. There is no .Rdata file in my home directory.
>> 
>> 
>>> Also note that the history file is configurable so it could be .Rapp.history or .Rhistory - so make sure you checked both (ever since the configurability this issue is in fact rare).
>> 
>> The .Rhistory file was there. But following the instructions in 12.16, I moved it.
>> 
>> 
>>>> No problem running R on the command line at all. I upgraded to 2.14, to see if it would persist. Same thing, suggesting an environment issue. But I don't know what it is about my environment I should troubleshoot. I cannot get a crash log using the instructions in 12.16, because no crash menu appears. All I get is this in the system log:
>>>> 
>>>> Jun 16 12:24:48 mcgLaptop-5 com.apple.launchd.peruser.502[285] ([0x0-0x1c71c7].org.R-project.R[19629]): Exited with exit code: 2
>>>> 
>>>> I apologize if this report is in some way incomplete. Any advice on how to proceed?
>>>> 
>>> 
>>> It is almost entirely incomplete because you don't say what actually happens. We ask you to, please, report exact facts, not your interpretation thereof. If there was a crash, please send the crash report. If there was an error, please send the exact error.
>> 
>> Here is the only thing I left out, to the best of my judgment: The R.app UI pops up for just a moment. No interactive time at all. Then it's gone. (I assumed that this was what was being described in 12.16, but you're correct: I should not assume.) No crash menu presents itself. The record I have of the event is the one I copied above from my system log. Otherwise, I believe I have included the available details. Unless there is a way to trigger a crash report without the menu appearing.
>> 
>> ? Michael
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From mcg at gilbert.org  Mon Jun 20 01:44:51 2011
From: mcg at gilbert.org (Michael C Gilbert)
Date: Sun, 19 Jun 2011 16:44:51 -0700
Subject: [R-SIG-Mac] perhaps change working directory in the plist? (was:
	R.app GUI crashes on startup...)
In-Reply-To: <F68AA49B-AE38-469F-9FDF-F14167C0B645@gilbert.org>
References: <13CDEDEB-5CE3-4BF0-ABD0-0D8D75B4BFF2@gilbert.org>
	<C96E1C9C-1AEB-48E3-B115-E2E2685EFC77@r-project.org>
	<7EF86021-3C39-403B-A945-4363EF109EA8@gilbert.org>
	<492A5C64-61AB-4788-A030-990D6907573F@me.com>
	<F68AA49B-AE38-469F-9FDF-F14167C0B645@gilbert.org>
Message-ID: <1CC4FC5E-37E0-43B3-9CEE-EB6DB50B3AD3@gilbert.org>


On Jun 17, 2011, at 10:41 AM, Michael C Gilbert wrote:

>> The .RData might be in your R working directory.
>> If you don't know what your setting was, you can find it in the ~/Library/Preferences/org.R-project.R.plist file.
> 
> Thank you, Bob. In fact, I did think to check that. The working directory in my prefs is still set to my home directory: ~.

This just occurred to me: If there is indeed some kind of problem with the workspace, but since it appears to be the default in the prefs, perhaps I can change it by editing the prefs? The restart R.app and see what happens?

Bob, can you or someone give me an example of the format (name/value pair) of the entry for the worspace in the plist?

TIA

? Michael


>> On Jun 16, 2011, at 7:51 PM, Michael C Gilbert wrote:
>> 
>>>>> As my first post on this list, I'll try to be complete but succinct.
>>>>> 
>>>>> This is the symptom described in the R for Max OSX FAQ 12.16: "R.app GUI crashes on startup" This started for me on Version 2.13, running on Mac OS 10.6.7. (I had been away from R for a few months, so I can't ID a single trigger.) I followed the instructions in FAQ 12.16. Moved the history file. There was no Rdata workspace to move (not that I could find).
>>>> 
>>>> It is .RData (note the dot!) and it is a hidden file. You can move it aside with this (in Terminal):
>>>> mv ~/.RData ~/myOldData.RData
>>> 
>>> Sorry, I didn't make that clear in my haste. I know this. There is no .Rdata file in my home directory.
>>> 
>>> 
>>>> Also note that the history file is configurable so it could be .Rapp.history or .Rhistory - so make sure you checked both (ever since the configurability this issue is in fact rare).
>>> 
>>> The .Rhistory file was there. But following the instructions in 12.16, I moved it.
>>> 
>>> 
>>>>> No problem running R on the command line at all. I upgraded to 2.14, to see if it would persist. Same thing, suggesting an environment issue. But I don't know what it is about my environment I should troubleshoot. I cannot get a crash log using the instructions in 12.16, because no crash menu appears. All I get is this in the system log:
>>>>> 
>>>>> Jun 16 12:24:48 mcgLaptop-5 com.apple.launchd.peruser.502[285] ([0x0-0x1c71c7].org.R-project.R[19629]): Exited with exit code: 2
>>>>> 
>>>>> I apologize if this report is in some way incomplete. Any advice on how to proceed?
>>>>> 
>>>> 
>>>> It is almost entirely incomplete because you don't say what actually happens. We ask you to, please, report exact facts, not your interpretation thereof. If there was a crash, please send the crash report. If there was an error, please send the exact error.
>>> 
>>> Here is the only thing I left out, to the best of my judgment: The R.app UI pops up for just a moment. No interactive time at all. Then it's gone. (I assumed that this was what was being described in 12.16, but you're correct: I should not assume.) No crash menu presents itself. The record I have of the event is the one I copied above from my system log. Otherwise, I believe I have included the available details. Unless there is a way to trigger a crash report without the menu appearing.
>>> 
>>> ? Michael
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Mon Jun 20 16:33:08 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 20 Jun 2011 10:33:08 -0400
Subject: [R-SIG-Mac] perhaps change working directory in the plist?
	(was: R.app GUI crashes on startup...)
In-Reply-To: <1CC4FC5E-37E0-43B3-9CEE-EB6DB50B3AD3@gilbert.org>
References: <13CDEDEB-5CE3-4BF0-ABD0-0D8D75B4BFF2@gilbert.org>
	<C96E1C9C-1AEB-48E3-B115-E2E2685EFC77@r-project.org>
	<7EF86021-3C39-403B-A945-4363EF109EA8@gilbert.org>
	<492A5C64-61AB-4788-A030-990D6907573F@me.com>
	<F68AA49B-AE38-469F-9FDF-F14167C0B645@gilbert.org>
	<1CC4FC5E-37E0-43B3-9CEE-EB6DB50B3AD3@gilbert.org>
Message-ID: <1B0BEB7C-6F1F-4049-94F7-0385133496CD@r-project.org>


On Jun 19, 2011, at 7:44 PM, Michael C Gilbert wrote:

> 
> On Jun 17, 2011, at 10:41 AM, Michael C Gilbert wrote:
> 
>>> The .RData might be in your R working directory.
>>> If you don't know what your setting was, you can find it in the ~/Library/Preferences/org.R-project.R.plist file.
>> 
>> Thank you, Bob. In fact, I did think to check that. The working directory in my prefs is still set to my home directory: ~.
> 
> This just occurred to me: If there is indeed some kind of problem with the workspace, but since it appears to be the default in the prefs, perhaps I can change it by editing the prefs? The restart R.app and see what happens?
> 
> Bob, can you or someone give me an example of the format (name/value pair) of the entry for the worspace in the plist?
> 

Just moving the prefs aside may do the trick as well ...

Cheers,
S


> 
> 
>>> On Jun 16, 2011, at 7:51 PM, Michael C Gilbert wrote:
>>> 
>>>>>> As my first post on this list, I'll try to be complete but succinct.
>>>>>> 
>>>>>> This is the symptom described in the R for Max OSX FAQ 12.16: "R.app GUI crashes on startup" This started for me on Version 2.13, running on Mac OS 10.6.7. (I had been away from R for a few months, so I can't ID a single trigger.) I followed the instructions in FAQ 12.16. Moved the history file. There was no Rdata workspace to move (not that I could find).
>>>>> 
>>>>> It is .RData (note the dot!) and it is a hidden file. You can move it aside with this (in Terminal):
>>>>> mv ~/.RData ~/myOldData.RData
>>>> 
>>>> Sorry, I didn't make that clear in my haste. I know this. There is no .Rdata file in my home directory.
>>>> 
>>>> 
>>>>> Also note that the history file is configurable so it could be .Rapp.history or .Rhistory - so make sure you checked both (ever since the configurability this issue is in fact rare).
>>>> 
>>>> The .Rhistory file was there. But following the instructions in 12.16, I moved it.
>>>> 
>>>> 
>>>>>> No problem running R on the command line at all. I upgraded to 2.14, to see if it would persist. Same thing, suggesting an environment issue. But I don't know what it is about my environment I should troubleshoot. I cannot get a crash log using the instructions in 12.16, because no crash menu appears. All I get is this in the system log:
>>>>>> 
>>>>>> Jun 16 12:24:48 mcgLaptop-5 com.apple.launchd.peruser.502[285] ([0x0-0x1c71c7].org.R-project.R[19629]): Exited with exit code: 2
>>>>>> 
>>>>>> I apologize if this report is in some way incomplete. Any advice on how to proceed?
>>>>>> 
>>>>> 
>>>>> It is almost entirely incomplete because you don't say what actually happens. We ask you to, please, report exact facts, not your interpretation thereof. If there was a crash, please send the crash report. If there was an error, please send the exact error.
>>>> 
>>>> Here is the only thing I left out, to the best of my judgment: The R.app UI pops up for just a moment. No interactive time at all. Then it's gone. (I assumed that this was what was being described in 12.16, but you're correct: I should not assume.) No crash menu presents itself. The record I have of the event is the one I copied above from my system log. Otherwise, I believe I have included the available details. Unless there is a way to trigger a crash report without the menu appearing.
>>>> 
>>>> ? Michael
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From jnmaloof at ucdavis.edu  Mon Jun 20 18:32:50 2011
From: jnmaloof at ucdavis.edu (Julin Maloof)
Date: Mon, 20 Jun 2011 09:32:50 -0700
Subject: [R-SIG-Mac] GEO querry, Rcurl, and paths
Message-ID: <BANLkTimRa=-LG-MuVyKZggZXsG8UO2pJxg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20110620/381d4cdb/attachment.pl>

From sdavis2 at mail.nih.gov  Mon Jun 20 19:22:20 2011
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Mon, 20 Jun 2011 13:22:20 -0400
Subject: [R-SIG-Mac] GEO querry, Rcurl, and paths
In-Reply-To: <BANLkTimRa=-LG-MuVyKZggZXsG8UO2pJxg@mail.gmail.com>
References: <BANLkTimRa=-LG-MuVyKZggZXsG8UO2pJxg@mail.gmail.com>
Message-ID: <BANLkTin6EDL=W9VmN336_WaL_tCP5eSkCw@mail.gmail.com>

Thanks, Julin, for the report.

This looks like it may be a problem with using
options('download.file.method'='curl') which is, currently, the
default for GEOquery.  Here is what I see in R-devel:

# Set up a directory with a space in the filename
> setwd('/tmp')
> dir.create('R Club')
> setwd('/tmp/R Club')

# Default works fine
> download.file('ftp://ftp.ncbi.nih.gov/pub/geo/DATA/supplementary/series/GSE4847/filelist.txt',destfile=file.path(getwd(),'filelist.txt'))
trying URL 'ftp://ftp.ncbi.nih.gov/pub/geo/DATA/supplementary/series/GSE4847/filelist.txt'
ftp data connection made, file length 1063 bytes
opened URL
==================================================
downloaded 1063 bytes

# The 'curl' download file method seems to have a problem with
# a destfile path that include a space
> options('download.file.method'='curl')
> download.file('ftp://ftp.ncbi.nih.gov/pub/geo/DATA/supplementary/series/GSE4847/filelist.txt',destfile=file.path(getwd(),'filelist.txt'))
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
106  1063  106  1063    0     0   4558      0 --:--:-- --:--:-- --:--:-- 1038k
curl: (6) Couldn't resolve host 'Club'
Warning message:
In download.file("ftp://ftp.ncbi.nih.gov/pub/geo/DATA/supplementary/series/GSE4847/filelist.txt",
 :
  download had nonzero exit status

The "curl" download.method is used by GEOquery because of an issue
with the default, "auto", under linux when used with the NCBI ftp
site.  On the Mac, setting:

options('download.file.method'='auto')

AFTER loading GEOquery should probably fix the problem.  I'll make
that change to the default behavior for GEOquery until there is a
chance to look into the 'curl' download method more fully.  I have not
tested download.file using 'curl' under linux or Windows yet.

Sean

> sessionInfo()
R version 2.14.0 Under development (unstable) (2011-06-08 r56096)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_US.utf-8/en_US.utf-8/en_US.utf-8/C/en_US.utf-8/en_US.utf-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

other attached packages:
[1] GEOquery_2.19.0 Biobase_2.13.2

loaded via a namespace (and not attached):
[1] RCurl_1.6-5 XML_3.4-0


On Mon, Jun 20, 2011 at 12:32 PM, Julin Maloof <jnmaloof at ucdavis.edu> wrote:
> Hello,
>
> Not sure if this is a mac problem or not, so feel free to suggest a
> redirect.
>
> I am using GEOquerry to download raw microarray files. ?If there is a space
> in the path then curl gives an error. ?If I remove the space from the path,
> no error. ?I am pretty sure that this error did not exist on R 2.12.2
>
>> library(GEOquery)
>> library(limma)
>> library(affy)
>>
>> vte.supp <- getGEOSuppFiles(GEO="GSE4847")
> [1] "ftp://ftp.ncbi.nih.gov/pub/geo/DATA/supplementary/series/GSE4847/"
> 100 53.8M ?100 53.8M ? ?0 ? ? 0 ? 468k ? ? ?0 ?0:01:57 ?0:01:57 --:--:--
> ?493k 0:00:01 --:--:-- ? ? 0
>
> curl: (6) Couldn't resolve host 'Club'
> 106 ?1063 ?106 ?1063 ? ?0 ? ? 0 ? ? 47 ? ? ?0 ?0:00:22 ?0:00:22 --:--:--
> ?7433 ?0:00:22 --:--:-- ? ? 0
>
> curl: (6) Couldn't resolve host 'Club'
> Warning messages:
> 1: In download.file(file.path(url, i), destfile = file.path(storedir, ?:
> ?download had nonzero exit status
> 2: In download.file(file.path(url, i), destfile = file.path(storedir, ?:
> ?download had nonzero exit status
>> sessionInfo()
> R version 2.13.0 (2011-04-13)
> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats ? ? graphics ?grDevices utils ? ? datasets ?methods ? base
>
> other attached packages:
> [1] affy_1.30.0 ? ? limma_3.8.2 ? ? GEOquery_2.18.0 Biobase_2.12.1
>
> loaded via a namespace (and not attached):
> [1] affyio_1.20.0 ? ? ? ? preprocessCore_1.14.0 RCurl_1.6-5
> tools_2.13.0 ? ? ? ? ?XML_3.4-0
>> pwd()
> Error: could not find function "pwd"
>> getwd()
> [1] "/Users/jmaloof/Documents/Teaching/R Club"
>
> ? ? ? ?[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Mon Jun 20 19:27:45 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 20 Jun 2011 13:27:45 -0400
Subject: [R-SIG-Mac] GEO querry, Rcurl, and paths
In-Reply-To: <BANLkTimRa=-LG-MuVyKZggZXsG8UO2pJxg@mail.gmail.com>
References: <BANLkTimRa=-LG-MuVyKZggZXsG8UO2pJxg@mail.gmail.com>
Message-ID: <750F863C-EA0C-468B-9638-C35AF15C2BE5@r-project.org>


On Jun 20, 2011, at 12:32 PM, Julin Maloof wrote:

> Hello,
> 
> Not sure if this is a mac problem or not, so feel free to suggest a
> redirect.
> 

It's not, and it has nothing to do with your subject line, either.

GEOquery forces download type to curl (no idea why) and none of the external methods supports spaces in filenames*. To replicate you can simply use 

download.file("http://www.r-project.org","/tmp/0 1","curl")

But the default (which is rather rudely changed by GEOquery) is "auto" which in turn is internal on the Mac and works just fine:

download.file("http://www.r-project.org","/tmp/0 1","auto")

Cheers,
Simon

* - it does now on unix in R-devel


> I am using GEOquerry to download raw microarray files.  If there is a space
> in the path then curl gives an error.  If I remove the space from the path,
> no error.  I am pretty sure that this error did not exist on R 2.12.2
> 
>> library(GEOquery)
>> library(limma)
>> library(affy)
>> 
>> vte.supp <- getGEOSuppFiles(GEO="GSE4847")
> [1] "ftp://ftp.ncbi.nih.gov/pub/geo/DATA/supplementary/series/GSE4847/"
> 100 53.8M  100 53.8M    0     0   468k      0  0:01:57  0:01:57 --:--:--
> 493k 0:00:01 --:--:--     0
> 
> curl: (6) Couldn't resolve host 'Club'
> 106  1063  106  1063    0     0     47      0  0:00:22  0:00:22 --:--:--
> 7433  0:00:22 --:--:--     0
> 
> curl: (6) Couldn't resolve host 'Club'
> Warning messages:
> 1: In download.file(file.path(url, i), destfile = file.path(storedir,  :
>  download had nonzero exit status
> 2: In download.file(file.path(url, i), destfile = file.path(storedir,  :
>  download had nonzero exit status
>> sessionInfo()
> R version 2.13.0 (2011-04-13)
> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> other attached packages:
> [1] affy_1.30.0     limma_3.8.2     GEOquery_2.18.0 Biobase_2.12.1
> 
> loaded via a namespace (and not attached):
> [1] affyio_1.20.0         preprocessCore_1.14.0 RCurl_1.6-5
> tools_2.13.0          XML_3.4-0
>> pwd()
> Error: could not find function "pwd"
>> getwd()
> [1] "/Users/jmaloof/Documents/Teaching/R Club"
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From sdavis2 at mail.nih.gov  Mon Jun 20 19:34:52 2011
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Mon, 20 Jun 2011 13:34:52 -0400
Subject: [R-SIG-Mac] GEO querry, Rcurl, and paths
In-Reply-To: <750F863C-EA0C-468B-9638-C35AF15C2BE5@r-project.org>
References: <BANLkTimRa=-LG-MuVyKZggZXsG8UO2pJxg@mail.gmail.com>
	<750F863C-EA0C-468B-9638-C35AF15C2BE5@r-project.org>
Message-ID: <BANLkTikyT1abEMJ+qSucf2S=37bi_G+WUQ@mail.gmail.com>

On Mon, Jun 20, 2011 at 1:27 PM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> On Jun 20, 2011, at 12:32 PM, Julin Maloof wrote:
>
>> Hello,
>>
>> Not sure if this is a mac problem or not, so feel free to suggest a
>> redirect.
>>
>
> It's not, and it has nothing to do with your subject line, either.
>
> GEOquery forces download type to curl (no idea why) and none of the external methods supports spaces in filenames*. To replicate you can simply use
>
> download.file("http://www.r-project.org","/tmp/0 1","curl")
>
> But the default (which is rather rudely changed by GEOquery) is "auto" which in turn is internal on the Mac and works just fine:

This is a nasty bug fix (internal method on linux does not work with
the NCBI ftp site--no real idea why) introduced a while back that I
should not have allowed into the wild.  Clearly, I need to refactor a
bit to keep the user clean of such hacks on my part.

> download.file("http://www.r-project.org","/tmp/0 1","auto")
>
> Cheers,
> Simon
>
> * - it does now on unix in R-devel

Thanks, Simon.

>
>> I am using GEOquerry to download raw microarray files. ?If there is a space
>> in the path then curl gives an error. ?If I remove the space from the path,
>> no error. ?I am pretty sure that this error did not exist on R 2.12.2
>>
>>> library(GEOquery)
>>> library(limma)
>>> library(affy)
>>>
>>> vte.supp <- getGEOSuppFiles(GEO="GSE4847")
>> [1] "ftp://ftp.ncbi.nih.gov/pub/geo/DATA/supplementary/series/GSE4847/"
>> 100 53.8M ?100 53.8M ? ?0 ? ? 0 ? 468k ? ? ?0 ?0:01:57 ?0:01:57 --:--:--
>> 493k 0:00:01 --:--:-- ? ? 0
>>
>> curl: (6) Couldn't resolve host 'Club'
>> 106 ?1063 ?106 ?1063 ? ?0 ? ? 0 ? ? 47 ? ? ?0 ?0:00:22 ?0:00:22 --:--:--
>> 7433 ?0:00:22 --:--:-- ? ? 0
>>
>> curl: (6) Couldn't resolve host 'Club'
>> Warning messages:
>> 1: In download.file(file.path(url, i), destfile = file.path(storedir, ?:
>> ?download had nonzero exit status
>> 2: In download.file(file.path(url, i), destfile = file.path(storedir, ?:
>> ?download had nonzero exit status
>>> sessionInfo()
>> R version 2.13.0 (2011-04-13)
>> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
>>
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>
>> attached base packages:
>> [1] stats ? ? graphics ?grDevices utils ? ? datasets ?methods ? base
>>
>> other attached packages:
>> [1] affy_1.30.0 ? ? limma_3.8.2 ? ? GEOquery_2.18.0 Biobase_2.12.1
>>
>> loaded via a namespace (and not attached):
>> [1] affyio_1.20.0 ? ? ? ? preprocessCore_1.14.0 RCurl_1.6-5
>> tools_2.13.0 ? ? ? ? ?XML_3.4-0
>>> pwd()
>> Error: could not find function "pwd"
>>> getwd()
>> [1] "/Users/jmaloof/Documents/Teaching/R Club"
>>
>> ? ? ? [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Mon Jun 20 20:08:18 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 20 Jun 2011 14:08:18 -0400
Subject: [R-SIG-Mac] GEO querry, Rcurl, and paths
In-Reply-To: <BANLkTikyT1abEMJ+qSucf2S=37bi_G+WUQ@mail.gmail.com>
References: <BANLkTimRa=-LG-MuVyKZggZXsG8UO2pJxg@mail.gmail.com>
	<750F863C-EA0C-468B-9638-C35AF15C2BE5@r-project.org>
	<BANLkTikyT1abEMJ+qSucf2S=37bi_G+WUQ@mail.gmail.com>
Message-ID: <209FEADC-323F-496B-B307-122D3F04610E@r-project.org>


On Jun 20, 2011, at 1:34 PM, Sean Davis wrote:

> On Mon, Jun 20, 2011 at 1:27 PM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> 
>> On Jun 20, 2011, at 12:32 PM, Julin Maloof wrote:
>> 
>>> Hello,
>>> 
>>> Not sure if this is a mac problem or not, so feel free to suggest a
>>> redirect.
>>> 
>> 
>> It's not, and it has nothing to do with your subject line, either.
>> 
>> GEOquery forces download type to curl (no idea why) and none of the external methods supports spaces in filenames*. To replicate you can simply use
>> 
>> download.file("http://www.r-project.org","/tmp/0 1","curl")
>> 
>> But the default (which is rather rudely changed by GEOquery) is "auto" which in turn is internal on the Mac and works just fine:
> 
> This is a nasty bug fix (internal method on linux does not work with
> the NCBI ftp site--no real idea why)

Did you post it? Unless the site has a buggy ftp server the preferred way to fix it would be in the internal R ftp code ;).


> introduced a while back that I
> should not have allowed into the wild.  Clearly, I need to refactor a
> bit to keep the user clean of such hacks on my part.
> 

At least you do warn the users ;).


>> download.file("http://www.r-project.org","/tmp/0 1","auto")
>> 
>> Cheers,
>> Simon
>> 
>> * - it does now on unix in R-devel
> 
> Thanks, Simon.
> 

I have ported the changes to R-patched and also to Windows, so it should be working across the board.

Cheers,
Simon


>> 
>>> I am using GEOquerry to download raw microarray files.  If there is a space
>>> in the path then curl gives an error.  If I remove the space from the path,
>>> no error.  I am pretty sure that this error did not exist on R 2.12.2
>>> 
>>>> library(GEOquery)
>>>> library(limma)
>>>> library(affy)
>>>> 
>>>> vte.supp <- getGEOSuppFiles(GEO="GSE4847")
>>> [1] "ftp://ftp.ncbi.nih.gov/pub/geo/DATA/supplementary/series/GSE4847/"
>>> 100 53.8M  100 53.8M    0     0   468k      0  0:01:57  0:01:57 --:--:--
>>> 493k 0:00:01 --:--:--     0
>>> 
>>> curl: (6) Couldn't resolve host 'Club'
>>> 106  1063  106  1063    0     0     47      0  0:00:22  0:00:22 --:--:--
>>> 7433  0:00:22 --:--:--     0
>>> 
>>> curl: (6) Couldn't resolve host 'Club'
>>> Warning messages:
>>> 1: In download.file(file.path(url, i), destfile = file.path(storedir,  :
>>>  download had nonzero exit status
>>> 2: In download.file(file.path(url, i), destfile = file.path(storedir,  :
>>>  download had nonzero exit status
>>>> sessionInfo()
>>> R version 2.13.0 (2011-04-13)
>>> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
>>> 
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> 
>>> other attached packages:
>>> [1] affy_1.30.0     limma_3.8.2     GEOquery_2.18.0 Biobase_2.12.1
>>> 
>>> loaded via a namespace (and not attached):
>>> [1] affyio_1.20.0         preprocessCore_1.14.0 RCurl_1.6-5
>>> tools_2.13.0          XML_3.4-0
>>>> pwd()
>>> Error: could not find function "pwd"
>>>> getwd()
>>> [1] "/Users/jmaloof/Documents/Teaching/R Club"
>>> 
>>>       [[alternative HTML version deleted]]
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 


From sdavis2 at mail.nih.gov  Mon Jun 20 20:18:14 2011
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Mon, 20 Jun 2011 14:18:14 -0400
Subject: [R-SIG-Mac] GEO querry, Rcurl, and paths
In-Reply-To: <209FEADC-323F-496B-B307-122D3F04610E@r-project.org>
References: <BANLkTimRa=-LG-MuVyKZggZXsG8UO2pJxg@mail.gmail.com>
	<750F863C-EA0C-468B-9638-C35AF15C2BE5@r-project.org>
	<BANLkTikyT1abEMJ+qSucf2S=37bi_G+WUQ@mail.gmail.com>
	<209FEADC-323F-496B-B307-122D3F04610E@r-project.org>
Message-ID: <BANLkTimPUu3=spyS6Www3gOYmYf_05rmEg@mail.gmail.com>

On Mon, Jun 20, 2011 at 2:08 PM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> On Jun 20, 2011, at 1:34 PM, Sean Davis wrote:
>
>> On Mon, Jun 20, 2011 at 1:27 PM, Simon Urbanek
>> <simon.urbanek at r-project.org> wrote:
>>>
>>> On Jun 20, 2011, at 12:32 PM, Julin Maloof wrote:
>>>
>>>> Hello,
>>>>
>>>> Not sure if this is a mac problem or not, so feel free to suggest a
>>>> redirect.
>>>>
>>>
>>> It's not, and it has nothing to do with your subject line, either.
>>>
>>> GEOquery forces download type to curl (no idea why) and none of the external methods supports spaces in filenames*. To replicate you can simply use
>>>
>>> download.file("http://www.r-project.org","/tmp/0 1","curl")
>>>
>>> But the default (which is rather rudely changed by GEOquery) is "auto" which in turn is internal on the Mac and works just fine:
>>
>> This is a nasty bug fix (internal method on linux does not work with
>> the NCBI ftp site--no real idea why)
>
> Did you post it? Unless the site has a buggy ftp server the preferred way to fix it would be in the internal R ftp code ;).

The grouping of terms above should have been clearer.  I meant that
the bug fix (in GEOquery) is nasty, not that R has a nasty bug.  I
have no idea whether there is a bug in the internal method, but the
behavior under linux has been reported by users to be different than
under windows and mac and leads to the file download failing.  This
does not appear to happen with ftp sites other than NCBI, so I did not
think of it a bug in R.

>
>> introduced a while back that I
>> should not have allowed into the wild. ?Clearly, I need to refactor a
>> bit to keep the user clean of such hacks on my part.
>>
>
> At least you do warn the users ;).

Yeah for me!  I'm fixing the issue more appropriately now.

Sean


>
>>> download.file("http://www.r-project.org","/tmp/0 1","auto")
>>>
>>> Cheers,
>>> Simon
>>>
>>> * - it does now on unix in R-devel
>>
>> Thanks, Simon.
>>
>
> I have ported the changes to R-patched and also to Windows, so it should be working across the board.
>
> Cheers,
> Simon
>
>
>>>
>>>> I am using GEOquerry to download raw microarray files. ?If there is a space
>>>> in the path then curl gives an error. ?If I remove the space from the path,
>>>> no error. ?I am pretty sure that this error did not exist on R 2.12.2
>>>>
>>>>> library(GEOquery)
>>>>> library(limma)
>>>>> library(affy)
>>>>>
>>>>> vte.supp <- getGEOSuppFiles(GEO="GSE4847")
>>>> [1] "ftp://ftp.ncbi.nih.gov/pub/geo/DATA/supplementary/series/GSE4847/"
>>>> 100 53.8M ?100 53.8M ? ?0 ? ? 0 ? 468k ? ? ?0 ?0:01:57 ?0:01:57 --:--:--
>>>> 493k 0:00:01 --:--:-- ? ? 0
>>>>
>>>> curl: (6) Couldn't resolve host 'Club'
>>>> 106 ?1063 ?106 ?1063 ? ?0 ? ? 0 ? ? 47 ? ? ?0 ?0:00:22 ?0:00:22 --:--:--
>>>> 7433 ?0:00:22 --:--:-- ? ? 0
>>>>
>>>> curl: (6) Couldn't resolve host 'Club'
>>>> Warning messages:
>>>> 1: In download.file(file.path(url, i), destfile = file.path(storedir, ?:
>>>> ?download had nonzero exit status
>>>> 2: In download.file(file.path(url, i), destfile = file.path(storedir, ?:
>>>> ?download had nonzero exit status
>>>>> sessionInfo()
>>>> R version 2.13.0 (2011-04-13)
>>>> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
>>>>
>>>> locale:
>>>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>>
>>>> attached base packages:
>>>> [1] stats ? ? graphics ?grDevices utils ? ? datasets ?methods ? base
>>>>
>>>> other attached packages:
>>>> [1] affy_1.30.0 ? ? limma_3.8.2 ? ? GEOquery_2.18.0 Biobase_2.12.1
>>>>
>>>> loaded via a namespace (and not attached):
>>>> [1] affyio_1.20.0 ? ? ? ? preprocessCore_1.14.0 RCurl_1.6-5
>>>> tools_2.13.0 ? ? ? ? ?XML_3.4-0
>>>>> pwd()
>>>> Error: could not find function "pwd"
>>>>> getwd()
>>>> [1] "/Users/jmaloof/Documents/Teaching/R Club"
>>>>
>>>> ? ? ? [[alternative HTML version deleted]]
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>>
>
>


From jnmaloof at ucdavis.edu  Tue Jun 21 02:05:23 2011
From: jnmaloof at ucdavis.edu (Julin Maloof)
Date: Mon, 20 Jun 2011 17:05:23 -0700
Subject: [R-SIG-Mac] GEO querry, Rcurl, and paths
In-Reply-To: <BANLkTimPUu3=spyS6Www3gOYmYf_05rmEg@mail.gmail.com>
References: <BANLkTimRa=-LG-MuVyKZggZXsG8UO2pJxg@mail.gmail.com>
	<750F863C-EA0C-468B-9638-C35AF15C2BE5@r-project.org>
	<BANLkTikyT1abEMJ+qSucf2S=37bi_G+WUQ@mail.gmail.com>
	<209FEADC-323F-496B-B307-122D3F04610E@r-project.org>
	<BANLkTimPUu3=spyS6Www3gOYmYf_05rmEg@mail.gmail.com>
Message-ID: <BANLkTikJKhG6NQiJvUc1Aja13wFyBgicMg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20110620/f50b8bf2/attachment.pl>

From day01 at pitt.edu  Fri Jun 24 03:02:10 2011
From: day01 at pitt.edu (Day, Roger S)
Date: Thu, 23 Jun 2011 21:02:10 -0400
Subject: [R-SIG-Mac] editor autocomplete, comments, and quotes
In-Reply-To: <870663FB-CBA8-4436-BC0C-063AA2131697@remoteinformation.com.au>
References: <903FF7BF-AC6B-4B06-A3D8-439A35EA142C@remoteinformation.com.au>
	<870663FB-CBA8-4436-BC0C-063AA2131697@remoteinformation.com.au>
Message-ID: <4F0240E9-AE7E-4371-8889-1A72B5B5662B@pitt.edu>

Hi Gang,

I've discovered a curiosity with autocomplete in the editor.
If you insert a comment with an unmatched single quote, for example

	####   I'm so happy that last line of code worked!

then autocomplete will no longer work below this comment,
though it continues to work above it.

Confessing bad karma from using a single quote for an apostrophe...
or perhaps using contractions is a sin...
nevertheless this observation may be useful to other users,
preventing the kind of wild goose chase I went on.

platform       x86_64-apple-darwin9.8.0     
arch           x86_64                       
os             darwin9.8.0                  
system         x86_64, darwin9.8.0          
status                                      
major          2                            
minor          13.0                         
year           2011                         
month          04                           
day            13                           
svn rev        55427                        
language       R                            
version.string R version 2.13.0 (2011-04-13)


Roger Day
University of Pittsburgh Departments of Biomedical Informatics and  
Biostatistics
University of Pittsburgh Cancer Institute
-----------------------------------------------------
Room 310, Suite 301
Cancer Pavilion (CNPAV)
5150 Centre Ave.
Pittsburgh, PA 15232
e-mail:  day01 at pitt.edu
cell phone 412-609-3918
assistant:
    Nova Smith:       (412) 623-8382
-----------------------------------------------------

On May 9, 2011, at 9:08 AM, Ben Madin wrote:

> Oh, and I forgot to mention, it looks like you've really nailed the automatic brackets - fantastic - I really did delay too long on the upgrade. Even RGeos just worked - no more gpclibPermit() - oh yay!
> 
> cheers
> 
> Ben
> 
> 
> 
> On 09/05/2011, at 6:18 AM, Ben Madin wrote:
> 
>> two quick little bits of feedback - I just upgraded to 2.13.0 on Friday.
>> 
>> Absolutely totally love the the Command-Enter in the help files to get the demo code into the console. I've honestly thought about this about five million times since I started using R in any format. Every single time I've copied, switched window and pasted. This is just brilliant. Thank you very much for this enhancement. 
>> 
>> Second - I've noticed that if I go to Console or Syntax preferences, clicking subsequently on Show all makes the Colour picker appear. Clicking on any pane then makes it go away again. Obviously, very minor issue!
>> 
>> thanks again for all the work on this. 
>> 
>> cheers
>> 
>> Ben
>> 
>> [R.app GUI 1.41 (5767) x86_64-apple-darwin9.8.0]
>> 
>>> sessionInfo()
>> R version 2.13.0 Patched (2011-05-05 r55784)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> 
>> locale:
>> [1] en_AU.UTF-8/en_AU.UTF-8/C/C/en_AU.UTF-8/en_AU.UTF-8
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base    
>> 
>> loaded via a namespace (and not attached):
>> [1] tools_2.13.0
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dweitzenfeld at gmail.com  Sun Jun 12 12:05:17 2011
From: dweitzenfeld at gmail.com (Daniel Weitzenfeld)
Date: Sun, 12 Jun 2011 20:05:17 +1000
Subject: [R-SIG-Mac] problems with getting R to share library with rpy/rpy2
Message-ID: <BANLkTin_Q8gEyGcuqirDxaESChA6YyY3UA@mail.gmail.com>

I'm a unix newbie having some issues getting either rpy or rpy2 to install.

1) Problem 1:  Getting R to share it's library

When I try to install rpy2, I get this error:

running build_ext
/Library/Frameworks/R.framework/Resources/bin/config: line 142: make:
command not found
/Library/Frameworks/R.framework/Resources/bin/config: line 143: make:
command not found
R was not built as a library

Also, in the rpy read me (http://rpy.sourceforge.net/rpy/README), it
says "First of all, you *must* check that you have built R with the
configure
    option '--enable-R-shlib'"

BUT: in the R for Mac OS X FAQ
(http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html), it says "Note
that the CRAN binary includes R shared library, so there is no need to
re-compile R with --enable-R-shlib."  I installed R (2.13.0) from the
Installer package, as the FAQ recommended.

Why isn't R sharing it's library?  How do I get R to share it's
library?  Do I have to install from source - is the FAQ wrong?

2) Problem 2:  Configuring path to R Library

In the pry read me, it says:

Linux and Unix Source Installation:
.
.
.


"(b) Then, configure the path to the R library.  You have several ways to do
    this (substitute RHOME with the path where R is installed, usually
    /usr/local/lib/R):

         make a link to RHOME/bin/libR.so in /usr/local/lib or /usr/lib, then
          run 'ldconfig',

         or, put the following line in your .bashrc (or equivalent):

            export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:RHOME/bin

         or, edit the file /etc/ld.so.conf and add the following line:

            RHOME/bin

          and then, run 'ldconfig'.
"

As a unix newbie, this is greek to me.  Which of the three options is
easiest, and can I get a little more guidance on how to execute it?
I've identified RHOME to be /Library/Frameworks/R.framework/Resources.


From mcg at gilbert.org  Thu Jun 16 21:26:38 2011
From: mcg at gilbert.org (Michael Gilbert)
Date: Thu, 16 Jun 2011 12:26:38 -0700
Subject: [R-SIG-Mac] R.app GUI crashes on startup -- moved Rhistory, no Rdata,
	no crash menu
Message-ID: <0195032E-1616-4568-92B5-8A3ECA9483AB@gilbert.org>

Hi ?

This is the symptom described in the R for Max OSX FAQ 12.16. This started on Version 2.13, running on Mac OS 10.6.7. I followed the instructions in FAQ 12.16. Moved the history file. There was no Rdata workspace to move (not that I could find). No problem running R on the command line at all. I upgraded to 2.14, to see if it would persist. Same thing, suggesting an environment issue. But I don't know what it is about my environment I should troubleshoot. I cannot get a crash log using the instructions in 12.16, because no crash menu appears. All I get is this in the system log:

Jun 16 12:24:48 mcgLaptop-5 com.apple.launchd.peruser.502[285] ([0x0-0x1c71c7].org.R-project.R[19629]): Exited with exit code: 2

I apologize if this report is in some way incomplete. Any advice on how to proceed?

TIA!

? Michael Gilbert

Nonprofit News
http://nonprofitnews.org

The Gilbert Center
http://gilbert.org


From mcg at gilbert.org  Fri Jun 24 08:20:23 2011
From: mcg at gilbert.org (Michael C Gilbert)
Date: Thu, 23 Jun 2011 23:20:23 -0700
Subject: [R-SIG-Mac] Please ignore duplicate message (was: R.app GUI crashes
	on startup -- moved Rhistory, no Rdata, no crash menu)
In-Reply-To: <0195032E-1616-4568-92B5-8A3ECA9483AB@gilbert.org>
References: <0195032E-1616-4568-92B5-8A3ECA9483AB@gilbert.org>
Message-ID: <49EE5DBE-6B4F-4207-9788-960DD1843C15@gilbert.org>

Hi all ?

This evidently got approved by the moderator a while after I submitted it as a subscriber. The issue is still open, but this is a duplicate thread.

? Michael


From mailinglist.honeypot at gmail.com  Fri Jun 24 09:10:31 2011
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Fri, 24 Jun 2011 03:10:31 -0400
Subject: [R-SIG-Mac] problems with getting R to share library with
	rpy/rpy2
In-Reply-To: <BANLkTin_Q8gEyGcuqirDxaESChA6YyY3UA@mail.gmail.com>
References: <BANLkTin_Q8gEyGcuqirDxaESChA6YyY3UA@mail.gmail.com>
Message-ID: <BANLkTi=gm4KBCg8nqXyEtP6Mr9oeDZPwmw@mail.gmail.com>

Hi,

Firstly -- I don't think this is the best list for you to be seeking
help in. I guess this is more geared to the list for rpy:

http://rpy.sourceforge.net/maillist.html

But, let's see ...

On Sun, Jun 12, 2011 at 6:05 AM, Daniel Weitzenfeld
<dweitzenfeld at gmail.com> wrote:
> I'm a unix newbie having some issues getting either rpy or rpy2 to install.
>
> 1) Problem 1: ?Getting R to share it's library
>
> When I try to install rpy2, I get this error:
>
> running build_ext
> /Library/Frameworks/R.framework/Resources/bin/config: line 142: make:
> command not found
> /Library/Frameworks/R.framework/Resources/bin/config: line 143: make:
> command not found
> R was not built as a library

This "make command not found" business sounds like you don't have
XCode installed on your mac, which you'll need.

In addition to the "xcode install" installing the XCode IDE, you'll
also be installing tools you'll need to build software (like `make`
and `gcc`, etc).

> Also, in the rpy read me (http://rpy.sourceforge.net/rpy/README), it
> says "First of all, you *must* check that you have built R with the
> configure
> ? ?option '--enable-R-shlib'"
>
> BUT: in the R for Mac OS X FAQ
> (http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html), it says "Note
> that the CRAN binary includes R shared library, so there is no need to
> re-compile R with --enable-R-shlib." ?I installed R (2.13.0) from the
> Installer package, as the FAQ recommended.
>
> Why isn't R sharing it's library?

I'm not sure that R isn't "sharing it's library" from the error you
provided above ... is there another error popping up as well, or?


> ?How do I get R to share it's
> library? ?Do I have to install from source - is the FAQ wrong?

Try installing XCode and redo.

> 2) Problem 2: ?Configuring path to R Library
>
> In the pry read me, it says:
>
> Linux and Unix Source Installation:
> .
> .
> .
>
>
> "(b) Then, configure the path to the R library. ?You have several ways to do
> ? ?this (substitute RHOME with the path where R is installed, usually
> ? ?/usr/local/lib/R):
>
> ? ? ? ? make a link to RHOME/bin/libR.so in /usr/local/lib or /usr/lib, then
> ? ? ? ? ?run 'ldconfig',
>
> ? ? ? ? or, put the following line in your .bashrc (or equivalent):
>
> ? ? ? ? ? ?export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:RHOME/bin
>
> ? ? ? ? or, edit the file /etc/ld.so.conf and add the following line:
>
> ? ? ? ? ? ?RHOME/bin
>
> ? ? ? ? ?and then, run 'ldconfig'.
> "
>
> As a unix newbie, this is greek to me. ?Which of the three options is
> easiest, and can I get a little more guidance on how to execute it?
> I've identified RHOME to be /Library/Frameworks/R.framework/Resources.

Yeah, you've got the correct R_HOME, but none of those instructions
seem right for OS X.

For instance, you'll realize that there is no file named "libR.so" in
"/Library/Frameworks/R.framework/Resources/bin" -- in fact, I guess it
would be in "RHOME/lib" .. but I guess you also have to deal with the
architecture stuff on os x, like i386 vs x86_64.

So ... I'd follow upon the rpy list I think.

-- 
Steve Lianoglou
Graduate Student: Computational Systems Biology
?| Memorial Sloan-Kettering Cancer Center
?| Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From dwinsemius at comcast.net  Fri Jun 24 13:57:45 2011
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 24 Jun 2011 07:57:45 -0400
Subject: [R-SIG-Mac] R.app GUI crashes on startup -- moved Rhistory,
	no Rdata, no crash menu
In-Reply-To: <0195032E-1616-4568-92B5-8A3ECA9483AB@gilbert.org>
References: <0195032E-1616-4568-92B5-8A3ECA9483AB@gilbert.org>
Message-ID: <4DA4F7FA-7D43-4988-938A-2127FC736DFB@comcast.net>


On Jun 16, 2011, at 3:26 PM, Michael Gilbert wrote:

> Hi ?
>
> This is the symptom described in the R for Max OSX FAQ 12.16. This  
> started on Version 2.13, running on Mac OS 10.6.7. I followed the  
> instructions in FAQ 12.16. Moved the history file. There was no  
> Rdata workspace to move (not that I could find).

It is system-hidden for Finder users by default since it is a "dot  
file" named '.RData'.  You either need to do the removal from the  
Terminal or you need to show hidden files. There is material in this  
list's archive for removing hidden files.


> No problem running R on the command line at all. I upgraded to 2.14,  
> to see if it would persist. Same thing, suggesting an environment  
> issue. But I don't know what it is about my environment I should  
> troubleshoot. I cannot get a crash log using the instructions in  
> 12.16, because no crash menu appears. All I get is this in the  
> system log:
>
> Jun 16 12:24:48 mcgLaptop-5 com.apple.launchd.peruser.502[285]  
> ([0x0-0x1c71c7].org.R-project.R[19629]): Exited with exit code: 2
>
> I apologize if this report is in some way incomplete. Any advice on  
> how to proceed?
>
> TIA!
>
> ? Michael Gilbert
>
> Nonprofit News
> http://nonprofitnews.org
>
> The Gilbert Center
> http://gilbert.org
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
West Hartford, CT


From bibiko at eva.mpg.de  Sat Jun 25 12:09:15 2011
From: bibiko at eva.mpg.de (=?iso-8859-1?Q?Hans-J=F6rg_Bibiko?=)
Date: Sat, 25 Jun 2011 12:09:15 +0200
Subject: [R-SIG-Mac] editor autocomplete, comments, and quotes
In-Reply-To: <4F0240E9-AE7E-4371-8889-1A72B5B5662B@pitt.edu>
References: <903FF7BF-AC6B-4B06-A3D8-439A35EA142C@remoteinformation.com.au>
	<870663FB-CBA8-4436-BC0C-063AA2131697@remoteinformation.com.au>
	<4F0240E9-AE7E-4371-8889-1A72B5B5662B@pitt.edu>
Message-ID: <378FEF4F-A707-494B-BC90-023787B57A75@eva.mpg.de>


On 24 Jun 2011, at 03:02, Day, Roger S wrote:

> I've discovered a curiosity with autocomplete in the editor.
> If you insert a comment with an unmatched single quote, for example
> 
> 	####   I'm so happy that last line of code worked!
> 
> then autocomplete will no longer work below this comment,
> though it continues to work above it.
> 
> Confessing bad karma from using a single quote for an apostrophe...
> or perhaps using contractions is a sin...
> nevertheless this observation may be useful to other users,
> preventing the kind of wild goose chase I went on.

Hi,

thanks a lot for the report. Nice finding! I've just fixed it by ignoring all comments while retrieving suggestions for completion.

Kind regards,
--Hans

From Robert.McGehee at geodecapital.com  Mon Jun 27 22:10:52 2011
From: Robert.McGehee at geodecapital.com (McGehee, Robert)
Date: Mon, 27 Jun 2011 16:10:52 -0400
Subject: [R-SIG-Mac] Package Installation 'Notes' Question
Message-ID: <17B09E7789D3104E8F5EEB0582A8D66F9493539ABF@MSGRTPCCRF2WIN.DMN1.FMR.COM>

R Mac users,
I have a couple of Mac-specific curiosities regarding package installation that I thought I'd ask the group. 

First, when installing packages on my Mac (and not elsewhere), I see a bunch of lines saying "Note: no visible binding for global variable 'xyz'" (and the like). A Google search on this phrase seemed to indicate that these notes can appear if one sets the _R_CHECK_USE_CODETOOLS_ variable. As I have not done this (and in fact have tried explicitly setting this variable to FALSE), I'm wondering if anyone knows why I get these extra notes on my Mac only.

Second, a note that scrolls by for one package installation that I find particularly unusual is the following:
Note: possible error in 'updateIds(doc, save = x)':
	Unused argument(s) (save = x)

I've managed to whittle down my package into a single method declaration in the R directory that produces this note.

setMethod("Ops", signature("x", "x"), function(e1, e2) {})

However, there is no 'updateIds' function, and I can't seem to find that function anywhere in the R code base (or mine). Does anyone know what this means, and why I get it? Again, I can't seem to reproduce this on my Linux installation, only Mac.
 
Thanks!

> R.version
               _
platform       x86_64-apple-darwin10.7.0
arch           x86_64
os             darwin10.7.0
system         x86_64, darwin10.7.0
status
major          2
minor          13.0
year           2011
month          04
day            13
svn rev        55427
language       R
version.string R version 2.13.0 (2011-04-13)

## Here's how I build R, in case that matters.
    $BUILDDIR/R-$RVERS/configure r_arch=x86_64 \
    --prefix="$PREFIX/R/R-${RVERS}" \
    --build=$BUILD \
    --with-x --with-aqua=yes --enable-R-framework=no \
    --with-blas='-framework vecLib' --with-lapack  \
    --x-libraries=/usr/X11/lib --x-includes=/usr/X11/include && \
    make bytecode && \
    make install && \

Robert McGehee, CFA
Geode Capital Management, LLC
One Post Office Square, 28th Floor | Boston, MA | 02109
Direct: (617)392-8396

This e-mail, and any attachments hereto, are intended fo...{{dropped:11}}


From Robert.McGehee at geodecapital.com  Mon Jun 27 22:40:58 2011
From: Robert.McGehee at geodecapital.com (McGehee, Robert)
Date: Mon, 27 Jun 2011 16:40:58 -0400
Subject: [R-SIG-Mac] Package Installation 'Notes' Question
In-Reply-To: <F3CEB4692E31004DB35357468DC977120205E4CEA8@MSGRTPCCRF2WIN.DMN1.FMR.COM>
References: <F3CEB4692E31004DB35357468DC977120205E4CEA8@MSGRTPCCRF2WIN.DMN1.FMR.COM>
Message-ID: <17B09E7789D3104E8F5EEB0582A8D66F9493539B34@MSGRTPCCRF2WIN.DMN1.FMR.COM>

Sorry for the self-reply, however on the second point, I found the culprit. While my R directory was empty except for that one method declaration, I did (accidentally) have the line "Depends: ..., XML" in my description file (copied over from the original package). Since the XML package does have an internal 'updateIds' function, it must be causing the note. And since that function isn't exported, I didn't find it during my search.

CC:ing the XML package maintainer for his interest.

-----Original Message-----
From: McGehee, Robert 
Sent: Monday, June 27, 2011 4:11 PM
To: 'r-sig-mac at r-project.org'
Subject: Package Installation 'Notes' Question

R Mac users,
I have a couple of Mac-specific curiosities regarding package installation that I thought I'd ask the group. 

First, when installing packages on my Mac (and not elsewhere), I see a bunch of lines saying "Note: no visible binding for global variable 'xyz'" (and the like). A Google search on this phrase seemed to indicate that these notes can appear if one sets the _R_CHECK_USE_CODETOOLS_ variable. As I have not done this (and in fact have tried explicitly setting this variable to FALSE), I'm wondering if anyone knows why I get these extra notes on my Mac only.

Second, a note that scrolls by for one package installation that I find particularly unusual is the following:
Note: possible error in 'updateIds(doc, save = x)':
	Unused argument(s) (save = x)

I've managed to whittle down my package into a single method declaration in the R directory that produces this note.

setMethod("Ops", signature("x", "x"), function(e1, e2) {})

However, there is no 'updateIds' function, and I can't seem to find that function anywhere in the R code base (or mine). Does anyone know what this means, and why I get it? Again, I can't seem to reproduce this on my Linux installation, only Mac.
 
Thanks!

> R.version
               _
platform       x86_64-apple-darwin10.7.0
arch           x86_64
os             darwin10.7.0
system         x86_64, darwin10.7.0
status
major          2
minor          13.0
year           2011
month          04
day            13
svn rev        55427
language       R
version.string R version 2.13.0 (2011-04-13)

## Here's how I build R, in case that matters.
    $BUILDDIR/R-$RVERS/configure r_arch=x86_64 \
    --prefix="$PREFIX/R/R-${RVERS}" \
    --build=$BUILD \
    --with-x --with-aqua=yes --enable-R-framework=no \
    --with-blas='-framework vecLib' --with-lapack  \
    --x-libraries=/usr/X11/lib --x-includes=/usr/X11/include && \
    make bytecode && \
    make install && \

Robert McGehee, CFA
Geode Capital Management, LLC
One Post Office Square, 28th Floor | Boston, MA | 02109
Direct: (617)392-8396

This e-mail, and any attachments hereto, are intended fo...{{dropped:11}}


From Jeffrey.Morris at sanofipasteur.com  Tue Jun 28 15:22:04 2011
From: Jeffrey.Morris at sanofipasteur.com (Jeffrey.Morris at sanofipasteur.com)
Date: Tue, 28 Jun 2011 09:22:04 -0400
Subject: [R-SIG-Mac] Read.delim on a Mac
Message-ID: <15B762F2463DA8429B5B5E7F128258E712EDCCAC@USSWTEXS102.pasteur.aventis.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20110628/3558f9b0/attachment.pl>

From yl at lvcis.com  Tue Jun 28 15:45:35 2011
From: yl at lvcis.com (Younsuk Lee)
Date: Tue, 28 Jun 2011 09:45:35 -0400
Subject: [R-SIG-Mac] Read.delim on a Mac
In-Reply-To: <15B762F2463DA8429B5B5E7F128258E712EDCCAC@USSWTEXS102.pasteur.aventis.com>
References: <15B762F2463DA8429B5B5E7F128258E712EDCCAC@USSWTEXS102.pasteur.aventis.com>
Message-ID: <5D18B8C4FC0C4FCD8298C20F0F990015@lvcis.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20110628/04589ffa/attachment.pl>

From bhh at xs4all.nl  Tue Jun 28 15:50:30 2011
From: bhh at xs4all.nl (Berend Hasselman)
Date: Tue, 28 Jun 2011 15:50:30 +0200
Subject: [R-SIG-Mac] Read.delim on a Mac
In-Reply-To: <15B762F2463DA8429B5B5E7F128258E712EDCCAC@USSWTEXS102.pasteur.aventis.com>
References: <15B762F2463DA8429B5B5E7F128258E712EDCCAC@USSWTEXS102.pasteur.aventis.com>
Message-ID: <44681315-5A17-4668-939F-65D797CE0264@xs4all.nl>


On 28-06-2011, at 15:22, <Jeffrey.Morris at sanofipasteur.com> <Jeffrey.Morris at sanofipasteur.com> wrote:

> I am beginning to set up R at home on my Macbook running Leopard 10.6
> and trying to mimic the workflow I use at work, on Windows.  Here is my
> question...when I run 
>> read.delim("clipboard")   I get the following
> Error in file(file, "rt") : cannot open the connection In addition:
> Warning message:
> In file(file, "rt") : clipboard cannot be opened or contains no text
> 
> Is there some basic problem with reading data in using the clipboard
> like this?


?connections

section Clipboard

Berend


From simon.urbanek at r-project.org  Tue Jun 28 15:51:11 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 28 Jun 2011 09:51:11 -0400
Subject: [R-SIG-Mac] Package Installation 'Notes' Question
In-Reply-To: <17B09E7789D3104E8F5EEB0582A8D66F9493539ABF@MSGRTPCCRF2WIN.DMN1.FMR.COM>
References: <17B09E7789D3104E8F5EEB0582A8D66F9493539ABF@MSGRTPCCRF2WIN.DMN1.FMR.COM>
Message-ID: <A52CF728-DC37-4E40-9D2E-2AFABD0B56AC@r-project.org>

Robert,

I don't think we can help you unless you point us to your package to reproduce the issue. The "no visible binding" message is very common saying that you use unbound variables with often indicates possible bugs (typos etc.).

Cheers,
Simon



On Jun 27, 2011, at 4:10 PM, McGehee, Robert wrote:

> R Mac users,
> I have a couple of Mac-specific curiosities regarding package installation that I thought I'd ask the group. 
> 
> First, when installing packages on my Mac (and not elsewhere), I see a bunch of lines saying "Note: no visible binding for global variable 'xyz'" (and the like). A Google search on this phrase seemed to indicate that these notes can appear if one sets the _R_CHECK_USE_CODETOOLS_ variable. As I have not done this (and in fact have tried explicitly setting this variable to FALSE), I'm wondering if anyone knows why I get these extra notes on my Mac only.
> 
> Second, a note that scrolls by for one package installation that I find particularly unusual is the following:
> Note: possible error in 'updateIds(doc, save = x)':
> 	Unused argument(s) (save = x)
> 
> I've managed to whittle down my package into a single method declaration in the R directory that produces this note.
> 
> setMethod("Ops", signature("x", "x"), function(e1, e2) {})
> 
> However, there is no 'updateIds' function, and I can't seem to find that function anywhere in the R code base (or mine). Does anyone know what this means, and why I get it? Again, I can't seem to reproduce this on my Linux installation, only Mac.
> 
> Thanks!
> 
>> R.version
>               _
> platform       x86_64-apple-darwin10.7.0
> arch           x86_64
> os             darwin10.7.0
> system         x86_64, darwin10.7.0
> status
> major          2
> minor          13.0
> year           2011
> month          04
> day            13
> svn rev        55427
> language       R
> version.string R version 2.13.0 (2011-04-13)
> 
> ## Here's how I build R, in case that matters.
>    $BUILDDIR/R-$RVERS/configure r_arch=x86_64 \
>    --prefix="$PREFIX/R/R-${RVERS}" \
>    --build=$BUILD \
>    --with-x --with-aqua=yes --enable-R-framework=no \
>    --with-blas='-framework vecLib' --with-lapack  \
>    --x-libraries=/usr/X11/lib --x-includes=/usr/X11/include && \
>    make bytecode && \
>    make install && \
> 
> Robert McGehee, CFA
> Geode Capital Management, LLC
> One Post Office Square, 28th Floor | Boston, MA | 02109
> Direct: (617)392-8396
> 
> This e-mail, and any attachments hereto, are intended fo...{{dropped:11}}
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From v.aubanel at laslab.org  Wed Jun 29 20:34:57 2011
From: v.aubanel at laslab.org (Vincent Aubanel)
Date: Wed, 29 Jun 2011 20:34:57 +0200
Subject: [R-SIG-Mac] multicore package: collecting results
Message-ID: <F52CB419-7BF1-4777-B18E-E1D1EF709DC3@laslab.org>

Hi all,

I'm using mclapply() of the multicore package for processing chunks of data in parallel --and it works great.

But when I want to collect all processed elements of the returned list into one big data frame it takes ages.

The elements are all data frames having identical column names, and I'm using a simple rbind() inside a loop to do that. But I guess it makes some expensive checking computations at each iteration as it gets slower and slower as it goes. Writing out to disk individual files, concatenating with the system and reading back from disk the resulting file is actually faster...

Is there a magic argument to rbind() that I'm missing, or is there any other solution to collect the results of parallel processing efficiently?

Thanks,
Vincent


From Mike.Lawrence at dal.ca  Wed Jun 29 20:59:43 2011
From: Mike.Lawrence at dal.ca (Mike Lawrence)
Date: Wed, 29 Jun 2011 15:59:43 -0300
Subject: [R-SIG-Mac] multicore package: collecting results
In-Reply-To: <F52CB419-7BF1-4777-B18E-E1D1EF709DC3@laslab.org>
References: <F52CB419-7BF1-4777-B18E-E1D1EF709DC3@laslab.org>
Message-ID: <BANLkTimU6923k=FArr4uY3SV4xfbDiRpnw@mail.gmail.com>

Is the slowdown happening while mclapply runs or while you're doing
the rbind? If the latter, I wonder if the code below is more efficient
than using rbind inside a loop:

my_df = do.call( rbind , my_list_from_mclapply )



On Wed, Jun 29, 2011 at 3:34 PM, Vincent Aubanel <v.aubanel at laslab.org> wrote:
> Hi all,
>
> I'm using mclapply() of the multicore package for processing chunks of data in parallel --and it works great.
>
> But when I want to collect all processed elements of the returned list into one big data frame it takes ages.
>
> The elements are all data frames having identical column names, and I'm using a simple rbind() inside a loop to do that. But I guess it makes some expensive checking computations at each iteration as it gets slower and slower as it goes. Writing out to disk individual files, concatenating with the system and reading back from disk the resulting file is actually faster...
>
> Is there a magic argument to rbind() that I'm missing, or is there any other solution to collect the results of parallel processing efficiently?
>
> Thanks,
> Vincent
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Wed Jun 29 21:48:36 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 29 Jun 2011 15:48:36 -0400
Subject: [R-SIG-Mac] multicore package: collecting results
In-Reply-To: <BANLkTimU6923k=FArr4uY3SV4xfbDiRpnw@mail.gmail.com>
References: <F52CB419-7BF1-4777-B18E-E1D1EF709DC3@laslab.org>
	<BANLkTimU6923k=FArr4uY3SV4xfbDiRpnw@mail.gmail.com>
Message-ID: <9D98A07A-615D-47D8-BB92-A163C8DDC29D@r-project.org>


On Jun 29, 2011, at 2:59 PM, Mike Lawrence wrote:

> Is the slowdown happening while mclapply runs or while you're doing
> the rbind? If the latter, I wonder if the code below is more efficient
> than using rbind inside a loop:
> 
> my_df = do.call( rbind , my_list_from_mclapply )
> 

Another potential issue is that data frames do many sanity checks that are due to row.names handling etc. If you don't use row.names *and* know in advance that the concatenation is benign *and* your data types are compatible, you can usually speed things up immensely by operating on lists instead and converting to a dataframe at the very end by declaring the resulting list conform to the data.frame class. Again, this only works if you really know what you're doing but the speed up can be very big (usually orders of magnitude). This is a general advice, not in particular for rbind. Whether it would work for you or not is easy to test - something like

l = my_list_from_mclapply
all =  lapply(seq.int(l[[1]]), function(i) do.call(c, lapply(l, function(x) x[[i]])))
names(all) = names(l[[1]])
attr(all, "row.names") = c(NA, -length(all[[1]]))
class(all) = "data.frame"

Again, make sure all the assumptions above are satisfied before using.

Cheers,
Simon



> 
> 
> On Wed, Jun 29, 2011 at 3:34 PM, Vincent Aubanel <v.aubanel at laslab.org> wrote:
>> Hi all,
>> 
>> I'm using mclapply() of the multicore package for processing chunks of data in parallel --and it works great.
>> 
>> But when I want to collect all processed elements of the returned list into one big data frame it takes ages.
>> 
>> The elements are all data frames having identical column names, and I'm using a simple rbind() inside a loop to do that. But I guess it makes some expensive checking computations at each iteration as it gets slower and slower as it goes. Writing out to disk individual files, concatenating with the system and reading back from disk the resulting file is actually faster...
>> 
>> Is there a magic argument to rbind() that I'm missing, or is there any other solution to collect the results of parallel processing efficiently?
>> 
>> Thanks,
>> Vincent
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From hankin.robin at gmail.com  Thu Jun 30 05:29:03 2011
From: hankin.robin at gmail.com (robin hankin)
Date: Thu, 30 Jun 2011 15:29:03 +1200
Subject: [R-SIG-Mac] ./configure cannot use Fortran
Message-ID: <BANLkTinjZsXYvJrwZv4pTe+eVguxx7mkHQ@mail.gmail.com>

Hi

macosx 10.6.7, brand new machine.

Trying to compile R 2.13.0 from sources.

As per the mac faq, I have installed Xcode 3.2.6 and gfortran 4.2.3, downloaded
directly from the link on the macOSX-FAQ page.

The $PATH seems to check out:

$ echo $PATH
/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin

and indeed gfortran is visible:

$ gfortran --version
GNU Fortran (GCC) 4.2.3
Copyright (C) 2007 Free Software Foundation, Inc.


but ./configure fails with:

checking how to get verbose linking output from gcc -std=gnu99... -v
checking for C libraries of gcc -std=gnu99...  -lcrt1.10.6.o
-L/usr/local/lib -L/usr/lib/gcc/i686-apple-darwin10/4.2.1/x86_64
-L/usr/lib/i686-apple-darwin10/4.2.1
-L/usr/lib/gcc/i686-apple-darwin10/4.2.1
-L/usr/lib/gcc/i686-apple-darwin10/4.2.1/../../../i686-apple-darwin10/4.2.1
-L/usr/lib/gcc/i686-apple-darwin10/4.2.1/../../.. -lSystem
checking for dummy main to link with Fortran 77 libraries... none
checking for Fortran 77 name-mangling scheme... unknown
configure: WARNING: unknown Fortran name-mangling scheme
checking whether gfortran appends underscores to external names... unknown
configure: error: cannot use Fortran



Can anyone advise?




-- 
Robin Hankin
Uncertainty Analyst
hankin.robin at gmail.com


From simon.urbanek at r-project.org  Thu Jun 30 05:53:43 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 29 Jun 2011 23:53:43 -0400
Subject: [R-SIG-Mac] ./configure cannot use Fortran
In-Reply-To: <BANLkTinjZsXYvJrwZv4pTe+eVguxx7mkHQ@mail.gmail.com>
References: <BANLkTinjZsXYvJrwZv4pTe+eVguxx7mkHQ@mail.gmail.com>
Message-ID: <7AF37C3C-45BF-4DE3-809E-86D6C5E48A18@r-project.org>


On Jun 29, 2011, at 11:29 PM, robin hankin wrote:

> Hi
> 
> macosx 10.6.7, brand new machine.
> 
> Trying to compile R 2.13.0 from sources.
> 
> As per the mac faq, I have installed Xcode 3.2.6 and gfortran 4.2.3, downloaded
> directly from the link on the macOSX-FAQ page.
> 
> The $PATH seems to check out:
> 
> $ echo $PATH
> /usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/X11/bin
> 
> and indeed gfortran is visible:
> 
> $ gfortran --version
> GNU Fortran (GCC) 4.2.3
> Copyright (C) 2007 Free Software Foundation, Inc.
> 
> 
> but ./configure fails with:
> 
> checking how to get verbose linking output from gcc -std=gnu99... -v
> checking for C libraries of gcc -std=gnu99...  -lcrt1.10.6.o
> -L/usr/local/lib -L/usr/lib/gcc/i686-apple-darwin10/4.2.1/x86_64
> -L/usr/lib/i686-apple-darwin10/4.2.1
> -L/usr/lib/gcc/i686-apple-darwin10/4.2.1
> -L/usr/lib/gcc/i686-apple-darwin10/4.2.1/../../../i686-apple-darwin10/4.2.1
> -L/usr/lib/gcc/i686-apple-darwin10/4.2.1/../../.. -lSystem
> checking for dummy main to link with Fortran 77 libraries... none
> checking for Fortran 77 name-mangling scheme... unknown
> configure: WARNING: unknown Fortran name-mangling scheme
> checking whether gfortran appends underscores to external names... unknown
> configure: error: cannot use Fortran
> 
> 
> 
> Can anyone advise?
> 

You're using the older Leopard Fortran which in itself is not bad, but that means you have to specify the architecture since the default for the old Fortran is 32-bit whereas the default for your remaining compilers is 64-bit. See Mac FAQ 2.1 (Quickstart) for copy/paste instructions. Alternatively you can install the Fortran for Xcode (which further down on the tools page -- direct link: http://R.research.att.com/gfortran-42-5664.pkg ) which is for Snow Leopard (10.6) and thus defaults to 64-bit.

Cheers,
Simon


From v.aubanel at laslab.org  Thu Jun 30 13:28:16 2011
From: v.aubanel at laslab.org (Vincent Aubanel)
Date: Thu, 30 Jun 2011 13:28:16 +0200
Subject: [R-SIG-Mac] multicore package: collecting results
In-Reply-To: <9D98A07A-615D-47D8-BB92-A163C8DDC29D@r-project.org>
References: <F52CB419-7BF1-4777-B18E-E1D1EF709DC3@laslab.org>
	<BANLkTimU6923k=FArr4uY3SV4xfbDiRpnw@mail.gmail.com>
	<9D98A07A-615D-47D8-BB92-A163C8DDC29D@r-project.org>
Message-ID: <9FAD9E24-0DB6-49DC-9FF6-0BD081EF2E8F@laslab.org>

Thanks for this, it's now dead fast, as one could conceivably expect.
Simon's solution is astonishingly fast, however I had to reconstruct the factors and their levels which were (expectedly) lost during the c() operation. Unfortunately this eats up some fair amount of cpu, but on a 14 columns, ~2 million rows data frame it is still 2x faster than the elegant one line solution.

Some figures of performance:

> t <- proc.time()
> dl <- mclapply(lsessions, mcfun, mc.cores=cores)
> print(proc.time()-t)
utilisateur     syst?me      ?coul? 
    171.894      47.696      28.713

> l <- dl
> all =  lapply(seq.int(l[[1]]), function(i) do.call(c, lapply(l, function(x) x[[i]])))
> names(all) = names(l[[1]])
> #attr(all, "row.names") = seq.int(all[[1]])
> attr(all, "row.names") = c(NA, -length(all[[1]]))
> class(all) = "data.frame"
utilisateur     syst?me      ?coul? 
      0.412       0.280       0.708 

> all$factor <- factor(all$factor); levels(all$factor) <- c("A","B")
...
utilisateur     syst?me      ?coul? 
      4.852       2.349       7.038

> my_df = do.call(rbind, dl)
utilisateur     syst?me      ?coul? 
      9.791       5.411      15.039 

Thanks to both of you!

Vincent


Le 29 juin 2011 ? 21:48, Simon Urbanek a ?crit :

> 
> On Jun 29, 2011, at 2:59 PM, Mike Lawrence wrote:
> 
>> Is the slowdown happening while mclapply runs or while you're doing
>> the rbind? If the latter, I wonder if the code below is more efficient
>> than using rbind inside a loop:
>> 
>> my_df = do.call( rbind , my_list_from_mclapply )
>> 
> 
> Another potential issue is that data frames do many sanity checks that are due to row.names handling etc. If you don't use row.names *and* know in advance that the concatenation is benign *and* your data types are compatible, you can usually speed things up immensely by operating on lists instead and converting to a dataframe at the very end by declaring the resulting list conform to the data.frame class. Again, this only works if you really know what you're doing but the speed up can be very big (usually orders of magnitude). This is a general advice, not in particular for rbind. Whether it would work for you or not is easy to test - something like
> 
> l = my_list_from_mclapply
> all =  lapply(seq.int(l[[1]]), function(i) do.call(c, lapply(l, function(x) x[[i]])))
> names(all) = names(l[[1]])
> attr(all, "row.names") = c(NA, -length(all[[1]]))
> class(all) = "data.frame"
> 
> Again, make sure all the assumptions above are satisfied before using.
> 
> Cheers,
> Simon
> 
> 
> 
>> 
>> 
>> On Wed, Jun 29, 2011 at 3:34 PM, Vincent Aubanel <v.aubanel at laslab.org> wrote:
>>> Hi all,
>>> 
>>> I'm using mclapply() of the multicore package for processing chunks of data in parallel --and it works great.
>>> 
>>> But when I want to collect all processed elements of the returned list into one big data frame it takes ages.
>>> 
>>> The elements are all data frames having identical column names, and I'm using a simple rbind() inside a loop to do that. But I guess it makes some expensive checking computations at each iteration as it gets slower and slower as it goes. Writing out to disk individual files, concatenating with the system and reading back from disk the resulting file is actually faster...
>>> 
>>> Is there a magic argument to rbind() that I'm missing, or is there any other solution to collect the results of parallel processing efficiently?
>>> 
>>> Thanks,
>>> Vincent
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 


From simon.urbanek at r-project.org  Thu Jun 30 15:36:30 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 30 Jun 2011 09:36:30 -0400
Subject: [R-SIG-Mac] multicore package: collecting results
In-Reply-To: <9FAD9E24-0DB6-49DC-9FF6-0BD081EF2E8F@laslab.org>
References: <F52CB419-7BF1-4777-B18E-E1D1EF709DC3@laslab.org>
	<BANLkTimU6923k=FArr4uY3SV4xfbDiRpnw@mail.gmail.com>
	<9D98A07A-615D-47D8-BB92-A163C8DDC29D@r-project.org>
	<9FAD9E24-0DB6-49DC-9FF6-0BD081EF2E8F@laslab.org>
Message-ID: <830BB270-7FE0-4A69-A356-580AE7E68DC1@r-project.org>


On Jun 30, 2011, at 7:28 AM, Vincent Aubanel wrote:

> Thanks for this, it's now dead fast, as one could conceivably expect.
> Simon's solution is astonishingly fast, however I had to reconstruct the factors and their levels which were (expectedly) lost during the c() operation.


One way to avoid it is to use as.character() on factors inside the parallel function, so the pieces don't have factors. You can create a factor at the end and it should be faster, because factor() calls as.character() anyway so it will be a no-op by that point.

Cheers,
S


> Unfortunately this eats up some fair amount of cpu, but on a 14 columns, ~2 million rows data frame it is still 2x faster than the elegant one line solution.
> 
> Some figures of performance:
> 
>> t <- proc.time()
>> dl <- mclapply(lsessions, mcfun, mc.cores=cores)
>> print(proc.time()-t)
> utilisateur     syst?me      ?coul? 
>    171.894      47.696      28.713
> 
>> l <- dl
>> all =  lapply(seq.int(l[[1]]), function(i) do.call(c, lapply(l, function(x) x[[i]])))
>> names(all) = names(l[[1]])
>> #attr(all, "row.names") = seq.int(all[[1]])
>> attr(all, "row.names") = c(NA, -length(all[[1]]))
>> class(all) = "data.frame"
> utilisateur     syst?me      ?coul? 
>      0.412       0.280       0.708 
> 
>> all$factor <- factor(all$factor); levels(all$factor) <- c("A","B")
> ...
> utilisateur     syst?me      ?coul? 
>      4.852       2.349       7.038
> 
>> my_df = do.call(rbind, dl)
> utilisateur     syst?me      ?coul? 
>      9.791       5.411      15.039 
> 
> Thanks to both of you!
> 
> Vincent
> 
> 
> Le 29 juin 2011 ? 21:48, Simon Urbanek a ?crit :
> 
>> 
>> On Jun 29, 2011, at 2:59 PM, Mike Lawrence wrote:
>> 
>>> Is the slowdown happening while mclapply runs or while you're doing
>>> the rbind? If the latter, I wonder if the code below is more efficient
>>> than using rbind inside a loop:
>>> 
>>> my_df = do.call( rbind , my_list_from_mclapply )
>>> 
>> 
>> Another potential issue is that data frames do many sanity checks that are due to row.names handling etc. If you don't use row.names *and* know in advance that the concatenation is benign *and* your data types are compatible, you can usually speed things up immensely by operating on lists instead and converting to a dataframe at the very end by declaring the resulting list conform to the data.frame class. Again, this only works if you really know what you're doing but the speed up can be very big (usually orders of magnitude). This is a general advice, not in particular for rbind. Whether it would work for you or not is easy to test - something like
>> 
>> l = my_list_from_mclapply
>> all =  lapply(seq.int(l[[1]]), function(i) do.call(c, lapply(l, function(x) x[[i]])))
>> names(all) = names(l[[1]])
>> attr(all, "row.names") = c(NA, -length(all[[1]]))
>> class(all) = "data.frame"
>> 
>> Again, make sure all the assumptions above are satisfied before using.
>> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>> 
>>> 
>>> On Wed, Jun 29, 2011 at 3:34 PM, Vincent Aubanel <v.aubanel at laslab.org> wrote:
>>>> Hi all,
>>>> 
>>>> I'm using mclapply() of the multicore package for processing chunks of data in parallel --and it works great.
>>>> 
>>>> But when I want to collect all processed elements of the returned list into one big data frame it takes ages.
>>>> 
>>>> The elements are all data frames having identical column names, and I'm using a simple rbind() inside a loop to do that. But I guess it makes some expensive checking computations at each iteration as it gets slower and slower as it goes. Writing out to disk individual files, concatenating with the system and reading back from disk the resulting file is actually faster...
>>>> 
>>>> Is there a magic argument to rbind() that I'm missing, or is there any other solution to collect the results of parallel processing efficiently?
>>>> 
>>>> Thanks,
>>>> Vincent
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
> 
> 


From v.aubanel at laslab.org  Thu Jun 30 17:19:06 2011
From: v.aubanel at laslab.org (Vincent Aubanel)
Date: Thu, 30 Jun 2011 17:19:06 +0200
Subject: [R-SIG-Mac] multicore package: collecting results
In-Reply-To: <830BB270-7FE0-4A69-A356-580AE7E68DC1@r-project.org>
References: <F52CB419-7BF1-4777-B18E-E1D1EF709DC3@laslab.org>
	<BANLkTimU6923k=FArr4uY3SV4xfbDiRpnw@mail.gmail.com>
	<9D98A07A-615D-47D8-BB92-A163C8DDC29D@r-project.org>
	<9FAD9E24-0DB6-49DC-9FF6-0BD081EF2E8F@laslab.org>
	<830BB270-7FE0-4A69-A356-580AE7E68DC1@r-project.org>
Message-ID: <E64A09D4-C399-49F8-85E2-0F8BFABC2BCE@laslab.org>


Le 30 juin 2011 ? 15:36, Simon Urbanek a ?crit :

> 
> On Jun 30, 2011, at 7:28 AM, Vincent Aubanel wrote:
> 
>> Thanks for this, it's now dead fast, as one could conceivably expect.
>> Simon's solution is astonishingly fast, however I had to reconstruct the factors and their levels which were (expectedly) lost during the c() operation.
> 
> 
> One way to avoid it is to use as.character() on factors inside the parallel function, so the pieces don't have factors. You can create a factor at the end and it should be faster, because factor() calls as.character() anyway so it will be a no-op by that point.

It is faster, thanks! Slightly for the parallel loop (because of removal of unnecessary as.character() operations) and down to about 3 s for the total time of converting into factors. I thought that maintaining data as factors was somewhat more economical and faster than as characters...

Vincent

> 
> Cheers,
> S
> 
> 
>> Unfortunately this eats up some fair amount of cpu, but on a 14 columns, ~2 million rows data frame it is still 2x faster than the elegant one line solution.
>> 
>> Some figures of performance:
>> 
>>> t <- proc.time()
>>> dl <- mclapply(lsessions, mcfun, mc.cores=cores)
>>> print(proc.time()-t)
>> utilisateur     syst?me      ?coul? 
>>   171.894      47.696      28.713
>> 
>>> l <- dl
>>> all =  lapply(seq.int(l[[1]]), function(i) do.call(c, lapply(l, function(x) x[[i]])))
>>> names(all) = names(l[[1]])
>>> #attr(all, "row.names") = seq.int(all[[1]])
>>> attr(all, "row.names") = c(NA, -length(all[[1]]))
>>> class(all) = "data.frame"
>> utilisateur     syst?me      ?coul? 
>>     0.412       0.280       0.708 
>> 
>>> all$factor <- factor(all$factor); levels(all$factor) <- c("A","B")
>> ...
>> utilisateur     syst?me      ?coul? 
>>     4.852       2.349       7.038
>> 
>>> my_df = do.call(rbind, dl)
>> utilisateur     syst?me      ?coul? 
>>     9.791       5.411      15.039 
>> 
>> Thanks to both of you!
>> 
>> Vincent
>> 
>> 
>> Le 29 juin 2011 ? 21:48, Simon Urbanek a ?crit :
>> 
>>> 
>>> On Jun 29, 2011, at 2:59 PM, Mike Lawrence wrote:
>>> 
>>>> Is the slowdown happening while mclapply runs or while you're doing
>>>> the rbind? If the latter, I wonder if the code below is more efficient
>>>> than using rbind inside a loop:
>>>> 
>>>> my_df = do.call( rbind , my_list_from_mclapply )
>>>> 
>>> 
>>> Another potential issue is that data frames do many sanity checks that are due to row.names handling etc. If you don't use row.names *and* know in advance that the concatenation is benign *and* your data types are compatible, you can usually speed things up immensely by operating on lists instead and converting to a dataframe at the very end by declaring the resulting list conform to the data.frame class. Again, this only works if you really know what you're doing but the speed up can be very big (usually orders of magnitude). This is a general advice, not in particular for rbind. Whether it would work for you or not is easy to test - something like
>>> 
>>> l = my_list_from_mclapply
>>> all =  lapply(seq.int(l[[1]]), function(i) do.call(c, lapply(l, function(x) x[[i]])))
>>> names(all) = names(l[[1]])
>>> attr(all, "row.names") = c(NA, -length(all[[1]]))
>>> class(all) = "data.frame"
>>> 
>>> Again, make sure all the assumptions above are satisfied before using.
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>> 
>>>> 
>>>> 
>>>> On Wed, Jun 29, 2011 at 3:34 PM, Vincent Aubanel <v.aubanel at laslab.org> wrote:
>>>>> Hi all,
>>>>> 
>>>>> I'm using mclapply() of the multicore package for processing chunks of data in parallel --and it works great.
>>>>> 
>>>>> But when I want to collect all processed elements of the returned list into one big data frame it takes ages.
>>>>> 
>>>>> The elements are all data frames having identical column names, and I'm using a simple rbind() inside a loop to do that. But I guess it makes some expensive checking computations at each iteration as it gets slower and slower as it goes. Writing out to disk individual files, concatenating with the system and reading back from disk the resulting file is actually faster...
>>>>> 
>>>>> Is there a magic argument to rbind() that I'm missing, or is there any other solution to collect the results of parallel processing efficiently?
>>>>> 
>>>>> Thanks,
>>>>> Vincent
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> 
>>> 
>> 
>> 
> 


From simon.urbanek at r-project.org  Thu Jun 30 19:25:07 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 30 Jun 2011 13:25:07 -0400
Subject: [R-SIG-Mac] multicore package: collecting results
In-Reply-To: <E64A09D4-C399-49F8-85E2-0F8BFABC2BCE@laslab.org>
References: <F52CB419-7BF1-4777-B18E-E1D1EF709DC3@laslab.org>
	<BANLkTimU6923k=FArr4uY3SV4xfbDiRpnw@mail.gmail.com>
	<9D98A07A-615D-47D8-BB92-A163C8DDC29D@r-project.org>
	<9FAD9E24-0DB6-49DC-9FF6-0BD081EF2E8F@laslab.org>
	<830BB270-7FE0-4A69-A356-580AE7E68DC1@r-project.org>
	<E64A09D4-C399-49F8-85E2-0F8BFABC2BCE@laslab.org>
Message-ID: <4B7C6B28-4D59-4FE4-9EEB-52B17825952B@r-project.org>


On Jun 30, 2011, at 11:19 AM, Vincent Aubanel wrote:

> 
> Le 30 juin 2011 ? 15:36, Simon Urbanek a ?crit :
> 
>> 
>> On Jun 30, 2011, at 7:28 AM, Vincent Aubanel wrote:
>> 
>>> Thanks for this, it's now dead fast, as one could conceivably expect.
>>> Simon's solution is astonishingly fast, however I had to reconstruct the factors and their levels which were (expectedly) lost during the c() operation.
>> 
>> 
>> One way to avoid it is to use as.character() on factors inside the parallel function, so the pieces don't have factors. You can create a factor at the end and it should be faster, because factor() calls as.character() anyway so it will be a no-op by that point.
> 
> It is faster, thanks! Slightly for the parallel loop (because of removal of unnecessary as.character() operations) and down to about 3 s for the total time of converting into factors. I thought that maintaining data as factors was somewhat more economical and faster than as characters...
> 

Not really - ever since R hashes strings there is almost no difference on the storage side (it's int vs void* for the actual vector so on 64-bit machines there is a penalty but on the other hand you have direct access to the string elements). There are some differences in handling so depending on the task the one may be better than the other.

Cheers,
S


> Vincent
> 
>> 
>> Cheers,
>> S
>> 
>> 
>>> Unfortunately this eats up some fair amount of cpu, but on a 14 columns, ~2 million rows data frame it is still 2x faster than the elegant one line solution.
>>> 
>>> Some figures of performance:
>>> 
>>>> t <- proc.time()
>>>> dl <- mclapply(lsessions, mcfun, mc.cores=cores)
>>>> print(proc.time()-t)
>>> utilisateur     syst?me      ?coul? 
>>>  171.894      47.696      28.713
>>> 
>>>> l <- dl
>>>> all =  lapply(seq.int(l[[1]]), function(i) do.call(c, lapply(l, function(x) x[[i]])))
>>>> names(all) = names(l[[1]])
>>>> #attr(all, "row.names") = seq.int(all[[1]])
>>>> attr(all, "row.names") = c(NA, -length(all[[1]]))
>>>> class(all) = "data.frame"
>>> utilisateur     syst?me      ?coul? 
>>>    0.412       0.280       0.708 
>>> 
>>>> all$factor <- factor(all$factor); levels(all$factor) <- c("A","B")
>>> ...
>>> utilisateur     syst?me      ?coul? 
>>>    4.852       2.349       7.038
>>> 
>>>> my_df = do.call(rbind, dl)
>>> utilisateur     syst?me      ?coul? 
>>>    9.791       5.411      15.039 
>>> 
>>> Thanks to both of you!
>>> 
>>> Vincent
>>> 
>>> 
>>> Le 29 juin 2011 ? 21:48, Simon Urbanek a ?crit :
>>> 
>>>> 
>>>> On Jun 29, 2011, at 2:59 PM, Mike Lawrence wrote:
>>>> 
>>>>> Is the slowdown happening while mclapply runs or while you're doing
>>>>> the rbind? If the latter, I wonder if the code below is more efficient
>>>>> than using rbind inside a loop:
>>>>> 
>>>>> my_df = do.call( rbind , my_list_from_mclapply )
>>>>> 
>>>> 
>>>> Another potential issue is that data frames do many sanity checks that are due to row.names handling etc. If you don't use row.names *and* know in advance that the concatenation is benign *and* your data types are compatible, you can usually speed things up immensely by operating on lists instead and converting to a dataframe at the very end by declaring the resulting list conform to the data.frame class. Again, this only works if you really know what you're doing but the speed up can be very big (usually orders of magnitude). This is a general advice, not in particular for rbind. Whether it would work for you or not is easy to test - something like
>>>> 
>>>> l = my_list_from_mclapply
>>>> all =  lapply(seq.int(l[[1]]), function(i) do.call(c, lapply(l, function(x) x[[i]])))
>>>> names(all) = names(l[[1]])
>>>> attr(all, "row.names") = c(NA, -length(all[[1]]))
>>>> class(all) = "data.frame"
>>>> 
>>>> Again, make sure all the assumptions above are satisfied before using.
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>> 
>>>>> 
>>>>> 
>>>>> On Wed, Jun 29, 2011 at 3:34 PM, Vincent Aubanel <v.aubanel at laslab.org> wrote:
>>>>>> Hi all,
>>>>>> 
>>>>>> I'm using mclapply() of the multicore package for processing chunks of data in parallel --and it works great.
>>>>>> 
>>>>>> But when I want to collect all processed elements of the returned list into one big data frame it takes ages.
>>>>>> 
>>>>>> The elements are all data frames having identical column names, and I'm using a simple rbind() inside a loop to do that. But I guess it makes some expensive checking computations at each iteration as it gets slower and slower as it goes. Writing out to disk individual files, concatenating with the system and reading back from disk the resulting file is actually faster...
>>>>>> 
>>>>>> Is there a magic argument to rbind() that I'm missing, or is there any other solution to collect the results of parallel processing efficiently?
>>>>>> 
>>>>>> Thanks,
>>>>>> Vincent
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> 
>>>> 
>>> 
>>> 
>> 
> 
> 


From bbolker at gmail.com  Wed Jun 29 20:47:55 2011
From: bbolker at gmail.com (Ben Bolker)
Date: Wed, 29 Jun 2011 14:47:55 -0400
Subject: [R-SIG-Mac] multicore package: collecting results
In-Reply-To: <F52CB419-7BF1-4777-B18E-E1D1EF709DC3@laslab.org>
References: <F52CB419-7BF1-4777-B18E-E1D1EF709DC3@laslab.org>
Message-ID: <4E0B735B.5080109@gmail.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

On 06/29/2011 02:34 PM, Vincent Aubanel wrote:
> Hi all,
> 
> I'm using mclapply() of the multicore package for processing chunks
> of data in parallel --and it works great.
> 
> But when I want to collect all processed elements of the returned
> list into one big data frame it takes ages.
> 
> The elements are all data frames having identical column names, and
> I'm using a simple rbind() inside a loop to do that. But I guess it
> makes some expensive checking computations at each iteration as it
> gets slower and slower as it goes. Writing out to disk individual
> files, concatenating with the system and reading back from disk the
> resulting file is actually faster...

  Why do you have to write to disk?  Can you collect the results as a
list L and then do.call(rbind,L)  in one go?
> 
> Is there a magic argument to rbind() that I'm missing, or is there
> any other solution to collect the results of parallel processing
> efficiently?
> 
> Thanks, Vincent
> 
> _______________________________________________ R-SIG-Mac mailing
> list R-SIG-Mac at r-project.org 
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org/

iEYEARECAAYFAk4Lc1sACgkQc5UpGjwzenMofgCdFEzN6qO8e8owV9GCJ6Mwafvn
n0oAoIZt5txoRS9Ma73XefnEzBDW19lE
=BDfd
-----END PGP SIGNATURE-----


