From batholdy at googlemail.com  Mon Feb  1 04:30:42 2010
From: batholdy at googlemail.com (Martin Batholdy)
Date: Mon, 1 Feb 2010 04:30:42 +0100
Subject: [R-SIG-Mac] searchable help-files
In-Reply-To: <264855a01001311137j3cf9f43wbb88517019f427b0@mail.gmail.com>
References: <B73F4B64-4E36-4123-8752-3D877A51B05B@googlemail.com>
	<264855a01001311137j3cf9f43wbb88517019f427b0@mail.gmail.com>
Message-ID: <DACC4569-F91C-47EA-B126-804500E1797E@googlemail.com>


Am 31.01.2010 um 20:37 schrieb Sean Davis:

> On Sun, Jan 31, 2010 at 12:13 PM, Martin Batholdy
> <batholdy at googlemail.com> wrote:
>> dear mailinglist-subscribers,
>> 
>> 
>> I wanted to ask if there is a way to make the help-files (which I open via '?command')  searchable ..?
>> That is a key feature I miss, and it would really help, especially in help-files with a list of a lot arguments (like 'par').
> 
> Do you mean help.search()?
> 
> Sean

No, I mean the help-page which opens when I search for a topic (like "?sum").

I can't search on this help-page via CMD+F.

From sdavis2 at mail.nih.gov  Mon Feb  1 13:20:40 2010
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Mon, 1 Feb 2010 07:20:40 -0500
Subject: [R-SIG-Mac] searchable help-files
In-Reply-To: <DACC4569-F91C-47EA-B126-804500E1797E@googlemail.com>
References: <B73F4B64-4E36-4123-8752-3D877A51B05B@googlemail.com>
	<264855a01001311137j3cf9f43wbb88517019f427b0@mail.gmail.com>
	<DACC4569-F91C-47EA-B126-804500E1797E@googlemail.com>
Message-ID: <264855a01002010420odadc071u921707da5321948f@mail.gmail.com>

On Sun, Jan 31, 2010 at 10:30 PM, Martin Batholdy
<batholdy at googlemail.com> wrote:
>
> Am 31.01.2010 um 20:37 schrieb Sean Davis:
>
>> On Sun, Jan 31, 2010 at 12:13 PM, Martin Batholdy
>> <batholdy at googlemail.com> wrote:
>>> dear mailinglist-subscribers,
>>>
>>>
>>> I wanted to ask if there is a way to make the help-files (which I open via '?command') ?searchable ..?
>>> That is a key feature I miss, and it would really help, especially in help-files with a list of a lot arguments (like 'par').
>>
>> Do you mean help.search()?
>>
>> Sean
>
> No, I mean the help-page which opens when I search for a topic (like "?sum").
>
> I can't search on this help-page via CMD+F.

I see.  That makes sense....

Sean


From payam.minoofar at meissner.com  Mon Feb  1 19:05:53 2010
From: payam.minoofar at meissner.com (Payam Minoofar)
Date: Mon, 1 Feb 2010 10:05:53 -0800
Subject: [R-SIG-Mac] Fwd: iPad query
References: <69332539-3778-4215-BAFC-E268A58A9729@apple.com>
Message-ID: <C0F9618D-4F76-4706-A31D-511924AA9C64@meissner.com>

By chance, I had happened upon an Apple insider who is involved with X11 and XQuartz on macosforge.com 

His feedback regarding R on iPad follows.

Payam
__________________
Payam Minoofar, Ph.D.
Scientist
Meissner Filtration Products
4181 Calle Tesoro
Camarillo, CA 93012
+1 805 388 9911 ext. 159
+1 805 388 5948 fax
payam.minoofar at meissner.com
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Payam Minoofar.vcf
Type: text/directory
Size: 28368 bytes
Desc: Payam Minoofar.vcf
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100201/d92df39d/attachment-0001.bin>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: ATT00001..txt
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100201/d92df39d/attachment-0001.txt>

From ecwooten at gmail.com  Mon Feb  1 19:51:42 2010
From: ecwooten at gmail.com (Eric Wooten)
Date: Mon, 1 Feb 2010 13:51:42 -0500
Subject: [R-SIG-Mac] EBImage segfault
Message-ID: <4f4b5f351002011051i34809c4cwa5b40bb5a61b8b8e@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100201/31d98eca/attachment.pl>

From simon.urbanek at r-project.org  Mon Feb  1 20:20:38 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 1 Feb 2010 14:20:38 -0500
Subject: [R-SIG-Mac] EBImage segfault
In-Reply-To: <4f4b5f351002011051i34809c4cwa5b40bb5a61b8b8e@mail.gmail.com>
References: <4f4b5f351002011051i34809c4cwa5b40bb5a61b8b8e@mail.gmail.com>
Message-ID: <3CE99953-BBCE-47D5-8C26-8613418635BC@r-project.org>


On Feb 1, 2010, at 13:51 , Eric Wooten wrote:

> Maybe more of a BioC forum question, but seemingly applicable here:  
> after
> compiling EBImage, I catch a segfault upon trying to load the library.
>
> ** R
>> ** inst
>> ** preparing package for lazy loading
>> ** help
>> *** installing help indices
>> ** building package indices ...
>> * DONE (EBImage)
>>
>>> library(EBImage)
>> Loading required package: abind
>>
>> *** caught segfault ***
>> address 0x10, cause 'memory not mapped'
>>
>> Traceback:
>> 1: dyn.load(file, DLLpath = DLLpath, ...)
>> 2: library.dynam(lib, package, package.lib)
>> 3: loadNamespace(package, c(which.lib.loc, lib.loc), keep.source =
>> keep.source)
>> 4: doTryCatch(return(expr), name, parentenv, handler)
>> 5: tryCatchOne(expr, names, parentenv, handlers[[1L]])
>> 6: tryCatchList(expr, classes, parentenv, handlers)
>> 7: tryCatch(expr, error = function(e) {    call <-  
>> conditionCall(e)    if
>> (!is.null(call)) {        if (identical(call[[1L]],
>> quote(doTryCatch)))             call <- sys.call(-4L)        dcall <-
>> deparse(call)[1L]        prefix <- paste("Error in", dcall, ": ")
>> LONG <- 75L        msg <- conditionMessage(e)        sm <-  
>> strsplit(msg,
>> "\n")[[1L]]        w <- 14L + nchar(dcall, type = "w") +  
>> nchar(sm[1L], type
>> = "w")        if (is.na(w))             w <- 14L + nchar(dcall,  
>> type =
>> "b") + nchar(sm[1L],                 type = "b")        if (w >
>> LONG)             prefix <- paste(prefix, "\n  ", sep = "")    }     
>> else
>> prefix <- "Error : "    msg <- paste(prefix, conditionMessage(e),  
>> "\n", sep
>> = "")    .Internal(seterrmessage(msg[1L]))    if (!silent &&
>> identical(getOption("show.error.messages"),         TRUE))  
>> {        cat(msg,
>> file = stderr())        .Internal(printDeferredWarnings())    }
>> invisible(structure(msg, class = "try-error"))})
>> 8: try({    ns <- loadNamespace(package, c(which.lib.loc, lib.loc),
>> keep.source = keep.source)    dataPath <- file.path(which.lib.loc,  
>> package,
>> "data")    env <- attachNamespace(ns, pos = pos, dataPath =  
>> dataPath)})
>> 9: library(EBImage)
>>
>
> Why bother compiling my own, you ask? Because this is what you get  
> from
> trying the precompiled binary on my machine:
>
>> library(EBImage)
>> Loading required package: abind
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>  unable to load shared library
>> '/Library/Frameworks/R.framework/Resources/library/EBImage/libs/ 
>> x86_64/EBImage.so':
>>
>> dlopen(/Library/Frameworks/R.framework/Resources/library/EBImage/ 
>> libs/x86_64/EBImage.so,
>> 6): Library not loaded:
>> /Library/Frameworks/GTK+.framework/Versions/2.14.X11/Resources/lib/ 
>> libpangoft2-1.0.0.dylib
>>  Referenced from:
>> /Library/Frameworks/R.framework/Resources/library/EBImage/libs/ 
>> x86_64/EBImage.so
>>  Reason: Incompatible library version: EBImage.so requires version
>> 2201.0.0 or later, but libpangoft2-1.0.0.dylib provides version  
>> 1905.0.0
>> Error: package/namespace load failed for 'EBImage'
>>
>
> Anyone out there have this library working or some thoughts on the  
> matter?

My thoughts are that BioC have some issues with the binaries ;). 64- 
bit works only with the 64-bit GTK 2.18 builds:
http://r.research.att.com/libs/GTK+_2.18.5-X11-darwin9-bin3.tar.gz

(The previous 2.14 build does not contain 64-bit libraries)

The same applies to your attempt - you didn't give us any details, so  
there is not much I can help you with but I would expect it to work  
with the above.

Cheers,
Simon


> R
> 2.10.1, OSX 10.6.2, fresh R gtk library install.
> Thanks,
> Eric
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From ecwooten at gmail.com  Mon Feb  1 21:18:31 2010
From: ecwooten at gmail.com (Eric Wooten)
Date: Mon, 1 Feb 2010 15:18:31 -0500
Subject: [R-SIG-Mac] EBImage segfault
In-Reply-To: <3CE99953-BBCE-47D5-8C26-8613418635BC@r-project.org>
References: <4f4b5f351002011051i34809c4cwa5b40bb5a61b8b8e@mail.gmail.com> 
	<3CE99953-BBCE-47D5-8C26-8613418635BC@r-project.org>
Message-ID: <4f4b5f351002011218h30241cdfwa328e886d435556b@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100201/4f56e060/attachment.pl>

From Christian.Prinoth at epsilonsgr.it  Tue Feb  2 11:21:52 2010
From: Christian.Prinoth at epsilonsgr.it (Christian Prinoth)
Date: Tue, 2 Feb 2010 11:21:52 +0100
Subject: [R-SIG-Mac] Fwd: iPad query
In-Reply-To: <C0F9618D-4F76-4706-A31D-511924AA9C64@meissner.com>
References: <69332539-3778-4215-BAFC-E268A58A9729@apple.com> 
	<C0F9618D-4F76-4706-A31D-511924AA9C64@meissner.com>
Message-ID: <8D64D4652EB17048B874B0503309CFCA03BBF7DD@epsilon2003.epsilonsgr.it>

I think that integration of R into Numbers on "ordinary" Os X would be
far more interesting than R on iPad...
It can be done, sort of, with Rserve and appscript, but native support
would be awesome...

Christian Prinoth <cp at epsilonsgr.it>
Epsilon SGR
+39-02-88102355


> -----Original Message-----
> From: r-sig-mac-bounces at stat.math.ethz.ch
> [mailto:r-sig-mac-bounces at stat.math.ethz.ch] On Behalf Of
> Payam Minoofar
> Sent: 01 February, 2010 19:06
> To: r-sig-mac at stat.math.ethz.ch
> Subject: [R-SIG-Mac] Fwd: iPad query
>
> By chance, I had happened upon an Apple insider who is
> involved with X11 and XQuartz on macosforge.com
>
> His feedback regarding R on iPad follows.
>
> Payam
> __________________
> Payam Minoofar, Ph.D.
> Scientist
> Meissner Filtration Products
> 4181 Calle Tesoro
> Camarillo, CA 93012
> +1 805 388 9911 ext. 159
> +1 805 388 5948 fax
> payam.minoofar at meissner.com
>

DISCLAIMER:\ L'utilizzo non autorizzato del presente mes...{{dropped:16}}


From simon.urbanek at r-project.org  Tue Feb  2 16:21:20 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 2 Feb 2010 10:21:20 -0500
Subject: [R-SIG-Mac] Fwd: iPad query
In-Reply-To: <8D64D4652EB17048B874B0503309CFCA03BBF7DD@epsilon2003.epsilonsgr.it>
References: <69332539-3778-4215-BAFC-E268A58A9729@apple.com>
	<C0F9618D-4F76-4706-A31D-511924AA9C64@meissner.com>
	<8D64D4652EB17048B874B0503309CFCA03BBF7DD@epsilon2003.epsilonsgr.it>
Message-ID: <8A127AE4-B5D1-4F24-B2D1-4664596490AF@r-project.org>


On Feb 2, 2010, at 5:21 , Christian Prinoth wrote:

> I think that integration of R into Numbers on "ordinary" Os X would be
> far more interesting than R on iPad...
> It can be done, sort of, with Rserve and appscript, but native support
> would be awesome...
>

That last time I looked Numbers had no facility for plugins, so it  
could not be done. We can only hope that Apple adds plugin support at  
some point ... (if I'm wrong, please contact me with details!).

Thanks,
Simon



> Christian Prinoth <cp at epsilonsgr.it>
> Epsilon SGR
> +39-02-88102355
>
>
>> -----Original Message-----
>> From: r-sig-mac-bounces at stat.math.ethz.ch
>> [mailto:r-sig-mac-bounces at stat.math.ethz.ch] On Behalf Of
>> Payam Minoofar
>> Sent: 01 February, 2010 19:06
>> To: r-sig-mac at stat.math.ethz.ch
>> Subject: [R-SIG-Mac] Fwd: iPad query
>>
>> By chance, I had happened upon an Apple insider who is
>> involved with X11 and XQuartz on macosforge.com
>>
>> His feedback regarding R on iPad follows.
>>
>> Payam
>> __________________
>> Payam Minoofar, Ph.D.
>> Scientist
>> Meissner Filtration Products
>> 4181 Calle Tesoro
>> Camarillo, CA 93012
>> +1 805 388 9911 ext. 159
>> +1 805 388 5948 fax
>> payam.minoofar at meissner.com
>>
>
> DISCLAIMER:\ L'utilizzo non autorizzato del presente mes...{{dropped: 
> 16}}
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From Christian.Prinoth at epsilonsgr.it  Tue Feb  2 17:22:33 2010
From: Christian.Prinoth at epsilonsgr.it (Christian Prinoth)
Date: Tue, 2 Feb 2010 17:22:33 +0100
Subject: [R-SIG-Mac] Fwd: iPad query
In-Reply-To: <8A127AE4-B5D1-4F24-B2D1-4664596490AF@r-project.org>
References: <69332539-3778-4215-BAFC-E268A58A9729@apple.com>  
	<C0F9618D-4F76-4706-A31D-511924AA9C64@meissner.com> 
	<8D64D4652EB17048B874B0503309CFCA03BBF7DD@epsilon2003.epsilonsgr.it> 
	<8A127AE4-B5D1-4F24-B2D1-4664596490AF@r-project.org>
Message-ID: <8D64D4652EB17048B874B0503309CFCA03BBF7DF@epsilon2003.epsilonsgr.it>

Nope :(
But we should all hammer Apple with requests in that direction!

Christian Prinoth <cp at epsilonsgr.it>
Epsilon SGR
+39-02-88102355


> -----Original Message-----
> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> Sent: 02 February, 2010 16:21
> To: Christian Prinoth
> Cc: r-sig-mac at stat.math.ethz.ch
> Subject: Re: [R-SIG-Mac] Fwd: iPad query
>
>
> On Feb 2, 2010, at 5:21 , Christian Prinoth wrote:
>
> > I think that integration of R into Numbers on "ordinary" Os
> X would be
> > far more interesting than R on iPad...
> > It can be done, sort of, with Rserve and appscript, but
> native support
> > would be awesome...
> >
>
> That last time I looked Numbers had no facility for plugins, so it 
> could not be done. We can only hope that Apple adds plugin
> support at 
> some point ... (if I'm wrong, please contact me with details!).
>
> Thanks,
> Simon
>
>
>
> > Christian Prinoth <cp at epsilonsgr.it>
> > Epsilon SGR
> > +39-02-88102355
> >
> >
> >> -----Original Message-----
> >> From: r-sig-mac-bounces at stat.math.ethz.ch
> >> [mailto:r-sig-mac-bounces at stat.math.ethz.ch] On Behalf Of
> >> Payam Minoofar
> >> Sent: 01 February, 2010 19:06
> >> To: r-sig-mac at stat.math.ethz.ch
> >> Subject: [R-SIG-Mac] Fwd: iPad query
> >>
> >> By chance, I had happened upon an Apple insider who is
> >> involved with X11 and XQuartz on macosforge.com
> >>
> >> His feedback regarding R on iPad follows.
> >>
> >> Payam
> >> __________________
> >> Payam Minoofar, Ph.D.
> >> Scientist
> >> Meissner Filtration Products
> >> 4181 Calle Tesoro
> >> Camarillo, CA 93012
> >> +1 805 388 9911 ext. 159
> >> +1 805 388 5948 fax
> >> payam.minoofar at meissner.com
> >>
> >
> > DISCLAIMER:\ L'utilizzo non autorizzato del presente
> mes...{{dropped:
> > 16}}
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at stat.math.ethz.ch
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
> >
>
>

DISCLAIMER:\ L'utilizzo non autorizzato del presente mes...{{dropped:16}}


From pjo at cisunix.unh.edu  Wed Feb  3 13:32:01 2010
From: pjo at cisunix.unh.edu (Paul Ossenbruggen)
Date: Wed, 3 Feb 2010 07:32:01 -0500
Subject: [R-SIG-Mac] "optim"
Message-ID: <73645984-6419-4A2D-8AE7-55E746A0F5C4@cisunix.unh.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100203/5525c309/attachment.pl>

From gommoskipper at gmail.com  Thu Feb  4 10:11:40 2010
From: gommoskipper at gmail.com (Gommo Skipper)
Date: Thu, 4 Feb 2010 10:11:40 +0100
Subject: [R-SIG-Mac] No labels/titles shown on Mac
In-Reply-To: <9c9a19a81001310850j4bb54380k443b9b7f0e0a1c1@mail.gmail.com>
References: <9c9a19a81001310731s7fbe879sc2d5fabdba8d22b2@mail.gmail.com>
	<9EA70A0C-75A4-4A77-BCD2-67F8AE96F383@r-project.org>
	<9c9a19a81001310850j4bb54380k443b9b7f0e0a1c1@mail.gmail.com>
Message-ID: <9c9a19a81002040111o3fc358d1mcf05bd2cd49fd95f@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100204/79583fbc/attachment.pl>

From ripley at stats.ox.ac.uk  Thu Feb  4 13:31:36 2010
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 4 Feb 2010 12:31:36 +0000 (GMT)
Subject: [R-SIG-Mac] No labels/titles shown on Mac
In-Reply-To: <9c9a19a81002040111o3fc358d1mcf05bd2cd49fd95f@mail.gmail.com>
References: <9c9a19a81001310731s7fbe879sc2d5fabdba8d22b2@mail.gmail.com>
	<9EA70A0C-75A4-4A77-BCD2-67F8AE96F383@r-project.org>
	<9c9a19a81001310850j4bb54380k443b9b7f0e0a1c1@mail.gmail.com>
	<9c9a19a81002040111o3fc358d1mcf05bd2cd49fd95f@mail.gmail.com>
Message-ID: <alpine.LFD.2.00.1002041229100.5162@localhost>

On Thu, 4 Feb 2010, Gommo Skipper wrote:

> I found the problem with the Arial font.
>
> Apparently this is due to a conflict between the Arial font installed by MS
> Entourage (argh!) and the default Arial in Snow leopard. The MS version
> installed in /Library/Fonts/Microsoft
> is not compatible with Snow and shows as blank font. Unfortunately it seems
> to take priority to the default Snow Arial and is not visible in font book.
>
> Deleting Arial from /Library/Fonts/Microsoft fixed the problem for me.
>
> I found this because Entourage was having the same trouble displaying html
> mail with Arial and this pointed me in the right direction.
>
> Thanks,
> gommo.
>
> PS: I don't seem to find my messages in the r-sig-mac archives... any
> problem there?

No, your end.  I see a thread starting 
https://stat.ethz.ch/pipermail/r-sig-mac/2010-January/007068.html for 
example. And googling your 'name' (is it real?) gave gmane links at 
the top of the list.

>
> On Sun, Jan 31, 2010 at 5:50 PM, Gommo Skipper <gommoskipper at gmail.com>wrote:
>
>> Simon,
>> thank you for the quick reply. Indeed, seems you've nailed the problem.
>>
>> This has the problem:
>>> hist(rnorm(100),main="HELLO",family="Arial")
>>
>> Helvetica instead works properly:
>>> hist(rnorm(100),main="HELLO",family="Helvetica")
>>
>> My quartz.options() shows:
>> $family
>> [1] "Helvetica"
>>
>> If I open a new quartz with par(family="Helvetica"), I can use both
>>
>> hist(rnorm(100),main="HELLO")
>> hist(rnorm(100),main="HELLO",family="<whatever>")
>>
>> But family="Arial" shows empty labels.
>>
>> This might seem a stupid question, but:
>>  1. How do I change the default font family for quartz?
>> 2. How do I check if Arial family is disabled (it is installed in my Mac
>> and I can use the font in other programs).
>>
>> I don't really need "Arial", but I can't seem to find the correct way to
>> specity a different default family (par("mono") opens a new quartz window
>> and
>>
>> Thank you.
>> Gommo
>>
>> On Sun, Jan 31, 2010 at 4:49 PM, Simon Urbanek <
>> simon.urbanek at r-project.org> wrote:
>>
>>>
>>> On Jan 31, 2010, at 10:31 AM, Gommo Skipper wrote:
>>>
>>>> Hello,
>>>>
>>>> I'm trying to use the mac port of R and have problem seeing any label in
>>> my
>>>> plots. There's no main title, labels and no errors spitting from the R
>>>> console.
>>>>
>>>>> sessionInfo()
>>>> I'm trying to use quartz on a x64 snow leopard:
>>>>
>>>> R version 2.10.1 (2009-12-14)
>>>> x86_64-apple-darwin9.8.0
>>>>
>>>> locale:
>>>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>>
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>> hist(rnorm(100),main="HELLO")
>>>>>
>>>>
>>>> This is a stock installation, and I'm out of ideas on how to fix it.
>>>> Any hints?
>>>>
>>>
>>> I cannot reproduce it, but this sounds like a font issue. Have you
>>> disabled some fonts (such as Arial) on your system? (see the recent
>>> discussion on this) Try using some font that you have on your system, e.g.
>>> hist(rnorm(100),main="HELLO",family="Monaco")
>>> or
>>> hist(rnorm(100),main="HELLO",family="Helvetica")
>>>
>>> Cheers,
>>> Simon
>>
>>
>>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From rzdelander at gmail.com  Sat Feb  6 13:53:51 2010
From: rzdelander at gmail.com (=?iso-8859-1?Q?Renzoandre_De_la_Pe=F1a_Lavander?=)
Date: Sat, 6 Feb 2010 13:53:51 +0100
Subject: [R-SIG-Mac] R start-up problems in Snow Leopard
Message-ID: <68086B8C-4BC6-49F1-A54E-9597F952EBF0@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100206/1e990129/attachment.pl>

From rzdelander at gmail.com  Sat Feb  6 14:13:44 2010
From: rzdelander at gmail.com (=?iso-8859-1?Q?Renzoandre_De_la_Pe=F1a_Lavander?=)
Date: Sat, 6 Feb 2010 14:13:44 +0100
Subject: [R-SIG-Mac] Installation
Message-ID: <9764785E-5479-4686-9460-5E9AF535693B@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100206/94b14421/attachment.pl>

From mailinglist.honeypot at gmail.com  Sat Feb  6 21:27:35 2010
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Sat, 6 Feb 2010 15:27:35 -0500
Subject: [R-SIG-Mac] Installation
In-Reply-To: <9764785E-5479-4686-9460-5E9AF535693B@gmail.com>
References: <9764785E-5479-4686-9460-5E9AF535693B@gmail.com>
Message-ID: <bbdc7ed01002061227i65bb01e1w369fa8527926ab89@mail.gmail.com>

Hi,

On Sat, Feb 6, 2010 at 8:13 AM, Renzoandre De la Pe?a Lavander
<rzdelander at gmail.com> wrote:
> Hello My name is Renzo De la Pe?a, I change to R from SAS some time ago and I had never an inconvenient, until I changed to Snow Leopard couple weeks ago. I read all the FAQ's and instructions. I install Xcode from my retail DVD, downloaded gFortran even reinstalled X11 and every time I keep receiving this message when I statup
> During startup - Warning messages:
>>>> 1: Setting LC_CTYPE failed, using "C"
>>>> 2: Setting LC_COLLATE failed, using "C"
>>>> 3: Setting LC_TIME failed, using "C"
>>>> 4: Setting LC_MESSAGES failed, using "C"
>>>> [R.app GUI 1.31 (5537) i386-apple-darwin9.8.0]
> WARNING: You're using a non-UTF8 locale, therefore only ASCII
>>>> characters will work.
>>>> Please read R for Mac OS X FAQ (see Help) section 9 and adjust your
>>>> system preferences accordingly.
> I am running Java in 32-bits because I also use Berkeley Madonna for modeling which does not supports 64-bit for the chartflows,
>
> I really don't know what else to do here, if someone could help me I will be eternally grateful.

It looks like the same error that popped up in this thread:
https://stat.ethz.ch/pipermail/r-sig-mac/2009-December/006943.html

Perhaps you can read through that to see what's up?

-steve

-- 
Steve Lianoglou
Graduate Student: Computational Systems Biology
 | Memorial Sloan-Kettering Cancer Center
 | Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From simon.urbanek at r-project.org  Sat Feb  6 21:48:32 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 6 Feb 2010 15:48:32 -0500
Subject: [R-SIG-Mac] R start-up problems in Snow Leopard
In-Reply-To: <68086B8C-4BC6-49F1-A54E-9597F952EBF0@gmail.com>
References: <68086B8C-4BC6-49F1-A54E-9597F952EBF0@gmail.com>
Message-ID: <5A798B38-2C93-4C0D-9712-AE199EBC6F8F@r-project.org>


On Feb 6, 2010, at 7:53 AM, Renzoandre De la Pe?a Lavander wrote:

> Hello My name is Renzo De la Pe?a, I change to R from SAS some time ago and I had never an inconvenient, until I changed to Snow Leopard couple week ago. I read all the FAQ's and instructions. I install Xcode from my retail DVD, downloaded gFortran even reinstalled X11 and every time I keep receiving this message when I statup 
> During startup - Warning messages:
>>>> 1: Setting LC_CTYPE failed, using "C"
>>>> 2: Setting LC_COLLATE failed, using "C"
>>>> 3: Setting LC_TIME failed, using "C"
>>>> 4: Setting LC_MESSAGES failed, using "C"
>>>> [R.app GUI 1.31 (5537) i386-apple-darwin9.8.0]
> WARNING: You're using a non-UTF8 locale, therefore only ASCII
>>>> characters will work.
>>>> Please read R for Mac OS X FAQ (see Help) section 9 and adjust your
>>>> system preferences accordingly.
> 

Did you read the FAQ as it tells you?

Cheers,
Simon


From david.airey at Vanderbilt.Edu  Sun Feb  7 19:39:52 2010
From: david.airey at Vanderbilt.Edu (Airey, David C)
Date: Sun, 7 Feb 2010 12:39:52 -0600
Subject: [R-SIG-Mac] making R64 the default gui
Message-ID: <0C684BC9-DB43-481E-B36B-E0A4FFE9AAEE@Vanderbilt.Edu>

Dear list,

I have a bit more RAM now and want to make R64 the default GUI.

What is the best way to do this?

The simplest way outside the terminal is to get info on a file and make an application the default for a particular extension, like .r or .rdata, etc. But for some reason this doesn't work with the R.app and R64.app distributed. R64 doesn't stick, and reverts to R in the Get Info window.

Can someone (1) explain this behavior, and (2) provide alternative instructions?

Thank you.

-Dave

From dwinsemius at comcast.net  Sun Feb  7 21:15:42 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Sun, 7 Feb 2010 15:15:42 -0500
Subject: [R-SIG-Mac] making R64 the default gui
In-Reply-To: <0C684BC9-DB43-481E-B36B-E0A4FFE9AAEE@Vanderbilt.Edu>
References: <0C684BC9-DB43-481E-B36B-E0A4FFE9AAEE@Vanderbilt.Edu>
Message-ID: <0919D119-A483-4972-9F6D-0AD368FC25A3@comcast.net>


On Feb 7, 2010, at 1:39 PM, Airey, David C wrote:

> Dear list,
>
> I have a bit more RAM now and want to make R64 the default GUI.
>
> What is the best way to do this?

I usually dragged my files to the Dock icon.

>
> The simplest way outside the terminal is to get info on a file and  
> make an application the default for a particular extension, like .r  
> or .rdata, etc. But for some reason this doesn't work with the R.app  
> and R64.app distributed. R64 doesn't stick, and reverts to R in the  
> Get Info window.
>
> Can someone (1) explain this behavior, and (2) provide alternative  
> instructions?

I can reproduce the problem in the sense that I changed the file  
association for .r files to R64.app and it keeps going back to R.app.  
I think it will require editing the file associations database. I  
wasn't sure how to do that but here's a link to some ideas about using  
lsregister. It may be a bit out of date since it appears to have been  
applied to OSX 10.3.

I got what appear to be favorable results by:

a) moving all the old and undesired R_x.app GUI's out of the  
Applications folder and ...
b) running this script from the Apple Script editor:

(*
rebuildLaunchServicesDB.scpt
Locates the lsregister command regardless of OS version, then tells it  
to rebuild the Launch Services Database for all applications in the  
canonical Applications folder
Paul Henegan
bleulyon at mac.com
20.Aug.2008
*)

set theCommand to (do shell script "locate lsregister")
set theArguments to " -kill -r -f -domain local -domain system -domain  
user"
set thePath to " /Applications"--edit this as needed
set theScript to theCommand & theArguments & thePath
do shell script theScript

-------end script-----------

The R64 assignment seems to be "sticking."
>
> Thank you.
>
> -Dave
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Heritage Laboratories
West Hartford, CT


From r.turner at auckland.ac.nz  Sun Feb  7 21:53:00 2010
From: r.turner at auckland.ac.nz (Rolf Turner)
Date: Mon, 8 Feb 2010 09:53:00 +1300
Subject: [R-SIG-Mac] Wandering X11 windows under Snow Leopard.
Message-ID: <2A3BDC50-FEE5-4D17-AB8C-430A57EC9368@auckland.ac.nz>


I recently upgraded from a fairly ancient Tiger OSX to the latest
Snow Leopard (10.6.2).

I've got most of the teething problems settled, but there is one
really annoying phenomenon that I cannot fathom.

When I open an X11 window for R graphics, it will ***sometimes***
refuse to let me move the pointer over the window!!!  I.e. if I
move the pointer over the window, the window jumps to another
part of the screen.  If I chase it there, it jumps again.  This
precludes raising or moving the window.

The problem is that this is an intermittent fault.  Sometimes it
will happen, and sometimes it won't.  (Once it starts happening,
it won't quit, however.)  Makes it very hard to diagnose
or trace the fault.

Has anybody else ever encountered anything like this?  Has anyone
any idea what's causing this phenomenon, or how I could trace it
down and rectify the problem?

Grateful for any suggestions.

	cheers,

		Rolf Turner

P. S.  I start R from the command line in a terminal window; I don't
use the R GUI.

> sessionInfo()
R version 2.10.1 (2009-12-14) 
x86_64-apple-darwin9.8.0 

locale:
[1] en_NZ.UTF-8/en_NZ.UTF-8/C/C/en_NZ.UTF-8/en_NZ.UTF-8

attached base packages:
[1] datasets  utils     stats     graphics  grDevices methods   base     

other attached packages:
[1] misc_0.0-12    fortunes_1.3-7 MASS_7.3-4    


######################################################################
Attention:\ This e-mail message is privileged and confid...{{dropped:9}}


From david.airey at Vanderbilt.Edu  Sun Feb  7 22:34:00 2010
From: david.airey at Vanderbilt.Edu (Airey, David C)
Date: Sun, 7 Feb 2010 15:34:00 -0600
Subject: [R-SIG-Mac] making R64 the default gui
In-Reply-To: <0919D119-A483-4972-9F6D-0AD368FC25A3@comcast.net>
References: <0C684BC9-DB43-481E-B36B-E0A4FFE9AAEE@Vanderbilt.Edu>
	<0919D119-A483-4972-9F6D-0AD368FC25A3@comcast.net>
Message-ID: <E7073DAC-2C6B-44FB-A0F5-FB2A0764BDD6@Vanderbilt.Edu>

I did rebuild the launch services using:

/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -kill -r -domain local -domain system -domain user

but unlike you I get the same response to trying to change things with the Get Info dialog--it always reverts to R.app rather than R64.app.

I note that the com.apple.launchservices.plist file reads:

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>LSHandlers</key>
	<array>
		<dict>
			<key>LSHandlerContentType</key>
			<string>com.apple.rez-source</string>
			<key>LSHandlerRoleAll</key>
			<string>org.r-project.r</string>
		</dict>
	</array>
</dict>
</plist>


On Feb 7, 2010, at 2:15 PM, David Winsemius wrote:

> 
> On Feb 7, 2010, at 1:39 PM, Airey, David C wrote:
> 
>> Dear list,
>> 
>> I have a bit more RAM now and want to make R64 the default GUI.
>> 
>> What is the best way to do this?
> 
> I usually dragged my files to the Dock icon.
> 
>> 
>> The simplest way outside the terminal is to get info on a file and  
>> make an application the default for a particular extension, like .r  
>> or .rdata, etc. But for some reason this doesn't work with the R.app  
>> and R64.app distributed. R64 doesn't stick, and reverts to R in the  
>> Get Info window.
>> 
>> Can someone (1) explain this behavior, and (2) provide alternative  
>> instructions?
> 
> I can reproduce the problem in the sense that I changed the file  
> association for .r files to R64.app and it keeps going back to R.app.  
> I think it will require editing the file associations database. I  
> wasn't sure how to do that but here's a link to some ideas about using  
> lsregister. It may be a bit out of date since it appears to have been  
> applied to OSX 10.3.
> 
> I got what appear to be favorable results by:
> 
> a) moving all the old and undesired R_x.app GUI's out of the  
> Applications folder and ...
> b) running this script from the Apple Script editor:
> 
> (*
> rebuildLaunchServicesDB.scpt
> Locates the lsregister command regardless of OS version, then tells it  
> to rebuild the Launch Services Database for all applications in the  
> canonical Applications folder
> Paul Henegan
> bleulyon at mac.com
> 20.Aug.2008
> *)
> 
> set theCommand to (do shell script "locate lsregister")
> set theArguments to " -kill -r -f -domain local -domain system -domain  
> user"
> set thePath to " /Applications"--edit this as needed
> set theScript to theCommand & theArguments & thePath
> do shell script theScript
> 
> -------end script-----------
> 
> The R64 assignment seems to be "sticking."
>> 
>> Thank you.
>> 
>> -Dave
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> David Winsemius, MD
> Heritage Laboratories
> West Hartford, CT
> 


From dwinsemius at comcast.net  Sun Feb  7 22:40:47 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Sun, 7 Feb 2010 16:40:47 -0500
Subject: [R-SIG-Mac] making R64 the default gui
In-Reply-To: <E7073DAC-2C6B-44FB-A0F5-FB2A0764BDD6@Vanderbilt.Edu>
References: <0C684BC9-DB43-481E-B36B-E0A4FFE9AAEE@Vanderbilt.Edu>
	<0919D119-A483-4972-9F6D-0AD368FC25A3@comcast.net>
	<E7073DAC-2C6B-44FB-A0F5-FB2A0764BDD6@Vanderbilt.Edu>
Message-ID: <7E72DC69-9736-41CF-9E31-BAD7F15522A7@comcast.net>


On Feb 7, 2010, at 4:34 PM, Airey, David C wrote:

> I did rebuild the launch services using:
>
> /System/Library/Frameworks/CoreServices.framework/Versions/A/ 
> Frameworks/LaunchServices.framework/Versions/A/Support/lsregister - 
> kill -r -domain local -domain system -domain user
>
> but unlike you I get the same response to trying to change things  
> with the Get Info dialog--it always reverts to R.app rather than  
> R64.app.

Did you remove the other R.GUIs from the Applications folder before  
you did that? I moved them out before rebuilding and then moved them  
back in afterward.

-- 
David.


>
> I note that the com.apple.launchservices.plist file reads:
>
> <?xml version="1.0" encoding="UTF-8"?>
> <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd 
> ">
> <plist version="1.0">
> <dict>
> 	<key>LSHandlers</key>
> 	<array>
> 		<dict>
> 			<key>LSHandlerContentType</key>
> 			<string>com.apple.rez-source</string>
> 			<key>LSHandlerRoleAll</key>
> 			<string>org.r-project.r</string>
> 		</dict>
> 	</array>
> </dict>
> </plist>
>
>
> On Feb 7, 2010, at 2:15 PM, David Winsemius wrote:
>
>>
>> On Feb 7, 2010, at 1:39 PM, Airey, David C wrote:
>>
>>> Dear list,
>>>
>>> I have a bit more RAM now and want to make R64 the default GUI.
>>>
>>> What is the best way to do this?
>>
>> I usually dragged my files to the Dock icon.
>>
>>>
>>> The simplest way outside the terminal is to get info on a file and
>>> make an application the default for a particular extension, like .r
>>> or .rdata, etc. But for some reason this doesn't work with the R.app
>>> and R64.app distributed. R64 doesn't stick, and reverts to R in the
>>> Get Info window.
>>>
>>> Can someone (1) explain this behavior, and (2) provide alternative
>>> instructions?
>>
>> I can reproduce the problem in the sense that I changed the file
>> association for .r files to R64.app and it keeps going back to R.app.
>> I think it will require editing the file associations database. I
>> wasn't sure how to do that but here's a link to some ideas about  
>> using
>> lsregister. It may be a bit out of date since it appears to have been
>> applied to OSX 10.3.
>>
>> I got what appear to be favorable results by:
>>
>> a) moving all the old and undesired R_x.app GUI's out of the
>> Applications folder and ...
>> b) running this script from the Apple Script editor:
>>
>> (*
>> rebuildLaunchServicesDB.scpt
>> Locates the lsregister command regardless of OS version, then tells  
>> it
>> to rebuild the Launch Services Database for all applications in the
>> canonical Applications folder
>> Paul Henegan
>> bleulyon at mac.com
>> 20.Aug.2008
>> *)
>>
>> set theCommand to (do shell script "locate lsregister")
>> set theArguments to " -kill -r -f -domain local -domain system - 
>> domain
>> user"
>> set thePath to " /Applications"--edit this as needed
>> set theScript to theCommand & theArguments & thePath
>> do shell script theScript
>>
>> -------end script-----------
>>
>> The R64 assignment seems to be "sticking."
>>>
>>> Thank you.
>>>
>>> -Dave
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> David Winsemius, MD
>> Heritage Laboratories
>> West Hartford, CT
>>
>

David Winsemius, MD
Heritage Laboratories
West Hartford, CT


From david.airey at Vanderbilt.Edu  Sun Feb  7 22:44:56 2010
From: david.airey at Vanderbilt.Edu (Airey, David C)
Date: Sun, 7 Feb 2010 15:44:56 -0600
Subject: [R-SIG-Mac] making R64 the default gui
In-Reply-To: <7E72DC69-9736-41CF-9E31-BAD7F15522A7@comcast.net>
References: <0C684BC9-DB43-481E-B36B-E0A4FFE9AAEE@Vanderbilt.Edu>
	<0919D119-A483-4972-9F6D-0AD368FC25A3@comcast.net>
	<E7073DAC-2C6B-44FB-A0F5-FB2A0764BDD6@Vanderbilt.Edu>
	<7E72DC69-9736-41CF-9E31-BAD7F15522A7@comcast.net>
Message-ID: <76B5EC15-8327-44E5-BFE0-969AD9BC7D05@Vanderbilt.Edu>

So I have only two R.GUIs on my system, R.app and R64.app that were installed with from CRAN (R-2.10.1.tar.gz). Are you saying I should move them both out, or all but the R64.app, before rebuilding?

Thank you for this help.


On Feb 7, 2010, at 3:40 PM, David Winsemius wrote:

> 
> On Feb 7, 2010, at 4:34 PM, Airey, David C wrote:
> 
>> I did rebuild the launch services using:
>> 
>> /System/Library/Frameworks/CoreServices.framework/Versions/A/ 
>> Frameworks/LaunchServices.framework/Versions/A/Support/lsregister - 
>> kill -r -domain local -domain system -domain user
>> 
>> but unlike you I get the same response to trying to change things  
>> with the Get Info dialog--it always reverts to R.app rather than  
>> R64.app.
> 
> Did you remove the other R.GUIs from the Applications folder before  
> you did that? I moved them out before rebuilding and then moved them  
> back in afterward.
> 
> -- 
> David.
> 
> 
>> 
>> I note that the com.apple.launchservices.plist file reads:
>> 
>> <?xml version="1.0" encoding="UTF-8"?>
>> <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd 
>> ">
>> <plist version="1.0">
>> <dict>
>> 	<key>LSHandlers</key>
>> 	<array>
>> 		<dict>
>> 			<key>LSHandlerContentType</key>
>> 			<string>com.apple.rez-source</string>
>> 			<key>LSHandlerRoleAll</key>
>> 			<string>org.r-project.r</string>
>> 		</dict>
>> 	</array>
>> </dict>
>> </plist>
>> 
>> 
>> On Feb 7, 2010, at 2:15 PM, David Winsemius wrote:
>> 
>>> 
>>> On Feb 7, 2010, at 1:39 PM, Airey, David C wrote:
>>> 
>>>> Dear list,
>>>> 
>>>> I have a bit more RAM now and want to make R64 the default GUI.
>>>> 
>>>> What is the best way to do this?
>>> 
>>> I usually dragged my files to the Dock icon.
>>> 
>>>> 
>>>> The simplest way outside the terminal is to get info on a file and
>>>> make an application the default for a particular extension, like .r
>>>> or .rdata, etc. But for some reason this doesn't work with the R.app
>>>> and R64.app distributed. R64 doesn't stick, and reverts to R in the
>>>> Get Info window.
>>>> 
>>>> Can someone (1) explain this behavior, and (2) provide alternative
>>>> instructions?
>>> 
>>> I can reproduce the problem in the sense that I changed the file
>>> association for .r files to R64.app and it keeps going back to R.app.
>>> I think it will require editing the file associations database. I
>>> wasn't sure how to do that but here's a link to some ideas about  
>>> using
>>> lsregister. It may be a bit out of date since it appears to have been
>>> applied to OSX 10.3.
>>> 
>>> I got what appear to be favorable results by:
>>> 
>>> a) moving all the old and undesired R_x.app GUI's out of the
>>> Applications folder and ...
>>> b) running this script from the Apple Script editor:
>>> 
>>> (*
>>> rebuildLaunchServicesDB.scpt
>>> Locates the lsregister command regardless of OS version, then tells  
>>> it
>>> to rebuild the Launch Services Database for all applications in the
>>> canonical Applications folder
>>> Paul Henegan
>>> bleulyon at mac.com
>>> 20.Aug.2008
>>> *)
>>> 
>>> set theCommand to (do shell script "locate lsregister")
>>> set theArguments to " -kill -r -f -domain local -domain system - 
>>> domain
>>> user"
>>> set thePath to " /Applications"--edit this as needed
>>> set theScript to theCommand & theArguments & thePath
>>> do shell script theScript
>>> 
>>> -------end script-----------
>>> 
>>> The R64 assignment seems to be "sticking."
>>>> 
>>>> Thank you.
>>>> 
>>>> -Dave
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> David Winsemius, MD
>>> Heritage Laboratories
>>> West Hartford, CT
>>> 
>> 
> 
> David Winsemius, MD
> Heritage Laboratories
> West Hartford, CT
> 


From david.airey at Vanderbilt.Edu  Sun Feb  7 22:52:19 2010
From: david.airey at Vanderbilt.Edu (Airey, David C)
Date: Sun, 7 Feb 2010 15:52:19 -0600
Subject: [R-SIG-Mac] making R64 the default gui
In-Reply-To: <7E72DC69-9736-41CF-9E31-BAD7F15522A7@comcast.net>
References: <0C684BC9-DB43-481E-B36B-E0A4FFE9AAEE@Vanderbilt.Edu>
	<0919D119-A483-4972-9F6D-0AD368FC25A3@comcast.net>
	<E7073DAC-2C6B-44FB-A0F5-FB2A0764BDD6@Vanderbilt.Edu>
	<7E72DC69-9736-41CF-9E31-BAD7F15522A7@comcast.net>
Message-ID: <488C0677-1A07-4A53-91A5-C80B0C65B7CA@Vanderbilt.Edu>

I got it now. I kept R64.app in my applications folder, moved R.app out, rebuilt my launch services, and then moved R.app back to my applications folder. Now my R files open with R64.app by default.

Thank you!

-Dave

On Feb 7, 2010, at 3:40 PM, David Winsemius wrote:

> 
> On Feb 7, 2010, at 4:34 PM, Airey, David C wrote:
> 
>> I did rebuild the launch services using:
>> 
>> /System/Library/Frameworks/CoreServices.framework/Versions/A/ 
>> Frameworks/LaunchServices.framework/Versions/A/Support/lsregister - 
>> kill -r -domain local -domain system -domain user
>> 
>> but unlike you I get the same response to trying to change things  
>> with the Get Info dialog--it always reverts to R.app rather than  
>> R64.app.
> 
> Did you remove the other R.GUIs from the Applications folder before  
> you did that? I moved them out before rebuilding and then moved them  
> back in afterward.
> 
> -- 
> David.
> 
> 
>> 
>> I note that the com.apple.launchservices.plist file reads:
>> 
>> <?xml version="1.0" encoding="UTF-8"?>
>> <!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd 
>> ">
>> <plist version="1.0">
>> <dict>
>> 	<key>LSHandlers</key>
>> 	<array>
>> 		<dict>
>> 			<key>LSHandlerContentType</key>
>> 			<string>com.apple.rez-source</string>
>> 			<key>LSHandlerRoleAll</key>
>> 			<string>org.r-project.r</string>
>> 		</dict>
>> 	</array>
>> </dict>
>> </plist>
>> 
>> 
>> On Feb 7, 2010, at 2:15 PM, David Winsemius wrote:
>> 
>>> 
>>> On Feb 7, 2010, at 1:39 PM, Airey, David C wrote:
>>> 
>>>> Dear list,
>>>> 
>>>> I have a bit more RAM now and want to make R64 the default GUI.
>>>> 
>>>> What is the best way to do this?
>>> 
>>> I usually dragged my files to the Dock icon.
>>> 
>>>> 
>>>> The simplest way outside the terminal is to get info on a file and
>>>> make an application the default for a particular extension, like .r
>>>> or .rdata, etc. But for some reason this doesn't work with the R.app
>>>> and R64.app distributed. R64 doesn't stick, and reverts to R in the
>>>> Get Info window.
>>>> 
>>>> Can someone (1) explain this behavior, and (2) provide alternative
>>>> instructions?
>>> 
>>> I can reproduce the problem in the sense that I changed the file
>>> association for .r files to R64.app and it keeps going back to R.app.
>>> I think it will require editing the file associations database. I
>>> wasn't sure how to do that but here's a link to some ideas about  
>>> using
>>> lsregister. It may be a bit out of date since it appears to have been
>>> applied to OSX 10.3.
>>> 
>>> I got what appear to be favorable results by:
>>> 
>>> a) moving all the old and undesired R_x.app GUI's out of the
>>> Applications folder and ...
>>> b) running this script from the Apple Script editor:
>>> 
>>> (*
>>> rebuildLaunchServicesDB.scpt
>>> Locates the lsregister command regardless of OS version, then tells  
>>> it
>>> to rebuild the Launch Services Database for all applications in the
>>> canonical Applications folder
>>> Paul Henegan
>>> bleulyon at mac.com
>>> 20.Aug.2008
>>> *)
>>> 
>>> set theCommand to (do shell script "locate lsregister")
>>> set theArguments to " -kill -r -f -domain local -domain system - 
>>> domain
>>> user"
>>> set thePath to " /Applications"--edit this as needed
>>> set theScript to theCommand & theArguments & thePath
>>> do shell script theScript
>>> 
>>> -------end script-----------
>>> 
>>> The R64 assignment seems to be "sticking."
>>>> 
>>>> Thank you.
>>>> 
>>>> -Dave
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> David Winsemius, MD
>>> Heritage Laboratories
>>> West Hartford, CT
>>> 
>> 
> 
> David Winsemius, MD
> Heritage Laboratories
> West Hartford, CT
> 


From macq at llnl.gov  Mon Feb  8 16:34:48 2010
From: macq at llnl.gov (Don MacQueen)
Date: Mon, 8 Feb 2010 07:34:48 -0800
Subject: [R-SIG-Mac] Wandering X11 windows under Snow Leopard.
In-Reply-To: <2A3BDC50-FEE5-4D17-AB8C-430A57EC9368@auckland.ac.nz>
References: <2A3BDC50-FEE5-4D17-AB8C-430A57EC9368@auckland.ac.nz>
Message-ID: <p06240800c795ddb7e1a2@[128.115.67.9]>

The only suggestion I have, and it's a weak one, would be to try 
starting R from the command line in an xterm window, instead of 
Terminal, and see if it's stable there.

I've used R just a little bit on a Snow Leopard machine and have not 
experienced what you describe -- but I do work entirely within X11, 
not in what I would call a hybrid environment of Terminal plus X 
windows.

-Don

At 9:53 AM +1300 2/8/10, Rolf Turner wrote:
>I recently upgraded from a fairly ancient Tiger OSX to the latest
>Snow Leopard (10.6.2).
>
>I've got most of the teething problems settled, but there is one
>really annoying phenomenon that I cannot fathom.
>
>When I open an X11 window for R graphics, it will ***sometimes***
>refuse to let me move the pointer over the window!!!  I.e. if I
>move the pointer over the window, the window jumps to another
>part of the screen.  If I chase it there, it jumps again.  This
>precludes raising or moving the window.
>
>The problem is that this is an intermittent fault.  Sometimes it
>will happen, and sometimes it won't.  (Once it starts happening,
>it won't quit, however.)  Makes it very hard to diagnose
>or trace the fault.
>
>Has anybody else ever encountered anything like this?  Has anyone
>any idea what's causing this phenomenon, or how I could trace it
>down and rectify the problem?
>
>Grateful for any suggestions.
>
>	cheers,
>
>		Rolf Turner
>
>P. S.  I start R from the command line in a terminal window; I don't
>use the R GUI.
>
>>  sessionInfo()
>R version 2.10.1 (2009-12-14)
>x86_64-apple-darwin9.8.0
>
>locale:
>[1] en_NZ.UTF-8/en_NZ.UTF-8/C/C/en_NZ.UTF-8/en_NZ.UTF-8
>
>attached base packages:
>[1] datasets  utils     stats     graphics  grDevices methods   base    
>
>other attached packages:
>[1] misc_0.0-12    fortunes_1.3-7 MASS_7.3-4   
>
>
>######################################################################
>Attention:\ This e-mail message is privileged and confid...{{dropped:9}}
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at stat.math.ethz.ch
>https://*stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA
925-423-1062


From jmackenzie at tnc.org  Mon Feb  8 23:32:16 2010
From: jmackenzie at tnc.org (Jason MacKenzie)
Date: Mon, 8 Feb 2010 14:32:16 -0800
Subject: [R-SIG-Mac] Should packages installed with 64-bit GUI of R 2.10
	still contain 'R-ex' directories?
Message-ID: <479fe8db1002081432l253471c8q5e1d6697d98444de@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100208/4d249468/attachment.pl>

From dwinsemius at comcast.net  Tue Feb  9 13:40:45 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Tue, 9 Feb 2010 07:40:45 -0500
Subject: [R-SIG-Mac] Should packages installed with 64-bit GUI of R 2.10
	still contain 'R-ex' directories?
In-Reply-To: <479fe8db1002081432l253471c8q5e1d6697d98444de@mail.gmail.com>
References: <479fe8db1002081432l253471c8q5e1d6697d98444de@mail.gmail.com>
Message-ID: <98C95CDE-E4D6-47CB-A72B-A571D9682B91@comcast.net>


On Feb 8, 2010, at 5:32 PM, Jason MacKenzie wrote:

> Should packages installed with 64-bit GUI of R 2.10 still contain 'R- 
> ex'
> directories?
>
> I installed a universal binary of R 2.10 on Leopard (10.5.8) to run  
> the
> 64-bit GUI (R64.app).
> I installed all my packages 'At System Level' to
>
> ~/Library/Frameworks/R.framework/Versions/2.10/Resources/library/
>
> using a combination of 'install.views()' or by selecting 'local source
> package' when packages
> were not available on CRAN. For older binaries of R, packages always
> installed a directory
> 'R-ex' with demo scripts that helped me learn how to navigate  
> functions.
>
> Was 'R-ex' directory discontinued, or did something change about
> installations?

The new method is to type:

example( <function-name> )

As I understand it, the example function pulls the code out the the  
help page itself.

-- 
David)
>
> Cheers,
> Jason
>
>
>
> -- 
>
> *Jason MacKenzie, PhD*
> *
> Climate Change Adaptation Fellow*
> The Nature Conservancy
> 201 Mission Street, 4th Floor
> San Francisco, CA 94105
> jmackenzie at tnc.org
>
> (415) 281 0472            [work]
> (415) 777 0244            [fax]
> (510) 717 1544            [cell]
> jasonbmackenzie        [skype]
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Heritage Laboratories
West Hartford, CT


From rksh1 at cam.ac.uk  Wed Feb 10 09:28:49 2010
From: rksh1 at cam.ac.uk (Robin Hankin)
Date: Wed, 10 Feb 2010 08:28:49 +0000
Subject: [R-SIG-Mac] non-intel compiling
Message-ID: <4B726E41.9090907@cam.ac.uk>

Hi

I have a little powerPC G4 powerbook,  running macosx10.5.8.

I don't think XCode 3.2.1 will work for me.

What are my options?

thanks in advance

Robin




-- 
Robin K. S. Hankin
Uncertainty Analyst
University of Cambridge
19 Silver Street
Cambridge CB3 9EP
01223-764877


From rksh1 at cam.ac.uk  Wed Feb 10 10:36:28 2010
From: rksh1 at cam.ac.uk (Robin Hankin)
Date: Wed, 10 Feb 2010 09:36:28 +0000
Subject: [R-SIG-Mac] non-intel compiling; clarification
In-Reply-To: <4B726E41.9090907@cam.ac.uk>
References: <4B726E41.9090907@cam.ac.uk>
Message-ID: <4B727E1C.40503@cam.ac.uk>

[replying to self]

Should have made it clear that I want to compile
packages (which include C/C++) for testing before
putting on CRAN, and I don't have an intel
machine available.

FAQ 5.3 seems to suggest I use XCode  >=2.4.0 (I have 3.0 installed).
FAQ 5.4 doesn't apply because it  needs  an intel  computer.

sorry for not being clear first time

Robin


 


Robin Hankin wrote:
> Hi
>
> I have a little powerPC G4 powerbook,  running macosx10.5.8.
>
> I don't think XCode 3.2.1 will work for me.
>
> What are my options?
>
> thanks in advance
>
> Robin
>
>
>
>


-- 
Robin K. S. Hankin
Uncertainty Analyst
University of Cambridge
19 Silver Street
Cambridge CB3 9EP
01223-764877


From ripley at stats.ox.ac.uk  Wed Feb 10 11:45:40 2010
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 10 Feb 2010 10:45:40 +0000 (GMT)
Subject: [R-SIG-Mac] non-intel compiling; clarification
In-Reply-To: <4B727E1C.40503@cam.ac.uk>
References: <4B726E41.9090907@cam.ac.uk> <4B727E1C.40503@cam.ac.uk>
Message-ID: <alpine.LFD.2.00.1002101037530.3012@gannet.stats.ox.ac.uk>

My belief is that if you

- build a single-architecture R from the sources
- use that to test your packages

it should work.  If that is not an option, you can try
R CMD INSTALL --no-multiarch
with the CRAN build of R (and if that works try
R CMD check --install-args=--no-multiarch
).

(As someone who has never had a PPC Mac this is extrapolation from 
what I do when I want to build/test one of i386/x86_64, possibly with 
R --arch=x86_64.)

On Wed, 10 Feb 2010, Robin Hankin wrote:

> [replying to self]
>
> Should have made it clear that I want to compile
> packages (which include C/C++) for testing before
> putting on CRAN, and I don't have an intel
> machine available.
>
> FAQ 5.3 seems to suggest I use XCode  >=2.4.0 (I have 3.0 installed).
> FAQ 5.4 doesn't apply because it  needs  an intel  computer.
>
> sorry for not being clear first time
>
> Robin
>
>
>
>
>
> Robin Hankin wrote:
>> Hi
>> 
>> I have a little powerPC G4 powerbook,  running macosx10.5.8.
>> 
>> I don't think XCode 3.2.1 will work for me.
>> 
>> What are my options?
>> 
>> thanks in advance
>> 
>> Robin
>> 
>> 
>> 
>> 
>
>
> -- 
> Robin K. S. Hankin
> Uncertainty Analyst
> University of Cambridge
> 19 Silver Street
> Cambridge CB3 9EP
> 01223-764877
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From prashanth.ns at gmail.com  Wed Feb 10 13:15:50 2010
From: prashanth.ns at gmail.com (Prashanth NS)
Date: Wed, 10 Feb 2010 17:45:50 +0530
Subject: [R-SIG-Mac] Error on forcing change to utf-8 locale on R.app
Message-ID: <C798A14E.948%prashanth.ns@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100210/227e3f39/attachment.pl>

From matthew.burtonkelly at gmail.com  Wed Feb 10 16:45:40 2010
From: matthew.burtonkelly at gmail.com (Matthew Burton-Kelly)
Date: Wed, 10 Feb 2010 09:45:40 -0600
Subject: [R-SIG-Mac] Bad characters/fonts or something in R Help
References: <alpine.LFD.2.00.1002100753200.28818@gannet.stats.ox.ac.uk>
Message-ID: <9BA3BC4C-7C17-4D39-9F9F-43C22945B97B@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100210/95e58d58/attachment.pl>

From timb at metrumrg.com  Wed Feb 10 18:12:20 2010
From: timb at metrumrg.com (Tim Bergsma)
Date: Wed, 10 Feb 2010 12:12:20 -0500
Subject: [R-SIG-Mac] text window anomalies
Message-ID: <ccac61761002100912h52609f57w9205f71de7543b87@mail.gmail.com>

Hi.

I frequently encounter what-you-see-is-not-what-you-get anomalies when
navigating a text window opened with the R Mac Gui (Mac 10.5.8; R
2.7.2 or 2.10.1).  Usually the problem occurs when deleting lines near
the end of a large file (fourth or more from end), if the file is
scrolled so that the end is visible.  Certain text is represented
twice, and only reverts to WYSIWYG when the scroll bar is manipulated.

A related problem occurs for small files when the end of the file is
not visible.  To reproduce ...
1.  Launch the R for Mac GUI.
2.  Click the icon for a new file.
3.  Enter the numbers 1 through 12 on separate lines.
4.  Resize the window to be as small as allowed.  Note that line 12
does not show cannot be shown through scroll bar manipulation.
5.  Select line 7 in its entirety and delete.  Note that '6' is
partially displayed on line 6, '9' is partially displayed on line 8,
and '8' and '9' are fully displayed on lines 6.5 and 7.5.  Image
attached.

Similarly, deleting line 47 from a window with 1:50 displayed on
separate lines (end of file in view) results in a blank line 26.  Text
reappears on scrolling. Image attached (cursor shown on line 46, but
another cursor is blinking on line 48).

Regards,

Tim
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Picture 1.png
Type: image/png
Size: 15233 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100210/ba60e99f/attachment-0002.png>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Picture 2.png
Type: image/png
Size: 48266 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100210/ba60e99f/attachment-0003.png>

From simon.urbanek at r-project.org  Wed Feb 10 21:05:02 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 10 Feb 2010 15:05:02 -0500
Subject: [R-SIG-Mac] non-intel compiling; clarification
In-Reply-To: <4B727E1C.40503@cam.ac.uk>
References: <4B726E41.9090907@cam.ac.uk> <4B727E1C.40503@cam.ac.uk>
Message-ID: <52C10AC6-4DEE-4369-B402-AFAC6F5B455A@r-project.org>


On Feb 10, 2010, at 4:36 AM, Robin Hankin wrote:

> [replying to self]
> 
> Should have made it clear that I want to compile
> packages (which include C/C++) for testing before
> putting on CRAN, and I don't have an intel
> machine available.
> 
> FAQ 5.3 seems to suggest I use XCode  >=2.4.0 (I have 3.0 installed).
> FAQ 5.4 doesn't apply because it  needs  an intel  computer.
> 
> sorry for not being clear first time
> 

It's still not clear to me since there is no reason at all why you mention Xcode 3.2.1 (which is not even for your system). Your options are the ones you stated yourself. If you have installed the Leopard build then you need Xcode 3.1 or higher (the most recent for Leopard is Xcode 3.1.4). If you have the Tiger build then you need Xcode 2.4 or higher -- see
http://r.research.att.com/tools/
In practice I see no reason to use old Xcode versions so you may as well install 3.1.4 if you have anything older than 3.1.0.

Cheers,
Simon



> 
> Robin Hankin wrote:
>> Hi
>> 
>> I have a little powerPC G4 powerbook,  running macosx10.5.8.
>> 
>> I don't think XCode 3.2.1 will work for me.
>> 
>> What are my options?
>> 
>> thanks in advance
>> 
>> Robin
>> 
>> 
>> 
>> 
> 
> 
> -- 
> Robin K. S. Hankin
> Uncertainty Analyst
> University of Cambridge
> 19 Silver Street
> Cambridge CB3 9EP
> 01223-764877
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From simon.urbanek at r-project.org  Wed Feb 10 21:06:38 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 10 Feb 2010 15:06:38 -0500
Subject: [R-SIG-Mac] Error on forcing change to utf-8 locale on R.app
In-Reply-To: <C798A14E.948%prashanth.ns@gmail.com>
References: <C798A14E.948%prashanth.ns@gmail.com>
Message-ID: <32E9AD30-24A0-48AB-B2A2-E3C0EA5AE60E@r-project.org>


On Feb 10, 2010, at 7:15 AM, Prashanth NS wrote:

> Dear all,
> 
> I am a new mac user and an inexperienced R user, now using the latter on the
> former!
> 
> On running the R.app on my Macbook Pro with OS X Snowleopard, warnings about
> non UTF-8 locale showed up.
> 
>> You're using a non-UTF8 locale, therefore only ASCII characters will work.
>> Please read R for Mac OS X FAQ (see Help) section 9 and adjust your system
> preferences accordingly.
> 
> As per the R for Mac OS X FAQ as well as this (
> https://stat.ethz.ch/pipermail/r-sig-mac/2008-October/005395.html) post, I
> ran the following in the app.
> 
>> defaults write org.R-project.R force.LANG en_US.UTF-8
>> Error: unexpected symbol in "defaults write"
> 
> Could somebody help with this?
> 

You're supposed to paste that in the shell (Applications -> Utilities - Terminal) not in R.

In R you have to change that to
system("defaults write org.R-project.R force.LANG en_US.UTF-8")

Cheers,
Simon


From bolker at ufl.edu  Wed Feb 10 22:44:32 2010
From: bolker at ufl.edu (Ben Bolker)
Date: Wed, 10 Feb 2010 16:44:32 -0500
Subject: [R-SIG-Mac] help difficulties on
Message-ID: <4B7328C0.2080703@ufl.edu>

  Dear R-sig-Mac'ers:

  I'm posting on behalf of a student who is having trouble with
accessing the help files in R.app (I think) on MacOS X.4 (I think
X.4.11?) .  The basic symptom is that in a clean R session she gets
results like this:

> ?plot
Error in file(out, "wt") : cannot open the connection

  This is generic (i.e. happens with any help request).  After a bit
more poking around we triggered

2010-02-09 15:20:21.010 R[16728] *** Exception handlers were not
properly removed. Some code has jumped or returned out of an
NS_DURING...NS_HANDLER region without using the NS_VOIDRETURN or
NS_VALUERETURN macros.
R(16728,0xa000ed88) malloc: *** error for object 0x3b610038:
Non-aligned pointer being freed
R(16728,0xa000ed88) malloc: *** set a breakpoint in szone_error to
debug
R(16728,0xa000ed88) malloc: ***  Deallocation of a pointer not
malloced: 0x41d60; This could be a double free(), or free() called
with the middle of an allocated block; Try setting environment
variable MallocHelp to see tools to help debug

  We have both tried searching/googling for this particular problem,
without success -- found a fair amount about issues with help.start()
when running firewalls, but nothing that seemed to match our situation.

  * Does this ring any bells for anyone? Have we missed something
obvious (I hope)?  What are the next steps in the
diagnostic/troubleshooting pathway?

  * Is there a searchable version of the R-sig-mac archives?
Rsitesearch doesn't seem to offer it, and the R-sig-mac archives seem to
be available only month-by-month (& not searchable), as far as I can tell.

  thanks,
    Ben Bolker

> sessionInfo()
R version 2.10.1 (2009-12-14)
powerpc-apple-darwin8.11.1

locale:
[1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods
[7] base

loaded via a namespace (and not attached):
[1] tools_2.10.1

-- 
Ben Bolker
Associate professor, Biology Dep't, Univ. of Florida
bolker at ufl.edu / people.biology.ufl.edu/bolker
GPG key: people.biology.ufl.edu/bolker/benbolker-publickey.asc

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 261 bytes
Desc: OpenPGP digital signature
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100210/a4549c58/attachment.bin>

From dwinsemius at comcast.net  Wed Feb 10 23:10:25 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Wed, 10 Feb 2010 17:10:25 -0500
Subject: [R-SIG-Mac] help difficulties on
In-Reply-To: <4B7328C0.2080703@ufl.edu>
References: <4B7328C0.2080703@ufl.edu>
Message-ID: <E1E6748E-89B4-4E7E-934E-FFDFD14CA933@comcast.net>


On Feb 10, 2010, at 4:44 PM, Ben Bolker wrote:

>  Dear R-sig-Mac'ers:
>
>  I'm posting on behalf of a student who is having trouble with
> accessing the help files in R.app (I think) on MacOS X.4 (I think
> X.4.11?) .  The basic symptom is that in a clean R session she gets
> results like this:
>
>> ?plot
> Error in file(out, "wt") : cannot open the connection
>
>  This is generic (i.e. happens with any help request).  After a bit
> more poking around we triggered
>
> 2010-02-09 15:20:21.010 R[16728] *** Exception handlers were not
> properly removed. Some code has jumped or returned out of an
> NS_DURING...NS_HANDLER region without using the NS_VOIDRETURN or
> NS_VALUERETURN macros.
> R(16728,0xa000ed88) malloc: *** error for object 0x3b610038:
> Non-aligned pointer being freed
> R(16728,0xa000ed88) malloc: *** set a breakpoint in szone_error to
> debug
> R(16728,0xa000ed88) malloc: ***  Deallocation of a pointer not
> malloced: 0x41d60; This could be a double free(), or free() called
> with the middle of an allocated block; Try setting environment
> variable MallocHelp to see tools to help debug
>
>  We have both tried searching/googling for this particular problem,
> without success -- found a fair amount about issues with help.start()
> when running firewalls, but nothing that seemed to match our  
> situation.
>
>  * Does this ring any bells for anyone? Have we missed something
> obvious (I hope)?  What are the next steps in the
> diagnostic/troubleshooting pathway?
>
>  * Is there a searchable version of the R-sig-mac archives?
> Rsitesearch doesn't seem to offer it, and the R-sig-mac archives  
> seem to
> be available only month-by-month (& not searchable), as far as I can  
> tell.

You can dummy up a search function for the r-sig-mac archives by using  
the Google advanced search with the domain name restricted to:

https://stat.ethz.ch/pipermail/r-sig-mac/

http://www.google.com/search?hl=en&as_q=hekp+problems&as_epq=&as_oq=&as_eq=&num=10&lr=&as_filetype=&ft=i&as_sitesearch=https%3A%2F%2Fstat.ethz.ch%2Fpipermail%2Fr-sig-mac%2F&as_qdr=all&as_rights=&as_occt=any&cr=&as_nlo=&as_nhi=&safe=images

I'm pretty sure that Gmane also archives r-sig-mac and I noticed that  
is what the BioConductor page refers people to for their list.


>
>  thanks,
>    Ben Bolker
>
>> sessionInfo()
> R version 2.10.1 (2009-12-14)
> powerpc-apple-darwin8.11.1
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods
> [7] base
>
> loaded via a namespace (and not attached):
> [1] tools_2.10.1
>
> -- 
> Ben Bolker
> Associate professor, Biology Dep't, Univ. of Florida
> bolker at ufl.edu / people.biology.ufl.edu/bolker
> GPG key: people.biology.ufl.edu/bolker/benbolker-publickey.asc
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Heritage Laboratories
West Hartford, CT


From simon.urbanek at r-project.org  Wed Feb 10 23:22:24 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 10 Feb 2010 17:22:24 -0500
Subject: [R-SIG-Mac] help difficulties on
In-Reply-To: <4B7328C0.2080703@ufl.edu>
References: <4B7328C0.2080703@ufl.edu>
Message-ID: <30484940-14F7-4B5E-9B05-1CE4A9ED43A8@r-project.org>


On Feb 10, 2010, at 4:44 PM, Ben Bolker wrote:

>  Dear R-sig-Mac'ers:
> 
>  I'm posting on behalf of a student who is having trouble with
> accessing the help files in R.app (I think) on MacOS X.4 (I think
> X.4.11?) .  The basic symptom is that in a clean R session she gets
> results like this:
> 
>> ?plot
> Error in file(out, "wt") : cannot open the connection
> 

It seems likely a problem in your system setup -- possibly your temporary directory has wrong permission and/or TMP/TEMP settings are wrong. That is a long shot though, please use something like options(error=recover) to dump the call stack and look at the "out" value to see where is the problem on the machine.


>  This is generic (i.e. happens with any help request).  After a bit
> more poking around we triggered
> 

That is completely unrelated - do you have a way to reproduce that?

Thanks,
Simon


> 2010-02-09 15:20:21.010 R[16728] *** Exception handlers were not
> properly removed. Some code has jumped or returned out of an
> NS_DURING...NS_HANDLER region without using the NS_VOIDRETURN or
> NS_VALUERETURN macros.
> R(16728,0xa000ed88) malloc: *** error for object 0x3b610038:
> Non-aligned pointer being freed
> R(16728,0xa000ed88) malloc: *** set a breakpoint in szone_error to
> debug
> R(16728,0xa000ed88) malloc: ***  Deallocation of a pointer not
> malloced: 0x41d60; This could be a double free(), or free() called
> with the middle of an allocated block; Try setting environment
> variable MallocHelp to see tools to help debug
> 
>  We have both tried searching/googling for this particular problem,
> without success -- found a fair amount about issues with help.start()
> when running firewalls, but nothing that seemed to match our situation.
> 
>  * Does this ring any bells for anyone? Have we missed something
> obvious (I hope)?  What are the next steps in the
> diagnostic/troubleshooting pathway?
> 

options(error=recover)

enter the last frame and have a look at the value of out -- that will tell you where on the machine is R trying to create a file that fails. Also the frame stack may be useful in case it's a deeper error.


>  * Is there a searchable version of the R-sig-mac archives?


http://blog.gmane.org/gmane.comp.lang.r.mac

In your case I doubt you'll find much as this seems likely a peculiarity of your machine.


> Rsitesearch doesn't seem to offer it, and the R-sig-mac archives seem to
> be available only month-by-month (& not searchable), as far as I can tell.
> 
>  thanks,
>    Ben Bolker
> 
>> sessionInfo()
> R version 2.10.1 (2009-12-14)
> powerpc-apple-darwin8.11.1
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods
> [7] base
> 
> loaded via a namespace (and not attached):
> [1] tools_2.10.1
> 
> -- 
> Ben Bolker
> Associate professor, Biology Dep't, Univ. of Florida
> bolker at ufl.edu / people.biology.ufl.edu/bolker
> GPG key: people.biology.ufl.edu/bolker/benbolker-publickey.asc
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From marc_schwartz at me.com  Wed Feb 10 23:46:12 2010
From: marc_schwartz at me.com (Marc Schwartz)
Date: Wed, 10 Feb 2010 16:46:12 -0600
Subject: [R-SIG-Mac] help difficulties on
In-Reply-To: <4B7328C0.2080703@ufl.edu>
References: <4B7328C0.2080703@ufl.edu>
Message-ID: <D710CD8C-7E8E-488A-AE66-11BC9373C4E7@me.com>

On Feb 10, 2010, at 3:44 PM, Ben Bolker wrote:

>  Dear R-sig-Mac'ers:
> 
>  I'm posting on behalf of a student who is having trouble with
> accessing the help files in R.app (I think) on MacOS X.4 (I think
> X.4.11?) .  The basic symptom is that in a clean R session she gets
> results like this:
> 
>> ?plot
> Error in file(out, "wt") : cannot open the connection
> 
>  This is generic (i.e. happens with any help request).  After a bit
> more poking around we triggered
> 
> 2010-02-09 15:20:21.010 R[16728] *** Exception handlers were not
> properly removed. Some code has jumped or returned out of an
> NS_DURING...NS_HANDLER region without using the NS_VOIDRETURN or
> NS_VALUERETURN macros.
> R(16728,0xa000ed88) malloc: *** error for object 0x3b610038:
> Non-aligned pointer being freed
> R(16728,0xa000ed88) malloc: *** set a breakpoint in szone_error to
> debug
> R(16728,0xa000ed88) malloc: ***  Deallocation of a pointer not
> malloced: 0x41d60; This could be a double free(), or free() called
> with the middle of an allocated block; Try setting environment
> variable MallocHelp to see tools to help debug
> 
>  We have both tried searching/googling for this particular problem,
> without success -- found a fair amount about issues with help.start()
> when running firewalls, but nothing that seemed to match our situation.
> 
>  * Does this ring any bells for anyone? Have we missed something
> obvious (I hope)?  What are the next steps in the
> diagnostic/troubleshooting pathway?
> 
>  * Is there a searchable version of the R-sig-mac archives?
> Rsitesearch doesn't seem to offer it, and the R-sig-mac archives seem to
> be available only month-by-month (& not searchable), as far as I can tell.
> 
>  thanks,
>    Ben Bolker
> 

Ben

I'll defer to Simon on the debugging part, as he has already engaged, other than to say, if this is a permissions issue, you can run the OSX Disk Utility:

  Applications -> Utilities -> Disk Utility

and run the Repair Disk Permissions process (on the First Aid tab) on the disk to see if that helps.

With respect to generally searching the list archives, I use:

  http://www.rseek.org

which includes the R-SIG-* lists in addition to r-help and r-devel.

HTH,

Marc Schwartz


From prashanth.ns at gmail.com  Thu Feb 11 04:35:46 2010
From: prashanth.ns at gmail.com (Prashanth NS)
Date: Thu, 11 Feb 2010 09:05:46 +0530
Subject: [R-SIG-Mac] Error on forcing change to utf-8 locale on R.app
In-Reply-To: <32E9AD30-24A0-48AB-B2A2-E3C0EA5AE60E@r-project.org>
Message-ID: <C79978EA.973%prashanth.ns@gmail.com>

Dear Simon, David and others,

Thanks. It is now working fine after running it in the shell.

Regards,
Prashanth


On 11/02/10 1:36 AM, "Simon Urbanek" <simon.urbanek at r-project.org> wrote:

> 
> On Feb 10, 2010, at 7:15 AM, Prashanth NS wrote:
> 
>> Dear all,
>> 
>> I am a new mac user and an inexperienced R user, now using the latter on the
>> former!
>> 
>> On running the R.app on my Macbook Pro with OS X Snowleopard, warnings about
>> non UTF-8 locale showed up.
>> 
>>> You're using a non-UTF8 locale, therefore only ASCII characters will work.
>>> Please read R for Mac OS X FAQ (see Help) section 9 and adjust your system
>> preferences accordingly.
>> 
>> As per the R for Mac OS X FAQ as well as this (
>> https://stat.ethz.ch/pipermail/r-sig-mac/2008-October/005395.html) post, I
>> ran the following in the app.
>> 
>>> defaults write org.R-project.R force.LANG en_US.UTF-8
>>> Error: unexpected symbol in "defaults write"
>> 
>> Could somebody help with this?
>> 
> 
> You're supposed to paste that in the shell (Applications -> Utilities -
> Terminal) not in R.
> 
> In R you have to change that to
> system("defaults write org.R-project.R force.LANG en_US.UTF-8")
> 
> Cheers,
> Simon
>


From ken.knoblauch at inserm.fr  Thu Feb 11 11:42:25 2010
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Thu, 11 Feb 2010 11:42:25 +0100
Subject: [R-SIG-Mac] [R] Sweave, lty = 3 line incorect in pdf output
In-Reply-To: <alpine.DEB.2.00.1002111119530.6583@paninaro.stat-math.wu-wien.ac.at>
References: <20100211101204.39z2y3t3k84cws80@imp.inserm.fr>
	<alpine.DEB.2.00.1002111046380.6583@paninaro.stat-math.wu-wien.ac.at>
	<20100211111606.yph0r3gzmscgc440@imp.inserm.fr>
	<alpine.DEB.2.00.1002111119530.6583@paninaro.stat-math.wu-wien.ac.at>
Message-ID: <20100211114225.lhkyinuo2swk4wws@imp.inserm.fr>

Achim.

Indeed, you are right.  That is where the problem is.
Thanks for helping localize it a bit further.
So, I should cc this to the r-sig-mac list.

For the r-sig-mac list, here is the original post on the r-help

https://www.stat.math.ethz.ch/pipermail/r-help/2010-February/227832.html

The pdf() command (at least on my Mac :( )  appears to have
a problem in displaying dotted lines (lty = 3).
Short example,

pdf(file = "test.pdf", height = 6, width = 6)

x <- 1:10
plot(x, type = "l", lty = 3, lwd = 3)
lines(x, 0.5 * x, type = "l")

dev.off()

Hopefully, this is not yet another instance of R-Mac-FAQ 12.10
but something more easily treated.


R version 2.10.1 Patched (2010-02-01 r51089)
i386-apple-darwin9.8.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods
[7] base


loaded via a namespace (and not attached):
[1] tools_2.10.1

R.app GUI 1.32-dev (5548 Leopard build 32-bit),

Thank you.

Ken

Quoting Achim Zeileis <Achim.Zeileis at uibk.ac.at>:

> Ken,
>
> an idea off-list: Have you tried
>
>   pdf(file = "test.pdf", height = 6, width = 6)
>   ...
>   dev.off()
>
> with your code? This is essentially what Sweave should do internally.
> If that replicates your problem, it might be a hint that something with
> pdf() is not working on your machine (rather than Sweave()).
> Z



-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From ripley at stats.ox.ac.uk  Thu Feb 11 15:14:46 2010
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 11 Feb 2010 14:14:46 +0000 (GMT)
Subject: [R-SIG-Mac] [R] Sweave, lty = 3 line incorect in pdf output
In-Reply-To: <20100211114225.lhkyinuo2swk4wws@imp.inserm.fr>
References: <20100211101204.39z2y3t3k84cws80@imp.inserm.fr>
	<alpine.DEB.2.00.1002111046380.6583@paninaro.stat-math.wu-wien.ac.at>
	<20100211111606.yph0r3gzmscgc440@imp.inserm.fr>
	<alpine.DEB.2.00.1002111119530.6583@paninaro.stat-math.wu-wien.ac.at>
	<20100211114225.lhkyinuo2swk4wws@imp.inserm.fr>
Message-ID: <alpine.LFD.2.00.1002111325050.29178@localhost>

Note that pdf does not 'display' anything: it writes a file.  From 
?pdf

      If you see problems with PDF output, do remember that the problem
      is much more likely to be in your viewer than in R.  Try another
      viewer if possible. ...

So which viewers are you using?

I see no reason why pdf() should produce different output on your Mac 
from anyone else's build of R, and indeed I just ran this on a Mac (R 
2.10.1, Snow Leopard) and viewed it in Preview and Acroread 9.3.0 with 
no issue. And I transferred the file to Linux and viewed it on several 
PDF viewers there.

One possibility is that this is an issue in Preview only on 10.5.8 
(aka darwin9.8.0), or it might depend on the screen resolution or just 
about anything else specific to your machine.


On Thu, 11 Feb 2010, Ken Knoblauch wrote:

> Achim.
>
> Indeed, you are right.  That is where the problem is.
> Thanks for helping localize it a bit further.
> So, I should cc this to the r-sig-mac list.
>
> For the r-sig-mac list, here is the original post on the r-help
>
> https://www.stat.math.ethz.ch/pipermail/r-help/2010-February/227832.html
>
> The pdf() command (at least on my Mac :( )  appears to have
> a problem in displaying dotted lines (lty = 3).
> Short example,
>
> pdf(file = "test.pdf", height = 6, width = 6)
>
> x <- 1:10
> plot(x, type = "l", lty = 3, lwd = 3)
> lines(x, 0.5 * x, type = "l")
>
> dev.off()
>
> Hopefully, this is not yet another instance of R-Mac-FAQ 12.10
> but something more easily treated.
>
>
> R version 2.10.1 Patched (2010-02-01 r51089)
> i386-apple-darwin9.8.0
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods
> [7] base
>
>
> loaded via a namespace (and not attached):
> [1] tools_2.10.1
>
> R.app GUI 1.32-dev (5548 Leopard build 32-bit),
>
> Thank you.
>
> Ken
>
> Quoting Achim Zeileis <Achim.Zeileis at uibk.ac.at>:
>
>> Ken,
>> 
>> an idea off-list: Have you tried
>>
>>  pdf(file = "test.pdf", height = 6, width = 6)
>>  ...
>>  dev.off()
>> 
>> with your code? This is essentially what Sweave should do internally.
>> If that replicates your problem, it might be a hint that something with
>> pdf() is not working on your machine (rather than Sweave()).
>> Z
>
>
>
> -- 
> Ken Knoblauch
> Inserm U846
> Stem-cell and Brain Research Institute
> Department of Integrative Neurosciences
> 18 avenue du Doyen L?pine
> 69500 Bron
> France
> tel: +33 (0)4 72 91 34 77
> fax: +33 (0)4 72 91 34 61
> portable: +33 (0)6 84 10 64 10
> http://www.sbri.fr/members/kenneth-knoblauch.html

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ken.knoblauch at inserm.fr  Thu Feb 11 16:01:10 2010
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Thu, 11 Feb 2010 16:01:10 +0100
Subject: [R-SIG-Mac] [R] Sweave, lty = 3 line incorect in pdf output
In-Reply-To: <alpine.LFD.2.00.1002111325050.29178@localhost>
References: <20100211101204.39z2y3t3k84cws80@imp.inserm.fr>
	<alpine.DEB.2.00.1002111046380.6583@paninaro.stat-math.wu-wien.ac.at>
	<20100211111606.yph0r3gzmscgc440@imp.inserm.fr>
	<alpine.DEB.2.00.1002111119530.6583@paninaro.stat-math.wu-wien.ac.at>
	<20100211114225.lhkyinuo2swk4wws@imp.inserm.fr>
	<alpine.LFD.2.00.1002111325050.29178@localhost>
Message-ID: <20100211160110.h0ey9gqw4ggg88os@imp.inserm.fr>

Yes, indeed, I had mentioned before this thread had migrated to r-sig-mac

https://www.stat.math.ethz.ch/pipermail/r-help/2010-February/227847.html

that there is an interaction with the viewer, because I see
a line (though of the wrong width) for a hard copy and
display from imageMagick but no line at all
for Preview and the viewer of TeXShop.  This does not depend
on anti-aliasing being on or off.  I don't have Acroread
on this computer.  Perhaps it is a Leopard issue and I need
to upgrade to Snow Leopard.

The localization to pdf was because I had first noticed this
when using Sweave and Achim suggested trying it with
just the pdf function, which I did, and finding that the "viewed" pdf had
the same problems, on my Mac.

I have the screen resolution set at 1280 x 800 and just tried various
values but it has no effect on the appearance of the line.

Even for the situations in which I can see the line, the lwd argument
does not seem to be respected.  The only situation in which the
output is correct is drawing the graph to a quartz window and
saving it with the SaveAs option from the File menu.
In this case, the Preview viewer and all others display it correctly, too.
I would think that this would argue against it being just the viewer.

One more thing.  I just noticed that the version of the pdf()
generated file is 1.4 but of the version saved from the menu is 1.3.
The sizes differ, too,
71363 (saved from finder) vs 2964 (generated with pdf function),
but lowering the version number when calling pdf doesn't
change anything.

This still leaves the Mac 10.5 vs 10.6 hypothesis (which I cannot
test right away) an open possibility, unless someone has a better
suggestion.

Thank you.

Ken

Quoting Prof Brian Ripley <ripley at stats.ox.ac.uk>:

> Note that pdf does not 'display' anything: it writes a file.  From ?pdf
>
>      If you see problems with PDF output, do remember that the problem
>      is much more likely to be in your viewer than in R.  Try another
>      viewer if possible. ...
>
> So which viewers are you using?
>
> I see no reason why pdf() should produce different output on your Mac
> from anyone else's build of R, and indeed I just ran this on a Mac (R
> 2.10.1, Snow Leopard) and viewed it in Preview and Acroread 9.3.0 with
> no issue. And I transferred the file to Linux and viewed it on several
> PDF viewers there.
>
> One possibility is that this is an issue in Preview only on 10.5.8 (aka
> darwin9.8.0), or it might depend on the screen resolution or just about
> anything else specific to your machine.
>
>
> On Thu, 11 Feb 2010, Ken Knoblauch wrote:
>
>> Achim.
>>
>> Indeed, you are right.  That is where the problem is.
>> Thanks for helping localize it a bit further.
>> So, I should cc this to the r-sig-mac list.
>>
>> For the r-sig-mac list, here is the original post on the r-help
>>
>> https://www.stat.math.ethz.ch/pipermail/r-help/2010-February/227832.html
>>
>> The pdf() command (at least on my Mac :( )  appears to have
>> a problem in displaying dotted lines (lty = 3).
>> Short example,
>>
>> pdf(file = "test.pdf", height = 6, width = 6)
>>
>> x <- 1:10
>> plot(x, type = "l", lty = 3, lwd = 3)
>> lines(x, 0.5 * x, type = "l")
>>
>> dev.off()
>>
>> Hopefully, this is not yet another instance of R-Mac-FAQ 12.10
>> but something more easily treated.
>>
>>
>> R version 2.10.1 Patched (2010-02-01 r51089)
>> i386-apple-darwin9.8.0
>>
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods
>> [7] base
>>
>>
>> loaded via a namespace (and not attached):
>> [1] tools_2.10.1
>>
>> R.app GUI 1.32-dev (5548 Leopard build 32-bit),
>>
>> Thank you.
>>
>> Ken
>>
>> Quoting Achim Zeileis <Achim.Zeileis at uibk.ac.at>:
>>
>>> Ken,
>>>
>>> an idea off-list: Have you tried
>>>
>>> pdf(file = "test.pdf", height = 6, width = 6)
>>> ...
>>> dev.off()
>>>
>>> with your code? This is essentially what Sweave should do internally.
>>> If that replicates your problem, it might be a hint that something with
>>> pdf() is not working on your machine (rather than Sweave()).
>>> Z
>>
>>
>>
>> -- 
>> Ken Knoblauch
>> Inserm U846
>> Stem-cell and Brain Research Institute
>> Department of Integrative Neurosciences
>> 18 avenue du Doyen L?pine
>> 69500 Bron
>> France
>> tel: +33 (0)4 72 91 34 77
>> fax: +33 (0)4 72 91 34 61
>> portable: +33 (0)6 84 10 64 10
>> http://www.sbri.fr/members/kenneth-knoblauch.html
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595



-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From dwinsemius at comcast.net  Thu Feb 11 16:08:23 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 11 Feb 2010 10:08:23 -0500
Subject: [R-SIG-Mac] [R] Sweave, lty = 3 line incorect in pdf output
In-Reply-To: <20100211114225.lhkyinuo2swk4wws@imp.inserm.fr>
References: <20100211101204.39z2y3t3k84cws80@imp.inserm.fr>
	<alpine.DEB.2.00.1002111046380.6583@paninaro.stat-math.wu-wien.ac.at>
	<20100211111606.yph0r3gzmscgc440@imp.inserm.fr>
	<alpine.DEB.2.00.1002111119530.6583@paninaro.stat-math.wu-wien.ac.at>
	<20100211114225.lhkyinuo2swk4wws@imp.inserm.fr>
Message-ID: <28309EF8-BA17-4343-8C8F-7A282628E969@comcast.net>


On Feb 11, 2010, at 5:42 AM, Ken Knoblauch wrote:

> Achim.
>
> Indeed, you are right.  That is where the problem is.
> Thanks for helping localize it a bit further.
> So, I should cc this to the r-sig-mac list.
>
> For the r-sig-mac list, here is the original post on the r-help
>
> https://www.stat.math.ethz.ch/pipermail/r-help/2010-February/227832.html
>
> The pdf() command (at least on my Mac :( )  appears to have
> a problem in displaying dotted lines (lty = 3).
> Short example,
>
> pdf(file = "test.pdf", height = 6, width = 6)
>
> x <- 1:10
> plot(x, type = "l", lty = 3, lwd = 3)
> lines(x, 0.5 * x, type = "l")
>
> dev.off()
>

That one produces the intended result when run from the console, while  
the attached file in your prior posting had the features you observed  
(invisdble in Preview faintlt visible on Acrobat) on my mac 10.5.8  
installation. R 2.10.1. Acrobat 8.1.7 and Preview Version 4.2 (469.5).


> Hopefully, this is not yet another instance of R-Mac-FAQ 12.10
> but something more easily treated.
>
>
> R version 2.10.1 Patched (2010-02-01 r51089)
> i386-apple-darwin9.8.0
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods
> [7] base
>
>
> loaded via a namespace (and not attached):
> [1] tools_2.10.1
>
> R.app GUI 1.32-dev (5548 Leopard build 32-bit),
>
> Thank you.
>
> Ken
>
> Quoting Achim Zeileis <Achim.Zeileis at uibk.ac.at>:
>
>> Ken,
>>
>> an idea off-list: Have you tried
>>
>>  pdf(file = "test.pdf", height = 6, width = 6)
>>  ...
>>  dev.off()
>>
>> with your code? This is essentially what Sweave should do internally.
>> If that replicates your problem, it might be a hint that something  
>> with
>> pdf() is not working on your machine (rather than Sweave()).
>> Z
>
>
>
> -- 
> Ken Knoblauch
> Inserm U846
> Stem-cell and Brain Research Institute
> Department of Integrative Neurosciences
> 18 avenue du Doyen L?pine
> 69500 Bron
> France
> tel: +33 (0)4 72 91 34 77
> fax: +33 (0)4 72 91 34 61
> portable: +33 (0)6 84 10 64 10
> http://www.sbri.fr/members/kenneth-knoblauch.html
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Heritage Laboratories
West Hartford, CT


From ken.knoblauch at inserm.fr  Thu Feb 11 16:15:45 2010
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Thu, 11 Feb 2010 16:15:45 +0100
Subject: [R-SIG-Mac] [R] Sweave, lty = 3 line incorect in pdf output
In-Reply-To: <28309EF8-BA17-4343-8C8F-7A282628E969@comcast.net>
References: <20100211101204.39z2y3t3k84cws80@imp.inserm.fr>
	<alpine.DEB.2.00.1002111046380.6583@paninaro.stat-math.wu-wien.ac.at>
	<20100211111606.yph0r3gzmscgc440@imp.inserm.fr>
	<alpine.DEB.2.00.1002111119530.6583@paninaro.stat-math.wu-wien.ac.at>
	<20100211114225.lhkyinuo2swk4wws@imp.inserm.fr>
	<28309EF8-BA17-4343-8C8F-7A282628E969@comcast.net>
Message-ID: <20100211161545.3p8zpj0wg0cccgss@imp.inserm.fr>

Thanks.  By intended result, do you mean that the dotted line
in the viewed pdf file from the short code appeared correctly?
which would support the hypothesis that it is something specific
to my computer/setup or that it appeared as I had intended
the example to demonstrate? in which case, it is consistent
with a problem with Leopard.

Ken

Quoting David Winsemius <dwinsemius at comcast.net>:

>
> On Feb 11, 2010, at 5:42 AM, Ken Knoblauch wrote:
>
>> Achim.
>>
>> Indeed, you are right.  That is where the problem is.
>> Thanks for helping localize it a bit further.
>> So, I should cc this to the r-sig-mac list.
>>
>> For the r-sig-mac list, here is the original post on the r-help
>>
>> https://www.stat.math.ethz.ch/pipermail/r-help/2010-February/227832.html
>>
>> The pdf() command (at least on my Mac :( )  appears to have
>> a problem in displaying dotted lines (lty = 3).
>> Short example,
>>
>> pdf(file = "test.pdf", height = 6, width = 6)
>>
>> x <- 1:10
>> plot(x, type = "l", lty = 3, lwd = 3)
>> lines(x, 0.5 * x, type = "l")
>>
>> dev.off()
>>
>
> That one produces the intended result when run from the console, while
> the attached file in your prior posting had the features you observed
> (invisdble in Preview faintlt visible on Acrobat) on my mac 10.5.8
> installation. R 2.10.1. Acrobat 8.1.7 and Preview Version 4.2 (469.5).
>
>
>> Hopefully, this is not yet another instance of R-Mac-FAQ 12.10
>> but something more easily treated.
>>
>>
>> R version 2.10.1 Patched (2010-02-01 r51089)
>> i386-apple-darwin9.8.0
>>
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods
>> [7] base
>>
>>
>> loaded via a namespace (and not attached):
>> [1] tools_2.10.1
>>
>> R.app GUI 1.32-dev (5548 Leopard build 32-bit),
>>
>> Thank you.
>>
>> Ken
>>
>> Quoting Achim Zeileis <Achim.Zeileis at uibk.ac.at>:
>>
>>> Ken,
>>>
>>> an idea off-list: Have you tried
>>>
>>> pdf(file = "test.pdf", height = 6, width = 6)
>>> ...
>>> dev.off()
>>>
>>> with your code? This is essentially what Sweave should do internally.
>>> If that replicates your problem, it might be a hint that something with
>>> pdf() is not working on your machine (rather than Sweave()).
>>> Z
>>
>>
>>
>> -- 
>> Ken Knoblauch
>> Inserm U846
>> Stem-cell and Brain Research Institute
>> Department of Integrative Neurosciences
>> 18 avenue du Doyen L?pine
>> 69500 Bron
>> France
>> tel: +33 (0)4 72 91 34 77
>> fax: +33 (0)4 72 91 34 61
>> portable: +33 (0)6 84 10 64 10
>> http://www.sbri.fr/members/kenneth-knoblauch.html
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> David Winsemius, MD
> Heritage Laboratories
> West Hartford, CT



-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From tlumley at u.washington.edu  Thu Feb 11 16:39:49 2010
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 11 Feb 2010 07:39:49 -0800 (PST)
Subject: [R-SIG-Mac] [R] Sweave, lty = 3 line incorect in pdf output
In-Reply-To: <20100211161545.3p8zpj0wg0cccgss@imp.inserm.fr>
Message-ID: <alpine.LRH.2.01.1002110739490.6903@hymn33.u.washington.edu>

On Thu, 11 Feb 2010, Ken Knoblauch wrote:

> Thanks.  By intended result, do you mean that the dotted line
> in the viewed pdf file from the short code appeared correctly?
> which would support the hypothesis that it is something specific
> to my computer/setup or that it appeared as I had intended
> the example to demonstrate? in which case, it is consistent
> with a problem with Leopard.

It also worked correctly for me on Leopard (10.5.8).

      -thomas


> Ken
>
> Quoting David Winsemius <dwinsemius at comcast.net>:
>
>>
>> On Feb 11, 2010, at 5:42 AM, Ken Knoblauch wrote:
>>
>>> Achim.
>>>
>>> Indeed, you are right.  That is where the problem is.
>>> Thanks for helping localize it a bit further.
>>> So, I should cc this to the r-sig-mac list.
>>>
>>> For the r-sig-mac list, here is the original post on the r-help
>>>
>>> https://www.stat.math.ethz.ch/pipermail/r-help/2010-February/227832.html
>>>
>>> The pdf() command (at least on my Mac :( )  appears to have
>>> a problem in displaying dotted lines (lty = 3).
>>> Short example,
>>>
>>> pdf(file = "test.pdf", height = 6, width = 6)
>>>
>>> x <- 1:10
>>> plot(x, type = "l", lty = 3, lwd = 3)
>>> lines(x, 0.5 * x, type = "l")
>>>
>>> dev.off()
>>>
>>
>> That one produces the intended result when run from the console, while
>> the attached file in your prior posting had the features you observed
>> (invisdble in Preview faintlt visible on Acrobat) on my mac 10.5.8
>> installation. R 2.10.1. Acrobat 8.1.7 and Preview Version 4.2 (469.5).
>>
>>
>>> Hopefully, this is not yet another instance of R-Mac-FAQ 12.10
>>> but something more easily treated.
>>>
>>>
>>> R version 2.10.1 Patched (2010-02-01 r51089)
>>> i386-apple-darwin9.8.0
>>>
>>> locale:
>>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods
>>> [7] base
>>>
>>>
>>> loaded via a namespace (and not attached):
>>> [1] tools_2.10.1
>>>
>>> R.app GUI 1.32-dev (5548 Leopard build 32-bit),
>>>
>>> Thank you.
>>>
>>> Ken
>>>
>>> Quoting Achim Zeileis <Achim.Zeileis at uibk.ac.at>:
>>>
>>>> Ken,
>>>>
>>>> an idea off-list: Have you tried
>>>>
>>>> pdf(file = "test.pdf", height = 6, width = 6)
>>>> ...
>>>> dev.off()
>>>>
>>>> with your code? This is essentially what Sweave should do internally.
>>>> If that replicates your problem, it might be a hint that something with
>>>> pdf() is not working on your machine (rather than Sweave()).
>>>> Z
>>>
>>>
>>>
>>> -- 
>>> Ken Knoblauch
>>> Inserm U846
>>> Stem-cell and Brain Research Institute
>>> Department of Integrative Neurosciences
>>> 18 avenue du Doyen L?pine
>>> 69500 Bron
>>> France
>>> tel: +33 (0)4 72 91 34 77
>>> fax: +33 (0)4 72 91 34 61
>>> portable: +33 (0)6 84 10 64 10
>>> http://www.sbri.fr/members/kenneth-knoblauch.html
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> David Winsemius, MD
>> Heritage Laboratories
>> West Hartford, CT
>
>
>
> -- 
> Ken Knoblauch
> Inserm U846
> Stem-cell and Brain Research Institute
> Department of Integrative Neurosciences
> 18 avenue du Doyen L?pine
> 69500 Bron
> France
> tel: +33 (0)4 72 91 34 77
> fax: +33 (0)4 72 91 34 61
> portable: +33 (0)6 84 10 64 10
> http://www.sbri.fr/members/kenneth-knoblauch.html
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

Thomas Lumley			Assoc. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle

From ken.knoblauch at inserm.fr  Thu Feb 11 16:43:47 2010
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Thu, 11 Feb 2010 16:43:47 +0100
Subject: [R-SIG-Mac] [R] Sweave, lty = 3 line incorect in pdf output
In-Reply-To: <alpine.LRH.2.01.1002110739490.6903@hymn33.u.washington.edu>
References: <alpine.LRH.2.01.1002110739490.6903@hymn33.u.washington.edu>
Message-ID: <20100211164347.svd742z5b4ocso0o@imp.inserm.fr>

Thanks.  OK, I'm beginning to believe that it's specific
to my machine, but where to begin to hunt it down?

Ken



Quoting Thomas Lumley <tlumley at u.washington.edu>:

> On Thu, 11 Feb 2010, Ken Knoblauch wrote:
>
>> Thanks.  By intended result, do you mean that the dotted line
>> in the viewed pdf file from the short code appeared correctly?
>> which would support the hypothesis that it is something specific
>> to my computer/setup or that it appeared as I had intended
>> the example to demonstrate? in which case, it is consistent
>> with a problem with Leopard.
>
> It also worked correctly for me on Leopard (10.5.8).
>
>      -thomas
>
>
>> Ken
>>
>> Quoting David Winsemius <dwinsemius at comcast.net>:
>>
>>>
>>> On Feb 11, 2010, at 5:42 AM, Ken Knoblauch wrote:
>>>
>>>> Achim.
>>>>
>>>> Indeed, you are right.  That is where the problem is.
>>>> Thanks for helping localize it a bit further.
>>>> So, I should cc this to the r-sig-mac list.
>>>>
>>>> For the r-sig-mac list, here is the original post on the r-help
>>>>
>>>> https://www.stat.math.ethz.ch/pipermail/r-help/2010-February/227832.html
>>>>
>>>> The pdf() command (at least on my Mac :( )  appears to have
>>>> a problem in displaying dotted lines (lty = 3).
>>>> Short example,
>>>>
>>>> pdf(file = "test.pdf", height = 6, width = 6)
>>>>
>>>> x <- 1:10
>>>> plot(x, type = "l", lty = 3, lwd = 3)
>>>> lines(x, 0.5 * x, type = "l")
>>>>
>>>> dev.off()
>>>>
>>>
>>> That one produces the intended result when run from the console, while
>>> the attached file in your prior posting had the features you observed
>>> (invisdble in Preview faintlt visible on Acrobat) on my mac 10.5.8
>>> installation. R 2.10.1. Acrobat 8.1.7 and Preview Version 4.2 (469.5).
>>>
>>>
>>>> Hopefully, this is not yet another instance of R-Mac-FAQ 12.10
>>>> but something more easily treated.
>>>>
>>>>
>>>> R version 2.10.1 Patched (2010-02-01 r51089)
>>>> i386-apple-darwin9.8.0
>>>>
>>>> locale:
>>>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>>
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods
>>>> [7] base
>>>>
>>>>
>>>> loaded via a namespace (and not attached):
>>>> [1] tools_2.10.1
>>>>
>>>> R.app GUI 1.32-dev (5548 Leopard build 32-bit),
>>>>
>>>> Thank you.
>>>>
>>>> Ken
>>>>
>>>> Quoting Achim Zeileis <Achim.Zeileis at uibk.ac.at>:
>>>>
>>>>> Ken,
>>>>>
>>>>> an idea off-list: Have you tried
>>>>>
>>>>> pdf(file = "test.pdf", height = 6, width = 6)
>>>>> ...
>>>>> dev.off()
>>>>>
>>>>> with your code? This is essentially what Sweave should do internally.
>>>>> If that replicates your problem, it might be a hint that something with
>>>>> pdf() is not working on your machine (rather than Sweave()).
>>>>> Z
>>>>
>>>>
>>>>
>>>> -- 
>>>> Ken Knoblauch
>>>> Inserm U846
>>>> Stem-cell and Brain Research Institute
>>>> Department of Integrative Neurosciences
>>>> 18 avenue du Doyen L?pine
>>>> 69500 Bron
>>>> France
>>>> tel: +33 (0)4 72 91 34 77
>>>> fax: +33 (0)4 72 91 34 61
>>>> portable: +33 (0)6 84 10 64 10
>>>> http://www.sbri.fr/members/kenneth-knoblauch.html
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> David Winsemius, MD
>>> Heritage Laboratories
>>> West Hartford, CT
>>
>>
>>
>> -- 
>> Ken Knoblauch
>> Inserm U846
>> Stem-cell and Brain Research Institute
>> Department of Integrative Neurosciences
>> 18 avenue du Doyen L?pine
>> 69500 Bron
>> France
>> tel: +33 (0)4 72 91 34 77
>> fax: +33 (0)4 72 91 34 61
>> portable: +33 (0)6 84 10 64 10
>> http://www.sbri.fr/members/kenneth-knoblauch.html
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> Thomas Lumley			Assoc. Professor, Biostatistics
> tlumley at u.washington.edu	University of Washington, Seattle



-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From ken.knoblauch at inserm.fr  Thu Feb 11 16:58:19 2010
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Thu, 11 Feb 2010 16:58:19 +0100
Subject: [R-SIG-Mac] [R] Sweave, lty = 3 line incorect in pdf output
In-Reply-To: <e780c0971002110746s4cfc843xa2c35cd983a9e946@mail.gmail.com>
References: <20100211101204.39z2y3t3k84cws80@imp.inserm.fr>
	<alpine.DEB.2.00.1002111046380.6583@paninaro.stat-math.wu-wien.ac.at>
	<20100211111606.yph0r3gzmscgc440@imp.inserm.fr>
	<alpine.DEB.2.00.1002111119530.6583@paninaro.stat-math.wu-wien.ac.at>
	<20100211114225.lhkyinuo2swk4wws@imp.inserm.fr>
	<28309EF8-BA17-4343-8C8F-7A282628E969@comcast.net>
	<20100211161545.3p8zpj0wg0cccgss@imp.inserm.fr>
	<e780c0971002110721i239ef18bsc7a21bb7cc4e8fab@mail.gmail.com>
	<e780c0971002110746s4cfc843xa2c35cd983a9e946@mail.gmail.com>
Message-ID: <20100211165819.0uagjdu7b48kc88o@imp.inserm.fr>

Thanks.

  quartz(type ="pdf", file = "test.pdf")  produces a 72Kb file in
which the dotted line looks fine.   pdf(file = "test.pdf") produces
a 4Kb in which the dotted line doesn't appear in Preview
or in the TeXShop pdf viewer, on my MacBook Pro.

Ken



Quoting Kasper Daniel Hansen <kasperdanielhansen at gmail.com>:

> Sorry, I have been using the png device a lot lately :) This is not
> applicable to pdf.
>
> There is still two ways to produce pdf on a Mac, one using quartz(type =
> "pdf", file = "test.pdf", ...) and the other being pdf(file = "test.pdf",
> ...).  I don't think they use the same code, but I could be wrong.
>
> Kasper
>
> On Thu, Feb 11, 2010 at 10:21 AM, Kasper Daniel Hansen <
> kasperdanielhansen at gmail.com> wrote:
>
>> You might also note that there are three ways to generate a file using pdf
>> on a mac, using type = "quartz" / "xlib" / "cairo".  You might want to try
>> all three of them and see which one you are using.
>>
>> Kasper
>>
>>
>> On Thu, Feb 11, 2010 at 10:15 AM, Ken Knoblauch   
>> <ken.knoblauch at inserm.fr>wrote:
>>
>>> Thanks.  By intended result, do you mean that the dotted line
>>> in the viewed pdf file from the short code appeared correctly?
>>> which would support the hypothesis that it is something specific
>>> to my computer/setup or that it appeared as I had intended
>>> the example to demonstrate? in which case, it is consistent
>>> with a problem with Leopard.
>>>
>>> Ken
>>>
>>>
>>> Quoting David Winsemius <dwinsemius at comcast.net>:
>>>
>>>
>>>> On Feb 11, 2010, at 5:42 AM, Ken Knoblauch wrote:
>>>>
>>>>  Achim.
>>>>>
>>>>> Indeed, you are right.  That is where the problem is.
>>>>> Thanks for helping localize it a bit further.
>>>>> So, I should cc this to the r-sig-mac list.
>>>>>
>>>>> For the r-sig-mac list, here is the original post on the r-help
>>>>>
>>>>> https://www.stat.math.ethz.ch/pipermail/r-help/2010-February/227832.html
>>>>>
>>>>> The pdf() command (at least on my Mac :( )  appears to have
>>>>> a problem in displaying dotted lines (lty = 3).
>>>>> Short example,
>>>>>
>>>>> pdf(file = "test.pdf", height = 6, width = 6)
>>>>>
>>>>> x <- 1:10
>>>>> plot(x, type = "l", lty = 3, lwd = 3)
>>>>> lines(x, 0.5 * x, type = "l")
>>>>>
>>>>> dev.off()
>>>>>
>>>>>
>>>> That one produces the intended result when run from the console, while
>>>> the attached file in your prior posting had the features you observed
>>>> (invisdble in Preview faintlt visible on Acrobat) on my mac 10.5.8
>>>> installation. R 2.10.1. Acrobat 8.1.7 and Preview Version 4.2 (469.5).
>>>>
>>>>
>>>>  Hopefully, this is not yet another instance of R-Mac-FAQ 12.10
>>>>> but something more easily treated.
>>>>>
>>>>>
>>>>> R version 2.10.1 Patched (2010-02-01 r51089)
>>>>> i386-apple-darwin9.8.0
>>>>>
>>>>> locale:
>>>>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>>>
>>>>> attached base packages:
>>>>> [1] stats     graphics  grDevices utils     datasets  methods
>>>>> [7] base
>>>>>
>>>>>
>>>>> loaded via a namespace (and not attached):
>>>>> [1] tools_2.10.1
>>>>>
>>>>> R.app GUI 1.32-dev (5548 Leopard build 32-bit),
>>>>>
>>>>> Thank you.
>>>>>
>>>>> Ken
>>>>>
>>>>> Quoting Achim Zeileis <Achim.Zeileis at uibk.ac.at>:
>>>>>
>>>>>  Ken,
>>>>>>
>>>>>> an idea off-list: Have you tried
>>>>>>
>>>>>> pdf(file = "test.pdf", height = 6, width = 6)
>>>>>> ...
>>>>>> dev.off()
>>>>>>
>>>>>> with your code? This is essentially what Sweave should do internally.
>>>>>> If that replicates your problem, it might be a hint that something with
>>>>>> pdf() is not working on your machine (rather than Sweave()).
>>>>>> Z
>>>>>>
>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Ken Knoblauch
>>>>> Inserm U846
>>>>> Stem-cell and Brain Research Institute
>>>>> Department of Integrative Neurosciences
>>>>> 18 avenue du Doyen L?pine
>>>>> 69500 Bron
>>>>> France
>>>>> tel: +33 (0)4 72 91 34 77
>>>>> fax: +33 (0)4 72 91 34 61
>>>>> portable: +33 (0)6 84 10 64 10
>>>>> http://www.sbri.fr/members/kenneth-knoblauch.html
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>
>>>> David Winsemius, MD
>>>> Heritage Laboratories
>>>> West Hartford, CT
>>>>
>>>
>>>
>>>
>>> --
>>> Ken Knoblauch
>>> Inserm U846
>>> Stem-cell and Brain Research Institute
>>> Department of Integrative Neurosciences
>>> 18 avenue du Doyen L?pine
>>> 69500 Bron
>>> France
>>> tel: +33 (0)4 72 91 34 77
>>> fax: +33 (0)4 72 91 34 61
>>> portable: +33 (0)6 84 10 64 10
>>> http://www.sbri.fr/members/kenneth-knoblauch.html
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>>
>



-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From ken.knoblauch at inserm.fr  Fri Feb 12 19:18:29 2010
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Fri, 12 Feb 2010 19:18:29 +0100
Subject: [R-SIG-Mac] [R] Sweave, lty = 3 line incorect in pdf output
In-Reply-To: <alpine.LRH.2.01.1002110739490.6903@hymn33.u.washington.edu>
References: <alpine.LRH.2.01.1002110739490.6903@hymn33.u.washington.edu>
Message-ID: <20100212191829.94y73jgqo00okkgg@imp.inserm.fr>

First, I want to thank everybody who responded for their
helpful comments and suggestions, though the problem is
still unresolved and if anyone has any additional ideas,
I would be grateful.  Second, if I can test your patience
just a bit more, I have found an additional clue that
perhaps will help solve the mystery of the missing dotted
lines (on my system, apparently).

Recall the minimal example,

pdf(file = "test.pdf")
x <- 1:10
plot(x, type = "l", lty = 3, lwd = 3)
lines(x, 0.5 * x)
dev.off()

And the issue is that I don't see the dotted line in my viewer.
I do, however, if the file is created by

quartz(file = "testQ.pdf", type = "pdf")
x <- 1:10
plot(x, type = "l", lty = 3, lwd = 3)
lines(x, 0.5 * x)
dev.off()

but then the file generated is 72 Kb instead of 4Kb as with the pdf
device.

I tried on another Leopard system (64 bit R) with the same result, and then
on a system running Tiger (all with a version of R 2.10.1 patched),
The dotted lines appeared on Tiger.  I transferred the Tiger generated
file to my Leopard Mac and the dotted line appears on the viewer,
here, as well.  So, I investigated how the files might differ
and the only thing that I can find is that the Tiger generated
version contains the lines

1 J
1 j

whereas, in the Leopard generated version, I only see

1 j

If I add a line of 1 J to the Leopard generated file, after line 35,
the dotted lines do appear in my viewer.

I don't know what these commands do in pdf (I don't speak pdf).
Would anyone have an idea what could have happened that my pdf()
command does not produce them and most importantly, any ideas on
how to fix it?

Thank you, again, for your responses.

Leopard sessionInfo
sessionInfo()
R version 2.10.1 Patched (2010-02-09 r51118)
i386-apple-darwin9.8.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods
[7] base

best,

Ken

Quoting Thomas Lumley <tlumley at u.washington.edu>:

> On Thu, 11 Feb 2010, Ken Knoblauch wrote:
>
>> Thanks.  By intended result, do you mean that the dotted line
>> in the viewed pdf file from the short code appeared correctly?
>> which would support the hypothesis that it is something specific
>> to my computer/setup or that it appeared as I had intended
>> the example to demonstrate? in which case, it is consistent
>> with a problem with Leopard.
>
> It also worked correctly for me on Leopard (10.5.8).
>
>      -thomas
>
>
>> Ken
>>
>> Quoting David Winsemius <dwinsemius at comcast.net>:
>>
>>>
>>> On Feb 11, 2010, at 5:42 AM, Ken Knoblauch wrote:
>>>
>>>> Achim.
>>>>
>>>> Indeed, you are right.  That is where the problem is.
>>>> Thanks for helping localize it a bit further.
>>>> So, I should cc this to the r-sig-mac list.
>>>>
>>>> For the r-sig-mac list, here is the original post on the r-help
>>>>
>>>> https://www.stat.math.ethz.ch/pipermail/r-help/2010-February/227832.html
>>>>
>>>> The pdf() command (at least on my Mac :( )  appears to have
>>>> a problem in displaying dotted lines (lty = 3).
>>>> Short example,
>>>>
>>>> pdf(file = "test.pdf", height = 6, width = 6)
>>>>
>>>> x <- 1:10
>>>> plot(x, type = "l", lty = 3, lwd = 3)
>>>> lines(x, 0.5 * x, type = "l")
>>>>
>>>> dev.off()
>>>>
>>>
>>> That one produces the intended result when run from the console, while
>>> the attached file in your prior posting had the features you observed
>>> (invisdble in Preview faintlt visible on Acrobat) on my mac 10.5.8
>>> installation. R 2.10.1. Acrobat 8.1.7 and Preview Version 4.2 (469.5).
>>>
>>>
>>>> Hopefully, this is not yet another instance of R-Mac-FAQ 12.10
>>>> but something more easily treated.
>>>>
>>>>
>>>> R version 2.10.1 Patched (2010-02-01 r51089)
>>>> i386-apple-darwin9.8.0
>>>>
>>>> locale:
>>>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>>
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods
>>>> [7] base
>>>>
>>>>
>>>> loaded via a namespace (and not attached):
>>>> [1] tools_2.10.1
>>>>
>>>> R.app GUI 1.32-dev (5548 Leopard build 32-bit),
>>>>
>>>> Thank you.
>>>>
>>>> Ken
>>>>
>>>> Quoting Achim Zeileis <Achim.Zeileis at uibk.ac.at>:
>>>>
>>>>> Ken,
>>>>>
>>>>> an idea off-list: Have you tried
>>>>>
>>>>> pdf(file = "test.pdf", height = 6, width = 6)
>>>>> ...
>>>>> dev.off()
>>>>>
>>>>> with your code? This is essentially what Sweave should do internally.
>>>>> If that replicates your problem, it might be a hint that something with
>>>>> pdf() is not working on your machine (rather than Sweave()).
>>>>> Z
>>>>
>>>>
>>>>
>>>> -- 
>>>> Ken Knoblauch
>>>> Inserm U846
>>>> Stem-cell and Brain Research Institute
>>>> Department of Integrative Neurosciences
>>>> 18 avenue du Doyen L?pine
>>>> 69500 Bron
>>>> France
>>>> tel: +33 (0)4 72 91 34 77
>>>> fax: +33 (0)4 72 91 34 61
>>>> portable: +33 (0)6 84 10 64 10
>>>> http://www.sbri.fr/members/kenneth-knoblauch.html
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> David Winsemius, MD
>>> Heritage Laboratories
>>> West Hartford, CT
>>
>>
>>
>> -- 
>> Ken Knoblauch
>> Inserm U846
>> Stem-cell and Brain Research Institute
>> Department of Integrative Neurosciences
>> 18 avenue du Doyen L?pine
>> 69500 Bron
>> France
>> tel: +33 (0)4 72 91 34 77
>> fax: +33 (0)4 72 91 34 61
>> portable: +33 (0)6 84 10 64 10
>> http://www.sbri.fr/members/kenneth-knoblauch.html
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> Thomas Lumley			Assoc. Professor, Biostatistics
> tlumley at u.washington.edu	University of Washington, Seattle



-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html

----------------------------------------------------------------


-------------- next part --------------
A non-text attachment was scrubbed...
Name: testLeopard.pdf
Type: application/pdf
Size: 2969 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100212/05e121c5/attachment.pdf>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: testTiger.pdf
Type: application/pdf
Size: 2977 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100212/05e121c5/attachment-0001.pdf>

From ken.knoblauch at inserm.fr  Fri Feb 12 19:22:53 2010
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Fri, 12 Feb 2010 19:22:53 +0100
Subject: [R-SIG-Mac] [R] Sweave, lty = 3 line incorect in pdf output
In-Reply-To: <20100212191829.94y73jgqo00okkgg@imp.inserm.fr>
References: <alpine.LRH.2.01.1002110739490.6903@hymn33.u.washington.edu>
	<20100212191829.94y73jgqo00okkgg@imp.inserm.fr>
Message-ID: <20100212192253.g21e75wzk4wosogk@imp.inserm.fr>

I forgot to point out that the Tiger and Leopard generated
pdf's were attached to the previous mail for examination,
testing, etc. if anyone is still interested.  In any case,
thanks in advance.

Ken

Quoting Ken Knoblauch <ken.knoblauch at inserm.fr>:

> First, I want to thank everybody who responded for their
> helpful comments and suggestions, though the problem is
> still unresolved and if anyone has any additional ideas,
> I would be grateful.  Second, if I can test your patience
> just a bit more, I have found an additional clue that
> perhaps will help solve the mystery of the missing dotted
> lines (on my system, apparently).
>
> Recall the minimal example,
>
> pdf(file = "test.pdf")
> x <- 1:10
> plot(x, type = "l", lty = 3, lwd = 3)
> lines(x, 0.5 * x)
> dev.off()
>
> And the issue is that I don't see the dotted line in my viewer.
> I do, however, if the file is created by
>
> quartz(file = "testQ.pdf", type = "pdf")
> x <- 1:10
> plot(x, type = "l", lty = 3, lwd = 3)
> lines(x, 0.5 * x)
> dev.off()
>
> but then the file generated is 72 Kb instead of 4Kb as with the pdf
> device.
>
> I tried on another Leopard system (64 bit R) with the same result, and then
> on a system running Tiger (all with a version of R 2.10.1 patched),
> The dotted lines appeared on Tiger.  I transferred the Tiger generated
> file to my Leopard Mac and the dotted line appears on the viewer,
> here, as well.  So, I investigated how the files might differ
> and the only thing that I can find is that the Tiger generated
> version contains the lines
>
> 1 J
> 1 j
>
> whereas, in the Leopard generated version, I only see
>
> 1 j
>
> If I add a line of 1 J to the Leopard generated file, after line 35,
> the dotted lines do appear in my viewer.
>
> I don't know what these commands do in pdf (I don't speak pdf).
> Would anyone have an idea what could have happened that my pdf()
> command does not produce them and most importantly, any ideas on
> how to fix it?
>
> Thank you, again, for your responses.
>
> Leopard sessionInfo
> sessionInfo()
> R version 2.10.1 Patched (2010-02-09 r51118)
> i386-apple-darwin9.8.0
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods
> [7] base
>
> best,
>
> Ken
>
> Quoting Thomas Lumley <tlumley at u.washington.edu>:
>
>> On Thu, 11 Feb 2010, Ken Knoblauch wrote:
>>
>>> Thanks.  By intended result, do you mean that the dotted line
>>> in the viewed pdf file from the short code appeared correctly?
>>> which would support the hypothesis that it is something specific
>>> to my computer/setup or that it appeared as I had intended
>>> the example to demonstrate? in which case, it is consistent
>>> with a problem with Leopard.
>>
>> It also worked correctly for me on Leopard (10.5.8).
>>
>>     -thomas
>>
>>
>>> Ken
>>>
>>> Quoting David Winsemius <dwinsemius at comcast.net>:
>>>
>>>>
>>>> On Feb 11, 2010, at 5:42 AM, Ken Knoblauch wrote:
>>>>
>>>>> Achim.
>>>>>
>>>>> Indeed, you are right.  That is where the problem is.
>>>>> Thanks for helping localize it a bit further.
>>>>> So, I should cc this to the r-sig-mac list.
>>>>>
>>>>> For the r-sig-mac list, here is the original post on the r-help
>>>>>
>>>>> https://www.stat.math.ethz.ch/pipermail/r-help/2010-February/227832.html
>>>>>
>>>>> The pdf() command (at least on my Mac :( )  appears to have
>>>>> a problem in displaying dotted lines (lty = 3).
>>>>> Short example,
>>>>>
>>>>> pdf(file = "test.pdf", height = 6, width = 6)
>>>>>
>>>>> x <- 1:10
>>>>> plot(x, type = "l", lty = 3, lwd = 3)
>>>>> lines(x, 0.5 * x, type = "l")
>>>>>
>>>>> dev.off()
>>>>>
>>>>
>>>> That one produces the intended result when run from the console, while
>>>> the attached file in your prior posting had the features you observed
>>>> (invisdble in Preview faintlt visible on Acrobat) on my mac 10.5.8
>>>> installation. R 2.10.1. Acrobat 8.1.7 and Preview Version 4.2 (469.5).
>>>>
>>>>
>>>>> Hopefully, this is not yet another instance of R-Mac-FAQ 12.10
>>>>> but something more easily treated.
>>>>>
>>>>>
>>>>> R version 2.10.1 Patched (2010-02-01 r51089)
>>>>> i386-apple-darwin9.8.0
>>>>>
>>>>> locale:
>>>>> [1] en_US.UTF-8/en_US.UTF-8/C/C/en_US.UTF-8/en_US.UTF-8
>>>>>
>>>>> attached base packages:
>>>>> [1] stats     graphics  grDevices utils     datasets  methods
>>>>> [7] base
>>>>>
>>>>>
>>>>> loaded via a namespace (and not attached):
>>>>> [1] tools_2.10.1
>>>>>
>>>>> R.app GUI 1.32-dev (5548 Leopard build 32-bit),
>>>>>
>>>>> Thank you.
>>>>>
>>>>> Ken
>>>>>
>>>>> Quoting Achim Zeileis <Achim.Zeileis at uibk.ac.at>:
>>>>>
>>>>>> Ken,
>>>>>>
>>>>>> an idea off-list: Have you tried
>>>>>>
>>>>>> pdf(file = "test.pdf", height = 6, width = 6)
>>>>>> ...
>>>>>> dev.off()
>>>>>>
>>>>>> with your code? This is essentially what Sweave should do internally.
>>>>>> If that replicates your problem, it might be a hint that something with
>>>>>> pdf() is not working on your machine (rather than Sweave()).
>>>>>> Z
>>>>>
>>>>>
>>>>>
>>>>> -- 
>>>>> Ken Knoblauch
>>>>> Inserm U846
>>>>> Stem-cell and Brain Research Institute
>>>>> Department of Integrative Neurosciences
>>>>> 18 avenue du Doyen L?pine
>>>>> 69500 Bron
>>>>> France
>>>>> tel: +33 (0)4 72 91 34 77
>>>>> fax: +33 (0)4 72 91 34 61
>>>>> portable: +33 (0)6 84 10 64 10
>>>>> http://www.sbri.fr/members/kenneth-knoblauch.html
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>> David Winsemius, MD
>>>> Heritage Laboratories
>>>> West Hartford, CT
>>>
>>>
>>>
>>> -- 
>>> Ken Knoblauch
>>> Inserm U846
>>> Stem-cell and Brain Research Institute
>>> Department of Integrative Neurosciences
>>> 18 avenue du Doyen L?pine
>>> 69500 Bron
>>> France
>>> tel: +33 (0)4 72 91 34 77
>>> fax: +33 (0)4 72 91 34 61
>>> portable: +33 (0)6 84 10 64 10
>>> http://www.sbri.fr/members/kenneth-knoblauch.html
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> Thomas Lumley			Assoc. Professor, Biostatistics
>> tlumley at u.washington.edu	University of Washington, Seattle
>
>
>
> -- 
> Ken Knoblauch
> Inserm U846
> Stem-cell and Brain Research Institute
> Department of Integrative Neurosciences
> 18 avenue du Doyen L?pine
> 69500 Bron
> France
> tel: +33 (0)4 72 91 34 77
> fax: +33 (0)4 72 91 34 61
> portable: +33 (0)6 84 10 64 10
> http://www.sbri.fr/members/kenneth-knoblauch.html
>
> ----------------------------------------------------------------
> This message was sent using IMP, the Internet Messaging Program.



-- 
Ken Knoblauch
Inserm U846
Stem-cell and Brain Research Institute
Department of Integrative Neurosciences
18 avenue du Doyen L?pine
69500 Bron
France
tel: +33 (0)4 72 91 34 77
fax: +33 (0)4 72 91 34 61
portable: +33 (0)6 84 10 64 10
http://www.sbri.fr/members/kenneth-knoblauch.html


From ken.knoblauch at inserm.fr  Fri Feb 12 22:37:18 2010
From: ken.knoblauch at inserm.fr (Ken Knoblauch)
Date: Fri, 12 Feb 2010 21:37:18 +0000 (UTC)
Subject: [R-SIG-Mac] [R] Sweave, lty = 3 line incorect in pdf output
References: <alpine.LRH.2.01.1002110739490.6903@hymn33.u.washington.edu>
	<20100212191829.94y73jgqo00okkgg@imp.inserm.fr>
Message-ID: <loom.20100212T222239-954@post.gmane.org>

Ken Knoblauch <ken.knoblauch <at> inserm.fr> writes:
> First, I want to thank everybody who responded for their
> helpful comments and suggestions, though the problem is
> still unresolved and if anyone has any additional ideas,
> I would be grateful.  Second, if I can test your patience
> just a bit more, I have found an additional clue that
> perhaps will help solve the mystery of the missing dotted
> lines (on my system, apparently).
> 
> I tried on another Leopard system (64 bit R) with the same result, and then
> on a system running Tiger (all with a version of R 2.10.1 patched),
> The dotted lines appeared on Tiger.  I transferred the Tiger generated
> file to my Leopard Mac and the dotted line appears on the viewer,
> here, as well.  So, I investigated how the files might differ
> and the only thing that I can find is that the Tiger generated
> version contains the lines
> 
> 1 J
> 1 j
> 
> whereas, in the Leopard generated version, I only see
> 
> 1 j
> 
> If I add a line of 1 J to the Leopard generated file, after line 35,
> the dotted lines do appear in my viewer.
> 
> I don't know what these commands do in pdf (I don't speak pdf).
> Would anyone have an idea what could have happened that my pdf()
> command does not produce them and most importantly, any ideas on
> how to fix it?

> >> -- 
> >> Ken Knoblauch
> >> Inserm U846
> >> Stem-cell and Brain Research Institute
> >> Department of Integrative Neurosciences
> >> 18 avenue du Doyen L?pine
> >> 69500 Bron
> >> France
> >> tel: +33 (0)4 72 91 34 77
> >> fax: +33 (0)4 72 91 34 61
> >> portable: +33 (0)6 84 10 64 10
> >> http://www.sbri.fr/members/kenneth-knoblauch.html

Some additional search in the pdf reference manual and I found that
1 j refers to linejoin choice (ljoin = 1 in par)
1 J to line end (lend = 1 in par)

>From this I tried,


pdf(file = "testPP.pdf")
par(lend = 1) # the default is 0 according to ?par
x <- 1:10
plot(x, type = "l", lty = 3, lwd = 3)
lines(x, 0.5 * x)
dev.off()

which produces the correct dotted line (in my viewer)...

I can add par(lend = 1) throughout my Sweave document, I guess.
If anybody has any further suggestions, or how to fix this globally,
I'm interested in hearing from you.  Thanks.

Ken


From simon.urbanek at r-project.org  Sat Feb 13 17:30:41 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 13 Feb 2010 11:30:41 -0500
Subject: [R-SIG-Mac] [R] Sweave, lty = 3 line incorect in pdf output
In-Reply-To: <loom.20100212T222239-954@post.gmane.org>
References: <alpine.LRH.2.01.1002110739490.6903@hymn33.u.washington.edu>
	<20100212191829.94y73jgqo00okkgg@imp.inserm.fr>
	<loom.20100212T222239-954@post.gmane.org>
Message-ID: <CFAC78CA-EFA8-467B-8E89-131277BB0940@r-project.org>


On Feb 12, 2010, at 4:37 PM, Ken Knoblauch wrote:

> Ken Knoblauch <ken.knoblauch <at> inserm.fr> writes:
>> First, I want to thank everybody who responded for their
>> helpful comments and suggestions, though the problem is
>> still unresolved and if anyone has any additional ideas,
>> I would be grateful.  Second, if I can test your patience
>> just a bit more, I have found an additional clue that
>> perhaps will help solve the mystery of the missing dotted
>> lines (on my system, apparently).
>> 
>> I tried on another Leopard system (64 bit R) with the same result, and then
>> on a system running Tiger (all with a version of R 2.10.1 patched),
>> The dotted lines appeared on Tiger.  I transferred the Tiger generated
>> file to my Leopard Mac and the dotted line appears on the viewer,
>> here, as well.  So, I investigated how the files might differ
>> and the only thing that I can find is that the Tiger generated
>> version contains the lines
>> 
>> 1 J
>> 1 j
>> 
>> whereas, in the Leopard generated version, I only see
>> 
>> 1 j
>> 
>> If I add a line of 1 J to the Leopard generated file, after line 35,
>> the dotted lines do appear in my viewer.
>> 
>> I don't know what these commands do in pdf (I don't speak pdf).
>> Would anyone have an idea what could have happened that my pdf()
>> command does not produce them and most importantly, any ideas on
>> how to fix it?
> 
>>>> -- 
>>>> Ken Knoblauch
>>>> Inserm U846
>>>> Stem-cell and Brain Research Institute
>>>> Department of Integrative Neurosciences
>>>> 18 avenue du Doyen L?pine
>>>> 69500 Bron
>>>> France
>>>> tel: +33 (0)4 72 91 34 77
>>>> fax: +33 (0)4 72 91 34 61
>>>> portable: +33 (0)6 84 10 64 10
>>>> http://www.sbri.fr/members/kenneth-knoblauch.html
> 
> Some additional search in the pdf reference manual and I found that
> 1 j refers to linejoin choice (ljoin = 1 in par)
> 1 J to line end (lend = 1 in par)
> 
>> From this I tried,
> 
> 
> pdf(file = "testPP.pdf")
> par(lend = 1) # the default is 0 according to ?par
> x <- 1:10
> plot(x, type = "l", lty = 3, lwd = 3)
> lines(x, 0.5 * x)
> dev.off()
> 
> which produces the correct dotted line (in my viewer)...
> 

Great, I think I know what's happening. The good news is that I have committed the fix to R. Let me explain what we see and then the issue.

The issue comes from the fact that dots in lines are created by using 0-length pattern segments. What this means is that the appearance is mainly defined by the line end setting:

lend0 = PDF1 = round = circle
lend1 = PDF0 = butt = nothing since it's a rectangle of the length 0
lend2 = PDF2 = square = squares in the direction of the line

So what happens in the case where you see nothing is that the line end is set to butt (lend=1 -> 0 J) which produces 0-width rectangles and thus is invisible.

The main bug was that the PDF device failed to set the line end (in the PDF) if the texture (lty) was also to be set. Therefore R would think that it changed the line cap to round, but in fact it did not so it was up to the viewer's default what the line cap would be. If it happened to be butt then the line would become invisible, because R thought it's round so it can use 0-length segment. R is smart enough to use 1-length segment if the type is butt cap so that's why butt cap worked for you. The difference in the output was due to the difference in R versions - not really due to OS versions - because the behavior wrt line cap = butt was changed between R 2.10.1 release and now.

That is now all fixed in R-devel and R-patched.

Thanks for your persistence, Ken, your digging was very helpful to pinpoint he right spot and the bug was not Mac-specific (in fact Quartz was unaffected), so many R users will be thankful :).

Thanks,
Simon



> I can add par(lend = 1) throughout my Sweave document, I guess.
> If anybody has any further suggestions, or how to fix this globally,
> I'm interested in hearing from you.  Thanks.
> 
> Ken
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From h.nietnagel at googlemail.com  Sat Feb 13 19:51:59 2010
From: h.nietnagel at googlemail.com (Hannes Nietnagel)
Date: Sat, 13 Feb 2010 19:51:59 +0100
Subject: [R-SIG-Mac] Problems with savePlot() and postscript under Snow
	Leopard
Message-ID: <15a46d981002131051j66ea0e44p2bca0a36c40e82df@mail.gmail.com>

Dear all,

since my problem could not be solved in the general R mailing list,
I'll post the issue again in this specific mailing list.

I tried:
> iris
> species.n <- as.numeric(Species)
> plot(iris, col = species.n)
> savePlot(filename="IrisTestPlot", type="png")

and got the error message:
Fehler in savePlot(filename = "IrisTestPlot", type = "png") :
 kann nur aus 'X11(type="*cairo")' Devices kopieren

(sorry, I have a german version of R).

I tried:
> postscript("IrisTestPlot.eps", paper="special",height=6,width=6,onefile=FALSE,horizontal=FALSE)

 and

> postscript(file="IrisTestPlot2.pdf", onefile = FALSE, horizontal = FALSE, paper = "special", width = 8, height = 8)

in both cases there are files produced that cannot be opened. Error
message: the bounding box is missing.


According to Michael's advice I tried:
> quartz.save("IrisTestPlotquartz.png","png")
and got:
postscript
        5

but no file.

as well as:
> system('open IrisTestPlotquartz.png')

It states that the files does not exist.

And I tried:
> plot(iris)
> dev.cur()
And got the answer:
postscript
         3
and again no file.



I use 64 bit R under Snow Leopard.

> sessionInfo()
R version 2.10.1 (2009-12-14)
x86_64-apple-darwin9.8.0

locale:
[1] de_DE.UTF-8/de_DE.UTF-8/C/C/de_DE.UTF-8/de_DE.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] tools_2.10.1


What could be the problem and how can I solve it?
Thank you very much in advance for your time and advices!

Hannes


From dwinsemius at comcast.net  Sat Feb 13 20:53:17 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 13 Feb 2010 14:53:17 -0500
Subject: [R-SIG-Mac] Problems with savePlot() and postscript under Snow
	Leopard
In-Reply-To: <15a46d981002131051j66ea0e44p2bca0a36c40e82df@mail.gmail.com>
References: <15a46d981002131051j66ea0e44p2bca0a36c40e82df@mail.gmail.com>
Message-ID: <B05900A0-7ACD-4E84-9BA7-95B8FD31CCAE@comcast.net>


On Feb 13, 2010, at 1:51 PM, Hannes Nietnagel wrote:

> Dear all,
>
> since my problem could not be solved in the general R mailing list,
> I'll post the issue again in this specific mailing list.
>
> I tried:
>> iris
>> species.n <- as.numeric(Species)

It would help if yuo access the column properly. "Species" is only  
meaningful within "iris".

>> plot(iris, col = species.n)
>> savePlot(filename="IrisTestPlot", type="png")

If you want a png plot then open the png() device and close it when  
you are done:

species.n <- as.numeric(iris$Species)
png("test.png")
plot(iris, col = species.n)
dev.off()

Produces the requested plot in the working directory and Preview opens  
it without problem.
>
> and got the error message:
> Fehler in savePlot(filename = "IrisTestPlot", type = "png") :
> kann nur aus 'X11(type="*cairo")' Devices kopieren
>
> (sorry, I have a german version of R).
>
> I tried:
>> postscript("IrisTestPlot.eps",  
>> paper="special",height=6,width=6,onefile=FALSE,horizontal=FALSE)
>
> and
>
>> postscript(file="IrisTestPlot2.pdf", onefile = FALSE, horizontal =  
>> FALSE, paper = "special", width = 8, height = 8)
>
> in both cases there are files produced that cannot be opened. Error
> message: the bounding box is missing.
>
>
> According to Michael's advice I tried:
>> quartz.save("IrisTestPlotquartz.png","png")

> and got:
> postscript
>        5
>
> but no file.
>
> as well as:
>> system('open IrisTestPlotquartz.png')
>
> It states that the files does not exist.
>
> And I tried:
>> plot(iris)
>> dev.cur()
> And got the answer:
> postscript
>         3
> and again no file.
>
>
>
> I use 64 bit R under Snow Leopard.
>
>> sessionInfo()
> R version 2.10.1 (2009-12-14)
> x86_64-apple-darwin9.8.0
>
> locale:
> [1] de_DE.UTF-8/de_DE.UTF-8/C/C/de_DE.UTF-8/de_DE.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_2.10.1
>
>
> What could be the problem and how can I solve it?
> Thank you very much in advance for your time and advices!
>
> Hannes
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Heritage Laboratories
West Hartford, CT


From dwinsemius at comcast.net  Sat Feb 13 21:11:50 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 13 Feb 2010 15:11:50 -0500
Subject: [R-SIG-Mac] Problems with savePlot() and postscript under Snow
	Leopard
In-Reply-To: <B05900A0-7ACD-4E84-9BA7-95B8FD31CCAE@comcast.net>
References: <15a46d981002131051j66ea0e44p2bca0a36c40e82df@mail.gmail.com>
	<B05900A0-7ACD-4E84-9BA7-95B8FD31CCAE@comcast.net>
Message-ID: <CCD9BAD1-C05C-4187-B075-8EAA27068B9D@comcast.net>


On Feb 13, 2010, at 2:53 PM, David Winsemius wrote:

>
> On Feb 13, 2010, at 1:51 PM, Hannes Nietnagel wrote:
>
>> Dear all,
>>
>> since my problem could not be solved in the general R mailing list,
>> I'll post the issue again in this specific mailing list.
>>
>> I tried:
>>> iris
>>> species.n <- as.numeric(Species)
>
> It would help if yuo access the column properly. "Species" is only  
> meaningful within "iris".
>
>>> plot(iris, col = species.n)
>>> savePlot(filename="IrisTestPlot", type="png")
>
> If you want a png plot then open the png() device and close it when  
> you are done:
>
> species.n <- as.numeric(iris$Species)
> png("test.png")
> plot(iris, col = species.n)
> dev.off()
>
> Produces the requested plot in the working directory and Preview  
> opens it without problem.

I also got a slightly different sort of success with:

plot(iris, col = species.n)
quartz.save("test2.png", type="png")

The background was completely transparent. I can see useful  
application of that feature in creating "after-the-fact" overlays of  
other plots. Reviewing the help page for ?quartz, it appears this is  
the expected result. Plotting with the png() device created a white  
background (as would be expected after reading its help page.)

-- 
David.
>>
>> and got the error message:
>> Fehler in savePlot(filename = "IrisTestPlot", type = "png") :
>> kann nur aus 'X11(type="*cairo")' Devices kopieren
>>
>> (sorry, I have a german version of R).
>>
>> I tried:
>>> postscript("IrisTestPlot.eps",  
>>> paper="special",height=6,width=6,onefile=FALSE,horizontal=FALSE)
>>
>> and
>>
>>> postscript(file="IrisTestPlot2.pdf", onefile = FALSE, horizontal =  
>>> FALSE, paper = "special", width = 8, height = 8)
>>
>> in both cases there are files produced that cannot be opened. Error
>> message: the bounding box is missing.
>>
>>
>> According to Michael's advice I tried:
>>> quartz.save("IrisTestPlotquartz.png","png")
>
>> and got:
>> postscript
>>       5
>>
>> but no file.
>>
>> as well as:
>>> system('open IrisTestPlotquartz.png')
>>
>> It states that the files does not exist.
>>
>> And I tried:
>>> plot(iris)
>>> dev.cur()
>> And got the answer:
>> postscript
>>        3
>> and again no file.
>>
>>
>>
>> I use 64 bit R under Snow Leopard.
>>
>>> sessionInfo()
>> R version 2.10.1 (2009-12-14)
>> x86_64-apple-darwin9.8.0
>>
>> locale:
>> [1] de_DE.UTF-8/de_DE.UTF-8/C/C/de_DE.UTF-8/de_DE.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> loaded via a namespace (and not attached):
>> [1] tools_2.10.1
>>
>>
>> What could be the problem and how can I solve it?
>> Thank you very much in advance for your time and advices!
>>
>> Hannes
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> David Winsemius, MD
> Heritage Laboratories
> West Hartford, CT
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Heritage Laboratories
West Hartford, CT


From h.nietnagel at googlemail.com  Sat Feb 13 22:08:25 2010
From: h.nietnagel at googlemail.com (Hannes Nietnagel)
Date: Sat, 13 Feb 2010 22:08:25 +0100
Subject: [R-SIG-Mac] Problems with savePlot() and postscript under Snow
	Leopard
In-Reply-To: <15a46d981002131224tc2ed1c5j8e67386b75d95ec1@mail.gmail.com>
References: <15a46d981002131051j66ea0e44p2bca0a36c40e82df@mail.gmail.com>
	<B05900A0-7ACD-4E84-9BA7-95B8FD31CCAE@comcast.net>
	<CCD9BAD1-C05C-4187-B075-8EAA27068B9D@comcast.net>
	<15a46d981002131224tc2ed1c5j8e67386b75d95ec1@mail.gmail.com>
Message-ID: <15a46d981002131308n1b9c6142nd3288e19a3d287f7@mail.gmail.com>

Thanks David for your reply!


> species.n <- as.numeric(iris$Species)
> png("test.png")
> plot(iris, col = species.n)
> dev.off()

That works fine for the png. But I still get the message:
postscript
        3

What does it mean? Is there something wrong with my postscript? I
still cannot produce a decent .eps file.

Thank you!

Hannes




2010/2/13 David Winsemius <dwinsemius at comcast.net>:
>
> On Feb 13, 2010, at 2:53 PM, David Winsemius wrote:
>
>>
>> On Feb 13, 2010, at 1:51 PM, Hannes Nietnagel wrote:
>>
>>> Dear all,
>>>
>>> since my problem could not be solved in the general R mailing list,
>>> I'll post the issue again in this specific mailing list.
>>>
>>> I tried:
>>>>
>>>> iris
>>>> species.n <- as.numeric(Species)
>>
>> It would help if yuo access the column properly. "Species" is only
>> meaningful within "iris".
>>
>>>> plot(iris, col = species.n)
>>>> savePlot(filename="IrisTestPlot", type="png")
>>
>> If you want a png plot then open the png() device and close it when you
>> are done:
>>
>> species.n <- as.numeric(iris$Species)
>> png("test.png")
>> plot(iris, col = species.n)
>> dev.off()
>>
>> Produces the requested plot in the working directory and Preview opens it
>> without problem.
>
> I also got a slightly different sort of success with:
>
> plot(iris, col = species.n)
> quartz.save("test2.png", type="png")
>
> The background was completely transparent. I can see useful application of
> that feature in creating "after-the-fact" overlays of other plots. Reviewing
> the help page for ?quartz, it appears this is the expected result. Plotting
> with the png() device created a white background (as would be expected after
> reading its help page.)
>
> --
> David.
>>>
>>> and got the error message:
>>> Fehler in savePlot(filename = "IrisTestPlot", type = "png") :
>>> kann nur aus 'X11(type="*cairo")' Devices kopieren
>>>
>>> (sorry, I have a german version of R).
>>>
>>> I tried:
>>>>
>>>> postscript("IrisTestPlot.eps",
>>>> paper="special",height=6,width=6,onefile=FALSE,horizontal=FALSE)
>>>
>>> and
>>>
>>>> postscript(file="IrisTestPlot2.pdf", onefile = FALSE, horizontal =
>>>> FALSE, paper = "special", width = 8, height = 8)
>>>
>>> in both cases there are files produced that cannot be opened. Error
>>> message: the bounding box is missing.
>>>
>>>
>>> According to Michael's advice I tried:
>>>>
>>>> quartz.save("IrisTestPlotquartz.png","png")
>>
>>> and got:
>>> postscript
>>> ? ? ?5
>>>
>>> but no file.
>>>
>>> as well as:
>>>>
>>>> system('open IrisTestPlotquartz.png')
>>>
>>> It states that the files does not exist.
>>>
>>> And I tried:
>>>>
>>>> plot(iris)
>>>> dev.cur()
>>>
>>> And got the answer:
>>> postscript
>>> ? ? ? 3
>>> and again no file.
>>>
>>>
>>>
>>> I use 64 bit R under Snow Leopard.
>>>
>>>> sessionInfo()
>>>
>>> R version 2.10.1 (2009-12-14)
>>> x86_64-apple-darwin9.8.0
>>>
>>> locale:
>>> [1] de_DE.UTF-8/de_DE.UTF-8/C/C/de_DE.UTF-8/de_DE.UTF-8
>>>
>>> attached base packages:
>>> [1] stats ? ? graphics ?grDevices utils ? ? datasets ?methods ? base
>>>
>>> loaded via a namespace (and not attached):
>>> [1] tools_2.10.1
>>>
>>>
>>> What could be the problem and how can I solve it?
>>> Thank you very much in advance for your time and advices!
>>>
>>> Hannes
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> David Winsemius, MD
>> Heritage Laboratories
>> West Hartford, CT
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> David Winsemius, MD
> Heritage Laboratories
> West Hartford, CT
>
>


From dwinsemius at comcast.net  Sat Feb 13 23:04:16 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 13 Feb 2010 17:04:16 -0500
Subject: [R-SIG-Mac] Problems with savePlot() and postscript under Snow
	Leopard
In-Reply-To: <15a46d981002131308n1b9c6142nd3288e19a3d287f7@mail.gmail.com>
References: <15a46d981002131051j66ea0e44p2bca0a36c40e82df@mail.gmail.com>
	<B05900A0-7ACD-4E84-9BA7-95B8FD31CCAE@comcast.net>
	<CCD9BAD1-C05C-4187-B075-8EAA27068B9D@comcast.net>
	<15a46d981002131224tc2ed1c5j8e67386b75d95ec1@mail.gmail.com>
	<15a46d981002131308n1b9c6142nd3288e19a3d287f7@mail.gmail.com>
Message-ID: <73DF72A8-82CA-454F-8AB6-676635D8886B@comcast.net>


On Feb 13, 2010, at 4:08 PM, Hannes Nietnagel wrote:

> Thanks David for your reply!
>
>
>> species.n <- as.numeric(iris$Species)
>> png("test.png")
>> plot(iris, col = species.n)
>> dev.off()
>
> That works fine for the png. But I still get the message:
> postscript
>        3
>
> What does it mean? Is there something wrong with my postscript?

I think it is telling you which graohics device is open for plotting.

> I
> still cannot produce a decent .eps file.
>

 From a fresh R session:

 > ?quartz
starting httpd help server ... done
 > ?postscript
 > species.n <- as.numeric(iris$Species)
 > png("test.png")
 > plot(iris, col = species.n)
 > dev.off()
null device
           1
 > postscript("test.eps")
 > plot(iris, col = species.n)
 > dev.off()
null device
           1

I now have two files in my working directory (albeit with different  
aspect ratios). The test.eps file can be read by Preview although it  
needs to be converted to pdf to be displayed,  and then appears  
perfectly normal to me. The help page for postscript() says that  
single plots are eps by default, so I just named it to correspond to  
htat promise. If you post the console message and describe more fully  
what you mean by "cannot produce a decent .eps file", someone might be  
able to comment more fully.

-- 
David.
> Thank you!
>
> Hannes
>
>
>
>
> 2010/2/13 David Winsemius <dwinsemius at comcast.net>:
>>
>> On Feb 13, 2010, at 2:53 PM, David Winsemius wrote:
>>
>>>
>>> On Feb 13, 2010, at 1:51 PM, Hannes Nietnagel wrote:
>>>
>>>> Dear all,
>>>>
>>>> since my problem could not be solved in the general R mailing list,
>>>> I'll post the issue again in this specific mailing list.
>>>>
>>>> I tried:
>>>>>
>>>>> iris
>>>>> species.n <- as.numeric(Species)
>>>
>>> It would help if yuo access the column properly. "Species" is only
>>> meaningful within "iris".
>>>
>>>>> plot(iris, col = species.n)
>>>>> savePlot(filename="IrisTestPlot", type="png")
>>>
>>> If you want a png plot then open the png() device and close it  
>>> when you
>>> are done:
>>>
>>> species.n <- as.numeric(iris$Species)
>>> png("test.png")
>>> plot(iris, col = species.n)
>>> dev.off()
>>>
>>> Produces the requested plot in the working directory and Preview  
>>> opens it
>>> without problem.
>>
>> I also got a slightly different sort of success with:
>>
>> plot(iris, col = species.n)
>> quartz.save("test2.png", type="png")
>>
>> The background was completely transparent. I can see useful  
>> application of
>> that feature in creating "after-the-fact" overlays of other plots.  
>> Reviewing
>> the help page for ?quartz, it appears this is the expected result.  
>> Plotting
>> with the png() device created a white background (as would be  
>> expected after
>> reading its help page.)
>>
>> --
>> David.
>>>>
>>>> and got the error message:
>>>> Fehler in savePlot(filename = "IrisTestPlot", type = "png") :
>>>> kann nur aus 'X11(type="*cairo")' Devices kopieren
>>>>
>>>> (sorry, I have a german version of R).
>>>>
>>>> I tried:
>>>>>
>>>>> postscript("IrisTestPlot.eps",
>>>>> paper="special",height=6,width=6,onefile=FALSE,horizontal=FALSE)
>>>>
>>>> and
>>>>
>>>>> postscript(file="IrisTestPlot2.pdf", onefile = FALSE, horizontal =
>>>>> FALSE, paper = "special", width = 8, height = 8)
>>>>
>>>> in both cases there are files produced that cannot be opened. Error
>>>> message: the bounding box is missing.
>>>>
>>>>
>>>> According to Michael's advice I tried:
>>>>>
>>>>> quartz.save("IrisTestPlotquartz.png","png")
>>>
>>>> and got:
>>>> postscript
>>>>      5
>>>>
>>>> but no file.
>>>>
>>>> as well as:
>>>>>
>>>>> system('open IrisTestPlotquartz.png')
>>>>
>>>> It states that the files does not exist.
>>>>
>>>> And I tried:
>>>>>
>>>>> plot(iris)
>>>>> dev.cur()
>>>>
>>>> And got the answer:
>>>> postscript
>>>>       3
>>>> and again no file.
>>>>
>>>>
>>>>
>>>> I use 64 bit R under Snow Leopard.
>>>>
>>>>> sessionInfo()
>>>>
>>>> R version 2.10.1 (2009-12-14)
>>>> x86_64-apple-darwin9.8.0
>>>>
>>>> locale:
>>>> [1] de_DE.UTF-8/de_DE.UTF-8/C/C/de_DE.UTF-8/de_DE.UTF-8
>>>>
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods    
>>>> base
>>>>
>>>> loaded via a namespace (and not attached):
>>>> [1] tools_2.10.1
>>>>
>>>>
>>>> What could be the problem and how can I solve it?
>>>> Thank you very much in advance for your time and advices!
>>>>
>>>> Hannes
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> David Winsemius, MD
>>> Heritage Laboratories
>>> West Hartford, CT
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> David Winsemius, MD
>> Heritage Laboratories
>> West Hartford, CT
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From h.nietnagel at googlemail.com  Sun Feb 14 14:20:45 2010
From: h.nietnagel at googlemail.com (Hannes Nietnagel)
Date: Sun, 14 Feb 2010 14:20:45 +0100
Subject: [R-SIG-Mac] Problems with savePlot() and postscript under Snow
	Leopard
In-Reply-To: <081629E0-8B0C-49E8-BE3D-3035C9DCEDD1@mac.com>
References: <15a46d981002131051j66ea0e44p2bca0a36c40e82df@mail.gmail.com>
	<B05900A0-7ACD-4E84-9BA7-95B8FD31CCAE@comcast.net>
	<CCD9BAD1-C05C-4187-B075-8EAA27068B9D@comcast.net>
	<15a46d981002131224tc2ed1c5j8e67386b75d95ec1@mail.gmail.com>
	<15a46d981002131308n1b9c6142nd3288e19a3d287f7@mail.gmail.com>
	<73DF72A8-82CA-454F-8AB6-676635D8886B@comcast.net>
	<081629E0-8B0C-49E8-BE3D-3035C9DCEDD1@mac.com>
Message-ID: <15a46d981002140520qd4e1d42p83b3de6f3f58c8e3@mail.gmail.com>

Perfect! Thanks! That works! I tried all your suggestions and got the
same messages like you. In any case, I get png as well as eps. So I
can work with R now.

Again thank you very much for your time and advices!


Hannes



2010/2/13 David Winsemius <dwinsemius at mac.com>:
>
> On Feb 13, 2010, at 5:04 PM, David Winsemius wrote:
>
>>
>> On Feb 13, 2010, at 4:08 PM, Hannes Nietnagel wrote:
>>
>>> Thanks David for your reply!
>>>
>>>
>>>> species.n <- as.numeric(iris$Species)
>>>> png("test.png")
>>>> plot(iris, col = species.n)
>>>> dev.off()
>>>
>>> That works fine for the png. But I still get the message:
>>> postscript
>>> ? ? ?3
>>>
>>> What does it mean? Is there something wrong with my postscript?
>>
>> I think it is telling you which graohics device is open for plotting.
>>
>>> I still cannot produce a decent .eps file.
>>>
>>
>> From a fresh R session:
>>
>> > ?quartz
>> starting httpd help server ... done
>> > ?postscript
>> > species.n <- as.numeric(iris$Species)
>> > png("test.png")
>> > plot(iris, col = species.n)
>> > dev.off()
>> null device
>> ? ? ? ? 1
>> > postscript("test.eps")
>> > plot(iris, col = species.n)
>> > dev.off()
>> null device
>> ? ? ? ? 1
>>
>> I now have two files in my working directory (albeit with different aspect
>> ratios). The test.eps file can be read by Preview although it needs to be
>> converted to pdf to be displayed, ?and then appears perfectly normal to me.
>> The help page for postscript() says that single plots are eps by default, so
>> I just named it to correspond to htat promise. If you post the console
>> message and describe more fully what you mean by "cannot produce a decent
>> .eps file", someone might be able to comment more fully.
>
> One the other hand, efforts to insert that file into an OpenOffice.org
> presentation file results in an error: "Unknown graohic format". However,
> adding 2 out of 3 of the recommended arguments does result in a file that
> can be inserted. I'm not sure what is wrong either with the three argument
> effort (see below) or just using the "file=" argument approach.
>
>> postscript(file="test.eps",horizontal = FALSE, onefile = FALSE)
>> plot(iris, col = species.n)
>> dev.off()
> null device
> ? ? ? ? ?1
>
> When I try with all three arguments I get an error:
>
>> postscript(file="test.eps",horizontal = FALSE, onefile = FALSE, paper =
>> "special")
>> plot(iris, col = species.n)
> Error in plot.new() : figure margins too large
>
>
>
>
>
>>
>> --
>> David.
>>>
>>> Thank you!
>>>
>>> Hannes
>>>
>>>
>>>
>>>
>>> 2010/2/13 David Winsemius <dwinsemius at comcast.net>:
>>>>
>>>> On Feb 13, 2010, at 2:53 PM, David Winsemius wrote:
>>>>
>>>>>
>>>>> On Feb 13, 2010, at 1:51 PM, Hannes Nietnagel wrote:
>>>>>
>>>>>> Dear all,
>>>>>>
>>>>>> since my problem could not be solved in the general R mailing list,
>>>>>> I'll post the issue again in this specific mailing list.
>>>>>>
>>>>>> I tried:
>>>>>>>
>>>>>>> iris
>>>>>>> species.n <- as.numeric(Species)
>>>>>
>>>>> It would help if yuo access the column properly. "Species" is only
>>>>> meaningful within "iris".
>>>>>
>>>>>>> plot(iris, col = species.n)
>>>>>>> savePlot(filename="IrisTestPlot", type="png")
>>>>>
>>>>> If you want a png plot then open the png() device and close it when you
>>>>> are done:
>>>>>
>>>>> species.n <- as.numeric(iris$Species)
>>>>> png("test.png")
>>>>> plot(iris, col = species.n)
>>>>> dev.off()
>>>>>
>>>>> Produces the requested plot in the working directory and Preview opens
>>>>> it
>>>>> without problem.
>>>>
>>>> I also got a slightly different sort of success with:
>>>>
>>>> plot(iris, col = species.n)
>>>> quartz.save("test2.png", type="png")
>>>>
>>>> The background was completely transparent. I can see useful application
>>>> of
>>>> that feature in creating "after-the-fact" overlays of other plots.
>>>> Reviewing
>>>> the help page for ?quartz, it appears this is the expected result.
>>>> Plotting
>>>> with the png() device created a white background (as would be expected
>>>> after
>>>> reading its help page.)
>>>>
>>>> --
>>>> David.
>>>>>>
>>>>>> and got the error message:
>>>>>> Fehler in savePlot(filename = "IrisTestPlot", type = "png") :
>>>>>> kann nur aus 'X11(type="*cairo")' Devices kopieren
>>>>>>
>>>>>> (sorry, I have a german version of R).
>>>>>>
>>>>>> I tried:
>>>>>>>
>>>>>>> postscript("IrisTestPlot.eps",
>>>>>>> paper="special",height=6,width=6,onefile=FALSE,horizontal=FALSE)
>>>>>>
>>>>>> and
>>>>>>
>>>>>>> postscript(file="IrisTestPlot2.pdf", onefile = FALSE, horizontal =
>>>>>>> FALSE, paper = "special", width = 8, height = 8)
>>>>>>
>>>>>> in both cases there are files produced that cannot be opened. Error
>>>>>> message: the bounding box is missing.
>>>>>>
>>>>>>
>>>>>> According to Michael's advice I tried:
>>>>>>>
>>>>>>> quartz.save("IrisTestPlotquartz.png","png")
>>>>>
>>>>>> and got:
>>>>>> postscript
>>>>>> ? ?5
>>>>>>
>>>>>> but no file.
>>>>>>
>>>>>> as well as:
>>>>>>>
>>>>>>> system('open IrisTestPlotquartz.png')
>>>>>>
>>>>>> It states that the files does not exist.
>>>>>>
>>>>>> And I tried:
>>>>>>>
>>>>>>> plot(iris)
>>>>>>> dev.cur()
>>>>>>
>>>>>> And got the answer:
>>>>>> postscript
>>>>>> ? ? 3
>>>>>> and again no file.
>>>>>>
>>>>>>
>>>>>>
>>>>>> I use 64 bit R under Snow Leopard.
>>>>>>
>>>>>>> sessionInfo()
>>>>>>
>>>>>> R version 2.10.1 (2009-12-14)
>>>>>> x86_64-apple-darwin9.8.0
>>>>>>
>>>>>> locale:
>>>>>> [1] de_DE.UTF-8/de_DE.UTF-8/C/C/de_DE.UTF-8/de_DE.UTF-8
>>>>>>
>>>>>> attached base packages:
>>>>>> [1] stats ? ? graphics ?grDevices utils ? ? datasets ?methods ? base
>>>>>>
>>>>>> loaded via a namespace (and not attached):
>>>>>> [1] tools_2.10.1
>>>>>>
>>>>>>
>>>>>> What could be the problem and how can I solve it?
>>>>>> Thank you very much in advance for your time and advices!
>>>>>>
>>>>>> Hannes
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>> David Winsemius, MD
>>>>> Heritage Laboratories
>>>>> West Hartford, CT
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>> David Winsemius, MD
>>>> Heritage Laboratories
>>>> West Hartford, CT
>>>>
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
>


From b.northcott at unsw.edu.au  Mon Feb 15 07:05:40 2010
From: b.northcott at unsw.edu.au (William Northcott)
Date: Mon, 15 Feb 2010 17:05:40 +1100
Subject: [R-SIG-Mac] R GUI with different version of R
In-Reply-To: <mailman.184.1266098671.18093.r-sig-mac@stat.math.ethz.ch>
References: <mailman.184.1266098671.18093.r-sig-mac@stat.math.ethz.ch>
Message-ID: <5F21AD7F-D3F5-42FB-9836-8545BE578387@unsw.edu.au>

I have multiple versions of R installed.

The default is set with RSwitch to 2.9.  This is what runs from a shell.

If I start the R.app gui which is from 2.10 I get a crash:
> 
> Type 'q()' to quit R.
> 
> Error in strsplit(x[ok], "[.-]") : 
>   5 arguments passed to .Internal(strsplit) which requires 6
> Error in strsplit(msg, "\n") : 
>   5 arguments passed to .Internal(strsplit) which requires 6
> Error in strsplit(x[ok], "[.-]") : 
>   5 arguments passed to .Internal(strsplit) which requires 6
> 
>  *** caught segfault ***
> address 0xc000000c, cause 'memory not mapped'
> 
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit

As I understood the FAQ this should have worked.  Is it possible to use a current R gui with older frameworks?

Thanks
Bill Northcott

From baptiste.auguie at googlemail.com  Sat Feb 13 17:52:48 2010
From: baptiste.auguie at googlemail.com (baptiste auguie)
Date: Sat, 13 Feb 2010 17:52:48 +0100
Subject: [R-SIG-Mac] [R] Sweave, lty = 3 line incorect in pdf output
In-Reply-To: <CFAC78CA-EFA8-467B-8E89-131277BB0940@r-project.org>
References: <alpine.LRH.2.01.1002110739490.6903@hymn33.u.washington.edu>
	<20100212191829.94y73jgqo00okkgg@imp.inserm.fr>
	<loom.20100212T222239-954@post.gmane.org>
	<CFAC78CA-EFA8-467B-8E89-131277BB0940@r-project.org>
Message-ID: <de4e29f51002130852o7be5bc07h2abec3cd68c8ba76@mail.gmail.com>

Hi,

I'm slightly confused here, what you (Simon) describe looks a lot like
PR#14128 which was fixed last December,

------------------------------------------------------------------------
r50695 | ripley | 2009-12-09 13:37:27 +0100 (Wed, 09 Dec 2009) | 1 line

adjust line textures for butt end caps on postscript() and pdf() devices
------------------------------------------------------------------------

Was there another bug lurking around that only got apparent after this
change or is it unrelated? I checked the diff between the two versions
but I'm still not sure.

Thanks,

baptiste



On 13 February 2010 17:30, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>
> On Feb 12, 2010, at 4:37 PM, Ken Knoblauch wrote:
>
>> Ken Knoblauch <ken.knoblauch <at> inserm.fr> writes:
>>> First, I want to thank everybody who responded for their
>>> helpful comments and suggestions, though the problem is
>>> still unresolved and if anyone has any additional ideas,
>>> I would be grateful. ?Second, if I can test your patience
>>> just a bit more, I have found an additional clue that
>>> perhaps will help solve the mystery of the missing dotted
>>> lines (on my system, apparently).
>>>
>>> I tried on another Leopard system (64 bit R) with the same result, and then
>>> on a system running Tiger (all with a version of R 2.10.1 patched),
>>> The dotted lines appeared on Tiger. ?I transferred the Tiger generated
>>> file to my Leopard Mac and the dotted line appears on the viewer,
>>> here, as well. ?So, I investigated how the files might differ
>>> and the only thing that I can find is that the Tiger generated
>>> version contains the lines
>>>
>>> 1 J
>>> 1 j
>>>
>>> whereas, in the Leopard generated version, I only see
>>>
>>> 1 j
>>>
>>> If I add a line of 1 J to the Leopard generated file, after line 35,
>>> the dotted lines do appear in my viewer.
>>>
>>> I don't know what these commands do in pdf (I don't speak pdf).
>>> Would anyone have an idea what could have happened that my pdf()
>>> command does not produce them and most importantly, any ideas on
>>> how to fix it?
>>
>>>>> --
>>>>> Ken Knoblauch
>>>>> Inserm U846
>>>>> Stem-cell and Brain Research Institute
>>>>> Department of Integrative Neurosciences
>>>>> 18 avenue du Doyen L?pine
>>>>> 69500 Bron
>>>>> France
>>>>> tel: +33 (0)4 72 91 34 77
>>>>> fax: +33 (0)4 72 91 34 61
>>>>> portable: +33 (0)6 84 10 64 10
>>>>> http://www.sbri.fr/members/kenneth-knoblauch.html
>>
>> Some additional search in the pdf reference manual and I found that
>> 1 j refers to linejoin choice (ljoin = 1 in par)
>> 1 J to line end (lend = 1 in par)
>>
>>> From this I tried,
>>
>>
>> pdf(file = "testPP.pdf")
>> par(lend = 1) # the default is 0 according to ?par
>> x <- 1:10
>> plot(x, type = "l", lty = 3, lwd = 3)
>> lines(x, 0.5 * x)
>> dev.off()
>>
>> which produces the correct dotted line (in my viewer)...
>>
>
> Great, I think I know what's happening. The good news is that I have committed the fix to R. Let me explain what we see and then the issue.
>
> The issue comes from the fact that dots in lines are created by using 0-length pattern segments. What this means is that the appearance is mainly defined by the line end setting:
>
> lend0 = PDF1 = round = circle
> lend1 = PDF0 = butt = nothing since it's a rectangle of the length 0
> lend2 = PDF2 = square = squares in the direction of the line
>
> So what happens in the case where you see nothing is that the line end is set to butt (lend=1 -> 0 J) which produces 0-width rectangles and thus is invisible.
>
> The main bug was that the PDF device failed to set the line end (in the PDF) if the texture (lty) was also to be set. Therefore R would think that it changed the line cap to round, but in fact it did not so it was up to the viewer's default what the line cap would be. If it happened to be butt then the line would become invisible, because R thought it's round so it can use 0-length segment. R is smart enough to use 1-length segment if the type is butt cap so that's why butt cap worked for you. The difference in the output was due to the difference in R versions - not really due to OS versions - because the behavior wrt line cap = butt was changed between R 2.10.1 release and now.
>
> That is now all fixed in R-devel and R-patched.
>
> Thanks for your persistence, Ken, your digging was very helpful to pinpoint he right spot and the bug was not Mac-specific (in fact Quartz was unaffected), so many R users will be thankful :).
>
> Thanks,
> Simon
>
>
>
>> I can add par(lend = 1) throughout my Sweave document, I guess.
>> If anybody has any further suggestions, or how to fix this globally,
>> I'm interested in hearing from you. ?Thanks.
>>
>> Ken
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From dwinsemius at mac.com  Sat Feb 13 23:59:31 2010
From: dwinsemius at mac.com (David Winsemius)
Date: Sat, 13 Feb 2010 17:59:31 -0500
Subject: [R-SIG-Mac] Problems with savePlot() and postscript under Snow
	Leopard
In-Reply-To: <73DF72A8-82CA-454F-8AB6-676635D8886B@comcast.net>
References: <15a46d981002131051j66ea0e44p2bca0a36c40e82df@mail.gmail.com>
	<B05900A0-7ACD-4E84-9BA7-95B8FD31CCAE@comcast.net>
	<CCD9BAD1-C05C-4187-B075-8EAA27068B9D@comcast.net>
	<15a46d981002131224tc2ed1c5j8e67386b75d95ec1@mail.gmail.com>
	<15a46d981002131308n1b9c6142nd3288e19a3d287f7@mail.gmail.com>
	<73DF72A8-82CA-454F-8AB6-676635D8886B@comcast.net>
Message-ID: <081629E0-8B0C-49E8-BE3D-3035C9DCEDD1@mac.com>


On Feb 13, 2010, at 5:04 PM, David Winsemius wrote:

>
> On Feb 13, 2010, at 4:08 PM, Hannes Nietnagel wrote:
>
>> Thanks David for your reply!
>>
>>
>>> species.n <- as.numeric(iris$Species)
>>> png("test.png")
>>> plot(iris, col = species.n)
>>> dev.off()
>>
>> That works fine for the png. But I still get the message:
>> postscript
>>       3
>>
>> What does it mean? Is there something wrong with my postscript?
>
> I think it is telling you which graohics device is open for plotting.
>
>> I still cannot produce a decent .eps file.
>>
>
> From a fresh R session:
>
> > ?quartz
> starting httpd help server ... done
> > ?postscript
> > species.n <- as.numeric(iris$Species)
> > png("test.png")
> > plot(iris, col = species.n)
> > dev.off()
> null device
>          1
> > postscript("test.eps")
> > plot(iris, col = species.n)
> > dev.off()
> null device
>          1
>
> I now have two files in my working directory (albeit with different  
> aspect ratios). The test.eps file can be read by Preview although it  
> needs to be converted to pdf to be displayed,  and then appears  
> perfectly normal to me. The help page for postscript() says that  
> single plots are eps by default, so I just named it to correspond to  
> htat promise. If you post the console message and describe more  
> fully what you mean by "cannot produce a decent .eps file", someone  
> might be able to comment more fully.

One the other hand, efforts to insert that file into an OpenOffice.org  
presentation file results in an error: "Unknown graohic format".  
However, adding 2 out of 3 of the recommended arguments does result in  
a file that can be inserted. I'm not sure what is wrong either with  
the three argument effort (see below) or just using the "file="  
argument approach.

 > postscript(file="test.eps",horizontal = FALSE, onefile = FALSE)
 > plot(iris, col = species.n)
 > dev.off()
null device
           1

When I try with all three arguments I get an error:

 > postscript(file="test.eps",horizontal = FALSE, onefile = FALSE,  
paper = "special")
 > plot(iris, col = species.n)
Error in plot.new() : figure margins too large





>
> -- 
> David.
>> Thank you!
>>
>> Hannes
>>
>>
>>
>>
>> 2010/2/13 David Winsemius <dwinsemius at comcast.net>:
>>>
>>> On Feb 13, 2010, at 2:53 PM, David Winsemius wrote:
>>>
>>>>
>>>> On Feb 13, 2010, at 1:51 PM, Hannes Nietnagel wrote:
>>>>
>>>>> Dear all,
>>>>>
>>>>> since my problem could not be solved in the general R mailing  
>>>>> list,
>>>>> I'll post the issue again in this specific mailing list.
>>>>>
>>>>> I tried:
>>>>>>
>>>>>> iris
>>>>>> species.n <- as.numeric(Species)
>>>>
>>>> It would help if yuo access the column properly. "Species" is only
>>>> meaningful within "iris".
>>>>
>>>>>> plot(iris, col = species.n)
>>>>>> savePlot(filename="IrisTestPlot", type="png")
>>>>
>>>> If you want a png plot then open the png() device and close it  
>>>> when you
>>>> are done:
>>>>
>>>> species.n <- as.numeric(iris$Species)
>>>> png("test.png")
>>>> plot(iris, col = species.n)
>>>> dev.off()
>>>>
>>>> Produces the requested plot in the working directory and Preview  
>>>> opens it
>>>> without problem.
>>>
>>> I also got a slightly different sort of success with:
>>>
>>> plot(iris, col = species.n)
>>> quartz.save("test2.png", type="png")
>>>
>>> The background was completely transparent. I can see useful  
>>> application of
>>> that feature in creating "after-the-fact" overlays of other plots.  
>>> Reviewing
>>> the help page for ?quartz, it appears this is the expected result.  
>>> Plotting
>>> with the png() device created a white background (as would be  
>>> expected after
>>> reading its help page.)
>>>
>>> --
>>> David.
>>>>>
>>>>> and got the error message:
>>>>> Fehler in savePlot(filename = "IrisTestPlot", type = "png") :
>>>>> kann nur aus 'X11(type="*cairo")' Devices kopieren
>>>>>
>>>>> (sorry, I have a german version of R).
>>>>>
>>>>> I tried:
>>>>>>
>>>>>> postscript("IrisTestPlot.eps",
>>>>>> paper="special",height=6,width=6,onefile=FALSE,horizontal=FALSE)
>>>>>
>>>>> and
>>>>>
>>>>>> postscript(file="IrisTestPlot2.pdf", onefile = FALSE,  
>>>>>> horizontal =
>>>>>> FALSE, paper = "special", width = 8, height = 8)
>>>>>
>>>>> in both cases there are files produced that cannot be opened.  
>>>>> Error
>>>>> message: the bounding box is missing.
>>>>>
>>>>>
>>>>> According to Michael's advice I tried:
>>>>>>
>>>>>> quartz.save("IrisTestPlotquartz.png","png")
>>>>
>>>>> and got:
>>>>> postscript
>>>>>     5
>>>>>
>>>>> but no file.
>>>>>
>>>>> as well as:
>>>>>>
>>>>>> system('open IrisTestPlotquartz.png')
>>>>>
>>>>> It states that the files does not exist.
>>>>>
>>>>> And I tried:
>>>>>>
>>>>>> plot(iris)
>>>>>> dev.cur()
>>>>>
>>>>> And got the answer:
>>>>> postscript
>>>>>      3
>>>>> and again no file.
>>>>>
>>>>>
>>>>>
>>>>> I use 64 bit R under Snow Leopard.
>>>>>
>>>>>> sessionInfo()
>>>>>
>>>>> R version 2.10.1 (2009-12-14)
>>>>> x86_64-apple-darwin9.8.0
>>>>>
>>>>> locale:
>>>>> [1] de_DE.UTF-8/de_DE.UTF-8/C/C/de_DE.UTF-8/de_DE.UTF-8
>>>>>
>>>>> attached base packages:
>>>>> [1] stats     graphics  grDevices utils     datasets  methods    
>>>>> base
>>>>>
>>>>> loaded via a namespace (and not attached):
>>>>> [1] tools_2.10.1
>>>>>
>>>>>
>>>>> What could be the problem and how can I solve it?
>>>>> Thank you very much in advance for your time and advices!
>>>>>
>>>>> Hannes
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>> David Winsemius, MD
>>>> Heritage Laboratories
>>>> West Hartford, CT
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>> David Winsemius, MD
>>> Heritage Laboratories
>>> West Hartford, CT
>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From ripley at stats.ox.ac.uk  Mon Feb 15 09:47:25 2010
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 15 Feb 2010 08:47:25 +0000 (GMT)
Subject: [R-SIG-Mac] Problems with savePlot() and postscript under Snow
 Leopard
In-Reply-To: <081629E0-8B0C-49E8-BE3D-3035C9DCEDD1@mac.com>
References: <15a46d981002131051j66ea0e44p2bca0a36c40e82df@mail.gmail.com>
	<B05900A0-7ACD-4E84-9BA7-95B8FD31CCAE@comcast.net>
	<CCD9BAD1-C05C-4187-B075-8EAA27068B9D@comcast.net>
	<15a46d981002131224tc2ed1c5j8e67386b75d95ec1@mail.gmail.com>
	<15a46d981002131308n1b9c6142nd3288e19a3d287f7@mail.gmail.com>
	<73DF72A8-82CA-454F-8AB6-676635D8886B@comcast.net>
	<081629E0-8B0C-49E8-BE3D-3035C9DCEDD1@mac.com>
Message-ID: <alpine.LFD.2.00.1002150841100.18037@gannet.stats.ox.ac.uk>

On Sat, 13 Feb 2010, David Winsemius wrote:

>
> On Feb 13, 2010, at 5:04 PM, David Winsemius wrote:
>
>> 
>> On Feb 13, 2010, at 4:08 PM, Hannes Nietnagel wrote:
>> 
>>> Thanks David for your reply!
>>> 
>>> 
>>>> species.n <- as.numeric(iris$Species)
>>>> png("test.png")
>>>> plot(iris, col = species.n)
>>>> dev.off()
>>> 
>>> That works fine for the png. But I still get the message:
>>> postscript
>>>      3
>>> 
>>> What does it mean? Is there something wrong with my postscript?
>> 
>> I think it is telling you which graohics device is open for plotting.
>> 
>>> I still cannot produce a decent .eps file.
>>> 
>> 
>> From a fresh R session:
>> 
>>> ?quartz
>> starting httpd help server ... done
>>> ?postscript
>>> species.n <- as.numeric(iris$Species)
>>> png("test.png")
>>> plot(iris, col = species.n)
>>> dev.off()
>> null device
>>         1
>>> postscript("test.eps")
>>> plot(iris, col = species.n)
>>> dev.off()
>> null device
>>         1
>> 
>> I now have two files in my working directory (albeit with different aspect 
>> ratios). The test.eps file can be read by Preview although it needs to be 
>> converted to pdf to be displayed,  and then appears perfectly normal to me. 
>> The help page for postscript() says that single plots are eps by default, 
>> so I just named it to correspond to htat promise. If you post the console 
>> message and describe more fully what you mean by "cannot produce a decent 
>> .eps file", someone might be able to comment more fully.
>
> One the other hand, efforts to insert that file into an OpenOffice.org 
> presentation file results in an error: "Unknown graohic format". However, 
> adding 2 out of 3 of the recommended arguments does result in a file that can 
> be inserted. I'm not sure what is wrong either with the three argument effort 
> (see below) or just using the "file=" argument approach.
>
>> postscript(file="test.eps",horizontal = FALSE, onefile = FALSE)
>> plot(iris, col = species.n)
>> dev.off()
> null device
>         1
>
> When I try with all three arguments I get an error:
>
>> postscript(file="test.eps",horizontal = FALSE, onefile = FALSE, paper = 
>> "special")
>> plot(iris, col = species.n)
> Error in plot.new() : figure margins too large

You did not specify the size of the 'special' paper: use width=, 
height=.

If you just use file= you

1) may get a rotated plot (and will if the factory-fresh default for 
horizontal= is in place).
2) get a header that does not declare this is EPS, and some including 
applications will fail to include it (properly or at all).
3) get a plot with margins on the default paper size (A4 or US 
letter), which is not what one wants for inclusion.


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Mon Feb 15 14:59:01 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 15 Feb 2010 08:59:01 -0500
Subject: [R-SIG-Mac] R GUI with different version of R
In-Reply-To: <5F21AD7F-D3F5-42FB-9836-8545BE578387@unsw.edu.au>
References: <mailman.184.1266098671.18093.r-sig-mac@stat.math.ethz.ch>
	<5F21AD7F-D3F5-42FB-9836-8545BE578387@unsw.edu.au>
Message-ID: <EED10392-C2D0-4280-96B3-F361C6A83F7F@r-project.org>


On Feb 15, 2010, at 1:05 AM, William Northcott wrote:

> I have multiple versions of R installed.
> 
> The default is set with RSwitch to 2.9.  This is what runs from a shell.
> 
> If I start the R.app gui which is from 2.10 I get a crash:
>> 
>> Type 'q()' to quit R.
>> 
>> Error in strsplit(x[ok], "[.-]") : 
>>  5 arguments passed to .Internal(strsplit) which requires 6
>> Error in strsplit(msg, "\n") : 
>>  5 arguments passed to .Internal(strsplit) which requires 6
>> Error in strsplit(x[ok], "[.-]") : 
>>  5 arguments passed to .Internal(strsplit) which requires 6
>> 
>> *** caught segfault ***
>> address 0xc000000c, cause 'memory not mapped'
>> 
>> Possible actions:
>> 1: abort (with core dump, if enabled)
>> 2: normal R exit
> 
> As I understood the FAQ this should have worked.

No -- see FAQ 12.15:

"The advanatage of this setup is that it is possible to install multiple R versions in parallel and they all will be fully functional as long as the Current symbolic link points to the currently used version."

Note the last part of the sentence.


>  Is it possible to use a current R gui with older frameworks?
> 

No, the GUI embeds R so a given binary works only with a very specific version of R. You can *compile* the GUI for any R version but the binary will be tied to a specific R version.

Cheers,
Simon


From dwinsemius at mac.com  Mon Feb 15 17:40:35 2010
From: dwinsemius at mac.com (David Winsemius)
Date: Mon, 15 Feb 2010 11:40:35 -0500
Subject: [R-SIG-Mac] Problems with savePlot() and postscript under Snow
	Leopard
In-Reply-To: <alpine.LFD.2.00.1002150841100.18037@gannet.stats.ox.ac.uk>
References: <15a46d981002131051j66ea0e44p2bca0a36c40e82df@mail.gmail.com>
	<B05900A0-7ACD-4E84-9BA7-95B8FD31CCAE@comcast.net>
	<CCD9BAD1-C05C-4187-B075-8EAA27068B9D@comcast.net>
	<15a46d981002131224tc2ed1c5j8e67386b75d95ec1@mail.gmail.com>
	<15a46d981002131308n1b9c6142nd3288e19a3d287f7@mail.gmail.com>
	<73DF72A8-82CA-454F-8AB6-676635D8886B@comcast.net>
	<081629E0-8B0C-49E8-BE3D-3035C9DCEDD1@mac.com>
	<alpine.LFD.2.00.1002150841100.18037@gannet.stats.ox.ac.uk>
Message-ID: <791EDBB7-317F-44F0-966D-F86189A8991A@mac.com>


On Feb 15, 2010, at 3:47 AM, Prof Brian Ripley wrote:

> On Sat, 13 Feb 2010, David Winsemius wrote:
>
>>
>> On Feb 13, 2010, at 5:04 PM, David Winsemius wrote:
>>
>>> On Feb 13, 2010, at 4:08 PM, Hannes Nietnagel wrote:
>>>> Thanks David for your reply!
>>>>> species.n <- as.numeric(iris$Species)
>>>>> png("test.png")
>>>>> plot(iris, col = species.n)
>>>>> dev.off()
>>>> That works fine for the png. But I still get the message:
>>>> postscript
>>>>     3
>>>> What does it mean? Is there something wrong with my postscript?
>>> I think it is telling you which graohics device is open for  
>>> plotting.
>>>> I still cannot produce a decent .eps file.
>>> From a fresh R session:
>>>> ?quartz
>>> starting httpd help server ... done
>>>> ?postscript
>>>> species.n <- as.numeric(iris$Species)
>>>> png("test.png")
>>>> plot(iris, col = species.n)
>>>> dev.off()
>>> null device
>>>        1
>>>> postscript("test.eps")
>>>> plot(iris, col = species.n)
>>>> dev.off()
>>> null device
>>>        1
>>> I now have two files in my working directory (albeit with  
>>> different aspect ratios). The test.eps file can be read by Preview  
>>> although it needs to be converted to pdf to be displayed,  and  
>>> then appears perfectly normal to me. The help page for  
>>> postscript() says that single plots are eps by default, so I just  
>>> named it to correspond to htat promise. If you post the console  
>>> message and describe more fully what you mean by "cannot produce a  
>>> decent .eps file", someone might be able to comment more fully.
>>
>> One the other hand, efforts to insert that file into an  
>> OpenOffice.org presentation file results in an error: "Unknown  
>> graohic format". However, adding 2 out of 3 of the recommended  
>> arguments does result in a file that can be inserted. I'm not sure  
>> what is wrong either with the three argument effort (see below) or  
>> just using the "file=" argument approach.
>>
>>> postscript(file="test.eps",horizontal = FALSE, onefile = FALSE)
>>> plot(iris, col = species.n)
>>> dev.off()
>> null device
>>        1
>>
>> When I try with all three arguments I get an error:
>>
>>> postscript(file="test.eps",horizontal = FALSE, onefile = FALSE,  
>>> paper = "special")
>>> plot(iris, col = species.n)
>> Error in plot.new() : figure margins too large
>
> You did not specify the size of the 'special' paper: use width=,  
> height=.
>
> If you just use file= you
>
> 1) may get a rotated plot (and will if the factory-fresh default for  
> horizontal= is in place).
> 2) get a header that does not declare this is EPS, and some  
> including applications will fail to include it (properly or at all).
> 3) get a plot with margins on the default paper size (A4 or US  
> letter), which is not what one wants for inclusion.

Thank you. Adding the height and width arguments to the last device  
call succeeds in creating a file which OO.org's Impress program is  
able to insert.

It is no longer readable by Preview.app, however. I am surmising that  
Preview is only able to read postscript files that are "complete" in  
some sense.

-- 
David.

>
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From b.northcott at unsw.edu.au  Mon Feb 15 23:04:02 2010
From: b.northcott at unsw.edu.au (William Northcott)
Date: Tue, 16 Feb 2010 09:04:02 +1100
Subject: [R-SIG-Mac] R GUI with different version of R
In-Reply-To: <EED10392-C2D0-4280-96B3-F361C6A83F7F@r-project.org>
References: <mailman.184.1266098671.18093.r-sig-mac@stat.math.ethz.ch>
	<5F21AD7F-D3F5-42FB-9836-8545BE578387@unsw.edu.au>
	<EED10392-C2D0-4280-96B3-F361C6A83F7F@r-project.org>
Message-ID: <5BAC5A7E-EA2E-4177-B6CD-6F9BE4949958@unsw.edu.au>

On 16/02/2010, at 12:59 AM, Simon Urbanek wrote:
> No -- see FAQ 12.15:
> 
> "The advanatage of this setup is that it is possible to install multiple R versions in parallel and they all will be fully functional as long as the Current symbolic link points to the currently used version."
> 
> Note the last part of the sentence.

The meaning of this was not clear to me.  Indeed they will not be fully functional: only one will work with R GUI.

>> Is it possible to use a current R gui with older frameworks?
>> 
> 
> No, the GUI embeds R so a given binary works only with a very specific version of R. You can *compile* the GUI for any R version but the binary will be tied to a specific R version.

That is very clear and perhaps it should be in the FAQ.

Thanks
Bill


From kevin.j.owens at gmail.com  Tue Feb 16 21:20:36 2010
From: kevin.j.owens at gmail.com (Kevin Owens)
Date: Tue, 16 Feb 2010 14:20:36 -0600
Subject: [R-SIG-Mac] Crash on package install using package installer
Message-ID: <4B7AFE14.6060404@gmail.com>

I tried to install an R package through the Package Installer in the 
R.app, but the program becomes unresponsive. I have been able to install 
packages through it before. I haven't tried installing packages another 
way because I don't know how to yet. I have attached r-crash-100216.txt 
(171 kB), the crash report it generated when i forced R.app to quit.

Kevin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100216/0590db4f/attachment-0001.html>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: r-crash-100216.txt
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100216/0590db4f/attachment-0001.txt>

From andrej.kastrin at gmail.com  Tue Feb 16 22:19:40 2010
From: andrej.kastrin at gmail.com (Andrej)
Date: Tue, 16 Feb 2010 13:19:40 -0800 (PST)
Subject: [R-SIG-Mac] Bitmap and undesired rotated figure
Message-ID: <7e0a3c55-107d-4674-ad37-9b6a26dcea1a@q29g2000yqn.googlegroups.com>

Hi,

I encounter the problem using bitmap function to plot pdf type figures
in an array (calling mfrow function). Consider the following three
examples:

# Example 1
bitmap("test1.pdf", type="pdfwrite", units="mm", height=50, width=100)
par(mfrow=c(1,2))
plot(1:5)
plot(1:10)
dev.off()

# Example 2
pdf("test2.pdf",height=5,width=10)
par(mfrow=c(1,2))
plot(1:5)
plot(1:10)
dev.off()

# Example 3
bitmap("test3.pdf", type="pdfwrite", units="mm", height=50, width=100)
par(mfrow=c(1,2))
plot(rnorm(100))
plot(rnorm(100))
dev.off()

In Example1 the figure is roteted; this is not the case in the Example
3 where I call rnorm() function. Example 2 seems fine. The gs version
installed is:

gs -v
GPL Ghostscript 8.70 (2009-07-31)
Copyright (C) 2009 Artifex Software, Inc.  All rights reserved.

Could somebody reproduce these examples and/or explain me why the
plots in the second example are rotated.

Thanks in advance.

Best, Andrej


From simon.urbanek at r-project.org  Tue Feb 16 22:29:09 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 16 Feb 2010 16:29:09 -0500
Subject: [R-SIG-Mac] Crash on package install using package installer
In-Reply-To: <4B7AFE14.6060404@gmail.com>
References: <4B7AFE14.6060404@gmail.com>
Message-ID: <8B8CC49A-C260-4680-A30C-635EF2BAF352@r-project.org>


On Feb 16, 2010, at 15:20 , Kevin Owens wrote:

> I tried to install an R package through the Package Installer in the  
> R.app, but the program becomes unresponsive. I have been able to  
> install packages through it before. I haven't tried installing  
> packages another way because I don't know how to yet. I have  
> attached r-crash-100216.txt (171 kB), the crash report it generated  
> when i forced R.app to quit.

That is not a crash -- it simply using HTTP i.e. your internet  
connections is probably very slow. Try using different mirror or just  
wait since it takes long to download the package(s). The control is  
returned from R to the GUI only when it's finished downloading, so it  
won't do anything until the download is complete.

Cheers,
Simon


From ripley at stats.ox.ac.uk  Wed Feb 17 09:56:24 2010
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 17 Feb 2010 08:56:24 +0000 (GMT)
Subject: [R-SIG-Mac] Bitmap and undesired rotated figure
In-Reply-To: <7e0a3c55-107d-4674-ad37-9b6a26dcea1a@q29g2000yqn.googlegroups.com>
References: <7e0a3c55-107d-4674-ad37-9b6a26dcea1a@q29g2000yqn.googlegroups.com>
Message-ID: <alpine.LFD.2.00.1002170837330.24828@gannet.stats.ox.ac.uk>

First, this is not what 'bitmap' is intended for.  R has a pdf() 
device, and on Macs quartz() can produce PDF: producing PostScript and 
converting it to PDF is cumbersome and you have given us no indication 
of why you did this (and it is not a good idea for other reasons: see 
the last para of my reply).

You have experienced a design decision that ps2pdf copied from Acrobat 
Distiller, which is auto-rotation of pages into PDF.  It has puzzled 
users many times over the years (including on R mailing lists), not 
least as the defaults in gs were changed not long after I wrote 
bitmap().

Auto-rotation is done by default page-by-page based on the orientation 
of all of the text on the page, and in your examples the axis 
labelling is the only text and is about half/half landscape and 
portrait. In examples 1 and 3, the axis labeliing differs and the 
decision is different.

AFAICS you have not told us your version of R (see the R posting guide 
which asked for it), and there is a typo in some. Look for a line 
like

                  " -dAutoRotatePages=/None",

in bitmap().  If it does not have a space after the first quote, edit 
bitmap to add it: this should then suppress auto-rotation.

Finally, a technical point.  Although type="pdfwrite" works, it does 
not set up gs optimally for that conversion and so works less well 
that simply producing PostScript and calling ps2pdf -- but you will 
need to suppress auto-rotation there too.


On Tue, 16 Feb 2010, Andrej wrote:

> Hi,
>
> I encounter the problem using bitmap function to plot pdf type figures
> in an array (calling mfrow function). Consider the following three
> examples:
>
> # Example 1
> bitmap("test1.pdf", type="pdfwrite", units="mm", height=50, width=100)
> par(mfrow=c(1,2))
> plot(1:5)
> plot(1:10)
> dev.off()
>
> # Example 2
> pdf("test2.pdf",height=5,width=10)
> par(mfrow=c(1,2))
> plot(1:5)
> plot(1:10)
> dev.off()
>
> # Example 3
> bitmap("test3.pdf", type="pdfwrite", units="mm", height=50, width=100)
> par(mfrow=c(1,2))
> plot(rnorm(100))
> plot(rnorm(100))
> dev.off()
>
> In Example1 the figure is roteted; this is not the case in the Example
> 3 where I call rnorm() function. Example 2 seems fine. The gs version
> installed is:
>
> gs -v
> GPL Ghostscript 8.70 (2009-07-31)
> Copyright (C) 2009 Artifex Software, Inc.  All rights reserved.
>
> Could somebody reproduce these examples and/or explain me why the
> plots in the second example are rotated.
>
> Thanks in advance.
>
> Best, Andrej
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From aoganyan at georgiasouthern.edu  Sat Feb 20 09:07:25 2010
From: aoganyan at georgiasouthern.edu (Anna Oganyan)
Date: Sat, 20 Feb 2010 03:07:25 -0500
Subject: [R-SIG-Mac] RGtk2 problems
Message-ID: <4B7F52DD.660A.00DD.0@georgiasouthern.edu>

Dear all,
I would like to ask about package RGtk2 with which I have a problem.
I will very much appreciate if somebody could tell me what I need to do.
I need to install a  package scdMicro and it depends on gWidgetsRGtk2.
I am working on MAC, version 10.5.8. I have the latest R version (2.10.1).
When I try to load gWidgetsRGtk2 (or RGtk2), it asks me:
"Instal GTK+?"

I installed RGtk2 (version 2.14.3 from  http://r.research.att.com/gtk2-runtime.dmg
), and added a path:

export PATH=$PATH:/Library/Frameworks/GTK+.framework/Resources/bin

But next time I try to load gWidgetsRGtk2 (or RGtk2), I get the same message: "Instal GTK+?"  
And of course all packages dependent from RGtk2 are not loading.

I also tried to install GTK 2.18.5-X11.pkg (from http://r.research.att.com/libs/GTK_2.18.5-X11.pkg ) - but in this 
case when I try to load RGtk2 - R hangs.

Below I included the error message I get when RGtk version 2.14.3 is installed.
__________________________________________________________________________________
Loading required package: gWidgetsRGtk2
Loading required package: gWidgets
Error in dyn.load(file, DLLpath = DLLpath, ...) : 
  unable to load shared library '/Users/aoganyan/Library/R/2.10/library/RGtk2/libs/i386/RGtk2.so':
  dlopen(/Users/aoganyan/Library/R/2.10/library/RGtk2/libs/i386/RGtk2.so, 6): Library not loaded: /Library/Frameworks/GTK+.framework/Resources/lib/libgtk-x11-2.0.0.dylib
  Referenced from: /Users/aoganyan/Library/R/2.10/library/RGtk2/libs/i386/RGtk2.so
  Reason: Incompatible library version: RGtk2.so requires version 1801.0.0 or later, but libgtk-x11-2.0.0.dylib provides version 1401.0.0
In addition: Warning message:
In fun(...) : couldn't connect to display "/tmp/launch-WrMGBi/:0"
Failed to load RGtk2 dynamic library, attempting to install it.
Error in if (choice == 1) { : argument is of length zero
Error : .onLoad failed in 'loadNamespace' for 'RGtk2'
Error: package 'gWidgetsRGtk2' could not be loaded
starting httpd help server ... done
Error in dyn.load(file, DLLpath = DLLpath, ...) : 
  unable to load shared library '/Users/aoganyan/Library/R/2.10/library/RGtk2/libs/i386/RGtk2.so':
  dlopen(/Users/aoganyan/Library/R/2.10/library/RGtk2/libs/i386/RGtk2.so, 6): Library not loaded: /Library/Frameworks/GTK+.framework/Resources/lib/libgtk-x11-2.0.0.dylib
  Referenced from: /Users/aoganyan/Library/R/2.10/library/RGtk2/libs/i386/RGtk2.so
  Reason: Incompatible library version: RGtk2.so requires version 1801.0.0 or later, but libgtk-x11-2.0.0.dylib provides version 1401.0.0
Failed to load RGtk2 dynamic library, attempting to install it.
Error in if (choice == 1) { : argument is of length zero
Error : .onLoad failed in 'loadNamespace' for 'RGtk2'
Error: package/namespace load failed for 'gWidgetsRGtk2'
Error in structure(.External("dotTcl", ..., PACKAGE = "tcltk"), class = "tclObj") : 
  [tcl] invalid command name "option".

Error : .onLoad failed in 'loadNamespace' for 'gWidgetstcltk'
Error: package/namespace load failed for 'gWidgetstcltk'
Loading required package: proto
Loading required package: filehash
Error: package 'filehash' could not be loaded
In addition: Warning message:
In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc = lib.loc) :
  there is no package called 'filehash'
Loading required package: gWidgetsRGtk2
Error in dyn.load(file, DLLpath = DLLpath, ...) : 
  unable to load shared library '/Users/aoganyan/Library/R/2.10/library/RGtk2/libs/i386/RGtk2.so':
  dlopen(/Users/aoganyan/Library/R/2.10/library/RGtk2/libs/i386/RGtk2.so, 6): Library not loaded: /Library/Frameworks/GTK+.framework/Resources/lib/libgtk-x11-2.0.0.dylib
  Referenced from: /Users/aoganyan/Library/R/2.10/library/RGtk2/libs/i386/RGtk2.so
  Reason: Incompatible library version: RGtk2.so requires version 1801.0.0 or later, but libgtk-x11-2.0.0.dylib provides version 1401.0.0
Failed to load RGtk2 dynamic library, attempting to install it.
Error in if (choice == 1) { : argument is of length zero
Error : .onLoad failed in 'loadNamespace' for 'RGtk2'
Error: package 'gWidgetsRGtk2' could not be loaded

_______________________________________________________________


Thank you very much in advance. I will appreciate very much any suggestions.

Anna Ogan


From ripley at stats.ox.ac.uk  Sat Feb 20 12:01:02 2010
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 20 Feb 2010 11:01:02 +0000 (GMT)
Subject: [R-SIG-Mac] RGtk2 problems
In-Reply-To: <4B7F52DD.660A.00DD.0@georgiasouthern.edu>
References: <4B7F52DD.660A.00DD.0@georgiasouthern.edu>
Message-ID: <alpine.LFD.2.00.1002201045530.16251@gannet.stats.ox.ac.uk>

On Sat, 20 Feb 2010, Anna Oganyan wrote:

> Dear all,
> I would like to ask about package RGtk2 with which I have a problem.
> I will very much appreciate if somebody could tell me what I need to do.
> I need to install a  package scdMicro and it depends on gWidgetsRGtk2.
> I am working on MAC, version 10.5.8.

It is also helpful to give your architecture (i386, x86_64, ppc).

> I have the latest R version (2.10.1).
> When I try to load gWidgetsRGtk2 (or RGtk2), it asks me:
> "Instal GTK+?"
>
> I installed RGtk2 (version 2.14.3 from 
> http://r.research.att.com/gtk2-runtime.dmg ),

That is a version of Gtk+ aka GTK2, not RGtk2, and as the 
http://r.research.att.com page says, it is the wrong one for your OS 
version.

> and added a path:
>
> export PATH=$PATH:/Library/Frameworks/GTK+.framework/Resources/bin

Why?  Nothing in RGtk2 is running executables.

> But next time I try to load gWidgetsRGtk2 (or RGtk2), I get the same 
> message: "Instal GTK+?" And of course all packages dependent from 
> RGtk2 are not loading.
>
> I also tried to install GTK 2.18.5-X11.pkg (from 
> http://r.research.att.com/libs/GTK_2.18.5-X11.pkg ) - but in this 
> case when I try to load RGtk2 - R hangs.

That's the setup that should work.  But do check that you have the 
correct version of RGtk2 installed, since a couple of versions did 
hang on startup (from memory, one was 2.12.16).  The current binary 
version is 2.12.15 (which works for me on i386 and x86_64), but the 
source version is at 2.12.18.

[...]

> Thank you very much in advance. I will appreciate very much any suggestions.
>
> Anna Ogan

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From felipe.zapata at umsl.edu  Sun Feb 21 08:02:21 2010
From: felipe.zapata at umsl.edu (Felipe Zapata)
Date: Sun, 21 Feb 2010 01:02:21 -0600
Subject: [R-SIG-Mac] generate matrix of matrices
Message-ID: <285C6C30-2F0D-43EA-8D73-E40ABD225AE9@umsl.edu>

A general question for R users about matrix manipulation:

I have two symmetric distance matrices (measuring distances in 2  
different variables) and I am trying to build a new matrix showing one  
half of one of the matrices (below diagonal) and the other half of  
other matrix (above he diagonal). Is there any R function to do this??  
any help would be appreciated.

This is what i am talking about

The matrices I have:

matrix 1:
	[1]	[2]	[3]
[1]	0	a	b
[2]	a	0	c
[3]	b	c	0

matrix 2
	[1]	[2]	[3]
[1]	0	x	y
[2]	x	0	z
[3]	y	z	0

The matrix I want
	[1]	[2]	[3]
[1]	0	a	b
[2]	x	0	c
[3]	y	z	0

Thanks,

FZ.


From felipe.zapata at umsl.edu  Sun Feb 21 08:43:15 2010
From: felipe.zapata at umsl.edu (Felipe Zapata)
Date: Sun, 21 Feb 2010 01:43:15 -0600
Subject: [R-SIG-Mac] generate matrix of matrices
In-Reply-To: <317737de1002202321sec6ffecyeb280d1657c4ee41@mail.gmail.com>
References: <285C6C30-2F0D-43EA-8D73-E40ABD225AE9@umsl.edu>
	<317737de1002202321sec6ffecyeb280d1657c4ee41@mail.gmail.com>
Message-ID: <BCF224DD-E44F-4083-AA3C-2B30E9EE70CB@umsl.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100221/bdb55aed/attachment.pl>

From thomasr at u.washington.edu  Fri Feb 19 04:58:52 2010
From: thomasr at u.washington.edu (Thomas Richardson)
Date: Thu, 18 Feb 2010 19:58:52 -0800 (PST)
Subject: [R-SIG-Mac] Changing the colour of text output in the R.app Console?
Message-ID: <alpine.LRH.2.01.1002181953370.13072@homer23.u.washington.edu>

Hello,

Is there a command that allows the colour of text in the R.app console 
window to be changed?

I know that the colors can be changed manually via preferences, but I have 
been unable to find a way to do it via a command within the console. Does 
one exist?

I'd like to be able to write "print" functions that incorporate colour.

I know there is a package Xterm256 that will let you do this inside the 
Xterm version of R.

Many thanks for any suggestions.

--Thomas


From simon.urbanek at r-project.org  Mon Feb 22 15:26:32 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 22 Feb 2010 09:26:32 -0500
Subject: [R-SIG-Mac] Changing the colour of text output in the R.app
	Console?
In-Reply-To: <alpine.LRH.2.01.1002181953370.13072@homer23.u.washington.edu>
References: <alpine.LRH.2.01.1002181953370.13072@homer23.u.washington.edu>
Message-ID: <00E0F6C2-02EA-460D-BC28-7CFC6403AEC7@r-project.org>


On Feb 18, 2010, at 22:58 , Thomas Richardson wrote:

> Hello,
>
> Is there a command that allows the colour of text in the R.app  
> console window to be changed?
>
> I know that the colors can be changed manually via preferences, but  
> I have been unable to find a way to do it via a command within the  
> console. Does one exist?
>

No.

> I'd like to be able to write "print" functions that incorporate  
> colour.
>
> I know there is a package Xterm256 that will let you do this inside  
> the Xterm version of R.
>

It does so (I suspect) by producing special characters in the output  
which are not take literally but interpreted by xterm. The R.app takes  
all characters literally but it would be possible to add some support  
for ESC control sequences (at least color) - but this is the first  
time I've heard of such as request, so there was no need (so far?).

If someone wants to have a dab at this, the relevant code would go in  
RController: writeConsoleDirectly: method in the special character  
section that currently handles '\a' and '\b'.

Cheers,
Simon


From manlanders at yahoo.com  Thu Feb 25 00:38:02 2010
From: manlanders at yahoo.com (Andrew Landers)
Date: Wed, 24 Feb 2010 15:38:02 -0800 (PST)
Subject: [R-SIG-Mac] help with ltm package
Message-ID: <715631.31405.qm@web32207.mail.mud.yahoo.com>

on my macbook, R won't run ltm package, it keeps telling me this:
> library(ltm)
Loading required package: MASS
Loading required package: msm
Error: package 'msm' could not be loaded
In addition: Warning message:
In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc = lib.loc) :
  there is no package called 'msm'

please help


From mestat at pop.com.br  Wed Feb 24 20:54:14 2010
From: mestat at pop.com.br (mestat at pop.com.br)
Date: Wed, 24 Feb 2010 16:54:14 -0300 (BRT)
Subject: [R-SIG-Mac] Read.table for MAC
Message-ID: <54025.132.204.242.4.1267041254.squirrel@nwebmail.pop.com.br>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20100224/0f317a3a/attachment.pl>

From R-SIG-Mac.3.maxchee at spamgourmet.com  Thu Feb 25 08:07:07 2010
From: R-SIG-Mac.3.maxchee at spamgourmet.com (R-SIG-Mac.3.maxchee at spamgourmet.com)
Date: Thu, 25 Feb 2010 02:07:07 -0500
Subject: [R-SIG-Mac] R.app 1.3.1 consistently hangs when accessing the fuzzy
	search feature in the help system
Message-ID: <1A530A96-B92C-469B-A94E-701053863CB4@gmail.com>

Steps to follow to reproduce this bug
1. Type "??test" into R.app's R Console
2. *Double-click* on any of the item displayed
in the "Help topics" dialog opened up by this

Expected result:
R.app should open the help file in the R Help window

Actual result:
R.app hangs

Additional notes:
I am using the three-way UB build for Leopard.
MD5 for the installation package is:
4067cd81d23814516c10db4972c0e762



--please do not edit the information below--

Version:
  platform = powerpc-apple-darwin9.8.0
  arch = powerpc
  os = darwin9.8.0
  system = powerpc, darwin9.8.0
  status =
  major = 2
  minor = 10.1
  year = 2009
  month = 12
  day = 14
  svn rev = 50720
  language = R
  version.string = R version 2.10.1 (2009-12-14)

Locale:
en_CA.UTF-8/en_CA.UTF-8/C/C/en_CA.UTF-8/en_CA.UTF-8

Search Path:
  .GlobalEnv, package:stats, package:graphics, package:grDevices,  
package:utils, package:datasets, package:methods, Autoloads,  
package:base


From ken at kjbeath.com.au  Fri Feb 26 11:18:59 2010
From: ken at kjbeath.com.au (Ken Beath)
Date: Fri, 26 Feb 2010 21:18:59 +1100
Subject: [R-SIG-Mac] help with ltm package
In-Reply-To: <715631.31405.qm@web32207.mail.mud.yahoo.com>
References: <715631.31405.qm@web32207.mail.mud.yahoo.com>
Message-ID: <1F69FEA8-FE31-465B-B635-E6F412561A2E@kjbeath.com.au>

This is because you haven't installed the package msm.  The best way is when installing ltm or any other package is to install dependencies. You can repeat the installation.

Ken

On 25/02/2010, at 10:38 AM, Andrew Landers wrote:

> on my macbook, R won't run ltm package, it keeps telling me this:
>> library(ltm)
> Loading required package: MASS
> Loading required package: msm
> Error: package 'msm' could not be loaded
> In addition: Warning message:
> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc = lib.loc) :
>  there is no package called 'msm'
> 
> please help
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From dwinsemius at comcast.net  Fri Feb 26 15:19:20 2010
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 26 Feb 2010 09:19:20 -0500
Subject: [R-SIG-Mac] Read.table for MAC
In-Reply-To: <54025.132.204.242.4.1267041254.squirrel@nwebmail.pop.com.br>
References: <54025.132.204.242.4.1267041254.squirrel@nwebmail.pop.com.br>
Message-ID: <0CB1F222-97F7-44CE-A73A-FBB20DF76CF6@comcast.net>


On Feb 24, 2010, at 2:54 PM, mestat at pop.com.br wrote:

>
>
> Hi  Hi listers,
> I just got
> a MAC, so I am trying to use the
> command READ.TABLE but I am getting a
> error that is probably caused by the wrong path that I am using...
>
> The command is the following...
>
> file<-read.table("/Users/M?rcio/UdeM/Travail
> Dirig?/Data/MU284 Population.txt",header=T,skip=24)


What happened when you tried the file.choose() method that I suggested  
on the r-help list?

-- 
David.


>
> And I am getting the following error...
> Erro em
> file(file, "rt") : n?o ? poss?vel abrir a
> conex?o
> Al?m disso: Warning message:
> In file(file,
> "rt") :
>   cannot open file
> '/Users/M?rcio/UdeM/Travail Dirig?/Data/MU284
> Population.txt': No such file or directory
>
> Does anybody knows what I am doing wrong? Any suggestions?
>
> Thanks in advance,
> Marcio  	 		
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Heritage Laboratories
West Hartford, CT


From simon.urbanek at r-project.org  Fri Feb 26 19:20:40 2010
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 26 Feb 2010 13:20:40 -0500
Subject: [R-SIG-Mac] Mac builds: scheduled downtime 2/27-28
Message-ID: <E128EFF1-7E64-4E1A-BC6C-49487ED01334@r-project.org>

The R Mac builds and R.research.att.com will be down over the weekend (2/27-28) due to the installation of a new UPS system for the entire building including the IT center. A backup server is up at
http://R.urbanek.info/
or in case DNS is also affected (hopefully not since we have 3 backup servers across the US):
http://65.98.9.242/

Cheers,
Simon


From j.w.dietrich at medizinische-kybernetik.de  Fri Feb 26 21:32:41 2010
From: j.w.dietrich at medizinische-kybernetik.de (Johannes W. Dietrich)
Date: Fri, 26 Feb 2010 21:32:41 +0100
Subject: [R-SIG-Mac] Read.table for MAC
Message-ID: <a06240800c7ade0688c20@[192.168.178.20]>

A simple method to obtain the path to a file is to open the terminal 
and to drag the file to the shell's window. Then the terminal 
displays the full path that can be copied to the R console (or to 
your script etc.).

J. W. Dietrich
-- 
-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
-- Dr. Johannes W. Dietrich, M.D.
-- Laboratory XU 44, Endocrine Research
-- Medical Hospital I, Bergmannsheil University Hospitals
-- Ruhr University of Bochum
-- Buerkle-de-la-Camp-Platz 1, D-44789 Bochum, NRW, Germany
-- Phone: +49:234:302-6400, Fax: +49:234:302-6403
-- eMail: "j.w.dietrich at medical-cybernetics.de"
-- WWW: http://medical-cybernetics.de
-- WWW: http://www.bergmannsheil.de
-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --


From a.beckerman at sheffield.ac.uk  Fri Feb 26 10:52:22 2010
From: a.beckerman at sheffield.ac.uk (Andrew Beckerman)
Date: Fri, 26 Feb 2010 09:52:22 +0000
Subject: [R-SIG-Mac] help with ltm package
In-Reply-To: <715631.31405.qm@web32207.mail.mud.yahoo.com>
References: <715631.31405.qm@web32207.mail.mud.yahoo.com>
Message-ID: <C6E8F1A0-5FCA-4468-A568-C11A9F0B4DEE@sheffield.ac.uk>

Andrew -

Your error message suggests that you don't have msm package on your system, which appears to be a dependency for ltm (look at the very last line of the error message).

An easy check would be to type:

library() 

in the console and see if msm is in your list of packages.

If not, download/install that, and try again.

Best wishes,
Andrew


On 24 Feb 2010, at 23:38, Andrew Landers wrote:

> on my macbook, R won't run ltm package, it keeps telling me this:
>> library(ltm)
> Loading required package: MASS
> Loading required package: msm
> Error: package 'msm' could not be loaded
> In addition: Warning message:
> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc = lib.loc) :
>  there is no package called 'msm'
> 
> please help
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From j.w.dietrich at medizinische-kybernetik.de  Fri Feb 26 21:22:32 2010
From: j.w.dietrich at medizinische-kybernetik.de (Johannes W. Dietrich)
Date: Fri, 26 Feb 2010 21:22:32 +0100
Subject: [R-SIG-Mac] Read.table for MAC
Message-ID: <a06240800c7adde03fc86@[192.168.178.20]>

A simple method to obtain the path to a file is to open the terminal 
and to drag the file to the shell's window. Then the terminal 
displays the full path that can be copied to the R console (or to 
your script etc.).

J. W. Dietrich
-- 
-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
-- Dr. Johannes W. Dietrich, M.D.
-- Laboratory XU 44, Endocrine Research
-- Medical Hospital I, Bergmannsheil University Hospitals
-- Ruhr University of Bochum
-- Buerkle-de-la-Camp-Platz 1, D-44789 Bochum, NRW, Germany
-- Phone: +49:234:302-6400, Fax: +49:234:302-6403
-- eMail: "j.w.dietrich at medical-cybernetics.de"
-- WWW: http://medical-cybernetics.de
-- WWW: http://www.bergmannsheil.de
-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --


