From hp@ge@ @ending from fredhutch@org  Thu Nov  1 22:59:38 2018
From: hp@ge@ @ending from fredhutch@org (Pages, Herve)
Date: Thu, 1 Nov 2018 21:59:38 +0000
Subject: [R-SIG-Mac] Availability of nightly R-devel build
In-Reply-To: <CAD6tx96kLOt58WiubUnBOPpUEbGWdGpumRKR_=L0WfNKcx=r=g@mail.gmail.com>
References: <CAD6tx96kLOt58WiubUnBOPpUEbGWdGpumRKR_=L0WfNKcx=r=g@mail.gmail.com>
Message-ID: <ec595d62-57dd-c610-81ec-692ba72bde9c@fredhutch.org>

Hi,

We're also facing this problem with our builds for BioC 3.9 (which are 
based on R-devel): 
https://bioconductor.org/checkResults/3.9/bioc-LATEST/index.html

As you can see for the Mac builds we're using the latest R-devel Mac 
binary from r.research.att.com, which is lagging 7 months behind. An 
update about this situation would be appreciated. Thanks!

H.

On 9/14/18 12:30, Jim Hester wrote:
> It seems the nightly R-devel builds have stopped updating. The last
> one available seems to be from April 5th, R Under development
> (unstable) (2018-04-05 r74542)
>
> That also seems to be the date of the last log available at
> https://urldefense.proofpoint.com/v2/url?u=http-3A__r.research.att.com_log-2DR-2Ddevel.el-2Dcapitan.x86-5F64.html&d=DwICAg&c=eRAMFD45gAfqt84VtBcfhQ&r=BK7q3XeAvimeWdGbWY_wJYbW0WYiZvSXAJJKaaPhzWA&m=ede2FVJyrkR4Q_8jy7rxASr6bMZeUf7KZanzIlx0J-4&s=gAktgbfwrBukh_mydUUk0vXPmc13-k_NDRbJ7CUnNNA&e=
>
> I did not see anything on the maining list about this being
> deliberate, apologies if I missed something.
>
> Jim
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dsig-2Dmac&d=DwICAg&c=eRAMFD45gAfqt84VtBcfhQ&r=BK7q3XeAvimeWdGbWY_wJYbW0WYiZvSXAJJKaaPhzWA&m=ede2FVJyrkR4Q_8jy7rxASr6bMZeUf7KZanzIlx0J-4&s=-JISFRCew98_PS94u9P3x7gC3szNfke1pF2jSApmX8U&e=

-- 
Herv? Pag?s

Program in Computational Biology
Division of Public Health Sciences
Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N, M1-B514
P.O. Box 19024
Seattle, WA 98109-1024

E-mail: hpages at fredhutch.org
Phone:  (206) 667-5791
Fax:    (206) 667-1319


From @imon@urb@nek @ending from r-project@org  Fri Nov  2 16:54:04 2018
From: @imon@urb@nek @ending from r-project@org (Simon Urbanek)
Date: Fri, 2 Nov 2018 11:54:04 -0400
Subject: [R-SIG-Mac] Availability of nightly R-devel build
In-Reply-To: <ec595d62-57dd-c610-81ec-692ba72bde9c@fredhutch.org>
References: <CAD6tx96kLOt58WiubUnBOPpUEbGWdGpumRKR_=L0WfNKcx=r=g@mail.gmail.com>
 <ec595d62-57dd-c610-81ec-692ba72bde9c@fredhutch.org>
Message-ID: <7933FFE5-5658-49D3-973E-91599950BD25@r-project.org>

R-devel has moved to R-3-5-branch as with every release. We don't build R-devel at the beginning of the cycle, but I guess it's time to enable it again. I'll turn off oldrel and enable devel for the next nightly build.

Cheers,
Simon
 



> On Nov 1, 2018, at 5:59 PM, Pages, Herve <hpages at fredhutch.org> wrote:
> 
> Hi,
> 
> We're also facing this problem with our builds for BioC 3.9 (which are 
> based on R-devel): 
> https://bioconductor.org/checkResults/3.9/bioc-LATEST/index.html
> 
> As you can see for the Mac builds we're using the latest R-devel Mac 
> binary from r.research.att.com, which is lagging 7 months behind. An 
> update about this situation would be appreciated. Thanks!
> 
> H.
> 
> On 9/14/18 12:30, Jim Hester wrote:
>> It seems the nightly R-devel builds have stopped updating. The last
>> one available seems to be from April 5th, R Under development
>> (unstable) (2018-04-05 r74542)
>> 
>> That also seems to be the date of the last log available at
>> https://urldefense.proofpoint.com/v2/url?u=http-3A__r.research.att.com_log-2DR-2Ddevel.el-2Dcapitan.x86-5F64.html&d=DwICAg&c=eRAMFD45gAfqt84VtBcfhQ&r=BK7q3XeAvimeWdGbWY_wJYbW0WYiZvSXAJJKaaPhzWA&m=ede2FVJyrkR4Q_8jy7rxASr6bMZeUf7KZanzIlx0J-4&s=gAktgbfwrBukh_mydUUk0vXPmc13-k_NDRbJ7CUnNNA&e=
>> 
>> I did not see anything on the maining list about this being
>> deliberate, apologies if I missed something.
>> 
>> Jim
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dsig-2Dmac&d=DwICAg&c=eRAMFD45gAfqt84VtBcfhQ&r=BK7q3XeAvimeWdGbWY_wJYbW0WYiZvSXAJJKaaPhzWA&m=ede2FVJyrkR4Q_8jy7rxASr6bMZeUf7KZanzIlx0J-4&s=-JISFRCew98_PS94u9P3x7gC3szNfke1pF2jSApmX8U&e=
> 
> -- 
> Herv? Pag?s
> 
> Program in Computational Biology
> Division of Public Health Sciences
> Fred Hutchinson Cancer Research Center
> 1100 Fairview Ave. N, M1-B514
> P.O. Box 19024
> Seattle, WA 98109-1024
> 
> E-mail: hpages at fredhutch.org
> Phone:  (206) 667-5791
> Fax:    (206) 667-1319
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From hp@ge@ @ending from fredhutch@org  Fri Nov  2 17:46:38 2018
From: hp@ge@ @ending from fredhutch@org (Pages, Herve)
Date: Fri, 2 Nov 2018 16:46:38 +0000
Subject: [R-SIG-Mac] Availability of nightly R-devel build
In-Reply-To: <7933FFE5-5658-49D3-973E-91599950BD25@r-project.org>
References: <CAD6tx96kLOt58WiubUnBOPpUEbGWdGpumRKR_=L0WfNKcx=r=g@mail.gmail.com>
 <ec595d62-57dd-c610-81ec-692ba72bde9c@fredhutch.org>
 <7933FFE5-5658-49D3-973E-91599950BD25@r-project.org>
Message-ID: <6f90e9bb-a6a2-5d0f-14c5-a9168648113b@fredhutch.org>

Excellent! Thanks Simon.?? H.

On 11/2/18 08:54, Simon Urbanek wrote:
> R-devel has moved to R-3-5-branch as with every release. We don't build R-devel at the beginning of the cycle, but I guess it's time to enable it again. I'll turn off oldrel and enable devel for the next nightly build.
>
> Cheers,
> Simon
>   
>
>
>
>> On Nov 1, 2018, at 5:59 PM, Pages, Herve <hpages at fredhutch.org> wrote:
>>
>> Hi,
>>
>> We're also facing this problem with our builds for BioC 3.9 (which are
>> based on R-devel):
>> https://urldefense.proofpoint.com/v2/url?u=https-3A__bioconductor.org_checkResults_3.9_bioc-2DLATEST_index.html&d=DwIFaQ&c=eRAMFD45gAfqt84VtBcfhQ&r=BK7q3XeAvimeWdGbWY_wJYbW0WYiZvSXAJJKaaPhzWA&m=IJ36hlyUFp_mX3fabgh6EvmRbAEOjXT7tsyJkmMlm1I&s=bN7nknDi2UPwIIUxp7B8q0PqM854aFKQ9I0UdS1s9no&e=
>>
>> As you can see for the Mac builds we're using the latest R-devel Mac
>> binary from r.research.att.com, which is lagging 7 months behind. An
>> update about this situation would be appreciated. Thanks!
>>
>> H.
>>
>> On 9/14/18 12:30, Jim Hester wrote:
>>> It seems the nightly R-devel builds have stopped updating. The last
>>> one available seems to be from April 5th, R Under development
>>> (unstable) (2018-04-05 r74542)
>>>
>>> That also seems to be the date of the last log available at
>>> https://urldefense.proofpoint.com/v2/url?u=http-3A__r.research.att.com_log-2DR-2Ddevel.el-2Dcapitan.x86-5F64.html&d=DwICAg&c=eRAMFD45gAfqt84VtBcfhQ&r=BK7q3XeAvimeWdGbWY_wJYbW0WYiZvSXAJJKaaPhzWA&m=ede2FVJyrkR4Q_8jy7rxASr6bMZeUf7KZanzIlx0J-4&s=gAktgbfwrBukh_mydUUk0vXPmc13-k_NDRbJ7CUnNNA&e=
>>>
>>> I did not see anything on the maining list about this being
>>> deliberate, apologies if I missed something.
>>>
>>> Jim
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dsig-2Dmac&d=DwICAg&c=eRAMFD45gAfqt84VtBcfhQ&r=BK7q3XeAvimeWdGbWY_wJYbW0WYiZvSXAJJKaaPhzWA&m=ede2FVJyrkR4Q_8jy7rxASr6bMZeUf7KZanzIlx0J-4&s=-JISFRCew98_PS94u9P3x7gC3szNfke1pF2jSApmX8U&e=
>> -- 
>> Herv? Pag?s
>>
>> Program in Computational Biology
>> Division of Public Health Sciences
>> Fred Hutchinson Cancer Research Center
>> 1100 Fairview Ave. N, M1-B514
>> P.O. Box 19024
>> Seattle, WA 98109-1024
>>
>> E-mail: hpages at fredhutch.org
>> Phone:  (206) 667-5791
>> Fax:    (206) 667-1319
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://urldefense.proofpoint.com/v2/url?u=https-3A__stat.ethz.ch_mailman_listinfo_r-2Dsig-2Dmac&d=DwIFaQ&c=eRAMFD45gAfqt84VtBcfhQ&r=BK7q3XeAvimeWdGbWY_wJYbW0WYiZvSXAJJKaaPhzWA&m=IJ36hlyUFp_mX3fabgh6EvmRbAEOjXT7tsyJkmMlm1I&s=UGcGPSrbHNLprbaArG_8eY5vZe0Is5i2HrYD05odFvA&e=

-- 
Herv? Pag?s

Program in Computational Biology
Division of Public Health Sciences
Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N, M1-B514
P.O. Box 19024
Seattle, WA 98109-1024

E-mail: hpages at fredhutch.org
Phone:  (206) 667-5791
Fax:    (206) 667-1319


From jeroenoom@ @ending from gm@il@com  Thu Nov 15 14:06:40 2018
From: jeroenoom@ @ending from gm@il@com (Jeroen Ooms)
Date: Thu, 15 Nov 2018 14:06:40 +0100
Subject: [R-SIG-Mac] Disable readline echo in R for mac GUI
Message-ID: <CABFfbXsFF8PnVjXvAkEKsyRxqA=WYbTBHSWgQwoYpShKCdHx0Q@mail.gmail.com>

When prompting the user for a password, we need to temporarily disable
echo. In a tty we can call posix stty -echo (example below). The
RStudio GUI has a native password entry function that can be triggered
via getOption('askpass'). Is there simple method to prompt for a
password in the R for Mac GUI (without depending on shiny or tcltk)?

readline_password <- function(prompt = "Please enter password\n"){
  if(isatty(stdin())){
    if(system('stty -echo') == 0){
      on.exit(system('stty echo'))
    }
  }
  base::readline(prompt)
}


From el @ending from li@@e@n@  Thu Nov 15 14:49:09 2018
From: el @ending from li@@e@n@ (Dr Eberhard W Lisse)
Date: Thu, 15 Nov 2018 15:49:09 +0200
Subject: [R-SIG-Mac] Disable readline echo in R for mac GUI
In-Reply-To: <CABFfbXsFF8PnVjXvAkEKsyRxqA=WYbTBHSWgQwoYpShKCdHx0Q@mail.gmail.com>
References: <CABFfbXsFF8PnVjXvAkEKsyRxqA=WYbTBHSWgQwoYpShKCdHx0Q@mail.gmail.com>
Message-ID: <0d437f67-bca7-1814-87e8-b625a488d97e@lisse.na>

On my Mojave iMac

	commandArgs()

returns

on RStudio

	[1] "RStudio"	"--interactive"

on Mac GUI

	[1] "R"	"--no-save"	"--no-restore-data" "--gui=aqua"

and on R command line

	[1] "/Library/Frameworks/R.framework/Resources/bin/exec/R"

so maybe test for that?

el

On 15/11/2018 15:06, Jeroen Ooms wrote:
> When prompting the user for a password, we need to temporarily disable
> echo. In a tty we can call posix stty -echo (example below). The
> RStudio GUI has a native password entry function that can be triggered
> via getOption('askpass'). Is there simple method to prompt for a
> password in the R for Mac GUI (without depending on shiny or tcltk)?
> 
> readline_password <- function(prompt = "Please enter password\n"){
>   if(isatty(stdin())){
>     if(system('stty -echo') == 0){
>       on.exit(system('stty echo'))
>     }
>   }
>   base::readline(prompt)
> }


From jgreenberg @ending from unr@edu  Fri Nov 16 20:10:07 2018
From: jgreenberg @ending from unr@edu (Jonathan Greenberg)
Date: Fri, 16 Nov 2018 19:10:07 +0000
Subject: [R-SIG-Mac] Issues with rj (requirement for StatET) since
 Mojave/3.5.1 update
Message-ID: <CABG0rfsoUBR9szk1B30Uo6dGa8AEg5UComGDO9-5xv47XCj2Og@mail.gmail.com>

I'm hoping to get some insight into seeing if I can get "rj" working again in Mojave/R 3.5.1 -- this is a requirements for the Eclipse interface to R "Stat-ET") -- I'm seeing similar issues when trying to get rJava working also from source, e.g.:

Rscript -e 'install.packages("rJava", repos="http://rforge.net", type="source")'

and

install.packages(c("rj", "rj.gd<http://rj.gd>"), repos="http://download.walware.de/rj-2.1",type="source")

All issues lead to:

"clang: error: unsupported option '-fopenmp'"

I've installed clang6 and gfortran61 from CRAN, but that doesn't seem to work.  I've tried tweaking the ~/.R/Makevars, e.g.:

FLIBS=-L/usr/local/gfortran/lib -lgfortran -lquadmath -lm
CC=/usr/local/clang6/bin/clang
CXX=/usr/local/clang6/bin/clang++
CXX1X=/usr/local/clang6/bin/clang++
CXX98=/usr/local/clang6/bin/clang++
CXX11=/usr/local/clang6/bin/clang++
CXX14=/usr/local/clang6/bin/clang++
CXX17=/usr/local/clang6/bin/clang++
LDFLAGS=-L/usr/local/clang6/lib

Which only results in a different error:
ld: warning: text-based stub file /System/Library/Frameworks//JavaVM.framework/JavaVM.tbd and library file /System/Library/Frameworks//JavaVM.framework/JavaVM are out of sync. Falling back to library file for linking.
ld: library not found for -lomp

Any ideas?
--
--
Jonathan A. Greenberg, PhD
Randall Endowed Professor and Associate Professor of Remote Sensing
Global Environmental Analysis and Remote Sensing (GEARS) Laboratory
Natural Resources & Environmental Science
University of Nevada, Reno
1664 N Virginia St MS/0186
Reno, NV 89557
Phone: 415-763-5476
http://www.unr.edu/nres
Gchat: jgrn307 at gmail.com<mailto:jgrn307 at gmail.com>, Skype: jgrn3007

	[[alternative HTML version deleted]]


From roy@mendel@@ohn @ending from no@@@gov  Fri Nov 16 20:32:55 2018
From: roy@mendel@@ohn @ending from no@@@gov (Roy Mendelssohn - NOAA Federal)
Date: Fri, 16 Nov 2018 11:32:55 -0800
Subject: [R-SIG-Mac] Issues with rj (requirement for StatET) since
 Mojave/3.5.1 update
In-Reply-To: <CABG0rfsoUBR9szk1B30Uo6dGa8AEg5UComGDO9-5xv47XCj2Og@mail.gmail.com>
References: <CABG0rfsoUBR9szk1B30Uo6dGa8AEg5UComGDO9-5xv47XCj2Og@mail.gmail.com>
Message-ID: <ED3EF0BC-9D14-46CE-9615-3211A902165F@noaa.gov>

Check that you have the latest version of the clang compiler from the r-mac site.  I believe the present version supports -fopenmp, previous version did not.  If not,  I can point you to a different link to download the compiler, but I think using the officially approved versions the cleanest solution.

HTH,

-Roy


> On Nov 16, 2018, at 11:10 AM, Jonathan Greenberg <jgreenberg at unr.edu> wrote:
> 
> I'm hoping to get some insight into seeing if I can get "rj" working again in Mojave/R 3.5.1 -- this is a requirements for the Eclipse interface to R "Stat-ET") -- I'm seeing similar issues when trying to get rJava working also from source, e.g.:
> 
> Rscript -e 'install.packages("rJava", repos="http://rforge.net", type="source")'
> 
> and
> 
> install.packages(c("rj", "rj.gd<http://rj.gd>"), repos="http://download.walware.de/rj-2.1",type="source")
> 
> All issues lead to:
> 
> "clang: error: unsupported option '-fopenmp'"
> 
> I've installed clang6 and gfortran61 from CRAN, but that doesn't seem to work.  I've tried tweaking the ~/.R/Makevars, e.g.:
> 
> FLIBS=-L/usr/local/gfortran/lib -lgfortran -lquadmath -lm
> CC=/usr/local/clang6/bin/clang
> CXX=/usr/local/clang6/bin/clang++
> CXX1X=/usr/local/clang6/bin/clang++
> CXX98=/usr/local/clang6/bin/clang++
> CXX11=/usr/local/clang6/bin/clang++
> CXX14=/usr/local/clang6/bin/clang++
> CXX17=/usr/local/clang6/bin/clang++
> LDFLAGS=-L/usr/local/clang6/lib
> 
> Which only results in a different error:
> ld: warning: text-based stub file /System/Library/Frameworks//JavaVM.framework/JavaVM.tbd and library file /System/Library/Frameworks//JavaVM.framework/JavaVM are out of sync. Falling back to library file for linking.
> ld: library not found for -lomp
> 
> Any ideas?
> --
> --
> Jonathan A. Greenberg, PhD
> Randall Endowed Professor and Associate Professor of Remote Sensing
> Global Environmental Analysis and Remote Sensing (GEARS) Laboratory
> Natural Resources & Environmental Science
> University of Nevada, Reno
> 1664 N Virginia St MS/0186
> Reno, NV 89557
> Phone: 415-763-5476
> http://www.unr.edu/nres
> Gchat: jgrn307 at gmail.com<mailto:jgrn307 at gmail.com>, Skype: jgrn3007
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

**********************
"The contents of this message do not reflect any position of the U.S. Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division
Southwest Fisheries Science Center
***Note new street address***
110 McAllister Way
Santa Cruz, CA 95060
Phone: (831)-420-3666
Fax: (831) 420-3980
e-mail: Roy.Mendelssohn at noaa.gov www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."
"From those who have been given much, much will be expected" 
"the arc of the moral universe is long, but it bends toward justice" -MLK Jr.


From ripley @ending from @t@t@@ox@@c@uk  Sat Nov 17 08:13:51 2018
From: ripley @ending from @t@t@@ox@@c@uk (Prof Brian Ripley)
Date: Sat, 17 Nov 2018 07:13:51 +0000
Subject: [R-SIG-Mac] Issues with rj (requirement for StatET) since
 Mojave/3.5.1 update
In-Reply-To: <CABG0rfsoUBR9szk1B30Uo6dGa8AEg5UComGDO9-5xv47XCj2Og@mail.gmail.com>
References: <CABG0rfsoUBR9szk1B30Uo6dGa8AEg5UComGDO9-5xv47XCj2Og@mail.gmail.com>
Message-ID: <ca1b5ddf-f081-1679-a7f1-0a501bbaa17b@stats.ox.ac.uk>

BTW, reading the manual (in this case 'R Installation and 
Administration') often helps, and would have here.

On 16/11/2018 19:10, Jonathan Greenberg wrote:
> I'm hoping to get some insight into seeing if I can get "rj" working again in Mojave/R 3.5.1 -- this is a requirements for the Eclipse interface to R "Stat-ET") -- I'm seeing similar issues when trying to get rJava working also from source, e.g.:
> 
> Rscript -e 'install.packages("rJava", repos="http://rforge.net", type="source")'

Why are you not installing from CRAN?  Discussing off-CRAN versions here 
is frowned on, not least as we know the CRAN version works.

> and
> 
> install.packages(c("rj", "rj.gd<http://rj.gd>"), repos="http://download.walware.de/rj-2.1",type="source")
> 
> All issues lead to:
> 
> "clang: error: unsupported option '-fopenmp'"
> 
> I've installed clang6 and gfortran61 from CRAN, but that doesn't seem to work.  I've tried tweaking the ~/.R/Makevars, e.g.:
> 
> FLIBS=-L/usr/local/gfortran/lib -lgfortran -lquadmath -lm
> CC=/usr/local/clang6/bin/clang
> CXX=/usr/local/clang6/bin/clang++
> CXX1X=/usr/local/clang6/bin/clang++
> CXX98=/usr/local/clang6/bin/clang++
> CXX11=/usr/local/clang6/bin/clang++
> CXX14=/usr/local/clang6/bin/clang++
> CXX17=/usr/local/clang6/bin/clang++
> LDFLAGS=-L/usr/local/clang6/lib
> 
> Which only results in a different error:
> ld: warning: text-based stub file /System/Library/Frameworks//JavaVM.framework/JavaVM.tbd and library file /System/Library/Frameworks//JavaVM.framework/JavaVM are out of sync. Falling back to library file for linking.
> ld: library not found for -lomp
> 
> Any ideas?

That is not an *error*!  It is a warning from the OS (ld is part of the 
OS) about parts of the OS being out of step, and has been going on for 
some time (AFAIR with High Sierra too).  You have not shown us the 
complete output, but on my systems installation of CRAN rJava proceeds.

> --
> --
> Jonathan A. Greenberg, PhD
> Randall Endowed Professor and Associate Professor of Remote Sensing
> Global Environmental Analysis and Remote Sensing (GEARS) Laboratory
> Natural Resources & Environmental Science
> University of Nevada, Reno
> 1664 N Virginia St MS/0186
> Reno, NV 89557
> Phone: 415-763-5476
> http://www.unr.edu/nres
> Gchat: jgrn307 at gmail.com<mailto:jgrn307 at gmail.com>, Skype: jgrn3007


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford


From jgreenberg @ending from unr@edu  Sat Nov 17 14:49:34 2018
From: jgreenberg @ending from unr@edu (Jonathan Greenberg)
Date: Sat, 17 Nov 2018 13:49:34 +0000
Subject: [R-SIG-Mac] Issues with rj (requirement for StatET) since
 Mojave/3.5.1 update
In-Reply-To: <ca1b5ddf-f081-1679-a7f1-0a501bbaa17b@stats.ox.ac.uk>
References: <CABG0rfsoUBR9szk1B30Uo6dGa8AEg5UComGDO9-5xv47XCj2Og@mail.gmail.com>
 <ca1b5ddf-f081-1679-a7f1-0a501bbaa17b@stats.ox.ac.uk>
Message-ID: <CABG0rfseEs1estRuoGqsVOQihf5k6zbZ9xPwDNtfymoo6t3Q3Q@mail.gmail.com>

I'm aware rJava can be installed as a binary and that this is an OS issue, hence posting on r-sig-mac.  I assumed more people are familiar with rJava then rj and I'm fairly confident it's the same issue, hence my showing that error. rj is not on CRAN AFAIK so I'm trying to solve the source install issue for that particular package.

The manual and the website have not, this far, led me to getting this working.  The clang and gfortran installers do not solve the issue.  I suspect there is a Makevars solution but, again, I haven't found one that works.

This happened post Mojave (I had everything working in High Sierra).

J

On Fri, Nov 16, 2018, 11:14 PM Prof Brian Ripley <ripley at stats.ox.ac.uk<mailto:ripley at stats.ox.ac.uk>> wrote:
BTW, reading the manual (in this case 'R Installation and
Administration') often helps, and would have here.

On 16/11/2018 19:10, Jonathan Greenberg wrote:
> I'm hoping to get some insight into seeing if I can get "rj" working again in Mojave/R 3.5.1 -- this is a requirements for the Eclipse interface to R "Stat-ET") -- I'm seeing similar issues when trying to get rJava working also from source, e.g.:
>
> Rscript -e 'install.packages("rJava", repos="http://rforge.net", type="source")'

Why are you not installing from CRAN?  Discussing off-CRAN versions here
is frowned on, not least as we know the CRAN version works.

> and
>
> install.packages(c("rj", "rj.gd<http://rj.gd><http://rj.gd>"), repos="http://download.walware.de/rj-2.1",type="source")
>
> All issues lead to:
>
> "clang: error: unsupported option '-fopenmp'"
>
> I've installed clang6 and gfortran61 from CRAN, but that doesn't seem to work.  I've tried tweaking the ~/.R/Makevars, e.g.:
>
> FLIBS=-L/usr/local/gfortran/lib -lgfortran -lquadmath -lm
> CC=/usr/local/clang6/bin/clang
> CXX=/usr/local/clang6/bin/clang++
> CXX1X=/usr/local/clang6/bin/clang++
> CXX98=/usr/local/clang6/bin/clang++
> CXX11=/usr/local/clang6/bin/clang++
> CXX14=/usr/local/clang6/bin/clang++
> CXX17=/usr/local/clang6/bin/clang++
> LDFLAGS=-L/usr/local/clang6/lib
>
> Which only results in a different error:
> ld: warning: text-based stub file /System/Library/Frameworks//JavaVM.framework/JavaVM.tbd and library file /System/Library/Frameworks//JavaVM.framework/JavaVM are out of sync. Falling back to library file for linking.
> ld: library not found for -lomp
>
> Any ideas?

That is not an *error*!  It is a warning from the OS (ld is part of the
OS) about parts of the OS being out of step, and has been going on for
some time (AFAIR with High Sierra too).  You have not shown us the
complete output, but on my systems installation of CRAN rJava proceeds.

> --
> --
> Jonathan A. Greenberg, PhD
> Randall Endowed Professor and Associate Professor of Remote Sensing
> Global Environmental Analysis and Remote Sensing (GEARS) Laboratory
> Natural Resources & E<https://maps.google.com/?q=ural+Resources+%26+E&entry=gmail&source=g>nvironmental Science
> University of Nevada, Reno
> 1664 N Virginia St MS/0186
> Reno, NV 89557
> Phone: 415-763-5476
> http://www.unr.edu/nres
> Gchat: jgrn307 at gmail.com<mailto:jgrn307 at gmail.com><mailto:jgrn307 at gmail.com<mailto:jgrn307 at gmail.com>>, Skype: jgrn3007


--
Brian D. Ripley,                  ripley at stats.ox.ac.uk<mailto:ripley at stats.ox.ac.uk>
Emeritus Professor of Applied Statistics, University of Oxford

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at r-project.org<mailto:R-SIG-Mac at r-project.org>
https://stat.ethz.ch/mailman/listinfo/r-sig-mac
--
--
Jonathan A. Greenberg, PhD
Randall Endowed Professor and Associate Professor of Remote Sensing
Global Environmental Analysis and Remote Sensing (GEARS) Laboratory
Natural Resources & Environmental Science
University of Nevada, Reno
1664 N Virginia St MS/0186
Reno, NV 89557
Phone: 415-763-5476
http://www.unr.edu/nres
Gchat: jgrn307 at gmail.com<mailto:jgrn307 at gmail.com>, Skype: jgrn3007

	[[alternative HTML version deleted]]


From fr@n@otero @ending from fpct@ulpgc@e@  Sat Nov 24 09:43:24 2018
From: fr@n@otero @ending from fpct@ulpgc@e@ (FRANCISCO JOSE OTERO FERRER)
Date: Sat, 24 Nov 2018 08:43:24 +0000
Subject: [R-SIG-Mac] Problem with R commander installation under MAC OX 10.10
Message-ID: <0580F9F7-8DB5-4000-8AD5-C4D7B1507B84@fpct.ulpgc.es>

Dear users,

I am quite new with R, so apologizes for my ignorance. I have MAC OX 10.10 (Yosemite) and I would like to install  Rcommander, however apparently it is not possible:

>  install.packages("Rcmdr")
--- Please select a CRAN mirror for use in this session ---
Warning message:
package ?Rcmdr? is not available (for R version 3.3.3)
>

As I have other softwares that it could have problems with OX update, I am just wondering if there is any manner to install R commander without update my OX version.

Thank you very much,

Fran












Antes de imprimir este correo electr?nico, piense bien si es necesario hacerlo: el medio ambiente es una cuesti?n de todos.

Please consider the environment before printing this email.

	[[alternative HTML version deleted]]


From m@rio@pi@@ @ending from gm@il@com  Sat Nov 24 14:11:13 2018
From: m@rio@pi@@ @ending from gm@il@com (Mario)
Date: Sat, 24 Nov 2018 14:11:13 +0100
Subject: [R-SIG-Mac] Problem with R commander installation under MAC OX
 10.10
In-Reply-To: <0580F9F7-8DB5-4000-8AD5-C4D7B1507B84@fpct.ulpgc.es>
References: <0580F9F7-8DB5-4000-8AD5-C4D7B1507B84@fpct.ulpgc.es>
Message-ID: <DF85B7CB-6136-4FC3-A87C-6081B295E1FA@gmail.com>

Old sources: 	Rcmdr archive

---
Mario

> El 24 nov 2018, a las 9:43, FRANCISCO JOSE OTERO FERRER <fran.otero at fpct.ulpgc.es> escribi?:
> 
> Dear users,
> 
> I am quite new with R, so apologizes for my ignorance. I have MAC OX 10.10 (Yosemite) and I would like to install  Rcommander, however apparently it is not possible:
> 
>> install.packages("Rcmdr")
> --- Please select a CRAN mirror for use in this session ---
> Warning message:
> package ?Rcmdr? is not available (for R version 3.3.3)
>> 
> 
> As I have other softwares that it could have problems with OX update, I am just wondering if there is any manner to install R commander without update my OX version.
> 
> Thank you very much,
> 
> Fran
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> Antes de imprimir este correo electr?nico, piense bien si es necesario hacerlo: el medio ambiente es una cuesti?n de todos.
> 
> Please consider the environment before printing this email.
> 
>    [[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

	[[alternative HTML version deleted]]


From jfox @ending from mcm@@ter@c@  Sat Nov 24 16:55:37 2018
From: jfox @ending from mcm@@ter@c@ (Fox, John)
Date: Sat, 24 Nov 2018 15:55:37 +0000
Subject: [R-SIG-Mac] Problem with R commander installation under MAC OX
 10.10
In-Reply-To: <10422_1543065105_wAODBiou030703_DF85B7CB-6136-4FC3-A87C-6081B295E1FA@gmail.com>
References: <0580F9F7-8DB5-4000-8AD5-C4D7B1507B84@fpct.ulpgc.es>
 <10422_1543065105_wAODBiou030703_DF85B7CB-6136-4FC3-A87C-6081B295E1FA@gmail.com>
Message-ID: <ACD1644AA6C67E4FBD0C350625508EC8369610AF@FHSDB2D11-2.csu.mcmaster.ca>

Dear Fran,

To elaborate slightly, old sources for the Rcmdr package (and all other CRAN packages) are available on CRAN. The old-package archive for the Rcmdr is at <https://cran.r-project.org/src/contrib/Archive/Rcmdr/>. 

You can download the source package for an older version of the Rcmdr and install it in a macOS terminal window from the directory where you put the file, via the command R CMD INSTALL Rcmdr_x.y-z.tar.gz (where x, y, z correspond to the version that you downloaded). 

This should work because the Rcmdr package includes no compiled code but you may encounter problems: The Rcmdr package depends on many other packages and some of these may also be unavailable in their current versions for your version of macOS or may be incompatible with the older version of the Rcmdr that you install.

I hope this helps,
 John

-----------------------------------------------------------------
John Fox
Professor Emeritus
McMaster University
Hamilton, Ontario, Canada
Web: https://socialsciences.mcmaster.ca/jfox/


> -----Original Message-----
> From: R-SIG-Mac [mailto:r-sig-mac-bounces at r-project.org] On Behalf Of
> Mario
> Sent: Saturday, November 24, 2018 8:11 AM
> To: FRANCISCO JOSE OTERO FERRER <fran.otero at fpct.ulpgc.es>
> Cc: r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] Problem with R commander installation under MAC
> OX 10.10
> 
> Old sources: 	Rcmdr archive
> 
> ---
> Mario
> 
> > El 24 nov 2018, a las 9:43, FRANCISCO JOSE OTERO FERRER
> <fran.otero at fpct.ulpgc.es> escribi?:
> >
> > Dear users,
> >
> > I am quite new with R, so apologizes for my ignorance. I have MAC OX 10.10
> (Yosemite) and I would like to install  Rcommander, however apparently it is
> not possible:
> >
> >> install.packages("Rcmdr")
> > --- Please select a CRAN mirror for use in this session --- Warning
> > message:
> > package ?Rcmdr? is not available (for R version 3.3.3)
> >>
> >
> > As I have other softwares that it could have problems with OX update, I am
> just wondering if there is any manner to install R commander without update
> my OX version.
> >
> > Thank you very much,
> >
> > Fran
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> >
> > Antes de imprimir este correo electr?nico, piense bien si es necesario
> hacerlo: el medio ambiente es una cuesti?n de todos.
> >
> > Please consider the environment before printing this email.
> >
> >    [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From jfox @ending from mcm@@ter@c@  Sun Nov 25 00:08:29 2018
From: jfox @ending from mcm@@ter@c@ (Fox, John)
Date: Sat, 24 Nov 2018 23:08:29 +0000
Subject: [R-SIG-Mac] Problem with R commander installation under MAC OX
 10.10
In-Reply-To: <12108C3C-BB6D-4E52-83D1-02C7A8BB50C3@fpct.ulpgc.es>
References: <0580F9F7-8DB5-4000-8AD5-C4D7B1507B84@fpct.ulpgc.es>
 <10422_1543065105_wAODBiou030703_DF85B7CB-6136-4FC3-A87C-6081B295E1FA@gmail.com>
 <ACD1644AA6C67E4FBD0C350625508EC8369610AF@FHSDB2D11-2.csu.mcmaster.ca>
 <3EDF4961-DD72-4F19-A518-7E929F557CFD@fpct.ulpgc.es>
 <1F13741D-7103-42A4-A0C0-630F33314FE6@mcmaster.ca>
 <12108C3C-BB6D-4E52-83D1-02C7A8BB50C3@fpct.ulpgc.es>
Message-ID: <363C8E88-E2CE-4065-BDD2-156547D370CC@mcmaster.ca>


Dear Fran,

Please include the R-SIG-Mac list in a discussion started on the list.

> On Nov 24, 2018, at 3:16 PM, FRANCISCO JOSE OTERO FERRER <fran.otero at fpct.ulpgc.es> wrote:
> 
> Dear John,
> 
> thanks again. I had tried ?R CMD INSTALL?:
> 
> MacBook-Pro-de-Francisco-2:~ franciscooteroferrer$ R CMD INSTALL Rcmdr_2.2-5.tar.gz
> Warning: invalid package ?Rcmdr_2.2-5.tar.gz?
> Error: ERROR: no packages specified
> 
> but again did not work?

You may have picked the wrong version of the Rcmdr package for your R version, the file may have been corrupted, or may be in the wrong directory.

> I will probably update my MAC OS version and install the last R Commander. It would be better.

Yes, that?s a much better idea, and it?s generally a good idea to keep software up to date.

Best,
 John

> 
> Thank you for your time and sorry to disturb you,
> 
> All the Best 
> 
> Fran
> Francisco Otero Ferrer, PhD
> University Institute of Sustainable Aquaculture and Marine Ecosystems (IU ECOAQUA)
> Scientific and Technological Marine Park
> University of Las Palmas de Gran Canaria
> 35200 Telde (Las Palmas - Espa?a)
> +34 928 454910
> 
> 
> 
> 
> 
> 
> 
> 
> 
>> El 24/11/2018, a las 20:10, Fox, John <jfox at mcmaster.ca> escribi?:
>> 
>> Dear Fran,
>> 
>>> On Nov 24, 2018, at 2:40 PM, FRANCISCO JOSE OTERO FERRER <fran.otero at fpct.ulpgc.es> wrote:
>>> 
>>> Dear Professor Fox,
>>> 
>>> thank you very much for your advices.
>>> 
>>> I have tried to install old Rcmdr version through MAC OS Terminal window putting ?R CMD INSTALL Rcmdr_2.2-5.tar.gz? and downloading previously the file Rcmdr_2.2-5.tar.gz from <https://cran.r-project.org/src/contrib/Archive/Rcmdr/>.
>>> 
>>> MacBook-Pro-de-Francisco-2:~ franciscooteroferrer$ INSTALL Rcmdr_2.2-5.tar.gz
>> 
>> The command is R CMD INSTALL *not* INSTALL
>> 
>> Also, the command assumes that the downloaded file is in the current directory ? your home directory in your failed attempt.
>> 
>> Finally, as I said initially, I?d anticipate problems installing some of the other packages on which the Rcmdr depends.
>> 
>> Best,
>> John
>> 
>>> usage: install [-bCcpSsv] [-B suffix] [-f flags] [-g group] [-m mode]
>>>               [-o owner] file1 file2
>>>       install [-bCcpSsv] [-B suffix] [-f flags] [-g group] [-m mode]
>>>               [-o owner] file1 ... fileN directory
>>>       install -d [-v] [-g group] [-m mode] [-o owner] directory ?
>>> 
>>> Then I have tried to open in R following the standard procedure:
>>> install.packages(?Rcmdr")
>>> 
>>> Then
>>> --- Please select a CRAN mirror for use in this session ---
>>> Warning message:
>>> package ?Rcmdr? is not available (for R version 3.3.3)
>>> 
>>> but again there is some problems to install Rcommander.
>>> Sorry to disturb you again, it is my first contact with R? not really successful.
>>> 
>>> Thank you for your time,
>>> 
>>> Best wishes,
>>> 
>>> Fran
>>> 
>>> Francisco Otero Ferrer, PhD
>>> University Institute of Sustainable Aquaculture and Marine Ecosystems (IU ECOAQUA)
>>> Scientific and Technological Marine Park
>>> University of Las Palmas de Gran Canaria
>>> 35200 Telde (Las Palmas - Espa?a)
>>> +34 928 454910
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>> 
>>>> El 24/11/2018, a las 15:55, Fox, John <jfox at mcmaster.ca> escribi?:
>>>> 
>>>> Dear Fran,
>>>> 
>>>> To elaborate slightly, old sources for the Rcmdr package (and all other CRAN packages) are available on CRAN. The old-package archive for the Rcmdr is at <https://cran.r-project.org/src/contrib/Archive/Rcmdr/>.
>>>> 
>>>> You can download the source package for an older version of the Rcmdr and install it in a macOS terminal window from the directory where you put the file, via the command R CMD INSTALL Rcmdr_x.y-z.tar.gz (where x, y, z correspond to the version that you downloaded).
>>>> 
>>>> This should work because the Rcmdr package includes no compiled code but you may encounter problems: The Rcmdr package depends on many other packages and some of these may also be unavailable in their current versions for your version of macOS or may be incompatible with the older version of the Rcmdr that you install.
>>>> 
>>>> I hope this helps,
>>>> John
>>>> 
>>>> -----------------------------------------------------------------
>>>> John Fox
>>>> Professor Emeritus
>>>> McMaster University
>>>> Hamilton, Ontario, Canada
>>>> Web: https://socialsciences.mcmaster.ca/jfox/
>>>> 
>>>> 
>>>>> -----Original Message-----
>>>>> From: R-SIG-Mac [mailto:r-sig-mac-bounces at r-project.org] On Behalf Of
>>>>> Mario
>>>>> Sent: Saturday, November 24, 2018 8:11 AM
>>>>> To: FRANCISCO JOSE OTERO FERRER <fran.otero at fpct.ulpgc.es>
>>>>> Cc: r-sig-mac at r-project.org
>>>>> Subject: Re: [R-SIG-Mac] Problem with R commander installation under MAC
>>>>> OX 10.10
>>>>> 
>>>>> Old sources:  Rcmdr archive
>>>>> 
>>>>> ---
>>>>> Mario
>>>>> 
>>>>>> El 24 nov 2018, a las 9:43, FRANCISCO JOSE OTERO FERRER
>>>>> <fran.otero at fpct.ulpgc.es> escribi?:
>>>>>> 
>>>>>> Dear users,
>>>>>> 
>>>>>> I am quite new with R, so apologizes for my ignorance. I have MAC OX 10.10
>>>>> (Yosemite) and I would like to install  Rcommander, however apparently it is
>>>>> not possible:
>>>>>> 
>>>>>>> install.packages("Rcmdr")
>>>>>> --- Please select a CRAN mirror for use in this session --- Warning
>>>>>> message:
>>>>>> package ?Rcmdr? is not available (for R version 3.3.3)
>>>>>>> 
>>>>>> 
>>>>>> As I have other softwares that it could have problems with OX update, I am
>>>>> just wondering if there is any manner to install R commander without update
>>>>> my OX version.
>>>>>> 
>>>>>> Thank you very much,
>>>>>> 
>>>>>> Fran
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> Antes de imprimir este correo electr?nico, piense bien si es necesario
>>>>> hacerlo: el medio ambiente es una cuesti?n de todos.
>>>>>> 
>>>>>> Please consider the environment before printing this email.
>>>>>> 
>>>>>>  [[alternative HTML version deleted]]
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>>     [[alternative HTML version deleted]]
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> Antes de imprimir este correo electr?nico, piense bien si es necesario hacerlo: el medio ambiente es una cuesti?n de todos.
>>>> 
>>>> Please consider the environment before printing this email.
>>> 
>>> 
>>> Antes de imprimir este correo electr?nico, piense bien si es necesario hacerlo: el medio ambiente es una cuesti?n de todos.
>>> 
>>> Please consider the environment before printing this email.
>>> 
>> 
>> 
>> Antes de imprimir este correo electr?nico, piense bien si es necesario hacerlo: el medio ambiente es una cuesti?n de todos.
>> 
>> Please consider the environment before printing this email.
> 
> 
> Antes de imprimir este correo electr?nico, piense bien si es necesario hacerlo: el medio ambiente es una cuesti?n de todos.
> 
> Please consider the environment before printing this email.
> 


From jgreenberg @ending from unr@edu  Sun Nov 25 20:47:43 2018
From: jgreenberg @ending from unr@edu (Jonathan Greenberg)
Date: Sun, 25 Nov 2018 19:47:43 +0000
Subject: [R-SIG-Mac] Issues with rj (requirement for StatET) since
 Mojave/3.5.1 update
In-Reply-To: <CABG0rfseEs1estRuoGqsVOQihf5k6zbZ9xPwDNtfymoo6t3Q3Q@mail.gmail.com>
References: <CABG0rfsoUBR9szk1B30Uo6dGa8AEg5UComGDO9-5xv47XCj2Og@mail.gmail.com>
 <ca1b5ddf-f081-1679-a7f1-0a501bbaa17b@stats.ox.ac.uk>
 <CABG0rfseEs1estRuoGqsVOQihf5k6zbZ9xPwDNtfymoo6t3Q3Q@mail.gmail.com>
Message-ID: <CABG0rftJGUdw8yrjR=QS+02aJ1msOMWywg3ve93SpcLq9UUihA@mail.gmail.com>

Ok, figured it out but it was non-trivial.  I found the solution here:
https://github.com/velocyto-team/velocyto.R/issues/2#issuecomment-352584213

TLDR you need to use homebrew (https://brew.sh/):
1) Install homebrew as linked above
2) Install llvm (and maybe boost):
brew install llvm
brew install boost
3) Mod your ~/.R/Makevars (nano ~/.R/Makevars) to read:

CC=/usr/local/clang4/bin/clang
CXX=/usr/local/clang4/bin/clang++
CXX11=/usr/local/clang4/bin/clang++
CXX14=/usr/local/clang4/bin/clang++
CXX17=/usr/local/clang4/bin/clang++
CXX1X=/usr/local/clang4/bin/clang++
LDFLAGS=-L/usr/local/clang4/lib

That allowed me to properly get rj and rj.gd<http://rj.gd> working again which then allowed me to start using Stat-ET again.

I imagine this will solve other problems MacOS X Mojave package installs.

--jonathan

On Sat, Nov 17, 2018 at 5:50 AM Jonathan Greenberg <jgreenberg at unr.edu<mailto:jgreenberg at unr.edu>> wrote:
I'm aware rJava can be installed as a binary and that this is an OS issue, hence posting on r-sig-mac.  I assumed more people are familiar with rJava then rj and I'm fairly confident it's the same issue, hence my showing that error. rj is not on CRAN AFAIK so I'm trying to solve the source install issue for that particular package.

The manual and the website have not, this far, led me to getting this working.  The clang and gfortran installers do not solve the issue.  I suspect there is a Makevars solution but, again, I haven't found one that works.

This happened post Mojave (I had everything working in High Sierra).

J

On Fri, Nov 16, 2018, 11:14 PM Prof Brian Ripley <ripley at stats.ox.ac.uk<mailto:ripley at stats.ox.ac.uk><mailto:ripley at stats.ox.ac.uk<mailto:ripley at stats.ox.ac.uk>>> wrote:
BTW, reading the manual (in this case 'R Installation and
Administration') often helps, and would have here.

On 16/11/2018 19:10, Jonathan Greenberg wrote:
> I'm hoping to get some insight into seeing if I can get "rj" working again in Mojave/R 3.5.1 -- this is a requirements for the Eclipse interface to R "Stat-ET") -- I'm seeing similar issues when trying to get rJava working also from source, e.g.:
>
> Rscript -e 'install.packages("rJava", repos="http://rforge.net", type="source")'

Why are you not installing from CRAN?  Discussing off-CRAN versions here
is frowned on, not least as we know the CRAN version works.

> and
>
> install.packages(c("rj", "rj.gd<http://rj.gd><http://rj.gd><http://rj.gd>"), repos="http://download.walware.de/rj-2.1",type="source")
>
> All issues lead to:
>
> "clang: error: unsupported option '-fopenmp'"
>
> I've installed clang6 and gfortran61 from CRAN, but that doesn't seem to work.  I've tried tweaking the ~/.R/Makevars, e.g.:
>
> FLIBS=-L/usr/local/gfortran/lib -lgfortran -lquadmath -lm
> CC=/usr/local/clang6/bin/clang
> CXX=/usr/local/clang6/bin/clang++
> CXX1X=/usr/local/clang6/bin/clang++
> CXX98=/usr/local/clang6/bin/clang++
> CXX11=/usr/local/clang6/bin/clang++
> CXX14=/usr/local/clang6/bin/clang++
> CXX17=/usr/local/clang6/bin/clang++
> LDFLAGS=-L/usr/local/clang6/lib
>
> Which only results in a different error:
> ld: warning: text-based stub file /System/Library/Frameworks//JavaVM.framework/JavaVM.tbd and library file /System/Library/Frameworks//JavaVM.framework/JavaVM are out of sync. Falling back to library file for linking.
> ld: library not found for -lomp
>
> Any ideas?

That is not an *error*!  It is a warning from the OS (ld is part of the
OS) about parts of the OS being out of step, and has been going on for
some time (AFAIR with High Sierra too).  You have not shown us the
complete output, but on my systems installation of CRAN rJava proceeds.

> --
> --
> Jonathan A. Greenberg, PhD
> Randall Endowed Professor and Associate Professor of Remote Sensing
> Global Environmental Analysis and Remote Sensing (GEARS) Laboratory
> Natural Resources & E<https://maps.google.com/?q=ural+Resources+%26+E&entry=gmail&source=g>nvironmental Science
> University of Nevada, Reno
> 1664 N Virginia St MS/0186
> Reno, NV 89557
> Phone: 415-763-5476<tel:(415)%20763-5476>
> http://www.unr.edu/nres
> Gchat: jgrn307 at gmail.com<mailto:jgrn307 at gmail.com><mailto:jgrn307 at gmail.com<mailto:jgrn307 at gmail.com>><mailto:jgrn307 at gmail.com<mailto:jgrn307 at gmail.com><mailto:jgrn307 at gmail.com<mailto:jgrn307 at gmail.com>>>, Skype: jgrn3007


--
Brian D. Ripley,                  ripley at stats.ox.ac.uk<mailto:ripley at stats.ox.ac.uk><mailto:ripley at stats.ox.ac.uk<mailto:ripley at stats.ox.ac.uk>>
Emeritus Professor of Applied Statistics, University of Oxford

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at r-project.org<mailto:R-SIG-Mac at r-project.org><mailto:R-SIG-Mac at r-project.org<mailto:R-SIG-Mac at r-project.org>>
https://stat.ethz.ch/mailman/listinfo/r-sig-mac
--
--
Jonathan A. Greenberg, PhD
Randall Endowed Professor and Associate Professor of Remote Sensing
Global Environmental Analysis and Remote Sensing (GEARS) Laboratory
Natural Resources & Environmental Science
University of Nevada, Reno
1664 N Virginia St MS/0186
Reno, NV 89557
Phone: 415-763-5476<tel:(415)%20763-5476>
http://www.unr.edu/nres
Gchat: jgrn307 at gmail.com<mailto:jgrn307 at gmail.com><mailto:jgrn307 at gmail.com<mailto:jgrn307 at gmail.com>>, Skype: jgrn3007

        [[alternative HTML version deleted]]

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at r-project.org<mailto:R-SIG-Mac at r-project.org>
https://stat.ethz.ch/mailman/listinfo/r-sig-mac
--
--
Jonathan A. Greenberg, PhD
Randall Endowed Professor and Associate Professor of Remote Sensing
Global Environmental Analysis and Remote Sensing (GEARS) Laboratory
Natural Resources & Environmental Science
University of Nevada, Reno
1664 N Virginia St MS/0186
Reno, NV 89557
Phone: 415-763-5476
http://www.unr.edu/nres
Gchat: jgrn307 at gmail.com<mailto:jgrn307 at gmail.com>, Skype: jgrn3007

	[[alternative HTML version deleted]]


From du@@@@dri@n @ending from gm@il@com  Mon Nov 26 07:41:54 2018
From: du@@@@dri@n @ending from gm@il@com (=?UTF-8?B?QWRyaWFuIER1yJlh?=)
Date: Mon, 26 Nov 2018 08:41:54 +0200
Subject: [R-SIG-Mac] Issues with rj (requirement for StatET) since
 Mojave/3.5.1 update
In-Reply-To: <CABG0rftJGUdw8yrjR=QS+02aJ1msOMWywg3ve93SpcLq9UUihA@mail.gmail.com>
References: <CABG0rfsoUBR9szk1B30Uo6dGa8AEg5UComGDO9-5xv47XCj2Og@mail.gmail.com>
 <ca1b5ddf-f081-1679-a7f1-0a501bbaa17b@stats.ox.ac.uk>
 <CABG0rfseEs1estRuoGqsVOQihf5k6zbZ9xPwDNtfymoo6t3Q3Q@mail.gmail.com>
 <CABG0rftJGUdw8yrjR=QS+02aJ1msOMWywg3ve93SpcLq9UUihA@mail.gmail.com>
Message-ID: <CAJ=0CtBTy-ufXD5YLVANufGyvEOjzUc0f7ND8qTKTjA9f05Y2w@mail.gmail.com>

On Sun, Nov 25, 2018 at 9:48 PM Jonathan Greenberg <jgreenberg at unr.edu>
wrote:
>
> Ok, figured it out but it was non-trivial.  I found the solution here:
>
https://github.com/velocyto-team/velocyto.R/issues/2#issuecomment-352584213
>
> TLDR you need to use homebrew (https://brew.sh/):
> 1) Install homebrew as linked above
> 2) Install llvm (and maybe boost):
> brew install llvm
> brew install boost
> 3) Mod your ~/.R/Makevars (nano ~/.R/Makevars) to read:
>
> CC=/usr/local/clang4/bin/clang
> CXX=/usr/local/clang4/bin/clang++
> CXX11=/usr/local/clang4/bin/clang++
> CXX14=/usr/local/clang4/bin/clang++
> CXX17=/usr/local/clang4/bin/clang++
> CXX1X=/usr/local/clang4/bin/clang++
> LDFLAGS=-L/usr/local/clang4/lib


I've recently installed llvm via homebrew, after an upgrade to Mojave.
However my newly installed clang version is surely not 4 but 7, and it is
not found under /usr/local/.
Instead, I've edited the Makevars file with something like:

CC=/usr/local/Cellar/llvm/7.0.0/bin/clang
CXX=/usr/local/Cellar/llvm/7.0.0/bin/clang++
CXX1X=/usr/local/Cellar/llvm/7.0.0/bin/clang++
LDFLAGS=-L/usr/local/Cellar/llvm/7.0.0/lib
-Wl,-rpath,/usr/local/Cellar/llvm/7.0.0/lib
CXXFLAGS=-I/usr/local/Cellar/llvm/7.0.0/lib/clang/7.0.0/include/

This seems to work for me,
Adrian

--
Adrian Dusa
University of Bucharest
Romanian Social Data Archive
Soseaua Panduri nr. 90-92
050663 Bucharest sector 5
Romania
https://adriandusa.eu

	[[alternative HTML version deleted]]


From bog@@o@chri@tofer @ending from gm@il@com  Thu Nov 29 15:50:50 2018
From: bog@@o@chri@tofer @ending from gm@il@com (Christofer Bogaso)
Date: Thu, 29 Nov 2018 20:20:50 +0530
Subject: [R-SIG-Mac] How to suppress message in system()
Message-ID: <CA+dpOJn_B59SUuNTaPfV8KLaEN=R8=8i756xxR9GWUaqD-UZcA@mail.gmail.com>

Hi,

There is a function called system() with which one can run system code
within R. But I am wondering if there is any way to suppress any message
when invoking system().

For example let run 'df_dummy' through system() [yes, this is just dummy
command which would throw error while invoking]

> suppressMessages(system('df_dummy'))

sh: df_dummy: command not found

I want to suppress the message 'sh: df_dummy: command not found'

I am running R in iOS Mavericks

Any help would be highly appreciated. Thanks,

	[[alternative HTML version deleted]]


From @imon@urb@nek @ending from R-project@org  Thu Nov 29 15:55:53 2018
From: @imon@urb@nek @ending from R-project@org (Simon Urbanek)
Date: Thu, 29 Nov 2018 09:55:53 -0500
Subject: [R-SIG-Mac] How to suppress message in system()
In-Reply-To: <CA+dpOJn_B59SUuNTaPfV8KLaEN=R8=8i756xxR9GWUaqD-UZcA@mail.gmail.com>
References: <CA+dpOJn_B59SUuNTaPfV8KLaEN=R8=8i756xxR9GWUaqD-UZcA@mail.gmail.com>
Message-ID: <1689C1D8-9BA1-41AC-8ACA-B51B1A673AF2@R-project.org>

See 
?system
in particular ignore.stdout and ignore.stderr parameters. Those are not messages and thus have nothing to do with suppressMessages().

Cheers,
Simon


> On Nov 29, 2018, at 9:50 AM, Christofer Bogaso <bogaso.christofer at gmail.com> wrote:
> 
> Hi,
> 
> There is a function called system() with which one can run system code
> within R. But I am wondering if there is any way to suppress any message
> when invoking system().
> 
> For example let run 'df_dummy' through system() [yes, this is just dummy
> command which would throw error while invoking]
> 
>> suppressMessages(system('df_dummy'))
> 
> sh: df_dummy: command not found
> 
> I want to suppress the message 'sh: df_dummy: command not found'
> 
> I am running R in iOS Mavericks
> 
> Any help would be highly appreciated. Thanks,
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From @imon@urb@nek @ending from R-project@org  Thu Nov 29 16:05:59 2018
From: @imon@urb@nek @ending from R-project@org (Simon Urbanek)
Date: Thu, 29 Nov 2018 10:05:59 -0500
Subject: [R-SIG-Mac] Issues with rj (requirement for StatET) since
 Mojave/3.5.1 update
In-Reply-To: <CAJ=0CtBTy-ufXD5YLVANufGyvEOjzUc0f7ND8qTKTjA9f05Y2w@mail.gmail.com>
References: <CABG0rfsoUBR9szk1B30Uo6dGa8AEg5UComGDO9-5xv47XCj2Og@mail.gmail.com>
 <ca1b5ddf-f081-1679-a7f1-0a501bbaa17b@stats.ox.ac.uk>
 <CABG0rfseEs1estRuoGqsVOQihf5k6zbZ9xPwDNtfymoo6t3Q3Q@mail.gmail.com>
 <CABG0rftJGUdw8yrjR=QS+02aJ1msOMWywg3ve93SpcLq9UUihA@mail.gmail.com>
 <CAJ=0CtBTy-ufXD5YLVANufGyvEOjzUc0f7ND8qTKTjA9f05Y2w@mail.gmail.com>
Message-ID: <076A7197-2ECF-47EA-9376-7E0CB6746D82@R-project.org>

For posterity: both recommendations are plain wrong so don't use (obviously, the settings didn't match the installed compilers). They are not supported in the CRAN version of R which is compiled by the clang 6.0 compiler in /usr/local/clang6 that we supply on CRAN. You can compile your own R or use homebrew, but don't expect CRAN packages to work with that. You don't even need to touch Makevars, just setting PATH to start with /usr/local/clang6/bin before compilation is sufficient.

Cheers,
Simon


> On Nov 26, 2018, at 1:41 AM, Adrian Du?a <dusa.adrian at gmail.com> wrote:
> 
> On Sun, Nov 25, 2018 at 9:48 PM Jonathan Greenberg <jgreenberg at unr.edu>
> wrote:
>> 
>> Ok, figured it out but it was non-trivial.  I found the solution here:
>> 
> https://github.com/velocyto-team/velocyto.R/issues/2#issuecomment-352584213
>> 
>> TLDR you need to use homebrew (https://brew.sh/):
>> 1) Install homebrew as linked above
>> 2) Install llvm (and maybe boost):
>> brew install llvm
>> brew install boost
>> 3) Mod your ~/.R/Makevars (nano ~/.R/Makevars) to read:
>> 
>> CC=/usr/local/clang4/bin/clang
>> CXX=/usr/local/clang4/bin/clang++
>> CXX11=/usr/local/clang4/bin/clang++
>> CXX14=/usr/local/clang4/bin/clang++
>> CXX17=/usr/local/clang4/bin/clang++
>> CXX1X=/usr/local/clang4/bin/clang++
>> LDFLAGS=-L/usr/local/clang4/lib
> 
> 
> I've recently installed llvm via homebrew, after an upgrade to Mojave.
> However my newly installed clang version is surely not 4 but 7, and it is
> not found under /usr/local/.
> Instead, I've edited the Makevars file with something like:
> 
> CC=/usr/local/Cellar/llvm/7.0.0/bin/clang
> CXX=/usr/local/Cellar/llvm/7.0.0/bin/clang++
> CXX1X=/usr/local/Cellar/llvm/7.0.0/bin/clang++
> LDFLAGS=-L/usr/local/Cellar/llvm/7.0.0/lib
> -Wl,-rpath,/usr/local/Cellar/llvm/7.0.0/lib
> CXXFLAGS=-I/usr/local/Cellar/llvm/7.0.0/lib/clang/7.0.0/include/
> 
> This seems to work for me,
> Adrian
> 
> --
> Adrian Dusa
> University of Bucharest
> Romanian Social Data Archive
> Soseaua Panduri nr. 90-92
> 050663 Bucharest sector 5
> Romania
> https://adriandusa.eu
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From du@@@@dri@n @ending from gm@il@com  Thu Nov 29 16:44:12 2018
From: du@@@@dri@n @ending from gm@il@com (=?UTF-8?B?QWRyaWFuIER1yJlh?=)
Date: Thu, 29 Nov 2018 16:44:12 +0100
Subject: [R-SIG-Mac] Issues with rj (requirement for StatET) since
 Mojave/3.5.1 update
In-Reply-To: <076A7197-2ECF-47EA-9376-7E0CB6746D82@R-project.org>
References: <CABG0rfsoUBR9szk1B30Uo6dGa8AEg5UComGDO9-5xv47XCj2Og@mail.gmail.com>
 <ca1b5ddf-f081-1679-a7f1-0a501bbaa17b@stats.ox.ac.uk>
 <CABG0rfseEs1estRuoGqsVOQihf5k6zbZ9xPwDNtfymoo6t3Q3Q@mail.gmail.com>
 <CABG0rftJGUdw8yrjR=QS+02aJ1msOMWywg3ve93SpcLq9UUihA@mail.gmail.com>
 <CAJ=0CtBTy-ufXD5YLVANufGyvEOjzUc0f7ND8qTKTjA9f05Y2w@mail.gmail.com>
 <076A7197-2ECF-47EA-9376-7E0CB6746D82@R-project.org>
Message-ID: <CAJ=0CtBmOJBQKpWCo_=Xn0++xt6L1Q_4+CWJMYz5EXey6w1C_g@mail.gmail.com>

On Thu, Nov 29, 2018 at 4:06 PM Simon Urbanek <simon.urbanek at r-project.org>
wrote:
>
> For posterity: both recommendations are plain wrong so don't use
(obviously, the settings didn't match the installed compilers). They are
not supported in the CRAN version of R which is compiled by the clang 6.0
compiler in /usr/local/clang6 that we supply on CRAN. You can compile your
own R or use homebrew, but don't expect CRAN packages to work with that.
You don't even need to touch Makevars, just setting PATH to start with
/usr/local/clang6/bin before compilation is sufficient.


Thanks very much Simon, will follow your instructions to be CRAN compliant.
Best,
Adrian

	[[alternative HTML version deleted]]


From du@@@@dri@n @ending from unibuc@ro  Mon Nov 26 07:23:47 2018
From: du@@@@dri@n @ending from unibuc@ro (=?UTF-8?B?QWRyaWFuIER1yJlh?=)
Date: Mon, 26 Nov 2018 08:23:47 +0200
Subject: [R-SIG-Mac] Issues with rj (requirement for StatET) since
 Mojave/3.5.1 update
In-Reply-To: <CABG0rftJGUdw8yrjR=QS+02aJ1msOMWywg3ve93SpcLq9UUihA@mail.gmail.com>
References: <CABG0rfsoUBR9szk1B30Uo6dGa8AEg5UComGDO9-5xv47XCj2Og@mail.gmail.com>
 <ca1b5ddf-f081-1679-a7f1-0a501bbaa17b@stats.ox.ac.uk>
 <CABG0rfseEs1estRuoGqsVOQihf5k6zbZ9xPwDNtfymoo6t3Q3Q@mail.gmail.com>
 <CABG0rftJGUdw8yrjR=QS+02aJ1msOMWywg3ve93SpcLq9UUihA@mail.gmail.com>
Message-ID: <CAJ=0CtBP6Z_6GwJDp0Ly3PbnYjQ1r1hDz7L=+tbCbKZst1cdwg@mail.gmail.com>

On Sun, Nov 25, 2018 at 9:48 PM Jonathan Greenberg <jgreenberg at unr.edu>
wrote:
>
> Ok, figured it out but it was non-trivial.  I found the solution here:
>
https://github.com/velocyto-team/velocyto.R/issues/2#issuecomment-352584213
>
> TLDR you need to use homebrew (https://brew.sh/):
> 1) Install homebrew as linked above
> 2) Install llvm (and maybe boost):
> brew install llvm
> brew install boost
> 3) Mod your ~/.R/Makevars (nano ~/.R/Makevars) to read:
>
> CC=/usr/local/clang4/bin/clang
> CXX=/usr/local/clang4/bin/clang++
> CXX11=/usr/local/clang4/bin/clang++
> CXX14=/usr/local/clang4/bin/clang++
> CXX17=/usr/local/clang4/bin/clang++
> CXX1X=/usr/local/clang4/bin/clang++
> LDFLAGS=-L/usr/local/clang4/lib


I've recently installed llvm via homebrew, after an upgrade to Mojave.
However my newly installed clang version is surely not 4 but 7, and it is
not found under /usr/local/.
Instead, I've edited the Makevars file with something like:

CC=/usr/local/Cellar/llvm/7.0.0/bin/clang
CXX=/usr/local/Cellar/llvm/7.0.0/bin/clang++
CXX1X=/usr/local/Cellar/llvm/7.0.0/bin/clang++
LDFLAGS=-L/usr/local/Cellar/llvm/7.0.0/lib
-Wl,-rpath,/usr/local/Cellar/llvm/7.0.0/lib
CXXFLAGS=-I/usr/local/Cellar/llvm/7.0.0/lib/clang/7.0.0/include/

This seems to work for me,
Adrian

--
Adrian Dusa
University of Bucharest
Romanian Social Data Archive
Soseaua Panduri nr. 90-92
050663 Bucharest sector 5
Romania
https://adriandusa.eu

	[[alternative HTML version deleted]]


