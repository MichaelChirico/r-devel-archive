From kw1958 at gmail.com  Sat Sep  1 17:26:28 2012
From: kw1958 at gmail.com (Keith Weintraub)
Date: Sat, 1 Sep 2012 11:26:28 -0400
Subject: [R-SIG-Mac] mach_override
Message-ID: <ACD9A6E3-1D8B-43C7-B08B-35079609B6FC@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120901/77979b63/attachment.pl>

From mailinglist.honeypot at gmail.com  Sat Sep  1 18:51:55 2012
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Sat, 1 Sep 2012 12:51:55 -0400
Subject: [R-SIG-Mac] mach_override
In-Reply-To: <ACD9A6E3-1D8B-43C7-B08B-35079609B6FC@gmail.com>
References: <ACD9A6E3-1D8B-43C7-B08B-35079609B6FC@gmail.com>
Message-ID: <CAHA9McNUsN7sjc7heRJSfwRKNyvBWcfnsoVHBEPFiT-xStb4sQ@mail.gmail.com>

Hi Keith,

On Sat, Sep 1, 2012 at 11:26 AM, Keith Weintraub <kw1958 at gmail.com> wrote:
> I previously posted this message to r-help-request and it was suggested that I post here instead.
>
> Note that I have re-installed R and gotten the same result.
>
> Folks,
>  I just upgraded my Mac to Mountain Lion and on running R.app I get the following message:
>
> mach_override: some instructions unknown! Need to update mach_override.c
> err = f8000001 /Volumes/Haxdisk/Projects/DefaultFolderX/DFCarbonPatch/../../Libraries/mach_star-1.2-intel-0.3/mach_override/mach_override.c:215
> err = f8000001 /Volumes/Haxdisk/Projects/DefaultFolderX/DFCarbonPatch/../../Libraries/mach_star-1.2-intel-0.3/mach_override/mach_override.c:228
> err = f8000001 /Volumes/Haxdisk/Projects/DefaultFolderX/DFCarbonPatch/../../Libraries/mach_star-1.2-intel-0.3/mach_override/mach_override.c:234
> err = f8000001 /Volumes/Haxdisk/Projects/DefaultFolderX/DFCarbonPatch/../../Libraries/mach_star-1.2-intel-0.3/mach_override/mach_override.c:248
> err = f8000001 /Volumes/Haxdisk/Projects/DefaultFolderX/DFCarbonPatch/../../Libraries/mach_star-1.2-intel-0.3/mach_override/mach_override.c:253
>
>
> Note that I have loaded no packages nor run anything else on start-up.

Hmm ... I have no answers for you, but it seems like you are not alone:

http://forum.processing.org/topic/problem-mach-override-some-instructions-unknown-need-to-update-mach-override-c

Does this happens right when you startup up R.app, or after you run a
particular command, or ... ?

Do you get this message when you start R from the terminal? How about
if you fire it up with `R --vanilla` (to skip over loading some stuff
you might be loading but didn't realize).

What if you use R via RStudio (rstudio.org)?

-steve

-- 
Steve Lianoglou
Graduate Student: Computational Systems Biology
 | Memorial Sloan-Kettering Cancer Center
 | Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From bhh at xs4all.nl  Sat Sep  1 18:54:03 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Sat, 1 Sep 2012 18:54:03 +0200
Subject: [R-SIG-Mac] mach_override
In-Reply-To: <ACD9A6E3-1D8B-43C7-B08B-35079609B6FC@gmail.com>
References: <ACD9A6E3-1D8B-43C7-B08B-35079609B6FC@gmail.com>
Message-ID: <6A0F06BC-A825-47ED-81C5-66E360C67765@xs4all.nl>


On 01-09-2012, at 17:26, Keith Weintraub wrote:

> I previously posted this message to r-help-request and it was suggested that I post here instead.
> 
> Note that I have re-installed R and gotten the same result.
> 
> Folks,
> I just upgraded my Mac to Mountain Lion and on running R.app I get the following message:
> 
> mach_override: some instructions unknown! Need to update mach_override.c
> err = f8000001 /Volumes/Haxdisk/Projects/DefaultFolderX/DFCarbonPatch/../../Libraries/mach_star-1.2-intel-0.3/mach_override/mach_override.c:215
> err = f8000001 /Volumes/Haxdisk/Projects/DefaultFolderX/DFCarbonPatch/../../Libraries/mach_star-1.2-intel-0.3/mach_override/mach_override.c:228
> err = f8000001 /Volumes/Haxdisk/Projects/DefaultFolderX/DFCarbonPatch/../../Libraries/mach_star-1.2-intel-0.3/mach_override/mach_override.c:234
> err = f8000001 /Volumes/Haxdisk/Projects/DefaultFolderX/DFCarbonPatch/../../Libraries/mach_star-1.2-intel-0.3/mach_override/mach_override.c:248
> err = f8000001 /Volumes/Haxdisk/Projects/DefaultFolderX/DFCarbonPatch/../../Libraries/mach_star-1.2-intel-0.3/mach_override/mach_override.c:253
> 

Are you running DefaultFolderX? Which version?
If yes then see this:  http://www.stclairsw.com/DefaultFolderX/beta.html

Berend

> 
> Note that I have loaded no packages nor run anything else on start-up.
> 
> Here is my session info:
> 
>> sessionInfo()
> R version 2.15.1 (2012-06-22)
> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
> 
> loaded via a namespace (and not attached):
> [1] tools_2.15.1
> 
> Does this relate to my upgrade or something else? Is there a way to fix this.
> 
> One thing that I have noticed (after updating all my installed packages) is that much of ggplot2 will not work for me anymore.
> 
> Thanks for your time,
> KW
> 
> 
> --
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From fisher at plessthan.com  Sat Sep  1 19:30:47 2012
From: fisher at plessthan.com (Dennis Fisher)
Date: Sat, 1 Sep 2012 10:30:47 -0700
Subject: [R-SIG-Mac] New message from OS (Mountain Lion) with system command
Message-ID: <ABA5AFC8-FB40-4657-B5BC-070561D2292B@plessthan.com>

Colleagues,

I recently upgraded my OS to Mountain Lion.  Previously, when ran R from a terminal and I issued the command:
	PSOUTPUT	<- system("ps", intern=TRUE)
the output returned without a problem.

Since upgrading to Mountain Lion (R 2.15.1), the same command returns the message:
	dyld: DYLD_ environment variables being ignored because main executable (/bin/ps) is setuid or setgid 
Issuing the "ps" command directly from the terminal or from Rgui does not create the same behavior.

I tracked the problem down to the following.  Running R in a terminal:
	> grep("DYLD", system("set", intern=T), value=T)
	 [1] "DYLD_LIBRARY_PATH=/Library/Frameworks/R.framework/Resources/lib/x86_64" 
Executing the same command from Rgui:
	> grep("DYLD", system("set", intern=T), value=T) 
	character(0) 
And, in a terminal:
	set | grep DYLD 
returns nothing.

It appears that R64, but not Rgui, sets DYLD_LIBRARY_PATH.  Can anyone offer an explanation?  I discovered that:
	Sys.unsetenv("DYLD_LIBRARY_PATH") 
prevents the problem.  Do I incur any hidden risks by executing that command?

Dennis

Dennis Fisher MD
P < (The "P Less Than" Company)
Phone: 1-866-PLessThan (1-866-753-7784)
Fax: 1-866-PLessThan (1-866-753-7784)
www.PLessThan.com


From kw1958 at gmail.com  Sun Sep  2 00:29:42 2012
From: kw1958 at gmail.com (Keith Weintraub)
Date: Sat, 1 Sep 2012 18:29:42 -0400
Subject: [R-SIG-Mac] mach_override
In-Reply-To: <CAHA9McNUsN7sjc7heRJSfwRKNyvBWcfnsoVHBEPFiT-xStb4sQ@mail.gmail.com>
References: <ACD9A6E3-1D8B-43C7-B08B-35079609B6FC@gmail.com>
	<CAHA9McNUsN7sjc7heRJSfwRKNyvBWcfnsoVHBEPFiT-xStb4sQ@mail.gmail.com>
Message-ID: <BBD2AE65-D09C-44B7-A6B0-9FFA72799977@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120901/cc17d6e1/attachment.pl>

From kw1958 at gmail.com  Sun Sep  2 00:33:54 2012
From: kw1958 at gmail.com (Keith Weintraub)
Date: Sat, 1 Sep 2012 18:33:54 -0400
Subject: [R-SIG-Mac] mach_override
In-Reply-To: <6A0F06BC-A825-47ED-81C5-66E360C67765@xs4all.nl>
References: <ACD9A6E3-1D8B-43C7-B08B-35079609B6FC@gmail.com>
	<6A0F06BC-A825-47ED-81C5-66E360C67765@xs4all.nl>
Message-ID: <50211EBB-DA1D-4B89-A913-030D1ABA0BDE@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120901/f590b78f/attachment.pl>

From mailinglist.honeypot at gmail.com  Sun Sep  2 00:42:39 2012
From: mailinglist.honeypot at gmail.com (Steve Lianoglou)
Date: Sat, 1 Sep 2012 18:42:39 -0400
Subject: [R-SIG-Mac] mach_override
In-Reply-To: <50211EBB-DA1D-4B89-A913-030D1ABA0BDE@gmail.com>
References: <ACD9A6E3-1D8B-43C7-B08B-35079609B6FC@gmail.com>
	<6A0F06BC-A825-47ED-81C5-66E360C67765@xs4all.nl>
	<50211EBB-DA1D-4B89-A913-030D1ABA0BDE@gmail.com>
Message-ID: <CAHA9McOL6ee_x4SKkB9zf9iq83Kje-v+00jCvyouGUNwbj8YrA@mail.gmail.com>

On Sat, Sep 1, 2012 at 6:33 PM, Keith Weintraub <kw1958 at gmail.com> wrote:
> I installed DefaultFolderX 4.5b1 according to the link you provided and have the same issue.

So, I guess uninstalling DefaultFolderX fixes (sidesteps) the issue, no?

Does R.app crash or is it just firing a warning that you can just
ignore and carry on?

-steve

-- 
Steve Lianoglou
Graduate Student: Computational Systems Biology
 | Memorial Sloan-Kettering Cancer Center
 | Weill Medical College of Cornell University
Contact Info: http://cbio.mskcc.org/~lianos/contact


From kw1958 at gmail.com  Sun Sep  2 02:32:53 2012
From: kw1958 at gmail.com (Keith Weintraub)
Date: Sat, 1 Sep 2012 20:32:53 -0400
Subject: [R-SIG-Mac] mach_override
In-Reply-To: <CAHA9McOL6ee_x4SKkB9zf9iq83Kje-v+00jCvyouGUNwbj8YrA@mail.gmail.com>
References: <ACD9A6E3-1D8B-43C7-B08B-35079609B6FC@gmail.com>
	<6A0F06BC-A825-47ED-81C5-66E360C67765@xs4all.nl>
	<50211EBB-DA1D-4B89-A913-030D1ABA0BDE@gmail.com>
	<CAHA9McOL6ee_x4SKkB9zf9iq83Kje-v+00jCvyouGUNwbj8YrA@mail.gmail.com>
Message-ID: <4E785F7F-0E32-49AE-ABF2-292024C6ACA3@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120901/05a7ab61/attachment.pl>

From simon.urbanek at r-project.org  Sun Sep  2 03:07:28 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 1 Sep 2012 21:07:28 -0400
Subject: [R-SIG-Mac] mach_override
In-Reply-To: <4E785F7F-0E32-49AE-ABF2-292024C6ACA3@gmail.com>
References: <ACD9A6E3-1D8B-43C7-B08B-35079609B6FC@gmail.com>
	<6A0F06BC-A825-47ED-81C5-66E360C67765@xs4all.nl>
	<50211EBB-DA1D-4B89-A913-030D1ABA0BDE@gmail.com>
	<CAHA9McOL6ee_x4SKkB9zf9iq83Kje-v+00jCvyouGUNwbj8YrA@mail.gmail.com>
	<4E785F7F-0E32-49AE-ABF2-292024C6ACA3@gmail.com>
Message-ID: <1939A7F5-6683-460D-A475-4ED44909CA4B@r-project.org>

This is a typical issue illustrating why haxies are a bad idea and a huge security risk - they get loaded into every application, so the code producing those errors is not actually R.app but a broken haxie (here DefaultFolderX). It has absolutely nothing to do with R ... it's 3rd party code injected into R at user's request so R can't do anything about it ... :/


On Sep 1, 2012, at 8:32 PM, Keith Weintraub wrote:

> Well, I could have sworn there were problems with examples from http://groups.google.com/group/ggplot2/topics
> 
> But now I can't find any issues.
> 
> R.app does not crash but gives the following warning (I think this is in a previous message in this thread):
> 
> [R.app GUI 1.52 (6188) i386-apple-darwin9.8.0]
> 
> [History restored from /Users/kw/R/.Rhistory]
> 
> mach_override: some instructions unknown! Need to update mach_override.c
> err = f8000001 /Volumes/Haxdisk/Projects/DefaultFolderX/DFCarbonPatch/../../Libraries/mach_star-1.2-intel-0.3/mach_override/mach_override.c:215
> err = f8000001 /Volumes/Haxdisk/Projects/DefaultFolderX/DFCarbonPatch/../../Libraries/mach_star-1.2-intel-0.3/mach_override/mach_override.c:228
> err = f8000001 /Volumes/Haxdisk/Projects/DefaultFolderX/DFCarbonPatch/../../Libraries/mach_star-1.2-intel-0.3/mach_override/mach_override.c:234
> err = f8000001 /Volumes/Haxdisk/Projects/DefaultFolderX/DFCarbonPatch/../../Libraries/mach_star-1.2-intel-0.3/mach_override/mach_override.c:248
> err = f8000001 /Volumes/Haxdisk/Projects/DefaultFolderX/DFCarbonPatch/../../Libraries/mach_star-1.2-intel-0.3/mach_override/mach_override.c:253
> 
> Kind-of scary to see "some instructions unknown". Maybe it won't come back to byte me.
> 
> Note that I don't have anything in a start up file and I run with no workspace saved.
> 
> I am somewhat surprised that no-one else has had this issue. I can't be the only person that uses R.app on a MacbookPro that has been upgraded to Mountain Lion.
> 
> Strange!
> 
> I will respond to any requests for more info and I will keep looking at this thread to see if a solution is published.
> 
> Thanks so much for all the time,
> KW
> 
> 
> --
> 
> On Sep 1, 2012, at 6:42 PM, Steve Lianoglou <mailinglist.honeypot at gmail.com> wrote:
> 
>> On Sat, Sep 1, 2012 at 6:33 PM, Keith Weintraub <kw1958 at gmail.com> wrote:
>>> I installed DefaultFolderX 4.5b1 according to the link you provided and have the same issue.
>> 
>> So, I guess uninstalling DefaultFolderX fixes (sidesteps) the issue, no?
>> 
>> Does R.app crash or is it just firing a warning that you can just
>> ignore and carry on?
>> 
>> -steve
>> 
>> -- 
>> Steve Lianoglou
>> Graduate Student: Computational Systems Biology
>> | Memorial Sloan-Kettering Cancer Center
>> | Weill Medical College of Cornell University
>> Contact Info: http://cbio.mskcc.org/~lianos/contact
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From simon.urbanek at r-project.org  Sun Sep  2 03:32:39 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 1 Sep 2012 21:32:39 -0400
Subject: [R-SIG-Mac] (1) Just ignore warning messages? and (2) Using
	graphics output from R in a Cocoa program
In-Reply-To: <CAPUB6NA2LA8RM8Ac3qw=GKZPsF0RkAYPhjQVVCW+KcQL0hFdhw@mail.gmail.com>
References: <CAPUB6NA2LA8RM8Ac3qw=GKZPsF0RkAYPhjQVVCW+KcQL0hFdhw@mail.gmail.com>
Message-ID: <A1ADB1CF-4C09-4164-BAF1-1DA6B9BB6DBA@r-project.org>

On Aug 31, 2012, at 12:12 PM, Paul Johnson wrote:

> I'm looking at using REngine which provide a wrapper for using R from an
> Objective-C/Cocoa program. I checked out the branch from the packages
> repository. I'm currently running Mac OS X 10.7.4 with Xcode 4 and the
> default compiler. The compiler reports one use of a deprecated function and
> I fixed that, I think. I also get 8 warning messages like this:
> 
> <Incompatible pointer types assigning to 'void (*)(const char *)' from
> 'void (char *)'>
> such as for the line
> 
>    ptr_R_ShowMessage = Re_ShowMessage;
> in Rinit.m.
> It appears these warning messages can safely be ignored. Is that a safe
> assumption?
> 

Yes (you could also fix the callbacks instead).


> I also wonder if REngine will give me all the functionality of R.

Not really, it exposes only a subset of R's functionality - REngine was developed to support the Mac GUI so it essentially includes whatever the GUI needs.


> In particular, I want to be able to display graphical output from R in a View.

Cocoa Quartz back-end does exactly that (qdCocoa.m in R if you care - see the QuartzCocoaView class among other things). Probably the easiest way would be to simply let Cocoa Quartz create the view and grab it for yourself. Otherwise you can also take the Cocoa Quartz code and hack it the way you want it (essentially creating another Quartz back-end) but I would not suggest that unless you need to customize the actual view class.

Cheers,
Simon



> Being new at this I'm still studying how this all will work. Can I use
> Quartz or do I need X11? Is there some demo program that provides some
> example of how I might do this?
> 



> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From kw1958 at gmail.com  Sun Sep  2 04:32:00 2012
From: kw1958 at gmail.com (Keith Weintraub)
Date: Sat, 1 Sep 2012 22:32:00 -0400
Subject: [R-SIG-Mac] mach_override
In-Reply-To: <1939A7F5-6683-460D-A475-4ED44909CA4B@r-project.org>
References: <ACD9A6E3-1D8B-43C7-B08B-35079609B6FC@gmail.com>
	<6A0F06BC-A825-47ED-81C5-66E360C67765@xs4all.nl>
	<50211EBB-DA1D-4B89-A913-030D1ABA0BDE@gmail.com>
	<CAHA9McOL6ee_x4SKkB9zf9iq83Kje-v+00jCvyouGUNwbj8YrA@mail.gmail.com>
	<4E785F7F-0E32-49AE-ABF2-292024C6ACA3@gmail.com>
	<1939A7F5-6683-460D-A475-4ED44909CA4B@r-project.org>
Message-ID: <18CEDC17-78CB-4784-8D07-68141BA8CA2A@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120901/562c3cc4/attachment.pl>

From kw1958 at gmail.com  Sun Sep  2 04:35:31 2012
From: kw1958 at gmail.com (Keith Weintraub)
Date: Sat, 1 Sep 2012 22:35:31 -0400
Subject: [R-SIG-Mac] mach_override
In-Reply-To: <18CEDC17-78CB-4784-8D07-68141BA8CA2A@gmail.com>
References: <ACD9A6E3-1D8B-43C7-B08B-35079609B6FC@gmail.com>
	<6A0F06BC-A825-47ED-81C5-66E360C67765@xs4all.nl>
	<50211EBB-DA1D-4B89-A913-030D1ABA0BDE@gmail.com>
	<CAHA9McOL6ee_x4SKkB9zf9iq83Kje-v+00jCvyouGUNwbj8YrA@mail.gmail.com>
	<4E785F7F-0E32-49AE-ABF2-292024C6ACA3@gmail.com>
	<1939A7F5-6683-460D-A475-4ED44909CA4B@r-project.org>
	<18CEDC17-78CB-4784-8D07-68141BA8CA2A@gmail.com>
Message-ID: <AFD09550-4538-4B07-8FE0-4CE68FAF7B8F@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120901/d07783ae/attachment.pl>

From pdalgd at gmail.com  Sun Sep  2 10:32:39 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Sun, 2 Sep 2012 10:32:39 +0200
Subject: [R-SIG-Mac] New message from OS (Mountain Lion) with system
	command
In-Reply-To: <ABA5AFC8-FB40-4657-B5BC-070561D2292B@plessthan.com>
References: <ABA5AFC8-FB40-4657-B5BC-070561D2292B@plessthan.com>
Message-ID: <5CEE40CF-D1BA-4004-B732-69C93B18DB39@gmail.com>


On Sep 1, 2012, at 19:30 , Dennis Fisher wrote:

> Colleagues,
> 
> I recently upgraded my OS to Mountain Lion.  Previously, when ran R from a terminal and I issued the command:
> 	PSOUTPUT	<- system("ps", intern=TRUE)
> the output returned without a problem.
> 
> Since upgrading to Mountain Lion (R 2.15.1), the same command returns the message:
> 	dyld: DYLD_ environment variables being ignored because main executable (/bin/ps) is setuid or setgid 
> Issuing the "ps" command directly from the terminal or from Rgui does not create the same behavior.
> 
> I tracked the problem down to the following.  Running R in a terminal:
> 	> grep("DYLD", system("set", intern=T), value=T)
> 	 [1] "DYLD_LIBRARY_PATH=/Library/Frameworks/R.framework/Resources/lib/x86_64" 
> Executing the same command from Rgui:
> 	> grep("DYLD", system("set", intern=T), value=T) 
> 	character(0) 
> And, in a terminal:
> 	set | grep DYLD 
> returns nothing.
> 
> It appears that R64, but not Rgui, sets DYLD_LIBRARY_PATH.  Can anyone offer an explanation?  I discovered that:
> 	Sys.unsetenv("DYLD_LIBRARY_PATH") 
> prevents the problem.  Do I incur any hidden risks by executing that command?
> 

Well, something could be using the path.... If it's not there in R.app, I have a hunch that nothing actually _is_ using it, but you need a better expert than me to be sure (Simon?).

Anyways, a bit of Googling indicates that this has been an annoyance for others as well (e.g., affecting sudo for MySQL users), and that it is fixed in the 10.8.1 upgrade of  Mountain Lion, so perhaps just wait it out?

(I sincerely hope that only the warning is new and that setuid programs always have ignored the dynamic library path. Otherwise it would be a security hole the size of a truck...)

-pd 

> Dennis
> 
> Dennis Fisher MD
> P < (The "P Less Than" Company)
> Phone: 1-866-PLessThan (1-866-753-7784)
> Fax: 1-866-PLessThan (1-866-753-7784)
> www.PLessThan.com
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From carl at witthoft.com  Sun Sep  2 15:01:33 2012
From: carl at witthoft.com (Carl Witthoft)
Date: Sun, 02 Sep 2012 09:01:33 -0400
Subject: [R-SIG-Mac] OT Re:haxies and injection
In-Reply-To: <mailman.960.1346574768.4564.r-sig-mac@r-project.org>
References: <mailman.960.1346574768.4564.r-sig-mac@r-project.org>
Message-ID: <504358AD.5000507@witthoft.com>

While I can understand the frustration and confusion caused by 
DefaultFolderX not playing nice with R and MountainLion,  I would like 
to point out that many if not all of us use an awful lot of OSX apps 
that are not R.   Default Folder is, and has been since its inception, a 
spectacularly useful tool.  Add to that the fact that there is an 
options dialog to list apps that DFX does NOT load into, and you should 
be fine to go.

-- 

Sent from my Cray XK6
"Quidvis recte factum, quamvis humile, praeclarum."


From simon.urbanek at r-project.org  Sun Sep  2 15:39:07 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 2 Sep 2012 09:39:07 -0400
Subject: [R-SIG-Mac] New message from OS (Mountain Lion) with system
	command
In-Reply-To: <5CEE40CF-D1BA-4004-B732-69C93B18DB39@gmail.com>
References: <ABA5AFC8-FB40-4657-B5BC-070561D2292B@plessthan.com>
	<5CEE40CF-D1BA-4004-B732-69C93B18DB39@gmail.com>
Message-ID: <9EDFABDE-01DD-4C64-9852-01DE4CC1D85B@r-project.org>


On Sep 2, 2012, at 4:32 AM, peter dalgaard wrote:

> 
> On Sep 1, 2012, at 19:30 , Dennis Fisher wrote:
> 
>> Colleagues,
>> 
>> I recently upgraded my OS to Mountain Lion.  Previously, when ran R from a terminal and I issued the command:
>> 	PSOUTPUT	<- system("ps", intern=TRUE)
>> the output returned without a problem.
>> 
>> Since upgrading to Mountain Lion (R 2.15.1), the same command returns the message:
>> 	dyld: DYLD_ environment variables being ignored because main executable (/bin/ps) is setuid or setgid 
>> Issuing the "ps" command directly from the terminal or from Rgui does not create the same behavior.
>> 
>> I tracked the problem down to the following.  Running R in a terminal:
>> 	> grep("DYLD", system("set", intern=T), value=T)
>> 	 [1] "DYLD_LIBRARY_PATH=/Library/Frameworks/R.framework/Resources/lib/x86_64" 
>> Executing the same command from Rgui:
>> 	> grep("DYLD", system("set", intern=T), value=T) 
>> 	character(0) 
>> And, in a terminal:
>> 	set | grep DYLD 
>> returns nothing.
>> 
>> It appears that R64, but not Rgui, sets DYLD_LIBRARY_PATH.  Can anyone offer an explanation?  I discovered that:
>> 	Sys.unsetenv("DYLD_LIBRARY_PATH") 
>> prevents the problem.  Do I incur any hidden risks by executing that command?
>> 
> 
> Well, something could be using the path.... If it's not there in R.app, I have a hunch that nothing actually _is_ using it, but you need a better expert than me to be sure (Simon?).
> 

DYLD_LIBRARY_PATH is only set in the R startup script to make R relocatable - i.e. when you don't use the framework it is set so R can find libR etc. The GUI doesn't need it because it is using the framework. Framework installations (like the CRAN binary) don't need it, either, but we're not stripping it from the R script as to not mess with it unnecessarily (we could, though, but it would change the behavior slightly - not for "normal" R use, but as it is you can put extra libraries that you want only R to use  in $R_HOME/lib and they will be preferred to system ones).


> Anyways, a bit of Googling indicates that this has been an annoyance for others as well (e.g., affecting sudo for MySQL users), and that it is fixed in the 10.8.1 upgrade of  Mountain Lion, so perhaps just wait it out?
> 
> (I sincerely hope that only the warning is new and that setuid programs always have ignored the dynamic library path. Otherwise it would be a security hole the size of a truck...)
> 

Yes, in fact setuid binaries have even more safeguards:

$ DYLD_LIBRARY_PATH=/Library/Frameworks/R.framework/Resources/lib ./lr
dyld: Library not loaded: libR.dylib
  Referenced from: /Users/urbanek/./lr
  Reason: unsafe use of relative rpath libR.dylib in /Users/urbanek/./lr with restricted binary

so I guess Apple was just trying to make it more explicit.

Cheers,
Simon


> -pd 
> 
>> Dennis
>> 
>> Dennis Fisher MD
>> P < (The "P Less Than" Company)
>> Phone: 1-866-PLessThan (1-866-753-7784)
>> Fax: 1-866-PLessThan (1-866-753-7784)
>> www.PLessThan.com
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> -- 
> Peter Dalgaard, Professor,
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From simon.urbanek at r-project.org  Sun Sep  2 15:43:15 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 2 Sep 2012 09:43:15 -0400
Subject: [R-SIG-Mac] OT Re:haxies and injection
In-Reply-To: <504358AD.5000507@witthoft.com>
References: <mailman.960.1346574768.4564.r-sig-mac@r-project.org>
	<504358AD.5000507@witthoft.com>
Message-ID: <F2355092-55CF-409F-932B-C96F1DE9B813@r-project.org>

Carl,

On Sep 2, 2012, at 9:01 AM, Carl Witthoft wrote:

> While I can understand the frustration and confusion caused by DefaultFolderX not playing nice with R and MountainLion,  I would like to point out that many if not all of us use an awful lot of OSX apps that are not R.   Default Folder is, and has been since its inception, a spectacularly useful tool.  Add to that the fact that there is an options dialog to list apps that DFX does NOT load into, and you should be fine to go.
> 

this has absolutely nothing to do with R - all apps will be affected ("not playing nice with R" should read "not play nice at all"). The only difference is that most apps only emit stderr into the Console while R shows it to the user, so essentially you will see problems that affect your entire system. The problem will still exist in all the other apps, this is not something that will go away when you exclude R.

Cheers,
Simon


From kasperdanielhansen at gmail.com  Sun Sep  2 20:21:04 2012
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Sun, 2 Sep 2012 14:21:04 -0400
Subject: [R-SIG-Mac] compiling from source on ML, tcltk
Message-ID: <CAC2h7uvSX+Z3kdj_FkYrt4xxOcE8VFg-RWyO0CqEt9CrOAW4GQ@mail.gmail.com>

I now want to get tcltk support working under ML (because I need to
test a few packages).

I have installed Xquartz and I have just install the new tcltk 8.5.5
from CRAN (which is not signed btw).

Running configure, I get

checking for tclConfig.sh... no
checking for tclConfig.sh in library (sub)directories...
/usr/local/lib/tclConfig.sh
checking for tkConfig.sh... no
checking for tkConfig.sh in library (sub)directories...
/usr/local/lib/tkConfig.sh
checking tcl.h usability... yes
checking tcl.h presence... yes
checking for tcl.h... yes
checking tk.h usability... no
checking tk.h presence... no
checking for tk.h... no
checking /usr/local/include/tk8.5/generic/tk.h usability... no
checking /usr/local/include/tk8.5/generic/tk.h presence... no
checking for /usr/local/include/tk8.5/generic/tk.h... no
checking /usr/local/include/tk8.5/tk.h usability... no
checking /usr/local/include/tk8.5/tk.h presence... no
checking for /usr/local/include/tk8.5/tk.h... no
checking /usr/local/include/tcl8.5/tk.h usability... no
checking /usr/local/include/tcl8.5/tk.h presence... no
checking for /usr/local/include/tcl8.5/tk.h... no
checking /usr/local/include/tk.h usability... no
checking /usr/local/include/tk.h presence... no
checking for /usr/local/include/tk.h... no
checking for tk.h... yes

So it seems to find tcltk.  I get a few warnings when it checks for X11 headers:

checking X11/Intrinsic.h presence... no
configure: WARNING: X11/Intrinsic.h: accepted by the compiler,
rejected by the preprocessor!
configure: WARNING: X11/Intrinsic.h: proceeding with the compiler's result

and

checking X11/Xmu/Atoms.h presence... no
configure: WARNING: X11/Xmu/Atoms.h: accepted by the compiler,
rejected by the preprocessor!
configure: WARNING: X11/Xmu/Atoms.h: proceeding with the compiler's result

I assume these are unrelated.  Although configure seems to find tcltk,
at the end of configure, I get

R is now configured for x86_64-apple-darwin12.1.0

  Source directory:          ../R-2.15.x-src
  Installation directory:    /usr/local/R/R-2.15.x

  C compiler:                /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99
-g -O2 -std=gnu99 -march=nocona
  Fortran 77 compiler:       /usr/bin/gfortran-4.2 -arch x86_64  -g
-O2 -march=nocona

  C++ compiler:              /usr/bin/g++-4.2 -arch x86_64  -g -O2 -march=nocona
  Fortran 90/95 compiler:    /usr/bin/gfortran-4.2 -arch x86_64 -g -O2
-march=nocona
  Obj-C compiler:            /usr/bin/gcc-4.2 -arch x86_64 -g -O2
-fobjc-exceptions

  Interfaces supported:      X11, aqua
  External libraries:        readline, BLAS(vecLib), LAPACK(in blas), ICU
  Additional capabilities:   PNG, JPEG, NLS
  Options enabled:           R profiling, memory profiling, Java

  Recommended packages:      yes

which does not mention tcltk support under 'Interfaces supported'.

This used to work on Lion, and I am wondering what I am doing wrong.

My configure script is

export LANG=en_US.UTF-8
../${SRCDIR}/configure SHELL='/bin/bash' \
  --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
  CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
  CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
  CXX="/usr/bin/g++-4.2 -arch x86_64" \
  CXXFLAGS="-g -O2 -march=nocona" \
  OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
  F77="/usr/bin/gfortran-4.2 -arch x86_64" \
  FFLAGS="-g -O2 -march=nocona" \
  FC="/usr/bin/gfortran-4.2 -arch x86_64" \
  FCFLAGS="-g -O2 -march=nocona" \
  --enable-memory-profiling\
  --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib\
  --with-system-zlib\
  --with-blas='-framework vecLib' --with-lapack

Thanks,
Kasper


From ripley at stats.ox.ac.uk  Sun Sep  2 21:54:17 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 02 Sep 2012 20:54:17 +0100
Subject: [R-SIG-Mac] compiling from source on ML, tcltk
In-Reply-To: <CAC2h7uvSX+Z3kdj_FkYrt4xxOcE8VFg-RWyO0CqEt9CrOAW4GQ@mail.gmail.com>
References: <CAC2h7uvSX+Z3kdj_FkYrt4xxOcE8VFg-RWyO0CqEt9CrOAW4GQ@mail.gmail.com>
Message-ID: <5043B969.5000500@stats.ox.ac.uk>

Do you need R.app?  If not, I would recommend using ActiveTcl Tcl/Tk by e.g.

./configure ... 
--with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh 
--with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh

I've been using it for some time, and it has much nicer ttk widgets.


On 02/09/2012 19:21, Kasper Daniel Hansen wrote:
> I now want to get tcltk support working under ML (because I need to
> test a few packages).
>
> I have installed Xquartz and I have just install the new tcltk 8.5.5
> from CRAN (which is not signed btw).
>
> Running configure, I get
>
> checking for tclConfig.sh... no
> checking for tclConfig.sh in library (sub)directories...
> /usr/local/lib/tclConfig.sh
> checking for tkConfig.sh... no
> checking for tkConfig.sh in library (sub)directories...
> /usr/local/lib/tkConfig.sh
> checking tcl.h usability... yes
> checking tcl.h presence... yes
> checking for tcl.h... yes
> checking tk.h usability... no
> checking tk.h presence... no
> checking for tk.h... no
> checking /usr/local/include/tk8.5/generic/tk.h usability... no
> checking /usr/local/include/tk8.5/generic/tk.h presence... no
> checking for /usr/local/include/tk8.5/generic/tk.h... no
> checking /usr/local/include/tk8.5/tk.h usability... no
> checking /usr/local/include/tk8.5/tk.h presence... no
> checking for /usr/local/include/tk8.5/tk.h... no
> checking /usr/local/include/tcl8.5/tk.h usability... no
> checking /usr/local/include/tcl8.5/tk.h presence... no
> checking for /usr/local/include/tcl8.5/tk.h... no
> checking /usr/local/include/tk.h usability... no
> checking /usr/local/include/tk.h presence... no
> checking for /usr/local/include/tk.h... no
> checking for tk.h... yes
>
> So it seems to find tcltk.  I get a few warnings when it checks for X11 headers:
>
> checking X11/Intrinsic.h presence... no
> configure: WARNING: X11/Intrinsic.h: accepted by the compiler,
> rejected by the preprocessor!
> configure: WARNING: X11/Intrinsic.h: proceeding with the compiler's result
>
> and
>
> checking X11/Xmu/Atoms.h presence... no
> configure: WARNING: X11/Xmu/Atoms.h: accepted by the compiler,
> rejected by the preprocessor!
> configure: WARNING: X11/Xmu/Atoms.h: proceeding with the compiler's result
>
> I assume these are unrelated.  Although configure seems to find tcltk,
> at the end of configure, I get
>
> R is now configured for x86_64-apple-darwin12.1.0
>
>    Source directory:          ../R-2.15.x-src
>    Installation directory:    /usr/local/R/R-2.15.x
>
>    C compiler:                /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99
> -g -O2 -std=gnu99 -march=nocona
>    Fortran 77 compiler:       /usr/bin/gfortran-4.2 -arch x86_64  -g
> -O2 -march=nocona
>
>    C++ compiler:              /usr/bin/g++-4.2 -arch x86_64  -g -O2 -march=nocona
>    Fortran 90/95 compiler:    /usr/bin/gfortran-4.2 -arch x86_64 -g -O2
> -march=nocona
>    Obj-C compiler:            /usr/bin/gcc-4.2 -arch x86_64 -g -O2
> -fobjc-exceptions
>
>    Interfaces supported:      X11, aqua
>    External libraries:        readline, BLAS(vecLib), LAPACK(in blas), ICU
>    Additional capabilities:   PNG, JPEG, NLS
>    Options enabled:           R profiling, memory profiling, Java
>
>    Recommended packages:      yes
>
> which does not mention tcltk support under 'Interfaces supported'.
>
> This used to work on Lion, and I am wondering what I am doing wrong.

I think you should be wondering what Apple is doing wrong ....  But you 
need to look in config.log to find the root cause.

>
> My configure script is
>
> export LANG=en_US.UTF-8
> ../${SRCDIR}/configure SHELL='/bin/bash' \
>    --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
>    CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
>    CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
>    CXX="/usr/bin/g++-4.2 -arch x86_64" \
>    CXXFLAGS="-g -O2 -march=nocona" \
>    OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
>    F77="/usr/bin/gfortran-4.2 -arch x86_64" \
>    FFLAGS="-g -O2 -march=nocona" \
>    FC="/usr/bin/gfortran-4.2 -arch x86_64" \
>    FCFLAGS="-g -O2 -march=nocona" \
>    --enable-memory-profiling\
>    --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib\
>    --with-system-zlib\
>    --with-blas='-framework vecLib' --with-lapack
>
> Thanks,
> Kasper
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From kasperdanielhansen at gmail.com  Mon Sep  3 02:11:03 2012
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Sun, 2 Sep 2012 20:11:03 -0400
Subject: [R-SIG-Mac] compiling from source on ML, tcltk
In-Reply-To: <5043B969.5000500@stats.ox.ac.uk>
References: <CAC2h7uvSX+Z3kdj_FkYrt4xxOcE8VFg-RWyO0CqEt9CrOAW4GQ@mail.gmail.com>
	<5043B969.5000500@stats.ox.ac.uk>
Message-ID: <CAC2h7uvhGY-vCYFG3rcj+y_gAr_j6tsZ-hz7o6WWJmy+TG4MDA@mail.gmail.com>

On Sun, Sep 2, 2012 at 3:54 PM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> Do you need R.app?  If not, I would recommend using ActiveTcl Tcl/Tk by e.g.
>
> ./configure ...
> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh
> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh

I don't have (Tcl|Tk).framework in /Library/Frameworks.  I seem to
recall they were there in earlier versions of the OS.

I did some more investigation.  Following a suggestion on Stack overflow I did
  sudo ln -s /opt/X11/include/X11 /usr/include
and that suddenly gave me tcltk capabilities.  To be honest, I don't
understand why. I use
  --X-Includes=/Usr/X11/Include --X-Libraries=/Usr/X11/Lib
in my configure script so I don't fully understand why the presence of
this symbolic link fixes it.  But it is an empirical fact it does....

Kasper



>
> I've been using it for some time, and it has much nicer ttk widgets.
>
>
>
> On 02/09/2012 19:21, Kasper Daniel Hansen wrote:
>>
>> I now want to get tcltk support working under ML (because I need to
>> test a few packages).
>>
>> I have installed Xquartz and I have just install the new tcltk 8.5.5
>> from CRAN (which is not signed btw).
>>
>> Running configure, I get
>>
>> checking for tclConfig.sh... no
>> checking for tclConfig.sh in library (sub)directories...
>> /usr/local/lib/tclConfig.sh
>> checking for tkConfig.sh... no
>> checking for tkConfig.sh in library (sub)directories...
>> /usr/local/lib/tkConfig.sh
>> checking tcl.h usability... yes
>> checking tcl.h presence... yes
>> checking for tcl.h... yes
>> checking tk.h usability... no
>> checking tk.h presence... no
>> checking for tk.h... no
>> checking /usr/local/include/tk8.5/generic/tk.h usability... no
>> checking /usr/local/include/tk8.5/generic/tk.h presence... no
>> checking for /usr/local/include/tk8.5/generic/tk.h... no
>> checking /usr/local/include/tk8.5/tk.h usability... no
>> checking /usr/local/include/tk8.5/tk.h presence... no
>> checking for /usr/local/include/tk8.5/tk.h... no
>> checking /usr/local/include/tcl8.5/tk.h usability... no
>> checking /usr/local/include/tcl8.5/tk.h presence... no
>> checking for /usr/local/include/tcl8.5/tk.h... no
>> checking /usr/local/include/tk.h usability... no
>> checking /usr/local/include/tk.h presence... no
>> checking for /usr/local/include/tk.h... no
>> checking for tk.h... yes
>>
>> So it seems to find tcltk.  I get a few warnings when it checks for X11
>> headers:
>>
>> checking X11/Intrinsic.h presence... no
>> configure: WARNING: X11/Intrinsic.h: accepted by the compiler,
>> rejected by the preprocessor!
>> configure: WARNING: X11/Intrinsic.h: proceeding with the compiler's result
>>
>> and
>>
>> checking X11/Xmu/Atoms.h presence... no
>> configure: WARNING: X11/Xmu/Atoms.h: accepted by the compiler,
>> rejected by the preprocessor!
>> configure: WARNING: X11/Xmu/Atoms.h: proceeding with the compiler's result
>>
>> I assume these are unrelated.  Although configure seems to find tcltk,
>> at the end of configure, I get
>>
>> R is now configured for x86_64-apple-darwin12.1.0
>>
>>    Source directory:          ../R-2.15.x-src
>>    Installation directory:    /usr/local/R/R-2.15.x
>>
>>    C compiler:                /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99
>> -g -O2 -std=gnu99 -march=nocona
>>    Fortran 77 compiler:       /usr/bin/gfortran-4.2 -arch x86_64  -g
>> -O2 -march=nocona
>>
>>    C++ compiler:              /usr/bin/g++-4.2 -arch x86_64  -g -O2
>> -march=nocona
>>    Fortran 90/95 compiler:    /usr/bin/gfortran-4.2 -arch x86_64 -g -O2
>> -march=nocona
>>    Obj-C compiler:            /usr/bin/gcc-4.2 -arch x86_64 -g -O2
>> -fobjc-exceptions
>>
>>    Interfaces supported:      X11, aqua
>>    External libraries:        readline, BLAS(vecLib), LAPACK(in blas), ICU
>>    Additional capabilities:   PNG, JPEG, NLS
>>    Options enabled:           R profiling, memory profiling, Java
>>
>>    Recommended packages:      yes
>>
>> which does not mention tcltk support under 'Interfaces supported'.
>>
>> This used to work on Lion, and I am wondering what I am doing wrong.
>
>
> I think you should be wondering what Apple is doing wrong ....  But you need
> to look in config.log to find the root cause.
>
>>
>> My configure script is
>>
>> export LANG=en_US.UTF-8
>> ../${SRCDIR}/configure SHELL='/bin/bash' \
>>    --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
>>    CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
>>    CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
>>    CXX="/usr/bin/g++-4.2 -arch x86_64" \
>>    CXXFLAGS="-g -O2 -march=nocona" \
>>    OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
>>    F77="/usr/bin/gfortran-4.2 -arch x86_64" \
>>    FFLAGS="-g -O2 -march=nocona" \
>>    FC="/usr/bin/gfortran-4.2 -arch x86_64" \
>>    FCFLAGS="-g -O2 -march=nocona" \
>>    --enable-memory-profiling\
>>    --X-Includes=/Usr/X11/Include --X-Libraries=/Usr/X11/Lib\
>>    --with-system-zlib\
>>    --with-blas='-framework vecLib' --with-lapack
>>
>> Thanks,
>> Kasper
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ripley at stats.ox.ac.uk  Mon Sep  3 08:22:41 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 03 Sep 2012 07:22:41 +0100
Subject: [R-SIG-Mac] compiling from source on ML, tcltk
In-Reply-To: <CAC2h7uvhGY-vCYFG3rcj+y_gAr_j6tsZ-hz7o6WWJmy+TG4MDA@mail.gmail.com>
References: <CAC2h7uvSX+Z3kdj_FkYrt4xxOcE8VFg-RWyO0CqEt9CrOAW4GQ@mail.gmail.com>
	<5043B969.5000500@stats.ox.ac.uk>
	<CAC2h7uvhGY-vCYFG3rcj+y_gAr_j6tsZ-hz7o6WWJmy+TG4MDA@mail.gmail.com>
Message-ID: <50444CB1.5000002@stats.ox.ac.uk>

On 03/09/2012 01:11, Kasper Daniel Hansen wrote:
> On Sun, Sep 2, 2012 at 3:54 PM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>> Do you need R.app?  If not, I would recommend using ActiveTcl Tcl/Tk by e.g.
>>
>> ./configure ...
>> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh
>> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>
> I don't have (Tcl|Tk).framework in /Library/Frameworks.  I seem to
> recall they were there in earlier versions of the OS.

On my system, that is where ActiveTcl installed.   Even when Apple 
shipped an Aqua Tcl/Tk, it was old and limited and ActiveTcl is quite 
way to get a pre-compiled current version.

> I did some more investigation.  Following a suggestion on Stack overflow I did
>    sudo ln -s /opt/X11/include/X11 /usr/include
> and that suddenly gave me tcltk capabilities.  To be honest, I don't
> understand why. I use
>    --X-Includes=/Usr/X11/Include --X-Libraries=/Usr/X11/Lib

If you use /Usr then it may well not work.  These tools are 
case-sensitive ....

> in my configure script so I don't fully understand why the presence of
> this symbolic link fixes it.  But it is an empirical fact it does....
>
> Kasper
>
>
>
>>
>> I've been using it for some time, and it has much nicer ttk widgets.
>>
>>
>>
>> On 02/09/2012 19:21, Kasper Daniel Hansen wrote:
>>>
>>> I now want to get tcltk support working under ML (because I need to
>>> test a few packages).
>>>
>>> I have installed Xquartz and I have just install the new tcltk 8.5.5
>>> from CRAN (which is not signed btw).
>>>
>>> Running configure, I get
>>>
>>> checking for tclConfig.sh... no
>>> checking for tclConfig.sh in library (sub)directories...
>>> /usr/local/lib/tclConfig.sh
>>> checking for tkConfig.sh... no
>>> checking for tkConfig.sh in library (sub)directories...
>>> /usr/local/lib/tkConfig.sh
>>> checking tcl.h usability... yes
>>> checking tcl.h presence... yes
>>> checking for tcl.h... yes
>>> checking tk.h usability... no
>>> checking tk.h presence... no
>>> checking for tk.h... no
>>> checking /usr/local/include/tk8.5/generic/tk.h usability... no
>>> checking /usr/local/include/tk8.5/generic/tk.h presence... no
>>> checking for /usr/local/include/tk8.5/generic/tk.h... no
>>> checking /usr/local/include/tk8.5/tk.h usability... no
>>> checking /usr/local/include/tk8.5/tk.h presence... no
>>> checking for /usr/local/include/tk8.5/tk.h... no
>>> checking /usr/local/include/tcl8.5/tk.h usability... no
>>> checking /usr/local/include/tcl8.5/tk.h presence... no
>>> checking for /usr/local/include/tcl8.5/tk.h... no
>>> checking /usr/local/include/tk.h usability... no
>>> checking /usr/local/include/tk.h presence... no
>>> checking for /usr/local/include/tk.h... no
>>> checking for tk.h... yes
>>>
>>> So it seems to find tcltk.  I get a few warnings when it checks for X11
>>> headers:
>>>
>>> checking X11/Intrinsic.h presence... no
>>> configure: WARNING: X11/Intrinsic.h: accepted by the compiler,
>>> rejected by the preprocessor!
>>> configure: WARNING: X11/Intrinsic.h: proceeding with the compiler's result
>>>
>>> and
>>>
>>> checking X11/Xmu/Atoms.h presence... no
>>> configure: WARNING: X11/Xmu/Atoms.h: accepted by the compiler,
>>> rejected by the preprocessor!
>>> configure: WARNING: X11/Xmu/Atoms.h: proceeding with the compiler's result
>>>
>>> I assume these are unrelated.  Although configure seems to find tcltk,
>>> at the end of configure, I get
>>>
>>> R is now configured for x86_64-apple-darwin12.1.0
>>>
>>>     Source directory:          ../R-2.15.x-src
>>>     Installation directory:    /usr/local/R/R-2.15.x
>>>
>>>     C compiler:                /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99
>>> -g -O2 -std=gnu99 -march=nocona
>>>     Fortran 77 compiler:       /usr/bin/gfortran-4.2 -arch x86_64  -g
>>> -O2 -march=nocona
>>>
>>>     C++ compiler:              /usr/bin/g++-4.2 -arch x86_64  -g -O2
>>> -march=nocona
>>>     Fortran 90/95 compiler:    /usr/bin/gfortran-4.2 -arch x86_64 -g -O2
>>> -march=nocona
>>>     Obj-C compiler:            /usr/bin/gcc-4.2 -arch x86_64 -g -O2
>>> -fobjc-exceptions
>>>
>>>     Interfaces supported:      X11, aqua
>>>     External libraries:        readline, BLAS(vecLib), LAPACK(in blas), ICU
>>>     Additional capabilities:   PNG, JPEG, NLS
>>>     Options enabled:           R profiling, memory profiling, Java
>>>
>>>     Recommended packages:      yes
>>>
>>> which does not mention tcltk support under 'Interfaces supported'.
>>>
>>> This used to work on Lion, and I am wondering what I am doing wrong.
>>
>>
>> I think you should be wondering what Apple is doing wrong ....  But you need
>> to look in config.log to find the root cause.
>>
>>>
>>> My configure script is
>>>
>>> export LANG=en_US.UTF-8
>>> ../${SRCDIR}/configure SHELL='/bin/bash' \
>>>     --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
>>>     CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
>>>     CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
>>>     CXX="/usr/bin/g++-4.2 -arch x86_64" \
>>>     CXXFLAGS="-g -O2 -march=nocona" \
>>>     OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
>>>     F77="/usr/bin/gfortran-4.2 -arch x86_64" \
>>>     FFLAGS="-g -O2 -march=nocona" \
>>>     FC="/usr/bin/gfortran-4.2 -arch x86_64" \
>>>     FCFLAGS="-g -O2 -march=nocona" \
>>>     --enable-memory-profiling\
>>>     --X-Includes=/Usr/X11/Include --X-Libraries=/Usr/X11/Lib\
>>>     --with-system-zlib\
>>>     --with-blas='-framework vecLib' --with-lapack
>>>
>>> Thanks,
>>> Kasper
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>>
>> --
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From kasperdanielhansen at gmail.com  Tue Sep  4 14:47:38 2012
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Tue, 4 Sep 2012 08:47:38 -0400
Subject: [R-SIG-Mac] compiling from source on ML, tcltk
In-Reply-To: <50444CB1.5000002@stats.ox.ac.uk>
References: <CAC2h7uvSX+Z3kdj_FkYrt4xxOcE8VFg-RWyO0CqEt9CrOAW4GQ@mail.gmail.com>
	<5043B969.5000500@stats.ox.ac.uk>
	<CAC2h7uvhGY-vCYFG3rcj+y_gAr_j6tsZ-hz7o6WWJmy+TG4MDA@mail.gmail.com>
	<50444CB1.5000002@stats.ox.ac.uk>
Message-ID: <CAC2h7ut8dxVbioRKkJxDv81x2YU5YK2Znna5o1grTahjpFBx6g@mail.gmail.com>

On Mon, Sep 3, 2012 at 2:22 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> On 03/09/2012 01:11, Kasper Daniel Hansen wrote:
>>
>> On Sun, Sep 2, 2012 at 3:54 PM, Prof Brian Ripley <ripley at stats.ox.ac.uk>
>> wrote:
>>>
>>> Do you need R.app?  If not, I would recommend using ActiveTcl Tcl/Tk by
>>> e.g.
>>>
>>> ./configure ...
>>> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh
>>> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>>
>>
>> I don't have (Tcl|Tk).framework in /Library/Frameworks.  I seem to
>> recall they were there in earlier versions of the OS.
>
>
> On my system, that is where ActiveTcl installed.   Even when Apple shipped
> an Aqua Tcl/Tk, it was old and limited and ActiveTcl is quite way to get a
> pre-compiled current version.
>
>
>> I did some more investigation.  Following a suggestion on Stack overflow I
>> did
>>    sudo ln -s /opt/X11/include/X11 /usr/include
>> and that suddenly gave me tcltk capabilities.  To be honest, I don't
>> understand why. I use
>>    --X-Includes=/Usr/X11/Include --X-Libraries=/Usr/X11/Lib
>
>
> If you use /Usr then it may well not work.  These tools are case-sensitive
> ....

Thanks, the lines I have in my email I wrong - I did some manual
editing as I was testing some stuff.

So to be clear, I use
  --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib\
Without the symbolic link I get aqua, X11 support

With the symbolic link I get aqua, X11, tcltk support

Looking at config.log, it seems that all the test tcl and/or tk
programs complaining about missing X11/Xlib.h.  When I look at the gcc
command, I see stuff like
  /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99 -E -I/usr/local/include
-I/usr/local/include conftest.c
Include directories depends on on which test we are talking about, but
never includes the directory I specified with --x-includes, which
seems wrong to me.

This could explain why making the symlink (so we have X11/Xlib.h under
/usr/include) makes tcltk work.

Kasper

>
>
>> in my configure script so I don't fully understand why the presence of
>> this symbolic link fixes it.  But it is an empirical fact it does....
>>
>> Kasper
>>
>>
>>
>>>
>>> I've been using it for some time, and it has much nicer ttk widgets.
>>>
>>>
>>>
>>> On 02/09/2012 19:21, Kasper Daniel Hansen wrote:
>>>>
>>>>
>>>> I now want to get tcltk support working under ML (because I need to
>>>> test a few packages).
>>>>
>>>> I have installed Xquartz and I have just install the new tcltk 8.5.5
>>>> from CRAN (which is not signed btw).
>>>>
>>>> Running configure, I get
>>>>
>>>> checking for tclConfig.sh... no
>>>> checking for tclConfig.sh in library (sub)directories...
>>>> /usr/local/lib/tclConfig.sh
>>>> checking for tkConfig.sh... no
>>>> checking for tkConfig.sh in library (sub)directories...
>>>> /usr/local/lib/tkConfig.sh
>>>> checking tcl.h usability... yes
>>>> checking tcl.h presence... yes
>>>> checking for tcl.h... yes
>>>> checking tk.h usability... no
>>>> checking tk.h presence... no
>>>> checking for tk.h... no
>>>> checking /usr/local/include/tk8.5/generic/tk.h usability... no
>>>> checking /usr/local/include/tk8.5/generic/tk.h presence... no
>>>> checking for /usr/local/include/tk8.5/generic/tk.h... no
>>>> checking /usr/local/include/tk8.5/tk.h usability... no
>>>> checking /usr/local/include/tk8.5/tk.h presence... no
>>>> checking for /usr/local/include/tk8.5/tk.h... no
>>>> checking /usr/local/include/tcl8.5/tk.h usability... no
>>>> checking /usr/local/include/tcl8.5/tk.h presence... no
>>>> checking for /usr/local/include/tcl8.5/tk.h... no
>>>> checking /usr/local/include/tk.h usability... no
>>>> checking /usr/local/include/tk.h presence... no
>>>> checking for /usr/local/include/tk.h... no
>>>> checking for tk.h... yes
>>>>
>>>> So it seems to find tcltk.  I get a few warnings when it checks for X11
>>>> headers:
>>>>
>>>> checking X11/Intrinsic.h presence... no
>>>> configure: WARNING: X11/Intrinsic.h: accepted by the compiler,
>>>> rejected by the preprocessor!
>>>> configure: WARNING: X11/Intrinsic.h: proceeding with the compiler's
>>>> result
>>>>
>>>> and
>>>>
>>>> checking X11/Xmu/Atoms.h presence... no
>>>> configure: WARNING: X11/Xmu/Atoms.h: accepted by the compiler,
>>>> rejected by the preprocessor!
>>>> configure: WARNING: X11/Xmu/Atoms.h: proceeding with the compiler's
>>>> result
>>>>
>>>> I assume these are unrelated.  Although configure seems to find tcltk,
>>>> at the end of configure, I get
>>>>
>>>> R is now configured for x86_64-apple-darwin12.1.0
>>>>
>>>>     Source directory:          ../R-2.15.x-src
>>>>     Installation directory:    /usr/local/R/R-2.15.x
>>>>
>>>>     C compiler:                /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99
>>>> -g -O2 -std=gnu99 -march=nocona
>>>>     Fortran 77 compiler:       /usr/bin/gfortran-4.2 -arch x86_64  -g
>>>> -O2 -march=nocona
>>>>
>>>>     C++ compiler:              /usr/bin/g++-4.2 -arch x86_64  -g -O2
>>>> -march=nocona
>>>>     Fortran 90/95 compiler:    /usr/bin/gfortran-4.2 -arch x86_64 -g -O2
>>>> -march=nocona
>>>>     Obj-C compiler:            /usr/bin/gcc-4.2 -arch x86_64 -g -O2
>>>> -fobjc-exceptions
>>>>
>>>>     Interfaces supported:      X11, aqua
>>>>     External libraries:        readline, BLAS(vecLib), LAPACK(in blas),
>>>> ICU
>>>>     Additional capabilities:   PNG, JPEG, NLS
>>>>     Options enabled:           R profiling, memory profiling, Java
>>>>
>>>>     Recommended packages:      yes
>>>>
>>>> which does not mention tcltk support under 'Interfaces supported'.
>>>>
>>>> This used to work on Lion, and I am wondering what I am doing wrong.
>>>
>>>
>>>
>>> I think you should be wondering what Apple is doing wrong ....  But you
>>> need
>>> to look in config.log to find the root cause.
>>>
>>>>
>>>> My configure script is
>>>>
>>>> export LANG=en_US.UTF-8
>>>> ../${SRCDIR}/configure SHELL='/bin/bash' \
>>>>     --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
>>>>     CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
>>>>     CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
>>>>     CXX="/usr/bin/g++-4.2 -arch x86_64" \
>>>>     CXXFLAGS="-g -O2 -march=nocona" \
>>>>     OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
>>>>     F77="/usr/bin/gfortran-4.2 -arch x86_64" \
>>>>     FFLAGS="-g -O2 -march=nocona" \
>>>>     FC="/usr/bin/gfortran-4.2 -arch x86_64" \
>>>>     FCFLAGS="-g -O2 -march=nocona" \
>>>>     --enable-memory-profiling\
>>>>     --X-Includes=/Usr/X11/Include --X-Libraries=/Usr/X11/Lib\
>>>>     --with-system-zlib\
>>>>     --with-blas='-framework vecLib' --with-lapack
>>>>
>>>> Thanks,
>>>> Kasper
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>>
>>> --
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Tue Sep  4 17:05:32 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 4 Sep 2012 11:05:32 -0400
Subject: [R-SIG-Mac] compiling from source on ML, tcltk
In-Reply-To: <CAC2h7ut8dxVbioRKkJxDv81x2YU5YK2Znna5o1grTahjpFBx6g@mail.gmail.com>
References: <CAC2h7uvSX+Z3kdj_FkYrt4xxOcE8VFg-RWyO0CqEt9CrOAW4GQ@mail.gmail.com>
	<5043B969.5000500@stats.ox.ac.uk>
	<CAC2h7uvhGY-vCYFG3rcj+y_gAr_j6tsZ-hz7o6WWJmy+TG4MDA@mail.gmail.com>
	<50444CB1.5000002@stats.ox.ac.uk>
	<CAC2h7ut8dxVbioRKkJxDv81x2YU5YK2Znna5o1grTahjpFBx6g@mail.gmail.com>
Message-ID: <F69E71A8-D1F8-4CA3-B06A-D1D7E82AA698@r-project.org>


On Sep 4, 2012, at 8:47 AM, Kasper Daniel Hansen <kasperdanielhansen at gmail.com> wrote:

> On Mon, Sep 3, 2012 at 2:22 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>> On 03/09/2012 01:11, Kasper Daniel Hansen wrote:
>>> 
>>> On Sun, Sep 2, 2012 at 3:54 PM, Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>> wrote:
>>>> 
>>>> Do you need R.app?  If not, I would recommend using ActiveTcl Tcl/Tk by
>>>> e.g.
>>>> 
>>>> ./configure ...
>>>> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh
>>>> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>>> 
>>> 
>>> I don't have (Tcl|Tk).framework in /Library/Frameworks.  I seem to
>>> recall they were there in earlier versions of the OS.
>> 
>> 
>> On my system, that is where ActiveTcl installed.   Even when Apple shipped
>> an Aqua Tcl/Tk, it was old and limited and ActiveTcl is quite way to get a
>> pre-compiled current version.
>> 
>> 
>>> I did some more investigation.  Following a suggestion on Stack overflow I
>>> did
>>>   sudo ln -s /opt/X11/include/X11 /usr/include
>>> and that suddenly gave me tcltk capabilities.  To be honest, I don't
>>> understand why. I use
>>>   --X-Includes=/Usr/X11/Include --X-Libraries=/Usr/X11/Lib
>> 
>> 
>> If you use /Usr then it may well not work.  These tools are case-sensitive
>> ....
> 
> Thanks, the lines I have in my email I wrong - I did some manual
> editing as I was testing some stuff.
> 
> So to be clear, I use
>  --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib\
> Without the symbolic link I get aqua, X11 support
> 
> With the symbolic link I get aqua, X11, tcltk support
> 
> Looking at config.log, it seems that all the test tcl and/or tk
> programs complaining about missing X11/Xlib.h.  When I look at the gcc
> command, I see stuff like
>  /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99 -E -I/usr/local/include
> -I/usr/local/include conftest.c
> Include directories depends on on which test we are talking about, but
> never includes the directory I specified with --x-includes, which
> seems wrong to me.
> 
> This could explain why making the symlink (so we have X11/Xlib.h under
> /usr/include) makes tcltk work.
> 

That's the wrong location, certainly.
However, could it be that your problem is a missing /usr/X11R6 symlink?

Cheers,
Simon


> 
>> 
>> 
>>> in my configure script so I don't fully understand why the presence of
>>> this symbolic link fixes it.  But it is an empirical fact it does....
>>> 
>>> Kasper
>>> 
>>> 
>>> 
>>>> 
>>>> I've been using it for some time, and it has much nicer ttk widgets.
>>>> 
>>>> 
>>>> 
>>>> On 02/09/2012 19:21, Kasper Daniel Hansen wrote:
>>>>> 
>>>>> 
>>>>> I now want to get tcltk support working under ML (because I need to
>>>>> test a few packages).
>>>>> 
>>>>> I have installed Xquartz and I have just install the new tcltk 8.5.5
>>>>> from CRAN (which is not signed btw).
>>>>> 
>>>>> Running configure, I get
>>>>> 
>>>>> checking for tclConfig.sh... no
>>>>> checking for tclConfig.sh in library (sub)directories...
>>>>> /usr/local/lib/tclConfig.sh
>>>>> checking for tkConfig.sh... no
>>>>> checking for tkConfig.sh in library (sub)directories...
>>>>> /usr/local/lib/tkConfig.sh
>>>>> checking tcl.h usability... yes
>>>>> checking tcl.h presence... yes
>>>>> checking for tcl.h... yes
>>>>> checking tk.h usability... no
>>>>> checking tk.h presence... no
>>>>> checking for tk.h... no
>>>>> checking /usr/local/include/tk8.5/generic/tk.h usability... no
>>>>> checking /usr/local/include/tk8.5/generic/tk.h presence... no
>>>>> checking for /usr/local/include/tk8.5/generic/tk.h... no
>>>>> checking /usr/local/include/tk8.5/tk.h usability... no
>>>>> checking /usr/local/include/tk8.5/tk.h presence... no
>>>>> checking for /usr/local/include/tk8.5/tk.h... no
>>>>> checking /usr/local/include/tcl8.5/tk.h usability... no
>>>>> checking /usr/local/include/tcl8.5/tk.h presence... no
>>>>> checking for /usr/local/include/tcl8.5/tk.h... no
>>>>> checking /usr/local/include/tk.h usability... no
>>>>> checking /usr/local/include/tk.h presence... no
>>>>> checking for /usr/local/include/tk.h... no
>>>>> checking for tk.h... yes
>>>>> 
>>>>> So it seems to find tcltk.  I get a few warnings when it checks for X11
>>>>> headers:
>>>>> 
>>>>> checking X11/Intrinsic.h presence... no
>>>>> configure: WARNING: X11/Intrinsic.h: accepted by the compiler,
>>>>> rejected by the preprocessor!
>>>>> configure: WARNING: X11/Intrinsic.h: proceeding with the compiler's
>>>>> result
>>>>> 
>>>>> and
>>>>> 
>>>>> checking X11/Xmu/Atoms.h presence... no
>>>>> configure: WARNING: X11/Xmu/Atoms.h: accepted by the compiler,
>>>>> rejected by the preprocessor!
>>>>> configure: WARNING: X11/Xmu/Atoms.h: proceeding with the compiler's
>>>>> result
>>>>> 
>>>>> I assume these are unrelated.  Although configure seems to find tcltk,
>>>>> at the end of configure, I get
>>>>> 
>>>>> R is now configured for x86_64-apple-darwin12.1.0
>>>>> 
>>>>>    Source directory:          ../R-2.15.x-src
>>>>>    Installation directory:    /usr/local/R/R-2.15.x
>>>>> 
>>>>>    C compiler:                /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99
>>>>> -g -O2 -std=gnu99 -march=nocona
>>>>>    Fortran 77 compiler:       /usr/bin/gfortran-4.2 -arch x86_64  -g
>>>>> -O2 -march=nocona
>>>>> 
>>>>>    C++ compiler:              /usr/bin/g++-4.2 -arch x86_64  -g -O2
>>>>> -march=nocona
>>>>>    Fortran 90/95 compiler:    /usr/bin/gfortran-4.2 -arch x86_64 -g -O2
>>>>> -march=nocona
>>>>>    Obj-C compiler:            /usr/bin/gcc-4.2 -arch x86_64 -g -O2
>>>>> -fobjc-exceptions
>>>>> 
>>>>>    Interfaces supported:      X11, aqua
>>>>>    External libraries:        readline, BLAS(vecLib), LAPACK(in blas),
>>>>> ICU
>>>>>    Additional capabilities:   PNG, JPEG, NLS
>>>>>    Options enabled:           R profiling, memory profiling, Java
>>>>> 
>>>>>    Recommended packages:      yes
>>>>> 
>>>>> which does not mention tcltk support under 'Interfaces supported'.
>>>>> 
>>>>> This used to work on Lion, and I am wondering what I am doing wrong.
>>>> 
>>>> 
>>>> 
>>>> I think you should be wondering what Apple is doing wrong ....  But you
>>>> need
>>>> to look in config.log to find the root cause.
>>>> 
>>>>> 
>>>>> My configure script is
>>>>> 
>>>>> export LANG=en_US.UTF-8
>>>>> ../${SRCDIR}/configure SHELL='/bin/bash' \
>>>>>    --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
>>>>>    CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
>>>>>    CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
>>>>>    CXX="/usr/bin/g++-4.2 -arch x86_64" \
>>>>>    CXXFLAGS="-g -O2 -march=nocona" \
>>>>>    OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
>>>>>    F77="/usr/bin/gfortran-4.2 -arch x86_64" \
>>>>>    FFLAGS="-g -O2 -march=nocona" \
>>>>>    FC="/usr/bin/gfortran-4.2 -arch x86_64" \
>>>>>    FCFLAGS="-g -O2 -march=nocona" \
>>>>>    --enable-memory-profiling\
>>>>>    --X-Includes=/Usr/X11/Include --X-Libraries=/Usr/X11/Lib\
>>>>>    --with-system-zlib\
>>>>>    --with-blas='-framework vecLib' --with-lapack
>>>>> 
>>>>> Thanks,
>>>>> Kasper
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>> 
>>>> 
>>>> --
>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>> 
>> 
>> 
>> --
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From kasperdanielhansen at gmail.com  Wed Sep  5 01:46:13 2012
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Tue, 4 Sep 2012 19:46:13 -0400
Subject: [R-SIG-Mac] compiling from source on ML, tcltk
In-Reply-To: <F69E71A8-D1F8-4CA3-B06A-D1D7E82AA698@r-project.org>
References: <CAC2h7uvSX+Z3kdj_FkYrt4xxOcE8VFg-RWyO0CqEt9CrOAW4GQ@mail.gmail.com>
	<5043B969.5000500@stats.ox.ac.uk>
	<CAC2h7uvhGY-vCYFG3rcj+y_gAr_j6tsZ-hz7o6WWJmy+TG4MDA@mail.gmail.com>
	<50444CB1.5000002@stats.ox.ac.uk>
	<CAC2h7ut8dxVbioRKkJxDv81x2YU5YK2Znna5o1grTahjpFBx6g@mail.gmail.com>
	<F69E71A8-D1F8-4CA3-B06A-D1D7E82AA698@r-project.org>
Message-ID: <CAC2h7ut5fYb_EjYmf9D8xjcOOk35eLCthONk3Wr++hvrXNYM5Q@mail.gmail.com>

On Tue, Sep 4, 2012 at 11:05 AM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> On Sep 4, 2012, at 8:47 AM, Kasper Daniel Hansen <kasperdanielhansen at gmail.com> wrote:
>
>> On Mon, Sep 3, 2012 at 2:22 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>> On 03/09/2012 01:11, Kasper Daniel Hansen wrote:
>>>>
>>>> On Sun, Sep 2, 2012 at 3:54 PM, Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>> wrote:
>>>>>
>>>>> Do you need R.app?  If not, I would recommend using ActiveTcl Tcl/Tk by
>>>>> e.g.
>>>>>
>>>>> ./configure ...
>>>>> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh
>>>>> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>>>>
>>>>
>>>> I don't have (Tcl|Tk).framework in /Library/Frameworks.  I seem to
>>>> recall they were there in earlier versions of the OS.
>>>
>>>
>>> On my system, that is where ActiveTcl installed.   Even when Apple shipped
>>> an Aqua Tcl/Tk, it was old and limited and ActiveTcl is quite way to get a
>>> pre-compiled current version.
>>>
>>>
>>>> I did some more investigation.  Following a suggestion on Stack overflow I
>>>> did
>>>>   sudo ln -s /opt/X11/include/X11 /usr/include
>>>> and that suddenly gave me tcltk capabilities.  To be honest, I don't
>>>> understand why. I use
>>>>   --X-Includes=/Usr/X11/Include --X-Libraries=/Usr/X11/Lib
>>>
>>>
>>> If you use /Usr then it may well not work.  These tools are case-sensitive
>>> ....
>>
>> Thanks, the lines I have in my email I wrong - I did some manual
>> editing as I was testing some stuff.
>>
>> So to be clear, I use
>>  --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib\
>> Without the symbolic link I get aqua, X11 support
>>
>> With the symbolic link I get aqua, X11, tcltk support
>>
>> Looking at config.log, it seems that all the test tcl and/or tk
>> programs complaining about missing X11/Xlib.h.  When I look at the gcc
>> command, I see stuff like
>>  /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99 -E -I/usr/local/include
>> -I/usr/local/include conftest.c
>> Include directories depends on on which test we are talking about, but
>> never includes the directory I specified with --x-includes, which
>> seems wrong to me.
>>
>> This could explain why making the symlink (so we have X11/Xlib.h under
>> /usr/include) makes tcltk work.
>>
>
> That's the wrong location, certainly.
> However, could it be that your problem is a missing /usr/X11R6 symlink?

# ls -l /usr/
total 24
lrwxr-xr-x     1 root  wheel     8B Aug 28 16:57 X11 -> /opt/X11
lrwxr-xr-x     1 root  wheel     8B Aug 28 16:57 X11R6 -> /opt/X11
<SNIP> : the rest of the standard directories excluded.

And /opt/X11 seems to have the standard include, lib, bin. etc, ...  Also,

# find  /opt/X11 -name "Xlib.h"
/opt/X11/include/X11/Xlib.h

This is a (pretty) fresh upgrade from Lion to Mountain Lion.  I did
have various stuff installed in Lion of course.

Kasper


>
> Cheers,
> Simon
>
>
>>
>>>
>>>
>>>> in my configure script so I don't fully understand why the presence of
>>>> this symbolic link fixes it.  But it is an empirical fact it does....
>>>>
>>>> Kasper
>>>>
>>>>
>>>>
>>>>>
>>>>> I've been using it for some time, and it has much nicer ttk widgets.
>>>>>
>>>>>
>>>>>
>>>>> On 02/09/2012 19:21, Kasper Daniel Hansen wrote:
>>>>>>
>>>>>>
>>>>>> I now want to get tcltk support working under ML (because I need to
>>>>>> test a few packages).
>>>>>>
>>>>>> I have installed Xquartz and I have just install the new tcltk 8.5.5
>>>>>> from CRAN (which is not signed btw).
>>>>>>
>>>>>> Running configure, I get
>>>>>>
>>>>>> checking for tclConfig.sh... no
>>>>>> checking for tclConfig.sh in library (sub)directories...
>>>>>> /usr/local/lib/tclConfig.sh
>>>>>> checking for tkConfig.sh... no
>>>>>> checking for tkConfig.sh in library (sub)directories...
>>>>>> /usr/local/lib/tkConfig.sh
>>>>>> checking tcl.h usability... yes
>>>>>> checking tcl.h presence... yes
>>>>>> checking for tcl.h... yes
>>>>>> checking tk.h usability... no
>>>>>> checking tk.h presence... no
>>>>>> checking for tk.h... no
>>>>>> checking /usr/local/include/tk8.5/generic/tk.h usability... no
>>>>>> checking /usr/local/include/tk8.5/generic/tk.h presence... no
>>>>>> checking for /usr/local/include/tk8.5/generic/tk.h... no
>>>>>> checking /usr/local/include/tk8.5/tk.h usability... no
>>>>>> checking /usr/local/include/tk8.5/tk.h presence... no
>>>>>> checking for /usr/local/include/tk8.5/tk.h... no
>>>>>> checking /usr/local/include/tcl8.5/tk.h usability... no
>>>>>> checking /usr/local/include/tcl8.5/tk.h presence... no
>>>>>> checking for /usr/local/include/tcl8.5/tk.h... no
>>>>>> checking /usr/local/include/tk.h usability... no
>>>>>> checking /usr/local/include/tk.h presence... no
>>>>>> checking for /usr/local/include/tk.h... no
>>>>>> checking for tk.h... yes
>>>>>>
>>>>>> So it seems to find tcltk.  I get a few warnings when it checks for X11
>>>>>> headers:
>>>>>>
>>>>>> checking X11/Intrinsic.h presence... no
>>>>>> configure: WARNING: X11/Intrinsic.h: accepted by the compiler,
>>>>>> rejected by the preprocessor!
>>>>>> configure: WARNING: X11/Intrinsic.h: proceeding with the compiler's
>>>>>> result
>>>>>>
>>>>>> and
>>>>>>
>>>>>> checking X11/Xmu/Atoms.h presence... no
>>>>>> configure: WARNING: X11/Xmu/Atoms.h: accepted by the compiler,
>>>>>> rejected by the preprocessor!
>>>>>> configure: WARNING: X11/Xmu/Atoms.h: proceeding with the compiler's
>>>>>> result
>>>>>>
>>>>>> I assume these are unrelated.  Although configure seems to find tcltk,
>>>>>> at the end of configure, I get
>>>>>>
>>>>>> R is now configured for x86_64-apple-darwin12.1.0
>>>>>>
>>>>>>    Source directory:          ../R-2.15.x-src
>>>>>>    Installation directory:    /usr/local/R/R-2.15.x
>>>>>>
>>>>>>    C compiler:                /usr/bin/gcc-4.2 -arch x86_64 -std=gnu99
>>>>>> -g -O2 -std=gnu99 -march=nocona
>>>>>>    Fortran 77 compiler:       /usr/bin/gfortran-4.2 -arch x86_64  -g
>>>>>> -O2 -march=nocona
>>>>>>
>>>>>>    C++ compiler:              /usr/bin/g++-4.2 -arch x86_64  -g -O2
>>>>>> -march=nocona
>>>>>>    Fortran 90/95 compiler:    /usr/bin/gfortran-4.2 -arch x86_64 -g -O2
>>>>>> -march=nocona
>>>>>>    Obj-C compiler:            /usr/bin/gcc-4.2 -arch x86_64 -g -O2
>>>>>> -fobjc-exceptions
>>>>>>
>>>>>>    Interfaces supported:      X11, aqua
>>>>>>    External libraries:        readline, BLAS(vecLib), LAPACK(in blas),
>>>>>> ICU
>>>>>>    Additional capabilities:   PNG, JPEG, NLS
>>>>>>    Options enabled:           R profiling, memory profiling, Java
>>>>>>
>>>>>>    Recommended packages:      yes
>>>>>>
>>>>>> which does not mention tcltk support under 'Interfaces supported'.
>>>>>>
>>>>>> This used to work on Lion, and I am wondering what I am doing wrong.
>>>>>
>>>>>
>>>>>
>>>>> I think you should be wondering what Apple is doing wrong ....  But you
>>>>> need
>>>>> to look in config.log to find the root cause.
>>>>>
>>>>>>
>>>>>> My configure script is
>>>>>>
>>>>>> export LANG=en_US.UTF-8
>>>>>> ../${SRCDIR}/configure SHELL='/bin/bash' \
>>>>>>    --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
>>>>>>    CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
>>>>>>    CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
>>>>>>    CXX="/usr/bin/g++-4.2 -arch x86_64" \
>>>>>>    CXXFLAGS="-g -O2 -march=nocona" \
>>>>>>    OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
>>>>>>    F77="/usr/bin/gfortran-4.2 -arch x86_64" \
>>>>>>    FFLAGS="-g -O2 -march=nocona" \
>>>>>>    FC="/usr/bin/gfortran-4.2 -arch x86_64" \
>>>>>>    FCFLAGS="-g -O2 -march=nocona" \
>>>>>>    --enable-memory-profiling\
>>>>>>    --X-Includes=/Usr/X11/Include --X-Libraries=/Usr/X11/Lib\
>>>>>>    --with-system-zlib\
>>>>>>    --with-blas='-framework vecLib' --with-lapack
>>>>>>
>>>>>> Thanks,
>>>>>> Kasper
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>>
>>>
>>>
>>> --
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>


From paul at askerko.net  Wed Sep  5 03:18:40 2012
From: paul at askerko.net (Paul Johnson)
Date: Tue, 4 Sep 2012 20:18:40 -0500
Subject: [R-SIG-Mac] Where is "assignTo:value:" defined?
Message-ID: <CAPUB6NAmvT-=DoC5fFf4+nJLH9YwVrXTxjRBK4Z2AnQiUVk6oQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120904/70e9d650/attachment.pl>

From simon.urbanek at r-project.org  Wed Sep  5 16:31:05 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 5 Sep 2012 10:31:05 -0400
Subject: [R-SIG-Mac] Problem in importing xlsx files
In-Reply-To: <CA+3eCc8rBJeq=D7yrVyrwdL2sj6vO3VU313AVEJOephG3teJbg@mail.gmail.com>
References: <CA+3eCc8rBJeq=D7yrVyrwdL2sj6vO3VU313AVEJOephG3teJbg@mail.gmail.com>
Message-ID: <28E0BA89-A734-4F69-96A9-2C863641213E@r-project.org>


On Aug 21, 2012, at 4:27 AM, Yogesh Dhiman <ydhiman at gmail.com> wrote:

> Hello Admin:
> 
> *I am trying hard to get rid of this error during importing xlsx files in r
> *.
> Error in .jcall("RJavaTools", "Ljava/lang/Object;", "invokeMethod", cl,  :
>  java.lang.OutOfMemoryError: Java heap space
> 

You can increase the Java heap by setting java.parameters. For example if you have enough memory, you can increase the heap to 2Gb by setting

options(java.parameters="-Xmx2g")

*before* you load any packages.

Cheers,
Simon



> Please suggest what should I do. I have used alternative method of
> importing then i got error like
> 
> 
> Error in xls2sep(xls, sheet, verbose = verbose, ..., method = method,  :
>  Intermediate file
> 'C:\.................................................\file15c45663419f.csv'
> missing!
> In addition: Warning message:
> running command '"C:\STRAWB~1\perl\bin\perl.exe"
> "C:/.............................../2.15/gdata/perl/xls2csv.pl"  "Sales
> 2011_12.xlsx"
> "C:\Users\....................................file15c45663419f.csv"
> "AMJ2011"' had status 1
> Error in file.exists(tfn) : invalid 'file' argument
> 
> 
> Please help ASAP
> -- 
> Regards
> Yogesh Dhiman
> *Contact No. *9780620785
> 
> "Even a stopped clock is right twice a day."
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From tim.bates at ed.ac.uk  Wed Sep  5 19:38:16 2012
From: tim.bates at ed.ac.uk (Timothy Bates)
Date: Wed, 5 Sep 2012 18:38:16 +0100
Subject: [R-SIG-Mac] Problem in importing xlsx files
In-Reply-To: <28E0BA89-A734-4F69-96A9-2C863641213E@r-project.org>
References: <CA+3eCc8rBJeq=D7yrVyrwdL2sj6vO3VU313AVEJOephG3teJbg@mail.gmail.com>
	<28E0BA89-A734-4F69-96A9-2C863641213E@r-project.org>
Message-ID: <5B0FF8B0-6EBF-4CE5-A3F1-C06FF7B895F0@ed.ac.uk>

have you tried the gdata package?

it works great, and is spreading in use here (especially with students. who love the ability to enter and clean data up in an easy to use spreadsheet)

fWHR <- gdata::read.xls("~/Dropbox/Capuchin_fWHR.xlsx?)

tim


On 5 Sep 2012, at 3:31 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>> Please suggest what should I do. I have used alternative method of
>> importing then i got error like
>> 
>> 
>> Error in xls2sep(xls, sheet, verbose = verbose, ..., method = method,  :
>> Intermediate file
>> 'C:\.................................................\file15c45663419f.csv'
>> missing!
>> In addition: Warning message:
>> running command '"C:\STRAWB~1\perl\bin\perl.exe"
>> "C:/.............................../2.15/gdata/perl/xls2csv.pl"  "Sales
>> 2011_12.xlsx"
>> "C:\Users\....................................file15c45663419f.csv"
>> "AMJ2011"' had status 1
>> Error in file.exists(tfn) : invalid 'file' argument

-- 
The University of Edinburgh is a charitable body, registered in
Scotland, with registration number SC005336.


From paul at askerko.net  Fri Sep  7 03:12:50 2012
From: paul at askerko.net (Paul Johnson)
Date: Thu, 6 Sep 2012 20:12:50 -0500
Subject: [R-SIG-Mac] Building R under Mountain Lion
Message-ID: <CAPUB6NCS6-_SXxL0Tuy1RQvRkKwZWtdKB23gEFU9RePA3_6HiQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120906/bb90c559/attachment.pl>

From simon.urbanek at r-project.org  Fri Sep  7 03:21:58 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 6 Sep 2012 21:21:58 -0400
Subject: [R-SIG-Mac] Building R under Mountain Lion
In-Reply-To: <CAPUB6NCS6-_SXxL0Tuy1RQvRkKwZWtdKB23gEFU9RePA3_6HiQ@mail.gmail.com>
References: <CAPUB6NCS6-_SXxL0Tuy1RQvRkKwZWtdKB23gEFU9RePA3_6HiQ@mail.gmail.com>
Message-ID: <6F59882C-7DBF-4DEE-BC49-17798AA04D28@r-project.org>


On Sep 6, 2012, at 9:12 PM, Paul Johnson wrote:

> I'm trying to build R on my MacBook Pro which is running Mac OS X 10.8.1
> (Mountain Lion). I installed Xcode 4.4.1. I installed GNU Fortran 4.2.3
> downloaded from the R project site. I downloaded the R 2.15.1 source. When
> I do a ./configure, I am told that Fortran isn't working. (Here is the last
> several lines from the ./configure output:
> 
> checking for Fortran 77 libraries of gfortran...  -L/usr/local/lib
> -L/usr/local/lib/gcc/i686-apple-darwin8/4.2.3
> -L/usr/local/lib/gcc/i686-apple-darwin8/4.2.3/../../.. -lgfortranbegin
> -lgfortran
> checking how to get verbose linking output from gcc -std=gnu99... -v
> checking for C libraries of gcc -std=gnu99...  -lcrt1.10.6.o
> -L/usr/local/lib
> -L/usr/llvm-gcc-4.2/bin/../lib/gcc/i686-apple-darwin11/4.2.1/x86_64
> -L/Applications/Xcode.app/Contents/Developer/usr/llvm-gcc-4.2/lib/gcc/i686-apple-darwin11/4.2.1/x86_64
> -L/usr/llvm-gcc-4.2/bin/../lib/gcc/i686-apple-darwin11/4.2.1
> -L/usr/llvm-gcc-4.2/bin/../lib/gcc
> -L/Applications/Xcode.app/Contents/Developer/usr/llvm-gcc-4.2/lib/gcc/i686-apple-darwin11/4.2.1
> -L/usr/llvm-gcc-4.2/bin/../lib/gcc/i686-apple-darwin11/4.2.1/../../..
> -L/Applications/Xcode.app/Contents/Developer/usr/llvm-gcc-4.2/lib/gcc/i686-apple-darwin11/4.2.1/../../..
> -lSystem
> checking for dummy main to link with Fortran 77 libraries... none
> checking for Fortran 77 name-mangling scheme... unknown
> configure: WARNING: unknown Fortran name-mangling scheme
> checking whether gfortran appends underscores to external names... unknown
> configure: error: cannot use Fortran
> 
> Has anyone successfully generated R on Mountain Lion?
> 

I think you're simply missing -arch flags to your compilers, so you have mix of architectures - you have to configure all compilers with the same architecture (see FAQ).

Cheers,
Simon


From guruduttapanda at gmail.com  Tue Sep 11 06:58:22 2012
From: guruduttapanda at gmail.com (Gurudutta Panda)
Date: Tue, 11 Sep 2012 10:28:22 +0530
Subject: [R-SIG-Mac] Error loading library(clusterProfiler). *** caught
 segfault *** address 0x11000080, cause 'memory not mapped'
Message-ID: <CAJGK7XdakUmypJifDoDAaj7ROb9CUFrk0sFtRLvvninhYUUipw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120911/0d348ecf/attachment.pl>

From cne1366 at gmail.com  Tue Sep 11 13:44:07 2012
From: cne1366 at gmail.com (christine english)
Date: Tue, 11 Sep 2012 06:44:07 -0500
Subject: [R-SIG-Mac] Opening R on leopard
Message-ID: <CAOR1BT9BVnqinYjCCKVgPt=eS+a0=+4X4PKO7bt-TfP9GnRYhQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120911/26ad7dc9/attachment.pl>

From pdalgd at gmail.com  Tue Sep 11 14:10:23 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Tue, 11 Sep 2012 14:10:23 +0200
Subject: [R-SIG-Mac] Opening R on leopard
In-Reply-To: <CAOR1BT9BVnqinYjCCKVgPt=eS+a0=+4X4PKO7bt-TfP9GnRYhQ@mail.gmail.com>
References: <CAOR1BT9BVnqinYjCCKVgPt=eS+a0=+4X4PKO7bt-TfP9GnRYhQ@mail.gmail.com>
Message-ID: <750BEDA7-B6AC-48BF-8721-7183D830D0F7@gmail.com>

I'm afraid that Power PC support went out when Simon's build system died.

CRAN says that "This binary distribution of R and the GUI supports Intel (32-bit and 64-bit) based Macs on Mac OS X 10.5 (Leopard), 10.6 (Snow Leopard) and 10.7 (Lion)." Notice "Intel based".

Versions up to 2.15.0 are in the "old" subdirectory. I'm not sure which one was the last to support PPC.

-Peter D.

On Sep 11, 2012, at 13:44 , christine english wrote:

> Dear R-sig-mac:
> 
> Hi!   Can someone Please help me.   I have downloaded R-2.15,1-signed.pkg
> onto my emac desktop (2001) w/ OS 10.5.8 leopard.   I am not a tech savy
> person (yet-I want to learn) and do not what to do to coax the program to
> open.
> Double clicking R gets an instant message-R is not supported on this
> framework.   According to the specs, that should not be so.
> 
> Can you please help?
> 
> I am using the application for a statitiscs course (COURSERA-Lecturer Prof.
> Andrew Conway-Princeton).
> 
> Thank you
> Christine English
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Peter Dalgaard, Professor
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From simon.urbanek at r-project.org  Tue Sep 11 19:40:33 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 11 Sep 2012 13:40:33 -0400
Subject: [R-SIG-Mac] Opening R on leopard
In-Reply-To: <750BEDA7-B6AC-48BF-8721-7183D830D0F7@gmail.com>
References: <CAOR1BT9BVnqinYjCCKVgPt=eS+a0=+4X4PKO7bt-TfP9GnRYhQ@mail.gmail.com>
	<750BEDA7-B6AC-48BF-8721-7183D830D0F7@gmail.com>
Message-ID: <2E1AA2AB-643D-4598-B9AB-84FF44B33861@r-project.org>


On Sep 11, 2012, at 8:10 AM, peter dalgaard <pdalgd at gmail.com> wrote:

> I'm afraid that Power PC support went out when Simon's build system died.
> 
> CRAN says that "This binary distribution of R and the GUI supports Intel (32-bit and 64-bit) based Macs on Mac OS X 10.5 (Leopard), 10.6 (Snow Leopard) and 10.7 (Lion)." Notice "Intel based".
> 
> Versions up to 2.15.0 are in the "old" subdirectory. I'm not sure which one was the last to support PPC.
> 

R 2.15.0 is the last release that supports PowerPC but updated packages for the 2.15 branch don't. Therefore I'd say 2.14.2 is the last R version that supports PowerPC including packages.

Cheers,
Simon


> 
> On Sep 11, 2012, at 13:44 , christine english wrote:
> 
>> Dear R-sig-mac:
>> 
>> Hi!   Can someone Please help me.   I have downloaded R-2.15,1-signed.pkg
>> onto my emac desktop (2001) w/ OS 10.5.8 leopard.   I am not a tech savy
>> person (yet-I want to learn) and do not what to do to coax the program to
>> open.
>> Double clicking R gets an instant message-R is not supported on this
>> framework.   According to the specs, that should not be so.
>> 
>> Can you please help?
>> 
>> I am using the application for a statitiscs course (COURSERA-Lecturer Prof.
>> Andrew Conway-Princeton).
>> 
>> Thank you
>> Christine English
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> -- 
> Peter Dalgaard, Professor
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From szehnder at uni-bonn.de  Thu Sep 13 21:21:23 2012
From: szehnder at uni-bonn.de (Simon Zehnder)
Date: Thu, 13 Sep 2012 21:21:23 +0200
Subject: [R-SIG-Mac] R compile from sources: error in make with gcc-4.7
Message-ID: <F8D6C624-6356-457F-80B5-F01E42FDA632@uni-bonn.de>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120913/33d1e533/attachment.pl>

From simon.urbanek at r-project.org  Thu Sep 13 21:48:51 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 13 Sep 2012 15:48:51 -0400
Subject: [R-SIG-Mac] R compile from sources: error in make with gcc-4.7
In-Reply-To: <F8D6C624-6356-457F-80B5-F01E42FDA632@uni-bonn.de>
References: <F8D6C624-6356-457F-80B5-F01E42FDA632@uni-bonn.de>
Message-ID: <D882F3BB-80BA-459D-9D44-0782203D4957@r-project.org>

It seems your compiler doesn't support ObjC. You should get a working compiler... Besides, gcc-4.7.x has been reported to break so your mileage may vary even if you get Apple driver and a more complete compiler.
More comments inline below.

Cheers,
Simon


On Sep 13, 2012, at 3:21 PM, Simon Zehnder wrote:

> Hi R-fellows,
> 
> I have some fatal errors compiling the R source files with gcc-4.7.1 on my Mountain Lion and I wonder if this is only on my Mac or if it does happen on other Macs too (I use the gcc-4.7 as I want to compile some C++ code that uses OpenMP 3.1).
> 
> Here is the way I did it: 
> 
> 1. (gcc-4.7) Install gcc-4.7 on my Mac following http://solarianprogrammer.com/2012/07/21/compiling-gcc-4-7-1-mac-osx-lion/ (This runs quite well)
> 
> 2. (Configure) Getting the R-2.15.1.tar.gz from http://cran.r-project.org, 
> 
> I used on the shell:  
> 
> tar -zxvf R-2.15.1.tar.gz
> cd R-2.15.1*
> mkdir build && cd build
> 
> Further, for the R configure to work it needs the XCode Command Line Tools 
> 
> Now as the gcc-4.7 is not the default compiler on my Mac and R needs X11 the configure line is a little nasty but works without errors (see also http://stat.ethz.ch/R-manual/R-patched/doc/manual/R-admin.html#Installing-R-under-_0028Mac_0029-OS-X):
> 
> ../configure CC="gcc-4.7 -arch x86_64" CXX="g++-4.7 -arch x86_64" F77="gfortran-4.7 -arch x86_64" FC="gfortran-4.7 -arch x86_64" OBJC="gcc-4.7 -arch x86_64" -x-libraries=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk/usr/X11/lib -x-includes=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk/usr/X11/include --with-lapack --with-blas='framework vecLib'
> 
> (The usual installation given on http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html, i.e.: 
> 
> ../configure CC="gcc-4.7 -arch $arch" CXX="g++-4.7 -arch $arch" F77="gfortran-4.7 -arch $arch" FC="gfortran-4.7 -arch $arch" OBJC="gcc-4.7 -arch $arch" --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib --with-blas='framework vecLib' --with-lapack
> 
> having defined arch=x86_64 
> 
> does not work on my machine, as it seems that XCode installs the Command Line Tools with the X11SDK in /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk/usr/X11.

Again, possibly a problem with your compiler, a supported compiler doesn't need that hack. But also 10.8 doesn't come with X11 so I assume you installed XQuartz accordingly ...


> Compiling with this line usually gives: 
> 
> configure: error: --with-x=yes (default) and X11 headers/libs are not available)
> 

Note that the instructions are for Apple compilers and those compatible (e.g. FSF builds with Apple driver driver which adds extra flags and parses others). For any other compilers, you're on your own and the flags may vary.


> 3. (Make) Doing now the make gives me huge amount of fatal errors with no clue where it comes from and no google documentations so far. All make output can be seen here: http://pastebin.com/3baL8php
> 
> I have really no clue where these come from,

They some from including AppKit, apparently your compiler doesn't even work with system frameworks. Even if you fix this instance there is Quartz as well. There are a lot of broken compiler builds around, so I'm not surprised. If you have to avoid all system services, you can try to build without aqua, but I don't think that has been tested recently on OS X ...


> but maybe somebody of you guys has encountered either these errors as well or has found another way to compile R with gcc-4.7?
> 
> 
> Best Regards
> 
> Simon
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From ripley at stats.ox.ac.uk  Thu Sep 13 22:33:32 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 13 Sep 2012 21:33:32 +0100
Subject: [R-SIG-Mac] R compile from sources: error in make with gcc-4.7
In-Reply-To: <D882F3BB-80BA-459D-9D44-0782203D4957@r-project.org>
References: <F8D6C624-6356-457F-80B5-F01E42FDA632@uni-bonn.de>
	<D882F3BB-80BA-459D-9D44-0782203D4957@r-project.org>
Message-ID: <5052431C.7060301@stats.ox.ac.uk>

On 13/09/2012 20:48, Simon Urbanek wrote:
> It seems your compiler doesn't support ObjC. You should get a working
> compiler... Besides, gcc-4.7.x has been reported to break so your
> mileage may vary even if you get Apple driver and a more complete
> compiler. More comments inline below.
>
> Cheers, Simon
>
>
> On Sep 13, 2012, at 3:21 PM, Simon Zehnder wrote:
>
>> Hi R-fellows,
>>
>> I have some fatal errors compiling the R source files with
>> gcc-4.7.1 on my Mountain Lion and I wonder if this is only on my
>> Mac or if it does happen on other Macs too (I use the gcc-4.7 as I
>> want to compile some C++ code that uses OpenMP 3.1).
>>
>> Here is the way I did it:
>>
>> 1. (gcc-4.7) Install gcc-4.7 on my Mac following
>> http://solarianprogrammer.com/2012/07/21/compiling-gcc-4-7-1-mac-osx-lion/
>> (This runs quite well)
>>
>> 2. (Configure) Getting the R-2.15.1.tar.gz from
>> http://cran.r-project.org,
>>
>> I used on the shell:
>>
>> tar -zxvf R-2.15.1.tar.gz cd R-2.15.1* mkdir build && cd build
>>
>> Further, for the R configure to work it needs the XCode Command
>> Line Tools
>>
>> Now as the gcc-4.7 is not the default compiler on my Mac and R
>> needs X11 the configure line is a little nasty but works without
>> errors (see also
>> http://stat.ethz.ch/R-manual/R-patched/doc/manual/R-admin.html#Installing-R-under-_0028Mac_0029-OS-X):
>>
>>
>>
../configure CC="gcc-4.7 -arch x86_64" CXX="g++-4.7 -arch x86_64" 
F77="gfortran-4.7 -arch x86_64" FC="gfortran-4.7 -arch x86_64" 
OBJC="gcc-4.7 -arch x86_64" 
-x-libraries=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk/usr/X11/lib 
-x-includes=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk/usr/X11/include 
--with-lapack --with-blas='framework vecLib'
>>
>> (The usual installation given on
>> http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html, i.e.:
>>
>> ../configure CC="gcc-4.7 -arch $arch" CXX="g++-4.7 -arch $arch"
>> F77="gfortran-4.7 -arch $arch" FC="gfortran-4.7 -arch $arch"
>> OBJC="gcc-4.7 -arch $arch" --x-includes=/usr/X11/include
>> --x-libraries=/usr/X11/lib --with-blas='framework vecLib'
>> --with-lapack
>>
>> having defined arch=x86_64
>>
>> does not work on my machine, as it seems that XCode installs the
>> Command Line Tools with the X11SDK in
>> /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk/usr/X11.
>
>>
> Again, possibly a problem with your compiler, a supported compiler
> doesn't need that hack. But also 10.8 doesn't come with X11 so I
> assume you installed XQuartz accordingly ...
>
>
>> Compiling with this line usually gives:
>>
>> configure: error: --with-x=yes (default) and X11 headers/libs are
>> not available)
>>
>
> Note that the instructions are for Apple compilers and those
> compatible (e.g. FSF builds with Apple driver driver which adds extra
> flags and parses others). For any other compilers, you're on your own
> and the flags may vary.
>
>
>> 3. (Make) Doing now the make gives me huge amount of fatal errors
>> with no clue where it comes from and no google documentations so
>> far. All make output can be seen here:
>> http://pastebin.com/3baL8php
>>
>> I have really no clue where these come from,
>
> They some from including AppKit, apparently your compiler doesn't
> even work with system frameworks. Even if you fix this instance there
> is Quartz as well. There are a lot of broken compiler builds around,
> so I'm not surprised. If you have to avoid all system services, you
> can try to build without aqua, but I don't think that has been tested
> recently on OS X ...

Would yesterday do?

>
>
>> but maybe somebody of you guys has encountered either these errors
>> as well or has found another way to compile R with gcc-4.7?
>>
>>
>> Best Regards
>>
>> Simon
>>
>> [[alternative HTML version deleted]]
>>
>> _______________________________________________ R-SIG-Mac mailing
>> list R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________ R-SIG-Mac mailing
> list R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From dwinsemius at comcast.net  Fri Sep 14 06:48:12 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 13 Sep 2012 21:48:12 -0700
Subject: [R-SIG-Mac] [R] tcltk installation problem in R (Mac OS X
	version)
In-Reply-To: <CAAkWfcbNcktqB6AhN3F1PWNzbeB_74rKsRFaQh9fdpSgYSzhZg@mail.gmail.com>
References: <CAAkWfcbNcktqB6AhN3F1PWNzbeB_74rKsRFaQh9fdpSgYSzhZg@mail.gmail.com>
Message-ID: <BC66A0A6-2750-4555-9E50-31A2BFE0ECD8@comcast.net>


On Sep 13, 2012, at 8:05 PM, Nitin Bhardwaj wrote:

> Hi all, I just installed R on my Mac OS X machine

How did you do that?  (... and please don't reply to this message in r-help. It should go to R-SIG-Mac and I am adding that address. You should delete the r=help address when you reply)

> and wanted to installed
> tcl/tk. So, I installed tcl/tk from this page:
> http://cran.r-project.org/bin/macosx/tools/
> 
> It gets placed in /usr/local dir.
> and then I installed R.
> 
> Next, in R, I set the TCL_LIBRARY variable by saying
> Sys.setenv(TCL_LIBRARY="/usr/local/lib/tcl8.5")
> and
> Sys.setenv(TK_LIBRARY="/usr/local/lib/tk8.5")

When I do 
> Sys.getenv("TK_LIBRARY")
#I get an empty string
[1] ""
> 
>  But still when I try to run any GUI-based program,

Exactly what does "any" mean or can you give a specific example?

> it gives me the error
> that TCL/TK were not istalled.
> 
> In tclRequire(tclPkg) : Tcl package 'BWidget' not found
> 
> I have a suspicion that I am not setting the TCL_LIBRARY right. When I try
> to set the TCL_VARIABLE to /usr/bin  even then it does not work. What am I
> doing wrong? Please help.

I'm pretty sure that tcltk is one of the default packages that come with the standard MacOS R package. I don't remember needing to any separate install and tcltk gets loaded with many of the packages that need it but it doesn't appear in the package installer menu (as do not stats or base of grDevices). It's listed as a base package:

( From my sessionIfo() : )

attached base packages:
[1] tcltk     grDevices datasets  splines   graphics  utils     stats     methods   base     

I think you need to follow protocol:

post to the right list
 and
post sessionInfo()

-- 

David Winsemius, MD
Alameda, CA, USA


From pdalgd at gmail.com  Fri Sep 14 07:47:41 2012
From: pdalgd at gmail.com (peter dalgaard)
Date: Fri, 14 Sep 2012 07:47:41 +0200
Subject: [R-SIG-Mac] [R] tcltk installation problem in R (Mac OS X
	version)
In-Reply-To: <BC66A0A6-2750-4555-9E50-31A2BFE0ECD8@comcast.net>
References: <CAAkWfcbNcktqB6AhN3F1PWNzbeB_74rKsRFaQh9fdpSgYSzhZg@mail.gmail.com>
	<BC66A0A6-2750-4555-9E50-31A2BFE0ECD8@comcast.net>
Message-ID: <D990F76D-E723-4632-ACDF-17A60376BF3F@gmail.com>


On Sep 14, 2012, at 06:48 , David Winsemius wrote:

> 
> On Sep 13, 2012, at 8:05 PM, Nitin Bhardwaj wrote:
> 
>> Hi all, I just installed R on my Mac OS X machine
> 
> How did you do that?  (... and please don't reply to this message in r-help. It should go to R-SIG-Mac and I am adding that address. You should delete the r=help address when you reply)
> 
>> and wanted to installed
>> tcl/tk. So, I installed tcl/tk from this page:
>> http://cran.r-project.org/bin/macosx/tools/
>> 
>> It gets placed in /usr/local dir.
>> and then I installed R.
>> 
>> Next, in R, I set the TCL_LIBRARY variable by saying
>> Sys.setenv(TCL_LIBRARY="/usr/local/lib/tcl8.5")
>> and
>> Sys.setenv(TK_LIBRARY="/usr/local/lib/tk8.5")
> 
> When I do 
>> Sys.getenv("TK_LIBRARY")
> #I get an empty string
> [1] ""
>> 
>> But still when I try to run any GUI-based program,
> 
> Exactly what does "any" mean or can you give a specific example?
> 
>> it gives me the error
>> that TCL/TK were not istalled.
>> 
>> In tclRequire(tclPkg) : Tcl package 'BWidget' not found
>> 
>> I have a suspicion that I am not setting the TCL_LIBRARY right. When I try
>> to set the TCL_VARIABLE to /usr/bin  even then it does not work. What am I
>> doing wrong? Please help.
> 
> I'm pretty sure that tcltk is one of the default packages that come with the standard MacOS R package. I don't remember needing to any separate install and tcltk gets loaded with many of the packages that need it but it doesn't appear in the package installer menu (as do not stats or base of grDevices). It's listed as a base package:
> 
> ( From my sessionIfo() : )
> 
> attached base packages:
> [1] tcltk     grDevices datasets  splines   graphics  utils     stats     methods   base     
> 
> I think you need to follow protocol:
> 
> post to the right list
> and
> post sessionInfo()

In this case, actually reading the error message also helps!

>> In tclRequire(tclPkg) : Tcl package 'BWidget' not found

If tcltk as such didn't work, you'd never get as far as getting an error from tclRequire. The issue is that the Tcl/Tk install doesn't include the _Tcl_ package 'BWidget'. How to install it on OSX was described in a post on R-sig-mac on July 4 2012.

(Retaining r-help in cc: since missing Tcl packages could happen on all platforms although perhaps not specifically BWidget. In general, you need to sort out what the preferred method of installation is on your platform. That is not an R issue.)

-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From szehnder at uni-bonn.de  Fri Sep 14 15:23:00 2012
From: szehnder at uni-bonn.de (Simon Zehnder)
Date: Fri, 14 Sep 2012 15:23:00 +0200
Subject: [R-SIG-Mac] Fwd: R compile from sources: error in make with gcc-4.7
References: <5052431C.7060301@stats.ox.ac.uk>
Message-ID: <91EA58CA-6238-4E3C-81E4-F6643D4724EB@uni-bonn.de>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120914/1f1dc3eb/attachment.pl>

From szehnder at uni-bonn.de  Fri Sep 14 16:01:38 2012
From: szehnder at uni-bonn.de (Simon Zehnder)
Date: Fri, 14 Sep 2012 16:01:38 +0200
Subject: [R-SIG-Mac] R compile from sources: error in make with gcc-4.7
In-Reply-To: <91EA58CA-6238-4E3C-81E4-F6643D4724EB@uni-bonn.de>
References: <5052431C.7060301@stats.ox.ac.uk>
	<91EA58CA-6238-4E3C-81E4-F6643D4724EB@uni-bonn.de>
Message-ID: <F2E95818-1C56-4BB8-86B0-3AC0AE5424FC@uni-bonn.de>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120914/72c47e35/attachment.pl>

From simon.urbanek at r-project.org  Fri Sep 14 16:36:06 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 14 Sep 2012 10:36:06 -0400
Subject: [R-SIG-Mac] R compile from sources: error in make with gcc-4.7
In-Reply-To: <F2E95818-1C56-4BB8-86B0-3AC0AE5424FC@uni-bonn.de>
References: <5052431C.7060301@stats.ox.ac.uk>
	<91EA58CA-6238-4E3C-81E4-F6643D4724EB@uni-bonn.de>
	<F2E95818-1C56-4BB8-86B0-3AC0AE5424FC@uni-bonn.de>
Message-ID: <CC4AB782-C9FB-424B-A039-CB7BB2A6D11A@r-project.org>


On Sep 14, 2012, at 10:01 AM, Simon Zehnder wrote:

> Running through the errors of my make output on http://pastebin.com/HXqLgH4b (without aqua) pulled my attention to the following error: 
> 
> In file included from ../../../../src/modules/lapack/vecLibg95c.c:5:0:
> /System/Library/Frameworks/vecLib.framework/Headers/vecLib.h:22:4: error: #error "<vecLib/vecLib.h> is deprecated.  Please #include <Accelerate/Accelerate.h> and link to Accelerate.framework."
> 
> This error is, I think from you Simon, already commented on http://permalink.gmane.org/gmane.comp.lang.r.mac/7293. So I followed your advice there and added the flag CPPFLAGS=-D ACCELERATE to my configure command:
> 

That's not what I suggested. Use copy/paste properly or, preferably, use R-patched or R-devel.

Cheers,
Simon


> 1. (Configure) The whole command is:
> 
> ../configure CC="gcc-4.7 -arch $arch" CXX="g++-4.7 -arch $arch" F77="gfortran-4.7 -arch $arch" FC="gfortran-4.7 -arch $arch" OBJC="gcc-4.7 -arch $arch" --x-includes=/usr/X11/include/ --x-libraries=/usr/X11/lib/ --with-blas='-framework libVec' --with-lapack --without-aqua CPPFLAGS="-D ACCELERATE"
> 
> All runs fine - no errors nor warnings.
> 
> 2. (Make) I run the make via:
> 
> make -j 8
> 
> and I get the following errors: http://pastebin.com/5UfaMK6r
> 
> It seems that the flag CPPFLAGS=-D ACCELERATE does not modify the compilers work. 
> 
> Any suggestions here?
> 



> 
> Best regards
> 
> Simon
> 
> 
> On Sep 14, 2012, at 3:23 PM, Simon Zehnder <szehnder at uni-bonn.de> wrote:
> 
>> I now reinstalled XCode and build the gcc-4.7 new, explicitly telling to build a objc compiler. Furthermore I installed the XQuartz package and can now use the symbolic link /usr/X11. 
>> 
>> 1. (Configure) Running the command: 
>> 
>> ../configure CC="gcc-4.7 -arch $arch" CXX="g++-4.7 -arch $arch" F77="gfortran-4.7 -arch $arch" FC="gfortran-4.7 -arch $arch" OBJC="gcc-4.7 -arch $arch" --x-includes=/usr/X11/include/ --x-libraries=/usr/X11/lib/ --with-blas='-framework libVec' --with-lapack
>> 
>> or
>> 
>> ../configure CC="gcc-4.7 -arch $arch" CXX="g++-4.7 -arch $arch" F77="gfortran-4.7 -arch $arch" FC="gfortran-4.7 -arch $arch" OBJC="objc-4.7 -arch $arch" --x-includes=/usr/X11/include/ --x-libraries=/usr/X11/lib/ --with-blas='-framework libVec' --with-lapack
>> 
>> Gives no errors nor warnings in the configure step.
>> 
>> 2. (Make) Doing a make with:
>> 
>> make -j 8
>> 
>> gives me still errors with aqua: http://pastebin.com/n3g6zYfS
>> 
>> If I try to build without aqua I do the following:
>> 
>> 1. (Configure) I configure with: 
>> 
>> ../configure CC="gcc-4.7 -arch $arch" CXX="g++-4.7 -arch $arch" F77="gfortran-4.7 -arch $arch" FC="gfortran-4.7 -arch $arch" OBJC="objc-4.7 -arch $arch" --x-includes=/usr/X11/include/ --x-libraries=/usr/X11/lib/ --with-blas='-framework libVec' --with-lapack --without-aqua
>> 
>> All runs fins - no errors nor warnings. 
>> 
>> 2. (Make) Running the command::
>> 
>> make -j 8
>> 
>> gives again errors with X11 (but quite different): http://pastebin.com/HXqLgH4b
>> 
>> Is there still a possible way to build R from sources with gcc-4.7?
>> 
>> 
>> Best regards
>> 
>> Simon
>> 
>> Begin forwarded message:
>> 
>>> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>> Subject: Re: [R-SIG-Mac] R compile from sources: error in make with gcc-4.7
>>> Date: September 13, 2012 10:33:32 PM GMT+02:00
>>> To: r-sig-mac at r-project.org
>>> 
>>> On 13/09/2012 20:48, Simon Urbanek wrote:
>>>> It seems your compiler doesn't support ObjC. You should get a working
>>>> compiler... Besides, gcc-4.7.x has been reported to break so your
>>>> mileage may vary even if you get Apple driver and a more complete
>>>> compiler. More comments inline below.
>>>> 
>>>> Cheers, Simon
>>>> 
>>>> 
>>>> On Sep 13, 2012, at 3:21 PM, Simon Zehnder wrote:
>>>> 
>>>>> Hi R-fellows,
>>>>> 
>>>>> I have some fatal errors compiling the R source files with
>>>>> gcc-4.7.1 on my Mountain Lion and I wonder if this is only on my
>>>>> Mac or if it does happen on other Macs too (I use the gcc-4.7 as I
>>>>> want to compile some C++ code that uses OpenMP 3.1).
>>>>> 
>>>>> Here is the way I did it:
>>>>> 
>>>>> 1. (gcc-4.7) Install gcc-4.7 on my Mac following
>>>>> http://solarianprogrammer.com/2012/07/21/compiling-gcc-4-7-1-mac-osx-lion/
>>>>> (This runs quite well)
>>>>> 
>>>>> 2. (Configure) Getting the R-2.15.1.tar.gz from
>>>>> http://cran.r-project.org,
>>>>> 
>>>>> I used on the shell:
>>>>> 
>>>>> tar -zxvf R-2.15.1.tar.gz cd R-2.15.1* mkdir build && cd build
>>>>> 
>>>>> Further, for the R configure to work it needs the XCode Command
>>>>> Line Tools
>>>>> 
>>>>> Now as the gcc-4.7 is not the default compiler on my Mac and R
>>>>> needs X11 the configure line is a little nasty but works without
>>>>> errors (see also
>>>>> http://stat.ethz.ch/R-manual/R-patched/doc/manual/R-admin.html#Installing-R-under-_0028Mac_0029-OS-X):
>>>>> 
>>>>> 
>>>>> 
>>> ../configure CC="gcc-4.7 -arch x86_64" CXX="g++-4.7 -arch x86_64" F77="gfortran-4.7 -arch x86_64" FC="gfortran-4.7 -arch x86_64" OBJC="gcc-4.7 -arch x86_64" -x-libraries=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk/usr/X11/lib -x-includes=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk/usr/X11/include --with-lapack --with-blas='framework vecLib'
>>>>> 
>>>>> (The usual installation given on
>>>>> http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html, i.e.:
>>>>> 
>>>>> ../configure CC="gcc-4.7 -arch $arch" CXX="g++-4.7 -arch $arch"
>>>>> F77="gfortran-4.7 -arch $arch" FC="gfortran-4.7 -arch $arch"
>>>>> OBJC="gcc-4.7 -arch $arch" --x-includes=/usr/X11/include
>>>>> --x-libraries=/usr/X11/lib --with-blas='framework vecLib'
>>>>> --with-lapack
>>>>> 
>>>>> having defined arch=x86_64
>>>>> 
>>>>> does not work on my machine, as it seems that XCode installs the
>>>>> Command Line Tools with the X11SDK in
>>>>> /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk/usr/X11.
>>>> 
>>>>> 
>>>> Again, possibly a problem with your compiler, a supported compiler
>>>> doesn't need that hack. But also 10.8 doesn't come with X11 so I
>>>> assume you installed XQuartz accordingly ...
>>>> 
>>>> 
>>>>> Compiling with this line usually gives:
>>>>> 
>>>>> configure: error: --with-x=yes (default) and X11 headers/libs are
>>>>> not available)
>>>>> 
>>>> 
>>>> Note that the instructions are for Apple compilers and those
>>>> compatible (e.g. FSF builds with Apple driver driver which adds extra
>>>> flags and parses others). For any other compilers, you're on your own
>>>> and the flags may vary.
>>>> 
>>>> 
>>>>> 3. (Make) Doing now the make gives me huge amount of fatal errors
>>>>> with no clue where it comes from and no google documentations so
>>>>> far. All make output can be seen here:
>>>>> http://pastebin.com/3baL8php
>>>>> 
>>>>> I have really no clue where these come from,
>>>> 
>>>> They some from including AppKit, apparently your compiler doesn't
>>>> even work with system frameworks. Even if you fix this instance there
>>>> is Quartz as well. There are a lot of broken compiler builds around,
>>>> so I'm not surprised. If you have to avoid all system services, you
>>>> can try to build without aqua, but I don't think that has been tested
>>>> recently on OS X ...
>>> 
>>> Would yesterday do?
>>> 
>>>> 
>>>> 
>>>>> but maybe somebody of you guys has encountered either these errors
>>>>> as well or has found another way to compile R with gcc-4.7?
>>>>> 
>>>>> 
>>>>> Best Regards
>>>>> 
>>>>> Simon
>>>>> 
>>>>> [[alternative HTML version deleted]]
>>>>> 
>>>>> _______________________________________________ R-SIG-Mac mailing
>>>>> list R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> 
>>>> 
>>>> _______________________________________________ R-SIG-Mac mailing
>>>> list R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>> 
>>> 
>>> -- 
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From bhh at xs4all.nl  Fri Sep 14 16:38:55 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Fri, 14 Sep 2012 16:38:55 +0200
Subject: [R-SIG-Mac] R compile from sources: error in make with gcc-4.7
In-Reply-To: <F2E95818-1C56-4BB8-86B0-3AC0AE5424FC@uni-bonn.de>
References: <5052431C.7060301@stats.ox.ac.uk>
	<91EA58CA-6238-4E3C-81E4-F6643D4724EB@uni-bonn.de>
	<F2E95818-1C56-4BB8-86B0-3AC0AE5424FC@uni-bonn.de>
Message-ID: <68D6EEC5-26C0-4220-9EDB-8B7B070F3FD1@xs4all.nl>


On 14-09-2012, at 16:01, Simon Zehnder wrote:

> Running through the errors of my make output on http://pastebin.com/HXqLgH4b (without aqua) pulled my attention to the following error: 
> 
> In file included from ../../../../src/modules/lapack/vecLibg95c.c:5:0:
> /System/Library/Frameworks/vecLib.framework/Headers/vecLib.h:22:4: error: #error "<vecLib/vecLib.h> is deprecated.  Please #include <Accelerate/Accelerate.h> and link to Accelerate.framework."
> 
> This error is, I think from you Simon, already commented on http://permalink.gmane.org/gmane.comp.lang.r.mac/7293. So I followed your advice there and added the flag CPPFLAGS=-D ACCELERATE to my configure command:
> 
> 1. (Configure) The whole command is:
> 
> ../configure CC="gcc-4.7 -arch $arch" CXX="g++-4.7 -arch $arch" F77="gfortran-4.7 -arch $arch" FC="gfortran-4.7 -arch $arch" OBJC="gcc-4.7 -arch $arch" --x-includes=/usr/X11/include/ --x-libraries=/usr/X11/lib/ --with-blas='-framework libVec' --with-lapack --without-aqua CPPFLAGS="-D ACCELERATE"
> 
> All runs fine - no errors nor warnings.
> 
> 2. (Make) I run the make via:
> 
> make -j 8
> 
> and I get the following errors: http://pastebin.com/5UfaMK6r
> 
> It seems that the flag CPPFLAGS=-D ACCELERATE does not modify the compilers work. 
> 
> Any suggestions here?

Reading the reply by Simon tells me that your CPPFLAGS doesn't agree with Simon's fix. It should be  CPPFLAGS=-D__ACCELERATE__

Berend


From tmrsg11 at gmail.com  Fri Sep 14 18:56:49 2012
From: tmrsg11 at gmail.com (C W)
Date: Fri, 14 Sep 2012 12:56:49 -0400
Subject: [R-SIG-Mac] Building package using RTools in OS X
Message-ID: <CAE2FW2=enOQdqb0sWbbEDrGXv3FtsT1ujzCjjr4zJ_HcRHtPHA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120914/9617290f/attachment.pl>

From murdoch.duncan at gmail.com  Fri Sep 14 20:06:31 2012
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Fri, 14 Sep 2012 14:06:31 -0400
Subject: [R-SIG-Mac] Building package using RTools in OS X
In-Reply-To: <CAE2FW2=enOQdqb0sWbbEDrGXv3FtsT1ujzCjjr4zJ_HcRHtPHA@mail.gmail.com>
References: <CAE2FW2=enOQdqb0sWbbEDrGXv3FtsT1ujzCjjr4zJ_HcRHtPHA@mail.gmail.com>
Message-ID: <50537227.2090505@gmail.com>

On 14/09/2012 12:56 PM, C W wrote:
> Hi List,
> I am trying to build an R package using RTools.  Does it exist for OS X?
>   Is there a something equivalent we could use?  What does everyone use?
>
> Seems like there are a lot of instructions available for Windows but not
> for OS X.

Simon gives instructions on his website <http://r.research.att.com/>.   
You'll probably have to download the compiler suite, but you don't need 
everything else that's in Rtools, because OSX already has Unix tools.

Duncan Murdoch


From michael.weylandt at gmail.com  Fri Sep 14 20:07:56 2012
From: michael.weylandt at gmail.com (R. Michael Weylandt)
Date: Fri, 14 Sep 2012 19:07:56 +0100
Subject: [R-SIG-Mac] Building package using RTools in OS X
In-Reply-To: <CAE2FW2=enOQdqb0sWbbEDrGXv3FtsT1ujzCjjr4zJ_HcRHtPHA@mail.gmail.com>
References: <CAE2FW2=enOQdqb0sWbbEDrGXv3FtsT1ujzCjjr4zJ_HcRHtPHA@mail.gmail.com>
Message-ID: <CAAmySGPZCPNnkHb=odkg-zYL+71sSWzyARt1mmtTJ-NrEqom9w@mail.gmail.com>

On Fri, Sep 14, 2012 at 5:56 PM, C W <tmrsg11 at gmail.com> wrote:
> Hi List,
> I am trying to build an R package using RTools.  Does it exist for OS X?
>  Is there a something equivalent we could use?  What does everyone use?

Xcode and friends will give you msot everything you need:

http://cran.r-project.org/bin/macosx/RMacOSX-FAQ.html#Building-R-from-sources

Though you might need to get gfortran from Simon's r.research.att.com site.

Cheers,
Michael

>
> Seems like there are a lot of instructions available for Windows but not
> for OS X.
> Thanks,
> Mike
>
>         [[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From tmrsg11 at gmail.com  Fri Sep 14 20:27:40 2012
From: tmrsg11 at gmail.com (C W)
Date: Fri, 14 Sep 2012 14:27:40 -0400
Subject: [R-SIG-Mac] Building package using RTools in OS X
In-Reply-To: <50537227.2090505@gmail.com>
References: <CAE2FW2=enOQdqb0sWbbEDrGXv3FtsT1ujzCjjr4zJ_HcRHtPHA@mail.gmail.com>
	<50537227.2090505@gmail.com>
Message-ID: <CAE2FW2mP+3LA6xGfvkNichoJdx+qXM3y9xih7PC4qE92-=hCKw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120914/75980ed6/attachment.pl>

From tmrsg11 at gmail.com  Fri Sep 14 21:43:38 2012
From: tmrsg11 at gmail.com (C W)
Date: Fri, 14 Sep 2012 15:43:38 -0400
Subject: [R-SIG-Mac] Building package using RTools in OS X
In-Reply-To: <CAE2FW2mP+3LA6xGfvkNichoJdx+qXM3y9xih7PC4qE92-=hCKw@mail.gmail.com>
References: <CAE2FW2=enOQdqb0sWbbEDrGXv3FtsT1ujzCjjr4zJ_HcRHtPHA@mail.gmail.com>
	<50537227.2090505@gmail.com>
	<CAE2FW2mP+3LA6xGfvkNichoJdx+qXM3y9xih7PC4qE92-=hCKw@mail.gmail.com>
Message-ID: <CAE2FW2k2NbZEiCRoeNxyhzV2Q=NL2-VRHQ_zxcCL+Zp9n+ZdyQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120914/4ef15ea1/attachment.pl>

From michael.weylandt at gmail.com  Fri Sep 14 21:53:10 2012
From: michael.weylandt at gmail.com (R. Michael Weylandt)
Date: Fri, 14 Sep 2012 20:53:10 +0100
Subject: [R-SIG-Mac] Building package using RTools in OS X
In-Reply-To: <CAE2FW2k2NbZEiCRoeNxyhzV2Q=NL2-VRHQ_zxcCL+Zp9n+ZdyQ@mail.gmail.com>
References: <CAE2FW2=enOQdqb0sWbbEDrGXv3FtsT1ujzCjjr4zJ_HcRHtPHA@mail.gmail.com>
	<50537227.2090505@gmail.com>
	<CAE2FW2mP+3LA6xGfvkNichoJdx+qXM3y9xih7PC4qE92-=hCKw@mail.gmail.com>
	<CAE2FW2k2NbZEiCRoeNxyhzV2Q=NL2-VRHQ_zxcCL+Zp9n+ZdyQ@mail.gmail.com>
Message-ID: <CAAmySGO7Msn_AQ=TSxDJiyBi=JrhQPcC4ydX1iO6Nm==WiMwzw@mail.gmail.com>

On Fri, Sep 14, 2012 at 8:43 PM, C W <tmrsg11 at gmail.com> wrote:
> I see, I went over to the site and installed gfortran.
> What is the compiler suite you are referring to on that website?
> R2.15-Branch?  Maybe could you give me an example how you would do all this?
> Thanks,
> Mike

Compiler suite = Xcode. (Available on your install DVD or on newer
versions of OS X via the app store I believe)

R2.15-Branch = R

;-)

Simon's site has a copy-paste script to build R; not too much more we
can add to that.

Cheers,
Michael


From tmrsg11 at gmail.com  Fri Sep 14 23:09:05 2012
From: tmrsg11 at gmail.com (C W)
Date: Fri, 14 Sep 2012 17:09:05 -0400
Subject: [R-SIG-Mac] can't install 'datasets' package in OS X
Message-ID: <CAE2FW2kqVSyV44kiStJmvWQ7Qn-kW_6YFMx0y_bXo7YPou-xCQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120914/d41ef227/attachment.pl>

From dwinsemius at comcast.net  Sat Sep 15 01:12:45 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 14 Sep 2012 16:12:45 -0700
Subject: [R-SIG-Mac] can't install 'datasets' package in OS X
In-Reply-To: <CAE2FW2kqVSyV44kiStJmvWQ7Qn-kW_6YFMx0y_bXo7YPou-xCQ@mail.gmail.com>
References: <CAE2FW2kqVSyV44kiStJmvWQ7Qn-kW_6YFMx0y_bXo7YPou-xCQ@mail.gmail.com>
Message-ID: <67680BCB-D91A-4F01-A0A0-54A3037BD60E@comcast.net>


On Sep 14, 2012, at 2:09 PM, C W wrote:

> Hi list,
> I am having some trouble using the datasets package.  The 'state' data is
> missing.

Evidence?  (Notice there is no dataframe named "state")

state.abb (state)              US State Facts and Figures
state.area (state)             US State Facts and Figures
state.center (state)           US State Facts and Figures
state.division (state)         US State Facts and Figures
state.name (state)             US State Facts and Figures
state.region (state)           US State Facts and Figures
state.x77 (state)              US State Facts and Figures


> So, I removed the package trying to reinstall.

Well, now you've really done it, Ollie. 

> 
> What I did,
> Package&Data > Package Installer > Get list
> 
> No 'datasets' in the list.

Correct. Also no "stats" or "base" or "graphics".

> 
> So, I tried to install using,
> 
>> install.packages('datasets')
> 
> Warning message:
> 
> package ?datasets? is not available (for R version 2.15.1)
> 
> 
> But, the documentation says it is built for 2.15.1.
> http://stat.ethz.ch/R-manual/R-patched/library/datasets/html/00Index.html

Since it is part of the base install, you may find it easiest to just reinstall R.

-- 
David.
> 
> 
>> sessionInfo()
> 
> R version 2.15.1 (2012-06-22)
> 
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> 
> locale:
> 
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> 
> attached base packages:
> 
> [1] stats     graphics  grDevices utils     methods   base
> 
> So, am I missing something?
> Thanks,
> M
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
Alameda, CA, USA


From tmrsg11 at gmail.com  Sat Sep 15 02:07:02 2012
From: tmrsg11 at gmail.com (C W)
Date: Fri, 14 Sep 2012 20:07:02 -0400
Subject: [R-SIG-Mac] can't install 'datasets' package in OS X
In-Reply-To: <67680BCB-D91A-4F01-A0A0-54A3037BD60E@comcast.net>
References: <CAE2FW2kqVSyV44kiStJmvWQ7Qn-kW_6YFMx0y_bXo7YPou-xCQ@mail.gmail.com>
	<67680BCB-D91A-4F01-A0A0-54A3037BD60E@comcast.net>
Message-ID: <CAE2FW2mdYtwa+bbp3jkHykWbsJMZGV85NydQ38se2eu-6omVKQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120914/05c0e77e/attachment.pl>

From dwinsemius at comcast.net  Sat Sep 15 02:20:20 2012
From: dwinsemius at comcast.net (David Winsemius)
Date: Fri, 14 Sep 2012 17:20:20 -0700
Subject: [R-SIG-Mac] can't install 'datasets' package in OS X
In-Reply-To: <CAE2FW2mdYtwa+bbp3jkHykWbsJMZGV85NydQ38se2eu-6omVKQ@mail.gmail.com>
References: <CAE2FW2kqVSyV44kiStJmvWQ7Qn-kW_6YFMx0y_bXo7YPou-xCQ@mail.gmail.com>
	<67680BCB-D91A-4F01-A0A0-54A3037BD60E@comcast.net>
	<CAE2FW2mdYtwa+bbp3jkHykWbsJMZGV85NydQ38se2eu-6omVKQ@mail.gmail.com>
Message-ID: <638CE738-84C2-430C-9D3D-368E9BD0D6A6@comcast.net>


On Sep 14, 2012, at 5:07 PM, C W wrote:

> Yes, I must made a mistake thinking state.abb, state.area is contained in 'state'.  But they are actually different data frame.
> 
> But why does this list have 'state' when it doesn't actually exist?

When you execute the command:

data(state)

... the interpreter loads all of those dataframes into memory.

The pages says:

"Usage

	state.abb
	state.area
	state.center
	state.division
	state.name
	state.region
	state.x77"

-- 
David.
> 
> state	US State Facts and Figures
> state.abb	US State Facts and Figures
> state.area	US State Facts and Figures
> state.center	US State Facts and Figures
> state.division	US State Facts and Figures
> state.name	US State Facts and Figures
> state.region	US State Facts and Figures
> state.x77	US State Facts and Figures
> 
> 
> Here's the link where I found it.
> http://stat.ethz.ch/R-manual/R-patched/library/datasets/html/00Index.html
> 
> Yes, I was forced to reinstalled because I didn't find datasets on CRAN.
> 
> Thanks,
> Mike
> 
> On Fri, Sep 14, 2012 at 7:12 PM, David Winsemius <dwinsemius at comcast.net> wrote:
> 
> On Sep 14, 2012, at 2:09 PM, C W wrote:
> 
> > Hi list,
> > I am having some trouble using the datasets package.  The 'state' data is
> > missing.
> 
> Evidence?  (Notice there is no dataframe named "state")
> 
> state.abb (state)              US State Facts and Figures
> state.area (state)             US State Facts and Figures
> state.center (state)           US State Facts and Figures
> state.division (state)         US State Facts and Figures
> state.name (state)             US State Facts and Figures
> state.region (state)           US State Facts and Figures
> state.x77 (state)              US State Facts and Figures
> 
> 
> > So, I removed the package trying to reinstall.
> 
> Well, now you've really done it, Ollie.
> 
> >
> > What I did,
> > Package&Data > Package Installer > Get list
> >
> > No 'datasets' in the list.
> 
> Correct. Also no "stats" or "base" or "graphics".
> 
> >
> > So, I tried to install using,
> >
> >> install.packages('datasets')
> >
> > Warning message:
> >
> > package ?datasets? is not available (for R version 2.15.1)
> >
> >
> > But, the documentation says it is built for 2.15.1.
> > http://stat.ethz.ch/R-manual/R-patched/library/datasets/html/00Index.html
> 
> Since it is part of the base install, you may find it easiest to just reinstall R.
> 
> --
> David.
> >
> >
> >> sessionInfo()
> >
> > R version 2.15.1 (2012-06-22)
> >
> > Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> >
> >
> > locale:
> >
> > [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> >
> >
> > attached base packages:
> >
> > [1] stats     graphics  grDevices utils     methods   base
> >
> > So, am I missing something?
> > Thanks,
> > M
> >
> >       [[alternative HTML version deleted]]
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> David Winsemius, MD
> Alameda, CA, USA
> 
> 

David Winsemius, MD
Alameda, CA, USA


From tmrsg11 at gmail.com  Sat Sep 15 02:30:06 2012
From: tmrsg11 at gmail.com (C W)
Date: Fri, 14 Sep 2012 20:30:06 -0400
Subject: [R-SIG-Mac] can't install 'datasets' package in OS X
In-Reply-To: <638CE738-84C2-430C-9D3D-368E9BD0D6A6@comcast.net>
References: <CAE2FW2kqVSyV44kiStJmvWQ7Qn-kW_6YFMx0y_bXo7YPou-xCQ@mail.gmail.com>
	<67680BCB-D91A-4F01-A0A0-54A3037BD60E@comcast.net>
	<CAE2FW2mdYtwa+bbp3jkHykWbsJMZGV85NydQ38se2eu-6omVKQ@mail.gmail.com>
	<638CE738-84C2-430C-9D3D-368E9BD0D6A6@comcast.net>
Message-ID: <CAE2FW2=BuYn9yxtw4GLKwYCbsd3YktYgs6jsXhmjO=jmF4cFxw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120914/0e18befc/attachment.pl>

From szehnder at uni-bonn.de  Sun Sep 16 00:56:53 2012
From: szehnder at uni-bonn.de (Simon Zehnder)
Date: Sun, 16 Sep 2012 00:56:53 +0200
Subject: [R-SIG-Mac] R compile from sources: error in make with gcc-4.7
In-Reply-To: <68D6EEC5-26C0-4220-9EDB-8B7B070F3FD1@xs4all.nl>
References: <5052431C.7060301@stats.ox.ac.uk>
	<91EA58CA-6238-4E3C-81E4-F6643D4724EB@uni-bonn.de>
	<F2E95818-1C56-4BB8-86B0-3AC0AE5424FC@uni-bonn.de>
	<68D6EEC5-26C0-4220-9EDB-8B7B070F3FD1@xs4all.nl>
Message-ID: <B48ED98F-49AB-40CE-8535-7EE371B7D3FA@uni-bonn.de>

That is correct! My fault! Simon, I didn't want to blame you with this one. 

It compiles know and it works perfectly on the console. I am still interested, why it does not compile with aqua. Can somebody explain me why? 

Best regards

Simon

On Sep 14, 2012, at 4:38 PM, Berend Hasselman <bhh at xs4all.nl> wrote:

> 
> On 14-09-2012, at 16:01, Simon Zehnder wrote:
> 
>> Running through the errors of my make output on http://pastebin.com/HXqLgH4b (without aqua) pulled my attention to the following error: 
>> 
>> In file included from ../../../../src/modules/lapack/vecLibg95c.c:5:0:
>> /System/Library/Frameworks/vecLib.framework/Headers/vecLib.h:22:4: error: #error "<vecLib/vecLib.h> is deprecated.  Please #include <Accelerate/Accelerate.h> and link to Accelerate.framework."
>> 
>> This error is, I think from you Simon, already commented on http://permalink.gmane.org/gmane.comp.lang.r.mac/7293. So I followed your advice there and added the flag CPPFLAGS=-D ACCELERATE to my configure command:
>> 
>> 1. (Configure) The whole command is:
>> 
>> ../configure CC="gcc-4.7 -arch $arch" CXX="g++-4.7 -arch $arch" F77="gfortran-4.7 -arch $arch" FC="gfortran-4.7 -arch $arch" OBJC="gcc-4.7 -arch $arch" --x-includes=/usr/X11/include/ --x-libraries=/usr/X11/lib/ --with-blas='-framework libVec' --with-lapack --without-aqua CPPFLAGS="-D ACCELERATE"
>> 
>> All runs fine - no errors nor warnings.
>> 
>> 2. (Make) I run the make via:
>> 
>> make -j 8
>> 
>> and I get the following errors: http://pastebin.com/5UfaMK6r
>> 
>> It seems that the flag CPPFLAGS=-D ACCELERATE does not modify the compilers work. 
>> 
>> Any suggestions here?
> 
> Reading the reply by Simon tells me that your CPPFLAGS doesn't agree with Simon's fix. It should be  CPPFLAGS=-D__ACCELERATE__
> 
> Berend
> 


From simon.urbanek at r-project.org  Sun Sep 16 03:16:18 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 15 Sep 2012 21:16:18 -0400
Subject: [R-SIG-Mac] R compile from sources: error in make with gcc-4.7
In-Reply-To: <B48ED98F-49AB-40CE-8535-7EE371B7D3FA@uni-bonn.de>
References: <5052431C.7060301@stats.ox.ac.uk>
	<91EA58CA-6238-4E3C-81E4-F6643D4724EB@uni-bonn.de>
	<F2E95818-1C56-4BB8-86B0-3AC0AE5424FC@uni-bonn.de>
	<68D6EEC5-26C0-4220-9EDB-8B7B070F3FD1@xs4all.nl>
	<B48ED98F-49AB-40CE-8535-7EE371B7D3FA@uni-bonn.de>
Message-ID: <59407A35-D1A5-4075-8078-4CADC1C2FD75@r-project.org>

Simon,

On Sep 15, 2012, at 6:56 PM, Simon Zehnder wrote:

> That is correct! My fault! Simon, I didn't want to blame you with this one. 
> 
> It compiles know and it works perfectly on the console. I am still interested, why it does not compile with aqua. Can somebody explain me why? 
> 

Can you sent me the full output? I don't have the time to compile gcc from scratch right now and none of the usual suspects supports ObjC - that alone is a sign that no one really uses gcc on OS X (other than for ports) since Apple has abandoned it. My guess would be that the ObjC support is not as complete as in Apple's version - it's probably more geared toward GNUstep - but that's just a guess.

Cheers,
Simon



> Best regards
> 
> Simon
> 
> On Sep 14, 2012, at 4:38 PM, Berend Hasselman <bhh at xs4all.nl> wrote:
> 
>> 
>> On 14-09-2012, at 16:01, Simon Zehnder wrote:
>> 
>>> Running through the errors of my make output on http://pastebin.com/HXqLgH4b (without aqua) pulled my attention to the following error: 
>>> 
>>> In file included from ../../../../src/modules/lapack/vecLibg95c.c:5:0:
>>> /System/Library/Frameworks/vecLib.framework/Headers/vecLib.h:22:4: error: #error "<vecLib/vecLib.h> is deprecated.  Please #include <Accelerate/Accelerate.h> and link to Accelerate.framework."
>>> 
>>> This error is, I think from you Simon, already commented on http://permalink.gmane.org/gmane.comp.lang.r.mac/7293. So I followed your advice there and added the flag CPPFLAGS=-D ACCELERATE to my configure command:
>>> 
>>> 1. (Configure) The whole command is:
>>> 
>>> ../configure CC="gcc-4.7 -arch $arch" CXX="g++-4.7 -arch $arch" F77="gfortran-4.7 -arch $arch" FC="gfortran-4.7 -arch $arch" OBJC="gcc-4.7 -arch $arch" --x-includes=/usr/X11/include/ --x-libraries=/usr/X11/lib/ --with-blas='-framework libVec' --with-lapack --without-aqua CPPFLAGS="-D ACCELERATE"
>>> 
>>> All runs fine - no errors nor warnings.
>>> 
>>> 2. (Make) I run the make via:
>>> 
>>> make -j 8
>>> 
>>> and I get the following errors: http://pastebin.com/5UfaMK6r
>>> 
>>> It seems that the flag CPPFLAGS=-D ACCELERATE does not modify the compilers work. 
>>> 
>>> Any suggestions here?
>> 
>> Reading the reply by Simon tells me that your CPPFLAGS doesn't agree with Simon's fix. It should be  CPPFLAGS=-D__ACCELERATE__
>> 
>> Berend
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From szehnder at uni-bonn.de  Sun Sep 16 15:10:04 2012
From: szehnder at uni-bonn.de (Simon Zehnder)
Date: Sun, 16 Sep 2012 15:10:04 +0200
Subject: [R-SIG-Mac] R compile from sources: error in make with gcc-4.7
In-Reply-To: <59407A35-D1A5-4075-8078-4CADC1C2FD75@r-project.org>
References: <5052431C.7060301@stats.ox.ac.uk>
	<91EA58CA-6238-4E3C-81E4-F6643D4724EB@uni-bonn.de>
	<F2E95818-1C56-4BB8-86B0-3AC0AE5424FC@uni-bonn.de>
	<68D6EEC5-26C0-4220-9EDB-8B7B070F3FD1@xs4all.nl>
	<B48ED98F-49AB-40CE-8535-7EE371B7D3FA@uni-bonn.de>
	<59407A35-D1A5-4075-8078-4CADC1C2FD75@r-project.org>
Message-ID: <C71A5779-C617-47EE-BF0B-40F22A8E2BCE@uni-bonn.de>

Hi Simon,

below you find my configure and my make output while building R from sources with gcc-4.7.1 and including aqua (I used the R-patched). 

1. (Configure) Output: http://pastebin.com/GJ5DZncU

2. (Make) Output: http://pastebin.com/SHZWgA4P

Best regards

Simon

On Sep 16, 2012, at 3:16 AM, Simon Urbanek <simon.urbanek at r-project.org> wrote:

> Simon,
> 
> On Sep 15, 2012, at 6:56 PM, Simon Zehnder wrote:
> 
>> That is correct! My fault! Simon, I didn't want to blame you with this one. 
>> 
>> It compiles know and it works perfectly on the console. I am still interested, why it does not compile with aqua. Can somebody explain me why? 
>> 
> 
> Can you sent me the full output? I don't have the time to compile gcc from scratch right now and none of the usual suspects supports ObjC - that alone is a sign that no one really uses gcc on OS X (other than for ports) since Apple has abandoned it. My guess would be that the ObjC support is not as complete as in Apple's version - it's probably more geared toward GNUstep - but that's just a guess.
> 
> Cheers,
> Simon
> 
> 
> 
>> Best regards
>> 
>> Simon
>> 
>> On Sep 14, 2012, at 4:38 PM, Berend Hasselman <bhh at xs4all.nl> wrote:
>> 
>>> 
>>> On 14-09-2012, at 16:01, Simon Zehnder wrote:
>>> 
>>>> Running through the errors of my make output on http://pastebin.com/HXqLgH4b (without aqua) pulled my attention to the following error: 
>>>> 
>>>> In file included from ../../../../src/modules/lapack/vecLibg95c.c:5:0:
>>>> /System/Library/Frameworks/vecLib.framework/Headers/vecLib.h:22:4: error: #error "<vecLib/vecLib.h> is deprecated.  Please #include <Accelerate/Accelerate.h> and link to Accelerate.framework."
>>>> 
>>>> This error is, I think from you Simon, already commented on http://permalink.gmane.org/gmane.comp.lang.r.mac/7293. So I followed your advice there and added the flag CPPFLAGS=-D ACCELERATE to my configure command:
>>>> 
>>>> 1. (Configure) The whole command is:
>>>> 
>>>> ../configure CC="gcc-4.7 -arch $arch" CXX="g++-4.7 -arch $arch" F77="gfortran-4.7 -arch $arch" FC="gfortran-4.7 -arch $arch" OBJC="gcc-4.7 -arch $arch" --x-includes=/usr/X11/include/ --x-libraries=/usr/X11/lib/ --with-blas='-framework libVec' --with-lapack --without-aqua CPPFLAGS="-D ACCELERATE"
>>>> 
>>>> All runs fine - no errors nor warnings.
>>>> 
>>>> 2. (Make) I run the make via:
>>>> 
>>>> make -j 8
>>>> 
>>>> and I get the following errors: http://pastebin.com/5UfaMK6r
>>>> 
>>>> It seems that the flag CPPFLAGS=-D ACCELERATE does not modify the compilers work. 
>>>> 
>>>> Any suggestions here?
>>> 
>>> Reading the reply by Simon tells me that your CPPFLAGS doesn't agree with Simon's fix. It should be  CPPFLAGS=-D__ACCELERATE__
>>> 
>>> Berend
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 


From philip.logerfo at gmail.com  Fri Sep 21 17:50:36 2012
From: philip.logerfo at gmail.com (Philip LoGerfo)
Date: Fri, 21 Sep 2012 11:50:36 -0400
Subject: [R-SIG-Mac] You CAN save history on a Mac
Message-ID: <CA+LtGGHknp3hTeuPYTPiBkcsGhP9_jp9ajFxfWrg7+Aa_1RN-g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120921/906e9c7d/attachment.pl>

From simon.urbanek at r-project.org  Fri Sep 21 17:59:22 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 21 Sep 2012 11:59:22 -0400
Subject: [R-SIG-Mac] You CAN save history on a Mac
In-Reply-To: <CA+LtGGHknp3hTeuPYTPiBkcsGhP9_jp9ajFxfWrg7+Aa_1RN-g@mail.gmail.com>
References: <CA+LtGGHknp3hTeuPYTPiBkcsGhP9_jp9ajFxfWrg7+Aa_1RN-g@mail.gmail.com>
Message-ID: <8A22F116-A701-45BA-8F63-8DC42DFDC360@r-project.org>


On Sep 21, 2012, at 11:50 AM, Philip LoGerfo wrote:

> This is in response to Ken Williams' post from January 2011, Can't save
> history using savehistory(). I don't know how one responds directly to a
> thread on this forum, so I guess I'll just start my own.
> Anyway here's what you do:
> 
> Click on R in the menu pane, and scroll down and click on Preferences
> 
> A new window will appear. In its menu, click on Startup.
> 
> At the bottom of the screen, there's a section called history. In there you
> can specify the name of the history file.
> 
> The default is set to .Rapp.history . CHANGE the name to anything without a
> dot (.) at the beginning. Now it will save that
> file to your working directory.

That makes no difference with the saving, it does that anyway. The dot just makes the file invisible in the Finder, but it is always saved with a dot or without.

Cheers,
Simon


> However savehistory() still WILL NOT work.
> 
> To save the file click on the red button at the top left of the R console,
> as if you were trying to close your session. When you do so, your history
> will automatically be saved to the file you named as your history file.
> When the dropdown menu asks if you want end your session or save your
> workspace image, you can click cancel to continue your session with your
> newly saved history file.
> 
> The history file should save the last 500 or so lines.If you want to
> archive that history file and then later save a new history
> file, you will need to rename the earlier history file to something else,
> so that it is not overwritten by the new one. That's important to keep in
> mind, because every time you attempt to close the session, the most recent
> 500 lines will be saved, and the previous file will be overwritten.
> 
> I hope this saves everyone a lot of time and frustration.
> 
> Phil
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From Ricardo.Julio.Rodriguez.Fernandez at sergas.es  Mon Sep 24 23:10:20 2012
From: Ricardo.Julio.Rodriguez.Fernandez at sergas.es (Ricardo.Julio.Rodriguez.Fernandez at sergas.es)
Date: Mon, 24 Sep 2012 23:10:20 +0200
Subject: [R-SIG-Mac] Cairo, cairoDevice and FastRWeb
Message-ID: <244BFA3AE9F83C4A8261E271897072370104AA377564@ASSCCEVS03.sergas.local>

Hi!

After reading a number of interesting papers, blog entries and mail messages stored in the net, I think I finally understand that this FastRWeb framework is the great tool we are looking for! Thanks for your work!

I've got some errors while installing Cairo and cairoDevice solved by sticking to i386 architecture.

But I'm not able to figure out where and what switch must I modify to get FastRWeb working in 32-bits mode. Here what I'm getting at FastRWeb startup:

*****
GMXUX-Ricardo-Rodriguez-2:/ rrodriguez$ sudo /var/FastRWeb/code/start
R CMD Rserve --RS-conf /var/FastRWeb/code/rserve.conf --vanilla --no-save

R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
Copyright (C) 2012 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

Starting Rserve on gmxux-ricardo-rodriguez-2
Loading packages...
XML: FALSE
Cairo: TRUE
Matrix: TRUE
FastRWeb: FALSE
Rserv started in daemon mode.
*****

Here the error I get when submitting an example:

Evaluation failed with error code -10

Here what I get in terminal:

GMXUX-Ricardo-Rodriguez-2:/ rrodriguez$ Error: package ?FastRWeb? is not installed for 'arch=x86_64'

Please, could you be so kind as for helping me to work out this issue? Thanks!

All the best,

Ricardo

--
Ricardo Rodr?guez
Research Management and Promotion Technician
Technical Secretariat
Health Research Institute of Santiago de Compostela (IDIS)
http://www.idisantiago.es

Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.

Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm


From macqueen1 at llnl.gov  Tue Sep 25 01:57:54 2012
From: macqueen1 at llnl.gov (MacQueen, Don)
Date: Mon, 24 Sep 2012 16:57:54 -0700
Subject: [R-SIG-Mac] Conflicts between g95 and gfortran (from
 http://r.research.att.com/tools/)
Message-ID: <CC864192.AC575%macqueen1@llnl.gov>


I am hoping to compile on my 10.7.4 box some fortran code that is known to
compile successfully with g95 on Windows 7.
It's a rather complex suite comprised of some 24 files of source code,
lots of subroutines, etc.

I have found g95 in MacPorts, and also from www.g95.org. The files on
g95.org appear to be 2+ years old. Don't know (yet) whether the MacPorts
version is current.

[I have installed:  gfortran-4.2.3.dmg
<http://r.research.att.com/gfortran-4.2.3.dmg> (ca. 27MB, GNU Fortran
4.2.3 release)]



My question is, does anyone know of conflicts between g95 and Simon's
gfortran, which I have installed?

Obviously, I'd prefer not to break my ability to build R packages that use
fortran (I have couple of my own).

Thanks in advance for any information!

-Don

-- 
Don MacQueen

Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062


From randy.cs.lai at gmail.com  Sat Sep 15 01:05:21 2012
From: randy.cs.lai at gmail.com (Randy Lai)
Date: Fri, 14 Sep 2012 16:05:21 -0700
Subject: [R-SIG-Mac] R64 GUI bug
Message-ID: <6CFE149E-78E0-4DDE-B1F9-132E030A8C99@gmail.com>

R and R64 have the same bundle identifier
Strange things could happen sometimes.
I suggest to change the Bundle Identifier of R64.app to org.R-project.R64.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120914/b2854882/attachment-0001.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: R64.jpg
Type: image/jpg
Size: 97320 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20120914/b2854882/attachment-0001.jpg>

From simon.urbanek at r-project.org  Tue Sep 25 14:46:49 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 25 Sep 2012 08:46:49 -0400
Subject: [R-SIG-Mac] R64 GUI bug
In-Reply-To: <6CFE149E-78E0-4DDE-B1F9-132E030A8C99@gmail.com>
References: <6CFE149E-78E0-4DDE-B1F9-132E030A8C99@gmail.com>
Message-ID: <8AC12929-BAA4-4B06-A793-D20E6FB5C056@r-project.org>

On Sep 14, 2012, at 7:05 PM, Randy Lai wrote:

> R and R64 have the same bundle identifier


Yes, they are the same application so they have to.


> Strange things could happen sometimes.


Can you elaborate? You can rename any application so the name doesn't matter - the bundle identifier is what defines the application and both R.app and R64.app are the same application (R GUI), just built for different architectures.

Cheers,
Simon


> I suggest to change the Bundle Identifier of R64.app to org.R-project.R64.
> <R64.jpg>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From Peder.Axensten at slu.se  Thu Sep 27 11:02:47 2012
From: Peder.Axensten at slu.se (Peder Axensten)
Date: Thu, 27 Sep 2012 11:02:47 +0200
Subject: [R-SIG-Mac] =?windows-1252?q?error=3A_unrecognized_option_=91-arc?=
	=?windows-1252?q?h=92_--_suggestion!?=
Message-ID: <F886874A-88E4-4BBA-B824-DE1EC15C5434@slu.se>

The compiler (clang) and linker that Apple includes (with Xcode) uses the argument -arch to specify the architecture to build for. This is not recognized by, for instance, the gcc compilers. Because this argument is 'hardcoded' into the Makeconfig files, it is an involved process to compile libraries for R with any other compiler.

Either all all `-arch i386` and `-arch x86_64` must be removed from these files (this must be done every time R is updated) or you create a file `~/.R/Makevars` with something like
~~~~~~~
MYARCH = -arch x86_64

# Comment the next line to return to the original setting:
MYARCH = 

CC = gcc $(MYARCH) -std=gnu99
CXX=g++ $(MYARCH)
CXXCPP = g++ $(MYARCH) -E
FC = gfortran $(MYARCH)
F77 = gfortran $(MYARCH)
OBJC = gcc $(MYARCH)
OBJCXX = g++ $(MYARCH)

DYLIB_LD = gcc $(MYARCH) -std=gnu99
MAIN_LD = gcc $(MYARCH) -std=gnu99
SHLIB_CXXLD = g++ $(MYARCH)
SHLIB_FCLD = gfortran $(MYARCH)
SHLIB_LD = gcc $(MYARCH) -std=gnu99
~~~~~~~
Unfortunately, a few instances of `-arch` are outside the variables and can not be reached this way.



My suggestion is that the Makeconfig files are slightly changed:

- Change all `-arch i386` or `-arch x86_64` in these files to `$(MYARCH)`.
- Add a line `MYARCH = -arch x86_64` or `MYARCH = -arch i386`, respectively, to the top of these files.

No functionality is changed but using another compiler is more compatible and simpler as only MYARCH would need to be predefined.



Even better would be to be able to specify the compiler set to be used by using a variable (and handle the architecture accordingly), but I know to little about make files to come up with a constructive suggestion. Probably something like using
PREFIX = 
GCC = $(PREFIX)gcc $(MYARCH)
GPP = $(PREFIX)g++ $(MYARCH)
GFORTRAN = $(PREFIX)gfortran $(MYARCH)
and then using them when defining CC, XXX, etc.

No functionality would be changed, but a different set of compilers could be used just by changing PREFIX and MYARCH.

Best regards,

Peder Axensten
Research engineer

Swedish University of Agricultural Sciences
Dept. of Forest Resource Management
Remote Sensing
se-90183 Ume?
Sweden
Visiting address: Skogsmarksgr?nd


From simon.urbanek at r-project.org  Thu Sep 27 14:27:38 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 27 Sep 2012 08:27:38 -0400
Subject: [R-SIG-Mac]
 =?windows-1252?q?error=3A_unrecognized_option_=91-arc?=
 =?windows-1252?q?h=92_--_suggestion!?=
In-Reply-To: <F886874A-88E4-4BBA-B824-DE1EC15C5434@slu.se>
References: <F886874A-88E4-4BBA-B824-DE1EC15C5434@slu.se>
Message-ID: <D75AD120-BC63-49A8-B040-6946167BBE9E@r-project.org>

On Sep 27, 2012, at 5:02 AM, Peder Axensten wrote:

> The compiler (clang) and linker that Apple includes (with Xcode) uses the argument -arch to specify the architecture to build for. This is not recognized by, for instance, the gcc compilers. Because this argument is 'hardcoded' into the Makeconfig files,

It is not - those (assuming you mean Makeconf) are generated from the flags used to build R, so if you use any other compiler with other flags they will be reflected in the Makeconf accordingly.


> it is an involved process to compile libraries for R with any other compiler.
> 


R doen't care what you compile libraries with as long as R can links against them at configure time. Again, this has nothing to do with Makevars.

Cheers,
Simon



> Either all all `-arch i386` and `-arch x86_64` must be removed from these files (this must be done every time R is updated) or you create a file `~/.R/Makevars` with something like
> ~~~~~~~
> MYARCH = -arch x86_64
> 
> # Comment the next line to return to the original setting:
> MYARCH = 
> 
> CC = gcc $(MYARCH) -std=gnu99
> CXX=g++ $(MYARCH)
> CXXCPP = g++ $(MYARCH) -E
> FC = gfortran $(MYARCH)
> F77 = gfortran $(MYARCH)
> OBJC = gcc $(MYARCH)
> OBJCXX = g++ $(MYARCH)
> 
> DYLIB_LD = gcc $(MYARCH) -std=gnu99
> MAIN_LD = gcc $(MYARCH) -std=gnu99
> SHLIB_CXXLD = g++ $(MYARCH)
> SHLIB_FCLD = gfortran $(MYARCH)
> SHLIB_LD = gcc $(MYARCH) -std=gnu99
> ~~~~~~~
> Unfortunately, a few instances of `-arch` are outside the variables and can not be reached this way.
> 
> 
> 
> My suggestion is that the Makeconfig files are slightly changed:
> 
> - Change all `-arch i386` or `-arch x86_64` in these files to `$(MYARCH)`.
> - Add a line `MYARCH = -arch x86_64` or `MYARCH = -arch i386`, respectively, to the top of these files.
> 
> No functionality is changed but using another compiler is more compatible and simpler as only MYARCH would need to be predefined.
> 
> 
> 
> Even better would be to be able to specify the compiler set to be used by using a variable (and handle the architecture accordingly), but I know to little about make files to come up with a constructive suggestion. Probably something like using
> PREFIX = 
> GCC = $(PREFIX)gcc $(MYARCH)
> GPP = $(PREFIX)g++ $(MYARCH)
> GFORTRAN = $(PREFIX)gfortran $(MYARCH)
> and then using them when defining CC, XXX, etc.
> 
> No functionality would be changed, but a different set of compilers could be used just by changing PREFIX and MYARCH.
> 
> Best regards,
> 
> Peder Axensten
> Research engineer
> 
> Swedish University of Agricultural Sciences
> Dept. of Forest Resource Management
> Remote Sensing
> se-90183 Ume?
> Sweden
> Visiting address: Skogsmarksgr?nd
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From Peder.Axensten at slu.se  Thu Sep 27 16:07:37 2012
From: Peder.Axensten at slu.se (Peder Axensten)
Date: Thu, 27 Sep 2012 16:07:37 +0200
Subject: [R-SIG-Mac]
 =?windows-1252?q?error=3A_unrecognized_option_=91-arc?=
 =?windows-1252?q?h=92_--_suggestion!?=
In-Reply-To: <D75AD120-BC63-49A8-B040-6946167BBE9E@r-project.org>
References: <F886874A-88E4-4BBA-B824-DE1EC15C5434@slu.se>
	<D75AD120-BC63-49A8-B040-6946167BBE9E@r-project.org>
Message-ID: <6B7D9A0F-A006-4FA1-8A5B-2ACA672FF99D@slu.se>


On 27 sep 2012, at 14:27, Simon Urbanek <simon.urbanek at r-project.org> wrote:

> On Sep 27, 2012, at 5:02 AM, Peder Axensten wrote:
> 
>> The compiler (clang) and linker that Apple includes (with Xcode) uses the argument -arch to specify the architecture to build for. This is not recognized by, for instance, the gcc compilers. Because this argument is 'hardcoded' into the Makeconfig files,
> 
> It is not - those (assuming you mean Makeconf) are generated from the flags used to build R, so if you use any other compiler with other flags they will be reflected in the Makeconf accordingly.

I know little about how this is set up, is it not possible to change some kind of template to change the way this is done? Some base variables that are generated from the flags, these variables are then used in the rest of the Makeconf along the lines I suggested?

>> it is an involved process to compile libraries for R with any other compiler.
> 
> R doen't care what you compile libraries with as long as R can links against them at configure time. Again, this has nothing to do with Makevars.

As I understand it, if I use R CMD INSTALL I'm stuck with what is defined in the Makeconf files. If I use any other compiler other than Apple's clang as my "default" compiler, I get errors when I run R CMD INSTALL ?? that is, if I from R try to install any package that requires compilation. I think it would be better to determine the value of the variables when R CMD INSTALL is run, rather than when R is installed (or even compiled?).

I'm sure it could be implemented better, but something like:
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
GCCPATH = 

# If we are using the Apple compiler [that supports the -arch option], this is the argument to that option.
ARCH = x86_64

# Get information on the gcc to be used.
ISAPPLESTRING := $(shell "$(GCCPATH)gcc --version")
ISAPPLEKEY := Apple

# This will either be nothing or '-arch $(ARCH)'
MYARCH := $(if $(findstring $(ISAPPLEKEY),$(ISAPPLESTRING)),"-arch $(ARCH)")

MYGCC = $(GCCPATH)gcc $(MYARCH)
MYGPP = $(GCCPATH)g++ $(MYARCH)
MYFORTRAN = $(GCCPATH)gfortran $(MYARCH)

## etc.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


All the best,
/Peder


> Cheers,
> Simon
> 
> 
> 
>> Either all all `-arch i386` and `-arch x86_64` must be removed from these files (this must be done every time R is updated) or you create a file `~/.R/Makevars` with something like
>> ~~~~~~~
>> MYARCH = -arch x86_64
>> 
>> # Comment the next line to return to the original setting:
>> MYARCH = 
>> 
>> CC = gcc $(MYARCH) -std=gnu99
>> CXX=g++ $(MYARCH)
>> CXXCPP = g++ $(MYARCH) -E
>> FC = gfortran $(MYARCH)
>> F77 = gfortran $(MYARCH)
>> OBJC = gcc $(MYARCH)
>> OBJCXX = g++ $(MYARCH)
>> 
>> DYLIB_LD = gcc $(MYARCH) -std=gnu99
>> MAIN_LD = gcc $(MYARCH) -std=gnu99
>> SHLIB_CXXLD = g++ $(MYARCH)
>> SHLIB_FCLD = gfortran $(MYARCH)
>> SHLIB_LD = gcc $(MYARCH) -std=gnu99
>> ~~~~~~~
>> Unfortunately, a few instances of `-arch` are outside the variables and can not be reached this way.
>> 
>> 
>> 
>> My suggestion is that the Makeconfig files are slightly changed:
>> 
>> - Change all `-arch i386` or `-arch x86_64` in these files to `$(MYARCH)`.
>> - Add a line `MYARCH = -arch x86_64` or `MYARCH = -arch i386`, respectively, to the top of these files.
>> 
>> No functionality is changed but using another compiler is more compatible and simpler as only MYARCH would need to be predefined.
>> 
>> 
>> 
>> Even better would be to be able to specify the compiler set to be used by using a variable (and handle the architecture accordingly), but I know to little about make files to come up with a constructive suggestion. Probably something like using
>> PREFIX = 
>> GCC = $(PREFIX)gcc $(MYARCH)
>> GPP = $(PREFIX)g++ $(MYARCH)
>> GFORTRAN = $(PREFIX)gfortran $(MYARCH)
>> and then using them when defining CC, XXX, etc.
>> 
>> No functionality would be changed, but a different set of compilers could be used just by changing PREFIX and MYARCH.
>> 
>> Best regards,
>> 
>> Peder Axensten
>> Research engineer
>> 
>> Swedish University of Agricultural Sciences
>> Dept. of Forest Resource Management
>> Remote Sensing
>> se-90183 Ume?
>> Sweden
>> Visiting address: Skogsmarksgr?nd
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 


From kasperdanielhansen at gmail.com  Thu Sep 27 16:29:34 2012
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Thu, 27 Sep 2012 10:29:34 -0400
Subject: [R-SIG-Mac]
	=?windows-1252?q?error=3A_unrecognized_option_=91-arc?=
	=?windows-1252?q?h=92_--_suggestion!?=
In-Reply-To: <6B7D9A0F-A006-4FA1-8A5B-2ACA672FF99D@slu.se>
References: <F886874A-88E4-4BBA-B824-DE1EC15C5434@slu.se>
	<D75AD120-BC63-49A8-B040-6946167BBE9E@r-project.org>
	<6B7D9A0F-A006-4FA1-8A5B-2ACA672FF99D@slu.se>
Message-ID: <CAC2h7usbNYB=1JZp-1tyE2Xu-M0G=HD063OJCUq=ehtx2uQQ1A@mail.gmail.com>

On Thu, Sep 27, 2012 at 10:07 AM, Peder Axensten <Peder.Axensten at slu.se> wrote:
>
> On 27 sep 2012, at 14:27, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>
>> On Sep 27, 2012, at 5:02 AM, Peder Axensten wrote:
>>
>>> The compiler (clang) and linker that Apple includes (with Xcode) uses the argument -arch to specify the architecture to build for. This is not recognized by, for instance, the gcc compilers. Because this argument is 'hardcoded' into the Makeconfig files,
>>
>> It is not - those (assuming you mean Makeconf) are generated from the flags used to build R, so if you use any other compiler with other flags they will be reflected in the Makeconf accordingly.
>
> I know little about how this is set up, is it not possible to change some kind of template to change the way this is done? Some base variables that are generated from the flags, these variables are then used in the rest of the Makeconf along the lines I suggested?
>
>>> it is an involved process to compile libraries for R with any other compiler.
>>
>> R doen't care what you compile libraries with as long as R can links against them at configure time. Again, this has nothing to do with Makevars.
>
> As I understand it, if I use R CMD INSTALL I'm stuck with what is defined in the Makeconf files. If I use any other compiler other than Apple's clang as my "default" compiler, I get errors when I run R CMD INSTALL ?? that is, if I from R try to install any package that requires compilation. I think it would be better to determine the value of the variables when R CMD INSTALL is run, rather than when R is installed (or even compiled?).

Peder,

You seem a bit confused.  Let me explain it a bit clearer.  When you
compile R, the settings (and compiler) with which you compiled R is
stored in Makeconf and used to compile new packages using R CMD
INSTALL.  This ensures that you use the same compiler settings to
build R and add-on packages, which is obviously an _extremely good_
idea.  If you want to use another compiler with R, you will need to
re-compile R using this compiler, which should work.

My guess is that you are using the CRAN binary of R (compiled using
the official compiler) and you want to use another compiler to build
an add-on package.  This is not supported, and it should not be
supported, because it is an extremely bad idea.

Below is my configure call for building R from svn, using Simon's
build of Apple's GCC codebase (aka the official compiler).  It should
be easy to modify this to build R using a different compiler.  I am
just including this as an example.  Once you have build R using you
new compiler, R CMD INSTALL should work out of the box.

Note that if you want aqua support, you need a compiler that supports
objective-C (as far as I understand).  I don't use a GUI, but I use an
aqua device, like
R>  quartz()

(I may use imprecise terminology here, wrt. aqua and quartz).

Kasper

configure:

export LANG=en_US.UTF-8
../${SRCDIR}/configure SHELL='/bin/bash' \
  --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
  CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
  CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
  CXX="/usr/bin/g++-4.2 -arch x86_64" \
  CXXFLAGS="-g -O2 -march=nocona" \
  OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
  F77="/usr/bin/gfortran-4.2 -arch x86_64" \
  FFLAGS="-g -O2 -march=nocona" \
  FC="/usr/bin/gfortran-4.2 -arch x86_64" \
  FCFLAGS="-g -O2 -march=nocona" \
  --enable-memory-profiling\
  --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib\
  --with-system-zlib\
  --with-blas='-framework vecLib' --with-lapack





> I'm sure it could be implemented better, but something like:
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
> GCCPATH =
>
> # If we are using the Apple compiler [that supports the -arch option], this is the argument to that option.
> ARCH = x86_64
>
> # Get information on the gcc to be used.
> ISAPPLESTRING := $(shell "$(GCCPATH)gcc --version")
> ISAPPLEKEY := Apple
>
> # This will either be nothing or '-arch $(ARCH)'
> MYARCH := $(if $(findstring $(ISAPPLEKEY),$(ISAPPLESTRING)),"-arch $(ARCH)")
>
> MYGCC = $(GCCPATH)gcc $(MYARCH)
> MYGPP = $(GCCPATH)g++ $(MYARCH)
> MYFORTRAN = $(GCCPATH)gfortran $(MYARCH)
>
> ## etc.
> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>
>
> All the best,
> /Peder
>
>
>> Cheers,
>> Simon
>>
>>
>>
>>> Either all all `-arch i386` and `-arch x86_64` must be removed from these files (this must be done every time R is updated) or you create a file `~/.R/Makevars` with something like
>>> ~~~~~~~
>>> MYARCH = -arch x86_64
>>>
>>> # Comment the next line to return to the original setting:
>>> MYARCH =
>>>
>>> CC = gcc $(MYARCH) -std=gnu99
>>> CXX=g++ $(MYARCH)
>>> CXXCPP = g++ $(MYARCH) -E
>>> FC = gfortran $(MYARCH)
>>> F77 = gfortran $(MYARCH)
>>> OBJC = gcc $(MYARCH)
>>> OBJCXX = g++ $(MYARCH)
>>>
>>> DYLIB_LD = gcc $(MYARCH) -std=gnu99
>>> MAIN_LD = gcc $(MYARCH) -std=gnu99
>>> SHLIB_CXXLD = g++ $(MYARCH)
>>> SHLIB_FCLD = gfortran $(MYARCH)
>>> SHLIB_LD = gcc $(MYARCH) -std=gnu99
>>> ~~~~~~~
>>> Unfortunately, a few instances of `-arch` are outside the variables and can not be reached this way.
>>>
>>>
>>>
>>> My suggestion is that the Makeconfig files are slightly changed:
>>>
>>> - Change all `-arch i386` or `-arch x86_64` in these files to `$(MYARCH)`.
>>> - Add a line `MYARCH = -arch x86_64` or `MYARCH = -arch i386`, respectively, to the top of these files.
>>>
>>> No functionality is changed but using another compiler is more compatible and simpler as only MYARCH would need to be predefined.
>>>
>>>
>>>
>>> Even better would be to be able to specify the compiler set to be used by using a variable (and handle the architecture accordingly), but I know to little about make files to come up with a constructive suggestion. Probably something like using
>>> PREFIX =
>>> GCC = $(PREFIX)gcc $(MYARCH)
>>> GPP = $(PREFIX)g++ $(MYARCH)
>>> GFORTRAN = $(PREFIX)gfortran $(MYARCH)
>>> and then using them when defining CC, XXX, etc.
>>>
>>> No functionality would be changed, but a different set of compilers could be used just by changing PREFIX and MYARCH.
>>>
>>> Best regards,
>>>
>>> Peder Axensten
>>> Research engineer
>>>
>>> Swedish University of Agricultural Sciences
>>> Dept. of Forest Resource Management
>>> Remote Sensing
>>> se-90183 Ume?
>>> Sweden
>>> Visiting address: Skogsmarksgr?nd
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From Ricardo.Julio.Rodriguez.Fernandez at sergas.es  Fri Sep 28 00:25:53 2012
From: Ricardo.Julio.Rodriguez.Fernandez at sergas.es (Ricardo.Julio.Rodriguez.Fernandez at sergas.es)
Date: Fri, 28 Sep 2012 00:25:53 +0200
Subject: [R-SIG-Mac] =?windows-1252?q?=91package_=91XML=92_is_not_installe?=
 =?windows-1252?q?d_for_=27arch=3Dx86=5F64=27=92?=
Message-ID: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>

Hi,

I'm trying to confirm I understand how packages are installed and manage in R to be able to better interpret error/warning messages.

In a Mac OS X installation of R I get this error:

> require(XML)
Loading required package: XML
Failed with error:  ?package ?XML? is not installed for 'arch=x86_64'?

But the graphical interface R Package Installer says that version 3.9-4 is installed.

Please, where am I wrong? Thanks!


> sessionInfo()
R version 2.15.1 (2012-06-22)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8

attached base packages:
[1] graphics  grDevices utils     datasets  stats     methods   base

other attached packages:
[1] foreign_0.8-50

loaded via a namespace (and not attached):
[1] tools_2.15.1
>



--
Ricardo Rodr?guez
Research Management and Promotion Technician
Technical Secretariat
Health Research Institute of Santiago de Compostela (IDIS)
http://www.idisantiago.es

Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.

Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm


From cubranic at stat.ubc.ca  Fri Sep 28 00:33:46 2012
From: cubranic at stat.ubc.ca (Davor Cubranic)
Date: Thu, 27 Sep 2012 15:33:46 -0700
Subject: [R-SIG-Mac]
 =?windows-1252?q?=91package_=91XML=92_is_not_installe?=
 =?windows-1252?q?d_for_=27arch=3Dx86=5F64=27=92?=
In-Reply-To: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>
References: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>
Message-ID: <862C2C3B-2A20-4B6D-A739-7D551943064D@stat.ubc.ca>

Maybe it is installed only for the 32-bit arch?

Davor


On 2012-09-27, at 3:25 PM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:

> Hi,
> 
> I'm trying to confirm I understand how packages are installed and manage in R to be able to better interpret error/warning messages.
> 
> In a Mac OS X installation of R I get this error:
> 
>> require(XML)
> Loading required package: XML
> Failed with error:  ?package ?XML? is not installed for 'arch=x86_64'?
> 
> But the graphical interface R Package Installer says that version 3.9-4 is installed.
> 
> Please, where am I wrong? Thanks!
> 
> 
>> sessionInfo()
> R version 2.15.1 (2012-06-22)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
> 
> attached base packages:
> [1] graphics  grDevices utils     datasets  stats     methods   base
> 
> other attached packages:
> [1] foreign_0.8-50
> 
> loaded via a namespace (and not attached):
> [1] tools_2.15.1
>> 
> 
> 
> 
> --
> Ricardo Rodr?guez
> Research Management and Promotion Technician
> Technical Secretariat
> Health Research Institute of Santiago de Compostela (IDIS)
> http://www.idisantiago.es
> 
> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
> 
> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
> 
> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Fri Sep 28 02:24:07 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 27 Sep 2012 20:24:07 -0400
Subject: [R-SIG-Mac]
 =?windows-1252?q?=91package_=91XML=92_is_not_installe?=
 =?windows-1252?q?d_for_=27arch=3Dx86=5F64=27=92?=
In-Reply-To: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>
References: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>
Message-ID: <A02E05F4-1266-4F67-9B9B-716C8000A0A6@r-project.org>


On Sep 27, 2012, at 6:25 PM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:

> Hi,
> 
> I'm trying to confirm I understand how packages are installed and manage in R to be able to better interpret error/warning messages.
> 
> In a Mac OS X installation of R I get this error:
> 
>> require(XML)
> Loading required package: XML
> Failed with error:  ?package ?XML? is not installed for 'arch=x86_64'?
> 
> But the graphical interface R Package Installer says that version 3.9-4 is installed.
> 

It is installed, but only for 32-bit and you are trying to load it in 64-bit R.


> Please, where am I wrong?

Use 32-bit R or if you want to use XML in 64-bit R, you have to compile it for 64-bit. AFAICS XML currently doesn't pass checks on any platform, so there are no binaries and you have to compile it from sources. If you want both 32-bit and 64-bit you'll have to use --merge-multiarch INSTALL option or use the two-step process described in the Mac FAQ.

Cheers,
Simon


> Thanks!
> 
> 
>> sessionInfo()
> R version 2.15.1 (2012-06-22)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
> 
> attached base packages:
> [1] graphics  grDevices utils     datasets  stats     methods   base
> 
> other attached packages:
> [1] foreign_0.8-50
> 
> loaded via a namespace (and not attached):
> [1] tools_2.15.1
>> 
> 
> 
> 
> --
> Ricardo Rodr?guez
> Research Management and Promotion Technician
> Technical Secretariat
> Health Research Institute of Santiago de Compostela (IDIS)
> http://www.idisantiago.es
> 
> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
> 
> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
> 
> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From john.maindonald at anu.edu.au  Fri Sep 28 03:32:23 2012
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Fri, 28 Sep 2012 11:32:23 +1000
Subject: [R-SIG-Mac]
 =?windows-1252?q?=91package_=91XML=92_is_not_installe?=
 =?windows-1252?q?d_for_=27arch=3Dx86=5F64=27=92?=
In-Reply-To: <A02E05F4-1266-4F67-9B9B-716C8000A0A6@r-project.org>
References: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>
	<A02E05F4-1266-4F67-9B9B-716C8000A0A6@r-project.org>
Message-ID: <B148F17C-87B3-439B-B0C7-9B18B87D404B@anu.edu.au>

That is odd. I can do:

> library(XML)
> sessionInfo()
R version 2.15.1 (2012-06-22)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets 
[6] methods   base     

other attached packages:
[1] XML_3.9-4

loaded via a namespace (and not attached):
[1] tools_2.15.1

Also under help(package='XML'), go to the Description file, I see:
  Date/Publication: 2012-01-31 07:37:18
  Built: R 2.15.0; universal-apple-darwin9.8.0; 2012-03-31 00:12:17 UTC; unix
  Archs: i386, ppc, x86_64

I've not compiled it.  But maybe there is a risk that if I try to do anything with
it, it will fail?   Is the difference that I have a 2.15.0 build?

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.
http://www.maths.anu.edu.au/~johnm

On 28/09/2012, at 10:24 AM, Simon Urbanek <simon.urbanek at r-project.org> wrote:

> 
> On Sep 27, 2012, at 6:25 PM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:
> 
>> Hi,
>> 
>> I'm trying to confirm I understand how packages are installed and manage in R to be able to better interpret error/warning messages.
>> 
>> In a Mac OS X installation of R I get this error:
>> 
>>> require(XML)
>> Loading required package: XML
>> Failed with error:  ?package ?XML? is not installed for 'arch=x86_64'?
>> 
>> But the graphical interface R Package Installer says that version 3.9-4 is installed.
>> 
> 
> It is installed, but only for 32-bit and you are trying to load it in 64-bit R.
> 
> 
>> Please, where am I wrong?
> 
> Use 32-bit R or if you want to use XML in 64-bit R, you have to compile it for 64-bit. AFAICS XML currently doesn't pass checks on any platform, so there are no binaries and you have to compile it from sources. If you want both 32-bit and 64-bit you'll have to use --merge-multiarch INSTALL option or use the two-step process described in the Mac FAQ.
> 
> Cheers,
> Simon
> 
> 
>> Thanks!
>> 
>> 
>>> sessionInfo()
>> R version 2.15.1 (2012-06-22)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> 
>> locale:
>> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
>> 
>> attached base packages:
>> [1] graphics  grDevices utils     datasets  stats     methods   base
>> 
>> other attached packages:
>> [1] foreign_0.8-50
>> 
>> loaded via a namespace (and not attached):
>> [1] tools_2.15.1
>>> 
>> 
>> 
>> 
>> --
>> Ricardo Rodr?guez
>> Research Management and Promotion Technician
>> Technical Secretariat
>> Health Research Institute of Santiago de Compostela (IDIS)
>> http://www.idisantiago.es
>> 
>> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
>> 
>> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
>> 
>> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dtenenba at fhcrc.org  Fri Sep 28 03:46:45 2012
From: dtenenba at fhcrc.org (Dan Tenenbaum)
Date: Thu, 27 Sep 2012 18:46:45 -0700
Subject: [R-SIG-Mac]
	=?windows-1252?q?=91package_=91XML=92_is_not_installe?=
	=?windows-1252?q?d_for_=27arch=3Dx86=5F64=27=92?=
In-Reply-To: <B148F17C-87B3-439B-B0C7-9B18B87D404B@anu.edu.au>
References: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>
	<A02E05F4-1266-4F67-9B9B-716C8000A0A6@r-project.org>
	<B148F17C-87B3-439B-B0C7-9B18B87D404B@anu.edu.au>
Message-ID: <CAF42j21k=XC842scvstHrwQAnV_B15=t36+YkQSRLjLFpzfSiQ@mail.gmail.com>

On Thu, Sep 27, 2012 at 6:32 PM, John Maindonald
<john.maindonald at anu.edu.au> wrote:
> That is odd. I can do:
>
>> library(XML)
>> sessionInfo()
> R version 2.15.1 (2012-06-22)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets
> [6] methods   base
>
> other attached packages:
> [1] XML_3.9-4
>
> loaded via a namespace (and not attached):
> [1] tools_2.15.1
>
> Also under help(package='XML'), go to the Description file, I see:
>   Date/Publication: 2012-01-31 07:37:18
>   Built: R 2.15.0; universal-apple-darwin9.8.0; 2012-03-31 00:12:17 UTC; unix
>   Archs: i386, ppc, x86_64
>
> I've not compiled it.  But maybe there is a risk that if I try to do anything with
> it, it will fail?   Is the difference that I have a 2.15.0 build?

There is a Mac binary for XML on CRAN:
http://cran.r-project.org/web/packages/XML/index.html

Dan


>
> John Maindonald             email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
> Centre for Mathematics & Its Applications, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
> http://www.maths.anu.edu.au/~johnm
>
> On 28/09/2012, at 10:24 AM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>
>>
>> On Sep 27, 2012, at 6:25 PM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:
>>
>>> Hi,
>>>
>>> I'm trying to confirm I understand how packages are installed and manage in R to be able to better interpret error/warning messages.
>>>
>>> In a Mac OS X installation of R I get this error:
>>>
>>>> require(XML)
>>> Loading required package: XML
>>> Failed with error:  ?package ?XML? is not installed for 'arch=x86_64'?
>>>
>>> But the graphical interface R Package Installer says that version 3.9-4 is installed.
>>>
>>
>> It is installed, but only for 32-bit and you are trying to load it in 64-bit R.
>>
>>
>>> Please, where am I wrong?
>>
>> Use 32-bit R or if you want to use XML in 64-bit R, you have to compile it for 64-bit. AFAICS XML currently doesn't pass checks on any platform, so there are no binaries and you have to compile it from sources. If you want both 32-bit and 64-bit you'll have to use --merge-multiarch INSTALL option or use the two-step process described in the Mac FAQ.
>>
>> Cheers,
>> Simon
>>
>>
>>> Thanks!
>>>
>>>
>>>> sessionInfo()
>>> R version 2.15.1 (2012-06-22)
>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>>
>>> locale:
>>> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
>>>
>>> attached base packages:
>>> [1] graphics  grDevices utils     datasets  stats     methods   base
>>>
>>> other attached packages:
>>> [1] foreign_0.8-50
>>>
>>> loaded via a namespace (and not attached):
>>> [1] tools_2.15.1
>>>>
>>>
>>>
>>>
>>> --
>>> Ricardo Rodr?guez
>>> Research Management and Promotion Technician
>>> Technical Secretariat
>>> Health Research Institute of Santiago de Compostela (IDIS)
>>> http://www.idisantiago.es
>>>
>>> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
>>>
>>> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
>>>
>>> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From Ricardo.Julio.Rodriguez.Fernandez at sergas.es  Fri Sep 28 07:58:37 2012
From: Ricardo.Julio.Rodriguez.Fernandez at sergas.es (Ricardo.Julio.Rodriguez.Fernandez at sergas.es)
Date: Fri, 28 Sep 2012 07:58:37 +0200
Subject: [R-SIG-Mac]
 =?windows-1252?q?=91package_=91XML=92_is_not_installe?=
 =?windows-1252?q?d_for_=27arch=3Dx86=5F64=27=92?=
In-Reply-To: <862C2C3B-2A20-4B6D-A739-7D551943064D@stat.ubc.ca>
References: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>,
	<862C2C3B-2A20-4B6D-A739-7D551943064D@stat.ubc.ca>
Message-ID: <244BFA3AE9F83C4A8261E27189707237010AAA634DB9@ASSCCEVS03.sergas.local>

Hi!

>> ________________________________________
>> From: Davor Cubranic [cubranic at stat.ubc.ca]
>> Sent: 28 September 2012 00:33
>> To: Rodriguez Fernandez, Ricardo Julio
>> Cc: r-sig-mac at r-project.org
>> Subject: Re: [R-SIG-Mac] ?package ?XML? is not installed for 'arch=x86_64'?

>> Maybe it is installed only for the 32-bit arch?

>> Davor

I've installed it twice from R Console, once launching it with R and once with R64, by using the graphical R Package Installer and picking up CRAN binaries as repository.

It seems that some thing failed following this way or I've done something the wrong way. Downloading and installing the binary available at CRAN as Dan Tenenbaum suggested did the trick. Now I get XML installed both in 32 and 64 bits consoles.

> sessionInfo()
R version 2.15.1 (2012-06-22)
Platform: i386-apple-darwin9.8.0/i386 (32-bit)

locale:
[1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8

attached base packages:
[1] graphics  grDevices utils     datasets  stats     methods   base

other attached packages:
[1] XML_3.9-4      foreign_0.8-50
>

> sessionInfo()
R version 2.15.1 (2012-06-22)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8

attached base packages:
[1] graphics  grDevices utils     datasets  stats     methods   base

other attached packages:
[1] XML_3.9-4      foreign_0.8-50
>

Please, must we expect to get it installed for both architectures by installing it from the graphical interface? Where am I lost?

Thanks for helping me to better understand R framework!

Ricardo


>> On 2012-09-27, at 3:25 PM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:

> Hi,
>
> I'm trying to confirm I understand how packages are installed and manage in R to be able to better interpret error/warning messages.
>
> In a Mac OS X installation of R I get this error:
>
>> require(XML)
> Loading required package: XML
> Failed with error:  ?package ?XML? is not installed for 'arch=x86_64'?
>
> But the graphical interface R Package Installer says that version 3.9-4 is installed.
>
> Please, where am I wrong? Thanks!
>
>
>> sessionInfo()
> R version 2.15.1 (2012-06-22)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
>
> attached base packages:
> [1] graphics  grDevices utils     datasets  stats     methods   base
>
> other attached packages:
> [1] foreign_0.8-50
>
> loaded via a namespace (and not attached):
> [1] tools_2.15.1
>>
>
>
>
> --
> Ricardo Rodr?guez
> Research Management and Promotion Technician
> Technical Secretariat
> Health Research Institute of Santiago de Compostela (IDIS)
> http://www.idisantiago.es
>
> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
>
> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
>
> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.

Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm


From Ricardo.Julio.Rodriguez.Fernandez at sergas.es  Fri Sep 28 08:05:20 2012
From: Ricardo.Julio.Rodriguez.Fernandez at sergas.es (Ricardo.Julio.Rodriguez.Fernandez at sergas.es)
Date: Fri, 28 Sep 2012 08:05:20 +0200
Subject: [R-SIG-Mac]
 =?windows-1252?q?=91package_=91XML=92_is_not_installe?=
 =?windows-1252?q?d_for_=27arch=3Dx86=5F64=27=92?=
In-Reply-To: <A02E05F4-1266-4F67-9B9B-716C8000A0A6@r-project.org>
References: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>,
	<A02E05F4-1266-4F67-9B9B-716C8000A0A6@r-project.org>
Message-ID: <244BFA3AE9F83C4A8261E27189707237010AAA634DBA@ASSCCEVS03.sergas.local>

Hi!
> ________________________________________
> From: Simon Urbanek [simon.urbanek at r-project.org]
> Sent: 28 September 2012 02:24
> To: Rodriguez Fernandez, Ricardo Julio
> Cc: r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] ?package ?XML? is not installed for 'arch=x86_64'?

> On Sep 27, 2012, at 6:25 PM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:
>
>>  Hi,
>>
>> I'm trying to confirm I understand how packages are installed and manage in R to be able to better interpret error/warning messages.
>>
>>  In a Mac OS X installation of R I get this error:
>>
>>>  require(XML)
>>  Loading required package: XML
>>  Failed with error:  ?package ?XML? is not installed for 'arch=x86_64'?
>>
>>  But the graphical interface R Package Installer says that version 3.9-4 is installed.
>>
>
> It is installed, but only for 32-bit and you are trying to load it in 64-bit R.
>
>
>>  Please, where am I wrong?
>
> Use 32-bit R or if you want to use XML in 64-bit R, you have to compile it for 64-bit. AFAICS XML currently doesn't
> pass checks on any platform, so there are no binaries and you have to compile it from sources. If you want both 32-bit and 64-bit > you'll have to use --merge-multiarch INSTALL option or use the two-step process described in the Mac FAQ.
>
> Cheers,
> Simon

Following other replies to this thread this is what I get here after installing from the command line without switches the XML binary available at CRAN...

Package: XML
Version: 3.9-4
ReleaseDate: 2012/01/30
...
Repository: CRAN
Date/Publication: 2012-01-31 07:37:18
Built: R 2.15.0; universal-apple-darwin9.8.0; 2012-03-31 00:12:17 UTC; unix
Archs: i386, ppc, x86_64

So, it seems that i386 and x86_64 are available by installing that binary. Please, what am I misunderstanding here?

Thanks for your help!

Ricardo

>>  Thanks!
>>
>>
>>>  sessionInfo()
>>  R version 2.15.1 (2012-06-22)
>>  Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>
>>  locale:
>>  [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
>>
>>  attached base packages:
>>  [1] graphics  grDevices utils     datasets  stats     methods   base
>>
>>  other attached packages:
>>  [1] foreign_0.8-50
>>
>>  loaded via a namespace (and not attached):
>>  [1] tools_2.15.1
>>>
>>

Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.

Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm


From ripley at stats.ox.ac.uk  Fri Sep 28 09:21:29 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 28 Sep 2012 08:21:29 +0100
Subject: [R-SIG-Mac]
 =?windows-1252?q?=91package_=91XML=92_is_not_installe?=
 =?windows-1252?q?d_for_=27arch=3Dx86=5F64=27=92?=
In-Reply-To: <244BFA3AE9F83C4A8261E27189707237010AAA634DBA@ASSCCEVS03.sergas.local>
References: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>,
	<A02E05F4-1266-4F67-9B9B-716C8000A0A6@r-project.org>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DBA@ASSCCEVS03.sergas.local>
Message-ID: <50654FF9.5010400@stats.ox.ac.uk>

With a package such as XML available from multiple repositories, you 
have to be very precise what you are talking about.

On CRAN, there is a source package for version 3.9-4.  That can be 
compiled for multiple architectures on a Mac, and there are such 
binaries on CRAN.

It only works in a UTF-8 locale, and hence there has needed to be a 
modified version for Windows, on CRANextras.

However, the home for XML is www.omegahat.org.  There are two different 
versions there, and neither work on Linux.  (3.93-0 in the Omegahat 
repository and http://www.omegahat.org/RSXML/XML_3.94-0.tar.gz.)

The CRAN team have been trying for weeks to sort this out, but the XML 
maintainer is barely responsive.

With a CRAN build of R for MacOS, you get binary packages by default, 
either from the command-line or from R.app.   You get those of the 
achitecture(s) which were built: this is normally both ix64 and x64_86 
(and perhaps ppc) but for a few tens of packages the person in charge 
(for CRAN, Simon Urbanek) needs to set up exceptions.  As packages do 
change, sometimes the need to add an exception pops up unexpectedly.


On 28/09/2012 07:05, Ricardo.Julio.Rodriguez.Fernandez at sergas.es wrote:
> Hi!
>> ________________________________________
>> From: Simon Urbanek [simon.urbanek at r-project.org]
>> Sent: 28 September 2012 02:24
>> To: Rodriguez Fernandez, Ricardo Julio
>> Cc: r-sig-mac at r-project.org
>> Subject: Re: [R-SIG-Mac] ?package ?XML? is not installed for 'arch=x86_64'?
>
>> On Sep 27, 2012, at 6:25 PM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:
>>
>>>   Hi,
>>>
>>> I'm trying to confirm I understand how packages are installed and manage in R to be able to better interpret error/warning messages.
>>>
>>>   In a Mac OS X installation of R I get this error:
>>>
>>>>   require(XML)
>>>   Loading required package: XML
>>>   Failed with error:  ?package ?XML? is not installed for 'arch=x86_64'?
>>>
>>>   But the graphical interface R Package Installer says that version 3.9-4 is installed.
>>>
>>
>> It is installed, but only for 32-bit and you are trying to load it in 64-bit R.
>>
>>
>>>   Please, where am I wrong?
>>
>> Use 32-bit R or if you want to use XML in 64-bit R, you have to compile it for 64-bit. AFAICS XML currently doesn't
>> pass checks on any platform, so there are no binaries and you have to compile it from sources. If you want both 32-bit and 64-bit > you'll have to use --merge-multiarch INSTALL option or use the two-step process described in the Mac FAQ.
>>
>> Cheers,
>> Simon
>
> Following other replies to this thread this is what I get here after installing from the command line without switches the XML binary available at CRAN...
>
> Package: XML
> Version: 3.9-4
> ReleaseDate: 2012/01/30
> ...
> Repository: CRAN
> Date/Publication: 2012-01-31 07:37:18
> Built: R 2.15.0; universal-apple-darwin9.8.0; 2012-03-31 00:12:17 UTC; unix
> Archs: i386, ppc, x86_64
>
> So, it seems that i386 and x86_64 are available by installing that binary. Please, what am I misunderstanding here?
>
> Thanks for your help!
>
> Ricardo
>
>>>   Thanks!
>>>
>>>
>>>>   sessionInfo()
>>>   R version 2.15.1 (2012-06-22)
>>>   Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>>
>>>   locale:
>>>   [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
>>>
>>>   attached base packages:
>>>   [1] graphics  grDevices utils     datasets  stats     methods   base
>>>
>>>   other attached packages:
>>>   [1] foreign_0.8-50
>>>
>>>   loaded via a namespace (and not attached):
>>>   [1] tools_2.15.1
>>>>
>>>
>
> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
>
> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
>
> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From kasperdanielhansen at gmail.com  Fri Sep 28 16:29:29 2012
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Fri, 28 Sep 2012 10:29:29 -0400
Subject: [R-SIG-Mac]
	=?windows-1252?q?error=3A_unrecognized_option_=91-arc?=
	=?windows-1252?q?h=92_--_suggestion!?=
In-Reply-To: <CAC2h7usbNYB=1JZp-1tyE2Xu-M0G=HD063OJCUq=ehtx2uQQ1A@mail.gmail.com>
References: <F886874A-88E4-4BBA-B824-DE1EC15C5434@slu.se>
	<D75AD120-BC63-49A8-B040-6946167BBE9E@r-project.org>
	<6B7D9A0F-A006-4FA1-8A5B-2ACA672FF99D@slu.se>
	<CAC2h7usbNYB=1JZp-1tyE2Xu-M0G=HD063OJCUq=ehtx2uQQ1A@mail.gmail.com>
Message-ID: <CAC2h7uuqOt_cp1jf1wMwTbUsweE7vDi7YAKQLR7=oGCfrbvQUA@mail.gmail.com>

So I had a few emails with Peder, and I think he gets it now.

However, one point came up which I have been wondering about as well.
In Makeconf R only stores the name of the compiler, say "gcc" or
perhaps "gcc-4.2".  Why not store the full path?  Peder's situation is
that he has installed another compiler that resolves to gcc in his
environment, masking the one in /usr/bin.  It seems to me that it
would be more "safe" to save the entire path to the compiler, both on
multi-user systems on in case like (for os x) the binary is downloaded
from somewhere else.  [ on the other hand, it may be easier on Windows
to not have the full path ]

Now, there is probably a perfectly good reason to do what is happening
now.  Or perhaps changing it is not worth the effort.  But I just
wanted to raise the issue for 2 seconds.

Kasper

On Thu, Sep 27, 2012 at 10:29 AM, Kasper Daniel Hansen
<kasperdanielhansen at gmail.com> wrote:
> On Thu, Sep 27, 2012 at 10:07 AM, Peder Axensten <Peder.Axensten at slu.se> wrote:
>>
>> On 27 sep 2012, at 14:27, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>
>>> On Sep 27, 2012, at 5:02 AM, Peder Axensten wrote:
>>>
>>>> The compiler (clang) and linker that Apple includes (with Xcode) uses the argument -arch to specify the architecture to build for. This is not recognized by, for instance, the gcc compilers. Because this argument is 'hardcoded' into the Makeconfig files,
>>>
>>> It is not - those (assuming you mean Makeconf) are generated from the flags used to build R, so if you use any other compiler with other flags they will be reflected in the Makeconf accordingly.
>>
>> I know little about how this is set up, is it not possible to change some kind of template to change the way this is done? Some base variables that are generated from the flags, these variables are then used in the rest of the Makeconf along the lines I suggested?
>>
>>>> it is an involved process to compile libraries for R with any other compiler.
>>>
>>> R doen't care what you compile libraries with as long as R can links against them at configure time. Again, this has nothing to do with Makevars.
>>
>> As I understand it, if I use R CMD INSTALL I'm stuck with what is defined in the Makeconf files. If I use any other compiler other than Apple's clang as my "default" compiler, I get errors when I run R CMD INSTALL ?? that is, if I from R try to install any package that requires compilation. I think it would be better to determine the value of the variables when R CMD INSTALL is run, rather than when R is installed (or even compiled?).
>
> Peder,
>
> You seem a bit confused.  Let me explain it a bit clearer.  When you
> compile R, the settings (and compiler) with which you compiled R is
> stored in Makeconf and used to compile new packages using R CMD
> INSTALL.  This ensures that you use the same compiler settings to
> build R and add-on packages, which is obviously an _extremely good_
> idea.  If you want to use another compiler with R, you will need to
> re-compile R using this compiler, which should work.
>
> My guess is that you are using the CRAN binary of R (compiled using
> the official compiler) and you want to use another compiler to build
> an add-on package.  This is not supported, and it should not be
> supported, because it is an extremely bad idea.
>
> Below is my configure call for building R from svn, using Simon's
> build of Apple's GCC codebase (aka the official compiler).  It should
> be easy to modify this to build R using a different compiler.  I am
> just including this as an example.  Once you have build R using you
> new compiler, R CMD INSTALL should work out of the box.
>
> Note that if you want aqua support, you need a compiler that supports
> objective-C (as far as I understand).  I don't use a GUI, but I use an
> aqua device, like
> R>  quartz()
>
> (I may use imprecise terminology here, wrt. aqua and quartz).
>
> Kasper
>
> configure:
>
> export LANG=en_US.UTF-8
> ../${SRCDIR}/configure SHELL='/bin/bash' \
>   --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
>   CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
>   CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
>   CXX="/usr/bin/g++-4.2 -arch x86_64" \
>   CXXFLAGS="-g -O2 -march=nocona" \
>   OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
>   F77="/usr/bin/gfortran-4.2 -arch x86_64" \
>   FFLAGS="-g -O2 -march=nocona" \
>   FC="/usr/bin/gfortran-4.2 -arch x86_64" \
>   FCFLAGS="-g -O2 -march=nocona" \
>   --enable-memory-profiling\
>   --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib\
>   --with-system-zlib\
>   --with-blas='-framework vecLib' --with-lapack
>
>
>
>
>
>> I'm sure it could be implemented better, but something like:
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>> GCCPATH =
>>
>> # If we are using the Apple compiler [that supports the -arch option], this is the argument to that option.
>> ARCH = x86_64
>>
>> # Get information on the gcc to be used.
>> ISAPPLESTRING := $(shell "$(GCCPATH)gcc --version")
>> ISAPPLEKEY := Apple
>>
>> # This will either be nothing or '-arch $(ARCH)'
>> MYARCH := $(if $(findstring $(ISAPPLEKEY),$(ISAPPLESTRING)),"-arch $(ARCH)")
>>
>> MYGCC = $(GCCPATH)gcc $(MYARCH)
>> MYGPP = $(GCCPATH)g++ $(MYARCH)
>> MYFORTRAN = $(GCCPATH)gfortran $(MYARCH)
>>
>> ## etc.
>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>>
>>
>> All the best,
>> /Peder
>>
>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>
>>>> Either all all `-arch i386` and `-arch x86_64` must be removed from these files (this must be done every time R is updated) or you create a file `~/.R/Makevars` with something like
>>>> ~~~~~~~
>>>> MYARCH = -arch x86_64
>>>>
>>>> # Comment the next line to return to the original setting:
>>>> MYARCH =
>>>>
>>>> CC = gcc $(MYARCH) -std=gnu99
>>>> CXX=g++ $(MYARCH)
>>>> CXXCPP = g++ $(MYARCH) -E
>>>> FC = gfortran $(MYARCH)
>>>> F77 = gfortran $(MYARCH)
>>>> OBJC = gcc $(MYARCH)
>>>> OBJCXX = g++ $(MYARCH)
>>>>
>>>> DYLIB_LD = gcc $(MYARCH) -std=gnu99
>>>> MAIN_LD = gcc $(MYARCH) -std=gnu99
>>>> SHLIB_CXXLD = g++ $(MYARCH)
>>>> SHLIB_FCLD = gfortran $(MYARCH)
>>>> SHLIB_LD = gcc $(MYARCH) -std=gnu99
>>>> ~~~~~~~
>>>> Unfortunately, a few instances of `-arch` are outside the variables and can not be reached this way.
>>>>
>>>>
>>>>
>>>> My suggestion is that the Makeconfig files are slightly changed:
>>>>
>>>> - Change all `-arch i386` or `-arch x86_64` in these files to `$(MYARCH)`.
>>>> - Add a line `MYARCH = -arch x86_64` or `MYARCH = -arch i386`, respectively, to the top of these files.
>>>>
>>>> No functionality is changed but using another compiler is more compatible and simpler as only MYARCH would need to be predefined.
>>>>
>>>>
>>>>
>>>> Even better would be to be able to specify the compiler set to be used by using a variable (and handle the architecture accordingly), but I know to little about make files to come up with a constructive suggestion. Probably something like using
>>>> PREFIX =
>>>> GCC = $(PREFIX)gcc $(MYARCH)
>>>> GPP = $(PREFIX)g++ $(MYARCH)
>>>> GFORTRAN = $(PREFIX)gfortran $(MYARCH)
>>>> and then using them when defining CC, XXX, etc.
>>>>
>>>> No functionality would be changed, but a different set of compilers could be used just by changing PREFIX and MYARCH.
>>>>
>>>> Best regards,
>>>>
>>>> Peder Axensten
>>>> Research engineer
>>>>
>>>> Swedish University of Agricultural Sciences
>>>> Dept. of Forest Resource Management
>>>> Remote Sensing
>>>> se-90183 Ume?
>>>> Sweden
>>>> Visiting address: Skogsmarksgr?nd
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ripley at stats.ox.ac.uk  Fri Sep 28 16:58:16 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 28 Sep 2012 15:58:16 +0100
Subject: [R-SIG-Mac]
 =?windows-1252?q?error=3A_unrecognized_option_=91-arc?=
 =?windows-1252?q?h=92_--_suggestion!?=
In-Reply-To: <CAC2h7uuqOt_cp1jf1wMwTbUsweE7vDi7YAKQLR7=oGCfrbvQUA@mail.gmail.com>
References: <F886874A-88E4-4BBA-B824-DE1EC15C5434@slu.se>
	<D75AD120-BC63-49A8-B040-6946167BBE9E@r-project.org>
	<6B7D9A0F-A006-4FA1-8A5B-2ACA672FF99D@slu.se>
	<CAC2h7usbNYB=1JZp-1tyE2Xu-M0G=HD063OJCUq=ehtx2uQQ1A@mail.gmail.com>
	<CAC2h7uuqOt_cp1jf1wMwTbUsweE7vDi7YAKQLR7=oGCfrbvQUA@mail.gmail.com>
Message-ID: <5065BB08.1060403@stats.ox.ac.uk>

On 28/09/2012 15:29, Kasper Daniel Hansen wrote:
> So I had a few emails with Peder, and I think he gets it now.
>
> However, one point came up which I have been wondering about as well.
> In Makeconf R only stores the name of the compiler, say "gcc" or
> perhaps "gcc-4.2".  Why not store the full path?  Peder's situation is
> that he has installed another compiler that resolves to gcc in his
> environment, masking the one in /usr/bin.  It seems to me that it
> would be more "safe" to save the entire path to the compiler, both on
> multi-user systems on in case like (for os x) the binary is downloaded
> from somewhere else.  [ on the other hand, it may be easier on Windows
> to not have the full path ]
>
> Now, there is probably a perfectly good reason to do what is happening
> now.  Or perhaps changing it is not worth the effort.  But I just
> wanted to raise the issue for 2 seconds.

You get what you specified when you configured R.  I usually configure 
with full paths except on Windows (where paths like /usr/local do not 
exist in general).

The point is that you can do what suits you.  If you choose to use a 
binary distribution you get what suits the distributor: if you don't 
like that, build from the sources yourself.

The documentation for the CRAN Mac binary distribution is a bit 
scattered.  I am not sure it would help, but we could add some more 
words to the R-admin manual.  I suspect few people want to work with 
source packages with compiled code and use the CRAN distribution (not 
least as it is hard to make portable binary packages that way).

>
> Kasper
>
> On Thu, Sep 27, 2012 at 10:29 AM, Kasper Daniel Hansen
> <kasperdanielhansen at gmail.com> wrote:
>> On Thu, Sep 27, 2012 at 10:07 AM, Peder Axensten <Peder.Axensten at slu.se> wrote:
>>>
>>> On 27 sep 2012, at 14:27, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>>
>>>> On Sep 27, 2012, at 5:02 AM, Peder Axensten wrote:
>>>>
>>>>> The compiler (clang) and linker that Apple includes (with Xcode) uses the argument -arch to specify the architecture to build for. This is not recognized by, for instance, the gcc compilers. Because this argument is 'hardcoded' into the Makeconfig files,
>>>>
>>>> It is not - those (assuming you mean Makeconf) are generated from the flags used to build R, so if you use any other compiler with other flags they will be reflected in the Makeconf accordingly.
>>>
>>> I know little about how this is set up, is it not possible to change some kind of template to change the way this is done? Some base variables that are generated from the flags, these variables are then used in the rest of the Makeconf along the lines I suggested?
>>>
>>>>> it is an involved process to compile libraries for R with any other compiler.
>>>>
>>>> R doen't care what you compile libraries with as long as R can links against them at configure time. Again, this has nothing to do with Makevars.
>>>
>>> As I understand it, if I use R CMD INSTALL I'm stuck with what is defined in the Makeconf files. If I use any other compiler other than Apple's clang as my "default" compiler, I get errors when I run R CMD INSTALL ?? that is, if I from R try to install any package that requires compilation. I think it would be better to determine the value of the variables when R CMD INSTALL is run, rather than when R is installed (or even compiled?).
>>
>> Peder,
>>
>> You seem a bit confused.  Let me explain it a bit clearer.  When you
>> compile R, the settings (and compiler) with which you compiled R is
>> stored in Makeconf and used to compile new packages using R CMD
>> INSTALL.  This ensures that you use the same compiler settings to
>> build R and add-on packages, which is obviously an _extremely good_
>> idea.  If you want to use another compiler with R, you will need to
>> re-compile R using this compiler, which should work.
>>
>> My guess is that you are using the CRAN binary of R (compiled using
>> the official compiler) and you want to use another compiler to build
>> an add-on package.  This is not supported, and it should not be
>> supported, because it is an extremely bad idea.
>>
>> Below is my configure call for building R from svn, using Simon's
>> build of Apple's GCC codebase (aka the official compiler).  It should
>> be easy to modify this to build R using a different compiler.  I am
>> just including this as an example.  Once you have build R using you
>> new compiler, R CMD INSTALL should work out of the box.
>>
>> Note that if you want aqua support, you need a compiler that supports
>> objective-C (as far as I understand).  I don't use a GUI, but I use an
>> aqua device, like
>> R>  quartz()
>>
>> (I may use imprecise terminology here, wrt. aqua and quartz).
>>
>> Kasper
>>
>> configure:
>>
>> export LANG=en_US.UTF-8
>> ../${SRCDIR}/configure SHELL='/bin/bash' \
>>    --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
>>    CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
>>    CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
>>    CXX="/usr/bin/g++-4.2 -arch x86_64" \
>>    CXXFLAGS="-g -O2 -march=nocona" \
>>    OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
>>    F77="/usr/bin/gfortran-4.2 -arch x86_64" \
>>    FFLAGS="-g -O2 -march=nocona" \
>>    FC="/usr/bin/gfortran-4.2 -arch x86_64" \
>>    FCFLAGS="-g -O2 -march=nocona" \
>>    --enable-memory-profiling\
>>    --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib\
>>    --with-system-zlib\
>>    --with-blas='-framework vecLib' --with-lapack
>>
>>
>>
>>
>>
>>> I'm sure it could be implemented better, but something like:
>>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>>> GCCPATH =
>>>
>>> # If we are using the Apple compiler [that supports the -arch option], this is the argument to that option.
>>> ARCH = x86_64
>>>
>>> # Get information on the gcc to be used.
>>> ISAPPLESTRING := $(shell "$(GCCPATH)gcc --version")
>>> ISAPPLEKEY := Apple
>>>
>>> # This will either be nothing or '-arch $(ARCH)'
>>> MYARCH := $(if $(findstring $(ISAPPLEKEY),$(ISAPPLESTRING)),"-arch $(ARCH)")
>>>
>>> MYGCC = $(GCCPATH)gcc $(MYARCH)
>>> MYGPP = $(GCCPATH)g++ $(MYARCH)
>>> MYFORTRAN = $(GCCPATH)gfortran $(MYARCH)
>>>
>>> ## etc.
>>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>>>
>>>
>>> All the best,
>>> /Peder
>>>
>>>
>>>> Cheers,
>>>> Simon
>>>>
>>>>
>>>>
>>>>> Either all all `-arch i386` and `-arch x86_64` must be removed from these files (this must be done every time R is updated) or you create a file `~/.R/Makevars` with something like
>>>>> ~~~~~~~
>>>>> MYARCH = -arch x86_64
>>>>>
>>>>> # Comment the next line to return to the original setting:
>>>>> MYARCH =
>>>>>
>>>>> CC = gcc $(MYARCH) -std=gnu99
>>>>> CXX=g++ $(MYARCH)
>>>>> CXXCPP = g++ $(MYARCH) -E
>>>>> FC = gfortran $(MYARCH)
>>>>> F77 = gfortran $(MYARCH)
>>>>> OBJC = gcc $(MYARCH)
>>>>> OBJCXX = g++ $(MYARCH)
>>>>>
>>>>> DYLIB_LD = gcc $(MYARCH) -std=gnu99
>>>>> MAIN_LD = gcc $(MYARCH) -std=gnu99
>>>>> SHLIB_CXXLD = g++ $(MYARCH)
>>>>> SHLIB_FCLD = gfortran $(MYARCH)
>>>>> SHLIB_LD = gcc $(MYARCH) -std=gnu99
>>>>> ~~~~~~~
>>>>> Unfortunately, a few instances of `-arch` are outside the variables and can not be reached this way.
>>>>>
>>>>>
>>>>>
>>>>> My suggestion is that the Makeconfig files are slightly changed:
>>>>>
>>>>> - Change all `-arch i386` or `-arch x86_64` in these files to `$(MYARCH)`.
>>>>> - Add a line `MYARCH = -arch x86_64` or `MYARCH = -arch i386`, respectively, to the top of these files.
>>>>>
>>>>> No functionality is changed but using another compiler is more compatible and simpler as only MYARCH would need to be predefined.
>>>>>
>>>>>
>>>>>
>>>>> Even better would be to be able to specify the compiler set to be used by using a variable (and handle the architecture accordingly), but I know to little about make files to come up with a constructive suggestion. Probably something like using
>>>>> PREFIX =
>>>>> GCC = $(PREFIX)gcc $(MYARCH)
>>>>> GPP = $(PREFIX)g++ $(MYARCH)
>>>>> GFORTRAN = $(PREFIX)gfortran $(MYARCH)
>>>>> and then using them when defining CC, XXX, etc.
>>>>>
>>>>> No functionality would be changed, but a different set of compilers could be used just by changing PREFIX and MYARCH.
>>>>>
>>>>> Best regards,
>>>>>
>>>>> Peder Axensten
>>>>> Research engineer
>>>>>
>>>>> Swedish University of Agricultural Sciences
>>>>> Dept. of Forest Resource Management
>>>>> Remote Sensing
>>>>> se-90183 Ume?
>>>>> Sweden
>>>>> Visiting address: Skogsmarksgr?nd
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>>
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From kasperdanielhansen at gmail.com  Fri Sep 28 17:12:49 2012
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Fri, 28 Sep 2012 11:12:49 -0400
Subject: [R-SIG-Mac]
	=?windows-1252?q?error=3A_unrecognized_option_=91-arc?=
	=?windows-1252?q?h=92_--_suggestion!?=
In-Reply-To: <5065BB08.1060403@stats.ox.ac.uk>
References: <F886874A-88E4-4BBA-B824-DE1EC15C5434@slu.se>
	<D75AD120-BC63-49A8-B040-6946167BBE9E@r-project.org>
	<6B7D9A0F-A006-4FA1-8A5B-2ACA672FF99D@slu.se>
	<CAC2h7usbNYB=1JZp-1tyE2Xu-M0G=HD063OJCUq=ehtx2uQQ1A@mail.gmail.com>
	<CAC2h7uuqOt_cp1jf1wMwTbUsweE7vDi7YAKQLR7=oGCfrbvQUA@mail.gmail.com>
	<5065BB08.1060403@stats.ox.ac.uk>
Message-ID: <CAC2h7uuQbpL9yGPovSGEnE99XBdUHRNSknOfg0w88M=__E2kTg@mail.gmail.com>

On Fri, Sep 28, 2012 at 10:58 AM, Prof Brian Ripley
<ripley at stats.ox.ac.uk> wrote:
> On 28/09/2012 15:29, Kasper Daniel Hansen wrote:
>>
>> So I had a few emails with Peder, and I think he gets it now.
>>
>> However, one point came up which I have been wondering about as well.
>> In Makeconf R only stores the name of the compiler, say "gcc" or
>> perhaps "gcc-4.2".  Why not store the full path?  Peder's situation is
>> that he has installed another compiler that resolves to gcc in his
>> environment, masking the one in /usr/bin.  It seems to me that it
>> would be more "safe" to save the entire path to the compiler, both on
>> multi-user systems on in case like (for os x) the binary is downloaded
>> from somewhere else.  [ on the other hand, it may be easier on Windows
>> to not have the full path ]
>>
>> Now, there is probably a perfectly good reason to do what is happening
>> now.  Or perhaps changing it is not worth the effort.  But I just
>> wanted to raise the issue for 2 seconds.
>
>
> You get what you specified when you configured R.  I usually configure with
> full paths except on Windows (where paths like /usr/local do not exist in
> general).

Thanks.  I see how this works now, and I should have investigated a bit more.

Kasper

> The point is that you can do what suits you.  If you choose to use a binary
> distribution you get what suits the distributor: if you don't like that,
> build from the sources yourself.
>
> The documentation for the CRAN Mac binary distribution is a bit scattered.
> I am not sure it would help, but we could add some more words to the R-admin
> manual.  I suspect few people want to work with source packages with
> compiled code and use the CRAN distribution (not least as it is hard to make
> portable binary packages that way).
>
>
>>
>> Kasper
>>
>> On Thu, Sep 27, 2012 at 10:29 AM, Kasper Daniel Hansen
>> <kasperdanielhansen at gmail.com> wrote:
>>>
>>> On Thu, Sep 27, 2012 at 10:07 AM, Peder Axensten <Peder.Axensten at slu.se>
>>> wrote:
>>>>
>>>>
>>>> On 27 sep 2012, at 14:27, Simon Urbanek <simon.urbanek at r-project.org>
>>>> wrote:
>>>>
>>>>> On Sep 27, 2012, at 5:02 AM, Peder Axensten wrote:
>>>>>
>>>>>> The compiler (clang) and linker that Apple includes (with Xcode) uses
>>>>>> the argument -arch to specify the architecture to build for. This is not
>>>>>> recognized by, for instance, the gcc compilers. Because this argument is
>>>>>> 'hardcoded' into the Makeconfig files,
>>>>>
>>>>>
>>>>> It is not - those (assuming you mean Makeconf) are generated from the
>>>>> flags used to build R, so if you use any other compiler with other flags
>>>>> they will be reflected in the Makeconf accordingly.
>>>>
>>>>
>>>> I know little about how this is set up, is it not possible to change
>>>> some kind of template to change the way this is done? Some base variables
>>>> that are generated from the flags, these variables are then used in the rest
>>>> of the Makeconf along the lines I suggested?
>>>>
>>>>>> it is an involved process to compile libraries for R with any other
>>>>>> compiler.
>>>>>
>>>>>
>>>>> R doen't care what you compile libraries with as long as R can links
>>>>> against them at configure time. Again, this has nothing to do with Makevars.
>>>>
>>>>
>>>> As I understand it, if I use R CMD INSTALL I'm stuck with what is
>>>> defined in the Makeconf files. If I use any other compiler other than
>>>> Apple's clang as my "default" compiler, I get errors when I run R CMD
>>>> INSTALL ?? that is, if I from R try to install any package that requires
>>>> compilation. I think it would be better to determine the value of the
>>>> variables when R CMD INSTALL is run, rather than when R is installed (or
>>>> even compiled?).
>>>
>>>
>>> Peder,
>>>
>>> You seem a bit confused.  Let me explain it a bit clearer.  When you
>>> compile R, the settings (and compiler) with which you compiled R is
>>> stored in Makeconf and used to compile new packages using R CMD
>>> INSTALL.  This ensures that you use the same compiler settings to
>>> build R and add-on packages, which is obviously an _extremely good_
>>> idea.  If you want to use another compiler with R, you will need to
>>> re-compile R using this compiler, which should work.
>>>
>>> My guess is that you are using the CRAN binary of R (compiled using
>>> the official compiler) and you want to use another compiler to build
>>> an add-on package.  This is not supported, and it should not be
>>> supported, because it is an extremely bad idea.
>>>
>>> Below is my configure call for building R from svn, using Simon's
>>> build of Apple's GCC codebase (aka the official compiler).  It should
>>> be easy to modify this to build R using a different compiler.  I am
>>> just including this as an example.  Once you have build R using you
>>> new compiler, R CMD INSTALL should work out of the box.
>>>
>>> Note that if you want aqua support, you need a compiler that supports
>>> objective-C (as far as I understand).  I don't use a GUI, but I use an
>>> aqua device, like
>>> R>  quartz()
>>>
>>> (I may use imprecise terminology here, wrt. aqua and quartz).
>>>
>>> Kasper
>>>
>>> configure:
>>>
>>> export LANG=en_US.UTF-8
>>> ../${SRCDIR}/configure SHELL='/bin/bash' \
>>>    --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
>>>    CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
>>>    CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
>>>    CXX="/usr/bin/g++-4.2 -arch x86_64" \
>>>    CXXFLAGS="-g -O2 -march=nocona" \
>>>    OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
>>>    F77="/usr/bin/gfortran-4.2 -arch x86_64" \
>>>    FFLAGS="-g -O2 -march=nocona" \
>>>    FC="/usr/bin/gfortran-4.2 -arch x86_64" \
>>>    FCFLAGS="-g -O2 -march=nocona" \
>>>    --enable-memory-profiling\
>>>    --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib\
>>>    --with-system-zlib\
>>>    --with-blas='-framework vecLib' --with-lapack
>>>
>>>
>>>
>>>
>>>
>>>> I'm sure it could be implemented better, but something like:
>>>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>>>> GCCPATH =
>>>>
>>>> # If we are using the Apple compiler [that supports the -arch option],
>>>> this is the argument to that option.
>>>> ARCH = x86_64
>>>>
>>>> # Get information on the gcc to be used.
>>>> ISAPPLESTRING := $(shell "$(GCCPATH)gcc --version")
>>>> ISAPPLEKEY := Apple
>>>>
>>>> # This will either be nothing or '-arch $(ARCH)'
>>>> MYARCH := $(if $(findstring $(ISAPPLEKEY),$(ISAPPLESTRING)),"-arch
>>>> $(ARCH)")
>>>>
>>>> MYGCC = $(GCCPATH)gcc $(MYARCH)
>>>> MYGPP = $(GCCPATH)g++ $(MYARCH)
>>>> MYFORTRAN = $(GCCPATH)gfortran $(MYARCH)
>>>>
>>>> ## etc.
>>>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>>>>
>>>>
>>>> All the best,
>>>> /Peder
>>>>
>>>>
>>>>> Cheers,
>>>>> Simon
>>>>>
>>>>>
>>>>>
>>>>>> Either all all `-arch i386` and `-arch x86_64` must be removed from
>>>>>> these files (this must be done every time R is updated) or you create a file
>>>>>> `~/.R/Makevars` with something like
>>>>>> ~~~~~~~
>>>>>> MYARCH = -arch x86_64
>>>>>>
>>>>>> # Comment the next line to return to the original setting:
>>>>>> MYARCH =
>>>>>>
>>>>>> CC = gcc $(MYARCH) -std=gnu99
>>>>>> CXX=g++ $(MYARCH)
>>>>>> CXXCPP = g++ $(MYARCH) -E
>>>>>> FC = gfortran $(MYARCH)
>>>>>> F77 = gfortran $(MYARCH)
>>>>>> OBJC = gcc $(MYARCH)
>>>>>> OBJCXX = g++ $(MYARCH)
>>>>>>
>>>>>> DYLIB_LD = gcc $(MYARCH) -std=gnu99
>>>>>> MAIN_LD = gcc $(MYARCH) -std=gnu99
>>>>>> SHLIB_CXXLD = g++ $(MYARCH)
>>>>>> SHLIB_FCLD = gfortran $(MYARCH)
>>>>>> SHLIB_LD = gcc $(MYARCH) -std=gnu99
>>>>>> ~~~~~~~
>>>>>> Unfortunately, a few instances of `-arch` are outside the variables
>>>>>> and can not be reached this way.
>>>>>>
>>>>>>
>>>>>>
>>>>>> My suggestion is that the Makeconfig files are slightly changed:
>>>>>>
>>>>>> - Change all `-arch i386` or `-arch x86_64` in these files to
>>>>>> `$(MYARCH)`.
>>>>>> - Add a line `MYARCH = -arch x86_64` or `MYARCH = -arch i386`,
>>>>>> respectively, to the top of these files.
>>>>>>
>>>>>> No functionality is changed but using another compiler is more
>>>>>> compatible and simpler as only MYARCH would need to be predefined.
>>>>>>
>>>>>>
>>>>>>
>>>>>> Even better would be to be able to specify the compiler set to be used
>>>>>> by using a variable (and handle the architecture accordingly), but I know to
>>>>>> little about make files to come up with a constructive suggestion. Probably
>>>>>> something like using
>>>>>> PREFIX =
>>>>>> GCC = $(PREFIX)gcc $(MYARCH)
>>>>>> GPP = $(PREFIX)g++ $(MYARCH)
>>>>>> GFORTRAN = $(PREFIX)gfortran $(MYARCH)
>>>>>> and then using them when defining CC, XXX, etc.
>>>>>>
>>>>>> No functionality would be changed, but a different set of compilers
>>>>>> could be used just by changing PREFIX and MYARCH.
>>>>>>
>>>>>> Best regards,
>>>>>>
>>>>>> Peder Axensten
>>>>>> Research engineer
>>>>>>
>>>>>> Swedish University of Agricultural Sciences
>>>>>> Dept. of Forest Resource Management
>>>>>> Remote Sensing
>>>>>> se-90183 Ume?
>>>>>> Sweden
>>>>>> Visiting address: Skogsmarksgr?nd
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
>
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Fri Sep 28 17:26:43 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 28 Sep 2012 11:26:43 -0400
Subject: [R-SIG-Mac]
 =?windows-1252?q?error=3A_unrecognized_option_=91-arc?=
 =?windows-1252?q?h=92_--_suggestion!?=
In-Reply-To: <CAC2h7uuqOt_cp1jf1wMwTbUsweE7vDi7YAKQLR7=oGCfrbvQUA@mail.gmail.com>
References: <F886874A-88E4-4BBA-B824-DE1EC15C5434@slu.se>
	<D75AD120-BC63-49A8-B040-6946167BBE9E@r-project.org>
	<6B7D9A0F-A006-4FA1-8A5B-2ACA672FF99D@slu.se>
	<CAC2h7usbNYB=1JZp-1tyE2Xu-M0G=HD063OJCUq=ehtx2uQQ1A@mail.gmail.com>
	<CAC2h7uuqOt_cp1jf1wMwTbUsweE7vDi7YAKQLR7=oGCfrbvQUA@mail.gmail.com>
Message-ID: <D4CBEE5B-66CF-40AF-B288-572E20C991B4@r-project.org>


On Sep 28, 2012, at 10:29 AM, Kasper Daniel Hansen wrote:

> So I had a few emails with Peder, and I think he gets it now.
> 
> However, one point came up which I have been wondering about as well.
> In Makeconf R only stores the name of the compiler, say "gcc" or
> perhaps "gcc-4.2".  Why not store the full path?  Peder's situation is
> that he has installed another compiler that resolves to gcc in his
> environment, masking the one in /usr/bin.  It seems to me that it
> would be more "safe" to save the entire path to the compiler, both on
> multi-user systems on in case like (for os x) the binary is downloaded
> from somewhere else.  [ on the other hand, it may be easier on Windows
> to not have the full path ]
> 

Using the full path is not really a solution, because /usr/bin/gcc is just a symlink to whatever the user chooses. In fact, it would complicate things since Xcode now uses dynamic paths, so a setup that is perfectly fine today would break if you do that. It doesn't seem sensible to me to do that just to accommodate esoteric setups that are not even supported. If you mess with PATH and other system variables, you better know what you're doing - you get what you deserve. That's why we warn specifically about 3rd party compiler binaries as they are well known to break. But, as Brian pointed out, all this seems to come from a failure to adhere to the most basic requirement: if you use our binaries, you have to use the tools we tell you to use. You're free to not use our binaries and do what you want, but then you're on your own and can't claim that it's something we are responsible for.

Cheers,
Simon


> Now, there is probably a perfectly good reason to do what is happening
> now.  Or perhaps changing it is not worth the effort.  But I just
> wanted to raise the issue for 2 seconds.
> 
> Kasper
> 
> On Thu, Sep 27, 2012 at 10:29 AM, Kasper Daniel Hansen
> <kasperdanielhansen at gmail.com> wrote:
>> On Thu, Sep 27, 2012 at 10:07 AM, Peder Axensten <Peder.Axensten at slu.se> wrote:
>>> 
>>> On 27 sep 2012, at 14:27, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>> 
>>>> On Sep 27, 2012, at 5:02 AM, Peder Axensten wrote:
>>>> 
>>>>> The compiler (clang) and linker that Apple includes (with Xcode) uses the argument -arch to specify the architecture to build for. This is not recognized by, for instance, the gcc compilers. Because this argument is 'hardcoded' into the Makeconfig files,
>>>> 
>>>> It is not - those (assuming you mean Makeconf) are generated from the flags used to build R, so if you use any other compiler with other flags they will be reflected in the Makeconf accordingly.
>>> 
>>> I know little about how this is set up, is it not possible to change some kind of template to change the way this is done? Some base variables that are generated from the flags, these variables are then used in the rest of the Makeconf along the lines I suggested?
>>> 
>>>>> it is an involved process to compile libraries for R with any other compiler.
>>>> 
>>>> R doen't care what you compile libraries with as long as R can links against them at configure time. Again, this has nothing to do with Makevars.
>>> 
>>> As I understand it, if I use R CMD INSTALL I'm stuck with what is defined in the Makeconf files. If I use any other compiler other than Apple's clang as my "default" compiler, I get errors when I run R CMD INSTALL ?? that is, if I from R try to install any package that requires compilation. I think it would be better to determine the value of the variables when R CMD INSTALL is run, rather than when R is installed (or even compiled?).
>> 
>> Peder,
>> 
>> You seem a bit confused.  Let me explain it a bit clearer.  When you
>> compile R, the settings (and compiler) with which you compiled R is
>> stored in Makeconf and used to compile new packages using R CMD
>> INSTALL.  This ensures that you use the same compiler settings to
>> build R and add-on packages, which is obviously an _extremely good_
>> idea.  If you want to use another compiler with R, you will need to
>> re-compile R using this compiler, which should work.
>> 
>> My guess is that you are using the CRAN binary of R (compiled using
>> the official compiler) and you want to use another compiler to build
>> an add-on package.  This is not supported, and it should not be
>> supported, because it is an extremely bad idea.
>> 
>> Below is my configure call for building R from svn, using Simon's
>> build of Apple's GCC codebase (aka the official compiler).  It should
>> be easy to modify this to build R using a different compiler.  I am
>> just including this as an example.  Once you have build R using you
>> new compiler, R CMD INSTALL should work out of the box.
>> 
>> Note that if you want aqua support, you need a compiler that supports
>> objective-C (as far as I understand).  I don't use a GUI, but I use an
>> aqua device, like
>> R>  quartz()
>> 
>> (I may use imprecise terminology here, wrt. aqua and quartz).
>> 
>> Kasper
>> 
>> configure:
>> 
>> export LANG=en_US.UTF-8
>> ../${SRCDIR}/configure SHELL='/bin/bash' \
>>  --prefix=/usr/local/R/R-${R_VERSION} --disable-R-framework\
>>  CC="/usr/bin/gcc-4.2 -arch x86_64 -std=gnu99" \
>>  CFLAGS="-g -O2 -std=gnu99 -march=nocona" \
>>  CXX="/usr/bin/g++-4.2 -arch x86_64" \
>>  CXXFLAGS="-g -O2 -march=nocona" \
>>  OBJC="/usr/bin/gcc-4.2 -arch x86_64" \
>>  F77="/usr/bin/gfortran-4.2 -arch x86_64" \
>>  FFLAGS="-g -O2 -march=nocona" \
>>  FC="/usr/bin/gfortran-4.2 -arch x86_64" \
>>  FCFLAGS="-g -O2 -march=nocona" \
>>  --enable-memory-profiling\
>>  --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib\
>>  --with-system-zlib\
>>  --with-blas='-framework vecLib' --with-lapack
>> 
>> 
>> 
>> 
>> 
>>> I'm sure it could be implemented better, but something like:
>>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>>> GCCPATH =
>>> 
>>> # If we are using the Apple compiler [that supports the -arch option], this is the argument to that option.
>>> ARCH = x86_64
>>> 
>>> # Get information on the gcc to be used.
>>> ISAPPLESTRING := $(shell "$(GCCPATH)gcc --version")
>>> ISAPPLEKEY := Apple
>>> 
>>> # This will either be nothing or '-arch $(ARCH)'
>>> MYARCH := $(if $(findstring $(ISAPPLEKEY),$(ISAPPLESTRING)),"-arch $(ARCH)")
>>> 
>>> MYGCC = $(GCCPATH)gcc $(MYARCH)
>>> MYGPP = $(GCCPATH)g++ $(MYARCH)
>>> MYFORTRAN = $(GCCPATH)gfortran $(MYARCH)
>>> 
>>> ## etc.
>>> ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
>>> 
>>> 
>>> All the best,
>>> /Peder
>>> 
>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>> 
>>>>> Either all all `-arch i386` and `-arch x86_64` must be removed from these files (this must be done every time R is updated) or you create a file `~/.R/Makevars` with something like
>>>>> ~~~~~~~
>>>>> MYARCH = -arch x86_64
>>>>> 
>>>>> # Comment the next line to return to the original setting:
>>>>> MYARCH =
>>>>> 
>>>>> CC = gcc $(MYARCH) -std=gnu99
>>>>> CXX=g++ $(MYARCH)
>>>>> CXXCPP = g++ $(MYARCH) -E
>>>>> FC = gfortran $(MYARCH)
>>>>> F77 = gfortran $(MYARCH)
>>>>> OBJC = gcc $(MYARCH)
>>>>> OBJCXX = g++ $(MYARCH)
>>>>> 
>>>>> DYLIB_LD = gcc $(MYARCH) -std=gnu99
>>>>> MAIN_LD = gcc $(MYARCH) -std=gnu99
>>>>> SHLIB_CXXLD = g++ $(MYARCH)
>>>>> SHLIB_FCLD = gfortran $(MYARCH)
>>>>> SHLIB_LD = gcc $(MYARCH) -std=gnu99
>>>>> ~~~~~~~
>>>>> Unfortunately, a few instances of `-arch` are outside the variables and can not be reached this way.
>>>>> 
>>>>> 
>>>>> 
>>>>> My suggestion is that the Makeconfig files are slightly changed:
>>>>> 
>>>>> - Change all `-arch i386` or `-arch x86_64` in these files to `$(MYARCH)`.
>>>>> - Add a line `MYARCH = -arch x86_64` or `MYARCH = -arch i386`, respectively, to the top of these files.
>>>>> 
>>>>> No functionality is changed but using another compiler is more compatible and simpler as only MYARCH would need to be predefined.
>>>>> 
>>>>> 
>>>>> 
>>>>> Even better would be to be able to specify the compiler set to be used by using a variable (and handle the architecture accordingly), but I know to little about make files to come up with a constructive suggestion. Probably something like using
>>>>> PREFIX =
>>>>> GCC = $(PREFIX)gcc $(MYARCH)
>>>>> GPP = $(PREFIX)g++ $(MYARCH)
>>>>> GFORTRAN = $(PREFIX)gfortran $(MYARCH)
>>>>> and then using them when defining CC, XXX, etc.
>>>>> 
>>>>> No functionality would be changed, but a different set of compilers could be used just by changing PREFIX and MYARCH.
>>>>> 
>>>>> Best regards,
>>>>> 
>>>>> Peder Axensten
>>>>> Research engineer
>>>>> 
>>>>> Swedish University of Agricultural Sciences
>>>>> Dept. of Forest Resource Management
>>>>> Remote Sensing
>>>>> se-90183 Ume?
>>>>> Sweden
>>>>> Visiting address: Skogsmarksgr?nd
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> 
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From Ricardo.Julio.Rodriguez.Fernandez at sergas.es  Sat Sep 29 02:13:04 2012
From: Ricardo.Julio.Rodriguez.Fernandez at sergas.es (Ricardo.Julio.Rodriguez.Fernandez at sergas.es)
Date: Sat, 29 Sep 2012 02:13:04 +0200
Subject: [R-SIG-Mac]
 =?windows-1252?q?=91package_=91XML=92_is_not_installe?=
 =?windows-1252?q?d_for_=27arch=3Dx86=5F64=27=92?=
In-Reply-To: <50654FF9.5010400@stats.ox.ac.uk>
References: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>,
	<A02E05F4-1266-4F67-9B9B-716C8000A0A6@r-project.org>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DBA@ASSCCEVS03.sergas.local>,
	<50654FF9.5010400@stats.ox.ac.uk>
Message-ID: <244BFA3AE9F83C4A8261E27189707237010AAA634DCB@ASSCCEVS03.sergas.local>


Thanks Brian, thanks everybody. I think I can easily understand the difficulties you are speaking about: R is a huge project running in a massive amount of different, and from time to time, fancy environments. I is by no means easy to keep all packages smoothly running in all and every installation around the World! For me, maintaining CRAN is a big responsibility and of extreme difficulty!

But I'm not able to understand yet what is the difference between using the R Package Installer (using CRAN repository as package repository), running in this case R Mac OS X 10.5.8  with this R installation...

R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
Copyright (C) 2012 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

And downloading XML_3.9-4.tgz from http://cran.r-project.org/web/packages/XML/index.html and installing it by submitting sudo R CMD INSTALL XML_3.93-0.tgz.

The process using R Package Installer (CRAN binaries as repositoy) doesn't lead to a functional XML packages and downloading and installing it does lead to running XML packages both in i386 and x86_64 architectures.

Sorry for asking once again, but, please, where am I lost with this issue?

Thanks!

>________________________________________
>From: r-sig-mac-bounces at r-project.org [r-sig-mac-bounces at r-project.org] On Behalf Of Prof Brian Ripley [ripley at stats.ox.ac.uk]
>Sent: 28 September 2012 09:21
>To: r-sig-mac at r-project.org
>Subject: Re: [R-SIG-Mac] ?package ?XML? is not installed for 'arch=x86_64'?
>
>With a package such as XML available from multiple repositories, you
>have to be very precise what you are talking about.
>
>On CRAN, there is a source package for version 3.9-4.  That can be
>compiled for multiple architectures on a Mac, and there are such
>binaries on CRAN.
>
>It only works in a UTF-8 locale, and hence there has needed to be a
>modified version for Windows, on CRANextras.
>
>However, the home for XML is www.omegahat.org.  There are two different
>versions there, and neither work on Linux.  (3.93-0 in the Omegahat
>repository and http://www.omegahat.org/RSXML/XML_3.94-0.tar.gz.)
>
>The CRAN team have been trying for weeks to sort this out, but the XML
>maintainer is barely responsive.
>
>With a CRAN build of R for MacOS, you get binary packages by default,
>either from the command-line or from R.app.   You get those of the
>achitecture(s) which were built: this is normally both ix64 and x64_86
>(and perhaps ppc) but for a few tens of packages the person in charge
>(for CRAN, Simon Urbanek) needs to set up exceptions.  As packages do
>change, sometimes the need to add an exception pops up unexpectedly.
>

On 28/09/2012 07:05, Ricardo.Julio.Rodriguez.Fernandez at sergas.es wrote:
> Hi!
>> ________________________________________
>> From: Simon Urbanek [simon.urbanek at r-project.org]
>> Sent: 28 September 2012 02:24
>> To: Rodriguez Fernandez, Ricardo Julio
>> Cc: r-sig-mac at r-project.org
>> Subject: Re: [R-SIG-Mac] ?package ?XML? is not installed for 'arch=x86_64'?
>
>> On Sep 27, 2012, at 6:25 PM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:
>>
>>>   Hi,
>>>
>>> I'm trying to confirm I understand how packages are installed and manage in R to be able to better interpret error/warning messages.
>>>
>>>   In a Mac OS X installation of R I get this error:
>>>
>>>>   require(XML)
>>>   Loading required package: XML
>>>   Failed with error:  ?package ?XML? is not installed for 'arch=x86_64'?
>>>
>>>   But the graphical interface R Package Installer says that version 3.9-4 is installed.
>>>
>>
>> It is installed, but only for 32-bit and you are trying to load it in 64-bit R.
>>
>>
>>>   Please, where am I wrong?
>>
>> Use 32-bit R or if you want to use XML in 64-bit R, you have to compile it for 64-bit. AFAICS XML currently doesn't
>> pass checks on any platform, so there are no binaries and you have to compile it from sources. If you want both 32-bit and 64-bit > you'll have to use --merge-multiarch INSTALL option or use the two-step process described in the Mac FAQ.
>>
>> Cheers,
>> Simon
>
> Following other replies to this thread this is what I get here after installing from the command line without switches the XML binary available at CRAN...
>
> Package: XML
> Version: 3.9-4
> ReleaseDate: 2012/01/30
> ...
> Repository: CRAN
> Date/Publication: 2012-01-31 07:37:18
> Built: R 2.15.0; universal-apple-darwin9.8.0; 2012-03-31 00:12:17 UTC; unix
> Archs: i386, ppc, x86_64
>
> So, it seems that i386 and x86_64 are available by installing that binary. Please, what am I misunderstanding here?
>
> Thanks for your help!
>
> Ricardo
>
>>>   Thanks!
>>>
>>>
>>>>   sessionInfo()
>>>   R version 2.15.1 (2012-06-22)
>>>   Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>>
>>>   locale:
>>>   [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
>>>
>>>   attached base packages:
>>>   [1] graphics  grDevices utils     datasets  stats     methods   base
>>>
>>>   other attached packages:
>>>   [1] foreign_0.8-50
>>>
>>>   loaded via a namespace (and not attached):
>>>   [1] tools_2.15.1
>>>>
>>>
>
> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
>
> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
>
> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at r-project.org
https://stat.ethz.ch/mailman/listinfo/r-sig-mac

Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.

Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm


From Ricardo.Julio.Rodriguez.Fernandez at sergas.es  Sat Sep 29 02:30:59 2012
From: Ricardo.Julio.Rodriguez.Fernandez at sergas.es (Ricardo.Julio.Rodriguez.Fernandez at sergas.es)
Date: Sat, 29 Sep 2012 02:30:59 +0200
Subject: [R-SIG-Mac] how to get a R 32-bits environment from an operative
 system terminal? On FastRWeb
Message-ID: <244BFA3AE9F83C4A8261E27189707237010AAA634DCC@ASSCCEVS03.sergas.local>


This line..

sudo /var/FastRWeb/code/start

gets Rserv working. But FastRWeb claims that it is not installed...

GMXUX-Ricardo-Rodriguez-2:/ rrodriguez$ sudo /var/FastRWeb/code/startPassword:
R CMD Rserve --RS-conf /var/FastRWeb/code/rserve.conf --vanilla --no-save

R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
Copyright (C) 2012 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

sudo /var/FastRWeb/code/start
Starting Rserve on gmxux-ricardo-rodriguez-2
Loading packages...
XML: TRUE
Cairo: TRUE
Matrix: TRUE
FastRWeb: FALSE
Rserv started in daemon mode.
GMXUX-Ricardo-Rodriguez-2:/ rrodriguez$

PLEASE, HOW TO GET RSERV WORGING IN I386 ARCHITECTURE? Thanks!

Ricardo


--
Ricardo Rodr?guez
Research Management and Promotion Technician
Technical Secretariat
Health Research Institute of Santiago de Compostela (IDIS)
http://www.idisantiago.es

Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.

Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm


From john.maindonald at anu.edu.au  Sat Sep 29 03:05:54 2012
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Sat, 29 Sep 2012 11:05:54 +1000
Subject: [R-SIG-Mac]
 =?windows-1252?q?=91package_=91XML=92_is_not_installe?=
 =?windows-1252?q?d_for_=27arch=3Dx86=5F64=27=92?=
In-Reply-To: <244BFA3AE9F83C4A8261E27189707237010AAA634DCB@ASSCCEVS03.sergas.local>
References: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>
	<A02E05F4-1266-4F67-9B9B-716C8000A0A6@r-project.org>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DBA@ASSCCEVS03.sergas.local>
	<50654FF9.5010400@stats.ox.ac.uk>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DCB@ASSCCEVS03.sergas.local>
Message-ID: <6DF3D996-666A-460A-8D45-7C13F14A1047@anu.edu.au>

Others may be able to give a more authoritative answer.  I doubt that 
the method of installation was per se the difference.  I installed using 
the Package installer, on April 6 2012.  The publication date 
(2012-01-31 07:37:18) was the same as for the package that you 
installed by first downloading.  You may have been unlucky that 
something went wrong when you installed using the Package Installer.   
Or, just possibly, a different file was temporarily on CRAN when you 
used the package installer.

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.
http://www.maths.anu.edu.au/~johnm

On 29/09/2012, at 10:13 AM, Ricardo.Julio.Rodriguez.Fernandez at sergas.es wrote:

> 
> Thanks Brian, thanks everybody. I think I can easily understand the difficulties you are speaking about: R is a huge project running in a massive amount of different, and from time to time, fancy environments. I is by no means easy to keep all packages smoothly running in all and every installation around the World! For me, maintaining CRAN is a big responsibility and of extreme difficulty!
> 
> But I'm not able to understand yet what is the difference between using the R Package Installer (using CRAN repository as package repository), running in this case R Mac OS X 10.5.8  with this R installation...
> 
> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
> Copyright (C) 2012 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> And downloading XML_3.9-4.tgz from http://cran.r-project.org/web/packages/XML/index.html and installing it by submitting sudo R CMD INSTALL XML_3.93-0.tgz.
> 
> The process using R Package Installer (CRAN binaries as repositoy) doesn't lead to a functional XML packages and downloading and installing it does lead to running XML packages both in i386 and x86_64 architectures.
> 
> Sorry for asking once again, but, please, where am I lost with this issue?
> 
> Thanks!
> 
>> ________________________________________
>> From: r-sig-mac-bounces at r-project.org [r-sig-mac-bounces at r-project.org] On Behalf Of Prof Brian Ripley [ripley at stats.ox.ac.uk]
>> Sent: 28 September 2012 09:21
>> To: r-sig-mac at r-project.org
>> Subject: Re: [R-SIG-Mac] ?package ?XML? is not installed for 'arch=x86_64'?
>> 
>> With a package such as XML available from multiple repositories, you
>> have to be very precise what you are talking about.
>> 
>> On CRAN, there is a source package for version 3.9-4.  That can be
>> compiled for multiple architectures on a Mac, and there are such
>> binaries on CRAN.
>> 
>> It only works in a UTF-8 locale, and hence there has needed to be a
>> modified version for Windows, on CRANextras.
>> 
>> However, the home for XML is www.omegahat.org.  There are two different
>> versions there, and neither work on Linux.  (3.93-0 in the Omegahat
>> repository and http://www.omegahat.org/RSXML/XML_3.94-0.tar.gz.)
>> 
>> The CRAN team have been trying for weeks to sort this out, but the XML
>> maintainer is barely responsive.
>> 
>> With a CRAN build of R for MacOS, you get binary packages by default,
>> either from the command-line or from R.app.   You get those of the
>> achitecture(s) which were built: this is normally both ix64 and x64_86
>> (and perhaps ppc) but for a few tens of packages the person in charge
>> (for CRAN, Simon Urbanek) needs to set up exceptions.  As packages do
>> change, sometimes the need to add an exception pops up unexpectedly.
>> 
> 
> On 28/09/2012 07:05, Ricardo.Julio.Rodriguez.Fernandez at sergas.es wrote:
>> Hi!
>>> ________________________________________
>>> From: Simon Urbanek [simon.urbanek at r-project.org]
>>> Sent: 28 September 2012 02:24
>>> To: Rodriguez Fernandez, Ricardo Julio
>>> Cc: r-sig-mac at r-project.org
>>> Subject: Re: [R-SIG-Mac] ?package ?XML? is not installed for 'arch=x86_64'?
>> 
>>> On Sep 27, 2012, at 6:25 PM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:
>>> 
>>>> Hi,
>>>> 
>>>> I'm trying to confirm I understand how packages are installed and manage in R to be able to better interpret error/warning messages.
>>>> 
>>>> In a Mac OS X installation of R I get this error:
>>>> 
>>>>> require(XML)
>>>> Loading required package: XML
>>>> Failed with error:  ?package ?XML? is not installed for 'arch=x86_64'?
>>>> 
>>>> But the graphical interface R Package Installer says that version 3.9-4 is installed.
>>>> 
>>> 
>>> It is installed, but only for 32-bit and you are trying to load it in 64-bit R.
>>> 
>>> 
>>>> Please, where am I wrong?
>>> 
>>> Use 32-bit R or if you want to use XML in 64-bit R, you have to compile it for 64-bit. AFAICS XML currently doesn't
>>> pass checks on any platform, so there are no binaries and you have to compile it from sources. If you want both 32-bit and 64-bit > you'll have to use --merge-multiarch INSTALL option or use the two-step process described in the Mac FAQ.
>>> 
>>> Cheers,
>>> Simon
>> 
>> Following other replies to this thread this is what I get here after installing from the command line without switches the XML binary available at CRAN...
>> 
>> Package: XML
>> Version: 3.9-4
>> ReleaseDate: 2012/01/30
>> ...
>> Repository: CRAN
>> Date/Publication: 2012-01-31 07:37:18
>> Built: R 2.15.0; universal-apple-darwin9.8.0; 2012-03-31 00:12:17 UTC; unix
>> Archs: i386, ppc, x86_64
>> 
>> So, it seems that i386 and x86_64 are available by installing that binary. Please, what am I misunderstanding here?
>> 
>> Thanks for your help!
>> 
>> Ricardo
>> 
>>>> Thanks!
>>>> 
>>>> 
>>>>> sessionInfo()
>>>> R version 2.15.1 (2012-06-22)
>>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>>> 
>>>> locale:
>>>> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
>>>> 
>>>> attached base packages:
>>>> [1] graphics  grDevices utils     datasets  stats     methods   base
>>>> 
>>>> other attached packages:
>>>> [1] foreign_0.8-50
>>>> 
>>>> loaded via a namespace (and not attached):
>>>> [1] tools_2.15.1
>>>>> 
>>>> 
>> 
>> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
>> 
>> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
>> 
>> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
> 
> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
> 
> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Sat Sep 29 03:49:17 2012
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 28 Sep 2012 21:49:17 -0400
Subject: [R-SIG-Mac]
 =?windows-1252?q?=91package_=91XML=92_is_not_installe?=
 =?windows-1252?q?d_for_=27arch=3Dx86=5F64=27=92?=
In-Reply-To: <6DF3D996-666A-460A-8D45-7C13F14A1047@anu.edu.au>
References: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>
	<A02E05F4-1266-4F67-9B9B-716C8000A0A6@r-project.org>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DBA@ASSCCEVS03.sergas.local>
	<50654FF9.5010400@stats.ox.ac.uk>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DCB@ASSCCEVS03.sergas.local>
	<6DF3D996-666A-460A-8D45-7C13F14A1047@anu.edu.au>
Message-ID: <1F3DFF37-CA50-493E-9E27-030C13AD5E6A@r-project.org>


On Sep 28, 2012, at 9:05 PM, John Maindonald wrote:

> Others may be able to give a more authoritative answer.  I doubt that 
> the method of installation was per se the difference.  I installed using 
> the Package installer, on April 6 2012.  The publication date 
> (2012-01-31 07:37:18) was the same as for the package that you 
> installed by first downloading.  You may have been unlucky that 
> something went wrong when you installed using the Package Installer.   
> Or, just possibly, a different file was temporarily on CRAN when you 
> used the package installer.
> 

It think it's actually more simple than that - my guess is that  Ricardo has (apparently inadvertently) installed the *source* package and not the binary which is why he got only one architecture. The Package Installer allows the user to do either depending what the user selects.

Cheers,
Simon

 

> John Maindonald             email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
> Centre for Mathematics & Its Applications, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
> http://www.maths.anu.edu.au/~johnm
> 
> On 29/09/2012, at 10:13 AM, Ricardo.Julio.Rodriguez.Fernandez at sergas.es wrote:
> 
>> 
>> Thanks Brian, thanks everybody. I think I can easily understand the difficulties you are speaking about: R is a huge project running in a massive amount of different, and from time to time, fancy environments. I is by no means easy to keep all packages smoothly running in all and every installation around the World! For me, maintaining CRAN is a big responsibility and of extreme difficulty!
>> 
>> But I'm not able to understand yet what is the difference between using the R Package Installer (using CRAN repository as package repository), running in this case R Mac OS X 10.5.8  with this R installation...
>> 
>> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
>> Copyright (C) 2012 The R Foundation for Statistical Computing
>> ISBN 3-900051-07-0
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> 
>> And downloading XML_3.9-4.tgz from http://cran.r-project.org/web/packages/XML/index.html and installing it by submitting sudo R CMD INSTALL XML_3.93-0.tgz.
>> 
>> The process using R Package Installer (CRAN binaries as repositoy) doesn't lead to a functional XML packages and downloading and installing it does lead to running XML packages both in i386 and x86_64 architectures.
>> 
>> Sorry for asking once again, but, please, where am I lost with this issue?
>> 
>> Thanks!
>> 
>>> ________________________________________
>>> From: r-sig-mac-bounces at r-project.org [r-sig-mac-bounces at r-project.org] On Behalf Of Prof Brian Ripley [ripley at stats.ox.ac.uk]
>>> Sent: 28 September 2012 09:21
>>> To: r-sig-mac at r-project.org
>>> Subject: Re: [R-SIG-Mac] ?package ?XML? is not installed for 'arch=x86_64'?
>>> 
>>> With a package such as XML available from multiple repositories, you
>>> have to be very precise what you are talking about.
>>> 
>>> On CRAN, there is a source package for version 3.9-4.  That can be
>>> compiled for multiple architectures on a Mac, and there are such
>>> binaries on CRAN.
>>> 
>>> It only works in a UTF-8 locale, and hence there has needed to be a
>>> modified version for Windows, on CRANextras.
>>> 
>>> However, the home for XML is www.omegahat.org.  There are two different
>>> versions there, and neither work on Linux.  (3.93-0 in the Omegahat
>>> repository and http://www.omegahat.org/RSXML/XML_3.94-0.tar.gz.)
>>> 
>>> The CRAN team have been trying for weeks to sort this out, but the XML
>>> maintainer is barely responsive.
>>> 
>>> With a CRAN build of R for MacOS, you get binary packages by default,
>>> either from the command-line or from R.app.   You get those of the
>>> achitecture(s) which were built: this is normally both ix64 and x64_86
>>> (and perhaps ppc) but for a few tens of packages the person in charge
>>> (for CRAN, Simon Urbanek) needs to set up exceptions.  As packages do
>>> change, sometimes the need to add an exception pops up unexpectedly.
>>> 
>> 
>> On 28/09/2012 07:05, Ricardo.Julio.Rodriguez.Fernandez at sergas.es wrote:
>>> Hi!
>>>> ________________________________________
>>>> From: Simon Urbanek [simon.urbanek at r-project.org]
>>>> Sent: 28 September 2012 02:24
>>>> To: Rodriguez Fernandez, Ricardo Julio
>>>> Cc: r-sig-mac at r-project.org
>>>> Subject: Re: [R-SIG-Mac] ?package ?XML? is not installed for 'arch=x86_64'?
>>> 
>>>> On Sep 27, 2012, at 6:25 PM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:
>>>> 
>>>>> Hi,
>>>>> 
>>>>> I'm trying to confirm I understand how packages are installed and manage in R to be able to better interpret error/warning messages.
>>>>> 
>>>>> In a Mac OS X installation of R I get this error:
>>>>> 
>>>>>> require(XML)
>>>>> Loading required package: XML
>>>>> Failed with error:  ?package ?XML? is not installed for 'arch=x86_64'?
>>>>> 
>>>>> But the graphical interface R Package Installer says that version 3.9-4 is installed.
>>>>> 
>>>> 
>>>> It is installed, but only for 32-bit and you are trying to load it in 64-bit R.
>>>> 
>>>> 
>>>>> Please, where am I wrong?
>>>> 
>>>> Use 32-bit R or if you want to use XML in 64-bit R, you have to compile it for 64-bit. AFAICS XML currently doesn't
>>>> pass checks on any platform, so there are no binaries and you have to compile it from sources. If you want both 32-bit and 64-bit > you'll have to use --merge-multiarch INSTALL option or use the two-step process described in the Mac FAQ.
>>>> 
>>>> Cheers,
>>>> Simon
>>> 
>>> Following other replies to this thread this is what I get here after installing from the command line without switches the XML binary available at CRAN...
>>> 
>>> Package: XML
>>> Version: 3.9-4
>>> ReleaseDate: 2012/01/30
>>> ...
>>> Repository: CRAN
>>> Date/Publication: 2012-01-31 07:37:18
>>> Built: R 2.15.0; universal-apple-darwin9.8.0; 2012-03-31 00:12:17 UTC; unix
>>> Archs: i386, ppc, x86_64
>>> 
>>> So, it seems that i386 and x86_64 are available by installing that binary. Please, what am I misunderstanding here?
>>> 
>>> Thanks for your help!
>>> 
>>> Ricardo
>>> 
>>>>> Thanks!
>>>>> 
>>>>> 
>>>>>> sessionInfo()
>>>>> R version 2.15.1 (2012-06-22)
>>>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>>>> 
>>>>> locale:
>>>>> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
>>>>> 
>>>>> attached base packages:
>>>>> [1] graphics  grDevices utils     datasets  stats     methods   base
>>>>> 
>>>>> other attached packages:
>>>>> [1] foreign_0.8-50
>>>>> 
>>>>> loaded via a namespace (and not attached):
>>>>> [1] tools_2.15.1
>>>>>> 
>>>>> 
>>> 
>>> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
>>> 
>>> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
>>> 
>>> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> 
>> --
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
>> 
>> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
>> 
>> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From Ricardo.Julio.Rodriguez.Fernandez at sergas.es  Sat Sep 29 11:58:03 2012
From: Ricardo.Julio.Rodriguez.Fernandez at sergas.es (Ricardo.Julio.Rodriguez.Fernandez at sergas.es)
Date: Sat, 29 Sep 2012 11:58:03 +0200
Subject: [R-SIG-Mac]
 =?windows-1252?q?=91package_=91XML=92_is_not_installe?=
 =?windows-1252?q?d_for_=27arch=3Dx86=5F64=27=92?=
In-Reply-To: <1F3DFF37-CA50-493E-9E27-030C13AD5E6A@r-project.org>
References: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>
	<A02E05F4-1266-4F67-9B9B-716C8000A0A6@r-project.org>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DBA@ASSCCEVS03.sergas.local>
	<50654FF9.5010400@stats.ox.ac.uk>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DCB@ASSCCEVS03.sergas.local>
	<6DF3D996-666A-460A-8D45-7C13F14A1047@anu.edu.au>,
	<1F3DFF37-CA50-493E-9E27-030C13AD5E6A@r-project.org>
Message-ID: <244BFA3AE9F83C4A8261E27189707237010AAA634DCD@ASSCCEVS03.sergas.local>


I bet Simon is right. Two main reasons:

1. I was following a blog post on how to set up FastRWeb on Mac OS X. This post (http://www.r-bloggers.com/setting-up-fastrweb-on-mac-os-x/) speaks about installing from sources and, even though "I think" I move to binaries prior to posting here on this issue, I can't be sure about that.
2. My understanding about multiple sub-architectures is more than poor. So, I could be sure I used the correct terms and concepts when analyzing the issue I was facing here.

I always try to stick to "official" sources of information when studying how to use a given R piece of software, but Google and other search engines put tones of other documents a couple of clicks away and is by no means easy to decide which one deserves to be followed. I think many of them can be useful when read with enough background as to be able to separate noise and information.

Please, allow me to hijack this thread to put in another, for me, related question I'm trying to work out on the list. To the best of my understanding and by following the documentation when I install R binary for Mac OS X both i386 and x86_64 are available. In fact I can easily choose among them by launching R Console by click on R or R64 "icons". But I'm not able to find the switch I must use to get the same thing when running R from the command line: I always get x86_64. I'm not able to solve this question by following R for Mac OS X FAQ or other sources of information available from CRAN.

Sorry for the noise I introduced in this list. Thanks to everybody!

Ricardo

> ________________________________________
> From: Simon Urbanek [simon.urbanek at r-project.org]
> Sent: 29 September 2012 03:49
> To: John Maindonald
> Cc: Rodriguez Fernandez, Ricardo Julio; r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] ?package ?XML? is not installed for 'arch=x86_64'?
>
> On Sep 28, 2012, at 9:05 PM, John Maindonald wrote:
>
>> Others may be able to give a more authoritative answer.  I doubt that
>> the method of installation was per se the difference.  I installed using
>> the Package installer, on April 6 2012.  The publication date
>> (2012-01-31 07:37:18) was the same as for the package that you
>> installed by first downloading.  You may have been unlucky that
>> something went wrong when you installed using the Package Installer.
>> Or, just possibly, a different file was temporarily on CRAN when you
>> used the package installer.
>>
>
> It think it's actually more simple than that - my guess is that  Ricardo has (apparently inadvertently)
> installed the *source* package and not the binary which is why he got only one architecture.
> The Package Installer allows the user to do either depending what the user selects.
>
> Cheers,
>Simon
>
>
>
>> John Maindonald             email: john.maindonald at anu.edu.au
>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>> Centre for Mathematics & Its Applications, Room 1194,
>> John Dedman Mathematical Sciences Building (Building 27)
>> Australian National University, Canberra ACT 0200.
>> http://www.maths.anu.edu.au/~johnm
>>
>> On 29/09/2012, at 10:13 AM, Ricardo.Julio.Rodriguez.Fernandez at sergas.es wrote:
>>
>>>
>>> Thanks Brian, thanks everybody. I think I can easily understand the difficulties you are speaking about:
>>> R is a huge project running in a massive amount of different, and from time to time, fancy environments.
>>> I is by no means easy to keep all packages smoothly running in all and every installation around
>>> the World! For me, maintaining CRAN is a big responsibility and of extreme difficulty!
>>>
>>> But I'm not able to understand yet what is the difference between using the R Package Installer
>>> (using CRAN repository as package repository), running in this case R Mac OS X 10.5.8  with this R installation...
>>>
>>> R version 2.15.1 (2012-06-22) -- "Roasted Marshmallows"
>>> Copyright (C) 2012 The R Foundation for Statistical Computing
>>> ISBN 3-900051-07-0
>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>>
>>> And downloading XML_3.9-4.tgz from http://cran.r-project.org/web/packages/XML/index.html and installing it by submitting sudo R CMD INSTALL XML_3.93-0.tgz.
>>>
>>> The process using R Package Installer (CRAN binaries as repositoy) doesn't lead to a functional
>>> XML packages and downloading and installing it does lead to running XML packages both in i386 and x86_64 architectures.
>>>
>>> Sorry for asking once again, but, please, where am I lost with this issue?
>>>
>>> Thanks!
>>>
>>>> ________________________________________
>>>> From: r-sig-mac-bounces at r-project.org [r-sig-mac-bounces at r-project.org] On Behalf Of Prof Brian Ripley [ripley at stats.ox.ac.uk]
>>>> Sent: 28 September 2012 09:21
>>>> To: r-sig-mac at r-project.org
>>>> Subject: Re: [R-SIG-Mac] ?package ?XML? is not installed for 'arch=x86_64'?
>>>>
>>>> With a package such as XML available from multiple repositories, you
>>>> have to be very precise what you are talking about.
>>>>
>>>> On CRAN, there is a source package for version 3.9-4.  That can be
>>>> compiled for multiple architectures on a Mac, and there are such
>>>> binaries on CRAN.
>>>>
>>>> It only works in a UTF-8 locale, and hence there has needed to be a
>>>> modified version for Windows, on CRANextras.
>>>>
>>>> However, the home for XML is www.omegahat.org.  There are two different
>>>> versions there, and neither work on Linux.  (3.93-0 in the Omegahat
>>>> repository and http://www.omegahat.org/RSXML/XML_3.94-0.tar.gz.)
>>>>
>>>> The CRAN team have been trying for weeks to sort this out, but the XML
>>>> maintainer is barely responsive.
>>>>
>>>> With a CRAN build of R for MacOS, you get binary packages by default,
>>>> either from the command-line or from R.app.   You get those of the
>>>> achitecture(s) which were built: this is normally both ix64 and x64_86
>>>> (and perhaps ppc) but for a few tens of packages the person in charge
>>>> (for CRAN, Simon Urbanek) needs to set up exceptions.  As packages do
>>>> change, sometimes the need to add an exception pops up unexpectedly.
>>>>
>>>
>>> On 28/09/2012 07:05, Ricardo.Julio.Rodriguez.Fernandez at sergas.es wrote:
>>>> Hi!
>>>>> ________________________________________
>>>>> From: Simon Urbanek [simon.urbanek at r-project.org]
>>>>> Sent: 28 September 2012 02:24
>>>>> To: Rodriguez Fernandez, Ricardo Julio
>>>>> Cc: r-sig-mac at r-project.org
>>>>> Subject: Re: [R-SIG-Mac] ?package ?XML? is not installed for 'arch=x86_64'?
>>>>
>>>>> On Sep 27, 2012, at 6:25 PM, <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:
>>>>>
>>>>>> Hi,
>>>>>>
>>>>>> I'm trying to confirm I understand how packages are installed and manage in R to be able to better interpret error/warning messages.
>>>>>>
>>>>>> In a Mac OS X installation of R I get this error:
>>>>>>
>>>>>>> require(XML)
>>>>>> Loading required package: XML
>>>>>> Failed with error:  ?package ?XML? is not installed for 'arch=x86_64'?
>>>>>>
>>>>>> But the graphical interface R Package Installer says that version 3.9-4 is installed.
>>>>>>
>>>>>
>>>>> It is installed, but only for 32-bit and you are trying to load it in 64-bit R.
>>>>>
>>>>>
>>>>>> Please, where am I wrong?
>>>>>
>>>>> Use 32-bit R or if you want to use XML in 64-bit R, you have to compile it for 64-bit. AFAICS XML currently doesn't
>>>>> pass checks on any platform, so there are no binaries and you have to compile it from sources. If you want both 32-bit and 64-bit > you'll have to use --merge-multiarch INSTALL option or use the two-step process described in the Mac FAQ.
>>>>
>>>> Cheers,
>>>> Simon
>>>
>>> Following other replies to this thread this is what I get here after installing from the command line without switches the XML binary available at CRAN...
>>>
>>> Package: XML
>>> Version: 3.9-4
>>> ReleaseDate: 2012/01/30
>>> ...
>>> Repository: CRAN
>>> Date/Publication: 2012-01-31 07:37:18
>>> Built: R 2.15.0; universal-apple-darwin9.8.0; 2012-03-31 00:12:17 UTC; unix
>>> Archs: i386, ppc, x86_64
>>>
>>> So, it seems that i386 and x86_64 are available by installing that binary. Please, what am I misunderstanding here?
>>>
>>> Thanks for your help!
>>>
>>> Ricardo
>>>
>>>>> Thanks!
>>>>>
>>>>>
>>>>>> sessionInfo()
>>>>> R version 2.15.1 (2012-06-22)
>>>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>>>>
>>>>> locale:
>>>>> [1] en_GB.UTF-8/en_GB.UTF-8/en_GB.UTF-8/C/en_GB.UTF-8/en_GB.UTF-8
>>>>>
>>>>> attached base packages:
>>>>> [1] graphics  grDevices utils     datasets  stats     methods   base
>>>>>
>>>>> other attached packages:
>>>>> [1] foreign_0.8-50
>>>>>
>>>>> loaded via a namespace (and not attached):
>>>>> [1] tools_2.15.1
>>>>>>
>>>>>
>>>
>>> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
>>>
>>> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
>>>
>>> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>>
>> --
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada
>> e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a
>> orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.
>>
>> Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y
>> confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original
>> de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.
>>
>> See more languages: http://www.sergas.es/aviso_confidencialidad.htm
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>>

Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.

Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm


From bhh at xs4all.nl  Sat Sep 29 12:12:00 2012
From: bhh at xs4all.nl (Berend Hasselman)
Date: Sat, 29 Sep 2012 12:12:00 +0200
Subject: [R-SIG-Mac]
 =?windows-1252?q?=91package_=91XML=92_is_not_installe?=
 =?windows-1252?q?d_for_=27arch=3Dx86=5F64=27=92?=
In-Reply-To: <244BFA3AE9F83C4A8261E27189707237010AAA634DCD@ASSCCEVS03.sergas.local>
References: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>
	<A02E05F4-1266-4F67-9B9B-716C8000A0A6@r-project.org>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DBA@ASSCCEVS03.sergas.local>
	<50654FF9.5010400@stats.ox.ac.uk>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DCB@ASSCCEVS03.sergas.local>
	<6DF3D996-666A-460A-8D45-7C13F14A1047@anu.edu.au>,
	<1F3DFF37-CA50-493E-9E27-030C13AD5E6A@r-project.org>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DCD@ASSCCEVS03.sergas.local>
Message-ID: <1C6F18EE-83B4-4AAA-A78D-156D88B5DA9E@xs4all.nl>


On 29-09-2012, at 11:58, Ricardo.Julio.Rodriguez.Fernandez at sergas.es wrote:

> 
> I bet Simon is right. Two main reasons:
> 
> 1. I was following a blog post on how to set up FastRWeb on Mac OS X. This post (http://www.r-bloggers.com/setting-up-fastrweb-on-mac-os-x/) speaks about installing from sources and, even though "I think" I move to binaries prior to posting here on this issue, I can't be sure about that.
> 2. My understanding about multiple sub-architectures is more than poor. So, I could be sure I used the correct terms and concepts when analyzing the issue I was facing here.
> 
> I always try to stick to "official" sources of information when studying how to use a given R piece of software, but Google and other search engines put tones of other documents a couple of clicks away and is by no means easy to decide which one deserves to be followed. I think many of them can be useful when read with enough background as to be able to separate noise and information.
> 
> Please, allow me to hijack this thread to put in another, for me, related question I'm trying to work out on the list. To the best of my understanding and by following the documentation when I install R binary for Mac OS X both i386 and x86_64 are available. In fact I can easily choose among them by launching R Console by click on R or R64 "icons". But I'm not able to find the switch I must use to get the same thing when running R from the command line: I always get x86_64. I'm not able to solve this question by following R for Mac OS X FAQ or other sources of information available from CRAN.
> 

For 32-bit R in Terminal

R32
R --arch=i386

For 64bit R in Terminal

R
R64
R --arch=x86_64

Berend


From michael.weylandt at gmail.com  Sat Sep 29 12:11:53 2012
From: michael.weylandt at gmail.com (R. Michael Weylandt)
Date: Sat, 29 Sep 2012 11:11:53 +0100
Subject: [R-SIG-Mac]
	=?windows-1252?q?=91package_=91XML=92_is_not_installe?=
	=?windows-1252?q?d_for_=27arch=3Dx86=5F64=27=92?=
In-Reply-To: <244BFA3AE9F83C4A8261E27189707237010AAA634DCD@ASSCCEVS03.sergas.local>
References: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>
	<A02E05F4-1266-4F67-9B9B-716C8000A0A6@r-project.org>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DBA@ASSCCEVS03.sergas.local>
	<50654FF9.5010400@stats.ox.ac.uk>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DCB@ASSCCEVS03.sergas.local>
	<6DF3D996-666A-460A-8D45-7C13F14A1047@anu.edu.au>
	<1F3DFF37-CA50-493E-9E27-030C13AD5E6A@r-project.org>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DCD@ASSCCEVS03.sergas.local>
Message-ID: <CAAmySGNEk2CrxDJUkm+amymHi-s+m8uWFU60O_NsLMM8aMF1Yw@mail.gmail.com>

On Sat, Sep 29, 2012 at 10:58 AM,
<Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:
> Please, allow me to hijack this thread to put in another, for me, related question I'm trying to work out on the list. To the best of my understanding and by following the documentation when I install R binary for Mac OS X both i386 and x86_64 are available. In fact I can easily choose among them by launching R Console by click on R or R64 "icons". But I'm not able to find the switch I must use to get the same thing when running R from the command line: I always get x86_64. I'm not able to solve this question by following R for Mac OS X FAQ or other sources of information available from CRAN.
>

For me, R32 and R64 do the job. They're simlinked to

R* -> /Library/Frameworks/R.framework/Resources/bin/R*

where * is 32 or 64. I don't remember setting those up, so they
probably happen automatically if you use the CRAN installer.

Cheers,
Michael


From ripley at stats.ox.ac.uk  Sat Sep 29 12:27:23 2012
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 29 Sep 2012 11:27:23 +0100
Subject: [R-SIG-Mac]
 =?windows-1252?q?=91package_=91XML=92_is_not_installe?=
 =?windows-1252?q?d_for_=27arch=3Dx86=5F64=27=92?=
In-Reply-To: <CAAmySGNEk2CrxDJUkm+amymHi-s+m8uWFU60O_NsLMM8aMF1Yw@mail.gmail.com>
References: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>
	<A02E05F4-1266-4F67-9B9B-716C8000A0A6@r-project.org>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DBA@ASSCCEVS03.sergas.local>
	<50654FF9.5010400@stats.ox.ac.uk>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DCB@ASSCCEVS03.sergas.local>
	<6DF3D996-666A-460A-8D45-7C13F14A1047@anu.edu.au>
	<1F3DFF37-CA50-493E-9E27-030C13AD5E6A@r-project.org>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DCD@ASSCCEVS03.sergas.local>
	<CAAmySGNEk2CrxDJUkm+amymHi-s+m8uWFU60O_NsLMM8aMF1Yw@mail.gmail.com>
Message-ID: <5066CD0B.2040509@stats.ox.ac.uk>

On 29/09/2012 11:11, R. Michael Weylandt wrote:
> On Sat, Sep 29, 2012 at 10:58 AM,
> <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:
>> Please, allow me to hijack this thread to put in another, for me, related question I'm trying to work out on the list. To the best of my understanding and by following the documentation when I install R binary for Mac OS X both i386 and x86_64 are available. In fact I can easily choose among them by launching R Console by click on R or R64 "icons". But I'm not able to find the switch I must use to get the same thing when running R from the command line: I always get x86_64. I'm not able to solve this question by following R for Mac OS X FAQ or other sources of information available from CRAN.
>>
>
> For me, R32 and R64 do the job. They're simlinked to
>
> R* -> /Library/Frameworks/R.framework/Resources/bin/R*
>
> where * is 32 or 64. I don't remember setting those up, so they
> probably happen automatically if you use the CRAN installer.

True (but you may have other scripts of that name earlier in your path: 
I do from before this was done by the installer).

But the documented way is R --arch i386 (or x86_64).

Which is the default sub-architecture depends on the version of OS X 
which was used for installation: from memory this is i386 for Leopard 
and x86_64 since.

Please note that we do need to know the OS X version for questions like 
this: what the installer does depends on the version.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From jfox at mcmaster.ca  Sun Sep 30 19:33:07 2012
From: jfox at mcmaster.ca (John Fox)
Date: Sun, 30 Sep 2012 13:33:07 -0400
Subject: [R-SIG-Mac] installing Tcl/Tk 8.5.5 for X11 on Mountain Lion
Message-ID: <000101cd9f31$a7c98c30$f75ca490$@mcmaster.ca>

Dear Simon,

I received an email recently from a user trying to install the Rcmdr package
under OS X 10.8 (Mountain Lion). It materialized that he was unable to
install Tcl/Tk 8.5.5 from the R for Mac OS X Development Tools and Libraries
page because his security settings didn't permit installation of software
from "unidentified" developers. The problem was solved by resetting this
option temporarily. 

I notice that the R Mac OS X binary itself is now signed to circumvent the
problem, and wonder whether the same thing can be done for the Tcl/Tk that's
provided -- or if not whether instructions for proceeding in Mountain Lion
can be added to the web page. Depending on how the issue is resolved, I may
add an instruction to the Rcmdr Mac installation notes.

Thanks,
 John

-----------------------------------------------
John Fox
Senator McMaster Professor of Social Statistics
Department of Sociology
McMaster University
Hamilton, Ontario, Canada


From Ricardo.Julio.Rodriguez.Fernandez at sergas.es  Sun Sep 30 22:35:26 2012
From: Ricardo.Julio.Rodriguez.Fernandez at sergas.es (Ricardo.Julio.Rodriguez.Fernandez at sergas.es)
Date: Sun, 30 Sep 2012 22:35:26 +0200
Subject: [R-SIG-Mac]
 =?windows-1252?q?=91package_=91XML=92_is_not_installe?=
 =?windows-1252?q?d_for_=27arch=3Dx86=5F64=27=92?=
In-Reply-To: <5066CD0B.2040509@stats.ox.ac.uk>
References: <244BFA3AE9F83C4A8261E27189707237010AAA634DB7@ASSCCEVS03.sergas.local>
	<A02E05F4-1266-4F67-9B9B-716C8000A0A6@r-project.org>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DBA@ASSCCEVS03.sergas.local>
	<50654FF9.5010400@stats.ox.ac.uk>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DCB@ASSCCEVS03.sergas.local>
	<6DF3D996-666A-460A-8D45-7C13F14A1047@anu.edu.au>
	<1F3DFF37-CA50-493E-9E27-030C13AD5E6A@r-project.org>
	<244BFA3AE9F83C4A8261E27189707237010AAA634DCD@ASSCCEVS03.sergas.local>
	<CAAmySGNEk2CrxDJUkm+amymHi-s+m8uWFU60O_NsLMM8aMF1Yw@mail.gmail.com>,
	<5066CD0B.2040509@stats.ox.ac.uk>
Message-ID: <244BFA3AE9F83C4A8261E27189707237010AAA634DCE@ASSCCEVS03.sergas.local>

Bared, Michel, Simon, all,

> On 29/09/2012 11:11, R. Michael Weylandt wrote:
>> On Sat, Sep 29, 2012 at 10:58 AM,
>> <Ricardo.Julio.Rodriguez.Fernandez at sergas.es> wrote:
>>> Please, allow me to hijack this thread to put in another, for me, related question
>>> I'm trying to work out on the list. To the best of my understanding and by following
>>> the documentation when I install R binary for Mac OS X both i386 and x86_64 are available.
>>> In fact I can easily choose among them by launching R Console by click on R or R64 "icons".
>>> But I'm not able to find the switch I must use to get the same thing when running R from
>>> the command line: I always get x86_64. I'm not able to solve this question by following
>>> R for Mac OS X FAQ or other sources of information available from CRAN.
>>>
>>
>> For me, R32 and R64 do the job. They're simlinked to
>>
>> R* -> /Library/Frameworks/R.framework/Resources/bin/R*
>>
>> where * is 32 or 64. I don't remember setting those up, so they
>> probably happen automatically if you use the CRAN installer.
>

In this OS X 10.5.8 box running R version 2.15.1 (2012-06-22), these options launch R with 32bits architecture:

R
R --arch i386
R --arch=i386

**There is not a R32 symlink here.

These ones launches R with 64bits architecture:

R64
R --arch x86_64
R --arch=x86_64

> True (but you may have other scripts of that name earlier in your path:
> I do from before this was done by the installer).
>

Scripts are devil here! This thread has its origin in an issue while running a R script used to launch FastRWeb. I'm not able to find now where I read that it only works in a 32 bits environment. As far as the script launching it, sudo /var/FastRWeb/code/start, runs in 64bits mode, my guess was that the problems to put it up and running where related with this issue.

The point is that I have a fully operative RFastWeb installation running locally in my MacBook Pro running Mac OS X 10.5.8. Simply great! Absolutely great! Thanks all for your help.

But I'm still struggling to understand why /var/FastRWeb/code/start launches in 64bits mode. Something in the related scripts, but I'm not able to find it.

>But the documented way is R --arch i386 (or x86_64).
>
> Which is the default sub-architecture depends on the version of OS X
> which was used for installation: from memory this is i386 for Leopard
> and x86_64 since.

I can confirm this is correct for Leopard (10.5.x); I'll check the default for Snow Leopard and beyond when regain access to some now not available remote boxes. Thanks!

>
> Please note that we do need to know the OS X version for questions like
> this: what the installer does depends on the version.

Indeed! I'm currently moving back and forth to/from two Mac systems running OS X 10.5.8 and 10.6.8. **All the information posted in this thread concerns only 10.5.8 box**. In fact I'm facing some behavior in the 10.6.8 that doesn't fit what I'm seeing in the 10.5.8 one.

--
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

Nota: A informaci?n contida nesta mensaxe e os seus posibles documentos adxuntos ? privada e confidencial e est? dirixida ?nicamente ? seu destinatario/a. Se vostede non ? o/a destinatario/a orixinal desta mensaxe, por favor elim?nea. A distribuci?n ou copia desta mensaxe non est? autorizada.

Nota: La informaci?n contenida en este mensaje y sus posibles documentos adjuntos es privada y confidencial y est? dirigida ?nicamente a su destinatario/a. Si usted no es el/la destinatario/a original de este mensaje, por favor elim?nelo. La distribuci?n o copia de este mensaje no est? autorizada.

See more languages: http://www.sergas.es/aviso_confidencialidad.htm


