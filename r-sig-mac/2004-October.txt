From mraijmakers at fmg.uva.nl  Fri Oct  1 14:46:57 2004
From: mraijmakers at fmg.uva.nl (Maartje Raijmakers)
Date: Fri Oct  1 14:47:08 2004
Subject: [R-SIG-Mac] gstack underflow
In-Reply-To: <EEE03005-0DC4-11D9-80B9-000A95A67E82@stat.ucla.edu>
Message-ID: <BD831E61.433B%mraijmakers@fmg.uva.nl>


I am using package odesolve to solve a system of ode's. For this I define a
function in C that is called from the lsoda function in odesolve. With a
large system I occasionally get the following warning if I run it in the
debugger: 

"kCGErrorFailure : CGGStackRestore: gstack underflow "

Can someone help me with the  meaning of this warning and what to do about
it?

Maartje

From bellis at hsph.harvard.edu  Fri Oct  1 23:48:58 2004
From: bellis at hsph.harvard.edu (Byron Ellis)
Date: Fri Oct  1 23:49:05 2004
Subject: [R-SIG-Mac] gstack underflow
In-Reply-To: <BD831E61.433B%mraijmakers@fmg.uva.nl>
References: <BD831E61.433B%mraijmakers@fmg.uva.nl>
Message-ID: <B309DA10-13F3-11D9-9359-000D93C24D64@hsph.harvard.edu>

Its due, I think, to the Core Graphics state stack being popped more 
times than it was saved. Its probably unrelated to you or R. (IIRC some 
versions of DesktopManager caused this warning to be sent.)

On Oct 1, 2004, at 5:46 AM, Maartje Raijmakers wrote:

>
> I am using package odesolve to solve a system of ode's. For this I 
> define a
> function in C that is called from the lsoda function in odesolve. With 
> a
> large system I occasionally get the following warning if I run it in 
> the
> debugger:
>
> "kCGErrorFailure : CGGStackRestore: gstack underflow "
>
> Can someone help me with the  meaning of this warning and what to do 
> about
> it?
>
> Maartje
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
---
Byron Ellis (bellis@hsph.harvard.edu)
"Oook" -- The Librarian

From mraijmakers at fmg.uva.nl  Mon Oct  4 16:22:39 2004
From: mraijmakers at fmg.uva.nl (Maartje Raijmakers)
Date: Mon Oct  4 16:22:58 2004
Subject: [R-SIG-Mac] Memory length in C
Message-ID: <BD87294F.1C08%mraijmakers@fmg.uva.nl>



I suspect memory problems. Therefore I want to do the following, but I don't
know how:

I use C - routines which I call from R with .C (and C routines that are
called from fortran by lsoda in the odesolve package)
One of these C routines has as an argument a pointer to an array of doubles.

Now, I want to check the length of this array within the C-routine.
Does anyone know how I should do that?


Regards, Maartje

From Simon.Urbanek at math.uni-augsburg.de  Mon Oct  4 17:18:33 2004
From: Simon.Urbanek at math.uni-augsburg.de (Simon Urbanek)
Date: Mon Oct  4 17:18:43 2004
Subject: [R-SIG-Mac] Memory length in C
In-Reply-To: <BD87294F.1C08%mraijmakers@fmg.uva.nl>
References: <BD87294F.1C08%mraijmakers@fmg.uva.nl>
Message-ID: <A7D1AE9C-1618-11D9-A508-000A957CEFBA@math.uni-augsburg.de>

On Oct 4, 2004, at 4:22 PM, Maartje Raijmakers wrote:

> I suspect memory problems. Therefore I want to do the following, but I 
> don't
> know how:

BTW: you may want to CC this to R-help (in case you didn't), because 
this is not a Mac-specific problem.

> I use C - routines which I call from R with .C (and C routines that are
> called from fortran by lsoda in the odesolve package)
> One of these C routines has as an argument a pointer to an array of 
> doubles.
>
> Now, I want to check the length of this array within the C-routine.
> Does anyone know how I should do that?

AFAIK the .C function has no way of providing the array length - this 
is one of the reasons why .Call is recommended. You can, however, 
supply the length yourself in an extra parameter, such as for example:

a<-rnorm(100)
.C("myfunc", as.double(a), as.integer(length(a)))

and in C:

void myfunc(double *a, int *len);

I'm not quite sure, but there may be some low-level debugging tools in 
R, such as using your own memory allocation routines, but I'm not sure 
if that will help in your case. For Mac-specific debugging there is a 
lot of very powerful tools for memory management inspection, see man 
malloc for details.

Cheers,
Simon

---
Simon Urbanek
Department of computer oriented statistics and data analysis
University of Augsburg
Universit?tsstr. 14
86135 Augsburg
Germany

Tel: +49-821-598-2236
Fax: +49-821-598-2200

Simon.Urbanek@Math.Uni-Augsburg.de
http://simon.urbanek.info

From tlumley at u.washington.edu  Mon Oct  4 17:34:24 2004
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon Oct  4 17:34:31 2004
Subject: [R-SIG-Mac] Memory length in C
In-Reply-To: <BD87294F.1C08%mraijmakers@fmg.uva.nl>
References: <BD87294F.1C08%mraijmakers@fmg.uva.nl>
Message-ID: <Pine.A41.4.61.0410040832200.92704@homer10.u.washington.edu>

On Mon, 4 Oct 2004, Maartje Raijmakers wrote:

>
>
> I suspect memory problems. Therefore I want to do the following, but I don't
> know how:
>
> I use C - routines which I call from R with .C (and C routines that are
> called from fortran by lsoda in the odesolve package)
> One of these C routines has as an argument a pointer to an array of doubles.
>
> Now, I want to check the length of this array within the C-routine.
> Does anyone know how I should do that?
>

You can't. The C pointer doesn't contain any information about the length 
of the array -- it has to be passed in as a separate argument.

To detect errors in the length of the array you can put extra entries on 
the end of the array and see if they are overwritten.

 	-thomas

From deleeuw at stat.ucla.edu  Mon Oct  4 21:31:18 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Mon Oct  4 21:31:09 2004
Subject: [R-SIG-Mac] R (batteries included) on http://gifi.stat.ucla.edu/pub
Message-ID: <F6AA6428-163B-11D9-BA47-000A95A67E82@stat.ucla.edu>

The 10-04-04 version has some important changes. First, we'll drop the  
hack which allows you to use Quartz graphics from the Terminal and  
Emacs versions. Thus we go back to X11 graphics for those GUI's, and we  
drop support for AquaTclTk. Second, I'll use the new Aqua GUI for R  
contributed by Stefano and Simon. Third, there are now over 570  
packages, all recompiled for R-2.0.0. The installer is a meta-package,  
which installs (by default) R-dist with recommended packages, the Cocoa  
R.app, and support dynamic libraries. You can also use it to optionally  
install Carbon Emacs and GTK+OSX.
===
Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
------------------------- 
        
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1416 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20041004/3cd50acc/attachment.bin
From stefano.iacus at unimi.it  Mon Oct  4 23:14:01 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Mon Oct  4 23:14:04 2004
Subject: [R-SIG-Mac] R (batteries included) on
	http://gifi.stat.ucla.edu/pub
In-Reply-To: <F6AA6428-163B-11D9-BA47-000A95A67E82@stat.ucla.edu>
References: <F6AA6428-163B-11D9-BA47-000A95A67E82@stat.ucla.edu>
Message-ID: <509AE655-164A-11D9-82D8-000A95C87F66@unimi.it>

Thanks Jan.
Just a side note: the final version of the Cocoa R.app will be  
available officially on Oct 15th as me and Simon are still finishing of  
implementing final details.
An official statement will follow to announce this.

stefano

On Oct 4, 2004, at 9:31 PM, Jan de Leeuw wrote:

> The 10-04-04 version has some important changes. First, we'll drop the  
> hack which allows you to use Quartz graphics from the Terminal and  
> Emacs versions. Thus we go back to X11 graphics for those GUI's, and  
> we drop support for AquaTclTk. Second, I'll use the new Aqua GUI for R  
> contributed by Stefano and Simon. Third, there are now over 570  
> packages, all recompiled for R-2.0.0. The installer is a meta-package,  
> which installs (by default) R-dist with recommended packages, the  
> Cocoa R.app, and support dynamic libraries. You can also use it to  
> optionally install Carbon Emacs and GTK+OSX.
> ===
> Jan de Leeuw; Professor and Chair, UCLA Department of Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 9432 Boelter Hall, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email:  
> deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>
> ----------------------------------------------------------------------- 
> --------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>
> ----------------------------------------------------------------------- 
> --------------------------          
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From deleeuw at stat.ucla.edu  Thu Oct  7 21:04:45 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Thu Oct  7 21:04:59 2004
Subject: [R-SIG-Mac] R-2.0.0-batteries-included on
	http://gifi.stat.ucla.edu/pub
Message-ID: <C0C5056C-1893-11D9-81C2-000D932C7F48@stat.ucla.edu>


The 10-06-04 version updates R to R-2.0.0, updates about 25 CRAN  
packages, and is compiled using Apple's gcc-3.3 and a version of  
g77-3.4 which only uses static libraries. This takes care of some nasty
dependencies.

===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8125 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
------------------------- 
        
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1066 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20041007/33ba239f/attachment.bin
From jago at mclink.it  Sun Oct 10 15:23:20 2004
From: jago at mclink.it (stefano iacus)
Date: Sun Oct 10 15:23:36 2004
Subject: [R-SIG-Mac] R.app screenshots
Message-ID: <8DA253C1-1ABF-11D9-A6D6-000A95C87F66@mclink.it>

For the ones waiting for the new (Cocoa) R.app you can look at some 
screenshots at http://www.economia.unimi.it/R

see you on Oct 15th.

stefano & simon

From lists at revelle.net  Sun Oct 10 18:17:29 2004
From: lists at revelle.net (William Revelle)
Date: Sun Oct 10 18:17:40 2004
Subject: [R-SIG-Mac] R.app screenshots
In-Reply-To: <8DA253C1-1ABF-11D9-A6D6-000A95C87F66@mclink.it>
References: <8DA253C1-1ABF-11D9-A6D6-000A95C87F66@mclink.it>
Message-ID: <p0611043bbd8f10c0dd64@[165.124.160.222]>

>For the ones waiting for the new (Cocoa) R.app you can look at some 
>screenshots at http://www.economia.unimi.it/R
>
>see you on Oct 15th.
>
>stefano & simon

wow!

It will be difficult to wait!

Thanks for the great work.

Bill


-- 
----------------------------
William Revelle 
http://pmc.psych.northwestern.edu/revelle.html    
Department of Psychology, Northwestern University
Personality Project: http://personality-project.org/personality.html

From deleeuw at stat.ucla.edu  Sun Oct 10 21:48:44 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Sun Oct 10 21:49:00 2004
Subject: [R-SIG-Mac] R-2.0.0 patched and batteries included
Message-ID: <6494B0D2-1AF5-11D9-91F4-000D932C7F48@stat.ucla.edu>

The 10-10-04 version updates R to R-patched, Emacs and Tcl/Tk to the  
current CVS versions,
and ESS to 5.2.3. It gives a resource fork to /usr/local/bin/emacs so  
it can be opened from the terminal,
it includes dylibs for jpeg and png, and updates various CRAN packages.  
Since I switched to a
g77 which does not use shared libraries many packages stopped working,  
so I included
libg2c.dylib again (but eventually I will recompile everything without  
it).

===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8125 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From stefano.iacus at unimi.it  Fri Oct 15 22:01:39 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Fri Oct 15 22:01:49 2004
Subject: [R-SIG-Mac] *** R-2.0.0 for Mac OS X released on Oct-15-2004 ***
Message-ID: <06F340A6-1EE5-11D9-B035-000A95C87F66@unimi.it>

*** R-2.0.0 for Mac OS X released on Oct-15-2004 ***

The last binary build of R for Mac OS X have just been released on CRAN.

Apart from specific innovations in R itself (see the official R-2.0.0 
announcement) this new build provides a brand new Cocoa GUI designed 
and implemented from scratch with many new features. Among these: 
internal editor with syntax highlighting, code and file completion, 
enhanced AppleScript support, new packages installer and manager, new 
data editor and browser, internal html help system, clickable history 
panel. This version of the GUI requires Mac OS X 10.3+. Mac OS X 10.2+ 
users can still use R-2.0.0 via the old carbon GUI (the new build 
contains installers for both Mac OS X 10.2+ and 10.3+).
The new Cocoa GUI has been designed jointly by Stefano M. Iacus and 
Simon Urbanek.


R for Mac OS X can be found at:  http://cran.R-project.org/bin/macosx 
and will be propagated in the next few hours/days on the CRAN network.



For the "R Foundation for Statistical Computing"

	Stefano M. Iacus



More information on R at:  http://www.R-project.org

From jago at mclink.it  Fri Oct 15 22:55:49 2004
From: jago at mclink.it (stefano iacus)
Date: Fri Oct 15 22:56:03 2004
Subject: [R-SIG-Mac] *** R-2.0.0 for Mac OS X (II) ***
Message-ID: <98129B4A-1EEC-11D9-B035-000A95C87F66@mclink.it>

(apologizes for cross-posting)

Two side notes on *** R-2.0.0 for Mac OS X released on Oct-15-2004 *** 
announcement
1. this is the "latest" and not the "last" build for Mac OS X
2. the package is on its way to CRAN, so please wait few more moments 
to get it.

stefano

From bellis at hsph.harvard.edu  Sat Oct 16 00:00:00 2004
From: bellis at hsph.harvard.edu (Byron Ellis)
Date: Sat Oct 16 00:00:13 2004
Subject: [R-SIG-Mac] Weird R-devel build problem?
Message-ID: <8F715323-1EF5-11D9-B678-000D93C24D64@hsph.harvard.edu>

Hoping Jan or someone has an idea of where this guy is coming from:

gcc -framework Carbon -mdynamic-no-pic -L/usr/local/lib -o R.bin  
Rmain.o  -L../../lib -lR
ld: /usr/lib/gcc/darwin/3.3/libgcc.a(_fixunsdfdi.o) illegal reference 
to symbol: ___floatdidf defined in indirectly referenced dynamic 
library /usr/local/lib/libgcc_s.1.0.dylib

AFAIK floatdidf is defined in libSystem (which should be automagically 
linked). This is a clean build from today's checkout (though its been 
stuck here for a while---I just haven't had a chance to fix things)


---
Byron Ellis (bellis@hsph.harvard.edu)
"Oook" -- The Librarian

From stefano.iacus at unimi.it  Sat Oct 16 00:08:52 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Sat Oct 16 00:08:55 2004
Subject: [R-SIG-Mac] Weird R-devel build problem?
In-Reply-To: <8F715323-1EF5-11D9-B678-000D93C24D64@hsph.harvard.edu>
References: <8F715323-1EF5-11D9-B678-000D93C24D64@hsph.harvard.edu>
Message-ID: <CC9394B5-1EF6-11D9-B035-000A95C87F66@unimi.it>

replace g77 with the latest one from Khanna's pages. It should be 3.4.2 
(non experimental).
Remove manually g77 3.4.1 from /usr/local/lib/gcc/darwin-xxx/

stefano

On Oct 16, 2004, at 12:00 AM, Byron Ellis wrote:

> Hoping Jan or someone has an idea of where this guy is coming from:
>
> gcc -framework Carbon -mdynamic-no-pic -L/usr/local/lib -o R.bin  
> Rmain.o  -L../../lib -lR
> ld: /usr/lib/gcc/darwin/3.3/libgcc.a(_fixunsdfdi.o) illegal reference 
> to symbol: ___floatdidf defined in indirectly referenced dynamic 
> library /usr/local/lib/libgcc_s.1.0.dylib
>
> AFAIK floatdidf is defined in libSystem (which should be automagically 
> linked). This is a clean build from today's checkout (though its been 
> stuck here for a while---I just haven't had a chance to fix things)
>
>
> ---
> Byron Ellis (bellis@hsph.harvard.edu)
> "Oook" -- The Librarian
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From bellis at hsph.harvard.edu  Sat Oct 16 00:38:04 2004
From: bellis at hsph.harvard.edu (Byron Ellis)
Date: Sat Oct 16 00:38:09 2004
Subject: [R-SIG-Mac] Weird R-devel build problem?
In-Reply-To: <CC9394B5-1EF6-11D9-B035-000A95C87F66@unimi.it>
References: <8F715323-1EF5-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<CC9394B5-1EF6-11D9-B035-000A95C87F66@unimi.it>
Message-ID: <E0F12092-1EFA-11D9-B678-000D93C24D64@hsph.harvard.edu>

Great, thanks!

On Oct 15, 2004, at 3:08 PM, stefano iacus wrote:

> replace g77 with the latest one from Khanna's pages. It should be 
> 3.4.2 (non experimental).
> Remove manually g77 3.4.1 from /usr/local/lib/gcc/darwin-xxx/
>
> stefano
>
> On Oct 16, 2004, at 12:00 AM, Byron Ellis wrote:
>
>> Hoping Jan or someone has an idea of where this guy is coming from:
>>
>> gcc -framework Carbon -mdynamic-no-pic -L/usr/local/lib -o R.bin  
>> Rmain.o  -L../../lib -lR
>> ld: /usr/lib/gcc/darwin/3.3/libgcc.a(_fixunsdfdi.o) illegal reference 
>> to symbol: ___floatdidf defined in indirectly referenced dynamic 
>> library /usr/local/lib/libgcc_s.1.0.dylib
>>
>> AFAIK floatdidf is defined in libSystem (which should be 
>> automagically linked). This is a clean build from today's checkout 
>> (though its been stuck here for a while---I just haven't had a chance 
>> to fix things)
>>
>>
>> ---
>> Byron Ellis (bellis@hsph.harvard.edu)
>> "Oook" -- The Librarian
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
---
Byron Ellis (bellis@hsph.harvard.edu)
"Oook" -- The Librarian

From chabotd at globetrotter.net  Sun Oct 17 12:11:03 2004
From: chabotd at globetrotter.net (Denis Chabot)
Date: Sun Oct 17 12:11:11 2004
Subject: [R-SIG-Mac] R 2 questions
In-Reply-To: <200410161002.i9GA2fqa028991@hypatia.math.ethz.ch>
References: <200410161002.i9GA2fqa028991@hypatia.math.ethz.ch>
Message-ID: <DA5A16BE-2024-11D9-A647-000393707CF2@globetrotter.net>

Hi,

I downloaded the new R 2.0 and installed it on an iMac with OS X 
10.3.5. I noticed that the preferences option in the R menu was grey 
and unavailable. Is this normal?

Also, upon installing R 2.0 and before adding any package, I tried 
twice to select "Package Manager" under "Packages and Data" and both 
times R quit on me. The third time I selected Package Installer under 
the same menu and added a few packages. Now I can select "Package 
Manager" to chose which ones to load.

I don't know if the unexpected quits were due to the few packages that 
were there from my previous use of R 1.9.1. Some of these I updated to 
newer versions when I used the Package Installer, so maybe they no 
longer cause that crash. I was wondering if other people get this crash 
after installing R 2.0 and before adding-installing new packages...

Thanks to all those who improve the R experience on Mac,

Denis Chabot

From chabotd at globetrotter.net  Sun Oct 17 13:09:09 2004
From: chabotd at globetrotter.net (Denis Chabot)
Date: Sun Oct 17 13:09:20 2004
Subject: [R-SIG-Mac] update to re: R 2 Questions
Message-ID: <F8073A5F-202C-11D9-A647-000393707CF2@globetrotter.net>

hi,

I launched R 2 again and choosing  "Package Manager" under "Packages 
and Data" caused R to quit again. So the solution in my previous 
message was temporary or possibly not a solution at all.

I removed the R folder in my account's Library Folder. I had at least 
one R package present twice (for instance the new R 2 install puts mgcv 
in the Library folder inside R frameworks, and I had it in my account 
at well.

I am not sure if this helped or not, but it was NECESSARY that I 
removed the labdsv package for R's Package Manager command to work 
properly. I had compiled that package with great difficulty last 
spring, and only succeeded thanks to the help from people from this 
list. I was told the source for this package was not very elegantly put 
together...

I do hope that package will be updated as I'd very much like to use it.

Sorry if my previous message caused some of you to work for nothing, 
although maybe this shows that the Package Manager should be more 
robust when it finds things it does not like in a user's account.

Sincerely,

Denis Chabot

From deleeuw at stat.ucla.edu  Sun Oct 17 21:44:51 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Sun Oct 17 21:45:10 2004
Subject: [R-SIG-Mac] R-2.0.0-Batteries-Included
Message-ID: <02B5AE03-2075-11D9-A49B-000D932C7F48@stat.ucla.edu>

The 10-15-04 version recompiles g77 based packages so they no longer  
depend on
libg2c and libgcc dylibs. It includes dynamic libraries to support  
ODBC, gdal,
gmp, mpi, lam, and curl. It also recompiles RSPerl, which no longer  
depends on a
local version of Perl 5.8.4. And it now has a working version of  
RXLisp. There are
about 580 packages included. R.app is updated to the latest version.

===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8125 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From shiboski at pacbell.net  Mon Oct 18 23:05:23 2004
From: shiboski at pacbell.net (Shiboski)
Date: Mon Oct 18 23:26:11 2004
Subject: [R-SIG-Mac] history loading in 2.0
Message-ID: <6D55F09F-2149-11D9-AB3F-000393D4B002@pacbell.net>

The new front-end looks really good, and has some nice
new features. I noticed that the "load history" function
doesn't see .Rhistory files, presumably because these are
hidden by the Finder. Is there a workaround other than
activating "ShowAllFiles" in the plist? Many people do not
like seeing dot files, etc. in the Finder windows.

Thanks,

-S

--
Stephen Shiboski  -------------------  steve@biostat.ucsf.edu
Division of Biostatistics                 voice: 415-476-0533
University of California, San Francisco     fax: 415-476-6014
500 Parnassus Avenue, MU 420-W;  San Francisco, CA 94143-0560

From stefano.iacus at unimi.it  Mon Oct 18 23:37:15 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Mon Oct 18 23:37:19 2004
Subject: [R-SIG-Mac] history loading in 2.0
In-Reply-To: <6D55F09F-2149-11D9-AB3F-000393D4B002@pacbell.net>
References: <6D55F09F-2149-11D9-AB3F-000393D4B002@pacbell.net>
Message-ID: <E0F894E6-214D-11D9-AC74-000A95C87F66@unimi.it>

the "traditional" history files are not loadable with the new gui 
unless typing loadhistory() in the console.
The reason is that this GUI allows for multiline history which is not 
backward compatible.
We will add a "import" button to allow users to load old history files.
stefano

On Oct 18, 2004, at 11:05 PM, Shiboski wrote:

> The new front-end looks really good, and has some nice
> new features. I noticed that the "load history" function
> doesn't see .Rhistory files, presumably because these are
> hidden by the Finder. Is there a workaround other than
> activating "ShowAllFiles" in the plist? Many people do not
> like seeing dot files, etc. in the Finder windows.
>
> Thanks,
>
> -S
>
> --
> Stephen Shiboski  -------------------  steve@biostat.ucsf.edu
> Division of Biostatistics                 voice: 415-476-0533
> University of California, San Francisco     fax: 415-476-6014
> 500 Parnassus Avenue, MU 420-W;  San Francisco, CA 94143-0560
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From jtnews1 at biomserv.univ-lyon1.fr  Tue Oct 19 16:10:32 2004
From: jtnews1 at biomserv.univ-lyon1.fr (jtnews1@biomserv.univ-lyon1.fr)
Date: Tue Oct 19 16:10:42 2004
Subject: [R-SIG-Mac] R 2.0.0 Change Working Directory
Message-ID: <p06002001bd9abda1f437@[134.214.34.24]>

Hello,

The new version of R-2.0.O for MacOS X is very nice, congratulations
for this hard work.

Trying to use the "Change Working Directory" command of the "Misc" menu,
I want to select /Users/jthioulo/Desktop/Ranjard, so I navigate to this
folder, select it, click Open, and it is /Users/jthioulo/Desktop that is
selected as working directory (i.e. the folder that is one level upper).

How do I select the wanted working directory ? I can do it only if it
contains a folder ?

The same command also often does not change the working directory at all,
or sets it to a folder different from the one which was selected. For
example, I choose "/Users/jthioulo/Desktop/Ranjard/Folder", and my working directory is set to "/Users/jthioulo/Desktop/Digest Viewer". 

Using setwd() with the command line always works.

Also, what is the format of the graphics that are copied to the clipboard ?
In the Windows version, the emf format allows editing the objects
composing the graphics, and that would be nice to have this possibility
on Mac too.

Thanks,
Jean

-- 
Jean Thioulouse - Labo. BBE, UMR CNRS 5558, Equipe "Ecologie Statistique"
Universite Lyon 1,  Batiment G. Mendel, 69622 Villeurbanne Cedex,  France
Tel: (33) 4 72 43 27 56                           Fax: (33) 4 72 43 27 56
                 http://pbil.univ-lyon1.fr/JTHome.html

From Simon.Urbanek at math.uni-augsburg.de  Tue Oct 19 16:31:18 2004
From: Simon.Urbanek at math.uni-augsburg.de (Simon Urbanek)
Date: Tue Oct 19 16:31:27 2004
Subject: [R-SIG-Mac] R 2.0.0 Change Working Directory
In-Reply-To: <p06002001bd9abda1f437@[134.214.34.24]>
References: <p06002001bd9abda1f437@[134.214.34.24]>
Message-ID: <8A13A661-21DB-11D9-8E89-000A957CEFBA@math.uni-augsburg.de>

On Oct 19, 2004, at 4:10 PM, jtnews1@biomserv.univ-lyon1.fr wrote:

> Trying to use the "Change Working Directory" command of the "Misc" 
> menu,
> I want to select /Users/jthioulo/Desktop/Ranjard, so I navigate to this

Thank you for the report, this was (hopefully) fixed now in the nightly 
build (available at http://www.rosuda.org/R/nightly/R-GUI.dmg ).

> Also, what is the format of the graphics that are copied to the 
> clipboard ?
> In the Windows version, the emf format allows editing the objects
> composing the graphics, and that would be nice to have this possibility
> on Mac too.

AFAICS multi-format clipboard entry is created with TIFF and PDF 
entries - which one is used depends on the application that you paste 
into. The PDF version contains all individual objects and is editable 
with the appropriate programs.

Cheers,
Simon

---
Simon Urbanek
Department of computer oriented statistics and data analysis
University of Augsburg
Universit?tsstr. 14
86135 Augsburg
Germany

Tel: +49-821-598-2236
Fax: +49-821-598-2200

Simon.Urbanek@Math.Uni-Augsburg.de
http://simon.urbanek.info

From pdmmac at mcmaster.ca  Tue Oct 19 16:32:32 2004
From: pdmmac at mcmaster.ca (Peter Macdonald)
Date: Tue Oct 19 16:32:53 2004
Subject: [R-SIG-Mac] R 2.0.0 Change Working Directory
In-Reply-To: <p06002001bd9abda1f437@[134.214.34.24]>
Message-ID: <BD9A9DC0.7404%pdmmac@mcmaster.ca>

I also found that problem, I have been going one level above then giving the
rest of the path when I load the workspace from the console.
-- 
*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*
 Peter D.M. Macdonald, D.Phil.      McMaster University
 Professor of Math & Statistics     Hamilton, Ontario, Canada L8S 4K1
*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*~*


> From: jtnews1@biomserv.univ-lyon1.fr
> Date: Tue, 19 Oct 2004 16:10:32 +0200
> To: r-sig-mac@stat.math.ethz.ch
> Subject: [R-SIG-Mac] R 2.0.0 Change Working Directory
> 
> Hello,
> 
> The new version of R-2.0.O for MacOS X is very nice, congratulations
> for this hard work.
> 
> Trying to use the "Change Working Directory" command of the "Misc" menu,
> I want to select /Users/jthioulo/Desktop/Ranjard, so I navigate to this
> folder, select it, click Open, and it is /Users/jthioulo/Desktop that is
> selected as working directory (i.e. the folder that is one level upper).

From Simon.Urbanek at math.uni-augsburg.de  Tue Oct 19 16:44:08 2004
From: Simon.Urbanek at math.uni-augsburg.de (Simon Urbanek)
Date: Tue Oct 19 16:44:20 2004
Subject: [R-SIG-Mac] R 2.0.0 Change Working Directory
In-Reply-To: <8A13A661-21DB-11D9-8E89-000A957CEFBA@math.uni-augsburg.de>
References: <p06002001bd9abda1f437@[134.214.34.24]>
	<8A13A661-21DB-11D9-8E89-000A957CEFBA@math.uni-augsburg.de>
Message-ID: <54EB62AE-21DD-11D9-8E89-000A957CEFBA@math.uni-augsburg.de>

oops, wrong link

On Oct 19, 2004, at 4:31 PM, Simon Urbanek wrote:

> Thank you for the report, this was (hopefully) fixed now in the 
> nightly build (available at http://www.rosuda.org/R/nightly/R-GUI.dmg 
> ).

The URL should read

http://www.rosuda.org/R/nightly/other/R-GUI.dmg

my global nightly builds page is

http://www.rosuda.org/R/nightly/

but the correct link should be always at Stefano's Mac R developer page:

http://www.economia.unimi.it/R/

Simon

From wr at revelle.net  Tue Oct 19 18:30:43 2004
From: wr at revelle.net (William Revelle)
Date: Tue Oct 19 19:01:29 2004
Subject: [R-SIG-Mac] clarity of fonts in graphics?
Message-ID: <p06110405bd9aed5ab9ab@[192.168.1.41]>

Dear R-Mac developers.

I am now using R 2.0.0 and find it a very nice improvement over 
1.9.1.  Thank you for all of the work.

  However, I do have a problem with the clarity of the fonts in the 
Quartz window.  I am sure that I am missing something, but what?


My problem is best seen in the following code:

x=rnorm(1000)
quartz(height=6,width=9)      #make a window suitable for printing

par(mfrow=c(1,1))
hist(x,xlab="Horizontal label is clear", main="and Title is as well") 
#this one is fine


par(mfrow=c(2,2))
hist(x,xlab="Horizontal label is still clear", main="and Title is") 
#as is this one

par(mfrow=c(3,2))
hist(x,xlab="Horizontal label is no longer clear", main="but Title 
is") #but this one blurs the xlab

(obviously I am leaving out the other histograms in the 2,2 and 3,2 cases.)

This same code produced crystal clear graphics in 1.9.1

Bill


-- 
----------------------------
William Revelle               http://pmc.psych.northwestern.edu/revelle.html
Department of Psychology, Northwestern University
Personality Project: http://personality-project.org/personality.html

From buerkle at uwyo.edu  Tue Oct 19 19:20:46 2004
From: buerkle at uwyo.edu (Alex Buerkle)
Date: Tue Oct 19 19:20:57 2004
Subject: [R-SIG-Mac] clarity of fonts in graphics?
In-Reply-To: <p06110405bd9aed5ab9ab@[192.168.1.41]>
References: <p06110405bd9aed5ab9ab@[192.168.1.41]>
Message-ID: <36CDB664-21F3-11D9-A4C8-000D9331449A@uwyo.edu>


Bill,

I believe it has to do with the Font Smoothing of your display as 
configured in the Appearance section of System Preferences.  Fonts 
smaller than some set value are not smoothed for the display.

Try your R commands again after you change the value to Font Size 4.  
It made a difference on my display.

-Alex

On Oct 19, 2004, at 10:30 AM, William Revelle wrote:

> par(mfrow=c(3,2))
> hist(x,xlab="Horizontal label is no longer clear", main="but Title 
> is") #but this one blurs the xlab

From a.beckerman at sheffield.ac.uk  Tue Oct 19 19:22:01 2004
From: a.beckerman at sheffield.ac.uk (Andrew Beckerman)
Date: Tue Oct 19 19:22:00 2004
Subject: [R-SIG-Mac] help window activity/use
In-Reply-To: <E0F894E6-214D-11D9-AC74-000A95C87F66@unimi.it>
References: <6D55F09F-2149-11D9-AB3F-000393D4B002@pacbell.net>
	<E0F894E6-214D-11D9-AC74-000A95C87F66@unimi.it>
Message-ID: <6382FC24-21F3-11D9-95CC-000A95CD7F02@sheffield.ac.uk>

Hi - great job on the new interface.  Very nice.  One minor quibbles  
with the help windows.

First, when i spawn a new help window (e.g. ?lm), the window is not  
active - it will not respond to the page up and down keys or arrows....  
instead the cursor location defaults to the search box, which can be  
nice, but this also prevents scrolling through the pages immediately  
(like getting to the syntax and examples....). I now realise a single  
hit of the tab key activates the window, but perhaps the other way  
around is more logical?

Cheers
andrew

------------------------------------------------------------------------ 
---------
Dr. Andrew Beckerman
Department of Animal and Plant Sciences, University of Sheffield,
Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
http://www.shef.ac.uk/beckslab
------------------------------------------------------------------------ 
----------

From lists at revelle.net  Wed Oct 20 16:56:00 2004
From: lists at revelle.net (William Revelle)
Date: Wed Oct 20 16:56:10 2004
Subject: [R-SIG-Mac] clarity of fonts in graphics?
In-Reply-To: <36CDB664-21F3-11D9-A4C8-000D9331449A@uwyo.edu>
References: <p06110405bd9aed5ab9ab@[192.168.1.41]>
	<36CDB664-21F3-11D9-A4C8-000D9331449A@uwyo.edu>
Message-ID: <p0611040dbd9c2bcfbd52@[192.168.1.41]>

Alex and the R-Mac list

Thanks.  That was the problem.  Probably by making the quartz device 
so Mac compliant the font smoothing issue was raised.

And once again thanks to Stefano and Simon for such a good implementation.


Bill


>Bill,
>
>I believe it has to do with the Font Smoothing of your display as 
>configured in the Appearance section of System Preferences.  Fonts 
>smaller than some set value are not smoothed for the display.
>
>Try your R commands again after you change the value to Font Size 4. 
>It made a difference on my display.
>
>-Alex
>
>On Oct 19, 2004, at 10:30 AM, William Revelle wrote:
>
>>par(mfrow=c(3,2))
>>hist(x,xlab="Horizontal label is no longer clear", main="but Title 
>>is") #but this one blurs the xlab
>
>

-- 
----------------------------
William Revelle 
http://pmc.psych.northwestern.edu/revelle.html    
Department of Psychology, Northwestern University
Personality Project: http://personality-project.org/personality.html

From stefano.iacus at unimi.it  Wed Oct 20 17:15:46 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Wed Oct 20 17:16:04 2004
Subject: [R-SIG-Mac] Re: r 2.0.0 for osx bug
In-Reply-To: <C7DB81BC-22C0-11D9-8FBE-000A95994A2C@Brown.edu>
References: <C7DB81BC-22C0-11D9-8FBE-000A95994A2C@Brown.edu>
Message-ID: <EAEFD6D1-22AA-11D9-AC74-000A95C87F66@unimi.it>


On Oct 20, 2004, at 7:52 PM, Alan Olav Bergland wrote:

> Just wanted to send a bug along to you two:
>
> (1)
> 	When I copy a 104 line script from BBEdit to the script editor in the 
> new GUI, after loading a ~12MB workspace file, the following error 
> message is displayed in the output window:
>
> 2004-10-20 10:49:59.733 R[409] *** NSTimer discarding exception 
> 'NSRangeException' (reason '*** NSRunStorage, 
> _NSBlockNumberForIndex(): index (6168) beyond array bounds (2000)') 
> that raised during firing of timer with target 3c28a0 and selector 
> 'runRELP:'
>
we are trying to understand why this is happening, but it's a know bug.
To bypass it, just press "ESC" after the error and it should work, 
eventually re-paste the commands.

> Then, the R console does not respond to commands.
>
>
> (2)  the working directory is reset to the root each time I open R.

this is in the to-do list.
Please use r-sig-mac for any further report.
thanks
stefano

>
> Otherwise, very, very nice.
>
> Cheers,
> Alan Bergland
>
>

From bellis at hsph.harvard.edu  Thu Oct 21 09:00:32 2004
From: bellis at hsph.harvard.edu (Byron Ellis)
Date: Thu Oct 21 09:00:41 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
Message-ID: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>

First off, many many thanks to Stefano and Simon for their hard work 
making OS X a first-class R citizen. Great work guys!

Second, I'm a lazy sort of guy (you may have noticed...) and I tend to 
click at random on the R Console to activate it, which has the 
unfortunate effect of moving the insertion point, rendering the 
keyboard more-or-less useless. My solution, in the attached patch, 
makes a small change to the RController that inserts the text at the 
end of the console buffer and moves the insertion point to the end when 
text is entered within the committed text region.


-------------- next part --------------
A non-text attachment was scrubbed...
Name: typing.diff
Type: application/octet-stream
Size: 835 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20041021/b0e43aac/typing.obj
-------------- next part --------------

---
Byron Ellis (bellis@hsph.harvard.edu)
"Oook" -- The Librarian
From jago at mclink.it  Thu Oct 21 09:46:17 2004
From: jago at mclink.it (stefano iacus)
Date: Thu Oct 21 09:46:31 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
Message-ID: <4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>

I'll have a look, but you can just press CMD+1 to activate the keyb.

stefano

On Oct 21, 2004, at 9:00 AM, Byron Ellis wrote:

> First off, many many thanks to Stefano and Simon for their hard work 
> making OS X a first-class R citizen. Great work guys!
>
> Second, I'm a lazy sort of guy (you may have noticed...) and I tend to 
> click at random on the R Console to activate it, which has the 
> unfortunate effect of moving the insertion point, rendering the 
> keyboard more-or-less useless. My solution, in the attached patch, 
> makes a small change to the RController that inserts the text at the 
> end of the console buffer and moves the insertion point to the end 
> when text is entered within the committed text region.
>
>
> <typing.diff>
> ---
> Byron Ellis (bellis@hsph.harvard.edu)
> "Oook" -- The Librarian_______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From bellis at hsph.harvard.edu  Thu Oct 21 09:53:39 2004
From: bellis at hsph.harvard.edu (Byron Ellis)
Date: Thu Oct 21 09:53:49 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
Message-ID: <520324C1-2336-11D9-B678-000D93C24D64@hsph.harvard.edu>

That only works if you're in R... and doesn't do anything if the 
console is already focused (i.e. it doesn't move the insertion point)

On Oct 21, 2004, at 12:46 AM, stefano iacus wrote:

> I'll have a look, but you can just press CMD+1 to activate the keyb.
>
> stefano
>
> On Oct 21, 2004, at 9:00 AM, Byron Ellis wrote:
>
>> First off, many many thanks to Stefano and Simon for their hard work 
>> making OS X a first-class R citizen. Great work guys!
>>
>> Second, I'm a lazy sort of guy (you may have noticed...) and I tend 
>> to click at random on the R Console to activate it, which has the 
>> unfortunate effect of moving the insertion point, rendering the 
>> keyboard more-or-less useless. My solution, in the attached patch, 
>> makes a small change to the RController that inserts the text at the 
>> end of the console buffer and moves the insertion point to the end 
>> when text is entered within the committed text region.
>>
>>
>> <typing.diff>
>> ---
>> Byron Ellis (bellis@hsph.harvard.edu)
>> "Oook" -- The Librarian_______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
---
Byron Ellis (bellis@hsph.harvard.edu)
"Oook" -- The Librarian

From jtnews1 at biomserv.univ-lyon1.fr  Thu Oct 21 10:12:57 2004
From: jtnews1 at biomserv.univ-lyon1.fr (jtnews1@biomserv.univ-lyon1.fr)
Date: Thu Oct 21 10:13:51 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
Message-ID: <p06002000bd9d1be8ae6d@[134.214.34.24]>

Pressing CMD+1 does not change the fact that, when you click in the
console window, the insertion point is moved to the line where the
click occured. This makes it impossible to type new commands, unless
you click on the last input line, which is not easy, or type a carriage
return, which means that the command you just typed before this carriage
return is lost.

Why is the insertion point moved when a click occurs in the console
window ? I think it should stay at the prompt just after the last
output, like when using the terminal. Any keystroke should be echoed
on the last line, and not "eaten" by the console.

Jean

On Oct 21, 2004, at 9:00 AM, stefano iacus wrote:

>I'll have a look, but you can just press CMD+1 to activate the keyb.
>
>stefano
>
>On Oct 21, 2004, at 9:00 AM, Byron Ellis wrote:
>
>>First off, many many thanks to Stefano and Simon for their hard 
>>work making OS X a first-class R citizen. Great work guys!
>>
>>Second, I'm a lazy sort of guy (you may have noticed...) and I tend 
>>to click at random on the R Console to activate it, which has the 
>>unfortunate effect of moving the insertion point, rendering the 
>>keyboard more-or-less useless. My solution, in the attached patch, 
>>makes a small change to the RController that inserts the text at 
>>the end of the console buffer and moves the insertion point to the 
>>end when text is entered within the committed text region.
>>
>>


-- 
Jean Thioulouse - Labo. BBE, UMR CNRS 5558, Equipe "Ecologie Statistique"
Universite Lyon 1,  Batiment G. Mendel, 69622 Villeurbanne Cedex,  France
Tel: (33) 4 72 43 27 56                           Fax: (33) 4 72 43 27 56
                 http://pbil.univ-lyon1.fr/JTHome.html

From bellis at hsph.harvard.edu  Thu Oct 21 10:25:37 2004
From: bellis at hsph.harvard.edu (Byron Ellis)
Date: Thu Oct 21 10:25:48 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <p06002000bd9d1be8ae6d@[134.214.34.24]>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
	<p06002000bd9d1be8ae6d@[134.214.34.24]>
Message-ID: <C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>

The insertion point moves because its part of the selection handling 
routines for NSTextView. Short of a completely custom terminal 
implementation there's no really good way of suppressing it without 
breaking the selection behavior. I'm pretty sure we like all of the 
selection behavior. Hence my little patch, which does not swallow 
typing, rather it does exactly what you suggest--append the typing to 
the current line (and reset the insertion point while we're at it).

I'm not certain how it interacts with the history (up-arrow, 
down-arrow) or command completion (tab. BTW, thanks for including 
this---the command line R on any platform AFAIK has never sensibly 
implemented tab. It completes filenames, which is just weird). I 
suspect it just ignores those inputs if the insertion point is in the 
wrong location (this is reparable, I just didn't think of it until 
now).


On Oct 21, 2004, at 1:12 AM, jtnews1@biomserv.univ-lyon1.fr wrote:

> Pressing CMD+1 does not change the fact that, when you click in the
> console window, the insertion point is moved to the line where the
> click occured. This makes it impossible to type new commands, unless
> you click on the last input line, which is not easy, or type a carriage
> return, which means that the command you just typed before this 
> carriage
> return is lost.
>
> Why is the insertion point moved when a click occurs in the console
> window ? I think it should stay at the prompt just after the last
> output, like when using the terminal. Any keystroke should be echoed
> on the last line, and not "eaten" by the console.
>
> Jean
>
> On Oct 21, 2004, at 9:00 AM, stefano iacus wrote:
>
>> I'll have a look, but you can just press CMD+1 to activate the keyb.
>>
>> stefano
>>
>> On Oct 21, 2004, at 9:00 AM, Byron Ellis wrote:
>>
>>> First off, many many thanks to Stefano and Simon for their hard
>>> work making OS X a first-class R citizen. Great work guys!
>>>
>>> Second, I'm a lazy sort of guy (you may have noticed...) and I tend
>>> to click at random on the R Console to activate it, which has the
>>> unfortunate effect of moving the insertion point, rendering the
>>> keyboard more-or-less useless. My solution, in the attached patch,
>>> makes a small change to the RController that inserts the text at
>>> the end of the console buffer and moves the insertion point to the
>>> end when text is entered within the committed text region.
>>>
>>>
>
>
> -- 
> Jean Thioulouse - Labo. BBE, UMR CNRS 5558, Equipe "Ecologie 
> Statistique"
> Universite Lyon 1,  Batiment G. Mendel, 69622 Villeurbanne Cedex,  
> France
> Tel: (33) 4 72 43 27 56                           Fax: (33) 4 72 43 27 
> 56
>                  http://pbil.univ-lyon1.fr/JTHome.html
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
---
Byron Ellis (bellis@hsph.harvard.edu)
"Oook" -- The Librarian

From bellis at hsph.harvard.edu  Thu Oct 21 10:35:07 2004
From: bellis at hsph.harvard.edu (Byron Ellis)
Date: Thu Oct 21 10:35:14 2004
Subject: [R-SIG-Mac] another (possible more controversial) patch to REditor.m
Message-ID: <1CE076BA-233C-11D9-B678-000D93C24D64@hsph.harvard.edu>

Before I head off to bed, I may as well post a patch for the real 
culprit of this evening's meanderings: the data editor. I had noticed 
(when the fan on my powerbook activated when it should have been 
sitting idle) that REditor pins the CPU while running. I tracked the 
problem down to

while(isDataEditor) [NSApp runModalForSession:session];

which pins out the CPU. Replacing this with [NSApp runModalForWindow:] 
seems to solve the problem (as it is more sophisticated than Apple's 
documentation suggests ) by not polling.

This patch also replaces the NSTableColumn identifier with an NSNumber 
rather than the NSString, eliminating the column lookup for loop. I had 
originally thought that code might be the culprit (it turns out not to 
be a problem).

Right, I'm for bed now...The Red Sox have won and I think the caffeine 
is finally wearing off. :-) (No, I'm not on the East Coast of the US 
ATM. Its really only about 1:30am, which isn't really all that late)



-------------- next part --------------
A non-text attachment was scrubbed...
Name: editor.diff
Type: application/octet-stream
Size: 2150 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20041021/e7d158be/editor.obj
-------------- next part --------------

---
Byron Ellis (bellis@hsph.harvard.edu)
"Oook" -- The Librarian
From stefano.iacus at unimi.it  Thu Oct 21 12:51:31 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Thu Oct 21 12:51:51 2004
Subject: [R-SIG-Mac] Re: Raqua
In-Reply-To: <p06020401bd9d40772e84@[193.167.134.42]>
References: <p06020401bd9d40772e84@[193.167.134.42]>
Message-ID: <2B2AC017-234F-11D9-AC74-000A95C87F66@unimi.it>

The right place is R-sig-mac mailing list.
BTW, yes there's a problem with the quartz device, in particular in the 
metric information for symbol font.
We are working on this. Thanks for you report
stefano
On Oct 21, 2004, at 12:36 PM, Markku Lehtinen wrote:

> Hello,
>
> I do not know, whether this is the right address to send bug reports 
> to.
> However, it seems that with R for Mac OS X version 2.0 expressions do 
> not
> plot properly. Something generates quite too much white space between 
> the
> characters! For example, the following:
>
> plot(1)
> text(0.8,0.8,adj=0,labels=expression(mu*s/Delta*tau),srt=0,xpd=TRUE)
>
> I attach a pdf copy of the figure I get by printing it and saving the 
> print as pdf file. In older versions of R the simple formula looks 
> much better !
>
> --
> Markku S. Lehtinen
> Research professor, University of Oulu, Sodankyl? Geophysical 
> Observatory
> T?htel?ntie 62, 99600 Sodankyl?, Finland
> tel. +358-16-619830 fax +358-16-619875 mobile +358-400-399982
> email Markku.Lehtinen@sgo.fi<Rbug.pdf>

From stefano.iacus at unimi.it  Thu Oct 21 12:52:32 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Thu Oct 21 12:52:44 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <p06002000bd9d1be8ae6d@[134.214.34.24]>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
	<p06002000bd9d1be8ae6d@[134.214.34.24]>
Message-ID: <4F68393A-234F-11D9-AC74-000A95C87F66@unimi.it>

Sure, I misread Byron's mail, you're both right. I just thought about 
console activation and not to the insertion point.
stefano

On Oct 21, 2004, at 10:12 AM, jtnews1@biomserv.univ-lyon1.fr wrote:

> Pressing CMD+1 does not change the fact that, when you click in the
> console window, the insertion point is moved to the line where the
> click occured. This makes it impossible to type new commands, unless
> you click on the last input line, which is not easy, or type a carriage
> return, which means that the command you just typed before this 
> carriage
> return is lost.
>
> Why is the insertion point moved when a click occurs in the console
> window ? I think it should stay at the prompt just after the last
> output, like when using the terminal. Any keystroke should be echoed
> on the last line, and not "eaten" by the console.
>
> Jean
>
> On Oct 21, 2004, at 9:00 AM, stefano iacus wrote:
>
>> I'll have a look, but you can just press CMD+1 to activate the keyb.
>>
>> stefano
>>
>> On Oct 21, 2004, at 9:00 AM, Byron Ellis wrote:
>>
>>> First off, many many thanks to Stefano and Simon for their hard
>>> work making OS X a first-class R citizen. Great work guys!
>>>
>>> Second, I'm a lazy sort of guy (you may have noticed...) and I tend
>>> to click at random on the R Console to activate it, which has the
>>> unfortunate effect of moving the insertion point, rendering the
>>> keyboard more-or-less useless. My solution, in the attached patch,
>>> makes a small change to the RController that inserts the text at
>>> the end of the console buffer and moves the insertion point to the
>>> end when text is entered within the committed text region.
>>>
>>>
>
>
> -- 
> Jean Thioulouse - Labo. BBE, UMR CNRS 5558, Equipe "Ecologie 
> Statistique"
> Universite Lyon 1,  Batiment G. Mendel, 69622 Villeurbanne Cedex,  
> France
> Tel: (33) 4 72 43 27 56                           Fax: (33) 4 72 43 27 
> 56
>                  http://pbil.univ-lyon1.fr/JTHome.html
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From jtnews1 at biomserv.univ-lyon1.fr  Thu Oct 21 13:43:06 2004
From: jtnews1 at biomserv.univ-lyon1.fr (Jean Thioulouse)
Date: Thu Oct 21 13:43:31 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
	<p06002000bd9d1be8ae6d@[134.214.34.24]>
	<C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>
Message-ID: <p06002003bd9d4fccd7fc@[134.214.34.24]>

I checked Byron's patch, and it works exactly like needed. It also
seems to interact well with history and command completion (which
I have just discovered and is indeed very neat).

Jean

At 1:25 -0700 21/10/04, Byron Ellis wrote:
>The insertion point moves because its part of the selection handling 
>routines for NSTextView. Short of a completely custom terminal 
>implementation there's no really good way of suppressing it without 
>breaking the selection behavior. I'm pretty sure we like all of the 
>selection behavior. Hence my little patch, which does not swallow 
>typing, rather it does exactly what you suggest--append the typing 
>to the current line (and reset the insertion point while we're at 
>it).
>
>I'm not certain how it interacts with the history (up-arrow, 
>down-arrow) or command completion (tab. BTW, thanks for including 
>this---the command line R on any platform AFAIK has never sensibly 
>implemented tab. It completes filenames, which is just weird). I 
>suspect it just ignores those inputs if the insertion point is in 
>the wrong location (this is reparable, I just didn't think of it 
>until now).
>
>
>On Oct 21, 2004, at 1:12 AM, jtnews1@biomserv.univ-lyon1.fr wrote:
>
>>Pressing CMD+1 does not change the fact that, when you click in the
>>console window, the insertion point is moved to the line where the
>>click occured. This makes it impossible to type new commands, unless
>>you click on the last input line, which is not easy, or type a carriage
>>return, which means that the command you just typed before this carriage
>>return is lost.
>>
>>Why is the insertion point moved when a click occurs in the console
>>window ? I think it should stay at the prompt just after the last
>>output, like when using the terminal. Any keystroke should be echoed
>>on the last line, and not "eaten" by the console.
>>
>>Jean
>>
>>On Oct 21, 2004, at 9:00 AM, stefano iacus wrote:
>>
>>>I'll have a look, but you can just press CMD+1 to activate the keyb.
>>>
>>>stefano
>>>
>>>On Oct 21, 2004, at 9:00 AM, Byron Ellis wrote:
>>>
>>>>First off, many many thanks to Stefano and Simon for their hard
>>>>work making OS X a first-class R citizen. Great work guys!
>>>>
>>>>Second, I'm a lazy sort of guy (you may have noticed...) and I tend
>>>>to click at random on the R Console to activate it, which has the
>>>>unfortunate effect of moving the insertion point, rendering the
>>>>keyboard more-or-less useless. My solution, in the attached patch,
>>>>makes a small change to the RController that inserts the text at
>>>>the end of the console buffer and moves the insertion point to the
>>>>end when text is entered within the committed text region.
>>>>
>>>>
>>
>>
>>--
>>Jean Thioulouse - Labo. BBE, UMR CNRS 5558, Equipe "Ecologie Statistique"
>>Universite Lyon 1,  Batiment G. Mendel, 69622 Villeurbanne Cedex,  France
>>Tel: (33) 4 72 43 27 56                           Fax: (33) 4 72 43 27 56
>>                 http://pbil.univ-lyon1.fr/JTHome.html
>>
>>_______________________________________________
>>R-SIG-Mac mailing list
>>R-SIG-Mac@stat.math.ethz.ch
>>https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>---
>Byron Ellis (bellis@hsph.harvard.edu)
>"Oook" -- The Librarian

-- 
Jean Thioulouse - Labo. BBE, UMR CNRS 5558, Equipe "Ecologie Statistique"
Universite Lyon 1,  Batiment G. Mendel, 69622 Villeurbanne Cedex,  France
Tel: (33) 4 72 43 27 56                           Fax: (33) 4 72 43 27 56
                 http://pbil.univ-lyon1.fr/JTHome.html

From maechler at stat.math.ethz.ch  Thu Oct 21 14:19:04 2004
From: maechler at stat.math.ethz.ch (Martin Maechler)
Date: Thu Oct 21 14:19:18 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
	<p06002000bd9d1be8ae6d@[134.214.34.24]>
	<C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>
Message-ID: <16759.43320.389085.741193@gargle.gargle.HOWL>

>>>>> "Byron" == Byron Ellis <bellis@hsph.harvard.edu>
>>>>>     on Thu, 21 Oct 2004 01:25:37 -0700 writes:

    Byron> <...........>

    Byron> I'm not certain how it interacts with the history (up-arrow, 
    Byron> down-arrow) or command completion (tab. BTW, thanks for including 
    Byron> this---the command line R on any platform AFAIK has never sensibly 
    Byron> implemented tab. It completes filenames, which is just weird).

that's not true for ESS (http://ESS.R-project.org/)
Tab completion on R objects has worked in ESS ``for ages''.

Martin Maechler <maechler@stat.math.ethz.ch>	http://stat.ethz.ch/~maechler/
Seminar fuer Statistik, ETH-Zentrum  LEO C16	Leonhardstr. 27
ETH (Federal Inst. Technology)	8092 Zurich	SWITZERLAND
phone: x-41-1-632-3408		fax: ...-1228			<><

From blindglobe at gmail.com  Thu Oct 21 15:15:45 2004
From: blindglobe at gmail.com (A.J. Rossini)
Date: Thu Oct 21 15:15:57 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <16759.43320.389085.741193@gargle.gargle.HOWL>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
	<p06002000bd9d1be8ae6d@134.214.34.24>
	<C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<16759.43320.389085.741193@gargle.gargle.HOWL>
Message-ID: <1abe3fa904102106152e1f9cfb@mail.gmail.com>

More importantly, it (ESS) can work for both filenames and R object names.

best,
-tony



On Thu, 21 Oct 2004 14:19:04 +0200, Martin Maechler
<maechler@stat.math.ethz.ch> wrote:
> >>>>> "Byron" == Byron Ellis <bellis@hsph.harvard.edu>
> >>>>>     on Thu, 21 Oct 2004 01:25:37 -0700 writes:
> 
>    Byron> <...........>
> 
>    Byron> I'm not certain how it interacts with the history (up-arrow,
>    Byron> down-arrow) or command completion (tab. BTW, thanks for including
>    Byron> this---the command line R on any platform AFAIK has never sensibly
>    Byron> implemented tab. It completes filenames, which is just weird).
> 
> that's not true for ESS (http://ESS.R-project.org/)
> Tab completion on R objects has worked in ESS ``for ages''.
> 
> Martin Maechler <maechler@stat.math.ethz.ch>    http://stat.ethz.ch/~maechler/
> Seminar fuer Statistik, ETH-Zentrum  LEO C16    Leonhardstr. 27
> ETH (Federal Inst. Technology)  8092 Zurich     SWITZERLAND
> phone: x-41-1-632-3408          fax: ...-1228                   <><
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


-- 
A.J. Rossini
blindglobe@gmail.com

From bellis at hsph.harvard.edu  Thu Oct 21 21:11:16 2004
From: bellis at hsph.harvard.edu (Byron Ellis)
Date: Thu Oct 21 21:11:27 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <1abe3fa904102106152e1f9cfb@mail.gmail.com>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
	<p06002000bd9d1be8ae6d@134.214.34.24>
	<C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<16759.43320.389085.741193@gargle.gargle.HOWL>
	<1abe3fa904102106152e1f9cfb@mail.gmail.com>
Message-ID: <FB4641D6-2394-11D9-B678-000D93C24D64@hsph.harvard.edu>

Of course---I had just placed ESS into the category of First (and Most 
Venerable) of the Unbundled GUIs as opposed to "command-line R." The 
rest of us will be playing catch-up with ESS for long time :-)

FWIW the code suggests that Cocoa R's console also attempts to complete 
both filenames and objects. (I haven't actually tried it).


On Oct 21, 2004, at 6:15 AM, A.J. Rossini wrote:

> More importantly, it (ESS) can work for both filenames and R object 
> names.
>
> best,
> -tony
>
>
>
> On Thu, 21 Oct 2004 14:19:04 +0200, Martin Maechler
> <maechler@stat.math.ethz.ch> wrote:
>>>>>>> "Byron" == Byron Ellis <bellis@hsph.harvard.edu>
>>>>>>>     on Thu, 21 Oct 2004 01:25:37 -0700 writes:
>>
>>    Byron> <...........>
>>
>>    Byron> I'm not certain how it interacts with the history (up-arrow,
>>    Byron> down-arrow) or command completion (tab. BTW, thanks for 
>> including
>>    Byron> this---the command line R on any platform AFAIK has never 
>> sensibly
>>    Byron> implemented tab. It completes filenames, which is just 
>> weird).
>>
>> that's not true for ESS (http://ESS.R-project.org/)
>> Tab completion on R objects has worked in ESS ``for ages''.
>>
>> Martin Maechler <maechler@stat.math.ethz.ch>    
>> http://stat.ethz.ch/~maechler/
>> Seminar fuer Statistik, ETH-Zentrum  LEO C16    Leonhardstr. 27
>> ETH (Federal Inst. Technology)  8092 Zurich     SWITZERLAND
>> phone: x-41-1-632-3408          fax: ...-1228                   <><
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
>
> -- 
> A.J. Rossini
> blindglobe@gmail.com
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
---
Byron Ellis (bellis@hsph.harvard.edu)
"Oook" -- The Librarian

From stefano.iacus at unimi.it  Thu Oct 21 22:55:25 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Thu Oct 21 22:55:38 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <FB4641D6-2394-11D9-B678-000D93C24D64@hsph.harvard.edu>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
	<p06002000bd9d1be8ae6d@134.214.34.24>
	<C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<16759.43320.389085.741193@gargle.gargle.HOWL>
	<1abe3fa904102106152e1f9cfb@mail.gmail.com>
	<FB4641D6-2394-11D9-B678-000D93C24D64@hsph.harvard.edu>
Message-ID: <87F1B150-23A3-11D9-AC74-000A95C87F66@unimi.it>


On Oct 21, 2004, at 9:11 PM, Byron Ellis wrote:

> Of course---I had just placed ESS into the category of First (and Most 
> Venerable) of the Unbundled GUIs as opposed to "command-line R." The 
> rest of us will be playing catch-up with ESS for long time :-)
>
> FWIW the code suggests that Cocoa R's console also attempts to 
> complete both filenames and objects. (I haven't actually tried it).
>
it does in fact
stefano

>
> On Oct 21, 2004, at 6:15 AM, A.J. Rossini wrote:
>
>> More importantly, it (ESS) can work for both filenames and R object 
>> names.
>>
>> best,
>> -tony
>>
>>
>>
>> On Thu, 21 Oct 2004 14:19:04 +0200, Martin Maechler
>> <maechler@stat.math.ethz.ch> wrote:
>>>>>>>> "Byron" == Byron Ellis <bellis@hsph.harvard.edu>
>>>>>>>>     on Thu, 21 Oct 2004 01:25:37 -0700 writes:
>>>
>>>    Byron> <...........>
>>>
>>>    Byron> I'm not certain how it interacts with the history 
>>> (up-arrow,
>>>    Byron> down-arrow) or command completion (tab. BTW, thanks for 
>>> including
>>>    Byron> this---the command line R on any platform AFAIK has never 
>>> sensibly
>>>    Byron> implemented tab. It completes filenames, which is just 
>>> weird).
>>>
>>> that's not true for ESS (http://ESS.R-project.org/)
>>> Tab completion on R objects has worked in ESS ``for ages''.
>>>
>>> Martin Maechler <maechler@stat.math.ethz.ch>    
>>> http://stat.ethz.ch/~maechler/
>>> Seminar fuer Statistik, ETH-Zentrum  LEO C16    Leonhardstr. 27
>>> ETH (Federal Inst. Technology)  8092 Zurich     SWITZERLAND
>>> phone: x-41-1-632-3408          fax: ...-1228                   <><
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac@stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>>
>> -- 
>> A.J. Rossini
>> blindglobe@gmail.com
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
> ---
> Byron Ellis (bellis@hsph.harvard.edu)
> "Oook" -- The Librarian
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From tpapp at Princeton.EDU  Thu Oct 21 22:40:03 2004
From: tpapp at Princeton.EDU (Tamas K Papp)
Date: Thu Oct 21 23:13:43 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <FB4641D6-2394-11D9-B678-000D93C24D64@hsph.harvard.edu>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
	<p06002000bd9d1be8ae6d@134.214.34.24>
	<C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<16759.43320.389085.741193@gargle.gargle.HOWL>
	<1abe3fa904102106152e1f9cfb@mail.gmail.com>
	<FB4641D6-2394-11D9-B678-000D93C24D64@hsph.harvard.edu>
Message-ID: <20041021204003.GA752@tpapp>

On Thu, Oct 21, 2004 at 12:11:16PM -0700, Byron Ellis wrote:

> Of course---I had just placed ESS into the category of First (and Most 
> Venerable) of the Unbundled GUIs as opposed to "command-line R." The 
> rest of us will be playing catch-up with ESS for long time :-)

It would be really nice if ESS users on OS X could make full use of
the new quartz() device of R.

I proposed a solution (or an idea towards one) to Simon Urbanek, but I
am posting it here in the hope that somebody has time to work on this:
Would it be possible to make a simple interface program to RAqua that
acts like a command-line R process, communicating via stdin/stdout?
The user could open R.app, then start this process which would find
the running R.app and communicate with it somehow, and with Emacs/ESS
using stdin/stdout.

I understand that free software projects are developed through the
kindness of programmers who devote time to writing code.  I can't
program in anything but R (and Octave ;-) so I cannot do this myself,
but it would be really nice if some ESS/OS X/R user with programming
skills could.

Thanks,

Tamas

From tpapp at Princeton.EDU  Fri Oct 22 00:21:13 2004
From: tpapp at Princeton.EDU (Tamas K Papp)
Date: Fri Oct 22 00:21:32 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <CE0C119D-23A8-11D9-AC74-000A95C87F66@unimi.it>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
	<p06002000bd9d1be8ae6d@134.214.34.24>
	<C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<16759.43320.389085.741193@gargle.gargle.HOWL>
	<1abe3fa904102106152e1f9cfb@mail.gmail.com>
	<FB4641D6-2394-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<20041021204003.GA752@tpapp>
	<CE0C119D-23A8-11D9-AC74-000A95C87F66@unimi.it>
Message-ID: <20041021222113.GA908@tpapp>

On Thu, Oct 21, 2004 at 11:33:10PM +0200, stefano iacus wrote:
> quartz device can be used from Emacs (at least the carbon Emacs)
> But you need to apply Jan's trick to make quartz an interactive device.

What is this trick?  Can I find a description somewhere?  Do I need to
recompile?

Thanks,

Tamas

From simon.urbanek at math.uni-augsburg.de  Fri Oct 22 00:22:11 2004
From: simon.urbanek at math.uni-augsburg.de (Simon Urbanek)
Date: Fri Oct 22 00:22:24 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <20041021204003.GA752@tpapp>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
	<p06002000bd9d1be8ae6d@134.214.34.24>
	<C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<16759.43320.389085.741193@gargle.gargle.HOWL>
	<1abe3fa904102106152e1f9cfb@mail.gmail.com>
	<FB4641D6-2394-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<20041021204003.GA752@tpapp>
Message-ID: <A7491BA0-23AF-11D9-9CFE-000A959F327E@math.uni-augsburg.de>

On Oct 21, 2004, at 10:40 PM, Tamas K Papp wrote:

> On Thu, Oct 21, 2004 at 12:11:16PM -0700, Byron Ellis wrote:
>
>> Of course---I had just placed ESS into the category of First (and Most
>> Venerable) of the Unbundled GUIs as opposed to "command-line R." The
>> rest of us will be playing catch-up with ESS for long time :-)
>
> It would be really nice if ESS users on OS X could make full use of
> the new quartz() device of R.

Just to complete this with the distilled version of our previous 
communication with Tamas for those interested in such project:

The main problem is that Quartz needs a regular Apple CF event loop to 
be run in the same process that Quartz runs in (on the primary thread). 
The regular R binary as executed in Terminal or by Emacs doesn't do 
that, that's why Quartz' events are not handled and thus the Quartz 
window is basically dead. The R binary cannot run the CF loop by 
default, because then you couldn't run R in a shell like ssh.

There are many possible approaches to fix this - link R into Emacs (I'm 
talking Carbon version of course) and use the API similar to what R.app 
does (I don't know Emacs well enough from developer's point of view, 
but I assume it allows loading of shared libraries as modules). 
Alternatively it may be possible to write an R package that runs a CF 
loop, but I'm not sure how well this could cooperate with the existing 
R loop. Finally one could use a very stripped version of R.app that 
would actually not show any window, but communicate via stdin/out 
instead.

Personally I think it's not a good use of resources, because the 
Emacs+ESS combo is just too clumsy and antagonistic for a modern 
environment like OS X [flame away], but that's a matter of taste I 
guess ;) [yes, I was a happy Emacs user, but that was on Linux where 
you really have no choice :P]

Cheers,
Simon

From stefano.iacus at unimi.it  Fri Oct 22 00:28:08 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Fri Oct 22 00:28:18 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <20041021222113.GA908@tpapp>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
	<p06002000bd9d1be8ae6d@134.214.34.24>
	<C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<16759.43320.389085.741193@gargle.gargle.HOWL>
	<1abe3fa904102106152e1f9cfb@mail.gmail.com>
	<FB4641D6-2394-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<20041021204003.GA752@tpapp>
	<CE0C119D-23A8-11D9-AC74-000A95C87F66@unimi.it>
	<20041021222113.GA908@tpapp>
Message-ID: <7C1C5C0F-23B0-11D9-AC74-000A95C87F66@unimi.it>

It should be

cd /Library/Frameword/R-framework/Resources/bin/exec
sudo /Developer/Tools/Rez   -t APPL Carbon.r -o R

you need developer tools installed and R.framework 2.0.0

I didn't test my self on 2.0.0, let me know
stefano

On Oct 22, 2004, at 12:21 AM, Tamas K Papp wrote:

> On Thu, Oct 21, 2004 at 11:33:10PM +0200, stefano iacus wrote:
>> quartz device can be used from Emacs (at least the carbon Emacs)
>> But you need to apply Jan's trick to make quartz an interactive 
>> device.
>
> What is this trick?  Can I find a description somewhere?  Do I need to
> recompile?
>
> Thanks,
>
> Tamas
>

From deleeuw at stat.ucla.edu  Fri Oct 22 01:46:53 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Fri Oct 22 01:47:15 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <20041021222113.GA908@tpapp>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
	<p06002000bd9d1be8ae6d@134.214.34.24>
	<C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<16759.43320.389085.741193@gargle.gargle.HOWL>
	<1abe3fa904102106152e1f9cfb@mail.gmail.com>
	<FB4641D6-2394-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<20041021204003.GA752@tpapp>
	<CE0C119D-23A8-11D9-AC74-000A95C87F66@unimi.it>
	<20041021222113.GA908@tpapp>
Message-ID: <7C73CC54-23BB-11D9-97EC-000D932C7F48@stat.ucla.edu>

The trick:

cd /Library/Frameworks/R.framework/Resources/bin/exec
sudo /Developer/Tools/Rez -t  APPL Carbon.r -o R

This only works if R is compiled with

  configure  
--with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh  
--with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh  
--enable-R-shlib --with-aqua --with-blas='-framework vecLib'  
--with-lapack TCLTK_LIBS='-framework Tcl -framework Tk'  
TCLTK_CPPFLAGS='-I/Library/Frameworks/Tcl.Framework/Headers  
-I/Library/Frameworks/Tk.Framework/Headers'

i.e. with the Aqua version of Tcl/Tk, because that's where R gets the  
Apple CF event loop
from. In addition, you get Aqua look and feel  for your tcltk library.

The trick is worthwhile if you run R from Emacs (either CLI or X11 or  
Carbon)
or from a Terminal window AND if you hate the look of X11 windows  
befouling
your Mac. I thought I was the only person in that intersection.

On Oct 21, 2004, at 3:21 PM, Tamas K Papp wrote:

> On Thu, Oct 21, 2004 at 11:33:10PM +0200, stefano iacus wrote:
>> quartz device can be used from Emacs (at least the carbon Emacs)
>> But you need to apply Jan's trick to make quartz an interactive  
>> device.
>
> What is this trick?  Can I find a description somewhere?  Do I need to
> recompile?
>
> Thanks,
>
> Tamas
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8125 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From Simon.Urbanek at math.uni-augsburg.de  Fri Oct 22 15:09:49 2004
From: Simon.Urbanek at math.uni-augsburg.de (Simon Urbanek)
Date: Fri Oct 22 15:09:53 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
Message-ID: <A79CB6DE-242B-11D9-9A43-000A957CEFBA@math.uni-augsburg.de>

Byron,

thanks for the idea and patch. I've taken a bit different approach 
(more native, in case we decide to add syntax highlighting to the 
console, too), but it should have the same effect. Tonight's nightly 
build should have the appropriate changes.

Cheers,
Simon

---
Simon Urbanek
Department of computer oriented statistics and data analysis
University of Augsburg
Universit?tsstr. 14
86135 Augsburg
Germany

Tel: +49-821-598-2236
Fax: +49-821-598-2200

Simon.Urbanek@Math.Uni-Augsburg.de
http://simon.urbanek.info

From jbowers at csm.Berkeley.EDU  Sat Oct 23 20:06:51 2004
From: jbowers at csm.Berkeley.EDU (Jake Bowers)
Date: Sat Oct 23 20:07:01 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <7C73CC54-23BB-11D9-97EC-000D932C7F48@stat.ucla.edu>
References: <E684C2AD-232E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
	<p06002000bd9d1be8ae6d@134.214.34.24>
	<C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<16759.43320.389085.741193@gargle.gargle.HOWL>
	<1abe3fa904102106152e1f9cfb@mail.gmail.com>
	<FB4641D6-2394-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<20041021204003.GA752@tpapp>
	<CE0C119D-23A8-11D9-AC74-000A95C87F66@unimi.it>
	<20041021222113.GA908@tpapp>
	<7C73CC54-23BB-11D9-97EC-000D932C7F48@stat.ucla.edu>
Message-ID: <Pine.GSO.4.51.0410231058300.4280@csm.Berkeley.EDU>

Hi All,

I write to register my support for making Emacs and R and OS X live and
play together gracefully. I can't imagine not using Emacs for Sweave
files, LaTeX, and R (via ESS) in general. But, having X11 running is
annoying, to me, too. So, neither Jan nor Tamas are the only folks in this
boat.

I also write to praise the new R GUI as something very beautiful that will
help my non-Emacs savvy students have much much better experiences with R.

And to thank Stefano, Simon, and Jan and the many others who have done
such great work on R for OS X!

Best,

Jake

Jake Bowers
Assistant Professor of Political Science
Faculty Associate in the Center for Political Studies, ISR
University of Michigan
http://www.umich.edu/~jwbowers




On Thu, 21 Oct 2004, Jan de Leeuw wrote:
>
> The trick is worthwhile if you run R from Emacs (either CLI or X11 or
> Carbon)
> or from a Terminal window AND if you hate the look of X11 windows
> befouling
> your Mac. I thought I was the only person in that intersection.

From tpapp at Princeton.EDU  Sun Oct 24 16:02:34 2004
From: tpapp at Princeton.EDU (Tamas K Papp)
Date: Sun Oct 24 16:02:45 2004
Subject: [R-SIG-Mac] Cocoa GUI feature request (with patch!)
In-Reply-To: <7C73CC54-23BB-11D9-97EC-000D932C7F48@stat.ucla.edu>
References: <4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
	<p06002000bd9d1be8ae6d@134.214.34.24>
	<C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<16759.43320.389085.741193@gargle.gargle.HOWL>
	<1abe3fa904102106152e1f9cfb@mail.gmail.com>
	<FB4641D6-2394-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<20041021204003.GA752@tpapp>
	<CE0C119D-23A8-11D9-AC74-000A95C87F66@unimi.it>
	<20041021222113.GA908@tpapp>
	<7C73CC54-23BB-11D9-97EC-000D932C7F48@stat.ucla.edu>
Message-ID: <20041024140233.GA586@tpapp>

I tried it, nothing changes.

I am not sure that my R has been compliled with the options given
below.  How can I check that?

I am using R-2.0.0-Batteries-Included.dmg, 10-15-04.  It is compiled
with Tcl and Tk and the other options?  My /Library/Frameworks has
only PrintMeSSL.framework, R.framework, StuffIt.framework, should I
need anything else there?

BTW, R-2.0.0-Batteries-Included is simply amazing.  Besides R, the
Emacs is the most consistent one I have seen on OS X.  Thank you very
much!

Thanks,

Tamas


On Thu, Oct 21, 2004 at 04:46:53PM -0700, Jan de Leeuw wrote:

> The trick:
> 
> cd /Library/Frameworks/R.framework/Resources/bin/exec
> sudo /Developer/Tools/Rez -t  APPL Carbon.r -o R
> 
> This only works if R is compiled with
> 
>  configure  
> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh  
> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh  
> --enable-R-shlib --with-aqua --with-blas='-framework vecLib'  
> --with-lapack TCLTK_LIBS='-framework Tcl -framework Tk'  
> TCLTK_CPPFLAGS='-I/Library/Frameworks/Tcl.Framework/Headers  
> -I/Library/Frameworks/Tk.Framework/Headers'
> 
> i.e. with the Aqua version of Tcl/Tk, because that's where R gets the  
> Apple CF event loop
> from. In addition, you get Aqua look and feel  for your tcltk library.
> 
> The trick is worthwhile if you run R from Emacs (either CLI or X11 or  
> Carbon)
> or from a Terminal window AND if you hate the look of X11 windows  
> befouling
> your Mac. I thought I was the only person in that intersection.
> 
> On Oct 21, 2004, at 3:21 PM, Tamas K Papp wrote:
> 
> >On Thu, Oct 21, 2004 at 11:33:10PM +0200, stefano iacus wrote:
> >>quartz device can be used from Emacs (at least the carbon Emacs)
> >>But you need to apply Jan's trick to make quartz an interactive  
> >>device.
> >
> >What is this trick?  Can I find a description somewhere?  Do I need to
> >recompile?
> >
> >Thanks,
> >
> >Tamas
> >
> >_______________________________________________
> >R-SIG-Mac mailing list
> >R-SIG-Mac@stat.math.ethz.ch
> >https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >
> >
> ===
> Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
> Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 8125 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>   
> ------------------------------------------------------------------------ 
> -------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>   
> ------------------------------------------------------------------------ 
> -------------------------

From deleeuw at stat.ucla.edu  Sun Oct 24 17:43:00 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Sun Oct 24 17:43:17 2004
Subject: [R-SIG-Mac] R hack 
In-Reply-To: <20041024140233.GA586@tpapp>
References: <4AA1331C-2335-11D9-AC74-000A95C87F66@mclink.it>
	<p06002000bd9d1be8ae6d@134.214.34.24>
	<C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<16759.43320.389085.741193@gargle.gargle.HOWL>
	<1abe3fa904102106152e1f9cfb@mail.gmail.com>
	<FB4641D6-2394-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<20041021204003.GA752@tpapp>
	<CE0C119D-23A8-11D9-AC74-000A95C87F66@unimi.it>
	<20041021222113.GA908@tpapp>
	<7C73CC54-23BB-11D9-97EC-000D932C7F48@stat.ucla.edu>
	<20041024140233.GA586@tpapp>
Message-ID: <62B3F009-25D3-11D9-9A43-000D932C7F48@stat.ucla.edu>

At

http://gifi.stat.ucla.edu/pub/Hack.dmg

you'll find a package which you can install over (after)  
Batteries-Included
It contains Tcl.framework, Tk.framework, and an alternative version
of R.framework compiled with Tcl/Tk flags set to the Aqua version.

This is for people who a) want to use R from Emacs or Terminal, b)
do not want to use X11, c) do want to use the Quartz device, d)
do not insist on using the Cocoa GUI.

After you start R you have to do library(tcltk). This will open the
R application in your dock (with a generic icon). If that works you
will have a Quartz device you can interact with, and you can
try everything with demo(tkdensity).

Your tcltk will not work anymore with the Cocoa R.app or with JGR
after this, however. You cannot live in both worlds.

On Oct 24, 2004, at 7:02 AM, Tamas K Papp wrote:

> I tried it, nothing changes.
>
> I am not sure that my R has been compliled with the options given
> below.  How can I check that?
>
> I am using R-2.0.0-Batteries-Included.dmg, 10-15-04.  It is compiled
> with Tcl and Tk and the other options?  My /Library/Frameworks has
> only PrintMeSSL.framework, R.framework, StuffIt.framework, should I
> need anything else there?
>
> BTW, R-2.0.0-Batteries-Included is simply amazing.  Besides R, the
> Emacs is the most consistent one I have seen on OS X.  Thank you very
> much!
>
> Thanks,
>
> Tamas
>
>
> On Thu, Oct 21, 2004 at 04:46:53PM -0700, Jan de Leeuw wrote:
>
>> The trick:
>>
>> cd /Library/Frameworks/R.framework/Resources/bin/exec
>> sudo /Developer/Tools/Rez -t  APPL Carbon.r -o R
>>
>> This only works if R is compiled with
>>
>>  configure
>> --with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh
>> --with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
>> --enable-R-shlib --with-aqua --with-blas='-framework vecLib'
>> --with-lapack TCLTK_LIBS='-framework Tcl -framework Tk'
>> TCLTK_CPPFLAGS='-I/Library/Frameworks/Tcl.Framework/Headers
>> -I/Library/Frameworks/Tk.Framework/Headers'
>>
>> i.e. with the Aqua version of Tcl/Tk, because that's where R gets the
>> Apple CF event loop
>> from. In addition, you get Aqua look and feel  for your tcltk library.
>>
>> The trick is worthwhile if you run R from Emacs (either CLI or X11 or
>> Carbon)
>> or from a Terminal window AND if you hate the look of X11 windows
>> befouling
>> your Mac. I thought I was the only person in that intersection.
>>
>> On Oct 21, 2004, at 3:21 PM, Tamas K Papp wrote:
>>
>>> On Thu, Oct 21, 2004 at 11:33:10PM +0200, stefano iacus wrote:
>>>> quartz device can be used from Emacs (at least the carbon Emacs)
>>>> But you need to apply Jan's trick to make quartz an interactive
>>>> device.
>>>
>>> What is this trick?  Can I find a description somewhere?  Do I need  
>>> to
>>> recompile?
>>>
>>> Thanks,
>>>
>>> Tamas
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac@stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>> ===
>> Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of
>> Statistics;
>> Editor: Journal of Multivariate Analysis, Journal of Statistical
>> Software
>> US mail: 8125 Math Sciences Bldg, Box 951554, Los Angeles, CA  
>> 90095-1554
>> phone (310)-825-9550;  fax (310)-206-5658;  email:  
>> deleeuw@stat.ucla.edu
>> homepage: http://gifi.stat.ucla.edu
>>
>> ---------------------------------------------------------------------- 
>> --
>> -------------------------
>>           No matter where you go, there you are. --- Buckaroo Banzai
>>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>>
>> ---------------------------------------------------------------------- 
>> --
>> -------------------------
>
>
===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8125 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From tpapp at Princeton.EDU  Sun Oct 24 19:10:19 2004
From: tpapp at Princeton.EDU (Tamas K Papp)
Date: Sun Oct 24 19:10:27 2004
Subject: [R-SIG-Mac] R hack
In-Reply-To: <62B3F009-25D3-11D9-9A43-000D932C7F48@stat.ucla.edu>
References: <C96F254E-233A-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<16759.43320.389085.741193@gargle.gargle.HOWL>
	<1abe3fa904102106152e1f9cfb@mail.gmail.com>
	<FB4641D6-2394-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<20041021204003.GA752@tpapp>
	<CE0C119D-23A8-11D9-AC74-000A95C87F66@unimi.it>
	<20041021222113.GA908@tpapp>
	<7C73CC54-23BB-11D9-97EC-000D932C7F48@stat.ucla.edu>
	<20041024140233.GA586@tpapp>
	<62B3F009-25D3-11D9-9A43-000D932C7F48@stat.ucla.edu>
Message-ID: <20041024171019.GA3334@tpapp>

Thank you very much, this is really nice!

A minor glitch: if I don't open a quartz() window explicitly,

library(tcltk)
plot(1:5,1:5)

makes R segfault.  Do you experience this?

If I plot first, and plots appear in an x11() window, everything runs
smooth.  It also works if I open a quartz() window.

I installed batteries-included, did a

/Developer/Tools/Rez -t  APPL Carbon.r -o R  

(this was on Friday), then installed the Hack.dmg on this.  Should I
reinstall everyhing from scratch?

Thanks

Tamas

On Sun, Oct 24, 2004 at 08:43:00AM -0700, Jan de Leeuw wrote:

> At
> 
> http://gifi.stat.ucla.edu/pub/Hack.dmg
> 
> you'll find a package which you can install over (after)  
> Batteries-Included
> It contains Tcl.framework, Tk.framework, and an alternative version
> of R.framework compiled with Tcl/Tk flags set to the Aqua version.
> 
> This is for people who a) want to use R from Emacs or Terminal, b)
> do not want to use X11, c) do want to use the Quartz device, d)
> do not insist on using the Cocoa GUI.
> 
> After you start R you have to do library(tcltk). This will open the
> R application in your dock (with a generic icon). If that works you
> will have a Quartz device you can interact with, and you can
> try everything with demo(tkdensity).
> 
> Your tcltk will not work anymore with the Cocoa R.app or with JGR
> after this, however. You cannot live in both worlds.
> 
> On Oct 24, 2004, at 7:02 AM, Tamas K Papp wrote:
> 
> >I tried it, nothing changes.
> >
> >I am not sure that my R has been compliled with the options given
> >below.  How can I check that?
> >
> >I am using R-2.0.0-Batteries-Included.dmg, 10-15-04.  It is compiled
> >with Tcl and Tk and the other options?  My /Library/Frameworks has
> >only PrintMeSSL.framework, R.framework, StuffIt.framework, should I
> >need anything else there?
> >
> >BTW, R-2.0.0-Batteries-Included is simply amazing.  Besides R, the
> >Emacs is the most consistent one I have seen on OS X.  Thank you very
> >much!
> >
> >Thanks,
> >
> >Tamas
> >
> >
> >On Thu, Oct 21, 2004 at 04:46:53PM -0700, Jan de Leeuw wrote:
> >
> >>The trick:
> >>
> >>cd /Library/Frameworks/R.framework/Resources/bin/exec
> >>sudo /Developer/Tools/Rez -t  APPL Carbon.r -o R
> >>
> >>This only works if R is compiled with
> >>
> >> configure
> >>--with-tcl-config=/Library/Frameworks/Tcl.framework/tclConfig.sh
> >>--with-tk-config=/Library/Frameworks/Tk.framework/tkConfig.sh
> >>--enable-R-shlib --with-aqua --with-blas='-framework vecLib'
> >>--with-lapack TCLTK_LIBS='-framework Tcl -framework Tk'
> >>TCLTK_CPPFLAGS='-I/Library/Frameworks/Tcl.Framework/Headers
> >>-I/Library/Frameworks/Tk.Framework/Headers'
> >>
> >>i.e. with the Aqua version of Tcl/Tk, because that's where R gets the
> >>Apple CF event loop
> >>from. In addition, you get Aqua look and feel  for your tcltk library.
> >>
> >>The trick is worthwhile if you run R from Emacs (either CLI or X11 or
> >>Carbon)
> >>or from a Terminal window AND if you hate the look of X11 windows
> >>befouling
> >>your Mac. I thought I was the only person in that intersection.
> >>
> >>On Oct 21, 2004, at 3:21 PM, Tamas K Papp wrote:
> >>
> >>>On Thu, Oct 21, 2004 at 11:33:10PM +0200, stefano iacus wrote:
> >>>>quartz device can be used from Emacs (at least the carbon Emacs)
> >>>>But you need to apply Jan's trick to make quartz an interactive
> >>>>device.
> >>>
> >>>What is this trick?  Can I find a description somewhere?  Do I need  
> >>>to
> >>>recompile?
> >>>
> >>>Thanks,
> >>>
> >>>Tamas
> >>>
> >>>_______________________________________________
> >>>R-SIG-Mac mailing list
> >>>R-SIG-Mac@stat.math.ethz.ch
> >>>https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>>
> >>>
> >>===
> >>Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of
> >>Statistics;
> >>Editor: Journal of Multivariate Analysis, Journal of Statistical
> >>Software
> >>US mail: 8125 Math Sciences Bldg, Box 951554, Los Angeles, CA  
> >>90095-1554
> >>phone (310)-825-9550;  fax (310)-206-5658;  email:  
> >>deleeuw@stat.ucla.edu
> >>homepage: http://gifi.stat.ucla.edu
> >>
> >>---------------------------------------------------------------------- 
> >>--
> >>-------------------------
> >>          No matter where you go, there you are. --- Buckaroo Banzai
> >>                   http://gifi.stat.ucla.edu/sounds/nomatter.au
> >>
> >>---------------------------------------------------------------------- 
> >>--
> >>-------------------------
> >
> >
> ===
> Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
> Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 8125 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>   
> ------------------------------------------------------------------------ 
> -------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From deleeuw at stat.ucla.edu  Sun Oct 24 20:51:45 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Sun Oct 24 20:51:58 2004
Subject: [R-SIG-Mac] http://gifi.stat.ucla.edu/pub
Message-ID: <C102B6D4-25ED-11D9-ABBE-000D932C7F48@stat.ucla.edu>

  The 10-24-04 version reintroduces the resource fork hack and use Aqua  
Tcl/Tk.  This is for people who
	? 	 want to use R from Emacs or Terminal,
	? 	 do not want to use X11,
	? 	 do want to use the Quartz device,
	? 	 do not insist on using the Cocoa GUI.
  Your tcltk will not work anymore with the Cocoa R.app or with JGR.  
Also rgl and tkrplot do not work. Unfortunately, you cannot live in  
both worlds at the same time.
===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8125 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au
   
------------------------------------------------------------------------ 
------------------------- 
        
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: text/enriched
Size: 1527 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20041024/abeb1ce8/attachment.bin
From bellis at hsph.harvard.edu  Tue Oct 26 13:02:15 2004
From: bellis at hsph.harvard.edu (Byron Ellis)
Date: Tue Oct 26 13:02:21 2004
Subject: [R-SIG-Mac] cocoa packages
Message-ID: <7F00F0CA-273E-11D9-B678-000D93C24D64@hsph.harvard.edu>

Hi all, a bit inspired this evening. Managed (with a small change to 
SHLIB and INSTALL to make it recognize .m files) to successfully build 
a small proof-of-concept package that

1) installs some extra menus (and items) into the main menu bar
2) attach those menu items to a controller object inside the package
3) locate and instantiate a NIB located within the package in response 
to a menu call.

Its very simple code, email me and I'll send you the somewhat ugly 
package as it stands (it ain't pretty).

I think it could be useful for adding S-PLUS-like functionality to the 
R GUI. Maybe for use in things like introductory statistics courses (or 
Computational Biology courses). On the whole, a lot prettier than 
Tcl/Tk and with some more work we could probably write selector targets 
in R (a la CamelBones or PyObjC).

Its 4am, good night

(BTW, Stefano, I was working on adding the navigation buttons when this 
occurred to me. I promise :-) )


---
Byron Ellis (ellis@stat.harvard.edu)
"Oook" -- The Librarian

From jtnews1 at biomserv.univ-lyon1.fr  Tue Oct 26 15:51:50 2004
From: jtnews1 at biomserv.univ-lyon1.fr (Jean Thioulouse)
Date: Tue Oct 26 15:52:00 2004
Subject: [R-SIG-Mac] R 2.0.0 Change Working Directory
In-Reply-To: <8A13A661-21DB-11D9-8E89-000A957CEFBA@math.uni-augsburg.de>
References: <p06002001bd9abda1f437@[134.214.34.24]>
	<8A13A661-21DB-11D9-8E89-000A957CEFBA@math.uni-augsburg.de>
Message-ID: <p06002000bda4038c67c6@[134.214.34.24]>

Hello,

I have tried PitStop to edit the pdf files created by R, but it did not
work (seems that the pdf contains only one large bitmap). Do you know
any other software able to edit pdf files obtained with R ? How can I
use the pdf version of the graphic that is in the clipboard ?

Thank you,
Jean

At 16:31 +0200 19/10/04, Simon Urbanek wrote:

>On Oct 19, 2004, at 4:10 PM, jtnews1@biomserv.univ-lyon1.fr wrote:
>
>>Trying to use the "Change Working Directory" command of the "Misc" menu,
>>I want to select /Users/jthioulo/Desktop/Ranjard, so I navigate to this
>
>Thank you for the report, this was (hopefully) fixed now in the 
>nightly build (available at 
>http://www.rosuda.org/R/nightly/R-GUI.dmg ).
>
>>Also, what is the format of the graphics that are copied to the clipboard ?
>>In the Windows version, the emf format allows editing the objects
>>composing the graphics, and that would be nice to have this possibility
>>on Mac too.
>
>AFAICS multi-format clipboard entry is created with TIFF and PDF 
>entries - which one is used depends on the application that you 
>paste into. The PDF version contains all individual objects and is 
>editable with the appropriate programs.
>
>Cheers,
>Simon
>
>---
>Simon Urbanek
>Department of computer oriented statistics and data analysis
>University of Augsburg
>Universit?tsstr. 14
>86135 Augsburg
>Germany
>
>Tel: +49-821-598-2236
>Fax: +49-821-598-2200
>
>Simon.Urbanek@Math.Uni-Augsburg.de
>http://simon.urbanek.info

-- 
Jean Thioulouse - Labo. BBE, UMR CNRS 5558, Equipe "Ecologie Statistique"
Universite Lyon 1,  Batiment G. Mendel, 69622 Villeurbanne Cedex,  France
Tel: (33) 4 72 43 27 56                           Fax: (33) 4 72 43 27 56
                 http://pbil.univ-lyon1.fr/JTHome.html

From Simon.Urbanek at math.uni-augsburg.de  Tue Oct 26 16:17:32 2004
From: Simon.Urbanek at math.uni-augsburg.de (Simon Urbanek)
Date: Tue Oct 26 16:17:44 2004
Subject: [R-SIG-Mac] R 2.0.0 Change Working Directory
In-Reply-To: <p06002000bda4038c67c6@[134.214.34.24]>
References: <p06002001bd9abda1f437@[134.214.34.24]>
	<8A13A661-21DB-11D9-8E89-000A957CEFBA@math.uni-augsburg.de>
	<p06002000bda4038c67c6@[134.214.34.24]>
Message-ID: <C6DACFE6-2759-11D9-BC47-000A957CEFBA@math.uni-augsburg.de>

Hi Jean,

On Oct 26, 2004, at 3:51 PM, Jean Thioulouse wrote:

> I have tried PitStop to edit the pdf files created by R, but it did not
> work (seems that the pdf contains only one large bitmap). Do you know
> any other software able to edit pdf files obtained with R ? How can I
> use the pdf version of the graphic that is in the clipboard ?

I used Adobe Illustrator and it worked flawlessly - you can even edit 
text in real text mode, not as glyphs. I have never heard of PitStop 
but either it cannot handle PDFs properly, or for some reason it 
fetches the bitmap version instead. If the latter is the case, you can 
disable the TIFF version by replacing the copy: method in RQuartz by 
this one:

- (IBAction)copy:(id)sender
{
	NSPasteboard *pb = [NSPasteboard generalPasteboard];
	[pb declareTypes: [NSArray arrayWithObjects: NSPDFPboardType, nil ] 
owner:self];

	QUARTZ_WORK_BEGIN;
	[deviceView setPDFDrawing:YES];
	[deviceView lockFocus];
	[deviceView writePDFInsideRect:[deviceView bounds] toPasteboard:pb];
	[deviceView unlockFocus];
	[deviceView setPDFDrawing:NO];
	QUARTZ_WORK_END;
}

Cheers,
Simon

---
Simon Urbanek
Department of computer oriented statistics and data analysis
University of Augsburg
Universit?tsstr. 14
86135 Augsburg
Germany

Tel: +49-821-598-2236
Fax: +49-821-598-2200

Simon.Urbanek@Math.Uni-Augsburg.de
http://simon.urbanek.info

From tpapp at Princeton.EDU  Tue Oct 26 16:29:08 2004
From: tpapp at Princeton.EDU (Tamas K Papp)
Date: Tue Oct 26 16:30:38 2004
Subject: [R-SIG-Mac] R 2.0.0 Change Working Directory
In-Reply-To: <C6DACFE6-2759-11D9-BC47-000A957CEFBA@math.uni-augsburg.de>
References: <p06002001bd9abda1f437@[134.214.34.24]>
	<8A13A661-21DB-11D9-8E89-000A957CEFBA@math.uni-augsburg.de>
	<p06002000bda4038c67c6@[134.214.34.24]>
	<C6DACFE6-2759-11D9-BC47-000A957CEFBA@math.uni-augsburg.de>
Message-ID: <20041026142908.GA3824@tpapp>

On Tue, Oct 26, 2004 at 04:17:32PM +0200, Simon Urbanek wrote:
> Hi Jean,
> 
> On Oct 26, 2004, at 3:51 PM, Jean Thioulouse wrote:
> 
> >I have tried PitStop to edit the pdf files created by R, but it did not
> >work (seems that the pdf contains only one large bitmap). Do you know
> >any other software able to edit pdf files obtained with R ? How can I
> >use the pdf version of the graphic that is in the clipboard ?
> 
> I used Adobe Illustrator and it worked flawlessly - you can even edit 
> text in real text mode, not as glyphs. I have never heard of PitStop 
> but either it cannot handle PDFs properly, or for some reason it 

You can also try pstoedit, if you have fink installed.

Best,

Tamas

From Simon.Urbanek at math.uni-augsburg.de  Tue Oct 26 16:45:45 2004
From: Simon.Urbanek at math.uni-augsburg.de (Simon Urbanek)
Date: Tue Oct 26 16:45:58 2004
Subject: [R-SIG-Mac] R 2.0.0 Change Working Directory
In-Reply-To: <p06002000bda4038c67c6@[134.214.34.24]>
References: <p06002001bd9abda1f437@[134.214.34.24]>
	<8A13A661-21DB-11D9-8E89-000A957CEFBA@math.uni-augsburg.de>
	<p06002000bda4038c67c6@[134.214.34.24]>
Message-ID: <B8270FA7-275D-11D9-BC47-000A957CEFBA@math.uni-augsburg.de>


On Oct 26, 2004, at 3:51 PM, Jean Thioulouse wrote:

> I have tried PitStop to edit the pdf files created by R, but it did not
> work (seems that the pdf contains only one large bitmap). Do you know
> any other software able to edit pdf files obtained with R ? How can I
> use the pdf version of the graphic that is in the clipboard ?

I have noticed that the declaration order was TIFF first and PDF 
second. I have now reversed the order. Please try tonight's nightly 
build (you'll need at least revision 662) and tell me whether it works. 
I'm still unsure about this - maybe we should make the order 
configurable or two different copy commands for bitmap vs vector.

Cheers,
Simon

---
Simon Urbanek
Department of computer oriented statistics and data analysis
University of Augsburg
Universit?tsstr. 14
86135 Augsburg
Germany

Tel: +49-821-598-2236
Fax: +49-821-598-2200

Simon.Urbanek@Math.Uni-Augsburg.de
http://simon.urbanek.info

From jtnews1 at biomserv.univ-lyon1.fr  Tue Oct 26 17:12:13 2004
From: jtnews1 at biomserv.univ-lyon1.fr (Jean Thioulouse)
Date: Tue Oct 26 17:12:18 2004
Subject: [R-SIG-Mac] R 2.0.0 Change Working Directory
In-Reply-To: <B8270FA7-275D-11D9-BC47-000A957CEFBA@math.uni-augsburg.de>
References: <p06002001bd9abda1f437@[134.214.34.24]>
	<8A13A661-21DB-11D9-8E89-000A957CEFBA@math.uni-augsburg.de>
	<p06002000bda4038c67c6@[134.214.34.24]>
	<B8270FA7-275D-11D9-BC47-000A957CEFBA@math.uni-augsburg.de>
Message-ID: <p06002000bda4186a4bf8@[134.214.34.24]>

At 16:45 +0200 26/10/04, Simon Urbanek wrote:
>I have noticed that the declaration order was TIFF first and PDF 
>second. I have now reversed the order. Please try tonight's nightly 
>build (you'll need at least revision 662) and tell me whether it 
>works. I'm still unsure about this - maybe we should make the order 
>configurable or two different copy commands for bitmap vs vector.

I have just checked with Illustrator, and it works perfectly like this.
I think that the order does not matter, and target applications should
be able to choose the right data type in the clipboard.

Thanks,
Jean

-- 
Jean Thioulouse - Labo. BBE, UMR CNRS 5558, Equipe "Ecologie Statistique"
Universite Lyon 1,  Batiment G. Mendel, 69622 Villeurbanne Cedex,  France
Tel: (33) 4 72 43 27 56                           Fax: (33) 4 72 43 27 56
                 http://pbil.univ-lyon1.fr/JTHome.html

From deleeuw at stat.ucla.edu  Tue Oct 26 17:36:46 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Tue Oct 26 17:36:55 2004
Subject: [R-SIG-Mac] cocoa packages
In-Reply-To: <7F00F0CA-273E-11D9-B678-000D93C24D64@hsph.harvard.edu>
References: <7F00F0CA-273E-11D9-B678-000D93C24D64@hsph.harvard.edu>
Message-ID: <D87D31F2-2764-11D9-A074-000D932C7F48@stat.ucla.edu>

That's good news. One way to get rid of the remaining vestiges of X11  
is to
get rid of Tcl/Tk alltogether and allow people to write interfaces to  
packages
in Cocoa (with a Cocoa Rcmdr as an extreme version). I have been
asking Duncan for RObjC or RCocoa, and at some point in time there
actually was some form of RObjC, but it got lost in the intricate mazes  
of the
Omega project.

On Oct 26, 2004, at 4:02 AM, Byron Ellis wrote:

> Hi all, a bit inspired this evening. Managed (with a small change to  
> SHLIB and INSTALL to make it recognize .m files) to successfully build  
> a small proof-of-concept package that
>
> 1) installs some extra menus (and items) into the main menu bar
> 2) attach those menu items to a controller object inside the package
> 3) locate and instantiate a NIB located within the package in response  
> to a menu call.
>
> Its very simple code, email me and I'll send you the somewhat ugly  
> package as it stands (it ain't pretty).
>
> I think it could be useful for adding S-PLUS-like functionality to the  
> R GUI. Maybe for use in things like introductory statistics courses  
> (or Computational Biology courses). On the whole, a lot prettier than  
> Tcl/Tk and with some more work we could probably write selector  
> targets in R (a la CamelBones or PyObjC).
>
> Its 4am, good night
>
> (BTW, Stefano, I was working on adding the navigation buttons when  
> this occurred to me. I promise :-) )
>
>
> ---
> Byron Ellis (ellis@stat.harvard.edu)
> "Oook" -- The Librarian
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8125 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From stefano.iacus at unimi.it  Tue Oct 26 17:51:04 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Tue Oct 26 17:51:20 2004
Subject: [R-SIG-Mac] R 2.0.0 Change Working Directory
In-Reply-To: <B8270FA7-275D-11D9-BC47-000A957CEFBA@math.uni-augsburg.de>
References: <p06002001bd9abda1f437@[134.214.34.24]>
	<8A13A661-21DB-11D9-8E89-000A957CEFBA@math.uni-augsburg.de>
	<p06002000bda4038c67c6@[134.214.34.24]>
	<B8270FA7-275D-11D9-BC47-000A957CEFBA@math.uni-augsburg.de>
Message-ID: <D7A8F5B5-2766-11D9-A345-000A95C87F66@unimi.it>

This should be not rilevant. In fact Preview, takes the PDF no matter 
who comes first.
stefano
On Oct 26, 2004, at 4:45 PM, Simon Urbanek wrote:

>
> On Oct 26, 2004, at 3:51 PM, Jean Thioulouse wrote:
>
>> I have tried PitStop to edit the pdf files created by R, but it did 
>> not
>> work (seems that the pdf contains only one large bitmap). Do you know
>> any other software able to edit pdf files obtained with R ? How can I
>> use the pdf version of the graphic that is in the clipboard ?
>
> I have noticed that the declaration order was TIFF first and PDF 
> second. I have now reversed the order. Please try tonight's nightly 
> build (you'll need at least revision 662) and tell me whether it 
> works. I'm still unsure about this - maybe we should make the order 
> configurable or two different copy commands for bitmap vs vector.
>
> Cheers,
> Simon
>
> ---
> Simon Urbanek
> Department of computer oriented statistics and data analysis
> University of Augsburg
> Universit?tsstr. 14
> 86135 Augsburg
> Germany
>
> Tel: +49-821-598-2236
> Fax: +49-821-598-2200
>
> Simon.Urbanek@Math.Uni-Augsburg.de
> http://simon.urbanek.info
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From stefano.iacus at unimi.it  Tue Oct 26 17:51:33 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Tue Oct 26 17:51:39 2004
Subject: [R-SIG-Mac] cocoa packages
In-Reply-To: <D87D31F2-2764-11D9-A074-000D932C7F48@stat.ucla.edu>
References: <7F00F0CA-273E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<D87D31F2-2764-11D9-A074-000D932C7F48@stat.ucla.edu>
Message-ID: <E92F7D42-2766-11D9-A345-000A95C87F66@unimi.it>

Or once iWidgets comes to Cocoa which I think is the plan (Simon?)
stefano

On Oct 26, 2004, at 5:36 PM, Jan de Leeuw wrote:

> That's good news. One way to get rid of the remaining vestiges of X11  
> is to
> get rid of Tcl/Tk alltogether and allow people to write interfaces to  
> packages
> in Cocoa (with a Cocoa Rcmdr as an extreme version). I have been
> asking Duncan for RObjC or RCocoa, and at some point in time there
> actually was some form of RObjC, but it got lost in the intricate  
> mazes of the
> Omega project.
>
> On Oct 26, 2004, at 4:02 AM, Byron Ellis wrote:
>
>> Hi all, a bit inspired this evening. Managed (with a small change to  
>> SHLIB and INSTALL to make it recognize .m files) to successfully  
>> build a small proof-of-concept package that
>>
>> 1) installs some extra menus (and items) into the main menu bar
>> 2) attach those menu items to a controller object inside the package
>> 3) locate and instantiate a NIB located within the package in  
>> response to a menu call.
>>
>> Its very simple code, email me and I'll send you the somewhat ugly  
>> package as it stands (it ain't pretty).
>>
>> I think it could be useful for adding S-PLUS-like functionality to  
>> the R GUI. Maybe for use in things like introductory statistics  
>> courses (or Computational Biology courses). On the whole, a lot  
>> prettier than Tcl/Tk and with some more work we could probably write  
>> selector targets in R (a la CamelBones or PyObjC).
>>
>> Its 4am, good night
>>
>> (BTW, Stefano, I was working on adding the navigation buttons when  
>> this occurred to me. I promise :-) )
>>
>>
>> ---
>> Byron Ellis (ellis@stat.harvard.edu)
>> "Oook" -- The Librarian
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
> ===
> Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
> Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 8125 Math Sciences Bldg, Box 951554, Los Angeles, CA  
> 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email:  
> deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>   
> ----------------------------------------------------------------------- 
> --------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From bhalerao.1 at osu.edu  Tue Oct 26 18:45:00 2004
From: bhalerao.1 at osu.edu (Kaustubh Bhalerao)
Date: Tue Oct 26 18:45:08 2004
Subject: [R-SIG-Mac] Editing files created in R
In-Reply-To: <200410261557.i9QFvYXK004522@hypatia.math.ethz.ch>
References: <200410261557.i9QFvYXK004522@hypatia.math.ethz.ch>
Message-ID: <6074E104-276E-11D9-9047-000393B62F72@osu.edu>

Hello,
One program I find particularly useful to edit R plots is Omnigraffle. 
The version 2.0 comes bundled with OS X, but I also have the commercial 
version. It allows adding annotation, legends and other similar things 
very easily and allows exporting into EPS, JPEG, PDF, or TIFF  formats. 
I can simply copy the image from the quartz device and paste it into 
the omnigraffle window as well.

Graphic converter (also bundled) may provide some functionality too - 
but  haven't really needed it.

Hope this helps.
Kaustubh

>
> ------------------------------
>
> Message: 2
> Date: Tue, 26 Oct 2004 15:51:50 +0200
> From: Jean Thioulouse <jtnews1@biomserv.univ-lyon1.fr>
> Subject: Re: [R-SIG-Mac] R 2.0.0 Change Working Directory
> To: r-sig-mac@stat.math.ethz.ch
> Message-ID: <p06002000bda4038c67c6@[134.214.34.24]>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Hello,
>
> I have tried PitStop to edit the pdf files created by R, but it did not
> work (seems that the pdf contains only one large bitmap). Do you know
> any other software able to edit pdf files obtained with R ? How can I
> use the pdf version of the graphic that is in the clipboard ?
>
> Thank you,
> Jean
>

From bellis at hsph.harvard.edu  Tue Oct 26 21:35:50 2004
From: bellis at hsph.harvard.edu (Byron Ellis)
Date: Tue Oct 26 21:35:53 2004
Subject: [R-SIG-Mac] cocoa packages
In-Reply-To: <D87D31F2-2764-11D9-A074-000D932C7F48@stat.ucla.edu>
References: <7F00F0CA-273E-11D9-B678-000D93C24D64@hsph.harvard.edu>
	<D87D31F2-2764-11D9-A074-000D932C7F48@stat.ucla.edu>
Message-ID: <3E4C810A-2786-11D9-B678-000D93C24D64@hsph.harvard.edu>

Or something similar. Unlike RCmdr we're not constrained by the  
limitations of Tcl/Tk so similar functionality can be integrated more  
smoothly into the GUI (though having a Best Practices library for that  
sort of thing would probably be a good idea---rules for playing nice  
wrt menus and what not). And, being Obj-C based, packages can do  
basically whatever they want (poseAsClass: anyone?).


re: R<->Obj-C

Off the top of my head, I might do something like this:

SEXP CreateObjCFunction(SEXP selector) {
	SEL s = sel_registerMethod(CHAR(STRING_ELT(selector,0)));
	NSInvocation *invoker= [NSInvocation
		invocationWithMethodSignature:[NSObject  
instanceMethodSignatureForSelector:s]];
	[invoker setSelector:s];
	return WRAP_NSINVOCATION_IN_SEXP(invoker);
}

to create, effectively function objects that are then invoked by

SEXP Invoke(SEXP nsinv,SEXP target,SEXP args) {
	NSInvocation *invoker = INVOCATION_FROM_SEXP(nsinv);
	int i;
	for(i=0;i<[[invoker methodSignature] numberOfArguments]-2;i++) {
		/* Do setArgument with appropriate SEXP conversion here */
		/* setArgument:... atIndex:i+2 */
	}
	return ObjCToSEXP([invoker invokeWithTarget:SEXP_TO_ID(target)]);
}

As usual, the big hurdle is type coercion, ObjC<->SEXP... Though Simon  
has already done a fair amount of that work.

Maybe now that I'm back on the Left Side we should visit Duncan  
sometime. :-)

On Oct 26, 2004, at 8:36 AM, Jan de Leeuw wrote:

> That's good news. One way to get rid of the remaining vestiges of X11  
> is to
> get rid of Tcl/Tk alltogether and allow people to write interfaces to  
> packages
> in Cocoa (with a Cocoa Rcmdr as an extreme version). I have been
> asking Duncan for RObjC or RCocoa, and at some point in time there
> actually was some form of RObjC, but it got lost in the intricate  
> mazes of the
> Omega project.
>
> On Oct 26, 2004, at 4:02 AM, Byron Ellis wrote:
>
>> Hi all, a bit inspired this evening. Managed (with a small change to  
>> SHLIB and INSTALL to make it recognize .m files) to successfully  
>> build a small proof-of-concept package that
>>
>> 1) installs some extra menus (and items) into the main menu bar
>> 2) attach those menu items to a controller object inside the package
>> 3) locate and instantiate a NIB located within the package in  
>> response to a menu call.
>>
>> Its very simple code, email me and I'll send you the somewhat ugly  
>> package as it stands (it ain't pretty).
>>
>> I think it could be useful for adding S-PLUS-like functionality to  
>> the R GUI. Maybe for use in things like introductory statistics  
>> courses (or Computational Biology courses). On the whole, a lot  
>> prettier than Tcl/Tk and with some more work we could probably write  
>> selector targets in R (a la CamelBones or PyObjC).
>>
>> Its 4am, good night
>>
>> (BTW, Stefano, I was working on adding the navigation buttons when  
>> this occurred to me. I promise :-) )
>>
>>
>> ---
>> Byron Ellis (ellis@stat.harvard.edu)
>> "Oook" -- The Librarian
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac@stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
> ===
> Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
> Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical  
> Software
> US mail: 8125 Math Sciences Bldg, Box 951554, Los Angeles, CA  
> 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email:  
> deleeuw@stat.ucla.edu
> homepage: http://gifi.stat.ucla.edu
>   
> ----------------------------------------------------------------------- 
> --------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
>   
> ----------------------------------------------------------------------- 
> --------------------------
>
>
---
Byron Ellis (ellis@stat.harvard.edu)
"Oook" -- The Librarian

From simon.urbanek at math.uni-augsburg.de  Tue Oct 26 23:04:32 2004
From: simon.urbanek at math.uni-augsburg.de (Simon Urbanek)
Date: Tue Oct 26 23:04:45 2004
Subject: [R-SIG-Mac] cocoa packages
In-Reply-To: <7F00F0CA-273E-11D9-B678-000D93C24D64@hsph.harvard.edu>
References: <7F00F0CA-273E-11D9-B678-000D93C24D64@hsph.harvard.edu>
Message-ID: <A25E96C2-2792-11D9-AF5E-000A959F327E@math.uni-augsburg.de>

On Oct 26, 2004, at 1:02 PM, Byron Ellis wrote:

> I think it could be useful for adding S-PLUS-like functionality to the 
> R GUI. Maybe for use in things like introductory statistics courses 
> (or Computational Biology courses). On the whole, a lot prettier than 
> Tcl/Tk and with some more work we could probably write selector 
> targets in R (a la CamelBones or PyObjC).

I agree that replacing tcl/tk is long overdue. You may have a look at 
the iWidgets package - I was trying to define a platform- and 
toolkit-independent API for widgets with that. It is implemented in 
Java and works on most platforms, but it would be great to have a Cocoa 
package with the same functionality and same API. The big thing then 
would be that you can actually use the same R code on any platform - on 
Mac it would happen to be Cocoa based. iWidgets come bundled with JGR ( 
http://www.rosuda.org/JGR/ ) if you want to run the demos, but you can 
also download the sources from our R repository ( 
http://www.rosuda.org/R/ ).

As of the Obj-C glue, well, you said it ;) It's not rocket science, 
just a lot of work ... I have very little time atm, but I may have a 
quiet minute this weekend to polish the REngine code ...

Cheers,
Simon

From stefano.iacus at unimi.it  Wed Oct 27 14:32:47 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Wed Oct 27 14:32:53 2004
Subject: [R-SIG-Mac] Re: R-Gui problems
In-Reply-To: <1098811062.417e86b6d4a2b@webmail.uni-konstanz.de>
References: <1098811062.417e86b6d4a2b@webmail.uni-konstanz.de>
Message-ID: <4F3ABF44-2814-11D9-A345-000A95C87F66@unimi.it>

Hi Nathan,
please use R-rig-mac mailing list next time 
(r-sig-mac@stat.math.ethz.ch)
I can't see any specific to R in the report, you should send the report 
of the R app not just the console, as this output seems to be related 
to X11 window manager and not to R.
Please send only the R crash log ov the crash event (only this as it 
can be very long if you had old version of R).

stefano

On Oct 26, 2004, at 7:17 PM, Nathan Weisz wrote:

> Hi Stefano,
>
> I'm having a hard time with the OS X 10.3 version of R. After using it
> some time without any problems, the GUI suddenly crashes when starting
> R (the X11 version works fine). Having installed and deinstalled R a
> couple of times without solving the problem I have no further idea.
> Perhaps useful: the console gives me this output:
>
> XFree86 Version 4.3.0 / X Window System
> (protocol Version 11, revision 0, vendor release 6600)
> [DRI] screen 0 installation complete
> Screen 0 added: 1152x768 @ (0,0)
> xmodmap:  unknown command on line /Users/nathan/.Xmodmap:1
> xmodmap:  unknown command on line /Users/nathan/.Xmodmap:2
> xmodmap:  unknown command on line /Users/nathan/.Xmodmap:3
> xmodmap:  unknown command on line /Users/nathan/.Xmodmap:4
> xmodmap:  unknown command on line /Users/nathan/.Xmodmap:5
> xmodmap:  5 errors encountered, aborting.
>
> Any hint greatly appreciated.
>
> Best,
> Nathan
>

From Nathan.Weisz at uni-konstanz.de  Wed Oct 27 15:33:11 2004
From: Nathan.Weisz at uni-konstanz.de (Nathan Weisz)
Date: Wed Oct 27 16:22:33 2004
Subject: [R-SIG-Mac] Gui problems
Message-ID: <1098883991.417fa3976fe6b@webmail.uni-konstanz.de>

Hi,

a couple of days ago I downloaded the 2.0 Mac-version of R. 

platform powerpc-apple-darwin6.8
arch     powerpc                
os       darwin6.8              
system   powerpc, darwin6.8     
status                          
major    2                      
minor    0.0                    
year     2004                   
month    10                     
day      04                     
language R   

Everything worked great so far. However since yesterday my GUI "crashes"
shorty (o.k. immediately; I can't enter anything) after starting R. I
removed R and reinstalled it a couple of times without solving the
problem. The X11 version works fine, so there probably should be a
problem with my GUI. 
I reproduced the problem today and wanted to send you a crash report
from the Crashreporter/R.crash.log but couldn't find a report dated
from today. So is it really a crash? 

Additional info, probably only superstitious but the problem began after
installing and deinstalling VPN. 

Any hint is greatly appreciated.

Best,
Nathan

From tpapp at Princeton.EDU  Wed Oct 27 17:07:01 2004
From: tpapp at Princeton.EDU (Tamas K Papp)
Date: Wed Oct 27 17:07:12 2004
Subject: [R-SIG-Mac] Edit->Copy kills Jan's Hacked R-2.0.0
Message-ID: <20041027150701.GA689@tpapp>

A minor bug: I am not sure if it is specific to Jan's hacked R, but
that's the one I have on my machine.

If I use Edit->Copy from the menu, it crashes with "bus error".

Jan: I am just reporting this, there might be some obvious fix.  Your
batteries-included R is a great benefit to the few people interested,
and I am not implying that we expect you to "support" it in any way by
fixing bugs.

Thanks,

Tamas

From deleeuw at stat.ucla.edu  Wed Oct 27 17:42:13 2004
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Wed Oct 27 17:42:38 2004
Subject: [R-SIG-Mac] Edit->Copy kills Jan's Hacked R-2.0.0
In-Reply-To: <20041027150701.GA689@tpapp>
References: <20041027150701.GA689@tpapp>
Message-ID: <C5BFE064-282E-11D9-9EF7-000D932C7F48@stat.ucla.edu>

Yes, sure. The R "application" is just the original R binary with
a dummy resource fork, and it does not know how to handle
menu events.

On Oct 27, 2004, at 8:07 AM, Tamas K Papp wrote:

> A minor bug: I am not sure if it is specific to Jan's hacked R, but
> that's the one I have on my machine.
>
> If I use Edit->Copy from the menu, it crashes with "bus error".
>
> Jan: I am just reporting this, there might be some obvious fix.  Your
> batteries-included R is a great benefit to the few people interested,
> and I am not implying that we expect you to "support" it in any way by
> fixing bugs.
>
> Thanks,
>
> Tamas
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8125 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw@stat.ucla.edu
homepage: http://gifi.stat.ucla.edu
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au

From jtnews1 at biomserv.univ-lyon1.fr  Wed Oct 27 18:04:24 2004
From: jtnews1 at biomserv.univ-lyon1.fr (Jean Thioulouse)
Date: Wed Oct 27 18:04:28 2004
Subject: [R-SIG-Mac] R preferences
Message-ID: <p06002000bda574a0e94c@[134.214.34.24]>

Hello,

It seems that R Quartz preferences are not used (width, height, and
location). And I cannot change the font family and size. Is it not yet
implemented, or a bug, or a problem in my setup ?

Jean

-- 
Jean Thioulouse - Labo. BBE, UMR CNRS 5558, Equipe "Ecologie Statistique"
Universite Lyon 1,  Batiment G. Mendel, 69622 Villeurbanne Cedex,  France
Tel: (33) 4 72 43 27 56                           Fax: (33) 4 72 43 27 56
                 http://pbil.univ-lyon1.fr/JTHome.html

From goedman at mac.com  Wed Oct 27 18:20:44 2004
From: goedman at mac.com (Rob J Goedman)
Date: Wed Oct 27 18:20:50 2004
Subject: [R-SIG-Mac] Gui problems
In-Reply-To: <1098883991.417fa3976fe6b@webmail.uni-konstanz.de>
References: <1098883991.417fa3976fe6b@webmail.uni-konstanz.de>
Message-ID: <275C2E52-2834-11D9-ADE1-000A95C478FE@mac.com>

Nathan,

Do you have an .RData file? I have seen this happening after saving the 
R
workspace while using tcl/tk and restarting R without restarting X11 
first.

You won't see anything ever appear on the RConsole window.

Rob


On Oct 27, 2004, at 6:33 AM, Nathan Weisz wrote:

> Hi,
>
> a couple of days ago I downloaded the 2.0 Mac-version of R.
>
> platform powerpc-apple-darwin6.8
> arch     powerpc
> os       darwin6.8
> system   powerpc, darwin6.8
> status
> major    2
> minor    0.0
> year     2004
> month    10
> day      04
> language R
>
> Everything worked great so far. However since yesterday my GUI 
> "crashes"
> shorty (o.k. immediately; I can't enter anything) after starting R. I
> removed R and reinstalled it a couple of times without solving the
> problem. The X11 version works fine, so there probably should be a
> problem with my GUI.
> I reproduced the problem today and wanted to send you a crash report
> from the Crashreporter/R.crash.log but couldn't find a report dated
> from today. So is it really a crash?
>
> Additional info, probably only superstitious but the problem began 
> after
> installing and deinstalling VPN.
>
> Any hint is greatly appreciated.
>
> Best,
> Nathan
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

From stefano.iacus at unimi.it  Wed Oct 27 20:22:48 2004
From: stefano.iacus at unimi.it (stefano iacus)
Date: Wed Oct 27 20:22:52 2004
Subject: [R-SIG-Mac] R preferences
In-Reply-To: <p06002000bda574a0e94c@[134.214.34.24]>
References: <p06002000bda574a0e94c@[134.214.34.24]>
Message-ID: <34993C44-2845-11D9-A345-000A95C87F66@unimi.it>

Please, if you use the svn version, read the NEWS and TODO list files.
Only colors settings are implemented all the rest plus much more will 
happen probably next week.
I'll do my best to work in this as it has some priority.
stefano


On Oct 27, 2004, at 6:04 PM, Jean Thioulouse wrote:

> Hello,
>
> It seems that R Quartz preferences are not used (width, height, and
> location). And I cannot change the font family and size. Is it not yet
> implemented, or a bug, or a problem in my setup ?
>
> Jean
>
> -- 
> Jean Thioulouse - Labo. BBE, UMR CNRS 5558, Equipe "Ecologie 
> Statistique"
> Universite Lyon 1,  Batiment G. Mendel, 69622 Villeurbanne Cedex,  
> France
> Tel: (33) 4 72 43 27 56                           Fax: (33) 4 72 43 27 
> 56
>                  http://pbil.univ-lyon1.fr/JTHome.html
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac@stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

From Nathan.Weisz at uni-konstanz.de  Wed Oct 27 18:50:47 2004
From: Nathan.Weisz at uni-konstanz.de (Nathan Weisz)
Date: Wed Oct 27 20:24:12 2004
Subject: [R-SIG-Mac] Gui problems
In-Reply-To: <275C2E52-2834-11D9-ADE1-000A95C478FE@mac.com>
References: <1098883991.417fa3976fe6b@webmail.uni-konstanz.de>
	<275C2E52-2834-11D9-ADE1-000A95C478FE@mac.com>
Message-ID: <1098895847.417fd1e7f0168@webmail.uni-konstanz.de>

Hi,

thanks for the response.

> Do you have an .RData file? I have seen this happening after saving
> the 
> R
> workspace while using tcl/tk and restarting R without restarting X11
> 
> first.

Actually I always used the GUI-version and never the X11. I only use X11
now so I can continue my work.
Nevertheless R won't start up after starting X11.

> You won't see anything ever appear on the RConsole window.

That's exactly what happens (or unfortunately not happens).

Best,

Nathan

From goedman at mac.com  Wed Oct 27 21:13:03 2004
From: goedman at mac.com (Rob J Goedman)
Date: Wed Oct 27 21:13:11 2004
Subject: [R-SIG-Mac] Gui problems
In-Reply-To: <1098898348.417fdbac43a84@webmail.uni-konstanz.de>
References: <1098883991.417fa3976fe6b@webmail.uni-konstanz.de>
	<275C2E52-2834-11D9-ADE1-000A95C478FE@mac.com>
	<1098895847.417fd1e7f0168@webmail.uni-konstanz.de>
	<453C756C-283A-11D9-ADE1-000A95C478FE@mac.com>
	<1098898348.417fdbac43a84@webmail.uni-konstanz.de>
Message-ID: <39DAA410-284C-11D9-ADE1-000A95C478FE@mac.com>

Great. Maybe by accident (e.g. running an example) tcl/tk was loaded 
while
X11 was available and on the next workspace save this was recorded in 
.RData.

Rob


On Oct 27, 2004, at 10:32 AM, Nathan Weisz wrote:

> Rob,
>
> this solved the problem. I had a .Rdata file in my home directory. 
> After
> deleting it R starts up and runs smoothly.
> Thanks!
> Nathan
>
>
>
> Zitat von Rob J Goedman <goedman@mac.com>:
>
>> Nathan,
>>
>> Do you have a .RData file? It might be worthwhile to rename or delete
>>
>> it and
>> see if that resolves the problem.
>>
>> Rob
>>
>>
>> On Oct 27, 2004, at 9:50 AM, Nathan Weisz wrote:
>>
>>> Hi,
>>>
>>> thanks for the response.
>>>
>>>> Do you have an .RData file? I have seen this happening after
>> saving
>>>> the
>>>> R
>>>> workspace while using tcl/tk and restarting R without restarting
>> X11
>>>>
>>>> first.
>>>
>>> Actually I always used the GUI-version and never the X11. I only
>> use
>>> X11
>>> now so I can continue my work.
>>> Nevertheless R won't start up after starting X11.
>>>
>>>> You won't see anything ever appear on the RConsole window.
>>>
>>> That's exactly what happens (or unfortunately not happens).
>>>
>>> Best,
>>>
>>> Nathan
>>
>>
>
>

From bellis at hsph.harvard.edu  Sat Oct 30 10:51:42 2004
From: bellis at hsph.harvard.edu (Byron Ellis)
Date: Sat Oct 30 10:51:51 2004
Subject: [R-SIG-Mac] patch for Obj-C building in R
Message-ID: <EBE5E424-2A50-11D9-8DB7-000D93C24D64@hsph.harvard.edu>

A diff against R-devel to allow Objective-C source in R packages. Yes, 
its basically trivial :-)


-------------- next part --------------
A non-text attachment was scrubbed...
Name: ObjC.diff
Type: application/octet-stream
Size: 1547 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20041030/2c9e7855/ObjC.obj
-------------- next part --------------

---
Byron Ellis (ellis@stat.harvard.edu)
"Oook" -- The Librarian
From john.maindonald at anu.edu.au  Sat Oct 30 13:19:15 2004
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Sat Oct 30 13:19:26 2004
Subject: [R-SIG-Mac] R.app crash report
Message-ID: <889FE0E3-2A65-11D9-9226-000A95CDA0F2@anu.edu.au>

The following happens, with the latest build, when I try to start the 
application:

2004-10-30 21:14:39.409 R[1709] No Info.plist file in application 
bundle or no NSPrincipalClass in the Info.plist file, exiting

John Maindonald             email: john.maindonald@anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Bioinformation Science, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.

From simon.urbanek at math.uni-augsburg.de  Sat Oct 30 14:45:01 2004
From: simon.urbanek at math.uni-augsburg.de (Simon Urbanek)
Date: Sat Oct 30 14:45:01 2004
Subject: [R-SIG-Mac] R.app crash report
In-Reply-To: <889FE0E3-2A65-11D9-9226-000A95CDA0F2@anu.edu.au>
References: <889FE0E3-2A65-11D9-9226-000A95CDA0F2@anu.edu.au>
Message-ID: <8403605A-2A71-11D9-8762-0003938AF008@math.uni-augsburg.de>

On Oct 30, 2004, at 7:19 AM, John Maindonald wrote:

> The following happens, with the latest build, when I try to start the 
> application:
>
> 2004-10-30 21:14:39.409 R[1709] No Info.plist file in application 
> bundle or no NSPrincipalClass in the Info.plist file, exiting
>

Basically the nightly building process needs to re-fetch Info.plist 
during the build. When this fails (e.g. the SVN server is down) then 
the resulting application doesn't work. I have just re-run the script 
manually, so it is ok again. I'll see if I can find a more permanent 
way around this.

Cheers,
Simon

From simon.urbanek at math.uni-augsburg.de  Sat Oct 30 17:03:37 2004
From: simon.urbanek at math.uni-augsburg.de (Simon Urbanek)
Date: Sat Oct 30 17:03:36 2004
Subject: [R-SIG-Mac] Using Obj-C from R
In-Reply-To: <EBE5E424-2A50-11D9-8DB7-000D93C24D64@hsph.harvard.edu>
References: <EBE5E424-2A50-11D9-8DB7-000D93C24D64@hsph.harvard.edu>
Message-ID: <E0A5C43C-2A84-11D9-8762-0003938AF008@math.uni-augsburg.de>

I have put together a small and crude package that allows you to send 
messages to Obj-C objects and classes and create references to objects, 
classes and selectors. For historical reasons it's called Cocoa 
(although Obj-C is strictly speaking not Cocoa) and you can get it from 
my nightly builds page ( http://www.rosuda.org/R/nightly/ ).

It is interesting only for developers as it's only the first step in a 
complete Obj-C/R suite, but since some people seemed to be interested 
in this, I thought I share it here. Some (admittedly stupid) examples:

# Class sc = [NSString class]
 > sc<-.MCall("NSString","class")
 > sc
Obj-C class: NSString

# NSString *s = [NSString stringWithString:@"hello"]
 > s <- .MCall("NSString","stringWithString:","hello")
 > s
hello

# [s stringByAppendingString: @" World!")
 > s2 <- .MCall(s, "stringByAppendingString:", " World!")
 > s2
hello World!

# [s respondsToSelector: @selector(length)]
 > .MCall(s, "respondsToSelector:", .MSelector("length"))
[1] TRUE

(the M is front of the calls was motivated by the .m extension of Obj-C 
code)
and if you use Cocoa inside R.app you can do many stupid things like:

c<-.MCall("RController", "getRController")
.MCall(c, "toggleHistory:", c)

Currently only boolean, id and Class results are supported and only 
strings are automatically converted to NSString as arguments. Main work 
to be done now is the support for scalar types, especially Cocoa-native 
types like NSRange and so on. Anyone interested in this is welcome to 
enhance the code ... Comments are very welcome, too. But again, this is 
just a draft - no documentation, no guarantees ;).

Cheers,
Simon

