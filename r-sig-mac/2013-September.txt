From colin at colinsmith.org  Sun Sep  1 10:23:16 2013
From: colin at colinsmith.org (Colin A. Smith)
Date: Sun, 1 Sep 2013 10:23:16 +0200
Subject: [R-SIG-Mac] Submitting Enhancements for Quartz Device
In-Reply-To: <716EFEC7-5AF2-4DAD-80EC-DF0287CA1615@r-project.org>
References: <15811CD1-D596-48F3-A0DE-D3EF8C4668FA@colinsmith.org>
	<716EFEC7-5AF2-4DAD-80EC-DF0287CA1615@r-project.org>
Message-ID: <7DCD2F5C-79D9-48A4-AB6C-32B2642205EE@colinsmith.org>

On Aug 30, 2013, at 17:00, Simon Urbanek <simon.urbanek at r-project.org> wrote:

> On Aug 30, 2013, at 10:08 AM, Colin A. Smith wrote:
> 
>> I use R exclusively through the Terminal on Mac OS X and just made a few changes in grDevices to improve the quartz device appearance/functionality:
>> 
>> - I altered how the menus were created so that the "..." and "R" menus appear as "R" and "File".
>> - I changed the dock icon to use the R logo instead of the default command line program icon.
>> - I added a menu item to the Window menu that will show the Terminal window/tab the R process is running in.
>> 
>> How should I go about sharing this so that I can get feedback? If others agree, it would be great to have this integrated into the release version at some point.
> 
> The standard procedure is to create diffs against R-devel and submit them to bugzilla as improvement.
> In this particular case you can also simply send them to me and I'll have a look.

Thanks for pointing me in the right direction! I went ahead and submitted the change to bugzilla along with a more detailed explanation:

https://bugs.r-project.org/bugzilla3/show_bug.cgi?id=15438

Cheers,

Colin


From kubovy at virginia.edu  Tue Sep  3 12:21:30 2013
From: kubovy at virginia.edu (Michael Kubovy)
Date: Tue, 3 Sep 2013 06:21:30 -0400
Subject: [R-SIG-Mac] Trouble with tcltk
Message-ID: <793DEA4F-C069-416F-9B75-D515A9B65C26@virginia.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130903/66d61a25/attachment.pl>

From ripley at stats.ox.ac.uk  Tue Sep  3 12:40:17 2013
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 03 Sep 2013 11:40:17 +0100
Subject: [R-SIG-Mac] Trouble with tcltk
In-Reply-To: <793DEA4F-C069-416F-9B75-D515A9B65C26@virginia.edu>
References: <793DEA4F-C069-416F-9B75-D515A9B65C26@virginia.edu>
Message-ID: <5225BC91.7060508@stats.ox.ac.uk>

On 03/09/2013 11:21, Michael Kubovy wrote:
> Many packages require tcltk.
>
> I have installed http://cran.r-project.org/bin/macosx/tools/tcltk-8.5.5-x11.pkg and yet, when I try

That is the wrong version for R 3.0.1, so please remove it.  You may 
need to re-install R, as that ships with the correct tcltk.

> library(gamlss.demo)
> I get
> Loading required package: rpanel
> Loading required package: tcltk
> Error : .onLoad failed in loadNamespace() for 'tcltk', details:
>    call: dyn.load(file, DLLpath = DLLpath, ...)
>    error: unable to load shared object '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/libs/tcltk.so':
>    dlopen(/Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/libs/tcltk.so, 10): Library not loaded: /usr/local/lib/libtcl8.6.dylib
>    Referenced from: /Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/libs/tcltk.so
>    Reason: image not found
> Error: package ?tcltk? could not be loaded
>
>
>> sessionInfo()
> R version 3.0.1 (2013-05-16)
> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] datasets  utils     stats     graphics  grDevices methods   base
>
> other attached packages:
> [1] sos_1.3-7       brew_1.0-6      ggplot2_0.9.3.1 car_2.0-18      nnet_7.3-7      MASS_7.3-28
>
> loaded via a namespace (and not attached):
>   [1] colorspace_1.2-2   dichromat_2.0-0    digest_0.6.3       grid_3.0.1         gtable_0.1.2       labeling_0.2
>   [7] munsell_0.4.2      plyr_1.8           proto_0.3-10       RColorBrewer_1.0-5 reshape2_1.2.2     scales_0.2.3
> [13] stringr_0.6.2
>
> ______________________________________________
> Professor Michael Kubovy
> University of Virginia
> Department of Psychology
> for mail add:						for FedEx or UPS add:
> P.O.Box 400400					Gilmer Hall, Room 102
> Charlottesville, VA 22904-4400	485 McCormick Road
> USA							Charlottesville, VA 22903
> 		room	phone
> Office:    B011	+1-434-982-4729
> Lab:        B019	+1-434-982-4751
> WWW:    http://www.people.virginia.edu/~mk9y/
>
>
> 	[[alternative HTML version deleted]]
>
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From bhh at xs4all.nl  Tue Sep  3 12:40:19 2013
From: bhh at xs4all.nl (Berend Hasselman)
Date: Tue, 3 Sep 2013 12:40:19 +0200
Subject: [R-SIG-Mac] Trouble with tcltk
In-Reply-To: <793DEA4F-C069-416F-9B75-D515A9B65C26@virginia.edu>
References: <793DEA4F-C069-416F-9B75-D515A9B65C26@virginia.edu>
Message-ID: <46F32EAA-BB39-4E2A-8CCF-671C09E27777@xs4all.nl>


On 03-09-2013, at 12:21, Michael Kubovy <kubovy at virginia.edu> wrote:

> Many packages require tcltk.
> 
> I have installed http://cran.r-project.org/bin/macosx/tools/tcltk-8.5.5-x11.pkg and yet, when I try
> library(gamlss.demo)
> I get
> Loading required package: rpanel
> Loading required package: tcltk
> Error : .onLoad failed in loadNamespace() for 'tcltk', details:
>  call: dyn.load(file, DLLpath = DLLpath, ...)
>  error: unable to load shared object '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/libs/tcltk.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/libs/tcltk.so, 10): Library not loaded: /usr/local/lib/libtcl8.6.dylib
>  Referenced from: /Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/libs/tcltk.so
>  Reason: image not found
> Error: package ?tcltk? could not be loaded
> 

Did you see the note (in bold)

NOTE: R 3.0.0 and higher comes bundled with Tck/Tk 8.6.0 so you do not need this package

on the CRAN page http://cran.r-project.org/bin/macosx/tools?
"This package" refers to tcltk8.5.5.

Reinstalling R 3.0.1 should solve your problem (see note).

Berend

> 
>> sessionInfo()
> R version 3.0.1 (2013-05-16)
> Platform: x86_64-apple-darwin10.8.0 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] datasets  utils     stats     graphics  grDevices methods   base     
> 
> other attached packages:
> [1] sos_1.3-7       brew_1.0-6      ggplot2_0.9.3.1 car_2.0-18      nnet_7.3-7      MASS_7.3-28    
> 
> loaded via a namespace (and not attached):
> [1] colorspace_1.2-2   dichromat_2.0-0    digest_0.6.3       grid_3.0.1         gtable_0.1.2       labeling_0.2      
> [7] munsell_0.4.2      plyr_1.8           proto_0.3-10       RColorBrewer_1.0-5 reshape2_1.2.2     scales_0.2.3      
> [13] stringr_0.6.2     
> 
> ______________________________________________
> Professor Michael Kubovy
> University of Virginia
> Department of Psychology
> for mail add:						for FedEx or UPS add: 
> P.O.Box 400400					Gilmer Hall, Room 102
> Charlottesville, VA 22904-4400	485 McCormick Road
> USA							Charlottesville, VA 22903
> 		room	phone
> Office:    B011	+1-434-982-4729
> Lab:        B019	+1-434-982-4751
> WWW:    http://www.people.virginia.edu/~mk9y/
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From kasperdanielhansen at gmail.com  Tue Sep  3 16:22:54 2013
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Tue, 3 Sep 2013 10:22:54 -0400
Subject: [R-SIG-Mac] Trouble with tcltk
In-Reply-To: <5225BC91.7060508@stats.ox.ac.uk>
References: <793DEA4F-C069-416F-9B75-D515A9B65C26@virginia.edu>
	<5225BC91.7060508@stats.ox.ac.uk>
Message-ID: <CAC2h7uu4koggz-taUJ_iefFBaGGy9FE9n-qCXyZtpE6kbCcu6Q@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130903/2b645ee4/attachment.pl>

From ripley at stats.ox.ac.uk  Tue Sep  3 16:38:33 2013
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 03 Sep 2013 15:38:33 +0100
Subject: [R-SIG-Mac] Trouble with tcltk
In-Reply-To: <CAC2h7uu4koggz-taUJ_iefFBaGGy9FE9n-qCXyZtpE6kbCcu6Q@mail.gmail.com>
References: <793DEA4F-C069-416F-9B75-D515A9B65C26@virginia.edu>
	<5225BC91.7060508@stats.ox.ac.uk>
	<CAC2h7uu4koggz-taUJ_iefFBaGGy9FE9n-qCXyZtpE6kbCcu6Q@mail.gmail.com>
Message-ID: <5225F469.6020709@stats.ox.ac.uk>

On 03/09/2013 15:22, Kasper Daniel Hansen wrote:
> For those of us who compile from source, I assume this
>    tcl8.6.0-darwin10-x86_64.tar.gz
> from
> http://r.research.att.com/libs/
> is the recommend version? Indeed, I always assume I should just grab the
> newest version of everything I need from this location.

You also need tk.

But I believe that installing a binary of R 3.0.1 puts in place all you 
need: I've not set a new Mac up since January.
>
> Best,
> Kasper
>
>
>
>
> On Tue, Sep 3, 2013 at 6:40 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk
> <mailto:ripley at stats.ox.ac.uk>> wrote:
>
>     On 03/09/2013 11:21, Michael Kubovy wrote:
>
>         Many packages require tcltk.
>
>         I have installed
>         http://cran.r-project.org/bin/__macosx/tools/tcltk-8.5.5-x11.__pkg
>         <http://cran.r-project.org/bin/macosx/tools/tcltk-8.5.5-x11.pkg>
>         and yet, when I try
>
>
>     That is the wrong version for R 3.0.1, so please remove it.  You may
>     need to re-install R, as that ships with the correct tcltk.
>
>         library(gamlss.demo)
>         I get
>         Loading required package: rpanel
>         Loading required package: tcltk
>         Error : .onLoad failed in loadNamespace() for 'tcltk', details:
>             call: dyn.load(file, DLLpath = DLLpath, ...)
>             error: unable to load shared object
>         '/Library/Frameworks/R.__framework/Versions/3.0/__Resources/library/tcltk/libs/__tcltk.so':
>
>           dlopen(/Library/Frameworks/R.__framework/Versions/3.0/__Resources/library/tcltk/libs/__tcltk.so, 10): Library not loaded: /usr/local/lib/libtcl8.6.dylib
>             Referenced from:
>         /Library/Frameworks/R.__framework/Versions/3.0/__Resources/library/tcltk/libs/__tcltk.so
>             Reason: image not found
>         Error: package ?tcltk? could not be loaded
>
>
>             sessionInfo()
>
>         R version 3.0.1 (2013-05-16)
>         Platform: x86_64-apple-darwin10.8.0 (64-bit)
>
>         locale:
>         [1]
>         en_US.UTF-8/en_US.UTF-8/en_US.__UTF-8/C/en_US.UTF-8/en_US.UTF-__8
>
>         attached base packages:
>         [1] datasets  utils     stats     graphics  grDevices methods   base
>
>         other attached packages:
>         [1] sos_1.3-7       brew_1.0-6      ggplot2_0.9.3.1 car_2.0-18
>             nnet_7.3-7      MASS_7.3-28
>
>         loaded via a namespace (and not attached):
>            [1] colorspace_1.2-2   dichromat_2.0-0    digest_0.6.3
>         grid_3.0.1         gtable_0.1.2       labeling_0.2
>            [7] munsell_0.4.2      plyr_1.8           proto_0.3-10
>         RColorBrewer_1.0-5 reshape2_1.2.2     scales_0.2.3
>         [13] stringr_0.6.2
>
>         ________________________________________________
>         Professor Michael Kubovy
>         University of Virginia
>         Department of Psychology
>         for mail add:                                           for
>         FedEx or UPS add:
>         P.O.Box 400400                                  Gilmer Hall,
>         Room 102
>         Charlottesville, VA 22904-4400  485 McCormick Road
>         USA
>         Charlottesville, VA 22903
>                          room    phone
>         Office:    B011 +1-434-982-4729 <tel:%2B1-434-982-4729>
>         Lab:        B019 +1-434-982-4751 <tel:%2B1-434-982-4751>
>         WWW: http://www.people.virginia.__edu/~mk9y/
>         <http://www.people.virginia.edu/~mk9y/>
>
>
>                  [[alternative HTML version deleted]]
>
>
>
>         _________________________________________________
>         R-SIG-Mac mailing list
>         R-SIG-Mac at r-project.org <mailto:R-SIG-Mac at r-project.org>
>         https://stat.ethz.ch/mailman/__listinfo/r-sig-mac
>         <https://stat.ethz.ch/mailman/listinfo/r-sig-mac>
>
>
>
>     --
>     Brian D. Ripley, ripley at stats.ox.ac.uk <mailto:ripley at stats.ox.ac.uk>
>     Professor of Applied Statistics,
>     http://www.stats.ox.ac.uk/~__ripley/
>     <http://www.stats.ox.ac.uk/~ripley/>
>     University of Oxford,             Tel: +44 1865 272861
>     <tel:%2B44%201865%20272861> (self)
>     1 South Parks Road, +44 1865 272866 <tel:%2B44%201865%20272866> (PA)
>     Oxford OX1 3TG, UK                Fax: +44 1865 272595
>     <tel:%2B44%201865%20272595>
>
>
>     _________________________________________________
>     R-SIG-Mac mailing list
>     R-SIG-Mac at r-project.org <mailto:R-SIG-Mac at r-project.org>
>     https://stat.ethz.ch/mailman/__listinfo/r-sig-mac
>     <https://stat.ethz.ch/mailman/listinfo/r-sig-mac>
>
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From kasperdanielhansen at gmail.com  Tue Sep  3 16:42:47 2013
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Tue, 3 Sep 2013 10:42:47 -0400
Subject: [R-SIG-Mac] Trouble with tcltk
In-Reply-To: <5225F469.6020709@stats.ox.ac.uk>
References: <793DEA4F-C069-416F-9B75-D515A9B65C26@virginia.edu>
	<5225BC91.7060508@stats.ox.ac.uk>
	<CAC2h7uu4koggz-taUJ_iefFBaGGy9FE9n-qCXyZtpE6kbCcu6Q@mail.gmail.com>
	<5225F469.6020709@stats.ox.ac.uk>
Message-ID: <CAC2h7uu7mvutHOw3NZzMYV+FUE2KcCV7VfE-MtUL4gQWRO5gbg@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130903/feb70ee0/attachment.pl>

From kubovy at virginia.edu  Wed Sep  4 02:41:16 2013
From: kubovy at virginia.edu (Michael Kubovy)
Date: Tue, 3 Sep 2013 20:41:16 -0400
Subject: [R-SIG-Mac] Trouble with tcltk
In-Reply-To: <5225BC91.7060508@stats.ox.ac.uk>
References: <793DEA4F-C069-416F-9B75-D515A9B65C26@virginia.edu>
	<5225BC91.7060508@stats.ox.ac.uk>
Message-ID: <362EC5BE-BFE6-4BFC-A35E-3C6E9C0BB8CF@virginia.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130903/831ad02c/attachment.pl>

From Rainer at krugs.de  Mon Sep  9 11:56:21 2013
From: Rainer at krugs.de (Rainer M Krug)
Date: Mon, 9 Sep 2013 11:56:21 +0200
Subject: [R-SIG-Mac] Installing packages with type="source" instead of the
	default binary?
Message-ID: <m2li36s4hm.fsf@krugs.de>

Hi

I am using Snow Leopard and I can compile packages (I have all tools
installed) but I am asking myself:

Is there an advantage to using type="source" instead of the binary
install of the packages? For certain packages it makes sense to have
fine grained control to link to certain versions of C libraries
(e.g. rgdal), but is there a general advantage of compiling locally?

Or is that simply a leftover from my Linux days, that I prefer locally
compiled packages?

Thanks,

Rainer

-- 
Rainer M. Krug

email: RMKrug<at>gmail<dot>com
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 486 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130909/a4f915d9/attachment.bin>

From ripley at stats.ox.ac.uk  Mon Sep  9 12:28:58 2013
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Mon, 9 Sep 2013 11:28:58 +0100
Subject: [R-SIG-Mac] Installing packages with type="source" instead of
 the default binary?
In-Reply-To: <m2li36s4hm.fsf@krugs.de>
References: <m2li36s4hm.fsf@krugs.de>
Message-ID: <522DA2EA.4060502@stats.ox.ac.uk>

On 09/09/2013 10:56, Rainer M Krug wrote:
> Hi
>
> I am using Snow Leopard and I can compile packages (I have all tools
> installed) but I am asking myself:
>
> Is there an advantage to using type="source" instead of the binary
> install of the packages? For certain packages it makes sense to have
> fine grained control to link to certain versions of C libraries
> (e.g. rgdal), but is there a general advantage of compiling locally?

There is an advantage if you run multiple versions of R and want to 
share a library directory.  The CRAN binary versions are tied to the 
R.framework installation.

But otherwise

- for the majority of packages (which have no compiled code), there is 
almost no advantage in installing from source, but also very little loss 
(you need no extra tools).

- The CRAN binaries are built for 3.0.0 I believe, and certainly not 
re-built for patch versions.  For a very few packages it is advantageous 
to use the latest patch version (I am thinking of some issues with 
non-Sweave vignettes in recent history, but there have been other issues).

- You might well want to use different external C/C++/Fortran software, 
and you may even need to do so or use a different compiler (there are 
packages which install with clang but not llvm-gcc and v.v.).

>
> Or is that simply a leftover from my Linux days, that I prefer locally
> compiled packages?
>
> Thanks,
>
> Rainer
>
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From Rainer at krugs.de  Mon Sep  9 12:42:22 2013
From: Rainer at krugs.de (Rainer M Krug)
Date: Mon, 9 Sep 2013 12:42:22 +0200
Subject: [R-SIG-Mac] Installing packages with type="source" instead of
	the default binary?
References: <m2li36s4hm.fsf@krugs.de> <522DA2EA.4060502@stats.ox.ac.uk>
Message-ID: <m238pes2cx.fsf@krugs.de>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> On 09/09/2013 10:56, Rainer M Krug wrote:
>> Hi
>>
>> I am using Snow Leopard and I can compile packages (I have all tools
>> installed) but I am asking myself:
>>
>> Is there an advantage to using type="source" instead of the binary
>> install of the packages? For certain packages it makes sense to have
>> fine grained control to link to certain versions of C libraries
>> (e.g. rgdal), but is there a general advantage of compiling locally?
>
> There is an advantage if you run multiple versions of R and want to
> share a library directory.  The CRAN binary versions are tied to the
> R.framework installation.
>
> But otherwise
>
> - for the majority of packages (which have no compiled code), there is
> almost no advantage in installing from source, but also very little
> loss (you need no extra tools).

True.

>
> - The CRAN binaries are built for 3.0.0 I believe, and certainly not
> re-built for patch versions.  For a very few packages it is
> advantageous to use the latest patch version (I am thinking of some
> issues with non-Sweave vignettes in recent history, but there have
> been other issues).
>
> - You might well want to use different external C/C++/Fortran
> software, and you may even need to do so or use a different compiler
> (there are packages which install with clang but not llvm-gcc and
> v.v.).


Thanks for this detailed response.

So if my tool chain for compilation is up and running, there can be an
advantage to compile from source. So I will likely stick to that habit.

Thanks,

Rainer


>
>>
>> Or is that simply a leftover from my Linux days, that I prefer locally
>> compiled packages?
>>
>> Thanks,
>>
>> Rainer
>>
>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
<#secure method=pgpmime mode=sign>

-- 
Rainer M. Krug

email: RMKrug<at>gmail<dot>com


From kasperdanielhansen at gmail.com  Mon Sep  9 15:26:53 2013
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Mon, 9 Sep 2013 09:26:53 -0400
Subject: [R-SIG-Mac] Installing packages with type="source" instead of
 the default binary?
In-Reply-To: <m238pes2cx.fsf@krugs.de>
References: <m2li36s4hm.fsf@krugs.de> <522DA2EA.4060502@stats.ox.ac.uk>
	<m238pes2cx.fsf@krugs.de>
Message-ID: <CAC2h7utW5ycFG8NzFcfwGRuZGY4TyfSoF-DvEcKC7db0+CsU0g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130909/9c202074/attachment.pl>

From szehnder at uni-bonn.de  Wed Sep 11 23:08:01 2013
From: szehnder at uni-bonn.de (Simon Zehnder)
Date: Wed, 11 Sep 2013 23:08:01 +0200
Subject: [R-SIG-Mac] R 3.0.1 build from sources: Wrong library paths
Message-ID: <C65DA019-24A1-469A-BA6F-38A2115B43F6@uni-bonn.de>

Dear R-Users and R-Devels,

I made a brand new install of Mac OS X Mountain Lion 10.8.4 on a new hard drive and want to build R from sources. As I use OpenMP 3.1 in my C++ extensions I used MacPorts to get the gcc48 compiler collection. Installation run without a hassle and I set the mp-gcc48 active. 

I downloaded the R-3.0.1 tar.gz and extracted it. Then I changed the config.site to the following:

https://gist.github.com/anonymous/6529767

Furthermore I had to change my PATH variable in the .profile as it included /usr/local/bin:/usr/local/sbin and I have not such a folder in my /usr. 

Now when I run configure I get the following config.log

https://gist.github.com/anonymous/6529743

with the warning:  "ld: warning: directory not found for option '-L/usr/local/lib' "on line 217. This warning becomes an error if running the make command. I still see the C linker using -L/usr/local/lib which does not exist. I changed the LDFLAGS in the config.site to -L/opt/local/lib but Rs configure script seems to be very resistant to my new proposal. 

I need some help. How should I proceed? Which FLAGS can change the directory the make script searches for libraries? What configure options should be used with R-3.0.1 on OS X 10.8.4 using gcc-4.8.1?    


Best

Simon


From szehnder at uni-bonn.de  Thu Sep 12 10:49:53 2013
From: szehnder at uni-bonn.de (Simon Zehnder)
Date: Thu, 12 Sep 2013 10:49:53 +0200
Subject: [R-SIG-Mac] R 3.0.1 build from sources: Wrong library paths
In-Reply-To: <C65DA019-24A1-469A-BA6F-38A2115B43F6@uni-bonn.de>
References: <C65DA019-24A1-469A-BA6F-38A2115B43F6@uni-bonn.de>
Message-ID: <A008E47B-3CDE-4313-989A-181860CEBEA3@uni-bonn.de>

I did some progress on my problem: 

Using LDFLAGS and CPPFLAGS on the shell instead of in the config.site file changes the directories and make can find all the libraries. 

The next thing that came up, was the Mac-specific Cocoa issue. When I compile R sources with OBJC="gcc -arch x86_64" I get the following outputs: 

config.log: https://gist.github.com/anonymous/6534550

make.log: https://gist.github.com/anonymous/6534560

with errors starting in line 883 of the make.log. So it seems the gcc cannot handle the .m files properly. 

Then I used OBJC="clang" and I get the following output:

config.log: https://gist.github.com/anonymous/6534614

make.log: https://gist.github.com/anonymous/6534606

Here I get (see line 879 in the make.log) some weird warning. I know these are only warnings, they do not influence the way R works later on, but I am interested why gcc cannot handle the Cocoa files at all and clang has these warnings.


Best

Simon


 On Sep 11, 2013, at 11:08 PM, Simon Zehnder <szehnder at uni-bonn.de> wrote:

> Dear R-Users and R-Devels,
> 
> I made a brand new install of Mac OS X Mountain Lion 10.8.4 on a new hard drive and want to build R from sources. As I use OpenMP 3.1 in my C++ extensions I used MacPorts to get the gcc48 compiler collection. Installation run without a hassle and I set the mp-gcc48 active. 
> 
> I downloaded the R-3.0.1 tar.gz and extracted it. Then I changed the config.site to the following:
> 
> https://gist.github.com/anonymous/6529767
> 
> Furthermore I had to change my PATH variable in the .profile as it included /usr/local/bin:/usr/local/sbin and I have not such a folder in my /usr. 
> 
> Now when I run configure I get the following config.log
> 
> https://gist.github.com/anonymous/6529743
> 
> with the warning:  "ld: warning: directory not found for option '-L/usr/local/lib' "on line 217. This warning becomes an error if running the make command. I still see the C linker using -L/usr/local/lib which does not exist. I changed the LDFLAGS in the config.site to -L/opt/local/lib but Rs configure script seems to be very resistant to my new proposal. 
> 
> I need some help. How should I proceed? Which FLAGS can change the directory the make script searches for libraries? What configure options should be used with R-3.0.1 on OS X 10.8.4 using gcc-4.8.1?    
> 
> 
> Best
> 
> Simon
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From szehnder at uni-bonn.de  Thu Sep 12 11:50:19 2013
From: szehnder at uni-bonn.de (Simon Zehnder)
Date: Thu, 12 Sep 2013 11:50:19 +0200
Subject: [R-SIG-Mac] R 3.0.1 build from sources: Wrong library paths
In-Reply-To: <A008E47B-3CDE-4313-989A-181860CEBEA3@uni-bonn.de>
References: <C65DA019-24A1-469A-BA6F-38A2115B43F6@uni-bonn.de>
	<A008E47B-3CDE-4313-989A-181860CEBEA3@uni-bonn.de>
Message-ID: <B8C06DE9-3E90-4F23-8DF9-98349A9F6B8A@uni-bonn.de>

I compiled R and made a check-all without errors (only for the PDF manuals - but this is ok). Then I used

sudo make install 

to install it to the R.framework. Now, when I want to use R on the shell no command can be found, as the installation has not installed the binaries in /usr/bin. If I try to change my PATH variable and add /Library/Frameworks/R.framework/Ressources/bin it does not change a thing, I still get the error: -bash: R: command not found. The only thing to make it work is to go into the folder /Libraries/Frameworks/R.framework/Ressources/bin/ and start it via ./R.

I remember no such behaviour for prior builds of R. It seems Mac has changed something since my last compilation of R sources. 

Can anyone help?

Best

Simon

On Sep 12, 2013, at 10:49 AM, Simon Zehnder <szehnder at uni-bonn.de> wrote:

> I did some progress on my problem: 
> 
> Using LDFLAGS and CPPFLAGS on the shell instead of in the config.site file changes the directories and make can find all the libraries. 
> 
> The next thing that came up, was the Mac-specific Cocoa issue. When I compile R sources with OBJC="gcc -arch x86_64" I get the following outputs: 
> 
> config.log: https://gist.github.com/anonymous/6534550
> 
> make.log: https://gist.github.com/anonymous/6534560
> 
> with errors starting in line 883 of the make.log. So it seems the gcc cannot handle the .m files properly. 
> 
> Then I used OBJC="clang" and I get the following output:
> 
> config.log: https://gist.github.com/anonymous/6534614
> 
> make.log: https://gist.github.com/anonymous/6534606
> 
> Here I get (see line 879 in the make.log) some weird warning. I know these are only warnings, they do not influence the way R works later on, but I am interested why gcc cannot handle the Cocoa files at all and clang has these warnings.
> 
> 
> Best
> 
> Simon
> 
> 
> On Sep 11, 2013, at 11:08 PM, Simon Zehnder <szehnder at uni-bonn.de> wrote:
> 
>> Dear R-Users and R-Devels,
>> 
>> I made a brand new install of Mac OS X Mountain Lion 10.8.4 on a new hard drive and want to build R from sources. As I use OpenMP 3.1 in my C++ extensions I used MacPorts to get the gcc48 compiler collection. Installation run without a hassle and I set the mp-gcc48 active. 
>> 
>> I downloaded the R-3.0.1 tar.gz and extracted it. Then I changed the config.site to the following:
>> 
>> https://gist.github.com/anonymous/6529767
>> 
>> Furthermore I had to change my PATH variable in the .profile as it included /usr/local/bin:/usr/local/sbin and I have not such a folder in my /usr. 
>> 
>> Now when I run configure I get the following config.log
>> 
>> https://gist.github.com/anonymous/6529743
>> 
>> with the warning:  "ld: warning: directory not found for option '-L/usr/local/lib' "on line 217. This warning becomes an error if running the make command. I still see the C linker using -L/usr/local/lib which does not exist. I changed the LDFLAGS in the config.site to -L/opt/local/lib but Rs configure script seems to be very resistant to my new proposal. 
>> 
>> I need some help. How should I proceed? Which FLAGS can change the directory the make script searches for libraries? What configure options should be used with R-3.0.1 on OS X 10.8.4 using gcc-4.8.1?    
>> 
>> 
>> Best
>> 
>> Simon
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Thu Sep 12 14:54:14 2013
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 12 Sep 2013 08:54:14 -0400
Subject: [R-SIG-Mac] R 3.0.1 build from sources: Wrong library paths
In-Reply-To: <B8C06DE9-3E90-4F23-8DF9-98349A9F6B8A@uni-bonn.de>
References: <C65DA019-24A1-469A-BA6F-38A2115B43F6@uni-bonn.de>
	<A008E47B-3CDE-4313-989A-181860CEBEA3@uni-bonn.de>
	<B8C06DE9-3E90-4F23-8DF9-98349A9F6B8A@uni-bonn.de>
Message-ID: <5BD11C13-AB5C-4CE2-A8EA-AFC230F0C417@r-project.org>


On Sep 12, 2013, at 5:50 AM, Simon Zehnder wrote:

> I compiled R and made a check-all without errors (only for the PDF manuals - but this is ok). Then I used
> 
> sudo make install 
> 
> to install it to the R.framework. Now, when I want to use R on the shell no command can be found, as the installation has not installed the binaries in /usr/bin. If I try to change my PATH variable and add /Library/Frameworks/R.framework/Ressources/bin it does not change a thing, I still get the error: -bash: R: command not found. The only thing to make it work is to go into the folder /Libraries/Frameworks/R.framework/Ressources/bin/ and start it via ./R.
> 

What the CRAN installer does is essentially

sudo ln -s /Library/Frameworks/R.framework/Resources/bin/R /usr/bin/R

Obviously, changing the PATH works as well  - make sure you check the value of PATH in the session you're running (bash uses a cached lookup, but recent versions should have no trouble re-trying after PATH changes) -- assuming running
/Libraries/Frameworks/R.framework/Ressources/bin/R
works. If it doesn't then maybe check the version symlinks.

Re you earlier post - FSF builds of gcc don't support ObjC with Apple runtime, so you have to use Apple's clang (as you did). In my tests few months ago gcc 4.7/4.8 was too unreliable - it was miscompiling R so things were breaking randomly at run-time. If your build seems reliable, please share with use the exact version and settings.

Thanks,
Simon


> I remember no such behaviour for prior builds of R. It seems Mac has changed something since my last compilation of R sources. 
> 
> Can anyone help?
> 
> Best
> 
> Simon
> 
> On Sep 12, 2013, at 10:49 AM, Simon Zehnder <szehnder at uni-bonn.de> wrote:
> 
>> I did some progress on my problem: 
>> 
>> Using LDFLAGS and CPPFLAGS on the shell instead of in the config.site file changes the directories and make can find all the libraries. 
>> 
>> The next thing that came up, was the Mac-specific Cocoa issue. When I compile R sources with OBJC="gcc -arch x86_64" I get the following outputs: 
>> 
>> config.log: https://gist.github.com/anonymous/6534550
>> 
>> make.log: https://gist.github.com/anonymous/6534560
>> 
>> with errors starting in line 883 of the make.log. So it seems the gcc cannot handle the .m files properly. 
>> 
>> Then I used OBJC="clang" and I get the following output:
>> 
>> config.log: https://gist.github.com/anonymous/6534614
>> 
>> make.log: https://gist.github.com/anonymous/6534606
>> 
>> Here I get (see line 879 in the make.log) some weird warning. I know these are only warnings, they do not influence the way R works later on, but I am interested why gcc cannot handle the Cocoa files at all and clang has these warnings.
>> 
>> 
>> Best
>> 
>> Simon
>> 
>> 
>> On Sep 11, 2013, at 11:08 PM, Simon Zehnder <szehnder at uni-bonn.de> wrote:
>> 
>>> Dear R-Users and R-Devels,
>>> 
>>> I made a brand new install of Mac OS X Mountain Lion 10.8.4 on a new hard drive and want to build R from sources. As I use OpenMP 3.1 in my C++ extensions I used MacPorts to get the gcc48 compiler collection. Installation run without a hassle and I set the mp-gcc48 active. 
>>> 
>>> I downloaded the R-3.0.1 tar.gz and extracted it. Then I changed the config.site to the following:
>>> 
>>> https://gist.github.com/anonymous/6529767
>>> 
>>> Furthermore I had to change my PATH variable in the .profile as it included /usr/local/bin:/usr/local/sbin and I have not such a folder in my /usr. 
>>> 
>>> Now when I run configure I get the following config.log
>>> 
>>> https://gist.github.com/anonymous/6529743
>>> 
>>> with the warning:  "ld: warning: directory not found for option '-L/usr/local/lib' "on line 217. This warning becomes an error if running the make command. I still see the C linker using -L/usr/local/lib which does not exist. I changed the LDFLAGS in the config.site to -L/opt/local/lib but Rs configure script seems to be very resistant to my new proposal. 
>>> 
>>> I need some help. How should I proceed? Which FLAGS can change the directory the make script searches for libraries? What configure options should be used with R-3.0.1 on OS X 10.8.4 using gcc-4.8.1?    
>>> 
>>> 
>>> Best
>>> 
>>> Simon
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From Rainer at krugs.de  Thu Sep 12 16:20:07 2013
From: Rainer at krugs.de (Rainer M Krug)
Date: Thu, 12 Sep 2013 16:20:07 +0200
Subject: [R-SIG-Mac] R on Mac: framework or homebrew?
Message-ID: <m2hadq3yw8.fsf@krugs.de>

Hi

I am using R at the moment installed from the official installation as a
framework, buit I also installed it from homebrew. As I am not using the
Mac GUI (I am using mainly emacs, a little bit RStudio), so from there
there was no difference.

So which approach has which advantages? I can think of advantages when
using homebrew (updates and upgrades of R) and also the framework
approach (Ease of maintenance). 

I personaly lean towards the homebrew installation (linux background),
but are there any disadvantages to using the official framework
installation?

Any comments?

Cheers,

Rainer

-- 
Rainer M. Krug

email: RMKrug<at>gmail<dot>com
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 486 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130912/d9b5eccd/attachment.bin>

From marc_schwartz at me.com  Thu Sep 12 16:43:40 2013
From: marc_schwartz at me.com (Marc Schwartz)
Date: Thu, 12 Sep 2013 09:43:40 -0500
Subject: [R-SIG-Mac] R on Mac: framework or homebrew?
In-Reply-To: <m2hadq3yw8.fsf@krugs.de>
References: <m2hadq3yw8.fsf@krugs.de>
Message-ID: <DF900A34-DD9C-4C6A-9AE1-4AB522F5A7DC@me.com>


On Sep 12, 2013, at 9:20 AM, Rainer M Krug <Rainer at krugs.de> wrote:

> Hi
> 
> I am using R at the moment installed from the official installation as a
> framework, buit I also installed it from homebrew. As I am not using the
> Mac GUI (I am using mainly emacs, a little bit RStudio), so from there
> there was no difference.
> 
> So which approach has which advantages? I can think of advantages when
> using homebrew (updates and upgrades of R) and also the framework
> approach (Ease of maintenance). 
> 
> I personaly lean towards the homebrew installation (linux background),
> but are there any disadvantages to using the official framework
> installation?
> 
> Any comments?
> 
> Cheers,
> 
> Rainer


Rainer,

I have not used Homebrew.

Having come to OSX 4+ years ago from Linux myself, I was comfortable using online third party Linux repos for things that were not in the default distribution. However, much like the early Fedora repos, before things were centralized and standardized, I found that the Mac repos (MacPorts and Fink) caused more trouble than they were worth. This was primarily due to non-standard dependencies, that installed all kinds of stuff that I really did not need or want and in some cases, conflicted with components that were already present in OSX. That was my common experience with MacPorts and I rapidly removed everything that they installed and just went to the upstream sources or binaries (when available) when I needed something.

I can't say whether or not Homebrew has similar characteristics to MacPorts and/or Fink, but I would say, be very careful and know exactly what you are getting if you do.

I used to build R from source on OSX, since I had done the same on Linux for years. However, for the past year or two now, I have been using Simon's CRAN binary releases and life has been much simplified as a result.

Regards,

Marc Schwartz


From szehnder at uni-bonn.de  Thu Sep 12 17:16:12 2013
From: szehnder at uni-bonn.de (Simon Zehnder)
Date: Thu, 12 Sep 2013 17:16:12 +0200
Subject: [R-SIG-Mac] R 3.0.1 build from sources: Wrong library paths
In-Reply-To: <5BD11C13-AB5C-4CE2-A8EA-AFC230F0C417@r-project.org>
References: <C65DA019-24A1-469A-BA6F-38A2115B43F6@uni-bonn.de>
	<A008E47B-3CDE-4313-989A-181860CEBEA3@uni-bonn.de>
	<B8C06DE9-3E90-4F23-8DF9-98349A9F6B8A@uni-bonn.de>
	<5BD11C13-AB5C-4CE2-A8EA-AFC230F0C417@r-project.org>
Message-ID: <0D72A126-FCBC-42CF-A7F8-104F5580E7C9@uni-bonn.de>

Simon,

thanks for the help. This did make the work. I wonder why the --bindir and --sbindir options during configure did not let that happen. 

R runs on my system and here is what I precisely did:

1. Install XCode (newest version)
2. Install Command Line Tools (in XCode) 
3. On the shell I used sudo xcodebuild -license
4. I installed MacTex and MacPorts
5. In MacPorts I installed the ports: gcc48 (GCC 4-8-1 Compiler), valgrind-devel, gettext
6. I had to remove /usr/local/bin and /usr/local/sbin from my PATH variable, as these folders do not exist.
7. I had to add /usr/texbin to the PATH variable for R to find the pdflatex command. 
8. Then I installed the Oracle JDK and added this to the config.site file in the R-3.0.1 folder: 
JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_17.jdk/Contents/HomeJAVA_CPPFLAGS="-I/${JAVA_HOME}/include -I/${JAVA_HOME}/include/darwin"
JAVA_LD_LIBRARY_PATH="${JAVA_HOME}/jre/lib/server"
JAVA_LIBS="-L/${JAVA_HOME}/jre/lib/server -ljvm"
9. On the shell I used:
export LANG=en_US.UTF-8
export PKG_CONFIG_PATH=/opt/X11/lib/pkgconfig:/usr/lib/pkgconfig
10. In a '~/Downloads/build' folder run:
../R-3.0.1/configure --bindir=/usr/bin --sbindir=/usr/bin --with-system-zlib --enable-memory-profiling --with-blas="-framework Accelerate" --with-lapack --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib --with-valgrind-instrumentation=2 OBJC="clang" LDFLAGS=-L/opt/local/lib CPPFLAGS=-I/opt/local/include
11. make && make check && sudo make install 
12. I run on the shell (do not know why --bindir and --sbindir didn't make it) 
sudo ln -s /Library/Frameworks/R.framework/Resources/bin/R /usr/bin/R
13. I had to add 
export LANG=en_US.UTF-8 in .profile
(defaults write org.R-project.R force.LANG en_US.UTF-8 did not work, did it several times with reopening the terminal)

All seemed to work fine. I installed the package nloptr (which did not install in my last R app) and it did compile without a hassle (that's great!). But then with Rcpp I got the error: ld: library not found for -lintl. I looked into the files of the gcc48 of MacPorts under /opt/local/lib and I have three libraries in there: libintl.8.dylib, libintl.a, libintl.la. I do not know though if this error wrong linking via R's environment variables or I miss an export in my .profile. 

I also have now a warning when using MacPorts, which is already reported: http://openradar.appspot.com/11894054

Here is my config.log

https://gist.github.com/anonymous/6539093

and here the output from Sys.getenv():

https://gist.github.com/anonymous/6539133

So, I cannot tell, if this should be considered a stable build on the Mac. But maybe everything can be solved quite easily. 


Best

Simon


On Sep 12, 2013, at 2:54 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:

> 
> On Sep 12, 2013, at 5:50 AM, Simon Zehnder wrote:
> 
>> I compiled R and made a check-all without errors (only for the PDF manuals - but this is ok). Then I used
>> 
>> sudo make install 
>> 
>> to install it to the R.framework. Now, when I want to use R on the shell no command can be found, as the installation has not installed the binaries in /usr/bin. If I try to change my PATH variable and add /Library/Frameworks/R.framework/Ressources/bin it does not change a thing, I still get the error: -bash: R: command not found. The only thing to make it work is to go into the folder /Libraries/Frameworks/R.framework/Ressources/bin/ and start it via ./R.
>> 
> 
> What the CRAN installer does is essentially
> 
> sudo ln -s /Library/Frameworks/R.framework/Resources/bin/R /usr/bin/R
> 
> Obviously, changing the PATH works as well  - make sure you check the value of PATH in the session you're running (bash uses a cached lookup, but recent versions should have no trouble re-trying after PATH changes) -- assuming running
> /Libraries/Frameworks/R.framework/Ressources/bin/R
> works. If it doesn't then maybe check the version symlinks.
> 
> Re you earlier post - FSF builds of gcc don't support ObjC with Apple runtime, so you have to use Apple's clang (as you did). In my tests few months ago gcc 4.7/4.8 was too unreliable - it was miscompiling R so things were breaking randomly at run-time. If your build seems reliable, please share with use the exact version and settings.
> 
> Thanks,
> Simon
> 
> 
>> I remember no such behaviour for prior builds of R. It seems Mac has changed something since my last compilation of R sources. 
>> 
>> Can anyone help?
>> 
>> Best
>> 
>> Simon
>> 
>> On Sep 12, 2013, at 10:49 AM, Simon Zehnder <szehnder at uni-bonn.de> wrote:
>> 
>>> I did some progress on my problem: 
>>> 
>>> Using LDFLAGS and CPPFLAGS on the shell instead of in the config.site file changes the directories and make can find all the libraries. 
>>> 
>>> The next thing that came up, was the Mac-specific Cocoa issue. When I compile R sources with OBJC="gcc -arch x86_64" I get the following outputs: 
>>> 
>>> config.log: https://gist.github.com/anonymous/6534550
>>> 
>>> make.log: https://gist.github.com/anonymous/6534560
>>> 
>>> with errors starting in line 883 of the make.log. So it seems the gcc cannot handle the .m files properly. 
>>> 
>>> Then I used OBJC="clang" and I get the following output:
>>> 
>>> config.log: https://gist.github.com/anonymous/6534614
>>> 
>>> make.log: https://gist.github.com/anonymous/6534606
>>> 
>>> Here I get (see line 879 in the make.log) some weird warning. I know these are only warnings, they do not influence the way R works later on, but I am interested why gcc cannot handle the Cocoa files at all and clang has these warnings.
>>> 
>>> 
>>> Best
>>> 
>>> Simon
>>> 
>>> 
>>> On Sep 11, 2013, at 11:08 PM, Simon Zehnder <szehnder at uni-bonn.de> wrote:
>>> 
>>>> Dear R-Users and R-Devels,
>>>> 
>>>> I made a brand new install of Mac OS X Mountain Lion 10.8.4 on a new hard drive and want to build R from sources. As I use OpenMP 3.1 in my C++ extensions I used MacPorts to get the gcc48 compiler collection. Installation run without a hassle and I set the mp-gcc48 active. 
>>>> 
>>>> I downloaded the R-3.0.1 tar.gz and extracted it. Then I changed the config.site to the following:
>>>> 
>>>> https://gist.github.com/anonymous/6529767
>>>> 
>>>> Furthermore I had to change my PATH variable in the .profile as it included /usr/local/bin:/usr/local/sbin and I have not such a folder in my /usr. 
>>>> 
>>>> Now when I run configure I get the following config.log
>>>> 
>>>> https://gist.github.com/anonymous/6529743
>>>> 
>>>> with the warning:  "ld: warning: directory not found for option '-L/usr/local/lib' "on line 217. This warning becomes an error if running the make command. I still see the C linker using -L/usr/local/lib which does not exist. I changed the LDFLAGS in the config.site to -L/opt/local/lib but Rs configure script seems to be very resistant to my new proposal. 
>>>> 
>>>> I need some help. How should I proceed? Which FLAGS can change the directory the make script searches for libraries? What configure options should be used with R-3.0.1 on OS X 10.8.4 using gcc-4.8.1?    
>>>> 
>>>> 
>>>> Best
>>>> 
>>>> Simon
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 


From macqueen1 at llnl.gov  Thu Sep 12 18:15:09 2013
From: macqueen1 at llnl.gov (MacQueen, Don)
Date: Thu, 12 Sep 2013 16:15:09 +0000
Subject: [R-SIG-Mac] R on Mac: framework or homebrew?
In-Reply-To: <m2hadq3yw8.fsf@krugs.de>
Message-ID: <5E1B812FAC2C4A49B3D99593B5A521910D43970D@PRDEXMBX-08.the-lab.llnl.gov>

I've been using R on OS X probably ever since there was an R on OS X, and
like you I use it from the command line. In the early days I installed R
from sources, but quite a few years ago I switched to using the framework
version. I can't think of any disadvantage I've encountered.

If I were to not use the framework version, I think I would prefer to
install directly from sources, not use a package management system. There
might be more initial work installing various prerequisites (things like
tcl/tk, png, maybe readline, who knows what all) but it would probably be
better in the long run.

Some packages, such as a number of spatial packages, require installing
other libraries such as rgdal, proj, and others. Currently, these are also
available as frameworks, and installing those packages in a framework R is
now well-supported. It might be considerably more difficult to install
such packages in a non-framework R. I don't know how much would be
involved, so I just suggest it as an aspect to consider.

-Don

-- 
Don MacQueen

Lawrence Livermore National Laboratory
7000 East Ave., L-627
Livermore, CA 94550
925-423-1062





On 9/12/13 7:20 AM, "Rainer M Krug" <Rainer at krugs.de> wrote:

>Hi
>
>I am using R at the moment installed from the official installation as a
>framework, buit I also installed it from homebrew. As I am not using the
>Mac GUI (I am using mainly emacs, a little bit RStudio), so from there
>there was no difference.
>
>So which approach has which advantages? I can think of advantages when
>using homebrew (updates and upgrades of R) and also the framework
>approach (Ease of maintenance).
>
>I personaly lean towards the homebrew installation (linux background),
>but are there any disadvantages to using the official framework
>installation?
>
>Any comments?
>
>Cheers,
>
>Rainer
>
>-- 
>Rainer M. Krug
>
>email: RMKrug<at>gmail<dot>com


From szehnder at uni-bonn.de  Thu Sep 12 20:16:02 2013
From: szehnder at uni-bonn.de (Simon Zehnder)
Date: Thu, 12 Sep 2013 20:16:02 +0200
Subject: [R-SIG-Mac] R 3.0.1 build from sources: Wrong library paths
In-Reply-To: <0D72A126-FCBC-42CF-A7F8-104F5580E7C9@uni-bonn.de>
References: <C65DA019-24A1-469A-BA6F-38A2115B43F6@uni-bonn.de>
	<A008E47B-3CDE-4313-989A-181860CEBEA3@uni-bonn.de>
	<B8C06DE9-3E90-4F23-8DF9-98349A9F6B8A@uni-bonn.de>
	<5BD11C13-AB5C-4CE2-A8EA-AFC230F0C417@r-project.org>
	<0D72A126-FCBC-42CF-A7F8-104F5580E7C9@uni-bonn.de>
Message-ID: <150816D4-7413-4394-B9FA-514BD65247B1@uni-bonn.de>

Simon,

I found the fix: I needed the configure option --with-included-gettext. This is now the whole sequence of processes I did: 

1. Install XCode (newest version)
2. Install Command Line Tools (in XCode) 
3. On the shell I used sudo xcodebuild -license
4. I installed MacTex and MacPorts
5. In MacPorts I installed the ports: gcc48 (GCC 4-8-1 Compiler), valgrind-devel, gettext
6. I had to remove /usr/local/bin and /usr/local/sbin from my PATH variable, as these folders do not exist.
7. I had to add /usr/texbin to the PATH variable for R to find the pdflatex command. 
8. Then I installed the Oracle JDK and added this to the config.site file in the R-3.0.1 folder: 
JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_17.jdk/Contents/HomeJAVA_CPPFLAGS="-I/${JAVA_HOME}/include -I/${JAVA_HOME}/include/darwin"
JAVA_LD_LIBRARY_PATH="${JAVA_HOME}/jre/lib/server"
JAVA_LIBS="-L/${JAVA_HOME}/jre/lib/server -ljvm"
9. On the shell I used:
export LANG=en_US.UTF-8
export PKG_CONFIG_PATH=/opt/X11/lib/pkgconfig:/usr/lib/pkgconfig
10. In a '~/Downloads/build' folder run:
../R-3.0.1/configure --bindir=/usr/bin --sbindir=/usr/bin --with-system-zlib --enable-memory-profiling --with-blas="-framework Accelerate" --with-lapack --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib --with-valgrind-instrumentation=2 OBJC="clang" LDFLAGS=-L/opt/local/lib CPPFLAGS=-I/opt/local/include --with-included-gettext
11. make && make check && sudo make install 
12. I run on the shell (do not know why --bindir and --sbindir didn't make it) 
sudo ln -s /Library/Frameworks/R.framework/Resources/bin/R /usr/bin/R
13. I had to add 
export LANG=en_US.UTF-8 in .profile
(defaults write org.R-project.R force.LANG en_US.UTF-8 did not work, did it several times with reopening the terminal)

I installed the packages nloptr (this still worked) and Rcpp (this worked now as well - the ld error: library not found: lintel, has gone)

So far this works quite nice. If there are some updates on stability I let you know. 

My config.log can be seen here: 

https://gist.github.com/anonymous/6541684 


Thanks again for your help!

Simon

On Sep 12, 2013, at 5:16 PM, Simon Zehnder <szehnder at uni-bonn.de> wrote:

> Simon,
> 
> thanks for the help. This did make the work. I wonder why the --bindir and --sbindir options during configure did not let that happen. 
> 
> R runs on my system and here is what I precisely did:
> 
> 1. Install XCode (newest version)
> 2. Install Command Line Tools (in XCode) 
> 3. On the shell I used sudo xcodebuild -license
> 4. I installed MacTex and MacPorts
> 5. In MacPorts I installed the ports: gcc48 (GCC 4-8-1 Compiler), valgrind-devel, gettext
> 6. I had to remove /usr/local/bin and /usr/local/sbin from my PATH variable, as these folders do not exist.
> 7. I had to add /usr/texbin to the PATH variable for R to find the pdflatex command. 
> 8. Then I installed the Oracle JDK and added this to the config.site file in the R-3.0.1 folder: 
> JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_17.jdk/Contents/HomeJAVA_CPPFLAGS="-I/${JAVA_HOME}/include -I/${JAVA_HOME}/include/darwin"
> JAVA_LD_LIBRARY_PATH="${JAVA_HOME}/jre/lib/server"
> JAVA_LIBS="-L/${JAVA_HOME}/jre/lib/server -ljvm"
> 9. On the shell I used:
> export LANG=en_US.UTF-8
> export PKG_CONFIG_PATH=/opt/X11/lib/pkgconfig:/usr/lib/pkgconfig
> 10. In a '~/Downloads/build' folder run:
> ../R-3.0.1/configure --bindir=/usr/bin --sbindir=/usr/bin --with-system-zlib --enable-memory-profiling --with-blas="-framework Accelerate" --with-lapack --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib --with-valgrind-instrumentation=2 OBJC="clang" LDFLAGS=-L/opt/local/lib CPPFLAGS=-I/opt/local/include
> 11. make && make check && sudo make install 
> 12. I run on the shell (do not know why --bindir and --sbindir didn't make it) 
> sudo ln -s /Library/Frameworks/R.framework/Resources/bin/R /usr/bin/R
> 13. I had to add 
> export LANG=en_US.UTF-8 in .profile
> (defaults write org.R-project.R force.LANG en_US.UTF-8 did not work, did it several times with reopening the terminal)
> 
> All seemed to work fine. I installed the package nloptr (which did not install in my last R app) and it did compile without a hassle (that's great!). But then with Rcpp I got the error: ld: library not found for -lintl. I looked into the files of the gcc48 of MacPorts under /opt/local/lib and I have three libraries in there: libintl.8.dylib, libintl.a, libintl.la. I do not know though if this error wrong linking via R's environment variables or I miss an export in my .profile. 
> 
> I also have now a warning when using MacPorts, which is already reported: http://openradar.appspot.com/11894054
> 
> Here is my config.log
> 
> https://gist.github.com/anonymous/6539093
> 
> and here the output from Sys.getenv():
> 
> https://gist.github.com/anonymous/6539133
> 
> So, I cannot tell, if this should be considered a stable build on the Mac. But maybe everything can be solved quite easily. 
> 
> 
> Best
> 
> Simon
> 
> 
> On Sep 12, 2013, at 2:54 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> 
>> 
>> On Sep 12, 2013, at 5:50 AM, Simon Zehnder wrote:
>> 
>>> I compiled R and made a check-all without errors (only for the PDF manuals - but this is ok). Then I used
>>> 
>>> sudo make install 
>>> 
>>> to install it to the R.framework. Now, when I want to use R on the shell no command can be found, as the installation has not installed the binaries in /usr/bin. If I try to change my PATH variable and add /Library/Frameworks/R.framework/Ressources/bin it does not change a thing, I still get the error: -bash: R: command not found. The only thing to make it work is to go into the folder /Libraries/Frameworks/R.framework/Ressources/bin/ and start it via ./R.
>>> 
>> 
>> What the CRAN installer does is essentially
>> 
>> sudo ln -s /Library/Frameworks/R.framework/Resources/bin/R /usr/bin/R
>> 
>> Obviously, changing the PATH works as well  - make sure you check the value of PATH in the session you're running (bash uses a cached lookup, but recent versions should have no trouble re-trying after PATH changes) -- assuming running
>> /Libraries/Frameworks/R.framework/Ressources/bin/R
>> works. If it doesn't then maybe check the version symlinks.
>> 
>> Re you earlier post - FSF builds of gcc don't support ObjC with Apple runtime, so you have to use Apple's clang (as you did). In my tests few months ago gcc 4.7/4.8 was too unreliable - it was miscompiling R so things were breaking randomly at run-time. If your build seems reliable, please share with use the exact version and settings.
>> 
>> Thanks,
>> Simon
>> 
>> 
>>> I remember no such behaviour for prior builds of R. It seems Mac has changed something since my last compilation of R sources. 
>>> 
>>> Can anyone help?
>>> 
>>> Best
>>> 
>>> Simon
>>> 
>>> On Sep 12, 2013, at 10:49 AM, Simon Zehnder <szehnder at uni-bonn.de> wrote:
>>> 
>>>> I did some progress on my problem: 
>>>> 
>>>> Using LDFLAGS and CPPFLAGS on the shell instead of in the config.site file changes the directories and make can find all the libraries. 
>>>> 
>>>> The next thing that came up, was the Mac-specific Cocoa issue. When I compile R sources with OBJC="gcc -arch x86_64" I get the following outputs: 
>>>> 
>>>> config.log: https://gist.github.com/anonymous/6534550
>>>> 
>>>> make.log: https://gist.github.com/anonymous/6534560
>>>> 
>>>> with errors starting in line 883 of the make.log. So it seems the gcc cannot handle the .m files properly. 
>>>> 
>>>> Then I used OBJC="clang" and I get the following output:
>>>> 
>>>> config.log: https://gist.github.com/anonymous/6534614
>>>> 
>>>> make.log: https://gist.github.com/anonymous/6534606
>>>> 
>>>> Here I get (see line 879 in the make.log) some weird warning. I know these are only warnings, they do not influence the way R works later on, but I am interested why gcc cannot handle the Cocoa files at all and clang has these warnings.
>>>> 
>>>> 
>>>> Best
>>>> 
>>>> Simon
>>>> 
>>>> 
>>>> On Sep 11, 2013, at 11:08 PM, Simon Zehnder <szehnder at uni-bonn.de> wrote:
>>>> 
>>>>> Dear R-Users and R-Devels,
>>>>> 
>>>>> I made a brand new install of Mac OS X Mountain Lion 10.8.4 on a new hard drive and want to build R from sources. As I use OpenMP 3.1 in my C++ extensions I used MacPorts to get the gcc48 compiler collection. Installation run without a hassle and I set the mp-gcc48 active. 
>>>>> 
>>>>> I downloaded the R-3.0.1 tar.gz and extracted it. Then I changed the config.site to the following:
>>>>> 
>>>>> https://gist.github.com/anonymous/6529767
>>>>> 
>>>>> Furthermore I had to change my PATH variable in the .profile as it included /usr/local/bin:/usr/local/sbin and I have not such a folder in my /usr. 
>>>>> 
>>>>> Now when I run configure I get the following config.log
>>>>> 
>>>>> https://gist.github.com/anonymous/6529743
>>>>> 
>>>>> with the warning:  "ld: warning: directory not found for option '-L/usr/local/lib' "on line 217. This warning becomes an error if running the make command. I still see the C linker using -L/usr/local/lib which does not exist. I changed the LDFLAGS in the config.site to -L/opt/local/lib but Rs configure script seems to be very resistant to my new proposal. 
>>>>> 
>>>>> I need some help. How should I proceed? Which FLAGS can change the directory the make script searches for libraries? What configure options should be used with R-3.0.1 on OS X 10.8.4 using gcc-4.8.1?    
>>>>> 
>>>>> 
>>>>> Best
>>>>> 
>>>>> Simon
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ripley at stats.ox.ac.uk  Thu Sep 12 20:19:42 2013
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 12 Sep 2013 19:19:42 +0100
Subject: [R-SIG-Mac] R on Mac: framework or homebrew?
In-Reply-To: <5E1B812FAC2C4A49B3D99593B5A521910D43970D@PRDEXMBX-08.the-lab.llnl.gov>
References: <5E1B812FAC2C4A49B3D99593B5A521910D43970D@PRDEXMBX-08.the-lab.llnl.gov>
Message-ID: <523205BE.50906@stats.ox.ac.uk>

On 12/09/2013 17:15, MacQueen, Don wrote:
> I've been using R on OS X probably ever since there was an R on OS X, and
> like you I use it from the command line. In the early days I installed R
> from sources, but quite a few years ago I switched to using the framework
> version. I can't think of any disadvantage I've encountered.

It is harder to have multiple versions of the framework in use at 
once.  And that is an issue now the R release rate is slower: package 
developers probably want both the release version and a current R-devel.

> If I were to not use the framework version, I think I would prefer to
> install directly from sources, not use a package management system. There
> might be more initial work installing various prerequisites (things like
> tcl/tk, png, maybe readline, who knows what all) but it would probably be
> better in the long run.
>
> Some packages, such as a number of spatial packages, require installing
> other libraries such as rgdal, proj, and others. Currently, these are also
> available as frameworks, and installing those packages in a framework R is
> now well-supported. It might be considerably more difficult to install
> such packages in a non-framework R. I don't know how much would be
> involved, so I just suggest it as an aspect to consider.

Almost nothing.  Simon provides binaries for those at 
http://r.research.att.com/libs/ and if you want later ones they compile 
simply from the sources.  in any case, whether R is a framework or not 
does not affect installing packages from sources, as you still need to 
tell the toolchain where to look for the headers and libraries.

On my office iMac have almost all of CRAN installed (more than Simon 
provides as binaries) compiling from source.  The exceptions are those 
10 or so which are too broken to install on OS X and those depending on 
Qt, MySQL (I haven't bothered) or BRugs (i386 Windows/Linux only)


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From anirbanm at smu.edu.sg  Fri Sep 13 08:52:43 2013
From: anirbanm at smu.edu.sg (Anirban MUKHERJEE)
Date: Fri, 13 Sep 2013 06:52:43 +0000
Subject: [R-SIG-Mac] [Caution: Message contains Suspicious URL content]
 R 3.0.1 build from sources: Wrong library paths
In-Reply-To: <150816D4-7413-4394-B9FA-514BD65247B1@uni-bonn.de>
References: <C65DA019-24A1-469A-BA6F-38A2115B43F6@uni-bonn.de>
	<A008E47B-3CDE-4313-989A-181860CEBEA3@uni-bonn.de>
	<B8C06DE9-3E90-4F23-8DF9-98349A9F6B8A@uni-bonn.de>
	<5BD11C13-AB5C-4CE2-A8EA-AFC230F0C417@r-project.org>
	<0D72A126-FCBC-42CF-A7F8-104F5580E7C9@uni-bonn.de>
	<150816D4-7413-4394-B9FA-514BD65247B1@uni-bonn.de>
Message-ID: <F8F628A3-A856-4C20-BAC2-52087A7AFE8B@smu.edu.sg>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130913/5047cb2c/attachment.pl>

From szehnder at uni-bonn.de  Fri Sep 13 09:29:04 2013
From: szehnder at uni-bonn.de (Simon Zehnder)
Date: Fri, 13 Sep 2013 09:29:04 +0200
Subject: [R-SIG-Mac] [Caution: Message contains Suspicious URL content]
	R 3.0.1 build from sources: Wrong library paths
In-Reply-To: <F8F628A3-A856-4C20-BAC2-52087A7AFE8B@smu.edu.sg>
References: <C65DA019-24A1-469A-BA6F-38A2115B43F6@uni-bonn.de>
	<A008E47B-3CDE-4313-989A-181860CEBEA3@uni-bonn.de>
	<B8C06DE9-3E90-4F23-8DF9-98349A9F6B8A@uni-bonn.de>
	<5BD11C13-AB5C-4CE2-A8EA-AFC230F0C417@r-project.org>
	<0D72A126-FCBC-42CF-A7F8-104F5580E7C9@uni-bonn.de>
	<150816D4-7413-4394-B9FA-514BD65247B1@uni-bonn.de>
	<F8F628A3-A856-4C20-BAC2-52087A7AFE8B@smu.edu.sg>
Message-ID: <ACAE4D81-E9F5-450C-A92C-78089108C094@uni-bonn.de>

Anirban,

that is great news! I was always struggling around to get gcc (>=4.7) run on my Mac and to compile R with this compiler. If now the more Mac-friendly compiler has implemented OpenMP 3.1 this struggling has finally an end. As soon as I have finished my PhD I will take this route and use the (maybe at this future point in time no more experimental) clang compiler. 

Thank you very much for these good news!

Best

Simon

On Sep 13, 2013, at 8:52 AM, Anirban MUKHERJEE <anirbanm at smu.edu.sg> wrote:

> Hi Simon,
> 
> On a related note, there has been progress on openmp in llvm/clang:
> 
> http://www.phoronix.com/scan.php?page=news_item&px=MTQ0NjQ
> 
> http://lists.cs.uiuc.edu/pipermail/llvmdev/2013-August/065169.html
> 
> http://clang-omp.github.io/
> 
> That might be an alternative route to consider if needed. Clang (I have not openmp/clang) usually builds easily on Mac OS.
> 
> Best, Anirban
> 
> On Sep 13, 2013, at 2:16 AM, Simon Zehnder <szehnder at uni-bonn.de> wrote:
> 
>> Simon,
>> 
>> I found the fix: I needed the configure option --with-included-gettext. This is now the whole sequence of processes I did: 
>> 
>> 1. Install XCode (newest version)
>> 2. Install Command Line Tools (in XCode) 
>> 3. On the shell I used sudo xcodebuild -license
>> 4. I installed MacTex and MacPorts
>> 5. In MacPorts I installed the ports: gcc48 (GCC 4-8-1 Compiler), valgrind-devel, gettext
>> 6. I had to remove /usr/local/bin and /usr/local/sbin from my PATH variable, as these folders do not exist.
>> 7. I had to add /usr/texbin to the PATH variable for R to find the pdflatex command. 
>> 8. Then I installed the Oracle JDK and added this to the config.site file in the R-3.0.1 folder: 
>> JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_17.jdk/Contents/HomeJAVA_CPPFLAGS="-I/${JAVA_HOME}/include -I/${JAVA_HOME}/include/darwin"
>> JAVA_LD_LIBRARY_PATH="${JAVA_HOME}/jre/lib/server"
>> JAVA_LIBS="-L/${JAVA_HOME}/jre/lib/server -ljvm"
>> 9. On the shell I used:
>> export LANG=en_US.UTF-8
>> export PKG_CONFIG_PATH=/opt/X11/lib/pkgconfig:/usr/lib/pkgconfig
>> 10. In a '~/Downloads/build' folder run:
>> ../R-3.0.1/configure --bindir=/usr/bin --sbindir=/usr/bin --with-system-zlib --enable-memory-profiling --with-blas="-framework Accelerate" --with-lapack --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib --with-valgrind-instrumentation=2 OBJC="clang" LDFLAGS=-L/opt/local/lib CPPFLAGS=-I/opt/local/include --with-included-gettext
>> 11. make && make check && sudo make install 
>> 12. I run on the shell (do not know why --bindir and --sbindir didn't make it) 
>> sudo ln -s /Library/Frameworks/R.framework/Resources/bin/R /usr/bin/R
>> 13. I had to add 
>> export LANG=en_US.UTF-8 in .profile
>> (defaults write org.R-project.R force.LANG en_US.UTF-8 did not work, did it several times with reopening the terminal)
>> 
>> I installed the packages nloptr (this still worked) and Rcpp (this worked now as well - the ld error: library not found: lintel, has gone)
>> 
>> So far this works quite nice. If there are some updates on stability I let you know. 
>> 
>> My config.log can be seen here: 
>> 
>> https://gist.github.com/anonymous/6541684 
>> 
>> 
>> Thanks again for your help!
>> 
>> Simon
>> 
>> On Sep 12, 2013, at 5:16 PM, Simon Zehnder <szehnder at uni-bonn.de> wrote:
>> 
>>> Simon,
>>> 
>>> thanks for the help. This did make the work. I wonder why the --bindir and --sbindir options during configure did not let that happen. 
>>> 
>>> R runs on my system and here is what I precisely did:
>>> 
>>> 1. Install XCode (newest version)
>>> 2. Install Command Line Tools (in XCode) 
>>> 3. On the shell I used sudo xcodebuild -license
>>> 4. I installed MacTex and MacPorts
>>> 5. In MacPorts I installed the ports: gcc48 (GCC 4-8-1 Compiler), valgrind-devel, gettext
>>> 6. I had to remove /usr/local/bin and /usr/local/sbin from my PATH variable, as these folders do not exist.
>>> 7. I had to add /usr/texbin to the PATH variable for R to find the pdflatex command. 
>>> 8. Then I installed the Oracle JDK and added this to the config.site file in the R-3.0.1 folder: 
>>> JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_17.jdk/Contents/HomeJAVA_CPPFLAGS="-I/${JAVA_HOME}/include -I/${JAVA_HOME}/include/darwin"
>>> JAVA_LD_LIBRARY_PATH="${JAVA_HOME}/jre/lib/server"
>>> JAVA_LIBS="-L/${JAVA_HOME}/jre/lib/server -ljvm"
>>> 9. On the shell I used:
>>> export LANG=en_US.UTF-8
>>> export PKG_CONFIG_PATH=/opt/X11/lib/pkgconfig:/usr/lib/pkgconfig
>>> 10. In a '~/Downloads/build' folder run:
>>> ../R-3.0.1/configure --bindir=/usr/bin --sbindir=/usr/bin --with-system-zlib --enable-memory-profiling --with-blas="-framework Accelerate" --with-lapack --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib --with-valgrind-instrumentation=2 OBJC="clang" LDFLAGS=-L/opt/local/lib CPPFLAGS=-I/opt/local/include
>>> 11. make && make check && sudo make install 
>>> 12. I run on the shell (do not know why --bindir and --sbindir didn't make it) 
>>> sudo ln -s /Library/Frameworks/R.framework/Resources/bin/R /usr/bin/R
>>> 13. I had to add 
>>> export LANG=en_US.UTF-8 in .profile
>>> (defaults write org.R-project.R force.LANG en_US.UTF-8 did not work, did it several times with reopening the terminal)
>>> 
>>> All seemed to work fine. I installed the package nloptr (which did not install in my last R app) and it did compile without a hassle (that's great!). But then with Rcpp I got the error: ld: library not found for -lintl. I looked into the files of the gcc48 of MacPorts under /opt/local/lib and I have three libraries in there: libintl.8.dylib, libintl.a, libintl.la. I do not know though if this error wrong linking via R's environment variables or I miss an export in my .profile. 
>>> 
>>> I also have now a warning when using MacPorts, which is already reported: http://openradar.appspot.com/11894054
>>> 
>>> Here is my config.log
>>> 
>>> https://gist.github.com/anonymous/6539093
>>> 
>>> and here the output from Sys.getenv():
>>> 
>>> https://gist.github.com/anonymous/6539133
>>> 
>>> So, I cannot tell, if this should be considered a stable build on the Mac. But maybe everything can be solved quite easily. 
>>> 
>>> 
>>> Best
>>> 
>>> Simon
>>> 
>>> 
>>> On Sep 12, 2013, at 2:54 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:
>>> 
>>>> 
>>>> On Sep 12, 2013, at 5:50 AM, Simon Zehnder wrote:
>>>> 
>>>>> I compiled R and made a check-all without errors (only for the PDF manuals - but this is ok). Then I used
>>>>> 
>>>>> sudo make install 
>>>>> 
>>>>> to install it to the R.framework. Now, when I want to use R on the shell no command can be found, as the installation has not installed the binaries in /usr/bin. If I try to change my PATH variable and add /Library/Frameworks/R.framework/Ressources/bin it does not change a thing, I still get the error: -bash: R: command not found. The only thing to make it work is to go into the folder /Libraries/Frameworks/R.framework/Ressources/bin/ and start it via ./R.
>>>>> 
>>>> 
>>>> What the CRAN installer does is essentially
>>>> 
>>>> sudo ln -s /Library/Frameworks/R.framework/Resources/bin/R /usr/bin/R
>>>> 
>>>> Obviously, changing the PATH works as well  - make sure you check the value of PATH in the session you're running (bash uses a cached lookup, but recent versions should have no trouble re-trying after PATH changes) -- assuming running
>>>> /Libraries/Frameworks/R.framework/Ressources/bin/R
>>>> works. If it doesn't then maybe check the version symlinks.
>>>> 
>>>> Re you earlier post - FSF builds of gcc don't support ObjC with Apple runtime, so you have to use Apple's clang (as you did). In my tests few months ago gcc 4.7/4.8 was too unreliable - it was miscompiling R so things were breaking randomly at run-time. If your build seems reliable, please share with use the exact version and settings.
>>>> 
>>>> Thanks,
>>>> Simon
>>>> 
>>>> 
>>>>> I remember no such behaviour for prior builds of R. It seems Mac has changed something since my last compilation of R sources. 
>>>>> 
>>>>> Can anyone help?
>>>>> 
>>>>> Best
>>>>> 
>>>>> Simon
>>>>> 
>>>>> On Sep 12, 2013, at 10:49 AM, Simon Zehnder <szehnder at uni-bonn.de> wrote:
>>>>> 
>>>>>> I did some progress on my problem: 
>>>>>> 
>>>>>> Using LDFLAGS and CPPFLAGS on the shell instead of in the config.site file changes the directories and make can find all the libraries. 
>>>>>> 
>>>>>> The next thing that came up, was the Mac-specific Cocoa issue. When I compile R sources with OBJC="gcc -arch x86_64" I get the following outputs: 
>>>>>> 
>>>>>> config.log: https://gist.github.com/anonymous/6534550
>>>>>> 
>>>>>> make.log: https://gist.github.com/anonymous/6534560
>>>>>> 
>>>>>> with errors starting in line 883 of the make.log. So it seems the gcc cannot handle the .m files properly. 
>>>>>> 
>>>>>> Then I used OBJC="clang" and I get the following output:
>>>>>> 
>>>>>> config.log: https://gist.github.com/anonymous/6534614
>>>>>> 
>>>>>> make.log: https://gist.github.com/anonymous/6534606
>>>>>> 
>>>>>> Here I get (see line 879 in the make.log) some weird warning. I know these are only warnings, they do not influence the way R works later on, but I am interested why gcc cannot handle the Cocoa files at all and clang has these warnings.
>>>>>> 
>>>>>> 
>>>>>> Best
>>>>>> 
>>>>>> Simon
>>>>>> 
>>>>>> 
>>>>>> On Sep 11, 2013, at 11:08 PM, Simon Zehnder <szehnder at uni-bonn.de> wrote:
>>>>>> 
>>>>>>> Dear R-Users and R-Devels,
>>>>>>> 
>>>>>>> I made a brand new install of Mac OS X Mountain Lion 10.8.4 on a new hard drive and want to build R from sources. As I use OpenMP 3.1 in my C++ extensions I used MacPorts to get the gcc48 compiler collection. Installation run without a hassle and I set the mp-gcc48 active. 
>>>>>>> 
>>>>>>> I downloaded the R-3.0.1 tar.gz and extracted it. Then I changed the config.site to the following:
>>>>>>> 
>>>>>>> https://gist.github.com/anonymous/6529767
>>>>>>> 
>>>>>>> Furthermore I had to change my PATH variable in the .profile as it included /usr/local/bin:/usr/local/sbin and I have not such a folder in my /usr. 
>>>>>>> 
>>>>>>> Now when I run configure I get the following config.log
>>>>>>> 
>>>>>>> https://gist.github.com/anonymous/6529743
>>>>>>> 
>>>>>>> with the warning:  "ld: warning: directory not found for option '-L/usr/local/lib' "on line 217. This warning becomes an error if running the make command. I still see the C linker using -L/usr/local/lib which does not exist. I changed the LDFLAGS in the config.site to -L/opt/local/lib but Rs configure script seems to be very resistant to my new proposal. 
>>>>>>> 
>>>>>>> I need some help. How should I proceed? Which FLAGS can change the directory the make script searches for libraries? What configure options should be used with R-3.0.1 on OS X 10.8.4 using gcc-4.8.1?    
>>>>>>> 
>>>>>>> 
>>>>>>> Best
>>>>>>> 
>>>>>>> Simon
>>>>>>> 
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> 
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From bhh at xs4all.nl  Fri Sep 13 10:19:08 2013
From: bhh at xs4all.nl (Berend Hasselman)
Date: Fri, 13 Sep 2013 10:19:08 +0200
Subject: [R-SIG-Mac] R 3.0.1 build from sources: Wrong library paths
In-Reply-To: <150816D4-7413-4394-B9FA-514BD65247B1@uni-bonn.de>
References: <C65DA019-24A1-469A-BA6F-38A2115B43F6@uni-bonn.de>
	<A008E47B-3CDE-4313-989A-181860CEBEA3@uni-bonn.de>
	<B8C06DE9-3E90-4F23-8DF9-98349A9F6B8A@uni-bonn.de>
	<5BD11C13-AB5C-4CE2-A8EA-AFC230F0C417@r-project.org>
	<0D72A126-FCBC-42CF-A7F8-104F5580E7C9@uni-bonn.de>
	<150816D4-7413-4394-B9FA-514BD65247B1@uni-bonn.de>
Message-ID: <6EF6F532-A26D-4960-83C7-DD3906159294@xs4all.nl>


On 12-09-2013, at 20:16, Simon Zehnder <szehnder at uni-bonn.de> wrote:

> Simon,
> 
> I found the fix: I needed the configure option --with-included-gettext. This is now the whole sequence of processes I did: 
> 
> 1. Install XCode (newest version)
> 2. Install Command Line Tools (in XCode) 
> 3. On the shell I used sudo xcodebuild -license
> 4. I installed MacTex and MacPorts
> 5. In MacPorts I installed the ports: gcc48 (GCC 4-8-1 Compiler), valgrind-devel, gettext
> 6. I had to remove /usr/local/bin and /usr/local/sbin from my PATH variable, as these folders do not exist.
> 7. I had to add /usr/texbin to the PATH variable for R to find the pdflatex command. 

This bit I don't understand.
After installing MacTeX and either logging out and in or restarting /usr/texbin should have been in PATH (at least that is the intention of MacTeX).

Also I assume you have XQuartz installed. If so, that should also be mentioned in your recipe.

Berend


> 8. Then I installed the Oracle JDK and added this to the config.site file in the R-3.0.1 folder: 
> JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_17.jdk/Contents/HomeJAVA_CPPFLAGS="-I/${JAVA_HOME}/include -I/${JAVA_HOME}/include/darwin"
> JAVA_LD_LIBRARY_PATH="${JAVA_HOME}/jre/lib/server"
> JAVA_LIBS="-L/${JAVA_HOME}/jre/lib/server -ljvm"
> 9. On the shell I used:
> export LANG=en_US.UTF-8
> export PKG_CONFIG_PATH=/opt/X11/lib/pkgconfig:/usr/lib/pkgconfig
> 10. In a '~/Downloads/build' folder run:
> ../R-3.0.1/configure --bindir=/usr/bin --sbindir=/usr/bin --with-system-zlib --enable-memory-profiling --with-blas="-framework Accelerate" --with-lapack --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib --with-valgrind-instrumentation=2 OBJC="clang" LDFLAGS=-L/opt/local/lib CPPFLAGS=-I/opt/local/include --with-included-gettext
> 11. make && make check && sudo make install 
> 12. I run on the shell (do not know why --bindir and --sbindir didn't make it) 
> sudo ln -s /Library/Frameworks/R.framework/Resources/bin/R /usr/bin/R
> 13. I had to add 
> export LANG=en_US.UTF-8 in .profile
> (defaults write org.R-project.R force.LANG en_US.UTF-8 did not work, did it several times with reopening the terminal)
> 
> I installed the packages nloptr (this still worked) and Rcpp (this worked now as well - the ld error: library not found: lintel, has gone)
> 
> So far this works quite nice. If there are some updates on stability I let you know. 
> 
> My config.log can be seen here: 
> 
> https://gist.github.com/anonymous/6541684 
> 


From szehnder at uni-bonn.de  Fri Sep 13 10:29:34 2013
From: szehnder at uni-bonn.de (Simon Zehnder)
Date: Fri, 13 Sep 2013 10:29:34 +0200
Subject: [R-SIG-Mac] R 3.0.1 build from sources: Wrong library paths
In-Reply-To: <6EF6F532-A26D-4960-83C7-DD3906159294@xs4all.nl>
References: <C65DA019-24A1-469A-BA6F-38A2115B43F6@uni-bonn.de>
	<A008E47B-3CDE-4313-989A-181860CEBEA3@uni-bonn.de>
	<B8C06DE9-3E90-4F23-8DF9-98349A9F6B8A@uni-bonn.de>
	<5BD11C13-AB5C-4CE2-A8EA-AFC230F0C417@r-project.org>
	<0D72A126-FCBC-42CF-A7F8-104F5580E7C9@uni-bonn.de>
	<150816D4-7413-4394-B9FA-514BD65247B1@uni-bonn.de>
	<6EF6F532-A26D-4960-83C7-DD3906159294@xs4all.nl>
Message-ID: <DE3B0A38-02A1-4687-83A5-FF1B71DA2B49@uni-bonn.de>

Berend,

I retried the command pdflatex without the extra export and it does not work. Assumably, this is due to the fact, that I had /usr/local/bin and /usr/local/sbin in my PATH variable and I used export PATH=/usr/bin:/bin:/usr/sbin:/sbin to get it out of my PATH (inside my .profile file). 

In regard to XQuartz: True, I did and I will ad it to the sequence. Thanks for the comment, I have fully overseen this!


Best

Simon


On Sep 13, 2013, at 10:19 AM, Berend Hasselman <bhh at xs4all.nl> wrote:

> 
> On 12-09-2013, at 20:16, Simon Zehnder <szehnder at uni-bonn.de> wrote:
> 
>> Simon,
>> 
>> I found the fix: I needed the configure option --with-included-gettext. This is now the whole sequence of processes I did: 
>> 
>> 1. Install XCode (newest version)
>> 2. Install Command Line Tools (in XCode) 
>> 3. On the shell I used sudo xcodebuild -license
>> 4. I installed MacTex and MacPorts
>> 5. In MacPorts I installed the ports: gcc48 (GCC 4-8-1 Compiler), valgrind-devel, gettext
>> 6. I had to remove /usr/local/bin and /usr/local/sbin from my PATH variable, as these folders do not exist.
>> 7. I had to add /usr/texbin to the PATH variable for R to find the pdflatex command. 
> 
> This bit I don't understand.
> After installing MacTeX and either logging out and in or restarting /usr/texbin should have been in PATH (at least that is the intention of MacTeX).
> 
> Also I assume you have XQuartz installed. If so, that should also be mentioned in your recipe.
> 
> Berend
> 
> 
>> 8. Then I installed the Oracle JDK and added this to the config.site file in the R-3.0.1 folder: 
>> JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_17.jdk/Contents/HomeJAVA_CPPFLAGS="-I/${JAVA_HOME}/include -I/${JAVA_HOME}/include/darwin"
>> JAVA_LD_LIBRARY_PATH="${JAVA_HOME}/jre/lib/server"
>> JAVA_LIBS="-L/${JAVA_HOME}/jre/lib/server -ljvm"
>> 9. On the shell I used:
>> export LANG=en_US.UTF-8
>> export PKG_CONFIG_PATH=/opt/X11/lib/pkgconfig:/usr/lib/pkgconfig
>> 10. In a '~/Downloads/build' folder run:
>> ../R-3.0.1/configure --bindir=/usr/bin --sbindir=/usr/bin --with-system-zlib --enable-memory-profiling --with-blas="-framework Accelerate" --with-lapack --x-includes=/usr/X11/include --x-libraries=/usr/X11/lib --with-valgrind-instrumentation=2 OBJC="clang" LDFLAGS=-L/opt/local/lib CPPFLAGS=-I/opt/local/include --with-included-gettext
>> 11. make && make check && sudo make install 
>> 12. I run on the shell (do not know why --bindir and --sbindir didn't make it) 
>> sudo ln -s /Library/Frameworks/R.framework/Resources/bin/R /usr/bin/R
>> 13. I had to add 
>> export LANG=en_US.UTF-8 in .profile
>> (defaults write org.R-project.R force.LANG en_US.UTF-8 did not work, did it several times with reopening the terminal)
>> 
>> I installed the packages nloptr (this still worked) and Rcpp (this worked now as well - the ld error: library not found: lintel, has gone)
>> 
>> So far this works quite nice. If there are some updates on stability I let you know. 
>> 
>> My config.log can be seen here: 
>> 
>> https://gist.github.com/anonymous/6541684 
>> 
> 


From ripley at stats.ox.ac.uk  Fri Sep 13 10:52:02 2013
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 13 Sep 2013 09:52:02 +0100
Subject: [R-SIG-Mac] [Caution: Message contains Suspicious URL content]
 R 3.0.1 build from sources: Wrong library paths
In-Reply-To: <F8F628A3-A856-4C20-BAC2-52087A7AFE8B@smu.edu.sg>
References: <C65DA019-24A1-469A-BA6F-38A2115B43F6@uni-bonn.de>
	<A008E47B-3CDE-4313-989A-181860CEBEA3@uni-bonn.de>
	<B8C06DE9-3E90-4F23-8DF9-98349A9F6B8A@uni-bonn.de>
	<5BD11C13-AB5C-4CE2-A8EA-AFC230F0C417@r-project.org>
	<0D72A126-FCBC-42CF-A7F8-104F5580E7C9@uni-bonn.de>
	<150816D4-7413-4394-B9FA-514BD65247B1@uni-bonn.de>
	<F8F628A3-A856-4C20-BAC2-52087A7AFE8B@smu.edu.sg>
Message-ID: <5232D232.5060905@stats.ox.ac.uk>

On 13/09/2013 07:52, Anirban MUKHERJEE wrote:
> Hi Simon,
>
> On a related note, there has been progress on openmp in llvm/clang:
>
> http://www.phoronix.com/scan.php?page=news_item&px=MTQ0NjQ
>
> http://lists.cs.uiuc.edu/pipermail/llvmdev/2013-August/065169.html
>
> http://clang-omp.github.io/
>
> That might be an alternative route to consider if needed. Clang (I have not openmp/clang) usually builds easily on Mac OS.

We know (I believe it has been mentioned here before).  But please 
remember that only the Apple clang is easy to use (does your self-build 
compile the quartz device? -- mine did not), and Apple lags a long way 
behind.  The current Xcode version says it is '3.2svn' but lacks even 
3.1 features such as AddressSanitizer.  We will see what Xcode 5 brings 
when it is released.

I don't think people appreciated Simon's comments about the stability 
needed.  If you can check all of CRAN with no more than 10 issues with 
gcc 4.7 or 4.8, then let us know.  That is about where we are with 
llvm-gcc 4.2 and clang 3.2- from Xcode 4.6.3.  When I tried 4.7.x prior 
to R 3.0.0 I had over 50 failures (and CRAN is reqularly checked with 
4.7.x on other platforms).

And we are only in that good a state because a lot of (literally) 
thankless work has been done to get CRAN/BioC packages to compile with 
clang.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From Rainer at krugs.de  Fri Sep 13 11:03:32 2013
From: Rainer at krugs.de (Rainer M Krug)
Date: Fri, 13 Sep 2013 11:03:32 +0200
Subject: [R-SIG-Mac] R on Mac: framework or homebrew?
References: <m2hadq3yw8.fsf@krugs.de>
	<DF900A34-DD9C-4C6A-9AE1-4AB522F5A7DC@me.com>
Message-ID: <m2a9jh3xgb.fsf@krugs.de>

Marc Schwartz <marc_schwartz at me.com> writes:

> On Sep 12, 2013, at 9:20 AM, Rainer M Krug <Rainer at krugs.de> wrote:
>
>> Hi
>> 
>> I am using R at the moment installed from the official installation as a
>> framework, buit I also installed it from homebrew. As I am not using the
>> Mac GUI (I am using mainly emacs, a little bit RStudio), so from there
>> there was no difference.
>> 
>> So which approach has which advantages? I can think of advantages when
>> using homebrew (updates and upgrades of R) and also the framework
>> approach (Ease of maintenance). 
>> 
>> I personaly lean towards the homebrew installation (linux background),
>> but are there any disadvantages to using the official framework
>> installation?
>> 
>> Any comments?
>> 
>> Cheers,
>> 
>> Rainer
>
>
> Rainer,
>
> I have not used Homebrew.
>
> Having come to OSX 4+ years ago from Linux myself, I was comfortable
> using online third party Linux repos for things that were not in the
> default distribution. However, much like the early Fedora repos,
> before things were centralized and standardized, I found that the Mac
> repos (MacPorts and Fink) caused more trouble than they were
> worth. This was primarily due to non-standard dependencies, that
> installed all kinds of stuff that I really did not need or want and in
> some cases, conflicted with components that were already present in
> OSX. That was my common experience with MacPorts and I rapidly removed
> everything that they installed and just went to the upstream sources
> or binaries (when available) when I needed something.
>
> I can't say whether or not Homebrew has similar characteristics to
> MacPorts and/or Fink, but I would say, be very careful and know
> exactly what you are getting if you do.

As far as I understand homebrew, it ws designed with specifically having
these in mind and I must say I did not encounter any problems in this
regard yet.

>
> I used to build R from source on OSX, since I had done the same on
> Linux for years. However, for the past year or two now, I have been
> using Simon's CRAN binary releases and life has been much simplified
> as a result.

No question - the binary is much easier to handle, but one is paying
with having to rely on provided versions of libraries / frameworks.

Thanks,

Rainer

>
> Regards,
>
> Marc Schwartz
<#secure method=pgpmime mode=sign>

-- 
Rainer M. Krug

email: RMKrug<at>gmail<dot>com


From Rainer at krugs.de  Fri Sep 13 11:12:21 2013
From: Rainer at krugs.de (Rainer M Krug)
Date: Fri, 13 Sep 2013 11:12:21 +0200
Subject: [R-SIG-Mac] R on Mac: framework or homebrew?
In-Reply-To: <523205BE.50906@stats.ox.ac.uk> (Brian Ripley's message of "Thu, 
	12 Sep 2013 19:19:42 +0100")
References: <5E1B812FAC2C4A49B3D99593B5A521910D43970D@PRDEXMBX-08.the-lab.llnl.gov>
	<523205BE.50906@stats.ox.ac.uk>
Message-ID: <m261u53x1m.fsf@krugs.de>

Prof Brian Ripley <ripley at stats.ox.ac.uk> writes:

> On 12/09/2013 17:15, MacQueen, Don wrote:
>> I've been using R on OS X probably ever since there was an R on OS X, and
>> like you I use it from the command line. In the early days I installed R
>> from sources, but quite a few years ago I switched to using the framework
>> version. I can't think of any disadvantage I've encountered.
>
> It is harder to have multiple versions of the framework in use at
> once.  And that is an issue now the R release rate is slower:
> package developers probably want both the release version and a
> current R-devel.

That is what I was thinking as well - in homebrew, I simply have to use

,----
| brew switch R <version>  
`----

to switch to another installed version.

>
>> If I were to not use the framework version, I think I would prefer to
>> install directly from sources, not use a package management system. There
>> might be more initial work installing various prerequisites (things like
>> tcl/tk, png, maybe readline, who knows what all) but it would probably be
>> better in the long run.
>>
>> Some packages, such as a number of spatial packages, require installing
>> other libraries such as rgdal, proj, and others. Currently, these are also
>> available as frameworks, and installing those packages in a framework R is
>> now well-supported. It might be considerably more difficult to install
>> such packages in a non-framework R. I don't know how much would be
>> involved, so I just suggest it as an aspect to consider.
>
> Almost nothing.  Simon provides binaries for those at
> http://r.research.att.com/libs/ and if you want later ones they
> compile simply from the sources.  in any case, whether R is a
> framework or not does not affect installing packages from sources, as
> you still need to tell the toolchain where to look for the headers and
> libraries.

That is good to know.

>
> On my office iMac have almost all of CRAN installed (more than Simon
> provides as binaries) compiling from source.  The exceptions are those
> 10 or so which are too broken to install on OS X and those depending
> on Qt, MySQL (I haven't bothered) or BRugs (i386 Windows/Linux only)

Thanks a lot for all of your input. I will then, for the moment, stick
to the framework (as it works), but keep the homebrew option in mind.

Thanks,

Rainer

-- 
Rainer M. Krug

email: RMKrug<at>gmail<dot>com


From szehnder at uni-bonn.de  Fri Sep 13 12:16:37 2013
From: szehnder at uni-bonn.de (Simon Zehnder)
Date: Fri, 13 Sep 2013 12:16:37 +0200
Subject: [R-SIG-Mac] [Caution: Message contains Suspicious URL content]
	R 3.0.1 build from sources: Wrong library paths
In-Reply-To: <5232D232.5060905@stats.ox.ac.uk>
References: <C65DA019-24A1-469A-BA6F-38A2115B43F6@uni-bonn.de>
	<A008E47B-3CDE-4313-989A-181860CEBEA3@uni-bonn.de>
	<B8C06DE9-3E90-4F23-8DF9-98349A9F6B8A@uni-bonn.de>
	<5BD11C13-AB5C-4CE2-A8EA-AFC230F0C417@r-project.org>
	<0D72A126-FCBC-42CF-A7F8-104F5580E7C9@uni-bonn.de>
	<150816D4-7413-4394-B9FA-514BD65247B1@uni-bonn.de>
	<F8F628A3-A856-4C20-BAC2-52087A7AFE8B@smu.edu.sg>
	<5232D232.5060905@stats.ox.ac.uk>
Message-ID: <1381DE95-9FE5-4FFD-9B33-AE58B6E3EE32@uni-bonn.de>

Dear Brian,

if it is able to test the compilation of the quartz device by calling quartz() in R - this works. Calling xcodebuild -version gives me: Xcode 4.6.3 and clang --version gives me LLVM 3.2svn indeed. My prime target was to be able to use OpenMP 3.1 which is actually only available (freely) in gcc >= 4.7. Is there a possibility to install, check and reinstall all CRAN packages in R? 

Best

Simon


On Sep 13, 2013, at 10:52 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:

> On 13/09/2013 07:52, Anirban MUKHERJEE wrote:
>> Hi Simon,
>> 
>> On a related note, there has been progress on openmp in llvm/clang:
>> 
>> http://www.phoronix.com/scan.php?page=news_item&px=MTQ0NjQ
>> 
>> http://lists.cs.uiuc.edu/pipermail/llvmdev/2013-August/065169.html
>> 
>> http://clang-omp.github.io/
>> 
>> That might be an alternative route to consider if needed. Clang (I have not openmp/clang) usually builds easily on Mac OS.
> 
> We know (I believe it has been mentioned here before).  But please remember that only the Apple clang is easy to use (does your self-build compile the quartz device? -- mine did not), and Apple lags a long way behind.  The current Xcode version says it is '3.2svn' but lacks even 3.1 features such as AddressSanitizer.  We will see what Xcode 5 brings when it is released.
> 
> I don't think people appreciated Simon's comments about the stability needed.  If you can check all of CRAN with no more than 10 issues with gcc 4.7 or 4.8, then let us know.  That is about where we are with llvm-gcc 4.2 and clang 3.2- from Xcode 4.6.3.  When I tried 4.7.x prior to R 3.0.0 I had over 50 failures (and CRAN is reqularly checked with 4.7.x on other platforms).
> 
> And we are only in that good a state because a lot of (literally) thankless work has been done to get CRAN/BioC packages to compile with clang.
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ripley at stats.ox.ac.uk  Fri Sep 13 12:21:17 2013
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 13 Sep 2013 11:21:17 +0100
Subject: [R-SIG-Mac] [Caution: Message contains Suspicious URL content]
 R 3.0.1 build from sources: Wrong library paths
In-Reply-To: <1381DE95-9FE5-4FFD-9B33-AE58B6E3EE32@uni-bonn.de>
References: <C65DA019-24A1-469A-BA6F-38A2115B43F6@uni-bonn.de>
	<A008E47B-3CDE-4313-989A-181860CEBEA3@uni-bonn.de>
	<B8C06DE9-3E90-4F23-8DF9-98349A9F6B8A@uni-bonn.de>
	<5BD11C13-AB5C-4CE2-A8EA-AFC230F0C417@r-project.org>
	<0D72A126-FCBC-42CF-A7F8-104F5580E7C9@uni-bonn.de>
	<150816D4-7413-4394-B9FA-514BD65247B1@uni-bonn.de>
	<F8F628A3-A856-4C20-BAC2-52087A7AFE8B@smu.edu.sg>
	<5232D232.5060905@stats.ox.ac.uk>
	<1381DE95-9FE5-4FFD-9B33-AE58B6E3EE32@uni-bonn.de>
Message-ID: <5232E71D.1040901@stats.ox.ac.uk>

On 13/09/2013 11:16, Simon Zehnder wrote:
> Dear Brian,
>
> if it is able to test the compilation of the quartz device by calling quartz() in R - this works. Calling xcodebuild -version gives me: Xcode 4.6.3 and clang --version gives me LLVM 3.2svn indeed. My prime target was to be able to use OpenMP 3.1 which is actually only available (freely) in gcc >= 4.7. Is there a possibility to install, check and reinstall all CRAN packages in R?

I was not asking about the clang in Xcode ... my point was that not all 
non-Apple versions of clang can compile quartz().

As for your question about CRAN package checks: CRAN does it daily so it 
must be possible.


> Best
>
> Simon
>
>
> On Sep 13, 2013, at 10:52 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>
>> On 13/09/2013 07:52, Anirban MUKHERJEE wrote:
>>> Hi Simon,
>>>
>>> On a related note, there has been progress on openmp in llvm/clang:
>>>
>>> http://www.phoronix.com/scan.php?page=news_item&px=MTQ0NjQ
>>>
>>> http://lists.cs.uiuc.edu/pipermail/llvmdev/2013-August/065169.html
>>>
>>> http://clang-omp.github.io/
>>>
>>> That might be an alternative route to consider if needed. Clang (I have not openmp/clang) usually builds easily on Mac OS.
>>
>> We know (I believe it has been mentioned here before).  But please remember that only the Apple clang is easy to use (does your self-build compile the quartz device? -- mine did not), and Apple lags a long way behind.  The current Xcode version says it is '3.2svn' but lacks even 3.1 features such as AddressSanitizer.  We will see what Xcode 5 brings when it is released.
>>
>> I don't think people appreciated Simon's comments about the stability needed.  If you can check all of CRAN with no more than 10 issues with gcc 4.7 or 4.8, then let us know.  That is about where we are with llvm-gcc 4.2 and clang 3.2- from Xcode 4.6.3.  When I tried 4.7.x prior to R 3.0.0 I had over 50 failures (and CRAN is reqularly checked with 4.7.x on other platforms).
>>
>> And we are only in that good a state because a lot of (literally) thankless work has been done to get CRAN/BioC packages to compile with clang.
>>
>> --
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Fri Sep 13 15:12:01 2013
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 13 Sep 2013 09:12:01 -0400
Subject: [R-SIG-Mac] [Caution: Message contains Suspicious URL content]
	R 3.0.1 build from sources: Wrong library paths
In-Reply-To: <1381DE95-9FE5-4FFD-9B33-AE58B6E3EE32@uni-bonn.de>
References: <C65DA019-24A1-469A-BA6F-38A2115B43F6@uni-bonn.de>
	<A008E47B-3CDE-4313-989A-181860CEBEA3@uni-bonn.de>
	<B8C06DE9-3E90-4F23-8DF9-98349A9F6B8A@uni-bonn.de>
	<5BD11C13-AB5C-4CE2-A8EA-AFC230F0C417@r-project.org>
	<0D72A126-FCBC-42CF-A7F8-104F5580E7C9@uni-bonn.de>
	<150816D4-7413-4394-B9FA-514BD65247B1@uni-bonn.de>
	<F8F628A3-A856-4C20-BAC2-52087A7AFE8B@smu.edu.sg>
	<5232D232.5060905@stats.ox.ac.uk>
	<1381DE95-9FE5-4FFD-9B33-AE58B6E3EE32@uni-bonn.de>
Message-ID: <9261D9A5-C099-40CD-B246-5FA2525715F9@r-project.org>


On Sep 13, 2013, at 6:16 AM, Simon Zehnder wrote:

> Dear Brian,
> 
> if it is able to test the compilation of the quartz device by calling quartz() in R - this works. Calling xcodebuild -version gives me: Xcode 4.6.3 and clang --version gives me LLVM 3.2svn indeed. My prime target was to be able to use OpenMP 3.1 which is actually only available (freely) in gcc >= 4.7.

That's not true - Intel OpenMP RTL (http://www.openmprtl.org/ ) is free (BSD license), goes even up to OpenMP 4.0 features and has much better performance. GOMP has terrible performance on OS X (one of the two reasons why we disable it in the binaries), so if you care about OMP you probably don't want to use gcc anyway (or plug out GOMP for the Intel one).


> Is there a possibility to install, check and reinstall all CRAN packages in R? 
> 

Install is easy - you feed install.packages() with package list from available.packages() and you can even use Ncpus. Check is annoying since there is no equivalent R function (AFAIK). All of us have their own functions they use for this. But what's more complicated is that you'll need to install all dependent libraries in the system - and there are a lot of them.

Cheers,
Simon



> Best
> 
> Simon
> 
> 
> On Sep 13, 2013, at 10:52 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> 
>> On 13/09/2013 07:52, Anirban MUKHERJEE wrote:
>>> Hi Simon,
>>> 
>>> On a related note, there has been progress on openmp in llvm/clang:
>>> 
>>> http://www.phoronix.com/scan.php?page=news_item&px=MTQ0NjQ
>>> 
>>> http://lists.cs.uiuc.edu/pipermail/llvmdev/2013-August/065169.html
>>> 
>>> http://clang-omp.github.io/
>>> 
>>> That might be an alternative route to consider if needed. Clang (I have not openmp/clang) usually builds easily on Mac OS.
>> 
>> We know (I believe it has been mentioned here before).  But please remember that only the Apple clang is easy to use (does your self-build compile the quartz device? -- mine did not), and Apple lags a long way behind.  The current Xcode version says it is '3.2svn' but lacks even 3.1 features such as AddressSanitizer.  We will see what Xcode 5 brings when it is released.
>> 
>> I don't think people appreciated Simon's comments about the stability needed.  If you can check all of CRAN with no more than 10 issues with gcc 4.7 or 4.8, then let us know.  That is about where we are with llvm-gcc 4.2 and clang 3.2- from Xcode 4.6.3.  When I tried 4.7.x prior to R 3.0.0 I had over 50 failures (and CRAN is reqularly checked with 4.7.x on other platforms).
>> 
>> And we are only in that good a state because a lot of (literally) thankless work has been done to get CRAN/BioC packages to compile with clang.
>> 
>> -- 
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From szehnder at uni-bonn.de  Fri Sep 13 17:52:03 2013
From: szehnder at uni-bonn.de (Simon Zehnder)
Date: Fri, 13 Sep 2013 17:52:03 +0200
Subject: [R-SIG-Mac] [Caution: Message contains Suspicious URL content]
	R 3.0.1 build from sources: Wrong library paths
In-Reply-To: <9261D9A5-C099-40CD-B246-5FA2525715F9@r-project.org>
References: <C65DA019-24A1-469A-BA6F-38A2115B43F6@uni-bonn.de>
	<A008E47B-3CDE-4313-989A-181860CEBEA3@uni-bonn.de>
	<B8C06DE9-3E90-4F23-8DF9-98349A9F6B8A@uni-bonn.de>
	<5BD11C13-AB5C-4CE2-A8EA-AFC230F0C417@r-project.org>
	<0D72A126-FCBC-42CF-A7F8-104F5580E7C9@uni-bonn.de>
	<150816D4-7413-4394-B9FA-514BD65247B1@uni-bonn.de>
	<F8F628A3-A856-4C20-BAC2-52087A7AFE8B@smu.edu.sg>
	<5232D232.5060905@stats.ox.ac.uk>
	<1381DE95-9FE5-4FFD-9B33-AE58B6E3EE32@uni-bonn.de>
	<9261D9A5-C099-40CD-B246-5FA2525715F9@r-project.org>
Message-ID: <08B66106-D27B-40C5-92DB-5411AAE0463A@uni-bonn.de>

Simon,

I have never heard about this before. That is worth full info! I will take a closer look to the library soon! That is indeed a better solution than using the gcc-4.8.1.


Thanks

Simon

On Sep 13, 2013, at 3:12 PM, Simon Urbanek <simon.urbanek at r-project.org> wrote:

> 
> On Sep 13, 2013, at 6:16 AM, Simon Zehnder wrote:
> 
>> Dear Brian,
>> 
>> if it is able to test the compilation of the quartz device by calling quartz() in R - this works. Calling xcodebuild -version gives me: Xcode 4.6.3 and clang --version gives me LLVM 3.2svn indeed. My prime target was to be able to use OpenMP 3.1 which is actually only available (freely) in gcc >= 4.7.
> 
> That's not true - Intel OpenMP RTL (http://www.openmprtl.org/ ) is free (BSD license), goes even up to OpenMP 4.0 features and has much better performance. GOMP has terrible performance on OS X (one of the two reasons why we disable it in the binaries), so if you care about OMP you probably don't want to use gcc anyway (or plug out GOMP for the Intel one).
> 
> 
>> Is there a possibility to install, check and reinstall all CRAN packages in R? 
>> 
> 
> Install is easy - you feed install.packages() with package list from available.packages() and you can even use Ncpus. Check is annoying since there is no equivalent R function (AFAIK). All of us have their own functions they use for this. But what's more complicated is that you'll need to install all dependent libraries in the system - and there are a lot of them.
> 
> Cheers,
> Simon
> 
> 
> 
>> Best
>> 
>> Simon
>> 
>> 
>> On Sep 13, 2013, at 10:52 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>> 
>>> On 13/09/2013 07:52, Anirban MUKHERJEE wrote:
>>>> Hi Simon,
>>>> 
>>>> On a related note, there has been progress on openmp in llvm/clang:
>>>> 
>>>> http://www.phoronix.com/scan.php?page=news_item&px=MTQ0NjQ
>>>> 
>>>> http://lists.cs.uiuc.edu/pipermail/llvmdev/2013-August/065169.html
>>>> 
>>>> http://clang-omp.github.io/
>>>> 
>>>> That might be an alternative route to consider if needed. Clang (I have not openmp/clang) usually builds easily on Mac OS.
>>> 
>>> We know (I believe it has been mentioned here before).  But please remember that only the Apple clang is easy to use (does your self-build compile the quartz device? -- mine did not), and Apple lags a long way behind.  The current Xcode version says it is '3.2svn' but lacks even 3.1 features such as AddressSanitizer.  We will see what Xcode 5 brings when it is released.
>>> 
>>> I don't think people appreciated Simon's comments about the stability needed.  If you can check all of CRAN with no more than 10 issues with gcc 4.7 or 4.8, then let us know.  That is about where we are with llvm-gcc 4.2 and clang 3.2- from Xcode 4.6.3.  When I tried 4.7.x prior to R 3.0.0 I had over 50 failures (and CRAN is reqularly checked with 4.7.x on other platforms).
>>> 
>>> And we are only in that good a state because a lot of (literally) thankless work has been done to get CRAN/BioC packages to compile with clang.
>>> 
>>> -- 
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 


From sarah.hardy at maine.edu  Thu Sep 19 03:46:00 2013
From: sarah.hardy at maine.edu (Sarah Hardy)
Date: Wed, 18 Sep 2013 21:46:00 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac 10.6.8
Message-ID: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130918/48a18ada/attachment.pl>

From jfox at mcmaster.ca  Thu Sep 19 05:47:57 2013
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 18 Sep 2013 23:47:57 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
Message-ID: <web-474686070@cgpsrv2.cis.mcmaster.ca>

Dear Sarah,

It seems likely from the message that you reported that the problem isn't directly related to the Rcmdr package, but rather to the tcltk package on which the Rcmdr depends. Your student (and the other students who are experiencing problems) can verify this by trying to load the tcltk package directly, via library(tcltk), to see whether he gets the same error. 

It also seems apparent from the error message that there's a mismatch between the version of Tcl/Tk, presumably the one supplied with the R distribution, and the version of X-Windows. I'm not sure why that happened, and there was a previous message about a similar problem on the list. I suggested that the user install the current version of X-Quartz, but you student apparently already has done that. Is it possible that there's an old version of X-Windows on the student's computer?

I assume that your students have been following the Rcmdr installation instructions for Mac OS X at <http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation-notes.html>. Have any of them been successful? Are all the problems identical? You mentioned that another student installed a version of Tcl/Tk independently of R. I suppose that this could cause problems if the wrong Tcl/Tk is invoked.

I too am teaching with the Rcmdr this Fall, and about half the students in my (small) class have Macs. None have experienced problems with the tcltk package or version 2.0-1 of the Rcmdr under R 3.0.1. Nor have I on my Mac,  running OS X 10.8.5 and XQuartz 2.7.4

Like you, I'm not terribly knowledgeable about Mac OS X. I expect that someone else on the list will be able to offer better help, and I've taken the liberty of copying this response to Simon Urbanek.

I'm sorry that you're experiencing this problem.

John

On Wed, 18 Sep 2013 21:46:00 -0400
 Sarah Hardy <sarah.hardy at maine.edu> wrote:
> I myself am not a Mac user, but I have about 6 students with Macs all
> having the same (or similar) problem loading Rcmdr 2.0.1 on their Mac (but
> have successfully installed R 3.0.1).
> 
> One student has a Mac 10.7.2. I know he installed XQuartz-2.7.4.dmg and
> then completely logged out and back in.
> Before he did that he ran the "Repair Disk Permissions" in "Disk Utility".
> Afterwards I checked "Verify Disk Permissions" and I didn't see any
> warnings. When installing Rcmdr there are no unusual messages. The message
> he gets in R when attempting to load Rcmdr  is:
> 
> R version 3.0.1 (2013-05-16) -- "Good Sport"
> Copyright (C) 2013 The R Foundation for Statistical Computing
> Platform: x86_64-apple-darwin10.8.0 (64-bit)
> 
> ...
> 
> 
> > library(Rcmdr)
> Loading required package: splines
> Error : .onLoad failed in loadNamespace() for 'tcltk', details:
>   call: dyn.load(file, DLLpath = DLLpath, ...)
>   error: unable to load shared object
> '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/libs/tcltk.so':
> 
> dlopen(/Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/libs/tcltk.so,
> 10): Library not loaded: /usr/X11/lib/libfreetype.6.dylib
>   Referenced from: /usr/local/lib/libtk8.6.dylib
>    Reason: Incompatible library version: libtk8.6.dylib requires version
> 14.0.0 or later, but libfreetype.6.dylib provides version 13.0.0
> Error: package or namespace load failed for ?Rcmdr?
> 
> I'm not sure if this provides any clues, but I also ran this system
> function:
> .
> > system("ls -ld /usr/local /usr/local/lib /usr/local/lib/libtcl*")
> drwxr-xr-x   7 root  wheel      238 Mar 29 20:36 /usr/local
> drwxr-xr-x  27 root  wheel      918 Sep 17 16:55 /usr/local/lib
> -r-xr-xr-x   1 root  wheel  4820229 Oct 21  2008
> /usr/local/lib/libtcl8.5.dylib
> -r-xr-xr-x   1 root  wheel  1419604 Mar 29 20:35/usr/local/lib/libtcl8.6.dylib
> -rw-r--r--   1 root  wheel    11072 Oct 21  2008
> /usr/local/lib/libtclstub8.5.a
> -rwxr-xr-x   1 root  wheel     4824 Mar 29 20:35/usr/local/lib/libtclstub8.6.a
> 
> Another student with identical messages has a Mac 10.6.8. I think she
> installed tcltk-8.5.5-x11.dmg.
> 
> Any tips or suggestions on how to proceed would be greatly appreciated.
> 
> Thank you,
> Sarah Hardy
> 
> -- 
> 
> Sarah Hardy, PhD
> Associate Professor of Mathematics
> University of Maine Farmington
> 207-778-7124    Office: Brinkman 100
> 
> 	[[alternative HTML version deleted]]
> 

------------------------------------------------
John Fox
McMaster University
Hamilton, Ontario, Canada
http://socserv.mcmaster.ca/jfox/


From dwinsemius at comcast.net  Thu Sep 19 10:04:18 2013
From: dwinsemius at comcast.net (David Winsemius)
Date: Thu, 19 Sep 2013 01:04:18 -0700
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <web-474686070@cgpsrv2.cis.mcmaster.ca>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
Message-ID: <9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>


On Sep 18, 2013, at 8:47 PM, John Fox wrote:

> Dear Sarah,
> 
> It seems likely from the message that you reported that the problem isn't directly related to the Rcmdr package, but rather to the tcltk package on which the Rcmdr depends. Your student (and the other students who are experiencing problems) can verify this by trying to load the tcltk package directly, via library(tcltk), to see whether he gets the same error. 
> 
> It also seems apparent from the error message that there's a mismatch between the version of Tcl/Tk, presumably the one supplied with the R distribution, and the version of X-Windows.

That is not what I am reading. libfreetype.6 version 13 is the reported problem with  a need to update to version 14.

> I'm not sure why that happened, and there was a previous message about a similar problem on the list. I suggested that the user install the current version of X-Quartz, but you student apparently already has done that. Is it possible that there's an old version of X-Windows on the student's computer?
> 
> I assume that your students have been following the Rcmdr installation instructions for Mac OS X at <http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation-notes.html>. Have any of them been successful? Are all the problems identical? You mentioned that another student installed a version of Tcl/Tk independently of R. I suppose that this could cause problems if the wrong Tcl/Tk is invoked.

I'm not really a student but maybe this will be useful anyway. There is a version of Tk at:

http://r.research.att.com/src/tk8.6.0-src.tar.gz

... which appears to be the most up-to-date version. I'm actually running version 8.5 with OSX 10.7.5

From the Unix cmd line one can execute:

echo "puts [info tclversion]" | tclsh

... for find the installed version.

My XQuartz.app in the Utilities folder reports version 2.7.4

In the R64.app console:

> help(package='tcltk')
> install.packages("Rcmdr")  

# I have 1.9.4 before installing version 2.0-0 which is what the CRAN gods are delivering for my system.

trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/contrib/3.0/Rcmdr_2.0-0.tgz'
Content type 'application/x-gzip' length 3945755 bytes (3.8 Mb)
opened URL
==================================================
downloaded 3.8 Mb


The downloaded binary packages are in
	/var/folders/yq/m3j1jqtj6hq6s5mq_v0jn3s80000gn/T//RtmptEudZq/downloaded_packages
> library(Rcmdr)
Loading required package: knitr
Loading required package: markdown

Rcmdr Version 2.0-0

And the GUI panel pops up.

 The error message below says that libfreetype.6 is an old version and that you need version 14.0 for libtk8.6

From Unix cmd line:

otool -L /opt/local/lib/libfreetype.6.dylib

# ---- reports ___________
/opt/local/lib/libfreetype.6.dylib:
	/opt/local/lib/libfreetype.6.dylib (compatibility version 16.0.0, current version 16.0.0)
	/opt/local/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.7)
	/opt/local/lib/libbz2.1.0.dylib (compatibility version 1.0.0, current version 1.0.6)
	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 125.2.11)


> 
> I too am teaching with the Rcmdr this Fall, and about half the students in my (small) class have Macs. None have experienced problems with the tcltk package or version 2.0-1 of the Rcmdr under R 3.0.1. Nor have I on my Mac,  running OS X 10.8.5 and XQuartz 2.7.4
> 
> Like you, I'm not terribly knowledgeable about Mac OS X. I expect that someone else on the list will be able to offer better help, and I've taken the liberty of copying this response to Simon Urbanek.
> 
> I'm sorry that you're experiencing this problem.
> 
> John
> 
> On Wed, 18 Sep 2013 21:46:00 -0400
> Sarah Hardy <sarah.hardy at maine.edu> wrote:
>> I myself am not a Mac user, but I have about 6 students with Macs all
>> having the same (or similar) problem loading Rcmdr 2.0.1 on their Mac (but
>> have successfully installed R 3.0.1).
>> 
>> One student has a Mac 10.7.2. I know he installed XQuartz-2.7.4.dmg and
>> then completely logged out and back in.
>> Before he did that he ran the "Repair Disk Permissions" in "Disk Utility".
>> Afterwards I checked "Verify Disk Permissions" and I didn't see any
>> warnings. When installing Rcmdr there are no unusual messages. The message
>> he gets in R when attempting to load Rcmdr  is:
>> 
>> R version 3.0.1 (2013-05-16) -- "Good Sport"
>> Copyright (C) 2013 The R Foundation for Statistical Computing
>> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>> 
>> ...
>> 
>> 
>>> library(Rcmdr)
>> Loading required package: splines
>> Error : .onLoad failed in loadNamespace() for 'tcltk', details:
>>  call: dyn.load(file, DLLpath = DLLpath, ...)
>>  error: unable to load shared object
>> '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/libs/tcltk.so':
>> 
>> dlopen(/Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/libs/tcltk.so,
>> 10): Library not loaded: /usr/X11/lib/libfreetype.6.dylib
>>  Referenced from: /usr/local/lib/libtk8.6.dylib
>>   Reason: Incompatible library version: libtk8.6.dylib requires version
>> 14.0.0 or later, but libfreetype.6.dylib provides version 13.0.0
>> Error: package or namespace load failed for ?Rcmdr?
>> 
>> I'm not sure if this provides any clues, but I also ran this system
>> function:
>> .
>>> system("ls -ld /usr/local /usr/local/lib /usr/local/lib/libtcl*")
>> drwxr-xr-x   7 root  wheel      238 Mar 29 20:36 /usr/local
>> drwxr-xr-x  27 root  wheel      918 Sep 17 16:55 /usr/local/lib
>> -r-xr-xr-x   1 root  wheel  4820229 Oct 21  2008
>> /usr/local/lib/libtcl8.5.dylib
>> -r-xr-xr-x   1 root  wheel  1419604 Mar 29 20:35/usr/local/lib/libtcl8.6.dylib
>> -rw-r--r--   1 root  wheel    11072 Oct 21  2008
>> /usr/local/lib/libtclstub8.5.a
>> -rwxr-xr-x   1 root  wheel     4824 Mar 29 20:35/usr/local/lib/libtclstub8.6.a
>> 
>> Another student with identical messages has a Mac 10.6.8. I think she
>> installed tcltk-8.5.5-x11.dmg.
>> 
>> Any tips or suggestions on how to proceed would be greatly appreciated.
>> 
>> Thank you,
>> Sarah Hardy
>> 
>> -- 
>> 
>> Sarah Hardy, PhD
>> Associate Professor of Mathematics
>> University of Maine Farmington
>> 207-778-7124    Office: Brinkman 100
>> 
>> 	[[alternative HTML version deleted]]
>> 
> 
> ------------------------------------------------
> John Fox
> McMaster University
> Hamilton, Ontario, Canada
> http://socserv.mcmaster.ca/jfox/
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius
Alameda, CA, USA


From simon.urbanek at r-project.org  Thu Sep 19 15:06:21 2013
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 19 Sep 2013 09:06:21 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
Message-ID: <486CCAF2-7C15-4593-8BDE-6F8410E79425@r-project.org>

Sarah,

note that 10.7.2 is way old - there have been many patch releases since then so first thing I'd suggest is to run Software Update. XQuartz doesn't remove system X11 if installed, so it's not necessarily relevant (it depends on the local setup) - OS updates may be more important here. But if in doubt, re-install XQuartz. R binaries assume a system that is up to date, regardless of the major OS X version.

As for the other student - do not install anything extra - R 3.0.1 already comes with everything that is needed. The additional downloads were needed for older versions of R.

Cheers,
Simon


On Sep 18, 2013, at 9:46 PM, Sarah Hardy wrote:

> I myself am not a Mac user, but I have about 6 students with Macs all
> having the same (or similar) problem loading Rcmdr 2.0.1 on their Mac (but
> have successfully installed R 3.0.1).
> 
> One student has a Mac 10.7.2. I know he installed XQuartz-2.7.4.dmg and
> then completely logged out and back in.
> Before he did that he ran the "Repair Disk Permissions" in "Disk Utility".
> Afterwards I checked "Verify Disk Permissions" and I didn't see any
> warnings. When installing Rcmdr there are no unusual messages. The message
> he gets in R when attempting to load Rcmdr  is:
> 
> R version 3.0.1 (2013-05-16) -- "Good Sport"
> Copyright (C) 2013 The R Foundation for Statistical Computing
> Platform: x86_64-apple-darwin10.8.0 (64-bit)
> 
> ...
> 
> 
>> library(Rcmdr)
> Loading required package: splines
> Error : .onLoad failed in loadNamespace() for 'tcltk', details:
>  call: dyn.load(file, DLLpath = DLLpath, ...)
>  error: unable to load shared object
> '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/libs/tcltk.so':
> 
> dlopen(/Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/libs/tcltk.so,
> 10): Library not loaded: /usr/X11/lib/libfreetype.6.dylib
>  Referenced from: /usr/local/lib/libtk8.6.dylib
>   Reason: Incompatible library version: libtk8.6.dylib requires version
> 14.0.0 or later, but libfreetype.6.dylib provides version 13.0.0
> Error: package or namespace load failed for ?Rcmdr?
> 
> I'm not sure if this provides any clues, but I also ran this system
> function:
> .
>> system("ls -ld /usr/local /usr/local/lib /usr/local/lib/libtcl*")
> drwxr-xr-x   7 root  wheel      238 Mar 29 20:36 /usr/local
> drwxr-xr-x  27 root  wheel      918 Sep 17 16:55 /usr/local/lib
> -r-xr-xr-x   1 root  wheel  4820229 Oct 21  2008
> /usr/local/lib/libtcl8.5.dylib
> -r-xr-xr-x   1 root  wheel  1419604 Mar 29 20:35/usr/local/lib/libtcl8.6.dylib
> -rw-r--r--   1 root  wheel    11072 Oct 21  2008
> /usr/local/lib/libtclstub8.5.a
> -rwxr-xr-x   1 root  wheel     4824 Mar 29 20:35/usr/local/lib/libtclstub8.6.a
> 
> Another student with identical messages has a Mac 10.6.8. I think she
> installed tcltk-8.5.5-x11.dmg.
> 
> Any tips or suggestions on how to proceed would be greatly appreciated.
> 
> Thank you,
> Sarah Hardy
> 
> -- 
> 
> Sarah Hardy, PhD
> Associate Professor of Mathematics
> University of Maine Farmington
> 207-778-7124    Office: Brinkman 100
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From urbanek at research.att.com  Thu Sep 19 15:10:52 2013
From: urbanek at research.att.com (Simon Urbanek)
Date: Thu, 19 Sep 2013 09:10:52 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
Message-ID: <1E86895D-86F3-44CB-B1BA-4706C8F912C5@research.att.com>

On Sep 19, 2013, at 4:04 AM, David Winsemius wrote:

> 
> On Sep 18, 2013, at 8:47 PM, John Fox wrote:
> 
>> Dear Sarah,
>> 
>> It seems likely from the message that you reported that the problem isn't directly related to the Rcmdr package, but rather to the tcltk package on which the Rcmdr depends. Your student (and the other students who are experiencing problems) can verify this by trying to load the tcltk package directly, via library(tcltk), to see whether he gets the same error. 
>> 
>> It also seems apparent from the error message that there's a mismatch between the version of Tcl/Tk, presumably the one supplied with the R distribution, and the version of X-Windows.
> 
> That is not what I am reading. libfreetype.6 version 13 is the reported problem with  a need to update to version 14.
> 
>> I'm not sure why that happened, and there was a previous message about a similar problem on the list. I suggested that the user install the current version of X-Quartz, but you student apparently already has done that. Is it possible that there's an old version of X-Windows on the student's computer?
>> 
>> I assume that your students have been following the Rcmdr installation instructions for Mac OS X at <http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation-notes.html>. Have any of them been successful? Are all the problems identical? You mentioned that another student installed a version of Tcl/Tk independently of R. I suppose that this could cause problems if the wrong Tcl/Tk is invoked.
> 
> I'm not really a student but maybe this will be useful anyway. There is a version of Tk at:
> 
> http://r.research.att.com/src/tk8.6.0-src.tar.gz
> 

Those are the sources - not very useful to end-users ;).

R 3.0.1 comes with the necessary binary so there is no need to download anything else.


> ... which appears to be the most up-to-date version. I'm actually running version 8.5 with OSX 10.7.5
> 
>> From the Unix cmd line one can execute:
> 
> echo "puts [info tclversion]" | tclsh
> 
> ... for find the installed version.
> 
> My XQuartz.app in the Utilities folder reports version 2.7.4
> 

Note that we don't use XQuartz - the default is to use system X11 (hence the /usr/X11 path). If XQuartz replaces the system X11 (by symlinking into /usr/X11) then it is used, but that is only the default on OS X versions that don't come with X11 at all.


> In the R64.app console:
> 
>> help(package='tcltk')
>> install.packages("Rcmdr")  
> 
> # I have 1.9.4 before installing version 2.0-0 which is what the CRAN gods are delivering for my system.
> 
> trying URL 'http://cran.cnr.Berkeley.edu/bin/macosx/contrib/3.0/Rcmdr_2.0-0.tgz'
> Content type 'application/x-gzip' length 3945755 bytes (3.8 Mb)
> opened URL
> ==================================================
> downloaded 3.8 Mb
> 
> 
> The downloaded binary packages are in
> 	/var/folders/yq/m3j1jqtj6hq6s5mq_v0jn3s80000gn/T//RtmptEudZq/downloaded_packages
>> library(Rcmdr)
> Loading required package: knitr
> Loading required package: markdown
> 
> Rcmdr Version 2.0-0
> 
> And the GUI panel pops up.
> 
> The error message below says that libfreetype.6 is an old version and that you need version 14.0 for libtk8.6
> 
>> From Unix cmd line:
> 
> otool -L /opt/local/lib/libfreetype.6.dylib
> 

^^-- this is irrelevant - TclTk uses /usr/X11:

$ otool -L /usr/X11/lib/libfreetype.6.dylib
/usr/X11/lib/libfreetype.6.dylib:
	/usr/X11/lib/libfreetype.6.dylib (compatibility version 14.0.0, current version 14.2.0)

Cheers,
Simon


> # ---- reports ___________
> /opt/local/lib/libfreetype.6.dylib:
> 	/opt/local/lib/libfreetype.6.dylib (compatibility version 16.0.0, current version 16.0.0)
> 	/opt/local/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.7)
> 	/opt/local/lib/libbz2.1.0.dylib (compatibility version 1.0.0, current version 1.0.6)
> 	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 125.2.11)
> 
> 
>> 
>> I too am teaching with the Rcmdr this Fall, and about half the students in my (small) class have Macs. None have experienced problems with the tcltk package or version 2.0-1 of the Rcmdr under R 3.0.1. Nor have I on my Mac,  running OS X 10.8.5 and XQuartz 2.7.4
>> 
>> Like you, I'm not terribly knowledgeable about Mac OS X. I expect that someone else on the list will be able to offer better help, and I've taken the liberty of copying this response to Simon Urbanek.
>> 
>> I'm sorry that you're experiencing this problem.
>> 
>> John
>> 
>> On Wed, 18 Sep 2013 21:46:00 -0400
>> Sarah Hardy <sarah.hardy at maine.edu> wrote:
>>> I myself am not a Mac user, but I have about 6 students with Macs all
>>> having the same (or similar) problem loading Rcmdr 2.0.1 on their Mac (but
>>> have successfully installed R 3.0.1).
>>> 
>>> One student has a Mac 10.7.2. I know he installed XQuartz-2.7.4.dmg and
>>> then completely logged out and back in.
>>> Before he did that he ran the "Repair Disk Permissions" in "Disk Utility".
>>> Afterwards I checked "Verify Disk Permissions" and I didn't see any
>>> warnings. When installing Rcmdr there are no unusual messages. The message
>>> he gets in R when attempting to load Rcmdr  is:
>>> 
>>> R version 3.0.1 (2013-05-16) -- "Good Sport"
>>> Copyright (C) 2013 The R Foundation for Statistical Computing
>>> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>>> 
>>> ...
>>> 
>>> 
>>>> library(Rcmdr)
>>> Loading required package: splines
>>> Error : .onLoad failed in loadNamespace() for 'tcltk', details:
>>> call: dyn.load(file, DLLpath = DLLpath, ...)
>>> error: unable to load shared object
>>> '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/libs/tcltk.so':
>>> 
>>> dlopen(/Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/libs/tcltk.so,
>>> 10): Library not loaded: /usr/X11/lib/libfreetype.6.dylib
>>> Referenced from: /usr/local/lib/libtk8.6.dylib
>>>  Reason: Incompatible library version: libtk8.6.dylib requires version
>>> 14.0.0 or later, but libfreetype.6.dylib provides version 13.0.0
>>> Error: package or namespace load failed for ?Rcmdr?
>>> 
>>> I'm not sure if this provides any clues, but I also ran this system
>>> function:
>>> .
>>>> system("ls -ld /usr/local /usr/local/lib /usr/local/lib/libtcl*")
>>> drwxr-xr-x   7 root  wheel      238 Mar 29 20:36 /usr/local
>>> drwxr-xr-x  27 root  wheel      918 Sep 17 16:55 /usr/local/lib
>>> -r-xr-xr-x   1 root  wheel  4820229 Oct 21  2008
>>> /usr/local/lib/libtcl8.5.dylib
>>> -r-xr-xr-x   1 root  wheel  1419604 Mar 29 20:35/usr/local/lib/libtcl8.6.dylib
>>> -rw-r--r--   1 root  wheel    11072 Oct 21  2008
>>> /usr/local/lib/libtclstub8.5.a
>>> -rwxr-xr-x   1 root  wheel     4824 Mar 29 20:35/usr/local/lib/libtclstub8.6.a
>>> 
>>> Another student with identical messages has a Mac 10.6.8. I think she
>>> installed tcltk-8.5.5-x11.dmg.
>>> 
>>> Any tips or suggestions on how to proceed would be greatly appreciated.
>>> 
>>> Thank you,
>>> Sarah Hardy
>>> 
>>> -- 
>>> 
>>> Sarah Hardy, PhD
>>> Associate Professor of Mathematics
>>> University of Maine Farmington
>>> 207-778-7124    Office: Brinkman 100
>>> 
>>> 	[[alternative HTML version deleted]]
>>> 
>> 
>> ------------------------------------------------
>> John Fox
>> McMaster University
>> Hamilton, Ontario, Canada
>> http://socserv.mcmaster.ca/jfox/
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> David Winsemius
> Alameda, CA, USA
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From jfox at mcmaster.ca  Thu Sep 19 15:05:49 2013
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 19 Sep 2013 09:05:49 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
Message-ID: <web-474720578@cgpsrv2.cis.mcmaster.ca>

Dear David,

On Thu, 19 Sep 2013 01:04:18 -0700
 David Winsemius <dwinsemius at comcast.net> wrote:
> 
> On Sep 18, 2013, at 8:47 PM, John Fox wrote:
> 

. . .

> > It also seems apparent from the error message that there's a mismatch between the version of Tcl/Tk, presumably the one supplied with the R distribution, and the version of X-Windows.
> 
> That is not what I am reading. libfreetype.6 version 13 is the reported problem with  a need to update to version 14.
> 

Do you know where libfreetype.6 comes from? Is it installed independently of Tcl/Tk and XQuartz? If so, do you know how to update it?

. . .

> I'm not really a student but maybe this will be useful anyway. There is a version of Tk at:
> 
> http://r.research.att.com/src/tk8.6.0-src.tar.gz
> 
> ... which appears to be the most up-to-date version. I'm actually running version 8.5 with OSX 10.7.5
> 

Version 8.6-0 of Tcl/Tk for X-Windows is included in the R 3.0.1 installer for Mac OS X. Is it possible that it doesn't get installed if there's already a Tcl/Tk for X-Windows installed?

. . .

> 
>  The error message below says that libfreetype.6 is an old version and that you need version 14.0 for libtk8.6
> 
> From Unix cmd line:
> 
> otool -L /opt/local/lib/libfreetype.6.dylib
> 
> # ---- reports ___________
> /opt/local/lib/libfreetype.6.dylib:
> 	/opt/local/lib/libfreetype.6.dylib (compatibility version 16.0.0, current version 16.0.0)
> 	/opt/local/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.7)
> 	/opt/local/lib/libbz2.1.0.dylib (compatibility version 1.0.0, current version 1.0.6)
> 	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 125.2.11)
> 

So tcltk and the Rcmdr 2.0-0 work on your system because you have a sufficiently up-to-date libfreetype.6. It would be additionally helpful to be able to answer the following questions:

(1) Why is it that some users have old versions of libfreetype.6.

(2) Why doesn't installing the newest versions of R (which includes Tcl/Tk) and XQuartz, not solve this problem?

(3) What can users experiencing this problem do to fix it?

If I knew the answers to these questions, I could update the Rcmdr installation notes to help users avoid the problem.

Thank you for your help,
 John


From urbanek at research.att.com  Thu Sep 19 15:24:38 2013
From: urbanek at research.att.com (Simon Urbanek)
Date: Thu, 19 Sep 2013 09:24:38 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <web-474720578@cgpsrv2.cis.mcmaster.ca>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
Message-ID: <AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>

On Sep 19, 2013, at 9:05 AM, John Fox wrote:

> Dear David,
> 
> On Thu, 19 Sep 2013 01:04:18 -0700
> David Winsemius <dwinsemius at comcast.net> wrote:
>> 
>> On Sep 18, 2013, at 8:47 PM, John Fox wrote:
>> 
> 
> . . .
> 
>>> It also seems apparent from the error message that there's a mismatch between the version of Tcl/Tk, presumably the one supplied with the R distribution, and the version of X-Windows.
>> 
>> That is not what I am reading. libfreetype.6 version 13 is the reported problem with  a need to update to version 14.
>> 
> 
> Do you know where libfreetype.6 comes from? Is it installed independently of Tcl/Tk and XQuartz? If so, do you know how to update it?
> 
> . . .
> 
>> I'm not really a student but maybe this will be useful anyway. There is a version of Tk at:
>> 
>> http://r.research.att.com/src/tk8.6.0-src.tar.gz
>> 
>> ... which appears to be the most up-to-date version. I'm actually running version 8.5 with OSX 10.7.5
>> 
> 
> Version 8.6-0 of Tcl/Tk for X-Windows is included in the R 3.0.1 installer for Mac OS X. Is it possible that it doesn't get installed if there's already a Tcl/Tk for X-Windows installed?
> 
> . . .
> 
>> 
>> The error message below says that libfreetype.6 is an old version and that you need version 14.0 for libtk8.6
>> 
>> From Unix cmd line:
>> 
>> otool -L /opt/local/lib/libfreetype.6.dylib
>> 
>> # ---- reports ___________
>> /opt/local/lib/libfreetype.6.dylib:
>> 	/opt/local/lib/libfreetype.6.dylib (compatibility version 16.0.0, current version 16.0.0)
>> 	/opt/local/lib/libz.1.dylib (compatibility version 1.0.0, current version 1.2.7)
>> 	/opt/local/lib/libbz2.1.0.dylib (compatibility version 1.0.0, current version 1.0.6)
>> 	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 125.2.11)
>> 
> 
> So tcltk and the Rcmdr 2.0-0 work on your system because you have a sufficiently up-to-date libfreetype.6. It would be additionally helpful to be able to answer the following questions:
> 
> (1) Why is it that some users have old versions of libfreetype.6.
> 

guess: they don't use Software Update and thus have outdated system libraries


> (2) Why doesn't installing the newest versions of R (which includes Tcl/Tk) and XQuartz, not solve this problem?
> 

guess: they are running an older version or didn't install R properly from the CRAN package


> (3) What can users experiencing this problem do to fix it?
> 


Run Software Update for (1) , re-install R for (2)?

We have only 3rd hand report here so we're reduced to guessing so far. As I said, one important thing is that we uses system X11 and not XQuartz so installing XQuartz has no effect if there is a system X11 installed. However, on an up-todate system there should be no problems.

Cheers,
S


> If I knew the answers to these questions, I could update the Rcmdr installation notes to help users avoid the problem.
> 
> Thank you for your help,
> John


From jfox at mcmaster.ca  Thu Sep 19 16:29:44 2013
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 19 Sep 2013 10:29:44 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
Message-ID: <001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>

Dear Simon,

Thank you very much for these clarifications (and also for responding to
David and Sarah's posts in this thread). I think that I understand what's
going on now, and will add a note to the Rcmdr installation instructions to
run Software Update prior to installing R, the Rcmdr, and (if necessary)
XQuartz.

(Sarah: You could try asking your student(s) to run Software Update, and
then reinstall R and the Rcmdr package. If you do this, can you report to
the list whether it works?)

I do have one further question: I understand now that R will use an older
X-11 in preference to XQuartz if XQuartz doesn't install a symbolic link to
/usr/X11. Is there a reason for this? That is, why not have R use XQuartz in
preference to another X-11 if XQuartz is installed -- or to pick the newest
X-server, if it's possible to ascertain that?

Thanks again for your help,
 John

> -----Original Message-----
> From: Simon Urbanek [mailto:urbanek at research.att.com]
> Sent: Thursday, September 19, 2013 9:25 AM
> To: John Fox
> Cc: David Winsemius; Sarah Hardy; r-sig-mac
> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a
> Mac 10.6.8
> 
> On Sep 19, 2013, at 9:05 AM, John Fox wrote:
> 
> > Dear David,
> >
> > On Thu, 19 Sep 2013 01:04:18 -0700
> > David Winsemius <dwinsemius at comcast.net> wrote:
> >>
> >> On Sep 18, 2013, at 8:47 PM, John Fox wrote:
> >>
> >
> > . . .
> >
> >>> It also seems apparent from the error message that there's a
> mismatch between the version of Tcl/Tk, presumably the one supplied
> with the R distribution, and the version of X-Windows.
> >>
> >> That is not what I am reading. libfreetype.6 version 13 is the
> reported problem with  a need to update to version 14.
> >>
> >
> > Do you know where libfreetype.6 comes from? Is it installed
> independently of Tcl/Tk and XQuartz? If so, do you know how to update
> it?
> >
> > . . .
> >
> >> I'm not really a student but maybe this will be useful anyway. There
> is a version of Tk at:
> >>
> >> http://r.research.att.com/src/tk8.6.0-src.tar.gz
> >>
> >> ... which appears to be the most up-to-date version. I'm actually
> running version 8.5 with OSX 10.7.5
> >>
> >
> > Version 8.6-0 of Tcl/Tk for X-Windows is included in the R 3.0.1
> installer for Mac OS X. Is it possible that it doesn't get installed if
> there's already a Tcl/Tk for X-Windows installed?
> >
> > . . .
> >
> >>
> >> The error message below says that libfreetype.6 is an old version
> and that you need version 14.0 for libtk8.6
> >>
> >> From Unix cmd line:
> >>
> >> otool -L /opt/local/lib/libfreetype.6.dylib
> >>
> >> # ---- reports ___________
> >> /opt/local/lib/libfreetype.6.dylib:
> >> 	/opt/local/lib/libfreetype.6.dylib (compatibility version 16.0.0,
> current version 16.0.0)
> >> 	/opt/local/lib/libz.1.dylib (compatibility version 1.0.0, current
> version 1.2.7)
> >> 	/opt/local/lib/libbz2.1.0.dylib (compatibility version 1.0.0,
> current version 1.0.6)
> >> 	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current
> version 125.2.11)
> >>
> >
> > So tcltk and the Rcmdr 2.0-0 work on your system because you have a
> sufficiently up-to-date libfreetype.6. It would be additionally helpful
> to be able to answer the following questions:
> >
> > (1) Why is it that some users have old versions of libfreetype.6.
> >
> 
> guess: they don't use Software Update and thus have outdated system
> libraries
> 
> 
> > (2) Why doesn't installing the newest versions of R (which includes
> Tcl/Tk) and XQuartz, not solve this problem?
> >
> 
> guess: they are running an older version or didn't install R properly
> from the CRAN package
> 
> 
> > (3) What can users experiencing this problem do to fix it?
> >
> 
> 
> Run Software Update for (1) , re-install R for (2)?
> 
> We have only 3rd hand report here so we're reduced to guessing so far.
> As I said, one important thing is that we uses system X11 and not
> XQuartz so installing XQuartz has no effect if there is a system X11
> installed. However, on an up-todate system there should be no problems.
> 
> Cheers,
> S
> 
> 
> > If I knew the answers to these questions, I could update the Rcmdr
> installation notes to help users avoid the problem.
> >
> > Thank you for your help,
> > John


From simon.urbanek at r-project.org  Thu Sep 19 17:16:28 2013
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 19 Sep 2013 11:16:28 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
Message-ID: <B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>

John,

On Sep 19, 2013, at 10:29 AM, John Fox wrote:

> Dear Simon,
> 
> Thank you very much for these clarifications (and also for responding to
> David and Sarah's posts in this thread). I think that I understand what's
> going on now, and will add a note to the Rcmdr installation instructions to
> run Software Update prior to installing R, the Rcmdr, and (if necessary)
> XQuartz.
> 
> (Sarah: You could try asking your student(s) to run Software Update, and
> then reinstall R and the Rcmdr package. If you do this, can you report to
> the list whether it works?)
> 
> I do have one further question: I understand now that R will use an older
> X-11 in preference to XQuartz if XQuartz doesn't install a symbolic link to
> /usr/X11. Is there a reason for this? That is, why not have R use XQuartz in
> preference to another X-11 if XQuartz is installed -- or to pick the newest
> X-server, if it's possible to ascertain that?
> 

It's not. This is not about preferences - R has no choice, it has to links against something and we picked something that's more likely to exist. You cannot pick and choose at run time since the libraries (with paths) are linked in. Note that this is *not* about the X11 that the user will be running - this is just for internal libraries use by R - these are two entirely separate things (server vs client). Also XQuartz was really a development project, so it didn't seem like a good idea to require it - in particular since we would ask people to install parallel X11 implementation to an existing one - and have to answer the "why?". In the meantime Apple has removed system X11 completely from recent OS X so it may be worth re-visiting that option and just require XQuartz. However, there is no guarantee that they will support the targets we support (although so far they do). Finally, XQuartz will act as system X11 but not vice-versa, so it's much safer to use the system X11 location as it supports more setups.

FWIW: I think this whole discussion is getting off the original topic: if you don't keep your system up to date, nothing is guaranteed to work - it has nothing to do with X11, it affects all system libraries and we have seen that before.

Cheers,
Simon


> Thanks again for your help,
> John
> 
>> -----Original Message-----
>> From: Simon Urbanek [mailto:urbanek at research.att.com]
>> Sent: Thursday, September 19, 2013 9:25 AM
>> To: John Fox
>> Cc: David Winsemius; Sarah Hardy; r-sig-mac
>> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a
>> Mac 10.6.8
>> 
>> On Sep 19, 2013, at 9:05 AM, John Fox wrote:
>> 
>>> Dear David,
>>> 
>>> On Thu, 19 Sep 2013 01:04:18 -0700
>>> David Winsemius <dwinsemius at comcast.net> wrote:
>>>> 
>>>> On Sep 18, 2013, at 8:47 PM, John Fox wrote:
>>>> 
>>> 
>>> . . .
>>> 
>>>>> It also seems apparent from the error message that there's a
>> mismatch between the version of Tcl/Tk, presumably the one supplied
>> with the R distribution, and the version of X-Windows.
>>>> 
>>>> That is not what I am reading. libfreetype.6 version 13 is the
>> reported problem with  a need to update to version 14.
>>>> 
>>> 
>>> Do you know where libfreetype.6 comes from? Is it installed
>> independently of Tcl/Tk and XQuartz? If so, do you know how to update
>> it?
>>> 
>>> . . .
>>> 
>>>> I'm not really a student but maybe this will be useful anyway. There
>> is a version of Tk at:
>>>> 
>>>> http://r.research.att.com/src/tk8.6.0-src.tar.gz
>>>> 
>>>> ... which appears to be the most up-to-date version. I'm actually
>> running version 8.5 with OSX 10.7.5
>>>> 
>>> 
>>> Version 8.6-0 of Tcl/Tk for X-Windows is included in the R 3.0.1
>> installer for Mac OS X. Is it possible that it doesn't get installed if
>> there's already a Tcl/Tk for X-Windows installed?
>>> 
>>> . . .
>>> 
>>>> 
>>>> The error message below says that libfreetype.6 is an old version
>> and that you need version 14.0 for libtk8.6
>>>> 
>>>> From Unix cmd line:
>>>> 
>>>> otool -L /opt/local/lib/libfreetype.6.dylib
>>>> 
>>>> # ---- reports ___________
>>>> /opt/local/lib/libfreetype.6.dylib:
>>>> 	/opt/local/lib/libfreetype.6.dylib (compatibility version 16.0.0,
>> current version 16.0.0)
>>>> 	/opt/local/lib/libz.1.dylib (compatibility version 1.0.0, current
>> version 1.2.7)
>>>> 	/opt/local/lib/libbz2.1.0.dylib (compatibility version 1.0.0,
>> current version 1.0.6)
>>>> 	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current
>> version 125.2.11)
>>>> 
>>> 
>>> So tcltk and the Rcmdr 2.0-0 work on your system because you have a
>> sufficiently up-to-date libfreetype.6. It would be additionally helpful
>> to be able to answer the following questions:
>>> 
>>> (1) Why is it that some users have old versions of libfreetype.6.
>>> 
>> 
>> guess: they don't use Software Update and thus have outdated system
>> libraries
>> 
>> 
>>> (2) Why doesn't installing the newest versions of R (which includes
>> Tcl/Tk) and XQuartz, not solve this problem?
>>> 
>> 
>> guess: they are running an older version or didn't install R properly
>> from the CRAN package
>> 
>> 
>>> (3) What can users experiencing this problem do to fix it?
>>> 
>> 
>> 
>> Run Software Update for (1) , re-install R for (2)?
>> 
>> We have only 3rd hand report here so we're reduced to guessing so far.
>> As I said, one important thing is that we uses system X11 and not
>> XQuartz so installing XQuartz has no effect if there is a system X11
>> installed. However, on an up-todate system there should be no problems.
>> 
>> Cheers,
>> S
>> 
>> 
>>> If I knew the answers to these questions, I could update the Rcmdr
>> installation notes to help users avoid the problem.
>>> 
>>> Thank you for your help,
>>> John
> 


From jfox at mcmaster.ca  Thu Sep 19 17:36:39 2013
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 19 Sep 2013 11:36:39 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
Message-ID: <003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>

Dear Simon,

OK -- thanks for the further clarification.

If you can bear with me a bit longer, I've drafted an update to the Rcmdr
installation notes, the relevant part of which now reads as follows --
[link] represents a hyperlink:

-------------- snip ---------------

. . .

These instructions are for R version 3.0.0 or later; if you're using an
earlier version of R, I suggest that you upgrade, or, failing that, consult
the special Mac OS X installation notes [link] for the R Commander under
older versions of R.

Before installing R or the R Commander, make sure that your Mac OS X system
is up-to-date by running Software Update from the "apple" menu at the
top-left of the screen. This is important, because R assumes that the system
is up-to-date and may not function properly if it is not.

The procedure for installing the R Commander under Mac OS X is a bit
complicated, so please read and follow these instructions carefully. These
instructions and the associated files are intended for 10.6 (Snow Leopard),
10.7 (Lion), and 10.8 (Mountain Lion) systems. I assume that you've already
installed R, version 3.0.0 or later. 

O Check to see if the X11 windowing system (X Windows) has already been
installed on your computer. For OS X 10.6 and 10.7, the file X11.app should
appear?in the Utilities folder under Applications in the finder. This
application should always be installed under OS X 10.7. For OS X 10.8, the
file is named XQuartz.app and is no longer included with the operating
system. 

O If X11.app is missing under OS X 10.6 or 10.7, you can (preferably)
download and install XQuartz from http://xquartz.macosforge.org [link],
following the directions for OS X 10.8 below, or you can install X11.app
from your Mac OS X installation disc as follows:

	- Insert your Mac OS X install disc. (If you have two discs it will
be on the"Install Disc 1").

	- Double click on Optional Installs.

	- Double click on Optional Installs.mpkg, then click Continue?and
accept the license agreement.

	- Click the triangle next to Applications in order to expand the
list of applications.

	- Check "X11", and then click Continue and Install. Click Close when
the installation finishes.

	- If you install X11 from your Mac OS X discs rather than XQuartz,
then run Software Update afterwards to make sure that your X11 system is
up-to-date.

Under OS X 10.8 (Mountain Lion), when you first try to use X11 -- for
example, by installing and then loading the Rcmdr package in R (see the
bullets below) -- OS X will offer to help you install X11, with a message
like "To open 'R,' you need to install X11. Would you like to install X11
now?"

O Click the continue button, which will take you to the Apple support
website, and thence to http://xquartz.macosforge.org [link], where you can
download the disk image (dmg) file for XQuartz. 

O When you open this file by double-clicking on it, you'll find XQuartz.pkg;
double-click on it to run the installer, clicking through all the defaults. 

O After the installer runs, you'll have to log out and back on to your Mac
OS X account.

. . .

-------------- snip ---------------

Does that seem to cover the bases? Remember that many of the people using
these instructions will be even more ignorant than I am about Mac OS X.

Thanks for your help,
 John

> -----Original Message-----
> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> Sent: Thursday, September 19, 2013 11:16 AM
> To: John Fox
> Cc: 'David Winsemius'; 'Sarah Hardy'; 'r-sig-mac'
> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a
> Mac 10.6.8
> 
> John,
> 
> On Sep 19, 2013, at 10:29 AM, John Fox wrote:
> 
> > Dear Simon,
> >
> > Thank you very much for these clarifications (and also for responding
> to
> > David and Sarah's posts in this thread). I think that I understand
> what's
> > going on now, and will add a note to the Rcmdr installation
> instructions to
> > run Software Update prior to installing R, the Rcmdr, and (if
> necessary)
> > XQuartz.
> >
> > (Sarah: You could try asking your student(s) to run Software Update,
> and
> > then reinstall R and the Rcmdr package. If you do this, can you
> report to
> > the list whether it works?)
> >
> > I do have one further question: I understand now that R will use an
> older
> > X-11 in preference to XQuartz if XQuartz doesn't install a symbolic
> link to
> > /usr/X11. Is there a reason for this? That is, why not have R use
> XQuartz in
> > preference to another X-11 if XQuartz is installed -- or to pick the
> newest
> > X-server, if it's possible to ascertain that?
> >
> 
> It's not. This is not about preferences - R has no choice, it has to
> links against something and we picked something that's more likely to
> exist. You cannot pick and choose at run time since the libraries (with
> paths) are linked in. Note that this is *not* about the X11 that the
> user will be running - this is just for internal libraries use by R -
> these are two entirely separate things (server vs client). Also XQuartz
> was really a development project, so it didn't seem like a good idea to
> require it - in particular since we would ask people to install
> parallel X11 implementation to an existing one - and have to answer the
> "why?". In the meantime Apple has removed system X11 completely from
> recent OS X so it may be worth re-visiting that option and just require
> XQuartz. However, there is no guarantee that they will support the
> targets we support (although so far they do). Finally, XQuartz will act
> as system X11 but not vice-versa, so it's much safer to use the system
> X11 location as it supports more setups.
> 
> FWIW: I think this whole discussion is getting off the original topic:
> if you don't keep your system up to date, nothing is guaranteed to work
> - it has nothing to do with X11, it affects all system libraries and we
> have seen that before.
> 
> Cheers,
> Simon
> 
> 
> > Thanks again for your help,
> > John
> >
> >> -----Original Message-----
> >> From: Simon Urbanek [mailto:urbanek at research.att.com]
> >> Sent: Thursday, September 19, 2013 9:25 AM
> >> To: John Fox
> >> Cc: David Winsemius; Sarah Hardy; r-sig-mac
> >> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and
> a
> >> Mac 10.6.8
> >>
> >> On Sep 19, 2013, at 9:05 AM, John Fox wrote:
> >>
> >>> Dear David,
> >>>
> >>> On Thu, 19 Sep 2013 01:04:18 -0700
> >>> David Winsemius <dwinsemius at comcast.net> wrote:
> >>>>
> >>>> On Sep 18, 2013, at 8:47 PM, John Fox wrote:
> >>>>
> >>>
> >>> . . .
> >>>
> >>>>> It also seems apparent from the error message that there's a
> >> mismatch between the version of Tcl/Tk, presumably the one supplied
> >> with the R distribution, and the version of X-Windows.
> >>>>
> >>>> That is not what I am reading. libfreetype.6 version 13 is the
> >> reported problem with  a need to update to version 14.
> >>>>
> >>>
> >>> Do you know where libfreetype.6 comes from? Is it installed
> >> independently of Tcl/Tk and XQuartz? If so, do you know how to
> update
> >> it?
> >>>
> >>> . . .
> >>>
> >>>> I'm not really a student but maybe this will be useful anyway.
> There
> >> is a version of Tk at:
> >>>>
> >>>> http://r.research.att.com/src/tk8.6.0-src.tar.gz
> >>>>
> >>>> ... which appears to be the most up-to-date version. I'm actually
> >> running version 8.5 with OSX 10.7.5
> >>>>
> >>>
> >>> Version 8.6-0 of Tcl/Tk for X-Windows is included in the R 3.0.1
> >> installer for Mac OS X. Is it possible that it doesn't get installed
> if
> >> there's already a Tcl/Tk for X-Windows installed?
> >>>
> >>> . . .
> >>>
> >>>>
> >>>> The error message below says that libfreetype.6 is an old version
> >> and that you need version 14.0 for libtk8.6
> >>>>
> >>>> From Unix cmd line:
> >>>>
> >>>> otool -L /opt/local/lib/libfreetype.6.dylib
> >>>>
> >>>> # ---- reports ___________
> >>>> /opt/local/lib/libfreetype.6.dylib:
> >>>> 	/opt/local/lib/libfreetype.6.dylib (compatibility version 16.0.0,
> >> current version 16.0.0)
> >>>> 	/opt/local/lib/libz.1.dylib (compatibility version 1.0.0, current
> >> version 1.2.7)
> >>>> 	/opt/local/lib/libbz2.1.0.dylib (compatibility version 1.0.0,
> >> current version 1.0.6)
> >>>> 	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current
> >> version 125.2.11)
> >>>>
> >>>
> >>> So tcltk and the Rcmdr 2.0-0 work on your system because you have a
> >> sufficiently up-to-date libfreetype.6. It would be additionally
> helpful
> >> to be able to answer the following questions:
> >>>
> >>> (1) Why is it that some users have old versions of libfreetype.6.
> >>>
> >>
> >> guess: they don't use Software Update and thus have outdated system
> >> libraries
> >>
> >>
> >>> (2) Why doesn't installing the newest versions of R (which includes
> >> Tcl/Tk) and XQuartz, not solve this problem?
> >>>
> >>
> >> guess: they are running an older version or didn't install R
> properly
> >> from the CRAN package
> >>
> >>
> >>> (3) What can users experiencing this problem do to fix it?
> >>>
> >>
> >>
> >> Run Software Update for (1) , re-install R for (2)?
> >>
> >> We have only 3rd hand report here so we're reduced to guessing so
> far.
> >> As I said, one important thing is that we uses system X11 and not
> >> XQuartz so installing XQuartz has no effect if there is a system X11
> >> installed. However, on an up-todate system there should be no
> problems.
> >>
> >> Cheers,
> >> S
> >>
> >>
> >>> If I knew the answers to these questions, I could update the Rcmdr
> >> installation notes to help users avoid the problem.
> >>>
> >>> Thank you for your help,
> >>> John
> >


From simon.urbanek at r-project.org  Thu Sep 19 17:48:53 2013
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 19 Sep 2013 11:48:53 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
Message-ID: <2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>

Well, the I think it reads far more complicated that in needs to be. You should have a quickstart section that just says:

* Install R 3.0.1 or later
* Install XQuartz from http://xquartz.macosforge.org

Done. Current R only supports 10.6.8+ and so does XQuartz so the above covers everything that is supported right now (I recall having that discussion earlier...).

Then you can have troubleshooting section which says

a) make sure you installed R with Tcl/Tk (it is the default) - if in doubt, re-install R from CRAN
b) use Software Update

Then you can have a technical section with the details you show below, but 99% of users should not need to read it.

Cheers,
Simon





On Sep 19, 2013, at 11:36 AM, John Fox wrote:

> Dear Simon,
> 
> OK -- thanks for the further clarification.
> 
> If you can bear with me a bit longer, I've drafted an update to the Rcmdr
> installation notes, the relevant part of which now reads as follows --
> [link] represents a hyperlink:
> 
> -------------- snip ---------------
> 
> . . .
> 
> These instructions are for R version 3.0.0 or later; if you're using an
> earlier version of R, I suggest that you upgrade, or, failing that, consult
> the special Mac OS X installation notes [link] for the R Commander under
> older versions of R.
> 
> Before installing R or the R Commander, make sure that your Mac OS X system
> is up-to-date by running Software Update from the "apple" menu at the
> top-left of the screen. This is important, because R assumes that the system
> is up-to-date and may not function properly if it is not.
> 
> The procedure for installing the R Commander under Mac OS X is a bit
> complicated, so please read and follow these instructions carefully. These
> instructions and the associated files are intended for 10.6 (Snow Leopard),
> 10.7 (Lion), and 10.8 (Mountain Lion) systems. I assume that you've already
> installed R, version 3.0.0 or later. 
> 
> O Check to see if the X11 windowing system (X Windows) has already been
> installed on your computer. For OS X 10.6 and 10.7, the file X11.app should
> appear in the Utilities folder under Applications in the finder. This
> application should always be installed under OS X 10.7. For OS X 10.8, the
> file is named XQuartz.app and is no longer included with the operating
> system. 
> 
> O If X11.app is missing under OS X 10.6 or 10.7, you can (preferably)
> download and install XQuartz from http://xquartz.macosforge.org [link],
> following the directions for OS X 10.8 below, or you can install X11.app
> from your Mac OS X installation disc as follows:
> 
> 	- Insert your Mac OS X install disc. (If you have two discs it will
> be on the"Install Disc 1").
> 
> 	- Double click on Optional Installs.
> 
> 	- Double click on Optional Installs.mpkg, then click Continue and
> accept the license agreement.
> 
> 	- Click the triangle next to Applications in order to expand the
> list of applications.
> 
> 	- Check "X11", and then click Continue and Install. Click Close when
> the installation finishes.
> 
> 	- If you install X11 from your Mac OS X discs rather than XQuartz,
> then run Software Update afterwards to make sure that your X11 system is
> up-to-date.
> 
> Under OS X 10.8 (Mountain Lion), when you first try to use X11 -- for
> example, by installing and then loading the Rcmdr package in R (see the
> bullets below) -- OS X will offer to help you install X11, with a message
> like "To open 'R,' you need to install X11. Would you like to install X11
> now?"
> 
> O Click the continue button, which will take you to the Apple support
> website, and thence to http://xquartz.macosforge.org [link], where you can
> download the disk image (dmg) file for XQuartz. 
> 
> O When you open this file by double-clicking on it, you'll find XQuartz.pkg;
> double-click on it to run the installer, clicking through all the defaults. 
> 
> O After the installer runs, you'll have to log out and back on to your Mac
> OS X account.
> 
> . . .
> 
> -------------- snip ---------------
> 
> Does that seem to cover the bases? Remember that many of the people using
> these instructions will be even more ignorant than I am about Mac OS X.
> 
> Thanks for your help,
> John
> 
>> -----Original Message-----
>> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
>> Sent: Thursday, September 19, 2013 11:16 AM
>> To: John Fox
>> Cc: 'David Winsemius'; 'Sarah Hardy'; 'r-sig-mac'
>> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a
>> Mac 10.6.8
>> 
>> John,
>> 
>> On Sep 19, 2013, at 10:29 AM, John Fox wrote:
>> 
>>> Dear Simon,
>>> 
>>> Thank you very much for these clarifications (and also for responding
>> to
>>> David and Sarah's posts in this thread). I think that I understand
>> what's
>>> going on now, and will add a note to the Rcmdr installation
>> instructions to
>>> run Software Update prior to installing R, the Rcmdr, and (if
>> necessary)
>>> XQuartz.
>>> 
>>> (Sarah: You could try asking your student(s) to run Software Update,
>> and
>>> then reinstall R and the Rcmdr package. If you do this, can you
>> report to
>>> the list whether it works?)
>>> 
>>> I do have one further question: I understand now that R will use an
>> older
>>> X-11 in preference to XQuartz if XQuartz doesn't install a symbolic
>> link to
>>> /usr/X11. Is there a reason for this? That is, why not have R use
>> XQuartz in
>>> preference to another X-11 if XQuartz is installed -- or to pick the
>> newest
>>> X-server, if it's possible to ascertain that?
>>> 
>> 
>> It's not. This is not about preferences - R has no choice, it has to
>> links against something and we picked something that's more likely to
>> exist. You cannot pick and choose at run time since the libraries (with
>> paths) are linked in. Note that this is *not* about the X11 that the
>> user will be running - this is just for internal libraries use by R -
>> these are two entirely separate things (server vs client). Also XQuartz
>> was really a development project, so it didn't seem like a good idea to
>> require it - in particular since we would ask people to install
>> parallel X11 implementation to an existing one - and have to answer the
>> "why?". In the meantime Apple has removed system X11 completely from
>> recent OS X so it may be worth re-visiting that option and just require
>> XQuartz. However, there is no guarantee that they will support the
>> targets we support (although so far they do). Finally, XQuartz will act
>> as system X11 but not vice-versa, so it's much safer to use the system
>> X11 location as it supports more setups.
>> 
>> FWIW: I think this whole discussion is getting off the original topic:
>> if you don't keep your system up to date, nothing is guaranteed to work
>> - it has nothing to do with X11, it affects all system libraries and we
>> have seen that before.
>> 
>> Cheers,
>> Simon
>> 
>> 
>>> Thanks again for your help,
>>> John
>>> 
>>>> -----Original Message-----
>>>> From: Simon Urbanek [mailto:urbanek at research.att.com]
>>>> Sent: Thursday, September 19, 2013 9:25 AM
>>>> To: John Fox
>>>> Cc: David Winsemius; Sarah Hardy; r-sig-mac
>>>> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and
>> a
>>>> Mac 10.6.8
>>>> 
>>>> On Sep 19, 2013, at 9:05 AM, John Fox wrote:
>>>> 
>>>>> Dear David,
>>>>> 
>>>>> On Thu, 19 Sep 2013 01:04:18 -0700
>>>>> David Winsemius <dwinsemius at comcast.net> wrote:
>>>>>> 
>>>>>> On Sep 18, 2013, at 8:47 PM, John Fox wrote:
>>>>>> 
>>>>> 
>>>>> . . .
>>>>> 
>>>>>>> It also seems apparent from the error message that there's a
>>>> mismatch between the version of Tcl/Tk, presumably the one supplied
>>>> with the R distribution, and the version of X-Windows.
>>>>>> 
>>>>>> That is not what I am reading. libfreetype.6 version 13 is the
>>>> reported problem with  a need to update to version 14.
>>>>>> 
>>>>> 
>>>>> Do you know where libfreetype.6 comes from? Is it installed
>>>> independently of Tcl/Tk and XQuartz? If so, do you know how to
>> update
>>>> it?
>>>>> 
>>>>> . . .
>>>>> 
>>>>>> I'm not really a student but maybe this will be useful anyway.
>> There
>>>> is a version of Tk at:
>>>>>> 
>>>>>> http://r.research.att.com/src/tk8.6.0-src.tar.gz
>>>>>> 
>>>>>> ... which appears to be the most up-to-date version. I'm actually
>>>> running version 8.5 with OSX 10.7.5
>>>>>> 
>>>>> 
>>>>> Version 8.6-0 of Tcl/Tk for X-Windows is included in the R 3.0.1
>>>> installer for Mac OS X. Is it possible that it doesn't get installed
>> if
>>>> there's already a Tcl/Tk for X-Windows installed?
>>>>> 
>>>>> . . .
>>>>> 
>>>>>> 
>>>>>> The error message below says that libfreetype.6 is an old version
>>>> and that you need version 14.0 for libtk8.6
>>>>>> 
>>>>>> From Unix cmd line:
>>>>>> 
>>>>>> otool -L /opt/local/lib/libfreetype.6.dylib
>>>>>> 
>>>>>> # ---- reports ___________
>>>>>> /opt/local/lib/libfreetype.6.dylib:
>>>>>> 	/opt/local/lib/libfreetype.6.dylib (compatibility version 16.0.0,
>>>> current version 16.0.0)
>>>>>> 	/opt/local/lib/libz.1.dylib (compatibility version 1.0.0, current
>>>> version 1.2.7)
>>>>>> 	/opt/local/lib/libbz2.1.0.dylib (compatibility version 1.0.0,
>>>> current version 1.0.6)
>>>>>> 	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current
>>>> version 125.2.11)
>>>>>> 
>>>>> 
>>>>> So tcltk and the Rcmdr 2.0-0 work on your system because you have a
>>>> sufficiently up-to-date libfreetype.6. It would be additionally
>> helpful
>>>> to be able to answer the following questions:
>>>>> 
>>>>> (1) Why is it that some users have old versions of libfreetype.6.
>>>>> 
>>>> 
>>>> guess: they don't use Software Update and thus have outdated system
>>>> libraries
>>>> 
>>>> 
>>>>> (2) Why doesn't installing the newest versions of R (which includes
>>>> Tcl/Tk) and XQuartz, not solve this problem?
>>>>> 
>>>> 
>>>> guess: they are running an older version or didn't install R
>> properly
>>>> from the CRAN package
>>>> 
>>>> 
>>>>> (3) What can users experiencing this problem do to fix it?
>>>>> 
>>>> 
>>>> 
>>>> Run Software Update for (1) , re-install R for (2)?
>>>> 
>>>> We have only 3rd hand report here so we're reduced to guessing so
>> far.
>>>> As I said, one important thing is that we uses system X11 and not
>>>> XQuartz so installing XQuartz has no effect if there is a system X11
>>>> installed. However, on an up-todate system there should be no
>> problems.
>>>> 
>>>> Cheers,
>>>> S
>>>> 
>>>> 
>>>>> If I knew the answers to these questions, I could update the Rcmdr
>>>> installation notes to help users avoid the problem.
>>>>> 
>>>>> Thank you for your help,
>>>>> John
>>> 
> 
> 


From sarah.hardy at maine.edu  Thu Sep 19 19:30:56 2013
From: sarah.hardy at maine.edu (Sarah Hardy)
Date: Thu, 19 Sep 2013 13:30:56 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
Message-ID: <CAFg2G_vWHepqE24zUDrevNfnurxEbr2f=3yFFg8++9VYDpHwrQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130919/f3285ae6/attachment.pl>

From jfox at mcmaster.ca  Thu Sep 19 21:17:03 2013
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 19 Sep 2013 15:17:03 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
Message-ID: <006001ceb56c$d336c340$79a449c0$@mcmaster.ca>

Dear Simon,

That's a good suggestion. In fact, I don't see a real function for the
technical details, so I've just eliminated them. I also think that adding
the step to run Software Update is harmless and a good idea, so I've added
that. The full set of instructions (including the parts that I omitted
earlier) now reads:

----------------- snip -------------

These instructions are for R version 3.0.1 or later; if you're using an
earlier version of R, I suggest that you upgrade, or, failing that, consult
the special Mac OS X installation notes for the R Commander under older
versions of R. R 3.0.1 only supports Mac OS X version 10.6.8 (Snow Leopard)
or greater.

O Before installing R and the R Commander, make sure that your Mac OS X
system is up-to-date by running Software Update from the "apple" menu at the
top-left of the screen. This is important, because R assumes that the system
is up-to-date and may not function properly if it is not.

O Install R 3.0.1 or later from the?Comprehensive R Archive Network?(CRAN),
selecting a mirror site near you; a list of?CRAN mirrors?appears at the
upper left of the CRAN home page.

O Install XQuartz from http://xquartz.macosforge.org. (The R Commander uses
the tcltk package for R, which requires X-Windows. Your Mac may already have
X-Windows installed, but it should not hurt in any event to install
XQuartz.)

O Start R by running R.app. At the R > command prompt, type the following
command and press the return key?(to avoid errors, you can copy the command
from this document and paste it at the R > command prompt):

	install.packages("Rcmdr")

R will ask you to select a CRAN mirror; pick a mirror site near you. 

O Once it is installed, to load the Rcmdr package, simply issue the command

	library(Rcmdr)

at the R > command prompt and press return. When you first load the Rcmdr
package, it will offer to download and install missing dependencies; allow
it to do so.

----------------- snip -------------

There's no need to respond again if you think these instructions are OK.

Thanks again,
 John

> -----Original Message-----
> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> Sent: Thursday, September 19, 2013 11:49 AM
> To: John Fox
> Cc: 'David Winsemius'; 'Sarah Hardy'; 'r-sig-mac'
> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a
> Mac 10.6.8
> 
> Well, the I think it reads far more complicated that in needs to be.
> You should have a quickstart section that just says:
> 
> * Install R 3.0.1 or later
> * Install XQuartz from http://xquartz.macosforge.org
> 
> Done. Current R only supports 10.6.8+ and so does XQuartz so the above
> covers everything that is supported right now (I recall having that
> discussion earlier...).
> 
> Then you can have troubleshooting section which says
> 
> a) make sure you installed R with Tcl/Tk (it is the default) - if in
> doubt, re-install R from CRAN
> b) use Software Update
> 
> Then you can have a technical section with the details you show below,
> but 99% of users should not need to read it.
> 
> Cheers,
> Simon
> 
> 
> 
> 
> 
> On Sep 19, 2013, at 11:36 AM, John Fox wrote:
> 
> > Dear Simon,
> >
> > OK -- thanks for the further clarification.
> >
> > If you can bear with me a bit longer, I've drafted an update to the
> Rcmdr
> > installation notes, the relevant part of which now reads as follows -
> -
> > [link] represents a hyperlink:
> >
> > -------------- snip ---------------
> >
> > . . .
> >
> > These instructions are for R version 3.0.0 or later; if you're using
> an
> > earlier version of R, I suggest that you upgrade, or, failing that,
> consult
> > the special Mac OS X installation notes [link] for the R Commander
> under
> > older versions of R.
> >
> > Before installing R or the R Commander, make sure that your Mac OS X
> system
> > is up-to-date by running Software Update from the "apple" menu at the
> > top-left of the screen. This is important, because R assumes that the
> system
> > is up-to-date and may not function properly if it is not.
> >
> > The procedure for installing the R Commander under Mac OS X is a bit
> > complicated, so please read and follow these instructions carefully.
> These
> > instructions and the associated files are intended for 10.6 (Snow
> Leopard),
> > 10.7 (Lion), and 10.8 (Mountain Lion) systems. I assume that you've
> already
> > installed R, version 3.0.0 or later.
> >
> > O Check to see if the X11 windowing system (X Windows) has already
> been
> > installed on your computer. For OS X 10.6 and 10.7, the file X11.app
> should
> > appear in the Utilities folder under Applications in the finder. This
> > application should always be installed under OS X 10.7. For OS X
> 10.8, the
> > file is named XQuartz.app and is no longer included with the
> operating
> > system.
> >
> > O If X11.app is missing under OS X 10.6 or 10.7, you can (preferably)
> > download and install XQuartz from http://xquartz.macosforge.org
> [link],
> > following the directions for OS X 10.8 below, or you can install
> X11.app
> > from your Mac OS X installation disc as follows:
> >
> > 	- Insert your Mac OS X install disc. (If you have two discs it
> will
> > be on the"Install Disc 1").
> >
> > 	- Double click on Optional Installs.
> >
> > 	- Double click on Optional Installs.mpkg, then click Continue and
> > accept the license agreement.
> >
> > 	- Click the triangle next to Applications in order to expand the
> > list of applications.
> >
> > 	- Check "X11", and then click Continue and Install. Click Close
> when
> > the installation finishes.
> >
> > 	- If you install X11 from your Mac OS X discs rather than XQuartz,
> > then run Software Update afterwards to make sure that your X11 system
> is
> > up-to-date.
> >
> > Under OS X 10.8 (Mountain Lion), when you first try to use X11 -- for
> > example, by installing and then loading the Rcmdr package in R (see
> the
> > bullets below) -- OS X will offer to help you install X11, with a
> message
> > like "To open 'R,' you need to install X11. Would you like to install
> X11
> > now?"
> >
> > O Click the continue button, which will take you to the Apple support
> > website, and thence to http://xquartz.macosforge.org [link], where
> you can
> > download the disk image (dmg) file for XQuartz.
> >
> > O When you open this file by double-clicking on it, you'll find
> XQuartz.pkg;
> > double-click on it to run the installer, clicking through all the
> defaults.
> >
> > O After the installer runs, you'll have to log out and back on to
> your Mac
> > OS X account.
> >
> > . . .
> >
> > -------------- snip ---------------
> >
> > Does that seem to cover the bases? Remember that many of the people
> using
> > these instructions will be even more ignorant than I am about Mac OS
> X.
> >
> > Thanks for your help,
> > John
> >
> >> -----Original Message-----
> >> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> >> Sent: Thursday, September 19, 2013 11:16 AM
> >> To: John Fox
> >> Cc: 'David Winsemius'; 'Sarah Hardy'; 'r-sig-mac'
> >> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and
> a
> >> Mac 10.6.8
> >>
> >> John,
> >>
> >> On Sep 19, 2013, at 10:29 AM, John Fox wrote:
> >>
> >>> Dear Simon,
> >>>
> >>> Thank you very much for these clarifications (and also for
> responding
> >> to
> >>> David and Sarah's posts in this thread). I think that I understand
> >> what's
> >>> going on now, and will add a note to the Rcmdr installation
> >> instructions to
> >>> run Software Update prior to installing R, the Rcmdr, and (if
> >> necessary)
> >>> XQuartz.
> >>>
> >>> (Sarah: You could try asking your student(s) to run Software
> Update,
> >> and
> >>> then reinstall R and the Rcmdr package. If you do this, can you
> >> report to
> >>> the list whether it works?)
> >>>
> >>> I do have one further question: I understand now that R will use an
> >> older
> >>> X-11 in preference to XQuartz if XQuartz doesn't install a symbolic
> >> link to
> >>> /usr/X11. Is there a reason for this? That is, why not have R use
> >> XQuartz in
> >>> preference to another X-11 if XQuartz is installed -- or to pick
> the
> >> newest
> >>> X-server, if it's possible to ascertain that?
> >>>
> >>
> >> It's not. This is not about preferences - R has no choice, it has to
> >> links against something and we picked something that's more likely
> to
> >> exist. You cannot pick and choose at run time since the libraries
> (with
> >> paths) are linked in. Note that this is *not* about the X11 that the
> >> user will be running - this is just for internal libraries use by R
> -
> >> these are two entirely separate things (server vs client). Also
> XQuartz
> >> was really a development project, so it didn't seem like a good idea
> to
> >> require it - in particular since we would ask people to install
> >> parallel X11 implementation to an existing one - and have to answer
> the
> >> "why?". In the meantime Apple has removed system X11 completely from
> >> recent OS X so it may be worth re-visiting that option and just
> require
> >> XQuartz. However, there is no guarantee that they will support the
> >> targets we support (although so far they do). Finally, XQuartz will
> act
> >> as system X11 but not vice-versa, so it's much safer to use the
> system
> >> X11 location as it supports more setups.
> >>
> >> FWIW: I think this whole discussion is getting off the original
> topic:
> >> if you don't keep your system up to date, nothing is guaranteed to
> work
> >> - it has nothing to do with X11, it affects all system libraries and
> we
> >> have seen that before.
> >>
> >> Cheers,
> >> Simon
> >>
> >>
> >>> Thanks again for your help,
> >>> John
> >>>
> >>>> -----Original Message-----
> >>>> From: Simon Urbanek [mailto:urbanek at research.att.com]
> >>>> Sent: Thursday, September 19, 2013 9:25 AM
> >>>> To: John Fox
> >>>> Cc: David Winsemius; Sarah Hardy; r-sig-mac
> >>>> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2
> and
> >> a
> >>>> Mac 10.6.8
> >>>>
> >>>> On Sep 19, 2013, at 9:05 AM, John Fox wrote:
> >>>>
> >>>>> Dear David,
> >>>>>
> >>>>> On Thu, 19 Sep 2013 01:04:18 -0700
> >>>>> David Winsemius <dwinsemius at comcast.net> wrote:
> >>>>>>
> >>>>>> On Sep 18, 2013, at 8:47 PM, John Fox wrote:
> >>>>>>
> >>>>>
> >>>>> . . .
> >>>>>
> >>>>>>> It also seems apparent from the error message that there's a
> >>>> mismatch between the version of Tcl/Tk, presumably the one
> supplied
> >>>> with the R distribution, and the version of X-Windows.
> >>>>>>
> >>>>>> That is not what I am reading. libfreetype.6 version 13 is the
> >>>> reported problem with  a need to update to version 14.
> >>>>>>
> >>>>>
> >>>>> Do you know where libfreetype.6 comes from? Is it installed
> >>>> independently of Tcl/Tk and XQuartz? If so, do you know how to
> >> update
> >>>> it?
> >>>>>
> >>>>> . . .
> >>>>>
> >>>>>> I'm not really a student but maybe this will be useful anyway.
> >> There
> >>>> is a version of Tk at:
> >>>>>>
> >>>>>> http://r.research.att.com/src/tk8.6.0-src.tar.gz
> >>>>>>
> >>>>>> ... which appears to be the most up-to-date version. I'm
> actually
> >>>> running version 8.5 with OSX 10.7.5
> >>>>>>
> >>>>>
> >>>>> Version 8.6-0 of Tcl/Tk for X-Windows is included in the R 3.0.1
> >>>> installer for Mac OS X. Is it possible that it doesn't get
> installed
> >> if
> >>>> there's already a Tcl/Tk for X-Windows installed?
> >>>>>
> >>>>> . . .
> >>>>>
> >>>>>>
> >>>>>> The error message below says that libfreetype.6 is an old
> version
> >>>> and that you need version 14.0 for libtk8.6
> >>>>>>
> >>>>>> From Unix cmd line:
> >>>>>>
> >>>>>> otool -L /opt/local/lib/libfreetype.6.dylib
> >>>>>>
> >>>>>> # ---- reports ___________
> >>>>>> /opt/local/lib/libfreetype.6.dylib:
> >>>>>> 	/opt/local/lib/libfreetype.6.dylib (compatibility version
> 16.0.0,
> >>>> current version 16.0.0)
> >>>>>> 	/opt/local/lib/libz.1.dylib (compatibility version 1.0.0,
> current
> >>>> version 1.2.7)
> >>>>>> 	/opt/local/lib/libbz2.1.0.dylib (compatibility version
1.0.0,
> >>>> current version 1.0.6)
> >>>>>> 	/usr/lib/libSystem.B.dylib (compatibility version 1.0.0,
> current
> >>>> version 125.2.11)
> >>>>>>
> >>>>>
> >>>>> So tcltk and the Rcmdr 2.0-0 work on your system because you have
> a
> >>>> sufficiently up-to-date libfreetype.6. It would be additionally
> >> helpful
> >>>> to be able to answer the following questions:
> >>>>>
> >>>>> (1) Why is it that some users have old versions of libfreetype.6.
> >>>>>
> >>>>
> >>>> guess: they don't use Software Update and thus have outdated
> system
> >>>> libraries
> >>>>
> >>>>
> >>>>> (2) Why doesn't installing the newest versions of R (which
> includes
> >>>> Tcl/Tk) and XQuartz, not solve this problem?
> >>>>>
> >>>>
> >>>> guess: they are running an older version or didn't install R
> >> properly
> >>>> from the CRAN package
> >>>>
> >>>>
> >>>>> (3) What can users experiencing this problem do to fix it?
> >>>>>
> >>>>
> >>>>
> >>>> Run Software Update for (1) , re-install R for (2)?
> >>>>
> >>>> We have only 3rd hand report here so we're reduced to guessing so
> >> far.
> >>>> As I said, one important thing is that we uses system X11 and not
> >>>> XQuartz so installing XQuartz has no effect if there is a system
> X11
> >>>> installed. However, on an up-todate system there should be no
> >> problems.
> >>>>
> >>>> Cheers,
> >>>> S
> >>>>
> >>>>
> >>>>> If I knew the answers to these questions, I could update the
> Rcmdr
> >>>> installation notes to help users avoid the problem.
> >>>>>
> >>>>> Thank you for your help,
> >>>>> John
> >>>
> >
> >


From sarah.hardy at maine.edu  Fri Sep 20 02:08:11 2013
From: sarah.hardy at maine.edu (Sarah Hardy)
Date: Thu, 19 Sep 2013 20:08:11 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <006001ceb56c$d336c340$79a449c0$@mcmaster.ca>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
	<006001ceb56c$d336c340$79a449c0$@mcmaster.ca>
Message-ID: <CAFg2G_tXaDDtOSacsMkCtkhC5j8jO_J5JLdWauGaRHNaDKDbCw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130919/60fbd528/attachment.pl>

From jfox at mcmaster.ca  Fri Sep 20 02:52:25 2013
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 19 Sep 2013 20:52:25 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <CAFg2G_tXaDDtOSacsMkCtkhC5j8jO_J5JLdWauGaRHNaDKDbCw@mail.gmail.com>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
	<006001ceb56c$d336c340$79a449c0$@mcmaster.ca>
	<CAFg2G_tXaDDtOSacsMkCtkhC5j8jO_J5JLdWauGaRHNaDKDbCw@mail.gmail.com>
Message-ID: <007f01ceb59b$ad0de390$0729aab0$@mcmaster.ca>

Dear Sarah,

> -----Original Message-----
> From: Sarah Hardy [mailto:sarah.hardy at maine.edu]
> Sent: Thursday, September 19, 2013 8:08 PM
> To: John Fox
> Cc: Simon Urbanek; David Winsemius; r-sig-mac
> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a
> Mac 10.6.8
> 
> Running the "Software Update" and reinstalling R and Rcmdr worked for
> the student with the 10.7.2. We did not reinstall XQuartz. Now I will

I'm glad that this worked. Apparently, the student had an old version of
X-Windows that was updated by Software Update. As Simon explained, in this
situation installing XQuartz is irrelevant because the other version of
X-Windows is invoked by R.

> see if it works for the others. BTW - I have identified at least one
> student with a 10.6.8 who had no problems installing R and Rcmdr
> without installing XQuartz (per my instructions) - am going to check
> with other students tomorrow.

If the student installed a sufficiently up-to-date X-Windows, that should
work, and apparently did. The X-Windows used needn't be XQuartz. My new
instructions suggest that everyone install XQuartz because that will give
them an up-to-date X-Windows if they don't already have X-windows installed,
and will do no harm if they do have another X-Windows.

Best,
 John

> 
> 
> Best,
> 
> Sarah
> 
> 
> 
> On Thu, Sep 19, 2013 at 3:17 PM, John Fox <jfox at mcmaster.ca> wrote:
> 
> 
> 	Dear Simon,
> 
> 	That's a good suggestion. In fact, I don't see a real function for
> the
> 	technical details, so I've just eliminated them. I also think that
> adding
> 	the step to run Software Update is harmless and a good idea, so
> I've added
> 	that. The full set of instructions (including the parts that I
> omitted
> 	earlier) now reads:
> 
> 	----------------- snip -------------
> 
> 	These instructions are for R version 3.0.1 or later; if you're
> using an
> 
> 	earlier version of R, I suggest that you upgrade, or, failing
> that, consult
> 
> 	the special Mac OS X installation notes for the R Commander under
> older
> 	versions of R. R 3.0.1 only supports Mac OS X version 10.6.8 (Snow
> Leopard)
> 	or greater.
> 
> 	O Before installing R and the R Commander, make sure that your Mac
> OS X
> 
> 	system is up-to-date by running Software Update from the "apple"
> menu at the
> 	top-left of the screen. This is important, because R assumes that
> the system
> 	is up-to-date and may not function properly if it is not.
> 
> 
> 	O Install R 3.0.1 or later from the Comprehensive R Archive
> Network (CRAN),
> 	selecting a mirror site near you; a list of CRAN mirrors appears
> at the
> 	upper left of the CRAN home page.
> 
> 	O Install XQuartz from http://xquartz.macosforge.org. (The R
> Commander uses
> 	the tcltk package for R, which requires X-Windows. Your Mac may
> already have
> 	X-Windows installed, but it should not hurt in any event to
> install
> 	XQuartz.)
> 
> 	O Start R by running R.app. At the R > command prompt, type the
> following
> 	command and press the return key (to avoid errors, you can copy
> the command
> 	from this document and paste it at the R > command prompt):
> 
> 	        install.packages("Rcmdr")
> 
> 	R will ask you to select a CRAN mirror; pick a mirror site near
> you.
> 
> 	O Once it is installed, to load the Rcmdr package, simply issue
> the command
> 
> 	        library(Rcmdr)
> 
> 	at the R > command prompt and press return. When you first load
> the Rcmdr
> 	package, it will offer to download and install missing
> dependencies; allow
> 	it to do so.
> 
> 	----------------- snip -------------
> 
> 	There's no need to respond again if you think these instructions
> are OK.
> 
> 	Thanks again,
> 
> 	 John
> 
> 	> -----Original Message-----
> 	> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> 
> 	> Sent: Thursday, September 19, 2013 11:49 AM
> 	> To: John Fox
> 	> Cc: 'David Winsemius'; 'Sarah Hardy'; 'r-sig-mac'
> 	> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2
> and a
> 	> Mac 10.6.8
> 	>
> 
> 	> Well, the I think it reads far more complicated that in needs to
> be.
> 	> You should have a quickstart section that just says:
> 	>
> 	> * Install R 3.0.1 or later
> 	> * Install XQuartz from http://xquartz.macosforge.org
> 	>
> 	> Done. Current R only supports 10.6.8+ and so does XQuartz so the
> above
> 	> covers everything that is supported right now (I recall having
> that
> 	> discussion earlier...).
> 	>
> 	> Then you can have troubleshooting section which says
> 	>
> 	> a) make sure you installed R with Tcl/Tk (it is the default) -
> if in
> 	> doubt, re-install R from CRAN
> 	> b) use Software Update
> 	>
> 	> Then you can have a technical section with the details you show
> below,
> 	> but 99% of users should not need to read it.
> 	>
> 	> Cheers,
> 	> Simon
> 	>
> 	>
> 	>
> 	>
> 	>
> 	> On Sep 19, 2013, at 11:36 AM, John Fox wrote:
> 	>
> 	> > Dear Simon,
> 	> >
> 	> > OK -- thanks for the further clarification.
> 	> >
> 	> > If you can bear with me a bit longer, I've drafted an update
> to the
> 	> Rcmdr
> 	> > installation notes, the relevant part of which now reads as
> follows -
> 	> -
> 	> > [link] represents a hyperlink:
> 	> >
> 	> > -------------- snip ---------------
> 	> >
> 	> > . . .
> 	> >
> 	> > These instructions are for R version 3.0.0 or later; if you're
> using
> 	> an
> 	> > earlier version of R, I suggest that you upgrade, or, failing
> that,
> 	> consult
> 	> > the special Mac OS X installation notes [link] for the R
> Commander
> 	> under
> 	> > older versions of R.
> 	> >
> 	> > Before installing R or the R Commander, make sure that your
> Mac OS X
> 	> system
> 	> > is up-to-date by running Software Update from the "apple" menu
> at the
> 	> > top-left of the screen. This is important, because R assumes
> that the
> 	> system
> 	> > is up-to-date and may not function properly if it is not.
> 	> >
> 	> > The procedure for installing the R Commander under Mac OS X is
> a bit
> 	> > complicated, so please read and follow these instructions
> carefully.
> 	> These
> 	> > instructions and the associated files are intended for 10.6
> (Snow
> 	> Leopard),
> 	> > 10.7 (Lion), and 10.8 (Mountain Lion) systems. I assume that
> you've
> 	> already
> 	> > installed R, version 3.0.0 or later.
> 	> >
> 	> > O Check to see if the X11 windowing system (X Windows) has
> already
> 	> been
> 	> > installed on your computer. For OS X 10.6 and 10.7, the file
> X11.app
> 	> should
> 	> > appear in the Utilities folder under Applications in the
> finder. This
> 	> > application should always be installed under OS X 10.7. For OS
> X
> 	> 10.8, the
> 	> > file is named XQuartz.app and is no longer included with the
> 	> operating
> 	> > system.
> 	> >
> 	> > O If X11.app is missing under OS X 10.6 or 10.7, you can
> (preferably)
> 	> > download and install XQuartz from
> http://xquartz.macosforge.org
> 	> [link],
> 	> > following the directions for OS X 10.8 below, or you can
> install
> 	> X11.app
> 	> > from your Mac OS X installation disc as follows:
> 	> >
> 	> >     - Insert your Mac OS X install disc. (If you have two
> discs it
> 	> will
> 	> > be on the"Install Disc 1").
> 	> >
> 	> >     - Double click on Optional Installs.
> 	> >
> 	> >     - Double click on Optional Installs.mpkg, then click
> Continue and
> 	> > accept the license agreement.
> 	> >
> 	> >     - Click the triangle next to Applications in order to
> expand the
> 	> > list of applications.
> 	> >
> 	> >     - Check "X11", and then click Continue and Install. Click
> Close
> 	> when
> 	> > the installation finishes.
> 	> >
> 	> >     - If you install X11 from your Mac OS X discs rather than
> XQuartz,
> 	> > then run Software Update afterwards to make sure that your X11
> system
> 	> is
> 	> > up-to-date.
> 	> >
> 	> > Under OS X 10.8 (Mountain Lion), when you first try to use X11
> -- for
> 	> > example, by installing and then loading the Rcmdr package in R
> (see
> 	> the
> 	> > bullets below) -- OS X will offer to help you install X11,
> with a
> 	> message
> 	> > like "To open 'R,' you need to install X11. Would you like to
> install
> 	> X11
> 	> > now?"
> 	> >
> 	> > O Click the continue button, which will take you to the Apple
> support
> 	> > website, and thence to http://xquartz.macosforge.org [link],
> where
> 	> you can
> 	> > download the disk image (dmg) file for XQuartz.
> 	> >
> 	> > O When you open this file by double-clicking on it, you'll
> find
> 	> XQuartz.pkg;
> 	> > double-click on it to run the installer, clicking through all
> the
> 	> defaults.
> 	> >
> 	> > O After the installer runs, you'll have to log out and back on
> to
> 	> your Mac
> 	> > OS X account.
> 	> >
> 	> > . . .
> 	> >
> 	> > -------------- snip ---------------
> 	> >
> 	> > Does that seem to cover the bases? Remember that many of the
> people
> 	> using
> 	> > these instructions will be even more ignorant than I am about
> Mac OS
> 	> X.
> 	> >
> 	> > Thanks for your help,
> 	> > John
> 	> >
> 	> >> -----Original Message-----
> 	> >> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> 	> >> Sent: Thursday, September 19, 2013 11:16 AM
> 	> >> To: John Fox
> 	> >> Cc: 'David Winsemius'; 'Sarah Hardy'; 'r-sig-mac'
> 	> >> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac
> 10.7.2 and
> 	> a
> 	> >> Mac 10.6.8
> 	> >>
> 	> >> John,
> 	> >>
> 	> >> On Sep 19, 2013, at 10:29 AM, John Fox wrote:
> 	> >>
> 	> >>> Dear Simon,
> 	> >>>
> 	> >>> Thank you very much for these clarifications (and also for
> 	> responding
> 	> >> to
> 	> >>> David and Sarah's posts in this thread). I think that I
> understand
> 	> >> what's
> 	> >>> going on now, and will add a note to the Rcmdr installation
> 	> >> instructions to
> 	> >>> run Software Update prior to installing R, the Rcmdr, and
> (if
> 	> >> necessary)
> 	> >>> XQuartz.
> 	> >>>
> 	> >>> (Sarah: You could try asking your student(s) to run Software
> 	> Update,
> 	> >> and
> 	> >>> then reinstall R and the Rcmdr package. If you do this, can
> you
> 	> >> report to
> 	> >>> the list whether it works?)
> 	> >>>
> 	> >>> I do have one further question: I understand now that R will
> use an
> 	> >> older
> 	> >>> X-11 in preference to XQuartz if XQuartz doesn't install a
> symbolic
> 	> >> link to
> 	> >>> /usr/X11. Is there a reason for this? That is, why not have
> R use
> 	> >> XQuartz in
> 	> >>> preference to another X-11 if XQuartz is installed -- or to
> pick
> 	> the
> 	> >> newest
> 	> >>> X-server, if it's possible to ascertain that?
> 	> >>>
> 	> >>
> 	> >> It's not. This is not about preferences - R has no choice, it
> has to
> 	> >> links against something and we picked something that's more
> likely
> 	> to
> 	> >> exist. You cannot pick and choose at run time since the
> libraries
> 	> (with
> 	> >> paths) are linked in. Note that this is *not* about the X11
> that the
> 	> >> user will be running - this is just for internal libraries
> use by R
> 	> -
> 	> >> these are two entirely separate things (server vs client).
> Also
> 	> XQuartz
> 	> >> was really a development project, so it didn't seem like a
> good idea
> 	> to
> 	> >> require it - in particular since we would ask people to
> install
> 	> >> parallel X11 implementation to an existing one - and have to
> answer
> 	> the
> 	> >> "why?". In the meantime Apple has removed system X11
> completely from
> 	> >> recent OS X so it may be worth re-visiting that option and
> just
> 	> require
> 	> >> XQuartz. However, there is no guarantee that they will
> support the
> 	> >> targets we support (although so far they do). Finally,
> XQuartz will
> 	> act
> 	> >> as system X11 but not vice-versa, so it's much safer to use
> the
> 	> system
> 	> >> X11 location as it supports more setups.
> 	> >>
> 	> >> FWIW: I think this whole discussion is getting off the
> original
> 	> topic:
> 	> >> if you don't keep your system up to date, nothing is
> guaranteed to
> 	> work
> 	> >> - it has nothing to do with X11, it affects all system
> libraries and
> 	> we
> 	> >> have seen that before.
> 	> >>
> 	> >> Cheers,
> 	> >> Simon
> 	> >>
> 	> >>
> 	> >>> Thanks again for your help,
> 	> >>> John
> 	> >>>
> 	> >>>> -----Original Message-----
> 	> >>>> From: Simon Urbanek [mailto:urbanek at research.att.com]
> 	> >>>> Sent: Thursday, September 19, 2013 9:25 AM
> 	> >>>> To: John Fox
> 	> >>>> Cc: David Winsemius; Sarah Hardy; r-sig-mac
> 	> >>>> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac
> 10.7.2
> 	> and
> 	> >> a
> 	> >>>> Mac 10.6.8
> 	> >>>>
> 	> >>>> On Sep 19, 2013, at 9:05 AM, John Fox wrote:
> 	> >>>>
> 	> >>>>> Dear David,
> 	> >>>>>
> 	> >>>>> On Thu, 19 Sep 2013 01:04:18 -0700
> 	> >>>>> David Winsemius <dwinsemius at comcast.net> wrote:
> 	> >>>>>>
> 	> >>>>>> On Sep 18, 2013, at 8:47 PM, John Fox wrote:
> 	> >>>>>>
> 	> >>>>>
> 	> >>>>> . . .
> 	> >>>>>
> 	> >>>>>>> It also seems apparent from the error message that
> there's a
> 	> >>>> mismatch between the version of Tcl/Tk, presumably the one
> 	> supplied
> 	> >>>> with the R distribution, and the version of X-Windows.
> 	> >>>>>>
> 	> >>>>>> That is not what I am reading. libfreetype.6 version 13
> is the
> 	> >>>> reported problem with  a need to update to version 14.
> 	> >>>>>>
> 	> >>>>>
> 	> >>>>> Do you know where libfreetype.6 comes from? Is it
> installed
> 	> >>>> independently of Tcl/Tk and XQuartz? If so, do you know how
> to
> 	> >> update
> 	> >>>> it?
> 	> >>>>>
> 	> >>>>> . . .
> 	> >>>>>
> 	> >>>>>> I'm not really a student but maybe this will be useful
> anyway.
> 	> >> There
> 	> >>>> is a version of Tk at:
> 	> >>>>>>
> 	> >>>>>> http://r.research.att.com/src/tk8.6.0-src.tar.gz
> 	> >>>>>>
> 	> >>>>>> ... which appears to be the most up-to-date version. I'm
> 	> actually
> 	> >>>> running version 8.5 with OSX 10.7.5
> 	> >>>>>>
> 	> >>>>>
> 	> >>>>> Version 8.6-0 of Tcl/Tk for X-Windows is included in the R
> 3.0.1
> 	> >>>> installer for Mac OS X. Is it possible that it doesn't get
> 	> installed
> 	> >> if
> 	> >>>> there's already a Tcl/Tk for X-Windows installed?
> 	> >>>>>
> 	> >>>>> . . .
> 	> >>>>>
> 	> >>>>>>
> 	> >>>>>> The error message below says that libfreetype.6 is an old
> 	> version
> 	> >>>> and that you need version 14.0 for libtk8.6
> 	> >>>>>>
> 	> >>>>>> From Unix cmd line:
> 	> >>>>>>
> 	> >>>>>> otool -L /opt/local/lib/libfreetype.6.dylib
> 	> >>>>>>
> 	> >>>>>> # ---- reports ___________
> 	> >>>>>> /opt/local/lib/libfreetype.6.dylib:
> 	> >>>>>>        /opt/local/lib/libfreetype.6.dylib (compatibility
> version
> 	> 16.0.0,
> 	> >>>> current version 16.0.0)
> 	> >>>>>>        /opt/local/lib/libz.1.dylib (compatibility version
> 1.0.0,
> 	> current
> 	> >>>> version 1.2.7)
> 	> >>>>>>        /opt/local/lib/libbz2.1.0.dylib (compatibility
> version
> 	1.0.0,
> 	> >>>> current version 1.0.6)
> 	> >>>>>>        /usr/lib/libSystem.B.dylib (compatibility version
> 1.0.0,
> 	> current
> 	> >>>> version 125.2.11)
> 	> >>>>>>
> 	> >>>>>
> 	> >>>>> So tcltk and the Rcmdr 2.0-0 work on your system because
> you have
> 	> a
> 	> >>>> sufficiently up-to-date libfreetype.6. It would be
> additionally
> 	> >> helpful
> 	> >>>> to be able to answer the following questions:
> 	> >>>>>
> 	> >>>>> (1) Why is it that some users have old versions of
> libfreetype.6.
> 	> >>>>>
> 	> >>>>
> 	> >>>> guess: they don't use Software Update and thus have
> outdated
> 	> system
> 	> >>>> libraries
> 	> >>>>
> 	> >>>>
> 	> >>>>> (2) Why doesn't installing the newest versions of R (which
> 	> includes
> 	> >>>> Tcl/Tk) and XQuartz, not solve this problem?
> 	> >>>>>
> 	> >>>>
> 	> >>>> guess: they are running an older version or didn't install
> R
> 	> >> properly
> 	> >>>> from the CRAN package
> 	> >>>>
> 	> >>>>
> 	> >>>>> (3) What can users experiencing this problem do to fix it?
> 	> >>>>>
> 	> >>>>
> 	> >>>>
> 	> >>>> Run Software Update for (1) , re-install R for (2)?
> 	> >>>>
> 	> >>>> We have only 3rd hand report here so we're reduced to
> guessing so
> 	> >> far.
> 	> >>>> As I said, one important thing is that we uses system X11
> and not
> 	> >>>> XQuartz so installing XQuartz has no effect if there is a
> system
> 	> X11
> 	> >>>> installed. However, on an up-todate system there should be
> no
> 	> >> problems.
> 	> >>>>
> 	> >>>> Cheers,
> 	> >>>> S
> 	> >>>>
> 	> >>>>
> 	> >>>>> If I knew the answers to these questions, I could update
> the
> 	> Rcmdr
> 	> >>>> installation notes to help users avoid the problem.
> 	> >>>>>
> 	> >>>>> Thank you for your help,
> 	> >>>>> John
> 	> >>>
> 	> >
> 	> >
> 
> 
> 
> 
> 
> 
> --
> 
> 
> Sarah Hardy, PhD
> Associate Professor of Mathematics
> University of Maine Farmington
> 207-778-7124    Office: Brinkman 100
> 
> 
> 
>


From ripley at stats.ox.ac.uk  Fri Sep 20 08:49:05 2013
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 20 Sep 2013 07:49:05 +0100
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
 10.6.8
In-Reply-To: <007f01ceb59b$ad0de390$0729aab0$@mcmaster.ca>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
	<006001ceb56c$d336c340$79a449c0$@mcmaster.ca>
	<CAFg2G_tXaDDtOSacsMkCtkhC5j8jO_J5JLdWauGaRHNaDKDbCw@mail.gmail.com>
	<007f01ceb59b$ad0de390$0729aab0$@mcmaster.ca>
Message-ID: <523BEFE1.7080401@stats.ox.ac.uk>

On 20/09/2013 01:52, John Fox wrote:
> Dear Sarah,
>
>> -----Original Message-----
>> From: Sarah Hardy [mailto:sarah.hardy at maine.edu]
>> Sent: Thursday, September 19, 2013 8:08 PM
>> To: John Fox
>> Cc: Simon Urbanek; David Winsemius; r-sig-mac
>> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a
>> Mac 10.6.8
>>
>> Running the "Software Update" and reinstalling R and Rcmdr worked for
>> the student with the 10.7.2. We did not reinstall XQuartz. Now I will
>
> I'm glad that this worked. Apparently, the student had an old version of
> X-Windows that was updated by Software Update. As Simon explained, in this
> situation installing XQuartz is irrelevant because the other version of
> X-Windows is invoked by R.
>
>> see if it works for the others. BTW - I have identified at least one
>> student with a 10.6.8 who had no problems installing R and Rcmdr
>> without installing XQuartz (per my instructions) - am going to check
>> with other students tomorrow.
>
> If the student installed a sufficiently up-to-date X-Windows, that should
> work, and apparently did. The X-Windows used needn't be XQuartz. My new
> instructions suggest that everyone install XQuartz because that will give
> them an up-to-date X-Windows if they don't already have X-windows installed,
> and will do no harm if they do have another X-Windows.

I am not so sure about that.  It will do no harm running CRAN binary R. 
  But it does mean that there are multiple versions of X11 things about 
and that will cause problems for other things (including possibly 
installing packages from source).

>
> Best,
>   John
>
>>
>>
>> Best,
>>
>> Sarah
>>
>>
>>
>> On Thu, Sep 19, 2013 at 3:17 PM, John Fox <jfox at mcmaster.ca> wrote:
>>
>>
>> 	Dear Simon,
>>
>> 	That's a good suggestion. In fact, I don't see a real function for
>> the
>> 	technical details, so I've just eliminated them. I also think that
>> adding
>> 	the step to run Software Update is harmless and a good idea, so
>> I've added
>> 	that. The full set of instructions (including the parts that I
>> omitted
>> 	earlier) now reads:
>>
>> 	----------------- snip -------------
>>
>> 	These instructions are for R version 3.0.1 or later; if you're
>> using an
>>
>> 	earlier version of R, I suggest that you upgrade, or, failing
>> that, consult
>>
>> 	the special Mac OS X installation notes for the R Commander under
>> older
>> 	versions of R. R 3.0.1 only supports Mac OS X version 10.6.8 (Snow
>> Leopard)
>> 	or greater.
>>
>> 	O Before installing R and the R Commander, make sure that your Mac
>> OS X
>>
>> 	system is up-to-date by running Software Update from the "apple"
>> menu at the
>> 	top-left of the screen. This is important, because R assumes that
>> the system
>> 	is up-to-date and may not function properly if it is not.
>>
>>
>> 	O Install R 3.0.1 or later from the Comprehensive R Archive
>> Network (CRAN),
>> 	selecting a mirror site near you; a list of CRAN mirrors appears
>> at the
>> 	upper left of the CRAN home page.
>>
>> 	O Install XQuartz from http://xquartz.macosforge.org. (The R
>> Commander uses
>> 	the tcltk package for R, which requires X-Windows. Your Mac may
>> already have
>> 	X-Windows installed, but it should not hurt in any event to
>> install
>> 	XQuartz.)
>>
>> 	O Start R by running R.app. At the R > command prompt, type the
>> following
>> 	command and press the return key (to avoid errors, you can copy
>> the command
>> 	from this document and paste it at the R > command prompt):
>>
>> 	        install.packages("Rcmdr")
>>
>> 	R will ask you to select a CRAN mirror; pick a mirror site near
>> you.
>>
>> 	O Once it is installed, to load the Rcmdr package, simply issue
>> the command
>>
>> 	        library(Rcmdr)
>>
>> 	at the R > command prompt and press return. When you first load
>> the Rcmdr
>> 	package, it will offer to download and install missing
>> dependencies; allow
>> 	it to do so.
>>
>> 	----------------- snip -------------
>>
>> 	There's no need to respond again if you think these instructions
>> are OK.
>>
>> 	Thanks again,
>>
>> 	 John
>>
>> 	> -----Original Message-----
>> 	> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
>>
>> 	> Sent: Thursday, September 19, 2013 11:49 AM
>> 	> To: John Fox
>> 	> Cc: 'David Winsemius'; 'Sarah Hardy'; 'r-sig-mac'
>> 	> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2
>> and a
>> 	> Mac 10.6.8
>> 	>
>>
>> 	> Well, the I think it reads far more complicated that in needs to
>> be.
>> 	> You should have a quickstart section that just says:
>> 	>
>> 	> * Install R 3.0.1 or later
>> 	> * Install XQuartz from http://xquartz.macosforge.org
>> 	>
>> 	> Done. Current R only supports 10.6.8+ and so does XQuartz so the
>> above
>> 	> covers everything that is supported right now (I recall having
>> that
>> 	> discussion earlier...).
>> 	>
>> 	> Then you can have troubleshooting section which says
>> 	>
>> 	> a) make sure you installed R with Tcl/Tk (it is the default) -
>> if in
>> 	> doubt, re-install R from CRAN
>> 	> b) use Software Update
>> 	>
>> 	> Then you can have a technical section with the details you show
>> below,
>> 	> but 99% of users should not need to read it.
>> 	>
>> 	> Cheers,
>> 	> Simon
>> 	>
>> 	>
>> 	>
>> 	>
>> 	>
>> 	> On Sep 19, 2013, at 11:36 AM, John Fox wrote:
>> 	>
>> 	> > Dear Simon,
>> 	> >
>> 	> > OK -- thanks for the further clarification.
>> 	> >
>> 	> > If you can bear with me a bit longer, I've drafted an update
>> to the
>> 	> Rcmdr
>> 	> > installation notes, the relevant part of which now reads as
>> follows -
>> 	> -
>> 	> > [link] represents a hyperlink:
>> 	> >
>> 	> > -------------- snip ---------------
>> 	> >
>> 	> > . . .
>> 	> >
>> 	> > These instructions are for R version 3.0.0 or later; if you're
>> using
>> 	> an
>> 	> > earlier version of R, I suggest that you upgrade, or, failing
>> that,
>> 	> consult
>> 	> > the special Mac OS X installation notes [link] for the R
>> Commander
>> 	> under
>> 	> > older versions of R.
>> 	> >
>> 	> > Before installing R or the R Commander, make sure that your
>> Mac OS X
>> 	> system
>> 	> > is up-to-date by running Software Update from the "apple" menu
>> at the
>> 	> > top-left of the screen. This is important, because R assumes
>> that the
>> 	> system
>> 	> > is up-to-date and may not function properly if it is not.
>> 	> >
>> 	> > The procedure for installing the R Commander under Mac OS X is
>> a bit
>> 	> > complicated, so please read and follow these instructions
>> carefully.
>> 	> These
>> 	> > instructions and the associated files are intended for 10.6
>> (Snow
>> 	> Leopard),
>> 	> > 10.7 (Lion), and 10.8 (Mountain Lion) systems. I assume that
>> you've
>> 	> already
>> 	> > installed R, version 3.0.0 or later.
>> 	> >
>> 	> > O Check to see if the X11 windowing system (X Windows) has
>> already
>> 	> been
>> 	> > installed on your computer. For OS X 10.6 and 10.7, the file
>> X11.app
>> 	> should
>> 	> > appear in the Utilities folder under Applications in the
>> finder. This
>> 	> > application should always be installed under OS X 10.7. For OS
>> X
>> 	> 10.8, the
>> 	> > file is named XQuartz.app and is no longer included with the
>> 	> operating
>> 	> > system.
>> 	> >
>> 	> > O If X11.app is missing under OS X 10.6 or 10.7, you can
>> (preferably)
>> 	> > download and install XQuartz from
>> http://xquartz.macosforge.org
>> 	> [link],
>> 	> > following the directions for OS X 10.8 below, or you can
>> install
>> 	> X11.app
>> 	> > from your Mac OS X installation disc as follows:
>> 	> >
>> 	> >     - Insert your Mac OS X install disc. (If you have two
>> discs it
>> 	> will
>> 	> > be on the"Install Disc 1").
>> 	> >
>> 	> >     - Double click on Optional Installs.
>> 	> >
>> 	> >     - Double click on Optional Installs.mpkg, then click
>> Continue and
>> 	> > accept the license agreement.
>> 	> >
>> 	> >     - Click the triangle next to Applications in order to
>> expand the
>> 	> > list of applications.
>> 	> >
>> 	> >     - Check "X11", and then click Continue and Install. Click
>> Close
>> 	> when
>> 	> > the installation finishes.
>> 	> >
>> 	> >     - If you install X11 from your Mac OS X discs rather than
>> XQuartz,
>> 	> > then run Software Update afterwards to make sure that your X11
>> system
>> 	> is
>> 	> > up-to-date.
>> 	> >
>> 	> > Under OS X 10.8 (Mountain Lion), when you first try to use X11
>> -- for
>> 	> > example, by installing and then loading the Rcmdr package in R
>> (see
>> 	> the
>> 	> > bullets below) -- OS X will offer to help you install X11,
>> with a
>> 	> message
>> 	> > like "To open 'R,' you need to install X11. Would you like to
>> install
>> 	> X11
>> 	> > now?"
>> 	> >
>> 	> > O Click the continue button, which will take you to the Apple
>> support
>> 	> > website, and thence to http://xquartz.macosforge.org [link],
>> where
>> 	> you can
>> 	> > download the disk image (dmg) file for XQuartz.
>> 	> >
>> 	> > O When you open this file by double-clicking on it, you'll
>> find
>> 	> XQuartz.pkg;
>> 	> > double-click on it to run the installer, clicking through all
>> the
>> 	> defaults.
>> 	> >
>> 	> > O After the installer runs, you'll have to log out and back on
>> to
>> 	> your Mac
>> 	> > OS X account.
>> 	> >
>> 	> > . . .
>> 	> >
>> 	> > -------------- snip ---------------
>> 	> >
>> 	> > Does that seem to cover the bases? Remember that many of the
>> people
>> 	> using
>> 	> > these instructions will be even more ignorant than I am about
>> Mac OS
>> 	> X.
>> 	> >
>> 	> > Thanks for your help,
>> 	> > John
>> 	> >
>> 	> >> -----Original Message-----
>> 	> >> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
>> 	> >> Sent: Thursday, September 19, 2013 11:16 AM
>> 	> >> To: John Fox
>> 	> >> Cc: 'David Winsemius'; 'Sarah Hardy'; 'r-sig-mac'
>> 	> >> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac
>> 10.7.2 and
>> 	> a
>> 	> >> Mac 10.6.8
>> 	> >>
>> 	> >> John,
>> 	> >>
>> 	> >> On Sep 19, 2013, at 10:29 AM, John Fox wrote:
>> 	> >>
>> 	> >>> Dear Simon,
>> 	> >>>
>> 	> >>> Thank you very much for these clarifications (and also for
>> 	> responding
>> 	> >> to
>> 	> >>> David and Sarah's posts in this thread). I think that I
>> understand
>> 	> >> what's
>> 	> >>> going on now, and will add a note to the Rcmdr installation
>> 	> >> instructions to
>> 	> >>> run Software Update prior to installing R, the Rcmdr, and
>> (if
>> 	> >> necessary)
>> 	> >>> XQuartz.
>> 	> >>>
>> 	> >>> (Sarah: You could try asking your student(s) to run Software
>> 	> Update,
>> 	> >> and
>> 	> >>> then reinstall R and the Rcmdr package. If you do this, can
>> you
>> 	> >> report to
>> 	> >>> the list whether it works?)
>> 	> >>>
>> 	> >>> I do have one further question: I understand now that R will
>> use an
>> 	> >> older
>> 	> >>> X-11 in preference to XQuartz if XQuartz doesn't install a
>> symbolic
>> 	> >> link to
>> 	> >>> /usr/X11. Is there a reason for this? That is, why not have
>> R use
>> 	> >> XQuartz in
>> 	> >>> preference to another X-11 if XQuartz is installed -- or to
>> pick
>> 	> the
>> 	> >> newest
>> 	> >>> X-server, if it's possible to ascertain that?
>> 	> >>>
>> 	> >>
>> 	> >> It's not. This is not about preferences - R has no choice, it
>> has to
>> 	> >> links against something and we picked something that's more
>> likely
>> 	> to
>> 	> >> exist. You cannot pick and choose at run time since the
>> libraries
>> 	> (with
>> 	> >> paths) are linked in. Note that this is *not* about the X11
>> that the
>> 	> >> user will be running - this is just for internal libraries
>> use by R
>> 	> -
>> 	> >> these are two entirely separate things (server vs client).
>> Also
>> 	> XQuartz
>> 	> >> was really a development project, so it didn't seem like a
>> good idea
>> 	> to
>> 	> >> require it - in particular since we would ask people to
>> install
>> 	> >> parallel X11 implementation to an existing one - and have to
>> answer
>> 	> the
>> 	> >> "why?". In the meantime Apple has removed system X11
>> completely from
>> 	> >> recent OS X so it may be worth re-visiting that option and
>> just
>> 	> require
>> 	> >> XQuartz. However, there is no guarantee that they will
>> support the
>> 	> >> targets we support (although so far they do). Finally,
>> XQuartz will
>> 	> act
>> 	> >> as system X11 but not vice-versa, so it's much safer to use
>> the
>> 	> system
>> 	> >> X11 location as it supports more setups.
>> 	> >>
>> 	> >> FWIW: I think this whole discussion is getting off the
>> original
>> 	> topic:
>> 	> >> if you don't keep your system up to date, nothing is
>> guaranteed to
>> 	> work
>> 	> >> - it has nothing to do with X11, it affects all system
>> libraries and
>> 	> we
>> 	> >> have seen that before.
>> 	> >>
>> 	> >> Cheers,
>> 	> >> Simon
>> 	> >>
>> 	> >>
>> 	> >>> Thanks again for your help,
>> 	> >>> John
>> 	> >>>
>> 	> >>>> -----Original Message-----
>> 	> >>>> From: Simon Urbanek [mailto:urbanek at research.att.com]
>> 	> >>>> Sent: Thursday, September 19, 2013 9:25 AM
>> 	> >>>> To: John Fox
>> 	> >>>> Cc: David Winsemius; Sarah Hardy; r-sig-mac
>> 	> >>>> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac
>> 10.7.2
>> 	> and
>> 	> >> a
>> 	> >>>> Mac 10.6.8
>> 	> >>>>
>> 	> >>>> On Sep 19, 2013, at 9:05 AM, John Fox wrote:
>> 	> >>>>
>> 	> >>>>> Dear David,
>> 	> >>>>>
>> 	> >>>>> On Thu, 19 Sep 2013 01:04:18 -0700
>> 	> >>>>> David Winsemius <dwinsemius at comcast.net> wrote:
>> 	> >>>>>>
>> 	> >>>>>> On Sep 18, 2013, at 8:47 PM, John Fox wrote:
>> 	> >>>>>>
>> 	> >>>>>
>> 	> >>>>> . . .
>> 	> >>>>>
>> 	> >>>>>>> It also seems apparent from the error message that
>> there's a
>> 	> >>>> mismatch between the version of Tcl/Tk, presumably the one
>> 	> supplied
>> 	> >>>> with the R distribution, and the version of X-Windows.
>> 	> >>>>>>
>> 	> >>>>>> That is not what I am reading. libfreetype.6 version 13
>> is the
>> 	> >>>> reported problem with  a need to update to version 14.
>> 	> >>>>>>
>> 	> >>>>>
>> 	> >>>>> Do you know where libfreetype.6 comes from? Is it
>> installed
>> 	> >>>> independently of Tcl/Tk and XQuartz? If so, do you know how
>> to
>> 	> >> update
>> 	> >>>> it?
>> 	> >>>>>
>> 	> >>>>> . . .
>> 	> >>>>>
>> 	> >>>>>> I'm not really a student but maybe this will be useful
>> anyway.
>> 	> >> There
>> 	> >>>> is a version of Tk at:
>> 	> >>>>>>
>> 	> >>>>>> http://r.research.att.com/src/tk8.6.0-src.tar.gz
>> 	> >>>>>>
>> 	> >>>>>> ... which appears to be the most up-to-date version. I'm
>> 	> actually
>> 	> >>>> running version 8.5 with OSX 10.7.5
>> 	> >>>>>>
>> 	> >>>>>
>> 	> >>>>> Version 8.6-0 of Tcl/Tk for X-Windows is included in the R
>> 3.0.1
>> 	> >>>> installer for Mac OS X. Is it possible that it doesn't get
>> 	> installed
>> 	> >> if
>> 	> >>>> there's already a Tcl/Tk for X-Windows installed?
>> 	> >>>>>
>> 	> >>>>> . . .
>> 	> >>>>>
>> 	> >>>>>>
>> 	> >>>>>> The error message below says that libfreetype.6 is an old
>> 	> version
>> 	> >>>> and that you need version 14.0 for libtk8.6
>> 	> >>>>>>
>> 	> >>>>>> From Unix cmd line:
>> 	> >>>>>>
>> 	> >>>>>> otool -L /opt/local/lib/libfreetype.6.dylib
>> 	> >>>>>>
>> 	> >>>>>> # ---- reports ___________
>> 	> >>>>>> /opt/local/lib/libfreetype.6.dylib:
>> 	> >>>>>>        /opt/local/lib/libfreetype.6.dylib (compatibility
>> version
>> 	> 16.0.0,
>> 	> >>>> current version 16.0.0)
>> 	> >>>>>>        /opt/local/lib/libz.1.dylib (compatibility version
>> 1.0.0,
>> 	> current
>> 	> >>>> version 1.2.7)
>> 	> >>>>>>        /opt/local/lib/libbz2.1.0.dylib (compatibility
>> version
>> 	1.0.0,
>> 	> >>>> current version 1.0.6)
>> 	> >>>>>>        /usr/lib/libSystem.B.dylib (compatibility version
>> 1.0.0,
>> 	> current
>> 	> >>>> version 125.2.11)
>> 	> >>>>>>
>> 	> >>>>>
>> 	> >>>>> So tcltk and the Rcmdr 2.0-0 work on your system because
>> you have
>> 	> a
>> 	> >>>> sufficiently up-to-date libfreetype.6. It would be
>> additionally
>> 	> >> helpful
>> 	> >>>> to be able to answer the following questions:
>> 	> >>>>>
>> 	> >>>>> (1) Why is it that some users have old versions of
>> libfreetype.6.
>> 	> >>>>>
>> 	> >>>>
>> 	> >>>> guess: they don't use Software Update and thus have
>> outdated
>> 	> system
>> 	> >>>> libraries
>> 	> >>>>
>> 	> >>>>
>> 	> >>>>> (2) Why doesn't installing the newest versions of R (which
>> 	> includes
>> 	> >>>> Tcl/Tk) and XQuartz, not solve this problem?
>> 	> >>>>>
>> 	> >>>>
>> 	> >>>> guess: they are running an older version or didn't install
>> R
>> 	> >> properly
>> 	> >>>> from the CRAN package
>> 	> >>>>
>> 	> >>>>
>> 	> >>>>> (3) What can users experiencing this problem do to fix it?
>> 	> >>>>>
>> 	> >>>>
>> 	> >>>>
>> 	> >>>> Run Software Update for (1) , re-install R for (2)?
>> 	> >>>>
>> 	> >>>> We have only 3rd hand report here so we're reduced to
>> guessing so
>> 	> >> far.
>> 	> >>>> As I said, one important thing is that we uses system X11
>> and not
>> 	> >>>> XQuartz so installing XQuartz has no effect if there is a
>> system
>> 	> X11
>> 	> >>>> installed. However, on an up-todate system there should be
>> no
>> 	> >> problems.
>> 	> >>>>
>> 	> >>>> Cheers,
>> 	> >>>> S
>> 	> >>>>
>> 	> >>>>
>> 	> >>>>> If I knew the answers to these questions, I could update
>> the
>> 	> Rcmdr
>> 	> >>>> installation notes to help users avoid the problem.
>> 	> >>>>>
>> 	> >>>>> Thank you for your help,
>> 	> >>>>> John
>> 	> >>>
>> 	> >
>> 	> >
>>
>>
>>
>>
>>
>>
>> --
>>
>>
>> Sarah Hardy, PhD
>> Associate Professor of Mathematics
>> University of Maine Farmington
>> 207-778-7124    Office: Brinkman 100
>>
>>
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From pdalgd at gmail.com  Fri Sep 20 11:29:54 2013
From: pdalgd at gmail.com (peter dalgaard)
Date: Fri, 20 Sep 2013 11:29:54 +0200
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <523BEFE1.7080401@stats.ox.ac.uk>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
	<006001ceb56c$d336c340$79a449c0$@mcmaster.ca>
	<CAFg2G_tXaDDtOSacsMkCtkhC5j8jO_J5JLdWauGaRHNaDKDbCw@mail.gmail.com>
	<007f01ceb59b$ad0de390$0729aab0$@mcmaster.ca>
	<523BEFE1.7080401@stats.ox.ac.uk>
Message-ID: <101DFFF5-6CAD-47BF-8D50-BED62A785877@gmail.com>


On Sep 20, 2013, at 08:49 , Prof Brian Ripley wrote:
>> 
> 
> I am not so sure about that.  It will do no harm running CRAN binary R.  But it does mean that there are multiple versions of X11 things about and that will cause problems for other things (including possibly installing packages from source).


Or, put differently, we could be shipping libraries that are incompatible with the system libraries (or 3rd party libraries for that matter) if those are not kept up to date. 

Of course, keeping versions compatible is exactly what package managers are for, on systems that have them. The way things work on commercial platforms tend to lead each applicationq into rolling everything you need into the application itself, which is - in the bigger perspective - wasteful and somewhat risky (as defective components only get replaced upon upgrade of the application). 

I know Simon distrusts them, but sometimes I do feel that we should work more closely with the people doing managed distributions for OSX, i.e. MacPorts, Homebrew, Fink. (Not sure how they'd cope with missing OS updates, though.)

-- 
Peter Dalgaard, Professor
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From Rainer at krugs.de  Fri Sep 20 12:06:17 2013
From: Rainer at krugs.de (Rainer M Krug)
Date: Fri, 20 Sep 2013 12:06:17 +0200
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
	<006001ceb56c$d336c340$79a449c0$@mcmaster.ca>
	<CAFg2G_tXaDDtOSacsMkCtkhC5j8jO_J5JLdWauGaRHNaDKDbCw@mail.gmail.com>
	<007f01ceb59b$ad0de390$0729aab0$@mcmaster.ca>
	<523BEFE1.7080401@stats.ox.ac.uk>
	<101DFFF5-6CAD-47BF-8D50-BED62A785877@gmail.com>
Message-ID: <m24n9fbyee.fsf@krugs.de>

peter dalgaard <pdalgd at gmail.com> writes:

> On Sep 20, 2013, at 08:49 , Prof Brian Ripley wrote:
>>> 
>> 
>> I am not so sure about that.  It will do no harm running CRAN binary
>> R.  But it does mean that there are multiple versions of X11 things
>> about and that will cause problems for other things (including
>> possibly installing packages from source).
>
>
> Or, put differently, we could be shipping libraries that are
> incompatible with the system libraries (or 3rd party libraries for
> that matter) if those are not kept up to date.
>
> Of course, keeping versions compatible is exactly what package
> managers are for, on systems that have them. The way things work on
> commercial platforms tend to lead each applicationq into rolling
> everything you need into the application itself, which is - in the
> bigger perspective - wasteful and somewhat risky (as defective
> components only get replaced upon upgrade of the application).
>
> I know Simon distrusts them, but sometimes I do feel that we should
> work more closely with the people doing managed distributions for OSX,
> i.e. MacPorts, Homebrew, Fink. (Not sure how they'd cope with missing
> OS updates, though.)

I completely agree here. 

I can only speak about homebrew, but one additional advantage is that to
have multiple versions of R installed (and switching between them) is
not a problem at all.

If there would be a kind of an official support, I would definitely
switch to the homwbrew version.

Cheers,

Rainer

-- 
Rainer M. Krug

email: RMKrug<at>gmail<dot>com


From bhh at xs4all.nl  Fri Sep 20 13:18:25 2013
From: bhh at xs4all.nl (Berend Hasselman)
Date: Fri, 20 Sep 2013 13:18:25 +0200
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <101DFFF5-6CAD-47BF-8D50-BED62A785877@gmail.com>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
	<006001ceb56c$d336c340$79a449c0$@mcmaster.ca>
	<CAFg2G_tXaDDtOSacsMkCtkhC5j8jO_J5JLdWauGaRHNaDKDbCw@mail.gmail.com>
	<007f01ceb59b$ad0de390$0729aab0$@mcmaster.ca>
	<523BEFE1.7080401@stats.ox.ac.uk>
	<101DFFF5-6CAD-47BF-8D50-BED62A785877@gmail.com>
Message-ID: <F48528B7-FF28-4667-BDC9-6126CC0F401E@xs4all.nl>


On 20-09-2013, at 11:29, peter dalgaard <pdalgd at gmail.com> wrote:

> 
> On Sep 20, 2013, at 08:49 , Prof Brian Ripley wrote:
>>> 
>> 
>> I am not so sure about that.  It will do no harm running CRAN binary R.  But it does mean that there are multiple versions of X11 things about and that will cause problems for other things (including possibly installing packages from source).
> 
> 
> Or, put differently, we could be shipping libraries that are incompatible with the system libraries (or 3rd party libraries for that matter) if those are not kept up to date. 
> 

Systems such as Ubuntu release a new version every 6 months and often no longer update applications/libraries in previous releases.
The previous releases become progressively more out of date.

> Of course, keeping versions compatible is exactly what package managers are for, on systems that have them. The way things work on commercial platforms tend to lead each applicationq into rolling everything you need into the application itself, which is - in the bigger perspective - wasteful and somewhat risky (as defective components only get replaced upon upgrade of the application). 
> 

It may be wasteful to some extent but the advantage is that I can get a newer version of an application without being forced to update my OS. On my main Mac I now have an up to date MacTeX 2013 without having to upgrade to a newer version of the OS. TeXLive 2013 is not available in the official repository for Ubuntu 10.04 so you are forced to install/upgrade manually.

RStudio distributes all inclusive packages for several systems. You only have to install it and it works; no hassle with dependencies, out-of-date libraries etc. Very nice. It may be slightly wasteful but I can install it on OS X/Ubuntu 10.04/Kubuntu 12.04 (all virtual) without any kind of hassle or updating whatever in the system.

> I know Simon distrusts them, but sometimes I do feel that we should work more closely with the people doing managed distributions for OSX, i.e. MacPorts, Homebrew, Fink. (Not sure how they'd cope with missing OS updates, though.)
> 

It may be that they are better than they were several years ago but I don't really trust them either.
They tend to install far too much stuff that you don't always need (in my experience). And why duplicate what's working in the OS already?
And whenever I tried one of them I had (weird) issues/error messages. So now I prefer to stay away from them.
I don't want any package manager to mess with my current setup and force me to go through hoops to get the correct tools.

I use Simon's gcc/gfortran packages for compiling/testing/maintaining my R packages, for private programs and things like gawk, gnuplot and Octave.
In the current setup I get a working R and R-GUI. Can Macports, Fink and Homebrew create a working R-GUI with no issues?

I prefer the current setup. It works without ado thanks to Simon and suits me perfectly.

Berend

> -- 
> Peter Dalgaard, Professor
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jfox at mcmaster.ca  Fri Sep 20 13:54:00 2013
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 20 Sep 2013 07:54:00 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <523BEFE1.7080401@stats.ox.ac.uk>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
	<006001ceb56c$d336c340$79a449c0$@mcmaster.ca>
	<CAFg2G_tXaDDtOSacsMkCtkhC5j8jO_J5JLdWauGaRHNaDKDbCw@mail.gmail.com>
	<007f01ceb59b$ad0de390$0729aab0$@mcmaster.ca>
	<523BEFE1.7080401@stats.ox.ac.uk>
Message-ID: <web-474901749@cgpsrv2.cis.mcmaster.ca>

Dear Brian,

On Fri, 20 Sep 2013 07:49:05 +0100
 Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> On 20/09/2013 01:52, John Fox wrote:
> > Dear Sarah,
> >
> >> -----Original Message-----
> >> From: Sarah Hardy [mailto:sarah.hardy at maine.edu]
> >> Sent: Thursday, September 19, 2013 8:08 PM
> >> To: John Fox
> >> Cc: Simon Urbanek; David Winsemius; r-sig-mac
> >> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a
> >> Mac 10.6.8
> >>
> >> Running the "Software Update" and reinstalling R and Rcmdr worked for
> >> the student with the 10.7.2. We did not reinstall XQuartz. Now I will
> >
> > I'm glad that this worked. Apparently, the student had an old version of
> > X-Windows that was updated by Software Update. As Simon explained, in this
> > situation installing XQuartz is irrelevant because the other version of
> > X-Windows is invoked by R.
> >
> >> see if it works for the others. BTW - I have identified at least one
> >> student with a 10.6.8 who had no problems installing R and Rcmdr
> >> without installing XQuartz (per my instructions) - am going to check
> >> with other students tomorrow.
> >
> > If the student installed a sufficiently up-to-date X-Windows, that should
> > work, and apparently did. The X-Windows used needn't be XQuartz. My new
> > instructions suggest that everyone install XQuartz because that will give
> > them an up-to-date X-Windows if they don't already have X-windows installed,
> > and will do no harm if they do have another X-Windows.
> 
> I am not so sure about that.  It will do no harm running CRAN binary R.  But it does mean that there are multiple versions of X11 things about 
> and that will cause problems for other things (including possibly installing packages from source).

Thanks for pointing out this potential problem.

Oh well -- I hoped to have a simple set of instructions, and having everyone install XQuartz followed what I took to be Simon's suggestion (below). 

Almost all of the problems people have with the Rcmdr package are on the Mac OS X platform, and since most of these people are not sophisticated in their computer use, having simple instructions is important.

How about the following?

(1) Run System Update.

(2) Check whether X-Windows is installed. (I can restore my previous instructions about how to check.)

(3) If X-Windows isn't installed, install XQuartz.

etc.

Best,
 John

. . .

> >> 	> -----Original Message-----
> >> 	> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> >>
> >> 	> Sent: Thursday, September 19, 2013 11:49 AM
> >> 	> To: John Fox
> >> 	> Cc: 'David Winsemius'; 'Sarah Hardy'; 'r-sig-mac'
> >> 	> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2
> >> and a
> >> 	> Mac 10.6.8
> >> 	>
> >>
> >> 	> Well, the I think it reads far more complicated that in needs to
> >> be.
> >> 	> You should have a quickstart section that just says:
> >> 	>
> >> 	> * Install R 3.0.1 or later
> >> 	> * Install XQuartz from http://xquartz.macosforge.org
> >> 	>
> >> 	> Done. Current R only supports 10.6.8+ and so does XQuartz so the
> >> above
> >> 	> covers everything that is supported right now (I recall having
> >> that
> >> 	> discussion earlier...).
> >> 	>
> >> 	> Then you can have troubleshooting section which says
> >> 	>
> >> 	> a) make sure you installed R with Tcl/Tk (it is the default) -
> >> if in
> >> 	> doubt, re-install R from CRAN
> >> 	> b) use Software Update
> >> 	>
> >> 	> Then you can have a technical section with the details you show
> >> below,
> >> 	> but 99% of users should not need to read it.
> >> 	>
> >> 	> Cheers,
> >> 	> Simon

. . .


From ripley at stats.ox.ac.uk  Fri Sep 20 14:36:33 2013
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 20 Sep 2013 13:36:33 +0100
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
 10.6.8
In-Reply-To: <web-474901749@cgpsrv2.cis.mcmaster.ca>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
	<006001ceb56c$d336c340$79a449c0$@mcmaster.ca>
	<CAFg2G_tXaDDtOSacsMkCtkhC5j8jO_J5JLdWauGaRHNaDKDbCw@mail.gmail.com>
	<007f01ceb59b$ad0de390$0729aab0$@mcmaster.ca>
	<523BEFE1.7080401@stats.ox.ac.uk>
	<web-474901749@cgpsrv2.cis.mcmaster.ca>
Message-ID: <523C4151.6020300@stats.ox.ac.uk>

On 20/09/2013 12:54, John Fox wrote:
> Dear Brian,
>
> On Fri, 20 Sep 2013 07:49:05 +0100
>   Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>> On 20/09/2013 01:52, John Fox wrote:
>>> Dear Sarah,
>>>
>>>> -----Original Message-----
>>>> From: Sarah Hardy [mailto:sarah.hardy at maine.edu]
>>>> Sent: Thursday, September 19, 2013 8:08 PM
>>>> To: John Fox
>>>> Cc: Simon Urbanek; David Winsemius; r-sig-mac
>>>> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a
>>>> Mac 10.6.8
>>>>
>>>> Running the "Software Update" and reinstalling R and Rcmdr worked for
>>>> the student with the 10.7.2. We did not reinstall XQuartz. Now I will
>>>
>>> I'm glad that this worked. Apparently, the student had an old version of
>>> X-Windows that was updated by Software Update. As Simon explained, in this
>>> situation installing XQuartz is irrelevant because the other version of
>>> X-Windows is invoked by R.
>>>
>>>> see if it works for the others. BTW - I have identified at least one
>>>> student with a 10.6.8 who had no problems installing R and Rcmdr
>>>> without installing XQuartz (per my instructions) - am going to check
>>>> with other students tomorrow.
>>>
>>> If the student installed a sufficiently up-to-date X-Windows, that should
>>> work, and apparently did. The X-Windows used needn't be XQuartz. My new
>>> instructions suggest that everyone install XQuartz because that will give
>>> them an up-to-date X-Windows if they don't already have X-windows installed,
>>> and will do no harm if they do have another X-Windows.
>>
>> I am not so sure about that.  It will do no harm running CRAN binary R.  But it does mean that there are multiple versions of X11 things about
>> and that will cause problems for other things (including possibly installing packages from source).
>
> Thanks for pointing out this potential problem.
>
> Oh well -- I hoped to have a simple set of instructions, and having everyone install XQuartz followed what I took to be Simon's suggestion (below).
>
> Almost all of the problems people have with the Rcmdr package are on the Mac OS X platform, and since most of these people are not sophisticated in their computer use, having simple instructions is important.
>
> How about the following?
>
> (1) Run System Update.
>
> (2) Check whether X-Windows is installed. (I can restore my previous instructions about how to check.)
>
> (3) If X-Windows isn't installed, install XQuartz.

I think so.  And I have no problem with installing XQuartz on 10.6 or 
10.7 if Apple X11 is not installed.

Our experience on Solaris (which itself comes with two X11 setups) shows 
how easily it is to get them mixed and how hard it can be to disentangle.

>
> etc.
>
> Best,
>   John
>
> . . .
>
>>>> 	> -----Original Message-----
>>>> 	> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
>>>>
>>>> 	> Sent: Thursday, September 19, 2013 11:49 AM
>>>> 	> To: John Fox
>>>> 	> Cc: 'David Winsemius'; 'Sarah Hardy'; 'r-sig-mac'
>>>> 	> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2
>>>> and a
>>>> 	> Mac 10.6.8
>>>> 	>
>>>>
>>>> 	> Well, the I think it reads far more complicated that in needs to
>>>> be.
>>>> 	> You should have a quickstart section that just says:
>>>> 	>
>>>> 	> * Install R 3.0.1 or later
>>>> 	> * Install XQuartz from http://xquartz.macosforge.org
>>>> 	>
>>>> 	> Done. Current R only supports 10.6.8+ and so does XQuartz so the
>>>> above
>>>> 	> covers everything that is supported right now (I recall having
>>>> that
>>>> 	> discussion earlier...).
>>>> 	>
>>>> 	> Then you can have troubleshooting section which says
>>>> 	>
>>>> 	> a) make sure you installed R with Tcl/Tk (it is the default) -
>>>> if in
>>>> 	> doubt, re-install R from CRAN
>>>> 	> b) use Software Update
>>>> 	>
>>>> 	> Then you can have a technical section with the details you show
>>>> below,
>>>> 	> but 99% of users should not need to read it.
>>>> 	>
>>>> 	> Cheers,
>>>> 	> Simon
>
> . . .
> 	
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From flip at skidmore.edu  Fri Sep 20 14:41:02 2013
From: flip at skidmore.edu (Flip Phillips)
Date: Fri, 20 Sep 2013 12:41:02 +0000
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
 10.6.8
In-Reply-To: <523C4151.6020300@stats.ox.ac.uk>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
	<006001ceb56c$d336c340$79a449c0$@mcmaster.ca>
	<CAFg2G_tXaDDtOSacsMkCtkhC5j8jO_J5JLdWauGaRHNaDKDbCw@mail.gmail.com>
	<007f01ceb59b$ad0de390$0729aab0$@mcmaster.ca>
	<523BEFE1.7080401@stats.ox.ac.uk>
	<web-474901749@cgpsrv2.cis.mcmaster.ca>
	<523C4151.6020300@stats.ox.ac.uk>
Message-ID: <DD029E81-B319-497B-8047-8C25B2B1C025@skidmore.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130920/80f2faaf/attachment.pl>

From jfox at mcmaster.ca  Fri Sep 20 15:06:50 2013
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 20 Sep 2013 09:06:50 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <DD029E81-B319-497B-8047-8C25B2B1C025@skidmore.edu>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
	<006001ceb56c$d336c340$79a449c0$@mcmaster.ca>
	<CAFg2G_tXaDDtOSacsMkCtkhC5j8jO_J5JLdWauGaRHNaDKDbCw@mail.gmail.com>
	<007f01ceb59b$ad0de390$0729aab0$@mcmaster.ca>
	<523BEFE1.7080401@stats.ox.ac.uk>
	<web-474901749@cgpsrv2.cis.mcmaster.ca>
	<523C4151.6020300@stats.ox.ac.uk>
	<DD029E81-B319-497B-8047-8C25B2B1C025@skidmore.edu>
Message-ID: <000601ceb602$456c0520$d0440f60$@mcmaster.ca>

Dear flip,



> -----Original Message-----
> From: Flip Phillips [mailto:flip at skidmore.edu]
> Sent: Friday, September 20, 2013 8:41 AM
> To: r-sig-mac at r-project.org; ripley at stats.ox.ac.uk; jfox at mcmaster.ca
> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a
> Mac 10.6.8
> 
> 
> Ouch.
> 
> I keep forgetting how sophisticated the users of Windows are.

In case this isn't simply a joke, I referred to people using the Rcmdr, not
Mac OS X. Most Windows users of the R Commander are also not sophisticated
computer users, but on that platform installation of the package is very
simple.

John

> 
> 
> On Sep 20, 2013, at 8:36 AM, Prof Brian Ripley <ripley at stats.ox.ac.uk>
> wrote:
> 
> 
> 		Almost all of the problems people have with the Rcmdr
package
> are on the Mac OS X platform, and since most of these people are not
> sophisticated in their computer use, having simple instructions is
> important.
> 
> 
> -
> flip phillips
> www.skidmore.edu/~flip
>


From jfox at mcmaster.ca  Fri Sep 20 15:08:48 2013
From: jfox at mcmaster.ca (John Fox)
Date: Fri, 20 Sep 2013 09:08:48 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <523C4151.6020300@stats.ox.ac.uk>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
	<006001ceb56c$d336c340$79a449c0$@mcmaster.ca>
	<CAFg2G_tXaDDtOSacsMkCtkhC5j8jO_J5JLdWauGaRHNaDKDbCw@mail.gmail.com>
	<007f01ceb59b$ad0de390$0729aab0$@mcmaster.ca>
	<523BEFE1.7080401@stats.ox.ac.uk>
	<web-474901749@cgpsrv2.cis.mcmaster.ca>
	<523C4151.6020300@stats.ox.ac.uk>
Message-ID: <000701ceb602$8bc5a9e0$a350fda0$@mcmaster.ca>

Dear Brian,

I've modified the Mac installation instructions again to add back the check
for a prior installation of X-Windows. The instructions are at
<http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation-notes.html>.

Thanks for your help,
 John

> -----Original Message-----
> From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
> Sent: Friday, September 20, 2013 8:37 AM
> To: John Fox
> Cc: 'r-sig-mac'
> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a
> Mac 10.6.8
> 
> On 20/09/2013 12:54, John Fox wrote:
> > Dear Brian,
> >
> > On Fri, 20 Sep 2013 07:49:05 +0100
> >   Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> >> On 20/09/2013 01:52, John Fox wrote:
> >>> Dear Sarah,
> >>>
> >>>> -----Original Message-----
> >>>> From: Sarah Hardy [mailto:sarah.hardy at maine.edu]
> >>>> Sent: Thursday, September 19, 2013 8:08 PM
> >>>> To: John Fox
> >>>> Cc: Simon Urbanek; David Winsemius; r-sig-mac
> >>>> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2
> and a
> >>>> Mac 10.6.8
> >>>>
> >>>> Running the "Software Update" and reinstalling R and Rcmdr worked
> for
> >>>> the student with the 10.7.2. We did not reinstall XQuartz. Now I
> will
> >>>
> >>> I'm glad that this worked. Apparently, the student had an old
> version of
> >>> X-Windows that was updated by Software Update. As Simon explained,
> in this
> >>> situation installing XQuartz is irrelevant because the other
> version of
> >>> X-Windows is invoked by R.
> >>>
> >>>> see if it works for the others. BTW - I have identified at least
> one
> >>>> student with a 10.6.8 who had no problems installing R and Rcmdr
> >>>> without installing XQuartz (per my instructions) - am going to
> check
> >>>> with other students tomorrow.
> >>>
> >>> If the student installed a sufficiently up-to-date X-Windows, that
> should
> >>> work, and apparently did. The X-Windows used needn't be XQuartz. My
> new
> >>> instructions suggest that everyone install XQuartz because that
> will give
> >>> them an up-to-date X-Windows if they don't already have X-windows
> installed,
> >>> and will do no harm if they do have another X-Windows.
> >>
> >> I am not so sure about that.  It will do no harm running CRAN binary
> R.  But it does mean that there are multiple versions of X11 things
> about
> >> and that will cause problems for other things (including possibly
> installing packages from source).
> >
> > Thanks for pointing out this potential problem.
> >
> > Oh well -- I hoped to have a simple set of instructions, and having
> everyone install XQuartz followed what I took to be Simon's suggestion
> (below).
> >
> > Almost all of the problems people have with the Rcmdr package are on
> the Mac OS X platform, and since most of these people are not
> sophisticated in their computer use, having simple instructions is
> important.
> >
> > How about the following?
> >
> > (1) Run System Update.
> >
> > (2) Check whether X-Windows is installed. (I can restore my previous
> instructions about how to check.)
> >
> > (3) If X-Windows isn't installed, install XQuartz.
> 
> I think so.  And I have no problem with installing XQuartz on 10.6 or
> 10.7 if Apple X11 is not installed.
> 
> Our experience on Solaris (which itself comes with two X11 setups)
> shows
> how easily it is to get them mixed and how hard it can be to
> disentangle.
> 
> >
> > etc.
> >
> > Best,
> >   John
> >
> > . . .
> >
> >>>> 	> -----Original Message-----
> >>>> 	> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> >>>>
> >>>> 	> Sent: Thursday, September 19, 2013 11:49 AM
> >>>> 	> To: John Fox
> >>>> 	> Cc: 'David Winsemius'; 'Sarah Hardy'; 'r-sig-mac'
> >>>> 	> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2
> >>>> and a
> >>>> 	> Mac 10.6.8
> >>>> 	>
> >>>>
> >>>> 	> Well, the I think it reads far more complicated that in needs to
> >>>> be.
> >>>> 	> You should have a quickstart section that just says:
> >>>> 	>
> >>>> 	> * Install R 3.0.1 or later
> >>>> 	> * Install XQuartz from http://xquartz.macosforge.org
> >>>> 	>
> >>>> 	> Done. Current R only supports 10.6.8+ and so does XQuartz so the
> >>>> above
> >>>> 	> covers everything that is supported right now (I recall having
> >>>> that
> >>>> 	> discussion earlier...).
> >>>> 	>
> >>>> 	> Then you can have troubleshooting section which says
> >>>> 	>
> >>>> 	> a) make sure you installed R with Tcl/Tk (it is the default) -
> >>>> if in
> >>>> 	> doubt, re-install R from CRAN
> >>>> 	> b) use Software Update
> >>>> 	>
> >>>> 	> Then you can have a technical section with the details you show
> >>>> below,
> >>>> 	> but 99% of users should not need to read it.
> >>>> 	>
> >>>> 	> Cheers,
> >>>> 	> Simon
> >
> > . . .
> >
> >
> 
> 
> --
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From bhh at xs4all.nl  Fri Sep 20 15:24:20 2013
From: bhh at xs4all.nl (Berend Hasselman)
Date: Fri, 20 Sep 2013 15:24:20 +0200
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <000701ceb602$8bc5a9e0$a350fda0$@mcmaster.ca>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
	<006001ceb56c$d336c340$79a449c0$@mcmaster.ca>
	<CAFg2G_tXaDDtOSacsMkCtkhC5j8jO_J5JLdWauGaRHNaDKDbCw@mail.gmail.com>
	<007f01ceb59b$ad0de390$0729aab0$@mcmaster.ca>
	<523BEFE1.7080401@stats.ox.ac.uk>
	<web-474901749@cgpsrv2.cis.mcmaster.ca>
	<523C4151.6020300@stats.ox.ac.uk>
	<000701ceb602$8bc5a9e0$a350fda0$@mcmaster.ca>
Message-ID: <085A3226-332A-4CCC-9002-64646DB446F5@xs4all.nl>


On 20-09-2013, at 15:08, John Fox <jfox at mcmaster.ca> wrote:

> Dear Brian,
> 
> I've modified the Mac installation instructions again to add back the check
> for a prior installation of X-Windows. The instructions are at
> <http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation-notes.html>.
> 

A small typo in your instructions:

Check to see whehter the X11 ?...


Berend

> Thanks for your help,
> John
> 
>> -----Original Message-----
>> From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
>> Sent: Friday, September 20, 2013 8:37 AM
>> To: John Fox
>> Cc: 'r-sig-mac'
>> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a
>> Mac 10.6.8
>> 
>> On 20/09/2013 12:54, John Fox wrote:
>>> Dear Brian,
>>> 
>>> On Fri, 20 Sep 2013 07:49:05 +0100
>>>  Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
>>>> On 20/09/2013 01:52, John Fox wrote:
>>>>> Dear Sarah,
>>>>> 
>>>>>> -----Original Message-----
>>>>>> From: Sarah Hardy [mailto:sarah.hardy at maine.edu]
>>>>>> Sent: Thursday, September 19, 2013 8:08 PM
>>>>>> To: John Fox
>>>>>> Cc: Simon Urbanek; David Winsemius; r-sig-mac
>>>>>> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2
>> and a
>>>>>> Mac 10.6.8
>>>>>> 
>>>>>> Running the "Software Update" and reinstalling R and Rcmdr worked
>> for
>>>>>> the student with the 10.7.2. We did not reinstall XQuartz. Now I
>> will
>>>>> 
>>>>> I'm glad that this worked. Apparently, the student had an old
>> version of
>>>>> X-Windows that was updated by Software Update. As Simon explained,
>> in this
>>>>> situation installing XQuartz is irrelevant because the other
>> version of
>>>>> X-Windows is invoked by R.
>>>>> 
>>>>>> see if it works for the others. BTW - I have identified at least
>> one
>>>>>> student with a 10.6.8 who had no problems installing R and Rcmdr
>>>>>> without installing XQuartz (per my instructions) - am going to
>> check
>>>>>> with other students tomorrow.
>>>>> 
>>>>> If the student installed a sufficiently up-to-date X-Windows, that
>> should
>>>>> work, and apparently did. The X-Windows used needn't be XQuartz. My
>> new
>>>>> instructions suggest that everyone install XQuartz because that
>> will give
>>>>> them an up-to-date X-Windows if they don't already have X-windows
>> installed,
>>>>> and will do no harm if they do have another X-Windows.
>>>> 
>>>> I am not so sure about that.  It will do no harm running CRAN binary
>> R.  But it does mean that there are multiple versions of X11 things
>> about
>>>> and that will cause problems for other things (including possibly
>> installing packages from source).
>>> 
>>> Thanks for pointing out this potential problem.
>>> 
>>> Oh well -- I hoped to have a simple set of instructions, and having
>> everyone install XQuartz followed what I took to be Simon's suggestion
>> (below).
>>> 
>>> Almost all of the problems people have with the Rcmdr package are on
>> the Mac OS X platform, and since most of these people are not
>> sophisticated in their computer use, having simple instructions is
>> important.
>>> 
>>> How about the following?
>>> 
>>> (1) Run System Update.
>>> 
>>> (2) Check whether X-Windows is installed. (I can restore my previous
>> instructions about how to check.)
>>> 
>>> (3) If X-Windows isn't installed, install XQuartz.
>> 
>> I think so.  And I have no problem with installing XQuartz on 10.6 or
>> 10.7 if Apple X11 is not installed.
>> 
>> Our experience on Solaris (which itself comes with two X11 setups)
>> shows
>> how easily it is to get them mixed and how hard it can be to
>> disentangle.
>> 
>>> 
>>> etc.
>>> 
>>> Best,
>>>  John
>>> 
>>> . . .
>>> 
>>>>>> 	> -----Original Message-----
>>>>>> 	> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
>>>>>> 
>>>>>> 	> Sent: Thursday, September 19, 2013 11:49 AM
>>>>>> 	> To: John Fox
>>>>>> 	> Cc: 'David Winsemius'; 'Sarah Hardy'; 'r-sig-mac'
>>>>>> 	> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2
>>>>>> and a
>>>>>> 	> Mac 10.6.8
>>>>>> 	>
>>>>>> 
>>>>>> 	> Well, the I think it reads far more complicated that in needs to
>>>>>> be.
>>>>>> 	> You should have a quickstart section that just says:
>>>>>> 	>
>>>>>> 	> * Install R 3.0.1 or later
>>>>>> 	> * Install XQuartz from http://xquartz.macosforge.org
>>>>>> 	>
>>>>>> 	> Done. Current R only supports 10.6.8+ and so does XQuartz so the
>>>>>> above
>>>>>> 	> covers everything that is supported right now (I recall having
>>>>>> that
>>>>>> 	> discussion earlier...).
>>>>>> 	>
>>>>>> 	> Then you can have troubleshooting section which says
>>>>>> 	>
>>>>>> 	> a) make sure you installed R with Tcl/Tk (it is the default) -
>>>>>> if in
>>>>>> 	> doubt, re-install R from CRAN
>>>>>> 	> b) use Software Update
>>>>>> 	>
>>>>>> 	> Then you can have a technical section with the details you show
>>>>>> below,
>>>>>> 	> but 99% of users should not need to read it.
>>>>>> 	>
>>>>>> 	> Cheers,
>>>>>> 	> Simon
>>> 
>>> . . .
>>> 
>>> 
>> 
>> 
>> --
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jfox at McMaster.ca  Fri Sep 20 16:22:01 2013
From: jfox at McMaster.ca (John Fox)
Date: Fri, 20 Sep 2013 10:22:01 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <085A3226-332A-4CCC-9002-64646DB446F5@xs4all.nl>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
	<006001ceb56c$d336c340$79a449c0$@mcmaster.ca>
	<CAFg2G_tXaDDtOSacsMkCtkhC5j8jO_J5JLdWauGaRHNaDKDbCw@mail.gmail.com>
	<007f01ceb59b$ad0de390$0729aab0$@mcmaster.ca>
	<523BEFE1.7080401@stats.ox.ac.uk>
	<web-474901749@cgpsrv2.cis.mcmaster.ca>
	<523C4151.6020300@stats.ox.ac.uk>
	<000701ceb602$8bc5a9e0$a350fda0$@mcmaster.ca>
	<085A3226-332A-4CCC-9002-64646DB446F5@xs4all.nl>
Message-ID: <001801ceb60c$c6963a80$53c2af80$@mcmaster.ca>

Dear Berend,

> -----Original Message-----
> From: Berend Hasselman [mailto:bhh at xs4all.nl]
> Sent: Friday, September 20, 2013 9:24 AM
> To: John Fox
> Cc: 'Prof Brian Ripley'; r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a
> Mac 10.6.8
> 
> 
> On 20-09-2013, at 15:08, John Fox <jfox at mcmaster.ca> wrote:
> 
> > Dear Brian,
> >
> > I've modified the Mac installation instructions again to add back the
> check
> > for a prior installation of X-Windows. The instructions are at
> > <http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation-
> notes.html>.
> >
> 
> A small typo in your instructions:
> 
> Check to see whehter the X11 ....

Thanks. If I spend another week on this, maybe I'll get it right!

Best,
 John

> 
> 
> Berend
> 
> > Thanks for your help,
> > John
> >
> >> -----Original Message-----
> >> From: Prof Brian Ripley [mailto:ripley at stats.ox.ac.uk]
> >> Sent: Friday, September 20, 2013 8:37 AM
> >> To: John Fox
> >> Cc: 'r-sig-mac'
> >> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and
> a
> >> Mac 10.6.8
> >>
> >> On 20/09/2013 12:54, John Fox wrote:
> >>> Dear Brian,
> >>>
> >>> On Fri, 20 Sep 2013 07:49:05 +0100
> >>>  Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> >>>> On 20/09/2013 01:52, John Fox wrote:
> >>>>> Dear Sarah,
> >>>>>
> >>>>>> -----Original Message-----
> >>>>>> From: Sarah Hardy [mailto:sarah.hardy at maine.edu]
> >>>>>> Sent: Thursday, September 19, 2013 8:08 PM
> >>>>>> To: John Fox
> >>>>>> Cc: Simon Urbanek; David Winsemius; r-sig-mac
> >>>>>> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2
> >> and a
> >>>>>> Mac 10.6.8
> >>>>>>
> >>>>>> Running the "Software Update" and reinstalling R and Rcmdr
> worked
> >> for
> >>>>>> the student with the 10.7.2. We did not reinstall XQuartz. Now I
> >> will
> >>>>>
> >>>>> I'm glad that this worked. Apparently, the student had an old
> >> version of
> >>>>> X-Windows that was updated by Software Update. As Simon
> explained,
> >> in this
> >>>>> situation installing XQuartz is irrelevant because the other
> >> version of
> >>>>> X-Windows is invoked by R.
> >>>>>
> >>>>>> see if it works for the others. BTW - I have identified at least
> >> one
> >>>>>> student with a 10.6.8 who had no problems installing R and Rcmdr
> >>>>>> without installing XQuartz (per my instructions) - am going to
> >> check
> >>>>>> with other students tomorrow.
> >>>>>
> >>>>> If the student installed a sufficiently up-to-date X-Windows,
> that
> >> should
> >>>>> work, and apparently did. The X-Windows used needn't be XQuartz.
> My
> >> new
> >>>>> instructions suggest that everyone install XQuartz because that
> >> will give
> >>>>> them an up-to-date X-Windows if they don't already have X-windows
> >> installed,
> >>>>> and will do no harm if they do have another X-Windows.
> >>>>
> >>>> I am not so sure about that.  It will do no harm running CRAN
> binary
> >> R.  But it does mean that there are multiple versions of X11 things
> >> about
> >>>> and that will cause problems for other things (including possibly
> >> installing packages from source).
> >>>
> >>> Thanks for pointing out this potential problem.
> >>>
> >>> Oh well -- I hoped to have a simple set of instructions, and having
> >> everyone install XQuartz followed what I took to be Simon's
> suggestion
> >> (below).
> >>>
> >>> Almost all of the problems people have with the Rcmdr package are
> on
> >> the Mac OS X platform, and since most of these people are not
> >> sophisticated in their computer use, having simple instructions is
> >> important.
> >>>
> >>> How about the following?
> >>>
> >>> (1) Run System Update.
> >>>
> >>> (2) Check whether X-Windows is installed. (I can restore my
> previous
> >> instructions about how to check.)
> >>>
> >>> (3) If X-Windows isn't installed, install XQuartz.
> >>
> >> I think so.  And I have no problem with installing XQuartz on 10.6
> or
> >> 10.7 if Apple X11 is not installed.
> >>
> >> Our experience on Solaris (which itself comes with two X11 setups)
> >> shows
> >> how easily it is to get them mixed and how hard it can be to
> >> disentangle.
> >>
> >>>
> >>> etc.
> >>>
> >>> Best,
> >>>  John
> >>>
> >>> . . .
> >>>
> >>>>>> 	> -----Original Message-----
> >>>>>> 	> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> >>>>>>
> >>>>>> 	> Sent: Thursday, September 19, 2013 11:49 AM
> >>>>>> 	> To: John Fox
> >>>>>> 	> Cc: 'David Winsemius'; 'Sarah Hardy'; 'r-sig-mac'
> >>>>>> 	> Subject: Re: [R-SIG-Mac] Problems loading Rcmdr on a Mac
> 10.7.2
> >>>>>> and a
> >>>>>> 	> Mac 10.6.8
> >>>>>> 	>
> >>>>>>
> >>>>>> 	> Well, the I think it reads far more complicated that in
> needs to
> >>>>>> be.
> >>>>>> 	> You should have a quickstart section that just says:
> >>>>>> 	>
> >>>>>> 	> * Install R 3.0.1 or later
> >>>>>> 	> * Install XQuartz from http://xquartz.macosforge.org
> >>>>>> 	>
> >>>>>> 	> Done. Current R only supports 10.6.8+ and so does XQuartz
> so the
> >>>>>> above
> >>>>>> 	> covers everything that is supported right now (I recall
> having
> >>>>>> that
> >>>>>> 	> discussion earlier...).
> >>>>>> 	>
> >>>>>> 	> Then you can have troubleshooting section which says
> >>>>>> 	>
> >>>>>> 	> a) make sure you installed R with Tcl/Tk (it is the
> default) -
> >>>>>> if in
> >>>>>> 	> doubt, re-install R from CRAN
> >>>>>> 	> b) use Software Update
> >>>>>> 	>
> >>>>>> 	> Then you can have a technical section with the details you
> show
> >>>>>> below,
> >>>>>> 	> but 99% of users should not need to read it.
> >>>>>> 	>
> >>>>>> 	> Cheers,
> >>>>>> 	> Simon
> >>>
> >>> . . .
> >>>
> >>>
> >>
> >>
> >> --
> >> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> >> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> >> University of Oxford,             Tel:  +44 1865 272861 (self)
> >> 1 South Parks Road,                     +44 1865 272866 (PA)
> >> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> >
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Sun Sep 22 01:45:57 2013
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 22 Sep 2013 01:45:57 +0200
Subject: [R-SIG-Mac] R and Mac distributions [Was: Problems loading Rcmdr on
	a Mac 10.7.2 and a Mac 10.6.8]
In-Reply-To: <101DFFF5-6CAD-47BF-8D50-BED62A785877@gmail.com>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
	<006001ceb56c$d336c340$79a449c0$@mcmaster.ca>
	<CAFg2G_tXaDDtOSacsMkCtkhC5j8jO_J5JLdWauGaRHNaDKDbCw@mail.gmail.com>
	<007f01ceb59b$ad0de390$0729aab0$@mcmaster.ca>
	<523BEFE1.7080401@stats.ox.ac.uk>
	<101DFFF5-6CAD-47BF-8D50-BED62A785877@gmail.com>
Message-ID: <CA608801-F033-4053-B35C-E18EC5D94D34@r-project.org>


On Sep 20, 2013, at 11:29 AM, peter dalgaard <pdalgd at gmail.com> wrote:

> 
> On Sep 20, 2013, at 08:49 , Prof Brian Ripley wrote:
>>> 
>> 
>> I am not so sure about that.  It will do no harm running CRAN binary R.  But it does mean that there are multiple versions of X11 things about and that will cause problems for other things (including possibly installing packages from source).
> 
> 
> Or, put differently, we could be shipping libraries that are incompatible with the system libraries (or 3rd party libraries for that matter) if those are not kept up to date. 
> 
> Of course, keeping versions compatible is exactly what package managers are for, on systems that have them. The way things work on commercial platforms tend to lead each applicationq into rolling everything you need into the application itself, which is - in the bigger perspective - wasteful and somewhat risky (as defective components only get replaced upon upgrade of the application). 
> 
> I know Simon distrusts them, but sometimes I do feel that we should work more closely with the people doing managed distributions for OSX, i.e. MacPorts, Homebrew, Fink. (Not sure how they'd cope with missing OS updates, though.)
> 

I don't have the time or resources to support more than one distribution. Given that the native port is what covers the vast majority of users, I feel that I'm spending my limited time well. However, I would certainly encourage people that want to create other R distributions to collaborate with us and I'd be very happy to share my experience and discuss issues with them. Historically, distributions like MacPorts or Fink had very poor quality of ports (to a point where R was not really working), mainly because the authors had apparently no idea about either R or OS X. I was never able to get any response to issues raised, so I gave up. The bright exception is Homebrew - it has much better design (it doesn't try to setup a parallel universe that breaks everything) and I was working with Max on technical issues in the early days, so the my experience was very positive. I didn't check it out recently (again, lack of spare time), but the design was very promising. 

Cheers,
Simon


> -- 
> Peter Dalgaard, Professor
> Center for Statistics, Copenhagen Business School
> Solbjerg Plads 3, 2000 Frederiksberg, Denmark
> Phone: (+45)38153501
> Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From dwight.hines at gmail.com  Sun Sep 22 17:02:18 2013
From: dwight.hines at gmail.com (Dwight Hines)
Date: Sun, 22 Sep 2013 11:02:18 -0400
Subject: [R-SIG-Mac] No problem installing R
Message-ID: <CANHAWSTOHKS2SXFWkfrAhfLYgrsarcX8zNpi3Ddccb6tG959nQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130922/8b221e82/attachment.pl>

From sarah.hardy at maine.edu  Mon Sep 23 06:48:09 2013
From: sarah.hardy at maine.edu (Sarah Hardy)
Date: Mon, 23 Sep 2013 00:48:09 -0400
Subject: [R-SIG-Mac] Problems loading Rcmdr on a Mac 10.7.2 and a Mac
	10.6.8
In-Reply-To: <web-474901749@cgpsrv2.cis.mcmaster.ca>
References: <CAFg2G_sxpPssO8UZR2ZcGc3XmK9c7cuaOPzverthBHe55VXf-g@mail.gmail.com>
	<web-474686070@cgpsrv2.cis.mcmaster.ca>
	<9FCF4DC7-5E35-4FDD-BF0C-0F4CB1F8EC39@comcast.net>
	<web-474720578@cgpsrv2.cis.mcmaster.ca>
	<AF56A2B6-BB65-40A5-9BAB-8BA69B3E4539@research.att.com>
	<001c01ceb544$b0031a40$10094ec0$@mcmaster.ca>
	<B374A24D-CEDB-48A2-896F-F0F8276460DC@r-project.org>
	<003701ceb54e$08f5b500$1ae11f00$@mcmaster.ca>
	<2AFBD29E-4EA6-4BFA-A63E-1F64783A175B@r-project.org>
	<006001ceb56c$d336c340$79a449c0$@mcmaster.ca>
	<CAFg2G_tXaDDtOSacsMkCtkhC5j8jO_J5JLdWauGaRHNaDKDbCw@mail.gmail.com>
	<007f01ceb59b$ad0de390$0729aab0$@mcmaster.ca>
	<523BEFE1.7080401@stats.ox.ac.uk>
	<web-474901749@cgpsrv2.cis.mcmaster.ca>
Message-ID: <CAFg2G_s=-xn+fhYsVMGsacpWLz_sit1GmPcOgS_OMJ6qGUR9cA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130923/f9ea353f/attachment.pl>

From Mark.Hebblewhite at umontana.edu  Tue Sep 24 14:45:38 2013
From: Mark.Hebblewhite at umontana.edu (Hebblewhite, Mark)
Date: Tue, 24 Sep 2013 12:45:38 +0000
Subject: [R-SIG-Mac] similar problems installing Rcmdr with R.
Message-ID: <CE674E77.139A8%mark.hebblewhite@mso.umt.edu>

I have recently installed R 3.0.1 on my MacBook Pro OS  X 10.8.5 (very new
version), and am experiencing similar problems that Sarah Hardy posted
almost a month ago. I similarly teach an introduction to R course to about
20 graduate students, many of whom use Mac's, but luckily not this
semester. I have used R for > 6 years, but am new (1 year) to MACs, but
expect that if I'm having this problem with 10.8.5, then others must be
too. 

 I have read through the entire thread of solutions for this problem on
this list serve, the notes on Joseph Fox's webpage
(http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation-notes.html)
 and have tried to do my absolute best to fix the problem myself and with
a colleague.  Here is a summary of my particulars:

1. I have a Mac OS X 10.8.5, and updated everything today.
2. I also installed the XQuartz package today, version 2.7.4 from last
Sept 2012.
3. I uninstalled R manually from my MAC (both moving old version to the
trash and cleaning out R directories)
4. I re-installed R (R 3.0.1 GUI 1.61 Snow Leopard build (6492) directly
from the CRAN (Italy) using this command:

install.packages("Rcmdr", dependencies = TRUE)

	5. I then followed the instructions for downloading Rcmdr package in both
the command line and from the R.app menu. I have also tried it from two
different CRAN sites. It downloaded and installed apparently fine as it
appears in my library files (version dated august 22)

The downloaded binary packages are in
	/var/folders/30/710s5wkn59959r6mfhmssyvrc0w434/T//RtmpGry9Bb/downloaded_pa
ckages

6. 	No matter what series of these steps I take, I receive the similar
error message as others:

 library(Rcmdr)

Error : .onLoad failed in loadNamespace() for 'tcltk', details:
  call: dyn.load(file, DLLpath = DLLpath, ...)
  error: unable to load shared object
'/Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/libs/
tcltk.so':
  
dlopen(/Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk
/libs/tcltk.so, 10): Library not loaded: /usr/local/lib/libtcl8.6.dylib
  Referenced from: 
/Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/libs/t
cltk.so
  Reason: no suitable image found.  Did find:
	/usr/local/lib/libtcl8.6.dylib: stat() failed with errno=13
	/usr/local/lib/libtcl8.6.dylib: stat() failed with errno=13
Error: package or namespace load failed for ?Rcmdr?

7. From previous posts on this list serve
[http://grokbase.com/t/r/r-sig-mac/138nv3tj17/unable-to-load-rcmdr-with-r-3
-0-1-on-a-mac-os-x-10-8-3] I followed this set of instructions to see
whether there were problems with my permissions:

> system("ls -ld /usr/local /usr/local/lib /usr/local/lib/libtcl*")
ls: /usr/local/lib: Permission denied
ls: /usr/local/lib/libtcl*: Permission denied
drwx------  8 root  wheel  272 Sep 24 10:21 /usr/local


8. But in my disk utilities I can see no clear disk permissions related to
R. I ran repair disk permissions earlier today and there was 1 R problem
but that?s been apparently fixed.

My own troubleshooting abilities are at an end.

As best I can determine, it seems as if the XQuartz version I downloaded
might not be working with my Mac OSX 10.8.5, but beyond that I really have
no clue how best to proceed.

thanks very much for your patience with this problem and with me if my
query is na?ve in anyway.

Sincerely,

Mark Hebblewhite
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Wildlife Biology Program
Department of Ecosystem and Conservation Sciences
College of Forestry and Conservation
University of Montana
32 Campus Drive
Missoula, MT, 59812
Phone: 1-406-243-6675
Email: mark.hebblewhite at umontana.edu
Website: http://www.cfc.umt.edu/Heblab/
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

-------------- next part --------------
A non-text attachment was scrubbed...
Name: BB12F55E-E208-43FA-9D98-CCD7374AA5C9[1].png
Type: image/png
Size: 44276 bytes
Desc: BB12F55E-E208-43FA-9D98-CCD7374AA5C9[1].png
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130924/f3d429f2/attachment-0001.png>

From rsparapa at mcw.edu  Tue Sep 24 15:48:08 2013
From: rsparapa at mcw.edu (Rodney Sparapani)
Date: Tue, 24 Sep 2013 08:48:08 -0500
Subject: [R-SIG-Mac] similar problems installing Rcmdr with R.
In-Reply-To: <CE674E77.139A8%mark.hebblewhite@mso.umt.edu>
References: <CE674E77.139A8%mark.hebblewhite@mso.umt.edu>
Message-ID: <52419818.1050408@mcw.edu>

On 09/24/2013 07:45 AM, Hebblewhite, Mark wrote:
> 7. From previous posts on this list serve
> [http://grokbase.com/t/r/r-sig-mac/138nv3tj17/unable-to-load-rcmdr-with-r-3
> -0-1-on-a-mac-os-x-10-8-3] I followed this set of instructions to see
> whether there were problems with my permissions:
>
>> >system("ls -ld /usr/local /usr/local/lib /usr/local/lib/libtcl*")
> ls: /usr/local/lib: Permission denied
> ls: /usr/local/lib/libtcl*: Permission denied
> drwx------  8 root  wheel  272 Sep 24 10:21 /usr/local
>
>
> 8. But in my disk utilities I can see no clear disk permissions related to
> R. I ran repair disk permissions earlier today and there was 1 R problem
> but that?s been apparently fixed.

Hi Mark:

I am assuming you came to Mac from Windows, rather than UNIX/Linux,
right?  On Mac OS X (and UNIX/Linux in general), you need to have 
permission to read/write/execute files.  But, I think you can fix
this rather easily.  In a terminal...
% sudo zsh
# chmod -R 755 /usr/local

-- 
Rodney Sparapani, PhD
Manager of Statistical & Computational Operations
Center for Patient Care and Outcomes Research (PCOR)
Medical College of Wisconsin (MCW), Milwaukee, USA
http://www.linkedin.com/in/rodneysparapani


From jfox at mcmaster.ca  Tue Sep 24 18:24:37 2013
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 24 Sep 2013 12:24:37 -0400
Subject: [R-SIG-Mac] similar problems installing Rcmdr with R.
In-Reply-To: <CE674E77.139A8%mark.hebblewhite@mso.umt.edu>
References: <CE674E77.139A8%mark.hebblewhite@mso.umt.edu>
Message-ID: <004701ceb942$906dd420$b1497c60$@mcmaster.ca>

Dear Mark,

As was the case with other similar recent problems, this issue appears to
pertain to the tcltk package and only indirectly to the Rcmdr. You can
verify that by trying to load tcltk directly via library(tcltk).

I assume that when you say that you updated everything, that included
running Mac OS X Software Update.

As you point out, your problem appears to be similar to an earlier problem
reported by Sarah Hardy at
<http://grokbase.com/t/r/r-sig-mac/138nv3tj17/unable-to-load-rcmdr-with-r-3-
0-1-on-a-mac-os-x-10-8-3>. In her case, fixing the files permissions fixed
the problem, as indicated in the same thread. Did 

	sudo chmod a+rx /usr/local/*

work for you as it did for her? (I see that Rodney Sparapani has just made
an equivalent suggestion.)

Another question, assuming that this fix works, is why you experienced the
problem in the first place. In Sarah's case, the permissions were screwed up
by MacPorts.

I'm copying this response to Simon Urbanek to make sure that he's aware of
this thread (though there's no need for Simon to respond if fixing the
permissions works).

I hope this helps,
 John

> -----Original Message-----
> From: r-sig-mac-bounces at r-project.org [mailto:r-sig-mac-bounces at r-
> project.org] On Behalf Of Hebblewhite, Mark
> Sent: Tuesday, September 24, 2013 8:46 AM
> To: r-sig-mac at r-project.org
> Subject: [R-SIG-Mac] similar problems installing Rcmdr with R.
> 
> I have recently installed R 3.0.1 on my MacBook Pro OS  X 10.8.5 (very
> new
> version), and am experiencing similar problems that Sarah Hardy posted
> almost a month ago. I similarly teach an introduction to R course to
> about
> 20 graduate students, many of whom use Mac's, but luckily not this
> semester. I have used R for > 6 years, but am new (1 year) to MACs, but
> expect that if I'm having this problem with 10.8.5, then others must be
> too.
> 
>  I have read through the entire thread of solutions for this problem on
> this list serve, the notes on Joseph Fox's webpage
> (http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation-
> notes.html)
>  and have tried to do my absolute best to fix the problem myself and
> with
> a colleague.  Here is a summary of my particulars:
> 
> 1. I have a Mac OS X 10.8.5, and updated everything today.
> 2. I also installed the XQuartz package today, version 2.7.4 from last
> Sept 2012.
> 3. I uninstalled R manually from my MAC (both moving old version to the
> trash and cleaning out R directories)
> 4. I re-installed R (R 3.0.1 GUI 1.61 Snow Leopard build (6492)
> directly
> from the CRAN (Italy) using this command:
> 
> install.packages("Rcmdr", dependencies = TRUE)
> 
> 	5. I then followed the instructions for downloading Rcmdr package
> in both
> the command line and from the R.app menu. I have also tried it from two
> different CRAN sites. It downloaded and installed apparently fine as it
> appears in my library files (version dated august 22)
> 
> The downloaded binary packages are in
> 	/var/folders/30/710s5wkn59959r6mfhmssyvrc0w434/T//RtmpGry9Bb/downl
> oaded_pa
> ckages
> 
> 6. 	No matter what series of these steps I take, I receive the similar
> error message as others:
> 
>  library(Rcmdr)
> 
> Error : .onLoad failed in loadNamespace() for 'tcltk', details:
>   call: dyn.load(file, DLLpath = DLLpath, ...)
>   error: unable to load shared object
> '/Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/l
> ibs/
> tcltk.so':
> 
> dlopen(/Library/Frameworks/R.framework/Versions/3.0/Resources/library/t
> cltk
> /libs/tcltk.so, 10): Library not loaded: /usr/local/lib/libtcl8.6.dylib
>   Referenced from:
> /Library/Frameworks/R.framework/Versions/3.0/Resources/library/tcltk/li
> bs/t
> cltk.so
>   Reason: no suitable image found.  Did find:
> 	/usr/local/lib/libtcl8.6.dylib: stat() failed with errno=13
> 	/usr/local/lib/libtcl8.6.dylib: stat() failed with errno=13
> Error: package or namespace load failed for ?Rcmdr?
> 
> 7. From previous posts on this list serve
> [http://grokbase.com/t/r/r-sig-mac/138nv3tj17/unable-to-load-rcmdr-
> with-r-3
> -0-1-on-a-mac-os-x-10-8-3] I followed this set of instructions to see
> whether there were problems with my permissions:
> 
> > system("ls -ld /usr/local /usr/local/lib /usr/local/lib/libtcl*")
> ls: /usr/local/lib: Permission denied
> ls: /usr/local/lib/libtcl*: Permission denied
> drwx------  8 root  wheel  272 Sep 24 10:21 /usr/local
> 
> 
> 8. But in my disk utilities I can see no clear disk permissions related
> to
> R. I ran repair disk permissions earlier today and there was 1 R
> problem
> but that?s been apparently fixed.
> 
> My own troubleshooting abilities are at an end.
> 
> As best I can determine, it seems as if the XQuartz version I
> downloaded
> might not be working with my Mac OSX 10.8.5, but beyond that I really
> have
> no clue how best to proceed.
> 
> thanks very much for your patience with this problem and with me if my
> query is na?ve in anyway.
> 
> Sincerely,
> 
> Mark Hebblewhite
> >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
> Wildlife Biology Program
> Department of Ecosystem and Conservation Sciences
> College of Forestry and Conservation
> University of Montana
> 32 Campus Drive
> Missoula, MT, 59812
> Phone: 1-406-243-6675
> Email: mark.hebblewhite at umontana.edu
> Website: http://www.cfc.umt.edu/Heblab/
> >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


From Mark.Hebblewhite at umontana.edu  Tue Sep 24 18:32:11 2013
From: Mark.Hebblewhite at umontana.edu (Hebblewhite, Mark)
Date: Tue, 24 Sep 2013 16:32:11 +0000
Subject: [R-SIG-Mac] similar problems installing Rcmdr with R.
In-Reply-To: <004701ceb942$906dd420$b1497c60$@mcmaster.ca>
Message-ID: <CE678AA6.13AFC%mark.hebblewhite@mso.umt.edu>

Yes, the solution proposed by Rodney Sparapani below worked to fix my
problem, but was a slightly different command than proposed to Sarah
earlier. 


Thanks very much Rodney! It will be challenging to fix this problem,
however, for other 'na?ve' users of MAC if the solution is different each
time. 

Thanks very much John, Simon and Rodney!

On 09/24/2013 07:45 AM, Hebblewhite, Mark wrote:
>7. From previous posts on this list serve
>[http://grokbase.com/t/r/r-sig-mac/138nv3tj17/unable-to-load-rcmdr-with-r-
>3
>-0-1-on-a-mac-os-x-10-8-3] I followed this set of instructions to see
>whether there were problems with my permissions:
>
>>>system("ls -ld /usr/local /usr/local/lib /usr/local/lib/libtcl*")
>ls: /usr/local/lib: Permission denied
>ls: /usr/local/lib/libtcl*: Permission denied
>drwx------  8 root  wheel  272 Sep 24 10:21 /usr/local
>
>
>8. But in my disk utilities I can see no clear disk permissions related to
>R. I ran repair disk permissions earlier today and there was 1 R problem
>but that?s been apparently fixed.

Hi Mark:

I am assuming you came to Mac from Windows, rather than UNIX/Linux,
right?  On Mac OS X (and UNIX/Linux in general), you need to have
permission to read/write/execute files.  But, I think you can fix
this rather easily.  In a terminal...
% sudo zsh
# chmod -R 755 /usr/local


>


From pjo at cisunix.unh.edu  Tue Sep 24 19:01:19 2013
From: pjo at cisunix.unh.edu (Paul Ossenbruggen)
Date: Tue, 24 Sep 2013 13:01:19 -0400
Subject: [R-SIG-Mac] XQuartz
Message-ID: <93EDCE72-DF16-4FCF-90CB-E45C3D704728@cisunix.unh.edu>

I am generating within a loop a large number of XQuartz images. I know that I can use the Save As command to save each one individually. This is very time consuming and tedious. Is it possible to save them  automatically with a R script command?

Thanks for any tip that one can offer.

Paul


From raerickson at gmail.com  Tue Sep 24 19:16:49 2013
From: raerickson at gmail.com (R Erickson)
Date: Tue, 24 Sep 2013 12:16:49 -0500
Subject: [R-SIG-Mac] XQuartz
In-Reply-To: <93EDCE72-DF16-4FCF-90CB-E45C3D704728@cisunix.unh.edu>
References: <93EDCE72-DF16-4FCF-90CB-E45C3D704728@cisunix.unh.edu>
Message-ID: <CAMOc9SmKwm82bOoO0mQmy30-uSOwTktMCCTNiKpJPskA1daZZw@mail.gmail.com>

Hi Paul,

Rather than use XQuartz, avoid "printing" the image and use the
pdf()/def.off() commands. Here's an example that I think answers your
question:

for(i in 1:10){
x <- i*1:10
y <- sqrt(x)
pdf(paste("File",i,".pdf",sep=""))
plot(x,y, main = paste("Test Case",i),type = 'l')
dev.off()
}

Note that the paste function gives you the file name within the pdf
function. Check out the ?pdf file to see how to change the width,
height, or file type.

If you are using ggplot2, ggsave can do similar things.

Does this help?

Richard

On Tue, Sep 24, 2013 at 12:01 PM, Paul Ossenbruggen <pjo at cisunix.unh.edu> wrote:
> I am generating within a loop a large number of XQuartz images. I know that I can use the Save As command to save each one individually. This is very time consuming and tedious. Is it possible to save them  automatically with a R script command?
>
> Thanks for any tip that one can offer.
>
> Paul
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jfox at mcmaster.ca  Tue Sep 24 20:34:24 2013
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 24 Sep 2013 14:34:24 -0400
Subject: [R-SIG-Mac] similar problems installing Rcmdr with R.
In-Reply-To: <CE678AA6.13AFC%mark.hebblewhite@mso.umt.edu>
References: <004701ceb942$906dd420$b1497c60$@mcmaster.ca>
	<CE678AA6.13AFC%mark.hebblewhite@mso.umt.edu>
Message-ID: <006001ceb954$b223dfd0$166b9f70$@mcmaster.ca>

Dear Mark,

> -----Original Message-----
> From: Hebblewhite, Mark [mailto:Mark.Hebblewhite at umontana.edu]
> Sent: Tuesday, September 24, 2013 12:32 PM
> To: John Fox
> Cc: r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] similar problems installing Rcmdr with R.
> 
> Yes, the solution proposed by Rodney Sparapani below worked to fix my
> problem, but was a slightly different command than proposed to Sarah
> earlier.
> 
> 
> Thanks very much Rodney! It will be challenging to fix this problem,
> however, for other 'na?ve' users of MAC if the solution is different
> each
> time.
> 

Just to be clear:

	sudo chmod a+rx /usr/local/*

didn't work, but

	sudo zsh
	chmod -R 755 /usr/local

did work?

Frankly, I don't get that, since the first command should insure that
everyone has (at least) read and execute permission (i.e., level 5).

I think that I'll add a trouble-shooting section to the Rcmdr Mac
installation notes, but I would like to understand why one approach worked
here and not the other.

Best,
 John

> Thanks very much John, Simon and Rodney!
> 
> On 09/24/2013 07:45 AM, Hebblewhite, Mark wrote:
> >7. From previous posts on this list serve
> >[http://grokbase.com/t/r/r-sig-mac/138nv3tj17/unable-to-load-rcmdr-
> with-r-
> >3
> >-0-1-on-a-mac-os-x-10-8-3] I followed this set of instructions to see
> >whether there were problems with my permissions:
> >
> >>>system("ls -ld /usr/local /usr/local/lib /usr/local/lib/libtcl*")
> >ls: /usr/local/lib: Permission denied
> >ls: /usr/local/lib/libtcl*: Permission denied
> >drwx------  8 root  wheel  272 Sep 24 10:21 /usr/local
> >
> >
> >8. But in my disk utilities I can see no clear disk permissions
> related to
> >R. I ran repair disk permissions earlier today and there was 1 R
> problem
> >but that?s been apparently fixed.
> 
> Hi Mark:
> 
> I am assuming you came to Mac from Windows, rather than UNIX/Linux,
> right?  On Mac OS X (and UNIX/Linux in general), you need to have
> permission to read/write/execute files.  But, I think you can fix
> this rather easily.  In a terminal...
> % sudo zsh
> # chmod -R 755 /usr/local
> 
> 
> >


From rsparapa at mcw.edu  Tue Sep 24 20:43:21 2013
From: rsparapa at mcw.edu (Rodney Sparapani)
Date: Tue, 24 Sep 2013 13:43:21 -0500
Subject: [R-SIG-Mac] similar problems installing Rcmdr with R.
In-Reply-To: <006001ceb954$b223dfd0$166b9f70$@mcmaster.ca>
References: <004701ceb942$906dd420$b1497c60$@mcmaster.ca>
	<CE678AA6.13AFC%mark.hebblewhite@mso.umt.edu>
	<006001ceb954$b223dfd0$166b9f70$@mcmaster.ca>
Message-ID: <5241DD49.50604@mcw.edu>

On 09/24/2013 01:34 PM, John Fox wrote:
> Just to be clear:
>
> 	sudo chmod a+rx/usr/local/*
>
> didn't work, but
>
> 	sudo zsh
> 	chmod -R 755 /usr/local
>
> did work?
>
> Frankly, I don't get that, since the first command should insure that
> everyone has (at least) read and execute permission (i.e., level 5).
>
> I think that I'll add a trouble-shooting section to the Rcmdr Mac
> installation notes, but I would like to understand why one approach worked
> here and not the other.
>
> Best,
>   John

Hi John:

That makes sense.  sudo chmod a+rx /usr/local/* does not descend into
the subdirectories.  To make that work, you need
sudo chmod -R a+rx /usr/local

-- 
Rodney Sparapani, PhD
Manager of Statistical & Computational Operations
Center for Patient Care and Outcomes Research (PCOR)
Medical College of Wisconsin (MCW), Milwaukee, USA
http://www.linkedin.com/in/rodneysparapani


From jfox at mcmaster.ca  Tue Sep 24 20:49:01 2013
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 24 Sep 2013 14:49:01 -0400
Subject: [R-SIG-Mac] similar problems installing Rcmdr with R.
In-Reply-To: <5241DD49.50604@mcw.edu>
References: <004701ceb942$906dd420$b1497c60$@mcmaster.ca>
	<CE678AA6.13AFC%mark.hebblewhite@mso.umt.edu>
	<006001ceb954$b223dfd0$166b9f70$@mcmaster.ca>
	<5241DD49.50604@mcw.edu>
Message-ID: <006501ceb956$bcf1eae0$36d5c0a0$@mcmaster.ca>

Hi Rodney,

Thanks for the explanation. I guess that Sarah's but not Mark's
file-permission problems were all at the first level of usr/local/.

Best,
 John

> -----Original Message-----
> From: Rodney Sparapani [mailto:rsparapa at mcw.edu]
> Sent: Tuesday, September 24, 2013 2:43 PM
> To: John Fox
> Cc: 'Hebblewhite, Mark'; r-sig-mac at r-project.org; Simon Urbanek
> Subject: Re: [R-SIG-Mac] similar problems installing Rcmdr with R.
> 
> On 09/24/2013 01:34 PM, John Fox wrote:
> > Just to be clear:
> >
> > 	sudo chmod a+rx/usr/local/*
> >
> > didn't work, but
> >
> > 	sudo zsh
> > 	chmod -R 755 /usr/local
> >
> > did work?
> >
> > Frankly, I don't get that, since the first command should insure that
> > everyone has (at least) read and execute permission (i.e., level 5).
> >
> > I think that I'll add a trouble-shooting section to the Rcmdr Mac
> > installation notes, but I would like to understand why one approach
> worked
> > here and not the other.
> >
> > Best,
> >   John
> 
> Hi John:
> 
> That makes sense.  sudo chmod a+rx /usr/local/* does not descend into
> the subdirectories.  To make that work, you need
> sudo chmod -R a+rx /usr/local
> 
> --
> Rodney Sparapani, PhD
> Manager of Statistical & Computational Operations
> Center for Patient Care and Outcomes Research (PCOR)
> Medical College of Wisconsin (MCW), Milwaukee, USA
> http://www.linkedin.com/in/rodneysparapani


From michael.weylandt at gmail.com  Tue Sep 24 23:19:51 2013
From: michael.weylandt at gmail.com (R. Michael Weylandt <michael.weylandt@gmail.com>)
Date: Tue, 24 Sep 2013 17:19:51 -0400
Subject: [R-SIG-Mac] XQuartz
In-Reply-To: <CAMOc9SmKwm82bOoO0mQmy30-uSOwTktMCCTNiKpJPskA1daZZw@mail.gmail.com>
References: <93EDCE72-DF16-4FCF-90CB-E45C3D704728@cisunix.unh.edu>
	<CAMOc9SmKwm82bOoO0mQmy30-uSOwTktMCCTNiKpJPskA1daZZw@mail.gmail.com>
Message-ID: <2A0D09E4-5D12-45B0-AED5-377F2222A9F6@gmail.com>



On Sep 24, 2013, at 13:16, R Erickson <raerickson at gmail.com> wrote:

> Hi Paul,
> 
> Rather than use XQuartz, avoid "printing" the image and use the
> pdf()/def.off() commands. Here's an example that I think answers your
> question:
> 
> for(i in 1:10){
> x <- i*1:10
> y <- sqrt(x)
> pdf(paste("File",i,".pdf",sep=""))
> plot(x,y, main = paste("Test Case",i),type = 'l')
> dev.off()
> }

Or, move pdf() before and dev.off() after the loop and make one big file with all the graphs on different pages.

M
> 
> Note that the paste function gives you the file name within the pdf
> function. Check out the ?pdf file to see how to change the width,
> height, or file type.
> 
> If you are using ggplot2, ggsave can do similar things.
> 
> Does this help?
> 
> Richard
> 
> On Tue, Sep 24, 2013 at 12:01 PM, Paul Ossenbruggen <pjo at cisunix.unh.edu> wrote:
>> I am generating within a loop a large number of XQuartz images. I know that I can use the Save As command to save each one individually. This is very time consuming and tedious. Is it possible to save them  automatically with a R script command?
>> 
>> Thanks for any tip that one can offer.
>> 
>> Paul
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jfox at mcmaster.ca  Wed Sep 25 02:57:39 2013
From: jfox at mcmaster.ca (John Fox)
Date: Tue, 24 Sep 2013 20:57:39 -0400
Subject: [R-SIG-Mac] similar problems installing Rcmdr with R.
In-Reply-To: <5241DD49.50604@mcw.edu>
References: <004701ceb942$906dd420$b1497c60$@mcmaster.ca>
	<CE678AA6.13AFC%mark.hebblewhite@mso.umt.edu>
	<006001ceb954$b223dfd0$166b9f70$@mcmaster.ca>
	<5241DD49.50604@mcw.edu>
Message-ID: <00bf01ceb98a$3c05c6c0$b4115440$@mcmaster.ca>

Hi Rodney,

I've added a section on "Mac OS X Trouble-shooting" to the Rcmdr
installation notes at
<http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation-notes.html>,
with explicit instructions on the recent problems experienced by Sarah and
Mark. I'd appreciate it if you could take a look at this to see whether the
instructions are clear. Also, are there other cases that I should cover?

Thanks,
 John

> -----Original Message-----
> From: Rodney Sparapani [mailto:rsparapa at mcw.edu]
> Sent: Tuesday, September 24, 2013 2:43 PM
> To: John Fox
> Cc: 'Hebblewhite, Mark'; r-sig-mac at r-project.org; Simon Urbanek
> Subject: Re: [R-SIG-Mac] similar problems installing Rcmdr with R.
> 
> On 09/24/2013 01:34 PM, John Fox wrote:
> > Just to be clear:
> >
> > 	sudo chmod a+rx/usr/local/*
> >
> > didn't work, but
> >
> > 	sudo zsh
> > 	chmod -R 755 /usr/local
> >
> > did work?
> >
> > Frankly, I don't get that, since the first command should insure that
> > everyone has (at least) read and execute permission (i.e., level 5).
> >
> > I think that I'll add a trouble-shooting section to the Rcmdr Mac
> > installation notes, but I would like to understand why one approach
> worked
> > here and not the other.
> >
> > Best,
> >   John
> 
> Hi John:
> 
> That makes sense.  sudo chmod a+rx /usr/local/* does not descend into
> the subdirectories.  To make that work, you need
> sudo chmod -R a+rx /usr/local
> 
> --
> Rodney Sparapani, PhD
> Manager of Statistical & Computational Operations
> Center for Patient Care and Outcomes Research (PCOR)
> Medical College of Wisconsin (MCW), Milwaukee, USA
> http://www.linkedin.com/in/rodneysparapani


From simon.urbanek at r-project.org  Wed Sep 25 08:30:17 2013
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 25 Sep 2013 08:30:17 +0200
Subject: [R-SIG-Mac] similar problems installing Rcmdr with R.
In-Reply-To: <006001ceb954$b223dfd0$166b9f70$@mcmaster.ca>
References: <004701ceb942$906dd420$b1497c60$@mcmaster.ca>
	<CE678AA6.13AFC%mark.hebblewhite@mso.umt.edu>
	<006001ceb954$b223dfd0$166b9f70$@mcmaster.ca>
Message-ID: <46A9032B-00D8-4712-BBBD-4AC04190ACC2@r-project.org>


On Sep 24, 2013, at 8:34 PM, John Fox <jfox at mcmaster.ca> wrote:

> Dear Mark,
> 
>> -----Original Message-----
>> From: Hebblewhite, Mark [mailto:Mark.Hebblewhite at umontana.edu]
>> Sent: Tuesday, September 24, 2013 12:32 PM
>> To: John Fox
>> Cc: r-sig-mac at r-project.org
>> Subject: Re: [R-SIG-Mac] similar problems installing Rcmdr with R.
>> 
>> Yes, the solution proposed by Rodney Sparapani below worked to fix my
>> problem, but was a slightly different command than proposed to Sarah
>> earlier.
>> 
>> 
>> Thanks very much Rodney! It will be challenging to fix this problem,
>> however, for other 'na?ve' users of MAC if the solution is different
>> each
>> time.
>> 
> 
> Just to be clear:
> 
> 	sudo chmod a+rx /usr/local/*
> 
> didn't work, but
> 
> 	sudo zsh
> 	chmod -R 755 /usr/local
> 
> did work?
> 


The later is bad, do NOT use it! It will set exec permissions on *everything* even files are are not supposed to be executable.
You probably want

sudo chmod -R a+rX /usr/local

Cheers,
Simon



> Frankly, I don't get that, since the first command should insure that
> everyone has (at least) read and execute permission (i.e., level 5).
> 
> I think that I'll add a trouble-shooting section to the Rcmdr Mac
> installation notes, but I would like to understand why one approach worked
> here and not the other.
> 
> Best,
> John
> 
>> Thanks very much John, Simon and Rodney!
>> 
>> On 09/24/2013 07:45 AM, Hebblewhite, Mark wrote:
>>> 7. From previous posts on this list serve
>>> [http://grokbase.com/t/r/r-sig-mac/138nv3tj17/unable-to-load-rcmdr-
>> with-r-
>>> 3
>>> -0-1-on-a-mac-os-x-10-8-3] I followed this set of instructions to see
>>> whether there were problems with my permissions:
>>> 
>>>>> system("ls -ld /usr/local /usr/local/lib /usr/local/lib/libtcl*")
>>> ls: /usr/local/lib: Permission denied
>>> ls: /usr/local/lib/libtcl*: Permission denied
>>> drwx------  8 root  wheel  272 Sep 24 10:21 /usr/local
>>> 
>>> 
>>> 8. But in my disk utilities I can see no clear disk permissions
>> related to
>>> R. I ran repair disk permissions earlier today and there was 1 R
>> problem
>>> but that?s been apparently fixed.
>> 
>> Hi Mark:
>> 
>> I am assuming you came to Mac from Windows, rather than UNIX/Linux,
>> right?  On Mac OS X (and UNIX/Linux in general), you need to have
>> permission to read/write/execute files.  But, I think you can fix
>> this rather easily.  In a terminal...
>> % sudo zsh
>> # chmod -R 755 /usr/local
>> 
>> 
>>> 
> 
> 


From Mark.Hebblewhite at umontana.edu  Wed Sep 25 09:17:01 2013
From: Mark.Hebblewhite at umontana.edu (Hebblewhite, Mark)
Date: Wed, 25 Sep 2013 07:17:01 +0000
Subject: [R-SIG-Mac] similar problems installing Rcmdr with R.
In-Reply-To: <46A9032B-00D8-4712-BBBD-4AC04190ACC2@r-project.org>
Message-ID: <CE68599D.13B67%mark.hebblewhite@mso.umt.edu>

Yes, originally, 


1) sudo chmod a+rx/usr/local/* did not work but

2) sudo zsh
chmod -R 755/usr/local

did work.

However, at your advice, Simon, I've gone and entered

3) sudo chmod -R a+rX /usr/local


in terminal, and now Rcmdr works.

Is there something else I should do to 'reverse' the 2nd incorrect command?

Incidentally, this is obviously a broader problem and I encountered
similar problems with other packages like adehabitat.

Thanks SO much for all your assistance and help, especially for updating
the help files for Rcmdr John. I will ask some of my current graduate
students to test it out on their Mac's too.

thanks again!

Mark Hebblewhite




On 9/25/13 8:30 AM, "Simon Urbanek" <simon.urbanek at r-project.org> wrote:

>
>On Sep 24, 2013, at 8:34 PM, John Fox <jfox at mcmaster.ca> wrote:
>
>> Dear Mark,
>> 
>>> -----Original Message-----
>>> From: Hebblewhite, Mark [mailto:Mark.Hebblewhite at umontana.edu]
>>> Sent: Tuesday, September 24, 2013 12:32 PM
>>> To: John Fox
>>> Cc: r-sig-mac at r-project.org
>>> Subject: Re: [R-SIG-Mac] similar problems installing Rcmdr with R.
>>> 
>>> Yes, the solution proposed by Rodney Sparapani below worked to fix my
>>> problem, but was a slightly different command than proposed to Sarah
>>> earlier.
>>> 
>>> 
>>> Thanks very much Rodney! It will be challenging to fix this problem,
>>> however, for other 'na?ve' users of MAC if the solution is different
>>> each
>>> time.
>>> 
>> 
>> Just to be clear:
>> 
>> 	sudo chmod a+rx /usr/local/*
>> 
>> didn't work, but
>> 
>> 	sudo zsh
>> 	chmod -R 755 /usr/local
>> 
>> did work?
>> 
>
>
>The later is bad, do NOT use it! It will set exec permissions on
>*everything* even files are are not supposed to be executable.
>You probably want
>
>sudo chmod -R a+rX /usr/local
>
>Cheers,
>Simon
>
>
>
>> Frankly, I don't get that, since the first command should insure that
>> everyone has (at least) read and execute permission (i.e., level 5).
>> 
>> I think that I'll add a trouble-shooting section to the Rcmdr Mac
>> installation notes, but I would like to understand why one approach
>>worked
>> here and not the other.
>> 
>> Best,
>> John
>> 
>>> Thanks very much John, Simon and Rodney!
>>> 
>>> On 09/24/2013 07:45 AM, Hebblewhite, Mark wrote:
>>>> 7. From previous posts on this list serve
>>>> [http://grokbase.com/t/r/r-sig-mac/138nv3tj17/unable-to-load-rcmdr-
>>> with-r-
>>>> 3
>>>> -0-1-on-a-mac-os-x-10-8-3] I followed this set of instructions to see
>>>> whether there were problems with my permissions:
>>>> 
>>>>>> system("ls -ld /usr/local /usr/local/lib /usr/local/lib/libtcl*")
>>>> ls: /usr/local/lib: Permission denied
>>>> ls: /usr/local/lib/libtcl*: Permission denied
>>>> drwx------  8 root  wheel  272 Sep 24 10:21 /usr/local
>>>> 
>>>> 
>>>> 8. But in my disk utilities I can see no clear disk permissions
>>> related to
>>>> R. I ran repair disk permissions earlier today and there was 1 R
>>> problem
>>>> but that?s been apparently fixed.
>>> 
>>> Hi Mark:
>>> 
>>> I am assuming you came to Mac from Windows, rather than UNIX/Linux,
>>> right?  On Mac OS X (and UNIX/Linux in general), you need to have
>>> permission to read/write/execute files.  But, I think you can fix
>>> this rather easily.  In a terminal...
>>> % sudo zsh
>>> # chmod -R 755 /usr/local
>>> 
>>> 
>>>> 
>> 
>> 
>


From raerickson at gmail.com  Wed Sep 25 14:31:05 2013
From: raerickson at gmail.com (R Erickson)
Date: Wed, 25 Sep 2013 07:31:05 -0500
Subject: [R-SIG-Mac] XQuartz
In-Reply-To: <2A0D09E4-5D12-45B0-AED5-377F2222A9F6@gmail.com>
References: <93EDCE72-DF16-4FCF-90CB-E45C3D704728@cisunix.unh.edu>
	<CAMOc9SmKwm82bOoO0mQmy30-uSOwTktMCCTNiKpJPskA1daZZw@mail.gmail.com>
	<2A0D09E4-5D12-45B0-AED5-377F2222A9F6@gmail.com>
Message-ID: <CAMOc9S=uhUA3Ln337boBJ9gkEkx7=qPN880y+3AZQ3Lo-1Psow@mail.gmail.com>

Thanks for sharing this! I always wondered what was the trick for
creating multistage PDFs from R.

On Tue, Sep 24, 2013 at 4:19 PM, R. Michael Weylandt
<michael.weylandt at gmail.com> <michael.weylandt at gmail.com> wrote:
>
>
> On Sep 24, 2013, at 13:16, R Erickson <raerickson at gmail.com> wrote:
>
>> Hi Paul,
>>
>> Rather than use XQuartz, avoid "printing" the image and use the
>> pdf()/def.off() commands. Here's an example that I think answers your
>> question:
>>
>> for(i in 1:10){
>> x <- i*1:10
>> y <- sqrt(x)
>> pdf(paste("File",i,".pdf",sep=""))
>> plot(x,y, main = paste("Test Case",i),type = 'l')
>> dev.off()
>> }
>
> Or, move pdf() before and dev.off() after the loop and make one big file with all the graphs on different pages.
>
> M
>>
>> Note that the paste function gives you the file name within the pdf
>> function. Check out the ?pdf file to see how to change the width,
>> height, or file type.
>>
>> If you are using ggplot2, ggsave can do similar things.
>>
>> Does this help?
>>
>> Richard
>>
>> On Tue, Sep 24, 2013 at 12:01 PM, Paul Ossenbruggen <pjo at cisunix.unh.edu> wrote:
>>> I am generating within a loop a large number of XQuartz images. I know that I can use the Save As command to save each one individually. This is very time consuming and tedious. Is it possible to save them  automatically with a R script command?
>>>
>>> Thanks for any tip that one can offer.
>>>
>>> Paul
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jfox at mcmaster.ca  Wed Sep 25 14:32:00 2013
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 25 Sep 2013 08:32:00 -0400
Subject: [R-SIG-Mac] similar problems installing Rcmdr with R.
In-Reply-To: <46A9032B-00D8-4712-BBBD-4AC04190ACC2@r-project.org>
References: <004701ceb942$906dd420$b1497c60$@mcmaster.ca>
	<CE678AA6.13AFC%mark.hebblewhite@mso.umt.edu>
	<006001ceb954$b223dfd0$166b9f70$@mcmaster.ca>
	<46A9032B-00D8-4712-BBBD-4AC04190ACC2@r-project.org>
Message-ID: <000001ceb9eb$3c000350$b40009f0$@mcmaster.ca>

Dear Simon,

> -----Original Message-----
> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> Sent: Wednesday, September 25, 2013 2:30 AM
> To: John Fox
> Cc: 'Hebblewhite, Mark'; r-sig-mac at r-project.org; 'Rodney Sparapani'
> Subject: Re: [R-SIG-Mac] similar problems installing Rcmdr with R.
> 
> 
> On Sep 24, 2013, at 8:34 PM, John Fox <jfox at mcmaster.ca> wrote:
> 
> > Dear Mark,
> >
> >> -----Original Message-----
> >> From: Hebblewhite, Mark [mailto:Mark.Hebblewhite at umontana.edu]
> >> Sent: Tuesday, September 24, 2013 12:32 PM
> >> To: John Fox
> >> Cc: r-sig-mac at r-project.org
> >> Subject: Re: [R-SIG-Mac] similar problems installing Rcmdr with R.
> >>
> >> Yes, the solution proposed by Rodney Sparapani below worked to fix
> my
> >> problem, but was a slightly different command than proposed to Sarah
> >> earlier.
> >>
> >>
> >> Thanks very much Rodney! It will be challenging to fix this problem,
> >> however, for other 'na?ve' users of MAC if the solution is different
> >> each
> >> time.
> >>
> >
> > Just to be clear:
> >
> > 	sudo chmod a+rx /usr/local/*
> >
> > didn't work, but
> >
> > 	sudo zsh
> > 	chmod -R 755 /usr/local
> >
> > did work?
> >
> 
> 
> The later is bad, do NOT use it! It will set exec permissions on
> *everything* even files are are not supposed to be executable.
> You probably want
> 
> sudo chmod -R a+rX /usr/local

Yes, that's better than what I had in the troubleshooting section of the
Rcmdr installation notes, which was 

  sudo chmod -R a+rx /usr/local

and which, as you say, would set execute permission for files as well as
directories. I've fixed that now.

When I first read Mark's message, I didn't realize that there were
subdirectories below /usr/local that might also have incorrectly set
permissions.

Thanks,
 John

> 
> Cheers,
> Simon
> 
> 
> 
> > Frankly, I don't get that, since the first command should insure that
> > everyone has (at least) read and execute permission (i.e., level 5).
> >
> > I think that I'll add a trouble-shooting section to the Rcmdr Mac
> > installation notes, but I would like to understand why one approach
> worked
> > here and not the other.
> >
> > Best,
> > John
> >
> >> Thanks very much John, Simon and Rodney!
> >>
> >> On 09/24/2013 07:45 AM, Hebblewhite, Mark wrote:
> >>> 7. From previous posts on this list serve
> >>> [http://grokbase.com/t/r/r-sig-mac/138nv3tj17/unable-to-load-rcmdr-
> >> with-r-
> >>> 3
> >>> -0-1-on-a-mac-os-x-10-8-3] I followed this set of instructions to
> see
> >>> whether there were problems with my permissions:
> >>>
> >>>>> system("ls -ld /usr/local /usr/local/lib /usr/local/lib/libtcl*")
> >>> ls: /usr/local/lib: Permission denied
> >>> ls: /usr/local/lib/libtcl*: Permission denied
> >>> drwx------  8 root  wheel  272 Sep 24 10:21 /usr/local
> >>>
> >>>
> >>> 8. But in my disk utilities I can see no clear disk permissions
> >> related to
> >>> R. I ran repair disk permissions earlier today and there was 1 R
> >> problem
> >>> but that?s been apparently fixed.
> >>
> >> Hi Mark:
> >>
> >> I am assuming you came to Mac from Windows, rather than UNIX/Linux,
> >> right?  On Mac OS X (and UNIX/Linux in general), you need to have
> >> permission to read/write/execute files.  But, I think you can fix
> >> this rather easily.  In a terminal...
> >> % sudo zsh
> >> # chmod -R 755 /usr/local
> >>
> >>
> >>>
> >
> >


From jfox at mcmaster.ca  Wed Sep 25 14:38:02 2013
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 25 Sep 2013 08:38:02 -0400
Subject: [R-SIG-Mac] similar problems installing Rcmdr with R.
In-Reply-To: <CE68599D.13B67%mark.hebblewhite@mso.umt.edu>
References: <46A9032B-00D8-4712-BBBD-4AC04190ACC2@r-project.org>
	<CE68599D.13B67%mark.hebblewhite@mso.umt.edu>
Message-ID: <000101ceb9ec$1386e0f0$3a94a2d0$@mcmaster.ca>

Dear Mark,

> -----Original Message-----
> From: Hebblewhite, Mark [mailto:Mark.Hebblewhite at umontana.edu]
> Sent: Wednesday, September 25, 2013 3:17 AM
> To: Simon Urbanek; John Fox
> Cc: r-sig-mac at r-project.org; 'Rodney Sparapani'
> Subject: Re: [R-SIG-Mac] similar problems installing Rcmdr with R.
> 
> Yes, originally,
> 
> 
> 1) sudo chmod a+rx/usr/local/* did not work but
> 
> 2) sudo zsh
> chmod -R 755/usr/local
> 
> did work.
> 
> However, at your advice, Simon, I've gone and entered
> 
> 3) sudo chmod -R a+rX /usr/local
> 
> 
> in terminal, and now Rcmdr works.
> 
> Is there something else I should do to 'reverse' the 2nd incorrect
> command?
> 
> Incidentally, this is obviously a broader problem and I encountered
> similar problems with other packages like adehabitat.

Of course. As I explained earlier, the problem was that the tcltk package
couldn't load, not with the Rcmdr directly, and the adehabitat package also
uses the tcltk package.

> 
> Thanks SO much for all your assistance and help, especially for
> updating
> the help files for Rcmdr John. I will ask some of my current graduate
> students to test it out on their Mac's too.

They likely won't experience the same problem as you did, unless they too
have incorrect permissions set for the /usr/local directory or
subdirectories of it. Most people who follow the Rcmdr Mac OS X installation
notes won't experience a problem. Anyway, I have some troubleshooting tips
there now that cover the issue that arose on your Mac. If you turn up other
problems not currently covered by the notes, I'd appreciate learning about
them.

Best,
 John

> 
> thanks again!
> 
> Mark Hebblewhite
> 
> 
> 
> 
> On 9/25/13 8:30 AM, "Simon Urbanek" <simon.urbanek at r-project.org>
> wrote:
> 
> >
> >On Sep 24, 2013, at 8:34 PM, John Fox <jfox at mcmaster.ca> wrote:
> >
> >> Dear Mark,
> >>
> >>> -----Original Message-----
> >>> From: Hebblewhite, Mark [mailto:Mark.Hebblewhite at umontana.edu]
> >>> Sent: Tuesday, September 24, 2013 12:32 PM
> >>> To: John Fox
> >>> Cc: r-sig-mac at r-project.org
> >>> Subject: Re: [R-SIG-Mac] similar problems installing Rcmdr with R.
> >>>
> >>> Yes, the solution proposed by Rodney Sparapani below worked to fix
> my
> >>> problem, but was a slightly different command than proposed to
> Sarah
> >>> earlier.
> >>>
> >>>
> >>> Thanks very much Rodney! It will be challenging to fix this
> problem,
> >>> however, for other 'na?ve' users of MAC if the solution is
> different
> >>> each
> >>> time.
> >>>
> >>
> >> Just to be clear:
> >>
> >> 	sudo chmod a+rx /usr/local/*
> >>
> >> didn't work, but
> >>
> >> 	sudo zsh
> >> 	chmod -R 755 /usr/local
> >>
> >> did work?
> >>
> >
> >
> >The later is bad, do NOT use it! It will set exec permissions on
> >*everything* even files are are not supposed to be executable.
> >You probably want
> >
> >sudo chmod -R a+rX /usr/local
> >
> >Cheers,
> >Simon
> >
> >
> >
> >> Frankly, I don't get that, since the first command should insure
> that
> >> everyone has (at least) read and execute permission (i.e., level 5).
> >>
> >> I think that I'll add a trouble-shooting section to the Rcmdr Mac
> >> installation notes, but I would like to understand why one approach
> >>worked
> >> here and not the other.
> >>
> >> Best,
> >> John
> >>
> >>> Thanks very much John, Simon and Rodney!
> >>>
> >>> On 09/24/2013 07:45 AM, Hebblewhite, Mark wrote:
> >>>> 7. From previous posts on this list serve
> >>>> [http://grokbase.com/t/r/r-sig-mac/138nv3tj17/unable-to-load-
> rcmdr-
> >>> with-r-
> >>>> 3
> >>>> -0-1-on-a-mac-os-x-10-8-3] I followed this set of instructions to
> see
> >>>> whether there were problems with my permissions:
> >>>>
> >>>>>> system("ls -ld /usr/local /usr/local/lib
> /usr/local/lib/libtcl*")
> >>>> ls: /usr/local/lib: Permission denied
> >>>> ls: /usr/local/lib/libtcl*: Permission denied
> >>>> drwx------  8 root  wheel  272 Sep 24 10:21 /usr/local
> >>>>
> >>>>
> >>>> 8. But in my disk utilities I can see no clear disk permissions
> >>> related to
> >>>> R. I ran repair disk permissions earlier today and there was 1 R
> >>> problem
> >>>> but that?s been apparently fixed.
> >>>
> >>> Hi Mark:
> >>>
> >>> I am assuming you came to Mac from Windows, rather than UNIX/Linux,
> >>> right?  On Mac OS X (and UNIX/Linux in general), you need to have
> >>> permission to read/write/execute files.  But, I think you can fix
> >>> this rather easily.  In a terminal...
> >>> % sudo zsh
> >>> # chmod -R 755 /usr/local
> >>>
> >>>
> >>>>
> >>
> >>
> >


From rsparapa at mcw.edu  Wed Sep 25 17:26:46 2013
From: rsparapa at mcw.edu (Rodney Sparapani)
Date: Wed, 25 Sep 2013 10:26:46 -0500
Subject: [R-SIG-Mac] similar problems installing Rcmdr with R.
In-Reply-To: <00bf01ceb98a$3c05c6c0$b4115440$@mcmaster.ca>
References: <004701ceb942$906dd420$b1497c60$@mcmaster.ca>
	<CE678AA6.13AFC%mark.hebblewhite@mso.umt.edu>
	<006001ceb954$b223dfd0$166b9f70$@mcmaster.ca>
	<5241DD49.50604@mcw.edu>
	<00bf01ceb98a$3c05c6c0$b4115440$@mcmaster.ca>
Message-ID: <524300B6.8030405@mcw.edu>

On 09/24/2013 07:57 PM, John Fox wrote:
> Hi Rodney,
>
> I've added a section on "Mac OS X Trouble-shooting" to the Rcmdr
> installation notes at
> <http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation-notes.html>,
> with explicit instructions on the recent problems experienced by Sarah and
> Mark. I'd appreciate it if you could take a look at this to see whether the
> instructions are clear. Also, are there other cases that I should cover?
>
> Thanks,
>   John

Hi John:

It looks pretty good to me; lot's of useful info.  I see that you have
sudo chmod -R a+rX /usr/local
as has been suggested.  It definitely makes sense; why have
/usr/local if no one can actually do anything with it?  However,
we are doing a bit more than fixing this issue at hand.  What if you
said it this way?

Having confirmed the problem, you can change the file permissions in 
/usr/local/lib by opening a terminal window on your Mac (Terminal.app is 
in the Applications Utilities folder) and entering the following command 
at the $ prompt in the terminal window:

         sudo chmod -R a+rX /usr/local/lib

     The operating system will ask you to supply your password to 
execute this command.

File-permissions problems such as this may also occur
when you attempt to install other R packages.  In that case, you
might consider performing the same operation on the directories
/usr/local/bin and/or /usr/local/include.  Since there is not
much point having /usr/local if no one can actually use it, then
you might consider altering the entire /usr/local hierarchy:

         sudo chmod -R a+rX /usr/local


But, now we have traveled pretty far afield from just Rcmdr...

-- 
Rodney Sparapani, PhD
Manager of Statistical & Computational Operations
Center for Patient Care and Outcomes Research (PCOR)
Medical College of Wisconsin (MCW), Milwaukee, USA
http://www.linkedin.com/in/rodneysparapani


From jfox at mcmaster.ca  Wed Sep 25 18:30:50 2013
From: jfox at mcmaster.ca (John Fox)
Date: Wed, 25 Sep 2013 12:30:50 -0400
Subject: [R-SIG-Mac] similar problems installing Rcmdr with R.
In-Reply-To: <524300B6.8030405@mcw.edu>
References: <004701ceb942$906dd420$b1497c60$@mcmaster.ca>
	<CE678AA6.13AFC%mark.hebblewhite@mso.umt.edu>
	<006001ceb954$b223dfd0$166b9f70$@mcmaster.ca>
	<5241DD49.50604@mcw.edu>
	<00bf01ceb98a$3c05c6c0$b4115440$@mcmaster.ca>
	<524300B6.8030405@mcw.edu>
Message-ID: <004b01ceba0c$9949fd60$cbddf820$@mcmaster.ca>

Hi Rodney,

Unless you see a compelling reason not to, I think that I'll stick with the
current version of the instructions. The object is to have something simple
for unsophisticated users, and the current version of the troubleshooting
instructions are already a bit complicated.

Best,
 John

> -----Original Message-----
> From: Rodney Sparapani [mailto:rsparapa at mcw.edu]
> Sent: Wednesday, September 25, 2013 11:27 AM
> To: John Fox
> Cc: 'Hebblewhite, Mark'; r-sig-mac at r-project.org; 'Simon Urbanek'
> Subject: Re: [R-SIG-Mac] similar problems installing Rcmdr with R.
> 
> On 09/24/2013 07:57 PM, John Fox wrote:
> > Hi Rodney,
> >
> > I've added a section on "Mac OS X Trouble-shooting" to the Rcmdr
> > installation notes at
> > <http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation-
> notes.html>,
> > with explicit instructions on the recent problems experienced by
> Sarah and
> > Mark. I'd appreciate it if you could take a look at this to see
> whether the
> > instructions are clear. Also, are there other cases that I should
> cover?
> >
> > Thanks,
> >   John
> 
> Hi John:
> 
> It looks pretty good to me; lot's of useful info.  I see that you have
> sudo chmod -R a+rX /usr/local
> as has been suggested.  It definitely makes sense; why have
> /usr/local if no one can actually do anything with it?  However,
> we are doing a bit more than fixing this issue at hand.  What if you
> said it this way?
> 
> Having confirmed the problem, you can change the file permissions in
> /usr/local/lib by opening a terminal window on your Mac (Terminal.app
> is
> in the Applications Utilities folder) and entering the following
> command
> at the $ prompt in the terminal window:
> 
>          sudo chmod -R a+rX /usr/local/lib
> 
>      The operating system will ask you to supply your password to
> execute this command.
> 
> File-permissions problems such as this may also occur
> when you attempt to install other R packages.  In that case, you
> might consider performing the same operation on the directories
> /usr/local/bin and/or /usr/local/include.  Since there is not
> much point having /usr/local if no one can actually use it, then
> you might consider altering the entire /usr/local hierarchy:
> 
>          sudo chmod -R a+rX /usr/local
> 
> 
> But, now we have traveled pretty far afield from just Rcmdr...
> 
> --
> Rodney Sparapani, PhD
> Manager of Statistical & Computational Operations
> Center for Patient Care and Outcomes Research (PCOR)
> Medical College of Wisconsin (MCW), Milwaukee, USA
> http://www.linkedin.com/in/rodneysparapani


From ripley at stats.ox.ac.uk  Wed Sep 25 18:51:04 2013
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 25 Sep 2013 17:51:04 +0100
Subject: [R-SIG-Mac] XQuartz
In-Reply-To: <CAMOc9S=uhUA3Ln337boBJ9gkEkx7=qPN880y+3AZQ3Lo-1Psow@mail.gmail.com>
References: <93EDCE72-DF16-4FCF-90CB-E45C3D704728@cisunix.unh.edu>	<CAMOc9SmKwm82bOoO0mQmy30-uSOwTktMCCTNiKpJPskA1daZZw@mail.gmail.com>	<2A0D09E4-5D12-45B0-AED5-377F2222A9F6@gmail.com>
	<CAMOc9S=uhUA3Ln337boBJ9gkEkx7=qPN880y+3AZQ3Lo-1Psow@mail.gmail.com>
Message-ID: <52431478.3060003@stats.ox.ac.uk>

And what does any of this have to do with XQuartz?  That is the 
third-party X11 server/sub-system for OS X.  Perhaps the quartz() device 
was meant ....

For the sake of those reading the archives, can we have a much clearer 
statement of the actual problem?  There might be better solutions, 
including quartz(type = "pdf') (which is closer to what 'Save As' from 
the quartz() device does).


On 25/09/2013 13:31, R Erickson wrote:
> Thanks for sharing this! I always wondered what was the trick for
> creating multistage PDFs from R.
>
> On Tue, Sep 24, 2013 at 4:19 PM, R. Michael Weylandt
> <michael.weylandt at gmail.com> <michael.weylandt at gmail.com> wrote:
>>
>>
>> On Sep 24, 2013, at 13:16, R Erickson <raerickson at gmail.com> wrote:
>>
>>> Hi Paul,
>>>
>>> Rather than use XQuartz, avoid "printing" the image and use the
>>> pdf()/def.off() commands. Here's an example that I think answers your
>>> question:
>>>
>>> for(i in 1:10){
>>> x <- i*1:10
>>> y <- sqrt(x)
>>> pdf(paste("File",i,".pdf",sep=""))
>>> plot(x,y, main = paste("Test Case",i),type = 'l')
>>> dev.off()
>>> }
>>
>> Or, move pdf() before and dev.off() after the loop and make one big file with all the graphs on different pages.
>>
>> M
>>>
>>> Note that the paste function gives you the file name within the pdf
>>> function. Check out the ?pdf file to see how to change the width,
>>> height, or file type.
>>>
>>> If you are using ggplot2, ggsave can do similar things.
>>>
>>> Does this help?
>>>
>>> Richard
>>>
>>> On Tue, Sep 24, 2013 at 12:01 PM, Paul Ossenbruggen <pjo at cisunix.unh.edu> wrote:
>>>> I am generating within a loop a large number of XQuartz images. I know that I can use the Save As command to save each one individually. This is very time consuming and tedious. Is it possible to save them  automatically with a R script command?
>>>>
>>>> Thanks for any tip that one can offer.
>>>>
>>>> Paul


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From alan_randolph at hotmail.com  Wed Sep 25 23:58:50 2013
From: alan_randolph at hotmail.com (Alan Randolph)
Date: Wed, 25 Sep 2013 16:58:50 -0500
Subject: [R-SIG-Mac] Unexpected input error
Message-ID: <BLU0-SMTP7699C4E37276C4898A6AFA902F0@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130925/c69c8b36/attachment.pl>

From smckinney at bccrc.ca  Thu Sep 26 00:35:49 2013
From: smckinney at bccrc.ca (Steven McKinney)
Date: Wed, 25 Sep 2013 15:35:49 -0700
Subject: [R-SIG-Mac] Unexpected input error
In-Reply-To: <BLU0-SMTP7699C4E37276C4898A6AFA902F0@phx.gbl>
References: <BLU0-SMTP7699C4E37276C4898A6AFA902F0@phx.gbl>
Message-ID: <DCE81E14EB74504B971DAD4D2DB0356B0CB926E0D2@crcmail4.BCCRC.CA>


Hi Alan,

This is probably more appropriately addressed on the R-help email list,
as it is not really Mac-specific.

Copying your code into R on my Mac, it appears to work, no error message for me.

I see you have an older version of R, so it's unclear if it is a version issue.
My version isn't the latest, but more recent than yours.




> require("rattle")
Loading required package: rattle
Rattle: A free graphical interface for data mining with R.
Version 2.6.26 r77 Copyright (c) 2006-2013 Togaware Pty Ltd.
Type 'rattle()' to shake, rattle, and roll your data.

> weatherDS <- new.env()
> evalq({
+    data <- weather
+    nobs <- nrow(weather)
+    vars <- -grep('^(Data|Location|RISK_)', names(data))
+    form <- formula(RainTomorrow ~ .)
+    target <- all.vars(form)[1]
+    set.seed(42)
+    train <- sample(nobs, 0.7*nobs)
+ }, weatherDS)

> get("train", env = weatherDS)
  [1] 335 343 105 302 233 188 266  49 236 252 163 256 331  91 356 330 365  42 166 195 313  48
 [23] 341 325  29 176 133 308 152 282 248 272 130 229   2 276   3  69 298 201 124 142  13 315
 [45] 140 339 285 205 309 197 106 110 126 246 324 362 210  53  81 158 207 300 231 172 257  58
 [67]  82 336 306  72 312 349  64 141 301 310 351 109 149   1 167  46 102 183 219 159  66  26
 [89]  24  85 185 287 292 255 357 199  90 139 200 348 286 274 265 103 247 366 193 190 269 275
[111] 156 214 191 115 136 135 363  89 338 319  88 101 322 144 175  96 221 304  56 303 273 350
[133] 148 337 198 134 189  27 242 235  34  19 104 174 352 181  38 328  65  33 355  70 360 277
[155] 243 164  40   7 342 293 260 113 123 291 289  37 353 294 278 327 212 321 347  93  83 333
[177] 157 112 150 196 171 160  59 345 261 182 267 227 232  51  35 138  23 223 296  10 268 225
[199] 125 204 147  86 244  73 279 297 155  78 203  41 213 245  52 186 329 127  87 318 305 132
[221] 161  25  79 228  45 116  43 162 209 226 283  22 259 290 180 316  12 262  71  54   9 128
[243] 314 254  68 184  20  18 121 111  39 251  31  60 340 249
> 

> sessionInfo()
R version 2.15.3 (2013-03-01)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8

attached base packages:
 [1] stats4    grid      splines   stats     graphics  grDevices utils     datasets  methods  
[10] base     

other attached packages:
 [1] rattle_2.6.26     rpart_4.1-1       glmnet_1.9-3      glinternet_0.9.0  lme4_0.999999-0  
 [6] Matrix_1.0-12     lattice_0.20-15   party_1.0-6       vcd_1.2-13        colorspace_1.2-1 
[11] MASS_7.3-23       strucchange_1.4-7 sandwich_2.2-10   zoo_1.7-9         coin_1.0-21      
[16] mvtnorm_0.9-9994  modeltools_0.2-19 survival_2.37-4  

loaded via a namespace (and not attached):
[1] nlme_3.1-108 tools_2.15.3
> 

Steven McKinney

Statistician
Molecular Oncology and Breast Cancer Program
British Columbia Cancer Research Centre


________________________________________
From: r-sig-mac-bounces at r-project.org [r-sig-mac-bounces at r-project.org] On Behalf Of Alan Randolph [alan_randolph at hotmail.com]
Sent: September 25, 2013 2:58 PM
To: r-sig-mac at r-project.org
Subject: [R-SIG-Mac] Unexpected input error

Hi, I am newbie to R so pardon me if this is not the forum for asking this question.

I am getting the error "unexpected input in "evalq({?" in the Boost Tutorial example section 13.3 of Graham William's, "Data Mining with Rattle and R.  Below is the line as I have entered it and version information.

To me it looks like I have copied the command verbatim from the book.  What can I try to resolve the problem?

> evalq({
   data <- weather
   nobs <- nrow(weather)
   vars <- -grep('^(Data|Location|RISK_)', names(data))
   form <- formula(RainTomorrow ~ .)
   target <- all.vars(form)[1]
   set.seed(42)
   train <- sample(nobs, 0.7*nobs)
}, weatherDS)
Error: unexpected input in "evalq({?"


Mac OS X version 10.8.5
platform       i386-apple-darwin9.8.0
arch           i386
os             darwin9.8.0
system         i386, darwin9.8.0
status
major          2
minor          14.2
year           2012
month          02
day            29
svn rev        58522
language       R
version.string R version 2.14.2 (2012-02-29)
        [[alternative HTML version deleted]]


From ripley at stats.ox.ac.uk  Thu Sep 26 09:19:22 2013
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 26 Sep 2013 08:19:22 +0100
Subject: [R-SIG-Mac] Xcode 5
Message-ID: <5243DFFA.6080206@stats.ox.ac.uk>

Xcode was released last week, although it did not show up as an update 
for me until this.  It may be available only for Mountain Lion: the 
command-line tools seems only to be.

As expected, the compilers used for the CRAN binary build, llvm-gcc-4.2 
and llvm-g++-4.2, are not part of Xcode 5.  Less expected was that 
updating to Xcode 5 did not remove them, at least for me.

All that is needed to build R or install packages is the 'Command-line 
tools for Xcode'  These can be downloaded from 
https://developer.apple.com/downloads/index.action (registering your 
Apple ID for that site is needed).   New users could download and install

Command-line tools (OS X Mountain Lion) for Xcode (April 2013)
Command-line tools (OS X Mountain Lion) for Xcode (September 2013)

and install them in that order.

We have been testing building R and packages with clang since R 3.0.0, 
and details of how to do so are in the 'R Installation and 
Administration Manual'.  Xcode 5 updates to

tystie% clang --version
Apple LLVM version 5.0 (clang-500.2.75) (based on LLVM 3.3svn)

whatever '3.3svn' means (3.2svn meant 3.1+epsilon).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From kasperdanielhansen at gmail.com  Thu Sep 26 22:11:47 2013
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Thu, 26 Sep 2013 22:11:47 +0200
Subject: [R-SIG-Mac] Xcode 5
In-Reply-To: <5243DFFA.6080206@stats.ox.ac.uk>
References: <5243DFFA.6080206@stats.ox.ac.uk>
Message-ID: <CAC2h7utZOgO4LDWtQSqR6Yj-t1s365-9OTXCzgFFsAC1N+EbMA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130926/e446a3f3/attachment.pl>

From ripley at stats.ox.ac.uk  Thu Sep 26 22:35:46 2013
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 26 Sep 2013 21:35:46 +0100
Subject: [R-SIG-Mac] Xcode 5
In-Reply-To: <CAC2h7utZOgO4LDWtQSqR6Yj-t1s365-9OTXCzgFFsAC1N+EbMA@mail.gmail.com>
References: <5243DFFA.6080206@stats.ox.ac.uk>
	<CAC2h7utZOgO4LDWtQSqR6Yj-t1s365-9OTXCzgFFsAC1N+EbMA@mail.gmail.com>
Message-ID: <52449AA2.3000905@stats.ox.ac.uk>

On 26/09/2013 21:11, Kasper Daniel Hansen wrote:
> Thanks for the information.
>
> I am not an expert on clang, but here is my experience: I had Xcode 4
> and command line tools add-ons installed.  I upgraded to Xcode 5 and
> then I (as usual) went into Xcode Preferences -> Downloads and chose to
> install "command line tools".

Xcode updates sometimes update the command-line tools and sometimes not, 
in my experience.

> I now have the same version of clang as Prof. Ripley describes above,
> and I also get
>
> sleipner:~ $ gcc --version
> Configured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr
> --with-gxx-include-dir=/usr/include/c++/4.2.1
> Apple LLVM version 5.0 (clang-500.2.76) (based on LLVM 3.3svn)
> Target: x86_64-apple-darwin12.5.0
> Thread model: posix
>
> I did not need to download anything from the developer website.

Not if you installed all of Xcode.  But that is a 1.9GB download and 
twice that installed -- more than some people want (especially those 
with small SSDs).  The only time I have ever used it was to tweak the 
R.app project.

> Question: I am still using the build of GCC 4.2 which Simon supplies
>
> sleipner:~ $ /usr/bin/gcc-4.2 --version
> i686-apple-darwin11-gcc-4.2.1 (GCC) 4.2.1 (Apple Inc. build 5666) (dot 3)
> Copyright (C) 2007 Free Software Foundation, Inc.
> This is free software; see the source for copying conditions.  There is NO
> warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
>
> I see in R-admin that CRAN is now built using llvm-gcc-4.2.  I assume
> this is now the recommended tool and I should switch?

It has been the recommended toolchain since R 3.0.0.  If you use the 
CRAN binary, it will use those compilers.  If not, use what you like.

>
> Best,
> Kasper
>
>
> On Thu, Sep 26, 2013 at 9:19 AM, Prof Brian Ripley
> <ripley at stats.ox.ac.uk <mailto:ripley at stats.ox.ac.uk>> wrote:
>
>     Xcode was released last week, although it did not show up as an
>     update for me until this.  It may be available only for Mountain
>     Lion: the command-line tools seems only to be.
>
>     As expected, the compilers used for the CRAN binary build,
>     llvm-gcc-4.2 and llvm-g++-4.2, are not part of Xcode 5.  Less
>     expected was that updating to Xcode 5 did not remove them, at least
>     for me.
>
>     All that is needed to build R or install packages is the
>     'Command-line tools for Xcode'  These can be downloaded from
>     https://developer.apple.com/__downloads/index.action
>     <https://developer.apple.com/downloads/index.action> (registering
>     your Apple ID for that site is needed).   New users could download
>     and install
>
>     Command-line tools (OS X Mountain Lion) for Xcode (April 2013)
>     Command-line tools (OS X Mountain Lion) for Xcode (September 2013)
>
>     and install them in that order.
>
>     We have been testing building R and packages with clang since R
>     3.0.0, and details of how to do so are in the 'R Installation and
>     Administration Manual'.  Xcode 5 updates to
>
>     tystie% clang --version
>     Apple LLVM version 5.0 (clang-500.2.75) (based on LLVM 3.3svn)
>
>     whatever '3.3svn' means (3.2svn meant 3.1+epsilon).
>
>
>     --
>     Brian D. Ripley, ripley at stats.ox.ac.uk <mailto:ripley at stats.ox.ac.uk>
>     Professor of Applied Statistics,
>     http://www.stats.ox.ac.uk/~__ripley/
>     <http://www.stats.ox.ac.uk/~ripley/>
>     University of Oxford,             Tel: +44 1865 272861
>     <tel:%2B44%201865%20272861> (self)
>     1 South Parks Road, +44 1865 272866 <tel:%2B44%201865%20272866> (PA)
>     Oxford OX1 3TG, UK                Fax: +44 1865 272595
>     <tel:%2B44%201865%20272595>
>
>     _________________________________________________
>     R-SIG-Mac mailing list
>     R-SIG-Mac at r-project.org <mailto:R-SIG-Mac at r-project.org>
>     https://stat.ethz.ch/mailman/__listinfo/r-sig-mac
>     <https://stat.ethz.ch/mailman/listinfo/r-sig-mac>
>
>


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From murdoch.duncan at gmail.com  Sat Sep 28 14:50:57 2013
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Sat, 28 Sep 2013 08:50:57 -0400
Subject: [R-SIG-Mac] Bug in data editor
Message-ID: <5246D0B1.1090208@gmail.com>

The bug

https://bugs.r-project.org/bugzilla3/show_bug.cgi?id=15463

appears to be R.app specific.  All of the data editors (R.app, X11, 
Windows) round the data for display, but the one in R.app appears to 
reload the data from the rounded values, whether edited or not.

I've just confirmed this still exists with the 3.0.2 release:

 > sessionInfo()
R version 3.0.2 (2013-09-25)
Platform: x86_64-apple-darwin10.8.0 (64-bit)

locale:
[1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

Duncan Murdoch


From cyj901027 at gmail.com  Sun Sep 29 16:31:13 2013
From: cyj901027 at gmail.com (=?UTF-8?B?6ZmI5aaN6ZSm?=)
Date: Sun, 29 Sep 2013 10:31:13 -0400
Subject: [R-SIG-Mac] R-console 3.0.2 & R-studio 0.97.551 problem with mac OS
	X 10.8.3
Message-ID: <CAPx1mvM7hrR0ho8ecnnscdzu9Uog0Z4HYMHPwuacBGXY13k4Wg@mail.gmail.com>

Hi all. I am experiencing very annoying R software problems and am looking
for help.

I am using mac OS X 10.8.3. The version for R-studio is 0.97.551. The
version for R-console is 3.0.2. I got similar problems in R-studio and
R-console.

For R-studio, it often happens that when I type a command in the console
window and press enter, the command will disappear and leave nothing in the
command history. I even can't retrieve the previous command by the up
arrow. I have to retype the command. It happens very often, with
probability nearly 50%.

For R-console, almost similar problems. Many commands got stuck. I have to
force them to stop.

This scenario happens for even every command, like 'library(Rlab)',
'rbern(100, 0.1)', etc.

I've tried several methods, including uninstall both R-console and
R-studio, even have tried to uninstall them through mac terminal. Even I
put these two software in the recycle bin, and uninstall them on terminal,
R is still there with mac ports when I enter R in the terminal. The problem
exists. I don't know whether my mac ports sucks.

I do appreciate your help[?]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130929/76ee9a11/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: image/gif
Size: 96 bytes
Desc: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130929/76ee9a11/attachment.gif>

From michael.weylandt at gmail.com  Sun Sep 29 16:47:07 2013
From: michael.weylandt at gmail.com (R. Michael Weylandt <michael.weylandt@gmail.com>)
Date: Sun, 29 Sep 2013 10:47:07 -0400
Subject: [R-SIG-Mac] R-console 3.0.2 & R-studio 0.97.551 problem with
	mac OS X 10.8.3
In-Reply-To: <CAPx1mvM7hrR0ho8ecnnscdzu9Uog0Z4HYMHPwuacBGXY13k4Wg@mail.gmail.com>
References: <CAPx1mvM7hrR0ho8ecnnscdzu9Uog0Z4HYMHPwuacBGXY13k4Wg@mail.gmail.com>
Message-ID: <D7BB7163-DDC2-4A46-BC74-75247502DE92@gmail.com>



On Sep 29, 2013, at 10:31, ??? <cyj901027 at gmail.com> wrote:

> Hi all. I am experiencing very annoying R software problems and am looking for help.
> 
> I am using mac OS X 10.8.3. The version for R-studio is 0.97.551. The version for R-console is 3.0.2. I got similar problems in R-studio and R-console. 
> 
> For R-studio, it often happens that when I type a command in the console window and press enter, the command will disappear and leave nothing in the command history. I even can't retrieve the previous command by the up arrow. I have to retype the command. It happens very often, with probability nearly 50%.
> 
> For R-console, almost similar problems. Many commands got stuck. I have to force them to stop.
> 
> This scenario happens for even every command, like 'library(Rlab)', 'rbern(100, 0.1)', etc.
> 
> I've tried several methods, including uninstall both R-console and R-studio, even have tried to uninstall them through mac terminal. Even I put these two software in the recycle bin, and uninstall them on terminal, R is still there with mac ports when I enter R in the terminal. The problem exists. I don't know whether my mac ports sucks.

Probably -- I know Simon (= R on Mac god) doesn't like MacPorts and given that it's hitting all front ends, it might be their build. 

Wipe it entirely from your system (such that typing "R" at the terminal can find anything, not just deleting the items in your applications directory) and reinstall using the CRAN binary. 

Afraid I can't help with the uninstall -- don use MacPorts myself. 

M


> 
> I do appreciate your help<330.gif>
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From igow at hbs.edu  Sun Sep 29 17:10:50 2013
From: igow at hbs.edu (Gow, Ian)
Date: Sun, 29 Sep 2013 11:10:50 -0400
Subject: [R-SIG-Mac] R-console 3.0.2 & R-studio 0.97.551 problem with
 mac OSX 10.8.3
In-Reply-To: <CAPx1mvM7hrR0ho8ecnnscdzu9Uog0Z4HYMHPwuacBGXY13k4Wg@mail.gmail.com>
References: <CAPx1mvM7hrR0ho8ecnnscdzu9Uog0Z4HYMHPwuacBGXY13k4Wg@mail.gmail.com>
Message-ID: <7835CFC6-503E-4E1E-B0ED-2E2C56DF6E23@hbs.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130929/3b8653f8/attachment.pl>

From jari.oksanen at oulu.fi  Sun Sep 29 18:28:55 2013
From: jari.oksanen at oulu.fi (Jari Oksanen)
Date: Sun, 29 Sep 2013 16:28:55 +0000
Subject: [R-SIG-Mac] New to OS X - from where to install R?
In-Reply-To: <8738sexwtx.fsf@krugs.de>
References: <8738sexwtx.fsf@krugs.de>
Message-ID: <0152370F-B169-4367-8AB2-919EE2DA12AD@oulu.fi>


On 19/06/2013, at 12:40 PM, Rainer M Krug wrote:

> Hi
> 
> I am completely new to OS X (linux user up to now)- so please excuse my
> ignorance.
> 
> What is the best way to install R on OS X? Should I use something like
> Macports [1]? Or should I install from the official release from the
> cran site?
> 
> What are the drawbacks of each?

The drawback of macports is that it brings you trouble and sorrow.

I don't know any drawbacks of using official CRAN releases.

Cheers, Jari Oksanen


From tomhopper at gmail.com  Sun Sep 29 18:39:38 2013
From: tomhopper at gmail.com (Tom Hopper)
Date: Sun, 29 Sep 2013 18:39:38 +0200
Subject: [R-SIG-Mac] New to OS X - from where to install R?
In-Reply-To: <0152370F-B169-4367-8AB2-919EE2DA12AD@oulu.fi>
References: <8738sexwtx.fsf@krugs.de>
	<0152370F-B169-4367-8AB2-919EE2DA12AD@oulu.fi>
Message-ID: <CAJ_8u++W7YWLR+g0Jt9L56y_-f9OVM=9jKxUGDt779rzEc3hAw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20130929/5ce072e6/attachment.pl>

From pdalgd at gmail.com  Sun Sep 29 18:40:37 2013
From: pdalgd at gmail.com (peter dalgaard)
Date: Sun, 29 Sep 2013 18:40:37 +0200
Subject: [R-SIG-Mac] R-console 3.0.2 & R-studio 0.97.551 problem with
	mac OS X 10.8.3
In-Reply-To: <D7BB7163-DDC2-4A46-BC74-75247502DE92@gmail.com>
References: <CAPx1mvM7hrR0ho8ecnnscdzu9Uog0Z4HYMHPwuacBGXY13k4Wg@mail.gmail.com>
	<D7BB7163-DDC2-4A46-BC74-75247502DE92@gmail.com>
Message-ID: <834E18E5-A451-462C-9525-BECDA5C4D878@gmail.com>


On Sep 29, 2013, at 16:47 , R. Michael Weylandt wrote:

> 
> 
> On Sep 29, 2013, at 10:31, ??? <cyj901027 at gmail.com> wrote:
> 
>> Hi all. I am experiencing very annoying R software problems and am looking for help.
>> 
>> I am using mac OS X 10.8.3. The version for R-studio is 0.97.551. The version for R-console is 3.0.2. I got similar problems in R-studio and R-console. 
>> 
>> For R-studio, it often happens that when I type a command in the console window and press enter, the command will disappear and leave nothing in the command history. I even can't retrieve the previous command by the up arrow. I have to retype the command. It happens very often, with probability nearly 50%.
>> 
>> For R-console, almost similar problems. Many commands got stuck. I have to force them to stop.
>> 
>> This scenario happens for even every command, like 'library(Rlab)', 'rbern(100, 0.1)', etc.
>> 
>> I've tried several methods, including uninstall both R-console and R-studio, even have tried to uninstall them through mac terminal. Even I put these two software in the recycle bin, and uninstall them on terminal, R is still there with mac ports when I enter R in the terminal. The problem exists. I don't know whether my mac ports sucks.
> 
> Probably -- I know Simon (= R on Mac god) doesn't like MacPorts and given that it's hitting all front ends, it might be their build. 
> 
> Wipe it entirely from your system (such that typing "R" at the terminal can find anything, not just deleting the items in your applications directory) and reinstall using the CRAN binary. 
> 
> Afraid I can't help with the uninstall -- don use MacPorts myself. 
> 

It isn't actually clear that this is MacPorts as in "sudo port install R" or just some port of R, which might even be the CRAN one. If it is MacPorts, then we'd probably need to know the exact variant and compiler setup -- last one I tried wouldn't even compile (because it tried to use gcc-4.8). If it is another port, we'd need to know more about the setup. A CJK-locale issue might be suspected from the Chinese characters in the poster's "From:" field.


-- 
Peter Dalgaard, Professor,
Center for Statistics, Copenhagen Business School
Solbjerg Plads 3, 2000 Frederiksberg, Denmark
Phone: (+45)38153501
Email: pd.mes at cbs.dk  Priv: PDalgd at gmail.com


From ripley at stats.ox.ac.uk  Sun Sep 29 18:59:25 2013
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 29 Sep 2013 17:59:25 +0100
Subject: [R-SIG-Mac] Bug in data editor
In-Reply-To: <5246D0B1.1090208@gmail.com>
References: <5246D0B1.1090208@gmail.com>
Message-ID: <52485C6D.7000800@stats.ox.ac.uk>

On 28/09/2013 13:50, Duncan Murdoch wrote:
> The bug
>
> https://bugs.r-project.org/bugzilla3/show_bug.cgi?id=15463
>
> appears to be R.app specific.  All of the data editors (R.app, X11,
> Windows) round the data for display, but the one in R.app appears to
> reload the data from the rounded values, whether edited or not.
>
> I've just confirmed this still exists with the 3.0.2 release:
>
>  > sessionInfo()
> R version 3.0.2 (2013-09-25)
> Platform: x86_64-apple-darwin10.8.0 (64-bit)
>
> locale:
> [1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> Duncan Murdoch

That editor is part of R.app: see ca line 212 in REditor.m in the 
Mac-GUI project's sources.

The X11 and Windows editors write the value back into the R structures 
when the rectangle is 'closed': the R.app editor writes all the values 
back from their character representations as ObjC strings when the data 
editor is closed.

Seems the last person to touch this was 'bibiko'.  This needs a hand 
comfortable with ObjC.

One possible workaround would be to set the internal equivalent of 
options(digits=15) when the data are converted to ObjC strings.  But 
AFAICS the internal equivalent is not officially in the exports 
available to front-ends (but the OS X loader makes everything visible, 
so this may not be fatal).


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From michael.weylandt at gmail.com  Sun Sep 29 20:09:40 2013
From: michael.weylandt at gmail.com (R. Michael Weylandt <michael.weylandt@gmail.com>)
Date: Sun, 29 Sep 2013 14:09:40 -0400
Subject: [R-SIG-Mac] R 3.0.1 quits after a graphics command
In-Reply-To: <0024ABA0-DC00-4B74-AD24-C7707D9F3890@mac.com>
References: <0024ABA0-DC00-4B74-AD24-C7707D9F3890@mac.com>
Message-ID: <241FA8BB-6808-4064-B846-BC749C8E27BA@gmail.com>

What happens if you set your default device to something else? Same issue?

I.e., quartz() problem or dev.new() problem?

M

On May 20, 2013, at 21:47, Michael Herron <mcherron at mac.com> wrote:

> Hello.
> 
> I am noticing what appears to be puzzling behavior in R 3.0.1.  If I start R (in Aquamacs, using ESS) and execute a graphics command, R quits.  See below.
> 
> If I open a graphics window with quartz() and then try to make a histogram, no problem.  But, graphics() and then dev.off() and then hist(x) will cause R to quit.
> 
> If I run R through a terminal as opposed to through Aquamacs, there are no problems.
> 
> I am running Mac OS X 10.8.3.
> 
> Any thoughts would be appreciate.
> 
> Thanks, mh
> 
> ------------------------------------------
> 
> 
> 
> R version 3.0.1 (2013-05-16) -- "Good Sport"
> Copyright (C) 2013 The R Foundation for Statistical Computing
> Platform: x86_64-apple-darwin10.8.0 (64-bit)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
> 
>  Natural language support but running in an English locale
> 
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
> 
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
> 
>> .help.ESS <- help
>> options(STERM='iESS', editor='emacsclient')
>> x <- rnorm(100)
>> hist(x)
> 
> Process R finished at Mon May 20 21:39:49 2013
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From Rainer at krugs.de  Mon Sep 30 09:20:41 2013
From: Rainer at krugs.de (Rainer M Krug)
Date: Mon, 30 Sep 2013 09:20:41 +0200
Subject: [R-SIG-Mac] New to OS X - from where to install R?
References: <8738sexwtx.fsf@krugs.de>
	<0152370F-B169-4367-8AB2-919EE2DA12AD@oulu.fi>
	<CAJ_8u++W7YWLR+g0Jt9L56y_-f9OVM=9jKxUGDt779rzEc3hAw@mail.gmail.com>
Message-ID: <m2pprqkc6u.fsf@krugs.de>

Thanks Jari & Tom

I am, for the time being, using the CRAN build, but I might try the
homebrew version later on.

Thanks a lot,

Rainer


Tom Hopper <tomhopper at gmail.com> writes:

> Rainer,
>
> I've always used the official CRAN release and been quite happy. It might
> depend on what other software you need to integrate with, but I've used a
> bunch of front ends and run R (CRAN) from the command line with no problems.
>
> Regards,
>
> Tom
>
>
>
> On Sun, Sep 29, 2013 at 6:28 PM, Jari Oksanen <jari.oksanen at oulu.fi> wrote:
>
>>
>> On 19/06/2013, at 12:40 PM, Rainer M Krug wrote:
>>
>> > Hi
>> >
>> > I am completely new to OS X (linux user up to now)- so please excuse my
>> > ignorance.
>> >
>> > What is the best way to install R on OS X? Should I use something like
>> > Macports [1]? Or should I install from the official release from the
>> > cran site?
>> >
>> > What are the drawbacks of each?
>>
>> The drawback of macports is that it brings you trouble and sorrow.
>>
>> I don't know any drawbacks of using official CRAN releases.
>>
>> Cheers, Jari Oksanen
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> 	[[alternative HTML version deleted]]
<#secure method=pgpmime mode=sign>

-- 
Rainer M. Krug

email: RMKrug<at>gmail<dot>com


