From deleeuw at stat.ucla.edu  Sat Dec  1 00:45:38 2007
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Fri, 30 Nov 2007 15:45:38 -0800
Subject: [R-SIG-Mac] for Leopard users
Message-ID: <F9183471-2A33-4C53-AEAF-0C40864FE1C6@stat.ucla.edu>

If you use 10.5 and depend on X11 you may want to track

http://trac.macosforge.org/projects/xquartz

===============================================================
      Jan de Leeuw, 11667 Steinhoff Rd, Frazier Park, CA 93225
      home 661-245-1725 mobile 661-231-5416 work 310-825-9550
      .mac: jdeleeuw +++  aim: deleeuwjan +++ skype: j_deleeuw
===============================================================
When circumstances change, I change my opinion. What do you do?

                         ===== John Maynard Keynes


From bcarvalh at jhsph.edu  Sun Dec  2 10:55:42 2007
From: bcarvalh at jhsph.edu (Benilton Carvalho)
Date: Sun, 2 Dec 2007 04:55:42 -0500
Subject: [R-SIG-Mac] malloc problem R2.6.1 on leopard
In-Reply-To: <c49b2dff0711300817s1a94a6c4kf80702028c63d2d5@mail.gmail.com>
References: <c49b2dff0711300817s1a94a6c4kf80702028c63d2d5@mail.gmail.com>
Message-ID: <A8EB7673-84D0-4F03-A1A7-9F54FD9BAB92@jhsph.edu>

The first thing to notice is that:

?expand.grid

might be useful...

The second is that:

allsubsets(30) will return you an object of 2^30 rows by 30 columns....

How big would an object like that be???

4*(2^30)*30/(1024^3) = 120GB....

b

On Nov 30, 2007, at 11:17 AM, Hans Kestler wrote:

> Hi,
> I just installed the latest release (2.6.1) on Leopard (Mac Pro -  
> Quad-Core
> Intel Xeon, 16Gb).
> Calling :
>
> allsubsets <- function (n)
> +   {
> +     if (n > 0)
> +       rbind(cbind(TRUE, Recall(n - 1)), cbind(FALSE, Recall(n -1)))
> +   }
>> a<-allsubsets(30)
>
> I get the following error:
>
> Error: cannot allocate vector of size 1.5 Gb
>
> R(576,0xa04f8f60) malloc: *** mmap(size=1610616832) failed (error  
> code=12)
> *** error: can't allocate region
> *** set a breakpoint in malloc_error_break to debug
> R(576,0xa04f8f60) malloc: *** mmap(size=1610616832) failed (error  
> code=12)
> *** error: can't allocate region
> *** set a breakpoint in malloc_error_break to debug
>
> Any ideas? Thank you.
>
> Hans
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2419 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20071202/68970a21/attachment.bin 

From dkaplan at education.wisc.edu  Mon Dec  3 03:22:59 2007
From: dkaplan at education.wisc.edu (David Kaplan)
Date: Sun, 02 Dec 2007 20:22:59 -0600
Subject: [R-SIG-Mac] Trouble loading a package
Message-ID: <47536883.8000703@education.wisc.edu>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20071202/6826f092/attachment.html 

From dkaplan at education.wisc.edu  Mon Dec  3 14:24:32 2007
From: dkaplan at education.wisc.edu (David Kaplan)
Date: Mon, 03 Dec 2007 07:24:32 -0600
Subject: [R-SIG-Mac] trouble loading a package.
Message-ID: <47540390.3030809@education.wisc.edu>

Hi all,

I'm trying to load the package vars for a time series analysis I'm 
conducting.  I'm getting the following message


The downloaded packages are in
    
/var/folders/Iz/Izj5LjjmFQi4z+DYYp7e7E+++TI/-Tmp-//RtmpBKmvco/downloaded_packages
Loading required package: MASS
Loading required package: strucchange
Loading required package: zoo
Error: package 'zoo' could not be loaded
In addition: Warning message:
In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc = 
lib.loc) :
  there is no package called 'zoo'
 >

When I go to the package manager and refresh, it appears but will not 
allow me to check it off to load.

Any thoughts?

Thanks in advance.

David

-- 
===============================================================
David Kaplan, Ph.D.
Professor
Department of Educational Psychology
University of Wisconsin - Madison
Educational Sciences, Room, 1061
1025 W. Johnson Street
Madison, WI 53706

email: dkaplan at education.wisc.edu
homepage:
http://www.education.wisc.edu/edpsych/facstaff/kaplan/kaplan.htm
Phone: 608-262-0836


From simon.urbanek at r-project.org  Mon Dec  3 14:30:26 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Dec 2007 08:30:26 -0500
Subject: [R-SIG-Mac] trouble loading a package.
In-Reply-To: <47540390.3030809@education.wisc.edu>
References: <47540390.3030809@education.wisc.edu>
Message-ID: <6D65E69F-B2AF-4ABC-B270-B5AC000DA28F@r-project.org>

David,

On Dec 3, 2007, at 8:24 AM, David Kaplan wrote:

> Hi all,
>
> I'm trying to load the package vars for a time series analysis I'm
> conducting.  I'm getting the following message
>
>
> The downloaded packages are in
>
> /var/folders/Iz/Izj5LjjmFQi4z+DYYp7e7E+++TI/-Tmp-//RtmpBKmvco/ 
> downloaded_packages
> Loading required package: MASS
> Loading required package: strucchange
> Loading required package: zoo
> Error: package 'zoo' could not be loaded
> In addition: Warning message:
> In library(pkg, character.only = TRUE, logical.return = TRUE,  
> lib.loc =
> lib.loc) :
>  there is no package called 'zoo'
>>
>
> When I go to the package manager and refresh, it appears but will not
> allow me to check it off to load.
>
> Any thoughts?
>

It tells you that you don't have the required package 'zoo' - try  
installing it, R is often right. (As a tip, it is usually a good idea  
to let R install the dependencies when you install a package).

Cheers,
Simon


From dkaplan at education.wisc.edu  Mon Dec  3 14:53:26 2007
From: dkaplan at education.wisc.edu (David Kaplan)
Date: Mon, 03 Dec 2007 07:53:26 -0600
Subject: [R-SIG-Mac] trouble loading a package.
In-Reply-To: <6D65E69F-B2AF-4ABC-B270-B5AC000DA28F@r-project.org>
References: <47540390.3030809@education.wisc.edu>
	<6D65E69F-B2AF-4ABC-B270-B5AC000DA28F@r-project.org>
Message-ID: <47540A56.5070308@education.wisc.edu>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20071203/6ade820c/attachment.html 

From simon.urbanek at r-project.org  Mon Dec  3 15:30:53 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 3 Dec 2007 09:30:53 -0500
Subject: [R-SIG-Mac] trouble loading a package.
In-Reply-To: <47540A56.5070308@education.wisc.edu>
References: <47540390.3030809@education.wisc.edu>
	<6D65E69F-B2AF-4ABC-B270-B5AC000DA28F@r-project.org>
	<47540A56.5070308@education.wisc.edu>
Message-ID: <1E57B47C-0862-474C-BA77-C1707796F99F@r-project.org>

Same answer - please read the error messages!

Cheers,
Simon

On Dec 3, 2007, at 8:53 AM, David Kaplan wrote:

> Asking it to install dependencies helped a bit, but then I get this
>
> The downloaded packages are in
>     /var/folders/Iz/Izj5LjjmFQi4z+DYYp7e7E+++TI/-Tmp-//RtmpHcPbPa/ 
> downloaded_packages
> Loading required package: MASS
> Loading required package: strucchange
> Loading required package: zoo
> Loading required package: sandwich
> Error: package 'sandwich' could not be loaded
> In addition: Warning message:
> In library(pkg, character.only = TRUE, logical.return = TRUE,  
> lib.loc = lib.loc) :
>   there is no package called 'sandwich'
> Loading required package: strucchange
> Loading required package: sandwich
> Error: package 'sandwich' could not be loaded
> In addition: Warning message:
> In library(pkg, character.only = TRUE, logical.return = TRUE,  
> lib.loc = lib.loc) :
>   there is no package called 'sandwich'
> >
>
>
> David
>
>
> ===============================================================
> David Kaplan, Ph.D.
> Professor
> Department of Educational Psychology
> University of Wisconsin - Madison
> Educational Sciences, Room, 1061
> 1025 W. Johnson Street
> Madison, WI 53706
>
> email: dkaplan at education.wisc.edu
> homepage:
> http://www.education.wisc.edu/edpsych/facstaff/kaplan/kaplan.htm
> Phone: 608-262-0836
> ===============================================================
>
>
>
>
> Simon Urbanek wrote:
>>
>> David,
>>
>> On Dec 3, 2007, at 8:24 AM, David Kaplan wrote:
>>
>>> Hi all,
>>>
>>> I'm trying to load the package vars for a time series analysis I'm
>>> conducting.  I'm getting the following message
>>>
>>>
>>> The downloaded packages are in
>>>
>>> /var/folders/Iz/Izj5LjjmFQi4z+DYYp7e7E+++TI/-Tmp-//RtmpBKmvco/ 
>>> downloaded_packages
>>> Loading required package: MASS
>>> Loading required package: strucchange
>>> Loading required package: zoo
>>> Error: package 'zoo' could not be loaded
>>> In addition: Warning message:
>>> In library(pkg, character.only = TRUE, logical.return = TRUE,  
>>> lib.loc =
>>> lib.loc) :
>>>  there is no package called 'zoo'
>>>>
>>>
>>> When I go to the package manager and refresh, it appears but will  
>>> not
>>> allow me to check it off to load.
>>>
>>> Any thoughts?
>>>
>>
>> It tells you that you don't have the required package 'zoo' - try  
>> installing it, R is often right. (As a tip, it is usually a good  
>> idea to let R install the dependencies when you install a package).
>>
>> Cheers,
>> Simon


From tlumley at u.washington.edu  Mon Dec  3 17:33:10 2007
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Mon, 3 Dec 2007 08:33:10 -0800 (PST)
Subject: [R-SIG-Mac] malloc problem R2.6.1 on leopard
In-Reply-To: <A8EB7673-84D0-4F03-A1A7-9F54FD9BAB92@jhsph.edu>
References: <c49b2dff0711300817s1a94a6c4kf80702028c63d2d5@mail.gmail.com>
	<A8EB7673-84D0-4F03-A1A7-9F54FD9BAB92@jhsph.edu>
Message-ID: <Pine.LNX.4.64.0712030832010.20340@homer24.u.washington.edu>


Just one additional note.  This is where the 'max used' column in the 
output of gc() is helpful. The error message told you the size of the 
failed malloc attempt, gc() would tell you how much memory you had 
allocated at that point.

 	-thomas

On Sun, 2 Dec 2007, Benilton Carvalho wrote:

> The first thing to notice is that:
>
> ?expand.grid
>
> might be useful...
>
> The second is that:
>
> allsubsets(30) will return you an object of 2^30 rows by 30 columns....
>
> How big would an object like that be???
>
> 4*(2^30)*30/(1024^3) = 120GB....
>
> b
>
> On Nov 30, 2007, at 11:17 AM, Hans Kestler wrote:
>
>> Hi,
>> I just installed the latest release (2.6.1) on Leopard (Mac Pro - Quad-Core
>> Intel Xeon, 16Gb).
>> Calling :
>> 
>> allsubsets <- function (n)
>> +   {
>> +     if (n > 0)
>> +       rbind(cbind(TRUE, Recall(n - 1)), cbind(FALSE, Recall(n -1)))
>> +   }
>>> a<-allsubsets(30)
>> 
>> I get the following error:
>> 
>> Error: cannot allocate vector of size 1.5 Gb
>> 
>> R(576,0xa04f8f60) malloc: *** mmap(size=1610616832) failed (error code=12)
>> *** error: can't allocate region
>> *** set a breakpoint in malloc_error_break to debug
>> R(576,0xa04f8f60) malloc: *** mmap(size=1610616832) failed (error code=12)
>> *** error: can't allocate region
>> *** set a breakpoint in malloc_error_break to debug
>> 
>> Any ideas? Thank you.
>> 
>> Hans
>>
>> 	[[alternative HTML version deleted]]
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

Thomas Lumley			Assoc. Professor, Biostatistics
tlumley at u.washington.edu	University of Washington, Seattle


From r.j.forsyth at newcastle.ac.uk  Tue Dec  4 09:52:49 2007
From: r.j.forsyth at newcastle.ac.uk (Rob Forsyth)
Date: Tue, 4 Dec 2007 08:52:49 +0000
Subject: [R-SIG-Mac] FAQ? Mac distributed/multiple processor solutions?
Message-ID: <E72BFE19-A2B6-4886-B7A4-C2EA661B5BB4@newcastle.ac.uk>

I felt this must be an FAQ but I don't see it anywhere: my apologies  
if I've missed it.

I have what I believe is known as an "embarrassingly parallel"  
problem comprising a large number of repetitions of a single  
(lengthy) calculation that generates a boolean result and I am simply  
interested in the final proportion of true to false runs. This  
obviously lends itself to parallel computation and I'd appreciate Mac- 
specific pointers to both simple distributed and multiple-processor  
options here. I am working on an iMac G5 and could access (at home -  
i.e. not on a LAN) another G5 and a G4. I've come across the R/MPI  
package but would appreciate advice as to how easy this is to set up  
(would it actually be simpler to divide the job "manually"?).  
Alternatively I have an option to acquire a MacPro for this work and  
would appreciate guidance as to whether it's possible to leverage  
multiple processors?  I'm aware R itself is not currently  
multithreaded (whilst having only a lay understanding of what that  
means).


From richard.pearson at postgrad.manchester.ac.uk  Tue Dec  4 12:23:13 2007
From: richard.pearson at postgrad.manchester.ac.uk (Richard Pearson)
Date: Tue, 04 Dec 2007 11:23:13 +0000
Subject: [R-SIG-Mac] FAQ? Mac distributed/multiple processor solutions?
In-Reply-To: <E72BFE19-A2B6-4886-B7A4-C2EA661B5BB4@newcastle.ac.uk>
References: <E72BFE19-A2B6-4886-B7A4-C2EA661B5BB4@newcastle.ac.uk>
Message-ID: <475538A1.7050602@postgrad.manchester.ac.uk>

Hi Rob

You might want to look at the snow package. This can be used either with 
Rmpi or without (using socket connections). I've successfully used this 
for speeding up things on multi-node clusters, and also on a single 
multi-core mac. I've included some brief instructions on getting things 
working in chapter 6 of the user guide for my (bioconductor) package 
puma - hope this helps!

Richard.


Rob Forsyth wrote:
> I felt this must be an FAQ but I don't see it anywhere: my apologies  
> if I've missed it.
>
> I have what I believe is known as an "embarrassingly parallel"  
> problem comprising a large number of repetitions of a single  
> (lengthy) calculation that generates a boolean result and I am simply  
> interested in the final proportion of true to false runs. This  
> obviously lends itself to parallel computation and I'd appreciate Mac- 
> specific pointers to both simple distributed and multiple-processor  
> options here. I am working on an iMac G5 and could access (at home -  
> i.e. not on a LAN) another G5 and a G4. I've come across the R/MPI  
> package but would appreciate advice as to how easy this is to set up  
> (would it actually be simpler to divide the job "manually"?).  
> Alternatively I have an option to acquire a MacPro for this work and  
> would appreciate guidance as to whether it's possible to leverage  
> multiple processors?  I'm aware R itself is not currently  
> multithreaded (whilst having only a lay understanding of what that  
> means).
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From ripley at stats.ox.ac.uk  Tue Dec  4 12:26:38 2007
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Tue, 4 Dec 2007 11:26:38 +0000 (GMT)
Subject: [R-SIG-Mac] Bioconductor Security Certificate
In-Reply-To: <FA6E352F-811F-46B7-AC25-BACE918A85E2@math.ethz.ch>
References: <C372FCD8.1520A%engrav@u.washington.edu>
	<FA6E352F-811F-46B7-AC25-BACE918A85E2@math.ethz.ch>
Message-ID: <Pine.LNX.4.64.0712041125160.4614@gannet.stats.ox.ac.uk>

On Tue, 4 Dec 2007, Michele Marcionelli wrote:

> The official URL for the Seminar for Statistics (at the ETH Zurich) is
>
> 	http://stat.ethz.ch
>
> and not http://www.stat.math.ethz.ch, wich is just an alias; so the SSL 
> Certificate belongs to the main address "stat.ethz.ch".
>
> I just checked on http://www.bioconductor.org/docs/mailList.html an saw that 
> the link points to https://stat.ethz.ch/... which is correct. Did someone 
> already update it?

Yes, I arranged for it to be updated by their webmaster.   Thank you for 
looking into it.

>
> Kind regards,
> Michele Marcionelli
> (webmaster at math.ethz.ch)
>
>
> --
> ETH Z?rich
> Michele Marcionelli
> IT Support Gruppe D-MATH
> HG G 18
> R?mistrasse 101
> CH?8092 Z?rich
>
> michele.marcionelli at math.ethz.ch
> http://www.math.ethz.ch/~michele
>
> +41 44 632 6193 Telefon
> +41 44 632 1404 Fax
>
>
> On 28.11.2007, at 20:09, Loren Engrav wrote:
>
>> It is true as James MacDonald indicated that a spoof of Bio is unlikely so 
>> I
>> have been just ignoring the warning
>> 
>> And there are other work arounds, like telling computer to "always trust" 
>> or
>> grabbing the offered certificate and installing it in the keychain
>> 
>> On the other hand, ignoring security warnings is generally not a good idea
>> and if the fix is easy, why not fix it and avoid the work arounds
>> 
>> And then a security certificate that everyone ignores is not "security"
>> 
>> The certificate indicates email address is webmaster at math.ethz.ch so I
>> included same in thread
>> 
>> Thank you
>> 
>> Loren Engrav
>> Univ Washington
>> Seattle, WA USA
>> 
>>> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>> Date: Wed, 28 Nov 2007 14:06:52 +0000 (GMT)
>>> To: <elw at stderr.org>
>>> Cc: Loren Engrav <engrav at u.washington.edu>, RMacHelp
>>> <r-sig-mac at stat.math.ethz.ch>
>>> Subject: Re: [R-SIG-Mac] Bioconductor Security Certificate
>>> 
>>> It would be better for the base URLs to match.  The R-help address is 
>>> e.g..
>>> 
>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>> 
>>> If BioC linked to https://stat.ethz.ch/mailman/listinfo/bioconductor
>>> (which works) this particular warning would not appear.  (If I could find
>>> a webmaster address for BioC I would report it.)
>>> 
>>> (The certificate is not on Bioconductor nor on R's computers, but an 
>>> ETHZ..
>>> There have been suggestions to buy a commercial certificate for use on the
>>> R project's mailing list and svn servers hosted by ETHZ, but AFAIK they
>>> have all fizzled out.)
>>> 
>>> On Wed, 28 Nov 2007, elw at stderr.org wrote:
>>> 
>>>> the ssl certificate on the archives at stat.math.ethz.ch is a
>>>> privately-generated certificate.  that doesn't mean that there's anything
>>>> wrong with it, just that it isn't something that is "trusted" by the
>>>> keychains that come preloaded with your browser.
>>>> 
>>>> --elijah
>>>> 
>>>> On Tue, 27 Nov 2007, Loren Engrav wrote:
>>>> 
>>>>> Date: Tue, 27 Nov 2007 21:00:10 -0800
>>>>> From: Loren Engrav <engrav at u.washington.edu>
>>>>> To: RMacHelp <r-sig-mac at stat.math.ethz.ch>
>>>>> Subject: Re: [R-SIG-Mac] Bioconductor Security Certificate
>>>>> 
>>>>> Strange
>>>>> 
>>>>> Same thing happens on my kids Windows computer
>>>>> 
>>>>> I guess I do not understand as I do several secure websites per day and 
>>>>> do
>>>>> not see this message
>>>>> 
>>>>> I thought a certificate on my computer checks the certificate on the
>>>>> sending
>>>>> computer, if they match, page passes, if they do not match, message 
>>>>> comes
>>>>> up
>>>>> indicating potential trouble, so to go to a secure page I must install 
>>>>> the
>>>>> proper certificate, but I have no certificate for Bio nor can I find one
>>>>> 
>>>>> So I asked <bioconductor-owner at stat.math.ethz.ch> what to do...
>>>>> 
>>>>> Thank you
>>>>> 
>>>>> Loren Engrav
>>>>> Univ Wash
>>>>> Seattle
>>>>> 
>>>>>> From: Sean Davis <sdavis2 at mail.nih.gov>
>>>>>> Date: Tue, 27 Nov 2007 19:21:52 -0500
>>>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>>>> Cc: RMacHelp <r-sig-mac at stat.math.ethz.ch>
>>>>>> Subject: Re: [R-SIG-Mac] Bioconductor Security Certificate
>>>>>> 
>>>>>> On Nov 27, 2007 6:04 PM, Loren Engrav <engrav at u.washington.edu> wrote:
>>>>>> Am
>>>>>> using MacOS 10.4.11 and Safari 3.0.4
>>>>>> but same happens with Firefox
>>>>>> 2.0.0.9
>>>>>> 
>>>>>> When I go to
>>>>>> 
>>>>>> <http://www.bioconductor.org/docs/mailList.html>
>>>>>> 
>>>>>> And click on ??web
>>>>>> interface?? at the line "Subscribe to or browse this list
>>>>>> through the web
>>>>>> interface."
>>>>>> 
>>>>>> I get the message
>>>>>> 
>>>>>> You have attempted to establish a
>>>>>> connection with "'www.stat.math.ethz.ch".
>>>>>> However, the security
>>>>>> 
>>>>>> certificate presented belongs to "stat.ethz.ch". It is possible, though
>>>>>> 
>>>>>> unlikely, that someone may be trying to intercept your communication 
>>>>>> with>
>>>>>> this web site.
>>>>>> 
>>>>>> If you suspect the certificate shown does not belong to
>>>>>> 
>>>>>> "www.stat.math.ethz.ch" please cancel the connection and notify the 
>>>>>> site
>>>>>> 
>>>>>> administrator.
>>>>>> 
>>>>>> How do I fix this?
>>>>> 
>>>>> This is normal with a connection to a
>>>>> secure website.  Bioconductor
>>>>> does not maintain the website at
>>>>> stat.ethz.ch.
>>>>> 
>>>>>> Thank you
>>>>>> 
>>>>>> I tried to find a Bioconductor web
>>>>>> administrator and failed
>>>>> 
>>>>> This is not a problem and is not a bioconductor
>>>>> problem.  All web
>>>>> browsers on all systems should behave something like
>>>>> this.
>>>>> 
>>>>> Sean
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> -- 
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From engrav at u.washington.edu  Tue Dec  4 16:35:29 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Tue, 04 Dec 2007 07:35:29 -0800
Subject: [R-SIG-Mac] Bioconductor Security Certificate
In-Reply-To: <Pine.LNX.4.64.0712041125160.4614@gannet.stats.ox.ac.uk>
Message-ID: <C37AB3C1.155A8%engrav@u.washington.edu>

Thank you


> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
> Date: Tue, 4 Dec 2007 11:26:38 +0000 (GMT)
> To: Michele Marcionelli <michele.marcionelli at math.ethz.ch>
> Cc: Loren Engrav <engrav at u.washington.edu>, RMacHelp
> <r-sig-mac at stat.math.ethz.ch>, <elw at stderr.org>
> Subject: Re: [R-SIG-Mac] Bioconductor Security Certificate
> 
> On Tue, 4 Dec 2007, Michele Marcionelli wrote:
> 
>> The official URL for the Seminar for Statistics (at the ETH Zurich) is
>> 
>> http://stat.ethz.ch
>> 
>> and not http://www.stat.math.ethz.ch, wich is just an alias; so the SSL
>> Certificate belongs to the main address "stat.ethz.ch".
>> 
>> I just checked on http://www.bioconductor.org/docs/mailList.html an saw that
>> the link points to https://stat.ethz.ch/... which is correct. Did someone
>> already update it?
> 
> Yes, I arranged for it to be updated by their webmaster.   Thank you for
> looking into it.
> 
>> 
>> Kind regards,
>> Michele Marcionelli
>> (webmaster at math.ethz.ch)
>> 
>> 
>> --
>> ETH Z?rich
>> Michele Marcionelli
>> IT Support Gruppe D-MATH
>> HG G 18
>> R?mistrasse 101
>> CH?8092 Z?rich
>> 
>> michele.marcionelli at math.ethz.ch
>> http://www.math.ethz.ch/~michele
>> 
>> +41 44 632 6193 Telefon
>> +41 44 632 1404 Fax
>> 
>> 
>> On 28.11.2007, at 20:09, Loren Engrav wrote:
>> 
>>> It is true as James MacDonald indicated that a spoof of Bio is unlikely so
>>> I
>>> have been just ignoring the warning
>>> 
>>> And there are other work arounds, like telling computer to "always trust"
>>> or
>>> grabbing the offered certificate and installing it in the keychain
>>> 
>>> On the other hand, ignoring security warnings is generally not a good idea
>>> and if the fix is easy, why not fix it and avoid the work arounds
>>> 
>>> And then a security certificate that everyone ignores is not "security"
>>> 
>>> The certificate indicates email address is webmaster at math.ethz.ch so I
>>> included same in thread
>>> 
>>> Thank you
>>> 
>>> Loren Engrav
>>> Univ Washington
>>> Seattle, WA USA
>>> 
>>>> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>> Date: Wed, 28 Nov 2007 14:06:52 +0000 (GMT)
>>>> To: <elw at stderr.org>
>>>> Cc: Loren Engrav <engrav at u.washington.edu>, RMacHelp
>>>> <r-sig-mac at stat.math.ethz.ch>
>>>> Subject: Re: [R-SIG-Mac] Bioconductor Security Certificate
>>>> 
>>>> It would be better for the base URLs to match.  The R-help address is
>>>> e.g..
>>>> 
>>>> https://stat.ethz.ch/mailman/listinfo/r-help
>>>> 
>>>> If BioC linked to https://stat.ethz.ch/mailman/listinfo/bioconductor
>>>> (which works) this particular warning would not appear.  (If I could find
>>>> a webmaster address for BioC I would report it.)
>>>> 
>>>> (The certificate is not on Bioconductor nor on R's computers, but an
>>>> ETHZ..
>>>> There have been suggestions to buy a commercial certificate for use on the
>>>> R project's mailing list and svn servers hosted by ETHZ, but AFAIK they
>>>> have all fizzled out.)
>>>> 
>>>> On Wed, 28 Nov 2007, elw at stderr.org wrote:
>>>> 
>>>>> the ssl certificate on the archives at stat.math.ethz.ch is a
>>>>> privately-generated certificate.  that doesn't mean that there's anything
>>>>> wrong with it, just that it isn't something that is "trusted" by the
>>>>> keychains that come preloaded with your browser.
>>>>> 
>>>>> --elijah
>>>>> 
>>>>> On Tue, 27 Nov 2007, Loren Engrav wrote:
>>>>> 
>>>>>> Date: Tue, 27 Nov 2007 21:00:10 -0800
>>>>>> From: Loren Engrav <engrav at u.washington.edu>
>>>>>> To: RMacHelp <r-sig-mac at stat.math.ethz.ch>
>>>>>> Subject: Re: [R-SIG-Mac] Bioconductor Security Certificate
>>>>>> 
>>>>>> Strange
>>>>>> 
>>>>>> Same thing happens on my kids Windows computer
>>>>>> 
>>>>>> I guess I do not understand as I do several secure websites per day and
>>>>>> do
>>>>>> not see this message
>>>>>> 
>>>>>> I thought a certificate on my computer checks the certificate on the
>>>>>> sending
>>>>>> computer, if they match, page passes, if they do not match, message
>>>>>> comes
>>>>>> up
>>>>>> indicating potential trouble, so to go to a secure page I must install
>>>>>> the
>>>>>> proper certificate, but I have no certificate for Bio nor can I find one
>>>>>> 
>>>>>> So I asked <bioconductor-owner at stat.math.ethz.ch> what to do...
>>>>>> 
>>>>>> Thank you
>>>>>> 
>>>>>> Loren Engrav
>>>>>> Univ Wash
>>>>>> Seattle
>>>>>> 
>>>>>>> From: Sean Davis <sdavis2 at mail.nih.gov>
>>>>>>> Date: Tue, 27 Nov 2007 19:21:52 -0500
>>>>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>>>>> Cc: RMacHelp <r-sig-mac at stat.math.ethz.ch>
>>>>>>> Subject: Re: [R-SIG-Mac] Bioconductor Security Certificate
>>>>>>> 
>>>>>>> On Nov 27, 2007 6:04 PM, Loren Engrav <engrav at u.washington.edu> wrote:
>>>>>>> Am
>>>>>>> using MacOS 10.4.11 and Safari 3.0.4
>>>>>>> but same happens with Firefox
>>>>>>> 2.0.0.9
>>>>>>> 
>>>>>>> When I go to
>>>>>>> 
>>>>>>> <http://www.bioconductor.org/docs/mailList.html>
>>>>>>> 
>>>>>>> And click on ??web
>>>>>>> interface?? at the line "Subscribe to or browse this list
>>>>>>> through the web
>>>>>>> interface."
>>>>>>> 
>>>>>>> I get the message
>>>>>>> 
>>>>>>> You have attempted to establish a
>>>>>>> connection with "'www.stat.math.ethz.ch".
>>>>>>> However, the security
>>>>>>> 
>>>>>>> certificate presented belongs to "stat.ethz.ch". It is possible, though
>>>>>>> 
>>>>>>> unlikely, that someone may be trying to intercept your communication
>>>>>>> with>
>>>>>>> this web site.
>>>>>>> 
>>>>>>> If you suspect the certificate shown does not belong to
>>>>>>> 
>>>>>>> "www.stat.math.ethz.ch" please cancel the connection and notify the
>>>>>>> site
>>>>>>> 
>>>>>>> administrator.
>>>>>>> 
>>>>>>> How do I fix this?
>>>>>> 
>>>>>> This is normal with a connection to a
>>>>>> secure website.  Bioconductor
>>>>>> does not maintain the website at
>>>>>> stat.ethz.ch.
>>>>>> 
>>>>>>> Thank you
>>>>>>> 
>>>>>>> I tried to find a Bioconductor web
>>>>>>> administrator and failed
>>>>>> 
>>>>>> This is not a problem and is not a bioconductor
>>>>>> problem.  All web
>>>>>> browsers on all systems should behave something like
>>>>>> this.
>>>>>> 
>>>>>> Sean
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> -- 
>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From khansen at stat.Berkeley.EDU  Tue Dec  4 18:16:13 2007
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Tue, 4 Dec 2007 09:16:13 -0800
Subject: [R-SIG-Mac] FAQ? Mac distributed/multiple processor solutions?
In-Reply-To: <E72BFE19-A2B6-4886-B7A4-C2EA661B5BB4@newcastle.ac.uk>
References: <E72BFE19-A2B6-4886-B7A4-C2EA661B5BB4@newcastle.ac.uk>
Message-ID: <16BDE605-70EE-474A-9251-D6C53850641D@stat.berkeley.edu>

On Dec 4, 2007, at 12:52 AM, Rob Forsyth wrote:
> Alternatively I have an option to acquire a MacPro for this work and
> would appreciate guidance as to whether it's possible to leverage
> multiple processors?  I'm aware R itself is not currently
> multithreaded (whilst having only a lay understanding of what that
> means).

One important thing here: while R is not multithreaded, on Mac OS X,  
R uses a special BLAS which is multithreaded. So anything involving  
linear algebra (which for some problems is a major part of the  
computational load), will benefit from having multiple CPUs in the  
same machine. Depending on your problem this may be indeed speed up  
your things.

Kasper


From tlumley at u.washington.edu  Tue Dec  4 19:57:58 2007
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Tue, 4 Dec 2007 10:57:58 -0800 (PST)
Subject: [R-SIG-Mac] FAQ? Mac distributed/multiple processor solutions?
In-Reply-To: <E72BFE19-A2B6-4886-B7A4-C2EA661B5BB4@newcastle.ac.uk>
References: <E72BFE19-A2B6-4886-B7A4-C2EA661B5BB4@newcastle.ac.uk>
Message-ID: <Pine.LNX.4.64.0712041057160.11780@homer24.u.washington.edu>

On Tue, 4 Dec 2007, Rob Forsyth wrote:
> options here. I am working on an iMac G5 and could access (at home -
> i.e. not on a LAN) another G5 and a G4. I've come across the R/MPI
> package but would appreciate advice as to how easy this is to set up
> (would it actually be simpler to divide the job "manually"?).

With only three computers it would be easiest to divide the job manually.

 	-thomas


From hpages at fhcrc.org  Tue Dec  4 21:27:54 2007
From: hpages at fhcrc.org (Herve Pages)
Date: Tue, 04 Dec 2007 12:27:54 -0800
Subject: [R-SIG-Mac] malloc problem R2.6.1 on leopard
In-Reply-To: <c49b2dff0711300817s1a94a6c4kf80702028c63d2d5@mail.gmail.com>
References: <c49b2dff0711300817s1a94a6c4kf80702028c63d2d5@mail.gmail.com>
Message-ID: <4755B84A.2040907@fhcrc.org>

Hi Hans,

In the case you plan to use the result of allsubsets(n) to loop over the
rows of the big returned matrix, then I would rather recommend a more
efficient approach where you don't generate this matrix at all. Something
like this:

nextSubset <- function(subset)
{

    i <- which(!subset)[1]
    if (is.na(i))
        return(NULL)
    subset[seq_len(i-1)] <- FALSE
    subset[i] <- TRUE
    subset
}

subset <- logical(30)
while (TRUE) {
    ... do something with 'subset' ...
    subset <- nextSubset(subset)
    if (is.null(subset))
        break
}

With an empty loop, I get the following:

  > subset <- logical(20)
  > system.time(while (1) { subset <- nextSubset(subset); if (is.null(subset)) break })
     user  system elapsed
   18.241   0.032  18.735

So with n = 30, this would take between 5 and 6 h just to loop over an
empty loop. This is a lot of time but at least you don't generate all
the possible subsets in advance which is just a waste of memory.

Cheers,
H.


Hans Kestler wrote:
> Hi,
> I just installed the latest release (2.6.1) on Leopard (Mac Pro - Quad-Core
> Intel Xeon, 16Gb).
> Calling :
> 
> allsubsets <- function (n)
> +   {
> +     if (n > 0)
> +       rbind(cbind(TRUE, Recall(n - 1)), cbind(FALSE, Recall(n -1)))
> +   }
>> a<-allsubsets(30)
> 
> I get the following error:
> 
> Error: cannot allocate vector of size 1.5 Gb
> 
> R(576,0xa04f8f60) malloc: *** mmap(size=1610616832) failed (error code=12)
> *** error: can't allocate region
> *** set a breakpoint in malloc_error_break to debug
> R(576,0xa04f8f60) malloc: *** mmap(size=1610616832) failed (error code=12)
> *** error: can't allocate region
> *** set a breakpoint in malloc_error_break to debug
> 
> Any ideas? Thank you.
> 
> Hans
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From rjohnson at ncifcrf.gov  Tue Dec  4 22:26:21 2007
From: rjohnson at ncifcrf.gov (Randall Johnson [Contr])
Date: Tue, 4 Dec 2007 16:26:21 -0500
Subject: [R-SIG-Mac] FAQ? Mac distributed/multiple processor solutions?
In-Reply-To: <Pine.LNX.4.64.0712041057160.11780@homer24.u.washington.edu>
References: <E72BFE19-A2B6-4886-B7A4-C2EA661B5BB4@newcastle.ac.uk>
	<Pine.LNX.4.64.0712041057160.11780@homer24.u.washington.edu>
Message-ID: <781167F1-570A-45AD-877A-DE87090DEEB1@ncifcrf.gov>


For a one-time run this is true, but if you find yourself doing this  
(or similar things) often, it can be a nuisance to break it up every  
time. The snow package is fairly painless to install and works great.

I found, however, that if you have things (eg R, LAM/MPI, ...)  
installed outside of the default Mac OS X path when connecting with  
ssh that they won't run unless you add (or uncomment?)  
?PermitUserEnvironment yes? to /private/etc/sshd_con?g in order  
to use the modified path (set in .bash_profile) on the other OS X  
machines. Perhaps there is a better way, but that is how I got it  
working. Although I think this is the default setting on Leopard (and  
would only be an issue for earlier versions).

Best,
Randy

On Dec 4, 2007, at 1:57 PM, Thomas Lumley wrote:

> On Tue, 4 Dec 2007, Rob Forsyth wrote:
>> options here. I am working on an iMac G5 and could access (at home -
>> i.e. not on a LAN) another G5 and a G4. I've come across the R/MPI
>> package but would appreciate advice as to how easy this is to set up
>> (would it actually be simpler to divide the job "manually"?).
>
> With only three computers it would be easiest to divide the job  
> manually.
>
> 	-thomas
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Randall C Johnson
Bioinformatics Analyst
SAIC-Frederick, Inc (Contractor)
Laboratory of Genomic Diversity
NCI-Frederick, P.O. Box B
Bldg 560, Rm 11-85
Frederick, MD 21702
Phone: (301) 846-1304
Fax: (301) 846-1686
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


From michele.marcionelli at math.ethz.ch  Tue Dec  4 11:23:14 2007
From: michele.marcionelli at math.ethz.ch (Michele Marcionelli)
Date: Tue, 04 Dec 2007 11:23:14 +0100
Subject: [R-SIG-Mac] Bioconductor Security Certificate
In-Reply-To: <C372FCD8.1520A%engrav@u.washington.edu>
References: <C372FCD8.1520A%engrav@u.washington.edu>
Message-ID: <FA6E352F-811F-46B7-AC25-BACE918A85E2@math.ethz.ch>

The official URL for the Seminar for Statistics (at the ETH Zurich) is

	http://stat.ethz.ch

and not http://www.stat.math.ethz.ch, wich is just an alias; so the  
SSL Certificate belongs to the main address "stat.ethz.ch".

I just checked on http://www.bioconductor.org/docs/mailList.html an  
saw that the link points to https://stat.ethz.ch/... which is  
correct. Did someone already update it?

Kind regards,
Michele Marcionelli
(webmaster at math.ethz.ch)


--
ETH Z?rich
Michele Marcionelli
IT Support Gruppe D-MATH
HG G 18
R?mistrasse 101
CH?8092 Z?rich

michele.marcionelli at math.ethz.ch
http://www.math.ethz.ch/~michele

+41 44 632 6193 Telefon
+41 44 632 1404 Fax


On 28.11.2007, at 20:09, Loren Engrav wrote:

> It is true as James MacDonald indicated that a spoof of Bio is  
> unlikely so I
> have been just ignoring the warning
>
> And there are other work arounds, like telling computer to "always  
> trust" or
> grabbing the offered certificate and installing it in the keychain
>
> On the other hand, ignoring security warnings is generally not a  
> good idea
> and if the fix is easy, why not fix it and avoid the work arounds
>
> And then a security certificate that everyone ignores is not  
> "security"
>
> The certificate indicates email address is webmaster at math.ethz.ch so I
> included same in thread
>
> Thank you
>
> Loren Engrav
> Univ Washington
> Seattle, WA USA
>
>> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
>> Date: Wed, 28 Nov 2007 14:06:52 +0000 (GMT)
>> To: <elw at stderr.org>
>> Cc: Loren Engrav <engrav at u.washington.edu>, RMacHelp
>> <r-sig-mac at stat.math.ethz.ch>
>> Subject: Re: [R-SIG-Mac] Bioconductor Security Certificate
>>
>> It would be better for the base URLs to match.  The R-help address  
>> is e.g..
>>
>> https://stat.ethz.ch/mailman/listinfo/r-help
>>
>> If BioC linked to https://stat.ethz.ch/mailman/listinfo/bioconductor
>> (which works) this particular warning would not appear.  (If I  
>> could find
>> a webmaster address for BioC I would report it.)
>>
>> (The certificate is not on Bioconductor nor on R's computers, but  
>> an ETHZ..
>> There have been suggestions to buy a commercial certificate for  
>> use on the
>> R project's mailing list and svn servers hosted by ETHZ, but AFAIK  
>> they
>> have all fizzled out.)
>>
>> On Wed, 28 Nov 2007, elw at stderr.org wrote:
>>
>>> the ssl certificate on the archives at stat.math.ethz.ch is a
>>> privately-generated certificate.  that doesn't mean that there's  
>>> anything
>>> wrong with it, just that it isn't something that is "trusted" by the
>>> keychains that come preloaded with your browser.
>>>
>>> --elijah
>>>
>>> On Tue, 27 Nov 2007, Loren Engrav wrote:
>>>
>>>> Date: Tue, 27 Nov 2007 21:00:10 -0800
>>>> From: Loren Engrav <engrav at u.washington.edu>
>>>> To: RMacHelp <r-sig-mac at stat.math.ethz.ch>
>>>> Subject: Re: [R-SIG-Mac] Bioconductor Security Certificate
>>>>
>>>> Strange
>>>>
>>>> Same thing happens on my kids Windows computer
>>>>
>>>> I guess I do not understand as I do several secure websites per  
>>>> day and do
>>>> not see this message
>>>>
>>>> I thought a certificate on my computer checks the certificate on  
>>>> the
>>>> sending
>>>> computer, if they match, page passes, if they do not match,  
>>>> message comes
>>>> up
>>>> indicating potential trouble, so to go to a secure page I must  
>>>> install the
>>>> proper certificate, but I have no certificate for Bio nor can I  
>>>> find one
>>>>
>>>> So I asked <bioconductor-owner at stat.math.ethz.ch> what to do...
>>>>
>>>> Thank you
>>>>
>>>> Loren Engrav
>>>> Univ Wash
>>>> Seattle
>>>>
>>>>> From: Sean Davis <sdavis2 at mail.nih.gov>
>>>>> Date: Tue, 27 Nov 2007 19:21:52 -0500
>>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>>> Cc: RMacHelp <r-sig-mac at stat.math.ethz.ch>
>>>>> Subject: Re: [R-SIG-Mac] Bioconductor Security Certificate
>>>>>
>>>>> On Nov 27, 2007 6:04 PM, Loren Engrav <engrav at u.washington.edu>  
>>>>> wrote:
>>>>> Am
>>>>> using MacOS 10.4.11 and Safari 3.0.4
>>>>> but same happens with Firefox
>>>>> 2.0.0.9
>>>>>
>>>>> When I go to
>>>>>
>>>>> <http://www.bioconductor.org/docs/mailList.html>
>>>>>
>>>>> And click on ??web
>>>>> interface?? at the line "Subscribe to or browse this list
>>>>> through the web
>>>>> interface."
>>>>>
>>>>> I get the message
>>>>>
>>>>> You have attempted to establish a
>>>>> connection with "'www.stat.math.ethz.ch".
>>>>> However, the security
>>>>>
>>>>> certificate presented belongs to "stat.ethz.ch". It is  
>>>>> possible, though
>>>>>
>>>>> unlikely, that someone may be trying to intercept your  
>>>>> communication with>
>>>>> this web site.
>>>>>
>>>>> If you suspect the certificate shown does not belong to
>>>>>
>>>>> "www.stat.math.ethz.ch" please cancel the connection and notify  
>>>>> the site
>>>>>
>>>>> administrator.
>>>>>
>>>>> How do I fix this?
>>>>
>>>> This is normal with a connection to a
>>>> secure website.  Bioconductor
>>>> does not maintain the website at
>>>> stat.ethz.ch.
>>>>
>>>>> Thank you
>>>>>
>>>>> I tried to find a Bioconductor web
>>>>> administrator and failed
>>>>
>>>> This is not a problem and is not a bioconductor
>>>> problem.  All web
>>>> browsers on all systems should behave something like
>>>> this.
>>>>
>>>> Sean
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> -- 
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ken.williams at Thomson.com  Tue Dec  4 20:50:48 2007
From: ken.williams at Thomson.com (Ken Williams)
Date: Tue, 04 Dec 2007 13:50:48 -0600
Subject: [R-SIG-Mac] Save-history dialog won't go away
In-Reply-To: <C37B0AF7.159D2%ken.williams@thomson.com>
Message-ID: <C37B0BB8.159D6%ken.williams@thomson.com>

One more fact: I *think* this only happens when I hit my <return> key to
dismiss the dialog, rather than manually clicking the "Save" button.  Either
that, or it's intermittent and I've gotten unlucky.

 -Ken


On 12/4/07 1:47 PM, "Ken Williams" <ken.williams at thomson.com> wrote:

> Hi,
> 
> I just installed GUI 1.22-devel (4859) to see if it would fix an interface
> problem I'm seeing, but apparently not.
> 
> When I open my command history pane and click the "Save History" button, I can
> save the history fine and when I click the dialog's "Save" button, the file
> chooser dialog disappears.  However, if I then hit command-` to cycle through
> windows, the dialog suddenly reappears from thin air.
> 
> This has even caused a couple of problems where the dialog's contents appear
> in a PDF export of a Quartz graphics window.
> 
> The only way I seem to be able to get rid of it permanently is to quit R.app
> and restart it.

-- 
Ken Williams
Research Scientist
The Thomson Corporation
Eagan, MN


From r.hankin at noc.soton.ac.uk  Wed Dec  5 09:45:43 2007
From: r.hankin at noc.soton.ac.uk (Robin Hankin)
Date: Wed, 5 Dec 2007 08:45:43 +0000
Subject: [R-SIG-Mac] R console hangs
Message-ID: <CF985320-ABDA-45A6-B0D0-F1B079053157@noc.soton.ac.uk>

Hi



MacOSX10.4.11; R-2.6.1 (downloaded the dmg yesterday).


I am having difficulty with system().  In my case the unix command  
produces
a single very very long line and my toy example appears to
hang R:


string <- "yes | sed 10q | tr '\n' ' ' "
a <- system(string,intern=TRUE)

in the R Console  R seems to hang and
I need to force-quit.


Things are better on a terminal but I still need to type control-C
to suspend the system() command.


Anyone?



--
Robin Hankin
Uncertainty Analyst and Neutral Theorist,
National Oceanography Centre, Southampton
European Way, Southampton SO14 3ZH, UK
  tel  023-8059-7743


From simon.urbanek at r-project.org  Wed Dec  5 15:39:07 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 5 Dec 2007 09:39:07 -0500
Subject: [R-SIG-Mac] R console hangs
In-Reply-To: <CF985320-ABDA-45A6-B0D0-F1B079053157@noc.soton.ac.uk>
References: <CF985320-ABDA-45A6-B0D0-F1B079053157@noc.soton.ac.uk>
Message-ID: <7370CAE1-EAD4-4FC6-BC12-C5B752B65058@r-project.org>

On Dec 5, 2007, at 3:45 AM, Robin Hankin wrote:

> MacOSX10.4.11; R-2.6.1 (downloaded the dmg yesterday).
>
>
> I am having difficulty with system().  In my case the unix command
> produces
> a single very very long line and my toy example appears to
> hang R:
>
>
> string <- "yes | sed 10q | tr '\n' ' ' "
> a <- system(string,intern=TRUE)
>
> in the R Console  R seems to hang and
> I need to force-quit.
>
>
> Things are better on a terminal but I still need to type control-C
> to suspend the system() command.
>
>
> Anyone?
>

In the above example "yes" is running forever despite the fact that  
its pipe has been closed (look in ps) and R is waiting for yes to quit  
which it doesn't.

The cause is that SIGPIPE is set to be ignored by R, and this behavior  
is inherited by the processes it starts, including the yes process.  
Since yes runs forever and relies on a PIPE signal to stop, it will  
never stop when run from R (save for an explicit SIGINT).

Changing system to something like

   sig_t psh=signal(SIGPIPE, SIG_DFL);
   system(command);
   if (psh != SIG_ERR) signal(SIGPIPE, psh);

fixes the problem. However, I'm not sure whether this has any side- 
effects I'm not aware of - hence CC to R-core: is the above safe? Also  
I don't quite understand why this behavior is not seen on Linux  
despite the fact that SIGPIPE is equally blocked ...

Cheers,
Simon


From kjbeath at kagi.com  Thu Dec  6 10:59:17 2007
From: kjbeath at kagi.com (Ken Beath)
Date: Thu, 6 Dec 2007 20:59:17 +1100
Subject: [R-SIG-Mac] FAQ? Mac distributed/multiple processor solutions?
In-Reply-To: <Pine.LNX.4.64.0712041057160.11780@homer24.u.washington.edu>
References: <E72BFE19-A2B6-4886-B7A4-C2EA661B5BB4@newcastle.ac.uk>
	<Pine.LNX.4.64.0712041057160.11780@homer24.u.washington.edu>
Message-ID: <CC72A4E3-2160-4518-8CB2-86D4419EDE7A@kagi.com>

On 05/12/2007, at 5:57 AM, Thomas Lumley wrote:

> On Tue, 4 Dec 2007, Rob Forsyth wrote:
>> options here. I am working on an iMac G5 and could access (at home -
>> i.e. not on a LAN) another G5 and a G4. I've come across the R/MPI
>> package but would appreciate advice as to how easy this is to set up
>> (would it actually be simpler to divide the job "manually"?).
>
> With only three computers it would be easiest to divide the job  
> manually.
>

Much easier, and if you have access to a machine with multiple  
processors, simply duplicate the R process to have the same number as  
the number of processors, and then run them simultaneously. Not as  
elegant and maybe not as efficient as other methods, but effective.

Ken


From ripley at stats.ox.ac.uk  Thu Dec  6 11:13:19 2007
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 6 Dec 2007 10:13:19 +0000 (GMT)
Subject: [R-SIG-Mac] FAQ? Mac distributed/multiple processor solutions?
In-Reply-To: <CC72A4E3-2160-4518-8CB2-86D4419EDE7A@kagi.com>
References: <E72BFE19-A2B6-4886-B7A4-C2EA661B5BB4@newcastle.ac.uk>
	<Pine.LNX.4.64.0712041057160.11780@homer24.u.washington.edu>
	<CC72A4E3-2160-4518-8CB2-86D4419EDE7A@kagi.com>
Message-ID: <Pine.LNX.4.64.0712061005050.19485@gannet.stats.ox.ac.uk>

On Thu, 6 Dec 2007, Ken Beath wrote:

> On 05/12/2007, at 5:57 AM, Thomas Lumley wrote:
>
>> On Tue, 4 Dec 2007, Rob Forsyth wrote:
>>> options here. I am working on an iMac G5 and could access (at home -
>>> i.e. not on a LAN) another G5 and a G4. I've come across the R/MPI
>>> package but would appreciate advice as to how easy this is to set up
>>> (would it actually be simpler to divide the job "manually"?).
>>
>> With only three computers it would be easiest to divide the job
>> manually.
>>
>
> Much easier, and if you have access to a machine with multiple
> processors, simply duplicate the R process to have the same number as
> the number of processors, and then run them simultaneously. Not as
> elegant and maybe not as efficient as other methods, but effective.

But those processes need to do different things (and record the results in 
different files), which is what Thomas means by 'divide the job manually'.

Incidentally, I find it useful to run slightly more R processes than the 
number of processors, to ensure full CPU usage when one of the processes 
is in an I/O wait or hits a swapping trap.  (Provided you have ample RAM 
or you will get additional swapping.)

Even with many processors it may be easisest to do this manually.  Our 
geneticists do simulation-based inference by running separate simulation 
runs on up to 100s of processors simultaneously: the scheduler works 
better with independent jobs.

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From kjbeath at kagi.com  Thu Dec  6 12:24:32 2007
From: kjbeath at kagi.com (Ken Beath)
Date: Thu, 6 Dec 2007 22:24:32 +1100
Subject: [R-SIG-Mac] FAQ? Mac distributed/multiple processor solutions?
In-Reply-To: <Pine.LNX.4.64.0712061005050.19485@gannet.stats.ox.ac.uk>
References: <E72BFE19-A2B6-4886-B7A4-C2EA661B5BB4@newcastle.ac.uk>
	<Pine.LNX.4.64.0712041057160.11780@homer24.u.washington.edu>
	<CC72A4E3-2160-4518-8CB2-86D4419EDE7A@kagi.com>
	<Pine.LNX.4.64.0712061005050.19485@gannet.stats.ox.ac.uk>
Message-ID: <8D9D414E-D3BF-41CD-BCA6-047BD5DA5A63@kagi.com>


On 06/12/2007, at 9:13 PM, Prof Brian Ripley wrote:

> On Thu, 6 Dec 2007, Ken Beath wrote:
>
>> On 05/12/2007, at 5:57 AM, Thomas Lumley wrote:
>>
>>> On Tue, 4 Dec 2007, Rob Forsyth wrote:
>>>> options here. I am working on an iMac G5 and could access (at  
>>>> home -
>>>> i.e. not on a LAN) another G5 and a G4. I've come across the R/MPI
>>>> package but would appreciate advice as to how easy this is to set  
>>>> up
>>>> (would it actually be simpler to divide the job "manually"?).
>>>
>>> With only three computers it would be easiest to divide the job
>>> manually.
>>>
>>
>> Much easier, and if you have access to a machine with multiple
>> processors, simply duplicate the R process to have the same number as
>> the number of processors, and then run them simultaneously. Not as
>> elegant and maybe not as efficient as other methods, but effective.
>
> But those processes need to do different things (and record the  
> results in
> different files), which is what Thomas means by 'divide the job  
> manually'.
>
> Incidentally, I find it useful to run slightly more R processes than  
> the
> number of processors, to ensure full CPU usage when one of the  
> processes
> is in an I/O wait or hits a swapping trap.  (Provided you have ample  
> RAM
> or you will get additional swapping.)
>
> Even with many processors it may be easisest to do this manually.  Our
> geneticists do simulation-based inference by running separate  
> simulation
> runs on up to 100s of processors simultaneously: the scheduler works
> better with independent jobs.
>

I meant duplicate the R application, using the Finder. I thought it  
was unnecessary to mention that it will require a different set of  
commands to be run in each copy of R.

Ken


From hoontaechung at gmail.com  Fri Dec  7 03:40:00 2007
From: hoontaechung at gmail.com (=?EUC-KR?B?waQgxcLIxg==?=)
Date: Fri, 7 Dec 2007 11:40:00 +0900
Subject: [R-SIG-Mac] 64-bit R compiling problem on Leopard
Message-ID: <14B5765F-209F-4A9E-9BB6-5689D8A5A1E9@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20071207/63041a0b/attachment.pl 

From jeanluc.jannink at ARS.USDA.GOV  Fri Dec  7 07:00:53 2007
From: jeanluc.jannink at ARS.USDA.GOV (Jean-Luc Jannink)
Date: Fri, 07 Dec 2007 01:00:53 -0500
Subject: [R-SIG-Mac] R error
Message-ID: <C37E4BC5.3401A%jeanluc.jannink@ars.usda.gov>

Don't fully know how to reproduce this error.  Below are the error messages.
What it LOOKED like was, when I would scroll to the bottom of the editing
window, all the text would disappear, and these error messages would be
produced in the console.
Thanks,
Jean-Luc Jannink

2007-12-07 00:53:02.521 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:02.544 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:06.564 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:06.585 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:06.612 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:07.570 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:07.593 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:07.615 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:09.111 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:09.133 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:09.161 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:09.194 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:09.228 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:09.249 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:09.274 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:09.296 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:09.316 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:09.342 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:10.324 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:10.345 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:10.365 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:10.390 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:10.412 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:10.434 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:11.376 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:11.397 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:11.423 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:11.459 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:11.480 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:11.508 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:11.528 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:11.559 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:11.592 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:11.626 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:12.679 R[18551] tossing reply message sequence 13 on thread
0x16f77a0
2007-12-07 00:53:12.679 R[18551] tossing reply message sequence 14 on thread
0x16f77a0
2007-12-07 00:53:12.679 R[18551] tossing reply message sequence 15 on thread
0x16f77a0
2007-12-07 00:53:23.200 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:23.259 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:23.300 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:23.350 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:23.400 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:25.995 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:26.017 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:31.699 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:31.720 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:32.788 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:53:32.810 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:57.701 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:57.722 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:57.742 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:57.824 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:57.844 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:57.871 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:57.892 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:57.913 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:57.937 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:57.973 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:58.389 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:58.689 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:58.710 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:58.739 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:58.760 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:58.787 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:54:58.807 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:55:00.335 R[18551] tossing reply message sequence 25 on thread
0x16f77a0
2007-12-07 00:55:09.969 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:55:09.995 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:55:10.018 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:55:10.045 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:55:10.068 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:55:12.193 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:55:12.217 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:55:12.243 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:55:12.267 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:55:13.402 R[18551] tossing reply message sequence 28 on thread
0x16f77a0
2007-12-07 00:55:21.153 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:55:21.985 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:55:22.069 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:55:25.531 R[18551] *** REngine.runREPL: caught ObjC exception
in the main loop!
*** Please report the following error on r-sig-mac at r-project.org along with
the full description of how to reproduce it:
*** reason: NSMutableRLEArray replaceObjectsInRange:withObject:length:: Out
of bounds
*** name: NSRangeException, info: (null)
*** Version: R 2.5.1 (42083) R.app R 2.5.1 GUI 1.20 (4535)/i386
Consider saving your work soon in case this problem leads to a full crash.
2007-12-07 00:55:25.559 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:55:33.756 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds
2007-12-07 00:55:33.779 R[18551] NSMutableRLEArray
objectAtIndex:effectiveRange:: Out of bounds

-- 
Jean-Luc Jannink, Small Grains Quantitative Geneticist
USDA-ARS, Robert W. Holley Center for Agriculture and Health
Phone +1 607 255 5266
Fax +1 607 255 6683
Email jeanluc.jannink at ars.usda.gov

Mailing Address:
Cornell University
Dept. of Plant Breeding and Genetics
407 Bradfield Hall
Ithaca, NY 14853
USA


From bcarvalh at jhsph.edu  Fri Dec  7 08:34:58 2007
From: bcarvalh at jhsph.edu (Benilton Carvalho)
Date: Fri, 7 Dec 2007 02:34:58 -0500
Subject: [R-SIG-Mac] installing 'snow' package on Leopard
Message-ID: <1E455FC1-5C9F-49EB-8D0C-5025FFADE539@jhsph.edu>

Hi everyone,

I'm trying to install the snow package for R-2.7.0 on a Leopard system  
(10.5.1) - macbook pro.

I installed PVM and now I'm trying to install (also from the source)  
SPRNG.

SPRNG failed to build in two situations:

1) it could not find libstdc++, so i created a symbolic link pointing  
to libstdc++-static
2) when (1) was applied, i got the errors described at the end of this  
message.

Anyone with any suggestion to share?

Thank you so much,

b

--
Benilton Carvalho
PhD Candidate
Department of Biostatistics
Bloomberg School of Public Health
Johns Hopkins University

===

gfortran  -g -O2   -o check.flfg -Wl,-u,_munmap -Wl,- 
multiply_defined,suppress -L/usr//lib -lmpi_cxx -lmpi -lopen-rte - 
lopen-pal -lutil check_flfg-check_genf.o -L../../lib -lsprng -lstdc++ - 
lm
Undefined symbols:
   "_ffree_rng_", referenced from:
       _check_errors_ in check_flfg-check_genf.o
       _check_errors_ in check_flfg-check_genf.o
       _check_errors_ in check_flfg-check_genf.o
       _check_errors_ in check_flfg-check_genf.o
       _check_errors_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
   "_fmake_new_seed_", referenced from:
       _MAIN__ in check_flfg-check_genf.o
       _MAIN__ in check_flfg-check_genf.o
   "_fspawn_rng_", referenced from:
       _check_errors_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
   "_fpack_rng_", referenced from:
       _check_gen_ in check_flfg-check_genf.o
   "_finit_rng_", referenced from:
       _check_errors_ in check_flfg-check_genf.o
       _check_errors_ in check_flfg-check_genf.o
       _check_errors_ in check_flfg-check_genf.o
       _check_errors_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
   "_fget_rn_flt_", referenced from:
       _check_gen_ in check_flfg-check_genf.o
   "_funpack_rng_", referenced from:
       _check_errors_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
   "_fget_rn_dbl_", referenced from:
       _check_gen_ in check_flfg-check_genf.o
   "_fget_rn_int_", referenced from:
       _check_errors_ in check_flfg-check_genf.o
       _check_errors_ in check_flfg-check_genf.o
       _check_errors_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
       _check_gen_ in check_flfg-check_genf.o
ld: symbol(s) not found
collect2: ld returned 1 exit status
make[4]: *** [check.flfg] Error 1
make[3]: *** [all-recursive] Error 1
make[2]: *** [all-recursive] Error 1
make[1]: *** [all-recursive] Error 1
make: *** [all] Error 2

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2419 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20071207/d5ae30c6/attachment.bin 

From ripley at stats.ox.ac.uk  Fri Dec  7 14:48:29 2007
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 7 Dec 2007 13:48:29 +0000 (GMT)
Subject: [R-SIG-Mac] R console hangs
In-Reply-To: <CF985320-ABDA-45A6-B0D0-F1B079053157@noc.soton.ac.uk>
References: <CF985320-ABDA-45A6-B0D0-F1B079053157@noc.soton.ac.uk>
Message-ID: <Pine.LNX.4.64.0712071343570.9652@gannet.stats.ox.ac.uk>

This is now resolved in R-devel.  It does seem MacOS-specific, but we 
don't know why it differs from Linux or Solaris, say.

On Wed, 5 Dec 2007, Robin Hankin wrote:

> MacOSX10.4.11; R-2.6.1 (downloaded the dmg yesterday).
>
> I am having difficulty with system().  In my case the unix command
> produces
> a single very very long line and my toy example appears to
> hang R:
>
> string <- "yes | sed 10q | tr '\n' ' ' "
> a <- system(string,intern=TRUE)
>
> in the R Console  R seems to hang and
> I need to force-quit.
>
> Things are better on a terminal but I still need to type control-C
> to suspend the system() command.
>
> Anyone?
>
> --
> Robin Hankin
> Uncertainty Analyst and Neutral Theorist,
> National Oceanography Centre, Southampton
> European Way, Southampton SO14 3ZH, UK
>  tel  023-8059-7743
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Fri Dec  7 18:11:31 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 7 Dec 2007 12:11:31 -0500
Subject: [R-SIG-Mac] 64-bit R compiling problem on Leopard
In-Reply-To: <14B5765F-209F-4A9E-9BB6-5689D8A5A1E9@gmail.com>
References: <14B5765F-209F-4A9E-9BB6-5689D8A5A1E9@gmail.com>
Message-ID: <BE50FD69-F41F-4D5E-AF57-DF73CE1E1728@r-project.org>


On Dec 6, 2007, at 9:40 PM, ? ?? wrote:

> Hi, All;
>
> I've compiled and installed successfully "presumably" 64-bit R on
> Leopard.
> But when I tried to run R, I got the following error:
>
> /usr/bin/R: line 179: /Library/Frameworks/R.framework/Resources/etc/
> i386/ldpaths: No such file or directory
>

I'm pretty sure that your /usr/bin/R comes from a different build.  
Make sure you remove old scripts.

FWIW: dual 32-bit and 64-bit binaries of current R 2.6.1 patched and R- 
devel for Leopard are available from
http://r.research.att.com/
They support all four architectures. To start 64-bit Intel R use R -- 
arch=x86_64, for 64-bit ppc it is R --arch=ppc64.

Cheers,
Simon


> Here is the configuration I used:
>
> CONFIG_SHELL=/bin/bash ../R-devel/configure r_arch=x86_64 LDFLAGS="-L/
> usr/local/lib64 -L/usr/X11R6/lib" CC='gcc-4.2 -g -O3' CXX='g++-4.2 - 
> g -
> O3' F77='gfortran -g -O3' FC='gfortran -g -O3' --with-blas='-framework
> vecLib' --with-lapack
>
> Thanks in advance
>
> Tae-Hoon Chung
>
> Korea Centers for Disease Control & Prevention (KCDC)
> Korea National Institute of Health (KNIH)
> Center for Genome Sciences, Biobank for Health Sciences
>
> 194 Tongil-ro, Eunpyoung-gu, Seoul, 122-701, Korea
>
> Tel		82-2-380-2252
> Fax		82-2-354-1078
> Mobile	82-10-8011-1036
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From dwinsemius at comcast.net  Sat Dec  8 15:40:12 2007
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 8 Dec 2007 14:40:12 +0000 (UTC)
Subject: [R-SIG-Mac] sink command in R for Mac
References: <4747A91C.8050705@education.wisc.edu>
Message-ID: <Xns9A00625EF2EA9dNOTwinscomcast@80.91.229.13>

David Kaplan <dkaplan at education.wisc.edu> wrote in
news:4747A91C.8050705 at education.wisc.edu: 

<HTML deleted>
> I'm used to using Windows commands to sink output into a specific
> sub-directory.&nbsp; What syntax do I use to sink output into a
> sub-directory on the Mac.<br>
> <br>
> Thanks in advance.<br>

Not a menu command, but perhaps useful to some might be:
sink(file.choose())

The down side might be that I can see no mechanism to force creation of a 
new file.

-- 
David Winsemius


From engrav at u.washington.edu  Sun Dec  9 00:19:28 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Sat, 08 Dec 2007 15:19:28 -0800
Subject: [R-SIG-Mac] R.app ?bug
Message-ID: <C3806680.15907%engrav@u.washington.edu>

This is rather vague but let me try please

Am using MacOS 10.4.11

And sessionInfo() say
> sessionInfo()
R version 2.6.1 (2007-11-26)
powerpc-apple-darwin8.10.1

locale:
en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] splines   tools     stats     graphics  grDevices utils     datasets
methods   base     

other attached packages:
[1] hgu133plus2probe_2.0.0 hgu133plus2cdf_2.0.0   gcrma_2.10.0
matchprobes_1.10.0     affy_1.16.0
[6] preprocessCore_1.0.0   affyio_1.6.1           Biobase_1.16.1

And I enter
> Gibran81  <-  justGCRMA() #81 .cel files
 and since this takes a long time I click on R in menubar to hide it
 and go to Entourage and Safari and Activity Monitor, etc

Then click on R in the dock to return to R but cannot get back, clicking on
R brings up Entourage or Safari or Activity Monitor

But Activity Monitor say R is using 1.5 mb real RAM and 1.9 mb virtual RAM

It is like the Finder no longer knows where Mac R.app is
So I must force quit, start R over, and leave it alone until done

I checked r-SIG-Mac Dec Nov Oct and see nothing on this

Thank you

Loren Engrav
Univ Washington
Seattle


From engrav at u.washington.edu  Sun Dec  9 00:37:59 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Sat, 08 Dec 2007 15:37:59 -0800
Subject: [R-SIG-Mac] R.app ?bug or me
Message-ID: <C3806AD7.1590F%engrav@u.washington.edu>

Using Mac 10.4.11
And sessionInfo() say

> sessionInfo()
R version 2.6.1 (2007-11-26)
powerpc-apple-darwin8.10.1

locale:
en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base


Directory is ABC and history is XYZ
So I change directory to FGH and history to QRS
Then I quit R and say save workspace

Then I start R
And am back to workspace ABC and history XYZ
Would seem I should be at FGH and QRS

What am I missing? Is it staring me in the face and I cannot see it?

Thank you

Loren Engrav
Univ Washington
Seattle


From simon.urbanek at r-project.org  Sun Dec  9 00:57:14 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 8 Dec 2007 18:57:14 -0500
Subject: [R-SIG-Mac] R.app ?bug or me
In-Reply-To: <C3806AD7.1590F%engrav@u.washington.edu>
References: <C3806AD7.1590F%engrav@u.washington.edu>
Message-ID: <7D13BFCA-5E1C-448C-BBE3-B1272FC2136A@r-project.org>


On Dec 8, 2007, at 6:37 PM, Loren Engrav wrote:

> Using Mac 10.4.11
> And sessionInfo() say
>
>> sessionInfo()
> R version 2.6.1 (2007-11-26)
> powerpc-apple-darwin8.10.1
>
> locale:
> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
>
> Directory is ABC and history is XYZ
> So I change directory to FGH and history to QRS
> Then I quit R and say save workspace
>
> Then I start R
> And am back to workspace ABC and history XYZ

Well, if ABC and XYZ is in home and you didn't change the default  
settings and started R.app directly then that is exactly as expected.


> Would seem I should be at FGH and QRS
>

Why? That would be quite bad as FGH and QRS have nothing to do with  
your home. The whole point of changing a directory is usually exactly  
the fact that you don't want to overwrite the workspace in your home.


> What am I missing? Is it staring me in the face and I cannot see it?
>

I'd say reading 4.3.3 in the R for Mac FAQ may possibly explain this a  
bit ...

Cheers,
Simon

PS: Please use R-SIG-Mac for Mac-specific questions.


From engrav at u.washington.edu  Sun Dec  9 01:48:30 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Sat, 08 Dec 2007 16:48:30 -0800
Subject: [R-SIG-Mac] R.app ?bug or me
In-Reply-To: <7D13BFCA-5E1C-448C-BBE3-B1272FC2136A@r-project.org>
Message-ID: <C3807B5E.1591E%engrav@u.washington.edu>

Thank you for the help

Ah so, default is in Preferences and the new is under Misc in the menu bar
I can do that and will

But might it not be more convenient if on R.app start you went to where you
were last time, since most often you wish to go to the place you just left

As for
> PS: Please use R-SIG-Mac for Mac-specific questions.

This is appearing in R-SIG-Mac.  What am I missing here?

Thanks again.

Loren Engrav
Univ Washington
Seattle



> From: Simon Urbanek <simon.urbanek at r-project.org>
> Date: Sat, 8 Dec 2007 18:57:14 -0500
> To: Loren Engrav <engrav at u.washington.edu>
> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
> Subject: Re: [R-SIG-Mac] R.app ?bug or me
> 
> 
> On Dec 8, 2007, at 6:37 PM, Loren Engrav wrote:
> 
>> Using Mac 10.4.11
>> And sessionInfo() say
>> 
>>> sessionInfo()
>> R version 2.6.1 (2007-11-26)
>> powerpc-apple-darwin8.10.1
>> 
>> locale:
>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>> 
>> 
>> Directory is ABC and history is XYZ
>> So I change directory to FGH and history to QRS
>> Then I quit R and say save workspace
>> 
>> Then I start R
>> And am back to workspace ABC and history XYZ
> 
> Well, if ABC and XYZ is in home and you didn't change the default
> settings and started R.app directly then that is exactly as expected.
> 
> 
>> Would seem I should be at FGH and QRS
>> 
> 
> Why? That would be quite bad as FGH and QRS have nothing to do with
> your home. The whole point of changing a directory is usually exactly
> the fact that you don't want to overwrite the workspace in your home.
> 
> 
>> What am I missing? Is it staring me in the face and I cannot see it?
>> 
> 
> I'd say reading 4.3.3 in the R for Mac FAQ may possibly explain this a
> bit ...
> 
> Cheers,
> Simon
> 
> PS: Please use R-SIG-Mac for Mac-specific questions.
>


From john.maindonald at anu.edu.au  Sun Dec  9 02:13:42 2007
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Sun, 9 Dec 2007 12:13:42 +1100
Subject: [R-SIG-Mac] R.app ?bug or me
In-Reply-To: <7D13BFCA-5E1C-448C-BBE3-B1272FC2136A@r-project.org>
References: <C3806AD7.1590F%engrav@u.washington.edu>
	<7D13BFCA-5E1C-448C-BBE3-B1272FC2136A@r-project.org>
Message-ID: <CE84DCE4-D0E8-4AF1-9F9B-BF61A6FFD089@anu.edu.au>

I notice that 4.3.3 says"

"Finally it is possible to use a specific directory for a single
R session by dragging a folder onto the R.app icon. If R.app
is not runnig, this will cause R.app to be started in the
directory corresponding to the folder dragged. The same
can be achieved on the command line - for example
open -a R . causes R.app to be started using the current
directory as the startup working directory."

The final statement seems incorrect, at all events without
some further pre-conditions:

At the terminal:

  ch2$ pwd
  /Users/johnm/r/ch2
  ch2$ ls -lt .RData
  -rw-r--r--  1 johnm  johnm  2980  9 Dec 11:31 .RData
  ch2$ open -a R

At the R console that is started:

  > getwd()
  [1] "/Users/johnm/r"
  > sessionInfo()
  R version 2.6.1 (2007-11-26)
  i386-apple-darwin8.10.1

  locale:
  en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8

  attached base packages:
  [1] stats     graphics  grDevices utils     datasets  methods   base

Incidentally is making copies of R.app an appropriate way to
allow multiple simultaneous sessions of the R Gui? Or is there
some more direct way to achieve this?

John Maindonald.

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.


On 9 Dec 2007, at 10:57 AM, Simon Urbanek wrote:

>
> On Dec 8, 2007, at 6:37 PM, Loren Engrav wrote:
>
>> Using Mac 10.4.11
>> And sessionInfo() say
>>
>>> sessionInfo()
>> R version 2.6.1 (2007-11-26)
>> powerpc-apple-darwin8.10.1
>>
>> locale:
>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>>
>> Directory is ABC and history is XYZ
>> So I change directory to FGH and history to QRS
>> Then I quit R and say save workspace
>>
>> Then I start R
>> And am back to workspace ABC and history XYZ
>
> Well, if ABC and XYZ is in home and you didn't change the default
> settings and started R.app directly then that is exactly as expected.
>
>
>> Would seem I should be at FGH and QRS
>>
>
> Why? That would be quite bad as FGH and QRS have nothing to do with
> your home. The whole point of changing a directory is usually exactly
> the fact that you don't want to overwrite the workspace in your home.
>
>
>> What am I missing? Is it staring me in the face and I cannot see it?
>>
>
> I'd say reading 4.3.3 in the R for Mac FAQ may possibly explain this a
> bit ...
>
> Cheers,
> Simon
>
> PS: Please use R-SIG-Mac for Mac-specific questions.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From lists at revelle.net  Sun Dec  9 02:21:46 2007
From: lists at revelle.net (William Revelle)
Date: Sat, 8 Dec 2007 19:21:46 -0600
Subject: [R-SIG-Mac] Rgraphviz leads to crash with 2.7.0 (development) on
	Leopard
Message-ID: <p06240834c380f38fb885@[165.124.161.146]>

Hi,

  I have started testing out the 2.7.0 development version  on a 
MacBookPro running Leopard (10.5.1) to see if my psych package works.

Most of what I do seems to work (and I think the graphics look even 
better than 2.6.1), but Rgraphviz causes a complete crash when trying 
to load it. This is independent of my package in that just loading 
Rgraphviz leads to a crash.

Here is the complete error report:

R version 2.7.0 Under development (unstable) (2007-12-07 r43615)
Copyright (C) 2007 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

...

[Workspace restored from /Volumes/WR/bill/.RData]

>  ls()
character(0)
>  library(Rgraphviz)
Loading required package: graph

  *** caught segfault ***
address 0x656c7574, cause 'memory not mapped'

Traceback:
  1: .Call("Rgraphviz_init", PACKAGE = "Rgraphviz")
  2: fun(...)
  3: doTryCatch(return(expr), name, parentenv, handler)
  4: tryCatchOne(expr, names, parentenv, handlers[[1]])
  5: tryCatchList(expr, classes, parentenv, handlers)
  6: tryCatch(expr, error = function(e) {    call <- conditionCall(e) 
if (!is.null(call)) {        if (identical(call[[1]], 
quote(doTryCatch)))             call <- sys.call(-4)        dcall <- 
deparse(call)[1]        prefix <- paste("Error in", dcall, ": ") 
LONG <- 75        msg <- conditionMessage(e)        sm <- 
strsplit(msg, "\n")[[1]]        if (14 + nchar(dcall, type = "w") + 
nchar(sm[1], type = "w") >             LONG)             prefix <- 
paste(prefix, "\n  ", sep = "")    }    else prefix <- "Error : " 
msg <- paste(prefix, conditionMessage(e), "\n", sep = "") 
.Internal(seterrmessage(msg[1]))    if (!silent && 
identical(getOption("show.error.messages"),         TRUE)) { 
cat(msg, file = stderr())        .Internal(printDeferredWarnings()) 
}    invisible(structure(msg, class = "try-error"))})
  7: try({    fun(...)    NULL})
  8: runHook(".onLoad", package, env, package.lib, package)
  9: loadNamespace(package, c(which.lib.loc, lib.loc), keep.source = 
keep.source)
10: doTryCatch(return(expr), name, parentenv, handler)
11: tryCatchOne(expr, names, parentenv, handlers[[1]])
12: tryCatchList(expr, classes, parentenv, handlers)
13: tryCatch(expr, error = function(e) {    call <- conditionCall(e) 
if (!is.null(call)) {        if (identical(call[[1]], 
quote(doTryCatch)))             call <- sys.call(-4)        dcall <- 
deparse(call)[1]        prefix <- paste("Error in", dcall, ": ") 
LONG <- 75        msg <- conditionMessage(e)        sm <- 
strsplit(msg, "\n")[[1]]        if (14 + nchar(dcall, type = "w") + 
nchar(sm[1], type = "w") >             LONG)             prefix <- 
paste(prefix, "\n  ", sep = "")    }    else prefix <- "Error : " 
msg <- paste(prefix, conditionMessage(e), "\n", sep = "") 
.Internal(seterrmessage(msg[1]))    if (!silent && 
identical(getOption("show.error.messages"),         TRUE)) { 
cat(msg, file = stderr())        .Internal(printDeferredWarnings()) 
}    invisible(structure(msg, class = "try-error"))})
14: try({    ns <- loadNamespace(package, c(which.lib.loc, lib.loc), 
keep.source = keep.source)    dataPath <- file.path(which.lib.loc, 
package, "data")    env <- attachNamespace(ns, pos = pos, dataPath = 
dataPath)})
15: library(Rgraphviz)

Possible actions:
1: abort (with core dump, if enabled)
...

-- 
William Revelle		http://personality-project.org/revelle.html
Professor			http://personality-project.org/personality.html
Department of Psychology             http://www.wcas.northwestern.edu/psych/
Northwestern University	http://www.northwestern.edu/
Use R for statistics:                          http://personality-project.org/r


From lists at revelle.net  Sun Dec  9 02:24:39 2007
From: lists at revelle.net (William Revelle)
Date: Sat, 8 Dec 2007 19:24:39 -0600
Subject: [R-SIG-Mac] wow!  (graphics in 2.7.0)
Message-ID: <p06240836c380f44be49a@[165.124.161.146]>

Dear wonderful developers of the R gui.

  I just tried out the graphics capabilities in 2.7.0 (development). 
The ability to page through multiple plots is just amazing.

   Thanks for all the good work .

Bill

-- 
William Revelle		http://personality-project.org/revelle.html
Professor			http://personality-project.org/personality.html
Department of Psychology             http://www.wcas.northwestern.edu/psych/
Northwestern University	http://www.northwestern.edu/
Use R for statistics:                          http://personality-project.org/r


From byron.ellis at gmail.com  Sun Dec  9 02:50:28 2007
From: byron.ellis at gmail.com (Byron Ellis)
Date: Sat, 8 Dec 2007 17:50:28 -0800
Subject: [R-SIG-Mac] wow! (graphics in 2.7.0)
In-Reply-To: <p06240836c380f44be49a@165.124.161.146>
References: <p06240836c380f44be49a@165.124.161.146>
Message-ID: <7098abec0712081750t3e2c11faud2372d621fa39c7a@mail.gmail.com>

Make sure to check the quartz help page for some of the extra options
now available, including direct file output using quartz to get
pixel-identical plots for presentations/publications. You can also
specify the file to be "clipboard://" and get direct clipboard output.
For example, I have a function

dev.clipboard = function(...,dpi=300)
{dev.copy(quartz,file="clipboard://",type="png",dpi=dpi,...);dev.off();}

in my Rprofile for quickly producing high(-enough) resolution output
for things like Keynote.


On Dec 8, 2007 5:24 PM, William Revelle <lists at revelle.net> wrote:
> Dear wonderful developers of the R gui.
>
>   I just tried out the graphics capabilities in 2.7.0 (development).
> The ability to page through multiple plots is just amazing.
>
>    Thanks for all the good work .
>
> Bill
>
> --
> William Revelle         http://personality-project.org/revelle.html
> Professor                       http://personality-project.org/personality.html
> Department of Psychology             http://www.wcas.northwestern.edu/psych/
> Northwestern University http://www.northwestern.edu/
> Use R for statistics:                          http://personality-project.org/r
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>



-- 
Byron Ellis (byron.ellis at gmail.com)
"Oook" -- The Librarian


From reilly at stat.auckland.ac.nz  Sun Dec  9 03:39:02 2007
From: reilly at stat.auckland.ac.nz (James Reilly)
Date: Sun, 09 Dec 2007 15:39:02 +1300
Subject: [R-SIG-Mac] R.app ?bug or me
In-Reply-To: <CE84DCE4-D0E8-4AF1-9F9B-BF61A6FFD089@anu.edu.au>
References: <C3806AD7.1590F%engrav@u.washington.edu>	<7D13BFCA-5E1C-448C-BBE3-B1272FC2136A@r-project.org>
	<CE84DCE4-D0E8-4AF1-9F9B-BF61A6FFD089@anu.edu.au>
Message-ID: <475B5546.3000209@stat.auckland.ac.nz>


I think you missed the dot at the end, that's all. You want:
open -a R .

James
-- 
James Reilly
Department of Statistics, University of Auckland
Private Bag 92019, Auckland, New Zealand

On 9/12/07 2:13 PM, John Maindonald wrote:
> I notice that 4.3.3 says"
> 
> "Finally it is possible to use a specific directory for a single
> R session by dragging a folder onto the R.app icon. If R.app
> is not runnig, this will cause R.app to be started in the
> directory corresponding to the folder dragged. The same
> can be achieved on the command line - for example
> open -a R . causes R.app to be started using the current
> directory as the startup working directory."
> 
> The final statement seems incorrect, at all events without
> some further pre-conditions:
> 
> At the terminal:
> 
>   ch2$ pwd
>   /Users/johnm/r/ch2
>   ch2$ ls -lt .RData
>   -rw-r--r--  1 johnm  johnm  2980  9 Dec 11:31 .RData
>   ch2$ open -a R
> 
> At the R console that is started:
> 
>   > getwd()
>   [1] "/Users/johnm/r"
>   > sessionInfo()
>   R version 2.6.1 (2007-11-26)
>   i386-apple-darwin8.10.1
> 
>   locale:
>   en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8
> 
>   attached base packages:
>   [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> Incidentally is making copies of R.app an appropriate way to
> allow multiple simultaneous sessions of the R Gui? Or is there
> some more direct way to achieve this?
> 
> John Maindonald.
> 
> John Maindonald             email: john.maindonald at anu.edu.au
> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
> Centre for Mathematics & Its Applications, Room 1194,
> John Dedman Mathematical Sciences Building (Building 27)
> Australian National University, Canberra ACT 0200.
> 
> 
> On 9 Dec 2007, at 10:57 AM, Simon Urbanek wrote:
> 
>> On Dec 8, 2007, at 6:37 PM, Loren Engrav wrote:
>>
>>> Using Mac 10.4.11
>>> And sessionInfo() say
>>>
>>>> sessionInfo()
>>> R version 2.6.1 (2007-11-26)
>>> powerpc-apple-darwin8.10.1
>>>
>>> locale:
>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>
>>>
>>> Directory is ABC and history is XYZ
>>> So I change directory to FGH and history to QRS
>>> Then I quit R and say save workspace
>>>
>>> Then I start R
>>> And am back to workspace ABC and history XYZ
>> Well, if ABC and XYZ is in home and you didn't change the default
>> settings and started R.app directly then that is exactly as expected.
>>
>>
>>> Would seem I should be at FGH and QRS
>>>
>> Why? That would be quite bad as FGH and QRS have nothing to do with
>> your home. The whole point of changing a directory is usually exactly
>> the fact that you don't want to overwrite the workspace in your home.
>>
>>
>>> What am I missing? Is it staring me in the face and I cannot see it?
>>>
>> I'd say reading 4.3.3 in the R for Mac FAQ may possibly explain this a
>> bit ...
>>
>> Cheers,
>> Simon
>>
>> PS: Please use R-SIG-Mac for Mac-specific questions.
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Sun Dec  9 05:08:34 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 8 Dec 2007 23:08:34 -0500
Subject: [R-SIG-Mac] R.app ?bug or me
In-Reply-To: <C3807B5E.1591E%engrav@u.washington.edu>
References: <C3807B5E.1591E%engrav@u.washington.edu>
Message-ID: <14E86176-98E9-4463-AD71-B6763C341C5E@r-project.org>


On Dec 8, 2007, at 7:48 PM, Loren Engrav wrote:

> Thank you for the help
>
> Ah so, default is in Preferences and the new is under Misc in the  
> menu bar
> I can do that and will
>
> But might it not be more convenient if on R.app start you went to  
> where you
> were last time, since most often you wish to go to the place you  
> just left
>

Although it would be possible to make that a configurable option, it'd  
definitely not want that. It would make R's behavior sort of random,  
because you would never know where it will start from ... a really bad  
thing (IMHO).
  If you want to work on a specific project, it's much more convenient  
to just drag the directory on R to start it and you can then work on  
multiple projects conveniently and independently.


> As for
>> PS: Please use R-SIG-Mac for Mac-specific questions.
>
> This is appearing in R-SIG-Mac.  What am I missing here?
>

Oops, sorry, my bad, the "To" was showing R-devel for some mysterious  
reason...

Cheers,
Simon


>
>
>> From: Simon Urbanek <simon.urbanek at r-project.org>
>> Date: Sat, 8 Dec 2007 18:57:14 -0500
>> To: Loren Engrav <engrav at u.washington.edu>
>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>> Subject: Re: [R-SIG-Mac] R.app ?bug or me
>>
>>
>> On Dec 8, 2007, at 6:37 PM, Loren Engrav wrote:
>>
>>> Using Mac 10.4.11
>>> And sessionInfo() say
>>>
>>>> sessionInfo()
>>> R version 2.6.1 (2007-11-26)
>>> powerpc-apple-darwin8.10.1
>>>
>>> locale:
>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>
>>>
>>> Directory is ABC and history is XYZ
>>> So I change directory to FGH and history to QRS
>>> Then I quit R and say save workspace
>>>
>>> Then I start R
>>> And am back to workspace ABC and history XYZ
>>
>> Well, if ABC and XYZ is in home and you didn't change the default
>> settings and started R.app directly then that is exactly as expected.
>>
>>
>>> Would seem I should be at FGH and QRS
>>>
>>
>> Why? That would be quite bad as FGH and QRS have nothing to do with
>> your home. The whole point of changing a directory is usually exactly
>> the fact that you don't want to overwrite the workspace in your home.
>>
>>
>>> What am I missing? Is it staring me in the face and I cannot see it?
>>>
>>
>> I'd say reading 4.3.3 in the R for Mac FAQ may possibly explain  
>> this a
>> bit ...
>>
>> Cheers,
>> Simon
>>
>> PS: Please use R-SIG-Mac for Mac-specific questions.
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Sun Dec  9 05:11:40 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 8 Dec 2007 23:11:40 -0500
Subject: [R-SIG-Mac] R.app ?bug
In-Reply-To: <C3806680.15907%engrav@u.washington.edu>
References: <C3806680.15907%engrav@u.washington.edu>
Message-ID: <CBACAA68-B7B4-4BDC-8297-D36D61C2A4D1@r-project.org>


On Dec 8, 2007, at 6:19 PM, Loren Engrav wrote:

> This is rather vague but let me try please
>
> Am using MacOS 10.4.11
>
> And sessionInfo() say
>> sessionInfo()
> R version 2.6.1 (2007-11-26)
> powerpc-apple-darwin8.10.1
>
> locale:
> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] splines   tools     stats     graphics  grDevices utils      
> datasets
> methods   base
>
> other attached packages:
> [1] hgu133plus2probe_2.0.0 hgu133plus2cdf_2.0.0   gcrma_2.10.0
> matchprobes_1.10.0     affy_1.16.0
> [6] preprocessCore_1.0.0   affyio_1.6.1           Biobase_1.16.1
>
> And I enter
>> Gibran81  <-  justGCRMA() #81 .cel files
> and since this takes a long time I click on R in menubar to hide it
> and go to Entourage and Safari and Activity Monitor, etc
>
> Then click on R in the dock to return to R but cannot get back,  
> clicking on
> R brings up Entourage or Safari or Activity Monitor
>
> But Activity Monitor say R is using 1.5 mb real RAM and 1.9 mb  
> virtual RAM
>
> It is like the Finder no longer knows where Mac R.app is
> So I must force quit, start R over, and leave it alone until done
>
> I checked r-SIG-Mac Dec Nov Oct and see nothing on this
>

If a computation blocks R and doesn't allow it to process events, then  
R cannot respond to user requests. My guess would be that justGCRMA  
calls some C code that fails to let R process events periodically, so  
R.app can't do anything about it since R is single-threaded :/. Finder  
will know about R once the computation is done, so just let it finish  
(and in the meantime bug the author of the code to let R process  
events ;)).

Cheers,
Simon


From engrav at u.washington.edu  Sun Dec  9 06:03:46 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Sat, 08 Dec 2007 21:03:46 -0800
Subject: [R-SIG-Mac] R.app ?bug
In-Reply-To: <CBACAA68-B7B4-4BDC-8297-D36D61C2A4D1@r-project.org>
Message-ID: <C380B732.15941%engrav@u.washington.edu>

My goodness
To preclude the Hide process seems rather not Mac
But am not sure I have the whatever to tell anyone whatever
You might on the other hand since it demolishes R.app

Loren Engrav
Univ Wash
Seattle


> From: Simon Urbanek <simon.urbanek at r-project.org>
> Date: Sat, 8 Dec 2007 23:11:40 -0500
> To: Loren Engrav <engrav at u.washington.edu>
> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
> Subject: Re: [R-SIG-Mac] R.app ?bug
> 
> 
> On Dec 8, 2007, at 6:19 PM, Loren Engrav wrote:
> 
>> This is rather vague but let me try please
>> 
>> Am using MacOS 10.4.11
>> 
>> And sessionInfo() say
>>> sessionInfo()
>> R version 2.6.1 (2007-11-26)
>> powerpc-apple-darwin8.10.1
>> 
>> locale:
>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] splines   tools     stats     graphics  grDevices utils
>> datasets
>> methods   base
>> 
>> other attached packages:
>> [1] hgu133plus2probe_2.0.0 hgu133plus2cdf_2.0.0   gcrma_2.10.0
>> matchprobes_1.10.0     affy_1.16.0
>> [6] preprocessCore_1.0.0   affyio_1.6.1           Biobase_1.16.1
>> 
>> And I enter
>>> Gibran81  <-  justGCRMA() #81 .cel files
>> and since this takes a long time I click on R in menubar to hide it
>> and go to Entourage and Safari and Activity Monitor, etc
>> 
>> Then click on R in the dock to return to R but cannot get back,
>> clicking on
>> R brings up Entourage or Safari or Activity Monitor
>> 
>> But Activity Monitor say R is using 1.5 mb real RAM and 1.9 mb
>> virtual RAM
>> 
>> It is like the Finder no longer knows where Mac R.app is
>> So I must force quit, start R over, and leave it alone until done
>> 
>> I checked r-SIG-Mac Dec Nov Oct and see nothing on this
>> 
> 
> If a computation blocks R and doesn't allow it to process events, then
> R cannot respond to user requests. My guess would be that justGCRMA
> calls some C code that fails to let R process events periodically, so
> R.app can't do anything about it since R is single-threaded :/. Finder
> will know about R once the computation is done, so just let it finish
> (and in the meantime bug the author of the code to let R process
> events ;)).
> 
> Cheers,
> Simon
>


From engrav at u.washington.edu  Sun Dec  9 06:03:35 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Sat, 08 Dec 2007 21:03:35 -0800
Subject: [R-SIG-Mac] R.app ?bug or me
In-Reply-To: <14E86176-98E9-4463-AD71-B6763C341C5E@r-project.org>
Message-ID: <C380B727.15941%engrav@u.washington.edu>

I understand, and can work with this

But then R in the Mac dock is not of much value as it always goes "home"; no
matter what you were working on last

Loren Engrav
Univ Washington
Seattle


> From: Simon Urbanek <simon.urbanek at r-project.org>
> Date: Sat, 8 Dec 2007 23:08:34 -0500
> To: Loren Engrav <engrav at u.washington.edu>
> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
> Subject: Re: [R-SIG-Mac] R.app ?bug or me
> 
> 
> On Dec 8, 2007, at 7:48 PM, Loren Engrav wrote:
> 
>> Thank you for the help
>> 
>> Ah so, default is in Preferences and the new is under Misc in the
>> menu bar
>> I can do that and will
>> 
>> But might it not be more convenient if on R.app start you went to
>> where you
>> were last time, since most often you wish to go to the place you
>> just left
>> 
> 
> Although it would be possible to make that a configurable option, it'd
> definitely not want that. It would make R's behavior sort of random,
> because you would never know where it will start from ... a really bad
> thing (IMHO).
>   If you want to work on a specific project, it's much more convenient
> to just drag the directory on R to start it and you can then work on
> multiple projects conveniently and independently.
> 
> 
>> As for
>>> PS: Please use R-SIG-Mac for Mac-specific questions.
>> 
>> This is appearing in R-SIG-Mac.  What am I missing here?
>> 
> 
> Oops, sorry, my bad, the "To" was showing R-devel for some mysterious
> reason...
> 
> Cheers,
> Simon
> 
> 
>> 
>> 
>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>> Date: Sat, 8 Dec 2007 18:57:14 -0500
>>> To: Loren Engrav <engrav at u.washington.edu>
>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>> Subject: Re: [R-SIG-Mac] R.app ?bug or me
>>> 
>>> 
>>> On Dec 8, 2007, at 6:37 PM, Loren Engrav wrote:
>>> 
>>>> Using Mac 10.4.11
>>>> And sessionInfo() say
>>>> 
>>>>> sessionInfo()
>>>> R version 2.6.1 (2007-11-26)
>>>> powerpc-apple-darwin8.10.1
>>>> 
>>>> locale:
>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>> 
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>> 
>>>> 
>>>> Directory is ABC and history is XYZ
>>>> So I change directory to FGH and history to QRS
>>>> Then I quit R and say save workspace
>>>> 
>>>> Then I start R
>>>> And am back to workspace ABC and history XYZ
>>> 
>>> Well, if ABC and XYZ is in home and you didn't change the default
>>> settings and started R.app directly then that is exactly as expected.
>>> 
>>> 
>>>> Would seem I should be at FGH and QRS
>>>> 
>>> 
>>> Why? That would be quite bad as FGH and QRS have nothing to do with
>>> your home. The whole point of changing a directory is usually exactly
>>> the fact that you don't want to overwrite the workspace in your home.
>>> 
>>> 
>>>> What am I missing? Is it staring me in the face and I cannot see it?
>>>> 
>>> 
>>> I'd say reading 4.3.3 in the R for Mac FAQ may possibly explain
>>> this a
>>> bit ...
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> PS: Please use R-SIG-Mac for Mac-specific questions.
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
>


From John.Maindonald at anu.edu.au  Sun Dec  9 07:02:02 2007
From: John.Maindonald at anu.edu.au (John Maindonald)
Date: Sun, 9 Dec 2007 17:02:02 +1100
Subject: [R-SIG-Mac] R.app ?bug or me
In-Reply-To: <475B5546.3000209@stat.auckland.ac.nz>
References: <C3806AD7.1590F%engrav@u.washington.edu>
	<7D13BFCA-5E1C-448C-BBE3-B1272FC2136A@r-project.org>
	<CE84DCE4-D0E8-4AF1-9F9B-BF61A6FFD089@anu.edu.au>
	<475B5546.3000209@stat.auckland.ac.nz>
Message-ID: <84AFB21E-4A0E-433C-B40F-20BBFD0400C4@anu.edu.au>

Thanks.

Indeed I missed the dot.  It might be good to have an
example that specifies the directory path.

John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Mathematics & Its Applications, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.


On 9 Dec 2007, at 1:39 PM, James Reilly wrote:

>
> I think you missed the dot at the end, that's all. You want:
> open -a R .
>
> James
> --  
> James Reilly
> Department of Statistics, University of Auckland
> Private Bag 92019, Auckland, New Zealand
>
> On 9/12/07 2:13 PM, John Maindonald wrote:
>> I notice that 4.3.3 says"
>>
>> "Finally it is possible to use a specific directory for a single
>> R session by dragging a folder onto the R.app icon. If R.app
>> is not runnig, this will cause R.app to be started in the
>> directory corresponding to the folder dragged. The same
>> can be achieved on the command line - for example
>> open -a R . causes R.app to be started using the current
>> directory as the startup working directory."
>>
>> The final statement seems incorrect, at all events without
>> some further pre-conditions:
>>
>> At the terminal:
>>
>>  ch2$ pwd
>>  /Users/johnm/r/ch2
>>  ch2$ ls -lt .RData
>>  -rw-r--r--  1 johnm  johnm  2980  9 Dec 11:31 .RData
>>  ch2$ open -a R
>>
>> At the R console that is started:
>>
>>> getwd()
>>  [1] "/Users/johnm/r"
>>> sessionInfo()
>>  R version 2.6.1 (2007-11-26)
>>  i386-apple-darwin8.10.1
>>
>>  locale:
>>  en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8
>>
>>  attached base packages:
>>  [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> Incidentally is making copies of R.app an appropriate way to
>> allow multiple simultaneous sessions of the R Gui? Or is there
>> some more direct way to achieve this?
>>
>> John Maindonald.
>>
>> John Maindonald             email: john.maindonald at anu.edu.au
>> phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
>> Centre for Mathematics & Its Applications, Room 1194,
>> John Dedman Mathematical Sciences Building (Building 27)
>> Australian National University, Canberra ACT 0200.
>>
>>
>> On 9 Dec 2007, at 10:57 AM, Simon Urbanek wrote:
>>
>>> On Dec 8, 2007, at 6:37 PM, Loren Engrav wrote:
>>>
>>>> Using Mac 10.4.11
>>>> And sessionInfo() say
>>>>
>>>>> sessionInfo()
>>>> R version 2.6.1 (2007-11-26)
>>>> powerpc-apple-darwin8.10.1
>>>>
>>>> locale:
>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods    
>>>> base
>>>>
>>>>
>>>> Directory is ABC and history is XYZ
>>>> So I change directory to FGH and history to QRS
>>>> Then I quit R and say save workspace
>>>>
>>>> Then I start R
>>>> And am back to workspace ABC and history XYZ
>>> Well, if ABC and XYZ is in home and you didn't change the default
>>> settings and started R.app directly then that is exactly as  
>>> expected.
>>>
>>>
>>>> Would seem I should be at FGH and QRS
>>>>
>>> Why? That would be quite bad as FGH and QRS have nothing to do with
>>> your home. The whole point of changing a directory is usually  
>>> exactly
>>> the fact that you don't want to overwrite the workspace in your  
>>> home.
>>>
>>>
>>>> What am I missing? Is it staring me in the face and I cannot see  
>>>> it?
>>>>
>>> I'd say reading 4.3.3 in the R for Mac FAQ may possibly explain  
>>> this a
>>> bit ...
>>>
>>> Cheers,
>>> Simon
>>>
>>> PS: Please use R-SIG-Mac for Mac-specific questions.
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From hoontaechung at gmail.com  Sun Dec  9 08:11:02 2007
From: hoontaechung at gmail.com (=?EUC-KR?B?waQgxcLIxg==?=)
Date: Sun, 9 Dec 2007 16:11:02 +0900
Subject: [R-SIG-Mac] 64-bit R and package installation question
In-Reply-To: <BE50FD69-F41F-4D5E-AF57-DF73CE1E1728@r-project.org>
References: <14B5765F-209F-4A9E-9BB6-5689D8A5A1E9@gmail.com>
	<BE50FD69-F41F-4D5E-AF57-DF73CE1E1728@r-project.org>
Message-ID: <A513F082-E3C6-420B-B8C3-7DEDAC34BE91@gmail.com>

The binaries in http://r.research.att.com/ worked great!
Thanks a lot for the tip.

However, when I tried to install bioconductor libraries using  
biocLite, I got the following error message:

bash-3.2$ R --arch=x86_64

R version 2.6.1 Patched (2007-12-06 r43615)
Copyright (C) 2007 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

 > source("http://www.bioconductor.org/biocLite.R")
 > biocLite(lib="~/Library/R64")
Running biocinstall version 2.1.8 with R version 2.6.1
Your version of R requires version 2.1 of Bioconductor.
Will install the following packages:
  [1] "affy"         "affydata"     "affyPLM"      "annaffy"       
"annotate"
  [6] "Biobase"      "Biostrings"   "DynDoc"       "gcrma"         
"genefilter"
[11] "geneplotter"  "hgu95av2"     "limma"        "marray"        
"matchprobes"
[16] "multtest"     "ROC"          "vsn"          "xtable"        
"affyQCReport"
Please wait...

trying URL 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6/affy_1.16.0.tgz'
Content type 'application/x-gzip' length 1683130 bytes (1.6 Mb)
opened URL
==================================================
downloaded 1.6 Mb

... < skip > ...

trying URL 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6/affyQCReport_1.16.0.tgz'
Content type 'application/x-gzip' length 145478 bytes (142 Kb)
opened URL
==================================================
downloaded 142 Kb


The downloaded packages are in
         /var/folders/T0/T0X1+9S9ExGTArjMjd98hk+++TI/-Tmp-//Rtmp90AT9K/ 
downloaded_packages
 > library(affy, lib="~/Library/R64")
Error: package 'affy' is not installed for 'arch=x86_64'

Is there any special way to install any packages for 64-bit compatible  
manner?

Thanks in advance,

2007. 12. 08, ?? 2:11, Simon Urbanek ??:

>
> On Dec 6, 2007, at 9:40 PM, ? ?? wrote:
>
>> Hi, All;
>>
>> I've compiled and installed successfully "presumably" 64-bit R on
>> Leopard.
>> But when I tried to run R, I got the following error:
>>
>> /usr/bin/R: line 179: /Library/Frameworks/R.framework/Resources/etc/
>> i386/ldpaths: No such file or directory
>>
>
> I'm pretty sure that your /usr/bin/R comes from a different build.  
> Make sure you remove old scripts.
>
> FWIW: dual 32-bit and 64-bit binaries of current R 2.6.1 patched and  
> R-devel for Leopard are available from
> http://r.research.att.com/
> They support all four architectures. To start 64-bit Intel R use R -- 
> arch=x86_64, for 64-bit ppc it is R --arch=ppc64.
>
> Cheers,
> Simon
>
>
>> Here is the configuration I used:
>>
>> CONFIG_SHELL=/bin/bash ../R-devel/configure r_arch=x86_64 LDFLAGS="- 
>> L/
>> usr/local/lib64 -L/usr/X11R6/lib" CC='gcc-4.2 -g -O3' CXX='g++-4.2 - 
>> g -
>> O3' F77='gfortran -g -O3' FC='gfortran -g -O3' --with-blas='- 
>> framework
>> vecLib' --with-lapack
>>
>> Thanks in advance
>>
>> Tae-Hoon Chung
>>
>> Korea Centers for Disease Control & Prevention (KCDC)
>> Korea National Institute of Health (KNIH)
>> Center for Genome Sciences, Biobank for Health Sciences
>>
>> 194 Tongil-ro, Eunpyoung-gu, Seoul, 122-701, Korea
>>
>> Tel		82-2-380-2252
>> Fax		82-2-354-1078
>> Mobile	82-10-8011-1036
>>
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>

Tae-Hoon Chung

Korea Centers for Disease Control & Prevention (KCDC)
Korea National Institute of Health (KNIH)
Center for Genome Sciences, Biobank for Health Sciences

194 Tongil-ro, Eunpyoung-gu, Seoul, 122-701, Korea

Tel		82-2-380-2252
Fax		82-2-354-1078
Mobile	82-10-8011-1036


From ripley at stats.ox.ac.uk  Sun Dec  9 09:02:07 2007
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 9 Dec 2007 08:02:07 +0000 (GMT)
Subject: [R-SIG-Mac] 64-bit R and package installation question
In-Reply-To: <A513F082-E3C6-420B-B8C3-7DEDAC34BE91@gmail.com>
References: <14B5765F-209F-4A9E-9BB6-5689D8A5A1E9@gmail.com>
	<BE50FD69-F41F-4D5E-AF57-DF73CE1E1728@r-project.org>
	<A513F082-E3C6-420B-B8C3-7DEDAC34BE91@gmail.com>
Message-ID: <Pine.LNX.4.64.0712090735200.32268@gannet.stats.ox.ac.uk>

The fix is to install source packages: use argument type="source", 
including AFAICS as an argument to biocLite(). Or set
options(pkgType="source").

Simon: it is unclear to me what build this is, but could the default not 
be pkgType="source" for off-CRAN builds?  I don't think we should be 
expecting third parties to support architectures the CRAN build does not.


On Sun, 9 Dec 2007, ?? ???? wrote:

> The binaries in http://r.research.att.com/ worked great!
> Thanks a lot for the tip.
>
> However, when I tried to install bioconductor libraries using
> biocLite, I got the following error message:
>
> bash-3.2$ R --arch=x86_64
>
> R version 2.6.1 Patched (2007-12-06 r43615)
> Copyright (C) 2007 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
>
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
>
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
>
> > source("http://www.bioconductor.org/biocLite.R")
> > biocLite(lib="~/Library/R64")
> Running biocinstall version 2.1.8 with R version 2.6.1
> Your version of R requires version 2.1 of Bioconductor.
> Will install the following packages:
>  [1] "affy"         "affydata"     "affyPLM"      "annaffy"
> "annotate"
>  [6] "Biobase"      "Biostrings"   "DynDoc"       "gcrma"
> "genefilter"
> [11] "geneplotter"  "hgu95av2"     "limma"        "marray"
> "matchprobes"
> [16] "multtest"     "ROC"          "vsn"          "xtable"
> "affyQCReport"
> Please wait...
>
> trying URL 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6/affy_1.16.0.tgz'
> Content type 'application/x-gzip' length 1683130 bytes (1.6 Mb)
> opened URL
> ==================================================
> downloaded 1.6 Mb
>
> ... < skip > ...
>
> trying URL 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6/affyQCReport_1.16.0.tgz'
> Content type 'application/x-gzip' length 145478 bytes (142 Kb)
> opened URL
> ==================================================
> downloaded 142 Kb
>
>
> The downloaded packages are in
>         /var/folders/T0/T0X1+9S9ExGTArjMjd98hk+++TI/-Tmp-//Rtmp90AT9K/
> downloaded_packages
> > library(affy, lib="~/Library/R64")
> Error: package 'affy' is not installed for 'arch=x86_64'
>
> Is there any special way to install any packages for 64-bit compatible
> manner?
>
> Thanks in advance,
>
> 2007. 12. 08, ???? 2:11, Simon Urbanek ????:
>
>>
>> On Dec 6, 2007, at 9:40 PM, ?? ???? wrote:
>>
>>> Hi, All;
>>>
>>> I've compiled and installed successfully "presumably" 64-bit R on
>>> Leopard.
>>> But when I tried to run R, I got the following error:
>>>
>>> /usr/bin/R: line 179: /Library/Frameworks/R.framework/Resources/etc/
>>> i386/ldpaths: No such file or directory
>>>
>>
>> I'm pretty sure that your /usr/bin/R comes from a different build.
>> Make sure you remove old scripts.
>>
>> FWIW: dual 32-bit and 64-bit binaries of current R 2.6.1 patched and
>> R-devel for Leopard are available from
>> http://r.research.att.com/
>> They support all four architectures. To start 64-bit Intel R use R --
>> arch=x86_64, for 64-bit ppc it is R --arch=ppc64.
>>
>> Cheers,
>> Simon
>>
>>
>>> Here is the configuration I used:
>>>
>>> CONFIG_SHELL=/bin/bash ../R-devel/configure r_arch=x86_64 LDFLAGS="-
>>> L/
>>> usr/local/lib64 -L/usr/X11R6/lib" CC='gcc-4.2 -g -O3' CXX='g++-4.2 -
>>> g -
>>> O3' F77='gfortran -g -O3' FC='gfortran -g -O3' --with-blas='-
>>> framework
>>> vecLib' --with-lapack
>>>
>>> Thanks in advance
>>>
>>> Tae-Hoon Chung
>>>
>>> Korea Centers for Disease Control & Prevention (KCDC)
>>> Korea National Institute of Health (KNIH)
>>> Center for Genome Sciences, Biobank for Health Sciences
>>>
>>> 194 Tongil-ro, Eunpyoung-gu, Seoul, 122-701, Korea
>>>
>>> Tel		82-2-380-2252
>>> Fax		82-2-354-1078
>>> Mobile	82-10-8011-1036
>>>
>>>
>>> 	[[alternative HTML version deleted]]
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>
> Tae-Hoon Chung
>
> Korea Centers for Disease Control & Prevention (KCDC)
> Korea National Institute of Health (KNIH)
> Center for Genome Sciences, Biobank for Health Sciences
>
> 194 Tongil-ro, Eunpyoung-gu, Seoul, 122-701, Korea
>
> Tel		82-2-380-2252
> Fax		82-2-354-1078
> Mobile	82-10-8011-1036
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From simon.urbanek at r-project.org  Sun Dec  9 16:06:14 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 9 Dec 2007 10:06:14 -0500
Subject: [R-SIG-Mac] R.app ?bug
In-Reply-To: <C380B732.15941%engrav@u.washington.edu>
References: <C380B732.15941%engrav@u.washington.edu>
Message-ID: <6D91FE92-BC8A-4F73-8910-104F1951DF00@r-project.org>


On Dec 9, 2007, at 12:03 AM, Loren Engrav wrote:

> My goodness
> To preclude the Hide process seems rather not Mac
> But am not sure I have the whatever to tell anyone whatever
> You might on the other hand since it demolishes R.app
>

It doesn't demolish it - R is still there. It just won't activate  
until the computation is done. As I said before, this is a bug (or  
inconsideration) in the package you are using, it should not block R  
completely in the first place.

Cheers,
Simon


>
>
>> From: Simon Urbanek <simon.urbanek at r-project.org>
>> Date: Sat, 8 Dec 2007 23:11:40 -0500
>> To: Loren Engrav <engrav at u.washington.edu>
>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>> Subject: Re: [R-SIG-Mac] R.app ?bug
>>
>>
>> On Dec 8, 2007, at 6:19 PM, Loren Engrav wrote:
>>
>>> This is rather vague but let me try please
>>>
>>> Am using MacOS 10.4.11
>>>
>>> And sessionInfo() say
>>>> sessionInfo()
>>> R version 2.6.1 (2007-11-26)
>>> powerpc-apple-darwin8.10.1
>>>
>>> locale:
>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>
>>> attached base packages:
>>> [1] splines   tools     stats     graphics  grDevices utils
>>> datasets
>>> methods   base
>>>
>>> other attached packages:
>>> [1] hgu133plus2probe_2.0.0 hgu133plus2cdf_2.0.0   gcrma_2.10.0
>>> matchprobes_1.10.0     affy_1.16.0
>>> [6] preprocessCore_1.0.0   affyio_1.6.1           Biobase_1.16.1
>>>
>>> And I enter
>>>> Gibran81  <-  justGCRMA() #81 .cel files
>>> and since this takes a long time I click on R in menubar to hide it
>>> and go to Entourage and Safari and Activity Monitor, etc
>>>
>>> Then click on R in the dock to return to R but cannot get back,
>>> clicking on
>>> R brings up Entourage or Safari or Activity Monitor
>>>
>>> But Activity Monitor say R is using 1.5 mb real RAM and 1.9 mb
>>> virtual RAM
>>>
>>> It is like the Finder no longer knows where Mac R.app is
>>> So I must force quit, start R over, and leave it alone until done
>>>
>>> I checked r-SIG-Mac Dec Nov Oct and see nothing on this
>>>
>>
>> If a computation blocks R and doesn't allow it to process events,  
>> then
>> R cannot respond to user requests. My guess would be that justGCRMA
>> calls some C code that fails to let R process events periodically, so
>> R.app can't do anything about it since R is single-threaded :/.  
>> Finder
>> will know about R once the computation is done, so just let it finish
>> (and in the meantime bug the author of the code to let R process
>> events ;)).
>>
>> Cheers,
>> Simon
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From simon.urbanek at r-project.org  Sun Dec  9 16:12:48 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 9 Dec 2007 10:12:48 -0500
Subject: [R-SIG-Mac] R.app ?bug or me
In-Reply-To: <C380B727.15941%engrav@u.washington.edu>
References: <C380B727.15941%engrav@u.washington.edu>
Message-ID: <86C63A27-923A-4A56-94CB-5B0355D480E3@r-project.org>


On Dec 9, 2007, at 12:03 AM, Loren Engrav wrote:

> I understand, and can work with this
>
> But then R in the Mac dock is not of much value as it always goes  
> "home"; no matter what you were working on last
>

The purpose of the dock is to get quick access to the application -  
that has no "value" in terms of which workspace you want to start -  
it's still up to you, not the dock. What I was talking about was R in  
the dock, so I don't see the connection.

Anyway, as I said earlier, I think that changing the working directory  
on startup to some random path without user having a say in this is a  
really bad idea and I think a lot of users would find it disturbing.

Cheers,
Simon


>
>> From: Simon Urbanek <simon.urbanek at r-project.org>
>> Date: Sat, 8 Dec 2007 23:08:34 -0500
>> To: Loren Engrav <engrav at u.washington.edu>
>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>> Subject: Re: [R-SIG-Mac] R.app ?bug or me
>>
>>
>> On Dec 8, 2007, at 7:48 PM, Loren Engrav wrote:
>>
>>> Thank you for the help
>>>
>>> Ah so, default is in Preferences and the new is under Misc in the
>>> menu bar
>>> I can do that and will
>>>
>>> But might it not be more convenient if on R.app start you went to
>>> where you
>>> were last time, since most often you wish to go to the place you
>>> just left
>>>
>>
>> Although it would be possible to make that a configurable option,  
>> it'd
>> definitely not want that. It would make R's behavior sort of random,
>> because you would never know where it will start from ... a really  
>> bad
>> thing (IMHO).
>>  If you want to work on a specific project, it's much more convenient
>> to just drag the directory on R to start it and you can then work on
>> multiple projects conveniently and independently.
>>
>>
>>> As for
>>>> PS: Please use R-SIG-Mac for Mac-specific questions.
>>>
>>> This is appearing in R-SIG-Mac.  What am I missing here?
>>>
>>
>> Oops, sorry, my bad, the "To" was showing R-devel for some mysterious
>> reason...
>>
>> Cheers,
>> Simon
>>
>>
>>>
>>>
>>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>>> Date: Sat, 8 Dec 2007 18:57:14 -0500
>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>> Subject: Re: [R-SIG-Mac] R.app ?bug or me
>>>>
>>>>
>>>> On Dec 8, 2007, at 6:37 PM, Loren Engrav wrote:
>>>>
>>>>> Using Mac 10.4.11
>>>>> And sessionInfo() say
>>>>>
>>>>>> sessionInfo()
>>>>> R version 2.6.1 (2007-11-26)
>>>>> powerpc-apple-darwin8.10.1
>>>>>
>>>>> locale:
>>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>
>>>>> attached base packages:
>>>>> [1] stats     graphics  grDevices utils     datasets  methods    
>>>>> base
>>>>>
>>>>>
>>>>> Directory is ABC and history is XYZ
>>>>> So I change directory to FGH and history to QRS
>>>>> Then I quit R and say save workspace
>>>>>
>>>>> Then I start R
>>>>> And am back to workspace ABC and history XYZ
>>>>
>>>> Well, if ABC and XYZ is in home and you didn't change the default
>>>> settings and started R.app directly then that is exactly as  
>>>> expected.
>>>>
>>>>
>>>>> Would seem I should be at FGH and QRS
>>>>>
>>>>
>>>> Why? That would be quite bad as FGH and QRS have nothing to do with
>>>> your home. The whole point of changing a directory is usually  
>>>> exactly
>>>> the fact that you don't want to overwrite the workspace in your  
>>>> home.
>>>>
>>>>
>>>>> What am I missing? Is it staring me in the face and I cannot see  
>>>>> it?
>>>>>
>>>>
>>>> I'd say reading 4.3.3 in the R for Mac FAQ may possibly explain
>>>> this a
>>>> bit ...
>>>>
>>>> Cheers,
>>>> Simon
>>>>
>>>> PS: Please use R-SIG-Mac for Mac-specific questions.
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From engrav at u.washington.edu  Sun Dec  9 17:01:22 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Sun, 09 Dec 2007 08:01:22 -0800
Subject: [R-SIG-Mac] Two R.app questions
In-Reply-To: <86C63A27-923A-4A56-94CB-5B0355D480E3@r-project.org>
Message-ID: <C3815152.15967%engrav@u.washington.edu>

Two questions about Mac R.app please
Using 10.4.11

In Preferences Startup window the entire pathway of the directory does not
show, is there a way to make it all show, I set smaller font or something

And when I set a pathway for the Rhistory just below that, then close the
window, then come back, the pathway is gone, just the word .Rhistory, but
the pathway still is in effect, is there a way I can keep the pathway
showing


-- 
Loren Engrav
Univ Washington
Seattle


From engrav at u.washington.edu  Sun Dec  9 17:01:02 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Sun, 09 Dec 2007 08:01:02 -0800
Subject: [R-SIG-Mac] R.app ?bug or me
In-Reply-To: <86C63A27-923A-4A56-94CB-5B0355D480E3@r-project.org>
Message-ID: <C381513E.15967%engrav@u.washington.edu>

Ok, I can drag and drop, thank you

-- 
Loren Engrav
Univ Washington
Seattle



> From: Simon Urbanek <simon.urbanek at r-project.org>
> Date: Sun, 9 Dec 2007 10:12:48 -0500
> To: Loren Engrav <engrav at u.washington.edu>
> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
> Subject: Re: [R-SIG-Mac] R.app ?bug or me
> 
> 
> On Dec 9, 2007, at 12:03 AM, Loren Engrav wrote:
> 
>> I understand, and can work with this
>> 
>> But then R in the Mac dock is not of much value as it always goes
>> "home"; no matter what you were working on last
>> 
> 
> The purpose of the dock is to get quick access to the application -
> that has no "value" in terms of which workspace you want to start -
> it's still up to you, not the dock. What I was talking about was R in
> the dock, so I don't see the connection.
> 
> Anyway, as I said earlier, I think that changing the working directory
> on startup to some random path without user having a say in this is a
> really bad idea and I think a lot of users would find it disturbing.
> 
> Cheers,
> Simon
> 
> 
>> 
>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>> Date: Sat, 8 Dec 2007 23:08:34 -0500
>>> To: Loren Engrav <engrav at u.washington.edu>
>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>> Subject: Re: [R-SIG-Mac] R.app ?bug or me
>>> 
>>> 
>>> On Dec 8, 2007, at 7:48 PM, Loren Engrav wrote:
>>> 
>>>> Thank you for the help
>>>> 
>>>> Ah so, default is in Preferences and the new is under Misc in the
>>>> menu bar
>>>> I can do that and will
>>>> 
>>>> But might it not be more convenient if on R.app start you went to
>>>> where you
>>>> were last time, since most often you wish to go to the place you
>>>> just left
>>>> 
>>> 
>>> Although it would be possible to make that a configurable option,
>>> it'd
>>> definitely not want that. It would make R's behavior sort of random,
>>> because you would never know where it will start from ... a really
>>> bad
>>> thing (IMHO).
>>>  If you want to work on a specific project, it's much more convenient
>>> to just drag the directory on R to start it and you can then work on
>>> multiple projects conveniently and independently.
>>> 
>>> 
>>>> As for
>>>>> PS: Please use R-SIG-Mac for Mac-specific questions.
>>>> 
>>>> This is appearing in R-SIG-Mac.  What am I missing here?
>>>> 
>>> 
>>> Oops, sorry, my bad, the "To" was showing R-devel for some mysterious
>>> reason...
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>>> 
>>>> 
>>>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>>>> Date: Sat, 8 Dec 2007 18:57:14 -0500
>>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>>> Subject: Re: [R-SIG-Mac] R.app ?bug or me
>>>>> 
>>>>> 
>>>>> On Dec 8, 2007, at 6:37 PM, Loren Engrav wrote:
>>>>> 
>>>>>> Using Mac 10.4.11
>>>>>> And sessionInfo() say
>>>>>> 
>>>>>>> sessionInfo()
>>>>>> R version 2.6.1 (2007-11-26)
>>>>>> powerpc-apple-darwin8.10.1
>>>>>> 
>>>>>> locale:
>>>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>> 
>>>>>> attached base packages:
>>>>>> [1] stats     graphics  grDevices utils     datasets  methods
>>>>>> base
>>>>>> 
>>>>>> 
>>>>>> Directory is ABC and history is XYZ
>>>>>> So I change directory to FGH and history to QRS
>>>>>> Then I quit R and say save workspace
>>>>>> 
>>>>>> Then I start R
>>>>>> And am back to workspace ABC and history XYZ
>>>>> 
>>>>> Well, if ABC and XYZ is in home and you didn't change the default
>>>>> settings and started R.app directly then that is exactly as
>>>>> expected.
>>>>> 
>>>>> 
>>>>>> Would seem I should be at FGH and QRS
>>>>>> 
>>>>> 
>>>>> Why? That would be quite bad as FGH and QRS have nothing to do with
>>>>> your home. The whole point of changing a directory is usually
>>>>> exactly
>>>>> the fact that you don't want to overwrite the workspace in your
>>>>> home.
>>>>> 
>>>>> 
>>>>>> What am I missing? Is it staring me in the face and I cannot see
>>>>>> it?
>>>>>> 
>>>>> 
>>>>> I'd say reading 4.3.3 in the R for Mac FAQ may possibly explain
>>>>> this a
>>>>> bit ...
>>>>> 
>>>>> Cheers,
>>>>> Simon
>>>>> 
>>>>> PS: Please use R-SIG-Mac for Mac-specific questions.
>>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> 
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
>


From engrav at u.washington.edu  Sun Dec  9 17:14:21 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Sun, 09 Dec 2007 08:14:21 -0800
Subject: [R-SIG-Mac] R.app ?bug
In-Reply-To: <6D91FE92-BC8A-4F73-8910-104F1951DF00@r-project.org>
Message-ID: <C381545D.1596C%engrav@u.washington.edu>

Thank you, I understand
Demolish may be too strong since R is till there in the Activity Monitor

So then as I understand, if the Finder "loses" R.app, if I wait long enough
till the process ends, the Finder will find R.app again

I will do that

Thank you

-- 
Loren Engrav
Univ Washington
Seattle

> From: Simon Urbanek <simon.urbanek at r-project.org>
> Date: Sun, 9 Dec 2007 10:06:14 -0500
> To: Loren Engrav <engrav at u.washington.edu>
> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
> Subject: Re: [R-SIG-Mac] R.app ?bug
> 
> 
> On Dec 9, 2007, at 12:03 AM, Loren Engrav wrote:
> 
>> My goodness
>> To preclude the Hide process seems rather not Mac
>> But am not sure I have the whatever to tell anyone whatever
>> You might on the other hand since it demolishes R.app
>> 
> 
> It doesn't demolish it - R is still there. It just won't activate
> until the computation is done. As I said before, this is a bug (or
> inconsideration) in the package you are using, it should not block R
> completely in the first place.
> 
> Cheers,
> Simon
> 
> 
>> 
>> 
>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>> Date: Sat, 8 Dec 2007 23:11:40 -0500
>>> To: Loren Engrav <engrav at u.washington.edu>
>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>> Subject: Re: [R-SIG-Mac] R.app ?bug
>>> 
>>> 
>>> On Dec 8, 2007, at 6:19 PM, Loren Engrav wrote:
>>> 
>>>> This is rather vague but let me try please
>>>> 
>>>> Am using MacOS 10.4.11
>>>> 
>>>> And sessionInfo() say
>>>>> sessionInfo()
>>>> R version 2.6.1 (2007-11-26)
>>>> powerpc-apple-darwin8.10.1
>>>> 
>>>> locale:
>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>> 
>>>> attached base packages:
>>>> [1] splines   tools     stats     graphics  grDevices utils
>>>> datasets
>>>> methods   base
>>>> 
>>>> other attached packages:
>>>> [1] hgu133plus2probe_2.0.0 hgu133plus2cdf_2.0.0   gcrma_2.10.0
>>>> matchprobes_1.10.0     affy_1.16.0
>>>> [6] preprocessCore_1.0.0   affyio_1.6.1           Biobase_1.16.1
>>>> 
>>>> And I enter
>>>>> Gibran81  <-  justGCRMA() #81 .cel files
>>>> and since this takes a long time I click on R in menubar to hide it
>>>> and go to Entourage and Safari and Activity Monitor, etc
>>>> 
>>>> Then click on R in the dock to return to R but cannot get back,
>>>> clicking on
>>>> R brings up Entourage or Safari or Activity Monitor
>>>> 
>>>> But Activity Monitor say R is using 1.5 mb real RAM and 1.9 mb
>>>> virtual RAM
>>>> 
>>>> It is like the Finder no longer knows where Mac R.app is
>>>> So I must force quit, start R over, and leave it alone until done
>>>> 
>>>> I checked r-SIG-Mac Dec Nov Oct and see nothing on this
>>>> 
>>> 
>>> If a computation blocks R and doesn't allow it to process events,
>>> then
>>> R cannot respond to user requests. My guess would be that justGCRMA
>>> calls some C code that fails to let R process events periodically, so
>>> R.app can't do anything about it since R is single-threaded :/.
>>> Finder
>>> will know about R once the computation is done, so just let it finish
>>> (and in the meantime bug the author of the code to let R process
>>> events ;)).
>>> 
>>> Cheers,
>>> Simon
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
>


From simon.urbanek at r-project.org  Sun Dec  9 17:23:37 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 9 Dec 2007 11:23:37 -0500
Subject: [R-SIG-Mac] 64-bit R and package installation question
In-Reply-To: <Pine.LNX.4.64.0712090735200.32268@gannet.stats.ox.ac.uk>
References: <14B5765F-209F-4A9E-9BB6-5689D8A5A1E9@gmail.com>
	<BE50FD69-F41F-4D5E-AF57-DF73CE1E1728@r-project.org>
	<A513F082-E3C6-420B-B8C3-7DEDAC34BE91@gmail.com>
	<Pine.LNX.4.64.0712090735200.32268@gannet.stats.ox.ac.uk>
Message-ID: <181637A0-DA37-4FEA-BDB9-2ADB6BCB4FE4@r-project.org>


On Dec 9, 2007, at 3:02 AM, Prof Brian Ripley wrote:

> The fix is to install source packages: use argument type="source",  
> including AFAICS as an argument to biocLite(). Or set
> options(pkgType="source").
>
> Simon: it is unclear to me what build this is, but could the default  
> not be pkgType="source" for off-CRAN builds?  I don't think we  
> should be expecting third parties to support architectures the CRAN  
> build does not.
>

It is the "experimental" Leopard quad-arch nightly build and yes,  
changing the default package type is a good idea. I'll look into this.

Thanks,
Simon


>
> On Sun, 9 Dec 2007, ?? ???? wrote:
>
>> The binaries in http://r.research.att.com/ worked great!
>> Thanks a lot for the tip.
>>
>> However, when I tried to install bioconductor libraries using
>> biocLite, I got the following error message:
>>
>> bash-3.2$ R --arch=x86_64
>>
>> R version 2.6.1 Patched (2007-12-06 r43615)
>> Copyright (C) 2007 The R Foundation for Statistical Computing
>> ISBN 3-900051-07-0
>>
>> R is free software and comes with ABSOLUTELY NO WARRANTY.
>> You are welcome to redistribute it under certain conditions.
>> Type 'license()' or 'licence()' for distribution details.
>>
>> R is a collaborative project with many contributors.
>> Type 'contributors()' for more information and
>> 'citation()' on how to cite R or R packages in publications.
>>
>> Type 'demo()' for some demos, 'help()' for on-line help, or
>> 'help.start()' for an HTML browser interface to help.
>> Type 'q()' to quit R.
>>
>> > source("http://www.bioconductor.org/biocLite.R")
>> > biocLite(lib="~/Library/R64")
>> Running biocinstall version 2.1.8 with R version 2.6.1
>> Your version of R requires version 2.1 of Bioconductor.
>> Will install the following packages:
>> [1] "affy"         "affydata"     "affyPLM"      "annaffy"
>> "annotate"
>> [6] "Biobase"      "Biostrings"   "DynDoc"       "gcrma"
>> "genefilter"
>> [11] "geneplotter"  "hgu95av2"     "limma"        "marray"
>> "matchprobes"
>> [16] "multtest"     "ROC"          "vsn"          "xtable"
>> "affyQCReport"
>> Please wait...
>>
>> trying URL 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6/affy_1.16.0.tgz'
>> Content type 'application/x-gzip' length 1683130 bytes (1.6 Mb)
>> opened URL
>> ==================================================
>> downloaded 1.6 Mb
>>
>> ... < skip > ...
>>
>> trying URL 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6/affyQCReport_1.16.0.tgz'
>> Content type 'application/x-gzip' length 145478 bytes (142 Kb)
>> opened URL
>> ==================================================
>> downloaded 142 Kb
>>
>>
>> The downloaded packages are in
>>        /var/folders/T0/T0X1+9S9ExGTArjMjd98hk+++TI/-Tmp-//Rtmp90AT9K/
>> downloaded_packages
>> > library(affy, lib="~/Library/R64")
>> Error: package 'affy' is not installed for 'arch=x86_64'
>>
>> Is there any special way to install any packages for 64-bit  
>> compatible
>> manner?
>>
>> Thanks in advance,
>>
>> 2007. 12. 08, ???? 2:11, Simon Urbanek ????:
>>
>>>
>>> On Dec 6, 2007, at 9:40 PM, ?? ???? wrote:
>>>
>>>> Hi, All;
>>>>
>>>> I've compiled and installed successfully "presumably" 64-bit R on
>>>> Leopard.
>>>> But when I tried to run R, I got the following error:
>>>>
>>>> /usr/bin/R: line 179: /Library/Frameworks/R.framework/Resources/ 
>>>> etc/
>>>> i386/ldpaths: No such file or directory
>>>>
>>>
>>> I'm pretty sure that your /usr/bin/R comes from a different build.
>>> Make sure you remove old scripts.
>>>
>>> FWIW: dual 32-bit and 64-bit binaries of current R 2.6.1 patched and
>>> R-devel for Leopard are available from
>>> http://r.research.att.com/
>>> They support all four architectures. To start 64-bit Intel R use R  
>>> --
>>> arch=x86_64, for 64-bit ppc it is R --arch=ppc64.
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>> Here is the configuration I used:
>>>>
>>>> CONFIG_SHELL=/bin/bash ../R-devel/configure r_arch=x86_64  
>>>> LDFLAGS="-
>>>> L/
>>>> usr/local/lib64 -L/usr/X11R6/lib" CC='gcc-4.2 -g -O3' CXX='g+ 
>>>> +-4.2 -
>>>> g -
>>>> O3' F77='gfortran -g -O3' FC='gfortran -g -O3' --with-blas='-
>>>> framework
>>>> vecLib' --with-lapack
>>>>
>>>> Thanks in advance
>>>>
>>>> Tae-Hoon Chung
>>>>
>>>> Korea Centers for Disease Control & Prevention (KCDC)
>>>> Korea National Institute of Health (KNIH)
>>>> Center for Genome Sciences, Biobank for Health Sciences
>>>>
>>>> 194 Tongil-ro, Eunpyoung-gu, Seoul, 122-701, Korea
>>>>
>>>> Tel		82-2-380-2252
>>>> Fax		82-2-354-1078
>>>> Mobile	82-10-8011-1036
>>>>
>>>>
>>>> 	[[alternative HTML version deleted]]
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>
>>
>> Tae-Hoon Chung
>>
>> Korea Centers for Disease Control & Prevention (KCDC)
>> Korea National Institute of Health (KNIH)
>> Center for Genome Sciences, Biobank for Health Sciences
>>
>> 194 Tongil-ro, Eunpyoung-gu, Seoul, 122-701, Korea
>>
>> Tel		82-2-380-2252
>> Fax		82-2-354-1078
>> Mobile	82-10-8011-1036
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From khansen at stat.Berkeley.EDU  Sun Dec  9 20:38:39 2007
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Sun, 9 Dec 2007 11:38:39 -0800
Subject: [R-SIG-Mac] R.app ?bug or me
In-Reply-To: <86C63A27-923A-4A56-94CB-5B0355D480E3@r-project.org>
References: <C380B727.15941%engrav@u.washington.edu>
	<86C63A27-923A-4A56-94CB-5B0355D480E3@r-project.org>
Message-ID: <71DA90C5-56DB-4E6E-94A0-C4071B4FDE7E@stat.berkeley.edu>


On Dec 9, 2007, at 7:12 AM, Simon Urbanek wrote:

>
> On Dec 9, 2007, at 12:03 AM, Loren Engrav wrote:
>
>> I understand, and can work with this
>>
>> But then R in the Mac dock is not of much value as it always goes
>> "home"; no matter what you were working on last
>>
>
> The purpose of the dock is to get quick access to the application -
> that has no "value" in terms of which workspace you want to start -
> it's still up to you, not the dock. What I was talking about was R in
> the dock, so I don't see the connection.
>
> Anyway, as I said earlier, I think that changing the working directory
> on startup to some random path without user having a say in this is a
> really bad idea and I think a lot of users would find it disturbing.

And I think most everyone else agrees with what Simon says here..

Kasper


> Cheers,
> Simon
>
>
>>
>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>> Date: Sat, 8 Dec 2007 23:08:34 -0500
>>> To: Loren Engrav <engrav at u.washington.edu>
>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>> Subject: Re: [R-SIG-Mac] R.app ?bug or me
>>>
>>>
>>> On Dec 8, 2007, at 7:48 PM, Loren Engrav wrote:
>>>
>>>> Thank you for the help
>>>>
>>>> Ah so, default is in Preferences and the new is under Misc in the
>>>> menu bar
>>>> I can do that and will
>>>>
>>>> But might it not be more convenient if on R.app start you went to
>>>> where you
>>>> were last time, since most often you wish to go to the place you
>>>> just left
>>>>
>>>
>>> Although it would be possible to make that a configurable option,
>>> it'd
>>> definitely not want that. It would make R's behavior sort of random,
>>> because you would never know where it will start from ... a really
>>> bad
>>> thing (IMHO).
>>>  If you want to work on a specific project, it's much more  
>>> convenient
>>> to just drag the directory on R to start it and you can then work on
>>> multiple projects conveniently and independently.
>>>
>>>
>>>> As for
>>>>> PS: Please use R-SIG-Mac for Mac-specific questions.
>>>>
>>>> This is appearing in R-SIG-Mac.  What am I missing here?
>>>>
>>>
>>> Oops, sorry, my bad, the "To" was showing R-devel for some  
>>> mysterious
>>> reason...
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>>
>>>>
>>>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>>>> Date: Sat, 8 Dec 2007 18:57:14 -0500
>>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>>> Subject: Re: [R-SIG-Mac] R.app ?bug or me
>>>>>
>>>>>
>>>>> On Dec 8, 2007, at 6:37 PM, Loren Engrav wrote:
>>>>>
>>>>>> Using Mac 10.4.11
>>>>>> And sessionInfo() say
>>>>>>
>>>>>>> sessionInfo()
>>>>>> R version 2.6.1 (2007-11-26)
>>>>>> powerpc-apple-darwin8.10.1
>>>>>>
>>>>>> locale:
>>>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>>
>>>>>> attached base packages:
>>>>>> [1] stats     graphics  grDevices utils     datasets  methods
>>>>>> base
>>>>>>
>>>>>>
>>>>>> Directory is ABC and history is XYZ
>>>>>> So I change directory to FGH and history to QRS
>>>>>> Then I quit R and say save workspace
>>>>>>
>>>>>> Then I start R
>>>>>> And am back to workspace ABC and history XYZ
>>>>>
>>>>> Well, if ABC and XYZ is in home and you didn't change the default
>>>>> settings and started R.app directly then that is exactly as
>>>>> expected.
>>>>>
>>>>>
>>>>>> Would seem I should be at FGH and QRS
>>>>>>
>>>>>
>>>>> Why? That would be quite bad as FGH and QRS have nothing to do  
>>>>> with
>>>>> your home. The whole point of changing a directory is usually
>>>>> exactly
>>>>> the fact that you don't want to overwrite the workspace in your
>>>>> home.
>>>>>
>>>>>
>>>>>> What am I missing? Is it staring me in the face and I cannot see
>>>>>> it?
>>>>>>
>>>>>
>>>>> I'd say reading 4.3.3 in the R for Mac FAQ may possibly explain
>>>>> this a
>>>>> bit ...
>>>>>
>>>>> Cheers,
>>>>> Simon
>>>>>
>>>>> PS: Please use R-SIG-Mac for Mac-specific questions.
>>>>>
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From engrav at u.washington.edu  Mon Dec 10 19:43:23 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Mon, 10 Dec 2007 10:43:23 -0800
Subject: [R-SIG-Mac] R.app ?bug or me
In-Reply-To: <71DA90C5-56DB-4E6E-94A0-C4071B4FDE7E@stat.berkeley.edu>
Message-ID: <C382C8CB.159EA%engrav@u.washington.edu>

I think discussion now confused, at least on my end, as I agree too

Home directory in Preferences is good
Drag and drop to go to new directories is good
Random would be bad

But most often when I start R.app I go back to the place I was, which is
usually not home, so finding the drop to drag takes some effort, merely
double clicking seemed like it would be convenient

But I can drag and drop

And more code would make the thing fatter with more bugs
So I can do it


-- 
Loren Engrav
Univ Washington
Seattle

> From: Kasper Daniel Hansen <khansen at stat.Berkeley.EDU>
> Date: Sun, 9 Dec 2007 11:38:39 -0800
> To: Simon Urbanek <simon.urbanek at r-project.org>
> Cc: Loren Engrav <engrav at u.washington.edu>, "r-sig-mac at stat.math.ethz.ch"
> <r-sig-mac at stat.math.ethz.ch>
> Subject: Re: [R-SIG-Mac] R.app ?bug or me
> 
> 
> On Dec 9, 2007, at 7:12 AM, Simon Urbanek wrote:
> 
>> 
>> On Dec 9, 2007, at 12:03 AM, Loren Engrav wrote:
>> 
>>> I understand, and can work with this
>>> 
>>> But then R in the Mac dock is not of much value as it always goes
>>> "home"; no matter what you were working on last
>>> 
>> 
>> The purpose of the dock is to get quick access to the application -
>> that has no "value" in terms of which workspace you want to start -
>> it's still up to you, not the dock. What I was talking about was R in
>> the dock, so I don't see the connection.
>> 
>> Anyway, as I said earlier, I think that changing the working directory
>> on startup to some random path without user having a say in this is a
>> really bad idea and I think a lot of users would find it disturbing.
> 
> And I think most everyone else agrees with what Simon says here..
> 
> Kasper
> 
> 
>> Cheers,
>> Simon
>> 
>> 
>>> 
>>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>>> Date: Sat, 8 Dec 2007 23:08:34 -0500
>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>> Subject: Re: [R-SIG-Mac] R.app ?bug or me
>>>> 
>>>> 
>>>> On Dec 8, 2007, at 7:48 PM, Loren Engrav wrote:
>>>> 
>>>>> Thank you for the help
>>>>> 
>>>>> Ah so, default is in Preferences and the new is under Misc in the
>>>>> menu bar
>>>>> I can do that and will
>>>>> 
>>>>> But might it not be more convenient if on R.app start you went to
>>>>> where you
>>>>> were last time, since most often you wish to go to the place you
>>>>> just left
>>>>> 
>>>> 
>>>> Although it would be possible to make that a configurable option,
>>>> it'd
>>>> definitely not want that. It would make R's behavior sort of random,
>>>> because you would never know where it will start from ... a really
>>>> bad
>>>> thing (IMHO).
>>>>  If you want to work on a specific project, it's much more
>>>> convenient
>>>> to just drag the directory on R to start it and you can then work on
>>>> multiple projects conveniently and independently.
>>>> 
>>>> 
>>>>> As for
>>>>>> PS: Please use R-SIG-Mac for Mac-specific questions.
>>>>> 
>>>>> This is appearing in R-SIG-Mac.  What am I missing here?
>>>>> 
>>>> 
>>>> Oops, sorry, my bad, the "To" was showing R-devel for some
>>>> mysterious
>>>> reason...
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>>> 
>>>>> 
>>>>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>>>>> Date: Sat, 8 Dec 2007 18:57:14 -0500
>>>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>>>> Subject: Re: [R-SIG-Mac] R.app ?bug or me
>>>>>> 
>>>>>> 
>>>>>> On Dec 8, 2007, at 6:37 PM, Loren Engrav wrote:
>>>>>> 
>>>>>>> Using Mac 10.4.11
>>>>>>> And sessionInfo() say
>>>>>>> 
>>>>>>>> sessionInfo()
>>>>>>> R version 2.6.1 (2007-11-26)
>>>>>>> powerpc-apple-darwin8.10.1
>>>>>>> 
>>>>>>> locale:
>>>>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>>> 
>>>>>>> attached base packages:
>>>>>>> [1] stats     graphics  grDevices utils     datasets  methods
>>>>>>> base
>>>>>>> 
>>>>>>> 
>>>>>>> Directory is ABC and history is XYZ
>>>>>>> So I change directory to FGH and history to QRS
>>>>>>> Then I quit R and say save workspace
>>>>>>> 
>>>>>>> Then I start R
>>>>>>> And am back to workspace ABC and history XYZ
>>>>>> 
>>>>>> Well, if ABC and XYZ is in home and you didn't change the default
>>>>>> settings and started R.app directly then that is exactly as
>>>>>> expected.
>>>>>> 
>>>>>> 
>>>>>>> Would seem I should be at FGH and QRS
>>>>>>> 
>>>>>> 
>>>>>> Why? That would be quite bad as FGH and QRS have nothing to do
>>>>>> with
>>>>>> your home. The whole point of changing a directory is usually
>>>>>> exactly
>>>>>> the fact that you don't want to overwrite the workspace in your
>>>>>> home.
>>>>>> 
>>>>>> 
>>>>>>> What am I missing? Is it staring me in the face and I cannot see
>>>>>>> it?
>>>>>>> 
>>>>>> 
>>>>>> I'd say reading 4.3.3 in the R for Mac FAQ may possibly explain
>>>>>> this a
>>>>>> bit ...
>>>>>> 
>>>>>> Cheers,
>>>>>> Simon
>>>>>> 
>>>>>> PS: Please use R-SIG-Mac for Mac-specific questions.
>>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> 
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From smckinney at bccrc.ca  Mon Dec 10 20:04:19 2007
From: smckinney at bccrc.ca (Steven McKinney)
Date: Mon, 10 Dec 2007 11:04:19 -0800
Subject: [R-SIG-Mac] R.app ?bug or me
References: <C382C8CB.159EA%engrav@u.washington.edu>
Message-ID: <0BE438149FF2254DB4199E2682C8DFEB0328A0D0@crcmail1.BCCRC.CA>

Hi Loren,

The great thing about R is its depth
of functionality.  You could write
a .Last() function in your .Rprofile
that makes a note of your session
working directory (in a clear text
file, or by modifying .Rprofile itself, ...)
so that your .First() function in .Rprofile
can find out where you were last and
start you up there.  

Cheers

Steve McKinney

-----Original Message-----
From: r-sig-mac-bounces at stat.math.ethz.ch on behalf of Loren Engrav
Sent: Mon 12/10/2007 10:43 AM
To: r-sig-mac at stat.math.ethz.ch
Subject: Re: [R-SIG-Mac] R.app ?bug or me
 
I think discussion now confused, at least on my end, as I agree too

Home directory in Preferences is good
Drag and drop to go to new directories is good
Random would be bad

But most often when I start R.app I go back to the place I was, which is
usually not home, so finding the drop to drag takes some effort, merely
double clicking seemed like it would be convenient

But I can drag and drop

And more code would make the thing fatter with more bugs
So I can do it


-- 
Loren Engrav
Univ Washington
Seattle

> From: Kasper Daniel Hansen <khansen at stat.Berkeley.EDU>
> Date: Sun, 9 Dec 2007 11:38:39 -0800
> To: Simon Urbanek <simon.urbanek at r-project.org>
> Cc: Loren Engrav <engrav at u.washington.edu>, "r-sig-mac at stat.math.ethz.ch"
> <r-sig-mac at stat.math.ethz.ch>
> Subject: Re: [R-SIG-Mac] R.app ?bug or me
> 
> 
> On Dec 9, 2007, at 7:12 AM, Simon Urbanek wrote:
> 
>> 
>> On Dec 9, 2007, at 12:03 AM, Loren Engrav wrote:
>> 
>>> I understand, and can work with this
>>> 
>>> But then R in the Mac dock is not of much value as it always goes
>>> "home"; no matter what you were working on last
>>> 
>> 
>> The purpose of the dock is to get quick access to the application -
>> that has no "value" in terms of which workspace you want to start -
>> it's still up to you, not the dock. What I was talking about was R in
>> the dock, so I don't see the connection.
>> 
>> Anyway, as I said earlier, I think that changing the working directory
>> on startup to some random path without user having a say in this is a
>> really bad idea and I think a lot of users would find it disturbing.
> 
> And I think most everyone else agrees with what Simon says here..
> 
> Kasper
> 
> 
>> Cheers,
>> Simon
>> 
>> 
>>> 
>>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>>> Date: Sat, 8 Dec 2007 23:08:34 -0500
>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>> Subject: Re: [R-SIG-Mac] R.app ?bug or me
>>>> 
>>>> 
>>>> On Dec 8, 2007, at 7:48 PM, Loren Engrav wrote:
>>>> 
>>>>> Thank you for the help
>>>>> 
>>>>> Ah so, default is in Preferences and the new is under Misc in the
>>>>> menu bar
>>>>> I can do that and will
>>>>> 
>>>>> But might it not be more convenient if on R.app start you went to
>>>>> where you
>>>>> were last time, since most often you wish to go to the place you
>>>>> just left
>>>>> 
>>>> 
>>>> Although it would be possible to make that a configurable option,
>>>> it'd
>>>> definitely not want that. It would make R's behavior sort of random,
>>>> because you would never know where it will start from ... a really
>>>> bad
>>>> thing (IMHO).
>>>>  If you want to work on a specific project, it's much more
>>>> convenient
>>>> to just drag the directory on R to start it and you can then work on
>>>> multiple projects conveniently and independently.
>>>> 
>>>> 
>>>>> As for
>>>>>> PS: Please use R-SIG-Mac for Mac-specific questions.
>>>>> 
>>>>> This is appearing in R-SIG-Mac.  What am I missing here?
>>>>> 
>>>> 
>>>> Oops, sorry, my bad, the "To" was showing R-devel for some
>>>> mysterious
>>>> reason...
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>>> 
>>>>> 
>>>>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>>>>> Date: Sat, 8 Dec 2007 18:57:14 -0500
>>>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>>>> Subject: Re: [R-SIG-Mac] R.app ?bug or me
>>>>>> 
>>>>>> 
>>>>>> On Dec 8, 2007, at 6:37 PM, Loren Engrav wrote:
>>>>>> 
>>>>>>> Using Mac 10.4.11
>>>>>>> And sessionInfo() say
>>>>>>> 
>>>>>>>> sessionInfo()
>>>>>>> R version 2.6.1 (2007-11-26)
>>>>>>> powerpc-apple-darwin8.10.1
>>>>>>> 
>>>>>>> locale:
>>>>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>>> 
>>>>>>> attached base packages:
>>>>>>> [1] stats     graphics  grDevices utils     datasets  methods
>>>>>>> base
>>>>>>> 
>>>>>>> 
>>>>>>> Directory is ABC and history is XYZ
>>>>>>> So I change directory to FGH and history to QRS
>>>>>>> Then I quit R and say save workspace
>>>>>>> 
>>>>>>> Then I start R
>>>>>>> And am back to workspace ABC and history XYZ
>>>>>> 
>>>>>> Well, if ABC and XYZ is in home and you didn't change the default
>>>>>> settings and started R.app directly then that is exactly as
>>>>>> expected.
>>>>>> 
>>>>>> 
>>>>>>> Would seem I should be at FGH and QRS
>>>>>>> 
>>>>>> 
>>>>>> Why? That would be quite bad as FGH and QRS have nothing to do
>>>>>> with
>>>>>> your home. The whole point of changing a directory is usually
>>>>>> exactly
>>>>>> the fact that you don't want to overwrite the workspace in your
>>>>>> home.
>>>>>> 
>>>>>> 
>>>>>>> What am I missing? Is it staring me in the face and I cannot see
>>>>>>> it?
>>>>>>> 
>>>>>> 
>>>>>> I'd say reading 4.3.3 in the R for Mac FAQ may possibly explain
>>>>>> this a
>>>>>> bit ...
>>>>>> 
>>>>>> Cheers,
>>>>>> Simon
>>>>>> 
>>>>>> PS: Please use R-SIG-Mac for Mac-specific questions.
>>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> 
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

_______________________________________________
R-SIG-Mac mailing list
R-SIG-Mac at stat.math.ethz.ch
https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From jo.irisson at gmail.com  Mon Dec 10 23:10:59 2007
From: jo.irisson at gmail.com (jiho)
Date: Mon, 10 Dec 2007 23:10:59 +0100
Subject: [R-SIG-Mac] .svn directory installed with R
Message-ID: <D698F92C-58A8-4290-8852-C01AF3FCDD83@gmail.com>

Hi everyone,

This has been true for several versions already but I did not reported  
it before: installing R puts some .svn directories a bit all around  
(in / and in /Applications at least). I don't know whether this is a  
"feature" but this is particularly annoying when using svn for other  
purposes: my whole disk is recognised as an svn checkout. I use  
SCPlugin which means I have badges everywhere too, and so on and so  
forth.
So: why are those directories installed? Can it be changed?

Thanks in advance for your answers.

JiHO
---
http://jo.irisson.free.fr/


From engrav at u.washington.edu  Tue Dec 11 17:38:56 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Tue, 11 Dec 2007 08:38:56 -0800
Subject: [R-SIG-Mac] Two R.app questions
Message-ID: <C383FD20.15AA1%engrav@u.washington.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20071211/f0064294/attachment.pl 

From engrav at u.washington.edu  Wed Dec 12 01:01:31 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Tue, 11 Dec 2007 16:01:31 -0800
Subject: [R-SIG-Mac] R.app ?bug or me
In-Reply-To: <0BE438149FF2254DB4199E2682C8DFEB0328A0D0@crcmail1.BCCRC.CA>
Message-ID: <C38464DB.15AE0%engrav@u.washington.edu>

Thank you
That sounds clever, probably too clever for me
I think I will just drag and drop


> From: Steven McKinney <smckinney at bccrc.ca>
> Date: Mon, 10 Dec 2007 11:04:19 -0800
> To: Loren Engrav <engrav at u.washington.edu>, <r-sig-mac at stat.math.ethz.ch>
> Conversation: [R-SIG-Mac] R.app ?bug or me
> Subject: RE: [R-SIG-Mac] R.app ?bug or me
> 
> Hi Loren,
> 
> The great thing about R is its depth
> of functionality.  You could write
> a .Last() function in your .Rprofile
> that makes a note of your session
> working directory (in a clear text
> file, or by modifying .Rprofile itself, ...)
> so that your .First() function in .Rprofile
> can find out where you were last and
> start you up there.
> 
> Cheers
> 
> Steve McKinney
> 
> -----Original Message-----
> From: r-sig-mac-bounces at stat.math.ethz.ch on behalf of Loren Engrav
> Sent: Mon 12/10/2007 10:43 AM
> To: r-sig-mac at stat.math.ethz.ch
> Subject: Re: [R-SIG-Mac] R.app ?bug or me
>  
> I think discussion now confused, at least on my end, as I agree too
> 
> Home directory in Preferences is good
> Drag and drop to go to new directories is good
> Random would be bad
> 
> But most often when I start R.app I go back to the place I was, which is
> usually not home, so finding the drop to drag takes some effort, merely
> double clicking seemed like it would be convenient
> 
> But I can drag and drop
> 
> And more code would make the thing fatter with more bugs
> So I can do it
> 
> 
> -- 
> Loren Engrav
> Univ Washington
> Seattle
> 
>> From: Kasper Daniel Hansen <khansen at stat.Berkeley.EDU>
>> Date: Sun, 9 Dec 2007 11:38:39 -0800
>> To: Simon Urbanek <simon.urbanek at r-project.org>
>> Cc: Loren Engrav <engrav at u.washington.edu>, "r-sig-mac at stat.math.ethz.ch"
>> <r-sig-mac at stat.math.ethz.ch>
>> Subject: Re: [R-SIG-Mac] R.app ?bug or me
>> 
>> 
>> On Dec 9, 2007, at 7:12 AM, Simon Urbanek wrote:
>> 
>>> 
>>> On Dec 9, 2007, at 12:03 AM, Loren Engrav wrote:
>>> 
>>>> I understand, and can work with this
>>>> 
>>>> But then R in the Mac dock is not of much value as it always goes
>>>> "home"; no matter what you were working on last
>>>> 
>>> 
>>> The purpose of the dock is to get quick access to the application -
>>> that has no "value" in terms of which workspace you want to start -
>>> it's still up to you, not the dock. What I was talking about was R in
>>> the dock, so I don't see the connection.
>>> 
>>> Anyway, as I said earlier, I think that changing the working directory
>>> on startup to some random path without user having a say in this is a
>>> really bad idea and I think a lot of users would find it disturbing.
>> 
>> And I think most everyone else agrees with what Simon says here..
>> 
>> Kasper
>> 
>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>>> 
>>>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>>>> Date: Sat, 8 Dec 2007 23:08:34 -0500
>>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>>> Subject: Re: [R-SIG-Mac] R.app ?bug or me
>>>>> 
>>>>> 
>>>>> On Dec 8, 2007, at 7:48 PM, Loren Engrav wrote:
>>>>> 
>>>>>> Thank you for the help
>>>>>> 
>>>>>> Ah so, default is in Preferences and the new is under Misc in the
>>>>>> menu bar
>>>>>> I can do that and will
>>>>>> 
>>>>>> But might it not be more convenient if on R.app start you went to
>>>>>> where you
>>>>>> were last time, since most often you wish to go to the place you
>>>>>> just left
>>>>>> 
>>>>> 
>>>>> Although it would be possible to make that a configurable option,
>>>>> it'd
>>>>> definitely not want that. It would make R's behavior sort of random,
>>>>> because you would never know where it will start from ... a really
>>>>> bad
>>>>> thing (IMHO).
>>>>>  If you want to work on a specific project, it's much more
>>>>> convenient
>>>>> to just drag the directory on R to start it and you can then work on
>>>>> multiple projects conveniently and independently.
>>>>> 
>>>>> 
>>>>>> As for
>>>>>>> PS: Please use R-SIG-Mac for Mac-specific questions.
>>>>>> 
>>>>>> This is appearing in R-SIG-Mac.  What am I missing here?
>>>>>> 
>>>>> 
>>>>> Oops, sorry, my bad, the "To" was showing R-devel for some
>>>>> mysterious
>>>>> reason...
>>>>> 
>>>>> Cheers,
>>>>> Simon
>>>>> 
>>>>> 
>>>>>> 
>>>>>> 
>>>>>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>>>>>> Date: Sat, 8 Dec 2007 18:57:14 -0500
>>>>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>>>>> Subject: Re: [R-SIG-Mac] R.app ?bug or me
>>>>>>> 
>>>>>>> 
>>>>>>> On Dec 8, 2007, at 6:37 PM, Loren Engrav wrote:
>>>>>>> 
>>>>>>>> Using Mac 10.4.11
>>>>>>>> And sessionInfo() say
>>>>>>>> 
>>>>>>>>> sessionInfo()
>>>>>>>> R version 2.6.1 (2007-11-26)
>>>>>>>> powerpc-apple-darwin8.10.1
>>>>>>>> 
>>>>>>>> locale:
>>>>>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>>>> 
>>>>>>>> attached base packages:
>>>>>>>> [1] stats     graphics  grDevices utils     datasets  methods
>>>>>>>> base
>>>>>>>> 
>>>>>>>> 
>>>>>>>> Directory is ABC and history is XYZ
>>>>>>>> So I change directory to FGH and history to QRS
>>>>>>>> Then I quit R and say save workspace
>>>>>>>> 
>>>>>>>> Then I start R
>>>>>>>> And am back to workspace ABC and history XYZ
>>>>>>> 
>>>>>>> Well, if ABC and XYZ is in home and you didn't change the default
>>>>>>> settings and started R.app directly then that is exactly as
>>>>>>> expected.
>>>>>>> 
>>>>>>> 
>>>>>>>> Would seem I should be at FGH and QRS
>>>>>>>> 
>>>>>>> 
>>>>>>> Why? That would be quite bad as FGH and QRS have nothing to do
>>>>>>> with
>>>>>>> your home. The whole point of changing a directory is usually
>>>>>>> exactly
>>>>>>> the fact that you don't want to overwrite the workspace in your
>>>>>>> home.
>>>>>>> 
>>>>>>> 
>>>>>>>> What am I missing? Is it staring me in the face and I cannot see
>>>>>>>> it?
>>>>>>>> 
>>>>>>> 
>>>>>>> I'd say reading 4.3.3 in the R for Mac FAQ may possibly explain
>>>>>>> this a
>>>>>>> bit ...
>>>>>>> 
>>>>>>> Cheers,
>>>>>>> Simon
>>>>>>> 
>>>>>>> PS: Please use R-SIG-Mac for Mac-specific questions.
>>>>>>> 
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>>> 
>>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From hpages at fhcrc.org  Thu Dec 13 01:06:56 2007
From: hpages at fhcrc.org (Herve Pages)
Date: Wed, 12 Dec 2007 16:06:56 -0800
Subject: [R-SIG-Mac] 64-bit R compiling problem on Leopard
In-Reply-To: <BE50FD69-F41F-4D5E-AF57-DF73CE1E1728@r-project.org>
References: <14B5765F-209F-4A9E-9BB6-5689D8A5A1E9@gmail.com>
	<BE50FD69-F41F-4D5E-AF57-DF73CE1E1728@r-project.org>
Message-ID: <476077A0.5090606@fhcrc.org>

Hi Simon,

Simon Urbanek wrote:
[...]
> 
> FWIW: dual 32-bit and 64-bit binaries of current R 2.6.1 patched and R- 
> devel for Leopard are available from
> http://r.research.att.com/
> They support all four architectures. To start 64-bit Intel R use R -- 
> arch=x86_64, for 64-bit ppc it is R --arch=ppc64.

We are trying to help some Bioconductor users to use these nightly
builds in 64-bit mode.

I noticed that when I start them with R --arch=x86_64, 'sessionInfo()'
and 'version' still report i386 (this is with the latest R-2.6-branch
or R-devel builds for Leopard available at http://r.research.att.com/).

However, when I try to install and load a Bioconductor binary package,
I do get the same error as reported by Tae-Hoon:

  > library(Biostrings)
  Error: package 'Biostrings' is not installed for 'arch=x86_64'

so it seems that I'm really running R in x86_64 mode (and then the
error I get with library(Biostrings) is perfectly normal since the
BioC universal binaries don't support the x86_64 arch yet).

Also note that when I start R with --arch=ppc, 'sessionInfo()' and 'version'
report the powerpc arch. So why isn't it the case with the x86_64 arch?

Thanks!
H.


From Tim.Cole at ich.ucl.ac.uk  Thu Dec 13 10:44:17 2007
From: Tim.Cole at ich.ucl.ac.uk (Tim Cole)
Date: Thu, 13 Dec 2007 09:44:17 +0000
Subject: [R-SIG-Mac] Cmd-Rtn in R editor
Message-ID: <p06240800c386ae53d3d8@[194.82.246.94]>

I've use Cmd-E a lot in the R editor to source the whole file, but 
I've only just noticed Cmd-Rtn to execute the selection. A useful 
extension to this would be to execute the current line, which I don't 
think is currently available.

Could the definition of Cmd-Rtn be extended to execute either the 
selection, or if nothing is selected the current line?

Thanks,
Tim Cole
-- 
Tim.Cole at ich.ucl.ac.uk Phone +44(0)20 7905 2666 Fax +44(0)20 7905 2381
Paed. Epid. & Biostats, UCL Institute of Child Health, London WC1N 1EH, UK


From simon.urbanek at r-project.org  Thu Dec 13 14:59:19 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 13 Dec 2007 08:59:19 -0500
Subject: [R-SIG-Mac] 64-bit R compiling problem on Leopard
In-Reply-To: <476077A0.5090606@fhcrc.org>
References: <14B5765F-209F-4A9E-9BB6-5689D8A5A1E9@gmail.com>
	<BE50FD69-F41F-4D5E-AF57-DF73CE1E1728@r-project.org>
	<476077A0.5090606@fhcrc.org>
Message-ID: <3A48F168-282E-473B-8951-8907D1AF2CE5@r-project.org>

Hi Herve,

On Dec 12, 2007, at 7:06 PM, Herve Pages wrote:

> Simon Urbanek wrote:
> [...]
>>
>> FWIW: dual 32-bit and 64-bit binaries of current R 2.6.1 patched  
>> and R-
>> devel for Leopard are available from
>> http://r.research.att.com/
>> They support all four architectures. To start 64-bit Intel R use R --
>> arch=x86_64, for 64-bit ppc it is R --arch=ppc64.
>
> We are trying to help some Bioconductor users to use these nightly
> builds in 64-bit mode.
>
> I noticed that when I start them with R --arch=x86_64,  
> 'sessionInfo()' and 'version' still report i386 (this is with the  
> latest R-2.6-branch r R-devel builds for Leopard available at http://r.research.att.com/) 
> .
>

Yes - the platform is always i386 or powerpc since Mac OS X identifies  
as such (there is no 64-bit only Mac OS X).

The only reliable way of identifying 32-bit vs 64-bit (on any  
platform) is .Machine$sizeof.pointer


> However, when I try to install and load a Bioconductor binary  
> package, I do get the same error as reported by Tae-Hoon:
>
>> library(Biostrings)
>  Error: package 'Biostrings' is not installed for 'arch=x86_64'
>
> so it seems that I'm really running R in x86_64 mode (and then the  
> error I get with library(Biostrings) is perfectly normal since the  
> BioC universal binaries don't support the x86_64 arch yet).
>

Yes, you are - see .Platform$r_arch


> Also note that when I start R with --arch=ppc, 'sessionInfo()' and  
> 'version' report the powerpc arch. So why isn't it the case with the  
> x86_64 arch?
>

Because Mac OS X on PowerPC identifies itself as powerpc (and there is  
ppc-only Mac OS X). The same is true for --arch=ppc64.

I know that this is confusing, but this is the default. I could force  
the identifiers to be x86_64 and powerpc64 at build time (mainly  
because such platforms officially don't exist), but for now I have  
refrained from doing so. The Leopard 64-bit builds are experimental,  
so nothing is set in stone yet ...

Cheers,
Simon


From engrav at u.washington.edu  Thu Dec 13 16:29:38 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Thu, 13 Dec 2007 07:29:38 -0800
Subject: [R-SIG-Mac] Does preprocessCore do ppc64?
In-Reply-To: <C385CF6A.15BC5%engrav@u.washington.edu>
Message-ID: <C3868FE2.15C25%engrav@u.washington.edu>

I tried
 options(arch="ppc64") in Rprofile
and seems to have worked, I think R.app is ppc64 in Leopard

But affy will not load as requires preprocessCore

Library(preprocessCore) returns

Error in dyn.load(file, ...) :
  unable to load shared library
'/Library/Frameworks/R.framework/Resources/library/preprocessCore/libs/ppc/p
reprocessCore.so':
  
dlopen(/Library/Frameworks/R.framework/Resources/library/preprocessCore/libs
/ppc/preprocessCore.so, 5): Library not loaded:
/Library/Frameworks/R.framework/Versions/2.6/Resources/lib/libgfortran.2.dyl
ib
  Referenced from: 
/Library/Frameworks/R.framework/Resources/library/preprocessCore/libs/ppc/pr
eprocessCore.so
  Reason: image not found
Error in library(preprocessCore) : .First.lib failed for 'preprocessCore'

I check libs in preprocessCore and find i386 and ppc, no ppc64

Does this mean preprocessCore as it stands does not do ppc64? Or I am
getting the wrong one? Or I must build 64bit? Or?

The original thread is in Bio but this seems like a Mac specific question

Thank you

-- 
Loren Engrav
Univ Washington
Seattle


From ripley at stats.ox.ac.uk  Thu Dec 13 18:00:36 2007
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 13 Dec 2007 17:00:36 +0000 (GMT)
Subject: [R-SIG-Mac] Does preprocessCore do ppc64?
In-Reply-To: <C3868FE2.15C25%engrav@u.washington.edu>
References: <C3868FE2.15C25%engrav@u.washington.edu>
Message-ID: <Pine.LNX.4.64.0712131633180.12175@gannet.stats.ox.ac.uk>

The short answer is that the BioC binary packages are not 64-bit.  But 
then neither is the CRAN build of R 2.6.1 nor the CRAN binary packages.

And very likely you are running a 32-bit R.

On Thu, 13 Dec 2007, Loren Engrav wrote:

> I tried
> options(arch="ppc64") in Rprofile
> and seems to have worked,

I am sure it 'worked' for some value of 'worked', but what do you think it 
did?  You can't change the architecture of a running R process (and you 
need a running R process to use R code ...).  You find out whether the 
process is 64-bit by checking

.Machine$sizeof.pointer == 8

and R.version$arch will also indicate the architecture name (x86_64 on my 
Macintel builds).

The sub-architecture (if any) of the running process is given by 
.Platform$r_arch and the user cannot change it (it was set at configure 
time).  From the output below, that is 'ppc'.  Not only do the 
architectures need to match, but do the sub-architecture settings: this is 
easy to achieve when building everything yourself, but not when taking 
binaries built on different systems by different people at different 
times.

So, it seems

- you are running a 32-bit R.
- you are missing a Fortran library.

Please do try to deduce from the output what the problem is, not guess and 
never test your guesses.

> I think R.app is ppc64 in Leopard

The CRAN build of 2.6.1 is not, and you haven't told us which build you 
are using.

AFAIK if you want 64-bit, you need to build packages from sources.

How to set all this up is AFAIK not fully documented, for the very good 
reason that it is *experimental*.  My understanding is that it is intended 
to support 64-bit MacOS binary builds from R 2.7.0 only.



> But affy will not load as requires preprocessCore
>
> Library(preprocessCore) returns
>
> Error in dyn.load(file, ...) :
>  unable to load shared library
> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/libs/ppc/p
> reprocessCore.so':
>
> dlopen(/Library/Frameworks/R.framework/Resources/library/preprocessCore/libs
> /ppc/preprocessCore.so, 5): Library not loaded:
> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/libgfortran.2.dyl
> ib
>  Referenced from:
> /Library/Frameworks/R.framework/Resources/library/preprocessCore/libs/ppc/pr
> eprocessCore.so
>  Reason: image not found
> Error in library(preprocessCore) : .First.lib failed for 'preprocessCore'
>
> I check libs in preprocessCore and find i386 and ppc, no ppc64
>
> Does this mean preprocessCore as it stands does not do ppc64? Or I am
> getting the wrong one? Or I must build 64bit? Or?
>
> The original thread is in Bio but this seems like a Mac specific question
>
> Thank you
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ripley at stats.ox.ac.uk  Thu Dec 13 18:18:51 2007
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 13 Dec 2007 17:18:51 +0000 (GMT)
Subject: [R-SIG-Mac] 64-bit R compiling problem on Leopard
In-Reply-To: <3A48F168-282E-473B-8951-8907D1AF2CE5@r-project.org>
References: <14B5765F-209F-4A9E-9BB6-5689D8A5A1E9@gmail.com>
	<BE50FD69-F41F-4D5E-AF57-DF73CE1E1728@r-project.org>
	<476077A0.5090606@fhcrc.org>
	<3A48F168-282E-473B-8951-8907D1AF2CE5@r-project.org>
Message-ID: <Pine.LNX.4.64.0712131702200.12175@gannet.stats.ox.ac.uk>

On Thu, 13 Dec 2007, Simon Urbanek wrote:

> Hi Herve,
>
> On Dec 12, 2007, at 7:06 PM, Herve Pages wrote:
>
>> Simon Urbanek wrote:
>> [...]
>>>
>>> FWIW: dual 32-bit and 64-bit binaries of current R 2.6.1 patched
>>> and R-
>>> devel for Leopard are available from
>>> http://r.research.att.com/
>>> They support all four architectures. To start 64-bit Intel R use R --
>>> arch=x86_64, for 64-bit ppc it is R --arch=ppc64.
>>
>> We are trying to help some Bioconductor users to use these nightly
>> builds in 64-bit mode.
>>
>> I noticed that when I start them with R --arch=x86_64,
>> 'sessionInfo()' and 'version' still report i386 (this is with the
>> latest R-2.6-branch r R-devel builds for Leopard available at http://r.research.att.com/)
>> .
>>
>
> Yes - the platform is always i386 or powerpc since Mac OS X identifies
> as such (there is no 64-bit only Mac OS X).

I don't think so.  The R.version setting is coming from what configure 
identifies as the value: e.g. the 'arch' value is that of the C macro 
R_CPU.  The configure support files in R-devel have been updated, and do 
give x86_64 using a 64-bit compiler on iMac/Leopard.  I don't have a ppc 
Mac, so not know (nor care) what the value is there.

[...]


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Thu Dec 13 18:59:20 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 13 Dec 2007 12:59:20 -0500
Subject: [R-SIG-Mac] 64-bit R compiling problem on Leopard
In-Reply-To: <Pine.LNX.4.64.0712131702200.12175@gannet.stats.ox.ac.uk>
References: <14B5765F-209F-4A9E-9BB6-5689D8A5A1E9@gmail.com>
	<BE50FD69-F41F-4D5E-AF57-DF73CE1E1728@r-project.org>
	<476077A0.5090606@fhcrc.org>
	<3A48F168-282E-473B-8951-8907D1AF2CE5@r-project.org>
	<Pine.LNX.4.64.0712131702200.12175@gannet.stats.ox.ac.uk>
Message-ID: <25C21AE6-D6AC-4B12-B7A5-BFD39CAEFE25@r-project.org>


On Dec 13, 2007, at 12:18 PM, Prof Brian Ripley wrote:

> On Thu, 13 Dec 2007, Simon Urbanek wrote:
>
>> Hi Herve,
>>
>> On Dec 12, 2007, at 7:06 PM, Herve Pages wrote:
>>
>>> Simon Urbanek wrote:
>>> [...]
>>>>
>>>> FWIW: dual 32-bit and 64-bit binaries of current R 2.6.1 patched
>>>> and R-
>>>> devel for Leopard are available from
>>>> http://r.research.att.com/
>>>> They support all four architectures. To start 64-bit Intel R use  
>>>> R --
>>>> arch=x86_64, for 64-bit ppc it is R --arch=ppc64.
>>>
>>> We are trying to help some Bioconductor users to use these nightly
>>> builds in 64-bit mode.
>>>
>>> I noticed that when I start them with R --arch=x86_64,
>>> 'sessionInfo()' and 'version' still report i386 (this is with the
>>> latest R-2.6-branch r R-devel builds for Leopard available at http://r.research.att.com/)
>>> .
>>>
>>
>> Yes - the platform is always i386 or powerpc since Mac OS X  
>> identifies
>> as such (there is no 64-bit only Mac OS X).
>
> I don't think so.  The R.version setting is coming from what  
> configure identifies as the value: e.g. the 'arch' value is that of  
> the C macro R_CPU.  The configure support files in R-devel have been  
> updated, and do give x86_64 using a 64-bit compiler on iMac/Leopard.

Not for me (tonight's R-devel build):

 > R.version
                _
platform       i386-apple-darwin9.1.0
arch           i386
os             darwin9.1.0
system         i386, darwin9.1.0
status         Under development (unstable)
major          2
minor          7.0
year           2007
month          12
day            12
svn rev        43668
language       R
version.string R version 2.7.0 Under development (unstable)  
(2007-12-12 r43668)

 > .Platform$r_arch
[1] "x86_64"

 > .Machine$sizeof.pointer
[1] 8


AFAICS R_CPU comes from host_cpu which is always i386 or powerpc for  
Darwin:
In config.guess for Darwin: UNAME_PROCESSOR=`uname -p` and Mac OS X  
always reports i386 or powerpc, never anything else. This is different  
from Linux where the kernel will use x86_64 if in 64-bit mode.

As I was saying, we would have to override the platform string (and we  
can), but the official platform is i386-apple-darwin.

A possible work-around would be to modify R_CPU according to the  
compiler (which is what you were suggesting I presume) after we have  
run the checks on the compiler, but we don't do that right now (AFAICS).

Now for something related - right now it is a bit tedious to specify  
the 64-bit builds, because it means to essentially set all compilers  
to custom values. A convenient solution would be to invert the above  
and modify the compilers automatically if host_cpu is set manually to  
a 64-bit CPU (this is what some projects do e.g. GMP) basically by  
appending -arch x86_64 or -arch ppc64 to all compilers. I'm not 100%  
convinced of the usefulness, but it is a solution ...

Cheers,
Simon



> I don't have a ppc Mac, so not know (nor care) what the value is  
> there.
> [...]
>
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
>


From ripley at stats.ox.ac.uk  Thu Dec 13 19:45:19 2007
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Thu, 13 Dec 2007 18:45:19 +0000 (GMT)
Subject: [R-SIG-Mac] 64-bit R compiling problem on Leopard
In-Reply-To: <25C21AE6-D6AC-4B12-B7A5-BFD39CAEFE25@r-project.org>
References: <14B5765F-209F-4A9E-9BB6-5689D8A5A1E9@gmail.com>
	<BE50FD69-F41F-4D5E-AF57-DF73CE1E1728@r-project.org>
	<476077A0.5090606@fhcrc.org>
	<3A48F168-282E-473B-8951-8907D1AF2CE5@r-project.org>
	<Pine.LNX.4.64.0712131702200.12175@gannet.stats.ox.ac.uk>
	<25C21AE6-D6AC-4B12-B7A5-BFD39CAEFE25@r-project.org>
Message-ID: <Pine.LNX.4.64.0712131810530.13122@gannet.stats.ox.ac.uk>

On Thu, 13 Dec 2007, Simon Urbanek wrote:

>
> On Dec 13, 2007, at 12:18 PM, Prof Brian Ripley wrote:
>
>> On Thu, 13 Dec 2007, Simon Urbanek wrote:
>> 
>>> Hi Herve,
>>> 
>>> On Dec 12, 2007, at 7:06 PM, Herve Pages wrote:
>>> 
>>>> Simon Urbanek wrote:
>>>> [...]
>>>>> 
>>>>> FWIW: dual 32-bit and 64-bit binaries of current R 2.6.1 patched
>>>>> and R-
>>>>> devel for Leopard are available from
>>>>> http://r.research.att.com/
>>>>> They support all four architectures. To start 64-bit Intel R use R --
>>>>> arch=x86_64, for 64-bit ppc it is R --arch=ppc64.
>>>> 
>>>> We are trying to help some Bioconductor users to use these nightly
>>>> builds in 64-bit mode.
>>>> 
>>>> I noticed that when I start them with R --arch=x86_64,
>>>> 'sessionInfo()' and 'version' still report i386 (this is with the
>>>> latest R-2.6-branch r R-devel builds for Leopard available at 
>>>> http://r.research.att.com/)
>>>> .
>>>> 
>>> 
>>> Yes - the platform is always i386 or powerpc since Mac OS X identifies
>>> as such (there is no 64-bit only Mac OS X).
>> 
>> I don't think so.  The R.version setting is coming from what configure 
>> identifies as the value: e.g. the 'arch' value is that of the C macro 
>> R_CPU.  The configure support files in R-devel have been updated, and do 
>> give x86_64 using a 64-bit compiler on iMac/Leopard.
>
> Not for me (tonight's R-devel build):
>
>> R.version
>              _
> platform       i386-apple-darwin9.1.0
> arch           i386
> os             darwin9.1.0
> system         i386, darwin9.1.0
> status         Under development (unstable)
> major          2
> minor          7.0
> year           2007
> month          12
> day            12
> svn rev        43668
> language       R
> version.string R version 2.7.0 Under development (unstable) (2007-12-12 
> r43668)
>
>> .Platform$r_arch
> [1] "x86_64"
>
>> .Machine$sizeof.pointer
> [1] 8
>
>
> AFAICS R_CPU comes from host_cpu which is always i386 or powerpc for Darwin:
> In config.guess for Darwin: UNAME_PROCESSOR=`uname -p` and Mac OS X always 
> reports i386 or powerpc, never anything else. This is different from Linux 
> where the kernel will use x86_64 if in 64-bit mode.

On Linux it reports x86_64 if that is the kernel architecture, whatever 
mode it is in.  So an ix86 build of R on AMD64 reports arch=x86_64 unless 
you fiddle it.

On Solaris I get arch=sparc whatever the kernel is tuned for.

Someone has changed something in the last week (probably on our machine), 
as rebuilding today does give 'i386' as you found, but not on Dec 4.

> As I was saying, we would have to override the platform string (and we can), 
> but the official platform is i386-apple-darwin.

Easily, set --build or --host on configure.  That's one reason why it is 
unreliable.

> A possible work-around would be to modify R_CPU according to the compiler 
> (which is what you were suggesting I presume) after we have run the checks on 
> the compiler, but we don't do that right now (AFAICS).

I was only reporting what I got, and I can't see how it happened so please 
discard the data point.  But if I want to change this I would specify 
--host (and it seems to work, at a quick test)

> Now for something related - right now it is a bit tedious to specify the 
> 64-bit builds, because it means to essentially set all compilers to custom 
> values. A convenient solution would be to invert the above and modify the 
> compilers automatically if host_cpu is set manually to a 64-bit CPU (this is 
> what some projects do e.g. GMP) basically by appending -arch x86_64 or -arch 
> ppc64 to all compilers. I'm not 100% convinced of the usefulness, but it is a 
> solution ...

We could just introduce $(ARCH_FLAG), so e.g. CC is set to
@CC@ $(ARCH_FLAG).  There's a need to something like this elsewhere, e.g. 
-m32/-m64, -march or -mtune values.  Just provided there is a means to 
undo this with mixed compiler families (e.g. GNU/Sun Studio).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From engrav at u.washington.edu  Thu Dec 13 23:58:19 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Thu, 13 Dec 2007 14:58:19 -0800
Subject: [R-SIG-Mac] Does preprocessCore do ppc64?
In-Reply-To: <Pine.LNX.4.64.0712131633180.12175@gannet.stats.ox.ac.uk>
Message-ID: <C386F90B.15C60%engrav@u.washington.edu>

Thank you, was helpful, is complicated for this geezer, but interesting

The whole goal is to ReadAffy() on 81 chips which seems to need 64 bit to
avoid "cannot allocate vector...." error (or reduce chips or analyze in
pieces but not yet ready to give up on this)

Other advisors advised

"Install Leopard 10.5.1

Now install either
    R-2.6-branch-leopard-universal.tar.gz
or
    R-devel-leopard-universal.tar.gz
depending on which version of BioC you want to use: the former is for BioC
2.1 (the current release) and the latter for BioC 2.2 (the current devel).

Then start R with --arch=ppc64 and you will be running in 64-bit
mode."

So I installed Leopard and R-2.6-branch and start with R --arch=ppc64

=========
and as you suggested while running Command Line

> version
               _   
platform       powerpc-apple-darwin9.0.0
arch           powerpc
os             darwin9.0.0
system         powerpc, darwin9.0.0
status         Patched
major          2   
minor          6.1 
year           2007
month          12  
day            12  
svn rev        43661
language       R   
version.string R version 2.6.1 Patched (2007-12-12 r43661)

> .Machine$sizeof.pointer == 8
[1] TRUE

> R.version$arch
[1] "powerpc"

> .Platform$r_arch
[1] "ppc64"

============
Then I run R.app with options(arch="ppc64") in .Rprofile

And get

> version
               _   
platform       powerpc-apple-darwin9.1.0
arch           powerpc
os             darwin9.1.0
system         powerpc, darwin9.1.0
status         Patched
major          2   
minor          6.1 
year           2007
month          12  
day            12  
svn rev        43661
language       R   
version.string R version 2.6.1 Patched (2007-12-12 r43661)

> .Machine$sizeof.pointer == 8
[1] FALSE

> R.version$arch
[1] "powerpc"

> .Platform$r_arch
[1] "ppc"
> 

So would then seem at Command Line I have 64 but in R.app I do not

============
Then I try biocLite("preprocessCore") at Command Line and returns

> .Platform$r_arch
[1] "ppc64"
> sessionInfo()
R version 2.6.1 Patched (2007-12-12 r43661)
powerpc-apple-darwin9.0.0

locale:
en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] rcompgen_0.1-17
> source("http://bioconductor.org/biocLite.R")
> biocLite("preprocessCore")

Running biocinstall version 2.1.8 with R version 2.6.1
Your version of R requires version 2.1 of Bioconductor.
trying URL 
'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6/
preprocessCore_1.0.0.tgz'
Content type 'application/x-gzip' length 157468 bytes (153 Kb)
opened URL
==================================================
downloaded 153 Kb


The downloaded packages are in
    
/var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//RtmpHcRo5R/downloaded_pac
kages
> library(preprocessCore)
Error: package 'preprocessCore' is not installed for 'arch=ppc64'
> 

===============
Then I try same with R.app and returns

> .Platform$r_arch
[1] "ppc"
> sessionInfo()
R version 2.6.1 Patched (2007-12-12 r43661)
powerpc-apple-darwin9.1.0

locale:
en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base
> 

> source("http://bioconductor.org/biocLite.R")
> biocLite("preprocessCore")
Running biocinstall version 2.1.8 with R version 2.6.1
Your version of R requires version 2.1 of Bioconductor.
trying URL 
'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6/
preprocessCore_1.0.0.tgz'
Content type 'application/x-gzip' length 157468 bytes (153 Kb)
opened URL
==================================================
downloaded 153 Kb


The downloaded packages are in
    
/var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//Rtmp3VK9Rw/downloaded_pac
kages


> library(preprocessCore)
Error in dyn.load(file, ...) :
  unable to load shared library
'/Library/Frameworks/R.framework/Resources/library/preprocessCore/libs/ppc/p
reprocessCore.so':
  
dlopen(/Library/Frameworks/R.framework/Resources/library/preprocessCore/libs
/ppc/preprocessCore.so, 5): Library not loaded:
/Library/Frameworks/R.framework/Versions/2.6/Resources/lib/libgfortran.2.dyl
ib
  Referenced from: 
/Library/Frameworks/R.framework/Resources/library/preprocessCore/libs/ppc/pr
eprocessCore.so
  Reason: image not found
Error in library(preprocessCore) : .First.lib failed for 'preprocessCore'

=============
So to me seems with your investigative advice
1) I have 64bit at command line
2) I do not have 64bit in R.app
3) preprocessCore is not 64bit (and other packages)

So I am closer to 64bit ReadAffy of 81 files but still not there

With your serious knowledge, how should I get to 64bit ReadAffy

Thank you





> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
> Date: Thu, 13 Dec 2007 17:00:36 +0000 (GMT)
> To: Loren Engrav <engrav at u.washington.edu>
> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
> 
> The short answer is that the BioC binary packages are not 64-bit.  But
> then neither is the CRAN build of R 2.6.1 nor the CRAN binary packages.
> 
> And very likely you are running a 32-bit R.
> 
> On Thu, 13 Dec 2007, Loren Engrav wrote:
> 
>> I tried
>> options(arch="ppc64") in Rprofile
>> and seems to have worked,
> 
> I am sure it 'worked' for some value of 'worked', but what do you think it
> did?  You can't change the architecture of a running R process (and you
> need a running R process to use R code ...).  You find out whether the
> process is 64-bit by checking
> 
> .Machine$sizeof.pointer == 8
> 
> and R.version$arch will also indicate the architecture name (x86_64 on my
> Macintel builds).
> 
> The sub-architecture (if any) of the running process is given by
> .Platform$r_arch and the user cannot change it (it was set at configure
> time).  From the output below, that is 'ppc'.  Not only do the
> architectures need to match, but do the sub-architecture settings: this is
> easy to achieve when building everything yourself, but not when taking
> binaries built on different systems by different people at different
> times.
> 
> So, it seems
> 
> - you are running a 32-bit R.
> - you are missing a Fortran library.
> 
> Please do try to deduce from the output what the problem is, not guess and
> never test your guesses.
> 
>> I think R.app is ppc64 in Leopard
> 
> The CRAN build of 2.6.1 is not, and you haven't told us which build you
> are using.
> 
> AFAIK if you want 64-bit, you need to build packages from sources.
> 
> How to set all this up is AFAIK not fully documented, for the very good
> reason that it is *experimental*.  My understanding is that it is intended
> to support 64-bit MacOS binary builds from R 2.7.0 only.
> 
> 
> 
>> But affy will not load as requires preprocessCore
>> 
>> Library(preprocessCore) returns
>> 
>> Error in dyn.load(file, ...) :
>>  unable to load shared library
>> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/libs/ppc/p
>> reprocessCore.so':
>> 
>> dlopen(/Library/Frameworks/R.framework/Resources/library/preprocessCore/libs
>> /ppc/preprocessCore.so, 5): Library not loaded:
>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/libgfortran.2.dyl
>> ib
>>  Referenced from:
>> /Library/Frameworks/R.framework/Resources/library/preprocessCore/libs/ppc/pr
>> eprocessCore.so
>>  Reason: image not found
>> Error in library(preprocessCore) : .First.lib failed for 'preprocessCore'
>> 
>> I check libs in preprocessCore and find i386 and ppc, no ppc64
>> 
>> Does this mean preprocessCore as it stands does not do ppc64? Or I am
>> getting the wrong one? Or I must build 64bit? Or?
>> 
>> The original thread is in Bio but this seems like a Mac specific question
>> 
>> Thank you
>> 
>> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Fri Dec 14 01:39:52 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 13 Dec 2007 19:39:52 -0500
Subject: [R-SIG-Mac] Does preprocessCore do ppc64?
In-Reply-To: <C386F90B.15C60%engrav@u.washington.edu>
References: <C386F90B.15C60%engrav@u.washington.edu>
Message-ID: <3AA2BE99-022E-4DEE-8C18-54285EEB3F57@r-project.org>


On Dec 13, 2007, at 5:58 PM, Loren Engrav wrote:

> Thank you, was helpful, is complicated for this geezer, but  
> interesting
>
> The whole goal is to ReadAffy() on 81 chips which seems to need 64  
> bit to
> avoid "cannot allocate vector...." error (or reduce chips or analyze  
> in
> pieces but not yet ready to give up on this)
>
> Other advisors advised
>
> "Install Leopard 10.5.1
>
> Now install either
>    R-2.6-branch-leopard-universal.tar.gz
> or
>    R-devel-leopard-universal.tar.gz
> depending on which version of BioC you want to use: the former is  
> for BioC
> 2.1 (the current release) and the latter for BioC 2.2 (the current  
> devel).
>
> Then start R with --arch=ppc64 and you will be running in 64-bit
> mode."
>
> So I installed Leopard and R-2.6-branch and start with R --arch=ppc64
>
> =========
> and as you suggested while running Command Line
>
>> version
>               _
> platform       powerpc-apple-darwin9.0.0
> arch           powerpc
> os             darwin9.0.0
> system         powerpc, darwin9.0.0
> status         Patched
> major          2
> minor          6.1
> year           2007
> month          12
> day            12
> svn rev        43661
> language       R
> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>
>> .Machine$sizeof.pointer == 8
> [1] TRUE
>
>> R.version$arch
> [1] "powerpc"
>
>> .Platform$r_arch
> [1] "ppc64"
>
> ============
> Then I run R.app with options(arch="ppc64") in .Rprofile
>

That is a really bad idea (see the response you got previously). You  
cannot change the architecture in a running R and you also cannot use  
32-bit R.app with 64-bit R. If you want 64-bit R and the GUI, you have  
to use 64-bit R.app (which you have to build from the sources). Also  
note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI  
won't be of much use. You have to use R-devel for Quartz in 64-bit.


> And get
>
>> version
>               _
> platform       powerpc-apple-darwin9.1.0
> arch           powerpc
> os             darwin9.1.0
> system         powerpc, darwin9.1.0
> status         Patched
> major          2
> minor          6.1
> year           2007
> month          12
> day            12
> svn rev        43661
> language       R
> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>
>> .Machine$sizeof.pointer == 8
> [1] FALSE
>
>> R.version$arch
> [1] "powerpc"
>
>> .Platform$r_arch
> [1] "ppc"
>>
>
> So would then seem at Command Line I have 64 but in R.app I do not
>
> ============
> Then I try biocLite("preprocessCore") at Command Line and returns
>
>> .Platform$r_arch
> [1] "ppc64"
>> sessionInfo()
> R version 2.6.1 Patched (2007-12-12 r43661)
> powerpc-apple-darwin9.0.0
>
> locale:
> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] rcompgen_0.1-17
>> source("http://bioconductor.org/biocLite.R")
>> biocLite("preprocessCore")
>
> Running biocinstall version 2.1.8 with R version 2.6.1
> Your version of R requires version 2.1 of Bioconductor.
> trying URL
> 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6/
> preprocessCore_1.0.0.tgz'
> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
> opened URL
> ==================================================
> downloaded 153 Kb
>
>
> The downloaded packages are in
>
> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//RtmpHcRo5R/ 
> downloaded_pac
> kages
>> library(preprocessCore)
> Error: package 'preprocessCore' is not installed for 'arch=ppc64'
>>
>

I bet you didn't install the package from sources. CRAN/BioC offer 32- 
bit package binaries only, so you have to install all packages from  
sources (i.e. you must use type='source' in install.packages). Also  
you need all the necessary tools for this (please read the page you  
got the binaries from).

Cheers,
Simon


> ===============
> Then I try same with R.app and returns
>
>> .Platform$r_arch
> [1] "ppc"
>> sessionInfo()
> R version 2.6.1 Patched (2007-12-12 r43661)
> powerpc-apple-darwin9.1.0
>
> locale:
> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>
>> source("http://bioconductor.org/biocLite.R")
>> biocLite("preprocessCore")
> Running biocinstall version 2.1.8 with R version 2.6.1
> Your version of R requires version 2.1 of Bioconductor.
> trying URL
> 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6/
> preprocessCore_1.0.0.tgz'
> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
> opened URL
> ==================================================
> downloaded 153 Kb
>
>
> The downloaded packages are in
>
> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//Rtmp3VK9Rw/ 
> downloaded_pac
> kages
>
>
>> library(preprocessCore)
> Error in dyn.load(file, ...) :
>  unable to load shared library
> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/ 
> libs/ppc/p
> reprocessCore.so':
>
> dlopen(/Library/Frameworks/R.framework/Resources/library/ 
> preprocessCore/libs
> /ppc/preprocessCore.so, 5): Library not loaded:
> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/ 
> libgfortran.2.dyl
> ib
>  Referenced from:
> /Library/Frameworks/R.framework/Resources/library/preprocessCore/ 
> libs/ppc/pr
> eprocessCore.so
>  Reason: image not found
> Error in library(preprocessCore) : .First.lib failed for  
> 'preprocessCore'
>
> =============
> So to me seems with your investigative advice
> 1) I have 64bit at command line
> 2) I do not have 64bit in R.app
> 3) preprocessCore is not 64bit (and other packages)
>
> So I am closer to 64bit ReadAffy of 81 files but still not there
>
> With your serious knowledge, how should I get to 64bit ReadAffy
>
> Thank you
>
>
>
>
>
>> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
>> Date: Thu, 13 Dec 2007 17:00:36 +0000 (GMT)
>> To: Loren Engrav <engrav at u.washington.edu>
>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>
>> The short answer is that the BioC binary packages are not 64-bit.   
>> But
>> then neither is the CRAN build of R 2.6.1 nor the CRAN binary  
>> packages.
>>
>> And very likely you are running a 32-bit R.
>>
>> On Thu, 13 Dec 2007, Loren Engrav wrote:
>>
>>> I tried
>>> options(arch="ppc64") in Rprofile
>>> and seems to have worked,
>>
>> I am sure it 'worked' for some value of 'worked', but what do you  
>> think it
>> did?  You can't change the architecture of a running R process (and  
>> you
>> need a running R process to use R code ...).  You find out whether  
>> the
>> process is 64-bit by checking
>>
>> .Machine$sizeof.pointer == 8
>>
>> and R.version$arch will also indicate the architecture name (x86_64  
>> on my
>> Macintel builds).
>>
>> The sub-architecture (if any) of the running process is given by
>> .Platform$r_arch and the user cannot change it (it was set at  
>> configure
>> time).  From the output below, that is 'ppc'.  Not only do the
>> architectures need to match, but do the sub-architecture settings:  
>> this is
>> easy to achieve when building everything yourself, but not when  
>> taking
>> binaries built on different systems by different people at different
>> times.
>>
>> So, it seems
>>
>> - you are running a 32-bit R.
>> - you are missing a Fortran library.
>>
>> Please do try to deduce from the output what the problem is, not  
>> guess and
>> never test your guesses.
>>
>>> I think R.app is ppc64 in Leopard
>>
>> The CRAN build of 2.6.1 is not, and you haven't told us which build  
>> you
>> are using.
>>
>> AFAIK if you want 64-bit, you need to build packages from sources.
>>
>> How to set all this up is AFAIK not fully documented, for the very  
>> good
>> reason that it is *experimental*.  My understanding is that it is  
>> intended
>> to support 64-bit MacOS binary builds from R 2.7.0 only.
>>
>>
>>
>>> But affy will not load as requires preprocessCore
>>>
>>> Library(preprocessCore) returns
>>>
>>> Error in dyn.load(file, ...) :
>>> unable to load shared library
>>> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/ 
>>> libs/ppc/p
>>> reprocessCore.so':
>>>
>>> dlopen(/Library/Frameworks/R.framework/Resources/library/ 
>>> preprocessCore/libs
>>> /ppc/preprocessCore.so, 5): Library not loaded:
>>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/ 
>>> libgfortran.2.dyl
>>> ib
>>> Referenced from:
>>> /Library/Frameworks/R.framework/Resources/library/preprocessCore/ 
>>> libs/ppc/pr
>>> eprocessCore.so
>>> Reason: image not found
>>> Error in library(preprocessCore) : .First.lib failed for  
>>> 'preprocessCore'
>>>
>>> I check libs in preprocessCore and find i386 and ppc, no ppc64
>>>
>>> Does this mean preprocessCore as it stands does not do ppc64? Or I  
>>> am
>>> getting the wrong one? Or I must build 64bit? Or?
>>>
>>> The original thread is in Bio but this seems like a Mac specific  
>>> question
>>>
>>> Thank you
>>>
>>>
>>
>> -- 
>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>> University of Oxford,             Tel:  +44 1865 272861 (self)
>> 1 South Parks Road,                     +44 1865 272866 (PA)
>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From engrav at u.washington.edu  Fri Dec 14 05:29:02 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Thu, 13 Dec 2007 20:29:02 -0800
Subject: [R-SIG-Mac] Does preprocessCore do ppc64?
In-Reply-To: <3AA2BE99-022E-4DEE-8C18-54285EEB3F57@r-project.org>
Message-ID: <C387468E.15CAD%engrav@u.washington.edu>

Thank you, maybe is coming into focus

>> Then I run R.app with options(arch="ppc64") in .Rprofile
>> That is a really bad idea (see the response you got previously).

Would appear that I have proven what you say is true

>> I bet you didn't install the package from sources. CRAN/BioC offer 32-
>> bit package binaries only, so you have to install all packages from
>> sources (i.e. you must use type='source' in install.packages). Also
>> you need all the necessary tools for this (please read the page you
>> got the binaries from).

Couple lines up I included

>>> source("http://bioconductor.org/biocLite.R")
>>> biocLite("preprocessCore")

Again proving you correct

And I see the directions on <http://r.research.att.com/> are changing which
is good for R/Bio R1's

So now what I wish to do is 64bit Readaffy
And can use 64bit command line which is painful but would work
But have no 64bit Bio packages

As I understand now
To get 64bit R.app I must get the tools and build it
To get 64bit Bio packages I must get the tools and build them

I might try this being this deep into this and finding it rather fun

One question before I start
You say
> note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI
> won't be of much use. You have to use R-devel for Quartz in 64-bit.

This means that from <http://r.research.att.com/>
> R-2.6-branch
> R 2.6.1 Patched (2007-12-12)
Will not work, I MUST use
> R-devel
> R 2.7.0 Under development
> (unstable) (2007-12-12)
True? Even tho neither include R.app?

In preparation for this I have installed
Xcode 3 from the Leopard DVD
And
GNU Fortan 4.2.1
And
Will install LaTeX after massive download done

And did in Terminal...
export PATH=$PATH:/usr/local/bin
and
curl -s -S http://r.research.att.com/readline-5.2-1-quad.tar.gz|sudo tar fxz
- -C /  
and
curl -s -S http://r.research.att.com/jpegpng-quad.tar.gz|sudo tar fxz - -C /


And of course, maybe I should bag it, admit I am over my head, and let some
"expert" with dChip do it

But then what the hell? Why not try it, if you can tolerate my questions
that is, and I am closer to ReadAffy 64bit 81 cell as I now have command
line 64bit R

-- 
Loren Engrav
Univ Washington
Seattle

> From: Simon Urbanek <simon.urbanek at r-project.org>
> Date: Thu, 13 Dec 2007 19:39:52 -0500
> To: Loren Engrav <engrav at u.washington.edu>
> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
> 
> 
> On Dec 13, 2007, at 5:58 PM, Loren Engrav wrote:
> 
>> Thank you, was helpful, is complicated for this geezer, but
>> interesting
>> 
>> The whole goal is to ReadAffy() on 81 chips which seems to need 64
>> bit to
>> avoid "cannot allocate vector...." error (or reduce chips or analyze
>> in
>> pieces but not yet ready to give up on this)
>> 
>> Other advisors advised
>> 
>> "Install Leopard 10.5.1
>> 
>> Now install either
>>    R-2.6-branch-leopard-universal.tar.gz
>> or
>>    R-devel-leopard-universal.tar.gz
>> depending on which version of BioC you want to use: the former is
>> for BioC
>> 2.1 (the current release) and the latter for BioC 2.2 (the current
>> devel).
>> 
>> Then start R with --arch=ppc64 and you will be running in 64-bit
>> mode."
>> 
>> So I installed Leopard and R-2.6-branch and start with R --arch=ppc64
>> 
>> =========
>> and as you suggested while running Command Line
>> 
>>> version
>>               _
>> platform       powerpc-apple-darwin9.0.0
>> arch           powerpc
>> os             darwin9.0.0
>> system         powerpc, darwin9.0.0
>> status         Patched
>> major          2
>> minor          6.1
>> year           2007
>> month          12
>> day            12
>> svn rev        43661
>> language       R
>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>> 
>>> .Machine$sizeof.pointer == 8
>> [1] TRUE
>> 
>>> R.version$arch
>> [1] "powerpc"
>> 
>>> .Platform$r_arch
>> [1] "ppc64"
>> 
>> ============
>> Then I run R.app with options(arch="ppc64") in .Rprofile
>> 
> 
> That is a really bad idea (see the response you got previously). You
> cannot change the architecture in a running R and you also cannot use
> 32-bit R.app with 64-bit R. If you want 64-bit R and the GUI, you have
> to use 64-bit R.app (which you have to build from the sources). Also
> note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI
> won't be of much use. You have to use R-devel for Quartz in 64-bit.
> 
> 
>> And get
>> 
>>> version
>>               _
>> platform       powerpc-apple-darwin9.1.0
>> arch           powerpc
>> os             darwin9.1.0
>> system         powerpc, darwin9.1.0
>> status         Patched
>> major          2
>> minor          6.1
>> year           2007
>> month          12
>> day            12
>> svn rev        43661
>> language       R
>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>> 
>>> .Machine$sizeof.pointer == 8
>> [1] FALSE
>> 
>>> R.version$arch
>> [1] "powerpc"
>> 
>>> .Platform$r_arch
>> [1] "ppc"
>>> 
>> 
>> So would then seem at Command Line I have 64 but in R.app I do not
>> 
>> ============
>> Then I try biocLite("preprocessCore") at Command Line and returns
>> 
>>> .Platform$r_arch
>> [1] "ppc64"
>>> sessionInfo()
>> R version 2.6.1 Patched (2007-12-12 r43661)
>> powerpc-apple-darwin9.0.0
>> 
>> locale:
>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>> 
>> loaded via a namespace (and not attached):
>> [1] rcompgen_0.1-17
>>> source("http://bioconductor.org/biocLite.R")
>>> biocLite("preprocessCore")
>> 
>> Running biocinstall version 2.1.8 with R version 2.6.1
>> Your version of R requires version 2.1 of Bioconductor.
>> trying URL
>> 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6/
>> preprocessCore_1.0.0.tgz'
>> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
>> opened URL
>> ==================================================
>> downloaded 153 Kb
>> 
>> 
>> The downloaded packages are in
>> 
>> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//RtmpHcRo5R/
>> downloaded_pac
>> kages
>>> library(preprocessCore)
>> Error: package 'preprocessCore' is not installed for 'arch=ppc64'
>>> 
>> 
> 
> I bet you didn't install the package from sources. CRAN/BioC offer 32-
> bit package binaries only, so you have to install all packages from
> sources (i.e. you must use type='source' in install.packages). Also
> you need all the necessary tools for this (please read the page you
> got the binaries from).
> 
> Cheers,
> Simon
> 
> 
>> ===============
>> Then I try same with R.app and returns
>> 
>>> .Platform$r_arch
>> [1] "ppc"
>>> sessionInfo()
>> R version 2.6.1 Patched (2007-12-12 r43661)
>> powerpc-apple-darwin9.1.0
>> 
>> locale:
>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>> 
>> 
>>> source("http://bioconductor.org/biocLite.R")
>>> biocLite("preprocessCore")
>> Running biocinstall version 2.1.8 with R version 2.6.1
>> Your version of R requires version 2.1 of Bioconductor.
>> trying URL
>> 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6/
>> preprocessCore_1.0.0.tgz'
>> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
>> opened URL
>> ==================================================
>> downloaded 153 Kb
>> 
>> 
>> The downloaded packages are in
>> 
>> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//Rtmp3VK9Rw/
>> downloaded_pac
>> kages
>> 
>> 
>>> library(preprocessCore)
>> Error in dyn.load(file, ...) :
>>  unable to load shared library
>> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/
>> libs/ppc/p
>> reprocessCore.so':
>> 
>> dlopen(/Library/Frameworks/R.framework/Resources/library/
>> preprocessCore/libs
>> /ppc/preprocessCore.so, 5): Library not loaded:
>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/
>> libgfortran.2.dyl
>> ib
>>  Referenced from:
>> /Library/Frameworks/R.framework/Resources/library/preprocessCore/
>> libs/ppc/pr
>> eprocessCore.so
>>  Reason: image not found
>> Error in library(preprocessCore) : .First.lib failed for
>> 'preprocessCore'
>> 
>> =============
>> So to me seems with your investigative advice
>> 1) I have 64bit at command line
>> 2) I do not have 64bit in R.app
>> 3) preprocessCore is not 64bit (and other packages)
>> 
>> So I am closer to 64bit ReadAffy of 81 files but still not there
>> 
>> With your serious knowledge, how should I get to 64bit ReadAffy
>> 
>> Thank you
>> 
>> 
>> 
>> 
>> 
>>> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>> Date: Thu, 13 Dec 2007 17:00:36 +0000 (GMT)
>>> To: Loren Engrav <engrav at u.washington.edu>
>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>> 
>>> The short answer is that the BioC binary packages are not 64-bit.
>>> But
>>> then neither is the CRAN build of R 2.6.1 nor the CRAN binary
>>> packages.
>>> 
>>> And very likely you are running a 32-bit R.
>>> 
>>> On Thu, 13 Dec 2007, Loren Engrav wrote:
>>> 
>>>> I tried
>>>> options(arch="ppc64") in Rprofile
>>>> and seems to have worked,
>>> 
>>> I am sure it 'worked' for some value of 'worked', but what do you
>>> think it
>>> did?  You can't change the architecture of a running R process (and
>>> you
>>> need a running R process to use R code ...).  You find out whether
>>> the
>>> process is 64-bit by checking
>>> 
>>> .Machine$sizeof.pointer == 8
>>> 
>>> and R.version$arch will also indicate the architecture name (x86_64
>>> on my
>>> Macintel builds).
>>> 
>>> The sub-architecture (if any) of the running process is given by
>>> .Platform$r_arch and the user cannot change it (it was set at
>>> configure
>>> time).  From the output below, that is 'ppc'.  Not only do the
>>> architectures need to match, but do the sub-architecture settings:
>>> this is
>>> easy to achieve when building everything yourself, but not when
>>> taking
>>> binaries built on different systems by different people at different
>>> times.
>>> 
>>> So, it seems
>>> 
>>> - you are running a 32-bit R.
>>> - you are missing a Fortran library.
>>> 
>>> Please do try to deduce from the output what the problem is, not
>>> guess and
>>> never test your guesses.
>>> 
>>>> I think R.app is ppc64 in Leopard
>>> 
>>> The CRAN build of 2.6.1 is not, and you haven't told us which build
>>> you
>>> are using.
>>> 
>>> AFAIK if you want 64-bit, you need to build packages from sources.
>>> 
>>> How to set all this up is AFAIK not fully documented, for the very
>>> good
>>> reason that it is *experimental*.  My understanding is that it is
>>> intended
>>> to support 64-bit MacOS binary builds from R 2.7.0 only.
>>> 
>>> 
>>> 
>>>> But affy will not load as requires preprocessCore
>>>> 
>>>> Library(preprocessCore) returns
>>>> 
>>>> Error in dyn.load(file, ...) :
>>>> unable to load shared library
>>>> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>> libs/ppc/p
>>>> reprocessCore.so':
>>>> 
>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/
>>>> preprocessCore/libs
>>>> /ppc/preprocessCore.so, 5): Library not loaded:
>>>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/
>>>> libgfortran.2.dyl
>>>> ib
>>>> Referenced from:
>>>> /Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>> libs/ppc/pr
>>>> eprocessCore.so
>>>> Reason: image not found
>>>> Error in library(preprocessCore) : .First.lib failed for
>>>> 'preprocessCore'
>>>> 
>>>> I check libs in preprocessCore and find i386 and ppc, no ppc64
>>>> 
>>>> Does this mean preprocessCore as it stands does not do ppc64? Or I
>>>> am
>>>> getting the wrong one? Or I must build 64bit? Or?
>>>> 
>>>> The original thread is in Bio but this seems like a Mac specific
>>>> question
>>>> 
>>>> Thank you
>>>> 
>>>> 
>>> 
>>> -- 
>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
>


From bcarvalh at jhsph.edu  Fri Dec 14 05:38:24 2007
From: bcarvalh at jhsph.edu (Benilton Carvalho)
Date: Thu, 13 Dec 2007 23:38:24 -0500
Subject: [R-SIG-Mac] Does preprocessCore do ppc64?
In-Reply-To: <C387468E.15CAD%engrav@u.washington.edu>
References: <C387468E.15CAD%engrav@u.washington.edu>
Message-ID: <A08850B1-D2D4-4193-BBBB-DFD83EE7696D@jhsph.edu>

Hi Loren,

it seems you have all the tools to build the packages.

So, this is what you need:

1) load R from the command line using the 64 bits mode
2) type: source("http://www.bioconductor.org/biocLite.R")
3) type, note the "type" argument:

biocLite(c("Biobase", "affy", "preprocessCore"), type="source")

this will download the *source*, compile and install (64 bits)....

because R is under /Library (I assume), you want to load R using "sudo"

sudo R --arch=ppc64

btw, you want to repeat the same procedure for other packages you  
might need

b

On Dec 13, 2007, at 11:29 PM, Loren Engrav wrote:

> Thank you, maybe is coming into focus
>
>>> Then I run R.app with options(arch="ppc64") in .Rprofile
>>> That is a really bad idea (see the response you got previously).
>
> Would appear that I have proven what you say is true
>
>>> I bet you didn't install the package from sources. CRAN/BioC offer  
>>> 32-
>>> bit package binaries only, so you have to install all packages from
>>> sources (i.e. you must use type='source' in install.packages). Also
>>> you need all the necessary tools for this (please read the page you
>>> got the binaries from).
>
> Couple lines up I included
>
>>>> source("http://bioconductor.org/biocLite.R")
>>>> biocLite("preprocessCore")
>
> Again proving you correct
>
> And I see the directions on <http://r.research.att.com/> are  
> changing which
> is good for R/Bio R1's
>
> So now what I wish to do is 64bit Readaffy
> And can use 64bit command line which is painful but would work
> But have no 64bit Bio packages
>
> As I understand now
> To get 64bit R.app I must get the tools and build it
> To get 64bit Bio packages I must get the tools and build them
>
> I might try this being this deep into this and finding it rather fun
>
> One question before I start
> You say
>> note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI
>> won't be of much use. You have to use R-devel for Quartz in 64-bit.
>
> This means that from <http://r.research.att.com/>
>> R-2.6-branch
>> R 2.6.1 Patched (2007-12-12)
> Will not work, I MUST use
>> R-devel
>> R 2.7.0 Under development
>> (unstable) (2007-12-12)
> True? Even tho neither include R.app?
>
> In preparation for this I have installed
> Xcode 3 from the Leopard DVD
> And
> GNU Fortan 4.2.1
> And
> Will install LaTeX after massive download done
>
> And did in Terminal...
> export PATH=$PATH:/usr/local/bin
> and
> curl -s -S http://r.research.att.com/readline-5.2-1-quad.tar.gz|sudo  
> tar fxz
> - -C /
> and
> curl -s -S http://r.research.att.com/jpegpng-quad.tar.gz|sudo tar  
> fxz - -C /
>
>
> And of course, maybe I should bag it, admit I am over my head, and  
> let some
> "expert" with dChip do it
>
> But then what the hell? Why not try it, if you can tolerate my  
> questions
> that is, and I am closer to ReadAffy 64bit 81 cell as I now have  
> command
> line 64bit R
>
> -- 
> Loren Engrav
> Univ Washington
> Seattle
>
>> From: Simon Urbanek <simon.urbanek at r-project.org>
>> Date: Thu, 13 Dec 2007 19:39:52 -0500
>> To: Loren Engrav <engrav at u.washington.edu>
>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>
>>
>> On Dec 13, 2007, at 5:58 PM, Loren Engrav wrote:
>>
>>> Thank you, was helpful, is complicated for this geezer, but
>>> interesting
>>>
>>> The whole goal is to ReadAffy() on 81 chips which seems to need 64
>>> bit to
>>> avoid "cannot allocate vector...." error (or reduce chips or analyze
>>> in
>>> pieces but not yet ready to give up on this)
>>>
>>> Other advisors advised
>>>
>>> "Install Leopard 10.5.1
>>>
>>> Now install either
>>>   R-2.6-branch-leopard-universal.tar.gz
>>> or
>>>   R-devel-leopard-universal.tar.gz
>>> depending on which version of BioC you want to use: the former is
>>> for BioC
>>> 2.1 (the current release) and the latter for BioC 2.2 (the current
>>> devel).
>>>
>>> Then start R with --arch=ppc64 and you will be running in 64-bit
>>> mode."
>>>
>>> So I installed Leopard and R-2.6-branch and start with R -- 
>>> arch=ppc64
>>>
>>> =========
>>> and as you suggested while running Command Line
>>>
>>>> version
>>>              _
>>> platform       powerpc-apple-darwin9.0.0
>>> arch           powerpc
>>> os             darwin9.0.0
>>> system         powerpc, darwin9.0.0
>>> status         Patched
>>> major          2
>>> minor          6.1
>>> year           2007
>>> month          12
>>> day            12
>>> svn rev        43661
>>> language       R
>>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>>>
>>>> .Machine$sizeof.pointer == 8
>>> [1] TRUE
>>>
>>>> R.version$arch
>>> [1] "powerpc"
>>>
>>>> .Platform$r_arch
>>> [1] "ppc64"
>>>
>>> ============
>>> Then I run R.app with options(arch="ppc64") in .Rprofile
>>>
>>
>> That is a really bad idea (see the response you got previously). You
>> cannot change the architecture in a running R and you also cannot use
>> 32-bit R.app with 64-bit R. If you want 64-bit R and the GUI, you  
>> have
>> to use 64-bit R.app (which you have to build from the sources). Also
>> note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI
>> won't be of much use. You have to use R-devel for Quartz in 64-bit.
>>
>>
>>> And get
>>>
>>>> version
>>>              _
>>> platform       powerpc-apple-darwin9.1.0
>>> arch           powerpc
>>> os             darwin9.1.0
>>> system         powerpc, darwin9.1.0
>>> status         Patched
>>> major          2
>>> minor          6.1
>>> year           2007
>>> month          12
>>> day            12
>>> svn rev        43661
>>> language       R
>>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>>>
>>>> .Machine$sizeof.pointer == 8
>>> [1] FALSE
>>>
>>>> R.version$arch
>>> [1] "powerpc"
>>>
>>>> .Platform$r_arch
>>> [1] "ppc"
>>>>
>>>
>>> So would then seem at Command Line I have 64 but in R.app I do not
>>>
>>> ============
>>> Then I try biocLite("preprocessCore") at Command Line and returns
>>>
>>>> .Platform$r_arch
>>> [1] "ppc64"
>>>> sessionInfo()
>>> R version 2.6.1 Patched (2007-12-12 r43661)
>>> powerpc-apple-darwin9.0.0
>>>
>>> locale:
>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>
>>> loaded via a namespace (and not attached):
>>> [1] rcompgen_0.1-17
>>>> source("http://bioconductor.org/biocLite.R")
>>>> biocLite("preprocessCore")
>>>
>>> Running biocinstall version 2.1.8 with R version 2.6.1
>>> Your version of R requires version 2.1 of Bioconductor.
>>> trying URL
>>> 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6/
>>> preprocessCore_1.0.0.tgz'
>>> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
>>> opened URL
>>> ==================================================
>>> downloaded 153 Kb
>>>
>>>
>>> The downloaded packages are in
>>>
>>> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//RtmpHcRo5R/
>>> downloaded_pac
>>> kages
>>>> library(preprocessCore)
>>> Error: package 'preprocessCore' is not installed for 'arch=ppc64'
>>>>
>>>
>>
>> I bet you didn't install the package from sources. CRAN/BioC offer  
>> 32-
>> bit package binaries only, so you have to install all packages from
>> sources (i.e. you must use type='source' in install.packages). Also
>> you need all the necessary tools for this (please read the page you
>> got the binaries from).
>>
>> Cheers,
>> Simon
>>
>>
>>> ===============
>>> Then I try same with R.app and returns
>>>
>>>> .Platform$r_arch
>>> [1] "ppc"
>>>> sessionInfo()
>>> R version 2.6.1 Patched (2007-12-12 r43661)
>>> powerpc-apple-darwin9.1.0
>>>
>>> locale:
>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>
>>>
>>>> source("http://bioconductor.org/biocLite.R")
>>>> biocLite("preprocessCore")
>>> Running biocinstall version 2.1.8 with R version 2.6.1
>>> Your version of R requires version 2.1 of Bioconductor.
>>> trying URL
>>> 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6/
>>> preprocessCore_1.0.0.tgz'
>>> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
>>> opened URL
>>> ==================================================
>>> downloaded 153 Kb
>>>
>>>
>>> The downloaded packages are in
>>>
>>> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//Rtmp3VK9Rw/
>>> downloaded_pac
>>> kages
>>>
>>>
>>>> library(preprocessCore)
>>> Error in dyn.load(file, ...) :
>>> unable to load shared library
>>> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>> libs/ppc/p
>>> reprocessCore.so':
>>>
>>> dlopen(/Library/Frameworks/R.framework/Resources/library/
>>> preprocessCore/libs
>>> /ppc/preprocessCore.so, 5): Library not loaded:
>>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/
>>> libgfortran.2.dyl
>>> ib
>>> Referenced from:
>>> /Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>> libs/ppc/pr
>>> eprocessCore.so
>>> Reason: image not found
>>> Error in library(preprocessCore) : .First.lib failed for
>>> 'preprocessCore'
>>>
>>> =============
>>> So to me seems with your investigative advice
>>> 1) I have 64bit at command line
>>> 2) I do not have 64bit in R.app
>>> 3) preprocessCore is not 64bit (and other packages)
>>>
>>> So I am closer to 64bit ReadAffy of 81 files but still not there
>>>
>>> With your serious knowledge, how should I get to 64bit ReadAffy
>>>
>>> Thank you
>>>
>>>
>>>
>>>
>>>
>>>> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>> Date: Thu, 13 Dec 2007 17:00:36 +0000 (GMT)
>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>>>
>>>> The short answer is that the BioC binary packages are not 64-bit.
>>>> But
>>>> then neither is the CRAN build of R 2.6.1 nor the CRAN binary
>>>> packages.
>>>>
>>>> And very likely you are running a 32-bit R.
>>>>
>>>> On Thu, 13 Dec 2007, Loren Engrav wrote:
>>>>
>>>>> I tried
>>>>> options(arch="ppc64") in Rprofile
>>>>> and seems to have worked,
>>>>
>>>> I am sure it 'worked' for some value of 'worked', but what do you
>>>> think it
>>>> did?  You can't change the architecture of a running R process (and
>>>> you
>>>> need a running R process to use R code ...).  You find out whether
>>>> the
>>>> process is 64-bit by checking
>>>>
>>>> .Machine$sizeof.pointer == 8
>>>>
>>>> and R.version$arch will also indicate the architecture name (x86_64
>>>> on my
>>>> Macintel builds).
>>>>
>>>> The sub-architecture (if any) of the running process is given by
>>>> .Platform$r_arch and the user cannot change it (it was set at
>>>> configure
>>>> time).  From the output below, that is 'ppc'.  Not only do the
>>>> architectures need to match, but do the sub-architecture settings:
>>>> this is
>>>> easy to achieve when building everything yourself, but not when
>>>> taking
>>>> binaries built on different systems by different people at  
>>>> different
>>>> times.
>>>>
>>>> So, it seems
>>>>
>>>> - you are running a 32-bit R.
>>>> - you are missing a Fortran library.
>>>>
>>>> Please do try to deduce from the output what the problem is, not
>>>> guess and
>>>> never test your guesses.
>>>>
>>>>> I think R.app is ppc64 in Leopard
>>>>
>>>> The CRAN build of 2.6.1 is not, and you haven't told us which build
>>>> you
>>>> are using.
>>>>
>>>> AFAIK if you want 64-bit, you need to build packages from sources.
>>>>
>>>> How to set all this up is AFAIK not fully documented, for the very
>>>> good
>>>> reason that it is *experimental*.  My understanding is that it is
>>>> intended
>>>> to support 64-bit MacOS binary builds from R 2.7.0 only.
>>>>
>>>>
>>>>
>>>>> But affy will not load as requires preprocessCore
>>>>>
>>>>> Library(preprocessCore) returns
>>>>>
>>>>> Error in dyn.load(file, ...) :
>>>>> unable to load shared library
>>>>> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>>> libs/ppc/p
>>>>> reprocessCore.so':
>>>>>
>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/
>>>>> preprocessCore/libs
>>>>> /ppc/preprocessCore.so, 5): Library not loaded:
>>>>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/
>>>>> libgfortran.2.dyl
>>>>> ib
>>>>> Referenced from:
>>>>> /Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>>> libs/ppc/pr
>>>>> eprocessCore.so
>>>>> Reason: image not found
>>>>> Error in library(preprocessCore) : .First.lib failed for
>>>>> 'preprocessCore'
>>>>>
>>>>> I check libs in preprocessCore and find i386 and ppc, no ppc64
>>>>>
>>>>> Does this mean preprocessCore as it stands does not do ppc64? Or I
>>>>> am
>>>>> getting the wrong one? Or I must build 64bit? Or?
>>>>>
>>>>> The original thread is in Bio but this seems like a Mac specific
>>>>> question
>>>>>
>>>>> Thank you
>>>>>
>>>>>
>>>>
>>>> -- 
>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/ 
>>>> ~ripley/
>>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2419 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20071213/c3b4b1d5/attachment-0001.bin 

From engrav at u.washington.edu  Fri Dec 14 06:03:18 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Thu, 13 Dec 2007 21:03:18 -0800
Subject: [R-SIG-Mac] Does preprocessCore do ppc64?
In-Reply-To: <A08850B1-D2D4-4193-BBBB-DFD83EE7696D@jhsph.edu>
Message-ID: <C3874E96.15CB9%engrav@u.washington.edu>

Thank you so much
Tomorrow when the martini's have worn off will try it
But there is the one more question

I have installed from page <http://r.research.att.com/>
R-2.6-branch
R 2.6.1 Patched (2007-12-12)

Must I install
R-devel
R 2.7.0 Under development
(unstable) (2007-12-12)

Who knows, I may one day ReadAffy on 81 .cel files
Which was the original goal of all of this

My wife say doing this by hand would have been quicker

Thank you

-- 
Loren Engrav
Univ Washington
Seattle

> From: Benilton Carvalho <bcarvalh at jhsph.edu>
> Date: Thu, 13 Dec 2007 23:38:24 -0500
> To: Loren Engrav <engrav at u.washington.edu>
> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
> 
> Hi Loren,
> 
> it seems you have all the tools to build the packages.
> 
> So, this is what you need:
> 
> 1) load R from the command line using the 64 bits mode
> 2) type: source("http://www.bioconductor.org/biocLite.R")
> 3) type, note the "type" argument:
> 
> biocLite(c("Biobase", "affy", "preprocessCore"), type="source")
> 
> this will download the *source*, compile and install (64 bits)....
> 
> because R is under /Library (I assume), you want to load R using "sudo"
> 
> sudo R --arch=ppc64
> 
> btw, you want to repeat the same procedure for other packages you
> might need
> 
> b
> 
> On Dec 13, 2007, at 11:29 PM, Loren Engrav wrote:
> 
>> Thank you, maybe is coming into focus
>> 
>>>> Then I run R.app with options(arch="ppc64") in .Rprofile
>>>> That is a really bad idea (see the response you got previously).
>> 
>> Would appear that I have proven what you say is true
>> 
>>>> I bet you didn't install the package from sources. CRAN/BioC offer
>>>> 32-
>>>> bit package binaries only, so you have to install all packages from
>>>> sources (i.e. you must use type='source' in install.packages). Also
>>>> you need all the necessary tools for this (please read the page you
>>>> got the binaries from).
>> 
>> Couple lines up I included
>> 
>>>>> source("http://bioconductor.org/biocLite.R")
>>>>> biocLite("preprocessCore")
>> 
>> Again proving you correct
>> 
>> And I see the directions on <http://r.research.att.com/> are
>> changing which
>> is good for R/Bio R1's
>> 
>> So now what I wish to do is 64bit Readaffy
>> And can use 64bit command line which is painful but would work
>> But have no 64bit Bio packages
>> 
>> As I understand now
>> To get 64bit R.app I must get the tools and build it
>> To get 64bit Bio packages I must get the tools and build them
>> 
>> I might try this being this deep into this and finding it rather fun
>> 
>> One question before I start
>> You say
>>> note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI
>>> won't be of much use. You have to use R-devel for Quartz in 64-bit.
>> 
>> This means that from <http://r.research.att.com/>
>>> R-2.6-branch
>>> R 2.6.1 Patched (2007-12-12)
>> Will not work, I MUST use
>>> R-devel
>>> R 2.7.0 Under development
>>> (unstable) (2007-12-12)
>> True? Even tho neither include R.app?
>> 
>> In preparation for this I have installed
>> Xcode 3 from the Leopard DVD
>> And
>> GNU Fortan 4.2.1
>> And
>> Will install LaTeX after massive download done
>> 
>> And did in Terminal...
>> export PATH=$PATH:/usr/local/bin
>> and
>> curl -s -S http://r.research.att.com/readline-5.2-1-quad.tar.gz|sudo
>> tar fxz
>> - -C /
>> and
>> curl -s -S http://r.research.att.com/jpegpng-quad.tar.gz|sudo tar
>> fxz - -C /
>> 
>> 
>> And of course, maybe I should bag it, admit I am over my head, and
>> let some
>> "expert" with dChip do it
>> 
>> But then what the hell? Why not try it, if you can tolerate my
>> questions
>> that is, and I am closer to ReadAffy 64bit 81 cell as I now have
>> command
>> line 64bit R
>> 
>> -- 
>> Loren Engrav
>> Univ Washington
>> Seattle
>> 
>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>> Date: Thu, 13 Dec 2007 19:39:52 -0500
>>> To: Loren Engrav <engrav at u.washington.edu>
>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>> 
>>> 
>>> On Dec 13, 2007, at 5:58 PM, Loren Engrav wrote:
>>> 
>>>> Thank you, was helpful, is complicated for this geezer, but
>>>> interesting
>>>> 
>>>> The whole goal is to ReadAffy() on 81 chips which seems to need 64
>>>> bit to
>>>> avoid "cannot allocate vector...." error (or reduce chips or analyze
>>>> in
>>>> pieces but not yet ready to give up on this)
>>>> 
>>>> Other advisors advised
>>>> 
>>>> "Install Leopard 10.5.1
>>>> 
>>>> Now install either
>>>>   R-2.6-branch-leopard-universal.tar.gz
>>>> or
>>>>   R-devel-leopard-universal.tar.gz
>>>> depending on which version of BioC you want to use: the former is
>>>> for BioC
>>>> 2.1 (the current release) and the latter for BioC 2.2 (the current
>>>> devel).
>>>> 
>>>> Then start R with --arch=ppc64 and you will be running in 64-bit
>>>> mode."
>>>> 
>>>> So I installed Leopard and R-2.6-branch and start with R --
>>>> arch=ppc64
>>>> 
>>>> =========
>>>> and as you suggested while running Command Line
>>>> 
>>>>> version
>>>>              _
>>>> platform       powerpc-apple-darwin9.0.0
>>>> arch           powerpc
>>>> os             darwin9.0.0
>>>> system         powerpc, darwin9.0.0
>>>> status         Patched
>>>> major          2
>>>> minor          6.1
>>>> year           2007
>>>> month          12
>>>> day            12
>>>> svn rev        43661
>>>> language       R
>>>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>>>> 
>>>>> .Machine$sizeof.pointer == 8
>>>> [1] TRUE
>>>> 
>>>>> R.version$arch
>>>> [1] "powerpc"
>>>> 
>>>>> .Platform$r_arch
>>>> [1] "ppc64"
>>>> 
>>>> ============
>>>> Then I run R.app with options(arch="ppc64") in .Rprofile
>>>> 
>>> 
>>> That is a really bad idea (see the response you got previously). You
>>> cannot change the architecture in a running R and you also cannot use
>>> 32-bit R.app with 64-bit R. If you want 64-bit R and the GUI, you
>>> have
>>> to use 64-bit R.app (which you have to build from the sources). Also
>>> note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI
>>> won't be of much use. You have to use R-devel for Quartz in 64-bit.
>>> 
>>> 
>>>> And get
>>>> 
>>>>> version
>>>>              _
>>>> platform       powerpc-apple-darwin9.1.0
>>>> arch           powerpc
>>>> os             darwin9.1.0
>>>> system         powerpc, darwin9.1.0
>>>> status         Patched
>>>> major          2
>>>> minor          6.1
>>>> year           2007
>>>> month          12
>>>> day            12
>>>> svn rev        43661
>>>> language       R
>>>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>>>> 
>>>>> .Machine$sizeof.pointer == 8
>>>> [1] FALSE
>>>> 
>>>>> R.version$arch
>>>> [1] "powerpc"
>>>> 
>>>>> .Platform$r_arch
>>>> [1] "ppc"
>>>>> 
>>>> 
>>>> So would then seem at Command Line I have 64 but in R.app I do not
>>>> 
>>>> ============
>>>> Then I try biocLite("preprocessCore") at Command Line and returns
>>>> 
>>>>> .Platform$r_arch
>>>> [1] "ppc64"
>>>>> sessionInfo()
>>>> R version 2.6.1 Patched (2007-12-12 r43661)
>>>> powerpc-apple-darwin9.0.0
>>>> 
>>>> locale:
>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>> 
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>> 
>>>> loaded via a namespace (and not attached):
>>>> [1] rcompgen_0.1-17
>>>>> source("http://bioconductor.org/biocLite.R")
>>>>> biocLite("preprocessCore")
>>>> 
>>>> Running biocinstall version 2.1.8 with R version 2.6.1
>>>> Your version of R requires version 2.1 of Bioconductor.
>>>> trying URL
>>>> 
'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6>>>>
/
>>>> preprocessCore_1.0.0.tgz'
>>>> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
>>>> opened URL
>>>> ==================================================
>>>> downloaded 153 Kb
>>>> 
>>>> 
>>>> The downloaded packages are in
>>>> 
>>>> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//RtmpHcRo5R/
>>>> downloaded_pac
>>>> kages
>>>>> library(preprocessCore)
>>>> Error: package 'preprocessCore' is not installed for 'arch=ppc64'
>>>>> 
>>>> 
>>> 
>>> I bet you didn't install the package from sources. CRAN/BioC offer
>>> 32-
>>> bit package binaries only, so you have to install all packages from
>>> sources (i.e. you must use type='source' in install.packages). Also
>>> you need all the necessary tools for this (please read the page you
>>> got the binaries from).
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>>> ===============
>>>> Then I try same with R.app and returns
>>>> 
>>>>> .Platform$r_arch
>>>> [1] "ppc"
>>>>> sessionInfo()
>>>> R version 2.6.1 Patched (2007-12-12 r43661)
>>>> powerpc-apple-darwin9.1.0
>>>> 
>>>> locale:
>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>> 
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>> 
>>>> 
>>>>> source("http://bioconductor.org/biocLite.R")
>>>>> biocLite("preprocessCore")
>>>> Running biocinstall version 2.1.8 with R version 2.6.1
>>>> Your version of R requires version 2.1 of Bioconductor.
>>>> trying URL
>>>> 
'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6>>>>
/
>>>> preprocessCore_1.0.0.tgz'
>>>> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
>>>> opened URL
>>>> ==================================================
>>>> downloaded 153 Kb
>>>> 
>>>> 
>>>> The downloaded packages are in
>>>> 
>>>> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//Rtmp3VK9Rw/
>>>> downloaded_pac
>>>> kages
>>>> 
>>>> 
>>>>> library(preprocessCore)
>>>> Error in dyn.load(file, ...) :
>>>> unable to load shared library
>>>> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>> libs/ppc/p
>>>> reprocessCore.so':
>>>> 
>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/
>>>> preprocessCore/libs
>>>> /ppc/preprocessCore.so, 5): Library not loaded:
>>>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/
>>>> libgfortran.2.dyl
>>>> ib
>>>> Referenced from:
>>>> /Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>> libs/ppc/pr
>>>> eprocessCore.so
>>>> Reason: image not found
>>>> Error in library(preprocessCore) : .First.lib failed for
>>>> 'preprocessCore'
>>>> 
>>>> =============
>>>> So to me seems with your investigative advice
>>>> 1) I have 64bit at command line
>>>> 2) I do not have 64bit in R.app
>>>> 3) preprocessCore is not 64bit (and other packages)
>>>> 
>>>> So I am closer to 64bit ReadAffy of 81 files but still not there
>>>> 
>>>> With your serious knowledge, how should I get to 64bit ReadAffy
>>>> 
>>>> Thank you
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>>> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>>> Date: Thu, 13 Dec 2007 17:00:36 +0000 (GMT)
>>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>>>> 
>>>>> The short answer is that the BioC binary packages are not 64-bit.
>>>>> But
>>>>> then neither is the CRAN build of R 2.6.1 nor the CRAN binary
>>>>> packages.
>>>>> 
>>>>> And very likely you are running a 32-bit R.
>>>>> 
>>>>> On Thu, 13 Dec 2007, Loren Engrav wrote:
>>>>> 
>>>>>> I tried
>>>>>> options(arch="ppc64") in Rprofile
>>>>>> and seems to have worked,
>>>>> 
>>>>> I am sure it 'worked' for some value of 'worked', but what do you
>>>>> think it
>>>>> did?  You can't change the architecture of a running R process (and
>>>>> you
>>>>> need a running R process to use R code ...).  You find out whether
>>>>> the
>>>>> process is 64-bit by checking
>>>>> 
>>>>> .Machine$sizeof.pointer == 8
>>>>> 
>>>>> and R.version$arch will also indicate the architecture name (x86_64
>>>>> on my
>>>>> Macintel builds).
>>>>> 
>>>>> The sub-architecture (if any) of the running process is given by
>>>>> .Platform$r_arch and the user cannot change it (it was set at
>>>>> configure
>>>>> time).  From the output below, that is 'ppc'.  Not only do the
>>>>> architectures need to match, but do the sub-architecture settings:
>>>>> this is
>>>>> easy to achieve when building everything yourself, but not when
>>>>> taking
>>>>> binaries built on different systems by different people at
>>>>> different
>>>>> times.
>>>>> 
>>>>> So, it seems
>>>>> 
>>>>> - you are running a 32-bit R.
>>>>> - you are missing a Fortran library.
>>>>> 
>>>>> Please do try to deduce from the output what the problem is, not
>>>>> guess and
>>>>> never test your guesses.
>>>>> 
>>>>>> I think R.app is ppc64 in Leopard
>>>>> 
>>>>> The CRAN build of 2.6.1 is not, and you haven't told us which build
>>>>> you
>>>>> are using.
>>>>> 
>>>>> AFAIK if you want 64-bit, you need to build packages from sources.
>>>>> 
>>>>> How to set all this up is AFAIK not fully documented, for the very
>>>>> good
>>>>> reason that it is *experimental*.  My understanding is that it is
>>>>> intended
>>>>> to support 64-bit MacOS binary builds from R 2.7.0 only.
>>>>> 
>>>>> 
>>>>> 
>>>>>> But affy will not load as requires preprocessCore
>>>>>> 
>>>>>> Library(preprocessCore) returns
>>>>>> 
>>>>>> Error in dyn.load(file, ...) :
>>>>>> unable to load shared library
>>>>>> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>>>> libs/ppc/p
>>>>>> reprocessCore.so':
>>>>>> 
>>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/
>>>>>> preprocessCore/libs
>>>>>> /ppc/preprocessCore.so, 5): Library not loaded:
>>>>>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/
>>>>>> libgfortran.2.dyl
>>>>>> ib
>>>>>> Referenced from:
>>>>>> /Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>>>> libs/ppc/pr
>>>>>> eprocessCore.so
>>>>>> Reason: image not found
>>>>>> Error in library(preprocessCore) : .First.lib failed for
>>>>>> 'preprocessCore'
>>>>>> 
>>>>>> I check libs in preprocessCore and find i386 and ppc, no ppc64
>>>>>> 
>>>>>> Does this mean preprocessCore as it stands does not do ppc64? Or I
>>>>>> am
>>>>>> getting the wrong one? Or I must build 64bit? Or?
>>>>>> 
>>>>>> The original thread is in Bio but this seems like a Mac specific
>>>>>> question
>>>>>> 
>>>>>> Thank you
>>>>>> 
>>>>>> 
>>>>> 
>>>>> -- 
>>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/
>>>>> ~ripley/
>>>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> 
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From bcarvalh at jhsph.edu  Fri Dec 14 06:06:47 2007
From: bcarvalh at jhsph.edu (Benilton Carvalho)
Date: Fri, 14 Dec 2007 00:06:47 -0500
Subject: [R-SIG-Mac] Does preprocessCore do ppc64?
In-Reply-To: <C3874E96.15CB9%engrav@u.washington.edu>
References: <C3874E96.15CB9%engrav@u.washington.edu>
Message-ID: <52E6C66C-CBD2-4998-879C-69072382EDDB@jhsph.edu>

no need for R-2.7.0... unless i missed something... with R-2.6.0 i  
**think** you're going to be using command line only.

b

On Dec 14, 2007, at 12:03 AM, Loren Engrav wrote:

> Thank you so much
> Tomorrow when the martini's have worn off will try it
> But there is the one more question
>
> I have installed from page <http://r.research.att.com/>
> R-2.6-branch
> R 2.6.1 Patched (2007-12-12)
>
> Must I install
> R-devel
> R 2.7.0 Under development
> (unstable) (2007-12-12)
>
> Who knows, I may one day ReadAffy on 81 .cel files
> Which was the original goal of all of this
>
> My wife say doing this by hand would have been quicker
>
> Thank you
>
> -- 
> Loren Engrav
> Univ Washington
> Seattle
>
>> From: Benilton Carvalho <bcarvalh at jhsph.edu>
>> Date: Thu, 13 Dec 2007 23:38:24 -0500
>> To: Loren Engrav <engrav at u.washington.edu>
>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>
>> Hi Loren,
>>
>> it seems you have all the tools to build the packages.
>>
>> So, this is what you need:
>>
>> 1) load R from the command line using the 64 bits mode
>> 2) type: source("http://www.bioconductor.org/biocLite.R")
>> 3) type, note the "type" argument:
>>
>> biocLite(c("Biobase", "affy", "preprocessCore"), type="source")
>>
>> this will download the *source*, compile and install (64 bits)....
>>
>> because R is under /Library (I assume), you want to load R using  
>> "sudo"
>>
>> sudo R --arch=ppc64
>>
>> btw, you want to repeat the same procedure for other packages you
>> might need
>>
>> b
>>
>> On Dec 13, 2007, at 11:29 PM, Loren Engrav wrote:
>>
>>> Thank you, maybe is coming into focus
>>>
>>>>> Then I run R.app with options(arch="ppc64") in .Rprofile
>>>>> That is a really bad idea (see the response you got previously).
>>>
>>> Would appear that I have proven what you say is true
>>>
>>>>> I bet you didn't install the package from sources. CRAN/BioC offer
>>>>> 32-
>>>>> bit package binaries only, so you have to install all packages  
>>>>> from
>>>>> sources (i.e. you must use type='source' in install.packages).  
>>>>> Also
>>>>> you need all the necessary tools for this (please read the page  
>>>>> you
>>>>> got the binaries from).
>>>
>>> Couple lines up I included
>>>
>>>>>> source("http://bioconductor.org/biocLite.R")
>>>>>> biocLite("preprocessCore")
>>>
>>> Again proving you correct
>>>
>>> And I see the directions on <http://r.research.att.com/> are
>>> changing which
>>> is good for R/Bio R1's
>>>
>>> So now what I wish to do is 64bit Readaffy
>>> And can use 64bit command line which is painful but would work
>>> But have no 64bit Bio packages
>>>
>>> As I understand now
>>> To get 64bit R.app I must get the tools and build it
>>> To get 64bit Bio packages I must get the tools and build them
>>>
>>> I might try this being this deep into this and finding it rather fun
>>>
>>> One question before I start
>>> You say
>>>> note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI
>>>> won't be of much use. You have to use R-devel for Quartz in 64-bit.
>>>
>>> This means that from <http://r.research.att.com/>
>>>> R-2.6-branch
>>>> R 2.6.1 Patched (2007-12-12)
>>> Will not work, I MUST use
>>>> R-devel
>>>> R 2.7.0 Under development
>>>> (unstable) (2007-12-12)
>>> True? Even tho neither include R.app?
>>>
>>> In preparation for this I have installed
>>> Xcode 3 from the Leopard DVD
>>> And
>>> GNU Fortan 4.2.1
>>> And
>>> Will install LaTeX after massive download done
>>>
>>> And did in Terminal...
>>> export PATH=$PATH:/usr/local/bin
>>> and
>>> curl -s -S http://r.research.att.com/readline-5.2-1-quad.tar.gz|sudo
>>> tar fxz
>>> - -C /
>>> and
>>> curl -s -S http://r.research.att.com/jpegpng-quad.tar.gz|sudo tar
>>> fxz - -C /
>>>
>>>
>>> And of course, maybe I should bag it, admit I am over my head, and
>>> let some
>>> "expert" with dChip do it
>>>
>>> But then what the hell? Why not try it, if you can tolerate my
>>> questions
>>> that is, and I am closer to ReadAffy 64bit 81 cell as I now have
>>> command
>>> line 64bit R
>>>
>>> -- 
>>> Loren Engrav
>>> Univ Washington
>>> Seattle
>>>
>>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>>> Date: Thu, 13 Dec 2007 19:39:52 -0500
>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>>>
>>>>
>>>> On Dec 13, 2007, at 5:58 PM, Loren Engrav wrote:
>>>>
>>>>> Thank you, was helpful, is complicated for this geezer, but
>>>>> interesting
>>>>>
>>>>> The whole goal is to ReadAffy() on 81 chips which seems to need 64
>>>>> bit to
>>>>> avoid "cannot allocate vector...." error (or reduce chips or  
>>>>> analyze
>>>>> in
>>>>> pieces but not yet ready to give up on this)
>>>>>
>>>>> Other advisors advised
>>>>>
>>>>> "Install Leopard 10.5.1
>>>>>
>>>>> Now install either
>>>>>  R-2.6-branch-leopard-universal.tar.gz
>>>>> or
>>>>>  R-devel-leopard-universal.tar.gz
>>>>> depending on which version of BioC you want to use: the former is
>>>>> for BioC
>>>>> 2.1 (the current release) and the latter for BioC 2.2 (the current
>>>>> devel).
>>>>>
>>>>> Then start R with --arch=ppc64 and you will be running in 64-bit
>>>>> mode."
>>>>>
>>>>> So I installed Leopard and R-2.6-branch and start with R --
>>>>> arch=ppc64
>>>>>
>>>>> =========
>>>>> and as you suggested while running Command Line
>>>>>
>>>>>> version
>>>>>             _
>>>>> platform       powerpc-apple-darwin9.0.0
>>>>> arch           powerpc
>>>>> os             darwin9.0.0
>>>>> system         powerpc, darwin9.0.0
>>>>> status         Patched
>>>>> major          2
>>>>> minor          6.1
>>>>> year           2007
>>>>> month          12
>>>>> day            12
>>>>> svn rev        43661
>>>>> language       R
>>>>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>>>>>
>>>>>> .Machine$sizeof.pointer == 8
>>>>> [1] TRUE
>>>>>
>>>>>> R.version$arch
>>>>> [1] "powerpc"
>>>>>
>>>>>> .Platform$r_arch
>>>>> [1] "ppc64"
>>>>>
>>>>> ============
>>>>> Then I run R.app with options(arch="ppc64") in .Rprofile
>>>>>
>>>>
>>>> That is a really bad idea (see the response you got previously).  
>>>> You
>>>> cannot change the architecture in a running R and you also cannot  
>>>> use
>>>> 32-bit R.app with 64-bit R. If you want 64-bit R and the GUI, you
>>>> have
>>>> to use 64-bit R.app (which you have to build from the sources).  
>>>> Also
>>>> note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI
>>>> won't be of much use. You have to use R-devel for Quartz in 64-bit.
>>>>
>>>>
>>>>> And get
>>>>>
>>>>>> version
>>>>>             _
>>>>> platform       powerpc-apple-darwin9.1.0
>>>>> arch           powerpc
>>>>> os             darwin9.1.0
>>>>> system         powerpc, darwin9.1.0
>>>>> status         Patched
>>>>> major          2
>>>>> minor          6.1
>>>>> year           2007
>>>>> month          12
>>>>> day            12
>>>>> svn rev        43661
>>>>> language       R
>>>>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>>>>>
>>>>>> .Machine$sizeof.pointer == 8
>>>>> [1] FALSE
>>>>>
>>>>>> R.version$arch
>>>>> [1] "powerpc"
>>>>>
>>>>>> .Platform$r_arch
>>>>> [1] "ppc"
>>>>>>
>>>>>
>>>>> So would then seem at Command Line I have 64 but in R.app I do not
>>>>>
>>>>> ============
>>>>> Then I try biocLite("preprocessCore") at Command Line and returns
>>>>>
>>>>>> .Platform$r_arch
>>>>> [1] "ppc64"
>>>>>> sessionInfo()
>>>>> R version 2.6.1 Patched (2007-12-12 r43661)
>>>>> powerpc-apple-darwin9.0.0
>>>>>
>>>>> locale:
>>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>
>>>>> attached base packages:
>>>>> [1] stats     graphics  grDevices utils     datasets  methods    
>>>>> base
>>>>>
>>>>> loaded via a namespace (and not attached):
>>>>> [1] rcompgen_0.1-17
>>>>>> source("http://bioconductor.org/biocLite.R")
>>>>>> biocLite("preprocessCore")
>>>>>
>>>>> Running biocinstall version 2.1.8 with R version 2.6.1
>>>>> Your version of R requires version 2.1 of Bioconductor.
>>>>> trying URL
>>>>>
> 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6 
> >>>>
> /
>>>>> preprocessCore_1.0.0.tgz'
>>>>> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
>>>>> opened URL
>>>>> ==================================================
>>>>> downloaded 153 Kb
>>>>>
>>>>>
>>>>> The downloaded packages are in
>>>>>
>>>>> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//RtmpHcRo5R/
>>>>> downloaded_pac
>>>>> kages
>>>>>> library(preprocessCore)
>>>>> Error: package 'preprocessCore' is not installed for 'arch=ppc64'
>>>>>>
>>>>>
>>>>
>>>> I bet you didn't install the package from sources. CRAN/BioC offer
>>>> 32-
>>>> bit package binaries only, so you have to install all packages from
>>>> sources (i.e. you must use type='source' in install.packages). Also
>>>> you need all the necessary tools for this (please read the page you
>>>> got the binaries from).
>>>>
>>>> Cheers,
>>>> Simon
>>>>
>>>>
>>>>> ===============
>>>>> Then I try same with R.app and returns
>>>>>
>>>>>> .Platform$r_arch
>>>>> [1] "ppc"
>>>>>> sessionInfo()
>>>>> R version 2.6.1 Patched (2007-12-12 r43661)
>>>>> powerpc-apple-darwin9.1.0
>>>>>
>>>>> locale:
>>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>
>>>>> attached base packages:
>>>>> [1] stats     graphics  grDevices utils     datasets  methods    
>>>>> base
>>>>>>
>>>>>
>>>>>> source("http://bioconductor.org/biocLite.R")
>>>>>> biocLite("preprocessCore")
>>>>> Running biocinstall version 2.1.8 with R version 2.6.1
>>>>> Your version of R requires version 2.1 of Bioconductor.
>>>>> trying URL
>>>>>
> 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6 
> >>>>
> /
>>>>> preprocessCore_1.0.0.tgz'
>>>>> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
>>>>> opened URL
>>>>> ==================================================
>>>>> downloaded 153 Kb
>>>>>
>>>>>
>>>>> The downloaded packages are in
>>>>>
>>>>> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//Rtmp3VK9Rw/
>>>>> downloaded_pac
>>>>> kages
>>>>>
>>>>>
>>>>>> library(preprocessCore)
>>>>> Error in dyn.load(file, ...) :
>>>>> unable to load shared library
>>>>> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>>> libs/ppc/p
>>>>> reprocessCore.so':
>>>>>
>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/
>>>>> preprocessCore/libs
>>>>> /ppc/preprocessCore.so, 5): Library not loaded:
>>>>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/
>>>>> libgfortran.2.dyl
>>>>> ib
>>>>> Referenced from:
>>>>> /Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>>> libs/ppc/pr
>>>>> eprocessCore.so
>>>>> Reason: image not found
>>>>> Error in library(preprocessCore) : .First.lib failed for
>>>>> 'preprocessCore'
>>>>>
>>>>> =============
>>>>> So to me seems with your investigative advice
>>>>> 1) I have 64bit at command line
>>>>> 2) I do not have 64bit in R.app
>>>>> 3) preprocessCore is not 64bit (and other packages)
>>>>>
>>>>> So I am closer to 64bit ReadAffy of 81 files but still not there
>>>>>
>>>>> With your serious knowledge, how should I get to 64bit ReadAffy
>>>>>
>>>>> Thank you
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>>>> Date: Thu, 13 Dec 2007 17:00:36 +0000 (GMT)
>>>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>>>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>>>>>
>>>>>> The short answer is that the BioC binary packages are not 64-bit.
>>>>>> But
>>>>>> then neither is the CRAN build of R 2.6.1 nor the CRAN binary
>>>>>> packages.
>>>>>>
>>>>>> And very likely you are running a 32-bit R.
>>>>>>
>>>>>> On Thu, 13 Dec 2007, Loren Engrav wrote:
>>>>>>
>>>>>>> I tried
>>>>>>> options(arch="ppc64") in Rprofile
>>>>>>> and seems to have worked,
>>>>>>
>>>>>> I am sure it 'worked' for some value of 'worked', but what do you
>>>>>> think it
>>>>>> did?  You can't change the architecture of a running R process  
>>>>>> (and
>>>>>> you
>>>>>> need a running R process to use R code ...).  You find out  
>>>>>> whether
>>>>>> the
>>>>>> process is 64-bit by checking
>>>>>>
>>>>>> .Machine$sizeof.pointer == 8
>>>>>>
>>>>>> and R.version$arch will also indicate the architecture name  
>>>>>> (x86_64
>>>>>> on my
>>>>>> Macintel builds).
>>>>>>
>>>>>> The sub-architecture (if any) of the running process is given by
>>>>>> .Platform$r_arch and the user cannot change it (it was set at
>>>>>> configure
>>>>>> time).  From the output below, that is 'ppc'.  Not only do the
>>>>>> architectures need to match, but do the sub-architecture  
>>>>>> settings:
>>>>>> this is
>>>>>> easy to achieve when building everything yourself, but not when
>>>>>> taking
>>>>>> binaries built on different systems by different people at
>>>>>> different
>>>>>> times.
>>>>>>
>>>>>> So, it seems
>>>>>>
>>>>>> - you are running a 32-bit R.
>>>>>> - you are missing a Fortran library.
>>>>>>
>>>>>> Please do try to deduce from the output what the problem is, not
>>>>>> guess and
>>>>>> never test your guesses.
>>>>>>
>>>>>>> I think R.app is ppc64 in Leopard
>>>>>>
>>>>>> The CRAN build of 2.6.1 is not, and you haven't told us which  
>>>>>> build
>>>>>> you
>>>>>> are using.
>>>>>>
>>>>>> AFAIK if you want 64-bit, you need to build packages from  
>>>>>> sources.
>>>>>>
>>>>>> How to set all this up is AFAIK not fully documented, for the  
>>>>>> very
>>>>>> good
>>>>>> reason that it is *experimental*.  My understanding is that it is
>>>>>> intended
>>>>>> to support 64-bit MacOS binary builds from R 2.7.0 only.
>>>>>>
>>>>>>
>>>>>>
>>>>>>> But affy will not load as requires preprocessCore
>>>>>>>
>>>>>>> Library(preprocessCore) returns
>>>>>>>
>>>>>>> Error in dyn.load(file, ...) :
>>>>>>> unable to load shared library
>>>>>>> '/Library/Frameworks/R.framework/Resources/library/ 
>>>>>>> preprocessCore/
>>>>>>> libs/ppc/p
>>>>>>> reprocessCore.so':
>>>>>>>
>>>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/
>>>>>>> preprocessCore/libs
>>>>>>> /ppc/preprocessCore.so, 5): Library not loaded:
>>>>>>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/
>>>>>>> libgfortran.2.dyl
>>>>>>> ib
>>>>>>> Referenced from:
>>>>>>> /Library/Frameworks/R.framework/Resources/library/ 
>>>>>>> preprocessCore/
>>>>>>> libs/ppc/pr
>>>>>>> eprocessCore.so
>>>>>>> Reason: image not found
>>>>>>> Error in library(preprocessCore) : .First.lib failed for
>>>>>>> 'preprocessCore'
>>>>>>>
>>>>>>> I check libs in preprocessCore and find i386 and ppc, no ppc64
>>>>>>>
>>>>>>> Does this mean preprocessCore as it stands does not do ppc64?  
>>>>>>> Or I
>>>>>>> am
>>>>>>> getting the wrong one? Or I must build 64bit? Or?
>>>>>>>
>>>>>>> The original thread is in Bio but this seems like a Mac specific
>>>>>>> question
>>>>>>>
>>>>>>> Thank you
>>>>>>>
>>>>>>>
>>>>>>
>>>>>> -- 
>>>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/
>>>>>> ~ripley/
>>>>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>>>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>>>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>>
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2419 bytes
Desc: not available
Url : https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20071214/b84b50a3/attachment-0001.bin 

From bibiko at eva.mpg.de  Fri Dec 14 14:02:53 2007
From: bibiko at eva.mpg.de (Hans-Joerg Bibiko)
Date: Fri, 14 Dec 2007 14:02:53 +0100
Subject: [R-SIG-Mac] General (very minor) tcltk handling question
Message-ID: <FD808C3C-D4E0-4707-9E7B-559AC98019F0@eva.mpg.de>

Hi,

If I start a R session with R.app, or R running in the Terminal or  
xterm, the idle CPU coverage is about 1.0% resp. 0.0%. Fine.
If I load 'library(tcltk)' the idle CPU coverage increases by ca.  
0.4% to 0.7%. Even if I detach tcltk the increasing is still there  
caused by a started thread 'TclHandler' which waits for commands. OK,  
this increasing is negligible, but nevertheless is there a way to  
kill that thread if I explicitly detach tcltk?

many thanks in advance,

--Hans


From simon.urbanek at r-project.org  Fri Dec 14 15:45:04 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 14 Dec 2007 09:45:04 -0500
Subject: [R-SIG-Mac] .svn directory installed with R
In-Reply-To: <D698F92C-58A8-4290-8852-C01AF3FCDD83@gmail.com>
References: <D698F92C-58A8-4290-8852-C01AF3FCDD83@gmail.com>
Message-ID: <61C20C47-A31C-4BE0-89CC-8CBC2171340D@r-project.org>

On Dec 10, 2007, at 5:10 PM, jiho wrote:

> This has been true for several versions already but I did not reported
> it before: installing R puts some .svn directories a bit all around
> (in / and in /Applications at least). I don't know whether this is a
> "feature" but this is particularly annoying when using svn for other
> purposes: my whole disk is recognised as an svn checkout. I use
> SCPlugin which means I have badges everywhere too, and so on and so
> forth.

Thank you for your report, but please stick to the facts, embellishing  
your reports with fiction is rather counter-productive.


> So: why are those directories installed?

Because the root of the packaging was stored in the svn and the  
installer has apparently copied that root .svn directory.


> Can it be changed?
>

Yes, done (for nightly builds and future releases).

Thanks,
Simon


From simon.urbanek at r-project.org  Fri Dec 14 15:54:15 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 14 Dec 2007 09:54:15 -0500
Subject: [R-SIG-Mac] Does preprocessCore do ppc64?
In-Reply-To: <C387468E.15CAD%engrav@u.washington.edu>
References: <C387468E.15CAD%engrav@u.washington.edu>
Message-ID: <FA5DC304-A058-45B7-A41C-7F1337D70CF6@r-project.org>


On Dec 13, 2007, at 11:29 PM, Loren Engrav wrote:

> Thank you, maybe is coming into focus
>
>>> Then I run R.app with options(arch="ppc64") in .Rprofile
>>> That is a really bad idea (see the response you got previously).
>
> Would appear that I have proven what you say is true
>
>>> I bet you didn't install the package from sources. CRAN/BioC offer  
>>> 32-
>>> bit package binaries only, so you have to install all packages from
>>> sources (i.e. you must use type='source' in install.packages). Also
>>> you need all the necessary tools for this (please read the page you
>>> got the binaries from).
>
> Couple lines up I included
>
>>>> source("http://bioconductor.org/biocLite.R")
>>>> biocLite("preprocessCore")
>
> Again proving you correct
>
> And I see the directions on <http://r.research.att.com/> are  
> changing which
> is good for R/Bio R1's
>
> So now what I wish to do is 64bit Readaffy
> And can use 64bit command line which is painful but would work
> But have no 64bit Bio packages
>
> As I understand now
> To get 64bit R.app I must get the tools and build it
> To get 64bit Bio packages I must get the tools and build them
>
> I might try this being this deep into this and finding it rather fun
>
> One question before I start
> You say
>> note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI
>> won't be of much use. You have to use R-devel for Quartz in 64-bit.
>
> This means that from <http://r.research.att.com/>
>> R-2.6-branch
>> R 2.6.1 Patched (2007-12-12)
> Will not work, I MUST use
>> R-devel
>> R 2.7.0 Under development
>> (unstable) (2007-12-12)
> True? Even tho neither include R.app?
>

You don't have to, but you won't have Quartz graphics. You can still  
use the command line and X11 graphics in R 2.6.1. You indicated that  
you are interested in using R.app, so I just felt that I should warn  
you ;).


> In preparation for this I have installed
> Xcode 3 from the Leopard DVD
> And
> GNU Fortan 4.2.1

That's all you really need. Everything else is optional.

>
> And
> Will install LaTeX after massive download done
>
> And did in Terminal...
> export PATH=$PATH:/usr/local/bin
> and
> curl -s -S http://r.research.att.com/readline-5.2-1-quad.tar.gz|sudo  
> tar fxz
> - -C /
> and
> curl -s -S http://r.research.att.com/jpegpng-quad.tar.gz|sudo tar  
> fxz - -C /
>

Those are necessary for building R, but not for packages. However, it  
doesn't hurt ;).


> And of course, maybe I should bag it, admit I am over my head, and  
> let some
> "expert" with dChip do it
>
> But then what the hell? Why not try it, if you can tolerate my  
> questions
> that is, and I am closer to ReadAffy 64bit 81 cell as I now have  
> command
> line 64bit R
>

Yes :). Good luck.
I hope you have far more than 4GB of RAM in your machine, otherwise  
the whole exercise is probably futile...

Unfortunately I'm short of machines, so I can't offer more binaries  
for now ...

Cheers,
Simon



>> From: Simon Urbanek <simon.urbanek at r-project.org>
>> Date: Thu, 13 Dec 2007 19:39:52 -0500
>> To: Loren Engrav <engrav at u.washington.edu>
>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>
>>
>> On Dec 13, 2007, at 5:58 PM, Loren Engrav wrote:
>>
>>> Thank you, was helpful, is complicated for this geezer, but
>>> interesting
>>>
>>> The whole goal is to ReadAffy() on 81 chips which seems to need 64
>>> bit to
>>> avoid "cannot allocate vector...." error (or reduce chips or analyze
>>> in
>>> pieces but not yet ready to give up on this)
>>>
>>> Other advisors advised
>>>
>>> "Install Leopard 10.5.1
>>>
>>> Now install either
>>>   R-2.6-branch-leopard-universal.tar.gz
>>> or
>>>   R-devel-leopard-universal.tar.gz
>>> depending on which version of BioC you want to use: the former is
>>> for BioC
>>> 2.1 (the current release) and the latter for BioC 2.2 (the current
>>> devel).
>>>
>>> Then start R with --arch=ppc64 and you will be running in 64-bit
>>> mode."
>>>
>>> So I installed Leopard and R-2.6-branch and start with R -- 
>>> arch=ppc64
>>>
>>> =========
>>> and as you suggested while running Command Line
>>>
>>>> version
>>>              _
>>> platform       powerpc-apple-darwin9.0.0
>>> arch           powerpc
>>> os             darwin9.0.0
>>> system         powerpc, darwin9.0.0
>>> status         Patched
>>> major          2
>>> minor          6.1
>>> year           2007
>>> month          12
>>> day            12
>>> svn rev        43661
>>> language       R
>>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>>>
>>>> .Machine$sizeof.pointer == 8
>>> [1] TRUE
>>>
>>>> R.version$arch
>>> [1] "powerpc"
>>>
>>>> .Platform$r_arch
>>> [1] "ppc64"
>>>
>>> ============
>>> Then I run R.app with options(arch="ppc64") in .Rprofile
>>>
>>
>> That is a really bad idea (see the response you got previously). You
>> cannot change the architecture in a running R and you also cannot use
>> 32-bit R.app with 64-bit R. If you want 64-bit R and the GUI, you  
>> have
>> to use 64-bit R.app (which you have to build from the sources). Also
>> note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI
>> won't be of much use. You have to use R-devel for Quartz in 64-bit.
>>
>>
>>> And get
>>>
>>>> version
>>>              _
>>> platform       powerpc-apple-darwin9.1.0
>>> arch           powerpc
>>> os             darwin9.1.0
>>> system         powerpc, darwin9.1.0
>>> status         Patched
>>> major          2
>>> minor          6.1
>>> year           2007
>>> month          12
>>> day            12
>>> svn rev        43661
>>> language       R
>>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>>>
>>>> .Machine$sizeof.pointer == 8
>>> [1] FALSE
>>>
>>>> R.version$arch
>>> [1] "powerpc"
>>>
>>>> .Platform$r_arch
>>> [1] "ppc"
>>>>
>>>
>>> So would then seem at Command Line I have 64 but in R.app I do not
>>>
>>> ============
>>> Then I try biocLite("preprocessCore") at Command Line and returns
>>>
>>>> .Platform$r_arch
>>> [1] "ppc64"
>>>> sessionInfo()
>>> R version 2.6.1 Patched (2007-12-12 r43661)
>>> powerpc-apple-darwin9.0.0
>>>
>>> locale:
>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>
>>> loaded via a namespace (and not attached):
>>> [1] rcompgen_0.1-17
>>>> source("http://bioconductor.org/biocLite.R")
>>>> biocLite("preprocessCore")
>>>
>>> Running biocinstall version 2.1.8 with R version 2.6.1
>>> Your version of R requires version 2.1 of Bioconductor.
>>> trying URL
>>> 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6/
>>> preprocessCore_1.0.0.tgz'
>>> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
>>> opened URL
>>> ==================================================
>>> downloaded 153 Kb
>>>
>>>
>>> The downloaded packages are in
>>>
>>> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//RtmpHcRo5R/
>>> downloaded_pac
>>> kages
>>>> library(preprocessCore)
>>> Error: package 'preprocessCore' is not installed for 'arch=ppc64'
>>>>
>>>
>>
>> I bet you didn't install the package from sources. CRAN/BioC offer  
>> 32-
>> bit package binaries only, so you have to install all packages from
>> sources (i.e. you must use type='source' in install.packages). Also
>> you need all the necessary tools for this (please read the page you
>> got the binaries from).
>>
>> Cheers,
>> Simon
>>
>>
>>> ===============
>>> Then I try same with R.app and returns
>>>
>>>> .Platform$r_arch
>>> [1] "ppc"
>>>> sessionInfo()
>>> R version 2.6.1 Patched (2007-12-12 r43661)
>>> powerpc-apple-darwin9.1.0
>>>
>>> locale:
>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>
>>>
>>>> source("http://bioconductor.org/biocLite.R")
>>>> biocLite("preprocessCore")
>>> Running biocinstall version 2.1.8 with R version 2.6.1
>>> Your version of R requires version 2.1 of Bioconductor.
>>> trying URL
>>> 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6/
>>> preprocessCore_1.0.0.tgz'
>>> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
>>> opened URL
>>> ==================================================
>>> downloaded 153 Kb
>>>
>>>
>>> The downloaded packages are in
>>>
>>> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//Rtmp3VK9Rw/
>>> downloaded_pac
>>> kages
>>>
>>>
>>>> library(preprocessCore)
>>> Error in dyn.load(file, ...) :
>>> unable to load shared library
>>> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>> libs/ppc/p
>>> reprocessCore.so':
>>>
>>> dlopen(/Library/Frameworks/R.framework/Resources/library/
>>> preprocessCore/libs
>>> /ppc/preprocessCore.so, 5): Library not loaded:
>>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/
>>> libgfortran.2.dyl
>>> ib
>>> Referenced from:
>>> /Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>> libs/ppc/pr
>>> eprocessCore.so
>>> Reason: image not found
>>> Error in library(preprocessCore) : .First.lib failed for
>>> 'preprocessCore'
>>>
>>> =============
>>> So to me seems with your investigative advice
>>> 1) I have 64bit at command line
>>> 2) I do not have 64bit in R.app
>>> 3) preprocessCore is not 64bit (and other packages)
>>>
>>> So I am closer to 64bit ReadAffy of 81 files but still not there
>>>
>>> With your serious knowledge, how should I get to 64bit ReadAffy
>>>
>>> Thank you
>>>
>>>
>>>
>>>
>>>
>>>> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>> Date: Thu, 13 Dec 2007 17:00:36 +0000 (GMT)
>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>>>
>>>> The short answer is that the BioC binary packages are not 64-bit.
>>>> But
>>>> then neither is the CRAN build of R 2.6.1 nor the CRAN binary
>>>> packages.
>>>>
>>>> And very likely you are running a 32-bit R.
>>>>
>>>> On Thu, 13 Dec 2007, Loren Engrav wrote:
>>>>
>>>>> I tried
>>>>> options(arch="ppc64") in Rprofile
>>>>> and seems to have worked,
>>>>
>>>> I am sure it 'worked' for some value of 'worked', but what do you
>>>> think it
>>>> did?  You can't change the architecture of a running R process (and
>>>> you
>>>> need a running R process to use R code ...).  You find out whether
>>>> the
>>>> process is 64-bit by checking
>>>>
>>>> .Machine$sizeof.pointer == 8
>>>>
>>>> and R.version$arch will also indicate the architecture name (x86_64
>>>> on my
>>>> Macintel builds).
>>>>
>>>> The sub-architecture (if any) of the running process is given by
>>>> .Platform$r_arch and the user cannot change it (it was set at
>>>> configure
>>>> time).  From the output below, that is 'ppc'.  Not only do the
>>>> architectures need to match, but do the sub-architecture settings:
>>>> this is
>>>> easy to achieve when building everything yourself, but not when
>>>> taking
>>>> binaries built on different systems by different people at  
>>>> different
>>>> times.
>>>>
>>>> So, it seems
>>>>
>>>> - you are running a 32-bit R.
>>>> - you are missing a Fortran library.
>>>>
>>>> Please do try to deduce from the output what the problem is, not
>>>> guess and
>>>> never test your guesses.
>>>>
>>>>> I think R.app is ppc64 in Leopard
>>>>
>>>> The CRAN build of 2.6.1 is not, and you haven't told us which build
>>>> you
>>>> are using.
>>>>
>>>> AFAIK if you want 64-bit, you need to build packages from sources.
>>>>
>>>> How to set all this up is AFAIK not fully documented, for the very
>>>> good
>>>> reason that it is *experimental*.  My understanding is that it is
>>>> intended
>>>> to support 64-bit MacOS binary builds from R 2.7.0 only.
>>>>
>>>>
>>>>
>>>>> But affy will not load as requires preprocessCore
>>>>>
>>>>> Library(preprocessCore) returns
>>>>>
>>>>> Error in dyn.load(file, ...) :
>>>>> unable to load shared library
>>>>> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>>> libs/ppc/p
>>>>> reprocessCore.so':
>>>>>
>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/
>>>>> preprocessCore/libs
>>>>> /ppc/preprocessCore.so, 5): Library not loaded:
>>>>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/
>>>>> libgfortran.2.dyl
>>>>> ib
>>>>> Referenced from:
>>>>> /Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>>> libs/ppc/pr
>>>>> eprocessCore.so
>>>>> Reason: image not found
>>>>> Error in library(preprocessCore) : .First.lib failed for
>>>>> 'preprocessCore'
>>>>>
>>>>> I check libs in preprocessCore and find i386 and ppc, no ppc64
>>>>>
>>>>> Does this mean preprocessCore as it stands does not do ppc64? Or I
>>>>> am
>>>>> getting the wrong one? Or I must build 64bit? Or?
>>>>>
>>>>> The original thread is in Bio but this seems like a Mac specific
>>>>> question
>>>>>
>>>>> Thank you
>>>>>
>>>>>
>>>>
>>>> -- 
>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/ 
>>>> ~ripley/
>>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From engrav at u.washington.edu  Fri Dec 14 18:04:15 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Fri, 14 Dec 2007 09:04:15 -0800
Subject: [R-SIG-Mac] Does preprocessCore do ppc64?
In-Reply-To: <FA5DC304-A058-45B7-A41C-7F1337D70CF6@r-project.org>
Message-ID: <C387F78F.15CE8%engrav@u.washington.edu>

So my attempt to 64bit build failed, am so sorry

> biocLite("simpleaffy", type="source")
Running biocinstall version 2.1.8 with R version 2.6.1
Your version of R requires version 2.1 of Bioconductor.
trying URL 
'http://bioconductor.org/packages/2.1/bioc/src/contrib/simpleaffy_2.14.05.ta
r.gz'
Content type 'application/x-gzip' length 567142 bytes (553 Kb)
opened URL
==================================================
downloaded 553 Kb

/Library/Frameworks/R.framework/Resources/library
* Installing *source* package 'simpleaffy' ...
** libs
** arch - ppc64
gcc-4.2 -arch ppc64 -std=gnu99 -no-cpp-precomp
-I/Library/Frameworks/R.framework/Resources/include
-I/Library/Frameworks/R.framework/Resources/include/ppc64
-I/usr/local/include    -fPIC  -g -O2 -c simpleaffy.c -o simpleaffy.o
/bin/bash: gcc-4.2: command not found
make: *** [simpleaffy.o] Error 127
chmod: 
/Library/Frameworks/R.framework/Resources/library/simpleaffy/libs/ppc64/*:
No such file or directory
ERROR: compilation failed for package 'simpleaffy'
** Removing '/Library/Frameworks/R.framework/Resources/library/simpleaffy'
** Restoring previous
'/Library/Frameworks/R.framework/Resources/library/simpleaffy'

The downloaded packages are in
    /private/tmp/RtmpWzr4jD/downloaded_packages
Updating HTML index of packages in '.Library'
Warning message:
In install.packages(pkgs = pkgs, repos = repos, dependencies = dependencies,
:
  installation of package 'simpleaffy' had non-zero exit status




Please recall in preparation for this I did

Previously installed (will change to R-devel later to get Quartz and R.app)
>> R-2.6-branch
>> R 2.6.1 Patched (2007-12-13)

installed 
>> Xcode 3 from the Leopard DVD and
>> GNU Fortan 4.2.1 and
>> LaTeX
>> And did in Terminal...
>> export PATH=$PATH:/usr/local/bin and
>> curl -s -S http://r.research.att.com/readline-5.2-1-quad.tar.gz|sudo tar fxz
- -C / and
>> curl -s -S http://r.research.att.com/jpegpng-quad.tar.gz|sudo tar fxz - -C /

And to fire up did
>> sudo R --arch="ppc64"

And sessionInfo say
> sessionInfo()
R version 2.6.1 Patched (2007-12-12 r43661)
powerpc-apple-darwin9.0.0

locale:
en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] rcompgen_0.1-17 tools_2.6.1

And .Platform say
> .Platform$r_arch
[1] "ppc64"
> 

And version say
> version
               _   
platform       powerpc-apple-darwin9.0.0
arch           powerpc
os             darwin9.0.0
system         powerpc, darwin9.0.0
status         Patched
major          2   
minor          6.1 
year           2007
month          12  
day            12  
svn rev        43661
language       R   
version.string R version 2.6.1 Patched (2007-12-12 r43661)

And echo say
Loren-Engravs-Dual-G5:bin engrav$ echo $PATH
/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/texbin:/usr/X11/bin

There is gfortran-4.2 in /usr/local/bin

All on Leopard 10.5.1 and G5 dual 2gh ppc

There are a bizillion google pages about
>> /bin/bash: gcc-4.2: command not found
>> make: *** [simpleaffy.o] Error 127

How to fix this on this system?

Thank you


-- 
Loren Engrav
Univ Washington
Seattle







> From: Simon Urbanek <simon.urbanek at r-project.org>
> Date: Fri, 14 Dec 2007 09:54:15 -0500
> To: Loren Engrav <engrav at u.washington.edu>
> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
> 
> 
> On Dec 13, 2007, at 11:29 PM, Loren Engrav wrote:
> 
>> Thank you, maybe is coming into focus
>> 
>>>> Then I run R.app with options(arch="ppc64") in .Rprofile
>>>> That is a really bad idea (see the response you got previously).
>> 
>> Would appear that I have proven what you say is true
>> 
>>>> I bet you didn't install the package from sources. CRAN/BioC offer
>>>> 32-
>>>> bit package binaries only, so you have to install all packages from
>>>> sources (i.e. you must use type='source' in install.packages). Also
>>>> you need all the necessary tools for this (please read the page you
>>>> got the binaries from).
>> 
>> Couple lines up I included
>> 
>>>>> source("http://bioconductor.org/biocLite.R")
>>>>> biocLite("preprocessCore")
>> 
>> Again proving you correct
>> 
>> And I see the directions on <http://r.research.att.com/> are
>> changing which
>> is good for R/Bio R1's
>> 
>> So now what I wish to do is 64bit Readaffy
>> And can use 64bit command line which is painful but would work
>> But have no 64bit Bio packages
>> 
>> As I understand now
>> To get 64bit R.app I must get the tools and build it
>> To get 64bit Bio packages I must get the tools and build them
>> 
>> I might try this being this deep into this and finding it rather fun
>> 
>> One question before I start
>> You say
>>> note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI
>>> won't be of much use. You have to use R-devel for Quartz in 64-bit.
>> 
>> This means that from <http://r.research.att.com/>
>>> R-2.6-branch
>>> R 2.6.1 Patched (2007-12-12)
>> Will not work, I MUST use
>>> R-devel
>>> R 2.7.0 Under development
>>> (unstable) (2007-12-12)
>> True? Even tho neither include R.app?
>> 
> 
> You don't have to, but you won't have Quartz graphics. You can still
> use the command line and X11 graphics in R 2.6.1. You indicated that
> you are interested in using R.app, so I just felt that I should warn
> you ;).
> 
> 
>> In preparation for this I have installed
>> Xcode 3 from the Leopard DVD
>> And
>> GNU Fortan 4.2.1
> 
> That's all you really need. Everything else is optional.
> 
>> 
>> And
>> Will install LaTeX after massive download done
>> 
>> And did in Terminal...
>> export PATH=$PATH:/usr/local/bin
>> and
>> curl -s -S http://r.research.att.com/readline-5.2-1-quad.tar.gz|sudo
>> tar fxz
>> - -C /
>> and
>> curl -s -S http://r.research.att.com/jpegpng-quad.tar.gz|sudo tar
>> fxz - -C /
>> 
> 
> Those are necessary for building R, but not for packages. However, it
> doesn't hurt ;).
> 
> 
>> And of course, maybe I should bag it, admit I am over my head, and
>> let some
>> "expert" with dChip do it
>> 
>> But then what the hell? Why not try it, if you can tolerate my
>> questions
>> that is, and I am closer to ReadAffy 64bit 81 cell as I now have
>> command
>> line 64bit R
>> 
> 
> Yes :). Good luck.
> I hope you have far more than 4GB of RAM in your machine, otherwise
> the whole exercise is probably futile...
> 
> Unfortunately I'm short of machines, so I can't offer more binaries
> for now ...
> 
> Cheers,
> Simon
> 
> 
> 
>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>> Date: Thu, 13 Dec 2007 19:39:52 -0500
>>> To: Loren Engrav <engrav at u.washington.edu>
>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>> 
>>> 
>>> On Dec 13, 2007, at 5:58 PM, Loren Engrav wrote:
>>> 
>>>> Thank you, was helpful, is complicated for this geezer, but
>>>> interesting
>>>> 
>>>> The whole goal is to ReadAffy() on 81 chips which seems to need 64
>>>> bit to
>>>> avoid "cannot allocate vector...." error (or reduce chips or analyze
>>>> in
>>>> pieces but not yet ready to give up on this)
>>>> 
>>>> Other advisors advised
>>>> 
>>>> "Install Leopard 10.5.1
>>>> 
>>>> Now install either
>>>>   R-2.6-branch-leopard-universal.tar.gz
>>>> or
>>>>   R-devel-leopard-universal.tar.gz
>>>> depending on which version of BioC you want to use: the former is
>>>> for BioC
>>>> 2.1 (the current release) and the latter for BioC 2.2 (the current
>>>> devel).
>>>> 
>>>> Then start R with --arch=ppc64 and you will be running in 64-bit
>>>> mode."
>>>> 
>>>> So I installed Leopard and R-2.6-branch and start with R --
>>>> arch=ppc64
>>>> 
>>>> =========
>>>> and as you suggested while running Command Line
>>>> 
>>>>> version
>>>>              _
>>>> platform       powerpc-apple-darwin9.0.0
>>>> arch           powerpc
>>>> os             darwin9.0.0
>>>> system         powerpc, darwin9.0.0
>>>> status         Patched
>>>> major          2
>>>> minor          6.1
>>>> year           2007
>>>> month          12
>>>> day            12
>>>> svn rev        43661
>>>> language       R
>>>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>>>> 
>>>>> .Machine$sizeof.pointer == 8
>>>> [1] TRUE
>>>> 
>>>>> R.version$arch
>>>> [1] "powerpc"
>>>> 
>>>>> .Platform$r_arch
>>>> [1] "ppc64"
>>>> 
>>>> ============
>>>> Then I run R.app with options(arch="ppc64") in .Rprofile
>>>> 
>>> 
>>> That is a really bad idea (see the response you got previously). You
>>> cannot change the architecture in a running R and you also cannot use
>>> 32-bit R.app with 64-bit R. If you want 64-bit R and the GUI, you
>>> have
>>> to use 64-bit R.app (which you have to build from the sources). Also
>>> note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI
>>> won't be of much use. You have to use R-devel for Quartz in 64-bit.
>>> 
>>> 
>>>> And get
>>>> 
>>>>> version
>>>>              _
>>>> platform       powerpc-apple-darwin9.1.0
>>>> arch           powerpc
>>>> os             darwin9.1.0
>>>> system         powerpc, darwin9.1.0
>>>> status         Patched
>>>> major          2
>>>> minor          6.1
>>>> year           2007
>>>> month          12
>>>> day            12
>>>> svn rev        43661
>>>> language       R
>>>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>>>> 
>>>>> .Machine$sizeof.pointer == 8
>>>> [1] FALSE
>>>> 
>>>>> R.version$arch
>>>> [1] "powerpc"
>>>> 
>>>>> .Platform$r_arch
>>>> [1] "ppc"
>>>>> 
>>>> 
>>>> So would then seem at Command Line I have 64 but in R.app I do not
>>>> 
>>>> ============
>>>> Then I try biocLite("preprocessCore") at Command Line and returns
>>>> 
>>>>> .Platform$r_arch
>>>> [1] "ppc64"
>>>>> sessionInfo()
>>>> R version 2.6.1 Patched (2007-12-12 r43661)
>>>> powerpc-apple-darwin9.0.0
>>>> 
>>>> locale:
>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>> 
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>> 
>>>> loaded via a namespace (and not attached):
>>>> [1] rcompgen_0.1-17
>>>>> source("http://bioconductor.org/biocLite.R")
>>>>> biocLite("preprocessCore")
>>>> 
>>>> Running biocinstall version 2.1.8 with R version 2.6.1
>>>> Your version of R requires version 2.1 of Bioconductor.
>>>> trying URL
>>>> 
'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6>>>>
/
>>>> preprocessCore_1.0.0.tgz'
>>>> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
>>>> opened URL
>>>> ==================================================
>>>> downloaded 153 Kb
>>>> 
>>>> 
>>>> The downloaded packages are in
>>>> 
>>>> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//RtmpHcRo5R/
>>>> downloaded_pac
>>>> kages
>>>>> library(preprocessCore)
>>>> Error: package 'preprocessCore' is not installed for 'arch=ppc64'
>>>>> 
>>>> 
>>> 
>>> I bet you didn't install the package from sources. CRAN/BioC offer
>>> 32-
>>> bit package binaries only, so you have to install all packages from
>>> sources (i.e. you must use type='source' in install.packages). Also
>>> you need all the necessary tools for this (please read the page you
>>> got the binaries from).
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>>> ===============
>>>> Then I try same with R.app and returns
>>>> 
>>>>> .Platform$r_arch
>>>> [1] "ppc"
>>>>> sessionInfo()
>>>> R version 2.6.1 Patched (2007-12-12 r43661)
>>>> powerpc-apple-darwin9.1.0
>>>> 
>>>> locale:
>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>> 
>>>> attached base packages:
>>>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>>>> 
>>>> 
>>>>> source("http://bioconductor.org/biocLite.R")
>>>>> biocLite("preprocessCore")
>>>> Running biocinstall version 2.1.8 with R version 2.6.1
>>>> Your version of R requires version 2.1 of Bioconductor.
>>>> trying URL
>>>> 
'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6>>>>
/
>>>> preprocessCore_1.0.0.tgz'
>>>> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
>>>> opened URL
>>>> ==================================================
>>>> downloaded 153 Kb
>>>> 
>>>> 
>>>> The downloaded packages are in
>>>> 
>>>> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//Rtmp3VK9Rw/
>>>> downloaded_pac
>>>> kages
>>>> 
>>>> 
>>>>> library(preprocessCore)
>>>> Error in dyn.load(file, ...) :
>>>> unable to load shared library
>>>> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>> libs/ppc/p
>>>> reprocessCore.so':
>>>> 
>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/
>>>> preprocessCore/libs
>>>> /ppc/preprocessCore.so, 5): Library not loaded:
>>>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/
>>>> libgfortran.2.dyl
>>>> ib
>>>> Referenced from:
>>>> /Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>> libs/ppc/pr
>>>> eprocessCore.so
>>>> Reason: image not found
>>>> Error in library(preprocessCore) : .First.lib failed for
>>>> 'preprocessCore'
>>>> 
>>>> =============
>>>> So to me seems with your investigative advice
>>>> 1) I have 64bit at command line
>>>> 2) I do not have 64bit in R.app
>>>> 3) preprocessCore is not 64bit (and other packages)
>>>> 
>>>> So I am closer to 64bit ReadAffy of 81 files but still not there
>>>> 
>>>> With your serious knowledge, how should I get to 64bit ReadAffy
>>>> 
>>>> Thank you
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>>> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>>> Date: Thu, 13 Dec 2007 17:00:36 +0000 (GMT)
>>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>>>> 
>>>>> The short answer is that the BioC binary packages are not 64-bit.
>>>>> But
>>>>> then neither is the CRAN build of R 2.6.1 nor the CRAN binary
>>>>> packages.
>>>>> 
>>>>> And very likely you are running a 32-bit R.
>>>>> 
>>>>> On Thu, 13 Dec 2007, Loren Engrav wrote:
>>>>> 
>>>>>> I tried
>>>>>> options(arch="ppc64") in Rprofile
>>>>>> and seems to have worked,
>>>>> 
>>>>> I am sure it 'worked' for some value of 'worked', but what do you
>>>>> think it
>>>>> did?  You can't change the architecture of a running R process (and
>>>>> you
>>>>> need a running R process to use R code ...).  You find out whether
>>>>> the
>>>>> process is 64-bit by checking
>>>>> 
>>>>> .Machine$sizeof.pointer == 8
>>>>> 
>>>>> and R.version$arch will also indicate the architecture name (x86_64
>>>>> on my
>>>>> Macintel builds).
>>>>> 
>>>>> The sub-architecture (if any) of the running process is given by
>>>>> .Platform$r_arch and the user cannot change it (it was set at
>>>>> configure
>>>>> time).  From the output below, that is 'ppc'.  Not only do the
>>>>> architectures need to match, but do the sub-architecture settings:
>>>>> this is
>>>>> easy to achieve when building everything yourself, but not when
>>>>> taking
>>>>> binaries built on different systems by different people at
>>>>> different
>>>>> times.
>>>>> 
>>>>> So, it seems
>>>>> 
>>>>> - you are running a 32-bit R.
>>>>> - you are missing a Fortran library.
>>>>> 
>>>>> Please do try to deduce from the output what the problem is, not
>>>>> guess and
>>>>> never test your guesses.
>>>>> 
>>>>>> I think R.app is ppc64 in Leopard
>>>>> 
>>>>> The CRAN build of 2.6.1 is not, and you haven't told us which build
>>>>> you
>>>>> are using.
>>>>> 
>>>>> AFAIK if you want 64-bit, you need to build packages from sources.
>>>>> 
>>>>> How to set all this up is AFAIK not fully documented, for the very
>>>>> good
>>>>> reason that it is *experimental*.  My understanding is that it is
>>>>> intended
>>>>> to support 64-bit MacOS binary builds from R 2.7.0 only.
>>>>> 
>>>>> 
>>>>> 
>>>>>> But affy will not load as requires preprocessCore
>>>>>> 
>>>>>> Library(preprocessCore) returns
>>>>>> 
>>>>>> Error in dyn.load(file, ...) :
>>>>>> unable to load shared library
>>>>>> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>>>> libs/ppc/p
>>>>>> reprocessCore.so':
>>>>>> 
>>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/
>>>>>> preprocessCore/libs
>>>>>> /ppc/preprocessCore.so, 5): Library not loaded:
>>>>>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/
>>>>>> libgfortran.2.dyl
>>>>>> ib
>>>>>> Referenced from:
>>>>>> /Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>>>> libs/ppc/pr
>>>>>> eprocessCore.so
>>>>>> Reason: image not found
>>>>>> Error in library(preprocessCore) : .First.lib failed for
>>>>>> 'preprocessCore'
>>>>>> 
>>>>>> I check libs in preprocessCore and find i386 and ppc, no ppc64
>>>>>> 
>>>>>> Does this mean preprocessCore as it stands does not do ppc64? Or I
>>>>>> am
>>>>>> getting the wrong one? Or I must build 64bit? Or?
>>>>>> 
>>>>>> The original thread is in Bio but this seems like a Mac specific
>>>>>> question
>>>>>> 
>>>>>> Thank you
>>>>>> 
>>>>>> 
>>>>> 
>>>>> -- 
>>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/
>>>>> ~ripley/
>>>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> 
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
>


From simon.urbanek at r-project.org  Fri Dec 14 20:15:17 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 14 Dec 2007 14:15:17 -0500
Subject: [R-SIG-Mac] Does preprocessCore do ppc64?
In-Reply-To: <C387F78F.15CE8%engrav@u.washington.edu>
References: <C387F78F.15CE8%engrav@u.washington.edu>
Message-ID: <C71B336C-3C2A-42B0-A958-9B7F4BA35584@r-project.org>

Ah, well, that's the problem when you live on the cutting edge ;).  
There is one more issue - the Leopard build uses gcc-4.2 from Apple.  
Unfortunately it's not part of Xcode 3.0 :/. There are three ways to  
fix this:

a) get gcc42preview1.dmg from Apple if you have ADC membership that  
includes previews.
b) if you don't, you can install my build of gcc-42 from the R for Mac  
pages. It is similar, but not the same. However, use at your own risk.
c) force R to use gcc-4.0. The easiest is probably to run this in  
Terminal:
sudo ln -sfh gcc-4.0 /usr/bin/gcc-4.2
sudo ln -sfh g++-4.0 /usr/bin/g++-4.2

a) is best if you have access to it, c) is least invasive and can be  
undone by
sudo rm /usr/bin/gcc-4.2 /usr/bin/g++-4.2

Sorry, I forgot about this issue when responding earlier.

I can only repeat that this all is all experimental, we hope to have a  
more streamlined Leopard 64-bit support for R 2.7.0 including the GUI  
etc. Also using 64-bit is not necessarily better - it is a bit slower  
and pays off only with enough RAM (5-16GB).

Cheers,
Simon


On Dec 14, 2007, at 12:04 PM, Loren Engrav wrote:

> So my attempt to 64bit build failed, am so sorry
>
>> biocLite("simpleaffy", type="source")
> Running biocinstall version 2.1.8 with R version 2.6.1
> Your version of R requires version 2.1 of Bioconductor.
> trying URL
> 'http://bioconductor.org/packages/2.1/bioc/src/contrib/simpleaffy_2.14.05.ta
> r.gz'
> Content type 'application/x-gzip' length 567142 bytes (553 Kb)
> opened URL
> ==================================================
> downloaded 553 Kb
>
> /Library/Frameworks/R.framework/Resources/library
> * Installing *source* package 'simpleaffy' ...
> ** libs
> ** arch - ppc64
> gcc-4.2 -arch ppc64 -std=gnu99 -no-cpp-precomp
> -I/Library/Frameworks/R.framework/Resources/include
> -I/Library/Frameworks/R.framework/Resources/include/ppc64
> -I/usr/local/include    -fPIC  -g -O2 -c simpleaffy.c -o simpleaffy.o
> /bin/bash: gcc-4.2: command not found
> make: *** [simpleaffy.o] Error 127
> chmod:
> /Library/Frameworks/R.framework/Resources/library/simpleaffy/libs/ 
> ppc64/*:
> No such file or directory
> ERROR: compilation failed for package 'simpleaffy'
> ** Removing '/Library/Frameworks/R.framework/Resources/library/ 
> simpleaffy'
> ** Restoring previous
> '/Library/Frameworks/R.framework/Resources/library/simpleaffy'
>
> The downloaded packages are in
>    /private/tmp/RtmpWzr4jD/downloaded_packages
> Updating HTML index of packages in '.Library'
> Warning message:
> In install.packages(pkgs = pkgs, repos = repos, dependencies =  
> dependencies,
> :
>  installation of package 'simpleaffy' had non-zero exit status
>
>
>
>
> Please recall in preparation for this I did
>
> Previously installed (will change to R-devel later to get Quartz and  
> R.app)
>>> R-2.6-branch
>>> R 2.6.1 Patched (2007-12-13)
>
> installed
>>> Xcode 3 from the Leopard DVD and
>>> GNU Fortan 4.2.1 and
>>> LaTeX
>>> And did in Terminal...
>>> export PATH=$PATH:/usr/local/bin and
>>> curl -s -S http://r.research.att.com/readline-5.2-1-quad.tar.gz| 
>>> sudo tar fxz
> - -C / and
>>> curl -s -S http://r.research.att.com/jpegpng-quad.tar.gz|sudo tar  
>>> fxz - -C /
>
> And to fire up did
>>> sudo R --arch="ppc64"
>
> And sessionInfo say
>> sessionInfo()
> R version 2.6.1 Patched (2007-12-12 r43661)
> powerpc-apple-darwin9.0.0
>
> locale:
> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] rcompgen_0.1-17 tools_2.6.1
>
> And .Platform say
>> .Platform$r_arch
> [1] "ppc64"
>>
>
> And version say
>> version
>               _
> platform       powerpc-apple-darwin9.0.0
> arch           powerpc
> os             darwin9.0.0
> system         powerpc, darwin9.0.0
> status         Patched
> major          2
> minor          6.1
> year           2007
> month          12
> day            12
> svn rev        43661
> language       R
> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>
> And echo say
> Loren-Engravs-Dual-G5:bin engrav$ echo $PATH
> /usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/texbin:/usr/X11/bin
>
> There is gfortran-4.2 in /usr/local/bin
>
> All on Leopard 10.5.1 and G5 dual 2gh ppc
>
> There are a bizillion google pages about
>>> /bin/bash: gcc-4.2: command not found
>>> make: *** [simpleaffy.o] Error 127
>
> How to fix this on this system?
>
> Thank you
>
>
> -- 
> Loren Engrav
> Univ Washington
> Seattle
>
>
>
>
>
>
>
>> From: Simon Urbanek <simon.urbanek at r-project.org>
>> Date: Fri, 14 Dec 2007 09:54:15 -0500
>> To: Loren Engrav <engrav at u.washington.edu>
>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>
>>
>> On Dec 13, 2007, at 11:29 PM, Loren Engrav wrote:
>>
>>> Thank you, maybe is coming into focus
>>>
>>>>> Then I run R.app with options(arch="ppc64") in .Rprofile
>>>>> That is a really bad idea (see the response you got previously).
>>>
>>> Would appear that I have proven what you say is true
>>>
>>>>> I bet you didn't install the package from sources. CRAN/BioC offer
>>>>> 32-
>>>>> bit package binaries only, so you have to install all packages  
>>>>> from
>>>>> sources (i.e. you must use type='source' in install.packages).  
>>>>> Also
>>>>> you need all the necessary tools for this (please read the page  
>>>>> you
>>>>> got the binaries from).
>>>
>>> Couple lines up I included
>>>
>>>>>> source("http://bioconductor.org/biocLite.R")
>>>>>> biocLite("preprocessCore")
>>>
>>> Again proving you correct
>>>
>>> And I see the directions on <http://r.research.att.com/> are
>>> changing which
>>> is good for R/Bio R1's
>>>
>>> So now what I wish to do is 64bit Readaffy
>>> And can use 64bit command line which is painful but would work
>>> But have no 64bit Bio packages
>>>
>>> As I understand now
>>> To get 64bit R.app I must get the tools and build it
>>> To get 64bit Bio packages I must get the tools and build them
>>>
>>> I might try this being this deep into this and finding it rather fun
>>>
>>> One question before I start
>>> You say
>>>> note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI
>>>> won't be of much use. You have to use R-devel for Quartz in 64-bit.
>>>
>>> This means that from <http://r.research.att.com/>
>>>> R-2.6-branch
>>>> R 2.6.1 Patched (2007-12-12)
>>> Will not work, I MUST use
>>>> R-devel
>>>> R 2.7.0 Under development
>>>> (unstable) (2007-12-12)
>>> True? Even tho neither include R.app?
>>>
>>
>> You don't have to, but you won't have Quartz graphics. You can still
>> use the command line and X11 graphics in R 2.6.1. You indicated that
>> you are interested in using R.app, so I just felt that I should warn
>> you ;).
>>
>>
>>> In preparation for this I have installed
>>> Xcode 3 from the Leopard DVD
>>> And
>>> GNU Fortan 4.2.1
>>
>> That's all you really need. Everything else is optional.
>>
>>>
>>> And
>>> Will install LaTeX after massive download done
>>>
>>> And did in Terminal...
>>> export PATH=$PATH:/usr/local/bin
>>> and
>>> curl -s -S http://r.research.att.com/readline-5.2-1-quad.tar.gz|sudo
>>> tar fxz
>>> - -C /
>>> and
>>> curl -s -S http://r.research.att.com/jpegpng-quad.tar.gz|sudo tar
>>> fxz - -C /
>>>
>>
>> Those are necessary for building R, but not for packages. However, it
>> doesn't hurt ;).
>>
>>
>>> And of course, maybe I should bag it, admit I am over my head, and
>>> let some
>>> "expert" with dChip do it
>>>
>>> But then what the hell? Why not try it, if you can tolerate my
>>> questions
>>> that is, and I am closer to ReadAffy 64bit 81 cell as I now have
>>> command
>>> line 64bit R
>>>
>>
>> Yes :). Good luck.
>> I hope you have far more than 4GB of RAM in your machine, otherwise
>> the whole exercise is probably futile...
>>
>> Unfortunately I'm short of machines, so I can't offer more binaries
>> for now ...
>>
>> Cheers,
>> Simon
>>
>>
>>
>>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>>> Date: Thu, 13 Dec 2007 19:39:52 -0500
>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>>>
>>>>
>>>> On Dec 13, 2007, at 5:58 PM, Loren Engrav wrote:
>>>>
>>>>> Thank you, was helpful, is complicated for this geezer, but
>>>>> interesting
>>>>>
>>>>> The whole goal is to ReadAffy() on 81 chips which seems to need 64
>>>>> bit to
>>>>> avoid "cannot allocate vector...." error (or reduce chips or  
>>>>> analyze
>>>>> in
>>>>> pieces but not yet ready to give up on this)
>>>>>
>>>>> Other advisors advised
>>>>>
>>>>> "Install Leopard 10.5.1
>>>>>
>>>>> Now install either
>>>>>  R-2.6-branch-leopard-universal.tar.gz
>>>>> or
>>>>>  R-devel-leopard-universal.tar.gz
>>>>> depending on which version of BioC you want to use: the former is
>>>>> for BioC
>>>>> 2.1 (the current release) and the latter for BioC 2.2 (the current
>>>>> devel).
>>>>>
>>>>> Then start R with --arch=ppc64 and you will be running in 64-bit
>>>>> mode."
>>>>>
>>>>> So I installed Leopard and R-2.6-branch and start with R --
>>>>> arch=ppc64
>>>>>
>>>>> =========
>>>>> and as you suggested while running Command Line
>>>>>
>>>>>> version
>>>>>             _
>>>>> platform       powerpc-apple-darwin9.0.0
>>>>> arch           powerpc
>>>>> os             darwin9.0.0
>>>>> system         powerpc, darwin9.0.0
>>>>> status         Patched
>>>>> major          2
>>>>> minor          6.1
>>>>> year           2007
>>>>> month          12
>>>>> day            12
>>>>> svn rev        43661
>>>>> language       R
>>>>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>>>>>
>>>>>> .Machine$sizeof.pointer == 8
>>>>> [1] TRUE
>>>>>
>>>>>> R.version$arch
>>>>> [1] "powerpc"
>>>>>
>>>>>> .Platform$r_arch
>>>>> [1] "ppc64"
>>>>>
>>>>> ============
>>>>> Then I run R.app with options(arch="ppc64") in .Rprofile
>>>>>
>>>>
>>>> That is a really bad idea (see the response you got previously).  
>>>> You
>>>> cannot change the architecture in a running R and you also cannot  
>>>> use
>>>> 32-bit R.app with 64-bit R. If you want 64-bit R and the GUI, you
>>>> have
>>>> to use 64-bit R.app (which you have to build from the sources).  
>>>> Also
>>>> note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI
>>>> won't be of much use. You have to use R-devel for Quartz in 64-bit.
>>>>
>>>>
>>>>> And get
>>>>>
>>>>>> version
>>>>>             _
>>>>> platform       powerpc-apple-darwin9.1.0
>>>>> arch           powerpc
>>>>> os             darwin9.1.0
>>>>> system         powerpc, darwin9.1.0
>>>>> status         Patched
>>>>> major          2
>>>>> minor          6.1
>>>>> year           2007
>>>>> month          12
>>>>> day            12
>>>>> svn rev        43661
>>>>> language       R
>>>>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>>>>>
>>>>>> .Machine$sizeof.pointer == 8
>>>>> [1] FALSE
>>>>>
>>>>>> R.version$arch
>>>>> [1] "powerpc"
>>>>>
>>>>>> .Platform$r_arch
>>>>> [1] "ppc"
>>>>>>
>>>>>
>>>>> So would then seem at Command Line I have 64 but in R.app I do not
>>>>>
>>>>> ============
>>>>> Then I try biocLite("preprocessCore") at Command Line and returns
>>>>>
>>>>>> .Platform$r_arch
>>>>> [1] "ppc64"
>>>>>> sessionInfo()
>>>>> R version 2.6.1 Patched (2007-12-12 r43661)
>>>>> powerpc-apple-darwin9.0.0
>>>>>
>>>>> locale:
>>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>
>>>>> attached base packages:
>>>>> [1] stats     graphics  grDevices utils     datasets  methods    
>>>>> base
>>>>>
>>>>> loaded via a namespace (and not attached):
>>>>> [1] rcompgen_0.1-17
>>>>>> source("http://bioconductor.org/biocLite.R")
>>>>>> biocLite("preprocessCore")
>>>>>
>>>>> Running biocinstall version 2.1.8 with R version 2.6.1
>>>>> Your version of R requires version 2.1 of Bioconductor.
>>>>> trying URL
>>>>>
> 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6 
> >>>>
> /
>>>>> preprocessCore_1.0.0.tgz'
>>>>> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
>>>>> opened URL
>>>>> ==================================================
>>>>> downloaded 153 Kb
>>>>>
>>>>>
>>>>> The downloaded packages are in
>>>>>
>>>>> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//RtmpHcRo5R/
>>>>> downloaded_pac
>>>>> kages
>>>>>> library(preprocessCore)
>>>>> Error: package 'preprocessCore' is not installed for 'arch=ppc64'
>>>>>>
>>>>>
>>>>
>>>> I bet you didn't install the package from sources. CRAN/BioC offer
>>>> 32-
>>>> bit package binaries only, so you have to install all packages from
>>>> sources (i.e. you must use type='source' in install.packages). Also
>>>> you need all the necessary tools for this (please read the page you
>>>> got the binaries from).
>>>>
>>>> Cheers,
>>>> Simon
>>>>
>>>>
>>>>> ===============
>>>>> Then I try same with R.app and returns
>>>>>
>>>>>> .Platform$r_arch
>>>>> [1] "ppc"
>>>>>> sessionInfo()
>>>>> R version 2.6.1 Patched (2007-12-12 r43661)
>>>>> powerpc-apple-darwin9.1.0
>>>>>
>>>>> locale:
>>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>
>>>>> attached base packages:
>>>>> [1] stats     graphics  grDevices utils     datasets  methods    
>>>>> base
>>>>>>
>>>>>
>>>>>> source("http://bioconductor.org/biocLite.R")
>>>>>> biocLite("preprocessCore")
>>>>> Running biocinstall version 2.1.8 with R version 2.6.1
>>>>> Your version of R requires version 2.1 of Bioconductor.
>>>>> trying URL
>>>>>
> 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6 
> >>>>
> /
>>>>> preprocessCore_1.0.0.tgz'
>>>>> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
>>>>> opened URL
>>>>> ==================================================
>>>>> downloaded 153 Kb
>>>>>
>>>>>
>>>>> The downloaded packages are in
>>>>>
>>>>> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//Rtmp3VK9Rw/
>>>>> downloaded_pac
>>>>> kages
>>>>>
>>>>>
>>>>>> library(preprocessCore)
>>>>> Error in dyn.load(file, ...) :
>>>>> unable to load shared library
>>>>> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>>> libs/ppc/p
>>>>> reprocessCore.so':
>>>>>
>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/
>>>>> preprocessCore/libs
>>>>> /ppc/preprocessCore.so, 5): Library not loaded:
>>>>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/
>>>>> libgfortran.2.dyl
>>>>> ib
>>>>> Referenced from:
>>>>> /Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>>> libs/ppc/pr
>>>>> eprocessCore.so
>>>>> Reason: image not found
>>>>> Error in library(preprocessCore) : .First.lib failed for
>>>>> 'preprocessCore'
>>>>>
>>>>> =============
>>>>> So to me seems with your investigative advice
>>>>> 1) I have 64bit at command line
>>>>> 2) I do not have 64bit in R.app
>>>>> 3) preprocessCore is not 64bit (and other packages)
>>>>>
>>>>> So I am closer to 64bit ReadAffy of 81 files but still not there
>>>>>
>>>>> With your serious knowledge, how should I get to 64bit ReadAffy
>>>>>
>>>>> Thank you
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>>>> Date: Thu, 13 Dec 2007 17:00:36 +0000 (GMT)
>>>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>>>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>>>>>
>>>>>> The short answer is that the BioC binary packages are not 64-bit.
>>>>>> But
>>>>>> then neither is the CRAN build of R 2.6.1 nor the CRAN binary
>>>>>> packages.
>>>>>>
>>>>>> And very likely you are running a 32-bit R.
>>>>>>
>>>>>> On Thu, 13 Dec 2007, Loren Engrav wrote:
>>>>>>
>>>>>>> I tried
>>>>>>> options(arch="ppc64") in Rprofile
>>>>>>> and seems to have worked,
>>>>>>
>>>>>> I am sure it 'worked' for some value of 'worked', but what do you
>>>>>> think it
>>>>>> did?  You can't change the architecture of a running R process  
>>>>>> (and
>>>>>> you
>>>>>> need a running R process to use R code ...).  You find out  
>>>>>> whether
>>>>>> the
>>>>>> process is 64-bit by checking
>>>>>>
>>>>>> .Machine$sizeof.pointer == 8
>>>>>>
>>>>>> and R.version$arch will also indicate the architecture name  
>>>>>> (x86_64
>>>>>> on my
>>>>>> Macintel builds).
>>>>>>
>>>>>> The sub-architecture (if any) of the running process is given by
>>>>>> .Platform$r_arch and the user cannot change it (it was set at
>>>>>> configure
>>>>>> time).  From the output below, that is 'ppc'.  Not only do the
>>>>>> architectures need to match, but do the sub-architecture  
>>>>>> settings:
>>>>>> this is
>>>>>> easy to achieve when building everything yourself, but not when
>>>>>> taking
>>>>>> binaries built on different systems by different people at
>>>>>> different
>>>>>> times.
>>>>>>
>>>>>> So, it seems
>>>>>>
>>>>>> - you are running a 32-bit R.
>>>>>> - you are missing a Fortran library.
>>>>>>
>>>>>> Please do try to deduce from the output what the problem is, not
>>>>>> guess and
>>>>>> never test your guesses.
>>>>>>
>>>>>>> I think R.app is ppc64 in Leopard
>>>>>>
>>>>>> The CRAN build of 2.6.1 is not, and you haven't told us which  
>>>>>> build
>>>>>> you
>>>>>> are using.
>>>>>>
>>>>>> AFAIK if you want 64-bit, you need to build packages from  
>>>>>> sources.
>>>>>>
>>>>>> How to set all this up is AFAIK not fully documented, for the  
>>>>>> very
>>>>>> good
>>>>>> reason that it is *experimental*.  My understanding is that it is
>>>>>> intended
>>>>>> to support 64-bit MacOS binary builds from R 2.7.0 only.
>>>>>>
>>>>>>
>>>>>>
>>>>>>> But affy will not load as requires preprocessCore
>>>>>>>
>>>>>>> Library(preprocessCore) returns
>>>>>>>
>>>>>>> Error in dyn.load(file, ...) :
>>>>>>> unable to load shared library
>>>>>>> '/Library/Frameworks/R.framework/Resources/library/ 
>>>>>>> preprocessCore/
>>>>>>> libs/ppc/p
>>>>>>> reprocessCore.so':
>>>>>>>
>>>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/
>>>>>>> preprocessCore/libs
>>>>>>> /ppc/preprocessCore.so, 5): Library not loaded:
>>>>>>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/
>>>>>>> libgfortran.2.dyl
>>>>>>> ib
>>>>>>> Referenced from:
>>>>>>> /Library/Frameworks/R.framework/Resources/library/ 
>>>>>>> preprocessCore/
>>>>>>> libs/ppc/pr
>>>>>>> eprocessCore.so
>>>>>>> Reason: image not found
>>>>>>> Error in library(preprocessCore) : .First.lib failed for
>>>>>>> 'preprocessCore'
>>>>>>>
>>>>>>> I check libs in preprocessCore and find i386 and ppc, no ppc64
>>>>>>>
>>>>>>> Does this mean preprocessCore as it stands does not do ppc64?  
>>>>>>> Or I
>>>>>>> am
>>>>>>> getting the wrong one? Or I must build 64bit? Or?
>>>>>>>
>>>>>>> The original thread is in Bio but this seems like a Mac specific
>>>>>>> question
>>>>>>>
>>>>>>> Thank you
>>>>>>>
>>>>>>>
>>>>>>
>>>>>> -- 
>>>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/
>>>>>> ~ripley/
>>>>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>>>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>>>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>>
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From engrav at u.washington.edu  Fri Dec 14 22:15:16 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Fri, 14 Dec 2007 13:15:16 -0800
Subject: [R-SIG-Mac] Does preprocessCore do ppc64?
In-Reply-To: <C71B336C-3C2A-42B0-A958-9B7F4BA35584@r-project.org>
Message-ID: <C3883264.15D09%engrav@u.washington.edu>

 me on the cutting edge? Hot damn

 so I went to ADC and got gcc42preview1.dmg and installed same
 then read in directions set target to process "C source files" using "GCC
4.2" and said damn, have no clue
 then said, will ignore, and started up R and tried biocLite

 and voila, PACKAGES ARE BEING INSTALLED, CAN YOU BELIEVE IT?

 now I need affy to ReadAffy, but there are a bizillion dependencies laid
out in a large tree, and have been working down thru the tree having been
successful at maybe 10 files and have arrived at genefilter and this
returned

> biocLite("genefilter", type="source")
Running biocinstall version 2.1.8 with R version 2.6.1
Your version of R requires version 2.1 of Bioconductor.
trying URL 
'http://bioconductor.org/packages/2.1/bioc/src/contrib/genefilter_1.16.0.tar
.gz'
Content type 'application/x-gzip' length 242543 bytes (236 Kb)
opened URL
==================================================
downloaded 236 Kb

/Library/Frameworks/R.framework/Resources/library
* Installing *source* package 'genefilter' ...
** libs
** arch - ppc64
g++-4.2 -arch ppc64 -no-cpp-precomp
-I/Library/Frameworks/R.framework/Resources/include
-I/Library/Frameworks/R.framework/Resources/include/ppc64
-I/usr/local/include    -fPIC  -g -O2 -c half_range_mode.cpp -o
half_range_mode.o
powerpc-apple-darwin9-g++-4.2.1: unrecognized option '-no-cpp-precomp'
half_range_mode.cpp: In function ?double half_range_mode(double*, double*,
double, int)?:
half_range_mode.cpp:101: warning: deprecated conversion from string constant
to ?char*?
gcc-4.2 -arch ppc64 -std=gnu99 -no-cpp-precomp
-I/Library/Frameworks/R.framework/Resources/include
-I/Library/Frameworks/R.framework/Resources/include/ppc64
-I/usr/local/include    -fPIC  -g -O2 -c init.c -o init.o
powerpc-apple-darwin9-gcc-4.2.1: unrecognized option '-no-cpp-precomp'
gcc-4.2 -arch ppc64 -std=gnu99 -no-cpp-precomp
-I/Library/Frameworks/R.framework/Resources/include
-I/Library/Frameworks/R.framework/Resources/include/ppc64
-I/usr/local/include    -fPIC  -g -O2 -c nd.c -o nd.o
powerpc-apple-darwin9-gcc-4.2.1: unrecognized option '-no-cpp-precomp'
gcc-4.2 -arch ppc64 -std=gnu99 -no-cpp-precomp
-I/Library/Frameworks/R.framework/Resources/include
-I/Library/Frameworks/R.framework/Resources/include/ppc64
-I/usr/local/include    -fPIC  -g -O2 -c pAUC.c -o pAUC.o
powerpc-apple-darwin9-gcc-4.2.1: unrecognized option '-no-cpp-precomp'
gcc-4.2 -arch ppc64 -std=gnu99 -no-cpp-precomp
-I/Library/Frameworks/R.framework/Resources/include
-I/Library/Frameworks/R.framework/Resources/include/ppc64
-I/usr/local/include    -fPIC  -g -O2 -c rowPAUCs.c -o rowPAUCs.o
powerpc-apple-darwin9-gcc-4.2.1: unrecognized option '-no-cpp-precomp'
gcc-4.2 -arch ppc64 -std=gnu99 -no-cpp-precomp
-I/Library/Frameworks/R.framework/Resources/include
-I/Library/Frameworks/R.framework/Resources/include/ppc64
-I/usr/local/include    -fPIC  -g -O2 -c rowttests.c -o rowttests.o
powerpc-apple-darwin9-gcc-4.2.1: unrecognized option '-no-cpp-precomp'
gfortran-4.2 -arch ppc64   -fPIC  -g -O2 -c ttest.f -o ttest.o
g++-4.2 -arch ppc64 -dynamiclib -Wl,-headerpad_max_install_names
-Wl,-macosx_version_min -Wl,10.4 -undefined dynamic_lookup -single_module
-multiply_defined suppress -L/usr/local/lib -o genefilter.so
half_range_mode.o init.o nd.o pAUC.o rowPAUCs.o rowttests.o ttest.o
-lgfortran -lSystemStubs
-L/Library/Frameworks/R.framework/Resources/lib/ppc64 -lR -dylib_file
libRblas.dylib:/Library/Frameworks/R.framework/Resources/lib/ppc64/libRblas.
dylib 
** R
** data
**  moving datasets to lazyload DB
** inst
** preparing package for lazy loading
Loading required package: Biobase
Loading required package: tools

Welcome to Bioconductor

  Vignettes contain introductory material. To view, type
  'openVignette()'. To cite Bioconductor, see
  'citation("Biobase")' and for packages 'citation(pkgname)'.

Loading required package: survival
Loading required package: splines
Error in library.dynam(lib, package, package.lib) :
  shared library 'RSQLite' not found
Calls: <Anonymous> ... loadNamespace -> namespaceImport -> loadNamespace ->
library.dynam
Execution halted
ERROR: lazy loading failed for package 'genefilter'
** Removing '/Library/Frameworks/R.framework/Resources/library/genefilter'
** Restoring previous
'/Library/Frameworks/R.framework/Resources/library/genefilter'

The downloaded packages are in
    /private/tmp/Rtmpbv42ud/downloaded_packages
Updating HTML index of packages in '.Library'
Warning message:
In install.packages(pkgs = pkgs, repos = repos, dependencies = dependencies,
:
  installation of package 'genefilter' had non-zero exit status
> 

So say cannot find RSQLite

But installed.packages say

> installed.packages()
               Package
AnnotationDbi  "AnnotationDbi"
Biobase        "Biobase"
Biostrings     "Biostrings"
DBI            "DBI"
DynDoc         "DynDoc"
GO             "GO"
KEGG           "KEGG"
KernSmooth     "KernSmooth"
MASS           "MASS"
RColorBrewer   "RColorBrewer"
ROC            "ROC"
RSQLite        "RSQLite"
affy           "affy"
affyPLM        "affyPLM"
affyQCReport   "affyQCReport"
affydata       "affydata"
affyio         "affyio"
annaffy        "annaffy"
annotate       "annotate"
base           "base"
boot           "boot"
class          "class"
cluster        "cluster"
codetools      "codetools"
datasets       "datasets"
foreign        "foreign"
gcrma          "gcrma"
genefilter     "genefilter"
geneplotter    "geneplotter"
grDevices      "grDevices"
graphics       "graphics"
grid           "grid"
hgu95av2       "hgu95av2"
lattice        "lattice"
limma          "limma"
marray         "marray"
matchprobes    "matchprobes"
methods        "methods"
mgcv           "mgcv"
multtest       "multtest"
nlme           "nlme"
nnet           "nnet"
preprocessCore "preprocessCore"
rcompgen       "rcompgen"
rpart          "rpart"
simpleaffy     "simpleaffy"
spatial        "spatial"
splines        "splines"
stats          "stats"
stats4         "stats4"
survival       "survival"
tcltk          "tcltk"
tools          "tools"
utils          "utils"
vsn            "vsn"
xtable         "xtable"

 with an RSQLite listed

 so if RSQLite is present, why can't biocLite find it?

 or have I missed something?

> sessionInfo()
R version 2.6.1 Patched (2007-12-12 r43661)
powerpc-apple-darwin9.0.0

locale:
en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

loaded via a namespace (and not attached):
[1] rcompgen_0.1-17 tools_2.6.1
> 

> .Platform$r_arch
[1] "ppc64"
> 





-- 
Loren Engrav
Univ Washington
Seattle


 

> From: Simon Urbanek <simon.urbanek at r-project.org>
> Date: Fri, 14 Dec 2007 14:15:17 -0500
> To: Loren Engrav <engrav at u.washington.edu>
> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
> 
> Ah, well, that's the problem when you live on the cutting edge ;).
> There is one more issue - the Leopard build uses gcc-4.2 from Apple.
> Unfortunately it's not part of Xcode 3.0 :/. There are three ways to
> fix this:
> 
> a) get gcc42preview1.dmg from Apple if you have ADC membership that
> includes previews.
> b) if you don't, you can install my build of gcc-42 from the R for Mac
> pages. It is similar, but not the same. However, use at your own risk.
> c) force R to use gcc-4.0. The easiest is probably to run this in
> Terminal:
> sudo ln -sfh gcc-4.0 /usr/bin/gcc-4.2
> sudo ln -sfh g++-4.0 /usr/bin/g++-4.2
> 
> a) is best if you have access to it, c) is least invasive and can be
> undone by
> sudo rm /usr/bin/gcc-4.2 /usr/bin/g++-4.2
> 
> Sorry, I forgot about this issue when responding earlier.
> 
> I can only repeat that this all is all experimental, we hope to have a
> more streamlined Leopard 64-bit support for R 2.7.0 including the GUI
> etc. Also using 64-bit is not necessarily better - it is a bit slower
> and pays off only with enough RAM (5-16GB).
> 
> Cheers,
> Simon
> 
> 
> On Dec 14, 2007, at 12:04 PM, Loren Engrav wrote:
> 
>> So my attempt to 64bit build failed, am so sorry
>> 
>>> biocLite("simpleaffy", type="source")
>> Running biocinstall version 2.1.8 with R version 2.6.1
>> Your version of R requires version 2.1 of Bioconductor.
>> trying URL
>> 'http://bioconductor.org/packages/2.1/bioc/src/contrib/simpleaffy_2.14.05.ta
>> r.gz'
>> Content type 'application/x-gzip' length 567142 bytes (553 Kb)
>> opened URL
>> ==================================================
>> downloaded 553 Kb
>> 
>> /Library/Frameworks/R.framework/Resources/library
>> * Installing *source* package 'simpleaffy' ...
>> ** libs
>> ** arch - ppc64
>> gcc-4.2 -arch ppc64 -std=gnu99 -no-cpp-precomp
>> -I/Library/Frameworks/R.framework/Resources/include
>> -I/Library/Frameworks/R.framework/Resources/include/ppc64
>> -I/usr/local/include    -fPIC  -g -O2 -c simpleaffy.c -o simpleaffy.o
>> /bin/bash: gcc-4.2: command not found
>> make: *** [simpleaffy.o] Error 127
>> chmod:
>> /Library/Frameworks/R.framework/Resources/library/simpleaffy/libs/
>> ppc64/*:
>> No such file or directory
>> ERROR: compilation failed for package 'simpleaffy'
>> ** Removing '/Library/Frameworks/R.framework/Resources/library/
>> simpleaffy'
>> ** Restoring previous
>> '/Library/Frameworks/R.framework/Resources/library/simpleaffy'
>> 
>> The downloaded packages are in
>>    /private/tmp/RtmpWzr4jD/downloaded_packages
>> Updating HTML index of packages in '.Library'
>> Warning message:
>> In install.packages(pkgs = pkgs, repos = repos, dependencies =
>> dependencies,
>> :
>>  installation of package 'simpleaffy' had non-zero exit status
>> 
>> 
>> 
>> 
>> Please recall in preparation for this I did
>> 
>> Previously installed (will change to R-devel later to get Quartz and
>> R.app)
>>>> R-2.6-branch
>>>> R 2.6.1 Patched (2007-12-13)
>> 
>> installed
>>>> Xcode 3 from the Leopard DVD and
>>>> GNU Fortan 4.2.1 and
>>>> LaTeX
>>>> And did in Terminal...
>>>> export PATH=$PATH:/usr/local/bin and
>>>> curl -s -S http://r.research.att.com/readline-5.2-1-quad.tar.gz|
>>>> sudo tar fxz
>> - -C / and
>>>> curl -s -S http://r.research.att.com/jpegpng-quad.tar.gz|sudo tar
>>>> fxz - -C /
>> 
>> And to fire up did
>>>> sudo R --arch="ppc64"
>> 
>> And sessionInfo say
>>> sessionInfo()
>> R version 2.6.1 Patched (2007-12-12 r43661)
>> powerpc-apple-darwin9.0.0
>> 
>> locale:
>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>> 
>> loaded via a namespace (and not attached):
>> [1] rcompgen_0.1-17 tools_2.6.1
>> 
>> And .Platform say
>>> .Platform$r_arch
>> [1] "ppc64"
>>> 
>> 
>> And version say
>>> version
>>               _
>> platform       powerpc-apple-darwin9.0.0
>> arch           powerpc
>> os             darwin9.0.0
>> system         powerpc, darwin9.0.0
>> status         Patched
>> major          2
>> minor          6.1
>> year           2007
>> month          12
>> day            12
>> svn rev        43661
>> language       R
>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>> 
>> And echo say
>> Loren-Engravs-Dual-G5:bin engrav$ echo $PATH
>> /usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/usr/texbin:/usr/X11/bin
>> 
>> There is gfortran-4.2 in /usr/local/bin
>> 
>> All on Leopard 10.5.1 and G5 dual 2gh ppc
>> 
>> There are a bizillion google pages about
>>>> /bin/bash: gcc-4.2: command not found
>>>> make: *** [simpleaffy.o] Error 127
>> 
>> How to fix this on this system?
>> 
>> Thank you
>> 
>> 
>> -- 
>> Loren Engrav
>> Univ Washington
>> Seattle
>> 
>> 
>> 
>> 
>> 
>> 
>> 
>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>> Date: Fri, 14 Dec 2007 09:54:15 -0500
>>> To: Loren Engrav <engrav at u.washington.edu>
>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>> 
>>> 
>>> On Dec 13, 2007, at 11:29 PM, Loren Engrav wrote:
>>> 
>>>> Thank you, maybe is coming into focus
>>>> 
>>>>>> Then I run R.app with options(arch="ppc64") in .Rprofile
>>>>>> That is a really bad idea (see the response you got previously).
>>>> 
>>>> Would appear that I have proven what you say is true
>>>> 
>>>>>> I bet you didn't install the package from sources. CRAN/BioC offer
>>>>>> 32-
>>>>>> bit package binaries only, so you have to install all packages
>>>>>> from
>>>>>> sources (i.e. you must use type='source' in install.packages).
>>>>>> Also
>>>>>> you need all the necessary tools for this (please read the page
>>>>>> you
>>>>>> got the binaries from).
>>>> 
>>>> Couple lines up I included
>>>> 
>>>>>>> source("http://bioconductor.org/biocLite.R")
>>>>>>> biocLite("preprocessCore")
>>>> 
>>>> Again proving you correct
>>>> 
>>>> And I see the directions on <http://r.research.att.com/> are
>>>> changing which
>>>> is good for R/Bio R1's
>>>> 
>>>> So now what I wish to do is 64bit Readaffy
>>>> And can use 64bit command line which is painful but would work
>>>> But have no 64bit Bio packages
>>>> 
>>>> As I understand now
>>>> To get 64bit R.app I must get the tools and build it
>>>> To get 64bit Bio packages I must get the tools and build them
>>>> 
>>>> I might try this being this deep into this and finding it rather fun
>>>> 
>>>> One question before I start
>>>> You say
>>>>> note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI
>>>>> won't be of much use. You have to use R-devel for Quartz in 64-bit.
>>>> 
>>>> This means that from <http://r.research.att.com/>
>>>>> R-2.6-branch
>>>>> R 2.6.1 Patched (2007-12-12)
>>>> Will not work, I MUST use
>>>>> R-devel
>>>>> R 2.7.0 Under development
>>>>> (unstable) (2007-12-12)
>>>> True? Even tho neither include R.app?
>>>> 
>>> 
>>> You don't have to, but you won't have Quartz graphics. You can still
>>> use the command line and X11 graphics in R 2.6.1. You indicated that
>>> you are interested in using R.app, so I just felt that I should warn
>>> you ;).
>>> 
>>> 
>>>> In preparation for this I have installed
>>>> Xcode 3 from the Leopard DVD
>>>> And
>>>> GNU Fortan 4.2.1
>>> 
>>> That's all you really need. Everything else is optional.
>>> 
>>>> 
>>>> And
>>>> Will install LaTeX after massive download done
>>>> 
>>>> And did in Terminal...
>>>> export PATH=$PATH:/usr/local/bin
>>>> and
>>>> curl -s -S http://r.research.att.com/readline-5.2-1-quad.tar.gz|sudo
>>>> tar fxz
>>>> - -C /
>>>> and
>>>> curl -s -S http://r.research.att.com/jpegpng-quad.tar.gz|sudo tar
>>>> fxz - -C /
>>>> 
>>> 
>>> Those are necessary for building R, but not for packages. However, it
>>> doesn't hurt ;).
>>> 
>>> 
>>>> And of course, maybe I should bag it, admit I am over my head, and
>>>> let some
>>>> "expert" with dChip do it
>>>> 
>>>> But then what the hell? Why not try it, if you can tolerate my
>>>> questions
>>>> that is, and I am closer to ReadAffy 64bit 81 cell as I now have
>>>> command
>>>> line 64bit R
>>>> 
>>> 
>>> Yes :). Good luck.
>>> I hope you have far more than 4GB of RAM in your machine, otherwise
>>> the whole exercise is probably futile...
>>> 
>>> Unfortunately I'm short of machines, so I can't offer more binaries
>>> for now ...
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>> 
>>>>> From: Simon Urbanek <simon.urbanek at r-project.org>
>>>>> Date: Thu, 13 Dec 2007 19:39:52 -0500
>>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>>>> 
>>>>> 
>>>>> On Dec 13, 2007, at 5:58 PM, Loren Engrav wrote:
>>>>> 
>>>>>> Thank you, was helpful, is complicated for this geezer, but
>>>>>> interesting
>>>>>> 
>>>>>> The whole goal is to ReadAffy() on 81 chips which seems to need 64
>>>>>> bit to
>>>>>> avoid "cannot allocate vector...." error (or reduce chips or
>>>>>> analyze
>>>>>> in
>>>>>> pieces but not yet ready to give up on this)
>>>>>> 
>>>>>> Other advisors advised
>>>>>> 
>>>>>> "Install Leopard 10.5.1
>>>>>> 
>>>>>> Now install either
>>>>>>  R-2.6-branch-leopard-universal.tar.gz
>>>>>> or
>>>>>>  R-devel-leopard-universal.tar.gz
>>>>>> depending on which version of BioC you want to use: the former is
>>>>>> for BioC
>>>>>> 2.1 (the current release) and the latter for BioC 2.2 (the current
>>>>>> devel).
>>>>>> 
>>>>>> Then start R with --arch=ppc64 and you will be running in 64-bit
>>>>>> mode."
>>>>>> 
>>>>>> So I installed Leopard and R-2.6-branch and start with R --
>>>>>> arch=ppc64
>>>>>> 
>>>>>> =========
>>>>>> and as you suggested while running Command Line
>>>>>> 
>>>>>>> version
>>>>>>             _
>>>>>> platform       powerpc-apple-darwin9.0.0
>>>>>> arch           powerpc
>>>>>> os             darwin9.0.0
>>>>>> system         powerpc, darwin9.0.0
>>>>>> status         Patched
>>>>>> major          2
>>>>>> minor          6.1
>>>>>> year           2007
>>>>>> month          12
>>>>>> day            12
>>>>>> svn rev        43661
>>>>>> language       R
>>>>>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>>>>>> 
>>>>>>> .Machine$sizeof.pointer == 8
>>>>>> [1] TRUE
>>>>>> 
>>>>>>> R.version$arch
>>>>>> [1] "powerpc"
>>>>>> 
>>>>>>> .Platform$r_arch
>>>>>> [1] "ppc64"
>>>>>> 
>>>>>> ============
>>>>>> Then I run R.app with options(arch="ppc64") in .Rprofile
>>>>>> 
>>>>> 
>>>>> That is a really bad idea (see the response you got previously).
>>>>> You
>>>>> cannot change the architecture in a running R and you also cannot
>>>>> use
>>>>> 32-bit R.app with 64-bit R. If you want 64-bit R and the GUI, you
>>>>> have
>>>>> to use 64-bit R.app (which you have to build from the sources).
>>>>> Also
>>>>> note that R 2.6.1 doesn't have Quartz support in 64-bit, so the GUI
>>>>> won't be of much use. You have to use R-devel for Quartz in 64-bit.
>>>>> 
>>>>> 
>>>>>> And get
>>>>>> 
>>>>>>> version
>>>>>>             _
>>>>>> platform       powerpc-apple-darwin9.1.0
>>>>>> arch           powerpc
>>>>>> os             darwin9.1.0
>>>>>> system         powerpc, darwin9.1.0
>>>>>> status         Patched
>>>>>> major          2
>>>>>> minor          6.1
>>>>>> year           2007
>>>>>> month          12
>>>>>> day            12
>>>>>> svn rev        43661
>>>>>> language       R
>>>>>> version.string R version 2.6.1 Patched (2007-12-12 r43661)
>>>>>> 
>>>>>>> .Machine$sizeof.pointer == 8
>>>>>> [1] FALSE
>>>>>> 
>>>>>>> R.version$arch
>>>>>> [1] "powerpc"
>>>>>> 
>>>>>>> .Platform$r_arch
>>>>>> [1] "ppc"
>>>>>>> 
>>>>>> 
>>>>>> So would then seem at Command Line I have 64 but in R.app I do not
>>>>>> 
>>>>>> ============
>>>>>> Then I try biocLite("preprocessCore") at Command Line and returns
>>>>>> 
>>>>>>> .Platform$r_arch
>>>>>> [1] "ppc64"
>>>>>>> sessionInfo()
>>>>>> R version 2.6.1 Patched (2007-12-12 r43661)
>>>>>> powerpc-apple-darwin9.0.0
>>>>>> 
>>>>>> locale:
>>>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>> 
>>>>>> attached base packages:
>>>>>> [1] stats     graphics  grDevices utils     datasets  methods
>>>>>> base
>>>>>> 
>>>>>> loaded via a namespace (and not attached):
>>>>>> [1] rcompgen_0.1-17
>>>>>>> source("http://bioconductor.org/biocLite.R")
>>>>>>> biocLite("preprocessCore")
>>>>>> 
>>>>>> Running biocinstall version 2.1.8 with R version 2.6.1
>>>>>> Your version of R requires version 2.1 of Bioconductor.
>>>>>> trying URL
>>>>>> 
>> 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6
>>>>>> 
>> /
>>>>>> preprocessCore_1.0.0.tgz'
>>>>>> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
>>>>>> opened URL
>>>>>> ==================================================
>>>>>> downloaded 153 Kb
>>>>>> 
>>>>>> 
>>>>>> The downloaded packages are in
>>>>>> 
>>>>>> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//RtmpHcRo5R/
>>>>>> downloaded_pac
>>>>>> kages
>>>>>>> library(preprocessCore)
>>>>>> Error: package 'preprocessCore' is not installed for 'arch=ppc64'
>>>>>>> 
>>>>>> 
>>>>> 
>>>>> I bet you didn't install the package from sources. CRAN/BioC offer
>>>>> 32-
>>>>> bit package binaries only, so you have to install all packages from
>>>>> sources (i.e. you must use type='source' in install.packages). Also
>>>>> you need all the necessary tools for this (please read the page you
>>>>> got the binaries from).
>>>>> 
>>>>> Cheers,
>>>>> Simon
>>>>> 
>>>>> 
>>>>>> ===============
>>>>>> Then I try same with R.app and returns
>>>>>> 
>>>>>>> .Platform$r_arch
>>>>>> [1] "ppc"
>>>>>>> sessionInfo()
>>>>>> R version 2.6.1 Patched (2007-12-12 r43661)
>>>>>> powerpc-apple-darwin9.1.0
>>>>>> 
>>>>>> locale:
>>>>>> en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>>>>> 
>>>>>> attached base packages:
>>>>>> [1] stats     graphics  grDevices utils     datasets  methods
>>>>>> base
>>>>>>> 
>>>>>> 
>>>>>>> source("http://bioconductor.org/biocLite.R")
>>>>>>> biocLite("preprocessCore")
>>>>>> Running biocinstall version 2.1.8 with R version 2.6.1
>>>>>> Your version of R requires version 2.1 of Bioconductor.
>>>>>> trying URL
>>>>>> 
>> 'http://bioconductor.org/packages/2.1/bioc/bin/macosx/universal/contrib/2.6
>>>>>> 
>> /
>>>>>> preprocessCore_1.0.0.tgz'
>>>>>> Content type 'application/x-gzip' length 157468 bytes (153 Kb)
>>>>>> opened URL
>>>>>> ==================================================
>>>>>> downloaded 153 Kb
>>>>>> 
>>>>>> 
>>>>>> The downloaded packages are in
>>>>>> 
>>>>>> /var/folders/-O/-O2rx2VN2RWJgU+8ZMxMx++++TI/-Tmp-//Rtmp3VK9Rw/
>>>>>> downloaded_pac
>>>>>> kages
>>>>>> 
>>>>>> 
>>>>>>> library(preprocessCore)
>>>>>> Error in dyn.load(file, ...) :
>>>>>> unable to load shared library
>>>>>> '/Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>>>> libs/ppc/p
>>>>>> reprocessCore.so':
>>>>>> 
>>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/
>>>>>> preprocessCore/libs
>>>>>> /ppc/preprocessCore.so, 5): Library not loaded:
>>>>>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/
>>>>>> libgfortran.2.dyl
>>>>>> ib
>>>>>> Referenced from:
>>>>>> /Library/Frameworks/R.framework/Resources/library/preprocessCore/
>>>>>> libs/ppc/pr
>>>>>> eprocessCore.so
>>>>>> Reason: image not found
>>>>>> Error in library(preprocessCore) : .First.lib failed for
>>>>>> 'preprocessCore'
>>>>>> 
>>>>>> =============
>>>>>> So to me seems with your investigative advice
>>>>>> 1) I have 64bit at command line
>>>>>> 2) I do not have 64bit in R.app
>>>>>> 3) preprocessCore is not 64bit (and other packages)
>>>>>> 
>>>>>> So I am closer to 64bit ReadAffy of 81 files but still not there
>>>>>> 
>>>>>> With your serious knowledge, how should I get to 64bit ReadAffy
>>>>>> 
>>>>>> Thank you
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>>> From: Prof Brian Ripley <ripley at stats.ox.ac.uk>
>>>>>>> Date: Thu, 13 Dec 2007 17:00:36 +0000 (GMT)
>>>>>>> To: Loren Engrav <engrav at u.washington.edu>
>>>>>>> Cc: "r-sig-mac at stat.math.ethz.ch" <r-sig-mac at stat.math.ethz.ch>
>>>>>>> Subject: Re: [R-SIG-Mac] Does preprocessCore do ppc64?
>>>>>>> 
>>>>>>> The short answer is that the BioC binary packages are not 64-bit.
>>>>>>> But
>>>>>>> then neither is the CRAN build of R 2.6.1 nor the CRAN binary
>>>>>>> packages.
>>>>>>> 
>>>>>>> And very likely you are running a 32-bit R.
>>>>>>> 
>>>>>>> On Thu, 13 Dec 2007, Loren Engrav wrote:
>>>>>>> 
>>>>>>>> I tried
>>>>>>>> options(arch="ppc64") in Rprofile
>>>>>>>> and seems to have worked,
>>>>>>> 
>>>>>>> I am sure it 'worked' for some value of 'worked', but what do you
>>>>>>> think it
>>>>>>> did?  You can't change the architecture of a running R process
>>>>>>> (and
>>>>>>> you
>>>>>>> need a running R process to use R code ...).  You find out
>>>>>>> whether
>>>>>>> the
>>>>>>> process is 64-bit by checking
>>>>>>> 
>>>>>>> .Machine$sizeof.pointer == 8
>>>>>>> 
>>>>>>> and R.version$arch will also indicate the architecture name
>>>>>>> (x86_64
>>>>>>> on my
>>>>>>> Macintel builds).
>>>>>>> 
>>>>>>> The sub-architecture (if any) of the running process is given by
>>>>>>> .Platform$r_arch and the user cannot change it (it was set at
>>>>>>> configure
>>>>>>> time).  From the output below, that is 'ppc'.  Not only do the
>>>>>>> architectures need to match, but do the sub-architecture
>>>>>>> settings:
>>>>>>> this is
>>>>>>> easy to achieve when building everything yourself, but not when
>>>>>>> taking
>>>>>>> binaries built on different systems by different people at
>>>>>>> different
>>>>>>> times.
>>>>>>> 
>>>>>>> So, it seems
>>>>>>> 
>>>>>>> - you are running a 32-bit R.
>>>>>>> - you are missing a Fortran library.
>>>>>>> 
>>>>>>> Please do try to deduce from the output what the problem is, not
>>>>>>> guess and
>>>>>>> never test your guesses.
>>>>>>> 
>>>>>>>> I think R.app is ppc64 in Leopard
>>>>>>> 
>>>>>>> The CRAN build of 2.6.1 is not, and you haven't told us which
>>>>>>> build
>>>>>>> you
>>>>>>> are using.
>>>>>>> 
>>>>>>> AFAIK if you want 64-bit, you need to build packages from
>>>>>>> sources.
>>>>>>> 
>>>>>>> How to set all this up is AFAIK not fully documented, for the
>>>>>>> very
>>>>>>> good
>>>>>>> reason that it is *experimental*.  My understanding is that it is
>>>>>>> intended
>>>>>>> to support 64-bit MacOS binary builds from R 2.7.0 only.
>>>>>>> 
>>>>>>> 
>>>>>>> 
>>>>>>>> But affy will not load as requires preprocessCore
>>>>>>>> 
>>>>>>>> Library(preprocessCore) returns
>>>>>>>> 
>>>>>>>> Error in dyn.load(file, ...) :
>>>>>>>> unable to load shared library
>>>>>>>> '/Library/Frameworks/R.framework/Resources/library/
>>>>>>>> preprocessCore/
>>>>>>>> libs/ppc/p
>>>>>>>> reprocessCore.so':
>>>>>>>> 
>>>>>>>> dlopen(/Library/Frameworks/R.framework/Resources/library/
>>>>>>>> preprocessCore/libs
>>>>>>>> /ppc/preprocessCore.so, 5): Library not loaded:
>>>>>>>> /Library/Frameworks/R.framework/Versions/2.6/Resources/lib/
>>>>>>>> libgfortran.2.dyl
>>>>>>>> ib
>>>>>>>> Referenced from:
>>>>>>>> /Library/Frameworks/R.framework/Resources/library/
>>>>>>>> preprocessCore/
>>>>>>>> libs/ppc/pr
>>>>>>>> eprocessCore.so
>>>>>>>> Reason: image not found
>>>>>>>> Error in library(preprocessCore) : .First.lib failed for
>>>>>>>> 'preprocessCore'
>>>>>>>> 
>>>>>>>> I check libs in preprocessCore and find i386 and ppc, no ppc64
>>>>>>>> 
>>>>>>>> Does this mean preprocessCore as it stands does not do ppc64?
>>>>>>>> Or I
>>>>>>>> am
>>>>>>>> getting the wrong one? Or I must build 64bit? Or?
>>>>>>>> 
>>>>>>>> The original thread is in Bio but this seems like a Mac specific
>>>>>>>> question
>>>>>>>> 
>>>>>>>> Thank you
>>>>>>>> 
>>>>>>>> 
>>>>>>> 
>>>>>>> -- 
>>>>>>> Brian D. Ripley,                  ripley at stats.ox.ac.uk
>>>>>>> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/
>>>>>>> ~ripley/
>>>>>>> University of Oxford,             Tel:  +44 1865 272861 (self)
>>>>>>> 1 South Parks Road,                     +44 1865 272866 (PA)
>>>>>>> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>>> 
>>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> 
>>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 


From jo.irisson at gmail.com  Fri Dec 14 23:57:28 2007
From: jo.irisson at gmail.com (jiho)
Date: Fri, 14 Dec 2007 23:57:28 +0100
Subject: [R-SIG-Mac] .svn directory installed with R
In-Reply-To: <61C20C47-A31C-4BE0-89CC-8CBC2171340D@r-project.org>
References: <D698F92C-58A8-4290-8852-C01AF3FCDD83@gmail.com>
	<61C20C47-A31C-4BE0-89CC-8CBC2171340D@r-project.org>
Message-ID: <EB281221-FDF7-4063-B9EA-DA959BADD4E4@gmail.com>


On 2007-December-14  , at 15:45 , Simon Urbanek wrote:
> On Dec 10, 2007, at 5:10 PM, jiho wrote:
>> This has been true for several versions already but I did not  
>> reported
>> it before: installing R puts some .svn directories a bit all around
>> (in / and in /Applications at least). I don't know whether this is a
>> "feature" but this is particularly annoying when using svn for other
>> purposes: my whole disk is recognised as an svn checkout. I use
>> SCPlugin which means I have badges everywhere too, and so on and so
>> forth.
>
> Thank you for your report, but please stick to the facts,  
> embellishing your reports with fiction is rather counter-productive.

Well, it's not fiction it is reality (mine at least). I was just:
- giving information on the time the behavior appeared
- pointing reasons why I thought it was annoying, in case this  
behavior was considered as a feature
Not a state of the art bug report but I won't consider it as fiction.

>> So: why are those directories installed?
>
> Because the root of the packaging was stored in the svn and the  
> installer has apparently copied that root .svn directory.
>
>> Can it be changed?
>
> Yes, done (for nightly builds and future releases).

Thanks.

JiHO
---
http://jo.irisson.free.fr/


From steve at biostat.ucsf.edu  Sun Dec 16 00:49:16 2007
From: steve at biostat.ucsf.edu (Stephen Shiboski)
Date: Sat, 15 Dec 2007 15:49:16 -0800
Subject: [R-SIG-Mac] Make check error building R 2.6.1 under OS-X 10.4.11
Message-ID: <7BC2BB3C-80AA-4685-B357-9C42A035E002@biostat.ucsf.edu>

Trying to build R 2.6.1 on a G5 imac running OS X 10.4.11. I am using  
Xcode 2.4.1 and the gfortran (4.2.1) from r.research.att.com/tools/.  
I am using following the configuration:

./configure --with-aqua --with-blas='-framework vecLib' --with-lapack  
--with-jpeglib --with-libpng


Builds fine, but make check fails as follows:

running code in 'd-p-q-r-tests.R' ...make[3]: *** [d-p-q-r- 
tests.Rout] Error 1
make[2]: *** [test-Specific] Error 2
make[1]: *** [test-all-basics] Error 1
make: *** [check] Error 2

Here's the error:

Error: dbeta(0, 0.9, 2.2, ncp = c(0, a)) == Inf is not all TRUE
In addition: Warning message:
In dnbeta(x, shape1, shape2, ncp, log) : NaNs produced
Execution halted

I sucessfully built and checked 2.5.1 using the same set-up. The only  
thing that changed was the update to OS X 10.4.11 from 10.4.10.

It builds & checks fine on my Intel machine with the same Xcode and  
gfortran.

Any suggestions greatly appreciated. Thanks,

S Shiboski
Biostatistics
UC San Francisco


From simon.urbanek at r-project.org  Sun Dec 16 02:32:24 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 15 Dec 2007 20:32:24 -0500
Subject: [R-SIG-Mac] Make check error building R 2.6.1 under OS-X 10.4.11
In-Reply-To: <7BC2BB3C-80AA-4685-B357-9C42A035E002@biostat.ucsf.edu>
References: <7BC2BB3C-80AA-4685-B357-9C42A035E002@biostat.ucsf.edu>
Message-ID: <44677288-04FE-46B3-878C-1B05F8FD1B08@r-project.org>

On Dec 15, 2007, at 6:49 PM, Stephen Shiboski wrote:

> Trying to build R 2.6.1 on a G5 imac running OS X 10.4.11. I am using
> Xcode 2.4.1 and the gfortran (4.2.1) from r.research.att.com/tools/.
> I am using following the configuration:
>
> ./configure --with-aqua --with-blas='-framework vecLib' --with-lapack
> --with-jpeglib --with-libpng
>
>
> Builds fine, but make check fails as follows:
>
> running code in 'd-p-q-r-tests.R' ...make[3]: *** [d-p-q-r-
> tests.Rout] Error 1
> make[2]: *** [test-Specific] Error 2
> make[1]: *** [test-all-basics] Error 1
> make: *** [check] Error 2
>
> Here's the error:
>
> Error: dbeta(0, 0.9, 2.2, ncp = c(0, a)) == Inf is not all TRUE
> In addition: Warning message:
> In dnbeta(x, shape1, shape2, ncp, log) : NaNs produced
> Execution halted
>
> I sucessfully built and checked 2.5.1 using the same set-up. The only
> thing that changed was the update to OS X 10.4.11 from 10.4.10.
>
> It builds & checks fine on my Intel machine with the same Xcode and
> gfortran.
>

The issue is known and appears to be a problem with a specific version  
of Apple's compilers generating incorrect ppc code. It goes away when  
you update to Apple's gcc 4.2 (or probably also when you revert to  
older compilers, although I didn't test that route specifically).

However, I'm surprised that 2.5.1 would work *if* you had exactly the  
same setup, because the dbeta source code didn't change since 2.5.1 at  
all. Are you 100% sure that you had exactly the same compiler versions  
as now?

Cheers,
Simon


From engrav at u.washington.edu  Sun Dec 16 03:29:25 2007
From: engrav at u.washington.edu (Loren Engrav)
Date: Sat, 15 Dec 2007 18:29:25 -0800
Subject: [R-SIG-Mac] Does preprocessCore do ppc64?
In-Reply-To: <C3883264.15D09%engrav@u.washington.edu>
Message-ID: <C389CD85.15D93%engrav@u.washington.edu>

I installed RSQLite over top of the old one and that solved the problem

Project is now over as I can ReadAffy and QCReport on the 81 .cel files in
64bit R/Bio

Will finish off in Bio thread also as that is where it started

Thank you all for the considerable help, I am grateful

-- 
Loren Engrav
Univ Washington
Seattle


From steve at biostat.ucsf.edu  Sun Dec 16 04:47:58 2007
From: steve at biostat.ucsf.edu (Stephen Shiboski)
Date: Sat, 15 Dec 2007 19:47:58 -0800
Subject: [R-SIG-Mac] Make check error building R 2.6.1 under OS-X 10.4.11
In-Reply-To: <44677288-04FE-46B3-878C-1B05F8FD1B08@r-project.org>
References: <7BC2BB3C-80AA-4685-B357-9C42A035E002@biostat.ucsf.edu>
	<44677288-04FE-46B3-878C-1B05F8FD1B08@r-project.org>
Message-ID: <126EC1E5-151C-4F64-8A20-BCE901049DDF@biostat.ucsf.edu>

Thanks a lot. I noticed that there is a binary for gcc 4.2.1  
(gcc-42-5531-darwin8.tar.gz) on the R developer's page. If this is  
the same as what Apple provides, I can install this.

I also noticed that the code for dbeta.c hadn't changed since 2.5.1.  
So, I just re-built 2.5.1 on the same machine and it makes & checks w/ 
o errors!

-S

On Dec 15, 2007, at 5:32 PM, Simon Urbanek wrote:

> On Dec 15, 2007, at 6:49 PM, Stephen Shiboski wrote:
>
>> Trying to build R 2.6.1 on a G5 imac running OS X 10.4.11. I am using
>> Xcode 2.4.1 and the gfortran (4.2.1) from r.research.att.com/tools/.
>> I am using following the configuration:
>>
>> ./configure --with-aqua --with-blas='-framework vecLib' --with-lapack
>> --with-jpeglib --with-libpng
>>
>>
>> Builds fine, but make check fails as follows:
>>
>> running code in 'd-p-q-r-tests.R' ...make[3]: *** [d-p-q-r-
>> tests.Rout] Error 1
>> make[2]: *** [test-Specific] Error 2
>> make[1]: *** [test-all-basics] Error 1
>> make: *** [check] Error 2
>>
>> Here's the error:
>>
>> Error: dbeta(0, 0.9, 2.2, ncp = c(0, a)) == Inf is not all TRUE
>> In addition: Warning message:
>> In dnbeta(x, shape1, shape2, ncp, log) : NaNs produced
>> Execution halted
>>
>> I sucessfully built and checked 2.5.1 using the same set-up. The only
>> thing that changed was the update to OS X 10.4.11 from 10.4.10.
>>
>> It builds & checks fine on my Intel machine with the same Xcode and
>> gfortran.
>>
>
> The issue is known and appears to be a problem with a specific  
> version of Apple's compilers generating incorrect ppc code. It goes  
> away when you update to Apple's gcc 4.2 (or probably also when you  
> revert to older compilers, although I didn't test that route  
> specifically).
>
> However, I'm surprised that 2.5.1 would work *if* you had exactly  
> the same setup, because the dbeta source code didn't change since  
> 2.5.1 at all. Are you 100% sure that you had exactly the same  
> compiler versions as now?
>
> Cheers,
> Simon
>


From simon.urbanek at r-project.org  Sun Dec 16 15:21:06 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 16 Dec 2007 09:21:06 -0500
Subject: [R-SIG-Mac] Make check error building R 2.6.1 under OS-X 10.4.11
In-Reply-To: <126EC1E5-151C-4F64-8A20-BCE901049DDF@biostat.ucsf.edu>
References: <7BC2BB3C-80AA-4685-B357-9C42A035E002@biostat.ucsf.edu>
	<44677288-04FE-46B3-878C-1B05F8FD1B08@r-project.org>
	<126EC1E5-151C-4F64-8A20-BCE901049DDF@biostat.ucsf.edu>
Message-ID: <02C21D09-030C-46C7-81B4-9D65A861B160@r-project.org>


On Dec 15, 2007, at 10:47 PM, Stephen Shiboski wrote:

> Thanks a lot. I noticed that there is a binary for gcc 4.2.1  
> (gcc-42-5531-darwin8.tar.gz) on the R developer's page. If this is  
> the same as what Apple provides, I can install this.
>

It is built from the same sources... (Apple doesn't provide gcc-4.2  
binaries for Mac OS X 10.4)


> I also noticed that the code for dbeta.c hadn't changed since 2.5.1.  
> So, I just re-built 2.5.1 on the same machine and it makes & checks  
> w/o errors!
>

Ah, oh .. that is indeed interesting ... and does that build return  
all Inf for:
dbeta(0, 0.9, 2.2, ncp = rlnorm(100))

If so, then I shall have a closer look ...

Thanks,
Simon


>
> On Dec 15, 2007, at 5:32 PM, Simon Urbanek wrote:
>
>> On Dec 15, 2007, at 6:49 PM, Stephen Shiboski wrote:
>>
>>> Trying to build R 2.6.1 on a G5 imac running OS X 10.4.11. I am  
>>> using
>>> Xcode 2.4.1 and the gfortran (4.2.1) from r.research.att.com/tools/.
>>> I am using following the configuration:
>>>
>>> ./configure --with-aqua --with-blas='-framework vecLib' --with- 
>>> lapack
>>> --with-jpeglib --with-libpng
>>>
>>>
>>> Builds fine, but make check fails as follows:
>>>
>>> running code in 'd-p-q-r-tests.R' ...make[3]: *** [d-p-q-r-
>>> tests.Rout] Error 1
>>> make[2]: *** [test-Specific] Error 2
>>> make[1]: *** [test-all-basics] Error 1
>>> make: *** [check] Error 2
>>>
>>> Here's the error:
>>>
>>> Error: dbeta(0, 0.9, 2.2, ncp = c(0, a)) == Inf is not all TRUE
>>> In addition: Warning message:
>>> In dnbeta(x, shape1, shape2, ncp, log) : NaNs produced
>>> Execution halted
>>>
>>> I sucessfully built and checked 2.5.1 using the same set-up. The  
>>> only
>>> thing that changed was the update to OS X 10.4.11 from 10.4.10.
>>>
>>> It builds & checks fine on my Intel machine with the same Xcode and
>>> gfortran.
>>>
>>
>> The issue is known and appears to be a problem with a specific  
>> version of Apple's compilers generating incorrect ppc code. It goes  
>> away when you update to Apple's gcc 4.2 (or probably also when you  
>> revert to older compilers, although I didn't test that route  
>> specifically).
>>
>> However, I'm surprised that 2.5.1 would work *if* you had exactly  
>> the same setup, because the dbeta source code didn't change since  
>> 2.5.1 at all. Are you 100% sure that you had exactly the same  
>> compiler versions as now?
>>
>> Cheers,
>> Simon
>>
>
>


From steve at biostat.ucsf.edu  Sun Dec 16 18:05:02 2007
From: steve at biostat.ucsf.edu (Stephen Shiboski)
Date: Sun, 16 Dec 2007 09:05:02 -0800
Subject: [R-SIG-Mac] Make check error building R 2.6.1 under OS-X 10.4.11
In-Reply-To: <02C21D09-030C-46C7-81B4-9D65A861B160@r-project.org>
References: <7BC2BB3C-80AA-4685-B357-9C42A035E002@biostat.ucsf.edu>
	<44677288-04FE-46B3-878C-1B05F8FD1B08@r-project.org>
	<126EC1E5-151C-4F64-8A20-BCE901049DDF@biostat.ucsf.edu>
	<02C21D09-030C-46C7-81B4-9D65A861B160@r-project.org>
Message-ID: <A5334018-07A3-4FAD-B7D4-D53B8A62D488@biostat.ucsf.edu>

Thanks Simon. I compiled both again last night on the same machine to  
make sure.

 From 2.5.1:

 > dbeta(0, 0.9, 2.2, ncp = rlnorm(100))
   [1] Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf  
Inf Inf Inf
  [19] Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf  
Inf Inf Inf
  [37] Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf  
Inf Inf Inf
  [55] Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf  
Inf Inf Inf
  [73] Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf  
Inf Inf Inf
  [91] Inf Inf Inf Inf Inf Inf Inf Inf Inf Inf

 From 2.6.1:

 > dbeta(0, 0.9, 2.2, ncp = rlnorm(100))
   [1] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN  
NaN NaN NaN
  [19] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN  
NaN NaN NaN
  [37] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN  
NaN NaN NaN
  [55] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN  
NaN NaN NaN
  [73] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN  
NaN NaN NaN
  [91] NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN
Warning message:
In dnbeta(x, shape1, shape2, ncp, log) : NaNs produced


On Dec 16, 2007, at 6:21 AM, Simon Urbanek wrote:

>
> On Dec 15, 2007, at 10:47 PM, Stephen Shiboski wrote:
>
>> Thanks a lot. I noticed that there is a binary for gcc 4.2.1  
>> (gcc-42-5531-darwin8.tar.gz) on the R developer's page. If this is  
>> the same as what Apple provides, I can install this.
>>
>
> It is built from the same sources... (Apple doesn't provide gcc-4.2  
> binaries for Mac OS X 10.4)
>
>
>> I also noticed that the code for dbeta.c hadn't changed since  
>> 2.5.1. So, I just re-built 2.5.1 on the same machine and it makes  
>> & checks w/o errors!
>>
>
> Ah, oh .. that is indeed interesting ... and does that build return  
> all Inf for:
> dbeta(0, 0.9, 2.2, ncp = rlnorm(100))
>
> If so, then I shall have a closer look ...
>
> Thanks,
> Simon
>
>
>>
>> On Dec 15, 2007, at 5:32 PM, Simon Urbanek wrote:
>>
>>> On Dec 15, 2007, at 6:49 PM, Stephen Shiboski wrote:
>>>
>>>> Trying to build R 2.6.1 on a G5 imac running OS X 10.4.11. I am  
>>>> using
>>>> Xcode 2.4.1 and the gfortran (4.2.1) from r.research.att.com/ 
>>>> tools/.
>>>> I am using following the configuration:
>>>>
>>>> ./configure --with-aqua --with-blas='-framework vecLib' --with- 
>>>> lapack
>>>> --with-jpeglib --with-libpng
>>>>
>>>>
>>>> Builds fine, but make check fails as follows:
>>>>
>>>> running code in 'd-p-q-r-tests.R' ...make[3]: *** [d-p-q-r-
>>>> tests.Rout] Error 1
>>>> make[2]: *** [test-Specific] Error 2
>>>> make[1]: *** [test-all-basics] Error 1
>>>> make: *** [check] Error 2
>>>>
>>>> Here's the error:
>>>>
>>>> Error: dbeta(0, 0.9, 2.2, ncp = c(0, a)) == Inf is not all TRUE
>>>> In addition: Warning message:
>>>> In dnbeta(x, shape1, shape2, ncp, log) : NaNs produced
>>>> Execution halted
>>>>
>>>> I sucessfully built and checked 2.5.1 using the same set-up. The  
>>>> only
>>>> thing that changed was the update to OS X 10.4.11 from 10.4.10.
>>>>
>>>> It builds & checks fine on my Intel machine with the same Xcode and
>>>> gfortran.
>>>>
>>>
>>> The issue is known and appears to be a problem with a specific  
>>> version of Apple's compilers generating incorrect ppc code. It  
>>> goes away when you update to Apple's gcc 4.2 (or probably also  
>>> when you revert to older compilers, although I didn't test that  
>>> route specifically).
>>>
>>> However, I'm surprised that 2.5.1 would work *if* you had exactly  
>>> the same setup, because the dbeta source code didn't change since  
>>> 2.5.1 at all. Are you 100% sure that you had exactly the same  
>>> compiler versions as now?
>>>
>>> Cheers,
>>> Simon
>>>
>>
>>
>


From tim.cole at ich.ucl.ac.uk  Sun Dec 16 21:01:06 2007
From: tim.cole at ich.ucl.ac.uk (Tim Cole)
Date: Sun, 16 Dec 2007 20:01:06 +0000
Subject: [R-SIG-Mac] Cmd-Rtn in R editor
Message-ID: <p0624089bc38b33b680db@[192.168.11.5]>

All the 64 bit excitement seems to have drowned out my R editor query 
(below). I'd value a response.

Tim

>I've use Cmd-E a lot in the R editor to source the whole file, but 
>I've only just noticed Cmd-Rtn to execute the selection. A useful 
>extension to this would be to execute the current line, which I 
>don't think is currently available.
>
>Could the definition of Cmd-Rtn be extended to execute either the 
>selection, or if nothing is selected the current line?

-- 
Tim.Cole at ich.ucl.ac.uk   Phone +44(0)20 7905 2666  Fax +44(0)20 7905 2381
Paed Epidemiology & Biostats, UCL Institute of Child Health, London 
WC1N 1EH, UK


From agoralczyk at gmail.com  Wed Dec 19 11:01:56 2007
From: agoralczyk at gmail.com (Armin Goralczyk)
Date: Wed, 19 Dec 2007 11:01:56 +0100
Subject: [R-SIG-Mac] Failure message in R on Mac with xmlTreeParse
Message-ID: <a695fbee0712190201u15dfec8dqa63cd44818130ddc@mail.gmail.com>

Hello

In the following thread (R-help) the possibilities of analyzing
publications from pubmed via XML were discussed:

http://www.nabble.com/Analyzing-Publications-from-Pubmed-via-XML-to14328779.html#a14343090

Using xmlTreeParse in a function results in a failure message on my
Mac which is not reproduced in R for Windows:

> esearch <- function (term){
+ 	srch.stem <- "http://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?"
+ 	srch.mode <- "db=pubmed&retmax=10000&retmode=xml&term="
+ 	doc <-xmlTreeParse(paste(srch.stem,srch.mode,term,sep=""),isURL = TRUE,
+ 		useInternalNodes = TRUE)
+ 	sapply(c("//Id"), xpathApply, doc = doc, fun = xmlValue)
+ 	}
>
> term <- 'meyer'
> pmid <- esearch(term) # works fine
>
> term <- 'meyer[au]'
> pmid <- esearch(term)
Fehler in .Call("RS_XML_ParseTree", as.character(file), handlers,
as.logical(ignoreBlanks),  :
  error in creating parser for
http://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&retmax=10000&retmode=xml&term=meyer[au]
>
I/O warning : failed to load external entity
"http%3A//eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi%3Fdb=pubmed&retmax=10000&retmode=xml&term=meyer%5Bau%5D"
>

The problem seems to be the search tag [au].
I am not very familiar with XML or the xmlTreeParse function, so I
don't know what is wrong. Can anybody help?

Thanks

My version:
> R.Version()
$platform
[1] "powerpc-apple-darwin8.10.1"

$arch
[1] "powerpc"

$os
[1] "darwin8.10.1"

$system
[1] "powerpc, darwin8.10.1"

$status
[1] "Patched"

$major
[1] "2"

$minor
[1] "6.0"

$year
[1] "2007"

$month
[1] "11"

$day
[1] "09"

$`svn rev`
[1] "43408"

$language
[1] "R"

$version.string
[1] "R version 2.6.0 Patched (2007-11-09 r43408)"

-- 
Armin Goralczyk, M.D.
--
Universit?tsmedizin G?ttingen
Abteilung Allgemein- und Viszeralchirurgie
Rudolf-Koch-Str. 40
39099 G?ttingen
--
Dept. of General Surgery
University of G?ttingen
G?ttingen, Germany
--
http://www.chirurgie-goettingen.de

From duncan at wald.ucdavis.edu  Wed Dec 19 22:23:37 2007
From: duncan at wald.ucdavis.edu (Duncan Temple Lang)
Date: Thu, 20 Dec 2007 10:23:37 +1300
Subject: [R-SIG-Mac] Failure message in R on Mac with xmlTreeParse
In-Reply-To: <a695fbee0712190201u15dfec8dqa63cd44818130ddc@mail.gmail.com>
References: <a695fbee0712190201u15dfec8dqa63cd44818130ddc@mail.gmail.com>
Message-ID: <47698BD9.2090800@wald.ucdavis.edu>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1


The [au] portion seems to be causing the problem.
So escape the [ and ] by mapping them to %5B and %5D respectively
_before_ handing the URL string to xmlTreeParse().  (The error message
indicates that the internals have already performed the conversion, but
if you do it yourself, things should work as I can reproduce your error
message and can get the desired result by escaping the [ and ] first.)

There is more information about what needs to be escaped at
http://publib.boulder.ibm.com/infocenter/discover/v8r4/index.jsp?topic=/com.ibm.discovery.ds.ref.doc/t_RG_Escape_Sequences.htm

The HTTP/FTP code built into the xmlTreeParse(), htmlTreeParse() and
xmlEventParse() functions (specifically from libxml2) is minimalistic.
For better or worse, it is the code that is also in R to implement
url() connections.  It does not handle aspects of HTTP other than simple
request.  So when I run into problems with xmlTreeParse() and a URL,
I first fetch the content of the document using the RCurl package.

And
library(RCurl)
getURL("http://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&retmax=10000&retmode=xml&term=meyer[au]")

does fetch the document and the result can be passed directly to
xmlTreeParse().

RCurl is an interface to libcurl which is a very solid, stable
and feature rich library for performing HTTP, HTTPS, FTP, ... client
queries which allows us to do, in R, pretty much anything a Web browser
can do but programmatically.

 D.

Armin Goralczyk wrote:
> Hello
> 
> In the following thread (R-help) the possibilities of analyzing
> publications from pubmed via XML were discussed:
> 
> http://www.nabble.com/Analyzing-Publications-from-Pubmed-via-XML-to14328779.html#a14343090
> 
> Using xmlTreeParse in a function results in a failure message on my
> Mac which is not reproduced in R for Windows:
> 
>> esearch <- function (term){
> + 	srch.stem <- "http://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?"
> + 	srch.mode <- "db=pubmed&retmax=10000&retmode=xml&term="
> + 	doc <-xmlTreeParse(paste(srch.stem,srch.mode,term,sep=""),isURL = TRUE,
> + 		useInternalNodes = TRUE)
> + 	sapply(c("//Id"), xpathApply, doc = doc, fun = xmlValue)
> + 	}
>> term <- 'meyer'
>> pmid <- esearch(term) # works fine
>>
>> term <- 'meyer[au]'
>> pmid <- esearch(term)
> Fehler in .Call("RS_XML_ParseTree", as.character(file), handlers,
> as.logical(ignoreBlanks),  :
>   error in creating parser for
> http://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&retmax=10000&retmode=xml&term=meyer[au]
> I/O warning : failed to load external entity
> "http%3A//eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi%3Fdb=pubmed&retmax=10000&retmode=xml&term=meyer%5Bau%5D"
> 
> The problem seems to be the search tag [au].
> I am not very familiar with XML or the xmlTreeParse function, so I
> don't know what is wrong. Can anybody help?
> 
> Thanks
> 
> My version:
>> R.Version()
> $platform
> [1] "powerpc-apple-darwin8.10.1"
> 
> $arch
> [1] "powerpc"
> 
> $os
> [1] "darwin8.10.1"
> 
> $system
> [1] "powerpc, darwin8.10.1"
> 
> $status
> [1] "Patched"
> 
> $major
> [1] "2"
> 
> $minor
> [1] "6.0"
> 
> $year
> [1] "2007"
> 
> $month
> [1] "11"
> 
> $day
> [1] "09"
> 
> $`svn rev`
> [1] "43408"
> 
> $language
> [1] "R"
> 
> $version.string
> [1] "R version 2.6.0 Patched (2007-11-09 r43408)"
> 
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.7 (Darwin)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFHaYvZ9p/Jzwa2QP4RAhwbAJoC+KK8tMGWnL5vQehBPWyUWqzDFwCbBxKP
iwWaeL7eDgUI1jg988fYD0A=
=WsL3
-----END PGP SIGNATURE-----


From dkaplan at education.wisc.edu  Thu Dec 20 04:55:33 2007
From: dkaplan at education.wisc.edu (David Kaplan)
Date: Wed, 19 Dec 2007 21:55:33 -0600
Subject: [R-SIG-Mac] font size in mtext
Message-ID: <4769E7B5.4000305@education.wisc.edu>

An HTML attachment was scrubbed...
URL: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20071219/cec0a534/attachment.html 

From kjbeath at kagi.com  Thu Dec 20 05:28:49 2007
From: kjbeath at kagi.com (Ken Beath)
Date: Thu, 20 Dec 2007 15:28:49 +1100
Subject: [R-SIG-Mac] font size in mtext
In-Reply-To: <4769E7B5.4000305@education.wisc.edu>
References: <4769E7B5.4000305@education.wisc.edu>
Message-ID: <2BB6DCA9-C85A-4BDA-B5D4-E94D16500864@kagi.com>

On 20/12/2007, at 2:55 PM, David Kaplan wrote:

> Greetings all,
>
> I have created a set of plots on one page.  Each plot has a ylab and  
> xlab and I am using mtext to label the entire set of plots.  The  
> problem is the fontsizes are very small.  I tried using ps= for each  
> plot, but that didn't seem to work.  The problem is I am saving this  
> plot as a .pdf file and bringing into a LaTeX document.  The font  
> sizes need to be much bigger.  How is that done?
>
The cex parameter to mtext will change the size of its text, values  
greater than 1 are an increase.

cex.axis and cex.lab change the size of the axis scale and axis label,  
these can be either in the par statement or in the plot. The axis  
labels may then need to be shifted slightly. I think there is a  
parameter for this, and it will be in the help on par.

Sometimes plotting into a small page using the width and height  
parameters to postscript will make the plots look better.

Ken


From kjbeath at kagi.com  Wed Dec 26 08:06:22 2007
From: kjbeath at kagi.com (Ken Beath)
Date: Wed, 26 Dec 2007 18:06:22 +1100
Subject: [R-SIG-Mac] Updating packages crash
Message-ID: <1BF7D2CD-4343-4888-B2B2-DFC93C3C2C95@kagi.com>

Hi,

I'm having trouble updating packages. Scenario is I've selected  
Package Installer with CRAN (binaries), a single package, then  
'Install Selected' and I get the following error.

trying URL 'http://cran.au.r-project.org/bin/macosx/universal/contrib/2.6/fSeries_260.72.tgz'
Content type 'application/x-tar' length 164519 bytes (160 Kb)
opened URL
==================================================
downloaded 160 Kb


  *** caught bus error ***
address 0x20, cause 'non-existent physical address'

Traceback:
  1: unlink(instPath, recursive = TRUE)
  2: unpackPkg(foundpkgs[okp, 2], foundpkgs[okp, 1], lib,  
installWithVers)
  3: .install.macbinary(pkgs = pkgs, lib = lib, contriburl =  
contriburl,     method = method, available = available, destdir =  
destdir,     installWithVers = installWithVers, dependencies =  
dependencies)
  4: install.packages(c("fSeries"), lib = "/Library/Frameworks/ 
R.framework/Resources/library/",     contriburl =  
contrib.url(getOption("repos"), "mac.binary"),     type =  
"mac.binary", dependencies = TRUE)

Possible actions:
1: abort (with core dump, if enabled)
2: normal R exit
3: exit R without saving workspace
4: exit R saving workspace

I have tried other mirrors and also 'Update All'

Ken


From simon.urbanek at r-project.org  Wed Dec 26 16:00:55 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 26 Dec 2007 10:00:55 -0500
Subject: [R-SIG-Mac] Updating packages crash
In-Reply-To: <1BF7D2CD-4343-4888-B2B2-DFC93C3C2C95@kagi.com>
References: <1BF7D2CD-4343-4888-B2B2-DFC93C3C2C95@kagi.com>
Message-ID: <83824D76-9797-48B0-9E59-228D002DC486@r-project.org>

Ken,

can you, please, tell us exactly what machine are you using? I'm not  
able to reproduce it so far.. Please always post at least the output  
of sessionInfo().
Even more helpful would be the crash report (either accessible  
directly after the crash or see Console in Utilities).

Thanks,
Simon


On Dec 26, 2007, at 2:06 AM, Ken Beath wrote:

> Hi,
>
> I'm having trouble updating packages. Scenario is I've selected
> Package Installer with CRAN (binaries), a single package, then
> 'Install Selected' and I get the following error.
>
> trying URL 'http://cran.au.r-project.org/bin/macosx/universal/contrib/2.6/fSeries_260.72.tgz'
> Content type 'application/x-tar' length 164519 bytes (160 Kb)
> opened URL
> ==================================================
> downloaded 160 Kb
>
>
>  *** caught bus error ***
> address 0x20, cause 'non-existent physical address'
>
> Traceback:
>  1: unlink(instPath, recursive = TRUE)
>  2: unpackPkg(foundpkgs[okp, 2], foundpkgs[okp, 1], lib,
> installWithVers)
>  3: .install.macbinary(pkgs = pkgs, lib = lib, contriburl =
> contriburl,     method = method, available = available, destdir =
> destdir,     installWithVers = installWithVers, dependencies =
> dependencies)
>  4: install.packages(c("fSeries"), lib = "/Library/Frameworks/
> R.framework/Resources/library/",     contriburl =
> contrib.url(getOption("repos"), "mac.binary"),     type =
> "mac.binary", dependencies = TRUE)
>
> Possible actions:
> 1: abort (with core dump, if enabled)
> 2: normal R exit
> 3: exit R without saving workspace
> 4: exit R saving workspace
>
> I have tried other mirrors and also 'Update All'
>
> Ken
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From kjbeath at kagi.com  Wed Dec 26 23:18:48 2007
From: kjbeath at kagi.com (Ken Beath)
Date: Thu, 27 Dec 2007 09:18:48 +1100
Subject: [R-SIG-Mac] Updating packages crash
In-Reply-To: <83824D76-9797-48B0-9E59-228D002DC486@r-project.org>
References: <1BF7D2CD-4343-4888-B2B2-DFC93C3C2C95@kagi.com>
	<83824D76-9797-48B0-9E59-228D002DC486@r-project.org>
Message-ID: <837C71B0-5142-4C3D-AF0B-B5150C713984@kagi.com>

Hi Simon,

Sorry, post-Christmas effect. I thought I had installed 2.6.1 but  
hadn't. Installing it fixed the problem, which I think occurred when a  
dependency wasn't installed.

Ken

On 27/12/2007, at 2:00 AM, Simon Urbanek wrote:

> Ken,
>
> can you, please, tell us exactly what machine are you using? I'm not
> able to reproduce it so far.. Please always post at least the output
> of sessionInfo().
> Even more helpful would be the crash report (either accessible
> directly after the crash or see Console in Utilities).
>
> Thanks,
> Simon
>
>
> On Dec 26, 2007, at 2:06 AM, Ken Beath wrote:
>
>> Hi,
>>
>> I'm having trouble updating packages. Scenario is I've selected
>> Package Installer with CRAN (binaries), a single package, then
>> 'Install Selected' and I get the following error.
>>
>> trying URL 'http://cran.au.r-project.org/bin/macosx/universal/contrib/2.6/fSeries_260.72.tgz'
>> Content type 'application/x-tar' length 164519 bytes (160 Kb)
>> opened URL
>> ==================================================
>> downloaded 160 Kb
>>
>>
>> *** caught bus error ***
>> address 0x20, cause 'non-existent physical address'
>>
>> Traceback:
>> 1: unlink(instPath, recursive = TRUE)
>> 2: unpackPkg(foundpkgs[okp, 2], foundpkgs[okp, 1], lib,
>> installWithVers)
>> 3: .install.macbinary(pkgs = pkgs, lib = lib, contriburl =
>> contriburl,     method = method, available = available, destdir =
>> destdir,     installWithVers = installWithVers, dependencies =
>> dependencies)
>> 4: install.packages(c("fSeries"), lib = "/Library/Frameworks/
>> R.framework/Resources/library/",     contriburl =
>> contrib.url(getOption("repos"), "mac.binary"),     type =
>> "mac.binary", dependencies = TRUE)
>>
>> Possible actions:
>> 1: abort (with core dump, if enabled)
>> 2: normal R exit
>> 3: exit R without saving workspace
>> 4: exit R saving workspace
>>
>> I have tried other mirrors and also 'Update All'
>>
>> Ken
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From fisher at plessthan.com  Thu Dec 27 21:24:31 2007
From: fisher at plessthan.com (Dennis Fisher)
Date: Thu, 27 Dec 2007 12:24:31 -0800
Subject: [R-SIG-Mac] update to 2.6.1;
	installing packages from the command line
Message-ID: <FD99E3D3-EC7D-46E4-8ACE-6F9FDFBE2144@plessthan.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20071227/b23a4134/attachment.pl 

From simon.urbanek at r-project.org  Fri Dec 28 00:10:59 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 27 Dec 2007 18:10:59 -0500
Subject: [R-SIG-Mac] update to 2.6.1;
	installing packages from the command line
In-Reply-To: <FD99E3D3-EC7D-46E4-8ACE-6F9FDFBE2144@plessthan.com>
References: <FD99E3D3-EC7D-46E4-8ACE-6F9FDFBE2144@plessthan.com>
Message-ID: <1B28C334-D2DB-42A2-AAA0-4E2F9E1B545B@r-project.org>


On Dec 27, 2007, at 3:24 PM, Dennis Fisher wrote:

> Colleagues
>
> I attempted to update to 2.6.1 on a MacPro running Leopard using
> R-2.6.1.dmg
> I receive the following error message:
>> The Installer could not install some files in "/".  Contact the
>> software manufacturer for assistance
>
> Interestingly, I can open Rgui and R at the command line successfully
> and both report that I am running R version 2.6.1.  Can anyone explain
> the discrepancy?
>

See your installer log - it will explain it.


> Also, when I work in the GUI, the command:
> 	install.packages("tseries")
> is successful.  However, when I issue the same command at the command
> line, I get:
>>> install.packages("tseries")
>> --- Please select a CRAN mirror for use in this session ---
>> Loading Tcl/Tk interface ... Error in fun(...) :
>>  Can't find a usable init.tcl in the following directories:
>>    @TCL_IN_FRAMEWORK@ @TCL_IN_FRAMEWORK@
>>
>> This probably means that Tcl wasn't installed properly.
>>
>> Error: .onLoad failed in 'loadNamespace' for 'tcltk'
>
> Thoughts?
>

You don't have Tcl/Tk installed. My wild guess would be that you have  
upgraded to Leopard from an older system that had /usr/local/lib and  
the upgrade (or installation of Xcode 3) created an infinite link loop  
which prevents anything to be installed (including TclTk). See also
https://stat.ethz.ch/pipermail/r-devel/2007-December/047605.html
and
http://www.nabble.com/problem-installing-2.6.1-on-OSX-Leopard--28after-failed-MacPorts-install-29-to14119813.html
If that is the issue, correct it and re-install R.

Cheers,
Simon


From phgrosjean at sciviews.org  Sat Dec 29 13:17:26 2007
From: phgrosjean at sciviews.org (Philippe Grosjean)
Date: Sat, 29 Dec 2007 13:17:26 +0100
Subject: [R-SIG-Mac] R.app stange behavior?
Message-ID: <47763AD6.7020002@sciviews.org>

Hello,

I have a couple of questions regarding the way R.app works:

1) R.app forces \n at the end of output:

 > cat("some text")
some text
 >

While on any other R console I have tested (including R in a terminal on 
a Mac), it is not the case:
 > cat("some text")
some text>

This is a problem for two reasons: (1) Mac users may forgot to add \n 
when using cat() and it would produce weird results elsewhere, and (2) 
it is sometimes useful to be able to write something before the prompt, 
or to write text without \n (see progress() in svMisc package, for an 
example of use)


2) R.app does not interpret \a and \b. \a should output a sound ('bip') 
and is used in alarm() function that does not work in R.app, and \b is 
backspace and is supposed to erase previous character. Consequently:

 > cat("abc\bd\n")
abcd
 >

which is wrong, or at least, different from the behavior on all other R 
consoles I have used which gives:

 > cat("abc\bd\n")
abd
 >


3) Despite reading Mac-FAQ, I cannot figure out how to print French 
messages correctly. I got something like:

 > nonexistingvar
Erreur : objet "nonexistingvar" non trouv'e
 >

This is the same on the terminal. Under Windows (RGui), I got:

 > nonexistingvar
Erreur : objet "nonexistingvar" non trouv?
 >

How can I fix this? (I am the maintainer of R French translation, and it 
uses 'charset=ISO-8859-1').


I don't know if this should be considered as bugs, or if I miss some 
point here.

Philippe Grosjean





-- 
..............................................<?}))><........
  ) ) ) ) )
( ( ( ( (    Prof. Philippe Grosjean
  ) ) ) ) )
( ( ( ( (    Numerical Ecology of Aquatic Systems
  ) ) ) ) )   Mons-Hainaut University, Belgium
( ( ( ( (
..............................................................


From ripley at stats.ox.ac.uk  Sat Dec 29 14:53:31 2007
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 29 Dec 2007 13:53:31 +0000 (GMT)
Subject: [R-SIG-Mac] R.app stange behavior?
In-Reply-To: <47763AD6.7020002@sciviews.org>
References: <47763AD6.7020002@sciviews.org>
Message-ID: <Pine.LNX.4.64.0712291234400.22449@gannet.stats.ox.ac.uk>

I am not sitting in front of my Mac, so some of this is by remote login 
and some from memory.

On Sat, 29 Dec 2007, Philippe Grosjean wrote:

> Hello,
>
> I have a couple of questions regarding the way R.app works:
>
> 1) R.app forces \n at the end of output:
>
> > cat("some text")
> some text
> >
>
> While on any other R console I have tested (including R in a terminal on
> a Mac), it is not the case:
> > cat("some text")
> some text>
>
> This is a problem for two reasons: (1) Mac users may forgot to add \n
> when using cat() and it would produce weird results elsewhere, and (2)
> it is sometimes useful to be able to write something before the prompt,
> or to write text without \n (see progress() in svMisc package, for an
> example of use)

That surely is a bug: however my memory the line is being completed when 
input is required.  Handling that 'properly' in a console is hard 
programming work.

> 2) R.app does not interpret \a and \b. \a should output a sound ('bip')
> and is used in alarm() function that does not work in R.app, and \b is
> backspace and is supposed to erase previous character. Consequently:
>
> > cat("abc\bd\n")
> abcd
> >
>
> which is wrong, or at least, different from the behavior on all other R
> consoles I have used which gives:
>
> > cat("abc\bd\n")
> abd
> >

How control characters are interpreted is terminal-dependent and can often 
be selected for a terminal.  But it would seem sensible for R.app to 
follow the usual interpretations.

> 3) Despite reading Mac-FAQ, I cannot figure out how to print French
> messages correctly. I got something like:
>
> > nonexistingvar
> Erreur : objet "nonexistingvar" non trouv'e
> >
>
> This is the same on the terminal. Under Windows (RGui), I got:
>
> > nonexistingvar
> Erreur : objet "nonexistingvar" non trouv?
> >
>
> How can I fix this? (I am the maintainer of R French translation, and it
> uses 'charset=ISO-8859-1').

Irrelevant: the C-level gettext code does all the re-encodings needed.

> I don't know if this should be considered as bugs, or if I miss some
> point here.

The latter works correctly if I set the locale on the command line, so 
must be an issue with locales.  E.g. in a terminal

blacklark% env LC_ALL=fr_FR.UTF8 R
> nonexistingvar
Erreur : objet "nonexistingvar" non trouv?

My understanding is that R.app is supposed to interpret Mac OS language 
preferences as locales, and it seems that this is not working correctly 
for you. I would expect

Sys.setenv(LANGUAGE="fr")

to fix this up in the session: it does for me in a terminal session (which 
gives UTF-8 output even in a C locale).

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From simon.urbanek at r-project.org  Sat Dec 29 15:35:41 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 29 Dec 2007 09:35:41 -0500
Subject: [R-SIG-Mac] R.app stange behavior?
In-Reply-To: <47763AD6.7020002@sciviews.org>
References: <47763AD6.7020002@sciviews.org>
Message-ID: <7F0A1C11-4574-487A-9950-959F3AAB5040@r-project.org>

Philippe,

On Dec 29, 2007, at 7:17 AM, Philippe Grosjean wrote:

> I have a couple of questions regarding the way R.app works:
>
> 1) R.app forces \n at the end of output:
>
>> cat("some text")
> some text
>>
>
> While on any other R console I have tested (including R in a  
> terminal on a Mac), it is not the case:
>> cat("some text")
> some text>
>

Although your tests are right, your explanation is not. The GUI  
doesn't force \n in general, try:
 > cat("foo"); cat("bar")
foobar

All it does is to make sure that a prompt is printed on a new line (to  
avoid prompt printed in the middle of some output). It does not affect  
output in functions, scripts etc. (hence I think the following is  
irrelevant).


> This is a problem for two reasons: (1) Mac users may forgot to add  
> \n when using cat() and it would produce weird results elsewhere,  
> and (2) it is sometimes useful to be able to write something before  
> the prompt, or to write text without \n (see progress() in svMisc  
> package, for an example of use)
>
>
> 2) R.app does not interpret \a and \b. \a should output a sound  
> ('bip') and is used in alarm() function that does not work in R.app,  
> and \b is backspace and is supposed to erase previous character.  
> Consequently:
>
>> cat("abc\bd\n")
> abcd
>>
>
> which is wrong, or at least, different from the behavior on all  
> other R consoles I have used which gives:
>
>> cat("abc\bd\n")
> abd
>>
>

The interpretation of all those codes is terminal-specific and for now  
the R.app chooses to not interpret them (however, they are preserved,  
try pasting the output in a terminal that interprets them).

As a side note, one specific issue is that of \r which seems to be  
handy at times to report progress (although not portably).  
Historically, Macs used \r to denote end of line in files and input,  
therefore we have to interpret it as what you would expect from \n for  
compatibility. With \r\n as the Windows end of line sequence being  
also treated as \n for compatibility this explains the current  
behavior in the GUI. ("\r", "\n", "\r\n" are equivalent, "\r\r" and "\n 
\r" ares equivalent to "\n\n").

We may change the behavior in the future as the compatibility may not  
be as important anymore. As of the other codes, I'm not quite sure  
it's worth the hassle, but it could be done.


> 3) Despite reading Mac-FAQ, I cannot figure out how to print French
> messages correctly. I got something like:
>
>> nonexistingvar
> Erreur : objet "nonexistingvar" non trouv'e
>>
>
> This is the same on the terminal. Under Windows (RGui), I got:
>
>> nonexistingvar
> Erreur : objet "nonexistingvar" non trouv?
>>
>
> How can I fix this? (I am the maintainer of R French translation,  
> and it uses 'charset=ISO-8859-1').
>

You'll have to tell us more about your settings - at least  
sessionInfo(), possibly Sys.getenv("R_GUI_APP_VERSION") and any other  
changes you made to your preferences manually. After selecting French  
language and French settings in the system preferences, I get correctly:

 > nonexistingvar
Erreur : objet "nonexistingvar" non trouv?

locale:
fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8

Cheers,
Simon


From phgrosjean at sciviews.org  Sat Dec 29 20:04:43 2007
From: phgrosjean at sciviews.org (Philippe Grosjean)
Date: Sat, 29 Dec 2007 20:04:43 +0100
Subject: [R-SIG-Mac] R.app stange behavior?
In-Reply-To: <7F0A1C11-4574-487A-9950-959F3AAB5040@r-project.org>
References: <47763AD6.7020002@sciviews.org>
	<7F0A1C11-4574-487A-9950-959F3AAB5040@r-project.org>
Message-ID: <47769A4B.3040809@sciviews.org>

Simon and Brian,

Sorry, I forgot to tell about my system:

 > version
                _
platform       i386-apple-darwin8.10.1
arch           i386
os             darwin8.10.1
system         i386, darwin8.10.1
status
major          2
minor          6.1
year           2007
month          11
day            26
svn rev        43537
language       R
version.string R version 2.6.1 (2007-11-26)

 > sessionInfo()
R version 2.6.1 (2007-11-26)
i386-apple-darwin8.10.1

locale:
C

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base

 > Sys.getenv("R_GUI_APP_VERSION")
R_GUI_APP_VERSION
            "1.22"

 > l10n_info()
$MBCS
[1] FALSE

$`UTF-8`
[1] FALSE

$`Latin-1`
[1] FALSE

I switch to French in the system preferences. R is restarted after this. 
Menus are in French. To get messages in French in the Console, I need to 
enter Sys.setenv(LANG = "fr")... Even changing this variable in a 
terminal before starting R does nothing better. I am a little bit lost...
Best,

Philippe

Simon Urbanek wrote:
> Philippe,
> 
> On Dec 29, 2007, at 7:17 AM, Philippe Grosjean wrote:
> 
>> I have a couple of questions regarding the way R.app works:
>>
>> 1) R.app forces \n at the end of output:
>>
>>> cat("some text")
>> some text
>>>
>>
>> While on any other R console I have tested (including R in a terminal 
>> on a Mac), it is not the case:
>>> cat("some text")
>> some text>
>>
> 
> Although your tests are right, your explanation is not. The GUI doesn't 
> force \n in general, try:
>  > cat("foo"); cat("bar")
> foobar
> 
> All it does is to make sure that a prompt is printed on a new line (to 
> avoid prompt printed in the middle of some output). It does not affect 
> output in functions, scripts etc. (hence I think the following is 
> irrelevant).
> 
> 
>> This is a problem for two reasons: (1) Mac users may forgot to add \n 
>> when using cat() and it would produce weird results elsewhere, and (2) 
>> it is sometimes useful to be able to write something before the 
>> prompt, or to write text without \n (see progress() in svMisc package, 
>> for an example of use)
>>
>>
>> 2) R.app does not interpret \a and \b. \a should output a sound 
>> ('bip') and is used in alarm() function that does not work in R.app, 
>> and \b is backspace and is supposed to erase previous character. 
>> Consequently:
>>
>>> cat("abc\bd\n")
>> abcd
>>>
>>
>> which is wrong, or at least, different from the behavior on all other 
>> R consoles I have used which gives:
>>
>>> cat("abc\bd\n")
>> abd
>>>
>>
> 
> The interpretation of all those codes is terminal-specific and for now 
> the R.app chooses to not interpret them (however, they are preserved, 
> try pasting the output in a terminal that interprets them).
> 
> As a side note, one specific issue is that of \r which seems to be handy 
> at times to report progress (although not portably). Historically, Macs 
> used \r to denote end of line in files and input, therefore we have to 
> interpret it as what you would expect from \n for compatibility. With 
> \r\n as the Windows end of line sequence being also treated as \n for 
> compatibility this explains the current behavior in the GUI. ("\r", 
> "\n", "\r\n" are equivalent, "\r\r" and "\n\r" ares equivalent to "\n\n").
> 
> We may change the behavior in the future as the compatibility may not be 
> as important anymore. As of the other codes, I'm not quite sure it's 
> worth the hassle, but it could be done.
> 
> 
>> 3) Despite reading Mac-FAQ, I cannot figure out how to print French
>> messages correctly. I got something like:
>>
>>> nonexistingvar
>> Erreur : objet "nonexistingvar" non trouv'e
>>>
>>
>> This is the same on the terminal. Under Windows (RGui), I got:
>>
>>> nonexistingvar
>> Erreur : objet "nonexistingvar" non trouv?
>>>
>>
>> How can I fix this? (I am the maintainer of R French translation, and 
>> it uses 'charset=ISO-8859-1').
>>
> 
> You'll have to tell us more about your settings - at least 
> sessionInfo(), possibly Sys.getenv("R_GUI_APP_VERSION") and any other 
> changes you made to your preferences manually. After selecting French 
> language and French settings in the system preferences, I get correctly:
> 
>  > nonexistingvar
> Erreur : objet "nonexistingvar" non trouv?
> 
> locale:
> fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8
> 
> Cheers,
> Simon
> 
>


From simon.urbanek at r-project.org  Sat Dec 29 20:34:19 2007
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 29 Dec 2007 14:34:19 -0500
Subject: [R-SIG-Mac] R.app stange behavior?
In-Reply-To: <47769A4B.3040809@sciviews.org>
References: <47763AD6.7020002@sciviews.org>
	<7F0A1C11-4574-487A-9950-959F3AAB5040@r-project.org>
	<47769A4B.3040809@sciviews.org>
Message-ID: <62ABBB49-CE0C-402F-9B06-9C1422055A98@r-project.org>


On Dec 29, 2007, at 2:04 PM, Philippe Grosjean wrote:

> Simon and Brian,
>
> Sorry, I forgot to tell about my system:
>
> > version
>               _
> platform       i386-apple-darwin8.10.1
> arch           i386
> os             darwin8.10.1
> system         i386, darwin8.10.1
> status
> major          2
> minor          6.1
> year           2007
> month          11
> day            26
> svn rev        43537
> language       R
> version.string R version 2.6.1 (2007-11-26)
>
> > sessionInfo()
> R version 2.6.1 (2007-11-26)
> i386-apple-darwin8.10.1
>
> locale:
> C
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> > Sys.getenv("R_GUI_APP_VERSION")
> R_GUI_APP_VERSION
>           "1.22"
>
> > l10n_info()
> $MBCS
> [1] FALSE
>
> $`UTF-8`
> [1] FALSE
>
> $`Latin-1`
> [1] FALSE
>
> I switch to French in the system preferences.

What is your format setting? It must be French too and I suspect that  
it's not. If it's not then you need to override the locale, because  
there is not such thing as french locale with non-french formats. See  
FAQ section 9, in that (rather unusual case) you need to use something  
like
defaults write org.R-project.R force.LANG fr_FR.UTF-8

> R is restarted after this. Menus are in French. To get messages in  
> French in the Console, I need to enter Sys.setenv(LANG = "fr")...

That is a really bad thing to do, because it uses the wrong locale  
that is not supported by the GUI. Again, the preferred way is to set  
the system preferences correctly.


> Even changing this variable in a terminal before starting R does  
> nothing better. I am a little bit lost...

For command-line R use the proper one:
LANG=fr_FR.UTF-8 R
and that work just fine for me (you can use non-UTF-8, but make sure  
you have the right terminal then).

Cheers,
Simon


>
> Simon Urbanek wrote:
>> Philippe,
>> On Dec 29, 2007, at 7:17 AM, Philippe Grosjean wrote:
>>> I have a couple of questions regarding the way R.app works:
>>>
>>> 1) R.app forces \n at the end of output:
>>>
>>>> cat("some text")
>>> some text
>>>>
>>>
>>> While on any other R console I have tested (including R in a  
>>> terminal on a Mac), it is not the case:
>>>> cat("some text")
>>> some text>
>>>
>> Although your tests are right, your explanation is not. The GUI  
>> doesn't force \n in general, try:
>> > cat("foo"); cat("bar")
>> foobar
>> All it does is to make sure that a prompt is printed on a new line  
>> (to avoid prompt printed in the middle of some output). It does not  
>> affect output in functions, scripts etc. (hence I think the  
>> following is irrelevant).
>>> This is a problem for two reasons: (1) Mac users may forgot to add  
>>> \n when using cat() and it would produce weird results elsewhere,  
>>> and (2) it is sometimes useful to be able to write something  
>>> before the prompt, or to write text without \n (see progress() in  
>>> svMisc package, for an example of use)
>>>
>>>
>>> 2) R.app does not interpret \a and \b. \a should output a sound  
>>> ('bip') and is used in alarm() function that does not work in  
>>> R.app, and \b is backspace and is supposed to erase previous  
>>> character. Consequently:
>>>
>>>> cat("abc\bd\n")
>>> abcd
>>>>
>>>
>>> which is wrong, or at least, different from the behavior on all  
>>> other R consoles I have used which gives:
>>>
>>>> cat("abc\bd\n")
>>> abd
>>>>
>>>
>> The interpretation of all those codes is terminal-specific and for  
>> now the R.app chooses to not interpret them (however, they are  
>> preserved, try pasting the output in a terminal that interprets  
>> them).
>> As a side note, one specific issue is that of \r which seems to be  
>> handy at times to report progress (although not portably).  
>> Historically, Macs used \r to denote end of line in files and  
>> input, therefore we have to interpret it as what you would expect  
>> from \n for compatibility. With \r\n as the Windows end of line  
>> sequence being also treated as \n for compatibility this explains  
>> the current behavior in the GUI. ("\r", "\n", "\r\n" are  
>> equivalent, "\r\r" and "\n\r" ares equivalent to "\n\n").
>> We may change the behavior in the future as the compatibility may  
>> not be as important anymore. As of the other codes, I'm not quite  
>> sure it's worth the hassle, but it could be done.
>>> 3) Despite reading Mac-FAQ, I cannot figure out how to print French
>>> messages correctly. I got something like:
>>>
>>>> nonexistingvar
>>> Erreur : objet "nonexistingvar" non trouv'e
>>>>
>>>
>>> This is the same on the terminal. Under Windows (RGui), I got:
>>>
>>>> nonexistingvar
>>> Erreur : objet "nonexistingvar" non trouv?
>>>>
>>>
>>> How can I fix this? (I am the maintainer of R French translation,  
>>> and it uses 'charset=ISO-8859-1').
>>>
>> You'll have to tell us more about your settings - at least  
>> sessionInfo(), possibly Sys.getenv("R_GUI_APP_VERSION") and any  
>> other changes you made to your preferences manually. After  
>> selecting French language and French settings in the system  
>> preferences, I get correctly:
>> > nonexistingvar
>> Erreur : objet "nonexistingvar" non trouv?
>> locale:
>> fr_FR.UTF-8/fr_FR.UTF-8/fr_FR.UTF-8/C/fr_FR.UTF-8/fr_FR.UTF-8
>> Cheers,
>> Simon
>
>


From phgrosjean at sciviews.org  Sat Dec 29 21:25:56 2007
From: phgrosjean at sciviews.org (Philippe Grosjean)
Date: Sat, 29 Dec 2007 21:25:56 +0100
Subject: [R-SIG-Mac] R.app stange behavior?
In-Reply-To: <62ABBB49-CE0C-402F-9B06-9C1422055A98@r-project.org>
References: <47763AD6.7020002@sciviews.org>
	<7F0A1C11-4574-487A-9950-959F3AAB5040@r-project.org>
	<47769A4B.3040809@sciviews.org>
	<62ABBB49-CE0C-402F-9B06-9C1422055A98@r-project.org>
Message-ID: <4776AD54.3030105@sciviews.org>


Simon Urbanek wrote:
> 
> [...]
> For command-line R use the proper one:
> LANG=fr_FR.UTF-8 R
> and that work just fine for me (you can use non-UTF-8, but make sure you 
> have the right terminal then).
>
> Cheers,
> Simon

Yes, that works! Also Sys.setenv(LANG = "fr_FR.UTF-8") works for R.app.
Many thanks,

Philippe


From camping9 at hotmail.com  Sat Dec 29 22:33:56 2007
From: camping9 at hotmail.com (LUZhiping)
Date: Sat, 29 Dec 2007 21:33:56 +0000
Subject: [R-SIG-Mac] how to run my R code in Mac OS X 10.5 Leopard?
Message-ID: <BLU102-W37B76171B951D01AF2DF7C89560@phx.gbl>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20071229/3c3598cc/attachment.pl 

From sdavis2 at mail.nih.gov  Sat Dec 29 23:05:45 2007
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Sat, 29 Dec 2007 17:05:45 -0500
Subject: [R-SIG-Mac] how to run my R code in Mac OS X 10.5 Leopard?
In-Reply-To: <BLU102-W37B76171B951D01AF2DF7C89560@phx.gbl>
References: <BLU102-W37B76171B951D01AF2DF7C89560@phx.gbl>
Message-ID: <264855a00712291405u7bc61ecer3669875810512c1a@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20071229/1f19f00a/attachment.pl 

From kjbeath at kagi.com  Sat Dec 29 23:09:30 2007
From: kjbeath at kagi.com (Ken Beath)
Date: Sun, 30 Dec 2007 09:09:30 +1100
Subject: [R-SIG-Mac] how to run my R code in Mac OS X 10.5 Leopard?
In-Reply-To: <BLU102-W37B76171B951D01AF2DF7C89560@phx.gbl>
References: <BLU102-W37B76171B951D01AF2DF7C89560@phx.gbl>
Message-ID: <4E799061-2BFE-4946-A420-BB008B1A6978@kagi.com>

On 30/12/2007, at 8:33 AM, LUZhiping wrote:

>
> Hi,
>
> I have a question in running R 2.4.1 in the Mac OS X 10.5 Leopard.
>
> I write all my R code without using any packages in R. When I run it  
> in Windows system, it runs smoothly and correctly.
>
> Then I try to run the same code in Mac OS X 10.5 Leopard. I just  
> copy the script file on the desktop of the Mac OS X. I find  I can  
> open the file directly as a text file.
>
> To run R in Mac OS X, I type "R" in the terminal window of Unix, but  
> I can not open the script file as I've done in windows. So I copy  
> all the content of my code, and I paste it in the Unix window, but  
> there are always some errors, for example, error for the variable in  
> loops.
>
> I can not understand why. Though I read some related help file, it  
> seems to me still not quite clear.
>

Do you mean the source command doesn't work? This requires a  
different  file specification than Windows. On my system to source a  
file on the desktop it is source('/Users/kjbeath/Desktop/TestR.R')

If your looking for a GUI based R similar to Windows, then don't run  
the unix version. The installer should have put an application R in  
the Applications folder. Double click on it.

Ken


From Roy.Mendelssohn at noaa.gov  Sat Dec 29 23:09:49 2007
From: Roy.Mendelssohn at noaa.gov (Roy Mendelssohn)
Date: Sat, 29 Dec 2007 14:09:49 -0800
Subject: [R-SIG-Mac] how to run my R code in Mac OS X 10.5 Leopard?
In-Reply-To: <BLU102-W37B76171B951D01AF2DF7C89560@phx.gbl>
References: <BLU102-W37B76171B951D01AF2DF7C89560@phx.gbl>
Message-ID: <7665C8D1-F409-49CD-83F1-9BF46F7C93A8@noaa.gov>

My guess is that under windows you were using a version with a GUI,  
but if you using the terminal on the Mac, you are not.  Depending on  
how you did the install, there should be an R app in your application  
folder that will do what you want.  Otherwise, go to:

http://cran.r-project.org/bin/macosx/  and install R-2.6.1.dmg.

HTH,

-Roy m.

On Dec 29, 2007, at 1:33 PM, LUZhiping wrote:

>
> Hi,
>
> I have a question in running R 2.4.1 in the Mac OS X 10.5 Leopard.
>
> I write all my R code without using any packages in R. When I run  
> it in Windows system, it runs smoothly and correctly.
>
> Then I try to run the same code in Mac OS X 10.5 Leopard. I just  
> copy the script file on the desktop of the Mac OS X. I find  I can  
> open the file directly as a text file.
>
> To run R in Mac OS X, I type "R" in the terminal window of Unix,  
> but I can not open the script file as I've done in windows. So I  
> copy all the content of my code, and I paste it in the Unix window,  
> but there are always some errors, for example, error for the  
> variable in loops.
>
> I can not understand why. Though I read some related help file, it  
> seems to me still not quite clear.
>
> Thank you very much to give me some advice!
>
> Wish you a happy new year!
>
> Sincrely yours
> LU Zhiping
> _________________________________________________________________
> ??????????????????????????????????
> http://get.live.cn
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

**********************
"The contents of this message do not reflect any position of the U.S.  
Government or NOAA."
**********************
Roy Mendelssohn
Supervisory Operations Research Analyst
NOAA/NMFS
Environmental Research Division	
Southwest Fisheries Science Center
1352 Lighthouse Avenue
Pacific Grove, CA 93950-2097

e-mail: Roy.Mendelssohn at noaa.gov (Note new e-mail address)
voice: (831)-648-9029
fax: (831)-648-8440
www: http://www.pfeg.noaa.gov/

"Old age and treachery will overcome youth and skill."


From tim.cole at ich.ucl.ac.uk  Mon Dec 31 20:28:23 2007
From: tim.cole at ich.ucl.ac.uk (Tim Cole)
Date: Mon, 31 Dec 2007 19:28:23 +0000
Subject: [R-SIG-Mac] Cmd-Rtn in R editor
In-Reply-To: <C4D3502E-75E4-4A1C-9E47-21357EB0C17C@r-project.org>
References: <p06240805c39e619f53fd@[192.168.11.5]>
	<C4D3502E-75E4-4A1C-9E47-21357EB0C17C@r-project.org>
Message-ID: <p06240806c39ef1c76239@[192.168.11.5]>

Simon,

Thanks very much for this - it should be very useful.

NB I'm copying to the list for information.

Best wishes,
Tim

At 09:19 -0500 31/12/07, Simon Urbanek wrote:
>Hi Tim,
>
>it should be in the current SVN (i.e. try tonight's build).
>
>Thanks,
>Simon
>
>At 09:50 +0000 21/12/07, Tim Cole wrote:
>>Simon,
>>
>>I'm approaching you direct to expand on why I'm requesting this extension.
>>
>>I've recently come across TINN-R, a flexible R editor for Windows, 
>>which you probably are familiar with. I was very taken with it as a 
>>development environment, in that one can maintain all commands in 
>>an editor window, and fire them across to the console for 
>>execution. This for me is a much better way to work than 
>>maintaining commands in the console via the history.
>>
>>TINN-R has separate icons for executing the current line, executing 
>>the selection and executing the file, and each can be mapped to a 
>>key. The only part of this that is not available in the R editor is 
>>a way to execute the line, which (at least for me) would be the 
>>most useful of all.
>>
>>I can't see any difficulty in principle in making the change, so I 
>>hope you will consider it.
>>
>>Best wishes,
>>Tim
>>
>>At 09:44 +0000 13/12/07, Tim Cole wrote:
>>>I use Cmd-E a lot in the R editor to source the whole file, but 
>>>I've only just noticed Cmd-Rtn to execute the selection. A useful 
>>>extension to this would be to execute the current line, which I 
>>>don't think is currently available.
>>>
>>>Could the definition of Cmd-Rtn be extended to execute either the 
>>>selection, or if nothing is selected the current line?

-- 
Tim.Cole at ich.ucl.ac.uk   Phone +44(0)20 7905 2666  Fax +44(0)20 7905 2381
Paed Epidemiology & Biostats, UCL Institute of Child Health, London 
WC1N 1EH, UK


