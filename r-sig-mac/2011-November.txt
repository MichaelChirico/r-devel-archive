From carl at witthoft.com  Tue Nov  1 23:27:23 2011
From: carl at witthoft.com (Carl Witthoft)
Date: Tue, 01 Nov 2011 18:27:23 -0400
Subject: [R-SIG-Mac] incomplete final line?
Message-ID: <4EB0724B.6090002@witthoft.com>

Just installed R2.14.0 .  Sourcing just about any existing .r file gives me
Warning message:
In readLines(file) :
   incomplete final line found on [file name]

Any ideas?

thanks
Carl

-- 

Sent from my Cray XK6
"Pendeo-navem mei anguillae plena est."


From murdoch.duncan at gmail.com  Wed Nov  2 02:41:47 2011
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Tue, 01 Nov 2011 21:41:47 -0400
Subject: [R-SIG-Mac] incomplete final line?
In-Reply-To: <4EB0724B.6090002@witthoft.com>
References: <4EB0724B.6090002@witthoft.com>
Message-ID: <4EB09FDB.3040005@gmail.com>

On 11-11-01 6:27 PM, Carl Witthoft wrote:
> Just installed R2.14.0 .  Sourcing just about any existing .r file gives me
> Warning message:
> In readLines(file) :
>     incomplete final line found on [file name]
>
> Any ideas?

That means that the final line has no line terminator (LF on 
Unix-alikes, or CR LF on Windows).

Duncan Murdoch


From carl at witthoft.com  Wed Nov  2 03:23:05 2011
From: carl at witthoft.com (Carl Witthoft)
Date: Tue, 01 Nov 2011 22:23:05 -0400
Subject: [R-SIG-Mac] incomplete final line?
In-Reply-To: <4EB09FDB.3040005@gmail.com>
References: <4EB0724B.6090002@witthoft.com> <4EB09FDB.3040005@gmail.com>
Message-ID: <4EB0A989.4030709@witthoft.com>

Yeah, I got that part :-).  The question is why R2.14 is suddenly 
complaining about files which have been fine for the last 4 years.  What 
changed, and is there a way I can fix it?
(other than adding a final 'return' in R.app GUI editor so there's a 
blank line in each file)


On 11/1/11 9:41 PM, Duncan Murdoch wrote:
> On 11-11-01 6:27 PM, Carl Witthoft wrote:
>> Just installed R2.14.0 . Sourcing just about any existing .r file
>> gives me
>> Warning message:
>> In readLines(file) :
>> incomplete final line found on [file name]
>>
>> Any ideas?
>
> That means that the final line has no line terminator (LF on
> Unix-alikes, or CR LF on Windows).
>
> Duncan Murdoch
>

-- 

Sent from my Cray XK6
"Pendeo-navem mei anguillae plena est."


From murdoch.duncan at gmail.com  Wed Nov  2 11:11:07 2011
From: murdoch.duncan at gmail.com (Duncan Murdoch)
Date: Wed, 02 Nov 2011 06:11:07 -0400
Subject: [R-SIG-Mac] incomplete final line?
In-Reply-To: <4EB0A989.4030709@witthoft.com>
References: <4EB0724B.6090002@witthoft.com> <4EB09FDB.3040005@gmail.com>
	<4EB0A989.4030709@witthoft.com>
Message-ID: <4EB1173B.7080401@gmail.com>

On 11-11-01 10:23 PM, Carl Witthoft wrote:
> Yeah, I got that part :-).  The question is why R2.14 is suddenly
> complaining about files which have been fine for the last 4 years.  What
> changed, and is there a way I can fix it?
> (other than adding a final 'return' in R.app GUI editor so there's a
> blank line in each file)

I don't think R has changed.  I've seen that message for a long time. 
But perhaps source() (or whatever method you used to read the file) has 
changed to start using readLines.

Duncan Murdoch

>
>
> On 11/1/11 9:41 PM, Duncan Murdoch wrote:
>> On 11-11-01 6:27 PM, Carl Witthoft wrote:
>>> Just installed R2.14.0 . Sourcing just about any existing .r file
>>> gives me
>>> Warning message:
>>> In readLines(file) :
>>> incomplete final line found on [file name]
>>>
>>> Any ideas?
>>
>> That means that the final line has no line terminator (LF on
>> Unix-alikes, or CR LF on Windows).
>>
>> Duncan Murdoch
>>
>


From pdmmac at mcmaster.ca  Thu Nov  3 20:16:37 2011
From: pdmmac at mcmaster.ca (Peter Macdonald)
Date: Thu, 03 Nov 2011 15:16:37 -0400
Subject: [R-SIG-Mac] R 2.13, 2.14 on an older G4
Message-ID: <CAD860D5.7147%pdmmac@mcmaster.ca>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111103/6cb9acfd/attachment.pl>

From martin.ellis at gmail.com  Thu Nov  3 20:41:47 2011
From: martin.ellis at gmail.com (Martin Ellis)
Date: Thu, 3 Nov 2011 19:41:47 +0000
Subject: [R-SIG-Mac] R 2.13, 2.14 on an older G4
In-Reply-To: <CAD860D5.7147%pdmmac@mcmaster.ca>
References: <CAD860D5.7147%pdmmac@mcmaster.ca>
Message-ID: <CAPiE_jU+NFAOyDdyXjxXHy36z=Kyui2SvemO+E=B7KmKrnWUJA@mail.gmail.com>

I've been having the same problem with my G5, but haven't had time to
figure out what's going wrong.
Maybe something changed between 2.12 and 2.13 in the way that R.app
handles user input?

Martin

On 3 November 2011 19:16, Peter Macdonald <pdmmac at mcmaster.ca> wrote:
> I rather hope that there can be ?a simple fix for this as I use older G4?s
> in the classroom; this one is a 1.33 GHz PowerPC G4 with OS 10.5.8.
>
> R 2.13, 2.14 work perfectly in a Terminal window. The GUI also works until
> there is a syntax error, then it hangs with the spinning disk. Looks like it
> is trying to find the error message but can?t. Wasn?t a problem with 2.12.2.
>
> Thanks for any assistance!
> --
> ?Peter D.M. Macdonald, D.Phil., P.Stat.
> ?Professor Emeritus of Math & Statistics
> ?McMaster University
> ?Hamilton, ON, Canada L8S 4K1
>
> ?Tel: +1 905 525 9140 X 23423
>
>
> ? ? ? ?[[alternative HTML version deleted]]
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From jonas.steenholdt at gmail.com  Fri Nov  4 00:58:24 2011
From: jonas.steenholdt at gmail.com (=?iso-8859-1?Q?Jonas_Steenholdt_S=F8rensen?=)
Date: Thu, 3 Nov 2011 23:58:24 +0000
Subject: [R-SIG-Mac] Starting problem with R
Message-ID: <FCB2B171-DD93-4FB2-B30C-E5BDD8CF39A3@gmail.com>

Hi

I'm a university student study Biology and in class we use Minitab and Excel for our stats work. Since I would like to work from home I choose R and know what a program some Biologist later on use more often. 

I have been reading some of the good guiding I could find online. Put none of them help me with one special problem. I have been trying to import all sort of data to R without any success. Trying with read.table, read.csv, read.xls and they are all giving a response of object not found or No such file or directory. 
I have put my WD to "users/jonasssrensen/Documents/R where I have put my test data in. 

I run R on a macBook with Lion.

I not sure if I need to install some package, apps or change some setups. Hope someone out there can help me.

Best
Jonas

    

From simon.urbanek at r-project.org  Fri Nov  4 01:10:54 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 3 Nov 2011 20:10:54 -0400
Subject: [R-SIG-Mac] R 2.13, 2.14 on an older G4
In-Reply-To: <CAPiE_jU+NFAOyDdyXjxXHy36z=Kyui2SvemO+E=B7KmKrnWUJA@mail.gmail.com>
References: <CAD860D5.7147%pdmmac@mcmaster.ca>
	<CAPiE_jU+NFAOyDdyXjxXHy36z=Kyui2SvemO+E=B7KmKrnWUJA@mail.gmail.com>
Message-ID: <C515712D-8358-456A-BA3E-456165EFB173@r-project.org>


On Nov 3, 2011, at 3:41 PM, Martin Ellis wrote:

> I've been having the same problem with my G5, but haven't had time to
> figure out what's going wrong.
> Maybe something changed between 2.12 and 2.13 in the way that R.app
> handles user input?
> 

It's an old issue that we never figured out - it has to do with the way R signals errors. For some reasons the sigjmp caused by an error will destroy the stack in recent GUI versions. Unfortunately it's not something the GUI caused per se (AFAIK) but rather something that changed as a side effect of something entirely unrelated (maybe compiler versions?). The real reason is so far unknown. I'll see if I can dig deeper ...

Cheers,
Simon


> Martin
> 
> On 3 November 2011 19:16, Peter Macdonald <pdmmac at mcmaster.ca> wrote:
>> I rather hope that there can be  a simple fix for this as I use older G4?s
>> in the classroom; this one is a 1.33 GHz PowerPC G4 with OS 10.5.8.
>> 
>> R 2.13, 2.14 work perfectly in a Terminal window. The GUI also works until
>> there is a syntax error, then it hangs with the spinning disk. Looks like it
>> is trying to find the error message but can?t. Wasn?t a problem with 2.12.2.
>> 
>> Thanks for any assistance!
>> --
>>  Peter D.M. Macdonald, D.Phil., P.Stat.
>>  Professor Emeritus of Math & Statistics
>>  McMaster University
>>  Hamilton, ON, Canada L8S 4K1
>> 
>>  Tel: +1 905 525 9140 X 23423
>> 
>> 
>>        [[alternative HTML version deleted]]
>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Fri Nov  4 01:12:46 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 3 Nov 2011 20:12:46 -0400
Subject: [R-SIG-Mac] Starting problem with R
In-Reply-To: <FCB2B171-DD93-4FB2-B30C-E5BDD8CF39A3@gmail.com>
References: <FCB2B171-DD93-4FB2-B30C-E5BDD8CF39A3@gmail.com>
Message-ID: <7ACB6E7B-05A9-4884-A5A0-FCDA2D058AC1@r-project.org>


On Nov 3, 2011, at 7:58 PM, Jonas Steenholdt S?rensen wrote:

> Hi
> 
> I'm a university student study Biology and in class we use Minitab and Excel for our stats work. Since I would like to work from home I choose R and know what a program some Biologist later on use more often. 
> 
> I have been reading some of the good guiding I could find online. Put none of them help me with one special problem. I have been trying to import all sort of data to R without any success. Trying with read.table, read.csv, read.xls and they are all giving a response of object not found or No such file or directory. 
> I have put my WD to "users/jonasssrensen/Documents/R where I have put my test data in. 
> 

You're probably missing a leading slash. Anyway, it's much easier to just drop the file name from Finder or to use file.choose() instead of trying to type the file name. Also note that there is file name completion in R that may help (just hit <Tab> like in the shell).

Cheers,
Simon


> I run R on a macBook with Lion.
> 
> I not sure if I need to install some package, apps or change some setups. Hope someone out there can help me.
> 
> Best
> Jonas
> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From e0305992 at student.tuwien.ac.at  Fri Nov  4 01:21:45 2011
From: e0305992 at student.tuwien.ac.at (Alexander Braumann)
Date: Fri, 4 Nov 2011 01:21:45 +0100
Subject: [R-SIG-Mac] Fwd: [R] R.app GUI 1.40 predictably and repeatably
	freezing PPC ONLY
Message-ID: <9BDF3B57-C07D-4F1E-91B6-9EE89DE48006@student.tuwien.ac.at>


Hi,

I'm working on Platform: powerpc-apple-darwin9.8.0/ppc (32-bit) and  
I'm facing this problem too. I reconstructed the problem even with the  
newest 2.14.0 version. Terminal worked fine, but GUI 1.41 didn't.

GUI 1.36 (5691) - coming with 2.12.2 - works for me fine.

I hope someone can fix this!


Regards,

Alexander


From d.cross at tcu.edu  Fri Nov  4 01:27:04 2011
From: d.cross at tcu.edu (David Cross)
Date: Thu, 3 Nov 2011 19:27:04 -0500
Subject: [R-SIG-Mac] Starting problem with R
In-Reply-To: <FCB2B171-DD93-4FB2-B30C-E5BDD8CF39A3@gmail.com>
References: <FCB2B171-DD93-4FB2-B30C-E5BDD8CF39A3@gmail.com>
Message-ID: <18FC07F6-E563-4CDB-B544-61F4C46F686A@tcu.edu>

There is some information on reading data in the following file:

http://www.davidcross.us/RPrimer.pdf

Cheers

David Cross
d.cross at tcu.edu
www.davidcross.us




On Nov 3, 2011, at 6:58 PM, Jonas Steenholdt S?rensen wrote:

> Hi
> 
> I'm a university student study Biology and in class we use Minitab and Excel for our stats work. Since I would like to work from home I choose R and know what a program some Biologist later on use more often. 
> 
> I have been reading some of the good guiding I could find online. Put none of them help me with one special problem. I have been trying to import all sort of data to R without any success. Trying with read.table, read.csv, read.xls and they are all giving a response of object not found or No such file or directory. 
> I have put my WD to "users/jonasssrensen/Documents/R where I have put my test data in. 
> 
> I run R on a macBook with Lion.
> 
> I not sure if I need to install some package, apps or change some setups. Hope someone out there can help me.
> 
> Best
> Jonas
> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From e0305992 at student.tuwien.ac.at  Fri Nov  4 13:48:19 2011
From: e0305992 at student.tuwien.ac.at (Alexander Braumann)
Date: Fri, 4 Nov 2011 13:48:19 +0100
Subject: [R-SIG-Mac] R 2.13, 2.14 on an older G4
Message-ID: <ED7F42A3-F9E6-4DB3-8ABD-D9AD6703FE70@student.tuwien.ac.at>

Hi,

I'm working on Platform: powerpc-apple-darwin9.8.0/ppc (32-bit) - G4  
Powerbook - and
I'm facing this problem too - the freezing, after an input with syntax  
error.
I reconstructed the problem even with the newest 2.14.0 version.
Terminal worked fine, but GUI 1.41 didn't.

GUI 1.36 (5691) - coming with 2.12.2 - works for me fine.


(I noticed that I couldn't connect my message with the thread from May  
2011, so I connect it with Martin Ellis request).

Link to this thread: https://mailman.stat.ethz.ch/pipermail/r-sig-mac/2011-May/008225.html


Alexander


From dusa.adrian at gmail.com  Tue Nov  8 16:51:32 2011
From: dusa.adrian at gmail.com (Adrian Dusa)
Date: Tue, 8 Nov 2011 17:51:32 +0200
Subject: [R-SIG-Mac] build and install
Message-ID: <CAJ=0CtDcEJaDe224DP+Ew0Yg2GxXHuNs4p6VhPA9WO73d8C3mA@mail.gmail.com>

Dear All,

Recently switched to a Mac (Lion), now trying to build and install a
local package that works just fine in both Windows and Linux.

R CMD check gives:
* using log directory ?/Users/dusadrian/statusor.Rcheck?
* using R version 2.13.1 (2011-07-08)
* using platform: x86_64-apple-darwin9.8.0 (64-bit)
* using session charset: UTF-8
* checking for file ?statusor/DESCRIPTION? ... OK
* checking extension type ... Package
* this is package ?statusor? version ?0.6-1?
* checking package dependencies ... OK
* checking if this is a source package ... OK
* checking for executable files ... OK
* checking whether package ?statusor? can be installed ... ERROR
Installation failed.
See ?/Users/dusadrian/statusor.Rcheck/00install.out? for details.

The .out file writes:
* installing *source* package ?statusor? ...
** R
** inst
** preparing package for lazy loading
** help
*** installing help indices
** building package indices ...
** testing if installed package can be loaded
Error in file(file, "r", encoding = encoding) :
  cannot open the connection
Calls: source -> file
Execution halted
ERROR: loading failed
* removing ?/Users/dusadrian/statusor.Rcheck/statusor?

Thanks for any hints,
Adrian

-- 
Adrian Dusa
Romanian Social Data Archive
1, Schitu Magureanu Bd.
050025 Bucharest sector 5
Romania
Tel.:+40 21 3126618 \
? ? ? ?+40 21 3120210 / int.101
Fax: +40 21 3158391


From simon.urbanek at r-project.org  Tue Nov  8 17:46:31 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 8 Nov 2011 11:46:31 -0500
Subject: [R-SIG-Mac] build and install
In-Reply-To: <CAJ=0CtDcEJaDe224DP+Ew0Yg2GxXHuNs4p6VhPA9WO73d8C3mA@mail.gmail.com>
References: <CAJ=0CtDcEJaDe224DP+Ew0Yg2GxXHuNs4p6VhPA9WO73d8C3mA@mail.gmail.com>
Message-ID: <37056FCA-D1EF-4753-84B7-807E13CE9202@r-project.org>

This is just a shot in the dark since you didn't provide any details about the package: chances are that you have invalid characters in one of the source files and/or your'e trying to source something that doesn't exist.
Consider putting your package somewhere so we can have a look...

Cheers,
Simon

 
On Nov 8, 2011, at 10:51 AM, Adrian Dusa wrote:

> Dear All,
> 
> Recently switched to a Mac (Lion), now trying to build and install a
> local package that works just fine in both Windows and Linux.
> 
> R CMD check gives:
> * using log directory ?/Users/dusadrian/statusor.Rcheck?
> * using R version 2.13.1 (2011-07-08)
> * using platform: x86_64-apple-darwin9.8.0 (64-bit)
> * using session charset: UTF-8
> * checking for file ?statusor/DESCRIPTION? ... OK
> * checking extension type ... Package
> * this is package ?statusor? version ?0.6-1?
> * checking package dependencies ... OK
> * checking if this is a source package ... OK
> * checking for executable files ... OK
> * checking whether package ?statusor? can be installed ... ERROR
> Installation failed.
> See ?/Users/dusadrian/statusor.Rcheck/00install.out? for details.
> 
> The .out file writes:
> * installing *source* package ?statusor? ...
> ** R
> ** inst
> ** preparing package for lazy loading
> ** help
> *** installing help indices
> ** building package indices ...
> ** testing if installed package can be loaded
> Error in file(file, "r", encoding = encoding) :
>  cannot open the connection
> Calls: source -> file
> Execution halted
> ERROR: loading failed
> * removing ?/Users/dusadrian/statusor.Rcheck/statusor?
> 
> Thanks for any hints,
> Adrian
> 
> -- 
> Adrian Dusa
> Romanian Social Data Archive
> 1, Schitu Magureanu Bd.
> 050025 Bucharest sector 5
> Romania
> Tel.:+40 21 3126618 \
>        +40 21 3120210 / int.101
> Fax: +40 21 3158391
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From teeler at gmail.com  Tue Nov  8 18:21:33 2011
From: teeler at gmail.com (Tyler Pirtle)
Date: Tue, 8 Nov 2011 09:21:33 -0800
Subject: [R-SIG-Mac] C extension, Makevars ignores PKG_LIBS
Message-ID: <CAD=4dBZOvqqxU9-dicVZBXTxP_49gi520MLodgHNx+cTcj5g8Q@mail.gmail.com>

Hi there,

I've got a sample C project I'm trying to get built correctly, but as
you may have guessed from the subject
line, the compilation is missing some things.


rtp-macbookpro:foo rtp$ R CMD INSTALL --build .
* installing to library
?/Library/Frameworks/R.framework/Versions/2.14/Resources/library?
* installing *source* package ?foo? ...
** Creating default NAMESPACE file
** libs
*** arch - i386
gcc-4.2 -arch i386 -std=gnu99
-I/Library/Frameworks/R.framework/Resources/include
-I/Library/Frameworks/R.framework/Resources/include/i386
-I/usr/local/include    -fPIC  -g -O2 -c foo.c -o foo.o
foo.c:1:17: error: some_library.h: No such file or directory
...

Where foo.c includes some_library.h.

My makevars:
PKG_CFLAGS = -I/usr/include/some/library
PKG_LIBS = -lsomelib -L/usr/local/lib/somelib

As you can see from the gcc args that were constructed, my PKG_*
definitions are nowhere to be found. I thought it might have been
a problem with just my setup, but as it turns out I've not been able
to build _any_ C extensions for R packages on the mac at all.

What am I missing? ;)
Thanks,


Tyler


From teeler at gmail.com  Tue Nov  8 18:43:28 2011
From: teeler at gmail.com (Tyler Pirtle)
Date: Tue, 8 Nov 2011 09:43:28 -0800
Subject: [R-SIG-Mac] C extension, Makevars ignores PKG_LIBS
In-Reply-To: <CAD=4dBZOvqqxU9-dicVZBXTxP_49gi520MLodgHNx+cTcj5g8Q@mail.gmail.com>
References: <CAD=4dBZOvqqxU9-dicVZBXTxP_49gi520MLodgHNx+cTcj5g8Q@mail.gmail.com>
Message-ID: <CAD=4dBbc4gV582pcSyagDQ_byXUqd1ojQVWcL1x3JucnwB+sNw@mail.gmail.com>

I will note that shoving MAKEFLAGS="...." into my env. before R CMD
INSTALL ....
does the right thing, but thats sort of not...ok. ;)

Any help, ideas, etc? Thanks.


Tyler


On Tue, Nov 8, 2011 at 9:21 AM, Tyler Pirtle <teeler at gmail.com> wrote:
> Hi there,
>
> I've got a sample C project I'm trying to get built correctly, but as
> you may have guessed from the subject
> line, the compilation is missing some things.
>
>
> rtp-macbookpro:foo rtp$ R CMD INSTALL --build .
> * installing to library
> ?/Library/Frameworks/R.framework/Versions/2.14/Resources/library?
> * installing *source* package ?foo? ...
> ** Creating default NAMESPACE file
> ** libs
> *** arch - i386
> gcc-4.2 -arch i386 -std=gnu99
> -I/Library/Frameworks/R.framework/Resources/include
> -I/Library/Frameworks/R.framework/Resources/include/i386
> -I/usr/local/include ? ?-fPIC ?-g -O2 -c foo.c -o foo.o
> foo.c:1:17: error: some_library.h: No such file or directory
> ...
>
> Where foo.c includes some_library.h.
>
> My makevars:
> PKG_CFLAGS = -I/usr/include/some/library
> PKG_LIBS = -lsomelib -L/usr/local/lib/somelib
>
> As you can see from the gcc args that were constructed, my PKG_*
> definitions are nowhere to be found. I thought it might have been
> a problem with just my setup, but as it turns out I've not been able
> to build _any_ C extensions for R packages on the mac at all.
>
> What am I missing? ;)
> Thanks,
>
>
> Tyler
>


From simon.urbanek at r-project.org  Tue Nov  8 18:50:13 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 8 Nov 2011 12:50:13 -0500
Subject: [R-SIG-Mac] C extension, Makevars ignores PKG_LIBS
In-Reply-To: <CAD=4dBZOvqqxU9-dicVZBXTxP_49gi520MLodgHNx+cTcj5g8Q@mail.gmail.com>
References: <CAD=4dBZOvqqxU9-dicVZBXTxP_49gi520MLodgHNx+cTcj5g8Q@mail.gmail.com>
Message-ID: <91594F4B-FFF4-4067-9BD9-1D28A452EC14@r-project.org>

Tyler,

what you claim is certainly not true:

leotest:AA urbanek$ cat src/Makevars 
PKG_CFLAGS = -ImyCFLAGS
PKG_LIBS = -LmyLIBS

leotest:AA urbanek$ ls src
Makevars	foo.c

leotest:AA urbanek$ R CMD INSTALL --build .
* installing to library ?/Library/Frameworks/R.framework/Versions/2.14/Resources/library?
* installing *source* package ?AA? ...
** Creating default NAMESPACE file
** libs
*** arch - i386
gcc-4.2 -arch i386 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/i386  -I/usr/local/include   -ImyCFLAGS -fPIC  -g -O2 -c foo.c -o foo.o
gcc-4.2 -arch i386 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -o AA.so foo.o -LmyLIBS -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
ld: warning: directory not found for option '-LmyLIBS'
installing to /Library/Frameworks/R.framework/Versions/2.14/Resources/library/AA/libs/i386
*** arch - x86_64
gcc-4.2 -arch x86_64 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64  -I/usr/local/include   -ImyCFLAGS -fPIC  -g -O2 -c foo.c -o foo.o
gcc-4.2 -arch x86_64 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -o AA.so foo.o -LmyLIBS -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
ld: warning: directory not found for option '-LmyLIBS'
installing to /Library/Frameworks/R.framework/Versions/2.14/Resources/library/AA/libs/x86_64
** help
No man pages found in package  ?AA? 
*** installing help indices
** building package indices ...
** testing if installed package can be loaded
packaged installation of ?AA? as ?AA_0.1-1.tgz?

* DONE (AA)

so can you supply a bit more, such as your actual package and actual output?

Cheers,
Simon


On Nov 8, 2011, at 12:21 PM, Tyler Pirtle wrote:

> Hi there,
> 
> I've got a sample C project I'm trying to get built correctly, but as
> you may have guessed from the subject
> line, the compilation is missing some things.
> 
> 
> rtp-macbookpro:foo rtp$ R CMD INSTALL --build .
> * installing to library
> ?/Library/Frameworks/R.framework/Versions/2.14/Resources/library?
> * installing *source* package ?foo? ...
> ** Creating default NAMESPACE file
> ** libs
> *** arch - i386
> gcc-4.2 -arch i386 -std=gnu99
> -I/Library/Frameworks/R.framework/Resources/include
> -I/Library/Frameworks/R.framework/Resources/include/i386
> -I/usr/local/include    -fPIC  -g -O2 -c foo.c -o foo.o
> foo.c:1:17: error: some_library.h: No such file or directory
> ...
> 
> Where foo.c includes some_library.h.
> 
> My makevars:
> PKG_CFLAGS = -I/usr/include/some/library
> PKG_LIBS = -lsomelib -L/usr/local/lib/somelib
> 
> As you can see from the gcc args that were constructed, my PKG_*
> definitions are nowhere to be found. I thought it might have been
> a problem with just my setup, but as it turns out I've not been able
> to build _any_ C extensions for R packages on the mac at all.
> 
> What am I missing? ;)
> Thanks,
> 
> 
> Tyler
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From teeler at gmail.com  Tue Nov  8 18:56:26 2011
From: teeler at gmail.com (Tyler Pirtle)
Date: Tue, 8 Nov 2011 09:56:26 -0800
Subject: [R-SIG-Mac] C extension, Makevars ignores PKG_LIBS
In-Reply-To: <91594F4B-FFF4-4067-9BD9-1D28A452EC14@r-project.org>
References: <CAD=4dBZOvqqxU9-dicVZBXTxP_49gi520MLodgHNx+cTcj5g8Q@mail.gmail.com>
	<91594F4B-FFF4-4067-9BD9-1D28A452EC14@r-project.org>
Message-ID: <CAD=4dBZm_x4tyuH+4vn=nz9UOYFB6sCr5BTXxC9+rWQUk+EcUg@mail.gmail.com>

On Tue, Nov 8, 2011 at 9:50 AM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
> Tyler,
>
> what you claim is certainly not true:
>

Well its certainly true for me!



> leotest:AA urbanek$ cat src/Makevars
> PKG_CFLAGS = -ImyCFLAGS
> PKG_LIBS = -LmyLIBS
>

$ cat src/Makevars
PKG_LIBS = -lzmq
PKG_CFLAGS = -I/usr/local/zmq


> leotest:AA urbanek$ ls src
> Makevars ? ? ? ?foo.c
>

$ ls src
Makevars	interface.cpp	interface.h


> leotest:AA urbanek$ R CMD INSTALL --build .
> * installing to library ?/Library/Frameworks/R.framework/Versions/2.14/Resources/library?
> * installing *source* package ?AA? ...
> ** Creating default NAMESPACE file
> ** libs
> *** arch - i386
> gcc-4.2 -arch i386 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/i386 ?-I/usr/local/include ? -ImyCFLAGS -fPIC ?-g -O2 -c foo.c -o foo.o
> gcc-4.2 -arch i386 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -o AA.so foo.o -LmyLIBS -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
> ld: warning: directory not found for option '-LmyLIBS'
> installing to /Library/Frameworks/R.framework/Versions/2.14/Resources/library/AA/libs/i386
> *** arch - x86_64
> gcc-4.2 -arch x86_64 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64 ?-I/usr/local/include ? -ImyCFLAGS -fPIC ?-g -O2 -c foo.c -o foo.o
> gcc-4.2 -arch x86_64 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -o AA.so foo.o -LmyLIBS -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
> ld: warning: directory not found for option '-LmyLIBS'
> installing to /Library/Frameworks/R.framework/Versions/2.14/Resources/library/AA/libs/x86_64
> ** help
> No man pages found in package ??AA?
> *** installing help indices
> ** building package indices ...
> ** testing if installed package can be loaded
> packaged installation of ?AA? as ?AA_0.1-1.tgz?
>
> * DONE (AA)
>

$ R CMD INSTALL --build .
* installing to library
?/Library/Frameworks/R.framework/Versions/2.14/Resources/library?
* installing *source* package ?rzmq? ...
** libs
*** arch - i386
g++-4.2 -arch i386 -I/Library/Frameworks/R.framework/Resources/include
-I/Library/Frameworks/R.framework/Resources/include/i386
-I/usr/local/include    -fPIC  -g -O2 -c interface.cpp -o interface.o
interface.cpp:20:19: error: zmq.hpp: No such file or directory
...


And very unusual, I must say. I'm on R 2.14.0, also.



> so can you supply a bit more, such as your actual package and actual output?
>
> Cheers,
> Simon
>
>
> On Nov 8, 2011, at 12:21 PM, Tyler Pirtle wrote:
>
>> Hi there,
>>
>> I've got a sample C project I'm trying to get built correctly, but as
>> you may have guessed from the subject
>> line, the compilation is missing some things.
>>
>>
>> rtp-macbookpro:foo rtp$ R CMD INSTALL --build .
>> * installing to library
>> ?/Library/Frameworks/R.framework/Versions/2.14/Resources/library?
>> * installing *source* package ?foo? ...
>> ** Creating default NAMESPACE file
>> ** libs
>> *** arch - i386
>> gcc-4.2 -arch i386 -std=gnu99
>> -I/Library/Frameworks/R.framework/Resources/include
>> -I/Library/Frameworks/R.framework/Resources/include/i386
>> -I/usr/local/include ? ?-fPIC ?-g -O2 -c foo.c -o foo.o
>> foo.c:1:17: error: some_library.h: No such file or directory
>> ...
>>
>> Where foo.c includes some_library.h.
>>
>> My makevars:
>> PKG_CFLAGS = -I/usr/include/some/library
>> PKG_LIBS = -lsomelib -L/usr/local/lib/somelib
>>
>> As you can see from the gcc args that were constructed, my PKG_*
>> definitions are nowhere to be found. I thought it might have been
>> a problem with just my setup, but as it turns out I've not been able
>> to build _any_ C extensions for R packages on the mac at all.
>>
>> What am I missing? ;)
>> Thanks,
>>
>>
>> Tyler
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
>


From simon.urbanek at r-project.org  Tue Nov  8 19:04:56 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 8 Nov 2011 13:04:56 -0500
Subject: [R-SIG-Mac] C extension, Makevars ignores PKG_LIBS
In-Reply-To: <CAD=4dBZm_x4tyuH+4vn=nz9UOYFB6sCr5BTXxC9+rWQUk+EcUg@mail.gmail.com>
References: <CAD=4dBZOvqqxU9-dicVZBXTxP_49gi520MLodgHNx+cTcj5g8Q@mail.gmail.com>
	<91594F4B-FFF4-4067-9BD9-1D28A452EC14@r-project.org>
	<CAD=4dBZm_x4tyuH+4vn=nz9UOYFB6sCr5BTXxC9+rWQUk+EcUg@mail.gmail.com>
Message-ID: <1609418B-99B6-4901-8510-C6C3102E4D10@r-project.org>

Tyler,

you're setting C flags and using C++ - that's certainly not going to work ;)

Cheers,
Simon


On Nov 8, 2011, at 12:56 PM, Tyler Pirtle wrote:

> On Tue, Nov 8, 2011 at 9:50 AM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> Tyler,
>> 
>> what you claim is certainly not true:
>> 
> 
> Well its certainly true for me!
> 
> 
> 
>> leotest:AA urbanek$ cat src/Makevars
>> PKG_CFLAGS = -ImyCFLAGS
>> PKG_LIBS = -LmyLIBS
>> 
> 
> $ cat src/Makevars
> PKG_LIBS = -lzmq
> PKG_CFLAGS = -I/usr/local/zmq
> 
> 
>> leotest:AA urbanek$ ls src
>> Makevars        foo.c
>> 
> 
> $ ls src
> Makevars	interface.cpp	interface.h
> 
> 
>> leotest:AA urbanek$ R CMD INSTALL --build .
>> * installing to library ?/Library/Frameworks/R.framework/Versions/2.14/Resources/library?
>> * installing *source* package ?AA? ...
>> ** Creating default NAMESPACE file
>> ** libs
>> *** arch - i386
>> gcc-4.2 -arch i386 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/i386  -I/usr/local/include   -ImyCFLAGS -fPIC  -g -O2 -c foo.c -o foo.o
>> gcc-4.2 -arch i386 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -o AA.so foo.o -LmyLIBS -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
>> ld: warning: directory not found for option '-LmyLIBS'
>> installing to /Library/Frameworks/R.framework/Versions/2.14/Resources/library/AA/libs/i386
>> *** arch - x86_64
>> gcc-4.2 -arch x86_64 -std=gnu99 -I/Library/Frameworks/R.framework/Resources/include -I/Library/Frameworks/R.framework/Resources/include/x86_64  -I/usr/local/include   -ImyCFLAGS -fPIC  -g -O2 -c foo.c -o foo.o
>> gcc-4.2 -arch x86_64 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/usr/local/lib -o AA.so foo.o -LmyLIBS -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation
>> ld: warning: directory not found for option '-LmyLIBS'
>> installing to /Library/Frameworks/R.framework/Versions/2.14/Resources/library/AA/libs/x86_64
>> ** help
>> No man pages found in package  ?AA?
>> *** installing help indices
>> ** building package indices ...
>> ** testing if installed package can be loaded
>> packaged installation of ?AA? as ?AA_0.1-1.tgz?
>> 
>> * DONE (AA)
>> 
> 
> $ R CMD INSTALL --build .
> * installing to library
> ?/Library/Frameworks/R.framework/Versions/2.14/Resources/library?
> * installing *source* package ?rzmq? ...
> ** libs
> *** arch - i386
> g++-4.2 -arch i386 -I/Library/Frameworks/R.framework/Resources/include
> -I/Library/Frameworks/R.framework/Resources/include/i386
> -I/usr/local/include    -fPIC  -g -O2 -c interface.cpp -o interface.o
> interface.cpp:20:19: error: zmq.hpp: No such file or directory
> ...
> 
> 
> And very unusual, I must say. I'm on R 2.14.0, also.
> 
> 
> 
>> so can you supply a bit more, such as your actual package and actual output?
>> 
>> Cheers,
>> Simon
>> 
>> 
>> On Nov 8, 2011, at 12:21 PM, Tyler Pirtle wrote:
>> 
>>> Hi there,
>>> 
>>> I've got a sample C project I'm trying to get built correctly, but as
>>> you may have guessed from the subject
>>> line, the compilation is missing some things.
>>> 
>>> 
>>> rtp-macbookpro:foo rtp$ R CMD INSTALL --build .
>>> * installing to library
>>> ?/Library/Frameworks/R.framework/Versions/2.14/Resources/library?
>>> * installing *source* package ?foo? ...
>>> ** Creating default NAMESPACE file
>>> ** libs
>>> *** arch - i386
>>> gcc-4.2 -arch i386 -std=gnu99
>>> -I/Library/Frameworks/R.framework/Resources/include
>>> -I/Library/Frameworks/R.framework/Resources/include/i386
>>> -I/usr/local/include    -fPIC  -g -O2 -c foo.c -o foo.o
>>> foo.c:1:17: error: some_library.h: No such file or directory
>>> ...
>>> 
>>> Where foo.c includes some_library.h.
>>> 
>>> My makevars:
>>> PKG_CFLAGS = -I/usr/include/some/library
>>> PKG_LIBS = -lsomelib -L/usr/local/lib/somelib
>>> 
>>> As you can see from the gcc args that were constructed, my PKG_*
>>> definitions are nowhere to be found. I thought it might have been
>>> a problem with just my setup, but as it turns out I've not been able
>>> to build _any_ C extensions for R packages on the mac at all.
>>> 
>>> What am I missing? ;)
>>> Thanks,
>>> 
>>> 
>>> Tyler
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
>> 
> 
> 


From dusa.adrian at gmail.com  Tue Nov  8 22:40:48 2011
From: dusa.adrian at gmail.com (Adrian Dusa)
Date: Tue, 8 Nov 2011 23:40:48 +0200
Subject: [R-SIG-Mac] build and install
In-Reply-To: <37056FCA-D1EF-4753-84B7-807E13CE9202@r-project.org>
References: <CAJ=0CtDcEJaDe224DP+Ew0Yg2GxXHuNs4p6VhPA9WO73d8C3mA@mail.gmail.com>
	<37056FCA-D1EF-4753-84B7-807E13CE9202@r-project.org>
Message-ID: <CAJ=0CtAT0vV+6C1vBiwoUqhnPvY8J-h4FYak4t7W8=15JYZVaQ@mail.gmail.com>

Right... that was it.
There was nothing wrong with the package itself, rather with a file in
the .Rprofile (MacOS paths are a little different from the Linux
paths).

Thanks,
Adrian

On Tue, Nov 8, 2011 at 18:46, Simon Urbanek <simon.urbanek at r-project.org> wrote:
> This is just a shot in the dark since you didn't provide any details about the package: chances are that you have invalid characters in one of the source files and/or your'e trying to source something that doesn't exist.
> Consider putting your package somewhere so we can have a look...
>
> Cheers,
> Simon
>
>
> On Nov 8, 2011, at 10:51 AM, Adrian Dusa wrote:
>
>> Dear All,
>>
>> Recently switched to a Mac (Lion), now trying to build and install a
>> local package that works just fine in both Windows and Linux.
>>
>> R CMD check gives:
>> * using log directory ?/Users/dusadrian/statusor.Rcheck?
>> * using R version 2.13.1 (2011-07-08)
>> * using platform: x86_64-apple-darwin9.8.0 (64-bit)
>> * using session charset: UTF-8
>> * checking for file ?statusor/DESCRIPTION? ... OK
>> * checking extension type ... Package
>> * this is package ?statusor? version ?0.6-1?
>> * checking package dependencies ... OK
>> * checking if this is a source package ... OK
>> * checking for executable files ... OK
>> * checking whether package ?statusor? can be installed ... ERROR
>> Installation failed.
>> See ?/Users/dusadrian/statusor.Rcheck/00install.out? for details.
>>
>> The .out file writes:
>> * installing *source* package ?statusor? ...
>> ** R
>> ** inst
>> ** preparing package for lazy loading
>> ** help
>> *** installing help indices
>> ** building package indices ...
>> ** testing if installed package can be loaded
>> Error in file(file, "r", encoding = encoding) :
>> ?cannot open the connection
>> Calls: source -> file
>> Execution halted
>> ERROR: loading failed
>> * removing ?/Users/dusadrian/statusor.Rcheck/statusor?
>>
>> Thanks for any hints,
>> Adrian
>>
>> --
>> Adrian Dusa
>> Romanian Social Data Archive
>> 1, Schitu Magureanu Bd.
>> 050025 Bucharest sector 5
>> Romania
>> Tel.:+40 21 3126618 \
>> ? ? ? ?+40 21 3120210 / int.101
>> Fax: +40 21 3158391
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>



-- 
Adrian Dusa
Romanian Social Data Archive
1, Schitu Magureanu Bd.
050025 Bucharest sector 5
Romania
Tel.:+40 21 3126618 \
? ? ? ?+40 21 3120210 / int.101
Fax: +40 21 3158391


From jan.verbesselt at wur.nl  Thu Nov 10 12:02:36 2011
From: jan.verbesselt at wur.nl (Verbesselt, Jan)
Date: Thu, 10 Nov 2011 12:02:36 +0100
Subject: [R-SIG-Mac] R 2.14.0 on MacBook Pro
Message-ID: <3142C882-A1EF-4F81-A5DD-00CDAB7A8624@wur.nl>

Dear all,

I have just upgraded from 2.13.2 to 2.14.0 on my mac book pro on 10.6.8 OsX. 
After installing the "zoo" package -  I am unable to load the zoo package in R using R64.app.

What is causing this problem? Everything used to work fine in 2.13.2. Is there anything I need to fix after updating?

Strangely, I noticed that when using Rstudio or R from Terminal -> and loading the zoo package no problem occurs.

Thanks for your help,
Jan


sessionInfo()
install.packages("zoo")
require(zoo)
library(zoo)


.Rprofile: Setting Amsterdam repository
[R.app GUI 1.42 (5933) x86_64-apple-darwin9.8.0]

> sessionInfo()
R version 2.14.0 (2011-10-31)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     
> install.packages("zoo")
Installing package(s) into ?/Users/janvb/Library/R/2.14/library?
(as ?lib? is unspecified)
trying URL 'http://www.freestatistics.org/cran/bin/macosx/leopard/contrib/2.14/zoo_1.7-6.tgz'
Content type 'application/x-gzip' length 1397025 bytes (1.3 Mb)
opened URL
==================================================
downloaded 1.3 Mb


The downloaded packages are in
	/var/folders/zU/zUFo9cfDGwisjk7fyjDVtk+++TI/-Tmp-//RtmpHiqeQS/downloaded_packages
> require(zoo)
Loading required package: zoo
Error in dyn.load(file, DLLpath = DLLpath, ...) : 
  unable to load shared object '/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so':
  dlopen(/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so, 6): Library not loaded: @rpath/R.framework/Versions/2.14/Resources/lib/libR.dylib
  Referenced from: /Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so
  Reason: image not found
> library(zoo)
Error in dyn.load(file, DLLpath = DLLpath, ...) : 
  unable to load shared object '/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so':
  dlopen(/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so, 6): Library not loaded: @rpath/R.framework/Versions/2.14/Resources/lib/libR.dylib
  Referenced from: /Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so
  Reason: image not found
Error: package/namespace load failed for ?zoo?
> '


From simon.urbanek at r-project.org  Thu Nov 10 15:41:47 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 10 Nov 2011 09:41:47 -0500
Subject: [R-SIG-Mac] R 2.14.0 on MacBook Pro
In-Reply-To: <3142C882-A1EF-4F81-A5DD-00CDAB7A8624@wur.nl>
References: <3142C882-A1EF-4F81-A5DD-00CDAB7A8624@wur.nl>
Message-ID: <BFE8108C-A9B4-406F-ACE6-1496B600AD39@r-project.org>

Jan,

On Nov 10, 2011, at 6:02 AM, Verbesselt, Jan wrote:

> Dear all,
> 
> I have just upgraded from 2.13.2 to 2.14.0 on my mac book pro on 10.6.8 OsX. 
> After installing the "zoo" package -  I am unable to load the zoo package in R using R64.app.
> 
> What is causing this problem? Everything used to work fine in 2.13.2. Is there anything I need to fix after updating?
> 

It is probably my fault (details below) - a quick fix is to update your R.app GUI from http://r.research.att.com/

Technical details:

Recent R binaries (but only after 2.14.0 release) use @rpath to allow re-location of the R framework - it means that you can have the entire R in just one icon that you can move around as you please - just like the R.app GUI now except that the entire R is in there and no other dependencies are needed (e.g. you can just put it on a CD or thumb drive). According to Apple documentation the default fallback to @rpath includes /Library/Frameworks which is the location of the R framework when installed, so everything that worked before with absolute paths should be working with @rpath. However, it seems that for some unknown reason the R.app binaries don't fall back to the old @rpath and/or there are some issues combining absolute paths and @rpath. The most recent build of R.app include the LC_RPATH load commands set accordingly so they don't need the fallback. It is indeed startling, because the behavior that you see in Terminal, RStudio etc. is how it is supposed to behave according to Apple documentation. Before I figure out how to solve this you can simply grab more recent R.app.

Thanks,
Simon



> Strangely, I noticed that when using Rstudio or R from Terminal -> and loading the zoo package no problem occurs.
> 
> Thanks for your help,
> Jan
> 
> 
> sessionInfo()
> install.packages("zoo")
> require(zoo)
> library(zoo)
> 
> 
> .Rprofile: Setting Amsterdam repository
> [R.app GUI 1.42 (5933) x86_64-apple-darwin9.8.0]
> 
>> sessionInfo()
> R version 2.14.0 (2011-10-31)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
>> install.packages("zoo")
> Installing package(s) into ?/Users/janvb/Library/R/2.14/library?
> (as ?lib? is unspecified)
> trying URL 'http://www.freestatistics.org/cran/bin/macosx/leopard/contrib/2.14/zoo_1.7-6.tgz'
> Content type 'application/x-gzip' length 1397025 bytes (1.3 Mb)
> opened URL
> ==================================================
> downloaded 1.3 Mb
> 
> 
> The downloaded packages are in
> 	/var/folders/zU/zUFo9cfDGwisjk7fyjDVtk+++TI/-Tmp-//RtmpHiqeQS/downloaded_packages
>> require(zoo)
> Loading required package: zoo
> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>  unable to load shared object '/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so':
>  dlopen(/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so, 6): Library not loaded: @rpath/R.framework/Versions/2.14/Resources/lib/libR.dylib
>  Referenced from: /Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so
>  Reason: image not found
>> library(zoo)
> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>  unable to load shared object '/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so':
>  dlopen(/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so, 6): Library not loaded: @rpath/R.framework/Versions/2.14/Resources/lib/libR.dylib
>  Referenced from: /Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so
>  Reason: image not found
> Error: package/namespace load failed for ?zoo?
>> '
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From c_r_masson at yahoo.com  Thu Nov 10 16:08:18 2011
From: c_r_masson at yahoo.com (Colin Masson)
Date: Thu, 10 Nov 2011 07:08:18 -0800 (PST)
Subject: [R-SIG-Mac] libR.dylib Library not loaded
Message-ID: <1320937698.39259.YahooMailNeo@web161803.mail.bf1.yahoo.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111110/b72967af/attachment.pl>

From simon.urbanek at r-project.org  Thu Nov 10 17:19:56 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 10 Nov 2011 11:19:56 -0500
Subject: [R-SIG-Mac] libR.dylib Library not loaded
In-Reply-To: <1320937698.39259.YahooMailNeo@web161803.mail.bf1.yahoo.com>
References: <1320937698.39259.YahooMailNeo@web161803.mail.bf1.yahoo.com>
Message-ID: <9141A0A8-5A1D-45F2-A768-C4194E561F00@r-project.org>

It pays to read the list you post to ;) - this was actually discussed today:

https://stat.ethz.ch/pipermail/r-sig-mac/2011-November/008757.html


On Nov 10, 2011, at 10:08 AM, Colin Masson wrote:

> I am unable to load package 'zoo', apparently because of some problem with libR.dylib.
> 
> I am running OSX 10.7.2 on an iMac and just did a fresh install of R 2.14 followed by an installation of package quantmod and dependencies using the R Package Installer in the GUI. The problem is found with both 32 and 64-bit versions of R.
> 
> 
> Any help would be welcome. The error message is below.
> 
> Thank you.
> 
> Colin Masson
> 
> 
> Loading required package: Defaults
> Loading required package: xts
> Loading required package: zoo
> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>   unable to load shared object '/Library/Frameworks/R.framework/Versions/2.14/Resources/library/zoo/libs/i386/zoo.so':
>   dlopen(/Library/Frameworks/R.framework/Versions/2.14/Resources/library/zoo/libs/i386/zoo.so, 6): Library not loaded: @rpath/R.framework/Versions/2.14/Resources/lib/libR.dylib
>   Referenced from: /Library/Frameworks/R.framework/Versions/2.14/Resources/library/zoo/libs/i386/zoo.so
>   Reason: image not found
> Error: package ?zoo? could not be loaded
>> 
> 
> 
> It appears that there is a file named libR.dylib:
> 
> $ ls -l /Library/Frameworks/R.framework/Versions/2.14/Resources/lib
> total 47528
> drwxrwxr-x  5 root  admin      170 Nov 10 09:33 i386
> -rwxrwxr-x  1 root  admin  9896624 Oct 31 16:59 libR.dylib
> drwxrwxr-x  3 root  admin      102 Oct 31 16:59 libR.dylib.dSYM
> -rwxrwxr-x  1 root  admin   539904 Oct 31 16:59 libRblas.0.dylib
> lrwxr-xr-x  1 root  admin       16 Nov 10 09:33 libRblas.dylib -> libRblas.0.dylib
> drwxrwxr-x  3 root  admin      102 Oct 31 16:59 libRblas.dylib.dSYM
> -rwxrwxr-x  1 root  admin    65981 Oct 31 16:59 libRblas.vecLib.dylib
> -rwxrwxr-x  1 root  admin  3980060 Oct 31 16:59 libRlapack.dylib
> drwxrwxr-x  3 root  admin      102 Oct 31 16:59 libRlapack.dylib.dSYM
> -rwxrwxr-x  1 root  admin   736903 Oct 31 16:59 libgcc_s.1.dylib
> -rwxrwxr-x  1 root  admin  8094839 Oct 31 16:59 libgfortran.2.dylib
> -rwxrwxr-x  1 root  admin   996788 Oct 31 16:59 libreadline.5.2.dylib
> lrwxr-xr-x  1 root  admin       21 Nov 10 09:33 libreadline.dylib -> libreadline.5.2.dylib
> drwxrwxr-x  5 root  admin      170 Nov 10 09:33 x86_64
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Thu Nov 10 19:41:12 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 10 Nov 2011 13:41:12 -0500
Subject: [R-SIG-Mac] R 2.14.0 on MacBook Pro
In-Reply-To: <BFE8108C-A9B4-406F-ACE6-1496B600AD39@r-project.org>
References: <3142C882-A1EF-4F81-A5DD-00CDAB7A8624@wur.nl>
	<BFE8108C-A9B4-406F-ACE6-1496B600AD39@r-project.org>
Message-ID: <32C2570D-4520-4E71-99F3-84F93EE1BB92@r-project.org>

I have started a re-build of the packages that were affected so starting tomorrow all you need to do is to update those packages. (This is mainly for people that don't want to touch their R.app - the bottom line is that the issue should go way for anyone installing packages or R later).

Cheers,
Simon


On Nov 10, 2011, at 9:41 AM, Simon Urbanek wrote:

> Jan,
> 
> On Nov 10, 2011, at 6:02 AM, Verbesselt, Jan wrote:
> 
>> Dear all,
>> 
>> I have just upgraded from 2.13.2 to 2.14.0 on my mac book pro on 10.6.8 OsX. 
>> After installing the "zoo" package -  I am unable to load the zoo package in R using R64.app.
>> 
>> What is causing this problem? Everything used to work fine in 2.13.2. Is there anything I need to fix after updating?
>> 
> 
> It is probably my fault (details below) - a quick fix is to update your R.app GUI from http://r.research.att.com/
> 
> Technical details:
> 
> Recent R binaries (but only after 2.14.0 release) use @rpath to allow re-location of the R framework - it means that you can have the entire R in just one icon that you can move around as you please - just like the R.app GUI now except that the entire R is in there and no other dependencies are needed (e.g. you can just put it on a CD or thumb drive). According to Apple documentation the default fallback to @rpath includes /Library/Frameworks which is the location of the R framework when installed, so everything that worked before with absolute paths should be working with @rpath. However, it seems that for some unknown reason the R.app binaries don't fall back to the old @rpath and/or there are some issues combining absolute paths and @rpath. The most recent build of R.app include the LC_RPATH load commands set accordingly so they don't need the fallback. It is indeed startling, because the behavior that you see in Terminal, RStudio etc. is how it is supposed to behave according to Apple documentation. Before I figure out how to solve this you can simply grab more recent R.app.
> 
> Thanks,
> Simon
> 
> 
> 
>> Strangely, I noticed that when using Rstudio or R from Terminal -> and loading the zoo package no problem occurs.
>> 
>> Thanks for your help,
>> Jan
>> 
>> 
>> sessionInfo()
>> install.packages("zoo")
>> require(zoo)
>> library(zoo)
>> 
>> 
>> .Rprofile: Setting Amsterdam repository
>> [R.app GUI 1.42 (5933) x86_64-apple-darwin9.8.0]
>> 
>>> sessionInfo()
>> R version 2.14.0 (2011-10-31)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> 
>> locale:
>> [1] en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base     
>>> install.packages("zoo")
>> Installing package(s) into ?/Users/janvb/Library/R/2.14/library?
>> (as ?lib? is unspecified)
>> trying URL 'http://www.freestatistics.org/cran/bin/macosx/leopard/contrib/2.14/zoo_1.7-6.tgz'
>> Content type 'application/x-gzip' length 1397025 bytes (1.3 Mb)
>> opened URL
>> ==================================================
>> downloaded 1.3 Mb
>> 
>> 
>> The downloaded packages are in
>> 	/var/folders/zU/zUFo9cfDGwisjk7fyjDVtk+++TI/-Tmp-//RtmpHiqeQS/downloaded_packages
>>> require(zoo)
>> Loading required package: zoo
>> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>> unable to load shared object '/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so':
>> dlopen(/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so, 6): Library not loaded: @rpath/R.framework/Versions/2.14/Resources/lib/libR.dylib
>> Referenced from: /Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so
>> Reason: image not found
>>> library(zoo)
>> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>> unable to load shared object '/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so':
>> dlopen(/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so, 6): Library not loaded: @rpath/R.framework/Versions/2.14/Resources/lib/libR.dylib
>> Referenced from: /Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so
>> Reason: image not found
>> Error: package/namespace load failed for ?zoo?
>>> '
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From jfox at mcmaster.ca  Thu Nov 10 23:24:55 2011
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 10 Nov 2011 17:24:55 -0500
Subject: [R-SIG-Mac] Rcmdr 1.7.2 on Mac
Message-ID: <003601cc9ff7$931d9630$b958c290$@mcmaster.ca>

Dear Kristian,

Odd as it seems, I think that the problem is with the CRAN build of the
Rcmdr package. When I tried installing the Rcmdr package version 1.7-2 on my
own Mac (OS X Lion, R 2.14.0) from CRAN via install.packages("Rcmdr") I got
the same error as your students, but when I installed from CRAN sources,
install.packages("Rcmdr", type="source"), the package worked just fine.
(There is one .c file in the Rcmdr sources.)

I'm not sure what's going on and thus have copied this response to the R Mac
email list for comments.

Best,
 John

--------------------------------
John Fox
Senator William McMaster
  Professor of Social Statistics
Department of Sociology
McMaster University
Hamilton, Ontario, Canada
http://socserv.mcmaster.ca/jfox




> -----Original Message-----
> From: Kristian Hovde Liland [mailto:kristian.liland at umb.no]
> Sent: November-10-11 4:39 PM
> To: 'jfox at mcmaster.ca'
> Subject: Rcmdr 1.7.2 on Mac
> 
> Dear John Fox.
> 
> 
> 
> Thank you again for your feedback after my talk at useR! on teaching
> statistics to natural science students.
> 
> 
> 
> I am getting feedback from several Mac users that are installing Rcmdr
> 1.7.2 on a fresh install of R 2.14.0 that the R Commander will not
> launch. There is an error concerning a missing file named Rcmdr.so both
> for 32-bit and 64-bit installations.
> 
> 
> 
> Do you have any tips? Or do you know where I can get hold of the Mac
> version of Rcmdr 1.7.0 as a temporary fix?
> 
> 
> 
> Best regards,
> 
> Kristian Hovde Liland
> 
> 
> 
> 
> 
>


From simon.urbanek at r-project.org  Fri Nov 11 00:29:02 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 10 Nov 2011 18:29:02 -0500
Subject: [R-SIG-Mac] Rcmdr 1.7.2 on Mac
In-Reply-To: <003601cc9ff7$931d9630$b958c290$@mcmaster.ca>
References: <003601cc9ff7$931d9630$b958c290$@mcmaster.ca>
Message-ID: <8F7B4BE4-74C1-4C00-9A62-393032DD110E@r-project.org>

John,

can you, please, be more specific? Rcmds from CRAN works just fine for me -- can you at least include the exact error and sessionInfo()?

Thanks,
Simon

On Nov 10, 2011, at 5:24 PM, John Fox wrote:

> Dear Kristian,
> 
> Odd as it seems, I think that the problem is with the CRAN build of the
> Rcmdr package. When I tried installing the Rcmdr package version 1.7-2 on my
> own Mac (OS X Lion, R 2.14.0) from CRAN via install.packages("Rcmdr") I got
> the same error as your students, but when I installed from CRAN sources,
> install.packages("Rcmdr", type="source"), the package worked just fine.
> (There is one .c file in the Rcmdr sources.)
> 
> I'm not sure what's going on and thus have copied this response to the R Mac
> email list for comments.
> 
> Best,
> John
> 
> --------------------------------
> John Fox
> Senator William McMaster
>  Professor of Social Statistics
> Department of Sociology
> McMaster University
> Hamilton, Ontario, Canada
> http://socserv.mcmaster.ca/jfox
> 
> 
> 
> 
>> -----Original Message-----
>> From: Kristian Hovde Liland [mailto:kristian.liland at umb.no]
>> Sent: November-10-11 4:39 PM
>> To: 'jfox at mcmaster.ca'
>> Subject: Rcmdr 1.7.2 on Mac
>> 
>> Dear John Fox.
>> 
>> 
>> 
>> Thank you again for your feedback after my talk at useR! on teaching
>> statistics to natural science students.
>> 
>> 
>> 
>> I am getting feedback from several Mac users that are installing Rcmdr
>> 1.7.2 on a fresh install of R 2.14.0 that the R Commander will not
>> launch. There is an error concerning a missing file named Rcmdr.so both
>> for 32-bit and 64-bit installations.
>> 
>> 
>> 
>> Do you have any tips? Or do you know where I can get hold of the Mac
>> version of Rcmdr 1.7.0 as a temporary fix?
>> 
>> 
>> 
>> Best regards,
>> 
>> Kristian Hovde Liland
>> 
>> 
>> 
>> 
>> 
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From jfox at mcmaster.ca  Fri Nov 11 00:38:54 2011
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 10 Nov 2011 18:38:54 -0500
Subject: [R-SIG-Mac] FW:  Rcmdr 1.7.2 on Mac
In-Reply-To: <004001cca000$f0a410f0$d1ec32d0$@mcmaster.ca>
References: <003601cc9ff7$931d9630$b958c290$@mcmaster.ca>
	<8F7B4BE4-74C1-4C00-9A62-393032DD110E@r-project.org>
	<004001cca000$f0a410f0$d1ec32d0$@mcmaster.ca>
Message-ID: <web-379816023@cgpsrv2.cis.mcmaster.ca>

Dear Simon,

I was hoping that you'd pick this up -- thanks.

Here's an entire session, including installing the package, trying to load it (showing the error), and the session info. As I said, when I install from source (also from CRAN), there's no problem.

Best,
 John

------------ snip --------------


R version 2.14.0 (2011-10-31)
Copyright (C) 2011 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

[R.app GUI 1.42 (5933) x86_64-apple-darwin9.8.0]

[History restored from /Users/jfox/.Rapp.history]

> install.packages("Rcmdr")
trying URL 'http://probability.ca/cran/bin/macosx/leopard/contrib/2.14/Rcmdr_1.7-2.tgz'
Content type 'application/x-gzip' length 2989140 bytes (2.9 Mb)
opened URL
==================================================
downloaded 2.9 Mb


The downloaded packages are in
	/var/folders/lg/jw1b4glj3ms49rfy9744jvdh0000gn/T//RtmpMvycwZ/downloaded_packages

> library(Rcmdr)
Loading required package: tcltk
Loading Tcl/Tk interface ... done
Loading required package: car
Loading required package: MASS
Loading required package: nnet
Loading required package: survival
Loading required package: splines
Error in dyn.load(file, DLLpath = DLLpath, ...) : 
  unable to load shared object '/Library/Frameworks/R.framework/Versions/2.14/Resources/library/Rcmdr/libs/x86_64/Rcmdr.so':
  dlopen(/Library/Frameworks/R.framework/Versions/2.14/Resources/library/Rcmdr/libs/x86_64/Rcmdr.so, 6): Library not loaded: @rpath/R.framework/Versions/2.14/Resources/lib/libR.dylib
  Referenced from: /Library/Frameworks/R.framework/Versions/2.14/Resources/library/Rcmdr/libs/x86_64/Rcmdr.so
  Reason: image not found
Error: package/namespace load failed for ?Rcmdr?

> sessionInfo()
R version 2.14.0 (2011-10-31)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8

attached base packages:
[1] splines   tcltk     stats     graphics  grDevices utils     datasets  methods  
[9] base     

other attached packages:
[1] car_2.0-11       survival_2.36-10 nnet_7.3-1       MASS_7.3-16     

loaded via a namespace (and not attached):
[1] tools_2.14.0
> 


> -----Original Message-----
> From: Simon Urbanek [mailto:simon.urbanek at r-project.org] 
> Sent: November-10-11 6:29 PM
> To: John Fox
> Cc: 'Kristian Hovde Liland'; r-sig-mac at r-project.org
> Subject: Re: [R-SIG-Mac] Rcmdr 1.7.2 on Mac
> 
> John,
> 
> can you, please, be more specific? Rcmds from CRAN works just fine for me --
> can you at least include the exact error and sessionInfo()?
> 
> Thanks,
> Simon
> 
> On Nov 10, 2011, at 5:24 PM, John Fox wrote:
> 
> > Dear Kristian,
> > 
> > Odd as it seems, I think that the problem is with the CRAN build of 
> > the Rcmdr package. When I tried installing the Rcmdr package version 
> > 1.7-2 on my own Mac (OS X Lion, R 2.14.0) from CRAN via 
> > install.packages("Rcmdr") I got the same error as your students, but 
> > when I installed from CRAN sources, install.packages("Rcmdr",
> type="source"), the package worked just fine.
> > (There is one .c file in the Rcmdr sources.)
> > 
> > I'm not sure what's going on and thus have copied this response to the 
> > R Mac email list for comments.
> > 
> > Best,
> > John
> > 
> > --------------------------------
> > John Fox
> > Senator William McMaster
> >  Professor of Social Statistics
> > Department of Sociology
> > McMaster University
> > Hamilton, Ontario, Canada
> > http://socserv.mcmaster.ca/jfox
> > 
> > 
> > 
> > 
> >> -----Original Message-----
> >> From: Kristian Hovde Liland [mailto:kristian.liland at umb.no]
> >> Sent: November-10-11 4:39 PM
> >> To: 'jfox at mcmaster.ca'
> >> Subject: Rcmdr 1.7.2 on Mac
> >> 
> >> Dear John Fox.
> >> 
> >> 
> >> 
> >> Thank you again for your feedback after my talk at useR! on teaching 
> >> statistics to natural science students.
> >> 
> >> 
> >> 
> >> I am getting feedback from several Mac users that are installing 
> >> Rcmdr
> >> 1.7.2 on a fresh install of R 2.14.0 that the R Commander will not 
> >> launch. There is an error concerning a missing file named Rcmdr.so 
> >> both for 32-bit and 64-bit installations.
> >> 
> >> 
> >> 
> >> Do you have any tips? Or do you know where I can get hold of the Mac 
> >> version of Rcmdr 1.7.0 as a temporary fix?
> >> 
> >> 
> >> 
> >> Best regards,
> >> 
> >> Kristian Hovde Liland
> >> 
> >> 
> >> 
> >> 
> >> 
> >> 
> > 
> > _______________________________________________
> > R-SIG-Mac mailing list
> > R-SIG-Mac at r-project.org
> > https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> > 
> > 
> 

------------------------------------------------
John Fox
Sen. William McMaster Prof. of Social Statistics
Department of Sociology
McMaster University
Hamilton, Ontario, Canada
http://socserv.mcmaster.ca/jfox/


From simon.urbanek at r-project.org  Fri Nov 11 00:47:47 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 10 Nov 2011 18:47:47 -0500
Subject: [R-SIG-Mac] Rcmdr 1.7.2 on Mac
In-Reply-To: <web-379816023@cgpsrv2.cis.mcmaster.ca>
References: <003601cc9ff7$931d9630$b958c290$@mcmaster.ca>
	<8F7B4BE4-74C1-4C00-9A62-393032DD110E@r-project.org>
	<004001cca000$f0a410f0$d1ec32d0$@mcmaster.ca>
	<web-379816023@cgpsrv2.cis.mcmaster.ca>
Message-ID: <25912826-69D3-416A-B6BB-A7B43DB9E099@r-project.org>

John,

please see today's R-SIG-Mac posts.

(And FWIW the run is done so you if you use r.research.att.com as repos you'll get the updated packages - I guess CRAN will follow in a few hours).

Cheers,
Simon


On Nov 10, 2011, at 6:38 PM, John Fox wrote:

> Dear Simon,
> 
> I was hoping that you'd pick this up -- thanks.
> 
> Here's an entire session, including installing the package, trying to load it (showing the error), and the session info. As I said, when I install from source (also from CRAN), there's no problem.
> 
> Best,
> John
> 
> ------------ snip --------------
> 
> 
> R version 2.14.0 (2011-10-31)
> Copyright (C) 2011 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
> 
>  Natural language support but running in an English locale
> 
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
> 
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
> 
> [R.app GUI 1.42 (5933) x86_64-apple-darwin9.8.0]
> 
> [History restored from /Users/jfox/.Rapp.history]
> 
>> install.packages("Rcmdr")
> trying URL 'http://probability.ca/cran/bin/macosx/leopard/contrib/2.14/Rcmdr_1.7-2.tgz'
> Content type 'application/x-gzip' length 2989140 bytes (2.9 Mb)
> opened URL
> ==================================================
> downloaded 2.9 Mb
> 
> 
> The downloaded packages are in
> 	/var/folders/lg/jw1b4glj3ms49rfy9744jvdh0000gn/T//RtmpMvycwZ/downloaded_packages
> 
>> library(Rcmdr)
> Loading required package: tcltk
> Loading Tcl/Tk interface ... done
> Loading required package: car
> Loading required package: MASS
> Loading required package: nnet
> Loading required package: survival
> Loading required package: splines
> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>  unable to load shared object '/Library/Frameworks/R.framework/Versions/2.14/Resources/library/Rcmdr/libs/x86_64/Rcmdr.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/2.14/Resources/library/Rcmdr/libs/x86_64/Rcmdr.so, 6): Library not loaded: @rpath/R.framework/Versions/2.14/Resources/lib/libR.dylib
>  Referenced from: /Library/Frameworks/R.framework/Versions/2.14/Resources/library/Rcmdr/libs/x86_64/Rcmdr.so
>  Reason: image not found
> Error: package/namespace load failed for ?Rcmdr?
> 
>> sessionInfo()
> R version 2.14.0 (2011-10-31)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8
> 
> attached base packages:
> [1] splines   tcltk     stats     graphics  grDevices utils     datasets  methods  
> [9] base     
> 
> other attached packages:
> [1] car_2.0-11       survival_2.36-10 nnet_7.3-1       MASS_7.3-16     
> 
> loaded via a namespace (and not attached):
> [1] tools_2.14.0
>> 
> 
> 
>> -----Original Message-----
>> From: Simon Urbanek [mailto:simon.urbanek at r-project.org] 
>> Sent: November-10-11 6:29 PM
>> To: John Fox
>> Cc: 'Kristian Hovde Liland'; r-sig-mac at r-project.org
>> Subject: Re: [R-SIG-Mac] Rcmdr 1.7.2 on Mac
>> 
>> John,
>> 
>> can you, please, be more specific? Rcmds from CRAN works just fine for me --
>> can you at least include the exact error and sessionInfo()?
>> 
>> Thanks,
>> Simon
>> 
>> On Nov 10, 2011, at 5:24 PM, John Fox wrote:
>> 
>>> Dear Kristian,
>>> 
>>> Odd as it seems, I think that the problem is with the CRAN build of 
>>> the Rcmdr package. When I tried installing the Rcmdr package version 
>>> 1.7-2 on my own Mac (OS X Lion, R 2.14.0) from CRAN via 
>>> install.packages("Rcmdr") I got the same error as your students, but 
>>> when I installed from CRAN sources, install.packages("Rcmdr",
>> type="source"), the package worked just fine.
>>> (There is one .c file in the Rcmdr sources.)
>>> 
>>> I'm not sure what's going on and thus have copied this response to the 
>>> R Mac email list for comments.
>>> 
>>> Best,
>>> John
>>> 
>>> --------------------------------
>>> John Fox
>>> Senator William McMaster
>>> Professor of Social Statistics
>>> Department of Sociology
>>> McMaster University
>>> Hamilton, Ontario, Canada
>>> http://socserv.mcmaster.ca/jfox
>>> 
>>> 
>>> 
>>> 
>>>> -----Original Message-----
>>>> From: Kristian Hovde Liland [mailto:kristian.liland at umb.no]
>>>> Sent: November-10-11 4:39 PM
>>>> To: 'jfox at mcmaster.ca'
>>>> Subject: Rcmdr 1.7.2 on Mac
>>>> 
>>>> Dear John Fox.
>>>> 
>>>> 
>>>> 
>>>> Thank you again for your feedback after my talk at useR! on teaching 
>>>> statistics to natural science students.
>>>> 
>>>> 
>>>> 
>>>> I am getting feedback from several Mac users that are installing 
>>>> Rcmdr
>>>> 1.7.2 on a fresh install of R 2.14.0 that the R Commander will not 
>>>> launch. There is an error concerning a missing file named Rcmdr.so 
>>>> both for 32-bit and 64-bit installations.
>>>> 
>>>> 
>>>> 
>>>> Do you have any tips? Or do you know where I can get hold of the Mac 
>>>> version of Rcmdr 1.7.0 as a temporary fix?
>>>> 
>>>> 
>>>> 
>>>> Best regards,
>>>> 
>>>> Kristian Hovde Liland
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
> 
> ------------------------------------------------
> John Fox
> Sen. William McMaster Prof. of Social Statistics
> Department of Sociology
> McMaster University
> Hamilton, Ontario, Canada
> http://socserv.mcmaster.ca/jfox/
> 	
> 
> 


From jfox at mcmaster.ca  Fri Nov 11 02:54:25 2011
From: jfox at mcmaster.ca (John Fox)
Date: Thu, 10 Nov 2011 20:54:25 -0500
Subject: [R-SIG-Mac] Rcmdr 1.7.2 on Mac
In-Reply-To: <25912826-69D3-416A-B6BB-A7B43DB9E099@r-project.org>
References: <003601cc9ff7$931d9630$b958c290$@mcmaster.ca>
	<8F7B4BE4-74C1-4C00-9A62-393032DD110E@r-project.org>
	<004001cca000$f0a410f0$d1ec32d0$@mcmaster.ca>
	<web-379816023@cgpsrv2.cis.mcmaster.ca>
	<25912826-69D3-416A-B6BB-A7B43DB9E099@r-project.org>
Message-ID: <000401cca014$d7df2fa0$879d8ee0$@mcmaster.ca>

Dear Simon,

> -----Original Message-----
> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> Sent: November-10-11 6:48 PM
> To: John Fox
> Cc: r-sig-mac at r-project.org; kristian.liland at umb.no
> Subject: Re: [R-SIG-Mac] Rcmdr 1.7.2 on Mac
> 
> John,
> 
> please see today's R-SIG-Mac posts.

I'm sorry that I reported a problem that you already solved. (I did read the
subjects of the previous posts but didn't understand that they were relevant
to this problem.)

Again, apologies,
 John

> 
> (And FWIW the run is done so you if you use r.research.att.com as repos
> you'll get the updated packages - I guess CRAN will follow in a few
> hours).
> 
> Cheers,
> Simon
> 
> 
> On Nov 10, 2011, at 6:38 PM, John Fox wrote:
> 
> > Dear Simon,
> >
> > I was hoping that you'd pick this up -- thanks.
> >
> > Here's an entire session, including installing the package, trying to
> load it (showing the error), and the session info. As I said, when I
> install from source (also from CRAN), there's no problem.
> >
> > Best,
> > John
> >
> > ------------ snip --------------
> >
> >
> > R version 2.14.0 (2011-10-31)
> > Copyright (C) 2011 The R Foundation for Statistical Computing ISBN
> > 3-900051-07-0
> > Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> >
> > R is free software and comes with ABSOLUTELY NO WARRANTY.
> > You are welcome to redistribute it under certain conditions.
> > Type 'license()' or 'licence()' for distribution details.
> >
> >  Natural language support but running in an English locale
> >
> > R is a collaborative project with many contributors.
> > Type 'contributors()' for more information and 'citation()' on how to
> > cite R or R packages in publications.
> >
> > Type 'demo()' for some demos, 'help()' for on-line help, or
> > 'help.start()' for an HTML browser interface to help.
> > Type 'q()' to quit R.
> >
> > [R.app GUI 1.42 (5933) x86_64-apple-darwin9.8.0]
> >
> > [History restored from /Users/jfox/.Rapp.history]
> >
> >> install.packages("Rcmdr")
> > trying URL
> 'http://probability.ca/cran/bin/macosx/leopard/contrib/2.14/Rcmdr_1.7-
> 2.tgz'
> > Content type 'application/x-gzip' length 2989140 bytes (2.9 Mb)
> opened
> > URL ==================================================
> > downloaded 2.9 Mb
> >
> >
> > The downloaded packages are in
> >
> >
> /var/folders/lg/jw1b4glj3ms49rfy9744jvdh0000gn/T//RtmpMvycwZ/downloade
> > d_packages
> >
> >> library(Rcmdr)
> > Loading required package: tcltk
> > Loading Tcl/Tk interface ... done
> > Loading required package: car
> > Loading required package: MASS
> > Loading required package: nnet
> > Loading required package: survival
> > Loading required package: splines
> > Error in dyn.load(file, DLLpath = DLLpath, ...) :
> >  unable to load shared object
> '/Library/Frameworks/R.framework/Versions/2.14/Resources/library/Rcmdr/
> libs/x86_64/Rcmdr.so':
> >
> >
> dlopen(/Library/Frameworks/R.framework/Versions/2.14/Resources/library
> > /Rcmdr/libs/x86_64/Rcmdr.so, 6): Library not loaded:
> > @rpath/R.framework/Versions/2.14/Resources/lib/libR.dylib
> >  Referenced from:
> >
> /Library/Frameworks/R.framework/Versions/2.14/Resources/library/Rcmdr/
> > libs/x86_64/Rcmdr.so
> >  Reason: image not found
> > Error: package/namespace load failed for 'Rcmdr'
> >
> >> sessionInfo()
> > R version 2.14.0 (2011-10-31)
> > Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> >
> > locale:
> > [1] en_CA.UTF-8/en_CA.UTF-8/en_CA.UTF-8/C/en_CA.UTF-8/en_CA.UTF-8
> >
> > attached base packages:
> > [1] splines   tcltk     stats     graphics  grDevices utils
> datasets  methods
> > [9] base
> >
> > other attached packages:
> > [1] car_2.0-11       survival_2.36-10 nnet_7.3-1       MASS_7.3-16
> >
> > loaded via a namespace (and not attached):
> > [1] tools_2.14.0
> >>
> >
> >
> >> -----Original Message-----
> >> From: Simon Urbanek [mailto:simon.urbanek at r-project.org]
> >> Sent: November-10-11 6:29 PM
> >> To: John Fox
> >> Cc: 'Kristian Hovde Liland'; r-sig-mac at r-project.org
> >> Subject: Re: [R-SIG-Mac] Rcmdr 1.7.2 on Mac
> >>
> >> John,
> >>
> >> can you, please, be more specific? Rcmds from CRAN works just fine
> >> for me -- can you at least include the exact error and
> sessionInfo()?
> >>
> >> Thanks,
> >> Simon
> >>
> >> On Nov 10, 2011, at 5:24 PM, John Fox wrote:
> >>
> >>> Dear Kristian,
> >>>
> >>> Odd as it seems, I think that the problem is with the CRAN build of
> >>> the Rcmdr package. When I tried installing the Rcmdr package
> version
> >>> 1.7-2 on my own Mac (OS X Lion, R 2.14.0) from CRAN via
> >>> install.packages("Rcmdr") I got the same error as your students,
> but
> >>> when I installed from CRAN sources, install.packages("Rcmdr",
> >> type="source"), the package worked just fine.
> >>> (There is one .c file in the Rcmdr sources.)
> >>>
> >>> I'm not sure what's going on and thus have copied this response to
> >>> the R Mac email list for comments.
> >>>
> >>> Best,
> >>> John
> >>>
> >>> --------------------------------
> >>> John Fox
> >>> Senator William McMaster
> >>> Professor of Social Statistics
> >>> Department of Sociology
> >>> McMaster University
> >>> Hamilton, Ontario, Canada
> >>> http://socserv.mcmaster.ca/jfox
> >>>
> >>>
> >>>
> >>>
> >>>> -----Original Message-----
> >>>> From: Kristian Hovde Liland [mailto:kristian.liland at umb.no]
> >>>> Sent: November-10-11 4:39 PM
> >>>> To: 'jfox at mcmaster.ca'
> >>>> Subject: Rcmdr 1.7.2 on Mac
> >>>>
> >>>> Dear John Fox.
> >>>>
> >>>>
> >>>>
> >>>> Thank you again for your feedback after my talk at useR! on
> >>>> teaching statistics to natural science students.
> >>>>
> >>>>
> >>>>
> >>>> I am getting feedback from several Mac users that are installing
> >>>> Rcmdr
> >>>> 1.7.2 on a fresh install of R 2.14.0 that the R Commander will not
> >>>> launch. There is an error concerning a missing file named Rcmdr.so
> >>>> both for 32-bit and 64-bit installations.
> >>>>
> >>>>
> >>>>
> >>>> Do you have any tips? Or do you know where I can get hold of the
> >>>> Mac version of Rcmdr 1.7.0 as a temporary fix?
> >>>>
> >>>>
> >>>>
> >>>> Best regards,
> >>>>
> >>>> Kristian Hovde Liland
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>>
> >>>
> >>> _______________________________________________
> >>> R-SIG-Mac mailing list
> >>> R-SIG-Mac at r-project.org
> >>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> >>>
> >>>
> >>
> >
> > ------------------------------------------------
> > John Fox
> > Sen. William McMaster Prof. of Social Statistics Department of
> > Sociology McMaster University Hamilton, Ontario, Canada
> > http://socserv.mcmaster.ca/jfox/
> >
> >
> >


From f.calboli at imperial.ac.uk  Fri Nov 11 13:12:19 2011
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Fri, 11 Nov 2011 12:12:19 +0000
Subject: [R-SIG-Mac] R 2.14.0 on MacBook Pro
In-Reply-To: <BFE8108C-A9B4-406F-ACE6-1496B600AD39@r-project.org>
References: <3142C882-A1EF-4F81-A5DD-00CDAB7A8624@wur.nl>
	<BFE8108C-A9B4-406F-ACE6-1496B600AD39@r-project.org>
Message-ID: <A657B353-4433-4B7A-8C15-E7B783426A16@imperial.ac.uk>

On 10 Nov 2011, at 14:41, Simon Urbanek wrote:

> Jan,
> 
> On Nov 10, 2011, at 6:02 AM, Verbesselt, Jan wrote:
> 
>> Dear all,
>> 
>> I have just upgraded from 2.13.2 to 2.14.0 on my mac book pro on 10.6.8 OsX. 
>> After installing the "zoo" package -  I am unable to load the zoo package in R using R64.app.
>> 
>> What is causing this problem? Everything used to work fine in 2.13.2. Is there anything I need to fix after updating?
>> 
> 
> It is probably my fault (details below) - a quick fix is to update your R.app GUI from http://r.research.att.com/


I did follow the quick fix, and I did upgrade all upgradable packages as for today ( 12 noon-ish GMT, 11/11/11). Still I cannot load the package 'caret'.

I'm on Lion OS 10.7.2 and R 2.14.0 -- R.app GUI 1.42 (5933) x86_64-apple-darwin9.8.0

Cheers

Federico


--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From f.calboli at imperial.ac.uk  Fri Nov 11 13:13:21 2011
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Fri, 11 Nov 2011 12:13:21 +0000
Subject: [R-SIG-Mac] R 2.14.0 on MacBook Pro
In-Reply-To: <A657B353-4433-4B7A-8C15-E7B783426A16@imperial.ac.uk>
References: <3142C882-A1EF-4F81-A5DD-00CDAB7A8624@wur.nl>
	<BFE8108C-A9B4-406F-ACE6-1496B600AD39@r-project.org>
	<A657B353-4433-4B7A-8C15-E7B783426A16@imperial.ac.uk>
Message-ID: <40E2870C-D8BD-4278-AB07-945B9AC9F55F@imperial.ac.uk>


On 11 Nov 2011, at 12:12, Federico Calboli wrote:

> On 10 Nov 2011, at 14:41, Simon Urbanek wrote:
> 
>> Jan,
>> 
>> On Nov 10, 2011, at 6:02 AM, Verbesselt, Jan wrote:
>> 
>>> Dear all,
>>> 
>>> I have just upgraded from 2.13.2 to 2.14.0 on my mac book pro on 10.6.8 OsX. 
>>> After installing the "zoo" package -  I am unable to load the zoo package in R using R64.app.
>>> 
>>> What is causing this problem? Everything used to work fine in 2.13.2. Is there anything I need to fix after updating?
>>> 
>> 
>> It is probably my fault (details below) - a quick fix is to update your R.app GUI from http://r.research.att.com/
> 
> 
> I did follow the quick fix, and I did upgrade all upgradable packages as for today ( 12 noon-ish GMT, 11/11/11). Still I cannot load the package 'caret'.
> 
> I'm on Lion OS 10.7.2 and R 2.14.0 -- R.app GUI 1.42 (5933) x86_64-apple-darwin9.8.0


I should have added:

> library(caret)
Loading required package: lattice
Loading required package: reshape
Loading required package: plyr

Attaching package: ?reshape?

The following object(s) are masked from ?package:plyr?:

    rename, round_any

Loading required package: cluster
Loading required package: foreach
Loading required package: iterators
Loading required package: codetools
foreach: simple, scalable parallel programming from Revolution Analytics
Use Revolution R for scalability, fault tolerance and more.
http://www.revolutionanalytics.com
Error in dyn.load(file, DLLpath = DLLpath, ...) : 
  unable to load shared object '/Library/Frameworks/R.framework/Versions/2.14/Resources/library/caret/libs/x86_64/caret.so':
  dlopen(/Library/Frameworks/R.framework/Versions/2.14/Resources/library/caret/libs/x86_64/caret.so, 6): Library not loaded: @rpath/R.framework/Versions/2.14/Resources/lib/libR.dylib
  Referenced from: /Library/Frameworks/R.framework/Versions/2.14/Resources/library/caret/libs/x86_64/caret.so
  Reason: image not found
Error: package/namespace load failed for ?caret?

bw

F

--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From f.calboli at imperial.ac.uk  Fri Nov 11 13:26:16 2011
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Fri, 11 Nov 2011 12:26:16 +0000
Subject: [R-SIG-Mac] R 2.14.0 on MacBook Pro [SOLVED]
In-Reply-To: <40E2870C-D8BD-4278-AB07-945B9AC9F55F@imperial.ac.uk>
References: <3142C882-A1EF-4F81-A5DD-00CDAB7A8624@wur.nl>
	<BFE8108C-A9B4-406F-ACE6-1496B600AD39@r-project.org>
	<A657B353-4433-4B7A-8C15-E7B783426A16@imperial.ac.uk>
	<40E2870C-D8BD-4278-AB07-945B9AC9F55F@imperial.ac.uk>
Message-ID: <F90540AB-11DB-4C5C-9A70-79A5274F2F14@imperial.ac.uk>

On 11 Nov 2011, at 12:13, Federico Calboli wrote:

> 
> On 11 Nov 2011, at 12:12, Federico Calboli wrote:
> 
>> On 10 Nov 2011, at 14:41, Simon Urbanek wrote:
>> 
>>> Jan,
>>> 
>>> On Nov 10, 2011, at 6:02 AM, Verbesselt, Jan wrote:
>>> 
>>>> Dear all,
>>>> 
>>>> I have just upgraded from 2.13.2 to 2.14.0 on my mac book pro on 10.6.8 OsX. 
>>>> After installing the "zoo" package -  I am unable to load the zoo package in R using R64.app.
>>>> 
>>>> What is causing this problem? Everything used to work fine in 2.13.2. Is there anything I need to fix after updating?
>>>> 
>>> 
>>> It is probably my fault (details below) - a quick fix is to update your R.app GUI from http://r.research.att.com/
>> 
>> 
>> I did follow the quick fix, and I did upgrade all upgradable packages as for today ( 12 noon-ish GMT, 11/11/11). Still I cannot load the package 'caret'.
>> 
>> I'm on Lion OS 10.7.2 and R 2.14.0 -- R.app GUI 1.42 (5933) x86_64-apple-darwin9.8.0



 My mistake. When I upgraded the R.app GUI I did not change it's name from R to R64, so the R64 GUI did not get upgraded (and the R 32 bit GUI was replaced by the R 64 bit GUI). I have now rectified the issue and all works.

As a aside, it would be helpful if the R.app 64 bit GUI from http://r.research.att.com/ came out of the package with the name R64 given installing R afresh gives two GUIs with two names and it can lead to confusion.

Cheers

F




--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From hanson at depauw.edu  Fri Nov 11 16:39:23 2011
From: hanson at depauw.edu (Bryan Hanson)
Date: Fri, 11 Nov 2011 10:39:23 -0500
Subject: [R-SIG-Mac] Does anyone recognize this error?
Message-ID: <544847B2-77C0-4901-827F-886AB6E70DE3@depauw.edu>

[a variation of this was posted on r-help the other day with no answers]

I've done something to my installation and can't find the cause.  This started up a few days ago, it could be related to the problem that Simon was working on in the past 48, but I increasingly think not.

My current install is totally fresh this morning off of r.research.att.com and the problem persists.  Here's a couple of examples:

Example 1:
> ?sd
Error in help("sd", package = NULL) : 
  could not find function "%is.not.a%"

Example 2 (from r-help posting):

I have 3 packages that I authored and they build and check just fine locally.  However, when I try to install the local source packages (from the .tar.gz), I get the following message: 

Error in `+.POSIXt`(as.POSIXct(origin, tz = tz, ...), x) : 
  could not find function "%is.a%" 
In addition: Warning message: 
In install.packages(file.choose(), .libPaths()[1], NULL, type = "source") : 
  installation of package ?/Users/bryanhanson/Documents/Research/MetabolomicsProjects/ChemometricsStuff/BAHpackages/FuncMap_1.0-1.tar.gz? had non-zero exit status 

Now this is pretty surprising to me; I don't use this function or any having to do with times or time series.  I get the same message no matter which of the 3 packages I try to install locally.  Further, if I go looking for whatever this function is, the following occurs, and no browser window opens: 

> findFn("is.a") 
found 3 matches 
Error in stopifnot(x %is.a% "POSIXct") : could not find function "%is.a%" 

Which is the same error as one gets just asking for help (Example 1), so I think that error is superceding any display of help pages.

And a google search of the error message doesn't produce anything recent. 

Does anyone recognize this problem/error?  I've thrown out and re-installed several times and it persists.  I feel like it might be in a hidden file (I have not yet tried to remove all existing .Rhistory files).  I also had a development version of ggplot2 installed a few days ago, in an attempt to fix a different problem.  My current sessionInfo() is below.

Thanks for any suggestions about where to look.  Bryan
***********
Bryan Hanson
Professor of Chemistry & Biochemistry
DePauw University

> sessionInfo()
R version 2.14.0 Patched (2011-11-09 r57624)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] graphics  utils     datasets  grid      grDevices stats     methods   base     

other attached packages:
 [1] HiveR_0.2-1      FuncMap_1.0-1    ChemoSpec_1.48-4 ggExtra_0.5.1    gridExtra_0.8.5 
 [6] GGally_0.3.1     stringr_0.5      ggplot2_0.8.9    proto_0.3-9.2    reshape_0.8.4   
[11] plyr_1.6         sos_1.3-1        brew_1.0-6       xtable_1.6-0     rgl_0.92.798    

loaded via a namespace (and not attached):
 [1] amap_0.8-7         bipartite_1.17     chemometrics_1.3.7 class_7.3-3       
 [5] e1071_1.6          igraph_0.5.5-3     lattice_0.20-0     MASS_7.3-16       
 [9] mclust_3.4.10      mvbutils_2.5.101   mvoutlier_1.9.4    mvtnorm_0.9-9991  
[13] nnet_7.3-1         pcaPP_1.9-44       pls_2.2-0          R.oo_1.8.3        
[17] R.utils_1.9.3      RColorBrewer_1.0-5 RFOC_2.0-02        robustbase_0.7-8  
[21] rpart_3.1-50       seriation_1.0-6    sna_2.2-0          som_0.3-5         
[25] splines_2.14.0     survival_2.36-10   tnet_3.0.5         tools_2.14.0      
[29] TSP_1.0-5          vegan_2.0-1       


From hadley at rice.edu  Sat Nov 12 05:05:02 2011
From: hadley at rice.edu (Hadley Wickham)
Date: Fri, 11 Nov 2011 22:05:02 -0600
Subject: [R-SIG-Mac] Does anyone recognize this error?
In-Reply-To: <544847B2-77C0-4901-827F-886AB6E70DE3@depauw.edu>
References: <544847B2-77C0-4901-827F-886AB6E70DE3@depauw.edu>
Message-ID: <CABdHhvFU=j8wSy4w0EGgFBCyBKfyQxZ+VoHyEj_xyRpr4BgcTQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111111/db9045d2/attachment.pl>

From dusa.adrian at gmail.com  Sat Nov 12 11:08:45 2011
From: dusa.adrian at gmail.com (Adrian Dusa)
Date: Sat, 12 Nov 2011 12:08:45 +0200
Subject: [R-SIG-Mac] source from clipboard
Message-ID: <CAJ=0CtD1vfTWSqDskN0nDkZu4fEKyWYCi9UhZ-6UswCV1cSU5g@mail.gmail.com>

Dear All,

Apologies for noob questions, under Linux (and Windows) I extensively used:
source("clipboard")
in order to paste commands without cluttering the R session.

Under Mac this has to be somehow different, because I get:
> source("clipboard")
Error in file(file, "r", encoding = encoding) :
  cannot open the connection
In addition: Warning message:
In file(file, "r", encoding = encoding) :
  clipboard cannot be opened or contains no text

I assume this is general Mac behavior, but if it's related to my
locale then I will provide the relevant info.
Thanks in advance for any hint,
Adrian

PS: I do of course use Cmd+C under Mac to copy commands in the clipboard

-- 
Adrian Dusa
Romanian Social Data Archive
1, Schitu Magureanu Bd.
050025 Bucharest sector 5
Romania
Tel.:+40 21 3126618 \
? ? ? ?+40 21 3120210 / int.101
Fax: +40 21 3158391


From ripley at stats.ox.ac.uk  Sat Nov 12 11:43:06 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 12 Nov 2011 10:43:06 +0000 (GMT)
Subject: [R-SIG-Mac] source from clipboard
In-Reply-To: <CAJ=0CtD1vfTWSqDskN0nDkZu4fEKyWYCi9UhZ-6UswCV1cSU5g@mail.gmail.com>
References: <CAJ=0CtD1vfTWSqDskN0nDkZu4fEKyWYCi9UhZ-6UswCV1cSU5g@mail.gmail.com>
Message-ID: <alpine.LFD.2.02.1111121041300.16486@gannet.stats.ox.ac.uk>

?clipboard in R has a whole section on this.

Please do follow the posting guide and do your homework before 
posting.


On Sat, 12 Nov 2011, Adrian Dusa wrote:

> Dear All,
>
> Apologies for noob questions, under Linux (and Windows) I extensively used:
> source("clipboard")
> in order to paste commands without cluttering the R session.
>
> Under Mac this has to be somehow different, because I get:
>> source("clipboard")
> Error in file(file, "r", encoding = encoding) :
>  cannot open the connection
> In addition: Warning message:
> In file(file, "r", encoding = encoding) :
>  clipboard cannot be opened or contains no text
>
> I assume this is general Mac behavior, but if it's related to my
> locale then I will provide the relevant info.
> Thanks in advance for any hint,
> Adrian
>
> PS: I do of course use Cmd+C under Mac to copy commands in the clipboard
>
> -- 
> Adrian Dusa
> Romanian Social Data Archive
> 1, Schitu Magureanu Bd.
> 050025 Bucharest sector 5
> Romania
> Tel.:+40 21 3126618 \
> ? ? ? ?+40 21 3120210 / int.101
> Fax: +40 21 3158391
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From dusa.adrian at gmail.com  Sat Nov 12 12:03:02 2011
From: dusa.adrian at gmail.com (Adrian Dusa)
Date: Sat, 12 Nov 2011 13:03:02 +0200
Subject: [R-SIG-Mac] source from clipboard
In-Reply-To: <alpine.LFD.2.02.1111121041300.16486@gannet.stats.ox.ac.uk>
References: <CAJ=0CtD1vfTWSqDskN0nDkZu4fEKyWYCi9UhZ-6UswCV1cSU5g@mail.gmail.com>
	<alpine.LFD.2.02.1111121041300.16486@gannet.stats.ox.ac.uk>
Message-ID: <CAJ=0CtAb3N9ABnz9xr8XEVMnssHZXYvPmPn340oxMUGtp2xk5Q@mail.gmail.com>

On Sat, Nov 12, 2011 at 12:43, Prof Brian Ripley <ripley at stats.ox.ac.uk> wrote:
> ?clipboard in R has a whole section on this.
> Please do follow the posting guide and do your homework before posting.

Got it.
Thank you,
Adrian


-- 
Adrian Dusa
Romanian Social Data Archive
1, Schitu Magureanu Bd.
050025 Bucharest sector 5
Romania
Tel.:+40 21 3126618 \
? ? ? ?+40 21 3120210 / int.101
Fax: +40 21 3158391


From hanson at depauw.edu  Sat Nov 12 15:08:29 2011
From: hanson at depauw.edu (Bryan Hanson)
Date: Sat, 12 Nov 2011 09:08:29 -0500
Subject: [R-SIG-Mac] Does anyone recognize this error?
In-Reply-To: <CABdHhvFU=j8wSy4w0EGgFBCyBKfyQxZ+VoHyEj_xyRpr4BgcTQ@mail.gmail.com>
References: <544847B2-77C0-4901-827F-886AB6E70DE3@depauw.edu>
	<CABdHhvFU=j8wSy4w0EGgFBCyBKfyQxZ+VoHyEj_xyRpr4BgcTQ@mail.gmail.com>
Message-ID: <233A9561-E3CC-4F44-B85D-EB094DC30623@depauw.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111112/d9b41552/attachment.pl>

From jan.verbesselt at wur.nl  Sat Nov 12 10:35:23 2011
From: jan.verbesselt at wur.nl (Verbesselt, Jan)
Date: Sat, 12 Nov 2011 10:35:23 +0100
Subject: [R-SIG-Mac] R 2.14.0 on MacBook Pro
In-Reply-To: <BFE8108C-A9B4-406F-ACE6-1496B600AD39@r-project.org>
References: <3142C882-A1EF-4F81-A5DD-00CDAB7A8624@wur.nl>
	<BFE8108C-A9B4-406F-ACE6-1496B600AD39@r-project.org>
Message-ID: <0237105D-3E37-4838-9E1D-87962C861C46@wur.nl>

Simon,

I have downloaded the R.app GUI (R-GUI-5944-2.14-leopard-Leopard64.dmg) from http://r.research.att.com/. Everything works fine, when launching the R.app and loading the "zoo" package.
I have deleted the R64.app which was installed with the standard R 2.14.0 currently available at R project website. This R.app is launching the R 64 bit version it seems.

An additional question related to the http://r.research.att.com/ R developers page.  I there a way to set-up some sort of updating mechanism - similar to Linux Ubuntu set-up sources.list - so that R automatically updates (after agreeing) to the most recent stable version?




Report from R.app:
[R.app GUI 1.43 (5944) x86_64-apple-darwin9.8.0]

> sessionInfo()
R version 2.14.0 (2011-10-31)
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

locale:
[1] en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     
> install.packages("zoo")
Installing package(s) into ?/Users/janvb/Library/R/2.14/library?
(as ?lib? is unspecified)
trying URL 'http://www.freestatistics.org/cran/bin/macosx/leopard/contrib/2.14/zoo_1.7-6.tgz'
Content type 'application/x-gzip' length 1397206 bytes (1.3 Mb)
opened URL
==================================================
downloaded 1.3 Mb


The downloaded packages are in
	/var/folders/zU/zUFo9cfDGwisjk7fyjDVtk+++TI/-Tmp-//RtmpCVNhCN/downloaded_packages
> require(zoo)
Loading required package: zoo

Attaching package: ?zoo?

The following object(s) are masked from ?package:base?:

    as.Date, as.Date.numeric

> library(zoo)
> 


thanks heaps for fast reply and support,
Jan


On 10/11/2011, at 3:41 PM, Simon Urbanek wrote:

> Jan,
> 
> On Nov 10, 2011, at 6:02 AM, Verbesselt, Jan wrote:
> 
>> Dear all,
>> 
>> I have just upgraded from 2.13.2 to 2.14.0 on my mac book pro on 10.6.8 OsX. 
>> After installing the "zoo" package -  I am unable to load the zoo package in R using R64.app.
>> 
>> What is causing this problem? Everything used to work fine in 2.13.2. Is there anything I need to fix after updating?
>> 
> 
> It is probably my fault (details below) - a quick fix is to update your R.app GUI from http://r.research.att.com/
> 
> Technical details:
> 
> Recent R binaries (but only after 2.14.0 release) use @rpath to allow re-location of the R framework - it means that you can have the entire R in just one icon that you can move around as you please - just like the R.app GUI now except that the entire R is in there and no other dependencies are needed (e.g. you can just put it on a CD or thumb drive). According to Apple documentation the default fallback to @rpath includes /Library/Frameworks which is the location of the R framework when installed, so everything that worked before with absolute paths should be working with @rpath. However, it seems that for some unknown reason the R.app binaries don't fall back to the old @rpath and/or there are some issues combining absolute paths and @rpath. The most recent build of R.app include the LC_RPATH load commands set accordingly so they don't need the fallback. It is indeed startling, because the behavior that you see in Terminal, RStudio etc. is how it is supposed to behave according to Apple documentation. Before I figure out how to solve this you can simply grab more recent R.app.
> 
> Thanks,
> Simon
> 
> 
> 
>> Strangely, I noticed that when using Rstudio or R from Terminal -> and loading the zoo package no problem occurs.
>> 
>> Thanks for your help,
>> Jan
>> 
>> 
>> sessionInfo()
>> install.packages("zoo")
>> require(zoo)
>> library(zoo)
>> 
>> 
>> .Rprofile: Setting Amsterdam repository
>> [R.app GUI 1.42 (5933) x86_64-apple-darwin9.8.0]
>> 
>>> sessionInfo()
>> R version 2.14.0 (2011-10-31)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> 
>> locale:
>> [1] en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8
>> 
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base     
>>> install.packages("zoo")
>> Installing package(s) into ?/Users/janvb/Library/R/2.14/library?
>> (as ?lib? is unspecified)
>> trying URL 'http://www.freestatistics.org/cran/bin/macosx/leopard/contrib/2.14/zoo_1.7-6.tgz'
>> Content type 'application/x-gzip' length 1397025 bytes (1.3 Mb)
>> opened URL
>> ==================================================
>> downloaded 1.3 Mb
>> 
>> 
>> The downloaded packages are in
>> 	/var/folders/zU/zUFo9cfDGwisjk7fyjDVtk+++TI/-Tmp-//RtmpHiqeQS/downloaded_packages
>>> require(zoo)
>> Loading required package: zoo
>> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>> unable to load shared object '/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so':
>> dlopen(/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so, 6): Library not loaded: @rpath/R.framework/Versions/2.14/Resources/lib/libR.dylib
>> Referenced from: /Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so
>> Reason: image not found
>>> library(zoo)
>> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>> unable to load shared object '/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so':
>> dlopen(/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so, 6): Library not loaded: @rpath/R.framework/Versions/2.14/Resources/lib/libR.dylib
>> Referenced from: /Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so
>> Reason: image not found
>> Error: package/namespace load failed for ?zoo?
>>> '
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
> 
> 


From simon.urbanek at r-project.org  Sat Nov 12 21:52:45 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 12 Nov 2011 15:52:45 -0500
Subject: [R-SIG-Mac] R 2.14.0 on MacBook Pro
In-Reply-To: <0237105D-3E37-4838-9E1D-87962C861C46@wur.nl>
References: <3142C882-A1EF-4F81-A5DD-00CDAB7A8624@wur.nl>
	<BFE8108C-A9B4-406F-ACE6-1496B600AD39@r-project.org>
	<0237105D-3E37-4838-9E1D-87962C861C46@wur.nl>
Message-ID: <3DAD79FD-4A49-43E6-84EC-B7BC2AB139F4@r-project.org>

Jan,

On Nov 12, 2011, at 4:35 AM, Verbesselt, Jan wrote:

> Simon,
> 
> I have downloaded the R.app GUI (R-GUI-5944-2.14-leopard-Leopard64.dmg) from http://r.research.att.com/. Everything works fine, when launching the R.app and loading the "zoo" package.
> I have deleted the R64.app which was installed with the standard R 2.14.0 currently available at R project website. This R.app is launching the R 64 bit version it seems.
> 

What you downloaded is the 64-bit version (Leopard64). How you name it is entirely up to you. The CRAN installer names them R.app and R64.app essentially for historical reasons. 


> An additional question related to the http://r.research.att.com/ R developers page.  I there a way to set-up some sort of updating mechanism - similar to Linux Ubuntu set-up sources.list - so that R automatically updates (after agreeing) to the most recent stable version?
> 

The "most recent stable version" is the release version from CRAN (currently 2.14.0). So I don't think you are referring to that. 
If you mean R-patched from R.research.att.com then that binary is built nightly so it doesn't make any sense to have any kind of updating mechanism as it would update all the time. Note that those are different concepts. I was just telling you to update as quick fix, the package binaries have been fixed in the meantime so the release works equally well.

Cheers,
Simon



> 
> 
> 
> Report from R.app:
> [R.app GUI 1.43 (5944) x86_64-apple-darwin9.8.0]
> 
>> sessionInfo()
> R version 2.14.0 (2011-10-31)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base     
>> install.packages("zoo")
> Installing package(s) into ?/Users/janvb/Library/R/2.14/library?
> (as ?lib? is unspecified)
> trying URL 'http://www.freestatistics.org/cran/bin/macosx/leopard/contrib/2.14/zoo_1.7-6.tgz'
> Content type 'application/x-gzip' length 1397206 bytes (1.3 Mb)
> opened URL
> ==================================================
> downloaded 1.3 Mb
> 
> 
> The downloaded packages are in
> 	/var/folders/zU/zUFo9cfDGwisjk7fyjDVtk+++TI/-Tmp-//RtmpCVNhCN/downloaded_packages
>> require(zoo)
> Loading required package: zoo
> 
> Attaching package: ?zoo?
> 
> The following object(s) are masked from ?package:base?:
> 
>    as.Date, as.Date.numeric
> 
>> library(zoo)
>> 
> 
> 
> thanks heaps for fast reply and support,
> Jan
> 
> 
> On 10/11/2011, at 3:41 PM, Simon Urbanek wrote:
> 
>> Jan,
>> 
>> On Nov 10, 2011, at 6:02 AM, Verbesselt, Jan wrote:
>> 
>>> Dear all,
>>> 
>>> I have just upgraded from 2.13.2 to 2.14.0 on my mac book pro on 10.6.8 OsX. 
>>> After installing the "zoo" package -  I am unable to load the zoo package in R using R64.app.
>>> 
>>> What is causing this problem? Everything used to work fine in 2.13.2. Is there anything I need to fix after updating?
>>> 
>> 
>> It is probably my fault (details below) - a quick fix is to update your R.app GUI from http://r.research.att.com/
>> 
>> Technical details:
>> 
>> Recent R binaries (but only after 2.14.0 release) use @rpath to allow re-location of the R framework - it means that you can have the entire R in just one icon that you can move around as you please - just like the R.app GUI now except that the entire R is in there and no other dependencies are needed (e.g. you can just put it on a CD or thumb drive). According to Apple documentation the default fallback to @rpath includes /Library/Frameworks which is the location of the R framework when installed, so everything that worked before with absolute paths should be working with @rpath. However, it seems that for some unknown reason the R.app binaries don't fall back to the old @rpath and/or there are some issues combining absolute paths and @rpath. The most recent build of R.app include the LC_RPATH load commands set accordingly so they don't need the fallback. It is indeed startling, because the behavior that you see in Terminal, RStudio etc. is how it is supposed to behave according to Apple documentation. Before I figure out how to solve this you can simply grab more recent R.app.
>> 
>> Thanks,
>> Simon
>> 
>> 
>> 
>>> Strangely, I noticed that when using Rstudio or R from Terminal -> and loading the zoo package no problem occurs.
>>> 
>>> Thanks for your help,
>>> Jan
>>> 
>>> 
>>> sessionInfo()
>>> install.packages("zoo")
>>> require(zoo)
>>> library(zoo)
>>> 
>>> 
>>> .Rprofile: Setting Amsterdam repository
>>> [R.app GUI 1.42 (5933) x86_64-apple-darwin9.8.0]
>>> 
>>>> sessionInfo()
>>> R version 2.14.0 (2011-10-31)
>>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>> 
>>> locale:
>>> [1] en_AU.UTF-8/en_AU.UTF-8/en_AU.UTF-8/C/en_AU.UTF-8/en_AU.UTF-8
>>> 
>>> attached base packages:
>>> [1] stats     graphics  grDevices utils     datasets  methods   base     
>>>> install.packages("zoo")
>>> Installing package(s) into ?/Users/janvb/Library/R/2.14/library?
>>> (as ?lib? is unspecified)
>>> trying URL 'http://www.freestatistics.org/cran/bin/macosx/leopard/contrib/2.14/zoo_1.7-6.tgz'
>>> Content type 'application/x-gzip' length 1397025 bytes (1.3 Mb)
>>> opened URL
>>> ==================================================
>>> downloaded 1.3 Mb
>>> 
>>> 
>>> The downloaded packages are in
>>> 	/var/folders/zU/zUFo9cfDGwisjk7fyjDVtk+++TI/-Tmp-//RtmpHiqeQS/downloaded_packages
>>>> require(zoo)
>>> Loading required package: zoo
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>>> unable to load shared object '/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so':
>>> dlopen(/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so, 6): Library not loaded: @rpath/R.framework/Versions/2.14/Resources/lib/libR.dylib
>>> Referenced from: /Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so
>>> Reason: image not found
>>>> library(zoo)
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>>> unable to load shared object '/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so':
>>> dlopen(/Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so, 6): Library not loaded: @rpath/R.framework/Versions/2.14/Resources/lib/libR.dylib
>>> Referenced from: /Users/janvb/Library/R/2.14/library/zoo/libs/x86_64/zoo.so
>>> Reason: image not found
>>> Error: package/namespace load failed for ?zoo?
>>>> '
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
>> 
> 
> 
> 


From ric.romoli at gmail.com  Sun Nov 13 00:25:14 2011
From: ric.romoli at gmail.com (Riccardo Romoli)
Date: Sun, 13 Nov 2011 00:25:14 +0100
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
Message-ID: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>

Hi, I have already installed R 2.14.0 and I have some problem to load  
several packages, in particular xcms package. I installed it directly  
from the GUI and when I try to load it the R I have:

 > library(xcms)
Error in dyn.load(file, DLLpath = DLLpath, ...) :
   unable to load shared object '/Users/riccardoromoli/Library/R/2.14/ 
library/xcms/libs/x86_64/xcms.so':
   dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/ 
x86_64/xcms.so, 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
   Referenced from: /Users/riccardoromoli/Library/R/2.14/library/xcms/ 
libs/x86_64/xcms.so
   Reason: image not found
Inoltre: Warning message:
In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc  
= lib.loc) :
   there is no package called ?digest?
Errore: package/namespace load failed for ?xcms?
 >

I think the error is the absence of ibnetcdf.7.dylib. Do you have any  
idea how can I correct this error??

Best

Riccardo

From dwinsemius at comcast.net  Sun Nov 13 00:34:35 2011
From: dwinsemius at comcast.net (David Winsemius)
Date: Sat, 12 Nov 2011 18:34:35 -0500
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
References: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
Message-ID: <16FD6440-3614-4311-86CC-FAB794B518B5@comcast.net>


On Nov 12, 2011, at 6:25 PM, Riccardo Romoli wrote:

> Hi, I have already installed R 2.14.0 and I have some problem to  
> load several packages, in particular xcms package. I installed it  
> directly from the GUI and when I try to load it the R I have:
>
> > library(xcms)
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  unable to load shared object '/Users/riccardoromoli/Library/R/2.14/ 
> library/xcms/libs/x86_64/xcms.so':
>  dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/ 
> x86_64/xcms.so, 6): Library not loaded: /usr/local/lib/libnetcdf. 
> 7.dylib
>  Referenced from: /Users/riccardoromoli/Library/R/2.14/library/xcms/ 
> libs/x86_64/xcms.so
>  Reason: image not found
> Inoltre: Warning message:
> In library(pkg, character.only = TRUE, logical.return = TRUE,  
> lib.loc = lib.loc) :
>  there is no package called ?digest?
> Errore: package/namespace load failed for ?xcms?
> >
>
> I think the error is the absence of ibnetcdf.7.dylib. Do you have  
> any idea how can I correct this error??

How recently have you updated the new version of R? If not within the  
last day then you should do so again. (There were other similar  
postings and Simon fixed a problem and reported so on this list.)

-- 
David Winsemius, MD
West Hartford, CT


From ric.romoli at gmail.com  Sun Nov 13 00:49:55 2011
From: ric.romoli at gmail.com (Riccardo Romoli)
Date: Sun, 13 Nov 2011 00:49:55 +0100
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <16FD6440-3614-4311-86CC-FAB794B518B5@comcast.net>
References: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<16FD6440-3614-4311-86CC-FAB794B518B5@comcast.net>
Message-ID: <9B9E53C7-FA9E-41A3-888F-2C26501EDB23@gmail.com>


On 13/nov/11, at 00:34, David Winsemius wrote:

>
> On Nov 12, 2011, at 6:25 PM, Riccardo Romoli wrote:
>
>> Hi, I have already installed R 2.14.0 and I have some problem to  
>> load several packages, in particular xcms package. I installed it  
>> directly from the GUI and when I try to load it the R I have:
>>
>> > library(xcms)
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>> unable to load shared object '/Users/riccardoromoli/Library/R/2.14/ 
>> library/xcms/libs/x86_64/xcms.so':
>> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/ 
>> x86_64/xcms.so, 6): Library not loaded: /usr/local/lib/libnetcdf. 
>> 7.dylib
>> Referenced from: /Users/riccardoromoli/Library/R/2.14/library/xcms/ 
>> libs/x86_64/xcms.so
>> Reason: image not found
>> Inoltre: Warning message:
>> In library(pkg, character.only = TRUE, logical.return = TRUE,  
>> lib.loc = lib.loc) :
>> there is no package called ?digest?
>> Errore: package/namespace load failed for ?xcms?
>> >
>>
>> I think the error is the absence of ibnetcdf.7.dylib. Do you have  
>> any idea how can I correct this error??
>
> How recently have you updated the new version of R? If not within  
> the last day then you should do so again. (There were other similar  
> postings and Simon fixed a problem and reported so on this list.)
>
> -- 
> David Winsemius, MD
> West Hartford, CT
>

I uploadede R a few minutes ago.....

Riccardo

From dtenenba at fhcrc.org  Sun Nov 13 02:52:05 2011
From: dtenenba at fhcrc.org (Dan Tenenbaum)
Date: Sat, 12 Nov 2011 17:52:05 -0800
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <9573_1321140265_4EBF0029_9573_7411_1_FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
References: <9573_1321140265_4EBF0029_9573_7411_1_FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
Message-ID: <CAF42j21_euNw7Y2EaGzDQ-BVhLM_krBYf8LeLm--wk0YX7Ru=Q@mail.gmail.com>

On Sat, Nov 12, 2011 at 3:25 PM, Riccardo Romoli <ric.romoli at gmail.com> wrote:
> Hi, I have already installed R 2.14.0 and I have some problem to load
> several packages, in particular xcms package. I installed it directly from
> the GUI and when I try to load it the R I have:
>
>> library(xcms)
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
> ?unable to load shared object
> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
> ?dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
> ?Referenced from:
> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
> ?Reason: image not found
> Inoltre: Warning message:
> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc =
> lib.loc) :
> ?there is no package called ?digest?
> Errore: package/namespace load failed for ?xcms?
>>
>
> I think the error is the absence of ibnetcdf.7.dylib. Do you have any idea
> how can I correct this error??
>

xcms requires netcdf and zlib, these can be installed from here:
http://www.unidata.ucar.edu/software/netcdf/

The recommended way to install Bioconductor packages is not from the
GUI but as follows:

source("http://bioconductor.org/biocLite.R")
biocLite("xcms")

Dan


> Best
>
> Riccardo
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From ripley at stats.ox.ac.uk  Sun Nov 13 08:30:50 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sun, 13 Nov 2011 07:30:50 +0000 (GMT)
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
References: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
Message-ID: <alpine.LFD.2.02.1111130724060.4099@gannet.stats.ox.ac.uk>

On Sun, 13 Nov 2011, Riccardo Romoli wrote:

> Hi, I have already installed R 2.14.0 and I have some problem to load several 
> packages, in particular xcms package. I installed it directly from the GUI 
> and when I try to load it the R I have:
>
>> library(xcms)
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
> unable to load shared object 
> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so, 
> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
> Referenced from: 
> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
> Reason: image not found
> Inoltre: Warning message:
> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc = 
> lib.loc) :
> there is no package called ?digest?
> Errore: package/namespace load failed for ?xcms?
>> 
>
> I think the error is the absence of ibnetcdf.7.dylib. Do you have any idea 
> how can I correct this error??

1) Ask BioC to build the package correctly, or
2) Build from the sources yourself, preferably using a static netcdf 
library.

People should not be distributing Mac binary packages with hardcoded 
paths to dependencies not in the R framework: CRAN does not.  In 
particular, /usr/local/lib need administrative privileges to populate.

>
> Best
>
> Riccardo
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ric.romoli at gmail.com  Sun Nov 13 22:30:17 2011
From: ric.romoli at gmail.com (Riccardo Romoli)
Date: Sun, 13 Nov 2011 22:30:17 +0100
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <CAF42j21_euNw7Y2EaGzDQ-BVhLM_krBYf8LeLm--wk0YX7Ru=Q@mail.gmail.com>
References: <9573_1321140265_4EBF0029_9573_7411_1_FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<CAF42j21_euNw7Y2EaGzDQ-BVhLM_krBYf8LeLm--wk0YX7Ru=Q@mail.gmail.com>
Message-ID: <865064E9-F758-4924-9DC7-20BA4F707A50@gmail.com>


On 13/nov/11, at 02:52, Dan Tenenbaum wrote:

> On Sat, Nov 12, 2011 at 3:25 PM, Riccardo Romoli  
> <ric.romoli at gmail.com> wrote:
>> Hi, I have already installed R 2.14.0 and I have some problem to load
>> several packages, in particular xcms package. I installed it  
>> directly from
>> the GUI and when I try to load it the R I have:
>>
>>> library(xcms)
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>  unable to load shared object
>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/ 
>> xcms.so':
>>  dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/ 
>> x86_64/xcms.so,
>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>  Referenced from:
>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>>  Reason: image not found
>> Inoltre: Warning message:
>> In library(pkg, character.only = TRUE, logical.return = TRUE,  
>> lib.loc =
>> lib.loc) :
>>  there is no package called ?digest?
>> Errore: package/namespace load failed for ?xcms?
>>>
>>
>> I think the error is the absence of ibnetcdf.7.dylib. Do you have  
>> any idea
>> how can I correct this error??
>>
>
> xcms requires netcdf and zlib, these can be installed from here:
> http://www.unidata.ucar.edu/software/netcdf/
>
> The recommended way to install Bioconductor packages is not from the
> GUI but as follows:
>
> source("http://bioconductor.org/biocLite.R")
> biocLite("xcms")
>
> Dan
>
>
>> Best
>>
>> Riccardo
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>

Thanks Dan,
I will follow your suggestion, I will install netCDF but I have two  
further question:

1)Following the instruction in the netCDF downloaded foldere I read:

./configure --prefix=/home/ed/local --disable-netcdf-4
make check i
nstall

What path(/home/ed/local ) should I set on osx??

2)Why with the older version of R I haven't had no problem??

I there a  way in osx to upadate R without to re-install all and not  
installing the GUI app such as in linux??

Riccardo

From simon.urbanek at r-project.org  Sun Nov 13 23:18:27 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 13 Nov 2011 17:18:27 -0500
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <865064E9-F758-4924-9DC7-20BA4F707A50@gmail.com>
References: <9573_1321140265_4EBF0029_9573_7411_1_FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<CAF42j21_euNw7Y2EaGzDQ-BVhLM_krBYf8LeLm--wk0YX7Ru=Q@mail.gmail.com>
	<865064E9-F758-4924-9DC7-20BA4F707A50@gmail.com>
Message-ID: <9BFC75AF-6248-42CD-BF4C-32003DD9D771@r-project.org>


On Nov 13, 2011, at 4:30 PM, Riccardo Romoli wrote:

> 
> On 13/nov/11, at 02:52, Dan Tenenbaum wrote:
> 
>> On Sat, Nov 12, 2011 at 3:25 PM, Riccardo Romoli <ric.romoli at gmail.com> wrote:
>>> Hi, I have already installed R 2.14.0 and I have some problem to load
>>> several packages, in particular xcms package. I installed it directly from
>>> the GUI and when I try to load it the R I have:
>>> 
>>>> library(xcms)
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>> unable to load shared object
>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
>>> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>> Referenced from:
>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>>> Reason: image not found
>>> Inoltre: Warning message:
>>> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc =
>>> lib.loc) :
>>> there is no package called ?digest?
>>> Errore: package/namespace load failed for ?xcms?
>>>> 
>>> 
>>> I think the error is the absence of ibnetcdf.7.dylib. Do you have any idea
>>> how can I correct this error??
>>> 
>> 
>> xcms requires netcdf and zlib, these can be installed from here:
>> http://www.unidata.ucar.edu/software/netcdf/
>> 
>> The recommended way to install Bioconductor packages is not from the
>> GUI but as follows:
>> 
>> source("http://bioconductor.org/biocLite.R")
>> biocLite("xcms")
>> 
>> Dan
>> 
>> 
>>> Best
>>> 
>>> Riccardo
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
> 
> Thanks Dan,
> I will follow your suggestion, I will install netCDF but I have two further question:
> 
> 1)Following the instruction in the netCDF downloaded foldere I read:
> 
> ./configure --prefix=/home/ed/local --disable-netcdf-4
> make check i
> nstall
> 
> What path(/home/ed/local ) should I set on osx??
> 
> 2)Why with the older version of R I haven't had no problem??
> 
> I there a  way in osx to upadate R without to re-install all and not installing the GUI app such as in linux??
> 

Sure, when you are installing R you have the choice to install what you want, so, obviously, you can choose to not install the R.app. Once you installed R previously, the installer will always perform an upgrade by default.

Cheers,
Simon


From simon.urbanek at r-project.org  Mon Nov 14 16:07:58 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 14 Nov 2011 10:07:58 -0500
Subject: [R-SIG-Mac] Compiling CC source: cc in R 2.12 vs gcc in R 2.13
In-Reply-To: <19603943.8195.1320064784106.JavaMail.open-xchange@oxde01.ibone.ch>
References: <19603943.8195.1320064784106.JavaMail.open-xchange@oxde01.ibone.ch>
Message-ID: <826EE93E-104E-409B-B572-E51D56AE164B@r-project.org>

Richard,

On Oct 31, 2011, at 8:39 AM, Richard R. Liu wrote:

> Hello,
>  
> I sent the following email to Duncan Temple Lang, who maintains Rlibstemmer, but
> I suspect the problem is a general one.

Not really, it is a fundamental problem with Rlibstemmer.


>  Perhaps somebody here can tell me what
> options have to be set for gcc -- or whether and how I can still use cc with R
> 2.13 -- in order to get a 32-bit version.  Thanks.
>  

First, cc and gcc are the same thing in Xcode so that's a red herring. Second, setting CFLAGS/CCFLAGS has no effect on the package itself, those are ignored and it uses R's settings. [Note that the flags you specified are nowhere seen in the listing you sent]. Third, the way Rlibstemmer is build is fundamentally broken, since sources are actually outside of the src tree so they will be wrong - and you can see that from the output "make: Nothing to be done for `all'." indicates that nothing is actually built for the architecture since R has no way of knowing about them.

[... I was trying to fix the sources to demonstrate wheat needs to be changed, but it was more than I hoped, so I gave up and never sent this ...]

I may try to give 0.1-0 a shot, maybe it's easier to fix than 0.1-1 ... 

Cheers,
Simon





> ---------- Original email follows ----------
> Hello Duncan,
> 
> Some time ago I had a problem with RStem which was solved in Rlibstemmer.  Since
> then I have been using the latter, specifically Rlibstemmer_0.1-0.tar.gz.  Up
> until R 2.12 the following recipe has worked for building a 32-/64-bit binary
> for OS X:
> 
> ----------
> Download Rlibstemmer_0.1-0.tar.gz from http://www.omegahat.org/Rlibstemmer.
>  Unpack it by double-clicking on it.  This will produce a folder Rlibstemmer.
>  Navigate to Rlibstemmer/inst/libstemmer_c.  Modify Makefile as follows:  (1)
> delete the line specifying the CFLAGS and (2) add examples/*.o to the files to
> be cleaned.  Save the Makefile.
> 
> Now start Terminal and cd to the directory that contains the folder Rlibstemmer.
>  Issue the command tar -czf Rlibstemmer.tar.gz Rlibstemmer/* to create a new
> source package.  After that, create and install the 64-bit version of
> Rlibstemmer as follows:
> 
> export CFLAGS="-arch x86_64 -m64 -Iinclude -fPIC"
> export CCFLAGS="-arch x86_64 -m64"
> R --arch=x86_64 CMD INSTALL Rlibstemmer.tar.gz
> 
> Then create and install the 32-bit version:
> 
> export CFLAGS="-arch i386 -m32 -Iinclude -fPIC"
> export CCFLAGS="-arch i386 -m32"
> R --arch=i386 CMD INSTALL --libs-only Rlibstemmer.tar.gz
> ----------
> 
> However, compiling for R 2.13, 32-bit version, no longer works.  Here is a log
> of the run:
> 
> ----------
> rrl-macbookpro:Downloads sim$ export CFLAGS="-arch i386 -m32 -Iinclude -fPIC"
> rrl-macbookpro:Downloads sim$ export CCFLAGS="-arch i386 -m32"
> rrl-macbookpro:Downloads sim$ R --arch=i386 CMD INSTALL --libs-only
> Rlibstemmer.tar.gz
> * installing to library ?/Users/sim/Library/R/2.13/library?
> * installing *source* package ?Rlibstemmer? ...
> make: Nothing to be done for `all'.
> ** libs
> *** arch - i386
> gcc-4.2 -arch i386 -std=gnu99
> -I/Library/Frameworks/R.framework/Resources/include
> -I/Library/Frameworks/R.framework/Resources/include/i386
> -I../inst/libstemmer_c/include -I/usr/local/include -fPIC  -g -O2 -c
> ._listAlgorithms.c -o ._listAlgorithms.o
> ._listAlgorithms.c:1:1: warning: null character(s) ignored
> ._listAlgorithms.c:1: error: stray ?\5? in program
> ._listAlgorithms.c:1: error: stray ?\26? in program
> ._listAlgorithms.c:1: error: stray ?\7? in program
> ._listAlgorithms.c:1:5: warning: null character(s) ignored
> ._listAlgorithms.c:1: error: stray ?\2? in program
> ._listAlgorithms.c:1:7: warning: null character(s) ignored
> ._listAlgorithms.c:1: error: expected ?=?, ?,?, ?;?, ?asm? or ?__attribute__?
> before ?OS?
> ._listAlgorithms.c:1:17: warning: null character(s) ignored
> ._listAlgorithms.c:1: error: stray ?\2? in program
> ._listAlgorithms.c:1:27: warning: null character(s) ignored
> ._listAlgorithms.c:1:35: warning: null character(s) ignored
> ._listAlgorithms.c:1: error: stray ?\263? in program
> ._listAlgorithms.c:1:39: warning: null character(s) ignored
> ._listAlgorithms.c:1: error: stray ?\2? in program
> ._listAlgorithms.c:1:43: warning: null character(s) ignored
> ._listAlgorithms.c:1: error: stray ?\345? in program
> ._listAlgorithms.c:1:47: warning: null character(s) ignored
> ._listAlgorithms.c:1:89: warning: null character(s) ignored
> ._listAlgorithms.c:1: error: stray ?\210? in program
> ._listAlgorithms.c:1: error: stray ?\241? in program
> ._listAlgorithms.c:1:92: warning: null character(s) ignored
> ._listAlgorithms.c:1: error: stray ?\345? in program
> ._listAlgorithms.c:1:97: warning: null character(s) ignored
> ._listAlgorithms.c:1: error: stray ?\230? in program
> ._listAlgorithms.c:1:101: warning: null character(s) ignored
> ._listAlgorithms.c:1:105: warning: null character(s) ignored
> ._listAlgorithms.c:1: error: stray ?\1? in program
> ._listAlgorithms.c:1:121: warning: null character(s) ignored
> ._listAlgorithms.c:1: error: stray ?\230? in program
> ._listAlgorithms.c:1:125: warning: null character(s) ignored
> ._listAlgorithms.c:1:129: warning: null character(s) ignored
> ._listAlgorithms.c:1: error: stray ?\25? in program
> ._listAlgorithms.c:1:152: warning: null character(s) ignored
> ._listAlgorithms.c:1:160: error: invalid suffix "c618132" on integer constant
> ._listAlgorithms.c:1: error: expected identifier or ?(? before numeric constant
> ._listAlgorithms.c:1: warning: data definition has no type or storage class
> ._listAlgorithms.c:1: warning: type defaults to ?int? in declaration of ?Safari?
> ._listAlgorithms.c:1: error: expected ?=?, ?,?, ?;?, ?asm? or ?__attribute__?
> before ?-? token
> ._listAlgorithms.c:1:190: error: invalid suffix "A61" on integer constant
> ._listAlgorithms.c:1:200: error: invalid suffix "C52479DCA9" on integer constant
> ._listAlgorithms.c:1:229: warning: null character(s) ignored
> make: *** [._listAlgorithms.o] Error 1
> ERROR: compilation failed for package ?Rlibstemmer?
> * removing ?/Users/sim/Library/R/2.13/library/Rlibstemmer?
> * restoring previous ?/Users/sim/Library/R/2.13/library/Rlibstemmer?
> ----------
> 
> I notice that compiling for 2.12 invokes cc, whereas for 2.13 it is gcc-4.2.
>  Can you suggest a fix for this problem?
> ---------- End of original email ----------
> 
> 
> Richard R. Liu
> richard.liu at pueo-owl.ch
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From dtenenba at fhcrc.org  Mon Nov 14 18:57:17 2011
From: dtenenba at fhcrc.org (Dan Tenenbaum)
Date: Mon, 14 Nov 2011 09:57:17 -0800
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <865064E9-F758-4924-9DC7-20BA4F707A50@gmail.com>
References: <9573_1321140265_4EBF0029_9573_7411_1_FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<CAF42j21_euNw7Y2EaGzDQ-BVhLM_krBYf8LeLm--wk0YX7Ru=Q@mail.gmail.com>
	<865064E9-F758-4924-9DC7-20BA4F707A50@gmail.com>
Message-ID: <CAF42j21DwxwRPYBXf-DqdHFgqyZQnEvsy_AG2dfSeyS4ih5pKw@mail.gmail.com>

Hi Riccardo,

On Sun, Nov 13, 2011 at 1:30 PM, Riccardo Romoli <ric.romoli at gmail.com> wrote:
>
> On 13/nov/11, at 02:52, Dan Tenenbaum wrote:
>
>> On Sat, Nov 12, 2011 at 3:25 PM, Riccardo Romoli <ric.romoli at gmail.com>
>> wrote:
>>>
>>> Hi, I have already installed R 2.14.0 and I have some problem to load
>>> several packages, in particular xcms package. I installed it directly
>>> from
>>> the GUI and when I try to load it the R I have:
>>>
>>>> library(xcms)
>>>
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>> ?unable to load shared object
>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
>>>
>>> ?dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>> ?Referenced from:
>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>>> ?Reason: image not found
>>> Inoltre: Warning message:
>>> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc =
>>> lib.loc) :
>>> ?there is no package called ?digest?
>>> Errore: package/namespace load failed for ?xcms?
>>>>
>>>
>>> I think the error is the absence of ibnetcdf.7.dylib. Do you have any
>>> idea
>>> how can I correct this error??
>>>
>>
>> xcms requires netcdf and zlib, these can be installed from here:
>> http://www.unidata.ucar.edu/software/netcdf/
>>
>> The recommended way to install Bioconductor packages is not from the
>> GUI but as follows:
>>
>> source("http://bioconductor.org/biocLite.R")
>> biocLite("xcms")
>>
>> Dan
>>
>>
>>> Best
>>>
>>> Riccardo
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>
> Thanks Dan,
> I will follow your suggestion, I will install netCDF but I have two further
> question:
>
> 1)Following the instruction in the netCDF downloaded foldere I read:
>
> ./configure --prefix=/home/ed/local --disable-netcdf-4
> make check i
> nstall
>
> What path(/home/ed/local ) should I set on osx??

Set it to /usr/local.

>
> 2)Why with the older version of R I haven't had no problem??


I'm not sure. I am cc'ing the package maintainer who can perhaps
answer this question for you. Also, perhaps he can change the package
so that as Brian suggests (here:
https://stat.ethz.ch/pipermail/r-sig-mac/2011-November/008781.html),
rather than looking for the netcdf libraries on a hardcoded path, he
can do something like what is done in the CRAN package ncdf (see
http://cran.fhcrc.org/web/packages/ncdf/INSTALL).

Dan


>
> I there a ?way in osx to upadate R without to re-install all and not
> installing the GUI app such as in linux??
>
> Riccardo


From howell.garth at gmail.com  Mon Nov 14 21:38:58 2011
From: howell.garth at gmail.com (Garth Howell)
Date: Mon, 14 Nov 2011 12:38:58 -0800
Subject: [R-SIG-Mac] suppress PowerPC package build on Lion with R-devel
Message-ID: <CAAmwW4=9L=HLKaJcy4jNyMfkABpsoSzvwHJxhQ_1hGKJ4GGeNQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111114/f9a860df/attachment.pl>

From mk9y at me.com  Mon Nov 14 23:38:59 2011
From: mk9y at me.com (Michael Kubovy)
Date: Mon, 14 Nov 2011 17:38:59 -0500
Subject: [R-SIG-Mac] Hmisc doesn't load
Message-ID: <E8F89E8E-378C-404B-A820-2032E7C81FC3@me.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111114/876ad15e/attachment.pl>

From simon.urbanek at r-project.org  Tue Nov 15 00:40:04 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 14 Nov 2011 18:40:04 -0500
Subject: [R-SIG-Mac] suppress PowerPC package build on Lion with R-devel
In-Reply-To: <CAAmwW4=9L=HLKaJcy4jNyMfkABpsoSzvwHJxhQ_1hGKJ4GGeNQ@mail.gmail.com>
References: <CAAmwW4=9L=HLKaJcy4jNyMfkABpsoSzvwHJxhQ_1hGKJ4GGeNQ@mail.gmail.com>
Message-ID: <E4D5A302-5ECE-417A-B0D7-83E03E987C00@r-project.org>

Garth,

I bet you didn't use the Installer. The tar ball contains more than your system can handle, that's why the installed removes ppc binaries on Lion. You can do the same by hand with something like
sudo rm -rf `find /Library/Frameworks/R.framework -name ppc`

However, I'd recommend using the Installer instead since there are other Lion-specific actions (such as changing the default arch etc.). 

Cheers,
Simon


On Nov 14, 2011, at 3:38 PM, Garth Howell wrote:

> Hi,
> 
> I am running Lion which no longer supports the Power PC architecture.
> 
> I want to build a package from source using R-devel.
> 
> This is what happens:
> $ R CMD INSTALL rjson_0.2.6.tar.gz
> BiocInstaller version 1.3.3, ?biocLite for help
> * installing to library
> ?/Library/Frameworks/R.framework/Versions/2.15/Resources/library?
> * installing *source* package ?rjson? ...
> ** package ?rjson? successfully unpacked and MD5 sums checked
> ** Creating default NAMESPACE file
> ** libs
> *** arch - i386
> gcc-4.2 -arch i386 -std=gnu99
> -I/Library/Frameworks/R.framework/Versions/2.15/Resources/include
> -I/Library/Frameworks/R.framework/Versions/2.15/Resources/include/i386
> -DNDEBUG  -I/usr/local/include    -fPIC  -g -O2 -Wall -pedantic -c parser.c
> -o parser.o
> parser.c: In function ?UTF8Encode2BytesUnicode?:
> parser.c:102: warning: comparison is always true due to limited range of
> data type
> gcc-4.2 -arch i386 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names
> -undefined dynamic_lookup -single_module -multiply_defined suppress
> -L/usr/local/lib -o rjson.so parser.o -F/Library/Frameworks/R.framework/..
> -framework R -Wl,-framework -Wl,CoreFoundation
> installing to
> /Library/Frameworks/R.framework/Versions/2.15/Resources/library/rjson/libs/i386
> *** arch - ppc
> gcc-4.2 -arch ppc -std=gnu99
> -I/Library/Frameworks/R.framework/Versions/2.15/Resources/include
> -I/Library/Frameworks/R.framework/Versions/2.15/Resources/include/ppc
> -DNDEBUG  -I/usr/local/include    -fPIC  -g -O2 -Wall -pedantic -c parser.c
> -o parser.o
> gcc-4.2: error trying to exec '/usr/bin/powerpc-apple-darwin11-gcc-4.2.1':
> execvp: No such file or directory
> make: *** [parser.o] Error 255
> ERROR: compilation failed for package ?rjson?
> * removing
> ?/Library/Frameworks/R.framework/Versions/2.15/Resources/library/rjson?
> * restoring previous
> ?/Library/Frameworks/R.framework/Versions/2.15/Resources/library/rjson?
> 
> If I add the option --no-multiarch, it builds fine.
> But I would like to build the package for both the i386 and x86_64
> architectures.
> 
> Is there some setting I can change so that by default, packages will be
> built for both these architectures but never for ppc?
> 
> I am using the binary of R-devel from http://r.research.att.com.
> 
> sessionInfo()
> R Under development (unstable) (2011-10-27 r57452)
> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> Thanks,
> Garth Howell
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Tue Nov 15 00:41:36 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 14 Nov 2011 18:41:36 -0500
Subject: [R-SIG-Mac] Hmisc doesn't load
In-Reply-To: <E8F89E8E-378C-404B-A820-2032E7C81FC3@me.com>
References: <E8F89E8E-378C-404B-A820-2032E7C81FC3@me.com>
Message-ID: <E9D32E3B-4BB8-4468-939A-5949EA2729D2@r-project.org>

Please a) read this list b) use install.packages("Hmisc") with an up-to-date mirror or update your R.app GUI.
Cheers,
S


On Nov 14, 2011, at 5:38 PM, Michael Kubovy wrote:

> After installing the Hmisc package in terminal:
> 
> [mks-Mac-Pro:~/Downloads/14-11-11] mk% R CMD INSTALL Hmisc_3.9-0.tar 
> .Rprofile: Setting US repository
> Loading required package: grDevices
> Loading required package: graphics
> Loading required package: stats
> Loading required package: utils
> Loading required package: brew
> 
> Attaching package: ???sos???
> 
> * installing to library ???/Library/Frameworks/R.framework/Versions/2.14/Resources/library???
> * installing *binary* package ???Hmisc??? ...
> 
> * DONE (Hmisc)
> 
>> sessionInfo()
> R version 2.14.0 (2011-10-31)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] splines   datasets  utils     stats     graphics  grDevices methods   base     
> 
> other attached packages:
> [1] survival_2.36-10    RISmed_1.2.3        CITAN_2011.08-1     ADGofTest_0.1       hash_2.1.0         
> [6] RGtk2_2.20.19       RSQLite_0.10.0      DBI_0.2-5           BiocInstaller_1.2.1 ctv_0.7-3          
> [11] sos_1.3-1           brew_1.0-6          MASS_7.3-16        
> 
> loaded via a namespace (and not attached):
> [1] cluster_1.14.1 grid_2.14.0    lattice_0.20-0 tools_2.14.0  
> 
>> library(Hmisc)
> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>  unable to load shared object '/Library/Frameworks/R.framework/Versions/2.14/Resources/library/Hmisc/libs/x86_64/Hmisc.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/2.14/Resources/library/Hmisc/libs/x86_64/Hmisc.so, 6): Library not loaded: @rpath/R.framework/Versions/2.13/Resources/lib/libR.dylib
>  Referenced from: /Library/Frameworks/R.framework/Versions/2.14/Resources/library/Hmisc/libs/x86_64/Hmisc.so
>  Reason: image not found
> Error: package/namespace load failed for ?Hmisc?
> 
> Suggestions?
> ______________________________________________
> Professor Michael Kubovy
> University of Virginia
> Department of Psychology
> for mail add:						for FedEx or UPS add: 
> P.O.Box 400400					Gilmer Hall, Room 102
> Charlottesville, VA 22904-4400	485 McCormick Road
> USA							Charlottesville, VA 22903
> 		room	phone
> Office:    B011	+1-434-982-4729
> Lab:        B019	+1-434-982-4751
> WWW:    http://www.people.virginia.edu/~mk9y/
> 
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ric.romoli at gmail.com  Tue Nov 15 00:54:29 2011
From: ric.romoli at gmail.com (Riccardo Romoli)
Date: Tue, 15 Nov 2011 00:54:29 +0100
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <CAF42j21DwxwRPYBXf-DqdHFgqyZQnEvsy_AG2dfSeyS4ih5pKw@mail.gmail.com>
References: <9573_1321140265_4EBF0029_9573_7411_1_FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<CAF42j21_euNw7Y2EaGzDQ-BVhLM_krBYf8LeLm--wk0YX7Ru=Q@mail.gmail.com>
	<865064E9-F758-4924-9DC7-20BA4F707A50@gmail.com>
	<CAF42j21DwxwRPYBXf-DqdHFgqyZQnEvsy_AG2dfSeyS4ih5pKw@mail.gmail.com>
Message-ID: <E8194CB3-9A1A-4059-A23E-875D92C5DD26@gmail.com>

Hello, I try to install  netCDF using:

./configure --prefix=/usr/local/ --disable-netcdf-4
make check install

but the terminal say: configure:

error: no acceptable C compiler found in $PATH

I think I need to install the x developer code with the C compiler. It  
is right?
Best

On 14/nov/11, at 18:57, Dan Tenenbaum wrote:

> Hi Riccardo,
>
> On Sun, Nov 13, 2011 at 1:30 PM, Riccardo Romoli  
> <ric.romoli at gmail.com> wrote:
>>
>> On 13/nov/11, at 02:52, Dan Tenenbaum wrote:
>>
>>> On Sat, Nov 12, 2011 at 3:25 PM, Riccardo Romoli <ric.romoli at gmail.com 
>>> >
>>> wrote:
>>>>
>>>> Hi, I have already installed R 2.14.0 and I have some problem to  
>>>> load
>>>> several packages, in particular xcms package. I installed it  
>>>> directly
>>>> from
>>>> the GUI and when I try to load it the R I have:
>>>>
>>>>> library(xcms)
>>>>
>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>  unable to load shared object
>>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/ 
>>>> xcms.so':
>>>>
>>>>  dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/ 
>>>> x86_64/xcms.so,
>>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>>>  Referenced from:
>>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/ 
>>>> xcms.so
>>>>  Reason: image not found
>>>> Inoltre: Warning message:
>>>> In library(pkg, character.only = TRUE, logical.return = TRUE,  
>>>> lib.loc =
>>>> lib.loc) :
>>>>  there is no package called ?digest?
>>>> Errore: package/namespace load failed for ?xcms?
>>>>>
>>>>
>>>> I think the error is the absence of ibnetcdf.7.dylib. Do you have  
>>>> any
>>>> idea
>>>> how can I correct this error??
>>>>
>>>
>>> xcms requires netcdf and zlib, these can be installed from here:
>>> http://www.unidata.ucar.edu/software/netcdf/
>>>
>>> The recommended way to install Bioconductor packages is not from the
>>> GUI but as follows:
>>>
>>> source("http://bioconductor.org/biocLite.R")
>>> biocLite("xcms")
>>>
>>> Dan
>>>
>>>
>>>> Best
>>>>
>>>> Riccardo
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>
>> Thanks Dan,
>> I will follow your suggestion, I will install netCDF but I have two  
>> further
>> question:
>>
>> 1)Following the instruction in the netCDF downloaded foldere I read:
>>
>> ./configure --prefix=/home/ed/local --disable-netcdf-4
>> make check i
>> nstall
>>
>> What path(/home/ed/local ) should I set on osx??
>
> Set it to /usr/local.
>
>>
>> 2)Why with the older version of R I haven't had no problem??
>
>
> I'm not sure. I am cc'ing the package maintainer who can perhaps
> answer this question for you. Also, perhaps he can change the package
> so that as Brian suggests (here:
> https://stat.ethz.ch/pipermail/r-sig-mac/2011-November/008781.html),
> rather than looking for the netcdf libraries on a hardcoded path, he
> can do something like what is done in the CRAN package ncdf (see
> http://cran.fhcrc.org/web/packages/ncdf/INSTALL).
>
> Dan
>
>
>>
>> I there a  way in osx to upadate R without to re-install all and not
>> installing the GUI app such as in linux??
>>
>> Riccardo


From dwinsemius at comcast.net  Tue Nov 15 00:53:46 2011
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 14 Nov 2011 18:53:46 -0500
Subject: [R-SIG-Mac] Hmisc doesn't load
In-Reply-To: <E8F89E8E-378C-404B-A820-2032E7C81FC3@me.com>
References: <E8F89E8E-378C-404B-A820-2032E7C81FC3@me.com>
Message-ID: <4B3E5FE3-F48E-413A-991C-60013BA94341@comcast.net>


On Nov 14, 2011, at 5:38 PM, Michael Kubovy wrote:

> After installing the Hmisc package in terminal:
>
> [mks-Mac-Pro:~/Downloads/14-11-11] mk% R CMD INSTALL Hmisc_3.9-0.tar
> .Rprofile: Setting US repository
> Loading required package: grDevices
> Loading required package: graphics
> Loading required package: stats
> Loading required package: utils
> Loading required package: brew
>
> Attaching package: ???sos???
>
> * installing to library ???/Library/Frameworks/R.framework/ 
> Versions/2.14/Resources/library???
> * installing *binary* package ???Hmisc??? ...
>
> * DONE (Hmisc)
>
>> sessionInfo()
> R version 2.14.0 (2011-10-31)

You should check that you version is up-to-date. There have been  
updates in the last week and the version on Urbanek's sites is 2.14.0  
Patched (2011/11/13, r57650)

-- 
David.
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] splines   datasets  utils     stats     graphics  grDevices  
> methods   base
>
> other attached packages:
> [1] survival_2.36-10    RISmed_1.2.3        CITAN_2011.08-1      
> ADGofTest_0.1       hash_2.1.0
> [6] RGtk2_2.20.19       RSQLite_0.10.0      DBI_0.2-5            
> BiocInstaller_1.2.1 ctv_0.7-3
> [11] sos_1.3-1           brew_1.0-6          MASS_7.3-16
>
> loaded via a namespace (and not attached):
> [1] cluster_1.14.1 grid_2.14.0    lattice_0.20-0 tools_2.14.0
>
>> library(Hmisc)
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  unable to load shared object '/Library/Frameworks/R.framework/ 
> Versions/2.14/Resources/library/Hmisc/libs/x86_64/Hmisc.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/2.14/Resources/ 
> library/Hmisc/libs/x86_64/Hmisc.so, 6): Library not loaded: @rpath/ 
> R.framework/Versions/2.13/Resources/lib/libR.dylib
>  Referenced from: /Library/Frameworks/R.framework/Versions/2.14/ 
> Resources/library/Hmisc/libs/x86_64/Hmisc.so
>  Reason: image not found
> Error: package/namespace load failed for ?Hmisc?
>
> Suggestions?
> ______________________________________________
> Professor Michael Kubovy
> University of Virginia
> Department of Psychology
> for mail add:						for FedEx or UPS add:
> P.O.Box 400400					Gilmer Hall, Room 102
> Charlottesville, VA 22904-4400	485 McCormick Road
> USA							Charlottesville, VA 22903
> 		room	phone
> Office:    B011	+1-434-982-4729
> Lab:        B019	+1-434-982-4751
> WWW:    http://www.people.virginia.edu/~mk9y/
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

David Winsemius, MD
West Hartford, CT


From howell.garth at gmail.com  Tue Nov 15 00:54:33 2011
From: howell.garth at gmail.com (Garth Howell)
Date: Mon, 14 Nov 2011 15:54:33 -0800
Subject: [R-SIG-Mac] suppress PowerPC package build on Lion with R-devel
In-Reply-To: <E4D5A302-5ECE-417A-B0D7-83E03E987C00@r-project.org>
References: <CAAmwW4=9L=HLKaJcy4jNyMfkABpsoSzvwHJxhQ_1hGKJ4GGeNQ@mail.gmail.com>
	<E4D5A302-5ECE-417A-B0D7-83E03E987C00@r-project.org>
Message-ID: <CAAmwW4mJCHkVXNqnnYkw4AC8Oj=5F=1SQN5tffSOepsbwodiPw@mail.gmail.com>

On Mon, Nov 14, 2011 at 3:40 PM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
> Garth,
>
> I bet you didn't use the Installer. The tar ball contains more than your system can handle, that's why the installed removes ppc binaries on Lion. You can do the same by hand with something like
> sudo rm -rf `find /Library/Frameworks/R.framework -name ppc`
>
> However, I'd recommend using the Installer instead since there are other Lion-specific actions (such as changing the default arch etc.).

That did the trick. Thanks!
Garth Howell


>
> Cheers,
> Simon
>
>
> On Nov 14, 2011, at 3:38 PM, Garth Howell wrote:
>
>> Hi,
>>
>> I am running Lion which no longer supports the Power PC architecture.
>>
>> I want to build a package from source using R-devel.
>>
>> This is what happens:
>> $ R CMD INSTALL rjson_0.2.6.tar.gz
>> BiocInstaller version 1.3.3, ?biocLite for help
>> * installing to library
>> ?/Library/Frameworks/R.framework/Versions/2.15/Resources/library?
>> * installing *source* package ?rjson? ...
>> ** package ?rjson? successfully unpacked and MD5 sums checked
>> ** Creating default NAMESPACE file
>> ** libs
>> *** arch - i386
>> gcc-4.2 -arch i386 -std=gnu99
>> -I/Library/Frameworks/R.framework/Versions/2.15/Resources/include
>> -I/Library/Frameworks/R.framework/Versions/2.15/Resources/include/i386
>> -DNDEBUG ?-I/usr/local/include ? ?-fPIC ?-g -O2 -Wall -pedantic -c parser.c
>> -o parser.o
>> parser.c: In function ?UTF8Encode2BytesUnicode?:
>> parser.c:102: warning: comparison is always true due to limited range of
>> data type
>> gcc-4.2 -arch i386 -std=gnu99 -dynamiclib -Wl,-headerpad_max_install_names
>> -undefined dynamic_lookup -single_module -multiply_defined suppress
>> -L/usr/local/lib -o rjson.so parser.o -F/Library/Frameworks/R.framework/..
>> -framework R -Wl,-framework -Wl,CoreFoundation
>> installing to
>> /Library/Frameworks/R.framework/Versions/2.15/Resources/library/rjson/libs/i386
>> *** arch - ppc
>> gcc-4.2 -arch ppc -std=gnu99
>> -I/Library/Frameworks/R.framework/Versions/2.15/Resources/include
>> -I/Library/Frameworks/R.framework/Versions/2.15/Resources/include/ppc
>> -DNDEBUG ?-I/usr/local/include ? ?-fPIC ?-g -O2 -Wall -pedantic -c parser.c
>> -o parser.o
>> gcc-4.2: error trying to exec '/usr/bin/powerpc-apple-darwin11-gcc-4.2.1':
>> execvp: No such file or directory
>> make: *** [parser.o] Error 255
>> ERROR: compilation failed for package ?rjson?
>> * removing
>> ?/Library/Frameworks/R.framework/Versions/2.15/Resources/library/rjson?
>> * restoring previous
>> ?/Library/Frameworks/R.framework/Versions/2.15/Resources/library/rjson?
>>
>> If I add the option --no-multiarch, it builds fine.
>> But I would like to build the package for both the i386 and x86_64
>> architectures.
>>
>> Is there some setting I can change so that by default, packages will be
>> built for both these architectures but never for ppc?
>>
>> I am using the binary of R-devel from http://r.research.att.com.
>>
>> sessionInfo()
>> R Under development (unstable) (2011-10-27 r57452)
>> Platform: i386-apple-darwin9.8.0/i386 (32-bit)
>>
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>
>> attached base packages:
>> [1] stats ? ? graphics ?grDevices utils ? ? datasets ?methods ? base
>>
>> Thanks,
>> Garth Howell
>>
>> ? ? ? [[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From kasperdanielhansen at gmail.com  Tue Nov 15 01:31:12 2011
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Mon, 14 Nov 2011 19:31:12 -0500
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <E8194CB3-9A1A-4059-A23E-875D92C5DD26@gmail.com>
References: <9573_1321140265_4EBF0029_9573_7411_1_FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<CAF42j21_euNw7Y2EaGzDQ-BVhLM_krBYf8LeLm--wk0YX7Ru=Q@mail.gmail.com>
	<865064E9-F758-4924-9DC7-20BA4F707A50@gmail.com>
	<CAF42j21DwxwRPYBXf-DqdHFgqyZQnEvsy_AG2dfSeyS4ih5pKw@mail.gmail.com>
	<E8194CB3-9A1A-4059-A23E-875D92C5DD26@gmail.com>
Message-ID: <CAC2h7useN-MRsb_oy3fOT8sp6ebTtqxO3F_077fVUYV26K9YnA@mail.gmail.com>

On Mon, Nov 14, 2011 at 6:54 PM, Riccardo Romoli <ric.romoli at gmail.com> wrote:
> Hello, I try to install ?netCDF using:
>
> ./configure --prefix=/usr/local/ --disable-netcdf-4
> make check install
>
> but the terminal say: configure:
>
> error: no acceptable C compiler found in $PATH
>
> I think I need to install the x developer code with the C compiler. It is
> right?

Yes.

> Best
>
> On 14/nov/11, at 18:57, Dan Tenenbaum wrote:
>
>> Hi Riccardo,
>>
>> On Sun, Nov 13, 2011 at 1:30 PM, Riccardo Romoli <ric.romoli at gmail.com>
>> wrote:
>>>
>>> On 13/nov/11, at 02:52, Dan Tenenbaum wrote:
>>>
>>>> On Sat, Nov 12, 2011 at 3:25 PM, Riccardo Romoli <ric.romoli at gmail.com>
>>>> wrote:
>>>>>
>>>>> Hi, I have already installed R 2.14.0 and I have some problem to load
>>>>> several packages, in particular xcms package. I installed it directly
>>>>> from
>>>>> the GUI and when I try to load it the R I have:
>>>>>
>>>>>> library(xcms)
>>>>>
>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>> ?unable to load shared object
>>>>>
>>>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
>>>>>
>>>>>
>>>>> ?dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
>>>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>>>> ?Referenced from:
>>>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>>>>> ?Reason: image not found
>>>>> Inoltre: Warning message:
>>>>> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc =
>>>>> lib.loc) :
>>>>> ?there is no package called ?digest?
>>>>> Errore: package/namespace load failed for ?xcms?
>>>>>>
>>>>>
>>>>> I think the error is the absence of ibnetcdf.7.dylib. Do you have any
>>>>> idea
>>>>> how can I correct this error??
>>>>>
>>>>
>>>> xcms requires netcdf and zlib, these can be installed from here:
>>>> http://www.unidata.ucar.edu/software/netcdf/
>>>>
>>>> The recommended way to install Bioconductor packages is not from the
>>>> GUI but as follows:
>>>>
>>>> source("http://bioconductor.org/biocLite.R")
>>>> biocLite("xcms")
>>>>
>>>> Dan
>>>>
>>>>
>>>>> Best
>>>>>
>>>>> Riccardo
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>
>>> Thanks Dan,
>>> I will follow your suggestion, I will install netCDF but I have two
>>> further
>>> question:
>>>
>>> 1)Following the instruction in the netCDF downloaded foldere I read:
>>>
>>> ./configure --prefix=/home/ed/local --disable-netcdf-4
>>> make check i
>>> nstall
>>>
>>> What path(/home/ed/local ) should I set on osx??
>>
>> Set it to /usr/local.
>>
>>>
>>> 2)Why with the older version of R I haven't had no problem??
>>
>>
>> I'm not sure. I am cc'ing the package maintainer who can perhaps
>> answer this question for you. Also, perhaps he can change the package
>> so that as Brian suggests (here:
>> https://stat.ethz.ch/pipermail/r-sig-mac/2011-November/008781.html),
>> rather than looking for the netcdf libraries on a hardcoded path, he
>> can do something like what is done in the CRAN package ncdf (see
>> http://cran.fhcrc.org/web/packages/ncdf/INSTALL).
>>
>> Dan
>>
>>
>>>
>>> I there a ?way in osx to upadate R without to re-install all and not
>>> installing the GUI app such as in linux??
>>>
>>> Riccardo
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Tue Nov 15 02:34:40 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 14 Nov 2011 20:34:40 -0500
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <E8194CB3-9A1A-4059-A23E-875D92C5DD26@gmail.com>
References: <9573_1321140265_4EBF0029_9573_7411_1_FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<CAF42j21_euNw7Y2EaGzDQ-BVhLM_krBYf8LeLm--wk0YX7Ru=Q@mail.gmail.com>
	<865064E9-F758-4924-9DC7-20BA4F707A50@gmail.com>
	<CAF42j21DwxwRPYBXf-DqdHFgqyZQnEvsy_AG2dfSeyS4ih5pKw@mail.gmail.com>
	<E8194CB3-9A1A-4059-A23E-875D92C5DD26@gmail.com>
Message-ID: <CEC87E5C-EDCD-4B8D-BA05-812C7367E13C@r-project.org>


On Nov 14, 2011, at 6:54 PM, Riccardo Romoli wrote:

> Hello, I try to install  netCDF using:
> 
> ./configure --prefix=/usr/local/ --disable-netcdf-4
> make check install
> 
> but the terminal say: configure:
> 
> error: no acceptable C compiler found in $PATH
> 
> I think I need to install the x developer code with the C compiler. It is right?
> Best

Well, you should really ask the BioC people to either a) fix their build [preferably, as Brian said already] or b) tell you which binary they used to build the package and send it to you. If you try compiling things from sources you'll have to ditch their binaries anyway and you get into the whole mess which binaries are supposed to solve which defeats the point. We are already providing pre-built static netcdf (same as CRAN uses) so it's beyond me why they don't use that ...

Cheers,
Simon



> 
> On 14/nov/11, at 18:57, Dan Tenenbaum wrote:
> 
>> Hi Riccardo,
>> 
>> On Sun, Nov 13, 2011 at 1:30 PM, Riccardo Romoli <ric.romoli at gmail.com> wrote:
>>> 
>>> On 13/nov/11, at 02:52, Dan Tenenbaum wrote:
>>> 
>>>> On Sat, Nov 12, 2011 at 3:25 PM, Riccardo Romoli <ric.romoli at gmail.com>
>>>> wrote:
>>>>> 
>>>>> Hi, I have already installed R 2.14.0 and I have some problem to load
>>>>> several packages, in particular xcms package. I installed it directly
>>>>> from
>>>>> the GUI and when I try to load it the R I have:
>>>>> 
>>>>>> library(xcms)
>>>>> 
>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>> unable to load shared object
>>>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
>>>>> 
>>>>> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
>>>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>>>> Referenced from:
>>>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>>>>> Reason: image not found
>>>>> Inoltre: Warning message:
>>>>> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc =
>>>>> lib.loc) :
>>>>> there is no package called ?digest?
>>>>> Errore: package/namespace load failed for ?xcms?
>>>>>> 
>>>>> 
>>>>> I think the error is the absence of ibnetcdf.7.dylib. Do you have any
>>>>> idea
>>>>> how can I correct this error??
>>>>> 
>>>> 
>>>> xcms requires netcdf and zlib, these can be installed from here:
>>>> http://www.unidata.ucar.edu/software/netcdf/
>>>> 
>>>> The recommended way to install Bioconductor packages is not from the
>>>> GUI but as follows:
>>>> 
>>>> source("http://bioconductor.org/biocLite.R")
>>>> biocLite("xcms")
>>>> 
>>>> Dan
>>>> 
>>>> 
>>>>> Best
>>>>> 
>>>>> Riccardo
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>> 
>>> Thanks Dan,
>>> I will follow your suggestion, I will install netCDF but I have two further
>>> question:
>>> 
>>> 1)Following the instruction in the netCDF downloaded foldere I read:
>>> 
>>> ./configure --prefix=/home/ed/local --disable-netcdf-4
>>> make check i
>>> nstall
>>> 
>>> What path(/home/ed/local ) should I set on osx??
>> 
>> Set it to /usr/local.
>> 
>>> 
>>> 2)Why with the older version of R I haven't had no problem??
>> 
>> 
>> I'm not sure. I am cc'ing the package maintainer who can perhaps
>> answer this question for you. Also, perhaps he can change the package
>> so that as Brian suggests (here:
>> https://stat.ethz.ch/pipermail/r-sig-mac/2011-November/008781.html),
>> rather than looking for the netcdf libraries on a hardcoded path, he
>> can do something like what is done in the CRAN package ncdf (see
>> http://cran.fhcrc.org/web/packages/ncdf/INSTALL).
>> 
>> Dan
>> 
>> 
>>> 
>>> I there a  way in osx to upadate R without to re-install all and not
>>> installing the GUI app such as in linux??
>>> 
>>> Riccardo
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From dtenenba at fhcrc.org  Tue Nov 15 04:01:16 2011
From: dtenenba at fhcrc.org (Dan Tenenbaum)
Date: Mon, 14 Nov 2011 19:01:16 -0800
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <CEC87E5C-EDCD-4B8D-BA05-812C7367E13C@r-project.org>
References: <9573_1321140265_4EBF0029_9573_7411_1_FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<CAF42j21_euNw7Y2EaGzDQ-BVhLM_krBYf8LeLm--wk0YX7Ru=Q@mail.gmail.com>
	<865064E9-F758-4924-9DC7-20BA4F707A50@gmail.com>
	<CAF42j21DwxwRPYBXf-DqdHFgqyZQnEvsy_AG2dfSeyS4ih5pKw@mail.gmail.com>
	<E8194CB3-9A1A-4059-A23E-875D92C5DD26@gmail.com>
	<CEC87E5C-EDCD-4B8D-BA05-812C7367E13C@r-project.org>
Message-ID: <CAF42j22bq=GWHw8htZ40PMwfEuiKJ7S+E-QGyfjNT6O32aDn+g@mail.gmail.com>

Hi Simon,

On Mon, Nov 14, 2011 at 5:34 PM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
>
> On Nov 14, 2011, at 6:54 PM, Riccardo Romoli wrote:
>
>> Hello, I try to install ?netCDF using:
>>
>> ./configure --prefix=/usr/local/ --disable-netcdf-4
>> make check install
>>
>> but the terminal say: configure:
>>
>> error: no acceptable C compiler found in $PATH
>>
>> I think I need to install the x developer code with the C compiler. It is right?
>> Best
>
> Well, you should really ask the BioC people to either a) fix their build [preferably, as Brian said already] or b) tell you which binary they used to build the package and send it to you. If you try compiling things from sources you'll have to ditch their binaries anyway and you get into the whole mess which binaries are supposed to solve which defeats the point. We are already providing pre-built static netcdf (same as CRAN uses) so it's beyond me why they don't use that ...
>

I have asked the package maintainer to have a look and avoid
hardcoding library paths.

For the time being, I don't have a binary of netcdf to send you. Our
build system uses a specially built netcdf 4.1.3 because of another
package that requires netcdf be built specially from source. We'll
look into special-casing this package so that other packages can use a
more vanilla, redistributable binary, such as the ones at
http://r.research.att.com/libs/.

I'll tell you how to build xcms from source, Riccardo, but you may
want to check out

http://metlin.scripps.edu/xcms/

Which has a browser-based version of xcms (no install required).

If you still want to build netcdf from source, you will need Xcode.
You'll also need this Fortran compiler:
http://r.research.att.com/gfortran-4.2.3.dmg
Then, download netcdf 4.1.3 from here:
http://www.unidata.ucar.edu/downloads/netcdf/ftp/netcdf-4.1.3.tar.gz

Then do this:
tar zxf netcdf-4.1.3.tar.gz
cd netcdf-4.1.3
./configure
make
sudo make install

Then you should be able to do this within R:
source("http://bioconductor.org/biocLite.R")
biocLite("xcms")
library(xcms)

Thanks,
Dan





> Cheers,
> Simon
>
>
>
>>
>> On 14/nov/11, at 18:57, Dan Tenenbaum wrote:
>>
>>> Hi Riccardo,
>>>
>>> On Sun, Nov 13, 2011 at 1:30 PM, Riccardo Romoli <ric.romoli at gmail.com> wrote:
>>>>
>>>> On 13/nov/11, at 02:52, Dan Tenenbaum wrote:
>>>>
>>>>> On Sat, Nov 12, 2011 at 3:25 PM, Riccardo Romoli <ric.romoli at gmail.com>
>>>>> wrote:
>>>>>>
>>>>>> Hi, I have already installed R 2.14.0 and I have some problem to load
>>>>>> several packages, in particular xcms package. I installed it directly
>>>>>> from
>>>>>> the GUI and when I try to load it the R I have:
>>>>>>
>>>>>>> library(xcms)
>>>>>>
>>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>> unable to load shared object
>>>>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
>>>>>>
>>>>>> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
>>>>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>>>>> Referenced from:
>>>>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>>>>>> Reason: image not found
>>>>>> Inoltre: Warning message:
>>>>>> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc =
>>>>>> lib.loc) :
>>>>>> there is no package called ?digest?
>>>>>> Errore: package/namespace load failed for ?xcms?
>>>>>>>
>>>>>>
>>>>>> I think the error is the absence of ibnetcdf.7.dylib. Do you have any
>>>>>> idea
>>>>>> how can I correct this error??
>>>>>>
>>>>>
>>>>> xcms requires netcdf and zlib, these can be installed from here:
>>>>> http://www.unidata.ucar.edu/software/netcdf/
>>>>>
>>>>> The recommended way to install Bioconductor packages is not from the
>>>>> GUI but as follows:
>>>>>
>>>>> source("http://bioconductor.org/biocLite.R")
>>>>> biocLite("xcms")
>>>>>
>>>>> Dan
>>>>>
>>>>>
>>>>>> Best
>>>>>>
>>>>>> Riccardo
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>
>>>> Thanks Dan,
>>>> I will follow your suggestion, I will install netCDF but I have two further
>>>> question:
>>>>
>>>> 1)Following the instruction in the netCDF downloaded foldere I read:
>>>>
>>>> ./configure --prefix=/home/ed/local --disable-netcdf-4
>>>> make check i
>>>> nstall
>>>>
>>>> What path(/home/ed/local ) should I set on osx??
>>>
>>> Set it to /usr/local.
>>>
>>>>
>>>> 2)Why with the older version of R I haven't had no problem??
>>>
>>>
>>> I'm not sure. I am cc'ing the package maintainer who can perhaps
>>> answer this question for you. Also, perhaps he can change the package
>>> so that as Brian suggests (here:
>>> https://stat.ethz.ch/pipermail/r-sig-mac/2011-November/008781.html),
>>> rather than looking for the netcdf libraries on a hardcoded path, he
>>> can do something like what is done in the CRAN package ncdf (see
>>> http://cran.fhcrc.org/web/packages/ncdf/INSTALL).
>>>
>>> Dan
>>>
>>>
>>>>
>>>> I there a ?way in osx to upadate R without to re-install all and not
>>>> installing the GUI app such as in linux??
>>>>
>>>> Riccardo
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
>


From hpages at fhcrc.org  Tue Nov 15 07:29:19 2011
From: hpages at fhcrc.org (=?windows-1252?Q?Herv=E9_Pag=E8s?=)
Date: Mon, 14 Nov 2011 22:29:19 -0800
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <alpine.LFD.2.02.1111130724060.4099@gannet.stats.ox.ac.uk>
References: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<alpine.LFD.2.02.1111130724060.4099@gannet.stats.ox.ac.uk>
Message-ID: <4EC206BF.2020302@fhcrc.org>

On 11-11-12 11:30 PM, Prof Brian Ripley wrote:
> On Sun, 13 Nov 2011, Riccardo Romoli wrote:
>
>> Hi, I have already installed R 2.14.0 and I have some problem to load
>> several packages, in particular xcms package. I installed it directly
>> from the GUI and when I try to load it the R I have:
>>
>>> library(xcms)
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>> unable to load shared object
>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
>> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>> Referenced from:
>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>> Reason: image not found
>> Inoltre: Warning message:
>> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc
>> = lib.loc) :
>> there is no package called ?digest?
>> Errore: package/namespace load failed for ?xcms?
>>>
>>
>> I think the error is the absence of ibnetcdf.7.dylib. Do you have any
>> idea how can I correct this error??
>
> 1) Ask BioC to build the package correctly, or
> 2) Build from the sources yourself, preferably using a static netcdf
> library.
>
> People should not be distributing Mac binary packages with hardcoded
> paths to dependencies not in the R framework: CRAN does not.

Not true. rggobi, Cairo and other Mac binaries on CRAN have
hardcoded paths to a bunch of stuff that is not in the R framework.

> In
> particular, /usr/local/lib need administrative privileges to populate.

Note that installing the external stuff needed by rggobi, Cairo etc
also requires administrative privileges.

Cheers,
H.

>
>>
>> Best
>>
>> Riccardo
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
Herv? Pag?s

Program in Computational Biology
Division of Public Health Sciences
Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N, M1-B514
P.O. Box 19024
Seattle, WA 98109-1024

E-mail: hpages at fhcrc.org
Phone:  (206) 667-5791
Fax:    (206) 667-1319


From simon.urbanek at r-project.org  Tue Nov 15 14:38:00 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 15 Nov 2011 08:38:00 -0500
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <CAF42j22bq=GWHw8htZ40PMwfEuiKJ7S+E-QGyfjNT6O32aDn+g@mail.gmail.com>
References: <9573_1321140265_4EBF0029_9573_7411_1_FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<CAF42j21_euNw7Y2EaGzDQ-BVhLM_krBYf8LeLm--wk0YX7Ru=Q@mail.gmail.com>
	<865064E9-F758-4924-9DC7-20BA4F707A50@gmail.com>
	<CAF42j21DwxwRPYBXf-DqdHFgqyZQnEvsy_AG2dfSeyS4ih5pKw@mail.gmail.com>
	<E8194CB3-9A1A-4059-A23E-875D92C5DD26@gmail.com>
	<CEC87E5C-EDCD-4B8D-BA05-812C7367E13C@r-project.org>
	<CAF42j22bq=GWHw8htZ40PMwfEuiKJ7S+E-QGyfjNT6O32aDn+g@mail.gmail.com>
Message-ID: <A9EF567E-E9EB-4987-898A-CACD6AE02212@r-project.org>


On Nov 14, 2011, at 10:01 PM, Dan Tenenbaum wrote:

> Hi Simon,
> 
> On Mon, Nov 14, 2011 at 5:34 PM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> 
>> On Nov 14, 2011, at 6:54 PM, Riccardo Romoli wrote:
>> 
>>> Hello, I try to install  netCDF using:
>>> 
>>> ./configure --prefix=/usr/local/ --disable-netcdf-4
>>> make check install
>>> 
>>> but the terminal say: configure:
>>> 
>>> error: no acceptable C compiler found in $PATH
>>> 
>>> I think I need to install the x developer code with the C compiler. It is right?
>>> Best
>> 
>> Well, you should really ask the BioC people to either a) fix their build [preferably, as Brian said already] or b) tell you which binary they used to build the package and send it to you. If you try compiling things from sources you'll have to ditch their binaries anyway and you get into the whole mess which binaries are supposed to solve which defeats the point. We are already providing pre-built static netcdf (same as CRAN uses) so it's beyond me why they don't use that ...
>> 
> 
> I have asked the package maintainer to have a look and avoid hardcoding library paths.
> 

I don't think this has to do with the package but with the way you build it (at least the current issue).


> For the time being, I don't have a binary of netcdf to send you. Our build system uses a specially built netcdf 4.1.3 because of another package that requires netcdf be built specially from source.

Can you fill me in on the details? I'll be happy to update netcdf when needed - let me know what is the package in question and what are the extra requirements.

Cheers,
Simon


> We'll
> look into special-casing this package so that other packages can use a
> more vanilla, redistributable binary, such as the ones at
> http://r.research.att.com/libs/.
> 
> I'll tell you how to build xcms from source, Riccardo, but you may
> want to check out
> 
> http://metlin.scripps.edu/xcms/
> 
> Which has a browser-based version of xcms (no install required).
> 
> If you still want to build netcdf from source, you will need Xcode.
> You'll also need this Fortran compiler:
> http://r.research.att.com/gfortran-4.2.3.dmg
> Then, download netcdf 4.1.3 from here:
> http://www.unidata.ucar.edu/downloads/netcdf/ftp/netcdf-4.1.3.tar.gz
> 
> Then do this:
> tar zxf netcdf-4.1.3.tar.gz
> cd netcdf-4.1.3
> ./configure
> make
> sudo make install
> 
> Then you should be able to do this within R:
> source("http://bioconductor.org/biocLite.R")
> biocLite("xcms")
> library(xcms)
> 
> Thanks,
> Dan
> 
> 
> 
> 
> 
>> Cheers,
>> Simon
>> 
>> 
>> 
>>> 
>>> On 14/nov/11, at 18:57, Dan Tenenbaum wrote:
>>> 
>>>> Hi Riccardo,
>>>> 
>>>> On Sun, Nov 13, 2011 at 1:30 PM, Riccardo Romoli <ric.romoli at gmail.com> wrote:
>>>>> 
>>>>> On 13/nov/11, at 02:52, Dan Tenenbaum wrote:
>>>>> 
>>>>>> On Sat, Nov 12, 2011 at 3:25 PM, Riccardo Romoli <ric.romoli at gmail.com>
>>>>>> wrote:
>>>>>>> 
>>>>>>> Hi, I have already installed R 2.14.0 and I have some problem to load
>>>>>>> several packages, in particular xcms package. I installed it directly
>>>>>>> from
>>>>>>> the GUI and when I try to load it the R I have:
>>>>>>> 
>>>>>>>> library(xcms)
>>>>>>> 
>>>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>>> unable to load shared object
>>>>>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
>>>>>>> 
>>>>>>> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
>>>>>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>>>>>> Referenced from:
>>>>>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>>>>>>> Reason: image not found
>>>>>>> Inoltre: Warning message:
>>>>>>> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc =
>>>>>>> lib.loc) :
>>>>>>> there is no package called ?digest?
>>>>>>> Errore: package/namespace load failed for ?xcms?
>>>>>>>> 
>>>>>>> 
>>>>>>> I think the error is the absence of ibnetcdf.7.dylib. Do you have any
>>>>>>> idea
>>>>>>> how can I correct this error??
>>>>>>> 
>>>>>> 
>>>>>> xcms requires netcdf and zlib, these can be installed from here:
>>>>>> http://www.unidata.ucar.edu/software/netcdf/
>>>>>> 
>>>>>> The recommended way to install Bioconductor packages is not from the
>>>>>> GUI but as follows:
>>>>>> 
>>>>>> source("http://bioconductor.org/biocLite.R")
>>>>>> biocLite("xcms")
>>>>>> 
>>>>>> Dan
>>>>>> 
>>>>>> 
>>>>>>> Best
>>>>>>> 
>>>>>>> Riccardo
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>> 
>>>>> 
>>>>> Thanks Dan,
>>>>> I will follow your suggestion, I will install netCDF but I have two further
>>>>> question:
>>>>> 
>>>>> 1)Following the instruction in the netCDF downloaded foldere I read:
>>>>> 
>>>>> ./configure --prefix=/home/ed/local --disable-netcdf-4
>>>>> make check i
>>>>> nstall
>>>>> 
>>>>> What path(/home/ed/local ) should I set on osx??
>>>> 
>>>> Set it to /usr/local.
>>>> 
>>>>> 
>>>>> 2)Why with the older version of R I haven't had no problem??
>>>> 
>>>> 
>>>> I'm not sure. I am cc'ing the package maintainer who can perhaps
>>>> answer this question for you. Also, perhaps he can change the package
>>>> so that as Brian suggests (here:
>>>> https://stat.ethz.ch/pipermail/r-sig-mac/2011-November/008781.html),
>>>> rather than looking for the netcdf libraries on a hardcoded path, he
>>>> can do something like what is done in the CRAN package ncdf (see
>>>> http://cran.fhcrc.org/web/packages/ncdf/INSTALL).
>>>> 
>>>> Dan
>>>> 
>>>> 
>>>>> 
>>>>> I there a  way in osx to upadate R without to re-install all and not
>>>>> installing the GUI app such as in linux??
>>>>> 
>>>>> Riccardo
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
>> 
> 
> 


From simon.urbanek at r-project.org  Tue Nov 15 15:26:31 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 15 Nov 2011 09:26:31 -0500
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <4EC206BF.2020302@fhcrc.org>
References: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<alpine.LFD.2.02.1111130724060.4099@gannet.stats.ox.ac.uk>
	<4EC206BF.2020302@fhcrc.org>
Message-ID: <FC5A3184-B6B9-4083-9E64-8F119C0558D4@r-project.org>


On Nov 15, 2011, at 1:29 AM, Herv? Pag?s wrote:

> On 11-11-12 11:30 PM, Prof Brian Ripley wrote:
>> On Sun, 13 Nov 2011, Riccardo Romoli wrote:
>> 
>>> Hi, I have already installed R 2.14.0 and I have some problem to load
>>> several packages, in particular xcms package. I installed it directly
>>> from the GUI and when I try to load it the R I have:
>>> 
>>>> library(xcms)
>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>> unable to load shared object
>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
>>> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>> Referenced from:
>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>>> Reason: image not found
>>> Inoltre: Warning message:
>>> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc
>>> = lib.loc) :
>>> there is no package called ?digest?
>>> Errore: package/namespace load failed for ?xcms?
>>>> 
>>> 
>>> I think the error is the absence of ibnetcdf.7.dylib. Do you have any
>>> idea how can I correct this error??
>> 
>> 1) Ask BioC to build the package correctly, or
>> 2) Build from the sources yourself, preferably using a static netcdf
>> library.
>> 
>> People should not be distributing Mac binary packages with hardcoded
>> paths to dependencies not in the R framework: CRAN does not.
> 
> Not true. rggobi, Cairo and other Mac binaries on CRAN have hardcoded paths to a bunch of stuff that is not in the R framework.
> 

The above statement is false.

All binaries that involve just libraries (like Cairo) are linked statically and have no dependencies (see otool -L).

There are very few exceptions where it doesn't involve a library but an entire system: gtk, ggobi and tcltk. For those there is no other option since just linking them statically is not sufficient as they rely on other external files. For those we provide the binaries for download along with the package.

The problem in BioC is that not only it uses unnecessary dependent libraries (it didn't use to when you were running it ;)), it doesn't even provide the needed dependencies for download with the package. That makes the repository useless for the user since the packages simply don't work.

Cheers,
Simon


>> In
>> particular, /usr/local/lib need administrative privileges to populate.
> 
> Note that installing the external stuff needed by rggobi, Cairo etc
> also requires administrative privileges.
> 
> Cheers,
> H.
> 
>> 
>>> 
>>> Best
>>> 
>>> Riccardo
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>> 
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 
> -- 
> Herv? Pag?s
> 
> Program in Computational Biology
> Division of Public Health Sciences
> Fred Hutchinson Cancer Research Center
> 1100 Fairview Ave. N, M1-B514
> P.O. Box 19024
> Seattle, WA 98109-1024
> 
> E-mail: hpages at fhcrc.org
> Phone:  (206) 667-5791
> Fax:    (206) 667-1319
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From hpages at fhcrc.org  Tue Nov 15 16:18:35 2011
From: hpages at fhcrc.org (=?windows-1252?Q?Herv=E9_Pag=E8s?=)
Date: Tue, 15 Nov 2011 07:18:35 -0800
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <FC5A3184-B6B9-4083-9E64-8F119C0558D4@r-project.org>
References: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<alpine.LFD.2.02.1111130724060.4099@gannet.stats.ox.ac.uk>
	<4EC206BF.2020302@fhcrc.org>
	<FC5A3184-B6B9-4083-9E64-8F119C0558D4@r-project.org>
Message-ID: <4EC282CB.10901@fhcrc.org>

On 11-11-15 06:26 AM, Simon Urbanek wrote:
>
> On Nov 15, 2011, at 1:29 AM, Herv? Pag?s wrote:
>
>> On 11-11-12 11:30 PM, Prof Brian Ripley wrote:
>>> On Sun, 13 Nov 2011, Riccardo Romoli wrote:
>>>
>>>> Hi, I have already installed R 2.14.0 and I have some problem to load
>>>> several packages, in particular xcms package. I installed it directly
>>>> from the GUI and when I try to load it the R I have:
>>>>
>>>>> library(xcms)
>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>> unable to load shared object
>>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
>>>> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
>>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>>> Referenced from:
>>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>>>> Reason: image not found
>>>> Inoltre: Warning message:
>>>> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc
>>>> = lib.loc) :
>>>> there is no package called ?digest?
>>>> Errore: package/namespace load failed for ?xcms?
>>>>>
>>>>
>>>> I think the error is the absence of ibnetcdf.7.dylib. Do you have any
>>>> idea how can I correct this error??
>>>
>>> 1) Ask BioC to build the package correctly, or
>>> 2) Build from the sources yourself, preferably using a static netcdf
>>> library.
>>>
>>> People should not be distributing Mac binary packages with hardcoded
>>> paths to dependencies not in the R framework: CRAN does not.
>>
>> Not true. rggobi, Cairo and other Mac binaries on CRAN have hardcoded paths to a bunch of stuff that is not in the R framework.
>>
>
> The above statement is false.
>
> All binaries that involve just libraries (like Cairo) are linked statically and have no dependencies (see otool -L).
>
> There are very few exceptions where it doesn't involve a library but an entire system: gtk, ggobi and tcltk. For those there is no other option since just linking them statically is not sufficient as they rely on other external files. For those we provide the binaries for download along with the package.

I'm aware of that and thanks for providing those binaries.
Also thanks for confirming that Ripley's original statement was wrong.

>
> The problem in BioC is that not only it uses unnecessary dependent libraries (it didn't use to when you were running it ;)), it doesn't even provide the needed dependencies for download with the package. That makes the repository useless for the user since the packages simply don't work.

We used to use your static netcdf from here

   http://r.research.att.com/libs/

and that's what we should use. For whatever reason another netcdf 
(non-static) ended up being installed on our build machine. We'll fix
that.

Cheers,
H.

>
> Cheers,
> Simon
>
>
>>> In
>>> particular, /usr/local/lib need administrative privileges to populate.
>>
>> Note that installing the external stuff needed by rggobi, Cairo etc
>> also requires administrative privileges.
>>
>> Cheers,
>> H.
>>
>>>
>>>>
>>>> Best
>>>>
>>>> Riccardo
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>> --
>> Herv? Pag?s
>>
>> Program in Computational Biology
>> Division of Public Health Sciences
>> Fred Hutchinson Cancer Research Center
>> 1100 Fairview Ave. N, M1-B514
>> P.O. Box 19024
>> Seattle, WA 98109-1024
>>
>> E-mail: hpages at fhcrc.org
>> Phone:  (206) 667-5791
>> Fax:    (206) 667-1319
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>


-- 
Herv? Pag?s

Program in Computational Biology
Division of Public Health Sciences
Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N, M1-B514
P.O. Box 19024
Seattle, WA 98109-1024

E-mail: hpages at fhcrc.org
Phone:  (206) 667-5791
Fax:    (206) 667-1319


From simon.urbanek at r-project.org  Tue Nov 15 16:26:27 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 15 Nov 2011 10:26:27 -0500
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <4EC282CB.10901@fhcrc.org>
References: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<alpine.LFD.2.02.1111130724060.4099@gannet.stats.ox.ac.uk>
	<4EC206BF.2020302@fhcrc.org>
	<FC5A3184-B6B9-4083-9E64-8F119C0558D4@r-project.org>
	<4EC282CB.10901@fhcrc.org>
Message-ID: <2C564FA8-F7A1-4831-B817-C6C98C8D2F44@r-project.org>


On Nov 15, 2011, at 10:18 AM, Herv? Pag?s wrote:

> On 11-11-15 06:26 AM, Simon Urbanek wrote:
>> 
>> On Nov 15, 2011, at 1:29 AM, Herv? Pag?s wrote:
>> 
>>> On 11-11-12 11:30 PM, Prof Brian Ripley wrote:
>>>> On Sun, 13 Nov 2011, Riccardo Romoli wrote:
>>>> 
>>>>> Hi, I have already installed R 2.14.0 and I have some problem to load
>>>>> several packages, in particular xcms package. I installed it directly
>>>>> from the GUI and when I try to load it the R I have:
>>>>> 
>>>>>> library(xcms)
>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>> unable to load shared object
>>>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
>>>>> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
>>>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>>>> Referenced from:
>>>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>>>>> Reason: image not found
>>>>> Inoltre: Warning message:
>>>>> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc
>>>>> = lib.loc) :
>>>>> there is no package called ?digest?
>>>>> Errore: package/namespace load failed for ?xcms?
>>>>>> 
>>>>> 
>>>>> I think the error is the absence of ibnetcdf.7.dylib. Do you have any
>>>>> idea how can I correct this error??
>>>> 
>>>> 1) Ask BioC to build the package correctly, or
>>>> 2) Build from the sources yourself, preferably using a static netcdf
>>>> library.
>>>> 
>>>> People should not be distributing Mac binary packages with hardcoded
>>>> paths to dependencies not in the R framework: CRAN does not.
>>> 
>>> Not true. rggobi, Cairo and other Mac binaries on CRAN have hardcoded paths to a bunch of stuff that is not in the R framework.
>>> 
>> 
>> The above statement is false.
>> 
>> All binaries that involve just libraries (like Cairo) are linked statically and have no dependencies (see otool -L).
>> 
>> There are very few exceptions where it doesn't involve a library but an entire system: gtk, ggobi and tcltk. For those there is no other option since just linking them statically is not sufficient as they rely on other external files. For those we provide the binaries for download along with the package.
> 
> I'm aware of that and thanks for providing those binaries.
> Also thanks for confirming that Ripley's original statement was wrong.
> 

Just to clarify on my end: in my e-mail "The above statement" was referring to your statement, not Brian's. Whatever you make out of the rest is up to you ;).


>> The problem in BioC is that not only it uses unnecessary dependent libraries (it didn't use to when you were running it ;)), it doesn't even provide the needed dependencies for download with the package. That makes the repository useless for the user since the packages simply don't work.
> 
> We used to use your static netcdf from here
> 
>  http://r.research.att.com/libs/
> 
> and that's what we should use. For whatever reason another netcdf (non-static) ended up being installed on our build machine. We'll fix
> that.
> 

Great. Dan mentioned something about more recent netcdf and special handling, but didn't get back to me yet. I can build more recent netcdf if needed, but i need to know what the "specially built" exactly means and which package he was referring to so I can test it.

Thanks,
Simon
 

> Cheers,
> H.
> 
>> 
>> Cheers,
>> Simon
>> 
>> 
>>>> In
>>>> particular, /usr/local/lib need administrative privileges to populate.
>>> 
>>> Note that installing the external stuff needed by rggobi, Cairo etc
>>> also requires administrative privileges.
>>> 
>>> Cheers,
>>> H.
>>> 
>>>> 
>>>>> 
>>>>> Best
>>>>> 
>>>>> Riccardo
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> 
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>>> --
>>> Herv? Pag?s
>>> 
>>> Program in Computational Biology
>>> Division of Public Health Sciences
>>> Fred Hutchinson Cancer Research Center
>>> 1100 Fairview Ave. N, M1-B514
>>> P.O. Box 19024
>>> Seattle, WA 98109-1024
>>> 
>>> E-mail: hpages at fhcrc.org
>>> Phone:  (206) 667-5791
>>> Fax:    (206) 667-1319
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>>> 
>> 
> 
> 
> -- 
> Herv? Pag?s
> 
> Program in Computational Biology
> Division of Public Health Sciences
> Fred Hutchinson Cancer Research Center
> 1100 Fairview Ave. N, M1-B514
> P.O. Box 19024
> Seattle, WA 98109-1024
> 
> E-mail: hpages at fhcrc.org
> Phone:  (206) 667-5791
> Fax:    (206) 667-1319
> 
> 


From hpages at fhcrc.org  Tue Nov 15 16:40:56 2011
From: hpages at fhcrc.org (=?windows-1252?Q?Herv=E9_Pag=E8s?=)
Date: Tue, 15 Nov 2011 07:40:56 -0800
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <2C564FA8-F7A1-4831-B817-C6C98C8D2F44@r-project.org>
References: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<alpine.LFD.2.02.1111130724060.4099@gannet.stats.ox.ac.uk>
	<4EC206BF.2020302@fhcrc.org>
	<FC5A3184-B6B9-4083-9E64-8F119C0558D4@r-project.org>
	<4EC282CB.10901@fhcrc.org>
	<2C564FA8-F7A1-4831-B817-C6C98C8D2F44@r-project.org>
Message-ID: <4EC28808.7040501@fhcrc.org>

On 11-11-15 07:26 AM, Simon Urbanek wrote:
>
> On Nov 15, 2011, at 10:18 AM, Herv? Pag?s wrote:
>
>> On 11-11-15 06:26 AM, Simon Urbanek wrote:
>>>
>>> On Nov 15, 2011, at 1:29 AM, Herv? Pag?s wrote:
>>>
>>>> On 11-11-12 11:30 PM, Prof Brian Ripley wrote:
>>>>> On Sun, 13 Nov 2011, Riccardo Romoli wrote:
>>>>>
>>>>>> Hi, I have already installed R 2.14.0 and I have some problem to load
>>>>>> several packages, in particular xcms package. I installed it directly
>>>>>> from the GUI and when I try to load it the R I have:
>>>>>>
>>>>>>> library(xcms)
>>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>> unable to load shared object
>>>>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
>>>>>> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
>>>>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>>>>> Referenced from:
>>>>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>>>>>> Reason: image not found
>>>>>> Inoltre: Warning message:
>>>>>> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc
>>>>>> = lib.loc) :
>>>>>> there is no package called ?digest?
>>>>>> Errore: package/namespace load failed for ?xcms?
>>>>>>>
>>>>>>
>>>>>> I think the error is the absence of ibnetcdf.7.dylib. Do you have any
>>>>>> idea how can I correct this error??
>>>>>
>>>>> 1) Ask BioC to build the package correctly, or
>>>>> 2) Build from the sources yourself, preferably using a static netcdf
>>>>> library.
>>>>>
>>>>> People should not be distributing Mac binary packages with hardcoded
>>>>> paths to dependencies not in the R framework: CRAN does not.
>>>>
>>>> Not true. rggobi, Cairo and other Mac binaries on CRAN have hardcoded paths to a bunch of stuff that is not in the R framework.
>>>>
>>>
>>> The above statement is false.
>>>
>>> All binaries that involve just libraries (like Cairo) are linked statically and have no dependencies (see otool -L).
>>>
>>> There are very few exceptions where it doesn't involve a library but an entire system: gtk, ggobi and tcltk. For those there is no other option since just linking them statically is not sufficient as they rely on other external files. For those we provide the binaries for download along with the package.
>>
>> I'm aware of that and thanks for providing those binaries.
>> Also thanks for confirming that Ripley's original statement was wrong.
>>
>
> Just to clarify on my end: in my e-mail "The above statement" was referring to your statement, not Brian's. Whatever you make out of the rest is up to you ;).

Just to clarify here too: the fact that you mentioned that there are
exceptions to the "no hardcoded paths to dependencies not in the R
framework" was a useful and honest clarification. So again, thanks!

H.

>
>
>>> The problem in BioC is that not only it uses unnecessary dependent libraries (it didn't use to when you were running it ;)), it doesn't even provide the needed dependencies for download with the package. That makes the repository useless for the user since the packages simply don't work.
>>
>> We used to use your static netcdf from here
>>
>>   http://r.research.att.com/libs/
>>
>> and that's what we should use. For whatever reason another netcdf (non-static) ended up being installed on our build machine. We'll fix
>> that.
>>
>
> Great. Dan mentioned something about more recent netcdf and special handling, but didn't get back to me yet. I can build more recent netcdf if needed, but i need to know what the "specially built" exactly means and which package he was referring to so I can test it.
>
> Thanks,
> Simon
>
>
>> Cheers,
>> H.
>>
>>>
>>> Cheers,
>>> Simon
>>>
>>>
>>>>> In
>>>>> particular, /usr/local/lib need administrative privileges to populate.
>>>>
>>>> Note that installing the external stuff needed by rggobi, Cairo etc
>>>> also requires administrative privileges.
>>>>
>>>> Cheers,
>>>> H.
>>>>
>>>>>
>>>>>>
>>>>>> Best
>>>>>>
>>>>>> Riccardo
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>> --
>>>> Herv? Pag?s
>>>>
>>>> Program in Computational Biology
>>>> Division of Public Health Sciences
>>>> Fred Hutchinson Cancer Research Center
>>>> 1100 Fairview Ave. N, M1-B514
>>>> P.O. Box 19024
>>>> Seattle, WA 98109-1024
>>>>
>>>> E-mail: hpages at fhcrc.org
>>>> Phone:  (206) 667-5791
>>>> Fax:    (206) 667-1319
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>
>>
>>
>> --
>> Herv? Pag?s
>>
>> Program in Computational Biology
>> Division of Public Health Sciences
>> Fred Hutchinson Cancer Research Center
>> 1100 Fairview Ave. N, M1-B514
>> P.O. Box 19024
>> Seattle, WA 98109-1024
>>
>> E-mail: hpages at fhcrc.org
>> Phone:  (206) 667-5791
>> Fax:    (206) 667-1319
>>
>>
>


-- 
Herv? Pag?s

Program in Computational Biology
Division of Public Health Sciences
Fred Hutchinson Cancer Research Center
1100 Fairview Ave. N, M1-B514
P.O. Box 19024
Seattle, WA 98109-1024

E-mail: hpages at fhcrc.org
Phone:  (206) 667-5791
Fax:    (206) 667-1319


From howell.garth at gmail.com  Tue Nov 15 23:49:52 2011
From: howell.garth at gmail.com (Garth Howell)
Date: Tue, 15 Nov 2011 14:49:52 -0800
Subject: [R-SIG-Mac] R Switch - "incomplete installation"
Message-ID: <CAAmwW4mjRq+qQuuSFi7KWx-fh_2O6cewOTW79v8ozwA-3wM=Gg@mail.gmail.com>

Hello,

I am trying to switch between R 2.14.0 (from CRAN) and R-devel (from
http://r.research.att.com).

I am using the R Switch application.

First I completely removed R, by moving R.app to the trash and doing this:

rm -rf /Library/Frameworks/R.Framework

Then I installed R 2.14.0 and then R-devel (using the installer each time).

I started the R Switch application and it shows me:

2.14  <incomplete installation>
2.15  2.15.0

If I click on 2.15, it works, I can open a terminal window, type R,
and get R-devel.
If I click on 2.14, I open a terminal window and type R and get this:

-bash: R: command not found

If I install R devel first, the situation is reversed.

This is on Mac OS X 10.5.8.

Also, what does the R Switch app do, besides change the 'Current'
symlink at /Library/Frameworks/R.Frameworks/Version?

I'd like to be able to switch between R versions on a Mac where I
don't have desktop access so can't use the R Switch app.

Thanks,

Garth Howell


From simon.urbanek at r-project.org  Wed Nov 16 00:28:04 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 15 Nov 2011 18:28:04 -0500
Subject: [R-SIG-Mac] R Switch - "incomplete installation"
In-Reply-To: <CAAmwW4mjRq+qQuuSFi7KWx-fh_2O6cewOTW79v8ozwA-3wM=Gg@mail.gmail.com>
References: <CAAmwW4mjRq+qQuuSFi7KWx-fh_2O6cewOTW79v8ozwA-3wM=Gg@mail.gmail.com>
Message-ID: <B3C0A6A3-0986-4F2E-96A4-A3736630F77A@r-project.org>


On Nov 15, 2011, at 5:49 PM, Garth Howell wrote:

> Hello,
> 
> I am trying to switch between R 2.14.0 (from CRAN) and R-devel (from
> http://r.research.att.com).
> 
> I am using the R Switch application.
> 
> First I completely removed R, by moving R.app to the trash and doing this:
> 
> rm -rf /Library/Frameworks/R.Framework
> 
> Then I installed R 2.14.0 and then R-devel (using the installer each time).
> 
> I started the R Switch application and it shows me:
> 
> 2.14  <incomplete installation>
> 2.15  2.15.0
> 
> If I click on 2.15, it works, I can open a terminal window, type R,
> and get R-devel.
> If I click on 2.14, I open a terminal window and type R and get this:
> 
> -bash: R: command not found
> 

Yep, because you only have R-devel installed since you performed an update. If that's not what you intended, please read what the Installer has to say when you are installing R.


> If I install R devel first, the situation is reversed.
> 
> This is on Mac OS X 10.5.8.
> 
> Also, what does the R Switch app do, besides change the 'Current'
> symlink at /Library/Frameworks/R.Frameworks/Version?
> 

Nothing.

Cheers,
Simon


> I'd like to be able to switch between R versions on a Mac where I
> don't have desktop access so can't use the R Switch app.
> 
> Thanks,
> 
> Garth Howell
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From dtenenba at fhcrc.org  Wed Nov 16 02:36:42 2011
From: dtenenba at fhcrc.org (Dan Tenenbaum)
Date: Tue, 15 Nov 2011 17:36:42 -0800
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <4EC282CB.10901@fhcrc.org>
References: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<alpine.LFD.2.02.1111130724060.4099@gannet.stats.ox.ac.uk>
	<4EC206BF.2020302@fhcrc.org>
	<FC5A3184-B6B9-4083-9E64-8F119C0558D4@r-project.org>
	<4EC282CB.10901@fhcrc.org>
Message-ID: <CAF42j21cV+_=SQQcs3WjPiLcFPRzYgvqeEFrbEztb1HsVWR-LQ@mail.gmail.com>

Hi all,

2011/11/15 Herv? Pag?s <hpages at fhcrc.org>:
> On 11-11-15 06:26 AM, Simon Urbanek wrote:
>>
>> On Nov 15, 2011, at 1:29 AM, Herv? Pag?s wrote:
>>
>>> On 11-11-12 11:30 PM, Prof Brian Ripley wrote:
>>>>
>>>> On Sun, 13 Nov 2011, Riccardo Romoli wrote:
>>>>
>>>>> Hi, I have already installed R 2.14.0 and I have some problem to load
>>>>> several packages, in particular xcms package. I installed it directly
>>>>> from the GUI and when I try to load it the R I have:
>>>>>
>>>>>> library(xcms)
>>>>>
>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>> unable to load shared object
>>>>>
>>>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
>>>>>
>>>>> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
>>>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>>>> Referenced from:
>>>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>>>>> Reason: image not found
>>>>> Inoltre: Warning message:
>>>>> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc
>>>>> = lib.loc) :
>>>>> there is no package called ?digest?
>>>>> Errore: package/namespace load failed for ?xcms?
>>>>>>
>>>>>
>>>>> I think the error is the absence of ibnetcdf.7.dylib. Do you have any
>>>>> idea how can I correct this error??
>>>>
>>>> 1) Ask BioC to build the package correctly, or
>>>> 2) Build from the sources yourself, preferably using a static netcdf
>>>> library.
>>>>
>>>> People should not be distributing Mac binary packages with hardcoded
>>>> paths to dependencies not in the R framework: CRAN does not.
>>>
>>> Not true. rggobi, Cairo and other Mac binaries on CRAN have hardcoded
>>> paths to a bunch of stuff that is not in the R framework.
>>>
>>
>> The above statement is false.
>>
>> All binaries that involve just libraries (like Cairo) are linked
>> statically and have no dependencies (see otool -L).
>>
>> There are very few exceptions where it doesn't involve a library but an
>> entire system: gtk, ggobi and tcltk. For those there is no other option
>> since just linking them statically is not sufficient as they rely on other
>> external files. For those we provide the binaries for download along with
>> the package.
>
> I'm aware of that and thanks for providing those binaries.
> Also thanks for confirming that Ripley's original statement was wrong.
>
>>
>> The problem in BioC is that not only it uses unnecessary dependent
>> libraries (it didn't use to when you were running it ;)), it doesn't even
>> provide the needed dependencies for download with the package. That makes
>> the repository useless for the user since the packages simply don't work.
>
> We used to use your static netcdf from here
>
> ?http://r.research.att.com/libs/
>
> and that's what we should use. For whatever reason another netcdf
> (non-static) ended up being installed on our build machine. We'll fix
> that.
>

This is fixed now. At the end of our next build cycle (about 1PM
tomorrow, Wednesday, Seattle time), xcms 1.30.1 will be available
which is once again built against the static netcdf library (version
4.0.1) that Simon provides on his site. Other BioC packages that use
netcdf (flowWorkspace and mzR) will also be fixed.

Riccardo, this means that all you have to do is wait until the new
package is available and then:
source("http://bioconductor.org/biocLite.R")
biocLite("xcms")
library(xcms)

You will not need to compile anything. I just tested this on a Mac
without netcdf or any compilers and it worked fine.

Simon: I will be asking for your help but I want to make sure I have
all my ducks in a row first. I want first to be able to build things
exactly right, then I can know that I am giving you the right thing.
That is taking a bit more time than I'd like.

Briefly, the package in question needs netcdf (must be version 4.1.3)
to be linked against hdf5 which in turn needs to link to zlib.
I will contact you when I am able to create a static version of this
that allows this package to compile.

Thanks for your help.
Dan




> Cheers,
> H.
>
>>
>> Cheers,
>> Simon
>>
>>
>>>> In
>>>> particular, /usr/local/lib need administrative privileges to populate.
>>>
>>> Note that installing the external stuff needed by rggobi, Cairo etc
>>> also requires administrative privileges.
>>>
>>> Cheers,
>>> H.
>>>
>>>>
>>>>>
>>>>> Best
>>>>>
>>>>> Riccardo
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>> --
>>> Herv? Pag?s
>>>
>>> Program in Computational Biology
>>> Division of Public Health Sciences
>>> Fred Hutchinson Cancer Research Center
>>> 1100 Fairview Ave. N, M1-B514
>>> P.O. Box 19024
>>> Seattle, WA 98109-1024
>>>
>>> E-mail: hpages at fhcrc.org
>>> Phone: ?(206) 667-5791
>>> Fax: ? ?(206) 667-1319
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>
>
>
> --
> Herv? Pag?s
>
> Program in Computational Biology
> Division of Public Health Sciences
> Fred Hutchinson Cancer Research Center
> 1100 Fairview Ave. N, M1-B514
> P.O. Box 19024
> Seattle, WA 98109-1024
>
> E-mail: hpages at fhcrc.org
> Phone: ?(206) 667-5791
> Fax: ? ?(206) 667-1319
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Wed Nov 16 03:40:42 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 15 Nov 2011 21:40:42 -0500
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <CAF42j21cV+_=SQQcs3WjPiLcFPRzYgvqeEFrbEztb1HsVWR-LQ@mail.gmail.com>
References: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<alpine.LFD.2.02.1111130724060.4099@gannet.stats.ox.ac.uk>
	<4EC206BF.2020302@fhcrc.org>
	<FC5A3184-B6B9-4083-9E64-8F119C0558D4@r-project.org>
	<4EC282CB.10901@fhcrc.org>
	<CAF42j21cV+_=SQQcs3WjPiLcFPRzYgvqeEFrbEztb1HsVWR-LQ@mail.gmail.com>
Message-ID: <79B7E2CA-665F-48B6-A28D-4658D7057866@r-project.org>


On Nov 15, 2011, at 8:36 PM, Dan Tenenbaum wrote:

> Hi all,
> 
> 2011/11/15 Herv? Pag?s <hpages at fhcrc.org>:
>> On 11-11-15 06:26 AM, Simon Urbanek wrote:
>>> 
>>> On Nov 15, 2011, at 1:29 AM, Herv? Pag?s wrote:
>>> 
>>>> On 11-11-12 11:30 PM, Prof Brian Ripley wrote:
>>>>> 
>>>>> On Sun, 13 Nov 2011, Riccardo Romoli wrote:
>>>>> 
>>>>>> Hi, I have already installed R 2.14.0 and I have some problem to load
>>>>>> several packages, in particular xcms package. I installed it directly
>>>>>> from the GUI and when I try to load it the R I have:
>>>>>> 
>>>>>>> library(xcms)
>>>>>> 
>>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>> unable to load shared object
>>>>>> 
>>>>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
>>>>>> 
>>>>>> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
>>>>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>>>>> Referenced from:
>>>>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>>>>>> Reason: image not found
>>>>>> Inoltre: Warning message:
>>>>>> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc
>>>>>> = lib.loc) :
>>>>>> there is no package called ?digest?
>>>>>> Errore: package/namespace load failed for ?xcms?
>>>>>>> 
>>>>>> 
>>>>>> I think the error is the absence of ibnetcdf.7.dylib. Do you have any
>>>>>> idea how can I correct this error??
>>>>> 
>>>>> 1) Ask BioC to build the package correctly, or
>>>>> 2) Build from the sources yourself, preferably using a static netcdf
>>>>> library.
>>>>> 
>>>>> People should not be distributing Mac binary packages with hardcoded
>>>>> paths to dependencies not in the R framework: CRAN does not.
>>>> 
>>>> Not true. rggobi, Cairo and other Mac binaries on CRAN have hardcoded
>>>> paths to a bunch of stuff that is not in the R framework.
>>>> 
>>> 
>>> The above statement is false.
>>> 
>>> All binaries that involve just libraries (like Cairo) are linked
>>> statically and have no dependencies (see otool -L).
>>> 
>>> There are very few exceptions where it doesn't involve a library but an
>>> entire system: gtk, ggobi and tcltk. For those there is no other option
>>> since just linking them statically is not sufficient as they rely on other
>>> external files. For those we provide the binaries for download along with
>>> the package.
>> 
>> I'm aware of that and thanks for providing those binaries.
>> Also thanks for confirming that Ripley's original statement was wrong.
>> 
>>> 
>>> The problem in BioC is that not only it uses unnecessary dependent
>>> libraries (it didn't use to when you were running it ;)), it doesn't even
>>> provide the needed dependencies for download with the package. That makes
>>> the repository useless for the user since the packages simply don't work.
>> 
>> We used to use your static netcdf from here
>> 
>>  http://r.research.att.com/libs/
>> 
>> and that's what we should use. For whatever reason another netcdf
>> (non-static) ended up being installed on our build machine. We'll fix
>> that.
>> 
> 
> This is fixed now. At the end of our next build cycle (about 1PM
> tomorrow, Wednesday, Seattle time), xcms 1.30.1 will be available
> which is once again built against the static netcdf library (version
> 4.0.1) that Simon provides on his site. Other BioC packages that use
> netcdf (flowWorkspace and mzR) will also be fixed.
> 
> Riccardo, this means that all you have to do is wait until the new
> package is available and then:
> source("http://bioconductor.org/biocLite.R")
> biocLite("xcms")
> library(xcms)
> 
> You will not need to compile anything. I just tested this on a Mac
> without netcdf or any compilers and it worked fine.
> 
> Simon: I will be asking for your help but I want to make sure I have
> all my ducks in a row first. I want first to be able to build things
> exactly right, then I can know that I am giving you the right thing.
> That is taking a bit more time than I'd like.
> 
> Briefly, the package in question needs netcdf (must be version 4.1.3)
> to be linked against hdf5 which in turn needs to link to zlib.
> I will contact you when I am able to create a static version of this
> that allows this package to compile.
> 

Note that in libs there is static hdf5 and netcdf 4.1.1 (which uses hdf5), so the only issue is that the package needs 4.1.3 and not 4.1.1 -- I wonder why since it's just a patch release ...

Cheers,
Simon


> Thanks for your help.
> Dan
> 
> 
> 
> 
>> Cheers,
>> H.
>> 
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>>>> In
>>>>> particular, /usr/local/lib need administrative privileges to populate.
>>>> 
>>>> Note that installing the external stuff needed by rggobi, Cairo etc
>>>> also requires administrative privileges.
>>>> 
>>>> Cheers,
>>>> H.
>>>> 
>>>>> 
>>>>>> 
>>>>>> Best
>>>>>> 
>>>>>> Riccardo
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> 
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> 
>>>> --
>>>> Herv? Pag?s
>>>> 
>>>> Program in Computational Biology
>>>> Division of Public Health Sciences
>>>> Fred Hutchinson Cancer Research Center
>>>> 1100 Fairview Ave. N, M1-B514
>>>> P.O. Box 19024
>>>> Seattle, WA 98109-1024
>>>> 
>>>> E-mail: hpages at fhcrc.org
>>>> Phone:  (206) 667-5791
>>>> Fax:    (206) 667-1319
>>>> 
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>> 
>>>> 
>>> 
>> 
>> 
>> --
>> Herv? Pag?s
>> 
>> Program in Computational Biology
>> Division of Public Health Sciences
>> Fred Hutchinson Cancer Research Center
>> 1100 Fairview Ave. N, M1-B514
>> P.O. Box 19024
>> Seattle, WA 98109-1024
>> 
>> E-mail: hpages at fhcrc.org
>> Phone:  (206) 667-5791
>> Fax:    (206) 667-1319
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
> 
> 


From simon.urbanek at r-project.org  Wed Nov 16 04:26:13 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 15 Nov 2011 22:26:13 -0500
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <79B7E2CA-665F-48B6-A28D-4658D7057866@r-project.org>
References: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<alpine.LFD.2.02.1111130724060.4099@gannet.stats.ox.ac.uk>
	<4EC206BF.2020302@fhcrc.org>
	<FC5A3184-B6B9-4083-9E64-8F119C0558D4@r-project.org>
	<4EC282CB.10901@fhcrc.org>
	<CAF42j21cV+_=SQQcs3WjPiLcFPRzYgvqeEFrbEztb1HsVWR-LQ@mail.gmail.com>
	<79B7E2CA-665F-48B6-A28D-4658D7057866@r-project.org>
Message-ID: <791B95EB-303C-4D48-BE23-970359396608@r-project.org>

Dan,

static hdf5-1.8.8 and netcdf-4.1.3 are now in http://r.research.att.com/libs/ (and also on the CRAN machine).

Cheers,
Simon

On Nov 15, 2011, at 9:40 PM, Simon Urbanek wrote:

> 
> On Nov 15, 2011, at 8:36 PM, Dan Tenenbaum wrote:
> 
>> Hi all,
>> 
>> 2011/11/15 Herv? Pag?s <hpages at fhcrc.org>:
>>> On 11-11-15 06:26 AM, Simon Urbanek wrote:
>>>> 
>>>> On Nov 15, 2011, at 1:29 AM, Herv? Pag?s wrote:
>>>> 
>>>>> On 11-11-12 11:30 PM, Prof Brian Ripley wrote:
>>>>>> 
>>>>>> On Sun, 13 Nov 2011, Riccardo Romoli wrote:
>>>>>> 
>>>>>>> Hi, I have already installed R 2.14.0 and I have some problem to load
>>>>>>> several packages, in particular xcms package. I installed it directly
>>>>>>> from the GUI and when I try to load it the R I have:
>>>>>>> 
>>>>>>>> library(xcms)
>>>>>>> 
>>>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>>> unable to load shared object
>>>>>>> 
>>>>>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
>>>>>>> 
>>>>>>> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
>>>>>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>>>>>> Referenced from:
>>>>>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>>>>>>> Reason: image not found
>>>>>>> Inoltre: Warning message:
>>>>>>> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc
>>>>>>> = lib.loc) :
>>>>>>> there is no package called ?digest?
>>>>>>> Errore: package/namespace load failed for ?xcms?
>>>>>>>> 
>>>>>>> 
>>>>>>> I think the error is the absence of ibnetcdf.7.dylib. Do you have any
>>>>>>> idea how can I correct this error??
>>>>>> 
>>>>>> 1) Ask BioC to build the package correctly, or
>>>>>> 2) Build from the sources yourself, preferably using a static netcdf
>>>>>> library.
>>>>>> 
>>>>>> People should not be distributing Mac binary packages with hardcoded
>>>>>> paths to dependencies not in the R framework: CRAN does not.
>>>>> 
>>>>> Not true. rggobi, Cairo and other Mac binaries on CRAN have hardcoded
>>>>> paths to a bunch of stuff that is not in the R framework.
>>>>> 
>>>> 
>>>> The above statement is false.
>>>> 
>>>> All binaries that involve just libraries (like Cairo) are linked
>>>> statically and have no dependencies (see otool -L).
>>>> 
>>>> There are very few exceptions where it doesn't involve a library but an
>>>> entire system: gtk, ggobi and tcltk. For those there is no other option
>>>> since just linking them statically is not sufficient as they rely on other
>>>> external files. For those we provide the binaries for download along with
>>>> the package.
>>> 
>>> I'm aware of that and thanks for providing those binaries.
>>> Also thanks for confirming that Ripley's original statement was wrong.
>>> 
>>>> 
>>>> The problem in BioC is that not only it uses unnecessary dependent
>>>> libraries (it didn't use to when you were running it ;)), it doesn't even
>>>> provide the needed dependencies for download with the package. That makes
>>>> the repository useless for the user since the packages simply don't work.
>>> 
>>> We used to use your static netcdf from here
>>> 
>>> http://r.research.att.com/libs/
>>> 
>>> and that's what we should use. For whatever reason another netcdf
>>> (non-static) ended up being installed on our build machine. We'll fix
>>> that.
>>> 
>> 
>> This is fixed now. At the end of our next build cycle (about 1PM
>> tomorrow, Wednesday, Seattle time), xcms 1.30.1 will be available
>> which is once again built against the static netcdf library (version
>> 4.0.1) that Simon provides on his site. Other BioC packages that use
>> netcdf (flowWorkspace and mzR) will also be fixed.
>> 
>> Riccardo, this means that all you have to do is wait until the new
>> package is available and then:
>> source("http://bioconductor.org/biocLite.R")
>> biocLite("xcms")
>> library(xcms)
>> 
>> You will not need to compile anything. I just tested this on a Mac
>> without netcdf or any compilers and it worked fine.
>> 
>> Simon: I will be asking for your help but I want to make sure I have
>> all my ducks in a row first. I want first to be able to build things
>> exactly right, then I can know that I am giving you the right thing.
>> That is taking a bit more time than I'd like.
>> 
>> Briefly, the package in question needs netcdf (must be version 4.1.3)
>> to be linked against hdf5 which in turn needs to link to zlib.
>> I will contact you when I am able to create a static version of this
>> that allows this package to compile.
>> 
> 
> Note that in libs there is static hdf5 and netcdf 4.1.1 (which uses hdf5), so the only issue is that the package needs 4.1.3 and not 4.1.1 -- I wonder why since it's just a patch release ...
> 
> Cheers,
> Simon
> 
> 
>> Thanks for your help.
>> Dan
>> 
>> 
>> 
>> 
>>> Cheers,
>>> H.
>>> 
>>>> 
>>>> Cheers,
>>>> Simon
>>>> 
>>>> 
>>>>>> In
>>>>>> particular, /usr/local/lib need administrative privileges to populate.
>>>>> 
>>>>> Note that installing the external stuff needed by rggobi, Cairo etc
>>>>> also requires administrative privileges.
>>>>> 
>>>>> Cheers,
>>>>> H.
>>>>> 
>>>>>> 
>>>>>>> 
>>>>>>> Best
>>>>>>> 
>>>>>>> Riccardo
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>> 
>>>>>> 
>>>>>> 
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> 
>>>>> --
>>>>> Herv? Pag?s
>>>>> 
>>>>> Program in Computational Biology
>>>>> Division of Public Health Sciences
>>>>> Fred Hutchinson Cancer Research Center
>>>>> 1100 Fairview Ave. N, M1-B514
>>>>> P.O. Box 19024
>>>>> Seattle, WA 98109-1024
>>>>> 
>>>>> E-mail: hpages at fhcrc.org
>>>>> Phone:  (206) 667-5791
>>>>> Fax:    (206) 667-1319
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>>> 
>>>> 
>>> 
>>> 
>>> --
>>> Herv? Pag?s
>>> 
>>> Program in Computational Biology
>>> Division of Public Health Sciences
>>> Fred Hutchinson Cancer Research Center
>>> 1100 Fairview Ave. N, M1-B514
>>> P.O. Box 19024
>>> Seattle, WA 98109-1024
>>> 
>>> E-mail: hpages at fhcrc.org
>>> Phone:  (206) 667-5791
>>> Fax:    (206) 667-1319
>>> 
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at r-project.org
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>> 
>> 
>> 
> 


From dtenenba at fhcrc.org  Wed Nov 16 21:07:58 2011
From: dtenenba at fhcrc.org (Dan Tenenbaum)
Date: Wed, 16 Nov 2011 12:07:58 -0800
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <791B95EB-303C-4D48-BE23-970359396608@r-project.org>
References: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<alpine.LFD.2.02.1111130724060.4099@gannet.stats.ox.ac.uk>
	<4EC206BF.2020302@fhcrc.org>
	<FC5A3184-B6B9-4083-9E64-8F119C0558D4@r-project.org>
	<4EC282CB.10901@fhcrc.org>
	<CAF42j21cV+_=SQQcs3WjPiLcFPRzYgvqeEFrbEztb1HsVWR-LQ@mail.gmail.com>
	<79B7E2CA-665F-48B6-A28D-4658D7057866@r-project.org>
	<791B95EB-303C-4D48-BE23-970359396608@r-project.org>
Message-ID: <CAF42j20dFWtcOgf+8wMzK_WbHTjRW15nwRbJkGc3obnmzekkOA@mail.gmail.com>

Simo n,

On Tue, Nov 15, 2011 at 7:26 PM, Simon Urbanek
<simon.urbanek at r-project.org> wrote:
> Dan,
>
> static hdf5-1.8.8 and netcdf-4.1.3 are now in http://r.research.att.com/libs/ (and also on the CRAN machine).
>

Thanks! So far the package does not compile against that but I've
asked the package maintainer to take a look. If you are curious, the
package is ncdfFlow
(http://bioconductor.org/packages/release/bioc/html/ncdfFlow.html) and
the error I get is:
checking for nc_def_var_deflate in -lnetcdf... no
configure: error: netCDF library not found!
ERROR: configuration failed for package 'ncdfFlow'

Seems like this might be a symbol from zlib.

Dan


> Cheers,
> Simon
>
> On Nov 15, 2011, at 9:40 PM, Simon Urbanek wrote:
>
>>
>> On Nov 15, 2011, at 8:36 PM, Dan Tenenbaum wrote:
>>
>>> Hi all,
>>>
>>> 2011/11/15 Herv? Pag?s <hpages at fhcrc.org>:
>>>> On 11-11-15 06:26 AM, Simon Urbanek wrote:
>>>>>
>>>>> On Nov 15, 2011, at 1:29 AM, Herv? Pag?s wrote:
>>>>>
>>>>>> On 11-11-12 11:30 PM, Prof Brian Ripley wrote:
>>>>>>>
>>>>>>> On Sun, 13 Nov 2011, Riccardo Romoli wrote:
>>>>>>>
>>>>>>>> Hi, I have already installed R 2.14.0 and I have some problem to load
>>>>>>>> several packages, in particular xcms package. I installed it directly
>>>>>>>> from the GUI and when I try to load it the R I have:
>>>>>>>>
>>>>>>>>> library(xcms)
>>>>>>>>
>>>>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>>>> unable to load shared object
>>>>>>>>
>>>>>>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
>>>>>>>>
>>>>>>>> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
>>>>>>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>>>>>>> Referenced from:
>>>>>>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>>>>>>>> Reason: image not found
>>>>>>>> Inoltre: Warning message:
>>>>>>>> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc
>>>>>>>> = lib.loc) :
>>>>>>>> there is no package called ?digest?
>>>>>>>> Errore: package/namespace load failed for ?xcms?
>>>>>>>>>
>>>>>>>>
>>>>>>>> I think the error is the absence of ibnetcdf.7.dylib. Do you have any
>>>>>>>> idea how can I correct this error??
>>>>>>>
>>>>>>> 1) Ask BioC to build the package correctly, or
>>>>>>> 2) Build from the sources yourself, preferably using a static netcdf
>>>>>>> library.
>>>>>>>
>>>>>>> People should not be distributing Mac binary packages with hardcoded
>>>>>>> paths to dependencies not in the R framework: CRAN does not.
>>>>>>
>>>>>> Not true. rggobi, Cairo and other Mac binaries on CRAN have hardcoded
>>>>>> paths to a bunch of stuff that is not in the R framework.
>>>>>>
>>>>>
>>>>> The above statement is false.
>>>>>
>>>>> All binaries that involve just libraries (like Cairo) are linked
>>>>> statically and have no dependencies (see otool -L).
>>>>>
>>>>> There are very few exceptions where it doesn't involve a library but an
>>>>> entire system: gtk, ggobi and tcltk. For those there is no other option
>>>>> since just linking them statically is not sufficient as they rely on other
>>>>> external files. For those we provide the binaries for download along with
>>>>> the package.
>>>>
>>>> I'm aware of that and thanks for providing those binaries.
>>>> Also thanks for confirming that Ripley's original statement was wrong.
>>>>
>>>>>
>>>>> The problem in BioC is that not only it uses unnecessary dependent
>>>>> libraries (it didn't use to when you were running it ;)), it doesn't even
>>>>> provide the needed dependencies for download with the package. That makes
>>>>> the repository useless for the user since the packages simply don't work.
>>>>
>>>> We used to use your static netcdf from here
>>>>
>>>> http://r.research.att.com/libs/
>>>>
>>>> and that's what we should use. For whatever reason another netcdf
>>>> (non-static) ended up being installed on our build machine. We'll fix
>>>> that.
>>>>
>>>
>>> This is fixed now. At the end of our next build cycle (about 1PM
>>> tomorrow, Wednesday, Seattle time), xcms 1.30.1 will be available
>>> which is once again built against the static netcdf library (version
>>> 4.0.1) that Simon provides on his site. Other BioC packages that use
>>> netcdf (flowWorkspace and mzR) will also be fixed.
>>>
>>> Riccardo, this means that all you have to do is wait until the new
>>> package is available and then:
>>> source("http://bioconductor.org/biocLite.R")
>>> biocLite("xcms")
>>> library(xcms)
>>>
>>> You will not need to compile anything. I just tested this on a Mac
>>> without netcdf or any compilers and it worked fine.
>>>
>>> Simon: I will be asking for your help but I want to make sure I have
>>> all my ducks in a row first. I want first to be able to build things
>>> exactly right, then I can know that I am giving you the right thing.
>>> That is taking a bit more time than I'd like.
>>>
>>> Briefly, the package in question needs netcdf (must be version 4.1.3)
>>> to be linked against hdf5 which in turn needs to link to zlib.
>>> I will contact you when I am able to create a static version of this
>>> that allows this package to compile.
>>>
>>
>> Note that in libs there is static hdf5 and netcdf 4.1.1 (which uses hdf5), so the only issue is that the package needs 4.1.3 and not 4.1.1 -- I wonder why since it's just a patch release ...
>>
>> Cheers,
>> Simon
>>
>>
>>> Thanks for your help.
>>> Dan
>>>
>>>
>>>
>>>
>>>> Cheers,
>>>> H.
>>>>
>>>>>
>>>>> Cheers,
>>>>> Simon
>>>>>
>>>>>
>>>>>>> In
>>>>>>> particular, /usr/local/lib need administrative privileges to populate.
>>>>>>
>>>>>> Note that installing the external stuff needed by rggobi, Cairo etc
>>>>>> also requires administrative privileges.
>>>>>>
>>>>>> Cheers,
>>>>>> H.
>>>>>>
>>>>>>>
>>>>>>>>
>>>>>>>> Best
>>>>>>>>
>>>>>>>> Riccardo
>>>>>>>> _______________________________________________
>>>>>>>> R-SIG-Mac mailing list
>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Herv? Pag?s
>>>>>>
>>>>>> Program in Computational Biology
>>>>>> Division of Public Health Sciences
>>>>>> Fred Hutchinson Cancer Research Center
>>>>>> 1100 Fairview Ave. N, M1-B514
>>>>>> P.O. Box 19024
>>>>>> Seattle, WA 98109-1024
>>>>>>
>>>>>> E-mail: hpages at fhcrc.org
>>>>>> Phone: ?(206) 667-5791
>>>>>> Fax: ? ?(206) 667-1319
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>>
>>>>>
>>>>
>>>>
>>>> --
>>>> Herv? Pag?s
>>>>
>>>> Program in Computational Biology
>>>> Division of Public Health Sciences
>>>> Fred Hutchinson Cancer Research Center
>>>> 1100 Fairview Ave. N, M1-B514
>>>> P.O. Box 19024
>>>> Seattle, WA 98109-1024
>>>>
>>>> E-mail: hpages at fhcrc.org
>>>> Phone: ?(206) 667-5791
>>>> Fax: ? ?(206) 667-1319
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at r-project.org
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>>
>>
>
>


From simon.urbanek at r-project.org  Wed Nov 16 21:53:26 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 16 Nov 2011 15:53:26 -0500
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <CAF42j20dFWtcOgf+8wMzK_WbHTjRW15nwRbJkGc3obnmzekkOA@mail.gmail.com>
References: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<alpine.LFD.2.02.1111130724060.4099@gannet.stats.ox.ac.uk>
	<4EC206BF.2020302@fhcrc.org>
	<FC5A3184-B6B9-4083-9E64-8F119C0558D4@r-project.org>
	<4EC282CB.10901@fhcrc.org>
	<CAF42j21cV+_=SQQcs3WjPiLcFPRzYgvqeEFrbEztb1HsVWR-LQ@mail.gmail.com>
	<79B7E2CA-665F-48B6-A28D-4658D7057866@r-project.org>
	<791B95EB-303C-4D48-BE23-970359396608@r-project.org>
	<CAF42j20dFWtcOgf+8wMzK_WbHTjRW15nwRbJkGc3obnmzekkOA@mail.gmail.com>
Message-ID: <8475D6A7-0683-40CD-AA8D-746284861E4C@r-project.org>


On Nov 16, 2011, at 3:07 PM, Dan Tenenbaum wrote:

> Simo n,
> 
> On Tue, Nov 15, 2011 at 7:26 PM, Simon Urbanek
> <simon.urbanek at r-project.org> wrote:
>> Dan,
>> 
>> static hdf5-1.8.8 and netcdf-4.1.3 are now in http://r.research.att.com/libs/ (and also on the CRAN machine).
>> 
> 
> Thanks! So far the package does not compile against that but I've
> asked the package maintainer to take a look. If you are curious, the
> package is ncdfFlow
> (http://bioconductor.org/packages/release/bioc/html/ncdfFlow.html) and
> the error I get is:
> checking for nc_def_var_deflate in -lnetcdf... no
> configure: error: netCDF library not found!
> ERROR: configuration failed for package 'ncdfFlow'
> 
> Seems like this might be a symbol from zlib.
> 

No, it's using the wrong flags to link NetCDF - it completely ignores dependencies. It has hard-coded LIBS which is simply wrong. I would suggest the author uses pkg-config to fetch the relevant LIBS, e.g. on the CRAN machine it is

hagal:tmp$ pkg-config --libs netcdf
-L/usr/local/lib -lnetcdf -lhdf5_hl -lhdf5 -lm -lz -lcurl  

so all the above is simply missing.

Cheers,
Simon



> Dan
> 
> 
>> Cheers,
>> Simon
>> 
>> On Nov 15, 2011, at 9:40 PM, Simon Urbanek wrote:
>> 
>>> 
>>> On Nov 15, 2011, at 8:36 PM, Dan Tenenbaum wrote:
>>> 
>>>> Hi all,
>>>> 
>>>> 2011/11/15 Herv? Pag?s <hpages at fhcrc.org>:
>>>>> On 11-11-15 06:26 AM, Simon Urbanek wrote:
>>>>>> 
>>>>>> On Nov 15, 2011, at 1:29 AM, Herv? Pag?s wrote:
>>>>>> 
>>>>>>> On 11-11-12 11:30 PM, Prof Brian Ripley wrote:
>>>>>>>> 
>>>>>>>> On Sun, 13 Nov 2011, Riccardo Romoli wrote:
>>>>>>>> 
>>>>>>>>> Hi, I have already installed R 2.14.0 and I have some problem to load
>>>>>>>>> several packages, in particular xcms package. I installed it directly
>>>>>>>>> from the GUI and when I try to load it the R I have:
>>>>>>>>> 
>>>>>>>>>> library(xcms)
>>>>>>>>> 
>>>>>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>>>>> unable to load shared object
>>>>>>>>> 
>>>>>>>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so':
>>>>>>>>> 
>>>>>>>>> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so,
>>>>>>>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>>>>>>>> Referenced from:
>>>>>>>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/x86_64/xcms.so
>>>>>>>>> Reason: image not found
>>>>>>>>> Inoltre: Warning message:
>>>>>>>>> In library(pkg, character.only = TRUE, logical.return = TRUE, lib.loc
>>>>>>>>> = lib.loc) :
>>>>>>>>> there is no package called ?digest?
>>>>>>>>> Errore: package/namespace load failed for ?xcms?
>>>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> I think the error is the absence of ibnetcdf.7.dylib. Do you have any
>>>>>>>>> idea how can I correct this error??
>>>>>>>> 
>>>>>>>> 1) Ask BioC to build the package correctly, or
>>>>>>>> 2) Build from the sources yourself, preferably using a static netcdf
>>>>>>>> library.
>>>>>>>> 
>>>>>>>> People should not be distributing Mac binary packages with hardcoded
>>>>>>>> paths to dependencies not in the R framework: CRAN does not.
>>>>>>> 
>>>>>>> Not true. rggobi, Cairo and other Mac binaries on CRAN have hardcoded
>>>>>>> paths to a bunch of stuff that is not in the R framework.
>>>>>>> 
>>>>>> 
>>>>>> The above statement is false.
>>>>>> 
>>>>>> All binaries that involve just libraries (like Cairo) are linked
>>>>>> statically and have no dependencies (see otool -L).
>>>>>> 
>>>>>> There are very few exceptions where it doesn't involve a library but an
>>>>>> entire system: gtk, ggobi and tcltk. For those there is no other option
>>>>>> since just linking them statically is not sufficient as they rely on other
>>>>>> external files. For those we provide the binaries for download along with
>>>>>> the package.
>>>>> 
>>>>> I'm aware of that and thanks for providing those binaries.
>>>>> Also thanks for confirming that Ripley's original statement was wrong.
>>>>> 
>>>>>> 
>>>>>> The problem in BioC is that not only it uses unnecessary dependent
>>>>>> libraries (it didn't use to when you were running it ;)), it doesn't even
>>>>>> provide the needed dependencies for download with the package. That makes
>>>>>> the repository useless for the user since the packages simply don't work.
>>>>> 
>>>>> We used to use your static netcdf from here
>>>>> 
>>>>> http://r.research.att.com/libs/
>>>>> 
>>>>> and that's what we should use. For whatever reason another netcdf
>>>>> (non-static) ended up being installed on our build machine. We'll fix
>>>>> that.
>>>>> 
>>>> 
>>>> This is fixed now. At the end of our next build cycle (about 1PM
>>>> tomorrow, Wednesday, Seattle time), xcms 1.30.1 will be available
>>>> which is once again built against the static netcdf library (version
>>>> 4.0.1) that Simon provides on his site. Other BioC packages that use
>>>> netcdf (flowWorkspace and mzR) will also be fixed.
>>>> 
>>>> Riccardo, this means that all you have to do is wait until the new
>>>> package is available and then:
>>>> source("http://bioconductor.org/biocLite.R")
>>>> biocLite("xcms")
>>>> library(xcms)
>>>> 
>>>> You will not need to compile anything. I just tested this on a Mac
>>>> without netcdf or any compilers and it worked fine.
>>>> 
>>>> Simon: I will be asking for your help but I want to make sure I have
>>>> all my ducks in a row first. I want first to be able to build things
>>>> exactly right, then I can know that I am giving you the right thing.
>>>> That is taking a bit more time than I'd like.
>>>> 
>>>> Briefly, the package in question needs netcdf (must be version 4.1.3)
>>>> to be linked against hdf5 which in turn needs to link to zlib.
>>>> I will contact you when I am able to create a static version of this
>>>> that allows this package to compile.
>>>> 
>>> 
>>> Note that in libs there is static hdf5 and netcdf 4.1.1 (which uses hdf5), so the only issue is that the package needs 4.1.3 and not 4.1.1 -- I wonder why since it's just a patch release ...
>>> 
>>> Cheers,
>>> Simon
>>> 
>>> 
>>>> Thanks for your help.
>>>> Dan
>>>> 
>>>> 
>>>> 
>>>> 
>>>>> Cheers,
>>>>> H.
>>>>> 
>>>>>> 
>>>>>> Cheers,
>>>>>> Simon
>>>>>> 
>>>>>> 
>>>>>>>> In
>>>>>>>> particular, /usr/local/lib need administrative privileges to populate.
>>>>>>> 
>>>>>>> Note that installing the external stuff needed by rggobi, Cairo etc
>>>>>>> also requires administrative privileges.
>>>>>>> 
>>>>>>> Cheers,
>>>>>>> H.
>>>>>>> 
>>>>>>>> 
>>>>>>>>> 
>>>>>>>>> Best
>>>>>>>>> 
>>>>>>>>> Riccardo
>>>>>>>>> _______________________________________________
>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>> 
>>>>>>>> 
>>>>>>>> 
>>>>>>>> _______________________________________________
>>>>>>>> R-SIG-Mac mailing list
>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>> 
>>>>>>> 
>>>>>>> --
>>>>>>> Herv? Pag?s
>>>>>>> 
>>>>>>> Program in Computational Biology
>>>>>>> Division of Public Health Sciences
>>>>>>> Fred Hutchinson Cancer Research Center
>>>>>>> 1100 Fairview Ave. N, M1-B514
>>>>>>> P.O. Box 19024
>>>>>>> Seattle, WA 98109-1024
>>>>>>> 
>>>>>>> E-mail: hpages at fhcrc.org
>>>>>>> Phone:  (206) 667-5791
>>>>>>> Fax:    (206) 667-1319
>>>>>>> 
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at r-project.org
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>> 
>>>>>>> 
>>>>>> 
>>>>> 
>>>>> 
>>>>> --
>>>>> Herv? Pag?s
>>>>> 
>>>>> Program in Computational Biology
>>>>> Division of Public Health Sciences
>>>>> Fred Hutchinson Cancer Research Center
>>>>> 1100 Fairview Ave. N, M1-B514
>>>>> P.O. Box 19024
>>>>> Seattle, WA 98109-1024
>>>>> 
>>>>> E-mail: hpages at fhcrc.org
>>>>> Phone:  (206) 667-5791
>>>>> Fax:    (206) 667-1319
>>>>> 
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at r-project.org
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>> 
>>>> 
>>>> 
>>> 
>> 
>> 
> 
> 


From csgiguer at ncsu.edu  Thu Nov 17 00:04:28 2011
From: csgiguer at ncsu.edu (Christopher Giguere)
Date: Wed, 16 Nov 2011 18:04:28 -0500
Subject: [R-SIG-Mac] R 2.14.0 on MacBook Pro
In-Reply-To: <CAECqmo8AoOfMoYFgpXhpR02LK=Qzp_-9-71qkcsnvZ4r3Wmvow@mail.gmail.com>
References: <CAECqmo8AoOfMoYFgpXhpR02LK=Qzp_-9-71qkcsnvZ4r3Wmvow@mail.gmail.com>
Message-ID: <CAECqmo9Nu4pJcFhnywWdByWmd5n37nGmCsmwcq5_DFUZTxKCww@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111116/f91909ec/attachment.pl>

From ric.romoli at gmail.com  Fri Nov 18 12:28:51 2011
From: ric.romoli at gmail.com (Riccardo Romoli)
Date: Fri, 18 Nov 2011 12:28:51 +0100
Subject: [R-SIG-Mac] Error while loading packages R 2.14.0
In-Reply-To: <8475D6A7-0683-40CD-AA8D-746284861E4C@r-project.org>
References: <FD194EB4-FDA2-4B1C-AFE4-40EB0CB864A2@gmail.com>
	<alpine.LFD.2.02.1111130724060.4099@gannet.stats.ox.ac.uk>
	<4EC206BF.2020302@fhcrc.org>
	<FC5A3184-B6B9-4083-9E64-8F119C0558D4@r-project.org>
	<4EC282CB.10901@fhcrc.org>
	<CAF42j21cV+_=SQQcs3WjPiLcFPRzYgvqeEFrbEztb1HsVWR-LQ@mail.gmail.com>
	<79B7E2CA-665F-48B6-A28D-4658D7057866@r-project.org>
	<791B95EB-303C-4D48-BE23-970359396608@r-project.org>
	<CAF42j20dFWtcOgf+8wMzK_WbHTjRW15nwRbJkGc3obnmzekkOA@mail.gmail.com>
	<8475D6A7-0683-40CD-AA8D-746284861E4C@r-project.org>
Message-ID: <F2F8CB5C-64DB-482D-BA35-C622A8E361B3@gmail.com>

Graces to all for to have given hand to me in the resolution of the  
problem!!!
Now xcms works fine.

Best
Riccardo

On 16/nov/11, at 21:53, Simon Urbanek wrote:

>
> On Nov 16, 2011, at 3:07 PM, Dan Tenenbaum wrote:
>
>> Simo n,
>>
>> On Tue, Nov 15, 2011 at 7:26 PM, Simon Urbanek
>> <simon.urbanek at r-project.org> wrote:
>>> Dan,
>>>
>>> static hdf5-1.8.8 and netcdf-4.1.3 are now in http://r.research.att.com/libs/ 
>>>  (and also on the CRAN machine).
>>>
>>
>> Thanks! So far the package does not compile against that but I've
>> asked the package maintainer to take a look. If you are curious, the
>> package is ncdfFlow
>> (http://bioconductor.org/packages/release/bioc/html/ncdfFlow.html)  
>> and
>> the error I get is:
>> checking for nc_def_var_deflate in -lnetcdf... no
>> configure: error: netCDF library not found!
>> ERROR: configuration failed for package 'ncdfFlow'
>>
>> Seems like this might be a symbol from zlib.
>>
>
> No, it's using the wrong flags to link NetCDF - it completely  
> ignores dependencies. It has hard-coded LIBS which is simply wrong.  
> I would suggest the author uses pkg-config to fetch the relevant  
> LIBS, e.g. on the CRAN machine it is
>
> hagal:tmp$ pkg-config --libs netcdf
> -L/usr/local/lib -lnetcdf -lhdf5_hl -lhdf5 -lm -lz -lcurl
>
> so all the above is simply missing.
>
> Cheers,
> Simon
>
>
>
>> Dan
>>
>>
>>> Cheers,
>>> Simon
>>>
>>> On Nov 15, 2011, at 9:40 PM, Simon Urbanek wrote:
>>>
>>>>
>>>> On Nov 15, 2011, at 8:36 PM, Dan Tenenbaum wrote:
>>>>
>>>>> Hi all,
>>>>>
>>>>> 2011/11/15 Herv? Pag?s <hpages at fhcrc.org>:
>>>>>> On 11-11-15 06:26 AM, Simon Urbanek wrote:
>>>>>>>
>>>>>>> On Nov 15, 2011, at 1:29 AM, Herv? Pag?s wrote:
>>>>>>>
>>>>>>>> On 11-11-12 11:30 PM, Prof Brian Ripley wrote:
>>>>>>>>>
>>>>>>>>> On Sun, 13 Nov 2011, Riccardo Romoli wrote:
>>>>>>>>>
>>>>>>>>>> Hi, I have already installed R 2.14.0 and I have some  
>>>>>>>>>> problem to load
>>>>>>>>>> several packages, in particular xcms package. I installed  
>>>>>>>>>> it directly
>>>>>>>>>> from the GUI and when I try to load it the R I have:
>>>>>>>>>>
>>>>>>>>>>> library(xcms)
>>>>>>>>>>
>>>>>>>>>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>>>>>>>>> unable to load shared object
>>>>>>>>>>
>>>>>>>>>> '/Users/riccardoromoli/Library/R/2.14/library/xcms/libs/ 
>>>>>>>>>> x86_64/xcms.so':
>>>>>>>>>>
>>>>>>>>>> dlopen(/Users/riccardoromoli/Library/R/2.14/library/xcms/ 
>>>>>>>>>> libs/x86_64/xcms.so,
>>>>>>>>>> 6): Library not loaded: /usr/local/lib/libnetcdf.7.dylib
>>>>>>>>>> Referenced from:
>>>>>>>>>> /Users/riccardoromoli/Library/R/2.14/library/xcms/libs/ 
>>>>>>>>>> x86_64/xcms.so
>>>>>>>>>> Reason: image not found
>>>>>>>>>> Inoltre: Warning message:
>>>>>>>>>> In library(pkg, character.only = TRUE, logical.return =  
>>>>>>>>>> TRUE, lib.loc
>>>>>>>>>> = lib.loc) :
>>>>>>>>>> there is no package called ?digest?
>>>>>>>>>> Errore: package/namespace load failed for ?xcms?
>>>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> I think the error is the absence of ibnetcdf.7.dylib. Do  
>>>>>>>>>> you have any
>>>>>>>>>> idea how can I correct this error??
>>>>>>>>>
>>>>>>>>> 1) Ask BioC to build the package correctly, or
>>>>>>>>> 2) Build from the sources yourself, preferably using a  
>>>>>>>>> static netcdf
>>>>>>>>> library.
>>>>>>>>>
>>>>>>>>> People should not be distributing Mac binary packages with  
>>>>>>>>> hardcoded
>>>>>>>>> paths to dependencies not in the R framework: CRAN does not.
>>>>>>>>
>>>>>>>> Not true. rggobi, Cairo and other Mac binaries on CRAN have  
>>>>>>>> hardcoded
>>>>>>>> paths to a bunch of stuff that is not in the R framework.
>>>>>>>>
>>>>>>>
>>>>>>> The above statement is false.
>>>>>>>
>>>>>>> All binaries that involve just libraries (like Cairo) are linked
>>>>>>> statically and have no dependencies (see otool -L).
>>>>>>>
>>>>>>> There are very few exceptions where it doesn't involve a  
>>>>>>> library but an
>>>>>>> entire system: gtk, ggobi and tcltk. For those there is no  
>>>>>>> other option
>>>>>>> since just linking them statically is not sufficient as they  
>>>>>>> rely on other
>>>>>>> external files. For those we provide the binaries for download  
>>>>>>> along with
>>>>>>> the package.
>>>>>>
>>>>>> I'm aware of that and thanks for providing those binaries.
>>>>>> Also thanks for confirming that Ripley's original statement was  
>>>>>> wrong.
>>>>>>
>>>>>>>
>>>>>>> The problem in BioC is that not only it uses unnecessary  
>>>>>>> dependent
>>>>>>> libraries (it didn't use to when you were running it ;)), it  
>>>>>>> doesn't even
>>>>>>> provide the needed dependencies for download with the package.  
>>>>>>> That makes
>>>>>>> the repository useless for the user since the packages simply  
>>>>>>> don't work.
>>>>>>
>>>>>> We used to use your static netcdf from here
>>>>>>
>>>>>> http://r.research.att.com/libs/
>>>>>>
>>>>>> and that's what we should use. For whatever reason another netcdf
>>>>>> (non-static) ended up being installed on our build machine.  
>>>>>> We'll fix
>>>>>> that.
>>>>>>
>>>>>
>>>>> This is fixed now. At the end of our next build cycle (about 1PM
>>>>> tomorrow, Wednesday, Seattle time), xcms 1.30.1 will be available
>>>>> which is once again built against the static netcdf library  
>>>>> (version
>>>>> 4.0.1) that Simon provides on his site. Other BioC packages that  
>>>>> use
>>>>> netcdf (flowWorkspace and mzR) will also be fixed.
>>>>>
>>>>> Riccardo, this means that all you have to do is wait until the new
>>>>> package is available and then:
>>>>> source("http://bioconductor.org/biocLite.R")
>>>>> biocLite("xcms")
>>>>> library(xcms)
>>>>>
>>>>> You will not need to compile anything. I just tested this on a Mac
>>>>> without netcdf or any compilers and it worked fine.
>>>>>
>>>>> Simon: I will be asking for your help but I want to make sure I  
>>>>> have
>>>>> all my ducks in a row first. I want first to be able to build  
>>>>> things
>>>>> exactly right, then I can know that I am giving you the right  
>>>>> thing.
>>>>> That is taking a bit more time than I'd like.
>>>>>
>>>>> Briefly, the package in question needs netcdf (must be version  
>>>>> 4.1.3)
>>>>> to be linked against hdf5 which in turn needs to link to zlib.
>>>>> I will contact you when I am able to create a static version of  
>>>>> this
>>>>> that allows this package to compile.
>>>>>
>>>>
>>>> Note that in libs there is static hdf5 and netcdf 4.1.1 (which  
>>>> uses hdf5), so the only issue is that the package needs 4.1.3 and  
>>>> not 4.1.1 -- I wonder why since it's just a patch release ...
>>>>
>>>> Cheers,
>>>> Simon
>>>>
>>>>
>>>>> Thanks for your help.
>>>>> Dan
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>> Cheers,
>>>>>> H.
>>>>>>
>>>>>>>
>>>>>>> Cheers,
>>>>>>> Simon
>>>>>>>
>>>>>>>
>>>>>>>>> In
>>>>>>>>> particular, /usr/local/lib need administrative privileges to  
>>>>>>>>> populate.
>>>>>>>>
>>>>>>>> Note that installing the external stuff needed by rggobi,  
>>>>>>>> Cairo etc
>>>>>>>> also requires administrative privileges.
>>>>>>>>
>>>>>>>> Cheers,
>>>>>>>> H.
>>>>>>>>
>>>>>>>>>
>>>>>>>>>>
>>>>>>>>>> Best
>>>>>>>>>>
>>>>>>>>>> Riccardo
>>>>>>>>>> _______________________________________________
>>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>>> _______________________________________________
>>>>>>>>> R-SIG-Mac mailing list
>>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>
>>>>>>>>
>>>>>>>> --
>>>>>>>> Herv? Pag?s
>>>>>>>>
>>>>>>>> Program in Computational Biology
>>>>>>>> Division of Public Health Sciences
>>>>>>>> Fred Hutchinson Cancer Research Center
>>>>>>>> 1100 Fairview Ave. N, M1-B514
>>>>>>>> P.O. Box 19024
>>>>>>>> Seattle, WA 98109-1024
>>>>>>>>
>>>>>>>> E-mail: hpages at fhcrc.org
>>>>>>>> Phone:  (206) 667-5791
>>>>>>>> Fax:    (206) 667-1319
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> R-SIG-Mac mailing list
>>>>>>>> R-SIG-Mac at r-project.org
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>
>>>>>>
>>>>>> --
>>>>>> Herv? Pag?s
>>>>>>
>>>>>> Program in Computational Biology
>>>>>> Division of Public Health Sciences
>>>>>> Fred Hutchinson Cancer Research Center
>>>>>> 1100 Fairview Ave. N, M1-B514
>>>>>> P.O. Box 19024
>>>>>> Seattle, WA 98109-1024
>>>>>>
>>>>>> E-mail: hpages at fhcrc.org
>>>>>> Phone:  (206) 667-5791
>>>>>> Fax:    (206) 667-1319
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at r-project.org
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>
>>>>>
>>>>
>>>
>>>
>>
>>
>


From chabot.denis at gmail.com  Thu Nov  3 03:21:52 2011
From: chabot.denis at gmail.com (Denis Chabot)
Date: Thu, 03 Nov 2011 02:21:52 -0000
Subject: [R-SIG-Mac] saving files using quartz engine
Message-ID: <30DBF0C5-722E-4D65-85A0-87292BA89FE5@gmail.com>

Hi,

is there a reason that the quartz device does not like the "~" in file names, whereas most functions handling files (including pdf() ) have no problem with it?

Thus 

pdf(file="/Users/dchabot/Documents/Programmes R/test.pdf", type="pdf", width=6, height=5) # works
pdf(file=~/Documents/Programmes R/test.pdf", type="pdf", width=6, height=5) # works

quartz(file="~/Documents/Programmes R/test.pdf", type="pdf", width=6, height=5) # does not work
quartz(file="/Users/dchabot/Documents/Programmes R/test.pdf", type="pdf", width=6, height=5) # works

Cheers,

Denis


From edmundthhar at gmail.com  Mon Nov  7 17:14:45 2011
From: edmundthhar at gmail.com (Edmund Har)
Date: Mon, 7 Nov 2011 16:14:45 +0000
Subject: [R-SIG-Mac]  error while loading 'gstat' on R 2.14.0
Message-ID: <C77D69E2-AB83-4E3B-9E57-4F68AF62DBB7@gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111107/96a8967a/attachment.pl>

From didi.rn at gmail.com  Sun Nov 13 14:41:29 2011
From: didi.rn at gmail.com (Diana)
Date: Sun, 13 Nov 2011 08:41:29 -0500
Subject: [R-SIG-Mac]  R --vanilla --slave
Message-ID: <DB80E27A-3ED7-46DB-AD52-99F034145B11@gmail.com>



via iPhone


From kubovy at virginia.edu  Mon Nov 14 23:37:25 2011
From: kubovy at virginia.edu (Michael Kubovy)
Date: Mon, 14 Nov 2011 17:37:25 -0500
Subject: [R-SIG-Mac] Hmisc doesn't load
Message-ID: <798FA2CB-7AD3-417A-A81D-BD72E357D379@virginia.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111114/28305367/attachment.pl>

From csgiguer at ncsu.edu  Wed Nov 16 19:36:37 2011
From: csgiguer at ncsu.edu (Christopher Giguere)
Date: Wed, 16 Nov 2011 13:36:37 -0500
Subject: [R-SIG-Mac] R 2.14.0 on MacBook Pro
Message-ID: <CAECqmo8AoOfMoYFgpXhpR02LK=Qzp_-9-71qkcsnvZ4r3Wmvow@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111116/1c578c5f/attachment.pl>

From ripley at stats.ox.ac.uk  Sat Nov 19 11:56:22 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 19 Nov 2011 10:56:22 +0000 (GMT)
Subject: [R-SIG-Mac] error while loading 'gstat' on R 2.14.0
In-Reply-To: <C77D69E2-AB83-4E3B-9E57-4F68AF62DBB7@gmail.com>
References: <C77D69E2-AB83-4E3B-9E57-4F68AF62DBB7@gmail.com>
Message-ID: <alpine.LFD.2.02.1111191055400.22121@gannet.stats.ox.ac.uk>

See the list archives. Are you doing this in R.app, and have you 
updated R 2.14.0 recently?

On Mon, 7 Nov 2011, Edmund Har wrote:

> Hi all,
>
> I am trying to install gstat 1.0-8 on R version 2.14.0 (32-bit) on my MacBook Pro (Mac OS X 10.6.8). I downloaded the binary package from CRAN website and while I tried loading it, the following message was shown:
>
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>>   unable to load shared object '/Library/Frameworks/R.framework/Versions/2.14/Resources/library/gstat/libs/i386/gstat.so':
>>   dlopen(/Library/Frameworks/R.framework/Versions/2.14/Resources/library/gstat/libs/i386/gstat.so, 6): Library not loaded: /Library/Frameworks/R.framework/Versions/2.13/Resources/lib/libR.dylib
>>   Referenced from: /Library/Frameworks/R.framework/Versions/2.14/Resources/library/gstat/libs/i386/gstat.so
>>   Reason: image not found
>> In addition: Warning messages:
>> 1: replacing previous import 'is.projected' when loading 'spacetime'
>> 2: replacing previous import 'proj4string' when loading 'spacetime'
>> 3: replacing previous import 'proj4string<-' when loading 'spacetime'
>> Error: package/namespace load failed for 'gstat'
>
>
> I followed the directory in the message and found that the file gstat.so is actually there. Is the problem because of the other packages I loaded at the same time?
>
> FYI - Here is the list of the other packages I downloaded and loaded onto R: AnnotationDbi, DBI, RColorBrewer, RSQLite, annotate, geneplotter, gmt, lattice, mapdata, mapproj, maps, oce, sp, spacetime, xts, zoo.
>
> I would appreciate a lot if you could help me solve the problem. Looking forward to your reply. Thanks in advance.
>
> Cheers,
> Edmund
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ripley at stats.ox.ac.uk  Sat Nov 19 11:56:45 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 19 Nov 2011 10:56:45 +0000
Subject: [R-SIG-Mac] Hmisc doesn't load
In-Reply-To: <798FA2CB-7AD3-417A-A81D-BD72E357D379@virginia.edu>
References: <798FA2CB-7AD3-417A-A81D-BD72E357D379@virginia.edu>
Message-ID: <alpine.LFD.2.02.1111191056280.22121@gannet.stats.ox.ac.uk>

See the list archives. Are you doing this in R.app, and have you
updated R 2.14.0 recently?


On Mon, 14 Nov 2011, Michael Kubovy wrote:

> After installing the Hmisc package in terminal:
>
> [mks-Mac-Pro:~/Downloads/14-11-11] mk% R CMD INSTALL Hmisc_3.9-0.tar
> .Rprofile: Setting US repository
> Loading required package: grDevices
> Loading required package: graphics
> Loading required package: stats
> Loading required package: utils
> Loading required package: brew
>
> Attaching package: ??????sos??????
>
> * installing to library ??????/Library/Frameworks/R.framework/Versions/2.14/Resources/library??????
> * installing *binary* package ??????Hmisc?????? ...
>
> * DONE (Hmisc)
>
>> sessionInfo()
> R version 2.14.0 (2011-10-31)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] splines   datasets  utils     stats     graphics  grDevices methods   base
>
> other attached packages:
> [1] survival_2.36-10    RISmed_1.2.3        CITAN_2011.08-1     ADGofTest_0.1       hash_2.1.0
> [6] RGtk2_2.20.19       RSQLite_0.10.0      DBI_0.2-5           BiocInstaller_1.2.1 ctv_0.7-3
> [11] sos_1.3-1           brew_1.0-6          MASS_7.3-16
>
> loaded via a namespace (and not attached):
> [1] cluster_1.14.1 grid_2.14.0    lattice_0.20-0 tools_2.14.0
>
>> library(Hmisc)
> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>  unable to load shared object '/Library/Frameworks/R.framework/Versions/2.14/Resources/library/Hmisc/libs/x86_64/Hmisc.so':
>  dlopen(/Library/Frameworks/R.framework/Versions/2.14/Resources/library/Hmisc/libs/x86_64/Hmisc.so, 6): Library not loaded: @rpath/R.framework/Versions/2.13/Resources/lib/libR.dylib
>  Referenced from: /Library/Frameworks/R.framework/Versions/2.14/Resources/library/Hmisc/libs/x86_64/Hmisc.so
>  Reason: image not found
> Error: package/namespace load failed for ???Hmisc???
>
> Suggestions?
> ______________________________________________
> Professor Michael Kubovy
> University of Virginia
> Department of Psychology
> for mail add:						for FedEx or UPS add:
> P.O.Box 400400					Gilmer Hall, Room 102
> Charlottesville, VA 22904-4400	485 McCormick Road
> USA							Charlottesville, VA 22903
> 		room	phone
> Office:    B011	+1-434-982-4729
> Lab:        B019	+1-434-982-4751
> WWW:    http://www.people.virginia.edu/~mk9y/
>
>
> 	[[alternative HTML version deleted]]
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ripley at stats.ox.ac.uk  Sat Nov 19 11:57:39 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 19 Nov 2011 10:57:39 +0000 (GMT)
Subject: [R-SIG-Mac] R 2.14.0 on MacBook Pro
In-Reply-To: <CAECqmo8AoOfMoYFgpXhpR02LK=Qzp_-9-71qkcsnvZ4r3Wmvow@mail.gmail.com>
References: <CAECqmo8AoOfMoYFgpXhpR02LK=Qzp_-9-71qkcsnvZ4r3Wmvow@mail.gmail.com>
Message-ID: <alpine.LFD.2.02.1111191057110.22121@gannet.stats.ox.ac.uk>

Please select a real CRAN mirror, not a broken one.

On Wed, 16 Nov 2011, Christopher Giguere wrote:

> Hello everyone,
>
> I am working on a Mac OS X 10.6.8 (10K549). I need to install the package *
> fracdiff*. When I first ran into an issue I upgraded to R version 2.14 and
> tried to install again. Each time the Package Installer returned the same
> error that Jan and Federico encountered last week. I read through the
> exchanges between Jan, Simon, and Federico from last week and followed the
> directions to try and fix my error, but I am still unable to install the
> packages. Clearly I am missing something.
>
> I downloaded and installed *R-devel-leopard.pkg *and* **
> R-GUI-5947-2.14-leopard-Leopard64.dmg* from http://r.research.att.com/ (the
> version posted yesterday 11/15/2011).
>
> Can someone please help me understand what I have done wrong so that I can
> fix it?
>
> Thank you very much for your time and assistance.
>
> Cheers,
> Chris
>
> R version 2.14.0 Patched (2011-11-15 r57665)
> Copyright (C) 2011 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
>
>  Natural language support but running in an English locale
>
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
>
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
>
> [R.app GUI 1.43 (5947) x86_64-apple-darwin9.8.0]
>
> [Workspace restored from /Users/giguerecs/.RData]
> [History restored from /Users/giguerecs/.Rapp.history]
>
> Warning: unable to access index for repository
> http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/leopard/contrib/2.14
>>
>>
>>
>> install.packages("zoo")
> Warning: unable to access index for repository
> http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/leopard/contrib/2.14
> Warning message:
> In getDependencies(pkgs, dependencies, available, lib) :
>  package ?zoo? is not available (for R version 2.14.0 Patched)
>>
>>
>> sessionInfo()
> R version 2.14.0 Patched (2011-11-15 r57665)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
>
> loaded via a namespace (and not attached):
> [1] tools_2.14.0
>
>
> -- 
> Chris Giguere
>
> 	[[alternative HTML version deleted]]
>
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From ripley at stats.ox.ac.uk  Sat Nov 19 12:00:43 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Sat, 19 Nov 2011 11:00:43 +0000 (GMT)
Subject: [R-SIG-Mac] saving files using quartz engine
In-Reply-To: <30DBF0C5-722E-4D65-85A0-87292BA89FE5@gmail.com>
References: <30DBF0C5-722E-4D65-85A0-87292BA89FE5@gmail.com>
Message-ID: <alpine.LFD.2.02.1111191057450.22121@gannet.stats.ox.ac.uk>

On Wed, 2 Nov 2011, Denis Chabot wrote:

> Hi,
>
> is there a reason that the quartz device does not like the "~" in 
> file names, whereas most functions handling files (including pdf() ) 
> have no problem with it?

Yes.
[Hint: no one contributed a patch for this wishlist item.  The authors 
of mainstream graphics devices were generous enough to add tilde 
expansion: but you failed to thank them!  Do remember that the people 
who gave you the gift of R are listening.]

The author of pdf().

>
> Thus
>
> pdf(file="/Users/dchabot/Documents/Programmes R/test.pdf", type="pdf", width=6, height=5) # works
> pdf(file=~/Documents/Programmes R/test.pdf", type="pdf", width=6, height=5) # works
>
> quartz(file="~/Documents/Programmes R/test.pdf", type="pdf", width=6, height=5) # does not work
> quartz(file="/Users/dchabot/Documents/Programmes R/test.pdf", type="pdf", width=6, height=5) # works
>
> Cheers,
>
> Denis
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From carl at witthoft.com  Sat Nov 19 15:39:15 2011
From: carl at witthoft.com (Carl Witthoft)
Date: Sat, 19 Nov 2011 09:39:15 -0500
Subject: [R-SIG-Mac] quartz.save tilde
In-Reply-To: <mailman.7770.1321696724.26350.r-sig-mac@r-project.org>
References: <mailman.7770.1321696724.26350.r-sig-mac@r-project.org>
Message-ID: <4EC7BF93.3040608@witthoft.com>

Just to help him out,  here's the error message I get, which pretty
clearly indicates that one of the subfunctions does not parse a tilde 
(my working directory is /users/cgw/rgames) .

Rgames> quartz.save('~/downloads/foo.png')
Error in dev.off(eval.parent(oc)) :
   QuartzBitmap_Output - unable to open file '~/downloads/foo.png'
ImageIO: could not open '/Users/cgw/Rgames/~/downloads/.foo.png-zY8H'
          error = 2
Sat Nov 19 09:35:05 TheiMac.local R[2951] <Error>:
CGImageDestinationCreate destination parameter is nil

> ------------------------------
>
> Message: 2 Date: Wed, 2 Nov 2011 22:21:42 -0400 From: Denis
> Chabot<chabot.denis at gmail.com> To: r-sig-mac at r-project.org Subject:
> [R-SIG-Mac] saving files using quartz engine
> Message-ID:<30DBF0C5-722E-4D65-85A0-87292BA89FE5 at gmail.com>
> Content-Type: text/plain; charset=us-ascii
>
> Hi,
>
> is there a reason that the quartz device does not like the "~" in
> file names, whereas most functions handling files (including pdf() )
> have no problem with it?
>
> Thus
>
> pdf(file="/Users/dchabot/Documents/Programmes R/test.pdf",
> type="pdf", width=6, height=5) # works
> pdf(file=~/Documents/Programmes R/test.pdf", type="pdf", width=6,
> height=5) # works
>
> quartz(file="~/Documents/Programmes R/test.pdf", type="pdf", width=6,
> height=5) # does not work
> quartz(file="/Users/dchabot/Documents/Programmes R/test.pdf",
> type="pdf", width=6, height=5) # works
>
-- 

Sent from my Cray XK6
"Pendeo-navem mei anguillae plena est."


From simon.urbanek at r-project.org  Sat Nov 19 15:41:37 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 19 Nov 2011 09:41:37 -0500
Subject: [R-SIG-Mac] error while loading 'gstat' on R 2.14.0
In-Reply-To: <C77D69E2-AB83-4E3B-9E57-4F68AF62DBB7@gmail.com>
References: <C77D69E2-AB83-4E3B-9E57-4F68AF62DBB7@gmail.com>
Message-ID: <B4046741-6E5F-41B0-B1A9-3BF549EB802D@r-project.org>

Edmund,

your gstat is for R 2.13.x yet you are running R 2.14.0. Please update your gstat package.

Cheers,
Simon


On Nov 7, 2011, at 11:14 AM, Edmund Har wrote:

> Hi all,
> 
> I am trying to install gstat 1.0-8 on R version 2.14.0 (32-bit) on my MacBook Pro (Mac OS X 10.6.8). I downloaded the binary package from CRAN website and while I tried loading it, the following message was shown:
> 
>> Error in dyn.load(file, DLLpath = DLLpath, ...) : 
>>  unable to load shared object '/Library/Frameworks/R.framework/Versions/2.14/Resources/library/gstat/libs/i386/gstat.so':
>>  dlopen(/Library/Frameworks/R.framework/Versions/2.14/Resources/library/gstat/libs/i386/gstat.so, 6): Library not loaded: /Library/Frameworks/R.framework/Versions/2.13/Resources/lib/libR.dylib
>>  Referenced from: /Library/Frameworks/R.framework/Versions/2.14/Resources/library/gstat/libs/i386/gstat.so
>>  Reason: image not found
>> In addition: Warning messages:
>> 1: replacing previous import 'is.projected' when loading 'spacetime' 
>> 2: replacing previous import 'proj4string' when loading 'spacetime' 
>> 3: replacing previous import 'proj4string<-' when loading 'spacetime' 
>> Error: package/namespace load failed for 'gstat'
> 
> 
> I followed the directory in the message and found that the file gstat.so is actually there. Is the problem because of the other packages I loaded at the same time?
> 
> FYI - Here is the list of the other packages I downloaded and loaded onto R: AnnotationDbi, DBI, RColorBrewer, RSQLite, annotate, geneplotter, gmt, lattice, mapdata, mapproj, maps, oce, sp, spacetime, xts, zoo. 
> 
> I would appreciate a lot if you could help me solve the problem. Looking forward to your reply. Thanks in advance. 
> 
> Cheers,
> Edmund
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From simon.urbanek at r-project.org  Sat Nov 19 15:45:47 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 19 Nov 2011 09:45:47 -0500
Subject: [R-SIG-Mac] R 2.14.0 on MacBook Pro
In-Reply-To: <CAECqmo8AoOfMoYFgpXhpR02LK=Qzp_-9-71qkcsnvZ4r3Wmvow@mail.gmail.com>
References: <CAECqmo8AoOfMoYFgpXhpR02LK=Qzp_-9-71qkcsnvZ4r3Wmvow@mail.gmail.com>
Message-ID: <241F9266-97DE-418B-8A5C-C4B93D75D76C@r-project.org>


On Nov 16, 2011, at 1:36 PM, Christopher Giguere wrote:

> Hello everyone,
> 
> I am working on a Mac OS X 10.6.8 (10K549). I need to install the package *
> fracdiff*. When I first ran into an issue I upgraded to R version 2.14 and
> tried to install again. Each time the Package Installer returned the same
> error that Jan and Federico encountered last week. I read through the
> exchanges between Jan, Simon, and Federico from last week and followed the
> directions to try and fix my error, but I am still unable to install the
> packages. Clearly I am missing something.
> 

The mirror your'e using is broken (or your internet connection). Please try a different mirror.

Cheers,
Simon

PS: Just to re-iterate - the @rpath issue is long gone! It was a problem only for one day and only for a few packages and is irrelevant to anyone now (if you don't see @path anywhere in the output, it's NOT that problem!).



> I downloaded and installed *R-devel-leopard.pkg *and* **
> R-GUI-5947-2.14-leopard-Leopard64.dmg* from http://r.research.att.com/ (the
> version posted yesterday 11/15/2011).
> 
> Can someone please help me understand what I have done wrong so that I can
> fix it?
> 
> Thank you very much for your time and assistance.
> 
> Cheers,
> Chris
> 
> R version 2.14.0 Patched (2011-11-15 r57665)
> Copyright (C) 2011 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
> 
>  Natural language support but running in an English locale
> 
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
> 
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
> 
> [R.app GUI 1.43 (5947) x86_64-apple-darwin9.8.0]
> 
> [Workspace restored from /Users/giguerecs/.RData]
> [History restored from /Users/giguerecs/.Rapp.history]
> 
> Warning: unable to access index for repository
> http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/leopard/contrib/2.14
>> 
>> 
>> 
>> install.packages("zoo")
> Warning: unable to access index for repository
> http://www.ibiblio.org/pub/languages/R/CRAN/bin/macosx/leopard/contrib/2.14
> Warning message:
> In getDependencies(pkgs, dependencies, available, lib) :
>  package ?zoo? is not available (for R version 2.14.0 Patched)
>> 
>> 
>> sessionInfo()
> R version 2.14.0 Patched (2011-11-15 r57665)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> loaded via a namespace (and not attached):
> [1] tools_2.14.0
> 
> 
> -- 
> Chris Giguere
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From simon.urbanek at r-project.org  Sat Nov 19 15:47:59 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 19 Nov 2011 09:47:59 -0500
Subject: [R-SIG-Mac] Hmisc doesn't load
In-Reply-To: <alpine.LFD.2.02.1111191056280.22121@gannet.stats.ox.ac.uk>
References: <798FA2CB-7AD3-417A-A81D-BD72E357D379@virginia.edu>
	<alpine.LFD.2.02.1111191056280.22121@gannet.stats.ox.ac.uk>
Message-ID: <02CEF052-E0D2-4E16-AAF7-A21A603A7907@r-project.org>


On Nov 19, 2011, at 5:56 AM, Prof Brian Ripley wrote:

> See the list archives. Are you doing this in R.app, and have you
> updated R 2.14.0 recently?
> 

.. or reinstalled Hmisc? Try
install.packages("Hmisc",,"http://cran.r-project.org")

Cheers,
Simon



> 
> On Mon, 14 Nov 2011, Michael Kubovy wrote:
> 
>> After installing the Hmisc package in terminal:
>> 
>> [mks-Mac-Pro:~/Downloads/14-11-11] mk% R CMD INSTALL Hmisc_3.9-0.tar
>> .Rprofile: Setting US repository
>> Loading required package: grDevices
>> Loading required package: graphics
>> Loading required package: stats
>> Loading required package: utils
>> Loading required package: brew
>> 
>> Attaching package: ??????sos??????
>> 
>> * installing to library ??????/Library/Frameworks/R.framework/Versions/2.14/Resources/library??????
>> * installing *binary* package ??????Hmisc?????? ...
>> 
>> * DONE (Hmisc)
>> 
>>> sessionInfo()
>> R version 2.14.0 (2011-10-31)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>> 
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>> 
>> attached base packages:
>> [1] splines   datasets  utils     stats     graphics  grDevices methods   base
>> 
>> other attached packages:
>> [1] survival_2.36-10    RISmed_1.2.3        CITAN_2011.08-1     ADGofTest_0.1       hash_2.1.0
>> [6] RGtk2_2.20.19       RSQLite_0.10.0      DBI_0.2-5           BiocInstaller_1.2.1 ctv_0.7-3
>> [11] sos_1.3-1           brew_1.0-6          MASS_7.3-16
>> 
>> loaded via a namespace (and not attached):
>> [1] cluster_1.14.1 grid_2.14.0    lattice_0.20-0 tools_2.14.0
>> 
>>> library(Hmisc)
>> Error in dyn.load(file, DLLpath = DLLpath, ...) :
>> unable to load shared object '/Library/Frameworks/R.framework/Versions/2.14/Resources/library/Hmisc/libs/x86_64/Hmisc.so':
>> dlopen(/Library/Frameworks/R.framework/Versions/2.14/Resources/library/Hmisc/libs/x86_64/Hmisc.so, 6): Library not loaded: @rpath/R.framework/Versions/2.13/Resources/lib/libR.dylib
>> Referenced from: /Library/Frameworks/R.framework/Versions/2.14/Resources/library/Hmisc/libs/x86_64/Hmisc.so
>> Reason: image not found
>> Error: package/namespace load failed for ???Hmisc???
>> 
>> Suggestions?
>> ______________________________________________
>> Professor Michael Kubovy
>> University of Virginia
>> Department of Psychology
>> for mail add:						for FedEx or UPS add:
>> P.O.Box 400400					Gilmer Hall, Room 102
>> Charlottesville, VA 22904-4400	485 McCormick Road
>> USA							Charlottesville, VA 22903
>> 		room	phone
>> Office:    B011	+1-434-982-4729
>> Lab:        B019	+1-434-982-4751
>> WWW:    http://www.people.virginia.edu/~mk9y/
>> 
>> 
>> 	[[alternative HTML version deleted]]
>> 
>> 
> 
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From Ross.Darnell at csiro.au  Sat Nov 19 22:35:14 2011
From: Ross.Darnell at csiro.au (Ross.Darnell at csiro.au)
Date: Sun, 20 Nov 2011 08:35:14 +1100
Subject: [R-SIG-Mac] saving files using quartz engine
In-Reply-To: <30DBF0C5-722E-4D65-85A0-87292BA89FE5@gmail.com>
Message-ID: <CAEE5E08.AF83%ross.darnell@csiro.au>

Are you sure the second case works?

Ross Darnell 



On 3/11/11 12:21 PM, "Denis Chabot" <chabot.denis at gmail.com> wrote:

>Hi,
>
>is there a reason that the quartz device does not like the "~" in file
>names, whereas most functions handling files (including pdf() ) have no
>problem with it?
>
>Thus 
>
>pdf(file="/Users/dchabot/Documents/Programmes R/test.pdf", type="pdf",
>width=6, height=5) # works
>pdf(file=~/Documents/Programmes R/test.pdf", type="pdf", width=6,
>height=5) # works
>
>quartz(file="~/Documents/Programmes R/test.pdf", type="pdf", width=6,
>height=5) # does not work
>quartz(file="/Users/dchabot/Documents/Programmes R/test.pdf", type="pdf",
>width=6, height=5) # works
>
>Cheers,
>
>Denis
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at r-project.org
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From chabotd at globetrotter.net  Sun Nov 20 02:02:42 2011
From: chabotd at globetrotter.net (Denis Chabot)
Date: Sat, 19 Nov 2011 20:02:42 -0500
Subject: [R-SIG-Mac] saving files using quartz engine
In-Reply-To: <CAEE5E08.AF83%ross.darnell@csiro.au>
References: <CAEE5E08.AF83%ross.darnell@csiro.au>
Message-ID: <B76EB23D-E4A6-4E7D-AC9F-1BFAE17B0C39@globetrotter.net>

Dear Ross,

I apologize, there was careless cut and paste, I am sorry. And my message took long to appear on the list because I accidentally used an email address other than the one I subscribed with, so that it had to be cleared manually before it appeared. Thanks to the moderator for allowing it, by the way, and to you for pointing the error.

I was a bit behind at the time (R 2.13.1, but 2.13.2 was out). I am way behind now, as I did not have time to upgrade to 2.14. I cannot be certain this is still an issue, but I would like to at least post a correct example.

pdf(file="/Users/dchabot/Documents/Programmes R/test.pdf") # works
plot(1:10)
dev.off()

pdf(file="~/Documents/Programmes R/test.pdf") # works
plot(1:10)
dev.off()

quartz(file="~/Documents/Programmes R/test.pdf", type="pdf") # does not work
plot(1:10)
dev.off()

quartz(file="/Users/dchabot/Documents/Programmes R/test.pdf", type="pdf") # works
plot(1:10)
dev.off()

Only the 3rd example does not work:

> quartz(file="~/Documents/Programmes R/test.pdf", type="pdf") # does not work
Erreur dans quartz(file = "~/Documents/Programmes R/test.pdf", type = "pdf") : 
 Impossible de cr?er le p?riph?rique cible Quartz, le type fourni n'est peut-?tre pas support?.
> plot(1:10)
> dev.off()
null device 
         1 
Sat Nov 19 19:47:13 MBPi7Chabot.local R[389] <Error>: CGDataConsumerCreateWithFilename: failed to open `/Users/dchabot/~/Documents/Programmes R/test.pdf' for writing: No such file or directory.
deflateEnd: error -3: (null).
Sat Nov 19 19:47:13 MBPi7Chabot.local R[389] <Error>: CGPDFContextCreate: failed to create PDF context delegate.

In his reply to my post, Prof. Ripley said that tilde expansion had to be implemented into each graphics device. I did not know that, I thought it was built-in R because of its Unix roots. So I guess we now have the answer. It is not a big deal having to write the complete path, it just took me by surprise. 

I would like to offer to add tilde expansion to quartz(), but I am not qualified to do so.

Denis
Le 2011-11-19 ? 16:35, <Ross.Darnell at csiro.au> <Ross.Darnell at csiro.au> a ?crit :

> Are you sure the second case works?
> 
> Ross Darnell 
> 
> 
> 
> On 3/11/11 12:21 PM, "Denis Chabot" <chabot.denis at gmail.com> wrote:
> 
>> Hi,
>> 
>> is there a reason that the quartz device does not like the "~" in file
>> names, whereas most functions handling files (including pdf() ) have no
>> problem with it?
>> 
>> Thus 
>> 
>> pdf(file="/Users/dchabot/Documents/Programmes R/test.pdf", type="pdf",
>> width=6, height=5) # works
>> pdf(file=~/Documents/Programmes R/test.pdf", type="pdf", width=6,
>> height=5) # works
>> 
>> quartz(file="~/Documents/Programmes R/test.pdf", type="pdf", width=6,
>> height=5) # does not work
>> quartz(file="/Users/dchabot/Documents/Programmes R/test.pdf", type="pdf",
>> width=6, height=5) # works
>> 
>> Cheers,
>> 
>> Denis
>> 
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 


From kubovy at virginia.edu  Sat Nov 19 13:14:58 2011
From: kubovy at virginia.edu (Michael Kubovy)
Date: Sat, 19 Nov 2011 07:14:58 -0500
Subject: [R-SIG-Mac] Hmisc doesn't load
In-Reply-To: <alpine.LFD.2.02.1111191056280.22121@gannet.stats.ox.ac.uk>
References: <798FA2CB-7AD3-417A-A81D-BD72E357D379@virginia.edu>
	<alpine.LFD.2.02.1111191056280.22121@gannet.stats.ox.ac.uk>
Message-ID: <44322C8F-6271-4F62-9679-5D54199B6AD8@virginia.edu>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111119/70da5e53/attachment.pl>

From Lara.R.Appleby.04 at Alum.Dartmouth.ORG  Mon Nov 21 22:09:19 2011
From: Lara.R.Appleby.04 at Alum.Dartmouth.ORG (Lara R. Appleby 04)
Date: 21 Nov 2011 16:09:19 -0500
Subject: [R-SIG-Mac] manually load package
Message-ID: <36655373@sneetches2.DARTMOUTH.ORG>

I am using the "contrast" package (available from CRAN) which in turn depends  
on the "Design" package (no longer in CRAN). I downloaded the Design package from  
a web archive. How do I load this into R?


From dwinsemius at comcast.net  Tue Nov 22 00:35:55 2011
From: dwinsemius at comcast.net (David Winsemius)
Date: Mon, 21 Nov 2011 18:35:55 -0500
Subject: [R-SIG-Mac] manually load package
In-Reply-To: <36655373@sneetches2.DARTMOUTH.ORG>
References: <36655373@sneetches2.DARTMOUTH.ORG>
Message-ID: <DC631169-7928-40EB-8D5C-3C17EE6F4B97@comcast.net>


On Nov 21, 2011, at 4:09 PM, Lara R. Appleby 04 wrote:

> I am using the "contrast" package (available from CRAN) which in  
> turn depends on the "Design" package (no longer in CRAN).

I see that you are right. It does show up in the binary packages when  
I use the GUI installer but I suspect that is because I had it before.
From:
Documentation for package ?contrast? version 0.14
DESCRIPTION file.
Depends: R (>= 2.2.1), Design
Suggests: lattice, nlme, Hmisc, geepack, MASS, sandwich Description:  
Contrast methods, in the style of the Design package, for fit objects  
produced by the lm, glm, gls, and geese functions.
> I downloaded the Design package from a web archive. How do I load  
> this into R?

I was surprised to see that my older installed version of Design for R  
2.13.1 seemed to survive the update.packages(checkBuilt=TRUE) process  
I subjected my library to. And loading 'package:contrast' does load  
Design. (Which I then needed to detach since I use 'rms' and Design  
unsurprisingly masked most of that package)

If you had a prior copy of Design, you might first  try to copy it  
directly into your 2.14 library folder and then run  
update.packages("Design", checkBuilt=TRUE)

If that is not an option, the Archive link at the bottom of the  
contributed packages page should have the most recent version ....  
from 2009.

http://cran.r-project.org/src/contrib/Archive/Design/Design_2.3-0.tar.gz

  You will need to use an Xcode-equipped version of MacOS to compile  
that source package, since it does have binaries.

-- 
David Winsemius, MD
West Hartford, CT


From mxkuhn at gmail.com  Tue Nov 22 20:13:27 2011
From: mxkuhn at gmail.com (Max Kuhn)
Date: Tue, 22 Nov 2011 14:13:27 -0500
Subject: [R-SIG-Mac] manually load package
In-Reply-To: <4ECAF23F.2030003@vanderbilt.edu>
References: <36655373@sneetches2.DARTMOUTH.ORG>
	<DC631169-7928-40EB-8D5C-3C17EE6F4B97@comcast.net>
	<4ECAF23F.2030003@vanderbilt.edu>
Message-ID: <CAJ9CoWnJXDacGFN0e_o1T4tSKAqk1hLO7FLnpo-5vq3+NeFugg@mail.gmail.com>

I'm working on it and will do more once I'm over the flu.=[

Max

On Mon, Nov 21, 2011 at 7:52 PM, Frank Harrell <f.harrell at vanderbilt.edu> wrote:
> I would rather see the most effort put into getting the maintainer of
> contrast to update. ?I've been warning about rms for a year and a half.
>
> Frank
>
>
> On 11/21/2011 05:35 PM, David Winsemius wrote:
>>
>> On Nov 21, 2011, at 4:09 PM, Lara R. Appleby 04 wrote:
>>
>>> I am using the "contrast" package (available from CRAN) which in
>>> turn depends on the "Design" package (no longer in CRAN).
>>
>> I see that you are right. It does show up in the binary packages when
>> I use the GUI installer but I suspect that is because I had it before.
>> From:
>> Documentation for package ?contrast? version 0.14
>> DESCRIPTION file.
>> Depends: R (>= 2.2.1), Design
>> Suggests: lattice, nlme, Hmisc, geepack, MASS, sandwich Description:
>> Contrast methods, in the style of the Design package, for fit objects
>> produced by the lm, glm, gls, and geese functions.
>>>
>>> I downloaded the Design package from a web archive. How do I load
>>> this into R?
>>
>> I was surprised to see that my older installed version of Design for R
>> 2.13.1 seemed to survive the update.packages(checkBuilt=TRUE) process
>> I subjected my library to. And loading 'package:contrast' does load
>> Design. (Which I then needed to detach since I use 'rms' and Design
>> unsurprisingly masked most of that package)
>>
>> If you had a prior copy of Design, you might first ?try to copy it
>> directly into your 2.14 library folder and then run
>> update.packages("Design", checkBuilt=TRUE)
>>
>> If that is not an option, the Archive link at the bottom of the
>> contributed packages page should have the most recent version ....
>> from 2009.
>>
>> http://cran.r-project.org/src/contrib/Archive/Design/Design_2.3-0.tar.gz
>>
>> ? You will need to use an Xcode-equipped version of MacOS to compile
>> that source package, since it does have binaries.
>>
>
> --
> Frank E Harrell Jr Professor and Chairman ? ? ?School of Medicine
> ? ? ? ? ? ? ? ? ? Department of Biostatistics Vanderbilt University
>
>



-- 

Max


From jmw86069 at gmail.com  Tue Nov 22 21:54:03 2011
From: jmw86069 at gmail.com (James Ward)
Date: Tue, 22 Nov 2011 15:54:03 -0500
Subject: [R-SIG-Mac] [SOLVED] Package 'xlsx' on Mac OS X using rJava
Message-ID: <CAFqyLrtgt3N=VT+n8qCXFyYbux1-CNZYWG0OZYMOrD55z9EBZw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111122/e4fa3e43/attachment.pl>

From simon.urbanek at r-project.org  Tue Nov 22 22:52:46 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 22 Nov 2011 16:52:46 -0500
Subject: [R-SIG-Mac] [SOLVED] Package 'xlsx' on Mac OS X using rJava
In-Reply-To: <CAFqyLrtgt3N=VT+n8qCXFyYbux1-CNZYWG0OZYMOrD55z9EBZw@mail.gmail.com>
References: <CAFqyLrtgt3N=VT+n8qCXFyYbux1-CNZYWG0OZYMOrD55z9EBZw@mail.gmail.com>
Message-ID: <1FAE2268-0321-451A-A350-8EEE5C78D023@r-project.org>

James,

On Nov 22, 2011, at 3:54 PM, James Ward wrote:

> First, thanks to Adrian A. Dragulescu, the author of the 'xlsx' package,
> for an immensely useful package!  I hope this Email is useful to someone
> out there, I thought it may be useful to document.
> 
> On Mac OS X 10.6 I had a problem using the package 'xlsx', it could not
> color-shade Excel cells.  One fix is to run the Java process in headless
> mode.  

Yes, that is a known issue in OS X. Note that your example below will only work if no other package has initialized rJava before. A more general solution is to set the system property directly:

.jcall("java/lang/System","S","setProperty","java.awt.headless","true")

Note that this limitation does not exist when running R in JGR (and AWT is usable there).

As for heap size, that can be indeed only set in the java options.

Cheers,
Simon



> In the example below, I show how to run rJava in headless mode, and
> I also increased the Java memory heap size to 1 Gigabyte (mostly to
> demonstrate how to set multiple Java parameters at once.)  Omit or adjust
> the heapsize option as needed.  I include a working example.  (I hope!)
> 
> ################## BEGIN TEST
> ## The option below is used upon initializing the rJava environment
> ## and may be placed in an .Renviron or .Rprofile file
> options( java.parameters = c("-Djava.awt.headless=true", "-Xmx1g") );
> 
> ## Once initialized, load the 'xlsx' package:
> library(xlsx);
> 
> ## The example code follows below:
> wb <- createWorkbook();
> sheet <- createSheet(wb, "Sheet1");
> rows  <- createRow(sheet, rowIndex=1);
> cell.1 <- createCell(rows, colIndex=1)[[1,1]];
> setCellValue(cell.1, "Hello R!");
> ## The following function 'createCellStyle' fails without the fix on a Mac:
> cellStyle1 <- createCellStyle(wb, borderPosition="RIGHT",
>                              borderPen="BORDER_DASHED",
> fillBackgroundColor="yellow",
>                              fillForegroundColor="tomato",
> fillPattern="BIG_SPOTS");
> setCellStyle(cell.1, cellStyle1);
> saveWorkbook(wb, "testExcelWorkbook.xlsx");
> ################## END TEST
> 
> Alternatively, one can manually initialize the Java environment, but you
> must do so before loading the 'xlsx' package, like so:
> 
>     library(rJava);
>     .jinit(parameters=c("-Djava.awt.headless=true", "-Xmx2g") );
>     library(xlsx);
> 
> 
> Now I can try to create Excel files with multiple worksheets, fancy
> cell-shading, and use "freeze panes" on the first row of data!  :-)
> 
> -- 
> James M. Ward
> Computational Biologist and Genome Bioinformaticist
> NIEHS Bioinformatics, RTP, NC
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From Lara.R.Appleby.04 at Alum.Dartmouth.ORG  Wed Nov 23 02:38:04 2011
From: Lara.R.Appleby.04 at Alum.Dartmouth.ORG (Lara R. Appleby 04)
Date: 22 Nov 2011 20:38:04 -0500
Subject: [R-SIG-Mac] manually load package
Message-ID: <36682230@sneetches2.DARTMOUTH.ORG>

How do I compile an R source package? I run OS 10.7.2 and have installed Xcode  
and gfortran-4.4.0.


From simon.urbanek at r-project.org  Wed Nov 23 02:59:51 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 22 Nov 2011 20:59:51 -0500
Subject: [R-SIG-Mac] manually load package
In-Reply-To: <36682230@sneetches2.DARTMOUTH.ORG>
References: <36682230@sneetches2.DARTMOUTH.ORG>
Message-ID: <14D465A7-84B8-44EB-B669-5342A23EE72C@r-project.org>

On Nov 22, 2011, at 8:38 PM, Lara R. Appleby 04 wrote:

> How do I compile an R source package? I run OS 10.7.2 and have installed Xcode and gfortran-4.4.0.
> 

You use

R CMD INSTALL

Alternatively you can use install.packages(..., type='source') if you want to compile a package form CRAN.

See R documentation (R-admin 6.3 "Installing packages")

Cheers,
Simon


From lists at remoteinformation.com.au  Wed Nov 23 03:11:25 2011
From: lists at remoteinformation.com.au (Ben Madin)
Date: Wed, 23 Nov 2011 10:11:25 +0800
Subject: [R-SIG-Mac] manually load package
In-Reply-To: <36682230@sneetches2.DARTMOUTH.ORG>
References: <36682230@sneetches2.DARTMOUTH.ORG>
Message-ID: <0CF38FFE-731A-44E7-9603-B12559F96CD5@remoteinformation.com.au>

try

  ?install.packages

should cover most use cases (it's all I've ever used, but there might be other ways)

cheers

Ben



On 23/11/2011, at 9:38 AM, Lara R. Appleby 04 wrote:

> How do I compile an R source package? I run OS 10.7.2 and have installed Xcode and gfortran-4.4.0.
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From colstat at gmail.com  Wed Nov 23 03:16:04 2011
From: colstat at gmail.com (Colstat)
Date: Tue, 22 Nov 2011 21:16:04 -0500
Subject: [R-SIG-Mac] L after a number returns that number, what does it mean?
Message-ID: <CABc7NqHTskYeN+jK3Tz754Wshdzhz0z0S4BB78ypciR4w7mKvQ@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111122/e2c51ba0/attachment.pl>

From kasperdanielhansen at gmail.com  Wed Nov 23 03:23:06 2011
From: kasperdanielhansen at gmail.com (Kasper Daniel Hansen)
Date: Tue, 22 Nov 2011 21:23:06 -0500
Subject: [R-SIG-Mac] L after a number returns that number,
	what does it mean?
In-Reply-To: <CABc7NqHTskYeN+jK3Tz754Wshdzhz0z0S4BB78ypciR4w7mKvQ@mail.gmail.com>
References: <CABc7NqHTskYeN+jK3Tz754Wshdzhz0z0S4BB78ypciR4w7mKvQ@mail.gmail.com>
Message-ID: <CAC2h7uuWS8OnDHtTUvsHqRzdwbvfMM3J6uEsqTBu+OMk1syqRw@mail.gmail.com>

This is not the appropriate email list for this question, but I can
tell you that L means "integer".

Kasper

On Tue, Nov 22, 2011 at 9:16 PM, Colstat <colstat at gmail.com> wrote:
> Hi, all
> When you enter 3L or 10L in R console, it still returns the number 3, 10,
> respectively. ?It's amazing that there's no error, but I was expecting one.
> What does that mean? ?What is 3L, I assume it has something to do with
> list()?
> -C
>
> ? ? ? ?[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From Lara.R.Appleby.04 at Alum.Dartmouth.ORG  Wed Nov 23 17:05:53 2011
From: Lara.R.Appleby.04 at Alum.Dartmouth.ORG (Lara R. Appleby 04)
Date: 23 Nov 2011 11:05:53 -0500
Subject: [R-SIG-Mac] manually load package
Message-ID: <36694644@sneetches2.DARTMOUTH.ORG>

I want to install the old R package "Design" from a source file "Design_2.3-0.tar.gz"  
which is on my desktop. I need this (old) package to run another (newer) package  
"Contrast".

>  install.packages(pkgs="Design_2.3-0.tar.gz", repos=NULL,contriburl=NULL,dependencies=NULL,available=NULL,type="source",lib=  
>"/Library/Frameworks/R.framework/Versions/2.14/Resources/library")
Warning message:
In getDependencies(pkgs, dependencies, available, lib) :
   package 'Design_2.3-0.tar.gz' is not available (for R version 2.14.0)
>


From f.calboli at imperial.ac.uk  Wed Nov 23 17:28:18 2011
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Wed, 23 Nov 2011 16:28:18 +0000
Subject: [R-SIG-Mac] manually load package
In-Reply-To: <36694644@sneetches2.DARTMOUTH.ORG>
References: <36694644@sneetches2.DARTMOUTH.ORG>
Message-ID: <ED555D9B-5366-4829-9159-73B807BEAF54@imperial.ac.uk>

On 23 Nov 2011, at 16:05, Lara R. Appleby 04 wrote:

> I want to install the old R package "Design" from a source file "Design_2.3-0.tar.gz" which is on my desktop. I need this (old) package to run another (newer) package "Contrast".
> 
>> install.packages(pkgs="Design_2.3-0.tar.gz", repos=NULL,contriburl=NULL,dependencies=NULL,available=NULL,type="source",lib= "/Library/Frameworks/R.framework/Versions/2.14/Resources/library")


install.packages('Design', type = 'source', dependencies = T, lib= "/Library/Frameworks/R.framework/Versions/2.14/Resources/library")

F



> Warning message:
> In getDependencies(pkgs, dependencies, available, lib) :
>  package 'Design_2.3-0.tar.gz' is not available (for R version 2.14.0)
>> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From ripley at stats.ox.ac.uk  Wed Nov 23 18:44:38 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Wed, 23 Nov 2011 17:44:38 +0000 (GMT)
Subject: [R-SIG-Mac] manually load package
In-Reply-To: <36694644@sneetches2.DARTMOUTH.ORG>
References: <36694644@sneetches2.DARTMOUTH.ORG>
Message-ID: <alpine.LFD.2.02.1111231740570.10890@gannet.stats.ox.ac.uk>

Did you have a question?  Your posting is two unconnected fragments.

How to install source packages is described in the 'R Installation and 
Administration Manual'.

You didn't tell us where you ran this, but very likely you need
"~/Desktop/Design_2.3-0.tar.gz".

But why not open a terminal and run

R CMD INSTALL ~/Desktop/Design_2.3-0.tar.gz

?

On Wed, 23 Nov 2011, Lara R. Appleby 04 wrote:

> I want to install the old R package "Design" from a source file 
> "Design_2.3-0.tar.gz" which is on my desktop. I need this (old) package to 
> run another (newer) package "Contrast".
>
>> install.packages(pkgs="Design_2.3-0.tar.gz", 
>> repos=NULL,contriburl=NULL,dependencies=NULL,available=NULL,type="source",lib= 
>> "/Library/Frameworks/R.framework/Versions/2.14/Resources/library")
> Warning message:
> In getDependencies(pkgs, dependencies, available, lib) :
> package 'Design_2.3-0.tar.gz' is not available (for R version 2.14.0)
>> 
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From f.harrell at Vanderbilt.Edu  Tue Nov 22 01:52:15 2011
From: f.harrell at Vanderbilt.Edu (Frank Harrell)
Date: Mon, 21 Nov 2011 18:52:15 -0600
Subject: [R-SIG-Mac] manually load package
In-Reply-To: <DC631169-7928-40EB-8D5C-3C17EE6F4B97@comcast.net>
References: <36655373@sneetches2.DARTMOUTH.ORG>
	<DC631169-7928-40EB-8D5C-3C17EE6F4B97@comcast.net>
Message-ID: <4ECAF23F.2030003@vanderbilt.edu>

I would rather see the most effort put into getting the maintainer of 
contrast to update.  I've been warning about rms for a year and a half.

Frank


On 11/21/2011 05:35 PM, David Winsemius wrote:
>
> On Nov 21, 2011, at 4:09 PM, Lara R. Appleby 04 wrote:
>
>> I am using the "contrast" package (available from CRAN) which in
>> turn depends on the "Design" package (no longer in CRAN).
>
> I see that you are right. It does show up in the binary packages when
> I use the GUI installer but I suspect that is because I had it before.
> From:
> Documentation for package ?contrast? version 0.14
> DESCRIPTION file.
> Depends: R (>= 2.2.1), Design
> Suggests: lattice, nlme, Hmisc, geepack, MASS, sandwich Description:
> Contrast methods, in the style of the Design package, for fit objects
> produced by the lm, glm, gls, and geese functions.
>> I downloaded the Design package from a web archive. How do I load
>> this into R?
>
> I was surprised to see that my older installed version of Design for R
> 2.13.1 seemed to survive the update.packages(checkBuilt=TRUE) process
> I subjected my library to. And loading 'package:contrast' does load
> Design. (Which I then needed to detach since I use 'rms' and Design
> unsurprisingly masked most of that package)
>
> If you had a prior copy of Design, you might first  try to copy it
> directly into your 2.14 library folder and then run
> update.packages("Design", checkBuilt=TRUE)
>
> If that is not an option, the Archive link at the bottom of the
> contributed packages page should have the most recent version ....
> from 2009.
>
> http://cran.r-project.org/src/contrib/Archive/Design/Design_2.3-0.tar.gz
>
>    You will need to use an Xcode-equipped version of MacOS to compile
> that source package, since it does have binaries.
>

-- 
Frank E Harrell Jr Professor and Chairman      School of Medicine
                    Department of Biostatistics Vanderbilt University


From mxkuhn at gmail.com  Fri Nov 25 04:31:18 2011
From: mxkuhn at gmail.com (Max Kuhn)
Date: Thu, 24 Nov 2011 22:31:18 -0500
Subject: [R-SIG-Mac] manually load package
In-Reply-To: <CAJ9CoWnJXDacGFN0e_o1T4tSKAqk1hLO7FLnpo-5vq3+NeFugg@mail.gmail.com>
References: <36655373@sneetches2.DARTMOUTH.ORG>
	<DC631169-7928-40EB-8D5C-3C17EE6F4B97@comcast.net>
	<4ECAF23F.2030003@vanderbilt.edu>
	<CAJ9CoWnJXDacGFN0e_o1T4tSKAqk1hLO7FLnpo-5vq3+NeFugg@mail.gmail.com>
Message-ID: <CAJ9CoW=gs_x=ytmYjeS08bJCxWFM16qkXK0_m41zsGVr=ZghTg@mail.gmail.com>

A new version of contrast was sent to crane today that works with rms.

Max

On Tue, Nov 22, 2011 at 2:13 PM, Max Kuhn <mxkuhn at gmail.com> wrote:
> I'm working on it and will do more once I'm over the flu.=[
>
> Max
>
> On Mon, Nov 21, 2011 at 7:52 PM, Frank Harrell <f.harrell at vanderbilt.edu> wrote:
>> I would rather see the most effort put into getting the maintainer of
>> contrast to update. ?I've been warning about rms for a year and a half.
>>
>> Frank
>>
>>
>> On 11/21/2011 05:35 PM, David Winsemius wrote:
>>>
>>> On Nov 21, 2011, at 4:09 PM, Lara R. Appleby 04 wrote:
>>>
>>>> I am using the "contrast" package (available from CRAN) which in
>>>> turn depends on the "Design" package (no longer in CRAN).
>>>
>>> I see that you are right. It does show up in the binary packages when
>>> I use the GUI installer but I suspect that is because I had it before.
>>> From:
>>> Documentation for package ?contrast? version 0.14
>>> DESCRIPTION file.
>>> Depends: R (>= 2.2.1), Design
>>> Suggests: lattice, nlme, Hmisc, geepack, MASS, sandwich Description:
>>> Contrast methods, in the style of the Design package, for fit objects
>>> produced by the lm, glm, gls, and geese functions.
>>>>
>>>> I downloaded the Design package from a web archive. How do I load
>>>> this into R?
>>>
>>> I was surprised to see that my older installed version of Design for R
>>> 2.13.1 seemed to survive the update.packages(checkBuilt=TRUE) process
>>> I subjected my library to. And loading 'package:contrast' does load
>>> Design. (Which I then needed to detach since I use 'rms' and Design
>>> unsurprisingly masked most of that package)
>>>
>>> If you had a prior copy of Design, you might first ?try to copy it
>>> directly into your 2.14 library folder and then run
>>> update.packages("Design", checkBuilt=TRUE)
>>>
>>> If that is not an option, the Archive link at the bottom of the
>>> contributed packages page should have the most recent version ....
>>> from 2009.
>>>
>>> http://cran.r-project.org/src/contrib/Archive/Design/Design_2.3-0.tar.gz
>>>
>>> ? You will need to use an Xcode-equipped version of MacOS to compile
>>> that source package, since it does have binaries.
>>>
>>
>> --
>> Frank E Harrell Jr Professor and Chairman ? ? ?School of Medicine
>> ? ? ? ? ? ? ? ? ? Department of Biostatistics Vanderbilt University
>>
>>
>
>
>
> --
>
> Max
>



-- 

Max


From cjpauw at gmail.com  Thu Nov 24 17:17:31 2011
From: cjpauw at gmail.com (christiaan pauw)
Date: Thu, 24 Nov 2011 18:17:31 +0200
Subject: [R-SIG-Mac] Updating packages after updating R
Message-ID: <CAJESSmbKROAPn3Yz44vA59vS02pS-k8wKV5Ky1_V+OLTBKE7qA@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111124/0fd995d3/attachment.pl>

From eve.vaes at gmail.com  Thu Nov 24 17:18:50 2011
From: eve.vaes at gmail.com (Evelien)
Date: Thu, 24 Nov 2011 16:18:50 +0000
Subject: [R-SIG-Mac] Installing or Compiling EDGE
References: <CADc5o6xfSMRLmVc33DrWOahF766reSFYtzvY=XvRsCW3RdHfNw@mail.gmail.com>
	<54EF2335-BBA2-4ADF-A12E-2A879E4236B3@r-project.org>
Message-ID: <loom.20111124T171510-367@post.gmane.org>

Hi Simon,

We have been facing the same problem and tried to implement all changes you
suggested just here. 
However, when compiling, we get an error that we don't seem
to understand (underneath). Any insights on what might be going wrong here?

I'm running a mac pro 1,1 with os 10.6.8 . Xcode 3.2 fresh off the disc

Thanks a lot, really appreciate any help!

Kind regards,
Evelien 


for SUBDIR in threads cluster cluster/TestFramework cluster/Tests 

threads/Tests

tests ../help ; do pushd $SUBDIR && make && popd; done

~/Desktop/EDGE/src/threads ~/Desktop/EDGE/src

mv Makefile Makefile.mv

SRCBASE=.. PKG_LIBS="" PKG_CXXFLAGS="
-DMAC_OS_X -Dassert\(expr\)= -fPIC

-I/Library/Frameworks/R.framework/Resources 
-I../threads -I../cluster

-I/Library/Frameworks/R.framework/Resources/include -I..

-DEDGE_LIBRARY_VERSION=\"1.0.\"  
-D__STDC_LIMIT_MACROS -Wall"

PKG_CFLAGS="-DMAC_OS_X -Dassert\(expr\)= -fPIC

-I/Library/Frameworks/R.framework/Resources 
-I../threads -I../cluster

-I/Library/Frameworks/R.framework/Resources/include -I..

-DEDGE_LIBRARY_VERSION=\"1.0.\"  
-D__STDC_LIMIT_MACROS -Wall" R CMD SHLIB -o

progressthreads.so ProgressThread.cpp 
ProgressThreadDef.c Clock.c  ;

RETURN=`echo $?` bash -c "mv Makefile.mv Makefile; 
if test 0 -ne \$RETURN ; 

echo 'build failed'; exit 1 ; fi"

g++-4.2 -arch x86_64 
-I/Library/Frameworks/R.framework/Resources/include

-I/Library/Frameworks/R.framework/Resources/include/x86_64  

-I/usr/local/include

  -DMAC_OS_X -Dassert\(expr\)= -
fPIC -I/Library/Frameworks/R.framework/
Resources

-I../threads -I../cluster 
-I/Library/Frameworks/R.framework/Resources/
include

-I.. -DEDGE_LIBRARY_VERSION=\"1.0.\"  
-D__STDC_LIMIT_MACROS -Wall -fPIC  

-g -O2
-c ProgressThread.cpp -o ProgressThread.o
gcc-4.2 -arch x86_64 -std=gnu99

-I/Library/Frameworks/R.framework/Resources/include

-I/Library/Frameworks/R.framework/Resources/include/x86_64  

-I/usr/local/include
  -DMAC_OS_X -Dassert\(expr\)= -fPIC 
-I/Library/Frameworks/R.framework/Resources

-I../threads -I../cluster -I/Library/Frameworks/R.framework/
Resources/include
-I.. -DEDGE_LIBRARY_VERSION=\"1.0.\"  
-D__STDC_LIMIT_MACROS -Wall -fPIC  

-g -O2
-c ProgressThreadDef.c -o ProgressThreadDef.o
gcc-4.2 -arch x86_64 -std=gnu99
-I/Library/Frameworks/R.framework/Resources/include

-I/Library/Frameworks/R.framework/Resources/include/x86_64  
-I/usr/local/include

  -DMAC_OS_X -Dassert\(expr\)= -fPIC 
-I/Library/Frameworks/R.framework/
Resources
-I../threads -I../cluster 
-I/Library/Frameworks/R.framework/

Resources/include
-I.. -DEDGE_LIBRARY_VERSION=\"1.0.\" 
 -D__STDC_LIMIT_MACROS -Wall

-fPIC  -g -O2
-c Clock.c -o Clock.o
g++-4.2 -arch x86_64 -dynamiclib 
-Wl,-headerpad_max_instal

_names -undefined

dynamic_lookup -single_module -multiply_defined suppress 

-L/usr/local/lib -o

progressthreads.so ProgressThread.o 
ProgressThreadDef.o Clock.o

-F/Library/Frameworks/R.framework/.. 
-framework R -Wl,-framework -Wl,CoreFoundation

ar -rsv libprogressthreads.a ProgressThread.o
 ProgressThreadDef.o Clock.o 

ar: creating archive libprogressthreads.a
a - ProgressThread.o
a - ProgressThreadDef.o
a - Clock.o
ranlib libprogressthreads.a
~/Desktop/EDGE/src
~/Desktop/EDGE/src/cluster ~/Desktop/EDGE/src
make[1]: *** No rule to make target 
`UnitTestRunner.cpp', needed by

`UnitTestRunner.o'.  Stop.
/bin/sh: line 0: pushd: cluster/TestFramework: 
No such file or directory

/bin/sh: line 0: pushd: cluster/Tests: 
No such file or directory

/bin/sh: line 0: pushd: threads/Tests:
 No such file or directory

~/Desktop/EDGE/src/cluster/tests 
~/Desktop/EDGE/src/cluster
 ~/Desktop/EDGE/src

g++ -arch i386 -g -I.. -I../TestFramework 
-I../../threads 

-D__STDC_LIMIT_MACROS
-ftrapv -c main.cpp

g++ -arch i386 -g -I.. -I../TestFramework -I../../threads 

-D__STDC_LIMIT_MACROS
-ftrapv -c VectorTestClasses.cpp
g++ -arch i386 -g -I.. -I../TestFramework -I../../threads 

-D__STDC_LIMIT_MACROS
-ftrapv -c DataIO.cpp
make[1]: *** No rule to make target 
`../TestFramework/libUnitTest.a', 

needed by
`runtests'.  Stop.

/bin/sh: line 0: pushd: ../help: 
No such file or directory

make: *** [all] Error 1


From cjpauw at gmail.com  Fri Nov 25 08:52:28 2011
From: cjpauw at gmail.com (christiaan pauw)
Date: Fri, 25 Nov 2011 09:52:28 +0200
Subject: [R-SIG-Mac] Cannot install RPostgreSQL from source but I have gcc
Message-ID: <CAJESSmawWm6yY-nY1JXyPP3_wF1Teu+Y5qAmPjWuSpcRpXv_xw@mail.gmail.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20111125/c1365dd2/attachment.pl>

From ripley at stats.ox.ac.uk  Fri Nov 25 10:29:26 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 25 Nov 2011 09:29:26 +0000
Subject: [R-SIG-Mac] Updating packages after updating R
In-Reply-To: <CAJESSmbKROAPn3Yz44vA59vS02pS-k8wKV5Ky1_V+OLTBKE7qA@mail.gmail.com>
References: <CAJESSmbKROAPn3Yz44vA59vS02pS-k8wKV5Ky1_V+OLTBKE7qA@mail.gmail.com>
Message-ID: <4ECF5FF6.6060206@stats.ox.ac.uk>

On 24/11/2011 16:17, christiaan pauw wrote:
> Hi Everybody
>
> I have updated to R 2.14 today from version 2.11 by installing the binary
> from http://cran.r-project.org/bin/macosx/.

As the posting guide points out, there are no such versions of R.  Have 
you read it?

> Is there an easy way to make use of the packages installed in an earlier
> version of R now that I have updated. Re-installing the packages will use
> up most of my bandwidth for the minth. I have thought of copying the
> contents of ..Versions/2.11/Resources/library to the coresponding 2.14
> directory but I am uncertian if this may not perhaps break something.

In most cases it will not work.  Packages with compiled code are tied 
(on Mac OS X) to a specific 2.x.* set of R versions.  Packages without 
may work, but many have been updated several times since 2.11.x, and 
needed to be to work with 2.14.0.

> Can anyone offer me advice?

Go to an Internet cafe and download them there.  All the CRAN packages 
are less than 2GB.

> regards
> Christiaan
>
> 	[[alternative HTML version deleted]]

It asked you not to send HTML, too.

> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595


From simon.urbanek at r-project.org  Fri Nov 25 15:14:40 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 25 Nov 2011 09:14:40 -0500
Subject: [R-SIG-Mac] Cannot install RPostgreSQL from source but I have
	gcc
In-Reply-To: <CAJESSmawWm6yY-nY1JXyPP3_wF1Teu+Y5qAmPjWuSpcRpXv_xw@mail.gmail.com>
References: <CAJESSmawWm6yY-nY1JXyPP3_wF1Teu+Y5qAmPjWuSpcRpXv_xw@mail.gmail.com>
Message-ID: <6873DAE5-0371-47AD-A43C-B8004B890214@r-project.org>


On Nov 25, 2011, at 2:52 AM, christiaan pauw wrote:

> Hi Everybody
> 
> 
> Im on Mac OS X 10.6.6
> 
> 
> $ sw_vers
> ProductName: Mac OS X
> ProductVersion: 10.6.6
> BuildVersion: 10J3210
> 
> 
> I am trying to install the latest version of JavaGD from source using the
> GUI Package & Data > Package Installer >CRAN (Sources) but get the
> following error.
> 

You'll need to install Xcode (see the Mac FAQ).


> trying URL '
> http://cran.za.r-project.org/src/contrib/RPostgreSQL_0.2-1.tar.gz'
> 
> Content type 'application/x-gzip' length 428050 bytes (418 Kb)
> 
> opened URL
> 
> ==================================================
> 
> downloaded 418 Kb
> 
> 
> * installing *source* package ?RPostgreSQL? ...
> 
> ** package ?RPostgreSQL? successfully unpacked and MD5 sums checked
> 
> checking for gcc... no
> 
> checking for cc... no
> 
> checking for cl.exe... no
> 
> configure: error: no acceptable C compiler found in $PATH
> 
> See `config.log' for more details.
> 
> ERROR: configuration failed for package ?RPostgreSQL?
> 
> * removing
> ?/Library/Frameworks/R.framework/Versions/2.14/Resources/library/RPostgreSQL?
> 
> 
> The message says "checking for gcc... no" but I have  gcc installed:
> (from terminal)
> $ which gcc
> /Developer/usr/bin/gcc
> 

It means you didn't install Xcode unix system tools. In that case you have to make sure they are on the PATH in the shell that you are using R CMD INSTALL on (again, see the FAQ)

BTW: is there any reason why you're not using the binaries? JavaGD is available as binary and PostgreSQL is not a dependency thereof ...

Cheers,
Simon



> How do I tell R where gcc is?
> 
> Can anyone guide me on how to resolve this. sessionInfo below
> 
> thanks in advance
> Christiaan
> 
>> sessionInfo()
> R version 2.14.0 (2011-10-31)
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> locale:
> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
> 
> attached base packages:
> [1] stats     graphics  grDevices utils     datasets  methods   base
> 
> loaded via a namespace (and not attached):
> [1] tools_2.14.0
> 
> 	[[alternative HTML version deleted]]
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac


From ripley at stats.ox.ac.uk  Fri Nov 25 15:55:05 2011
From: ripley at stats.ox.ac.uk (Prof Brian Ripley)
Date: Fri, 25 Nov 2011 14:55:05 +0000 (GMT)
Subject: [R-SIG-Mac] Cannot install RPostgreSQL from source but I have
 gcc
In-Reply-To: <6873DAE5-0371-47AD-A43C-B8004B890214@r-project.org>
References: <CAJESSmawWm6yY-nY1JXyPP3_wF1Teu+Y5qAmPjWuSpcRpXv_xw@mail.gmail.com>
	<6873DAE5-0371-47AD-A43C-B8004B890214@r-project.org>
Message-ID: <alpine.LFD.2.02.1111251448190.24034@toucan.stats.ox.ac.uk>

On Fri, 25 Nov 2011, Simon Urbanek wrote:

>
> On Nov 25, 2011, at 2:52 AM, christiaan pauw wrote:
>
>> Hi Everybody
>>
>>
>> Im on Mac OS X 10.6.6
>>
>>
>> $ sw_vers
>> ProductName: Mac OS X
>> ProductVersion: 10.6.6
>> BuildVersion: 10J3210
>>
>>
>> I am trying to install the latest version of JavaGD from source using the
>> GUI Package & Data > Package Installer >CRAN (Sources) but get the
>> following error.
>>
>
> You'll need to install Xcode (see the Mac FAQ).
>
>
>> trying URL '
>> http://cran.za.r-project.org/src/contrib/RPostgreSQL_0.2-1.tar.gz'
>>
>> Content type 'application/x-gzip' length 428050 bytes (418 Kb)
>>
>> opened URL
>>
>> ==================================================
>>
>> downloaded 418 Kb
>>
>>
>> * installing *source* package ?RPostgreSQL? ...
>>
>> ** package ?RPostgreSQL? successfully unpacked and MD5 sums checked
>>
>> checking for gcc... no
>>
>> checking for cc... no
>>
>> checking for cl.exe... no
>>
>> configure: error: no acceptable C compiler found in $PATH
>>
>> See `config.log' for more details.
>>
>> ERROR: configuration failed for package ?RPostgreSQL?
>>
>> * removing
>> ?/Library/Frameworks/R.framework/Versions/2.14/Resources/library/RPostgreSQL?
>>
>>
>> The message says "checking for gcc... no" but I have  gcc installed:
>> (from terminal)
>> $ which gcc
>> /Developer/usr/bin/gcc
>>
>
> It means you didn't install Xcode unix system tools. In that case 
> you have to make sure they are on the PATH in the shell that you are 
> using R CMD INSTALL on (again, see the FAQ)

A possible extra point: if R CMD INSTALL is being run from 
install.packages() and that is being run from R.app, it is the PATH 
setting of the R.app process that is most relevant. I set mine in the 
~/.Renviron file to get consistency between different R invocations.

If you want to set an environment variable for all applications 
(Windows-style!) then
http://developer.apple.com/library/mac/#qa/qa1067/_index.html
might be helpful.

>
> BTW: is there any reason why you're not using the binaries? JavaGD is available as binary and PostgreSQL is not a dependency thereof ...
>
> Cheers,
> Simon
>
>
>
>> How do I tell R where gcc is?
>>
>> Can anyone guide me on how to resolve this. sessionInfo below
>>
>> thanks in advance
>> Christiaan
>>
>>> sessionInfo()
>> R version 2.14.0 (2011-10-31)
>> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
>>
>> locale:
>> [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8
>>
>> attached base packages:
>> [1] stats     graphics  grDevices utils     datasets  methods   base
>>
>> loaded via a namespace (and not attached):
>> [1] tools_2.14.0
>>
>> 	[[alternative HTML version deleted]]
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at r-project.org
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

-- 
Brian D. Ripley,                  ripley at stats.ox.ac.uk
Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
University of Oxford,             Tel:  +44 1865 272861 (self)
1 South Parks Road,                     +44 1865 272866 (PA)
Oxford OX1 3TG, UK                Fax:  +44 1865 272595

From ruth at stats.ox.ac.uk  Sun Nov 27 22:39:39 2011
From: ruth at stats.ox.ac.uk (Ruth Ripley)
Date: Sun, 27 Nov 2011 21:39:39 +0000
Subject: [R-SIG-Mac] Valgrind on Snow Leopard or Lion
Message-ID: <4ED2AE1B.2000007@stats.ox.ac.uk>

I have been tying to get valgrind to run on Snow Leopard and Lion 
without much success. I get reports of errors but the process tends to 
hang before exiting. It only terminates occasionally after an error. 
Thus I cannot get leak reports.

For example: if ls.r contains the one line: ls()

R -d "valgrind --tool=memcheck" --no-save < ls.r

will produce the following and hang

==32176== Memcheck, a memory error detector
==32176== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
==32176== Using Valgrind-3.8.0.SVN and LibVEX; rerun with -h for 
copyright info
==32176== Command: 
/Library/Frameworks/R.framework/Resources/bin/exec/x86_64/R --vanilla
==32176==
==32176== Warning: ignored attempt to set SIGUSR2 handler in sigaction();
==32176==          the SIGUSR2 signal is used internally by Valgrind

R version 2.14.0 (2011-10-31)
Copyright (C) 2011 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

   Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> ls()
character(0)
>

valgrind --tool=memcheck ls

works fine. So an R problem rather than a valgrind one, I fear.

Any help would be greatly appreciated.

Thanks,

Ruth
-- 
Ruth M. Ripley,                         Email:ruth at stats.ox.ac.uk
Dept. of Statistics,                    http://www.stats.ox.ac.uk/~ruth/
University of Oxford,                   Tel:   01865 282857
1 South Parks Road, Oxford OX1 3TG, UK  Fax:   01865 272595


From simon.urbanek at r-project.org  Sun Nov 27 23:32:43 2011
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 27 Nov 2011 17:32:43 -0500
Subject: [R-SIG-Mac] Valgrind on Snow Leopard or Lion
In-Reply-To: <4ED2AE1B.2000007@stats.ox.ac.uk>
References: <4ED2AE1B.2000007@stats.ox.ac.uk>
Message-ID: <DE21E184-098C-4B82-B27B-583D14EA40AA@r-project.org>

Ruth,

On Nov 27, 2011, at 4:39 PM, Ruth Ripley wrote:

> I have been tying to get valgrind to run on Snow Leopard and Lion without much success.

Make sure you get the latest SVN build. Valgrind releases notoriously don't work on Darwin. I had no problem using valgrind (from SVN) on both Lion an Snow Leopard (I would never use pipes to feed the code, but I tested your case and it worked).

A few usage hints: for more reliable debugging it is helpful to compile R with --with-valgrind-instrumentation=2 and typically it's a good idea to use --dsymutil=yes --read-var-info=yes --track-origins=yes on valgrind (--tool=memcheck is the default).

Cheers,
Simon


> I get reports of errors but the process tends to hang before exiting. It only terminates occasionally after an error. Thus I cannot get leak reports.
> 
> For example: if ls.r contains the one line: ls()
> 
> R -d "valgrind --tool=memcheck" --no-save < ls.r
> 
> will produce the following and hang
> 
> ==32176== Memcheck, a memory error detector
> ==32176== Copyright (C) 2002-2011, and GNU GPL'd, by Julian Seward et al.
> ==32176== Using Valgrind-3.8.0.SVN and LibVEX; rerun with -h for copyright info
> ==32176== Command: /Library/Frameworks/R.framework/Resources/bin/exec/x86_64/R --vanilla
> ==32176==
> ==32176== Warning: ignored attempt to set SIGUSR2 handler in sigaction();
> ==32176==          the SIGUSR2 signal is used internally by Valgrind
> 
> R version 2.14.0 (2011-10-31)
> Copyright (C) 2011 The R Foundation for Statistical Computing
> ISBN 3-900051-07-0
> Platform: x86_64-apple-darwin9.8.0/x86_64 (64-bit)
> 
> R is free software and comes with ABSOLUTELY NO WARRANTY.
> You are welcome to redistribute it under certain conditions.
> Type 'license()' or 'licence()' for distribution details.
> 
>  Natural language support but running in an English locale
> 
> R is a collaborative project with many contributors.
> Type 'contributors()' for more information and
> 'citation()' on how to cite R or R packages in publications.
> 
> Type 'demo()' for some demos, 'help()' for on-line help, or
> 'help.start()' for an HTML browser interface to help.
> Type 'q()' to quit R.
> 
>> ls()
> character(0)
>> 
> 
> valgrind --tool=memcheck ls
> 
> works fine. So an R problem rather than a valgrind one, I fear.
> 
> Any help would be greatly appreciated.
> 
> Thanks,
> 
> Ruth
> -- 
> Ruth M. Ripley,                         Email:ruth at stats.ox.ac.uk
> Dept. of Statistics,                    http://www.stats.ox.ac.uk/~ruth/
> University of Oxford,                   Tel:   01865 282857
> 1 South Parks Road, Oxford OX1 3TG, UK  Fax:   01865 272595
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at r-project.org
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
> 


From devnull42 at nycap.rr.com  Sun Nov 27 19:55:55 2011
From: devnull42 at nycap.rr.com (Wayne Richter)
Date: Sun, 27 Nov 2011 13:55:55 -0500
Subject: [R-SIG-Mac] R.app Hangs with Any Error
Message-ID: <29215C78-D452-4F79-BD36-D4E53CE69B81@nycap.rr.com>

I just upgraded R from 2.12.1 to 2.14.0. I found that an error of any  
kind in the R Console window with cause a hang with the spinning beach  
ball. The hang can be caused by something as innocuous as mean(x) if x  
does not exist. The only other reference to this problem that I could  
find is at http://comments.gmane.org/gmane.comp.lang.r.mac/6587. I  
even tried completely removing R (rm -rf /Library/Frameworks/ 
R.framework /Applications/R.app) and doing a fresh install with the  
same result. I also tried with R 2.13.0 and 2.13.1 (R.app 1.4.0 and  
1.4.1, respectively, with the same problem so this has perhaps been  
going on for a while.

 > sessionInfo()
R version 2.14.0 (2011-10-31)
Platform: powerpc-apple-darwin9.8.0/ppc (32-bit)

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base


I hope this can be fixed. For me, I guess it's back to 2.12.2.


From f.calboli at imperial.ac.uk  Tue Nov 29 15:24:35 2011
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Tue, 29 Nov 2011 14:24:35 +0000
Subject: [R-SIG-Mac] changing the font of R.app
Message-ID: <52C1C931-0F2E-488F-A816-9BAD37299082@imperial.ac.uk>

As trivial as it is, I'd like to change *permanently* the font (or fonts in case output, error messages etc) on my R.app 64 bit GUI. I seem to be able to chnage the font with 'Format', but it only affects the font of input, and. erratically, the font of what is already on screen -- not always.

I googled the issue, and looked at the FAQ but I am still as puzzled as before. Any suggestion would me more tha welcome.

Best wishes,

Federico


--
Federico C. F. Calboli
Neuroepidemiology and Ageing Research
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


