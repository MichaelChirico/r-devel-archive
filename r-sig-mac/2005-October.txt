From macq at llnl.gov  Sat Oct  1 01:50:25 2005
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 30 Sep 2005 16:50:25 -0700
Subject: [R-SIG-Mac] 2.2.0 beta, small problem with the "do_download" test
Message-ID: <p06210206bf637af68e9a@[128.115.153.6]>

Earlier today I downloaded R 2.2.0 beta (I believe it was the latest 
at that time), R-beta_2005-09-29_r35712.tar.gz and built from source 
on an OS X Mac (10.3.9).

One of the tests run by 'make check' indicated a (small) problem.

I have a strong memory of seeing a post recently on this topic, or 
one closely related, but I can't find it. So, I apologize if this is 
a duplicate report.

-Don


 From tests/internet.Rout
>  # test do_download.
>  nrow(available.packages(contrib.url("http://cran.r-project.org")))
Warning: unable to access index for repository 
http://cran.r-project.org/bin/macosx/powerpc/contrib/2.2
[1] 0

>  version
          _                       
platform powerpc-apple-darwin7.9.0
arch     powerpc                 
os       darwin7.9.0             
system   powerpc, darwin7.9.0    
status   beta                    
major    2                       
minor    2.0                     
year     2005                    
month    09                      
day      29                      
svn rev  35712                   
language R                       



###### compare R 2.1.1 (run manually, today)

>  nrow(available.packages(contrib.url("http://cran.r-project.org")))
[1] 605
>
>  version
          _                       
platform powerpc-apple-darwin7.9.0
arch     powerpc                 
os       darwin7.9.0             
system   powerpc, darwin7.9.0    
status                           
major    2                       
minor    1.1                     
year     2005                    
month    06                      
day      20                      
language R

For 2.2.0 beta, configure was:
     ../source/configure --enable-R-shlib --enable-R-framework=no >& 
dhm.config.log

-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA


From HStevens at MUOhio.edu  Tue Oct  4 18:01:30 2005
From: HStevens at MUOhio.edu (Martin Henry H. Stevens)
Date: Tue, 4 Oct 2005 12:01:30 -0400
Subject: [R-SIG-Mac] Fwd: [R] Repeated crashes on Mac
References: <3F287540-EA6C-47E6-9FED-BD4D955EC28E@MUOhio.edu>
Message-ID: <86D3A3AC-5915-4E2E-9BD1-717502423ED6@MUOhio.edu>

Pardon cross-listed, but I just became aware of this list.


Begin forwarded message:

> From: "Martin Henry H. Stevens" <HStevens at muohio.edu>
> Date: October 4, 2005 11:30:45 AM EDT
> To: "'R-Help'" <r-help at stat.math.ethz.ch>
> Subject: [R] Repeated crashes on Mac
>
>
> Hi Folks,
> R v. 2.1.1, Mac OS 10.4.2
>
> I am just know getting repeated crashes when I try to edit script  
> files. I have the base package plus odesolve open.
> I have rebooted and still have problems. below I append the error  
> messages from the R console on the crash and also attached a  
> single  text file containing  two different Crash reports generated  
> automatically by some application in the OS (Tiger 10.4.2) for  
> reporting to Apple.
>
> From the R console:
> 2005-10-04 11:26:11.080 R[534] *** -[NSCFDictionary set]: selector  
> not recognized [self = 0x6eca1d0]
> 2005-10-04 11:26:11.080 R[534] *** -[NSCFDictionary set]: selector  
> not recognized [self = 0x6eca1d0]
> 2005-10-04 11:26:11.378 R[534] *** -[NSCFDictionary set]: selector  
> not recognized [self = 0x6eca1d0]
> 2005-10-04 11:26:11.378 R[534] *** -[NSCFDictionary set]: selector  
> not recognized [self = 0x6eca1d0]
> 2005-10-04 11:26:11.506 R[534] *** -[NSCFDictionary set]: selector  
> not recognized [self = 0x6eca1d0]
> 2005-10-04 11:26:11.506 R[534] *** -[NSCFDictionary set]: selector  
> not recognized [self = 0x6eca1d0]
> 2005-10-04 11:26:11.658 R[534] *** -[NSCFDictionary set]: selector  
> not recognized [self = 0x6eca1d0]
> 2005-10-04 11:26:11.658 R[534] *** -[NSCFDictionary set]: selector  
> not recognized [self = 0x6eca1d0]
> 2005-10-04 11:26:11.795 R[534] *** -[NSCFDictionary set]: selector  
> not recognized [self = 0x6eca1d0]
> 2005-10-04 11:26:11.795 R[534] *** -[NSCFDictionary set]: selector  
> not recognized [self = 0x6eca1d0]
> 2005-10-04 11:26:13.454 R[534] *** -[NSCFDictionary set]: selector  
> not recognized [self = 0x6eca1d0]
> 2005-10-04 11:26:13.454 R[534] *** -[NSCFDictionary set]: selector  
> not recognized [self = 0x6eca1d0]
> 2005-10-04 11:26:14.574 R[534] *** -[NSCFDictionary set]: selector  
> not recognized [self = 0x6eca1d0]
> 2005-10-04 11:26:14.574 R[534] *** -[NSCFDictionary set]: selector  
> not recognized [self = 0x6eca1d0]
> 2005-10-04 11:26:15.531 R[534] *** -[NSCFDictionary set]: selector  
> not recognized [self = 0x6eca1d0]
> 2005-10-04 11:26:15.531 R[534] *** -[NSCFDictionary set]: selector  
> not recognized [self = 0x6eca1d0]
> >
>
>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: Mac Crash Report.txt
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20051004/9b7bcddd/MacCrashReport-0001.txt
-------------- next part --------------
> Any thoughts?
>
> Thanks,
>
> Hank Stevens
>
>
> Dr. Martin Henry H. Stevens, Assistant Professor
> 338 Pearson Hall
> Botany Department
> Miami University
> Oxford, OH 45056
>
> Office: (513) 529-4206
> Lab: (513) 529-4262
> FAX: (513) 529-4243
> http://www.cas.muohio.edu/~stevenmh/
> http://www.muohio.edu/ecology/
> http://www.muohio.edu/botany/
> "E Pluribus Unum"
>
> ______________________________________________
> R-help at stat.math.ethz.ch mailing list
> https://stat.ethz.ch/mailman/listinfo/r-help
> PLEASE do read the posting guide! http://www.R-project.org/posting- 
> guide.html


From tbates at staffmail.ed.ac.uk  Wed Oct  5 20:59:39 2005
From: tbates at staffmail.ed.ac.uk (Timothy Bates)
Date: Wed, 05 Oct 2005 19:59:39 +0100
Subject: [R-SIG-Mac] rgl dependency?
Message-ID: <BF69E12B.2EDB9%tbates@staffmail.ed.ac.uk>

Is there a dependency of rgl (required to run rCmdr with 3-D plots) that I
am unaware of?

This is the error R throws when trying to load the rgl package (downloaded
most recent from CRAN)


Error in dyn.load(x, as.logical(local), as.logical(now)) :
    unable to load shared library
'/Library/Frameworks/R.framework/Resources/library/rgl/libs/rgl.so':
  dlopen(/Library/Frameworks/R.framework/Resources/library/rgl/libs/rgl.so,
6): Symbol not found: _glXSwapBuffers
  Referenced from: 
/Library/Frameworks/R.framework/Resources/library/rgl/libs/rgl.so
  Expected in: flat namespace
Error in library(rgl) : .First.lib failed for 'rgl'
Error in .C(symbol.C("rgl_quit"), success = FALSE, PACKAGE = "rgl") :
    "C" function name not in DLL for package 'rgl'


Dr Timothy Bates <tim.bates at ed.ac.uk>
Reader in Differential Psychology
University of Edinburgh
Dept Psychology
PPLS
7 George Square
EH8 9JZ


From timothy.c.bates at gmail.com  Wed Oct  5 21:10:00 2005
From: timothy.c.bates at gmail.com (Timothy Bates)
Date: Wed, 05 Oct 2005 20:10:00 +0100
Subject: [R-SIG-Mac] Crash on click on pdf help link
Message-ID: <BF69E398.2EDBD%timothy.c.bates@gmail.com>

Hi,
Here's a crash log from merely trying to click on a pdf link in the help of
a module.


Date/Time:      2005-10-05 20:07:40.972 +0100
OS Version:     10.4.2 (Build 8C46)
Report Version: 3

Command: R
Path:    /Applications/R.app/Contents/MacOS/R
Parent:  WindowServer [67]

Version: 1.12 (1622)

PID:    9598
Thread: 0

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000000

Thread 0 Crashed:
0   com.adobe.Acrobat.framework     0x25312fe8 AcroBundleThreadQuitProc + 84
1   com.adobe.Acrobat.framework     0x25312b28 CopiesPagesPDE_Terminate +
549800
2   com.adobe.Acrobat.framework     0x25312e2c RunAcrobatInBrowser + 56
3   com.adobe.acrobat.pdfviewer     0x17101a74 dyld_stub_pthread_key_create
+ 386776272
4   com.adobe.acrobat.pdfviewer     0x17101cb4 dyld_stub_pthread_key_create
+ 386776848
5   com.adobe.acrobat.pdfviewer     0x170ffae0 dyld_stub_pthread_key_create
+ 386768188
6   com.adobe.acrobat.pdfviewer     0x170ffc78 dyld_stub_pthread_key_create
+ 386768596
7   com.adobe.acrobat.pdfviewer     0x170fe810 dyld_stub_pthread_key_create
+ 386763372
8   com.adobe.acrobat.pdfviewer     0x170fd3c0 dyld_stub_pthread_key_create
+ 386758172
9   com.adobe.acrobat.pdfviewer     0x170f7bd0 dyld_stub_pthread_key_create
+ 386735660
10  com.adobe.acrobat.pdfviewer     0x17102288 dyld_stub_pthread_key_create
+ 386778340
11  com.adobe.acrobat.pdfviewer     0x171026e8 NP_GetEntryPoints + 260
12  com.apple.WebKit                0x958fb790 -[WebNetscapePluginPackage
load] + 2008
13  com.apple.WebKit                0x95919604
-[WebNetscapePluginDocumentView setDataSource:] + 236
14  com.apple.WebKit                0x958ef310 -[WebFrame(WebPrivate)
_transitionToCommitted:] + 1256
15  com.apple.WebKit                0x958ee950 -[WebDataSource(WebPrivate)
_commitIfReady:] + 284
16  com.apple.WebKit                0x958ee798 -[WebDataSource(WebPrivate)
_receivedData:] + 52
17  com.apple.WebKit                0x958ee68c -[WebMainResourceClient
addData:] + 84
18  com.apple.WebKit                0x958ee5b8
-[WebBaseResourceHandleDelegate didReceiveData:lengthReceived:] + 68
19  com.apple.WebKit                0x95931fcc -[WebMainResourceClient
didReceiveData:lengthReceived:] + 136
20  com.apple.WebKit                0x958ee554
-[WebBaseResourceHandleDelegate connection:didReceiveData:lengthReceived:] +
60
21  com.apple.Foundation            0x928b5538
-[NSURLConnection(NSURLConnectionInternal) _sendDidReceiveDataCallback] +
564
22  com.apple.Foundation            0x928b39ac
-[NSURLConnection(NSURLConnectionInternal) _sendCallbacks] + 440
23  com.apple.Foundation            0x928b3778 _sendCallbacks + 156
24  com.apple.CoreFoundation        0x9074bc8c __CFRunLoopDoSources0 + 384
25  com.apple.CoreFoundation        0x9074b1bc __CFRunLoopRun + 452
26  com.apple.CoreFoundation        0x9074ac3c CFRunLoopRunSpecific + 268
27  com.apple.HIToolbox             0x93129ac0 RunCurrentEventLoopInMode +
264
28  com.apple.HIToolbox             0x931290cc ReceiveNextEventCommon + 244
29  com.apple.HIToolbox             0x93128fc0
BlockUntilNextEventMatchingListInMode + 96
30  com.apple.AppKit                0x93623e44 _DPSNextEvent + 384
31  com.apple.AppKit                0x93623b08 -[NSApplication
nextEventMatchingMask:untilDate:inMode:dequeue:] + 116
32  org.R-project.R                 0x00008f0c -[RController
doProcessEvents:] + 96 (crt.c:300)
33  org.R-project.R                 0x00005990 -[RController
handleReadConsole:] + 84 (crt.c:300)
34  org.R-project.R                 0x0000badc Re_ReadConsole + 116
(crt.c:300)
35  org.R-project.R                 0x00014e6c RGUI_ReplIteration + 112
(crt.c:300)
36  org.R-project.R                 0x00014de0 RGUI_ReplConsole + 148
(crt.c:300)
37  org.R-project.R                 0x00014d34 run_REngineRmainloop + 156
(crt.c:300)
38  org.R-project.R                 0x0000e1b4 -[REngine runREPL] + 76
(crt.c:300)
39  com.apple.Foundation            0x92885cfc __NSFireTimer + 116
40  com.apple.CoreFoundation        0x9075ed10 __CFRunLoopDoTimer + 184
41  com.apple.CoreFoundation        0x9074b688 __CFRunLoopRun + 1680
42  com.apple.CoreFoundation        0x9074ac3c CFRunLoopRunSpecific + 268
43  com.apple.HIToolbox             0x93129ac0 RunCurrentEventLoopInMode +
264
44  com.apple.HIToolbox             0x931290cc ReceiveNextEventCommon + 244
45  com.apple.HIToolbox             0x93128fc0
BlockUntilNextEventMatchingListInMode + 96
46  com.apple.AppKit                0x93623e44 _DPSNextEvent + 384
47  com.apple.AppKit                0x93623b08 -[NSApplication
nextEventMatchingMask:untilDate:inMode:dequeue:] + 116
48  com.apple.AppKit                0x9362006c -[NSApplication run] + 472
49  com.apple.AppKit                0x937108bc NSApplicationMain + 452
50  org.R-project.R                 0x00002dd0 _start + 392 (crt.c:267)
51  dyld                            0x8fe01048 _dyld_start + 60

Thread 1:
0   libSystem.B.dylib               0x9000a738 mach_msg_trap + 8
1   libSystem.B.dylib               0x9000a67c mach_msg + 60
2   com.apple.CoreFoundation        0x9074b338 __CFRunLoopRun + 832
3   com.apple.CoreFoundation        0x9074ac3c CFRunLoopRunSpecific + 268
4   com.apple.Foundation            0x92878338 -[NSConnection
sendInvocation:] + 1468
5   com.apple.Foundation            0x92876dd4
-[NSObject(NSForwardInvocation) forward::] + 408
6   libobjc.A.dylib                 0x909b20d0 _objc_msgForward + 176
7   com.apple.Foundation            0x9287713c -[NSDistantObject
methodSignatureForSelector:] + 268
8   com.apple.Foundation            0x92876ca4
-[NSObject(NSForwardInvocation) forward::] + 104
9   libobjc.A.dylib                 0x909b20d0 _objc_msgForward + 176
10  org.R-project.R                 0x00004a14 -[RController readThread:] +
2244 (crt.c:300)
11  com.apple.Foundation            0x92882f34 forkThreadForFunction + 108
12  libSystem.B.dylib               0x9002c3b4 _pthread_body + 96

Thread 2:
0   libSystem.B.dylib               0x9002ca78 semaphore_wait_signal_trap +
8
1   libSystem.B.dylib               0x9003125c pthread_cond_wait + 508
2   com.apple.Foundation            0x9288a0a0 -[NSConditionLock
lockWhenCondition:] + 68
3   com.apple.AppKit                0x936c07f8 -[NSUIHeartBeat
_heartBeatThread:] + 324
4   com.apple.Foundation            0x92882f34 forkThreadForFunction + 108
5   libSystem.B.dylib               0x9002c3b4 _pthread_body + 96

Thread 3:
0   libSystem.B.dylib               0x9001efcc select + 12
1   libtcl8.4.dylib                 0x15fb8288 NotifierThreadProc + 412
(icplusplus.c:27)
2   libSystem.B.dylib               0x9002c3b4 _pthread_body + 96

Thread 4:
0   libSystem.B.dylib               0x9000a738 mach_msg_trap + 8
1   libSystem.B.dylib               0x9000a67c mach_msg + 60
2   com.apple.CoreFoundation        0x9074b338 __CFRunLoopRun + 832
3   com.apple.CoreFoundation        0x9074ac3c CFRunLoopRunSpecific + 268
4   com.apple.Foundation            0x928aa3e0
+[NSURLConnection(NSURLConnectionInternal) _resourceLoadLoop:] + 264
5   com.apple.Foundation            0x92882f34 forkThreadForFunction + 108
6   libSystem.B.dylib               0x9002c3b4 _pthread_body + 96

Thread 5:
0   libSystem.B.dylib               0x9000a738 mach_msg_trap + 8
1   libSystem.B.dylib               0x9000a67c mach_msg + 60
2   com.apple.CoreFoundation        0x9074b338 __CFRunLoopRun + 832
3   com.apple.CoreFoundation        0x9074ac3c CFRunLoopRunSpecific + 268
4   com.apple.Foundation            0x928ab520 +[NSURLCache
_diskCacheSyncLoop:] + 152
5   com.apple.Foundation            0x92882f34 forkThreadForFunction + 108
6   libSystem.B.dylib               0x9002c3b4 _pthread_body + 96

Thread 6:
0   libSystem.B.dylib               0x9000a738 mach_msg_trap + 8
1   libSystem.B.dylib               0x9000a67c mach_msg + 60
2   com.apple.CoreFoundation        0x9074b338 __CFRunLoopRun + 832
3   com.apple.CoreFoundation        0x9074ac3c CFRunLoopRunSpecific + 268
4   com.apple.Foundation            0x92891ec4 -[NSRunLoop
runMode:beforeDate:] + 172
5   com.apple.Foundation            0x92891dfc -[NSRunLoop run] + 76
6   com.apple.WebKit                0x958df758 +[WebFileDatabase _syncLoop:]
+ 176
7   com.apple.Foundation            0x92882f34 forkThreadForFunction + 108
8   libSystem.B.dylib               0x9002c3b4 _pthread_body + 96

Thread 0 crashed with PPC Thread State 64:
  srr0: 0x0000000025312fe8 srr1: 0x100000000000d030
vrsave: 0x0000000000000000
    cr: 0x42022414          xer: 0x0000000020000000   lr: 0x0000000025312fcc
ctr: 0x0000000025312df4
    r0: 0x0000000000000000   r1: 0x00000000bfffc690   r2: 0x0000000000000000
r3: 0x0000000018548020
    r4: 0x0000000018548020   r5: 0x00000000000003e8   r6: 0xffffffffffffffff
r7: 0x000000000000000e
    r8: 0x00000000bfffc2ef   r9: 0x0000000000000000  r10: 0x0000000090001ce0
r11: 0x00000000a0006428
   r12: 0x0000000025312df4  r13: 0x00000000a58dafb8  r14: 0x00000000a58dafb8
r15: 0x00000000a58dafb8
   r16: 0x00000000183e23fc  r17: 0x00000000a58dafb8  r18: 0x0000000000000000
r19: 0x0000000018548610
   r20: 0x00000000a072e5b4  r21: 0x0000000018548960  r22: 0x0000000018548730
r23: 0x0000000000000001
   r24: 0x00000000a072e5a4  r25: 0x0000000018548020  r26: 0x00000000185458b0
r27: 0x00000000185453b0
   r28: 0x00000000259a0fcc  r29: 0x0000000025312e10  r30: 0x0000000025312fcc
r31: 0x00000000bfffc690

Binary Images Description:
    0x1000 -    0x38fff org.R-project.R 1.12 (1622)
/Applications/R.app/Contents/MacOS/R
   0x52000 -    0x84fff libreadline.5.0.dylib
/Library/Frameworks/R.framework/Resources/lib/libreadline.5.0.dylib
   0x98000 -    0xc3fff libncurses.5.dylib     /usr/lib/libncurses.5.dylib
  0x205000 -   0x392fff libR.dylib
/Library/Frameworks/R.framework/Resources/lib/libR.dylib
 0x1520000 -  0x1523fff methods.so
/Library/Frameworks/R.framework/Resources/library/methods/libs/methods.so
 0x152b000 -  0x1532fff internet.so
/Library/Frameworks/R.framework/Resources/modules/internet.so
0x14954000 - 0x14955fff lattice.so
/Library/Frameworks/R.framework/Resources/library/lattice/libs/lattice.so
0x15b40000 - 0x15b55fff grDevices.so
/Library/Frameworks/R.framework/Resources/library/grDevices/libs/grDevices.s
o
0x15bfb000 - 0x15c26fff stats.so
/Library/Frameworks/R.framework/Resources/library/stats/libs/stats.so
0x15d2e000 - 0x15d34fff com.apple.DictionaryServiceComponent 1.0.0
/System/Library/Components/DictionaryService.component/Contents/MacOS/Dictio
naryService
0x15e98000 - 0x15ec6fff R_X11.so
/Library/Frameworks/R.framework/Resources/modules/R_X11.so
0x15f23000 - 0x15f24fff tools.so
/Library/Frameworks/R.framework/Resources/library/tools/libs/tools.so
0x15f34000 - 0x15f37fff tcltk.so
/Library/Frameworks/R.framework/Resources/library/tcltk/libs/tcltk.so
0x15f3f000 - 0x15fc4fff libtcl8.4.dylib     /usr/local/lib/libtcl8.4.dylib
0x15fe5000 - 0x15fe8fff nnet.so
/Library/Frameworks/R.framework/Resources/library/nnet/libs/nnet.so
0x15fef000 - 0x15ff2fff MASS.so
/Library/Frameworks/R.framework/Resources/library/MASS/libs/MASS.so
0x15ffa000 - 0x15ffafff lmtest.so
/Library/Frameworks/R.framework/Resources/library/lmtest/libs/lmtest.so
0x16808000 - 0x168b4fff libtk8.4.dylib     /usr/local/lib/libtk8.4.dylib
0x168dc000 - 0x168f8fff rgl.so
/Library/Frameworks/R.framework/Resources/library/rgl/libs/rgl.so
0x168dc000 - 0x168f8fff rgl.so
/Library/Frameworks/R.framework/Resources/library/rgl/libs/rgl.so
0x16b05000 - 0x16b14fff grid.so
/Library/Frameworks/R.framework/Resources/library/grid/libs/grid.so
0x16b99000 - 0x16ba3fff nlme.so
/Library/Frameworks/R.framework/Resources/library/nlme/libs/nlme.so
0x16bbd000 - 0x16bc1fff mvtnorm.so
/Library/Frameworks/R.framework/Resources/library/mvtnorm/libs/mvtnorm.so
0x16ff6000 - 0x1701afff mgcv.so
/Library/Frameworks/R.framework/Resources/library/mgcv/libs/mgcv.so
0x17063000 - 0x17075fff foreign.so
/Library/Frameworks/R.framework/Resources/library/foreign/libs/foreign.so
0x170f1000 - 0x1711bfff com.adobe.acrobat.pdfviewer 7.0.0
/Library/Internet 
Plug-Ins/AdobePDFViewer.plugin/Contents/MacOS/AdobePDFViewer
0x17135000 - 0x1716bfff com.adobe.selfhealer AdobeSelfHealing version 2.0
(2.0.0f4)    /Applications/Adobe Reader
7.0.app/Contents/Frameworks/AdobeSelfHealing.framework/AdobeSelfHealing
0x25000000 - 0x25812fff com.adobe.Acrobat.framework Acrobat version 7.0.0
(7.0.2)    /Applications/Adobe Reader
7.0.app/Contents/Frameworks/Acrobat.framework/Acrobat
0x8fe00000 - 0x8fe51fff dyld 43.1    /usr/lib/dyld
0x90000000 - 0x901a6fff libSystem.B.dylib     /usr/lib/libSystem.B.dylib
0x901fe000 - 0x90202fff libmathCommon.A.dylib
/usr/lib/system/libmathCommon.A.dylib
0x90204000 - 0x90257fff com.apple.CoreText 1.0.0 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/CoreText.framework/Versions/A/CoreText
0x90284000 - 0x90335fff ATS
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/ATS.framework/Versions/A/ATS
0x90364000 - 0x9069dfff com.apple.CoreGraphics 1.256.14 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/CoreGraphics.framework/Versions/A/CoreGraphics
0x90728000 - 0x90801fff com.apple.CoreFoundation 6.4.3 (368.12)
/System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundatio
n
0x9084a000 - 0x9084afff com.apple.CoreServices 10.4 (???)
/System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices
0x9084c000 - 0x9094efff libicucore.A.dylib     /usr/lib/libicucore.A.dylib
0x909a8000 - 0x90a2cfff libobjc.A.dylib     /usr/lib/libobjc.A.dylib
0x90a56000 - 0x90acafff com.apple.framework.IOKit 1.4 (???)
/System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x90ae4000 - 0x90af6fff libauto.dylib     /usr/lib/libauto.dylib
0x90afd000 - 0x90dc2fff com.apple.CoreServices.CarbonCore 10.4.1 (611.1)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Carb
onCore.framework/Versions/A/CarbonCore
0x90e25000 - 0x90ea5fff com.apple.CoreServices.OSServices 4.0 (4.0.0)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/OSSe
rvices.framework/Versions/A/OSServices
0x90eef000 - 0x90f2ffff com.apple.CFNetwork 10.4.2 (80)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CFNe
twork.framework/Versions/A/CFNetwork
0x90f44000 - 0x90f5cfff com.apple.WebServices 1.1.2 (1.1.0)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/WebS
ervicesCore.framework/Versions/A/WebServicesCore
0x90f6c000 - 0x90feafff com.apple.SearchKit 1.0.3
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Sear
chKit.framework/Versions/A/SearchKit
0x9102f000 - 0x91056fff com.apple.Metadata 1.1 (121.6)
/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Meta
data.framework/Versions/A/Metadata
0x91066000 - 0x91074fff libz.1.dylib     /usr/lib/libz.1.dylib
0x91077000 - 0x91239fff com.apple.security 4.0.1 (223)
/System/Library/Frameworks/Security.framework/Versions/A/Security
0x9133b000 - 0x91344fff com.apple.DiskArbitration 2.1
/System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitrat
ion
0x9134b000 - 0x91372fff com.apple.SystemConfiguration 1.8.0
/System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemCo
nfiguration
0x91385000 - 0x9138dfff libbsm.dylib     /usr/lib/libbsm.dylib
0x91391000 - 0x9140ffff com.apple.audio.CoreAudio 3.0.1
/System/Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio
0x9144d000 - 0x9144dfff com.apple.ApplicationServices 10.4 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Applicat
ionServices
0x9144f000 - 0x91487fff com.apple.AE 1.5 (297)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/AE.framework/Versions/A/AE
0x914a2000 - 0x9156dfff com.apple.ColorSync 4.4
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/ColorSync.framework/Versions/A/ColorSync
0x915c2000 - 0x91655fff com.apple.print.framework.PrintCore 4.0 (172.1)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/PrintCore.framework/Versions/A/PrintCore
0x9169b000 - 0x91758fff com.apple.QD 3.8.16 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/QD.framework/Versions/A/QD
0x91796000 - 0x917f4fff com.apple.HIServices 1.5.0 (???)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/HIServices.framework/Versions/A/HIServices
0x91822000 - 0x91845fff com.apple.LangAnalysis 1.6
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/LangAnalysis.framework/Versions/A/LangAnalysis
0x91859000 - 0x9187efff com.apple.FindByContent 1.5
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/FindByContent.framework/Versions/A/FindByContent
0x91891000 - 0x918d2fff com.apple.LaunchServices 10.4.3 (157)
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/LaunchServices.framework/Versions/A/LaunchServices
0x918ed000 - 0x91901fff com.apple.speech.synthesis.framework 3.3
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis
0x9190f000 - 0x91945fff com.apple.ImageIO.framework 1.0.2
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/ImageIO.framework/Versions/A/ImageIO
0x91959000 - 0x91a1ffff libcrypto.0.9.7.dylib
/usr/lib/libcrypto.0.9.7.dylib
0x91a6c000 - 0x91a81fff libcups.2.dylib     /usr/lib/libcups.2.dylib
0x91a86000 - 0x91aa2fff libJPEG.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib
0x91aa7000 - 0x91b16fff libJP2.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/ImageIO.framework/Versions/A/Resources/libJP2.dylib
0x91b2d000 - 0x91b31fff libGIF.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/ImageIO.framework/Versions/A/Resources/libGIF.dylib
0x91b33000 - 0x91b4bfff libRaw.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/ImageIO.framework/Versions/A/Resources/libRaw.dylib
0x91b4e000 - 0x91b91fff libTIFF.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/ImageIO.framework/Versions/A/Resources/libTIFF.dylib
0x91b98000 - 0x91bb1fff libPng.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/ImageIO.framework/Versions/A/Resources/libPng.dylib
0x91bb6000 - 0x91bb9fff libRadiance.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/ImageIO.framework/Versions/A/Resources/libRadiance.dylib
0x91bbb000 - 0x91bbbfff com.apple.Accelerate 1.1.1 (Accelerate 1.1.1)
/System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate
0x91bbd000 - 0x91ca7fff com.apple.vImage 2.0
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vImage
.framework/Versions/A/vImage
0x91caf000 - 0x91ccefff com.apple.Accelerate.vecLib 3.1.1 (vecLib 3.1.1)
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib
.framework/Versions/A/vecLib
0x91d3a000 - 0x91d5afff libmx.A.dylib     /usr/lib/libmx.A.dylib
0x91d60000 - 0x91dc5fff libvMisc.dylib
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib
.framework/Versions/A/libvMisc.dylib
0x91dcf000 - 0x91e61fff libvDSP.dylib
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib
.framework/Versions/A/libvDSP.dylib
0x91e7b000 - 0x9240bfff libBLAS.dylib
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib
.framework/Versions/A/libBLAS.dylib
0x92453000 - 0x92763fff libLAPACK.dylib
/System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib
.framework/Versions/A/libLAPACK.dylib
0x92790000 - 0x9281bfff com.apple.DesktopServices 1.3
/System/Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/D
esktopServicesPriv
0x9285d000 - 0x92a86fff com.apple.Foundation 6.4.1 (567.12)
/System/Library/Frameworks/Foundation.framework/Versions/C/Foundation
0x92ba4000 - 0x92c82fff libxml2.2.dylib     /usr/lib/libxml2.2.dylib
0x92ca2000 - 0x92d90fff libiconv.2.dylib     /usr/lib/libiconv.2.dylib
0x92da2000 - 0x92dc0fff libGL.dylib
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib
0x92dcb000 - 0x92e25fff libGLU.dylib
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.dyli
b
0x92e43000 - 0x92e43fff com.apple.Carbon 10.4 (???)
/System/Library/Frameworks/Carbon.framework/Versions/A/Carbon
0x92e45000 - 0x92e59fff com.apple.ImageCapture 3.0
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ImageCaptu
re.framework/Versions/A/ImageCapture
0x92e71000 - 0x92e81fff com.apple.speech.recognition.framework 3.4
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SpeechReco
gnition.framework/Versions/A/SpeechRecognition
0x92e8d000 - 0x92ea2fff com.apple.securityhi 2.0 (203)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SecurityHI
.framework/Versions/A/SecurityHI
0x92eb4000 - 0x92f3bfff com.apple.ink.framework 101.2 (69)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Ink.framew
ork/Versions/A/Ink
0x92f4f000 - 0x92f5afff com.apple.help 1.0.3 (32)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Help.frame
work/Versions/A/Help
0x92f64000 - 0x92f91fff com.apple.openscripting 1.2.2 (???)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/OpenScript
ing.framework/Versions/A/OpenScripting
0x92fab000 - 0x92fbbfff com.apple.print.framework.Print 4.0 (187)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.fram
ework/Versions/A/Print
0x92fc7000 - 0x9302dfff com.apple.htmlrendering 1.1.2
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HTMLRender
ing.framework/Versions/A/HTMLRendering
0x9305e000 - 0x930b0fff com.apple.NavigationServices 3.4.1 (3.4)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Navigation
Services.framework/Versions/A/NavigationServices
0x930dc000 - 0x930f9fff com.apple.audio.SoundManager 3.9
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CarbonSoun
d.framework/Versions/A/CarbonSound
0x9310b000 - 0x93118fff com.apple.CommonPanels 1.2.2 (73)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CommonPane
ls.framework/Versions/A/CommonPanels
0x93121000 - 0x93431fff com.apple.HIToolbox 1.4.3 (???)
/System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.
framework/Versions/A/HIToolbox
0x9357c000 - 0x93588fff com.apple.opengl 1.4.0
/System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL
0x9361a000 - 0x9361afff com.apple.Cocoa 6.4 (???)
/System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa
0x9361c000 - 0x93c4dfff com.apple.AppKit 6.4.2 (824.11)
/System/Library/Frameworks/AppKit.framework/Versions/C/AppKit
0x93fd9000 - 0x94043fff com.apple.CoreData 1.0 (46)
/System/Library/Frameworks/CoreData.framework/Versions/A/CoreData
0x9407b000 - 0x94145fff com.apple.audio.toolbox.AudioToolbox 1.4.1
/System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox
0x94199000 - 0x94199fff com.apple.audio.units.AudioUnit 1.4
/System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
0x9419b000 - 0x942fafff com.apple.QuartzCore 1.4.1
/System/Library/Frameworks/QuartzCore.framework/Versions/A/QuartzCore
0x94342000 - 0x9437ffff libsqlite3.0.dylib     /usr/lib/libsqlite3.0.dylib
0x94387000 - 0x943d2fff libGLImage.dylib
/System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.
dylib
0x94573000 - 0x94582fff libCGATS.A.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/CoreGraphics.framework/Versions/A/Resources/libCGATS.A.dylib
0x9458a000 - 0x94596fff libCSync.A.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib
0x945db000 - 0x945effff libRIP.A.dylib
/System/Library/Frameworks/ApplicationServices.framework/Versions/A/Framewor
ks/CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib
0x958dd000 - 0x95967fff com.apple.WebKit 412.7
/System/Library/Frameworks/WebKit.framework/Versions/A/WebKit
0x959c1000 - 0x95aa3fff com.apple.JavaScriptCore 412.5
/System/Library/Frameworks/WebKit.framework/Versions/A/Frameworks/JavaScript
Core.framework/Versions/A/JavaScriptCore
0x95af7000 - 0x95de9fff com.apple.WebCore 415.13.2
/System/Library/Frameworks/WebKit.framework/Versions/A/Frameworks/WebCore.fr
amework/Versions/A/WebCore
0x95f6c000 - 0x95f95fff libxslt.1.dylib     /usr/lib/libxslt.1.dylib
0x962b7000 - 0x962b9fff com.apple.ExceptionHandling 1.2 (???)
/System/Library/Frameworks/ExceptionHandling.framework/Versions/A/ExceptionH
andling
0x972a9000 - 0x972c8fff com.apple.vecLib 3.1.1 (vecLib 3.1.1)
/System/Library/Frameworks/vecLib.framework/Versions/A/vecLib
0x9afb4000 - 0x9afc3fff libICE.6.dylib     /usr/X11R6/lib/libICE.6.dylib
0x9afc9000 - 0x9afcefff libSM.6.dylib     /usr/X11R6/lib/libSM.6.dylib
0x9c9fc000 - 0x9cac4fff libX11.6.dylib     /usr/X11R6/lib/libX11.6.dylib


From putler at sauder.ubc.ca  Wed Oct  5 22:24:10 2005
From: putler at sauder.ubc.ca (Dan Putler)
Date: Wed, 5 Oct 2005 13:24:10 -0700
Subject: [R-SIG-Mac] rgl dependency?
In-Reply-To: <BF69E12B.2EDB9%tbates@staffmail.ed.ac.uk>
References: <BF69E12B.2EDB9%tbates@staffmail.ed.ac.uk>
Message-ID: <0E51647D-0427-403F-91E5-DEDF0F18DA6E@sauder.ubc.ca>

There shouldn't be. John Fox took out the dependency on rgl largely  
so it would run on OS X. I might post this to the r-sig-gui list as  
well since John monitors that list and not the r-sig-mac list. You do  
need rgl for 3-D plots, and getting rgl to run is a common thread in  
this list.

Dan Putler

On 5-Oct-05, at 11:59 AM, Timothy Bates wrote:

> Is there a dependency of rgl (required to run rCmdr with 3-D plots)  
> that I
> am unaware of?
>
> This is the error R throws when trying to load the rgl package  
> (downloaded
> most recent from CRAN)
>
>
> Error in dyn.load(x, as.logical(local), as.logical(now)) :
>     unable to load shared library
> '/Library/Frameworks/R.framework/Resources/library/rgl/libs/rgl.so':
>   dlopen(/Library/Frameworks/R.framework/Resources/library/rgl/libs/ 
> rgl.so,
> 6): Symbol not found: _glXSwapBuffers
>   Referenced from:
> /Library/Frameworks/R.framework/Resources/library/rgl/libs/rgl.so
>   Expected in: flat namespace
> Error in library(rgl) : .First.lib failed for 'rgl'
> Error in .C(symbol.C("rgl_quit"), success = FALSE, PACKAGE = "rgl") :
>     "C" function name not in DLL for package 'rgl'
>
>
> Dr Timothy Bates <tim.bates at ed.ac.uk>
> Reader in Differential Psychology
> University of Edinburgh
> Dept Psychology
> PPLS
> 7 George Square
> EH8 9JZ
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From tbates at staffmail.ed.ac.uk  Fri Oct  7 15:34:18 2005
From: tbates at staffmail.ed.ac.uk (Timothy Bates)
Date: Fri, 07 Oct 2005 14:34:18 +0100
Subject: [R-SIG-Mac] Default install: add tcl and Fortran by default?
Message-ID: <BF6C37EA.2EFCE%tbates@staffmail.ed.ac.uk>

Just a thought: Given that most users will not be pushed for disk space, why
not make the tcl and Fortran options part of the default install?

This will obviate many questions (tcl is needed for packages like Rcmdr,
Fortran if packages are from source (more rather than less likely for Mac
users), and can always be turned off by a simple click in custom install. No
cost, and probably quite a good gain, esp. for new users.

tim
 
Dr Timothy Bates <tim.bates at ed.ac.uk>
Reader in Differential Psychology
University of Edinburgh
Dept Psychology
PPLS
7 George Square
EH8 9JZ


From tbates at staffmail.ed.ac.uk  Fri Oct  7 15:37:28 2005
From: tbates at staffmail.ed.ac.uk (Timothy Bates)
Date: Fri, 07 Oct 2005 14:37:28 +0100
Subject: [R-SIG-Mac] Package management: use zip, accept tar,
	accept package folders
Message-ID: <BF6C38A8.2EFD0%tbates@staffmail.ed.ac.uk>

The package installer seems somewhat restrictive at present.

I downloaded the "rgl.tar.tgz" file, and Safari automatically unpacked it to
tar (helpful hint: to stop this, option click the link, and it will simply
be downloaded "as is" to the download folder, without post processing).

R then barfed on the .tar package, saying it was not a tgz, and then finding
a (spurious?) error on the tar call.In fact is was a valid tar, which untars
just fine.

Suggestion: look at the extension on local file imports, and behave
appropriately: if it is "tar" then skip the unzip action.

Also, .zip (the OS X archive default) is not a legal compression: only the
close relative tgz is accepted: is this unnecessarily restrictive?

Finally, installing from a  local package directory seems broken: if you
select the package folder, it is simply ignored (error = no package
selected) 
If you select the package folder's container, you get the error "no packages
found". Both seem buggy to me?

Tim


From tlumley at u.washington.edu  Fri Oct  7 18:35:11 2005
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Fri, 7 Oct 2005 09:35:11 -0700 (PDT)
Subject: [R-SIG-Mac] Package management: use zip, accept tar,
 accept package folders
In-Reply-To: <BF6C38A8.2EFD0%tbates@staffmail.ed.ac.uk>
References: <BF6C38A8.2EFD0%tbates@staffmail.ed.ac.uk>
Message-ID: <Pine.LNX.4.63a.0510070932500.7832@homer21.u.washington.edu>

On Fri, 7 Oct 2005, Timothy Bates wrote:
> Suggestion: look at the extension on local file imports, and behave
> appropriately: if it is "tar" then skip the unzip action.
>
> Also, .zip (the OS X archive default) is not a legal compression: only the
> close relative tgz is accepted: is this unnecessarily restrictive?

This is deliberate (or at least was back in the earlier Aqua GUI). The 
reason is that Mac binary packages are .tgz to distinguish them from .zip 
Windows binary and .tar.gz source packages.

> Finally, installing from a  local package directory seems broken: if you
> select the package folder, it is simply ignored (error = no package
> selected)
> If you select the package folder's container, you get the error "no packages
> found". Both seem buggy to me?

The earlier Aqua GUI had separate menu items to install from local 
tarballs or local folders. It's not as easy as it seems to combine them, 
since you then need a file selection dialog that can select either a 
directory or a file.

 	-thomas


From andreas.zankl at gmail.com  Fri Oct  7 22:34:54 2005
From: andreas.zankl at gmail.com (Andreas Zankl)
Date: Fri, 7 Oct 2005 22:34:54 +0200
Subject: [R-SIG-Mac] Error when updating Workspace Browser
Message-ID: <a06230901bf6c8b550a40@[155.105.162.16]>

When I open the Workspace Browser, it is empty. When I click the 
circling arrows to update the Browser, I get the following error:

Error in if (nm[i] == "") nm[i] <- paste("[[", i, "]]", sep = "") :
	missing value where TRUE/FALSE needed

My workspace contains the following objects:

ls()
  [1] "FCsmaller2"      "a"               "contrast.matrix" "design" 
"fit"
  [6] "fit_bis"         "last.warning"    "norm"            "norm_bis" 
"r"
[11] "raw"             "raw_bis"         "t"               "t2" 
"test"
[16] "volcano3"        "x"               "x2"              "y"

I use R GUI 1.12 (1622) with R 2.1.1 on MacOSX 10.4.2

Can you help?

Thanks
Andreas
-- 
PLEASE NOTE MY NEW EMAIL ADDRESS: ANDREAS.ZANKL at GMAIL.COM

--------------------------
Andreas Zankl, MD
Division of Molecular Pediatrics
Clinique Infantile 02/50
CHUV
Avenue Pierre Decker 2
CH-1011 Lausanne
Switzerland
Phone: +41-21-3143778
Fax: +41-21-3143546
Email: andreas.zankl at gmail.com


From simon.urbanek at r-project.org  Sat Oct  8 07:22:53 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 8 Oct 2005 01:22:53 -0400
Subject: [R-SIG-Mac] Default install: add tcl and Fortran by default?
In-Reply-To: <BF6C37EA.2EFCE%tbates@staffmail.ed.ac.uk>
References: <BF6C37EA.2EFCE%tbates@staffmail.ed.ac.uk>
Message-ID: <4F0CB3BC-57ED-45CF-BCD3-506F6EE4F25F@r-project.org>

Timothy,

On Oct 7, 2005, at 9:34 AM, Timothy Bates wrote:

> Just a thought: Given that most users will not be pushed for disk  
> space, why not make the tcl and Fortran options part of the default  
> install?

There were basically three reasons why we made it optional (and it  
was not the disk space):
a) there are more versions of Tcl/Tk and g77 around, so installing it  
over an existing could cause unwanted trouble in such a setup. If you  
know what you're doing, you know how to enable it.
b) default Mac OS X doesn't even include developer tools, so it's of  
no use to install g77 then. In that case you should stick with binary  
packages anyway. If you know about compiling packages from sources,  
then you know that you need a compiler so you can enable it.
c) both g77 and Tcl/Tk are not pure native applications - they go  
into /usr/local which shouldn't be needed on a Mac - it's the unix  
way to run things and R for Mac OS X tries to be as close to the "Mac  
spirit" as possible. This is, of course, arguable, because you can  
see OS X as a BSD unix with nice desktop or as a Mac operating system  
with unix under hood, but doing thing the "Apple way" has proven to  
be more reliable across OS versions.

However, I'm open for suggestions and changing the installation  
default is easy to do.

> This will obviate many questions (tcl is needed for packages like  
> Rcmdr, Fortran if packages are from source (more rather than less  
> likely for Mac users)

The rationale is that for Mac users it's very rare that you compile  
packages from source - as I said, it's not even possible with stock  
OS X.

> , and can always be turned off by a simple click in custom install.

It can as easily be turned on ;). The troubles were rather caused by  
wrong authentication of the g77 installer, but that's fixed in 2.2.0.

Cheers,
Simon


From pbaer at berkeley.edu  Sat Oct  8 11:00:01 2005
From: pbaer at berkeley.edu (Paul Baer)
Date: Sat, 8 Oct 2005 03:00:01 -0600
Subject: [R-SIG-Mac] Rprofile and Renvironment
Message-ID: <p06230900bf6d3aa4bc0d@[192.168.1.102]>

After puzzling over the?Rprofile documentation, I tried creating 
files called Renvironment and Rprofile in my home directory, and then 
.Rprofile and .Renvironment, and they never seemed to get read in. Is 
there some trick I don't know to setting up user and site profiles 
and environments on a Mac (using 10.4)?

--Paul


From deleeuw at stat.ucla.edu  Sun Oct  9 19:37:01 2005
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Sun, 9 Oct 2005 10:37:01 -0700
Subject: [R-SIG-Mac] RSPython
Message-ID: <F5488B66-9EB9-4C8B-9E68-B2A406D7DF0D@stat.ucla.edu>

Instead of the usual round of self-flagellation, I decided to try to  
install
RSPython today. NB: this is on OS X 10.4.3 with gcc-4.0.1, apple version
5226, and R 2.3.0 r35814.

Turns out one has to do some horrible things. Some to get it to install,
some to get it to run. To install you have to create a dummy libutil.a.
I did this by making a symbolic link libutil.a in /usr/local/lib to  
libpng.a.
Why not ?

Then you have to create another link in ${R_HOME}/libs to create
libR.so to point to libR.dylib.

To run you have to create another symbolic link RSInternal.so in $ 
{R_HOME}/library/RSPython/libs
pointing to RSPython.so.

Of course making copies instead of links will do as well.

This is enough to run (the bundled) Python from R, not R from Python  
(yet).

===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
.mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
homepages: http://gifi.stat.ucla.edu ++++++ http://www.cuddyvalley.org
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au


From Michael.Martin at anu.edu.au  Mon Oct 10 02:48:05 2005
From: Michael.Martin at anu.edu.au (Michael.Martin@anu.edu.au)
Date: Mon, 10 Oct 2005 10:48:05 +1000 (EST)
Subject: [R-SIG-Mac] Problem with lapack.so compiling R 2.2.0 from source
	under Tiger
Message-ID: <200510100048.j9A0m5ND019470@lira.anu.edu.au>

I am trying to compile R 2.2.0 from source under Tiger and am running into
problems with loading lapack.so when it tries to build the grDevices library.
I configured as follows:
./configure --with-blas='-framework vecLib' --with-lapack F77=gfortran
and ran make, which resulted in the following error:
Error in solve.default(rgb) : lapack routines cannot be loaded
In addition: Warning message:
unable to load shared library 'R-2.2.0/modules/lapack.so':
  dlopen(R-2.2.0/modules/lapack.so, 6): Symbol not found: _rcblas_zdotc_sub__
  Referenced from: R-2.2.0/modules/lapack.so
  Expected in: flat namespace 
Error: unable to load R code in package 'grDevices'
Execution halted
make[3]: *** [all] Error 1
make[2]: *** [R] Error 1
make[1]: *** [R] Error 1
make: *** [R] Error 1
I have tried to configure without lapack but this makes no difference (and 
I am unsure if this is wise under Mac OS X anyway), so I don't know what to
try next. Any advice gratefully received.

Many thanks,
Michael.

Michael Martin
School of Finance and Applied Statistics
Australian National University
Canberra, ACT 0200
Australia


From stefano.iacus at unimi.it  Mon Oct 10 09:26:58 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Mon, 10 Oct 2005 09:26:58 +0200
Subject: [R-SIG-Mac] Problem with lapack.so compiling R 2.2.0 from
	source	under Tiger
In-Reply-To: <200510100048.j9A0m5ND019470@lira.anu.edu.au>
References: <200510100048.j9A0m5ND019470@lira.anu.edu.au>
Message-ID: <036DE0E1-B9C2-48EC-8FE5-BC19AEA38594@unimi.it>

what is the deafult gcc compiler?
gcc --v

stefano
On 10/ott/05, at 02:48, Michael.Martin at anu.edu.au wrote:

> I am trying to compile R 2.2.0 from source under Tiger and am  
> running into
> problems with loading lapack.so when it tries to build the  
> grDevices library.
> I configured as follows:
> ./configure --with-blas='-framework vecLib' --with-lapack F77=gfortran
> and ran make, which resulted in the following error:
> Error in solve.default(rgb) : lapack routines cannot be loaded
> In addition: Warning message:
> unable to load shared library 'R-2.2.0/modules/lapack.so':
>   dlopen(R-2.2.0/modules/lapack.so, 6): Symbol not found:  
> _rcblas_zdotc_sub__
>   Referenced from: R-2.2.0/modules/lapack.so
>   Expected in: flat namespace
> Error: unable to load R code in package 'grDevices'
> Execution halted
> make[3]: *** [all] Error 1
> make[2]: *** [R] Error 1
> make[1]: *** [R] Error 1
> make: *** [R] Error 1
> I have tried to configure without lapack but this makes no  
> difference (and
> I am unsure if this is wise under Mac OS X anyway), so I don't know  
> what to
> try next. Any advice gratefully received.
>
> Many thanks,
> Michael.
>
> Michael Martin
> School of Finance and Applied Statistics
> Australian National University
> Canberra, ACT 0200
> Australia
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From chabotd at globetrotter.net  Mon Oct 10 13:43:51 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Mon, 10 Oct 2005 07:43:51 -0400
Subject: [R-SIG-Mac] possible bug in quartz?
In-Reply-To: <Pine.LNX.4.61.0510081813370.6666@gannet.stats>
References: <mailman.10.1128506401.6195.r-help@stat.math.ethz.ch>
	<EF4C19CB-AB0B-4A61-827C-9A491C11DCC7@globetrotter.net>
	<1128784599.4108.19.camel@localhost.localdomain>
	<Pine.LNX.4.61.0510081631370.5376@gannet.stats>
	<1128787129.4108.34.camel@localhost.localdomain>
	<670BD00B-F077-4780-A003-12F1FBC30DCE@globetrotter.net>
	<Pine.LNX.4.61.0510081813370.6666@gannet.stats>
Message-ID: <8391B10E-FE1A-4515-AE5B-D31F0B908D53@globetrotter.net>

Hi,

I recently asked a question on the general r-help list about how  
using xaxp in plots. In trying out a suggestion I found out that the  
following short program resulted in a plot that was different in  
quartz than on Windows. Mind you R2.2 was used on Windows and I used  
R2.1. However
Le 05-10-08 ? 13:21, Prof Brian Ripley a ?crit :

>> ...
>> Anyway it is too finicky, I will draw them myself. For instance,
>>
>> plot(1:100, xaxt="n")
>> par(xaxp=c(0, 100, 10))  # the value is reset at each plot
>> axis(1)
>>
>> Placed tick marks at intervals at 0, 10, ..., 100, as expected,  
>> but did not place a label under 100...
>>
>
> Does for me (2.2.0, Windows and X11 on Linux).  Might the text be  
> clipped on your unnamed device, so you need to set xpd?  (If so, it  
> will be clipped however you try to do this, and is an unrelated  
> local problem.)
>
> -- 
> Brian D. Ripley,                  ripley at stats.ox.ac.uk
> Professor of Applied Statistics,  http://www.stats.ox.ac.uk/~ripley/
> University of Oxford,             Tel:  +44 1865 272861 (self)
> 1 South Parks Road,                     +44 1865 272866 (PA)
> Oxford OX1 3TG, UK                Fax:  +44 1865 272595
>
I tried to check if clipping was involved by adding space for the  
right margin with
par(mai=c(0.7, 0.7, 0.5, 0.5))
to no avail. I tried changing xpd as suggested by Brian and this did  
not solve the issue.

Interestingly
par(mai=c(0.7, 0.7, 0.5, 0.5))
plot(1:100, xaxt="n")
par(xaxp=c(0, 100, 9))  # the value is reset at each plot
axis(1)

produces a label under "100" that has reads "100.00000" so my mai  
parameter was effective in preventing clipping in the second example,  
but not the first one.

The original program works fine with pdf so the problem seems limited  
to quartz.
pdf(file="test.pdf")
plot(1:100, xaxt="n")
par(xaxp=c(0, 100, 10))  # the value is reset at each plot
axis(1)
dev.off()

Can someone please test if this will be still true under R2.2?

Sincerely,

Denis Chabot


From simon.urbanek at r-project.org  Mon Oct 10 15:23:40 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 10 Oct 2005 09:23:40 -0400
Subject: [R-SIG-Mac] Rprofile and Renvironment
In-Reply-To: <p06230900bf6d3aa4bc0d@[192.168.1.102]>
References: <p06230900bf6d3aa4bc0d@[192.168.1.102]>
Message-ID: <A20B3B64-58EF-4DC0-84DC-C474390AF073@r-project.org>

Paul,

On Oct 8, 2005, at 5:00 AM, Paul Baer wrote:

> After puzzling over the?Rprofile documentation, I tried creating   
> files called Renvironment and Rprofile in my home directory,

those won't do anything - see the docs

> and then  .Rprofile and .Renvironment,

".Renvironment" is not correct, either - it should read  
".Renviron" (again, see docs).

> and they never seemed to get read in. Is there some trick I don't  
> know to setting up user and site profiles and environments on a Mac  
> (using 10.4)?

No, both work on a Mac as advertized.

Cheers,
Simon


From sdavis2 at mail.nih.gov  Mon Oct 10 17:08:24 2005
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Mon, 10 Oct 2005 11:08:24 -0400
Subject: [R-SIG-Mac] Problems compiling R-2.2.0 from source on macos 10.4.2
Message-ID: <BF6FFC28.1020B%sdavis2@mail.nih.gov>

I am trying to install R from source on macos 10.4.2.  Any suggestions as to
what the compile error below means and what I can do to fix it?

Thanks,
Sean


sdavis$ gcc --version
powerpc-apple-darwin8-gcc-4.0.0 (GCC) 4.0.0 20041026 (Apple Computer, Inc.
build 4061)

sdavis$ gfortran --version
GNU Fortran 95 (GCC 4.1.0 20050911 (experimental))

sdavis$ ./configure --with-blas='framework vecLib' --with-lapack --with-aqua
--with-R-shlib --with-extraincludedirs=/sw/include
--with-extralibdirs=/sw/lib
....
....
R is now configured for powerpc-apple-darwin8.2.0

  Source directory:          .
  Installation directory:    /Library/Frameworks

  C compiler:                gcc  -g -O2
  C++ compiler:              g++  -g -O2
  Fortran compiler:          gfortran  -g -O2

  Interfaces supported:      X11, aqua, tcltk
  External libraries:        readline
  Additional capabilities:   PNG, JPEG, iconv, MBCS, NLS
  Options enabled:           framework, R profiling

  Recommended packages:      yes

Make ends with:
gcc -dynamiclib -L/sw/lib -L/usr/local/lib -dynamiclib -install_name
libR.dylib -compatibility_version 2.2.0  -current_version 2.2.0
-headerpad_max_install_names -o libR.dylib  Rembedded.lo CConverters.lo
CommandLineArgs.lo Rdynload.lo Renviron.lo RNG.lo apply.lo arithmetic.lo
apse.lo array.lo attrib.lo base.lo bind.lo builtin.lo character.lo coerce.lo
colors.lo complex.lo connections.lo context.lo cov.lo cum.lo dcf.lo
datetime.lo debug.lo deparse.lo deriv.lo dotcode.lo dounzip.lo dstruct.lo
duplicate.lo engine.lo envir.lo errors.lo eval.lo format.lo fourier.lo
gevents.lo gram.lo gram-ex.lo graphics.lo identical.lo internet.lo
iosupport.lo lapack.lo list.lo logic.lo main.lo mapply.lo match.lo memory.lo
model.lo names.lo objects.lo optim.lo optimize.lo options.lo par.lo paste.lo
pcre.lo platform.lo plot.lo plot3d.lo plotmath.lo print.lo printarray.lo
printvector.lo printutils.lo qsort.lo random.lo regex.lo registration.lo
relop.lo saveload.lo scan.lo seq.lo serialize.lo size.lo sort.lo source.lo
split.lo sprintf.lo startup.lo subassign.lo subscript.lo subset.lo
summary.lo sysutils.lo unique.lo util.lo version.lo vfonts.lo xxxpr.lo `ls
../appl/*.lo ../nmath/*.lo ../unix/*.lo  2>/dev/null`
-L/usr/local/gfortran/lib/gcc/powerpc-apple-darwin8.2.0/4.1.0
-L/usr/local/gfortran/lib -lgfortran -lgcc_s -lSystemStubs -lSystem
../extra/zlib/libz.a ../extra/bzip2/libbz2.a ../extra/pcre/libpcre.a  -lintl
-liconv -lreadline  -lm -liconv
ld: warning multiple definitions of symbol _locale_charset
/sw/lib/libiconv.dylib(localcharset.o) definition of _locale_charset
/sw/lib/libintl.dylib(localcharset.lo) definition of _locale_charset
ld: warning multiple definitions of symbol _signgam
../nmath/lgamma.lo definition of _signgam in section (__DATA,__common)
/usr/lib/gcc/powerpc-apple-darwin8/4.0.0/../../../libSystem.dylib(gamma9.o)
definition of _signgam
ld: common symbols not allowed with MH_DYLIB output format with the
-multi_module option
/usr/local/gfortran/lib/libgfortran.a(lock.o) definition of common
__gfortran_ioparm (size 248)
/usr/local/gfortran/lib/libgfortran.a(compile_options.o) definition of
common __gfortrani_compile_options (size 8)
/usr/local/gfortran/lib/libgfortran.a(environ.o) definition of common
__gfortrani_options (size 92)
/usr/local/gfortran/lib/libgfortran.a(lock.o) private external definition of
common __gfortrani_g (size 824)
/usr/local/gfortran/lib/libgfortran.a(lock.o) private external definition of
common __gfortrani_ionml (size 4)
/usr/local/gfortran/lib/libgfortran.a(transfer.o) private external
definition of common __gfortrani_scratch (size 300)
/usr/bin/libtool: internal link edit command failed
make[3]: *** [libR.dylib] Error 1
make[2]: *** [R] Error 2
make[1]: *** [R] Error 1
make: *** [R] Error 1


From deleeuw at stat.ucla.edu  Mon Oct 10 17:24:29 2005
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Mon, 10 Oct 2005 08:24:29 -0700
Subject: [R-SIG-Mac] Problems compiling R-2.2.0 from source on macos
	10.4.2
In-Reply-To: <BF6FFC28.1020B%sdavis2@mail.nih.gov>
References: <BF6FFC28.1020B%sdavis2@mail.nih.gov>
Message-ID: <82C863A4-B1E8-4ADB-B09C-C61BB880AD2B@stat.ucla.edu>

where does your gfortran come from ? it is probably not a good idea  
to mix
4.0.0 and 4.1.0. i have been using 4.0.1 for both from apple cvs without
problems

-- j.

On Oct 10, 2005, at 8:08 , Sean Davis wrote:

> I am trying to install R from source on macos 10.4.2.  Any  
> suggestions as to
> what the compile error below means and what I can do to fix it?
>
> Thanks,
> Sean
>
>
> sdavis$ gcc --version
> powerpc-apple-darwin8-gcc-4.0.0 (GCC) 4.0.0 20041026 (Apple  
> Computer, Inc.
> build 4061)
>
> sdavis$ gfortran --version
> GNU Fortran 95 (GCC 4.1.0 20050911 (experimental))
>
> sdavis$ ./configure --with-blas='framework vecLib' --with-lapack -- 
> with-aqua
> --with-R-shlib --with-extraincludedirs=/sw/include
> --with-extralibdirs=/sw/lib
> ....
> ....
> R is now configured for powerpc-apple-darwin8.2.0
>
>   Source directory:          .
>   Installation directory:    /Library/Frameworks
>
>   C compiler:                gcc  -g -O2
>   C++ compiler:              g++  -g -O2
>   Fortran compiler:          gfortran  -g -O2
>
>   Interfaces supported:      X11, aqua, tcltk
>   External libraries:        readline
>   Additional capabilities:   PNG, JPEG, iconv, MBCS, NLS
>   Options enabled:           framework, R profiling
>
>   Recommended packages:      yes
>
> Make ends with:
> gcc -dynamiclib -L/sw/lib -L/usr/local/lib -dynamiclib -install_name
> libR.dylib -compatibility_version 2.2.0  -current_version 2.2.0
> -headerpad_max_install_names -o libR.dylib  Rembedded.lo  
> CConverters.lo
> CommandLineArgs.lo Rdynload.lo Renviron.lo RNG.lo apply.lo  
> arithmetic.lo
> apse.lo array.lo attrib.lo base.lo bind.lo builtin.lo character.lo  
> coerce.lo
> colors.lo complex.lo connections.lo context.lo cov.lo cum.lo dcf.lo
> datetime.lo debug.lo deparse.lo deriv.lo dotcode.lo dounzip.lo  
> dstruct.lo
> duplicate.lo engine.lo envir.lo errors.lo eval.lo format.lo fourier.lo
> gevents.lo gram.lo gram-ex.lo graphics.lo identical.lo internet.lo
> iosupport.lo lapack.lo list.lo logic.lo main.lo mapply.lo match.lo  
> memory.lo
> model.lo names.lo objects.lo optim.lo optimize.lo options.lo par.lo  
> paste.lo
> pcre.lo platform.lo plot.lo plot3d.lo plotmath.lo print.lo  
> printarray.lo
> printvector.lo printutils.lo qsort.lo random.lo regex.lo  
> registration.lo
> relop.lo saveload.lo scan.lo seq.lo serialize.lo size.lo sort.lo  
> source.lo
> split.lo sprintf.lo startup.lo subassign.lo subscript.lo subset.lo
> summary.lo sysutils.lo unique.lo util.lo version.lo vfonts.lo  
> xxxpr.lo `ls
> ../appl/*.lo ../nmath/*.lo ../unix/*.lo  2>/dev/null`
> -L/usr/local/gfortran/lib/gcc/powerpc-apple-darwin8.2.0/4.1.0
> -L/usr/local/gfortran/lib -lgfortran -lgcc_s -lSystemStubs -lSystem
> ../extra/zlib/libz.a ../extra/bzip2/libbz2.a ../extra/pcre/ 
> libpcre.a  -lintl
> -liconv -lreadline  -lm -liconv
> ld: warning multiple definitions of symbol _locale_charset
> /sw/lib/libiconv.dylib(localcharset.o) definition of _locale_charset
> /sw/lib/libintl.dylib(localcharset.lo) definition of _locale_charset
> ld: warning multiple definitions of symbol _signgam
> ../nmath/lgamma.lo definition of _signgam in section (__DATA,__common)
> /usr/lib/gcc/powerpc-apple-darwin8/4.0.0/../../../libSystem.dylib 
> (gamma9.o)
> definition of _signgam
> ld: common symbols not allowed with MH_DYLIB output format with the
> -multi_module option
> /usr/local/gfortran/lib/libgfortran.a(lock.o) definition of common
> __gfortran_ioparm (size 248)
> /usr/local/gfortran/lib/libgfortran.a(compile_options.o) definition of
> common __gfortrani_compile_options (size 8)
> /usr/local/gfortran/lib/libgfortran.a(environ.o) definition of common
> __gfortrani_options (size 92)
> /usr/local/gfortran/lib/libgfortran.a(lock.o) private external  
> definition of
> common __gfortrani_g (size 824)
> /usr/local/gfortran/lib/libgfortran.a(lock.o) private external  
> definition of
> common __gfortrani_ionml (size 4)
> /usr/local/gfortran/lib/libgfortran.a(transfer.o) private external
> definition of common __gfortrani_scratch (size 300)
> /usr/bin/libtool: internal link edit command failed
> make[3]: *** [libR.dylib] Error 1
> make[2]: *** [R] Error 2
> make[1]: *** [R] Error 1
> make: *** [R] Error 1
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
.mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
homepages: http://gifi.stat.ucla.edu ++++++ http://www.cuddyvalley.org
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au


From sdavis2 at mail.nih.gov  Mon Oct 10 18:25:49 2005
From: sdavis2 at mail.nih.gov (Sean Davis)
Date: Mon, 10 Oct 2005 12:25:49 -0400
Subject: [R-SIG-Mac] Problems compiling R-2.2.0 from source on
	macos	10.4.2
In-Reply-To: <82C863A4-B1E8-4ADB-B09C-C61BB880AD2B@stat.ucla.edu>
Message-ID: <BF700E4D.10248%sdavis2@mail.nih.gov>

On 10/10/05 11:24 AM, "Jan de Leeuw" <deleeuw at stat.ucla.edu> wrote:

> where does your gfortran come from ? it is probably not a good idea
> to mix
> 4.0.0 and 4.1.0. i have been using 4.0.1 for both from apple cvs without
> problems

Jan,

Thanks for pointing that out.  I have found gcc in CVS, but I don't see
gfortran in apple CVS.  What am I missing?

Thanks,
Sean


From fparlamis at mac.com  Mon Oct 10 20:57:20 2005
From: fparlamis at mac.com (Parlamis Franklin)
Date: Mon, 10 Oct 2005 08:57:20 -1000
Subject: [R-SIG-Mac] X11?
Message-ID: <4070CD0A-B3DD-46F3-B4F2-D63461E5184F@mac.com>

I installed R from binaries, using R-2.1.1.dmg.  I also installed  
R.app 1.12 but I cannot recall where I got it from (I assume it was  
in the aforementioned binary, because I do not recall building  
anything from sources).

When I open R.app and run a source("~/somefile") command to read in  
code from a source file, I get the following warning:

         Warning message:
         unable to load shared library '/Library/Frameworks/ 
R.framework/Resources/modules/R_X11.so':
           dlopen(/Library/Frameworks/R.framework/Resources/modules/ 
R_X11.so, 6): Library not loaded: /usr/X11R6/lib/libSM.6.dylib
           Referenced from: /Library/Frameworks/R.framework/Resources/ 
modules/R_X11.so
           Reason: image not found

I also get this message when attempting to run other commands.  The  
file "R_X11.so" is on my system, but the file "libSM.6.dylib" is not.  
although there are plenty of other files, including one called  
"libSM.a", in the referenced folder.

I think I may have installed xCode after the R installation, and I do  
not recall ever installing the X11 server from xCode or the fortran  
compiler often referenced in the documentation, for that matter.

I have tried reading through the Wiki, but much of it refers to the  
source build, and it is not clear to me what steps are handled for me  
in the binary distribution and what I still need to do.

Any advice would be appreciated.


From deleeuw at stat.ucla.edu  Mon Oct 10 21:13:31 2005
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Mon, 10 Oct 2005 12:13:31 -0700
Subject: [R-SIG-Mac] X11?
In-Reply-To: <4070CD0A-B3DD-46F3-B4F2-D63461E5184F@mac.com>
References: <4070CD0A-B3DD-46F3-B4F2-D63461E5184F@mac.com>
Message-ID: <EA9BD1B1-A8B8-47F8-9CE5-5A69716932CF@stat.ucla.edu>

If you are on Tiger, reinstall X11 from installation disk. Otherwise
download and install from

http://www.apple.com/downloads/macosx/apple/x11formacosx.html


On Oct 10, 2005, at 11:57 , Parlamis Franklin wrote:

> I installed R from binaries, using R-2.1.1.dmg.  I also installed
> R.app 1.12 but I cannot recall where I got it from (I assume it was
> in the aforementioned binary, because I do not recall building
> anything from sources).
>
> When I open R.app and run a source("~/somefile") command to read in
> code from a source file, I get the following warning:
>
>          Warning message:
>          unable to load shared library '/Library/Frameworks/
> R.framework/Resources/modules/R_X11.so':
>            dlopen(/Library/Frameworks/R.framework/Resources/modules/
> R_X11.so, 6): Library not loaded: /usr/X11R6/lib/libSM.6.dylib
>            Referenced from: /Library/Frameworks/R.framework/Resources/
> modules/R_X11.so
>            Reason: image not found
>
> I also get this message when attempting to run other commands.  The
> file "R_X11.so" is on my system, but the file "libSM.6.dylib" is not.
> although there are plenty of other files, including one called
> "libSM.a", in the referenced folder.
>
> I think I may have installed xCode after the R installation, and I do
> not recall ever installing the X11 server from xCode or the fortran
> compiler often referenced in the documentation, for that matter.
>
> I have tried reading through the Wiki, but much of it refers to the
> source build, and it is not clear to me what steps are handled for me
> in the binary distribution and what I still need to do.
>
> Any advice would be appreciated.
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
.mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
homepages: http://gifi.stat.ucla.edu ++++++ http://www.cuddyvalley.org
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au


From canteri at itc.it  Tue Oct 11 15:22:31 2005
From: canteri at itc.it (Roberto Canteri)
Date: Tue, 11 Oct 2005 15:22:31 +0200
Subject: [R-SIG-Mac] Problem with lapack.so compiling R 2.2.0 from source
	under Tiger
Message-ID: <83ECE58C-8949-48D9-94DE-4899593D3C05@itc.it>

Hi,
     I am facing with the same problem as in the subject even if my  
configure is sligthly different. In any case the make error is  
exactly the same. Here my gcc and fortran versions:

gcc --v
Using built-in specs.
Target: powerpc-apple-darwin8
Configured with: /private/var/tmp/gcc/gcc-5026.obj~19/src/configure -- 
disable-checking --prefix=/usr --mandir=/share/man --enable- 
languages=c,objc,c++,obj-c++ --program-transform-name=/^[cg][^+.-]*$/ 
s/$/-4.0/ --with-gxx-include-dir=/include/gcc/darwin/4.0/c++ -- 
build=powerpc-apple-darwin8 --host=powerpc-apple-darwin8 -- 
target=powerpc-apple-darwin8
Thread model: posix
gcc version 4.0.0 (Apple Computer, Inc. build 5026)

gfortran --v
Using built-in specs.
Target: powerpc-apple-darwin8
Configured with: /Build/apple/gcc/build/obj/src/configure --disable- 
checking --prefix=/usr --mandir=/share/man --enable-languages=c,objc,c 
++,obj-c++,f95 --program-transform-name=/^[cg][^+.-]*$/s/$/-4.0/ -- 
with-gxx-include-dir=/include/gcc/darwin/4.0/c++ --build=powerpc- 
apple-darwin8 --host=powerpc-apple-darwin8 --target=powerpc-apple- 
darwin8
Thread model: posix
gcc version 4.0.0 (Apple Computer, Inc. build 5202)


Many thanks in advance for any help.
Roberto


From w.northcott at internode.on.net  Wed Oct 12 01:10:56 2005
From: w.northcott at internode.on.net (Bill Northcott)
Date: Wed, 12 Oct 2005 09:10:56 +1000
Subject: [R-SIG-Mac] Problems compiling R-2.2.0 from source on macos
	10.4.2
In-Reply-To: <mailman.1.1129024800.1790.r-sig-mac@stat.math.ethz.ch>
References: <mailman.1.1129024800.1790.r-sig-mac@stat.math.ethz.ch>
Message-ID: <49159857-F151-44F1-A279-297A412FC194@internode.on.net>

On 11/10/2005, at 8:00 PM, Sean Davis  wrote:
> I am trying to install R from source on macos 10.4.2.  Any  
> suggestions as to
> what the compile error below means and what I can do to fix it?

> stuff removed

> ld: common symbols not allowed with MH_DYLIB output format with the
> -multi_module option
> /usr/local/gfortran/lib/libgfortran.a(lock.o) definition of common
> __gfortran_ioparm (size 248)
> /usr/local/gfortran/lib/libgfortran.a(compile_options.o) definition of
> common __gfortrani_compile_options (size 8)
> /usr/local/gfortran/lib/libgfortran.a(environ.o) definition of common
> __gfortrani_options (size 92)
> /usr/local/gfortran/lib/libgfortran.a(lock.o) private external  
> definition of
> common __gfortrani_g (size 824)
> /usr/local/gfortran/lib/libgfortran.a(lock.o) private external  
> definition of
> common __gfortrani_ionml (size 4)

This is your problem.  Common symbols are not allowed in dylibs.

All your compile commands during the build should contain the '-fno- 
common' flag.  There must be some which are wrong.  Have a search of  
the build log and send a few of the compile lines which don't have  
the flag.  That might enable us to see where it breaks.

Also you may well have compiler compatibility issues as Jan  
suggests.  I would be fairly sure that the 4.1.x version of gfortran  
has issues with the gcc-4.0.x as a driver.   You are using a well out  
of date version of Apple's gcc-4.  The current shipping Xcode 2.1/2.2  
is 5026.

>
> Thanks for pointing that out.  I have found gcc in CVS, but I don't  
> see
> gfortran in apple CVS.  What am I missing?

If you want gcc code get it from the main gcc cvs (soon to be  
Subversion) repository.  See instructions at gcc.gnu.org.
To get Apple compiler code use a tag like apple-gcc-5026, which will  
get you the source for the current release Apple compiler.  Current  
experimental code has tags like apple-gcc-52XX.

These sources include the source for gfortran.  The code is in the  
gcc/fortran and libgfortran directories. To build it you add 'f95' to  
the enable-compilers option around line 102 of the build gcc script.   
You will also need the GMP library and if you need to use a G5 for  
the build unless you want to patch the configure script.  Finally  
when the build completes, you need to get the run time libraries in  
the right place.

You can find a ready built Apple gcc 5026 with gfortran at  
www.swarm.org.  I hope to update that in the near future to use the  
4.0.2 release gfortran which fixes a big heap of bugs.

Bill Northcott


From simon.urbanek at r-project.org  Wed Oct 12 17:18:15 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 12 Oct 2005 11:18:15 -0400
Subject: [R-SIG-Mac] Problem with lapack.so compiling R 2.2.0 from
	source under Tiger
In-Reply-To: <200510100048.j9A0m5ND019470@lira.anu.edu.au>
References: <200510100048.j9A0m5ND019470@lira.anu.edu.au>
Message-ID: <2A249E48-E06A-43F2-B2CE-F43808AB15CF@r-project.org>

Michael, Roberto,

On Oct 9, 2005, at 8:48 PM, Michael.Martin at anu.edu.au wrote:

> I am trying to compile R 2.2.0 from source under Tiger and am  
> running into
> problems with loading lapack.so when it tries to build the  
> grDevices library.
> I configured as follows:
> ./configure --with-blas='-framework vecLib' --with-lapack F77=gfortran
> and ran make, which resulted in the following error:
> Error in solve.default(rgb) : lapack routines cannot be loaded
> In addition: Warning message:
> unable to load shared library 'R-2.2.0/modules/lapack.so':
>   dlopen(R-2.2.0/modules/lapack.so, 6): Symbol not found:  
> _rcblas_zdotc_sub__
>   Referenced from: R-2.2.0/modules/lapack.so
>   Expected in: flat namespace

It is not quite clear to me why this sometimes happens - it seems to  
depend on the gcc/gfortran versions, but for some strange reason  
gfortran wants two underscores appended. Until I figure out the exact  
circumstances, please use the following patch if you get exactly the  
error above:

diff -ur R-2.2.0/src/modules/lapack/vecLibg95c.c R-2.2.0-p/src/ 
modules/lapack/vecLibg95c.c
--- R-2.2.0/src/modules/lapack/vecLibg95c.c     2005-09-07  
10:53:32.000000000 -0400
+++ R-2.2.0-p/src/modules/lapack/vecLibg95c.c   2005-10-12  
11:07:18.000000000 -0400
@@ -2,7 +2,7 @@
#include <vecLib/vecLib.h>
#ifdef HAVE_F77_UNDERSCORE
-# define F77_SYMBOL(x)   x ## _
+# define F77_SYMBOL(x)   x ## __
#else
# define F77_SYMBOL(x)   x
#endif

Again, as a side-note - we still discourage the use of gfortran 4.0.x  
due to unresolved issues and slight speed penalty - unless you need  
64-bit version of R we recommend the use of gcc 3.x + g77.

Cheers,
Simon


From w.northcott at unsw.edu.au  Thu Oct 13 01:04:57 2005
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Thu, 13 Oct 2005 09:04:57 +1000
Subject: [R-SIG-Mac] Problem with lapack.so compiling R 2.2.0 from
	source	under Tiger
In-Reply-To: <mailman.1.1129111200.11718.r-sig-mac@stat.math.ethz.ch>
References: <mailman.1.1129111200.11718.r-sig-mac@stat.math.ethz.ch>
Message-ID: <ED8314CB-EB04-4E3B-8B4B-A8F080A88181@unsw.edu.au>

On 12/10/2005, at 8:00 PM, Roberto Canteri wrote:
>      I am facing with the same problem as in the subject even if my
> configure is sligthly different. In any case the make error is
> exactly the same. Here my gcc and fortran versions:
>
> gcc --v
> Using built-in specs.
> Target: powerpc-apple-darwin8
> Configured with: /private/var/tmp/gcc/gcc-5026.obj~19/src/configure --
> disable-checking --prefix=/usr --mandir=/share/man --enable-
> languages=c,objc,c++,obj-c++ --program-transform-name=/^[cg][^+.-]*$/
> s/$/-4.0/ --with-gxx-include-dir=/include/gcc/darwin/4.0/c++ --
> build=powerpc-apple-darwin8 --host=powerpc-apple-darwin8 --
> target=powerpc-apple-darwin8
> Thread model: posix
> gcc version 4.0.0 (Apple Computer, Inc. build 5026)
>
> gfortran --v
> Using built-in specs.
> Target: powerpc-apple-darwin8
> Configured with: /Build/apple/gcc/build/obj/src/configure --disable-
> checking --prefix=/usr --mandir=/share/man --enable-languages=c,objc,c
> ++,obj-c++,f95 --program-transform-name=/^[cg][^+.-]*$/s/$/-4.0/ --
> with-gxx-include-dir=/include/gcc/darwin/4.0/c++ --build=powerpc-
> apple-darwin8 --host=powerpc-apple-darwin8 --target=powerpc-apple-
> darwin8
> Thread model: posix
> gcc version 4.0.0 (Apple Computer, Inc. build 5202)

You appear to have two different versions of the compiler installed  
on top of each other (they have different versions and the same  
prefix).  I am sort of surprised you can build anything at all.

I suggest you run the Xcode uninstall script then manually clean the  
remains of gfortran and any other gcc stuff out of /usr.  Then  
reinstall Xcode and either install a fortran in /usr/local or get one  
of my 5026 compilers with gfortran from www.swarm.org.

Bill Northcott


From simon.urbanek at r-project.org  Thu Oct 13 05:32:26 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 12 Oct 2005 23:32:26 -0400
Subject: [R-SIG-Mac] Problem with lapack.so compiling R 2.2.0 from
	source	under Tiger
In-Reply-To: <ED8314CB-EB04-4E3B-8B4B-A8F080A88181@unsw.edu.au>
References: <mailman.1.1129111200.11718.r-sig-mac@stat.math.ethz.ch>
	<ED8314CB-EB04-4E3B-8B4B-A8F080A88181@unsw.edu.au>
Message-ID: <B1AD5899-D0EC-46CE-9DC8-DD336A50E038@r-project.org>

Bill,

On Oct 12, 2005, at 7:04 PM, Bill Northcott wrote:

> You appear to have two different versions of the compiler installed
> on top of each other (they have different versions and the same
> prefix).  I am sort of surprised you can build anything at all.

As I can see from the build path It is my build of gfortran which I  
know that worked at  that time with Xcode 2.1. It doesn't mess with  
Xcode at all, so it is safe to use and even un-install - in fact it  
uses /usr and prefix which is identical to Xcode as you can see, so  
it's compatible. I have just checked today and that build works fine,  
even passes make check with R 2.2.0 given you apply the underscores  
patch I posted. Nevertheless, you're of course free to use more  
recent gfortran.

Cheers,
Simon


From khansen at stat.Berkeley.EDU  Fri Oct 14 20:43:24 2005
From: khansen at stat.Berkeley.EDU (Kasper Daniel Hansen)
Date: Fri, 14 Oct 2005 11:43:24 -0700
Subject: [R-SIG-Mac] R-2.2.0
Message-ID: <E16F29D9-E2B4-4AF9-BF3B-A45824F70528@stat.berkeley.edu>

Am I missing something or have R-2.2.0.app not been released yet? If  
so, are there anything I (we) can do to help?

(sorry to bug you about this)

Kasper


From d.firth at warwick.ac.uk  Fri Oct 14 23:32:52 2005
From: d.firth at warwick.ac.uk (David Firth)
Date: Fri, 14 Oct 2005 22:32:52 +0100
Subject: [R-SIG-Mac] problem with options("pkgType") in a home-built R 2.2.0
Message-ID: <0E9E12C8-7C90-460D-994E-2019FAED1F3E@warwick.ac.uk>

I have built R 2.2.0 from source, on Mac OS X 10.4, with the  
configure step as follows:

./configure --with-x --with-tcltk F77=gfortran --with-blas="- 
framework vecLib" --with-lapack

(yes, I know some of that is redundant now!)

Al goes fine with the build.  But when I run R I find

 > version
          _
platform powerpc-apple-darwin8.2.0
arch     powerpc
os       darwin8.2.0
system   powerpc, darwin8.2.0
status
major    2
minor    2.0
year     2005
month    10
day      06
svn rev  35749
language R
 > options("pkgType")
$pkgType
[1] "mac.binary"
 > contrib.url(options("repos"))
                                                          CRAN
"http://cran.uk.r-project.org/bin/macosx/powerpc/contrib/2.2"

This creates problems for me when I try to use for example  
install.packages:

1.  If I try to run install.packages, the URL that gets used does not  
exist (as I also verified outside of R):
 > install.packages("eha")
Warning in install.packages("eha") : argument 'lib' is missing:  
using /Users/david/Library/R
Warning: unable to access index for repository http://cran.uk.r- 
project.org/bin/macosx/powerpc/contrib/2.2
Warning in download.packages(pkgs, destdir = tmpd, available =  
available,  :
          no package 'eha' at the repositories

2.  My reading of ?options is that options("pkgType") for me should  
be "source" not "mac.binary", since it says
      'pkgType': The default type of packages to be downloaded and
           installed - see 'install.packages'. Possible values are
           '"source"' (the default except under the CRAN Mac OS X build)
           and '"mac.binary"'.
I do not think I am running "the CRAN Mac OS X build" -- I have never  
downloaded the R binary from CRAN, and I assume (correctly?) that  
that is what is meant there.  If I do options(pkgType = "source") all  
is fine.  But should I have to do that myself?

This behaviour seems to be new to R 2.2.0.  Have I blundered  
somewhere in building R?  I noticed that --with-aqua is now a default  
configure option, but I didn't negate that because (a) I wasn't sure  
what it does [what does it do?], and (b) I supposed it was the  
default for good reason.

I got the same behaviour when building under Mac OS 10.3.9, with
./configure --with-x --with-tcltk --with-tcl-config=/sw/lib/ 
tclConfig.sh --with-tk-config=/sw/lib/tkConfig.sh  --with-blas="- 
framework vecLib" --with-lapack

I would welcome any advice.  I build R myself mainly because I like  
to use ESS as my interface.

Yours hopefully,
David


From jago at mclink.it  Fri Oct 14 23:53:15 2005
From: jago at mclink.it (stefano iacus)
Date: Fri, 14 Oct 2005 23:53:15 +0200
Subject: [R-SIG-Mac] R-2.2.0
In-Reply-To: <E16F29D9-E2B4-4AF9-BF3B-A45824F70528@stat.berkeley.edu>
References: <E16F29D9-E2B4-4AF9-BF3B-A45824F70528@stat.berkeley.edu>
Message-ID: <B9C5C767-3BCB-4260-AFF8-ED76229B02DE@mclink.it>

Both R.app and CRAN+BIOC packages for 2.2.0 are ready, it's just a  
matter of mirroring which I think is going to take place next week.
stefano

On 14/ott/05, at 20:43, Kasper Daniel Hansen wrote:

> Am I missing something or have R-2.2.0.app not been released yet? If
> so, are there anything I (we) can do to help?
>
> (sorry to bug you about this)
>
> Kasper
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From jago at mclink.it  Sat Oct 15 00:02:14 2005
From: jago at mclink.it (stefano iacus)
Date: Sat, 15 Oct 2005 00:02:14 +0200
Subject: [R-SIG-Mac] problem with options("pkgType") in a home-built R
	2.2.0
In-Reply-To: <0E9E12C8-7C90-460D-994E-2019FAED1F3E@warwick.ac.uk>
References: <0E9E12C8-7C90-460D-994E-2019FAED1F3E@warwick.ac.uk>
Message-ID: <A5F955F9-7B79-4FCF-8696-C2CC36DA9560@mclink.it>


On 14/ott/05, at 23:32, David Firth wrote:

> I have built R 2.2.0 from source, on Mac OS X 10.4, with the
> configure step as follows:
>
> ./configure --with-x --with-tcltk F77=gfortran --with-blas="-
> framework vecLib" --with-lapack
>
> (yes, I know some of that is redundant now!)
>

I think in your case it's just

./configure F77=gfortran

default options are --with-x, --with-aqua, --with-blas="-framework  
vevLib", --with-lapack and also the R.framework build style

> Al goes fine with the build.  But when I run R I find
>
>
>> version
>>
>           _
> platform powerpc-apple-darwin8.2.0
> arch     powerpc
> os       darwin8.2.0
> system   powerpc, darwin8.2.0
> status
> major    2
> minor    2.0
> year     2005
> month    10
> day      06
> svn rev  35749
> language R
>
>> options("pkgType")
>>
> $pkgType
> [1] "mac.binary"
>
>> contrib.url(options("repos"))
>>
>                                                           CRAN
> "http://cran.uk.r-project.org/bin/macosx/powerpc/contrib/2.2"
>
> This creates problems for me when I try to use for example
> install.packages:
>
> 1.  If I try to run install.packages, the URL that gets used does not
> exist (as I also verified outside of R):
>
>> install.packages("eha")
>>
> Warning in install.packages("eha") : argument 'lib' is missing:
> using /Users/david/Library/R
> Warning: unable to access index for repository http://cran.uk.r-
> project.org/bin/macosx/powerpc/contrib/2.2
> Warning in download.packages(pkgs, destdir = tmpd, available =
> available,  :
>           no package 'eha' at the repositories
>
> 2.  My reading of ?options is that options("pkgType") for me should
> be "source" not "mac.binary", since it says
>       'pkgType': The default type of packages to be downloaded and
>            installed - see 'install.packages'. Possible values are
>            '"source"' (the default except under the CRAN Mac OS X  
> build)
>            and '"mac.binary"'.

umh, you are right the mac.binary option was set to ensure that  
binary packages are compatible with binary R, and we can only  
guarantee for the CRAN build of R.
I agree that in your case pkgType should be "source"

> I do not think I am running "the CRAN Mac OS X build" -- I have never
> downloaded the R binary from CRAN, and I assume (correctly?) that
> that is what is meant there.  If I do options(pkgType = "source") all
> is fine.  But should I have to do that myself?
>

yes, in this release

> This behaviour seems to be new to R 2.2.0.  Have I blundered
> somewhere in building R?  I noticed that --with-aqua is now a default
> configure option, but I didn't negate that because (a) I wasn't sure
> what it does [what does it do?],

currently --with-aqua just put into R binary the (void) callback that  
can be initialized by an external GUI (such as R.app), but it doesn't  
hurt X11 or whatever else.

> and (b) I supposed it was the
> default for good reason.
>

yes, it adds some sort of extension without touching the rest

> I got the same behaviour when building under Mac OS 10.3.9, with
> ./configure --with-x --with-tcltk --with-tcl-config=/sw/lib/
> tclConfig.sh --with-tk-config=/sw/lib/tkConfig.sh  --with-blas="-
> framework vecLib" --with-lapack
>
> I would welcome any advice.  I build R myself mainly because I like
> to use ESS as my interface.
>

you can also use cran build for this.
anyway, as for this release, you need to set options(pkgType =  
"source") in your .Rprofile or similar.

stefano



> Yours hopefully,
> David
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From john.maindonald at anu.edu.au  Sat Oct 15 00:05:33 2005
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Sat, 15 Oct 2005 08:05:33 +1000
Subject: [R-SIG-Mac] R-2.2.0
In-Reply-To: <E16F29D9-E2B4-4AF9-BF3B-A45824F70528@stat.berkeley.edu>
References: <E16F29D9-E2B4-4AF9-BF3B-A45824F70528@stat.berkeley.edu>
Message-ID: <8DEB09E1-B575-47DD-B921-4CF3B1017EDA@anu.edu.au>

You need to go to:
http://research.att.com/~urbanek/R/

The CRAN page does not link through to this page,
or if there is a link, it is well concealed.  The links
that are in place seem out of date.

John Maindonald


For some reason, this is
On 15 Oct 2005, at 4:43 AM, Kasper Daniel Hansen wrote:

> Am I missing something or have R-2.2.0.app not been released yet? If
> so, are there anything I (we) can do to help?
>
> (sorry to bug you about this)
>
> Kasper
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac



John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Bioinformation Science, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.


From macq at llnl.gov  Sat Oct 15 00:18:53 2005
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 14 Oct 2005 15:18:53 -0700
Subject: [R-SIG-Mac] problem with options("pkgType") in a home-built R
 2.2.0
In-Reply-To: <0E9E12C8-7C90-460D-994E-2019FAED1F3E@warwick.ac.uk>
References: <0E9E12C8-7C90-460D-994E-2019FAED1F3E@warwick.ac.uk>
Message-ID: <p06210203bf75da7d4096@[128.115.153.6]>

David,

Stefan has already answered.  None the less, here's my perspective.

Like you, I build from source, and have also discovered the change in 
default 'type' for
install.packages() and friends. Like you, I left the default 
--with-aqua unchanged.

Here's a relevant excerpt from the NEWS file.

   o	There is now support of installing from within R both source and
	binary packages on MacOS X and Windows.	 Most of the R
	functions now have a 'type' argument defaulting to
	getOption("pkgType") and with possible values "source",
	"win.binary" and "mac.binary".	The default is "source" except
	under Windows and the CRAN GUI build for MacOS X.

I would think that the configure option --with-aqua causes a build to 
be a "CRAN GUI" build, because
--with-aqua is what gets you the option of using the double-clickable 
app that goes in your /Applications folder.

I decided to live with having to set type to 'source' each time I use 
it; it's not that much of an extra burden. I'd suggest building 
without aqua and finding out if that sets the default back to 
'source'.

I build from source on my primary machine because I also am also the 
local installer for R on Solaris, and I find it easier when things 
are similar on both platforms. I normally send other users to the 
Aqua version, and for them the default of 'mac.binary' makes sense.

-Don

At 10:32 PM +0100 10/14/05, David Firth wrote:
>I have built R 2.2.0 from source, on Mac OS X 10.4, with the 
>configure step as follows:
>
>./configure --with-x --with-tcltk F77=gfortran --with-blas="-
>framework vecLib" --with-lapack
>
>(yes, I know some of that is redundant now!)
>
>Al goes fine with the build.  But when I run R I find
>
>  > version
>           _
>platform powerpc-apple-darwin8.2.0
>arch     powerpc
>os       darwin8.2.0
>system   powerpc, darwin8.2.0
>status
>major    2
>minor    2.0
>year     2005
>month    10
>day      06
>svn rev  35749
>language R
>  > options("pkgType")
>$pkgType
>[1] "mac.binary"
>  > contrib.url(options("repos"))
>                                                           CRAN
>"http://cran.uk.r-project.org/bin/macosx/powerpc/contrib/2.2"
>
>This creates problems for me when I try to use for example 
>install.packages:
>
>1.  If I try to run install.packages, the URL that gets used does not 
>exist (as I also verified outside of R):
>  > install.packages("eha")
>Warning in install.packages("eha") : argument 'lib' is missing: 
>using /Users/david/Library/R
>Warning: unable to access index for repository http://cran.uk.r-
>project.org/bin/macosx/powerpc/contrib/2.2
>Warning in download.packages(pkgs, destdir = tmpd, available = 
>available,  :
>           no package 'eha' at the repositories
>
>2.  My reading of ?options is that options("pkgType") for me should 
>be "source" not "mac.binary", since it says
>       'pkgType': The default type of packages to be downloaded and
>            installed - see 'install.packages'. Possible values are
>            '"source"' (the default except under the CRAN Mac OS X build)
>            and '"mac.binary"'.
>I do not think I am running "the CRAN Mac OS X build" -- I have never 
>downloaded the R binary from CRAN, and I assume (correctly?) that 
>that is what is meant there.  If I do options(pkgType = "source") all 
>is fine.  But should I have to do that myself?
>
>This behaviour seems to be new to R 2.2.0.  Have I blundered 
>somewhere in building R?  I noticed that --with-aqua is now a default 
>configure option, but I didn't negate that because (a) I wasn't sure 
>what it does [what does it do?], and (b) I supposed it was the 
>default for good reason.
>
>I got the same behaviour when building under Mac OS 10.3.9, with
>./configure --with-x --with-tcltk --with-tcl-config=/sw/lib/
>tclConfig.sh --with-tk-config=/sw/lib/tkConfig.sh  --with-blas="-
>framework vecLib" --with-lapack
>
>I would welcome any advice.  I build R myself mainly because I like 
>to use ESS as my interface.
>
>Yours hopefully,
>David
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA


From deleeuw at stat.ucla.edu  Sat Oct 15 00:29:11 2005
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Fri, 14 Oct 2005 15:29:11 -0700
Subject: [R-SIG-Mac] problem with options("pkgType") in a home-built R
	2.2.0
In-Reply-To: <p06210203bf75da7d4096@[128.115.153.6]>
References: <0E9E12C8-7C90-460D-994E-2019FAED1F3E@warwick.ac.uk>
	<p06210203bf75da7d4096@[128.115.153.6]>
Message-ID: <3678043B-CCC9-4875-8DE2-1BC1994AB8B9@stat.ucla.edu>

No need to set type to course every time you use it.

This is what I have in Rprofile.site. I use R from
Emacs or Terminal, so quartz() is useless and I
joyfully travel back to the eighties with X11 and
tcl/tk.


local({
        options(device="x11")
        options(repos="http://cran.r-project.org")
        options(pkgType="source")
        old <- getOption("defaultPackages")
        options(defaultPackages = c(old, "tcltk"))
      })

.First <- function() cat("\n   Welcome to Jan's R-2.3.0 !\n\n")

On Oct 14, 2005, at 15:18 , Don MacQueen wrote:

> I decided to live with having to set type to 'source' each time I use
> it; it's not that much of an extra burden. I'd suggest building
> without aqua and finding out if that sets the default back to
> 'source'.

===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
.mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
homepages: http://gifi.stat.ucla.edu ++++++ http://www.cuddyvalley.org
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au


From macq at llnl.gov  Sat Oct 15 01:02:34 2005
From: macq at llnl.gov (Don MacQueen)
Date: Fri, 14 Oct 2005 16:02:34 -0700
Subject: [R-SIG-Mac] problem with options("pkgType") in a home-built R
 2.2.0
In-Reply-To: <3678043B-CCC9-4875-8DE2-1BC1994AB8B9@stat.ucla.edu>
References: <0E9E12C8-7C90-460D-994E-2019FAED1F3E@warwick.ac.uk>
	<p06210203bf75da7d4096@[128.115.153.6]>
	<3678043B-CCC9-4875-8DE2-1BC1994AB8B9@stat.ucla.edu>
Message-ID: <p06210207bf75e76c48ab@[128.115.153.6]>

One of the nice things about R is that there is always a variety of 
ways to solve problems.

I thought about setting options in a profile file, but as it happens, 
most of my package installation activity takes place right after I 
install a new version of R, and, having a long list, I use a script. 
Specifying the type was painless, once I realized I had to do it. 
Thereafter, I don't do package installations very often, so it's not 
much burden.

Much as I like Apple's OS, when using R, I *prefer* X11 for several 
features it has that Apple will probably never implement in its own 
user interface. So I don't to think of it as backward at all.

Thanks for offering a good example Rprofile.site.

-Don

At 3:29 PM -0700 10/14/05, Jan de Leeuw wrote:
>No need to set type to course every time you use it.
>
>This is what I have in Rprofile.site. I use R from
>Emacs or Terminal, so quartz() is useless and I
>joyfully travel back to the eighties with X11 and
>tcl/tk.
>
>
>local({
>        options(device="x11")
>        options(repos="http://cran.r-project.org")
>        options(pkgType="source")
>        old <- getOption("defaultPackages")
>        options(defaultPackages = c(old, "tcltk"))
>      })
>
>.First <- function() cat("\n   Welcome to Jan's R-2.3.0 !\n\n")
>
>On Oct 14, 2005, at 15:18 , Don MacQueen wrote:
>
>>I decided to live with having to set type to 'source' each time I use
>>it; it's not that much of an extra burden. I'd suggest building
>>without aqua and finding out if that sets the default back to
>>'source'.
>
>===
>Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of 
>Statistics;
>Editor: Journal of Multivariate Analysis, Journal of Statistical Software
>US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
>phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
>.mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
>homepages: http://gifi.stat.ucla.edu ++++++ http://www.cuddyvalley.org
> 
>-------------------------------------------------------------------------------------------------
>           No matter where you go, there you are. --- Buckaroo Banzai
>                    http://gifi.stat.ucla.edu/sounds/nomatter.au
> 
>-------------------------------------------------------------------------------------------------


-- 
--------------------------------------
Don MacQueen
Environmental Protection Department
Lawrence Livermore National Laboratory
Livermore, CA, USA


From john.maindonald at anu.edu.au  Sat Oct 15 01:19:33 2005
From: john.maindonald at anu.edu.au (John Maindonald)
Date: Sat, 15 Oct 2005 09:19:33 +1000
Subject: [R-SIG-Mac] R-2.2.0
In-Reply-To: <B9C5C767-3BCB-4260-AFF8-ED76229B02DE@mclink.it>
References: <E16F29D9-E2B4-4AF9-BF3B-A45824F70528@stat.berkeley.edu>
	<B9C5C767-3BCB-4260-AFF8-ED76229B02DE@mclink.it>
Message-ID: <DDADB257-0038-4DFA-A15F-9C52ADD30DC8@anu.edu.au>

What is the status of the files on Simon's page?  Are these
essentially beta versions, or are they "unofficial"?  It has
certainly been very useful to have them available.
John Maindonald.

On 15 Oct 2005, at 7:53 AM, stefano iacus wrote:

> Both R.app and CRAN+BIOC packages for 2.2.0 are ready, it's just a
> matter of mirroring which I think is going to take place next week.
> stefano
>
> On 14/ott/05, at 20:43, Kasper Daniel Hansen wrote:
>
>
>> Am I missing something or have R-2.2.0.app not been released yet? If
>> so, are there anything I (we) can do to help?
>>
>> (sorry to bug you about this)
>>
>> Kasper
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>



John Maindonald             email: john.maindonald at anu.edu.au
phone : +61 2 (6125)3473    fax  : +61 2(6125)5549
Centre for Bioinformation Science, Room 1194,
John Dedman Mathematical Sciences Building (Building 27)
Australian National University, Canberra ACT 0200.


From stefano.iacus at unimi.it  Sat Oct 15 15:49:46 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Sat, 15 Oct 2005 15:49:46 +0200
Subject: [R-SIG-Mac] problem with options("pkgType") in a home-built R
	2.2.0
In-Reply-To: <p06210203bf75da7d4096@[128.115.153.6]>
References: <0E9E12C8-7C90-460D-994E-2019FAED1F3E@warwick.ac.uk>
	<p06210203bf75da7d4096@[128.115.153.6]>
Message-ID: <F23119F0-AD18-4825-ABDA-D0DFEC0EE8CE@unimi.it>


On 15/ott/05, at 00:18, Don MacQueen wrote:


> David,
>
> Stefan has already answered.  None the less, here's my perspective.
>
> Like you, I build from source, and have also discovered the change in
> default 'type' for
> install.packages() and friends. Like you, I left the default
> --with-aqua unchanged.
>
> Here's a relevant excerpt from the NEWS file.
>
>    o    There is now support of installing from within R both  
> source and
>     binary packages on MacOS X and Windows.     Most of the R
>     functions now have a 'type' argument defaulting to
>     getOption("pkgType") and with possible values "source",
>     "win.binary" and "mac.binary".    The default is "source" except
>     under Windows and the CRAN GUI build for MacOS X.
>
> I would think that the configure option --with-aqua causes a build to
> be a "CRAN GUI" build, because
> --with-aqua is what gets you the option of using the double-clickable
> app that goes in your /Applications folder.
>

let's say it provides  cocoa/aqua callbacks, that's all about the -- 
with-aqua flag.
The fact that it also sets mac.binary it is unwanted behaviour and we  
need to change this. The default should be "source" as from the NEWS  
file.

mac.binary is just for CRAN binaries and, as I said, we decided to  
set it for the cran build (but unfortunately it is also set for non  
cran build) because we want to be sure about compatibility between  
cran R binary for OS X and binary packages for both BioC and CRAN.
We need this because otherwise feedback from user is difficult to  
manage as there are several binary R around (CRAN, Jan's, fink,  
darwinport and I've also seen a binary version of R shipped with  
GRASS for OS X).
We got lots of feedback and R-sig-mac is just the top of the iceberg :)

stefano


>
> I decided to live with having to set type to 'source' each time I use
> it; it's not that much of an extra burden. I'd suggest building
> without aqua and finding out if that sets the default back to
> 'source'.
>
> I build from source on my primary machine because I also am also the
> local installer for R on Solaris, and I find it easier when things
> are similar on both platforms. I normally send other users to the
> Aqua version, and for them the default of 'mac.binary' makes sense.
>
> -Don
>
> At 10:32 PM +0100 10/14/05, David Firth wrote:
>
>
>> I have built R 2.2.0 from source, on Mac OS X 10.4, with the
>> configure step as follows:
>>
>> ./configure --with-x --with-tcltk F77=gfortran --with-blas="-
>> framework vecLib" --with-lapack
>>
>> (yes, I know some of that is redundant now!)
>>
>> Al goes fine with the build.  But when I run R I find
>>
>>
>>
>>> version
>>>
>>>
>>           _
>> platform powerpc-apple-darwin8.2.0
>> arch     powerpc
>> os       darwin8.2.0
>> system   powerpc, darwin8.2.0
>> status
>> major    2
>> minor    2.0
>> year     2005
>> month    10
>> day      06
>> svn rev  35749
>> language R
>>
>>
>>> options("pkgType")
>>>
>>>
>> $pkgType
>> [1] "mac.binary"
>>
>>
>>> contrib.url(options("repos"))
>>>
>>>
>>                                                           CRAN
>> "http://cran.uk.r-project.org/bin/macosx/powerpc/contrib/2.2"
>>
>> This creates problems for me when I try to use for example
>> install.packages:
>>
>> 1.  If I try to run install.packages, the URL that gets used does not
>> exist (as I also verified outside of R):
>>
>>
>>> install.packages("eha")
>>>
>>>
>> Warning in install.packages("eha") : argument 'lib' is missing:
>> using /Users/david/Library/R
>> Warning: unable to access index for repository http://cran.uk.r-
>> project.org/bin/macosx/powerpc/contrib/2.2
>> Warning in download.packages(pkgs, destdir = tmpd, available =
>> available,  :
>>           no package 'eha' at the repositories
>>
>> 2.  My reading of ?options is that options("pkgType") for me should
>> be "source" not "mac.binary", since it says
>>       'pkgType': The default type of packages to be downloaded and
>>            installed - see 'install.packages'. Possible values are
>>            '"source"' (the default except under the CRAN Mac OS X  
>> build)
>>            and '"mac.binary"'.
>> I do not think I am running "the CRAN Mac OS X build" -- I have never
>> downloaded the R binary from CRAN, and I assume (correctly?) that
>> that is what is meant there.  If I do options(pkgType = "source") all
>> is fine.  But should I have to do that myself?
>>
>> This behaviour seems to be new to R 2.2.0.  Have I blundered
>> somewhere in building R?  I noticed that --with-aqua is now a default
>> configure option, but I didn't negate that because (a) I wasn't sure
>> what it does [what does it do?], and (b) I supposed it was the
>> default for good reason.
>>
>> I got the same behaviour when building under Mac OS 10.3.9, with
>> ./configure --with-x --with-tcltk --with-tcl-config=/sw/lib/
>> tclConfig.sh --with-tk-config=/sw/lib/tkConfig.sh  --with-blas="-
>> framework vecLib" --with-lapack
>>
>> I would welcome any advice.  I build R myself mainly because I like
>> to use ESS as my interface.
>>
>> Yours hopefully,
>> David
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
>
> -- 
> --------------------------------------
> Don MacQueen
> Environmental Protection Department
> Lawrence Livermore National Laboratory
> Livermore, CA, USA
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From nassar at noos.fr  Sun Oct 16 10:03:30 2005
From: nassar at noos.fr (Naji)
Date: Sun, 16 Oct 2005 10:03:30 +0200
Subject: [R-SIG-Mac] R2.2.0 and G5
In-Reply-To: <2A249E48-E06A-43F2-B2CE-F43808AB15CF@r-project.org>
Message-ID: <BF77D5F2.72CD%nassar@noos.fr>

Hi all


Wondering if there is a R version optimized for G5..
Where can I find information to build it or (more interesting for a novice
like me) to download it?

Many thanks
Naji Nassar


From baer at stanford.edu  Mon Oct 17 07:03:21 2005
From: baer at stanford.edu (Paul Baer)
Date: Sun, 16 Oct 2005 23:03:21 -0600
Subject: [R-SIG-Mac] can't stop the pluses
Message-ID: <p06230900bf78e0b344ef@[192.168.1.102]>

Sometimes when I put in a bad command, which appears incomplete to 
the interpreter I suppose, I get a "+" and then can't abort the 
input. Neither control-C or command-period will get me out of it. 
What should I do? (Other than restart R?)

Thanks,

pb


From keith at wehi.edu.au  Mon Oct 17 08:21:21 2005
From: keith at wehi.edu.au (Keith Satterley)
Date: Mon, 17 Oct 2005 16:21:21 +1000
Subject: [R-SIG-Mac] can't stop the pluses
In-Reply-To: <p06230900bf78e0b344ef@[192.168.1.102]>
References: <p06230900bf78e0b344ef@[192.168.1.102]>
Message-ID: <435342E1.2020104@wehi.edu.au>

I had a similar problem, pressing every control code I could, along with 
most other combinations, however a simple right curved bracket seemed to 
make the interpreter happy!

Keith S.

Paul Baer wrote:

>Sometimes when I put in a bad command, which appears incomplete to 
>the interpreter I suppose, I get a "+" and then can't abort the 
>input. Neither control-C or command-period will get me out of it. 
>What should I do? (Other than restart R?)
>
>Thanks,
>
>pb
>
>_______________________________________________
>R-SIG-Mac mailing list
>R-SIG-Mac at stat.math.ethz.ch
>https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>  
>


From j.van_den_hoff at fz-rossendorf.de  Mon Oct 17 10:41:12 2005
From: j.van_den_hoff at fz-rossendorf.de (joerg van den hoff)
Date: Mon, 17 Oct 2005 10:41:12 +0200
Subject: [R-SIG-Mac] can't stop the pluses
In-Reply-To: <435342E1.2020104@wehi.edu.au>
References: <p06230900bf78e0b344ef@[192.168.1.102]>
	<435342E1.2020104@wehi.edu.au>
Message-ID: <435363A8.9040909@fz-rossendorf.de>

Keith Satterley wrote:
> I had a similar problem, pressing every control code I could, along with 
> most other combinations, however a simple right curved bracket seemed to 
> make the interpreter happy!
> 
> Keith S.
> 
> Paul Baer wrote:
> 
> 
>>Sometimes when I put in a bad command, which appears incomplete to 
>>the interpreter I suppose, I get a "+" and then can't abort the 
>>input. Neither control-C or command-period will get me out of it. 
>>What should I do? (Other than restart R?)
>>
>>Thanks,
>>
>>pb
>>
>>_______________________________________________
>>R-SIG-Mac mailing list
>>R-SIG-Mac at stat.math.ethz.ch
>>https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>> 
>>
> 
> 
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
> 
actually, everthing which causes a 'syntax error' in that situation, 
e.g. if you type something like:

 > f((a)
+

(where there is a second opening parenthesis), you could enter 
everything which  would _not_ be aloud syntactically after the closing 
paranthesis (e.g. a "=", any number/letter, a brace, ...).

but if one of the developers stumbles over this: there _should_ be a 
clean way to get out of the loop (I seem to recall that ESC worked once 
upon a time ..), right?

regards,

joerg


From j.van_den_hoff at fz-rossendorf.de  Mon Oct 17 11:05:17 2005
From: j.van_den_hoff at fz-rossendorf.de (joerg van den hoff)
Date: Mon, 17 Oct 2005 11:05:17 +0200
Subject: [R-SIG-Mac] strange behaviour of redraw aftermaximizing quarz window
Message-ID: <4353694D.9070401@fz-rossendorf.de>

I plotted a moderately large data frame (200 x 15) "x" with

plot(x), which essentially boils down to

pairs(data.matrix(x))

If I then maximize the quartz window the 'pairs' plotting grid
is _not_ redrawn directly, but rather _all_ subplots are drawn 
successively using the full size of the quartz window (which takes quite 
some time in my case of 15 x 15 subplots ...). only after this,  the 
real 'pairs' plot is created.


regards,

joerg




platform powerpc-apple-darwin7.9.0
arch     powerpc
os       darwin7.9.0
system   powerpc, darwin7.9.0
status   Patched
major    2
minor    1.0
year     2005
month    05
day      12
language R


From simon.urbanek at r-project.org  Mon Oct 17 16:38:21 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Mon, 17 Oct 2005 16:38:21 +0200
Subject: [R-SIG-Mac] can't stop the pluses
In-Reply-To: <p06230900bf78e0b344ef@[192.168.1.102]>
References: <p06230900bf78e0b344ef@[192.168.1.102]>
Message-ID: <8E65EED7-BDF7-4818-B129-C2C9B3431369@r-project.org>


On Oct 17, 2005, at 7:03 AM, Paul Baer wrote:


> Sometimes when I put in a bad command, which appears incomplete to
> the interpreter I suppose, I get a "+" and then can't abort the
> input. Neither control-C or command-period will get me out of it.
> What should I do? (Other than restart R?)
>

In R GUI 1.13 the <Esc> takes care of that. In the previous version  
the equivalent was to run killall -INT R.app but that was rather less  
satisfactory and not intended.

Cheers,
Simon


From f.calboli at imperial.ac.uk  Mon Oct 17 16:48:38 2005
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Mon, 17 Oct 2005 15:48:38 +0100
Subject: [R-SIG-Mac] can't stop the pluses
Message-ID: <267A26B5-F87D-4436-B2E4-CC342D57D7AA@imperial.ac.uk>

On 17 Oct 2005, at 15:38, Simon Urbanek wrote:


> In R GUI 1.13 the <Esc> takes care of that. In the previous version
> the equivalent was to run killall -INT R.app but that was rather less
> satisfactory and not intended.
>

I tried:

 > for(pippo in 1:15){
+ pluto = 3*i
+

killing things now with <Esc> does not work (on a PBook). R is from  
the R 2.1.1 dmg found on CRAN.

Cheers,

Fede

--
Federico C. F. Calboli
Department of Epidemiology and Public Health
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From jago at mclink.it  Mon Oct 17 17:22:27 2005
From: jago at mclink.it (stefano iacus)
Date: Mon, 17 Oct 2005 17:22:27 +0200
Subject: [R-SIG-Mac] can't stop the pluses
In-Reply-To: <267A26B5-F87D-4436-B2E4-CC342D57D7AA@imperial.ac.uk>
References: <267A26B5-F87D-4436-B2E4-CC342D57D7AA@imperial.ac.uk>
Message-ID: <8B333326-E838-4902-918A-5611AF2B1485@mclink.it>


On 17/ott/05, at 16:48, Federico Calboli wrote:

> On 17 Oct 2005, at 15:38, Simon Urbanek wrote:
>
>
>
>> In R GUI 1.13 the <Esc> takes care of that. In the previous version
>> the equivalent was to run killall -INT R.app but that was rather less
>> satisfactory and not intended.
>>
>>
>
> I tried:
>
>
>> for(pippo in 1:15){
>>
> + pluto = 3*i
> +
>
> killing things now with <Esc> does not work (on a PBook). R is from
> the R 2.1.1 dmg found on CRAN.
>

indeed, Simon is referring to the new R.app that will be released  
these days
stefano

> Cheers,
>
> Fede
>
> --
> Federico C. F. Calboli
> Department of Epidemiology and Public Health
> Imperial College, St. Mary's Campus
> Norfolk Place, London W2 1PG
>
> Tel +44 (0)20 75941602   Fax +44 (0)20 75943193
>
> f.calboli [.a.t] imperial.ac.uk
> f.calboli [.a.t] gmail.com
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From f.calboli at imperial.ac.uk  Mon Oct 17 17:23:49 2005
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Mon, 17 Oct 2005 16:23:49 +0100
Subject: [R-SIG-Mac] can't stop the pluses
In-Reply-To: <8B333326-E838-4902-918A-5611AF2B1485@mclink.it>
References: <267A26B5-F87D-4436-B2E4-CC342D57D7AA@imperial.ac.uk>
	<8B333326-E838-4902-918A-5611AF2B1485@mclink.it>
Message-ID: <B8B882F6-8328-4F07-9A25-19A58E001A5A@imperial.ac.uk>


On 17 Oct 2005, at 16:22, stefano iacus wrote:
> indeed, Simon is referring to the new R.app that will be released  
> these days
> stefano

eagerly waiting for it...

Fede
--
Federico C. F. Calboli
Department of Epidemiology and Public Health
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From fparlamis at mac.com  Tue Oct 18 03:12:24 2005
From: fparlamis at mac.com (Parlamis Franklin)
Date: Mon, 17 Oct 2005 15:12:24 -1000
Subject: [R-SIG-Mac] external editors in R.app
Message-ID: <E87410C9-7487-4D69-8D3F-477A554EEAF9@mac.com>

Cocoa GUI 1.12 appears to have a problem opening an external editor  
when the application name contains a space.  I use Aquamacs Emacs,  
which upon installation names itself "Aquamacs Emacs.app"

Choosing that app as an external editor on the Preference Pane causes  
the following error when I try to open a file from the Toolbar in the  
R Console:

     2005-10-18 00:59:49.985 open[9985] No such file: /Users/Franklin/ 
R/Working Directory/Emacs.app

However, if I rename the application "Aquamacs_Emacs.app" no error is  
returned and the file opens.

Looking forward to the new version.  Thanks for all your efforts.

Franklin Parlamis


From simon.urbanek at r-project.org  Tue Oct 18 19:42:12 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 18 Oct 2005 19:42:12 +0200
Subject: [R-SIG-Mac] can't stop the pluses
In-Reply-To: <8B333326-E838-4902-918A-5611AF2B1485@mclink.it>
References: <267A26B5-F87D-4436-B2E4-CC342D57D7AA@imperial.ac.uk>
	<8B333326-E838-4902-918A-5611AF2B1485@mclink.it>
Message-ID: <1DA0E832-51E6-4ABF-9CA7-86707714A53B@r-project.org>


On Oct 17, 2005, at 5:22 PM, stefano iacus wrote:


>
> On 17/ott/05, at 16:48, Federico Calboli wrote:
>
>
>
>> On 17 Oct 2005, at 15:38, Simon Urbanek wrote:
>>
>>
>>
>>
>>
>>> In R GUI 1.13 the <Esc> takes care of that. In the previous version
>>> the equivalent was to run killall -INT R.app but that was rather  
>>> less
>>> satisfactory and not intended.
>>>
>>>
>>>
>>>
>>
>> I tried:
>>
>>
>>
>>
>>> for(pippo in 1:15){
>>>
>>>
>>>
>> + pluto = 3*i
>> +
>>
>> killing things now with <Esc> does not work (on a PBook). R is  
>> from the R 2.1.1 dmg found on CRAN.
>>


That is R GUI version 1.12 (see R -> About R) which doesn't have that  
feature as I was explicitly saying.



> indeed, Simon is referring to the new R.app that will be released    
> these days
>

No, I was referring to the GUI version that is available for quite a  
while ( http://research.att.com/~urbanek/R/ ). It is available both  
for R 2.1 and R 2.2.

Cheers,
Simon


From gsxej2 at cam.ac.uk  Tue Oct 18 22:32:30 2005
From: gsxej2 at cam.ac.uk (Gregory Jefferis)
Date: Tue, 18 Oct 2005 21:32:30 +0100
Subject: [R-SIG-Mac] R-GUI: A small feature request - Shift Select Recent
 File to source
Message-ID: <BF7B1A6E.70B3%gsxej2@cam.ac.uk>

Dear Stefano and Simon,

I wonder if I could make a small feature request for the R-GUI.  When I do
Shift+Cmd+O the file I choose is sourced.  When I select that file from the
recently opened files list it is always opened in the text editor.  Would it
be possible to have it sourced instead if I hold down shift.  Many thanks as
ever for all your work on R on Mac OS X,

Greg Jefferis.


-- 
Gregory Jefferis, PhD                               and:
Research Fellow    
Department of Zoology                               St John's College
University of Cambridge                             Cambridge
Downing Street                                      CB2 1TP
Cambridge, CB2 3EJ 
United Kingdom

Tel: +44 (0)1223 336683                             +44 (0)1223 339899
Fax: +44 (0)1223 336676                             +44 (0)1223 337720

gsxej2 at cam.ac.uk


From g.Hatkar at zensar.com  Tue Oct 18 22:59:23 2005
From: g.Hatkar at zensar.com (Girish Hatkar)
Date: Wed, 19 Oct 2005 02:29:23 +0530
Subject: [R-SIG-Mac]  problem installing tkrplot
Message-ID: <63F03D434DEDFE40B1593C328A41D501021355B4@ZENMAILHQ1.ind.zensar.com>

An embedded and charset-unspecified text was scrubbed...
Name: not available
Url: https://stat.ethz.ch/pipermail/r-sig-mac/attachments/20051019/fc41990c/attachment.pl

From cormaggio at gmail.com  Wed Oct 19 00:54:03 2005
From: cormaggio at gmail.com (Cormac Lawler)
Date: Tue, 18 Oct 2005 23:54:03 +0100
Subject: [R-SIG-Mac] loading Rcmdr
Message-ID: <e3930910510181554o32e0c2d8y119da3b6b8a508c0@mail.gmail.com>

(originally posted to R-Help - advised to post here)
Hi,
I'm using a Mac, I've downloaded R (base), and I'm trying to download
the package R Commander. I thought I had already done this (both from
the web and from within R) but it doesn't seem to be working - it's
not there as a "search()" reveals. However, there are plenty of files
on my system linked with Rcmdr - located in
HD>Library>Frameworks>R.framework>Versions>2.1.1>Resources>Library>Rcmdr.
Is it simply in the wrong location to use it? The other possibility is
that I keep getting a tcltk error whenever I try to load up the
package from the Package Manager from within R - and when I try to
upload the tcltk package, this also gives the same error [1]. I also
get a "Couldn't launch application" error whenever I try to launch the
X11.app.

This is probably so basic it's staring me in the eyes, but I need your
help please. I'd be happy to give any extra info you need.

Thanks
Cormac

[1] Loading required package: tcltk
Loading Tcl/Tk interface ... Error in dyn.load(x, as.logical(local),
as.logical(now)) :
       unable to load shared library
'/Library/Frameworks/R.framework/Resources/library/tcltk/libs/tcltk.so':
 dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open
library: /usr/local/lib/libtk8.4.dylib  (No such file or directory,
errno = 2)
In addition: Warning messages:
1: cannot create HTML package index in: make.packages.html()
2: cannot create HTML package index in: make.packages.html()
Error: .onLoad failed in 'loadNamespace' for 'tcltk'
Error: package 'tcltk' could not be loaded


From putler at sauder.ubc.ca  Wed Oct 19 01:02:50 2005
From: putler at sauder.ubc.ca (Dan Putler)
Date: Tue, 18 Oct 2005 16:02:50 -0700
Subject: [R-SIG-Mac] loading Rcmdr
In-Reply-To: <e3930910510181554o32e0c2d8y119da3b6b8a508c0@mail.gmail.com>
References: <e3930910510181554o32e0c2d8y119da3b6b8a508c0@mail.gmail.com>
Message-ID: <D0DAD3A7-A7A4-4602-83E3-1DC972B11844@sauder.ubc.ca>

Hi Cormac,

The error you are getting is because X11 isn't launched prior to when  
you are launching the tcltk package in R. Try rebooting, and attempt  
to launch X11 before loading R. If X11 still doesn't launch, then  
your problem isn't with R, and you might reinstalling X11.

You also probably want to look at the OS X installation instructions  
for R Commander (http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/ 
installation-notes.html).

Dan

On 18-Oct-05, at 3:54 PM, Cormac Lawler wrote:

> (originally posted to R-Help - advised to post here)
> Hi,
> I'm using a Mac, I've downloaded R (base), and I'm trying to download
> the package R Commander. I thought I had already done this (both from
> the web and from within R) but it doesn't seem to be working - it's
> not there as a "search()" reveals. However, there are plenty of files
> on my system linked with Rcmdr - located in
> HD>Library>Frameworks>R.framework>Versions>2.1.1>Resources>Library>Rcm 
> dr.
> Is it simply in the wrong location to use it? The other possibility is
> that I keep getting a tcltk error whenever I try to load up the
> package from the Package Manager from within R - and when I try to
> upload the tcltk package, this also gives the same error [1]. I also
> get a "Couldn't launch application" error whenever I try to launch the
> X11.app.
>
> This is probably so basic it's staring me in the eyes, but I need your
> help please. I'd be happy to give any extra info you need.
>
> Thanks
> Cormac
>
> [1] Loading required package: tcltk
> Loading Tcl/Tk interface ... Error in dyn.load(x, as.logical(local),
> as.logical(now)) :
>        unable to load shared library
> '/Library/Frameworks/R.framework/Resources/library/tcltk/libs/ 
> tcltk.so':
>  dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open
> library: /usr/local/lib/libtk8.4.dylib  (No such file or directory,
> errno = 2)
> In addition: Warning messages:
> 1: cannot create HTML package index in: make.packages.html()
> 2: cannot create HTML package index in: make.packages.html()
> Error: .onLoad failed in 'loadNamespace' for 'tcltk'
> Error: package 'tcltk' could not be loaded
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From wettenhall at wehi.EDU.AU  Wed Oct 19 04:14:46 2005
From: wettenhall at wehi.EDU.AU (James Wettenhall)
Date: Wed, 19 Oct 2005 12:14:46 +1000 (EST)
Subject: [R-SIG-Mac] problem installing tkrplot
In-Reply-To: <63F03D434DEDFE40B1593C328A41D501021355B4@ZENMAILHQ1.ind.zensar.com>
References: <63F03D434DEDFE40B1593C328A41D501021355B4@ZENMAILHQ1.ind.zensar.com>
Message-ID: <3756.192.168.65.113.1129688086.squirrel@homebase.wehi.edu.au>

Girish,

> We saw your query on google.com we are facing the same issue as

Who's query?  Are you referring to a particular post from R-SIG-MAC? 
Could you give a direct link to that post?

You talk about rpm's.  Are you sure you're posting this question to the
right mailing list?  I didn't know you could use rpm's on MacOSX.  I
thought they were only for Linux.

Are you trying to install tkrplot from source or from binary?  And if you
want a binary version - do you want a Mac binary or a Linux binary?

If you want a Mac binary, the version of tkrplot for R 2.2.0:
http://cran.r-project.org/bin/macosx/2.2/tkrplot_0.0-12.tgz
doesn't seem to exist yet.

But the R 2.1.x version is available here:
http://cran.r-project.org/bin/macosx/2.1/tkrplot_0.0-12.tgz

Do you want a Mac binary of tkrplot (as you are posting to the R-SIG-Mac
mailing list)?  Or are you actually trying to run tkrplot on Linux?  If
so, it sounds like you just need to ask your Linux administrator to clean
up your Tcl/Tk installation a bit.  Maybe it's just a matter of installing
the latest RPMs for tcl, tk, tcl-devel and tk-devel (or whatever they are
called) and the relevant x11-devel rpm(s) as well.  Or maybe you have a
mixture of Tcl/Tk installed from source and from RPM and something is
messed up?  Maybe post to a Tcl/Tk mailing list, rather than an R mailing
list?

Lastly, I'm curious as to why you want to use tkrplot.  On MacOSX (which
this mailing list is for), I don't know many R users who use tkrplot, and
there are very few R packages that I know of which depend on tkrplot.  My
packages limmaGUI and affylmGUI suggest tkrplot, but it is not required,
and most Mac users prefer to use the Quartz graphics device which gives
them almost all the same functionality except for one interactive plot
(i.e. clicking on a point in a heat-map/array-image-plot to tell you which
gene you're looking at) which currently only works with tkrplot.

Hope this helps,
James

> mentioned by you.
> Were you able to resolve this... Can you please share with us your
> experience in resolving this issue?
>
> =================================
> [root at hotbot <https://stat.ethz.ch/mailman/listinfo/r-sig-mac>
> bourbon]# rpm -ivh tcl-8.4.5-7.x86_64.rpm
> warning: tcl-8.4.5-7.x86_64.rpm: V3 DSA signature: NOKEY, key ID
> 4f2a6fd2
> Preparing...                ###########################################
> [100%]
>       file /usr/bin/tclsh from install of tcl-8.4.5-7 conflicts with
> file from package tcl-8.3.5-92.2
>       file /usr/lib64/tclConfig.sh from install of tcl-8.4.5-7 conflicts
>
> with file from package tcl-8.3.5-92.2
>       file /usr/share/man/man1/tclsh.1.gz from install of tcl-8.4.5-7
> conflicts with file from package tcl-8.3.5-92.2
> [root at hotbot <https://stat.ethz.ch/mailman/listinfo/r-sig-mac>
> bourbon]#
>
>
>
>
> Regards,
>
> Girish
>
>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From wettenhall at wehi.EDU.AU  Wed Oct 19 04:24:38 2005
From: wettenhall at wehi.EDU.AU (James Wettenhall)
Date: Wed, 19 Oct 2005 12:24:38 +1000 (EST)
Subject: [R-SIG-Mac] loading Rcmdr, R-Tcl/Tk errors due to X11
In-Reply-To: <D0DAD3A7-A7A4-4602-83E3-1DC972B11844@sauder.ubc.ca>
References: <e3930910510181554o32e0c2d8y119da3b6b8a508c0@mail.gmail.com>
	<D0DAD3A7-A7A4-4602-83E3-1DC972B11844@sauder.ubc.ca>
Message-ID: <3893.192.168.65.113.1129688678.squirrel@homebase.wehi.edu.au>

Hi,

This problem of getting Tcl/Tk errors in R on MacOSX because X11 isn't
running seems to be quite common, and unfortunately R's tcltk package is
currently unable to check whether X11 is running (if the operating system
is Darwin) and if not, give a friendly error message advising the user to
run X11.  My expertise on this is limited, but do people think it would be
possible for the tcltk package to automatically check for X11?  Obviously
this is platform dependent - X11 is not required on Windows.

A colleague of mine had Tcl/Tk errors and she found that she could only
start R-Tcl/Tk applications when her network cable was removed from her
laptop.  When the network cable was plugged in, X11 appeared to start OK,
but then it silently froze up due to some network problem.  So the
R-Tcl/Tk interface failed to initalize as a result.

Hope this was of interest to some people.
Best wishes,
James



> Hi Cormac,
>
> The error you are getting is because X11 isn't launched prior to when
> you are launching the tcltk package in R. Try rebooting, and attempt
> to launch X11 before loading R. If X11 still doesn't launch, then
> your problem isn't with R, and you might reinstalling X11.
>
> You also probably want to look at the OS X installation instructions
> for R Commander (http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/
> installation-notes.html).
>
> Dan
>
> On 18-Oct-05, at 3:54 PM, Cormac Lawler wrote:
>
>> (originally posted to R-Help - advised to post here)
>> Hi,
>> I'm using a Mac, I've downloaded R (base), and I'm trying to download
>> the package R Commander. I thought I had already done this (both from
>> the web and from within R) but it doesn't seem to be working - it's
>> not there as a "search()" reveals. However, there are plenty of files
>> on my system linked with Rcmdr - located in
>> HD>Library>Frameworks>R.framework>Versions>2.1.1>Resources>Library>Rcm
>> dr.
>> Is it simply in the wrong location to use it? The other possibility is
>> that I keep getting a tcltk error whenever I try to load up the
>> package from the Package Manager from within R - and when I try to
>> upload the tcltk package, this also gives the same error [1]. I also
>> get a "Couldn't launch application" error whenever I try to launch the
>> X11.app.
>>
>> This is probably so basic it's staring me in the eyes, but I need your
>> help please. I'd be happy to give any extra info you need.
>>
>> Thanks
>> Cormac
>>
>> [1] Loading required package: tcltk
>> Loading Tcl/Tk interface ... Error in dyn.load(x, as.logical(local),
>> as.logical(now)) :
>>        unable to load shared library
>> '/Library/Frameworks/R.framework/Resources/library/tcltk/libs/
>> tcltk.so':
>>  dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open
>> library: /usr/local/lib/libtk8.4.dylib  (No such file or directory,
>> errno = 2)
>> In addition: Warning messages:
>> 1: cannot create HTML package index in: make.packages.html()
>> 2: cannot create HTML package index in: make.packages.html()
>> Error: .onLoad failed in 'loadNamespace' for 'tcltk'
>> Error: package 'tcltk' could not be loaded
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From deleeuw at stat.ucla.edu  Wed Oct 19 05:22:44 2005
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Tue, 18 Oct 2005 20:22:44 -0700
Subject: [R-SIG-Mac] loading Rcmdr, R-Tcl/Tk errors due to X11
In-Reply-To: <3893.192.168.65.113.1129688678.squirrel@homebase.wehi.edu.au>
References: <e3930910510181554o32e0c2d8y119da3b6b8a508c0@mail.gmail.com>
	<D0DAD3A7-A7A4-4602-83E3-1DC972B11844@sauder.ubc.ca>
	<3893.192.168.65.113.1129688678.squirrel@homebase.wehi.edu.au>
Message-ID: <409870E0-277F-435D-A7F3-5B67E6A6A51B@stat.ucla.edu>

I run R from the terminal, from the Aqua GUI, from Carbon/Cocoa
emacs, or from X11 emacs. In order to make sure that X11 is
always available I start X11.app from the login items in system
preferences. This is not enough, because running R from carbon/cocoa  
emacs cannot
find $DISPLAY even if X11.app is running and it is defined in .tcshrc
-- so in addition my Rprofile.site has

local({
        options(device="x11")
        options(repos="http://cran.r-project.org")
        options(pkgType="source")
        Sys.putenv(DISPLAY=":0.0")
     })

.First <- function() {
	cat("\n   Welcome to Jan's R-2.3.0 !\n\n")
	}

This guarantees that library(tkrplot) or library(tcltk) always
works in all my different GUI's.

On Oct 18, 2005, at 19:24 , James Wettenhall wrote:

> Hi,
>
> This problem of getting Tcl/Tk errors in R on MacOSX because X11 isn't
> running seems to be quite common, and unfortunately R's tcltk  
> package is
> currently unable to check whether X11 is running (if the operating  
> system
> is Darwin) and if not, give a friendly error message advising the  
> user to
> run X11.  My expertise on this is limited, but do people think it  
> would be
> possible for the tcltk package to automatically check for X11?   
> Obviously
> this is platform dependent - X11 is not required on Windows.
>
> A colleague of mine had Tcl/Tk errors and she found that she could  
> only
> start R-Tcl/Tk applications when her network cable was removed from  
> her
> laptop.  When the network cable was plugged in, X11 appeared to  
> start OK,
> but then it silently froze up due to some network problem.  So the
> R-Tcl/Tk interface failed to initalize as a result.
>
> Hope this was of interest to some people.
> Best wishes,
> James
>
>
>
>> Hi Cormac,
>>
>> The error you are getting is because X11 isn't launched prior to when
>> you are launching the tcltk package in R. Try rebooting, and attempt
>> to launch X11 before loading R. If X11 still doesn't launch, then
>> your problem isn't with R, and you might reinstalling X11.
>>
>> You also probably want to look at the OS X installation instructions
>> for R Commander (http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/
>> installation-notes.html).
>>
>> Dan
>>
>> On 18-Oct-05, at 3:54 PM, Cormac Lawler wrote:
>>
>>> (originally posted to R-Help - advised to post here)
>>> Hi,
>>> I'm using a Mac, I've downloaded R (base), and I'm trying to  
>>> download
>>> the package R Commander. I thought I had already done this (both  
>>> from
>>> the web and from within R) but it doesn't seem to be working - it's
>>> not there as a "search()" reveals. However, there are plenty of  
>>> files
>>> on my system linked with Rcmdr - located in
>>> HD>Library>Frameworks>R.framework>Versions>2.1.1>Resources>Library>R 
>>> cm
>>> dr.
>>> Is it simply in the wrong location to use it? The other  
>>> possibility is
>>> that I keep getting a tcltk error whenever I try to load up the
>>> package from the Package Manager from within R - and when I try to
>>> upload the tcltk package, this also gives the same error [1]. I also
>>> get a "Couldn't launch application" error whenever I try to  
>>> launch the
>>> X11.app.
>>>
>>> This is probably so basic it's staring me in the eyes, but I need  
>>> your
>>> help please. I'd be happy to give any extra info you need.
>>>
>>> Thanks
>>> Cormac
>>>
>>> [1] Loading required package: tcltk
>>> Loading Tcl/Tk interface ... Error in dyn.load(x, as.logical(local),
>>> as.logical(now)) :
>>>        unable to load shared library
>>> '/Library/Frameworks/R.framework/Resources/library/tcltk/libs/
>>> tcltk.so':
>>>  dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open
>>> library: /usr/local/lib/libtk8.4.dylib  (No such file or directory,
>>> errno = 2)
>>> In addition: Warning messages:
>>> 1: cannot create HTML package index in: make.packages.html()
>>> 2: cannot create HTML package index in: make.packages.html()
>>> Error: .onLoad failed in 'loadNamespace' for 'tcltk'
>>> Error: package 'tcltk' could not be loaded
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>

===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
.mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
homepages: http://gifi.stat.ucla.edu ++++++ http://www.cuddyvalley.org
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au


From wettenhall at wehi.EDU.AU  Wed Oct 19 09:21:15 2005
From: wettenhall at wehi.EDU.AU (James Wettenhall)
Date: Wed, 19 Oct 2005 17:21:15 +1000 (EST)
Subject: [R-SIG-Mac] loading Rcmdr, R-Tcl/Tk errors due to X11
In-Reply-To: <409870E0-277F-435D-A7F3-5B67E6A6A51B@stat.ucla.edu>
References: <e3930910510181554o32e0c2d8y119da3b6b8a508c0@mail.gmail.com>
	<D0DAD3A7-A7A4-4602-83E3-1DC972B11844@sauder.ubc.ca>
	<3893.192.168.65.113.1129688678.squirrel@homebase.wehi.edu.au>
	<409870E0-277F-435D-A7F3-5B67E6A6A51B@stat.ucla.edu>
Message-ID: <4120.192.168.65.113.1129706475.squirrel@homebase.wehi.edu.au>

Thanks Jan,

That makes some sense to me.  But I'm still not really clear on how best
to advise a user of my R-Tcl/Tk package who says "I'm just a dumb GUI
user.  I don't want to use the R command-line, I only want to use your
Tcl/Tk GUI.  And I don't want to learn what an environment variable is.
etc."

It's very unlikely that the sort of user I'm talking about would be using
emacs (and I don't use it either).  I'm more interested in making it as
easy as possible for a user to get started with an R-Tcl/Tk GUI who
doesn't know how to use the R command-line and who doesn't know about
things like environment variables and .Rprofile files etc.  So that's why
I was wondering whether it would be possible for tcltk's .First.lib() or
equivalent to test whether X11 is running, and if not, give a friendly
error message.

Best wishes,
James


> I run R from the terminal, from the Aqua GUI, from Carbon/Cocoa
> emacs, or from X11 emacs. In order to make sure that X11 is
> always available I start X11.app from the login items in system
> preferences. This is not enough, because running R from carbon/cocoa
> emacs cannot
> find $DISPLAY even if X11.app is running and it is defined in .tcshrc
> -- so in addition my Rprofile.site has
>
> local({
>         options(device="x11")
>         options(repos="http://cran.r-project.org")
>         options(pkgType="source")
>         Sys.putenv(DISPLAY=":0.0")
>      })
>
> .First <- function() {
> 	cat("\n   Welcome to Jan's R-2.3.0 !\n\n")
> 	}
>
> This guarantees that library(tkrplot) or library(tcltk) always
> works in all my different GUI's.
>
> On Oct 18, 2005, at 19:24 , James Wettenhall wrote:
>
>> Hi,
>>
>> This problem of getting Tcl/Tk errors in R on MacOSX because X11 isn't
>> running seems to be quite common, and unfortunately R's tcltk
>> package is
>> currently unable to check whether X11 is running (if the operating
>> system
>> is Darwin) and if not, give a friendly error message advising the
>> user to
>> run X11.  My expertise on this is limited, but do people think it
>> would be
>> possible for the tcltk package to automatically check for X11?
>> Obviously
>> this is platform dependent - X11 is not required on Windows.
>>
>> A colleague of mine had Tcl/Tk errors and she found that she could
>> only
>> start R-Tcl/Tk applications when her network cable was removed from
>> her
>> laptop.  When the network cable was plugged in, X11 appeared to
>> start OK,
>> but then it silently froze up due to some network problem.  So the
>> R-Tcl/Tk interface failed to initalize as a result.
>>
>> Hope this was of interest to some people.
>> Best wishes,
>> James
>>
>>
>>
>>> Hi Cormac,
>>>
>>> The error you are getting is because X11 isn't launched prior to when
>>> you are launching the tcltk package in R. Try rebooting, and attempt
>>> to launch X11 before loading R. If X11 still doesn't launch, then
>>> your problem isn't with R, and you might reinstalling X11.
>>>
>>> You also probably want to look at the OS X installation instructions
>>> for R Commander (http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/
>>> installation-notes.html).
>>>
>>> Dan
>>>
>>> On 18-Oct-05, at 3:54 PM, Cormac Lawler wrote:
>>>
>>>> (originally posted to R-Help - advised to post here)
>>>> Hi,
>>>> I'm using a Mac, I've downloaded R (base), and I'm trying to
>>>> download
>>>> the package R Commander. I thought I had already done this (both
>>>> from
>>>> the web and from within R) but it doesn't seem to be working - it's
>>>> not there as a "search()" reveals. However, there are plenty of
>>>> files
>>>> on my system linked with Rcmdr - located in
>>>> HD>Library>Frameworks>R.framework>Versions>2.1.1>Resources>Library>R
>>>> cm
>>>> dr.
>>>> Is it simply in the wrong location to use it? The other
>>>> possibility is
>>>> that I keep getting a tcltk error whenever I try to load up the
>>>> package from the Package Manager from within R - and when I try to
>>>> upload the tcltk package, this also gives the same error [1]. I also
>>>> get a "Couldn't launch application" error whenever I try to
>>>> launch the
>>>> X11.app.
>>>>
>>>> This is probably so basic it's staring me in the eyes, but I need
>>>> your
>>>> help please. I'd be happy to give any extra info you need.
>>>>
>>>> Thanks
>>>> Cormac
>>>>
>>>> [1] Loading required package: tcltk
>>>> Loading Tcl/Tk interface ... Error in dyn.load(x, as.logical(local),
>>>> as.logical(now)) :
>>>>        unable to load shared library
>>>> '/Library/Frameworks/R.framework/Resources/library/tcltk/libs/
>>>> tcltk.so':
>>>>  dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open
>>>> library: /usr/local/lib/libtk8.4.dylib  (No such file or directory,
>>>> errno = 2)
>>>> In addition: Warning messages:
>>>> 1: cannot create HTML package index in: make.packages.html()
>>>> 2: cannot create HTML package index in: make.packages.html()
>>>> Error: .onLoad failed in 'loadNamespace' for 'tcltk'
>>>> Error: package 'tcltk' could not be loaded
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>
> ===
> Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of
> Statistics;
> Editor: Journal of Multivariate Analysis, Journal of Statistical
> Software
> US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
> phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
> .mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
> homepages: http://gifi.stat.ucla.edu ++++++ http://www.cuddyvalley.org
>
> ------------------------------------------------------------------------
> -------------------------
>            No matter where you go, there you are. --- Buckaroo Banzai
>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>
> ------------------------------------------------------------------------
> -------------------------
>
>
>
>


From g.Hatkar at zensar.com  Wed Oct 19 04:32:19 2005
From: g.Hatkar at zensar.com (Girish Hatkar)
Date: Wed, 19 Oct 2005 08:02:19 +0530
Subject: [R-SIG-Mac] problem installing tkrplot
Message-ID: <63F03D434DEDFE40B1593C328A41D501021355B5@ZENMAILHQ1.ind.zensar.com>

James

We were actually trying to upgrade the tcl & tk to tcl-8.4.5-7 which
conflicts with file from package tcl-8.3.5-92.2. 

I was trying to find how to successfully upgrade it. I guess your mail
is very much clear about the dependant to be installed first.

Many Thanks 
Regards,
Girish


-----Original Message-----
From: James Wettenhall [mailto:wettenhall at wehi.EDU.AU] 
Sent: Wednesday, October 19, 2005 7:45 AM
To: Girish Hatkar
Cc: r-sig-mac at stat.math.ethz.ch
Subject: Re: [R-SIG-Mac] problem installing tkrplot

Girish,

> We saw your query on google.com we are facing the same issue as

Who's query?  Are you referring to a particular post from R-SIG-MAC? 
Could you give a direct link to that post?

You talk about rpm's.  Are you sure you're posting this question to the
right mailing list?  I didn't know you could use rpm's on MacOSX.  I
thought they were only for Linux.

Are you trying to install tkrplot from source or from binary?  And if
you
want a binary version - do you want a Mac binary or a Linux binary?

If you want a Mac binary, the version of tkrplot for R 2.2.0:
http://cran.r-project.org/bin/macosx/2.2/tkrplot_0.0-12.tgz
doesn't seem to exist yet.

But the R 2.1.x version is available here:
http://cran.r-project.org/bin/macosx/2.1/tkrplot_0.0-12.tgz

Do you want a Mac binary of tkrplot (as you are posting to the R-SIG-Mac
mailing list)?  Or are you actually trying to run tkrplot on Linux?  If
so, it sounds like you just need to ask your Linux administrator to
clean
up your Tcl/Tk installation a bit.  Maybe it's just a matter of
installing
the latest RPMs for tcl, tk, tcl-devel and tk-devel (or whatever they
are
called) and the relevant x11-devel rpm(s) as well.  Or maybe you have a
mixture of Tcl/Tk installed from source and from RPM and something is
messed up?  Maybe post to a Tcl/Tk mailing list, rather than an R
mailing
list?

Lastly, I'm curious as to why you want to use tkrplot.  On MacOSX (which
this mailing list is for), I don't know many R users who use tkrplot,
and
there are very few R packages that I know of which depend on tkrplot.
My
packages limmaGUI and affylmGUI suggest tkrplot, but it is not required,
and most Mac users prefer to use the Quartz graphics device which gives
them almost all the same functionality except for one interactive plot
(i.e. clicking on a point in a heat-map/array-image-plot to tell you
which
gene you're looking at) which currently only works with tkrplot.

Hope this helps,
James

> mentioned by you.
> Were you able to resolve this... Can you please share with us your
> experience in resolving this issue?
>
> =================================
> [root at hotbot <https://stat.ethz.ch/mailman/listinfo/r-sig-mac>
> bourbon]# rpm -ivh tcl-8.4.5-7.x86_64.rpm
> warning: tcl-8.4.5-7.x86_64.rpm: V3 DSA signature: NOKEY, key ID
> 4f2a6fd2
> Preparing...
###########################################
> [100%]
>       file /usr/bin/tclsh from install of tcl-8.4.5-7 conflicts with
> file from package tcl-8.3.5-92.2
>       file /usr/lib64/tclConfig.sh from install of tcl-8.4.5-7
conflicts
>
> with file from package tcl-8.3.5-92.2
>       file /usr/share/man/man1/tclsh.1.gz from install of tcl-8.4.5-7
> conflicts with file from package tcl-8.3.5-92.2
> [root at hotbot <https://stat.ethz.ch/mailman/listinfo/r-sig-mac>
> bourbon]#
>
>
>
>
> Regards,
>
> Girish
>
>
>
>
> 	[[alternative HTML version deleted]]
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From stefano.iacus at unimi.it  Wed Oct 19 10:16:07 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Wed, 19 Oct 2005 10:16:07 +0200
Subject: [R-SIG-Mac] loading Rcmdr, R-Tcl/Tk errors due to X11
In-Reply-To: <4120.192.168.65.113.1129706475.squirrel@homebase.wehi.edu.au>
References: <e3930910510181554o32e0c2d8y119da3b6b8a508c0@mail.gmail.com>
	<D0DAD3A7-A7A4-4602-83E3-1DC972B11844@sauder.ubc.ca>
	<3893.192.168.65.113.1129688678.squirrel@homebase.wehi.edu.au>
	<409870E0-277F-435D-A7F3-5B67E6A6A51B@stat.ucla.edu>
	<4120.192.168.65.113.1129706475.squirrel@homebase.wehi.edu.au>
Message-ID: <DB077134-C3BF-4494-A0A9-849B1C676737@unimi.it>


On 19/ott/05, at 09:21, James Wettenhall wrote:


> Thanks Jan,
>
> That makes some sense to me.  But I'm still not really clear on how  
> best
> to advise a user of my R-Tcl/Tk package who says "I'm just a dumb GUI
> user.  I don't want to use the R command-line, I only want to use your
> Tcl/Tk GUI.  And I don't want to learn what an environment variable  
> is.
> etc."
>
>

if this is the case, your user is probably an R.app user. Then this  
use will find on the R.app toolbar an icon with "X11" in it. Just  
click on it before launching your package (or any tcltk based  
package). That's all.
One other option for your user is to read the OS X Faq, but I know  
this is rarely the case...




> It's very unlikely that the sort of user I'm talking about would be  
> using
> emacs (and I don't use it either).  I'm more interested in making  
> it as
> easy as possible for a user to get started with an R-Tcl/Tk GUI who
> doesn't know how to use the R command-line and who doesn't know about
> things like environment variables and .Rprofile files etc.  So  
> that's why
> I was wondering whether it would be possible for tcltk's .First.lib 
> () or
> equivalent to test whether X11 is running, and if not, give a friendly
> error message.
>
> Best wishes,
> James
>
>
>
>
>> I run R from the terminal, from the Aqua GUI, from Carbon/Cocoa
>> emacs, or from X11 emacs. In order to make sure that X11 is
>> always available I start X11.app from the login items in system
>> preferences. This is not enough, because running R from carbon/cocoa
>> emacs cannot
>> find $DISPLAY even if X11.app is running and it is defined in .tcshrc
>> -- so in addition my Rprofile.site has
>>
>> local({
>>         options(device="x11")
>>         options(repos="http://cran.r-project.org")
>>         options(pkgType="source")
>>         Sys.putenv(DISPLAY=":0.0")
>>      })
>>
>> .First <- function() {
>>     cat("\n   Welcome to Jan's R-2.3.0 !\n\n")
>>     }
>>
>> This guarantees that library(tkrplot) or library(tcltk) always
>> works in all my different GUI's.
>>
>> On Oct 18, 2005, at 19:24 , James Wettenhall wrote:
>>
>>
>>
>>> Hi,
>>>
>>> This problem of getting Tcl/Tk errors in R on MacOSX because X11  
>>> isn't
>>> running seems to be quite common, and unfortunately R's tcltk
>>> package is
>>> currently unable to check whether X11 is running (if the operating
>>> system
>>> is Darwin) and if not, give a friendly error message advising the
>>> user to
>>> run X11.  My expertise on this is limited, but do people think it
>>> would be
>>> possible for the tcltk package to automatically check for X11?
>>> Obviously
>>> this is platform dependent - X11 is not required on Windows.
>>>
>>> A colleague of mine had Tcl/Tk errors and she found that she could
>>> only
>>> start R-Tcl/Tk applications when her network cable was removed from
>>> her
>>> laptop.  When the network cable was plugged in, X11 appeared to
>>> start OK,
>>> but then it silently froze up due to some network problem.  So the
>>> R-Tcl/Tk interface failed to initalize as a result.
>>>
>>> Hope this was of interest to some people.
>>> Best wishes,
>>> James
>>>
>>>
>>>
>>>
>>>
>>>> Hi Cormac,
>>>>
>>>> The error you are getting is because X11 isn't launched prior to  
>>>> when
>>>> you are launching the tcltk package in R. Try rebooting, and  
>>>> attempt
>>>> to launch X11 before loading R. If X11 still doesn't launch, then
>>>> your problem isn't with R, and you might reinstalling X11.
>>>>
>>>> You also probably want to look at the OS X installation  
>>>> instructions
>>>> for R Commander (http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/
>>>> installation-notes.html).
>>>>
>>>> Dan
>>>>
>>>> On 18-Oct-05, at 3:54 PM, Cormac Lawler wrote:
>>>>
>>>>
>>>>
>>>>> (originally posted to R-Help - advised to post here)
>>>>> Hi,
>>>>> I'm using a Mac, I've downloaded R (base), and I'm trying to
>>>>> download
>>>>> the package R Commander. I thought I had already done this (both
>>>>> from
>>>>> the web and from within R) but it doesn't seem to be working -  
>>>>> it's
>>>>> not there as a "search()" reveals. However, there are plenty of
>>>>> files
>>>>> on my system linked with Rcmdr - located in
>>>>> HD>Library>Frameworks>R.framework>Versions>2.1.1>Resources>Library 
>>>>> >R
>>>>> cm
>>>>> dr.
>>>>> Is it simply in the wrong location to use it? The other
>>>>> possibility is
>>>>> that I keep getting a tcltk error whenever I try to load up the
>>>>> package from the Package Manager from within R - and when I try to
>>>>> upload the tcltk package, this also gives the same error [1]. I  
>>>>> also
>>>>> get a "Couldn't launch application" error whenever I try to
>>>>> launch the
>>>>> X11.app.
>>>>>
>>>>> This is probably so basic it's staring me in the eyes, but I need
>>>>> your
>>>>> help please. I'd be happy to give any extra info you need.
>>>>>
>>>>> Thanks
>>>>> Cormac
>>>>>
>>>>> [1] Loading required package: tcltk
>>>>> Loading Tcl/Tk interface ... Error in dyn.load(x, as.logical 
>>>>> (local),
>>>>> as.logical(now)) :
>>>>>        unable to load shared library
>>>>> '/Library/Frameworks/R.framework/Resources/library/tcltk/libs/
>>>>> tcltk.so':
>>>>>  dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open
>>>>> library: /usr/local/lib/libtk8.4.dylib  (No such file or  
>>>>> directory,
>>>>> errno = 2)
>>>>> In addition: Warning messages:
>>>>> 1: cannot create HTML package index in: make.packages.html()
>>>>> 2: cannot create HTML package index in: make.packages.html()
>>>>> Error: .onLoad failed in 'loadNamespace' for 'tcltk'
>>>>> Error: package 'tcltk' could not be loaded
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>>
>>
>> ===
>> Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of
>> Statistics;
>> Editor: Journal of Multivariate Analysis, Journal of Statistical
>> Software
>> US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA  
>> 90095-1554
>> phone (310)-825-9550;  fax (310)-206-5658;  email:  
>> deleeuw at stat.ucla.edu
>> .mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
>> homepages: http://gifi.stat.ucla.edu ++++++ http:// 
>> www.cuddyvalley.org
>>
>> --------------------------------------------------------------------- 
>> ---
>> -------------------------
>>            No matter where you go, there you are. --- Buckaroo Banzai
>>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>>
>> --------------------------------------------------------------------- 
>> ---
>> -------------------------
>>
>>
>>
>>
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>
>


From putler at sauder.ubc.ca  Wed Oct 19 18:23:33 2005
From: putler at sauder.ubc.ca (Dan Putler)
Date: Wed, 19 Oct 2005 09:23:33 -0700
Subject: [R-SIG-Mac] loading Rcmdr, R-Tcl/Tk errors due to X11
In-Reply-To: <DB077134-C3BF-4494-A0A9-849B1C676737@unimi.it>
References: <e3930910510181554o32e0c2d8y119da3b6b8a508c0@mail.gmail.com>
	<D0DAD3A7-A7A4-4602-83E3-1DC972B11844@sauder.ubc.ca>
	<3893.192.168.65.113.1129688678.squirrel@homebase.wehi.edu.au>
	<409870E0-277F-435D-A7F3-5B67E6A6A51B@stat.ucla.edu>
	<4120.192.168.65.113.1129706475.squirrel@homebase.wehi.edu.au>
	<DB077134-C3BF-4494-A0A9-849B1C676737@unimi.it>
Message-ID: <0C290AFD-4D09-4C7F-B121-B9D6EFE28069@sauder.ubc.ca>

Hi Stefano,

One problem that I ran into is that an R workspace (if it has been  
saved after a prior session where R Commander was used) will load the  
tcltk package at startup. This causes a fatal error in R, and the R  
Console application will never come up if X11 isn't already running.  
How I dealt with this problem was to write an applescript that  
launched X11 followed by R. This worked under Panther, but my  
applescript stopped working under Tiger, and I haven't taken the time  
yet to diagnose the problem. However, I'm about to start working on R  
Commander related things for class, and one of my goals is to look at  
ways to make things easier for Mac users.

As things stand now, it is far easier to get a novice Windows user up  
and running with R Commander (they just need to double-click on a  
customized installer, and after that when they launch R, R Commander  
is automatically loaded along with all its support packages) than it  
is for a Mac user (who may need to install X11, Xcode tools, and  
download and compile libpng if they want access to rgl under R  
Commander).  When you want to just run things under an application  
GUI (like R Commander or James's  limmaGUI and affylmGUI) it might be  
the case that taking Jan's approach of running the console in an X11  
terminal, using the X11 graphics devise (instead of Quartz), and  
using aqua Tcl/Tk (to make the GUI feel more like a Mac app) works  
best in terms of developing a simple configuration for novice users.  
Over the next month I'll experiment with a few things, and post what  
I find works best to the list.

Dan

On 19-Oct-05, at 1:16 AM, stefano iacus wrote:

>
> On 19/ott/05, at 09:21, James Wettenhall wrote:
>
>
>
>> Thanks Jan,
>>
>> That makes some sense to me.  But I'm still not really clear on how
>> best
>> to advise a user of my R-Tcl/Tk package who says "I'm just a dumb GUI
>> user.  I don't want to use the R command-line, I only want to use  
>> your
>> Tcl/Tk GUI.  And I don't want to learn what an environment variable
>> is.
>> etc."
>>
>>
>>
>
> if this is the case, your user is probably an R.app user. Then this
> use will find on the R.app toolbar an icon with "X11" in it. Just
> click on it before launching your package (or any tcltk based
> package). That's all.
> One other option for your user is to read the OS X Faq, but I know
> this is rarely the case...
>
>
>
>
>
>> It's very unlikely that the sort of user I'm talking about would be
>> using
>> emacs (and I don't use it either).  I'm more interested in making
>> it as
>> easy as possible for a user to get started with an R-Tcl/Tk GUI who
>> doesn't know how to use the R command-line and who doesn't know about
>> things like environment variables and .Rprofile files etc.  So
>> that's why
>> I was wondering whether it would be possible for tcltk's .First.lib
>> () or
>> equivalent to test whether X11 is running, and if not, give a  
>> friendly
>> error message.
>>
>> Best wishes,
>> James
>>
>>
>>
>>
>>
>>> I run R from the terminal, from the Aqua GUI, from Carbon/Cocoa
>>> emacs, or from X11 emacs. In order to make sure that X11 is
>>> always available I start X11.app from the login items in system
>>> preferences. This is not enough, because running R from carbon/cocoa
>>> emacs cannot
>>> find $DISPLAY even if X11.app is running and it is defined  
>>> in .tcshrc
>>> -- so in addition my Rprofile.site has
>>>
>>> local({
>>>         options(device="x11")
>>>         options(repos="http://cran.r-project.org")
>>>         options(pkgType="source")
>>>         Sys.putenv(DISPLAY=":0.0")
>>>      })
>>>
>>> .First <- function() {
>>>     cat("\n   Welcome to Jan's R-2.3.0 !\n\n")
>>>     }
>>>
>>> This guarantees that library(tkrplot) or library(tcltk) always
>>> works in all my different GUI's.
>>>
>>> On Oct 18, 2005, at 19:24 , James Wettenhall wrote:
>>>
>>>
>>>
>>>
>>>> Hi,
>>>>
>>>> This problem of getting Tcl/Tk errors in R on MacOSX because X11
>>>> isn't
>>>> running seems to be quite common, and unfortunately R's tcltk
>>>> package is
>>>> currently unable to check whether X11 is running (if the operating
>>>> system
>>>> is Darwin) and if not, give a friendly error message advising the
>>>> user to
>>>> run X11.  My expertise on this is limited, but do people think it
>>>> would be
>>>> possible for the tcltk package to automatically check for X11?
>>>> Obviously
>>>> this is platform dependent - X11 is not required on Windows.
>>>>
>>>> A colleague of mine had Tcl/Tk errors and she found that she could
>>>> only
>>>> start R-Tcl/Tk applications when her network cable was removed from
>>>> her
>>>> laptop.  When the network cable was plugged in, X11 appeared to
>>>> start OK,
>>>> but then it silently froze up due to some network problem.  So the
>>>> R-Tcl/Tk interface failed to initalize as a result.
>>>>
>>>> Hope this was of interest to some people.
>>>> Best wishes,
>>>> James
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>> Hi Cormac,
>>>>>
>>>>> The error you are getting is because X11 isn't launched prior to
>>>>> when
>>>>> you are launching the tcltk package in R. Try rebooting, and
>>>>> attempt
>>>>> to launch X11 before loading R. If X11 still doesn't launch, then
>>>>> your problem isn't with R, and you might reinstalling X11.
>>>>>
>>>>> You also probably want to look at the OS X installation
>>>>> instructions
>>>>> for R Commander (http://socserv.socsci.mcmaster.ca/jfox/Misc/ 
>>>>> Rcmdr/
>>>>> installation-notes.html).
>>>>>
>>>>> Dan
>>>>>
>>>>> On 18-Oct-05, at 3:54 PM, Cormac Lawler wrote:
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>> (originally posted to R-Help - advised to post here)
>>>>>> Hi,
>>>>>> I'm using a Mac, I've downloaded R (base), and I'm trying to
>>>>>> download
>>>>>> the package R Commander. I thought I had already done this (both
>>>>>> from
>>>>>> the web and from within R) but it doesn't seem to be working -
>>>>>> it's
>>>>>> not there as a "search()" reveals. However, there are plenty of
>>>>>> files
>>>>>> on my system linked with Rcmdr - located in
>>>>>> HD>Library>Frameworks>R.framework>Versions>2.1.1>Resources>Librar 
>>>>>> y
>>>>>>
>>>>>>> R
>>>>>>>
>>>>>> cm
>>>>>> dr.
>>>>>> Is it simply in the wrong location to use it? The other
>>>>>> possibility is
>>>>>> that I keep getting a tcltk error whenever I try to load up the
>>>>>> package from the Package Manager from within R - and when I  
>>>>>> try to
>>>>>> upload the tcltk package, this also gives the same error [1]. I
>>>>>> also
>>>>>> get a "Couldn't launch application" error whenever I try to
>>>>>> launch the
>>>>>> X11.app.
>>>>>>
>>>>>> This is probably so basic it's staring me in the eyes, but I need
>>>>>> your
>>>>>> help please. I'd be happy to give any extra info you need.
>>>>>>
>>>>>> Thanks
>>>>>> Cormac
>>>>>>
>>>>>> [1] Loading required package: tcltk
>>>>>> Loading Tcl/Tk interface ... Error in dyn.load(x, as.logical
>>>>>> (local),
>>>>>> as.logical(now)) :
>>>>>>        unable to load shared library
>>>>>> '/Library/Frameworks/R.framework/Resources/library/tcltk/libs/
>>>>>> tcltk.so':
>>>>>>  dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open
>>>>>> library: /usr/local/lib/libtk8.4.dylib  (No such file or
>>>>>> directory,
>>>>>> errno = 2)
>>>>>> In addition: Warning messages:
>>>>>> 1: cannot create HTML package index in: make.packages.html()
>>>>>> 2: cannot create HTML package index in: make.packages.html()
>>>>>> Error: .onLoad failed in 'loadNamespace' for 'tcltk'
>>>>>> Error: package 'tcltk' could not be loaded
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>>
>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>>
>>>>
>>>
>>> ===
>>> Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of
>>> Statistics;
>>> Editor: Journal of Multivariate Analysis, Journal of Statistical
>>> Software
>>> US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA
>>> 90095-1554
>>> phone (310)-825-9550;  fax (310)-206-5658;  email:
>>> deleeuw at stat.ucla.edu
>>> .mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
>>> homepages: http://gifi.stat.ucla.edu ++++++ http://
>>> www.cuddyvalley.org
>>>
>>> -------------------------------------------------------------------- 
>>> -
>>> ---
>>> -------------------------
>>>            No matter where you go, there you are. --- Buckaroo  
>>> Banzai
>>>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>>>
>>> -------------------------------------------------------------------- 
>>> -
>>> ---
>>> -------------------------
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From stefano.iacus at unimi.it  Wed Oct 19 19:08:19 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Wed, 19 Oct 2005 19:08:19 +0200
Subject: [R-SIG-Mac] loading Rcmdr, R-Tcl/Tk errors due to X11
In-Reply-To: <0C290AFD-4D09-4C7F-B121-B9D6EFE28069@sauder.ubc.ca>
References: <e3930910510181554o32e0c2d8y119da3b6b8a508c0@mail.gmail.com>
	<D0DAD3A7-A7A4-4602-83E3-1DC972B11844@sauder.ubc.ca>
	<3893.192.168.65.113.1129688678.squirrel@homebase.wehi.edu.au>
	<409870E0-277F-435D-A7F3-5B67E6A6A51B@stat.ucla.edu>
	<4120.192.168.65.113.1129706475.squirrel@homebase.wehi.edu.au>
	<DB077134-C3BF-4494-A0A9-849B1C676737@unimi.it>
	<0C290AFD-4D09-4C7F-B121-B9D6EFE28069@sauder.ubc.ca>
Message-ID: <A56737D0-0A33-4019-A97A-6AF95F509F4B@unimi.it>


On 19/ott/05, at 18:23, Dan Putler wrote:

> Hi Stefano,
>
> One problem that I ran into is that an R workspace (if it has been
> saved after a prior session where R Commander was used) will load the
> tcltk package at startup. This causes a fatal error in R, and the R
> Console application will never come up if X11 isn't already running.
> How I dealt with this problem was to write an applescript that
> launched X11 followed by R. This worked under Panther, but my
> applescript stopped working under Tiger, and I haven't taken the time
> yet to diagnose the problem. However, I'm about to start working on R
> Commander related things for class, and one of my goals is to look at
> ways to make things easier for Mac users.

why you don't put X11.app in the startup app preferences? (if you  
have x11 running, you can even do this from the doc).

Unfortunately X11.app must be installed by the end as it is not  
installed by the OS X Apple's installer by default (don't ask me why!!!)

For several reasons we decided not to run the X11.app at R launch  
but, given that this is becoming a faq, I'm thinking about adding a  
Preference setting into R.app to launch X1.app at startup. At the  
moment R.app just sets the DISPLAY env var to :0 so that R can  
connect to the X11 server if present.

>
> As things stand now, it is far easier to get a novice Windows user up
> and running with R Commander (they just need to double-click on a
> customized installer, and after that when they launch R, R Commander
> is automatically loaded along with all its support packages) than it
> is for a Mac user (who may need to install X11, Xcode tools, and
> download and compile libpng if they want access to rgl under R
> Commander).

this is no longer true as libpng is statically linked to R. XCode  
tools and company are not needed as well, only if users want to build  
packages their own (but this is also true for Windog R I guess)

btw next release (have a look on CRAN or wait for the official  
announcement ;) ) is now less dependent on external libraries


> When you want to just run things under an application
> GUI (like R Commander or James's  limmaGUI and affylmGUI) it might be
> the case that taking Jan's approach of running the console in an X11
> terminal, using the X11 graphics devise (instead of Quartz), and
> using aqua Tcl/Tk (to make the GUI feel more like a Mac app) works
> best in terms of developing a simple configuration for novice users.

if you run R from the terminal and you assume you can use X11 for  
graphics instead of quartz, then I don't see why this is easier for  
the dummy user. He needs to run X11.app anyway before R. So why not  
telling him: please launch X11.app and then R (if you need Rcommander)
In my opinion Jan's approach is probably the best approach if you  
need to  run R from Emacs but not for dummy user

> Over the next month I'll experiment with a few things, and post what
> I find works best to the list.
thanks for this
stefano

>
> Dan
>
> On 19-Oct-05, at 1:16 AM, stefano iacus wrote:
>
>
>>
>> On 19/ott/05, at 09:21, James Wettenhall wrote:
>>
>>
>>
>>
>>> Thanks Jan,
>>>
>>> That makes some sense to me.  But I'm still not really clear on how
>>> best
>>> to advise a user of my R-Tcl/Tk package who says "I'm just a dumb  
>>> GUI
>>> user.  I don't want to use the R command-line, I only want to use
>>> your
>>> Tcl/Tk GUI.  And I don't want to learn what an environment variable
>>> is.
>>> etc."
>>>
>>>
>>>
>>>
>>
>> if this is the case, your user is probably an R.app user. Then this
>> use will find on the R.app toolbar an icon with "X11" in it. Just
>> click on it before launching your package (or any tcltk based
>> package). That's all.
>> One other option for your user is to read the OS X Faq, but I know
>> this is rarely the case...
>>
>>
>>
>>
>>
>>
>>> It's very unlikely that the sort of user I'm talking about would be
>>> using
>>> emacs (and I don't use it either).  I'm more interested in making
>>> it as
>>> easy as possible for a user to get started with an R-Tcl/Tk GUI who
>>> doesn't know how to use the R command-line and who doesn't know  
>>> about
>>> things like environment variables and .Rprofile files etc.  So
>>> that's why
>>> I was wondering whether it would be possible for tcltk's .First.lib
>>> () or
>>> equivalent to test whether X11 is running, and if not, give a
>>> friendly
>>> error message.
>>>
>>> Best wishes,
>>> James
>>>
>>>
>>>
>>>
>>>
>>>
>>>> I run R from the terminal, from the Aqua GUI, from Carbon/Cocoa
>>>> emacs, or from X11 emacs. In order to make sure that X11 is
>>>> always available I start X11.app from the login items in system
>>>> preferences. This is not enough, because running R from carbon/ 
>>>> cocoa
>>>> emacs cannot
>>>> find $DISPLAY even if X11.app is running and it is defined
>>>> in .tcshrc
>>>> -- so in addition my Rprofile.site has
>>>>
>>>> local({
>>>>         options(device="x11")
>>>>         options(repos="http://cran.r-project.org")
>>>>         options(pkgType="source")
>>>>         Sys.putenv(DISPLAY=":0.0")
>>>>      })
>>>>
>>>> .First <- function() {
>>>>     cat("\n   Welcome to Jan's R-2.3.0 !\n\n")
>>>>     }
>>>>
>>>> This guarantees that library(tkrplot) or library(tcltk) always
>>>> works in all my different GUI's.
>>>>
>>>> On Oct 18, 2005, at 19:24 , James Wettenhall wrote:
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>> Hi,
>>>>>
>>>>> This problem of getting Tcl/Tk errors in R on MacOSX because X11
>>>>> isn't
>>>>> running seems to be quite common, and unfortunately R's tcltk
>>>>> package is
>>>>> currently unable to check whether X11 is running (if the operating
>>>>> system
>>>>> is Darwin) and if not, give a friendly error message advising the
>>>>> user to
>>>>> run X11.  My expertise on this is limited, but do people think it
>>>>> would be
>>>>> possible for the tcltk package to automatically check for X11?
>>>>> Obviously
>>>>> this is platform dependent - X11 is not required on Windows.
>>>>>
>>>>> A colleague of mine had Tcl/Tk errors and she found that she could
>>>>> only
>>>>> start R-Tcl/Tk applications when her network cable was removed  
>>>>> from
>>>>> her
>>>>> laptop.  When the network cable was plugged in, X11 appeared to
>>>>> start OK,
>>>>> but then it silently froze up due to some network problem.  So the
>>>>> R-Tcl/Tk interface failed to initalize as a result.
>>>>>
>>>>> Hope this was of interest to some people.
>>>>> Best wishes,
>>>>> James
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>> Hi Cormac,
>>>>>>
>>>>>> The error you are getting is because X11 isn't launched prior to
>>>>>> when
>>>>>> you are launching the tcltk package in R. Try rebooting, and
>>>>>> attempt
>>>>>> to launch X11 before loading R. If X11 still doesn't launch, then
>>>>>> your problem isn't with R, and you might reinstalling X11.
>>>>>>
>>>>>> You also probably want to look at the OS X installation
>>>>>> instructions
>>>>>> for R Commander (http://socserv.socsci.mcmaster.ca/jfox/Misc/
>>>>>> Rcmdr/
>>>>>> installation-notes.html).
>>>>>>
>>>>>> Dan
>>>>>>
>>>>>> On 18-Oct-05, at 3:54 PM, Cormac Lawler wrote:
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>> (originally posted to R-Help - advised to post here)
>>>>>>> Hi,
>>>>>>> I'm using a Mac, I've downloaded R (base), and I'm trying to
>>>>>>> download
>>>>>>> the package R Commander. I thought I had already done this (both
>>>>>>> from
>>>>>>> the web and from within R) but it doesn't seem to be working -
>>>>>>> it's
>>>>>>> not there as a "search()" reveals. However, there are plenty of
>>>>>>> files
>>>>>>> on my system linked with Rcmdr - located in
>>>>>>> HD>Library>Frameworks>R.framework>Versions>2.1.1>Resources>Libra 
>>>>>>> r
>>>>>>> y
>>>>>>>
>>>>>>>
>>>>>>>> R
>>>>>>>>
>>>>>>>>
>>>>>>> cm
>>>>>>> dr.
>>>>>>> Is it simply in the wrong location to use it? The other
>>>>>>> possibility is
>>>>>>> that I keep getting a tcltk error whenever I try to load up the
>>>>>>> package from the Package Manager from within R - and when I
>>>>>>> try to
>>>>>>> upload the tcltk package, this also gives the same error [1]. I
>>>>>>> also
>>>>>>> get a "Couldn't launch application" error whenever I try to
>>>>>>> launch the
>>>>>>> X11.app.
>>>>>>>
>>>>>>> This is probably so basic it's staring me in the eyes, but I  
>>>>>>> need
>>>>>>> your
>>>>>>> help please. I'd be happy to give any extra info you need.
>>>>>>>
>>>>>>> Thanks
>>>>>>> Cormac
>>>>>>>
>>>>>>> [1] Loading required package: tcltk
>>>>>>> Loading Tcl/Tk interface ... Error in dyn.load(x, as.logical
>>>>>>> (local),
>>>>>>> as.logical(now)) :
>>>>>>>        unable to load shared library
>>>>>>> '/Library/Frameworks/R.framework/Resources/library/tcltk/libs/
>>>>>>> tcltk.so':
>>>>>>>  dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open
>>>>>>> library: /usr/local/lib/libtk8.4.dylib  (No such file or
>>>>>>> directory,
>>>>>>> errno = 2)
>>>>>>> In addition: Warning messages:
>>>>>>> 1: cannot create HTML package index in: make.packages.html()
>>>>>>> 2: cannot create HTML package index in: make.packages.html()
>>>>>>> Error: .onLoad failed in 'loadNamespace' for 'tcltk'
>>>>>>> Error: package 'tcltk' could not be loaded
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>
>>>>> _______________________________________________
>>>>> R-SIG-Mac mailing list
>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>
>>>> ===
>>>> Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of
>>>> Statistics;
>>>> Editor: Journal of Multivariate Analysis, Journal of Statistical
>>>> Software
>>>> US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA
>>>> 90095-1554
>>>> phone (310)-825-9550;  fax (310)-206-5658;  email:
>>>> deleeuw at stat.ucla.edu
>>>> .mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
>>>> homepages: http://gifi.stat.ucla.edu ++++++ http://
>>>> www.cuddyvalley.org
>>>>
>>>> ------------------------------------------------------------------- 
>>>> -
>>>> -
>>>> ---
>>>> -------------------------
>>>>            No matter where you go, there you are. --- Buckaroo
>>>> Banzai
>>>>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>>>>
>>>> ------------------------------------------------------------------- 
>>>> -
>>>> -
>>>> ---
>>>> -------------------------
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>>
>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From tlumley at u.washington.edu  Wed Oct 19 19:58:32 2005
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Wed, 19 Oct 2005 10:58:32 -0700 (PDT)
Subject: [R-SIG-Mac] loading Rcmdr, R-Tcl/Tk errors due to X11
In-Reply-To: <A56737D0-0A33-4019-A97A-6AF95F509F4B@unimi.it>
References: <e3930910510181554o32e0c2d8y119da3b6b8a508c0@mail.gmail.com>
	<D0DAD3A7-A7A4-4602-83E3-1DC972B11844@sauder.ubc.ca>
	<3893.192.168.65.113.1129688678.squirrel@homebase.wehi.edu.au>
	<409870E0-277F-435D-A7F3-5B67E6A6A51B@stat.ucla.edu>
	<4120.192.168.65.113.1129706475.squirrel@homebase.wehi.edu.au>
	<DB077134-C3BF-4494-A0A9-849B1C676737@unimi.it>
	<0C290AFD-4D09-4C7F-B121-B9D6EFE28069@sauder.ubc.ca>
	<A56737D0-0A33-4019-A97A-6AF95F509F4B@unimi.it>
Message-ID: <Pine.LNX.4.63a.0510191056390.2347@homer23.u.washington.edu>

On Wed, 19 Oct 2005, stefano iacus wrote:
>
> why you don't put X11.app in the startup app preferences? (if you
> have x11 running, you can even do this from the doc).
>

There are problems with laptops, as James Wettenhall alluded to.  If you 
change your network connection you will (often) need to close and restart 
X11.   My laptop changes network connections much more often than it gets 
rebooted.

 	-thomas


From putler at sauder.ubc.ca  Wed Oct 19 20:17:50 2005
From: putler at sauder.ubc.ca (Dan Putler)
Date: Wed, 19 Oct 2005 11:17:50 -0700
Subject: [R-SIG-Mac] loading Rcmdr, R-Tcl/Tk errors due to X11
In-Reply-To: <A56737D0-0A33-4019-A97A-6AF95F509F4B@unimi.it>
References: <e3930910510181554o32e0c2d8y119da3b6b8a508c0@mail.gmail.com>
	<D0DAD3A7-A7A4-4602-83E3-1DC972B11844@sauder.ubc.ca>
	<3893.192.168.65.113.1129688678.squirrel@homebase.wehi.edu.au>
	<409870E0-277F-435D-A7F3-5B67E6A6A51B@stat.ucla.edu>
	<4120.192.168.65.113.1129706475.squirrel@homebase.wehi.edu.au>
	<DB077134-C3BF-4494-A0A9-849B1C676737@unimi.it>
	<0C290AFD-4D09-4C7F-B121-B9D6EFE28069@sauder.ubc.ca>
	<A56737D0-0A33-4019-A97A-6AF95F509F4B@unimi.it>
Message-ID: <0D23F4FC-D2ED-4C74-9028-11624BFB7A10@sauder.ubc.ca>

Hi Stefano,

So what are the implications of the external library changes for the  
use of rgl? Will it now run so long as X11 is up? Is the new release  
R 2.3 or R 2.2.1?

The potential plus to Jan's approach is that you could pre-load all  
the needed binary packages, and kick the application launch off using  
an applescript or shell script. Although, pre-loading the needed  
binary packages may also be true for R.app, and I'm just not aware of  
it.

As a related observation, what they have done on the Windows side to  
allow someone to distribute a customized version of R is really  
slick, it seems like creating a customized version of R is a somewhat  
more daunting task on the Mac side, or at least, I perceive it to be.

Dan

On 19-Oct-05, at 10:08 AM, stefano iacus wrote:

>
> On 19/ott/05, at 18:23, Dan Putler wrote:
>
>
>> Hi Stefano,
>>
>> One problem that I ran into is that an R workspace (if it has been
>> saved after a prior session where R Commander was used) will load the
>> tcltk package at startup. This causes a fatal error in R, and the R
>> Console application will never come up if X11 isn't already running.
>> How I dealt with this problem was to write an applescript that
>> launched X11 followed by R. This worked under Panther, but my
>> applescript stopped working under Tiger, and I haven't taken the time
>> yet to diagnose the problem. However, I'm about to start working on R
>> Commander related things for class, and one of my goals is to look at
>> ways to make things easier for Mac users.
>>
>
> why you don't put X11.app in the startup app preferences? (if you  
> have x11 running, you can even do this from the doc).
>
> Unfortunately X11.app must be installed by the end as it is not  
> installed by the OS X Apple's installer by default (don't ask me  
> why!!!)
>
> For several reasons we decided not to run the X11.app at R launch  
> but, given that this is becoming a faq, I'm thinking about adding a  
> Preference setting into R.app to launch X1.app at startup. At the  
> moment R.app just sets the DISPLAY env var to :0 so that R can  
> connect to the X11 server if present.
>
>
>>
>> As things stand now, it is far easier to get a novice Windows user up
>> and running with R Commander (they just need to double-click on a
>> customized installer, and after that when they launch R, R Commander
>> is automatically loaded along with all its support packages) than it
>> is for a Mac user (who may need to install X11, Xcode tools, and
>> download and compile libpng if they want access to rgl under R
>> Commander).
>>
>
> this is no longer true as libpng is statically linked to R. XCode  
> tools and company are not needed as well, only if users want to  
> build packages their own (but this is also true for Windog R I guess)
>
> btw next release (have a look on CRAN or wait for the official  
> announcement ;) ) is now less dependent on external libraries
>
>
>
>> When you want to just run things under an application
>> GUI (like R Commander or James's  limmaGUI and affylmGUI) it might be
>> the case that taking Jan's approach of running the console in an X11
>> terminal, using the X11 graphics devise (instead of Quartz), and
>> using aqua Tcl/Tk (to make the GUI feel more like a Mac app) works
>> best in terms of developing a simple configuration for novice users.
>>
>
> if you run R from the terminal and you assume you can use X11 for  
> graphics instead of quartz, then I don't see why this is easier for  
> the dummy user. He needs to run X11.app anyway before R. So why not  
> telling him: please launch X11.app and then R (if you need Rcommander)
> In my opinion Jan's approach is probably the best approach if you  
> need to  run R from Emacs but not for dummy user
>
>
>> Over the next month I'll experiment with a few things, and post what
>> I find works best to the list.
>>
> thanks for this
> stefano
>
>
>>
>> Dan
>>
>> On 19-Oct-05, at 1:16 AM, stefano iacus wrote:
>>
>>
>>
>>>
>>> On 19/ott/05, at 09:21, James Wettenhall wrote:
>>>
>>>
>>>
>>>
>>>
>>>> Thanks Jan,
>>>>
>>>> That makes some sense to me.  But I'm still not really clear on how
>>>> best
>>>> to advise a user of my R-Tcl/Tk package who says "I'm just a  
>>>> dumb GUI
>>>> user.  I don't want to use the R command-line, I only want to use
>>>> your
>>>> Tcl/Tk GUI.  And I don't want to learn what an environment variable
>>>> is.
>>>> etc."
>>>>
>>>>
>>>>
>>>>
>>>>
>>>
>>> if this is the case, your user is probably an R.app user. Then this
>>> use will find on the R.app toolbar an icon with "X11" in it. Just
>>> click on it before launching your package (or any tcltk based
>>> package). That's all.
>>> One other option for your user is to read the OS X Faq, but I know
>>> this is rarely the case...
>>>
>>>
>>>
>>>
>>>
>>>
>>>
>>>> It's very unlikely that the sort of user I'm talking about would be
>>>> using
>>>> emacs (and I don't use it either).  I'm more interested in making
>>>> it as
>>>> easy as possible for a user to get started with an R-Tcl/Tk GUI who
>>>> doesn't know how to use the R command-line and who doesn't know  
>>>> about
>>>> things like environment variables and .Rprofile files etc.  So
>>>> that's why
>>>> I was wondering whether it would be possible for tcltk's .First.lib
>>>> () or
>>>> equivalent to test whether X11 is running, and if not, give a
>>>> friendly
>>>> error message.
>>>>
>>>> Best wishes,
>>>> James
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>> I run R from the terminal, from the Aqua GUI, from Carbon/Cocoa
>>>>> emacs, or from X11 emacs. In order to make sure that X11 is
>>>>> always available I start X11.app from the login items in system
>>>>> preferences. This is not enough, because running R from carbon/ 
>>>>> cocoa
>>>>> emacs cannot
>>>>> find $DISPLAY even if X11.app is running and it is defined
>>>>> in .tcshrc
>>>>> -- so in addition my Rprofile.site has
>>>>>
>>>>> local({
>>>>>         options(device="x11")
>>>>>         options(repos="http://cran.r-project.org")
>>>>>         options(pkgType="source")
>>>>>         Sys.putenv(DISPLAY=":0.0")
>>>>>      })
>>>>>
>>>>> .First <- function() {
>>>>>     cat("\n   Welcome to Jan's R-2.3.0 !\n\n")
>>>>>     }
>>>>>
>>>>> This guarantees that library(tkrplot) or library(tcltk) always
>>>>> works in all my different GUI's.
>>>>>
>>>>> On Oct 18, 2005, at 19:24 , James Wettenhall wrote:
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>> Hi,
>>>>>>
>>>>>> This problem of getting Tcl/Tk errors in R on MacOSX because X11
>>>>>> isn't
>>>>>> running seems to be quite common, and unfortunately R's tcltk
>>>>>> package is
>>>>>> currently unable to check whether X11 is running (if the  
>>>>>> operating
>>>>>> system
>>>>>> is Darwin) and if not, give a friendly error message advising the
>>>>>> user to
>>>>>> run X11.  My expertise on this is limited, but do people think it
>>>>>> would be
>>>>>> possible for the tcltk package to automatically check for X11?
>>>>>> Obviously
>>>>>> this is platform dependent - X11 is not required on Windows.
>>>>>>
>>>>>> A colleague of mine had Tcl/Tk errors and she found that she  
>>>>>> could
>>>>>> only
>>>>>> start R-Tcl/Tk applications when her network cable was removed  
>>>>>> from
>>>>>> her
>>>>>> laptop.  When the network cable was plugged in, X11 appeared to
>>>>>> start OK,
>>>>>> but then it silently froze up due to some network problem.  So  
>>>>>> the
>>>>>> R-Tcl/Tk interface failed to initalize as a result.
>>>>>>
>>>>>> Hope this was of interest to some people.
>>>>>> Best wishes,
>>>>>> James
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>> Hi Cormac,
>>>>>>>
>>>>>>> The error you are getting is because X11 isn't launched prior to
>>>>>>> when
>>>>>>> you are launching the tcltk package in R. Try rebooting, and
>>>>>>> attempt
>>>>>>> to launch X11 before loading R. If X11 still doesn't launch,  
>>>>>>> then
>>>>>>> your problem isn't with R, and you might reinstalling X11.
>>>>>>>
>>>>>>> You also probably want to look at the OS X installation
>>>>>>> instructions
>>>>>>> for R Commander (http://socserv.socsci.mcmaster.ca/jfox/Misc/
>>>>>>> Rcmdr/
>>>>>>> installation-notes.html).
>>>>>>>
>>>>>>> Dan
>>>>>>>
>>>>>>> On 18-Oct-05, at 3:54 PM, Cormac Lawler wrote:
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>> (originally posted to R-Help - advised to post here)
>>>>>>>> Hi,
>>>>>>>> I'm using a Mac, I've downloaded R (base), and I'm trying to
>>>>>>>> download
>>>>>>>> the package R Commander. I thought I had already done this  
>>>>>>>> (both
>>>>>>>> from
>>>>>>>> the web and from within R) but it doesn't seem to be working -
>>>>>>>> it's
>>>>>>>> not there as a "search()" reveals. However, there are plenty of
>>>>>>>> files
>>>>>>>> on my system linked with Rcmdr - located in
>>>>>>>> HD>Library>Frameworks>R.framework>Versions>2.1.1>Resources>Libr 
>>>>>>>> ar
>>>>>>>> y
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>> R
>>>>>>>>>
>>>>>>>>>
>>>>>>>>>
>>>>>>>> cm
>>>>>>>> dr.
>>>>>>>> Is it simply in the wrong location to use it? The other
>>>>>>>> possibility is
>>>>>>>> that I keep getting a tcltk error whenever I try to load up the
>>>>>>>> package from the Package Manager from within R - and when I
>>>>>>>> try to
>>>>>>>> upload the tcltk package, this also gives the same error [1]. I
>>>>>>>> also
>>>>>>>> get a "Couldn't launch application" error whenever I try to
>>>>>>>> launch the
>>>>>>>> X11.app.
>>>>>>>>
>>>>>>>> This is probably so basic it's staring me in the eyes, but I  
>>>>>>>> need
>>>>>>>> your
>>>>>>>> help please. I'd be happy to give any extra info you need.
>>>>>>>>
>>>>>>>> Thanks
>>>>>>>> Cormac
>>>>>>>>
>>>>>>>> [1] Loading required package: tcltk
>>>>>>>> Loading Tcl/Tk interface ... Error in dyn.load(x, as.logical
>>>>>>>> (local),
>>>>>>>> as.logical(now)) :
>>>>>>>>        unable to load shared library
>>>>>>>> '/Library/Frameworks/R.framework/Resources/library/tcltk/libs/
>>>>>>>> tcltk.so':
>>>>>>>>  dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't  
>>>>>>>> open
>>>>>>>> library: /usr/local/lib/libtk8.4.dylib  (No such file or
>>>>>>>> directory,
>>>>>>>> errno = 2)
>>>>>>>> In addition: Warning messages:
>>>>>>>> 1: cannot create HTML package index in: make.packages.html()
>>>>>>>> 2: cannot create HTML package index in: make.packages.html()
>>>>>>>> Error: .onLoad failed in 'loadNamespace' for 'tcltk'
>>>>>>>> Error: package 'tcltk' could not be loaded
>>>>>>>>
>>>>>>>> _______________________________________________
>>>>>>>> R-SIG-Mac mailing list
>>>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>>
>>>>>>>
>>>>>>> _______________________________________________
>>>>>>> R-SIG-Mac mailing list
>>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>>
>>>>>>
>>>>>> _______________________________________________
>>>>>> R-SIG-Mac mailing list
>>>>>> R-SIG-Mac at stat.math.ethz.ch
>>>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>>
>>>>>
>>>>> ===
>>>>> Jan de Leeuw; Distinguished Professor and Chair, UCLA  
>>>>> Department of
>>>>> Statistics;
>>>>> Editor: Journal of Multivariate Analysis, Journal of Statistical
>>>>> Software
>>>>> US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA
>>>>> 90095-1554
>>>>> phone (310)-825-9550;  fax (310)-206-5658;  email:
>>>>> deleeuw at stat.ucla.edu
>>>>> .mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
>>>>> homepages: http://gifi.stat.ucla.edu ++++++ http://
>>>>> www.cuddyvalley.org
>>>>>
>>>>> ------------------------------------------------------------------ 
>>>>> --
>>>>> -
>>>>> ---
>>>>> -------------------------
>>>>>            No matter where you go, there you are. --- Buckaroo
>>>>> Banzai
>>>>>                     http://gifi.stat.ucla.edu/sounds/nomatter.au
>>>>>
>>>>> ------------------------------------------------------------------ 
>>>>> --
>>>>> -
>>>>> ---
>>>>> -------------------------
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>
>>>> _______________________________________________
>>>> R-SIG-Mac mailing list
>>>> R-SIG-Mac at stat.math.ethz.ch
>>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>>
>>>>
>>>>
>>>>
>>>>
>>>>
>>>
>>> _______________________________________________
>>> R-SIG-Mac mailing list
>>> R-SIG-Mac at stat.math.ethz.ch
>>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>>
>>>
>>>
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>


From stefano.iacus at unimi.it  Thu Oct 20 00:38:01 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Thu, 20 Oct 2005 00:38:01 +0200
Subject: [R-SIG-Mac] loading Rcmdr, R-Tcl/Tk errors due to X11
In-Reply-To: <Pine.LNX.4.63a.0510191056390.2347@homer23.u.washington.edu>
References: <e3930910510181554o32e0c2d8y119da3b6b8a508c0@mail.gmail.com>
	<D0DAD3A7-A7A4-4602-83E3-1DC972B11844@sauder.ubc.ca>
	<3893.192.168.65.113.1129688678.squirrel@homebase.wehi.edu.au>
	<409870E0-277F-435D-A7F3-5B67E6A6A51B@stat.ucla.edu>
	<4120.192.168.65.113.1129706475.squirrel@homebase.wehi.edu.au>
	<DB077134-C3BF-4494-A0A9-849B1C676737@unimi.it>
	<0C290AFD-4D09-4C7F-B121-B9D6EFE28069@sauder.ubc.ca>
	<A56737D0-0A33-4019-A97A-6AF95F509F4B@unimi.it>
	<Pine.LNX.4.63a.0510191056390.2347@homer23.u.washington.edu>
Message-ID: <85D925A8-EADF-42DF-836D-6C48BF9A75B4@unimi.it>


On 19/ott/05, at 19:58, Thomas Lumley wrote:

> On Wed, 19 Oct 2005, stefano iacus wrote:
>
>>
>> why you don't put X11.app in the startup app preferences? (if you
>> have x11 running, you can even do this from the doc).
>>
>>
>
> There are problems with laptops, as James Wettenhall alluded to.   
> If you
> change your network connection you will (often) need to close and  
> restart
> X11.   My laptop changes network connections much more often than  
> it gets
> rebooted.


I completely missed this point in James' mail...but now I read it :)
I don't know if this helps or not but this my experience: I  
personally have x11.app launched at boot and I reboot my pbook only  
when "software update" asks me, otherwise my machine is always  
running (and occasionally sleeping).
I change network settings 3 to 4 four times a day (at least in the  
last month) and I never needed to restart X11.

As I never experienced a failure I need some clarification from you:  
what I understand from James' mail is that the problem arises if you  
start X11 after changing network connection.
So, is this a X11 bug or what? If so, it is probably a good idea to  
fill a bug report to apple.
If not, please explain.

btw: I agree with James that it is probably a nice idea to check  
inside tcltk package to check if X11 is available (when tcltk/X11 is  
needed) and if not ask the user to run X11 before proceeding.

stefano


>
>      -thomas
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at math.uni-augsburg.de  Thu Oct 20 01:10:55 2005
From: simon.urbanek at math.uni-augsburg.de (Simon Urbanek)
Date: Thu, 20 Oct 2005 01:10:55 +0200
Subject: [R-SIG-Mac] R-2.2.0
In-Reply-To: <DDADB257-0038-4DFA-A15F-9C52ADD30DC8@anu.edu.au>
References: <E16F29D9-E2B4-4AF9-BF3B-A45824F70528@stat.berkeley.edu>
	<B9C5C767-3BCB-4260-AFF8-ED76229B02DE@mclink.it>
	<DDADB257-0038-4DFA-A15F-9C52ADD30DC8@anu.edu.au>
Message-ID: <CE686498-C7DD-41B3-A8AC-3966B716450B@math.uni-augsburg.de>

On Oct 15, 2005, at 1:19 AM, John Maindonald wrote:



> What is the status of the files on Simon's page?  Are these  
> essentially beta versions, or are they "unofficial"?
>
>

They are daily/nightly builds of the current R-devel and R-patched -  
they are not "official", but very close the CRAN releases, because  
they use the same building scripts (on the same machine). You are  
encouraged to use those (namely R-patched) when reporting bugs.

The content of the R-2.2.0.dmg image is the R 2.2.0 sources build,  
but it differs slightly from the release, because it contains only  
the framework package (and there are two other minor details) - I'll  
remove it soon, because the CRAN version should be used now.

Just a side note in case you were busy using the installers for R- 
devel and R-patched - should the installer ever prevent you from  
installing an R-framework package due to version conflict, run the  
following in the Terminal:
sudo rm -rf /Library/Receipts/R-Framework.pkg

Cheers,
Simon


From stefano.iacus at unimi.it  Thu Oct 20 10:16:28 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Thu, 20 Oct 2005 10:16:28 +0200
Subject: [R-SIG-Mac] R-2.2.0 + R.app 1.13
Message-ID: <08B59986-C0AC-4955-A2EB-F99377C13F2F@unimi.it>

Binaries of R-2.2.0 for OS X and the new version of R.app (cocoa GUI)  
1.13 are now available on CRAN at

http://CRAN.R-project.org/bin/macosx  (please use the mirror nearest  
to you)

Binary packages of both CRAN and BioConductor repository are also  
available for download and install.

This binary version of R runs on OS X 10.3.+ and above.

OS X 10.2.+ users can still use R-2.0.1 which is the last binary  
build for this release of OS X.

Enjoy!

R-Core Team


From f.calboli at imperial.ac.uk  Thu Oct 20 16:26:07 2005
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Thu, 20 Oct 2005 15:26:07 +0100
Subject: [R-SIG-Mac] g77 and tcl/tk
Message-ID: <90BEDD70-DE58-4892-978D-3B394A132977@imperial.ac.uk>

Hi All,

I just installed the new R-2.2.0 form the dmg on CRAN, after trashing  
the previous  R.app and the R.Framework.

I already have g77 and a tcl/tk from a previous R installation (R  
2.1.1). Should I remove them (how?) and reinstall the fresh ones or  
it's unecessary?

Cheers,

Federico
--
Federico C. F. Calboli
Department of Epidemiology and Public Health
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From tlumley at u.washington.edu  Thu Oct 20 17:49:56 2005
From: tlumley at u.washington.edu (Thomas Lumley)
Date: Thu, 20 Oct 2005 08:49:56 -0700 (PDT)
Subject: [R-SIG-Mac] loading Rcmdr, R-Tcl/Tk errors due to X11
In-Reply-To: <85D925A8-EADF-42DF-836D-6C48BF9A75B4@unimi.it>
References: <e3930910510181554o32e0c2d8y119da3b6b8a508c0@mail.gmail.com>
	<D0DAD3A7-A7A4-4602-83E3-1DC972B11844@sauder.ubc.ca>
	<3893.192.168.65.113.1129688678.squirrel@homebase.wehi.edu.au>
	<409870E0-277F-435D-A7F3-5B67E6A6A51B@stat.ucla.edu>
	<4120.192.168.65.113.1129706475.squirrel@homebase.wehi.edu.au>
	<DB077134-C3BF-4494-A0A9-849B1C676737@unimi.it>
	<0C290AFD-4D09-4C7F-B121-B9D6EFE28069@sauder.ubc.ca>
	<A56737D0-0A33-4019-A97A-6AF95F509F4B@unimi.it>
	<Pine.LNX.4.63a.0510191056390.2347@homer23.u.washington.edu>
	<85D925A8-EADF-42DF-836D-6C48BF9A75B4@unimi.it>
Message-ID: <Pine.LNX.4.63a.0510200844540.28674@homer22.u.washington.edu>

On Thu, 20 Oct 2005, stefano iacus wrote:
>
> I completely missed this point in James' mail...but now I read it :)
> I don't know if this helps or not but this my experience: I personally have 
> x11.app launched at boot and I reboot my pbook only when "software update" 
> asks me, otherwise my machine is always running (and occasionally sleeping).
> I change network settings 3 to 4 four times a day (at least in the last 
> month) and I never needed to restart X11.
>
> As I never experienced a failure I need some clarification from you: what I 
> understand from James' mail is that the problem arises if you start X11 after 
> changing network connection.

What I experience is that when I connect to a network via ethernet any X11 
that is already running will stop allowing connnections.  Switching 
between different wireless nodes doesn't seem to cause this.

> So, is this a X11 bug or what? If so, it is probably a good idea to fill a 
> bug report to apple.
> If not, please explain.

It is documented by Apple and therefore not a bug.
  http://developer.apple.com/qa/qa2001/qa1232.html  says

Q: Why can't I connect to the X Server after a network config change? It 
requires a restart of the X server.

A: This is expected behavior in the Xauthority authentication mechanism 
which X11 for Mac OS X uses by default. The problem is that Xauth uses two 
keys, the ip address and hostname of the system running the X server. But 
these keys don't get updated if you change the network configuration. You 
can disable authentication from the "Security" tab of X11.app's 
preferences. Be aware that doing so may create a security hole.


 	-thomas


From stefano.iacus at unimi.it  Thu Oct 20 18:37:13 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Thu, 20 Oct 2005 18:37:13 +0200
Subject: [R-SIG-Mac] loading Rcmdr, R-Tcl/Tk errors due to X11
In-Reply-To: <Pine.LNX.4.63a.0510200844540.28674@homer22.u.washington.edu>
References: <e3930910510181554o32e0c2d8y119da3b6b8a508c0@mail.gmail.com>
	<D0DAD3A7-A7A4-4602-83E3-1DC972B11844@sauder.ubc.ca>
	<3893.192.168.65.113.1129688678.squirrel@homebase.wehi.edu.au>
	<409870E0-277F-435D-A7F3-5B67E6A6A51B@stat.ucla.edu>
	<4120.192.168.65.113.1129706475.squirrel@homebase.wehi.edu.au>
	<DB077134-C3BF-4494-A0A9-849B1C676737@unimi.it>
	<0C290AFD-4D09-4C7F-B121-B9D6EFE28069@sauder.ubc.ca>
	<A56737D0-0A33-4019-A97A-6AF95F509F4B@unimi.it>
	<Pine.LNX.4.63a.0510191056390.2347@homer23.u.washington.edu>
	<85D925A8-EADF-42DF-836D-6C48BF9A75B4@unimi.it>
	<Pine.LNX.4.63a.0510200844540.28674@homer22.u.washington.edu>
Message-ID: <32B01CEE-A432-42BD-8E54-8D69E6F42147@unimi.it>


On 20/ott/05, at 17:49, Thomas Lumley wrote:

> On Thu, 20 Oct 2005, stefano iacus wrote:
>
>>
>> I completely missed this point in James' mail...but now I read it :)
>> I don't know if this helps or not but this my experience: I  
>> personally have x11.app launched at boot and I reboot my pbook  
>> only when "software update" asks me, otherwise my machine is  
>> always running (and occasionally sleeping).
>> I change network settings 3 to 4 four times a day (at least in the  
>> last month) and I never needed to restart X11.
>>
>> As I never experienced a failure I need some clarification from  
>> you: what I understand from James' mail is that the problem arises  
>> if you start X11 after changing network connection.
>>
>
> What I experience is that when I connect to a network via ethernet  
> any X11 that is already running will stop allowing connnections.   
> Switching between different wireless nodes doesn't seem to cause this.
and indeed I'm always using wireless connections

>
>
>> So, is this a X11 bug or what? If so, it is probably a good idea  
>> to fill a bug report to apple.
>> If not, please explain.
>>
>
> It is documented by Apple and therefore not a bug.
>  http://developer.apple.com/qa/qa2001/qa1232.html  says
>
> Q: Why can't I connect to the X Server after a network config  
> change? It requires a restart of the X server.
>
> A: This is expected behavior in the Xauthority authentication  
> mechanism which X11 for Mac OS X uses by default. The problem is  
> that Xauth uses two keys, the ip address and hostname of the system  
> running the X server. But these keys don't get updated if you  
> change the network configuration. You can disable authentication  
> from the "Security" tab of X11.app's preferences. Be aware that  
> doing so may create a security hole.
>


thanks Thomas. So the answer to James' problem is that we can't do  
anything special in R/R.app to solve this as this is a general OS X  
issue.

stefano
>
>     -thomas
>


From oscar.moreno at att.net  Fri Oct 21 03:17:46 2005
From: oscar.moreno at att.net (Oscar A. Moreno)
Date: Thu, 20 Oct 2005 21:17:46 -0400
Subject: [R-SIG-Mac] Quartz object
Message-ID: <BF7DB9FA.28709%oscar.moreno@att.net>

Gents,

Fantastic job done for R 2.2 for Mac.  Thank you very much.  I'd like to
report a minor item.  Setting the size for the Quartz object does not hold
from session to session.  I have to set it every time I want to do graphics.
Also the position does not hold the value set.  Both reset after quitting.

Thanks again.
Oscar A. Moreno
oscar.moreno at att.net


From goedman at mac.com  Fri Oct 21 04:33:16 2005
From: goedman at mac.com (Rob J Goedman)
Date: Thu, 20 Oct 2005 19:33:16 -0700
Subject: [R-SIG-Mac] Quartz object
In-Reply-To: <BF7DB9FA.28709%oscar.moreno@att.net>
References: <BF7DB9FA.28709%oscar.moreno@att.net>
Message-ID: <B6E0102E-09DF-4CB3-AFF7-8969B07CD6DE@mac.com>

Hi Oscar,

Did R terminate properly when quitting?
Does it keep other preferences across sessions?

Rob

On Oct 20, 2005, at 6:17 PM, Oscar A. Moreno wrote:

> Gents,
>
> Fantastic job done for R 2.2 for Mac.  Thank you very much.  I'd  
> like to
> report a minor item.  Setting the size for the Quartz object does  
> not hold
> from session to session.  I have to set it every time I want to do  
> graphics.
> Also the position does not hold the value set.  Both reset after  
> quitting.
>
> Thanks again.
> Oscar A. Moreno
> oscar.moreno at att.net
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From goedman at mac.com  Fri Oct 21 04:45:15 2005
From: goedman at mac.com (Rob J Goedman)
Date: Thu, 20 Oct 2005 19:45:15 -0700
Subject: [R-SIG-Mac] external editors in R.app
In-Reply-To: <E87410C9-7487-4D69-8D3F-477A554EEAF9@mac.com>
References: <E87410C9-7487-4D69-8D3F-477A554EEAF9@mac.com>
Message-ID: <BFE8F58A-5EF1-4849-825F-8EDB396EBB4C@mac.com>

Franklin,

Can you try the latest R-GUI (1928) at http://research.att.com/ 
~urbanek/R/ ?

Please do not report Mac OS specific bugs on R-Bugs but on this alias.

Thanks,
Rob



On Oct 17, 2005, at 6:12 PM, Parlamis Franklin wrote:

> Cocoa GUI 1.12 appears to have a problem opening an external editor
> when the application name contains a space.  I use Aquamacs Emacs,
> which upon installation names itself "Aquamacs Emacs.app"
>
> Choosing that app as an external editor on the Preference Pane causes
> the following error when I try to open a file from the Toolbar in the
> R Console:
>
>      2005-10-18 00:59:49.985 open[9985] No such file: /Users/Franklin/
> R/Working Directory/Emacs.app
>
> However, if I rename the application "Aquamacs_Emacs.app" no error is
> returned and the file opens.
>
> Looking forward to the new version.  Thanks for all your efforts.
>
> Franklin Parlamis
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From simon.urbanek at r-project.org  Fri Oct 21 13:43:41 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 21 Oct 2005 13:43:41 +0200
Subject: [R-SIG-Mac] g77 and tcl/tk
In-Reply-To: <90BEDD70-DE58-4892-978D-3B394A132977@imperial.ac.uk>
References: <90BEDD70-DE58-4892-978D-3B394A132977@imperial.ac.uk>
Message-ID: <7E099E6B-410E-41CF-BC03-AB1A3DC8ABD3@r-project.org>


On Oct 20, 2005, at 4:26 PM, Federico Calboli wrote:

> Hi All,
>
> I just installed the new R-2.2.0 form the dmg on CRAN, after trashing
> the previous  R.app and the R.Framework.
>
> I already have g77 and a tcl/tk from a previous R installation (R
> 2.1.1). Should I remove them (how?) and reinstall the fresh ones or
> it's unecessary?

It's unnecessary, because both tcl/tk and g77 are identical to those  
in R 2.1.1. In general, it is always safe to re-install, because the  
installer will take care of proper updating where necessary.

Cheers,
Simon


From f.calboli at imperial.ac.uk  Fri Oct 21 13:46:57 2005
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Fri, 21 Oct 2005 12:46:57 +0100
Subject: [R-SIG-Mac] g77 and tcl/tk
In-Reply-To: <7E099E6B-410E-41CF-BC03-AB1A3DC8ABD3@r-project.org>
References: <90BEDD70-DE58-4892-978D-3B394A132977@imperial.ac.uk>
	<7E099E6B-410E-41CF-BC03-AB1A3DC8ABD3@r-project.org>
Message-ID: <1129895217.15713.88.camel@localhost.localdomain>

On Fri, 2005-10-21 at 13:43 +0200, Simon Urbanek wrote:
> On Oct 20, 2005, at 4:26 PM, Federico Calboli wrote:
> 
> > Hi All,
> >
> > I just installed the new R-2.2.0 form the dmg on CRAN, after trashing
> > the previous  R.app and the R.Framework.
> >
> > I already have g77 and a tcl/tk from a previous R installation (R
> > 2.1.1). Should I remove them (how?) and reinstall the fresh ones or
> > it's unecessary?
> 
> It's unnecessary, because both tcl/tk and g77 are identical to those  
> in R 2.1.1. In general, it is always safe to re-install, because the  
> installer will take care of proper updating where necessary.

how would I uninstall the previous tcl/tk and g77 though (assuming it's
necessary)?

Federico


-- 
Federico C. F. Calboli
Department of Epidemiology and Public Health
Imperial College, St Mary's Campus
Norfolk Place, London W2 1PG

Tel  +44 (0)20 7594 1602     Fax (+44) 020 7594 3193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From w.northcott at unsw.edu.au  Sat Oct 22 04:26:37 2005
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Sat, 22 Oct 2005 12:26:37 +1000
Subject: [R-SIG-Mac] loading Rcmdr, R-Tcl/Tk errors due to X11
In-Reply-To: <mailman.3.1129888801.21670.r-sig-mac@stat.math.ethz.ch>
References: <mailman.3.1129888801.21670.r-sig-mac@stat.math.ethz.ch>
Message-ID: <B8A97364-4CF5-431D-9650-6F4D18F6A59B@unsw.edu.au>

On 21/10/2005, at 8:00 PM, stefano iacus wrote:
>> A: This is expected behavior in the Xauthority authentication
>> mechanism which X11 for Mac OS X uses by default. The problem is
>> that Xauth uses two keys, the ip address and hostname of the system
>> running the X server. But these keys don't get updated if you
>> change the network configuration. You can disable authentication
>> from the "Security" tab of X11.app's preferences. Be aware that
>> doing so may create a security hole.
>>
>>
>
>
> thanks Thomas. So the answer to James' problem is that we can't do
> anything special in R/R.app to solve this as this is a general OS X
> issue.
>
Surely this is not a MacOS X issue but an X11 one.  People don't  
usually run X11 on notebooks.  So it only tends to arise with a  
Powerbook.

Of course the solution really does lie with R.app, but it is also non- 
trivial.  Since the introduction of Tiger some months back, Tcl/tk is  
a standard part of MacOS X.  The problem is that R.app is not  
friendly to Aqua Tcl/Tk extensions of R.  So it would be good to fix  
this, if someone has the time, skills and inclination.  I have the  
last but I am very short of the first two.

Bill Northcott


From a.beckerman at sheffield.ac.uk  Sat Oct 22 12:12:25 2005
From: a.beckerman at sheffield.ac.uk (Andrew Beckerman)
Date: Sat, 22 Oct 2005 11:12:25 +0100
Subject: [R-SIG-Mac] kinship
Message-ID: <817C9892-7AC0-4194-AF66-60FD0AD640F6@sheffield.ac.uk>

Dear all -

OS 10.4.2, R 2.2.0 + Tcltk and Fortran

I am trying to install the package "kinship", only available through  
source.  The package seems to do well until the very end, where a  
multiple definitions error crops up (see below).   A previous post  
and response from B. Ripley suggested the following:

"You need to change coxfit6.h to have the object extern in all but  
one of the files it is included in. That is a peculiarity of MacOS X."

Any advice on how to accomplish this?  Is it in the works with  
regards to packaging a binary?

Cheers
andrew

------------------
tar: Read 3584 bytes from -
* Installing *source* package 'kinship' ...
** libs
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c agfit6b.c -o  
agfit6b.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c  
bdsmatrix_index1.c -o bdsmatrix_index1.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c  
bdsmatrix_index2.c -o bdsmatrix_index2.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c  
bdsmatrix_index3.c -o bdsmatrix_index3.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c  
bdsmatrix_prod.c -o bdsmatrix_prod.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c  
bdsmatrix_prod2.c -o bdsmatrix_prod2.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c  
bdsmatrix_prod3.c -o bdsmatrix_prod3.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c chinv4.c -o  
chinv4.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c chinv5.c -o  
chinv5.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c cholesky4.c -o  
cholesky4.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c cholesky5.c -o  
cholesky5.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c chsolve4.c -o  
chsolve4.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c chsolve5.c -o  
chsolve5.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c coxfit6a.c -o  
coxfit6a.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c coxfit6b.c -o  
coxfit6b.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c coxfit6c.c -o  
coxfit6c.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c gchol.c -o  
gchol.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c gchol_bds.c -o  
gchol_bds.o

The downloaded packages are in
     /private/tmp/RtmpUlQDSt/downloaded_packages
gcc-3.3 -bundle -flat_namespace -undefined suppress -L/usr/local/lib - 
o kinship.so agfit6b.o bdsmatrix_index1.o bdsmatrix_index2.o  
bdsmatrix_index3.o bdsmatrix_prod.o bdsmatrix_prod2.o  
bdsmatrix_prod3.o chinv4.o chinv5.o cholesky4.o cholesky5.o  
chsolve4.o chsolve5.o coxfit6a.o coxfit6b.o coxfit6c.o gchol.o  
gchol_bds.o  -lcc_dynamic -F/Library/Frameworks/R.framework/.. - 
framework R
** Removing '/Library/Frameworks/R.framework/Versions/2.2/Resources/ 
library/kinship'
ld: multiple definitions of symbol _c6
agfit6b.o definition of _c6 in section (__DATA,__common)
coxfit6a.o definition of _c6 in section (__DATA,__common)
coxfit6b.o definition of _c6 in section (__DATA,__common)
coxfit6c.o definition of _c6 in section (__DATA,__common)
ld: can't locate file for: -lcc_dynamic
make: *** [kinship.so] Error 1
ERROR: compilation failed for package 'kinship'

------------------------------------------------------------------------ 
---------
Dr. Andrew Beckerman
Department of Animal and Plant Sciences, University of Sheffield,
Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
http://www.shef.ac.uk/beckslab
------------------------------------------------------------------------ 
----------


From jago at mclink.it  Sat Oct 22 13:17:50 2005
From: jago at mclink.it (stefano iacus)
Date: Sat, 22 Oct 2005 13:17:50 +0200
Subject: [R-SIG-Mac] loading Rcmdr, R-Tcl/Tk errors due to X11
In-Reply-To: <B8A97364-4CF5-431D-9650-6F4D18F6A59B@unsw.edu.au>
References: <mailman.3.1129888801.21670.r-sig-mac@stat.math.ethz.ch>
	<B8A97364-4CF5-431D-9650-6F4D18F6A59B@unsw.edu.au>
Message-ID: <DD5E5CA3-ED83-4E32-8628-830A2C6589DE@mclink.it>


On 22/ott/05, at 04:26, Bill Northcott wrote:

> On 21/10/2005, at 8:00 PM, stefano iacus wrote:
>
>>> A: This is expected behavior in the Xauthority authentication
>>> mechanism which X11 for Mac OS X uses by default. The problem is
>>> that Xauth uses two keys, the ip address and hostname of the system
>>> running the X server. But these keys don't get updated if you
>>> change the network configuration. You can disable authentication
>>> from the "Security" tab of X11.app's preferences. Be aware that
>>> doing so may create a security hole.
>>>
>>>
>>>
>>
>>
>> thanks Thomas. So the answer to James' problem is that we can't do
>> anything special in R/R.app to solve this as this is a general OS X
>> issue.
>>
>>
> Surely this is not a MacOS X issue but an X11 one.  People don't
> usually run X11 on notebooks.
ummh, this is not true in my opinion... but ok, the issue is in X11  
not in OS X.

> So it only tends to arise with a
> Powerbook.
>
> Of course the solution really does lie with R.app, but it is also non-
> trivial.  Since the introduction of Tiger some months back, Tcl/tk is
> a standard part of MacOS X.  The problem is that R.app is not
> friendly to Aqua Tcl/Tk extensions of R.  So it would be good to fix
> this, if someone has the time, skills and inclination.  I have the
> last but I am very short of the first two.

to make R.app aqua-tcltk friendly needs internal change in R-Event- 
Loop. This is a long going discussion in R-core and different  
approaches were proposed. It is not a trivial change, but when done  
everything should work out-of-the-box with R.app.


stefano

>
> Bill Northcott
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From stefano.iacus at unimi.it  Sat Oct 22 13:22:37 2005
From: stefano.iacus at unimi.it (stefano iacus)
Date: Sat, 22 Oct 2005 13:22:37 +0200
Subject: [R-SIG-Mac] kinship
In-Reply-To: <817C9892-7AC0-4194-AF66-60FD0AD640F6@sheffield.ac.uk>
References: <817C9892-7AC0-4194-AF66-60FD0AD640F6@sheffield.ac.uk>
Message-ID: <328DE8AE-E619-4E9F-B5FF-C68CD176B97A@unimi.it>

Andrew,
the problem is that in some headers you defines symbols used by  
different .c files.
You should define these extern everywhere but for on single .c file  
only.
One triky solution is to declare all of them as "extern" in the .h  
file and undef "extern" for one .c file only.
Have a look at R sources in files src/include/Defn.h and src/main/main.c

All symbols in Defn.h are defined as extern, and defn.h is included  
by many .c files.
Only main.c defines __MAIN__ which has the effect in Defn.h to  
undefine extern.

I've just helped mantainers of the latentnet package, they've got the  
same problem.

stefano


On 22/ott/05, at 12:12, Andrew Beckerman wrote:


> Dear all -
>
> OS 10.4.2, R 2.2.0 + Tcltk and Fortran
>
> I am trying to install the package "kinship", only available through
> source.  The package seems to do well until the very end, where a
> multiple definitions error crops up (see below).   A previous post
> and response from B. Ripley suggested the following:
>
> "You need to change coxfit6.h to have the object extern in all but
> one of the files it is included in. That is a peculiarity of MacOS X."
>
> Any advice on how to accomplish this?  Is it in the works with
> regards to packaging a binary?
>
> Cheers
> andrew
>
> ------------------
> tar: Read 3584 bytes from -
> * Installing *source* package 'kinship' ...
> ** libs
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c agfit6b.c -o
> agfit6b.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c
> bdsmatrix_index1.c -o bdsmatrix_index1.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c
> bdsmatrix_index2.c -o bdsmatrix_index2.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c
> bdsmatrix_index3.c -o bdsmatrix_index3.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c
> bdsmatrix_prod.c -o bdsmatrix_prod.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c
> bdsmatrix_prod2.c -o bdsmatrix_prod2.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c
> bdsmatrix_prod3.c -o bdsmatrix_prod3.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c chinv4.c -o
> chinv4.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c chinv5.c -o
> chinv5.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c cholesky4.c -o
> cholesky4.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c cholesky5.c -o
> cholesky5.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c chsolve4.c -o
> chsolve4.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c chsolve5.c -o
> chsolve5.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c coxfit6a.c -o
> coxfit6a.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c coxfit6b.c -o
> coxfit6b.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c coxfit6c.c -o
> coxfit6c.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c gchol.c -o
> gchol.o
> gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/
> include  -I/usr/local/include   -fno-common  -g -O2 -c gchol_bds.c -o
> gchol_bds.o
>
> The downloaded packages are in
>      /private/tmp/RtmpUlQDSt/downloaded_packages
> gcc-3.3 -bundle -flat_namespace -undefined suppress -L/usr/local/lib -
> o kinship.so agfit6b.o bdsmatrix_index1.o bdsmatrix_index2.o
> bdsmatrix_index3.o bdsmatrix_prod.o bdsmatrix_prod2.o
> bdsmatrix_prod3.o chinv4.o chinv5.o cholesky4.o cholesky5.o
> chsolve4.o chsolve5.o coxfit6a.o coxfit6b.o coxfit6c.o gchol.o
> gchol_bds.o  -lcc_dynamic -F/Library/Frameworks/R.framework/.. -
> framework R
> ** Removing '/Library/Frameworks/R.framework/Versions/2.2/Resources/
> library/kinship'
> ld: multiple definitions of symbol _c6
> agfit6b.o definition of _c6 in section (__DATA,__common)
> coxfit6a.o definition of _c6 in section (__DATA,__common)
> coxfit6b.o definition of _c6 in section (__DATA,__common)
> coxfit6c.o definition of _c6 in section (__DATA,__common)
> ld: can't locate file for: -lcc_dynamic
> make: *** [kinship.so] Error 1
> ERROR: compilation failed for package 'kinship'
>
> ---------------------------------------------------------------------- 
> --
> ---------
> Dr. Andrew Beckerman
> Department of Animal and Plant Sciences, University of Sheffield,
> Alfred Denny Building, Western Bank, Sheffield S10 2TN, UK
> ph +44 (0)114 222 0026; fx +44 (0)114 222 0002
> http://www.shef.ac.uk/beckslab
> ---------------------------------------------------------------------- 
> --
> ----------
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From chabotd at globetrotter.net  Sat Oct 22 22:17:59 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Sat, 22 Oct 2005 16:17:59 -0400
Subject: [R-SIG-Mac] warning while compiling a package
Message-ID: <A124EE88-F80C-4C2C-BB49-14F18F10E383@globetrotter.net>

Hi,

I use a few small packages put together by Roger Bivand to help with  
importing spatial data. These are changing frequently and not yet on  
CRAN.

Today I compiled a new one. Should I be worried about a warning about  
"multiple definitions of symbol _signgam":

Avis dans install.packages(file.choose(), , NULL, type = "source") :
      argument 'lib' is missing: using /Users/dchabot/Library/R/library
* Installing *source* package 'Rgshhs' ...
** libs
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include  -I/usr/local/include   -fno-common  -g -O2 -c Rgshhs.c -o  
Rgshhs.o
gcc-3.3 -bundle -flat_namespace -undefined suppress -L/usr/local/lib - 
o Rgshhs.so Rgshhs.o  -lcc_dynamic -F/Library/Frameworks/ 
R.framework/.. -framework R
ld: warning ** R
multiple definitions of symbol _signgam
/Library/Frameworks/R.framework/../R.framework/R(lgamma.lo)  
definition of _signgam
/usr/lib/libSystem.dylib(gamma9.o) definition of _signgam
** inst
** help
 >>> Building/Updating help pages for package 'Rgshhs'
      Formats: text html latex example
   Rgshhs                            text    html    latex   example
** building package indices ...
* DONE (Rgshhs)

By they way, thank you to those who have contributed to the release  
of R2.2 for Mac and the R.app for mac, it is really appreciated.

Maybe now that this big milestone is over, someone will have a bit of  
time to look at my previous message about a graphic looking different  
(missing one tick label) on quartz than on pdf and on the default  
graphics device on Windows?

I'll post again if you missed it.

sincerely,

Denis Chabot


From simon.urbanek at r-project.org  Sun Oct 23 13:14:04 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sun, 23 Oct 2005 13:14:04 +0200
Subject: [R-SIG-Mac] g77 and tcl/tk
In-Reply-To: <1129895217.15713.88.camel@localhost.localdomain>
References: <90BEDD70-DE58-4892-978D-3B394A132977@imperial.ac.uk>
	<7E099E6B-410E-41CF-BC03-AB1A3DC8ABD3@r-project.org>
	<1129895217.15713.88.camel@localhost.localdomain>
Message-ID: <336D7EAA-0450-4C7C-9DB2-43B6848A1757@r-project.org>

On Oct 21, 2005, at 1:46 PM, Federico Calboli wrote:

> On Fri, 2005-10-21 at 13:43 +0200, Simon Urbanek wrote:
>
>>
>> It's unnecessary, because both tcl/tk and g77 are identical to those
>> in R 2.1.1. In general, it is always safe to re-install, because the
>> installer will take care of proper updating where necessary.
>>
>
> how would I uninstall the previous tcl/tk and g77 though (assuming  
> it's
> necessary)?

There is no Apple way to uninstall packages. In theory the list of  
files is in the receipt, but Apple provides no uninstaller. And as I  
was saying earlier, it's not necessary, because the installer knows  
how to upgrade a package - it just doesn't know how to uninstall  
them. If you want to uninstall tck/tk g77 and friends, just run sudo  
rm -rf /usr/local ;)

Cheers,
Simon


From f.calboli at imperial.ac.uk  Sun Oct 23 13:17:09 2005
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Sun, 23 Oct 2005 12:17:09 +0100
Subject: [R-SIG-Mac] g77 and tcl/tk
In-Reply-To: <336D7EAA-0450-4C7C-9DB2-43B6848A1757@r-project.org>
References: <90BEDD70-DE58-4892-978D-3B394A132977@imperial.ac.uk>
	<7E099E6B-410E-41CF-BC03-AB1A3DC8ABD3@r-project.org>
	<1129895217.15713.88.camel@localhost.localdomain>
	<336D7EAA-0450-4C7C-9DB2-43B6848A1757@r-project.org>
Message-ID: <1130066229.15713.110.camel@localhost.localdomain>

On Sun, 2005-10-23 at 13:14 +0200, Simon Urbanek wrote:
> There is no Apple way to uninstall packages. In theory the list of  
> files is in the receipt, but Apple provides no uninstaller. And as I  
> was saying earlier, it's not necessary, because the installer knows  
> how to upgrade a package - it just doesn't know how to uninstall  
> them. If you want to uninstall tck/tk g77 and friends, just run sudo  
> rm -rf /usr/local ;)

I think I will simply upgrade...

Cheers,

Fede
-- 
Federico C. F. Calboli
Department of Epidemiology and Public Health
Imperial College, St Mary's Campus
Norfolk Place, London W2 1PG

Tel  +44 (0)20 7594 1602     Fax (+44) 020 7594 3193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From jahumada at usgs.gov  Sun Oct 23 00:34:19 2005
From: jahumada at usgs.gov (Jorge Ahumada)
Date: Sat, 22 Oct 2005 17:34:19 -0500
Subject: [R-SIG-Mac] problem with history files
Message-ID: <A2A8AA94-8782-4E92-960F-F4711CA65BEC@usgs.gov>

Hello,

Carrying in from the previous version of R.app, I have noticed that  
the new version (1.13) still has problems reading .Rhistory files. If  
I open R in a directory with no previous workspace, it will  
create .Rhistory and .RData. Work a bit, then quit. When returning to  
that directory it will load the workspace, but no history. The only  
way is to save it with the button on the history panel, but cannot  
save as .Rhistory (needs to be visible). Preferences are set to load  
history file .Rhistory.Is this a bug or am I doing something wrong?

Jorge


From roebuck at wotan.mdacc.tmc.edu  Sun Oct 23 09:35:15 2005
From: roebuck at wotan.mdacc.tmc.edu (Paul Roebuck)
Date: Sun, 23 Oct 2005 02:35:15 -0500 (CDT)
Subject: [R-SIG-Mac] kinship
In-Reply-To: <817C9892-7AC0-4194-AF66-60FD0AD640F6@sheffield.ac.uk>
References: <817C9892-7AC0-4194-AF66-60FD0AD640F6@sheffield.ac.uk>
Message-ID: <Pine.OSF.4.58.0510230143290.445631@wotan.mdacc.tmc.edu>

On Sat, 22 Oct 2005, Andrew Beckerman wrote:

> I am trying to install the package "kinship", only available through
> source.  The package seems to do well until the very end, where a
> multiple definitions error crops up (see below).   A previous post
> and response from B. Ripley suggested the following:
>
> "You need to change coxfit6.h to have the object extern in all but
> one of the files it is included in. That is a peculiarity of MacOS X."

It's not exactly what I would call peculiar ("odd"); rather
it simply enforces that a given variable definition only
occurs once.

> Any advice on how to accomplish this?  Is it in the works with
> regards to packaging a binary?

One approach might be to create a single file named
"foo_globals.h" (given project named "foo") with the
contents something like the following:

#ifndef FOO_GLOBALS_H
#define FOO_GLOBALS_H 1

#include <sys/types.h>

#ifdef DEFINE_GLOBALS
#define EXTERNALREF
#else
#define EXTERNALREF extern
#endif

/*
 * Global Variables
 */
EXTERNALREF unsigned gNumSims;

#endif /* FOO_GLOBALS_H */


All source files in your project that access the global variables
would #include "foo_globals.h" (possibly indirectly). For an
application, I would nominally have a minimal project header
(appropriately named "foo.h") which contained the following:

#ifndef FOO_H
#define FOO_H 1

#include "foo_types.h"   /* project-specific typedefs */
#include "foo_globals.h"

#endif /* FOO_H */


In the source file containing the main() function
(normally "foo.c"), you would prepend the preprocessor value
prior to including any project-specific headers.

#include <stdio.h>
#include <stdlib.h>
#define DEFINE_GLOBALS 1
#include "foo.h"

int main(int argc, char *argv[])
{
...
}

----------------------------------------------------------
SIGSIG -- signature too long (core dumped)


From roebuck at wotan.mdacc.tmc.edu  Sun Oct 23 10:03:03 2005
From: roebuck at wotan.mdacc.tmc.edu (Paul Roebuck)
Date: Sun, 23 Oct 2005 03:03:03 -0500 (CDT)
Subject: [R-SIG-Mac] R.app clear screen w/ Cmd-K (like Terminal.app)
Message-ID: <Pine.OSF.4.58.0510230238510.445631@wotan.mdacc.tmc.edu>

I had read this was on the TODO list. Did it make
in the new release and, if not, I would like to add my
vote for this feature.

----------------------------------------------------------
SIGSIG -- signature too long (core dumped)


From deleeuw at stat.ucla.edu  Sun Oct 23 23:26:05 2005
From: deleeuw at stat.ucla.edu (Jan de Leeuw)
Date: Sun, 23 Oct 2005 14:26:05 -0700
Subject: [R-SIG-Mac] namespaces in OS X
Message-ID: <CB4CEFF3-274A-4FA4-AFBE-4663540E20D8@stat.ucla.edu>

The Mac OS X linker can create object files with flat namespaces, in
which the default is to abort if there is more than one
definition, and object files with two-level namespaces, in which
the default is to just issue a warning. If two-level namespaces
are used then not just the symbol name is remembered, but also in
which file it was defined.

In the current setup for R the main program is linked by using the
default, which is two-level namespaces, but the packages are linked
using flat namespaces.

One easy way to force a link anyway is to call gcc with the
flag "-Xlinker -m", which means that multiple definitions only lead to
warnings even if objects with flat namespaces are created (and it  
basically
means that the last definition of the symbol seen by the linker is used,
overriding the others).

Apple strongly advises against this practice, of course it is dangerous,
and modifying the source files using external definitions is really  
the way to
go.


On Oct 23, 2005, at 24:35 , Paul Roebuck wrote:


> It's not exactly what I would call peculiar ("odd"); rather
> it simply enforces that a given variable definition only
> occurs once.
>


===
Jan de Leeuw; Distinguished Professor and Chair, UCLA Department of  
Statistics;
Editor: Journal of Multivariate Analysis, Journal of Statistical  
Software
US mail: 8130 Math Sciences Bldg, Box 951554, Los Angeles, CA 90095-1554
phone (310)-825-9550;  fax (310)-206-5658;  email: deleeuw at stat.ucla.edu
.mac: jdeleeuw ++++++  aim: deleeuwjan ++++++ skype: j_deleeuw
homepages: http://gifi.stat.ucla.edu ++++++ http://www.cuddyvalley.org
   
------------------------------------------------------------------------ 
-------------------------
           No matter where you go, there you are. --- Buckaroo Banzai
                    http://gifi.stat.ucla.edu/sounds/nomatter.au


From w.northcott at unsw.edu.au  Mon Oct 24 01:24:42 2005
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Mon, 24 Oct 2005 09:24:42 +1000
Subject: [R-SIG-Mac] loading Rcmdr, R-Tcl/Tk errors due to X11
In-Reply-To: <mailman.1.1130061600.17116.r-sig-mac@stat.math.ethz.ch>
References: <mailman.1.1130061600.17116.r-sig-mac@stat.math.ethz.ch>
Message-ID: <3BD197FB-B442-49EF-893F-4EC894BFC0ED@unsw.edu.au>

On 23/10/2005, at 8:00 PM, stefano iacus wrote:
>
> to make R.app aqua-tcltk friendly needs internal change in R-Event-
> Loop. This is a long going discussion in R-core and different
> approaches were proposed. It is not a trivial change, but when done
> everything should work out-of-the-box with R.app.
>

which will be great.

However, discussions on R-core are not public:-(

Bill


From sfalcon at fhcrc.org  Mon Oct 24 03:44:59 2005
From: sfalcon at fhcrc.org (Seth Falcon)
Date: Sun, 23 Oct 2005 18:44:59 -0700
Subject: [R-SIG-Mac] loading Rcmdr, R-Tcl/Tk errors due to X11
References: <e3930910510181554o32e0c2d8y119da3b6b8a508c0@mail.gmail.com>
	<D0DAD3A7-A7A4-4602-83E3-1DC972B11844@sauder.ubc.ca>
	<3893.192.168.65.113.1129688678.squirrel@homebase.wehi.edu.au>
	<409870E0-277F-435D-A7F3-5B67E6A6A51B@stat.ucla.edu>
	<4120.192.168.65.113.1129706475.squirrel@homebase.wehi.edu.au>
	<DB077134-C3BF-4494-A0A9-849B1C676737@unimi.it>
	<0C290AFD-4D09-4C7F-B121-B9D6EFE28069@sauder.ubc.ca>
	<A56737D0-0A33-4019-A97A-6AF95F509F4B@unimi.it>
	<Pine.LNX.4.63a.0510191056390.2347@homer23.u.washington.edu>
	<85D925A8-EADF-42DF-836D-6C48BF9A75B4@unimi.it>
	<Pine.LNX.4.63a.0510200844540.28674@homer22.u.washington.edu>
Message-ID: <m23bmr663o.fsf@fhcrc.org>

On 20 Oct 2005, tlumley at u.washington.edu wrote:
> Q: Why can't I connect to the X Server after a network config
> change? It requires a restart of the X server.
>
> A: This is expected behavior in the Xauthority authentication
> mechanism which X11 for Mac OS X uses by default. The problem is
> that Xauth uses two keys, the ip address and hostname of the system
> running the X server. But these keys don't get updated if you change
> the network configuration. You can disable authentication from the
> "Security" tab of X11.app's preferences. Be aware that doing so may
> create a security hole.

Hmm, I don't see a security tab in the preferences for X11.app using
OS X 10.4.

I had this problem along with a more annoying issue of having my
hostname automagically change based on where I connected to the net.  

I found notes via google suggesting that I edit /etc/hostconfig and
replace HOSTNAME=-AUTOMATIC- with my desired hostname.  I think this
resolved both issues for me.  YMMV.

+ seth


From goedman at mac.com  Mon Oct 24 04:22:28 2005
From: goedman at mac.com (Rob J Goedman)
Date: Sun, 23 Oct 2005 19:22:28 -0700
Subject: [R-SIG-Mac] problem with history files
In-Reply-To: <A2A8AA94-8782-4E92-960F-F4711CA65BEC@usgs.gov>
References: <A2A8AA94-8782-4E92-960F-F4711CA65BEC@usgs.gov>
Message-ID: <1455A655-733A-4EF2-A689-28261CBD89E0@mac.com>

Hi Jorge,

Can you send me your ~/Library/Preferences/org.R-project.R.plist file?

Thanks,
Rob

On Oct 22, 2005, at 3:34 PM, Jorge Ahumada wrote:

> Hello,
>
> Carrying in from the previous version of R.app, I have noticed that
> the new version (1.13) still has problems reading .Rhistory files. If
> I open R in a directory with no previous workspace, it will
> create .Rhistory and .RData. Work a bit, then quit. When returning to
> that directory it will load the workspace, but no history. The only
> way is to save it with the button on the history panel, but cannot
> save as .Rhistory (needs to be visible). Preferences are set to load
> history file .Rhistory.Is this a bug or am I doing something wrong?
>
> Jorge
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From jago at mclink.it  Mon Oct 24 14:00:51 2005
From: jago at mclink.it (stefano iacus)
Date: Mon, 24 Oct 2005 14:00:51 +0200
Subject: [R-SIG-Mac] loading Rcmdr, R-Tcl/Tk errors due to X11
In-Reply-To: <3BD197FB-B442-49EF-893F-4EC894BFC0ED@unsw.edu.au>
References: <mailman.1.1130061600.17116.r-sig-mac@stat.math.ethz.ch>
	<3BD197FB-B442-49EF-893F-4EC894BFC0ED@unsw.edu.au>
Message-ID: <4077FBBF-ACCF-4637-8076-F408A8F34635@mclink.it>


On 24/ott/05, at 01:24, Bill Northcott wrote:

> On 23/10/2005, at 8:00 PM, stefano iacus wrote:
>
>>
>> to make R.app aqua-tcltk friendly needs internal change in R-Event-
>> Loop. This is a long going discussion in R-core and different
>> approaches were proposed. It is not a trivial change, but when done
>> everything should work out-of-the-box with R.app.
>>
>>
>
> which will be great.
>
> However, discussions on R-core are not public:-(

sometimes we also raised this in r-devel and for example Duncan TL  
incidentally mentioned it in the last threads on GUI & co.
But of course any contribution is welcome.

stefano

>
> Bill
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>
>


From f.calboli at imperial.ac.uk  Mon Oct 24 16:19:53 2005
From: f.calboli at imperial.ac.uk (Federico Calboli)
Date: Mon, 24 Oct 2005 15:19:53 +0100
Subject: [R-SIG-Mac] file names autocompletion
Message-ID: <A77C77FC-E1C8-4069-A202-22281E7CC318@imperial.ac.uk>

Hi All,

I am maybe missing something, but when I use read.table() I don't get  
autocompletion anymore using tab:

ped = read.table("~/Fede/Work/ped.txt")

used to be

read.table("~/F<TAB>/Wo<TAB>/pe<TAB>")

i.e. tab would autocomplete the names for me.

I am using the lates R-2.2.0 dmg from cran and R 1.1.3 GUI.

Cheers,

Federico
--
Federico C. F. Calboli
Department of Epidemiology and Public Health
Imperial College, St. Mary's Campus
Norfolk Place, London W2 1PG

Tel +44 (0)20 75941602   Fax +44 (0)20 75943193

f.calboli [.a.t] imperial.ac.uk
f.calboli [.a.t] gmail.com


From fparlamis at mac.com  Tue Oct 25 00:46:29 2005
From: fparlamis at mac.com (Parlamis Franklin)
Date: Mon, 24 Oct 2005 12:46:29 -1000
Subject: [R-SIG-Mac] external editors in R.app
In-Reply-To: <BFE8F58A-5EF1-4849-825F-8EDB396EBB4C@mac.com>
References: <E87410C9-7487-4D69-8D3F-477A554EEAF9@mac.com>
	<BFE8F58A-5EF1-4849-825F-8EDB396EBB4C@mac.com>
Message-ID: <8ED4F2C6-EFF3-42DE-9251-6E031F125D4C@mac.com>

By the time I got around to trying this, build was at 1930.  But I'm  
happy to report that the bug is fixed, space in name of editor app  
does not cause a problem.

On Oct 20, 2005, at 4:45 PM, Rob J Goedman wrote:

> Franklin,
>
> Can you try the latest R-GUI (1928) at http://research.att.com/ 
> ~urbanek/R/ ?
>
> Please do not report Mac OS specific bugs on R-Bugs but on this alias.
>
> Thanks,
> Rob
>
>
>
> On Oct 17, 2005, at 6:12 PM, Parlamis Franklin wrote:
>
>
>> Cocoa GUI 1.12 appears to have a problem opening an external editor
>> when the application name contains a space.  I use Aquamacs Emacs,
>> which upon installation names itself "Aquamacs Emacs.app"
>>
>> Choosing that app as an external editor on the Preference Pane causes
>> the following error when I try to open a file from the Toolbar in the
>> R Console:
>>
>>      2005-10-18 00:59:49.985 open[9985] No such file: /Users/ 
>> Franklin/
>> R/Working Directory/Emacs.app
>>
>> However, if I rename the application "Aquamacs_Emacs.app" no error is
>> returned and the file opens.
>>
>> Looking forward to the new version.  Thanks for all your efforts.
>>
>> Franklin Parlamis
>>
>> _______________________________________________
>> R-SIG-Mac mailing list
>> R-SIG-Mac at stat.math.ethz.ch
>> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>>
>>
>
>


From w.northcott at unsw.edu.au  Tue Oct 25 04:11:15 2005
From: w.northcott at unsw.edu.au (Bill Northcott)
Date: Tue, 25 Oct 2005 12:11:15 +1000
Subject: [R-SIG-Mac] g77 and tcl/tk
In-Reply-To: <mailman.1.1130148000.24171.r-sig-mac@stat.math.ethz.ch>
References: <mailman.1.1130148000.24171.r-sig-mac@stat.math.ethz.ch>
Message-ID: <9862FF5F-E8DF-48FD-8BF8-B8FA969C70AB@unsw.edu.au>

On 24/10/2005, at 8:00 PM, Simon Urbanek wrote:
>> how would I uninstall the previous tcl/tk and g77 though (assuming
>> it's
>> necessary)?
>>
>
> There is no Apple way to uninstall packages. In theory the list of
> files is in the receipt, but Apple provides no uninstaller. And as I
>
Apple and other developers do sometimes provide scripts which  
uninstall packages by reading the BOM in the package receipts.  Have  
a look at the one that comes with Xcode.  It should not be too hard  
to hack that up for another package.

The caution has to be that uninstalling like that is perilous because  
there is no dependency checking.

Bill Northcott


From cormaggio at gmail.com  Tue Oct 25 13:38:10 2005
From: cormaggio at gmail.com (Cormac Lawler)
Date: Tue, 25 Oct 2005 12:38:10 +0100
Subject: [R-SIG-Mac] Rcmdr & tcltk
Message-ID: <e3930910510250438v3c8f0c4fr8106de3a765a4215@mail.gmail.com>

Hi,
I posted to r-sig-mac before, but I'm still having problems
downloading Rcmdr. I've tried following the instructions at:
http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation-notes.html

I'm still getting errors when I try to download the package from
within R - problem seems to be TclTk packages. I asked on the R help
list - they suggested I needed to install X11, which I did, but I
still get this error [2].

A possible problem is that i have already downloaded Rcmdr from the
web - there are certainly plenty of files on my system, as a command-F
confirms. These could be interfering in some way.

However, i suspect that the real issue is Tcl/Tk, as the console
details below show. I have downloaded R (base). Is there anything else
I need to download or is there a possible bug with the CRAN base
download or the way i've managed my files?

Thanks,
Cormac

[1] Install packages - Rcmdr:

trying URL 'http://www.sourcekeg.co.uk/cran/bin/macosx/2.1/PACKAGES'
Content type 'text/plain; charset=ISO-8859-1' length 27756 bytes
opened URL
==================================================
downloaded 27Kb

trying URL 'http://www.sourcekeg.co.uk/cran/bin/macosx/2.1/Rcmdr_1.0-2.tgz'
Content type 'application/x-tar' length 644758 bytes
opened URL
==================================================
downloaded 629Kb


The downloaded packages are in
	/tmp/RtmptX8Kfn/downloaded_packages
trying URL 'http://www.sourcekeg.co.uk/cran/bin/macosx/2.1/PACKAGES'
Content type 'text/plain; charset=ISO-8859-1' length 27756 bytes
opened URL
==================================================
downloaded 27Kb


[2] Package manager - Rcmdr:

Loading required package: tcltk
Loading Tcl/Tk interface ... Error in dyn.load(x, as.logical(local),
as.logical(now)) :
	unable to load shared library
'/Library/Frameworks/R.framework/Resources/library/tcltk/libs/tcltk.so':
  dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open
library: /usr/local/lib/libtk8.4.dylib  (No such file or directory,
errno = 2)
In addition: Warning message:
cannot create HTML package index in: make.packages.html()
Error: .onLoad failed in 'loadNamespace' for 'tcltk'
Error: package 'tcltk' could not be loaded
>


From putler at sauder.ubc.ca  Tue Oct 25 16:51:22 2005
From: putler at sauder.ubc.ca (Dan Putler)
Date: Tue, 25 Oct 2005 07:51:22 -0700
Subject: [R-SIG-Mac] Rcmdr & tcltk
In-Reply-To: <e3930910510250438v3c8f0c4fr8106de3a765a4215@mail.gmail.com>
References: <e3930910510250438v3c8f0c4fr8106de3a765a4215@mail.gmail.com>
Message-ID: <816031CB-3553-41F1-81F0-E94BC4A9EBE6@sauder.ubc.ca>

Hi Cormac,

The safest thing to do is to launch X11 _before_ starting R (R won't  
start X11 itself). In addition, before loading the R Commander  
package, I would do a binary installation of all of R Commander's  
required packages (the list can be found on the R Commander web  
site). On the Mac you are using the same package tarball as you do on  
Linux. When you install the R Commander package, one of the things it  
does is to make sure that all of its support packages are available,  
and if some are missing, it attempts to do a source installation of  
missing packages. A number of the support packages have C and fortran  
code that needs to be compiled as part of the their installation. As  
a result, to install these packages from source you also need to have  
Apple's Xcode tools installed (which are on the software CDs that  
came with your Mac) and a fortran complier (which didn't come with  
your installation CDs, but can be obtained from several sources, and  
is an often discussed topic on this list). Although, my guess is that  
you will find the binary installation route an easier choice.

Dan

On 25-Oct-05, at 4:38 AM, Cormac Lawler wrote:

> Hi,
> I posted to r-sig-mac before, but I'm still having problems
> downloading Rcmdr. I've tried following the instructions at:
> http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation- 
> notes.html
>
> I'm still getting errors when I try to download the package from
> within R - problem seems to be TclTk packages. I asked on the R help
> list - they suggested I needed to install X11, which I did, but I
> still get this error [2].
>
> A possible problem is that i have already downloaded Rcmdr from the
> web - there are certainly plenty of files on my system, as a command-F
> confirms. These could be interfering in some way.
>
> However, i suspect that the real issue is Tcl/Tk, as the console
> details below show. I have downloaded R (base). Is there anything else
> I need to download or is there a possible bug with the CRAN base
> download or the way i've managed my files?
>
> Thanks,
> Cormac
>
> [1] Install packages - Rcmdr:
>
> trying URL 'http://www.sourcekeg.co.uk/cran/bin/macosx/2.1/PACKAGES'
> Content type 'text/plain; charset=ISO-8859-1' length 27756 bytes
> opened URL
> ==================================================
> downloaded 27Kb
>
> trying URL 'http://www.sourcekeg.co.uk/cran/bin/macosx/2.1/ 
> Rcmdr_1.0-2.tgz'
> Content type 'application/x-tar' length 644758 bytes
> opened URL
> ==================================================
> downloaded 629Kb
>
>
> The downloaded packages are in
>     /tmp/RtmptX8Kfn/downloaded_packages
> trying URL 'http://www.sourcekeg.co.uk/cran/bin/macosx/2.1/PACKAGES'
> Content type 'text/plain; charset=ISO-8859-1' length 27756 bytes
> opened URL
> ==================================================
> downloaded 27Kb
>
>
> [2] Package manager - Rcmdr:
>
> Loading required package: tcltk
> Loading Tcl/Tk interface ... Error in dyn.load(x, as.logical(local),
> as.logical(now)) :
>     unable to load shared library
> '/Library/Frameworks/R.framework/Resources/library/tcltk/libs/ 
> tcltk.so':
>   dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open
> library: /usr/local/lib/libtk8.4.dylib  (No such file or directory,
> errno = 2)
> In addition: Warning message:
> cannot create HTML package index in: make.packages.html()
> Error: .onLoad failed in 'loadNamespace' for 'tcltk'
> Error: package 'tcltk' could not be loaded
>
>>
>>
>
> _______________________________________________
> R-SIG-Mac mailing list
> R-SIG-Mac at stat.math.ethz.ch
> https://stat.ethz.ch/mailman/listinfo/r-sig-mac
>


From goedman at mac.com  Tue Oct 25 16:52:15 2005
From: goedman at mac.com (Rob J Goedman)
Date: Tue, 25 Oct 2005 07:52:15 -0700
Subject: [R-SIG-Mac] Rcmdr & tcltk
In-Reply-To: <e3930910510250438v3c8f0c4fr8106de3a765a4215@mail.gmail.com>
References: <e3930910510250438v3c8f0c4fr8106de3a765a4215@mail.gmail.com>
Message-ID: <0F80AB41-F26B-4328-AE67-8E60979D1254@mac.com>

Hi Cormac,

Must have missed your previous request. I'll mail you directly.
R-Sig-Mac is definitely the right place!

Regards,
Rob


On Oct 25, 2005, at 4:38 AM, Cormac Lawler wrote:

> Hi,
> I posted to r-sig-mac before, but I'm still having problems
> downloading Rcmdr. I've tried following the instructions at:
> http://socserv.socsci.mcmaster.ca/jfox/Misc/Rcmdr/installation- 
> notes.html
>
> I'm still getting errors when I try to download the package from
> within R - problem seems to be TclTk packages. I asked on the R help
> list - they suggested I needed to install X11, which I did, but I
> still get this error [2].
>
> A possible problem is that i have already downloaded Rcmdr from the
> web - there are certainly plenty of files on my system, as a command-F
> confirms. These could be interfering in some way.
>
> However, i suspect that the real issue is Tcl/Tk, as the console
> details below show. I have downloaded R (base). Is there anything else
> I need to download or is there a possible bug with the CRAN base
> download or the way i've managed my files?
>
> Thanks,
> Cormac
>
> [1] Install packages - Rcmdr:
>
> trying URL 'http://www.sourcekeg.co.uk/cran/bin/macosx/2.1/PACKAGES'
> Content type 'text/plain; charset=ISO-8859-1' length 27756 bytes
> opened URL
> ==================================================
> downloaded 27Kb
>
> trying URL 'http://www.sourcekeg.co.uk/cran/bin/macosx/2.1/ 
> Rcmdr_1.0-2.tgz'
> Content type 'application/x-tar' length 644758 bytes
> opened URL
> ==================================================
> downloaded 629Kb
>
>
> The downloaded packages are in
>     /tmp/RtmptX8Kfn/downloaded_packages
> trying URL 'http://www.sourcekeg.co.uk/cran/bin/macosx/2.1/PACKAGES'
> Content type 'text/plain; charset=ISO-8859-1' length 27756 bytes
> opened URL
> ==================================================
> downloaded 27Kb
>
>
> [2] Package manager - Rcmdr:
>
> Loading required package: tcltk
> Loading Tcl/Tk interface ... Error in dyn.load(x, as.logical(local),
> as.logical(now)) :
>     unable to load shared library
> '/Library/Frameworks/R.framework/Resources/library/tcltk/libs/ 
> tcltk.so':
>   dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open
> library: /usr/local/lib/libtk8.4.dylib  (No such file or directory,
> errno = 2)
> In addition: Warning message:
> cannot create HTML package index in: make.packages.html()
> Error: .onLoad failed in 'loadNamespace' for 'tcltk'
> Error: package 'tcltk' could not be loaded
>
>>
>


From simon.urbanek at r-project.org  Tue Oct 25 20:07:39 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 25 Oct 2005 20:07:39 +0200
Subject: [R-SIG-Mac] Rcmdr & tcltk
In-Reply-To: <e3930910510250438v3c8f0c4fr8106de3a765a4215@mail.gmail.com>
References: <e3930910510250438v3c8f0c4fr8106de3a765a4215@mail.gmail.com>
Message-ID: <573C8788-6619-4AFC-8D84-6EFD2B6142C0@r-project.org>

Cormac,

On Oct 25, 2005, at 1:38 PM, Cormac Lawler wrote:


> Loading Tcl/Tk interface ... Error in dyn.load(x, as.logical(local),
> as.logical(now)) :
>     unable to load shared library
> '/Library/Frameworks/R.framework/Resources/library/tcltk/libs/ 
> tcltk.so':
>   dlcompat: dyld: /Applications/R.app/Contents/MacOS/R can't open
> library: /usr/local/lib/libtk8.4.dylib  (No such file or directory,
> errno = 2)
>
>

You didn't install Tcl/Tk which is crucial for Rcmdr. Tck/Tk is  
included in the CRAN R binary, while installing R select "custom  
install" and enable Tcl/Tk in the list. (FWIW you may consider  
downloading more recent R 2.2.0).

Cheers,
Simon


From simon.urbanek at r-project.org  Tue Oct 25 21:13:28 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Tue, 25 Oct 2005 21:13:28 +0200
Subject: [R-SIG-Mac] Hint: How to upgrade installed packages from R 2.1 to R
	2.2
Message-ID: <9F247284-64F5-48D1-8719-ED07B1FE9AF2@r-project.org>

Just a hint for those who upgrade to R 2.2.0 and want to (semi-) 
automatically retain all system-wide packages installed before: In  
the R GUI "Package Installer" click on 'Get List' button to obtain  
the list of all available packages. Once it's there, click on the  
'search' icon of the 'Package Search' box (which looks like a  
magnifying glass). If R GUI recognized an older version of R (like R  
2.1.1), there should be a menu item "Select Packages from R 2.1.1" in  
the pop-up menu. That item will select all packages that were (system- 
wide) installed in the previous R version. Now all you have to do is  
to click on the "Install Selected" button...

If you have packages from other repositories (like BioConductor),  
repeat the same steps after selecting the repository from the drop- 
down menu.

Cheers,
Simon


From roebuck at wotan.mdacc.tmc.edu  Tue Oct 25 22:07:05 2005
From: roebuck at wotan.mdacc.tmc.edu (Paul Roebuck)
Date: Tue, 25 Oct 2005 15:07:05 -0500 (CDT)
Subject: [R-SIG-Mac] R-2.2.0 Installer issues
Message-ID: <Pine.OSF.4.58.0510251450470.106586@wotan.mdacc.tmc.edu>

- ReadMe file (2005-10-06) has spelling error:

...please enable if you have X11 and indent to use tcltk
    should be
...please enable if you have X11 and intend to use tcltk

- Installation Type
If I select 'R Framework' or 'R GUI for Mac OS X', the
selected action becomes 'downgrade' and size remains at
0 bytes, despite the fact I have yet to install the newest
version of R.


R Cocoa GUI 1.13 (1915)
> version
         _
platform powerpc-apple-darwin7.9.0
arch     powerpc
os       darwin7.9.0
system   powerpc, darwin7.9.0
status
major    2
minor    2.0
year     2005
month    10
day      06
svn rev  35749
language R


----------------------------------------------------------
SIGSIG -- signature too long (core dumped)


From roebuck at mdanderson.org  Wed Oct 26 08:27:19 2005
From: roebuck at mdanderson.org (Paul Roebuck)
Date: Wed, 26 Oct 2005 01:27:19 -0500 (CDT)
Subject: [R-SIG-Mac] R.app bundle keys
Message-ID: <Pine.OSF.4.58.0510260019430.143305@wotan.mdacc.tmc.edu>

Suggest adding the following required application key
in 'Info.plist' immediately prior to CFBundleVersion.

        <key>CFBundleShortVersionString</key>
        <string>1.13</string>

Format for the following two keys in the 'InfoPlist.strings'
does not currently match the suggested format. For 10.4,
Apple recommends not adding the version information to
CFBundleGetInfoString but since the same build services
both Panther and Tiger, this change is not yet feasible.

CFBundleGetInfoString = "1.13, <Copyright symbol> R Foundation for
Statistical Computing, 2004-2005";
NSHumanReadableCopyright = "<Copyright symbol> R Foundation for
Statistical Computing, 2004-2005, All Rights Reserved.";


Reference:
<http://developer.apple.com/documentation/MacOSX/Conceptual/BPRuntimeConfig/>

Note:
<Copyright symbol> is &#169; but can't paste it in mail.

----------------------------------------------------------
SIGSIG -- signature too long (core dumped)


From nassar at noos.fr  Wed Oct 26 13:50:44 2005
From: nassar at noos.fr (Naji)
Date: Wed, 26 Oct 2005 13:50:44 +0200
Subject: [R-SIG-Mac] Pb installing RPVM from CRAN Sources
Message-ID: <BF853A34.76D5%nassar@noos.fr>

Hi all,

I've just installed R2.2.0 and get the tcl/tk8.4.11 & GNU Fortran 3.4.2
options.

I'm encountering some trouble installing RPVM from CRAN Sources (Install
Packages > From CRAN Sources > RPVM 0.6-5. And get back the following
messages.
How can I fix this?

Many thanks in advance
NB PVM is working correctly


Installing *source* package 'rpvm' ...
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ANSI C... none needed
Check if PVM_ROOT is defined... no
Warning: PVM_ROOT not defined.
I'll try to build rpvm but you need set PVM_ROOT
before use pvm. See pvm_intro(1PVM)

Try to guess if pvm is installed somewhere ...
Found pvm: /Users/nassar/pvm3
PVM_ROOT is /Users/nassar/pvm3
PVM_ARCH is DARWIN
checking how to run the C preprocessor... gcc -E
checking for egrep... grep -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking pvm3.h usability... yes
checking pvm3.h presence... yes
checking for pvm3.h... yes
checking for main in -lpvm3... no
Try to find libpvm3 ...
Found in /Users/nassar/pvm3/lib/DARWIN
checking for main in -lgpvm3... no
Try to find libgpvm3 ...
Found in /Users/nassar/pvm3/lib/DARWIN
checking for pvmd... /Users/nassar/pvm3/lib/pvmd
checking for pvmgs... /Users/nassar/pvm3/bin/DARWIN/pvmgs
configure: creating ./config.status
config.status: creating src/Makevars
config.status: creating inst/pvmhosts
** libs
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/include
-I/include -I/usr/local/include   -fno-common  -g -O2 -c rpvm_core.c -o
rpvm_core.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/include
-I/include -I/usr/local/include   -fno-common  -g -O2 -c rpvm_ser.c -o
rpvm_ser.o

The downloaded packages are in
    /private/tmp/RtmpUubAIQ/downloaded_packages
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/include
-I/include -I/usr/local/include   -fno-common  -g -O2 -c utils.c -o utils.o
gcc-3.3 -bundle -flat_namespace -undefined suppress -L/usr/local/lib -o
rpvm.so rpvm_core.o rpvm_ser.o utils.o -L/Users/nassar/pvm3/lib/DARWIN
-lpvm3 -lgpvm3  -lcc_dynamic -F/Library/Frameworks/R.framework/.. -framework
R
** Removing 
'/Library/Frameworks/R.framework/Versions/2.2/Resources/library/rpvm'
ld: can't locate file for: -lcc_dynamic
make: *** [rpvm.so] Error 1
ERROR: compilation failed for package 'rpvm'


From gwgilc at wm.edu  Wed Oct 26 17:26:10 2005
From: gwgilc at wm.edu (George W. Gilchrist)
Date: Wed, 26 Oct 2005 11:26:10 -0400
Subject: [R-SIG-Mac] R, Unicode, and OS X
Message-ID: <74824AF0-9A0B-47DC-AABF-05817CE3A148@wm.edu>

Is it possible to enter a unicode string and get the corresponding  
character using R on OS X? For example, points(x, y, pch="\u2642") is  
alleged to plot the male symbol (available on my system in several  
fonts) at points x and y , but what I get in R is "u2642". I can  
enter the hex string and get the character in Illustrator, but have  
not figured it out in R. Thanks for any advice.

Cheers, George
..................................................................
George W. Gilchrist                        Email #1: gwgilc at wm.edu
Department of Biology, Box 8795          Email #2: kitesci at cox.net
College of William & Mary                    Phone: (757) 221-7751
Williamsburg, VA 23187-8795                    Fax: (757) 221-6483
http://gwgilc.people.wm.edu/


From simon.urbanek at r-project.org  Wed Oct 26 17:48:59 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 26 Oct 2005 17:48:59 +0200
Subject: [R-SIG-Mac] R, Unicode, and OS X
In-Reply-To: <74824AF0-9A0B-47DC-AABF-05817CE3A148@wm.edu>
References: <74824AF0-9A0B-47DC-AABF-05817CE3A148@wm.edu>
Message-ID: <D5D1A404-FB4F-4C70-8EEA-331A0F3E58C8@r-project.org>

George,

On Oct 26, 2005, at 5:26 PM, George W. Gilchrist wrote:

> Is it possible to enter a unicode string and get the corresponding  
> character using R on OS X?

If you enter an unicode string, it will be plotted correctly, no  
magic there.

> For example, points(x, y, pch="\u2642") is alleged to plot the male  
> symbol (available on my system in several fonts) at points x and  
> y , but what I get in R is "u2642".

You don't want a string, you want a character and it's as easy as

points(x,y, pch=0x2642)

Cheers,
Simon


From simon.urbanek at r-project.org  Wed Oct 26 17:54:20 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 26 Oct 2005 17:54:20 +0200
Subject: [R-SIG-Mac] Pb installing RPVM from CRAN Sources
In-Reply-To: <BF853A34.76D5%nassar@noos.fr>
References: <BF853A34.76D5%nassar@noos.fr>
Message-ID: <5023B0DF-ED1C-415C-A6DC-D27277B30A48@r-project.org>

Naji,

On Oct 26, 2005, at 1:50 PM, Naji wrote:

> ld: can't locate file for: -lcc_dynamic
> make: *** [rpvm.so] Error 1
> ERROR: compilation failed for package 'rpvm'

Please run
sudo gcc_select 3.3
before compiling the package. If you don't want to change your  
default compiler, you can alternatively run
sudo ln -s /usr/lib/gcc/darwin/3.3/libgcc.a /usr/local/lib/ 
libcc_dynamic.a

Note to all: this applies to any package compilation on Tiger (OS X  
10.4) when gcc4 is set as default.

Cheers,
Simon


From simon.urbanek at r-project.org  Wed Oct 26 18:03:46 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Wed, 26 Oct 2005 18:03:46 +0200
Subject: [R-SIG-Mac] R.app bundle keys
In-Reply-To: <Pine.OSF.4.58.0510260019430.143305@wotan.mdacc.tmc.edu>
References: <Pine.OSF.4.58.0510260019430.143305@wotan.mdacc.tmc.edu>
Message-ID: <EEA67148-D20B-45F0-B6C2-14088A8D516F@r-project.org>

Paul,

On Oct 26, 2005, at 8:27 AM, Paul Roebuck wrote:

> Suggest adding the following required application key
> in 'Info.plist' immediately prior to CFBundleVersion.

It is already present in the localized Info.plist. I agree that it  
may be unnecessary, as we currently don't localize it, but it is  
easier to maintain the top-level version in one file.

> Format for the following two keys in the 'InfoPlist.strings' does  
> not currently match the suggested format. For 10.4, Apple  
> recommends not adding the version information to  
> CFBundleGetInfoString but since the same build services both  
> Panther and Tiger, this change is not yet feasible.

We may change it when we move our binary target to 10.4 (possibly for  
R 2.3). It is only of cosmetic value and works even with Tiger very  
well, so currently I see no compelling reason to change it.

Thanks,
Simon


From fparlamis at mac.com  Thu Oct 27 00:59:35 2005
From: fparlamis at mac.com (Parlamis Franklin)
Date: Wed, 26 Oct 2005 12:59:35 -1000
Subject: [R-SIG-Mac] RMySQL problem
Message-ID: <67348456-C7AA-4D63-9499-09137FA2FF85@mac.com>

Hello all.  I am having a problem with packages DBI and RMySQL since  
upgrading to R 2.2.0.   I am running 2.2.0 on a PowerMac G5 dual proc  
2.7GHz, using build 1930 of R.app.

I posted this problem in the database SIG, but was directed here as  
the problem was deemed Mac-specific.  Since I get into RMySQL  
minutiae below, I have also cc-d the package maintainers.

When I install RMySQL and DBI from binaries, I get the following upon  
issuing 'library(RMySQL)' to R:

     Loading required package: DBI
     Warning message:
     RS-DBI driver warning: (MySQL mismatch between compiled version  
4.0.24 and runtime version 4.1.14)

In fact, I have MySQL version 5.0.5 installed on my computer now from  
latest binaries on the MySQL web site.  I used to have 4.1.14  
installed (but never 4.0.24) when I first installed these packages  
under the prior version of R.  Interestingly, both packages worked  
without any issues.

I was told on the database SIG that I needed to re-install RMySQL  
from sources, so I have attempted to do this.  Per the configuration  
instructions in the source package, if MySQL is not installed to  
either '/usr/local/lib/mysql' or '/usr/local/include/mysql', then it  
is necessary to specify to the configuration program where the  
program resides.
In fact it now appears to be the case that the default MySQL  
directory (at least when the 5.0.5 binary is used) is '/usr/local/ 
mysql', the include directory is '/usr/local/mysql/include' and the  
'lib' directory is '/usr/local/mysql/lib'.  So I tried both of the  
following in Terminal 1.5 (Bash):

---

(1) R CMD INSTALL --configure-args='--with-mysql-dir=/usr/local/mysql  
--with-mysql-inc=/usr/local/mysql/include --with-mysql-lib=/usr/local/ 
mysql/lib' ~/Desktop/RMySQL

     which led to:

* Installing *source* package 'RMySQL' ...
loading cache ./config.cache
checking how to run the C preprocessor... cc -E
checking for compress in -lz... yes
checking for getopt_long in -lc... yes
checking for mysql_init in -lmysqlclient... no
checking for mysql.h... no
updating cache ./config.cache
creating ./config.status
creating src/Makevars
** libs
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include -I/usr/local/mysql/include -I/usr/local/include   -fno- 
common  -g -O2 -c RS-DBI.c -o RS-DBI.o
gcc-3.3 -no-cpp-precomp -I/Library/Frameworks/R.framework/Resources/ 
include -I/usr/local/mysql/include -I/usr/local/include   -fno- 
common  -g -O2 -c RS-MySQL.c -o RS-MySQL.o
gcc-3.3 -bundle -flat_namespace -undefined suppress -L/usr/local/lib - 
o RMySQL.so RS-DBI.o RS-MySQL.o -L/usr/local/mysql/lib -lmysqlclient - 
lz -lcc_dynamic -F/Library/Frameworks/R.framework/.. -framework R
ld: truncated or malformed archive: /usr/local/mysql/lib/ 
libmysqlclient.a (ranlib structures in table of contents extends past  
the end of the table of contents, can't load from it)
ld: warning multiple definitions of symbol _signgam
/Library/Frameworks/R.framework/../R.framework/R(lgamma.lo)  
definition of _signgam
/usr/lib/libSystem.dylib(gamma9.o) definition of _signgam
make: *** [RMySQL.so] Error 1
ERROR: compilation failed for package 'RMySQL'
** Removing '/Library/Frameworks/R.framework/Versions/2.2/Resources/ 
library/RMySQL'

----

(2)   export PKG_CPPFLAGS="-I/usr/local/mysql/include"
         export PKG_LIBS="-L/usr/local/mysql/lib -lmysqlclient"
         R CMD INSTALL ~/Desktop/RMySQL* Installing *source* package  
'RMySQL' ...

     which led to:

* Installing *source* package 'RMySQL' ...
loading cache ./config.cache
checking how to run the C preprocessor... (cached) cc -E
checking for compress in -lz... (cached) yes
checking for getopt_long in -lc... (cached) yes
checking for mysql_init in -lmysqlclient... (cached) no
checking for mysql.h... (cached) no
creating ./config.status
creating src/Makevars
** libs
gcc-3.3 -bundle -flat_namespace -undefined suppress -L/usr/local/lib - 
o RMySQL.so RS-DBI.o RS-MySQL.o -L/usr/local/mysql/lib -lmysqlclient - 
lz -lcc_dynamic -F/Library/Frameworks/R.framework/.. -framework R
ld: truncated or malformed archive: /usr/local/mysql/lib/ 
libmysqlclient.a (ranlib structures in table of contents extends past  
the end of the table of contents, can't load from it)
ld: warning multiple definitions of symbol _signgam
/Library/Frameworks/R.framework/../R.framework/R(lgamma.lo)  
definition of _signgam
/usr/lib/libSystem.dylib(gamma9.o) definition of _signgam
make: *** [RMySQL.so] Error 1
ERROR: compilation failed for package 'RMySQL'
** Removing '/Library/Frameworks/R.framework/Versions/2.2/Resources/ 
library/RMySQL'

---

The file '/usr/local/mysql/include/mysql.h' does exist on my system,  
so I am somewhat baffled by the "no" response in the configuration  
scripts check for that file.  However, I do not have a file called  
mysql_init, nor one called mysqlclient.  There is, however, a  
libmysqlclient.a in /usr/local/mysql/lib.

Help, please.  I am now out of the manual and beyond my  
understanding.  Thanks in advance.

Franklin Parlamis


From simon.urbanek at r-project.org  Thu Oct 27 10:43:19 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Thu, 27 Oct 2005 10:43:19 +0200
Subject: [R-SIG-Mac] RMySQL problem
In-Reply-To: <67348456-C7AA-4D63-9499-09137FA2FF85@mac.com>
References: <67348456-C7AA-4D63-9499-09137FA2FF85@mac.com>
Message-ID: <A20AAB7B-CE03-4DD8-A0EE-A28A0BFCCBF2@r-project.org>

Franklin,

On Oct 27, 2005, at 12:59 AM, Parlamis Franklin wrote:

> ld: truncated or malformed archive: /usr/local/mysql/lib/
> libmysqlclient.a (ranlib structures in table of contents extends past
> the end of the table of contents, can't load from it)
>

As the compiler tells you your libmysqlclient is damaged. You can try  
to run in Terminal:

sudo ranlib /usr/local/mysql/lib/libmysqlclient.a

If that doesn't help, then you need to wait for an update of MySQL  
(or compile MySQL from sources), because the library is corrupted.

Cheers,
Simon


From rpiper at med.usyd.edu.au  Thu Oct 27 21:24:32 2005
From: rpiper at med.usyd.edu.au (Richard Piper)
Date: Fri, 28 Oct 2005 05:24:32 +1000
Subject: [R-SIG-Mac]  RMySQL problem
Message-ID: <75DA4A50-91DC-4E52-9D71-3588AA4F83BB@med.usyd.edu.au>

 > Hello all.  I am having a problem with packages DBI and RMySQL since
 > upgrading to R 2.2.0.

I had some problems with this.

* The most recent R packages are compiled with gcc 3.3 so you need to  
use this to compile.
* I am using Mysql 4.XX. The binaries for the mac, on the Mysql site,  
must be compiled with gcc 4.0, as
they not load properly.
* If you download the Mysql source and compile it with gcc 3.3 then  
you can link the client libraries and it should work
* I have only done this with R 2.2 and Mysql 4.XX

Richard

http://icu.rnsh.org


From fparlamis at mac.com  Thu Oct 27 21:41:08 2005
From: fparlamis at mac.com (Parlamis Franklin)
Date: Thu, 27 Oct 2005 09:41:08 -1000
Subject: [R-SIG-Mac] RMySQL problem
In-Reply-To: <A20AAB7B-CE03-4DD8-A0EE-A28A0BFCCBF2@r-project.org>
References: <67348456-C7AA-4D63-9499-09137FA2FF85@mac.com>
	<A20AAB7B-CE03-4DD8-A0EE-A28A0BFCCBF2@r-project.org>
Message-ID: <D60354BA-3CBA-4289-A69C-90199BA57E32@mac.com>

Thanks for reply, Simon.  This is what I got when I executed the  
'ranlib' command you suggested.

ranlib: file: /usr/local/mysql/lib/libmysqlclient.a(my_pthread.o) has  
no symbols
ranlib: file: /usr/local/mysql/lib/libmysqlclient.a(my_thr_init.o)  
has no symbols
ranlib: file: /usr/local/mysql/lib/libmysqlclient.a(thr_mutex.o) has  
no symbols
ranlib: file: /usr/local/mysql/lib/libmysqlclient.a(my_port.o) has no  
symbols
ranlib: file: /usr/local/mysql/lib/libmysqlclient.a(strmov.o) has no  
symbols
ranlib: file: /usr/local/mysql/lib/libmysqlclient.a(bcmp.o) has no  
symbols
ranlib: file: /usr/local/mysql/lib/libmysqlclient.a(bmove.o) has no  
symbols
ranlib: file: /usr/local/mysql/lib/libmysqlclient.a(longlong2str.o)  
has no symbols
ranlib: file: /usr/local/mysql/lib/libmysqlclient.a(strtoull.o) has  
no symbols
ranlib: file: /usr/local/mysql/lib/libmysqlclient.a(strtoll.o) has no  
symbols
ranlib: file: /usr/local/mysql/lib/libmysqlclient.a(viossl.o) has no  
symbols
ranlib: file: /usr/local/mysql/lib/libmysqlclient.a 
(viosslfactories.o) has no symbols

I subsequently reinstalled the entire MySQL binary (which includes  
the C API).  However, I am still getting the same error.  Is it  
possible that MySQL is distributing a corrupted library with their  
latest product?  What would I do differently if I were to install  
MySQL from source?

The one thing that truly perplexes me is why the package RMySQL  
worked perfectly under the prior version of R and only stopped  
working when I upgraded to the latest version of R (problem occurred  
before I upgraded MySQL)

On Oct 26, 2005, at 10:43 PM, Simon Urbanek wrote:

> Franklin,
>
> On Oct 27, 2005, at 12:59 AM, Parlamis Franklin wrote:
>
>
>> ld: truncated or malformed archive: /usr/local/mysql/lib/
>> libmysqlclient.a (ranlib structures in table of contents extends past
>> the end of the table of contents, can't load from it)
>>
>>
>
> As the compiler tells you your libmysqlclient is damaged. You can  
> try to run in Terminal:
>
> sudo ranlib /usr/local/mysql/lib/libmysqlclient.a
>
> If that doesn't help, then you need to wait for an update of MySQL  
> (or compile MySQL from sources), because the library is corrupted.
>
> Cheers,
> Simon
>
>


From mfero at fhcrc.org  Fri Oct 28 01:27:22 2005
From: mfero at fhcrc.org (Matthew Fero)
Date: Thu, 27 Oct 2005 16:27:22 -0700
Subject: [R-SIG-Mac] missing prompt
Message-ID: <FD317BC3-4FD1-40C4-A8C7-D3B6EBAFF0A6@fhcrc.org>

My prompt (the little >) often disappears in the R Cocoa GUI (v. 
1.12), usually after I did something which generated an error  
message.  Is there an easy way to make it come back without  
restarting the application?

Matthew


From roebuck at mdanderson.org  Fri Oct 28 09:22:50 2005
From: roebuck at mdanderson.org (Paul Roebuck)
Date: Fri, 28 Oct 2005 02:22:50 -0500 (CDT)
Subject: [R-SIG-Mac] R.app bundle keys
In-Reply-To: <EEA67148-D20B-45F0-B6C2-14088A8D516F@r-project.org>
References: <Pine.OSF.4.58.0510260019430.143305@wotan.mdacc.tmc.edu>
	<EEA67148-D20B-45F0-B6C2-14088A8D516F@r-project.org>
Message-ID: <Pine.OSF.4.58.0510280059090.299901@wotan.mdacc.tmc.edu>

On Wed, 26 Oct 2005, Simon Urbanek wrote:

> On Oct 26, 2005, at 8:27 AM, Paul Roebuck wrote:
>
> > Suggest adding the following required application key
> > in 'Info.plist' immediately prior to CFBundleVersion.
>
> It is already present in the localized Info.plist. I agree that it
> may be unnecessary, as we currently don't localize it, but it is
> easier to maintain the top-level version in one file.

Not sure I followed what you wrote here. The CRAN version
of R.app binary I downloaded does not have this key in
'Info.plist' (where it is documented to be required) although
I saw it exists in 'InfoPlist.strings'. Wrote original
message in case this had simply been overlooked (or accidentally
deleted). Nonetheless, if the key is not being localized,
why put it in the localization file?

Also made the assumption (not having reviewed the XCode project
settings) that version strings were build-setting substitution
markers. If version numbers are currently hardcoded, these
links might simplify the build process.

<http://www.red-sweater.com/blog/?p=32>  # app version string
<http://www.red-sweater.com/blog/?p=23>  # subversion build number

> > Format for the following two keys in the 'InfoPlist.strings' does
> > not currently match the suggested format. For 10.4, Apple
> > recommends not adding the version information to
> > CFBundleGetInfoString but since the same build services both
> > Panther and Tiger, this change is not yet feasible.
>
> We may change it when we move our binary target to 10.4 (possibly for
> R 2.3). It is only of cosmetic value and works even with Tiger very
> well, so currently I see no compelling reason to change it.

Outside not matching Apple's recommended format, there
wasn't one. The strings I provided were compatible with
both Panther and Tiger, just written using Panther-style
formatting. I could have written that portion of my previous
post a little more clearly - my bad.

----------------------------------------------------------
SIGSIG -- signature too long (core dumped)


From simon.urbanek at r-project.org  Fri Oct 28 11:47:24 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 28 Oct 2005 11:47:24 +0200
Subject: [R-SIG-Mac] RMySQL problem
In-Reply-To: <D60354BA-3CBA-4289-A69C-90199BA57E32@mac.com>
References: <67348456-C7AA-4D63-9499-09137FA2FF85@mac.com>
	<A20AAB7B-CE03-4DD8-A0EE-A28A0BFCCBF2@r-project.org>
	<D60354BA-3CBA-4289-A69C-90199BA57E32@mac.com>
Message-ID: <445EB678-77FB-4CDE-AB28-39CCFE6604BD@r-project.org>

On Oct 27, 2005, at 9:41 PM, Parlamis Franklin wrote:


> Thanks for reply, Simon.  This is what I got when I executed the  
> 'ranlib' command you suggested.
>
> ranlib: file: /usr/local/mysql/lib/libmysqlclient.a(my_pthread.o)  
> has no symbols
> ...
>

This is normal and irrelevant - those are just warnings telling you  
that there were object files that export no symbols which is ok.


> I subsequently reinstalled the entire MySQL binary (which includes  
> the C API).
>

Did you test the library *after* running ranlib and *before*  
reinstalling? That was the crucial point.


>   However, I am still getting the same error.  Is it possible that  
> MySQL is distributing a corrupted library with their latest product?
>

If you still get the error after running ranlib then yes.


> What would I do differently if I were to install MySQL from source?
>

Nothing - you'd just get a working libmysqlclient.a (hopefully - you  
should probably use --enable-static when configuring mysql).


> The one thing that truly perplexes me is why the package RMySQL  
> worked perfectly under the prior version of R and only stopped  
> working when I upgraded to the latest version of R (problem  
> occurred before I upgraded MySQL)
>

The client library is compiled statically, so a change of mysql  
afterwards makes no difference. Only with updated R you need to re- 
compile RMySQL (so it seems), hence the libmysqlclient library is  
needed. Then mysql version matters.

Cheers,
Simon


From chabotd at globetrotter.net  Fri Oct 28 16:59:51 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Fri, 28 Oct 2005 10:59:51 -0400
Subject: [R-SIG-Mac] R-app crashes when saving quartz graphics to pdf
Message-ID: <3DCBD602-5EFA-405F-9334-667B99011AA4@globetrotter.net>

Hi, today I repeatedly crashed R-app when trying to save a quartz  
windows. I deleted my org.R-project.R.plist file but it did not help.

Here is what the crash report of OS X said:

Date/Time:      2005-10-28 10:54:53.678 -0400
OS Version:     10.4.2 (Build 8C46)
Report Version: 3

Command: R
Path:    /Applications/Stats/R.app/Contents/MacOS/R
Parent:  WindowServer [78]

Version: 1.13 (1915)

PID:    485
Thread: 0

Exception:  EXC_BAD_ACCESS (0x0001)
Codes:      KERN_PROTECTION_FAILURE (0x0002) at 0x00000000

Thread 0 Crashed:
0   libSystem.B.dylib                  0x900031e8 strlen + 8
1   org.R-project.R                    0x00004598 -[RController  
handleWriteConsole:] + 48 (crt.c:300)
2   org.R-project.R                    0x0000b2a4 Re_WriteConsole +  
196 (crt.c:300)
3   libR.dylib                         0x002d39b8 REvprintf + 264  
(printutils.c:578)
4   libR.dylib                         0x002d370c REprintf + 48  
(printutils.c:494)
5   libR.dylib                         0x0026233c Rf_PrintWarnings +  
280 (errors.c:356)
6   libR.dylib                         0x0026286c verrorcall_dflt +  
724 (errors.c:470)
7   libR.dylib                         0x00262990 Rf_errorcall + 172  
(errors.c:508)
8   libR.dylib                         0x00262aac Rf_error + 148  
(errors.c:531)
9   grDevices.so                       0x0542de74 PDF + 520 (devPS.c: 
5281)
10  libR.dylib                         0x0024ad78 do_External + 128  
(dotcode.c:756)
11  libR.dylib                         0x00265aec Rf_eval + 1544  
(eval.c:405)
12  libR.dylib                         0x00267288 do_begin + 136  
(eval.c:1058)
13  libR.dylib                         0x00265930 Rf_eval + 1100  
(eval.c:382)
14  libR.dylib                         0x00265f8c Rf_applyClosure +  
952 (eval.c:576)
15  libR.dylib                         0x00265b68 Rf_eval + 1668  
(eval.c:417)
16  libR.dylib                         0x00265930 Rf_eval + 1100  
(eval.c:382)
17  libR.dylib                         0x00267288 do_begin + 136  
(eval.c:1058)
18  libR.dylib                         0x00265930 Rf_eval + 1100  
(eval.c:382)
19  libR.dylib                         0x00265930 Rf_eval + 1100  
(eval.c:382)
20  libR.dylib                         0x00267288 do_begin + 136  
(eval.c:1058)
21  libR.dylib                         0x00265930 Rf_eval + 1100  
(eval.c:382)
22  libR.dylib                         0x00265f8c Rf_applyClosure +  
952 (eval.c:576)
23  libR.dylib                         0x00265b68 Rf_eval + 1668  
(eval.c:417)
24  libR.dylib                         0x0023ac10 protectedEval + 64  
(context.c:641)
25  libR.dylib                         0x0023ab88 R_ToplevelExec +  
208 (context.c:603)
26  libR.dylib                         0x0023ac64 R_tryEval + 60  
(context.c:656)
27  org.R-project.R                    0x0000d9a8 -[REngine  
evaluateExpressions:] + 180 (crt.c:300)
28  org.R-project.R                    0x0000db20 -[REngine  
evaluateString:] + 228 (crt.c:300)
29  org.R-project.R                    0x000152c0 -[RQuartz  
saveDocument:] + 348 (crt.c:300)
30  com.apple.AppKit                   0x936c4d2c -[NSApplication  
sendAction:to:from:] + 108
31  com.apple.AppKit                   0x9371f528 -[NSMenu  
performActionForItemAtIndex:] + 392
32  com.apple.AppKit                   0x9371f2ac -[NSCarbonMenuImpl  
performActionWithHighlightingForItemAtIndex:] + 104
33  com.apple.AppKit                   0x93626828  
_NSHandleCarbonMenuEvent + 372
34  com.apple.AppKit                   0x9362418c _DPSNextEvent + 1224
35  com.apple.AppKit                   0x93623b08 -[NSApplication  
nextEventMatchingMask:untilDate:inMode:dequeue:] + 116
36  org.R-project.R                    0x0000842c -[RController  
doProcessEvents:] + 96 (crt.c:300)
37  org.R-project.R                    0x00004e6c -[RController  
handleReadConsole:] + 84 (crt.c:300)
38  org.R-project.R                    0x0000affc Re_ReadConsole +  
116 (crt.c:300)
39  org.R-project.R                    0x00014868 RGUI_ReplIteration  
+ 112 (crt.c:300)
40  org.R-project.R                    0x000147dc RGUI_ReplConsole +  
148 (crt.c:300)
41  org.R-project.R                    0x00014730  
run_REngineRmainloop + 156 (crt.c:300)
42  org.R-project.R                    0x0000d6d4 -[REngine runREPL]  
+ 76 (crt.c:300)
43  com.apple.Foundation               0x92885cfc __NSFireTimer + 116
44  com.apple.CoreFoundation           0x9075ed10 __CFRunLoopDoTimer  
+ 184
45  com.apple.CoreFoundation           0x9074b688 __CFRunLoopRun + 1680
46  com.apple.CoreFoundation           0x9074ac3c  
CFRunLoopRunSpecific + 268
47  com.apple.HIToolbox                0x93129ac0  
RunCurrentEventLoopInMode + 264
48  com.apple.HIToolbox                0x93129154  
ReceiveNextEventCommon + 380
49  com.apple.HIToolbox                0x93128fc0  
BlockUntilNextEventMatchingListInMode + 96
50  com.apple.AppKit                   0x93623e44 _DPSNextEvent + 384
51  com.apple.AppKit                   0x93623b08 -[NSApplication  
nextEventMatchingMask:untilDate:inMode:dequeue:] + 116
52  com.apple.AppKit                   0x9362006c -[NSApplication  
run] + 472
53  com.apple.AppKit                   0x937108bc NSApplicationMain +  
452
54  org.R-project.R                    0x000020d0 _start + 392 (crt.c: 
267)
55  dyld                               0x8fe01048 _dyld_start + 60

Thread 1:
0   libSystem.B.dylib                  0x9001efcc select + 12
1   org.R-project.R                    0x00003828 -[RController  
readThread:] + 524 (crt.c:300)
2   com.apple.Foundation               0x92882f34  
forkThreadForFunction + 108
3   libSystem.B.dylib                  0x9002c3b4 _pthread_body + 96

Thread 2:
0   libSystem.B.dylib                  0x9004ca38  
syscall_thread_switch + 8
1   com.apple.Foundation               0x9289b330 +[NSThread  
sleepUntilDate:] + 152
2   com.apple.AppKit                   0x936c0b00 -[NSUIHeartBeat  
_heartBeatThread:] + 1100
3   com.apple.Foundation               0x92882f34  
forkThreadForFunction + 108
4   libSystem.B.dylib                  0x9002c3b4 _pthread_body + 96

Thread 3:
0   libSystem.B.dylib                  0x9002f66c kevent + 12
1   com.apple.DesktopServices          0x92792ad8  
TFSNotificationTask::FSNotificationTaskProc(void*) + 56
2   ...ple.CoreServices.CarbonCore     0x90b39690 PrivateMPEntryPoint  
+ 76
3   libSystem.B.dylib                  0x9002c3b4 _pthread_body + 96

Thread 4:
0   libSystem.B.dylib                  0x9002ca78  
semaphore_wait_signal_trap + 8
1   libSystem.B.dylib                  0x9003125c pthread_cond_wait +  
508
2   ...ple.CoreServices.CarbonCore     0x90b39880 MPWaitOnQueue + 224
3   com.apple.DesktopServices          0x92793330  
TNodeSyncTask::SyncTaskProc(void*) + 108
4   ...ple.CoreServices.CarbonCore     0x90b39690 PrivateMPEntryPoint  
+ 76
5   libSystem.B.dylib                  0x9002c3b4 _pthread_body + 96

Thread 0 crashed with PPC Thread State 64:
   srr0: 0x00000000900031e8 srr1:  
0x000000000200f030                        vrsave: 0x0000000000000000
     cr: 0x24044442          xer: 0x0000000000000004   lr:  
0x0000000000004598  ctr: 0x00000000900031e0
     r0: 0x0000000000004598   r1: 0x00000000bfff3c20   r2:  
0x0000000001844a7c   r3: 0x0000000000000000
     r4: 0x00000000909bfb54   r5: 0x0000000000000000   r6:  
0x00000000bfff381c   r7: 0x00000000ffffffff
     r8: 0x00000000bfff3704   r9: 0x0000000000000000  r10:  
0x0000000000000000  r11: 0x000000000003b144
    r12: 0x00000000900031e0  r13: 0x0000000000000000  r14:  
0x000000000586b608  r15: 0x000000000543dc74
    r16: 0x0000000001ed8ea8  r17: 0x0000000001ee1ca0  r18:  
0x0000000001d4b2d8  r19: 0x0000000001cfbe48
    r20: 0x00000000003a222c  r21: 0x00000000003a222c  r22:  
0x00000000003a222c  r23: 0x00000000003a222c
    r24: 0x000000000003b1ec  r25: 0x000000000003b1ec  r26:  
0x000000000003b1ec  r27: 0x0000000000000000
    r28: 0x00000000bfff3d30  r29: 0x000000000039c3d4  r30:  
0x00000000011e69a0  r31: 0x0000000000004568

Binary Images Description:
     0x1000 -    0x3afff org.R-project.R 1.13 (1915)    /Applications/ 
Stats/R.app/Contents/MacOS/R
    0x54000 -    0x86fff libreadline.5.0.dylib     /Library/ 
Frameworks/R.framework/Resources/lib/libreadline.5.0.dylib
    0x9a000 -    0xc5fff libncurses.5.dylib     /usr/lib/libncurses. 
5.dylib
   0x205000 -   0x398fff libR.dylib     /Library/Frameworks/ 
R.framework/Resources/lib/libR.dylib
   0x78d000 -   0x78efff com.ecamm.pluginloader Ecamm Plugin Loader  
v1.0.1 (1.0.1)    /Library/InputManagers/Ecamm/Ecamm Plugin  
Loader.bundle/Contents/MacOS/Ecamm Plugin Loader
0x1008000 -  0x1009fff com.CircusPonies.CPNoteBook ??? (0.6)    / 
Users/dchabot/Library/InputManagers/CPNoteBook/CPNoteBook.bundle/ 
Contents/MacOS/CPNoteBook
0x1526000 -  0x1527fff tools.so     /Library/Frameworks/R.framework/ 
Resources/library/tools/libs/tools.so
0x1679000 -  0x167cfff methods.so     /Library/Frameworks/R.framework/ 
Resources/library/methods/libs/methods.so
0x541f000 -  0x5435fff grDevices.so     /Library/Frameworks/ 
R.framework/Resources/library/grDevices/libs/grDevices.so
0x54e1000 -  0x5524fff stats.so     /Library/Frameworks/R.framework/ 
Resources/library/stats/libs/stats.so
0x5676000 -  0x567cfff com.apple.DictionaryServiceComponent 1.0.0    / 
System/Library/Components/DictionaryService.component/Contents/MacOS/ 
DictionaryService
0x56ed000 -  0x5742fff com.DivXInc.DivXDecoder 6.0.0    /Library/ 
QuickTime/DivX 6 Decoder.component/Contents/MacOS/DivX 6 Decoder
0x8fe00000 - 0x8fe51fff dyld 43.1    /usr/lib/dyld
0x90000000 - 0x901a6fff libSystem.B.dylib     /usr/lib/libSystem.B.dylib
0x901fe000 - 0x90202fff libmathCommon.A.dylib     /usr/lib/system/ 
libmathCommon.A.dylib
0x90204000 - 0x90257fff com.apple.CoreText 1.0.0 (???)    /System/ 
Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/CoreText.framework/Versions/A/CoreText
0x90284000 - 0x90335fff ATS     /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/ 
Versions/A/ATS
0x90364000 - 0x9069dfff com.apple.CoreGraphics 1.256.14 (???)    / 
System/Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics
0x90728000 - 0x90801fff com.apple.CoreFoundation 6.4.3 (368.12)    / 
System/Library/Frameworks/CoreFoundation.framework/Versions/A/ 
CoreFoundation
0x9084a000 - 0x9084afff com.apple.CoreServices 10.4 (???)    /System/ 
Library/Frameworks/CoreServices.framework/Versions/A/CoreServices
0x9084c000 - 0x9094efff libicucore.A.dylib     /usr/lib/ 
libicucore.A.dylib
0x909a8000 - 0x90a2cfff libobjc.A.dylib     /usr/lib/libobjc.A.dylib
0x90a56000 - 0x90acafff com.apple.framework.IOKit 1.4 (???)    / 
System/Library/Frameworks/IOKit.framework/Versions/A/IOKit
0x90ae4000 - 0x90af6fff libauto.dylib     /usr/lib/libauto.dylib
0x90afd000 - 0x90dc2fff com.apple.CoreServices.CarbonCore 10.4.1  
(611.1)    /System/Library/Frameworks/CoreServices.framework/Versions/ 
A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore
0x90e25000 - 0x90ea5fff com.apple.CoreServices.OSServices 4.0  
(4.0.0)    /System/Library/Frameworks/CoreServices.framework/Versions/ 
A/Frameworks/OSServices.framework/Versions/A/OSServices
0x90eef000 - 0x90f2ffff com.apple.CFNetwork 10.4.2 (80)    /System/ 
Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/ 
CFNetwork.framework/Versions/A/CFNetwork
0x90f44000 - 0x90f5cfff com.apple.WebServices 1.1.2 (1.1.0)    / 
System/Library/Frameworks/CoreServices.framework/Versions/A/ 
Frameworks/WebServicesCore.framework/Versions/A/WebServicesCore
0x90f6c000 - 0x90feafff com.apple.SearchKit 1.0.3    /System/Library/ 
Frameworks/CoreServices.framework/Versions/A/Frameworks/ 
SearchKit.framework/Versions/A/SearchKit
0x9102f000 - 0x91056fff com.apple.Metadata 1.1 (121.6)    /System/ 
Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/ 
Metadata.framework/Versions/A/Metadata
0x91066000 - 0x91074fff libz.1.dylib     /usr/lib/libz.1.dylib
0x91077000 - 0x91239fff com.apple.security 4.0.1 (223)    /System/ 
Library/Frameworks/Security.framework/Versions/A/Security
0x9133b000 - 0x91344fff com.apple.DiskArbitration 2.1    /System/ 
Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration
0x9134b000 - 0x91372fff com.apple.SystemConfiguration 1.8.0    / 
System/Library/Frameworks/SystemConfiguration.framework/Versions/A/ 
SystemConfiguration
0x91385000 - 0x9138dfff libbsm.dylib     /usr/lib/libbsm.dylib
0x91391000 - 0x9140ffff com.apple.audio.CoreAudio 3.0.1    /System/ 
Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio
0x9144d000 - 0x9144dfff com.apple.ApplicationServices 10.4 (???)    / 
System/Library/Frameworks/ApplicationServices.framework/Versions/A/ 
ApplicationServices
0x9144f000 - 0x91487fff com.apple.AE 1.5 (297)    /System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
AE.framework/Versions/A/AE
0x914a2000 - 0x9156dfff com.apple.ColorSync 4.4    /System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
ColorSync.framework/Versions/A/ColorSync
0x915c2000 - 0x91655fff com.apple.print.framework.PrintCore 4.0  
(172.1)    /System/Library/Frameworks/ApplicationServices.framework/ 
Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore
0x9169b000 - 0x91758fff com.apple.QD 3.8.16 (???)    /System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
QD.framework/Versions/A/QD
0x91796000 - 0x917f4fff com.apple.HIServices 1.5.0 (???)    /System/ 
Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/HIServices.framework/Versions/A/HIServices
0x91822000 - 0x91845fff com.apple.LangAnalysis 1.6    /System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
LangAnalysis.framework/Versions/A/LangAnalysis
0x91859000 - 0x9187efff com.apple.FindByContent 1.5    /System/ 
Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/FindByContent.framework/Versions/A/FindByContent
0x91891000 - 0x918d2fff com.apple.LaunchServices 10.4.3 (157)    / 
System/Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/LaunchServices.framework/Versions/A/LaunchServices
0x918ed000 - 0x91901fff com.apple.speech.synthesis.framework 3.3    / 
System/Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis
0x9190f000 - 0x91945fff com.apple.ImageIO.framework 1.0.2    /System/ 
Library/Frameworks/ApplicationServices.framework/Versions/A/ 
Frameworks/ImageIO.framework/Versions/A/ImageIO
0x91959000 - 0x91a1ffff libcrypto.0.9.7.dylib     /usr/lib/libcrypto. 
0.9.7.dylib
0x91a6c000 - 0x91a81fff libcups.2.dylib     /usr/lib/libcups.2.dylib
0x91a86000 - 0x91aa2fff libJPEG.dylib     /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libJPEG.dylib
0x91aa7000 - 0x91b16fff libJP2.dylib     /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libJP2.dylib
0x91b2d000 - 0x91b31fff libGIF.dylib     /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libGIF.dylib
0x91b33000 - 0x91b4bfff libRaw.dylib     /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libRaw.dylib
0x91b4e000 - 0x91b91fff libTIFF.dylib     /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libTIFF.dylib
0x91b98000 - 0x91bb1fff libPng.dylib     /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ImageIO.framework/ 
Versions/A/Resources/libPng.dylib
0x91bb6000 - 0x91bb9fff libRadiance.dylib     /System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
ImageIO.framework/Versions/A/Resources/libRadiance.dylib
0x91bbb000 - 0x91bbbfff com.apple.Accelerate 1.1.1 (Accelerate  
1.1.1)    /System/Library/Frameworks/Accelerate.framework/Versions/A/ 
Accelerate
0x91bbd000 - 0x91ca7fff com.apple.vImage 2.0    /System/Library/ 
Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
vImage.framework/Versions/A/vImage
0x91caf000 - 0x91ccefff com.apple.Accelerate.vecLib 3.1.1 (vecLib  
3.1.1)    /System/Library/Frameworks/Accelerate.framework/Versions/A/ 
Frameworks/vecLib.framework/Versions/A/vecLib
0x91d3a000 - 0x91d5afff libmx.A.dylib     /usr/lib/libmx.A.dylib
0x91d60000 - 0x91dc5fff libvMisc.dylib     /System/Library/Frameworks/ 
Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/ 
A/libvMisc.dylib
0x91dcf000 - 0x91e61fff libvDSP.dylib     /System/Library/Frameworks/ 
Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/ 
A/libvDSP.dylib
0x91e7b000 - 0x9240bfff libBLAS.dylib     /System/Library/Frameworks/ 
Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/ 
A/libBLAS.dylib
0x92453000 - 0x92763fff libLAPACK.dylib     /System/Library/ 
Frameworks/Accelerate.framework/Versions/A/Frameworks/ 
vecLib.framework/Versions/A/libLAPACK.dylib
0x92790000 - 0x9281bfff com.apple.DesktopServices 1.3    /System/ 
Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/ 
DesktopServicesPriv
0x9285d000 - 0x92a86fff com.apple.Foundation 6.4.1 (567.12)    / 
System/Library/Frameworks/Foundation.framework/Versions/C/Foundation
0x92ba4000 - 0x92c82fff libxml2.2.dylib     /usr/lib/libxml2.2.dylib
0x92ca2000 - 0x92d90fff libiconv.2.dylib     /usr/lib/libiconv.2.dylib
0x92da2000 - 0x92dc0fff libGL.dylib     /System/Library/Frameworks/ 
OpenGL.framework/Versions/A/Libraries/libGL.dylib
0x92dcb000 - 0x92e25fff libGLU.dylib     /System/Library/Frameworks/ 
OpenGL.framework/Versions/A/Libraries/libGLU.dylib
0x92e43000 - 0x92e43fff com.apple.Carbon 10.4 (???)    /System/ 
Library/Frameworks/Carbon.framework/Versions/A/Carbon
0x92e45000 - 0x92e59fff com.apple.ImageCapture 3.0    /System/Library/ 
Frameworks/Carbon.framework/Versions/A/Frameworks/ 
ImageCapture.framework/Versions/A/ImageCapture
0x92e71000 - 0x92e81fff com.apple.speech.recognition.framework  
3.4    /System/Library/Frameworks/Carbon.framework/Versions/A/ 
Frameworks/SpeechRecognition.framework/Versions/A/SpeechRecognition
0x92e8d000 - 0x92ea2fff com.apple.securityhi 2.0 (203)    /System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
SecurityHI.framework/Versions/A/SecurityHI
0x92eb4000 - 0x92f3bfff com.apple.ink.framework 101.2 (69)    /System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
Ink.framework/Versions/A/Ink
0x92f4f000 - 0x92f5afff com.apple.help 1.0.3 (32)    /System/Library/ 
Frameworks/Carbon.framework/Versions/A/Frameworks/Help.framework/ 
Versions/A/Help
0x92f64000 - 0x92f91fff com.apple.openscripting 1.2.2 (???)    / 
System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
OpenScripting.framework/Versions/A/OpenScripting
0x92fab000 - 0x92fbbfff com.apple.print.framework.Print 4.0 (187)    / 
System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
Print.framework/Versions/A/Print
0x92fc7000 - 0x9302dfff com.apple.htmlrendering 1.1.2    /System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
HTMLRendering.framework/Versions/A/HTMLRendering
0x9305e000 - 0x930b0fff com.apple.NavigationServices 3.4.1 (3.4)    / 
System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
NavigationServices.framework/Versions/A/NavigationServices
0x930dc000 - 0x930f9fff com.apple.audio.SoundManager 3.9    /System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
CarbonSound.framework/Versions/A/CarbonSound
0x9310b000 - 0x93118fff com.apple.CommonPanels 1.2.2 (73)    /System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
CommonPanels.framework/Versions/A/CommonPanels
0x93121000 - 0x93431fff com.apple.HIToolbox 1.4.3 (???)    /System/ 
Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ 
HIToolbox.framework/Versions/A/HIToolbox
0x9357c000 - 0x93588fff com.apple.opengl 1.4.0    /System/Library/ 
Frameworks/OpenGL.framework/Versions/A/OpenGL
0x9361a000 - 0x9361afff com.apple.Cocoa 6.4 (???)    /System/Library/ 
Frameworks/Cocoa.framework/Versions/A/Cocoa
0x9361c000 - 0x93c4dfff com.apple.AppKit 6.4.2 (824.11)    /System/ 
Library/Frameworks/AppKit.framework/Versions/C/AppKit
0x93fd9000 - 0x94043fff com.apple.CoreData 1.0 (46)    /System/ 
Library/Frameworks/CoreData.framework/Versions/A/CoreData
0x9407b000 - 0x94145fff com.apple.audio.toolbox.AudioToolbox  
1.4.1    /System/Library/Frameworks/AudioToolbox.framework/Versions/A/ 
AudioToolbox
0x94199000 - 0x94199fff com.apple.audio.units.AudioUnit 1.4    / 
System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit
0x9419b000 - 0x942fafff com.apple.QuartzCore 1.4.1    /System/Library/ 
Frameworks/QuartzCore.framework/Versions/A/QuartzCore
0x94342000 - 0x9437ffff libsqlite3.0.dylib     /usr/lib/ 
libsqlite3.0.dylib
0x94387000 - 0x943d2fff libGLImage.dylib     /System/Library/ 
Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.dylib
0x94573000 - 0x94582fff libCGATS.A.dylib     /System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
CoreGraphics.framework/Versions/A/Resources/libCGATS.A.dylib
0x9458a000 - 0x94596fff libCSync.A.dylib     /System/Library/ 
Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ 
CoreGraphics.framework/Versions/A/Resources/libCSync.A.dylib
0x945db000 - 0x945effff libRIP.A.dylib     /System/Library/Frameworks/ 
ApplicationServices.framework/Versions/A/Frameworks/ 
CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib
0x945f5000 - 0x9485ffff com.apple.QuickTime 7.0.3    /System/Library/ 
Frameworks/QuickTime.framework/Versions/A/QuickTime
0x958dd000 - 0x95967fff com.apple.WebKit 412.7    /System/Library/ 
Frameworks/WebKit.framework/Versions/A/WebKit
0x959c1000 - 0x95aa3fff com.apple.JavaScriptCore 412.5    /System/ 
Library/Frameworks/WebKit.framework/Versions/A/Frameworks/ 
JavaScriptCore.framework/Versions/A/JavaScriptCore
0x95af7000 - 0x95de9fff com.apple.WebCore 415.13.2    /System/Library/ 
Frameworks/WebKit.framework/Versions/A/Frameworks/WebCore.framework/ 
Versions/A/WebCore
0x95f6c000 - 0x95f95fff libxslt.1.dylib     /usr/lib/libxslt.1.dylib
0x962b7000 - 0x962b9fff com.apple.ExceptionHandling 1.2 (???)    / 
System/Library/Frameworks/ExceptionHandling.framework/Versions/A/ 
ExceptionHandling
0x972a9000 - 0x972c8fff com.apple.vecLib 3.1.1 (vecLib 3.1.1)    / 
System/Library/Frameworks/vecLib.framework/Versions/A/vecLib
0x97a94000 - 0x97aa1fff com.apple.agl 2.5.6 (AGL-2.5.6)    /System/ 
Library/Frameworks/AGL.framework/Versions/A/AGL
0x9947a000 - 0x99d2dfff com.apple.QuickTimeComponents.component  
7.0.3    /System/Library/QuickTime/QuickTimeComponents.component/ 
Contents/MacOS/QuickTimeComponents

Model: PowerBook5,6, BootROM 4.9.1f1, 1 processors, PowerPC G4   
(1.2), 1.67 GHz, 1 GB
Graphics: ATI Mobility Radeon 9700, ATY,RV360M11, AGP, 64 MB
Memory Module: SODIMM0/J25LOWER, 512 MB, DDR SDRAM, PC2700U-25330
Memory Module: SODIMM1/J25UPPER, 512 MB, DDR SDRAM, PC2700U-25330
AirPort: AirPort Extreme, 400.17 (3.90.34.0.p11)
Modem: Jump, , V.92, Version 1.0,
Bluetooth: Version 1.6.0f2, 2 service, 1 devices, 0 incoming serial  
ports
Network Service: Ethernet int?gr?, Ethernet, en0
PCI Card: TXN,PCIXXXX-00, cardbus, PC Card
Parallel ATA Device: MATSHITADVD-R   UJ-835E,
Parallel ATA Device: FUJITSU MHT2080AH, 74.53 GB
USB Device: Bluetooth HCI, , Up to 12 Mb/sec, 500 mA
USB Device: Apple Internal Keyboard/Trackpad, Apple Computer, Up to  
12 Mb/sec, 500 mA
FireWire Device: HDD 2.5" 2 ports, 1394, Up to 400 Mb/sec
FireWire Device: unknown_device, unknown_value, Up to 400 Mb/sec


Sincerely,

Denis


From simon.urbanek at r-project.org  Fri Oct 28 19:29:16 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 28 Oct 2005 19:29:16 +0200
Subject: [R-SIG-Mac] R-app crashes when saving quartz graphics to pdf
In-Reply-To: <3DCBD602-5EFA-405F-9334-667B99011AA4@globetrotter.net>
References: <3DCBD602-5EFA-405F-9334-667B99011AA4@globetrotter.net>
Message-ID: <7441F895-261B-461C-82C6-9228DA8631E0@r-project.org>

Denis,

On Oct 28, 2005, at 4:59 PM, Denis Chabot wrote:

> Hi, today I repeatedly crashed R-app when trying to save a quartz  
> windows. I deleted my org.R-project.R.plist file but it did not help.

Can you send us, please, a reproducible example (i.e. the R code you  
used)? From the crash log it seems that your R code caused an R error  
which in turn bombed the GUI when it was trying to print that error.  
Also, please tell us which locale you used, because it appears it was  
not English (it's highly probable that a localized message caused  
that problem).

Thanks,
Simon


From chabotd at globetrotter.net  Fri Oct 28 19:57:07 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Fri, 28 Oct 2005 13:57:07 -0400
Subject: [R-SIG-Mac] R-app crashes when saving quartz graphics to pdf
In-Reply-To: <7441F895-261B-461C-82C6-9228DA8631E0@r-project.org>
References: <3DCBD602-5EFA-405F-9334-667B99011AA4@globetrotter.net>
	<7441F895-261B-461C-82C6-9228DA8631E0@r-project.org>
Message-ID: <C5DAECD0-6630-4254-8FD7-E8CD116915F6@globetrotter.net>

Hi Simon,
Le 05-10-28 ? 13:29, Simon Urbanek a ?crit :

> Denis,
>
> On Oct 28, 2005, at 4:59 PM, Denis Chabot wrote:
>
>
>> Hi, today I repeatedly crashed R-app when trying to save a quartz  
>> windows. I deleted my org.R-project.R.plist file but it did not help.
>>
>
> Can you send us, please, a reproducible example (i.e. the R code  
> you used)? From the crash log it seems that your R code caused an R  
> error which in turn bombed the GUI when it was trying to print that  
> error. Also, please tell us which locale you used, because it  
> appears it was not English (it's highly probable that a localized  
> message caused that problem).
>
> Thanks,
> Simon

First the locale. I am not very familiar with this. Does this give  
you the information you need?

 > Sys.getlocale()
[1] "fr_CA.UTF-8/fr_CA.UTF-8/fr_CA.UTF-8/C/fr_CA.UTF-8/fr_CA.UTF-8"

I know that R speaks to me in French at the beginning of a session:
R : Copyright 2005, The R Foundation for Statistical Computing
Version 2.2.0  (2005-10-06 r35749)
ISBN 3-900051-07-0

R est un logiciel libre livr? sans AUCUNE GARANTIE.
Vous pouvez le redistribuer sous certaines conditions.
Tapez 'license()' ou 'licence()' pour plus de d?tails.

R est un projet collaboratif avec de nombreux contributeurs.
Tapez 'contributors()' pour plus d'information et
'citation()' pour la fa?on de le citer dans les publications.

Tapez 'demo()' pour des d?monstrations, 'help()' pour l'aide
en ligne ou 'help.start()' pour obtenir l'aide au format HTML.
Tapez 'q()' pour quitter R.

[Previously saved workspace restored]

I am able to reproduce the problem with this program:
dumx <- c(0,7)
dumy <- c(-20, 180)
ing_neg1.5 <- c(3.5319, 11.725)
ing_0 <- c(3.0845, 26.101)
ing_1.5 <- c(-2.4271, 31.5245)
ing_3 <- c(9.1099, 17.4665)

plot(dumy~dumx, type="n", xlab="masse", ylab="ingestion J/j")
abline(ing_neg1.5, col="black")
abline(ing_0, col="blue")
abline(ing_1.5, col="green")
abline(ing_3, col="red")
legend(0,160, c("-1.5", "0", "1.5", "3"), lty=c(1,1,1,1), col=c 
("black", "blue", "green", "red"))

but, and it is a big but because I think I've put my finger on the  
problem, R crashes only if, in the "save" dialog box, I navigate to  
this folder:

"~/Documents/Crabe/Bilan ?nerg?tique (Kirsten)/Article", although the  
file name I use after this does not matter.

Hence R (the save dialog anyway) does not like this pathname, I don't  
know if it is the accent, the brackets, or else. But saving to my  
desktop does not crash R.

Funny thing about this pathname business is that if use the pdf  
device and save directly in the folder indicated by this pathname, R  
does not crash and the plot gets saved.

Sincerely,

Denis


From simon.urbanek at r-project.org  Fri Oct 28 22:10:21 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Fri, 28 Oct 2005 22:10:21 +0200
Subject: [R-SIG-Mac] R-app crashes when saving quartz graphics to pdf
In-Reply-To: <C5DAECD0-6630-4254-8FD7-E8CD116915F6@globetrotter.net>
References: <3DCBD602-5EFA-405F-9334-667B99011AA4@globetrotter.net>
	<7441F895-261B-461C-82C6-9228DA8631E0@r-project.org>
	<C5DAECD0-6630-4254-8FD7-E8CD116915F6@globetrotter.net>
Message-ID: <09F548D3-7813-4D0B-8F53-489D529088A8@r-project.org>

Thanks, Denis,

On Oct 28, 2005, at 7:57 PM, Denis Chabot wrote:


> but, and it is a big but because I think I've put my finger on the  
> problem, R crashes only if, in the "save" dialog box, I navigate to  
> this folder:
>
> "~/Documents/Crabe/Bilan ?nerg?tique (Kirsten)/Article", although  
> the file name I use after this does not matter.
>

it was indeed an encoding bug which is now fixed (R-GUI revision  
1948). In fact the encoding bug triggered another (unusual) bug in  
WriteConsole callback (which caused the crash) when R was trying to  
tell you that it cannot create the file.

Thanks,
Simon


From chabotd at globetrotter.net  Fri Oct 28 22:15:58 2005
From: chabotd at globetrotter.net (Denis Chabot)
Date: Fri, 28 Oct 2005 16:15:58 -0400
Subject: [R-SIG-Mac] R-app crashes when saving quartz graphics to pdf
In-Reply-To: <09F548D3-7813-4D0B-8F53-489D529088A8@r-project.org>
References: <3DCBD602-5EFA-405F-9334-667B99011AA4@globetrotter.net>
	<7441F895-261B-461C-82C6-9228DA8631E0@r-project.org>
	<C5DAECD0-6630-4254-8FD7-E8CD116915F6@globetrotter.net>
	<09F548D3-7813-4D0B-8F53-489D529088A8@r-project.org>
Message-ID: <FD64EC23-F2D2-461A-BD3F-5DD06A28317F@globetrotter.net>

This is what I call EXCELLENT service!

Thanks,

Denis
Le 05-10-28 ? 16:10, Simon Urbanek a ?crit :

> Thanks, Denis,
>
> On Oct 28, 2005, at 7:57 PM, Denis Chabot wrote:
>
>
>
>> but, and it is a big but because I think I've put my finger on the  
>> problem, R crashes only if, in the "save" dialog box, I navigate  
>> to this folder:
>>
>> "~/Documents/Crabe/Bilan ?nerg?tique (Kirsten)/Article", although  
>> the file name I use after this does not matter.
>>
>>
>
> it was indeed an encoding bug which is now fixed (R-GUI revision  
> 1948). In fact the encoding bug triggered another (unusual) bug in  
> WriteConsole callback (which caused the crash) when R was trying to  
> tell you that it cannot create the file.
>
> Thanks,
> Simon
>
>
>


From david.airey at vanderbilt.edu  Sat Oct 29 04:56:50 2005
From: david.airey at vanderbilt.edu (David Airey)
Date: Fri, 28 Oct 2005 21:56:50 -0500
Subject: [R-SIG-Mac] installing packages message
Message-ID: <30B9709B-80E9-4FDE-A8A8-D3B0AA61FBC1@vanderbilt.edu>

I have installed version 2.2.0 or R and I am getting a message when  
trying to install packages I've not seen before. Can anyone explain  
this?

"Currently it is not possible to install binary packages from a  
remote repository as root.
Please use the CRAN binary of R to allow admin users to install  
system-wide packages without becoming root. Alternatively you can  
either use command-line version of R as root or install the packages  
from local files."

Hmmm...I was about to send this and I tried again. After some delay  
and console errors, I got a request for my user password. I typed  
this in and got a desired response. Subsequent package installations  
did not require a password.

All this was with installing packages to the system R framework  
rather that user folder.

-Dave


From fparlamis at mac.com  Sat Oct 29 05:11:22 2005
From: fparlamis at mac.com (Parlamis Franklin)
Date: Fri, 28 Oct 2005 17:11:22 -1000
Subject: [R-SIG-Mac] RMySQL problem
In-Reply-To: <445EB678-77FB-4CDE-AB28-39CCFE6604BD@r-project.org>
References: <67348456-C7AA-4D63-9499-09137FA2FF85@mac.com>
	<A20AAB7B-CE03-4DD8-A0EE-A28A0BFCCBF2@r-project.org>
	<D60354BA-3CBA-4289-A69C-90199BA57E32@mac.com>
	<445EB678-77FB-4CDE-AB28-39CCFE6604BD@r-project.org>
Message-ID: <7300040C-C5FC-4CF2-885E-0687FEA88827@mac.com>


>
> Did you test the library *after* running ranlib and *before*  
> reinstalling? That was the crucial point.
>

Yes, I did.  I should have been more clear.  It still did not work,  
so then I tried the re-install.

I guess the only thing to do now is install MySQL from sources.  I  
will do so with gcc 3.3 set as default, as another user suggested,  
let you know if it works.


From simon.urbanek at r-project.org  Sat Oct 29 11:42:49 2005
From: simon.urbanek at r-project.org (Simon Urbanek)
Date: Sat, 29 Oct 2005 11:42:49 +0200
Subject: [R-SIG-Mac] installing packages message
In-Reply-To: <30B9709B-80E9-4FDE-A8A8-D3B0AA61FBC1@vanderbilt.edu>
References: <30B9709B-80E9-4FDE-A8A8-D3B0AA61FBC1@vanderbilt.edu>
Message-ID: <16971FD8-6B57-4E3B-A4B9-0497D359A663@r-project.org>

David,

On Oct 29, 2005, at 4:56 AM, David Airey wrote:


> I have installed version 2.2.0 or R and I am getting a message when  
> trying to install packages I've not seen before. Can anyone explain  
> this?
>

This message is present for quite a while now, because it was not  
possible to install binary packages as root due to permission issues  
during the installation process. What the message tells you are two  
things:
1) you should be admin in order to install system-wide packages
2) the CRAN binary of R has the rights set up in such a way that  
admin users can install system-wide packages. If you compile R from  
sources, it's not the case.

Installing packages as root should not be necessary unless you  
compiled your own R and didn't run chmod g+w as recommended. There  
are a few issues with installing binary packages as root (such  
packages can only be updated as root and depending on the packaging  
may have unwanted permissions), but it's possible when done manually.  
Nevertheless the installation process has been changed in R 2.2.0 so  
maybe we should re-evaluate the impact.

Thanks,
Simon


From tim.cole at ich.ucl.ac.uk  Mon Oct 31 13:56:51 2005
From: tim.cole at ich.ucl.ac.uk (Tim Cole)
Date: Mon, 31 Oct 2005 12:56:51 +0000
Subject: [R-SIG-Mac] Buglets in 2.2
Message-ID: <p06230914bf8bbfe79a93@[192.168.0.116]>

Dear All,

Three comments on R 2.2.

The package tools:RGUI includes a script called 
"avaliable packages" which looks to be spelt 
wrongly.

If I do an extended search the results window has 
a garbled title. For example searching for 'bug' 
gives a window called
Help topics matching ,??bug,??

It would be nice when setting the working 
directory to be able to double-click the folder 
name to select it, as with file names in the file 
open dialog.

Best wishes,
Tim Cole

Version:
  platform = powerpc-apple-darwin7.9.0
  arch = powerpc
  os = darwin7.9.0
  system = powerpc, darwin7.9.0
  status =
  major = 2
  minor = 2.0
  year = 2005
  month = 10
  day = 06
  svn rev = 35749
  language = R

GUI:
  R-GUI 1.13 (1915)
-- 
Tim.Cole at ich.ucl.ac.uk   Phone +44(0)20 7905 2666  Fax +44(0)20 7905 2381
Paed Epidemiology & Biostats, Institute of Child Health, London WC1N 1EH, UK


From bolker at zoo.ufl.edu  Mon Oct 31 14:33:03 2005
From: bolker at zoo.ufl.edu (Ben Bolker)
Date: Mon, 31 Oct 2005 08:33:03 -0500 (EST)
Subject: [R-SIG-Mac] help with building a binary package?
In-Reply-To: <p06230914bf8bbfe79a93@[192.168.0.116]>
References: <p06230914bf8bbfe79a93@[192.168.0.116]>
Message-ID: <Pine.LNX.4.63.0510310831470.19963@bolker.zoo.ufl.edu>


    I have a package with some C code that I'd like to build a binary of 
(for a user who is far away and I don't want to put through the trauma of 
getting all the compilation tools etc. etc. etc. set up).
    Can anyone help out if I send them a source .tar.gz file?

   thanks very much
    Ben Bolker

-- 
620B Bartram Hall                            bolker at zoo.ufl.edu
Zoology Department, University of Florida    http://www.zoo.ufl.edu/bolker
Box 118525                                   (ph)  352-392-5697
Gainesville, FL 32611-8525                   (fax) 352-392-3704


